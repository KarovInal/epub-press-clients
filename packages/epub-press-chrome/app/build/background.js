!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){n(1),t.exports=n(2)},function(t,e){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return v.iterable&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function s(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function a(t){var e=new FileReader;return e.readAsArrayBuffer(t),s(e)}function u(t){var e=new FileReader;return e.readAsText(t),s(e)}function c(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(v.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(v.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(t){if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob?(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(a)},this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var t=o(this);return t?t:Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(t){var e=t.toUpperCase();return _.indexOf(e)>-1?e:t}function f(t,e){e=e||{};var n=e.body;if(f.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,n||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=l(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function h(t){var e=new i,n=(t.getAllResponseHeaders()||"").trim().split("\n");return n.forEach(function(t){var n=t.trim().split(":"),r=n.shift().trim(),i=n.join(":").trim();e.append(r,i)}),e}function d(t,e){e||(e={}),this.type="default",this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof i?e.headers:new i(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var v={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};i.prototype.append=function(t,r){t=e(t),r=n(r);var i=this.map[t];i||(i=[],this.map[t]=i),i.push(r)},i.prototype["delete"]=function(t){delete this.map[e(t)]},i.prototype.get=function(t){var n=this.map[e(t)];return n?n[0]:null},i.prototype.getAll=function(t){return this.map[e(t)]||[]},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,r){this.map[e(t)]=[n(r)]},i.prototype.forEach=function(t,e){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){t.call(e,r,n,this)},this)},this)},i.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},i.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},i.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this)},c.call(f.prototype),c.call(d.prototype),d.prototype.clone=function(){return new d(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},d.error=function(){var t=new d(null,{status:0,statusText:""});return t.type="error",t};var y=[301,302,303,307,308];d.redirect=function(t,e){if(y.indexOf(e)===-1)throw new RangeError("Invalid status code");return new d(null,{status:e,headers:{location:t}})},t.Headers=i,t.Request=f,t.Response=d,t.fetch=function(t,e){return new Promise(function(n,r){function i(){return"responseURL"in s?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):void 0}var o;o=f.prototype.isPrototypeOf(t)&&!e?t:new f(t,e);var s=new XMLHttpRequest;s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:h(s),url:i()},e="response"in s?s.response:s.responseText;n(new d(e,t))},s.onerror=function(){r(new TypeError("Network request failed"))},s.ontimeout=function(){r(new TypeError("Network request failed"))},s.open(o.method,o.url,!0),"include"===o.credentials&&(s.withCredentials=!0),"responseType"in s&&v.blob&&(s.responseType="blob"),o.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),s.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=n(3),o=r(i),s=n(6),a=r(s),u=n(42),c=r(u),l=n(46),f=r(l);f["default"].getManifest();f["default"].onForegroundMessage(function(t){"download"===t.action&&(f["default"].setLocalStorage({downloadState:!0,publishStatus:"{}"}),f["default"].getLocalStorage(["email","filetype"]).then(function(e){var n=new c["default"]((0,a["default"])({},t.book));n.on("statusUpdate",function(t){f["default"].setLocalStorage({publishStatus:(0,o["default"])(t)}),f["default"].sendMessage(null,{action:"publish",progress:t.progress,message:t.message})}),n.publish().then(function(){var t=e.email&&e.email.trim(),r=e.filetype;return t?n.email(t,r):n.download(r)}).then(function(){f["default"].setLocalStorage({downloadState:!1,publishStatus:"{}"}),f["default"].sendMessage(null,{action:"download",status:"complete"})})["catch"](function(t){f["default"].setLocalStorage({downloadState:!1,publishStatus:"{}"}),f["default"].sendMessage(null,{action:"download",status:"failed",error:t.message})})}))})},function(t,e,n){t.exports={"default":n(4),__esModule:!0}},function(t,e,n){var r=n(5),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){t.exports={"default":n(7),__esModule:!0}},function(t,e,n){n(8),t.exports=n(5).Object.assign},function(t,e,n){var r=n(9);r(r.S+r.F,"Object",{assign:n(23)})},function(t,e,n){var r=n(10),i=n(5),o=n(11),s=n(13),a="prototype",u=function(t,e,n){var c,l,f,p=t&u.F,h=t&u.G,d=t&u.S,v=t&u.P,_=t&u.B,y=t&u.W,m=h?i:i[e]||(i[e]={}),g=m[a],b=h?r:d?r[e]:(r[e]||{})[a];h&&(n=e);for(c in n)l=!p&&b&&void 0!==b[c],l&&c in m||(f=l?b[c]:n[c],m[c]=h&&"function"!=typeof b[c]?n[c]:_&&l?o(f,r):y&&b[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[a]=t[a],e}(f):v&&"function"==typeof f?o(Function.call,f):f,v&&((m.virtual||(m.virtual={}))[c]=f,t&u.R&&g&&!g[c]&&s(g,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(12);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(14),i=n(22);t.exports=n(18)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(15),i=n(17),o=n(21),s=Object.defineProperty;e.f=n(18)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(16);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(18)&&!n(19)(function(){return 7!=Object.defineProperty(n(20)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(19)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var r=n(16),i=n(10).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(16);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var r=n(24),i=n(39),o=n(40),s=n(41),a=n(28),u=Object.assign;t.exports=!u||n(19)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=s(t),u=arguments.length,c=1,l=i.f,f=o.f;u>c;)for(var p,h=a(arguments[c++]),d=l?r(h).concat(l(h)):r(h),v=d.length,_=0;v>_;)f.call(h,p=d[_++])&&(n[p]=h[p]);return n}:u},function(t,e,n){var r=n(25),i=n(38);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(26),i=n(27),o=n(31)(!1),s=n(35)("IE_PROTO");t.exports=function(t,e){var n,a=i(t),u=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(28),i=n(30);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(29);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(27),i=n(32),o=n(34);t.exports=function(t){return function(e,n,s){var a,u=r(e),c=i(u.length),l=o(s,c);if(t&&n!=n){for(;c>l;)if(a=u[l++],a!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(33),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(33),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(36)("keys"),i=n(37);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(10),i="__core-js_shared__",o=r[i]||(r[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(30);t.exports=function(t){return Object(r(t))}},function(t,e,n){(function(e){!function(e,r){t.exports=r(n(44),n(45))}(this,function(t,e){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){n(1),t.exports=n(2)},function(e,n){e.exports=t},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){return"undefined"!=typeof window}function o(){if(j.DEBUG){var t;(t=console).log.apply(t,arguments)}}function s(t){if(!t.getId())throw new Error("Book has no id. Have you published?")}function a(t,e){if(i()){var r=void 0;r="function"==typeof File?new File([e],t):new Blob([e],{type:"application/octet-stream"}),(0,E.saveAs)(r,t)}else{var o=n(54);o.writeFileSync(t,e)}}function u(t){var e={title:t.title,description:t.description};return t.sections?e.sections=t.sections:e.urls=t.urls.slice(),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:(0,w["default"])(e)}}function c(t){return new C["default"](function(e,n){var r=function i(r){t.checkStatus().then(function(o){t.emit("statusUpdate",o),Number(o.progress)>=100?e(t):r>=j.CHECK_STATUS_LIMIT?n(new Error(j.ERROR_CODES[503])):setTimeout(i,j.POLL_RATE,r+1)})["catch"](n)};r(1)})}function l(t){var e=j.ERROR_CODES[t.status];if(t.status>=200&&t.status<300)return t;if(t.body)return t.json().then(function(t){var n=t.errors&&t.errors.length>0,r=n?t.errors[0].detail:e;return C["default"].reject(new Error(r))});var n=new Error(e);return C["default"].reject(n)}function f(t){var e=j.ERROR_CODES[t.message]||j.ERROR_CODES[t.name];return e?new Error(e):t}function p(t,e){var n=Number(e.minCompatible.replace(".","")),r=Number(t.replace(".",""));return n>r?e.message:null}function h(t){var e=["email","filetype"].map(function(e){return t[e]?e+"="+encodeURIComponent(t[e]):""}).filter(function(t){return t}).join("&");return e?"?"+e:""}var d=n(3),v=r(d),_=n(40),y=r(_),m=n(41),g=r(m),b=n(45),w=r(b),x=n(47),C=r(x),E=n(50),k=n(53),T=r(k),j=function(){function t(e){(0,y["default"])(this,t);var n=Date().slice(0,Date().match(/\d{4}/).index+4),r={title:"EpubPress - "+n,description:void 0,sections:void 0,urls:void 0,filetype:"epub"};this.bookData=(0,v["default"])({},r,e),this.events={}}return(0,g["default"])(t,null,[{key:"checkForUpdates",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"epub-press-js":arguments[0],n=arguments.length<=1||void 0===arguments[1]?t.getVersion():arguments[1];return new C["default"](function(r,i){fetch(t.getVersionUrl()).then(l).then(function(t){return t.json()}).then(function(t){var o=t.clients[e];o?r(p(n,o)):i(new Error("Version data for "+e+" not found."))})["catch"](function(t){var e=f(t);o("Version check failed",e),i(e)})})}},{key:"getPublishUrl",value:function(){return this.prototype.getPublishUrl()}},{key:"getVersionUrl",value:function(){return t.BASE_API+"/version"}},{key:"getVersion",value:function(){return t.VERSION}}]),(0,g["default"])(t,[{key:"on",value:function(t,e){return this.events[t]||(this.events[t]=[]),this.events[t].push(e),e}},{key:"emit",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];this.events[t]&&this.events[t].forEach(function(t){t.apply(void 0,n)})}},{key:"removeListener",value:function(t,e){if(this.events[t]){var n=this.events[t].indexOf(e);n>=0&&this.events[t].splice(n,1)}}},{key:"getUrls",value:function(){var t=[],e=this.bookData,n=e.urls,r=e.sections;return n?t=n.slice():r&&(t=r.map(function(t){return t.url})),t}},{key:"getFiletype",value:function(t){var e=t||this.bookData.filetype;return e?["mobi","epub"].find(function(t){return e.toLowerCase()===t})||"epub":"epub"}},{key:"getEmail",value:function(){return this.bookData.email}},{key:"getTitle",value:function(){return this.bookData.title}},{key:"getDescription",value:function(){return this.bookData.description}},{key:"getId",value:function(){return this.bookData.id}},{key:"getStatusUrl",value:function(){return t.getPublishUrl()+"/"+this.getId()+"/status"}},{key:"getPublishUrl",value:function(){return t.BASE_API+"/books"}},{key:"getDownloadUrl",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.getFiletype():arguments[0],e=h({filetype:t});return this.getPublishUrl()+"/"+this.getId()+"/download"+e}},{key:"getEmailUrl",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.getEmail():arguments[0],e=arguments.length<=1||void 0===arguments[1]?this.getFiletype():arguments[1],n=h({email:t,filetype:e});return this.getPublishUrl()+"/"+this.getId()+"/email"+n}},{key:"checkStatus",value:function(){var t=this;return new C["default"](function(e,n){fetch(t.getStatusUrl()).then(l).then(function(t){return t.json()}).then(function(t){e(t)})["catch"](function(t){var e=f(t);n(e)})})}},{key:"publish",value:function(){var t=this;return this.isPublishing?C["default"].reject(new Error("Publishing in progress")):this.getId()?C["default"].resolve(this.getId()):(this.isPublishing=!0,new C["default"](function(e,n){fetch(t.getPublishUrl(),u(t.bookData)).then(l).then(function(t){return t.json()}).then(function(n){var r=n.id;return t.bookData.id=r,c(t).then(function(){e(r)})})["catch"](function(e){t.isPublishing=!1;var r=f(e);o("EbupPress: Publish failed",r),n(r)})}))}},{key:"download",value:function(t){var e=this;return new C["default"](function(n,r){s(e),fetch(e.getDownloadUrl(t)).then(l).then(function(t){return t.blob?t.blob():t.buffer()}).then(function(r){var i=e.getTitle()+"."+(t||e.getFiletype());a(i,r),n()})["catch"](function(t){var e=f(t);o("EpubPress: Download failed",e),r(e)})})}},{key:"email",value:function(t,e){var n=this;return new C["default"](function(r,i){return t?(s(n),fetch(n.getEmailUrl(t,e)).then(l).then(function(){o("EpubPress: Book delivered."),r()})["catch"](function(t){var e=f(t);o("EpubPress: Email delivery failed."),i(e)})):i(new Error("EpubPress: No email provided."))})}}]),t}();j.BASE_URL=T["default"].baseUrl,j.BASE_API=j.BASE_URL+"/api/v1",j.VERSION=T["default"].version,j.POLL_RATE=3e3,j.CHECK_STATUS_LIMIT=40,j.ERROR_CODES={0:"Server is down. Please try again later.","Failed to fetch":"Server is down. Please try again later.",FetchError:"Server is down. Please try again later.",400:"There was a problem with the request. Is EpubPress up to date?",404:"Resource not found.",422:"Request contained invalid data.",500:"Unexpected server error.",503:"Server took too long to respond.",timeout:"Request took too long to complete.",error:void 0,SERVER_FAILED:"Server error while downloading.",SERVER_BAD_CONTENT:"Book could not be found"},t.exports=j},function(t,e,n){t.exports={"default":n(4),__esModule:!0}},function(t,e,n){n(5),t.exports=n(8).Object.assign},function(t,e,n){var r=n(6);r(r.S+r.F,"Object",{assign:n(21)})},function(t,e,n){var r=n(7),i=n(8),o=n(9),s=n(11),a="prototype",u=function(t,e,n){var c,l,f,p=t&u.F,h=t&u.G,d=t&u.S,v=t&u.P,_=t&u.B,y=t&u.W,m=h?i:i[e]||(i[e]={}),g=m[a],b=h?r:d?r[e]:(r[e]||{})[a];h&&(n=e);for(c in n)l=!p&&b&&void 0!==b[c],l&&c in m||(f=l?b[c]:n[c],m[c]=h&&"function"!=typeof b[c]?n[c]:_&&l?o(f,r):y&&b[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[a]=t[a],e}(f):v&&"function"==typeof f?o(Function.call,f):f,v&&((m.virtual||(m.virtual={}))[c]=f,t&u.R&&g&&!g[c]&&s(g,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(10);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(12),i=n(20);t.exports=n(16)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(13),i=n(15),o=n(19),s=Object.defineProperty;e.f=n(16)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(14);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(16)&&!n(17)(function(){return 7!=Object.defineProperty(n(18)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(17)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var r=n(14),i=n(7).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(14);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var r=n(22),i=n(37),o=n(38),s=n(39),a=n(26),u=Object.assign;t.exports=!u||n(17)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=s(t),u=arguments.length,c=1,l=i.f,f=o.f;u>c;)for(var p,h=a(arguments[c++]),d=l?r(h).concat(l(h)):r(h),v=d.length,_=0;v>_;)f.call(h,p=d[_++])&&(n[p]=h[p]);return n}:u},function(t,e,n){var r=n(23),i=n(36);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(24),i=n(25),o=n(29)(!1),s=n(33)("IE_PROTO");t.exports=function(t,e){var n,a=i(t),u=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(26),i=n(28);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(27);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(25),i=n(30),o=n(32);t.exports=function(t){return function(e,n,s){var a,u=r(e),c=i(u.length),l=o(s,c);if(t&&n!=n){for(;c>l;)if(a=u[l++],a!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(31),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(31),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),0>t?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(34)("keys"),i=n(35);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(7),i="__core-js_shared__",o=r[i]||(r[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(28);t.exports=function(t){return Object(r(t))}},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(42),o=r(i);e["default"]=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o["default"])(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){t.exports={"default":n(43),__esModule:!0}},function(t,e,n){n(44);var r=n(8).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(6);r(r.S+r.F*!n(16),"Object",{defineProperty:n(12).f})},function(t,e,n){t.exports={"default":n(46),__esModule:!0}},function(t,e,n){var r=n(8),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e,n){(function(e,n,r){/* @preserve
		 * The MIT License (MIT)
		 * 
		 * Copyright (c) 2013-2015 Petka Antonov
		 * 
		 * Permission is hereby granted, free of charge, to any person obtaining a copy
		 * of this software and associated documentation files (the "Software"), to deal
		 * in the Software without restriction, including without limitation the rights
		 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
		 * copies of the Software, and to permit persons to whom the Software is
		 * furnished to do so, subject to the following conditions:
		 * 
		 * The above copyright notice and this permission notice shall be included in
		 * all copies or substantial portions of the Software.
		 * 
		 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
		 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
		 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
		 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
		 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
		 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
		 * THE SOFTWARE.
		 * 
		 */
!function(e){t.exports=e()}(function(){return function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof _dereq_&&_dereq_;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return i(n?n:t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof _dereq_&&_dereq_,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){"use strict";e.exports=function(t){function e(t){var e=new n(t),r=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),r}var n=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(t,n,r){"use strict";function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new f(16),this._normalQueue=new f(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=l}function o(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function s(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function a(t){this._normalQueue._pushOne(t),this._queueTick()}var u;try{throw new Error}catch(c){u=c}var l=t("./schedule"),f=t("./queue"),p=t("./util");i.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){p.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},i.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(n){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},p.hasDevTools?(i.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?o.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},i.prototype.invoke=function(t,e,n){this._trampolineEnabled?s.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},i.prototype.settlePromises=function(t){this._trampolineEnabled?a.call(this,t):this._schedule(function(){t._settlePromises()})}):(i.prototype.invokeLater=o,i.prototype.invoke=s,i.prototype.settlePromises=a),i.prototype.invokeFirst=function(t,e,n){this._normalQueue.unshift(t,e,n),this._queueTick()},i.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),r=t.shift();e.call(n,r)}else e._settlePromises()}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},n.exports=i,n.exports.firstLineError=u},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},s=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},a=function(t,e){0===(50397184&this._bitField)&&this._resolveCallback(e.target)},u=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var c=n(o),l=new t(e);l._propagateFrom(this,1);var f=this._target();if(l._setBoundTo(c),c instanceof t){var p={promiseRejectionQueued:!1,promise:l,target:f,bindingPromise:c};f._then(e,s,void 0,l,p),c._then(a,u,void 0,l,p),l._setOnCancel(c)}else l._resolveCallback(f);return l},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e,n){"use strict";function r(){try{Promise===o&&(Promise=i)}catch(t){}return o}var i;"undefined"!=typeof Promise&&(i=Promise);var o=t("./promise")();o.noConflict=r,e.exports=o},{"./promise":22}],5:[function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}e.exports=function(e){function n(t,n){var r;if(null!=t&&(r=t[n]),"function"!=typeof r){var i="Object "+a.classString(t)+" has no method '"+a.toString(n)+"'";throw new e.TypeError(i)}return r}function r(t){var e=this.pop(),r=n(t,e);return r.apply(t,this)}function i(t){return t[this]}function o(t){var e=+this;return 0>e&&(e=Math.max(0,e+t.length)),t[e]}var s,a=t("./util"),u=a.canEvaluate;a.isIdentifier,e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(r,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e,n="number"==typeof t;if(n)e=o;else if(u){var r=s(t);e=null!==r?r:i}else e=i;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),s=o.tryCatch,a=o.errorObj,u=e._async;e.prototype["break"]=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=s(t).call(this._boundValue());r===a&&(this._attachExtraTrace(r.e),u.throwLater(r.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(e){function n(t,n,a){return function(u){var c=a._boundValue();t:for(var l=0;l<t.length;++l){var f=t[l];if(f===Error||null!=f&&f.prototype instanceof Error){if(u instanceof f)return o(n).call(c,u)}else if("function"==typeof f){var p=o(f).call(c,u);if(p===s)return p;if(p)return o(n).call(c,u)}else if(r.isObject(u)){for(var h=i(f),d=0;d<h.length;++d){var v=h[d];if(f[v]!=u[v])continue t}return o(n).call(c,u)}}return e}}var r=t("./util"),i=t("./es5").keys,o=r.tryCatch,s=r.errorObj;return n}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(t){function e(){this._trace=new e.CapturedTrace(r())}function n(){return i?new e:void 0}function r(){var t=o.length-1;return t>=0?o[t]:void 0}var i=!1,o=[];return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},e.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},e.prototype._popContext=function(){if(void 0!==this._trace){var t=o.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},e.CapturedTrace=null,e.create=n,e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var n=t.prototype._pushContext,o=t.prototype._popContext,s=t._peekContext,a=t.prototype._peekContext,u=t.prototype._promiseCreated;e.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=o,t._peekContext=s,t.prototype._peekContext=a,t.prototype._promiseCreated=u,i=!1},i=!0,t.prototype._pushContext=e.prototype._pushContext,t.prototype._popContext=e.prototype._popContext,t._peekContext=t.prototype._peekContext=r,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},e}},{}],9:[function(t,n,r){"use strict";n.exports=function(n,r){function i(t,e){return{promise:e}}function o(){return!1}function s(t,e,n){var r=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+M.toString(t));r._attachCancellationCallback(t)})}catch(i){return i}}function a(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?M.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function u(){return this._onCancelField}function c(t){this._onCancelField=t}function l(){this._cancellationParent=void 0,this._onCancelField=void 0}function f(t,e){if(0!==(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function p(t,e){0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function h(){var t=this._boundTo;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function d(){this._trace=new R(this._peekContext())}function v(t,e){if(B(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=E(t);M.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),M.notEnumerableProp(t,"__stackCleaned__",!0)}}}function _(t,e,n,r,i){if(void 0===t&&null!==e&&J){if(void 0!==i&&i._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var o="",s="";if(e._trace){for(var a=e._trace.stack.split("\n"),u=x(a),c=u.length-1;c>=0;--c){var l=u[c];if(!U.test(l)){var f=l.match(V);f&&(o="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(u.length>0)for(var p=u[0],c=0;c<a.length;++c)if(a[c]===p){c>0&&(s="\n"+a[c-1]);break}}var h="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+s;r._warn(h,!0,e)}}function y(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),m(n)}function m(t,e,r){if(st.warnings){var i,o=new H(t);if(e)r._attachExtraTrace(o);else if(st.longStackTraces&&(i=n._peekContext()))i.attachExtraTrace(o);else{var s=E(o);o.stack=s.message+"\n"+s.stack.join("\n")}et("warning",o)||k(o,"",!0)}}function g(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function b(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function w(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],s=-1,a=r.length-1;a>=0;--a)if(r[a]===o){s=a;break}for(var a=s;a>=0;--a){var u=r[a];if(e[i]!==u)break;e.pop(),i--}e=r}}function x(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||$.test(r),o=i&&rt(r);i&&!o&&(Q&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function C(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||$.test(r))break}return n>0&&(e=e.slice(n)),e}function E(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?C(t):["    (No stack trace)"],{message:n,stack:x(e)}}function k(t,e,n){if("undefined"!=typeof console){var r;if(M.isObject(t)){var i=t.stack;r=e+W(i,t)}else r=e+String(t);"function"==typeof N?N(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function T(t,e,n,r){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(o){I.throwLater(o)}"unhandledRejection"===t?et(t,n,r)||i||k(n,"Unhandled rejection "):et(t,r)}function j(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"==typeof t.toString?t.toString():M.toString(t);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(e))try{var r=JSON.stringify(t);e=r}catch(i){}0===e.length&&(e="(empty array)")}return"(<"+F(e)+">, no stack trace)"}function F(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function S(){return"function"==typeof ot}function P(t){var e=t.match(it);return e?{fileName:e[1],line:parseInt(e[2],10)}:void 0}function O(t,e){if(S()){for(var n,r,i=t.stack.split("\n"),o=e.stack.split("\n"),s=-1,a=-1,u=0;u<i.length;++u){var c=P(i[u]);if(c){n=c.fileName,s=c.line;break}}for(var u=0;u<o.length;++u){var c=P(o[u]);if(c){r=c.fileName,a=c.line;break}}0>s||0>a||!n||!r||n!==r||s>=a||(rt=function(t){if(q.test(t))return!0;var e=P(t);return!!(e&&e.fileName===n&&s<=e.line&&e.line<=a)})}}function R(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);ot(this,R),e>32&&this.uncycle()}var A,D,N,L=n._getDomain,I=n._async,H=t("./errors").Warning,M=t("./util"),B=M.canAttachTrace,q=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,U=/\((?:timers\.js):\d+:\d+\)/,V=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,$=null,W=null,Q=!1,z=!(0==M.env("BLUEBIRD_DEBUG")),X=!(0==M.env("BLUEBIRD_WARNINGS")||!z&&!M.env("BLUEBIRD_WARNINGS")),G=!(0==M.env("BLUEBIRD_LONG_STACK_TRACES")||!z&&!M.env("BLUEBIRD_LONG_STACK_TRACES")),J=0!=M.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(X||!!M.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},n.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),I.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){T("rejectionHandled",A,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),T("unhandledRejection",D,t,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(t,e,n){return m(t,e,n||this)},n.onPossiblyUnhandledRejection=function(t){var e=L();D="function"==typeof t?null===e?t:M.domainBind(e,t):void 0},n.onUnhandledRejectionHandled=function(t){var e=L();A="function"==typeof t?null===e?t:M.domainBind(e,t):void 0};var K=function(){};n.longStackTraces=function(){if(I.haveItemsQueued()&&!st.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!st.longStackTraces&&S()){var t=n.prototype._captureStackTrace,e=n.prototype._attachExtraTrace;st.longStackTraces=!0,K=function(){if(I.haveItemsQueued()&&!st.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=t,n.prototype._attachExtraTrace=e,r.deactivateLongStackTraces(),I.enableTrampoline(),st.longStackTraces=!1},n.prototype._captureStackTrace=d,n.prototype._attachExtraTrace=v,r.activateLongStackTraces(),I.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return st.longStackTraces&&S()};var Y=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return M.global.dispatchEvent(t),function(t,e){var n=new CustomEvent(t.toLowerCase(),{detail:e,cancelable:!0});return!M.global.dispatchEvent(n)}}if("function"==typeof Event){var t=new Event("CustomEvent");return M.global.dispatchEvent(t),function(t,e){var n=new Event(t.toLowerCase(),{cancelable:!0});return n.detail=e,!M.global.dispatchEvent(n)}}var t=document.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),M.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!M.global.dispatchEvent(n)}}catch(e){}return function(){return!1}}(),Z=function(){return M.isNode?function(){return e.emit.apply(e,arguments)}:M.global?function(t){var e="on"+t.toLowerCase(),n=M.global[e];return!!n&&(n.apply(M.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),tt={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:i},et=function(t){var e=!1;try{e=Z.apply(null,arguments)}catch(n){I.throwLater(n),e=!0}var r=!1;try{r=Y(t,tt[t].apply(null,arguments))}catch(n){I.throwLater(n),r=!0}return r||e};n.config=function(t){if(t=Object(t),"longStackTraces"in t&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&K()),"warnings"in t){var e=t.warnings;st.warnings=!!e,J=st.warnings,M.isObject(e)&&"wForgottenReturn"in e&&(J=!!e.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!st.cancellation){if(I.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=l,n.prototype._propagateFrom=f,n.prototype._onCancel=u,n.prototype._setOnCancel=c,n.prototype._attachCancellationCallback=a,n.prototype._execute=s,nt=f,st.cancellation=!0}"monitoring"in t&&(t.monitoring&&!st.monitoring?(st.monitoring=!0,n.prototype._fireEvent=et):!t.monitoring&&st.monitoring&&(st.monitoring=!1,n.prototype._fireEvent=o))},n.prototype._fireEvent=o,n.prototype._execute=function(t,e,n){try{t(e,n)}catch(r){return r}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(t){},n.prototype._attachCancellationCallback=function(t){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(t,e){};var nt=p,rt=function(){return!1},it=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;M.inherits(R,Error),r.CapturedTrace=R,R.prototype.uncycle=function(){var t=this._length;if(!(2>t)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;t=this._length=r;for(var r=t-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;t>r;++r){var s=e[r].stack,a=n[s];if(void 0!==a&&a!==r){a>0&&(e[a-1]._parent=void 0,e[a-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var u=r>0?e[r-1]:this;t-1>a?(u._parent=e[a+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var c=u._length+1,l=r-2;l>=0;--l)e[l]._length=c,c++;return}}}},R.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=E(t),n=e.message,r=[e.stack],i=this;void 0!==i;)r.push(x(i.stack.split("\n"))),i=i._parent;w(r),b(r),M.notEnumerableProp(t,"stack",g(n,r)),M.notEnumerableProp(t,"__stackCleaned__",!0)}};var ot=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():j(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,$=t,W=e;var n=Error.captureStackTrace;return rt=function(t){return q.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return $=/@/,W=e,Q=!0,function(t){t.stack=(new Error).stack};var i;try{throw new Error}catch(o){i="stack"in o}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(W=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?j(e):e.toString()},null):($=t,W=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(N=function(t){console.warn(t)},M.isNode&&e.stderr.isTTY?N=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:M.isNode||"string"!=typeof(new Error).stack||(N=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var st={warnings:X,longStackTraces:!1,cancellation:!1,monitoring:!1};return G&&n.longStackTraces(),{longStackTraces:function(){return st.longStackTraces},warnings:function(){return st.warnings},cancellation:function(){return st.cancellation},monitoring:function(){return st.monitoring},propagateFromFunction:function(){return nt},boundValueFunction:function(){return h},checkForgottenReturns:_,setBounds:O,warn:m,deprecated:y,CapturedTrace:R,fireDomEvent:Y,fireGlobalEvent:Z}}},{"./errors":12,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype["return"]=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype["throw"]=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1],r=function(){throw e};return this.caught(t,r)},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];r instanceof t&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,e){function n(){return o(this)}function r(t,n){return i(t,n,e,e)}var i=t.reduce,o=t.all;t.prototype.each=function(t){return i(this,t,e,0)._then(n,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,e,e)},t.each=function(t,r){return i(t,r,e,0)._then(n,void 0,void 0,t,void 0)},t.mapSeries=r}},{}],12:[function(t,e,n){"use strict";function r(t,e){function n(r){return this instanceof n?(f(this,"message","string"==typeof r?r:e),f(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return l(n,Error),n}function i(t){return this instanceof i?(f(this,"name","OperationalError"),f(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(f(this,"message",t.message),f(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(t)}var o,s,a=t("./es5"),u=a.freeze,c=t("./util"),l=c.inherits,f=c.notEnumerableProp,p=r("Warning","warning"),h=r("CancellationError","cancellation error"),d=r("TimeoutError","timeout error"),v=r("AggregateError","aggregate error");try{o=TypeError,s=RangeError}catch(_){o=r("TypeError","type error"),s=r("RangeError","range error")}for(var y="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<y.length;++m)"function"==typeof Array.prototype[y[m]]&&(v.prototype[y[m]]=Array.prototype[y[m]]);a.defineProperty(v.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),v.prototype.isOperational=!0;var g=0;v.prototype.toString=function(){var t=Array(4*g+1).join(" "),e="\n"+t+"AggregateError of:\n";g++,t=Array(4*g+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];r=i.join("\n"),e+=r+"\n"}return g--,e},l(i,Error);var b=Error.__BluebirdErrorTypes__;b||(b=u({CancellationError:h,TimeoutError:d,OperationalError:i,RejectionError:i,AggregateError:v}),a.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:o,RangeError:s,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:p}},{"./es5":13,"./util":36}],13:[function(t,e,n){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,s={}.constructor.prototype,a=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e},u=function(t,e){return{value:t[e]}},c=function(t,e,n){return t[e]=n.value,t},l=function(t){return t},f=function(t){try{return Object(t).constructor.prototype}catch(e){return s}},p=function(t){try{return"[object Array]"===o.call(t)}catch(e){return!1}};e.exports={isArray:p,keys:a,names:a,defineProperty:c,getDescriptor:u,freeze:l,getPrototypeOf:f,isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function i(t){this.finallyHandler=t}function o(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function s(){return u.call(this,this.promise._target()._settledValue())}function a(t){return o(this,t)?void 0:(f.e=t,f)}function u(t){var r=this.promise,u=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?u.call(r._boundValue()):u.call(r._boundValue(),t);if(void 0!==c){r._setReturnedNonUndefined();var p=n(c,r);if(p instanceof e){if(null!=this.cancelPromise){if(p._isCancelled()){var h=new l("late cancellation observer");return r._attachExtraTrace(h),f.e=h,f}p.isPending()&&p._attachCancellationCallback(new i(this))}return p._then(s,a,void 0,this,void 0)}}}return r.isRejected()?(o(this),f.e=t,f):(o(this),t)}var c=t("./util"),l=e.CancellationError,f=c.errorObj;return r.prototype.isFinallyHandler=function(){return 0===this.type},i.prototype._resultCancelled=function(){o(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,i){return"function"!=typeof t?this.then():this._then(n,i,void 0,new r(this,e,t),void 0)},e.prototype.lastly=e.prototype["finally"]=function(t){return this._passThrough(t,0,u,u)},e.prototype.tap=function(t){return this._passThrough(t,1,u)},r}},{"./util":36}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var s=h(n[o])(t);if(r._popContext(),s===p){r._pushContext();var a=e.reject(p.e);return r._popContext(),a}var u=i(s,r);if(u instanceof e)return u}return null}function u(t,n,i,o){if(s.cancellation()){var a=new e(r),u=this._finallyPromise=new e(r);this._promise=a.lastly(function(){return u}),a._captureStackTrace(),a._setOnCancel(this)}else{var c=this._promise=new e(r);c._captureStackTrace()}this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(d):d,this._yieldedPromise=null,this._cancellationPhase=!1}var c=t("./errors"),l=c.TypeError,f=t("./util"),p=f.errorObj,h=f.tryCatch,d=[];f.inherits(u,o),u.prototype._isResolved=function(){return null===this._promise},u.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},u.prototype._promiseCancelled=function(){if(!this._isResolved()){var t,n="undefined"!=typeof this._generator["return"];if(n)this._promise._pushContext(),t=h(this._generator["return"]).call(this._generator,void 0),this._promise._popContext();else{var r=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),t=h(this._generator["throw"]).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},u.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=h(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},u.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=h(this._generator["throw"]).call(this._generator,t);this._promise._popContext(),this._continue(e)},u.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},u.prototype.promise=function(){return this._promise},u.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},u.prototype._continue=function(t){var n=this._promise;if(t===p)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(t.done===!0)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(!(o instanceof e)&&(o=a(o,this._yieldHandlers,this._promise),null===o))return void this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",r)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var s=o._bitField;0===(50397184&s)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&s)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&s)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},e.coroutine=function(t,e){if("function"!=typeof t)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=u,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r((void 0),(void 0),n,i),s=o.promise();return o._generator=e,o._promiseFulfilled(void 0),s}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+f.classString(t));d.push(t)},e.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");
var r=new u(t,this),i=r.promise();return r._run(e.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){var a=t("./util");a.canEvaluate,a.tryCatch,a.errorObj,e.join=function(){var t,e=arguments.length-1;if(e>0&&"function"==typeof arguments[e]){t=arguments[e];var r}var i=[].slice.call(arguments);t&&i.pop();var r=new n(i).promise();return void 0!==t?r.spread(t):r}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,e,n,r){this.constructor$(t),this._promise._captureStackTrace();var i=c();this._callback=null===i?e:l.domainBind(i,e),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],h.invoke(this._asyncInit,this,void 0)}function u(t,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+l.classString(n));var s=0;if(void 0!==i){if("object"!=typeof i||null===i)return e.reject(new TypeError("options argument must be an object but it is "+l.classString(i)));if("number"!=typeof i.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(i.concurrency)));s=i.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new a(t,n,s,o).promise()}var c=e._getDomain,l=t("./util"),f=l.tryCatch,p=l.errorObj,h=e._async;l.inherits(a,n),a.prototype._asyncInit=function(){this._init$(void 0,-2)},a.prototype._init=function(){},a.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),a=this._preservedValues,u=this._limit;if(0>n){if(n=-1*n-1,r[n]=t,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return r[n]=t,this._queue.push(n),!1;null!==a&&(a[n]=t);var c=this._promise,l=this._callback,h=c._boundValue();c._pushContext();var d=f(l).call(h,t,n,o),v=c._popContext();if(s.checkForgottenReturns(d,v,null!==a?"Promise.filter":"Promise.map",c),d===p)return this._reject(d.e),!0;var _=i(d,this._promise);if(_ instanceof e){_=_._target();var y=_._bitField;if(0===(50397184&y))return u>=1&&this._inFlight++,r[n]=_,_._proxy(this,-1*(n+1)),!1;if(0===(33554432&y))return 0!==(16777216&y)?(this._reject(_._reason()),!0):(this._cancel(),!0);d=_._value()}r[n]=d}var m=++this._totalResolved;return m>=o&&(null!==a?this._filter(r,a):this._resolve(r),!0)},a.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},a.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;n>o;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},a.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return u(this,t,e,null)},e.map=function(t,e,n,r){return u(t,e,n,r)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var s=t("./util"),a=s.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+s.classString(t));return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var i=a(t).apply(this,arguments),s=r._popContext();return o.checkForgottenReturns(i,s,"Promise.method",r),r._resolveFromSyncValue(i),r}},e.attempt=e["try"]=function(t){if("function"!=typeof t)return i("expecting a function but got "+s.classString(t));var r=new e(n);r._captureStackTrace(),r._pushContext();var u;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],l=arguments[2];u=s.isArray(c)?a(t).apply(l,c):a(t).call(l,c)}else u=a(t)();var f=r._popContext();return o.checkForgottenReturns(u,f,"Promise.try",r),r._resolveFromSyncValue(u),r},e.prototype._resolveFromSyncValue=function(t){t===s.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";function r(t){return t instanceof Error&&l.getPrototypeOf(t)===Error.prototype}function i(t){var e;if(r(t)){e=new c(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var n=l.keys(t),i=0;i<n.length;++i){var o=n[i];f.test(o)||(e[o]=t[o])}return e}return s.markAsOriginatingFromRejection(t),t}function o(t,e){return function(n,r){if(null!==t){if(n){var o=i(a(n));t._attachExtraTrace(o),t._reject(o)}else if(e){var s=[].slice.call(arguments,1);t._fulfill(s)}else t._fulfill(r);t=null}}}var s=t("./util"),a=s.maybeWrapAsError,u=t("./errors"),c=u.OperationalError,l=t("./es5"),f=/^(?:name|message|stack|cause)$/;e.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){function n(t,e){var n=this;if(!o.isArray(t))return r.call(n,t,e);var i=a(e).apply(n._boundValue(),[null].concat(t));i===u&&s.throwLater(i.e)}function r(t,e){var n=this,r=n._boundValue(),i=void 0===t?a(e).call(r,null):a(e).call(r,null,t);i===u&&s.throwLater(i.e)}function i(t,e){var n=this;if(!t){var r=new Error(t+"");r.cause=t,t=r}var i=a(e).call(n._boundValue(),t);i===u&&s.throwLater(i.e)}var o=t("./util"),s=e._async,a=o.tryCatch,u=o.errorObj;e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var o=r;void 0!==e&&Object(e).spread&&(o=n),this._then(o,i,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,r){"use strict";n.exports=function(){function r(){}function i(t,e){if("function"!=typeof e)throw new g("expecting a function but got "+d.classString(e));if(t.constructor!==o)throw new g("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function o(t){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,t!==w&&(i(this,t),this._resolveFromExecutor(t)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function s(t){this.promise._resolveCallback(t)}function a(t){this.promise._rejectCallback(t,!1)}function u(t){var e=new o(w);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}var c,l=function(){return new g("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},f=function(){return new o.PromiseInspection(this._target())},p=function(t){return o.reject(new g(t))},h={},d=t("./util");c=d.isNode?function(){var t=e.domain;return void 0===t&&(t=null),t}:function(){return null},d.notEnumerableProp(o,"_getDomain",c);var v=t("./es5"),_=t("./async"),y=new _;v.defineProperty(o,"_async",{value:y});var m=t("./errors"),g=o.TypeError=m.TypeError;o.RangeError=m.RangeError;var b=o.CancellationError=m.CancellationError;o.TimeoutError=m.TimeoutError,o.OperationalError=m.OperationalError,o.RejectionError=m.OperationalError,o.AggregateError=m.AggregateError;var w=function(){},x={},C={},E=t("./thenables")(o,w),k=t("./promise_array")(o,w,E,p,r),T=t("./context")(o),j=T.create,F=t("./debuggability")(o,T),S=(F.CapturedTrace,t("./finally")(o,E)),P=t("./catch_filter")(C),O=t("./nodeback"),R=d.errorObj,A=d.tryCatch;return o.prototype.toString=function(){return"[object Promise]"},o.prototype.caught=o.prototype["catch"]=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),i=0;for(n=0;e-1>n;++n){var o=arguments[n];if(!d.isObject(o))return p("expecting an object but got A catch statement predicate "+d.classString(o));r[i++]=o}return r.length=i,t=arguments[n],this.then(void 0,P(r,t,this))}return this.then(void 0,t)},o.prototype.reflect=function(){return this._then(f,f,void 0,this,void 0)},o.prototype.then=function(t,e){if(F.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+d.classString(t);arguments.length>1&&(n+=", "+d.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},o.prototype.done=function(t,e){var n=this._then(t,e,void 0,void 0,void 0);n._setIsFinal()},o.prototype.spread=function(t){return"function"!=typeof t?p("expecting a function but got "+d.classString(t)):this.all()._then(t,void 0,void 0,x,void 0)},o.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},o.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new k(this).promise()},o.prototype.error=function(t){return this.caught(d.originatesFromRejection,t)},o.getNewLibraryCopy=n.exports,o.is=function(t){return t instanceof o},o.fromNode=o.fromCallback=function(t){var e=new o(w);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=A(t)(O(e,n));return r===R&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},o.all=function(t){return new k(t).promise()},o.cast=function(t){var e=E(t);return e instanceof o||(e=new o(w),e._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},o.resolve=o.fulfilled=o.cast,o.reject=o.rejected=function(t){var e=new o(w);return e._captureStackTrace(),e._rejectCallback(t,!0),e},o.setScheduler=function(t){if("function"!=typeof t)throw new g("expecting a function but got "+d.classString(t));return y.setScheduler(t)},o.prototype._then=function(t,e,n,r,i){var s=void 0!==i,a=s?i:new o(w),u=this._target(),l=u._bitField;s||(a._propagateFrom(this,3),a._captureStackTrace(),void 0===r&&0!==(2097152&this._bitField)&&(r=0!==(50397184&l)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,a));var f=c();if(0!==(50397184&l)){var p,h,v=u._settlePromiseCtx;0!==(33554432&l)?(h=u._rejectionHandler0,p=t):0!==(16777216&l)?(h=u._fulfillmentHandler0,p=e,u._unsetRejectionIsUnhandled()):(v=u._settlePromiseLateCancellationObserver,h=new b("late cancellation observer"),u._attachExtraTrace(h),p=e),y.invoke(v,u,{handler:null===f?p:"function"==typeof p&&d.domainBind(f,p),promise:a,receiver:r,value:h})}else u._addCallbacks(t,e,a,r,f);return a},o.prototype._length=function(){return 65535&this._bitField},o.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},o.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},o.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},o.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},o.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},o.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},o.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},o.prototype._isFinal=function(){return(4194304&this._bitField)>0},o.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},o.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},o.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},o.prototype._setAsyncGuaranteed=function(){y.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},o.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==h)return void 0===e&&this._isBound()?this._boundValue():e},o.prototype._promiseAt=function(t){return this[4*t-4+2]},o.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},o.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},o.prototype._boundValue=function(){},o.prototype._migrateCallback0=function(t){var e=(t._bitField,t._fulfillmentHandler0),n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=h),this._addCallbacks(e,n,r,i,null)},o.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=h),this._addCallbacks(n,r,i,o,null)},o.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=null===i?t:d.domainBind(i,t)),"function"==typeof e&&(this._rejectionHandler0=null===i?e:d.domainBind(i,e));else{var s=4*o-4;this[s+2]=n,this[s+3]=r,"function"==typeof t&&(this[s+0]=null===i?t:d.domainBind(i,t)),"function"==typeof e&&(this[s+1]=null===i?e:d.domainBind(i,e))}return this._setLength(o+1),o},o.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},o.prototype._resolveCallback=function(t,e){if(0===(117506048&this._bitField)){if(t===this)return this._rejectCallback(l(),!1);var n=E(t,this);if(!(n instanceof o))return this._fulfill(t);e&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(l());var i=r._bitField;if(0===(50397184&i)){var s=this._length();s>0&&r._migrateCallback0(this);for(var a=1;s>a;++a)r._migrateCallbackAt(this,a);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!==(33554432&i))this._fulfill(r._value());else if(0!==(16777216&i))this._reject(r._reason());else{var u=new b("late cancellation observer");r._attachExtraTrace(u),this._reject(u)}}},o.prototype._rejectCallback=function(t,e,n){var r=d.ensureErrorObject(t),i=r===t;if(!i&&!n&&F.warnings()){var o="a promise was rejected with a non-error: "+d.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,!!e&&i),this._reject(t)},o.prototype._resolveFromExecutor=function(t){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)},o.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0===(65536&i)){r._pushContext();var o;e===x?n&&"number"==typeof n.length?o=A(t).apply(this._boundValue(),n):(o=R,o.e=new g("cannot .spread() a non-array: "+d.classString(n))):o=A(t).call(e,n);var s=r._popContext();i=r._bitField,0===(65536&i)&&(o===C?r._reject(n):o===R?r._rejectCallback(o.e,!1):(F.checkForgottenReturns(o,s,"",r,this),r._resolveCallback(o)))}},o.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},o.prototype._followee=function(){return this._rejectionHandler0},o.prototype._setFollowee=function(t){this._rejectionHandler0=t},o.prototype._settlePromise=function(t,e,n,i){var s=t instanceof o,a=this._bitField,u=0!==(134217728&a);0!==(65536&a)?(s&&t._invokeInternalOnCancel(),n instanceof S&&n.isFinallyHandler()?(n.cancelPromise=t,A(e).call(n,i)===R&&t._reject(R.e)):e===f?t._fulfill(f.call(n)):n instanceof r?n._promiseCancelled(t):s||t instanceof k?t._cancel():n.cancel()):"function"==typeof e?s?(u&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,i,t)):e.call(n,i,t):n instanceof r?n._isResolved()||(0!==(33554432&a)?n._promiseFulfilled(i,t):n._promiseRejected(i,t)):s&&(u&&t._setAsyncGuaranteed(),0!==(33554432&a)?t._fulfill(i):t._reject(i))},o.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,i=t.value;"function"==typeof e?n instanceof o?this._settlePromiseFromHandler(e,r,i,n):e.call(r,i,n):n instanceof o&&n._reject(i)},o.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},o.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},o.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},o.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=l();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!==(134217728&e)?this._settlePromises():y.settlePromises(this))}},o.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16))return this._setRejected(),this._fulfillmentHandler0=t,this._isFinal()?y.fatalError(t,d.isNode):void((65535&e)>0?y.settlePromises(this):this._ensurePossibleRejectionHandled())},o.prototype._fulfillPromises=function(t,e){for(var n=1;t>n;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._rejectPromises=function(t,e){for(var n=1;t>n;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!==(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},o.prototype._settledValue=function(){var t=this._bitField;return 0!==(33554432&t)?this._rejectionHandler0:0!==(16777216&t)?this._fulfillmentHandler0:void 0},o.defer=o.pending=function(){F.deprecated("Promise.defer","new Promise");var t=new o(w);return{promise:t,resolve:s,reject:a}},d.notEnumerableProp(o,"_makeSelfResolutionError",l),t("./method")(o,w,E,p,F),t("./bind")(o,w,E,F),t("./cancel")(o,k,p,F),t("./direct_resolve")(o),t("./synchronous_inspection")(o),t("./join")(o,k,E,w,y,c),o.Promise=o,o.version="3.4.6",t("./map.js")(o,k,p,E,w,F),t("./call_get.js")(o),t("./using.js")(o,p,E,j,w,F),t("./timers.js")(o,w,F),t("./generators.js")(o,p,w,E,r,F),t("./nodeify.js")(o),t("./promisify.js")(o,w),t("./props.js")(o,k,E,p),t("./race.js")(o,w,E,p),t("./reduce.js")(o,k,p,E,w,F),t("./settle.js")(o,k,F),t("./some.js")(o,k,p),t("./filter.js")(o,w),t("./each.js")(o,w),t("./any.js")(o),d.toFastProperties(o),d.toFastProperties(o.prototype),u({a:1}),u({b:2}),u({c:3}),u(1),u(function(){}),u(void 0),u(!1),u(new o(w)),F.setBounds(_.firstLineError,d.lastLineError),o}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){function s(t){switch(t){case-2:return[];case-3:return{}}}function a(t){var r=this._promise=new e(n);t instanceof e&&r._propagateFrom(t,3),r._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var u=t("./util");return u.isArray,u.inherits(a,o),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function c(t,n){var o=r(this._values,this._promise);if(o instanceof e){o=o._target();var a=o._bitField;if(this._values=o,0===(50397184&a))return this._promise._setAsyncGuaranteed(),o._then(c,this._reject,void 0,this,n);if(0===(33554432&a))return 0!==(16777216&a)?this._reject(o._reason()):this._cancel();o=o._value()}if(o=u.asArray(o),null===o){var l=i("expecting an array or an iterable object but got "+u.classString(o)).reason();return void this._promise._rejectCallback(l,!1)}return 0===o.length?void(-5===n?this._resolveEmptyArray():this._resolve(s(n))):void this._iterate(o)},a.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,s=null,a=0;n>a;++a){var u=r(t[a],i);u instanceof e?(u=u._target(),s=u._bitField):s=null,o?null!==s&&u.suppressUnhandledRejections():null!==s?0===(50397184&s)?(u._proxy(this,a),this._values[a]=u):o=0!==(33554432&s)?this._promiseFulfilled(u._value(),a):0!==(16777216&s)?this._promiseRejected(u._reason(),a):this._promiseCancelled(a):o=this._promiseFulfilled(u,a)}o||i._setAsyncGuaranteed()},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},a.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},a.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},a.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(t){return t},a}},{"./util":36}],24:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t){return!x.test(t)}function i(t){try{return t.__isPromisified__===!0}catch(e){return!1}}function o(t,e,n){var r=h.getDataPropertyOrDefault(t,e+n,b);return!!r&&i(r)}function s(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),s=0;s<t.length;s+=2)if(t[s]===o)throw new m("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}function a(t,e,n,r){for(var a=h.inheritedDataKeys(t),u=[],c=0;c<a.length;++c){var l=a[c],f=t[l],p=r===C||C(l,f,t);"function"!=typeof f||i(f)||o(t,l,e)||!r(l,f,t,p)||u.push(l,f)}return s(u,e,n),u}function u(t,r,i,o,s,a){function u(){var i=r;r===p&&(i=this);var o=new e(n);o._captureStackTrace();var s="string"==typeof l&&this!==c?this[l]:t,u=d(o,a);try{s.apply(i,v(arguments,u))}catch(f){o._rejectCallback(_(f),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var c=function(){return this}(),l=t;return"string"==typeof l&&(t=o),h.notEnumerableProp(u,"__isPromisified__",!0),u}function c(t,e,n,r,i){for(var o=new RegExp(E(e)+"$"),s=a(t,e,o,n),u=0,c=s.length;c>u;u+=2){var l=s[u],f=s[u+1],d=l+e;if(r===k)t[d]=k(l,p,l,f,e,i);else{var v=r(f,function(){return k(l,p,l,f,e,i)});h.notEnumerableProp(v,"__isPromisified__",!0),t[d]=v}}return h.toFastProperties(t),t}function l(t,e,n){return k(t,e,void 0,t,null,n)}var f,p={},h=t("./util"),d=t("./nodeback"),v=h.withAppended,_=h.maybeWrapAsError,y=h.canEvaluate,m=t("./errors").TypeError,g="Async",b={__isPromisified__:!0},w=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],x=new RegExp("^(?:"+w.join("|")+")$"),C=function(t){return h.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t},E=function(t){return t.replace(/([$])/,"\\$")},k=y?f:u;e.promisify=function(t,e){if("function"!=typeof t)throw new m("expecting a function but got "+h.classString(t));if(i(t))return t;e=Object(e);var n=void 0===e.context?p:e.context,o=!!e.multiArgs,s=l(t,n,o);return h.copyDescriptors(t,s,r),s},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new m("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");e=Object(e);var n=!!e.multiArgs,r=e.suffix;"string"!=typeof r&&(r=g);var i=e.filter;"function"!=typeof i&&(i=C);var o=e.promisifier;if("function"!=typeof o&&(o=k),!h.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=h.inheritedDataKeys(t),a=0;a<s.length;++a){var u=t[s[a]];"constructor"!==s[a]&&h.isClass(u)&&(c(u.prototype,r,i,o,n),c(u,r,i,o,n))}return c(t,r,i,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t){var e,n=!1;if(void 0!==a&&t instanceof a)e=f(t),n=!0;else{var r=l.keys(t),i=r.length;e=new Array(2*i);for(var o=0;i>o;++o){var s=r[o];e[o]=t[s],e[o+i]=s}}this.constructor$(e),this._isMap=n,this._init$(void 0,-3)}function s(t){var n,s=r(t);return c(s)?(n=s instanceof e?s._then(e.props,void 0,void 0,void 0,void 0):new o(s).promise(),s instanceof e&&n._propagateFrom(s,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var a,u=t("./util"),c=u.isObject,l=t("./es5");"function"==typeof Map&&(a=Map);var f=function(){function t(t,r){this[e]=t,this[e+n]=r,e++}var e=0,n=0;return function(r){n=r.size,e=0;var i=new Array(2*r.size);return r.forEach(t,i),i}}(),p=function(t){for(var e=new a,n=t.length/2|0,r=0;n>r;++r){var i=t[n+r],o=t[r];e.set(i,o)}return e};u.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){var r;if(this._isMap)r=p(this._values);else{r={};for(var i=this.length(),o=0,s=this.length();s>o;++o)r[this._values[o+i]]=this._values[o]}return this._resolve(r),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return s(this)},e.props=function(t){return s(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o=0;i>o;++o)n[o+r]=t[o+e],t[o+e]=void 0}function i(t){this._capacity=t,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(t){return this._capacity<t},i.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},i.prototype._unshiftOne=function(t){var e=this._capacity;this._checkCapacity(this.length()+1);var n=this._front,r=(n-1&e-1^e)-e;this[r]=t,this._front=r,this._length=this.length()+1},i.prototype.unshift=function(t,e,n){this._unshiftOne(n),this._unshiftOne(e),this._unshiftOne(t)},i.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var n=this._front,i=this._length,o=n+i&e-1;r(this,0,this,e,o)},e.exports=i},{}],27:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t,o){var u=r(t);if(u instanceof e)return a(u);if(t=s.asArray(t),null===t)return i("expecting an array or an iterable object but got "+s.classString(t));var c=new e(n);void 0!==o&&c._propagateFrom(o,3);for(var l=c._fulfill,f=c._reject,p=0,h=t.length;h>p;++p){var d=t[p];(void 0!==d||p in t)&&e.cast(d)._then(l,f,void 0,c,null)}return c}var s=t("./util"),a=function(t){return t.then(function(e){return o(e,t)})};e.race=function(t){return o(t,void 0)},e.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,n,r,i){this.constructor$(t);var s=p();this._fn=null===s?n:h.domainBind(s,n),void 0!==r&&(r=e.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,i===o?this._eachValues=Array(this._length):0===i?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function u(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function c(t,e,n,i){if("function"!=typeof e)return r("expecting a function but got "+h.classString(e));var o=new a(t,e,n,i);return o.promise()}function l(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(f,void 0,void 0,this,void 0)):f.call(this,n)}function f(t){var n=this.array,r=n._promise,i=d(n._fn);r._pushContext();var o;o=void 0!==n._eachValues?i.call(r._boundValue(),t,this.index,this.length):i.call(r._boundValue(),this.accum,t,this.index,this.length),o instanceof e&&(n._currentCancellable=o);var a=r._popContext();return s.checkForgottenReturns(o,a,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),o}var p=e._getDomain,h=t("./util"),d=h.tryCatch;h.inherits(a,n),a.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==o&&this._eachValues.push(t)},a.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},a.prototype._init=function(){},a.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},a.prototype.shouldCopyValues=function(){return!1},a.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},a.prototype._resultCancelled=function(t){return t===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel()))},a.prototype._iterate=function(t){this._values=t;var n,r,i=t.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=e.resolve(t[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;i>r;++r){var o={accum:null,value:t[r],index:r,length:i,array:this};n=n._then(l,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(u,u,void 0,n,this)},e.prototype.reduce=function(t,e){return c(this,t,e,null)},e.reduce=function(t,e,n,r){return c(t,e,n,r)}}},{"./util":36}],29:[function(t,i,o){"use strict";var s,a=t("./util"),u=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},c=a.getNativePromise();if(a.isNode&&"undefined"==typeof MutationObserver){var l=n.setImmediate,f=e.nextTick;s=a.isRecentNode?function(t){l.call(n,t)}:function(t){f.call(e,t)}}else if("function"==typeof c&&"function"==typeof c.resolve){var p=c.resolve();s=function(t){p.then(t)}}else s="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof r?function(t){r(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:u:function(){var t=document.createElement("div"),e={attributes:!0},n=!1,r=document.createElement("div"),i=new MutationObserver(function(){t.classList.toggle("foo"),n=!1});i.observe(r,e);var o=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(t,e),o()}}();i.exports=s},{"./util":36}],30:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t)}var o=e.PromiseInspection,s=t("./util");s.inherits(i,n),i.prototype._promiseResolved=function(t,e){this._values[t]=e;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(t,e){var n=new o;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},i.prototype._promiseRejected=function(t,e){var n=new o;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return r.deprecated(".settle()",".reflect()"),new i(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||0>e)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(t),o=n.promise();return n.setHowMany(e),n.init(),o}var s=t("./util"),a=t("./errors").RangeError,u=t("./errors").AggregateError,c=s.isArray,l={};s.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=c(this._values);
!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(t){this._howMany=t},i.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new u,e=this.length();e<this._values.length;++e)this._values[e]!==l&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(t){this._values.push(t)},i.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new a(e)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return o(t,e)},e.prototype.some=function(t){return o(this,t)},e._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},s=e.prototype.isPending=function(){return 0===(50397184&this._bitField)},a=e.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},t.prototype.isPending=function(){return s.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return a.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,r){if(l(t)){if(t instanceof e)return t;var i=o(t);if(i===c){r&&r._pushContext();var u=e.reject(i.e);return r&&r._popContext(),u}if("function"==typeof i){if(s(t)){var u=new e(n);return t._then(u._fulfill,u._reject,void 0,u,null),u}return a(t,i,r)}}return t}function i(t){return t.then}function o(t){try{return i(t)}catch(e){return c.e=e,c}}function s(t){try{return f.call(t,"_promise0")}catch(e){return!1}}function a(t,r,i){function o(t){a&&(a._resolveCallback(t),a=null)}function s(t){a&&(a._rejectCallback(t,f,!0),a=null)}var a=new e(n),l=a;i&&i._pushContext(),a._captureStackTrace(),i&&i._popContext();var f=!0,p=u.tryCatch(r).call(t,o,s);return f=!1,a&&p===c&&(a._rejectCallback(p.e,!0,!0),a=null),l}var u=t("./util"),c=u.errorObj,l=u.isObject,f={}.hasOwnProperty;return r}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.handle=t}function o(t){return clearTimeout(this.handle),t}function s(t){throw clearTimeout(this.handle),t}var a=t("./util"),u=e.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(t){return l(+this).thenReturn(t)},l=e.delay=function(t,o){var s,a;return void 0!==o?(s=e.resolve(o)._then(c,null,null,t,void 0),r.cancellation()&&o instanceof e&&s._setOnCancel(o)):(s=new e(n),a=setTimeout(function(){s._fulfill()},+t),r.cancellation()&&s._setOnCancel(new i(a)),s._captureStackTrace()),s._setAsyncGuaranteed(),s};e.prototype.delay=function(t){return l(t,this)};var f=function(t,e,n){var r;r="string"!=typeof e?e instanceof Error?e:new u("operation timed out"):new u(e),a.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()};e.prototype.timeout=function(t,e){t=+t;var n,a,u=new i(setTimeout(function(){n.isPending()&&f(n,e,a)},t));return r.cancellation()?(a=this.then(),n=a._then(o,s,void 0,u,void 0),n._setOnCancel(u)):n=this._then(o,s,void 0,u,void 0),n}}},{"./util":36}],35:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t){setTimeout(function(){throw t},0)}function u(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function c(t,n){function i(){if(s>=c)return l._fulfill();var o=u(t[s++]);if(o instanceof e&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),t.promise)}catch(f){return a(f)}if(o instanceof e)return o._then(i,a,null,null,null)}i()}var s=0,c=t.length,l=new e(o);return i(),l}function l(t,e,n){this._data=t,this._promise=e,this._context=n}function f(t,e,n){this.constructor$(t,e,n)}function p(t){return l.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function h(t){this.length=t,this.promise=null,this[t-1]=null}var d=t("./util"),v=t("./errors").TypeError,_=t("./util").inherits,y=d.errorObj,m=d.tryCatch,g={};l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():g},l.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==g?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},l.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},_(f,l),f.prototype.doDispose=function(t,e){var n=this.data();return n.call(t,t,e)},h.prototype._resultCancelled=function(){for(var t=this.length,n=0;t>n;++n){var r=this[n];r instanceof e&&r.cancel()}},e.using=function(){var t=arguments.length;if(2>t)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[t-1];if("function"!=typeof i)return n("expecting a function but got "+d.classString(i));var o,a=!0;2===t&&Array.isArray(arguments[0])?(o=arguments[0],t=o.length,a=!1):(o=arguments,t--);for(var u=new h(t),f=0;t>f;++f){var v=o[f];if(l.isDisposer(v)){var _=v;v=v.promise(),v._setDisposable(_)}else{var g=r(v);g instanceof e&&(v=g._then(p,null,null,{resources:u,index:f},void 0))}u[f]=v}for(var b=new Array(u.length),f=0;f<b.length;++f)b[f]=e.resolve(u[f]).reflect();var w=e.all(b).then(function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return y.e=n.error(),y;if(!n.isFulfilled())return void w.cancel();t[e]=n.value()}x._pushContext(),i=m(i);var r=a?i.apply(void 0,t):i(t),o=x._popContext();return s.checkForgottenReturns(r,o,"Promise.using",x),r}),x=w.lastly(function(){var t=new e.PromiseInspection(w);return c(u,t)});return u.promise=x,x._setOnCancel(u),x},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new f(t,this,i());throw new v}}},{"./errors":12,"./util":36}],36:[function(t,r,i){"use strict";function o(){try{var t=F;return F=null,t.apply(this,arguments)}catch(e){return O.e=e,O}}function s(t){return F=t,o}function a(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function u(t){return"function"==typeof t||"object"==typeof t&&null!==t}function c(t){return a(t)?new Error(m(t)):t}function l(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;r>n;++n)i[n]=t[n];return i[n]=e,i}function f(t,e,n){if(!S.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function p(t,e,n){if(a(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return S.defineProperty(t,e,r),t}function h(t){throw t}function d(t){try{if("function"==typeof t){var e=S.names(t.prototype),n=S.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=N.test(t+"")&&S.names(t).length>0;if(n||r||i)return!0}return!1}catch(o){return!1}}function v(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t}function _(t){return L.test(t)}function y(t,e,n){for(var r=new Array(t),i=0;t>i;++i)r[i]=e+i+n;return r}function m(t){try{return t+""}catch(e){return"[no string representation]"}}function g(t){return null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function b(t){try{p(t,"isOperational",!0)}catch(e){}}function w(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||t.isOperational===!0)}function x(t){return g(t)&&S.propertyIsWritable(t,"stack")}function C(t){return{}.toString.call(t)}function E(t,e,n){for(var r=S.names(t),i=0;i<r.length;++i){var o=r[i];if(n(o))try{S.defineProperty(e,o,S.getDescriptor(t,o))}catch(s){}}}function k(t,n){return B?e.env[t]:n}function T(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(e){}}function j(t,e){return t.bind(e)}var F,S=t("./es5"),P="undefined"==typeof navigator,O={e:{}},R="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof n?n:void 0!==this?this:null,A=function(t,e){function n(){this.constructor=t,this.constructor$=e;for(var n in e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var r={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},D=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(S.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var r=[],i=Object.create(null);null!=t&&!e(t);){var o;try{o=n(t)}catch(s){return r}for(var a=0;a<o.length;++a){var u=o[a];if(!i[u]){i[u]=!0;var c=Object.getOwnPropertyDescriptor(t,u);null!=c&&null==c.get&&null==c.set&&r.push(u)}}t=S.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var i=[];t:for(var o in n)if(r.call(n,o))i.push(o);else{for(var s=0;s<t.length;++s)if(r.call(t[s],o))continue t;i.push(o)}return i}}(),N=/this\s*\.\s*\S+\s*=/,L=/^[a-z$_][a-z$_0-9]*$/i,I=function(){return"stack"in new Error?function(t){return x(t)?t:new Error(m(t))}:function(t){if(x(t))return t;try{throw new Error(m(t))}catch(e){return e}}}(),H=function(t){return S.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var M="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};H=function(t){return S.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?M(t):null}}var B="undefined"!=typeof e&&"[object process]"===C(e).toLowerCase(),q={isClass:d,isIdentifier:_,inheritedDataKeys:D,getDataPropertyOrDefault:f,thrower:h,isArray:S.isArray,asArray:H,notEnumerableProp:p,isPrimitive:a,isObject:u,isError:g,canEvaluate:P,errorObj:O,tryCatch:s,inherits:A,withAppended:l,maybeWrapAsError:c,toFastProperties:v,filledRange:y,toString:m,canAttachTrace:x,ensureErrorObject:I,originatesFromRejection:w,markAsOriginatingFromRejection:b,classString:C,copyDescriptors:E,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:B,env:k,global:R,getNativePromise:T,domainBind:j};q.isRecentNode=q.isNode&&function(){var t=e.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0}(),q.isNode&&q.toFastProperties(e);try{throw new Error}catch(U){q.lastLineError=U}r.exports=q},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(e,n(48),function(){return this}(),n(49).setImmediate)},function(t,e){function n(){f&&s&&(f=!1,s.length?l=s.concat(l):p=-1,l.length&&r())}function r(){if(!f){var t=u(n);f=!0;for(var e=l.length;e;){for(s=l,l=[];++p<e;)s&&s[p].run();p=-1,e=l.length}s=null,f=!1,c(t)}}function i(t,e){this.fun=t,this.array=e}function o(){}var s,a=t.exports={},u=setTimeout,c=clearTimeout,l=[],f=!1,p=-1;a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new i(t,e)),1!==l.length||f||u(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=o,a.addListener=o,a.once=o,a.off=o,a.removeListener=o,a.removeAllListeners=o,a.emit=o,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e,n){(function(t,r){function i(t,e){this._id=t,this._clearFn=e}var o=n(48).nextTick,s=Function.prototype.apply,a=Array.prototype.slice,u={},c=0;e.setTimeout=function(){return new i(s.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(s.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=c++,r=!(arguments.length<2)&&a.call(arguments,1);return u[n]=!0,o(function(){u[n]&&(r?t.apply(null,r):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof r?r:function(t){delete u[t]}}).call(e,n(49).setImmediate,n(49).clearImmediate)},function(t,e,n){var r,i=i||function(t){"use strict";if(!("undefined"==typeof t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,n=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},s=/constructor/i.test(t.HTMLElement)||t.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),u=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},c="application/octet-stream",l=4e4,f=function(t){var e=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};setTimeout(e,l)},p=function(t,e,n){e=[].concat(e);for(var r=e.length;r--;){var i=t["on"+e[r]];if("function"==typeof i)try{i.call(t,n||t)}catch(o){u(o)}}},h=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},d=function(e,u,l){l||(e=h(e));var d,v=this,_=e.type,y=_===c,m=function(){p(v,"writestart progress write writeend".split(" "))},g=function(){if((a||y&&s)&&t.FileReader){var r=new FileReader;return r.onloadend=function(){var e=a?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;"),n=t.open(e,"_blank");n||(t.location.href=e),e=void 0,v.readyState=v.DONE,m()},r.readAsDataURL(e),void(v.readyState=v.INIT)}if(d||(d=n().createObjectURL(e)),y)t.location.href=d;else{var i=t.open(d,"_blank");i||(t.location.href=d)}v.readyState=v.DONE,m(),f(d)};return v.readyState=v.INIT,i?(d=n().createObjectURL(e),void setTimeout(function(){r.href=d,r.download=u,o(r),m(),f(d),v.readyState=v.DONE})):void g()},v=d.prototype,_=function(t,e,n){return new d(t,e||t.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=h(t)),navigator.msSaveOrOpenBlob(t,e)}:(v.abort=function(){},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,_)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof t&&t.exports?t.exports.saveAs=i:null!==n(51)&&null!==n(52)&&(r=function(){return i}.call(e,n,e,t),!(void 0!==r&&(t.exports=r)))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e){t.exports={name:"epub-press-js",version:"0.5.1",description:"Javascript client for building books with EpubPress.",homepage:"https://github.com/haroldtreen/epub-press-clients#readme",baseUrl:"https://epub.press",main:"build/index.js",directories:{tests:"test"},scripts:{test:"export NODE_ENV=test && open http://localhost:5001/tests && webpack-dev-server",start:"export NODE_ENV=development && webpack --watch --progress --color",build:"export NODE_ENV=development && webpack","build-prod":"export NODE_ENV=production && webpack --optimize-minimize --optimize-dedupe",preversion:"npm run-script build-prod",prepublish:"npm run build-prod"},repository:{type:"git",url:"git+https://github.com/haroldtreen/epub-press-clients.git"},keywords:["epub","publishing","productivity","client","epubpress","ebooks","content","extraction"],author:"EpubPress",license:"ISC",bugs:{url:"https://github.com/haroldtreen/epub-press-clients/issues"},devDependencies:{"babel-core":"^6.17.0","babel-loader":"^6.2.4","babel-plugin-transform-runtime":"^6.9.0","babel-preset-es2015":"^6.9.0",chai:"^3.5.0","fetch-mock":"^5.0.3",mocha:"^2.5.3","mocha-loader":"^1.0.0",sinon:"git+https://github.com/sinonjs/sinon.git","sinon-as-promised":"^4.0.2",webpack:"^1.13.1"},dependencies:{bluebird:"^3.4.6","file-saver":"^1.3.3","isomorphic-fetch":"^2.2.1","json-loader":"^0.5.4"}}},function(t,n){t.exports=e}])})}).call(e,n(43))},function(t,e,n){var r,i;/*!
	 * jQuery JavaScript Library v3.1.0
	 * https://jquery.com/
	 *
	 * Includes Sizzle.js
	 * https://sizzlejs.com/
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license
	 * https://jquery.org/license
	 *
	 * Date: 2016-07-07T21:44Z
	 */
!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,o){"use strict";function s(t,e){e=e||rt;var n=e.createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}function a(t){var e=!!t&&"length"in t&&t.length,n=_t.type(t);return"function"!==n&&!_t.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function u(t,e,n){if(_t.isFunction(e))return _t.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return _t.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(Tt.test(e))return _t.filter(e,t,n);e=_t.filter(e,t)}return _t.grep(t,function(t){return ut.call(e,t)>-1!==n&&1===t.nodeType})}function c(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function l(t){var e={};return _t.each(t.match(Rt)||[],function(t,n){e[n]=!0}),e}function f(t){return t}function p(t){throw t}function h(t,e,n){var r;try{t&&_t.isFunction(r=t.promise)?r.call(t).done(e).fail(n):t&&_t.isFunction(r=t.then)?r.call(t,e,n):e.call(void 0,t)}catch(t){n.call(void 0,t)}}function d(){rt.removeEventListener("DOMContentLoaded",d),n.removeEventListener("load",d),_t.ready()}function v(){this.expando=_t.expando+v.uid++}function _(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(Bt,"-$&").toLowerCase(),n=t.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Mt.test(n)?JSON.parse(n):n)}catch(i){}Ht.set(t,e,n)}else n=void 0;return n}function y(t,e,n,r){var i,o=1,s=20,a=r?function(){return r.cur()}:function(){return _t.css(t,e,"")},u=a(),c=n&&n[3]||(_t.cssNumber[e]?"":"px"),l=(_t.cssNumber[e]||"px"!==c&&+u)&&Ut.exec(_t.css(t,e));if(l&&l[3]!==c){c=c||l[3],n=n||[],l=+u||1;do o=o||".5",l/=o,_t.style(t,e,l+c);while(o!==(o=a()/u)&&1!==o&&--s)}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}function m(t){var e,n=t.ownerDocument,r=t.nodeName,i=Qt[r];return i?i:(e=n.body.appendChild(n.createElement(r)),i=_t.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),Qt[r]=i,i)}function g(t,e){for(var n,r,i=[],o=0,s=t.length;o<s;o++)r=t[o],r.style&&(n=r.style.display,e?("none"===n&&(i[o]=It.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&$t(r)&&(i[o]=m(r))):"none"!==n&&(i[o]="none",It.set(r,"display",n)));for(o=0;o<s;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}function b(t,e){var n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&_t.nodeName(t,e)?_t.merge([t],n):n}function w(t,e){for(var n=0,r=t.length;n<r;n++)It.set(t[n],"globalEval",!e||It.get(e[n],"globalEval"))}function x(t,e,n,r,i){for(var o,s,a,u,c,l,f=e.createDocumentFragment(),p=[],h=0,d=t.length;h<d;h++)if(o=t[h],o||0===o)if("object"===_t.type(o))_t.merge(p,o.nodeType?[o]:o);else if(Kt.test(o)){for(s=s||f.appendChild(e.createElement("div")),a=(Xt.exec(o)||["",""])[1].toLowerCase(),u=Jt[a]||Jt._default,s.innerHTML=u[1]+_t.htmlPrefilter(o)+u[2],l=u[0];l--;)s=s.lastChild;_t.merge(p,s.childNodes),s=f.firstChild,s.textContent=""}else p.push(e.createTextNode(o));for(f.textContent="",h=0;o=p[h++];)if(r&&_t.inArray(o,r)>-1)i&&i.push(o);else if(c=_t.contains(o.ownerDocument,o),s=b(f.appendChild(o),"script"),c&&w(s),n)for(l=0;o=s[l++];)Gt.test(o.type||"")&&n.push(o);return f}function C(){return!0}function E(){return!1}function k(){try{return rt.activeElement}catch(t){}}function T(t,e,n,r,i,o){var s,a;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=void 0);for(a in e)T(t,a,n,r,e[a],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=E;else if(!i)return t;return 1===o&&(s=i,i=function(t){return _t().off(t),s.apply(this,arguments)},i.guid=s.guid||(s.guid=_t.guid++)),t.each(function(){_t.event.add(this,e,i,r,n)})}function j(t,e){return _t.nodeName(t,"table")&&_t.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t:t}function F(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function S(t){var e=oe.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function P(t,e){var n,r,i,o,s,a,u,c;if(1===e.nodeType){if(It.hasData(t)&&(o=It.access(t),s=It.set(e,o),c=o.events)){delete s.handle,s.events={};for(i in c)for(n=0,r=c[i].length;n<r;n++)_t.event.add(e,i,c[i][n])}Ht.hasData(t)&&(a=Ht.access(t),u=_t.extend({},a),Ht.set(e,u))}}function O(t,e){var n=e.nodeName.toLowerCase();"input"===n&&zt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function R(t,e,n,r){e=st.apply([],e);var i,o,a,u,c,l,f=0,p=t.length,h=p-1,d=e[0],v=_t.isFunction(d);if(v||p>1&&"string"==typeof d&&!dt.checkClone&&ie.test(d))return t.each(function(i){var o=t.eq(i);v&&(e[0]=d.call(this,i,o.html())),R(o,e,n,r)});if(p&&(i=x(e,t[0].ownerDocument,!1,t,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=_t.map(b(i,"script"),F),u=a.length;f<p;f++)c=i,f!==h&&(c=_t.clone(c,!0,!0),u&&_t.merge(a,b(c,"script"))),n.call(t[f],c,f);if(u)for(l=a[a.length-1].ownerDocument,_t.map(a,S),f=0;f<u;f++)c=a[f],Gt.test(c.type||"")&&!It.access(c,"globalEval")&&_t.contains(l,c)&&(c.src?_t._evalUrl&&_t._evalUrl(c.src):s(c.textContent.replace(se,""),l))}return t}function A(t,e,n){for(var r,i=e?_t.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||_t.cleanData(b(r)),r.parentNode&&(n&&_t.contains(r.ownerDocument,r)&&w(b(r,"script")),r.parentNode.removeChild(r));return t}function D(t,e,n){var r,i,o,s,a=t.style;return n=n||ce(t),n&&(s=n.getPropertyValue(e)||n[e],""!==s||_t.contains(t.ownerDocument,t)||(s=_t.style(t,e)),!dt.pixelMarginRight()&&ue.test(s)&&ae.test(e)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function N(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function L(t){if(t in de)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=he.length;n--;)if(t=he[n]+e,t in de)return t}function I(t,e,n){var r=Ut.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function H(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=_t.css(t,n+Vt[o],!0,i)),r?("content"===n&&(s-=_t.css(t,"padding"+Vt[o],!0,i)),"margin"!==n&&(s-=_t.css(t,"border"+Vt[o]+"Width",!0,i))):(s+=_t.css(t,"padding"+Vt[o],!0,i),"padding"!==n&&(s+=_t.css(t,"border"+Vt[o]+"Width",!0,i)));return s}function M(t,e,n){var r,i=!0,o=ce(t),s="border-box"===_t.css(t,"boxSizing",!1,o);if(t.getClientRects().length&&(r=t.getBoundingClientRect()[e]),r<=0||null==r){if(r=D(t,e,o),(r<0||null==r)&&(r=t.style[e]),ue.test(r))return r;i=s&&(dt.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+H(t,e,n||(s?"border":"content"),i,o)+"px"}function B(t,e,n,r,i){return new B.prototype.init(t,e,n,r,i)}function q(){_e&&(n.requestAnimationFrame(q),_t.fx.tick())}function U(){return n.setTimeout(function(){ve=void 0}),ve=_t.now()}function V(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)n=Vt[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function $(t,e,n){for(var r,i=(z.tweeners[e]||[]).concat(z.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,e,t))return r}function W(t,e,n){var r,i,o,s,a,u,c,l,f="width"in e||"height"in e,p=this,h={},d=t.style,v=t.nodeType&&$t(t),_=It.get(t,"fxshow");n.queue||(s=_t._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,p.always(function(){p.always(function(){s.unqueued--,_t.queue(t,"fx").length||s.empty.fire()})}));for(r in e)if(i=e[r],ye.test(i)){if(delete e[r],o=o||"toggle"===i,i===(v?"hide":"show")){if("show"!==i||!_||void 0===_[r])continue;v=!0}h[r]=_&&_[r]||_t.style(t,r)}if(u=!_t.isEmptyObject(e),u||!_t.isEmptyObject(h)){f&&1===t.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],c=_&&_.display,null==c&&(c=It.get(t,"display")),l=_t.css(t,"display"),"none"===l&&(c?l=c:(g([t],!0),c=t.style.display||c,l=_t.css(t,"display"),g([t]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===_t.css(t,"float")&&(u||(p.done(function(){d.display=c}),null==c&&(l=d.display,c="none"===l?"":l)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",p.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),u=!1;for(r in h)u||(_?"hidden"in _&&(v=_.hidden):_=It.access(t,"fxshow",{display:c}),o&&(_.hidden=!v),v&&g([t],!0),p.done(function(){v||g([t]),It.remove(t,"fxshow");for(r in h)_t.style(t,r,h[r])})),u=$(v?_[r]:0,r,p),r in _||(_[r]=u.start,v&&(u.end=u.start,u.start=0))}}function Q(t,e){var n,r,i,o,s;for(n in t)if(r=_t.camelCase(n),i=e[r],o=t[n],_t.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),s=_t.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function z(t,e,n){var r,i,o=0,s=z.prefilters.length,a=_t.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=ve||U(),n=Math.max(0,c.startTime+c.duration-e),r=n/c.duration||0,o=1-r,s=0,u=c.tweens.length;s<u;s++)c.tweens[s].run(o);return a.notifyWith(t,[c,o,n]),o<1&&u?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:_t.extend({},e),opts:_t.extend(!0,{specialEasing:{},easing:_t.easing._default},n),originalProperties:e,originalOptions:n,startTime:ve||U(),duration:n.duration,tweens:[],createTween:function(e,n){var r=_t.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),l=c.props;for(Q(l,c.opts.specialEasing);o<s;o++)if(r=z.prefilters[o].call(c,t,l,c.opts))return _t.isFunction(r.stop)&&(_t._queueHooks(c.elem,c.opts.queue).stop=_t.proxy(r.stop,r)),r;return _t.map(l,$,c),_t.isFunction(c.opts.start)&&c.opts.start.call(t,c),_t.fx.timer(_t.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function X(t){return t.getAttribute&&t.getAttribute("class")||""}function G(t,e,n,r){var i;if(_t.isArray(e))_t.each(e,function(e,i){n||Pe.test(t)?r(t,i):G(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==_t.type(e))r(t,e);else for(i in e)G(t+"["+i+"]",e[i],n,r)}function J(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(Rt)||[];if(_t.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function K(t,e,n,r){function i(a){var u;return o[a]=!0,_t.each(t[a]||[],function(t,a){var c=a(e,n,r);return"string"!=typeof c||s||o[c]?s?!(u=c):void 0:(e.dataTypes.unshift(c),i(c),!1)}),u}var o={},s=t===Ue;return i(e.dataTypes[0])||!o["*"]&&i("*")}function Y(t,e){var n,r,i=_t.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&_t.extend(!0,t,r),t}function Z(t,e,n){for(var r,i,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}function tt(t,e,n,r){var i,o,s,a,u,c={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=c[u+" "+o]||c["* "+o],!s)for(i in c)if(a=i.split(" "),a[1]===o&&(s=c[u+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[i]:c[i]!==!0&&(o=a[0],l.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(f){return{state:"parsererror",error:s?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function et(t){return _t.isWindow(t)?t:9===t.nodeType&&t.defaultView}var nt=[],rt=n.document,it=Object.getPrototypeOf,ot=nt.slice,st=nt.concat,at=nt.push,ut=nt.indexOf,ct={},lt=ct.toString,ft=ct.hasOwnProperty,pt=ft.toString,ht=pt.call(Object),dt={},vt="3.1.0",_t=function(t,e){return new _t.fn.init(t,e)},yt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,mt=/^-ms-/,gt=/-([a-z])/g,bt=function(t,e){return e.toUpperCase()};_t.fn=_t.prototype={jquery:vt,constructor:_t,length:0,toArray:function(){return ot.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:ot.call(this)},pushStack:function(t){var e=_t.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return _t.each(this,t)},map:function(t){return this.pushStack(_t.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(ot.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:at,sort:nt.sort,splice:nt.splice},_t.extend=_t.fn.extend=function(){var t,e,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||_t.isFunction(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],r=t[e],s!==r&&(c&&r&&(_t.isPlainObject(r)||(i=_t.isArray(r)))?(i?(i=!1,o=n&&_t.isArray(n)?n:[]):o=n&&_t.isPlainObject(n)?n:{},s[e]=_t.extend(c,o,r)):void 0!==r&&(s[e]=r));return s},_t.extend({expando:"jQuery"+(vt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===_t.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=_t.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==lt.call(t))&&(!(e=it(t))||(n=ft.call(e,"constructor")&&e.constructor,"function"==typeof n&&pt.call(n)===ht))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ct[lt.call(t)]||"object":typeof t},globalEval:function(t){s(t)},camelCase:function(t){return t.replace(mt,"ms-").replace(gt,bt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,r=0;if(a(t))for(n=t.length;r<n&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(yt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(a(Object(t))?_t.merge(n,"string"==typeof t?[t]:t):at.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:ut.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r,i=[],o=0,s=t.length,a=!n;o<s;o++)r=!e(t[o],o),r!==a&&i.push(t[o]);return i},map:function(t,e,n){var r,i,o=0,s=[];if(a(t))for(r=t.length;o<r;o++)i=e(t[o],o,n),null!=i&&s.push(i);else for(o in t)i=e(t[o],o,n),null!=i&&s.push(i);return st.apply([],s)},guid:1,proxy:function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),_t.isFunction(t))return r=ot.call(arguments,2),i=function(){return t.apply(e||this,r.concat(ot.call(arguments)))},i.guid=t.guid=t.guid||_t.guid++,i},now:Date.now,support:dt}),"function"==typeof Symbol&&(_t.fn[Symbol.iterator]=nt[Symbol.iterator]),_t.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ct["[object "+e+"]"]=e.toLowerCase()});var wt=/*!
	 * Sizzle CSS Selector Engine v2.3.0
	 * https://sizzlejs.com/
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 *
	 * Date: 2016-01-04
	 */
function(t){function e(t,e,n,r){var i,o,s,a,u,c,l,p=e&&e.ownerDocument,d=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==d&&9!==d&&11!==d)return n;if(!r&&((e?e.ownerDocument||e:q)!==A&&R(e),e=e||A,N)){if(11!==d&&(u=yt.exec(t)))if(i=u[1]){if(9===d){if(!(s=e.getElementById(i)))return n;if(s.id===i)return n.push(s),n}else if(p&&(s=p.getElementById(i))&&M(e,s)&&s.id===i)return n.push(s),n}else{if(u[2])return Y.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&x.getElementsByClassName&&e.getElementsByClassName)return Y.apply(n,e.getElementsByClassName(i)),n}if(x.qsa&&!Q[t+" "]&&(!L||!L.test(t))){if(1!==d)p=e,l=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(wt,xt):e.setAttribute("id",a=B),c=T(t),o=c.length;o--;)c[o]="#"+a+" "+h(c[o]);l=c.join(","),p=mt.test(t)&&f(e.parentNode)||e}if(l)try{return Y.apply(n,p.querySelectorAll(l)),n}catch(v){}finally{a===B&&e.removeAttribute("id")}}}return F(t.replace(at,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>C.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[B]=!0,t}function i(t){var e=A.createElement("fieldset");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=n.length;r--;)C.attrHandle[n[r]]=e}function s(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return function(e){return"label"in e&&e.disabled===t||"form"in e&&e.disabled===t||"form"in e&&e.disabled===!1&&(e.isDisabled===t||e.isDisabled!==!t&&("label"in e||!Et(e))!==t)}}function l(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function f(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function p(){}function h(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function d(t,e,n){var r=e.dir,i=e.next,o=i||r,s=n&&"parentNode"===o,a=V++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||s)return t(e,n,i)}:function(e,n,u){var c,l,f,p=[U,a];if(u){for(;e=e[r];)if((1===e.nodeType||s)&&t(e,n,u))return!0}else for(;e=e[r];)if(1===e.nodeType||s)if(f=e[B]||(e[B]={}),l=f[e.uniqueID]||(f[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((c=l[o])&&c[0]===U&&c[1]===a)return p[2]=c[2];if(l[o]=p,p[2]=t(e,n,u))return!0}}}function v(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function _(t,n,r){for(var i=0,o=n.length;i<o;i++)e(t,n[i],r);return r}function y(t,e,n,r,i){for(var o,s=[],a=0,u=t.length,c=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,r,i)||(s.push(o),c&&e.push(a)));return s}function m(t,e,n,i,o,s){return i&&!i[B]&&(i=m(i)),o&&!o[B]&&(o=m(o,s)),r(function(r,s,a,u){var c,l,f,p=[],h=[],d=s.length,v=r||_(e||"*",a.nodeType?[a]:a,[]),m=!t||!r&&e?v:y(v,p,t,a,u),g=n?o||(r?t:d||i)?[]:s:m;if(n&&n(m,g,a,u),i)for(c=y(g,h),i(c,[],a,u),l=c.length;l--;)(f=c[l])&&(g[h[l]]=!(m[h[l]]=f));if(r){if(o||t){if(o){for(c=[],l=g.length;l--;)(f=g[l])&&c.push(m[l]=f);o(null,g=[],c,u)}for(l=g.length;l--;)(f=g[l])&&(c=o?tt(r,f):p[l])>-1&&(r[c]=!(s[c]=f))}}else g=y(g===s?g.splice(d,g.length):g),o?o(null,s,g,u):Y.apply(s,g)})}function g(t){for(var e,n,r,i=t.length,o=C.relative[t[0].type],s=o||C.relative[" "],a=o?1:0,u=d(function(t){return t===e},s,!0),c=d(function(t){return tt(e,t)>-1},s,!0),l=[function(t,n,r){var i=!o&&(r||n!==S)||((e=n).nodeType?u(t,n,r):c(t,n,r));return e=null,i}];a<i;a++)if(n=C.relative[t[a].type])l=[d(v(l),n)];else{if(n=C.filter[t[a].type].apply(null,t[a].matches),n[B]){for(r=++a;r<i&&!C.relative[t[r].type];r++);return m(a>1&&v(l),a>1&&h(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),n,a<r&&g(t.slice(a,r)),r<i&&g(t=t.slice(r)),r<i&&h(t))}l.push(n)}return v(l)}function b(t,n){var i=n.length>0,o=t.length>0,s=function(r,s,a,u,c){var l,f,p,h=0,d="0",v=r&&[],_=[],m=S,g=r||o&&C.find.TAG("*",c),b=U+=null==m?1:Math.random()||.1,w=g.length;for(c&&(S=s===A||s||c);d!==w&&null!=(l=g[d]);d++){if(o&&l){for(f=0,s||l.ownerDocument===A||(R(l),a=!N);p=t[f++];)if(p(l,s||A,a)){u.push(l);break}c&&(U=b)}i&&((l=!p&&l)&&h--,r&&v.push(l))}if(h+=d,i&&d!==h){for(f=0;p=n[f++];)p(v,_,s,a);if(r){if(h>0)for(;d--;)v[d]||_[d]||(_[d]=J.call(u));_=y(_)}Y.apply(u,_),c&&!r&&_.length>0&&h+n.length>1&&e.uniqueSort(u)}return c&&(U=b,S=m),v};return i?r(s):s}var w,x,C,E,k,T,j,F,S,P,O,R,A,D,N,L,I,H,M,B="sizzle"+1*new Date,q=t.document,U=0,V=0,$=n(),W=n(),Q=n(),z=function(t,e){return t===e&&(O=!0),0},X={}.hasOwnProperty,G=[],J=G.pop,K=G.push,Y=G.push,Z=G.slice,tt=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",it="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",ot=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),lt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ft=new RegExp(ot),pt=new RegExp("^"+rt+"$"),ht={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},dt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,_t=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mt=/[+~]/,gt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),bt=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},wt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,xt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},Ct=function(){R()},Et=d(function(t){return t.disabled===!0},{dir:"parentNode",next:"legend"});try{Y.apply(G=Z.call(q.childNodes),q.childNodes),G[q.childNodes.length].nodeType}catch(kt){Y={apply:G.length?function(t,e){K.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}x=e.support={},k=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},R=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:q;return r!==A&&9===r.nodeType&&r.documentElement?(A=r,D=A.documentElement,N=!k(A),q!==A&&(n=A.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),x.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=i(function(t){return t.appendChild(A.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=_t.test(A.getElementsByClassName),x.getById=i(function(t){return D.appendChild(t).id=B,!A.getElementsByName||!A.getElementsByName(B).length}),x.getById?(C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&N){var n=e.getElementById(t);return n?[n]:[]}},C.filter.ID=function(t){var e=t.replace(gt,bt);return function(t){return t.getAttribute("id")===e}}):(delete C.find.ID,C.filter.ID=function(t){var e=t.replace(gt,bt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),C.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},C.find.CLASS=x.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&N)return e.getElementsByClassName(t)},I=[],L=[],(x.qsa=_t.test(A.querySelectorAll))&&(i(function(t){D.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+B+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||L.push(".#.+[+~]")}),i(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=A.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+nt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&L.push(":enabled",":disabled"),D.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(x.matchesSelector=_t.test(H=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&i(function(t){x.disconnectedMatch=H.call(t,"*"),H.call(t,"[s!='']:x"),I.push("!=",ot)}),L=L.length&&new RegExp(L.join("|")),I=I.length&&new RegExp(I.join("|")),e=_t.test(D.compareDocumentPosition),M=e||_t.test(D.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},z=e?function(t,e){if(t===e)return O=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!x.sortDetached&&e.compareDocumentPosition(t)===n?t===A||t.ownerDocument===q&&M(q,t)?-1:e===A||e.ownerDocument===q&&M(q,e)?1:P?tt(P,t)-tt(P,e):0:4&n?-1:1)}:function(t,e){if(t===e)return O=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,a=[t],u=[e];if(!i||!o)return t===A?-1:e===A?1:i?-1:o?1:P?tt(P,t)-tt(P,e):0;if(i===o)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;a[r]===u[r];)r++;return r?s(a[r],u[r]):a[r]===q?-1:u[r]===q?1:0},A):A},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==A&&R(t),n=n.replace(lt,"='$1']"),x.matchesSelector&&N&&!Q[n+" "]&&(!I||!I.test(n))&&(!L||!L.test(n)))try{var r=H.call(t,n);if(r||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,A,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==A&&R(t),M(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==A&&R(t);var n=C.attrHandle[e.toLowerCase()],r=n&&X.call(C.attrHandle,e.toLowerCase())?n(t,e,!N):void 0;return void 0!==r?r:x.attributes||!N?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.escape=function(t){return(t+"").replace(wt,xt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(O=!x.detectDuplicates,P=!x.sortStable&&t.slice(0),t.sort(z),O){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return P=null,t},E=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=E(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=E(e);return n},C=e.selectors={cacheLength:50,createPseudo:r,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(gt,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(gt,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ht.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ft.test(n)&&(e=T(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(gt,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=$[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&$(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(st," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var c,l,f,p,h,d,v=o!==s?"nextSibling":"previousSibling",_=e.parentNode,y=a&&e.nodeName.toLowerCase(),m=!u&&!a,g=!1;if(_){if(o){for(;v;){for(p=e;p=p[v];)if(a?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;d=v="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?_.firstChild:_.lastChild],s&&m){for(p=_,f=p[B]||(p[B]={}),l=f[p.uniqueID]||(f[p.uniqueID]={}),c=l[t]||[],h=c[0]===U&&c[1],g=h&&c[2],p=h&&_.childNodes[h];p=++h&&p&&p[v]||(g=h=0)||d.pop();)if(1===p.nodeType&&++g&&p===e){l[t]=[U,h,g];break}}else if(m&&(p=e,f=p[B]||(p[B]={}),l=f[p.uniqueID]||(f[p.uniqueID]={}),c=l[t]||[],h=c[0]===U&&c[1],g=h),g===!1)for(;(p=++h&&p&&p[v]||(g=h=0)||d.pop())&&((a?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++g||(m&&(f=p[B]||(p[B]={}),l=f[p.uniqueID]||(f[p.uniqueID]={}),l[t]=[U,g]),p!==e)););return g-=i,g===r||g%r===0&&g/r>=0}}},PSEUDO:function(t,n){var i,o=C.pseudos[t]||C.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[B]?o(n):o.length>1?(i=[t,t,"",n],C.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),s=i.length;s--;)r=tt(t,i[s]),t[r]=!(e[r]=i[s])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=j(t.replace(at,"$1"));return i[B]?r(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(gt,bt),function(e){return(e.textContent||e.innerText||E(e)).indexOf(t)>-1}}),lang:r(function(t){return pt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(gt,bt).toLowerCase(),function(e){var n;do if(n=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===D},focus:function(t){return t===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:c(!1),disabled:c(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return vt.test(t.nodeName)},input:function(t){return dt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[n<0?n+e:n]}),even:l(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t}),gt:l(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}},C.pseudos.nth=C.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=u(w);return p.prototype=C.filters=C.pseudos,C.setFilters=new p,T=e.tokenize=function(t,n){var r,i,o,s,a,u,c,l=W[t+" "];if(l)return n?0:l.slice(0);for(a=t,u=[],c=C.preFilter;a;){r&&!(i=ut.exec(a))||(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=ct.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(at," ")}),a=a.slice(r.length));for(s in C.filter)!(i=ht[s].exec(a))||c[s]&&!(i=c[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?e.error(t):W(t,u).slice(0)},j=e.compile=function(t,e){var n,r=[],i=[],o=Q[t+" "];if(!o){for(e||(e=T(t)),n=e.length;n--;)o=g(e[n]),o[B]?r.push(o):i.push(o);o=Q(t,b(i,r)),o.selector=t}return o},F=e.select=function(t,e,n,r){var i,o,s,a,u,c="function"==typeof t&&t,l=!r&&T(t=c.selector||t);if(n=n||[],1===l.length){if(o=l[0]=l[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&x.getById&&9===e.nodeType&&N&&C.relative[o[1].type]){if(e=(C.find.ID(s.matches[0].replace(gt,bt),e)||[])[0],!e)return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=ht.needsContext.test(t)?0:o.length;i--&&(s=o[i],!C.relative[a=s.type]);)if((u=C.find[a])&&(r=u(s.matches[0].replace(gt,bt),mt.test(o[0].type)&&f(e.parentNode)||e))){if(o.splice(i,1),t=r.length&&h(o),!t)return Y.apply(n,r),n;break}}return(c||j(t,l))(r,e,!N,n,!e||mt.test(t)&&f(e.parentNode)||e),n},x.sortStable=B.split("").sort(z).join("")===B,x.detectDuplicates=!!O,R(),x.sortDetached=i(function(t){return 1&t.compareDocumentPosition(A.createElement("fieldset"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var r;if(!n)return t[e]===!0?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(n);_t.find=wt,_t.expr=wt.selectors,_t.expr[":"]=_t.expr.pseudos,_t.uniqueSort=_t.unique=wt.uniqueSort,_t.text=wt.getText,_t.isXMLDoc=wt.isXML,_t.contains=wt.contains,_t.escapeSelector=wt.escape;var xt=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&_t(t).is(n))break;r.push(t)}return r},Ct=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},Et=_t.expr.match.needsContext,kt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Tt=/^.[^:#\[\.,]*$/;_t.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?_t.find.matchesSelector(r,t)?[r]:[]:_t.find.matches(t,_t.grep(e,function(t){return 1===t.nodeType}))},_t.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(_t(t).filter(function(){for(e=0;e<r;e++)if(_t.contains(i[e],this))return!0}));for(n=this.pushStack([]),e=0;e<r;e++)_t.find(t,i[e],n);return r>1?_t.uniqueSort(n):n},filter:function(t){return this.pushStack(u(this,t||[],!1))},not:function(t){return this.pushStack(u(this,t||[],!0))},is:function(t){return!!u(this,"string"==typeof t&&Et.test(t)?_t(t):t||[],!1).length}});var jt,Ft=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,St=_t.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||jt,"string"==typeof t){if(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Ft.exec(t),!r||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof _t?e[0]:e,_t.merge(this,_t.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:rt,!0)),kt.test(r[1])&&_t.isPlainObject(e))for(r in e)_t.isFunction(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return i=rt.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):_t.isFunction(t)?void 0!==n.ready?n.ready(t):t(_t):_t.makeArray(t,this)};St.prototype=_t.fn,jt=_t(rt);var Pt=/^(?:parents|prev(?:Until|All))/,Ot={children:!0,contents:!0,next:!0,prev:!0};_t.fn.extend({has:function(t){var e=_t(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(_t.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,i=this.length,o=[],s="string"!=typeof t&&_t(t);if(!Et.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&_t.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?_t.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?ut.call(_t(t),this[0]):ut.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(_t.uniqueSort(_t.merge(this.get(),_t(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),_t.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return xt(t,"parentNode")},parentsUntil:function(t,e,n){return xt(t,"parentNode",n)},next:function(t){return c(t,"nextSibling")},prev:function(t){return c(t,"previousSibling")},nextAll:function(t){return xt(t,"nextSibling")},prevAll:function(t){return xt(t,"previousSibling")},nextUntil:function(t,e,n){return xt(t,"nextSibling",n)},prevUntil:function(t,e,n){return xt(t,"previousSibling",n)},siblings:function(t){return Ct((t.parentNode||{}).firstChild,t)},children:function(t){return Ct(t.firstChild)},contents:function(t){return t.contentDocument||_t.merge([],t.childNodes)}},function(t,e){_t.fn[t]=function(n,r){var i=_t.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=_t.filter(r,i)),this.length>1&&(Ot[t]||_t.uniqueSort(i),Pt.test(t)&&i.reverse()),this.pushStack(i)}});var Rt=/\S+/g;_t.Callbacks=function(t){t="string"==typeof t?l(t):_t.extend({},t);var e,n,r,i,o=[],s=[],a=-1,u=function(){for(i=t.once,r=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)o[a].apply(n[0],n[1])===!1&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function r(e){_t.each(e,function(e,n){_t.isFunction(n)?t.unique&&c.has(n)||o.push(n):n&&n.length&&"string"!==_t.type(n)&&r(n)})}(arguments),n&&!e&&u()),this},remove:function(){return _t.each(arguments,function(t,e){for(var n;(n=_t.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(t){return t?_t.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},_t.extend({Deferred:function(t){var e=[["notify","progress",_t.Callbacks("memory"),_t.Callbacks("memory"),2],["resolve","done",_t.Callbacks("once memory"),_t.Callbacks("once memory"),0,"resolved"],["reject","fail",_t.Callbacks("once memory"),_t.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(t){return i.then(null,t)},pipe:function(){var t=arguments;return _t.Deferred(function(n){_t.each(e,function(e,r){var i=_t.isFunction(t[r[4]])&&t[r[4]];o[r[1]](function(){var t=i&&i.apply(this,arguments);t&&_t.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[t]:arguments)})}),t=null}).promise()},then:function(t,r,i){function o(t,e,r,i){return function(){var a=this,u=arguments,c=function(){var n,c;if(!(t<s)){if(n=r.apply(a,u),n===e.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,_t.isFunction(c)?i?c.call(n,o(s,e,f,i),o(s,e,p,i)):(s++,c.call(n,o(s,e,f,i),o(s,e,p,i),o(s,e,f,e.notifyWith))):(r!==f&&(a=void 0,u=[n]),(i||e.resolveWith)(a,u))}},l=i?c:function(){try{c()}catch(n){_t.Deferred.exceptionHook&&_t.Deferred.exceptionHook(n,l.stackTrace),t+1>=s&&(r!==p&&(a=void 0,u=[n]),e.rejectWith(a,u))}};t?l():(_t.Deferred.getStackHook&&(l.stackTrace=_t.Deferred.getStackHook()),n.setTimeout(l))}}var s=0;return _t.Deferred(function(n){e[0][3].add(o(0,n,_t.isFunction(i)?i:f,n.notifyWith)),e[1][3].add(o(0,n,_t.isFunction(t)?t:f)),e[2][3].add(o(0,n,_t.isFunction(r)?r:p))}).promise()},promise:function(t){return null!=t?_t.extend(t,i):i}},o={};return _t.each(e,function(t,n){var s=n[2],a=n[5];i[n[1]]=s.add,a&&s.add(function(){r=a},e[3-t][2].disable,e[0][2].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),i=ot.call(arguments),o=_t.Deferred(),s=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?ot.call(arguments):n,--e||o.resolveWith(r,i)}};if(e<=1&&(h(t,o.done(s(n)).resolve,o.reject),"pending"===o.state()||_t.isFunction(i[n]&&i[n].then)))return o.then();for(;n--;)h(i[n],s(n),o.reject);return o.promise()}});var At=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_t.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&At.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},_t.readyException=function(t){n.setTimeout(function(){throw t})};var Dt=_t.Deferred();_t.fn.ready=function(t){return Dt.then(t)["catch"](function(t){_t.readyException(t)}),this},_t.extend({isReady:!1,readyWait:1,holdReady:function(t){t?_t.readyWait++:_t.ready(!0)},ready:function(t){(t===!0?--_t.readyWait:_t.isReady)||(_t.isReady=!0,t!==!0&&--_t.readyWait>0||Dt.resolveWith(rt,[_t]))}}),_t.ready.then=Dt.then,"complete"===rt.readyState||"loading"!==rt.readyState&&!rt.documentElement.doScroll?n.setTimeout(_t.ready):(rt.addEventListener("DOMContentLoaded",d),n.addEventListener("load",d));var Nt=function(t,e,n,r,i,o,s){var a=0,u=t.length,c=null==n;if("object"===_t.type(n)){i=!0;for(a in n)Nt(t,e,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,_t.isFunction(r)||(s=!0),c&&(s?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(_t(t),n)})),e))for(;a<u;a++)e(t[a],n,s?r:r.call(t[a],a,e(t[a],n)));return i?t:c?e.call(t):u?e(t[0],n):o},Lt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};v.uid=1,v.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Lt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[_t.camelCase(e)]=n;else for(r in e)i[_t.camelCase(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][_t.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){_t.isArray(e)?e=e.map(_t.camelCase):(e=_t.camelCase(e),e=e in r?[e]:e.match(Rt)||[]),n=e.length;for(;n--;)delete r[e[n]]}(void 0===e||_t.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!_t.isEmptyObject(e)}};var It=new v,Ht=new v,Mt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Bt=/[A-Z]/g;_t.extend({hasData:function(t){return Ht.hasData(t)||It.hasData(t)},data:function(t,e,n){return Ht.access(t,e,n)},removeData:function(t,e){Ht.remove(t,e)},_data:function(t,e,n){return It.access(t,e,n)},_removeData:function(t,e){It.remove(t,e)}}),_t.fn.extend({data:function(t,e){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(i=Ht.get(o),1===o.nodeType&&!It.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=_t.camelCase(r.slice(5)),_(o,r,i[r])));It.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){Ht.set(this,t)}):Nt(this,function(e){var n;if(o&&void 0===e){if(n=Ht.get(o,t),void 0!==n)return n;if(n=_(o,t),void 0!==n)return n}else this.each(function(){Ht.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Ht.remove(this,t)})}}),_t.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=It.get(t,e),n&&(!r||_t.isArray(n)?r=It.access(t,e,_t.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=_t.queue(t,e),r=n.length,i=n.shift(),o=_t._queueHooks(t,e),s=function(){_t.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return It.get(t,n)||It.access(t,n,{empty:_t.Callbacks("once memory").add(function(){It.remove(t,[e+"queue",n])})})}}),_t.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?_t.queue(this[0],t):void 0===e?this:this.each(function(){var n=_t.queue(this,t,e);_t._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&_t.dequeue(this,t)})},dequeue:function(t){return this.each(function(){_t.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=_t.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=It.get(o[s],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(e)}});var qt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ut=new RegExp("^(?:([+-])=|)("+qt+")([a-z%]*)$","i"),Vt=["Top","Right","Bottom","Left"],$t=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&_t.contains(t.ownerDocument,t)&&"none"===_t.css(t,"display")},Wt=function(t,e,n,r){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=s[o];return i},Qt={};_t.fn.extend({show:function(){return g(this,!0)},hide:function(){return g(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){$t(this)?_t(this).show():_t(this).hide()})}});var zt=/^(?:checkbox|radio)$/i,Xt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Gt=/^$|\/(?:java|ecma)script/i,Jt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Jt.optgroup=Jt.option,Jt.tbody=Jt.tfoot=Jt.colgroup=Jt.caption=Jt.thead,Jt.th=Jt.td;var Kt=/<|&#?\w+;/;!function(){var t=rt.createDocumentFragment(),e=t.appendChild(rt.createElement("div")),n=rt.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),dt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",dt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue;
}();var Yt=rt.documentElement,Zt=/^key/,te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ee=/^([^.]*)(?:\.(.+)|)/;_t.event={global:{},add:function(t,e,n,r,i){var o,s,a,u,c,l,f,p,h,d,v,_=It.get(t);if(_)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&_t.find.matchesSelector(Yt,i),n.guid||(n.guid=_t.guid++),(u=_.events)||(u=_.events={}),(s=_.handle)||(s=_.handle=function(e){return"undefined"!=typeof _t&&_t.event.triggered!==e.type?_t.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Rt)||[""],c=e.length;c--;)a=ee.exec(e[c])||[],h=v=a[1],d=(a[2]||"").split(".").sort(),h&&(f=_t.event.special[h]||{},h=(i?f.delegateType:f.bindType)||h,f=_t.event.special[h]||{},l=_t.extend({type:h,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&_t.expr.match.needsContext.test(i),namespace:d.join(".")},o),(p=u[h])||(p=u[h]=[],p.delegateCount=0,f.setup&&f.setup.call(t,r,d,s)!==!1||t.addEventListener&&t.addEventListener(h,s)),f.add&&(f.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,l):p.push(l),_t.event.global[h]=!0)},remove:function(t,e,n,r,i){var o,s,a,u,c,l,f,p,h,d,v,_=It.hasData(t)&&It.get(t);if(_&&(u=_.events)){for(e=(e||"").match(Rt)||[""],c=e.length;c--;)if(a=ee.exec(e[c])||[],h=v=a[1],d=(a[2]||"").split(".").sort(),h){for(f=_t.event.special[h]||{},h=(r?f.delegateType:f.bindType)||h,p=u[h]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)l=p[o],!i&&v!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(p.splice(o,1),l.selector&&p.delegateCount--,f.remove&&f.remove.call(t,l));s&&!p.length&&(f.teardown&&f.teardown.call(t,d,_.handle)!==!1||_t.removeEvent(t,h,_.handle),delete u[h])}else for(h in u)_t.event.remove(t,h+e[c],n,r,!0);_t.isEmptyObject(u)&&It.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,s,a=_t.event.fix(t),u=new Array(arguments.length),c=(It.get(this,"events")||{})[a.type]||[],l=_t.event.special[a.type]||{};for(u[0]=a,e=1;e<arguments.length;e++)u[e]=arguments[e];if(a.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,a)!==!1){for(s=_t.event.handlers.call(this,a,c),e=0;(i=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,r=((_t.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u),void 0!==r&&(a.result=r)===!1&&(a.preventDefault(),a.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,r,i,o,s=[],a=e.delegateCount,u=t.target;if(a&&u.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==t.type)){for(r=[],n=0;n<a;n++)o=e[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?_t(i,this).index(u)>-1:_t.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},addProp:function(t,e){Object.defineProperty(_t.Event.prototype,t,{enumerable:!0,configurable:!0,get:_t.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[_t.expando]?t:new _t.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==k()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===k()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&_t.nodeName(this,"input"))return this.click(),!1},_default:function(t){return _t.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},_t.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},_t.Event=function(t,e){return this instanceof _t.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?C:E,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&_t.extend(this,e),this.timeStamp=t&&t.timeStamp||_t.now(),void(this[_t.expando]=!0)):new _t.Event(t,e)},_t.Event.prototype={constructor:_t.Event,isDefaultPrevented:E,isPropagationStopped:E,isImmediatePropagationStopped:E,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=C,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=C,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=C,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},_t.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Zt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&te.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},_t.event.addProp),_t.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){_t.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===r||_t.contains(r,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),_t.fn.extend({on:function(t,e,n,r){return T(this,t,e,n,r)},one:function(t,e,n,r){return T(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,_t(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=E),this.each(function(){_t.event.remove(this,t,n,e)})}});var ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,re=/<script|<style|<link/i,ie=/checked\s*(?:[^=]|=\s*.checked.)/i,oe=/^true\/(.*)/,se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;_t.extend({htmlPrefilter:function(t){return t.replace(ne,"<$1></$2>")},clone:function(t,e,n){var r,i,o,s,a=t.cloneNode(!0),u=_t.contains(t.ownerDocument,t);if(!(dt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||_t.isXMLDoc(t)))for(s=b(a),o=b(t),r=0,i=o.length;r<i;r++)O(o[r],s[r]);if(e)if(n)for(o=o||b(t),s=s||b(a),r=0,i=o.length;r<i;r++)P(o[r],s[r]);else P(t,a);return s=b(a,"script"),s.length>0&&w(s,!u&&b(t,"script")),a},cleanData:function(t){for(var e,n,r,i=_t.event.special,o=0;void 0!==(n=t[o]);o++)if(Lt(n)){if(e=n[It.expando]){if(e.events)for(r in e.events)i[r]?_t.event.remove(n,r):_t.removeEvent(n,r,e.handle);n[It.expando]=void 0}n[Ht.expando]&&(n[Ht.expando]=void 0)}}}),_t.fn.extend({detach:function(t){return A(this,t,!0)},remove:function(t){return A(this,t)},text:function(t){return Nt(this,function(t){return void 0===t?_t.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return R(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=j(this,t);e.appendChild(t)}})},prepend:function(){return R(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=j(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return R(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return R(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(_t.cleanData(b(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return _t.clone(this,t,e)})},html:function(t){return Nt(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!re.test(t)&&!Jt[(Xt.exec(t)||["",""])[1].toLowerCase()]){t=_t.htmlPrefilter(t);try{for(;n<r;n++)e=this[n]||{},1===e.nodeType&&(_t.cleanData(b(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return R(this,arguments,function(e){var n=this.parentNode;_t.inArray(this,t)<0&&(_t.cleanData(b(this)),n&&n.replaceChild(e,this))},t)}}),_t.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){_t.fn[t]=function(t){for(var n,r=[],i=_t(t),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),_t(i[s])[e](n),at.apply(r,n.get());return this.pushStack(r)}});var ae=/^margin/,ue=new RegExp("^("+qt+")(?!px)[a-z%]+$","i"),ce=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)};!function(){function t(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Yt.appendChild(s);var t=n.getComputedStyle(a);e="1%"!==t.top,o="2px"===t.marginLeft,r="4px"===t.width,a.style.marginRight="50%",i="4px"===t.marginRight,Yt.removeChild(s),a=null}}var e,r,i,o,s=rt.createElement("div"),a=rt.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",dt.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),_t.extend(dt,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return t(),r},pixelMarginRight:function(){return t(),i},reliableMarginLeft:function(){return t(),o}}))}();var le=/^(none|table(?!-c[ea]).+)/,fe={position:"absolute",visibility:"hidden",display:"block"},pe={letterSpacing:"0",fontWeight:"400"},he=["Webkit","Moz","ms"],de=rt.createElement("div").style;_t.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=D(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,s,a=_t.camelCase(e),u=t.style;return e=_t.cssProps[a]||(_t.cssProps[a]=L(a)||a),s=_t.cssHooks[e]||_t.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(i=s.get(t,!1,r))?i:u[e]:(o=typeof n,"string"===o&&(i=Ut.exec(n))&&i[1]&&(n=y(t,e,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(_t.cssNumber[a]?"":"px")),dt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,r))||(u[e]=n)),void 0)}},css:function(t,e,n,r){var i,o,s,a=_t.camelCase(e);return e=_t.cssProps[a]||(_t.cssProps[a]=L(a)||a),s=_t.cssHooks[e]||_t.cssHooks[a],s&&"get"in s&&(i=s.get(t,!0,n)),void 0===i&&(i=D(t,e,r)),"normal"===i&&e in pe&&(i=pe[e]),""===n||n?(o=parseFloat(i),n===!0||isFinite(o)?o||0:i):i}}),_t.each(["height","width"],function(t,e){_t.cssHooks[e]={get:function(t,n,r){if(n)return!le.test(_t.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?M(t,e,r):Wt(t,fe,function(){return M(t,e,r)})},set:function(t,n,r){var i,o=r&&ce(t),s=r&&H(t,e,r,"border-box"===_t.css(t,"boxSizing",!1,o),o);return s&&(i=Ut.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=_t.css(t,e)),I(t,n,s)}}}),_t.cssHooks.marginLeft=N(dt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(D(t,"marginLeft"))||t.getBoundingClientRect().left-Wt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),_t.each({margin:"",padding:"",border:"Width"},function(t,e){_t.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+Vt[r]+e]=o[r]||o[r-2]||o[0];return i}},ae.test(t)||(_t.cssHooks[t+e].set=I)}),_t.fn.extend({css:function(t,e){return Nt(this,function(t,e,n){var r,i,o={},s=0;if(_t.isArray(e)){for(r=ce(t),i=e.length;s<i;s++)o[e[s]]=_t.css(t,e[s],!1,r);return o}return void 0!==n?_t.style(t,e,n):_t.css(t,e)},t,e,arguments.length>1)}}),_t.Tween=B,B.prototype={constructor:B,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||_t.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(_t.cssNumber[n]?"":"px")},cur:function(){var t=B.propHooks[this.prop];return t&&t.get?t.get(this):B.propHooks._default.get(this)},run:function(t){var e,n=B.propHooks[this.prop];return this.options.duration?this.pos=e=_t.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=_t.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){_t.fx.step[t.prop]?_t.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[_t.cssProps[t.prop]]&&!_t.cssHooks[t.prop]?t.elem[t.prop]=t.now:_t.style(t.elem,t.prop,t.now+t.unit)}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},_t.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},_t.fx=B.prototype.init,_t.fx.step={};var ve,_e,ye=/^(?:toggle|show|hide)$/,me=/queueHooks$/;_t.Animation=_t.extend(z,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return y(n.elem,t,Ut.exec(e),n),n}]},tweener:function(t,e){_t.isFunction(t)?(e=t,t=["*"]):t=t.match(Rt);for(var n,r=0,i=t.length;r<i;r++)n=t[r],z.tweeners[n]=z.tweeners[n]||[],z.tweeners[n].unshift(e)},prefilters:[W],prefilter:function(t,e){e?z.prefilters.unshift(t):z.prefilters.push(t)}}),_t.speed=function(t,e,n){var r=t&&"object"==typeof t?_t.extend({},t):{complete:n||!n&&e||_t.isFunction(t)&&t,duration:t,easing:n&&e||e&&!_t.isFunction(e)&&e};return _t.fx.off||rt.hidden?r.duration=0:r.duration="number"==typeof r.duration?r.duration:r.duration in _t.fx.speeds?_t.fx.speeds[r.duration]:_t.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){_t.isFunction(r.old)&&r.old.call(this),r.queue&&_t.dequeue(this,r.queue)},r},_t.fn.extend({fadeTo:function(t,e,n,r){return this.filter($t).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=_t.isEmptyObject(t),o=_t.speed(e,n,r),s=function(){var e=z(this,_t.extend({},t),o);(i||It.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=_t.timers,s=It.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&me.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||_t.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=It.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=_t.timers,s=r?r.length:0;for(n.finish=!0,_t.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),_t.each(["toggle","show","hide"],function(t,e){var n=_t.fn[e];_t.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(V(e,!0),t,r,i)}}),_t.each({slideDown:V("show"),slideUp:V("hide"),slideToggle:V("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){_t.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),_t.timers=[],_t.fx.tick=function(){var t,e=0,n=_t.timers;for(ve=_t.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||_t.fx.stop(),ve=void 0},_t.fx.timer=function(t){_t.timers.push(t),t()?_t.fx.start():_t.timers.pop()},_t.fx.interval=13,_t.fx.start=function(){_e||(_e=n.requestAnimationFrame?n.requestAnimationFrame(q):n.setInterval(_t.fx.tick,_t.fx.interval))},_t.fx.stop=function(){n.cancelAnimationFrame?n.cancelAnimationFrame(_e):n.clearInterval(_e),_e=null},_t.fx.speeds={slow:600,fast:200,_default:400},_t.fn.delay=function(t,e){return t=_t.fx?_t.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,r){var i=n.setTimeout(e,t);r.stop=function(){n.clearTimeout(i)}})},function(){var t=rt.createElement("input"),e=rt.createElement("select"),n=e.appendChild(rt.createElement("option"));t.type="checkbox",dt.checkOn=""!==t.value,dt.optSelected=n.selected,t=rt.createElement("input"),t.value="t",t.type="radio",dt.radioValue="t"===t.value}();var ge,be=_t.expr.attrHandle;_t.fn.extend({attr:function(t,e){return Nt(this,_t.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){_t.removeAttr(this,t)})}}),_t.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?_t.prop(t,e,n):(1===o&&_t.isXMLDoc(t)||(i=_t.attrHooks[e.toLowerCase()]||(_t.expr.match.bool.test(e)?ge:void 0)),void 0!==n?null===n?void _t.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=_t.find.attr(t,e),null==r?void 0:r))},attrHooks:{type:{set:function(t,e){if(!dt.radioValue&&"radio"===e&&_t.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(Rt);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),ge={set:function(t,e,n){return e===!1?_t.removeAttr(t,n):t.setAttribute(n,n),n}},_t.each(_t.expr.match.bool.source.match(/\w+/g),function(t,e){var n=be[e]||_t.find.attr;be[e]=function(t,e,r){var i,o,s=e.toLowerCase();return r||(o=be[s],be[s]=i,i=null!=n(t,e,r)?s:null,be[s]=o),i}});var we=/^(?:input|select|textarea|button)$/i,xe=/^(?:a|area)$/i;_t.fn.extend({prop:function(t,e){return Nt(this,_t.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[_t.propFix[t]||t]})}}),_t.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&_t.isXMLDoc(t)||(e=_t.propFix[e]||e,i=_t.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=_t.find.attr(t,"tabindex");return e?parseInt(e,10):we.test(t.nodeName)||xe.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),dt.optSelected||(_t.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),_t.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_t.propFix[this.toLowerCase()]=this});var Ce=/[\t\r\n\f]/g;_t.fn.extend({addClass:function(t){var e,n,r,i,o,s,a,u=0;if(_t.isFunction(t))return this.each(function(e){_t(this).addClass(t.call(this,e,X(this)))});if("string"==typeof t&&t)for(e=t.match(Rt)||[];n=this[u++];)if(i=X(n),r=1===n.nodeType&&(" "+i+" ").replace(Ce," ")){for(s=0;o=e[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");a=_t.trim(r),i!==a&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,r,i,o,s,a,u=0;if(_t.isFunction(t))return this.each(function(e){_t(this).removeClass(t.call(this,e,X(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Rt)||[];n=this[u++];)if(i=X(n),r=1===n.nodeType&&(" "+i+" ").replace(Ce," ")){for(s=0;o=e[s++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");a=_t.trim(r),i!==a&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):_t.isFunction(t)?this.each(function(n){_t(this).toggleClass(t.call(this,n,X(this),e),e)}):this.each(function(){var e,r,i,o;if("string"===n)for(r=0,i=_t(this),o=t.match(Rt)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==t&&"boolean"!==n||(e=X(this),e&&It.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":It.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+X(n)+" ").replace(Ce," ").indexOf(e)>-1)return!0;return!1}});var Ee=/\r/g,ke=/[\x20\t\r\n\f]+/g;_t.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=_t.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,_t(this).val()):t,null==i?i="":"number"==typeof i?i+="":_t.isArray(i)&&(i=_t.map(i,function(t){return null==t?"":t+""})),e=_t.valHooks[this.type]||_t.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return e=_t.valHooks[i.type]||_t.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(Ee,""):null==n?"":n)}}}),_t.extend({valHooks:{option:{get:function(t){var e=_t.find.attr(t,"value");return null!=e?e:_t.trim(_t.text(t)).replace(ke," ")}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type,s=o?null:[],a=o?i+1:r.length,u=i<0?a:o?i:0;u<a;u++)if(n=r[u],(n.selected||u===i)&&!n.disabled&&(!n.parentNode.disabled||!_t.nodeName(n.parentNode,"optgroup"))){if(e=_t(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=_t.makeArray(e),s=i.length;s--;)r=i[s],(r.selected=_t.inArray(_t.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),_t.each(["radio","checkbox"],function(){_t.valHooks[this]={set:function(t,e){if(_t.isArray(e))return t.checked=_t.inArray(_t(t).val(),e)>-1}},dt.checkOn||(_t.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Te=/^(?:focusinfocus|focusoutblur)$/;_t.extend(_t.event,{trigger:function(t,e,r,i){var o,s,a,u,c,l,f,p=[r||rt],h=ft.call(t,"type")?t.type:t,d=ft.call(t,"namespace")?t.namespace.split("."):[];if(s=a=r=r||rt,3!==r.nodeType&&8!==r.nodeType&&!Te.test(h+_t.event.triggered)&&(h.indexOf(".")>-1&&(d=h.split("."),h=d.shift(),d.sort()),c=h.indexOf(":")<0&&"on"+h,t=t[_t.expando]?t:new _t.Event(h,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=d.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=null==e?[t]:_t.makeArray(e,[t]),f=_t.event.special[h]||{},i||!f.trigger||f.trigger.apply(r,e)!==!1)){if(!i&&!f.noBubble&&!_t.isWindow(r)){for(u=f.delegateType||h,Te.test(u+h)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(r.ownerDocument||rt)&&p.push(a.defaultView||a.parentWindow||n)}for(o=0;(s=p[o++])&&!t.isPropagationStopped();)t.type=o>1?u:f.bindType||h,l=(It.get(s,"events")||{})[t.type]&&It.get(s,"handle"),l&&l.apply(s,e),l=c&&s[c],l&&l.apply&&Lt(s)&&(t.result=l.apply(s,e),t.result===!1&&t.preventDefault());return t.type=h,i||t.isDefaultPrevented()||f._default&&f._default.apply(p.pop(),e)!==!1||!Lt(r)||c&&_t.isFunction(r[h])&&!_t.isWindow(r)&&(a=r[c],a&&(r[c]=null),_t.event.triggered=h,r[h](),_t.event.triggered=void 0,a&&(r[c]=a)),t.result}},simulate:function(t,e,n){var r=_t.extend(new _t.Event,n,{type:t,isSimulated:!0});_t.event.trigger(r,null,e)}}),_t.fn.extend({trigger:function(t,e){return this.each(function(){_t.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return _t.event.trigger(t,e,n,!0)}}),_t.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){_t.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),_t.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),dt.focusin="onfocusin"in n,dt.focusin||_t.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){_t.event.simulate(e,t.target,_t.event.fix(t))};_t.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=It.access(r,e);i||r.addEventListener(t,n,!0),It.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=It.access(r,e)-1;i?It.access(r,e,i):(r.removeEventListener(t,n,!0),It.remove(r,e))}}});var je=n.location,Fe=_t.now(),Se=/\?/;_t.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(r){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||_t.error("Invalid XML: "+t),e};var Pe=/\[\]$/,Oe=/\r?\n/g,Re=/^(?:submit|button|image|reset|file)$/i,Ae=/^(?:input|select|textarea|keygen)/i;_t.param=function(t,e){var n,r=[],i=function(t,e){var n=_t.isFunction(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(_t.isArray(t)||t.jquery&&!_t.isPlainObject(t))_t.each(t,function(){i(this.name,this.value)});else for(n in t)G(n,t[n],e,i);return r.join("&")},_t.fn.extend({serialize:function(){return _t.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=_t.prop(this,"elements");return t?_t.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!_t(this).is(":disabled")&&Ae.test(this.nodeName)&&!Re.test(t)&&(this.checked||!zt.test(t))}).map(function(t,e){var n=_t(this).val();return null==n?null:_t.isArray(n)?_t.map(n,function(t){return{name:e.name,value:t.replace(Oe,"\r\n")}}):{name:e.name,value:n.replace(Oe,"\r\n")}}).get()}});var De=/%20/g,Ne=/#.*$/,Le=/([?&])_=[^&]*/,Ie=/^(.*?):[ \t]*([^\r\n]*)$/gm,He=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Me=/^(?:GET|HEAD)$/,Be=/^\/\//,qe={},Ue={},Ve="*/".concat("*"),$e=rt.createElement("a");$e.href=je.href,_t.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:je.href,type:"GET",isLocal:He.test(je.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ve,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_t.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Y(Y(t,_t.ajaxSettings),e):Y(_t.ajaxSettings,t)},ajaxPrefilter:J(qe),ajaxTransport:J(Ue),ajax:function(t,e){function r(t,e,r,a){var c,p,h,b,w,x=e;l||(l=!0,u&&n.clearTimeout(u),i=void 0,s=a||"",C.readyState=t>0?4:0,c=t>=200&&t<300||304===t,r&&(b=Z(d,C,r)),b=tt(d,b,C,c),c?(d.ifModified&&(w=C.getResponseHeader("Last-Modified"),w&&(_t.lastModified[o]=w),w=C.getResponseHeader("etag"),w&&(_t.etag[o]=w)),204===t||"HEAD"===d.type?x="nocontent":304===t?x="notmodified":(x=b.state,p=b.data,h=b.error,c=!h)):(h=x,!t&&x||(x="error",t<0&&(t=0))),C.status=t,C.statusText=(e||x)+"",c?y.resolveWith(v,[p,x,C]):y.rejectWith(v,[C,x,h]),C.statusCode(g),g=void 0,f&&_.trigger(c?"ajaxSuccess":"ajaxError",[C,d,c?p:h]),m.fireWith(v,[C,x]),f&&(_.trigger("ajaxComplete",[C,d]),--_t.active||_t.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,o,s,a,u,c,l,f,p,h,d=_t.ajaxSetup({},e),v=d.context||d,_=d.context&&(v.nodeType||v.jquery)?_t(v):_t.event,y=_t.Deferred(),m=_t.Callbacks("once memory"),g=d.statusCode||{},b={},w={},x="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(l){if(!a)for(a={};e=Ie.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return l?s:null},setRequestHeader:function(t,e){return null==l&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==l&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)C.always(t[C.status]);else for(e in t)g[e]=[g[e],t[e]];return this},abort:function(t){var e=t||x;return i&&i.abort(e),r(0,e),this}};if(y.promise(C),d.url=((t||d.url||je.href)+"").replace(Be,je.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(Rt)||[""],null==d.crossDomain){c=rt.createElement("a");try{c.href=d.url,c.href=c.href,d.crossDomain=$e.protocol+"//"+$e.host!=c.protocol+"//"+c.host}catch(E){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=_t.param(d.data,d.traditional)),K(qe,d,e,C),l)return C;f=_t.event&&d.global,f&&0===_t.active++&&_t.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Me.test(d.type),o=d.url.replace(Ne,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(De,"+")):(h=d.url.slice(o.length),d.data&&(o+=(Se.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(o=o.replace(Le,""),h=(Se.test(o)?"&":"?")+"_="+Fe++ +h),d.url=o+h),d.ifModified&&(_t.lastModified[o]&&C.setRequestHeader("If-Modified-Since",_t.lastModified[o]),_t.etag[o]&&C.setRequestHeader("If-None-Match",_t.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||e.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ve+"; q=0.01":""):d.accepts["*"]);for(p in d.headers)C.setRequestHeader(p,d.headers[p]);if(d.beforeSend&&(d.beforeSend.call(v,C,d)===!1||l))return C.abort();if(x="abort",m.add(d.complete),C.done(d.success),C.fail(d.error),i=K(Ue,d,e,C)){if(C.readyState=1,f&&_.trigger("ajaxSend",[C,d]),l)return C;d.async&&d.timeout>0&&(u=n.setTimeout(function(){C.abort("timeout")},d.timeout));try{l=!1,i.send(b,r)}catch(E){if(l)throw E;r(-1,E)}}else r(-1,"No Transport");return C},getJSON:function(t,e,n){return _t.get(t,e,n,"json")},getScript:function(t,e){return _t.get(t,void 0,e,"script")}}),_t.each(["get","post"],function(t,e){_t[e]=function(t,n,r,i){return _t.isFunction(n)&&(i=i||r,r=n,n=void 0),_t.ajax(_t.extend({url:t,type:e,dataType:i,data:n,success:r},_t.isPlainObject(t)&&t))}}),_t._evalUrl=function(t){return _t.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},_t.fn.extend({wrapAll:function(t){var e;return this[0]&&(_t.isFunction(t)&&(t=t.call(this[0])),e=_t(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return _t.isFunction(t)?this.each(function(e){_t(this).wrapInner(t.call(this,e))}):this.each(function(){var e=_t(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=_t.isFunction(t);return this.each(function(n){_t(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){_t(this).replaceWith(this.childNodes)}),this}}),_t.expr.pseudos.hidden=function(t){return!_t.expr.pseudos.visible(t)},_t.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},_t.ajaxSettings.xhr=function(){
try{return new n.XMLHttpRequest}catch(t){}};var We={0:200,1223:204},Qe=_t.ajaxSettings.xhr();dt.cors=!!Qe&&"withCredentials"in Qe,dt.ajax=Qe=!!Qe,_t.ajaxTransport(function(t){var e,r;if(dt.cors||Qe&&!t.crossDomain)return{send:function(i,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(s in i)a.setRequestHeader(s,i[s]);e=function(t){return function(){e&&(e=r=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(We[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),r=a.onerror=e("error"),void 0!==a.onabort?a.onabort=r:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){e&&r()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(u){if(e)throw u}},abort:function(){e&&e()}}}),_t.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),_t.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return _t.globalEval(t),t}}}),_t.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),_t.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=_t("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),rt.head.appendChild(e[0])},abort:function(){n&&n()}}}});var ze=[],Xe=/(=)\?(?=&|$)|\?\?/;_t.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ze.pop()||_t.expando+"_"+Fe++;return this[t]=!0,t}}),_t.ajaxPrefilter("json jsonp",function(t,e,r){var i,o,s,a=t.jsonp!==!1&&(Xe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xe.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=_t.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Xe,"$1"+i):t.jsonp!==!1&&(t.url+=(Se.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||_t.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=n[i],n[i]=function(){s=arguments},r.always(function(){void 0===o?_t(n).removeProp(i):n[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,ze.push(i)),s&&_t.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),dt.createHTMLDocument=function(){var t=rt.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),_t.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var r,i,o;return e||(dt.createHTMLDocument?(e=rt.implementation.createHTMLDocument(""),r=e.createElement("base"),r.href=rt.location.href,e.head.appendChild(r)):e=rt),i=kt.exec(t),o=!n&&[],i?[e.createElement(i[1])]:(i=x([t],e,o),o&&o.length&&_t(o).remove(),_t.merge([],i.childNodes))},_t.fn.load=function(t,e,n){var r,i,o,s=this,a=t.indexOf(" ");return a>-1&&(r=_t.trim(t.slice(a)),t=t.slice(0,a)),_t.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),s.length>0&&_t.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(r?_t("<div>").append(_t.parseHTML(t)).find(r):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},_t.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){_t.fn[e]=function(t){return this.on(e,t)}}),_t.expr.pseudos.animated=function(t){return _t.grep(_t.timers,function(e){return t===e.elem}).length},_t.offset={setOffset:function(t,e,n){var r,i,o,s,a,u,c,l=_t.css(t,"position"),f=_t(t),p={};"static"===l&&(t.style.position="relative"),a=f.offset(),o=_t.css(t,"top"),u=_t.css(t,"left"),c=("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1,c?(r=f.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),_t.isFunction(e)&&(e=e.call(t,n,_t.extend({},a))),null!=e.top&&(p.top=e.top-a.top+s),null!=e.left&&(p.left=e.left-a.left+i),"using"in e?e.using.call(t,p):f.css(p)}},_t.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){_t.offset.setOffset(this,t,e)});var e,n,r,i,o=this[0];if(o)return o.getClientRects().length?(r=o.getBoundingClientRect(),r.width||r.height?(i=o.ownerDocument,n=et(i),e=i.documentElement,{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r):{top:0,left:0}},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===_t.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),_t.nodeName(t[0],"html")||(r=t.offset()),r={top:r.top+_t.css(t[0],"borderTopWidth",!0),left:r.left+_t.css(t[0],"borderLeftWidth",!0)}),{top:e.top-r.top-_t.css(n,"marginTop",!0),left:e.left-r.left-_t.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===_t.css(t,"position");)t=t.offsetParent;return t||Yt})}}),_t.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;_t.fn[t]=function(r){return Nt(this,function(t,r,i){var o=et(t);return void 0===i?o?o[e]:t[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i)},t,r,arguments.length)}}),_t.each(["top","left"],function(t,e){_t.cssHooks[e]=N(dt.pixelPosition,function(t,n){if(n)return n=D(t,e),ue.test(n)?_t(t).position()[e]+"px":n})}),_t.each({Height:"height",Width:"width"},function(t,e){_t.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){_t.fn[r]=function(i,o){var s=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||o===!0?"margin":"border");return Nt(this,function(e,n,i){var o;return _t.isWindow(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?_t.css(e,n,a):_t.style(e,n,i,a)},e,s?i:void 0,s)}})}),_t.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),_t.parseJSON=JSON.parse,r=[],i=function(){return _t}.apply(e,r),!(void 0!==i&&(t.exports=i));var Ge=n.jQuery,Je=n.$;return _t.noConflict=function(t){return n.$===_t&&(n.$=Je),t&&n.jQuery===_t&&(n.jQuery=Ge),_t},o||(n.jQuery=n.$=_t),_t})},function(t,e,n){n(1),t.exports=self.fetch.bind(self)},function(t,e){},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=n(47),o=r(i),s=n(48),a=r(s),u=n(52),c=r(u),l=function(){function t(){(0,o["default"])(this,t)}return(0,a["default"])(t,null,[{key:"isValidUrl",value:function(t){var e=!0,n=!1,r=[/\.pdf$/i,/\.jpg$/i,/\.png$/,/\.gif$/],i=[/^http/];return r.forEach(function(e){n=n||e.test(t)}),i.forEach(function(n){e=e&&n.test(t)}),e&&!n}},{key:"filterUrls",value:function(e){return(e||[]).filter(t.isValidUrl)}},{key:"isBackgroundMsg",value:function(t){return t.url.indexOf("background_page")>-1}},{key:"isPopupMsg",value:function(t){return t.url.indexOf("popup")>-1}},{key:"getCurrentWindowTabs",value:function(){var e=void 0;return e=chrome?new c["default"](function(e,n){chrome.windows.getCurrent({populate:!0},function(r){if(r.tabs){var i=r.tabs.filter(function(e){return t.isValidUrl(e.url)});e(i)}else n(new Error("No tabs!"))})}):new c["default"](function(t){t(null)})}},{key:"getTabsHtml",value:function(t){var e="document.documentElement.outerHTML",n=t.map(function(t){return new c["default"](function(n){chrome.tabs.executeScript(t.id,{code:e},function(e){var r=t;e&&e[0]&&e[0].match(/html/i)?r.html=e[0]:r.html=null,n(r)})})});return c["default"].all(n)}},{key:"getLocalStorage",value:function(t){var e=void 0;return chrome&&(e=new c["default"](function(e){chrome.storage.local.get(t,function(t){e(t)})})),e}},{key:"setLocalStorage",value:function(t){chrome.storage.local.set(t)}},{key:"sendMessage",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];chrome.runtime.sendMessage.apply(chrome.runtime,e)}},{key:"onBackgroundMessage",value:function(e){chrome.runtime.onMessage.addListener(function(n,r){t.isBackgroundMsg(r)&&e(n,r)})}},{key:"onForegroundMessage",value:function(e){chrome.runtime.onMessage.addListener(function(n,r){t.isPopupMsg(r)&&e(n,r)})}},{key:"download",value:function(t){var e=void 0;return chrome&&(e=new c["default"](function(e,n){chrome.downloads.download(t,function(t){var r=chrome.downloads.onChanged.addListener(function(i){i.id===t&&(i.error?(console.log(i.error),chrome.downloads.onChanged.removeListener(r),n(i.error)):i.endTime&&(console.log("end time: ",i.endTime),chrome.downloads.onChanged.removeListener(r),e(i.endTime)))})})})),e}},{key:"baseUrl",value:function(){return chrome.runtime.getManifest().homepage_url}},{key:"getManifest",value:function(){return chrome.runtime.getManifest()}},{key:"getErrorMsg",value:function(e,n){var r=e?e+":  ":"";return r+=n.responseText||t.ERROR_CODES[n.statusText]||t.ERROR_CODES[n.status]||t.ERROR_CODES[n.current]||"Unknown"}}]),t}();l.ERROR_CODES={0:"Server is down. Please try again later.",400:"There was a problem with the request. Is EpubPress up to date?",404:"Resource not found.",500:"Unexpected server error.",503:"Server took too long to respond.",timeout:"Request took too long to complete.",error:void 0,SERVER_FAILED:"Server error while downloading.",SERVER_BAD_CONTENT:"Book could not be found"},t.exports=l},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(49),o=r(i);e["default"]=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o["default"])(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){t.exports={"default":n(50),__esModule:!0}},function(t,e,n){n(51);var r=n(5).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(9);r(r.S+r.F*!n(18),"Object",{defineProperty:n(14).f})},function(t,e,n){(function(e,n,r){/* @preserve
	 * The MIT License (MIT)
	 * 
	 * Copyright (c) 2013-2015 Petka Antonov
	 * 
	 * Permission is hereby granted, free of charge, to any person obtaining a copy
	 * of this software and associated documentation files (the "Software"), to deal
	 * in the Software without restriction, including without limitation the rights
	 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 * copies of the Software, and to permit persons to whom the Software is
	 * furnished to do so, subject to the following conditions:
	 * 
	 * The above copyright notice and this permission notice shall be included in
	 * all copies or substantial portions of the Software.
	 * 
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
	 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	 * THE SOFTWARE.
	 * 
	 */
!function(e){t.exports=e()}(function(){var t,i,o;return function s(t,e,n){function r(o,a){if(!e[o]){if(!t[o]){var u="function"==typeof _dereq_&&_dereq_;if(!a&&u)return u(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=e[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return r(n?n:e)},l,l.exports,s,t,e,n)}return e[o].exports}for(var i="function"==typeof _dereq_&&_dereq_,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,n){"use strict";e.exports=function(t){function e(t){var e=new n(t),r=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),r}var n=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(t,n,r){"use strict";function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new f(16),this._normalQueue=new f(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=l}function o(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function s(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function a(t){this._normalQueue._pushOne(t),this._queueTick()}var u;try{throw new Error}catch(c){u=c}var l=t("./schedule"),f=t("./queue"),p=t("./util");i.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){p.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},i.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(n){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},p.hasDevTools?(i.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?o.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},i.prototype.invoke=function(t,e,n){this._trampolineEnabled?s.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},i.prototype.settlePromises=function(t){this._trampolineEnabled?a.call(this,t):this._schedule(function(){t._settlePromises()})}):(i.prototype.invokeLater=o,i.prototype.invoke=s,i.prototype.settlePromises=a),i.prototype.invokeFirst=function(t,e,n){this._normalQueue.unshift(t,e,n),this._queueTick()},i.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),r=t.shift();e.call(n,r)}else e._settlePromises()}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},n.exports=i,n.exports.firstLineError=u},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},s=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},a=function(t,e){0===(50397184&this._bitField)&&this._resolveCallback(e.target)},u=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var c=n(o),l=new t(e);l._propagateFrom(this,1);var f=this._target();if(l._setBoundTo(c),c instanceof t){var p={promiseRejectionQueued:!1,promise:l,target:f,bindingPromise:c};f._then(e,s,void 0,l,p),c._then(a,u,void 0,l,p),l._setOnCancel(c)}else l._resolveCallback(f);return l},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=this._bitField&-2097153},t.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e,n){"use strict";function r(){try{Promise===o&&(Promise=i)}catch(t){}return o}var i;"undefined"!=typeof Promise&&(i=Promise);var o=t("./promise")();o.noConflict=r,e.exports=o},{"./promise":22}],5:[function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}e.exports=function(e){function n(t,n){var r;if(null!=t&&(r=t[n]),"function"!=typeof r){var i="Object "+a.classString(t)+" has no method '"+a.toString(n)+"'";throw new e.TypeError(i)}return r}function r(t){var e=this.pop(),r=n(t,e);return r.apply(t,this)}function i(t){return t[this]}function o(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}var s,a=t("./util"),u=a.canEvaluate;a.isIdentifier;e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(r,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e,n="number"==typeof t;if(n)e=o;else if(u){var r=s(t);e=null!==r?r:i}else e=i;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),s=o.tryCatch,a=o.errorObj,u=e._async;e.prototype["break"]=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=s(t).call(this._boundValue());r===a&&(this._attachExtraTrace(r.e),u.throwLater(r.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(e){function n(t,n,a){return function(u){var c=a._boundValue();t:for(var l=0;l<t.length;++l){var f=t[l];if(f===Error||null!=f&&f.prototype instanceof Error){if(u instanceof f)return o(n).call(c,u)}else if("function"==typeof f){var p=o(f).call(c,u);if(p===s)return p;if(p)return o(n).call(c,u)}else if(r.isObject(u)){for(var h=i(f),d=0;d<h.length;++d){var v=h[d];if(f[v]!=u[v])continue t}return o(n).call(c,u)}}return e}}var r=t("./util"),i=t("./es5").keys,o=r.tryCatch,s=r.errorObj;return n}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(t){function e(){this._trace=new e.CapturedTrace(r())}function n(){if(i)return new e}function r(){var t=o.length-1;if(t>=0)return o[t]}var i=!1,o=[];return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},e.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},e.prototype._popContext=function(){if(void 0!==this._trace){var t=o.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},e.CapturedTrace=null,e.create=n,e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var n=t.prototype._pushContext,o=t.prototype._popContext,s=t._peekContext,a=t.prototype._peekContext,u=t.prototype._promiseCreated;e.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=o,t._peekContext=s,t.prototype._peekContext=a,t.prototype._promiseCreated=u,i=!1},i=!0,t.prototype._pushContext=e.prototype._pushContext,t.prototype._popContext=e.prototype._popContext,t._peekContext=t.prototype._peekContext=r,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},e}},{}],9:[function(t,n,r){"use strict";n.exports=function(n,r){function i(t,e){return{promise:e}}function o(){return!1}function s(t,e,n){var r=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+M.toString(t));r._attachCancellationCallback(t)})}catch(i){return i}}function a(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?M.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function u(){return this._onCancelField}function c(t){this._onCancelField=t}function l(){this._cancellationParent=void 0,this._onCancelField=void 0}function f(t,e){if(0!==(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function p(t,e){0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function h(){var t=this._boundTo;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function d(){this._trace=new R(this._peekContext())}function v(t,e){if(B(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=E(t);M.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),M.notEnumerableProp(t,"__stackCleaned__",!0)}}}function _(t,e,n,r,i){if(void 0===t&&null!==e&&J){if(void 0!==i&&i._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var o="",s="";if(e._trace){for(var a=e._trace.stack.split("\n"),u=x(a),c=u.length-1;c>=0;--c){var l=u[c];if(!U.test(l)){var f=l.match(V);f&&(o="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(u.length>0)for(var p=u[0],c=0;c<a.length;++c)if(a[c]===p){c>0&&(s="\n"+a[c-1]);break}}var h="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+s;r._warn(h,!0,e)}}function y(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),m(n)}function m(t,e,r){if(st.warnings){var i,o=new H(t);if(e)r._attachExtraTrace(o);else if(st.longStackTraces&&(i=n._peekContext()))i.attachExtraTrace(o);else{var s=E(o);o.stack=s.message+"\n"+s.stack.join("\n")}et("warning",o)||k(o,"",!0)}}function g(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function b(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function w(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],s=-1,a=r.length-1;a>=0;--a)if(r[a]===o){s=a;break}for(var a=s;a>=0;--a){var u=r[a];if(e[i]!==u)break;e.pop(),i--}e=r}}function x(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||$.test(r),o=i&&rt(r);i&&!o&&(Q&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function C(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||$.test(r))break}return n>0&&(e=e.slice(n)),e}function E(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?C(t):["    (No stack trace)"],{message:n,stack:x(e)}}function k(t,e,n){if("undefined"!=typeof console){var r;if(M.isObject(t)){var i=t.stack;r=e+W(i,t)}else r=e+String(t);"function"==typeof N?N(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function T(t,e,n,r){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(o){I.throwLater(o)}"unhandledRejection"===t?et(t,n,r)||i||k(n,"Unhandled rejection "):et(t,r)}function j(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"==typeof t.toString?t.toString():M.toString(t);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(e))try{var r=JSON.stringify(t);e=r}catch(i){}0===e.length&&(e="(empty array)")}return"(<"+F(e)+">, no stack trace)"}function F(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function S(){return"function"==typeof ot}function P(t){var e=t.match(it);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function O(t,e){if(S()){for(var n,r,i=t.stack.split("\n"),o=e.stack.split("\n"),s=-1,a=-1,u=0;u<i.length;++u){var c=P(i[u]);if(c){n=c.fileName,s=c.line;break}}for(var u=0;u<o.length;++u){var c=P(o[u]);if(c){r=c.fileName,a=c.line;break}}s<0||a<0||!n||!r||n!==r||s>=a||(rt=function(t){if(q.test(t))return!0;var e=P(t);return!!(e&&e.fileName===n&&s<=e.line&&e.line<=a)})}}function R(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);ot(this,R),e>32&&this.uncycle()}var A,D,N,L=n._getDomain,I=n._async,H=t("./errors").Warning,M=t("./util"),B=M.canAttachTrace,q=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,U=/\((?:timers\.js):\d+:\d+\)/,V=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,$=null,W=null,Q=!1,z=!(0==M.env("BLUEBIRD_DEBUG")),X=!(0==M.env("BLUEBIRD_WARNINGS")||!z&&!M.env("BLUEBIRD_WARNINGS")),G=!(0==M.env("BLUEBIRD_LONG_STACK_TRACES")||!z&&!M.env("BLUEBIRD_LONG_STACK_TRACES")),J=0!=M.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(X||!!M.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=t._bitField&-1048577|524288},n.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),I.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){T("rejectionHandled",A,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),T("unhandledRejection",D,t,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(t,e,n){return m(t,e,n||this)},n.onPossiblyUnhandledRejection=function(t){var e=L();D="function"==typeof t?null===e?t:M.domainBind(e,t):void 0},n.onUnhandledRejectionHandled=function(t){var e=L();A="function"==typeof t?null===e?t:M.domainBind(e,t):void 0};var K=function(){};n.longStackTraces=function(){if(I.haveItemsQueued()&&!st.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!st.longStackTraces&&S()){var t=n.prototype._captureStackTrace,e=n.prototype._attachExtraTrace;st.longStackTraces=!0,K=function(){if(I.haveItemsQueued()&&!st.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=t,n.prototype._attachExtraTrace=e,r.deactivateLongStackTraces(),I.enableTrampoline(),st.longStackTraces=!1},n.prototype._captureStackTrace=d,n.prototype._attachExtraTrace=v,r.activateLongStackTraces(),I.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return st.longStackTraces&&S()};var Y=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return M.global.dispatchEvent(t),function(t,e){var n=new CustomEvent(t.toLowerCase(),{detail:e,cancelable:!0});return!M.global.dispatchEvent(n)}}if("function"==typeof Event){var t=new Event("CustomEvent");return M.global.dispatchEvent(t),function(t,e){var n=new Event(t.toLowerCase(),{cancelable:!0});return n.detail=e,!M.global.dispatchEvent(n)}}var t=document.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),M.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!M.global.dispatchEvent(n)}}catch(e){}return function(){return!1}}(),Z=function(){return M.isNode?function(){return e.emit.apply(e,arguments)}:M.global?function(t){var e="on"+t.toLowerCase(),n=M.global[e];return!!n&&(n.apply(M.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),tt={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:i},et=function(t){var e=!1;try{e=Z.apply(null,arguments)}catch(n){I.throwLater(n),e=!0}var r=!1;try{r=Y(t,tt[t].apply(null,arguments))}catch(n){I.throwLater(n),r=!0}return r||e};n.config=function(t){if(t=Object(t),"longStackTraces"in t&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&K()),"warnings"in t){var e=t.warnings;st.warnings=!!e,J=st.warnings,M.isObject(e)&&"wForgottenReturn"in e&&(J=!!e.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!st.cancellation){if(I.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=l,n.prototype._propagateFrom=f,n.prototype._onCancel=u,n.prototype._setOnCancel=c,n.prototype._attachCancellationCallback=a,n.prototype._execute=s,nt=f,st.cancellation=!0}"monitoring"in t&&(t.monitoring&&!st.monitoring?(st.monitoring=!0,n.prototype._fireEvent=et):!t.monitoring&&st.monitoring&&(st.monitoring=!1,n.prototype._fireEvent=o))},n.prototype._fireEvent=o,n.prototype._execute=function(t,e,n){try{t(e,n)}catch(r){return r}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(t){},n.prototype._attachCancellationCallback=function(t){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(t,e){};var nt=p,rt=function(){return!1},it=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;M.inherits(R,Error),r.CapturedTrace=R,R.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;t=this._length=r;for(var r=t-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;r<t;++r){var s=e[r].stack,a=n[s];if(void 0!==a&&a!==r){a>0&&(e[a-1]._parent=void 0,e[a-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var u=r>0?e[r-1]:this;a<t-1?(u._parent=e[a+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var c=u._length+1,l=r-2;l>=0;--l)e[l]._length=c,c++;return}}}},R.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=E(t),n=e.message,r=[e.stack],i=this;void 0!==i;)r.push(x(i.stack.split("\n"))),i=i._parent;w(r),b(r),M.notEnumerableProp(t,"stack",g(n,r)),M.notEnumerableProp(t,"__stackCleaned__",!0)}};var ot=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():j(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,$=t,W=e;var n=Error.captureStackTrace;return rt=function(t){return q.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return $=/@/,W=e,Q=!0,function(t){t.stack=(new Error).stack};var i;try{throw new Error}catch(o){i="stack"in o}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(W=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?j(e):e.toString()},null):($=t,W=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(N=function(t){console.warn(t)},M.isNode&&e.stderr.isTTY?N=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:M.isNode||"string"!=typeof(new Error).stack||(N=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var st={warnings:X,longStackTraces:!1,cancellation:!1,monitoring:!1};return G&&n.longStackTraces(),{longStackTraces:function(){return st.longStackTraces},warnings:function(){return st.warnings},cancellation:function(){return st.cancellation},monitoring:function(){return st.monitoring},propagateFromFunction:function(){return nt},boundValueFunction:function(){return h},checkForgottenReturns:_,setBounds:O,warn:m,deprecated:y,CapturedTrace:R,fireDomEvent:Y,fireGlobalEvent:Z}}},{"./errors":12,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype["return"]=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype["throw"]=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1],r=function(){throw e};return this.caught(t,r)},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];r instanceof t&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,e){function n(){return o(this)}function r(t,n){return i(t,n,e,e)}var i=t.reduce,o=t.all;t.prototype.each=function(t){return i(this,t,e,0)._then(n,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,e,e)},t.each=function(t,r){return i(t,r,e,0)._then(n,void 0,void 0,t,void 0)},t.mapSeries=r}},{}],12:[function(t,e,n){"use strict";function r(t,e){function n(r){return this instanceof n?(f(this,"message","string"==typeof r?r:e),f(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return l(n,Error),n}function i(t){return this instanceof i?(f(this,"name","OperationalError"),f(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(f(this,"message",t.message),f(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(t)}var o,s,a=t("./es5"),u=a.freeze,c=t("./util"),l=c.inherits,f=c.notEnumerableProp,p=r("Warning","warning"),h=r("CancellationError","cancellation error"),d=r("TimeoutError","timeout error"),v=r("AggregateError","aggregate error");try{o=TypeError,s=RangeError}catch(_){o=r("TypeError","type error"),s=r("RangeError","range error")}for(var y="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<y.length;++m)"function"==typeof Array.prototype[y[m]]&&(v.prototype[y[m]]=Array.prototype[y[m]]);a.defineProperty(v.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),v.prototype.isOperational=!0;var g=0;v.prototype.toString=function(){var t=Array(4*g+1).join(" "),e="\n"+t+"AggregateError of:\n";g++,t=Array(4*g+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];r=i.join("\n"),e+=r+"\n"}return g--,e},l(i,Error);var b=Error.__BluebirdErrorTypes__;b||(b=u({CancellationError:h,TimeoutError:d,OperationalError:i,RejectionError:i,AggregateError:v}),a.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:o,RangeError:s,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:p}},{"./es5":13,"./util":36}],13:[function(t,e,n){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,s={}.constructor.prototype,a=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e},u=function(t,e){return{value:t[e]}},c=function(t,e,n){return t[e]=n.value,t},l=function(t){return t},f=function(t){try{return Object(t).constructor.prototype}catch(e){return s}},p=function(t){try{return"[object Array]"===o.call(t)}catch(e){return!1}};e.exports={isArray:p,keys:a,names:a,defineProperty:c,getDescriptor:u,freeze:l,getPrototypeOf:f,isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function i(t){this.finallyHandler=t}function o(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function s(){return u.call(this,this.promise._target()._settledValue())}function a(t){if(!o(this,t))return f.e=t,f}function u(t){var r=this.promise,u=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?u.call(r._boundValue()):u.call(r._boundValue(),t);if(void 0!==c){r._setReturnedNonUndefined();var p=n(c,r);if(p instanceof e){if(null!=this.cancelPromise){if(p._isCancelled()){var h=new l("late cancellation observer");return r._attachExtraTrace(h),f.e=h,f}p.isPending()&&p._attachCancellationCallback(new i(this))}return p._then(s,a,void 0,this,void 0)}}}return r.isRejected()?(o(this),f.e=t,f):(o(this),t)}var c=t("./util"),l=e.CancellationError,f=c.errorObj;return r.prototype.isFinallyHandler=function(){return 0===this.type},i.prototype._resultCancelled=function(){o(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,i){return"function"!=typeof t?this.then():this._then(n,i,void 0,new r(this,e,t),void 0)},e.prototype.lastly=e.prototype["finally"]=function(t){return this._passThrough(t,0,u,u)},e.prototype.tap=function(t){return this._passThrough(t,1,u)},r}},{"./util":36}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var s=h(n[o])(t);if(r._popContext(),s===p){r._pushContext();var a=e.reject(p.e);return r._popContext(),a}var u=i(s,r);if(u instanceof e)return u}return null}function u(t,n,i,o){if(s.cancellation()){var a=new e(r),u=this._finallyPromise=new e(r);this._promise=a.lastly(function(){return u}),a._captureStackTrace(),a._setOnCancel(this)}else{var c=this._promise=new e(r);c._captureStackTrace()}this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(d):d,this._yieldedPromise=null,this._cancellationPhase=!1}var c=t("./errors"),l=c.TypeError,f=t("./util"),p=f.errorObj,h=f.tryCatch,d=[];f.inherits(u,o),u.prototype._isResolved=function(){return null===this._promise},u.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},u.prototype._promiseCancelled=function(){if(!this._isResolved()){var t,n="undefined"!=typeof this._generator["return"];if(n)this._promise._pushContext(),t=h(this._generator["return"]).call(this._generator,void 0),this._promise._popContext();else{var r=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),t=h(this._generator["throw"]).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},u.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=h(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},u.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=h(this._generator["throw"]).call(this._generator,t);this._promise._popContext(),this._continue(e)},u.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},u.prototype.promise=function(){return this._promise},u.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},u.prototype._continue=function(t){var n=this._promise;if(t===p)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(t.done===!0)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(!(o instanceof e)&&(o=a(o,this._yieldHandlers,this._promise),null===o))return void this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",r)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var s=o._bitField;0===(50397184&s)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&s)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&s)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},e.coroutine=function(t,e){if("function"!=typeof t)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=u,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r((void 0),(void 0),n,i),s=o.promise();return o._generator=e,o._promiseFulfilled(void 0),s}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+f.classString(t));d.push(t)},e.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");
var r=new u(t,this),i=r.promise();return r._run(e.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){var a=t("./util");a.canEvaluate,a.tryCatch,a.errorObj;e.join=function(){var t,e=arguments.length-1;if(e>0&&"function"==typeof arguments[e]){t=arguments[e];var r}var i=[].slice.call(arguments);t&&i.pop();var r=new n(i).promise();return void 0!==t?r.spread(t):r}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,e,n,r){this.constructor$(t),this._promise._captureStackTrace();var i=c();this._callback=null===i?e:l.domainBind(i,e),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],h.invoke(this._asyncInit,this,void 0)}function u(t,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+l.classString(n));var s=0;if(void 0!==i){if("object"!=typeof i||null===i)return e.reject(new TypeError("options argument must be an object but it is "+l.classString(i)));if("number"!=typeof i.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(i.concurrency)));s=i.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new a(t,n,s,o).promise()}var c=e._getDomain,l=t("./util"),f=l.tryCatch,p=l.errorObj,h=e._async;l.inherits(a,n),a.prototype._asyncInit=function(){this._init$(void 0,-2)},a.prototype._init=function(){},a.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),a=this._preservedValues,u=this._limit;if(n<0){if(n=n*-1-1,r[n]=t,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return r[n]=t,this._queue.push(n),!1;null!==a&&(a[n]=t);var c=this._promise,l=this._callback,h=c._boundValue();c._pushContext();var d=f(l).call(h,t,n,o),v=c._popContext();if(s.checkForgottenReturns(d,v,null!==a?"Promise.filter":"Promise.map",c),d===p)return this._reject(d.e),!0;var _=i(d,this._promise);if(_ instanceof e){_=_._target();var y=_._bitField;if(0===(50397184&y))return u>=1&&this._inFlight++,r[n]=_,_._proxy(this,(n+1)*-1),!1;if(0===(33554432&y))return 0!==(16777216&y)?(this._reject(_._reason()),!0):(this._cancel(),!0);d=_._value()}r[n]=d}var m=++this._totalResolved;return m>=o&&(null!==a?this._filter(r,a):this._resolve(r),!0)},a.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},a.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;o<n;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},a.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return u(this,t,e,null)},e.map=function(t,e,n,r){return u(t,e,n,r)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var s=t("./util"),a=s.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+s.classString(t));return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var i=a(t).apply(this,arguments),s=r._popContext();return o.checkForgottenReturns(i,s,"Promise.method",r),r._resolveFromSyncValue(i),r}},e.attempt=e["try"]=function(t){if("function"!=typeof t)return i("expecting a function but got "+s.classString(t));var r=new e(n);r._captureStackTrace(),r._pushContext();var u;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],l=arguments[2];u=s.isArray(c)?a(t).apply(l,c):a(t).call(l,c)}else u=a(t)();var f=r._popContext();return o.checkForgottenReturns(u,f,"Promise.try",r),r._resolveFromSyncValue(u),r},e.prototype._resolveFromSyncValue=function(t){t===s.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";function r(t){return t instanceof Error&&l.getPrototypeOf(t)===Error.prototype}function i(t){var e;if(r(t)){e=new c(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var n=l.keys(t),i=0;i<n.length;++i){var o=n[i];f.test(o)||(e[o]=t[o])}return e}return s.markAsOriginatingFromRejection(t),t}function o(t,e){return function(n,r){if(null!==t){if(n){var o=i(a(n));t._attachExtraTrace(o),t._reject(o)}else if(e){var s=[].slice.call(arguments,1);t._fulfill(s)}else t._fulfill(r);t=null}}}var s=t("./util"),a=s.maybeWrapAsError,u=t("./errors"),c=u.OperationalError,l=t("./es5"),f=/^(?:name|message|stack|cause)$/;e.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){function n(t,e){var n=this;if(!o.isArray(t))return r.call(n,t,e);var i=a(e).apply(n._boundValue(),[null].concat(t));i===u&&s.throwLater(i.e)}function r(t,e){var n=this,r=n._boundValue(),i=void 0===t?a(e).call(r,null):a(e).call(r,null,t);i===u&&s.throwLater(i.e)}function i(t,e){var n=this;if(!t){var r=new Error(t+"");r.cause=t,t=r}var i=a(e).call(n._boundValue(),t);i===u&&s.throwLater(i.e)}var o=t("./util"),s=e._async,a=o.tryCatch,u=o.errorObj;e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var o=r;void 0!==e&&Object(e).spread&&(o=n),this._then(o,i,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,r){"use strict";n.exports=function(){function r(){}function i(t,e){if("function"!=typeof e)throw new g("expecting a function but got "+d.classString(e));if(t.constructor!==o)throw new g("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function o(t){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,t!==w&&(i(this,t),this._resolveFromExecutor(t)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function s(t){this.promise._resolveCallback(t)}function a(t){this.promise._rejectCallback(t,!1)}function u(t){var e=new o(w);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}var c,l=function(){return new g("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},f=function(){return new o.PromiseInspection(this._target())},p=function(t){return o.reject(new g(t))},h={},d=t("./util");c=d.isNode?function(){var t=e.domain;return void 0===t&&(t=null),t}:function(){return null},d.notEnumerableProp(o,"_getDomain",c);var v=t("./es5"),_=t("./async"),y=new _;v.defineProperty(o,"_async",{value:y});var m=t("./errors"),g=o.TypeError=m.TypeError;o.RangeError=m.RangeError;var b=o.CancellationError=m.CancellationError;o.TimeoutError=m.TimeoutError,o.OperationalError=m.OperationalError,o.RejectionError=m.OperationalError,o.AggregateError=m.AggregateError;var w=function(){},x={},C={},E=t("./thenables")(o,w),k=t("./promise_array")(o,w,E,p,r),T=t("./context")(o),j=T.create,F=t("./debuggability")(o,T),S=(F.CapturedTrace,t("./finally")(o,E)),P=t("./catch_filter")(C),O=t("./nodeback"),R=d.errorObj,A=d.tryCatch;return o.prototype.toString=function(){return"[object Promise]"},o.prototype.caught=o.prototype["catch"]=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),i=0;for(n=0;n<e-1;++n){var o=arguments[n];if(!d.isObject(o))return p("expecting an object but got A catch statement predicate "+d.classString(o));r[i++]=o}return r.length=i,t=arguments[n],this.then(void 0,P(r,t,this))}return this.then(void 0,t)},o.prototype.reflect=function(){return this._then(f,f,void 0,this,void 0)},o.prototype.then=function(t,e){if(F.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+d.classString(t);arguments.length>1&&(n+=", "+d.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},o.prototype.done=function(t,e){var n=this._then(t,e,void 0,void 0,void 0);n._setIsFinal()},o.prototype.spread=function(t){return"function"!=typeof t?p("expecting a function but got "+d.classString(t)):this.all()._then(t,void 0,void 0,x,void 0)},o.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},o.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new k(this).promise()},o.prototype.error=function(t){return this.caught(d.originatesFromRejection,t)},o.getNewLibraryCopy=n.exports,o.is=function(t){return t instanceof o},o.fromNode=o.fromCallback=function(t){var e=new o(w);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=A(t)(O(e,n));return r===R&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},o.all=function(t){return new k(t).promise()},o.cast=function(t){var e=E(t);return e instanceof o||(e=new o(w),e._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},o.resolve=o.fulfilled=o.cast,o.reject=o.rejected=function(t){var e=new o(w);return e._captureStackTrace(),e._rejectCallback(t,!0),e},o.setScheduler=function(t){if("function"!=typeof t)throw new g("expecting a function but got "+d.classString(t));return y.setScheduler(t)},o.prototype._then=function(t,e,n,r,i){var s=void 0!==i,a=s?i:new o(w),u=this._target(),l=u._bitField;s||(a._propagateFrom(this,3),a._captureStackTrace(),void 0===r&&0!==(2097152&this._bitField)&&(r=0!==(50397184&l)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,a));var f=c();if(0!==(50397184&l)){var p,h,v=u._settlePromiseCtx;0!==(33554432&l)?(h=u._rejectionHandler0,p=t):0!==(16777216&l)?(h=u._fulfillmentHandler0,p=e,u._unsetRejectionIsUnhandled()):(v=u._settlePromiseLateCancellationObserver,h=new b("late cancellation observer"),u._attachExtraTrace(h),p=e),y.invoke(v,u,{handler:null===f?p:"function"==typeof p&&d.domainBind(f,p),promise:a,receiver:r,value:h})}else u._addCallbacks(t,e,a,r,f);return a},o.prototype._length=function(){return 65535&this._bitField},o.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},o.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},o.prototype._setLength=function(t){this._bitField=this._bitField&-65536|65535&t},o.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},o.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},o.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},o.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},o.prototype._isFinal=function(){return(4194304&this._bitField)>0},o.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},o.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},o.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},o.prototype._setAsyncGuaranteed=function(){y.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},o.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==h)return void 0===e&&this._isBound()?this._boundValue():e},o.prototype._promiseAt=function(t){return this[4*t-4+2]},o.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},o.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},o.prototype._boundValue=function(){},o.prototype._migrateCallback0=function(t){var e=(t._bitField,t._fulfillmentHandler0),n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=h),this._addCallbacks(e,n,r,i,null)},o.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=h),this._addCallbacks(n,r,i,o,null)},o.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=null===i?t:d.domainBind(i,t)),"function"==typeof e&&(this._rejectionHandler0=null===i?e:d.domainBind(i,e));else{var s=4*o-4;this[s+2]=n,this[s+3]=r,"function"==typeof t&&(this[s+0]=null===i?t:d.domainBind(i,t)),"function"==typeof e&&(this[s+1]=null===i?e:d.domainBind(i,e))}return this._setLength(o+1),o},o.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},o.prototype._resolveCallback=function(t,e){if(0===(117506048&this._bitField)){if(t===this)return this._rejectCallback(l(),!1);var n=E(t,this);if(!(n instanceof o))return this._fulfill(t);e&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(l());var i=r._bitField;if(0===(50397184&i)){var s=this._length();s>0&&r._migrateCallback0(this);for(var a=1;a<s;++a)r._migrateCallbackAt(this,a);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!==(33554432&i))this._fulfill(r._value());else if(0!==(16777216&i))this._reject(r._reason());else{var u=new b("late cancellation observer");r._attachExtraTrace(u),this._reject(u)}}},o.prototype._rejectCallback=function(t,e,n){var r=d.ensureErrorObject(t),i=r===t;if(!i&&!n&&F.warnings()){var o="a promise was rejected with a non-error: "+d.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,!!e&&i),this._reject(t)},o.prototype._resolveFromExecutor=function(t){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)},o.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0===(65536&i)){r._pushContext();var o;e===x?n&&"number"==typeof n.length?o=A(t).apply(this._boundValue(),n):(o=R,o.e=new g("cannot .spread() a non-array: "+d.classString(n))):o=A(t).call(e,n);var s=r._popContext();i=r._bitField,0===(65536&i)&&(o===C?r._reject(n):o===R?r._rejectCallback(o.e,!1):(F.checkForgottenReturns(o,s,"",r,this),r._resolveCallback(o)))}},o.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},o.prototype._followee=function(){return this._rejectionHandler0},o.prototype._setFollowee=function(t){this._rejectionHandler0=t},o.prototype._settlePromise=function(t,e,n,i){var s=t instanceof o,a=this._bitField,u=0!==(134217728&a);0!==(65536&a)?(s&&t._invokeInternalOnCancel(),n instanceof S&&n.isFinallyHandler()?(n.cancelPromise=t,A(e).call(n,i)===R&&t._reject(R.e)):e===f?t._fulfill(f.call(n)):n instanceof r?n._promiseCancelled(t):s||t instanceof k?t._cancel():n.cancel()):"function"==typeof e?s?(u&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,i,t)):e.call(n,i,t):n instanceof r?n._isResolved()||(0!==(33554432&a)?n._promiseFulfilled(i,t):n._promiseRejected(i,t)):s&&(u&&t._setAsyncGuaranteed(),0!==(33554432&a)?t._fulfill(i):t._reject(i))},o.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,i=t.value;"function"==typeof e?n instanceof o?this._settlePromiseFromHandler(e,r,i,n):e.call(r,i,n):n instanceof o&&n._reject(i)},o.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},o.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},o.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},o.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=l();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!==(134217728&e)?this._settlePromises():y.settlePromises(this))}},o.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16))return this._setRejected(),this._fulfillmentHandler0=t,this._isFinal()?y.fatalError(t,d.isNode):void((65535&e)>0?y.settlePromises(this):this._ensurePossibleRejectionHandled())},o.prototype._fulfillPromises=function(t,e){for(var n=1;n<t;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._rejectPromises=function(t,e){for(var n=1;n<t;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!==(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},o.prototype._settledValue=function(){var t=this._bitField;return 0!==(33554432&t)?this._rejectionHandler0:0!==(16777216&t)?this._fulfillmentHandler0:void 0},o.defer=o.pending=function(){F.deprecated("Promise.defer","new Promise");var t=new o(w);return{promise:t,resolve:s,reject:a}},d.notEnumerableProp(o,"_makeSelfResolutionError",l),t("./method")(o,w,E,p,F),t("./bind")(o,w,E,F),t("./cancel")(o,k,p,F),t("./direct_resolve")(o),t("./synchronous_inspection")(o),t("./join")(o,k,E,w,y,c),o.Promise=o,o.version="3.4.6",t("./map.js")(o,k,p,E,w,F),t("./call_get.js")(o),t("./using.js")(o,p,E,j,w,F),t("./timers.js")(o,w,F),t("./generators.js")(o,p,w,E,r,F),t("./nodeify.js")(o),t("./promisify.js")(o,w),t("./props.js")(o,k,E,p),t("./race.js")(o,w,E,p),t("./reduce.js")(o,k,p,E,w,F),t("./settle.js")(o,k,F),t("./some.js")(o,k,p),t("./filter.js")(o,w),t("./each.js")(o,w),t("./any.js")(o),d.toFastProperties(o),d.toFastProperties(o.prototype),u({a:1}),u({b:2}),u({c:3}),u(1),u(function(){}),u(void 0),u(!1),u(new o(w)),F.setBounds(_.firstLineError,d.lastLineError),o}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){function s(t){switch(t){case-2:return[];case-3:return{}}}function a(t){var r=this._promise=new e(n);t instanceof e&&r._propagateFrom(t,3),r._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var u=t("./util");u.isArray;return u.inherits(a,o),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function c(t,n){var o=r(this._values,this._promise);if(o instanceof e){o=o._target();var a=o._bitField;if(this._values=o,0===(50397184&a))return this._promise._setAsyncGuaranteed(),o._then(c,this._reject,void 0,this,n);if(0===(33554432&a))return 0!==(16777216&a)?this._reject(o._reason()):this._cancel();o=o._value()}if(o=u.asArray(o),null===o){var l=i("expecting an array or an iterable object but got "+u.classString(o)).reason();return void this._promise._rejectCallback(l,!1)}return 0===o.length?void(n===-5?this._resolveEmptyArray():this._resolve(s(n))):void this._iterate(o)},a.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,s=null,a=0;a<n;++a){var u=r(t[a],i);u instanceof e?(u=u._target(),s=u._bitField):s=null,o?null!==s&&u.suppressUnhandledRejections():null!==s?0===(50397184&s)?(u._proxy(this,a),this._values[a]=u):o=0!==(33554432&s)?this._promiseFulfilled(u._value(),a):0!==(16777216&s)?this._promiseRejected(u._reason(),a):this._promiseCancelled(a):o=this._promiseFulfilled(u,a)}o||i._setAsyncGuaranteed()},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},a.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},a.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},a.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(t){return t},a}},{"./util":36}],24:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t){return!x.test(t)}function i(t){try{return t.__isPromisified__===!0}catch(e){return!1}}function o(t,e,n){var r=h.getDataPropertyOrDefault(t,e+n,b);return!!r&&i(r)}function s(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),s=0;s<t.length;s+=2)if(t[s]===o)throw new m("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}function a(t,e,n,r){for(var a=h.inheritedDataKeys(t),u=[],c=0;c<a.length;++c){var l=a[c],f=t[l],p=r===C||C(l,f,t);"function"!=typeof f||i(f)||o(t,l,e)||!r(l,f,t,p)||u.push(l,f)}return s(u,e,n),u}function u(t,r,i,o,s,a){function u(){var i=r;r===p&&(i=this);var o=new e(n);o._captureStackTrace();var s="string"==typeof l&&this!==c?this[l]:t,u=d(o,a);try{s.apply(i,v(arguments,u))}catch(f){o._rejectCallback(_(f),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var c=function(){return this}(),l=t;return"string"==typeof l&&(t=o),h.notEnumerableProp(u,"__isPromisified__",!0),u}function c(t,e,n,r,i){for(var o=new RegExp(E(e)+"$"),s=a(t,e,o,n),u=0,c=s.length;u<c;u+=2){var l=s[u],f=s[u+1],d=l+e;if(r===k)t[d]=k(l,p,l,f,e,i);else{var v=r(f,function(){return k(l,p,l,f,e,i)});h.notEnumerableProp(v,"__isPromisified__",!0),t[d]=v}}return h.toFastProperties(t),t}function l(t,e,n){return k(t,e,void 0,t,null,n)}var f,p={},h=t("./util"),d=t("./nodeback"),v=h.withAppended,_=h.maybeWrapAsError,y=h.canEvaluate,m=t("./errors").TypeError,g="Async",b={__isPromisified__:!0},w=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],x=new RegExp("^(?:"+w.join("|")+")$"),C=function(t){return h.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t},E=function(t){return t.replace(/([$])/,"\\$")},k=y?f:u;e.promisify=function(t,e){if("function"!=typeof t)throw new m("expecting a function but got "+h.classString(t));if(i(t))return t;e=Object(e);var n=void 0===e.context?p:e.context,o=!!e.multiArgs,s=l(t,n,o);return h.copyDescriptors(t,s,r),s},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new m("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");e=Object(e);var n=!!e.multiArgs,r=e.suffix;"string"!=typeof r&&(r=g);var i=e.filter;"function"!=typeof i&&(i=C);var o=e.promisifier;if("function"!=typeof o&&(o=k),!h.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=h.inheritedDataKeys(t),a=0;a<s.length;++a){var u=t[s[a]];"constructor"!==s[a]&&h.isClass(u)&&(c(u.prototype,r,i,o,n),c(u,r,i,o,n))}return c(t,r,i,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t){var e,n=!1;if(void 0!==a&&t instanceof a)e=f(t),n=!0;else{var r=l.keys(t),i=r.length;e=new Array(2*i);for(var o=0;o<i;++o){var s=r[o];e[o]=t[s],e[o+i]=s}}this.constructor$(e),this._isMap=n,this._init$(void 0,-3)}function s(t){var n,s=r(t);return c(s)?(n=s instanceof e?s._then(e.props,void 0,void 0,void 0,void 0):new o(s).promise(),s instanceof e&&n._propagateFrom(s,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var a,u=t("./util"),c=u.isObject,l=t("./es5");"function"==typeof Map&&(a=Map);var f=function(){function t(t,r){this[e]=t,this[e+n]=r,e++}var e=0,n=0;return function(r){n=r.size,e=0;var i=new Array(2*r.size);return r.forEach(t,i),i}}(),p=function(t){for(var e=new a,n=t.length/2|0,r=0;r<n;++r){var i=t[n+r],o=t[r];e.set(i,o)}return e};u.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){var r;if(this._isMap)r=p(this._values);else{r={};for(var i=this.length(),o=0,s=this.length();o<s;++o)r[this._values[o+i]]=this._values[o]}return this._resolve(r),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return s(this)},e.props=function(t){return s(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o=0;o<i;++o)n[o+r]=t[o+e],t[o+e]=void 0}function i(t){this._capacity=t,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(t){return this._capacity<t},i.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},i.prototype._unshiftOne=function(t){var e=this._capacity;this._checkCapacity(this.length()+1);var n=this._front,r=(n-1&e-1^e)-e;this[r]=t,this._front=r,this._length=this.length()+1},i.prototype.unshift=function(t,e,n){this._unshiftOne(n),this._unshiftOne(e),this._unshiftOne(t)},i.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var n=this._front,i=this._length,o=n+i&e-1;r(this,0,this,e,o)},e.exports=i},{}],27:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t,o){var u=r(t);if(u instanceof e)return a(u);if(t=s.asArray(t),null===t)return i("expecting an array or an iterable object but got "+s.classString(t));var c=new e(n);void 0!==o&&c._propagateFrom(o,3);for(var l=c._fulfill,f=c._reject,p=0,h=t.length;p<h;++p){var d=t[p];(void 0!==d||p in t)&&e.cast(d)._then(l,f,void 0,c,null)}return c}var s=t("./util"),a=function(t){return t.then(function(e){return o(e,t)})};e.race=function(t){return o(t,void 0)},e.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,n,r,i){this.constructor$(t);var s=p();this._fn=null===s?n:h.domainBind(s,n),void 0!==r&&(r=e.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,i===o?this._eachValues=Array(this._length):0===i?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function u(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function c(t,e,n,i){if("function"!=typeof e)return r("expecting a function but got "+h.classString(e));var o=new a(t,e,n,i);return o.promise()}function l(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(f,void 0,void 0,this,void 0)):f.call(this,n)}function f(t){var n=this.array,r=n._promise,i=d(n._fn);r._pushContext();var o;o=void 0!==n._eachValues?i.call(r._boundValue(),t,this.index,this.length):i.call(r._boundValue(),this.accum,t,this.index,this.length),o instanceof e&&(n._currentCancellable=o);var a=r._popContext();return s.checkForgottenReturns(o,a,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),o}var p=e._getDomain,h=t("./util"),d=h.tryCatch;h.inherits(a,n),a.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==o&&this._eachValues.push(t)},a.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},a.prototype._init=function(){},a.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},a.prototype.shouldCopyValues=function(){return!1},a.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},a.prototype._resultCancelled=function(t){return t===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel()))},a.prototype._iterate=function(t){this._values=t;var n,r,i=t.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=e.resolve(t[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r){var o={accum:null,value:t[r],index:r,length:i,array:this};n=n._then(l,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(u,u,void 0,n,this)},e.prototype.reduce=function(t,e){return c(this,t,e,null)},e.reduce=function(t,e,n,r){return c(t,e,n,r)}}},{"./util":36}],29:[function(t,i,o){"use strict";var s,a=t("./util"),u=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},c=a.getNativePromise();if(a.isNode&&"undefined"==typeof MutationObserver){var l=n.setImmediate,f=e.nextTick;s=a.isRecentNode?function(t){l.call(n,t)}:function(t){f.call(e,t)}}else if("function"==typeof c&&"function"==typeof c.resolve){var p=c.resolve();s=function(t){p.then(t)}}else s="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof r?function(t){r(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:u:function(){var t=document.createElement("div"),e={attributes:!0},n=!1,r=document.createElement("div"),i=new MutationObserver(function(){t.classList.toggle("foo"),n=!1});i.observe(r,e);var o=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(t,e),o()}}();i.exports=s},{"./util":36}],30:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t)}var o=e.PromiseInspection,s=t("./util");s.inherits(i,n),i.prototype._promiseResolved=function(t,e){this._values[t]=e;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(t,e){var n=new o;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},i.prototype._promiseRejected=function(t,e){var n=new o;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return r.deprecated(".settle()",".reflect()"),new i(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||e<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(t),o=n.promise();return n.setHowMany(e),n.init(),o}var s=t("./util"),a=t("./errors").RangeError,u=t("./errors").AggregateError,c=s.isArray,l={};s.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=c(this._values);
!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(t){this._howMany=t},i.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new u,e=this.length();e<this._values.length;++e)this._values[e]!==l&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(t){this._values.push(t)},i.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new a(e)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return o(t,e)},e.prototype.some=function(t){return o(this,t)},e._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},s=e.prototype.isPending=function(){return 0===(50397184&this._bitField)},a=e.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},t.prototype.isPending=function(){return s.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return a.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,r){if(l(t)){if(t instanceof e)return t;var i=o(t);if(i===c){r&&r._pushContext();var u=e.reject(i.e);return r&&r._popContext(),u}if("function"==typeof i){if(s(t)){var u=new e(n);return t._then(u._fulfill,u._reject,void 0,u,null),u}return a(t,i,r)}}return t}function i(t){return t.then}function o(t){try{return i(t)}catch(e){return c.e=e,c}}function s(t){try{return f.call(t,"_promise0")}catch(e){return!1}}function a(t,r,i){function o(t){a&&(a._resolveCallback(t),a=null)}function s(t){a&&(a._rejectCallback(t,f,!0),a=null)}var a=new e(n),l=a;i&&i._pushContext(),a._captureStackTrace(),i&&i._popContext();var f=!0,p=u.tryCatch(r).call(t,o,s);return f=!1,a&&p===c&&(a._rejectCallback(p.e,!0,!0),a=null),l}var u=t("./util"),c=u.errorObj,l=u.isObject,f={}.hasOwnProperty;return r}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.handle=t}function o(t){return clearTimeout(this.handle),t}function s(t){throw clearTimeout(this.handle),t}var a=t("./util"),u=e.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(t){return l(+this).thenReturn(t)},l=e.delay=function(t,o){var s,a;return void 0!==o?(s=e.resolve(o)._then(c,null,null,t,void 0),r.cancellation()&&o instanceof e&&s._setOnCancel(o)):(s=new e(n),a=setTimeout(function(){s._fulfill()},+t),r.cancellation()&&s._setOnCancel(new i(a)),s._captureStackTrace()),s._setAsyncGuaranteed(),s};e.prototype.delay=function(t){return l(t,this)};var f=function(t,e,n){var r;r="string"!=typeof e?e instanceof Error?e:new u("operation timed out"):new u(e),a.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()};e.prototype.timeout=function(t,e){t=+t;var n,a,u=new i(setTimeout(function(){n.isPending()&&f(n,e,a)},t));return r.cancellation()?(a=this.then(),n=a._then(o,s,void 0,u,void 0),n._setOnCancel(u)):n=this._then(o,s,void 0,u,void 0),n}}},{"./util":36}],35:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t){setTimeout(function(){throw t},0)}function u(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function c(t,n){function i(){if(s>=c)return l._fulfill();var o=u(t[s++]);if(o instanceof e&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),t.promise)}catch(f){return a(f)}if(o instanceof e)return o._then(i,a,null,null,null)}i()}var s=0,c=t.length,l=new e(o);return i(),l}function l(t,e,n){this._data=t,this._promise=e,this._context=n}function f(t,e,n){this.constructor$(t,e,n)}function p(t){return l.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function h(t){this.length=t,this.promise=null,this[t-1]=null}var d=t("./util"),v=t("./errors").TypeError,_=t("./util").inherits,y=d.errorObj,m=d.tryCatch,g={};l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():g},l.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==g?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},l.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},_(f,l),f.prototype.doDispose=function(t,e){var n=this.data();return n.call(t,t,e)},h.prototype._resultCancelled=function(){for(var t=this.length,n=0;n<t;++n){var r=this[n];r instanceof e&&r.cancel()}},e.using=function(){var t=arguments.length;if(t<2)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[t-1];if("function"!=typeof i)return n("expecting a function but got "+d.classString(i));var o,a=!0;2===t&&Array.isArray(arguments[0])?(o=arguments[0],t=o.length,a=!1):(o=arguments,t--);for(var u=new h(t),f=0;f<t;++f){var v=o[f];if(l.isDisposer(v)){var _=v;v=v.promise(),v._setDisposable(_)}else{var g=r(v);g instanceof e&&(v=g._then(p,null,null,{resources:u,index:f},void 0))}u[f]=v}for(var b=new Array(u.length),f=0;f<b.length;++f)b[f]=e.resolve(u[f]).reflect();var w=e.all(b).then(function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return y.e=n.error(),y;if(!n.isFulfilled())return void w.cancel();t[e]=n.value()}x._pushContext(),i=m(i);var r=a?i.apply(void 0,t):i(t),o=x._popContext();return s.checkForgottenReturns(r,o,"Promise.using",x),r}),x=w.lastly(function(){var t=new e.PromiseInspection(w);return c(u,t)});return u.promise=x,x._setOnCancel(u),x},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new f(t,this,i());throw new v}}},{"./errors":12,"./util":36}],36:[function(t,r,i){"use strict";function o(){try{var t=O;return O=null,t.apply(this,arguments)}catch(e){return P.e=e,P}}function s(t){return O=t,o}function a(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function u(t){return"function"==typeof t||"object"==typeof t&&null!==t}function c(t){return a(t)?new Error(m(t)):t}function l(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=t[n];return i[n]=e,i}function f(t,e,n){if(!F.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function p(t,e,n){if(a(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return F.defineProperty(t,e,r),t}function h(t){throw t}function d(t){try{if("function"==typeof t){var e=F.names(t.prototype),n=F.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=N.test(t+"")&&F.names(t).length>0;if(n||r||i)return!0}return!1}catch(o){return!1}}function v(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t}function _(t){return L.test(t)}function y(t,e,n){for(var r=new Array(t),i=0;i<t;++i)r[i]=e+i+n;return r}function m(t){try{return t+""}catch(e){return"[no string representation]"}}function g(t){return null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function b(t){try{p(t,"isOperational",!0)}catch(e){}}function w(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||t.isOperational===!0)}function x(t){return g(t)&&F.propertyIsWritable(t,"stack")}function C(t){return{}.toString.call(t)}function E(t,e,n){for(var r=F.names(t),i=0;i<r.length;++i){var o=r[i];if(n(o))try{F.defineProperty(e,o,F.getDescriptor(t,o))}catch(s){}}}function k(t,n){return B?e.env[t]:n}function T(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(e){}}function j(t,e){return t.bind(e)}var F=t("./es5"),S="undefined"==typeof navigator,P={e:{}},O,R="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof n?n:void 0!==this?this:null,A=function(t,e){function n(){this.constructor=t,this.constructor$=e;for(var n in e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var r={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},D=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(F.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var r=[],i=Object.create(null);null!=t&&!e(t);){var o;try{o=n(t)}catch(s){return r}for(var a=0;a<o.length;++a){var u=o[a];if(!i[u]){i[u]=!0;var c=Object.getOwnPropertyDescriptor(t,u);null!=c&&null==c.get&&null==c.set&&r.push(u)}}t=F.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var i=[];t:for(var o in n)if(r.call(n,o))i.push(o);else{for(var s=0;s<t.length;++s)if(r.call(t[s],o))continue t;i.push(o)}return i}}(),N=/this\s*\.\s*\S+\s*=/,L=/^[a-z$_][a-z$_0-9]*$/i,I=function(){return"stack"in new Error?function(t){return x(t)?t:new Error(m(t))}:function(t){if(x(t))return t;try{throw new Error(m(t))}catch(e){return e}}}(),H=function(t){return F.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var M="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};H=function(t){return F.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?M(t):null}}var B="undefined"!=typeof e&&"[object process]"===C(e).toLowerCase(),q={isClass:d,isIdentifier:_,inheritedDataKeys:D,getDataPropertyOrDefault:f,thrower:h,isArray:F.isArray,asArray:H,notEnumerableProp:p,isPrimitive:a,isObject:u,isError:g,canEvaluate:S,errorObj:P,tryCatch:s,inherits:A,withAppended:l,maybeWrapAsError:c,toFastProperties:v,filledRange:y,toString:m,canAttachTrace:x,ensureErrorObject:I,originatesFromRejection:w,markAsOriginatingFromRejection:b,classString:C,copyDescriptors:E,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:B,env:k,global:R,getNativePromise:T,domainBind:j};q.isRecentNode=q.isNode&&function(){var t=e.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0}(),q.isNode&&q.toFastProperties(e);try{throw new Error}catch(U){q.lastLineError=U}r.exports=q},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(e,n(53),function(){return this}(),n(54).setImmediate)},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function s(){v&&h&&(v=!1,h.length?d=h.concat(d):_=-1,d.length&&a())}function a(){if(!v){var t=i(s);v=!0;for(var e=d.length;e;){for(h=d,d=[];++_<e;)h&&h[_].run();_=-1,e=d.length}h=null,v=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,f,p=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var h,d=[],v=!1,_=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||v||i(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e,n){(function(t,r){function i(t,e){this._id=t,this._clearFn=e}var o=n(53).nextTick,s=Function.prototype.apply,a=Array.prototype.slice,u={},c=0;e.setTimeout=function(){return new i(s.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(s.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=c++,r=!(arguments.length<2)&&a.call(arguments,1);return u[n]=!0,o(function(){u[n]&&(r?t.apply(null,r):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof r?r:function(t){delete u[t]}}).call(e,n(54).setImmediate,n(54).clearImmediate)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYmFja2dyb3VuZC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgYmNhODMxM2MxZTA0NzRjMWE2ZDkiLCJ3ZWJwYWNrOi8vLy4vfi93aGF0d2ctZmV0Y2gvZmV0Y2guanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL3NjcmlwdHMvYmFja2dyb3VuZC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb3JlLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9hc3NpZ24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2Fzc2lnbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuYXNzaWduLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2V4cG9ydC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3R4LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2EtZnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGlkZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHAuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYW4tb2JqZWN0LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pZTgtZG9tLWRlZmluZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZXNjcmlwdG9ycy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19mYWlscy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kb20tY3JlYXRlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLXByaW1pdGl2ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1hc3NpZ24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMtaW50ZXJuYWwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGFzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWlvYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb2YuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZGVmaW5lZC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hcnJheS1pbmNsdWRlcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1sZW5ndGguanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW50ZWdlci5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQta2V5LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191aWQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1idWcta2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtcGllLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2VwdWItcHJlc3MtanMvYnVpbGQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9qcXVlcnkvZGlzdC9qcXVlcnkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9pc29tb3JwaGljLWZldGNoL2ZldGNoLW5wbS1icm93c2VyaWZ5LmpzIiwid2VicGFjazovLy8uL2FwcC9zY3JpcHRzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9ibHVlYmlyZC9qcy9icm93c2VyL2JsdWViaXJkLmpzIiwid2VicGFjazovLy8uL34vcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL34vdGltZXJzLWJyb3dzZXJpZnkvbWFpbi5qcyJdLCJuYW1lcyI6WyJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImV4cG9ydHMiLCJtb2R1bGUiLCJpZCIsImxvYWRlZCIsImNhbGwiLCJtIiwiYyIsInAiLCJzZWxmIiwibm9ybWFsaXplTmFtZSIsIm5hbWUiLCJTdHJpbmciLCJ0ZXN0IiwiVHlwZUVycm9yIiwidG9Mb3dlckNhc2UiLCJub3JtYWxpemVWYWx1ZSIsInZhbHVlIiwiaXRlcmF0b3JGb3IiLCJpdGVtcyIsIml0ZXJhdG9yIiwibmV4dCIsInNoaWZ0IiwiZG9uZSIsInVuZGVmaW5lZCIsInN1cHBvcnQiLCJpdGVyYWJsZSIsIlN5bWJvbCIsIkhlYWRlcnMiLCJoZWFkZXJzIiwidGhpcyIsIm1hcCIsImZvckVhY2giLCJhcHBlbmQiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiY29uc3VtZWQiLCJib2R5IiwiYm9keVVzZWQiLCJQcm9taXNlIiwicmVqZWN0IiwiZmlsZVJlYWRlclJlYWR5IiwicmVhZGVyIiwicmVzb2x2ZSIsIm9ubG9hZCIsInJlc3VsdCIsIm9uZXJyb3IiLCJlcnJvciIsInJlYWRCbG9iQXNBcnJheUJ1ZmZlciIsImJsb2IiLCJGaWxlUmVhZGVyIiwicmVhZEFzQXJyYXlCdWZmZXIiLCJyZWFkQmxvYkFzVGV4dCIsInJlYWRBc1RleHQiLCJCb2R5IiwiX2luaXRCb2R5IiwiX2JvZHlJbml0IiwiX2JvZHlUZXh0IiwiQmxvYiIsInByb3RvdHlwZSIsImlzUHJvdG90eXBlT2YiLCJfYm9keUJsb2IiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiX2JvZHlGb3JtRGF0YSIsInNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInRvU3RyaW5nIiwiYXJyYXlCdWZmZXIiLCJBcnJheUJ1ZmZlciIsIkVycm9yIiwiZ2V0Iiwic2V0IiwidHlwZSIsInJlamVjdGVkIiwidGhlbiIsInRleHQiLCJkZWNvZGUiLCJqc29uIiwiSlNPTiIsInBhcnNlIiwibm9ybWFsaXplTWV0aG9kIiwibWV0aG9kIiwidXBjYXNlZCIsInRvVXBwZXJDYXNlIiwibWV0aG9kcyIsImluZGV4T2YiLCJSZXF1ZXN0IiwiaW5wdXQiLCJvcHRpb25zIiwidXJsIiwiY3JlZGVudGlhbHMiLCJtb2RlIiwicmVmZXJyZXIiLCJmb3JtIiwidHJpbSIsInNwbGl0IiwiYnl0ZXMiLCJyZXBsYWNlIiwiam9pbiIsImRlY29kZVVSSUNvbXBvbmVudCIsInhociIsImhlYWQiLCJwYWlycyIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsImhlYWRlciIsImtleSIsIlJlc3BvbnNlIiwiYm9keUluaXQiLCJzdGF0dXMiLCJvayIsInN0YXR1c1RleHQiLCJmZXRjaCIsImUiLCJsaXN0IiwicHVzaCIsInZhbHVlcyIsImdldEFsbCIsImhhcyIsImhhc093blByb3BlcnR5IiwiY2FsbGJhY2siLCJ0aGlzQXJnIiwia2V5cyIsImVudHJpZXMiLCJjbG9uZSIsInJlc3BvbnNlIiwicmVkaXJlY3RTdGF0dXNlcyIsInJlZGlyZWN0IiwiUmFuZ2VFcnJvciIsImxvY2F0aW9uIiwiaW5pdCIsInJlc3BvbnNlVVJMIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJyZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJyZXNwb25zZVRleHQiLCJvbnRpbWVvdXQiLCJvcGVuIiwid2l0aENyZWRlbnRpYWxzIiwicmVzcG9uc2VUeXBlIiwic2V0UmVxdWVzdEhlYWRlciIsInNlbmQiLCJwb2x5ZmlsbCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9zdHJpbmdpZnkiLCJfc3RyaW5naWZ5MiIsIl9hc3NpZ24iLCJfYXNzaWduMiIsIl9lcHViUHJlc3NKcyIsIl9lcHViUHJlc3NKczIiLCJfYnJvd3NlciIsIl9icm93c2VyMiIsImdldE1hbmlmZXN0Iiwib25Gb3JlZ3JvdW5kTWVzc2FnZSIsImFjdGlvbiIsInNldExvY2FsU3RvcmFnZSIsImRvd25sb2FkU3RhdGUiLCJwdWJsaXNoU3RhdHVzIiwiZ2V0TG9jYWxTdG9yYWdlIiwic3RhdGUiLCJib29rIiwib24iLCJzZW5kTWVzc2FnZSIsInByb2dyZXNzIiwibWVzc2FnZSIsInB1Ymxpc2giLCJlbWFpbCIsImZpbGV0eXBlIiwiZG93bmxvYWQiLCJjb3JlIiwiJEpTT04iLCJzdHJpbmdpZnkiLCJpdCIsImFwcGx5IiwiYXJndW1lbnRzIiwidmVyc2lvbiIsIl9fZSIsImFzc2lnbiIsIiRleHBvcnQiLCJTIiwiRiIsImdsb2JhbCIsImN0eCIsImhpZGUiLCJQUk9UT1RZUEUiLCJzb3VyY2UiLCJvd24iLCJvdXQiLCJJU19GT1JDRUQiLCJJU19HTE9CQUwiLCJHIiwiSVNfU1RBVElDIiwiSVNfUFJPVE8iLCJQIiwiSVNfQklORCIsIkIiLCJJU19XUkFQIiwiVyIsImV4cFByb3RvIiwidGFyZ2V0IiwiQyIsImEiLCJiIiwibGVuZ3RoIiwiRnVuY3Rpb24iLCJ2aXJ0dWFsIiwiUiIsIlUiLCJ3aW5kb3ciLCJNYXRoIiwiX19nIiwiYUZ1bmN0aW9uIiwiZm4iLCJ0aGF0IiwiZFAiLCJjcmVhdGVEZXNjIiwib2JqZWN0IiwiZiIsImFuT2JqZWN0IiwiSUU4X0RPTV9ERUZJTkUiLCJ0b1ByaW1pdGl2ZSIsImRlZmluZVByb3BlcnR5IiwiTyIsIkF0dHJpYnV0ZXMiLCJpc09iamVjdCIsImV4ZWMiLCJkb2N1bWVudCIsImlzIiwiY3JlYXRlRWxlbWVudCIsInZhbCIsInZhbHVlT2YiLCJiaXRtYXAiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJnZXRLZXlzIiwiZ09QUyIsInBJRSIsInRvT2JqZWN0IiwiSU9iamVjdCIsIiRhc3NpZ24iLCJBIiwiSyIsImsiLCJUIiwiYUxlbiIsImluZGV4IiwiZ2V0U3ltYm9scyIsImlzRW51bSIsImNvbmNhdCIsImoiLCIka2V5cyIsImVudW1CdWdLZXlzIiwidG9JT2JqZWN0IiwiYXJyYXlJbmRleE9mIiwiSUVfUFJPVE8iLCJuYW1lcyIsImkiLCJkZWZpbmVkIiwiY29mIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJzbGljZSIsInRvTGVuZ3RoIiwidG9JbmRleCIsIklTX0lOQ0xVREVTIiwiJHRoaXMiLCJlbCIsImZyb21JbmRleCIsInRvSW50ZWdlciIsIm1pbiIsImNlaWwiLCJmbG9vciIsImlzTmFOIiwibWF4Iiwic2hhcmVkIiwidWlkIiwiU0hBUkVEIiwic3RvcmUiLCJweCIsInJhbmRvbSIsImdldE93blByb3BlcnR5U3ltYm9scyIsIiQiLCJ0IiwiciIsIm4iLCJvIiwiREVCVUciLCJjb25zb2xlIiwibG9nIiwicyIsImdldElkIiwiRmlsZSIsInNhdmVBcyIsIndyaXRlRmlsZVN5bmMiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwic2VjdGlvbnMiLCJ1cmxzIiwiQWNjZXB0IiwiQ29udGVudC1UeXBlIiwidyIsInUiLCJjaGVja1N0YXR1cyIsImVtaXQiLCJOdW1iZXIiLCJDSEVDS19TVEFUVVNfTElNSVQiLCJFUlJPUl9DT0RFUyIsInNldFRpbWVvdXQiLCJQT0xMX1JBVEUiLCJsIiwiZXJyb3JzIiwiZGV0YWlsIiwibWluQ29tcGF0aWJsZSIsImgiLCJlbmNvZGVVUklDb21wb25lbnQiLCJmaWx0ZXIiLCJkIiwiXyIsInYiLCJ5IiwiZyIsIkUiLCJ4IiwiRGF0ZSIsIm1hdGNoIiwiYm9va0RhdGEiLCJldmVudHMiLCJnZXRWZXJzaW9uIiwiZ2V0VmVyc2lvblVybCIsImNsaWVudHMiLCJnZXRQdWJsaXNoVXJsIiwiQkFTRV9BUEkiLCJWRVJTSU9OIiwiQXJyYXkiLCJzcGxpY2UiLCJmaW5kIiwiZ2V0RmlsZXR5cGUiLCJnZXRFbWFpbCIsImdldFN0YXR1c1VybCIsImlzUHVibGlzaGluZyIsImdldERvd25sb2FkVXJsIiwiYnVmZmVyIiwiZ2V0VGl0bGUiLCJnZXRFbWFpbFVybCIsIkJBU0VfVVJMIiwiYmFzZVVybCIsIjAiLCJGYWlsZWQgdG8gZmV0Y2giLCJGZXRjaEVycm9yIiwiNDAwIiwiNDA0IiwiNDIyIiwiNTAwIiwiNTAzIiwidGltZW91dCIsIlNFUlZFUl9GQUlMRUQiLCJTRVJWRVJfQkFEX0NPTlRFTlQiLCJfZGVyZXFfIiwiY29kZSIsIjEiLCJwcm9taXNlIiwic2V0SG93TWFueSIsInNldFVud3JhcCIsIl9Tb21lUHJvbWlzZUFycmF5IiwiYW55IiwiMiIsIl9jdXN0b21TY2hlZHVsZXIiLCJfaXNUaWNrVXNlZCIsIl9sYXRlUXVldWUiLCJfbm9ybWFsUXVldWUiLCJfaGF2ZURyYWluZWRRdWV1ZXMiLCJfdHJhbXBvbGluZUVuYWJsZWQiLCJkcmFpblF1ZXVlcyIsIl9kcmFpblF1ZXVlcyIsIl9zY2hlZHVsZSIsIl9xdWV1ZVRpY2siLCJfcHVzaE9uZSIsInNldFNjaGVkdWxlciIsImhhc0N1c3RvbVNjaGVkdWxlciIsImVuYWJsZVRyYW1wb2xpbmUiLCJkaXNhYmxlVHJhbXBvbGluZUlmTmVjZXNzYXJ5IiwiaGFzRGV2VG9vbHMiLCJoYXZlSXRlbXNRdWV1ZWQiLCJmYXRhbEVycm9yIiwic3RkZXJyIiwid3JpdGUiLCJzdGFjayIsImV4aXQiLCJ0aHJvd0xhdGVyIiwiaW52b2tlTGF0ZXIiLCJpbnZva2UiLCJzZXR0bGVQcm9taXNlcyIsIl9zZXR0bGVQcm9taXNlcyIsImludm9rZUZpcnN0IiwidW5zaGlmdCIsIl9kcmFpblF1ZXVlIiwiX3Jlc2V0IiwiZmlyc3RMaW5lRXJyb3IiLCIuL3F1ZXVlIiwiLi9zY2hlZHVsZSIsIi4vdXRpbCIsIjMiLCJfcmVqZWN0IiwicHJvbWlzZVJlamVjdGlvblF1ZXVlZCIsImJpbmRpbmdQcm9taXNlIiwiX3RoZW4iLCJfYml0RmllbGQiLCJfcmVzb2x2ZUNhbGxiYWNrIiwiYmluZCIsIl9wcm9wYWdhdGVGcm9tIiwicHJvcGFnYXRlRnJvbUZ1bmN0aW9uIiwiX2JvdW5kVmFsdWUiLCJib3VuZFZhbHVlRnVuY3Rpb24iLCJfdGFyZ2V0IiwiX3NldEJvdW5kVG8iLCJfc2V0T25DYW5jZWwiLCJfYm91bmRUbyIsIl9pc0JvdW5kIiwiNCIsIm5vQ29uZmxpY3QiLCIuL3Byb21pc2UiLCI1IiwiY3JlYXRlIiwiY2xhc3NTdHJpbmciLCJwb3AiLCJjYW5FdmFsdWF0ZSIsImlzSWRlbnRpZmllciIsIjYiLCJ0cnlDYXRjaCIsImVycm9yT2JqIiwiX2FzeW5jIiwiY2FuY2VsIiwiY2FuY2VsbGF0aW9uIiwiX3dhcm4iLCJfaXNDYW5jZWxsYWJsZSIsIl9jYW5jZWxCeSIsIl9pc0ZvbGxvd2luZyIsIl9mb2xsb3dlZSIsIl9jYW5jZWxCcmFuY2hlZCIsIl9jYW5jZWxsYXRpb25QYXJlbnQiLCJfc2V0V2lsbEJlQ2FuY2VsbGVkIiwiX2JyYW5jaEhhc0NhbmNlbGxlZCIsIl9icmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsIiwiX2Vub3VnaEJyYW5jaGVzSGF2ZUNhbmNlbGxlZCIsIl9pbnZva2VPbkNhbmNlbCIsIl9jYW5jZWwiLCJfc2V0Q2FuY2VsbGVkIiwiX2NhbmNlbFByb21pc2VzIiwiX2xlbmd0aCIsIl91bnNldE9uQ2FuY2VsIiwiX29uQ2FuY2VsRmllbGQiLCJpc1BlbmRpbmciLCJfaXNDYW5jZWxsZWQiLCJpc0NhbmNlbGxhYmxlIiwiaXNDYW5jZWxsZWQiLCJfZG9JbnZva2VPbkNhbmNlbCIsImlzQXJyYXkiLCJfYXR0YWNoRXh0cmFUcmFjZSIsIl9yZXN1bHRDYW5jZWxsZWQiLCJfb25DYW5jZWwiLCJfaW52b2tlSW50ZXJuYWxPbkNhbmNlbCIsIjciLCIuL2VzNSIsIjgiLCJfdHJhY2UiLCJDYXB0dXJlZFRyYWNlIiwiX3Byb21pc2VDcmVhdGVkIiwiX3B1c2hDb250ZXh0IiwiX3BvcENvbnRleHQiLCJfcGVla0NvbnRleHQiLCJkZWFjdGl2YXRlTG9uZ1N0YWNrVHJhY2VzIiwiYWN0aXZhdGVMb25nU3RhY2tUcmFjZXMiLCI5IiwiViIsIl9hdHRhY2hDYW5jZWxsYXRpb25DYWxsYmFjayIsImlzRnVsZmlsbGVkIiwiX3BhcmVudCIsImF0dGFjaEV4dHJhVHJhY2UiLCJfX3N0YWNrQ2xlYW5lZF9fIiwibm90RW51bWVyYWJsZVByb3AiLCJfcmV0dXJuZWROb25VbmRlZmluZWQiLCJIIiwicSIsInN0Iiwid2FybmluZ3MiLCJMIiwibG9uZ1N0YWNrVHJhY2VzIiwiZXQiLCJRIiwicnQiLCJ6IiwiY2hhckF0IiwiRCIsIk4iLCJzdWJzdHIiLCJvdCIsImZpbGVOYW1lIiwibGluZSIsInBhcnNlSW50IiwiTSIsIl9wcm9taXNlc0NyZWF0ZWQiLCJ1bmN5Y2xlIiwiSSIsIl9nZXREb21haW4iLCJXYXJuaW5nIiwiY2FuQXR0YWNoVHJhY2UiLCJlbnYiLCJYIiwic3VwcHJlc3NVbmhhbmRsZWRSZWplY3Rpb25zIiwiX2Vuc3VyZVBvc3NpYmxlUmVqZWN0aW9uSGFuZGxlZCIsIl9zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZCIsIl9ub3RpZnlVbmhhbmRsZWRSZWplY3Rpb24iLCJfbm90aWZ5VW5oYW5kbGVkUmVqZWN0aW9uSXNIYW5kbGVkIiwiX3NldFJldHVybmVkTm9uVW5kZWZpbmVkIiwiX2lzUmVqZWN0aW9uVW5oYW5kbGVkIiwiX3NldHRsZWRWYWx1ZSIsIl9zZXRVbmhhbmRsZWRSZWplY3Rpb25Jc05vdGlmaWVkIiwiX3Vuc2V0VW5oYW5kbGVkUmVqZWN0aW9uSXNOb3RpZmllZCIsIl9pc1VuaGFuZGxlZFJlamVjdGlvbk5vdGlmaWVkIiwiX3Vuc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQiLCJvblBvc3NpYmx5VW5oYW5kbGVkUmVqZWN0aW9uIiwiZG9tYWluQmluZCIsIm9uVW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlZCIsIkoiLCJfY2FwdHVyZVN0YWNrVHJhY2UiLCJoYXNMb25nU3RhY2tUcmFjZXMiLCJZIiwiQ3VzdG9tRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiY2FuY2VsYWJsZSIsIkV2ZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0Q3VzdG9tRXZlbnQiLCJaIiwiaXNOb2RlIiwidHQiLCJwcm9taXNlQ3JlYXRlZCIsInByb21pc2VGdWxmaWxsZWQiLCJwcm9taXNlUmVqZWN0ZWQiLCJwcm9taXNlUmVzb2x2ZWQiLCJwcm9taXNlQ2FuY2VsbGVkIiwicHJvbWlzZUNoYWluZWQiLCJjaGlsZCIsIndhcm5pbmciLCJ1bmhhbmRsZWRSZWplY3Rpb24iLCJyZWFzb24iLCJyZWplY3Rpb25IYW5kbGVkIiwiY29uZmlnIiwid0ZvcmdvdHRlblJldHVybiIsIl9jbGVhckNhbmNlbGxhdGlvbkRhdGEiLCJfZXhlY3V0ZSIsIm50IiwibW9uaXRvcmluZyIsIl9maXJlRXZlbnQiLCJpbmhlcml0cyIsInN0YWNrVHJhY2VMaW1pdCIsImNhcHR1cmVTdGFja1RyYWNlIiwid2FybiIsImlzVFRZIiwiY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zIiwic2V0Qm91bmRzIiwiZGVwcmVjYXRlZCIsImZpcmVEb21FdmVudCIsImZpcmVHbG9iYWxFdmVudCIsIi4vZXJyb3JzIiwiMTAiLCJ0aGVuUmV0dXJuIiwidGhlblRocm93IiwiY2F0Y2hUaHJvdyIsImNhdWdodCIsImNhdGNoUmV0dXJuIiwiMTEiLCJyZWR1Y2UiLCJhbGwiLCJlYWNoIiwibWFwU2VyaWVzIiwiMTIiLCJjb25zdHJ1Y3RvciIsImNhdXNlIiwiaXNPcGVyYXRpb25hbCIsImZyZWV6ZSIsIl9fQmx1ZWJpcmRFcnJvclR5cGVzX18iLCJDYW5jZWxsYXRpb25FcnJvciIsIlRpbWVvdXRFcnJvciIsIk9wZXJhdGlvbmFsRXJyb3IiLCJSZWplY3Rpb25FcnJvciIsIkFnZ3JlZ2F0ZUVycm9yIiwiMTMiLCJnZXREZXNjcmlwdG9yIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZ2V0UHJvdG90eXBlT2YiLCJpc0VTNSIsInByb3BlcnR5SXNXcml0YWJsZSIsIjE0IiwiMTUiLCJoYW5kbGVyIiwiY2FsbGVkIiwiY2FuY2VsUHJvbWlzZSIsImZpbmFsbHlIYW5kbGVyIiwiaXNGaW5hbGx5SGFuZGxlciIsImlzUmVqZWN0ZWQiLCJfcGFzc1Rocm91Z2giLCJsYXN0bHkiLCJ0YXAiLCIxNiIsIl9maW5hbGx5UHJvbWlzZSIsIl9wcm9taXNlIiwiX3N0YWNrIiwiX2dlbmVyYXRvckZ1bmN0aW9uIiwiX3JlY2VpdmVyIiwiX2dlbmVyYXRvciIsIl95aWVsZEhhbmRsZXJzIiwiX3lpZWxkZWRQcm9taXNlIiwiX2NhbmNlbGxhdGlvblBoYXNlIiwiX2lzUmVzb2x2ZWQiLCJfY2xlYW51cCIsIl9mdWxmaWxsIiwiX3Byb21pc2VDYW5jZWxsZWQiLCJjb3JvdXRpbmUiLCJyZXR1cm5TZW50aW5lbCIsIl9jb250aW51ZSIsIl9wcm9taXNlRnVsZmlsbGVkIiwiX3Byb21pc2VSZWplY3RlZCIsIl9ydW4iLCJfcmVqZWN0Q2FsbGJhY2siLCJfcHJveHkiLCJfdmFsdWUiLCJfcmVhc29uIiwieWllbGRIYW5kbGVyIiwiYWRkWWllbGRIYW5kbGVyIiwic3Bhd24iLCIxNyIsInNwcmVhZCIsIjE4IiwiY29uc3RydWN0b3IkIiwiX2NhbGxiYWNrIiwiX3ByZXNlcnZlZFZhbHVlcyIsIl9saW1pdCIsIl9pbkZsaWdodCIsIl9xdWV1ZSIsIl9hc3luY0luaXQiLCJjb25jdXJyZW5jeSIsImlzRmluaXRlIiwiX2luaXQkIiwiX2luaXQiLCJfdmFsdWVzIiwiX3RvdGFsUmVzb2x2ZWQiLCJfZmlsdGVyIiwiX3Jlc29sdmUiLCJwcmVzZXJ2ZWRWYWx1ZXMiLCIxOSIsIl9yZXNvbHZlRnJvbVN5bmNWYWx1ZSIsImF0dGVtcHQiLCIyMCIsIm1hcmtBc09yaWdpbmF0aW5nRnJvbVJlamVjdGlvbiIsIm1heWJlV3JhcEFzRXJyb3IiLCIyMSIsImFzQ2FsbGJhY2siLCJub2RlaWZ5IiwiMjIiLCJfZnVsZmlsbG1lbnRIYW5kbGVyMCIsIl9yZWplY3Rpb25IYW5kbGVyMCIsIl9wcm9taXNlMCIsIl9yZWNlaXZlcjAiLCJfcmVzb2x2ZUZyb21FeGVjdXRvciIsIlByb21pc2VJbnNwZWN0aW9uIiwiZG9tYWluIiwicmVmbGVjdCIsIl9zZXRJc0ZpbmFsIiwidG9KU09OIiwiZnVsZmlsbG1lbnRWYWx1ZSIsInJlamVjdGlvblJlYXNvbiIsIm9yaWdpbmF0ZXNGcm9tUmVqZWN0aW9uIiwiZ2V0TmV3TGlicmFyeUNvcHkiLCJmcm9tTm9kZSIsImZyb21DYWxsYmFjayIsIm11bHRpQXJncyIsIl9pc0ZhdGVTZWFsZWQiLCJfc2V0QXN5bmNHdWFyYW50ZWVkIiwiY2FzdCIsIl9zZXRGdWxmaWxsZWQiLCJmdWxmaWxsZWQiLCJfc2V0dGxlUHJvbWlzZUN0eCIsIl9zZXR0bGVQcm9taXNlTGF0ZUNhbmNlbGxhdGlvbk9ic2VydmVyIiwicmVjZWl2ZXIiLCJfYWRkQ2FsbGJhY2tzIiwiX3NldExlbmd0aCIsIl9zZXRSZWplY3RlZCIsIl9zZXRGb2xsb3dpbmciLCJfaXNGaW5hbCIsIl91bnNldENhbmNlbGxlZCIsIl9yZWNlaXZlckF0IiwiX3Byb21pc2VBdCIsIl9mdWxmaWxsbWVudEhhbmRsZXJBdCIsIl9yZWplY3Rpb25IYW5kbGVyQXQiLCJfbWlncmF0ZUNhbGxiYWNrMCIsIl9taWdyYXRlQ2FsbGJhY2tBdCIsIl9zZXRGb2xsb3dlZSIsImVuc3VyZUVycm9yT2JqZWN0IiwiX3NldHRsZVByb21pc2VGcm9tSGFuZGxlciIsIl9zZXR0bGVQcm9taXNlIiwiX3NldHRsZVByb21pc2UwIiwiX2NsZWFyQ2FsbGJhY2tEYXRhQXRJbmRleCIsIl9mdWxmaWxsUHJvbWlzZXMiLCJfcmVqZWN0UHJvbWlzZXMiLCJkZWZlciIsInBlbmRpbmciLCJ0b0Zhc3RQcm9wZXJ0aWVzIiwibGFzdExpbmVFcnJvciIsIi4vYW55LmpzIiwiLi9hc3luYyIsIi4vYmluZCIsIi4vY2FsbF9nZXQuanMiLCIuL2NhbmNlbCIsIi4vY2F0Y2hfZmlsdGVyIiwiLi9jb250ZXh0IiwiLi9kZWJ1Z2dhYmlsaXR5IiwiLi9kaXJlY3RfcmVzb2x2ZSIsIi4vZWFjaC5qcyIsIi4vZmlsdGVyLmpzIiwiLi9maW5hbGx5IiwiLi9nZW5lcmF0b3JzLmpzIiwiLi9qb2luIiwiLi9tYXAuanMiLCIuL21ldGhvZCIsIi4vbm9kZWJhY2siLCIuL25vZGVpZnkuanMiLCIuL3Byb21pc2VfYXJyYXkiLCIuL3Byb21pc2lmeS5qcyIsIi4vcHJvcHMuanMiLCIuL3JhY2UuanMiLCIuL3JlZHVjZS5qcyIsIi4vc2V0dGxlLmpzIiwiLi9zb21lLmpzIiwiLi9zeW5jaHJvbm91c19pbnNwZWN0aW9uIiwiLi90aGVuYWJsZXMiLCIuL3RpbWVycy5qcyIsIi4vdXNpbmcuanMiLCIyMyIsImFzQXJyYXkiLCJfcmVzb2x2ZUVtcHR5QXJyYXkiLCJfaXRlcmF0ZSIsImdldEFjdHVhbExlbmd0aCIsInNob3VsZENvcHlWYWx1ZXMiLCIyNCIsIl9faXNQcm9taXNpZmllZF9fIiwiZ2V0RGF0YVByb3BlcnR5T3JEZWZhdWx0IiwiaW5oZXJpdGVkRGF0YUtleXMiLCJSZWdFeHAiLCJ3aXRoQXBwZW5kZWQiLCJwcm9taXNpZnkiLCJjb250ZXh0IiwiY29weURlc2NyaXB0b3JzIiwicHJvbWlzaWZ5QWxsIiwic3VmZml4IiwicHJvbWlzaWZpZXIiLCJpc0NsYXNzIiwiMjUiLCJfaXNNYXAiLCJwcm9wcyIsIk1hcCIsInNpemUiLCIyNiIsIl9jYXBhY2l0eSIsIl9mcm9udCIsIl93aWxsQmVPdmVyQ2FwYWNpdHkiLCJfY2hlY2tDYXBhY2l0eSIsIl91bnNoaWZ0T25lIiwiX3Jlc2l6ZVRvIiwiMjciLCJyYWNlIiwiMjgiLCJfZm4iLCJfaW5pdGlhbFZhbHVlIiwiX2N1cnJlbnRDYW5jZWxsYWJsZSIsIl9lYWNoVmFsdWVzIiwiYWNjdW0iLCJhcnJheSIsIl9nb3RBY2N1bSIsIl9lYWNoQ29tcGxldGUiLCJfcmVzdWx0Q2FuY2VsbGVkJCIsIjI5IiwiZ2V0TmF0aXZlUHJvbWlzZSIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJzZXRJbW1lZGlhdGUiLCJuZXh0VGljayIsImlzUmVjZW50Tm9kZSIsIm5hdmlnYXRvciIsInN0YW5kYWxvbmUiLCJjb3Jkb3ZhIiwiYXR0cmlidXRlcyIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIm9ic2VydmUiLCJkaXNjb25uZWN0IiwiMzAiLCJfcHJvbWlzZVJlc29sdmVkIiwiX3NldHRsZWRWYWx1ZUZpZWxkIiwic2V0dGxlIiwiMzEiLCJfaG93TWFueSIsIl91bndyYXAiLCJfaW5pdGlhbGl6ZWQiLCJfY2FuUG9zc2libHlGdWxmaWxsIiwiX2dldFJhbmdlRXJyb3IiLCJob3dNYW55IiwiX2FkZEZ1bGZpbGxlZCIsIl9mdWxmaWxsZWQiLCJfYWRkUmVqZWN0ZWQiLCJfY2hlY2tPdXRjb21lIiwiX3JlamVjdGVkIiwic29tZSIsIjMyIiwiaXNSZXNvbHZlZCIsIl9faXNDYW5jZWxsZWQiLCIzMyIsIjM0IiwiaGFuZGxlIiwiY2xlYXJUaW1lb3V0IiwiZGVsYXkiLCIzNSIsIl9pc0Rpc3Bvc2FibGUiLCJfZ2V0RGlzcG9zZXIiLCJfc2V0RGlzcG9zYWJsZSIsInRyeURpc3Bvc2UiLCJfZGF0YSIsIl9jb250ZXh0IiwiaXNEaXNwb3NlciIsInJlc291cmNlcyIsImRhdGEiLCJyZXNvdXJjZSIsImRvRGlzcG9zZSIsIl91bnNldERpc3Bvc2FibGUiLCJ1c2luZyIsIl9kaXNwb3NlciIsImRpc3Bvc2VyIiwiMzYiLCJmcm9tIiwidGhyb3dlciIsImlzUHJpbWl0aXZlIiwiaXNFcnJvciIsImZpbGxlZFJhbmdlIiwiY2hyb21lIiwibG9hZFRpbWVzIiwidmVyc2lvbnMiLCJub2RlIiwicnVuIiwiZnVuIiwiYnJvd3NlciIsImFyZ3YiLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsInVtYXNrIiwiX2lkIiwiX2NsZWFyRm4iLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJjbG9zZSIsInVucmVmIiwicmVmIiwiZW5yb2xsIiwiX2lkbGVUaW1lb3V0SWQiLCJfaWRsZVRpbWVvdXQiLCJ1bmVucm9sbCIsIl91bnJlZkFjdGl2ZSIsImFjdGl2ZSIsIl9vblRpbWVvdXQiLCJjbGVhckltbWVkaWF0ZSIsInVzZXJBZ2VudCIsIlVSTCIsIndlYmtpdFVSTCIsImNyZWF0ZUVsZW1lbnROUyIsIk1vdXNlRXZlbnQiLCJIVE1MRWxlbWVudCIsInNhZmFyaSIsInJldm9rZU9iamVjdFVSTCIsInJlbW92ZSIsImZyb21DaGFyQ29kZSIsIm9ubG9hZGVuZCIsImhyZWYiLCJyZWFkeVN0YXRlIiwiRE9ORSIsInJlYWRBc0RhdGFVUkwiLCJJTklUIiwiY3JlYXRlT2JqZWN0VVJMIiwibXNTYXZlT3JPcGVuQmxvYiIsImFib3J0IiwiV1JJVElORyIsIm9ud3JpdGVzdGFydCIsIm9ucHJvZ3Jlc3MiLCJvbndyaXRlIiwib25hYm9ydCIsIm9ud3JpdGVlbmQiLCJjb250ZW50IiwiaG9tZXBhZ2UiLCJtYWluIiwiZGlyZWN0b3JpZXMiLCJ0ZXN0cyIsInNjcmlwdHMiLCJzdGFydCIsImJ1aWxkIiwiYnVpbGQtcHJvZCIsInByZXZlcnNpb24iLCJwcmVwdWJsaXNoIiwicmVwb3NpdG9yeSIsImtleXdvcmRzIiwiYXV0aG9yIiwibGljZW5zZSIsImJ1Z3MiLCJkZXZEZXBlbmRlbmNpZXMiLCJiYWJlbC1jb3JlIiwiYmFiZWwtbG9hZGVyIiwiYmFiZWwtcGx1Z2luLXRyYW5zZm9ybS1ydW50aW1lIiwiYmFiZWwtcHJlc2V0LWVzMjAxNSIsImNoYWkiLCJmZXRjaC1tb2NrIiwibW9jaGEiLCJtb2NoYS1sb2FkZXIiLCJzaW5vbiIsInNpbm9uLWFzLXByb21pc2VkIiwid2VicGFjayIsImRlcGVuZGVuY2llcyIsImJsdWViaXJkIiwiZmlsZS1zYXZlciIsImlzb21vcnBoaWMtZmV0Y2giLCJqc29uLWxvYWRlciIsIl9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyIsImZhY3RvcnkiLCJub0dsb2JhbCIsIkRPTUV2YWwiLCJkb2MiLCJzY3JpcHQiLCJhcHBlbmRDaGlsZCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImlzQXJyYXlMaWtlIiwialF1ZXJ5IiwiaXNXaW5kb3ciLCJ3aW5ub3ciLCJlbGVtZW50cyIsInF1YWxpZmllciIsIm5vdCIsImlzRnVuY3Rpb24iLCJncmVwIiwiZWxlbSIsIm5vZGVUeXBlIiwicmlzU2ltcGxlIiwic2libGluZyIsImN1ciIsImRpciIsImNyZWF0ZU9wdGlvbnMiLCJybm90d2hpdGUiLCJmbGFnIiwiSWRlbnRpdHkiLCJUaHJvd2VyIiwiZXgiLCJhZG9wdFZhbHVlIiwiZmFpbCIsImNvbXBsZXRlZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZWFkeSIsIkRhdGEiLCJleHBhbmRvIiwiZGF0YUF0dHIiLCJybXVsdGlEYXNoIiwiZ2V0QXR0cmlidXRlIiwicmJyYWNlIiwiZGF0YVVzZXIiLCJhZGp1c3RDU1MiLCJwcm9wIiwidmFsdWVQYXJ0cyIsInR3ZWVuIiwiYWRqdXN0ZWQiLCJzY2FsZSIsIm1heEl0ZXJhdGlvbnMiLCJjdXJyZW50VmFsdWUiLCJjc3MiLCJpbml0aWFsIiwidW5pdCIsImNzc051bWJlciIsImluaXRpYWxJblVuaXQiLCJyY3NzTnVtIiwic3R5bGUiLCJlbmQiLCJnZXREZWZhdWx0RGlzcGxheSIsInRlbXAiLCJvd25lckRvY3VtZW50Iiwibm9kZU5hbWUiLCJkaXNwbGF5IiwiZGVmYXVsdERpc3BsYXlNYXAiLCJzaG93SGlkZSIsInNob3ciLCJkYXRhUHJpdiIsImlzSGlkZGVuV2l0aGluVHJlZSIsInRhZyIsInJldCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicXVlcnlTZWxlY3RvckFsbCIsIm1lcmdlIiwic2V0R2xvYmFsRXZhbCIsImVsZW1zIiwicmVmRWxlbWVudHMiLCJidWlsZEZyYWdtZW50Iiwic2VsZWN0aW9uIiwiaWdub3JlZCIsInRtcCIsIndyYXAiLCJjb250YWlucyIsImZyYWdtZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsIm5vZGVzIiwicmh0bWwiLCJydGFnTmFtZSIsIndyYXBNYXAiLCJfZGVmYXVsdCIsImlubmVySFRNTCIsImh0bWxQcmVmaWx0ZXIiLCJsYXN0Q2hpbGQiLCJjaGlsZE5vZGVzIiwiZmlyc3RDaGlsZCIsInRleHRDb250ZW50IiwiY3JlYXRlVGV4dE5vZGUiLCJpbkFycmF5IiwicnNjcmlwdFR5cGUiLCJyZXR1cm5UcnVlIiwicmV0dXJuRmFsc2UiLCJzYWZlQWN0aXZlRWxlbWVudCIsImFjdGl2ZUVsZW1lbnQiLCJlcnIiLCJ0eXBlcyIsInNlbGVjdG9yIiwib25lIiwib3JpZ0ZuIiwiZXZlbnQiLCJndWlkIiwiYWRkIiwibWFuaXB1bGF0aW9uVGFyZ2V0IiwiZGlzYWJsZVNjcmlwdCIsInJlc3RvcmVTY3JpcHQiLCJyc2NyaXB0VHlwZU1hc2tlZCIsInJlbW92ZUF0dHJpYnV0ZSIsImNsb25lQ29weUV2ZW50Iiwic3JjIiwiZGVzdCIsInBkYXRhT2xkIiwicGRhdGFDdXIiLCJ1ZGF0YU9sZCIsInVkYXRhQ3VyIiwiaGFzRGF0YSIsImFjY2VzcyIsImV4dGVuZCIsImZpeElucHV0IiwicmNoZWNrYWJsZVR5cGUiLCJjaGVja2VkIiwiZGVmYXVsdFZhbHVlIiwiZG9tTWFuaXAiLCJjb2xsZWN0aW9uIiwiYXJncyIsImZpcnN0IiwiaGFzU2NyaXB0cyIsImlOb0Nsb25lIiwiY2hlY2tDbG9uZSIsInJjaGVja2VkIiwiZXEiLCJodG1sIiwiX2V2YWxVcmwiLCJyY2xlYW5TY3JpcHQiLCJrZWVwRGF0YSIsImNsZWFuRGF0YSIsImN1ckNTUyIsImNvbXB1dGVkIiwid2lkdGgiLCJtaW5XaWR0aCIsIm1heFdpZHRoIiwiZ2V0U3R5bGVzIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInBpeGVsTWFyZ2luUmlnaHQiLCJybnVtbm9ucHgiLCJybWFyZ2luIiwiYWRkR2V0SG9va0lmIiwiY29uZGl0aW9uRm4iLCJob29rRm4iLCJ2ZW5kb3JQcm9wTmFtZSIsImVtcHR5U3R5bGUiLCJjYXBOYW1lIiwiY3NzUHJlZml4ZXMiLCJzZXRQb3NpdGl2ZU51bWJlciIsInN1YnRyYWN0IiwibWF0Y2hlcyIsImF1Z21lbnRXaWR0aE9ySGVpZ2h0IiwiZXh0cmEiLCJpc0JvcmRlckJveCIsInN0eWxlcyIsImNzc0V4cGFuZCIsImdldFdpZHRoT3JIZWlnaHQiLCJ2YWx1ZUlzQm9yZGVyQm94IiwiZ2V0Q2xpZW50UmVjdHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJib3hTaXppbmdSZWxpYWJsZSIsInBhcnNlRmxvYXQiLCJUd2VlbiIsImVhc2luZyIsInJhZiIsInRpbWVySWQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJmeCIsInRpY2siLCJjcmVhdGVGeE5vdyIsImZ4Tm93Iiwibm93IiwiZ2VuRngiLCJpbmNsdWRlV2lkdGgiLCJ3aGljaCIsImF0dHJzIiwiaGVpZ2h0Iiwib3BhY2l0eSIsImNyZWF0ZVR3ZWVuIiwiYW5pbWF0aW9uIiwiQW5pbWF0aW9uIiwidHdlZW5lcnMiLCJkZWZhdWx0UHJlZmlsdGVyIiwib3B0cyIsImhvb2tzIiwib2xkZmlyZSIsInByb3BUd2VlbiIsInJlc3RvcmVEaXNwbGF5IiwiaXNCb3giLCJhbmltIiwib3JpZyIsImhpZGRlbiIsImRhdGFTaG93IiwicXVldWUiLCJfcXVldWVIb29rcyIsInVucXVldWVkIiwiZW1wdHkiLCJmaXJlIiwiYWx3YXlzIiwicmZ4dHlwZXMiLCJpc0VtcHR5T2JqZWN0Iiwib3ZlcmZsb3ciLCJvdmVyZmxvd1giLCJvdmVyZmxvd1kiLCJwcm9wRmlsdGVyIiwic3BlY2lhbEVhc2luZyIsImNhbWVsQ2FzZSIsImNzc0hvb2tzIiwiZXhwYW5kIiwicHJvcGVydGllcyIsInN0b3BwZWQiLCJwcmVmaWx0ZXJzIiwiZGVmZXJyZWQiLCJEZWZlcnJlZCIsImN1cnJlbnRUaW1lIiwicmVtYWluaW5nIiwic3RhcnRUaW1lIiwiZHVyYXRpb24iLCJwZXJjZW50IiwidHdlZW5zIiwibm90aWZ5V2l0aCIsInJlc29sdmVXaXRoIiwib3JpZ2luYWxQcm9wZXJ0aWVzIiwib3JpZ2luYWxPcHRpb25zIiwic3RvcCIsImdvdG9FbmQiLCJyZWplY3RXaXRoIiwicHJveHkiLCJ0aW1lciIsImNvbXBsZXRlIiwiZ2V0Q2xhc3MiLCJidWlsZFBhcmFtcyIsInByZWZpeCIsInRyYWRpdGlvbmFsIiwicmJyYWNrZXQiLCJhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMiLCJzdHJ1Y3R1cmUiLCJkYXRhVHlwZUV4cHJlc3Npb24iLCJmdW5jIiwiZGF0YVR5cGUiLCJkYXRhVHlwZXMiLCJpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyIsImpxWEhSIiwiaW5zcGVjdCIsInNlbGVjdGVkIiwiaW5zcGVjdGVkIiwicHJlZmlsdGVyT3JGYWN0b3J5IiwiZGF0YVR5cGVPclRyYW5zcG9ydCIsInNlZWtpbmdUcmFuc3BvcnQiLCJ0cmFuc3BvcnRzIiwiYWpheEV4dGVuZCIsImRlZXAiLCJmbGF0T3B0aW9ucyIsImFqYXhTZXR0aW5ncyIsImFqYXhIYW5kbGVSZXNwb25zZXMiLCJyZXNwb25zZXMiLCJjdCIsImZpbmFsRGF0YVR5cGUiLCJmaXJzdERhdGFUeXBlIiwiY29udGVudHMiLCJtaW1lVHlwZSIsImNvbnZlcnRlcnMiLCJhamF4Q29udmVydCIsImlzU3VjY2VzcyIsImNvbnYyIiwiY3VycmVudCIsImNvbnYiLCJwcmV2IiwicmVzcG9uc2VGaWVsZHMiLCJkYXRhRmlsdGVyIiwiZ2V0V2luZG93IiwiZGVmYXVsdFZpZXciLCJhcnIiLCJnZXRQcm90byIsImNsYXNzMnR5cGUiLCJoYXNPd24iLCJmblRvU3RyaW5nIiwiT2JqZWN0RnVuY3Rpb25TdHJpbmciLCJydHJpbSIsInJtc1ByZWZpeCIsInJkYXNoQWxwaGEiLCJmY2FtZWxDYXNlIiwibGV0dGVyIiwianF1ZXJ5IiwidG9BcnJheSIsIm51bSIsInB1c2hTdGFjayIsInByZXZPYmplY3QiLCJsYXN0IiwibGVuIiwic29ydCIsImNvcHkiLCJjb3B5SXNBcnJheSIsImlzUGxhaW5PYmplY3QiLCJpc1JlYWR5IiwibXNnIiwibm9vcCIsImlzTnVtZXJpYyIsInByb3RvIiwiQ3RvciIsImdsb2JhbEV2YWwiLCJzdHJpbmciLCJtYWtlQXJyYXkiLCJyZXN1bHRzIiwic2Vjb25kIiwiaW52ZXJ0IiwiY2FsbGJhY2tJbnZlcnNlIiwiY2FsbGJhY2tFeHBlY3QiLCJhcmciLCJTaXp6bGUiLCJzZWVkIiwibmlkIiwiZ3JvdXBzIiwibmV3U2VsZWN0b3IiLCJuZXdDb250ZXh0IiwicHJlZmVycmVkRG9jIiwic2V0RG9jdW1lbnQiLCJkb2N1bWVudElzSFRNTCIsInJxdWlja0V4cHIiLCJnZXRFbGVtZW50QnlJZCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJxc2EiLCJjb21waWxlckNhY2hlIiwicmJ1Z2d5UVNBIiwicmNzc2VzY2FwZSIsImZjc3Nlc2NhcGUiLCJzZXRBdHRyaWJ1dGUiLCJ0b2tlbml6ZSIsInRvU2VsZWN0b3IiLCJyc2libGluZyIsInRlc3RDb250ZXh0IiwicXNhRXJyb3IiLCJzZWxlY3QiLCJjcmVhdGVDYWNoZSIsImNhY2hlIiwiRXhwciIsImNhY2hlTGVuZ3RoIiwibWFya0Z1bmN0aW9uIiwiYXNzZXJ0IiwiYWRkSGFuZGxlIiwiYXR0ckhhbmRsZSIsInNpYmxpbmdDaGVjayIsImRpZmYiLCJzb3VyY2VJbmRleCIsIm5leHRTaWJsaW5nIiwiY3JlYXRlSW5wdXRQc2V1ZG8iLCJjcmVhdGVCdXR0b25Qc2V1ZG8iLCJjcmVhdGVEaXNhYmxlZFBzZXVkbyIsImRpc2FibGVkIiwiaXNEaXNhYmxlZCIsImRpc2FibGVkQW5jZXN0b3IiLCJjcmVhdGVQb3NpdGlvbmFsUHNldWRvIiwiYXJndW1lbnQiLCJtYXRjaEluZGV4ZXMiLCJzZXRGaWx0ZXJzIiwidG9rZW5zIiwiYWRkQ29tYmluYXRvciIsIm1hdGNoZXIiLCJjb21iaW5hdG9yIiwiYmFzZSIsInNraXAiLCJjaGVja05vbkVsZW1lbnRzIiwiZG9uZU5hbWUiLCJ4bWwiLCJvbGRDYWNoZSIsInVuaXF1ZUNhY2hlIiwib3V0ZXJDYWNoZSIsIm5ld0NhY2hlIiwiZGlycnVucyIsInVuaXF1ZUlEIiwiZWxlbWVudE1hdGNoZXIiLCJtYXRjaGVycyIsIm11bHRpcGxlQ29udGV4dHMiLCJjb250ZXh0cyIsImNvbmRlbnNlIiwidW5tYXRjaGVkIiwibmV3VW5tYXRjaGVkIiwibWFwcGVkIiwic2V0TWF0Y2hlciIsInByZUZpbHRlciIsInBvc3RGaWx0ZXIiLCJwb3N0RmluZGVyIiwicG9zdFNlbGVjdG9yIiwicHJlTWFwIiwicG9zdE1hcCIsInByZWV4aXN0aW5nIiwibWF0Y2hlckluIiwibWF0Y2hlck91dCIsIm1hdGNoZXJGcm9tVG9rZW5zIiwiY2hlY2tDb250ZXh0IiwibGVhZGluZ1JlbGF0aXZlIiwicmVsYXRpdmUiLCJpbXBsaWNpdFJlbGF0aXZlIiwibWF0Y2hDb250ZXh0IiwibWF0Y2hBbnlDb250ZXh0Iiwib3V0ZXJtb3N0Q29udGV4dCIsIm1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyIsImVsZW1lbnRNYXRjaGVycyIsInNldE1hdGNoZXJzIiwiYnlTZXQiLCJieUVsZW1lbnQiLCJzdXBlck1hdGNoZXIiLCJvdXRlcm1vc3QiLCJtYXRjaGVkQ291bnQiLCJzZXRNYXRjaGVkIiwiY29udGV4dEJhY2t1cCIsImRpcnJ1bnNVbmlxdWUiLCJ1bmlxdWVTb3J0IiwiZ2V0VGV4dCIsImlzWE1MIiwiY29tcGlsZSIsInNvcnRJbnB1dCIsImhhc0R1cGxpY2F0ZSIsImRvY0VsZW0iLCJyYnVnZ3lNYXRjaGVzIiwiY2xhc3NDYWNoZSIsInRva2VuQ2FjaGUiLCJzb3J0T3JkZXIiLCJwdXNoX25hdGl2ZSIsImJvb2xlYW5zIiwid2hpdGVzcGFjZSIsImlkZW50aWZpZXIiLCJwc2V1ZG9zIiwicndoaXRlc3BhY2UiLCJyY29tbWEiLCJyY29tYmluYXRvcnMiLCJyYXR0cmlidXRlUXVvdGVzIiwicnBzZXVkbyIsInJpZGVudGlmaWVyIiwibWF0Y2hFeHByIiwiSUQiLCJDTEFTUyIsIlRBRyIsIkFUVFIiLCJQU0VVRE8iLCJDSElMRCIsImJvb2wiLCJuZWVkc0NvbnRleHQiLCJyaW5wdXRzIiwicmhlYWRlciIsInJuYXRpdmUiLCJydW5lc2NhcGUiLCJmdW5lc2NhcGUiLCJlc2NhcGVkIiwiZXNjYXBlZFdoaXRlc3BhY2UiLCJoaWdoIiwiY2giLCJhc0NvZGVQb2ludCIsImNoYXJDb2RlQXQiLCJ1bmxvYWRIYW5kbGVyIiwiZWxzIiwiZG9jdW1lbnRFbGVtZW50IiwiaGFzQ29tcGFyZSIsInN1YldpbmRvdyIsInRvcCIsImFkZEV2ZW50TGlzdGVuZXIiLCJhdHRhY2hFdmVudCIsImNsYXNzTmFtZSIsImNyZWF0ZUNvbW1lbnQiLCJnZXRCeUlkIiwiZ2V0RWxlbWVudHNCeU5hbWUiLCJhdHRySWQiLCJnZXRBdHRyaWJ1dGVOb2RlIiwibWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIiwibW96TWF0Y2hlc1NlbGVjdG9yIiwib01hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwiZGlzY29ubmVjdGVkTWF0Y2giLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsImFkb3duIiwiYnVwIiwiY29tcGFyZSIsInNvcnREZXRhY2hlZCIsImF1cCIsImFwIiwiYnAiLCJleHByIiwiYXR0ciIsInNwZWNpZmllZCIsImVzY2FwZSIsInNlbCIsImR1cGxpY2F0ZXMiLCJkZXRlY3REdXBsaWNhdGVzIiwic29ydFN0YWJsZSIsIm5vZGVWYWx1ZSIsInNlbGVjdG9ycyIsImNyZWF0ZVBzZXVkbyIsIj4iLCIgIiwiKyIsIn4iLCJleGNlc3MiLCJ1bnF1b3RlZCIsIm5vZGVOYW1lU2VsZWN0b3IiLCJwYXR0ZXJuIiwib3BlcmF0b3IiLCJjaGVjayIsIndoYXQiLCJzaW1wbGUiLCJmb3J3YXJkIiwib2ZUeXBlIiwibm9kZUluZGV4IiwicGFyZW50IiwidXNlQ2FjaGUiLCJwc2V1ZG8iLCJpZHgiLCJtYXRjaGVkIiwiaW5uZXJUZXh0IiwibGFuZyIsImVsZW1MYW5nIiwiaGFzaCIsInJvb3QiLCJmb2N1cyIsImhhc0ZvY3VzIiwidGFiSW5kZXgiLCJlbmFibGVkIiwic2VsZWN0ZWRJbmRleCIsImJ1dHRvbiIsImV2ZW4iLCJvZGQiLCJsdCIsImd0IiwicmFkaW8iLCJjaGVja2JveCIsImZpbGUiLCJwYXNzd29yZCIsImltYWdlIiwic3VibWl0IiwicmVzZXQiLCJmaWx0ZXJzIiwicGFyc2VPbmx5Iiwic29GYXIiLCJwcmVGaWx0ZXJzIiwiY2FjaGVkIiwidG9rZW4iLCJjb21waWxlZCIsInVuaXF1ZSIsImlzWE1MRG9jIiwiZXNjYXBlU2VsZWN0b3IiLCJ1bnRpbCIsInRydW5jYXRlIiwic2libGluZ3MiLCJybmVlZHNDb250ZXh0IiwicnNpbmdsZVRhZyIsInJvb3RqUXVlcnkiLCJwYXJzZUhUTUwiLCJycGFyZW50c3ByZXYiLCJndWFyYW50ZWVkVW5pcXVlIiwiY2hpbGRyZW4iLCJ0YXJnZXRzIiwiY2xvc2VzdCIsInByZXZBbGwiLCJhZGRCYWNrIiwicGFyZW50cyIsInBhcmVudHNVbnRpbCIsIm5leHRBbGwiLCJuZXh0VW50aWwiLCJwcmV2VW50aWwiLCJjb250ZW50RG9jdW1lbnQiLCJyZXZlcnNlIiwiQ2FsbGJhY2tzIiwiZmlyaW5nIiwibWVtb3J5IiwiZmlyZWQiLCJsb2NrZWQiLCJmaXJpbmdJbmRleCIsInN0b3BPbkZhbHNlIiwiZGlzYWJsZSIsImxvY2siLCJmaXJlV2l0aCIsInR1cGxlcyIsImNhdGNoIiwicGlwZSIsImZucyIsIm5ld0RlZmVyIiwidHVwbGUiLCJyZXR1cm5lZCIsIm5vdGlmeSIsIm9uRnVsZmlsbGVkIiwib25SZWplY3RlZCIsIm9uUHJvZ3Jlc3MiLCJkZXB0aCIsInNwZWNpYWwiLCJtaWdodFRocm93IiwibWF4RGVwdGgiLCJwcm9jZXNzIiwiZXhjZXB0aW9uSG9vayIsInN0YWNrVHJhY2UiLCJnZXRTdGFja0hvb2siLCJzdGF0ZVN0cmluZyIsIndoZW4iLCJzaW5nbGVWYWx1ZSIsInJlc29sdmVDb250ZXh0cyIsInJlc29sdmVWYWx1ZXMiLCJtYXN0ZXIiLCJ1cGRhdGVGdW5jIiwicmVycm9yTmFtZXMiLCJyZWFkeUV4Y2VwdGlvbiIsInJlYWR5TGlzdCIsInJlYWR5V2FpdCIsImhvbGRSZWFkeSIsImhvbGQiLCJ3YWl0IiwiZG9TY3JvbGwiLCJjaGFpbmFibGUiLCJlbXB0eUdldCIsInJhdyIsImJ1bGsiLCJhY2NlcHREYXRhIiwib3duZXIiLCJyZW1vdmVEYXRhIiwiX3JlbW92ZURhdGEiLCJkZXF1ZXVlIiwic3RhcnRMZW5ndGgiLCJzZXR0ZXIiLCJjbGVhclF1ZXVlIiwiY291bnQiLCJwbnVtIiwic3dhcCIsIm9sZCIsIm9wdGlvbiIsInRoZWFkIiwiY29sIiwidHIiLCJ0ZCIsIm9wdGdyb3VwIiwidGJvZHkiLCJ0Zm9vdCIsImNvbGdyb3VwIiwiY2FwdGlvbiIsInRoIiwiZGl2IiwiY2xvbmVOb2RlIiwibm9DbG9uZUNoZWNrZWQiLCJya2V5RXZlbnQiLCJybW91c2VFdmVudCIsInJ0eXBlbmFtZXNwYWNlIiwiaGFuZGxlT2JqSW4iLCJldmVudEhhbmRsZSIsImhhbmRsZU9iaiIsImhhbmRsZXJzIiwibmFtZXNwYWNlcyIsIm9yaWdUeXBlIiwiZWxlbURhdGEiLCJ0cmlnZ2VyZWQiLCJkaXNwYXRjaCIsImRlbGVnYXRlVHlwZSIsImJpbmRUeXBlIiwibmFtZXNwYWNlIiwiZGVsZWdhdGVDb3VudCIsInNldHVwIiwibWFwcGVkVHlwZXMiLCJvcmlnQ291bnQiLCJ0ZWFyZG93biIsInJlbW92ZUV2ZW50IiwibmF0aXZlRXZlbnQiLCJoYW5kbGVyUXVldWUiLCJmaXgiLCJkZWxlZ2F0ZVRhcmdldCIsInByZURpc3BhdGNoIiwiaXNQcm9wYWdhdGlvblN0b3BwZWQiLCJjdXJyZW50VGFyZ2V0IiwiaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQiLCJybmFtZXNwYWNlIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJwb3N0RGlzcGF0Y2giLCJhZGRQcm9wIiwiaG9vayIsIm9yaWdpbmFsRXZlbnQiLCJsb2FkIiwibm9CdWJibGUiLCJ0cmlnZ2VyIiwiYmx1ciIsImNsaWNrIiwiYmVmb3JldW5sb2FkIiwicmV0dXJuVmFsdWUiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJkZWZhdWx0UHJldmVudGVkIiwicmVsYXRlZFRhcmdldCIsInRpbWVTdGFtcCIsImlzU2ltdWxhdGVkIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwiYWx0S2V5IiwiYnViYmxlcyIsImNoYW5nZWRUb3VjaGVzIiwiY3RybEtleSIsImV2ZW50UGhhc2UiLCJtZXRhS2V5IiwicGFnZVgiLCJwYWdlWSIsInNoaWZ0S2V5IiwidmlldyIsImNoYXIiLCJjaGFyQ29kZSIsImtleUNvZGUiLCJidXR0b25zIiwiY2xpZW50WCIsImNsaWVudFkiLCJvZmZzZXRYIiwib2Zmc2V0WSIsInBvaW50ZXJJZCIsInBvaW50ZXJUeXBlIiwic2NyZWVuWCIsInNjcmVlblkiLCJ0YXJnZXRUb3VjaGVzIiwidG9FbGVtZW50IiwidG91Y2hlcyIsIm1vdXNlZW50ZXIiLCJtb3VzZWxlYXZlIiwicG9pbnRlcmVudGVyIiwicG9pbnRlcmxlYXZlIiwicmVsYXRlZCIsInJ4aHRtbFRhZyIsInJub0lubmVyaHRtbCIsImRhdGFBbmRFdmVudHMiLCJkZWVwRGF0YUFuZEV2ZW50cyIsInNyY0VsZW1lbnRzIiwiZGVzdEVsZW1lbnRzIiwiaW5QYWdlIiwiZGV0YWNoIiwicHJlcGVuZCIsImluc2VydEJlZm9yZSIsImJlZm9yZSIsImFmdGVyIiwicmVwbGFjZVdpdGgiLCJyZXBsYWNlQ2hpbGQiLCJhcHBlbmRUbyIsInByZXBlbmRUbyIsImluc2VydEFmdGVyIiwicmVwbGFjZUFsbCIsIm9yaWdpbmFsIiwiaW5zZXJ0Iiwib3BlbmVyIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImNvbXB1dGVTdHlsZVRlc3RzIiwiY3NzVGV4dCIsImNvbnRhaW5lciIsImRpdlN0eWxlIiwicGl4ZWxQb3NpdGlvblZhbCIsInJlbGlhYmxlTWFyZ2luTGVmdFZhbCIsIm1hcmdpbkxlZnQiLCJib3hTaXppbmdSZWxpYWJsZVZhbCIsIm1hcmdpblJpZ2h0IiwicGl4ZWxNYXJnaW5SaWdodFZhbCIsImJhY2tncm91bmRDbGlwIiwiY2xlYXJDbG9uZVN0eWxlIiwicGl4ZWxQb3NpdGlvbiIsInJlbGlhYmxlTWFyZ2luTGVmdCIsInJkaXNwbGF5c3dhcCIsImNzc1Nob3ciLCJwb3NpdGlvbiIsInZpc2liaWxpdHkiLCJjc3NOb3JtYWxUcmFuc2Zvcm0iLCJsZXR0ZXJTcGFjaW5nIiwiZm9udFdlaWdodCIsImFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50IiwiY29sdW1uQ291bnQiLCJmaWxsT3BhY2l0eSIsImZsZXhHcm93IiwiZmxleFNocmluayIsImxpbmVIZWlnaHQiLCJvcmRlciIsIm9ycGhhbnMiLCJ3aWRvd3MiLCJ6SW5kZXgiLCJ6b29tIiwiY3NzUHJvcHMiLCJmbG9hdCIsIm9yaWdOYW1lIiwibGVmdCIsIm1hcmdpbiIsInBhZGRpbmciLCJib3JkZXIiLCJleHBhbmRlZCIsInBhcnRzIiwicHJvcEhvb2tzIiwiZWFzZWQiLCJwb3MiLCJzdGVwIiwic2Nyb2xsVG9wIiwic2Nyb2xsTGVmdCIsImxpbmVhciIsInN3aW5nIiwiY29zIiwiUEkiLCJycnVuIiwiKiIsInR3ZWVuZXIiLCJwcmVmaWx0ZXIiLCJzcGVlZCIsIm9wdCIsInNwZWVkcyIsImZhZGVUbyIsInRvIiwiYW5pbWF0ZSIsIm9wdGFsbCIsImRvQW5pbWF0aW9uIiwiZmluaXNoIiwic3RvcFF1ZXVlIiwidGltZXJzIiwiY3NzRm4iLCJzbGlkZURvd24iLCJzbGlkZVVwIiwic2xpZGVUb2dnbGUiLCJmYWRlSW4iLCJmYWRlT3V0IiwiZmFkZVRvZ2dsZSIsImludGVydmFsIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJzbG93IiwiZmFzdCIsInRpbWUiLCJjaGVja09uIiwib3B0U2VsZWN0ZWQiLCJyYWRpb1ZhbHVlIiwiYm9vbEhvb2siLCJyZW1vdmVBdHRyIiwiblR5cGUiLCJhdHRySG9va3MiLCJhdHRyTmFtZXMiLCJnZXR0ZXIiLCJsb3dlcmNhc2VOYW1lIiwicmZvY3VzYWJsZSIsInJjbGlja2FibGUiLCJyZW1vdmVQcm9wIiwicHJvcEZpeCIsInRhYmluZGV4IiwiZm9yIiwiY2xhc3MiLCJyY2xhc3MiLCJhZGRDbGFzcyIsImNsYXNzZXMiLCJjdXJWYWx1ZSIsImNsYXp6IiwiZmluYWxWYWx1ZSIsInJlbW92ZUNsYXNzIiwidG9nZ2xlQ2xhc3MiLCJzdGF0ZVZhbCIsImNsYXNzTmFtZXMiLCJoYXNDbGFzcyIsInJyZXR1cm4iLCJyc3BhY2VzIiwidmFsSG9va3MiLCJvcHRpb25TZXQiLCJyZm9jdXNNb3JwaCIsIm9ubHlIYW5kbGVycyIsImJ1YmJsZVR5cGUiLCJvbnR5cGUiLCJldmVudFBhdGgiLCJpc1RyaWdnZXIiLCJwYXJlbnRXaW5kb3ciLCJzaW11bGF0ZSIsInRyaWdnZXJIYW5kbGVyIiwiaG92ZXIiLCJmbk92ZXIiLCJmbk91dCIsImZvY3VzaW4iLCJhdHRhY2hlcyIsIm5vbmNlIiwicnF1ZXJ5IiwicGFyc2VYTUwiLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJyQ1JMRiIsInJzdWJtaXR0ZXJUeXBlcyIsInJzdWJtaXR0YWJsZSIsInBhcmFtIiwidmFsdWVPckZ1bmN0aW9uIiwic2VyaWFsaXplIiwic2VyaWFsaXplQXJyYXkiLCJyMjAiLCJyaGFzaCIsInJ0cyIsInJoZWFkZXJzIiwicmxvY2FsUHJvdG9jb2wiLCJybm9Db250ZW50IiwicnByb3RvY29sIiwiYWxsVHlwZXMiLCJvcmlnaW5BbmNob3IiLCJsYXN0TW9kaWZpZWQiLCJldGFnIiwiaXNMb2NhbCIsInByb3RvY29sIiwicHJvY2Vzc0RhdGEiLCJhc3luYyIsImNvbnRlbnRUeXBlIiwiYWNjZXB0cyIsIiogdGV4dCIsInRleHQgaHRtbCIsInRleHQganNvbiIsInRleHQgeG1sIiwiYWpheFNldHVwIiwic2V0dGluZ3MiLCJhamF4UHJlZmlsdGVyIiwiYWpheFRyYW5zcG9ydCIsImFqYXgiLCJuYXRpdmVTdGF0dXNUZXh0Iiwic3VjY2VzcyIsIm1vZGlmaWVkIiwidGltZW91dFRpbWVyIiwidHJhbnNwb3J0IiwicmVzcG9uc2VIZWFkZXJzU3RyaW5nIiwiaWZNb2RpZmllZCIsImNhY2hlVVJMIiwiY2FsbGJhY2tDb250ZXh0Iiwic3RhdHVzQ29kZSIsImZpcmVHbG9iYWxzIiwiZ2xvYmFsRXZlbnRDb250ZXh0IiwiY29tcGxldGVEZWZlcnJlZCIsInJlc3BvbnNlSGVhZGVycyIsInVybEFuY2hvciIsInVuY2FjaGVkIiwicmVxdWVzdEhlYWRlcnMiLCJyZXF1ZXN0SGVhZGVyc05hbWVzIiwic3RyQWJvcnQiLCJvdmVycmlkZU1pbWVUeXBlIiwiZmluYWxUZXh0IiwiY3Jvc3NEb21haW4iLCJob3N0IiwiaGFzQ29udGVudCIsImJlZm9yZVNlbmQiLCJnZXRKU09OIiwiZ2V0U2NyaXB0IiwidGhyb3dzIiwid3JhcEFsbCIsImZpcnN0RWxlbWVudENoaWxkIiwid3JhcElubmVyIiwidW53cmFwIiwidmlzaWJsZSIsIm9mZnNldFdpZHRoIiwib2Zmc2V0SGVpZ2h0IiwieGhyU3VjY2Vzc1N0YXR1cyIsIjEyMjMiLCJ4aHJTdXBwb3J0ZWQiLCJjb3JzIiwiZXJyb3JDYWxsYmFjayIsInVzZXJuYW1lIiwieGhyRmllbGRzIiwib25yZWFkeXN0YXRlY2hhbmdlIiwiYmluYXJ5IiwidGV4dCBzY3JpcHQiLCJjaGFyc2V0Iiwic2NyaXB0Q2hhcnNldCIsImV2dCIsIm9sZENhbGxiYWNrcyIsInJqc29ucCIsImpzb25wIiwianNvbnBDYWxsYmFjayIsIm9yaWdpbmFsU2V0dGluZ3MiLCJjYWxsYmFja05hbWUiLCJvdmVyd3JpdHRlbiIsInJlc3BvbnNlQ29udGFpbmVyIiwianNvblByb3AiLCJjcmVhdGVIVE1MRG9jdW1lbnQiLCJpbXBsZW1lbnRhdGlvbiIsImtlZXBTY3JpcHRzIiwicGFyc2VkIiwicGFyYW1zIiwiYW5pbWF0ZWQiLCJvZmZzZXQiLCJzZXRPZmZzZXQiLCJjdXJQb3NpdGlvbiIsImN1ckxlZnQiLCJjdXJDU1NUb3AiLCJjdXJUb3AiLCJjdXJPZmZzZXQiLCJjdXJDU1NMZWZ0IiwiY2FsY3VsYXRlUG9zaXRpb24iLCJjdXJFbGVtIiwid2luIiwicmVjdCIsInBhZ2VZT2Zmc2V0IiwiY2xpZW50VG9wIiwicGFnZVhPZmZzZXQiLCJjbGllbnRMZWZ0Iiwib2Zmc2V0UGFyZW50IiwicGFyZW50T2Zmc2V0Iiwic2Nyb2xsVG8iLCJIZWlnaHQiLCJXaWR0aCIsIiIsImRlZmF1bHRFeHRyYSIsImZ1bmNOYW1lIiwidW5iaW5kIiwiZGVsZWdhdGUiLCJ1bmRlbGVnYXRlIiwicGFyc2VKU09OIiwiX2pRdWVyeSIsIl8kIiwiX2NsYXNzQ2FsbENoZWNrMiIsIl9jbGFzc0NhbGxDaGVjazMiLCJfY3JlYXRlQ2xhc3MyIiwiX2NyZWF0ZUNsYXNzMyIsIl9ibHVlYmlyZCIsIl9ibHVlYmlyZDIiLCJCcm93c2VyIiwibWF0Y2hlc1ZhbGlkIiwibWF0Y2hlc0ludmFsaWQiLCJpbnZhbGlkUmVnZXgiLCJ2YWxpZFJlZ2V4IiwicmVnZXgiLCJpc1ZhbGlkVXJsIiwic2VuZGVyIiwid2luZG93cyIsImdldEN1cnJlbnQiLCJwb3B1bGF0ZSIsImN1cnJlbnRXaW5kb3ciLCJ0YWJzIiwid2Vic2l0ZVRhYnMiLCJ0YWIiLCJodG1sUHJvbWlzZXMiLCJleGVjdXRlU2NyaXB0IiwidXBkYXRlZFRhYiIsImZpZWxkcyIsInN0b3JhZ2UiLCJsb2NhbCIsImtleVZhbHVlcyIsIl9sZW4iLCJfa2V5IiwicnVudGltZSIsImNiIiwib25NZXNzYWdlIiwiaXNCYWNrZ3JvdW5kTXNnIiwiaXNQb3B1cE1zZyIsImRvd25sb2FkcyIsImRvd25sb2FkSWQiLCJkb3dubG9hZExpc3RlbmVyIiwib25DaGFuZ2VkIiwiZG93bmxvYWRJbmZvIiwiZW5kVGltZSIsImhvbWVwYWdlX3VybCIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfZGVmaW5lUHJvcGVydHkiLCJfZGVmaW5lUHJvcGVydHkyIiwiZGVmaW5lUHJvcGVydGllcyIsImRlc2NyaXB0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCIkT2JqZWN0IiwiZGVzYyIsImRlZmluZSIsInByb21pc2VzIiwiU29tZVByb21pc2VBcnJheSIsIkFzeW5jIiwiUXVldWUiLCJzY2hlZHVsZSIsIkFzeW5jSW52b2tlTGF0ZXIiLCJBc3luY0ludm9rZSIsIkFzeW5jU2V0dGxlUHJvbWlzZXMiLCJ1dGlsIiwiSU5URVJOQUwiLCJ0cnlDb252ZXJ0VG9Qcm9taXNlIiwiZGVidWciLCJjYWxsZWRCaW5kIiwicmVqZWN0VGhpcyIsInRhcmdldFJlamVjdGVkIiwiYmluZGluZ1Jlc29sdmVkIiwiYmluZGluZ1JlamVjdGVkIiwibWF5YmVQcm9taXNlIiwiY3IiLCJjYWxsZXJDYWNoZSIsImdldHRlckNhY2hlIiwiZW5zdXJlTWV0aG9kIiwibWV0aG9kTmFtZSIsImNhbGxlciIsIm5hbWVkR2V0dGVyIiwiaW5kZXhlZEdldHRlciIsImdldEdldHRlciIsInByb3BlcnR5TmFtZSIsImlzSW5kZXgiLCJtYXliZUdldHRlciIsIlByb21pc2VBcnJheSIsImFwaVJlamVjdGlvbiIsImNhbmNlbGxlciIsIm9uQ2FuY2VsQ2FsbGJhY2siLCJpbnRlcm5hbE9ubHkiLCJORVhUX0ZJTFRFUiIsImNhdGNoRmlsdGVyIiwiaW5zdGFuY2VzIiwiYm91bmRUbyIsInByZWRpY2F0ZUxvb3AiLCJpdGVtIiwibWF0Y2hlc1ByZWRpY2F0ZSIsIkNvbnRleHQiLCJwZWVrQ29udGV4dCIsImNyZWF0ZUNvbnRleHQiLCJsYXN0SW5kZXgiLCJjb250ZXh0U3RhY2siLCJ0cmFjZSIsIlByb21pc2VfcHVzaENvbnRleHQiLCJQcm9taXNlX3BvcENvbnRleHQiLCJQcm9taXNlX1BlZWtDb250ZXh0IiwiUHJvbWlzZV9wZWVrQ29udGV4dCIsIlByb21pc2VfcHJvbWlzZUNyZWF0ZWQiLCJnZW5lcmF0ZVByb21pc2VMaWZlY3ljbGVFdmVudE9iamVjdCIsImRlZmF1bHRGaXJlRXZlbnQiLCJjYW5jZWxsYXRpb25FeGVjdXRlIiwiZXhlY3V0b3IiLCJvbkNhbmNlbCIsImNhbmNlbGxhdGlvbkF0dGFjaENhbmNlbGxhdGlvbkNhbGxiYWNrIiwicHJldmlvdXNPbkNhbmNlbCIsImNhbmNlbGxhdGlvbk9uQ2FuY2VsIiwiY2FuY2VsbGF0aW9uU2V0T25DYW5jZWwiLCJjYW5jZWxsYXRpb25DbGVhckNhbmNlbGxhdGlvbkRhdGEiLCJjYW5jZWxsYXRpb25Qcm9wYWdhdGVGcm9tIiwiZmxhZ3MiLCJicmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsIiwiYmluZGluZ1Byb3BhZ2F0ZUZyb20iLCJsb25nU3RhY2tUcmFjZXNDYXB0dXJlU3RhY2tUcmFjZSIsImxvbmdTdGFja1RyYWNlc0F0dGFjaEV4dHJhVHJhY2UiLCJpZ25vcmVTZWxmIiwicGFyc2VTdGFja0FuZE1lc3NhZ2UiLCJoYW5kbGVyTGluZSIsImNyZWF0b3JMaW5lIiwidHJhY2VMaW5lcyIsImNsZWFuU3RhY2siLCJub2RlRnJhbWVQYXR0ZXJuIiwibGluZU1hdGNoZXMiLCJwYXJzZUxpbmVQYXR0ZXJuIiwiZmlyc3RVc2VyTGluZSIsInJlcGxhY2VtZW50Iiwic2hvdWxkVXNlT3duVHJhY2UiLCJhY3RpdmVGaXJlRXZlbnQiLCJmb3JtYXRBbmRMb2dFcnJvciIsInJlY29uc3RydWN0U3RhY2siLCJzdGFja3MiLCJyZW1vdmVEdXBsaWNhdGVPckVtcHR5SnVtcHMiLCJyZW1vdmVDb21tb25Sb290cyIsImN1cnJlbnRMYXN0SW5kZXgiLCJjdXJyZW50TGFzdExpbmUiLCJjb21tb25Sb290TWVldFBvaW50IiwiaXNUcmFjZUxpbmUiLCJzdGFja0ZyYW1lUGF0dGVybiIsImlzSW50ZXJuYWxGcmFtZSIsInNob3VsZElnbm9yZSIsImluZGVudFN0YWNrRnJhbWVzIiwic3RhY2tGcmFtZXNBc0FycmF5IiwiaXNTb2Z0IiwiZm9ybWF0U3RhY2siLCJwcmludFdhcm5pbmciLCJmaXJlUmVqZWN0aW9uRXZlbnQiLCJsb2NhbEhhbmRsZXIiLCJsb2NhbEV2ZW50RmlyZWQiLCJmb3JtYXROb25FcnJvciIsInN0ciIsInJ1c2VsZXNzVG9TdHJpbmciLCJuZXdTdHIiLCJzbmlwIiwibWF4Q2hhcnMiLCJsb25nU3RhY2tUcmFjZXNJc1N1cHBvcnRlZCIsInBhcnNlTGluZUluZm8iLCJwYXJzZUxpbmVJbmZvUmVnZXgiLCJmaXJzdEZpbGVOYW1lIiwibGFzdEZpbGVOYW1lIiwiZmlyc3RTdGFja0xpbmVzIiwibGFzdFN0YWNrTGluZXMiLCJmaXJzdEluZGV4IiwiYmx1ZWJpcmRGcmFtZVBhdHRlcm4iLCJpbmZvIiwidW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlZCIsInBvc3NpYmx5VW5oYW5kbGVkUmVqZWN0aW9uIiwiZ2V0RG9tYWluIiwiZGVidWdnaW5nIiwiZGlzYWJsZUxvbmdTdGFja1RyYWNlcyIsIlByb21pc2VfY2FwdHVyZVN0YWNrVHJhY2UiLCJQcm9taXNlX2F0dGFjaEV4dHJhVHJhY2UiLCJkb21FdmVudCIsImV2ZW50VG9PYmplY3RHZW5lcmF0b3IiLCJnbG9iYWxFdmVudEZpcmVkIiwiZG9tRXZlbnRGaXJlZCIsIndhcm5pbmdzT3B0aW9uIiwic3RhY2tUb0luZGV4IiwiY3VycmVudFN0YWNrIiwiY3ljbGVFZGdlTm9kZSIsImN1cnJlbnRDaGlsZExlbmd0aCIsInY4c3RhY2tGcmFtZVBhdHRlcm4iLCJ2OHN0YWNrRm9ybWF0dGVyIiwiaWdub3JlVW50aWwiLCJoYXNTdGFja0FmdGVyVGhyb3ciLCJjb2xvciIsInJldHVybmVyIiwicHJvbWlzZUFsbFRoaXMiLCJQcm9taXNlQWxsIiwiUHJvbWlzZU1hcFNlcmllcyIsIlByb21pc2VSZWR1Y2UiLCJzdWJFcnJvciIsIm5hbWVQcm9wZXJ0eSIsImRlZmF1bHRNZXNzYWdlIiwiU3ViRXJyb3IiLCJfVHlwZUVycm9yIiwiX1JhbmdlRXJyb3IiLCJlczUiLCJPYmplY3RmcmVlemUiLCJsZXZlbCIsImluZGVudCIsImxpbmVzIiwiZXJyb3JUeXBlcyIsIk9iamVjdEtleXMiLCJPYmplY3RHZXREZXNjcmlwdG9yIiwiT2JqZWN0RGVmaW5lUHJvcGVydHkiLCJPYmplY3RGcmVlemUiLCJPYmplY3RHZXRQcm90b3R5cGVPZiIsIkFycmF5SXNBcnJheSIsIlByb21pc2VNYXAiLCJQYXNzVGhyb3VnaEhhbmRsZXJDb250ZXh0IiwiRmluYWxseUhhbmRsZXJDYW5jZWxSZWFjdGlvbiIsImNoZWNrQ2FuY2VsIiwic3VjY2VlZCIsInJlYXNvbk9yVmFsdWUiLCJQcm94eWFibGUiLCJwcm9taXNlRnJvbVlpZWxkSGFuZGxlciIsInlpZWxkSGFuZGxlcnMiLCJ0cmFjZVBhcmVudCIsIlByb21pc2VTcGF3biIsImdlbmVyYXRvckZ1bmN0aW9uIiwiaW50ZXJuYWwiLCJpbXBsZW1lbnRzUmV0dXJuIiwiYml0RmllbGQiLCJQcm9taXNlU3Bhd24kIiwiZ2VuZXJhdG9yIiwiTWFwcGluZ1Byb21pc2VBcnJheSIsImxpbWl0IiwidG90YWxSZXNvbHZlZCIsImlzVW50eXBlZEVycm9yIiwid3JhcEFzT3BlcmF0aW9uYWxFcnJvciIsInJFcnJvcktleSIsIm5vZGViYWNrRm9yUHJvbWlzZSIsIndyYXBwZWQiLCJzcHJlYWRBZGFwdGVyIiwibm9kZWJhY2siLCJzdWNjZXNzQWRhcHRlciIsImVycm9yQWRhcHRlciIsIm5ld1JlYXNvbiIsImFkYXB0ZXIiLCJkZWZlclJlc29sdmUiLCJkZWZlclJlamVjdCIsImZpbGxUeXBlcyIsIm1ha2VTZWxmUmVzb2x1dGlvbkVycm9yIiwicmVmbGVjdEhhbmRsZXIiLCJVTkRFRklORURfQklORElORyIsIkFQUExZIiwiY2F0Y2hJbnN0YW5jZXMiLCJkaWRGdWxmaWxsIiwiZGlkUmVqZWN0IiwiaW50ZXJuYWxEYXRhIiwiaGF2ZUludGVybmFsRGF0YSIsInNldHRsZXIiLCJmb2xsb3dlciIsImZ1bGZpbGwiLCJwcm94eWFibGUiLCJzaG91bGRCaW5kIiwic3luY2hyb25vdXMiLCJpZ25vcmVOb25FcnJvcldhcm5pbmdzIiwiaGFzU3RhY2siLCJpc1Byb21pc2UiLCJhc3luY0d1YXJhbnRlZWQiLCJ0b1Jlc29sdXRpb25WYWx1ZSIsInJlc29sdmVWYWx1ZUlmRW1wdHkiLCJwcm9wc0ZpbHRlciIsIm5vQ29weVByb3BzUGF0dGVybiIsImlzUHJvbWlzaWZpZWQiLCJoYXNQcm9taXNpZmllZCIsImRlZmF1bHRQcm9taXNpZmllZCIsImNoZWNrVmFsaWQiLCJzdWZmaXhSZWdleHAiLCJrZXlXaXRob3V0QXN5bmNTdWZmaXgiLCJwcm9taXNpZmlhYmxlTWV0aG9kcyIsInBhc3Nlc0RlZmF1bHRGaWx0ZXIiLCJkZWZhdWx0RmlsdGVyIiwibWFrZU5vZGVQcm9taXNpZmllZENsb3N1cmUiLCJfXyIsInByb21pc2lmaWVkIiwiVEhJUyIsImRlZmF1bHRUaGlzIiwiZXNjYXBlSWRlbnRSZWdleCIsInByb21pc2lmaWVkS2V5IiwibWFrZU5vZGVQcm9taXNpZmllZCIsIm1ha2VOb2RlUHJvbWlzaWZpZWRFdmFsIiwiZGVmYXVsdFN1ZmZpeCIsIm5vQ29weVByb3BzIiwiUHJvcGVydGllc1Byb21pc2VBcnJheSIsImlzTWFwIiwiRXM2TWFwIiwibWFwVG9FbnRyaWVzIiwiY2FzdFZhbHVlIiwiZXh0cmFjdEVudHJ5IiwiZW50cmllc1RvTWFwIiwia2V5T2Zmc2V0IiwiYXJyYXlNb3ZlIiwic3JjSW5kZXgiLCJkc3QiLCJkc3RJbmRleCIsImNhcGFjaXR5IiwiZnJvbnQiLCJ3cmFwTWFzayIsIm9sZENhcGFjaXR5IiwibW92ZUl0ZW1zQ291bnQiLCJyYWNlTGF0ZXIiLCJSZWR1Y3Rpb25Qcm9taXNlQXJyYXkiLCJpbml0aWFsVmFsdWUiLCJfZWFjaCIsInZhbHVlT3JSZWFzb24iLCJnb3RBY2N1bSIsImdvdFZhbHVlIiwibm9Bc3luY1NjaGVkdWxlciIsIk5hdGl2ZVByb21pc2UiLCJHbG9iYWxTZXRJbW1lZGlhdGUiLCJQcm9jZXNzTmV4dFRpY2siLCJuYXRpdmVQcm9taXNlIiwidG9nZ2xlU2NoZWR1bGVkIiwiZGl2MiIsIm8yIiwic2NoZWR1bGVUb2dnbGUiLCJTZXR0bGVkUHJvbWlzZUFycmF5IiwiaW5zcGVjdGlvbiIsIkNBTkNFTExBVElPTiIsImlzQXJyYXlSZXNvbHZlZCIsImdldFRoZW4iLCJpc0FueUJsdWViaXJkUHJvbWlzZSIsImRvVGhlbmFibGUiLCJkb0dldFRoZW4iLCJoYXNQcm9wIiwiSGFuZGxlV3JhcHBlciIsInN1Y2Nlc3NDbGVhciIsImZhaWx1cmVDbGVhciIsImFmdGVyVmFsdWUiLCJtcyIsImFmdGVyVGltZW91dCIsImhhbmRsZVdyYXBwZXIiLCJjYXN0UHJlc2VydmluZ0Rpc3Bvc2FibGUiLCJ0aGVuYWJsZSIsImRpc3Bvc2UiLCJEaXNwb3NlciIsIkZ1bmN0aW9uRGlzcG9zZXIiLCJtYXliZVVud3JhcERpc3Bvc2VyIiwiUmVzb3VyY2VMaXN0IiwiTlVMTCIsInNwcmVhZEFyZ3MiLCJyZWZsZWN0ZWRSZXNvdXJjZXMiLCJyZXN1bHRQcm9taXNlIiwiaW5zcGVjdGlvbnMiLCJ0cnlDYXRjaGVyIiwidHJ5Q2F0Y2hUYXJnZXQiLCJtYXliZUVycm9yIiwic2FmZVRvU3RyaW5nIiwiYXBwZW5kZWUiLCJoYXNNZXRob2RzIiwiaGFzTWV0aG9kc090aGVyVGhhbkNvbnN0cnVjdG9yIiwiaGFzVGhpc0Fzc2lnbm1lbnRBbmRTdGF0aWNNZXRob2RzIiwidGhpc0Fzc2lnbm1lbnRQYXR0ZXJuIiwiRmFrZUNvbnN0cnVjdG9yIiwicmlkZW50IiwiaWdub3JlIiwiZGVmIiwiZ2xvYmFsT2JqZWN0IiwiQ2hpbGQiLCJQYXJlbnQiLCJleGNsdWRlZFByb3RvdHlwZXMiLCJpc0V4Y2x1ZGVkUHJvdG8iLCJ2aXNpdGVkS2V5cyIsImVudW1lcmF0aW9uIiwiQXJyYXlGcm9tIiwiaXRSZXN1bHQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJjYWNoZWRTZXRUaW1lb3V0IiwicnVuQ2xlYXJUaW1lb3V0IiwibWFya2VyIiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5pbmciLCJjdXJyZW50UXVldWUiLCJxdWV1ZUluZGV4IiwiZHJhaW5RdWV1ZSIsIkl0ZW0iLCJUaW1lb3V0IiwiY2xlYXJGbiIsImltbWVkaWF0ZUlkcyIsIm5leHRJbW1lZGlhdGVJZCIsIm1zZWNzIl0s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LE10RDIzaEI4QkUsS0FBS0osRUFBU0gsRUFBb0IsSUFBSXF4QixhQUFjcnhCLEVBQW9CLElBQUk4MkIiLCJmaWxlIjoiYmFja2dyb3VuZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQoZnVuY3Rpb24oc2VsZikge1xuXHQgICd1c2Ugc3RyaWN0Jztcblx0XG5cdCAgaWYgKHNlbGYuZmV0Y2gpIHtcblx0ICAgIHJldHVyblxuXHQgIH1cblx0XG5cdCAgdmFyIHN1cHBvcnQgPSB7XG5cdCAgICBzZWFyY2hQYXJhbXM6ICdVUkxTZWFyY2hQYXJhbXMnIGluIHNlbGYsXG5cdCAgICBpdGVyYWJsZTogJ1N5bWJvbCcgaW4gc2VsZiAmJiAnaXRlcmF0b3InIGluIFN5bWJvbCxcblx0ICAgIGJsb2I6ICdGaWxlUmVhZGVyJyBpbiBzZWxmICYmICdCbG9iJyBpbiBzZWxmICYmIChmdW5jdGlvbigpIHtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICBuZXcgQmxvYigpXG5cdCAgICAgICAgcmV0dXJuIHRydWVcblx0ICAgICAgfSBjYXRjaChlKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlXG5cdCAgICAgIH1cblx0ICAgIH0pKCksXG5cdCAgICBmb3JtRGF0YTogJ0Zvcm1EYXRhJyBpbiBzZWxmLFxuXHQgICAgYXJyYXlCdWZmZXI6ICdBcnJheUJ1ZmZlcicgaW4gc2VsZlxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gbm9ybWFsaXplTmFtZShuYW1lKSB7XG5cdCAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgIG5hbWUgPSBTdHJpbmcobmFtZSlcblx0ICAgIH1cblx0ICAgIGlmICgvW15hLXowLTlcXC0jJCUmJyorLlxcXl9gfH5dL2kudGVzdChuYW1lKSkge1xuXHQgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGNoYXJhY3RlciBpbiBoZWFkZXIgZmllbGQgbmFtZScpXG5cdCAgICB9XG5cdCAgICByZXR1cm4gbmFtZS50b0xvd2VyQ2FzZSgpXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBub3JtYWxpemVWYWx1ZSh2YWx1ZSkge1xuXHQgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcblx0ICAgICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpXG5cdCAgICB9XG5cdCAgICByZXR1cm4gdmFsdWVcblx0ICB9XG5cdFxuXHQgIC8vIEJ1aWxkIGEgZGVzdHJ1Y3RpdmUgaXRlcmF0b3IgZm9yIHRoZSB2YWx1ZSBsaXN0XG5cdCAgZnVuY3Rpb24gaXRlcmF0b3JGb3IoaXRlbXMpIHtcblx0ICAgIHZhciBpdGVyYXRvciA9IHtcblx0ICAgICAgbmV4dDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHZhbHVlID0gaXRlbXMuc2hpZnQoKVxuXHQgICAgICAgIHJldHVybiB7ZG9uZTogdmFsdWUgPT09IHVuZGVmaW5lZCwgdmFsdWU6IHZhbHVlfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcblx0ICAgICAgaXRlcmF0b3JbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBpdGVyYXRvclxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGl0ZXJhdG9yXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBIZWFkZXJzKGhlYWRlcnMpIHtcblx0ICAgIHRoaXMubWFwID0ge31cblx0XG5cdCAgICBpZiAoaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpIHtcblx0ICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG5cdCAgICAgICAgdGhpcy5hcHBlbmQobmFtZSwgdmFsdWUpXG5cdCAgICAgIH0sIHRoaXMpXG5cdFxuXHQgICAgfSBlbHNlIGlmIChoZWFkZXJzKSB7XG5cdCAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuXHQgICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIGhlYWRlcnNbbmFtZV0pXG5cdCAgICAgIH0sIHRoaXMpXG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBIZWFkZXJzLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuXHQgICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcblx0ICAgIHZhbHVlID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG5cdCAgICB2YXIgbGlzdCA9IHRoaXMubWFwW25hbWVdXG5cdCAgICBpZiAoIWxpc3QpIHtcblx0ICAgICAgbGlzdCA9IFtdXG5cdCAgICAgIHRoaXMubWFwW25hbWVdID0gbGlzdFxuXHQgICAgfVxuXHQgICAgbGlzdC5wdXNoKHZhbHVlKVxuXHQgIH1cblx0XG5cdCAgSGVhZGVycy5wcm90b3R5cGVbJ2RlbGV0ZSddID0gZnVuY3Rpb24obmFtZSkge1xuXHQgICAgZGVsZXRlIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldXG5cdCAgfVxuXHRcblx0ICBIZWFkZXJzLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihuYW1lKSB7XG5cdCAgICB2YXIgdmFsdWVzID0gdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV1cblx0ICAgIHJldHVybiB2YWx1ZXMgPyB2YWx1ZXNbMF0gOiBudWxsXG5cdCAgfVxuXHRcblx0ICBIZWFkZXJzLnByb3RvdHlwZS5nZXRBbGwgPSBmdW5jdGlvbihuYW1lKSB7XG5cdCAgICByZXR1cm4gdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV0gfHwgW11cblx0ICB9XG5cdFxuXHQgIEhlYWRlcnMucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgIHJldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShub3JtYWxpemVOYW1lKG5hbWUpKVxuXHQgIH1cblx0XG5cdCAgSGVhZGVycy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcblx0ICAgIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldID0gW25vcm1hbGl6ZVZhbHVlKHZhbHVlKV1cblx0ICB9XG5cdFxuXHQgIEhlYWRlcnMucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihjYWxsYmFjaywgdGhpc0FyZykge1xuXHQgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcy5tYXApLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuXHQgICAgICB0aGlzLm1hcFtuYW1lXS5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB2YWx1ZSwgbmFtZSwgdGhpcylcblx0ICAgICAgfSwgdGhpcylcblx0ICAgIH0sIHRoaXMpXG5cdCAgfVxuXHRcblx0ICBIZWFkZXJzLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgaXRlbXMgPSBbXVxuXHQgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7IGl0ZW1zLnB1c2gobmFtZSkgfSlcblx0ICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcblx0ICB9XG5cdFxuXHQgIEhlYWRlcnMucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGl0ZW1zID0gW11cblx0ICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkgeyBpdGVtcy5wdXNoKHZhbHVlKSB9KVxuXHQgICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuXHQgIH1cblx0XG5cdCAgSGVhZGVycy5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGl0ZW1zID0gW11cblx0ICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkgeyBpdGVtcy5wdXNoKFtuYW1lLCB2YWx1ZV0pIH0pXG5cdCAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG5cdCAgfVxuXHRcblx0ICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuXHQgICAgSGVhZGVycy5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IEhlYWRlcnMucHJvdG90eXBlLmVudHJpZXNcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNvbnN1bWVkKGJvZHkpIHtcblx0ICAgIGlmIChib2R5LmJvZHlVc2VkKSB7XG5cdCAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKSlcblx0ICAgIH1cblx0ICAgIGJvZHkuYm9keVVzZWQgPSB0cnVlXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKSB7XG5cdCAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQpXG5cdCAgICAgIH1cblx0ICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZWplY3QocmVhZGVyLmVycm9yKVxuXHQgICAgICB9XG5cdCAgICB9KVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gcmVhZEJsb2JBc0FycmF5QnVmZmVyKGJsb2IpIHtcblx0ICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG5cdCAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYilcblx0ICAgIHJldHVybiBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gcmVhZEJsb2JBc1RleHQoYmxvYikge1xuXHQgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcblx0ICAgIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IpXG5cdCAgICByZXR1cm4gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIEJvZHkoKSB7XG5cdCAgICB0aGlzLmJvZHlVc2VkID0gZmFsc2Vcblx0XG5cdCAgICB0aGlzLl9pbml0Qm9keSA9IGZ1bmN0aW9uKGJvZHkpIHtcblx0ICAgICAgdGhpcy5fYm9keUluaXQgPSBib2R5XG5cdCAgICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHlcblx0ICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmJsb2IgJiYgQmxvYi5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuXHQgICAgICAgIHRoaXMuX2JvZHlCbG9iID0gYm9keVxuXHQgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuZm9ybURhdGEgJiYgRm9ybURhdGEucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcblx0ICAgICAgICB0aGlzLl9ib2R5Rm9ybURhdGEgPSBib2R5XG5cdCAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG5cdCAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5LnRvU3RyaW5nKClcblx0ICAgICAgfSBlbHNlIGlmICghYm9keSkge1xuXHQgICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gJydcblx0ICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyICYmIEFycmF5QnVmZmVyLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG5cdCAgICAgICAgLy8gT25seSBzdXBwb3J0IEFycmF5QnVmZmVycyBmb3IgUE9TVCBtZXRob2QuXG5cdCAgICAgICAgLy8gUmVjZWl2aW5nIEFycmF5QnVmZmVycyBoYXBwZW5zIHZpYSBCbG9icywgaW5zdGVhZC5cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vuc3VwcG9ydGVkIEJvZHlJbml0IHR5cGUnKVxuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoIXRoaXMuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpKSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ3RleHQvcGxhaW47Y2hhcnNldD1VVEYtOCcpXG5cdCAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QmxvYiAmJiB0aGlzLl9ib2R5QmxvYi50eXBlKSB7XG5cdCAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCB0aGlzLl9ib2R5QmxvYi50eXBlKVxuXHQgICAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG5cdCAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgnKVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChzdXBwb3J0LmJsb2IpIHtcblx0ICAgICAgdGhpcy5ibG9iID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcblx0ICAgICAgICBpZiAocmVqZWN0ZWQpIHtcblx0ICAgICAgICAgIHJldHVybiByZWplY3RlZFxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG5cdCAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlCbG9iKVxuXHQgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgYmxvYicpXG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlUZXh0XSkpXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLmFycmF5QnVmZmVyID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuYmxvYigpLnRoZW4ocmVhZEJsb2JBc0FycmF5QnVmZmVyKVxuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLnRleHQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuXHQgICAgICAgIGlmIChyZWplY3RlZCkge1xuXHQgICAgICAgICAgcmV0dXJuIHJlamVjdGVkXG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcblx0ICAgICAgICAgIHJldHVybiByZWFkQmxvYkFzVGV4dCh0aGlzLl9ib2R5QmxvYilcblx0ICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIHRleHQnKVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdGhpcy50ZXh0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcblx0ICAgICAgICByZXR1cm4gcmVqZWN0ZWQgPyByZWplY3RlZCA6IFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dClcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChzdXBwb3J0LmZvcm1EYXRhKSB7XG5cdCAgICAgIHRoaXMuZm9ybURhdGEgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihkZWNvZGUpXG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICB0aGlzLmpzb24gPSBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oSlNPTi5wYXJzZSlcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdGhpc1xuXHQgIH1cblx0XG5cdCAgLy8gSFRUUCBtZXRob2RzIHdob3NlIGNhcGl0YWxpemF0aW9uIHNob3VsZCBiZSBub3JtYWxpemVkXG5cdCAgdmFyIG1ldGhvZHMgPSBbJ0RFTEVURScsICdHRVQnLCAnSEVBRCcsICdPUFRJT05TJywgJ1BPU1QnLCAnUFVUJ11cblx0XG5cdCAgZnVuY3Rpb24gbm9ybWFsaXplTWV0aG9kKG1ldGhvZCkge1xuXHQgICAgdmFyIHVwY2FzZWQgPSBtZXRob2QudG9VcHBlckNhc2UoKVxuXHQgICAgcmV0dXJuIChtZXRob2RzLmluZGV4T2YodXBjYXNlZCkgPiAtMSkgPyB1cGNhc2VkIDogbWV0aG9kXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBSZXF1ZXN0KGlucHV0LCBvcHRpb25zKSB7XG5cdCAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuXHQgICAgdmFyIGJvZHkgPSBvcHRpb25zLmJvZHlcblx0ICAgIGlmIChSZXF1ZXN0LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGlucHV0KSkge1xuXHQgICAgICBpZiAoaW5wdXQuYm9keVVzZWQpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKVxuXHQgICAgICB9XG5cdCAgICAgIHRoaXMudXJsID0gaW5wdXQudXJsXG5cdCAgICAgIHRoaXMuY3JlZGVudGlhbHMgPSBpbnB1dC5jcmVkZW50aWFsc1xuXHQgICAgICBpZiAoIW9wdGlvbnMuaGVhZGVycykge1xuXHQgICAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKGlucHV0LmhlYWRlcnMpXG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5tZXRob2QgPSBpbnB1dC5tZXRob2Rcblx0ICAgICAgdGhpcy5tb2RlID0gaW5wdXQubW9kZVxuXHQgICAgICBpZiAoIWJvZHkpIHtcblx0ICAgICAgICBib2R5ID0gaW5wdXQuX2JvZHlJbml0XG5cdCAgICAgICAgaW5wdXQuYm9keVVzZWQgPSB0cnVlXG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRoaXMudXJsID0gaW5wdXRcblx0ICAgIH1cblx0XG5cdCAgICB0aGlzLmNyZWRlbnRpYWxzID0gb3B0aW9ucy5jcmVkZW50aWFscyB8fCB0aGlzLmNyZWRlbnRpYWxzIHx8ICdvbWl0J1xuXHQgICAgaWYgKG9wdGlvbnMuaGVhZGVycyB8fCAhdGhpcy5oZWFkZXJzKSB7XG5cdCAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcblx0ICAgIH1cblx0ICAgIHRoaXMubWV0aG9kID0gbm9ybWFsaXplTWV0aG9kKG9wdGlvbnMubWV0aG9kIHx8IHRoaXMubWV0aG9kIHx8ICdHRVQnKVxuXHQgICAgdGhpcy5tb2RlID0gb3B0aW9ucy5tb2RlIHx8IHRoaXMubW9kZSB8fCBudWxsXG5cdCAgICB0aGlzLnJlZmVycmVyID0gbnVsbFxuXHRcblx0ICAgIGlmICgodGhpcy5tZXRob2QgPT09ICdHRVQnIHx8IHRoaXMubWV0aG9kID09PSAnSEVBRCcpICYmIGJvZHkpIHtcblx0ICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQm9keSBub3QgYWxsb3dlZCBmb3IgR0VUIG9yIEhFQUQgcmVxdWVzdHMnKVxuXHQgICAgfVxuXHQgICAgdGhpcy5faW5pdEJvZHkoYm9keSlcblx0ICB9XG5cdFxuXHQgIFJlcXVlc3QucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gbmV3IFJlcXVlc3QodGhpcylcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGRlY29kZShib2R5KSB7XG5cdCAgICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpXG5cdCAgICBib2R5LnRyaW0oKS5zcGxpdCgnJicpLmZvckVhY2goZnVuY3Rpb24oYnl0ZXMpIHtcblx0ICAgICAgaWYgKGJ5dGVzKSB7XG5cdCAgICAgICAgdmFyIHNwbGl0ID0gYnl0ZXMuc3BsaXQoJz0nKVxuXHQgICAgICAgIHZhciBuYW1lID0gc3BsaXQuc2hpZnQoKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuXHQgICAgICAgIHZhciB2YWx1ZSA9IHNwbGl0LmpvaW4oJz0nKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuXHQgICAgICAgIGZvcm0uYXBwZW5kKGRlY29kZVVSSUNvbXBvbmVudChuYW1lKSwgZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSlcblx0ICAgICAgfVxuXHQgICAgfSlcblx0ICAgIHJldHVybiBmb3JtXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBoZWFkZXJzKHhocikge1xuXHQgICAgdmFyIGhlYWQgPSBuZXcgSGVhZGVycygpXG5cdCAgICB2YXIgcGFpcnMgPSAoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpIHx8ICcnKS50cmltKCkuc3BsaXQoJ1xcbicpXG5cdCAgICBwYWlycy5mb3JFYWNoKGZ1bmN0aW9uKGhlYWRlcikge1xuXHQgICAgICB2YXIgc3BsaXQgPSBoZWFkZXIudHJpbSgpLnNwbGl0KCc6Jylcblx0ICAgICAgdmFyIGtleSA9IHNwbGl0LnNoaWZ0KCkudHJpbSgpXG5cdCAgICAgIHZhciB2YWx1ZSA9IHNwbGl0LmpvaW4oJzonKS50cmltKClcblx0ICAgICAgaGVhZC5hcHBlbmQoa2V5LCB2YWx1ZSlcblx0ICAgIH0pXG5cdCAgICByZXR1cm4gaGVhZFxuXHQgIH1cblx0XG5cdCAgQm9keS5jYWxsKFJlcXVlc3QucHJvdG90eXBlKVxuXHRcblx0ICBmdW5jdGlvbiBSZXNwb25zZShib2R5SW5pdCwgb3B0aW9ucykge1xuXHQgICAgaWYgKCFvcHRpb25zKSB7XG5cdCAgICAgIG9wdGlvbnMgPSB7fVxuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMudHlwZSA9ICdkZWZhdWx0J1xuXHQgICAgdGhpcy5zdGF0dXMgPSBvcHRpb25zLnN0YXR1c1xuXHQgICAgdGhpcy5vayA9IHRoaXMuc3RhdHVzID49IDIwMCAmJiB0aGlzLnN0YXR1cyA8IDMwMFxuXHQgICAgdGhpcy5zdGF0dXNUZXh0ID0gb3B0aW9ucy5zdGF0dXNUZXh0XG5cdCAgICB0aGlzLmhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzID8gb3B0aW9ucy5oZWFkZXJzIDogbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuXHQgICAgdGhpcy51cmwgPSBvcHRpb25zLnVybCB8fCAnJ1xuXHQgICAgdGhpcy5faW5pdEJvZHkoYm9keUluaXQpXG5cdCAgfVxuXHRcblx0ICBCb2R5LmNhbGwoUmVzcG9uc2UucHJvdG90eXBlKVxuXHRcblx0ICBSZXNwb25zZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiBuZXcgUmVzcG9uc2UodGhpcy5fYm9keUluaXQsIHtcblx0ICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcblx0ICAgICAgc3RhdHVzVGV4dDogdGhpcy5zdGF0dXNUZXh0LFxuXHQgICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh0aGlzLmhlYWRlcnMpLFxuXHQgICAgICB1cmw6IHRoaXMudXJsXG5cdCAgICB9KVxuXHQgIH1cblx0XG5cdCAgUmVzcG9uc2UuZXJyb3IgPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciByZXNwb25zZSA9IG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiAwLCBzdGF0dXNUZXh0OiAnJ30pXG5cdCAgICByZXNwb25zZS50eXBlID0gJ2Vycm9yJ1xuXHQgICAgcmV0dXJuIHJlc3BvbnNlXG5cdCAgfVxuXHRcblx0ICB2YXIgcmVkaXJlY3RTdGF0dXNlcyA9IFszMDEsIDMwMiwgMzAzLCAzMDcsIDMwOF1cblx0XG5cdCAgUmVzcG9uc2UucmVkaXJlY3QgPSBmdW5jdGlvbih1cmwsIHN0YXR1cykge1xuXHQgICAgaWYgKHJlZGlyZWN0U3RhdHVzZXMuaW5kZXhPZihzdGF0dXMpID09PSAtMSkge1xuXHQgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCBzdGF0dXMgY29kZScpXG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiBzdGF0dXMsIGhlYWRlcnM6IHtsb2NhdGlvbjogdXJsfX0pXG5cdCAgfVxuXHRcblx0ICBzZWxmLkhlYWRlcnMgPSBIZWFkZXJzXG5cdCAgc2VsZi5SZXF1ZXN0ID0gUmVxdWVzdFxuXHQgIHNlbGYuUmVzcG9uc2UgPSBSZXNwb25zZVxuXHRcblx0ICBzZWxmLmZldGNoID0gZnVuY3Rpb24oaW5wdXQsIGluaXQpIHtcblx0ICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgdmFyIHJlcXVlc3Rcblx0ICAgICAgaWYgKFJlcXVlc3QucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoaW5wdXQpICYmICFpbml0KSB7XG5cdCAgICAgICAgcmVxdWVzdCA9IGlucHV0XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KGlucHV0LCBpbml0KVxuXHQgICAgICB9XG5cdFxuXHQgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcblx0XG5cdCAgICAgIGZ1bmN0aW9uIHJlc3BvbnNlVVJMKCkge1xuXHQgICAgICAgIGlmICgncmVzcG9uc2VVUkwnIGluIHhocikge1xuXHQgICAgICAgICAgcmV0dXJuIHhoci5yZXNwb25zZVVSTFxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gQXZvaWQgc2VjdXJpdHkgd2FybmluZ3Mgb24gZ2V0UmVzcG9uc2VIZWFkZXIgd2hlbiBub3QgYWxsb3dlZCBieSBDT1JTXG5cdCAgICAgICAgaWYgKC9eWC1SZXF1ZXN0LVVSTDovbS50ZXN0KHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpIHtcblx0ICAgICAgICAgIHJldHVybiB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ1gtUmVxdWVzdC1VUkwnKVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgb3B0aW9ucyA9IHtcblx0ICAgICAgICAgIHN0YXR1czogeGhyLnN0YXR1cyxcblx0ICAgICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0LFxuXHQgICAgICAgICAgaGVhZGVyczogaGVhZGVycyh4aHIpLFxuXHQgICAgICAgICAgdXJsOiByZXNwb25zZVVSTCgpXG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBib2R5ID0gJ3Jlc3BvbnNlJyBpbiB4aHIgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0XG5cdCAgICAgICAgcmVzb2x2ZShuZXcgUmVzcG9uc2UoYm9keSwgb3B0aW9ucykpXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcblx0ICAgICAgfVxuXHRcblx0ICAgICAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHhoci5vcGVuKHJlcXVlc3QubWV0aG9kLCByZXF1ZXN0LnVybCwgdHJ1ZSlcblx0XG5cdCAgICAgIGlmIChyZXF1ZXN0LmNyZWRlbnRpYWxzID09PSAnaW5jbHVkZScpIHtcblx0ICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZVxuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoJ3Jlc3BvbnNlVHlwZScgaW4geGhyICYmIHN1cHBvcnQuYmxvYikge1xuXHQgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYidcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmVxdWVzdC5oZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcblx0ICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihuYW1lLCB2YWx1ZSlcblx0ICAgICAgfSlcblx0XG5cdCAgICAgIHhoci5zZW5kKHR5cGVvZiByZXF1ZXN0Ll9ib2R5SW5pdCA9PT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogcmVxdWVzdC5fYm9keUluaXQpXG5cdCAgICB9KVxuXHQgIH1cblx0ICBzZWxmLmZldGNoLnBvbHlmaWxsID0gdHJ1ZVxuXHR9KSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcyk7XG5cblxuLyoqKi8gfSxcbi8qIDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfc3RyaW5naWZ5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfc3RyaW5naWZ5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0cmluZ2lmeSk7XG5cdFxuXHR2YXIgX2Fzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2Fzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3NpZ24pO1xuXHRcblx0dmFyIF9lcHViUHJlc3NKcyA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuXHRcblx0dmFyIF9lcHViUHJlc3NKczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lcHViUHJlc3NKcyk7XG5cdFxuXHR2YXIgX2Jyb3dzZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KTtcblx0XG5cdHZhciBfYnJvd3NlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9icm93c2VyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgbWFuaWZlc3QgPSBfYnJvd3NlcjIuZGVmYXVsdC5nZXRNYW5pZmVzdCgpO1xuXHRcblx0X2Jyb3dzZXIyLmRlZmF1bHQub25Gb3JlZ3JvdW5kTWVzc2FnZShmdW5jdGlvbiAocmVxdWVzdCkge1xuXHQgICAgaWYgKHJlcXVlc3QuYWN0aW9uID09PSAnZG93bmxvYWQnKSB7XG5cdCAgICAgICAgX2Jyb3dzZXIyLmRlZmF1bHQuc2V0TG9jYWxTdG9yYWdlKHsgZG93bmxvYWRTdGF0ZTogdHJ1ZSwgcHVibGlzaFN0YXR1czogJ3t9JyB9KTtcblx0ICAgICAgICBfYnJvd3NlcjIuZGVmYXVsdC5nZXRMb2NhbFN0b3JhZ2UoWydlbWFpbCcsICdmaWxldHlwZSddKS50aGVuKGZ1bmN0aW9uIChzdGF0ZSkge1xuXHQgICAgICAgICAgICB2YXIgYm9vayA9IG5ldyBfZXB1YlByZXNzSnMyLmRlZmF1bHQoKDAsIF9hc3NpZ24yLmRlZmF1bHQpKHt9LCByZXF1ZXN0LmJvb2spKTtcblx0ICAgICAgICAgICAgYm9vay5vbignc3RhdHVzVXBkYXRlJywgZnVuY3Rpb24gKHN0YXR1cykge1xuXHQgICAgICAgICAgICAgICAgX2Jyb3dzZXIyLmRlZmF1bHQuc2V0TG9jYWxTdG9yYWdlKHsgcHVibGlzaFN0YXR1czogKDAsIF9zdHJpbmdpZnkyLmRlZmF1bHQpKHN0YXR1cykgfSk7XG5cdCAgICAgICAgICAgICAgICBfYnJvd3NlcjIuZGVmYXVsdC5zZW5kTWVzc2FnZShudWxsLCB7XG5cdCAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAncHVibGlzaCcsXG5cdCAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IHN0YXR1cy5wcm9ncmVzcyxcblx0ICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBzdGF0dXMubWVzc2FnZVxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICBib29rLnB1Ymxpc2goKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblx0ICAgICAgICAgICAgICAgIHZhciBlbWFpbCA9IHN0YXRlLmVtYWlsICYmIHN0YXRlLmVtYWlsLnRyaW0oKTtcblx0ICAgICAgICAgICAgICAgIHZhciBmaWxldHlwZSA9IHN0YXRlLmZpbGV0eXBlO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGVtYWlsID8gYm9vay5lbWFpbChlbWFpbCwgZmlsZXR5cGUpIDogYm9vay5kb3dubG9hZChmaWxldHlwZSk7XG5cdCAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgX2Jyb3dzZXIyLmRlZmF1bHQuc2V0TG9jYWxTdG9yYWdlKHsgZG93bmxvYWRTdGF0ZTogZmFsc2UsIHB1Ymxpc2hTdGF0dXM6ICd7fScgfSk7XG5cdCAgICAgICAgICAgICAgICBfYnJvd3NlcjIuZGVmYXVsdC5zZW5kTWVzc2FnZShudWxsLCB7IGFjdGlvbjogJ2Rvd25sb2FkJywgc3RhdHVzOiAnY29tcGxldGUnIH0pO1xuXHQgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICAgICAgX2Jyb3dzZXIyLmRlZmF1bHQuc2V0TG9jYWxTdG9yYWdlKHsgZG93bmxvYWRTdGF0ZTogZmFsc2UsIHB1Ymxpc2hTdGF0dXM6ICd7fScgfSk7XG5cdCAgICAgICAgICAgICAgICBfYnJvd3NlcjIuZGVmYXVsdC5zZW5kTWVzc2FnZShudWxsLCB7IGFjdGlvbjogJ2Rvd25sb2FkJywgc3RhdHVzOiAnZmFpbGVkJywgZXJyb3I6IGUubWVzc2FnZSB9KTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICB9XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgY29yZSAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpXG5cdCAgLCAkSlNPTiA9IGNvcmUuSlNPTiB8fCAoY29yZS5KU09OID0ge3N0cmluZ2lmeTogSlNPTi5zdHJpbmdpZnl9KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzdHJpbmdpZnkoaXQpeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cdCAgcmV0dXJuICRKU09OLnN0cmluZ2lmeS5hcHBseSgkSlNPTiwgYXJndW1lbnRzKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdHZhciBjb3JlID0gbW9kdWxlLmV4cG9ydHMgPSB7dmVyc2lvbjogJzIuNC4wJ307XG5cdGlmKHR5cGVvZiBfX2UgPT0gJ251bWJlcicpX19lID0gY29yZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG4vKioqLyB9LFxuLyogNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0sXG4vKiA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNSkuT2JqZWN0LmFzc2lnbjtcblxuLyoqKi8gfSxcbi8qIDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDE5LjEuMy4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UpXG5cdHZhciAkZXhwb3J0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdCRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GLCAnT2JqZWN0Jywge2Fzc2lnbjogX193ZWJwYWNrX3JlcXVpcmVfXygyMyl9KTtcblxuLyoqKi8gfSxcbi8qIDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBnbG9iYWwgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKVxuXHQgICwgY29yZSAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KVxuXHQgICwgY3R4ICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSlcblx0ICAsIGhpZGUgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpXG5cdCAgLCBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblx0XG5cdHZhciAkZXhwb3J0ID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgc291cmNlKXtcblx0ICB2YXIgSVNfRk9SQ0VEID0gdHlwZSAmICRleHBvcnQuRlxuXHQgICAgLCBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HXG5cdCAgICAsIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlNcblx0ICAgICwgSVNfUFJPVE8gID0gdHlwZSAmICRleHBvcnQuUFxuXHQgICAgLCBJU19CSU5EICAgPSB0eXBlICYgJGV4cG9ydC5CXG5cdCAgICAsIElTX1dSQVAgICA9IHR5cGUgJiAkZXhwb3J0Lldcblx0ICAgICwgZXhwb3J0cyAgID0gSVNfR0xPQkFMID8gY29yZSA6IGNvcmVbbmFtZV0gfHwgKGNvcmVbbmFtZV0gPSB7fSlcblx0ICAgICwgZXhwUHJvdG8gID0gZXhwb3J0c1tQUk9UT1RZUEVdXG5cdCAgICAsIHRhcmdldCAgICA9IElTX0dMT0JBTCA/IGdsb2JhbCA6IElTX1NUQVRJQyA/IGdsb2JhbFtuYW1lXSA6IChnbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV1cblx0ICAgICwga2V5LCBvd24sIG91dDtcblx0ICBpZihJU19HTE9CQUwpc291cmNlID0gbmFtZTtcblx0ICBmb3Ioa2V5IGluIHNvdXJjZSl7XG5cdCAgICAvLyBjb250YWlucyBpbiBuYXRpdmVcblx0ICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWQ7XG5cdCAgICBpZihvd24gJiYga2V5IGluIGV4cG9ydHMpY29udGludWU7XG5cdCAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZFxuXHQgICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcblx0ICAgIC8vIHByZXZlbnQgZ2xvYmFsIHBvbGx1dGlvbiBmb3IgbmFtZXNwYWNlc1xuXHQgICAgZXhwb3J0c1trZXldID0gSVNfR0xPQkFMICYmIHR5cGVvZiB0YXJnZXRba2V5XSAhPSAnZnVuY3Rpb24nID8gc291cmNlW2tleV1cblx0ICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG5cdCAgICA6IElTX0JJTkQgJiYgb3duID8gY3R4KG91dCwgZ2xvYmFsKVxuXHQgICAgLy8gd3JhcCBnbG9iYWwgY29uc3RydWN0b3JzIGZvciBwcmV2ZW50IGNoYW5nZSB0aGVtIGluIGxpYnJhcnlcblx0ICAgIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24oQyl7XG5cdCAgICAgIHZhciBGID0gZnVuY3Rpb24oYSwgYiwgYyl7XG5cdCAgICAgICAgaWYodGhpcyBpbnN0YW5jZW9mIEMpe1xuXHQgICAgICAgICAgc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe1xuXHQgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQztcblx0ICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEMoYSk7XG5cdCAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDKGEsIGIpO1xuXHQgICAgICAgICAgfSByZXR1cm4gbmV3IEMoYSwgYiwgYyk7XG5cdCAgICAgICAgfSByZXR1cm4gQy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICB9O1xuXHQgICAgICBGW1BST1RPVFlQRV0gPSBDW1BST1RPVFlQRV07XG5cdCAgICAgIHJldHVybiBGO1xuXHQgICAgLy8gbWFrZSBzdGF0aWMgdmVyc2lvbnMgZm9yIHByb3RvdHlwZSBtZXRob2RzXG5cdCAgICB9KShvdXQpIDogSVNfUFJPVE8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG5cdCAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUubWV0aG9kcy4lTkFNRSVcblx0ICAgIGlmKElTX1BST1RPKXtcblx0ICAgICAgKGV4cG9ydHMudmlydHVhbCB8fCAoZXhwb3J0cy52aXJ0dWFsID0ge30pKVtrZXldID0gb3V0O1xuXHQgICAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUucHJvdG90eXBlLiVOQU1FJVxuXHQgICAgICBpZih0eXBlICYgJGV4cG9ydC5SICYmIGV4cFByb3RvICYmICFleHBQcm90b1trZXldKWhpZGUoZXhwUHJvdG8sIGtleSwgb3V0KTtcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cdC8vIHR5cGUgYml0bWFwXG5cdCRleHBvcnQuRiA9IDE7ICAgLy8gZm9yY2VkXG5cdCRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG5cdCRleHBvcnQuUyA9IDQ7ICAgLy8gc3RhdGljXG5cdCRleHBvcnQuUCA9IDg7ICAgLy8gcHJvdG9cblx0JGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG5cdCRleHBvcnQuVyA9IDMyOyAgLy8gd3JhcFxuXHQkZXhwb3J0LlUgPSA2NDsgIC8vIHNhZmVcblx0JGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgIFxuXHRtb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7XG5cbi8qKiovIH0sXG4vKiAxMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzg2I2lzc3VlY29tbWVudC0xMTU3NTkwMjhcblx0dmFyIGdsb2JhbCA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoXG5cdCAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGYgOiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHRpZih0eXBlb2YgX19nID09ICdudW1iZXInKV9fZyA9IGdsb2JhbDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG4vKioqLyB9LFxuLyogMTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIG9wdGlvbmFsIC8gc2ltcGxlIGNvbnRleHQgYmluZGluZ1xuXHR2YXIgYUZ1bmN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4sIHRoYXQsIGxlbmd0aCl7XG5cdCAgYUZ1bmN0aW9uKGZuKTtcblx0ICBpZih0aGF0ID09PSB1bmRlZmluZWQpcmV0dXJuIGZuO1xuXHQgIHN3aXRjaChsZW5ndGgpe1xuXHQgICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24oYSl7XG5cdCAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuXHQgICAgfTtcblx0ICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uKGEsIGIpe1xuXHQgICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcblx0ICAgIH07XG5cdCAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbihhLCBiLCBjKXtcblx0ICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG5cdCAgICB9O1xuXHQgIH1cblx0ICByZXR1cm4gZnVuY3Rpb24oLyogLi4uYXJncyAqLyl7XG5cdCAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcblx0ICB9O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIGlmKHR5cGVvZiBpdCAhPSAnZnVuY3Rpb24nKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG5cdCAgcmV0dXJuIGl0O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBkUCAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNClcblx0ICAsIGNyZWF0ZURlc2MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KSA/IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG5cdCAgcmV0dXJuIGRQLmYob2JqZWN0LCBrZXksIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcblx0fSA6IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG5cdCAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcblx0ICByZXR1cm4gb2JqZWN0O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBhbk9iamVjdCAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpXG5cdCAgLCBJRThfRE9NX0RFRklORSA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpXG5cdCAgLCB0b1ByaW1pdGl2ZSAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpXG5cdCAgLCBkUCAgICAgICAgICAgICA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblx0XG5cdGV4cG9ydHMuZiA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpID8gT2JqZWN0LmRlZmluZVByb3BlcnR5IDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcyl7XG5cdCAgYW5PYmplY3QoTyk7XG5cdCAgUCA9IHRvUHJpbWl0aXZlKFAsIHRydWUpO1xuXHQgIGFuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuXHQgIGlmKElFOF9ET01fREVGSU5FKXRyeSB7XG5cdCAgICByZXR1cm4gZFAoTywgUCwgQXR0cmlidXRlcyk7XG5cdCAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuXHQgIGlmKCdnZXQnIGluIEF0dHJpYnV0ZXMgfHwgJ3NldCcgaW4gQXR0cmlidXRlcyl0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuXHQgIGlmKCd2YWx1ZScgaW4gQXR0cmlidXRlcylPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcblx0ICByZXR1cm4gTztcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgaWYoIWlzT2JqZWN0KGl0KSl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG5cdCAgcmV0dXJuIGl0O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiB0eXBlb2YgaXQgPT09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbic7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSAhX193ZWJwYWNrX3JlcXVpcmVfXygxOCkgJiYgIV9fd2VicGFja19yZXF1aXJlX18oMTkpKGZ1bmN0aW9uKCl7XG5cdCAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKSgnZGl2JyksICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogMTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcblx0bW9kdWxlLmV4cG9ydHMgPSAhX193ZWJwYWNrX3JlcXVpcmVfXygxOSkoZnVuY3Rpb24oKXtcblx0ICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiA3OyB9fSkuYSAhPSA3O1xuXHR9KTtcblxuLyoqKi8gfSxcbi8qIDE5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMpe1xuXHQgIHRyeSB7XG5cdCAgICByZXR1cm4gISFleGVjKCk7XG5cdCAgfSBjYXRjaChlKXtcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDIwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KVxuXHQgICwgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKS5kb2N1bWVudFxuXHQgIC8vIGluIG9sZCBJRSB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0J1xuXHQgICwgaXMgPSBpc09iamVjdChkb2N1bWVudCkgJiYgaXNPYmplY3QoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiBpcyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gNy4xLjEgVG9QcmltaXRpdmUoaW5wdXQgWywgUHJlZmVycmVkVHlwZV0pXG5cdHZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXHQvLyBpbnN0ZWFkIG9mIHRoZSBFUzYgc3BlYyB2ZXJzaW9uLCB3ZSBkaWRuJ3QgaW1wbGVtZW50IEBAdG9QcmltaXRpdmUgY2FzZVxuXHQvLyBhbmQgdGhlIHNlY29uZCBhcmd1bWVudCAtIGZsYWcgLSBwcmVmZXJyZWQgdHlwZSBpcyBhIHN0cmluZ1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBTKXtcblx0ICBpZighaXNPYmplY3QoaXQpKXJldHVybiBpdDtcblx0ICB2YXIgZm4sIHZhbDtcblx0ICBpZihTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG5cdCAgaWYodHlwZW9mIChmbiA9IGl0LnZhbHVlT2YpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuXHQgIGlmKCFTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG5cdCAgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYml0bWFwLCB2YWx1ZSl7XG5cdCAgcmV0dXJuIHtcblx0ICAgIGVudW1lcmFibGUgIDogIShiaXRtYXAgJiAxKSxcblx0ICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSxcblx0ICAgIHdyaXRhYmxlICAgIDogIShiaXRtYXAgJiA0KSxcblx0ICAgIHZhbHVlICAgICAgIDogdmFsdWVcblx0ICB9O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0Ly8gMTkuMS4yLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSwgLi4uKVxuXHR2YXIgZ2V0S2V5cyAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KVxuXHQgICwgZ09QUyAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KVxuXHQgICwgcElFICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKVxuXHQgICwgdG9PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKVxuXHQgICwgSU9iamVjdCAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KVxuXHQgICwgJGFzc2lnbiAgPSBPYmplY3QuYXNzaWduO1xuXHRcblx0Ly8gc2hvdWxkIHdvcmsgd2l0aCBzeW1ib2xzIGFuZCBzaG91bGQgaGF2ZSBkZXRlcm1pbmlzdGljIHByb3BlcnR5IG9yZGVyIChWOCBidWcpXG5cdG1vZHVsZS5leHBvcnRzID0gISRhc3NpZ24gfHwgX193ZWJwYWNrX3JlcXVpcmVfXygxOSkoZnVuY3Rpb24oKXtcblx0ICB2YXIgQSA9IHt9XG5cdCAgICAsIEIgPSB7fVxuXHQgICAgLCBTID0gU3ltYm9sKClcblx0ICAgICwgSyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdCc7XG5cdCAgQVtTXSA9IDc7XG5cdCAgSy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbihrKXsgQltrXSA9IGs7IH0pO1xuXHQgIHJldHVybiAkYXNzaWduKHt9LCBBKVtTXSAhPSA3IHx8IE9iamVjdC5rZXlzKCRhc3NpZ24oe30sIEIpKS5qb2luKCcnKSAhPSBLO1xuXHR9KSA/IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIHNvdXJjZSl7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0ICB2YXIgVCAgICAgPSB0b09iamVjdCh0YXJnZXQpXG5cdCAgICAsIGFMZW4gID0gYXJndW1lbnRzLmxlbmd0aFxuXHQgICAgLCBpbmRleCA9IDFcblx0ICAgICwgZ2V0U3ltYm9scyA9IGdPUFMuZlxuXHQgICAgLCBpc0VudW0gICAgID0gcElFLmY7XG5cdCAgd2hpbGUoYUxlbiA+IGluZGV4KXtcblx0ICAgIHZhciBTICAgICAgPSBJT2JqZWN0KGFyZ3VtZW50c1tpbmRleCsrXSlcblx0ICAgICAgLCBrZXlzICAgPSBnZXRTeW1ib2xzID8gZ2V0S2V5cyhTKS5jb25jYXQoZ2V0U3ltYm9scyhTKSkgOiBnZXRLZXlzKFMpXG5cdCAgICAgICwgbGVuZ3RoID0ga2V5cy5sZW5ndGhcblx0ICAgICAgLCBqICAgICAgPSAwXG5cdCAgICAgICwga2V5O1xuXHQgICAgd2hpbGUobGVuZ3RoID4gailpZihpc0VudW0uY2FsbChTLCBrZXkgPSBrZXlzW2orK10pKVRba2V5XSA9IFNba2V5XTtcblx0ICB9IHJldHVybiBUO1xuXHR9IDogJGFzc2lnbjtcblxuLyoqKi8gfSxcbi8qIDI0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyAxOS4xLjIuMTQgLyAxNS4yLjMuMTQgT2JqZWN0LmtleXMoTylcblx0dmFyICRrZXlzICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSlcblx0ICAsIGVudW1CdWdLZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOCk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIGtleXMoTyl7XG5cdCAgcmV0dXJuICRrZXlzKE8sIGVudW1CdWdLZXlzKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDI1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgaGFzICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNilcblx0ICAsIHRvSU9iamVjdCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpXG5cdCAgLCBhcnJheUluZGV4T2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKShmYWxzZSlcblx0ICAsIElFX1BST1RPICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpKCdJRV9QUk9UTycpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmplY3QsIG5hbWVzKXtcblx0ICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KG9iamVjdClcblx0ICAgICwgaSAgICAgID0gMFxuXHQgICAgLCByZXN1bHQgPSBbXVxuXHQgICAgLCBrZXk7XG5cdCAgZm9yKGtleSBpbiBPKWlmKGtleSAhPSBJRV9QUk9UTyloYXMoTywga2V5KSAmJiByZXN1bHQucHVzaChrZXkpO1xuXHQgIC8vIERvbid0IGVudW0gYnVnICYgaGlkZGVuIGtleXNcblx0ICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKWlmKGhhcyhPLCBrZXkgPSBuYW1lc1tpKytdKSl7XG5cdCAgICB+YXJyYXlJbmRleE9mKHJlc3VsdCwga2V5KSB8fCByZXN1bHQucHVzaChrZXkpO1xuXHQgIH1cblx0ICByZXR1cm4gcmVzdWx0O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdHZhciBoYXNPd25Qcm9wZXJ0eSA9IHt9Lmhhc093blByb3BlcnR5O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBrZXkpe1xuXHQgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGl0LCBrZXkpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHRvIGluZGV4ZWQgb2JqZWN0LCB0b09iamVjdCB3aXRoIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xuXHR2YXIgSU9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpXG5cdCAgLCBkZWZpbmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiBJT2JqZWN0KGRlZmluZWQoaXQpKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDI4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5nc1xuXHR2YXIgY29mID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cdG1vZHVsZS5leHBvcnRzID0gT2JqZWN0KCd6JykucHJvcGVydHlJc0VudW1lcmFibGUoMCkgPyBPYmplY3QgOiBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIGNvZihpdCkgPT0gJ1N0cmluZycgPyBpdC5zcGxpdCgnJykgOiBPYmplY3QoaXQpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdHZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDMwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyA3LjIuMSBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KVxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICBpZihpdCA9PSB1bmRlZmluZWQpdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuXHQgIHJldHVybiBpdDtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDMxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBmYWxzZSAtPiBBcnJheSNpbmRleE9mXG5cdC8vIHRydWUgIC0+IEFycmF5I2luY2x1ZGVzXG5cdHZhciB0b0lPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KVxuXHQgICwgdG9MZW5ndGggID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMilcblx0ICAsIHRvSW5kZXggICA9IF9fd2VicGFja19yZXF1aXJlX18oMzQpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKElTX0lOQ0xVREVTKXtcblx0ICByZXR1cm4gZnVuY3Rpb24oJHRoaXMsIGVsLCBmcm9tSW5kZXgpe1xuXHQgICAgdmFyIE8gICAgICA9IHRvSU9iamVjdCgkdGhpcylcblx0ICAgICAgLCBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aClcblx0ICAgICAgLCBpbmRleCAgPSB0b0luZGV4KGZyb21JbmRleCwgbGVuZ3RoKVxuXHQgICAgICAsIHZhbHVlO1xuXHQgICAgLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobVxuXHQgICAgaWYoSVNfSU5DTFVERVMgJiYgZWwgIT0gZWwpd2hpbGUobGVuZ3RoID4gaW5kZXgpe1xuXHQgICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG5cdCAgICAgIGlmKHZhbHVlICE9IHZhbHVlKXJldHVybiB0cnVlO1xuXHQgICAgLy8gQXJyYXkjdG9JbmRleCBpZ25vcmVzIGhvbGVzLCBBcnJheSNpbmNsdWRlcyAtIG5vdFxuXHQgICAgfSBlbHNlIGZvcig7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspaWYoSVNfSU5DTFVERVMgfHwgaW5kZXggaW4gTyl7XG5cdCAgICAgIGlmKE9baW5kZXhdID09PSBlbClyZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcblx0ICAgIH0gcmV0dXJuICFJU19JTkNMVURFUyAmJiAtMTtcblx0ICB9O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDcuMS4xNSBUb0xlbmd0aFxuXHR2YXIgdG9JbnRlZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMylcblx0ICAsIG1pbiAgICAgICA9IE1hdGgubWluO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gaXQgPiAwID8gbWluKHRvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDsgLy8gcG93KDIsIDUzKSAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxuXHR9O1xuXG4vKioqLyB9LFxuLyogMzMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIDcuMS40IFRvSW50ZWdlclxuXHR2YXIgY2VpbCAgPSBNYXRoLmNlaWxcblx0ICAsIGZsb29yID0gTWF0aC5mbG9vcjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIGlzTmFOKGl0ID0gK2l0KSA/IDAgOiAoaXQgPiAwID8gZmxvb3IgOiBjZWlsKShpdCk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIHRvSW50ZWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpXG5cdCAgLCBtYXggICAgICAgPSBNYXRoLm1heFxuXHQgICwgbWluICAgICAgID0gTWF0aC5taW47XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaW5kZXgsIGxlbmd0aCl7XG5cdCAgaW5kZXggPSB0b0ludGVnZXIoaW5kZXgpO1xuXHQgIHJldHVybiBpbmRleCA8IDAgPyBtYXgoaW5kZXggKyBsZW5ndGgsIDApIDogbWluKGluZGV4LCBsZW5ndGgpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBzaGFyZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KSgna2V5cycpXG5cdCAgLCB1aWQgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuXHQgIHJldHVybiBzaGFyZWRba2V5XSB8fCAoc2hhcmVkW2tleV0gPSB1aWQoa2V5KSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGdsb2JhbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApXG5cdCAgLCBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJ1xuXHQgICwgc3RvcmUgID0gZ2xvYmFsW1NIQVJFRF0gfHwgKGdsb2JhbFtTSEFSRURdID0ge30pO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG5cdCAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB7fSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0dmFyIGlkID0gMFxuXHQgICwgcHggPSBNYXRoLnJhbmRvbSgpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG5cdCAgcmV0dXJuICdTeW1ib2woJy5jb25jYXQoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSwgJylfJywgKCsraWQgKyBweCkudG9TdHJpbmcoMzYpKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDM4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBJRSA4LSBkb24ndCBlbnVtIGJ1ZyBrZXlzXG5cdG1vZHVsZS5leHBvcnRzID0gKFxuXHQgICdjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2YnXG5cdCkuc3BsaXQoJywnKTtcblxuLyoqKi8gfSxcbi8qIDM5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRleHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG4vKioqLyB9LFxuLyogNDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdGV4cG9ydHMuZiA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG4vKioqLyB9LFxuLyogNDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDcuMS4xMyBUb09iamVjdChhcmd1bWVudClcblx0dmFyIGRlZmluZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIE9iamVjdChkZWZpbmVkKGl0KSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKCQpIHshZnVuY3Rpb24odCxlKXsgdHJ1ZT9tb2R1bGUuZXhwb3J0cz1lKF9fd2VicGFja19yZXF1aXJlX18oNDQpLF9fd2VicGFja19yZXF1aXJlX18oNDUpKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImlzb21vcnBoaWMtZmV0Y2hcIixcImZzXCJdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuRXB1YlByZXNzPWUocmVxdWlyZShcImlzb21vcnBoaWMtZmV0Y2hcIikscmVxdWlyZShcImZzXCIpKTp0LkVwdWJQcmVzcz1lKHRbXCJpc29tb3JwaGljLWZldGNoXCJdLHQuZnMpfSh0aGlzLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocil7aWYobltyXSlyZXR1cm4gbltyXS5leHBvcnRzO3ZhciBpPW5bcl09e2V4cG9ydHM6e30saWQ6cixsb2FkZWQ6ITF9O3JldHVybiB0W3JdLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLGUpLGkubG9hZGVkPSEwLGkuZXhwb3J0c312YXIgbj17fTtyZXR1cm4gZS5tPXQsZS5jPW4sZS5wPVwiXCIsZSgwKX0oW2Z1bmN0aW9uKHQsZSxuKXtuKDEpLHQuZXhwb3J0cz1uKDIpfSxmdW5jdGlvbihlLG4pe2UuZXhwb3J0cz10fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWZ1bmN0aW9uIGkoKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93fWZ1bmN0aW9uIG8oKXtpZihGLkRFQlVHKXt2YXIgdDsodD1jb25zb2xlKS5sb2cuYXBwbHkodCxhcmd1bWVudHMpfX1mdW5jdGlvbiBzKHQpe2lmKCF0LmdldElkKCkpdGhyb3cgbmV3IEVycm9yKFwiQm9vayBoYXMgbm8gaWQuIEhhdmUgeW91IHB1Ymxpc2hlZD9cIil9ZnVuY3Rpb24gYSh0LGUpe2lmKGkoKSl7dmFyIHI9dm9pZCAwO3I9XCJmdW5jdGlvblwiPT10eXBlb2YgRmlsZT9uZXcgRmlsZShbZV0sdCk6bmV3IEJsb2IoW2VdLHt0eXBlOlwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCJ9KSwoMCxrLnNhdmVBcykocix0KX1lbHNle3ZhciBvPW4oNTQpO28ud3JpdGVGaWxlU3luYyh0LGUpfX1mdW5jdGlvbiBjKHQpe3ZhciBlPXt0aXRsZTp0LnRpdGxlLGRlc2NyaXB0aW9uOnQuZGVzY3JpcHRpb259O3JldHVybiB0LnNlY3Rpb25zP2Uuc2VjdGlvbnM9dC5zZWN0aW9uczplLnVybHM9dC51cmxzLnNsaWNlKCkse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntBY2NlcHQ6XCJhcHBsaWNhdGlvbi9qc29uXCIsXCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0sYm9keTooMCx3W1wiZGVmYXVsdFwiXSkoZSl9fWZ1bmN0aW9uIHUodCl7cmV0dXJuIG5ldyBDW1wiZGVmYXVsdFwiXShmdW5jdGlvbihlLG4pe3ZhciByPWZ1bmN0aW9uIGkocil7dC5jaGVja1N0YXR1cygpLnRoZW4oZnVuY3Rpb24obyl7dC5lbWl0KFwic3RhdHVzVXBkYXRlXCIsbyksTnVtYmVyKG8ucHJvZ3Jlc3MpPj0xMDA/ZSh0KTpyPj1GLkNIRUNLX1NUQVRVU19MSU1JVD9uKG5ldyBFcnJvcihGLkVSUk9SX0NPREVTWzUwM10pKTpzZXRUaW1lb3V0KGksRi5QT0xMX1JBVEUscisxKX0pW1wiY2F0Y2hcIl0obil9O3IoMSl9KX1mdW5jdGlvbiBsKHQpe3ZhciBlPUYuRVJST1JfQ09ERVNbdC5zdGF0dXNdO2lmKHQuc3RhdHVzPj0yMDAmJnQuc3RhdHVzPDMwMClyZXR1cm4gdDtpZih0LmJvZHkpcmV0dXJuIHQuanNvbigpLnRoZW4oZnVuY3Rpb24odCl7dmFyIG49dC5lcnJvcnMmJnQuZXJyb3JzLmxlbmd0aD4wLHI9bj90LmVycm9yc1swXS5kZXRhaWw6ZTtyZXR1cm4gQ1tcImRlZmF1bHRcIl0ucmVqZWN0KG5ldyBFcnJvcihyKSl9KTt2YXIgbj1uZXcgRXJyb3IoZSk7cmV0dXJuIENbXCJkZWZhdWx0XCJdLnJlamVjdChuKX1mdW5jdGlvbiBmKHQpe3ZhciBlPUYuRVJST1JfQ09ERVNbdC5tZXNzYWdlXXx8Ri5FUlJPUl9DT0RFU1t0Lm5hbWVdO3JldHVybiBlP25ldyBFcnJvcihlKTp0fWZ1bmN0aW9uIHAodCxlKXt2YXIgbj1OdW1iZXIoZS5taW5Db21wYXRpYmxlLnJlcGxhY2UoXCIuXCIsXCJcIikpLHI9TnVtYmVyKHQucmVwbGFjZShcIi5cIixcIlwiKSk7cmV0dXJuIG4+cj9lLm1lc3NhZ2U6bnVsbH1mdW5jdGlvbiBoKHQpe3ZhciBlPVtcImVtYWlsXCIsXCJmaWxldHlwZVwiXS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV0/ZStcIj1cIitlbmNvZGVVUklDb21wb25lbnQodFtlXSk6XCJcIn0pLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdH0pLmpvaW4oXCImXCIpO3JldHVybiBlP1wiP1wiK2U6XCJcIn12YXIgZD1uKDMpLF89cihkKSx2PW4oNDApLHk9cih2KSxtPW4oNDEpLGc9cihtKSxiPW4oNDUpLHc9cihiKSxFPW4oNDcpLEM9cihFKSxrPW4oNTApLGo9big1MykseD1yKGopLEY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpeygwLHlbXCJkZWZhdWx0XCJdKSh0aGlzLHQpO3ZhciBuPURhdGUoKS5zbGljZSgwLERhdGUoKS5tYXRjaCgvXFxkezR9LykuaW5kZXgrNCkscj17dGl0bGU6XCJFcHViUHJlc3MgLSBcIituLGRlc2NyaXB0aW9uOnZvaWQgMCxzZWN0aW9uczp2b2lkIDAsdXJsczp2b2lkIDAsZmlsZXR5cGU6XCJlcHViXCJ9O3RoaXMuYm9va0RhdGE9KDAsX1tcImRlZmF1bHRcIl0pKHt9LHIsZSksdGhpcy5ldmVudHM9e319cmV0dXJuKDAsZ1tcImRlZmF1bHRcIl0pKHQsbnVsbCxbe2tleTpcImNoZWNrRm9yVXBkYXRlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDw9MHx8dm9pZCAwPT09YXJndW1lbnRzWzBdP1wiZXB1Yi1wcmVzcy1qc1wiOmFyZ3VtZW50c1swXSxuPWFyZ3VtZW50cy5sZW5ndGg8PTF8fHZvaWQgMD09PWFyZ3VtZW50c1sxXT90LmdldFZlcnNpb24oKTphcmd1bWVudHNbMV07cmV0dXJuIG5ldyBDW1wiZGVmYXVsdFwiXShmdW5jdGlvbihyLGkpe2ZldGNoKHQuZ2V0VmVyc2lvblVybCgpKS50aGVuKGwpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQuanNvbigpfSkudGhlbihmdW5jdGlvbih0KXt2YXIgbz10LmNsaWVudHNbZV07bz9yKHAobixvKSk6aShuZXcgRXJyb3IoXCJWZXJzaW9uIGRhdGEgZm9yIFwiK2UrXCIgbm90IGZvdW5kLlwiKSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKHQpe3ZhciBlPWYodCk7byhcIlZlcnNpb24gY2hlY2sgZmFpbGVkXCIsZSksaShlKX0pfSl9fSx7a2V5OlwiZ2V0UHVibGlzaFVybFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvdG90eXBlLmdldFB1Ymxpc2hVcmwoKX19LHtrZXk6XCJnZXRWZXJzaW9uVXJsXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5CQVNFX0FQSStcIi92ZXJzaW9uXCJ9fSx7a2V5OlwiZ2V0VmVyc2lvblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHQuVkVSU0lPTn19XSksKDAsZ1tcImRlZmF1bHRcIl0pKHQsW3trZXk6XCJvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZXZlbnRzW3RdfHwodGhpcy5ldmVudHNbdF09W10pLHRoaXMuZXZlbnRzW3RdLnB1c2goZSksZX19LHtrZXk6XCJlbWl0XCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsbj1BcnJheShlPjE/ZS0xOjApLHI9MTtlPnI7cisrKW5bci0xXT1hcmd1bWVudHNbcl07dGhpcy5ldmVudHNbdF0mJnRoaXMuZXZlbnRzW3RdLmZvckVhY2goZnVuY3Rpb24odCl7dC5hcHBseSh2b2lkIDAsbil9KX19LHtrZXk6XCJyZW1vdmVMaXN0ZW5lclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYodGhpcy5ldmVudHNbdF0pe3ZhciBuPXRoaXMuZXZlbnRzW3RdLmluZGV4T2YoZSk7bj49MCYmdGhpcy5ldmVudHNbdF0uc3BsaWNlKG4sMSl9fX0se2tleTpcImdldFVybHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PVtdLGU9dGhpcy5ib29rRGF0YSxuPWUudXJscyxyPWUuc2VjdGlvbnM7cmV0dXJuIG4/dD1uLnNsaWNlKCk6ciYmKHQ9ci5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQudXJsfSkpLHR9fSx7a2V5OlwiZ2V0RmlsZXR5cGVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10fHx0aGlzLmJvb2tEYXRhLmZpbGV0eXBlO3JldHVybiBlP1tcIm1vYmlcIixcImVwdWJcIl0uZmluZChmdW5jdGlvbih0KXtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpPT09dH0pfHxcImVwdWJcIjpcImVwdWJcIn19LHtrZXk6XCJnZXRFbWFpbFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9va0RhdGEuZW1haWx9fSx7a2V5OlwiZ2V0VGl0bGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvb2tEYXRhLnRpdGxlfX0se2tleTpcImdldERlc2NyaXB0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib29rRGF0YS5kZXNjcmlwdGlvbn19LHtrZXk6XCJnZXRJZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9va0RhdGEuaWR9fSx7a2V5OlwiZ2V0U3RhdHVzVXJsXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5nZXRQdWJsaXNoVXJsKCkrXCIvXCIrdGhpcy5nZXRJZCgpK1wiL3N0YXR1c1wifX0se2tleTpcImdldFB1Ymxpc2hVcmxcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0LkJBU0VfQVBJK1wiL2Jvb2tzXCJ9fSx7a2V5OlwiZ2V0RG93bmxvYWRVcmxcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg8PTB8fHZvaWQgMD09PWFyZ3VtZW50c1swXT90aGlzLmdldEZpbGV0eXBlKCk6YXJndW1lbnRzWzBdLGU9aCh7ZmlsZXR5cGU6dH0pO3JldHVybiB0aGlzLmdldFB1Ymxpc2hVcmwoKStcIi9cIit0aGlzLmdldElkKCkrXCIvZG93bmxvYWRcIitlfX0se2tleTpcImdldEVtYWlsVXJsXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPD0wfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/dGhpcy5nZXRFbWFpbCgpOmFyZ3VtZW50c1swXSxlPWFyZ3VtZW50cy5sZW5ndGg8PTF8fHZvaWQgMD09PWFyZ3VtZW50c1sxXT90aGlzLmdldEZpbGV0eXBlKCk6YXJndW1lbnRzWzFdLG49aCh7ZW1haWw6dCxmaWxldHlwZTplfSk7cmV0dXJuIHRoaXMuZ2V0UHVibGlzaFVybCgpK1wiL1wiK3RoaXMuZ2V0SWQoKStcIi9lbWFpbFwiK259fSx7a2V5OlwiY2hlY2tTdGF0dXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBDW1wiZGVmYXVsdFwiXShmdW5jdGlvbihlLG4pe2ZldGNoKHQuZ2V0U3RhdHVzVXJsKCkpLnRoZW4obCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdC5qc29uKCl9KS50aGVuKGZ1bmN0aW9uKHQpe2UodCl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKHQpe3ZhciBlPWYodCk7bihlKX0pfSl9fSx7a2V5OlwicHVibGlzaFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5pc1B1Ymxpc2hpbmc/Q1tcImRlZmF1bHRcIl0ucmVqZWN0KG5ldyBFcnJvcihcIlB1Ymxpc2hpbmcgaW4gcHJvZ3Jlc3NcIikpOnRoaXMuZ2V0SWQoKT9DW1wiZGVmYXVsdFwiXS5yZXNvbHZlKHRoaXMuZ2V0SWQoKSk6KHRoaXMuaXNQdWJsaXNoaW5nPSEwLG5ldyBDW1wiZGVmYXVsdFwiXShmdW5jdGlvbihlLG4pe2ZldGNoKHQuZ2V0UHVibGlzaFVybCgpLGModC5ib29rRGF0YSkpLnRoZW4obCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdC5qc29uKCl9KS50aGVuKGZ1bmN0aW9uKG4pe3ZhciByPW4uaWQ7cmV0dXJuIHQuYm9va0RhdGEuaWQ9cix1KHQpLnRoZW4oZnVuY3Rpb24oKXtlKHIpfSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGUpe3QuaXNQdWJsaXNoaW5nPSExO3ZhciByPWYoZSk7byhcIkVidXBQcmVzczogUHVibGlzaCBmYWlsZWRcIixyKSxuKHIpfSl9KSl9fSx7a2V5OlwiZG93bmxvYWRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBuZXcgQ1tcImRlZmF1bHRcIl0oZnVuY3Rpb24obixyKXtzKGUpLGZldGNoKGUuZ2V0RG93bmxvYWRVcmwodCkpLnRoZW4obCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdC5ibG9iP3QuYmxvYigpOnQuYnVmZmVyKCl9KS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBpPWUuZ2V0VGl0bGUoKStcIi5cIisodHx8ZS5nZXRGaWxldHlwZSgpKTthKGksciksbigpfSlbXCJjYXRjaFwiXShmdW5jdGlvbih0KXt2YXIgZT1mKHQpO28oXCJFcHViUHJlc3M6IERvd25sb2FkIGZhaWxlZFwiLGUpLHIoZSl9KX0pfX0se2tleTpcImVtYWlsXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBuZXcgQ1tcImRlZmF1bHRcIl0oZnVuY3Rpb24ocixpKXtyZXR1cm4gdD8ocyhuKSxmZXRjaChuLmdldEVtYWlsVXJsKHQsZSkpLnRoZW4obCkudGhlbihmdW5jdGlvbigpe28oXCJFcHViUHJlc3M6IEJvb2sgZGVsaXZlcmVkLlwiKSxyKCl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKHQpe3ZhciBlPWYodCk7byhcIkVwdWJQcmVzczogRW1haWwgZGVsaXZlcnkgZmFpbGVkLlwiKSxpKGUpfSkpOmkobmV3IEVycm9yKFwiRXB1YlByZXNzOiBObyBlbWFpbCBwcm92aWRlZC5cIikpfSl9fV0pLHR9KCk7Ri5CQVNFX1VSTD14W1wiZGVmYXVsdFwiXS5iYXNlVXJsLEYuQkFTRV9BUEk9Ri5CQVNFX1VSTCtcIi9hcGkvdjFcIixGLlZFUlNJT049eFtcImRlZmF1bHRcIl0udmVyc2lvbixGLlBPTExfUkFURT0zZTMsRi5DSEVDS19TVEFUVVNfTElNSVQ9NDAsRi5FUlJPUl9DT0RFUz17MDpcIlNlcnZlciBpcyBkb3duLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlwiLFwiRmFpbGVkIHRvIGZldGNoXCI6XCJTZXJ2ZXIgaXMgZG93bi4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cIixGZXRjaEVycm9yOlwiU2VydmVyIGlzIGRvd24uIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuXCIsNDAwOlwiVGhlcmUgd2FzIGEgcHJvYmxlbSB3aXRoIHRoZSByZXF1ZXN0LiBJcyBFcHViUHJlc3MgdXAgdG8gZGF0ZT9cIiw0MDQ6XCJSZXNvdXJjZSBub3QgZm91bmQuXCIsNDIyOlwiUmVxdWVzdCBjb250YWluZWQgaW52YWxpZCBkYXRhLlwiLDUwMDpcIlVuZXhwZWN0ZWQgc2VydmVyIGVycm9yLlwiLDUwMzpcIlNlcnZlciB0b29rIHRvbyBsb25nIHRvIHJlc3BvbmQuXCIsdGltZW91dDpcIlJlcXVlc3QgdG9vayB0b28gbG9uZyB0byBjb21wbGV0ZS5cIixlcnJvcjp2b2lkIDAsU0VSVkVSX0ZBSUxFRDpcIlNlcnZlciBlcnJvciB3aGlsZSBkb3dubG9hZGluZy5cIixTRVJWRVJfQkFEX0NPTlRFTlQ6XCJCb29rIGNvdWxkIG5vdCBiZSBmb3VuZFwifSx0LmV4cG9ydHM9Rn0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz17XCJkZWZhdWx0XCI6big0KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24odCxlLG4pe24oNSksdC5leHBvcnRzPW4oOCkuT2JqZWN0LmFzc2lnbn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNik7cihyLlMrci5GLFwiT2JqZWN0XCIse2Fzc2lnbjpuKDIxKX0pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big3KSxpPW4oOCksbz1uKDkpLHM9bigxMSksYT1cInByb3RvdHlwZVwiLGM9ZnVuY3Rpb24odCxlLG4pe3ZhciB1LGwsZixwPXQmYy5GLGg9dCZjLkcsZD10JmMuUyxfPXQmYy5QLHY9dCZjLkIseT10JmMuVyxtPWg/aTppW2VdfHwoaVtlXT17fSksZz1tW2FdLGI9aD9yOmQ/cltlXToocltlXXx8e30pW2FdO2gmJihuPWUpO2Zvcih1IGluIG4pbD0hcCYmYiYmdm9pZCAwIT09Ylt1XSxsJiZ1IGluIG18fChmPWw/Ylt1XTpuW3VdLG1bdV09aCYmXCJmdW5jdGlvblwiIT10eXBlb2YgYlt1XT9uW3VdOnYmJmw/byhmLHIpOnkmJmJbdV09PWY/ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oZSxuLHIpe2lmKHRoaXMgaW5zdGFuY2VvZiB0KXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgdDtjYXNlIDE6cmV0dXJuIG5ldyB0KGUpO2Nhc2UgMjpyZXR1cm4gbmV3IHQoZSxuKX1yZXR1cm4gbmV3IHQoZSxuLHIpfXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07cmV0dXJuIGVbYV09dFthXSxlfShmKTpfJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBmP28oRnVuY3Rpb24uY2FsbCxmKTpmLF8mJigobS52aXJ0dWFsfHwobS52aXJ0dWFsPXt9KSlbdV09Zix0JmMuUiYmZyYmIWdbdV0mJnMoZyx1LGYpKSl9O2MuRj0xLGMuRz0yLGMuUz00LGMuUD04LGMuQj0xNixjLlc9MzIsYy5VPTY0LGMuUj0xMjgsdC5leHBvcnRzPWN9LGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5leHBvcnRzPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1wibnVtYmVyXCI9PXR5cGVvZiBfX2cmJihfX2c9bil9LGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5leHBvcnRzPXt2ZXJzaW9uOlwiMi40LjBcIn07XCJudW1iZXJcIj09dHlwZW9mIF9fZSYmKF9fZT1uKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTApO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7aWYocih0KSx2b2lkIDA9PT1lKXJldHVybiB0O3N3aXRjaChuKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiB0LmNhbGwoZSxuKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihuLHIpe3JldHVybiB0LmNhbGwoZSxuLHIpfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKG4scixpKXtyZXR1cm4gdC5jYWxsKGUsbixyLGkpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLGFyZ3VtZW50cyl9fX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBUeXBlRXJyb3IodCtcIiBpcyBub3QgYSBmdW5jdGlvbiFcIik7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMiksaT1uKDIwKTt0LmV4cG9ydHM9bigxNik/ZnVuY3Rpb24odCxlLG4pe3JldHVybiByLmYodCxlLGkoMSxuKSl9OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdFtlXT1uLHR9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMyksaT1uKDE1KSxvPW4oMTkpLHM9T2JqZWN0LmRlZmluZVByb3BlcnR5O2UuZj1uKDE2KT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24odCxlLG4pe2lmKHIodCksZT1vKGUsITApLHIobiksaSl0cnl7cmV0dXJuIHModCxlLG4pfWNhdGNoKGEpe31pZihcImdldFwiaW4gbnx8XCJzZXRcImluIG4pdGhyb3cgVHlwZUVycm9yKFwiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhXCIpO3JldHVyblwidmFsdWVcImluIG4mJih0W2VdPW4udmFsdWUpLHR9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCFyKHQpKXRocm93IFR5cGVFcnJvcih0K1wiIGlzIG5vdCBhbiBvYmplY3QhXCIpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHQ/bnVsbCE9PXQ6XCJmdW5jdGlvblwiPT10eXBlb2YgdH19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9IW4oMTYpJiYhbigxNykoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4oMTgpKFwiZGl2XCIpLFwiYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9IW4oMTcpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSxcImFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt0cnl7cmV0dXJuISF0KCl9Y2F0Y2goZSl7cmV0dXJuITB9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTQpLGk9big3KS5kb2N1bWVudCxvPXIoaSkmJnIoaS5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG8/aS5jcmVhdGVFbGVtZW50KHQpOnt9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTQpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCFyKHQpKXJldHVybiB0O3ZhciBuLGk7aWYoZSYmXCJmdW5jdGlvblwiPT10eXBlb2Yobj10LnRvU3RyaW5nKSYmIXIoaT1uLmNhbGwodCkpKXJldHVybiBpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mKG49dC52YWx1ZU9mKSYmIXIoaT1uLmNhbGwodCkpKXJldHVybiBpO2lmKCFlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZihuPXQudG9TdHJpbmcpJiYhcihpPW4uY2FsbCh0KSkpcmV0dXJuIGk7dGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm57ZW51bWVyYWJsZTohKDEmdCksY29uZmlndXJhYmxlOiEoMiZ0KSx3cml0YWJsZTohKDQmdCksdmFsdWU6ZX19fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigyMiksaT1uKDM3KSxvPW4oMzgpLHM9bigzOSksYT1uKDI2KSxjPU9iamVjdC5hc3NpZ247dC5leHBvcnRzPSFjfHxuKDE3KShmdW5jdGlvbigpe3ZhciB0PXt9LGU9e30sbj1TeW1ib2woKSxyPVwiYWJjZGVmZ2hpamtsbW5vcHFyc3RcIjtyZXR1cm4gdFtuXT03LHIuc3BsaXQoXCJcIikuZm9yRWFjaChmdW5jdGlvbih0KXtlW3RdPXR9KSw3IT1jKHt9LHQpW25dfHxPYmplY3Qua2V5cyhjKHt9LGUpKS5qb2luKFwiXCIpIT1yfSk/ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49cyh0KSxjPWFyZ3VtZW50cy5sZW5ndGgsdT0xLGw9aS5mLGY9by5mO2M+dTspZm9yKHZhciBwLGg9YShhcmd1bWVudHNbdSsrXSksZD1sP3IoaCkuY29uY2F0KGwoaCkpOnIoaCksXz1kLmxlbmd0aCx2PTA7Xz52OylmLmNhbGwoaCxwPWRbdisrXSkmJihuW3BdPWhbcF0pO3JldHVybiBufTpjfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyMyksaT1uKDM2KTt0LmV4cG9ydHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKHQpe3JldHVybiByKHQsaSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyNCksaT1uKDI1KSxvPW4oMjkpKCExKSxzPW4oMzMpKFwiSUVfUFJPVE9cIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG4sYT1pKHQpLGM9MCx1PVtdO2ZvcihuIGluIGEpbiE9cyYmcihhLG4pJiZ1LnB1c2gobik7Zm9yKDtlLmxlbmd0aD5jOylyKGEsbj1lW2MrK10pJiYofm8odSxuKXx8dS5wdXNoKG4pKTtyZXR1cm4gdX19LGZ1bmN0aW9uKHQsZSl7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4uY2FsbCh0LGUpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjYpLGk9bigyOCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByKGkodCkpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjcpO3QuZXhwb3J0cz1PYmplY3QoXCJ6XCIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbih0KXtyZXR1cm5cIlN0cmluZ1wiPT1yKHQpP3Quc3BsaXQoXCJcIik6T2JqZWN0KHQpfX0sZnVuY3Rpb24odCxlKXt2YXIgbj17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG4uY2FsbCh0KS5zbGljZSg4LC0xKX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09dCl0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgXCIrdCk7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyNSksaT1uKDMwKSxvPW4oMzIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLHMpe3ZhciBhLGM9cihlKSx1PWkoYy5sZW5ndGgpLGw9byhzLHUpO2lmKHQmJm4hPW4pe2Zvcig7dT5sOylpZihhPWNbbCsrXSxhIT1hKXJldHVybiEwfWVsc2UgZm9yKDt1Pmw7bCsrKWlmKCh0fHxsIGluIGMpJiZjW2xdPT09bilyZXR1cm4gdHx8bHx8MDtyZXR1cm4hdCYmLTF9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzEpLGk9TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB0PjA/aShyKHQpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSxmdW5jdGlvbih0LGUpe3ZhciBuPU1hdGguY2VpbCxyPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBpc05hTih0PSt0KT8wOih0PjA/cjpuKSh0KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMxKSxpPU1hdGgubWF4LG89TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9cih0KSwwPnQ/aSh0K2UsMCk6byh0LGUpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzQpKFwia2V5c1wiKSxpPW4oMzUpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gclt0XXx8KHJbdF09aSh0KSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big3KSxpPVwiX19jb3JlLWpzX3NoYXJlZF9fXCIsbz1yW2ldfHwocltpXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBvW3RdfHwob1t0XT17fSl9fSxmdW5jdGlvbih0LGUpe3ZhciBuPTAscj1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm5cIlN5bWJvbChcIi5jb25jYXQodm9pZCAwPT09dD9cIlwiOnQsXCIpX1wiLCgrK24rcikudG9TdHJpbmcoMzYpKX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mXCIuc3BsaXQoXCIsXCIpfSxmdW5jdGlvbih0LGUpe2UuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzfSxmdW5jdGlvbih0LGUpe2UuZj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjgpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KHIodCkpfX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtlLl9fZXNNb2R1bGU9ITAsZVtcImRlZmF1bHRcIl09ZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1lLl9fZXNNb2R1bGU9ITA7dmFyIGk9big0Miksbz1yKGkpO2VbXCJkZWZhdWx0XCJdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSwoMCxvW1wiZGVmYXVsdFwiXSkodCxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gbiYmdChlLnByb3RvdHlwZSxuKSxyJiZ0KGUsciksZX19KCl9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9e1wiZGVmYXVsdFwiOm4oNDMpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbih0LGUsbil7big0NCk7dmFyIHI9big4KS5PYmplY3Q7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gci5kZWZpbmVQcm9wZXJ0eSh0LGUsbil9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big2KTtyKHIuUytyLkYqIW4oMTYpLFwiT2JqZWN0XCIse2RlZmluZVByb3BlcnR5Om4oMTIpLmZ9KX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz17XCJkZWZhdWx0XCI6big0NiksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDgpLGk9ci5KU09OfHwoci5KU09OPXtzdHJpbmdpZnk6SlNPTi5zdHJpbmdpZnl9KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGkuc3RyaW5naWZ5LmFwcGx5KGksYXJndW1lbnRzKX19LGZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24oZSxuLHIpey8qIEBwcmVzZXJ2ZVxuXHRcdCAqIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuXHRcdCAqIFxuXHRcdCAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE1IFBldGthIEFudG9ub3Zcblx0XHQgKiBcblx0XHQgKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG5cdFx0ICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuXHRcdCAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcblx0XHQgKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG5cdFx0ICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG5cdFx0ICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblx0XHQgKiBcblx0XHQgKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuXHRcdCAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXHRcdCAqIFxuXHRcdCAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1Jcblx0XHQgKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcblx0XHQgKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5cdFx0ICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuXHRcdCAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG5cdFx0ICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuXHRcdCAqIFRIRSBTT0ZUV0FSRS5cblx0XHQgKiBcblx0XHQgKi9cblx0IWZ1bmN0aW9uKGUpe3QuZXhwb3J0cz1lKCl9KGZ1bmN0aW9uKCl7dmFyIHQsaSxvO3JldHVybiBmdW5jdGlvbiBzKHQsZSxuKXtmdW5jdGlvbiByKG8sYSl7aWYoIWVbb10pe2lmKCF0W29dKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBfZGVyZXFfJiZfZGVyZXFfO2lmKCFhJiZjKXJldHVybiBjKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIHU9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyB1LmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsdX12YXIgbD1lW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHIobj9uOmUpfSxsLGwuZXhwb3J0cyxzLHQsZSxuKX1yZXR1cm4gZVtvXS5leHBvcnRzfWZvcih2YXIgaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBfZGVyZXFfJiZfZGVyZXFfLG89MDtvPG4ubGVuZ3RoO28rKylyKG5bb10pO3JldHVybiByfSh7MTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBlPW5ldyBuKHQpLHI9ZS5wcm9taXNlKCk7cmV0dXJuIGUuc2V0SG93TWFueSgxKSxlLnNldFVud3JhcCgpLGUuaW5pdCgpLHJ9dmFyIG49dC5fU29tZVByb21pc2VBcnJheTt0LmFueT1mdW5jdGlvbih0KXtyZXR1cm4gZSh0KX0sdC5wcm90b3R5cGUuYW55PWZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcyl9fX0se31dLDI6W2Z1bmN0aW9uKHQsbixyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKCl7dGhpcy5fY3VzdG9tU2NoZWR1bGVyPSExLHRoaXMuX2lzVGlja1VzZWQ9ITEsdGhpcy5fbGF0ZVF1ZXVlPW5ldyBmKDE2KSx0aGlzLl9ub3JtYWxRdWV1ZT1uZXcgZigxNiksdGhpcy5faGF2ZURyYWluZWRRdWV1ZXM9ITEsdGhpcy5fdHJhbXBvbGluZUVuYWJsZWQ9ITA7dmFyIHQ9dGhpczt0aGlzLmRyYWluUXVldWVzPWZ1bmN0aW9uKCl7dC5fZHJhaW5RdWV1ZXMoKX0sdGhpcy5fc2NoZWR1bGU9bH1mdW5jdGlvbiBvKHQsZSxuKXt0aGlzLl9sYXRlUXVldWUucHVzaCh0LGUsbiksdGhpcy5fcXVldWVUaWNrKCl9ZnVuY3Rpb24gcyh0LGUsbil7dGhpcy5fbm9ybWFsUXVldWUucHVzaCh0LGUsbiksdGhpcy5fcXVldWVUaWNrKCl9ZnVuY3Rpb24gYSh0KXt0aGlzLl9ub3JtYWxRdWV1ZS5fcHVzaE9uZSh0KSx0aGlzLl9xdWV1ZVRpY2soKX12YXIgYzt0cnl7dGhyb3cgbmV3IEVycm9yfWNhdGNoKHUpe2M9dX12YXIgbD10KFwiLi9zY2hlZHVsZVwiKSxmPXQoXCIuL3F1ZXVlXCIpLHA9dChcIi4vdXRpbFwiKTtpLnByb3RvdHlwZS5zZXRTY2hlZHVsZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc2NoZWR1bGU7cmV0dXJuIHRoaXMuX3NjaGVkdWxlPXQsdGhpcy5fY3VzdG9tU2NoZWR1bGVyPSEwLGV9LGkucHJvdG90eXBlLmhhc0N1c3RvbVNjaGVkdWxlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXN0b21TY2hlZHVsZXJ9LGkucHJvdG90eXBlLmVuYWJsZVRyYW1wb2xpbmU9ZnVuY3Rpb24oKXt0aGlzLl90cmFtcG9saW5lRW5hYmxlZD0hMH0saS5wcm90b3R5cGUuZGlzYWJsZVRyYW1wb2xpbmVJZk5lY2Vzc2FyeT1mdW5jdGlvbigpe3AuaGFzRGV2VG9vbHMmJih0aGlzLl90cmFtcG9saW5lRW5hYmxlZD0hMSl9LGkucHJvdG90eXBlLmhhdmVJdGVtc1F1ZXVlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1RpY2tVc2VkfHx0aGlzLl9oYXZlRHJhaW5lZFF1ZXVlc30saS5wcm90b3R5cGUuZmF0YWxFcnJvcj1mdW5jdGlvbih0LG4pe24/KGUuc3RkZXJyLndyaXRlKFwiRmF0YWwgXCIrKHQgaW5zdGFuY2VvZiBFcnJvcj90LnN0YWNrOnQpK1wiXFxuXCIpLGUuZXhpdCgyKSk6dGhpcy50aHJvd0xhdGVyKHQpfSxpLnByb3RvdHlwZS50aHJvd0xhdGVyPWZ1bmN0aW9uKHQsZSl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgmJihlPXQsdD1mdW5jdGlvbigpe3Rocm93IGV9KSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2V0VGltZW91dClzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dChlKX0sMCk7ZWxzZSB0cnl7dGhpcy5fc2NoZWR1bGUoZnVuY3Rpb24oKXt0KGUpfSl9Y2F0Y2gobil7dGhyb3cgbmV3IEVycm9yKFwiTm8gYXN5bmMgc2NoZWR1bGVyIGF2YWlsYWJsZVxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIil9fSxwLmhhc0RldlRvb2xzPyhpLnByb3RvdHlwZS5pbnZva2VMYXRlcj1mdW5jdGlvbih0LGUsbil7dGhpcy5fdHJhbXBvbGluZUVuYWJsZWQ/by5jYWxsKHRoaXMsdCxlLG4pOnRoaXMuX3NjaGVkdWxlKGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe3QuY2FsbChlLG4pfSwxMDApfSl9LGkucHJvdG90eXBlLmludm9rZT1mdW5jdGlvbih0LGUsbil7dGhpcy5fdHJhbXBvbGluZUVuYWJsZWQ/cy5jYWxsKHRoaXMsdCxlLG4pOnRoaXMuX3NjaGVkdWxlKGZ1bmN0aW9uKCl7dC5jYWxsKGUsbil9KX0saS5wcm90b3R5cGUuc2V0dGxlUHJvbWlzZXM9ZnVuY3Rpb24odCl7dGhpcy5fdHJhbXBvbGluZUVuYWJsZWQ/YS5jYWxsKHRoaXMsdCk6dGhpcy5fc2NoZWR1bGUoZnVuY3Rpb24oKXt0Ll9zZXR0bGVQcm9taXNlcygpfSl9KTooaS5wcm90b3R5cGUuaW52b2tlTGF0ZXI9byxpLnByb3RvdHlwZS5pbnZva2U9cyxpLnByb3RvdHlwZS5zZXR0bGVQcm9taXNlcz1hKSxpLnByb3RvdHlwZS5pbnZva2VGaXJzdD1mdW5jdGlvbih0LGUsbil7dGhpcy5fbm9ybWFsUXVldWUudW5zaGlmdCh0LGUsbiksdGhpcy5fcXVldWVUaWNrKCl9LGkucHJvdG90eXBlLl9kcmFpblF1ZXVlPWZ1bmN0aW9uKHQpe2Zvcig7dC5sZW5ndGgoKT4wOyl7dmFyIGU9dC5zaGlmdCgpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpe3ZhciBuPXQuc2hpZnQoKSxyPXQuc2hpZnQoKTtlLmNhbGwobixyKX1lbHNlIGUuX3NldHRsZVByb21pc2VzKCl9fSxpLnByb3RvdHlwZS5fZHJhaW5RdWV1ZXM9ZnVuY3Rpb24oKXt0aGlzLl9kcmFpblF1ZXVlKHRoaXMuX25vcm1hbFF1ZXVlKSx0aGlzLl9yZXNldCgpLHRoaXMuX2hhdmVEcmFpbmVkUXVldWVzPSEwLHRoaXMuX2RyYWluUXVldWUodGhpcy5fbGF0ZVF1ZXVlKX0saS5wcm90b3R5cGUuX3F1ZXVlVGljaz1mdW5jdGlvbigpe3RoaXMuX2lzVGlja1VzZWR8fCh0aGlzLl9pc1RpY2tVc2VkPSEwLHRoaXMuX3NjaGVkdWxlKHRoaXMuZHJhaW5RdWV1ZXMpKX0saS5wcm90b3R5cGUuX3Jlc2V0PWZ1bmN0aW9uKCl7dGhpcy5faXNUaWNrVXNlZD0hMX0sbi5leHBvcnRzPWksbi5leHBvcnRzLmZpcnN0TGluZUVycm9yPWN9LHtcIi4vcXVldWVcIjoyNixcIi4vc2NoZWR1bGVcIjoyOSxcIi4vdXRpbFwiOjM2fV0sMzpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT0hMSxvPWZ1bmN0aW9uKHQsZSl7dGhpcy5fcmVqZWN0KGUpfSxzPWZ1bmN0aW9uKHQsZSl7ZS5wcm9taXNlUmVqZWN0aW9uUXVldWVkPSEwLGUuYmluZGluZ1Byb21pc2UuX3RoZW4obyxvLG51bGwsdGhpcyx0KX0sYT1mdW5jdGlvbih0LGUpezA9PT0oNTAzOTcxODQmdGhpcy5fYml0RmllbGQpJiZ0aGlzLl9yZXNvbHZlQ2FsbGJhY2soZS50YXJnZXQpfSxjPWZ1bmN0aW9uKHQsZSl7ZS5wcm9taXNlUmVqZWN0aW9uUXVldWVkfHx0aGlzLl9yZWplY3QodCl9O3QucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24obyl7aXx8KGk9ITAsdC5wcm90b3R5cGUuX3Byb3BhZ2F0ZUZyb209ci5wcm9wYWdhdGVGcm9tRnVuY3Rpb24oKSx0LnByb3RvdHlwZS5fYm91bmRWYWx1ZT1yLmJvdW5kVmFsdWVGdW5jdGlvbigpKTt2YXIgdT1uKG8pLGw9bmV3IHQoZSk7bC5fcHJvcGFnYXRlRnJvbSh0aGlzLDEpO3ZhciBmPXRoaXMuX3RhcmdldCgpO2lmKGwuX3NldEJvdW5kVG8odSksdSBpbnN0YW5jZW9mIHQpe3ZhciBwPXtwcm9taXNlUmVqZWN0aW9uUXVldWVkOiExLHByb21pc2U6bCx0YXJnZXQ6ZixiaW5kaW5nUHJvbWlzZTp1fTtmLl90aGVuKGUscyx2b2lkIDAsbCxwKSx1Ll90aGVuKGEsYyx2b2lkIDAsbCxwKSxsLl9zZXRPbkNhbmNlbCh1KX1lbHNlIGwuX3Jlc29sdmVDYWxsYmFjayhmKTtyZXR1cm4gbH0sdC5wcm90b3R5cGUuX3NldEJvdW5kVG89ZnVuY3Rpb24odCl7dm9pZCAwIT09dD8odGhpcy5fYml0RmllbGQ9MjA5NzE1Mnx0aGlzLl9iaXRGaWVsZCx0aGlzLl9ib3VuZFRvPXQpOnRoaXMuX2JpdEZpZWxkPS0yMDk3MTUzJnRoaXMuX2JpdEZpZWxkfSx0LnByb3RvdHlwZS5faXNCb3VuZD1mdW5jdGlvbigpe3JldHVybiAyMDk3MTUyPT09KDIwOTcxNTImdGhpcy5fYml0RmllbGQpfSx0LmJpbmQ9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5yZXNvbHZlKG4pLmJpbmQoZSl9fX0se31dLDQ6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKCl7dHJ5e1Byb21pc2U9PT1vJiYoUHJvbWlzZT1pKX1jYXRjaCh0KXt9cmV0dXJuIG99dmFyIGk7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFByb21pc2UmJihpPVByb21pc2UpO3ZhciBvPXQoXCIuL3Byb21pc2VcIikoKTtvLm5vQ29uZmxpY3Q9cixlLmV4cG9ydHM9b30se1wiLi9wcm9taXNlXCI6MjJ9XSw1OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9T2JqZWN0LmNyZWF0ZTtpZihyKXt2YXIgaT1yKG51bGwpLG89cihudWxsKTtpW1wiIHNpemVcIl09b1tcIiBzaXplXCJdPTB9ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4odCxuKXt2YXIgcjtpZihudWxsIT10JiYocj10W25dKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiByKXt2YXIgaT1cIk9iamVjdCBcIithLmNsYXNzU3RyaW5nKHQpK1wiIGhhcyBubyBtZXRob2QgJ1wiK2EudG9TdHJpbmcobikrXCInXCI7dGhyb3cgbmV3IGUuVHlwZUVycm9yKGkpfXJldHVybiByfWZ1bmN0aW9uIHIodCl7dmFyIGU9dGhpcy5wb3AoKSxyPW4odCxlKTtyZXR1cm4gci5hcHBseSh0LHRoaXMpfWZ1bmN0aW9uIGkodCl7cmV0dXJuIHRbdGhpc119ZnVuY3Rpb24gbyh0KXt2YXIgZT0rdGhpcztyZXR1cm4gMD5lJiYoZT1NYXRoLm1heCgwLGUrdC5sZW5ndGgpKSx0W2VdfXZhciBzLGE9dChcIi4vdXRpbFwiKSxjPWEuY2FuRXZhbHVhdGU7YS5pc0lkZW50aWZpZXI7ZS5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbih0KXt2YXIgZT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZS5wdXNoKHQpLHRoaXMuX3RoZW4ocix2b2lkIDAsdm9pZCAwLGUsdm9pZCAwKX0sZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlLG49XCJudW1iZXJcIj09dHlwZW9mIHQ7aWYobillPW87ZWxzZSBpZihjKXt2YXIgcj1zKHQpO2U9bnVsbCE9PXI/cjppfWVsc2UgZT1pO3JldHVybiB0aGlzLl90aGVuKGUsdm9pZCAwLHZvaWQgMCx0LHZvaWQgMCl9fX0se1wiLi91dGlsXCI6MzZ9XSw2OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyLGkpe3ZhciBvPXQoXCIuL3V0aWxcIikscz1vLnRyeUNhdGNoLGE9by5lcnJvck9iaixjPWUuX2FzeW5jO2UucHJvdG90eXBlW1wiYnJlYWtcIl09ZS5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKCl7aWYoIWkuY2FuY2VsbGF0aW9uKCkpcmV0dXJuIHRoaXMuX3dhcm4oXCJjYW5jZWxsYXRpb24gaXMgZGlzYWJsZWRcIik7Zm9yKHZhciB0PXRoaXMsZT10O3QuX2lzQ2FuY2VsbGFibGUoKTspe2lmKCF0Ll9jYW5jZWxCeShlKSl7ZS5faXNGb2xsb3dpbmcoKT9lLl9mb2xsb3dlZSgpLmNhbmNlbCgpOmUuX2NhbmNlbEJyYW5jaGVkKCk7YnJlYWt9dmFyIG49dC5fY2FuY2VsbGF0aW9uUGFyZW50O2lmKG51bGw9PW58fCFuLl9pc0NhbmNlbGxhYmxlKCkpe3QuX2lzRm9sbG93aW5nKCk/dC5fZm9sbG93ZWUoKS5jYW5jZWwoKTp0Ll9jYW5jZWxCcmFuY2hlZCgpO2JyZWFrfXQuX2lzRm9sbG93aW5nKCkmJnQuX2ZvbGxvd2VlKCkuY2FuY2VsKCksdC5fc2V0V2lsbEJlQ2FuY2VsbGVkKCksZT10LHQ9bn19LGUucHJvdG90eXBlLl9icmFuY2hIYXNDYW5jZWxsZWQ9ZnVuY3Rpb24oKXt0aGlzLl9icmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsLS19LGUucHJvdG90eXBlLl9lbm91Z2hCcmFuY2hlc0hhdmVDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5fYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbHx8dGhpcy5fYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbDw9MH0sZS5wcm90b3R5cGUuX2NhbmNlbEJ5PWZ1bmN0aW9uKHQpe3JldHVybiB0PT09dGhpcz8odGhpcy5fYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbD0wLHRoaXMuX2ludm9rZU9uQ2FuY2VsKCksITApOih0aGlzLl9icmFuY2hIYXNDYW5jZWxsZWQoKSx0aGlzLl9lbm91Z2hCcmFuY2hlc0hhdmVDYW5jZWxsZWQoKT8odGhpcy5faW52b2tlT25DYW5jZWwoKSwhMCk6ITEpfSxlLnByb3RvdHlwZS5fY2FuY2VsQnJhbmNoZWQ9ZnVuY3Rpb24oKXt0aGlzLl9lbm91Z2hCcmFuY2hlc0hhdmVDYW5jZWxsZWQoKSYmdGhpcy5fY2FuY2VsKCl9LGUucHJvdG90eXBlLl9jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLl9pc0NhbmNlbGxhYmxlKCkmJih0aGlzLl9zZXRDYW5jZWxsZWQoKSxjLmludm9rZSh0aGlzLl9jYW5jZWxQcm9taXNlcyx0aGlzLHZvaWQgMCkpfSxlLnByb3RvdHlwZS5fY2FuY2VsUHJvbWlzZXM9ZnVuY3Rpb24oKXt0aGlzLl9sZW5ndGgoKT4wJiZ0aGlzLl9zZXR0bGVQcm9taXNlcygpfSxlLnByb3RvdHlwZS5fdW5zZXRPbkNhbmNlbD1mdW5jdGlvbigpe3RoaXMuX29uQ2FuY2VsRmllbGQ9dm9pZCAwfSxlLnByb3RvdHlwZS5faXNDYW5jZWxsYWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzUGVuZGluZygpJiYhdGhpcy5faXNDYW5jZWxsZWQoKX0sZS5wcm90b3R5cGUuaXNDYW5jZWxsYWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzUGVuZGluZygpJiYhdGhpcy5pc0NhbmNlbGxlZCgpfSxlLnByb3RvdHlwZS5fZG9JbnZva2VPbkNhbmNlbD1mdW5jdGlvbih0LGUpe2lmKG8uaXNBcnJheSh0KSlmb3IodmFyIG49MDtuPHQubGVuZ3RoOysrbil0aGlzLl9kb0ludm9rZU9uQ2FuY2VsKHRbbl0sZSk7ZWxzZSBpZih2b2lkIDAhPT10KWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpe2lmKCFlKXt2YXIgcj1zKHQpLmNhbGwodGhpcy5fYm91bmRWYWx1ZSgpKTtyPT09YSYmKHRoaXMuX2F0dGFjaEV4dHJhVHJhY2Uoci5lKSxjLnRocm93TGF0ZXIoci5lKSl9fWVsc2UgdC5fcmVzdWx0Q2FuY2VsbGVkKHRoaXMpfSxlLnByb3RvdHlwZS5faW52b2tlT25DYW5jZWw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9vbkNhbmNlbCgpO3RoaXMuX3Vuc2V0T25DYW5jZWwoKSxjLmludm9rZSh0aGlzLl9kb0ludm9rZU9uQ2FuY2VsLHRoaXMsdCl9LGUucHJvdG90eXBlLl9pbnZva2VJbnRlcm5hbE9uQ2FuY2VsPWZ1bmN0aW9uKCl7dGhpcy5faXNDYW5jZWxsYWJsZSgpJiYodGhpcy5fZG9JbnZva2VPbkNhbmNlbCh0aGlzLl9vbkNhbmNlbCgpLCEwKSx0aGlzLl91bnNldE9uQ2FuY2VsKCkpfSxlLnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkPWZ1bmN0aW9uKCl7dGhpcy5jYW5jZWwoKX19fSx7XCIuL3V0aWxcIjozNn1dLDc6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbih0LG4sYSl7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciB1PWEuX2JvdW5kVmFsdWUoKTt0OmZvcih2YXIgbD0wO2w8dC5sZW5ndGg7KytsKXt2YXIgZj10W2xdO2lmKGY9PT1FcnJvcnx8bnVsbCE9ZiYmZi5wcm90b3R5cGUgaW5zdGFuY2VvZiBFcnJvcil7aWYoYyBpbnN0YW5jZW9mIGYpcmV0dXJuIG8obikuY2FsbCh1LGMpfWVsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZil7dmFyIHA9byhmKS5jYWxsKHUsYyk7aWYocD09PXMpcmV0dXJuIHA7aWYocClyZXR1cm4gbyhuKS5jYWxsKHUsYyl9ZWxzZSBpZihyLmlzT2JqZWN0KGMpKXtmb3IodmFyIGg9aShmKSxkPTA7ZDxoLmxlbmd0aDsrK2Qpe3ZhciBfPWhbZF07aWYoZltfXSE9Y1tfXSljb250aW51ZSB0fXJldHVybiBvKG4pLmNhbGwodSxjKX19cmV0dXJuIGV9fXZhciByPXQoXCIuL3V0aWxcIiksaT10KFwiLi9lczVcIikua2V5cyxvPXIudHJ5Q2F0Y2gscz1yLmVycm9yT2JqO3JldHVybiBufX0se1wiLi9lczVcIjoxMyxcIi4vdXRpbFwiOjM2fV0sODpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dGhpcy5fdHJhY2U9bmV3IGUuQ2FwdHVyZWRUcmFjZShyKCkpfWZ1bmN0aW9uIG4oKXtyZXR1cm4gaT9uZXcgZTp2b2lkIDB9ZnVuY3Rpb24gcigpe3ZhciB0PW8ubGVuZ3RoLTE7cmV0dXJuIHQ+PTA/b1t0XTp2b2lkIDB9dmFyIGk9ITEsbz1bXTtyZXR1cm4gdC5wcm90b3R5cGUuX3Byb21pc2VDcmVhdGVkPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5fcHVzaENvbnRleHQ9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLl9wb3BDb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LHQuX3BlZWtDb250ZXh0PXQucHJvdG90eXBlLl9wZWVrQ29udGV4dD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuX3B1c2hDb250ZXh0PWZ1bmN0aW9uKCl7dm9pZCAwIT09dGhpcy5fdHJhY2UmJih0aGlzLl90cmFjZS5fcHJvbWlzZUNyZWF0ZWQ9bnVsbCxvLnB1c2godGhpcy5fdHJhY2UpKX0sZS5wcm90b3R5cGUuX3BvcENvbnRleHQ9ZnVuY3Rpb24oKXtpZih2b2lkIDAhPT10aGlzLl90cmFjZSl7dmFyIHQ9by5wb3AoKSxlPXQuX3Byb21pc2VDcmVhdGVkO3JldHVybiB0Ll9wcm9taXNlQ3JlYXRlZD1udWxsLGV9cmV0dXJuIG51bGx9LGUuQ2FwdHVyZWRUcmFjZT1udWxsLGUuY3JlYXRlPW4sZS5kZWFjdGl2YXRlTG9uZ1N0YWNrVHJhY2VzPWZ1bmN0aW9uKCl7fSxlLmFjdGl2YXRlTG9uZ1N0YWNrVHJhY2VzPWZ1bmN0aW9uKCl7dmFyIG49dC5wcm90b3R5cGUuX3B1c2hDb250ZXh0LG89dC5wcm90b3R5cGUuX3BvcENvbnRleHQscz10Ll9wZWVrQ29udGV4dCxhPXQucHJvdG90eXBlLl9wZWVrQ29udGV4dCxjPXQucHJvdG90eXBlLl9wcm9taXNlQ3JlYXRlZDtlLmRlYWN0aXZhdGVMb25nU3RhY2tUcmFjZXM9ZnVuY3Rpb24oKXt0LnByb3RvdHlwZS5fcHVzaENvbnRleHQ9bix0LnByb3RvdHlwZS5fcG9wQ29udGV4dD1vLHQuX3BlZWtDb250ZXh0PXMsdC5wcm90b3R5cGUuX3BlZWtDb250ZXh0PWEsdC5wcm90b3R5cGUuX3Byb21pc2VDcmVhdGVkPWMsaT0hMX0saT0hMCx0LnByb3RvdHlwZS5fcHVzaENvbnRleHQ9ZS5wcm90b3R5cGUuX3B1c2hDb250ZXh0LHQucHJvdG90eXBlLl9wb3BDb250ZXh0PWUucHJvdG90eXBlLl9wb3BDb250ZXh0LHQuX3BlZWtDb250ZXh0PXQucHJvdG90eXBlLl9wZWVrQ29udGV4dD1yLHQucHJvdG90eXBlLl9wcm9taXNlQ3JlYXRlZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3BlZWtDb250ZXh0KCk7dCYmbnVsbD09dC5fcHJvbWlzZUNyZWF0ZWQmJih0Ll9wcm9taXNlQ3JlYXRlZD10aGlzKX19LGV9fSx7fV0sOTpbZnVuY3Rpb24odCxuLHIpe1widXNlIHN0cmljdFwiO24uZXhwb3J0cz1mdW5jdGlvbihuLHIpe2Z1bmN0aW9uIGkodCxlKXtyZXR1cm57cHJvbWlzZTplfX1mdW5jdGlvbiBvKCl7cmV0dXJuITF9ZnVuY3Rpb24gcyh0LGUsbil7dmFyIHI9dGhpczt0cnl7dChlLG4sZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwib25DYW5jZWwgbXVzdCBiZSBhIGZ1bmN0aW9uLCBnb3Q6IFwiK1YudG9TdHJpbmcodCkpO3IuX2F0dGFjaENhbmNlbGxhdGlvbkNhbGxiYWNrKHQpfSl9Y2F0Y2goaSl7cmV0dXJuIGl9fWZ1bmN0aW9uIGEodCl7aWYoIXRoaXMuX2lzQ2FuY2VsbGFibGUoKSlyZXR1cm4gdGhpczt2YXIgZT10aGlzLl9vbkNhbmNlbCgpO3ZvaWQgMCE9PWU/Vi5pc0FycmF5KGUpP2UucHVzaCh0KTp0aGlzLl9zZXRPbkNhbmNlbChbZSx0XSk6dGhpcy5fc2V0T25DYW5jZWwodCl9ZnVuY3Rpb24gYygpe3JldHVybiB0aGlzLl9vbkNhbmNlbEZpZWxkfWZ1bmN0aW9uIHUodCl7dGhpcy5fb25DYW5jZWxGaWVsZD10fWZ1bmN0aW9uIGwoKXt0aGlzLl9jYW5jZWxsYXRpb25QYXJlbnQ9dm9pZCAwLHRoaXMuX29uQ2FuY2VsRmllbGQ9dm9pZCAwfWZ1bmN0aW9uIGYodCxlKXtpZigwIT09KDEmZSkpe3RoaXMuX2NhbmNlbGxhdGlvblBhcmVudD10O3ZhciBuPXQuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWw7dm9pZCAwPT09biYmKG49MCksdC5fYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbD1uKzF9MCE9PSgyJmUpJiZ0Ll9pc0JvdW5kKCkmJnRoaXMuX3NldEJvdW5kVG8odC5fYm91bmRUbyl9ZnVuY3Rpb24gcCh0LGUpezAhPT0oMiZlKSYmdC5faXNCb3VuZCgpJiZ0aGlzLl9zZXRCb3VuZFRvKHQuX2JvdW5kVG8pfWZ1bmN0aW9uIGgoKXt2YXIgdD10aGlzLl9ib3VuZFRvO3JldHVybiB2b2lkIDAhPT10JiZ0IGluc3RhbmNlb2Ygbj90LmlzRnVsZmlsbGVkKCk/dC52YWx1ZSgpOnZvaWQgMDp0fWZ1bmN0aW9uIGQoKXt0aGlzLl90cmFjZT1uZXcgUih0aGlzLl9wZWVrQ29udGV4dCgpKX1mdW5jdGlvbiBfKHQsZSl7aWYoQih0KSl7dmFyIG49dGhpcy5fdHJhY2U7aWYodm9pZCAwIT09biYmZSYmKG49bi5fcGFyZW50KSx2b2lkIDAhPT1uKW4uYXR0YWNoRXh0cmFUcmFjZSh0KTtlbHNlIGlmKCF0Ll9fc3RhY2tDbGVhbmVkX18pe3ZhciByPWsodCk7Vi5ub3RFbnVtZXJhYmxlUHJvcCh0LFwic3RhY2tcIixyLm1lc3NhZ2UrXCJcXG5cIityLnN0YWNrLmpvaW4oXCJcXG5cIikpLFYubm90RW51bWVyYWJsZVByb3AodCxcIl9fc3RhY2tDbGVhbmVkX19cIiwhMCl9fX1mdW5jdGlvbiB2KHQsZSxuLHIsaSl7aWYodm9pZCAwPT09dCYmbnVsbCE9PWUmJkspe2lmKHZvaWQgMCE9PWkmJmkuX3JldHVybmVkTm9uVW5kZWZpbmVkKCkpcmV0dXJuO2lmKDA9PT0oNjU1MzUmci5fYml0RmllbGQpKXJldHVybjtuJiYobis9XCIgXCIpO3ZhciBvPVwiXCIscz1cIlwiO2lmKGUuX3RyYWNlKXtmb3IodmFyIGE9ZS5fdHJhY2Uuc3RhY2suc3BsaXQoXCJcXG5cIiksYz1FKGEpLHU9Yy5sZW5ndGgtMTt1Pj0wOy0tdSl7dmFyIGw9Y1t1XTtpZighSC50ZXN0KGwpKXt2YXIgZj1sLm1hdGNoKHEpO2YmJihvPVwiYXQgXCIrZlsxXStcIjpcIitmWzJdK1wiOlwiK2ZbM10rXCIgXCIpO2JyZWFrfX1pZihjLmxlbmd0aD4wKWZvcih2YXIgcD1jWzBdLHU9MDt1PGEubGVuZ3RoOysrdSlpZihhW3VdPT09cCl7dT4wJiYocz1cIlxcblwiK2FbdS0xXSk7YnJlYWt9fXZhciBoPVwiYSBwcm9taXNlIHdhcyBjcmVhdGVkIGluIGEgXCIrbitcImhhbmRsZXIgXCIrbytcImJ1dCB3YXMgbm90IHJldHVybmVkIGZyb20gaXQsIHNlZSBodHRwOi8vZ29vLmdsL3JScU1Vd1wiK3M7ci5fd2FybihoLCEwLGUpfX1mdW5jdGlvbiB5KHQsZSl7dmFyIG49dCtcIiBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgdmVyc2lvbi5cIjtyZXR1cm4gZSYmKG4rPVwiIFVzZSBcIitlK1wiIGluc3RlYWQuXCIpLG0obil9ZnVuY3Rpb24gbSh0LGUscil7aWYoc3Qud2FybmluZ3Mpe3ZhciBpLG89bmV3IEwodCk7aWYoZSlyLl9hdHRhY2hFeHRyYVRyYWNlKG8pO2Vsc2UgaWYoc3QubG9uZ1N0YWNrVHJhY2VzJiYoaT1uLl9wZWVrQ29udGV4dCgpKSlpLmF0dGFjaEV4dHJhVHJhY2Uobyk7ZWxzZXt2YXIgcz1rKG8pO28uc3RhY2s9cy5tZXNzYWdlK1wiXFxuXCIrcy5zdGFjay5qb2luKFwiXFxuXCIpfWV0KFwid2FybmluZ1wiLG8pfHxqKG8sXCJcIiwhMCl9fWZ1bmN0aW9uIGcodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoLTE7KytuKWVbbl0ucHVzaChcIkZyb20gcHJldmlvdXMgZXZlbnQ6XCIpLGVbbl09ZVtuXS5qb2luKFwiXFxuXCIpO3JldHVybiBuPGUubGVuZ3RoJiYoZVtuXT1lW25dLmpvaW4oXCJcXG5cIikpLHQrXCJcXG5cIitlLmpvaW4oXCJcXG5cIil9ZnVuY3Rpb24gYih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoOysrZSkoMD09PXRbZV0ubGVuZ3RofHxlKzE8dC5sZW5ndGgmJnRbZV1bMF09PT10W2UrMV1bMF0pJiYodC5zcGxpY2UoZSwxKSxlLS0pfWZ1bmN0aW9uIHcodCl7Zm9yKHZhciBlPXRbMF0sbj0xO248dC5sZW5ndGg7KytuKXtmb3IodmFyIHI9dFtuXSxpPWUubGVuZ3RoLTEsbz1lW2ldLHM9LTEsYT1yLmxlbmd0aC0xO2E+PTA7LS1hKWlmKHJbYV09PT1vKXtzPWE7YnJlYWt9Zm9yKHZhciBhPXM7YT49MDstLWEpe3ZhciBjPXJbYV07aWYoZVtpXSE9PWMpYnJlYWs7ZS5wb3AoKSxpLS19ZT1yfX1mdW5jdGlvbiBFKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0Lmxlbmd0aDsrK24pe3ZhciByPXRbbl0saT1cIiAgICAoTm8gc3RhY2sgdHJhY2UpXCI9PT1yfHxRLnRlc3Qociksbz1pJiZydChyKTtpJiYhbyYmKHomJlwiIFwiIT09ci5jaGFyQXQoMCkmJihyPVwiICAgIFwiK3IpLGUucHVzaChyKSl9cmV0dXJuIGV9ZnVuY3Rpb24gQyh0KXtmb3IodmFyIGU9dC5zdGFjay5yZXBsYWNlKC9cXHMrJC9nLFwiXCIpLnNwbGl0KFwiXFxuXCIpLG49MDtuPGUubGVuZ3RoOysrbil7dmFyIHI9ZVtuXTtpZihcIiAgICAoTm8gc3RhY2sgdHJhY2UpXCI9PT1yfHxRLnRlc3QocikpYnJlYWt9cmV0dXJuIG4+MCYmKGU9ZS5zbGljZShuKSksZX1mdW5jdGlvbiBrKHQpe3ZhciBlPXQuc3RhY2ssbj10LnRvU3RyaW5nKCk7cmV0dXJuIGU9XCJzdHJpbmdcIj09dHlwZW9mIGUmJmUubGVuZ3RoPjA/Qyh0KTpbXCIgICAgKE5vIHN0YWNrIHRyYWNlKVwiXSx7bWVzc2FnZTpuLHN0YWNrOkUoZSl9fWZ1bmN0aW9uIGoodCxlLG4pe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlKXt2YXIgcjtpZihWLmlzT2JqZWN0KHQpKXt2YXIgaT10LnN0YWNrO3I9ZSskKGksdCl9ZWxzZSByPWUrU3RyaW5nKHQpO1wiZnVuY3Rpb25cIj09dHlwZW9mIEQ/RChyLG4pOlwiZnVuY3Rpb25cIiE9dHlwZW9mIGNvbnNvbGUubG9nJiZcIm9iamVjdFwiIT10eXBlb2YgY29uc29sZS5sb2d8fGNvbnNvbGUubG9nKHIpfX1mdW5jdGlvbiB4KHQsZSxuLHIpe3ZhciBpPSExO3RyeXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYoaT0hMCxcInJlamVjdGlvbkhhbmRsZWRcIj09PXQ/ZShyKTplKG4scikpfWNhdGNoKG8pe04udGhyb3dMYXRlcihvKX1cInVuaGFuZGxlZFJlamVjdGlvblwiPT09dD9ldCh0LG4scil8fGl8fGoobixcIlVuaGFuZGxlZCByZWplY3Rpb24gXCIpOmV0KHQscil9ZnVuY3Rpb24gRih0KXt2YXIgZTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KWU9XCJbZnVuY3Rpb24gXCIrKHQubmFtZXx8XCJhbm9ueW1vdXNcIikrXCJdXCI7ZWxzZXtlPXQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQudG9TdHJpbmc/dC50b1N0cmluZygpOlYudG9TdHJpbmcodCk7dmFyIG49L1xcW29iamVjdCBbYS16QS1aMC05JF9dK1xcXS87aWYobi50ZXN0KGUpKXRyeXt2YXIgcj1KU09OLnN0cmluZ2lmeSh0KTtlPXJ9Y2F0Y2goaSl7fTA9PT1lLmxlbmd0aCYmKGU9XCIoZW1wdHkgYXJyYXkpXCIpfXJldHVyblwiKDxcIitUKGUpK1wiPiwgbm8gc3RhY2sgdHJhY2UpXCJ9ZnVuY3Rpb24gVCh0KXt2YXIgZT00MTtyZXR1cm4gdC5sZW5ndGg8ZT90OnQuc3Vic3RyKDAsZS0zKStcIi4uLlwifWZ1bmN0aW9uIFMoKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBvdH1mdW5jdGlvbiBQKHQpe3ZhciBlPXQubWF0Y2goaXQpO3JldHVybiBlP3tmaWxlTmFtZTplWzFdLGxpbmU6cGFyc2VJbnQoZVsyXSwxMCl9OnZvaWQgMH1mdW5jdGlvbiBPKHQsZSl7aWYoUygpKXtmb3IodmFyIG4scixpPXQuc3RhY2suc3BsaXQoXCJcXG5cIiksbz1lLnN0YWNrLnNwbGl0KFwiXFxuXCIpLHM9LTEsYT0tMSxjPTA7YzxpLmxlbmd0aDsrK2Mpe3ZhciB1PVAoaVtjXSk7aWYodSl7bj11LmZpbGVOYW1lLHM9dS5saW5lO2JyZWFrfX1mb3IodmFyIGM9MDtjPG8ubGVuZ3RoOysrYyl7dmFyIHU9UChvW2NdKTtpZih1KXtyPXUuZmlsZU5hbWUsYT11LmxpbmU7YnJlYWt9fTA+c3x8MD5hfHwhbnx8IXJ8fG4hPT1yfHxzPj1hfHwocnQ9ZnVuY3Rpb24odCl7aWYoTS50ZXN0KHQpKXJldHVybiEwO3ZhciBlPVAodCk7cmV0dXJuISEoZSYmZS5maWxlTmFtZT09PW4mJnM8PWUubGluZSYmZS5saW5lPD1hKX0pfX1mdW5jdGlvbiBSKHQpe3RoaXMuX3BhcmVudD10LHRoaXMuX3Byb21pc2VzQ3JlYXRlZD0wO3ZhciBlPXRoaXMuX2xlbmd0aD0xKyh2b2lkIDA9PT10PzA6dC5fbGVuZ3RoKTtvdCh0aGlzLFIpLGU+MzImJnRoaXMudW5jeWNsZSgpfXZhciBBLEksRCxVPW4uX2dldERvbWFpbixOPW4uX2FzeW5jLEw9dChcIi4vZXJyb3JzXCIpLldhcm5pbmcsVj10KFwiLi91dGlsXCIpLEI9Vi5jYW5BdHRhY2hUcmFjZSxNPS9bXFxcXFxcL11ibHVlYmlyZFtcXFxcXFwvXWpzW1xcXFxcXC9dKHJlbGVhc2V8ZGVidWd8aW5zdHJ1bWVudGVkKS8sSD0vXFwoKD86dGltZXJzXFwuanMpOlxcZCs6XFxkK1xcKS8scT0vW1xcLzxcXChdKC4rPyk6KFxcZCspOihcXGQrKVxcKT9cXHMqJC8sUT1udWxsLCQ9bnVsbCx6PSExLEc9ISgwPT1WLmVudihcIkJMVUVCSVJEX0RFQlVHXCIpKSxXPSEoMD09Vi5lbnYoXCJCTFVFQklSRF9XQVJOSU5HU1wiKXx8IUcmJiFWLmVudihcIkJMVUVCSVJEX1dBUk5JTkdTXCIpKSxYPSEoMD09Vi5lbnYoXCJCTFVFQklSRF9MT05HX1NUQUNLX1RSQUNFU1wiKXx8IUcmJiFWLmVudihcIkJMVUVCSVJEX0xPTkdfU1RBQ0tfVFJBQ0VTXCIpKSxLPTAhPVYuZW52KFwiQkxVRUJJUkRfV19GT1JHT1RURU5fUkVUVVJOXCIpJiYoV3x8ISFWLmVudihcIkJMVUVCSVJEX1dfRk9SR09UVEVOX1JFVFVSTlwiKSk7bi5wcm90b3R5cGUuc3VwcHJlc3NVbmhhbmRsZWRSZWplY3Rpb25zPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdGFyZ2V0KCk7dC5fYml0RmllbGQ9LTEwNDg1NzcmdC5fYml0RmllbGR8NTI0Mjg4fSxuLnByb3RvdHlwZS5fZW5zdXJlUG9zc2libGVSZWplY3Rpb25IYW5kbGVkPWZ1bmN0aW9uKCl7MD09PSg1MjQyODgmdGhpcy5fYml0RmllbGQpJiYodGhpcy5fc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQoKSxOLmludm9rZUxhdGVyKHRoaXMuX25vdGlmeVVuaGFuZGxlZFJlamVjdGlvbix0aGlzLHZvaWQgMCkpfSxuLnByb3RvdHlwZS5fbm90aWZ5VW5oYW5kbGVkUmVqZWN0aW9uSXNIYW5kbGVkPWZ1bmN0aW9uKCl7eChcInJlamVjdGlvbkhhbmRsZWRcIixBLHZvaWQgMCx0aGlzKX0sbi5wcm90b3R5cGUuX3NldFJldHVybmVkTm9uVW5kZWZpbmVkPWZ1bmN0aW9uKCl7dGhpcy5fYml0RmllbGQ9MjY4NDM1NDU2fHRoaXMuX2JpdEZpZWxkfSxuLnByb3RvdHlwZS5fcmV0dXJuZWROb25VbmRlZmluZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PSgyNjg0MzU0NTYmdGhpcy5fYml0RmllbGQpfSxuLnByb3RvdHlwZS5fbm90aWZ5VW5oYW5kbGVkUmVqZWN0aW9uPWZ1bmN0aW9uKCl7aWYodGhpcy5faXNSZWplY3Rpb25VbmhhbmRsZWQoKSl7dmFyIHQ9dGhpcy5fc2V0dGxlZFZhbHVlKCk7dGhpcy5fc2V0VW5oYW5kbGVkUmVqZWN0aW9uSXNOb3RpZmllZCgpLHgoXCJ1bmhhbmRsZWRSZWplY3Rpb25cIixJLHQsdGhpcyl9fSxuLnByb3RvdHlwZS5fc2V0VW5oYW5kbGVkUmVqZWN0aW9uSXNOb3RpZmllZD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPTI2MjE0NHx0aGlzLl9iaXRGaWVsZH0sbi5wcm90b3R5cGUuX3Vuc2V0VW5oYW5kbGVkUmVqZWN0aW9uSXNOb3RpZmllZD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPS0yNjIxNDUmdGhpcy5fYml0RmllbGR9LG4ucHJvdG90eXBlLl9pc1VuaGFuZGxlZFJlamVjdGlvbk5vdGlmaWVkPWZ1bmN0aW9uKCl7cmV0dXJuKDI2MjE0NCZ0aGlzLl9iaXRGaWVsZCk+MH0sbi5wcm90b3R5cGUuX3NldFJlamVjdGlvbklzVW5oYW5kbGVkPWZ1bmN0aW9uKCl7dGhpcy5fYml0RmllbGQ9MTA0ODU3Nnx0aGlzLl9iaXRGaWVsZH0sbi5wcm90b3R5cGUuX3Vuc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQ9ZnVuY3Rpb24oKXt0aGlzLl9iaXRGaWVsZD0tMTA0ODU3NyZ0aGlzLl9iaXRGaWVsZCx0aGlzLl9pc1VuaGFuZGxlZFJlamVjdGlvbk5vdGlmaWVkKCkmJih0aGlzLl91bnNldFVuaGFuZGxlZFJlamVjdGlvbklzTm90aWZpZWQoKSx0aGlzLl9ub3RpZnlVbmhhbmRsZWRSZWplY3Rpb25Jc0hhbmRsZWQoKSl9LG4ucHJvdG90eXBlLl9pc1JlamVjdGlvblVuaGFuZGxlZD1mdW5jdGlvbigpe3JldHVybigxMDQ4NTc2JnRoaXMuX2JpdEZpZWxkKT4wfSxuLnByb3RvdHlwZS5fd2Fybj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG0odCxlLG58fHRoaXMpfSxuLm9uUG9zc2libHlVbmhhbmRsZWRSZWplY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9VSgpO0k9XCJmdW5jdGlvblwiPT10eXBlb2YgdD9udWxsPT09ZT90OlYuZG9tYWluQmluZChlLHQpOnZvaWQgMH0sbi5vblVuaGFuZGxlZFJlamVjdGlvbkhhbmRsZWQ9ZnVuY3Rpb24odCl7dmFyIGU9VSgpO0E9XCJmdW5jdGlvblwiPT10eXBlb2YgdD9udWxsPT09ZT90OlYuZG9tYWluQmluZChlLHQpOnZvaWQgMH07dmFyIEo9ZnVuY3Rpb24oKXt9O24ubG9uZ1N0YWNrVHJhY2VzPWZ1bmN0aW9uKCl7aWYoTi5oYXZlSXRlbXNRdWV1ZWQoKSYmIXN0LmxvbmdTdGFja1RyYWNlcyl0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgZW5hYmxlIGxvbmcgc3RhY2sgdHJhY2VzIGFmdGVyIHByb21pc2VzIGhhdmUgYmVlbiBjcmVhdGVkXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKTtpZighc3QubG9uZ1N0YWNrVHJhY2VzJiZTKCkpe3ZhciB0PW4ucHJvdG90eXBlLl9jYXB0dXJlU3RhY2tUcmFjZSxlPW4ucHJvdG90eXBlLl9hdHRhY2hFeHRyYVRyYWNlO3N0LmxvbmdTdGFja1RyYWNlcz0hMCxKPWZ1bmN0aW9uKCl7aWYoTi5oYXZlSXRlbXNRdWV1ZWQoKSYmIXN0LmxvbmdTdGFja1RyYWNlcyl0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgZW5hYmxlIGxvbmcgc3RhY2sgdHJhY2VzIGFmdGVyIHByb21pc2VzIGhhdmUgYmVlbiBjcmVhdGVkXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKTtuLnByb3RvdHlwZS5fY2FwdHVyZVN0YWNrVHJhY2U9dCxuLnByb3RvdHlwZS5fYXR0YWNoRXh0cmFUcmFjZT1lLHIuZGVhY3RpdmF0ZUxvbmdTdGFja1RyYWNlcygpLE4uZW5hYmxlVHJhbXBvbGluZSgpLHN0LmxvbmdTdGFja1RyYWNlcz0hMX0sbi5wcm90b3R5cGUuX2NhcHR1cmVTdGFja1RyYWNlPWQsbi5wcm90b3R5cGUuX2F0dGFjaEV4dHJhVHJhY2U9XyxyLmFjdGl2YXRlTG9uZ1N0YWNrVHJhY2VzKCksTi5kaXNhYmxlVHJhbXBvbGluZUlmTmVjZXNzYXJ5KCl9fSxuLmhhc0xvbmdTdGFja1RyYWNlcz1mdW5jdGlvbigpe3JldHVybiBzdC5sb25nU3RhY2tUcmFjZXMmJlMoKX07dmFyIFk9ZnVuY3Rpb24oKXt0cnl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgQ3VzdG9tRXZlbnQpe3ZhciB0PW5ldyBDdXN0b21FdmVudChcIkN1c3RvbUV2ZW50XCIpO3JldHVybiBWLmdsb2JhbC5kaXNwYXRjaEV2ZW50KHQpLGZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IEN1c3RvbUV2ZW50KHQudG9Mb3dlckNhc2UoKSx7ZGV0YWlsOmUsY2FuY2VsYWJsZTohMH0pO3JldHVybiFWLmdsb2JhbC5kaXNwYXRjaEV2ZW50KG4pfX1pZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBFdmVudCl7dmFyIHQ9bmV3IEV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7cmV0dXJuIFYuZ2xvYmFsLmRpc3BhdGNoRXZlbnQodCksZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgRXZlbnQodC50b0xvd2VyQ2FzZSgpLHtjYW5jZWxhYmxlOiEwfSk7cmV0dXJuIG4uZGV0YWlsPWUsIVYuZ2xvYmFsLmRpc3BhdGNoRXZlbnQobil9fXZhciB0PWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7cmV0dXJuIHQuaW5pdEN1c3RvbUV2ZW50KFwidGVzdGluZ3RoZWV2ZW50XCIsITEsITAse30pLFYuZ2xvYmFsLmRpc3BhdGNoRXZlbnQodCksZnVuY3Rpb24odCxlKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFdmVudChcIkN1c3RvbUV2ZW50XCIpO3JldHVybiBuLmluaXRDdXN0b21FdmVudCh0LnRvTG93ZXJDYXNlKCksITEsITAsZSksIVYuZ2xvYmFsLmRpc3BhdGNoRXZlbnQobil9fWNhdGNoKGUpe31yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4hMX19KCksWj1mdW5jdGlvbigpe3JldHVybiBWLmlzTm9kZT9mdW5jdGlvbigpe3JldHVybiBlLmVtaXQuYXBwbHkoZSxhcmd1bWVudHMpfTpWLmdsb2JhbD9mdW5jdGlvbih0KXt2YXIgZT1cIm9uXCIrdC50b0xvd2VyQ2FzZSgpLG49Vi5nbG9iYWxbZV07cmV0dXJuIG4/KG4uYXBwbHkoVi5nbG9iYWwsW10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpLCEwKTohMX06ZnVuY3Rpb24oKXtyZXR1cm4hMX19KCksdHQ9e3Byb21pc2VDcmVhdGVkOmkscHJvbWlzZUZ1bGZpbGxlZDppLHByb21pc2VSZWplY3RlZDppLHByb21pc2VSZXNvbHZlZDppLHByb21pc2VDYW5jZWxsZWQ6aSxwcm9taXNlQ2hhaW5lZDpmdW5jdGlvbih0LGUsbil7cmV0dXJue3Byb21pc2U6ZSxjaGlsZDpufX0sd2FybmluZzpmdW5jdGlvbih0LGUpe3JldHVybnt3YXJuaW5nOmV9fSx1bmhhbmRsZWRSZWplY3Rpb246ZnVuY3Rpb24odCxlLG4pe3JldHVybntyZWFzb246ZSxwcm9taXNlOm59fSxyZWplY3Rpb25IYW5kbGVkOml9LGV0PWZ1bmN0aW9uKHQpe3ZhciBlPSExO3RyeXtlPVouYXBwbHkobnVsbCxhcmd1bWVudHMpfWNhdGNoKG4pe04udGhyb3dMYXRlcihuKSxlPSEwfXZhciByPSExO3RyeXtyPVkodCx0dFt0XS5hcHBseShudWxsLGFyZ3VtZW50cykpfWNhdGNoKG4pe04udGhyb3dMYXRlcihuKSxyPSEwfXJldHVybiByfHxlfTtuLmNvbmZpZz1mdW5jdGlvbih0KXtpZih0PU9iamVjdCh0KSxcImxvbmdTdGFja1RyYWNlc1wiaW4gdCYmKHQubG9uZ1N0YWNrVHJhY2VzP24ubG9uZ1N0YWNrVHJhY2VzKCk6IXQubG9uZ1N0YWNrVHJhY2VzJiZuLmhhc0xvbmdTdGFja1RyYWNlcygpJiZKKCkpLFwid2FybmluZ3NcImluIHQpe3ZhciBlPXQud2FybmluZ3M7c3Qud2FybmluZ3M9ISFlLEs9c3Qud2FybmluZ3MsVi5pc09iamVjdChlKSYmXCJ3Rm9yZ290dGVuUmV0dXJuXCJpbiBlJiYoSz0hIWUud0ZvcmdvdHRlblJldHVybil9aWYoXCJjYW5jZWxsYXRpb25cImluIHQmJnQuY2FuY2VsbGF0aW9uJiYhc3QuY2FuY2VsbGF0aW9uKXtpZihOLmhhdmVJdGVtc1F1ZXVlZCgpKXRocm93IG5ldyBFcnJvcihcImNhbm5vdCBlbmFibGUgY2FuY2VsbGF0aW9uIGFmdGVyIHByb21pc2VzIGFyZSBpbiB1c2VcIik7bi5wcm90b3R5cGUuX2NsZWFyQ2FuY2VsbGF0aW9uRGF0YT1sLG4ucHJvdG90eXBlLl9wcm9wYWdhdGVGcm9tPWYsbi5wcm90b3R5cGUuX29uQ2FuY2VsPWMsbi5wcm90b3R5cGUuX3NldE9uQ2FuY2VsPXUsbi5wcm90b3R5cGUuX2F0dGFjaENhbmNlbGxhdGlvbkNhbGxiYWNrPWEsbi5wcm90b3R5cGUuX2V4ZWN1dGU9cyxudD1mLHN0LmNhbmNlbGxhdGlvbj0hMH1cIm1vbml0b3JpbmdcImluIHQmJih0Lm1vbml0b3JpbmcmJiFzdC5tb25pdG9yaW5nPyhzdC5tb25pdG9yaW5nPSEwLG4ucHJvdG90eXBlLl9maXJlRXZlbnQ9ZXQpOiF0Lm1vbml0b3JpbmcmJnN0Lm1vbml0b3JpbmcmJihzdC5tb25pdG9yaW5nPSExLG4ucHJvdG90eXBlLl9maXJlRXZlbnQ9bykpfSxuLnByb3RvdHlwZS5fZmlyZUV2ZW50PW8sbi5wcm90b3R5cGUuX2V4ZWN1dGU9ZnVuY3Rpb24odCxlLG4pe3RyeXt0KGUsbil9Y2F0Y2gocil7cmV0dXJuIHJ9fSxuLnByb3RvdHlwZS5fb25DYW5jZWw9ZnVuY3Rpb24oKXt9LG4ucHJvdG90eXBlLl9zZXRPbkNhbmNlbD1mdW5jdGlvbih0KXt9LG4ucHJvdG90eXBlLl9hdHRhY2hDYW5jZWxsYXRpb25DYWxsYmFjaz1mdW5jdGlvbih0KXt9LG4ucHJvdG90eXBlLl9jYXB0dXJlU3RhY2tUcmFjZT1mdW5jdGlvbigpe30sbi5wcm90b3R5cGUuX2F0dGFjaEV4dHJhVHJhY2U9ZnVuY3Rpb24oKXt9LG4ucHJvdG90eXBlLl9jbGVhckNhbmNlbGxhdGlvbkRhdGE9ZnVuY3Rpb24oKXt9LG4ucHJvdG90eXBlLl9wcm9wYWdhdGVGcm9tPWZ1bmN0aW9uKHQsZSl7fTt2YXIgbnQ9cCxydD1mdW5jdGlvbigpe3JldHVybiExfSxpdD0vW1xcLzxcXChdKFteOlxcL10rKTooXFxkKyk6KD86XFxkKylcXCk/XFxzKiQvO1YuaW5oZXJpdHMoUixFcnJvciksci5DYXB0dXJlZFRyYWNlPVIsUi5wcm90b3R5cGUudW5jeWNsZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2xlbmd0aDtpZighKDI+dCkpe2Zvcih2YXIgZT1bXSxuPXt9LHI9MCxpPXRoaXM7dm9pZCAwIT09aTsrK3IpZS5wdXNoKGkpLGk9aS5fcGFyZW50O3Q9dGhpcy5fbGVuZ3RoPXI7Zm9yKHZhciByPXQtMTtyPj0wOy0tcil7dmFyIG89ZVtyXS5zdGFjazt2b2lkIDA9PT1uW29dJiYobltvXT1yKX1mb3IodmFyIHI9MDt0PnI7KytyKXt2YXIgcz1lW3JdLnN0YWNrLGE9bltzXTtpZih2b2lkIDAhPT1hJiZhIT09cil7YT4wJiYoZVthLTFdLl9wYXJlbnQ9dm9pZCAwLGVbYS0xXS5fbGVuZ3RoPTEpLGVbcl0uX3BhcmVudD12b2lkIDAsZVtyXS5fbGVuZ3RoPTE7dmFyIGM9cj4wP2Vbci0xXTp0aGlzO3QtMT5hPyhjLl9wYXJlbnQ9ZVthKzFdLGMuX3BhcmVudC51bmN5Y2xlKCksYy5fbGVuZ3RoPWMuX3BhcmVudC5fbGVuZ3RoKzEpOihjLl9wYXJlbnQ9dm9pZCAwLGMuX2xlbmd0aD0xKTtmb3IodmFyIHU9Yy5fbGVuZ3RoKzEsbD1yLTI7bD49MDstLWwpZVtsXS5fbGVuZ3RoPXUsdSsrO3JldHVybn19fX0sUi5wcm90b3R5cGUuYXR0YWNoRXh0cmFUcmFjZT1mdW5jdGlvbih0KXtpZighdC5fX3N0YWNrQ2xlYW5lZF9fKXt0aGlzLnVuY3ljbGUoKTtmb3IodmFyIGU9ayh0KSxuPWUubWVzc2FnZSxyPVtlLnN0YWNrXSxpPXRoaXM7dm9pZCAwIT09aTspci5wdXNoKEUoaS5zdGFjay5zcGxpdChcIlxcblwiKSkpLGk9aS5fcGFyZW50O3cociksYihyKSxWLm5vdEVudW1lcmFibGVQcm9wKHQsXCJzdGFja1wiLGcobixyKSksVi5ub3RFbnVtZXJhYmxlUHJvcCh0LFwiX19zdGFja0NsZWFuZWRfX1wiLCEwKX19O3ZhciBvdD1mdW5jdGlvbigpe3ZhciB0PS9eXFxzKmF0XFxzKi8sZT1mdW5jdGlvbih0LGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6dm9pZCAwIT09ZS5uYW1lJiZ2b2lkIDAhPT1lLm1lc3NhZ2U/ZS50b1N0cmluZygpOkYoZSl9O2lmKFwibnVtYmVyXCI9PXR5cGVvZiBFcnJvci5zdGFja1RyYWNlTGltaXQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKXtFcnJvci5zdGFja1RyYWNlTGltaXQrPTYsUT10LCQ9ZTt2YXIgbj1FcnJvci5jYXB0dXJlU3RhY2tUcmFjZTtyZXR1cm4gcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIE0udGVzdCh0KX0sZnVuY3Rpb24odCxlKXtFcnJvci5zdGFja1RyYWNlTGltaXQrPTYsbih0LGUpLEVycm9yLnN0YWNrVHJhY2VMaW1pdC09Nn19dmFyIHI9bmV3IEVycm9yO2lmKFwic3RyaW5nXCI9PXR5cGVvZiByLnN0YWNrJiZyLnN0YWNrLnNwbGl0KFwiXFxuXCIpWzBdLmluZGV4T2YoXCJzdGFja0RldGVjdGlvbkBcIik+PTApcmV0dXJuIFE9L0AvLCQ9ZSx6PSEwLGZ1bmN0aW9uKHQpe3Quc3RhY2s9KG5ldyBFcnJvcikuc3RhY2t9O3ZhciBpO3RyeXt0aHJvdyBuZXcgRXJyb3J9Y2F0Y2gobyl7aT1cInN0YWNrXCJpbiBvfXJldHVyblwic3RhY2tcImluIHJ8fCFpfHxcIm51bWJlclwiIT10eXBlb2YgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0PygkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/dDpcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZXx8dm9pZCAwPT09ZS5uYW1lfHx2b2lkIDA9PT1lLm1lc3NhZ2U/RihlKTplLnRvU3RyaW5nKCl9LG51bGwpOihRPXQsJD1lLGZ1bmN0aW9uKHQpe0Vycm9yLnN0YWNrVHJhY2VMaW1pdCs9Njt0cnl7dGhyb3cgbmV3IEVycm9yfWNhdGNoKGUpe3Quc3RhY2s9ZS5zdGFja31FcnJvci5zdGFja1RyYWNlTGltaXQtPTZ9KX0oW10pO1widW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZS53YXJuJiYoRD1mdW5jdGlvbih0KXtjb25zb2xlLndhcm4odCl9LFYuaXNOb2RlJiZlLnN0ZGVyci5pc1RUWT9EPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZT9cIlx1MDAxYlszM21cIjpcIlx1MDAxYlszMW1cIjtjb25zb2xlLndhcm4obit0K1wiXHUwMDFiWzBtXFxuXCIpfTpWLmlzTm9kZXx8XCJzdHJpbmdcIiE9dHlwZW9mKG5ldyBFcnJvcikuc3RhY2t8fChEPWZ1bmN0aW9uKHQsZSl7Y29uc29sZS53YXJuKFwiJWNcIit0LGU/XCJjb2xvcjogZGFya29yYW5nZVwiOlwiY29sb3I6IHJlZFwiKX0pKTt2YXIgc3Q9e3dhcm5pbmdzOlcsbG9uZ1N0YWNrVHJhY2VzOiExLGNhbmNlbGxhdGlvbjohMSxtb25pdG9yaW5nOiExfTtyZXR1cm4gWCYmbi5sb25nU3RhY2tUcmFjZXMoKSx7bG9uZ1N0YWNrVHJhY2VzOmZ1bmN0aW9uKCl7cmV0dXJuIHN0LmxvbmdTdGFja1RyYWNlc30sd2FybmluZ3M6ZnVuY3Rpb24oKXtyZXR1cm4gc3Qud2FybmluZ3N9LGNhbmNlbGxhdGlvbjpmdW5jdGlvbigpe3JldHVybiBzdC5jYW5jZWxsYXRpb259LG1vbml0b3Jpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gc3QubW9uaXRvcmluZ30scHJvcGFnYXRlRnJvbUZ1bmN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIG50fSxib3VuZFZhbHVlRnVuY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gaH0sY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zOnYsc2V0Qm91bmRzOk8sd2FybjptLGRlcHJlY2F0ZWQ6eSxDYXB0dXJlZFRyYWNlOlIsZmlyZURvbUV2ZW50OlksZmlyZUdsb2JhbEV2ZW50Olp9fX0se1wiLi9lcnJvcnNcIjoxMixcIi4vdXRpbFwiOjM2fV0sMTA6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiB0aGlzLnZhbHVlfWZ1bmN0aW9uIG4oKXt0aHJvdyB0aGlzLnJlYXNvbn10LnByb3RvdHlwZVtcInJldHVyblwiXT10LnByb3RvdHlwZS50aGVuUmV0dXJuPWZ1bmN0aW9uKG4pe3JldHVybiBuIGluc3RhbmNlb2YgdCYmbi5zdXBwcmVzc1VuaGFuZGxlZFJlamVjdGlvbnMoKSx0aGlzLl90aGVuKGUsdm9pZCAwLHZvaWQgMCx7dmFsdWU6bn0sdm9pZCAwKX0sdC5wcm90b3R5cGVbXCJ0aHJvd1wiXT10LnByb3RvdHlwZS50aGVuVGhyb3c9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3RoZW4obix2b2lkIDAsdm9pZCAwLHtyZWFzb246dH0sdm9pZCAwKX0sdC5wcm90b3R5cGUuY2F0Y2hUaHJvdz1mdW5jdGlvbih0KXtpZihhcmd1bWVudHMubGVuZ3RoPD0xKXJldHVybiB0aGlzLl90aGVuKHZvaWQgMCxuLHZvaWQgMCx7cmVhc29uOnR9LHZvaWQgMCk7dmFyIGU9YXJndW1lbnRzWzFdLHI9ZnVuY3Rpb24oKXt0aHJvdyBlfTtyZXR1cm4gdGhpcy5jYXVnaHQodCxyKX0sdC5wcm90b3R5cGUuY2F0Y2hSZXR1cm49ZnVuY3Rpb24obil7aWYoYXJndW1lbnRzLmxlbmd0aDw9MSlyZXR1cm4gbiBpbnN0YW5jZW9mIHQmJm4uc3VwcHJlc3NVbmhhbmRsZWRSZWplY3Rpb25zKCksdGhpcy5fdGhlbih2b2lkIDAsZSx2b2lkIDAse3ZhbHVlOm59LHZvaWQgMCk7dmFyIHI9YXJndW1lbnRzWzFdO3IgaW5zdGFuY2VvZiB0JiZyLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucygpO3ZhciBpPWZ1bmN0aW9uKCl7cmV0dXJuIHJ9O3JldHVybiB0aGlzLmNhdWdodChuLGkpfX19LHt9XSwxMTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXtyZXR1cm4gbyh0aGlzKX1mdW5jdGlvbiByKHQsbil7cmV0dXJuIGkodCxuLGUsZSl9dmFyIGk9dC5yZWR1Y2Usbz10LmFsbDt0LnByb3RvdHlwZS5lYWNoPWZ1bmN0aW9uKHQpe3JldHVybiBpKHRoaXMsdCxlLDApLl90aGVuKG4sdm9pZCAwLHZvaWQgMCx0aGlzLHZvaWQgMCl9LHQucHJvdG90eXBlLm1hcFNlcmllcz1mdW5jdGlvbih0KXtyZXR1cm4gaSh0aGlzLHQsZSxlKX0sdC5lYWNoPWZ1bmN0aW9uKHQscil7cmV0dXJuIGkodCxyLGUsMCkuX3RoZW4obix2b2lkIDAsdm9pZCAwLHQsdm9pZCAwKX0sdC5tYXBTZXJpZXM9cn19LHt9XSwxMjpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXtmdW5jdGlvbiBuKHIpe3JldHVybiB0aGlzIGluc3RhbmNlb2Ygbj8oZih0aGlzLFwibWVzc2FnZVwiLFwic3RyaW5nXCI9PXR5cGVvZiByP3I6ZSksZih0aGlzLFwibmFtZVwiLHQpLHZvaWQoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2U/RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyx0aGlzLmNvbnN0cnVjdG9yKTpFcnJvci5jYWxsKHRoaXMpKSk6bmV3IG4ocil9cmV0dXJuIGwobixFcnJvciksbn1mdW5jdGlvbiBpKHQpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgaT8oZih0aGlzLFwibmFtZVwiLFwiT3BlcmF0aW9uYWxFcnJvclwiKSxmKHRoaXMsXCJtZXNzYWdlXCIsdCksdGhpcy5jYXVzZT10LHRoaXMuaXNPcGVyYXRpb25hbD0hMCx2b2lkKHQgaW5zdGFuY2VvZiBFcnJvcj8oZih0aGlzLFwibWVzc2FnZVwiLHQubWVzc2FnZSksZih0aGlzLFwic3RhY2tcIix0LnN0YWNrKSk6RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UmJkVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsdGhpcy5jb25zdHJ1Y3RvcikpKTpuZXcgaSh0KX12YXIgbyxzLGE9dChcIi4vZXM1XCIpLGM9YS5mcmVlemUsdT10KFwiLi91dGlsXCIpLGw9dS5pbmhlcml0cyxmPXUubm90RW51bWVyYWJsZVByb3AscD1yKFwiV2FybmluZ1wiLFwid2FybmluZ1wiKSxoPXIoXCJDYW5jZWxsYXRpb25FcnJvclwiLFwiY2FuY2VsbGF0aW9uIGVycm9yXCIpLGQ9cihcIlRpbWVvdXRFcnJvclwiLFwidGltZW91dCBlcnJvclwiKSxfPXIoXCJBZ2dyZWdhdGVFcnJvclwiLFwiYWdncmVnYXRlIGVycm9yXCIpO3RyeXtvPVR5cGVFcnJvcixzPVJhbmdlRXJyb3J9Y2F0Y2godil7bz1yKFwiVHlwZUVycm9yXCIsXCJ0eXBlIGVycm9yXCIpLHM9cihcIlJhbmdlRXJyb3JcIixcInJhbmdlIGVycm9yXCIpfWZvcih2YXIgeT1cImpvaW4gcG9wIHB1c2ggc2hpZnQgdW5zaGlmdCBzbGljZSBmaWx0ZXIgZm9yRWFjaCBzb21lIGV2ZXJ5IG1hcCBpbmRleE9mIGxhc3RJbmRleE9mIHJlZHVjZSByZWR1Y2VSaWdodCBzb3J0IHJldmVyc2VcIi5zcGxpdChcIiBcIiksbT0wO208eS5sZW5ndGg7KyttKVwiZnVuY3Rpb25cIj09dHlwZW9mIEFycmF5LnByb3RvdHlwZVt5W21dXSYmKF8ucHJvdG90eXBlW3lbbV1dPUFycmF5LnByb3RvdHlwZVt5W21dXSk7YS5kZWZpbmVQcm9wZXJ0eShfLnByb3RvdHlwZSxcImxlbmd0aFwiLHt2YWx1ZTowLGNvbmZpZ3VyYWJsZTohMSx3cml0YWJsZTohMCxlbnVtZXJhYmxlOiEwfSksXy5wcm90b3R5cGUuaXNPcGVyYXRpb25hbD0hMDt2YXIgZz0wO18ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9QXJyYXkoNCpnKzEpLmpvaW4oXCIgXCIpLGU9XCJcXG5cIit0K1wiQWdncmVnYXRlRXJyb3Igb2Y6XFxuXCI7ZysrLHQ9QXJyYXkoNCpnKzEpLmpvaW4oXCIgXCIpO2Zvcih2YXIgbj0wO248dGhpcy5sZW5ndGg7KytuKXtmb3IodmFyIHI9dGhpc1tuXT09PXRoaXM/XCJbQ2lyY3VsYXIgQWdncmVnYXRlRXJyb3JdXCI6dGhpc1tuXStcIlwiLGk9ci5zcGxpdChcIlxcblwiKSxvPTA7bzxpLmxlbmd0aDsrK28paVtvXT10K2lbb107cj1pLmpvaW4oXCJcXG5cIiksZSs9citcIlxcblwifXJldHVybiBnLS0sZX0sbChpLEVycm9yKTt2YXIgYj1FcnJvci5fX0JsdWViaXJkRXJyb3JUeXBlc19fO2J8fChiPWMoe0NhbmNlbGxhdGlvbkVycm9yOmgsVGltZW91dEVycm9yOmQsT3BlcmF0aW9uYWxFcnJvcjppLFJlamVjdGlvbkVycm9yOmksQWdncmVnYXRlRXJyb3I6X30pLGEuZGVmaW5lUHJvcGVydHkoRXJyb3IsXCJfX0JsdWViaXJkRXJyb3JUeXBlc19fXCIse3ZhbHVlOmIsd3JpdGFibGU6ITEsZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITF9KSksZS5leHBvcnRzPXtFcnJvcjpFcnJvcixUeXBlRXJyb3I6byxSYW5nZUVycm9yOnMsQ2FuY2VsbGF0aW9uRXJyb3I6Yi5DYW5jZWxsYXRpb25FcnJvcixPcGVyYXRpb25hbEVycm9yOmIuT3BlcmF0aW9uYWxFcnJvcixUaW1lb3V0RXJyb3I6Yi5UaW1lb3V0RXJyb3IsQWdncmVnYXRlRXJyb3I6Yi5BZ2dyZWdhdGVFcnJvcixXYXJuaW5nOnB9fSx7XCIuL2VzNVwiOjEzLFwiLi91dGlsXCI6MzZ9XSwxMzpbZnVuY3Rpb24odCxlLG4pe3ZhciByPWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHZvaWQgMD09PXRoaXN9KCk7aWYocillLmV4cG9ydHM9e2ZyZWV6ZTpPYmplY3QuZnJlZXplLGRlZmluZVByb3BlcnR5Ok9iamVjdC5kZWZpbmVQcm9wZXJ0eSxnZXREZXNjcmlwdG9yOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Isa2V5czpPYmplY3Qua2V5cyxuYW1lczpPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyxnZXRQcm90b3R5cGVPZjpPYmplY3QuZ2V0UHJvdG90eXBlT2YsaXNBcnJheTpBcnJheS5pc0FycmF5LGlzRVM1OnIscHJvcGVydHlJc1dyaXRhYmxlOmZ1bmN0aW9uKHQsZSl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpO3JldHVybiEobiYmIW4ud3JpdGFibGUmJiFuLnNldCl9fTtlbHNle3ZhciBpPXt9Lmhhc093blByb3BlcnR5LG89e30udG9TdHJpbmcscz17fS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsYT1mdW5jdGlvbih0KXt2YXIgZT1bXTtmb3IodmFyIG4gaW4gdClpLmNhbGwodCxuKSYmZS5wdXNoKG4pO3JldHVybiBlfSxjPWZ1bmN0aW9uKHQsZSl7cmV0dXJue3ZhbHVlOnRbZV19fSx1PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdFtlXT1uLnZhbHVlLHR9LGw9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGY9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBPYmplY3QodCkuY29uc3RydWN0b3IucHJvdG90eXBlfWNhdGNoKGUpe3JldHVybiBzfX0scD1mdW5jdGlvbih0KXt0cnl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT09by5jYWxsKHQpfWNhdGNoKGUpe3JldHVybiExfX07ZS5leHBvcnRzPXtpc0FycmF5OnAsa2V5czphLG5hbWVzOmEsZGVmaW5lUHJvcGVydHk6dSxnZXREZXNjcmlwdG9yOmMsZnJlZXplOmwsZ2V0UHJvdG90eXBlT2Y6Zixpc0VTNTpyLHByb3BlcnR5SXNXcml0YWJsZTpmdW5jdGlvbigpe3JldHVybiEwfX19fSx7fV0sMTQ6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj10Lm1hcDt0LnByb3RvdHlwZS5maWx0ZXI9ZnVuY3Rpb24odCxyKXtyZXR1cm4gbih0aGlzLHQscixlKX0sdC5maWx0ZXI9ZnVuY3Rpb24odCxyLGkpe3JldHVybiBuKHQscixpLGUpfX19LHt9XSwxNTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlLG4pe2Z1bmN0aW9uIHIodCxlLG4pe3RoaXMucHJvbWlzZT10LHRoaXMudHlwZT1lLHRoaXMuaGFuZGxlcj1uLHRoaXMuY2FsbGVkPSExLHRoaXMuY2FuY2VsUHJvbWlzZT1udWxsfWZ1bmN0aW9uIGkodCl7dGhpcy5maW5hbGx5SGFuZGxlcj10fWZ1bmN0aW9uIG8odCxlKXtyZXR1cm4gbnVsbCE9dC5jYW5jZWxQcm9taXNlPyhhcmd1bWVudHMubGVuZ3RoPjE/dC5jYW5jZWxQcm9taXNlLl9yZWplY3QoZSk6dC5jYW5jZWxQcm9taXNlLl9jYW5jZWwoKSx0LmNhbmNlbFByb21pc2U9bnVsbCwhMCk6ITF9ZnVuY3Rpb24gcygpe3JldHVybiBjLmNhbGwodGhpcyx0aGlzLnByb21pc2UuX3RhcmdldCgpLl9zZXR0bGVkVmFsdWUoKSl9ZnVuY3Rpb24gYSh0KXtyZXR1cm4gbyh0aGlzLHQpP3ZvaWQgMDooZi5lPXQsZil9ZnVuY3Rpb24gYyh0KXt2YXIgcj10aGlzLnByb21pc2UsYz10aGlzLmhhbmRsZXI7aWYoIXRoaXMuY2FsbGVkKXt0aGlzLmNhbGxlZD0hMDt2YXIgdT10aGlzLmlzRmluYWxseUhhbmRsZXIoKT9jLmNhbGwoci5fYm91bmRWYWx1ZSgpKTpjLmNhbGwoci5fYm91bmRWYWx1ZSgpLHQpO2lmKHZvaWQgMCE9PXUpe3IuX3NldFJldHVybmVkTm9uVW5kZWZpbmVkKCk7dmFyIHA9bih1LHIpO2lmKHAgaW5zdGFuY2VvZiBlKXtpZihudWxsIT10aGlzLmNhbmNlbFByb21pc2Upe2lmKHAuX2lzQ2FuY2VsbGVkKCkpe3ZhciBoPW5ldyBsKFwibGF0ZSBjYW5jZWxsYXRpb24gb2JzZXJ2ZXJcIik7cmV0dXJuIHIuX2F0dGFjaEV4dHJhVHJhY2UoaCksZi5lPWgsZn1wLmlzUGVuZGluZygpJiZwLl9hdHRhY2hDYW5jZWxsYXRpb25DYWxsYmFjayhuZXcgaSh0aGlzKSl9cmV0dXJuIHAuX3RoZW4ocyxhLHZvaWQgMCx0aGlzLHZvaWQgMCl9fX1yZXR1cm4gci5pc1JlamVjdGVkKCk/KG8odGhpcyksZi5lPXQsZik6KG8odGhpcyksdCl9dmFyIHU9dChcIi4vdXRpbFwiKSxsPWUuQ2FuY2VsbGF0aW9uRXJyb3IsZj11LmVycm9yT2JqO3JldHVybiByLnByb3RvdHlwZS5pc0ZpbmFsbHlIYW5kbGVyPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLnR5cGV9LGkucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtvKHRoaXMuZmluYWxseUhhbmRsZXIpfSxlLnByb3RvdHlwZS5fcGFzc1Rocm91Z2g9ZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuXCJmdW5jdGlvblwiIT10eXBlb2YgdD90aGlzLnRoZW4oKTp0aGlzLl90aGVuKG4saSx2b2lkIDAsbmV3IHIodGhpcyxlLHQpLHZvaWQgMCl9LGUucHJvdG90eXBlLmxhc3RseT1lLnByb3RvdHlwZVtcImZpbmFsbHlcIl09ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3Bhc3NUaHJvdWdoKHQsMCxjLGMpfSxlLnByb3RvdHlwZS50YXA9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3Bhc3NUaHJvdWdoKHQsMSxjKX0scn19LHtcIi4vdXRpbFwiOjM2fV0sMTY6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIsaSxvLHMpe2Z1bmN0aW9uIGEodCxuLHIpe2Zvcih2YXIgbz0wO288bi5sZW5ndGg7KytvKXtyLl9wdXNoQ29udGV4dCgpO3ZhciBzPWgobltvXSkodCk7aWYoci5fcG9wQ29udGV4dCgpLHM9PT1wKXtyLl9wdXNoQ29udGV4dCgpO3ZhciBhPWUucmVqZWN0KHAuZSk7cmV0dXJuIHIuX3BvcENvbnRleHQoKSxhfXZhciBjPWkocyxyKTtpZihjIGluc3RhbmNlb2YgZSlyZXR1cm4gY31yZXR1cm4gbnVsbH1mdW5jdGlvbiBjKHQsbixpLG8pe2lmKHMuY2FuY2VsbGF0aW9uKCkpe3ZhciBhPW5ldyBlKHIpLGM9dGhpcy5fZmluYWxseVByb21pc2U9bmV3IGUocik7dGhpcy5fcHJvbWlzZT1hLmxhc3RseShmdW5jdGlvbigpe3JldHVybiBjfSksYS5fY2FwdHVyZVN0YWNrVHJhY2UoKSxhLl9zZXRPbkNhbmNlbCh0aGlzKX1lbHNle3ZhciB1PXRoaXMuX3Byb21pc2U9bmV3IGUocik7dS5fY2FwdHVyZVN0YWNrVHJhY2UoKX10aGlzLl9zdGFjaz1vLHRoaXMuX2dlbmVyYXRvckZ1bmN0aW9uPXQsdGhpcy5fcmVjZWl2ZXI9bix0aGlzLl9nZW5lcmF0b3I9dm9pZCAwLHRoaXMuX3lpZWxkSGFuZGxlcnM9XCJmdW5jdGlvblwiPT10eXBlb2YgaT9baV0uY29uY2F0KGQpOmQsdGhpcy5feWllbGRlZFByb21pc2U9bnVsbCx0aGlzLl9jYW5jZWxsYXRpb25QaGFzZT0hMX12YXIgdT10KFwiLi9lcnJvcnNcIiksbD11LlR5cGVFcnJvcixmPXQoXCIuL3V0aWxcIikscD1mLmVycm9yT2JqLGg9Zi50cnlDYXRjaCxkPVtdO2YuaW5oZXJpdHMoYyxvKSxjLnByb3RvdHlwZS5faXNSZXNvbHZlZD1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5fcHJvbWlzZX0sYy5wcm90b3R5cGUuX2NsZWFudXA9ZnVuY3Rpb24oKXt0aGlzLl9wcm9taXNlPXRoaXMuX2dlbmVyYXRvcj1udWxsLHMuY2FuY2VsbGF0aW9uKCkmJm51bGwhPT10aGlzLl9maW5hbGx5UHJvbWlzZSYmKHRoaXMuX2ZpbmFsbHlQcm9taXNlLl9mdWxmaWxsKCksdGhpcy5fZmluYWxseVByb21pc2U9bnVsbCl9LGMucHJvdG90eXBlLl9wcm9taXNlQ2FuY2VsbGVkPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2lzUmVzb2x2ZWQoKSl7dmFyIHQsbj1cInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy5fZ2VuZXJhdG9yW1wicmV0dXJuXCJdO2lmKG4pdGhpcy5fcHJvbWlzZS5fcHVzaENvbnRleHQoKSx0PWgodGhpcy5fZ2VuZXJhdG9yW1wicmV0dXJuXCJdKS5jYWxsKHRoaXMuX2dlbmVyYXRvcix2b2lkIDApLHRoaXMuX3Byb21pc2UuX3BvcENvbnRleHQoKTtlbHNle3ZhciByPW5ldyBlLkNhbmNlbGxhdGlvbkVycm9yKFwiZ2VuZXJhdG9yIC5yZXR1cm4oKSBzZW50aW5lbFwiKTtlLmNvcm91dGluZS5yZXR1cm5TZW50aW5lbD1yLHRoaXMuX3Byb21pc2UuX2F0dGFjaEV4dHJhVHJhY2UociksdGhpcy5fcHJvbWlzZS5fcHVzaENvbnRleHQoKSx0PWgodGhpcy5fZ2VuZXJhdG9yW1widGhyb3dcIl0pLmNhbGwodGhpcy5fZ2VuZXJhdG9yLHIpLHRoaXMuX3Byb21pc2UuX3BvcENvbnRleHQoKX10aGlzLl9jYW5jZWxsYXRpb25QaGFzZT0hMCx0aGlzLl95aWVsZGVkUHJvbWlzZT1udWxsLHRoaXMuX2NvbnRpbnVlKHQpfX0sYy5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQ9ZnVuY3Rpb24odCl7dGhpcy5feWllbGRlZFByb21pc2U9bnVsbCx0aGlzLl9wcm9taXNlLl9wdXNoQ29udGV4dCgpO3ZhciBlPWgodGhpcy5fZ2VuZXJhdG9yLm5leHQpLmNhbGwodGhpcy5fZ2VuZXJhdG9yLHQpO3RoaXMuX3Byb21pc2UuX3BvcENvbnRleHQoKSx0aGlzLl9jb250aW51ZShlKX0sYy5wcm90b3R5cGUuX3Byb21pc2VSZWplY3RlZD1mdW5jdGlvbih0KXt0aGlzLl95aWVsZGVkUHJvbWlzZT1udWxsLHRoaXMuX3Byb21pc2UuX2F0dGFjaEV4dHJhVHJhY2UodCksdGhpcy5fcHJvbWlzZS5fcHVzaENvbnRleHQoKTt2YXIgZT1oKHRoaXMuX2dlbmVyYXRvcltcInRocm93XCJdKS5jYWxsKHRoaXMuX2dlbmVyYXRvcix0KTt0aGlzLl9wcm9taXNlLl9wb3BDb250ZXh0KCksdGhpcy5fY29udGludWUoZSl9LGMucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtpZih0aGlzLl95aWVsZGVkUHJvbWlzZSBpbnN0YW5jZW9mIGUpe3ZhciB0PXRoaXMuX3lpZWxkZWRQcm9taXNlO3RoaXMuX3lpZWxkZWRQcm9taXNlPW51bGwsdC5jYW5jZWwoKX19LGMucHJvdG90eXBlLnByb21pc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvbWlzZX0sYy5wcm90b3R5cGUuX3J1bj1mdW5jdGlvbigpe3RoaXMuX2dlbmVyYXRvcj10aGlzLl9nZW5lcmF0b3JGdW5jdGlvbi5jYWxsKHRoaXMuX3JlY2VpdmVyKSx0aGlzLl9yZWNlaXZlcj10aGlzLl9nZW5lcmF0b3JGdW5jdGlvbj12b2lkIDAsdGhpcy5fcHJvbWlzZUZ1bGZpbGxlZCh2b2lkIDApfSxjLnByb3RvdHlwZS5fY29udGludWU9ZnVuY3Rpb24odCl7dmFyIG49dGhpcy5fcHJvbWlzZTtpZih0PT09cClyZXR1cm4gdGhpcy5fY2xlYW51cCgpLHRoaXMuX2NhbmNlbGxhdGlvblBoYXNlP24uY2FuY2VsKCk6bi5fcmVqZWN0Q2FsbGJhY2sodC5lLCExKTt2YXIgcj10LnZhbHVlO2lmKHQuZG9uZT09PSEwKXJldHVybiB0aGlzLl9jbGVhbnVwKCksdGhpcy5fY2FuY2VsbGF0aW9uUGhhc2U/bi5jYW5jZWwoKTpuLl9yZXNvbHZlQ2FsbGJhY2socik7dmFyIG89aShyLHRoaXMuX3Byb21pc2UpO2lmKCEobyBpbnN0YW5jZW9mIGUpJiYobz1hKG8sdGhpcy5feWllbGRIYW5kbGVycyx0aGlzLl9wcm9taXNlKSxudWxsPT09bykpcmV0dXJuIHZvaWQgdGhpcy5fcHJvbWlzZVJlamVjdGVkKG5ldyBsKFwiQSB2YWx1ZSAlcyB3YXMgeWllbGRlZCB0aGF0IGNvdWxkIG5vdCBiZSB0cmVhdGVkIGFzIGEgcHJvbWlzZVxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cXG5cIi5yZXBsYWNlKFwiJXNcIixyKStcIkZyb20gY29yb3V0aW5lOlxcblwiK3RoaXMuX3N0YWNrLnNwbGl0KFwiXFxuXCIpLnNsaWNlKDEsLTcpLmpvaW4oXCJcXG5cIikpKTtvPW8uX3RhcmdldCgpO3ZhciBzPW8uX2JpdEZpZWxkOzA9PT0oNTAzOTcxODQmcyk/KHRoaXMuX3lpZWxkZWRQcm9taXNlPW8sby5fcHJveHkodGhpcyxudWxsKSk6MCE9PSgzMzU1NDQzMiZzKT9lLl9hc3luYy5pbnZva2UodGhpcy5fcHJvbWlzZUZ1bGZpbGxlZCx0aGlzLG8uX3ZhbHVlKCkpOjAhPT0oMTY3NzcyMTYmcyk/ZS5fYXN5bmMuaW52b2tlKHRoaXMuX3Byb21pc2VSZWplY3RlZCx0aGlzLG8uX3JlYXNvbigpKTp0aGlzLl9wcm9taXNlQ2FuY2VsbGVkKCl9LGUuY29yb3V0aW5lPWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgbChcImdlbmVyYXRvckZ1bmN0aW9uIG11c3QgYmUgYSBmdW5jdGlvblxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIik7dmFyIG49T2JqZWN0KGUpLnlpZWxkSGFuZGxlcixyPWMsaT0obmV3IEVycm9yKS5zdGFjaztyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT10LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxvPW5ldyByKHZvaWQgMCx2b2lkIDAsbixpKSxzPW8ucHJvbWlzZSgpO3JldHVybiBvLl9nZW5lcmF0b3I9ZSxvLl9wcm9taXNlRnVsZmlsbGVkKHZvaWQgMCksc319LGUuY29yb3V0aW5lLmFkZFlpZWxkSGFuZGxlcj1mdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBsKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIitmLmNsYXNzU3RyaW5nKHQpKTtkLnB1c2godCl9LGUuc3Bhd249ZnVuY3Rpb24odCl7aWYocy5kZXByZWNhdGVkKFwiUHJvbWlzZS5zcGF3bigpXCIsXCJQcm9taXNlLmNvcm91dGluZSgpXCIpLFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpcmV0dXJuIG4oXCJnZW5lcmF0b3JGdW5jdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb25cXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXCIpO1xuXHR2YXIgcj1uZXcgYyh0LHRoaXMpLGk9ci5wcm9taXNlKCk7cmV0dXJuIHIuX3J1bihlLnNwYXduKSxpfX19LHtcIi4vZXJyb3JzXCI6MTIsXCIuL3V0aWxcIjozNn1dLDE3OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyLGksbyxzKXt2YXIgYT10KFwiLi91dGlsXCIpO2EuY2FuRXZhbHVhdGUsYS50cnlDYXRjaCxhLmVycm9yT2JqO2Uuam9pbj1mdW5jdGlvbigpe3ZhciB0LGU9YXJndW1lbnRzLmxlbmd0aC0xO2lmKGU+MCYmXCJmdW5jdGlvblwiPT10eXBlb2YgYXJndW1lbnRzW2VdKXt0PWFyZ3VtZW50c1tlXTt2YXIgcn12YXIgaT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7dCYmaS5wb3AoKTt2YXIgcj1uZXcgbihpKS5wcm9taXNlKCk7cmV0dXJuIHZvaWQgMCE9PXQ/ci5zcHJlYWQodCk6cn19fSx7XCIuL3V0aWxcIjozNn1dLDE4OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyLGksbyxzKXtmdW5jdGlvbiBhKHQsZSxuLHIpe3RoaXMuY29uc3RydWN0b3IkKHQpLHRoaXMuX3Byb21pc2UuX2NhcHR1cmVTdGFja1RyYWNlKCk7dmFyIGk9dSgpO3RoaXMuX2NhbGxiYWNrPW51bGw9PT1pP2U6bC5kb21haW5CaW5kKGksZSksdGhpcy5fcHJlc2VydmVkVmFsdWVzPXI9PT1vP25ldyBBcnJheSh0aGlzLmxlbmd0aCgpKTpudWxsLHRoaXMuX2xpbWl0PW4sdGhpcy5faW5GbGlnaHQ9MCx0aGlzLl9xdWV1ZT1bXSxoLmludm9rZSh0aGlzLl9hc3luY0luaXQsdGhpcyx2b2lkIDApfWZ1bmN0aW9uIGModCxuLGksbyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgbilyZXR1cm4gcihcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIrbC5jbGFzc1N0cmluZyhuKSk7dmFyIHM9MDtpZih2b2lkIDAhPT1pKXtpZihcIm9iamVjdFwiIT10eXBlb2YgaXx8bnVsbD09PWkpcmV0dXJuIGUucmVqZWN0KG5ldyBUeXBlRXJyb3IoXCJvcHRpb25zIGFyZ3VtZW50IG11c3QgYmUgYW4gb2JqZWN0IGJ1dCBpdCBpcyBcIitsLmNsYXNzU3RyaW5nKGkpKSk7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGkuY29uY3VycmVuY3kpcmV0dXJuIGUucmVqZWN0KG5ldyBUeXBlRXJyb3IoXCInY29uY3VycmVuY3knIG11c3QgYmUgYSBudW1iZXIgYnV0IGl0IGlzIFwiK2wuY2xhc3NTdHJpbmcoaS5jb25jdXJyZW5jeSkpKTtzPWkuY29uY3VycmVuY3l9cmV0dXJuIHM9XCJudW1iZXJcIj09dHlwZW9mIHMmJmlzRmluaXRlKHMpJiZzPj0xP3M6MCxuZXcgYSh0LG4scyxvKS5wcm9taXNlKCl9dmFyIHU9ZS5fZ2V0RG9tYWluLGw9dChcIi4vdXRpbFwiKSxmPWwudHJ5Q2F0Y2gscD1sLmVycm9yT2JqLGg9ZS5fYXN5bmM7bC5pbmhlcml0cyhhLG4pLGEucHJvdG90eXBlLl9hc3luY0luaXQ9ZnVuY3Rpb24oKXt0aGlzLl9pbml0JCh2b2lkIDAsLTIpfSxhLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbigpe30sYS5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQ9ZnVuY3Rpb24odCxuKXt2YXIgcj10aGlzLl92YWx1ZXMsbz10aGlzLmxlbmd0aCgpLGE9dGhpcy5fcHJlc2VydmVkVmFsdWVzLGM9dGhpcy5fbGltaXQ7aWYoMD5uKXtpZihuPS0xKm4tMSxyW25dPXQsYz49MSYmKHRoaXMuX2luRmxpZ2h0LS0sdGhpcy5fZHJhaW5RdWV1ZSgpLHRoaXMuX2lzUmVzb2x2ZWQoKSkpcmV0dXJuITB9ZWxzZXtpZihjPj0xJiZ0aGlzLl9pbkZsaWdodD49YylyZXR1cm4gcltuXT10LHRoaXMuX3F1ZXVlLnB1c2gobiksITE7bnVsbCE9PWEmJihhW25dPXQpO3ZhciB1PXRoaXMuX3Byb21pc2UsbD10aGlzLl9jYWxsYmFjayxoPXUuX2JvdW5kVmFsdWUoKTt1Ll9wdXNoQ29udGV4dCgpO3ZhciBkPWYobCkuY2FsbChoLHQsbixvKSxfPXUuX3BvcENvbnRleHQoKTtpZihzLmNoZWNrRm9yZ290dGVuUmV0dXJucyhkLF8sbnVsbCE9PWE/XCJQcm9taXNlLmZpbHRlclwiOlwiUHJvbWlzZS5tYXBcIix1KSxkPT09cClyZXR1cm4gdGhpcy5fcmVqZWN0KGQuZSksITA7dmFyIHY9aShkLHRoaXMuX3Byb21pc2UpO2lmKHYgaW5zdGFuY2VvZiBlKXt2PXYuX3RhcmdldCgpO3ZhciB5PXYuX2JpdEZpZWxkO2lmKDA9PT0oNTAzOTcxODQmeSkpcmV0dXJuIGM+PTEmJnRoaXMuX2luRmxpZ2h0KysscltuXT12LHYuX3Byb3h5KHRoaXMsLTEqKG4rMSkpLCExO2lmKDA9PT0oMzM1NTQ0MzImeSkpcmV0dXJuIDAhPT0oMTY3NzcyMTYmeSk/KHRoaXMuX3JlamVjdCh2Ll9yZWFzb24oKSksITApOih0aGlzLl9jYW5jZWwoKSwhMCk7ZD12Ll92YWx1ZSgpfXJbbl09ZH12YXIgbT0rK3RoaXMuX3RvdGFsUmVzb2x2ZWQ7cmV0dXJuIG0+PW8/KG51bGwhPT1hP3RoaXMuX2ZpbHRlcihyLGEpOnRoaXMuX3Jlc29sdmUociksITApOiExfSxhLnByb3RvdHlwZS5fZHJhaW5RdWV1ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9xdWV1ZSxlPXRoaXMuX2xpbWl0LG49dGhpcy5fdmFsdWVzO3QubGVuZ3RoPjAmJnRoaXMuX2luRmxpZ2h0PGU7KXtpZih0aGlzLl9pc1Jlc29sdmVkKCkpcmV0dXJuO3ZhciByPXQucG9wKCk7dGhpcy5fcHJvbWlzZUZ1bGZpbGxlZChuW3JdLHIpfX0sYS5wcm90b3R5cGUuX2ZpbHRlcj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1lLmxlbmd0aCxyPW5ldyBBcnJheShuKSxpPTAsbz0wO24+bzsrK28pdFtvXSYmKHJbaSsrXT1lW29dKTtyLmxlbmd0aD1pLHRoaXMuX3Jlc29sdmUocil9LGEucHJvdG90eXBlLnByZXNlcnZlZFZhbHVlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcmVzZXJ2ZWRWYWx1ZXN9LGUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUpe3JldHVybiBjKHRoaXMsdCxlLG51bGwpfSxlLm1hcD1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gYyh0LGUsbixyKX19fSx7XCIuL3V0aWxcIjozNn1dLDE5OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyLGksbyl7dmFyIHM9dChcIi4vdXRpbFwiKSxhPXMudHJ5Q2F0Y2g7ZS5tZXRob2Q9ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgZS5UeXBlRXJyb3IoXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiK3MuY2xhc3NTdHJpbmcodCkpO3JldHVybiBmdW5jdGlvbigpe3ZhciByPW5ldyBlKG4pO3IuX2NhcHR1cmVTdGFja1RyYWNlKCksci5fcHVzaENvbnRleHQoKTt2YXIgaT1hKHQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxzPXIuX3BvcENvbnRleHQoKTtyZXR1cm4gby5jaGVja0ZvcmdvdHRlblJldHVybnMoaSxzLFwiUHJvbWlzZS5tZXRob2RcIixyKSxyLl9yZXNvbHZlRnJvbVN5bmNWYWx1ZShpKSxyfX0sZS5hdHRlbXB0PWVbXCJ0cnlcIl09ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdClyZXR1cm4gaShcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIrcy5jbGFzc1N0cmluZyh0KSk7dmFyIHI9bmV3IGUobik7ci5fY2FwdHVyZVN0YWNrVHJhY2UoKSxyLl9wdXNoQ29udGV4dCgpO3ZhciBjO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSl7by5kZXByZWNhdGVkKFwiY2FsbGluZyBQcm9taXNlLnRyeSB3aXRoIG1vcmUgdGhhbiAxIGFyZ3VtZW50XCIpO3ZhciB1PWFyZ3VtZW50c1sxXSxsPWFyZ3VtZW50c1syXTtjPXMuaXNBcnJheSh1KT9hKHQpLmFwcGx5KGwsdSk6YSh0KS5jYWxsKGwsdSl9ZWxzZSBjPWEodCkoKTt2YXIgZj1yLl9wb3BDb250ZXh0KCk7cmV0dXJuIG8uY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zKGMsZixcIlByb21pc2UudHJ5XCIsciksci5fcmVzb2x2ZUZyb21TeW5jVmFsdWUoYykscn0sZS5wcm90b3R5cGUuX3Jlc29sdmVGcm9tU3luY1ZhbHVlPWZ1bmN0aW9uKHQpe3Q9PT1zLmVycm9yT2JqP3RoaXMuX3JlamVjdENhbGxiYWNrKHQuZSwhMSk6dGhpcy5fcmVzb2x2ZUNhbGxiYWNrKHQsITApfX19LHtcIi4vdXRpbFwiOjM2fV0sMjA6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0IGluc3RhbmNlb2YgRXJyb3ImJmwuZ2V0UHJvdG90eXBlT2YodCk9PT1FcnJvci5wcm90b3R5cGV9ZnVuY3Rpb24gaSh0KXt2YXIgZTtpZihyKHQpKXtlPW5ldyB1KHQpLGUubmFtZT10Lm5hbWUsZS5tZXNzYWdlPXQubWVzc2FnZSxlLnN0YWNrPXQuc3RhY2s7Zm9yKHZhciBuPWwua2V5cyh0KSxpPTA7aTxuLmxlbmd0aDsrK2kpe3ZhciBvPW5baV07Zi50ZXN0KG8pfHwoZVtvXT10W29dKX1yZXR1cm4gZX1yZXR1cm4gcy5tYXJrQXNPcmlnaW5hdGluZ0Zyb21SZWplY3Rpb24odCksdH1mdW5jdGlvbiBvKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4scil7aWYobnVsbCE9PXQpe2lmKG4pe3ZhciBvPWkoYShuKSk7dC5fYXR0YWNoRXh0cmFUcmFjZShvKSx0Ll9yZWplY3Qobyl9ZWxzZSBpZihlKXt2YXIgcz1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTt0Ll9mdWxmaWxsKHMpfWVsc2UgdC5fZnVsZmlsbChyKTt0PW51bGx9fX12YXIgcz10KFwiLi91dGlsXCIpLGE9cy5tYXliZVdyYXBBc0Vycm9yLGM9dChcIi4vZXJyb3JzXCIpLHU9Yy5PcGVyYXRpb25hbEVycm9yLGw9dChcIi4vZXM1XCIpLGY9L14oPzpuYW1lfG1lc3NhZ2V8c3RhY2t8Y2F1c2UpJC87ZS5leHBvcnRzPW99LHtcIi4vZXJyb3JzXCI6MTIsXCIuL2VzNVwiOjEzLFwiLi91dGlsXCI6MzZ9XSwyMTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKHQsZSl7dmFyIG49dGhpcztpZighby5pc0FycmF5KHQpKXJldHVybiByLmNhbGwobix0LGUpO3ZhciBpPWEoZSkuYXBwbHkobi5fYm91bmRWYWx1ZSgpLFtudWxsXS5jb25jYXQodCkpO2k9PT1jJiZzLnRocm93TGF0ZXIoaS5lKX1mdW5jdGlvbiByKHQsZSl7dmFyIG49dGhpcyxyPW4uX2JvdW5kVmFsdWUoKSxpPXZvaWQgMD09PXQ/YShlKS5jYWxsKHIsbnVsbCk6YShlKS5jYWxsKHIsbnVsbCx0KTtpPT09YyYmcy50aHJvd0xhdGVyKGkuZSl9ZnVuY3Rpb24gaSh0LGUpe3ZhciBuPXRoaXM7aWYoIXQpe3ZhciByPW5ldyBFcnJvcih0K1wiXCIpO3IuY2F1c2U9dCx0PXJ9dmFyIGk9YShlKS5jYWxsKG4uX2JvdW5kVmFsdWUoKSx0KTtpPT09YyYmcy50aHJvd0xhdGVyKGkuZSl9dmFyIG89dChcIi4vdXRpbFwiKSxzPWUuX2FzeW5jLGE9by50cnlDYXRjaCxjPW8uZXJyb3JPYmo7ZS5wcm90b3R5cGUuYXNDYWxsYmFjaz1lLnByb3RvdHlwZS5ub2RlaWZ5PWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdCl7dmFyIG89cjt2b2lkIDAhPT1lJiZPYmplY3QoZSkuc3ByZWFkJiYobz1uKSx0aGlzLl90aGVuKG8saSx2b2lkIDAsdGhpcyx0KX1yZXR1cm4gdGhpc319fSx7XCIuL3V0aWxcIjozNn1dLDIyOltmdW5jdGlvbih0LG4scil7XCJ1c2Ugc3RyaWN0XCI7bi5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcigpe31mdW5jdGlvbiBpKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgZyhcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIrZC5jbGFzc1N0cmluZyhlKSk7aWYodC5jb25zdHJ1Y3RvciE9PW8pdGhyb3cgbmV3IGcoXCJ0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgaW52b2tlZCBkaXJlY3RseVxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIil9ZnVuY3Rpb24gbyh0KXt0aGlzLl9iaXRGaWVsZD0wLHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlcjA9dm9pZCAwLHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwPXZvaWQgMCx0aGlzLl9wcm9taXNlMD12b2lkIDAsdGhpcy5fcmVjZWl2ZXIwPXZvaWQgMCx0IT09dyYmKGkodGhpcyx0KSx0aGlzLl9yZXNvbHZlRnJvbUV4ZWN1dG9yKHQpKSx0aGlzLl9wcm9taXNlQ3JlYXRlZCgpLHRoaXMuX2ZpcmVFdmVudChcInByb21pc2VDcmVhdGVkXCIsdGhpcyl9ZnVuY3Rpb24gcyh0KXt0aGlzLnByb21pc2UuX3Jlc29sdmVDYWxsYmFjayh0KX1mdW5jdGlvbiBhKHQpe3RoaXMucHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2sodCwhMSl9ZnVuY3Rpb24gYyh0KXt2YXIgZT1uZXcgbyh3KTtlLl9mdWxmaWxsbWVudEhhbmRsZXIwPXQsZS5fcmVqZWN0aW9uSGFuZGxlcjA9dCxlLl9wcm9taXNlMD10LGUuX3JlY2VpdmVyMD10fXZhciB1LGw9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGcoXCJjaXJjdWxhciBwcm9taXNlIHJlc29sdXRpb24gY2hhaW5cXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXCIpfSxmPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvLlByb21pc2VJbnNwZWN0aW9uKHRoaXMuX3RhcmdldCgpKX0scD1mdW5jdGlvbih0KXtyZXR1cm4gby5yZWplY3QobmV3IGcodCkpfSxoPXt9LGQ9dChcIi4vdXRpbFwiKTt1PWQuaXNOb2RlP2Z1bmN0aW9uKCl7dmFyIHQ9ZS5kb21haW47cmV0dXJuIHZvaWQgMD09PXQmJih0PW51bGwpLHR9OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGQubm90RW51bWVyYWJsZVByb3AobyxcIl9nZXREb21haW5cIix1KTt2YXIgXz10KFwiLi9lczVcIiksdj10KFwiLi9hc3luY1wiKSx5PW5ldyB2O18uZGVmaW5lUHJvcGVydHkobyxcIl9hc3luY1wiLHt2YWx1ZTp5fSk7dmFyIG09dChcIi4vZXJyb3JzXCIpLGc9by5UeXBlRXJyb3I9bS5UeXBlRXJyb3I7by5SYW5nZUVycm9yPW0uUmFuZ2VFcnJvcjt2YXIgYj1vLkNhbmNlbGxhdGlvbkVycm9yPW0uQ2FuY2VsbGF0aW9uRXJyb3I7by5UaW1lb3V0RXJyb3I9bS5UaW1lb3V0RXJyb3Isby5PcGVyYXRpb25hbEVycm9yPW0uT3BlcmF0aW9uYWxFcnJvcixvLlJlamVjdGlvbkVycm9yPW0uT3BlcmF0aW9uYWxFcnJvcixvLkFnZ3JlZ2F0ZUVycm9yPW0uQWdncmVnYXRlRXJyb3I7dmFyIHc9ZnVuY3Rpb24oKXt9LEU9e30sQz17fSxrPXQoXCIuL3RoZW5hYmxlc1wiKShvLHcpLGo9dChcIi4vcHJvbWlzZV9hcnJheVwiKShvLHcsayxwLHIpLHg9dChcIi4vY29udGV4dFwiKShvKSxGPXguY3JlYXRlLFQ9dChcIi4vZGVidWdnYWJpbGl0eVwiKShvLHgpLFM9KFQuQ2FwdHVyZWRUcmFjZSx0KFwiLi9maW5hbGx5XCIpKG8saykpLFA9dChcIi4vY2F0Y2hfZmlsdGVyXCIpKEMpLE89dChcIi4vbm9kZWJhY2tcIiksUj1kLmVycm9yT2JqLEE9ZC50cnlDYXRjaDtyZXR1cm4gby5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltvYmplY3QgUHJvbWlzZV1cIn0sby5wcm90b3R5cGUuY2F1Z2h0PW8ucHJvdG90eXBlW1wiY2F0Y2hcIl09ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDtpZihlPjEpe3ZhciBuLHI9bmV3IEFycmF5KGUtMSksaT0wO2ZvcihuPTA7ZS0xPm47KytuKXt2YXIgbz1hcmd1bWVudHNbbl07aWYoIWQuaXNPYmplY3QobykpcmV0dXJuIHAoXCJleHBlY3RpbmcgYW4gb2JqZWN0IGJ1dCBnb3QgQSBjYXRjaCBzdGF0ZW1lbnQgcHJlZGljYXRlIFwiK2QuY2xhc3NTdHJpbmcobykpO3JbaSsrXT1vfXJldHVybiByLmxlbmd0aD1pLHQ9YXJndW1lbnRzW25dLHRoaXMudGhlbih2b2lkIDAsUChyLHQsdGhpcykpfXJldHVybiB0aGlzLnRoZW4odm9pZCAwLHQpfSxvLnByb3RvdHlwZS5yZWZsZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RoZW4oZixmLHZvaWQgMCx0aGlzLHZvaWQgMCl9LG8ucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24odCxlKXtpZihULndhcm5pbmdzKCkmJmFyZ3VtZW50cy5sZW5ndGg+MCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgZSl7dmFyIG49XCIudGhlbigpIG9ubHkgYWNjZXB0cyBmdW5jdGlvbnMgYnV0IHdhcyBwYXNzZWQ6IFwiK2QuY2xhc3NTdHJpbmcodCk7YXJndW1lbnRzLmxlbmd0aD4xJiYobis9XCIsIFwiK2QuY2xhc3NTdHJpbmcoZSkpLHRoaXMuX3dhcm4obil9cmV0dXJuIHRoaXMuX3RoZW4odCxlLHZvaWQgMCx2b2lkIDAsdm9pZCAwKX0sby5wcm90b3R5cGUuZG9uZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX3RoZW4odCxlLHZvaWQgMCx2b2lkIDAsdm9pZCAwKTtuLl9zZXRJc0ZpbmFsKCl9LG8ucHJvdG90eXBlLnNwcmVhZD1mdW5jdGlvbih0KXtyZXR1cm5cImZ1bmN0aW9uXCIhPXR5cGVvZiB0P3AoXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiK2QuY2xhc3NTdHJpbmcodCkpOnRoaXMuYWxsKCkuX3RoZW4odCx2b2lkIDAsdm9pZCAwLEUsdm9pZCAwKX0sby5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIHQ9e2lzRnVsZmlsbGVkOiExLGlzUmVqZWN0ZWQ6ITEsZnVsZmlsbG1lbnRWYWx1ZTp2b2lkIDAscmVqZWN0aW9uUmVhc29uOnZvaWQgMH07cmV0dXJuIHRoaXMuaXNGdWxmaWxsZWQoKT8odC5mdWxmaWxsbWVudFZhbHVlPXRoaXMudmFsdWUoKSx0LmlzRnVsZmlsbGVkPSEwKTp0aGlzLmlzUmVqZWN0ZWQoKSYmKHQucmVqZWN0aW9uUmVhc29uPXRoaXMucmVhc29uKCksdC5pc1JlamVjdGVkPSEwKSx0fSxvLnByb3RvdHlwZS5hbGw9ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wJiZ0aGlzLl93YXJuKFwiLmFsbCgpIHdhcyBwYXNzZWQgYXJndW1lbnRzIGJ1dCBpdCBkb2VzIG5vdCB0YWtlIGFueVwiKSxuZXcgaih0aGlzKS5wcm9taXNlKCl9LG8ucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNhdWdodChkLm9yaWdpbmF0ZXNGcm9tUmVqZWN0aW9uLHQpfSxvLmdldE5ld0xpYnJhcnlDb3B5PW4uZXhwb3J0cyxvLmlzPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2Ygb30sby5mcm9tTm9kZT1vLmZyb21DYWxsYmFjaz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgbyh3KTtlLl9jYXB0dXJlU3RhY2tUcmFjZSgpO3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MT8hIU9iamVjdChhcmd1bWVudHNbMV0pLm11bHRpQXJnczohMSxyPUEodCkoTyhlLG4pKTtyZXR1cm4gcj09PVImJmUuX3JlamVjdENhbGxiYWNrKHIuZSwhMCksZS5faXNGYXRlU2VhbGVkKCl8fGUuX3NldEFzeW5jR3VhcmFudGVlZCgpLGV9LG8uYWxsPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgaih0KS5wcm9taXNlKCl9LG8uY2FzdD1mdW5jdGlvbih0KXt2YXIgZT1rKHQpO3JldHVybiBlIGluc3RhbmNlb2Ygb3x8KGU9bmV3IG8odyksZS5fY2FwdHVyZVN0YWNrVHJhY2UoKSxlLl9zZXRGdWxmaWxsZWQoKSxlLl9yZWplY3Rpb25IYW5kbGVyMD10KSxlfSxvLnJlc29sdmU9by5mdWxmaWxsZWQ9by5jYXN0LG8ucmVqZWN0PW8ucmVqZWN0ZWQ9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IG8odyk7cmV0dXJuIGUuX2NhcHR1cmVTdGFja1RyYWNlKCksZS5fcmVqZWN0Q2FsbGJhY2sodCwhMCksZX0sby5zZXRTY2hlZHVsZXI9ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgZyhcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIrZC5jbGFzc1N0cmluZyh0KSk7cmV0dXJuIHkuc2V0U2NoZWR1bGVyKHQpfSxvLnByb3RvdHlwZS5fdGhlbj1mdW5jdGlvbih0LGUsbixyLGkpe3ZhciBzPXZvaWQgMCE9PWksYT1zP2k6bmV3IG8odyksYz10aGlzLl90YXJnZXQoKSxsPWMuX2JpdEZpZWxkO3N8fChhLl9wcm9wYWdhdGVGcm9tKHRoaXMsMyksYS5fY2FwdHVyZVN0YWNrVHJhY2UoKSx2b2lkIDA9PT1yJiYwIT09KDIwOTcxNTImdGhpcy5fYml0RmllbGQpJiYocj0wIT09KDUwMzk3MTg0JmwpP3RoaXMuX2JvdW5kVmFsdWUoKTpjPT09dGhpcz92b2lkIDA6dGhpcy5fYm91bmRUbyksdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZUNoYWluZWRcIix0aGlzLGEpKTt2YXIgZj11KCk7aWYoMCE9PSg1MDM5NzE4NCZsKSl7dmFyIHAsaCxfPWMuX3NldHRsZVByb21pc2VDdHg7MCE9PSgzMzU1NDQzMiZsKT8oaD1jLl9yZWplY3Rpb25IYW5kbGVyMCxwPXQpOjAhPT0oMTY3NzcyMTYmbCk/KGg9Yy5fZnVsZmlsbG1lbnRIYW5kbGVyMCxwPWUsYy5fdW5zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZCgpKTooXz1jLl9zZXR0bGVQcm9taXNlTGF0ZUNhbmNlbGxhdGlvbk9ic2VydmVyLGg9bmV3IGIoXCJsYXRlIGNhbmNlbGxhdGlvbiBvYnNlcnZlclwiKSxjLl9hdHRhY2hFeHRyYVRyYWNlKGgpLHA9ZSkseS5pbnZva2UoXyxjLHtoYW5kbGVyOm51bGw9PT1mP3A6XCJmdW5jdGlvblwiPT10eXBlb2YgcCYmZC5kb21haW5CaW5kKGYscCkscHJvbWlzZTphLHJlY2VpdmVyOnIsdmFsdWU6aH0pfWVsc2UgYy5fYWRkQ2FsbGJhY2tzKHQsZSxhLHIsZik7cmV0dXJuIGF9LG8ucHJvdG90eXBlLl9sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gNjU1MzUmdGhpcy5fYml0RmllbGR9LG8ucHJvdG90eXBlLl9pc0ZhdGVTZWFsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PSgxMTc1MDYwNDgmdGhpcy5fYml0RmllbGQpfSxvLnByb3RvdHlwZS5faXNGb2xsb3dpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gNjcxMDg4NjQ9PT0oNjcxMDg4NjQmdGhpcy5fYml0RmllbGQpfSxvLnByb3RvdHlwZS5fc2V0TGVuZ3RoPWZ1bmN0aW9uKHQpe3RoaXMuX2JpdEZpZWxkPS02NTUzNiZ0aGlzLl9iaXRGaWVsZHw2NTUzNSZ0fSxvLnByb3RvdHlwZS5fc2V0RnVsZmlsbGVkPWZ1bmN0aW9uKCl7dGhpcy5fYml0RmllbGQ9MzM1NTQ0MzJ8dGhpcy5fYml0RmllbGQsdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZUZ1bGZpbGxlZFwiLHRoaXMpfSxvLnByb3RvdHlwZS5fc2V0UmVqZWN0ZWQ9ZnVuY3Rpb24oKXt0aGlzLl9iaXRGaWVsZD0xNjc3NzIxNnx0aGlzLl9iaXRGaWVsZCx0aGlzLl9maXJlRXZlbnQoXCJwcm9taXNlUmVqZWN0ZWRcIix0aGlzKX0sby5wcm90b3R5cGUuX3NldEZvbGxvd2luZz1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPTY3MTA4ODY0fHRoaXMuX2JpdEZpZWxkLHRoaXMuX2ZpcmVFdmVudChcInByb21pc2VSZXNvbHZlZFwiLHRoaXMpfSxvLnByb3RvdHlwZS5fc2V0SXNGaW5hbD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPTQxOTQzMDR8dGhpcy5fYml0RmllbGR9LG8ucHJvdG90eXBlLl9pc0ZpbmFsPWZ1bmN0aW9uKCl7cmV0dXJuKDQxOTQzMDQmdGhpcy5fYml0RmllbGQpPjB9LG8ucHJvdG90eXBlLl91bnNldENhbmNlbGxlZD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPS02NTUzNyZ0aGlzLl9iaXRGaWVsZH0sby5wcm90b3R5cGUuX3NldENhbmNlbGxlZD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPTY1NTM2fHRoaXMuX2JpdEZpZWxkLHRoaXMuX2ZpcmVFdmVudChcInByb21pc2VDYW5jZWxsZWRcIix0aGlzKX0sby5wcm90b3R5cGUuX3NldFdpbGxCZUNhbmNlbGxlZD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPTgzODg2MDh8dGhpcy5fYml0RmllbGR9LG8ucHJvdG90eXBlLl9zZXRBc3luY0d1YXJhbnRlZWQ9ZnVuY3Rpb24oKXt5Lmhhc0N1c3RvbVNjaGVkdWxlcigpfHwodGhpcy5fYml0RmllbGQ9MTM0MjE3NzI4fHRoaXMuX2JpdEZpZWxkKX0sby5wcm90b3R5cGUuX3JlY2VpdmVyQXQ9ZnVuY3Rpb24odCl7dmFyIGU9MD09PXQ/dGhpcy5fcmVjZWl2ZXIwOnRoaXNbNCp0LTQrM107aWYoZSE9PWgpcmV0dXJuIHZvaWQgMD09PWUmJnRoaXMuX2lzQm91bmQoKT90aGlzLl9ib3VuZFZhbHVlKCk6ZX0sby5wcm90b3R5cGUuX3Byb21pc2VBdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpc1s0KnQtNCsyXX0sby5wcm90b3R5cGUuX2Z1bGZpbGxtZW50SGFuZGxlckF0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzWzQqdC00KzBdfSxvLnByb3RvdHlwZS5fcmVqZWN0aW9uSGFuZGxlckF0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzWzQqdC00KzFdfSxvLnByb3RvdHlwZS5fYm91bmRWYWx1ZT1mdW5jdGlvbigpe30sby5wcm90b3R5cGUuX21pZ3JhdGVDYWxsYmFjazA9ZnVuY3Rpb24odCl7dmFyIGU9KHQuX2JpdEZpZWxkLHQuX2Z1bGZpbGxtZW50SGFuZGxlcjApLG49dC5fcmVqZWN0aW9uSGFuZGxlcjAscj10Ll9wcm9taXNlMCxpPXQuX3JlY2VpdmVyQXQoMCk7dm9pZCAwPT09aSYmKGk9aCksdGhpcy5fYWRkQ2FsbGJhY2tzKGUsbixyLGksbnVsbCl9LG8ucHJvdG90eXBlLl9taWdyYXRlQ2FsbGJhY2tBdD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuX2Z1bGZpbGxtZW50SGFuZGxlckF0KGUpLHI9dC5fcmVqZWN0aW9uSGFuZGxlckF0KGUpLGk9dC5fcHJvbWlzZUF0KGUpLG89dC5fcmVjZWl2ZXJBdChlKTt2b2lkIDA9PT1vJiYobz1oKSx0aGlzLl9hZGRDYWxsYmFja3MobixyLGksbyxudWxsKX0sby5wcm90b3R5cGUuX2FkZENhbGxiYWNrcz1mdW5jdGlvbih0LGUsbixyLGkpe3ZhciBvPXRoaXMuX2xlbmd0aCgpO2lmKG8+PTY1NTMxJiYobz0wLHRoaXMuX3NldExlbmd0aCgwKSksMD09PW8pdGhpcy5fcHJvbWlzZTA9bix0aGlzLl9yZWNlaXZlcjA9cixcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYodGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyMD1udWxsPT09aT90OmQuZG9tYWluQmluZChpLHQpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYodGhpcy5fcmVqZWN0aW9uSGFuZGxlcjA9bnVsbD09PWk/ZTpkLmRvbWFpbkJpbmQoaSxlKSk7ZWxzZXt2YXIgcz00Km8tNDt0aGlzW3MrMl09bix0aGlzW3MrM109cixcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYodGhpc1tzKzBdPW51bGw9PT1pP3Q6ZC5kb21haW5CaW5kKGksdCkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJih0aGlzW3MrMV09bnVsbD09PWk/ZTpkLmRvbWFpbkJpbmQoaSxlKSl9cmV0dXJuIHRoaXMuX3NldExlbmd0aChvKzEpLG99LG8ucHJvdG90eXBlLl9wcm94eT1mdW5jdGlvbih0LGUpe3RoaXMuX2FkZENhbGxiYWNrcyh2b2lkIDAsdm9pZCAwLGUsdCxudWxsKX0sby5wcm90b3R5cGUuX3Jlc29sdmVDYWxsYmFjaz1mdW5jdGlvbih0LGUpe2lmKDA9PT0oMTE3NTA2MDQ4JnRoaXMuX2JpdEZpZWxkKSl7aWYodD09PXRoaXMpcmV0dXJuIHRoaXMuX3JlamVjdENhbGxiYWNrKGwoKSwhMSk7dmFyIG49ayh0LHRoaXMpO2lmKCEobiBpbnN0YW5jZW9mIG8pKXJldHVybiB0aGlzLl9mdWxmaWxsKHQpO2UmJnRoaXMuX3Byb3BhZ2F0ZUZyb20obiwyKTt2YXIgcj1uLl90YXJnZXQoKTtpZihyPT09dGhpcylyZXR1cm4gdm9pZCB0aGlzLl9yZWplY3QobCgpKTt2YXIgaT1yLl9iaXRGaWVsZDtpZigwPT09KDUwMzk3MTg0JmkpKXt2YXIgcz10aGlzLl9sZW5ndGgoKTtzPjAmJnIuX21pZ3JhdGVDYWxsYmFjazAodGhpcyk7Zm9yKHZhciBhPTE7cz5hOysrYSlyLl9taWdyYXRlQ2FsbGJhY2tBdCh0aGlzLGEpO3RoaXMuX3NldEZvbGxvd2luZygpLHRoaXMuX3NldExlbmd0aCgwKSx0aGlzLl9zZXRGb2xsb3dlZShyKX1lbHNlIGlmKDAhPT0oMzM1NTQ0MzImaSkpdGhpcy5fZnVsZmlsbChyLl92YWx1ZSgpKTtlbHNlIGlmKDAhPT0oMTY3NzcyMTYmaSkpdGhpcy5fcmVqZWN0KHIuX3JlYXNvbigpKTtlbHNle3ZhciBjPW5ldyBiKFwibGF0ZSBjYW5jZWxsYXRpb24gb2JzZXJ2ZXJcIik7ci5fYXR0YWNoRXh0cmFUcmFjZShjKSx0aGlzLl9yZWplY3QoYyl9fX0sby5wcm90b3R5cGUuX3JlamVjdENhbGxiYWNrPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1kLmVuc3VyZUVycm9yT2JqZWN0KHQpLGk9cj09PXQ7aWYoIWkmJiFuJiZULndhcm5pbmdzKCkpe3ZhciBvPVwiYSBwcm9taXNlIHdhcyByZWplY3RlZCB3aXRoIGEgbm9uLWVycm9yOiBcIitkLmNsYXNzU3RyaW5nKHQpO3RoaXMuX3dhcm4obywhMCl9dGhpcy5fYXR0YWNoRXh0cmFUcmFjZShyLGU/aTohMSksdGhpcy5fcmVqZWN0KHQpfSxvLnByb3RvdHlwZS5fcmVzb2x2ZUZyb21FeGVjdXRvcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuX2NhcHR1cmVTdGFja1RyYWNlKCksdGhpcy5fcHVzaENvbnRleHQoKTt2YXIgbj0hMCxyPXRoaXMuX2V4ZWN1dGUodCxmdW5jdGlvbih0KXtlLl9yZXNvbHZlQ2FsbGJhY2sodCl9LGZ1bmN0aW9uKHQpe2UuX3JlamVjdENhbGxiYWNrKHQsbil9KTtuPSExLHRoaXMuX3BvcENvbnRleHQoKSx2b2lkIDAhPT1yJiZlLl9yZWplY3RDYWxsYmFjayhyLCEwKX0sby5wcm90b3R5cGUuX3NldHRsZVByb21pc2VGcm9tSGFuZGxlcj1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT1yLl9iaXRGaWVsZDtpZigwPT09KDY1NTM2JmkpKXtyLl9wdXNoQ29udGV4dCgpO3ZhciBvO2U9PT1FP24mJlwibnVtYmVyXCI9PXR5cGVvZiBuLmxlbmd0aD9vPUEodCkuYXBwbHkodGhpcy5fYm91bmRWYWx1ZSgpLG4pOihvPVIsby5lPW5ldyBnKFwiY2Fubm90IC5zcHJlYWQoKSBhIG5vbi1hcnJheTogXCIrZC5jbGFzc1N0cmluZyhuKSkpOm89QSh0KS5jYWxsKGUsbik7dmFyIHM9ci5fcG9wQ29udGV4dCgpO2k9ci5fYml0RmllbGQsMD09PSg2NTUzNiZpKSYmKG89PT1DP3IuX3JlamVjdChuKTpvPT09Uj9yLl9yZWplY3RDYWxsYmFjayhvLmUsITEpOihULmNoZWNrRm9yZ290dGVuUmV0dXJucyhvLHMsXCJcIixyLHRoaXMpLHIuX3Jlc29sdmVDYWxsYmFjayhvKSkpfX0sby5wcm90b3R5cGUuX3RhcmdldD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzO3QuX2lzRm9sbG93aW5nKCk7KXQ9dC5fZm9sbG93ZWUoKTtyZXR1cm4gdH0sby5wcm90b3R5cGUuX2ZvbGxvd2VlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwfSxvLnByb3RvdHlwZS5fc2V0Rm9sbG93ZWU9ZnVuY3Rpb24odCl7dGhpcy5fcmVqZWN0aW9uSGFuZGxlcjA9dH0sby5wcm90b3R5cGUuX3NldHRsZVByb21pc2U9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHM9dCBpbnN0YW5jZW9mIG8sYT10aGlzLl9iaXRGaWVsZCxjPTAhPT0oMTM0MjE3NzI4JmEpOzAhPT0oNjU1MzYmYSk/KHMmJnQuX2ludm9rZUludGVybmFsT25DYW5jZWwoKSxuIGluc3RhbmNlb2YgUyYmbi5pc0ZpbmFsbHlIYW5kbGVyKCk/KG4uY2FuY2VsUHJvbWlzZT10LEEoZSkuY2FsbChuLGkpPT09UiYmdC5fcmVqZWN0KFIuZSkpOmU9PT1mP3QuX2Z1bGZpbGwoZi5jYWxsKG4pKTpuIGluc3RhbmNlb2Ygcj9uLl9wcm9taXNlQ2FuY2VsbGVkKHQpOnN8fHQgaW5zdGFuY2VvZiBqP3QuX2NhbmNlbCgpOm4uY2FuY2VsKCkpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGU/cz8oYyYmdC5fc2V0QXN5bmNHdWFyYW50ZWVkKCksdGhpcy5fc2V0dGxlUHJvbWlzZUZyb21IYW5kbGVyKGUsbixpLHQpKTplLmNhbGwobixpLHQpOm4gaW5zdGFuY2VvZiByP24uX2lzUmVzb2x2ZWQoKXx8KDAhPT0oMzM1NTQ0MzImYSk/bi5fcHJvbWlzZUZ1bGZpbGxlZChpLHQpOm4uX3Byb21pc2VSZWplY3RlZChpLHQpKTpzJiYoYyYmdC5fc2V0QXN5bmNHdWFyYW50ZWVkKCksMCE9PSgzMzU1NDQzMiZhKT90Ll9mdWxmaWxsKGkpOnQuX3JlamVjdChpKSl9LG8ucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlTGF0ZUNhbmNlbGxhdGlvbk9ic2VydmVyPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaGFuZGxlcixuPXQucHJvbWlzZSxyPXQucmVjZWl2ZXIsaT10LnZhbHVlO1wiZnVuY3Rpb25cIj09dHlwZW9mIGU/biBpbnN0YW5jZW9mIG8/dGhpcy5fc2V0dGxlUHJvbWlzZUZyb21IYW5kbGVyKGUscixpLG4pOmUuY2FsbChyLGksbik6biBpbnN0YW5jZW9mIG8mJm4uX3JlamVjdChpKX0sby5wcm90b3R5cGUuX3NldHRsZVByb21pc2VDdHg9ZnVuY3Rpb24odCl7dGhpcy5fc2V0dGxlUHJvbWlzZSh0LnByb21pc2UsdC5oYW5kbGVyLHQucmVjZWl2ZXIsdC52YWx1ZSl9LG8ucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlMD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5fcHJvbWlzZTAsaT10aGlzLl9yZWNlaXZlckF0KDApO3RoaXMuX3Byb21pc2UwPXZvaWQgMCx0aGlzLl9yZWNlaXZlcjA9dm9pZCAwLHRoaXMuX3NldHRsZVByb21pc2Uocix0LGksZSl9LG8ucHJvdG90eXBlLl9jbGVhckNhbGxiYWNrRGF0YUF0SW5kZXg9ZnVuY3Rpb24odCl7dmFyIGU9NCp0LTQ7dGhpc1tlKzJdPXRoaXNbZSszXT10aGlzW2UrMF09dGhpc1tlKzFdPXZvaWQgMH0sby5wcm90b3R5cGUuX2Z1bGZpbGw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fYml0RmllbGQ7aWYoISgoMTE3NTA2MDQ4JmUpPj4+MTYpKXtpZih0PT09dGhpcyl7dmFyIG49bCgpO3JldHVybiB0aGlzLl9hdHRhY2hFeHRyYVRyYWNlKG4pLHRoaXMuX3JlamVjdChuKX10aGlzLl9zZXRGdWxmaWxsZWQoKSx0aGlzLl9yZWplY3Rpb25IYW5kbGVyMD10LCg2NTUzNSZlKT4wJiYoMCE9PSgxMzQyMTc3MjgmZSk/dGhpcy5fc2V0dGxlUHJvbWlzZXMoKTp5LnNldHRsZVByb21pc2VzKHRoaXMpKX19LG8ucHJvdG90eXBlLl9yZWplY3Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fYml0RmllbGQ7aWYoISgoMTE3NTA2MDQ4JmUpPj4+MTYpKXJldHVybiB0aGlzLl9zZXRSZWplY3RlZCgpLHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlcjA9dCx0aGlzLl9pc0ZpbmFsKCk/eS5mYXRhbEVycm9yKHQsZC5pc05vZGUpOnZvaWQoKDY1NTM1JmUpPjA/eS5zZXR0bGVQcm9taXNlcyh0aGlzKTp0aGlzLl9lbnN1cmVQb3NzaWJsZVJlamVjdGlvbkhhbmRsZWQoKSl9LG8ucHJvdG90eXBlLl9mdWxmaWxsUHJvbWlzZXM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MTt0Pm47bisrKXt2YXIgcj10aGlzLl9mdWxmaWxsbWVudEhhbmRsZXJBdChuKSxpPXRoaXMuX3Byb21pc2VBdChuKSxvPXRoaXMuX3JlY2VpdmVyQXQobik7dGhpcy5fY2xlYXJDYWxsYmFja0RhdGFBdEluZGV4KG4pLHRoaXMuX3NldHRsZVByb21pc2UoaSxyLG8sZSl9fSxvLnByb3RvdHlwZS5fcmVqZWN0UHJvbWlzZXM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MTt0Pm47bisrKXt2YXIgcj10aGlzLl9yZWplY3Rpb25IYW5kbGVyQXQobiksaT10aGlzLl9wcm9taXNlQXQobiksbz10aGlzLl9yZWNlaXZlckF0KG4pO3RoaXMuX2NsZWFyQ2FsbGJhY2tEYXRhQXRJbmRleChuKSx0aGlzLl9zZXR0bGVQcm9taXNlKGkscixvLGUpfX0sby5wcm90b3R5cGUuX3NldHRsZVByb21pc2VzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fYml0RmllbGQsZT02NTUzNSZ0O2lmKGU+MCl7aWYoMCE9PSgxNjg0Mjc1MiZ0KSl7dmFyIG49dGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyMDt0aGlzLl9zZXR0bGVQcm9taXNlMCh0aGlzLl9yZWplY3Rpb25IYW5kbGVyMCxuLHQpLHRoaXMuX3JlamVjdFByb21pc2VzKGUsbil9ZWxzZXt2YXIgcj10aGlzLl9yZWplY3Rpb25IYW5kbGVyMDt0aGlzLl9zZXR0bGVQcm9taXNlMCh0aGlzLl9mdWxmaWxsbWVudEhhbmRsZXIwLHIsdCksdGhpcy5fZnVsZmlsbFByb21pc2VzKGUscil9dGhpcy5fc2V0TGVuZ3RoKDApfXRoaXMuX2NsZWFyQ2FuY2VsbGF0aW9uRGF0YSgpfSxvLnByb3RvdHlwZS5fc2V0dGxlZFZhbHVlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fYml0RmllbGQ7cmV0dXJuIDAhPT0oMzM1NTQ0MzImdCk/dGhpcy5fcmVqZWN0aW9uSGFuZGxlcjA6MCE9PSgxNjc3NzIxNiZ0KT90aGlzLl9mdWxmaWxsbWVudEhhbmRsZXIwOnZvaWQgMH0sby5kZWZlcj1vLnBlbmRpbmc9ZnVuY3Rpb24oKXtULmRlcHJlY2F0ZWQoXCJQcm9taXNlLmRlZmVyXCIsXCJuZXcgUHJvbWlzZVwiKTt2YXIgdD1uZXcgbyh3KTtyZXR1cm57cHJvbWlzZTp0LHJlc29sdmU6cyxyZWplY3Q6YX19LGQubm90RW51bWVyYWJsZVByb3AobyxcIl9tYWtlU2VsZlJlc29sdXRpb25FcnJvclwiLGwpLHQoXCIuL21ldGhvZFwiKShvLHcsayxwLFQpLHQoXCIuL2JpbmRcIikobyx3LGssVCksdChcIi4vY2FuY2VsXCIpKG8saixwLFQpLHQoXCIuL2RpcmVjdF9yZXNvbHZlXCIpKG8pLHQoXCIuL3N5bmNocm9ub3VzX2luc3BlY3Rpb25cIikobyksdChcIi4vam9pblwiKShvLGosayx3LHksdSksby5Qcm9taXNlPW8sby52ZXJzaW9uPVwiMy40LjZcIix0KFwiLi9tYXAuanNcIikobyxqLHAsayx3LFQpLHQoXCIuL2NhbGxfZ2V0LmpzXCIpKG8pLHQoXCIuL3VzaW5nLmpzXCIpKG8scCxrLEYsdyxUKSx0KFwiLi90aW1lcnMuanNcIikobyx3LFQpLHQoXCIuL2dlbmVyYXRvcnMuanNcIikobyxwLHcsayxyLFQpLHQoXCIuL25vZGVpZnkuanNcIikobyksdChcIi4vcHJvbWlzaWZ5LmpzXCIpKG8sdyksdChcIi4vcHJvcHMuanNcIikobyxqLGsscCksdChcIi4vcmFjZS5qc1wiKShvLHcsayxwKSx0KFwiLi9yZWR1Y2UuanNcIikobyxqLHAsayx3LFQpLHQoXCIuL3NldHRsZS5qc1wiKShvLGosVCksdChcIi4vc29tZS5qc1wiKShvLGoscCksdChcIi4vZmlsdGVyLmpzXCIpKG8sdyksdChcIi4vZWFjaC5qc1wiKShvLHcpLHQoXCIuL2FueS5qc1wiKShvKSxkLnRvRmFzdFByb3BlcnRpZXMobyksZC50b0Zhc3RQcm9wZXJ0aWVzKG8ucHJvdG90eXBlKSxjKHthOjF9KSxjKHtiOjJ9KSxjKHtjOjN9KSxjKDEpLGMoZnVuY3Rpb24oKXt9KSxjKHZvaWQgMCksYyghMSksYyhuZXcgbyh3KSksVC5zZXRCb3VuZHModi5maXJzdExpbmVFcnJvcixkLmxhc3RMaW5lRXJyb3IpLG99fSx7XCIuL2FueS5qc1wiOjEsXCIuL2FzeW5jXCI6MixcIi4vYmluZFwiOjMsXCIuL2NhbGxfZ2V0LmpzXCI6NSxcIi4vY2FuY2VsXCI6NixcIi4vY2F0Y2hfZmlsdGVyXCI6NyxcIi4vY29udGV4dFwiOjgsXCIuL2RlYnVnZ2FiaWxpdHlcIjo5LFwiLi9kaXJlY3RfcmVzb2x2ZVwiOjEwLFwiLi9lYWNoLmpzXCI6MTEsXCIuL2Vycm9yc1wiOjEyLFwiLi9lczVcIjoxMyxcIi4vZmlsdGVyLmpzXCI6MTQsXCIuL2ZpbmFsbHlcIjoxNSxcIi4vZ2VuZXJhdG9ycy5qc1wiOjE2LFwiLi9qb2luXCI6MTcsXCIuL21hcC5qc1wiOjE4LFwiLi9tZXRob2RcIjoxOSxcIi4vbm9kZWJhY2tcIjoyMCxcIi4vbm9kZWlmeS5qc1wiOjIxLFwiLi9wcm9taXNlX2FycmF5XCI6MjMsXCIuL3Byb21pc2lmeS5qc1wiOjI0LFwiLi9wcm9wcy5qc1wiOjI1LFwiLi9yYWNlLmpzXCI6MjcsXCIuL3JlZHVjZS5qc1wiOjI4LFwiLi9zZXR0bGUuanNcIjozMCxcIi4vc29tZS5qc1wiOjMxLFwiLi9zeW5jaHJvbm91c19pbnNwZWN0aW9uXCI6MzIsXCIuL3RoZW5hYmxlc1wiOjMzLFwiLi90aW1lcnMuanNcIjozNCxcIi4vdXNpbmcuanNcIjozNSxcIi4vdXRpbFwiOjM2fV0sMjM6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIsaSxvKXtmdW5jdGlvbiBzKHQpe3N3aXRjaCh0KXtjYXNlLTI6cmV0dXJuW107Y2FzZS0zOnJldHVybnt9fX1mdW5jdGlvbiBhKHQpe3ZhciByPXRoaXMuX3Byb21pc2U9bmV3IGUobik7dCBpbnN0YW5jZW9mIGUmJnIuX3Byb3BhZ2F0ZUZyb20odCwzKSxyLl9zZXRPbkNhbmNlbCh0aGlzKSx0aGlzLl92YWx1ZXM9dCx0aGlzLl9sZW5ndGg9MCx0aGlzLl90b3RhbFJlc29sdmVkPTAsdGhpcy5faW5pdCh2b2lkIDAsLTIpfXZhciBjPXQoXCIuL3V0aWxcIik7Yy5pc0FycmF5O3JldHVybiBjLmluaGVyaXRzKGEsbyksYS5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlbmd0aH0sYS5wcm90b3R5cGUucHJvbWlzZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9taXNlfSxhLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbiB1KHQsbil7dmFyIG89cih0aGlzLl92YWx1ZXMsdGhpcy5fcHJvbWlzZSk7aWYobyBpbnN0YW5jZW9mIGUpe289by5fdGFyZ2V0KCk7dmFyIGE9by5fYml0RmllbGQ7aWYodGhpcy5fdmFsdWVzPW8sMD09PSg1MDM5NzE4NCZhKSlyZXR1cm4gdGhpcy5fcHJvbWlzZS5fc2V0QXN5bmNHdWFyYW50ZWVkKCksby5fdGhlbih1LHRoaXMuX3JlamVjdCx2b2lkIDAsdGhpcyxuKTtpZigwPT09KDMzNTU0NDMyJmEpKXJldHVybiAwIT09KDE2Nzc3MjE2JmEpP3RoaXMuX3JlamVjdChvLl9yZWFzb24oKSk6dGhpcy5fY2FuY2VsKCk7bz1vLl92YWx1ZSgpfWlmKG89Yy5hc0FycmF5KG8pLG51bGw9PT1vKXt2YXIgbD1pKFwiZXhwZWN0aW5nIGFuIGFycmF5IG9yIGFuIGl0ZXJhYmxlIG9iamVjdCBidXQgZ290IFwiK2MuY2xhc3NTdHJpbmcobykpLnJlYXNvbigpO3JldHVybiB2b2lkIHRoaXMuX3Byb21pc2UuX3JlamVjdENhbGxiYWNrKGwsITEpfXJldHVybiAwPT09by5sZW5ndGg/dm9pZCgtNT09PW4/dGhpcy5fcmVzb2x2ZUVtcHR5QXJyYXkoKTp0aGlzLl9yZXNvbHZlKHMobikpKTp2b2lkIHRoaXMuX2l0ZXJhdGUobyl9LGEucHJvdG90eXBlLl9pdGVyYXRlPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuZ2V0QWN0dWFsTGVuZ3RoKHQubGVuZ3RoKTt0aGlzLl9sZW5ndGg9bix0aGlzLl92YWx1ZXM9dGhpcy5zaG91bGRDb3B5VmFsdWVzKCk/bmV3IEFycmF5KG4pOnRoaXMuX3ZhbHVlcztmb3IodmFyIGk9dGhpcy5fcHJvbWlzZSxvPSExLHM9bnVsbCxhPTA7bj5hOysrYSl7dmFyIGM9cih0W2FdLGkpO2MgaW5zdGFuY2VvZiBlPyhjPWMuX3RhcmdldCgpLHM9Yy5fYml0RmllbGQpOnM9bnVsbCxvP251bGwhPT1zJiZjLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucygpOm51bGwhPT1zPzA9PT0oNTAzOTcxODQmcyk/KGMuX3Byb3h5KHRoaXMsYSksdGhpcy5fdmFsdWVzW2FdPWMpOm89MCE9PSgzMzU1NDQzMiZzKT90aGlzLl9wcm9taXNlRnVsZmlsbGVkKGMuX3ZhbHVlKCksYSk6MCE9PSgxNjc3NzIxNiZzKT90aGlzLl9wcm9taXNlUmVqZWN0ZWQoYy5fcmVhc29uKCksYSk6dGhpcy5fcHJvbWlzZUNhbmNlbGxlZChhKTpvPXRoaXMuX3Byb21pc2VGdWxmaWxsZWQoYyxhKX1vfHxpLl9zZXRBc3luY0d1YXJhbnRlZWQoKX0sYS5wcm90b3R5cGUuX2lzUmVzb2x2ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuX3ZhbHVlc30sYS5wcm90b3R5cGUuX3Jlc29sdmU9ZnVuY3Rpb24odCl7dGhpcy5fdmFsdWVzPW51bGwsdGhpcy5fcHJvbWlzZS5fZnVsZmlsbCh0KX0sYS5wcm90b3R5cGUuX2NhbmNlbD1mdW5jdGlvbigpeyF0aGlzLl9pc1Jlc29sdmVkKCkmJnRoaXMuX3Byb21pc2UuX2lzQ2FuY2VsbGFibGUoKSYmKHRoaXMuX3ZhbHVlcz1udWxsLHRoaXMuX3Byb21pc2UuX2NhbmNlbCgpKX0sYS5wcm90b3R5cGUuX3JlamVjdD1mdW5jdGlvbih0KXt0aGlzLl92YWx1ZXM9bnVsbCx0aGlzLl9wcm9taXNlLl9yZWplY3RDYWxsYmFjayh0LCExKX0sYS5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQ9ZnVuY3Rpb24odCxlKXt0aGlzLl92YWx1ZXNbZV09dDt2YXIgbj0rK3RoaXMuX3RvdGFsUmVzb2x2ZWQ7cmV0dXJuIG4+PXRoaXMuX2xlbmd0aD8odGhpcy5fcmVzb2x2ZSh0aGlzLl92YWx1ZXMpLCEwKTohMX0sYS5wcm90b3R5cGUuX3Byb21pc2VDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FuY2VsKCksITB9LGEucHJvdG90eXBlLl9wcm9taXNlUmVqZWN0ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3RvdGFsUmVzb2x2ZWQrKyx0aGlzLl9yZWplY3QodCksITB9LGEucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5faXNSZXNvbHZlZCgpKXt2YXIgdD10aGlzLl92YWx1ZXM7aWYodGhpcy5fY2FuY2VsKCksdCBpbnN0YW5jZW9mIGUpdC5jYW5jZWwoKTtlbHNlIGZvcih2YXIgbj0wO248dC5sZW5ndGg7KytuKXRbbl1pbnN0YW5jZW9mIGUmJnRbbl0uY2FuY2VsKCl9fSxhLnByb3RvdHlwZS5zaG91bGRDb3B5VmFsdWVzPWZ1bmN0aW9uKCl7cmV0dXJuITB9LGEucHJvdG90eXBlLmdldEFjdHVhbExlbmd0aD1mdW5jdGlvbih0KXtyZXR1cm4gdH0sYX19LHtcIi4vdXRpbFwiOjM2fV0sMjQ6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiByKHQpe3JldHVybiFFLnRlc3QodCl9ZnVuY3Rpb24gaSh0KXt0cnl7cmV0dXJuIHQuX19pc1Byb21pc2lmaWVkX189PT0hMH1jYXRjaChlKXtyZXR1cm4hMX19ZnVuY3Rpb24gbyh0LGUsbil7dmFyIHI9aC5nZXREYXRhUHJvcGVydHlPckRlZmF1bHQodCxlK24sYik7cmV0dXJuIHI/aShyKTohMX1mdW5jdGlvbiBzKHQsZSxuKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrPTIpe3ZhciBpPXRbcl07aWYobi50ZXN0KGkpKWZvcih2YXIgbz1pLnJlcGxhY2UobixcIlwiKSxzPTA7czx0Lmxlbmd0aDtzKz0yKWlmKHRbc109PT1vKXRocm93IG5ldyBtKFwiQ2Fubm90IHByb21pc2lmeSBhbiBBUEkgdGhhdCBoYXMgbm9ybWFsIG1ldGhvZHMgd2l0aCAnJXMnLXN1ZmZpeFxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIi5yZXBsYWNlKFwiJXNcIixlKSl9fWZ1bmN0aW9uIGEodCxlLG4scil7Zm9yKHZhciBhPWguaW5oZXJpdGVkRGF0YUtleXModCksYz1bXSx1PTA7dTxhLmxlbmd0aDsrK3Upe3ZhciBsPWFbdV0sZj10W2xdLHA9cj09PUM/ITA6QyhsLGYsdCk7XCJmdW5jdGlvblwiIT10eXBlb2YgZnx8aShmKXx8byh0LGwsZSl8fCFyKGwsZix0LHApfHxjLnB1c2gobCxmKX1yZXR1cm4gcyhjLGUsbiksY31mdW5jdGlvbiBjKHQscixpLG8scyxhKXtmdW5jdGlvbiBjKCl7dmFyIGk9cjtyPT09cCYmKGk9dGhpcyk7dmFyIG89bmV3IGUobik7by5fY2FwdHVyZVN0YWNrVHJhY2UoKTt2YXIgcz1cInN0cmluZ1wiPT10eXBlb2YgbCYmdGhpcyE9PXU/dGhpc1tsXTp0LGM9ZChvLGEpO3RyeXtzLmFwcGx5KGksXyhhcmd1bWVudHMsYykpfWNhdGNoKGYpe28uX3JlamVjdENhbGxiYWNrKHYoZiksITAsITApfXJldHVybiBvLl9pc0ZhdGVTZWFsZWQoKXx8by5fc2V0QXN5bmNHdWFyYW50ZWVkKCksb312YXIgdT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpLGw9dDtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgbCYmKHQ9byksaC5ub3RFbnVtZXJhYmxlUHJvcChjLFwiX19pc1Byb21pc2lmaWVkX19cIiwhMCksY31mdW5jdGlvbiB1KHQsZSxuLHIsaSl7Zm9yKHZhciBvPW5ldyBSZWdFeHAoayhlKStcIiRcIikscz1hKHQsZSxvLG4pLGM9MCx1PXMubGVuZ3RoO3U+YztjKz0yKXt2YXIgbD1zW2NdLGY9c1tjKzFdLGQ9bCtlO2lmKHI9PT1qKXRbZF09aihsLHAsbCxmLGUsaSk7ZWxzZXt2YXIgXz1yKGYsZnVuY3Rpb24oKXtyZXR1cm4gaihsLHAsbCxmLGUsaSl9KTtoLm5vdEVudW1lcmFibGVQcm9wKF8sXCJfX2lzUHJvbWlzaWZpZWRfX1wiLCEwKSx0W2RdPV99fXJldHVybiBoLnRvRmFzdFByb3BlcnRpZXModCksdH1mdW5jdGlvbiBsKHQsZSxuKXtyZXR1cm4gaih0LGUsdm9pZCAwLHQsbnVsbCxuKX12YXIgZixwPXt9LGg9dChcIi4vdXRpbFwiKSxkPXQoXCIuL25vZGViYWNrXCIpLF89aC53aXRoQXBwZW5kZWQsdj1oLm1heWJlV3JhcEFzRXJyb3IseT1oLmNhbkV2YWx1YXRlLG09dChcIi4vZXJyb3JzXCIpLlR5cGVFcnJvcixnPVwiQXN5bmNcIixiPXtfX2lzUHJvbWlzaWZpZWRfXzohMH0sdz1bXCJhcml0eVwiLFwibGVuZ3RoXCIsXCJuYW1lXCIsXCJhcmd1bWVudHNcIixcImNhbGxlclwiLFwiY2FsbGVlXCIsXCJwcm90b3R5cGVcIixcIl9faXNQcm9taXNpZmllZF9fXCJdLEU9bmV3IFJlZ0V4cChcIl4oPzpcIit3LmpvaW4oXCJ8XCIpK1wiKSRcIiksQz1mdW5jdGlvbih0KXtyZXR1cm4gaC5pc0lkZW50aWZpZXIodCkmJlwiX1wiIT09dC5jaGFyQXQoMCkmJlwiY29uc3RydWN0b3JcIiE9PXR9LGs9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvKFskXSkvLFwiXFxcXCRcIil9LGo9eT9mOmM7ZS5wcm9taXNpZnk9ZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBtKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIitoLmNsYXNzU3RyaW5nKHQpKTtpZihpKHQpKXJldHVybiB0O2U9T2JqZWN0KGUpO3ZhciBuPXZvaWQgMD09PWUuY29udGV4dD9wOmUuY29udGV4dCxvPSEhZS5tdWx0aUFyZ3Mscz1sKHQsbixvKTtyZXR1cm4gaC5jb3B5RGVzY3JpcHRvcnModCxzLHIpLHN9LGUucHJvbWlzaWZ5QWxsPWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmXCJvYmplY3RcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IG0oXCJ0aGUgdGFyZ2V0IG9mIHByb21pc2lmeUFsbCBtdXN0IGJlIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKTtlPU9iamVjdChlKTt2YXIgbj0hIWUubXVsdGlBcmdzLHI9ZS5zdWZmaXg7XCJzdHJpbmdcIiE9dHlwZW9mIHImJihyPWcpO3ZhciBpPWUuZmlsdGVyO1wiZnVuY3Rpb25cIiE9dHlwZW9mIGkmJihpPUMpO3ZhciBvPWUucHJvbWlzaWZpZXI7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgbyYmKG89aiksIWguaXNJZGVudGlmaWVyKHIpKXRocm93IG5ldyBSYW5nZUVycm9yKFwic3VmZml4IG11c3QgYmUgYSB2YWxpZCBpZGVudGlmaWVyXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKTtmb3IodmFyIHM9aC5pbmhlcml0ZWREYXRhS2V5cyh0KSxhPTA7YTxzLmxlbmd0aDsrK2Epe3ZhciBjPXRbc1thXV07XCJjb25zdHJ1Y3RvclwiIT09c1thXSYmaC5pc0NsYXNzKGMpJiYodShjLnByb3RvdHlwZSxyLGksbyxuKSx1KGMscixpLG8sbikpfXJldHVybiB1KHQscixpLG8sbil9fX0se1wiLi9lcnJvcnNcIjoxMixcIi4vbm9kZWJhY2tcIjoyMCxcIi4vdXRpbFwiOjM2fV0sMjU6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIsaSl7ZnVuY3Rpb24gbyh0KXt2YXIgZSxuPSExO2lmKHZvaWQgMCE9PWEmJnQgaW5zdGFuY2VvZiBhKWU9Zih0KSxuPSEwO2Vsc2V7dmFyIHI9bC5rZXlzKHQpLGk9ci5sZW5ndGg7ZT1uZXcgQXJyYXkoMippKTtmb3IodmFyIG89MDtpPm87KytvKXt2YXIgcz1yW29dO2Vbb109dFtzXSxlW28raV09c319dGhpcy5jb25zdHJ1Y3RvciQoZSksdGhpcy5faXNNYXA9bix0aGlzLl9pbml0JCh2b2lkIDAsLTMpfWZ1bmN0aW9uIHModCl7dmFyIG4scz1yKHQpO3JldHVybiB1KHMpPyhuPXMgaW5zdGFuY2VvZiBlP3MuX3RoZW4oZS5wcm9wcyx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDApOm5ldyBvKHMpLnByb21pc2UoKSxzIGluc3RhbmNlb2YgZSYmbi5fcHJvcGFnYXRlRnJvbShzLDIpLG4pOmkoXCJjYW5ub3QgYXdhaXQgcHJvcGVydGllcyBvZiBhIG5vbi1vYmplY3RcXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXCIpfXZhciBhLGM9dChcIi4vdXRpbFwiKSx1PWMuaXNPYmplY3QsbD10KFwiLi9lczVcIik7XCJmdW5jdGlvblwiPT10eXBlb2YgTWFwJiYoYT1NYXApO3ZhciBmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LHIpe3RoaXNbZV09dCx0aGlzW2Urbl09cixlKyt9dmFyIGU9MCxuPTA7cmV0dXJuIGZ1bmN0aW9uKHIpe249ci5zaXplLGU9MDt2YXIgaT1uZXcgQXJyYXkoMipyLnNpemUpO3JldHVybiByLmZvckVhY2godCxpKSxpfX0oKSxwPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgYSxuPXQubGVuZ3RoLzJ8MCxyPTA7bj5yOysrcil7dmFyIGk9dFtuK3JdLG89dFtyXTtlLnNldChpLG8pfXJldHVybiBlfTtjLmluaGVyaXRzKG8sbiksby5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXt9LG8ucHJvdG90eXBlLl9wcm9taXNlRnVsZmlsbGVkPWZ1bmN0aW9uKHQsZSl7dGhpcy5fdmFsdWVzW2VdPXQ7dmFyIG49Kyt0aGlzLl90b3RhbFJlc29sdmVkO2lmKG4+PXRoaXMuX2xlbmd0aCl7dmFyIHI7aWYodGhpcy5faXNNYXApcj1wKHRoaXMuX3ZhbHVlcyk7ZWxzZXtyPXt9O2Zvcih2YXIgaT10aGlzLmxlbmd0aCgpLG89MCxzPXRoaXMubGVuZ3RoKCk7cz5vOysrbylyW3RoaXMuX3ZhbHVlc1tvK2ldXT10aGlzLl92YWx1ZXNbb119cmV0dXJuIHRoaXMuX3Jlc29sdmUociksITB9cmV0dXJuITF9LG8ucHJvdG90eXBlLnNob3VsZENvcHlWYWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sby5wcm90b3R5cGUuZ2V0QWN0dWFsTGVuZ3RoPWZ1bmN0aW9uKHQpe3JldHVybiB0Pj4xfSxlLnByb3RvdHlwZS5wcm9wcz1mdW5jdGlvbigpe3JldHVybiBzKHRoaXMpfSxlLnByb3BzPWZ1bmN0aW9uKHQpe3JldHVybiBzKHQpfX19LHtcIi4vZXM1XCI6MTMsXCIuL3V0aWxcIjozNn1dLDI2OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUsbixyLGkpe2Zvcih2YXIgbz0wO2k+bzsrK28pbltvK3JdPXRbbytlXSx0W28rZV09dm9pZCAwfWZ1bmN0aW9uIGkodCl7dGhpcy5fY2FwYWNpdHk9dCx0aGlzLl9sZW5ndGg9MCx0aGlzLl9mcm9udD0wfWkucHJvdG90eXBlLl93aWxsQmVPdmVyQ2FwYWNpdHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NhcGFjaXR5PHR9LGkucHJvdG90eXBlLl9wdXNoT25lPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubGVuZ3RoKCk7dGhpcy5fY2hlY2tDYXBhY2l0eShlKzEpO3ZhciBuPXRoaXMuX2Zyb250K2UmdGhpcy5fY2FwYWNpdHktMTt0aGlzW25dPXQsdGhpcy5fbGVuZ3RoPWUrMX0saS5wcm90b3R5cGUuX3Vuc2hpZnRPbmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY2FwYWNpdHk7dGhpcy5fY2hlY2tDYXBhY2l0eSh0aGlzLmxlbmd0aCgpKzEpO3ZhciBuPXRoaXMuX2Zyb250LHI9KG4tMSZlLTFeZSktZTt0aGlzW3JdPXQsdGhpcy5fZnJvbnQ9cix0aGlzLl9sZW5ndGg9dGhpcy5sZW5ndGgoKSsxfSxpLnByb3RvdHlwZS51bnNoaWZ0PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl91bnNoaWZ0T25lKG4pLHRoaXMuX3Vuc2hpZnRPbmUoZSksdGhpcy5fdW5zaGlmdE9uZSh0KX0saS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5sZW5ndGgoKSszO2lmKHRoaXMuX3dpbGxCZU92ZXJDYXBhY2l0eShyKSlyZXR1cm4gdGhpcy5fcHVzaE9uZSh0KSx0aGlzLl9wdXNoT25lKGUpLHZvaWQgdGhpcy5fcHVzaE9uZShuKTt2YXIgaT10aGlzLl9mcm9udCtyLTM7dGhpcy5fY2hlY2tDYXBhY2l0eShyKTt2YXIgbz10aGlzLl9jYXBhY2l0eS0xO3RoaXNbaSswJm9dPXQsdGhpc1tpKzEmb109ZSx0aGlzW2krMiZvXT1uLHRoaXMuX2xlbmd0aD1yfSxpLnByb3RvdHlwZS5zaGlmdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2Zyb250LGU9dGhpc1t0XTtyZXR1cm4gdGhpc1t0XT12b2lkIDAsdGhpcy5fZnJvbnQ9dCsxJnRoaXMuX2NhcGFjaXR5LTEsdGhpcy5fbGVuZ3RoLS0sZX0saS5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlbmd0aH0saS5wcm90b3R5cGUuX2NoZWNrQ2FwYWNpdHk9ZnVuY3Rpb24odCl7dGhpcy5fY2FwYWNpdHk8dCYmdGhpcy5fcmVzaXplVG8odGhpcy5fY2FwYWNpdHk8PDEpfSxpLnByb3RvdHlwZS5fcmVzaXplVG89ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY2FwYWNpdHk7dGhpcy5fY2FwYWNpdHk9dDt2YXIgbj10aGlzLl9mcm9udCxpPXRoaXMuX2xlbmd0aCxvPW4raSZlLTE7cih0aGlzLDAsdGhpcyxlLG8pfSxlLmV4cG9ydHM9aX0se31dLDI3OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyLGkpe2Z1bmN0aW9uIG8odCxvKXt2YXIgYz1yKHQpO2lmKGMgaW5zdGFuY2VvZiBlKXJldHVybiBhKGMpO2lmKHQ9cy5hc0FycmF5KHQpLG51bGw9PT10KXJldHVybiBpKFwiZXhwZWN0aW5nIGFuIGFycmF5IG9yIGFuIGl0ZXJhYmxlIG9iamVjdCBidXQgZ290IFwiK3MuY2xhc3NTdHJpbmcodCkpO3ZhciB1PW5ldyBlKG4pO3ZvaWQgMCE9PW8mJnUuX3Byb3BhZ2F0ZUZyb20obywzKTtmb3IodmFyIGw9dS5fZnVsZmlsbCxmPXUuX3JlamVjdCxwPTAsaD10Lmxlbmd0aDtoPnA7KytwKXt2YXIgZD10W3BdOyh2b2lkIDAhPT1kfHxwIGluIHQpJiZlLmNhc3QoZCkuX3RoZW4obCxmLHZvaWQgMCx1LG51bGwpfXJldHVybiB1fXZhciBzPXQoXCIuL3V0aWxcIiksYT1mdW5jdGlvbih0KXtyZXR1cm4gdC50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBvKGUsdCl9KX07ZS5yYWNlPWZ1bmN0aW9uKHQpe3JldHVybiBvKHQsdm9pZCAwKX0sZS5wcm90b3R5cGUucmFjZT1mdW5jdGlvbigpe3JldHVybiBvKHRoaXMsdm9pZCAwKX19fSx7XCIuL3V0aWxcIjozNn1dLDI4OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyLGksbyxzKXtmdW5jdGlvbiBhKHQsbixyLGkpe3RoaXMuY29uc3RydWN0b3IkKHQpO3ZhciBzPXAoKTt0aGlzLl9mbj1udWxsPT09cz9uOmguZG9tYWluQmluZChzLG4pLHZvaWQgMCE9PXImJihyPWUucmVzb2x2ZShyKSxyLl9hdHRhY2hDYW5jZWxsYXRpb25DYWxsYmFjayh0aGlzKSksdGhpcy5faW5pdGlhbFZhbHVlPXIsdGhpcy5fY3VycmVudENhbmNlbGxhYmxlPW51bGwsaT09PW8/dGhpcy5fZWFjaFZhbHVlcz1BcnJheSh0aGlzLl9sZW5ndGgpOjA9PT1pP3RoaXMuX2VhY2hWYWx1ZXM9bnVsbDp0aGlzLl9lYWNoVmFsdWVzPXZvaWQgMCx0aGlzLl9wcm9taXNlLl9jYXB0dXJlU3RhY2tUcmFjZSgpLHRoaXMuX2luaXQkKHZvaWQgMCwtNSl9ZnVuY3Rpb24gYyh0LGUpe3RoaXMuaXNGdWxmaWxsZWQoKT9lLl9yZXNvbHZlKHQpOmUuX3JlamVjdCh0KX1mdW5jdGlvbiB1KHQsZSxuLGkpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpcmV0dXJuIHIoXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiK2guY2xhc3NTdHJpbmcoZSkpO3ZhciBvPW5ldyBhKHQsZSxuLGkpO3JldHVybiBvLnByb21pc2UoKX1mdW5jdGlvbiBsKHQpe3RoaXMuYWNjdW09dCx0aGlzLmFycmF5Ll9nb3RBY2N1bSh0KTt2YXIgbj1pKHRoaXMudmFsdWUsdGhpcy5hcnJheS5fcHJvbWlzZSk7cmV0dXJuIG4gaW5zdGFuY2VvZiBlPyh0aGlzLmFycmF5Ll9jdXJyZW50Q2FuY2VsbGFibGU9bixuLl90aGVuKGYsdm9pZCAwLHZvaWQgMCx0aGlzLHZvaWQgMCkpOmYuY2FsbCh0aGlzLG4pfWZ1bmN0aW9uIGYodCl7dmFyIG49dGhpcy5hcnJheSxyPW4uX3Byb21pc2UsaT1kKG4uX2ZuKTtyLl9wdXNoQ29udGV4dCgpO3ZhciBvO289dm9pZCAwIT09bi5fZWFjaFZhbHVlcz9pLmNhbGwoci5fYm91bmRWYWx1ZSgpLHQsdGhpcy5pbmRleCx0aGlzLmxlbmd0aCk6aS5jYWxsKHIuX2JvdW5kVmFsdWUoKSx0aGlzLmFjY3VtLHQsdGhpcy5pbmRleCx0aGlzLmxlbmd0aCksbyBpbnN0YW5jZW9mIGUmJihuLl9jdXJyZW50Q2FuY2VsbGFibGU9byk7dmFyIGE9ci5fcG9wQ29udGV4dCgpO3JldHVybiBzLmNoZWNrRm9yZ290dGVuUmV0dXJucyhvLGEsdm9pZCAwIT09bi5fZWFjaFZhbHVlcz9cIlByb21pc2UuZWFjaFwiOlwiUHJvbWlzZS5yZWR1Y2VcIixyKSxvfXZhciBwPWUuX2dldERvbWFpbixoPXQoXCIuL3V0aWxcIiksZD1oLnRyeUNhdGNoO2guaW5oZXJpdHMoYSxuKSxhLnByb3RvdHlwZS5fZ290QWNjdW09ZnVuY3Rpb24odCl7dm9pZCAwIT09dGhpcy5fZWFjaFZhbHVlcyYmbnVsbCE9PXRoaXMuX2VhY2hWYWx1ZXMmJnQhPT1vJiZ0aGlzLl9lYWNoVmFsdWVzLnB1c2godCl9LGEucHJvdG90eXBlLl9lYWNoQ29tcGxldGU9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPT10aGlzLl9lYWNoVmFsdWVzJiZ0aGlzLl9lYWNoVmFsdWVzLnB1c2godCksdGhpcy5fZWFjaFZhbHVlc30sYS5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXt9LGEucHJvdG90eXBlLl9yZXNvbHZlRW1wdHlBcnJheT1mdW5jdGlvbigpe3RoaXMuX3Jlc29sdmUodm9pZCAwIT09dGhpcy5fZWFjaFZhbHVlcz90aGlzLl9lYWNoVmFsdWVzOnRoaXMuX2luaXRpYWxWYWx1ZSl9LGEucHJvdG90eXBlLnNob3VsZENvcHlWYWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sYS5wcm90b3R5cGUuX3Jlc29sdmU9ZnVuY3Rpb24odCl7dGhpcy5fcHJvbWlzZS5fcmVzb2x2ZUNhbGxiYWNrKHQpLHRoaXMuX3ZhbHVlcz1udWxsfSxhLnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09dGhpcy5faW5pdGlhbFZhbHVlP3RoaXMuX2NhbmNlbCgpOnZvaWQodGhpcy5faXNSZXNvbHZlZCgpfHwodGhpcy5fcmVzdWx0Q2FuY2VsbGVkJCgpLHRoaXMuX2N1cnJlbnRDYW5jZWxsYWJsZSBpbnN0YW5jZW9mIGUmJnRoaXMuX2N1cnJlbnRDYW5jZWxsYWJsZS5jYW5jZWwoKSx0aGlzLl9pbml0aWFsVmFsdWUgaW5zdGFuY2VvZiBlJiZ0aGlzLl9pbml0aWFsVmFsdWUuY2FuY2VsKCkpKX0sYS5wcm90b3R5cGUuX2l0ZXJhdGU9ZnVuY3Rpb24odCl7dGhpcy5fdmFsdWVzPXQ7dmFyIG4scixpPXQubGVuZ3RoO2lmKHZvaWQgMCE9PXRoaXMuX2luaXRpYWxWYWx1ZT8obj10aGlzLl9pbml0aWFsVmFsdWUscj0wKToobj1lLnJlc29sdmUodFswXSkscj0xKSx0aGlzLl9jdXJyZW50Q2FuY2VsbGFibGU9biwhbi5pc1JlamVjdGVkKCkpZm9yKDtpPnI7KytyKXt2YXIgbz17YWNjdW06bnVsbCx2YWx1ZTp0W3JdLGluZGV4OnIsbGVuZ3RoOmksYXJyYXk6dGhpc307bj1uLl90aGVuKGwsdm9pZCAwLHZvaWQgMCxvLHZvaWQgMCl9dm9pZCAwIT09dGhpcy5fZWFjaFZhbHVlcyYmKG49bi5fdGhlbih0aGlzLl9lYWNoQ29tcGxldGUsdm9pZCAwLHZvaWQgMCx0aGlzLHZvaWQgMCkpLG4uX3RoZW4oYyxjLHZvaWQgMCxuLHRoaXMpfSxlLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdSh0aGlzLHQsZSxudWxsKX0sZS5yZWR1Y2U9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHUodCxlLG4scil9fX0se1wiLi91dGlsXCI6MzZ9XSwyOTpbZnVuY3Rpb24odCxpLG8pe1widXNlIHN0cmljdFwiO3ZhciBzLGE9dChcIi4vdXRpbFwiKSxjPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiTm8gYXN5bmMgc2NoZWR1bGVyIGF2YWlsYWJsZVxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIil9LHU9YS5nZXROYXRpdmVQcm9taXNlKCk7aWYoYS5pc05vZGUmJlwidW5kZWZpbmVkXCI9PXR5cGVvZiBNdXRhdGlvbk9ic2VydmVyKXt2YXIgbD1uLnNldEltbWVkaWF0ZSxmPWUubmV4dFRpY2s7cz1hLmlzUmVjZW50Tm9kZT9mdW5jdGlvbih0KXtsLmNhbGwobix0KX06ZnVuY3Rpb24odCl7Zi5jYWxsKGUsdCl9fWVsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdS5yZXNvbHZlKXt2YXIgcD11LnJlc29sdmUoKTtzPWZ1bmN0aW9uKHQpe3AudGhlbih0KX19ZWxzZSBzPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBNdXRhdGlvbk9ic2VydmVyfHxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubmF2aWdhdG9yJiYod2luZG93Lm5hdmlnYXRvci5zdGFuZGFsb25lfHx3aW5kb3cuY29yZG92YSk/XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHI/ZnVuY3Rpb24odCl7cih0KX06XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNldFRpbWVvdXQ/ZnVuY3Rpb24odCl7c2V0VGltZW91dCh0LDApfTpjOmZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxlPXthdHRyaWJ1dGVzOiEwfSxuPSExLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxpPW5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKCl7dC5jbGFzc0xpc3QudG9nZ2xlKFwiZm9vXCIpLG49ITF9KTtpLm9ic2VydmUocixlKTt2YXIgbz1mdW5jdGlvbigpe258fChuPSEwLHIuY2xhc3NMaXN0LnRvZ2dsZShcImZvb1wiKSl9O3JldHVybiBmdW5jdGlvbihuKXt2YXIgcj1uZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpe3IuZGlzY29ubmVjdCgpLG4oKX0pO3Iub2JzZXJ2ZSh0LGUpLG8oKX19KCk7aS5leHBvcnRzPXN9LHtcIi4vdXRpbFwiOjM2fV0sMzA6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIpe2Z1bmN0aW9uIGkodCl7dGhpcy5jb25zdHJ1Y3RvciQodCl9dmFyIG89ZS5Qcm9taXNlSW5zcGVjdGlvbixzPXQoXCIuL3V0aWxcIik7cy5pbmhlcml0cyhpLG4pLGkucHJvdG90eXBlLl9wcm9taXNlUmVzb2x2ZWQ9ZnVuY3Rpb24odCxlKXt0aGlzLl92YWx1ZXNbdF09ZTt2YXIgbj0rK3RoaXMuX3RvdGFsUmVzb2x2ZWQ7cmV0dXJuIG4+PXRoaXMuX2xlbmd0aD8odGhpcy5fcmVzb2x2ZSh0aGlzLl92YWx1ZXMpLCEwKTohMX0saS5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgbztyZXR1cm4gbi5fYml0RmllbGQ9MzM1NTQ0MzIsbi5fc2V0dGxlZFZhbHVlRmllbGQ9dCx0aGlzLl9wcm9taXNlUmVzb2x2ZWQoZSxuKX0saS5wcm90b3R5cGUuX3Byb21pc2VSZWplY3RlZD1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBvO3JldHVybiBuLl9iaXRGaWVsZD0xNjc3NzIxNixuLl9zZXR0bGVkVmFsdWVGaWVsZD10LHRoaXMuX3Byb21pc2VSZXNvbHZlZChlLG4pfSxlLnNldHRsZT1mdW5jdGlvbih0KXtyZXR1cm4gci5kZXByZWNhdGVkKFwiLnNldHRsZSgpXCIsXCIucmVmbGVjdCgpXCIpLG5ldyBpKHQpLnByb21pc2UoKX0sZS5wcm90b3R5cGUuc2V0dGxlPWZ1bmN0aW9uKCl7cmV0dXJuIGUuc2V0dGxlKHRoaXMpfX19LHtcIi4vdXRpbFwiOjM2fV0sMzE6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIpe2Z1bmN0aW9uIGkodCl7dGhpcy5jb25zdHJ1Y3RvciQodCksdGhpcy5faG93TWFueT0wLHRoaXMuX3Vud3JhcD0hMSx0aGlzLl9pbml0aWFsaXplZD0hMX1mdW5jdGlvbiBvKHQsZSl7aWYoKDB8ZSkhPT1lfHwwPmUpcmV0dXJuIHIoXCJleHBlY3RpbmcgYSBwb3NpdGl2ZSBpbnRlZ2VyXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKTt2YXIgbj1uZXcgaSh0KSxvPW4ucHJvbWlzZSgpO3JldHVybiBuLnNldEhvd01hbnkoZSksbi5pbml0KCksb312YXIgcz10KFwiLi91dGlsXCIpLGE9dChcIi4vZXJyb3JzXCIpLlJhbmdlRXJyb3IsYz10KFwiLi9lcnJvcnNcIikuQWdncmVnYXRlRXJyb3IsdT1zLmlzQXJyYXksbD17fTtzLmluaGVyaXRzKGksbiksaS5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9pbml0aWFsaXplZCl7aWYoMD09PXRoaXMuX2hvd01hbnkpcmV0dXJuIHZvaWQgdGhpcy5fcmVzb2x2ZShbXSk7dGhpcy5faW5pdCQodm9pZCAwLC01KTt2YXIgdD11KHRoaXMuX3ZhbHVlcyk7XG5cdCF0aGlzLl9pc1Jlc29sdmVkKCkmJnQmJnRoaXMuX2hvd01hbnk+dGhpcy5fY2FuUG9zc2libHlGdWxmaWxsKCkmJnRoaXMuX3JlamVjdCh0aGlzLl9nZXRSYW5nZUVycm9yKHRoaXMubGVuZ3RoKCkpKX19LGkucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLl9pbml0aWFsaXplZD0hMCx0aGlzLl9pbml0KCl9LGkucHJvdG90eXBlLnNldFVud3JhcD1mdW5jdGlvbigpe3RoaXMuX3Vud3JhcD0hMH0saS5wcm90b3R5cGUuaG93TWFueT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ob3dNYW55fSxpLnByb3RvdHlwZS5zZXRIb3dNYW55PWZ1bmN0aW9uKHQpe3RoaXMuX2hvd01hbnk9dH0saS5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2FkZEZ1bGZpbGxlZCh0KSx0aGlzLl9mdWxmaWxsZWQoKT09PXRoaXMuaG93TWFueSgpPyh0aGlzLl92YWx1ZXMubGVuZ3RoPXRoaXMuaG93TWFueSgpLDE9PT10aGlzLmhvd01hbnkoKSYmdGhpcy5fdW53cmFwP3RoaXMuX3Jlc29sdmUodGhpcy5fdmFsdWVzWzBdKTp0aGlzLl9yZXNvbHZlKHRoaXMuX3ZhbHVlcyksITApOiExfSxpLnByb3RvdHlwZS5fcHJvbWlzZVJlamVjdGVkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9hZGRSZWplY3RlZCh0KSx0aGlzLl9jaGVja091dGNvbWUoKX0saS5wcm90b3R5cGUuX3Byb21pc2VDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmFsdWVzIGluc3RhbmNlb2YgZXx8bnVsbD09dGhpcy5fdmFsdWVzP3RoaXMuX2NhbmNlbCgpOih0aGlzLl9hZGRSZWplY3RlZChsKSx0aGlzLl9jaGVja091dGNvbWUoKSl9LGkucHJvdG90eXBlLl9jaGVja091dGNvbWU9ZnVuY3Rpb24oKXtpZih0aGlzLmhvd01hbnkoKT50aGlzLl9jYW5Qb3NzaWJseUZ1bGZpbGwoKSl7Zm9yKHZhciB0PW5ldyBjLGU9dGhpcy5sZW5ndGgoKTtlPHRoaXMuX3ZhbHVlcy5sZW5ndGg7KytlKXRoaXMuX3ZhbHVlc1tlXSE9PWwmJnQucHVzaCh0aGlzLl92YWx1ZXNbZV0pO3JldHVybiB0Lmxlbmd0aD4wP3RoaXMuX3JlamVjdCh0KTp0aGlzLl9jYW5jZWwoKSwhMH1yZXR1cm4hMX0saS5wcm90b3R5cGUuX2Z1bGZpbGxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90b3RhbFJlc29sdmVkfSxpLnByb3RvdHlwZS5fcmVqZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmFsdWVzLmxlbmd0aC10aGlzLmxlbmd0aCgpfSxpLnByb3RvdHlwZS5fYWRkUmVqZWN0ZWQ9ZnVuY3Rpb24odCl7dGhpcy5fdmFsdWVzLnB1c2godCl9LGkucHJvdG90eXBlLl9hZGRGdWxmaWxsZWQ9ZnVuY3Rpb24odCl7dGhpcy5fdmFsdWVzW3RoaXMuX3RvdGFsUmVzb2x2ZWQrK109dH0saS5wcm90b3R5cGUuX2NhblBvc3NpYmx5RnVsZmlsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aCgpLXRoaXMuX3JlamVjdGVkKCl9LGkucHJvdG90eXBlLl9nZXRSYW5nZUVycm9yPWZ1bmN0aW9uKHQpe3ZhciBlPVwiSW5wdXQgYXJyYXkgbXVzdCBjb250YWluIGF0IGxlYXN0IFwiK3RoaXMuX2hvd01hbnkrXCIgaXRlbXMgYnV0IGNvbnRhaW5zIG9ubHkgXCIrdCtcIiBpdGVtc1wiO3JldHVybiBuZXcgYShlKX0saS5wcm90b3R5cGUuX3Jlc29sdmVFbXB0eUFycmF5PWZ1bmN0aW9uKCl7dGhpcy5fcmVqZWN0KHRoaXMuX2dldFJhbmdlRXJyb3IoMCkpfSxlLnNvbWU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbyh0LGUpfSxlLnByb3RvdHlwZS5zb21lPWZ1bmN0aW9uKHQpe3JldHVybiBvKHRoaXMsdCl9LGUuX1NvbWVQcm9taXNlQXJyYXk9aX19LHtcIi4vZXJyb3JzXCI6MTIsXCIuL3V0aWxcIjozNn1dLDMyOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dm9pZCAwIT09dD8odD10Ll90YXJnZXQoKSx0aGlzLl9iaXRGaWVsZD10Ll9iaXRGaWVsZCx0aGlzLl9zZXR0bGVkVmFsdWVGaWVsZD10Ll9pc0ZhdGVTZWFsZWQoKT90Ll9zZXR0bGVkVmFsdWUoKTp2b2lkIDApOih0aGlzLl9iaXRGaWVsZD0wLHRoaXMuX3NldHRsZWRWYWx1ZUZpZWxkPXZvaWQgMCl9ZS5wcm90b3R5cGUuX3NldHRsZWRWYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXR0bGVkVmFsdWVGaWVsZH07dmFyIG49ZS5wcm90b3R5cGUudmFsdWU9ZnVuY3Rpb24oKXtpZighdGhpcy5pc0Z1bGZpbGxlZCgpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJjYW5ub3QgZ2V0IGZ1bGZpbGxtZW50IHZhbHVlIG9mIGEgbm9uLWZ1bGZpbGxlZCBwcm9taXNlXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKTtyZXR1cm4gdGhpcy5fc2V0dGxlZFZhbHVlKCl9LHI9ZS5wcm90b3R5cGUuZXJyb3I9ZS5wcm90b3R5cGUucmVhc29uPWZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNSZWplY3RlZCgpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJjYW5ub3QgZ2V0IHJlamVjdGlvbiByZWFzb24gb2YgYSBub24tcmVqZWN0ZWQgcHJvbWlzZVxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIik7cmV0dXJuIHRoaXMuX3NldHRsZWRWYWx1ZSgpfSxpPWUucHJvdG90eXBlLmlzRnVsZmlsbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIDAhPT0oMzM1NTQ0MzImdGhpcy5fYml0RmllbGQpfSxvPWUucHJvdG90eXBlLmlzUmVqZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PSgxNjc3NzIxNiZ0aGlzLl9iaXRGaWVsZCl9LHM9ZS5wcm90b3R5cGUuaXNQZW5kaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT0oNTAzOTcxODQmdGhpcy5fYml0RmllbGQpfSxhPWUucHJvdG90eXBlLmlzUmVzb2x2ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PSg1MDMzMTY0OCZ0aGlzLl9iaXRGaWVsZCl9O2UucHJvdG90eXBlLmlzQ2FuY2VsbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIDAhPT0oODQ1NDE0NCZ0aGlzLl9iaXRGaWVsZCl9LHQucHJvdG90eXBlLl9faXNDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gNjU1MzY9PT0oNjU1MzYmdGhpcy5fYml0RmllbGQpfSx0LnByb3RvdHlwZS5faXNDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGFyZ2V0KCkuX19pc0NhbmNlbGxlZCgpfSx0LnByb3RvdHlwZS5pc0NhbmNlbGxlZD1mdW5jdGlvbigpe3JldHVybiAwIT09KDg0NTQxNDQmdGhpcy5fdGFyZ2V0KCkuX2JpdEZpZWxkKX0sdC5wcm90b3R5cGUuaXNQZW5kaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHMuY2FsbCh0aGlzLl90YXJnZXQoKSl9LHQucHJvdG90eXBlLmlzUmVqZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gby5jYWxsKHRoaXMuX3RhcmdldCgpKX0sdC5wcm90b3R5cGUuaXNGdWxmaWxsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gaS5jYWxsKHRoaXMuX3RhcmdldCgpKX0sdC5wcm90b3R5cGUuaXNSZXNvbHZlZD1mdW5jdGlvbigpe3JldHVybiBhLmNhbGwodGhpcy5fdGFyZ2V0KCkpfSx0LnByb3RvdHlwZS52YWx1ZT1mdW5jdGlvbigpe3JldHVybiBuLmNhbGwodGhpcy5fdGFyZ2V0KCkpfSx0LnByb3RvdHlwZS5yZWFzb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90YXJnZXQoKTtyZXR1cm4gdC5fdW5zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZCgpLHIuY2FsbCh0KX0sdC5wcm90b3R5cGUuX3ZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldHRsZWRWYWx1ZSgpfSx0LnByb3RvdHlwZS5fcmVhc29uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Vuc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQoKSx0aGlzLl9zZXR0bGVkVmFsdWUoKX0sdC5Qcm9taXNlSW5zcGVjdGlvbj1lfX0se31dLDMzOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gcih0LHIpe2lmKGwodCkpe2lmKHQgaW5zdGFuY2VvZiBlKXJldHVybiB0O3ZhciBpPW8odCk7aWYoaT09PXUpe3ImJnIuX3B1c2hDb250ZXh0KCk7dmFyIGM9ZS5yZWplY3QoaS5lKTtyZXR1cm4gciYmci5fcG9wQ29udGV4dCgpLGN9aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgaSl7aWYocyh0KSl7dmFyIGM9bmV3IGUobik7cmV0dXJuIHQuX3RoZW4oYy5fZnVsZmlsbCxjLl9yZWplY3Qsdm9pZCAwLGMsbnVsbCksY31yZXR1cm4gYSh0LGkscil9fXJldHVybiB0fWZ1bmN0aW9uIGkodCl7cmV0dXJuIHQudGhlbn1mdW5jdGlvbiBvKHQpe3RyeXtyZXR1cm4gaSh0KX1jYXRjaChlKXtyZXR1cm4gdS5lPWUsdX19ZnVuY3Rpb24gcyh0KXt0cnl7cmV0dXJuIGYuY2FsbCh0LFwiX3Byb21pc2UwXCIpfWNhdGNoKGUpe3JldHVybiExfX1mdW5jdGlvbiBhKHQscixpKXtmdW5jdGlvbiBvKHQpe2EmJihhLl9yZXNvbHZlQ2FsbGJhY2sodCksYT1udWxsKX1mdW5jdGlvbiBzKHQpe2EmJihhLl9yZWplY3RDYWxsYmFjayh0LGYsITApLGE9bnVsbCl9dmFyIGE9bmV3IGUobiksbD1hO2kmJmkuX3B1c2hDb250ZXh0KCksYS5fY2FwdHVyZVN0YWNrVHJhY2UoKSxpJiZpLl9wb3BDb250ZXh0KCk7dmFyIGY9ITAscD1jLnRyeUNhdGNoKHIpLmNhbGwodCxvLHMpO3JldHVybiBmPSExLGEmJnA9PT11JiYoYS5fcmVqZWN0Q2FsbGJhY2socC5lLCEwLCEwKSxhPW51bGwpLGx9dmFyIGM9dChcIi4vdXRpbFwiKSx1PWMuZXJyb3JPYmosbD1jLmlzT2JqZWN0LGY9e30uaGFzT3duUHJvcGVydHk7cmV0dXJuIHJ9fSx7XCIuL3V0aWxcIjozNn1dLDM0OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyKXtmdW5jdGlvbiBpKHQpe3RoaXMuaGFuZGxlPXR9ZnVuY3Rpb24gbyh0KXtyZXR1cm4gY2xlYXJUaW1lb3V0KHRoaXMuaGFuZGxlKSx0fWZ1bmN0aW9uIHModCl7dGhyb3cgY2xlYXJUaW1lb3V0KHRoaXMuaGFuZGxlKSx0fXZhciBhPXQoXCIuL3V0aWxcIiksYz1lLlRpbWVvdXRFcnJvcjtpLnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuaGFuZGxlKX07dmFyIHU9ZnVuY3Rpb24odCl7cmV0dXJuIGwoK3RoaXMpLnRoZW5SZXR1cm4odCl9LGw9ZS5kZWxheT1mdW5jdGlvbih0LG8pe3ZhciBzLGE7cmV0dXJuIHZvaWQgMCE9PW8/KHM9ZS5yZXNvbHZlKG8pLl90aGVuKHUsbnVsbCxudWxsLHQsdm9pZCAwKSxyLmNhbmNlbGxhdGlvbigpJiZvIGluc3RhbmNlb2YgZSYmcy5fc2V0T25DYW5jZWwobykpOihzPW5ldyBlKG4pLGE9c2V0VGltZW91dChmdW5jdGlvbigpe3MuX2Z1bGZpbGwoKX0sK3QpLHIuY2FuY2VsbGF0aW9uKCkmJnMuX3NldE9uQ2FuY2VsKG5ldyBpKGEpKSxzLl9jYXB0dXJlU3RhY2tUcmFjZSgpKSxzLl9zZXRBc3luY0d1YXJhbnRlZWQoKSxzfTtlLnByb3RvdHlwZS5kZWxheT1mdW5jdGlvbih0KXtyZXR1cm4gbCh0LHRoaXMpfTt2YXIgZj1mdW5jdGlvbih0LGUsbil7dmFyIHI7cj1cInN0cmluZ1wiIT10eXBlb2YgZT9lIGluc3RhbmNlb2YgRXJyb3I/ZTpuZXcgYyhcIm9wZXJhdGlvbiB0aW1lZCBvdXRcIik6bmV3IGMoZSksYS5tYXJrQXNPcmlnaW5hdGluZ0Zyb21SZWplY3Rpb24ociksdC5fYXR0YWNoRXh0cmFUcmFjZShyKSx0Ll9yZWplY3QociksbnVsbCE9biYmbi5jYW5jZWwoKX07ZS5wcm90b3R5cGUudGltZW91dD1mdW5jdGlvbih0LGUpe3Q9K3Q7dmFyIG4sYSxjPW5ldyBpKHNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLmlzUGVuZGluZygpJiZmKG4sZSxhKX0sdCkpO3JldHVybiByLmNhbmNlbGxhdGlvbigpPyhhPXRoaXMudGhlbigpLG49YS5fdGhlbihvLHMsdm9pZCAwLGMsdm9pZCAwKSxuLl9zZXRPbkNhbmNlbChjKSk6bj10aGlzLl90aGVuKG8scyx2b2lkIDAsYyx2b2lkIDApLG59fX0se1wiLi91dGlsXCI6MzZ9XSwzNTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlLG4scixpLG8scyl7ZnVuY3Rpb24gYSh0KXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgdH0sMCl9ZnVuY3Rpb24gYyh0KXt2YXIgZT1yKHQpO3JldHVybiBlIT09dCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5faXNEaXNwb3NhYmxlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Ll9nZXREaXNwb3NlciYmdC5faXNEaXNwb3NhYmxlKCkmJmUuX3NldERpc3Bvc2FibGUodC5fZ2V0RGlzcG9zZXIoKSksZX1mdW5jdGlvbiB1KHQsbil7ZnVuY3Rpb24gaSgpe2lmKHM+PXUpcmV0dXJuIGwuX2Z1bGZpbGwoKTt2YXIgbz1jKHRbcysrXSk7aWYobyBpbnN0YW5jZW9mIGUmJm8uX2lzRGlzcG9zYWJsZSgpKXt0cnl7bz1yKG8uX2dldERpc3Bvc2VyKCkudHJ5RGlzcG9zZShuKSx0LnByb21pc2UpfWNhdGNoKGYpe3JldHVybiBhKGYpfWlmKG8gaW5zdGFuY2VvZiBlKXJldHVybiBvLl90aGVuKGksYSxudWxsLG51bGwsbnVsbCl9aSgpfXZhciBzPTAsdT10Lmxlbmd0aCxsPW5ldyBlKG8pO3JldHVybiBpKCksbH1mdW5jdGlvbiBsKHQsZSxuKXt0aGlzLl9kYXRhPXQsdGhpcy5fcHJvbWlzZT1lLHRoaXMuX2NvbnRleHQ9bn1mdW5jdGlvbiBmKHQsZSxuKXt0aGlzLmNvbnN0cnVjdG9yJCh0LGUsbil9ZnVuY3Rpb24gcCh0KXtyZXR1cm4gbC5pc0Rpc3Bvc2VyKHQpPyh0aGlzLnJlc291cmNlc1t0aGlzLmluZGV4XS5fc2V0RGlzcG9zYWJsZSh0KSx0LnByb21pc2UoKSk6dH1mdW5jdGlvbiBoKHQpe3RoaXMubGVuZ3RoPXQsdGhpcy5wcm9taXNlPW51bGwsdGhpc1t0LTFdPW51bGx9dmFyIGQ9dChcIi4vdXRpbFwiKSxfPXQoXCIuL2Vycm9yc1wiKS5UeXBlRXJyb3Isdj10KFwiLi91dGlsXCIpLmluaGVyaXRzLHk9ZC5lcnJvck9iaixtPWQudHJ5Q2F0Y2gsZz17fTtsLnByb3RvdHlwZS5kYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9LGwucHJvdG90eXBlLnByb21pc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvbWlzZX0sbC5wcm90b3R5cGUucmVzb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9taXNlKCkuaXNGdWxmaWxsZWQoKT90aGlzLnByb21pc2UoKS52YWx1ZSgpOmd9LGwucHJvdG90eXBlLnRyeURpc3Bvc2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5yZXNvdXJjZSgpLG49dGhpcy5fY29udGV4dDt2b2lkIDAhPT1uJiZuLl9wdXNoQ29udGV4dCgpO3ZhciByPWUhPT1nP3RoaXMuZG9EaXNwb3NlKGUsdCk6bnVsbDtyZXR1cm4gdm9pZCAwIT09biYmbi5fcG9wQ29udGV4dCgpLHRoaXMuX3Byb21pc2UuX3Vuc2V0RGlzcG9zYWJsZSgpLHRoaXMuX2RhdGE9bnVsbCxyfSxsLmlzRGlzcG9zZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQucmVzb3VyY2UmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQudHJ5RGlzcG9zZX0sdihmLGwpLGYucHJvdG90eXBlLmRvRGlzcG9zZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZGF0YSgpO3JldHVybiBuLmNhbGwodCx0LGUpfSxoLnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMubGVuZ3RoLG49MDt0Pm47KytuKXt2YXIgcj10aGlzW25dO3IgaW5zdGFuY2VvZiBlJiZyLmNhbmNlbCgpfX0sZS51c2luZz1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg7aWYoMj50KXJldHVybiBuKFwieW91IG11c3QgcGFzcyBhdCBsZWFzdCAyIGFyZ3VtZW50cyB0byBQcm9taXNlLnVzaW5nXCIpO3ZhciBpPWFyZ3VtZW50c1t0LTFdO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGkpcmV0dXJuIG4oXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiK2QuY2xhc3NTdHJpbmcoaSkpO3ZhciBvLGE9ITA7Mj09PXQmJkFycmF5LmlzQXJyYXkoYXJndW1lbnRzWzBdKT8obz1hcmd1bWVudHNbMF0sdD1vLmxlbmd0aCxhPSExKToobz1hcmd1bWVudHMsdC0tKTtmb3IodmFyIGM9bmV3IGgodCksZj0wO3Q+ZjsrK2Ype3ZhciBfPW9bZl07aWYobC5pc0Rpc3Bvc2VyKF8pKXt2YXIgdj1fO189Xy5wcm9taXNlKCksXy5fc2V0RGlzcG9zYWJsZSh2KX1lbHNle3ZhciBnPXIoXyk7ZyBpbnN0YW5jZW9mIGUmJihfPWcuX3RoZW4ocCxudWxsLG51bGwse3Jlc291cmNlczpjLGluZGV4OmZ9LHZvaWQgMCkpfWNbZl09X31mb3IodmFyIGI9bmV3IEFycmF5KGMubGVuZ3RoKSxmPTA7ZjxiLmxlbmd0aDsrK2YpYltmXT1lLnJlc29sdmUoY1tmXSkucmVmbGVjdCgpO3ZhciB3PWUuYWxsKGIpLnRoZW4oZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDsrK2Upe3ZhciBuPXRbZV07aWYobi5pc1JlamVjdGVkKCkpcmV0dXJuIHkuZT1uLmVycm9yKCkseTtpZighbi5pc0Z1bGZpbGxlZCgpKXJldHVybiB2b2lkIHcuY2FuY2VsKCk7dFtlXT1uLnZhbHVlKCl9RS5fcHVzaENvbnRleHQoKSxpPW0oaSk7dmFyIHI9YT9pLmFwcGx5KHZvaWQgMCx0KTppKHQpLG89RS5fcG9wQ29udGV4dCgpO3JldHVybiBzLmNoZWNrRm9yZ290dGVuUmV0dXJucyhyLG8sXCJQcm9taXNlLnVzaW5nXCIsRSkscn0pLEU9dy5sYXN0bHkoZnVuY3Rpb24oKXt2YXIgdD1uZXcgZS5Qcm9taXNlSW5zcGVjdGlvbih3KTtyZXR1cm4gdShjLHQpfSk7cmV0dXJuIGMucHJvbWlzZT1FLEUuX3NldE9uQ2FuY2VsKGMpLEV9LGUucHJvdG90eXBlLl9zZXREaXNwb3NhYmxlPWZ1bmN0aW9uKHQpe3RoaXMuX2JpdEZpZWxkPTEzMTA3Mnx0aGlzLl9iaXRGaWVsZCx0aGlzLl9kaXNwb3Nlcj10fSxlLnByb3RvdHlwZS5faXNEaXNwb3NhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuKDEzMTA3MiZ0aGlzLl9iaXRGaWVsZCk+MH0sZS5wcm90b3R5cGUuX2dldERpc3Bvc2VyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rpc3Bvc2VyfSxlLnByb3RvdHlwZS5fdW5zZXREaXNwb3NhYmxlPWZ1bmN0aW9uKCl7dGhpcy5fYml0RmllbGQ9LTEzMTA3MyZ0aGlzLl9iaXRGaWVsZCx0aGlzLl9kaXNwb3Nlcj12b2lkIDB9LGUucHJvdG90eXBlLmRpc3Bvc2VyPWZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpcmV0dXJuIG5ldyBmKHQsdGhpcyxpKCkpO3Rocm93IG5ldyBffX19LHtcIi4vZXJyb3JzXCI6MTIsXCIuL3V0aWxcIjozNn1dLDM2OltmdW5jdGlvbih0LHIsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbygpe3RyeXt2YXIgdD1PO3JldHVybiBPPW51bGwsdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9Y2F0Y2goZSl7cmV0dXJuIFAuZT1lLFB9fWZ1bmN0aW9uIHModCl7cmV0dXJuIE89dCxvfWZ1bmN0aW9uIGEodCl7cmV0dXJuIG51bGw9PXR8fHQ9PT0hMHx8dD09PSExfHxcInN0cmluZ1wiPT10eXBlb2YgdHx8XCJudW1iZXJcIj09dHlwZW9mIHR9ZnVuY3Rpb24gYyh0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0fHxcIm9iamVjdFwiPT10eXBlb2YgdCYmbnVsbCE9PXR9ZnVuY3Rpb24gdSh0KXtyZXR1cm4gYSh0KT9uZXcgRXJyb3IobSh0KSk6dH1mdW5jdGlvbiBsKHQsZSl7dmFyIG4scj10Lmxlbmd0aCxpPW5ldyBBcnJheShyKzEpO2ZvcihuPTA7cj5uOysrbilpW25dPXRbbl07cmV0dXJuIGlbbl09ZSxpfWZ1bmN0aW9uIGYodCxlLG4pe2lmKCFULmlzRVM1KXJldHVybnt9Lmhhc093blByb3BlcnR5LmNhbGwodCxlKT90W2VdOnZvaWQgMDt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSk7cmV0dXJuIG51bGwhPXI/bnVsbD09ci5nZXQmJm51bGw9PXIuc2V0P3IudmFsdWU6bjp2b2lkIDB9ZnVuY3Rpb24gcCh0LGUsbil7aWYoYSh0KSlyZXR1cm4gdDt2YXIgcj17dmFsdWU6bixjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMH07cmV0dXJuIFQuZGVmaW5lUHJvcGVydHkodCxlLHIpLHR9ZnVuY3Rpb24gaCh0KXt0aHJvdyB0fWZ1bmN0aW9uIGQodCl7dHJ5e2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpe3ZhciBlPVQubmFtZXModC5wcm90b3R5cGUpLG49VC5pc0VTNSYmZS5sZW5ndGg+MSxyPWUubGVuZ3RoPjAmJiEoMT09PWUubGVuZ3RoJiZcImNvbnN0cnVjdG9yXCI9PT1lWzBdKSxpPUQudGVzdCh0K1wiXCIpJiZULm5hbWVzKHQpLmxlbmd0aD4wO2lmKG58fHJ8fGkpcmV0dXJuITB9cmV0dXJuITF9Y2F0Y2gobyl7cmV0dXJuITF9fWZ1bmN0aW9uIF8odCl7ZnVuY3Rpb24gZSgpe31lLnByb3RvdHlwZT10O2Zvcih2YXIgbj04O24tLTspbmV3IGU7cmV0dXJuIHR9ZnVuY3Rpb24gdih0KXtyZXR1cm4gVS50ZXN0KHQpfWZ1bmN0aW9uIHkodCxlLG4pe2Zvcih2YXIgcj1uZXcgQXJyYXkodCksaT0wO3Q+aTsrK2kpcltpXT1lK2krbjtyZXR1cm4gcn1mdW5jdGlvbiBtKHQpe3RyeXtyZXR1cm4gdCtcIlwifWNhdGNoKGUpe3JldHVyblwiW25vIHN0cmluZyByZXByZXNlbnRhdGlvbl1cIn19ZnVuY3Rpb24gZyh0KXtyZXR1cm4gbnVsbCE9PXQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZcInN0cmluZ1wiPT10eXBlb2YgdC5tZXNzYWdlJiZcInN0cmluZ1wiPT10eXBlb2YgdC5uYW1lfWZ1bmN0aW9uIGIodCl7dHJ5e3AodCxcImlzT3BlcmF0aW9uYWxcIiwhMCl9Y2F0Y2goZSl7fX1mdW5jdGlvbiB3KHQpe3JldHVybiBudWxsPT10PyExOnQgaW5zdGFuY2VvZiBFcnJvci5fX0JsdWViaXJkRXJyb3JUeXBlc19fLk9wZXJhdGlvbmFsRXJyb3J8fHQuaXNPcGVyYXRpb25hbD09PSEwfWZ1bmN0aW9uIEUodCl7cmV0dXJuIGcodCkmJlQucHJvcGVydHlJc1dyaXRhYmxlKHQsXCJzdGFja1wiKX1mdW5jdGlvbiBDKHQpe3JldHVybnt9LnRvU3RyaW5nLmNhbGwodCl9ZnVuY3Rpb24gayh0LGUsbil7Zm9yKHZhciByPVQubmFtZXModCksaT0wO2k8ci5sZW5ndGg7KytpKXt2YXIgbz1yW2ldO2lmKG4obykpdHJ5e1QuZGVmaW5lUHJvcGVydHkoZSxvLFQuZ2V0RGVzY3JpcHRvcih0LG8pKX1jYXRjaChzKXt9fX1mdW5jdGlvbiBqKHQsbil7cmV0dXJuIEI/ZS5lbnZbdF06bn1mdW5jdGlvbiB4KCl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJvbWlzZSl0cnl7dmFyIHQ9bmV3IFByb21pc2UoZnVuY3Rpb24oKXt9KTtpZihcIltvYmplY3QgUHJvbWlzZV1cIj09PXt9LnRvU3RyaW5nLmNhbGwodCkpcmV0dXJuIFByb21pc2V9Y2F0Y2goZSl7fX1mdW5jdGlvbiBGKHQsZSl7cmV0dXJuIHQuYmluZChlKX12YXIgVD10KFwiLi9lczVcIiksUz1cInVuZGVmaW5lZFwiPT10eXBlb2YgbmF2aWdhdG9yLFA9e2U6e319LE8sUj1cInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBuP246dm9pZCAwIT09dGhpcz90aGlzOm51bGwsQT1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXQsdGhpcy5jb25zdHJ1Y3RvciQ9ZTtmb3IodmFyIG4gaW4gZS5wcm90b3R5cGUpci5jYWxsKGUucHJvdG90eXBlLG4pJiZcIiRcIiE9PW4uY2hhckF0KG4ubGVuZ3RoLTEpJiYodGhpc1tuK1wiJFwiXT1lLnByb3RvdHlwZVtuXSl9dmFyIHI9e30uaGFzT3duUHJvcGVydHk7cmV0dXJuIG4ucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBuLHQucHJvdG90eXBlfSxJPWZ1bmN0aW9uKCl7dmFyIHQ9W0FycmF5LnByb3RvdHlwZSxPYmplY3QucHJvdG90eXBlLEZ1bmN0aW9uLnByb3RvdHlwZV0sZT1mdW5jdGlvbihlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoOysrbilpZih0W25dPT09ZSlyZXR1cm4hMDtyZXR1cm4hMX07aWYoVC5pc0VTNSl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgcj1bXSxpPU9iamVjdC5jcmVhdGUobnVsbCk7bnVsbCE9dCYmIWUodCk7KXt2YXIgbzt0cnl7bz1uKHQpfWNhdGNoKHMpe3JldHVybiByfWZvcih2YXIgYT0wO2E8by5sZW5ndGg7KythKXt2YXIgYz1vW2FdO2lmKCFpW2NdKXtpW2NdPSEwO3ZhciB1PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxjKTtudWxsIT11JiZudWxsPT11LmdldCYmbnVsbD09dS5zZXQmJnIucHVzaChjKX19dD1ULmdldFByb3RvdHlwZU9mKHQpfXJldHVybiByfX12YXIgcj17fS5oYXNPd25Qcm9wZXJ0eTtyZXR1cm4gZnVuY3Rpb24obil7aWYoZShuKSlyZXR1cm5bXTt2YXIgaT1bXTt0OmZvcih2YXIgbyBpbiBuKWlmKHIuY2FsbChuLG8pKWkucHVzaChvKTtlbHNle2Zvcih2YXIgcz0wO3M8dC5sZW5ndGg7KytzKWlmKHIuY2FsbCh0W3NdLG8pKWNvbnRpbnVlIHQ7aS5wdXNoKG8pfXJldHVybiBpfX0oKSxEPS90aGlzXFxzKlxcLlxccypcXFMrXFxzKj0vLFU9L15bYS16JF9dW2EteiRfMC05XSokL2ksTj1mdW5jdGlvbigpe3JldHVyblwic3RhY2tcImluIG5ldyBFcnJvcj9mdW5jdGlvbih0KXtyZXR1cm4gRSh0KT90Om5ldyBFcnJvcihtKHQpKX06ZnVuY3Rpb24odCl7aWYoRSh0KSlyZXR1cm4gdDt0cnl7dGhyb3cgbmV3IEVycm9yKG0odCkpfWNhdGNoKGUpe3JldHVybiBlfX19KCksTD1mdW5jdGlvbih0KXtyZXR1cm4gVC5pc0FycmF5KHQpP3Q6bnVsbH07aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yKXt2YXIgVj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBBcnJheS5mcm9tP2Z1bmN0aW9uKHQpe3JldHVybiBBcnJheS5mcm9tKHQpfTpmdW5jdGlvbih0KXtmb3IodmFyIGUsbj1bXSxyPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZT1yLm5leHQoKSkuZG9uZTspbi5wdXNoKGUudmFsdWUpO3JldHVybiBufTtMPWZ1bmN0aW9uKHQpe3JldHVybiBULmlzQXJyYXkodCk/dDpudWxsIT10JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0W1N5bWJvbC5pdGVyYXRvcl0/Vih0KTpudWxsfX12YXIgQj1cInVuZGVmaW5lZFwiIT10eXBlb2YgZSYmXCJbb2JqZWN0IHByb2Nlc3NdXCI9PT1DKGUpLnRvTG93ZXJDYXNlKCksTT17aXNDbGFzczpkLGlzSWRlbnRpZmllcjp2LGluaGVyaXRlZERhdGFLZXlzOkksZ2V0RGF0YVByb3BlcnR5T3JEZWZhdWx0OmYsdGhyb3dlcjpoLGlzQXJyYXk6VC5pc0FycmF5LGFzQXJyYXk6TCxub3RFbnVtZXJhYmxlUHJvcDpwLGlzUHJpbWl0aXZlOmEsaXNPYmplY3Q6Yyxpc0Vycm9yOmcsY2FuRXZhbHVhdGU6UyxlcnJvck9iajpQLHRyeUNhdGNoOnMsaW5oZXJpdHM6QSx3aXRoQXBwZW5kZWQ6bCxtYXliZVdyYXBBc0Vycm9yOnUsdG9GYXN0UHJvcGVydGllczpfLGZpbGxlZFJhbmdlOnksdG9TdHJpbmc6bSxjYW5BdHRhY2hUcmFjZTpFLGVuc3VyZUVycm9yT2JqZWN0Ok4sb3JpZ2luYXRlc0Zyb21SZWplY3Rpb246dyxtYXJrQXNPcmlnaW5hdGluZ0Zyb21SZWplY3Rpb246YixjbGFzc1N0cmluZzpDLGNvcHlEZXNjcmlwdG9yczprLGhhc0RldlRvb2xzOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBjaHJvbWUmJmNocm9tZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgY2hyb21lLmxvYWRUaW1lcyxpc05vZGU6QixlbnY6aixnbG9iYWw6UixnZXROYXRpdmVQcm9taXNlOngsZG9tYWluQmluZDpGfTtNLmlzUmVjZW50Tm9kZT1NLmlzTm9kZSYmZnVuY3Rpb24oKXt2YXIgdD1lLnZlcnNpb25zLm5vZGUuc3BsaXQoXCIuXCIpLm1hcChOdW1iZXIpO3JldHVybiAwPT09dFswXSYmdFsxXT4xMHx8dFswXT4wfSgpLE0uaXNOb2RlJiZNLnRvRmFzdFByb3BlcnRpZXMoZSk7dHJ5e3Rocm93IG5ldyBFcnJvcn1jYXRjaChIKXtNLmxhc3RMaW5lRXJyb3I9SH1yLmV4cG9ydHM9TX0se1wiLi9lczVcIjoxM31dfSx7fSxbNF0pKDQpfSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmbnVsbCE9PXdpbmRvdz93aW5kb3cuUD13aW5kb3cuUHJvbWlzZTpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmbnVsbCE9PXNlbGYmJihzZWxmLlA9c2VsZi5Qcm9taXNlKX0pLmNhbGwoZSxuKDQ4KSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpLG4oNDkpLnNldEltbWVkaWF0ZSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe2YmJnMmJihmPSExLHMubGVuZ3RoP2w9cy5jb25jYXQobCk6cD0tMSxsLmxlbmd0aCYmcigpKX1mdW5jdGlvbiByKCl7aWYoIWYpe3ZhciB0PWMobik7Zj0hMDtmb3IodmFyIGU9bC5sZW5ndGg7ZTspe2ZvcihzPWwsbD1bXTsrK3A8ZTspcyYmc1twXS5ydW4oKTtwPS0xLGU9bC5sZW5ndGh9cz1udWxsLGY9ITEsdSh0KX19ZnVuY3Rpb24gaSh0LGUpe3RoaXMuZnVuPXQsdGhpcy5hcnJheT1lfWZ1bmN0aW9uIG8oKXt9dmFyIHMsYT10LmV4cG9ydHM9e30sYz1zZXRUaW1lb3V0LHU9Y2xlYXJUaW1lb3V0LGw9W10sZj0hMSxwPS0xO2EubmV4dFRpY2s9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuLTFdPWFyZ3VtZW50c1tuXTtsLnB1c2gobmV3IGkodCxlKSksMSE9PWwubGVuZ3RofHxmfHxjKHIsMCl9LGkucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LGEudGl0bGU9XCJicm93c2VyXCIsYS5icm93c2VyPSEwLGEuZW52PXt9LGEuYXJndj1bXSxhLnZlcnNpb249XCJcIixhLnZlcnNpb25zPXt9LGEub249byxhLmFkZExpc3RlbmVyPW8sYS5vbmNlPW8sYS5vZmY9byxhLnJlbW92ZUxpc3RlbmVyPW8sYS5yZW1vdmVBbGxMaXN0ZW5lcnM9byxhLmVtaXQ9byxhLmJpbmRpbmc9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9LGEuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9LGEuY2hkaXI9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfSxhLnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKHQscil7ZnVuY3Rpb24gaSh0LGUpe3RoaXMuX2lkPXQsdGhpcy5fY2xlYXJGbj1lfXZhciBvPW4oNDgpLm5leHRUaWNrLHM9RnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLGM9e30sdT0wO2Uuc2V0VGltZW91dD1mdW5jdGlvbigpe3JldHVybiBuZXcgaShzLmNhbGwoc2V0VGltZW91dCx3aW5kb3csYXJndW1lbnRzKSxjbGVhclRpbWVvdXQpfSxlLnNldEludGVydmFsPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHMuY2FsbChzZXRJbnRlcnZhbCx3aW5kb3csYXJndW1lbnRzKSxjbGVhckludGVydmFsKX0sZS5jbGVhclRpbWVvdXQ9ZS5jbGVhckludGVydmFsPWZ1bmN0aW9uKHQpe3QuY2xvc2UoKX0saS5wcm90b3R5cGUudW5yZWY9aS5wcm90b3R5cGUucmVmPWZ1bmN0aW9uKCl7fSxpLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFyRm4uY2FsbCh3aW5kb3csdGhpcy5faWQpfSxlLmVucm9sbD1mdW5jdGlvbih0LGUpe2NsZWFyVGltZW91dCh0Ll9pZGxlVGltZW91dElkKSx0Ll9pZGxlVGltZW91dD1lfSxlLnVuZW5yb2xsPWZ1bmN0aW9uKHQpe2NsZWFyVGltZW91dCh0Ll9pZGxlVGltZW91dElkKSx0Ll9pZGxlVGltZW91dD0tMX0sZS5fdW5yZWZBY3RpdmU9ZS5hY3RpdmU9ZnVuY3Rpb24odCl7Y2xlYXJUaW1lb3V0KHQuX2lkbGVUaW1lb3V0SWQpO3ZhciBlPXQuX2lkbGVUaW1lb3V0O2U+PTAmJih0Ll9pZGxlVGltZW91dElkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0Ll9vblRpbWVvdXQmJnQuX29uVGltZW91dCgpfSxlKSl9LGUuc2V0SW1tZWRpYXRlPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dDpmdW5jdGlvbih0KXt2YXIgbj11Kysscj1hcmd1bWVudHMubGVuZ3RoPDI/ITE6YS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gY1tuXT0hMCxvKGZ1bmN0aW9uKCl7Y1tuXSYmKHI/dC5hcHBseShudWxsLHIpOnQuY2FsbChudWxsKSxlLmNsZWFySW1tZWRpYXRlKG4pKX0pLG59LGUuY2xlYXJJbW1lZGlhdGU9XCJmdW5jdGlvblwiPT10eXBlb2Ygcj9yOmZ1bmN0aW9uKHQpe2RlbGV0ZSBjW3RdfX0pLmNhbGwoZSxuKDQ5KS5zZXRJbW1lZGlhdGUsbig0OSkuY2xlYXJJbW1lZGlhdGUpfSxmdW5jdGlvbih0LGUsbil7dmFyIHIsaT1pfHxmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtpZighKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0fHxcInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiYvTVNJRSBbMS05XVxcLi8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkpe3ZhciBlPXQuZG9jdW1lbnQsbj1mdW5jdGlvbigpe3JldHVybiB0LlVSTHx8dC53ZWJraXRVUkx8fHR9LHI9ZS5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIsXCJhXCIpLGk9XCJkb3dubG9hZFwiaW4gcixvPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBNb3VzZUV2ZW50KFwiY2xpY2tcIik7dC5kaXNwYXRjaEV2ZW50KGUpfSxzPS9jb25zdHJ1Y3Rvci9pLnRlc3QodC5IVE1MRWxlbWVudCl8fHQuc2FmYXJpLGE9L0NyaU9TXFwvW1xcZF0rLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGM9ZnVuY3Rpb24oZSl7KHQuc2V0SW1tZWRpYXRlfHx0LnNldFRpbWVvdXQpKGZ1bmN0aW9uKCl7dGhyb3cgZX0sMCl9LHU9XCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIixsPTRlNCxmPWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKCl7XCJzdHJpbmdcIj09dHlwZW9mIHQ/bigpLnJldm9rZU9iamVjdFVSTCh0KTp0LnJlbW92ZSgpfTtzZXRUaW1lb3V0KGUsbCl9LHA9ZnVuY3Rpb24odCxlLG4pe2U9W10uY29uY2F0KGUpO2Zvcih2YXIgcj1lLmxlbmd0aDtyLS07KXt2YXIgaT10W1wib25cIitlW3JdXTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBpKXRyeXtpLmNhbGwodCxufHx0KX1jYXRjaChvKXtjKG8pfX19LGg9ZnVuY3Rpb24odCl7cmV0dXJuL15cXHMqKD86dGV4dFxcL1xcUyp8YXBwbGljYXRpb25cXC94bWx8XFxTKlxcL1xcUypcXCt4bWwpXFxzKjsuKmNoYXJzZXRcXHMqPVxccyp1dGYtOC9pLnRlc3QodC50eXBlKT9uZXcgQmxvYihbU3RyaW5nLmZyb21DaGFyQ29kZSg2NTI3OSksdF0se3R5cGU6dC50eXBlfSk6dH0sZD1mdW5jdGlvbihlLGMsbCl7bHx8KGU9aChlKSk7dmFyIGQsXz10aGlzLHY9ZS50eXBlLHk9dj09PXUsbT1mdW5jdGlvbigpe3AoXyxcIndyaXRlc3RhcnQgcHJvZ3Jlc3Mgd3JpdGUgd3JpdGVlbmRcIi5zcGxpdChcIiBcIikpfSxnPWZ1bmN0aW9uKCl7aWYoKGF8fHkmJnMpJiZ0LkZpbGVSZWFkZXIpe3ZhciByPW5ldyBGaWxlUmVhZGVyO3JldHVybiByLm9ubG9hZGVuZD1mdW5jdGlvbigpe3ZhciBlPWE/ci5yZXN1bHQ6ci5yZXN1bHQucmVwbGFjZSgvXmRhdGE6W147XSo7LyxcImRhdGE6YXR0YWNobWVudC9maWxlO1wiKSxuPXQub3BlbihlLFwiX2JsYW5rXCIpO258fCh0LmxvY2F0aW9uLmhyZWY9ZSksZT12b2lkIDAsXy5yZWFkeVN0YXRlPV8uRE9ORSxtKCl9LHIucmVhZEFzRGF0YVVSTChlKSx2b2lkKF8ucmVhZHlTdGF0ZT1fLklOSVQpfWlmKGR8fChkPW4oKS5jcmVhdGVPYmplY3RVUkwoZSkpLHkpdC5sb2NhdGlvbi5ocmVmPWQ7ZWxzZXt2YXIgaT10Lm9wZW4oZCxcIl9ibGFua1wiKTtpfHwodC5sb2NhdGlvbi5ocmVmPWQpfV8ucmVhZHlTdGF0ZT1fLkRPTkUsbSgpLGYoZCl9O3JldHVybiBfLnJlYWR5U3RhdGU9Xy5JTklULGk/KGQ9bigpLmNyZWF0ZU9iamVjdFVSTChlKSx2b2lkIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLmhyZWY9ZCxyLmRvd25sb2FkPWMsbyhyKSxtKCksZihkKSxfLnJlYWR5U3RhdGU9Xy5ET05FfSkpOnZvaWQgZygpfSxfPWQucHJvdG90eXBlLHY9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuZXcgZCh0LGV8fHQubmFtZXx8XCJkb3dubG9hZFwiLG4pfTtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiZuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYj9mdW5jdGlvbih0LGUsbil7cmV0dXJuIGU9ZXx8dC5uYW1lfHxcImRvd25sb2FkXCIsbnx8KHQ9aCh0KSksbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IodCxlKX06KF8uYWJvcnQ9ZnVuY3Rpb24oKXt9LF8ucmVhZHlTdGF0ZT1fLklOSVQ9MCxfLldSSVRJTkc9MSxfLkRPTkU9MixfLmVycm9yPV8ub253cml0ZXN0YXJ0PV8ub25wcm9ncmVzcz1fLm9ud3JpdGU9Xy5vbmFib3J0PV8ub25lcnJvcj1fLm9ud3JpdGVlbmQ9bnVsbCx2KX19KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmfHxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3d8fHRoaXMuY29udGVudCk7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJnQuZXhwb3J0cz90LmV4cG9ydHMuc2F2ZUFzPWk6bnVsbCE9PW4oNTEpJiZudWxsIT09big1MikmJihyPWZ1bmN0aW9uKCl7cmV0dXJuIGl9LmNhbGwoZSxuLGUsdCksISh2b2lkIDAhPT1yJiYodC5leHBvcnRzPXIpKSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiZGVmaW5lIGNhbm5vdCBiZSB1c2VkIGluZGlyZWN0XCIpfX0sZnVuY3Rpb24odCxlKXsoZnVuY3Rpb24oZSl7dC5leHBvcnRzPWV9KS5jYWxsKGUse30pfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17bmFtZTpcImVwdWItcHJlc3MtanNcIix2ZXJzaW9uOlwiMC41LjFcIixkZXNjcmlwdGlvbjpcIkphdmFzY3JpcHQgY2xpZW50IGZvciBidWlsZGluZyBib29rcyB3aXRoIEVwdWJQcmVzcy5cIixob21lcGFnZTpcImh0dHBzOi8vZ2l0aHViLmNvbS9oYXJvbGR0cmVlbi9lcHViLXByZXNzLWNsaWVudHMjcmVhZG1lXCIsYmFzZVVybDpcImh0dHBzOi8vZXB1Yi5wcmVzc1wiLG1haW46XCJidWlsZC9pbmRleC5qc1wiLGRpcmVjdG9yaWVzOnt0ZXN0czpcInRlc3RcIn0sc2NyaXB0czp7dGVzdDpcImV4cG9ydCBOT0RFX0VOVj10ZXN0ICYmIG9wZW4gaHR0cDovL2xvY2FsaG9zdDo1MDAxL3Rlc3RzICYmIHdlYnBhY2stZGV2LXNlcnZlclwiLHN0YXJ0OlwiZXhwb3J0IE5PREVfRU5WPWRldmVsb3BtZW50ICYmIHdlYnBhY2sgLS13YXRjaCAtLXByb2dyZXNzIC0tY29sb3JcIixidWlsZDpcImV4cG9ydCBOT0RFX0VOVj1kZXZlbG9wbWVudCAmJiB3ZWJwYWNrXCIsXCJidWlsZC1wcm9kXCI6XCJleHBvcnQgTk9ERV9FTlY9cHJvZHVjdGlvbiAmJiB3ZWJwYWNrIC0tb3B0aW1pemUtbWluaW1pemUgLS1vcHRpbWl6ZS1kZWR1cGVcIixwcmV2ZXJzaW9uOlwibnBtIHJ1bi1zY3JpcHQgYnVpbGQtcHJvZFwiLHByZXB1Ymxpc2g6XCJucG0gcnVuIGJ1aWxkLXByb2RcIn0scmVwb3NpdG9yeTp7dHlwZTpcImdpdFwiLHVybDpcImdpdCtodHRwczovL2dpdGh1Yi5jb20vaGFyb2xkdHJlZW4vZXB1Yi1wcmVzcy1jbGllbnRzLmdpdFwifSxrZXl3b3JkczpbXCJlcHViXCIsXCJwdWJsaXNoaW5nXCIsXCJwcm9kdWN0aXZpdHlcIixcImNsaWVudFwiLFwiZXB1YnByZXNzXCIsXCJlYm9va3NcIixcImNvbnRlbnRcIixcImV4dHJhY3Rpb25cIl0sYXV0aG9yOlwiRXB1YlByZXNzXCIsbGljZW5zZTpcIklTQ1wiLGJ1Z3M6e3VybDpcImh0dHBzOi8vZ2l0aHViLmNvbS9oYXJvbGR0cmVlbi9lcHViLXByZXNzLWNsaWVudHMvaXNzdWVzXCJ9LGRldkRlcGVuZGVuY2llczp7XCJiYWJlbC1jb3JlXCI6XCJeNi4xNy4wXCIsXCJiYWJlbC1sb2FkZXJcIjpcIl42LjIuNFwiLFwiYmFiZWwtcGx1Z2luLXRyYW5zZm9ybS1ydW50aW1lXCI6XCJeNi45LjBcIixcImJhYmVsLXByZXNldC1lczIwMTVcIjpcIl42LjkuMFwiLGNoYWk6XCJeMy41LjBcIixcImZldGNoLW1vY2tcIjpcIl41LjAuM1wiLG1vY2hhOlwiXjIuNS4zXCIsXCJtb2NoYS1sb2FkZXJcIjpcIl4xLjAuMFwiLHNpbm9uOlwiZ2l0K2h0dHBzOi8vZ2l0aHViLmNvbS9zaW5vbmpzL3Npbm9uLmdpdFwiLFwic2lub24tYXMtcHJvbWlzZWRcIjpcIl40LjAuMlwiLHdlYnBhY2s6XCJeMS4xMy4xXCJ9LGRlcGVuZGVuY2llczp7Ymx1ZWJpcmQ6XCJeMy40LjZcIixcImZpbGUtc2F2ZXJcIjpcIl4xLjMuM1wiLFwiaXNvbW9ycGhpYy1mZXRjaFwiOlwiXjIuMi4xXCIsXCJqc29uLWxvYWRlclwiOlwiXjAuNS40XCJ9fX0sZnVuY3Rpb24odCxuKXt0LmV4cG9ydHM9ZX1dKX0pO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg0MykpKVxuXG4vKioqLyB9LFxuLyogNDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsvKmVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzKi9cblx0LyohXG5cdCAqIGpRdWVyeSBKYXZhU2NyaXB0IExpYnJhcnkgdjMuMS4wXG5cdCAqIGh0dHBzOi8vanF1ZXJ5LmNvbS9cblx0ICpcblx0ICogSW5jbHVkZXMgU2l6emxlLmpzXG5cdCAqIGh0dHBzOi8vc2l6emxlanMuY29tL1xuXHQgKlxuXHQgKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuXHQgKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2Vcblx0ICogaHR0cHM6Ly9qcXVlcnkub3JnL2xpY2Vuc2Vcblx0ICpcblx0ICogRGF0ZTogMjAxNi0wNy0wN1QyMTo0NFpcblx0ICovXG5cdCggZnVuY3Rpb24oIGdsb2JhbCwgZmFjdG9yeSApIHtcblx0XG5cdFx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRcdGlmICggdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09IFwib2JqZWN0XCIgKSB7XG5cdFxuXHRcdFx0Ly8gRm9yIENvbW1vbkpTIGFuZCBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB3aGVyZSBhIHByb3BlciBgd2luZG93YFxuXHRcdFx0Ly8gaXMgcHJlc2VudCwgZXhlY3V0ZSB0aGUgZmFjdG9yeSBhbmQgZ2V0IGpRdWVyeS5cblx0XHRcdC8vIEZvciBlbnZpcm9ubWVudHMgdGhhdCBkbyBub3QgaGF2ZSBhIGB3aW5kb3dgIHdpdGggYSBgZG9jdW1lbnRgXG5cdFx0XHQvLyAoc3VjaCBhcyBOb2RlLmpzKSwgZXhwb3NlIGEgZmFjdG9yeSBhcyBtb2R1bGUuZXhwb3J0cy5cblx0XHRcdC8vIFRoaXMgYWNjZW50dWF0ZXMgdGhlIG5lZWQgZm9yIHRoZSBjcmVhdGlvbiBvZiBhIHJlYWwgYHdpbmRvd2AuXG5cdFx0XHQvLyBlLmcuIHZhciBqUXVlcnkgPSByZXF1aXJlKFwianF1ZXJ5XCIpKHdpbmRvdyk7XG5cdFx0XHQvLyBTZWUgdGlja2V0ICMxNDU0OSBmb3IgbW9yZSBpbmZvLlxuXHRcdFx0bW9kdWxlLmV4cG9ydHMgPSBnbG9iYWwuZG9jdW1lbnQgP1xuXHRcdFx0XHRmYWN0b3J5KCBnbG9iYWwsIHRydWUgKSA6XG5cdFx0XHRcdGZ1bmN0aW9uKCB3ICkge1xuXHRcdFx0XHRcdGlmICggIXcuZG9jdW1lbnQgKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoIFwialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudFwiICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBmYWN0b3J5KCB3ICk7XG5cdFx0XHRcdH07XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZhY3RvcnkoIGdsb2JhbCApO1xuXHRcdH1cblx0XG5cdC8vIFBhc3MgdGhpcyBpZiB3aW5kb3cgaXMgbm90IGRlZmluZWQgeWV0XG5cdH0gKSggdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uKCB3aW5kb3csIG5vR2xvYmFsICkge1xuXHRcblx0Ly8gRWRnZSA8PSAxMiAtIDEzKywgRmlyZWZveCA8PTE4IC0gNDUrLCBJRSAxMCAtIDExLCBTYWZhcmkgNS4xIC0gOSssIGlPUyA2IC0gOS4xXG5cdC8vIHRocm93IGV4Y2VwdGlvbnMgd2hlbiBub24tc3RyaWN0IGNvZGUgKGUuZy4sIEFTUC5ORVQgNC41KSBhY2Nlc3NlcyBzdHJpY3QgbW9kZVxuXHQvLyBhcmd1bWVudHMuY2FsbGVlLmNhbGxlciAodHJhYy0xMzMzNSkuIEJ1dCBhcyBvZiBqUXVlcnkgMy4wICgyMDE2KSwgc3RyaWN0IG1vZGUgc2hvdWxkIGJlIGNvbW1vblxuXHQvLyBlbm91Z2ggdGhhdCBhbGwgc3VjaCBhdHRlbXB0cyBhcmUgZ3VhcmRlZCBpbiBhIHRyeSBibG9jay5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgYXJyID0gW107XG5cdFxuXHR2YXIgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQ7XG5cdFxuXHR2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5cdFxuXHR2YXIgc2xpY2UgPSBhcnIuc2xpY2U7XG5cdFxuXHR2YXIgY29uY2F0ID0gYXJyLmNvbmNhdDtcblx0XG5cdHZhciBwdXNoID0gYXJyLnB1c2g7XG5cdFxuXHR2YXIgaW5kZXhPZiA9IGFyci5pbmRleE9mO1xuXHRcblx0dmFyIGNsYXNzMnR5cGUgPSB7fTtcblx0XG5cdHZhciB0b1N0cmluZyA9IGNsYXNzMnR5cGUudG9TdHJpbmc7XG5cdFxuXHR2YXIgaGFzT3duID0gY2xhc3MydHlwZS5oYXNPd25Qcm9wZXJ0eTtcblx0XG5cdHZhciBmblRvU3RyaW5nID0gaGFzT3duLnRvU3RyaW5nO1xuXHRcblx0dmFyIE9iamVjdEZ1bmN0aW9uU3RyaW5nID0gZm5Ub1N0cmluZy5jYWxsKCBPYmplY3QgKTtcblx0XG5cdHZhciBzdXBwb3J0ID0ge307XG5cdFxuXHRcblx0XG5cdFx0ZnVuY3Rpb24gRE9NRXZhbCggY29kZSwgZG9jICkge1xuXHRcdFx0ZG9jID0gZG9jIHx8IGRvY3VtZW50O1xuXHRcblx0XHRcdHZhciBzY3JpcHQgPSBkb2MuY3JlYXRlRWxlbWVudCggXCJzY3JpcHRcIiApO1xuXHRcblx0XHRcdHNjcmlwdC50ZXh0ID0gY29kZTtcblx0XHRcdGRvYy5oZWFkLmFwcGVuZENoaWxkKCBzY3JpcHQgKS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBzY3JpcHQgKTtcblx0XHR9XG5cdC8qIGdsb2JhbCBTeW1ib2wgKi9cblx0Ly8gRGVmaW5pbmcgdGhpcyBnbG9iYWwgaW4gLmVzbGludHJjIHdvdWxkIGNyZWF0ZSBhIGRhbmdlciBvZiB1c2luZyB0aGUgZ2xvYmFsXG5cdC8vIHVuZ3VhcmRlZCBpbiBhbm90aGVyIHBsYWNlLCBpdCBzZWVtcyBzYWZlciB0byBkZWZpbmUgZ2xvYmFsIG9ubHkgZm9yIHRoaXMgbW9kdWxlXG5cdFxuXHRcblx0XG5cdHZhclxuXHRcdHZlcnNpb24gPSBcIjMuMS4wXCIsXG5cdFxuXHRcdC8vIERlZmluZSBhIGxvY2FsIGNvcHkgb2YgalF1ZXJ5XG5cdFx0alF1ZXJ5ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0ICkge1xuXHRcblx0XHRcdC8vIFRoZSBqUXVlcnkgb2JqZWN0IGlzIGFjdHVhbGx5IGp1c3QgdGhlIGluaXQgY29uc3RydWN0b3IgJ2VuaGFuY2VkJ1xuXHRcdFx0Ly8gTmVlZCBpbml0IGlmIGpRdWVyeSBpcyBjYWxsZWQgKGp1c3QgYWxsb3cgZXJyb3IgdG8gYmUgdGhyb3duIGlmIG5vdCBpbmNsdWRlZClcblx0XHRcdHJldHVybiBuZXcgalF1ZXJ5LmZuLmluaXQoIHNlbGVjdG9yLCBjb250ZXh0ICk7XG5cdFx0fSxcblx0XG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5XG5cdFx0Ly8gTWFrZSBzdXJlIHdlIHRyaW0gQk9NIGFuZCBOQlNQXG5cdFx0cnRyaW0gPSAvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2csXG5cdFxuXHRcdC8vIE1hdGNoZXMgZGFzaGVkIHN0cmluZyBmb3IgY2FtZWxpemluZ1xuXHRcdHJtc1ByZWZpeCA9IC9eLW1zLS8sXG5cdFx0cmRhc2hBbHBoYSA9IC8tKFthLXpdKS9nLFxuXHRcblx0XHQvLyBVc2VkIGJ5IGpRdWVyeS5jYW1lbENhc2UgYXMgY2FsbGJhY2sgdG8gcmVwbGFjZSgpXG5cdFx0ZmNhbWVsQ2FzZSA9IGZ1bmN0aW9uKCBhbGwsIGxldHRlciApIHtcblx0XHRcdHJldHVybiBsZXR0ZXIudG9VcHBlckNhc2UoKTtcblx0XHR9O1xuXHRcblx0alF1ZXJ5LmZuID0galF1ZXJ5LnByb3RvdHlwZSA9IHtcblx0XG5cdFx0Ly8gVGhlIGN1cnJlbnQgdmVyc2lvbiBvZiBqUXVlcnkgYmVpbmcgdXNlZFxuXHRcdGpxdWVyeTogdmVyc2lvbixcblx0XG5cdFx0Y29uc3RydWN0b3I6IGpRdWVyeSxcblx0XG5cdFx0Ly8gVGhlIGRlZmF1bHQgbGVuZ3RoIG9mIGEgalF1ZXJ5IG9iamVjdCBpcyAwXG5cdFx0bGVuZ3RoOiAwLFxuXHRcblx0XHR0b0FycmF5OiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBzbGljZS5jYWxsKCB0aGlzICk7XG5cdFx0fSxcblx0XG5cdFx0Ly8gR2V0IHRoZSBOdGggZWxlbWVudCBpbiB0aGUgbWF0Y2hlZCBlbGVtZW50IHNldCBPUlxuXHRcdC8vIEdldCB0aGUgd2hvbGUgbWF0Y2hlZCBlbGVtZW50IHNldCBhcyBhIGNsZWFuIGFycmF5XG5cdFx0Z2V0OiBmdW5jdGlvbiggbnVtICkge1xuXHRcdFx0cmV0dXJuIG51bSAhPSBudWxsID9cblx0XG5cdFx0XHRcdC8vIFJldHVybiBqdXN0IHRoZSBvbmUgZWxlbWVudCBmcm9tIHRoZSBzZXRcblx0XHRcdFx0KCBudW0gPCAwID8gdGhpc1sgbnVtICsgdGhpcy5sZW5ndGggXSA6IHRoaXNbIG51bSBdICkgOlxuXHRcblx0XHRcdFx0Ly8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgaW4gYSBjbGVhbiBhcnJheVxuXHRcdFx0XHRzbGljZS5jYWxsKCB0aGlzICk7XG5cdFx0fSxcblx0XG5cdFx0Ly8gVGFrZSBhbiBhcnJheSBvZiBlbGVtZW50cyBhbmQgcHVzaCBpdCBvbnRvIHRoZSBzdGFja1xuXHRcdC8vIChyZXR1cm5pbmcgdGhlIG5ldyBtYXRjaGVkIGVsZW1lbnQgc2V0KVxuXHRcdHB1c2hTdGFjazogZnVuY3Rpb24oIGVsZW1zICkge1xuXHRcblx0XHRcdC8vIEJ1aWxkIGEgbmV3IGpRdWVyeSBtYXRjaGVkIGVsZW1lbnQgc2V0XG5cdFx0XHR2YXIgcmV0ID0galF1ZXJ5Lm1lcmdlKCB0aGlzLmNvbnN0cnVjdG9yKCksIGVsZW1zICk7XG5cdFxuXHRcdFx0Ly8gQWRkIHRoZSBvbGQgb2JqZWN0IG9udG8gdGhlIHN0YWNrIChhcyBhIHJlZmVyZW5jZSlcblx0XHRcdHJldC5wcmV2T2JqZWN0ID0gdGhpcztcblx0XG5cdFx0XHQvLyBSZXR1cm4gdGhlIG5ld2x5LWZvcm1lZCBlbGVtZW50IHNldFxuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9LFxuXHRcblx0XHQvLyBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGV2ZXJ5IGVsZW1lbnQgaW4gdGhlIG1hdGNoZWQgc2V0LlxuXHRcdGVhY2g6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcblx0XHRcdHJldHVybiBqUXVlcnkuZWFjaCggdGhpcywgY2FsbGJhY2sgKTtcblx0XHR9LFxuXHRcblx0XHRtYXA6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcblx0XHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5Lm1hcCggdGhpcywgZnVuY3Rpb24oIGVsZW0sIGkgKSB7XG5cdFx0XHRcdHJldHVybiBjYWxsYmFjay5jYWxsKCBlbGVtLCBpLCBlbGVtICk7XG5cdFx0XHR9ICkgKTtcblx0XHR9LFxuXHRcblx0XHRzbGljZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHNsaWNlLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSApO1xuXHRcdH0sXG5cdFxuXHRcdGZpcnN0OiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB0aGlzLmVxKCAwICk7XG5cdFx0fSxcblx0XG5cdFx0bGFzdDogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lcSggLTEgKTtcblx0XHR9LFxuXHRcblx0XHRlcTogZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHR2YXIgbGVuID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRcdGogPSAraSArICggaSA8IDAgPyBsZW4gOiAwICk7XG5cdFx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGogPj0gMCAmJiBqIDwgbGVuID8gWyB0aGlzWyBqIF0gXSA6IFtdICk7XG5cdFx0fSxcblx0XG5cdFx0ZW5kOiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB0aGlzLnByZXZPYmplY3QgfHwgdGhpcy5jb25zdHJ1Y3RvcigpO1xuXHRcdH0sXG5cdFxuXHRcdC8vIEZvciBpbnRlcm5hbCB1c2Ugb25seS5cblx0XHQvLyBCZWhhdmVzIGxpa2UgYW4gQXJyYXkncyBtZXRob2QsIG5vdCBsaWtlIGEgalF1ZXJ5IG1ldGhvZC5cblx0XHRwdXNoOiBwdXNoLFxuXHRcdHNvcnQ6IGFyci5zb3J0LFxuXHRcdHNwbGljZTogYXJyLnNwbGljZVxuXHR9O1xuXHRcblx0alF1ZXJ5LmV4dGVuZCA9IGpRdWVyeS5mbi5leHRlbmQgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgb3B0aW9ucywgbmFtZSwgc3JjLCBjb3B5LCBjb3B5SXNBcnJheSwgY2xvbmUsXG5cdFx0XHR0YXJnZXQgPSBhcmd1bWVudHNbIDAgXSB8fCB7fSxcblx0XHRcdGkgPSAxLFxuXHRcdFx0bGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcblx0XHRcdGRlZXAgPSBmYWxzZTtcblx0XG5cdFx0Ly8gSGFuZGxlIGEgZGVlcCBjb3B5IHNpdHVhdGlvblxuXHRcdGlmICggdHlwZW9mIHRhcmdldCA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0XHRkZWVwID0gdGFyZ2V0O1xuXHRcblx0XHRcdC8vIFNraXAgdGhlIGJvb2xlYW4gYW5kIHRoZSB0YXJnZXRcblx0XHRcdHRhcmdldCA9IGFyZ3VtZW50c1sgaSBdIHx8IHt9O1xuXHRcdFx0aSsrO1xuXHRcdH1cblx0XG5cdFx0Ly8gSGFuZGxlIGNhc2Ugd2hlbiB0YXJnZXQgaXMgYSBzdHJpbmcgb3Igc29tZXRoaW5nIChwb3NzaWJsZSBpbiBkZWVwIGNvcHkpXG5cdFx0aWYgKCB0eXBlb2YgdGFyZ2V0ICE9PSBcIm9iamVjdFwiICYmICFqUXVlcnkuaXNGdW5jdGlvbiggdGFyZ2V0ICkgKSB7XG5cdFx0XHR0YXJnZXQgPSB7fTtcblx0XHR9XG5cdFxuXHRcdC8vIEV4dGVuZCBqUXVlcnkgaXRzZWxmIGlmIG9ubHkgb25lIGFyZ3VtZW50IGlzIHBhc3NlZFxuXHRcdGlmICggaSA9PT0gbGVuZ3RoICkge1xuXHRcdFx0dGFyZ2V0ID0gdGhpcztcblx0XHRcdGktLTtcblx0XHR9XG5cdFxuXHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcblx0XHRcdC8vIE9ubHkgZGVhbCB3aXRoIG5vbi1udWxsL3VuZGVmaW5lZCB2YWx1ZXNcblx0XHRcdGlmICggKCBvcHRpb25zID0gYXJndW1lbnRzWyBpIF0gKSAhPSBudWxsICkge1xuXHRcblx0XHRcdFx0Ly8gRXh0ZW5kIHRoZSBiYXNlIG9iamVjdFxuXHRcdFx0XHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0XHRcdFx0c3JjID0gdGFyZ2V0WyBuYW1lIF07XG5cdFx0XHRcdFx0Y29weSA9IG9wdGlvbnNbIG5hbWUgXTtcblx0XG5cdFx0XHRcdFx0Ly8gUHJldmVudCBuZXZlci1lbmRpbmcgbG9vcFxuXHRcdFx0XHRcdGlmICggdGFyZ2V0ID09PSBjb3B5ICkge1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBSZWN1cnNlIGlmIHdlJ3JlIG1lcmdpbmcgcGxhaW4gb2JqZWN0cyBvciBhcnJheXNcblx0XHRcdFx0XHRpZiAoIGRlZXAgJiYgY29weSAmJiAoIGpRdWVyeS5pc1BsYWluT2JqZWN0KCBjb3B5ICkgfHxcblx0XHRcdFx0XHRcdCggY29weUlzQXJyYXkgPSBqUXVlcnkuaXNBcnJheSggY29weSApICkgKSApIHtcblx0XG5cdFx0XHRcdFx0XHRpZiAoIGNvcHlJc0FycmF5ICkge1xuXHRcdFx0XHRcdFx0XHRjb3B5SXNBcnJheSA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRjbG9uZSA9IHNyYyAmJiBqUXVlcnkuaXNBcnJheSggc3JjICkgPyBzcmMgOiBbXTtcblx0XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRjbG9uZSA9IHNyYyAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdCggc3JjICkgPyBzcmMgOiB7fTtcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHQvLyBOZXZlciBtb3ZlIG9yaWdpbmFsIG9iamVjdHMsIGNsb25lIHRoZW1cblx0XHRcdFx0XHRcdHRhcmdldFsgbmFtZSBdID0galF1ZXJ5LmV4dGVuZCggZGVlcCwgY2xvbmUsIGNvcHkgKTtcblx0XG5cdFx0XHRcdFx0Ly8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlc1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIGNvcHkgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdHRhcmdldFsgbmFtZSBdID0gY29weTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdC8vIFJldHVybiB0aGUgbW9kaWZpZWQgb2JqZWN0XG5cdFx0cmV0dXJuIHRhcmdldDtcblx0fTtcblx0XG5cdGpRdWVyeS5leHRlbmQoIHtcblx0XG5cdFx0Ly8gVW5pcXVlIGZvciBlYWNoIGNvcHkgb2YgalF1ZXJ5IG9uIHRoZSBwYWdlXG5cdFx0ZXhwYW5kbzogXCJqUXVlcnlcIiArICggdmVyc2lvbiArIE1hdGgucmFuZG9tKCkgKS5yZXBsYWNlKCAvXFxEL2csIFwiXCIgKSxcblx0XG5cdFx0Ly8gQXNzdW1lIGpRdWVyeSBpcyByZWFkeSB3aXRob3V0IHRoZSByZWFkeSBtb2R1bGVcblx0XHRpc1JlYWR5OiB0cnVlLFxuXHRcblx0XHRlcnJvcjogZnVuY3Rpb24oIG1zZyApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvciggbXNnICk7XG5cdFx0fSxcblx0XG5cdFx0bm9vcDogZnVuY3Rpb24oKSB7fSxcblx0XG5cdFx0aXNGdW5jdGlvbjogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRcdHJldHVybiBqUXVlcnkudHlwZSggb2JqICkgPT09IFwiZnVuY3Rpb25cIjtcblx0XHR9LFxuXHRcblx0XHRpc0FycmF5OiBBcnJheS5pc0FycmF5LFxuXHRcblx0XHRpc1dpbmRvdzogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRcdHJldHVybiBvYmogIT0gbnVsbCAmJiBvYmogPT09IG9iai53aW5kb3c7XG5cdFx0fSxcblx0XG5cdFx0aXNOdW1lcmljOiBmdW5jdGlvbiggb2JqICkge1xuXHRcblx0XHRcdC8vIEFzIG9mIGpRdWVyeSAzLjAsIGlzTnVtZXJpYyBpcyBsaW1pdGVkIHRvXG5cdFx0XHQvLyBzdHJpbmdzIGFuZCBudW1iZXJzIChwcmltaXRpdmVzIG9yIG9iamVjdHMpXG5cdFx0XHQvLyB0aGF0IGNhbiBiZSBjb2VyY2VkIHRvIGZpbml0ZSBudW1iZXJzIChnaC0yNjYyKVxuXHRcdFx0dmFyIHR5cGUgPSBqUXVlcnkudHlwZSggb2JqICk7XG5cdFx0XHRyZXR1cm4gKCB0eXBlID09PSBcIm51bWJlclwiIHx8IHR5cGUgPT09IFwic3RyaW5nXCIgKSAmJlxuXHRcblx0XHRcdFx0Ly8gcGFyc2VGbG9hdCBOYU5zIG51bWVyaWMtY2FzdCBmYWxzZSBwb3NpdGl2ZXMgKFwiXCIpXG5cdFx0XHRcdC8vIC4uLmJ1dCBtaXNpbnRlcnByZXRzIGxlYWRpbmctbnVtYmVyIHN0cmluZ3MsIHBhcnRpY3VsYXJseSBoZXggbGl0ZXJhbHMgKFwiMHguLi5cIilcblx0XHRcdFx0Ly8gc3VidHJhY3Rpb24gZm9yY2VzIGluZmluaXRpZXMgdG8gTmFOXG5cdFx0XHRcdCFpc05hTiggb2JqIC0gcGFyc2VGbG9hdCggb2JqICkgKTtcblx0XHR9LFxuXHRcblx0XHRpc1BsYWluT2JqZWN0OiBmdW5jdGlvbiggb2JqICkge1xuXHRcdFx0dmFyIHByb3RvLCBDdG9yO1xuXHRcblx0XHRcdC8vIERldGVjdCBvYnZpb3VzIG5lZ2F0aXZlc1xuXHRcdFx0Ly8gVXNlIHRvU3RyaW5nIGluc3RlYWQgb2YgalF1ZXJ5LnR5cGUgdG8gY2F0Y2ggaG9zdCBvYmplY3RzXG5cdFx0XHRpZiAoICFvYmogfHwgdG9TdHJpbmcuY2FsbCggb2JqICkgIT09IFwiW29iamVjdCBPYmplY3RdXCIgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XG5cdFx0XHRwcm90byA9IGdldFByb3RvKCBvYmogKTtcblx0XG5cdFx0XHQvLyBPYmplY3RzIHdpdGggbm8gcHJvdG90eXBlIChlLmcuLCBgT2JqZWN0LmNyZWF0ZSggbnVsbCApYCkgYXJlIHBsYWluXG5cdFx0XHRpZiAoICFwcm90byApIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gT2JqZWN0cyB3aXRoIHByb3RvdHlwZSBhcmUgcGxhaW4gaWZmIHRoZXkgd2VyZSBjb25zdHJ1Y3RlZCBieSBhIGdsb2JhbCBPYmplY3QgZnVuY3Rpb25cblx0XHRcdEN0b3IgPSBoYXNPd24uY2FsbCggcHJvdG8sIFwiY29uc3RydWN0b3JcIiApICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuXHRcdFx0cmV0dXJuIHR5cGVvZiBDdG9yID09PSBcImZ1bmN0aW9uXCIgJiYgZm5Ub1N0cmluZy5jYWxsKCBDdG9yICkgPT09IE9iamVjdEZ1bmN0aW9uU3RyaW5nO1xuXHRcdH0sXG5cdFxuXHRcdGlzRW1wdHlPYmplY3Q6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFxuXHRcdFx0LyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cblx0XHRcdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZXNsaW50L2VzbGludC9pc3N1ZXMvNjEyNVxuXHRcdFx0dmFyIG5hbWU7XG5cdFxuXHRcdFx0Zm9yICggbmFtZSBpbiBvYmogKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0sXG5cdFxuXHRcdHR5cGU6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0XHRpZiAoIG9iaiA9PSBudWxsICkge1xuXHRcdFx0XHRyZXR1cm4gb2JqICsgXCJcIjtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9Mi4zIG9ubHkgKGZ1bmN0aW9uaXNoIFJlZ0V4cClcblx0XHRcdHJldHVybiB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBvYmogPT09IFwiZnVuY3Rpb25cIiA/XG5cdFx0XHRcdGNsYXNzMnR5cGVbIHRvU3RyaW5nLmNhbGwoIG9iaiApIF0gfHwgXCJvYmplY3RcIiA6XG5cdFx0XHRcdHR5cGVvZiBvYmo7XG5cdFx0fSxcblx0XG5cdFx0Ly8gRXZhbHVhdGVzIGEgc2NyaXB0IGluIGEgZ2xvYmFsIGNvbnRleHRcblx0XHRnbG9iYWxFdmFsOiBmdW5jdGlvbiggY29kZSApIHtcblx0XHRcdERPTUV2YWwoIGNvZGUgKTtcblx0XHR9LFxuXHRcblx0XHQvLyBDb252ZXJ0IGRhc2hlZCB0byBjYW1lbENhc2U7IHVzZWQgYnkgdGhlIGNzcyBhbmQgZGF0YSBtb2R1bGVzXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEsIEVkZ2UgMTIgLSAxM1xuXHRcdC8vIE1pY3Jvc29mdCBmb3Jnb3QgdG8gaHVtcCB0aGVpciB2ZW5kb3IgcHJlZml4ICgjOTU3Milcblx0XHRjYW1lbENhc2U6IGZ1bmN0aW9uKCBzdHJpbmcgKSB7XG5cdFx0XHRyZXR1cm4gc3RyaW5nLnJlcGxhY2UoIHJtc1ByZWZpeCwgXCJtcy1cIiApLnJlcGxhY2UoIHJkYXNoQWxwaGEsIGZjYW1lbENhc2UgKTtcblx0XHR9LFxuXHRcblx0XHRub2RlTmFtZTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHR9LFxuXHRcblx0XHRlYWNoOiBmdW5jdGlvbiggb2JqLCBjYWxsYmFjayApIHtcblx0XHRcdHZhciBsZW5ndGgsIGkgPSAwO1xuXHRcblx0XHRcdGlmICggaXNBcnJheUxpa2UoIG9iaiApICkge1xuXHRcdFx0XHRsZW5ndGggPSBvYmoubGVuZ3RoO1xuXHRcdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrLmNhbGwoIG9ialsgaSBdLCBpLCBvYmpbIGkgXSApID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yICggaSBpbiBvYmogKSB7XG5cdFx0XHRcdFx0aWYgKCBjYWxsYmFjay5jYWxsKCBvYmpbIGkgXSwgaSwgb2JqWyBpIF0gKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gb2JqO1xuXHRcdH0sXG5cdFxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seVxuXHRcdHRyaW06IGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRcdFx0cmV0dXJuIHRleHQgPT0gbnVsbCA/XG5cdFx0XHRcdFwiXCIgOlxuXHRcdFx0XHQoIHRleHQgKyBcIlwiICkucmVwbGFjZSggcnRyaW0sIFwiXCIgKTtcblx0XHR9LFxuXHRcblx0XHQvLyByZXN1bHRzIGlzIGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5XG5cdFx0bWFrZUFycmF5OiBmdW5jdGlvbiggYXJyLCByZXN1bHRzICkge1xuXHRcdFx0dmFyIHJldCA9IHJlc3VsdHMgfHwgW107XG5cdFxuXHRcdFx0aWYgKCBhcnIgIT0gbnVsbCApIHtcblx0XHRcdFx0aWYgKCBpc0FycmF5TGlrZSggT2JqZWN0KCBhcnIgKSApICkge1xuXHRcdFx0XHRcdGpRdWVyeS5tZXJnZSggcmV0LFxuXHRcdFx0XHRcdFx0dHlwZW9mIGFyciA9PT0gXCJzdHJpbmdcIiA/XG5cdFx0XHRcdFx0XHRbIGFyciBdIDogYXJyXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRwdXNoLmNhbGwoIHJldCwgYXJyICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH0sXG5cdFxuXHRcdGluQXJyYXk6IGZ1bmN0aW9uKCBlbGVtLCBhcnIsIGkgKSB7XG5cdFx0XHRyZXR1cm4gYXJyID09IG51bGwgPyAtMSA6IGluZGV4T2YuY2FsbCggYXJyLCBlbGVtLCBpICk7XG5cdFx0fSxcblx0XG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdG1lcmdlOiBmdW5jdGlvbiggZmlyc3QsIHNlY29uZCApIHtcblx0XHRcdHZhciBsZW4gPSArc2Vjb25kLmxlbmd0aCxcblx0XHRcdFx0aiA9IDAsXG5cdFx0XHRcdGkgPSBmaXJzdC5sZW5ndGg7XG5cdFxuXHRcdFx0Zm9yICggOyBqIDwgbGVuOyBqKysgKSB7XG5cdFx0XHRcdGZpcnN0WyBpKysgXSA9IHNlY29uZFsgaiBdO1xuXHRcdFx0fVxuXHRcblx0XHRcdGZpcnN0Lmxlbmd0aCA9IGk7XG5cdFxuXHRcdFx0cmV0dXJuIGZpcnN0O1xuXHRcdH0sXG5cdFxuXHRcdGdyZXA6IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ssIGludmVydCApIHtcblx0XHRcdHZhciBjYWxsYmFja0ludmVyc2UsXG5cdFx0XHRcdG1hdGNoZXMgPSBbXSxcblx0XHRcdFx0aSA9IDAsXG5cdFx0XHRcdGxlbmd0aCA9IGVsZW1zLmxlbmd0aCxcblx0XHRcdFx0Y2FsbGJhY2tFeHBlY3QgPSAhaW52ZXJ0O1xuXHRcblx0XHRcdC8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCBvbmx5IHNhdmluZyB0aGUgaXRlbXNcblx0XHRcdC8vIHRoYXQgcGFzcyB0aGUgdmFsaWRhdG9yIGZ1bmN0aW9uXG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0Y2FsbGJhY2tJbnZlcnNlID0gIWNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpICk7XG5cdFx0XHRcdGlmICggY2FsbGJhY2tJbnZlcnNlICE9PSBjYWxsYmFja0V4cGVjdCApIHtcblx0XHRcdFx0XHRtYXRjaGVzLnB1c2goIGVsZW1zWyBpIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiBtYXRjaGVzO1xuXHRcdH0sXG5cdFxuXHRcdC8vIGFyZyBpcyBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seVxuXHRcdG1hcDogZnVuY3Rpb24oIGVsZW1zLCBjYWxsYmFjaywgYXJnICkge1xuXHRcdFx0dmFyIGxlbmd0aCwgdmFsdWUsXG5cdFx0XHRcdGkgPSAwLFxuXHRcdFx0XHRyZXQgPSBbXTtcblx0XG5cdFx0XHQvLyBHbyB0aHJvdWdoIHRoZSBhcnJheSwgdHJhbnNsYXRpbmcgZWFjaCBvZiB0aGUgaXRlbXMgdG8gdGhlaXIgbmV3IHZhbHVlc1xuXHRcdFx0aWYgKCBpc0FycmF5TGlrZSggZWxlbXMgKSApIHtcblx0XHRcdFx0bGVuZ3RoID0gZWxlbXMubGVuZ3RoO1xuXHRcdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0XHR2YWx1ZSA9IGNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpLCBhcmcgKTtcblx0XG5cdFx0XHRcdFx0aWYgKCB2YWx1ZSAhPSBudWxsICkge1xuXHRcdFx0XHRcdFx0cmV0LnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0Ly8gR28gdGhyb3VnaCBldmVyeSBrZXkgb24gdGhlIG9iamVjdCxcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZvciAoIGkgaW4gZWxlbXMgKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSBjYWxsYmFjayggZWxlbXNbIGkgXSwgaSwgYXJnICk7XG5cdFxuXHRcdFx0XHRcdGlmICggdmFsdWUgIT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdHJldC5wdXNoKCB2YWx1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcblx0XHRcdHJldHVybiBjb25jYXQuYXBwbHkoIFtdLCByZXQgKTtcblx0XHR9LFxuXHRcblx0XHQvLyBBIGdsb2JhbCBHVUlEIGNvdW50ZXIgZm9yIG9iamVjdHNcblx0XHRndWlkOiAxLFxuXHRcblx0XHQvLyBCaW5kIGEgZnVuY3Rpb24gdG8gYSBjb250ZXh0LCBvcHRpb25hbGx5IHBhcnRpYWxseSBhcHBseWluZyBhbnlcblx0XHQvLyBhcmd1bWVudHMuXG5cdFx0cHJveHk6IGZ1bmN0aW9uKCBmbiwgY29udGV4dCApIHtcblx0XHRcdHZhciB0bXAsIGFyZ3MsIHByb3h5O1xuXHRcblx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdHRtcCA9IGZuWyBjb250ZXh0IF07XG5cdFx0XHRcdGNvbnRleHQgPSBmbjtcblx0XHRcdFx0Zm4gPSB0bXA7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gUXVpY2sgY2hlY2sgdG8gZGV0ZXJtaW5lIGlmIHRhcmdldCBpcyBjYWxsYWJsZSwgaW4gdGhlIHNwZWNcblx0XHRcdC8vIHRoaXMgdGhyb3dzIGEgVHlwZUVycm9yLCBidXQgd2Ugd2lsbCBqdXN0IHJldHVybiB1bmRlZmluZWQuXG5cdFx0XHRpZiAoICFqUXVlcnkuaXNGdW5jdGlvbiggZm4gKSApIHtcblx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBTaW11bGF0ZWQgYmluZFxuXHRcdFx0YXJncyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cywgMiApO1xuXHRcdFx0cHJveHkgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIGZuLmFwcGx5KCBjb250ZXh0IHx8IHRoaXMsIGFyZ3MuY29uY2F0KCBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSApICk7XG5cdFx0XHR9O1xuXHRcblx0XHRcdC8vIFNldCB0aGUgZ3VpZCBvZiB1bmlxdWUgaGFuZGxlciB0byB0aGUgc2FtZSBvZiBvcmlnaW5hbCBoYW5kbGVyLCBzbyBpdCBjYW4gYmUgcmVtb3ZlZFxuXHRcdFx0cHJveHkuZ3VpZCA9IGZuLmd1aWQgPSBmbi5ndWlkIHx8IGpRdWVyeS5ndWlkKys7XG5cdFxuXHRcdFx0cmV0dXJuIHByb3h5O1xuXHRcdH0sXG5cdFxuXHRcdG5vdzogRGF0ZS5ub3csXG5cdFxuXHRcdC8vIGpRdWVyeS5zdXBwb3J0IGlzIG5vdCB1c2VkIGluIENvcmUgYnV0IG90aGVyIHByb2plY3RzIGF0dGFjaCB0aGVpclxuXHRcdC8vIHByb3BlcnRpZXMgdG8gaXQgc28gaXQgbmVlZHMgdG8gZXhpc3QuXG5cdFx0c3VwcG9ydDogc3VwcG9ydFxuXHR9ICk7XG5cdFxuXHRpZiAoIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiApIHtcblx0XHRqUXVlcnkuZm5bIFN5bWJvbC5pdGVyYXRvciBdID0gYXJyWyBTeW1ib2wuaXRlcmF0b3IgXTtcblx0fVxuXHRcblx0Ly8gUG9wdWxhdGUgdGhlIGNsYXNzMnR5cGUgbWFwXG5cdGpRdWVyeS5lYWNoKCBcIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sXCIuc3BsaXQoIFwiIFwiICksXG5cdGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHRcdGNsYXNzMnR5cGVbIFwiW29iamVjdCBcIiArIG5hbWUgKyBcIl1cIiBdID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXHR9ICk7XG5cdFxuXHRmdW5jdGlvbiBpc0FycmF5TGlrZSggb2JqICkge1xuXHRcblx0XHQvLyBTdXBwb3J0OiByZWFsIGlPUyA4LjIgb25seSAobm90IHJlcHJvZHVjaWJsZSBpbiBzaW11bGF0b3IpXG5cdFx0Ly8gYGluYCBjaGVjayB1c2VkIHRvIHByZXZlbnQgSklUIGVycm9yIChnaC0yMTQ1KVxuXHRcdC8vIGhhc093biBpc24ndCB1c2VkIGhlcmUgZHVlIHRvIGZhbHNlIG5lZ2F0aXZlc1xuXHRcdC8vIHJlZ2FyZGluZyBOb2RlbGlzdCBsZW5ndGggaW4gSUVcblx0XHR2YXIgbGVuZ3RoID0gISFvYmogJiYgXCJsZW5ndGhcIiBpbiBvYmogJiYgb2JqLmxlbmd0aCxcblx0XHRcdHR5cGUgPSBqUXVlcnkudHlwZSggb2JqICk7XG5cdFxuXHRcdGlmICggdHlwZSA9PT0gXCJmdW5jdGlvblwiIHx8IGpRdWVyeS5pc1dpbmRvdyggb2JqICkgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gdHlwZSA9PT0gXCJhcnJheVwiIHx8IGxlbmd0aCA9PT0gMCB8fFxuXHRcdFx0dHlwZW9mIGxlbmd0aCA9PT0gXCJudW1iZXJcIiAmJiBsZW5ndGggPiAwICYmICggbGVuZ3RoIC0gMSApIGluIG9iajtcblx0fVxuXHR2YXIgU2l6emxlID1cblx0LyohXG5cdCAqIFNpenpsZSBDU1MgU2VsZWN0b3IgRW5naW5lIHYyLjMuMFxuXHQgKiBodHRwczovL3NpenpsZWpzLmNvbS9cblx0ICpcblx0ICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcblx0ICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG5cdCAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2Vcblx0ICpcblx0ICogRGF0ZTogMjAxNi0wMS0wNFxuXHQgKi9cblx0KGZ1bmN0aW9uKCB3aW5kb3cgKSB7XG5cdFxuXHR2YXIgaSxcblx0XHRzdXBwb3J0LFxuXHRcdEV4cHIsXG5cdFx0Z2V0VGV4dCxcblx0XHRpc1hNTCxcblx0XHR0b2tlbml6ZSxcblx0XHRjb21waWxlLFxuXHRcdHNlbGVjdCxcblx0XHRvdXRlcm1vc3RDb250ZXh0LFxuXHRcdHNvcnRJbnB1dCxcblx0XHRoYXNEdXBsaWNhdGUsXG5cdFxuXHRcdC8vIExvY2FsIGRvY3VtZW50IHZhcnNcblx0XHRzZXREb2N1bWVudCxcblx0XHRkb2N1bWVudCxcblx0XHRkb2NFbGVtLFxuXHRcdGRvY3VtZW50SXNIVE1MLFxuXHRcdHJidWdneVFTQSxcblx0XHRyYnVnZ3lNYXRjaGVzLFxuXHRcdG1hdGNoZXMsXG5cdFx0Y29udGFpbnMsXG5cdFxuXHRcdC8vIEluc3RhbmNlLXNwZWNpZmljIGRhdGFcblx0XHRleHBhbmRvID0gXCJzaXp6bGVcIiArIDEgKiBuZXcgRGF0ZSgpLFxuXHRcdHByZWZlcnJlZERvYyA9IHdpbmRvdy5kb2N1bWVudCxcblx0XHRkaXJydW5zID0gMCxcblx0XHRkb25lID0gMCxcblx0XHRjbGFzc0NhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0XHR0b2tlbkNhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0XHRjb21waWxlckNhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0XHRzb3J0T3JkZXIgPSBmdW5jdGlvbiggYSwgYiApIHtcblx0XHRcdGlmICggYSA9PT0gYiApIHtcblx0XHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiAwO1xuXHRcdH0sXG5cdFxuXHRcdC8vIEluc3RhbmNlIG1ldGhvZHNcblx0XHRoYXNPd24gPSAoe30pLmhhc093blByb3BlcnR5LFxuXHRcdGFyciA9IFtdLFxuXHRcdHBvcCA9IGFyci5wb3AsXG5cdFx0cHVzaF9uYXRpdmUgPSBhcnIucHVzaCxcblx0XHRwdXNoID0gYXJyLnB1c2gsXG5cdFx0c2xpY2UgPSBhcnIuc2xpY2UsXG5cdFx0Ly8gVXNlIGEgc3RyaXBwZWQtZG93biBpbmRleE9mIGFzIGl0J3MgZmFzdGVyIHRoYW4gbmF0aXZlXG5cdFx0Ly8gaHR0cHM6Ly9qc3BlcmYuY29tL3Rob3ItaW5kZXhvZi12cy1mb3IvNVxuXHRcdGluZGV4T2YgPSBmdW5jdGlvbiggbGlzdCwgZWxlbSApIHtcblx0XHRcdHZhciBpID0gMCxcblx0XHRcdFx0bGVuID0gbGlzdC5sZW5ndGg7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0aWYgKCBsaXN0W2ldID09PSBlbGVtICkge1xuXHRcdFx0XHRcdHJldHVybiBpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gLTE7XG5cdFx0fSxcblx0XG5cdFx0Ym9vbGVhbnMgPSBcImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkXCIsXG5cdFxuXHRcdC8vIFJlZ3VsYXIgZXhwcmVzc2lvbnNcblx0XG5cdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1zZWxlY3RvcnMvI3doaXRlc3BhY2Vcblx0XHR3aGl0ZXNwYWNlID0gXCJbXFxcXHgyMFxcXFx0XFxcXHJcXFxcblxcXFxmXVwiLFxuXHRcblx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyMS9zeW5kYXRhLmh0bWwjdmFsdWUtZGVmLWlkZW50aWZpZXJcblx0XHRpZGVudGlmaWVyID0gXCIoPzpcXFxcXFxcXC58W1xcXFx3LV18W15cXDAtXFxcXHhhMF0pK1wiLFxuXHRcblx0XHQvLyBBdHRyaWJ1dGUgc2VsZWN0b3JzOiBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2F0dHJpYnV0ZS1zZWxlY3RvcnNcblx0XHRhdHRyaWJ1dGVzID0gXCJcXFxcW1wiICsgd2hpdGVzcGFjZSArIFwiKihcIiArIGlkZW50aWZpZXIgKyBcIikoPzpcIiArIHdoaXRlc3BhY2UgK1xuXHRcdFx0Ly8gT3BlcmF0b3IgKGNhcHR1cmUgMilcblx0XHRcdFwiKihbKl4kfCF+XT89KVwiICsgd2hpdGVzcGFjZSArXG5cdFx0XHQvLyBcIkF0dHJpYnV0ZSB2YWx1ZXMgbXVzdCBiZSBDU1MgaWRlbnRpZmllcnMgW2NhcHR1cmUgNV0gb3Igc3RyaW5ncyBbY2FwdHVyZSAzIG9yIGNhcHR1cmUgNF1cIlxuXHRcdFx0XCIqKD86JygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwifChcIiArIGlkZW50aWZpZXIgKyBcIikpfClcIiArIHdoaXRlc3BhY2UgK1xuXHRcdFx0XCIqXFxcXF1cIixcblx0XG5cdFx0cHNldWRvcyA9IFwiOihcIiArIGlkZW50aWZpZXIgKyBcIikoPzpcXFxcKChcIiArXG5cdFx0XHQvLyBUbyByZWR1Y2UgdGhlIG51bWJlciBvZiBzZWxlY3RvcnMgbmVlZGluZyB0b2tlbml6ZSBpbiB0aGUgcHJlRmlsdGVyLCBwcmVmZXIgYXJndW1lbnRzOlxuXHRcdFx0Ly8gMS4gcXVvdGVkIChjYXB0dXJlIDM7IGNhcHR1cmUgNCBvciBjYXB0dXJlIDUpXG5cdFx0XHRcIignKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCIpfFwiICtcblx0XHRcdC8vIDIuIHNpbXBsZSAoY2FwdHVyZSA2KVxuXHRcdFx0XCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFwoKVtcXFxcXV18XCIgKyBhdHRyaWJ1dGVzICsgXCIpKil8XCIgK1xuXHRcdFx0Ly8gMy4gYW55dGhpbmcgZWxzZSAoY2FwdHVyZSAyKVxuXHRcdFx0XCIuKlwiICtcblx0XHRcdFwiKVxcXFwpfClcIixcblx0XG5cdFx0Ly8gTGVhZGluZyBhbmQgbm9uLWVzY2FwZWQgdHJhaWxpbmcgd2hpdGVzcGFjZSwgY2FwdHVyaW5nIHNvbWUgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVycyBwcmVjZWRpbmcgdGhlIGxhdHRlclxuXHRcdHJ3aGl0ZXNwYWNlID0gbmV3IFJlZ0V4cCggd2hpdGVzcGFjZSArIFwiK1wiLCBcImdcIiApLFxuXHRcdHJ0cmltID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIrfCgoPzpefFteXFxcXFxcXFxdKSg/OlxcXFxcXFxcLikqKVwiICsgd2hpdGVzcGFjZSArIFwiKyRcIiwgXCJnXCIgKSxcblx0XG5cdFx0cmNvbW1hID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqLFwiICsgd2hpdGVzcGFjZSArIFwiKlwiICksXG5cdFx0cmNvbWJpbmF0b3JzID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqKFs+K35dfFwiICsgd2hpdGVzcGFjZSArIFwiKVwiICsgd2hpdGVzcGFjZSArIFwiKlwiICksXG5cdFxuXHRcdHJhdHRyaWJ1dGVRdW90ZXMgPSBuZXcgUmVnRXhwKCBcIj1cIiArIHdoaXRlc3BhY2UgKyBcIiooW15cXFxcXSdcXFwiXSo/KVwiICsgd2hpdGVzcGFjZSArIFwiKlxcXFxdXCIsIFwiZ1wiICksXG5cdFxuXHRcdHJwc2V1ZG8gPSBuZXcgUmVnRXhwKCBwc2V1ZG9zICksXG5cdFx0cmlkZW50aWZpZXIgPSBuZXcgUmVnRXhwKCBcIl5cIiArIGlkZW50aWZpZXIgKyBcIiRcIiApLFxuXHRcblx0XHRtYXRjaEV4cHIgPSB7XG5cdFx0XHRcIklEXCI6IG5ldyBSZWdFeHAoIFwiXiMoXCIgKyBpZGVudGlmaWVyICsgXCIpXCIgKSxcblx0XHRcdFwiQ0xBU1NcIjogbmV3IFJlZ0V4cCggXCJeXFxcXC4oXCIgKyBpZGVudGlmaWVyICsgXCIpXCIgKSxcblx0XHRcdFwiVEFHXCI6IG5ldyBSZWdFeHAoIFwiXihcIiArIGlkZW50aWZpZXIgKyBcInxbKl0pXCIgKSxcblx0XHRcdFwiQVRUUlwiOiBuZXcgUmVnRXhwKCBcIl5cIiArIGF0dHJpYnV0ZXMgKSxcblx0XHRcdFwiUFNFVURPXCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgcHNldWRvcyApLFxuXHRcdFx0XCJDSElMRFwiOiBuZXcgUmVnRXhwKCBcIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcXFwoXCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcdFx0XCIqKGV2ZW58b2RkfCgoWystXXwpKFxcXFxkKilufClcIiArIHdoaXRlc3BhY2UgKyBcIiooPzooWystXXwpXCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcdFx0XCIqKFxcXFxkKyl8KSlcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcKXwpXCIsIFwiaVwiICksXG5cdFx0XHRcImJvb2xcIjogbmV3IFJlZ0V4cCggXCJeKD86XCIgKyBib29sZWFucyArIFwiKSRcIiwgXCJpXCIgKSxcblx0XHRcdC8vIEZvciB1c2UgaW4gbGlicmFyaWVzIGltcGxlbWVudGluZyAuaXMoKVxuXHRcdFx0Ly8gV2UgdXNlIHRoaXMgZm9yIFBPUyBtYXRjaGluZyBpbiBgc2VsZWN0YFxuXHRcdFx0XCJuZWVkc0NvbnRleHRcIjogbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXFxcKFwiICtcblx0XHRcdFx0d2hpdGVzcGFjZSArIFwiKigoPzotXFxcXGQpP1xcXFxkKilcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcKXwpKD89W14tXXwkKVwiLCBcImlcIiApXG5cdFx0fSxcblx0XG5cdFx0cmlucHV0cyA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksXG5cdFx0cmhlYWRlciA9IC9eaFxcZCQvaSxcblx0XG5cdFx0cm5hdGl2ZSA9IC9eW157XStcXHtcXHMqXFxbbmF0aXZlIFxcdy8sXG5cdFxuXHRcdC8vIEVhc2lseS1wYXJzZWFibGUvcmV0cmlldmFibGUgSUQgb3IgVEFHIG9yIENMQVNTIHNlbGVjdG9yc1xuXHRcdHJxdWlja0V4cHIgPSAvXig/OiMoW1xcdy1dKyl8KFxcdyspfFxcLihbXFx3LV0rKSkkLyxcblx0XG5cdFx0cnNpYmxpbmcgPSAvWyt+XS8sXG5cdFxuXHRcdC8vIENTUyBlc2NhcGVzXG5cdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMjEvc3luZGF0YS5odG1sI2VzY2FwZWQtY2hhcmFjdGVyc1xuXHRcdHJ1bmVzY2FwZSA9IG5ldyBSZWdFeHAoIFwiXFxcXFxcXFwoW1xcXFxkYS1mXXsxLDZ9XCIgKyB3aGl0ZXNwYWNlICsgXCI/fChcIiArIHdoaXRlc3BhY2UgKyBcIil8LilcIiwgXCJpZ1wiICksXG5cdFx0ZnVuZXNjYXBlID0gZnVuY3Rpb24oIF8sIGVzY2FwZWQsIGVzY2FwZWRXaGl0ZXNwYWNlICkge1xuXHRcdFx0dmFyIGhpZ2ggPSBcIjB4XCIgKyBlc2NhcGVkIC0gMHgxMDAwMDtcblx0XHRcdC8vIE5hTiBtZWFucyBub24tY29kZXBvaW50XG5cdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94PDI0XG5cdFx0XHQvLyBXb3JrYXJvdW5kIGVycm9uZW91cyBudW1lcmljIGludGVycHJldGF0aW9uIG9mICtcIjB4XCJcblx0XHRcdHJldHVybiBoaWdoICE9PSBoaWdoIHx8IGVzY2FwZWRXaGl0ZXNwYWNlID9cblx0XHRcdFx0ZXNjYXBlZCA6XG5cdFx0XHRcdGhpZ2ggPCAwID9cblx0XHRcdFx0XHQvLyBCTVAgY29kZXBvaW50XG5cdFx0XHRcdFx0U3RyaW5nLmZyb21DaGFyQ29kZSggaGlnaCArIDB4MTAwMDAgKSA6XG5cdFx0XHRcdFx0Ly8gU3VwcGxlbWVudGFsIFBsYW5lIGNvZGVwb2ludCAoc3Vycm9nYXRlIHBhaXIpXG5cdFx0XHRcdFx0U3RyaW5nLmZyb21DaGFyQ29kZSggaGlnaCA+PiAxMCB8IDB4RDgwMCwgaGlnaCAmIDB4M0ZGIHwgMHhEQzAwICk7XG5cdFx0fSxcblx0XG5cdFx0Ly8gQ1NTIHN0cmluZy9pZGVudGlmaWVyIHNlcmlhbGl6YXRpb25cblx0XHQvLyBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3Nzb20vI2NvbW1vbi1zZXJpYWxpemluZy1pZGlvbXNcblx0XHRyY3NzZXNjYXBlID0gLyhbXFwwLVxceDFmXFx4N2ZdfF4tP1xcZCl8Xi0kfFteXFx4ODAtXFx1RkZGRlxcdy1dL2csXG5cdFx0ZmNzc2VzY2FwZSA9IGZ1bmN0aW9uKCBjaCwgYXNDb2RlUG9pbnQgKSB7XG5cdFx0XHRpZiAoIGFzQ29kZVBvaW50ICkge1xuXHRcblx0XHRcdFx0Ly8gVSswMDAwIE5VTEwgYmVjb21lcyBVK0ZGRkQgUkVQTEFDRU1FTlQgQ0hBUkFDVEVSXG5cdFx0XHRcdGlmICggY2ggPT09IFwiXFwwXCIgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIFwiXFx1RkZGRFwiO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBDb250cm9sIGNoYXJhY3RlcnMgYW5kIChkZXBlbmRlbnQgdXBvbiBwb3NpdGlvbikgbnVtYmVycyBnZXQgZXNjYXBlZCBhcyBjb2RlIHBvaW50c1xuXHRcdFx0XHRyZXR1cm4gY2guc2xpY2UoIDAsIC0xICkgKyBcIlxcXFxcIiArIGNoLmNoYXJDb2RlQXQoIGNoLmxlbmd0aCAtIDEgKS50b1N0cmluZyggMTYgKSArIFwiIFwiO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIE90aGVyIHBvdGVudGlhbGx5LXNwZWNpYWwgQVNDSUkgY2hhcmFjdGVycyBnZXQgYmFja3NsYXNoLWVzY2FwZWRcblx0XHRcdHJldHVybiBcIlxcXFxcIiArIGNoO1xuXHRcdH0sXG5cdFxuXHRcdC8vIFVzZWQgZm9yIGlmcmFtZXNcblx0XHQvLyBTZWUgc2V0RG9jdW1lbnQoKVxuXHRcdC8vIFJlbW92aW5nIHRoZSBmdW5jdGlvbiB3cmFwcGVyIGNhdXNlcyBhIFwiUGVybWlzc2lvbiBEZW5pZWRcIlxuXHRcdC8vIGVycm9yIGluIElFXG5cdFx0dW5sb2FkSGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0c2V0RG9jdW1lbnQoKTtcblx0XHR9LFxuXHRcblx0XHRkaXNhYmxlZEFuY2VzdG9yID0gYWRkQ29tYmluYXRvcihcblx0XHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gdHJ1ZTtcblx0XHRcdH0sXG5cdFx0XHR7IGRpcjogXCJwYXJlbnROb2RlXCIsIG5leHQ6IFwibGVnZW5kXCIgfVxuXHRcdCk7XG5cdFxuXHQvLyBPcHRpbWl6ZSBmb3IgcHVzaC5hcHBseSggXywgTm9kZUxpc3QgKVxuXHR0cnkge1xuXHRcdHB1c2guYXBwbHkoXG5cdFx0XHQoYXJyID0gc2xpY2UuY2FsbCggcHJlZmVycmVkRG9jLmNoaWxkTm9kZXMgKSksXG5cdFx0XHRwcmVmZXJyZWREb2MuY2hpbGROb2Rlc1xuXHRcdCk7XG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZDw0LjBcblx0XHQvLyBEZXRlY3Qgc2lsZW50bHkgZmFpbGluZyBwdXNoLmFwcGx5XG5cdFx0YXJyWyBwcmVmZXJyZWREb2MuY2hpbGROb2Rlcy5sZW5ndGggXS5ub2RlVHlwZTtcblx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0cHVzaCA9IHsgYXBwbHk6IGFyci5sZW5ndGggP1xuXHRcblx0XHRcdC8vIExldmVyYWdlIHNsaWNlIGlmIHBvc3NpYmxlXG5cdFx0XHRmdW5jdGlvbiggdGFyZ2V0LCBlbHMgKSB7XG5cdFx0XHRcdHB1c2hfbmF0aXZlLmFwcGx5KCB0YXJnZXQsIHNsaWNlLmNhbGwoZWxzKSApO1xuXHRcdFx0fSA6XG5cdFxuXHRcdFx0Ly8gU3VwcG9ydDogSUU8OVxuXHRcdFx0Ly8gT3RoZXJ3aXNlIGFwcGVuZCBkaXJlY3RseVxuXHRcdFx0ZnVuY3Rpb24oIHRhcmdldCwgZWxzICkge1xuXHRcdFx0XHR2YXIgaiA9IHRhcmdldC5sZW5ndGgsXG5cdFx0XHRcdFx0aSA9IDA7XG5cdFx0XHRcdC8vIENhbid0IHRydXN0IE5vZGVMaXN0Lmxlbmd0aFxuXHRcdFx0XHR3aGlsZSAoICh0YXJnZXRbaisrXSA9IGVsc1tpKytdKSApIHt9XG5cdFx0XHRcdHRhcmdldC5sZW5ndGggPSBqIC0gMTtcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBTaXp6bGUoIHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICkge1xuXHRcdHZhciBtLCBpLCBlbGVtLCBuaWQsIG1hdGNoLCBncm91cHMsIG5ld1NlbGVjdG9yLFxuXHRcdFx0bmV3Q29udGV4dCA9IGNvbnRleHQgJiYgY29udGV4dC5vd25lckRvY3VtZW50LFxuXHRcblx0XHRcdC8vIG5vZGVUeXBlIGRlZmF1bHRzIHRvIDksIHNpbmNlIGNvbnRleHQgZGVmYXVsdHMgdG8gZG9jdW1lbnRcblx0XHRcdG5vZGVUeXBlID0gY29udGV4dCA/IGNvbnRleHQubm9kZVR5cGUgOiA5O1xuXHRcblx0XHRyZXN1bHRzID0gcmVzdWx0cyB8fCBbXTtcblx0XG5cdFx0Ly8gUmV0dXJuIGVhcmx5IGZyb20gY2FsbHMgd2l0aCBpbnZhbGlkIHNlbGVjdG9yIG9yIGNvbnRleHRcblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiB8fCAhc2VsZWN0b3IgfHxcblx0XHRcdG5vZGVUeXBlICE9PSAxICYmIG5vZGVUeXBlICE9PSA5ICYmIG5vZGVUeXBlICE9PSAxMSApIHtcblx0XG5cdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHR9XG5cdFxuXHRcdC8vIFRyeSB0byBzaG9ydGN1dCBmaW5kIG9wZXJhdGlvbnMgKGFzIG9wcG9zZWQgdG8gZmlsdGVycykgaW4gSFRNTCBkb2N1bWVudHNcblx0XHRpZiAoICFzZWVkICkge1xuXHRcblx0XHRcdGlmICggKCBjb250ZXh0ID8gY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgOiBwcmVmZXJyZWREb2MgKSAhPT0gZG9jdW1lbnQgKSB7XG5cdFx0XHRcdHNldERvY3VtZW50KCBjb250ZXh0ICk7XG5cdFx0XHR9XG5cdFx0XHRjb250ZXh0ID0gY29udGV4dCB8fCBkb2N1bWVudDtcblx0XG5cdFx0XHRpZiAoIGRvY3VtZW50SXNIVE1MICkge1xuXHRcblx0XHRcdFx0Ly8gSWYgdGhlIHNlbGVjdG9yIGlzIHN1ZmZpY2llbnRseSBzaW1wbGUsIHRyeSB1c2luZyBhIFwiZ2V0KkJ5KlwiIERPTSBtZXRob2Rcblx0XHRcdFx0Ly8gKGV4Y2VwdGluZyBEb2N1bWVudEZyYWdtZW50IGNvbnRleHQsIHdoZXJlIHRoZSBtZXRob2RzIGRvbid0IGV4aXN0KVxuXHRcdFx0XHRpZiAoIG5vZGVUeXBlICE9PSAxMSAmJiAobWF0Y2ggPSBycXVpY2tFeHByLmV4ZWMoIHNlbGVjdG9yICkpICkge1xuXHRcblx0XHRcdFx0XHQvLyBJRCBzZWxlY3RvclxuXHRcdFx0XHRcdGlmICggKG0gPSBtYXRjaFsxXSkgKSB7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gRG9jdW1lbnQgY29udGV4dFxuXHRcdFx0XHRcdFx0aWYgKCBub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCAoZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIG0gKSkgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFLCBPcGVyYSwgV2Via2l0XG5cdFx0XHRcdFx0XHRcdFx0Ly8gVE9ETzogaWRlbnRpZnkgdmVyc2lvbnNcblx0XHRcdFx0XHRcdFx0XHQvLyBnZXRFbGVtZW50QnlJZCBjYW4gbWF0Y2ggZWxlbWVudHMgYnkgbmFtZSBpbnN0ZWFkIG9mIElEXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBlbGVtLmlkID09PSBtICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHQvLyBFbGVtZW50IGNvbnRleHRcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFxuXHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSwgT3BlcmEsIFdlYmtpdFxuXHRcdFx0XHRcdFx0XHQvLyBUT0RPOiBpZGVudGlmeSB2ZXJzaW9uc1xuXHRcdFx0XHRcdFx0XHQvLyBnZXRFbGVtZW50QnlJZCBjYW4gbWF0Y2ggZWxlbWVudHMgYnkgbmFtZSBpbnN0ZWFkIG9mIElEXG5cdFx0XHRcdFx0XHRcdGlmICggbmV3Q29udGV4dCAmJiAoZWxlbSA9IG5ld0NvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIG0gKSkgJiZcblx0XHRcdFx0XHRcdFx0XHRjb250YWlucyggY29udGV4dCwgZWxlbSApICYmXG5cdFx0XHRcdFx0XHRcdFx0ZWxlbS5pZCA9PT0gbSApIHtcblx0XG5cdFx0XHRcdFx0XHRcdFx0cmVzdWx0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gVHlwZSBzZWxlY3RvclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIG1hdGNoWzJdICkge1xuXHRcdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggc2VsZWN0b3IgKSApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFxuXHRcdFx0XHRcdC8vIENsYXNzIHNlbGVjdG9yXG5cdFx0XHRcdFx0fSBlbHNlIGlmICggKG0gPSBtYXRjaFszXSkgJiYgc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICYmXG5cdFx0XHRcdFx0XHRjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgKSB7XG5cdFxuXHRcdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBtICkgKTtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gVGFrZSBhZHZhbnRhZ2Ugb2YgcXVlcnlTZWxlY3RvckFsbFxuXHRcdFx0XHRpZiAoIHN1cHBvcnQucXNhICYmXG5cdFx0XHRcdFx0IWNvbXBpbGVyQ2FjaGVbIHNlbGVjdG9yICsgXCIgXCIgXSAmJlxuXHRcdFx0XHRcdCghcmJ1Z2d5UVNBIHx8ICFyYnVnZ3lRU0EudGVzdCggc2VsZWN0b3IgKSkgKSB7XG5cdFxuXHRcdFx0XHRcdGlmICggbm9kZVR5cGUgIT09IDEgKSB7XG5cdFx0XHRcdFx0XHRuZXdDb250ZXh0ID0gY29udGV4dDtcblx0XHRcdFx0XHRcdG5ld1NlbGVjdG9yID0gc2VsZWN0b3I7XG5cdFxuXHRcdFx0XHRcdC8vIHFTQSBsb29rcyBvdXRzaWRlIEVsZW1lbnQgY29udGV4dCwgd2hpY2ggaXMgbm90IHdoYXQgd2Ugd2FudFxuXHRcdFx0XHRcdC8vIFRoYW5rcyB0byBBbmRyZXcgRHVwb250IGZvciB0aGlzIHdvcmthcm91bmQgdGVjaG5pcXVlXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD04XG5cdFx0XHRcdFx0Ly8gRXhjbHVkZSBvYmplY3QgZWxlbWVudHNcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCBjb250ZXh0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09IFwib2JqZWN0XCIgKSB7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gQ2FwdHVyZSB0aGUgY29udGV4dCBJRCwgc2V0dGluZyBpdCBmaXJzdCBpZiBuZWNlc3Nhcnlcblx0XHRcdFx0XHRcdGlmICggKG5pZCA9IGNvbnRleHQuZ2V0QXR0cmlidXRlKCBcImlkXCIgKSkgKSB7XG5cdFx0XHRcdFx0XHRcdG5pZCA9IG5pZC5yZXBsYWNlKCByY3NzZXNjYXBlLCBmY3NzZXNjYXBlICk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRjb250ZXh0LnNldEF0dHJpYnV0ZSggXCJpZFwiLCAobmlkID0gZXhwYW5kbykgKTtcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHQvLyBQcmVmaXggZXZlcnkgc2VsZWN0b3IgaW4gdGhlIGxpc3Rcblx0XHRcdFx0XHRcdGdyb3VwcyA9IHRva2VuaXplKCBzZWxlY3RvciApO1xuXHRcdFx0XHRcdFx0aSA9IGdyb3Vwcy5sZW5ndGg7XG5cdFx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdFx0Z3JvdXBzW2ldID0gXCIjXCIgKyBuaWQgKyBcIiBcIiArIHRvU2VsZWN0b3IoIGdyb3Vwc1tpXSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0bmV3U2VsZWN0b3IgPSBncm91cHMuam9pbiggXCIsXCIgKTtcblx0XG5cdFx0XHRcdFx0XHQvLyBFeHBhbmQgY29udGV4dCBmb3Igc2libGluZyBzZWxlY3RvcnNcblx0XHRcdFx0XHRcdG5ld0NvbnRleHQgPSByc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fFxuXHRcdFx0XHRcdFx0XHRjb250ZXh0O1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0aWYgKCBuZXdTZWxlY3RvciApIHtcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsXG5cdFx0XHRcdFx0XHRcdFx0bmV3Q29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCBuZXdTZWxlY3RvciApXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdFx0fSBjYXRjaCAoIHFzYUVycm9yICkge1xuXHRcdFx0XHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0XHRcdFx0aWYgKCBuaWQgPT09IGV4cGFuZG8gKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dC5yZW1vdmVBdHRyaWJ1dGUoIFwiaWRcIiApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHQvLyBBbGwgb3RoZXJzXG5cdFx0cmV0dXJuIHNlbGVjdCggc2VsZWN0b3IucmVwbGFjZSggcnRyaW0sIFwiJDFcIiApLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBDcmVhdGUga2V5LXZhbHVlIGNhY2hlcyBvZiBsaW1pdGVkIHNpemVcblx0ICogQHJldHVybnMge2Z1bmN0aW9uKHN0cmluZywgb2JqZWN0KX0gUmV0dXJucyB0aGUgT2JqZWN0IGRhdGEgYWZ0ZXIgc3RvcmluZyBpdCBvbiBpdHNlbGYgd2l0aFxuXHQgKlx0cHJvcGVydHkgbmFtZSB0aGUgKHNwYWNlLXN1ZmZpeGVkKSBzdHJpbmcgYW5kIChpZiB0aGUgY2FjaGUgaXMgbGFyZ2VyIHRoYW4gRXhwci5jYWNoZUxlbmd0aClcblx0ICpcdGRlbGV0aW5nIHRoZSBvbGRlc3QgZW50cnlcblx0ICovXG5cdGZ1bmN0aW9uIGNyZWF0ZUNhY2hlKCkge1xuXHRcdHZhciBrZXlzID0gW107XG5cdFxuXHRcdGZ1bmN0aW9uIGNhY2hlKCBrZXksIHZhbHVlICkge1xuXHRcdFx0Ly8gVXNlIChrZXkgKyBcIiBcIikgdG8gYXZvaWQgY29sbGlzaW9uIHdpdGggbmF0aXZlIHByb3RvdHlwZSBwcm9wZXJ0aWVzIChzZWUgSXNzdWUgIzE1Nylcblx0XHRcdGlmICgga2V5cy5wdXNoKCBrZXkgKyBcIiBcIiApID4gRXhwci5jYWNoZUxlbmd0aCApIHtcblx0XHRcdFx0Ly8gT25seSBrZWVwIHRoZSBtb3N0IHJlY2VudCBlbnRyaWVzXG5cdFx0XHRcdGRlbGV0ZSBjYWNoZVsga2V5cy5zaGlmdCgpIF07XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gKGNhY2hlWyBrZXkgKyBcIiBcIiBdID0gdmFsdWUpO1xuXHRcdH1cblx0XHRyZXR1cm4gY2FjaGU7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBNYXJrIGEgZnVuY3Rpb24gZm9yIHNwZWNpYWwgdXNlIGJ5IFNpenpsZVxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gbWFya1xuXHQgKi9cblx0ZnVuY3Rpb24gbWFya0Z1bmN0aW9uKCBmbiApIHtcblx0XHRmblsgZXhwYW5kbyBdID0gdHJ1ZTtcblx0XHRyZXR1cm4gZm47XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBTdXBwb3J0IHRlc3RpbmcgdXNpbmcgYW4gZWxlbWVudFxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBQYXNzZWQgdGhlIGNyZWF0ZWQgZWxlbWVudCBhbmQgcmV0dXJucyBhIGJvb2xlYW4gcmVzdWx0XG5cdCAqL1xuXHRmdW5jdGlvbiBhc3NlcnQoIGZuICkge1xuXHRcdHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmaWVsZHNldFwiKTtcblx0XG5cdFx0dHJ5IHtcblx0XHRcdHJldHVybiAhIWZuKCBlbCApO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0Ly8gUmVtb3ZlIGZyb20gaXRzIHBhcmVudCBieSBkZWZhdWx0XG5cdFx0XHRpZiAoIGVsLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIGVsICk7XG5cdFx0XHR9XG5cdFx0XHQvLyByZWxlYXNlIG1lbW9yeSBpbiBJRVxuXHRcdFx0ZWwgPSBudWxsO1xuXHRcdH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIEFkZHMgdGhlIHNhbWUgaGFuZGxlciBmb3IgYWxsIG9mIHRoZSBzcGVjaWZpZWQgYXR0cnNcblx0ICogQHBhcmFtIHtTdHJpbmd9IGF0dHJzIFBpcGUtc2VwYXJhdGVkIGxpc3Qgb2YgYXR0cmlidXRlc1xuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIFRoZSBtZXRob2QgdGhhdCB3aWxsIGJlIGFwcGxpZWRcblx0ICovXG5cdGZ1bmN0aW9uIGFkZEhhbmRsZSggYXR0cnMsIGhhbmRsZXIgKSB7XG5cdFx0dmFyIGFyciA9IGF0dHJzLnNwbGl0KFwifFwiKSxcblx0XHRcdGkgPSBhcnIubGVuZ3RoO1xuXHRcblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdEV4cHIuYXR0ckhhbmRsZVsgYXJyW2ldIF0gPSBoYW5kbGVyO1xuXHRcdH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIENoZWNrcyBkb2N1bWVudCBvcmRlciBvZiB0d28gc2libGluZ3Ncblx0ICogQHBhcmFtIHtFbGVtZW50fSBhXG5cdCAqIEBwYXJhbSB7RWxlbWVudH0gYlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBSZXR1cm5zIGxlc3MgdGhhbiAwIGlmIGEgcHJlY2VkZXMgYiwgZ3JlYXRlciB0aGFuIDAgaWYgYSBmb2xsb3dzIGJcblx0ICovXG5cdGZ1bmN0aW9uIHNpYmxpbmdDaGVjayggYSwgYiApIHtcblx0XHR2YXIgY3VyID0gYiAmJiBhLFxuXHRcdFx0ZGlmZiA9IGN1ciAmJiBhLm5vZGVUeXBlID09PSAxICYmIGIubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0YS5zb3VyY2VJbmRleCAtIGIuc291cmNlSW5kZXg7XG5cdFxuXHRcdC8vIFVzZSBJRSBzb3VyY2VJbmRleCBpZiBhdmFpbGFibGUgb24gYm90aCBub2Rlc1xuXHRcdGlmICggZGlmZiApIHtcblx0XHRcdHJldHVybiBkaWZmO1xuXHRcdH1cblx0XG5cdFx0Ly8gQ2hlY2sgaWYgYiBmb2xsb3dzIGFcblx0XHRpZiAoIGN1ciApIHtcblx0XHRcdHdoaWxlICggKGN1ciA9IGN1ci5uZXh0U2libGluZykgKSB7XG5cdFx0XHRcdGlmICggY3VyID09PSBiICkge1xuXHRcdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0cmV0dXJuIGEgPyAxIDogLTE7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGlucHV0IHR5cGVzXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG5cdCAqL1xuXHRmdW5jdGlvbiBjcmVhdGVJbnB1dFBzZXVkbyggdHlwZSApIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiBuYW1lID09PSBcImlucHV0XCIgJiYgZWxlbS50eXBlID09PSB0eXBlO1xuXHRcdH07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGJ1dHRvbnNcblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcblx0ICovXG5cdGZ1bmN0aW9uIGNyZWF0ZUJ1dHRvblBzZXVkbyggdHlwZSApIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiAobmFtZSA9PT0gXCJpbnB1dFwiIHx8IG5hbWUgPT09IFwiYnV0dG9uXCIpICYmIGVsZW0udHlwZSA9PT0gdHlwZTtcblx0XHR9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciA6ZW5hYmxlZC86ZGlzYWJsZWRcblx0ICogQHBhcmFtIHtCb29sZWFufSBkaXNhYmxlZCB0cnVlIGZvciA6ZGlzYWJsZWQ7IGZhbHNlIGZvciA6ZW5hYmxlZFxuXHQgKi9cblx0ZnVuY3Rpb24gY3JlYXRlRGlzYWJsZWRQc2V1ZG8oIGRpc2FibGVkICkge1xuXHRcdC8vIEtub3duIDpkaXNhYmxlZCBmYWxzZSBwb3NpdGl2ZXM6XG5cdFx0Ly8gSUU6ICpbZGlzYWJsZWRdOm5vdChidXR0b24sIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBvcHRncm91cCwgb3B0aW9uLCBtZW51aXRlbSwgZmllbGRzZXQpXG5cdFx0Ly8gbm90IElFOiBmaWVsZHNldFtkaXNhYmxlZF0gPiBsZWdlbmQ6bnRoLW9mLXR5cGUobisyKSA6Y2FuLWRpc2FibGVcblx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFxuXHRcdFx0Ly8gQ2hlY2sgZm9ybSBlbGVtZW50cyBhbmQgb3B0aW9uIGVsZW1lbnRzIGZvciBleHBsaWNpdCBkaXNhYmxpbmdcblx0XHRcdHJldHVybiBcImxhYmVsXCIgaW4gZWxlbSAmJiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZCB8fFxuXHRcdFx0XHRcImZvcm1cIiBpbiBlbGVtICYmIGVsZW0uZGlzYWJsZWQgPT09IGRpc2FibGVkIHx8XG5cdFxuXHRcdFx0XHQvLyBDaGVjayBub24tZGlzYWJsZWQgZm9ybSBlbGVtZW50cyBmb3IgZmllbGRzZXRbZGlzYWJsZWRdIGFuY2VzdG9yc1xuXHRcdFx0XHRcImZvcm1cIiBpbiBlbGVtICYmIGVsZW0uZGlzYWJsZWQgPT09IGZhbHNlICYmIChcblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRTYtMTErXG5cdFx0XHRcdFx0Ly8gQW5jZXN0cnkgaXMgY292ZXJlZCBmb3IgdXNcblx0XHRcdFx0XHRlbGVtLmlzRGlzYWJsZWQgPT09IGRpc2FibGVkIHx8XG5cdFxuXHRcdFx0XHRcdC8vIE90aGVyd2lzZSwgYXNzdW1lIGFueSBub24tPG9wdGlvbj4gdW5kZXIgZmllbGRzZXRbZGlzYWJsZWRdIGlzIGRpc2FibGVkXG5cdFx0XHRcdFx0LyoganNoaW50IC1XMDE4ICovXG5cdFx0XHRcdFx0ZWxlbS5pc0Rpc2FibGVkICE9PSAhZGlzYWJsZWQgJiZcblx0XHRcdFx0XHRcdChcImxhYmVsXCIgaW4gZWxlbSB8fCAhZGlzYWJsZWRBbmNlc3RvciggZWxlbSApKSAhPT0gZGlzYWJsZWRcblx0XHRcdFx0KTtcblx0XHR9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBwb3NpdGlvbmFsc1xuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuXHQgKi9cblx0ZnVuY3Rpb24gY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZm4gKSB7XG5cdFx0cmV0dXJuIG1hcmtGdW5jdGlvbihmdW5jdGlvbiggYXJndW1lbnQgKSB7XG5cdFx0XHRhcmd1bWVudCA9ICthcmd1bWVudDtcblx0XHRcdHJldHVybiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMgKSB7XG5cdFx0XHRcdHZhciBqLFxuXHRcdFx0XHRcdG1hdGNoSW5kZXhlcyA9IGZuKCBbXSwgc2VlZC5sZW5ndGgsIGFyZ3VtZW50ICksXG5cdFx0XHRcdFx0aSA9IG1hdGNoSW5kZXhlcy5sZW5ndGg7XG5cdFxuXHRcdFx0XHQvLyBNYXRjaCBlbGVtZW50cyBmb3VuZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4ZXNcblx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0aWYgKCBzZWVkWyAoaiA9IG1hdGNoSW5kZXhlc1tpXSkgXSApIHtcblx0XHRcdFx0XHRcdHNlZWRbal0gPSAhKG1hdGNoZXNbal0gPSBzZWVkW2pdKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQ2hlY2tzIGEgbm9kZSBmb3IgdmFsaWRpdHkgYXMgYSBTaXp6bGUgY29udGV4dFxuXHQgKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0PX0gY29udGV4dFxuXHQgKiBAcmV0dXJucyB7RWxlbWVudHxPYmplY3R8Qm9vbGVhbn0gVGhlIGlucHV0IG5vZGUgaWYgYWNjZXB0YWJsZSwgb3RoZXJ3aXNlIGEgZmFsc3kgdmFsdWVcblx0ICovXG5cdGZ1bmN0aW9uIHRlc3RDb250ZXh0KCBjb250ZXh0ICkge1xuXHRcdHJldHVybiBjb250ZXh0ICYmIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiICYmIGNvbnRleHQ7XG5cdH1cblx0XG5cdC8vIEV4cG9zZSBzdXBwb3J0IHZhcnMgZm9yIGNvbnZlbmllbmNlXG5cdHN1cHBvcnQgPSBTaXp6bGUuc3VwcG9ydCA9IHt9O1xuXHRcblx0LyoqXG5cdCAqIERldGVjdHMgWE1MIG5vZGVzXG5cdCAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IGVsZW0gQW4gZWxlbWVudCBvciBhIGRvY3VtZW50XG5cdCAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmZiBlbGVtIGlzIGEgbm9uLUhUTUwgWE1MIG5vZGVcblx0ICovXG5cdGlzWE1MID0gU2l6emxlLmlzWE1MID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0Ly8gZG9jdW1lbnRFbGVtZW50IGlzIHZlcmlmaWVkIGZvciBjYXNlcyB3aGVyZSBpdCBkb2Vzbid0IHlldCBleGlzdFxuXHRcdC8vIChzdWNoIGFzIGxvYWRpbmcgaWZyYW1lcyBpbiBJRSAtICM0ODMzKVxuXHRcdHZhciBkb2N1bWVudEVsZW1lbnQgPSBlbGVtICYmIChlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSkuZG9jdW1lbnRFbGVtZW50O1xuXHRcdHJldHVybiBkb2N1bWVudEVsZW1lbnQgPyBkb2N1bWVudEVsZW1lbnQubm9kZU5hbWUgIT09IFwiSFRNTFwiIDogZmFsc2U7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2V0cyBkb2N1bWVudC1yZWxhdGVkIHZhcmlhYmxlcyBvbmNlIGJhc2VkIG9uIHRoZSBjdXJyZW50IGRvY3VtZW50XG5cdCAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IFtkb2NdIEFuIGVsZW1lbnQgb3IgZG9jdW1lbnQgb2JqZWN0IHRvIHVzZSB0byBzZXQgdGhlIGRvY3VtZW50XG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGN1cnJlbnQgZG9jdW1lbnRcblx0ICovXG5cdHNldERvY3VtZW50ID0gU2l6emxlLnNldERvY3VtZW50ID0gZnVuY3Rpb24oIG5vZGUgKSB7XG5cdFx0dmFyIGhhc0NvbXBhcmUsIHN1YldpbmRvdyxcblx0XHRcdGRvYyA9IG5vZGUgPyBub2RlLm93bmVyRG9jdW1lbnQgfHwgbm9kZSA6IHByZWZlcnJlZERvYztcblx0XG5cdFx0Ly8gUmV0dXJuIGVhcmx5IGlmIGRvYyBpcyBpbnZhbGlkIG9yIGFscmVhZHkgc2VsZWN0ZWRcblx0XHRpZiAoIGRvYyA9PT0gZG9jdW1lbnQgfHwgZG9jLm5vZGVUeXBlICE9PSA5IHx8ICFkb2MuZG9jdW1lbnRFbGVtZW50ICkge1xuXHRcdFx0cmV0dXJuIGRvY3VtZW50O1xuXHRcdH1cblx0XG5cdFx0Ly8gVXBkYXRlIGdsb2JhbCB2YXJpYWJsZXNcblx0XHRkb2N1bWVudCA9IGRvYztcblx0XHRkb2NFbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXHRcdGRvY3VtZW50SXNIVE1MID0gIWlzWE1MKCBkb2N1bWVudCApO1xuXHRcblx0XHQvLyBTdXBwb3J0OiBJRSA5LTExLCBFZGdlXG5cdFx0Ly8gQWNjZXNzaW5nIGlmcmFtZSBkb2N1bWVudHMgYWZ0ZXIgdW5sb2FkIHRocm93cyBcInBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3JzIChqUXVlcnkgIzEzOTM2KVxuXHRcdGlmICggcHJlZmVycmVkRG9jICE9PSBkb2N1bWVudCAmJlxuXHRcdFx0KHN1YldpbmRvdyA9IGRvY3VtZW50LmRlZmF1bHRWaWV3KSAmJiBzdWJXaW5kb3cudG9wICE9PSBzdWJXaW5kb3cgKSB7XG5cdFxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgMTEsIEVkZ2Vcblx0XHRcdGlmICggc3ViV2luZG93LmFkZEV2ZW50TGlzdGVuZXIgKSB7XG5cdFx0XHRcdHN1YldpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBcInVubG9hZFwiLCB1bmxvYWRIYW5kbGVyLCBmYWxzZSApO1xuXHRcblx0XHRcdC8vIFN1cHBvcnQ6IElFIDkgLSAxMCBvbmx5XG5cdFx0XHR9IGVsc2UgaWYgKCBzdWJXaW5kb3cuYXR0YWNoRXZlbnQgKSB7XG5cdFx0XHRcdHN1YldpbmRvdy5hdHRhY2hFdmVudCggXCJvbnVubG9hZFwiLCB1bmxvYWRIYW5kbGVyICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHQvKiBBdHRyaWJ1dGVzXG5cdFx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXHRcblx0XHQvLyBTdXBwb3J0OiBJRTw4XG5cdFx0Ly8gVmVyaWZ5IHRoYXQgZ2V0QXR0cmlidXRlIHJlYWxseSByZXR1cm5zIGF0dHJpYnV0ZXMgYW5kIG5vdCBwcm9wZXJ0aWVzXG5cdFx0Ly8gKGV4Y2VwdGluZyBJRTggYm9vbGVhbnMpXG5cdFx0c3VwcG9ydC5hdHRyaWJ1dGVzID0gYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0XHRcdGVsLmNsYXNzTmFtZSA9IFwiaVwiO1xuXHRcdFx0cmV0dXJuICFlbC5nZXRBdHRyaWJ1dGUoXCJjbGFzc05hbWVcIik7XG5cdFx0fSk7XG5cdFxuXHRcdC8qIGdldEVsZW1lbnQocylCeSpcblx0XHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cdFxuXHRcdC8vIENoZWNrIGlmIGdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKSByZXR1cm5zIG9ubHkgZWxlbWVudHNcblx0XHRzdXBwb3J0LmdldEVsZW1lbnRzQnlUYWdOYW1lID0gYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0XHRcdGVsLmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVDb21tZW50KFwiXCIpICk7XG5cdFx0XHRyZXR1cm4gIWVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKS5sZW5ndGg7XG5cdFx0fSk7XG5cdFxuXHRcdC8vIFN1cHBvcnQ6IElFPDlcblx0XHRzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgPSBybmF0aXZlLnRlc3QoIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgKTtcblx0XG5cdFx0Ly8gU3VwcG9ydDogSUU8MTBcblx0XHQvLyBDaGVjayBpZiBnZXRFbGVtZW50QnlJZCByZXR1cm5zIGVsZW1lbnRzIGJ5IG5hbWVcblx0XHQvLyBUaGUgYnJva2VuIGdldEVsZW1lbnRCeUlkIG1ldGhvZHMgZG9uJ3QgcGljayB1cCBwcm9ncmFtbWF0aWNhbGx5LXNldCBuYW1lcyxcblx0XHQvLyBzbyB1c2UgYSByb3VuZGFib3V0IGdldEVsZW1lbnRzQnlOYW1lIHRlc3Rcblx0XHRzdXBwb3J0LmdldEJ5SWQgPSBhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRcdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5pZCA9IGV4cGFuZG87XG5cdFx0XHRyZXR1cm4gIWRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lIHx8ICFkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSggZXhwYW5kbyApLmxlbmd0aDtcblx0XHR9KTtcblx0XG5cdFx0Ly8gSUQgZmluZCBhbmQgZmlsdGVyXG5cdFx0aWYgKCBzdXBwb3J0LmdldEJ5SWQgKSB7XG5cdFx0XHRFeHByLmZpbmRbXCJJRFwiXSA9IGZ1bmN0aW9uKCBpZCwgY29udGV4dCApIHtcblx0XHRcdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50QnlJZCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudElzSFRNTCApIHtcblx0XHRcdFx0XHR2YXIgbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIGlkICk7XG5cdFx0XHRcdFx0cmV0dXJuIG0gPyBbIG0gXSA6IFtdO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0RXhwci5maWx0ZXJbXCJJRFwiXSA9IGZ1bmN0aW9uKCBpZCApIHtcblx0XHRcdFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoXCJpZFwiKSA9PT0gYXR0cklkO1xuXHRcdFx0XHR9O1xuXHRcdFx0fTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gU3VwcG9ydDogSUU2Lzdcblx0XHRcdC8vIGdldEVsZW1lbnRCeUlkIGlzIG5vdCByZWxpYWJsZSBhcyBhIGZpbmQgc2hvcnRjdXRcblx0XHRcdGRlbGV0ZSBFeHByLmZpbmRbXCJJRFwiXTtcblx0XG5cdFx0XHRFeHByLmZpbHRlcltcIklEXCJdID0gIGZ1bmN0aW9uKCBpZCApIHtcblx0XHRcdFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHR2YXIgbm9kZSA9IHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZU5vZGUgIT09IFwidW5kZWZpbmVkXCIgJiZcblx0XHRcdFx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO1xuXHRcdFx0XHRcdHJldHVybiBub2RlICYmIG5vZGUudmFsdWUgPT09IGF0dHJJZDtcblx0XHRcdFx0fTtcblx0XHRcdH07XG5cdFx0fVxuXHRcblx0XHQvLyBUYWdcblx0XHRFeHByLmZpbmRbXCJUQUdcIl0gPSBzdXBwb3J0LmdldEVsZW1lbnRzQnlUYWdOYW1lID9cblx0XHRcdGZ1bmN0aW9uKCB0YWcsIGNvbnRleHQgKSB7XG5cdFx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyApO1xuXHRcblx0XHRcdFx0Ly8gRG9jdW1lbnRGcmFnbWVudCBub2RlcyBkb24ndCBoYXZlIGdFQlROXG5cdFx0XHRcdH0gZWxzZSBpZiAoIHN1cHBvcnQucXNhICkge1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIHRhZyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IDpcblx0XG5cdFx0XHRmdW5jdGlvbiggdGFnLCBjb250ZXh0ICkge1xuXHRcdFx0XHR2YXIgZWxlbSxcblx0XHRcdFx0XHR0bXAgPSBbXSxcblx0XHRcdFx0XHRpID0gMCxcblx0XHRcdFx0XHQvLyBCeSBoYXBweSBjb2luY2lkZW5jZSwgYSAoYnJva2VuKSBnRUJUTiBhcHBlYXJzIG9uIERvY3VtZW50RnJhZ21lbnQgbm9kZXMgdG9vXG5cdFx0XHRcdFx0cmVzdWx0cyA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyApO1xuXHRcblx0XHRcdFx0Ly8gRmlsdGVyIG91dCBwb3NzaWJsZSBjb21tZW50c1xuXHRcdFx0XHRpZiAoIHRhZyA9PT0gXCIqXCIgKSB7XG5cdFx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IHJlc3VsdHNbaSsrXSkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdFx0XHRcdHRtcC5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRyZXR1cm4gdG1wO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0fTtcblx0XG5cdFx0Ly8gQ2xhc3Ncblx0XHRFeHByLmZpbmRbXCJDTEFTU1wiXSA9IHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAmJiBmdW5jdGlvbiggY2xhc3NOYW1lLCBjb250ZXh0ICkge1xuXHRcdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50SXNIVE1MICkge1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBjbGFzc05hbWUgKTtcblx0XHRcdH1cblx0XHR9O1xuXHRcblx0XHQvKiBRU0EvbWF0Y2hlc1NlbGVjdG9yXG5cdFx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXHRcblx0XHQvLyBRU0EgYW5kIG1hdGNoZXNTZWxlY3RvciBzdXBwb3J0XG5cdFxuXHRcdC8vIG1hdGNoZXNTZWxlY3Rvcig6YWN0aXZlKSByZXBvcnRzIGZhbHNlIHdoZW4gdHJ1ZSAoSUU5L09wZXJhIDExLjUpXG5cdFx0cmJ1Z2d5TWF0Y2hlcyA9IFtdO1xuXHRcblx0XHQvLyBxU2EoOmZvY3VzKSByZXBvcnRzIGZhbHNlIHdoZW4gdHJ1ZSAoQ2hyb21lIDIxKVxuXHRcdC8vIFdlIGFsbG93IHRoaXMgYmVjYXVzZSBvZiBhIGJ1ZyBpbiBJRTgvOSB0aGF0IHRocm93cyBhbiBlcnJvclxuXHRcdC8vIHdoZW5ldmVyIGBkb2N1bWVudC5hY3RpdmVFbGVtZW50YCBpcyBhY2Nlc3NlZCBvbiBhbiBpZnJhbWVcblx0XHQvLyBTbywgd2UgYWxsb3cgOmZvY3VzIHRvIHBhc3MgdGhyb3VnaCBRU0EgYWxsIHRoZSB0aW1lIHRvIGF2b2lkIHRoZSBJRSBlcnJvclxuXHRcdC8vIFNlZSBodHRwczovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTMzNzhcblx0XHRyYnVnZ3lRU0EgPSBbXTtcblx0XG5cdFx0aWYgKCAoc3VwcG9ydC5xc2EgPSBybmF0aXZlLnRlc3QoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwgKSkgKSB7XG5cdFx0XHQvLyBCdWlsZCBRU0EgcmVnZXhcblx0XHRcdC8vIFJlZ2V4IHN0cmF0ZWd5IGFkb3B0ZWQgZnJvbSBEaWVnbyBQZXJpbmlcblx0XHRcdGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0XHRcdC8vIFNlbGVjdCBpcyBzZXQgdG8gZW1wdHkgc3RyaW5nIG9uIHB1cnBvc2Vcblx0XHRcdFx0Ly8gVGhpcyBpcyB0byB0ZXN0IElFJ3MgdHJlYXRtZW50IG9mIG5vdCBleHBsaWNpdGx5XG5cdFx0XHRcdC8vIHNldHRpbmcgYSBib29sZWFuIGNvbnRlbnQgYXR0cmlidXRlLFxuXHRcdFx0XHQvLyBzaW5jZSBpdHMgcHJlc2VuY2Ugc2hvdWxkIGJlIGVub3VnaFxuXHRcdFx0XHQvLyBodHRwczovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTIzNTlcblx0XHRcdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5pbm5lckhUTUwgPSBcIjxhIGlkPSdcIiArIGV4cGFuZG8gKyBcIic+PC9hPlwiICtcblx0XHRcdFx0XHRcIjxzZWxlY3QgaWQ9J1wiICsgZXhwYW5kbyArIFwiLVxcclxcXFwnIG1zYWxsb3djYXB0dXJlPScnPlwiICtcblx0XHRcdFx0XHRcIjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+XCI7XG5cdFxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRTgsIE9wZXJhIDExLTEyLjE2XG5cdFx0XHRcdC8vIE5vdGhpbmcgc2hvdWxkIGJlIHNlbGVjdGVkIHdoZW4gZW1wdHkgc3RyaW5ncyBmb2xsb3cgXj0gb3IgJD0gb3IgKj1cblx0XHRcdFx0Ly8gVGhlIHRlc3QgYXR0cmlidXRlIG11c3QgYmUgdW5rbm93biBpbiBPcGVyYSBidXQgXCJzYWZlXCIgZm9yIFdpblJUXG5cdFx0XHRcdC8vIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvaGg0NjUzODguYXNweCNhdHRyaWJ1dGVfc2VjdGlvblxuXHRcdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbbXNhbGxvd2NhcHR1cmVePScnXVwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiWypeJF09XCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86Jyd8XFxcIlxcXCIpXCIgKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gU3VwcG9ydDogSUU4XG5cdFx0XHRcdC8vIEJvb2xlYW4gYXR0cmlidXRlcyBhbmQgXCJ2YWx1ZVwiIGFyZSBub3QgdHJlYXRlZCBjb3JyZWN0bHlcblx0XHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbChcIltzZWxlY3RlZF1cIikubGVuZ3RoICkge1xuXHRcdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIlxcXFxbXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86dmFsdWV8XCIgKyBib29sZWFucyArIFwiKVwiICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZTwyOSwgQW5kcm9pZDw0LjQsIFNhZmFyaTw3LjArLCBpT1M8Ny4wKywgUGhhbnRvbUpTPDEuOS44K1xuXHRcdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIltpZH49XCIgKyBleHBhbmRvICsgXCItXVwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRcdHJidWdneVFTQS5wdXNoKFwifj1cIik7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFdlYmtpdC9PcGVyYSAtIDpjaGVja2VkIHNob3VsZCByZXR1cm4gc2VsZWN0ZWQgb3B0aW9uIGVsZW1lbnRzXG5cdFx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXG5cdFx0XHRcdC8vIElFOCB0aHJvd3MgZXJyb3IgaGVyZSBhbmQgd2lsbCBub3Qgc2VlIGxhdGVyIHRlc3RzXG5cdFx0XHRcdGlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6Y2hlY2tlZFwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCI6Y2hlY2tlZFwiKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gU3VwcG9ydDogU2FmYXJpIDgrLCBpT1MgOCtcblx0XHRcdFx0Ly8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzNjg1MVxuXHRcdFx0XHQvLyBJbi1wYWdlIGBzZWxlY3RvciNpZCBzaWJsaW5nLWNvbWJpbmF0b3Igc2VsZWN0b3JgIGZhaWxzXG5cdFx0XHRcdGlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiYSNcIiArIGV4cGFuZG8gKyBcIisqXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCIuIy4rWyt+XVwiKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFxuXHRcdFx0YXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0XHRcdFx0ZWwuaW5uZXJIVE1MID0gXCI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPlwiICtcblx0XHRcdFx0XHRcIjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD5cIjtcblx0XG5cdFx0XHRcdC8vIFN1cHBvcnQ6IFdpbmRvd3MgOCBOYXRpdmUgQXBwc1xuXHRcdFx0XHQvLyBUaGUgdHlwZSBhbmQgbmFtZSBhdHRyaWJ1dGVzIGFyZSByZXN0cmljdGVkIGR1cmluZyAuaW5uZXJIVE1MIGFzc2lnbm1lbnRcblx0XHRcdFx0dmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuXHRcdFx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCBcImhpZGRlblwiICk7XG5cdFx0XHRcdGVsLmFwcGVuZENoaWxkKCBpbnB1dCApLnNldEF0dHJpYnV0ZSggXCJuYW1lXCIsIFwiRFwiICk7XG5cdFxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRThcblx0XHRcdFx0Ly8gRW5mb3JjZSBjYXNlLXNlbnNpdGl2aXR5IG9mIG5hbWUgYXR0cmlidXRlXG5cdFx0XHRcdGlmICggZWwucXVlcnlTZWxlY3RvckFsbChcIltuYW1lPWRdXCIpLmxlbmd0aCApIHtcblx0XHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJuYW1lXCIgKyB3aGl0ZXNwYWNlICsgXCIqWypeJHwhfl0/PVwiICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIEZGIDMuNSAtIDplbmFibGVkLzpkaXNhYmxlZCBhbmQgaGlkZGVuIGVsZW1lbnRzIChoaWRkZW4gZWxlbWVudHMgYXJlIHN0aWxsIGVuYWJsZWQpXG5cdFx0XHRcdC8vIElFOCB0aHJvd3MgZXJyb3IgaGVyZSBhbmQgd2lsbCBub3Qgc2VlIGxhdGVyIHRlc3RzXG5cdFx0XHRcdGlmICggZWwucXVlcnlTZWxlY3RvckFsbChcIjplbmFibGVkXCIpLmxlbmd0aCAhPT0gMiApIHtcblx0XHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCI6ZW5hYmxlZFwiLCBcIjpkaXNhYmxlZFwiICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFOS0xMStcblx0XHRcdFx0Ly8gSUUncyA6ZGlzYWJsZWQgc2VsZWN0b3IgZG9lcyBub3QgcGljayB1cCB0aGUgY2hpbGRyZW4gb2YgZGlzYWJsZWQgZmllbGRzZXRzXG5cdFx0XHRcdGRvY0VsZW0uYXBwZW5kQ2hpbGQoIGVsICkuZGlzYWJsZWQgPSB0cnVlO1xuXHRcdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZGlzYWJsZWRcIikubGVuZ3RoICE9PSAyICkge1xuXHRcdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIjplbmFibGVkXCIsIFwiOmRpc2FibGVkXCIgKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gT3BlcmEgMTAtMTEgZG9lcyBub3QgdGhyb3cgb24gcG9zdC1jb21tYSBpbnZhbGlkIHBzZXVkb3Ncblx0XHRcdFx0ZWwucXVlcnlTZWxlY3RvckFsbChcIiosOnhcIik7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKFwiLC4qOlwiKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XG5cdFx0aWYgKCAoc3VwcG9ydC5tYXRjaGVzU2VsZWN0b3IgPSBybmF0aXZlLnRlc3QoIChtYXRjaGVzID0gZG9jRWxlbS5tYXRjaGVzIHx8XG5cdFx0XHRkb2NFbGVtLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fFxuXHRcdFx0ZG9jRWxlbS5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRcdGRvY0VsZW0ub01hdGNoZXNTZWxlY3RvciB8fFxuXHRcdFx0ZG9jRWxlbS5tc01hdGNoZXNTZWxlY3RvcikgKSkgKSB7XG5cdFxuXHRcdFx0YXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0XHRcdFx0Ly8gQ2hlY2sgdG8gc2VlIGlmIGl0J3MgcG9zc2libGUgdG8gZG8gbWF0Y2hlc1NlbGVjdG9yXG5cdFx0XHRcdC8vIG9uIGEgZGlzY29ubmVjdGVkIG5vZGUgKElFIDkpXG5cdFx0XHRcdHN1cHBvcnQuZGlzY29ubmVjdGVkTWF0Y2ggPSBtYXRjaGVzLmNhbGwoIGVsLCBcIipcIiApO1xuXHRcblx0XHRcdFx0Ly8gVGhpcyBzaG91bGQgZmFpbCB3aXRoIGFuIGV4Y2VwdGlvblxuXHRcdFx0XHQvLyBHZWNrbyBkb2VzIG5vdCBlcnJvciwgcmV0dXJucyBmYWxzZSBpbnN0ZWFkXG5cdFx0XHRcdG1hdGNoZXMuY2FsbCggZWwsIFwiW3MhPScnXTp4XCIgKTtcblx0XHRcdFx0cmJ1Z2d5TWF0Y2hlcy5wdXNoKCBcIiE9XCIsIHBzZXVkb3MgKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XG5cdFx0cmJ1Z2d5UVNBID0gcmJ1Z2d5UVNBLmxlbmd0aCAmJiBuZXcgUmVnRXhwKCByYnVnZ3lRU0Euam9pbihcInxcIikgKTtcblx0XHRyYnVnZ3lNYXRjaGVzID0gcmJ1Z2d5TWF0Y2hlcy5sZW5ndGggJiYgbmV3IFJlZ0V4cCggcmJ1Z2d5TWF0Y2hlcy5qb2luKFwifFwiKSApO1xuXHRcblx0XHQvKiBDb250YWluc1xuXHRcdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblx0XHRoYXNDb21wYXJlID0gcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICk7XG5cdFxuXHRcdC8vIEVsZW1lbnQgY29udGFpbnMgYW5vdGhlclxuXHRcdC8vIFB1cnBvc2VmdWxseSBzZWxmLWV4Y2x1c2l2ZVxuXHRcdC8vIEFzIGluLCBhbiBlbGVtZW50IGRvZXMgbm90IGNvbnRhaW4gaXRzZWxmXG5cdFx0Y29udGFpbnMgPSBoYXNDb21wYXJlIHx8IHJuYXRpdmUudGVzdCggZG9jRWxlbS5jb250YWlucyApID9cblx0XHRcdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdFx0XHR2YXIgYWRvd24gPSBhLm5vZGVUeXBlID09PSA5ID8gYS5kb2N1bWVudEVsZW1lbnQgOiBhLFxuXHRcdFx0XHRcdGJ1cCA9IGIgJiYgYi5wYXJlbnROb2RlO1xuXHRcdFx0XHRyZXR1cm4gYSA9PT0gYnVwIHx8ICEhKCBidXAgJiYgYnVwLm5vZGVUeXBlID09PSAxICYmIChcblx0XHRcdFx0XHRhZG93bi5jb250YWlucyA/XG5cdFx0XHRcdFx0XHRhZG93bi5jb250YWlucyggYnVwICkgOlxuXHRcdFx0XHRcdFx0YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAmJiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBidXAgKSAmIDE2XG5cdFx0XHRcdCkpO1xuXHRcdFx0fSA6XG5cdFx0XHRmdW5jdGlvbiggYSwgYiApIHtcblx0XHRcdFx0aWYgKCBiICkge1xuXHRcdFx0XHRcdHdoaWxlICggKGIgPSBiLnBhcmVudE5vZGUpICkge1xuXHRcdFx0XHRcdFx0aWYgKCBiID09PSBhICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fTtcblx0XG5cdFx0LyogU29ydGluZ1xuXHRcdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblx0XG5cdFx0Ly8gRG9jdW1lbnQgb3JkZXIgc29ydGluZ1xuXHRcdHNvcnRPcmRlciA9IGhhc0NvbXBhcmUgP1xuXHRcdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcblx0XHRcdC8vIEZsYWcgZm9yIGR1cGxpY2F0ZSByZW1vdmFsXG5cdFx0XHRpZiAoIGEgPT09IGIgKSB7XG5cdFx0XHRcdGhhc0R1cGxpY2F0ZSA9IHRydWU7XG5cdFx0XHRcdHJldHVybiAwO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFNvcnQgb24gbWV0aG9kIGV4aXN0ZW5jZSBpZiBvbmx5IG9uZSBpbnB1dCBoYXMgY29tcGFyZURvY3VtZW50UG9zaXRpb25cblx0XHRcdHZhciBjb21wYXJlID0gIWEuY29tcGFyZURvY3VtZW50UG9zaXRpb24gLSAhYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtcblx0XHRcdGlmICggY29tcGFyZSApIHtcblx0XHRcdFx0cmV0dXJuIGNvbXBhcmU7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gQ2FsY3VsYXRlIHBvc2l0aW9uIGlmIGJvdGggaW5wdXRzIGJlbG9uZyB0byB0aGUgc2FtZSBkb2N1bWVudFxuXHRcdFx0Y29tcGFyZSA9ICggYS5vd25lckRvY3VtZW50IHx8IGEgKSA9PT0gKCBiLm93bmVyRG9jdW1lbnQgfHwgYiApID9cblx0XHRcdFx0YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYiApIDpcblx0XG5cdFx0XHRcdC8vIE90aGVyd2lzZSB3ZSBrbm93IHRoZXkgYXJlIGRpc2Nvbm5lY3RlZFxuXHRcdFx0XHQxO1xuXHRcblx0XHRcdC8vIERpc2Nvbm5lY3RlZCBub2Rlc1xuXHRcdFx0aWYgKCBjb21wYXJlICYgMSB8fFxuXHRcdFx0XHQoIXN1cHBvcnQuc29ydERldGFjaGVkICYmIGIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGEgKSA9PT0gY29tcGFyZSkgKSB7XG5cdFxuXHRcdFx0XHQvLyBDaG9vc2UgdGhlIGZpcnN0IGVsZW1lbnQgdGhhdCBpcyByZWxhdGVkIHRvIG91ciBwcmVmZXJyZWQgZG9jdW1lbnRcblx0XHRcdFx0aWYgKCBhID09PSBkb2N1bWVudCB8fCBhLm93bmVyRG9jdW1lbnQgPT09IHByZWZlcnJlZERvYyAmJiBjb250YWlucyhwcmVmZXJyZWREb2MsIGEpICkge1xuXHRcdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIGIgPT09IGRvY3VtZW50IHx8IGIub3duZXJEb2N1bWVudCA9PT0gcHJlZmVycmVkRG9jICYmIGNvbnRhaW5zKHByZWZlcnJlZERvYywgYikgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIDE7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIE1haW50YWluIG9yaWdpbmFsIG9yZGVyXG5cdFx0XHRcdHJldHVybiBzb3J0SW5wdXQgP1xuXHRcdFx0XHRcdCggaW5kZXhPZiggc29ydElucHV0LCBhICkgLSBpbmRleE9mKCBzb3J0SW5wdXQsIGIgKSApIDpcblx0XHRcdFx0XHQwO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiBjb21wYXJlICYgNCA/IC0xIDogMTtcblx0XHR9IDpcblx0XHRmdW5jdGlvbiggYSwgYiApIHtcblx0XHRcdC8vIEV4aXQgZWFybHkgaWYgdGhlIG5vZGVzIGFyZSBpZGVudGljYWxcblx0XHRcdGlmICggYSA9PT0gYiApIHtcblx0XHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdFx0cmV0dXJuIDA7XG5cdFx0XHR9XG5cdFxuXHRcdFx0dmFyIGN1cixcblx0XHRcdFx0aSA9IDAsXG5cdFx0XHRcdGF1cCA9IGEucGFyZW50Tm9kZSxcblx0XHRcdFx0YnVwID0gYi5wYXJlbnROb2RlLFxuXHRcdFx0XHRhcCA9IFsgYSBdLFxuXHRcdFx0XHRicCA9IFsgYiBdO1xuXHRcblx0XHRcdC8vIFBhcmVudGxlc3Mgbm9kZXMgYXJlIGVpdGhlciBkb2N1bWVudHMgb3IgZGlzY29ubmVjdGVkXG5cdFx0XHRpZiAoICFhdXAgfHwgIWJ1cCApIHtcblx0XHRcdFx0cmV0dXJuIGEgPT09IGRvY3VtZW50ID8gLTEgOlxuXHRcdFx0XHRcdGIgPT09IGRvY3VtZW50ID8gMSA6XG5cdFx0XHRcdFx0YXVwID8gLTEgOlxuXHRcdFx0XHRcdGJ1cCA/IDEgOlxuXHRcdFx0XHRcdHNvcnRJbnB1dCA/XG5cdFx0XHRcdFx0KCBpbmRleE9mKCBzb3J0SW5wdXQsIGEgKSAtIGluZGV4T2YoIHNvcnRJbnB1dCwgYiApICkgOlxuXHRcdFx0XHRcdDA7XG5cdFxuXHRcdFx0Ly8gSWYgdGhlIG5vZGVzIGFyZSBzaWJsaW5ncywgd2UgY2FuIGRvIGEgcXVpY2sgY2hlY2tcblx0XHRcdH0gZWxzZSBpZiAoIGF1cCA9PT0gYnVwICkge1xuXHRcdFx0XHRyZXR1cm4gc2libGluZ0NoZWNrKCBhLCBiICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gT3RoZXJ3aXNlIHdlIG5lZWQgZnVsbCBsaXN0cyBvZiB0aGVpciBhbmNlc3RvcnMgZm9yIGNvbXBhcmlzb25cblx0XHRcdGN1ciA9IGE7XG5cdFx0XHR3aGlsZSAoIChjdXIgPSBjdXIucGFyZW50Tm9kZSkgKSB7XG5cdFx0XHRcdGFwLnVuc2hpZnQoIGN1ciApO1xuXHRcdFx0fVxuXHRcdFx0Y3VyID0gYjtcblx0XHRcdHdoaWxlICggKGN1ciA9IGN1ci5wYXJlbnROb2RlKSApIHtcblx0XHRcdFx0YnAudW5zaGlmdCggY3VyICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gV2FsayBkb3duIHRoZSB0cmVlIGxvb2tpbmcgZm9yIGEgZGlzY3JlcGFuY3lcblx0XHRcdHdoaWxlICggYXBbaV0gPT09IGJwW2ldICkge1xuXHRcdFx0XHRpKys7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIGkgP1xuXHRcdFx0XHQvLyBEbyBhIHNpYmxpbmcgY2hlY2sgaWYgdGhlIG5vZGVzIGhhdmUgYSBjb21tb24gYW5jZXN0b3Jcblx0XHRcdFx0c2libGluZ0NoZWNrKCBhcFtpXSwgYnBbaV0gKSA6XG5cdFxuXHRcdFx0XHQvLyBPdGhlcndpc2Ugbm9kZXMgaW4gb3VyIGRvY3VtZW50IHNvcnQgZmlyc3Rcblx0XHRcdFx0YXBbaV0gPT09IHByZWZlcnJlZERvYyA/IC0xIDpcblx0XHRcdFx0YnBbaV0gPT09IHByZWZlcnJlZERvYyA/IDEgOlxuXHRcdFx0XHQwO1xuXHRcdH07XG5cdFxuXHRcdHJldHVybiBkb2N1bWVudDtcblx0fTtcblx0XG5cdFNpenpsZS5tYXRjaGVzID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1lbnRzICkge1xuXHRcdHJldHVybiBTaXp6bGUoIGV4cHIsIG51bGwsIG51bGwsIGVsZW1lbnRzICk7XG5cdH07XG5cdFxuXHRTaXp6bGUubWF0Y2hlc1NlbGVjdG9yID0gZnVuY3Rpb24oIGVsZW0sIGV4cHIgKSB7XG5cdFx0Ly8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG5cdFx0aWYgKCAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtICkgIT09IGRvY3VtZW50ICkge1xuXHRcdFx0c2V0RG9jdW1lbnQoIGVsZW0gKTtcblx0XHR9XG5cdFxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IGF0dHJpYnV0ZSBzZWxlY3RvcnMgYXJlIHF1b3RlZFxuXHRcdGV4cHIgPSBleHByLnJlcGxhY2UoIHJhdHRyaWJ1dGVRdW90ZXMsIFwiPSckMSddXCIgKTtcblx0XG5cdFx0aWYgKCBzdXBwb3J0Lm1hdGNoZXNTZWxlY3RvciAmJiBkb2N1bWVudElzSFRNTCAmJlxuXHRcdFx0IWNvbXBpbGVyQ2FjaGVbIGV4cHIgKyBcIiBcIiBdICYmXG5cdFx0XHQoICFyYnVnZ3lNYXRjaGVzIHx8ICFyYnVnZ3lNYXRjaGVzLnRlc3QoIGV4cHIgKSApICYmXG5cdFx0XHQoICFyYnVnZ3lRU0EgICAgIHx8ICFyYnVnZ3lRU0EudGVzdCggZXhwciApICkgKSB7XG5cdFxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dmFyIHJldCA9IG1hdGNoZXMuY2FsbCggZWxlbSwgZXhwciApO1xuXHRcblx0XHRcdFx0Ly8gSUUgOSdzIG1hdGNoZXNTZWxlY3RvciByZXR1cm5zIGZhbHNlIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xuXHRcdFx0XHRpZiAoIHJldCB8fCBzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoIHx8XG5cdFx0XHRcdFx0XHQvLyBBcyB3ZWxsLCBkaXNjb25uZWN0ZWQgbm9kZXMgYXJlIHNhaWQgdG8gYmUgaW4gYSBkb2N1bWVudFxuXHRcdFx0XHRcdFx0Ly8gZnJhZ21lbnQgaW4gSUUgOVxuXHRcdFx0XHRcdFx0ZWxlbS5kb2N1bWVudCAmJiBlbGVtLmRvY3VtZW50Lm5vZGVUeXBlICE9PSAxMSApIHtcblx0XHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlKSB7fVxuXHRcdH1cblx0XG5cdFx0cmV0dXJuIFNpenpsZSggZXhwciwgZG9jdW1lbnQsIG51bGwsIFsgZWxlbSBdICkubGVuZ3RoID4gMDtcblx0fTtcblx0XG5cdFNpenpsZS5jb250YWlucyA9IGZ1bmN0aW9uKCBjb250ZXh0LCBlbGVtICkge1xuXHRcdC8vIFNldCBkb2N1bWVudCB2YXJzIGlmIG5lZWRlZFxuXHRcdGlmICggKCBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCApICE9PSBkb2N1bWVudCApIHtcblx0XHRcdHNldERvY3VtZW50KCBjb250ZXh0ICk7XG5cdFx0fVxuXHRcdHJldHVybiBjb250YWlucyggY29udGV4dCwgZWxlbSApO1xuXHR9O1xuXHRcblx0U2l6emxlLmF0dHIgPSBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcblx0XHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0XHRpZiAoICggZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0gKSAhPT0gZG9jdW1lbnQgKSB7XG5cdFx0XHRzZXREb2N1bWVudCggZWxlbSApO1xuXHRcdH1cblx0XG5cdFx0dmFyIGZuID0gRXhwci5hdHRySGFuZGxlWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSxcblx0XHRcdC8vIERvbid0IGdldCBmb29sZWQgYnkgT2JqZWN0LnByb3RvdHlwZSBwcm9wZXJ0aWVzIChqUXVlcnkgIzEzODA3KVxuXHRcdFx0dmFsID0gZm4gJiYgaGFzT3duLmNhbGwoIEV4cHIuYXR0ckhhbmRsZSwgbmFtZS50b0xvd2VyQ2FzZSgpICkgP1xuXHRcdFx0XHRmbiggZWxlbSwgbmFtZSwgIWRvY3VtZW50SXNIVE1MICkgOlxuXHRcdFx0XHR1bmRlZmluZWQ7XG5cdFxuXHRcdHJldHVybiB2YWwgIT09IHVuZGVmaW5lZCA/XG5cdFx0XHR2YWwgOlxuXHRcdFx0c3VwcG9ydC5hdHRyaWJ1dGVzIHx8ICFkb2N1bWVudElzSFRNTCA/XG5cdFx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lICkgOlxuXHRcdFx0XHQodmFsID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKG5hbWUpKSAmJiB2YWwuc3BlY2lmaWVkID9cblx0XHRcdFx0XHR2YWwudmFsdWUgOlxuXHRcdFx0XHRcdG51bGw7XG5cdH07XG5cdFxuXHRTaXp6bGUuZXNjYXBlID0gZnVuY3Rpb24oIHNlbCApIHtcblx0XHRyZXR1cm4gKHNlbCArIFwiXCIpLnJlcGxhY2UoIHJjc3Nlc2NhcGUsIGZjc3Nlc2NhcGUgKTtcblx0fTtcblx0XG5cdFNpenpsZS5lcnJvciA9IGZ1bmN0aW9uKCBtc2cgKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCBcIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246IFwiICsgbXNnICk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogRG9jdW1lbnQgc29ydGluZyBhbmQgcmVtb3ZpbmcgZHVwbGljYXRlc1xuXHQgKiBAcGFyYW0ge0FycmF5TGlrZX0gcmVzdWx0c1xuXHQgKi9cblx0U2l6emxlLnVuaXF1ZVNvcnQgPSBmdW5jdGlvbiggcmVzdWx0cyApIHtcblx0XHR2YXIgZWxlbSxcblx0XHRcdGR1cGxpY2F0ZXMgPSBbXSxcblx0XHRcdGogPSAwLFxuXHRcdFx0aSA9IDA7XG5cdFxuXHRcdC8vIFVubGVzcyB3ZSAqa25vdyogd2UgY2FuIGRldGVjdCBkdXBsaWNhdGVzLCBhc3N1bWUgdGhlaXIgcHJlc2VuY2Vcblx0XHRoYXNEdXBsaWNhdGUgPSAhc3VwcG9ydC5kZXRlY3REdXBsaWNhdGVzO1xuXHRcdHNvcnRJbnB1dCA9ICFzdXBwb3J0LnNvcnRTdGFibGUgJiYgcmVzdWx0cy5zbGljZSggMCApO1xuXHRcdHJlc3VsdHMuc29ydCggc29ydE9yZGVyICk7XG5cdFxuXHRcdGlmICggaGFzRHVwbGljYXRlICkge1xuXHRcdFx0d2hpbGUgKCAoZWxlbSA9IHJlc3VsdHNbaSsrXSkgKSB7XG5cdFx0XHRcdGlmICggZWxlbSA9PT0gcmVzdWx0c1sgaSBdICkge1xuXHRcdFx0XHRcdGogPSBkdXBsaWNhdGVzLnB1c2goIGkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0d2hpbGUgKCBqLS0gKSB7XG5cdFx0XHRcdHJlc3VsdHMuc3BsaWNlKCBkdXBsaWNhdGVzWyBqIF0sIDEgKTtcblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdC8vIENsZWFyIGlucHV0IGFmdGVyIHNvcnRpbmcgdG8gcmVsZWFzZSBvYmplY3RzXG5cdFx0Ly8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvc2l6emxlL3B1bGwvMjI1XG5cdFx0c29ydElucHV0ID0gbnVsbDtcblx0XG5cdFx0cmV0dXJuIHJlc3VsdHM7XG5cdH07XG5cdFxuXHQvKipcblx0ICogVXRpbGl0eSBmdW5jdGlvbiBmb3IgcmV0cmlldmluZyB0aGUgdGV4dCB2YWx1ZSBvZiBhbiBhcnJheSBvZiBET00gbm9kZXNcblx0ICogQHBhcmFtIHtBcnJheXxFbGVtZW50fSBlbGVtXG5cdCAqL1xuXHRnZXRUZXh0ID0gU2l6emxlLmdldFRleHQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0XHR2YXIgbm9kZSxcblx0XHRcdHJldCA9IFwiXCIsXG5cdFx0XHRpID0gMCxcblx0XHRcdG5vZGVUeXBlID0gZWxlbS5ub2RlVHlwZTtcblx0XG5cdFx0aWYgKCAhbm9kZVR5cGUgKSB7XG5cdFx0XHQvLyBJZiBubyBub2RlVHlwZSwgdGhpcyBpcyBleHBlY3RlZCB0byBiZSBhbiBhcnJheVxuXHRcdFx0d2hpbGUgKCAobm9kZSA9IGVsZW1baSsrXSkgKSB7XG5cdFx0XHRcdC8vIERvIG5vdCB0cmF2ZXJzZSBjb21tZW50IG5vZGVzXG5cdFx0XHRcdHJldCArPSBnZXRUZXh0KCBub2RlICk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDEgfHwgbm9kZVR5cGUgPT09IDkgfHwgbm9kZVR5cGUgPT09IDExICkge1xuXHRcdFx0Ly8gVXNlIHRleHRDb250ZW50IGZvciBlbGVtZW50c1xuXHRcdFx0Ly8gaW5uZXJUZXh0IHVzYWdlIHJlbW92ZWQgZm9yIGNvbnNpc3RlbmN5IG9mIG5ldyBsaW5lcyAoalF1ZXJ5ICMxMTE1Mylcblx0XHRcdGlmICggdHlwZW9mIGVsZW0udGV4dENvbnRlbnQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtLnRleHRDb250ZW50O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gVHJhdmVyc2UgaXRzIGNoaWxkcmVuXG5cdFx0XHRcdGZvciAoIGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7IGVsZW07IGVsZW0gPSBlbGVtLm5leHRTaWJsaW5nICkge1xuXHRcdFx0XHRcdHJldCArPSBnZXRUZXh0KCBlbGVtICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKCBub2RlVHlwZSA9PT0gMyB8fCBub2RlVHlwZSA9PT0gNCApIHtcblx0XHRcdHJldHVybiBlbGVtLm5vZGVWYWx1ZTtcblx0XHR9XG5cdFx0Ly8gRG8gbm90IGluY2x1ZGUgY29tbWVudCBvciBwcm9jZXNzaW5nIGluc3RydWN0aW9uIG5vZGVzXG5cdFxuXHRcdHJldHVybiByZXQ7XG5cdH07XG5cdFxuXHRFeHByID0gU2l6emxlLnNlbGVjdG9ycyA9IHtcblx0XG5cdFx0Ly8gQ2FuIGJlIGFkanVzdGVkIGJ5IHRoZSB1c2VyXG5cdFx0Y2FjaGVMZW5ndGg6IDUwLFxuXHRcblx0XHRjcmVhdGVQc2V1ZG86IG1hcmtGdW5jdGlvbixcblx0XG5cdFx0bWF0Y2g6IG1hdGNoRXhwcixcblx0XG5cdFx0YXR0ckhhbmRsZToge30sXG5cdFxuXHRcdGZpbmQ6IHt9LFxuXHRcblx0XHRyZWxhdGl2ZToge1xuXHRcdFx0XCI+XCI6IHsgZGlyOiBcInBhcmVudE5vZGVcIiwgZmlyc3Q6IHRydWUgfSxcblx0XHRcdFwiIFwiOiB7IGRpcjogXCJwYXJlbnROb2RlXCIgfSxcblx0XHRcdFwiK1wiOiB7IGRpcjogXCJwcmV2aW91c1NpYmxpbmdcIiwgZmlyc3Q6IHRydWUgfSxcblx0XHRcdFwiflwiOiB7IGRpcjogXCJwcmV2aW91c1NpYmxpbmdcIiB9XG5cdFx0fSxcblx0XG5cdFx0cHJlRmlsdGVyOiB7XG5cdFx0XHRcIkFUVFJcIjogZnVuY3Rpb24oIG1hdGNoICkge1xuXHRcdFx0XHRtYXRjaFsxXSA9IG1hdGNoWzFdLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFxuXHRcdFx0XHQvLyBNb3ZlIHRoZSBnaXZlbiB2YWx1ZSB0byBtYXRjaFszXSB3aGV0aGVyIHF1b3RlZCBvciB1bnF1b3RlZFxuXHRcdFx0XHRtYXRjaFszXSA9ICggbWF0Y2hbM10gfHwgbWF0Y2hbNF0gfHwgbWF0Y2hbNV0gfHwgXCJcIiApLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFxuXHRcdFx0XHRpZiAoIG1hdGNoWzJdID09PSBcIn49XCIgKSB7XG5cdFx0XHRcdFx0bWF0Y2hbM10gPSBcIiBcIiArIG1hdGNoWzNdICsgXCIgXCI7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHJldHVybiBtYXRjaC5zbGljZSggMCwgNCApO1xuXHRcdFx0fSxcblx0XG5cdFx0XHRcIkNISUxEXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcblx0XHRcdFx0LyogbWF0Y2hlcyBmcm9tIG1hdGNoRXhwcltcIkNISUxEXCJdXG5cdFx0XHRcdFx0MSB0eXBlIChvbmx5fG50aHwuLi4pXG5cdFx0XHRcdFx0MiB3aGF0IChjaGlsZHxvZi10eXBlKVxuXHRcdFx0XHRcdDMgYXJndW1lbnQgKGV2ZW58b2RkfFxcZCp8XFxkKm4oWystXVxcZCspP3wuLi4pXG5cdFx0XHRcdFx0NCB4bi1jb21wb25lbnQgb2YgeG4reSBhcmd1bWVudCAoWystXT9cXGQqbnwpXG5cdFx0XHRcdFx0NSBzaWduIG9mIHhuLWNvbXBvbmVudFxuXHRcdFx0XHRcdDYgeCBvZiB4bi1jb21wb25lbnRcblx0XHRcdFx0XHQ3IHNpZ24gb2YgeS1jb21wb25lbnRcblx0XHRcdFx0XHQ4IHkgb2YgeS1jb21wb25lbnRcblx0XHRcdFx0Ki9cblx0XHRcdFx0bWF0Y2hbMV0gPSBtYXRjaFsxXS50b0xvd2VyQ2FzZSgpO1xuXHRcblx0XHRcdFx0aWYgKCBtYXRjaFsxXS5zbGljZSggMCwgMyApID09PSBcIm50aFwiICkge1xuXHRcdFx0XHRcdC8vIG50aC0qIHJlcXVpcmVzIGFyZ3VtZW50XG5cdFx0XHRcdFx0aWYgKCAhbWF0Y2hbM10gKSB7XG5cdFx0XHRcdFx0XHRTaXp6bGUuZXJyb3IoIG1hdGNoWzBdICk7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBudW1lcmljIHggYW5kIHkgcGFyYW1ldGVycyBmb3IgRXhwci5maWx0ZXIuQ0hJTERcblx0XHRcdFx0XHQvLyByZW1lbWJlciB0aGF0IGZhbHNlL3RydWUgY2FzdCByZXNwZWN0aXZlbHkgdG8gMC8xXG5cdFx0XHRcdFx0bWF0Y2hbNF0gPSArKCBtYXRjaFs0XSA/IG1hdGNoWzVdICsgKG1hdGNoWzZdIHx8IDEpIDogMiAqICggbWF0Y2hbM10gPT09IFwiZXZlblwiIHx8IG1hdGNoWzNdID09PSBcIm9kZFwiICkgKTtcblx0XHRcdFx0XHRtYXRjaFs1XSA9ICsoICggbWF0Y2hbN10gKyBtYXRjaFs4XSApIHx8IG1hdGNoWzNdID09PSBcIm9kZFwiICk7XG5cdFxuXHRcdFx0XHQvLyBvdGhlciB0eXBlcyBwcm9oaWJpdCBhcmd1bWVudHNcblx0XHRcdFx0fSBlbHNlIGlmICggbWF0Y2hbM10gKSB7XG5cdFx0XHRcdFx0U2l6emxlLmVycm9yKCBtYXRjaFswXSApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRyZXR1cm4gbWF0Y2g7XG5cdFx0XHR9LFxuXHRcblx0XHRcdFwiUFNFVURPXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcblx0XHRcdFx0dmFyIGV4Y2Vzcyxcblx0XHRcdFx0XHR1bnF1b3RlZCA9ICFtYXRjaFs2XSAmJiBtYXRjaFsyXTtcblx0XG5cdFx0XHRcdGlmICggbWF0Y2hFeHByW1wiQ0hJTERcIl0udGVzdCggbWF0Y2hbMF0gKSApIHtcblx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gQWNjZXB0IHF1b3RlZCBhcmd1bWVudHMgYXMtaXNcblx0XHRcdFx0aWYgKCBtYXRjaFszXSApIHtcblx0XHRcdFx0XHRtYXRjaFsyXSA9IG1hdGNoWzRdIHx8IG1hdGNoWzVdIHx8IFwiXCI7XG5cdFxuXHRcdFx0XHQvLyBTdHJpcCBleGNlc3MgY2hhcmFjdGVycyBmcm9tIHVucXVvdGVkIGFyZ3VtZW50c1xuXHRcdFx0XHR9IGVsc2UgaWYgKCB1bnF1b3RlZCAmJiBycHNldWRvLnRlc3QoIHVucXVvdGVkICkgJiZcblx0XHRcdFx0XHQvLyBHZXQgZXhjZXNzIGZyb20gdG9rZW5pemUgKHJlY3Vyc2l2ZWx5KVxuXHRcdFx0XHRcdChleGNlc3MgPSB0b2tlbml6ZSggdW5xdW90ZWQsIHRydWUgKSkgJiZcblx0XHRcdFx0XHQvLyBhZHZhbmNlIHRvIHRoZSBuZXh0IGNsb3NpbmcgcGFyZW50aGVzaXNcblx0XHRcdFx0XHQoZXhjZXNzID0gdW5xdW90ZWQuaW5kZXhPZiggXCIpXCIsIHVucXVvdGVkLmxlbmd0aCAtIGV4Y2VzcyApIC0gdW5xdW90ZWQubGVuZ3RoKSApIHtcblx0XG5cdFx0XHRcdFx0Ly8gZXhjZXNzIGlzIGEgbmVnYXRpdmUgaW5kZXhcblx0XHRcdFx0XHRtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKCAwLCBleGNlc3MgKTtcblx0XHRcdFx0XHRtYXRjaFsyXSA9IHVucXVvdGVkLnNsaWNlKCAwLCBleGNlc3MgKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gUmV0dXJuIG9ubHkgY2FwdHVyZXMgbmVlZGVkIGJ5IHRoZSBwc2V1ZG8gZmlsdGVyIG1ldGhvZCAodHlwZSBhbmQgYXJndW1lbnQpXG5cdFx0XHRcdHJldHVybiBtYXRjaC5zbGljZSggMCwgMyApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdGZpbHRlcjoge1xuXHRcblx0XHRcdFwiVEFHXCI6IGZ1bmN0aW9uKCBub2RlTmFtZVNlbGVjdG9yICkge1xuXHRcdFx0XHR2YXIgbm9kZU5hbWUgPSBub2RlTmFtZVNlbGVjdG9yLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0cmV0dXJuIG5vZGVOYW1lU2VsZWN0b3IgPT09IFwiKlwiID9cblx0XHRcdFx0XHRmdW5jdGlvbigpIHsgcmV0dXJuIHRydWU7IH0gOlxuXHRcdFx0XHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBub2RlTmFtZTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0fSxcblx0XG5cdFx0XHRcIkNMQVNTXCI6IGZ1bmN0aW9uKCBjbGFzc05hbWUgKSB7XG5cdFx0XHRcdHZhciBwYXR0ZXJuID0gY2xhc3NDYWNoZVsgY2xhc3NOYW1lICsgXCIgXCIgXTtcblx0XG5cdFx0XHRcdHJldHVybiBwYXR0ZXJuIHx8XG5cdFx0XHRcdFx0KHBhdHRlcm4gPSBuZXcgUmVnRXhwKCBcIihefFwiICsgd2hpdGVzcGFjZSArIFwiKVwiICsgY2xhc3NOYW1lICsgXCIoXCIgKyB3aGl0ZXNwYWNlICsgXCJ8JClcIiApKSAmJlxuXHRcdFx0XHRcdGNsYXNzQ2FjaGUoIGNsYXNzTmFtZSwgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcGF0dGVybi50ZXN0KCB0eXBlb2YgZWxlbS5jbGFzc05hbWUgPT09IFwic3RyaW5nXCIgJiYgZWxlbS5jbGFzc05hbWUgfHwgdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlICE9PSBcInVuZGVmaW5lZFwiICYmIGVsZW0uZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikgfHwgXCJcIiApO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XG5cdFx0XHRcIkFUVFJcIjogZnVuY3Rpb24oIG5hbWUsIG9wZXJhdG9yLCBjaGVjayApIHtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHZhciByZXN1bHQgPSBTaXp6bGUuYXR0ciggZWxlbSwgbmFtZSApO1xuXHRcblx0XHRcdFx0XHRpZiAoIHJlc3VsdCA9PSBudWxsICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIG9wZXJhdG9yID09PSBcIiE9XCI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggIW9wZXJhdG9yICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRyZXN1bHQgKz0gXCJcIjtcblx0XG5cdFx0XHRcdFx0cmV0dXJuIG9wZXJhdG9yID09PSBcIj1cIiA/IHJlc3VsdCA9PT0gY2hlY2sgOlxuXHRcdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiIT1cIiA/IHJlc3VsdCAhPT0gY2hlY2sgOlxuXHRcdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiXj1cIiA/IGNoZWNrICYmIHJlc3VsdC5pbmRleE9mKCBjaGVjayApID09PSAwIDpcblx0XHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIio9XCIgPyBjaGVjayAmJiByZXN1bHQuaW5kZXhPZiggY2hlY2sgKSA+IC0xIDpcblx0XHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIiQ9XCIgPyBjaGVjayAmJiByZXN1bHQuc2xpY2UoIC1jaGVjay5sZW5ndGggKSA9PT0gY2hlY2sgOlxuXHRcdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwifj1cIiA/ICggXCIgXCIgKyByZXN1bHQucmVwbGFjZSggcndoaXRlc3BhY2UsIFwiIFwiICkgKyBcIiBcIiApLmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XG5cdFx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCJ8PVwiID8gcmVzdWx0ID09PSBjaGVjayB8fCByZXN1bHQuc2xpY2UoIDAsIGNoZWNrLmxlbmd0aCArIDEgKSA9PT0gY2hlY2sgKyBcIi1cIiA6XG5cdFx0XHRcdFx0XHRmYWxzZTtcblx0XHRcdFx0fTtcblx0XHRcdH0sXG5cdFxuXHRcdFx0XCJDSElMRFwiOiBmdW5jdGlvbiggdHlwZSwgd2hhdCwgYXJndW1lbnQsIGZpcnN0LCBsYXN0ICkge1xuXHRcdFx0XHR2YXIgc2ltcGxlID0gdHlwZS5zbGljZSggMCwgMyApICE9PSBcIm50aFwiLFxuXHRcdFx0XHRcdGZvcndhcmQgPSB0eXBlLnNsaWNlKCAtNCApICE9PSBcImxhc3RcIixcblx0XHRcdFx0XHRvZlR5cGUgPSB3aGF0ID09PSBcIm9mLXR5cGVcIjtcblx0XG5cdFx0XHRcdHJldHVybiBmaXJzdCA9PT0gMSAmJiBsYXN0ID09PSAwID9cblx0XG5cdFx0XHRcdFx0Ly8gU2hvcnRjdXQgZm9yIDpudGgtKihuKVxuXHRcdFx0XHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuICEhZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0XHRcdH0gOlxuXHRcblx0XHRcdFx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdFx0dmFyIGNhY2hlLCB1bmlxdWVDYWNoZSwgb3V0ZXJDYWNoZSwgbm9kZSwgbm9kZUluZGV4LCBzdGFydCxcblx0XHRcdFx0XHRcdFx0ZGlyID0gc2ltcGxlICE9PSBmb3J3YXJkID8gXCJuZXh0U2libGluZ1wiIDogXCJwcmV2aW91c1NpYmxpbmdcIixcblx0XHRcdFx0XHRcdFx0cGFyZW50ID0gZWxlbS5wYXJlbnROb2RlLFxuXHRcdFx0XHRcdFx0XHRuYW1lID0gb2ZUeXBlICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcblx0XHRcdFx0XHRcdFx0dXNlQ2FjaGUgPSAheG1sICYmICFvZlR5cGUsXG5cdFx0XHRcdFx0XHRcdGRpZmYgPSBmYWxzZTtcblx0XG5cdFx0XHRcdFx0XHRpZiAoIHBhcmVudCApIHtcblx0XG5cdFx0XHRcdFx0XHRcdC8vIDooZmlyc3R8bGFzdHxvbmx5KS0oY2hpbGR8b2YtdHlwZSlcblx0XHRcdFx0XHRcdFx0aWYgKCBzaW1wbGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKCBkaXIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbTtcblx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlICggKG5vZGUgPSBub2RlWyBkaXIgXSkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggb2ZUeXBlID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUgOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZVR5cGUgPT09IDEgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gUmV2ZXJzZSBkaXJlY3Rpb24gZm9yIDpvbmx5LSogKGlmIHdlIGhhdmVuJ3QgeWV0IGRvbmUgc28pXG5cdFx0XHRcdFx0XHRcdFx0XHRzdGFydCA9IGRpciA9IHR5cGUgPT09IFwib25seVwiICYmICFzdGFydCAmJiBcIm5leHRTaWJsaW5nXCI7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0XHRzdGFydCA9IFsgZm9yd2FyZCA/IHBhcmVudC5maXJzdENoaWxkIDogcGFyZW50Lmxhc3RDaGlsZCBdO1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gbm9uLXhtbCA6bnRoLWNoaWxkKC4uLikgc3RvcmVzIGNhY2hlIGRhdGEgb24gYHBhcmVudGBcblx0XHRcdFx0XHRcdFx0aWYgKCBmb3J3YXJkICYmIHVzZUNhY2hlICkge1xuXHRcblx0XHRcdFx0XHRcdFx0XHQvLyBTZWVrIGBlbGVtYCBmcm9tIGEgcHJldmlvdXNseS1jYWNoZWQgaW5kZXhcblx0XG5cdFx0XHRcdFx0XHRcdFx0Ly8gLi4uaW4gYSBnemlwLWZyaWVuZGx5IHdheVxuXHRcdFx0XHRcdFx0XHRcdG5vZGUgPSBwYXJlbnQ7XG5cdFx0XHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IG5vZGVbIGV4cGFuZG8gXSB8fCAobm9kZVsgZXhwYW5kbyBdID0ge30pO1xuXHRcblx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdChvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSk7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdGNhY2hlID0gdW5pcXVlQ2FjaGVbIHR5cGUgXSB8fCBbXTtcblx0XHRcdFx0XHRcdFx0XHRub2RlSW5kZXggPSBjYWNoZVsgMCBdID09PSBkaXJydW5zICYmIGNhY2hlWyAxIF07XG5cdFx0XHRcdFx0XHRcdFx0ZGlmZiA9IG5vZGVJbmRleCAmJiBjYWNoZVsgMiBdO1xuXHRcdFx0XHRcdFx0XHRcdG5vZGUgPSBub2RlSW5kZXggJiYgcGFyZW50LmNoaWxkTm9kZXNbIG5vZGVJbmRleCBdO1xuXHRcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoIChub2RlID0gKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlWyBkaXIgXSB8fFxuXHRcblx0XHRcdFx0XHRcdFx0XHRcdC8vIEZhbGxiYWNrIHRvIHNlZWtpbmcgYGVsZW1gIGZyb20gdGhlIHN0YXJ0XG5cdFx0XHRcdFx0XHRcdFx0XHQoZGlmZiA9IG5vZGVJbmRleCA9IDApIHx8IHN0YXJ0LnBvcCgpKSApIHtcblx0XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBXaGVuIGZvdW5kLCBjYWNoZSBpbmRleGVzIG9uIGBwYXJlbnRgIGFuZCBicmVha1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBub2RlLm5vZGVUeXBlID09PSAxICYmICsrZGlmZiAmJiBub2RlID09PSBlbGVtICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZVsgdHlwZSBdID0gWyBkaXJydW5zLCBub2RlSW5kZXgsIGRpZmYgXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBVc2UgcHJldmlvdXNseS1jYWNoZWQgZWxlbWVudCBpbmRleCBpZiBhdmFpbGFibGVcblx0XHRcdFx0XHRcdFx0XHRpZiAoIHVzZUNhY2hlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gLi4uaW4gYSBnemlwLWZyaWVuZGx5IHdheVxuXHRcdFx0XHRcdFx0XHRcdFx0bm9kZSA9IGVsZW07XG5cdFx0XHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gbm9kZVsgZXhwYW5kbyBdIHx8IChub2RlWyBleHBhbmRvIF0gPSB7fSk7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPDkgb25seVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQob3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdID0ge30pO1xuXHRcblx0XHRcdFx0XHRcdFx0XHRcdGNhY2hlID0gdW5pcXVlQ2FjaGVbIHR5cGUgXSB8fCBbXTtcblx0XHRcdFx0XHRcdFx0XHRcdG5vZGVJbmRleCA9IGNhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgY2FjaGVbIDEgXTtcblx0XHRcdFx0XHRcdFx0XHRcdGRpZmYgPSBub2RlSW5kZXg7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdFx0XHQvLyB4bWwgOm50aC1jaGlsZCguLi4pXG5cdFx0XHRcdFx0XHRcdFx0Ly8gb3IgOm50aC1sYXN0LWNoaWxkKC4uLikgb3IgOm50aCgtbGFzdCk/LW9mLXR5cGUoLi4uKVxuXHRcdFx0XHRcdFx0XHRcdGlmICggZGlmZiA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBVc2UgdGhlIHNhbWUgbG9vcCBhcyBhYm92ZSB0byBzZWVrIGBlbGVtYCBmcm9tIHRoZSBzdGFydFxuXHRcdFx0XHRcdFx0XHRcdFx0d2hpbGUgKCAobm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVsgZGlyIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdFx0KGRpZmYgPSBub2RlSW5kZXggPSAwKSB8fCBzdGFydC5wb3AoKSkgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoICggb2ZUeXBlID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUgOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZVR5cGUgPT09IDEgKSAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCsrZGlmZiApIHtcblx0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gQ2FjaGUgdGhlIGluZGV4IG9mIGVhY2ggZW5jb3VudGVyZWQgZWxlbWVudFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggdXNlQ2FjaGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gbm9kZVsgZXhwYW5kbyBdIHx8IChub2RlWyBleHBhbmRvIF0gPSB7fSk7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPDkgb25seVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQob3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdID0ge30pO1xuXHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIGRpZmYgXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggbm9kZSA9PT0gZWxlbSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdFx0Ly8gSW5jb3Jwb3JhdGUgdGhlIG9mZnNldCwgdGhlbiBjaGVjayBhZ2FpbnN0IGN5Y2xlIHNpemVcblx0XHRcdFx0XHRcdFx0ZGlmZiAtPSBsYXN0O1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZGlmZiA9PT0gZmlyc3QgfHwgKCBkaWZmICUgZmlyc3QgPT09IDAgJiYgZGlmZiAvIGZpcnN0ID49IDAgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0fSxcblx0XG5cdFx0XHRcIlBTRVVET1wiOiBmdW5jdGlvbiggcHNldWRvLCBhcmd1bWVudCApIHtcblx0XHRcdFx0Ly8gcHNldWRvLWNsYXNzIG5hbWVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlXG5cdFx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jcHNldWRvLWNsYXNzZXNcblx0XHRcdFx0Ly8gUHJpb3JpdGl6ZSBieSBjYXNlIHNlbnNpdGl2aXR5IGluIGNhc2UgY3VzdG9tIHBzZXVkb3MgYXJlIGFkZGVkIHdpdGggdXBwZXJjYXNlIGxldHRlcnNcblx0XHRcdFx0Ly8gUmVtZW1iZXIgdGhhdCBzZXRGaWx0ZXJzIGluaGVyaXRzIGZyb20gcHNldWRvc1xuXHRcdFx0XHR2YXIgYXJncyxcblx0XHRcdFx0XHRmbiA9IEV4cHIucHNldWRvc1sgcHNldWRvIF0gfHwgRXhwci5zZXRGaWx0ZXJzWyBwc2V1ZG8udG9Mb3dlckNhc2UoKSBdIHx8XG5cdFx0XHRcdFx0XHRTaXp6bGUuZXJyb3IoIFwidW5zdXBwb3J0ZWQgcHNldWRvOiBcIiArIHBzZXVkbyApO1xuXHRcblx0XHRcdFx0Ly8gVGhlIHVzZXIgbWF5IHVzZSBjcmVhdGVQc2V1ZG8gdG8gaW5kaWNhdGUgdGhhdFxuXHRcdFx0XHQvLyBhcmd1bWVudHMgYXJlIG5lZWRlZCB0byBjcmVhdGUgdGhlIGZpbHRlciBmdW5jdGlvblxuXHRcdFx0XHQvLyBqdXN0IGFzIFNpenpsZSBkb2VzXG5cdFx0XHRcdGlmICggZm5bIGV4cGFuZG8gXSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZm4oIGFyZ3VtZW50ICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIEJ1dCBtYWludGFpbiBzdXBwb3J0IGZvciBvbGQgc2lnbmF0dXJlc1xuXHRcdFx0XHRpZiAoIGZuLmxlbmd0aCA+IDEgKSB7XG5cdFx0XHRcdFx0YXJncyA9IFsgcHNldWRvLCBwc2V1ZG8sIFwiXCIsIGFyZ3VtZW50IF07XG5cdFx0XHRcdFx0cmV0dXJuIEV4cHIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eSggcHNldWRvLnRvTG93ZXJDYXNlKCkgKSA/XG5cdFx0XHRcdFx0XHRtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMgKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBpZHgsXG5cdFx0XHRcdFx0XHRcdFx0bWF0Y2hlZCA9IGZuKCBzZWVkLCBhcmd1bWVudCApLFxuXHRcdFx0XHRcdFx0XHRcdGkgPSBtYXRjaGVkLmxlbmd0aDtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWR4ID0gaW5kZXhPZiggc2VlZCwgbWF0Y2hlZFtpXSApO1xuXHRcdFx0XHRcdFx0XHRcdHNlZWRbIGlkeCBdID0gISggbWF0Y2hlc1sgaWR4IF0gPSBtYXRjaGVkW2ldICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pIDpcblx0XHRcdFx0XHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZm4oIGVsZW0sIDAsIGFyZ3MgKTtcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHJldHVybiBmbjtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRwc2V1ZG9zOiB7XG5cdFx0XHQvLyBQb3RlbnRpYWxseSBjb21wbGV4IHBzZXVkb3Ncblx0XHRcdFwibm90XCI6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHRcdC8vIFRyaW0gdGhlIHNlbGVjdG9yIHBhc3NlZCB0byBjb21waWxlXG5cdFx0XHRcdC8vIHRvIGF2b2lkIHRyZWF0aW5nIGxlYWRpbmcgYW5kIHRyYWlsaW5nXG5cdFx0XHRcdC8vIHNwYWNlcyBhcyBjb21iaW5hdG9yc1xuXHRcdFx0XHR2YXIgaW5wdXQgPSBbXSxcblx0XHRcdFx0XHRyZXN1bHRzID0gW10sXG5cdFx0XHRcdFx0bWF0Y2hlciA9IGNvbXBpbGUoIHNlbGVjdG9yLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSApO1xuXHRcblx0XHRcdFx0cmV0dXJuIG1hdGNoZXJbIGV4cGFuZG8gXSA/XG5cdFx0XHRcdFx0bWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHRcdFx0XHR2YXIgZWxlbSxcblx0XHRcdFx0XHRcdFx0dW5tYXRjaGVkID0gbWF0Y2hlciggc2VlZCwgbnVsbCwgeG1sLCBbXSApLFxuXHRcdFx0XHRcdFx0XHRpID0gc2VlZC5sZW5ndGg7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gTWF0Y2ggZWxlbWVudHMgdW5tYXRjaGVkIGJ5IGBtYXRjaGVyYFxuXHRcdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggKGVsZW0gPSB1bm1hdGNoZWRbaV0pICkge1xuXHRcdFx0XHRcdFx0XHRcdHNlZWRbaV0gPSAhKG1hdGNoZXNbaV0gPSBlbGVtKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pIDpcblx0XHRcdFx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdFx0aW5wdXRbMF0gPSBlbGVtO1xuXHRcdFx0XHRcdFx0bWF0Y2hlciggaW5wdXQsIG51bGwsIHhtbCwgcmVzdWx0cyApO1xuXHRcdFx0XHRcdFx0Ly8gRG9uJ3Qga2VlcCB0aGUgZWxlbWVudCAoaXNzdWUgIzI5OSlcblx0XHRcdFx0XHRcdGlucHV0WzBdID0gbnVsbDtcblx0XHRcdFx0XHRcdHJldHVybiAhcmVzdWx0cy5wb3AoKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0fSksXG5cdFxuXHRcdFx0XCJoYXNcIjogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHJldHVybiBTaXp6bGUoIHNlbGVjdG9yLCBlbGVtICkubGVuZ3RoID4gMDtcblx0XHRcdFx0fTtcblx0XHRcdH0pLFxuXHRcblx0XHRcdFwiY29udGFpbnNcIjogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRcdFx0XHR0ZXh0ID0gdGV4dC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuICggZWxlbS50ZXh0Q29udGVudCB8fCBlbGVtLmlubmVyVGV4dCB8fCBnZXRUZXh0KCBlbGVtICkgKS5pbmRleE9mKCB0ZXh0ICkgPiAtMTtcblx0XHRcdFx0fTtcblx0XHRcdH0pLFxuXHRcblx0XHRcdC8vIFwiV2hldGhlciBhbiBlbGVtZW50IGlzIHJlcHJlc2VudGVkIGJ5IGEgOmxhbmcoKSBzZWxlY3RvclxuXHRcdFx0Ly8gaXMgYmFzZWQgc29sZWx5IG9uIHRoZSBlbGVtZW50J3MgbGFuZ3VhZ2UgdmFsdWVcblx0XHRcdC8vIGJlaW5nIGVxdWFsIHRvIHRoZSBpZGVudGlmaWVyIEMsXG5cdFx0XHQvLyBvciBiZWdpbm5pbmcgd2l0aCB0aGUgaWRlbnRpZmllciBDIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IFwiLVwiLlxuXHRcdFx0Ly8gVGhlIG1hdGNoaW5nIG9mIEMgYWdhaW5zdCB0aGUgZWxlbWVudCdzIGxhbmd1YWdlIHZhbHVlIGlzIHBlcmZvcm1lZCBjYXNlLWluc2Vuc2l0aXZlbHkuXG5cdFx0XHQvLyBUaGUgaWRlbnRpZmllciBDIGRvZXMgbm90IGhhdmUgdG8gYmUgYSB2YWxpZCBsYW5ndWFnZSBuYW1lLlwiXG5cdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2xhbmctcHNldWRvXG5cdFx0XHRcImxhbmdcIjogbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggbGFuZyApIHtcblx0XHRcdFx0Ly8gbGFuZyB2YWx1ZSBtdXN0IGJlIGEgdmFsaWQgaWRlbnRpZmllclxuXHRcdFx0XHRpZiAoICFyaWRlbnRpZmllci50ZXN0KGxhbmcgfHwgXCJcIikgKSB7XG5cdFx0XHRcdFx0U2l6emxlLmVycm9yKCBcInVuc3VwcG9ydGVkIGxhbmc6IFwiICsgbGFuZyApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxhbmcgPSBsYW5nLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHZhciBlbGVtTGFuZztcblx0XHRcdFx0XHRkbyB7XG5cdFx0XHRcdFx0XHRpZiAoIChlbGVtTGFuZyA9IGRvY3VtZW50SXNIVE1MID9cblx0XHRcdFx0XHRcdFx0ZWxlbS5sYW5nIDpcblx0XHRcdFx0XHRcdFx0ZWxlbS5nZXRBdHRyaWJ1dGUoXCJ4bWw6bGFuZ1wiKSB8fCBlbGVtLmdldEF0dHJpYnV0ZShcImxhbmdcIikpICkge1xuXHRcblx0XHRcdFx0XHRcdFx0ZWxlbUxhbmcgPSBlbGVtTGFuZy50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZWxlbUxhbmcgPT09IGxhbmcgfHwgZWxlbUxhbmcuaW5kZXhPZiggbGFuZyArIFwiLVwiICkgPT09IDA7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSB3aGlsZSAoIChlbGVtID0gZWxlbS5wYXJlbnROb2RlKSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9O1xuXHRcdFx0fSksXG5cdFxuXHRcdFx0Ly8gTWlzY2VsbGFuZW91c1xuXHRcdFx0XCJ0YXJnZXRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uICYmIHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuXHRcdFx0XHRyZXR1cm4gaGFzaCAmJiBoYXNoLnNsaWNlKCAxICkgPT09IGVsZW0uaWQ7XG5cdFx0XHR9LFxuXHRcblx0XHRcdFwicm9vdFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIGVsZW0gPT09IGRvY0VsZW07XG5cdFx0XHR9LFxuXHRcblx0XHRcdFwiZm9jdXNcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmICghZG9jdW1lbnQuaGFzRm9jdXMgfHwgZG9jdW1lbnQuaGFzRm9jdXMoKSkgJiYgISEoZWxlbS50eXBlIHx8IGVsZW0uaHJlZiB8fCB+ZWxlbS50YWJJbmRleCk7XG5cdFx0XHR9LFxuXHRcblx0XHRcdC8vIEJvb2xlYW4gcHJvcGVydGllc1xuXHRcdFx0XCJlbmFibGVkXCI6IGNyZWF0ZURpc2FibGVkUHNldWRvKCBmYWxzZSApLFxuXHRcdFx0XCJkaXNhYmxlZFwiOiBjcmVhdGVEaXNhYmxlZFBzZXVkbyggdHJ1ZSApLFxuXHRcblx0XHRcdFwiY2hlY2tlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0Ly8gSW4gQ1NTMywgOmNoZWNrZWQgc2hvdWxkIHJldHVybiBib3RoIGNoZWNrZWQgYW5kIHNlbGVjdGVkIGVsZW1lbnRzXG5cdFx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXG5cdFx0XHRcdHZhciBub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0cmV0dXJuIChub2RlTmFtZSA9PT0gXCJpbnB1dFwiICYmICEhZWxlbS5jaGVja2VkKSB8fCAobm9kZU5hbWUgPT09IFwib3B0aW9uXCIgJiYgISFlbGVtLnNlbGVjdGVkKTtcblx0XHRcdH0sXG5cdFxuXHRcdFx0XCJzZWxlY3RlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0Ly8gQWNjZXNzaW5nIHRoaXMgcHJvcGVydHkgbWFrZXMgc2VsZWN0ZWQtYnktZGVmYXVsdFxuXHRcdFx0XHQvLyBvcHRpb25zIGluIFNhZmFyaSB3b3JrIHByb3Blcmx5XG5cdFx0XHRcdGlmICggZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRcdGVsZW0ucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRyZXR1cm4gZWxlbS5zZWxlY3RlZCA9PT0gdHJ1ZTtcblx0XHRcdH0sXG5cdFxuXHRcdFx0Ly8gQ29udGVudHNcblx0XHRcdFwiZW1wdHlcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jZW1wdHktcHNldWRvXG5cdFx0XHRcdC8vIDplbXB0eSBpcyBuZWdhdGVkIGJ5IGVsZW1lbnQgKDEpIG9yIGNvbnRlbnQgbm9kZXMgKHRleHQ6IDM7IGNkYXRhOiA0OyBlbnRpdHkgcmVmOiA1KSxcblx0XHRcdFx0Ly8gICBidXQgbm90IGJ5IG90aGVycyAoY29tbWVudDogODsgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbjogNzsgZXRjLilcblx0XHRcdFx0Ly8gbm9kZVR5cGUgPCA2IHdvcmtzIGJlY2F1c2UgYXR0cmlidXRlcyAoMikgZG8gbm90IGFwcGVhciBhcyBjaGlsZHJlblxuXHRcdFx0XHRmb3IgKCBlbGVtID0gZWxlbS5maXJzdENoaWxkOyBlbGVtOyBlbGVtID0gZWxlbS5uZXh0U2libGluZyApIHtcblx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPCA2ICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH0sXG5cdFxuXHRcdFx0XCJwYXJlbnRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiAhRXhwci5wc2V1ZG9zW1wiZW1wdHlcIl0oIGVsZW0gKTtcblx0XHRcdH0sXG5cdFxuXHRcdFx0Ly8gRWxlbWVudC9pbnB1dCB0eXBlc1xuXHRcdFx0XCJoZWFkZXJcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiByaGVhZGVyLnRlc3QoIGVsZW0ubm9kZU5hbWUgKTtcblx0XHRcdH0sXG5cdFxuXHRcdFx0XCJpbnB1dFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIHJpbnB1dHMudGVzdCggZWxlbS5ub2RlTmFtZSApO1xuXHRcdFx0fSxcblx0XG5cdFx0XHRcImJ1dHRvblwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdHJldHVybiBuYW1lID09PSBcImlucHV0XCIgJiYgZWxlbS50eXBlID09PSBcImJ1dHRvblwiIHx8IG5hbWUgPT09IFwiYnV0dG9uXCI7XG5cdFx0XHR9LFxuXHRcblx0XHRcdFwidGV4dFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIGF0dHI7XG5cdFx0XHRcdHJldHVybiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiaW5wdXRcIiAmJlxuXHRcdFx0XHRcdGVsZW0udHlwZSA9PT0gXCJ0ZXh0XCIgJiZcblx0XG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUU8OFxuXHRcdFx0XHRcdC8vIE5ldyBIVE1MNSBhdHRyaWJ1dGUgdmFsdWVzIChlLmcuLCBcInNlYXJjaFwiKSBhcHBlYXIgd2l0aCBlbGVtLnR5cGUgPT09IFwidGV4dFwiXG5cdFx0XHRcdFx0KCAoYXR0ciA9IGVsZW0uZ2V0QXR0cmlidXRlKFwidHlwZVwiKSkgPT0gbnVsbCB8fCBhdHRyLnRvTG93ZXJDYXNlKCkgPT09IFwidGV4dFwiICk7XG5cdFx0XHR9LFxuXHRcblx0XHRcdC8vIFBvc2l0aW9uLWluLWNvbGxlY3Rpb25cblx0XHRcdFwiZmlyc3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIFsgMCBdO1xuXHRcdFx0fSksXG5cdFxuXHRcdFx0XCJsYXN0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuXHRcdFx0XHRyZXR1cm4gWyBsZW5ndGggLSAxIF07XG5cdFx0XHR9KSxcblx0XG5cdFx0XHRcImVxXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcblx0XHRcdFx0cmV0dXJuIFsgYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudCBdO1xuXHRcdFx0fSksXG5cdFxuXHRcdFx0XCJldmVuXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuXHRcdFx0XHR2YXIgaSA9IDA7XG5cdFx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkge1xuXHRcdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHRcdH0pLFxuXHRcblx0XHRcdFwib2RkXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuXHRcdFx0XHR2YXIgaSA9IDE7XG5cdFx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkge1xuXHRcdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHRcdH0pLFxuXHRcblx0XHRcdFwibHRcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0XHR2YXIgaSA9IGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQ7XG5cdFx0XHRcdGZvciAoIDsgLS1pID49IDA7ICkge1xuXHRcdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHRcdH0pLFxuXHRcblx0XHRcdFwiZ3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0XHR2YXIgaSA9IGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQ7XG5cdFx0XHRcdGZvciAoIDsgKytpIDwgbGVuZ3RoOyApIHtcblx0XHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0XHR9KVxuXHRcdH1cblx0fTtcblx0XG5cdEV4cHIucHNldWRvc1tcIm50aFwiXSA9IEV4cHIucHNldWRvc1tcImVxXCJdO1xuXHRcblx0Ly8gQWRkIGJ1dHRvbi9pbnB1dCB0eXBlIHBzZXVkb3Ncblx0Zm9yICggaSBpbiB7IHJhZGlvOiB0cnVlLCBjaGVja2JveDogdHJ1ZSwgZmlsZTogdHJ1ZSwgcGFzc3dvcmQ6IHRydWUsIGltYWdlOiB0cnVlIH0gKSB7XG5cdFx0RXhwci5wc2V1ZG9zWyBpIF0gPSBjcmVhdGVJbnB1dFBzZXVkbyggaSApO1xuXHR9XG5cdGZvciAoIGkgaW4geyBzdWJtaXQ6IHRydWUsIHJlc2V0OiB0cnVlIH0gKSB7XG5cdFx0RXhwci5wc2V1ZG9zWyBpIF0gPSBjcmVhdGVCdXR0b25Qc2V1ZG8oIGkgKTtcblx0fVxuXHRcblx0Ly8gRWFzeSBBUEkgZm9yIGNyZWF0aW5nIG5ldyBzZXRGaWx0ZXJzXG5cdGZ1bmN0aW9uIHNldEZpbHRlcnMoKSB7fVxuXHRzZXRGaWx0ZXJzLnByb3RvdHlwZSA9IEV4cHIuZmlsdGVycyA9IEV4cHIucHNldWRvcztcblx0RXhwci5zZXRGaWx0ZXJzID0gbmV3IHNldEZpbHRlcnMoKTtcblx0XG5cdHRva2VuaXplID0gU2l6emxlLnRva2VuaXplID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBwYXJzZU9ubHkgKSB7XG5cdFx0dmFyIG1hdGNoZWQsIG1hdGNoLCB0b2tlbnMsIHR5cGUsXG5cdFx0XHRzb0ZhciwgZ3JvdXBzLCBwcmVGaWx0ZXJzLFxuXHRcdFx0Y2FjaGVkID0gdG9rZW5DYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdO1xuXHRcblx0XHRpZiAoIGNhY2hlZCApIHtcblx0XHRcdHJldHVybiBwYXJzZU9ubHkgPyAwIDogY2FjaGVkLnNsaWNlKCAwICk7XG5cdFx0fVxuXHRcblx0XHRzb0ZhciA9IHNlbGVjdG9yO1xuXHRcdGdyb3VwcyA9IFtdO1xuXHRcdHByZUZpbHRlcnMgPSBFeHByLnByZUZpbHRlcjtcblx0XG5cdFx0d2hpbGUgKCBzb0ZhciApIHtcblx0XG5cdFx0XHQvLyBDb21tYSBhbmQgZmlyc3QgcnVuXG5cdFx0XHRpZiAoICFtYXRjaGVkIHx8IChtYXRjaCA9IHJjb21tYS5leGVjKCBzb0ZhciApKSApIHtcblx0XHRcdFx0aWYgKCBtYXRjaCApIHtcblx0XHRcdFx0XHQvLyBEb24ndCBjb25zdW1lIHRyYWlsaW5nIGNvbW1hcyBhcyB2YWxpZFxuXHRcdFx0XHRcdHNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoWzBdLmxlbmd0aCApIHx8IHNvRmFyO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGdyb3Vwcy5wdXNoKCAodG9rZW5zID0gW10pICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0bWF0Y2hlZCA9IGZhbHNlO1xuXHRcblx0XHRcdC8vIENvbWJpbmF0b3JzXG5cdFx0XHRpZiAoIChtYXRjaCA9IHJjb21iaW5hdG9ycy5leGVjKCBzb0ZhciApKSApIHtcblx0XHRcdFx0bWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7XG5cdFx0XHRcdHRva2Vucy5wdXNoKHtcblx0XHRcdFx0XHR2YWx1ZTogbWF0Y2hlZCxcblx0XHRcdFx0XHQvLyBDYXN0IGRlc2NlbmRhbnQgY29tYmluYXRvcnMgdG8gc3BhY2Vcblx0XHRcdFx0XHR0eXBlOiBtYXRjaFswXS5yZXBsYWNlKCBydHJpbSwgXCIgXCIgKVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0c29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hlZC5sZW5ndGggKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBGaWx0ZXJzXG5cdFx0XHRmb3IgKCB0eXBlIGluIEV4cHIuZmlsdGVyICkge1xuXHRcdFx0XHRpZiAoIChtYXRjaCA9IG1hdGNoRXhwclsgdHlwZSBdLmV4ZWMoIHNvRmFyICkpICYmICghcHJlRmlsdGVyc1sgdHlwZSBdIHx8XG5cdFx0XHRcdFx0KG1hdGNoID0gcHJlRmlsdGVyc1sgdHlwZSBdKCBtYXRjaCApKSkgKSB7XG5cdFx0XHRcdFx0bWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7XG5cdFx0XHRcdFx0dG9rZW5zLnB1c2goe1xuXHRcdFx0XHRcdFx0dmFsdWU6IG1hdGNoZWQsXG5cdFx0XHRcdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0XHRcdFx0bWF0Y2hlczogbWF0Y2hcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCAhbWF0Y2hlZCApIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHQvLyBSZXR1cm4gdGhlIGxlbmd0aCBvZiB0aGUgaW52YWxpZCBleGNlc3Ncblx0XHQvLyBpZiB3ZSdyZSBqdXN0IHBhcnNpbmdcblx0XHQvLyBPdGhlcndpc2UsIHRocm93IGFuIGVycm9yIG9yIHJldHVybiB0b2tlbnNcblx0XHRyZXR1cm4gcGFyc2VPbmx5ID9cblx0XHRcdHNvRmFyLmxlbmd0aCA6XG5cdFx0XHRzb0ZhciA/XG5cdFx0XHRcdFNpenpsZS5lcnJvciggc2VsZWN0b3IgKSA6XG5cdFx0XHRcdC8vIENhY2hlIHRoZSB0b2tlbnNcblx0XHRcdFx0dG9rZW5DYWNoZSggc2VsZWN0b3IsIGdyb3VwcyApLnNsaWNlKCAwICk7XG5cdH07XG5cdFxuXHRmdW5jdGlvbiB0b1NlbGVjdG9yKCB0b2tlbnMgKSB7XG5cdFx0dmFyIGkgPSAwLFxuXHRcdFx0bGVuID0gdG9rZW5zLmxlbmd0aCxcblx0XHRcdHNlbGVjdG9yID0gXCJcIjtcblx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdHNlbGVjdG9yICs9IHRva2Vuc1tpXS52YWx1ZTtcblx0XHR9XG5cdFx0cmV0dXJuIHNlbGVjdG9yO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhZGRDb21iaW5hdG9yKCBtYXRjaGVyLCBjb21iaW5hdG9yLCBiYXNlICkge1xuXHRcdHZhciBkaXIgPSBjb21iaW5hdG9yLmRpcixcblx0XHRcdHNraXAgPSBjb21iaW5hdG9yLm5leHQsXG5cdFx0XHRrZXkgPSBza2lwIHx8IGRpcixcblx0XHRcdGNoZWNrTm9uRWxlbWVudHMgPSBiYXNlICYmIGtleSA9PT0gXCJwYXJlbnROb2RlXCIsXG5cdFx0XHRkb25lTmFtZSA9IGRvbmUrKztcblx0XG5cdFx0cmV0dXJuIGNvbWJpbmF0b3IuZmlyc3QgP1xuXHRcdFx0Ly8gQ2hlY2sgYWdhaW5zdCBjbG9zZXN0IGFuY2VzdG9yL3ByZWNlZGluZyBlbGVtZW50XG5cdFx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHR3aGlsZSAoIChlbGVtID0gZWxlbVsgZGlyIF0pICkge1xuXHRcdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSA6XG5cdFxuXHRcdFx0Ly8gQ2hlY2sgYWdhaW5zdCBhbGwgYW5jZXN0b3IvcHJlY2VkaW5nIGVsZW1lbnRzXG5cdFx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHR2YXIgb2xkQ2FjaGUsIHVuaXF1ZUNhY2hlLCBvdXRlckNhY2hlLFxuXHRcdFx0XHRcdG5ld0NhY2hlID0gWyBkaXJydW5zLCBkb25lTmFtZSBdO1xuXHRcblx0XHRcdFx0Ly8gV2UgY2FuJ3Qgc2V0IGFyYml0cmFyeSBkYXRhIG9uIFhNTCBub2Rlcywgc28gdGhleSBkb24ndCBiZW5lZml0IGZyb20gY29tYmluYXRvciBjYWNoaW5nXG5cdFx0XHRcdGlmICggeG1sICkge1xuXHRcdFx0XHRcdHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR3aGlsZSAoIChlbGVtID0gZWxlbVsgZGlyIF0pICkge1xuXHRcdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBlbGVtWyBleHBhbmRvIF0gfHwgKGVsZW1bIGV4cGFuZG8gXSA9IHt9KTtcblx0XG5cdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgZWxlbS51bmlxdWVJRCBdIHx8IChvdXRlckNhY2hlWyBlbGVtLnVuaXF1ZUlEIF0gPSB7fSk7XG5cdFxuXHRcdFx0XHRcdFx0XHRpZiAoIHNraXAgJiYgc2tpcCA9PT0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICkge1xuXHRcdFx0XHRcdFx0XHRcdGVsZW0gPSBlbGVtWyBkaXIgXSB8fCBlbGVtO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCAob2xkQ2FjaGUgPSB1bmlxdWVDYWNoZVsga2V5IF0pICYmXG5cdFx0XHRcdFx0XHRcdFx0b2xkQ2FjaGVbIDAgXSA9PT0gZGlycnVucyAmJiBvbGRDYWNoZVsgMSBdID09PSBkb25lTmFtZSApIHtcblx0XG5cdFx0XHRcdFx0XHRcdFx0Ly8gQXNzaWduIHRvIG5ld0NhY2hlIHNvIHJlc3VsdHMgYmFjay1wcm9wYWdhdGUgdG8gcHJldmlvdXMgZWxlbWVudHNcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKG5ld0NhY2hlWyAyIF0gPSBvbGRDYWNoZVsgMiBdKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBSZXVzZSBuZXdjYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzXG5cdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGVbIGtleSBdID0gbmV3Q2FjaGU7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdC8vIEEgbWF0Y2ggbWVhbnMgd2UncmUgZG9uZTsgYSBmYWlsIG1lYW5zIHdlIGhhdmUgdG8ga2VlcCBjaGVja2luZ1xuXHRcdFx0XHRcdFx0XHRcdGlmICggKG5ld0NhY2hlWyAyIF0gPSBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApIHtcblx0XHRyZXR1cm4gbWF0Y2hlcnMubGVuZ3RoID4gMSA/XG5cdFx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHR2YXIgaSA9IG1hdGNoZXJzLmxlbmd0aDtcblx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0aWYgKCAhbWF0Y2hlcnNbaV0oIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH0gOlxuXHRcdFx0bWF0Y2hlcnNbMF07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG11bHRpcGxlQ29udGV4dHMoIHNlbGVjdG9yLCBjb250ZXh0cywgcmVzdWx0cyApIHtcblx0XHR2YXIgaSA9IDAsXG5cdFx0XHRsZW4gPSBjb250ZXh0cy5sZW5ndGg7XG5cdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRTaXp6bGUoIHNlbGVjdG9yLCBjb250ZXh0c1tpXSwgcmVzdWx0cyApO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0cztcblx0fVxuXHRcblx0ZnVuY3Rpb24gY29uZGVuc2UoIHVubWF0Y2hlZCwgbWFwLCBmaWx0ZXIsIGNvbnRleHQsIHhtbCApIHtcblx0XHR2YXIgZWxlbSxcblx0XHRcdG5ld1VubWF0Y2hlZCA9IFtdLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRsZW4gPSB1bm1hdGNoZWQubGVuZ3RoLFxuXHRcdFx0bWFwcGVkID0gbWFwICE9IG51bGw7XG5cdFxuXHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0aWYgKCAoZWxlbSA9IHVubWF0Y2hlZFtpXSkgKSB7XG5cdFx0XHRcdGlmICggIWZpbHRlciB8fCBmaWx0ZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuXHRcdFx0XHRcdG5ld1VubWF0Y2hlZC5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0aWYgKCBtYXBwZWQgKSB7XG5cdFx0XHRcdFx0XHRtYXAucHVzaCggaSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0cmV0dXJuIG5ld1VubWF0Y2hlZDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc2V0TWF0Y2hlciggcHJlRmlsdGVyLCBzZWxlY3RvciwgbWF0Y2hlciwgcG9zdEZpbHRlciwgcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yICkge1xuXHRcdGlmICggcG9zdEZpbHRlciAmJiAhcG9zdEZpbHRlclsgZXhwYW5kbyBdICkge1xuXHRcdFx0cG9zdEZpbHRlciA9IHNldE1hdGNoZXIoIHBvc3RGaWx0ZXIgKTtcblx0XHR9XG5cdFx0aWYgKCBwb3N0RmluZGVyICYmICFwb3N0RmluZGVyWyBleHBhbmRvIF0gKSB7XG5cdFx0XHRwb3N0RmluZGVyID0gc2V0TWF0Y2hlciggcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yICk7XG5cdFx0fVxuXHRcdHJldHVybiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlZWQsIHJlc3VsdHMsIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHZhciB0ZW1wLCBpLCBlbGVtLFxuXHRcdFx0XHRwcmVNYXAgPSBbXSxcblx0XHRcdFx0cG9zdE1hcCA9IFtdLFxuXHRcdFx0XHRwcmVleGlzdGluZyA9IHJlc3VsdHMubGVuZ3RoLFxuXHRcblx0XHRcdFx0Ly8gR2V0IGluaXRpYWwgZWxlbWVudHMgZnJvbSBzZWVkIG9yIGNvbnRleHRcblx0XHRcdFx0ZWxlbXMgPSBzZWVkIHx8IG11bHRpcGxlQ29udGV4dHMoIHNlbGVjdG9yIHx8IFwiKlwiLCBjb250ZXh0Lm5vZGVUeXBlID8gWyBjb250ZXh0IF0gOiBjb250ZXh0LCBbXSApLFxuXHRcblx0XHRcdFx0Ly8gUHJlZmlsdGVyIHRvIGdldCBtYXRjaGVyIGlucHV0LCBwcmVzZXJ2aW5nIGEgbWFwIGZvciBzZWVkLXJlc3VsdHMgc3luY2hyb25pemF0aW9uXG5cdFx0XHRcdG1hdGNoZXJJbiA9IHByZUZpbHRlciAmJiAoIHNlZWQgfHwgIXNlbGVjdG9yICkgP1xuXHRcdFx0XHRcdGNvbmRlbnNlKCBlbGVtcywgcHJlTWFwLCBwcmVGaWx0ZXIsIGNvbnRleHQsIHhtbCApIDpcblx0XHRcdFx0XHRlbGVtcyxcblx0XG5cdFx0XHRcdG1hdGNoZXJPdXQgPSBtYXRjaGVyID9cblx0XHRcdFx0XHQvLyBJZiB3ZSBoYXZlIGEgcG9zdEZpbmRlciwgb3IgZmlsdGVyZWQgc2VlZCwgb3Igbm9uLXNlZWQgcG9zdEZpbHRlciBvciBwcmVleGlzdGluZyByZXN1bHRzLFxuXHRcdFx0XHRcdHBvc3RGaW5kZXIgfHwgKCBzZWVkID8gcHJlRmlsdGVyIDogcHJlZXhpc3RpbmcgfHwgcG9zdEZpbHRlciApID9cblx0XG5cdFx0XHRcdFx0XHQvLyAuLi5pbnRlcm1lZGlhdGUgcHJvY2Vzc2luZyBpcyBuZWNlc3Nhcnlcblx0XHRcdFx0XHRcdFtdIDpcblx0XG5cdFx0XHRcdFx0XHQvLyAuLi5vdGhlcndpc2UgdXNlIHJlc3VsdHMgZGlyZWN0bHlcblx0XHRcdFx0XHRcdHJlc3VsdHMgOlxuXHRcdFx0XHRcdG1hdGNoZXJJbjtcblx0XG5cdFx0XHQvLyBGaW5kIHByaW1hcnkgbWF0Y2hlc1xuXHRcdFx0aWYgKCBtYXRjaGVyICkge1xuXHRcdFx0XHRtYXRjaGVyKCBtYXRjaGVySW4sIG1hdGNoZXJPdXQsIGNvbnRleHQsIHhtbCApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEFwcGx5IHBvc3RGaWx0ZXJcblx0XHRcdGlmICggcG9zdEZpbHRlciApIHtcblx0XHRcdFx0dGVtcCA9IGNvbmRlbnNlKCBtYXRjaGVyT3V0LCBwb3N0TWFwICk7XG5cdFx0XHRcdHBvc3RGaWx0ZXIoIHRlbXAsIFtdLCBjb250ZXh0LCB4bWwgKTtcblx0XG5cdFx0XHRcdC8vIFVuLW1hdGNoIGZhaWxpbmcgZWxlbWVudHMgYnkgbW92aW5nIHRoZW0gYmFjayB0byBtYXRjaGVySW5cblx0XHRcdFx0aSA9IHRlbXAubGVuZ3RoO1xuXHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRpZiAoIChlbGVtID0gdGVtcFtpXSkgKSB7XG5cdFx0XHRcdFx0XHRtYXRjaGVyT3V0WyBwb3N0TWFwW2ldIF0gPSAhKG1hdGNoZXJJblsgcG9zdE1hcFtpXSBdID0gZWxlbSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0XHRpZiAoIHBvc3RGaW5kZXIgfHwgcHJlRmlsdGVyICkge1xuXHRcdFx0XHRcdGlmICggcG9zdEZpbmRlciApIHtcblx0XHRcdFx0XHRcdC8vIEdldCB0aGUgZmluYWwgbWF0Y2hlck91dCBieSBjb25kZW5zaW5nIHRoaXMgaW50ZXJtZWRpYXRlIGludG8gcG9zdEZpbmRlciBjb250ZXh0c1xuXHRcdFx0XHRcdFx0dGVtcCA9IFtdO1xuXHRcdFx0XHRcdFx0aSA9IG1hdGNoZXJPdXQubGVuZ3RoO1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggKGVsZW0gPSBtYXRjaGVyT3V0W2ldKSApIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBSZXN0b3JlIG1hdGNoZXJJbiBzaW5jZSBlbGVtIGlzIG5vdCB5ZXQgYSBmaW5hbCBtYXRjaFxuXHRcdFx0XHRcdFx0XHRcdHRlbXAucHVzaCggKG1hdGNoZXJJbltpXSA9IGVsZW0pICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHBvc3RGaW5kZXIoIG51bGwsIChtYXRjaGVyT3V0ID0gW10pLCB0ZW1wLCB4bWwgKTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIE1vdmUgbWF0Y2hlZCBlbGVtZW50cyBmcm9tIHNlZWQgdG8gcmVzdWx0cyB0byBrZWVwIHRoZW0gc3luY2hyb25pemVkXG5cdFx0XHRcdFx0aSA9IG1hdGNoZXJPdXQubGVuZ3RoO1xuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoZWxlbSA9IG1hdGNoZXJPdXRbaV0pICYmXG5cdFx0XHRcdFx0XHRcdCh0ZW1wID0gcG9zdEZpbmRlciA/IGluZGV4T2YoIHNlZWQsIGVsZW0gKSA6IHByZU1hcFtpXSkgPiAtMSApIHtcblx0XG5cdFx0XHRcdFx0XHRcdHNlZWRbdGVtcF0gPSAhKHJlc3VsdHNbdGVtcF0gPSBlbGVtKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XG5cdFx0XHQvLyBBZGQgZWxlbWVudHMgdG8gcmVzdWx0cywgdGhyb3VnaCBwb3N0RmluZGVyIGlmIGRlZmluZWRcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG1hdGNoZXJPdXQgPSBjb25kZW5zZShcblx0XHRcdFx0XHRtYXRjaGVyT3V0ID09PSByZXN1bHRzID9cblx0XHRcdFx0XHRcdG1hdGNoZXJPdXQuc3BsaWNlKCBwcmVleGlzdGluZywgbWF0Y2hlck91dC5sZW5ndGggKSA6XG5cdFx0XHRcdFx0XHRtYXRjaGVyT3V0XG5cdFx0XHRcdCk7XG5cdFx0XHRcdGlmICggcG9zdEZpbmRlciApIHtcblx0XHRcdFx0XHRwb3N0RmluZGVyKCBudWxsLCByZXN1bHRzLCBtYXRjaGVyT3V0LCB4bWwgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBtYXRjaGVyT3V0ICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWF0Y2hlckZyb21Ub2tlbnMoIHRva2VucyApIHtcblx0XHR2YXIgY2hlY2tDb250ZXh0LCBtYXRjaGVyLCBqLFxuXHRcdFx0bGVuID0gdG9rZW5zLmxlbmd0aCxcblx0XHRcdGxlYWRpbmdSZWxhdGl2ZSA9IEV4cHIucmVsYXRpdmVbIHRva2Vuc1swXS50eXBlIF0sXG5cdFx0XHRpbXBsaWNpdFJlbGF0aXZlID0gbGVhZGluZ1JlbGF0aXZlIHx8IEV4cHIucmVsYXRpdmVbXCIgXCJdLFxuXHRcdFx0aSA9IGxlYWRpbmdSZWxhdGl2ZSA/IDEgOiAwLFxuXHRcblx0XHRcdC8vIFRoZSBmb3VuZGF0aW9uYWwgbWF0Y2hlciBlbnN1cmVzIHRoYXQgZWxlbWVudHMgYXJlIHJlYWNoYWJsZSBmcm9tIHRvcC1sZXZlbCBjb250ZXh0KHMpXG5cdFx0XHRtYXRjaENvbnRleHQgPSBhZGRDb21iaW5hdG9yKCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIGVsZW0gPT09IGNoZWNrQ29udGV4dDtcblx0XHRcdH0sIGltcGxpY2l0UmVsYXRpdmUsIHRydWUgKSxcblx0XHRcdG1hdGNoQW55Q29udGV4dCA9IGFkZENvbWJpbmF0b3IoIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gaW5kZXhPZiggY2hlY2tDb250ZXh0LCBlbGVtICkgPiAtMTtcblx0XHRcdH0sIGltcGxpY2l0UmVsYXRpdmUsIHRydWUgKSxcblx0XHRcdG1hdGNoZXJzID0gWyBmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHR2YXIgcmV0ID0gKCAhbGVhZGluZ1JlbGF0aXZlICYmICggeG1sIHx8IGNvbnRleHQgIT09IG91dGVybW9zdENvbnRleHQgKSApIHx8IChcblx0XHRcdFx0XHQoY2hlY2tDb250ZXh0ID0gY29udGV4dCkubm9kZVR5cGUgP1xuXHRcdFx0XHRcdFx0bWF0Y2hDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSA6XG5cdFx0XHRcdFx0XHRtYXRjaEFueUNvbnRleHQoIGVsZW0sIGNvbnRleHQsIHhtbCApICk7XG5cdFx0XHRcdC8vIEF2b2lkIGhhbmdpbmcgb250byBlbGVtZW50IChpc3N1ZSAjMjk5KVxuXHRcdFx0XHRjaGVja0NvbnRleHQgPSBudWxsO1xuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fSBdO1xuXHRcblx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdGlmICggKG1hdGNoZXIgPSBFeHByLnJlbGF0aXZlWyB0b2tlbnNbaV0udHlwZSBdKSApIHtcblx0XHRcdFx0bWF0Y2hlcnMgPSBbIGFkZENvbWJpbmF0b3IoZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICksIG1hdGNoZXIpIF07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRtYXRjaGVyID0gRXhwci5maWx0ZXJbIHRva2Vuc1tpXS50eXBlIF0uYXBwbHkoIG51bGwsIHRva2Vuc1tpXS5tYXRjaGVzICk7XG5cdFxuXHRcdFx0XHQvLyBSZXR1cm4gc3BlY2lhbCB1cG9uIHNlZWluZyBhIHBvc2l0aW9uYWwgbWF0Y2hlclxuXHRcdFx0XHRpZiAoIG1hdGNoZXJbIGV4cGFuZG8gXSApIHtcblx0XHRcdFx0XHQvLyBGaW5kIHRoZSBuZXh0IHJlbGF0aXZlIG9wZXJhdG9yIChpZiBhbnkpIGZvciBwcm9wZXIgaGFuZGxpbmdcblx0XHRcdFx0XHRqID0gKytpO1xuXHRcdFx0XHRcdGZvciAoIDsgaiA8IGxlbjsgaisrICkge1xuXHRcdFx0XHRcdFx0aWYgKCBFeHByLnJlbGF0aXZlWyB0b2tlbnNbal0udHlwZSBdICkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHNldE1hdGNoZXIoXG5cdFx0XHRcdFx0XHRpID4gMSAmJiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSxcblx0XHRcdFx0XHRcdGkgPiAxICYmIHRvU2VsZWN0b3IoXG5cdFx0XHRcdFx0XHRcdC8vIElmIHRoZSBwcmVjZWRpbmcgdG9rZW4gd2FzIGEgZGVzY2VuZGFudCBjb21iaW5hdG9yLCBpbnNlcnQgYW4gaW1wbGljaXQgYW55LWVsZW1lbnQgYCpgXG5cdFx0XHRcdFx0XHRcdHRva2Vucy5zbGljZSggMCwgaSAtIDEgKS5jb25jYXQoeyB2YWx1ZTogdG9rZW5zWyBpIC0gMiBdLnR5cGUgPT09IFwiIFwiID8gXCIqXCIgOiBcIlwiIH0pXG5cdFx0XHRcdFx0XHQpLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSxcblx0XHRcdFx0XHRcdG1hdGNoZXIsXG5cdFx0XHRcdFx0XHRpIDwgaiAmJiBtYXRjaGVyRnJvbVRva2VucyggdG9rZW5zLnNsaWNlKCBpLCBqICkgKSxcblx0XHRcdFx0XHRcdGogPCBsZW4gJiYgbWF0Y2hlckZyb21Ub2tlbnMoICh0b2tlbnMgPSB0b2tlbnMuc2xpY2UoIGogKSkgKSxcblx0XHRcdFx0XHRcdGogPCBsZW4gJiYgdG9TZWxlY3RvciggdG9rZW5zIClcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG1hdGNoZXJzLnB1c2goIG1hdGNoZXIgKTtcblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdHJldHVybiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWF0Y2hlckZyb21Hcm91cE1hdGNoZXJzKCBlbGVtZW50TWF0Y2hlcnMsIHNldE1hdGNoZXJzICkge1xuXHRcdHZhciBieVNldCA9IHNldE1hdGNoZXJzLmxlbmd0aCA+IDAsXG5cdFx0XHRieUVsZW1lbnQgPSBlbGVtZW50TWF0Y2hlcnMubGVuZ3RoID4gMCxcblx0XHRcdHN1cGVyTWF0Y2hlciA9IGZ1bmN0aW9uKCBzZWVkLCBjb250ZXh0LCB4bWwsIHJlc3VsdHMsIG91dGVybW9zdCApIHtcblx0XHRcdFx0dmFyIGVsZW0sIGosIG1hdGNoZXIsXG5cdFx0XHRcdFx0bWF0Y2hlZENvdW50ID0gMCxcblx0XHRcdFx0XHRpID0gXCIwXCIsXG5cdFx0XHRcdFx0dW5tYXRjaGVkID0gc2VlZCAmJiBbXSxcblx0XHRcdFx0XHRzZXRNYXRjaGVkID0gW10sXG5cdFx0XHRcdFx0Y29udGV4dEJhY2t1cCA9IG91dGVybW9zdENvbnRleHQsXG5cdFx0XHRcdFx0Ly8gV2UgbXVzdCBhbHdheXMgaGF2ZSBlaXRoZXIgc2VlZCBlbGVtZW50cyBvciBvdXRlcm1vc3QgY29udGV4dFxuXHRcdFx0XHRcdGVsZW1zID0gc2VlZCB8fCBieUVsZW1lbnQgJiYgRXhwci5maW5kW1wiVEFHXCJdKCBcIipcIiwgb3V0ZXJtb3N0ICksXG5cdFx0XHRcdFx0Ly8gVXNlIGludGVnZXIgZGlycnVucyBpZmYgdGhpcyBpcyB0aGUgb3V0ZXJtb3N0IG1hdGNoZXJcblx0XHRcdFx0XHRkaXJydW5zVW5pcXVlID0gKGRpcnJ1bnMgKz0gY29udGV4dEJhY2t1cCA9PSBudWxsID8gMSA6IE1hdGgucmFuZG9tKCkgfHwgMC4xKSxcblx0XHRcdFx0XHRsZW4gPSBlbGVtcy5sZW5ndGg7XG5cdFxuXHRcdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0XHRvdXRlcm1vc3RDb250ZXh0ID0gY29udGV4dCA9PT0gZG9jdW1lbnQgfHwgY29udGV4dCB8fCBvdXRlcm1vc3Q7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIEFkZCBlbGVtZW50cyBwYXNzaW5nIGVsZW1lbnRNYXRjaGVycyBkaXJlY3RseSB0byByZXN1bHRzXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFPDksIFNhZmFyaVxuXHRcdFx0XHQvLyBUb2xlcmF0ZSBOb2RlTGlzdCBwcm9wZXJ0aWVzIChJRTogXCJsZW5ndGhcIjsgU2FmYXJpOiA8bnVtYmVyPikgbWF0Y2hpbmcgZWxlbWVudHMgYnkgaWRcblx0XHRcdFx0Zm9yICggOyBpICE9PSBsZW4gJiYgKGVsZW0gPSBlbGVtc1tpXSkgIT0gbnVsbDsgaSsrICkge1xuXHRcdFx0XHRcdGlmICggYnlFbGVtZW50ICYmIGVsZW0gKSB7XG5cdFx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHRcdGlmICggIWNvbnRleHQgJiYgZWxlbS5vd25lckRvY3VtZW50ICE9PSBkb2N1bWVudCApIHtcblx0XHRcdFx0XHRcdFx0c2V0RG9jdW1lbnQoIGVsZW0gKTtcblx0XHRcdFx0XHRcdFx0eG1sID0gIWRvY3VtZW50SXNIVE1MO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0d2hpbGUgKCAobWF0Y2hlciA9IGVsZW1lbnRNYXRjaGVyc1tqKytdKSApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVyKCBlbGVtLCBjb250ZXh0IHx8IGRvY3VtZW50LCB4bWwpICkge1xuXHRcdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0XHRcdFx0ZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBUcmFjayB1bm1hdGNoZWQgZWxlbWVudHMgZm9yIHNldCBmaWx0ZXJzXG5cdFx0XHRcdFx0aWYgKCBieVNldCApIHtcblx0XHRcdFx0XHRcdC8vIFRoZXkgd2lsbCBoYXZlIGdvbmUgdGhyb3VnaCBhbGwgcG9zc2libGUgbWF0Y2hlcnNcblx0XHRcdFx0XHRcdGlmICggKGVsZW0gPSAhbWF0Y2hlciAmJiBlbGVtKSApIHtcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZENvdW50LS07XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0Ly8gTGVuZ3RoZW4gdGhlIGFycmF5IGZvciBldmVyeSBlbGVtZW50LCBtYXRjaGVkIG9yIG5vdFxuXHRcdFx0XHRcdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0XHRcdFx0XHR1bm1hdGNoZWQucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gYGlgIGlzIG5vdyB0aGUgY291bnQgb2YgZWxlbWVudHMgdmlzaXRlZCBhYm92ZSwgYW5kIGFkZGluZyBpdCB0byBgbWF0Y2hlZENvdW50YFxuXHRcdFx0XHQvLyBtYWtlcyB0aGUgbGF0dGVyIG5vbm5lZ2F0aXZlLlxuXHRcdFx0XHRtYXRjaGVkQ291bnQgKz0gaTtcblx0XG5cdFx0XHRcdC8vIEFwcGx5IHNldCBmaWx0ZXJzIHRvIHVubWF0Y2hlZCBlbGVtZW50c1xuXHRcdFx0XHQvLyBOT1RFOiBUaGlzIGNhbiBiZSBza2lwcGVkIGlmIHRoZXJlIGFyZSBubyB1bm1hdGNoZWQgZWxlbWVudHMgKGkuZS4sIGBtYXRjaGVkQ291bnRgXG5cdFx0XHRcdC8vIGVxdWFscyBgaWApLCB1bmxlc3Mgd2UgZGlkbid0IHZpc2l0IF9hbnlfIGVsZW1lbnRzIGluIHRoZSBhYm92ZSBsb29wIGJlY2F1c2Ugd2UgaGF2ZVxuXHRcdFx0XHQvLyBubyBlbGVtZW50IG1hdGNoZXJzIGFuZCBubyBzZWVkLlxuXHRcdFx0XHQvLyBJbmNyZW1lbnRpbmcgYW4gaW5pdGlhbGx5LXN0cmluZyBcIjBcIiBgaWAgYWxsb3dzIGBpYCB0byByZW1haW4gYSBzdHJpbmcgb25seSBpbiB0aGF0XG5cdFx0XHRcdC8vIGNhc2UsIHdoaWNoIHdpbGwgcmVzdWx0IGluIGEgXCIwMFwiIGBtYXRjaGVkQ291bnRgIHRoYXQgZGlmZmVycyBmcm9tIGBpYCBidXQgaXMgYWxzb1xuXHRcdFx0XHQvLyBudW1lcmljYWxseSB6ZXJvLlxuXHRcdFx0XHRpZiAoIGJ5U2V0ICYmIGkgIT09IG1hdGNoZWRDb3VudCApIHtcblx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHR3aGlsZSAoIChtYXRjaGVyID0gc2V0TWF0Y2hlcnNbaisrXSkgKSB7XG5cdFx0XHRcdFx0XHRtYXRjaGVyKCB1bm1hdGNoZWQsIHNldE1hdGNoZWQsIGNvbnRleHQsIHhtbCApO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0XHRcdFx0Ly8gUmVpbnRlZ3JhdGUgZWxlbWVudCBtYXRjaGVzIHRvIGVsaW1pbmF0ZSB0aGUgbmVlZCBmb3Igc29ydGluZ1xuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVkQ291bnQgPiAwICkge1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoICEodW5tYXRjaGVkW2ldIHx8IHNldE1hdGNoZWRbaV0pICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0c2V0TWF0Y2hlZFtpXSA9IHBvcC5jYWxsKCByZXN1bHRzICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0Ly8gRGlzY2FyZCBpbmRleCBwbGFjZWhvbGRlciB2YWx1ZXMgdG8gZ2V0IG9ubHkgYWN0dWFsIG1hdGNoZXNcblx0XHRcdFx0XHRcdHNldE1hdGNoZWQgPSBjb25kZW5zZSggc2V0TWF0Y2hlZCApO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gQWRkIG1hdGNoZXMgdG8gcmVzdWx0c1xuXHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIHNldE1hdGNoZWQgKTtcblx0XG5cdFx0XHRcdFx0Ly8gU2VlZGxlc3Mgc2V0IG1hdGNoZXMgc3VjY2VlZGluZyBtdWx0aXBsZSBzdWNjZXNzZnVsIG1hdGNoZXJzIHN0aXB1bGF0ZSBzb3J0aW5nXG5cdFx0XHRcdFx0aWYgKCBvdXRlcm1vc3QgJiYgIXNlZWQgJiYgc2V0TWF0Y2hlZC5sZW5ndGggPiAwICYmXG5cdFx0XHRcdFx0XHQoIG1hdGNoZWRDb3VudCArIHNldE1hdGNoZXJzLmxlbmd0aCApID4gMSApIHtcblx0XG5cdFx0XHRcdFx0XHRTaXp6bGUudW5pcXVlU29ydCggcmVzdWx0cyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gT3ZlcnJpZGUgbWFuaXB1bGF0aW9uIG9mIGdsb2JhbHMgYnkgbmVzdGVkIG1hdGNoZXJzXG5cdFx0XHRcdGlmICggb3V0ZXJtb3N0ICkge1xuXHRcdFx0XHRcdGRpcnJ1bnMgPSBkaXJydW5zVW5pcXVlO1xuXHRcdFx0XHRcdG91dGVybW9zdENvbnRleHQgPSBjb250ZXh0QmFja3VwO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRyZXR1cm4gdW5tYXRjaGVkO1xuXHRcdFx0fTtcblx0XG5cdFx0cmV0dXJuIGJ5U2V0ID9cblx0XHRcdG1hcmtGdW5jdGlvbiggc3VwZXJNYXRjaGVyICkgOlxuXHRcdFx0c3VwZXJNYXRjaGVyO1xuXHR9XG5cdFxuXHRjb21waWxlID0gU2l6emxlLmNvbXBpbGUgPSBmdW5jdGlvbiggc2VsZWN0b3IsIG1hdGNoIC8qIEludGVybmFsIFVzZSBPbmx5ICovICkge1xuXHRcdHZhciBpLFxuXHRcdFx0c2V0TWF0Y2hlcnMgPSBbXSxcblx0XHRcdGVsZW1lbnRNYXRjaGVycyA9IFtdLFxuXHRcdFx0Y2FjaGVkID0gY29tcGlsZXJDYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdO1xuXHRcblx0XHRpZiAoICFjYWNoZWQgKSB7XG5cdFx0XHQvLyBHZW5lcmF0ZSBhIGZ1bmN0aW9uIG9mIHJlY3Vyc2l2ZSBmdW5jdGlvbnMgdGhhdCBjYW4gYmUgdXNlZCB0byBjaGVjayBlYWNoIGVsZW1lbnRcblx0XHRcdGlmICggIW1hdGNoICkge1xuXHRcdFx0XHRtYXRjaCA9IHRva2VuaXplKCBzZWxlY3RvciApO1xuXHRcdFx0fVxuXHRcdFx0aSA9IG1hdGNoLmxlbmd0aDtcblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRjYWNoZWQgPSBtYXRjaGVyRnJvbVRva2VucyggbWF0Y2hbaV0gKTtcblx0XHRcdFx0aWYgKCBjYWNoZWRbIGV4cGFuZG8gXSApIHtcblx0XHRcdFx0XHRzZXRNYXRjaGVycy5wdXNoKCBjYWNoZWQgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRlbGVtZW50TWF0Y2hlcnMucHVzaCggY2FjaGVkICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHQvLyBDYWNoZSB0aGUgY29tcGlsZWQgZnVuY3Rpb25cblx0XHRcdGNhY2hlZCA9IGNvbXBpbGVyQ2FjaGUoIHNlbGVjdG9yLCBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMgKSApO1xuXHRcblx0XHRcdC8vIFNhdmUgc2VsZWN0b3IgYW5kIHRva2VuaXphdGlvblxuXHRcdFx0Y2FjaGVkLnNlbGVjdG9yID0gc2VsZWN0b3I7XG5cdFx0fVxuXHRcdHJldHVybiBjYWNoZWQ7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQSBsb3ctbGV2ZWwgc2VsZWN0aW9uIGZ1bmN0aW9uIHRoYXQgd29ya3Mgd2l0aCBTaXp6bGUncyBjb21waWxlZFxuXHQgKiAgc2VsZWN0b3IgZnVuY3Rpb25zXG5cdCAqIEBwYXJhbSB7U3RyaW5nfEZ1bmN0aW9ufSBzZWxlY3RvciBBIHNlbGVjdG9yIG9yIGEgcHJlLWNvbXBpbGVkXG5cdCAqICBzZWxlY3RvciBmdW5jdGlvbiBidWlsdCB3aXRoIFNpenpsZS5jb21waWxlXG5cdCAqIEBwYXJhbSB7RWxlbWVudH0gY29udGV4dFxuXHQgKiBAcGFyYW0ge0FycmF5fSBbcmVzdWx0c11cblx0ICogQHBhcmFtIHtBcnJheX0gW3NlZWRdIEEgc2V0IG9mIGVsZW1lbnRzIHRvIG1hdGNoIGFnYWluc3Rcblx0ICovXG5cdHNlbGVjdCA9IFNpenpsZS5zZWxlY3QgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKSB7XG5cdFx0dmFyIGksIHRva2VucywgdG9rZW4sIHR5cGUsIGZpbmQsXG5cdFx0XHRjb21waWxlZCA9IHR5cGVvZiBzZWxlY3RvciA9PT0gXCJmdW5jdGlvblwiICYmIHNlbGVjdG9yLFxuXHRcdFx0bWF0Y2ggPSAhc2VlZCAmJiB0b2tlbml6ZSggKHNlbGVjdG9yID0gY29tcGlsZWQuc2VsZWN0b3IgfHwgc2VsZWN0b3IpICk7XG5cdFxuXHRcdHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xuXHRcblx0XHQvLyBUcnkgdG8gbWluaW1pemUgb3BlcmF0aW9ucyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBzZWxlY3RvciBpbiB0aGUgbGlzdCBhbmQgbm8gc2VlZFxuXHRcdC8vICh0aGUgbGF0dGVyIG9mIHdoaWNoIGd1YXJhbnRlZXMgdXMgY29udGV4dClcblx0XHRpZiAoIG1hdGNoLmxlbmd0aCA9PT0gMSApIHtcblx0XG5cdFx0XHQvLyBSZWR1Y2UgY29udGV4dCBpZiB0aGUgbGVhZGluZyBjb21wb3VuZCBzZWxlY3RvciBpcyBhbiBJRFxuXHRcdFx0dG9rZW5zID0gbWF0Y2hbMF0gPSBtYXRjaFswXS5zbGljZSggMCApO1xuXHRcdFx0aWYgKCB0b2tlbnMubGVuZ3RoID4gMiAmJiAodG9rZW4gPSB0b2tlbnNbMF0pLnR5cGUgPT09IFwiSURcIiAmJlxuXHRcdFx0XHRcdHN1cHBvcnQuZ2V0QnlJZCAmJiBjb250ZXh0Lm5vZGVUeXBlID09PSA5ICYmIGRvY3VtZW50SXNIVE1MICYmXG5cdFx0XHRcdFx0RXhwci5yZWxhdGl2ZVsgdG9rZW5zWzFdLnR5cGUgXSApIHtcblx0XG5cdFx0XHRcdGNvbnRleHQgPSAoIEV4cHIuZmluZFtcIklEXCJdKCB0b2tlbi5tYXRjaGVzWzBdLnJlcGxhY2UocnVuZXNjYXBlLCBmdW5lc2NhcGUpLCBjb250ZXh0ICkgfHwgW10gKVswXTtcblx0XHRcdFx0aWYgKCAhY29udGV4dCApIHtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XG5cdFx0XHRcdC8vIFByZWNvbXBpbGVkIG1hdGNoZXJzIHdpbGwgc3RpbGwgdmVyaWZ5IGFuY2VzdHJ5LCBzbyBzdGVwIHVwIGEgbGV2ZWxcblx0XHRcdFx0fSBlbHNlIGlmICggY29tcGlsZWQgKSB7XG5cdFx0XHRcdFx0Y29udGV4dCA9IGNvbnRleHQucGFyZW50Tm9kZTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0c2VsZWN0b3IgPSBzZWxlY3Rvci5zbGljZSggdG9rZW5zLnNoaWZ0KCkudmFsdWUubGVuZ3RoICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gRmV0Y2ggYSBzZWVkIHNldCBmb3IgcmlnaHQtdG8tbGVmdCBtYXRjaGluZ1xuXHRcdFx0aSA9IG1hdGNoRXhwcltcIm5lZWRzQ29udGV4dFwiXS50ZXN0KCBzZWxlY3RvciApID8gMCA6IHRva2Vucy5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0dG9rZW4gPSB0b2tlbnNbaV07XG5cdFxuXHRcdFx0XHQvLyBBYm9ydCBpZiB3ZSBoaXQgYSBjb21iaW5hdG9yXG5cdFx0XHRcdGlmICggRXhwci5yZWxhdGl2ZVsgKHR5cGUgPSB0b2tlbi50eXBlKSBdICkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggKGZpbmQgPSBFeHByLmZpbmRbIHR5cGUgXSkgKSB7XG5cdFx0XHRcdFx0Ly8gU2VhcmNoLCBleHBhbmRpbmcgY29udGV4dCBmb3IgbGVhZGluZyBzaWJsaW5nIGNvbWJpbmF0b3JzXG5cdFx0XHRcdFx0aWYgKCAoc2VlZCA9IGZpbmQoXG5cdFx0XHRcdFx0XHR0b2tlbi5tYXRjaGVzWzBdLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICksXG5cdFx0XHRcdFx0XHRyc2libGluZy50ZXN0KCB0b2tlbnNbMF0udHlwZSApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fCBjb250ZXh0XG5cdFx0XHRcdFx0KSkgKSB7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gSWYgc2VlZCBpcyBlbXB0eSBvciBubyB0b2tlbnMgcmVtYWluLCB3ZSBjYW4gcmV0dXJuIGVhcmx5XG5cdFx0XHRcdFx0XHR0b2tlbnMuc3BsaWNlKCBpLCAxICk7XG5cdFx0XHRcdFx0XHRzZWxlY3RvciA9IHNlZWQubGVuZ3RoICYmIHRvU2VsZWN0b3IoIHRva2VucyApO1xuXHRcdFx0XHRcdFx0aWYgKCAhc2VsZWN0b3IgKSB7XG5cdFx0XHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIHNlZWQgKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHQvLyBDb21waWxlIGFuZCBleGVjdXRlIGEgZmlsdGVyaW5nIGZ1bmN0aW9uIGlmIG9uZSBpcyBub3QgcHJvdmlkZWRcblx0XHQvLyBQcm92aWRlIGBtYXRjaGAgdG8gYXZvaWQgcmV0b2tlbml6YXRpb24gaWYgd2UgbW9kaWZpZWQgdGhlIHNlbGVjdG9yIGFib3ZlXG5cdFx0KCBjb21waWxlZCB8fCBjb21waWxlKCBzZWxlY3RvciwgbWF0Y2ggKSApKFxuXHRcdFx0c2VlZCxcblx0XHRcdGNvbnRleHQsXG5cdFx0XHQhZG9jdW1lbnRJc0hUTUwsXG5cdFx0XHRyZXN1bHRzLFxuXHRcdFx0IWNvbnRleHQgfHwgcnNpYmxpbmcudGVzdCggc2VsZWN0b3IgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHwgY29udGV4dFxuXHRcdCk7XG5cdFx0cmV0dXJuIHJlc3VsdHM7XG5cdH07XG5cdFxuXHQvLyBPbmUtdGltZSBhc3NpZ25tZW50c1xuXHRcblx0Ly8gU29ydCBzdGFiaWxpdHlcblx0c3VwcG9ydC5zb3J0U3RhYmxlID0gZXhwYW5kby5zcGxpdChcIlwiKS5zb3J0KCBzb3J0T3JkZXIgKS5qb2luKFwiXCIpID09PSBleHBhbmRvO1xuXHRcblx0Ly8gU3VwcG9ydDogQ2hyb21lIDE0LTM1K1xuXHQvLyBBbHdheXMgYXNzdW1lIGR1cGxpY2F0ZXMgaWYgdGhleSBhcmVuJ3QgcGFzc2VkIHRvIHRoZSBjb21wYXJpc29uIGZ1bmN0aW9uXG5cdHN1cHBvcnQuZGV0ZWN0RHVwbGljYXRlcyA9ICEhaGFzRHVwbGljYXRlO1xuXHRcblx0Ly8gSW5pdGlhbGl6ZSBhZ2FpbnN0IHRoZSBkZWZhdWx0IGRvY3VtZW50XG5cdHNldERvY3VtZW50KCk7XG5cdFxuXHQvLyBTdXBwb3J0OiBXZWJraXQ8NTM3LjMyIC0gU2FmYXJpIDYuMC4zL0Nocm9tZSAyNSAoZml4ZWQgaW4gQ2hyb21lIDI3KVxuXHQvLyBEZXRhY2hlZCBub2RlcyBjb25mb3VuZGluZ2x5IGZvbGxvdyAqZWFjaCBvdGhlcipcblx0c3VwcG9ydC5zb3J0RGV0YWNoZWQgPSBhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRcdC8vIFNob3VsZCByZXR1cm4gMSwgYnV0IHJldHVybnMgNCAoZm9sbG93aW5nKVxuXHRcdHJldHVybiBlbC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZpZWxkc2V0XCIpICkgJiAxO1xuXHR9KTtcblx0XG5cdC8vIFN1cHBvcnQ6IElFPDhcblx0Ly8gUHJldmVudCBhdHRyaWJ1dGUvcHJvcGVydHkgXCJpbnRlcnBvbGF0aW9uXCJcblx0Ly8gaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczUzNjQyOSUyOFZTLjg1JTI5LmFzcHhcblx0aWYgKCAhYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0XHRlbC5pbm5lckhUTUwgPSBcIjxhIGhyZWY9JyMnPjwvYT5cIjtcblx0XHRyZXR1cm4gZWwuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpID09PSBcIiNcIiA7XG5cdH0pICkge1xuXHRcdGFkZEhhbmRsZSggXCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoXCIsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcblx0XHRcdGlmICggIWlzWE1MICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUsIG5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJ0eXBlXCIgPyAxIDogMiApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cdFxuXHQvLyBTdXBwb3J0OiBJRTw5XG5cdC8vIFVzZSBkZWZhdWx0VmFsdWUgaW4gcGxhY2Ugb2YgZ2V0QXR0cmlidXRlKFwidmFsdWVcIilcblx0aWYgKCAhc3VwcG9ydC5hdHRyaWJ1dGVzIHx8ICFhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRcdGVsLmlubmVySFRNTCA9IFwiPGlucHV0Lz5cIjtcblx0XHRlbC5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiLCBcIlwiICk7XG5cdFx0cmV0dXJuIGVsLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCBcInZhbHVlXCIgKSA9PT0gXCJcIjtcblx0fSkgKSB7XG5cdFx0YWRkSGFuZGxlKCBcInZhbHVlXCIsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcblx0XHRcdGlmICggIWlzWE1MICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJpbnB1dFwiICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbS5kZWZhdWx0VmFsdWU7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblx0XG5cdC8vIFN1cHBvcnQ6IElFPDlcblx0Ly8gVXNlIGdldEF0dHJpYnV0ZU5vZGUgdG8gZmV0Y2ggYm9vbGVhbnMgd2hlbiBnZXRBdHRyaWJ1dGUgbGllc1xuXHRpZiAoICFhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRcdHJldHVybiBlbC5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSA9PSBudWxsO1xuXHR9KSApIHtcblx0XHRhZGRIYW5kbGUoIGJvb2xlYW5zLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0XHR2YXIgdmFsO1xuXHRcdFx0aWYgKCAhaXNYTUwgKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtWyBuYW1lIF0gPT09IHRydWUgPyBuYW1lLnRvTG93ZXJDYXNlKCkgOlxuXHRcdFx0XHRcdFx0KHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggbmFtZSApKSAmJiB2YWwuc3BlY2lmaWVkID9cblx0XHRcdFx0XHRcdHZhbC52YWx1ZSA6XG5cdFx0XHRcdFx0bnVsbDtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXHRcblx0cmV0dXJuIFNpenpsZTtcblx0XG5cdH0pKCB3aW5kb3cgKTtcblx0XG5cdFxuXHRcblx0alF1ZXJ5LmZpbmQgPSBTaXp6bGU7XG5cdGpRdWVyeS5leHByID0gU2l6emxlLnNlbGVjdG9ycztcblx0XG5cdC8vIERlcHJlY2F0ZWRcblx0alF1ZXJ5LmV4cHJbIFwiOlwiIF0gPSBqUXVlcnkuZXhwci5wc2V1ZG9zO1xuXHRqUXVlcnkudW5pcXVlU29ydCA9IGpRdWVyeS51bmlxdWUgPSBTaXp6bGUudW5pcXVlU29ydDtcblx0alF1ZXJ5LnRleHQgPSBTaXp6bGUuZ2V0VGV4dDtcblx0alF1ZXJ5LmlzWE1MRG9jID0gU2l6emxlLmlzWE1MO1xuXHRqUXVlcnkuY29udGFpbnMgPSBTaXp6bGUuY29udGFpbnM7XG5cdGpRdWVyeS5lc2NhcGVTZWxlY3RvciA9IFNpenpsZS5lc2NhcGU7XG5cdFxuXHRcblx0XG5cdFxuXHR2YXIgZGlyID0gZnVuY3Rpb24oIGVsZW0sIGRpciwgdW50aWwgKSB7XG5cdFx0dmFyIG1hdGNoZWQgPSBbXSxcblx0XHRcdHRydW5jYXRlID0gdW50aWwgIT09IHVuZGVmaW5lZDtcblx0XG5cdFx0d2hpbGUgKCAoIGVsZW0gPSBlbGVtWyBkaXIgXSApICYmIGVsZW0ubm9kZVR5cGUgIT09IDkgKSB7XG5cdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdGlmICggdHJ1bmNhdGUgJiYgalF1ZXJ5KCBlbGVtICkuaXMoIHVudGlsICkgKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0bWF0Y2hlZC5wdXNoKCBlbGVtICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBtYXRjaGVkO1xuXHR9O1xuXHRcblx0XG5cdHZhciBzaWJsaW5ncyA9IGZ1bmN0aW9uKCBuLCBlbGVtICkge1xuXHRcdHZhciBtYXRjaGVkID0gW107XG5cdFxuXHRcdGZvciAoIDsgbjsgbiA9IG4ubmV4dFNpYmxpbmcgKSB7XG5cdFx0XHRpZiAoIG4ubm9kZVR5cGUgPT09IDEgJiYgbiAhPT0gZWxlbSApIHtcblx0XHRcdFx0bWF0Y2hlZC5wdXNoKCBuICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gbWF0Y2hlZDtcblx0fTtcblx0XG5cdFxuXHR2YXIgcm5lZWRzQ29udGV4dCA9IGpRdWVyeS5leHByLm1hdGNoLm5lZWRzQ29udGV4dDtcblx0XG5cdHZhciByc2luZ2xlVGFnID0gKCAvXjwoW2Etel1bXlxcL1xcMD46XFx4MjBcXHRcXHJcXG5cXGZdKilbXFx4MjBcXHRcXHJcXG5cXGZdKlxcLz8+KD86PFxcL1xcMT58KSQvaSApO1xuXHRcblx0XG5cdFxuXHR2YXIgcmlzU2ltcGxlID0gL14uW146I1xcW1xcLixdKiQvO1xuXHRcblx0Ly8gSW1wbGVtZW50IHRoZSBpZGVudGljYWwgZnVuY3Rpb25hbGl0eSBmb3IgZmlsdGVyIGFuZCBub3Rcblx0ZnVuY3Rpb24gd2lubm93KCBlbGVtZW50cywgcXVhbGlmaWVyLCBub3QgKSB7XG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcXVhbGlmaWVyICkgKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSwgaSApIHtcblx0XHRcdFx0cmV0dXJuICEhcXVhbGlmaWVyLmNhbGwoIGVsZW0sIGksIGVsZW0gKSAhPT0gbm90O1xuXHRcdFx0fSApO1xuXHRcblx0XHR9XG5cdFxuXHRcdGlmICggcXVhbGlmaWVyLm5vZGVUeXBlICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiAoIGVsZW0gPT09IHF1YWxpZmllciApICE9PSBub3Q7XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH1cblx0XG5cdFx0aWYgKCB0eXBlb2YgcXVhbGlmaWVyID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0aWYgKCByaXNTaW1wbGUudGVzdCggcXVhbGlmaWVyICkgKSB7XG5cdFx0XHRcdHJldHVybiBqUXVlcnkuZmlsdGVyKCBxdWFsaWZpZXIsIGVsZW1lbnRzLCBub3QgKTtcblx0XHRcdH1cblx0XG5cdFx0XHRxdWFsaWZpZXIgPSBqUXVlcnkuZmlsdGVyKCBxdWFsaWZpZXIsIGVsZW1lbnRzICk7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiAoIGluZGV4T2YuY2FsbCggcXVhbGlmaWVyLCBlbGVtICkgPiAtMSApICE9PSBub3QgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMTtcblx0XHR9ICk7XG5cdH1cblx0XG5cdGpRdWVyeS5maWx0ZXIgPSBmdW5jdGlvbiggZXhwciwgZWxlbXMsIG5vdCApIHtcblx0XHR2YXIgZWxlbSA9IGVsZW1zWyAwIF07XG5cdFxuXHRcdGlmICggbm90ICkge1xuXHRcdFx0ZXhwciA9IFwiOm5vdChcIiArIGV4cHIgKyBcIilcIjtcblx0XHR9XG5cdFxuXHRcdHJldHVybiBlbGVtcy5sZW5ndGggPT09IDEgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSA/XG5cdFx0XHRqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoIGVsZW0sIGV4cHIgKSA/IFsgZWxlbSBdIDogW10gOlxuXHRcdFx0alF1ZXJ5LmZpbmQubWF0Y2hlcyggZXhwciwgalF1ZXJ5LmdyZXAoIGVsZW1zLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIGVsZW0ubm9kZVR5cGUgPT09IDE7XG5cdFx0XHR9ICkgKTtcblx0fTtcblx0XG5cdGpRdWVyeS5mbi5leHRlbmQoIHtcblx0XHRmaW5kOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHR2YXIgaSwgcmV0LFxuXHRcdFx0XHRsZW4gPSB0aGlzLmxlbmd0aCxcblx0XHRcdFx0c2VsZiA9IHRoaXM7XG5cdFxuXHRcdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5KCBzZWxlY3RvciApLmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0XHRcdGlmICggalF1ZXJ5LmNvbnRhaW5zKCBzZWxmWyBpIF0sIHRoaXMgKSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICkgKTtcblx0XHRcdH1cblx0XG5cdFx0XHRyZXQgPSB0aGlzLnB1c2hTdGFjayggW10gKTtcblx0XG5cdFx0XHRmb3IgKCBpID0gMDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0XHRqUXVlcnkuZmluZCggc2VsZWN0b3IsIHNlbGZbIGkgXSwgcmV0ICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIGxlbiA+IDEgPyBqUXVlcnkudW5pcXVlU29ydCggcmV0ICkgOiByZXQ7XG5cdFx0fSxcblx0XHRmaWx0ZXI6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggd2lubm93KCB0aGlzLCBzZWxlY3RvciB8fCBbXSwgZmFsc2UgKSApO1xuXHRcdH0sXG5cdFx0bm90OiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHdpbm5vdyggdGhpcywgc2VsZWN0b3IgfHwgW10sIHRydWUgKSApO1xuXHRcdH0sXG5cdFx0aXM6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRcdHJldHVybiAhIXdpbm5vdyhcblx0XHRcdFx0dGhpcyxcblx0XG5cdFx0XHRcdC8vIElmIHRoaXMgaXMgYSBwb3NpdGlvbmFsL3JlbGF0aXZlIHNlbGVjdG9yLCBjaGVjayBtZW1iZXJzaGlwIGluIHRoZSByZXR1cm5lZCBzZXRcblx0XHRcdFx0Ly8gc28gJChcInA6Zmlyc3RcIikuaXMoXCJwOmxhc3RcIikgd29uJ3QgcmV0dXJuIHRydWUgZm9yIGEgZG9jIHdpdGggdHdvIFwicFwiLlxuXHRcdFx0XHR0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgJiYgcm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvciApID9cblx0XHRcdFx0XHRqUXVlcnkoIHNlbGVjdG9yICkgOlxuXHRcdFx0XHRcdHNlbGVjdG9yIHx8IFtdLFxuXHRcdFx0XHRmYWxzZVxuXHRcdFx0KS5sZW5ndGg7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRcblx0Ly8gSW5pdGlhbGl6ZSBhIGpRdWVyeSBvYmplY3Rcblx0XG5cdFxuXHQvLyBBIGNlbnRyYWwgcmVmZXJlbmNlIHRvIHRoZSByb290IGpRdWVyeShkb2N1bWVudClcblx0dmFyIHJvb3RqUXVlcnksXG5cdFxuXHRcdC8vIEEgc2ltcGxlIHdheSB0byBjaGVjayBmb3IgSFRNTCBzdHJpbmdzXG5cdFx0Ly8gUHJpb3JpdGl6ZSAjaWQgb3ZlciA8dGFnPiB0byBhdm9pZCBYU1MgdmlhIGxvY2F0aW9uLmhhc2ggKCM5NTIxKVxuXHRcdC8vIFN0cmljdCBIVE1MIHJlY29nbml0aW9uICgjMTEyOTA6IG11c3Qgc3RhcnQgd2l0aCA8KVxuXHRcdC8vIFNob3J0Y3V0IHNpbXBsZSAjaWQgY2FzZSBmb3Igc3BlZWRcblx0XHRycXVpY2tFeHByID0gL14oPzpcXHMqKDxbXFx3XFxXXSs+KVtePl0qfCMoW1xcdy1dKykpJC8sXG5cdFxuXHRcdGluaXQgPSBqUXVlcnkuZm4uaW5pdCA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCwgcm9vdCApIHtcblx0XHRcdHZhciBtYXRjaCwgZWxlbTtcblx0XG5cdFx0XHQvLyBIQU5ETEU6ICQoXCJcIiksICQobnVsbCksICQodW5kZWZpbmVkKSwgJChmYWxzZSlcblx0XHRcdGlmICggIXNlbGVjdG9yICkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBNZXRob2QgaW5pdCgpIGFjY2VwdHMgYW4gYWx0ZXJuYXRlIHJvb3RqUXVlcnlcblx0XHRcdC8vIHNvIG1pZ3JhdGUgY2FuIHN1cHBvcnQgalF1ZXJ5LnN1YiAoZ2gtMjEwMSlcblx0XHRcdHJvb3QgPSByb290IHx8IHJvb3RqUXVlcnk7XG5cdFxuXHRcdFx0Ly8gSGFuZGxlIEhUTUwgc3RyaW5nc1xuXHRcdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdGlmICggc2VsZWN0b3JbIDAgXSA9PT0gXCI8XCIgJiZcblx0XHRcdFx0XHRzZWxlY3Rvclsgc2VsZWN0b3IubGVuZ3RoIC0gMSBdID09PSBcIj5cIiAmJlxuXHRcdFx0XHRcdHNlbGVjdG9yLmxlbmd0aCA+PSAzICkge1xuXHRcblx0XHRcdFx0XHQvLyBBc3N1bWUgdGhhdCBzdHJpbmdzIHRoYXQgc3RhcnQgYW5kIGVuZCB3aXRoIDw+IGFyZSBIVE1MIGFuZCBza2lwIHRoZSByZWdleCBjaGVja1xuXHRcdFx0XHRcdG1hdGNoID0gWyBudWxsLCBzZWxlY3RvciwgbnVsbCBdO1xuXHRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRtYXRjaCA9IHJxdWlja0V4cHIuZXhlYyggc2VsZWN0b3IgKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gTWF0Y2ggaHRtbCBvciBtYWtlIHN1cmUgbm8gY29udGV4dCBpcyBzcGVjaWZpZWQgZm9yICNpZFxuXHRcdFx0XHRpZiAoIG1hdGNoICYmICggbWF0Y2hbIDEgXSB8fCAhY29udGV4dCApICkge1xuXHRcblx0XHRcdFx0XHQvLyBIQU5ETEU6ICQoaHRtbCkgLT4gJChhcnJheSlcblx0XHRcdFx0XHRpZiAoIG1hdGNoWyAxIF0gKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0ID0gY29udGV4dCBpbnN0YW5jZW9mIGpRdWVyeSA/IGNvbnRleHRbIDAgXSA6IGNvbnRleHQ7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gT3B0aW9uIHRvIHJ1biBzY3JpcHRzIGlzIHRydWUgZm9yIGJhY2stY29tcGF0XG5cdFx0XHRcdFx0XHQvLyBJbnRlbnRpb25hbGx5IGxldCB0aGUgZXJyb3IgYmUgdGhyb3duIGlmIHBhcnNlSFRNTCBpcyBub3QgcHJlc2VudFxuXHRcdFx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCB0aGlzLCBqUXVlcnkucGFyc2VIVE1MKFxuXHRcdFx0XHRcdFx0XHRtYXRjaFsgMSBdLFxuXHRcdFx0XHRcdFx0XHRjb250ZXh0ICYmIGNvbnRleHQubm9kZVR5cGUgPyBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCA6IGRvY3VtZW50LFxuXHRcdFx0XHRcdFx0XHR0cnVlXG5cdFx0XHRcdFx0XHQpICk7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gSEFORExFOiAkKGh0bWwsIHByb3BzKVxuXHRcdFx0XHRcdFx0aWYgKCByc2luZ2xlVGFnLnRlc3QoIG1hdGNoWyAxIF0gKSAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29udGV4dCApICkge1xuXHRcdFx0XHRcdFx0XHRmb3IgKCBtYXRjaCBpbiBjb250ZXh0ICkge1xuXHRcblx0XHRcdFx0XHRcdFx0XHQvLyBQcm9wZXJ0aWVzIG9mIGNvbnRleHQgYXJlIGNhbGxlZCBhcyBtZXRob2RzIGlmIHBvc3NpYmxlXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdGhpc1sgbWF0Y2ggXSApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dGhpc1sgbWF0Y2ggXSggY29udGV4dFsgbWF0Y2ggXSApO1xuXHRcblx0XHRcdFx0XHRcdFx0XHQvLyAuLi5hbmQgb3RoZXJ3aXNlIHNldCBhcyBhdHRyaWJ1dGVzXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuYXR0ciggbWF0Y2gsIGNvbnRleHRbIG1hdGNoIF0gKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XG5cdFx0XHRcdFx0Ly8gSEFORExFOiAkKCNpZClcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBtYXRjaFsgMiBdICk7XG5cdFxuXHRcdFx0XHRcdFx0aWYgKCBlbGVtICkge1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gSW5qZWN0IHRoZSBlbGVtZW50IGRpcmVjdGx5IGludG8gdGhlIGpRdWVyeSBvYmplY3Rcblx0XHRcdFx0XHRcdFx0dGhpc1sgMCBdID0gZWxlbTtcblx0XHRcdFx0XHRcdFx0dGhpcy5sZW5ndGggPSAxO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gSEFORExFOiAkKGV4cHIsICQoLi4uKSlcblx0XHRcdFx0fSBlbHNlIGlmICggIWNvbnRleHQgfHwgY29udGV4dC5qcXVlcnkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuICggY29udGV4dCB8fCByb290ICkuZmluZCggc2VsZWN0b3IgKTtcblx0XG5cdFx0XHRcdC8vIEhBTkRMRTogJChleHByLCBjb250ZXh0KVxuXHRcdFx0XHQvLyAod2hpY2ggaXMganVzdCBlcXVpdmFsZW50IHRvOiAkKGNvbnRleHQpLmZpbmQoZXhwcilcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcy5jb25zdHJ1Y3RvciggY29udGV4dCApLmZpbmQoIHNlbGVjdG9yICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHQvLyBIQU5ETEU6ICQoRE9NRWxlbWVudClcblx0XHRcdH0gZWxzZSBpZiAoIHNlbGVjdG9yLm5vZGVUeXBlICkge1xuXHRcdFx0XHR0aGlzWyAwIF0gPSBzZWxlY3Rvcjtcblx0XHRcdFx0dGhpcy5sZW5ndGggPSAxO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XG5cdFx0XHQvLyBIQU5ETEU6ICQoZnVuY3Rpb24pXG5cdFx0XHQvLyBTaG9ydGN1dCBmb3IgZG9jdW1lbnQgcmVhZHlcblx0XHRcdH0gZWxzZSBpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBzZWxlY3RvciApICkge1xuXHRcdFx0XHRyZXR1cm4gcm9vdC5yZWFkeSAhPT0gdW5kZWZpbmVkID9cblx0XHRcdFx0XHRyb290LnJlYWR5KCBzZWxlY3RvciApIDpcblx0XG5cdFx0XHRcdFx0Ly8gRXhlY3V0ZSBpbW1lZGlhdGVseSBpZiByZWFkeSBpcyBub3QgcHJlc2VudFxuXHRcdFx0XHRcdHNlbGVjdG9yKCBqUXVlcnkgKTtcblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4galF1ZXJ5Lm1ha2VBcnJheSggc2VsZWN0b3IsIHRoaXMgKTtcblx0XHR9O1xuXHRcblx0Ly8gR2l2ZSB0aGUgaW5pdCBmdW5jdGlvbiB0aGUgalF1ZXJ5IHByb3RvdHlwZSBmb3IgbGF0ZXIgaW5zdGFudGlhdGlvblxuXHRpbml0LnByb3RvdHlwZSA9IGpRdWVyeS5mbjtcblx0XG5cdC8vIEluaXRpYWxpemUgY2VudHJhbCByZWZlcmVuY2Vcblx0cm9vdGpRdWVyeSA9IGpRdWVyeSggZG9jdW1lbnQgKTtcblx0XG5cdFxuXHR2YXIgcnBhcmVudHNwcmV2ID0gL14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sXG5cdFxuXHRcdC8vIE1ldGhvZHMgZ3VhcmFudGVlZCB0byBwcm9kdWNlIGEgdW5pcXVlIHNldCB3aGVuIHN0YXJ0aW5nIGZyb20gYSB1bmlxdWUgc2V0XG5cdFx0Z3VhcmFudGVlZFVuaXF1ZSA9IHtcblx0XHRcdGNoaWxkcmVuOiB0cnVlLFxuXHRcdFx0Y29udGVudHM6IHRydWUsXG5cdFx0XHRuZXh0OiB0cnVlLFxuXHRcdFx0cHJldjogdHJ1ZVxuXHRcdH07XG5cdFxuXHRqUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdFx0aGFzOiBmdW5jdGlvbiggdGFyZ2V0ICkge1xuXHRcdFx0dmFyIHRhcmdldHMgPSBqUXVlcnkoIHRhcmdldCwgdGhpcyApLFxuXHRcdFx0XHRsID0gdGFyZ2V0cy5sZW5ndGg7XG5cdFxuXHRcdFx0cmV0dXJuIHRoaXMuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGkgPSAwO1xuXHRcdFx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHRoaXMsIHRhcmdldHNbIGkgXSApICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fSxcblx0XG5cdFx0Y2xvc2VzdDogZnVuY3Rpb24oIHNlbGVjdG9ycywgY29udGV4dCApIHtcblx0XHRcdHZhciBjdXIsXG5cdFx0XHRcdGkgPSAwLFxuXHRcdFx0XHRsID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRcdG1hdGNoZWQgPSBbXSxcblx0XHRcdFx0dGFyZ2V0cyA9IHR5cGVvZiBzZWxlY3RvcnMgIT09IFwic3RyaW5nXCIgJiYgalF1ZXJ5KCBzZWxlY3RvcnMgKTtcblx0XG5cdFx0XHQvLyBQb3NpdGlvbmFsIHNlbGVjdG9ycyBuZXZlciBtYXRjaCwgc2luY2UgdGhlcmUncyBubyBfc2VsZWN0aW9uXyBjb250ZXh0XG5cdFx0XHRpZiAoICFybmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9ycyApICkge1xuXHRcdFx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0Zm9yICggY3VyID0gdGhpc1sgaSBdOyBjdXIgJiYgY3VyICE9PSBjb250ZXh0OyBjdXIgPSBjdXIucGFyZW50Tm9kZSApIHtcblx0XG5cdFx0XHRcdFx0XHQvLyBBbHdheXMgc2tpcCBkb2N1bWVudCBmcmFnbWVudHNcblx0XHRcdFx0XHRcdGlmICggY3VyLm5vZGVUeXBlIDwgMTEgJiYgKCB0YXJnZXRzID9cblx0XHRcdFx0XHRcdFx0dGFyZ2V0cy5pbmRleCggY3VyICkgPiAtMSA6XG5cdFxuXHRcdFx0XHRcdFx0XHQvLyBEb24ndCBwYXNzIG5vbi1lbGVtZW50cyB0byBTaXp6bGVcblx0XHRcdFx0XHRcdFx0Y3VyLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBjdXIsIHNlbGVjdG9ycyApICkgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRtYXRjaGVkLnB1c2goIGN1ciApO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIG1hdGNoZWQubGVuZ3RoID4gMSA/IGpRdWVyeS51bmlxdWVTb3J0KCBtYXRjaGVkICkgOiBtYXRjaGVkICk7XG5cdFx0fSxcblx0XG5cdFx0Ly8gRGV0ZXJtaW5lIHRoZSBwb3NpdGlvbiBvZiBhbiBlbGVtZW50IHdpdGhpbiB0aGUgc2V0XG5cdFx0aW5kZXg6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcblx0XHRcdC8vIE5vIGFyZ3VtZW50LCByZXR1cm4gaW5kZXggaW4gcGFyZW50XG5cdFx0XHRpZiAoICFlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gKCB0aGlzWyAwIF0gJiYgdGhpc1sgMCBdLnBhcmVudE5vZGUgKSA/IHRoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoIDogLTE7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gSW5kZXggaW4gc2VsZWN0b3Jcblx0XHRcdGlmICggdHlwZW9mIGVsZW0gPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdHJldHVybiBpbmRleE9mLmNhbGwoIGpRdWVyeSggZWxlbSApLCB0aGlzWyAwIF0gKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBMb2NhdGUgdGhlIHBvc2l0aW9uIG9mIHRoZSBkZXNpcmVkIGVsZW1lbnRcblx0XHRcdHJldHVybiBpbmRleE9mLmNhbGwoIHRoaXMsXG5cdFxuXHRcdFx0XHQvLyBJZiBpdCByZWNlaXZlcyBhIGpRdWVyeSBvYmplY3QsIHRoZSBmaXJzdCBlbGVtZW50IGlzIHVzZWRcblx0XHRcdFx0ZWxlbS5qcXVlcnkgPyBlbGVtWyAwIF0gOiBlbGVtXG5cdFx0XHQpO1xuXHRcdH0sXG5cdFxuXHRcdGFkZDogZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0ICkge1xuXHRcdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKFxuXHRcdFx0XHRqUXVlcnkudW5pcXVlU29ydChcblx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIHRoaXMuZ2V0KCksIGpRdWVyeSggc2VsZWN0b3IsIGNvbnRleHQgKSApXG5cdFx0XHRcdClcblx0XHRcdCk7XG5cdFx0fSxcblx0XG5cdFx0YWRkQmFjazogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuYWRkKCBzZWxlY3RvciA9PSBudWxsID9cblx0XHRcdFx0dGhpcy5wcmV2T2JqZWN0IDogdGhpcy5wcmV2T2JqZWN0LmZpbHRlciggc2VsZWN0b3IgKVxuXHRcdFx0KTtcblx0XHR9XG5cdH0gKTtcblx0XG5cdGZ1bmN0aW9uIHNpYmxpbmcoIGN1ciwgZGlyICkge1xuXHRcdHdoaWxlICggKCBjdXIgPSBjdXJbIGRpciBdICkgJiYgY3VyLm5vZGVUeXBlICE9PSAxICkge31cblx0XHRyZXR1cm4gY3VyO1xuXHR9XG5cdFxuXHRqUXVlcnkuZWFjaCgge1xuXHRcdHBhcmVudDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0cmV0dXJuIHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgIT09IDExID8gcGFyZW50IDogbnVsbDtcblx0XHR9LFxuXHRcdHBhcmVudHM6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIgKTtcblx0XHR9LFxuXHRcdHBhcmVudHNVbnRpbDogZnVuY3Rpb24oIGVsZW0sIGksIHVudGlsICkge1xuXHRcdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIsIHVudGlsICk7XG5cdFx0fSxcblx0XHRuZXh0OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBzaWJsaW5nKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIgKTtcblx0XHR9LFxuXHRcdHByZXY6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIHNpYmxpbmcoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIgKTtcblx0XHR9LFxuXHRcdG5leHRBbGw6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGRpciggZWxlbSwgXCJuZXh0U2libGluZ1wiICk7XG5cdFx0fSxcblx0XHRwcmV2QWxsOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBkaXIoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIgKTtcblx0XHR9LFxuXHRcdG5leHRVbnRpbDogZnVuY3Rpb24oIGVsZW0sIGksIHVudGlsICkge1xuXHRcdFx0cmV0dXJuIGRpciggZWxlbSwgXCJuZXh0U2libGluZ1wiLCB1bnRpbCApO1xuXHRcdH0sXG5cdFx0cHJldlVudGlsOiBmdW5jdGlvbiggZWxlbSwgaSwgdW50aWwgKSB7XG5cdFx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiLCB1bnRpbCApO1xuXHRcdH0sXG5cdFx0c2libGluZ3M6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIHNpYmxpbmdzKCAoIGVsZW0ucGFyZW50Tm9kZSB8fCB7fSApLmZpcnN0Q2hpbGQsIGVsZW0gKTtcblx0XHR9LFxuXHRcdGNoaWxkcmVuOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBzaWJsaW5ncyggZWxlbS5maXJzdENoaWxkICk7XG5cdFx0fSxcblx0XHRjb250ZW50czogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5jb250ZW50RG9jdW1lbnQgfHwgalF1ZXJ5Lm1lcmdlKCBbXSwgZWxlbS5jaGlsZE5vZGVzICk7XG5cdFx0fVxuXHR9LCBmdW5jdGlvbiggbmFtZSwgZm4gKSB7XG5cdFx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggdW50aWwsIHNlbGVjdG9yICkge1xuXHRcdFx0dmFyIG1hdGNoZWQgPSBqUXVlcnkubWFwKCB0aGlzLCBmbiwgdW50aWwgKTtcblx0XG5cdFx0XHRpZiAoIG5hbWUuc2xpY2UoIC01ICkgIT09IFwiVW50aWxcIiApIHtcblx0XHRcdFx0c2VsZWN0b3IgPSB1bnRpbDtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIHNlbGVjdG9yICYmIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0bWF0Y2hlZCA9IGpRdWVyeS5maWx0ZXIoIHNlbGVjdG9yLCBtYXRjaGVkICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCB0aGlzLmxlbmd0aCA+IDEgKSB7XG5cdFxuXHRcdFx0XHQvLyBSZW1vdmUgZHVwbGljYXRlc1xuXHRcdFx0XHRpZiAoICFndWFyYW50ZWVkVW5pcXVlWyBuYW1lIF0gKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LnVuaXF1ZVNvcnQoIG1hdGNoZWQgKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gUmV2ZXJzZSBvcmRlciBmb3IgcGFyZW50cyogYW5kIHByZXYtZGVyaXZhdGl2ZXNcblx0XHRcdFx0aWYgKCBycGFyZW50c3ByZXYudGVzdCggbmFtZSApICkge1xuXHRcdFx0XHRcdG1hdGNoZWQucmV2ZXJzZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBtYXRjaGVkICk7XG5cdFx0fTtcblx0fSApO1xuXHR2YXIgcm5vdHdoaXRlID0gKCAvXFxTKy9nICk7XG5cdFxuXHRcblx0XG5cdC8vIENvbnZlcnQgU3RyaW5nLWZvcm1hdHRlZCBvcHRpb25zIGludG8gT2JqZWN0LWZvcm1hdHRlZCBvbmVzXG5cdGZ1bmN0aW9uIGNyZWF0ZU9wdGlvbnMoIG9wdGlvbnMgKSB7XG5cdFx0dmFyIG9iamVjdCA9IHt9O1xuXHRcdGpRdWVyeS5lYWNoKCBvcHRpb25zLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbXSwgZnVuY3Rpb24oIF8sIGZsYWcgKSB7XG5cdFx0XHRvYmplY3RbIGZsYWcgXSA9IHRydWU7XG5cdFx0fSApO1xuXHRcdHJldHVybiBvYmplY3Q7XG5cdH1cblx0XG5cdC8qXG5cdCAqIENyZWF0ZSBhIGNhbGxiYWNrIGxpc3QgdXNpbmcgdGhlIGZvbGxvd2luZyBwYXJhbWV0ZXJzOlxuXHQgKlxuXHQgKlx0b3B0aW9uczogYW4gb3B0aW9uYWwgbGlzdCBvZiBzcGFjZS1zZXBhcmF0ZWQgb3B0aW9ucyB0aGF0IHdpbGwgY2hhbmdlIGhvd1xuXHQgKlx0XHRcdHRoZSBjYWxsYmFjayBsaXN0IGJlaGF2ZXMgb3IgYSBtb3JlIHRyYWRpdGlvbmFsIG9wdGlvbiBvYmplY3Rcblx0ICpcblx0ICogQnkgZGVmYXVsdCBhIGNhbGxiYWNrIGxpc3Qgd2lsbCBhY3QgbGlrZSBhbiBldmVudCBjYWxsYmFjayBsaXN0IGFuZCBjYW4gYmVcblx0ICogXCJmaXJlZFwiIG11bHRpcGxlIHRpbWVzLlxuXHQgKlxuXHQgKiBQb3NzaWJsZSBvcHRpb25zOlxuXHQgKlxuXHQgKlx0b25jZTpcdFx0XHR3aWxsIGVuc3VyZSB0aGUgY2FsbGJhY2sgbGlzdCBjYW4gb25seSBiZSBmaXJlZCBvbmNlIChsaWtlIGEgRGVmZXJyZWQpXG5cdCAqXG5cdCAqXHRtZW1vcnk6XHRcdFx0d2lsbCBrZWVwIHRyYWNrIG9mIHByZXZpb3VzIHZhbHVlcyBhbmQgd2lsbCBjYWxsIGFueSBjYWxsYmFjayBhZGRlZFxuXHQgKlx0XHRcdFx0XHRhZnRlciB0aGUgbGlzdCBoYXMgYmVlbiBmaXJlZCByaWdodCBhd2F5IHdpdGggdGhlIGxhdGVzdCBcIm1lbW9yaXplZFwiXG5cdCAqXHRcdFx0XHRcdHZhbHVlcyAobGlrZSBhIERlZmVycmVkKVxuXHQgKlxuXHQgKlx0dW5pcXVlOlx0XHRcdHdpbGwgZW5zdXJlIGEgY2FsbGJhY2sgY2FuIG9ubHkgYmUgYWRkZWQgb25jZSAobm8gZHVwbGljYXRlIGluIHRoZSBsaXN0KVxuXHQgKlxuXHQgKlx0c3RvcE9uRmFsc2U6XHRpbnRlcnJ1cHQgY2FsbGluZ3Mgd2hlbiBhIGNhbGxiYWNrIHJldHVybnMgZmFsc2Vcblx0ICpcblx0ICovXG5cdGpRdWVyeS5DYWxsYmFja3MgPSBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0XG5cdFx0Ly8gQ29udmVydCBvcHRpb25zIGZyb20gU3RyaW5nLWZvcm1hdHRlZCB0byBPYmplY3QtZm9ybWF0dGVkIGlmIG5lZWRlZFxuXHRcdC8vICh3ZSBjaGVjayBpbiBjYWNoZSBmaXJzdClcblx0XHRvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIgP1xuXHRcdFx0Y3JlYXRlT3B0aW9ucyggb3B0aW9ucyApIDpcblx0XHRcdGpRdWVyeS5leHRlbmQoIHt9LCBvcHRpb25zICk7XG5cdFxuXHRcdHZhciAvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCBpcyBjdXJyZW50bHkgZmlyaW5nXG5cdFx0XHRmaXJpbmcsXG5cdFxuXHRcdFx0Ly8gTGFzdCBmaXJlIHZhbHVlIGZvciBub24tZm9yZ2V0dGFibGUgbGlzdHNcblx0XHRcdG1lbW9yeSxcblx0XG5cdFx0XHQvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCB3YXMgYWxyZWFkeSBmaXJlZFxuXHRcdFx0ZmlyZWQsXG5cdFxuXHRcdFx0Ly8gRmxhZyB0byBwcmV2ZW50IGZpcmluZ1xuXHRcdFx0bG9ja2VkLFxuXHRcblx0XHRcdC8vIEFjdHVhbCBjYWxsYmFjayBsaXN0XG5cdFx0XHRsaXN0ID0gW10sXG5cdFxuXHRcdFx0Ly8gUXVldWUgb2YgZXhlY3V0aW9uIGRhdGEgZm9yIHJlcGVhdGFibGUgbGlzdHNcblx0XHRcdHF1ZXVlID0gW10sXG5cdFxuXHRcdFx0Ly8gSW5kZXggb2YgY3VycmVudGx5IGZpcmluZyBjYWxsYmFjayAobW9kaWZpZWQgYnkgYWRkL3JlbW92ZSBhcyBuZWVkZWQpXG5cdFx0XHRmaXJpbmdJbmRleCA9IC0xLFxuXHRcblx0XHRcdC8vIEZpcmUgY2FsbGJhY2tzXG5cdFx0XHRmaXJlID0gZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHQvLyBFbmZvcmNlIHNpbmdsZS1maXJpbmdcblx0XHRcdFx0bG9ja2VkID0gb3B0aW9ucy5vbmNlO1xuXHRcblx0XHRcdFx0Ly8gRXhlY3V0ZSBjYWxsYmFja3MgZm9yIGFsbCBwZW5kaW5nIGV4ZWN1dGlvbnMsXG5cdFx0XHRcdC8vIHJlc3BlY3RpbmcgZmlyaW5nSW5kZXggb3ZlcnJpZGVzIGFuZCBydW50aW1lIGNoYW5nZXNcblx0XHRcdFx0ZmlyZWQgPSBmaXJpbmcgPSB0cnVlO1xuXHRcdFx0XHRmb3IgKCA7IHF1ZXVlLmxlbmd0aDsgZmlyaW5nSW5kZXggPSAtMSApIHtcblx0XHRcdFx0XHRtZW1vcnkgPSBxdWV1ZS5zaGlmdCgpO1xuXHRcdFx0XHRcdHdoaWxlICggKytmaXJpbmdJbmRleCA8IGxpc3QubGVuZ3RoICkge1xuXHRcblx0XHRcdFx0XHRcdC8vIFJ1biBjYWxsYmFjayBhbmQgY2hlY2sgZm9yIGVhcmx5IHRlcm1pbmF0aW9uXG5cdFx0XHRcdFx0XHRpZiAoIGxpc3RbIGZpcmluZ0luZGV4IF0uYXBwbHkoIG1lbW9yeVsgMCBdLCBtZW1vcnlbIDEgXSApID09PSBmYWxzZSAmJlxuXHRcdFx0XHRcdFx0XHRvcHRpb25zLnN0b3BPbkZhbHNlICkge1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gSnVtcCB0byBlbmQgYW5kIGZvcmdldCB0aGUgZGF0YSBzbyAuYWRkIGRvZXNuJ3QgcmUtZmlyZVxuXHRcdFx0XHRcdFx0XHRmaXJpbmdJbmRleCA9IGxpc3QubGVuZ3RoO1xuXHRcdFx0XHRcdFx0XHRtZW1vcnkgPSBmYWxzZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIEZvcmdldCB0aGUgZGF0YSBpZiB3ZSdyZSBkb25lIHdpdGggaXRcblx0XHRcdFx0aWYgKCAhb3B0aW9ucy5tZW1vcnkgKSB7XG5cdFx0XHRcdFx0bWVtb3J5ID0gZmFsc2U7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGZpcmluZyA9IGZhbHNlO1xuXHRcblx0XHRcdFx0Ly8gQ2xlYW4gdXAgaWYgd2UncmUgZG9uZSBmaXJpbmcgZm9yIGdvb2Rcblx0XHRcdFx0aWYgKCBsb2NrZWQgKSB7XG5cdFxuXHRcdFx0XHRcdC8vIEtlZXAgYW4gZW1wdHkgbGlzdCBpZiB3ZSBoYXZlIGRhdGEgZm9yIGZ1dHVyZSBhZGQgY2FsbHNcblx0XHRcdFx0XHRpZiAoIG1lbW9yeSApIHtcblx0XHRcdFx0XHRcdGxpc3QgPSBbXTtcblx0XG5cdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCB0aGlzIG9iamVjdCBpcyBzcGVudFxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRsaXN0ID0gXCJcIjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFxuXHRcdFx0Ly8gQWN0dWFsIENhbGxiYWNrcyBvYmplY3Rcblx0XHRcdHNlbGYgPSB7XG5cdFxuXHRcdFx0XHQvLyBBZGQgYSBjYWxsYmFjayBvciBhIGNvbGxlY3Rpb24gb2YgY2FsbGJhY2tzIHRvIHRoZSBsaXN0XG5cdFx0XHRcdGFkZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCBsaXN0ICkge1xuXHRcblx0XHRcdFx0XHRcdC8vIElmIHdlIGhhdmUgbWVtb3J5IGZyb20gYSBwYXN0IHJ1biwgd2Ugc2hvdWxkIGZpcmUgYWZ0ZXIgYWRkaW5nXG5cdFx0XHRcdFx0XHRpZiAoIG1lbW9yeSAmJiAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0XHRmaXJpbmdJbmRleCA9IGxpc3QubGVuZ3RoIC0gMTtcblx0XHRcdFx0XHRcdFx0cXVldWUucHVzaCggbWVtb3J5ICk7XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0KCBmdW5jdGlvbiBhZGQoIGFyZ3MgKSB7XG5cdFx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCBhcmdzLCBmdW5jdGlvbiggXywgYXJnICkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGFyZyApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCAhb3B0aW9ucy51bmlxdWUgfHwgIXNlbGYuaGFzKCBhcmcgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0bGlzdC5wdXNoKCBhcmcgKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBhcmcgJiYgYXJnLmxlbmd0aCAmJiBqUXVlcnkudHlwZSggYXJnICkgIT09IFwic3RyaW5nXCIgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSW5zcGVjdCByZWN1cnNpdmVseVxuXHRcdFx0XHRcdFx0XHRcdFx0YWRkKCBhcmcgKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdH0gKSggYXJndW1lbnRzICk7XG5cdFxuXHRcdFx0XHRcdFx0aWYgKCBtZW1vcnkgJiYgIWZpcmluZyApIHtcblx0XHRcdFx0XHRcdFx0ZmlyZSgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8vIFJlbW92ZSBhIGNhbGxiYWNrIGZyb20gdGhlIGxpc3Rcblx0XHRcdFx0cmVtb3ZlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRqUXVlcnkuZWFjaCggYXJndW1lbnRzLCBmdW5jdGlvbiggXywgYXJnICkge1xuXHRcdFx0XHRcdFx0dmFyIGluZGV4O1xuXHRcdFx0XHRcdFx0d2hpbGUgKCAoIGluZGV4ID0galF1ZXJ5LmluQXJyYXkoIGFyZywgbGlzdCwgaW5kZXggKSApID4gLTEgKSB7XG5cdFx0XHRcdFx0XHRcdGxpc3Quc3BsaWNlKCBpbmRleCwgMSApO1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGZpcmluZyBpbmRleGVzXG5cdFx0XHRcdFx0XHRcdGlmICggaW5kZXggPD0gZmlyaW5nSW5kZXggKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXgtLTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8vIENoZWNrIGlmIGEgZ2l2ZW4gY2FsbGJhY2sgaXMgaW4gdGhlIGxpc3QuXG5cdFx0XHRcdC8vIElmIG5vIGFyZ3VtZW50IGlzIGdpdmVuLCByZXR1cm4gd2hldGhlciBvciBub3QgbGlzdCBoYXMgY2FsbGJhY2tzIGF0dGFjaGVkLlxuXHRcdFx0XHRoYXM6IGZ1bmN0aW9uKCBmbiApIHtcblx0XHRcdFx0XHRyZXR1cm4gZm4gP1xuXHRcdFx0XHRcdFx0alF1ZXJ5LmluQXJyYXkoIGZuLCBsaXN0ICkgPiAtMSA6XG5cdFx0XHRcdFx0XHRsaXN0Lmxlbmd0aCA+IDA7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHQvLyBSZW1vdmUgYWxsIGNhbGxiYWNrcyBmcm9tIHRoZSBsaXN0XG5cdFx0XHRcdGVtcHR5OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoIGxpc3QgKSB7XG5cdFx0XHRcdFx0XHRsaXN0ID0gW107XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0Ly8gRGlzYWJsZSAuZmlyZSBhbmQgLmFkZFxuXHRcdFx0XHQvLyBBYm9ydCBhbnkgY3VycmVudC9wZW5kaW5nIGV4ZWN1dGlvbnNcblx0XHRcdFx0Ly8gQ2xlYXIgYWxsIGNhbGxiYWNrcyBhbmQgdmFsdWVzXG5cdFx0XHRcdGRpc2FibGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGxvY2tlZCA9IHF1ZXVlID0gW107XG5cdFx0XHRcdFx0bGlzdCA9IG1lbW9yeSA9IFwiXCI7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGRpc2FibGVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gIWxpc3Q7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHQvLyBEaXNhYmxlIC5maXJlXG5cdFx0XHRcdC8vIEFsc28gZGlzYWJsZSAuYWRkIHVubGVzcyB3ZSBoYXZlIG1lbW9yeSAoc2luY2UgaXQgd291bGQgaGF2ZSBubyBlZmZlY3QpXG5cdFx0XHRcdC8vIEFib3J0IGFueSBwZW5kaW5nIGV4ZWN1dGlvbnNcblx0XHRcdFx0bG9jazogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0bG9ja2VkID0gcXVldWUgPSBbXTtcblx0XHRcdFx0XHRpZiAoICFtZW1vcnkgJiYgIWZpcmluZyApIHtcblx0XHRcdFx0XHRcdGxpc3QgPSBtZW1vcnkgPSBcIlwiO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XHRcdFx0bG9ja2VkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gISFsb2NrZWQ7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHQvLyBDYWxsIGFsbCBjYWxsYmFja3Mgd2l0aCB0aGUgZ2l2ZW4gY29udGV4dCBhbmQgYXJndW1lbnRzXG5cdFx0XHRcdGZpcmVXaXRoOiBmdW5jdGlvbiggY29udGV4dCwgYXJncyApIHtcblx0XHRcdFx0XHRpZiAoICFsb2NrZWQgKSB7XG5cdFx0XHRcdFx0XHRhcmdzID0gYXJncyB8fCBbXTtcblx0XHRcdFx0XHRcdGFyZ3MgPSBbIGNvbnRleHQsIGFyZ3Muc2xpY2UgPyBhcmdzLnNsaWNlKCkgOiBhcmdzIF07XG5cdFx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBhcmdzICk7XG5cdFx0XHRcdFx0XHRpZiAoICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRcdGZpcmUoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHQvLyBDYWxsIGFsbCB0aGUgY2FsbGJhY2tzIHdpdGggdGhlIGdpdmVuIGFyZ3VtZW50c1xuXHRcdFx0XHRmaXJlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRzZWxmLmZpcmVXaXRoKCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8vIFRvIGtub3cgaWYgdGhlIGNhbGxiYWNrcyBoYXZlIGFscmVhZHkgYmVlbiBjYWxsZWQgYXQgbGVhc3Qgb25jZVxuXHRcdFx0XHRmaXJlZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuICEhZmlyZWQ7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFxuXHRcdHJldHVybiBzZWxmO1xuXHR9O1xuXHRcblx0XG5cdGZ1bmN0aW9uIElkZW50aXR5KCB2ICkge1xuXHRcdHJldHVybiB2O1xuXHR9XG5cdGZ1bmN0aW9uIFRocm93ZXIoIGV4ICkge1xuXHRcdHRocm93IGV4O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhZG9wdFZhbHVlKCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0ICkge1xuXHRcdHZhciBtZXRob2Q7XG5cdFxuXHRcdHRyeSB7XG5cdFxuXHRcdFx0Ly8gQ2hlY2sgZm9yIHByb21pc2UgYXNwZWN0IGZpcnN0IHRvIHByaXZpbGVnZSBzeW5jaHJvbm91cyBiZWhhdmlvclxuXHRcdFx0aWYgKCB2YWx1ZSAmJiBqUXVlcnkuaXNGdW5jdGlvbiggKCBtZXRob2QgPSB2YWx1ZS5wcm9taXNlICkgKSApIHtcblx0XHRcdFx0bWV0aG9kLmNhbGwoIHZhbHVlICkuZG9uZSggcmVzb2x2ZSApLmZhaWwoIHJlamVjdCApO1xuXHRcblx0XHRcdC8vIE90aGVyIHRoZW5hYmxlc1xuXHRcdFx0fSBlbHNlIGlmICggdmFsdWUgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oICggbWV0aG9kID0gdmFsdWUudGhlbiApICkgKSB7XG5cdFx0XHRcdG1ldGhvZC5jYWxsKCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0ICk7XG5cdFxuXHRcdFx0Ly8gT3RoZXIgbm9uLXRoZW5hYmxlc1xuXHRcdFx0fSBlbHNlIHtcblx0XG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIG9ubHlcblx0XHRcdFx0Ly8gU3RyaWN0IG1vZGUgZnVuY3Rpb25zIGludm9rZWQgd2l0aG91dCAuY2FsbC8uYXBwbHkgZ2V0IGdsb2JhbC1vYmplY3QgY29udGV4dFxuXHRcdFx0XHRyZXNvbHZlLmNhbGwoIHVuZGVmaW5lZCwgdmFsdWUgKTtcblx0XHRcdH1cblx0XG5cdFx0Ly8gRm9yIFByb21pc2VzL0ErLCBjb252ZXJ0IGV4Y2VwdGlvbnMgaW50byByZWplY3Rpb25zXG5cdFx0Ly8gU2luY2UgalF1ZXJ5LndoZW4gZG9lc24ndCB1bndyYXAgdGhlbmFibGVzLCB3ZSBjYW4gc2tpcCB0aGUgZXh0cmEgY2hlY2tzIGFwcGVhcmluZyBpblxuXHRcdC8vIERlZmVycmVkI3RoZW4gdG8gY29uZGl0aW9uYWxseSBzdXBwcmVzcyByZWplY3Rpb24uXG5cdFx0fSBjYXRjaCAoIHZhbHVlICkge1xuXHRcblx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIG9ubHlcblx0XHRcdC8vIFN0cmljdCBtb2RlIGZ1bmN0aW9ucyBpbnZva2VkIHdpdGhvdXQgLmNhbGwvLmFwcGx5IGdldCBnbG9iYWwtb2JqZWN0IGNvbnRleHRcblx0XHRcdHJlamVjdC5jYWxsKCB1bmRlZmluZWQsIHZhbHVlICk7XG5cdFx0fVxuXHR9XG5cdFxuXHRqUXVlcnkuZXh0ZW5kKCB7XG5cdFxuXHRcdERlZmVycmVkOiBmdW5jdGlvbiggZnVuYyApIHtcblx0XHRcdHZhciB0dXBsZXMgPSBbXG5cdFxuXHRcdFx0XHRcdC8vIGFjdGlvbiwgYWRkIGxpc3RlbmVyLCBjYWxsYmFja3MsXG5cdFx0XHRcdFx0Ly8gLi4uIC50aGVuIGhhbmRsZXJzLCBhcmd1bWVudCBpbmRleCwgW2ZpbmFsIHN0YXRlXVxuXHRcdFx0XHRcdFsgXCJub3RpZnlcIiwgXCJwcm9ncmVzc1wiLCBqUXVlcnkuQ2FsbGJhY2tzKCBcIm1lbW9yeVwiICksXG5cdFx0XHRcdFx0XHRqUXVlcnkuQ2FsbGJhY2tzKCBcIm1lbW9yeVwiICksIDIgXSxcblx0XHRcdFx0XHRbIFwicmVzb2x2ZVwiLCBcImRvbmVcIiwgalF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksXG5cdFx0XHRcdFx0XHRqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKSwgMCwgXCJyZXNvbHZlZFwiIF0sXG5cdFx0XHRcdFx0WyBcInJlamVjdFwiLCBcImZhaWxcIiwgalF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksXG5cdFx0XHRcdFx0XHRqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKSwgMSwgXCJyZWplY3RlZFwiIF1cblx0XHRcdFx0XSxcblx0XHRcdFx0c3RhdGUgPSBcInBlbmRpbmdcIixcblx0XHRcdFx0cHJvbWlzZSA9IHtcblx0XHRcdFx0XHRzdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gc3RhdGU7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRhbHdheXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0ZGVmZXJyZWQuZG9uZSggYXJndW1lbnRzICkuZmFpbCggYXJndW1lbnRzICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFwiY2F0Y2hcIjogZnVuY3Rpb24oIGZuICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHByb21pc2UudGhlbiggbnVsbCwgZm4gKTtcblx0XHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0XHQvLyBLZWVwIHBpcGUgZm9yIGJhY2stY29tcGF0XG5cdFx0XHRcdFx0cGlwZTogZnVuY3Rpb24oIC8qIGZuRG9uZSwgZm5GYWlsLCBmblByb2dyZXNzICovICkge1xuXHRcdFx0XHRcdFx0dmFyIGZucyA9IGFyZ3VtZW50cztcblx0XG5cdFx0XHRcdFx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCBmdW5jdGlvbiggbmV3RGVmZXIgKSB7XG5cdFx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBpLCB0dXBsZSApIHtcblx0XG5cdFx0XHRcdFx0XHRcdFx0Ly8gTWFwIHR1cGxlcyAocHJvZ3Jlc3MsIGRvbmUsIGZhaWwpIHRvIGFyZ3VtZW50cyAoZG9uZSwgZmFpbCwgcHJvZ3Jlc3MpXG5cdFx0XHRcdFx0XHRcdFx0dmFyIGZuID0galF1ZXJ5LmlzRnVuY3Rpb24oIGZuc1sgdHVwbGVbIDQgXSBdICkgJiYgZm5zWyB0dXBsZVsgNCBdIF07XG5cdFxuXHRcdFx0XHRcdFx0XHRcdC8vIGRlZmVycmVkLnByb2dyZXNzKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLm5vdGlmeSB9KVxuXHRcdFx0XHRcdFx0XHRcdC8vIGRlZmVycmVkLmRvbmUoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIucmVzb2x2ZSB9KVxuXHRcdFx0XHRcdFx0XHRcdC8vIGRlZmVycmVkLmZhaWwoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIucmVqZWN0IH0pXG5cdFx0XHRcdFx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAxIF0gXSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgcmV0dXJuZWQgPSBmbiAmJiBmbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHJldHVybmVkICYmIGpRdWVyeS5pc0Z1bmN0aW9uKCByZXR1cm5lZC5wcm9taXNlICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLnByb21pc2UoKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC5wcm9ncmVzcyggbmV3RGVmZXIubm90aWZ5IClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQuZG9uZSggbmV3RGVmZXIucmVzb2x2ZSApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0LmZhaWwoIG5ld0RlZmVyLnJlamVjdCApO1xuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0bmV3RGVmZXJbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zm4gPyBbIHJldHVybmVkIF0gOiBhcmd1bWVudHNcblx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0Zm5zID0gbnVsbDtcblx0XHRcdFx0XHRcdH0gKS5wcm9taXNlKCk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR0aGVuOiBmdW5jdGlvbiggb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIG9uUHJvZ3Jlc3MgKSB7XG5cdFx0XHRcdFx0XHR2YXIgbWF4RGVwdGggPSAwO1xuXHRcdFx0XHRcdFx0ZnVuY3Rpb24gcmVzb2x2ZSggZGVwdGgsIGRlZmVycmVkLCBoYW5kbGVyLCBzcGVjaWFsICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0XHRcdFx0XHRcdFx0YXJncyA9IGFyZ3VtZW50cyxcblx0XHRcdFx0XHRcdFx0XHRcdG1pZ2h0VGhyb3cgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIHJldHVybmVkLCB0aGVuO1xuXHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMy4zLjNcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTlcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gSWdub3JlIGRvdWJsZS1yZXNvbHV0aW9uIGF0dGVtcHRzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggZGVwdGggPCBtYXhEZXB0aCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkID0gaGFuZGxlci5hcHBseSggdGhhdCwgYXJncyApO1xuXHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC00OFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHJldHVybmVkID09PSBkZWZlcnJlZC5wcm9taXNlKCkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvciggXCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb25cIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9ucyAyLjMuMy4xLCAzLjVcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNzVcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gUmV0cmlldmUgYHRoZW5gIG9ubHkgb25jZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGVuID0gcmV0dXJuZWQgJiZcblx0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuNFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTY0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBjaGVjayBvYmplY3RzIGFuZCBmdW5jdGlvbnMgZm9yIHRoZW5hYmlsaXR5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KCB0eXBlb2YgcmV0dXJuZWQgPT09IFwib2JqZWN0XCIgfHxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGVvZiByZXR1cm5lZCA9PT0gXCJmdW5jdGlvblwiICkgJiZcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZC50aGVuO1xuXHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGEgcmV0dXJuZWQgdGhlbmFibGVcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdGhlbiApICkge1xuXHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTcGVjaWFsIHByb2Nlc3NvcnMgKG5vdGlmeSkganVzdCB3YWl0IGZvciByZXNvbHV0aW9uXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBzcGVjaWFsICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhlbi5jYWxsKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSwgc3BlY2lhbCApLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIFRocm93ZXIsIHNwZWNpYWwgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gTm9ybWFsIHByb2Nlc3NvcnMgKHJlc29sdmUpIGFsc28gaG9vayBpbnRvIHByb2dyZXNzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAuLi5hbmQgZGlzcmVnYXJkIG9sZGVyIHJlc29sdXRpb24gdmFsdWVzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtYXhEZXB0aCsrO1xuXHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoZW4uY2FsbChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgSWRlbnRpdHksIHNwZWNpYWwgKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBUaHJvd2VyLCBzcGVjaWFsICksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgSWRlbnRpdHksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVmZXJyZWQubm90aWZ5V2l0aCApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIEhhbmRsZSBhbGwgb3RoZXIgcmV0dXJuZWQgdmFsdWVzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgc3Vic3RpdHV0ZSBoYW5kbGVycyBwYXNzIG9uIGNvbnRleHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBhbmQgbXVsdGlwbGUgdmFsdWVzIChub24tc3BlYyBiZWhhdmlvcilcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGhhbmRsZXIgIT09IElkZW50aXR5ICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhhdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFyZ3MgPSBbIHJldHVybmVkIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBQcm9jZXNzIHRoZSB2YWx1ZShzKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIERlZmF1bHQgcHJvY2VzcyBpcyByZXNvbHZlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KCBzcGVjaWFsIHx8IGRlZmVycmVkLnJlc29sdmVXaXRoICkoIHRoYXQsIGFyZ3MgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IG5vcm1hbCBwcm9jZXNzb3JzIChyZXNvbHZlKSBjYXRjaCBhbmQgcmVqZWN0IGV4Y2VwdGlvbnNcblx0XHRcdFx0XHRcdFx0XHRcdHByb2Nlc3MgPSBzcGVjaWFsID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0bWlnaHRUaHJvdyA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtaWdodFRocm93KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LkRlZmVycmVkLmV4Y2VwdGlvbkhvb2soIGUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cHJvY2Vzcy5zdGFja1RyYWNlICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMy4zLjQuMVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNjFcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIElnbm9yZSBwb3N0LXJlc29sdXRpb24gZXhjZXB0aW9uc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBkZXB0aCArIDEgPj0gbWF4RGVwdGggKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IHN1YnN0aXR1dGUgaGFuZGxlcnMgcGFzcyBvbiBjb250ZXh0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGFuZCBtdWx0aXBsZSB2YWx1ZXMgKG5vbi1zcGVjIGJlaGF2aW9yKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGhhbmRsZXIgIT09IFRocm93ZXIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhhdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcmdzID0gWyBlIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdFdpdGgoIHRoYXQsIGFyZ3MgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH07XG5cdFxuXHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy4xXG5cdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTdcblx0XHRcdFx0XHRcdFx0XHQvLyBSZS1yZXNvbHZlIHByb21pc2VzIGltbWVkaWF0ZWx5IHRvIGRvZGdlIGZhbHNlIHJlamVjdGlvbiBmcm9tXG5cdFx0XHRcdFx0XHRcdFx0Ly8gc3Vic2VxdWVudCBlcnJvcnNcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGRlcHRoICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cHJvY2VzcygpO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gQ2FsbCBhbiBvcHRpb25hbCBob29rIHRvIHJlY29yZCB0aGUgc3RhY2ssIGluIGNhc2Ugb2YgZXhjZXB0aW9uXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBzaW5jZSBpdCdzIG90aGVyd2lzZSBsb3N0IHdoZW4gZXhlY3V0aW9uIGdvZXMgYXN5bmNcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5LkRlZmVycmVkLmdldFN0YWNrSG9vayApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cHJvY2Vzcy5zdGFja1RyYWNlID0galF1ZXJ5LkRlZmVycmVkLmdldFN0YWNrSG9vaygpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0d2luZG93LnNldFRpbWVvdXQoIHByb2Nlc3MgKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZCggZnVuY3Rpb24oIG5ld0RlZmVyICkge1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gcHJvZ3Jlc3NfaGFuZGxlcnMuYWRkKCAuLi4gKVxuXHRcdFx0XHRcdFx0XHR0dXBsZXNbIDAgXVsgMyBdLmFkZChcblx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKFxuXHRcdFx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLFxuXHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmlzRnVuY3Rpb24oIG9uUHJvZ3Jlc3MgKSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9uUHJvZ3Jlc3MgOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRJZGVudGl0eSxcblx0XHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLm5vdGlmeVdpdGhcblx0XHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFxuXHRcdFx0XHRcdFx0XHQvLyBmdWxmaWxsZWRfaGFuZGxlcnMuYWRkKCAuLi4gKVxuXHRcdFx0XHRcdFx0XHR0dXBsZXNbIDEgXVsgMyBdLmFkZChcblx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKFxuXHRcdFx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLFxuXHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmlzRnVuY3Rpb24oIG9uRnVsZmlsbGVkICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRvbkZ1bGZpbGxlZCA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdElkZW50aXR5XG5cdFx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gcmVqZWN0ZWRfaGFuZGxlcnMuYWRkKCAuLi4gKVxuXHRcdFx0XHRcdFx0XHR0dXBsZXNbIDIgXVsgMyBdLmFkZChcblx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKFxuXHRcdFx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLFxuXHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmlzRnVuY3Rpb24oIG9uUmVqZWN0ZWQgKSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9uUmVqZWN0ZWQgOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRUaHJvd2VyXG5cdFx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0fSApLnByb21pc2UoKTtcblx0XHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0XHQvLyBHZXQgYSBwcm9taXNlIGZvciB0aGlzIGRlZmVycmVkXG5cdFx0XHRcdFx0Ly8gSWYgb2JqIGlzIHByb3ZpZGVkLCB0aGUgcHJvbWlzZSBhc3BlY3QgaXMgYWRkZWQgdG8gdGhlIG9iamVjdFxuXHRcdFx0XHRcdHByb21pc2U6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gb2JqICE9IG51bGwgPyBqUXVlcnkuZXh0ZW5kKCBvYmosIHByb21pc2UgKSA6IHByb21pc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRkZWZlcnJlZCA9IHt9O1xuXHRcblx0XHRcdC8vIEFkZCBsaXN0LXNwZWNpZmljIG1ldGhvZHNcblx0XHRcdGpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBpLCB0dXBsZSApIHtcblx0XHRcdFx0dmFyIGxpc3QgPSB0dXBsZVsgMiBdLFxuXHRcdFx0XHRcdHN0YXRlU3RyaW5nID0gdHVwbGVbIDUgXTtcblx0XG5cdFx0XHRcdC8vIHByb21pc2UucHJvZ3Jlc3MgPSBsaXN0LmFkZFxuXHRcdFx0XHQvLyBwcm9taXNlLmRvbmUgPSBsaXN0LmFkZFxuXHRcdFx0XHQvLyBwcm9taXNlLmZhaWwgPSBsaXN0LmFkZFxuXHRcdFx0XHRwcm9taXNlWyB0dXBsZVsgMSBdIF0gPSBsaXN0LmFkZDtcblx0XG5cdFx0XHRcdC8vIEhhbmRsZSBzdGF0ZVxuXHRcdFx0XHRpZiAoIHN0YXRlU3RyaW5nICkge1xuXHRcdFx0XHRcdGxpc3QuYWRkKFxuXHRcdFx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHQvLyBzdGF0ZSA9IFwicmVzb2x2ZWRcIiAoaS5lLiwgZnVsZmlsbGVkKVxuXHRcdFx0XHRcdFx0XHQvLyBzdGF0ZSA9IFwicmVqZWN0ZWRcIlxuXHRcdFx0XHRcdFx0XHRzdGF0ZSA9IHN0YXRlU3RyaW5nO1xuXHRcdFx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdFx0XHQvLyByZWplY3RlZF9jYWxsYmFja3MuZGlzYWJsZVxuXHRcdFx0XHRcdFx0Ly8gZnVsZmlsbGVkX2NhbGxiYWNrcy5kaXNhYmxlXG5cdFx0XHRcdFx0XHR0dXBsZXNbIDMgLSBpIF1bIDIgXS5kaXNhYmxlLFxuXHRcblx0XHRcdFx0XHRcdC8vIHByb2dyZXNzX2NhbGxiYWNrcy5sb2NrXG5cdFx0XHRcdFx0XHR0dXBsZXNbIDAgXVsgMiBdLmxvY2tcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBwcm9ncmVzc19oYW5kbGVycy5maXJlXG5cdFx0XHRcdC8vIGZ1bGZpbGxlZF9oYW5kbGVycy5maXJlXG5cdFx0XHRcdC8vIHJlamVjdGVkX2hhbmRsZXJzLmZpcmVcblx0XHRcdFx0bGlzdC5hZGQoIHR1cGxlWyAzIF0uZmlyZSApO1xuXHRcblx0XHRcdFx0Ly8gZGVmZXJyZWQubm90aWZ5ID0gZnVuY3Rpb24oKSB7IGRlZmVycmVkLm5vdGlmeVdpdGgoLi4uKSB9XG5cdFx0XHRcdC8vIGRlZmVycmVkLnJlc29sdmUgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQucmVzb2x2ZVdpdGgoLi4uKSB9XG5cdFx0XHRcdC8vIGRlZmVycmVkLnJlamVjdCA9IGZ1bmN0aW9uKCkgeyBkZWZlcnJlZC5yZWplY3RXaXRoKC4uLikgfVxuXHRcdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDAgXSBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdKCB0aGlzID09PSBkZWZlcnJlZCA/IHVuZGVmaW5lZCA6IHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9O1xuXHRcblx0XHRcdFx0Ly8gZGVmZXJyZWQubm90aWZ5V2l0aCA9IGxpc3QuZmlyZVdpdGhcblx0XHRcdFx0Ly8gZGVmZXJyZWQucmVzb2x2ZVdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHRcdC8vIGRlZmVycmVkLnJlamVjdFdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHRcdGRlZmVycmVkWyB0dXBsZVsgMCBdICsgXCJXaXRoXCIgXSA9IGxpc3QuZmlyZVdpdGg7XG5cdFx0XHR9ICk7XG5cdFxuXHRcdFx0Ly8gTWFrZSB0aGUgZGVmZXJyZWQgYSBwcm9taXNlXG5cdFx0XHRwcm9taXNlLnByb21pc2UoIGRlZmVycmVkICk7XG5cdFxuXHRcdFx0Ly8gQ2FsbCBnaXZlbiBmdW5jIGlmIGFueVxuXHRcdFx0aWYgKCBmdW5jICkge1xuXHRcdFx0XHRmdW5jLmNhbGwoIGRlZmVycmVkLCBkZWZlcnJlZCApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEFsbCBkb25lIVxuXHRcdFx0cmV0dXJuIGRlZmVycmVkO1xuXHRcdH0sXG5cdFxuXHRcdC8vIERlZmVycmVkIGhlbHBlclxuXHRcdHdoZW46IGZ1bmN0aW9uKCBzaW5nbGVWYWx1ZSApIHtcblx0XHRcdHZhclxuXHRcblx0XHRcdFx0Ly8gY291bnQgb2YgdW5jb21wbGV0ZWQgc3Vib3JkaW5hdGVzXG5cdFx0XHRcdHJlbWFpbmluZyA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdFxuXHRcdFx0XHQvLyBjb3VudCBvZiB1bnByb2Nlc3NlZCBhcmd1bWVudHNcblx0XHRcdFx0aSA9IHJlbWFpbmluZyxcblx0XG5cdFx0XHRcdC8vIHN1Ym9yZGluYXRlIGZ1bGZpbGxtZW50IGRhdGFcblx0XHRcdFx0cmVzb2x2ZUNvbnRleHRzID0gQXJyYXkoIGkgKSxcblx0XHRcdFx0cmVzb2x2ZVZhbHVlcyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApLFxuXHRcblx0XHRcdFx0Ly8gdGhlIG1hc3RlciBEZWZlcnJlZFxuXHRcdFx0XHRtYXN0ZXIgPSBqUXVlcnkuRGVmZXJyZWQoKSxcblx0XG5cdFx0XHRcdC8vIHN1Ym9yZGluYXRlIGNhbGxiYWNrIGZhY3Rvcnlcblx0XHRcdFx0dXBkYXRlRnVuYyA9IGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlQ29udGV4dHNbIGkgXSA9IHRoaXM7XG5cdFx0XHRcdFx0XHRyZXNvbHZlVmFsdWVzWyBpIF0gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApIDogdmFsdWU7XG5cdFx0XHRcdFx0XHRpZiAoICEoIC0tcmVtYWluaW5nICkgKSB7XG5cdFx0XHRcdFx0XHRcdG1hc3Rlci5yZXNvbHZlV2l0aCggcmVzb2x2ZUNvbnRleHRzLCByZXNvbHZlVmFsdWVzICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fTtcblx0XG5cdFx0XHQvLyBTaW5nbGUtIGFuZCBlbXB0eSBhcmd1bWVudHMgYXJlIGFkb3B0ZWQgbGlrZSBQcm9taXNlLnJlc29sdmVcblx0XHRcdGlmICggcmVtYWluaW5nIDw9IDEgKSB7XG5cdFx0XHRcdGFkb3B0VmFsdWUoIHNpbmdsZVZhbHVlLCBtYXN0ZXIuZG9uZSggdXBkYXRlRnVuYyggaSApICkucmVzb2x2ZSwgbWFzdGVyLnJlamVjdCApO1xuXHRcblx0XHRcdFx0Ly8gVXNlIC50aGVuKCkgdG8gdW53cmFwIHNlY29uZGFyeSB0aGVuYWJsZXMgKGNmLiBnaC0zMDAwKVxuXHRcdFx0XHRpZiAoIG1hc3Rlci5zdGF0ZSgpID09PSBcInBlbmRpbmdcIiB8fFxuXHRcdFx0XHRcdGpRdWVyeS5pc0Z1bmN0aW9uKCByZXNvbHZlVmFsdWVzWyBpIF0gJiYgcmVzb2x2ZVZhbHVlc1sgaSBdLnRoZW4gKSApIHtcblx0XG5cdFx0XHRcdFx0cmV0dXJuIG1hc3Rlci50aGVuKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHQvLyBNdWx0aXBsZSBhcmd1bWVudHMgYXJlIGFnZ3JlZ2F0ZWQgbGlrZSBQcm9taXNlLmFsbCBhcnJheSBlbGVtZW50c1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGFkb3B0VmFsdWUoIHJlc29sdmVWYWx1ZXNbIGkgXSwgdXBkYXRlRnVuYyggaSApLCBtYXN0ZXIucmVqZWN0ICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIG1hc3Rlci5wcm9taXNlKCk7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRcblx0Ly8gVGhlc2UgdXN1YWxseSBpbmRpY2F0ZSBhIHByb2dyYW1tZXIgbWlzdGFrZSBkdXJpbmcgZGV2ZWxvcG1lbnQsXG5cdC8vIHdhcm4gYWJvdXQgdGhlbSBBU0FQIHJhdGhlciB0aGFuIHN3YWxsb3dpbmcgdGhlbSBieSBkZWZhdWx0LlxuXHR2YXIgcmVycm9yTmFtZXMgPSAvXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztcblx0XG5cdGpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rID0gZnVuY3Rpb24oIGVycm9yLCBzdGFjayApIHtcblx0XG5cdFx0Ly8gU3VwcG9ydDogSUUgOCAtIDkgb25seVxuXHRcdC8vIENvbnNvbGUgZXhpc3RzIHdoZW4gZGV2IHRvb2xzIGFyZSBvcGVuLCB3aGljaCBjYW4gaGFwcGVuIGF0IGFueSB0aW1lXG5cdFx0aWYgKCB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS53YXJuICYmIGVycm9yICYmIHJlcnJvck5hbWVzLnRlc3QoIGVycm9yLm5hbWUgKSApIHtcblx0XHRcdHdpbmRvdy5jb25zb2xlLndhcm4oIFwialF1ZXJ5LkRlZmVycmVkIGV4Y2VwdGlvbjogXCIgKyBlcnJvci5tZXNzYWdlLCBlcnJvci5zdGFjaywgc3RhY2sgKTtcblx0XHR9XG5cdH07XG5cdFxuXHRcblx0XG5cdFxuXHRqUXVlcnkucmVhZHlFeGNlcHRpb24gPSBmdW5jdGlvbiggZXJyb3IgKSB7XG5cdFx0d2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fSApO1xuXHR9O1xuXHRcblx0XG5cdFxuXHRcblx0Ly8gVGhlIGRlZmVycmVkIHVzZWQgb24gRE9NIHJlYWR5XG5cdHZhciByZWFkeUxpc3QgPSBqUXVlcnkuRGVmZXJyZWQoKTtcblx0XG5cdGpRdWVyeS5mbi5yZWFkeSA9IGZ1bmN0aW9uKCBmbiApIHtcblx0XG5cdFx0cmVhZHlMaXN0XG5cdFx0XHQudGhlbiggZm4gKVxuXHRcblx0XHRcdC8vIFdyYXAgalF1ZXJ5LnJlYWR5RXhjZXB0aW9uIGluIGEgZnVuY3Rpb24gc28gdGhhdCB0aGUgbG9va3VwXG5cdFx0XHQvLyBoYXBwZW5zIGF0IHRoZSB0aW1lIG9mIGVycm9yIGhhbmRsaW5nIGluc3RlYWQgb2YgY2FsbGJhY2tcblx0XHRcdC8vIHJlZ2lzdHJhdGlvbi5cblx0XHRcdC5jYXRjaCggZnVuY3Rpb24oIGVycm9yICkge1xuXHRcdFx0XHRqUXVlcnkucmVhZHlFeGNlcHRpb24oIGVycm9yICk7XG5cdFx0XHR9ICk7XG5cdFxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXHRcblx0alF1ZXJ5LmV4dGVuZCgge1xuXHRcblx0XHQvLyBJcyB0aGUgRE9NIHJlYWR5IHRvIGJlIHVzZWQ/IFNldCB0byB0cnVlIG9uY2UgaXQgb2NjdXJzLlxuXHRcdGlzUmVhZHk6IGZhbHNlLFxuXHRcblx0XHQvLyBBIGNvdW50ZXIgdG8gdHJhY2sgaG93IG1hbnkgaXRlbXMgdG8gd2FpdCBmb3IgYmVmb3JlXG5cdFx0Ly8gdGhlIHJlYWR5IGV2ZW50IGZpcmVzLiBTZWUgIzY3ODFcblx0XHRyZWFkeVdhaXQ6IDEsXG5cdFxuXHRcdC8vIEhvbGQgKG9yIHJlbGVhc2UpIHRoZSByZWFkeSBldmVudFxuXHRcdGhvbGRSZWFkeTogZnVuY3Rpb24oIGhvbGQgKSB7XG5cdFx0XHRpZiAoIGhvbGQgKSB7XG5cdFx0XHRcdGpRdWVyeS5yZWFkeVdhaXQrKztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGpRdWVyeS5yZWFkeSggdHJ1ZSApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdC8vIEhhbmRsZSB3aGVuIHRoZSBET00gaXMgcmVhZHlcblx0XHRyZWFkeTogZnVuY3Rpb24oIHdhaXQgKSB7XG5cdFxuXHRcdFx0Ly8gQWJvcnQgaWYgdGhlcmUgYXJlIHBlbmRpbmcgaG9sZHMgb3Igd2UncmUgYWxyZWFkeSByZWFkeVxuXHRcdFx0aWYgKCB3YWl0ID09PSB0cnVlID8gLS1qUXVlcnkucmVhZHlXYWl0IDogalF1ZXJ5LmlzUmVhZHkgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBSZW1lbWJlciB0aGF0IHRoZSBET00gaXMgcmVhZHlcblx0XHRcdGpRdWVyeS5pc1JlYWR5ID0gdHJ1ZTtcblx0XG5cdFx0XHQvLyBJZiBhIG5vcm1hbCBET00gUmVhZHkgZXZlbnQgZmlyZWQsIGRlY3JlbWVudCwgYW5kIHdhaXQgaWYgbmVlZCBiZVxuXHRcdFx0aWYgKCB3YWl0ICE9PSB0cnVlICYmIC0talF1ZXJ5LnJlYWR5V2FpdCA+IDAgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBJZiB0aGVyZSBhcmUgZnVuY3Rpb25zIGJvdW5kLCB0byBleGVjdXRlXG5cdFx0XHRyZWFkeUxpc3QucmVzb2x2ZVdpdGgoIGRvY3VtZW50LCBbIGpRdWVyeSBdICk7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRqUXVlcnkucmVhZHkudGhlbiA9IHJlYWR5TGlzdC50aGVuO1xuXHRcblx0Ly8gVGhlIHJlYWR5IGV2ZW50IGhhbmRsZXIgYW5kIHNlbGYgY2xlYW51cCBtZXRob2Rcblx0ZnVuY3Rpb24gY29tcGxldGVkKCkge1xuXHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwiRE9NQ29udGVudExvYWRlZFwiLCBjb21wbGV0ZWQgKTtcblx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJsb2FkXCIsIGNvbXBsZXRlZCApO1xuXHRcdGpRdWVyeS5yZWFkeSgpO1xuXHR9XG5cdFxuXHQvLyBDYXRjaCBjYXNlcyB3aGVyZSAkKGRvY3VtZW50KS5yZWFkeSgpIGlzIGNhbGxlZFxuXHQvLyBhZnRlciB0aGUgYnJvd3NlciBldmVudCBoYXMgYWxyZWFkeSBvY2N1cnJlZC5cblx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTAgb25seVxuXHQvLyBPbGRlciBJRSBzb21ldGltZXMgc2lnbmFscyBcImludGVyYWN0aXZlXCIgdG9vIHNvb25cblx0aWYgKCBkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIgfHxcblx0XHQoIGRvY3VtZW50LnJlYWR5U3RhdGUgIT09IFwibG9hZGluZ1wiICYmICFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwgKSApIHtcblx0XG5cdFx0Ly8gSGFuZGxlIGl0IGFzeW5jaHJvbm91c2x5IHRvIGFsbG93IHNjcmlwdHMgdGhlIG9wcG9ydHVuaXR5IHRvIGRlbGF5IHJlYWR5XG5cdFx0d2luZG93LnNldFRpbWVvdXQoIGpRdWVyeS5yZWFkeSApO1xuXHRcblx0fSBlbHNlIHtcblx0XG5cdFx0Ly8gVXNlIHRoZSBoYW5keSBldmVudCBjYWxsYmFja1xuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIFwiRE9NQ29udGVudExvYWRlZFwiLCBjb21wbGV0ZWQgKTtcblx0XG5cdFx0Ly8gQSBmYWxsYmFjayB0byB3aW5kb3cub25sb2FkLCB0aGF0IHdpbGwgYWx3YXlzIHdvcmtcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggXCJsb2FkXCIsIGNvbXBsZXRlZCApO1xuXHR9XG5cdFxuXHRcblx0XG5cdFxuXHQvLyBNdWx0aWZ1bmN0aW9uYWwgbWV0aG9kIHRvIGdldCBhbmQgc2V0IHZhbHVlcyBvZiBhIGNvbGxlY3Rpb25cblx0Ly8gVGhlIHZhbHVlL3MgY2FuIG9wdGlvbmFsbHkgYmUgZXhlY3V0ZWQgaWYgaXQncyBhIGZ1bmN0aW9uXG5cdHZhciBhY2Nlc3MgPSBmdW5jdGlvbiggZWxlbXMsIGZuLCBrZXksIHZhbHVlLCBjaGFpbmFibGUsIGVtcHR5R2V0LCByYXcgKSB7XG5cdFx0dmFyIGkgPSAwLFxuXHRcdFx0bGVuID0gZWxlbXMubGVuZ3RoLFxuXHRcdFx0YnVsayA9IGtleSA9PSBudWxsO1xuXHRcblx0XHQvLyBTZXRzIG1hbnkgdmFsdWVzXG5cdFx0aWYgKCBqUXVlcnkudHlwZSgga2V5ICkgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0XHRjaGFpbmFibGUgPSB0cnVlO1xuXHRcdFx0Zm9yICggaSBpbiBrZXkgKSB7XG5cdFx0XHRcdGFjY2VzcyggZWxlbXMsIGZuLCBpLCBrZXlbIGkgXSwgdHJ1ZSwgZW1wdHlHZXQsIHJhdyApO1xuXHRcdFx0fVxuXHRcblx0XHQvLyBTZXRzIG9uZSB2YWx1ZVxuXHRcdH0gZWxzZSBpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRjaGFpbmFibGUgPSB0cnVlO1xuXHRcblx0XHRcdGlmICggIWpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0XHRyYXcgPSB0cnVlO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggYnVsayApIHtcblx0XG5cdFx0XHRcdC8vIEJ1bGsgb3BlcmF0aW9ucyBydW4gYWdhaW5zdCB0aGUgZW50aXJlIHNldFxuXHRcdFx0XHRpZiAoIHJhdyApIHtcblx0XHRcdFx0XHRmbi5jYWxsKCBlbGVtcywgdmFsdWUgKTtcblx0XHRcdFx0XHRmbiA9IG51bGw7XG5cdFxuXHRcdFx0XHQvLyAuLi5leGNlcHQgd2hlbiBleGVjdXRpbmcgZnVuY3Rpb24gdmFsdWVzXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YnVsayA9IGZuO1xuXHRcdFx0XHRcdGZuID0gZnVuY3Rpb24oIGVsZW0sIGtleSwgdmFsdWUgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gYnVsay5jYWxsKCBqUXVlcnkoIGVsZW0gKSwgdmFsdWUgKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCBmbiApIHtcblx0XHRcdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0Zm4oXG5cdFx0XHRcdFx0XHRlbGVtc1sgaSBdLCBrZXksIHJhdyA/XG5cdFx0XHRcdFx0XHR2YWx1ZSA6XG5cdFx0XHRcdFx0XHR2YWx1ZS5jYWxsKCBlbGVtc1sgaSBdLCBpLCBmbiggZWxlbXNbIGkgXSwga2V5ICkgKVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdHJldHVybiBjaGFpbmFibGUgP1xuXHRcdFx0ZWxlbXMgOlxuXHRcblx0XHRcdC8vIEdldHNcblx0XHRcdGJ1bGsgP1xuXHRcdFx0XHRmbi5jYWxsKCBlbGVtcyApIDpcblx0XHRcdFx0bGVuID8gZm4oIGVsZW1zWyAwIF0sIGtleSApIDogZW1wdHlHZXQ7XG5cdH07XG5cdHZhciBhY2NlcHREYXRhID0gZnVuY3Rpb24oIG93bmVyICkge1xuXHRcblx0XHQvLyBBY2NlcHRzIG9ubHk6XG5cdFx0Ly8gIC0gTm9kZVxuXHRcdC8vICAgIC0gTm9kZS5FTEVNRU5UX05PREVcblx0XHQvLyAgICAtIE5vZGUuRE9DVU1FTlRfTk9ERVxuXHRcdC8vICAtIE9iamVjdFxuXHRcdC8vICAgIC0gQW55XG5cdFx0cmV0dXJuIG93bmVyLm5vZGVUeXBlID09PSAxIHx8IG93bmVyLm5vZGVUeXBlID09PSA5IHx8ICEoICtvd25lci5ub2RlVHlwZSApO1xuXHR9O1xuXHRcblx0XG5cdFxuXHRcblx0ZnVuY3Rpb24gRGF0YSgpIHtcblx0XHR0aGlzLmV4cGFuZG8gPSBqUXVlcnkuZXhwYW5kbyArIERhdGEudWlkKys7XG5cdH1cblx0XG5cdERhdGEudWlkID0gMTtcblx0XG5cdERhdGEucHJvdG90eXBlID0ge1xuXHRcblx0XHRjYWNoZTogZnVuY3Rpb24oIG93bmVyICkge1xuXHRcblx0XHRcdC8vIENoZWNrIGlmIHRoZSBvd25lciBvYmplY3QgYWxyZWFkeSBoYXMgYSBjYWNoZVxuXHRcdFx0dmFyIHZhbHVlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXHRcblx0XHRcdC8vIElmIG5vdCwgY3JlYXRlIG9uZVxuXHRcdFx0aWYgKCAhdmFsdWUgKSB7XG5cdFx0XHRcdHZhbHVlID0ge307XG5cdFxuXHRcdFx0XHQvLyBXZSBjYW4gYWNjZXB0IGRhdGEgZm9yIG5vbi1lbGVtZW50IG5vZGVzIGluIG1vZGVybiBicm93c2Vycyxcblx0XHRcdFx0Ly8gYnV0IHdlIHNob3VsZCBub3QsIHNlZSAjODMzNS5cblx0XHRcdFx0Ly8gQWx3YXlzIHJldHVybiBhbiBlbXB0eSBvYmplY3QuXG5cdFx0XHRcdGlmICggYWNjZXB0RGF0YSggb3duZXIgKSApIHtcblx0XG5cdFx0XHRcdFx0Ly8gSWYgaXQgaXMgYSBub2RlIHVubGlrZWx5IHRvIGJlIHN0cmluZ2lmeS1lZCBvciBsb29wZWQgb3ZlclxuXHRcdFx0XHRcdC8vIHVzZSBwbGFpbiBhc3NpZ25tZW50XG5cdFx0XHRcdFx0aWYgKCBvd25lci5ub2RlVHlwZSApIHtcblx0XHRcdFx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSA9IHZhbHVlO1xuXHRcblx0XHRcdFx0XHQvLyBPdGhlcndpc2Ugc2VjdXJlIGl0IGluIGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHlcblx0XHRcdFx0XHQvLyBjb25maWd1cmFibGUgbXVzdCBiZSB0cnVlIHRvIGFsbG93IHRoZSBwcm9wZXJ0eSB0byBiZVxuXHRcdFx0XHRcdC8vIGRlbGV0ZWQgd2hlbiBkYXRhIGlzIHJlbW92ZWRcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCBvd25lciwgdGhpcy5leHBhbmRvLCB7XG5cdFx0XHRcdFx0XHRcdHZhbHVlOiB2YWx1ZSxcblx0XHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH0sXG5cdFx0c2V0OiBmdW5jdGlvbiggb3duZXIsIGRhdGEsIHZhbHVlICkge1xuXHRcdFx0dmFyIHByb3AsXG5cdFx0XHRcdGNhY2hlID0gdGhpcy5jYWNoZSggb3duZXIgKTtcblx0XG5cdFx0XHQvLyBIYW5kbGU6IFsgb3duZXIsIGtleSwgdmFsdWUgXSBhcmdzXG5cdFx0XHQvLyBBbHdheXMgdXNlIGNhbWVsQ2FzZSBrZXkgKGdoLTIyNTcpXG5cdFx0XHRpZiAoIHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRjYWNoZVsgalF1ZXJ5LmNhbWVsQ2FzZSggZGF0YSApIF0gPSB2YWx1ZTtcblx0XG5cdFx0XHQvLyBIYW5kbGU6IFsgb3duZXIsIHsgcHJvcGVydGllcyB9IF0gYXJnc1xuXHRcdFx0fSBlbHNlIHtcblx0XG5cdFx0XHRcdC8vIENvcHkgdGhlIHByb3BlcnRpZXMgb25lLWJ5LW9uZSB0byB0aGUgY2FjaGUgb2JqZWN0XG5cdFx0XHRcdGZvciAoIHByb3AgaW4gZGF0YSApIHtcblx0XHRcdFx0XHRjYWNoZVsgalF1ZXJ5LmNhbWVsQ2FzZSggcHJvcCApIF0gPSBkYXRhWyBwcm9wIF07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBjYWNoZTtcblx0XHR9LFxuXHRcdGdldDogZnVuY3Rpb24oIG93bmVyLCBrZXkgKSB7XG5cdFx0XHRyZXR1cm4ga2V5ID09PSB1bmRlZmluZWQgP1xuXHRcdFx0XHR0aGlzLmNhY2hlKCBvd25lciApIDpcblx0XG5cdFx0XHRcdC8vIEFsd2F5cyB1c2UgY2FtZWxDYXNlIGtleSAoZ2gtMjI1Nylcblx0XHRcdFx0b3duZXJbIHRoaXMuZXhwYW5kbyBdICYmIG93bmVyWyB0aGlzLmV4cGFuZG8gXVsgalF1ZXJ5LmNhbWVsQ2FzZSgga2V5ICkgXTtcblx0XHR9LFxuXHRcdGFjY2VzczogZnVuY3Rpb24oIG93bmVyLCBrZXksIHZhbHVlICkge1xuXHRcblx0XHRcdC8vIEluIGNhc2VzIHdoZXJlIGVpdGhlcjpcblx0XHRcdC8vXG5cdFx0XHQvLyAgIDEuIE5vIGtleSB3YXMgc3BlY2lmaWVkXG5cdFx0XHQvLyAgIDIuIEEgc3RyaW5nIGtleSB3YXMgc3BlY2lmaWVkLCBidXQgbm8gdmFsdWUgcHJvdmlkZWRcblx0XHRcdC8vXG5cdFx0XHQvLyBUYWtlIHRoZSBcInJlYWRcIiBwYXRoIGFuZCBhbGxvdyB0aGUgZ2V0IG1ldGhvZCB0byBkZXRlcm1pbmVcblx0XHRcdC8vIHdoaWNoIHZhbHVlIHRvIHJldHVybiwgcmVzcGVjdGl2ZWx5IGVpdGhlcjpcblx0XHRcdC8vXG5cdFx0XHQvLyAgIDEuIFRoZSBlbnRpcmUgY2FjaGUgb2JqZWN0XG5cdFx0XHQvLyAgIDIuIFRoZSBkYXRhIHN0b3JlZCBhdCB0aGUga2V5XG5cdFx0XHQvL1xuXHRcdFx0aWYgKCBrZXkgPT09IHVuZGVmaW5lZCB8fFxuXHRcdFx0XHRcdCggKCBrZXkgJiYgdHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIiApICYmIHZhbHVlID09PSB1bmRlZmluZWQgKSApIHtcblx0XG5cdFx0XHRcdHJldHVybiB0aGlzLmdldCggb3duZXIsIGtleSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFdoZW4gdGhlIGtleSBpcyBub3QgYSBzdHJpbmcsIG9yIGJvdGggYSBrZXkgYW5kIHZhbHVlXG5cdFx0XHQvLyBhcmUgc3BlY2lmaWVkLCBzZXQgb3IgZXh0ZW5kIChleGlzdGluZyBvYmplY3RzKSB3aXRoIGVpdGhlcjpcblx0XHRcdC8vXG5cdFx0XHQvLyAgIDEuIEFuIG9iamVjdCBvZiBwcm9wZXJ0aWVzXG5cdFx0XHQvLyAgIDIuIEEga2V5IGFuZCB2YWx1ZVxuXHRcdFx0Ly9cblx0XHRcdHRoaXMuc2V0KCBvd25lciwga2V5LCB2YWx1ZSApO1xuXHRcblx0XHRcdC8vIFNpbmNlIHRoZSBcInNldFwiIHBhdGggY2FuIGhhdmUgdHdvIHBvc3NpYmxlIGVudHJ5IHBvaW50c1xuXHRcdFx0Ly8gcmV0dXJuIHRoZSBleHBlY3RlZCBkYXRhIGJhc2VkIG9uIHdoaWNoIHBhdGggd2FzIHRha2VuWypdXG5cdFx0XHRyZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDoga2V5O1xuXHRcdH0sXG5cdFx0cmVtb3ZlOiBmdW5jdGlvbiggb3duZXIsIGtleSApIHtcblx0XHRcdHZhciBpLFxuXHRcdFx0XHRjYWNoZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblx0XG5cdFx0XHRpZiAoIGNhY2hlID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIGtleSAhPT0gdW5kZWZpbmVkICkge1xuXHRcblx0XHRcdFx0Ly8gU3VwcG9ydCBhcnJheSBvciBzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nIG9mIGtleXNcblx0XHRcdFx0aWYgKCBqUXVlcnkuaXNBcnJheSgga2V5ICkgKSB7XG5cdFxuXHRcdFx0XHRcdC8vIElmIGtleSBpcyBhbiBhcnJheSBvZiBrZXlzLi4uXG5cdFx0XHRcdFx0Ly8gV2UgYWx3YXlzIHNldCBjYW1lbENhc2Uga2V5cywgc28gcmVtb3ZlIHRoYXQuXG5cdFx0XHRcdFx0a2V5ID0ga2V5Lm1hcCggalF1ZXJ5LmNhbWVsQ2FzZSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGtleSA9IGpRdWVyeS5jYW1lbENhc2UoIGtleSApO1xuXHRcblx0XHRcdFx0XHQvLyBJZiBhIGtleSB3aXRoIHRoZSBzcGFjZXMgZXhpc3RzLCB1c2UgaXQuXG5cdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCBjcmVhdGUgYW4gYXJyYXkgYnkgbWF0Y2hpbmcgbm9uLXdoaXRlc3BhY2Vcblx0XHRcdFx0XHRrZXkgPSBrZXkgaW4gY2FjaGUgP1xuXHRcdFx0XHRcdFx0WyBrZXkgXSA6XG5cdFx0XHRcdFx0XHQoIGtleS5tYXRjaCggcm5vdHdoaXRlICkgfHwgW10gKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0aSA9IGtleS5sZW5ndGg7XG5cdFxuXHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRkZWxldGUgY2FjaGVbIGtleVsgaSBdIF07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHQvLyBSZW1vdmUgdGhlIGV4cGFuZG8gaWYgdGhlcmUncyBubyBtb3JlIGRhdGFcblx0XHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgfHwgalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGNhY2hlICkgKSB7XG5cdFxuXHRcdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1XG5cdFx0XHRcdC8vIFdlYmtpdCAmIEJsaW5rIHBlcmZvcm1hbmNlIHN1ZmZlcnMgd2hlbiBkZWxldGluZyBwcm9wZXJ0aWVzXG5cdFx0XHRcdC8vIGZyb20gRE9NIG5vZGVzLCBzbyBzZXQgdG8gdW5kZWZpbmVkIGluc3RlYWRcblx0XHRcdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Mzc4NjA3IChidWcgcmVzdHJpY3RlZClcblx0XHRcdFx0aWYgKCBvd25lci5ub2RlVHlwZSApIHtcblx0XHRcdFx0XHRvd25lclsgdGhpcy5leHBhbmRvIF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGVsZXRlIG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0aGFzRGF0YTogZnVuY3Rpb24oIG93bmVyICkge1xuXHRcdFx0dmFyIGNhY2hlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXHRcdFx0cmV0dXJuIGNhY2hlICE9PSB1bmRlZmluZWQgJiYgIWpRdWVyeS5pc0VtcHR5T2JqZWN0KCBjYWNoZSApO1xuXHRcdH1cblx0fTtcblx0dmFyIGRhdGFQcml2ID0gbmV3IERhdGEoKTtcblx0XG5cdHZhciBkYXRhVXNlciA9IG5ldyBEYXRhKCk7XG5cdFxuXHRcblx0XG5cdC8vXHRJbXBsZW1lbnRhdGlvbiBTdW1tYXJ5XG5cdC8vXG5cdC8vXHQxLiBFbmZvcmNlIEFQSSBzdXJmYWNlIGFuZCBzZW1hbnRpYyBjb21wYXRpYmlsaXR5IHdpdGggMS45LnggYnJhbmNoXG5cdC8vXHQyLiBJbXByb3ZlIHRoZSBtb2R1bGUncyBtYWludGFpbmFiaWxpdHkgYnkgcmVkdWNpbmcgdGhlIHN0b3JhZ2Vcblx0Ly9cdFx0cGF0aHMgdG8gYSBzaW5nbGUgbWVjaGFuaXNtLlxuXHQvL1x0My4gVXNlIHRoZSBzYW1lIHNpbmdsZSBtZWNoYW5pc20gdG8gc3VwcG9ydCBcInByaXZhdGVcIiBhbmQgXCJ1c2VyXCIgZGF0YS5cblx0Ly9cdDQuIF9OZXZlcl8gZXhwb3NlIFwicHJpdmF0ZVwiIGRhdGEgdG8gdXNlciBjb2RlIChUT0RPOiBEcm9wIF9kYXRhLCBfcmVtb3ZlRGF0YSlcblx0Ly9cdDUuIEF2b2lkIGV4cG9zaW5nIGltcGxlbWVudGF0aW9uIGRldGFpbHMgb24gdXNlciBvYmplY3RzIChlZy4gZXhwYW5kbyBwcm9wZXJ0aWVzKVxuXHQvL1x0Ni4gUHJvdmlkZSBhIGNsZWFyIHBhdGggZm9yIGltcGxlbWVudGF0aW9uIHVwZ3JhZGUgdG8gV2Vha01hcCBpbiAyMDE0XG5cdFxuXHR2YXIgcmJyYWNlID0gL14oPzpcXHtbXFx3XFxXXSpcXH18XFxbW1xcd1xcV10qXFxdKSQvLFxuXHRcdHJtdWx0aURhc2ggPSAvW0EtWl0vZztcblx0XG5cdGZ1bmN0aW9uIGRhdGFBdHRyKCBlbGVtLCBrZXksIGRhdGEgKSB7XG5cdFx0dmFyIG5hbWU7XG5cdFxuXHRcdC8vIElmIG5vdGhpbmcgd2FzIGZvdW5kIGludGVybmFsbHksIHRyeSB0byBmZXRjaCBhbnlcblx0XHQvLyBkYXRhIGZyb20gdGhlIEhUTUw1IGRhdGEtKiBhdHRyaWJ1dGVcblx0XHRpZiAoIGRhdGEgPT09IHVuZGVmaW5lZCAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0bmFtZSA9IFwiZGF0YS1cIiArIGtleS5yZXBsYWNlKCBybXVsdGlEYXNoLCBcIi0kJlwiICkudG9Mb3dlckNhc2UoKTtcblx0XHRcdGRhdGEgPSBlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSApO1xuXHRcblx0XHRcdGlmICggdHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0ZGF0YSA9IGRhdGEgPT09IFwidHJ1ZVwiID8gdHJ1ZSA6XG5cdFx0XHRcdFx0XHRkYXRhID09PSBcImZhbHNlXCIgPyBmYWxzZSA6XG5cdFx0XHRcdFx0XHRkYXRhID09PSBcIm51bGxcIiA/IG51bGwgOlxuXHRcblx0XHRcdFx0XHRcdC8vIE9ubHkgY29udmVydCB0byBhIG51bWJlciBpZiBpdCBkb2Vzbid0IGNoYW5nZSB0aGUgc3RyaW5nXG5cdFx0XHRcdFx0XHQrZGF0YSArIFwiXCIgPT09IGRhdGEgPyArZGF0YSA6XG5cdFx0XHRcdFx0XHRyYnJhY2UudGVzdCggZGF0YSApID8gSlNPTi5wYXJzZSggZGF0YSApIDpcblx0XHRcdFx0XHRcdGRhdGE7XG5cdFx0XHRcdH0gY2F0Y2ggKCBlICkge31cblx0XG5cdFx0XHRcdC8vIE1ha2Ugc3VyZSB3ZSBzZXQgdGhlIGRhdGEgc28gaXQgaXNuJ3QgY2hhbmdlZCBsYXRlclxuXHRcdFx0XHRkYXRhVXNlci5zZXQoIGVsZW0sIGtleSwgZGF0YSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGRhdGE7XG5cdH1cblx0XG5cdGpRdWVyeS5leHRlbmQoIHtcblx0XHRoYXNEYXRhOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBkYXRhVXNlci5oYXNEYXRhKCBlbGVtICkgfHwgZGF0YVByaXYuaGFzRGF0YSggZWxlbSApO1xuXHRcdH0sXG5cdFxuXHRcdGRhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBkYXRhICkge1xuXHRcdFx0cmV0dXJuIGRhdGFVc2VyLmFjY2VzcyggZWxlbSwgbmFtZSwgZGF0YSApO1xuXHRcdH0sXG5cdFxuXHRcdHJlbW92ZURhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdFx0ZGF0YVVzZXIucmVtb3ZlKCBlbGVtLCBuYW1lICk7XG5cdFx0fSxcblx0XG5cdFx0Ly8gVE9ETzogTm93IHRoYXQgYWxsIGNhbGxzIHRvIF9kYXRhIGFuZCBfcmVtb3ZlRGF0YSBoYXZlIGJlZW4gcmVwbGFjZWRcblx0XHQvLyB3aXRoIGRpcmVjdCBjYWxscyB0byBkYXRhUHJpdiBtZXRob2RzLCB0aGVzZSBjYW4gYmUgZGVwcmVjYXRlZC5cblx0XHRfZGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGRhdGEgKSB7XG5cdFx0XHRyZXR1cm4gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBuYW1lLCBkYXRhICk7XG5cdFx0fSxcblx0XG5cdFx0X3JlbW92ZURhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBuYW1lICk7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRqUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdFx0ZGF0YTogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgaSwgbmFtZSwgZGF0YSxcblx0XHRcdFx0ZWxlbSA9IHRoaXNbIDAgXSxcblx0XHRcdFx0YXR0cnMgPSBlbGVtICYmIGVsZW0uYXR0cmlidXRlcztcblx0XG5cdFx0XHQvLyBHZXRzIGFsbCB2YWx1ZXNcblx0XHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdGlmICggdGhpcy5sZW5ndGggKSB7XG5cdFx0XHRcdFx0ZGF0YSA9IGRhdGFVc2VyLmdldCggZWxlbSApO1xuXHRcblx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgIWRhdGFQcml2LmdldCggZWxlbSwgXCJoYXNEYXRhQXR0cnNcIiApICkge1xuXHRcdFx0XHRcdFx0aSA9IGF0dHJzLmxlbmd0aDtcblx0XHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgMTEgb25seVxuXHRcdFx0XHRcdFx0XHQvLyBUaGUgYXR0cnMgZWxlbWVudHMgY2FuIGJlIG51bGwgKCMxNDg5NClcblx0XHRcdFx0XHRcdFx0aWYgKCBhdHRyc1sgaSBdICkge1xuXHRcdFx0XHRcdFx0XHRcdG5hbWUgPSBhdHRyc1sgaSBdLm5hbWU7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBuYW1lLmluZGV4T2YoIFwiZGF0YS1cIiApID09PSAwICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0bmFtZSA9IGpRdWVyeS5jYW1lbENhc2UoIG5hbWUuc2xpY2UoIDUgKSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGF0YUF0dHIoIGVsZW0sIG5hbWUsIGRhdGFbIG5hbWUgXSApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZGF0YVByaXYuc2V0KCBlbGVtLCBcImhhc0RhdGFBdHRyc1wiLCB0cnVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBTZXRzIG11bHRpcGxlIHZhbHVlc1xuXHRcdFx0aWYgKCB0eXBlb2Yga2V5ID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRkYXRhVXNlci5zZXQoIHRoaXMsIGtleSApO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHR2YXIgZGF0YTtcblx0XG5cdFx0XHRcdC8vIFRoZSBjYWxsaW5nIGpRdWVyeSBvYmplY3QgKGVsZW1lbnQgbWF0Y2hlcykgaXMgbm90IGVtcHR5XG5cdFx0XHRcdC8vIChhbmQgdGhlcmVmb3JlIGhhcyBhbiBlbGVtZW50IGFwcGVhcnMgYXQgdGhpc1sgMCBdKSBhbmQgdGhlXG5cdFx0XHRcdC8vIGB2YWx1ZWAgcGFyYW1ldGVyIHdhcyBub3QgdW5kZWZpbmVkLiBBbiBlbXB0eSBqUXVlcnkgb2JqZWN0XG5cdFx0XHRcdC8vIHdpbGwgcmVzdWx0IGluIGB1bmRlZmluZWRgIGZvciBlbGVtID0gdGhpc1sgMCBdIHdoaWNoIHdpbGxcblx0XHRcdFx0Ly8gdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFuIGF0dGVtcHQgdG8gcmVhZCBhIGRhdGEgY2FjaGUgaXMgbWFkZS5cblx0XHRcdFx0aWYgKCBlbGVtICYmIHZhbHVlID09PSB1bmRlZmluZWQgKSB7XG5cdFxuXHRcdFx0XHRcdC8vIEF0dGVtcHQgdG8gZ2V0IGRhdGEgZnJvbSB0aGUgY2FjaGVcblx0XHRcdFx0XHQvLyBUaGUga2V5IHdpbGwgYWx3YXlzIGJlIGNhbWVsQ2FzZWQgaW4gRGF0YVxuXHRcdFx0XHRcdGRhdGEgPSBkYXRhVXNlci5nZXQoIGVsZW0sIGtleSApO1xuXHRcdFx0XHRcdGlmICggZGF0YSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBBdHRlbXB0IHRvIFwiZGlzY292ZXJcIiB0aGUgZGF0YSBpblxuXHRcdFx0XHRcdC8vIEhUTUw1IGN1c3RvbSBkYXRhLSogYXR0cnNcblx0XHRcdFx0XHRkYXRhID0gZGF0YUF0dHIoIGVsZW0sIGtleSApO1xuXHRcdFx0XHRcdGlmICggZGF0YSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBXZSB0cmllZCByZWFsbHkgaGFyZCwgYnV0IHRoZSBkYXRhIGRvZXNuJ3QgZXhpc3QuXG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBTZXQgdGhlIGRhdGEuLi5cblx0XHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdFx0Ly8gV2UgYWx3YXlzIHN0b3JlIHRoZSBjYW1lbENhc2VkIGtleVxuXHRcdFx0XHRcdGRhdGFVc2VyLnNldCggdGhpcywga2V5LCB2YWx1ZSApO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEsIG51bGwsIHRydWUgKTtcblx0XHR9LFxuXHRcblx0XHRyZW1vdmVEYXRhOiBmdW5jdGlvbigga2V5ICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRhdGFVc2VyLnJlbW92ZSggdGhpcywga2V5ICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRcblx0alF1ZXJ5LmV4dGVuZCgge1xuXHRcdHF1ZXVlOiBmdW5jdGlvbiggZWxlbSwgdHlwZSwgZGF0YSApIHtcblx0XHRcdHZhciBxdWV1ZTtcblx0XG5cdFx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRcdHR5cGUgPSAoIHR5cGUgfHwgXCJmeFwiICkgKyBcInF1ZXVlXCI7XG5cdFx0XHRcdHF1ZXVlID0gZGF0YVByaXYuZ2V0KCBlbGVtLCB0eXBlICk7XG5cdFxuXHRcdFx0XHQvLyBTcGVlZCB1cCBkZXF1ZXVlIGJ5IGdldHRpbmcgb3V0IHF1aWNrbHkgaWYgdGhpcyBpcyBqdXN0IGEgbG9va3VwXG5cdFx0XHRcdGlmICggZGF0YSApIHtcblx0XHRcdFx0XHRpZiAoICFxdWV1ZSB8fCBqUXVlcnkuaXNBcnJheSggZGF0YSApICkge1xuXHRcdFx0XHRcdFx0cXVldWUgPSBkYXRhUHJpdi5hY2Nlc3MoIGVsZW0sIHR5cGUsIGpRdWVyeS5tYWtlQXJyYXkoIGRhdGEgKSApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBkYXRhICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBxdWV1ZSB8fCBbXTtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRkZXF1ZXVlOiBmdW5jdGlvbiggZWxlbSwgdHlwZSApIHtcblx0XHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblx0XG5cdFx0XHR2YXIgcXVldWUgPSBqUXVlcnkucXVldWUoIGVsZW0sIHR5cGUgKSxcblx0XHRcdFx0c3RhcnRMZW5ndGggPSBxdWV1ZS5sZW5ndGgsXG5cdFx0XHRcdGZuID0gcXVldWUuc2hpZnQoKSxcblx0XHRcdFx0aG9va3MgPSBqUXVlcnkuX3F1ZXVlSG9va3MoIGVsZW0sIHR5cGUgKSxcblx0XHRcdFx0bmV4dCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCBlbGVtLCB0eXBlICk7XG5cdFx0XHRcdH07XG5cdFxuXHRcdFx0Ly8gSWYgdGhlIGZ4IHF1ZXVlIGlzIGRlcXVldWVkLCBhbHdheXMgcmVtb3ZlIHRoZSBwcm9ncmVzcyBzZW50aW5lbFxuXHRcdFx0aWYgKCBmbiA9PT0gXCJpbnByb2dyZXNzXCIgKSB7XG5cdFx0XHRcdGZuID0gcXVldWUuc2hpZnQoKTtcblx0XHRcdFx0c3RhcnRMZW5ndGgtLTtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIGZuICkge1xuXHRcblx0XHRcdFx0Ly8gQWRkIGEgcHJvZ3Jlc3Mgc2VudGluZWwgdG8gcHJldmVudCB0aGUgZnggcXVldWUgZnJvbSBiZWluZ1xuXHRcdFx0XHQvLyBhdXRvbWF0aWNhbGx5IGRlcXVldWVkXG5cdFx0XHRcdGlmICggdHlwZSA9PT0gXCJmeFwiICkge1xuXHRcdFx0XHRcdHF1ZXVlLnVuc2hpZnQoIFwiaW5wcm9ncmVzc1wiICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIENsZWFyIHVwIHRoZSBsYXN0IHF1ZXVlIHN0b3AgZnVuY3Rpb25cblx0XHRcdFx0ZGVsZXRlIGhvb2tzLnN0b3A7XG5cdFx0XHRcdGZuLmNhbGwoIGVsZW0sIG5leHQsIGhvb2tzICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCAhc3RhcnRMZW5ndGggJiYgaG9va3MgKSB7XG5cdFx0XHRcdGhvb2tzLmVtcHR5LmZpcmUoKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHQvLyBOb3QgcHVibGljIC0gZ2VuZXJhdGUgYSBxdWV1ZUhvb2tzIG9iamVjdCwgb3IgcmV0dXJuIHRoZSBjdXJyZW50IG9uZVxuXHRcdF9xdWV1ZUhvb2tzOiBmdW5jdGlvbiggZWxlbSwgdHlwZSApIHtcblx0XHRcdHZhciBrZXkgPSB0eXBlICsgXCJxdWV1ZUhvb2tzXCI7XG5cdFx0XHRyZXR1cm4gZGF0YVByaXYuZ2V0KCBlbGVtLCBrZXkgKSB8fCBkYXRhUHJpdi5hY2Nlc3MoIGVsZW0sIGtleSwge1xuXHRcdFx0XHRlbXB0eTogalF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICkuYWRkKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIFsgdHlwZSArIFwicXVldWVcIiwga2V5IF0gKTtcblx0XHRcdFx0fSApXG5cdFx0XHR9ICk7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRqUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdFx0cXVldWU6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdFx0dmFyIHNldHRlciA9IDI7XG5cdFxuXHRcdFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0ZGF0YSA9IHR5cGU7XG5cdFx0XHRcdHR5cGUgPSBcImZ4XCI7XG5cdFx0XHRcdHNldHRlci0tO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCA8IHNldHRlciApIHtcblx0XHRcdFx0cmV0dXJuIGpRdWVyeS5xdWV1ZSggdGhpc1sgMCBdLCB0eXBlICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIGRhdGEgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdHRoaXMgOlxuXHRcdFx0XHR0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciBxdWV1ZSA9IGpRdWVyeS5xdWV1ZSggdGhpcywgdHlwZSwgZGF0YSApO1xuXHRcblx0XHRcdFx0XHQvLyBFbnN1cmUgYSBob29rcyBmb3IgdGhpcyBxdWV1ZVxuXHRcdFx0XHRcdGpRdWVyeS5fcXVldWVIb29rcyggdGhpcywgdHlwZSApO1xuXHRcblx0XHRcdFx0XHRpZiAoIHR5cGUgPT09IFwiZnhcIiAmJiBxdWV1ZVsgMCBdICE9PSBcImlucHJvZ3Jlc3NcIiApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0fSxcblx0XHRkZXF1ZXVlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xuXHRcdFx0fSApO1xuXHRcdH0sXG5cdFx0Y2xlYXJRdWV1ZTogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5xdWV1ZSggdHlwZSB8fCBcImZ4XCIsIFtdICk7XG5cdFx0fSxcblx0XG5cdFx0Ly8gR2V0IGEgcHJvbWlzZSByZXNvbHZlZCB3aGVuIHF1ZXVlcyBvZiBhIGNlcnRhaW4gdHlwZVxuXHRcdC8vIGFyZSBlbXB0aWVkIChmeCBpcyB0aGUgdHlwZSBieSBkZWZhdWx0KVxuXHRcdHByb21pc2U6IGZ1bmN0aW9uKCB0eXBlLCBvYmogKSB7XG5cdFx0XHR2YXIgdG1wLFxuXHRcdFx0XHRjb3VudCA9IDEsXG5cdFx0XHRcdGRlZmVyID0galF1ZXJ5LkRlZmVycmVkKCksXG5cdFx0XHRcdGVsZW1lbnRzID0gdGhpcyxcblx0XHRcdFx0aSA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0XHRyZXNvbHZlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCAhKCAtLWNvdW50ICkgKSB7XG5cdFx0XHRcdFx0XHRkZWZlci5yZXNvbHZlV2l0aCggZWxlbWVudHMsIFsgZWxlbWVudHMgXSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XG5cdFx0XHRpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRvYmogPSB0eXBlO1xuXHRcdFx0XHR0eXBlID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcdFx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXHRcblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHR0bXAgPSBkYXRhUHJpdi5nZXQoIGVsZW1lbnRzWyBpIF0sIHR5cGUgKyBcInF1ZXVlSG9va3NcIiApO1xuXHRcdFx0XHRpZiAoIHRtcCAmJiB0bXAuZW1wdHkgKSB7XG5cdFx0XHRcdFx0Y291bnQrKztcblx0XHRcdFx0XHR0bXAuZW1wdHkuYWRkKCByZXNvbHZlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJlc29sdmUoKTtcblx0XHRcdHJldHVybiBkZWZlci5wcm9taXNlKCBvYmogKTtcblx0XHR9XG5cdH0gKTtcblx0dmFyIHBudW0gPSAoIC9bKy1dPyg/OlxcZCpcXC58KVxcZCsoPzpbZUVdWystXT9cXGQrfCkvICkuc291cmNlO1xuXHRcblx0dmFyIHJjc3NOdW0gPSBuZXcgUmVnRXhwKCBcIl4oPzooWystXSk9fCkoXCIgKyBwbnVtICsgXCIpKFthLXolXSopJFwiLCBcImlcIiApO1xuXHRcblx0XG5cdHZhciBjc3NFeHBhbmQgPSBbIFwiVG9wXCIsIFwiUmlnaHRcIiwgXCJCb3R0b21cIiwgXCJMZWZ0XCIgXTtcblx0XG5cdHZhciBpc0hpZGRlbldpdGhpblRyZWUgPSBmdW5jdGlvbiggZWxlbSwgZWwgKSB7XG5cdFxuXHRcdFx0Ly8gaXNIaWRkZW5XaXRoaW5UcmVlIG1pZ2h0IGJlIGNhbGxlZCBmcm9tIGpRdWVyeSNmaWx0ZXIgZnVuY3Rpb247XG5cdFx0XHQvLyBpbiB0aGF0IGNhc2UsIGVsZW1lbnQgd2lsbCBiZSBzZWNvbmQgYXJndW1lbnRcblx0XHRcdGVsZW0gPSBlbCB8fCBlbGVtO1xuXHRcblx0XHRcdC8vIElubGluZSBzdHlsZSB0cnVtcHMgYWxsXG5cdFx0XHRyZXR1cm4gZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIiB8fFxuXHRcdFx0XHRlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwiXCIgJiZcblx0XG5cdFx0XHRcdC8vIE90aGVyd2lzZSwgY2hlY2sgY29tcHV0ZWQgc3R5bGVcblx0XHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveCA8PTQzIC0gNDVcblx0XHRcdFx0Ly8gRGlzY29ubmVjdGVkIGVsZW1lbnRzIGNhbiBoYXZlIGNvbXB1dGVkIGRpc3BsYXk6IG5vbmUsIHNvIGZpcnN0IGNvbmZpcm0gdGhhdCBlbGVtIGlzXG5cdFx0XHRcdC8vIGluIHRoZSBkb2N1bWVudC5cblx0XHRcdFx0alF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKSAmJlxuXHRcblx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSA9PT0gXCJub25lXCI7XG5cdFx0fTtcblx0XG5cdHZhciBzd2FwID0gZnVuY3Rpb24oIGVsZW0sIG9wdGlvbnMsIGNhbGxiYWNrLCBhcmdzICkge1xuXHRcdHZhciByZXQsIG5hbWUsXG5cdFx0XHRvbGQgPSB7fTtcblx0XG5cdFx0Ly8gUmVtZW1iZXIgdGhlIG9sZCB2YWx1ZXMsIGFuZCBpbnNlcnQgdGhlIG5ldyBvbmVzXG5cdFx0Zm9yICggbmFtZSBpbiBvcHRpb25zICkge1xuXHRcdFx0b2xkWyBuYW1lIF0gPSBlbGVtLnN0eWxlWyBuYW1lIF07XG5cdFx0XHRlbGVtLnN0eWxlWyBuYW1lIF0gPSBvcHRpb25zWyBuYW1lIF07XG5cdFx0fVxuXHRcblx0XHRyZXQgPSBjYWxsYmFjay5hcHBseSggZWxlbSwgYXJncyB8fCBbXSApO1xuXHRcblx0XHQvLyBSZXZlcnQgdGhlIG9sZCB2YWx1ZXNcblx0XHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0XHRlbGVtLnN0eWxlWyBuYW1lIF0gPSBvbGRbIG5hbWUgXTtcblx0XHR9XG5cdFxuXHRcdHJldHVybiByZXQ7XG5cdH07XG5cdFxuXHRcblx0XG5cdFxuXHRmdW5jdGlvbiBhZGp1c3RDU1MoIGVsZW0sIHByb3AsIHZhbHVlUGFydHMsIHR3ZWVuICkge1xuXHRcdHZhciBhZGp1c3RlZCxcblx0XHRcdHNjYWxlID0gMSxcblx0XHRcdG1heEl0ZXJhdGlvbnMgPSAyMCxcblx0XHRcdGN1cnJlbnRWYWx1ZSA9IHR3ZWVuID9cblx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHR3ZWVuLmN1cigpO1xuXHRcdFx0XHR9IDpcblx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGpRdWVyeS5jc3MoIGVsZW0sIHByb3AsIFwiXCIgKTtcblx0XHRcdFx0fSxcblx0XHRcdGluaXRpYWwgPSBjdXJyZW50VmFsdWUoKSxcblx0XHRcdHVuaXQgPSB2YWx1ZVBhcnRzICYmIHZhbHVlUGFydHNbIDMgXSB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSA/IFwiXCIgOiBcInB4XCIgKSxcblx0XG5cdFx0XHQvLyBTdGFydGluZyB2YWx1ZSBjb21wdXRhdGlvbiBpcyByZXF1aXJlZCBmb3IgcG90ZW50aWFsIHVuaXQgbWlzbWF0Y2hlc1xuXHRcdFx0aW5pdGlhbEluVW5pdCA9ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdIHx8IHVuaXQgIT09IFwicHhcIiAmJiAraW5pdGlhbCApICYmXG5cdFx0XHRcdHJjc3NOdW0uZXhlYyggalF1ZXJ5LmNzcyggZWxlbSwgcHJvcCApICk7XG5cdFxuXHRcdGlmICggaW5pdGlhbEluVW5pdCAmJiBpbml0aWFsSW5Vbml0WyAzIF0gIT09IHVuaXQgKSB7XG5cdFxuXHRcdFx0Ly8gVHJ1c3QgdW5pdHMgcmVwb3J0ZWQgYnkgalF1ZXJ5LmNzc1xuXHRcdFx0dW5pdCA9IHVuaXQgfHwgaW5pdGlhbEluVW5pdFsgMyBdO1xuXHRcblx0XHRcdC8vIE1ha2Ugc3VyZSB3ZSB1cGRhdGUgdGhlIHR3ZWVuIHByb3BlcnRpZXMgbGF0ZXIgb25cblx0XHRcdHZhbHVlUGFydHMgPSB2YWx1ZVBhcnRzIHx8IFtdO1xuXHRcblx0XHRcdC8vIEl0ZXJhdGl2ZWx5IGFwcHJveGltYXRlIGZyb20gYSBub256ZXJvIHN0YXJ0aW5nIHBvaW50XG5cdFx0XHRpbml0aWFsSW5Vbml0ID0gK2luaXRpYWwgfHwgMTtcblx0XG5cdFx0XHRkbyB7XG5cdFxuXHRcdFx0XHQvLyBJZiBwcmV2aW91cyBpdGVyYXRpb24gemVyb2VkIG91dCwgZG91YmxlIHVudGlsIHdlIGdldCAqc29tZXRoaW5nKi5cblx0XHRcdFx0Ly8gVXNlIHN0cmluZyBmb3IgZG91Ymxpbmcgc28gd2UgZG9uJ3QgYWNjaWRlbnRhbGx5IHNlZSBzY2FsZSBhcyB1bmNoYW5nZWQgYmVsb3dcblx0XHRcdFx0c2NhbGUgPSBzY2FsZSB8fCBcIi41XCI7XG5cdFxuXHRcdFx0XHQvLyBBZGp1c3QgYW5kIGFwcGx5XG5cdFx0XHRcdGluaXRpYWxJblVuaXQgPSBpbml0aWFsSW5Vbml0IC8gc2NhbGU7XG5cdFx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCwgaW5pdGlhbEluVW5pdCArIHVuaXQgKTtcblx0XG5cdFx0XHQvLyBVcGRhdGUgc2NhbGUsIHRvbGVyYXRpbmcgemVybyBvciBOYU4gZnJvbSB0d2Vlbi5jdXIoKVxuXHRcdFx0Ly8gQnJlYWsgdGhlIGxvb3AgaWYgc2NhbGUgaXMgdW5jaGFuZ2VkIG9yIHBlcmZlY3QsIG9yIGlmIHdlJ3ZlIGp1c3QgaGFkIGVub3VnaC5cblx0XHRcdH0gd2hpbGUgKFxuXHRcdFx0XHRzY2FsZSAhPT0gKCBzY2FsZSA9IGN1cnJlbnRWYWx1ZSgpIC8gaW5pdGlhbCApICYmIHNjYWxlICE9PSAxICYmIC0tbWF4SXRlcmF0aW9uc1xuXHRcdFx0KTtcblx0XHR9XG5cdFxuXHRcdGlmICggdmFsdWVQYXJ0cyApIHtcblx0XHRcdGluaXRpYWxJblVuaXQgPSAraW5pdGlhbEluVW5pdCB8fCAraW5pdGlhbCB8fCAwO1xuXHRcblx0XHRcdC8vIEFwcGx5IHJlbGF0aXZlIG9mZnNldCAoKz0vLT0pIGlmIHNwZWNpZmllZFxuXHRcdFx0YWRqdXN0ZWQgPSB2YWx1ZVBhcnRzWyAxIF0gP1xuXHRcdFx0XHRpbml0aWFsSW5Vbml0ICsgKCB2YWx1ZVBhcnRzWyAxIF0gKyAxICkgKiB2YWx1ZVBhcnRzWyAyIF0gOlxuXHRcdFx0XHQrdmFsdWVQYXJ0c1sgMiBdO1xuXHRcdFx0aWYgKCB0d2VlbiApIHtcblx0XHRcdFx0dHdlZW4udW5pdCA9IHVuaXQ7XG5cdFx0XHRcdHR3ZWVuLnN0YXJ0ID0gaW5pdGlhbEluVW5pdDtcblx0XHRcdFx0dHdlZW4uZW5kID0gYWRqdXN0ZWQ7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBhZGp1c3RlZDtcblx0fVxuXHRcblx0XG5cdHZhciBkZWZhdWx0RGlzcGxheU1hcCA9IHt9O1xuXHRcblx0ZnVuY3Rpb24gZ2V0RGVmYXVsdERpc3BsYXkoIGVsZW0gKSB7XG5cdFx0dmFyIHRlbXAsXG5cdFx0XHRkb2MgPSBlbGVtLm93bmVyRG9jdW1lbnQsXG5cdFx0XHRub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUsXG5cdFx0XHRkaXNwbGF5ID0gZGVmYXVsdERpc3BsYXlNYXBbIG5vZGVOYW1lIF07XG5cdFxuXHRcdGlmICggZGlzcGxheSApIHtcblx0XHRcdHJldHVybiBkaXNwbGF5O1xuXHRcdH1cblx0XG5cdFx0dGVtcCA9IGRvYy5ib2R5LmFwcGVuZENoaWxkKCBkb2MuY3JlYXRlRWxlbWVudCggbm9kZU5hbWUgKSApLFxuXHRcdGRpc3BsYXkgPSBqUXVlcnkuY3NzKCB0ZW1wLCBcImRpc3BsYXlcIiApO1xuXHRcblx0XHR0ZW1wLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHRlbXAgKTtcblx0XG5cdFx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRcdGRpc3BsYXkgPSBcImJsb2NrXCI7XG5cdFx0fVxuXHRcdGRlZmF1bHREaXNwbGF5TWFwWyBub2RlTmFtZSBdID0gZGlzcGxheTtcblx0XG5cdFx0cmV0dXJuIGRpc3BsYXk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNob3dIaWRlKCBlbGVtZW50cywgc2hvdyApIHtcblx0XHR2YXIgZGlzcGxheSwgZWxlbSxcblx0XHRcdHZhbHVlcyA9IFtdLFxuXHRcdFx0aW5kZXggPSAwLFxuXHRcdFx0bGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoO1xuXHRcblx0XHQvLyBEZXRlcm1pbmUgbmV3IGRpc3BsYXkgdmFsdWUgZm9yIGVsZW1lbnRzIHRoYXQgbmVlZCB0byBjaGFuZ2Vcblx0XHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0ZWxlbSA9IGVsZW1lbnRzWyBpbmRleCBdO1xuXHRcdFx0aWYgKCAhZWxlbS5zdHlsZSApIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFxuXHRcdFx0ZGlzcGxheSA9IGVsZW0uc3R5bGUuZGlzcGxheTtcblx0XHRcdGlmICggc2hvdyApIHtcblx0XG5cdFx0XHRcdC8vIFNpbmNlIHdlIGZvcmNlIHZpc2liaWxpdHkgdXBvbiBjYXNjYWRlLWhpZGRlbiBlbGVtZW50cywgYW4gaW1tZWRpYXRlIChhbmQgc2xvdylcblx0XHRcdFx0Ly8gY2hlY2sgaXMgcmVxdWlyZWQgaW4gdGhpcyBmaXJzdCBsb29wIHVubGVzcyB3ZSBoYXZlIGEgbm9uZW1wdHkgZGlzcGxheSB2YWx1ZSAoZWl0aGVyXG5cdFx0XHRcdC8vIGlubGluZSBvciBhYm91dC10by1iZS1yZXN0b3JlZClcblx0XHRcdFx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRcdFx0XHR2YWx1ZXNbIGluZGV4IF0gPSBkYXRhUHJpdi5nZXQoIGVsZW0sIFwiZGlzcGxheVwiICkgfHwgbnVsbDtcblx0XHRcdFx0XHRpZiAoICF2YWx1ZXNbIGluZGV4IF0gKSB7XG5cdFx0XHRcdFx0XHRlbGVtLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJcIiAmJiBpc0hpZGRlbldpdGhpblRyZWUoIGVsZW0gKSApIHtcblx0XHRcdFx0XHR2YWx1ZXNbIGluZGV4IF0gPSBnZXREZWZhdWx0RGlzcGxheSggZWxlbSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoIGRpc3BsYXkgIT09IFwibm9uZVwiICkge1xuXHRcdFx0XHRcdHZhbHVlc1sgaW5kZXggXSA9IFwibm9uZVwiO1xuXHRcblx0XHRcdFx0XHQvLyBSZW1lbWJlciB3aGF0IHdlJ3JlIG92ZXJ3cml0aW5nXG5cdFx0XHRcdFx0ZGF0YVByaXYuc2V0KCBlbGVtLCBcImRpc3BsYXlcIiwgZGlzcGxheSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHQvLyBTZXQgdGhlIGRpc3BsYXkgb2YgdGhlIGVsZW1lbnRzIGluIGEgc2Vjb25kIGxvb3AgdG8gYXZvaWQgY29uc3RhbnQgcmVmbG93XG5cdFx0Zm9yICggaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdGlmICggdmFsdWVzWyBpbmRleCBdICE9IG51bGwgKSB7XG5cdFx0XHRcdGVsZW1lbnRzWyBpbmRleCBdLnN0eWxlLmRpc3BsYXkgPSB2YWx1ZXNbIGluZGV4IF07XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gZWxlbWVudHM7XG5cdH1cblx0XG5cdGpRdWVyeS5mbi5leHRlbmQoIHtcblx0XHRzaG93OiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBzaG93SGlkZSggdGhpcywgdHJ1ZSApO1xuXHRcdH0sXG5cdFx0aGlkZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gc2hvd0hpZGUoIHRoaXMgKTtcblx0XHR9LFxuXHRcdHRvZ2dsZTogZnVuY3Rpb24oIHN0YXRlICkge1xuXHRcdFx0aWYgKCB0eXBlb2Ygc3RhdGUgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdFx0XHRyZXR1cm4gc3RhdGUgPyB0aGlzLnNob3coKSA6IHRoaXMuaGlkZSgpO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIGlzSGlkZGVuV2l0aGluVHJlZSggdGhpcyApICkge1xuXHRcdFx0XHRcdGpRdWVyeSggdGhpcyApLnNob3coKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5oaWRlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9XG5cdH0gKTtcblx0dmFyIHJjaGVja2FibGVUeXBlID0gKCAvXig/OmNoZWNrYm94fHJhZGlvKSQvaSApO1xuXHRcblx0dmFyIHJ0YWdOYW1lID0gKCAvPChbYS16XVteXFwvXFwwPlxceDIwXFx0XFxyXFxuXFxmXSspL2kgKTtcblx0XG5cdHZhciByc2NyaXB0VHlwZSA9ICggL14kfFxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSApO1xuXHRcblx0XG5cdFxuXHQvLyBXZSBoYXZlIHRvIGNsb3NlIHRoZXNlIHRhZ3MgdG8gc3VwcG9ydCBYSFRNTCAoIzEzMjAwKVxuXHR2YXIgd3JhcE1hcCA9IHtcblx0XG5cdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHRvcHRpb246IFsgMSwgXCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+XCIsIFwiPC9zZWxlY3Q+XCIgXSxcblx0XG5cdFx0Ly8gWEhUTUwgcGFyc2VycyBkbyBub3QgbWFnaWNhbGx5IGluc2VydCBlbGVtZW50cyBpbiB0aGVcblx0XHQvLyBzYW1lIHdheSB0aGF0IHRhZyBzb3VwIHBhcnNlcnMgZG8uIFNvIHdlIGNhbm5vdCBzaG9ydGVuXG5cdFx0Ly8gdGhpcyBieSBvbWl0dGluZyA8dGJvZHk+IG9yIG90aGVyIHJlcXVpcmVkIGVsZW1lbnRzLlxuXHRcdHRoZWFkOiBbIDEsIFwiPHRhYmxlPlwiLCBcIjwvdGFibGU+XCIgXSxcblx0XHRjb2w6IFsgMiwgXCI8dGFibGU+PGNvbGdyb3VwPlwiLCBcIjwvY29sZ3JvdXA+PC90YWJsZT5cIiBdLFxuXHRcdHRyOiBbIDIsIFwiPHRhYmxlPjx0Ym9keT5cIiwgXCI8L3Rib2R5PjwvdGFibGU+XCIgXSxcblx0XHR0ZDogWyAzLCBcIjx0YWJsZT48dGJvZHk+PHRyPlwiLCBcIjwvdHI+PC90Ym9keT48L3RhYmxlPlwiIF0sXG5cdFxuXHRcdF9kZWZhdWx0OiBbIDAsIFwiXCIsIFwiXCIgXVxuXHR9O1xuXHRcblx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0d3JhcE1hcC5vcHRncm91cCA9IHdyYXBNYXAub3B0aW9uO1xuXHRcblx0d3JhcE1hcC50Ym9keSA9IHdyYXBNYXAudGZvb3QgPSB3cmFwTWFwLmNvbGdyb3VwID0gd3JhcE1hcC5jYXB0aW9uID0gd3JhcE1hcC50aGVhZDtcblx0d3JhcE1hcC50aCA9IHdyYXBNYXAudGQ7XG5cdFxuXHRcblx0ZnVuY3Rpb24gZ2V0QWxsKCBjb250ZXh0LCB0YWcgKSB7XG5cdFxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0XHQvLyBVc2UgdHlwZW9mIHRvIGF2b2lkIHplcm8tYXJndW1lbnQgbWV0aG9kIGludm9jYXRpb24gb24gaG9zdCBvYmplY3RzICgjMTUxNTEpXG5cdFx0dmFyIHJldCA9IHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiID9cblx0XHRcdFx0Y29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnIHx8IFwiKlwiICkgOlxuXHRcdFx0XHR0eXBlb2YgY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsICE9PSBcInVuZGVmaW5lZFwiID9cblx0XHRcdFx0XHRjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIHRhZyB8fCBcIipcIiApIDpcblx0XHRcdFx0W107XG5cdFxuXHRcdHJldHVybiB0YWcgPT09IHVuZGVmaW5lZCB8fCB0YWcgJiYgalF1ZXJ5Lm5vZGVOYW1lKCBjb250ZXh0LCB0YWcgKSA/XG5cdFx0XHRqUXVlcnkubWVyZ2UoIFsgY29udGV4dCBdLCByZXQgKSA6XG5cdFx0XHRyZXQ7XG5cdH1cblx0XG5cdFxuXHQvLyBNYXJrIHNjcmlwdHMgYXMgaGF2aW5nIGFscmVhZHkgYmVlbiBldmFsdWF0ZWRcblx0ZnVuY3Rpb24gc2V0R2xvYmFsRXZhbCggZWxlbXMsIHJlZkVsZW1lbnRzICkge1xuXHRcdHZhciBpID0gMCxcblx0XHRcdGwgPSBlbGVtcy5sZW5ndGg7XG5cdFxuXHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdGRhdGFQcml2LnNldChcblx0XHRcdFx0ZWxlbXNbIGkgXSxcblx0XHRcdFx0XCJnbG9iYWxFdmFsXCIsXG5cdFx0XHRcdCFyZWZFbGVtZW50cyB8fCBkYXRhUHJpdi5nZXQoIHJlZkVsZW1lbnRzWyBpIF0sIFwiZ2xvYmFsRXZhbFwiIClcblx0XHRcdCk7XG5cdFx0fVxuXHR9XG5cdFxuXHRcblx0dmFyIHJodG1sID0gLzx8JiM/XFx3KzsvO1xuXHRcblx0ZnVuY3Rpb24gYnVpbGRGcmFnbWVudCggZWxlbXMsIGNvbnRleHQsIHNjcmlwdHMsIHNlbGVjdGlvbiwgaWdub3JlZCApIHtcblx0XHR2YXIgZWxlbSwgdG1wLCB0YWcsIHdyYXAsIGNvbnRhaW5zLCBqLFxuXHRcdFx0ZnJhZ21lbnQgPSBjb250ZXh0LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcblx0XHRcdG5vZGVzID0gW10sXG5cdFx0XHRpID0gMCxcblx0XHRcdGwgPSBlbGVtcy5sZW5ndGg7XG5cdFxuXHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdGVsZW0gPSBlbGVtc1sgaSBdO1xuXHRcblx0XHRcdGlmICggZWxlbSB8fCBlbGVtID09PSAwICkge1xuXHRcblx0XHRcdFx0Ly8gQWRkIG5vZGVzIGRpcmVjdGx5XG5cdFx0XHRcdGlmICggalF1ZXJ5LnR5cGUoIGVsZW0gKSA9PT0gXCJvYmplY3RcIiApIHtcblx0XG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdFx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0XHRcdGpRdWVyeS5tZXJnZSggbm9kZXMsIGVsZW0ubm9kZVR5cGUgPyBbIGVsZW0gXSA6IGVsZW0gKTtcblx0XG5cdFx0XHRcdC8vIENvbnZlcnQgbm9uLWh0bWwgaW50byBhIHRleHQgbm9kZVxuXHRcdFx0XHR9IGVsc2UgaWYgKCAhcmh0bWwudGVzdCggZWxlbSApICkge1xuXHRcdFx0XHRcdG5vZGVzLnB1c2goIGNvbnRleHQuY3JlYXRlVGV4dE5vZGUoIGVsZW0gKSApO1xuXHRcblx0XHRcdFx0Ly8gQ29udmVydCBodG1sIGludG8gRE9NIG5vZGVzXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dG1wID0gdG1wIHx8IGZyYWdtZW50LmFwcGVuZENoaWxkKCBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSApO1xuXHRcblx0XHRcdFx0XHQvLyBEZXNlcmlhbGl6ZSBhIHN0YW5kYXJkIHJlcHJlc2VudGF0aW9uXG5cdFx0XHRcdFx0dGFnID0gKCBydGFnTmFtZS5leGVjKCBlbGVtICkgfHwgWyBcIlwiLCBcIlwiIF0gKVsgMSBdLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdFx0d3JhcCA9IHdyYXBNYXBbIHRhZyBdIHx8IHdyYXBNYXAuX2RlZmF1bHQ7XG5cdFx0XHRcdFx0dG1wLmlubmVySFRNTCA9IHdyYXBbIDEgXSArIGpRdWVyeS5odG1sUHJlZmlsdGVyKCBlbGVtICkgKyB3cmFwWyAyIF07XG5cdFxuXHRcdFx0XHRcdC8vIERlc2NlbmQgdGhyb3VnaCB3cmFwcGVycyB0byB0aGUgcmlnaHQgY29udGVudFxuXHRcdFx0XHRcdGogPSB3cmFwWyAwIF07XG5cdFx0XHRcdFx0d2hpbGUgKCBqLS0gKSB7XG5cdFx0XHRcdFx0XHR0bXAgPSB0bXAubGFzdENoaWxkO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdFx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0XHRcdGpRdWVyeS5tZXJnZSggbm9kZXMsIHRtcC5jaGlsZE5vZGVzICk7XG5cdFxuXHRcdFx0XHRcdC8vIFJlbWVtYmVyIHRoZSB0b3AtbGV2ZWwgY29udGFpbmVyXG5cdFx0XHRcdFx0dG1wID0gZnJhZ21lbnQuZmlyc3RDaGlsZDtcblx0XG5cdFx0XHRcdFx0Ly8gRW5zdXJlIHRoZSBjcmVhdGVkIG5vZGVzIGFyZSBvcnBoYW5lZCAoIzEyMzkyKVxuXHRcdFx0XHRcdHRtcC50ZXh0Q29udGVudCA9IFwiXCI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdC8vIFJlbW92ZSB3cmFwcGVyIGZyb20gZnJhZ21lbnRcblx0XHRmcmFnbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG5cdFxuXHRcdGkgPSAwO1xuXHRcdHdoaWxlICggKCBlbGVtID0gbm9kZXNbIGkrKyBdICkgKSB7XG5cdFxuXHRcdFx0Ly8gU2tpcCBlbGVtZW50cyBhbHJlYWR5IGluIHRoZSBjb250ZXh0IGNvbGxlY3Rpb24gKHRyYWMtNDA4Nylcblx0XHRcdGlmICggc2VsZWN0aW9uICYmIGpRdWVyeS5pbkFycmF5KCBlbGVtLCBzZWxlY3Rpb24gKSA+IC0xICkge1xuXHRcdFx0XHRpZiAoIGlnbm9yZWQgKSB7XG5cdFx0XHRcdFx0aWdub3JlZC5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Y29udGFpbnMgPSBqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApO1xuXHRcblx0XHRcdC8vIEFwcGVuZCB0byBmcmFnbWVudFxuXHRcdFx0dG1wID0gZ2V0QWxsKCBmcmFnbWVudC5hcHBlbmRDaGlsZCggZWxlbSApLCBcInNjcmlwdFwiICk7XG5cdFxuXHRcdFx0Ly8gUHJlc2VydmUgc2NyaXB0IGV2YWx1YXRpb24gaGlzdG9yeVxuXHRcdFx0aWYgKCBjb250YWlucyApIHtcblx0XHRcdFx0c2V0R2xvYmFsRXZhbCggdG1wICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gQ2FwdHVyZSBleGVjdXRhYmxlc1xuXHRcdFx0aWYgKCBzY3JpcHRzICkge1xuXHRcdFx0XHRqID0gMDtcblx0XHRcdFx0d2hpbGUgKCAoIGVsZW0gPSB0bXBbIGorKyBdICkgKSB7XG5cdFx0XHRcdFx0aWYgKCByc2NyaXB0VHlwZS50ZXN0KCBlbGVtLnR5cGUgfHwgXCJcIiApICkge1xuXHRcdFx0XHRcdFx0c2NyaXB0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gZnJhZ21lbnQ7XG5cdH1cblx0XG5cdFxuXHQoIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcblx0XHRcdGRpdiA9IGZyYWdtZW50LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkgKSxcblx0XHRcdGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICk7XG5cdFxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHlcblx0XHQvLyBDaGVjayBzdGF0ZSBsb3N0IGlmIHRoZSBuYW1lIGlzIHNldCAoIzExMjE3KVxuXHRcdC8vIFN1cHBvcnQ6IFdpbmRvd3MgV2ViIEFwcHMgKFdXQSlcblx0XHQvLyBgbmFtZWAgYW5kIGB0eXBlYCBtdXN0IHVzZSAuc2V0QXR0cmlidXRlIGZvciBXV0EgKCMxNDkwMSlcblx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCBcInJhZGlvXCIgKTtcblx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwiY2hlY2tlZFwiLCBcImNoZWNrZWRcIiApO1xuXHRcdGlucHV0LnNldEF0dHJpYnV0ZSggXCJuYW1lXCIsIFwidFwiICk7XG5cdFxuXHRcdGRpdi5hcHBlbmRDaGlsZCggaW5wdXQgKTtcblx0XG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMSBvbmx5XG5cdFx0Ly8gT2xkZXIgV2ViS2l0IGRvZXNuJ3QgY2xvbmUgY2hlY2tlZCBzdGF0ZSBjb3JyZWN0bHkgaW4gZnJhZ21lbnRzXG5cdFx0c3VwcG9ydC5jaGVja0Nsb25lID0gZGl2LmNsb25lTm9kZSggdHJ1ZSApLmNsb25lTm9kZSggdHJ1ZSApLmxhc3RDaGlsZC5jaGVja2VkO1xuXHRcblx0XHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0XHQvLyBNYWtlIHN1cmUgdGV4dGFyZWEgKGFuZCBjaGVja2JveCkgZGVmYXVsdFZhbHVlIGlzIHByb3Blcmx5IGNsb25lZFxuXHRcdGRpdi5pbm5lckhUTUwgPSBcIjx0ZXh0YXJlYT54PC90ZXh0YXJlYT5cIjtcblx0XHRzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkID0gISFkaXYuY2xvbmVOb2RlKCB0cnVlICkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZTtcblx0fSApKCk7XG5cdHZhciBkb2N1bWVudEVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cdFxuXHRcblx0XG5cdHZhclxuXHRcdHJrZXlFdmVudCA9IC9ea2V5Lyxcblx0XHRybW91c2VFdmVudCA9IC9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyxcblx0XHRydHlwZW5hbWVzcGFjZSA9IC9eKFteLl0qKSg/OlxcLiguKyl8KS87XG5cdFxuXHRmdW5jdGlvbiByZXR1cm5UcnVlKCkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZXR1cm5GYWxzZSgpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0XG5cdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdC8vIFNlZSAjMTMzOTMgZm9yIG1vcmUgaW5mb1xuXHRmdW5jdGlvbiBzYWZlQWN0aXZlRWxlbWVudCgpIHtcblx0XHR0cnkge1xuXHRcdFx0cmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cdFx0fSBjYXRjaCAoIGVyciApIHsgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBvbiggZWxlbSwgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiwgb25lICkge1xuXHRcdHZhciBvcmlnRm4sIHR5cGU7XG5cdFxuXHRcdC8vIFR5cGVzIGNhbiBiZSBhIG1hcCBvZiB0eXBlcy9oYW5kbGVyc1xuXHRcdGlmICggdHlwZW9mIHR5cGVzID09PSBcIm9iamVjdFwiICkge1xuXHRcblx0XHRcdC8vICggdHlwZXMtT2JqZWN0LCBzZWxlY3RvciwgZGF0YSApXG5cdFx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiApIHtcblx0XG5cdFx0XHRcdC8vICggdHlwZXMtT2JqZWN0LCBkYXRhIClcblx0XHRcdFx0ZGF0YSA9IGRhdGEgfHwgc2VsZWN0b3I7XG5cdFx0XHRcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcdFx0Zm9yICggdHlwZSBpbiB0eXBlcyApIHtcblx0XHRcdFx0b24oIGVsZW0sIHR5cGUsIHNlbGVjdG9yLCBkYXRhLCB0eXBlc1sgdHlwZSBdLCBvbmUgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBlbGVtO1xuXHRcdH1cblx0XG5cdFx0aWYgKCBkYXRhID09IG51bGwgJiYgZm4gPT0gbnVsbCApIHtcblx0XG5cdFx0XHQvLyAoIHR5cGVzLCBmbiApXG5cdFx0XHRmbiA9IHNlbGVjdG9yO1xuXHRcdFx0ZGF0YSA9IHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdH0gZWxzZSBpZiAoIGZuID09IG51bGwgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XG5cdFx0XHRcdC8vICggdHlwZXMsIHNlbGVjdG9yLCBmbiApXG5cdFx0XHRcdGZuID0gZGF0YTtcblx0XHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHRcdH0gZWxzZSB7XG5cdFxuXHRcdFx0XHQvLyAoIHR5cGVzLCBkYXRhLCBmbiApXG5cdFx0XHRcdGZuID0gZGF0YTtcblx0XHRcdFx0ZGF0YSA9IHNlbGVjdG9yO1xuXHRcdFx0XHRzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKCBmbiA9PT0gZmFsc2UgKSB7XG5cdFx0XHRmbiA9IHJldHVybkZhbHNlO1xuXHRcdH0gZWxzZSBpZiAoICFmbiApIHtcblx0XHRcdHJldHVybiBlbGVtO1xuXHRcdH1cblx0XG5cdFx0aWYgKCBvbmUgPT09IDEgKSB7XG5cdFx0XHRvcmlnRm4gPSBmbjtcblx0XHRcdGZuID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcblx0XHRcdFx0Ly8gQ2FuIHVzZSBhbiBlbXB0eSBzZXQsIHNpbmNlIGV2ZW50IGNvbnRhaW5zIHRoZSBpbmZvXG5cdFx0XHRcdGpRdWVyeSgpLm9mZiggZXZlbnQgKTtcblx0XHRcdFx0cmV0dXJuIG9yaWdGbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHR9O1xuXHRcblx0XHRcdC8vIFVzZSBzYW1lIGd1aWQgc28gY2FsbGVyIGNhbiByZW1vdmUgdXNpbmcgb3JpZ0ZuXG5cdFx0XHRmbi5ndWlkID0gb3JpZ0ZuLmd1aWQgfHwgKCBvcmlnRm4uZ3VpZCA9IGpRdWVyeS5ndWlkKysgKTtcblx0XHR9XG5cdFx0cmV0dXJuIGVsZW0uZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQuYWRkKCB0aGlzLCB0eXBlcywgZm4sIGRhdGEsIHNlbGVjdG9yICk7XG5cdFx0fSApO1xuXHR9XG5cdFxuXHQvKlxuXHQgKiBIZWxwZXIgZnVuY3Rpb25zIGZvciBtYW5hZ2luZyBldmVudHMgLS0gbm90IHBhcnQgb2YgdGhlIHB1YmxpYyBpbnRlcmZhY2UuXG5cdCAqIFByb3BzIHRvIERlYW4gRWR3YXJkcycgYWRkRXZlbnQgbGlicmFyeSBmb3IgbWFueSBvZiB0aGUgaWRlYXMuXG5cdCAqL1xuXHRqUXVlcnkuZXZlbnQgPSB7XG5cdFxuXHRcdGdsb2JhbDoge30sXG5cdFxuXHRcdGFkZDogZnVuY3Rpb24oIGVsZW0sIHR5cGVzLCBoYW5kbGVyLCBkYXRhLCBzZWxlY3RvciApIHtcblx0XG5cdFx0XHR2YXIgaGFuZGxlT2JqSW4sIGV2ZW50SGFuZGxlLCB0bXAsXG5cdFx0XHRcdGV2ZW50cywgdCwgaGFuZGxlT2JqLFxuXHRcdFx0XHRzcGVjaWFsLCBoYW5kbGVycywgdHlwZSwgbmFtZXNwYWNlcywgb3JpZ1R5cGUsXG5cdFx0XHRcdGVsZW1EYXRhID0gZGF0YVByaXYuZ2V0KCBlbGVtICk7XG5cdFxuXHRcdFx0Ly8gRG9uJ3QgYXR0YWNoIGV2ZW50cyB0byBub0RhdGEgb3IgdGV4dC9jb21tZW50IG5vZGVzIChidXQgYWxsb3cgcGxhaW4gb2JqZWN0cylcblx0XHRcdGlmICggIWVsZW1EYXRhICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gQ2FsbGVyIGNhbiBwYXNzIGluIGFuIG9iamVjdCBvZiBjdXN0b20gZGF0YSBpbiBsaWV1IG9mIHRoZSBoYW5kbGVyXG5cdFx0XHRpZiAoIGhhbmRsZXIuaGFuZGxlciApIHtcblx0XHRcdFx0aGFuZGxlT2JqSW4gPSBoYW5kbGVyO1xuXHRcdFx0XHRoYW5kbGVyID0gaGFuZGxlT2JqSW4uaGFuZGxlcjtcblx0XHRcdFx0c2VsZWN0b3IgPSBoYW5kbGVPYmpJbi5zZWxlY3Rvcjtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBFbnN1cmUgdGhhdCBpbnZhbGlkIHNlbGVjdG9ycyB0aHJvdyBleGNlcHRpb25zIGF0IGF0dGFjaCB0aW1lXG5cdFx0XHQvLyBFdmFsdWF0ZSBhZ2FpbnN0IGRvY3VtZW50RWxlbWVudCBpbiBjYXNlIGVsZW0gaXMgYSBub24tZWxlbWVudCBub2RlIChlLmcuLCBkb2N1bWVudClcblx0XHRcdGlmICggc2VsZWN0b3IgKSB7XG5cdFx0XHRcdGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggZG9jdW1lbnRFbGVtZW50LCBzZWxlY3RvciApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBoYW5kbGVyIGhhcyBhIHVuaXF1ZSBJRCwgdXNlZCB0byBmaW5kL3JlbW92ZSBpdCBsYXRlclxuXHRcdFx0aWYgKCAhaGFuZGxlci5ndWlkICkge1xuXHRcdFx0XHRoYW5kbGVyLmd1aWQgPSBqUXVlcnkuZ3VpZCsrO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEluaXQgdGhlIGVsZW1lbnQncyBldmVudCBzdHJ1Y3R1cmUgYW5kIG1haW4gaGFuZGxlciwgaWYgdGhpcyBpcyB0aGUgZmlyc3Rcblx0XHRcdGlmICggISggZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzICkgKSB7XG5cdFx0XHRcdGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyA9IHt9O1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAhKCBldmVudEhhbmRsZSA9IGVsZW1EYXRhLmhhbmRsZSApICkge1xuXHRcdFx0XHRldmVudEhhbmRsZSA9IGVsZW1EYXRhLmhhbmRsZSA9IGZ1bmN0aW9uKCBlICkge1xuXHRcblx0XHRcdFx0XHQvLyBEaXNjYXJkIHRoZSBzZWNvbmQgZXZlbnQgb2YgYSBqUXVlcnkuZXZlbnQudHJpZ2dlcigpIGFuZFxuXHRcdFx0XHRcdC8vIHdoZW4gYW4gZXZlbnQgaXMgY2FsbGVkIGFmdGVyIGEgcGFnZSBoYXMgdW5sb2FkZWRcblx0XHRcdFx0XHRyZXR1cm4gdHlwZW9mIGpRdWVyeSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkICE9PSBlLnR5cGUgP1xuXHRcdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LmRpc3BhdGNoLmFwcGx5KCBlbGVtLCBhcmd1bWVudHMgKSA6IHVuZGVmaW5lZDtcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBIYW5kbGUgbXVsdGlwbGUgZXZlbnRzIHNlcGFyYXRlZCBieSBhIHNwYWNlXG5cdFx0XHR0eXBlcyA9ICggdHlwZXMgfHwgXCJcIiApLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbIFwiXCIgXTtcblx0XHRcdHQgPSB0eXBlcy5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIHQtLSApIHtcblx0XHRcdFx0dG1wID0gcnR5cGVuYW1lc3BhY2UuZXhlYyggdHlwZXNbIHQgXSApIHx8IFtdO1xuXHRcdFx0XHR0eXBlID0gb3JpZ1R5cGUgPSB0bXBbIDEgXTtcblx0XHRcdFx0bmFtZXNwYWNlcyA9ICggdG1wWyAyIF0gfHwgXCJcIiApLnNwbGl0KCBcIi5cIiApLnNvcnQoKTtcblx0XG5cdFx0XHRcdC8vIFRoZXJlICptdXN0KiBiZSBhIHR5cGUsIG5vIGF0dGFjaGluZyBuYW1lc3BhY2Utb25seSBoYW5kbGVyc1xuXHRcdFx0XHRpZiAoICF0eXBlICkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBJZiBldmVudCBjaGFuZ2VzIGl0cyB0eXBlLCB1c2UgdGhlIHNwZWNpYWwgZXZlbnQgaGFuZGxlcnMgZm9yIHRoZSBjaGFuZ2VkIHR5cGVcblx0XHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cdFxuXHRcdFx0XHQvLyBJZiBzZWxlY3RvciBkZWZpbmVkLCBkZXRlcm1pbmUgc3BlY2lhbCBldmVudCBhcGkgdHlwZSwgb3RoZXJ3aXNlIGdpdmVuIHR5cGVcblx0XHRcdFx0dHlwZSA9ICggc2VsZWN0b3IgPyBzcGVjaWFsLmRlbGVnYXRlVHlwZSA6IHNwZWNpYWwuYmluZFR5cGUgKSB8fCB0eXBlO1xuXHRcblx0XHRcdFx0Ly8gVXBkYXRlIHNwZWNpYWwgYmFzZWQgb24gbmV3bHkgcmVzZXQgdHlwZVxuXHRcdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblx0XG5cdFx0XHRcdC8vIGhhbmRsZU9iaiBpcyBwYXNzZWQgdG8gYWxsIGV2ZW50IGhhbmRsZXJzXG5cdFx0XHRcdGhhbmRsZU9iaiA9IGpRdWVyeS5leHRlbmQoIHtcblx0XHRcdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0XHRcdG9yaWdUeXBlOiBvcmlnVHlwZSxcblx0XHRcdFx0XHRkYXRhOiBkYXRhLFxuXHRcdFx0XHRcdGhhbmRsZXI6IGhhbmRsZXIsXG5cdFx0XHRcdFx0Z3VpZDogaGFuZGxlci5ndWlkLFxuXHRcdFx0XHRcdHNlbGVjdG9yOiBzZWxlY3Rvcixcblx0XHRcdFx0XHRuZWVkc0NvbnRleHQ6IHNlbGVjdG9yICYmIGpRdWVyeS5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvciApLFxuXHRcdFx0XHRcdG5hbWVzcGFjZTogbmFtZXNwYWNlcy5qb2luKCBcIi5cIiApXG5cdFx0XHRcdH0sIGhhbmRsZU9iakluICk7XG5cdFxuXHRcdFx0XHQvLyBJbml0IHRoZSBldmVudCBoYW5kbGVyIHF1ZXVlIGlmIHdlJ3JlIHRoZSBmaXJzdFxuXHRcdFx0XHRpZiAoICEoIGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gKSApIHtcblx0XHRcdFx0XHRoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdID0gW107XG5cdFx0XHRcdFx0aGFuZGxlcnMuZGVsZWdhdGVDb3VudCA9IDA7XG5cdFxuXHRcdFx0XHRcdC8vIE9ubHkgdXNlIGFkZEV2ZW50TGlzdGVuZXIgaWYgdGhlIHNwZWNpYWwgZXZlbnRzIGhhbmRsZXIgcmV0dXJucyBmYWxzZVxuXHRcdFx0XHRcdGlmICggIXNwZWNpYWwuc2V0dXAgfHxcblx0XHRcdFx0XHRcdHNwZWNpYWwuc2V0dXAuY2FsbCggZWxlbSwgZGF0YSwgbmFtZXNwYWNlcywgZXZlbnRIYW5kbGUgKSA9PT0gZmFsc2UgKSB7XG5cdFxuXHRcdFx0XHRcdFx0aWYgKCBlbGVtLmFkZEV2ZW50TGlzdGVuZXIgKSB7XG5cdFx0XHRcdFx0XHRcdGVsZW0uYWRkRXZlbnRMaXN0ZW5lciggdHlwZSwgZXZlbnRIYW5kbGUgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGlmICggc3BlY2lhbC5hZGQgKSB7XG5cdFx0XHRcdFx0c3BlY2lhbC5hZGQuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7XG5cdFxuXHRcdFx0XHRcdGlmICggIWhhbmRsZU9iai5oYW5kbGVyLmd1aWQgKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVPYmouaGFuZGxlci5ndWlkID0gaGFuZGxlci5ndWlkO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gQWRkIHRvIHRoZSBlbGVtZW50J3MgaGFuZGxlciBsaXN0LCBkZWxlZ2F0ZXMgaW4gZnJvbnRcblx0XHRcdFx0aWYgKCBzZWxlY3RvciApIHtcblx0XHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGhhbmRsZXJzLmRlbGVnYXRlQ291bnQrKywgMCwgaGFuZGxlT2JqICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aGFuZGxlcnMucHVzaCggaGFuZGxlT2JqICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIEtlZXAgdHJhY2sgb2Ygd2hpY2ggZXZlbnRzIGhhdmUgZXZlciBiZWVuIHVzZWQsIGZvciBldmVudCBvcHRpbWl6YXRpb25cblx0XHRcdFx0alF1ZXJ5LmV2ZW50Lmdsb2JhbFsgdHlwZSBdID0gdHJ1ZTtcblx0XHRcdH1cblx0XG5cdFx0fSxcblx0XG5cdFx0Ly8gRGV0YWNoIGFuIGV2ZW50IG9yIHNldCBvZiBldmVudHMgZnJvbSBhbiBlbGVtZW50XG5cdFx0cmVtb3ZlOiBmdW5jdGlvbiggZWxlbSwgdHlwZXMsIGhhbmRsZXIsIHNlbGVjdG9yLCBtYXBwZWRUeXBlcyApIHtcblx0XG5cdFx0XHR2YXIgaiwgb3JpZ0NvdW50LCB0bXAsXG5cdFx0XHRcdGV2ZW50cywgdCwgaGFuZGxlT2JqLFxuXHRcdFx0XHRzcGVjaWFsLCBoYW5kbGVycywgdHlwZSwgbmFtZXNwYWNlcywgb3JpZ1R5cGUsXG5cdFx0XHRcdGVsZW1EYXRhID0gZGF0YVByaXYuaGFzRGF0YSggZWxlbSApICYmIGRhdGFQcml2LmdldCggZWxlbSApO1xuXHRcblx0XHRcdGlmICggIWVsZW1EYXRhIHx8ICEoIGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyApICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gT25jZSBmb3IgZWFjaCB0eXBlLm5hbWVzcGFjZSBpbiB0eXBlczsgdHlwZSBtYXkgYmUgb21pdHRlZFxuXHRcdFx0dHlwZXMgPSAoIHR5cGVzIHx8IFwiXCIgKS5tYXRjaCggcm5vdHdoaXRlICkgfHwgWyBcIlwiIF07XG5cdFx0XHR0ID0gdHlwZXMubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCB0LS0gKSB7XG5cdFx0XHRcdHRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWMoIHR5cGVzWyB0IF0gKSB8fCBbXTtcblx0XHRcdFx0dHlwZSA9IG9yaWdUeXBlID0gdG1wWyAxIF07XG5cdFx0XHRcdG5hbWVzcGFjZXMgPSAoIHRtcFsgMiBdIHx8IFwiXCIgKS5zcGxpdCggXCIuXCIgKS5zb3J0KCk7XG5cdFxuXHRcdFx0XHQvLyBVbmJpbmQgYWxsIGV2ZW50cyAob24gdGhpcyBuYW1lc3BhY2UsIGlmIHByb3ZpZGVkKSBmb3IgdGhlIGVsZW1lbnRcblx0XHRcdFx0aWYgKCAhdHlwZSApIHtcblx0XHRcdFx0XHRmb3IgKCB0eXBlIGluIGV2ZW50cyApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIGVsZW0sIHR5cGUgKyB0eXBlc1sgdCBdLCBoYW5kbGVyLCBzZWxlY3RvciwgdHJ1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cdFx0XHRcdHR5cGUgPSAoIHNlbGVjdG9yID8gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgOiBzcGVjaWFsLmJpbmRUeXBlICkgfHwgdHlwZTtcblx0XHRcdFx0aGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSB8fCBbXTtcblx0XHRcdFx0dG1wID0gdG1wWyAyIF0gJiZcblx0XHRcdFx0XHRuZXcgUmVnRXhwKCBcIihefFxcXFwuKVwiICsgbmFtZXNwYWNlcy5qb2luKCBcIlxcXFwuKD86LipcXFxcLnwpXCIgKSArIFwiKFxcXFwufCQpXCIgKTtcblx0XG5cdFx0XHRcdC8vIFJlbW92ZSBtYXRjaGluZyBldmVudHNcblx0XHRcdFx0b3JpZ0NvdW50ID0gaiA9IGhhbmRsZXJzLmxlbmd0aDtcblx0XHRcdFx0d2hpbGUgKCBqLS0gKSB7XG5cdFx0XHRcdFx0aGFuZGxlT2JqID0gaGFuZGxlcnNbIGogXTtcblx0XG5cdFx0XHRcdFx0aWYgKCAoIG1hcHBlZFR5cGVzIHx8IG9yaWdUeXBlID09PSBoYW5kbGVPYmoub3JpZ1R5cGUgKSAmJlxuXHRcdFx0XHRcdFx0KCAhaGFuZGxlciB8fCBoYW5kbGVyLmd1aWQgPT09IGhhbmRsZU9iai5ndWlkICkgJiZcblx0XHRcdFx0XHRcdCggIXRtcCB8fCB0bXAudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkgJiZcblx0XHRcdFx0XHRcdCggIXNlbGVjdG9yIHx8IHNlbGVjdG9yID09PSBoYW5kbGVPYmouc2VsZWN0b3IgfHxcblx0XHRcdFx0XHRcdFx0c2VsZWN0b3IgPT09IFwiKipcIiAmJiBoYW5kbGVPYmouc2VsZWN0b3IgKSApIHtcblx0XHRcdFx0XHRcdGhhbmRsZXJzLnNwbGljZSggaiwgMSApO1xuXHRcblx0XHRcdFx0XHRcdGlmICggaGFuZGxlT2JqLnNlbGVjdG9yICkge1xuXHRcdFx0XHRcdFx0XHRoYW5kbGVycy5kZWxlZ2F0ZUNvdW50LS07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoIHNwZWNpYWwucmVtb3ZlICkge1xuXHRcdFx0XHRcdFx0XHRzcGVjaWFsLnJlbW92ZS5jYWxsKCBlbGVtLCBoYW5kbGVPYmogKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFJlbW92ZSBnZW5lcmljIGV2ZW50IGhhbmRsZXIgaWYgd2UgcmVtb3ZlZCBzb21ldGhpbmcgYW5kIG5vIG1vcmUgaGFuZGxlcnMgZXhpc3Rcblx0XHRcdFx0Ly8gKGF2b2lkcyBwb3RlbnRpYWwgZm9yIGVuZGxlc3MgcmVjdXJzaW9uIGR1cmluZyByZW1vdmFsIG9mIHNwZWNpYWwgZXZlbnQgaGFuZGxlcnMpXG5cdFx0XHRcdGlmICggb3JpZ0NvdW50ICYmICFoYW5kbGVycy5sZW5ndGggKSB7XG5cdFx0XHRcdFx0aWYgKCAhc3BlY2lhbC50ZWFyZG93biB8fFxuXHRcdFx0XHRcdFx0c3BlY2lhbC50ZWFyZG93bi5jYWxsKCBlbGVtLCBuYW1lc3BhY2VzLCBlbGVtRGF0YS5oYW5kbGUgKSA9PT0gZmFsc2UgKSB7XG5cdFxuXHRcdFx0XHRcdFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBlbGVtRGF0YS5oYW5kbGUgKTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdGRlbGV0ZSBldmVudHNbIHR5cGUgXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFJlbW92ZSBkYXRhIGFuZCB0aGUgZXhwYW5kbyBpZiBpdCdzIG5vIGxvbmdlciB1c2VkXG5cdFx0XHRpZiAoIGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBldmVudHMgKSApIHtcblx0XHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBcImhhbmRsZSBldmVudHNcIiApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdGRpc3BhdGNoOiBmdW5jdGlvbiggbmF0aXZlRXZlbnQgKSB7XG5cdFxuXHRcdFx0Ly8gTWFrZSBhIHdyaXRhYmxlIGpRdWVyeS5FdmVudCBmcm9tIHRoZSBuYXRpdmUgZXZlbnQgb2JqZWN0XG5cdFx0XHR2YXIgZXZlbnQgPSBqUXVlcnkuZXZlbnQuZml4KCBuYXRpdmVFdmVudCApO1xuXHRcblx0XHRcdHZhciBpLCBqLCByZXQsIG1hdGNoZWQsIGhhbmRsZU9iaiwgaGFuZGxlclF1ZXVlLFxuXHRcdFx0XHRhcmdzID0gbmV3IEFycmF5KCBhcmd1bWVudHMubGVuZ3RoICksXG5cdFx0XHRcdGhhbmRsZXJzID0gKCBkYXRhUHJpdi5nZXQoIHRoaXMsIFwiZXZlbnRzXCIgKSB8fCB7fSApWyBldmVudC50eXBlIF0gfHwgW10sXG5cdFx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgZXZlbnQudHlwZSBdIHx8IHt9O1xuXHRcblx0XHRcdC8vIFVzZSB0aGUgZml4LWVkIGpRdWVyeS5FdmVudCByYXRoZXIgdGhhbiB0aGUgKHJlYWQtb25seSkgbmF0aXZlIGV2ZW50XG5cdFx0XHRhcmdzWyAwIF0gPSBldmVudDtcblx0XG5cdFx0XHRmb3IgKCBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0YXJnc1sgaSBdID0gYXJndW1lbnRzWyBpIF07XG5cdFx0XHR9XG5cdFxuXHRcdFx0ZXZlbnQuZGVsZWdhdGVUYXJnZXQgPSB0aGlzO1xuXHRcblx0XHRcdC8vIENhbGwgdGhlIHByZURpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZSwgYW5kIGxldCBpdCBiYWlsIGlmIGRlc2lyZWRcblx0XHRcdGlmICggc3BlY2lhbC5wcmVEaXNwYXRjaCAmJiBzcGVjaWFsLnByZURpc3BhdGNoLmNhbGwoIHRoaXMsIGV2ZW50ICkgPT09IGZhbHNlICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gRGV0ZXJtaW5lIGhhbmRsZXJzXG5cdFx0XHRoYW5kbGVyUXVldWUgPSBqUXVlcnkuZXZlbnQuaGFuZGxlcnMuY2FsbCggdGhpcywgZXZlbnQsIGhhbmRsZXJzICk7XG5cdFxuXHRcdFx0Ly8gUnVuIGRlbGVnYXRlcyBmaXJzdDsgdGhleSBtYXkgd2FudCB0byBzdG9wIHByb3BhZ2F0aW9uIGJlbmVhdGggdXNcblx0XHRcdGkgPSAwO1xuXHRcdFx0d2hpbGUgKCAoIG1hdGNoZWQgPSBoYW5kbGVyUXVldWVbIGkrKyBdICkgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFx0XHRcdGV2ZW50LmN1cnJlbnRUYXJnZXQgPSBtYXRjaGVkLmVsZW07XG5cdFxuXHRcdFx0XHRqID0gMDtcblx0XHRcdFx0d2hpbGUgKCAoIGhhbmRsZU9iaiA9IG1hdGNoZWQuaGFuZGxlcnNbIGorKyBdICkgJiZcblx0XHRcdFx0XHQhZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblx0XG5cdFx0XHRcdFx0Ly8gVHJpZ2dlcmVkIGV2ZW50IG11c3QgZWl0aGVyIDEpIGhhdmUgbm8gbmFtZXNwYWNlLCBvciAyKSBoYXZlIG5hbWVzcGFjZShzKVxuXHRcdFx0XHRcdC8vIGEgc3Vic2V0IG9yIGVxdWFsIHRvIHRob3NlIGluIHRoZSBib3VuZCBldmVudCAoYm90aCBjYW4gaGF2ZSBubyBuYW1lc3BhY2UpLlxuXHRcdFx0XHRcdGlmICggIWV2ZW50LnJuYW1lc3BhY2UgfHwgZXZlbnQucm5hbWVzcGFjZS50ZXN0KCBoYW5kbGVPYmoubmFtZXNwYWNlICkgKSB7XG5cdFxuXHRcdFx0XHRcdFx0ZXZlbnQuaGFuZGxlT2JqID0gaGFuZGxlT2JqO1xuXHRcdFx0XHRcdFx0ZXZlbnQuZGF0YSA9IGhhbmRsZU9iai5kYXRhO1xuXHRcblx0XHRcdFx0XHRcdHJldCA9ICggKCBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgaGFuZGxlT2JqLm9yaWdUeXBlIF0gfHwge30gKS5oYW5kbGUgfHxcblx0XHRcdFx0XHRcdFx0aGFuZGxlT2JqLmhhbmRsZXIgKS5hcHBseSggbWF0Y2hlZC5lbGVtLCBhcmdzICk7XG5cdFxuXHRcdFx0XHRcdFx0aWYgKCByZXQgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCAoIGV2ZW50LnJlc3VsdCA9IHJldCApID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gQ2FsbCB0aGUgcG9zdERpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZVxuXHRcdFx0aWYgKCBzcGVjaWFsLnBvc3REaXNwYXRjaCApIHtcblx0XHRcdFx0c3BlY2lhbC5wb3N0RGlzcGF0Y2guY2FsbCggdGhpcywgZXZlbnQgKTtcblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gZXZlbnQucmVzdWx0O1xuXHRcdH0sXG5cdFxuXHRcdGhhbmRsZXJzOiBmdW5jdGlvbiggZXZlbnQsIGhhbmRsZXJzICkge1xuXHRcdFx0dmFyIGksIG1hdGNoZXMsIHNlbCwgaGFuZGxlT2JqLFxuXHRcdFx0XHRoYW5kbGVyUXVldWUgPSBbXSxcblx0XHRcdFx0ZGVsZWdhdGVDb3VudCA9IGhhbmRsZXJzLmRlbGVnYXRlQ291bnQsXG5cdFx0XHRcdGN1ciA9IGV2ZW50LnRhcmdldDtcblx0XG5cdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTlcblx0XHRcdC8vIEZpbmQgZGVsZWdhdGUgaGFuZGxlcnNcblx0XHRcdC8vIEJsYWNrLWhvbGUgU1ZHIDx1c2U+IGluc3RhbmNlIHRyZWVzICgjMTMxODApXG5cdFx0XHQvL1xuXHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveCA8PTQyXG5cdFx0XHQvLyBBdm9pZCBub24tbGVmdC1jbGljayBpbiBGRiBidXQgZG9uJ3QgYmxvY2sgSUUgcmFkaW8gZXZlbnRzICgjMzg2MSwgZ2gtMjM0Mylcblx0XHRcdGlmICggZGVsZWdhdGVDb3VudCAmJiBjdXIubm9kZVR5cGUgJiZcblx0XHRcdFx0KCBldmVudC50eXBlICE9PSBcImNsaWNrXCIgfHwgaXNOYU4oIGV2ZW50LmJ1dHRvbiApIHx8IGV2ZW50LmJ1dHRvbiA8IDEgKSApIHtcblx0XG5cdFx0XHRcdGZvciAoIDsgY3VyICE9PSB0aGlzOyBjdXIgPSBjdXIucGFyZW50Tm9kZSB8fCB0aGlzICkge1xuXHRcblx0XHRcdFx0XHQvLyBEb24ndCBjaGVjayBub24tZWxlbWVudHMgKCMxMzIwOClcblx0XHRcdFx0XHQvLyBEb24ndCBwcm9jZXNzIGNsaWNrcyBvbiBkaXNhYmxlZCBlbGVtZW50cyAoIzY5MTEsICM4MTY1LCAjMTEzODIsICMxMTc2NClcblx0XHRcdFx0XHRpZiAoIGN1ci5ub2RlVHlwZSA9PT0gMSAmJiAoIGN1ci5kaXNhYmxlZCAhPT0gdHJ1ZSB8fCBldmVudC50eXBlICE9PSBcImNsaWNrXCIgKSApIHtcblx0XHRcdFx0XHRcdG1hdGNoZXMgPSBbXTtcblx0XHRcdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgZGVsZWdhdGVDb3VudDsgaSsrICkge1xuXHRcdFx0XHRcdFx0XHRoYW5kbGVPYmogPSBoYW5kbGVyc1sgaSBdO1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gRG9uJ3QgY29uZmxpY3Qgd2l0aCBPYmplY3QucHJvdG90eXBlIHByb3BlcnRpZXMgKCMxMzIwMylcblx0XHRcdFx0XHRcdFx0c2VsID0gaGFuZGxlT2JqLnNlbGVjdG9yICsgXCIgXCI7XG5cdFxuXHRcdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXNbIHNlbCBdID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0XHRcdFx0bWF0Y2hlc1sgc2VsIF0gPSBoYW5kbGVPYmoubmVlZHNDb250ZXh0ID9cblx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggc2VsLCB0aGlzICkuaW5kZXgoIGN1ciApID4gLTEgOlxuXHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmZpbmQoIHNlbCwgdGhpcywgbnVsbCwgWyBjdXIgXSApLmxlbmd0aDtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXNbIHNlbCBdICkge1xuXHRcdFx0XHRcdFx0XHRcdG1hdGNoZXMucHVzaCggaGFuZGxlT2JqICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlcy5sZW5ndGggKSB7XG5cdFx0XHRcdFx0XHRcdGhhbmRsZXJRdWV1ZS5wdXNoKCB7IGVsZW06IGN1ciwgaGFuZGxlcnM6IG1hdGNoZXMgfSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEFkZCB0aGUgcmVtYWluaW5nIChkaXJlY3RseS1ib3VuZCkgaGFuZGxlcnNcblx0XHRcdGlmICggZGVsZWdhdGVDb3VudCA8IGhhbmRsZXJzLmxlbmd0aCApIHtcblx0XHRcdFx0aGFuZGxlclF1ZXVlLnB1c2goIHsgZWxlbTogdGhpcywgaGFuZGxlcnM6IGhhbmRsZXJzLnNsaWNlKCBkZWxlZ2F0ZUNvdW50ICkgfSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiBoYW5kbGVyUXVldWU7XG5cdFx0fSxcblx0XG5cdFx0YWRkUHJvcDogZnVuY3Rpb24oIG5hbWUsIGhvb2sgKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoIGpRdWVyeS5FdmVudC5wcm90b3R5cGUsIG5hbWUsIHtcblx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcblx0XHRcdFx0Z2V0OiBqUXVlcnkuaXNGdW5jdGlvbiggaG9vayApID9cblx0XHRcdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGlmICggdGhpcy5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBob29rKCB0aGlzLm9yaWdpbmFsRXZlbnQgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IDpcblx0XHRcdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGlmICggdGhpcy5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB0aGlzLm9yaWdpbmFsRXZlbnRbIG5hbWUgXTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0c2V0OiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCB0aGlzLCBuYW1lLCB7XG5cdFx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdFx0d3JpdGFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHR2YWx1ZTogdmFsdWVcblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9LFxuXHRcblx0XHRmaXg6IGZ1bmN0aW9uKCBvcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0cmV0dXJuIG9yaWdpbmFsRXZlbnRbIGpRdWVyeS5leHBhbmRvIF0gP1xuXHRcdFx0XHRvcmlnaW5hbEV2ZW50IDpcblx0XHRcdFx0bmV3IGpRdWVyeS5FdmVudCggb3JpZ2luYWxFdmVudCApO1xuXHRcdH0sXG5cdFxuXHRcdHNwZWNpYWw6IHtcblx0XHRcdGxvYWQ6IHtcblx0XG5cdFx0XHRcdC8vIFByZXZlbnQgdHJpZ2dlcmVkIGltYWdlLmxvYWQgZXZlbnRzIGZyb20gYnViYmxpbmcgdG8gd2luZG93LmxvYWRcblx0XHRcdFx0bm9CdWJibGU6IHRydWVcblx0XHRcdH0sXG5cdFx0XHRmb2N1czoge1xuXHRcblx0XHRcdFx0Ly8gRmlyZSBuYXRpdmUgZXZlbnQgaWYgcG9zc2libGUgc28gYmx1ci9mb2N1cyBzZXF1ZW5jZSBpcyBjb3JyZWN0XG5cdFx0XHRcdHRyaWdnZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcyAhPT0gc2FmZUFjdGl2ZUVsZW1lbnQoKSAmJiB0aGlzLmZvY3VzICkge1xuXHRcdFx0XHRcdFx0dGhpcy5mb2N1cygpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0ZGVsZWdhdGVUeXBlOiBcImZvY3VzaW5cIlxuXHRcdFx0fSxcblx0XHRcdGJsdXI6IHtcblx0XHRcdFx0dHJpZ2dlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGlzID09PSBzYWZlQWN0aXZlRWxlbWVudCgpICYmIHRoaXMuYmx1ciApIHtcblx0XHRcdFx0XHRcdHRoaXMuYmx1cigpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0ZGVsZWdhdGVUeXBlOiBcImZvY3Vzb3V0XCJcblx0XHRcdH0sXG5cdFx0XHRjbGljazoge1xuXHRcblx0XHRcdFx0Ly8gRm9yIGNoZWNrYm94LCBmaXJlIG5hdGl2ZSBldmVudCBzbyBjaGVja2VkIHN0YXRlIHdpbGwgYmUgcmlnaHRcblx0XHRcdFx0dHJpZ2dlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGlzLnR5cGUgPT09IFwiY2hlY2tib3hcIiAmJiB0aGlzLmNsaWNrICYmIGpRdWVyeS5ub2RlTmFtZSggdGhpcywgXCJpbnB1dFwiICkgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmNsaWNrKCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0Ly8gRm9yIGNyb3NzLWJyb3dzZXIgY29uc2lzdGVuY3ksIGRvbid0IGZpcmUgbmF0aXZlIC5jbGljaygpIG9uIGxpbmtzXG5cdFx0XHRcdF9kZWZhdWx0OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGpRdWVyeS5ub2RlTmFtZSggZXZlbnQudGFyZ2V0LCBcImFcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcblx0XHRcdGJlZm9yZXVubG9hZDoge1xuXHRcdFx0XHRwb3N0RGlzcGF0Y2g6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveCAyMCtcblx0XHRcdFx0XHQvLyBGaXJlZm94IGRvZXNuJ3QgYWxlcnQgaWYgdGhlIHJldHVyblZhbHVlIGZpZWxkIGlzIG5vdCBzZXQuXG5cdFx0XHRcdFx0aWYgKCBldmVudC5yZXN1bHQgIT09IHVuZGVmaW5lZCAmJiBldmVudC5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdFx0ZXZlbnQub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZSA9IGV2ZW50LnJlc3VsdDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdFxuXHRqUXVlcnkucmVtb3ZlRXZlbnQgPSBmdW5jdGlvbiggZWxlbSwgdHlwZSwgaGFuZGxlICkge1xuXHRcblx0XHQvLyBUaGlzIFwiaWZcIiBpcyBuZWVkZWQgZm9yIHBsYWluIG9iamVjdHNcblx0XHRpZiAoIGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciApIHtcblx0XHRcdGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciggdHlwZSwgaGFuZGxlICk7XG5cdFx0fVxuXHR9O1xuXHRcblx0alF1ZXJ5LkV2ZW50ID0gZnVuY3Rpb24oIHNyYywgcHJvcHMgKSB7XG5cdFxuXHRcdC8vIEFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCB0aGUgJ25ldycga2V5d29yZFxuXHRcdGlmICggISggdGhpcyBpbnN0YW5jZW9mIGpRdWVyeS5FdmVudCApICkge1xuXHRcdFx0cmV0dXJuIG5ldyBqUXVlcnkuRXZlbnQoIHNyYywgcHJvcHMgKTtcblx0XHR9XG5cdFxuXHRcdC8vIEV2ZW50IG9iamVjdFxuXHRcdGlmICggc3JjICYmIHNyYy50eXBlICkge1xuXHRcdFx0dGhpcy5vcmlnaW5hbEV2ZW50ID0gc3JjO1xuXHRcdFx0dGhpcy50eXBlID0gc3JjLnR5cGU7XG5cdFxuXHRcdFx0Ly8gRXZlbnRzIGJ1YmJsaW5nIHVwIHRoZSBkb2N1bWVudCBtYXkgaGF2ZSBiZWVuIG1hcmtlZCBhcyBwcmV2ZW50ZWRcblx0XHRcdC8vIGJ5IGEgaGFuZGxlciBsb3dlciBkb3duIHRoZSB0cmVlOyByZWZsZWN0IHRoZSBjb3JyZWN0IHZhbHVlLlxuXHRcdFx0dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBzcmMuZGVmYXVsdFByZXZlbnRlZCB8fFxuXHRcdFx0XHRcdHNyYy5kZWZhdWx0UHJldmVudGVkID09PSB1bmRlZmluZWQgJiZcblx0XG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTIuMyBvbmx5XG5cdFx0XHRcdFx0c3JjLnJldHVyblZhbHVlID09PSBmYWxzZSA/XG5cdFx0XHRcdHJldHVyblRydWUgOlxuXHRcdFx0XHRyZXR1cm5GYWxzZTtcblx0XG5cdFx0XHQvLyBDcmVhdGUgdGFyZ2V0IHByb3BlcnRpZXNcblx0XHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA8PTYgLSA3IG9ubHlcblx0XHRcdC8vIFRhcmdldCBzaG91bGQgbm90IGJlIGEgdGV4dCBub2RlICgjNTA0LCAjMTMxNDMpXG5cdFx0XHR0aGlzLnRhcmdldCA9ICggc3JjLnRhcmdldCAmJiBzcmMudGFyZ2V0Lm5vZGVUeXBlID09PSAzICkgP1xuXHRcdFx0XHRzcmMudGFyZ2V0LnBhcmVudE5vZGUgOlxuXHRcdFx0XHRzcmMudGFyZ2V0O1xuXHRcblx0XHRcdHRoaXMuY3VycmVudFRhcmdldCA9IHNyYy5jdXJyZW50VGFyZ2V0O1xuXHRcdFx0dGhpcy5yZWxhdGVkVGFyZ2V0ID0gc3JjLnJlbGF0ZWRUYXJnZXQ7XG5cdFxuXHRcdC8vIEV2ZW50IHR5cGVcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy50eXBlID0gc3JjO1xuXHRcdH1cblx0XG5cdFx0Ly8gUHV0IGV4cGxpY2l0bHkgcHJvdmlkZWQgcHJvcGVydGllcyBvbnRvIHRoZSBldmVudCBvYmplY3Rcblx0XHRpZiAoIHByb3BzICkge1xuXHRcdFx0alF1ZXJ5LmV4dGVuZCggdGhpcywgcHJvcHMgKTtcblx0XHR9XG5cdFxuXHRcdC8vIENyZWF0ZSBhIHRpbWVzdGFtcCBpZiBpbmNvbWluZyBldmVudCBkb2Vzbid0IGhhdmUgb25lXG5cdFx0dGhpcy50aW1lU3RhbXAgPSBzcmMgJiYgc3JjLnRpbWVTdGFtcCB8fCBqUXVlcnkubm93KCk7XG5cdFxuXHRcdC8vIE1hcmsgaXQgYXMgZml4ZWRcblx0XHR0aGlzWyBqUXVlcnkuZXhwYW5kbyBdID0gdHJ1ZTtcblx0fTtcblx0XG5cdC8vIGpRdWVyeS5FdmVudCBpcyBiYXNlZCBvbiBET00zIEV2ZW50cyBhcyBzcGVjaWZpZWQgYnkgdGhlIEVDTUFTY3JpcHQgTGFuZ3VhZ2UgQmluZGluZ1xuXHQvLyBodHRwczovL3d3dy53My5vcmcvVFIvMjAwMy9XRC1ET00tTGV2ZWwtMy1FdmVudHMtMjAwMzAzMzEvZWNtYS1zY3JpcHQtYmluZGluZy5odG1sXG5cdGpRdWVyeS5FdmVudC5wcm90b3R5cGUgPSB7XG5cdFx0Y29uc3RydWN0b3I6IGpRdWVyeS5FdmVudCxcblx0XHRpc0RlZmF1bHRQcmV2ZW50ZWQ6IHJldHVybkZhbHNlLFxuXHRcdGlzUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSxcblx0XHRpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDogcmV0dXJuRmFsc2UsXG5cdFx0aXNTaW11bGF0ZWQ6IGZhbHNlLFxuXHRcblx0XHRwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblx0XG5cdFx0XHR0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IHJldHVyblRydWU7XG5cdFxuXHRcdFx0aWYgKCBlICYmICF0aGlzLmlzU2ltdWxhdGVkICkge1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG5cdFxuXHRcdFx0dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XG5cdFxuXHRcdFx0aWYgKCBlICYmICF0aGlzLmlzU2ltdWxhdGVkICkge1xuXHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0c3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuXHRcblx0XHRcdHRoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlO1xuXHRcblx0XHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdFx0ZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0XHRcdH1cblx0XG5cdFx0XHR0aGlzLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdH1cblx0fTtcblx0XG5cdC8vIEluY2x1ZGVzIGFsbCBjb21tb24gZXZlbnQgcHJvcHMgaW5jbHVkaW5nIEtleUV2ZW50IGFuZCBNb3VzZUV2ZW50IHNwZWNpZmljIHByb3BzXG5cdGpRdWVyeS5lYWNoKCB7XG5cdFx0YWx0S2V5OiB0cnVlLFxuXHRcdGJ1YmJsZXM6IHRydWUsXG5cdFx0Y2FuY2VsYWJsZTogdHJ1ZSxcblx0XHRjaGFuZ2VkVG91Y2hlczogdHJ1ZSxcblx0XHRjdHJsS2V5OiB0cnVlLFxuXHRcdGRldGFpbDogdHJ1ZSxcblx0XHRldmVudFBoYXNlOiB0cnVlLFxuXHRcdG1ldGFLZXk6IHRydWUsXG5cdFx0cGFnZVg6IHRydWUsXG5cdFx0cGFnZVk6IHRydWUsXG5cdFx0c2hpZnRLZXk6IHRydWUsXG5cdFx0dmlldzogdHJ1ZSxcblx0XHRcImNoYXJcIjogdHJ1ZSxcblx0XHRjaGFyQ29kZTogdHJ1ZSxcblx0XHRrZXk6IHRydWUsXG5cdFx0a2V5Q29kZTogdHJ1ZSxcblx0XHRidXR0b246IHRydWUsXG5cdFx0YnV0dG9uczogdHJ1ZSxcblx0XHRjbGllbnRYOiB0cnVlLFxuXHRcdGNsaWVudFk6IHRydWUsXG5cdFx0b2Zmc2V0WDogdHJ1ZSxcblx0XHRvZmZzZXRZOiB0cnVlLFxuXHRcdHBvaW50ZXJJZDogdHJ1ZSxcblx0XHRwb2ludGVyVHlwZTogdHJ1ZSxcblx0XHRzY3JlZW5YOiB0cnVlLFxuXHRcdHNjcmVlblk6IHRydWUsXG5cdFx0dGFyZ2V0VG91Y2hlczogdHJ1ZSxcblx0XHR0b0VsZW1lbnQ6IHRydWUsXG5cdFx0dG91Y2hlczogdHJ1ZSxcblx0XG5cdFx0d2hpY2g6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciBidXR0b24gPSBldmVudC5idXR0b247XG5cdFxuXHRcdFx0Ly8gQWRkIHdoaWNoIGZvciBrZXkgZXZlbnRzXG5cdFx0XHRpZiAoIGV2ZW50LndoaWNoID09IG51bGwgJiYgcmtleUV2ZW50LnRlc3QoIGV2ZW50LnR5cGUgKSApIHtcblx0XHRcdFx0cmV0dXJuIGV2ZW50LmNoYXJDb2RlICE9IG51bGwgPyBldmVudC5jaGFyQ29kZSA6IGV2ZW50LmtleUNvZGU7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gQWRkIHdoaWNoIGZvciBjbGljazogMSA9PT0gbGVmdDsgMiA9PT0gbWlkZGxlOyAzID09PSByaWdodFxuXHRcdFx0aWYgKCAhZXZlbnQud2hpY2ggJiYgYnV0dG9uICE9PSB1bmRlZmluZWQgJiYgcm1vdXNlRXZlbnQudGVzdCggZXZlbnQudHlwZSApICkge1xuXHRcdFx0XHRyZXR1cm4gKCBidXR0b24gJiAxID8gMSA6ICggYnV0dG9uICYgMiA/IDMgOiAoIGJ1dHRvbiAmIDQgPyAyIDogMCApICkgKTtcblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gZXZlbnQud2hpY2g7XG5cdFx0fVxuXHR9LCBqUXVlcnkuZXZlbnQuYWRkUHJvcCApO1xuXHRcblx0Ly8gQ3JlYXRlIG1vdXNlZW50ZXIvbGVhdmUgZXZlbnRzIHVzaW5nIG1vdXNlb3Zlci9vdXQgYW5kIGV2ZW50LXRpbWUgY2hlY2tzXG5cdC8vIHNvIHRoYXQgZXZlbnQgZGVsZWdhdGlvbiB3b3JrcyBpbiBqUXVlcnkuXG5cdC8vIERvIHRoZSBzYW1lIGZvciBwb2ludGVyZW50ZXIvcG9pbnRlcmxlYXZlIGFuZCBwb2ludGVyb3Zlci9wb2ludGVyb3V0XG5cdC8vXG5cdC8vIFN1cHBvcnQ6IFNhZmFyaSA3IG9ubHlcblx0Ly8gU2FmYXJpIHNlbmRzIG1vdXNlZW50ZXIgdG9vIG9mdGVuOyBzZWU6XG5cdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ3MDI1OFxuXHQvLyBmb3IgdGhlIGRlc2NyaXB0aW9uIG9mIHRoZSBidWcgKGl0IGV4aXN0ZWQgaW4gb2xkZXIgQ2hyb21lIHZlcnNpb25zIGFzIHdlbGwpLlxuXHRqUXVlcnkuZWFjaCgge1xuXHRcdG1vdXNlZW50ZXI6IFwibW91c2VvdmVyXCIsXG5cdFx0bW91c2VsZWF2ZTogXCJtb3VzZW91dFwiLFxuXHRcdHBvaW50ZXJlbnRlcjogXCJwb2ludGVyb3ZlclwiLFxuXHRcdHBvaW50ZXJsZWF2ZTogXCJwb2ludGVyb3V0XCJcblx0fSwgZnVuY3Rpb24oIG9yaWcsIGZpeCApIHtcblx0XHRqUXVlcnkuZXZlbnQuc3BlY2lhbFsgb3JpZyBdID0ge1xuXHRcdFx0ZGVsZWdhdGVUeXBlOiBmaXgsXG5cdFx0XHRiaW5kVHlwZTogZml4LFxuXHRcblx0XHRcdGhhbmRsZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHR2YXIgcmV0LFxuXHRcdFx0XHRcdHRhcmdldCA9IHRoaXMsXG5cdFx0XHRcdFx0cmVsYXRlZCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQsXG5cdFx0XHRcdFx0aGFuZGxlT2JqID0gZXZlbnQuaGFuZGxlT2JqO1xuXHRcblx0XHRcdFx0Ly8gRm9yIG1vdXNlZW50ZXIvbGVhdmUgY2FsbCB0aGUgaGFuZGxlciBpZiByZWxhdGVkIGlzIG91dHNpZGUgdGhlIHRhcmdldC5cblx0XHRcdFx0Ly8gTkI6IE5vIHJlbGF0ZWRUYXJnZXQgaWYgdGhlIG1vdXNlIGxlZnQvZW50ZXJlZCB0aGUgYnJvd3NlciB3aW5kb3dcblx0XHRcdFx0aWYgKCAhcmVsYXRlZCB8fCAoIHJlbGF0ZWQgIT09IHRhcmdldCAmJiAhalF1ZXJ5LmNvbnRhaW5zKCB0YXJnZXQsIHJlbGF0ZWQgKSApICkge1xuXHRcdFx0XHRcdGV2ZW50LnR5cGUgPSBoYW5kbGVPYmoub3JpZ1R5cGU7XG5cdFx0XHRcdFx0cmV0ID0gaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdGV2ZW50LnR5cGUgPSBmaXg7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblx0XHR9O1xuXHR9ICk7XG5cdFxuXHRqUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdFxuXHRcdG9uOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApIHtcblx0XHRcdHJldHVybiBvbiggdGhpcywgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApO1xuXHRcdH0sXG5cdFx0b25lOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApIHtcblx0XHRcdHJldHVybiBvbiggdGhpcywgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiwgMSApO1xuXHRcdH0sXG5cdFx0b2ZmOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBmbiApIHtcblx0XHRcdHZhciBoYW5kbGVPYmosIHR5cGU7XG5cdFx0XHRpZiAoIHR5cGVzICYmIHR5cGVzLnByZXZlbnREZWZhdWx0ICYmIHR5cGVzLmhhbmRsZU9iaiApIHtcblx0XG5cdFx0XHRcdC8vICggZXZlbnQgKSAgZGlzcGF0Y2hlZCBqUXVlcnkuRXZlbnRcblx0XHRcdFx0aGFuZGxlT2JqID0gdHlwZXMuaGFuZGxlT2JqO1xuXHRcdFx0XHRqUXVlcnkoIHR5cGVzLmRlbGVnYXRlVGFyZ2V0ICkub2ZmKFxuXHRcdFx0XHRcdGhhbmRsZU9iai5uYW1lc3BhY2UgP1xuXHRcdFx0XHRcdFx0aGFuZGxlT2JqLm9yaWdUeXBlICsgXCIuXCIgKyBoYW5kbGVPYmoubmFtZXNwYWNlIDpcblx0XHRcdFx0XHRcdGhhbmRsZU9iai5vcmlnVHlwZSxcblx0XHRcdFx0XHRoYW5kbGVPYmouc2VsZWN0b3IsXG5cdFx0XHRcdFx0aGFuZGxlT2JqLmhhbmRsZXJcblx0XHRcdFx0KTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIHR5cGVvZiB0eXBlcyA9PT0gXCJvYmplY3RcIiApIHtcblx0XG5cdFx0XHRcdC8vICggdHlwZXMtb2JqZWN0IFssIHNlbGVjdG9yXSApXG5cdFx0XHRcdGZvciAoIHR5cGUgaW4gdHlwZXMgKSB7XG5cdFx0XHRcdFx0dGhpcy5vZmYoIHR5cGUsIHNlbGVjdG9yLCB0eXBlc1sgdHlwZSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIHNlbGVjdG9yID09PSBmYWxzZSB8fCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwiZnVuY3Rpb25cIiApIHtcblx0XG5cdFx0XHRcdC8vICggdHlwZXMgWywgZm5dIClcblx0XHRcdFx0Zm4gPSBzZWxlY3Rvcjtcblx0XHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGZuID09PSBmYWxzZSApIHtcblx0XHRcdFx0Zm4gPSByZXR1cm5GYWxzZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCB0aGlzLCB0eXBlcywgZm4sIHNlbGVjdG9yICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRcblx0dmFyXG5cdFxuXHRcdC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblx0XG5cdFx0Ly8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lc2xpbnQvZXNsaW50L2lzc3Vlcy8zMjI5XG5cdFx0cnhodG1sVGFnID0gLzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW2Etel1bXlxcL1xcMD5cXHgyMFxcdFxcclxcblxcZl0qKVtePl0qKVxcLz4vZ2ksXG5cdFxuXHRcdC8qIGVzbGludC1lbmFibGUgKi9cblx0XG5cdFx0Ly8gU3VwcG9ydDogSUUgPD0xMCAtIDExLCBFZGdlIDEyIC0gMTNcblx0XHQvLyBJbiBJRS9FZGdlIHVzaW5nIHJlZ2V4IGdyb3VwcyBoZXJlIGNhdXNlcyBzZXZlcmUgc2xvd2Rvd25zLlxuXHRcdC8vIFNlZSBodHRwczovL2Nvbm5lY3QubWljcm9zb2Z0LmNvbS9JRS9mZWVkYmFjay9kZXRhaWxzLzE3MzY1MTIvXG5cdFx0cm5vSW5uZXJodG1sID0gLzxzY3JpcHR8PHN0eWxlfDxsaW5rL2ksXG5cdFxuXHRcdC8vIGNoZWNrZWQ9XCJjaGVja2VkXCIgb3IgY2hlY2tlZFxuXHRcdHJjaGVja2VkID0gL2NoZWNrZWRcXHMqKD86W149XXw9XFxzKi5jaGVja2VkLikvaSxcblx0XHRyc2NyaXB0VHlwZU1hc2tlZCA9IC9edHJ1ZVxcLyguKikvLFxuXHRcdHJjbGVhblNjcmlwdCA9IC9eXFxzKjwhKD86XFxbQ0RBVEFcXFt8LS0pfCg/OlxcXVxcXXwtLSk+XFxzKiQvZztcblx0XG5cdGZ1bmN0aW9uIG1hbmlwdWxhdGlvblRhcmdldCggZWxlbSwgY29udGVudCApIHtcblx0XHRpZiAoIGpRdWVyeS5ub2RlTmFtZSggZWxlbSwgXCJ0YWJsZVwiICkgJiZcblx0XHRcdGpRdWVyeS5ub2RlTmFtZSggY29udGVudC5ub2RlVHlwZSAhPT0gMTEgPyBjb250ZW50IDogY29udGVudC5maXJzdENoaWxkLCBcInRyXCIgKSApIHtcblx0XG5cdFx0XHRyZXR1cm4gZWxlbS5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJ0Ym9keVwiIClbIDAgXSB8fCBlbGVtO1xuXHRcdH1cblx0XG5cdFx0cmV0dXJuIGVsZW07XG5cdH1cblx0XG5cdC8vIFJlcGxhY2UvcmVzdG9yZSB0aGUgdHlwZSBhdHRyaWJ1dGUgb2Ygc2NyaXB0IGVsZW1lbnRzIGZvciBzYWZlIERPTSBtYW5pcHVsYXRpb25cblx0ZnVuY3Rpb24gZGlzYWJsZVNjcmlwdCggZWxlbSApIHtcblx0XHRlbGVtLnR5cGUgPSAoIGVsZW0uZ2V0QXR0cmlidXRlKCBcInR5cGVcIiApICE9PSBudWxsICkgKyBcIi9cIiArIGVsZW0udHlwZTtcblx0XHRyZXR1cm4gZWxlbTtcblx0fVxuXHRmdW5jdGlvbiByZXN0b3JlU2NyaXB0KCBlbGVtICkge1xuXHRcdHZhciBtYXRjaCA9IHJzY3JpcHRUeXBlTWFza2VkLmV4ZWMoIGVsZW0udHlwZSApO1xuXHRcblx0XHRpZiAoIG1hdGNoICkge1xuXHRcdFx0ZWxlbS50eXBlID0gbWF0Y2hbIDEgXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZWxlbS5yZW1vdmVBdHRyaWJ1dGUoIFwidHlwZVwiICk7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gZWxlbTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY2xvbmVDb3B5RXZlbnQoIHNyYywgZGVzdCApIHtcblx0XHR2YXIgaSwgbCwgdHlwZSwgcGRhdGFPbGQsIHBkYXRhQ3VyLCB1ZGF0YU9sZCwgdWRhdGFDdXIsIGV2ZW50cztcblx0XG5cdFx0aWYgKCBkZXN0Lm5vZGVUeXBlICE9PSAxICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XG5cdFx0Ly8gMS4gQ29weSBwcml2YXRlIGRhdGE6IGV2ZW50cywgaGFuZGxlcnMsIGV0Yy5cblx0XHRpZiAoIGRhdGFQcml2Lmhhc0RhdGEoIHNyYyApICkge1xuXHRcdFx0cGRhdGFPbGQgPSBkYXRhUHJpdi5hY2Nlc3MoIHNyYyApO1xuXHRcdFx0cGRhdGFDdXIgPSBkYXRhUHJpdi5zZXQoIGRlc3QsIHBkYXRhT2xkICk7XG5cdFx0XHRldmVudHMgPSBwZGF0YU9sZC5ldmVudHM7XG5cdFxuXHRcdFx0aWYgKCBldmVudHMgKSB7XG5cdFx0XHRcdGRlbGV0ZSBwZGF0YUN1ci5oYW5kbGU7XG5cdFx0XHRcdHBkYXRhQ3VyLmV2ZW50cyA9IHt9O1xuXHRcblx0XHRcdFx0Zm9yICggdHlwZSBpbiBldmVudHMgKSB7XG5cdFx0XHRcdFx0Zm9yICggaSA9IDAsIGwgPSBldmVudHNbIHR5cGUgXS5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkuZXZlbnQuYWRkKCBkZXN0LCB0eXBlLCBldmVudHNbIHR5cGUgXVsgaSBdICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHQvLyAyLiBDb3B5IHVzZXIgZGF0YVxuXHRcdGlmICggZGF0YVVzZXIuaGFzRGF0YSggc3JjICkgKSB7XG5cdFx0XHR1ZGF0YU9sZCA9IGRhdGFVc2VyLmFjY2Vzcyggc3JjICk7XG5cdFx0XHR1ZGF0YUN1ciA9IGpRdWVyeS5leHRlbmQoIHt9LCB1ZGF0YU9sZCApO1xuXHRcblx0XHRcdGRhdGFVc2VyLnNldCggZGVzdCwgdWRhdGFDdXIgKTtcblx0XHR9XG5cdH1cblx0XG5cdC8vIEZpeCBJRSBidWdzLCBzZWUgc3VwcG9ydCB0ZXN0c1xuXHRmdW5jdGlvbiBmaXhJbnB1dCggc3JjLCBkZXN0ICkge1xuXHRcdHZhciBub2RlTmFtZSA9IGRlc3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XG5cdFx0Ly8gRmFpbHMgdG8gcGVyc2lzdCB0aGUgY2hlY2tlZCBzdGF0ZSBvZiBhIGNsb25lZCBjaGVja2JveCBvciByYWRpbyBidXR0b24uXG5cdFx0aWYgKCBub2RlTmFtZSA9PT0gXCJpbnB1dFwiICYmIHJjaGVja2FibGVUeXBlLnRlc3QoIHNyYy50eXBlICkgKSB7XG5cdFx0XHRkZXN0LmNoZWNrZWQgPSBzcmMuY2hlY2tlZDtcblx0XG5cdFx0Ly8gRmFpbHMgdG8gcmV0dXJuIHRoZSBzZWxlY3RlZCBvcHRpb24gdG8gdGhlIGRlZmF1bHQgc2VsZWN0ZWQgc3RhdGUgd2hlbiBjbG9uaW5nIG9wdGlvbnNcblx0XHR9IGVsc2UgaWYgKCBub2RlTmFtZSA9PT0gXCJpbnB1dFwiIHx8IG5vZGVOYW1lID09PSBcInRleHRhcmVhXCIgKSB7XG5cdFx0XHRkZXN0LmRlZmF1bHRWYWx1ZSA9IHNyYy5kZWZhdWx0VmFsdWU7XG5cdFx0fVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBkb21NYW5pcCggY29sbGVjdGlvbiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQgKSB7XG5cdFxuXHRcdC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcblx0XHRhcmdzID0gY29uY2F0LmFwcGx5KCBbXSwgYXJncyApO1xuXHRcblx0XHR2YXIgZnJhZ21lbnQsIGZpcnN0LCBzY3JpcHRzLCBoYXNTY3JpcHRzLCBub2RlLCBkb2MsXG5cdFx0XHRpID0gMCxcblx0XHRcdGwgPSBjb2xsZWN0aW9uLmxlbmd0aCxcblx0XHRcdGlOb0Nsb25lID0gbCAtIDEsXG5cdFx0XHR2YWx1ZSA9IGFyZ3NbIDAgXSxcblx0XHRcdGlzRnVuY3Rpb24gPSBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKTtcblx0XG5cdFx0Ly8gV2UgY2FuJ3QgY2xvbmVOb2RlIGZyYWdtZW50cyB0aGF0IGNvbnRhaW4gY2hlY2tlZCwgaW4gV2ViS2l0XG5cdFx0aWYgKCBpc0Z1bmN0aW9uIHx8XG5cdFx0XHRcdCggbCA+IDEgJiYgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmXG5cdFx0XHRcdFx0IXN1cHBvcnQuY2hlY2tDbG9uZSAmJiByY2hlY2tlZC50ZXN0KCB2YWx1ZSApICkgKSB7XG5cdFx0XHRyZXR1cm4gY29sbGVjdGlvbi5lYWNoKCBmdW5jdGlvbiggaW5kZXggKSB7XG5cdFx0XHRcdHZhciBzZWxmID0gY29sbGVjdGlvbi5lcSggaW5kZXggKTtcblx0XHRcdFx0aWYgKCBpc0Z1bmN0aW9uICkge1xuXHRcdFx0XHRcdGFyZ3NbIDAgXSA9IHZhbHVlLmNhbGwoIHRoaXMsIGluZGV4LCBzZWxmLmh0bWwoKSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGRvbU1hbmlwKCBzZWxmLCBhcmdzLCBjYWxsYmFjaywgaWdub3JlZCApO1xuXHRcdFx0fSApO1xuXHRcdH1cblx0XG5cdFx0aWYgKCBsICkge1xuXHRcdFx0ZnJhZ21lbnQgPSBidWlsZEZyYWdtZW50KCBhcmdzLCBjb2xsZWN0aW9uWyAwIF0ub3duZXJEb2N1bWVudCwgZmFsc2UsIGNvbGxlY3Rpb24sIGlnbm9yZWQgKTtcblx0XHRcdGZpcnN0ID0gZnJhZ21lbnQuZmlyc3RDaGlsZDtcblx0XG5cdFx0XHRpZiAoIGZyYWdtZW50LmNoaWxkTm9kZXMubGVuZ3RoID09PSAxICkge1xuXHRcdFx0XHRmcmFnbWVudCA9IGZpcnN0O1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFJlcXVpcmUgZWl0aGVyIG5ldyBjb250ZW50IG9yIGFuIGludGVyZXN0IGluIGlnbm9yZWQgZWxlbWVudHMgdG8gaW52b2tlIHRoZSBjYWxsYmFja1xuXHRcdFx0aWYgKCBmaXJzdCB8fCBpZ25vcmVkICkge1xuXHRcdFx0XHRzY3JpcHRzID0galF1ZXJ5Lm1hcCggZ2V0QWxsKCBmcmFnbWVudCwgXCJzY3JpcHRcIiApLCBkaXNhYmxlU2NyaXB0ICk7XG5cdFx0XHRcdGhhc1NjcmlwdHMgPSBzY3JpcHRzLmxlbmd0aDtcblx0XG5cdFx0XHRcdC8vIFVzZSB0aGUgb3JpZ2luYWwgZnJhZ21lbnQgZm9yIHRoZSBsYXN0IGl0ZW1cblx0XHRcdFx0Ly8gaW5zdGVhZCBvZiB0aGUgZmlyc3QgYmVjYXVzZSBpdCBjYW4gZW5kIHVwXG5cdFx0XHRcdC8vIGJlaW5nIGVtcHRpZWQgaW5jb3JyZWN0bHkgaW4gY2VydGFpbiBzaXR1YXRpb25zICgjODA3MCkuXG5cdFx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0XHRub2RlID0gZnJhZ21lbnQ7XG5cdFxuXHRcdFx0XHRcdGlmICggaSAhPT0gaU5vQ2xvbmUgKSB7XG5cdFx0XHRcdFx0XHRub2RlID0galF1ZXJ5LmNsb25lKCBub2RlLCB0cnVlLCB0cnVlICk7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gS2VlcCByZWZlcmVuY2VzIHRvIGNsb25lZCBzY3JpcHRzIGZvciBsYXRlciByZXN0b3JhdGlvblxuXHRcdFx0XHRcdFx0aWYgKCBoYXNTY3JpcHRzICkge1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdFx0XHRcdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRcdFx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCBzY3JpcHRzLCBnZXRBbGwoIG5vZGUsIFwic2NyaXB0XCIgKSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Y2FsbGJhY2suY2FsbCggY29sbGVjdGlvblsgaSBdLCBub2RlLCBpICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGlmICggaGFzU2NyaXB0cyApIHtcblx0XHRcdFx0XHRkb2MgPSBzY3JpcHRzWyBzY3JpcHRzLmxlbmd0aCAtIDEgXS5vd25lckRvY3VtZW50O1xuXHRcblx0XHRcdFx0XHQvLyBSZWVuYWJsZSBzY3JpcHRzXG5cdFx0XHRcdFx0alF1ZXJ5Lm1hcCggc2NyaXB0cywgcmVzdG9yZVNjcmlwdCApO1xuXHRcblx0XHRcdFx0XHQvLyBFdmFsdWF0ZSBleGVjdXRhYmxlIHNjcmlwdHMgb24gZmlyc3QgZG9jdW1lbnQgaW5zZXJ0aW9uXG5cdFx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBoYXNTY3JpcHRzOyBpKysgKSB7XG5cdFx0XHRcdFx0XHRub2RlID0gc2NyaXB0c1sgaSBdO1xuXHRcdFx0XHRcdFx0aWYgKCByc2NyaXB0VHlwZS50ZXN0KCBub2RlLnR5cGUgfHwgXCJcIiApICYmXG5cdFx0XHRcdFx0XHRcdCFkYXRhUHJpdi5hY2Nlc3MoIG5vZGUsIFwiZ2xvYmFsRXZhbFwiICkgJiZcblx0XHRcdFx0XHRcdFx0alF1ZXJ5LmNvbnRhaW5zKCBkb2MsIG5vZGUgKSApIHtcblx0XG5cdFx0XHRcdFx0XHRcdGlmICggbm9kZS5zcmMgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdC8vIE9wdGlvbmFsIEFKQVggZGVwZW5kZW5jeSwgYnV0IHdvbid0IHJ1biBzY3JpcHRzIGlmIG5vdCBwcmVzZW50XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuX2V2YWxVcmwgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuX2V2YWxVcmwoIG5vZGUuc3JjICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdERPTUV2YWwoIG5vZGUudGV4dENvbnRlbnQucmVwbGFjZSggcmNsZWFuU2NyaXB0LCBcIlwiICksIGRvYyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gY29sbGVjdGlvbjtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVtb3ZlKCBlbGVtLCBzZWxlY3Rvciwga2VlcERhdGEgKSB7XG5cdFx0dmFyIG5vZGUsXG5cdFx0XHRub2RlcyA9IHNlbGVjdG9yID8galF1ZXJ5LmZpbHRlciggc2VsZWN0b3IsIGVsZW0gKSA6IGVsZW0sXG5cdFx0XHRpID0gMDtcblx0XG5cdFx0Zm9yICggOyAoIG5vZGUgPSBub2Rlc1sgaSBdICkgIT0gbnVsbDsgaSsrICkge1xuXHRcdFx0aWYgKCAha2VlcERhdGEgJiYgbm9kZS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBub2RlICkgKTtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIG5vZGUucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0aWYgKCBrZWVwRGF0YSAmJiBqUXVlcnkuY29udGFpbnMoIG5vZGUub3duZXJEb2N1bWVudCwgbm9kZSApICkge1xuXHRcdFx0XHRcdHNldEdsb2JhbEV2YWwoIGdldEFsbCggbm9kZSwgXCJzY3JpcHRcIiApICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0bm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBub2RlICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gZWxlbTtcblx0fVxuXHRcblx0alF1ZXJ5LmV4dGVuZCgge1xuXHRcdGh0bWxQcmVmaWx0ZXI6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdFx0cmV0dXJuIGh0bWwucmVwbGFjZSggcnhodG1sVGFnLCBcIjwkMT48LyQyPlwiICk7XG5cdFx0fSxcblx0XG5cdFx0Y2xvbmU6IGZ1bmN0aW9uKCBlbGVtLCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHRcdHZhciBpLCBsLCBzcmNFbGVtZW50cywgZGVzdEVsZW1lbnRzLFxuXHRcdFx0XHRjbG9uZSA9IGVsZW0uY2xvbmVOb2RlKCB0cnVlICksXG5cdFx0XHRcdGluUGFnZSA9IGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICk7XG5cdFxuXHRcdFx0Ly8gRml4IElFIGNsb25pbmcgaXNzdWVzXG5cdFx0XHRpZiAoICFzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkICYmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBlbGVtLm5vZGVUeXBlID09PSAxMSApICYmXG5cdFx0XHRcdFx0IWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuXHRcblx0XHRcdFx0Ly8gV2UgZXNjaGV3IFNpenpsZSBoZXJlIGZvciBwZXJmb3JtYW5jZSByZWFzb25zOiBodHRwczovL2pzcGVyZi5jb20vZ2V0YWxsLXZzLXNpenpsZS8yXG5cdFx0XHRcdGRlc3RFbGVtZW50cyA9IGdldEFsbCggY2xvbmUgKTtcblx0XHRcdFx0c3JjRWxlbWVudHMgPSBnZXRBbGwoIGVsZW0gKTtcblx0XG5cdFx0XHRcdGZvciAoIGkgPSAwLCBsID0gc3JjRWxlbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdGZpeElucHV0KCBzcmNFbGVtZW50c1sgaSBdLCBkZXN0RWxlbWVudHNbIGkgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gQ29weSB0aGUgZXZlbnRzIGZyb20gdGhlIG9yaWdpbmFsIHRvIHRoZSBjbG9uZVxuXHRcdFx0aWYgKCBkYXRhQW5kRXZlbnRzICkge1xuXHRcdFx0XHRpZiAoIGRlZXBEYXRhQW5kRXZlbnRzICkge1xuXHRcdFx0XHRcdHNyY0VsZW1lbnRzID0gc3JjRWxlbWVudHMgfHwgZ2V0QWxsKCBlbGVtICk7XG5cdFx0XHRcdFx0ZGVzdEVsZW1lbnRzID0gZGVzdEVsZW1lbnRzIHx8IGdldEFsbCggY2xvbmUgKTtcblx0XG5cdFx0XHRcdFx0Zm9yICggaSA9IDAsIGwgPSBzcmNFbGVtZW50cy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0XHRjbG9uZUNvcHlFdmVudCggc3JjRWxlbWVudHNbIGkgXSwgZGVzdEVsZW1lbnRzWyBpIF0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y2xvbmVDb3B5RXZlbnQoIGVsZW0sIGNsb25lICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHQvLyBQcmVzZXJ2ZSBzY3JpcHQgZXZhbHVhdGlvbiBoaXN0b3J5XG5cdFx0XHRkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lLCBcInNjcmlwdFwiICk7XG5cdFx0XHRpZiAoIGRlc3RFbGVtZW50cy5sZW5ndGggPiAwICkge1xuXHRcdFx0XHRzZXRHbG9iYWxFdmFsKCBkZXN0RWxlbWVudHMsICFpblBhZ2UgJiYgZ2V0QWxsKCBlbGVtLCBcInNjcmlwdFwiICkgKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBSZXR1cm4gdGhlIGNsb25lZCBzZXRcblx0XHRcdHJldHVybiBjbG9uZTtcblx0XHR9LFxuXHRcblx0XHRjbGVhbkRhdGE6IGZ1bmN0aW9uKCBlbGVtcyApIHtcblx0XHRcdHZhciBkYXRhLCBlbGVtLCB0eXBlLFxuXHRcdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWwsXG5cdFx0XHRcdGkgPSAwO1xuXHRcblx0XHRcdGZvciAoIDsgKCBlbGVtID0gZWxlbXNbIGkgXSApICE9PSB1bmRlZmluZWQ7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBhY2NlcHREYXRhKCBlbGVtICkgKSB7XG5cdFx0XHRcdFx0aWYgKCAoIGRhdGEgPSBlbGVtWyBkYXRhUHJpdi5leHBhbmRvIF0gKSApIHtcblx0XHRcdFx0XHRcdGlmICggZGF0YS5ldmVudHMgKSB7XG5cdFx0XHRcdFx0XHRcdGZvciAoIHR5cGUgaW4gZGF0YS5ldmVudHMgKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBzcGVjaWFsWyB0eXBlIF0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCBlbGVtLCB0eXBlICk7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdC8vIFRoaXMgaXMgYSBzaG9ydGN1dCB0byBhdm9pZCBqUXVlcnkuZXZlbnQucmVtb3ZlJ3Mgb3ZlcmhlYWRcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBkYXRhLmhhbmRsZSApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZSA8PTM1IC0gNDUrXG5cdFx0XHRcdFx0XHQvLyBBc3NpZ24gdW5kZWZpbmVkIGluc3RlYWQgb2YgdXNpbmcgZGVsZXRlLCBzZWUgRGF0YSNyZW1vdmVcblx0XHRcdFx0XHRcdGVsZW1bIGRhdGFQcml2LmV4cGFuZG8gXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCBlbGVtWyBkYXRhVXNlci5leHBhbmRvIF0gKSB7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NStcblx0XHRcdFx0XHRcdC8vIEFzc2lnbiB1bmRlZmluZWQgaW5zdGVhZCBvZiB1c2luZyBkZWxldGUsIHNlZSBEYXRhI3JlbW92ZVxuXHRcdFx0XHRcdFx0ZWxlbVsgZGF0YVVzZXIuZXhwYW5kbyBdID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSApO1xuXHRcblx0alF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRcdGRldGFjaDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdFx0cmV0dXJuIHJlbW92ZSggdGhpcywgc2VsZWN0b3IsIHRydWUgKTtcblx0XHR9LFxuXHRcblx0XHRyZW1vdmU6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRcdHJldHVybiByZW1vdmUoIHRoaXMsIHNlbGVjdG9yICk7XG5cdFx0fSxcblx0XG5cdFx0dGV4dDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdFx0alF1ZXJ5LnRleHQoIHRoaXMgKSA6XG5cdFx0XHRcdFx0dGhpcy5lbXB0eSgpLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMudGV4dENvbnRlbnQgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9ICk7XG5cdFx0XHR9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCApO1xuXHRcdH0sXG5cdFxuXHRcdGFwcGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHRcdHZhciB0YXJnZXQgPSBtYW5pcHVsYXRpb25UYXJnZXQoIHRoaXMsIGVsZW0gKTtcblx0XHRcdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoIGVsZW0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH0sXG5cdFxuXHRcdHByZXBlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0XHR2YXIgdGFyZ2V0ID0gbWFuaXB1bGF0aW9uVGFyZ2V0KCB0aGlzLCBlbGVtICk7XG5cdFx0XHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZSggZWxlbSwgdGFyZ2V0LmZpcnN0Q2hpbGQgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH0sXG5cdFxuXHRcdGJlZm9yZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdGlmICggdGhpcy5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRcdHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIGVsZW0sIHRoaXMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH0sXG5cdFxuXHRcdGFmdGVyOiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0aWYgKCB0aGlzLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdFx0dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZWxlbSwgdGhpcy5uZXh0U2libGluZyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fSxcblx0XG5cdFx0ZW1wdHk6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGVsZW0sXG5cdFx0XHRcdGkgPSAwO1xuXHRcblx0XHRcdGZvciAoIDsgKCBlbGVtID0gdGhpc1sgaSBdICkgIT0gbnVsbDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFxuXHRcdFx0XHRcdC8vIFByZXZlbnQgbWVtb3J5IGxlYWtzXG5cdFx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBlbGVtLCBmYWxzZSApICk7XG5cdFxuXHRcdFx0XHRcdC8vIFJlbW92ZSBhbnkgcmVtYWluaW5nIG5vZGVzXG5cdFx0XHRcdFx0ZWxlbS50ZXh0Q29udGVudCA9IFwiXCI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcblx0XHRjbG9uZTogZnVuY3Rpb24oIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICkge1xuXHRcdFx0ZGF0YUFuZEV2ZW50cyA9IGRhdGFBbmRFdmVudHMgPT0gbnVsbCA/IGZhbHNlIDogZGF0YUFuZEV2ZW50cztcblx0XHRcdGRlZXBEYXRhQW5kRXZlbnRzID0gZGVlcERhdGFBbmRFdmVudHMgPT0gbnVsbCA/IGRhdGFBbmRFdmVudHMgOiBkZWVwRGF0YUFuZEV2ZW50cztcblx0XG5cdFx0XHRyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4galF1ZXJ5LmNsb25lKCB0aGlzLCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApO1xuXHRcdFx0fSApO1xuXHRcdH0sXG5cdFxuXHRcdGh0bWw6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0dmFyIGVsZW0gPSB0aGlzWyAwIF0gfHwge30sXG5cdFx0XHRcdFx0aSA9IDAsXG5cdFx0XHRcdFx0bCA9IHRoaXMubGVuZ3RoO1xuXHRcblx0XHRcdFx0aWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVsZW0uaW5uZXJIVE1MO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBTZWUgaWYgd2UgY2FuIHRha2UgYSBzaG9ydGN1dCBhbmQganVzdCB1c2UgaW5uZXJIVE1MXG5cdFx0XHRcdGlmICggdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmICFybm9Jbm5lcmh0bWwudGVzdCggdmFsdWUgKSAmJlxuXHRcdFx0XHRcdCF3cmFwTWFwWyAoIHJ0YWdOYW1lLmV4ZWMoIHZhbHVlICkgfHwgWyBcIlwiLCBcIlwiIF0gKVsgMSBdLnRvTG93ZXJDYXNlKCkgXSApIHtcblx0XG5cdFx0XHRcdFx0dmFsdWUgPSBqUXVlcnkuaHRtbFByZWZpbHRlciggdmFsdWUgKTtcblx0XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0XHRcdFx0ZWxlbSA9IHRoaXNbIGkgXSB8fCB7fTtcblx0XG5cdFx0XHRcdFx0XHRcdC8vIFJlbW92ZSBlbGVtZW50IG5vZGVzIGFuZCBwcmV2ZW50IG1lbW9yeSBsZWFrc1xuXHRcdFx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBlbGVtLCBmYWxzZSApICk7XG5cdFx0XHRcdFx0XHRcdFx0ZWxlbS5pbm5lckhUTUwgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdGVsZW0gPSAwO1xuXHRcblx0XHRcdFx0XHQvLyBJZiB1c2luZyBpbm5lckhUTUwgdGhyb3dzIGFuIGV4Y2VwdGlvbiwgdXNlIHRoZSBmYWxsYmFjayBtZXRob2Rcblx0XHRcdFx0XHR9IGNhdGNoICggZSApIHt9XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGlmICggZWxlbSApIHtcblx0XHRcdFx0XHR0aGlzLmVtcHR5KCkuYXBwZW5kKCB2YWx1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCApO1xuXHRcdH0sXG5cdFxuXHRcdHJlcGxhY2VXaXRoOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpZ25vcmVkID0gW107XG5cdFxuXHRcdFx0Ly8gTWFrZSB0aGUgY2hhbmdlcywgcmVwbGFjaW5nIGVhY2ggbm9uLWlnbm9yZWQgY29udGV4dCBlbGVtZW50IHdpdGggdGhlIG5ldyBjb250ZW50XG5cdFx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XG5cdFxuXHRcdFx0XHRpZiAoIGpRdWVyeS5pbkFycmF5KCB0aGlzLCBpZ25vcmVkICkgPCAwICkge1xuXHRcdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggdGhpcyApICk7XG5cdFx0XHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cdFx0XHRcdFx0XHRwYXJlbnQucmVwbGFjZUNoaWxkKCBlbGVtLCB0aGlzICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0Ly8gRm9yY2UgY2FsbGJhY2sgaW52b2NhdGlvblxuXHRcdFx0fSwgaWdub3JlZCApO1xuXHRcdH1cblx0fSApO1xuXHRcblx0alF1ZXJ5LmVhY2goIHtcblx0XHRhcHBlbmRUbzogXCJhcHBlbmRcIixcblx0XHRwcmVwZW5kVG86IFwicHJlcGVuZFwiLFxuXHRcdGluc2VydEJlZm9yZTogXCJiZWZvcmVcIixcblx0XHRpbnNlcnRBZnRlcjogXCJhZnRlclwiLFxuXHRcdHJlcGxhY2VBbGw6IFwicmVwbGFjZVdpdGhcIlxuXHR9LCBmdW5jdGlvbiggbmFtZSwgb3JpZ2luYWwgKSB7XG5cdFx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHR2YXIgZWxlbXMsXG5cdFx0XHRcdHJldCA9IFtdLFxuXHRcdFx0XHRpbnNlcnQgPSBqUXVlcnkoIHNlbGVjdG9yICksXG5cdFx0XHRcdGxhc3QgPSBpbnNlcnQubGVuZ3RoIC0gMSxcblx0XHRcdFx0aSA9IDA7XG5cdFxuXHRcdFx0Zm9yICggOyBpIDw9IGxhc3Q7IGkrKyApIHtcblx0XHRcdFx0ZWxlbXMgPSBpID09PSBsYXN0ID8gdGhpcyA6IHRoaXMuY2xvbmUoIHRydWUgKTtcblx0XHRcdFx0alF1ZXJ5KCBpbnNlcnRbIGkgXSApWyBvcmlnaW5hbCBdKCBlbGVtcyApO1xuXHRcblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdC8vIC5nZXQoKSBiZWNhdXNlIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRcdFx0cHVzaC5hcHBseSggcmV0LCBlbGVtcy5nZXQoKSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggcmV0ICk7XG5cdFx0fTtcblx0fSApO1xuXHR2YXIgcm1hcmdpbiA9ICggL15tYXJnaW4vICk7XG5cdFxuXHR2YXIgcm51bW5vbnB4ID0gbmV3IFJlZ0V4cCggXCJeKFwiICsgcG51bSArIFwiKSg/IXB4KVthLXolXSskXCIsIFwiaVwiICk7XG5cdFxuXHR2YXIgZ2V0U3R5bGVzID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5LCBGaXJlZm94IDw9MzAgKCMxNTA5OCwgIzE0MTUwKVxuXHRcdFx0Ly8gSUUgdGhyb3dzIG9uIGVsZW1lbnRzIGNyZWF0ZWQgaW4gcG9wdXBzXG5cdFx0XHQvLyBGRiBtZWFud2hpbGUgdGhyb3dzIG9uIGZyYW1lIGVsZW1lbnRzIHRocm91Z2ggXCJkZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlXCJcblx0XHRcdHZhciB2aWV3ID0gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xuXHRcblx0XHRcdGlmICggIXZpZXcgfHwgIXZpZXcub3BlbmVyICkge1xuXHRcdFx0XHR2aWV3ID0gd2luZG93O1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiB2aWV3LmdldENvbXB1dGVkU3R5bGUoIGVsZW0gKTtcblx0XHR9O1xuXHRcblx0XG5cdFxuXHQoIGZ1bmN0aW9uKCkge1xuXHRcblx0XHQvLyBFeGVjdXRpbmcgYm90aCBwaXhlbFBvc2l0aW9uICYgYm94U2l6aW5nUmVsaWFibGUgdGVzdHMgcmVxdWlyZSBvbmx5IG9uZSBsYXlvdXRcblx0XHQvLyBzbyB0aGV5J3JlIGV4ZWN1dGVkIGF0IHRoZSBzYW1lIHRpbWUgdG8gc2F2ZSB0aGUgc2Vjb25kIGNvbXB1dGF0aW9uLlxuXHRcdGZ1bmN0aW9uIGNvbXB1dGVTdHlsZVRlc3RzKCkge1xuXHRcblx0XHRcdC8vIFRoaXMgaXMgYSBzaW5nbGV0b24sIHdlIG5lZWQgdG8gZXhlY3V0ZSBpdCBvbmx5IG9uY2Vcblx0XHRcdGlmICggIWRpdiApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdGRpdi5zdHlsZS5jc3NUZXh0ID1cblx0XHRcdFx0XCJib3gtc2l6aW5nOmJvcmRlci1ib3g7XCIgK1xuXHRcdFx0XHRcInBvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7XCIgK1xuXHRcdFx0XHRcIm1hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7XCIgK1xuXHRcdFx0XHRcInRvcDoxJTt3aWR0aDo1MCVcIjtcblx0XHRcdGRpdi5pbm5lckhUTUwgPSBcIlwiO1xuXHRcdFx0ZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKCBjb250YWluZXIgKTtcblx0XG5cdFx0XHR2YXIgZGl2U3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggZGl2ICk7XG5cdFx0XHRwaXhlbFBvc2l0aW9uVmFsID0gZGl2U3R5bGUudG9wICE9PSBcIjElXCI7XG5cdFxuXHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seSwgRmlyZWZveCA8PTMgLSA0NFxuXHRcdFx0cmVsaWFibGVNYXJnaW5MZWZ0VmFsID0gZGl2U3R5bGUubWFyZ2luTGVmdCA9PT0gXCIycHhcIjtcblx0XHRcdGJveFNpemluZ1JlbGlhYmxlVmFsID0gZGl2U3R5bGUud2lkdGggPT09IFwiNHB4XCI7XG5cdFxuXHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seVxuXHRcdFx0Ly8gU29tZSBzdHlsZXMgY29tZSBiYWNrIHdpdGggcGVyY2VudGFnZSB2YWx1ZXMsIGV2ZW4gdGhvdWdoIHRoZXkgc2hvdWxkbid0XG5cdFx0XHRkaXYuc3R5bGUubWFyZ2luUmlnaHQgPSBcIjUwJVwiO1xuXHRcdFx0cGl4ZWxNYXJnaW5SaWdodFZhbCA9IGRpdlN0eWxlLm1hcmdpblJpZ2h0ID09PSBcIjRweFwiO1xuXHRcblx0XHRcdGRvY3VtZW50RWxlbWVudC5yZW1vdmVDaGlsZCggY29udGFpbmVyICk7XG5cdFxuXHRcdFx0Ly8gTnVsbGlmeSB0aGUgZGl2IHNvIGl0IHdvdWxkbid0IGJlIHN0b3JlZCBpbiB0aGUgbWVtb3J5IGFuZFxuXHRcdFx0Ly8gaXQgd2lsbCBhbHNvIGJlIGEgc2lnbiB0aGF0IGNoZWNrcyBhbHJlYWR5IHBlcmZvcm1lZFxuXHRcdFx0ZGl2ID0gbnVsbDtcblx0XHR9XG5cdFxuXHRcdHZhciBwaXhlbFBvc2l0aW9uVmFsLCBib3hTaXppbmdSZWxpYWJsZVZhbCwgcGl4ZWxNYXJnaW5SaWdodFZhbCwgcmVsaWFibGVNYXJnaW5MZWZ0VmFsLFxuXHRcdFx0Y29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApLFxuXHRcdFx0ZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xuXHRcblx0XHQvLyBGaW5pc2ggZWFybHkgaW4gbGltaXRlZCAobm9uLWJyb3dzZXIpIGVudmlyb25tZW50c1xuXHRcdGlmICggIWRpdi5zdHlsZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0XHQvLyBTdHlsZSBvZiBjbG9uZWQgZWxlbWVudCBhZmZlY3RzIHNvdXJjZSBlbGVtZW50IGNsb25lZCAoIzg5MDgpXG5cdFx0ZGl2LnN0eWxlLmJhY2tncm91bmRDbGlwID0gXCJjb250ZW50LWJveFwiO1xuXHRcdGRpdi5jbG9uZU5vZGUoIHRydWUgKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9IFwiXCI7XG5cdFx0c3VwcG9ydC5jbGVhckNsb25lU3R5bGUgPSBkaXYuc3R5bGUuYmFja2dyb3VuZENsaXAgPT09IFwiY29udGVudC1ib3hcIjtcblx0XG5cdFx0Y29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBcImJvcmRlcjowO3dpZHRoOjhweDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHg7XCIgK1xuXHRcdFx0XCJwYWRkaW5nOjA7bWFyZ2luLXRvcDoxcHg7cG9zaXRpb246YWJzb2x1dGVcIjtcblx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQoIGRpdiApO1xuXHRcblx0XHRqUXVlcnkuZXh0ZW5kKCBzdXBwb3J0LCB7XG5cdFx0XHRwaXhlbFBvc2l0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcblx0XHRcdFx0cmV0dXJuIHBpeGVsUG9zaXRpb25WYWw7XG5cdFx0XHR9LFxuXHRcdFx0Ym94U2l6aW5nUmVsaWFibGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0XHRyZXR1cm4gYm94U2l6aW5nUmVsaWFibGVWYWw7XG5cdFx0XHR9LFxuXHRcdFx0cGl4ZWxNYXJnaW5SaWdodDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRcdHJldHVybiBwaXhlbE1hcmdpblJpZ2h0VmFsO1xuXHRcdFx0fSxcblx0XHRcdHJlbGlhYmxlTWFyZ2luTGVmdDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRcdHJldHVybiByZWxpYWJsZU1hcmdpbkxlZnRWYWw7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9ICkoKTtcblx0XG5cdFxuXHRmdW5jdGlvbiBjdXJDU1MoIGVsZW0sIG5hbWUsIGNvbXB1dGVkICkge1xuXHRcdHZhciB3aWR0aCwgbWluV2lkdGgsIG1heFdpZHRoLCByZXQsXG5cdFx0XHRzdHlsZSA9IGVsZW0uc3R5bGU7XG5cdFxuXHRcdGNvbXB1dGVkID0gY29tcHV0ZWQgfHwgZ2V0U3R5bGVzKCBlbGVtICk7XG5cdFxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdFx0Ly8gZ2V0UHJvcGVydHlWYWx1ZSBpcyBvbmx5IG5lZWRlZCBmb3IgLmNzcygnZmlsdGVyJykgKCMxMjUzNylcblx0XHRpZiAoIGNvbXB1dGVkICkge1xuXHRcdFx0cmV0ID0gY29tcHV0ZWQuZ2V0UHJvcGVydHlWYWx1ZSggbmFtZSApIHx8IGNvbXB1dGVkWyBuYW1lIF07XG5cdFxuXHRcdFx0aWYgKCByZXQgPT09IFwiXCIgJiYgIWpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICkgKSB7XG5cdFx0XHRcdHJldCA9IGpRdWVyeS5zdHlsZSggZWxlbSwgbmFtZSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEEgdHJpYnV0ZSB0byB0aGUgXCJhd2Vzb21lIGhhY2sgYnkgRGVhbiBFZHdhcmRzXCJcblx0XHRcdC8vIEFuZHJvaWQgQnJvd3NlciByZXR1cm5zIHBlcmNlbnRhZ2UgZm9yIHNvbWUgdmFsdWVzLFxuXHRcdFx0Ly8gYnV0IHdpZHRoIHNlZW1zIHRvIGJlIHJlbGlhYmx5IHBpeGVscy5cblx0XHRcdC8vIFRoaXMgaXMgYWdhaW5zdCB0aGUgQ1NTT00gZHJhZnQgc3BlYzpcblx0XHRcdC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jcmVzb2x2ZWQtdmFsdWVzXG5cdFx0XHRpZiAoICFzdXBwb3J0LnBpeGVsTWFyZ2luUmlnaHQoKSAmJiBybnVtbm9ucHgudGVzdCggcmV0ICkgJiYgcm1hcmdpbi50ZXN0KCBuYW1lICkgKSB7XG5cdFxuXHRcdFx0XHQvLyBSZW1lbWJlciB0aGUgb3JpZ2luYWwgdmFsdWVzXG5cdFx0XHRcdHdpZHRoID0gc3R5bGUud2lkdGg7XG5cdFx0XHRcdG1pbldpZHRoID0gc3R5bGUubWluV2lkdGg7XG5cdFx0XHRcdG1heFdpZHRoID0gc3R5bGUubWF4V2lkdGg7XG5cdFxuXHRcdFx0XHQvLyBQdXQgaW4gdGhlIG5ldyB2YWx1ZXMgdG8gZ2V0IGEgY29tcHV0ZWQgdmFsdWUgb3V0XG5cdFx0XHRcdHN0eWxlLm1pbldpZHRoID0gc3R5bGUubWF4V2lkdGggPSBzdHlsZS53aWR0aCA9IHJldDtcblx0XHRcdFx0cmV0ID0gY29tcHV0ZWQud2lkdGg7XG5cdFxuXHRcdFx0XHQvLyBSZXZlcnQgdGhlIGNoYW5nZWQgdmFsdWVzXG5cdFx0XHRcdHN0eWxlLndpZHRoID0gd2lkdGg7XG5cdFx0XHRcdHN0eWxlLm1pbldpZHRoID0gbWluV2lkdGg7XG5cdFx0XHRcdHN0eWxlLm1heFdpZHRoID0gbWF4V2lkdGg7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gcmV0ICE9PSB1bmRlZmluZWQgP1xuXHRcblx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0XHRcdC8vIElFIHJldHVybnMgekluZGV4IHZhbHVlIGFzIGFuIGludGVnZXIuXG5cdFx0XHRyZXQgKyBcIlwiIDpcblx0XHRcdHJldDtcblx0fVxuXHRcblx0XG5cdGZ1bmN0aW9uIGFkZEdldEhvb2tJZiggY29uZGl0aW9uRm4sIGhvb2tGbiApIHtcblx0XG5cdFx0Ly8gRGVmaW5lIHRoZSBob29rLCB3ZSdsbCBjaGVjayBvbiB0aGUgZmlyc3QgcnVuIGlmIGl0J3MgcmVhbGx5IG5lZWRlZC5cblx0XHRyZXR1cm4ge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBjb25kaXRpb25GbigpICkge1xuXHRcblx0XHRcdFx0XHQvLyBIb29rIG5vdCBuZWVkZWQgKG9yIGl0J3Mgbm90IHBvc3NpYmxlIHRvIHVzZSBpdCBkdWVcblx0XHRcdFx0XHQvLyB0byBtaXNzaW5nIGRlcGVuZGVuY3kpLCByZW1vdmUgaXQuXG5cdFx0XHRcdFx0ZGVsZXRlIHRoaXMuZ2V0O1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gSG9vayBuZWVkZWQ7IHJlZGVmaW5lIGl0IHNvIHRoYXQgdGhlIHN1cHBvcnQgdGVzdCBpcyBub3QgZXhlY3V0ZWQgYWdhaW4uXG5cdFx0XHRcdHJldHVybiAoIHRoaXMuZ2V0ID0gaG9va0ZuICkuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblx0XG5cdFxuXHR2YXJcblx0XG5cdFx0Ly8gU3dhcHBhYmxlIGlmIGRpc3BsYXkgaXMgbm9uZSBvciBzdGFydHMgd2l0aCB0YWJsZVxuXHRcdC8vIGV4Y2VwdCBcInRhYmxlXCIsIFwidGFibGUtY2VsbFwiLCBvciBcInRhYmxlLWNhcHRpb25cIlxuXHRcdC8vIFNlZSBoZXJlIGZvciBkaXNwbGF5IHZhbHVlczogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9DU1MvZGlzcGxheVxuXHRcdHJkaXNwbGF5c3dhcCA9IC9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxcblx0XHRjc3NTaG93ID0geyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCB2aXNpYmlsaXR5OiBcImhpZGRlblwiLCBkaXNwbGF5OiBcImJsb2NrXCIgfSxcblx0XHRjc3NOb3JtYWxUcmFuc2Zvcm0gPSB7XG5cdFx0XHRsZXR0ZXJTcGFjaW5nOiBcIjBcIixcblx0XHRcdGZvbnRXZWlnaHQ6IFwiNDAwXCJcblx0XHR9LFxuXHRcblx0XHRjc3NQcmVmaXhlcyA9IFsgXCJXZWJraXRcIiwgXCJNb3pcIiwgXCJtc1wiIF0sXG5cdFx0ZW1wdHlTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKS5zdHlsZTtcblx0XG5cdC8vIFJldHVybiBhIGNzcyBwcm9wZXJ0eSBtYXBwZWQgdG8gYSBwb3RlbnRpYWxseSB2ZW5kb3IgcHJlZml4ZWQgcHJvcGVydHlcblx0ZnVuY3Rpb24gdmVuZG9yUHJvcE5hbWUoIG5hbWUgKSB7XG5cdFxuXHRcdC8vIFNob3J0Y3V0IGZvciBuYW1lcyB0aGF0IGFyZSBub3QgdmVuZG9yIHByZWZpeGVkXG5cdFx0aWYgKCBuYW1lIGluIGVtcHR5U3R5bGUgKSB7XG5cdFx0XHRyZXR1cm4gbmFtZTtcblx0XHR9XG5cdFxuXHRcdC8vIENoZWNrIGZvciB2ZW5kb3IgcHJlZml4ZWQgbmFtZXNcblx0XHR2YXIgY2FwTmFtZSA9IG5hbWVbIDAgXS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSggMSApLFxuXHRcdFx0aSA9IGNzc1ByZWZpeGVzLmxlbmd0aDtcblx0XG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRuYW1lID0gY3NzUHJlZml4ZXNbIGkgXSArIGNhcE5hbWU7XG5cdFx0XHRpZiAoIG5hbWUgaW4gZW1wdHlTdHlsZSApIHtcblx0XHRcdFx0cmV0dXJuIG5hbWU7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBzZXRQb3NpdGl2ZU51bWJlciggZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICkge1xuXHRcblx0XHQvLyBBbnkgcmVsYXRpdmUgKCsvLSkgdmFsdWVzIGhhdmUgYWxyZWFkeSBiZWVuXG5cdFx0Ly8gbm9ybWFsaXplZCBhdCB0aGlzIHBvaW50XG5cdFx0dmFyIG1hdGNoZXMgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICk7XG5cdFx0cmV0dXJuIG1hdGNoZXMgP1xuXHRcblx0XHRcdC8vIEd1YXJkIGFnYWluc3QgdW5kZWZpbmVkIFwic3VidHJhY3RcIiwgZS5nLiwgd2hlbiB1c2VkIGFzIGluIGNzc0hvb2tzXG5cdFx0XHRNYXRoLm1heCggMCwgbWF0Y2hlc1sgMiBdIC0gKCBzdWJ0cmFjdCB8fCAwICkgKSArICggbWF0Y2hlc1sgMyBdIHx8IFwicHhcIiApIDpcblx0XHRcdHZhbHVlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhdWdtZW50V2lkdGhPckhlaWdodCggZWxlbSwgbmFtZSwgZXh0cmEsIGlzQm9yZGVyQm94LCBzdHlsZXMgKSB7XG5cdFx0dmFyIGkgPSBleHRyYSA9PT0gKCBpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIiApID9cblx0XG5cdFx0XHQvLyBJZiB3ZSBhbHJlYWR5IGhhdmUgdGhlIHJpZ2h0IG1lYXN1cmVtZW50LCBhdm9pZCBhdWdtZW50YXRpb25cblx0XHRcdDQgOlxuXHRcblx0XHRcdC8vIE90aGVyd2lzZSBpbml0aWFsaXplIGZvciBob3Jpem9udGFsIG9yIHZlcnRpY2FsIHByb3BlcnRpZXNcblx0XHRcdG5hbWUgPT09IFwid2lkdGhcIiA/IDEgOiAwLFxuXHRcblx0XHRcdHZhbCA9IDA7XG5cdFxuXHRcdGZvciAoIDsgaSA8IDQ7IGkgKz0gMiApIHtcblx0XG5cdFx0XHQvLyBCb3RoIGJveCBtb2RlbHMgZXhjbHVkZSBtYXJnaW4sIHNvIGFkZCBpdCBpZiB3ZSB3YW50IGl0XG5cdFx0XHRpZiAoIGV4dHJhID09PSBcIm1hcmdpblwiICkge1xuXHRcdFx0XHR2YWwgKz0galF1ZXJ5LmNzcyggZWxlbSwgZXh0cmEgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCBpc0JvcmRlckJveCApIHtcblx0XG5cdFx0XHRcdC8vIGJvcmRlci1ib3ggaW5jbHVkZXMgcGFkZGluZywgc28gcmVtb3ZlIGl0IGlmIHdlIHdhbnQgY29udGVudFxuXHRcdFx0XHRpZiAoIGV4dHJhID09PSBcImNvbnRlbnRcIiApIHtcblx0XHRcdFx0XHR2YWwgLT0galF1ZXJ5LmNzcyggZWxlbSwgXCJwYWRkaW5nXCIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIEF0IHRoaXMgcG9pbnQsIGV4dHJhIGlzbid0IGJvcmRlciBub3IgbWFyZ2luLCBzbyByZW1vdmUgYm9yZGVyXG5cdFx0XHRcdGlmICggZXh0cmEgIT09IFwibWFyZ2luXCIgKSB7XG5cdFx0XHRcdFx0dmFsIC09IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm9yZGVyXCIgKyBjc3NFeHBhbmRbIGkgXSArIFwiV2lkdGhcIiwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFxuXHRcdFx0XHQvLyBBdCB0aGlzIHBvaW50LCBleHRyYSBpc24ndCBjb250ZW50LCBzbyBhZGQgcGFkZGluZ1xuXHRcdFx0XHR2YWwgKz0galF1ZXJ5LmNzcyggZWxlbSwgXCJwYWRkaW5nXCIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cdFxuXHRcdFx0XHQvLyBBdCB0aGlzIHBvaW50LCBleHRyYSBpc24ndCBjb250ZW50IG5vciBwYWRkaW5nLCBzbyBhZGQgYm9yZGVyXG5cdFx0XHRcdGlmICggZXh0cmEgIT09IFwicGFkZGluZ1wiICkge1xuXHRcdFx0XHRcdHZhbCArPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kWyBpIF0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gdmFsO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSApIHtcblx0XG5cdFx0Ly8gU3RhcnQgd2l0aCBvZmZzZXQgcHJvcGVydHksIHdoaWNoIGlzIGVxdWl2YWxlbnQgdG8gdGhlIGJvcmRlci1ib3ggdmFsdWVcblx0XHR2YXIgdmFsLFxuXHRcdFx0dmFsdWVJc0JvcmRlckJveCA9IHRydWUsXG5cdFx0XHRzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKSxcblx0XHRcdGlzQm9yZGVyQm94ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIjtcblx0XG5cdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdFx0Ly8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYSBkaXNjb25uZWN0ZWQgbm9kZVxuXHRcdC8vIGluIElFIHRocm93cyBhbiBlcnJvci5cblx0XHRpZiAoIGVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKSB7XG5cdFx0XHR2YWwgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpWyBuYW1lIF07XG5cdFx0fVxuXHRcblx0XHQvLyBTb21lIG5vbi1odG1sIGVsZW1lbnRzIHJldHVybiB1bmRlZmluZWQgZm9yIG9mZnNldFdpZHRoLCBzbyBjaGVjayBmb3IgbnVsbC91bmRlZmluZWRcblx0XHQvLyBzdmcgLSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02NDkyODVcblx0XHQvLyBNYXRoTUwgLSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD00OTE2Njhcblx0XHRpZiAoIHZhbCA8PSAwIHx8IHZhbCA9PSBudWxsICkge1xuXHRcblx0XHRcdC8vIEZhbGwgYmFjayB0byBjb21wdXRlZCB0aGVuIHVuY29tcHV0ZWQgY3NzIGlmIG5lY2Vzc2FyeVxuXHRcdFx0dmFsID0gY3VyQ1NTKCBlbGVtLCBuYW1lLCBzdHlsZXMgKTtcblx0XHRcdGlmICggdmFsIDwgMCB8fCB2YWwgPT0gbnVsbCApIHtcblx0XHRcdFx0dmFsID0gZWxlbS5zdHlsZVsgbmFtZSBdO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIENvbXB1dGVkIHVuaXQgaXMgbm90IHBpeGVscy4gU3RvcCBoZXJlIGFuZCByZXR1cm4uXG5cdFx0XHRpZiAoIHJudW1ub25weC50ZXN0KCB2YWwgKSApIHtcblx0XHRcdFx0cmV0dXJuIHZhbDtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBDaGVjayBmb3Igc3R5bGUgaW4gY2FzZSBhIGJyb3dzZXIgd2hpY2ggcmV0dXJucyB1bnJlbGlhYmxlIHZhbHVlc1xuXHRcdFx0Ly8gZm9yIGdldENvbXB1dGVkU3R5bGUgc2lsZW50bHkgZmFsbHMgYmFjayB0byB0aGUgcmVsaWFibGUgZWxlbS5zdHlsZVxuXHRcdFx0dmFsdWVJc0JvcmRlckJveCA9IGlzQm9yZGVyQm94ICYmXG5cdFx0XHRcdCggc3VwcG9ydC5ib3hTaXppbmdSZWxpYWJsZSgpIHx8IHZhbCA9PT0gZWxlbS5zdHlsZVsgbmFtZSBdICk7XG5cdFxuXHRcdFx0Ly8gTm9ybWFsaXplIFwiXCIsIGF1dG8sIGFuZCBwcmVwYXJlIGZvciBleHRyYVxuXHRcdFx0dmFsID0gcGFyc2VGbG9hdCggdmFsICkgfHwgMDtcblx0XHR9XG5cdFxuXHRcdC8vIFVzZSB0aGUgYWN0aXZlIGJveC1zaXppbmcgbW9kZWwgdG8gYWRkL3N1YnRyYWN0IGlycmVsZXZhbnQgc3R5bGVzXG5cdFx0cmV0dXJuICggdmFsICtcblx0XHRcdGF1Z21lbnRXaWR0aE9ySGVpZ2h0KFxuXHRcdFx0XHRlbGVtLFxuXHRcdFx0XHRuYW1lLFxuXHRcdFx0XHRleHRyYSB8fCAoIGlzQm9yZGVyQm94ID8gXCJib3JkZXJcIiA6IFwiY29udGVudFwiICksXG5cdFx0XHRcdHZhbHVlSXNCb3JkZXJCb3gsXG5cdFx0XHRcdHN0eWxlc1xuXHRcdFx0KVxuXHRcdCkgKyBcInB4XCI7XG5cdH1cblx0XG5cdGpRdWVyeS5leHRlbmQoIHtcblx0XG5cdFx0Ly8gQWRkIGluIHN0eWxlIHByb3BlcnR5IGhvb2tzIGZvciBvdmVycmlkaW5nIHRoZSBkZWZhdWx0XG5cdFx0Ly8gYmVoYXZpb3Igb2YgZ2V0dGluZyBhbmQgc2V0dGluZyBhIHN0eWxlIHByb3BlcnR5XG5cdFx0Y3NzSG9va3M6IHtcblx0XHRcdG9wYWNpdHk6IHtcblx0XHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7XG5cdFx0XHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblx0XG5cdFx0XHRcdFx0XHQvLyBXZSBzaG91bGQgYWx3YXlzIGdldCBhIG51bWJlciBiYWNrIGZyb20gb3BhY2l0eVxuXHRcdFx0XHRcdFx0dmFyIHJldCA9IGN1ckNTUyggZWxlbSwgXCJvcGFjaXR5XCIgKTtcblx0XHRcdFx0XHRcdHJldHVybiByZXQgPT09IFwiXCIgPyBcIjFcIiA6IHJldDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHQvLyBEb24ndCBhdXRvbWF0aWNhbGx5IGFkZCBcInB4XCIgdG8gdGhlc2UgcG9zc2libHktdW5pdGxlc3MgcHJvcGVydGllc1xuXHRcdGNzc051bWJlcjoge1xuXHRcdFx0XCJhbmltYXRpb25JdGVyYXRpb25Db3VudFwiOiB0cnVlLFxuXHRcdFx0XCJjb2x1bW5Db3VudFwiOiB0cnVlLFxuXHRcdFx0XCJmaWxsT3BhY2l0eVwiOiB0cnVlLFxuXHRcdFx0XCJmbGV4R3Jvd1wiOiB0cnVlLFxuXHRcdFx0XCJmbGV4U2hyaW5rXCI6IHRydWUsXG5cdFx0XHRcImZvbnRXZWlnaHRcIjogdHJ1ZSxcblx0XHRcdFwibGluZUhlaWdodFwiOiB0cnVlLFxuXHRcdFx0XCJvcGFjaXR5XCI6IHRydWUsXG5cdFx0XHRcIm9yZGVyXCI6IHRydWUsXG5cdFx0XHRcIm9ycGhhbnNcIjogdHJ1ZSxcblx0XHRcdFwid2lkb3dzXCI6IHRydWUsXG5cdFx0XHRcInpJbmRleFwiOiB0cnVlLFxuXHRcdFx0XCJ6b29tXCI6IHRydWVcblx0XHR9LFxuXHRcblx0XHQvLyBBZGQgaW4gcHJvcGVydGllcyB3aG9zZSBuYW1lcyB5b3Ugd2lzaCB0byBmaXggYmVmb3JlXG5cdFx0Ly8gc2V0dGluZyBvciBnZXR0aW5nIHRoZSB2YWx1ZVxuXHRcdGNzc1Byb3BzOiB7XG5cdFx0XHRcImZsb2F0XCI6IFwiY3NzRmxvYXRcIlxuXHRcdH0sXG5cdFxuXHRcdC8vIEdldCBhbmQgc2V0IHRoZSBzdHlsZSBwcm9wZXJ0eSBvbiBhIERPTSBOb2RlXG5cdFx0c3R5bGU6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSwgZXh0cmEgKSB7XG5cdFxuXHRcdFx0Ly8gRG9uJ3Qgc2V0IHN0eWxlcyBvbiB0ZXh0IGFuZCBjb21tZW50IG5vZGVzXG5cdFx0XHRpZiAoICFlbGVtIHx8IGVsZW0ubm9kZVR5cGUgPT09IDMgfHwgZWxlbS5ub2RlVHlwZSA9PT0gOCB8fCAhZWxlbS5zdHlsZSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZVxuXHRcdFx0dmFyIHJldCwgdHlwZSwgaG9va3MsXG5cdFx0XHRcdG9yaWdOYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZSApLFxuXHRcdFx0XHRzdHlsZSA9IGVsZW0uc3R5bGU7XG5cdFxuXHRcdFx0bmFtZSA9IGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSB8fFxuXHRcdFx0XHQoIGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSA9IHZlbmRvclByb3BOYW1lKCBvcmlnTmFtZSApIHx8IG9yaWdOYW1lICk7XG5cdFxuXHRcdFx0Ly8gR2V0cyBob29rIGZvciB0aGUgcHJlZml4ZWQgdmVyc2lvbiwgdGhlbiB1bnByZWZpeGVkIHZlcnNpb25cblx0XHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gfHwgalF1ZXJ5LmNzc0hvb2tzWyBvcmlnTmFtZSBdO1xuXHRcblx0XHRcdC8vIENoZWNrIGlmIHdlJ3JlIHNldHRpbmcgYSB2YWx1ZVxuXHRcdFx0aWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHR0eXBlID0gdHlwZW9mIHZhbHVlO1xuXHRcblx0XHRcdFx0Ly8gQ29udmVydCBcIis9XCIgb3IgXCItPVwiIHRvIHJlbGF0aXZlIG51bWJlcnMgKCM3MzQ1KVxuXHRcdFx0XHRpZiAoIHR5cGUgPT09IFwic3RyaW5nXCIgJiYgKCByZXQgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICkgKSAmJiByZXRbIDEgXSApIHtcblx0XHRcdFx0XHR2YWx1ZSA9IGFkanVzdENTUyggZWxlbSwgbmFtZSwgcmV0ICk7XG5cdFxuXHRcdFx0XHRcdC8vIEZpeGVzIGJ1ZyAjOTIzN1xuXHRcdFx0XHRcdHR5cGUgPSBcIm51bWJlclwiO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBNYWtlIHN1cmUgdGhhdCBudWxsIGFuZCBOYU4gdmFsdWVzIGFyZW4ndCBzZXQgKCM3MTE2KVxuXHRcdFx0XHRpZiAoIHZhbHVlID09IG51bGwgfHwgdmFsdWUgIT09IHZhbHVlICkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gSWYgYSBudW1iZXIgd2FzIHBhc3NlZCBpbiwgYWRkIHRoZSB1bml0IChleGNlcHQgZm9yIGNlcnRhaW4gQ1NTIHByb3BlcnRpZXMpXG5cdFx0XHRcdGlmICggdHlwZSA9PT0gXCJudW1iZXJcIiApIHtcblx0XHRcdFx0XHR2YWx1ZSArPSByZXQgJiYgcmV0WyAzIF0gfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBvcmlnTmFtZSBdID8gXCJcIiA6IFwicHhcIiApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBiYWNrZ3JvdW5kLSogcHJvcHMgYWZmZWN0IG9yaWdpbmFsIGNsb25lJ3MgdmFsdWVzXG5cdFx0XHRcdGlmICggIXN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlICYmIHZhbHVlID09PSBcIlwiICYmIG5hbWUuaW5kZXhPZiggXCJiYWNrZ3JvdW5kXCIgKSA9PT0gMCApIHtcblx0XHRcdFx0XHRzdHlsZVsgbmFtZSBdID0gXCJpbmhlcml0XCI7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQsIHVzZSB0aGF0IHZhbHVlLCBvdGhlcndpc2UganVzdCBzZXQgdGhlIHNwZWNpZmllZCB2YWx1ZVxuXHRcdFx0XHRpZiAoICFob29rcyB8fCAhKCBcInNldFwiIGluIGhvb2tzICkgfHxcblx0XHRcdFx0XHQoIHZhbHVlID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgZXh0cmEgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cdFxuXHRcdFx0XHRcdHN0eWxlWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdH0gZWxzZSB7XG5cdFxuXHRcdFx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkIGdldCB0aGUgbm9uLWNvbXB1dGVkIHZhbHVlIGZyb20gdGhlcmVcblx0XHRcdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmXG5cdFx0XHRcdFx0KCByZXQgPSBob29rcy5nZXQoIGVsZW0sIGZhbHNlLCBleHRyYSApICkgIT09IHVuZGVmaW5lZCApIHtcblx0XG5cdFx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIGp1c3QgZ2V0IHRoZSB2YWx1ZSBmcm9tIHRoZSBzdHlsZSBvYmplY3Rcblx0XHRcdFx0cmV0dXJuIHN0eWxlWyBuYW1lIF07XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0Y3NzOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZXh0cmEsIHN0eWxlcyApIHtcblx0XHRcdHZhciB2YWwsIG51bSwgaG9va3MsXG5cdFx0XHRcdG9yaWdOYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZSApO1xuXHRcblx0XHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZVxuXHRcdFx0bmFtZSA9IGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSB8fFxuXHRcdFx0XHQoIGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSA9IHZlbmRvclByb3BOYW1lKCBvcmlnTmFtZSApIHx8IG9yaWdOYW1lICk7XG5cdFxuXHRcdFx0Ly8gVHJ5IHByZWZpeGVkIG5hbWUgZm9sbG93ZWQgYnkgdGhlIHVucHJlZml4ZWQgbmFtZVxuXHRcdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXSB8fCBqUXVlcnkuY3NzSG9va3NbIG9yaWdOYW1lIF07XG5cdFxuXHRcdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIGNvbXB1dGVkIHZhbHVlIGZyb20gdGhlcmVcblx0XHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyApIHtcblx0XHRcdFx0dmFsID0gaG9va3MuZ2V0KCBlbGVtLCB0cnVlLCBleHRyYSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIE90aGVyd2lzZSwgaWYgYSB3YXkgdG8gZ2V0IHRoZSBjb21wdXRlZCB2YWx1ZSBleGlzdHMsIHVzZSB0aGF0XG5cdFx0XHRpZiAoIHZhbCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHR2YWwgPSBjdXJDU1MoIGVsZW0sIG5hbWUsIHN0eWxlcyApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIENvbnZlcnQgXCJub3JtYWxcIiB0byBjb21wdXRlZCB2YWx1ZVxuXHRcdFx0aWYgKCB2YWwgPT09IFwibm9ybWFsXCIgJiYgbmFtZSBpbiBjc3NOb3JtYWxUcmFuc2Zvcm0gKSB7XG5cdFx0XHRcdHZhbCA9IGNzc05vcm1hbFRyYW5zZm9ybVsgbmFtZSBdO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIE1ha2UgbnVtZXJpYyBpZiBmb3JjZWQgb3IgYSBxdWFsaWZpZXIgd2FzIHByb3ZpZGVkIGFuZCB2YWwgbG9va3MgbnVtZXJpY1xuXHRcdFx0aWYgKCBleHRyYSA9PT0gXCJcIiB8fCBleHRyYSApIHtcblx0XHRcdFx0bnVtID0gcGFyc2VGbG9hdCggdmFsICk7XG5cdFx0XHRcdHJldHVybiBleHRyYSA9PT0gdHJ1ZSB8fCBpc0Zpbml0ZSggbnVtICkgPyBudW0gfHwgMCA6IHZhbDtcblx0XHRcdH1cblx0XHRcdHJldHVybiB2YWw7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRqUXVlcnkuZWFjaCggWyBcImhlaWdodFwiLCBcIndpZHRoXCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdFx0alF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gPSB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCwgZXh0cmEgKSB7XG5cdFx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cdFxuXHRcdFx0XHRcdC8vIENlcnRhaW4gZWxlbWVudHMgY2FuIGhhdmUgZGltZW5zaW9uIGluZm8gaWYgd2UgaW52aXNpYmx5IHNob3cgdGhlbVxuXHRcdFx0XHRcdC8vIGJ1dCBpdCBtdXN0IGhhdmUgYSBjdXJyZW50IGRpc3BsYXkgc3R5bGUgdGhhdCB3b3VsZCBiZW5lZml0XG5cdFx0XHRcdFx0cmV0dXJuIHJkaXNwbGF5c3dhcC50ZXN0KCBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApICkgJiZcblx0XG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBTYWZhcmkgOCtcblx0XHRcdFx0XHRcdC8vIFRhYmxlIGNvbHVtbnMgaW4gU2FmYXJpIGhhdmUgbm9uLXplcm8gb2Zmc2V0V2lkdGggJiB6ZXJvXG5cdFx0XHRcdFx0XHQvLyBnZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCB1bmxlc3MgZGlzcGxheSBpcyBjaGFuZ2VkLlxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdFx0XHRcdFx0XHQvLyBSdW5uaW5nIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBvbiBhIGRpc2Nvbm5lY3RlZCBub2RlXG5cdFx0XHRcdFx0XHQvLyBpbiBJRSB0aHJvd3MgYW4gZXJyb3IuXG5cdFx0XHRcdFx0XHQoICFlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoIHx8ICFlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICkgP1xuXHRcdFx0XHRcdFx0XHRzd2FwKCBlbGVtLCBjc3NTaG93LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZ2V0V2lkdGhPckhlaWdodCggZWxlbSwgbmFtZSwgZXh0cmEgKTtcblx0XHRcdFx0XHRcdFx0fSApIDpcblx0XHRcdFx0XHRcdFx0Z2V0V2lkdGhPckhlaWdodCggZWxlbSwgbmFtZSwgZXh0cmEgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSwgZXh0cmEgKSB7XG5cdFx0XHRcdHZhciBtYXRjaGVzLFxuXHRcdFx0XHRcdHN0eWxlcyA9IGV4dHJhICYmIGdldFN0eWxlcyggZWxlbSApLFxuXHRcdFx0XHRcdHN1YnRyYWN0ID0gZXh0cmEgJiYgYXVnbWVudFdpZHRoT3JIZWlnaHQoXG5cdFx0XHRcdFx0XHRlbGVtLFxuXHRcdFx0XHRcdFx0bmFtZSxcblx0XHRcdFx0XHRcdGV4dHJhLFxuXHRcdFx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIixcblx0XHRcdFx0XHRcdHN0eWxlc1xuXHRcdFx0XHRcdCk7XG5cdFxuXHRcdFx0XHQvLyBDb252ZXJ0IHRvIHBpeGVscyBpZiB2YWx1ZSBhZGp1c3RtZW50IGlzIG5lZWRlZFxuXHRcdFx0XHRpZiAoIHN1YnRyYWN0ICYmICggbWF0Y2hlcyA9IHJjc3NOdW0uZXhlYyggdmFsdWUgKSApICYmXG5cdFx0XHRcdFx0KCBtYXRjaGVzWyAzIF0gfHwgXCJweFwiICkgIT09IFwicHhcIiApIHtcblx0XG5cdFx0XHRcdFx0ZWxlbS5zdHlsZVsgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHRcdFx0dmFsdWUgPSBqUXVlcnkuY3NzKCBlbGVtLCBuYW1lICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHJldHVybiBzZXRQb3NpdGl2ZU51bWJlciggZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fSApO1xuXHRcblx0alF1ZXJ5LmNzc0hvb2tzLm1hcmdpbkxlZnQgPSBhZGRHZXRIb29rSWYoIHN1cHBvcnQucmVsaWFibGVNYXJnaW5MZWZ0LFxuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cdFx0XHRcdHJldHVybiAoIHBhcnNlRmxvYXQoIGN1ckNTUyggZWxlbSwgXCJtYXJnaW5MZWZ0XCIgKSApIHx8XG5cdFx0XHRcdFx0ZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC1cblx0XHRcdFx0XHRcdHN3YXAoIGVsZW0sIHsgbWFyZ2luTGVmdDogMCB9LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcblx0XHRcdFx0XHRcdH0gKVxuXHRcdFx0XHRcdCkgKyBcInB4XCI7XG5cdFx0XHR9XG5cdFx0fVxuXHQpO1xuXHRcblx0Ly8gVGhlc2UgaG9va3MgYXJlIHVzZWQgYnkgYW5pbWF0ZSB0byBleHBhbmQgcHJvcGVydGllc1xuXHRqUXVlcnkuZWFjaCgge1xuXHRcdG1hcmdpbjogXCJcIixcblx0XHRwYWRkaW5nOiBcIlwiLFxuXHRcdGJvcmRlcjogXCJXaWR0aFwiXG5cdH0sIGZ1bmN0aW9uKCBwcmVmaXgsIHN1ZmZpeCApIHtcblx0XHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdID0ge1xuXHRcdFx0ZXhwYW5kOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRcdHZhciBpID0gMCxcblx0XHRcdFx0XHRleHBhbmRlZCA9IHt9LFxuXHRcblx0XHRcdFx0XHQvLyBBc3N1bWVzIGEgc2luZ2xlIG51bWJlciBpZiBub3QgYSBzdHJpbmdcblx0XHRcdFx0XHRwYXJ0cyA9IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlLnNwbGl0KCBcIiBcIiApIDogWyB2YWx1ZSBdO1xuXHRcblx0XHRcdFx0Zm9yICggOyBpIDwgNDsgaSsrICkge1xuXHRcdFx0XHRcdGV4cGFuZGVkWyBwcmVmaXggKyBjc3NFeHBhbmRbIGkgXSArIHN1ZmZpeCBdID1cblx0XHRcdFx0XHRcdHBhcnRzWyBpIF0gfHwgcGFydHNbIGkgLSAyIF0gfHwgcGFydHNbIDAgXTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0cmV0dXJuIGV4cGFuZGVkO1xuXHRcdFx0fVxuXHRcdH07XG5cdFxuXHRcdGlmICggIXJtYXJnaW4udGVzdCggcHJlZml4ICkgKSB7XG5cdFx0XHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdLnNldCA9IHNldFBvc2l0aXZlTnVtYmVyO1xuXHRcdH1cblx0fSApO1xuXHRcblx0alF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRcdGNzczogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdFx0XHR2YXIgc3R5bGVzLCBsZW4sXG5cdFx0XHRcdFx0bWFwID0ge30sXG5cdFx0XHRcdFx0aSA9IDA7XG5cdFxuXHRcdFx0XHRpZiAoIGpRdWVyeS5pc0FycmF5KCBuYW1lICkgKSB7XG5cdFx0XHRcdFx0c3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICk7XG5cdFx0XHRcdFx0bGVuID0gbmFtZS5sZW5ndGg7XG5cdFxuXHRcdFx0XHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0XHRcdFx0bWFwWyBuYW1lWyBpIF0gXSA9IGpRdWVyeS5jc3MoIGVsZW0sIG5hbWVbIGkgXSwgZmFsc2UsIHN0eWxlcyApO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0cmV0dXJuIG1hcDtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0cmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgbmFtZSwgdmFsdWUgKSA6XG5cdFx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgbmFtZSApO1xuXHRcdFx0fSwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRcblx0ZnVuY3Rpb24gVHdlZW4oIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nICkge1xuXHRcdHJldHVybiBuZXcgVHdlZW4ucHJvdG90eXBlLmluaXQoIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nICk7XG5cdH1cblx0alF1ZXJ5LlR3ZWVuID0gVHdlZW47XG5cdFxuXHRUd2Vlbi5wcm90b3R5cGUgPSB7XG5cdFx0Y29uc3RydWN0b3I6IFR3ZWVuLFxuXHRcdGluaXQ6IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZywgdW5pdCApIHtcblx0XHRcdHRoaXMuZWxlbSA9IGVsZW07XG5cdFx0XHR0aGlzLnByb3AgPSBwcm9wO1xuXHRcdFx0dGhpcy5lYXNpbmcgPSBlYXNpbmcgfHwgalF1ZXJ5LmVhc2luZy5fZGVmYXVsdDtcblx0XHRcdHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cdFx0XHR0aGlzLnN0YXJ0ID0gdGhpcy5ub3cgPSB0aGlzLmN1cigpO1xuXHRcdFx0dGhpcy5lbmQgPSBlbmQ7XG5cdFx0XHR0aGlzLnVuaXQgPSB1bml0IHx8ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdID8gXCJcIiA6IFwicHhcIiApO1xuXHRcdH0sXG5cdFx0Y3VyOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBob29rcyA9IFR3ZWVuLnByb3BIb29rc1sgdGhpcy5wcm9wIF07XG5cdFxuXHRcdFx0cmV0dXJuIGhvb2tzICYmIGhvb2tzLmdldCA/XG5cdFx0XHRcdGhvb2tzLmdldCggdGhpcyApIDpcblx0XHRcdFx0VHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LmdldCggdGhpcyApO1xuXHRcdH0sXG5cdFx0cnVuOiBmdW5jdGlvbiggcGVyY2VudCApIHtcblx0XHRcdHZhciBlYXNlZCxcblx0XHRcdFx0aG9va3MgPSBUd2Vlbi5wcm9wSG9va3NbIHRoaXMucHJvcCBdO1xuXHRcblx0XHRcdGlmICggdGhpcy5vcHRpb25zLmR1cmF0aW9uICkge1xuXHRcdFx0XHR0aGlzLnBvcyA9IGVhc2VkID0galF1ZXJ5LmVhc2luZ1sgdGhpcy5lYXNpbmcgXShcblx0XHRcdFx0XHRwZXJjZW50LCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gKiBwZXJjZW50LCAwLCAxLCB0aGlzLm9wdGlvbnMuZHVyYXRpb25cblx0XHRcdFx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMucG9zID0gZWFzZWQgPSBwZXJjZW50O1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5ub3cgPSAoIHRoaXMuZW5kIC0gdGhpcy5zdGFydCApICogZWFzZWQgKyB0aGlzLnN0YXJ0O1xuXHRcblx0XHRcdGlmICggdGhpcy5vcHRpb25zLnN0ZXAgKSB7XG5cdFx0XHRcdHRoaXMub3B0aW9ucy5zdGVwLmNhbGwoIHRoaXMuZWxlbSwgdGhpcy5ub3csIHRoaXMgKTtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIGhvb2tzICYmIGhvb2tzLnNldCApIHtcblx0XHRcdFx0aG9va3Muc2V0KCB0aGlzICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KCB0aGlzICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH07XG5cdFxuXHRUd2Vlbi5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGUgPSBUd2Vlbi5wcm90b3R5cGU7XG5cdFxuXHRUd2Vlbi5wcm9wSG9va3MgPSB7XG5cdFx0X2RlZmF1bHQ6IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIHR3ZWVuICkge1xuXHRcdFx0XHR2YXIgcmVzdWx0O1xuXHRcblx0XHRcdFx0Ly8gVXNlIGEgcHJvcGVydHkgb24gdGhlIGVsZW1lbnQgZGlyZWN0bHkgd2hlbiBpdCBpcyBub3QgYSBET00gZWxlbWVudCxcblx0XHRcdFx0Ly8gb3Igd2hlbiB0aGVyZSBpcyBubyBtYXRjaGluZyBzdHlsZSBwcm9wZXJ0eSB0aGF0IGV4aXN0cy5cblx0XHRcdFx0aWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlICE9PSAxIHx8XG5cdFx0XHRcdFx0dHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdICE9IG51bGwgJiYgdHdlZW4uZWxlbS5zdHlsZVsgdHdlZW4ucHJvcCBdID09IG51bGwgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gUGFzc2luZyBhbiBlbXB0eSBzdHJpbmcgYXMgYSAzcmQgcGFyYW1ldGVyIHRvIC5jc3Mgd2lsbCBhdXRvbWF0aWNhbGx5XG5cdFx0XHRcdC8vIGF0dGVtcHQgYSBwYXJzZUZsb2F0IGFuZCBmYWxsYmFjayB0byBhIHN0cmluZyBpZiB0aGUgcGFyc2UgZmFpbHMuXG5cdFx0XHRcdC8vIFNpbXBsZSB2YWx1ZXMgc3VjaCBhcyBcIjEwcHhcIiBhcmUgcGFyc2VkIHRvIEZsb2F0O1xuXHRcdFx0XHQvLyBjb21wbGV4IHZhbHVlcyBzdWNoIGFzIFwicm90YXRlKDFyYWQpXCIgYXJlIHJldHVybmVkIGFzLWlzLlxuXHRcdFx0XHRyZXN1bHQgPSBqUXVlcnkuY3NzKCB0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCBcIlwiICk7XG5cdFxuXHRcdFx0XHQvLyBFbXB0eSBzdHJpbmdzLCBudWxsLCB1bmRlZmluZWQgYW5kIFwiYXV0b1wiIGFyZSBjb252ZXJ0ZWQgdG8gMC5cblx0XHRcdFx0cmV0dXJuICFyZXN1bHQgfHwgcmVzdWx0ID09PSBcImF1dG9cIiA/IDAgOiByZXN1bHQ7XG5cdFx0XHR9LFxuXHRcdFx0c2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cdFxuXHRcdFx0XHQvLyBVc2Ugc3RlcCBob29rIGZvciBiYWNrIGNvbXBhdC5cblx0XHRcdFx0Ly8gVXNlIGNzc0hvb2sgaWYgaXRzIHRoZXJlLlxuXHRcdFx0XHQvLyBVc2UgLnN0eWxlIGlmIGF2YWlsYWJsZSBhbmQgdXNlIHBsYWluIHByb3BlcnRpZXMgd2hlcmUgYXZhaWxhYmxlLlxuXHRcdFx0XHRpZiAoIGpRdWVyeS5meC5zdGVwWyB0d2Vlbi5wcm9wIF0gKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmZ4LnN0ZXBbIHR3ZWVuLnByb3AgXSggdHdlZW4gKTtcblx0XHRcdFx0fSBlbHNlIGlmICggdHdlZW4uZWxlbS5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0XHRcdCggdHdlZW4uZWxlbS5zdHlsZVsgalF1ZXJ5LmNzc1Byb3BzWyB0d2Vlbi5wcm9wIF0gXSAhPSBudWxsIHx8XG5cdFx0XHRcdFx0XHRqUXVlcnkuY3NzSG9va3NbIHR3ZWVuLnByb3AgXSApICkge1xuXHRcdFx0XHRcdGpRdWVyeS5zdHlsZSggdHdlZW4uZWxlbSwgdHdlZW4ucHJvcCwgdHdlZW4ubm93ICsgdHdlZW4udW5pdCApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0XG5cdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdC8vIFBhbmljIGJhc2VkIGFwcHJvYWNoIHRvIHNldHRpbmcgdGhpbmdzIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xuXHRUd2Vlbi5wcm9wSG9va3Muc2Nyb2xsVG9wID0gVHdlZW4ucHJvcEhvb2tzLnNjcm9sbExlZnQgPSB7XG5cdFx0c2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cdFx0XHRpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgJiYgdHdlZW4uZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHR0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gPSB0d2Vlbi5ub3c7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRcblx0alF1ZXJ5LmVhc2luZyA9IHtcblx0XHRsaW5lYXI6IGZ1bmN0aW9uKCBwICkge1xuXHRcdFx0cmV0dXJuIHA7XG5cdFx0fSxcblx0XHRzd2luZzogZnVuY3Rpb24oIHAgKSB7XG5cdFx0XHRyZXR1cm4gMC41IC0gTWF0aC5jb3MoIHAgKiBNYXRoLlBJICkgLyAyO1xuXHRcdH0sXG5cdFx0X2RlZmF1bHQ6IFwic3dpbmdcIlxuXHR9O1xuXHRcblx0alF1ZXJ5LmZ4ID0gVHdlZW4ucHJvdG90eXBlLmluaXQ7XG5cdFxuXHQvLyBCYWNrIGNvbXBhdCA8MS44IGV4dGVuc2lvbiBwb2ludFxuXHRqUXVlcnkuZnguc3RlcCA9IHt9O1xuXHRcblx0XG5cdFxuXHRcblx0dmFyXG5cdFx0ZnhOb3csIHRpbWVySWQsXG5cdFx0cmZ4dHlwZXMgPSAvXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sXG5cdFx0cnJ1biA9IC9xdWV1ZUhvb2tzJC87XG5cdFxuXHRmdW5jdGlvbiByYWYoKSB7XG5cdFx0aWYgKCB0aW1lcklkICkge1xuXHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSggcmFmICk7XG5cdFx0XHRqUXVlcnkuZngudGljaygpO1xuXHRcdH1cblx0fVxuXHRcblx0Ly8gQW5pbWF0aW9ucyBjcmVhdGVkIHN5bmNocm9ub3VzbHkgd2lsbCBydW4gc3luY2hyb25vdXNseVxuXHRmdW5jdGlvbiBjcmVhdGVGeE5vdygpIHtcblx0XHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRmeE5vdyA9IHVuZGVmaW5lZDtcblx0XHR9ICk7XG5cdFx0cmV0dXJuICggZnhOb3cgPSBqUXVlcnkubm93KCkgKTtcblx0fVxuXHRcblx0Ly8gR2VuZXJhdGUgcGFyYW1ldGVycyB0byBjcmVhdGUgYSBzdGFuZGFyZCBhbmltYXRpb25cblx0ZnVuY3Rpb24gZ2VuRngoIHR5cGUsIGluY2x1ZGVXaWR0aCApIHtcblx0XHR2YXIgd2hpY2gsXG5cdFx0XHRpID0gMCxcblx0XHRcdGF0dHJzID0geyBoZWlnaHQ6IHR5cGUgfTtcblx0XG5cdFx0Ly8gSWYgd2UgaW5jbHVkZSB3aWR0aCwgc3RlcCB2YWx1ZSBpcyAxIHRvIGRvIGFsbCBjc3NFeHBhbmQgdmFsdWVzLFxuXHRcdC8vIG90aGVyd2lzZSBzdGVwIHZhbHVlIGlzIDIgdG8gc2tpcCBvdmVyIExlZnQgYW5kIFJpZ2h0XG5cdFx0aW5jbHVkZVdpZHRoID0gaW5jbHVkZVdpZHRoID8gMSA6IDA7XG5cdFx0Zm9yICggOyBpIDwgNDsgaSArPSAyIC0gaW5jbHVkZVdpZHRoICkge1xuXHRcdFx0d2hpY2ggPSBjc3NFeHBhbmRbIGkgXTtcblx0XHRcdGF0dHJzWyBcIm1hcmdpblwiICsgd2hpY2ggXSA9IGF0dHJzWyBcInBhZGRpbmdcIiArIHdoaWNoIF0gPSB0eXBlO1xuXHRcdH1cblx0XG5cdFx0aWYgKCBpbmNsdWRlV2lkdGggKSB7XG5cdFx0XHRhdHRycy5vcGFjaXR5ID0gYXR0cnMud2lkdGggPSB0eXBlO1xuXHRcdH1cblx0XG5cdFx0cmV0dXJuIGF0dHJzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVUd2VlbiggdmFsdWUsIHByb3AsIGFuaW1hdGlvbiApIHtcblx0XHR2YXIgdHdlZW4sXG5cdFx0XHRjb2xsZWN0aW9uID0gKCBBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSB8fCBbXSApLmNvbmNhdCggQW5pbWF0aW9uLnR3ZWVuZXJzWyBcIipcIiBdICksXG5cdFx0XHRpbmRleCA9IDAsXG5cdFx0XHRsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcblx0XHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0aWYgKCAoIHR3ZWVuID0gY29sbGVjdGlvblsgaW5kZXggXS5jYWxsKCBhbmltYXRpb24sIHByb3AsIHZhbHVlICkgKSApIHtcblx0XG5cdFx0XHRcdC8vIFdlJ3JlIGRvbmUgd2l0aCB0aGlzIHByb3BlcnR5XG5cdFx0XHRcdHJldHVybiB0d2Vlbjtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRlZmF1bHRQcmVmaWx0ZXIoIGVsZW0sIHByb3BzLCBvcHRzICkge1xuXHRcdHZhciBwcm9wLCB2YWx1ZSwgdG9nZ2xlLCBob29rcywgb2xkZmlyZSwgcHJvcFR3ZWVuLCByZXN0b3JlRGlzcGxheSwgZGlzcGxheSxcblx0XHRcdGlzQm94ID0gXCJ3aWR0aFwiIGluIHByb3BzIHx8IFwiaGVpZ2h0XCIgaW4gcHJvcHMsXG5cdFx0XHRhbmltID0gdGhpcyxcblx0XHRcdG9yaWcgPSB7fSxcblx0XHRcdHN0eWxlID0gZWxlbS5zdHlsZSxcblx0XHRcdGhpZGRlbiA9IGVsZW0ubm9kZVR5cGUgJiYgaXNIaWRkZW5XaXRoaW5UcmVlKCBlbGVtICksXG5cdFx0XHRkYXRhU2hvdyA9IGRhdGFQcml2LmdldCggZWxlbSwgXCJmeHNob3dcIiApO1xuXHRcblx0XHQvLyBRdWV1ZS1za2lwcGluZyBhbmltYXRpb25zIGhpamFjayB0aGUgZnggaG9va3Ncblx0XHRpZiAoICFvcHRzLnF1ZXVlICkge1xuXHRcdFx0aG9va3MgPSBqUXVlcnkuX3F1ZXVlSG9va3MoIGVsZW0sIFwiZnhcIiApO1xuXHRcdFx0aWYgKCBob29rcy51bnF1ZXVlZCA9PSBudWxsICkge1xuXHRcdFx0XHRob29rcy51bnF1ZXVlZCA9IDA7XG5cdFx0XHRcdG9sZGZpcmUgPSBob29rcy5lbXB0eS5maXJlO1xuXHRcdFx0XHRob29rcy5lbXB0eS5maXJlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCAhaG9va3MudW5xdWV1ZWQgKSB7XG5cdFx0XHRcdFx0XHRvbGRmaXJlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0aG9va3MudW5xdWV1ZWQrKztcblx0XG5cdFx0XHRhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHQvLyBFbnN1cmUgdGhlIGNvbXBsZXRlIGhhbmRsZXIgaXMgY2FsbGVkIGJlZm9yZSB0aGlzIGNvbXBsZXRlc1xuXHRcdFx0XHRhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aG9va3MudW5xdWV1ZWQtLTtcblx0XHRcdFx0XHRpZiAoICFqUXVlcnkucXVldWUoIGVsZW0sIFwiZnhcIiApLmxlbmd0aCApIHtcblx0XHRcdFx0XHRcdGhvb2tzLmVtcHR5LmZpcmUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cdFxuXHRcdC8vIERldGVjdCBzaG93L2hpZGUgYW5pbWF0aW9uc1xuXHRcdGZvciAoIHByb3AgaW4gcHJvcHMgKSB7XG5cdFx0XHR2YWx1ZSA9IHByb3BzWyBwcm9wIF07XG5cdFx0XHRpZiAoIHJmeHR5cGVzLnRlc3QoIHZhbHVlICkgKSB7XG5cdFx0XHRcdGRlbGV0ZSBwcm9wc1sgcHJvcCBdO1xuXHRcdFx0XHR0b2dnbGUgPSB0b2dnbGUgfHwgdmFsdWUgPT09IFwidG9nZ2xlXCI7XG5cdFx0XHRcdGlmICggdmFsdWUgPT09ICggaGlkZGVuID8gXCJoaWRlXCIgOiBcInNob3dcIiApICkge1xuXHRcblx0XHRcdFx0XHQvLyBQcmV0ZW5kIHRvIGJlIGhpZGRlbiBpZiB0aGlzIGlzIGEgXCJzaG93XCIgYW5kXG5cdFx0XHRcdFx0Ly8gdGhlcmUgaXMgc3RpbGwgZGF0YSBmcm9tIGEgc3RvcHBlZCBzaG93L2hpZGVcblx0XHRcdFx0XHRpZiAoIHZhbHVlID09PSBcInNob3dcIiAmJiBkYXRhU2hvdyAmJiBkYXRhU2hvd1sgcHJvcCBdICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0XHRoaWRkZW4gPSB0cnVlO1xuXHRcblx0XHRcdFx0XHQvLyBJZ25vcmUgYWxsIG90aGVyIG5vLW9wIHNob3cvaGlkZSBkYXRhXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRvcmlnWyBwcm9wIF0gPSBkYXRhU2hvdyAmJiBkYXRhU2hvd1sgcHJvcCBdIHx8IGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCApO1xuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0Ly8gQmFpbCBvdXQgaWYgdGhpcyBpcyBhIG5vLW9wIGxpa2UgLmhpZGUoKS5oaWRlKClcblx0XHRwcm9wVHdlZW4gPSAhalF1ZXJ5LmlzRW1wdHlPYmplY3QoIHByb3BzICk7XG5cdFx0aWYgKCAhcHJvcFR3ZWVuICYmIGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBvcmlnICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcblx0XHQvLyBSZXN0cmljdCBcIm92ZXJmbG93XCIgYW5kIFwiZGlzcGxheVwiIHN0eWxlcyBkdXJpbmcgYm94IGFuaW1hdGlvbnNcblx0XHRpZiAoIGlzQm94ICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEsIEVkZ2UgMTIgLSAxM1xuXHRcdFx0Ly8gUmVjb3JkIGFsbCAzIG92ZXJmbG93IGF0dHJpYnV0ZXMgYmVjYXVzZSBJRSBkb2VzIG5vdCBpbmZlciB0aGUgc2hvcnRoYW5kXG5cdFx0XHQvLyBmcm9tIGlkZW50aWNhbGx5LXZhbHVlZCBvdmVyZmxvd1ggYW5kIG92ZXJmbG93WVxuXHRcdFx0b3B0cy5vdmVyZmxvdyA9IFsgc3R5bGUub3ZlcmZsb3csIHN0eWxlLm92ZXJmbG93WCwgc3R5bGUub3ZlcmZsb3dZIF07XG5cdFxuXHRcdFx0Ly8gSWRlbnRpZnkgYSBkaXNwbGF5IHR5cGUsIHByZWZlcnJpbmcgb2xkIHNob3cvaGlkZSBkYXRhIG92ZXIgdGhlIENTUyBjYXNjYWRlXG5cdFx0XHRyZXN0b3JlRGlzcGxheSA9IGRhdGFTaG93ICYmIGRhdGFTaG93LmRpc3BsYXk7XG5cdFx0XHRpZiAoIHJlc3RvcmVEaXNwbGF5ID09IG51bGwgKSB7XG5cdFx0XHRcdHJlc3RvcmVEaXNwbGF5ID0gZGF0YVByaXYuZ2V0KCBlbGVtLCBcImRpc3BsYXlcIiApO1xuXHRcdFx0fVxuXHRcdFx0ZGlzcGxheSA9IGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICk7XG5cdFx0XHRpZiAoIGRpc3BsYXkgPT09IFwibm9uZVwiICkge1xuXHRcdFx0XHRpZiAoIHJlc3RvcmVEaXNwbGF5ICkge1xuXHRcdFx0XHRcdGRpc3BsYXkgPSByZXN0b3JlRGlzcGxheTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XG5cdFx0XHRcdFx0Ly8gR2V0IG5vbmVtcHR5IHZhbHVlKHMpIGJ5IHRlbXBvcmFyaWx5IGZvcmNpbmcgdmlzaWJpbGl0eVxuXHRcdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSwgdHJ1ZSApO1xuXHRcdFx0XHRcdHJlc3RvcmVEaXNwbGF5ID0gZWxlbS5zdHlsZS5kaXNwbGF5IHx8IHJlc3RvcmVEaXNwbGF5O1xuXHRcdFx0XHRcdGRpc3BsYXkgPSBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApO1xuXHRcdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gQW5pbWF0ZSBpbmxpbmUgZWxlbWVudHMgYXMgaW5saW5lLWJsb2NrXG5cdFx0XHRpZiAoIGRpc3BsYXkgPT09IFwiaW5saW5lXCIgfHwgZGlzcGxheSA9PT0gXCJpbmxpbmUtYmxvY2tcIiAmJiByZXN0b3JlRGlzcGxheSAhPSBudWxsICkge1xuXHRcdFx0XHRpZiAoIGpRdWVyeS5jc3MoIGVsZW0sIFwiZmxvYXRcIiApID09PSBcIm5vbmVcIiApIHtcblx0XG5cdFx0XHRcdFx0Ly8gUmVzdG9yZSB0aGUgb3JpZ2luYWwgZGlzcGxheSB2YWx1ZSBhdCB0aGUgZW5kIG9mIHB1cmUgc2hvdy9oaWRlIGFuaW1hdGlvbnNcblx0XHRcdFx0XHRpZiAoICFwcm9wVHdlZW4gKSB7XG5cdFx0XHRcdFx0XHRhbmltLmRvbmUoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRzdHlsZS5kaXNwbGF5ID0gcmVzdG9yZURpc3BsYXk7XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRpZiAoIHJlc3RvcmVEaXNwbGF5ID09IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRcdGRpc3BsYXkgPSBzdHlsZS5kaXNwbGF5O1xuXHRcdFx0XHRcdFx0XHRyZXN0b3JlRGlzcGxheSA9IGRpc3BsYXkgPT09IFwibm9uZVwiID8gXCJcIiA6IGRpc3BsYXk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRpZiAoIG9wdHMub3ZlcmZsb3cgKSB7XG5cdFx0XHRzdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG5cdFx0XHRhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHN0eWxlLm92ZXJmbG93ID0gb3B0cy5vdmVyZmxvd1sgMCBdO1xuXHRcdFx0XHRzdHlsZS5vdmVyZmxvd1ggPSBvcHRzLm92ZXJmbG93WyAxIF07XG5cdFx0XHRcdHN0eWxlLm92ZXJmbG93WSA9IG9wdHMub3ZlcmZsb3dbIDIgXTtcblx0XHRcdH0gKTtcblx0XHR9XG5cdFxuXHRcdC8vIEltcGxlbWVudCBzaG93L2hpZGUgYW5pbWF0aW9uc1xuXHRcdHByb3BUd2VlbiA9IGZhbHNlO1xuXHRcdGZvciAoIHByb3AgaW4gb3JpZyApIHtcblx0XG5cdFx0XHQvLyBHZW5lcmFsIHNob3cvaGlkZSBzZXR1cCBmb3IgdGhpcyBlbGVtZW50IGFuaW1hdGlvblxuXHRcdFx0aWYgKCAhcHJvcFR3ZWVuICkge1xuXHRcdFx0XHRpZiAoIGRhdGFTaG93ICkge1xuXHRcdFx0XHRcdGlmICggXCJoaWRkZW5cIiBpbiBkYXRhU2hvdyApIHtcblx0XHRcdFx0XHRcdGhpZGRlbiA9IGRhdGFTaG93LmhpZGRlbjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGF0YVNob3cgPSBkYXRhUHJpdi5hY2Nlc3MoIGVsZW0sIFwiZnhzaG93XCIsIHsgZGlzcGxheTogcmVzdG9yZURpc3BsYXkgfSApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBTdG9yZSBoaWRkZW4vdmlzaWJsZSBmb3IgdG9nZ2xlIHNvIGAuc3RvcCgpLnRvZ2dsZSgpYCBcInJldmVyc2VzXCJcblx0XHRcdFx0aWYgKCB0b2dnbGUgKSB7XG5cdFx0XHRcdFx0ZGF0YVNob3cuaGlkZGVuID0gIWhpZGRlbjtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gU2hvdyBlbGVtZW50cyBiZWZvcmUgYW5pbWF0aW5nIHRoZW1cblx0XHRcdFx0aWYgKCBoaWRkZW4gKSB7XG5cdFx0XHRcdFx0c2hvd0hpZGUoIFsgZWxlbSBdLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLWxvb3AtZnVuYyAqL1xuXHRcblx0XHRcdFx0YW5pbS5kb25lKCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdC8qIGVzbGludC1lbmFibGUgbm8tbG9vcC1mdW5jICovXG5cdFxuXHRcdFx0XHRcdC8vIFRoZSBmaW5hbCBzdGVwIG9mIGEgXCJoaWRlXCIgYW5pbWF0aW9uIGlzIGFjdHVhbGx5IGhpZGluZyB0aGUgZWxlbWVudFxuXHRcdFx0XHRcdGlmICggIWhpZGRlbiApIHtcblx0XHRcdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIFwiZnhzaG93XCIgKTtcblx0XHRcdFx0XHRmb3IgKCBwcm9wIGluIG9yaWcgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AsIG9yaWdbIHByb3AgXSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFBlci1wcm9wZXJ0eSBzZXR1cFxuXHRcdFx0cHJvcFR3ZWVuID0gY3JlYXRlVHdlZW4oIGhpZGRlbiA/IGRhdGFTaG93WyBwcm9wIF0gOiAwLCBwcm9wLCBhbmltICk7XG5cdFx0XHRpZiAoICEoIHByb3AgaW4gZGF0YVNob3cgKSApIHtcblx0XHRcdFx0ZGF0YVNob3dbIHByb3AgXSA9IHByb3BUd2Vlbi5zdGFydDtcblx0XHRcdFx0aWYgKCBoaWRkZW4gKSB7XG5cdFx0XHRcdFx0cHJvcFR3ZWVuLmVuZCA9IHByb3BUd2Vlbi5zdGFydDtcblx0XHRcdFx0XHRwcm9wVHdlZW4uc3RhcnQgPSAwO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBwcm9wRmlsdGVyKCBwcm9wcywgc3BlY2lhbEVhc2luZyApIHtcblx0XHR2YXIgaW5kZXgsIG5hbWUsIGVhc2luZywgdmFsdWUsIGhvb2tzO1xuXHRcblx0XHQvLyBjYW1lbENhc2UsIHNwZWNpYWxFYXNpbmcgYW5kIGV4cGFuZCBjc3NIb29rIHBhc3Ncblx0XHRmb3IgKCBpbmRleCBpbiBwcm9wcyApIHtcblx0XHRcdG5hbWUgPSBqUXVlcnkuY2FtZWxDYXNlKCBpbmRleCApO1xuXHRcdFx0ZWFzaW5nID0gc3BlY2lhbEVhc2luZ1sgbmFtZSBdO1xuXHRcdFx0dmFsdWUgPSBwcm9wc1sgaW5kZXggXTtcblx0XHRcdGlmICggalF1ZXJ5LmlzQXJyYXkoIHZhbHVlICkgKSB7XG5cdFx0XHRcdGVhc2luZyA9IHZhbHVlWyAxIF07XG5cdFx0XHRcdHZhbHVlID0gcHJvcHNbIGluZGV4IF0gPSB2YWx1ZVsgMCBdO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggaW5kZXggIT09IG5hbWUgKSB7XG5cdFx0XHRcdHByb3BzWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdFx0ZGVsZXRlIHByb3BzWyBpbmRleCBdO1xuXHRcdFx0fVxuXHRcblx0XHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF07XG5cdFx0XHRpZiAoIGhvb2tzICYmIFwiZXhwYW5kXCIgaW4gaG9va3MgKSB7XG5cdFx0XHRcdHZhbHVlID0gaG9va3MuZXhwYW5kKCB2YWx1ZSApO1xuXHRcdFx0XHRkZWxldGUgcHJvcHNbIG5hbWUgXTtcblx0XG5cdFx0XHRcdC8vIE5vdCBxdWl0ZSAkLmV4dGVuZCwgdGhpcyB3b24ndCBvdmVyd3JpdGUgZXhpc3Rpbmcga2V5cy5cblx0XHRcdFx0Ly8gUmV1c2luZyAnaW5kZXgnIGJlY2F1c2Ugd2UgaGF2ZSB0aGUgY29ycmVjdCBcIm5hbWVcIlxuXHRcdFx0XHRmb3IgKCBpbmRleCBpbiB2YWx1ZSApIHtcblx0XHRcdFx0XHRpZiAoICEoIGluZGV4IGluIHByb3BzICkgKSB7XG5cdFx0XHRcdFx0XHRwcm9wc1sgaW5kZXggXSA9IHZhbHVlWyBpbmRleCBdO1xuXHRcdFx0XHRcdFx0c3BlY2lhbEVhc2luZ1sgaW5kZXggXSA9IGVhc2luZztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNwZWNpYWxFYXNpbmdbIG5hbWUgXSA9IGVhc2luZztcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIEFuaW1hdGlvbiggZWxlbSwgcHJvcGVydGllcywgb3B0aW9ucyApIHtcblx0XHR2YXIgcmVzdWx0LFxuXHRcdFx0c3RvcHBlZCxcblx0XHRcdGluZGV4ID0gMCxcblx0XHRcdGxlbmd0aCA9IEFuaW1hdGlvbi5wcmVmaWx0ZXJzLmxlbmd0aCxcblx0XHRcdGRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCkuYWx3YXlzKCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdC8vIERvbid0IG1hdGNoIGVsZW0gaW4gdGhlIDphbmltYXRlZCBzZWxlY3RvclxuXHRcdFx0XHRkZWxldGUgdGljay5lbGVtO1xuXHRcdFx0fSApLFxuXHRcdFx0dGljayA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIHN0b3BwZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhciBjdXJyZW50VGltZSA9IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksXG5cdFx0XHRcdFx0cmVtYWluaW5nID0gTWF0aC5tYXgoIDAsIGFuaW1hdGlvbi5zdGFydFRpbWUgKyBhbmltYXRpb24uZHVyYXRpb24gLSBjdXJyZW50VGltZSApLFxuXHRcblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDIuMyBvbmx5XG5cdFx0XHRcdFx0Ly8gQXJjaGFpYyBjcmFzaCBidWcgd29uJ3QgYWxsb3cgdXMgdG8gdXNlIGAxIC0gKCAwLjUgfHwgMCApYCAoIzEyNDk3KVxuXHRcdFx0XHRcdHRlbXAgPSByZW1haW5pbmcgLyBhbmltYXRpb24uZHVyYXRpb24gfHwgMCxcblx0XHRcdFx0XHRwZXJjZW50ID0gMSAtIHRlbXAsXG5cdFx0XHRcdFx0aW5kZXggPSAwLFxuXHRcdFx0XHRcdGxlbmd0aCA9IGFuaW1hdGlvbi50d2VlbnMubGVuZ3RoO1xuXHRcblx0XHRcdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdFx0XHRhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggcGVyY2VudCApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgcGVyY2VudCwgcmVtYWluaW5nIF0gKTtcblx0XG5cdFx0XHRcdGlmICggcGVyY2VudCA8IDEgJiYgbGVuZ3RoICkge1xuXHRcdFx0XHRcdHJldHVybiByZW1haW5pbmc7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uIF0gKTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRhbmltYXRpb24gPSBkZWZlcnJlZC5wcm9taXNlKCB7XG5cdFx0XHRcdGVsZW06IGVsZW0sXG5cdFx0XHRcdHByb3BzOiBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcGVydGllcyApLFxuXHRcdFx0XHRvcHRzOiBqUXVlcnkuZXh0ZW5kKCB0cnVlLCB7XG5cdFx0XHRcdFx0c3BlY2lhbEVhc2luZzoge30sXG5cdFx0XHRcdFx0ZWFzaW5nOiBqUXVlcnkuZWFzaW5nLl9kZWZhdWx0XG5cdFx0XHRcdH0sIG9wdGlvbnMgKSxcblx0XHRcdFx0b3JpZ2luYWxQcm9wZXJ0aWVzOiBwcm9wZXJ0aWVzLFxuXHRcdFx0XHRvcmlnaW5hbE9wdGlvbnM6IG9wdGlvbnMsXG5cdFx0XHRcdHN0YXJ0VGltZTogZnhOb3cgfHwgY3JlYXRlRnhOb3coKSxcblx0XHRcdFx0ZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24sXG5cdFx0XHRcdHR3ZWVuczogW10sXG5cdFx0XHRcdGNyZWF0ZVR3ZWVuOiBmdW5jdGlvbiggcHJvcCwgZW5kICkge1xuXHRcdFx0XHRcdHZhciB0d2VlbiA9IGpRdWVyeS5Ud2VlbiggZWxlbSwgYW5pbWF0aW9uLm9wdHMsIHByb3AsIGVuZCxcblx0XHRcdFx0XHRcdFx0YW5pbWF0aW9uLm9wdHMuc3BlY2lhbEVhc2luZ1sgcHJvcCBdIHx8IGFuaW1hdGlvbi5vcHRzLmVhc2luZyApO1xuXHRcdFx0XHRcdGFuaW1hdGlvbi50d2VlbnMucHVzaCggdHdlZW4gKTtcblx0XHRcdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHN0b3A6IGZ1bmN0aW9uKCBnb3RvRW5kICkge1xuXHRcdFx0XHRcdHZhciBpbmRleCA9IDAsXG5cdFxuXHRcdFx0XHRcdFx0Ly8gSWYgd2UgYXJlIGdvaW5nIHRvIHRoZSBlbmQsIHdlIHdhbnQgdG8gcnVuIGFsbCB0aGUgdHdlZW5zXG5cdFx0XHRcdFx0XHQvLyBvdGhlcndpc2Ugd2Ugc2tpcCB0aGlzIHBhcnRcblx0XHRcdFx0XHRcdGxlbmd0aCA9IGdvdG9FbmQgPyBhbmltYXRpb24udHdlZW5zLmxlbmd0aCA6IDA7XG5cdFx0XHRcdFx0aWYgKCBzdG9wcGVkICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHN0b3BwZWQgPSB0cnVlO1xuXHRcdFx0XHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRcdFx0XHRhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggMSApO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gUmVzb2x2ZSB3aGVuIHdlIHBsYXllZCB0aGUgbGFzdCBmcmFtZTsgb3RoZXJ3aXNlLCByZWplY3Rcblx0XHRcdFx0XHRpZiAoIGdvdG9FbmQgKSB7XG5cdFx0XHRcdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgMSwgMCBdICk7XG5cdFx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggZWxlbSwgWyBhbmltYXRpb24sIGdvdG9FbmQgXSApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3RXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgZ290b0VuZCBdICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICksXG5cdFx0XHRwcm9wcyA9IGFuaW1hdGlvbi5wcm9wcztcblx0XG5cdFx0cHJvcEZpbHRlciggcHJvcHMsIGFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmcgKTtcblx0XG5cdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdHJlc3VsdCA9IEFuaW1hdGlvbi5wcmVmaWx0ZXJzWyBpbmRleCBdLmNhbGwoIGFuaW1hdGlvbiwgZWxlbSwgcHJvcHMsIGFuaW1hdGlvbi5vcHRzICk7XG5cdFx0XHRpZiAoIHJlc3VsdCApIHtcblx0XHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcmVzdWx0LnN0b3AgKSApIHtcblx0XHRcdFx0XHRqUXVlcnkuX3F1ZXVlSG9va3MoIGFuaW1hdGlvbi5lbGVtLCBhbmltYXRpb24ub3B0cy5xdWV1ZSApLnN0b3AgPVxuXHRcdFx0XHRcdFx0alF1ZXJ5LnByb3h5KCByZXN1bHQuc3RvcCwgcmVzdWx0ICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdGpRdWVyeS5tYXAoIHByb3BzLCBjcmVhdGVUd2VlbiwgYW5pbWF0aW9uICk7XG5cdFxuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGFuaW1hdGlvbi5vcHRzLnN0YXJ0ICkgKSB7XG5cdFx0XHRhbmltYXRpb24ub3B0cy5zdGFydC5jYWxsKCBlbGVtLCBhbmltYXRpb24gKTtcblx0XHR9XG5cdFxuXHRcdGpRdWVyeS5meC50aW1lcihcblx0XHRcdGpRdWVyeS5leHRlbmQoIHRpY2ssIHtcblx0XHRcdFx0ZWxlbTogZWxlbSxcblx0XHRcdFx0YW5pbTogYW5pbWF0aW9uLFxuXHRcdFx0XHRxdWV1ZTogYW5pbWF0aW9uLm9wdHMucXVldWVcblx0XHRcdH0gKVxuXHRcdCk7XG5cdFxuXHRcdC8vIGF0dGFjaCBjYWxsYmFja3MgZnJvbSBvcHRpb25zXG5cdFx0cmV0dXJuIGFuaW1hdGlvbi5wcm9ncmVzcyggYW5pbWF0aW9uLm9wdHMucHJvZ3Jlc3MgKVxuXHRcdFx0LmRvbmUoIGFuaW1hdGlvbi5vcHRzLmRvbmUsIGFuaW1hdGlvbi5vcHRzLmNvbXBsZXRlIClcblx0XHRcdC5mYWlsKCBhbmltYXRpb24ub3B0cy5mYWlsIClcblx0XHRcdC5hbHdheXMoIGFuaW1hdGlvbi5vcHRzLmFsd2F5cyApO1xuXHR9XG5cdFxuXHRqUXVlcnkuQW5pbWF0aW9uID0galF1ZXJ5LmV4dGVuZCggQW5pbWF0aW9uLCB7XG5cdFxuXHRcdHR3ZWVuZXJzOiB7XG5cdFx0XHRcIipcIjogWyBmdW5jdGlvbiggcHJvcCwgdmFsdWUgKSB7XG5cdFx0XHRcdHZhciB0d2VlbiA9IHRoaXMuY3JlYXRlVHdlZW4oIHByb3AsIHZhbHVlICk7XG5cdFx0XHRcdGFkanVzdENTUyggdHdlZW4uZWxlbSwgcHJvcCwgcmNzc051bS5leGVjKCB2YWx1ZSApLCB0d2VlbiApO1xuXHRcdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0XHR9IF1cblx0XHR9LFxuXHRcblx0XHR0d2VlbmVyOiBmdW5jdGlvbiggcHJvcHMsIGNhbGxiYWNrICkge1xuXHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcHJvcHMgKSApIHtcblx0XHRcdFx0Y2FsbGJhY2sgPSBwcm9wcztcblx0XHRcdFx0cHJvcHMgPSBbIFwiKlwiIF07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwcm9wcyA9IHByb3BzLm1hdGNoKCBybm90d2hpdGUgKTtcblx0XHRcdH1cblx0XG5cdFx0XHR2YXIgcHJvcCxcblx0XHRcdFx0aW5kZXggPSAwLFxuXHRcdFx0XHRsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cdFxuXHRcdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdFx0cHJvcCA9IHByb3BzWyBpbmRleCBdO1xuXHRcdFx0XHRBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSA9IEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdIHx8IFtdO1xuXHRcdFx0XHRBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXS51bnNoaWZ0KCBjYWxsYmFjayApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdHByZWZpbHRlcnM6IFsgZGVmYXVsdFByZWZpbHRlciBdLFxuXHRcblx0XHRwcmVmaWx0ZXI6IGZ1bmN0aW9uKCBjYWxsYmFjaywgcHJlcGVuZCApIHtcblx0XHRcdGlmICggcHJlcGVuZCApIHtcblx0XHRcdFx0QW5pbWF0aW9uLnByZWZpbHRlcnMudW5zaGlmdCggY2FsbGJhY2sgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdEFuaW1hdGlvbi5wcmVmaWx0ZXJzLnB1c2goIGNhbGxiYWNrICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRqUXVlcnkuc3BlZWQgPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgZm4gKSB7XG5cdFx0dmFyIG9wdCA9IHNwZWVkICYmIHR5cGVvZiBzcGVlZCA9PT0gXCJvYmplY3RcIiA/IGpRdWVyeS5leHRlbmQoIHt9LCBzcGVlZCApIDoge1xuXHRcdFx0Y29tcGxldGU6IGZuIHx8ICFmbiAmJiBlYXNpbmcgfHxcblx0XHRcdFx0alF1ZXJ5LmlzRnVuY3Rpb24oIHNwZWVkICkgJiYgc3BlZWQsXG5cdFx0XHRkdXJhdGlvbjogc3BlZWQsXG5cdFx0XHRlYXNpbmc6IGZuICYmIGVhc2luZyB8fCBlYXNpbmcgJiYgIWpRdWVyeS5pc0Z1bmN0aW9uKCBlYXNpbmcgKSAmJiBlYXNpbmdcblx0XHR9O1xuXHRcblx0XHQvLyBHbyB0byB0aGUgZW5kIHN0YXRlIGlmIGZ4IGFyZSBvZmYgb3IgaWYgZG9jdW1lbnQgaXMgaGlkZGVuXG5cdFx0aWYgKCBqUXVlcnkuZngub2ZmIHx8IGRvY3VtZW50LmhpZGRlbiApIHtcblx0XHRcdG9wdC5kdXJhdGlvbiA9IDA7XG5cdFxuXHRcdH0gZWxzZSB7XG5cdFx0XHRvcHQuZHVyYXRpb24gPSB0eXBlb2Ygb3B0LmR1cmF0aW9uID09PSBcIm51bWJlclwiID9cblx0XHRcdFx0b3B0LmR1cmF0aW9uIDogb3B0LmR1cmF0aW9uIGluIGpRdWVyeS5meC5zcGVlZHMgP1xuXHRcdFx0XHRcdGpRdWVyeS5meC5zcGVlZHNbIG9wdC5kdXJhdGlvbiBdIDogalF1ZXJ5LmZ4LnNwZWVkcy5fZGVmYXVsdDtcblx0XHR9XG5cdFxuXHRcdC8vIE5vcm1hbGl6ZSBvcHQucXVldWUgLSB0cnVlL3VuZGVmaW5lZC9udWxsIC0+IFwiZnhcIlxuXHRcdGlmICggb3B0LnF1ZXVlID09IG51bGwgfHwgb3B0LnF1ZXVlID09PSB0cnVlICkge1xuXHRcdFx0b3B0LnF1ZXVlID0gXCJmeFwiO1xuXHRcdH1cblx0XG5cdFx0Ly8gUXVldWVpbmdcblx0XHRvcHQub2xkID0gb3B0LmNvbXBsZXRlO1xuXHRcblx0XHRvcHQuY29tcGxldGUgPSBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIG9wdC5vbGQgKSApIHtcblx0XHRcdFx0b3B0Lm9sZC5jYWxsKCB0aGlzICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCBvcHQucXVldWUgKSB7XG5cdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCBvcHQucXVldWUgKTtcblx0XHRcdH1cblx0XHR9O1xuXHRcblx0XHRyZXR1cm4gb3B0O1xuXHR9O1xuXHRcblx0alF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRcdGZhZGVUbzogZnVuY3Rpb24oIHNwZWVkLCB0bywgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XG5cdFx0XHQvLyBTaG93IGFueSBoaWRkZW4gZWxlbWVudHMgYWZ0ZXIgc2V0dGluZyBvcGFjaXR5IHRvIDBcblx0XHRcdHJldHVybiB0aGlzLmZpbHRlciggaXNIaWRkZW5XaXRoaW5UcmVlICkuY3NzKCBcIm9wYWNpdHlcIiwgMCApLnNob3coKVxuXHRcblx0XHRcdFx0Ly8gQW5pbWF0ZSB0byB0aGUgdmFsdWUgc3BlY2lmaWVkXG5cdFx0XHRcdC5lbmQoKS5hbmltYXRlKCB7IG9wYWNpdHk6IHRvIH0sIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdFx0fSxcblx0XHRhbmltYXRlOiBmdW5jdGlvbiggcHJvcCwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdFx0XHR2YXIgZW1wdHkgPSBqUXVlcnkuaXNFbXB0eU9iamVjdCggcHJvcCApLFxuXHRcdFx0XHRvcHRhbGwgPSBqUXVlcnkuc3BlZWQoIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICksXG5cdFx0XHRcdGRvQW5pbWF0aW9uID0gZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHRcdC8vIE9wZXJhdGUgb24gYSBjb3B5IG9mIHByb3Agc28gcGVyLXByb3BlcnR5IGVhc2luZyB3b24ndCBiZSBsb3N0XG5cdFx0XHRcdFx0dmFyIGFuaW0gPSBBbmltYXRpb24oIHRoaXMsIGpRdWVyeS5leHRlbmQoIHt9LCBwcm9wICksIG9wdGFsbCApO1xuXHRcblx0XHRcdFx0XHQvLyBFbXB0eSBhbmltYXRpb25zLCBvciBmaW5pc2hpbmcgcmVzb2x2ZXMgaW1tZWRpYXRlbHlcblx0XHRcdFx0XHRpZiAoIGVtcHR5IHx8IGRhdGFQcml2LmdldCggdGhpcywgXCJmaW5pc2hcIiApICkge1xuXHRcdFx0XHRcdFx0YW5pbS5zdG9wKCB0cnVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRkb0FuaW1hdGlvbi5maW5pc2ggPSBkb0FuaW1hdGlvbjtcblx0XG5cdFx0XHRyZXR1cm4gZW1wdHkgfHwgb3B0YWxsLnF1ZXVlID09PSBmYWxzZSA/XG5cdFx0XHRcdHRoaXMuZWFjaCggZG9BbmltYXRpb24gKSA6XG5cdFx0XHRcdHRoaXMucXVldWUoIG9wdGFsbC5xdWV1ZSwgZG9BbmltYXRpb24gKTtcblx0XHR9LFxuXHRcdHN0b3A6IGZ1bmN0aW9uKCB0eXBlLCBjbGVhclF1ZXVlLCBnb3RvRW5kICkge1xuXHRcdFx0dmFyIHN0b3BRdWV1ZSA9IGZ1bmN0aW9uKCBob29rcyApIHtcblx0XHRcdFx0dmFyIHN0b3AgPSBob29rcy5zdG9wO1xuXHRcdFx0XHRkZWxldGUgaG9va3Muc3RvcDtcblx0XHRcdFx0c3RvcCggZ290b0VuZCApO1xuXHRcdFx0fTtcblx0XG5cdFx0XHRpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRnb3RvRW5kID0gY2xlYXJRdWV1ZTtcblx0XHRcdFx0Y2xlYXJRdWV1ZSA9IHR5cGU7XG5cdFx0XHRcdHR5cGUgPSB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGNsZWFyUXVldWUgJiYgdHlwZSAhPT0gZmFsc2UgKSB7XG5cdFx0XHRcdHRoaXMucXVldWUoIHR5cGUgfHwgXCJmeFwiLCBbXSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZGVxdWV1ZSA9IHRydWUsXG5cdFx0XHRcdFx0aW5kZXggPSB0eXBlICE9IG51bGwgJiYgdHlwZSArIFwicXVldWVIb29rc1wiLFxuXHRcdFx0XHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnMsXG5cdFx0XHRcdFx0ZGF0YSA9IGRhdGFQcml2LmdldCggdGhpcyApO1xuXHRcblx0XHRcdFx0aWYgKCBpbmRleCApIHtcblx0XHRcdFx0XHRpZiAoIGRhdGFbIGluZGV4IF0gJiYgZGF0YVsgaW5kZXggXS5zdG9wICkge1xuXHRcdFx0XHRcdFx0c3RvcFF1ZXVlKCBkYXRhWyBpbmRleCBdICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGZvciAoIGluZGV4IGluIGRhdGEgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGRhdGFbIGluZGV4IF0gJiYgZGF0YVsgaW5kZXggXS5zdG9wICYmIHJydW4udGVzdCggaW5kZXggKSApIHtcblx0XHRcdFx0XHRcdFx0c3RvcFF1ZXVlKCBkYXRhWyBpbmRleCBdICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkge1xuXHRcdFx0XHRcdGlmICggdGltZXJzWyBpbmRleCBdLmVsZW0gPT09IHRoaXMgJiZcblx0XHRcdFx0XHRcdCggdHlwZSA9PSBudWxsIHx8IHRpbWVyc1sgaW5kZXggXS5xdWV1ZSA9PT0gdHlwZSApICkge1xuXHRcblx0XHRcdFx0XHRcdHRpbWVyc1sgaW5kZXggXS5hbmltLnN0b3AoIGdvdG9FbmQgKTtcblx0XHRcdFx0XHRcdGRlcXVldWUgPSBmYWxzZTtcblx0XHRcdFx0XHRcdHRpbWVycy5zcGxpY2UoIGluZGV4LCAxICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBTdGFydCB0aGUgbmV4dCBpbiB0aGUgcXVldWUgaWYgdGhlIGxhc3Qgc3RlcCB3YXNuJ3QgZm9yY2VkLlxuXHRcdFx0XHQvLyBUaW1lcnMgY3VycmVudGx5IHdpbGwgY2FsbCB0aGVpciBjb21wbGV0ZSBjYWxsYmFja3MsIHdoaWNoXG5cdFx0XHRcdC8vIHdpbGwgZGVxdWV1ZSBidXQgb25seSBpZiB0aGV5IHdlcmUgZ290b0VuZC5cblx0XHRcdFx0aWYgKCBkZXF1ZXVlIHx8ICFnb3RvRW5kICkge1xuXHRcdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9LFxuXHRcdGZpbmlzaDogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0XHRpZiAoIHR5cGUgIT09IGZhbHNlICkge1xuXHRcdFx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGluZGV4LFxuXHRcdFx0XHRcdGRhdGEgPSBkYXRhUHJpdi5nZXQoIHRoaXMgKSxcblx0XHRcdFx0XHRxdWV1ZSA9IGRhdGFbIHR5cGUgKyBcInF1ZXVlXCIgXSxcblx0XHRcdFx0XHRob29rcyA9IGRhdGFbIHR5cGUgKyBcInF1ZXVlSG9va3NcIiBdLFxuXHRcdFx0XHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnMsXG5cdFx0XHRcdFx0bGVuZ3RoID0gcXVldWUgPyBxdWV1ZS5sZW5ndGggOiAwO1xuXHRcblx0XHRcdFx0Ly8gRW5hYmxlIGZpbmlzaGluZyBmbGFnIG9uIHByaXZhdGUgZGF0YVxuXHRcdFx0XHRkYXRhLmZpbmlzaCA9IHRydWU7XG5cdFxuXHRcdFx0XHQvLyBFbXB0eSB0aGUgcXVldWUgZmlyc3Rcblx0XHRcdFx0alF1ZXJ5LnF1ZXVlKCB0aGlzLCB0eXBlLCBbXSApO1xuXHRcblx0XHRcdFx0aWYgKCBob29rcyAmJiBob29rcy5zdG9wICkge1xuXHRcdFx0XHRcdGhvb2tzLnN0b3AuY2FsbCggdGhpcywgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBMb29rIGZvciBhbnkgYWN0aXZlIGFuaW1hdGlvbnMsIGFuZCBmaW5pc2ggdGhlbVxuXHRcdFx0XHRmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkge1xuXHRcdFx0XHRcdGlmICggdGltZXJzWyBpbmRleCBdLmVsZW0gPT09IHRoaXMgJiYgdGltZXJzWyBpbmRleCBdLnF1ZXVlID09PSB0eXBlICkge1xuXHRcdFx0XHRcdFx0dGltZXJzWyBpbmRleCBdLmFuaW0uc3RvcCggdHJ1ZSApO1xuXHRcdFx0XHRcdFx0dGltZXJzLnNwbGljZSggaW5kZXgsIDEgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIExvb2sgZm9yIGFueSBhbmltYXRpb25zIGluIHRoZSBvbGQgcXVldWUgYW5kIGZpbmlzaCB0aGVtXG5cdFx0XHRcdGZvciAoIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRcdFx0aWYgKCBxdWV1ZVsgaW5kZXggXSAmJiBxdWV1ZVsgaW5kZXggXS5maW5pc2ggKSB7XG5cdFx0XHRcdFx0XHRxdWV1ZVsgaW5kZXggXS5maW5pc2guY2FsbCggdGhpcyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gVHVybiBvZmYgZmluaXNoaW5nIGZsYWdcblx0XHRcdFx0ZGVsZXRlIGRhdGEuZmluaXNoO1xuXHRcdFx0fSApO1xuXHRcdH1cblx0fSApO1xuXHRcblx0alF1ZXJ5LmVhY2goIFsgXCJ0b2dnbGVcIiwgXCJzaG93XCIsIFwiaGlkZVwiIF0sIGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHRcdHZhciBjc3NGbiA9IGpRdWVyeS5mblsgbmFtZSBdO1xuXHRcdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdFx0cmV0dXJuIHNwZWVkID09IG51bGwgfHwgdHlwZW9mIHNwZWVkID09PSBcImJvb2xlYW5cIiA/XG5cdFx0XHRcdGNzc0ZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSA6XG5cdFx0XHRcdHRoaXMuYW5pbWF0ZSggZ2VuRngoIG5hbWUsIHRydWUgKSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0XHR9O1xuXHR9ICk7XG5cdFxuXHQvLyBHZW5lcmF0ZSBzaG9ydGN1dHMgZm9yIGN1c3RvbSBhbmltYXRpb25zXG5cdGpRdWVyeS5lYWNoKCB7XG5cdFx0c2xpZGVEb3duOiBnZW5GeCggXCJzaG93XCIgKSxcblx0XHRzbGlkZVVwOiBnZW5GeCggXCJoaWRlXCIgKSxcblx0XHRzbGlkZVRvZ2dsZTogZ2VuRngoIFwidG9nZ2xlXCIgKSxcblx0XHRmYWRlSW46IHsgb3BhY2l0eTogXCJzaG93XCIgfSxcblx0XHRmYWRlT3V0OiB7IG9wYWNpdHk6IFwiaGlkZVwiIH0sXG5cdFx0ZmFkZVRvZ2dsZTogeyBvcGFjaXR5OiBcInRvZ2dsZVwiIH1cblx0fSwgZnVuY3Rpb24oIG5hbWUsIHByb3BzICkge1xuXHRcdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuYW5pbWF0ZSggcHJvcHMsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdFx0fTtcblx0fSApO1xuXHRcblx0alF1ZXJ5LnRpbWVycyA9IFtdO1xuXHRqUXVlcnkuZngudGljayA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aW1lcixcblx0XHRcdGkgPSAwLFxuXHRcdFx0dGltZXJzID0galF1ZXJ5LnRpbWVycztcblx0XG5cdFx0ZnhOb3cgPSBqUXVlcnkubm93KCk7XG5cdFxuXHRcdGZvciAoIDsgaSA8IHRpbWVycy5sZW5ndGg7IGkrKyApIHtcblx0XHRcdHRpbWVyID0gdGltZXJzWyBpIF07XG5cdFxuXHRcdFx0Ly8gQ2hlY2tzIHRoZSB0aW1lciBoYXMgbm90IGFscmVhZHkgYmVlbiByZW1vdmVkXG5cdFx0XHRpZiAoICF0aW1lcigpICYmIHRpbWVyc1sgaSBdID09PSB0aW1lciApIHtcblx0XHRcdFx0dGltZXJzLnNwbGljZSggaS0tLCAxICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRpZiAoICF0aW1lcnMubGVuZ3RoICkge1xuXHRcdFx0alF1ZXJ5LmZ4LnN0b3AoKTtcblx0XHR9XG5cdFx0ZnhOb3cgPSB1bmRlZmluZWQ7XG5cdH07XG5cdFxuXHRqUXVlcnkuZngudGltZXIgPSBmdW5jdGlvbiggdGltZXIgKSB7XG5cdFx0alF1ZXJ5LnRpbWVycy5wdXNoKCB0aW1lciApO1xuXHRcdGlmICggdGltZXIoKSApIHtcblx0XHRcdGpRdWVyeS5meC5zdGFydCgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRqUXVlcnkudGltZXJzLnBvcCgpO1xuXHRcdH1cblx0fTtcblx0XG5cdGpRdWVyeS5meC5pbnRlcnZhbCA9IDEzO1xuXHRqUXVlcnkuZnguc3RhcnQgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAoICF0aW1lcklkICkge1xuXHRcdFx0dGltZXJJZCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgP1xuXHRcdFx0XHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCByYWYgKSA6XG5cdFx0XHRcdHdpbmRvdy5zZXRJbnRlcnZhbCggalF1ZXJ5LmZ4LnRpY2ssIGpRdWVyeS5meC5pbnRlcnZhbCApO1xuXHRcdH1cblx0fTtcblx0XG5cdGpRdWVyeS5meC5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgKSB7XG5cdFx0XHR3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoIHRpbWVySWQgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0d2luZG93LmNsZWFySW50ZXJ2YWwoIHRpbWVySWQgKTtcblx0XHR9XG5cdFxuXHRcdHRpbWVySWQgPSBudWxsO1xuXHR9O1xuXHRcblx0alF1ZXJ5LmZ4LnNwZWVkcyA9IHtcblx0XHRzbG93OiA2MDAsXG5cdFx0ZmFzdDogMjAwLFxuXHRcblx0XHQvLyBEZWZhdWx0IHNwZWVkXG5cdFx0X2RlZmF1bHQ6IDQwMFxuXHR9O1xuXHRcblx0XG5cdC8vIEJhc2VkIG9mZiBvZiB0aGUgcGx1Z2luIGJ5IENsaW50IEhlbGZlcnMsIHdpdGggcGVybWlzc2lvbi5cblx0Ly8gaHR0cHM6Ly93ZWIuYXJjaGl2ZS5vcmcvd2ViLzIwMTAwMzI0MDE0NzQ3L2h0dHA6Ly9ibGluZHNpZ25hbHMuY29tL2luZGV4LnBocC8yMDA5LzA3L2pxdWVyeS1kZWxheS9cblx0alF1ZXJ5LmZuLmRlbGF5ID0gZnVuY3Rpb24oIHRpbWUsIHR5cGUgKSB7XG5cdFx0dGltZSA9IGpRdWVyeS5meCA/IGpRdWVyeS5meC5zcGVlZHNbIHRpbWUgXSB8fCB0aW1lIDogdGltZTtcblx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cdFxuXHRcdHJldHVybiB0aGlzLnF1ZXVlKCB0eXBlLCBmdW5jdGlvbiggbmV4dCwgaG9va3MgKSB7XG5cdFx0XHR2YXIgdGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCBuZXh0LCB0aW1lICk7XG5cdFx0XHRob29rcy5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHdpbmRvdy5jbGVhclRpbWVvdXQoIHRpbWVvdXQgKTtcblx0XHRcdH07XG5cdFx0fSApO1xuXHR9O1xuXHRcblx0XG5cdCggZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICksXG5cdFx0XHRzZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcInNlbGVjdFwiICksXG5cdFx0XHRvcHQgPSBzZWxlY3QuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwib3B0aW9uXCIgKSApO1xuXHRcblx0XHRpbnB1dC50eXBlID0gXCJjaGVja2JveFwiO1xuXHRcblx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4zIG9ubHlcblx0XHQvLyBEZWZhdWx0IHZhbHVlIGZvciBhIGNoZWNrYm94IHNob3VsZCBiZSBcIm9uXCJcblx0XHRzdXBwb3J0LmNoZWNrT24gPSBpbnB1dC52YWx1ZSAhPT0gXCJcIjtcblx0XG5cdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdFx0Ly8gTXVzdCBhY2Nlc3Mgc2VsZWN0ZWRJbmRleCB0byBtYWtlIGRlZmF1bHQgb3B0aW9ucyBzZWxlY3Rcblx0XHRzdXBwb3J0Lm9wdFNlbGVjdGVkID0gb3B0LnNlbGVjdGVkO1xuXHRcblx0XHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0XHQvLyBBbiBpbnB1dCBsb3NlcyBpdHMgdmFsdWUgYWZ0ZXIgYmVjb21pbmcgYSByYWRpb1xuXHRcdGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICk7XG5cdFx0aW5wdXQudmFsdWUgPSBcInRcIjtcblx0XHRpbnB1dC50eXBlID0gXCJyYWRpb1wiO1xuXHRcdHN1cHBvcnQucmFkaW9WYWx1ZSA9IGlucHV0LnZhbHVlID09PSBcInRcIjtcblx0fSApKCk7XG5cdFxuXHRcblx0dmFyIGJvb2xIb29rLFxuXHRcdGF0dHJIYW5kbGUgPSBqUXVlcnkuZXhwci5hdHRySGFuZGxlO1xuXHRcblx0alF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRcdGF0dHI6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGpRdWVyeS5hdHRyLCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgKTtcblx0XHR9LFxuXHRcblx0XHRyZW1vdmVBdHRyOiBmdW5jdGlvbiggbmFtZSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggdGhpcywgbmFtZSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblx0fSApO1xuXHRcblx0alF1ZXJ5LmV4dGVuZCgge1xuXHRcdGF0dHI6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHtcblx0XHRcdHZhciByZXQsIGhvb2tzLFxuXHRcdFx0XHRuVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cdFxuXHRcdFx0Ly8gRG9uJ3QgZ2V0L3NldCBhdHRyaWJ1dGVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlc1xuXHRcdFx0aWYgKCBuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMiApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEZhbGxiYWNrIHRvIHByb3Agd2hlbiBhdHRyaWJ1dGVzIGFyZSBub3Qgc3VwcG9ydGVkXG5cdFx0XHRpZiAoIHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSA9PT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRcdFx0cmV0dXJuIGpRdWVyeS5wcm9wKCBlbGVtLCBuYW1lLCB2YWx1ZSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEF0dHJpYnV0ZSBob29rcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgbG93ZXJjYXNlIHZlcnNpb25cblx0XHRcdC8vIEdyYWIgbmVjZXNzYXJ5IGhvb2sgaWYgb25lIGlzIGRlZmluZWRcblx0XHRcdGlmICggblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuXHRcdFx0XHRob29rcyA9IGpRdWVyeS5hdHRySG9va3NbIG5hbWUudG9Mb3dlckNhc2UoKSBdIHx8XG5cdFx0XHRcdFx0KCBqUXVlcnkuZXhwci5tYXRjaC5ib29sLnRlc3QoIG5hbWUgKSA/IGJvb2xIb29rIDogdW5kZWZpbmVkICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRpZiAoIHZhbHVlID09PSBudWxsICkge1xuXHRcdFx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCBlbGVtLCBuYW1lICk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRpZiAoIGhvb2tzICYmIFwic2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0XHQoIHJldCA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIG5hbWUgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIG5hbWUsIHZhbHVlICsgXCJcIiApO1xuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmICggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBuYW1lICkgKSAhPT0gbnVsbCApIHtcblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblx0XG5cdFx0XHRyZXQgPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBuYW1lICk7XG5cdFxuXHRcdFx0Ly8gTm9uLWV4aXN0ZW50IGF0dHJpYnV0ZXMgcmV0dXJuIG51bGwsIHdlIG5vcm1hbGl6ZSB0byB1bmRlZmluZWRcblx0XHRcdHJldHVybiByZXQgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IHJldDtcblx0XHR9LFxuXHRcblx0XHRhdHRySG9va3M6IHtcblx0XHRcdHR5cGU6IHtcblx0XHRcdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0XHRcdFx0aWYgKCAhc3VwcG9ydC5yYWRpb1ZhbHVlICYmIHZhbHVlID09PSBcInJhZGlvXCIgJiZcblx0XHRcdFx0XHRcdGpRdWVyeS5ub2RlTmFtZSggZWxlbSwgXCJpbnB1dFwiICkgKSB7XG5cdFx0XHRcdFx0XHR2YXIgdmFsID0gZWxlbS52YWx1ZTtcblx0XHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgdmFsdWUgKTtcblx0XHRcdFx0XHRcdGlmICggdmFsICkge1xuXHRcdFx0XHRcdFx0XHRlbGVtLnZhbHVlID0gdmFsO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdHJlbW92ZUF0dHI6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdHZhciBuYW1lLFxuXHRcdFx0XHRpID0gMCxcblx0XHRcdFx0YXR0ck5hbWVzID0gdmFsdWUgJiYgdmFsdWUubWF0Y2goIHJub3R3aGl0ZSApO1xuXHRcblx0XHRcdGlmICggYXR0ck5hbWVzICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdHdoaWxlICggKCBuYW1lID0gYXR0ck5hbWVzWyBpKysgXSApICkge1xuXHRcdFx0XHRcdGVsZW0ucmVtb3ZlQXR0cmlidXRlKCBuYW1lICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0gKTtcblx0XG5cdC8vIEhvb2tzIGZvciBib29sZWFuIGF0dHJpYnV0ZXNcblx0Ym9vbEhvb2sgPSB7XG5cdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIG5hbWUgKSB7XG5cdFx0XHRpZiAoIHZhbHVlID09PSBmYWxzZSApIHtcblx0XG5cdFx0XHRcdC8vIFJlbW92ZSBib29sZWFuIGF0dHJpYnV0ZXMgd2hlbiBzZXQgdG8gZmFsc2Vcblx0XHRcdFx0alF1ZXJ5LnJlbW92ZUF0dHIoIGVsZW0sIG5hbWUgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmFtZTtcblx0XHR9XG5cdH07XG5cdFxuXHRqUXVlcnkuZWFjaCggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goIC9cXHcrL2cgKSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdFx0dmFyIGdldHRlciA9IGF0dHJIYW5kbGVbIG5hbWUgXSB8fCBqUXVlcnkuZmluZC5hdHRyO1xuXHRcblx0XHRhdHRySGFuZGxlWyBuYW1lIF0gPSBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0XHR2YXIgcmV0LCBoYW5kbGUsXG5cdFx0XHRcdGxvd2VyY2FzZU5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFxuXHRcdFx0aWYgKCAhaXNYTUwgKSB7XG5cdFxuXHRcdFx0XHQvLyBBdm9pZCBhbiBpbmZpbml0ZSBsb29wIGJ5IHRlbXBvcmFyaWx5IHJlbW92aW5nIHRoaXMgZnVuY3Rpb24gZnJvbSB0aGUgZ2V0dGVyXG5cdFx0XHRcdGhhbmRsZSA9IGF0dHJIYW5kbGVbIGxvd2VyY2FzZU5hbWUgXTtcblx0XHRcdFx0YXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdID0gcmV0O1xuXHRcdFx0XHRyZXQgPSBnZXR0ZXIoIGVsZW0sIG5hbWUsIGlzWE1MICkgIT0gbnVsbCA/XG5cdFx0XHRcdFx0bG93ZXJjYXNlTmFtZSA6XG5cdFx0XHRcdFx0bnVsbDtcblx0XHRcdFx0YXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdID0gaGFuZGxlO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9O1xuXHR9ICk7XG5cdFxuXHRcblx0XG5cdFxuXHR2YXIgcmZvY3VzYWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksXG5cdFx0cmNsaWNrYWJsZSA9IC9eKD86YXxhcmVhKSQvaTtcblx0XG5cdGpRdWVyeS5mbi5leHRlbmQoIHtcblx0XHRwcm9wOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBqUXVlcnkucHJvcCwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdFx0fSxcblx0XG5cdFx0cmVtb3ZlUHJvcDogZnVuY3Rpb24oIG5hbWUgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZGVsZXRlIHRoaXNbIGpRdWVyeS5wcm9wRml4WyBuYW1lIF0gfHwgbmFtZSBdO1xuXHRcdFx0fSApO1xuXHRcdH1cblx0fSApO1xuXHRcblx0alF1ZXJ5LmV4dGVuZCgge1xuXHRcdHByb3A6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHtcblx0XHRcdHZhciByZXQsIGhvb2tzLFxuXHRcdFx0XHRuVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cdFxuXHRcdFx0Ly8gRG9uJ3QgZ2V0L3NldCBwcm9wZXJ0aWVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlc1xuXHRcdFx0aWYgKCBuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMiApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuXHRcblx0XHRcdFx0Ly8gRml4IG5hbWUgYW5kIGF0dGFjaCBob29rc1xuXHRcdFx0XHRuYW1lID0galF1ZXJ5LnByb3BGaXhbIG5hbWUgXSB8fCBuYW1lO1xuXHRcdFx0XHRob29rcyA9IGpRdWVyeS5wcm9wSG9va3NbIG5hbWUgXTtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdGlmICggaG9va3MgJiYgXCJzZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHRcdCggcmV0ID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgbmFtZSApICkgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRyZXR1cm4gKCBlbGVtWyBuYW1lIF0gPSB2YWx1ZSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgbmFtZSApICkgIT09IG51bGwgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIGVsZW1bIG5hbWUgXTtcblx0XHR9LFxuXHRcblx0XHRwcm9wSG9va3M6IHtcblx0XHRcdHRhYkluZGV4OiB7XG5cdFx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0XHRcdFx0XHQvLyBlbGVtLnRhYkluZGV4IGRvZXNuJ3QgYWx3YXlzIHJldHVybiB0aGVcblx0XHRcdFx0XHQvLyBjb3JyZWN0IHZhbHVlIHdoZW4gaXQgaGFzbid0IGJlZW4gZXhwbGljaXRseSBzZXRcblx0XHRcdFx0XHQvLyBodHRwczovL3dlYi5hcmNoaXZlLm9yZy93ZWIvMjAxNDExMTYyMzMzNDcvaHR0cDovL2ZsdWlkcHJvamVjdC5vcmcvYmxvZy8yMDA4LzAxLzA5L2dldHRpbmctc2V0dGluZy1hbmQtcmVtb3ZpbmctdGFiaW5kZXgtdmFsdWVzLXdpdGgtamF2YXNjcmlwdC9cblx0XHRcdFx0XHQvLyBVc2UgcHJvcGVyIGF0dHJpYnV0ZSByZXRyaWV2YWwoIzEyMDcyKVxuXHRcdFx0XHRcdHZhciB0YWJpbmRleCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIFwidGFiaW5kZXhcIiApO1xuXHRcblx0XHRcdFx0XHRyZXR1cm4gdGFiaW5kZXggP1xuXHRcdFx0XHRcdFx0cGFyc2VJbnQoIHRhYmluZGV4LCAxMCApIDpcblx0XHRcdFx0XHRcdHJmb2N1c2FibGUudGVzdCggZWxlbS5ub2RlTmFtZSApIHx8XG5cdFx0XHRcdFx0XHRcdHJjbGlja2FibGUudGVzdCggZWxlbS5ub2RlTmFtZSApICYmIGVsZW0uaHJlZiA/XG5cdFx0XHRcdFx0XHRcdFx0MCA6XG5cdFx0XHRcdFx0XHRcdFx0LTE7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRwcm9wRml4OiB7XG5cdFx0XHRcImZvclwiOiBcImh0bWxGb3JcIixcblx0XHRcdFwiY2xhc3NcIjogXCJjbGFzc05hbWVcIlxuXHRcdH1cblx0fSApO1xuXHRcblx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdC8vIEFjY2Vzc2luZyB0aGUgc2VsZWN0ZWRJbmRleCBwcm9wZXJ0eVxuXHQvLyBmb3JjZXMgdGhlIGJyb3dzZXIgdG8gcmVzcGVjdCBzZXR0aW5nIHNlbGVjdGVkXG5cdC8vIG9uIHRoZSBvcHRpb25cblx0Ly8gVGhlIGdldHRlciBlbnN1cmVzIGEgZGVmYXVsdCBvcHRpb24gaXMgc2VsZWN0ZWRcblx0Ly8gd2hlbiBpbiBhbiBvcHRncm91cFxuXHRpZiAoICFzdXBwb3J0Lm9wdFNlbGVjdGVkICkge1xuXHRcdGpRdWVyeS5wcm9wSG9va3Muc2VsZWN0ZWQgPSB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0XHRpZiAoIHBhcmVudCAmJiBwYXJlbnQucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0XHRwYXJlbnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fSxcblx0XHRcdHNldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cdFx0XHRcdGlmICggcGFyZW50ICkge1xuXHRcdFx0XHRcdHBhcmVudC5zZWxlY3RlZEluZGV4O1xuXHRcblx0XHRcdFx0XHRpZiAoIHBhcmVudC5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRcdFx0cGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cdFxuXHRqUXVlcnkuZWFjaCggW1xuXHRcdFwidGFiSW5kZXhcIixcblx0XHRcInJlYWRPbmx5XCIsXG5cdFx0XCJtYXhMZW5ndGhcIixcblx0XHRcImNlbGxTcGFjaW5nXCIsXG5cdFx0XCJjZWxsUGFkZGluZ1wiLFxuXHRcdFwicm93U3BhblwiLFxuXHRcdFwiY29sU3BhblwiLFxuXHRcdFwidXNlTWFwXCIsXG5cdFx0XCJmcmFtZUJvcmRlclwiLFxuXHRcdFwiY29udGVudEVkaXRhYmxlXCJcblx0XSwgZnVuY3Rpb24oKSB7XG5cdFx0alF1ZXJ5LnByb3BGaXhbIHRoaXMudG9Mb3dlckNhc2UoKSBdID0gdGhpcztcblx0fSApO1xuXHRcblx0XG5cdFxuXHRcblx0dmFyIHJjbGFzcyA9IC9bXFx0XFxyXFxuXFxmXS9nO1xuXHRcblx0ZnVuY3Rpb24gZ2V0Q2xhc3MoIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlICYmIGVsZW0uZ2V0QXR0cmlidXRlKCBcImNsYXNzXCIgKSB8fCBcIlwiO1xuXHR9XG5cdFxuXHRqUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdFx0YWRkQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciBjbGFzc2VzLCBlbGVtLCBjdXIsIGN1clZhbHVlLCBjbGF6eiwgaiwgZmluYWxWYWx1ZSxcblx0XHRcdFx0aSA9IDA7XG5cdFxuXHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGogKSB7XG5cdFx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuYWRkQ2xhc3MoIHZhbHVlLmNhbGwoIHRoaXMsIGosIGdldENsYXNzKCB0aGlzICkgKSApO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgdmFsdWUgKSB7XG5cdFx0XHRcdGNsYXNzZXMgPSB2YWx1ZS5tYXRjaCggcm5vdHdoaXRlICkgfHwgW107XG5cdFxuXHRcdFx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRcdFx0Y3VyVmFsdWUgPSBnZXRDbGFzcyggZWxlbSApO1xuXHRcdFx0XHRcdGN1ciA9IGVsZW0ubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0XHRcdCggXCIgXCIgKyBjdXJWYWx1ZSArIFwiIFwiICkucmVwbGFjZSggcmNsYXNzLCBcIiBcIiApO1xuXHRcblx0XHRcdFx0XHRpZiAoIGN1ciApIHtcblx0XHRcdFx0XHRcdGogPSAwO1xuXHRcdFx0XHRcdFx0d2hpbGUgKCAoIGNsYXp6ID0gY2xhc3Nlc1sgaisrIF0gKSApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCBjdXIuaW5kZXhPZiggXCIgXCIgKyBjbGF6eiArIFwiIFwiICkgPCAwICkge1xuXHRcdFx0XHRcdFx0XHRcdGN1ciArPSBjbGF6eiArIFwiIFwiO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0Ly8gT25seSBhc3NpZ24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy5cblx0XHRcdFx0XHRcdGZpbmFsVmFsdWUgPSBqUXVlcnkudHJpbSggY3VyICk7XG5cdFx0XHRcdFx0XHRpZiAoIGN1clZhbHVlICE9PSBmaW5hbFZhbHVlICkge1xuXHRcdFx0XHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggXCJjbGFzc1wiLCBmaW5hbFZhbHVlICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XG5cdFx0cmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciBjbGFzc2VzLCBlbGVtLCBjdXIsIGN1clZhbHVlLCBjbGF6eiwgaiwgZmluYWxWYWx1ZSxcblx0XHRcdFx0aSA9IDA7XG5cdFxuXHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGogKSB7XG5cdFx0XHRcdFx0alF1ZXJ5KCB0aGlzICkucmVtb3ZlQ2xhc3MoIHZhbHVlLmNhbGwoIHRoaXMsIGosIGdldENsYXNzKCB0aGlzICkgKSApO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCAhYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuYXR0ciggXCJjbGFzc1wiLCBcIlwiICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgdmFsdWUgKSB7XG5cdFx0XHRcdGNsYXNzZXMgPSB2YWx1ZS5tYXRjaCggcm5vdHdoaXRlICkgfHwgW107XG5cdFxuXHRcdFx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRcdFx0Y3VyVmFsdWUgPSBnZXRDbGFzcyggZWxlbSApO1xuXHRcblx0XHRcdFx0XHQvLyBUaGlzIGV4cHJlc3Npb24gaXMgaGVyZSBmb3IgYmV0dGVyIGNvbXByZXNzaWJpbGl0eSAoc2VlIGFkZENsYXNzKVxuXHRcdFx0XHRcdGN1ciA9IGVsZW0ubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0XHRcdCggXCIgXCIgKyBjdXJWYWx1ZSArIFwiIFwiICkucmVwbGFjZSggcmNsYXNzLCBcIiBcIiApO1xuXHRcblx0XHRcdFx0XHRpZiAoIGN1ciApIHtcblx0XHRcdFx0XHRcdGogPSAwO1xuXHRcdFx0XHRcdFx0d2hpbGUgKCAoIGNsYXp6ID0gY2xhc3Nlc1sgaisrIF0gKSApIHtcblx0XG5cdFx0XHRcdFx0XHRcdC8vIFJlbW92ZSAqYWxsKiBpbnN0YW5jZXNcblx0XHRcdFx0XHRcdFx0d2hpbGUgKCBjdXIuaW5kZXhPZiggXCIgXCIgKyBjbGF6eiArIFwiIFwiICkgPiAtMSApIHtcblx0XHRcdFx0XHRcdFx0XHRjdXIgPSBjdXIucmVwbGFjZSggXCIgXCIgKyBjbGF6eiArIFwiIFwiLCBcIiBcIiApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0Ly8gT25seSBhc3NpZ24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy5cblx0XHRcdFx0XHRcdGZpbmFsVmFsdWUgPSBqUXVlcnkudHJpbSggY3VyICk7XG5cdFx0XHRcdFx0XHRpZiAoIGN1clZhbHVlICE9PSBmaW5hbFZhbHVlICkge1xuXHRcdFx0XHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggXCJjbGFzc1wiLCBmaW5hbFZhbHVlICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XG5cdFx0dG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSwgc3RhdGVWYWwgKSB7XG5cdFx0XHR2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcblx0XG5cdFx0XHRpZiAoIHR5cGVvZiBzdGF0ZVZhbCA9PT0gXCJib29sZWFuXCIgJiYgdHlwZSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0cmV0dXJuIHN0YXRlVmFsID8gdGhpcy5hZGRDbGFzcyggdmFsdWUgKSA6IHRoaXMucmVtb3ZlQ2xhc3MoIHZhbHVlICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5KCB0aGlzICkudG9nZ2xlQ2xhc3MoXG5cdFx0XHRcdFx0XHR2YWx1ZS5jYWxsKCB0aGlzLCBpLCBnZXRDbGFzcyggdGhpcyApLCBzdGF0ZVZhbCApLFxuXHRcdFx0XHRcdFx0c3RhdGVWYWxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBjbGFzc05hbWUsIGksIHNlbGYsIGNsYXNzTmFtZXM7XG5cdFxuXHRcdFx0XHRpZiAoIHR5cGUgPT09IFwic3RyaW5nXCIgKSB7XG5cdFxuXHRcdFx0XHRcdC8vIFRvZ2dsZSBpbmRpdmlkdWFsIGNsYXNzIG5hbWVzXG5cdFx0XHRcdFx0aSA9IDA7XG5cdFx0XHRcdFx0c2VsZiA9IGpRdWVyeSggdGhpcyApO1xuXHRcdFx0XHRcdGNsYXNzTmFtZXMgPSB2YWx1ZS5tYXRjaCggcm5vdHdoaXRlICkgfHwgW107XG5cdFxuXHRcdFx0XHRcdHdoaWxlICggKCBjbGFzc05hbWUgPSBjbGFzc05hbWVzWyBpKysgXSApICkge1xuXHRcblx0XHRcdFx0XHRcdC8vIENoZWNrIGVhY2ggY2xhc3NOYW1lIGdpdmVuLCBzcGFjZSBzZXBhcmF0ZWQgbGlzdFxuXHRcdFx0XHRcdFx0aWYgKCBzZWxmLmhhc0NsYXNzKCBjbGFzc05hbWUgKSApIHtcblx0XHRcdFx0XHRcdFx0c2VsZi5yZW1vdmVDbGFzcyggY2xhc3NOYW1lICk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRzZWxmLmFkZENsYXNzKCBjbGFzc05hbWUgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBUb2dnbGUgd2hvbGUgY2xhc3MgbmFtZVxuXHRcdFx0XHR9IGVsc2UgaWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGUgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdFx0XHRcdGNsYXNzTmFtZSA9IGdldENsYXNzKCB0aGlzICk7XG5cdFx0XHRcdFx0aWYgKCBjbGFzc05hbWUgKSB7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gU3RvcmUgY2xhc3NOYW1lIGlmIHNldFxuXHRcdFx0XHRcdFx0ZGF0YVByaXYuc2V0KCB0aGlzLCBcIl9fY2xhc3NOYW1lX19cIiwgY2xhc3NOYW1lICk7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBJZiB0aGUgZWxlbWVudCBoYXMgYSBjbGFzcyBuYW1lIG9yIGlmIHdlJ3JlIHBhc3NlZCBgZmFsc2VgLFxuXHRcdFx0XHRcdC8vIHRoZW4gcmVtb3ZlIHRoZSB3aG9sZSBjbGFzc25hbWUgKGlmIHRoZXJlIHdhcyBvbmUsIHRoZSBhYm92ZSBzYXZlZCBpdCkuXG5cdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlIGJyaW5nIGJhY2sgd2hhdGV2ZXIgd2FzIHByZXZpb3VzbHkgc2F2ZWQgKGlmIGFueXRoaW5nKSxcblx0XHRcdFx0XHQvLyBmYWxsaW5nIGJhY2sgdG8gdGhlIGVtcHR5IHN0cmluZyBpZiBub3RoaW5nIHdhcyBzdG9yZWQuXG5cdFx0XHRcdFx0aWYgKCB0aGlzLnNldEF0dHJpYnV0ZSApIHtcblx0XHRcdFx0XHRcdHRoaXMuc2V0QXR0cmlidXRlKCBcImNsYXNzXCIsXG5cdFx0XHRcdFx0XHRcdGNsYXNzTmFtZSB8fCB2YWx1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0XHRcdFx0XHRcIlwiIDpcblx0XHRcdFx0XHRcdFx0ZGF0YVByaXYuZ2V0KCB0aGlzLCBcIl9fY2xhc3NOYW1lX19cIiApIHx8IFwiXCJcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fSxcblx0XG5cdFx0aGFzQ2xhc3M6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRcdHZhciBjbGFzc05hbWUsIGVsZW0sXG5cdFx0XHRcdGkgPSAwO1xuXHRcblx0XHRcdGNsYXNzTmFtZSA9IFwiIFwiICsgc2VsZWN0b3IgKyBcIiBcIjtcblx0XHRcdHdoaWxlICggKCBlbGVtID0gdGhpc1sgaSsrIF0gKSApIHtcblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdFx0KCBcIiBcIiArIGdldENsYXNzKCBlbGVtICkgKyBcIiBcIiApLnJlcGxhY2UoIHJjbGFzcywgXCIgXCIgKVxuXHRcdFx0XHRcdFx0LmluZGV4T2YoIGNsYXNzTmFtZSApID4gLTFcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRcblx0XG5cdFxuXHR2YXIgcnJldHVybiA9IC9cXHIvZyxcblx0XHRyc3BhY2VzID0gL1tcXHgyMFxcdFxcclxcblxcZl0rL2c7XG5cdFxuXHRqUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdFx0dmFsOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgaG9va3MsIHJldCwgaXNGdW5jdGlvbixcblx0XHRcdFx0ZWxlbSA9IHRoaXNbIDAgXTtcblx0XG5cdFx0XHRpZiAoICFhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRcdFx0aG9va3MgPSBqUXVlcnkudmFsSG9va3NbIGVsZW0udHlwZSBdIHx8XG5cdFx0XHRcdFx0XHRqUXVlcnkudmFsSG9va3NbIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSBdO1xuXHRcblx0XHRcdFx0XHRpZiAoIGhvb2tzICYmXG5cdFx0XHRcdFx0XHRcImdldFwiIGluIGhvb2tzICYmXG5cdFx0XHRcdFx0XHQoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgXCJ2YWx1ZVwiICkgKSAhPT0gdW5kZWZpbmVkXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0cmV0ID0gZWxlbS52YWx1ZTtcblx0XG5cdFx0XHRcdFx0cmV0dXJuIHR5cGVvZiByZXQgPT09IFwic3RyaW5nXCIgP1xuXHRcblx0XHRcdFx0XHRcdC8vIEhhbmRsZSBtb3N0IGNvbW1vbiBzdHJpbmcgY2FzZXNcblx0XHRcdFx0XHRcdHJldC5yZXBsYWNlKCBycmV0dXJuLCBcIlwiICkgOlxuXHRcblx0XHRcdFx0XHRcdC8vIEhhbmRsZSBjYXNlcyB3aGVyZSB2YWx1ZSBpcyBudWxsL3VuZGVmIG9yIG51bWJlclxuXHRcdFx0XHRcdFx0cmV0ID09IG51bGwgPyBcIlwiIDogcmV0O1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0aXNGdW5jdGlvbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXHRcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHR2YXIgdmFsO1xuXHRcblx0XHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlICE9PSAxICkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0aWYgKCBpc0Z1bmN0aW9uICkge1xuXHRcdFx0XHRcdHZhbCA9IHZhbHVlLmNhbGwoIHRoaXMsIGksIGpRdWVyeSggdGhpcyApLnZhbCgpICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dmFsID0gdmFsdWU7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFRyZWF0IG51bGwvdW5kZWZpbmVkIGFzIFwiXCI7IGNvbnZlcnQgbnVtYmVycyB0byBzdHJpbmdcblx0XHRcdFx0aWYgKCB2YWwgPT0gbnVsbCApIHtcblx0XHRcdFx0XHR2YWwgPSBcIlwiO1xuXHRcblx0XHRcdFx0fSBlbHNlIGlmICggdHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIiApIHtcblx0XHRcdFx0XHR2YWwgKz0gXCJcIjtcblx0XG5cdFx0XHRcdH0gZWxzZSBpZiAoIGpRdWVyeS5pc0FycmF5KCB2YWwgKSApIHtcblx0XHRcdFx0XHR2YWwgPSBqUXVlcnkubWFwKCB2YWwsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICsgXCJcIjtcblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGhvb2tzID0galF1ZXJ5LnZhbEhvb2tzWyB0aGlzLnR5cGUgXSB8fCBqUXVlcnkudmFsSG9va3NbIHRoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSBdO1xuXHRcblx0XHRcdFx0Ly8gSWYgc2V0IHJldHVybnMgdW5kZWZpbmVkLCBmYWxsIGJhY2sgdG8gbm9ybWFsIHNldHRpbmdcblx0XHRcdFx0aWYgKCAhaG9va3MgfHwgISggXCJzZXRcIiBpbiBob29rcyApIHx8IGhvb2tzLnNldCggdGhpcywgdmFsLCBcInZhbHVlXCIgKSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHRoaXMudmFsdWUgPSB2YWw7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9XG5cdH0gKTtcblx0XG5cdGpRdWVyeS5leHRlbmQoIHtcblx0XHR2YWxIb29rczoge1xuXHRcdFx0b3B0aW9uOiB7XG5cdFx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFxuXHRcdFx0XHRcdHZhciB2YWwgPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBcInZhbHVlXCIgKTtcblx0XHRcdFx0XHRyZXR1cm4gdmFsICE9IG51bGwgP1xuXHRcdFx0XHRcdFx0dmFsIDpcblx0XG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTEwIC0gMTEgb25seVxuXHRcdFx0XHRcdFx0Ly8gb3B0aW9uLnRleHQgdGhyb3dzIGV4Y2VwdGlvbnMgKCMxNDY4NiwgIzE0ODU4KVxuXHRcdFx0XHRcdFx0Ly8gU3RyaXAgYW5kIGNvbGxhcHNlIHdoaXRlc3BhY2Vcblx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI3N0cmlwLWFuZC1jb2xsYXBzZS13aGl0ZXNwYWNlXG5cdFx0XHRcdFx0XHRqUXVlcnkudHJpbSggalF1ZXJ5LnRleHQoIGVsZW0gKSApLnJlcGxhY2UoIHJzcGFjZXMsIFwiIFwiICk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRzZWxlY3Q6IHtcblx0XHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHR2YXIgdmFsdWUsIG9wdGlvbixcblx0XHRcdFx0XHRcdG9wdGlvbnMgPSBlbGVtLm9wdGlvbnMsXG5cdFx0XHRcdFx0XHRpbmRleCA9IGVsZW0uc2VsZWN0ZWRJbmRleCxcblx0XHRcdFx0XHRcdG9uZSA9IGVsZW0udHlwZSA9PT0gXCJzZWxlY3Qtb25lXCIsXG5cdFx0XHRcdFx0XHR2YWx1ZXMgPSBvbmUgPyBudWxsIDogW10sXG5cdFx0XHRcdFx0XHRtYXggPSBvbmUgPyBpbmRleCArIDEgOiBvcHRpb25zLmxlbmd0aCxcblx0XHRcdFx0XHRcdGkgPSBpbmRleCA8IDAgP1xuXHRcdFx0XHRcdFx0XHRtYXggOlxuXHRcdFx0XHRcdFx0XHRvbmUgPyBpbmRleCA6IDA7XG5cdFxuXHRcdFx0XHRcdC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIHNlbGVjdGVkIG9wdGlvbnNcblx0XHRcdFx0XHRmb3IgKCA7IGkgPCBtYXg7IGkrKyApIHtcblx0XHRcdFx0XHRcdG9wdGlvbiA9IG9wdGlvbnNbIGkgXTtcblx0XG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRcdFx0XHRcdFx0Ly8gSUU4LTkgZG9lc24ndCB1cGRhdGUgc2VsZWN0ZWQgYWZ0ZXIgZm9ybSByZXNldCAoIzI1NTEpXG5cdFx0XHRcdFx0XHRpZiAoICggb3B0aW9uLnNlbGVjdGVkIHx8IGkgPT09IGluZGV4ICkgJiZcblx0XG5cdFx0XHRcdFx0XHRcdFx0Ly8gRG9uJ3QgcmV0dXJuIG9wdGlvbnMgdGhhdCBhcmUgZGlzYWJsZWQgb3IgaW4gYSBkaXNhYmxlZCBvcHRncm91cFxuXHRcdFx0XHRcdFx0XHRcdCFvcHRpb24uZGlzYWJsZWQgJiZcblx0XHRcdFx0XHRcdFx0XHQoICFvcHRpb24ucGFyZW50Tm9kZS5kaXNhYmxlZCB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0IWpRdWVyeS5ub2RlTmFtZSggb3B0aW9uLnBhcmVudE5vZGUsIFwib3B0Z3JvdXBcIiApICkgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHQvLyBHZXQgdGhlIHNwZWNpZmljIHZhbHVlIGZvciB0aGUgb3B0aW9uXG5cdFx0XHRcdFx0XHRcdHZhbHVlID0galF1ZXJ5KCBvcHRpb24gKS52YWwoKTtcblx0XG5cdFx0XHRcdFx0XHRcdC8vIFdlIGRvbid0IG5lZWQgYW4gYXJyYXkgZm9yIG9uZSBzZWxlY3RzXG5cdFx0XHRcdFx0XHRcdGlmICggb25lICkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdFx0Ly8gTXVsdGktU2VsZWN0cyByZXR1cm4gYW4gYXJyYXlcblx0XHRcdFx0XHRcdFx0dmFsdWVzLnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRyZXR1cm4gdmFsdWVzO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0XHRcdFx0dmFyIG9wdGlvblNldCwgb3B0aW9uLFxuXHRcdFx0XHRcdFx0b3B0aW9ucyA9IGVsZW0ub3B0aW9ucyxcblx0XHRcdFx0XHRcdHZhbHVlcyA9IGpRdWVyeS5tYWtlQXJyYXkoIHZhbHVlICksXG5cdFx0XHRcdFx0XHRpID0gb3B0aW9ucy5sZW5ndGg7XG5cdFxuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0b3B0aW9uID0gb3B0aW9uc1sgaSBdO1xuXHRcblx0XHRcdFx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbmQtYXNzaWduICovXG5cdFxuXHRcdFx0XHRcdFx0aWYgKCBvcHRpb24uc2VsZWN0ZWQgPVxuXHRcdFx0XHRcdFx0XHRqUXVlcnkuaW5BcnJheSggalF1ZXJ5LnZhbEhvb2tzLm9wdGlvbi5nZXQoIG9wdGlvbiApLCB2YWx1ZXMgKSA+IC0xXG5cdFx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdFx0b3B0aW9uU2V0ID0gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHQvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbmQtYXNzaWduICovXG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBGb3JjZSBicm93c2VycyB0byBiZWhhdmUgY29uc2lzdGVudGx5IHdoZW4gbm9uLW1hdGNoaW5nIHZhbHVlIGlzIHNldFxuXHRcdFx0XHRcdGlmICggIW9wdGlvblNldCApIHtcblx0XHRcdFx0XHRcdGVsZW0uc2VsZWN0ZWRJbmRleCA9IC0xO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdmFsdWVzO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHQvLyBSYWRpb3MgYW5kIGNoZWNrYm94ZXMgZ2V0dGVyL3NldHRlclxuXHRqUXVlcnkuZWFjaCggWyBcInJhZGlvXCIsIFwiY2hlY2tib3hcIiBdLCBmdW5jdGlvbigpIHtcblx0XHRqUXVlcnkudmFsSG9va3NbIHRoaXMgXSA9IHtcblx0XHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0XHRpZiAoIGpRdWVyeS5pc0FycmF5KCB2YWx1ZSApICkge1xuXHRcdFx0XHRcdHJldHVybiAoIGVsZW0uY2hlY2tlZCA9IGpRdWVyeS5pbkFycmF5KCBqUXVlcnkoIGVsZW0gKS52YWwoKSwgdmFsdWUgKSA+IC0xICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHRcdGlmICggIXN1cHBvcnQuY2hlY2tPbiApIHtcblx0XHRcdGpRdWVyeS52YWxIb29rc1sgdGhpcyBdLmdldCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiApID09PSBudWxsID8gXCJvblwiIDogZWxlbS52YWx1ZTtcblx0XHRcdH07XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRcblx0XG5cdFxuXHQvLyBSZXR1cm4galF1ZXJ5IGZvciBhdHRyaWJ1dGVzLW9ubHkgaW5jbHVzaW9uXG5cdFxuXHRcblx0dmFyIHJmb2N1c01vcnBoID0gL14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvO1xuXHRcblx0alF1ZXJ5LmV4dGVuZCggalF1ZXJ5LmV2ZW50LCB7XG5cdFxuXHRcdHRyaWdnZXI6IGZ1bmN0aW9uKCBldmVudCwgZGF0YSwgZWxlbSwgb25seUhhbmRsZXJzICkge1xuXHRcblx0XHRcdHZhciBpLCBjdXIsIHRtcCwgYnViYmxlVHlwZSwgb250eXBlLCBoYW5kbGUsIHNwZWNpYWwsXG5cdFx0XHRcdGV2ZW50UGF0aCA9IFsgZWxlbSB8fCBkb2N1bWVudCBdLFxuXHRcdFx0XHR0eXBlID0gaGFzT3duLmNhbGwoIGV2ZW50LCBcInR5cGVcIiApID8gZXZlbnQudHlwZSA6IGV2ZW50LFxuXHRcdFx0XHRuYW1lc3BhY2VzID0gaGFzT3duLmNhbGwoIGV2ZW50LCBcIm5hbWVzcGFjZVwiICkgPyBldmVudC5uYW1lc3BhY2Uuc3BsaXQoIFwiLlwiICkgOiBbXTtcblx0XG5cdFx0XHRjdXIgPSB0bXAgPSBlbGVtID0gZWxlbSB8fCBkb2N1bWVudDtcblx0XG5cdFx0XHQvLyBEb24ndCBkbyBldmVudHMgb24gdGV4dCBhbmQgY29tbWVudCBub2Rlc1xuXHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBmb2N1cy9ibHVyIG1vcnBocyB0byBmb2N1c2luL291dDsgZW5zdXJlIHdlJ3JlIG5vdCBmaXJpbmcgdGhlbSByaWdodCBub3dcblx0XHRcdGlmICggcmZvY3VzTW9ycGgudGVzdCggdHlwZSArIGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgKSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggdHlwZS5pbmRleE9mKCBcIi5cIiApID4gLTEgKSB7XG5cdFxuXHRcdFx0XHQvLyBOYW1lc3BhY2VkIHRyaWdnZXI7IGNyZWF0ZSBhIHJlZ2V4cCB0byBtYXRjaCBldmVudCB0eXBlIGluIGhhbmRsZSgpXG5cdFx0XHRcdG5hbWVzcGFjZXMgPSB0eXBlLnNwbGl0KCBcIi5cIiApO1xuXHRcdFx0XHR0eXBlID0gbmFtZXNwYWNlcy5zaGlmdCgpO1xuXHRcdFx0XHRuYW1lc3BhY2VzLnNvcnQoKTtcblx0XHRcdH1cblx0XHRcdG9udHlwZSA9IHR5cGUuaW5kZXhPZiggXCI6XCIgKSA8IDAgJiYgXCJvblwiICsgdHlwZTtcblx0XG5cdFx0XHQvLyBDYWxsZXIgY2FuIHBhc3MgaW4gYSBqUXVlcnkuRXZlbnQgb2JqZWN0LCBPYmplY3QsIG9yIGp1c3QgYW4gZXZlbnQgdHlwZSBzdHJpbmdcblx0XHRcdGV2ZW50ID0gZXZlbnRbIGpRdWVyeS5leHBhbmRvIF0gP1xuXHRcdFx0XHRldmVudCA6XG5cdFx0XHRcdG5ldyBqUXVlcnkuRXZlbnQoIHR5cGUsIHR5cGVvZiBldmVudCA9PT0gXCJvYmplY3RcIiAmJiBldmVudCApO1xuXHRcblx0XHRcdC8vIFRyaWdnZXIgYml0bWFzazogJiAxIGZvciBuYXRpdmUgaGFuZGxlcnM7ICYgMiBmb3IgalF1ZXJ5IChhbHdheXMgdHJ1ZSlcblx0XHRcdGV2ZW50LmlzVHJpZ2dlciA9IG9ubHlIYW5kbGVycyA/IDIgOiAzO1xuXHRcdFx0ZXZlbnQubmFtZXNwYWNlID0gbmFtZXNwYWNlcy5qb2luKCBcIi5cIiApO1xuXHRcdFx0ZXZlbnQucm5hbWVzcGFjZSA9IGV2ZW50Lm5hbWVzcGFjZSA/XG5cdFx0XHRcdG5ldyBSZWdFeHAoIFwiKF58XFxcXC4pXCIgKyBuYW1lc3BhY2VzLmpvaW4oIFwiXFxcXC4oPzouKlxcXFwufClcIiApICsgXCIoXFxcXC58JClcIiApIDpcblx0XHRcdFx0bnVsbDtcblx0XG5cdFx0XHQvLyBDbGVhbiB1cCB0aGUgZXZlbnQgaW4gY2FzZSBpdCBpcyBiZWluZyByZXVzZWRcblx0XHRcdGV2ZW50LnJlc3VsdCA9IHVuZGVmaW5lZDtcblx0XHRcdGlmICggIWV2ZW50LnRhcmdldCApIHtcblx0XHRcdFx0ZXZlbnQudGFyZ2V0ID0gZWxlbTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBDbG9uZSBhbnkgaW5jb21pbmcgZGF0YSBhbmQgcHJlcGVuZCB0aGUgZXZlbnQsIGNyZWF0aW5nIHRoZSBoYW5kbGVyIGFyZyBsaXN0XG5cdFx0XHRkYXRhID0gZGF0YSA9PSBudWxsID9cblx0XHRcdFx0WyBldmVudCBdIDpcblx0XHRcdFx0alF1ZXJ5Lm1ha2VBcnJheSggZGF0YSwgWyBldmVudCBdICk7XG5cdFxuXHRcdFx0Ly8gQWxsb3cgc3BlY2lhbCBldmVudHMgdG8gZHJhdyBvdXRzaWRlIHRoZSBsaW5lc1xuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cdFx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgc3BlY2lhbC50cmlnZ2VyICYmIHNwZWNpYWwudHJpZ2dlci5hcHBseSggZWxlbSwgZGF0YSApID09PSBmYWxzZSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIERldGVybWluZSBldmVudCBwcm9wYWdhdGlvbiBwYXRoIGluIGFkdmFuY2UsIHBlciBXM0MgZXZlbnRzIHNwZWMgKCM5OTUxKVxuXHRcdFx0Ly8gQnViYmxlIHVwIHRvIGRvY3VtZW50LCB0aGVuIHRvIHdpbmRvdzsgd2F0Y2ggZm9yIGEgZ2xvYmFsIG93bmVyRG9jdW1lbnQgdmFyICgjOTcyNClcblx0XHRcdGlmICggIW9ubHlIYW5kbGVycyAmJiAhc3BlY2lhbC5ub0J1YmJsZSAmJiAhalF1ZXJ5LmlzV2luZG93KCBlbGVtICkgKSB7XG5cdFxuXHRcdFx0XHRidWJibGVUeXBlID0gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgfHwgdHlwZTtcblx0XHRcdFx0aWYgKCAhcmZvY3VzTW9ycGgudGVzdCggYnViYmxlVHlwZSArIHR5cGUgKSApIHtcblx0XHRcdFx0XHRjdXIgPSBjdXIucGFyZW50Tm9kZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRmb3IgKCA7IGN1cjsgY3VyID0gY3VyLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdFx0ZXZlbnRQYXRoLnB1c2goIGN1ciApO1xuXHRcdFx0XHRcdHRtcCA9IGN1cjtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gT25seSBhZGQgd2luZG93IGlmIHdlIGdvdCB0byBkb2N1bWVudCAoZS5nLiwgbm90IHBsYWluIG9iaiBvciBkZXRhY2hlZCBET00pXG5cdFx0XHRcdGlmICggdG1wID09PSAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudCApICkge1xuXHRcdFx0XHRcdGV2ZW50UGF0aC5wdXNoKCB0bXAuZGVmYXVsdFZpZXcgfHwgdG1wLnBhcmVudFdpbmRvdyB8fCB3aW5kb3cgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEZpcmUgaGFuZGxlcnMgb24gdGhlIGV2ZW50IHBhdGhcblx0XHRcdGkgPSAwO1xuXHRcdFx0d2hpbGUgKCAoIGN1ciA9IGV2ZW50UGF0aFsgaSsrIF0gKSAmJiAhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblx0XG5cdFx0XHRcdGV2ZW50LnR5cGUgPSBpID4gMSA/XG5cdFx0XHRcdFx0YnViYmxlVHlwZSA6XG5cdFx0XHRcdFx0c3BlY2lhbC5iaW5kVHlwZSB8fCB0eXBlO1xuXHRcblx0XHRcdFx0Ly8galF1ZXJ5IGhhbmRsZXJcblx0XHRcdFx0aGFuZGxlID0gKCBkYXRhUHJpdi5nZXQoIGN1ciwgXCJldmVudHNcIiApIHx8IHt9IClbIGV2ZW50LnR5cGUgXSAmJlxuXHRcdFx0XHRcdGRhdGFQcml2LmdldCggY3VyLCBcImhhbmRsZVwiICk7XG5cdFx0XHRcdGlmICggaGFuZGxlICkge1xuXHRcdFx0XHRcdGhhbmRsZS5hcHBseSggY3VyLCBkYXRhICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIE5hdGl2ZSBoYW5kbGVyXG5cdFx0XHRcdGhhbmRsZSA9IG9udHlwZSAmJiBjdXJbIG9udHlwZSBdO1xuXHRcdFx0XHRpZiAoIGhhbmRsZSAmJiBoYW5kbGUuYXBwbHkgJiYgYWNjZXB0RGF0YSggY3VyICkgKSB7XG5cdFx0XHRcdFx0ZXZlbnQucmVzdWx0ID0gaGFuZGxlLmFwcGx5KCBjdXIsIGRhdGEgKTtcblx0XHRcdFx0XHRpZiAoIGV2ZW50LnJlc3VsdCA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0ZXZlbnQudHlwZSA9IHR5cGU7XG5cdFxuXHRcdFx0Ly8gSWYgbm9ib2R5IHByZXZlbnRlZCB0aGUgZGVmYXVsdCBhY3Rpb24sIGRvIGl0IG5vd1xuXHRcdFx0aWYgKCAhb25seUhhbmRsZXJzICYmICFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHtcblx0XG5cdFx0XHRcdGlmICggKCAhc3BlY2lhbC5fZGVmYXVsdCB8fFxuXHRcdFx0XHRcdHNwZWNpYWwuX2RlZmF1bHQuYXBwbHkoIGV2ZW50UGF0aC5wb3AoKSwgZGF0YSApID09PSBmYWxzZSApICYmXG5cdFx0XHRcdFx0YWNjZXB0RGF0YSggZWxlbSApICkge1xuXHRcblx0XHRcdFx0XHQvLyBDYWxsIGEgbmF0aXZlIERPTSBtZXRob2Qgb24gdGhlIHRhcmdldCB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgdGhlIGV2ZW50LlxuXHRcdFx0XHRcdC8vIERvbid0IGRvIGRlZmF1bHQgYWN0aW9ucyBvbiB3aW5kb3csIHRoYXQncyB3aGVyZSBnbG9iYWwgdmFyaWFibGVzIGJlICgjNjE3MClcblx0XHRcdFx0XHRpZiAoIG9udHlwZSAmJiBqUXVlcnkuaXNGdW5jdGlvbiggZWxlbVsgdHlwZSBdICkgJiYgIWpRdWVyeS5pc1dpbmRvdyggZWxlbSApICkge1xuXHRcblx0XHRcdFx0XHRcdC8vIERvbid0IHJlLXRyaWdnZXIgYW4gb25GT08gZXZlbnQgd2hlbiB3ZSBjYWxsIGl0cyBGT08oKSBtZXRob2Rcblx0XHRcdFx0XHRcdHRtcCA9IGVsZW1bIG9udHlwZSBdO1xuXHRcblx0XHRcdFx0XHRcdGlmICggdG1wICkge1xuXHRcdFx0XHRcdFx0XHRlbGVtWyBvbnR5cGUgXSA9IG51bGw7XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0Ly8gUHJldmVudCByZS10cmlnZ2VyaW5nIG9mIHRoZSBzYW1lIGV2ZW50LCBzaW5jZSB3ZSBhbHJlYWR5IGJ1YmJsZWQgaXQgYWJvdmVcblx0XHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB0eXBlO1xuXHRcdFx0XHRcdFx0ZWxlbVsgdHlwZSBdKCk7XG5cdFx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlcmVkID0gdW5kZWZpbmVkO1xuXHRcblx0XHRcdFx0XHRcdGlmICggdG1wICkge1xuXHRcdFx0XHRcdFx0XHRlbGVtWyBvbnR5cGUgXSA9IHRtcDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gZXZlbnQucmVzdWx0O1xuXHRcdH0sXG5cdFxuXHRcdC8vIFBpZ2d5YmFjayBvbiBhIGRvbm9yIGV2ZW50IHRvIHNpbXVsYXRlIGEgZGlmZmVyZW50IG9uZVxuXHRcdC8vIFVzZWQgb25seSBmb3IgYGZvY3VzKGluIHwgb3V0KWAgZXZlbnRzXG5cdFx0c2ltdWxhdGU6IGZ1bmN0aW9uKCB0eXBlLCBlbGVtLCBldmVudCApIHtcblx0XHRcdHZhciBlID0galF1ZXJ5LmV4dGVuZChcblx0XHRcdFx0bmV3IGpRdWVyeS5FdmVudCgpLFxuXHRcdFx0XHRldmVudCxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdFx0aXNTaW11bGF0ZWQ6IHRydWVcblx0XHRcdFx0fVxuXHRcdFx0KTtcblx0XG5cdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggZSwgbnVsbCwgZWxlbSApO1xuXHRcdH1cblx0XG5cdH0gKTtcblx0XG5cdGpRdWVyeS5mbi5leHRlbmQoIHtcblx0XG5cdFx0dHJpZ2dlcjogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIHRoaXMgKTtcblx0XHRcdH0gKTtcblx0XHR9LFxuXHRcdHRyaWdnZXJIYW5kbGVyOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcblx0XHRcdHZhciBlbGVtID0gdGhpc1sgMCBdO1xuXHRcdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4galF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIGVsZW0sIHRydWUgKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gKTtcblx0XG5cdFxuXHRqUXVlcnkuZWFjaCggKCBcImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCByZXNpemUgc2Nyb2xsIGNsaWNrIGRibGNsaWNrIFwiICtcblx0XHRcIm1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIFwiICtcblx0XHRcImNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgY29udGV4dG1lbnVcIiApLnNwbGl0KCBcIiBcIiApLFxuXHRcdGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHRcblx0XHQvLyBIYW5kbGUgZXZlbnQgYmluZGluZ1xuXHRcdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIGRhdGEsIGZuICkge1xuXHRcdFx0cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAwID9cblx0XHRcdFx0dGhpcy5vbiggbmFtZSwgbnVsbCwgZGF0YSwgZm4gKSA6XG5cdFx0XHRcdHRoaXMudHJpZ2dlciggbmFtZSApO1xuXHRcdH07XG5cdH0gKTtcblx0XG5cdGpRdWVyeS5mbi5leHRlbmQoIHtcblx0XHRob3ZlcjogZnVuY3Rpb24oIGZuT3ZlciwgZm5PdXQgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5tb3VzZWVudGVyKCBmbk92ZXIgKS5tb3VzZWxlYXZlKCBmbk91dCB8fCBmbk92ZXIgKTtcblx0XHR9XG5cdH0gKTtcblx0XG5cdFxuXHRcblx0XG5cdHN1cHBvcnQuZm9jdXNpbiA9IFwib25mb2N1c2luXCIgaW4gd2luZG93O1xuXHRcblx0XG5cdC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00NFxuXHQvLyBGaXJlZm94IGRvZXNuJ3QgaGF2ZSBmb2N1cyhpbiB8IG91dCkgZXZlbnRzXG5cdC8vIFJlbGF0ZWQgdGlja2V0IC0gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njg3Nzg3XG5cdC8vXG5cdC8vIFN1cHBvcnQ6IENocm9tZSA8PTQ4IC0gNDksIFNhZmFyaSA8PTkuMCAtIDkuMVxuXHQvLyBmb2N1cyhpbiB8IG91dCkgZXZlbnRzIGZpcmUgYWZ0ZXIgZm9jdXMgJiBibHVyIGV2ZW50cyxcblx0Ly8gd2hpY2ggaXMgc3BlYyB2aW9sYXRpb24gLSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvI2V2ZW50cy1mb2N1c2V2ZW50LWV2ZW50LW9yZGVyXG5cdC8vIFJlbGF0ZWQgdGlja2V0IC0gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ5ODU3XG5cdGlmICggIXN1cHBvcnQuZm9jdXNpbiApIHtcblx0XHRqUXVlcnkuZWFjaCggeyBmb2N1czogXCJmb2N1c2luXCIsIGJsdXI6IFwiZm9jdXNvdXRcIiB9LCBmdW5jdGlvbiggb3JpZywgZml4ICkge1xuXHRcblx0XHRcdC8vIEF0dGFjaCBhIHNpbmdsZSBjYXB0dXJpbmcgaGFuZGxlciBvbiB0aGUgZG9jdW1lbnQgd2hpbGUgc29tZW9uZSB3YW50cyBmb2N1c2luL2ZvY3Vzb3V0XG5cdFx0XHR2YXIgaGFuZGxlciA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0alF1ZXJ5LmV2ZW50LnNpbXVsYXRlKCBmaXgsIGV2ZW50LnRhcmdldCwgalF1ZXJ5LmV2ZW50LmZpeCggZXZlbnQgKSApO1xuXHRcdFx0fTtcblx0XG5cdFx0XHRqUXVlcnkuZXZlbnQuc3BlY2lhbFsgZml4IF0gPSB7XG5cdFx0XHRcdHNldHVwOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgZG9jID0gdGhpcy5vd25lckRvY3VtZW50IHx8IHRoaXMsXG5cdFx0XHRcdFx0XHRhdHRhY2hlcyA9IGRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXggKTtcblx0XG5cdFx0XHRcdFx0aWYgKCAhYXR0YWNoZXMgKSB7XG5cdFx0XHRcdFx0XHRkb2MuYWRkRXZlbnRMaXN0ZW5lciggb3JpZywgaGFuZGxlciwgdHJ1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4LCAoIGF0dGFjaGVzIHx8IDAgKSArIDEgKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0dGVhcmRvd246IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciBkb2MgPSB0aGlzLm93bmVyRG9jdW1lbnQgfHwgdGhpcyxcblx0XHRcdFx0XHRcdGF0dGFjaGVzID0gZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCApIC0gMTtcblx0XG5cdFx0XHRcdFx0aWYgKCAhYXR0YWNoZXMgKSB7XG5cdFx0XHRcdFx0XHRkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lciggb3JpZywgaGFuZGxlciwgdHJ1ZSApO1xuXHRcdFx0XHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBkb2MsIGZpeCApO1xuXHRcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCwgYXR0YWNoZXMgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fSApO1xuXHR9XG5cdHZhciBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbjtcblx0XG5cdHZhciBub25jZSA9IGpRdWVyeS5ub3coKTtcblx0XG5cdHZhciBycXVlcnkgPSAoIC9cXD8vICk7XG5cdFxuXHRcblx0XG5cdC8vIENyb3NzLWJyb3dzZXIgeG1sIHBhcnNpbmdcblx0alF1ZXJ5LnBhcnNlWE1MID0gZnVuY3Rpb24oIGRhdGEgKSB7XG5cdFx0dmFyIHhtbDtcblx0XHRpZiAoICFkYXRhIHx8IHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHRcblx0XHQvLyBTdXBwb3J0OiBJRSA5IC0gMTEgb25seVxuXHRcdC8vIElFIHRocm93cyBvbiBwYXJzZUZyb21TdHJpbmcgd2l0aCBpbnZhbGlkIGlucHV0LlxuXHRcdHRyeSB7XG5cdFx0XHR4bWwgPSAoIG5ldyB3aW5kb3cuRE9NUGFyc2VyKCkgKS5wYXJzZUZyb21TdHJpbmcoIGRhdGEsIFwidGV4dC94bWxcIiApO1xuXHRcdH0gY2F0Y2ggKCBlICkge1xuXHRcdFx0eG1sID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XG5cdFx0aWYgKCAheG1sIHx8IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJwYXJzZXJlcnJvclwiICkubGVuZ3RoICkge1xuXHRcdFx0alF1ZXJ5LmVycm9yKCBcIkludmFsaWQgWE1MOiBcIiArIGRhdGEgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHhtbDtcblx0fTtcblx0XG5cdFxuXHR2YXJcblx0XHRyYnJhY2tldCA9IC9cXFtcXF0kLyxcblx0XHRyQ1JMRiA9IC9cXHI/XFxuL2csXG5cdFx0cnN1Ym1pdHRlclR5cGVzID0gL14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLFxuXHRcdHJzdWJtaXR0YWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtcblx0XG5cdGZ1bmN0aW9uIGJ1aWxkUGFyYW1zKCBwcmVmaXgsIG9iaiwgdHJhZGl0aW9uYWwsIGFkZCApIHtcblx0XHR2YXIgbmFtZTtcblx0XG5cdFx0aWYgKCBqUXVlcnkuaXNBcnJheSggb2JqICkgKSB7XG5cdFxuXHRcdFx0Ly8gU2VyaWFsaXplIGFycmF5IGl0ZW0uXG5cdFx0XHRqUXVlcnkuZWFjaCggb2JqLCBmdW5jdGlvbiggaSwgdiApIHtcblx0XHRcdFx0aWYgKCB0cmFkaXRpb25hbCB8fCByYnJhY2tldC50ZXN0KCBwcmVmaXggKSApIHtcblx0XG5cdFx0XHRcdFx0Ly8gVHJlYXQgZWFjaCBhcnJheSBpdGVtIGFzIGEgc2NhbGFyLlxuXHRcdFx0XHRcdGFkZCggcHJlZml4LCB2ICk7XG5cdFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcblx0XHRcdFx0XHQvLyBJdGVtIGlzIG5vbi1zY2FsYXIgKGFycmF5IG9yIG9iamVjdCksIGVuY29kZSBpdHMgbnVtZXJpYyBpbmRleC5cblx0XHRcdFx0XHRidWlsZFBhcmFtcyhcblx0XHRcdFx0XHRcdHByZWZpeCArIFwiW1wiICsgKCB0eXBlb2YgdiA9PT0gXCJvYmplY3RcIiAmJiB2ICE9IG51bGwgPyBpIDogXCJcIiApICsgXCJdXCIsXG5cdFx0XHRcdFx0XHR2LFxuXHRcdFx0XHRcdFx0dHJhZGl0aW9uYWwsXG5cdFx0XHRcdFx0XHRhZGRcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH0gZWxzZSBpZiAoICF0cmFkaXRpb25hbCAmJiBqUXVlcnkudHlwZSggb2JqICkgPT09IFwib2JqZWN0XCIgKSB7XG5cdFxuXHRcdFx0Ly8gU2VyaWFsaXplIG9iamVjdCBpdGVtLlxuXHRcdFx0Zm9yICggbmFtZSBpbiBvYmogKSB7XG5cdFx0XHRcdGJ1aWxkUGFyYW1zKCBwcmVmaXggKyBcIltcIiArIG5hbWUgKyBcIl1cIiwgb2JqWyBuYW1lIF0sIHRyYWRpdGlvbmFsLCBhZGQgKTtcblx0XHRcdH1cblx0XG5cdFx0fSBlbHNlIHtcblx0XG5cdFx0XHQvLyBTZXJpYWxpemUgc2NhbGFyIGl0ZW0uXG5cdFx0XHRhZGQoIHByZWZpeCwgb2JqICk7XG5cdFx0fVxuXHR9XG5cdFxuXHQvLyBTZXJpYWxpemUgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cyBvciBhIHNldCBvZlxuXHQvLyBrZXkvdmFsdWVzIGludG8gYSBxdWVyeSBzdHJpbmdcblx0alF1ZXJ5LnBhcmFtID0gZnVuY3Rpb24oIGEsIHRyYWRpdGlvbmFsICkge1xuXHRcdHZhciBwcmVmaXgsXG5cdFx0XHRzID0gW10sXG5cdFx0XHRhZGQgPSBmdW5jdGlvbigga2V5LCB2YWx1ZU9yRnVuY3Rpb24gKSB7XG5cdFxuXHRcdFx0XHQvLyBJZiB2YWx1ZSBpcyBhIGZ1bmN0aW9uLCBpbnZva2UgaXQgYW5kIHVzZSBpdHMgcmV0dXJuIHZhbHVlXG5cdFx0XHRcdHZhciB2YWx1ZSA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZU9yRnVuY3Rpb24gKSA/XG5cdFx0XHRcdFx0dmFsdWVPckZ1bmN0aW9uKCkgOlxuXHRcdFx0XHRcdHZhbHVlT3JGdW5jdGlvbjtcblx0XG5cdFx0XHRcdHNbIHMubGVuZ3RoIF0gPSBlbmNvZGVVUklDb21wb25lbnQoIGtleSApICsgXCI9XCIgK1xuXHRcdFx0XHRcdGVuY29kZVVSSUNvbXBvbmVudCggdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSApO1xuXHRcdFx0fTtcblx0XG5cdFx0Ly8gSWYgYW4gYXJyYXkgd2FzIHBhc3NlZCBpbiwgYXNzdW1lIHRoYXQgaXQgaXMgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cy5cblx0XHRpZiAoIGpRdWVyeS5pc0FycmF5KCBhICkgfHwgKCBhLmpxdWVyeSAmJiAhalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGEgKSApICkge1xuXHRcblx0XHRcdC8vIFNlcmlhbGl6ZSB0aGUgZm9ybSBlbGVtZW50c1xuXHRcdFx0alF1ZXJ5LmVhY2goIGEsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRhZGQoIHRoaXMubmFtZSwgdGhpcy52YWx1ZSApO1xuXHRcdFx0fSApO1xuXHRcblx0XHR9IGVsc2Uge1xuXHRcblx0XHRcdC8vIElmIHRyYWRpdGlvbmFsLCBlbmNvZGUgdGhlIFwib2xkXCIgd2F5ICh0aGUgd2F5IDEuMy4yIG9yIG9sZGVyXG5cdFx0XHQvLyBkaWQgaXQpLCBvdGhlcndpc2UgZW5jb2RlIHBhcmFtcyByZWN1cnNpdmVseS5cblx0XHRcdGZvciAoIHByZWZpeCBpbiBhICkge1xuXHRcdFx0XHRidWlsZFBhcmFtcyggcHJlZml4LCBhWyBwcmVmaXggXSwgdHJhZGl0aW9uYWwsIGFkZCApO1xuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0Ly8gUmV0dXJuIHRoZSByZXN1bHRpbmcgc2VyaWFsaXphdGlvblxuXHRcdHJldHVybiBzLmpvaW4oIFwiJlwiICk7XG5cdH07XG5cdFxuXHRqUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdFx0c2VyaWFsaXplOiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBqUXVlcnkucGFyYW0oIHRoaXMuc2VyaWFsaXplQXJyYXkoKSApO1xuXHRcdH0sXG5cdFx0c2VyaWFsaXplQXJyYXk6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdC8vIENhbiBhZGQgcHJvcEhvb2sgZm9yIFwiZWxlbWVudHNcIiB0byBmaWx0ZXIgb3IgYWRkIGZvcm0gZWxlbWVudHNcblx0XHRcdFx0dmFyIGVsZW1lbnRzID0galF1ZXJ5LnByb3AoIHRoaXMsIFwiZWxlbWVudHNcIiApO1xuXHRcdFx0XHRyZXR1cm4gZWxlbWVudHMgPyBqUXVlcnkubWFrZUFycmF5KCBlbGVtZW50cyApIDogdGhpcztcblx0XHRcdH0gKVxuXHRcdFx0LmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciB0eXBlID0gdGhpcy50eXBlO1xuXHRcblx0XHRcdFx0Ly8gVXNlIC5pcyggXCI6ZGlzYWJsZWRcIiApIHNvIHRoYXQgZmllbGRzZXRbZGlzYWJsZWRdIHdvcmtzXG5cdFx0XHRcdHJldHVybiB0aGlzLm5hbWUgJiYgIWpRdWVyeSggdGhpcyApLmlzKCBcIjpkaXNhYmxlZFwiICkgJiZcblx0XHRcdFx0XHRyc3VibWl0dGFibGUudGVzdCggdGhpcy5ub2RlTmFtZSApICYmICFyc3VibWl0dGVyVHlwZXMudGVzdCggdHlwZSApICYmXG5cdFx0XHRcdFx0KCB0aGlzLmNoZWNrZWQgfHwgIXJjaGVja2FibGVUeXBlLnRlc3QoIHR5cGUgKSApO1xuXHRcdFx0fSApXG5cdFx0XHQubWFwKCBmdW5jdGlvbiggaSwgZWxlbSApIHtcblx0XHRcdFx0dmFyIHZhbCA9IGpRdWVyeSggdGhpcyApLnZhbCgpO1xuXHRcblx0XHRcdFx0cmV0dXJuIHZhbCA9PSBudWxsID9cblx0XHRcdFx0XHRudWxsIDpcblx0XHRcdFx0XHRqUXVlcnkuaXNBcnJheSggdmFsICkgP1xuXHRcdFx0XHRcdFx0alF1ZXJ5Lm1hcCggdmFsLCBmdW5jdGlvbiggdmFsICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4geyBuYW1lOiBlbGVtLm5hbWUsIHZhbHVlOiB2YWwucmVwbGFjZSggckNSTEYsIFwiXFxyXFxuXCIgKSB9O1xuXHRcdFx0XHRcdFx0fSApIDpcblx0XHRcdFx0XHRcdHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcIlxcclxcblwiICkgfTtcblx0XHRcdH0gKS5nZXQoKTtcblx0XHR9XG5cdH0gKTtcblx0XG5cdFxuXHR2YXJcblx0XHRyMjAgPSAvJTIwL2csXG5cdFx0cmhhc2ggPSAvIy4qJC8sXG5cdFx0cnRzID0gLyhbPyZdKV89W14mXSovLFxuXHRcdHJoZWFkZXJzID0gL14oLio/KTpbIFxcdF0qKFteXFxyXFxuXSopJC9tZyxcblx0XG5cdFx0Ly8gIzc2NTMsICM4MTI1LCAjODE1MjogbG9jYWwgcHJvdG9jb2wgZGV0ZWN0aW9uXG5cdFx0cmxvY2FsUHJvdG9jb2wgPSAvXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxcblx0XHRybm9Db250ZW50ID0gL14oPzpHRVR8SEVBRCkkLyxcblx0XHRycHJvdG9jb2wgPSAvXlxcL1xcLy8sXG5cdFxuXHRcdC8qIFByZWZpbHRlcnNcblx0XHQgKiAxKSBUaGV5IGFyZSB1c2VmdWwgdG8gaW50cm9kdWNlIGN1c3RvbSBkYXRhVHlwZXMgKHNlZSBhamF4L2pzb25wLmpzIGZvciBhbiBleGFtcGxlKVxuXHRcdCAqIDIpIFRoZXNlIGFyZSBjYWxsZWQ6XG5cdFx0ICogICAgLSBCRUZPUkUgYXNraW5nIGZvciBhIHRyYW5zcG9ydFxuXHRcdCAqICAgIC0gQUZURVIgcGFyYW0gc2VyaWFsaXphdGlvbiAocy5kYXRhIGlzIGEgc3RyaW5nIGlmIHMucHJvY2Vzc0RhdGEgaXMgdHJ1ZSlcblx0XHQgKiAzKSBrZXkgaXMgdGhlIGRhdGFUeXBlXG5cdFx0ICogNCkgdGhlIGNhdGNoYWxsIHN5bWJvbCBcIipcIiBjYW4gYmUgdXNlZFxuXHRcdCAqIDUpIGV4ZWN1dGlvbiB3aWxsIHN0YXJ0IHdpdGggdHJhbnNwb3J0IGRhdGFUeXBlIGFuZCBUSEVOIGNvbnRpbnVlIGRvd24gdG8gXCIqXCIgaWYgbmVlZGVkXG5cdFx0ICovXG5cdFx0cHJlZmlsdGVycyA9IHt9LFxuXHRcblx0XHQvKiBUcmFuc3BvcnRzIGJpbmRpbmdzXG5cdFx0ICogMSkga2V5IGlzIHRoZSBkYXRhVHlwZVxuXHRcdCAqIDIpIHRoZSBjYXRjaGFsbCBzeW1ib2wgXCIqXCIgY2FuIGJlIHVzZWRcblx0XHQgKiAzKSBzZWxlY3Rpb24gd2lsbCBzdGFydCB3aXRoIHRyYW5zcG9ydCBkYXRhVHlwZSBhbmQgVEhFTiBnbyB0byBcIipcIiBpZiBuZWVkZWRcblx0XHQgKi9cblx0XHR0cmFuc3BvcnRzID0ge30sXG5cdFxuXHRcdC8vIEF2b2lkIGNvbW1lbnQtcHJvbG9nIGNoYXIgc2VxdWVuY2UgKCMxMDA5OCk7IG11c3QgYXBwZWFzZSBsaW50IGFuZCBldmFkZSBjb21wcmVzc2lvblxuXHRcdGFsbFR5cGVzID0gXCIqL1wiLmNvbmNhdCggXCIqXCIgKSxcblx0XG5cdFx0Ly8gQW5jaG9yIHRhZyBmb3IgcGFyc2luZyB0aGUgZG9jdW1lbnQgb3JpZ2luXG5cdFx0b3JpZ2luQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJhXCIgKTtcblx0XHRvcmlnaW5BbmNob3IuaHJlZiA9IGxvY2F0aW9uLmhyZWY7XG5cdFxuXHQvLyBCYXNlIFwiY29uc3RydWN0b3JcIiBmb3IgalF1ZXJ5LmFqYXhQcmVmaWx0ZXIgYW5kIGpRdWVyeS5hamF4VHJhbnNwb3J0XG5cdGZ1bmN0aW9uIGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggc3RydWN0dXJlICkge1xuXHRcblx0XHQvLyBkYXRhVHlwZUV4cHJlc3Npb24gaXMgb3B0aW9uYWwgYW5kIGRlZmF1bHRzIHRvIFwiKlwiXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBkYXRhVHlwZUV4cHJlc3Npb24sIGZ1bmMgKSB7XG5cdFxuXHRcdFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVFeHByZXNzaW9uICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRmdW5jID0gZGF0YVR5cGVFeHByZXNzaW9uO1xuXHRcdFx0XHRkYXRhVHlwZUV4cHJlc3Npb24gPSBcIipcIjtcblx0XHRcdH1cblx0XG5cdFx0XHR2YXIgZGF0YVR5cGUsXG5cdFx0XHRcdGkgPSAwLFxuXHRcdFx0XHRkYXRhVHlwZXMgPSBkYXRhVHlwZUV4cHJlc3Npb24udG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdHdoaXRlICkgfHwgW107XG5cdFxuXHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggZnVuYyApICkge1xuXHRcblx0XHRcdFx0Ly8gRm9yIGVhY2ggZGF0YVR5cGUgaW4gdGhlIGRhdGFUeXBlRXhwcmVzc2lvblxuXHRcdFx0XHR3aGlsZSAoICggZGF0YVR5cGUgPSBkYXRhVHlwZXNbIGkrKyBdICkgKSB7XG5cdFxuXHRcdFx0XHRcdC8vIFByZXBlbmQgaWYgcmVxdWVzdGVkXG5cdFx0XHRcdFx0aWYgKCBkYXRhVHlwZVsgMCBdID09PSBcIitcIiApIHtcblx0XHRcdFx0XHRcdGRhdGFUeXBlID0gZGF0YVR5cGUuc2xpY2UoIDEgKSB8fCBcIipcIjtcblx0XHRcdFx0XHRcdCggc3RydWN0dXJlWyBkYXRhVHlwZSBdID0gc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdICkudW5zaGlmdCggZnVuYyApO1xuXHRcblx0XHRcdFx0XHQvLyBPdGhlcndpc2UgYXBwZW5kXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdCggc3RydWN0dXJlWyBkYXRhVHlwZSBdID0gc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdICkucHVzaCggZnVuYyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdH1cblx0XG5cdC8vIEJhc2UgaW5zcGVjdGlvbiBmdW5jdGlvbiBmb3IgcHJlZmlsdGVycyBhbmQgdHJhbnNwb3J0c1xuXHRmdW5jdGlvbiBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggc3RydWN0dXJlLCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMsIGpxWEhSICkge1xuXHRcblx0XHR2YXIgaW5zcGVjdGVkID0ge30sXG5cdFx0XHRzZWVraW5nVHJhbnNwb3J0ID0gKCBzdHJ1Y3R1cmUgPT09IHRyYW5zcG9ydHMgKTtcblx0XG5cdFx0ZnVuY3Rpb24gaW5zcGVjdCggZGF0YVR5cGUgKSB7XG5cdFx0XHR2YXIgc2VsZWN0ZWQ7XG5cdFx0XHRpbnNwZWN0ZWRbIGRhdGFUeXBlIF0gPSB0cnVlO1xuXHRcdFx0alF1ZXJ5LmVhY2goIHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSwgZnVuY3Rpb24oIF8sIHByZWZpbHRlck9yRmFjdG9yeSApIHtcblx0XHRcdFx0dmFyIGRhdGFUeXBlT3JUcmFuc3BvcnQgPSBwcmVmaWx0ZXJPckZhY3RvcnkoIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucywganFYSFIgKTtcblx0XHRcdFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVPclRyYW5zcG9ydCA9PT0gXCJzdHJpbmdcIiAmJlxuXHRcdFx0XHRcdCFzZWVraW5nVHJhbnNwb3J0ICYmICFpbnNwZWN0ZWRbIGRhdGFUeXBlT3JUcmFuc3BvcnQgXSApIHtcblx0XG5cdFx0XHRcdFx0b3B0aW9ucy5kYXRhVHlwZXMudW5zaGlmdCggZGF0YVR5cGVPclRyYW5zcG9ydCApO1xuXHRcdFx0XHRcdGluc3BlY3QoIGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH0gZWxzZSBpZiAoIHNlZWtpbmdUcmFuc3BvcnQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuICEoIHNlbGVjdGVkID0gZGF0YVR5cGVPclRyYW5zcG9ydCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0XHRyZXR1cm4gc2VsZWN0ZWQ7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gaW5zcGVjdCggb3B0aW9ucy5kYXRhVHlwZXNbIDAgXSApIHx8ICFpbnNwZWN0ZWRbIFwiKlwiIF0gJiYgaW5zcGVjdCggXCIqXCIgKTtcblx0fVxuXHRcblx0Ly8gQSBzcGVjaWFsIGV4dGVuZCBmb3IgYWpheCBvcHRpb25zXG5cdC8vIHRoYXQgdGFrZXMgXCJmbGF0XCIgb3B0aW9ucyAobm90IHRvIGJlIGRlZXAgZXh0ZW5kZWQpXG5cdC8vIEZpeGVzICM5ODg3XG5cdGZ1bmN0aW9uIGFqYXhFeHRlbmQoIHRhcmdldCwgc3JjICkge1xuXHRcdHZhciBrZXksIGRlZXAsXG5cdFx0XHRmbGF0T3B0aW9ucyA9IGpRdWVyeS5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnMgfHwge307XG5cdFxuXHRcdGZvciAoIGtleSBpbiBzcmMgKSB7XG5cdFx0XHRpZiAoIHNyY1sga2V5IF0gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0KCBmbGF0T3B0aW9uc1sga2V5IF0gPyB0YXJnZXQgOiAoIGRlZXAgfHwgKCBkZWVwID0ge30gKSApIClbIGtleSBdID0gc3JjWyBrZXkgXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKCBkZWVwICkge1xuXHRcdFx0alF1ZXJ5LmV4dGVuZCggdHJ1ZSwgdGFyZ2V0LCBkZWVwICk7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gdGFyZ2V0O1xuXHR9XG5cdFxuXHQvKiBIYW5kbGVzIHJlc3BvbnNlcyB0byBhbiBhamF4IHJlcXVlc3Q6XG5cdCAqIC0gZmluZHMgdGhlIHJpZ2h0IGRhdGFUeXBlIChtZWRpYXRlcyBiZXR3ZWVuIGNvbnRlbnQtdHlwZSBhbmQgZXhwZWN0ZWQgZGF0YVR5cGUpXG5cdCAqIC0gcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyByZXNwb25zZVxuXHQgKi9cblx0ZnVuY3Rpb24gYWpheEhhbmRsZVJlc3BvbnNlcyggcywganFYSFIsIHJlc3BvbnNlcyApIHtcblx0XG5cdFx0dmFyIGN0LCB0eXBlLCBmaW5hbERhdGFUeXBlLCBmaXJzdERhdGFUeXBlLFxuXHRcdFx0Y29udGVudHMgPSBzLmNvbnRlbnRzLFxuXHRcdFx0ZGF0YVR5cGVzID0gcy5kYXRhVHlwZXM7XG5cdFxuXHRcdC8vIFJlbW92ZSBhdXRvIGRhdGFUeXBlIGFuZCBnZXQgY29udGVudC10eXBlIGluIHRoZSBwcm9jZXNzXG5cdFx0d2hpbGUgKCBkYXRhVHlwZXNbIDAgXSA9PT0gXCIqXCIgKSB7XG5cdFx0XHRkYXRhVHlwZXMuc2hpZnQoKTtcblx0XHRcdGlmICggY3QgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0Y3QgPSBzLm1pbWVUeXBlIHx8IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCBcIkNvbnRlbnQtVHlwZVwiICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHQvLyBDaGVjayBpZiB3ZSdyZSBkZWFsaW5nIHdpdGggYSBrbm93biBjb250ZW50LXR5cGVcblx0XHRpZiAoIGN0ICkge1xuXHRcdFx0Zm9yICggdHlwZSBpbiBjb250ZW50cyApIHtcblx0XHRcdFx0aWYgKCBjb250ZW50c1sgdHlwZSBdICYmIGNvbnRlbnRzWyB0eXBlIF0udGVzdCggY3QgKSApIHtcblx0XHRcdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggdHlwZSApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHQvLyBDaGVjayB0byBzZWUgaWYgd2UgaGF2ZSBhIHJlc3BvbnNlIGZvciB0aGUgZXhwZWN0ZWQgZGF0YVR5cGVcblx0XHRpZiAoIGRhdGFUeXBlc1sgMCBdIGluIHJlc3BvbnNlcyApIHtcblx0XHRcdGZpbmFsRGF0YVR5cGUgPSBkYXRhVHlwZXNbIDAgXTtcblx0XHR9IGVsc2Uge1xuXHRcblx0XHRcdC8vIFRyeSBjb252ZXJ0aWJsZSBkYXRhVHlwZXNcblx0XHRcdGZvciAoIHR5cGUgaW4gcmVzcG9uc2VzICkge1xuXHRcdFx0XHRpZiAoICFkYXRhVHlwZXNbIDAgXSB8fCBzLmNvbnZlcnRlcnNbIHR5cGUgKyBcIiBcIiArIGRhdGFUeXBlc1sgMCBdIF0gKSB7XG5cdFx0XHRcdFx0ZmluYWxEYXRhVHlwZSA9IHR5cGU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCAhZmlyc3REYXRhVHlwZSApIHtcblx0XHRcdFx0XHRmaXJzdERhdGFUeXBlID0gdHlwZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdC8vIE9yIGp1c3QgdXNlIGZpcnN0IG9uZVxuXHRcdFx0ZmluYWxEYXRhVHlwZSA9IGZpbmFsRGF0YVR5cGUgfHwgZmlyc3REYXRhVHlwZTtcblx0XHR9XG5cdFxuXHRcdC8vIElmIHdlIGZvdW5kIGEgZGF0YVR5cGVcblx0XHQvLyBXZSBhZGQgdGhlIGRhdGFUeXBlIHRvIHRoZSBsaXN0IGlmIG5lZWRlZFxuXHRcdC8vIGFuZCByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmcgcmVzcG9uc2Vcblx0XHRpZiAoIGZpbmFsRGF0YVR5cGUgKSB7XG5cdFx0XHRpZiAoIGZpbmFsRGF0YVR5cGUgIT09IGRhdGFUeXBlc1sgMCBdICkge1xuXHRcdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggZmluYWxEYXRhVHlwZSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3BvbnNlc1sgZmluYWxEYXRhVHlwZSBdO1xuXHRcdH1cblx0fVxuXHRcblx0LyogQ2hhaW4gY29udmVyc2lvbnMgZ2l2ZW4gdGhlIHJlcXVlc3QgYW5kIHRoZSBvcmlnaW5hbCByZXNwb25zZVxuXHQgKiBBbHNvIHNldHMgdGhlIHJlc3BvbnNlWFhYIGZpZWxkcyBvbiB0aGUganFYSFIgaW5zdGFuY2Vcblx0ICovXG5cdGZ1bmN0aW9uIGFqYXhDb252ZXJ0KCBzLCByZXNwb25zZSwganFYSFIsIGlzU3VjY2VzcyApIHtcblx0XHR2YXIgY29udjIsIGN1cnJlbnQsIGNvbnYsIHRtcCwgcHJldixcblx0XHRcdGNvbnZlcnRlcnMgPSB7fSxcblx0XG5cdFx0XHQvLyBXb3JrIHdpdGggYSBjb3B5IG9mIGRhdGFUeXBlcyBpbiBjYXNlIHdlIG5lZWQgdG8gbW9kaWZ5IGl0IGZvciBjb252ZXJzaW9uXG5cdFx0XHRkYXRhVHlwZXMgPSBzLmRhdGFUeXBlcy5zbGljZSgpO1xuXHRcblx0XHQvLyBDcmVhdGUgY29udmVydGVycyBtYXAgd2l0aCBsb3dlcmNhc2VkIGtleXNcblx0XHRpZiAoIGRhdGFUeXBlc1sgMSBdICkge1xuXHRcdFx0Zm9yICggY29udiBpbiBzLmNvbnZlcnRlcnMgKSB7XG5cdFx0XHRcdGNvbnZlcnRlcnNbIGNvbnYudG9Mb3dlckNhc2UoKSBdID0gcy5jb252ZXJ0ZXJzWyBjb252IF07XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRjdXJyZW50ID0gZGF0YVR5cGVzLnNoaWZ0KCk7XG5cdFxuXHRcdC8vIENvbnZlcnQgdG8gZWFjaCBzZXF1ZW50aWFsIGRhdGFUeXBlXG5cdFx0d2hpbGUgKCBjdXJyZW50ICkge1xuXHRcblx0XHRcdGlmICggcy5yZXNwb25zZUZpZWxkc1sgY3VycmVudCBdICkge1xuXHRcdFx0XHRqcVhIUlsgcy5yZXNwb25zZUZpZWxkc1sgY3VycmVudCBdIF0gPSByZXNwb25zZTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBBcHBseSB0aGUgZGF0YUZpbHRlciBpZiBwcm92aWRlZFxuXHRcdFx0aWYgKCAhcHJldiAmJiBpc1N1Y2Nlc3MgJiYgcy5kYXRhRmlsdGVyICkge1xuXHRcdFx0XHRyZXNwb25zZSA9IHMuZGF0YUZpbHRlciggcmVzcG9uc2UsIHMuZGF0YVR5cGUgKTtcblx0XHRcdH1cblx0XG5cdFx0XHRwcmV2ID0gY3VycmVudDtcblx0XHRcdGN1cnJlbnQgPSBkYXRhVHlwZXMuc2hpZnQoKTtcblx0XG5cdFx0XHRpZiAoIGN1cnJlbnQgKSB7XG5cdFxuXHRcdFx0XHQvLyBUaGVyZSdzIG9ubHkgd29yayB0byBkbyBpZiBjdXJyZW50IGRhdGFUeXBlIGlzIG5vbi1hdXRvXG5cdFx0XHRcdGlmICggY3VycmVudCA9PT0gXCIqXCIgKSB7XG5cdFxuXHRcdFx0XHRcdGN1cnJlbnQgPSBwcmV2O1xuXHRcblx0XHRcdFx0Ly8gQ29udmVydCByZXNwb25zZSBpZiBwcmV2IGRhdGFUeXBlIGlzIG5vbi1hdXRvIGFuZCBkaWZmZXJzIGZyb20gY3VycmVudFxuXHRcdFx0XHR9IGVsc2UgaWYgKCBwcmV2ICE9PSBcIipcIiAmJiBwcmV2ICE9PSBjdXJyZW50ICkge1xuXHRcblx0XHRcdFx0XHQvLyBTZWVrIGEgZGlyZWN0IGNvbnZlcnRlclxuXHRcdFx0XHRcdGNvbnYgPSBjb252ZXJ0ZXJzWyBwcmV2ICsgXCIgXCIgKyBjdXJyZW50IF0gfHwgY29udmVydGVyc1sgXCIqIFwiICsgY3VycmVudCBdO1xuXHRcblx0XHRcdFx0XHQvLyBJZiBub25lIGZvdW5kLCBzZWVrIGEgcGFpclxuXHRcdFx0XHRcdGlmICggIWNvbnYgKSB7XG5cdFx0XHRcdFx0XHRmb3IgKCBjb252MiBpbiBjb252ZXJ0ZXJzICkge1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gSWYgY29udjIgb3V0cHV0cyBjdXJyZW50XG5cdFx0XHRcdFx0XHRcdHRtcCA9IGNvbnYyLnNwbGl0KCBcIiBcIiApO1xuXHRcdFx0XHRcdFx0XHRpZiAoIHRtcFsgMSBdID09PSBjdXJyZW50ICkge1xuXHRcblx0XHRcdFx0XHRcdFx0XHQvLyBJZiBwcmV2IGNhbiBiZSBjb252ZXJ0ZWQgdG8gYWNjZXB0ZWQgaW5wdXRcblx0XHRcdFx0XHRcdFx0XHRjb252ID0gY29udmVydGVyc1sgcHJldiArIFwiIFwiICsgdG1wWyAwIF0gXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0Y29udmVydGVyc1sgXCIqIFwiICsgdG1wWyAwIF0gXTtcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGNvbnYgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gQ29uZGVuc2UgZXF1aXZhbGVuY2UgY29udmVydGVyc1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBjb252ID09PSB0cnVlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb252ID0gY29udmVydGVyc1sgY29udjIgXTtcblx0XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBPdGhlcndpc2UsIGluc2VydCB0aGUgaW50ZXJtZWRpYXRlIGRhdGFUeXBlXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBjb252ZXJ0ZXJzWyBjb252MiBdICE9PSB0cnVlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjdXJyZW50ID0gdG1wWyAwIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGFUeXBlcy51bnNoaWZ0KCB0bXBbIDEgXSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBBcHBseSBjb252ZXJ0ZXIgKGlmIG5vdCBhbiBlcXVpdmFsZW5jZSlcblx0XHRcdFx0XHRpZiAoIGNvbnYgIT09IHRydWUgKSB7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gVW5sZXNzIGVycm9ycyBhcmUgYWxsb3dlZCB0byBidWJibGUsIGNhdGNoIGFuZCByZXR1cm4gdGhlbVxuXHRcdFx0XHRcdFx0aWYgKCBjb252ICYmIHMudGhyb3dzICkge1xuXHRcdFx0XHRcdFx0XHRyZXNwb25zZSA9IGNvbnYoIHJlc3BvbnNlICk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdHJlc3BvbnNlID0gY29udiggcmVzcG9uc2UgKTtcblx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0XHRcdHN0YXRlOiBcInBhcnNlcmVycm9yXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRlcnJvcjogY29udiA/IGUgOiBcIk5vIGNvbnZlcnNpb24gZnJvbSBcIiArIHByZXYgKyBcIiB0byBcIiArIGN1cnJlbnRcblx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4geyBzdGF0ZTogXCJzdWNjZXNzXCIsIGRhdGE6IHJlc3BvbnNlIH07XG5cdH1cblx0XG5cdGpRdWVyeS5leHRlbmQoIHtcblx0XG5cdFx0Ly8gQ291bnRlciBmb3IgaG9sZGluZyB0aGUgbnVtYmVyIG9mIGFjdGl2ZSBxdWVyaWVzXG5cdFx0YWN0aXZlOiAwLFxuXHRcblx0XHQvLyBMYXN0LU1vZGlmaWVkIGhlYWRlciBjYWNoZSBmb3IgbmV4dCByZXF1ZXN0XG5cdFx0bGFzdE1vZGlmaWVkOiB7fSxcblx0XHRldGFnOiB7fSxcblx0XG5cdFx0YWpheFNldHRpbmdzOiB7XG5cdFx0XHR1cmw6IGxvY2F0aW9uLmhyZWYsXG5cdFx0XHR0eXBlOiBcIkdFVFwiLFxuXHRcdFx0aXNMb2NhbDogcmxvY2FsUHJvdG9jb2wudGVzdCggbG9jYXRpb24ucHJvdG9jb2wgKSxcblx0XHRcdGdsb2JhbDogdHJ1ZSxcblx0XHRcdHByb2Nlc3NEYXRhOiB0cnVlLFxuXHRcdFx0YXN5bmM6IHRydWUsXG5cdFx0XHRjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLThcIixcblx0XG5cdFx0XHQvKlxuXHRcdFx0dGltZW91dDogMCxcblx0XHRcdGRhdGE6IG51bGwsXG5cdFx0XHRkYXRhVHlwZTogbnVsbCxcblx0XHRcdHVzZXJuYW1lOiBudWxsLFxuXHRcdFx0cGFzc3dvcmQ6IG51bGwsXG5cdFx0XHRjYWNoZTogbnVsbCxcblx0XHRcdHRocm93czogZmFsc2UsXG5cdFx0XHR0cmFkaXRpb25hbDogZmFsc2UsXG5cdFx0XHRoZWFkZXJzOiB7fSxcblx0XHRcdCovXG5cdFxuXHRcdFx0YWNjZXB0czoge1xuXHRcdFx0XHRcIipcIjogYWxsVHlwZXMsXG5cdFx0XHRcdHRleHQ6IFwidGV4dC9wbGFpblwiLFxuXHRcdFx0XHRodG1sOiBcInRleHQvaHRtbFwiLFxuXHRcdFx0XHR4bWw6IFwiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbFwiLFxuXHRcdFx0XHRqc29uOiBcImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdFwiXG5cdFx0XHR9LFxuXHRcblx0XHRcdGNvbnRlbnRzOiB7XG5cdFx0XHRcdHhtbDogL1xcYnhtbFxcYi8sXG5cdFx0XHRcdGh0bWw6IC9cXGJodG1sLyxcblx0XHRcdFx0anNvbjogL1xcYmpzb25cXGIvXG5cdFx0XHR9LFxuXHRcblx0XHRcdHJlc3BvbnNlRmllbGRzOiB7XG5cdFx0XHRcdHhtbDogXCJyZXNwb25zZVhNTFwiLFxuXHRcdFx0XHR0ZXh0OiBcInJlc3BvbnNlVGV4dFwiLFxuXHRcdFx0XHRqc29uOiBcInJlc3BvbnNlSlNPTlwiXG5cdFx0XHR9LFxuXHRcblx0XHRcdC8vIERhdGEgY29udmVydGVyc1xuXHRcdFx0Ly8gS2V5cyBzZXBhcmF0ZSBzb3VyY2UgKG9yIGNhdGNoYWxsIFwiKlwiKSBhbmQgZGVzdGluYXRpb24gdHlwZXMgd2l0aCBhIHNpbmdsZSBzcGFjZVxuXHRcdFx0Y29udmVydGVyczoge1xuXHRcblx0XHRcdFx0Ly8gQ29udmVydCBhbnl0aGluZyB0byB0ZXh0XG5cdFx0XHRcdFwiKiB0ZXh0XCI6IFN0cmluZyxcblx0XG5cdFx0XHRcdC8vIFRleHQgdG8gaHRtbCAodHJ1ZSA9IG5vIHRyYW5zZm9ybWF0aW9uKVxuXHRcdFx0XHRcInRleHQgaHRtbFwiOiB0cnVlLFxuXHRcblx0XHRcdFx0Ly8gRXZhbHVhdGUgdGV4dCBhcyBhIGpzb24gZXhwcmVzc2lvblxuXHRcdFx0XHRcInRleHQganNvblwiOiBKU09OLnBhcnNlLFxuXHRcblx0XHRcdFx0Ly8gUGFyc2UgdGV4dCBhcyB4bWxcblx0XHRcdFx0XCJ0ZXh0IHhtbFwiOiBqUXVlcnkucGFyc2VYTUxcblx0XHRcdH0sXG5cdFxuXHRcdFx0Ly8gRm9yIG9wdGlvbnMgdGhhdCBzaG91bGRuJ3QgYmUgZGVlcCBleHRlbmRlZDpcblx0XHRcdC8vIHlvdSBjYW4gYWRkIHlvdXIgb3duIGN1c3RvbSBvcHRpb25zIGhlcmUgaWZcblx0XHRcdC8vIGFuZCB3aGVuIHlvdSBjcmVhdGUgb25lIHRoYXQgc2hvdWxkbid0IGJlXG5cdFx0XHQvLyBkZWVwIGV4dGVuZGVkIChzZWUgYWpheEV4dGVuZClcblx0XHRcdGZsYXRPcHRpb25zOiB7XG5cdFx0XHRcdHVybDogdHJ1ZSxcblx0XHRcdFx0Y29udGV4dDogdHJ1ZVxuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdC8vIENyZWF0ZXMgYSBmdWxsIGZsZWRnZWQgc2V0dGluZ3Mgb2JqZWN0IGludG8gdGFyZ2V0XG5cdFx0Ly8gd2l0aCBib3RoIGFqYXhTZXR0aW5ncyBhbmQgc2V0dGluZ3MgZmllbGRzLlxuXHRcdC8vIElmIHRhcmdldCBpcyBvbWl0dGVkLCB3cml0ZXMgaW50byBhamF4U2V0dGluZ3MuXG5cdFx0YWpheFNldHVwOiBmdW5jdGlvbiggdGFyZ2V0LCBzZXR0aW5ncyApIHtcblx0XHRcdHJldHVybiBzZXR0aW5ncyA/XG5cdFxuXHRcdFx0XHQvLyBCdWlsZGluZyBhIHNldHRpbmdzIG9iamVjdFxuXHRcdFx0XHRhamF4RXh0ZW5kKCBhamF4RXh0ZW5kKCB0YXJnZXQsIGpRdWVyeS5hamF4U2V0dGluZ3MgKSwgc2V0dGluZ3MgKSA6XG5cdFxuXHRcdFx0XHQvLyBFeHRlbmRpbmcgYWpheFNldHRpbmdzXG5cdFx0XHRcdGFqYXhFeHRlbmQoIGpRdWVyeS5hamF4U2V0dGluZ3MsIHRhcmdldCApO1xuXHRcdH0sXG5cdFxuXHRcdGFqYXhQcmVmaWx0ZXI6IGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggcHJlZmlsdGVycyApLFxuXHRcdGFqYXhUcmFuc3BvcnQ6IGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggdHJhbnNwb3J0cyApLFxuXHRcblx0XHQvLyBNYWluIG1ldGhvZFxuXHRcdGFqYXg6IGZ1bmN0aW9uKCB1cmwsIG9wdGlvbnMgKSB7XG5cdFxuXHRcdFx0Ly8gSWYgdXJsIGlzIGFuIG9iamVjdCwgc2ltdWxhdGUgcHJlLTEuNSBzaWduYXR1cmVcblx0XHRcdGlmICggdHlwZW9mIHVybCA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRcdFx0b3B0aW9ucyA9IHVybDtcblx0XHRcdFx0dXJsID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEZvcmNlIG9wdGlvbnMgdG8gYmUgYW4gb2JqZWN0XG5cdFx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0XG5cdFx0XHR2YXIgdHJhbnNwb3J0LFxuXHRcblx0XHRcdFx0Ly8gVVJMIHdpdGhvdXQgYW50aS1jYWNoZSBwYXJhbVxuXHRcdFx0XHRjYWNoZVVSTCxcblx0XG5cdFx0XHRcdC8vIFJlc3BvbnNlIGhlYWRlcnNcblx0XHRcdFx0cmVzcG9uc2VIZWFkZXJzU3RyaW5nLFxuXHRcdFx0XHRyZXNwb25zZUhlYWRlcnMsXG5cdFxuXHRcdFx0XHQvLyB0aW1lb3V0IGhhbmRsZVxuXHRcdFx0XHR0aW1lb3V0VGltZXIsXG5cdFxuXHRcdFx0XHQvLyBVcmwgY2xlYW51cCB2YXJcblx0XHRcdFx0dXJsQW5jaG9yLFxuXHRcblx0XHRcdFx0Ly8gUmVxdWVzdCBzdGF0ZSAoYmVjb21lcyBmYWxzZSB1cG9uIHNlbmQgYW5kIHRydWUgdXBvbiBjb21wbGV0aW9uKVxuXHRcdFx0XHRjb21wbGV0ZWQsXG5cdFxuXHRcdFx0XHQvLyBUbyBrbm93IGlmIGdsb2JhbCBldmVudHMgYXJlIHRvIGJlIGRpc3BhdGNoZWRcblx0XHRcdFx0ZmlyZUdsb2JhbHMsXG5cdFxuXHRcdFx0XHQvLyBMb29wIHZhcmlhYmxlXG5cdFx0XHRcdGksXG5cdFxuXHRcdFx0XHQvLyB1bmNhY2hlZCBwYXJ0IG9mIHRoZSB1cmxcblx0XHRcdFx0dW5jYWNoZWQsXG5cdFxuXHRcdFx0XHQvLyBDcmVhdGUgdGhlIGZpbmFsIG9wdGlvbnMgb2JqZWN0XG5cdFx0XHRcdHMgPSBqUXVlcnkuYWpheFNldHVwKCB7fSwgb3B0aW9ucyApLFxuXHRcblx0XHRcdFx0Ly8gQ2FsbGJhY2tzIGNvbnRleHRcblx0XHRcdFx0Y2FsbGJhY2tDb250ZXh0ID0gcy5jb250ZXh0IHx8IHMsXG5cdFxuXHRcdFx0XHQvLyBDb250ZXh0IGZvciBnbG9iYWwgZXZlbnRzIGlzIGNhbGxiYWNrQ29udGV4dCBpZiBpdCBpcyBhIERPTSBub2RlIG9yIGpRdWVyeSBjb2xsZWN0aW9uXG5cdFx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dCA9IHMuY29udGV4dCAmJlxuXHRcdFx0XHRcdCggY2FsbGJhY2tDb250ZXh0Lm5vZGVUeXBlIHx8IGNhbGxiYWNrQ29udGV4dC5qcXVlcnkgKSA/XG5cdFx0XHRcdFx0XHRqUXVlcnkoIGNhbGxiYWNrQ29udGV4dCApIDpcblx0XHRcdFx0XHRcdGpRdWVyeS5ldmVudCxcblx0XG5cdFx0XHRcdC8vIERlZmVycmVkc1xuXHRcdFx0XHRkZWZlcnJlZCA9IGpRdWVyeS5EZWZlcnJlZCgpLFxuXHRcdFx0XHRjb21wbGV0ZURlZmVycmVkID0galF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksXG5cdFxuXHRcdFx0XHQvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xuXHRcdFx0XHRzdGF0dXNDb2RlID0gcy5zdGF0dXNDb2RlIHx8IHt9LFxuXHRcblx0XHRcdFx0Ly8gSGVhZGVycyAodGhleSBhcmUgc2VudCBhbGwgYXQgb25jZSlcblx0XHRcdFx0cmVxdWVzdEhlYWRlcnMgPSB7fSxcblx0XHRcdFx0cmVxdWVzdEhlYWRlcnNOYW1lcyA9IHt9LFxuXHRcblx0XHRcdFx0Ly8gRGVmYXVsdCBhYm9ydCBtZXNzYWdlXG5cdFx0XHRcdHN0ckFib3J0ID0gXCJjYW5jZWxlZFwiLFxuXHRcblx0XHRcdFx0Ly8gRmFrZSB4aHJcblx0XHRcdFx0anFYSFIgPSB7XG5cdFx0XHRcdFx0cmVhZHlTdGF0ZTogMCxcblx0XG5cdFx0XHRcdFx0Ly8gQnVpbGRzIGhlYWRlcnMgaGFzaHRhYmxlIGlmIG5lZWRlZFxuXHRcdFx0XHRcdGdldFJlc3BvbnNlSGVhZGVyOiBmdW5jdGlvbigga2V5ICkge1xuXHRcdFx0XHRcdFx0dmFyIG1hdGNoO1xuXHRcdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggIXJlc3BvbnNlSGVhZGVycyApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXNwb25zZUhlYWRlcnMgPSB7fTtcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoICggbWF0Y2ggPSByaGVhZGVycy5leGVjKCByZXNwb25zZUhlYWRlcnNTdHJpbmcgKSApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmVzcG9uc2VIZWFkZXJzWyBtYXRjaFsgMSBdLnRvTG93ZXJDYXNlKCkgXSA9IG1hdGNoWyAyIF07XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdG1hdGNoID0gcmVzcG9uc2VIZWFkZXJzWyBrZXkudG9Mb3dlckNhc2UoKSBdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuIG1hdGNoID09IG51bGwgPyBudWxsIDogbWF0Y2g7XG5cdFx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdFx0Ly8gUmF3IHN0cmluZ1xuXHRcdFx0XHRcdGdldEFsbFJlc3BvbnNlSGVhZGVyczogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29tcGxldGVkID8gcmVzcG9uc2VIZWFkZXJzU3RyaW5nIDogbnVsbDtcblx0XHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0XHQvLyBDYWNoZXMgdGhlIGhlYWRlclxuXHRcdFx0XHRcdHNldFJlcXVlc3RIZWFkZXI6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRcdFx0XHRcdGlmICggY29tcGxldGVkID09IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRcdG5hbWUgPSByZXF1ZXN0SGVhZGVyc05hbWVzWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSA9XG5cdFx0XHRcdFx0XHRcdFx0cmVxdWVzdEhlYWRlcnNOYW1lc1sgbmFtZS50b0xvd2VyQ2FzZSgpIF0gfHwgbmFtZTtcblx0XHRcdFx0XHRcdFx0cmVxdWVzdEhlYWRlcnNbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdFx0Ly8gT3ZlcnJpZGVzIHJlc3BvbnNlIGNvbnRlbnQtdHlwZSBoZWFkZXJcblx0XHRcdFx0XHRvdmVycmlkZU1pbWVUeXBlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRcdFx0XHRcdGlmICggY29tcGxldGVkID09IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRcdHMubWltZVR5cGUgPSB0eXBlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdFx0Ly8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3Ncblx0XHRcdFx0XHRzdGF0dXNDb2RlOiBmdW5jdGlvbiggbWFwICkge1xuXHRcdFx0XHRcdFx0dmFyIGNvZGU7XG5cdFx0XHRcdFx0XHRpZiAoIG1hcCApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdC8vIEV4ZWN1dGUgdGhlIGFwcHJvcHJpYXRlIGNhbGxiYWNrc1xuXHRcdFx0XHRcdFx0XHRcdGpxWEhSLmFsd2F5cyggbWFwWyBqcVhIUi5zdGF0dXMgXSApO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcblx0XHRcdFx0XHRcdFx0XHQvLyBMYXp5LWFkZCB0aGUgbmV3IGNhbGxiYWNrcyBpbiBhIHdheSB0aGF0IHByZXNlcnZlcyBvbGQgb25lc1xuXHRcdFx0XHRcdFx0XHRcdGZvciAoIGNvZGUgaW4gbWFwICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0c3RhdHVzQ29kZVsgY29kZSBdID0gWyBzdGF0dXNDb2RlWyBjb2RlIF0sIG1hcFsgY29kZSBdIF07XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0XHQvLyBDYW5jZWwgdGhlIHJlcXVlc3Rcblx0XHRcdFx0XHRhYm9ydDogZnVuY3Rpb24oIHN0YXR1c1RleHQgKSB7XG5cdFx0XHRcdFx0XHR2YXIgZmluYWxUZXh0ID0gc3RhdHVzVGV4dCB8fCBzdHJBYm9ydDtcblx0XHRcdFx0XHRcdGlmICggdHJhbnNwb3J0ICkge1xuXHRcdFx0XHRcdFx0XHR0cmFuc3BvcnQuYWJvcnQoIGZpbmFsVGV4dCApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZG9uZSggMCwgZmluYWxUZXh0ICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFxuXHRcdFx0Ly8gQXR0YWNoIGRlZmVycmVkc1xuXHRcdFx0ZGVmZXJyZWQucHJvbWlzZSgganFYSFIgKTtcblx0XG5cdFx0XHQvLyBBZGQgcHJvdG9jb2wgaWYgbm90IHByb3ZpZGVkIChwcmVmaWx0ZXJzIG1pZ2h0IGV4cGVjdCBpdClcblx0XHRcdC8vIEhhbmRsZSBmYWxzeSB1cmwgaW4gdGhlIHNldHRpbmdzIG9iamVjdCAoIzEwMDkzOiBjb25zaXN0ZW5jeSB3aXRoIG9sZCBzaWduYXR1cmUpXG5cdFx0XHQvLyBXZSBhbHNvIHVzZSB0aGUgdXJsIHBhcmFtZXRlciBpZiBhdmFpbGFibGVcblx0XHRcdHMudXJsID0gKCAoIHVybCB8fCBzLnVybCB8fCBsb2NhdGlvbi5ocmVmICkgKyBcIlwiIClcblx0XHRcdFx0LnJlcGxhY2UoIHJwcm90b2NvbCwgbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKTtcblx0XG5cdFx0XHQvLyBBbGlhcyBtZXRob2Qgb3B0aW9uIHRvIHR5cGUgYXMgcGVyIHRpY2tldCAjMTIwMDRcblx0XHRcdHMudHlwZSA9IG9wdGlvbnMubWV0aG9kIHx8IG9wdGlvbnMudHlwZSB8fCBzLm1ldGhvZCB8fCBzLnR5cGU7XG5cdFxuXHRcdFx0Ly8gRXh0cmFjdCBkYXRhVHlwZXMgbGlzdFxuXHRcdFx0cy5kYXRhVHlwZXMgPSAoIHMuZGF0YVR5cGUgfHwgXCIqXCIgKS50b0xvd2VyQ2FzZSgpLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbIFwiXCIgXTtcblx0XG5cdFx0XHQvLyBBIGNyb3NzLWRvbWFpbiByZXF1ZXN0IGlzIGluIG9yZGVyIHdoZW4gdGhlIG9yaWdpbiBkb2Vzbid0IG1hdGNoIHRoZSBjdXJyZW50IG9yaWdpbi5cblx0XHRcdGlmICggcy5jcm9zc0RvbWFpbiA9PSBudWxsICkge1xuXHRcdFx0XHR1cmxBbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImFcIiApO1xuXHRcblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD04IC0gMTEsIEVkZ2UgMTIgLSAxM1xuXHRcdFx0XHQvLyBJRSB0aHJvd3MgZXhjZXB0aW9uIG9uIGFjY2Vzc2luZyB0aGUgaHJlZiBwcm9wZXJ0eSBpZiB1cmwgaXMgbWFsZm9ybWVkLFxuXHRcdFx0XHQvLyBlLmcuIGh0dHA6Ly9leGFtcGxlLmNvbTo4MHgvXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0dXJsQW5jaG9yLmhyZWYgPSBzLnVybDtcblx0XG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD04IC0gMTEgb25seVxuXHRcdFx0XHRcdC8vIEFuY2hvcidzIGhvc3QgcHJvcGVydHkgaXNuJ3QgY29ycmVjdGx5IHNldCB3aGVuIHMudXJsIGlzIHJlbGF0aXZlXG5cdFx0XHRcdFx0dXJsQW5jaG9yLmhyZWYgPSB1cmxBbmNob3IuaHJlZjtcblx0XHRcdFx0XHRzLmNyb3NzRG9tYWluID0gb3JpZ2luQW5jaG9yLnByb3RvY29sICsgXCIvL1wiICsgb3JpZ2luQW5jaG9yLmhvc3QgIT09XG5cdFx0XHRcdFx0XHR1cmxBbmNob3IucHJvdG9jb2wgKyBcIi8vXCIgKyB1cmxBbmNob3IuaG9zdDtcblx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cdFxuXHRcdFx0XHRcdC8vIElmIHRoZXJlIGlzIGFuIGVycm9yIHBhcnNpbmcgdGhlIFVSTCwgYXNzdW1lIGl0IGlzIGNyb3NzRG9tYWluLFxuXHRcdFx0XHRcdC8vIGl0IGNhbiBiZSByZWplY3RlZCBieSB0aGUgdHJhbnNwb3J0IGlmIGl0IGlzIGludmFsaWRcblx0XHRcdFx0XHRzLmNyb3NzRG9tYWluID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdC8vIENvbnZlcnQgZGF0YSBpZiBub3QgYWxyZWFkeSBhIHN0cmluZ1xuXHRcdFx0aWYgKCBzLmRhdGEgJiYgcy5wcm9jZXNzRGF0YSAmJiB0eXBlb2Ygcy5kYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRzLmRhdGEgPSBqUXVlcnkucGFyYW0oIHMuZGF0YSwgcy50cmFkaXRpb25hbCApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEFwcGx5IHByZWZpbHRlcnNcblx0XHRcdGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBwcmVmaWx0ZXJzLCBzLCBvcHRpb25zLCBqcVhIUiApO1xuXHRcblx0XHRcdC8vIElmIHJlcXVlc3Qgd2FzIGFib3J0ZWQgaW5zaWRlIGEgcHJlZmlsdGVyLCBzdG9wIHRoZXJlXG5cdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdFx0cmV0dXJuIGpxWEhSO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFdlIGNhbiBmaXJlIGdsb2JhbCBldmVudHMgYXMgb2Ygbm93IGlmIGFza2VkIHRvXG5cdFx0XHQvLyBEb24ndCBmaXJlIGV2ZW50cyBpZiBqUXVlcnkuZXZlbnQgaXMgdW5kZWZpbmVkIGluIGFuIEFNRC11c2FnZSBzY2VuYXJpbyAoIzE1MTE4KVxuXHRcdFx0ZmlyZUdsb2JhbHMgPSBqUXVlcnkuZXZlbnQgJiYgcy5nbG9iYWw7XG5cdFxuXHRcdFx0Ly8gV2F0Y2ggZm9yIGEgbmV3IHNldCBvZiByZXF1ZXN0c1xuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyAmJiBqUXVlcnkuYWN0aXZlKysgPT09IDAgKSB7XG5cdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBcImFqYXhTdGFydFwiICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gVXBwZXJjYXNlIHRoZSB0eXBlXG5cdFx0XHRzLnR5cGUgPSBzLnR5cGUudG9VcHBlckNhc2UoKTtcblx0XG5cdFx0XHQvLyBEZXRlcm1pbmUgaWYgcmVxdWVzdCBoYXMgY29udGVudFxuXHRcdFx0cy5oYXNDb250ZW50ID0gIXJub0NvbnRlbnQudGVzdCggcy50eXBlICk7XG5cdFxuXHRcdFx0Ly8gU2F2ZSB0aGUgVVJMIGluIGNhc2Ugd2UncmUgdG95aW5nIHdpdGggdGhlIElmLU1vZGlmaWVkLVNpbmNlXG5cdFx0XHQvLyBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIgbGF0ZXIgb25cblx0XHRcdC8vIFJlbW92ZSBoYXNoIHRvIHNpbXBsaWZ5IHVybCBtYW5pcHVsYXRpb25cblx0XHRcdGNhY2hlVVJMID0gcy51cmwucmVwbGFjZSggcmhhc2gsIFwiXCIgKTtcblx0XG5cdFx0XHQvLyBNb3JlIG9wdGlvbnMgaGFuZGxpbmcgZm9yIHJlcXVlc3RzIHdpdGggbm8gY29udGVudFxuXHRcdFx0aWYgKCAhcy5oYXNDb250ZW50ICkge1xuXHRcblx0XHRcdFx0Ly8gUmVtZW1iZXIgdGhlIGhhc2ggc28gd2UgY2FuIHB1dCBpdCBiYWNrXG5cdFx0XHRcdHVuY2FjaGVkID0gcy51cmwuc2xpY2UoIGNhY2hlVVJMLmxlbmd0aCApO1xuXHRcblx0XHRcdFx0Ly8gSWYgZGF0YSBpcyBhdmFpbGFibGUsIGFwcGVuZCBkYXRhIHRvIHVybFxuXHRcdFx0XHRpZiAoIHMuZGF0YSApIHtcblx0XHRcdFx0XHRjYWNoZVVSTCArPSAoIHJxdWVyeS50ZXN0KCBjYWNoZVVSTCApID8gXCImXCIgOiBcIj9cIiApICsgcy5kYXRhO1xuXHRcblx0XHRcdFx0XHQvLyAjOTY4MjogcmVtb3ZlIGRhdGEgc28gdGhhdCBpdCdzIG5vdCB1c2VkIGluIGFuIGV2ZW50dWFsIHJldHJ5XG5cdFx0XHRcdFx0ZGVsZXRlIHMuZGF0YTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gQWRkIGFudGktY2FjaGUgaW4gdW5jYWNoZWQgdXJsIGlmIG5lZWRlZFxuXHRcdFx0XHRpZiAoIHMuY2FjaGUgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdGNhY2hlVVJMID0gY2FjaGVVUkwucmVwbGFjZSggcnRzLCBcIlwiICk7XG5cdFx0XHRcdFx0dW5jYWNoZWQgPSAoIHJxdWVyeS50ZXN0KCBjYWNoZVVSTCApID8gXCImXCIgOiBcIj9cIiApICsgXCJfPVwiICsgKCBub25jZSsrICkgKyB1bmNhY2hlZDtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gUHV0IGhhc2ggYW5kIGFudGktY2FjaGUgb24gdGhlIFVSTCB0aGF0IHdpbGwgYmUgcmVxdWVzdGVkIChnaC0xNzMyKVxuXHRcdFx0XHRzLnVybCA9IGNhY2hlVVJMICsgdW5jYWNoZWQ7XG5cdFxuXHRcdFx0Ly8gQ2hhbmdlICclMjAnIHRvICcrJyBpZiB0aGlzIGlzIGVuY29kZWQgZm9ybSBib2R5IGNvbnRlbnQgKGdoLTI2NTgpXG5cdFx0XHR9IGVsc2UgaWYgKCBzLmRhdGEgJiYgcy5wcm9jZXNzRGF0YSAmJlxuXHRcdFx0XHQoIHMuY29udGVudFR5cGUgfHwgXCJcIiApLmluZGV4T2YoIFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIgKSA9PT0gMCApIHtcblx0XHRcdFx0cy5kYXRhID0gcy5kYXRhLnJlcGxhY2UoIHIyMCwgXCIrXCIgKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBTZXQgdGhlIElmLU1vZGlmaWVkLVNpbmNlIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciwgaWYgaW4gaWZNb2RpZmllZCBtb2RlLlxuXHRcdFx0aWYgKCBzLmlmTW9kaWZpZWQgKSB7XG5cdFx0XHRcdGlmICggalF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSApIHtcblx0XHRcdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIklmLU1vZGlmaWVkLVNpbmNlXCIsIGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdICkge1xuXHRcdFx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiSWYtTm9uZS1NYXRjaFwiLCBqUXVlcnkuZXRhZ1sgY2FjaGVVUkwgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gU2V0IHRoZSBjb3JyZWN0IGhlYWRlciwgaWYgZGF0YSBpcyBiZWluZyBzZW50XG5cdFx0XHRpZiAoIHMuZGF0YSAmJiBzLmhhc0NvbnRlbnQgJiYgcy5jb250ZW50VHlwZSAhPT0gZmFsc2UgfHwgb3B0aW9ucy5jb250ZW50VHlwZSApIHtcblx0XHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJDb250ZW50LVR5cGVcIiwgcy5jb250ZW50VHlwZSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFNldCB0aGUgQWNjZXB0cyBoZWFkZXIgZm9yIHRoZSBzZXJ2ZXIsIGRlcGVuZGluZyBvbiB0aGUgZGF0YVR5cGVcblx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoXG5cdFx0XHRcdFwiQWNjZXB0XCIsXG5cdFx0XHRcdHMuZGF0YVR5cGVzWyAwIF0gJiYgcy5hY2NlcHRzWyBzLmRhdGFUeXBlc1sgMCBdIF0gP1xuXHRcdFx0XHRcdHMuYWNjZXB0c1sgcy5kYXRhVHlwZXNbIDAgXSBdICtcblx0XHRcdFx0XHRcdCggcy5kYXRhVHlwZXNbIDAgXSAhPT0gXCIqXCIgPyBcIiwgXCIgKyBhbGxUeXBlcyArIFwiOyBxPTAuMDFcIiA6IFwiXCIgKSA6XG5cdFx0XHRcdFx0cy5hY2NlcHRzWyBcIipcIiBdXG5cdFx0XHQpO1xuXHRcblx0XHRcdC8vIENoZWNrIGZvciBoZWFkZXJzIG9wdGlvblxuXHRcdFx0Zm9yICggaSBpbiBzLmhlYWRlcnMgKSB7XG5cdFx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIGksIHMuaGVhZGVyc1sgaSBdICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gQWxsb3cgY3VzdG9tIGhlYWRlcnMvbWltZXR5cGVzIGFuZCBlYXJseSBhYm9ydFxuXHRcdFx0aWYgKCBzLmJlZm9yZVNlbmQgJiZcblx0XHRcdFx0KCBzLmJlZm9yZVNlbmQuY2FsbCggY2FsbGJhY2tDb250ZXh0LCBqcVhIUiwgcyApID09PSBmYWxzZSB8fCBjb21wbGV0ZWQgKSApIHtcblx0XG5cdFx0XHRcdC8vIEFib3J0IGlmIG5vdCBkb25lIGFscmVhZHkgYW5kIHJldHVyblxuXHRcdFx0XHRyZXR1cm4ganFYSFIuYWJvcnQoKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBBYm9ydGluZyBpcyBubyBsb25nZXIgYSBjYW5jZWxsYXRpb25cblx0XHRcdHN0ckFib3J0ID0gXCJhYm9ydFwiO1xuXHRcblx0XHRcdC8vIEluc3RhbGwgY2FsbGJhY2tzIG9uIGRlZmVycmVkc1xuXHRcdFx0Y29tcGxldGVEZWZlcnJlZC5hZGQoIHMuY29tcGxldGUgKTtcblx0XHRcdGpxWEhSLmRvbmUoIHMuc3VjY2VzcyApO1xuXHRcdFx0anFYSFIuZmFpbCggcy5lcnJvciApO1xuXHRcblx0XHRcdC8vIEdldCB0cmFuc3BvcnRcblx0XHRcdHRyYW5zcG9ydCA9IGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCB0cmFuc3BvcnRzLCBzLCBvcHRpb25zLCBqcVhIUiApO1xuXHRcblx0XHRcdC8vIElmIG5vIHRyYW5zcG9ydCwgd2UgYXV0by1hYm9ydFxuXHRcdFx0aWYgKCAhdHJhbnNwb3J0ICkge1xuXHRcdFx0XHRkb25lKCAtMSwgXCJObyBUcmFuc3BvcnRcIiApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0anFYSFIucmVhZHlTdGF0ZSA9IDE7XG5cdFxuXHRcdFx0XHQvLyBTZW5kIGdsb2JhbCBldmVudFxuXHRcdFx0XHRpZiAoIGZpcmVHbG9iYWxzICkge1xuXHRcdFx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBcImFqYXhTZW5kXCIsIFsganFYSFIsIHMgXSApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBJZiByZXF1ZXN0IHdhcyBhYm9ydGVkIGluc2lkZSBhamF4U2VuZCwgc3RvcCB0aGVyZVxuXHRcdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdFx0XHRyZXR1cm4ganFYSFI7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFRpbWVvdXRcblx0XHRcdFx0aWYgKCBzLmFzeW5jICYmIHMudGltZW91dCA+IDAgKSB7XG5cdFx0XHRcdFx0dGltZW91dFRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0anFYSFIuYWJvcnQoIFwidGltZW91dFwiICk7XG5cdFx0XHRcdFx0fSwgcy50aW1lb3V0ICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Y29tcGxldGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0dHJhbnNwb3J0LnNlbmQoIHJlcXVlc3RIZWFkZXJzLCBkb25lICk7XG5cdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXHRcblx0XHRcdFx0XHQvLyBSZXRocm93IHBvc3QtY29tcGxldGlvbiBleGNlcHRpb25zXG5cdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gUHJvcGFnYXRlIG90aGVycyBhcyByZXN1bHRzXG5cdFx0XHRcdFx0ZG9uZSggLTEsIGUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdC8vIENhbGxiYWNrIGZvciB3aGVuIGV2ZXJ5dGhpbmcgaXMgZG9uZVxuXHRcdFx0ZnVuY3Rpb24gZG9uZSggc3RhdHVzLCBuYXRpdmVTdGF0dXNUZXh0LCByZXNwb25zZXMsIGhlYWRlcnMgKSB7XG5cdFx0XHRcdHZhciBpc1N1Y2Nlc3MsIHN1Y2Nlc3MsIGVycm9yLCByZXNwb25zZSwgbW9kaWZpZWQsXG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IG5hdGl2ZVN0YXR1c1RleHQ7XG5cdFxuXHRcdFx0XHQvLyBJZ25vcmUgcmVwZWF0IGludm9jYXRpb25zXG5cdFx0XHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Y29tcGxldGVkID0gdHJ1ZTtcblx0XG5cdFx0XHRcdC8vIENsZWFyIHRpbWVvdXQgaWYgaXQgZXhpc3RzXG5cdFx0XHRcdGlmICggdGltZW91dFRpbWVyICkge1xuXHRcdFx0XHRcdHdpbmRvdy5jbGVhclRpbWVvdXQoIHRpbWVvdXRUaW1lciApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBEZXJlZmVyZW5jZSB0cmFuc3BvcnQgZm9yIGVhcmx5IGdhcmJhZ2UgY29sbGVjdGlvblxuXHRcdFx0XHQvLyAobm8gbWF0dGVyIGhvdyBsb25nIHRoZSBqcVhIUiBvYmplY3Qgd2lsbCBiZSB1c2VkKVxuXHRcdFx0XHR0cmFuc3BvcnQgPSB1bmRlZmluZWQ7XG5cdFxuXHRcdFx0XHQvLyBDYWNoZSByZXNwb25zZSBoZWFkZXJzXG5cdFx0XHRcdHJlc3BvbnNlSGVhZGVyc1N0cmluZyA9IGhlYWRlcnMgfHwgXCJcIjtcblx0XG5cdFx0XHRcdC8vIFNldCByZWFkeVN0YXRlXG5cdFx0XHRcdGpxWEhSLnJlYWR5U3RhdGUgPSBzdGF0dXMgPiAwID8gNCA6IDA7XG5cdFxuXHRcdFx0XHQvLyBEZXRlcm1pbmUgaWYgc3VjY2Vzc2Z1bFxuXHRcdFx0XHRpc1N1Y2Nlc3MgPSBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMCB8fCBzdGF0dXMgPT09IDMwNDtcblx0XG5cdFx0XHRcdC8vIEdldCByZXNwb25zZSBkYXRhXG5cdFx0XHRcdGlmICggcmVzcG9uc2VzICkge1xuXHRcdFx0XHRcdHJlc3BvbnNlID0gYWpheEhhbmRsZVJlc3BvbnNlcyggcywganFYSFIsIHJlc3BvbnNlcyApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBDb252ZXJ0IG5vIG1hdHRlciB3aGF0ICh0aGF0IHdheSByZXNwb25zZVhYWCBmaWVsZHMgYXJlIGFsd2F5cyBzZXQpXG5cdFx0XHRcdHJlc3BvbnNlID0gYWpheENvbnZlcnQoIHMsIHJlc3BvbnNlLCBqcVhIUiwgaXNTdWNjZXNzICk7XG5cdFxuXHRcdFx0XHQvLyBJZiBzdWNjZXNzZnVsLCBoYW5kbGUgdHlwZSBjaGFpbmluZ1xuXHRcdFx0XHRpZiAoIGlzU3VjY2VzcyApIHtcblx0XG5cdFx0XHRcdFx0Ly8gU2V0IHRoZSBJZi1Nb2RpZmllZC1TaW5jZSBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIsIGlmIGluIGlmTW9kaWZpZWQgbW9kZS5cblx0XHRcdFx0XHRpZiAoIHMuaWZNb2RpZmllZCApIHtcblx0XHRcdFx0XHRcdG1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoIFwiTGFzdC1Nb2RpZmllZFwiICk7XG5cdFx0XHRcdFx0XHRpZiAoIG1vZGlmaWVkICkge1xuXHRcdFx0XHRcdFx0XHRqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdID0gbW9kaWZpZWQ7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRtb2RpZmllZCA9IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCBcImV0YWdcIiApO1xuXHRcdFx0XHRcdFx0aWYgKCBtb2RpZmllZCApIHtcblx0XHRcdFx0XHRcdFx0alF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIGlmIG5vIGNvbnRlbnRcblx0XHRcdFx0XHRpZiAoIHN0YXR1cyA9PT0gMjA0IHx8IHMudHlwZSA9PT0gXCJIRUFEXCIgKSB7XG5cdFx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gXCJub2NvbnRlbnRcIjtcblx0XG5cdFx0XHRcdFx0Ly8gaWYgbm90IG1vZGlmaWVkXG5cdFx0XHRcdFx0fSBlbHNlIGlmICggc3RhdHVzID09PSAzMDQgKSB7XG5cdFx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gXCJub3Rtb2RpZmllZFwiO1xuXHRcblx0XHRcdFx0XHQvLyBJZiB3ZSBoYXZlIGRhdGEsIGxldCdzIGNvbnZlcnQgaXRcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c3RhdHVzVGV4dCA9IHJlc3BvbnNlLnN0YXRlO1xuXHRcdFx0XHRcdFx0c3VjY2VzcyA9IHJlc3BvbnNlLmRhdGE7XG5cdFx0XHRcdFx0XHRlcnJvciA9IHJlc3BvbnNlLmVycm9yO1xuXHRcdFx0XHRcdFx0aXNTdWNjZXNzID0gIWVycm9yO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XG5cdFx0XHRcdFx0Ly8gRXh0cmFjdCBlcnJvciBmcm9tIHN0YXR1c1RleHQgYW5kIG5vcm1hbGl6ZSBmb3Igbm9uLWFib3J0c1xuXHRcdFx0XHRcdGVycm9yID0gc3RhdHVzVGV4dDtcblx0XHRcdFx0XHRpZiAoIHN0YXR1cyB8fCAhc3RhdHVzVGV4dCApIHtcblx0XHRcdFx0XHRcdHN0YXR1c1RleHQgPSBcImVycm9yXCI7XG5cdFx0XHRcdFx0XHRpZiAoIHN0YXR1cyA8IDAgKSB7XG5cdFx0XHRcdFx0XHRcdHN0YXR1cyA9IDA7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBTZXQgZGF0YSBmb3IgdGhlIGZha2UgeGhyIG9iamVjdFxuXHRcdFx0XHRqcVhIUi5zdGF0dXMgPSBzdGF0dXM7XG5cdFx0XHRcdGpxWEhSLnN0YXR1c1RleHQgPSAoIG5hdGl2ZVN0YXR1c1RleHQgfHwgc3RhdHVzVGV4dCApICsgXCJcIjtcblx0XG5cdFx0XHRcdC8vIFN1Y2Nlc3MvRXJyb3Jcblx0XHRcdFx0aWYgKCBpc1N1Y2Nlc3MgKSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBzdWNjZXNzLCBzdGF0dXNUZXh0LCBqcVhIUiBdICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0LCBlcnJvciBdICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRcdGpxWEhSLnN0YXR1c0NvZGUoIHN0YXR1c0NvZGUgKTtcblx0XHRcdFx0c3RhdHVzQ29kZSA9IHVuZGVmaW5lZDtcblx0XG5cdFx0XHRcdGlmICggZmlyZUdsb2JhbHMgKSB7XG5cdFx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIGlzU3VjY2VzcyA/IFwiYWpheFN1Y2Nlc3NcIiA6IFwiYWpheEVycm9yXCIsXG5cdFx0XHRcdFx0XHRbIGpxWEhSLCBzLCBpc1N1Y2Nlc3MgPyBzdWNjZXNzIDogZXJyb3IgXSApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBDb21wbGV0ZVxuXHRcdFx0XHRjb21wbGV0ZURlZmVycmVkLmZpcmVXaXRoKCBjYWxsYmFja0NvbnRleHQsIFsganFYSFIsIHN0YXR1c1RleHQgXSApO1xuXHRcblx0XHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0XHRnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggXCJhamF4Q29tcGxldGVcIiwgWyBqcVhIUiwgcyBdICk7XG5cdFxuXHRcdFx0XHRcdC8vIEhhbmRsZSB0aGUgZ2xvYmFsIEFKQVggY291bnRlclxuXHRcdFx0XHRcdGlmICggISggLS1qUXVlcnkuYWN0aXZlICkgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggXCJhamF4U3RvcFwiICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIGpxWEhSO1xuXHRcdH0sXG5cdFxuXHRcdGdldEpTT046IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIGNhbGxiYWNrICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5nZXQoIHVybCwgZGF0YSwgY2FsbGJhY2ssIFwianNvblwiICk7XG5cdFx0fSxcblx0XG5cdFx0Z2V0U2NyaXB0OiBmdW5jdGlvbiggdXJsLCBjYWxsYmFjayApIHtcblx0XHRcdHJldHVybiBqUXVlcnkuZ2V0KCB1cmwsIHVuZGVmaW5lZCwgY2FsbGJhY2ssIFwic2NyaXB0XCIgKTtcblx0XHR9XG5cdH0gKTtcblx0XG5cdGpRdWVyeS5lYWNoKCBbIFwiZ2V0XCIsIFwicG9zdFwiIF0sIGZ1bmN0aW9uKCBpLCBtZXRob2QgKSB7XG5cdFx0alF1ZXJ5WyBtZXRob2QgXSA9IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIGNhbGxiYWNrLCB0eXBlICkge1xuXHRcblx0XHRcdC8vIFNoaWZ0IGFyZ3VtZW50cyBpZiBkYXRhIGFyZ3VtZW50IHdhcyBvbWl0dGVkXG5cdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBkYXRhICkgKSB7XG5cdFx0XHRcdHR5cGUgPSB0eXBlIHx8IGNhbGxiYWNrO1xuXHRcdFx0XHRjYWxsYmFjayA9IGRhdGE7XG5cdFx0XHRcdGRhdGEgPSB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gVGhlIHVybCBjYW4gYmUgYW4gb3B0aW9ucyBvYmplY3QgKHdoaWNoIHRoZW4gbXVzdCBoYXZlIC51cmwpXG5cdFx0XHRyZXR1cm4galF1ZXJ5LmFqYXgoIGpRdWVyeS5leHRlbmQoIHtcblx0XHRcdFx0dXJsOiB1cmwsXG5cdFx0XHRcdHR5cGU6IG1ldGhvZCxcblx0XHRcdFx0ZGF0YVR5cGU6IHR5cGUsXG5cdFx0XHRcdGRhdGE6IGRhdGEsXG5cdFx0XHRcdHN1Y2Nlc3M6IGNhbGxiYWNrXG5cdFx0XHR9LCBqUXVlcnkuaXNQbGFpbk9iamVjdCggdXJsICkgJiYgdXJsICkgKTtcblx0XHR9O1xuXHR9ICk7XG5cdFxuXHRcblx0alF1ZXJ5Ll9ldmFsVXJsID0gZnVuY3Rpb24oIHVybCApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmFqYXgoIHtcblx0XHRcdHVybDogdXJsLFxuXHRcblx0XHRcdC8vIE1ha2UgdGhpcyBleHBsaWNpdCwgc2luY2UgdXNlciBjYW4gb3ZlcnJpZGUgdGhpcyB0aHJvdWdoIGFqYXhTZXR1cCAoIzExMjY0KVxuXHRcdFx0dHlwZTogXCJHRVRcIixcblx0XHRcdGRhdGFUeXBlOiBcInNjcmlwdFwiLFxuXHRcdFx0Y2FjaGU6IHRydWUsXG5cdFx0XHRhc3luYzogZmFsc2UsXG5cdFx0XHRnbG9iYWw6IGZhbHNlLFxuXHRcdFx0XCJ0aHJvd3NcIjogdHJ1ZVxuXHRcdH0gKTtcblx0fTtcblx0XG5cdFxuXHRqUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdFx0d3JhcEFsbDogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0XHR2YXIgd3JhcDtcblx0XG5cdFx0XHRpZiAoIHRoaXNbIDAgXSApIHtcblx0XHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggaHRtbCApICkge1xuXHRcdFx0XHRcdGh0bWwgPSBodG1sLmNhbGwoIHRoaXNbIDAgXSApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBUaGUgZWxlbWVudHMgdG8gd3JhcCB0aGUgdGFyZ2V0IGFyb3VuZFxuXHRcdFx0XHR3cmFwID0galF1ZXJ5KCBodG1sLCB0aGlzWyAwIF0ub3duZXJEb2N1bWVudCApLmVxKCAwICkuY2xvbmUoIHRydWUgKTtcblx0XG5cdFx0XHRcdGlmICggdGhpc1sgMCBdLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdFx0d3JhcC5pbnNlcnRCZWZvcmUoIHRoaXNbIDAgXSApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHR3cmFwLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dmFyIGVsZW0gPSB0aGlzO1xuXHRcblx0XHRcdFx0XHR3aGlsZSAoIGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQgKSB7XG5cdFx0XHRcdFx0XHRlbGVtID0gZWxlbS5maXJzdEVsZW1lbnRDaGlsZDtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdHJldHVybiBlbGVtO1xuXHRcdFx0XHR9ICkuYXBwZW5kKCB0aGlzICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XG5cdFx0d3JhcElubmVyOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGh0bWwgKSApIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5KCB0aGlzICkud3JhcElubmVyKCBodG1sLmNhbGwoIHRoaXMsIGkgKSApO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBzZWxmID0galF1ZXJ5KCB0aGlzICksXG5cdFx0XHRcdFx0Y29udGVudHMgPSBzZWxmLmNvbnRlbnRzKCk7XG5cdFxuXHRcdFx0XHRpZiAoIGNvbnRlbnRzLmxlbmd0aCApIHtcblx0XHRcdFx0XHRjb250ZW50cy53cmFwQWxsKCBodG1sICk7XG5cdFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHNlbGYuYXBwZW5kKCBodG1sICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9LFxuXHRcblx0XHR3cmFwOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHRcdHZhciBpc0Z1bmN0aW9uID0galF1ZXJ5LmlzRnVuY3Rpb24oIGh0bWwgKTtcblx0XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkud3JhcEFsbCggaXNGdW5jdGlvbiA/IGh0bWwuY2FsbCggdGhpcywgaSApIDogaHRtbCApO1xuXHRcdFx0fSApO1xuXHRcdH0sXG5cdFxuXHRcdHVud3JhcDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdFx0dGhpcy5wYXJlbnQoIHNlbGVjdG9yICkubm90KCBcImJvZHlcIiApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5yZXBsYWNlV2l0aCggdGhpcy5jaGlsZE5vZGVzICk7XG5cdFx0XHR9ICk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH0gKTtcblx0XG5cdFxuXHRqUXVlcnkuZXhwci5wc2V1ZG9zLmhpZGRlbiA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiAhalF1ZXJ5LmV4cHIucHNldWRvcy52aXNpYmxlKCBlbGVtICk7XG5cdH07XG5cdGpRdWVyeS5leHByLnBzZXVkb3MudmlzaWJsZSA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiAhISggZWxlbS5vZmZzZXRXaWR0aCB8fCBlbGVtLm9mZnNldEhlaWdodCB8fCBlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoICk7XG5cdH07XG5cdFxuXHRcblx0XG5cdFxuXHRqUXVlcnkuYWpheFNldHRpbmdzLnhociA9IGZ1bmN0aW9uKCkge1xuXHRcdHRyeSB7XG5cdFx0XHRyZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpO1xuXHRcdH0gY2F0Y2ggKCBlICkge31cblx0fTtcblx0XG5cdHZhciB4aHJTdWNjZXNzU3RhdHVzID0ge1xuXHRcblx0XHRcdC8vIEZpbGUgcHJvdG9jb2wgYWx3YXlzIHlpZWxkcyBzdGF0dXMgY29kZSAwLCBhc3N1bWUgMjAwXG5cdFx0XHQwOiAyMDAsXG5cdFxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHRcdC8vICMxNDUwOiBzb21ldGltZXMgSUUgcmV0dXJucyAxMjIzIHdoZW4gaXQgc2hvdWxkIGJlIDIwNFxuXHRcdFx0MTIyMzogMjA0XG5cdFx0fSxcblx0XHR4aHJTdXBwb3J0ZWQgPSBqUXVlcnkuYWpheFNldHRpbmdzLnhocigpO1xuXHRcblx0c3VwcG9ydC5jb3JzID0gISF4aHJTdXBwb3J0ZWQgJiYgKCBcIndpdGhDcmVkZW50aWFsc1wiIGluIHhoclN1cHBvcnRlZCApO1xuXHRzdXBwb3J0LmFqYXggPSB4aHJTdXBwb3J0ZWQgPSAhIXhoclN1cHBvcnRlZDtcblx0XG5cdGpRdWVyeS5hamF4VHJhbnNwb3J0KCBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0XHR2YXIgY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2s7XG5cdFxuXHRcdC8vIENyb3NzIGRvbWFpbiBvbmx5IGFsbG93ZWQgaWYgc3VwcG9ydGVkIHRocm91Z2ggWE1MSHR0cFJlcXVlc3Rcblx0XHRpZiAoIHN1cHBvcnQuY29ycyB8fCB4aHJTdXBwb3J0ZWQgJiYgIW9wdGlvbnMuY3Jvc3NEb21haW4gKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzZW5kOiBmdW5jdGlvbiggaGVhZGVycywgY29tcGxldGUgKSB7XG5cdFx0XHRcdFx0dmFyIGksXG5cdFx0XHRcdFx0XHR4aHIgPSBvcHRpb25zLnhocigpO1xuXHRcblx0XHRcdFx0XHR4aHIub3Blbihcblx0XHRcdFx0XHRcdG9wdGlvbnMudHlwZSxcblx0XHRcdFx0XHRcdG9wdGlvbnMudXJsLFxuXHRcdFx0XHRcdFx0b3B0aW9ucy5hc3luYyxcblx0XHRcdFx0XHRcdG9wdGlvbnMudXNlcm5hbWUsXG5cdFx0XHRcdFx0XHRvcHRpb25zLnBhc3N3b3JkXG5cdFx0XHRcdFx0KTtcblx0XG5cdFx0XHRcdFx0Ly8gQXBwbHkgY3VzdG9tIGZpZWxkcyBpZiBwcm92aWRlZFxuXHRcdFx0XHRcdGlmICggb3B0aW9ucy54aHJGaWVsZHMgKSB7XG5cdFx0XHRcdFx0XHRmb3IgKCBpIGluIG9wdGlvbnMueGhyRmllbGRzICkge1xuXHRcdFx0XHRcdFx0XHR4aHJbIGkgXSA9IG9wdGlvbnMueGhyRmllbGRzWyBpIF07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBPdmVycmlkZSBtaW1lIHR5cGUgaWYgbmVlZGVkXG5cdFx0XHRcdFx0aWYgKCBvcHRpb25zLm1pbWVUeXBlICYmIHhoci5vdmVycmlkZU1pbWVUeXBlICkge1xuXHRcdFx0XHRcdFx0eGhyLm92ZXJyaWRlTWltZVR5cGUoIG9wdGlvbnMubWltZVR5cGUgKTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIFgtUmVxdWVzdGVkLVdpdGggaGVhZGVyXG5cdFx0XHRcdFx0Ly8gRm9yIGNyb3NzLWRvbWFpbiByZXF1ZXN0cywgc2VlaW5nIGFzIGNvbmRpdGlvbnMgZm9yIGEgcHJlZmxpZ2h0IGFyZVxuXHRcdFx0XHRcdC8vIGFraW4gdG8gYSBqaWdzYXcgcHV6emxlLCB3ZSBzaW1wbHkgbmV2ZXIgc2V0IGl0IHRvIGJlIHN1cmUuXG5cdFx0XHRcdFx0Ly8gKGl0IGNhbiBhbHdheXMgYmUgc2V0IG9uIGEgcGVyLXJlcXVlc3QgYmFzaXMgb3IgZXZlbiB1c2luZyBhamF4U2V0dXApXG5cdFx0XHRcdFx0Ly8gRm9yIHNhbWUtZG9tYWluIHJlcXVlc3RzLCB3b24ndCBjaGFuZ2UgaGVhZGVyIGlmIGFscmVhZHkgcHJvdmlkZWQuXG5cdFx0XHRcdFx0aWYgKCAhb3B0aW9ucy5jcm9zc0RvbWFpbiAmJiAhaGVhZGVyc1sgXCJYLVJlcXVlc3RlZC1XaXRoXCIgXSApIHtcblx0XHRcdFx0XHRcdGhlYWRlcnNbIFwiWC1SZXF1ZXN0ZWQtV2l0aFwiIF0gPSBcIlhNTEh0dHBSZXF1ZXN0XCI7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBTZXQgaGVhZGVyc1xuXHRcdFx0XHRcdGZvciAoIGkgaW4gaGVhZGVycyApIHtcblx0XHRcdFx0XHRcdHhoci5zZXRSZXF1ZXN0SGVhZGVyKCBpLCBoZWFkZXJzWyBpIF0gKTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIENhbGxiYWNrXG5cdFx0XHRcdFx0Y2FsbGJhY2sgPSBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdFx0XHRjYWxsYmFjayA9IGVycm9yQ2FsbGJhY2sgPSB4aHIub25sb2FkID1cblx0XHRcdFx0XHRcdFx0XHRcdHhoci5vbmVycm9yID0geGhyLm9uYWJvcnQgPSB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcblx0XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCB0eXBlID09PSBcImFib3J0XCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR4aHIuYWJvcnQoKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCB0eXBlID09PSBcImVycm9yXCIgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHRcdFx0XHRcdFx0XHRcdC8vIE9uIGEgbWFudWFsIG5hdGl2ZSBhYm9ydCwgSUU5IHRocm93c1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gZXJyb3JzIG9uIGFueSBwcm9wZXJ0eSBhY2Nlc3MgdGhhdCBpcyBub3QgcmVhZHlTdGF0ZVxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCB0eXBlb2YgeGhyLnN0YXR1cyAhPT0gXCJudW1iZXJcIiApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29tcGxldGUoIDAsIFwiZXJyb3JcIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29tcGxldGUoXG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIEZpbGU6IHByb3RvY29sIGFsd2F5cyB5aWVsZHMgc3RhdHVzIDA7IHNlZSAjODYwNSwgIzE0MjA3XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0eGhyLnN0YXR1cyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzVGV4dFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb21wbGV0ZShcblx0XHRcdFx0XHRcdFx0XHRcdFx0eGhyU3VjY2Vzc1N0YXR1c1sgeGhyLnN0YXR1cyBdIHx8IHhoci5zdGF0dXMsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHhoci5zdGF0dXNUZXh0LFxuXHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gSUU5IGhhcyBubyBYSFIyIGJ1dCB0aHJvd3Mgb24gYmluYXJ5ICh0cmFjLTExNDI2KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBGb3IgWEhSMiBub24tdGV4dCwgbGV0IHRoZSBjYWxsZXIgaGFuZGxlIGl0IChnaC0yNDk4KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQoIHhoci5yZXNwb25zZVR5cGUgfHwgXCJ0ZXh0XCIgKSAhPT0gXCJ0ZXh0XCIgIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGVvZiB4aHIucmVzcG9uc2VUZXh0ICE9PSBcInN0cmluZ1wiID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7IGJpbmFyeTogeGhyLnJlc3BvbnNlIH0gOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHsgdGV4dDogeGhyLnJlc3BvbnNlVGV4dCB9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcblx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH07XG5cdFxuXHRcdFx0XHRcdC8vIExpc3RlbiB0byBldmVudHNcblx0XHRcdFx0XHR4aHIub25sb2FkID0gY2FsbGJhY2soKTtcblx0XHRcdFx0XHRlcnJvckNhbGxiYWNrID0geGhyLm9uZXJyb3IgPSBjYWxsYmFjayggXCJlcnJvclwiICk7XG5cdFxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDkgb25seVxuXHRcdFx0XHRcdC8vIFVzZSBvbnJlYWR5c3RhdGVjaGFuZ2UgdG8gcmVwbGFjZSBvbmFib3J0XG5cdFx0XHRcdFx0Ly8gdG8gaGFuZGxlIHVuY2F1Z2h0IGFib3J0c1xuXHRcdFx0XHRcdGlmICggeGhyLm9uYWJvcnQgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdHhoci5vbmFib3J0ID0gZXJyb3JDYWxsYmFjaztcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0eGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gQ2hlY2sgcmVhZHlTdGF0ZSBiZWZvcmUgdGltZW91dCBhcyBpdCBjaGFuZ2VzXG5cdFx0XHRcdFx0XHRcdGlmICggeGhyLnJlYWR5U3RhdGUgPT09IDQgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdC8vIEFsbG93IG9uZXJyb3IgdG8gYmUgY2FsbGVkIGZpcnN0LFxuXHRcdFx0XHRcdFx0XHRcdC8vIGJ1dCB0aGF0IHdpbGwgbm90IGhhbmRsZSBhIG5hdGl2ZSBhYm9ydFxuXHRcdFx0XHRcdFx0XHRcdC8vIEFsc28sIHNhdmUgZXJyb3JDYWxsYmFjayB0byBhIHZhcmlhYmxlXG5cdFx0XHRcdFx0XHRcdFx0Ly8gYXMgeGhyLm9uZXJyb3IgY2Fubm90IGJlIGFjY2Vzc2VkXG5cdFx0XHRcdFx0XHRcdFx0d2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZXJyb3JDYWxsYmFjaygpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIENyZWF0ZSB0aGUgYWJvcnQgY2FsbGJhY2tcblx0XHRcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrKCBcImFib3J0XCIgKTtcblx0XG5cdFx0XHRcdFx0dHJ5IHtcblx0XG5cdFx0XHRcdFx0XHQvLyBEbyBzZW5kIHRoZSByZXF1ZXN0ICh0aGlzIG1heSByYWlzZSBhbiBleGNlcHRpb24pXG5cdFx0XHRcdFx0XHR4aHIuc2VuZCggb3B0aW9ucy5oYXNDb250ZW50ICYmIG9wdGlvbnMuZGF0YSB8fCBudWxsICk7XG5cdFx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gIzE0NjgzOiBPbmx5IHJldGhyb3cgaWYgdGhpcyBoYXNuJ3QgYmVlbiBub3RpZmllZCBhcyBhbiBlcnJvciB5ZXRcblx0XHRcdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHRcdHRocm93IGU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0YWJvcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9XG5cdH0gKTtcblx0XG5cdFxuXHRcblx0XG5cdC8vIFByZXZlbnQgYXV0by1leGVjdXRpb24gb2Ygc2NyaXB0cyB3aGVuIG5vIGV4cGxpY2l0IGRhdGFUeXBlIHdhcyBwcm92aWRlZCAoU2VlIGdoLTI0MzIpXG5cdGpRdWVyeS5hamF4UHJlZmlsdGVyKCBmdW5jdGlvbiggcyApIHtcblx0XHRpZiAoIHMuY3Jvc3NEb21haW4gKSB7XG5cdFx0XHRzLmNvbnRlbnRzLnNjcmlwdCA9IGZhbHNlO1xuXHRcdH1cblx0fSApO1xuXHRcblx0Ly8gSW5zdGFsbCBzY3JpcHQgZGF0YVR5cGVcblx0alF1ZXJ5LmFqYXhTZXR1cCgge1xuXHRcdGFjY2VwdHM6IHtcblx0XHRcdHNjcmlwdDogXCJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIFwiICtcblx0XHRcdFx0XCJhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHRcIlxuXHRcdH0sXG5cdFx0Y29udGVudHM6IHtcblx0XHRcdHNjcmlwdDogL1xcYig/OmphdmF8ZWNtYSlzY3JpcHRcXGIvXG5cdFx0fSxcblx0XHRjb252ZXJ0ZXJzOiB7XG5cdFx0XHRcInRleHQgc2NyaXB0XCI6IGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRcdFx0XHRqUXVlcnkuZ2xvYmFsRXZhbCggdGV4dCApO1xuXHRcdFx0XHRyZXR1cm4gdGV4dDtcblx0XHRcdH1cblx0XHR9XG5cdH0gKTtcblx0XG5cdC8vIEhhbmRsZSBjYWNoZSdzIHNwZWNpYWwgY2FzZSBhbmQgY3Jvc3NEb21haW5cblx0alF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIFwic2NyaXB0XCIsIGZ1bmN0aW9uKCBzICkge1xuXHRcdGlmICggcy5jYWNoZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0cy5jYWNoZSA9IGZhbHNlO1xuXHRcdH1cblx0XHRpZiAoIHMuY3Jvc3NEb21haW4gKSB7XG5cdFx0XHRzLnR5cGUgPSBcIkdFVFwiO1xuXHRcdH1cblx0fSApO1xuXHRcblx0Ly8gQmluZCBzY3JpcHQgdGFnIGhhY2sgdHJhbnNwb3J0XG5cdGpRdWVyeS5hamF4VHJhbnNwb3J0KCBcInNjcmlwdFwiLCBmdW5jdGlvbiggcyApIHtcblx0XG5cdFx0Ly8gVGhpcyB0cmFuc3BvcnQgb25seSBkZWFscyB3aXRoIGNyb3NzIGRvbWFpbiByZXF1ZXN0c1xuXHRcdGlmICggcy5jcm9zc0RvbWFpbiApIHtcblx0XHRcdHZhciBzY3JpcHQsIGNhbGxiYWNrO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c2VuZDogZnVuY3Rpb24oIF8sIGNvbXBsZXRlICkge1xuXHRcdFx0XHRcdHNjcmlwdCA9IGpRdWVyeSggXCI8c2NyaXB0PlwiICkucHJvcCgge1xuXHRcdFx0XHRcdFx0Y2hhcnNldDogcy5zY3JpcHRDaGFyc2V0LFxuXHRcdFx0XHRcdFx0c3JjOiBzLnVybFxuXHRcdFx0XHRcdH0gKS5vbihcblx0XHRcdFx0XHRcdFwibG9hZCBlcnJvclwiLFxuXHRcdFx0XHRcdFx0Y2FsbGJhY2sgPSBmdW5jdGlvbiggZXZ0ICkge1xuXHRcdFx0XHRcdFx0XHRzY3JpcHQucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRcdGNhbGxiYWNrID0gbnVsbDtcblx0XHRcdFx0XHRcdFx0aWYgKCBldnQgKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29tcGxldGUoIGV2dC50eXBlID09PSBcImVycm9yXCIgPyA0MDQgOiAyMDAsIGV2dC50eXBlICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHQpO1xuXHRcblx0XHRcdFx0XHQvLyBVc2UgbmF0aXZlIERPTSBtYW5pcHVsYXRpb24gdG8gYXZvaWQgb3VyIGRvbU1hbmlwIEFKQVggdHJpY2tlcnlcblx0XHRcdFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKCBzY3JpcHRbIDAgXSApO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRhYm9ydDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH1cblx0fSApO1xuXHRcblx0XG5cdFxuXHRcblx0dmFyIG9sZENhbGxiYWNrcyA9IFtdLFxuXHRcdHJqc29ucCA9IC8oPSlcXD8oPz0mfCQpfFxcP1xcPy87XG5cdFxuXHQvLyBEZWZhdWx0IGpzb25wIHNldHRpbmdzXG5cdGpRdWVyeS5hamF4U2V0dXAoIHtcblx0XHRqc29ucDogXCJjYWxsYmFja1wiLFxuXHRcdGpzb25wQ2FsbGJhY2s6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGNhbGxiYWNrID0gb2xkQ2FsbGJhY2tzLnBvcCgpIHx8ICggalF1ZXJ5LmV4cGFuZG8gKyBcIl9cIiArICggbm9uY2UrKyApICk7XG5cdFx0XHR0aGlzWyBjYWxsYmFjayBdID0gdHJ1ZTtcblx0XHRcdHJldHVybiBjYWxsYmFjaztcblx0XHR9XG5cdH0gKTtcblx0XG5cdC8vIERldGVjdCwgbm9ybWFsaXplIG9wdGlvbnMgYW5kIGluc3RhbGwgY2FsbGJhY2tzIGZvciBqc29ucCByZXF1ZXN0c1xuXHRqUXVlcnkuYWpheFByZWZpbHRlciggXCJqc29uIGpzb25wXCIsIGZ1bmN0aW9uKCBzLCBvcmlnaW5hbFNldHRpbmdzLCBqcVhIUiApIHtcblx0XG5cdFx0dmFyIGNhbGxiYWNrTmFtZSwgb3ZlcndyaXR0ZW4sIHJlc3BvbnNlQ29udGFpbmVyLFxuXHRcdFx0anNvblByb3AgPSBzLmpzb25wICE9PSBmYWxzZSAmJiAoIHJqc29ucC50ZXN0KCBzLnVybCApID9cblx0XHRcdFx0XCJ1cmxcIiA6XG5cdFx0XHRcdHR5cGVvZiBzLmRhdGEgPT09IFwic3RyaW5nXCIgJiZcblx0XHRcdFx0XHQoIHMuY29udGVudFR5cGUgfHwgXCJcIiApXG5cdFx0XHRcdFx0XHQuaW5kZXhPZiggXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiApID09PSAwICYmXG5cdFx0XHRcdFx0cmpzb25wLnRlc3QoIHMuZGF0YSApICYmIFwiZGF0YVwiXG5cdFx0XHQpO1xuXHRcblx0XHQvLyBIYW5kbGUgaWZmIHRoZSBleHBlY3RlZCBkYXRhIHR5cGUgaXMgXCJqc29ucFwiIG9yIHdlIGhhdmUgYSBwYXJhbWV0ZXIgdG8gc2V0XG5cdFx0aWYgKCBqc29uUHJvcCB8fCBzLmRhdGFUeXBlc1sgMCBdID09PSBcImpzb25wXCIgKSB7XG5cdFxuXHRcdFx0Ly8gR2V0IGNhbGxiYWNrIG5hbWUsIHJlbWVtYmVyaW5nIHByZWV4aXN0aW5nIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCBpdFxuXHRcdFx0Y2FsbGJhY2tOYW1lID0gcy5qc29ucENhbGxiYWNrID0galF1ZXJ5LmlzRnVuY3Rpb24oIHMuanNvbnBDYWxsYmFjayApID9cblx0XHRcdFx0cy5qc29ucENhbGxiYWNrKCkgOlxuXHRcdFx0XHRzLmpzb25wQ2FsbGJhY2s7XG5cdFxuXHRcdFx0Ly8gSW5zZXJ0IGNhbGxiYWNrIGludG8gdXJsIG9yIGZvcm0gZGF0YVxuXHRcdFx0aWYgKCBqc29uUHJvcCApIHtcblx0XHRcdFx0c1sganNvblByb3AgXSA9IHNbIGpzb25Qcm9wIF0ucmVwbGFjZSggcmpzb25wLCBcIiQxXCIgKyBjYWxsYmFja05hbWUgKTtcblx0XHRcdH0gZWxzZSBpZiAoIHMuanNvbnAgIT09IGZhbHNlICkge1xuXHRcdFx0XHRzLnVybCArPSAoIHJxdWVyeS50ZXN0KCBzLnVybCApID8gXCImXCIgOiBcIj9cIiApICsgcy5qc29ucCArIFwiPVwiICsgY2FsbGJhY2tOYW1lO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFVzZSBkYXRhIGNvbnZlcnRlciB0byByZXRyaWV2ZSBqc29uIGFmdGVyIHNjcmlwdCBleGVjdXRpb25cblx0XHRcdHMuY29udmVydGVyc1sgXCJzY3JpcHQganNvblwiIF0gPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCAhcmVzcG9uc2VDb250YWluZXIgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmVycm9yKCBjYWxsYmFja05hbWUgKyBcIiB3YXMgbm90IGNhbGxlZFwiICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHJlc3BvbnNlQ29udGFpbmVyWyAwIF07XG5cdFx0XHR9O1xuXHRcblx0XHRcdC8vIEZvcmNlIGpzb24gZGF0YVR5cGVcblx0XHRcdHMuZGF0YVR5cGVzWyAwIF0gPSBcImpzb25cIjtcblx0XG5cdFx0XHQvLyBJbnN0YWxsIGNhbGxiYWNrXG5cdFx0XHRvdmVyd3JpdHRlbiA9IHdpbmRvd1sgY2FsbGJhY2tOYW1lIF07XG5cdFx0XHR3aW5kb3dbIGNhbGxiYWNrTmFtZSBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJlc3BvbnNlQ29udGFpbmVyID0gYXJndW1lbnRzO1xuXHRcdFx0fTtcblx0XG5cdFx0XHQvLyBDbGVhbi11cCBmdW5jdGlvbiAoZmlyZXMgYWZ0ZXIgY29udmVydGVycylcblx0XHRcdGpxWEhSLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHQvLyBJZiBwcmV2aW91cyB2YWx1ZSBkaWRuJ3QgZXhpc3QgLSByZW1vdmUgaXRcblx0XHRcdFx0aWYgKCBvdmVyd3JpdHRlbiA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdGpRdWVyeSggd2luZG93ICkucmVtb3ZlUHJvcCggY2FsbGJhY2tOYW1lICk7XG5cdFxuXHRcdFx0XHQvLyBPdGhlcndpc2UgcmVzdG9yZSBwcmVleGlzdGluZyB2YWx1ZVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHdpbmRvd1sgY2FsbGJhY2tOYW1lIF0gPSBvdmVyd3JpdHRlbjtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gU2F2ZSBiYWNrIGFzIGZyZWVcblx0XHRcdFx0aWYgKCBzWyBjYWxsYmFja05hbWUgXSApIHtcblx0XG5cdFx0XHRcdFx0Ly8gTWFrZSBzdXJlIHRoYXQgcmUtdXNpbmcgdGhlIG9wdGlvbnMgZG9lc24ndCBzY3JldyB0aGluZ3MgYXJvdW5kXG5cdFx0XHRcdFx0cy5qc29ucENhbGxiYWNrID0gb3JpZ2luYWxTZXR0aW5ncy5qc29ucENhbGxiYWNrO1xuXHRcblx0XHRcdFx0XHQvLyBTYXZlIHRoZSBjYWxsYmFjayBuYW1lIGZvciBmdXR1cmUgdXNlXG5cdFx0XHRcdFx0b2xkQ2FsbGJhY2tzLnB1c2goIGNhbGxiYWNrTmFtZSApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBDYWxsIGlmIGl0IHdhcyBhIGZ1bmN0aW9uIGFuZCB3ZSBoYXZlIGEgcmVzcG9uc2Vcblx0XHRcdFx0aWYgKCByZXNwb25zZUNvbnRhaW5lciAmJiBqUXVlcnkuaXNGdW5jdGlvbiggb3ZlcndyaXR0ZW4gKSApIHtcblx0XHRcdFx0XHRvdmVyd3JpdHRlbiggcmVzcG9uc2VDb250YWluZXJbIDAgXSApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRyZXNwb25zZUNvbnRhaW5lciA9IG92ZXJ3cml0dGVuID0gdW5kZWZpbmVkO1xuXHRcdFx0fSApO1xuXHRcblx0XHRcdC8vIERlbGVnYXRlIHRvIHNjcmlwdFxuXHRcdFx0cmV0dXJuIFwic2NyaXB0XCI7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRcblx0XG5cdFxuXHQvLyBTdXBwb3J0OiBTYWZhcmkgOCBvbmx5XG5cdC8vIEluIFNhZmFyaSA4IGRvY3VtZW50cyBjcmVhdGVkIHZpYSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnRcblx0Ly8gY29sbGFwc2Ugc2libGluZyBmb3JtczogdGhlIHNlY29uZCBvbmUgYmVjb21lcyBhIGNoaWxkIG9mIHRoZSBmaXJzdCBvbmUuXG5cdC8vIEJlY2F1c2Ugb2YgdGhhdCwgdGhpcyBzZWN1cml0eSBtZWFzdXJlIGhhcyB0byBiZSBkaXNhYmxlZCBpbiBTYWZhcmkgOC5cblx0Ly8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzNzMzN1xuXHRzdXBwb3J0LmNyZWF0ZUhUTUxEb2N1bWVudCA9ICggZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGJvZHkgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIFwiXCIgKS5ib2R5O1xuXHRcdGJvZHkuaW5uZXJIVE1MID0gXCI8Zm9ybT48L2Zvcm0+PGZvcm0+PC9mb3JtPlwiO1xuXHRcdHJldHVybiBib2R5LmNoaWxkTm9kZXMubGVuZ3RoID09PSAyO1xuXHR9ICkoKTtcblx0XG5cdFxuXHQvLyBBcmd1bWVudCBcImRhdGFcIiBzaG91bGQgYmUgc3RyaW5nIG9mIGh0bWxcblx0Ly8gY29udGV4dCAob3B0aW9uYWwpOiBJZiBzcGVjaWZpZWQsIHRoZSBmcmFnbWVudCB3aWxsIGJlIGNyZWF0ZWQgaW4gdGhpcyBjb250ZXh0LFxuXHQvLyBkZWZhdWx0cyB0byBkb2N1bWVudFxuXHQvLyBrZWVwU2NyaXB0cyAob3B0aW9uYWwpOiBJZiB0cnVlLCB3aWxsIGluY2x1ZGUgc2NyaXB0cyBwYXNzZWQgaW4gdGhlIGh0bWwgc3RyaW5nXG5cdGpRdWVyeS5wYXJzZUhUTUwgPSBmdW5jdGlvbiggZGF0YSwgY29udGV4dCwga2VlcFNjcmlwdHMgKSB7XG5cdFx0aWYgKCB0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiBbXTtcblx0XHR9XG5cdFx0aWYgKCB0eXBlb2YgY29udGV4dCA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0XHRrZWVwU2NyaXB0cyA9IGNvbnRleHQ7XG5cdFx0XHRjb250ZXh0ID0gZmFsc2U7XG5cdFx0fVxuXHRcblx0XHR2YXIgYmFzZSwgcGFyc2VkLCBzY3JpcHRzO1xuXHRcblx0XHRpZiAoICFjb250ZXh0ICkge1xuXHRcblx0XHRcdC8vIFN0b3Agc2NyaXB0cyBvciBpbmxpbmUgZXZlbnQgaGFuZGxlcnMgZnJvbSBiZWluZyBleGVjdXRlZCBpbW1lZGlhdGVseVxuXHRcdFx0Ly8gYnkgdXNpbmcgZG9jdW1lbnQuaW1wbGVtZW50YXRpb25cblx0XHRcdGlmICggc3VwcG9ydC5jcmVhdGVIVE1MRG9jdW1lbnQgKSB7XG5cdFx0XHRcdGNvbnRleHQgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIFwiXCIgKTtcblx0XG5cdFx0XHRcdC8vIFNldCB0aGUgYmFzZSBocmVmIGZvciB0aGUgY3JlYXRlZCBkb2N1bWVudFxuXHRcdFx0XHQvLyBzbyBhbnkgcGFyc2VkIGVsZW1lbnRzIHdpdGggVVJMc1xuXHRcdFx0XHQvLyBhcmUgYmFzZWQgb24gdGhlIGRvY3VtZW50J3MgVVJMIChnaC0yOTY1KVxuXHRcdFx0XHRiYXNlID0gY29udGV4dC5jcmVhdGVFbGVtZW50KCBcImJhc2VcIiApO1xuXHRcdFx0XHRiYXNlLmhyZWYgPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmO1xuXHRcdFx0XHRjb250ZXh0LmhlYWQuYXBwZW5kQ2hpbGQoIGJhc2UgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnRleHQgPSBkb2N1bWVudDtcblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdHBhcnNlZCA9IHJzaW5nbGVUYWcuZXhlYyggZGF0YSApO1xuXHRcdHNjcmlwdHMgPSAha2VlcFNjcmlwdHMgJiYgW107XG5cdFxuXHRcdC8vIFNpbmdsZSB0YWdcblx0XHRpZiAoIHBhcnNlZCApIHtcblx0XHRcdHJldHVybiBbIGNvbnRleHQuY3JlYXRlRWxlbWVudCggcGFyc2VkWyAxIF0gKSBdO1xuXHRcdH1cblx0XG5cdFx0cGFyc2VkID0gYnVpbGRGcmFnbWVudCggWyBkYXRhIF0sIGNvbnRleHQsIHNjcmlwdHMgKTtcblx0XG5cdFx0aWYgKCBzY3JpcHRzICYmIHNjcmlwdHMubGVuZ3RoICkge1xuXHRcdFx0alF1ZXJ5KCBzY3JpcHRzICkucmVtb3ZlKCk7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4galF1ZXJ5Lm1lcmdlKCBbXSwgcGFyc2VkLmNoaWxkTm9kZXMgKTtcblx0fTtcblx0XG5cdFxuXHQvKipcblx0ICogTG9hZCBhIHVybCBpbnRvIGEgcGFnZVxuXHQgKi9cblx0alF1ZXJ5LmZuLmxvYWQgPSBmdW5jdGlvbiggdXJsLCBwYXJhbXMsIGNhbGxiYWNrICkge1xuXHRcdHZhciBzZWxlY3RvciwgdHlwZSwgcmVzcG9uc2UsXG5cdFx0XHRzZWxmID0gdGhpcyxcblx0XHRcdG9mZiA9IHVybC5pbmRleE9mKCBcIiBcIiApO1xuXHRcblx0XHRpZiAoIG9mZiA+IC0xICkge1xuXHRcdFx0c2VsZWN0b3IgPSBqUXVlcnkudHJpbSggdXJsLnNsaWNlKCBvZmYgKSApO1xuXHRcdFx0dXJsID0gdXJsLnNsaWNlKCAwLCBvZmYgKTtcblx0XHR9XG5cdFxuXHRcdC8vIElmIGl0J3MgYSBmdW5jdGlvblxuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHBhcmFtcyApICkge1xuXHRcblx0XHRcdC8vIFdlIGFzc3VtZSB0aGF0IGl0J3MgdGhlIGNhbGxiYWNrXG5cdFx0XHRjYWxsYmFjayA9IHBhcmFtcztcblx0XHRcdHBhcmFtcyA9IHVuZGVmaW5lZDtcblx0XG5cdFx0Ly8gT3RoZXJ3aXNlLCBidWlsZCBhIHBhcmFtIHN0cmluZ1xuXHRcdH0gZWxzZSBpZiAoIHBhcmFtcyAmJiB0eXBlb2YgcGFyYW1zID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0dHlwZSA9IFwiUE9TVFwiO1xuXHRcdH1cblx0XG5cdFx0Ly8gSWYgd2UgaGF2ZSBlbGVtZW50cyB0byBtb2RpZnksIG1ha2UgdGhlIHJlcXVlc3Rcblx0XHRpZiAoIHNlbGYubGVuZ3RoID4gMCApIHtcblx0XHRcdGpRdWVyeS5hamF4KCB7XG5cdFx0XHRcdHVybDogdXJsLFxuXHRcblx0XHRcdFx0Ly8gSWYgXCJ0eXBlXCIgdmFyaWFibGUgaXMgdW5kZWZpbmVkLCB0aGVuIFwiR0VUXCIgbWV0aG9kIHdpbGwgYmUgdXNlZC5cblx0XHRcdFx0Ly8gTWFrZSB2YWx1ZSBvZiB0aGlzIGZpZWxkIGV4cGxpY2l0IHNpbmNlXG5cdFx0XHRcdC8vIHVzZXIgY2FuIG92ZXJyaWRlIGl0IHRocm91Z2ggYWpheFNldHVwIG1ldGhvZFxuXHRcdFx0XHR0eXBlOiB0eXBlIHx8IFwiR0VUXCIsXG5cdFx0XHRcdGRhdGFUeXBlOiBcImh0bWxcIixcblx0XHRcdFx0ZGF0YTogcGFyYW1zXG5cdFx0XHR9ICkuZG9uZSggZnVuY3Rpb24oIHJlc3BvbnNlVGV4dCApIHtcblx0XG5cdFx0XHRcdC8vIFNhdmUgcmVzcG9uc2UgZm9yIHVzZSBpbiBjb21wbGV0ZSBjYWxsYmFja1xuXHRcdFx0XHRyZXNwb25zZSA9IGFyZ3VtZW50cztcblx0XG5cdFx0XHRcdHNlbGYuaHRtbCggc2VsZWN0b3IgP1xuXHRcblx0XHRcdFx0XHQvLyBJZiBhIHNlbGVjdG9yIHdhcyBzcGVjaWZpZWQsIGxvY2F0ZSB0aGUgcmlnaHQgZWxlbWVudHMgaW4gYSBkdW1teSBkaXZcblx0XHRcdFx0XHQvLyBFeGNsdWRlIHNjcmlwdHMgdG8gYXZvaWQgSUUgJ1Blcm1pc3Npb24gRGVuaWVkJyBlcnJvcnNcblx0XHRcdFx0XHRqUXVlcnkoIFwiPGRpdj5cIiApLmFwcGVuZCggalF1ZXJ5LnBhcnNlSFRNTCggcmVzcG9uc2VUZXh0ICkgKS5maW5kKCBzZWxlY3RvciApIDpcblx0XG5cdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlIHVzZSB0aGUgZnVsbCByZXN1bHRcblx0XHRcdFx0XHRyZXNwb25zZVRleHQgKTtcblx0XG5cdFx0XHQvLyBJZiB0aGUgcmVxdWVzdCBzdWNjZWVkcywgdGhpcyBmdW5jdGlvbiBnZXRzIFwiZGF0YVwiLCBcInN0YXR1c1wiLCBcImpxWEhSXCJcblx0XHRcdC8vIGJ1dCB0aGV5IGFyZSBpZ25vcmVkIGJlY2F1c2UgcmVzcG9uc2Ugd2FzIHNldCBhYm92ZS5cblx0XHRcdC8vIElmIGl0IGZhaWxzLCB0aGlzIGZ1bmN0aW9uIGdldHMgXCJqcVhIUlwiLCBcInN0YXR1c1wiLCBcImVycm9yXCJcblx0XHRcdH0gKS5hbHdheXMoIGNhbGxiYWNrICYmIGZ1bmN0aW9uKCBqcVhIUiwgc3RhdHVzICkge1xuXHRcdFx0XHRzZWxmLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGNhbGxiYWNrLmFwcGx5KCB0aGlzLCByZXNwb25zZSB8fCBbIGpxWEhSLnJlc3BvbnNlVGV4dCwgc3RhdHVzLCBqcVhIUiBdICk7XG5cdFx0XHRcdH0gKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cdFxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXHRcblx0XG5cdFxuXHRcblx0Ly8gQXR0YWNoIGEgYnVuY2ggb2YgZnVuY3Rpb25zIGZvciBoYW5kbGluZyBjb21tb24gQUpBWCBldmVudHNcblx0alF1ZXJ5LmVhY2goIFtcblx0XHRcImFqYXhTdGFydFwiLFxuXHRcdFwiYWpheFN0b3BcIixcblx0XHRcImFqYXhDb21wbGV0ZVwiLFxuXHRcdFwiYWpheEVycm9yXCIsXG5cdFx0XCJhamF4U3VjY2Vzc1wiLFxuXHRcdFwiYWpheFNlbmRcIlxuXHRdLCBmdW5jdGlvbiggaSwgdHlwZSApIHtcblx0XHRqUXVlcnkuZm5bIHR5cGUgXSA9IGZ1bmN0aW9uKCBmbiApIHtcblx0XHRcdHJldHVybiB0aGlzLm9uKCB0eXBlLCBmbiApO1xuXHRcdH07XG5cdH0gKTtcblx0XG5cdFxuXHRcblx0XG5cdGpRdWVyeS5leHByLnBzZXVkb3MuYW5pbWF0ZWQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGpRdWVyeS50aW1lcnMsIGZ1bmN0aW9uKCBmbiApIHtcblx0XHRcdHJldHVybiBlbGVtID09PSBmbi5lbGVtO1xuXHRcdH0gKS5sZW5ndGg7XG5cdH07XG5cdFxuXHRcblx0XG5cdFxuXHQvKipcblx0ICogR2V0cyBhIHdpbmRvdyBmcm9tIGFuIGVsZW1lbnRcblx0ICovXG5cdGZ1bmN0aW9uIGdldFdpbmRvdyggZWxlbSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmlzV2luZG93KCBlbGVtICkgPyBlbGVtIDogZWxlbS5ub2RlVHlwZSA9PT0gOSAmJiBlbGVtLmRlZmF1bHRWaWV3O1xuXHR9XG5cdFxuXHRqUXVlcnkub2Zmc2V0ID0ge1xuXHRcdHNldE9mZnNldDogZnVuY3Rpb24oIGVsZW0sIG9wdGlvbnMsIGkgKSB7XG5cdFx0XHR2YXIgY3VyUG9zaXRpb24sIGN1ckxlZnQsIGN1ckNTU1RvcCwgY3VyVG9wLCBjdXJPZmZzZXQsIGN1ckNTU0xlZnQsIGNhbGN1bGF0ZVBvc2l0aW9uLFxuXHRcdFx0XHRwb3NpdGlvbiA9IGpRdWVyeS5jc3MoIGVsZW0sIFwicG9zaXRpb25cIiApLFxuXHRcdFx0XHRjdXJFbGVtID0galF1ZXJ5KCBlbGVtICksXG5cdFx0XHRcdHByb3BzID0ge307XG5cdFxuXHRcdFx0Ly8gU2V0IHBvc2l0aW9uIGZpcnN0LCBpbi1jYXNlIHRvcC9sZWZ0IGFyZSBzZXQgZXZlbiBvbiBzdGF0aWMgZWxlbVxuXHRcdFx0aWYgKCBwb3NpdGlvbiA9PT0gXCJzdGF0aWNcIiApIHtcblx0XHRcdFx0ZWxlbS5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcblx0XHRcdH1cblx0XG5cdFx0XHRjdXJPZmZzZXQgPSBjdXJFbGVtLm9mZnNldCgpO1xuXHRcdFx0Y3VyQ1NTVG9wID0galF1ZXJ5LmNzcyggZWxlbSwgXCJ0b3BcIiApO1xuXHRcdFx0Y3VyQ1NTTGVmdCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwibGVmdFwiICk7XG5cdFx0XHRjYWxjdWxhdGVQb3NpdGlvbiA9ICggcG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIiB8fCBwb3NpdGlvbiA9PT0gXCJmaXhlZFwiICkgJiZcblx0XHRcdFx0KCBjdXJDU1NUb3AgKyBjdXJDU1NMZWZ0ICkuaW5kZXhPZiggXCJhdXRvXCIgKSA+IC0xO1xuXHRcblx0XHRcdC8vIE5lZWQgdG8gYmUgYWJsZSB0byBjYWxjdWxhdGUgcG9zaXRpb24gaWYgZWl0aGVyXG5cdFx0XHQvLyB0b3Agb3IgbGVmdCBpcyBhdXRvIGFuZCBwb3NpdGlvbiBpcyBlaXRoZXIgYWJzb2x1dGUgb3IgZml4ZWRcblx0XHRcdGlmICggY2FsY3VsYXRlUG9zaXRpb24gKSB7XG5cdFx0XHRcdGN1clBvc2l0aW9uID0gY3VyRWxlbS5wb3NpdGlvbigpO1xuXHRcdFx0XHRjdXJUb3AgPSBjdXJQb3NpdGlvbi50b3A7XG5cdFx0XHRcdGN1ckxlZnQgPSBjdXJQb3NpdGlvbi5sZWZ0O1xuXHRcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGN1clRvcCA9IHBhcnNlRmxvYXQoIGN1ckNTU1RvcCApIHx8IDA7XG5cdFx0XHRcdGN1ckxlZnQgPSBwYXJzZUZsb2F0KCBjdXJDU1NMZWZ0ICkgfHwgMDtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBvcHRpb25zICkgKSB7XG5cdFxuXHRcdFx0XHQvLyBVc2UgalF1ZXJ5LmV4dGVuZCBoZXJlIHRvIGFsbG93IG1vZGlmaWNhdGlvbiBvZiBjb29yZGluYXRlcyBhcmd1bWVudCAoZ2gtMTg0OClcblx0XHRcdFx0b3B0aW9ucyA9IG9wdGlvbnMuY2FsbCggZWxlbSwgaSwgalF1ZXJ5LmV4dGVuZCgge30sIGN1ck9mZnNldCApICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCBvcHRpb25zLnRvcCAhPSBudWxsICkge1xuXHRcdFx0XHRwcm9wcy50b3AgPSAoIG9wdGlvbnMudG9wIC0gY3VyT2Zmc2V0LnRvcCApICsgY3VyVG9wO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBvcHRpb25zLmxlZnQgIT0gbnVsbCApIHtcblx0XHRcdFx0cHJvcHMubGVmdCA9ICggb3B0aW9ucy5sZWZ0IC0gY3VyT2Zmc2V0LmxlZnQgKSArIGN1ckxlZnQ7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCBcInVzaW5nXCIgaW4gb3B0aW9ucyApIHtcblx0XHRcdFx0b3B0aW9ucy51c2luZy5jYWxsKCBlbGVtLCBwcm9wcyApO1xuXHRcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGN1ckVsZW0uY3NzKCBwcm9wcyApO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0XG5cdGpRdWVyeS5mbi5leHRlbmQoIHtcblx0XHRvZmZzZXQ6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXHRcblx0XHRcdC8vIFByZXNlcnZlIGNoYWluaW5nIGZvciBzZXR0ZXJcblx0XHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdFx0cmV0dXJuIG9wdGlvbnMgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdFx0dGhpcyA6XG5cdFx0XHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5vZmZzZXQuc2V0T2Zmc2V0KCB0aGlzLCBvcHRpb25zLCBpICk7XG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdHZhciBkb2NFbGVtLCB3aW4sIHJlY3QsIGRvYyxcblx0XHRcdFx0ZWxlbSA9IHRoaXNbIDAgXTtcblx0XG5cdFx0XHRpZiAoICFlbGVtICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdFx0XHQvLyBSdW5uaW5nIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBvbiBhXG5cdFx0XHQvLyBkaXNjb25uZWN0ZWQgbm9kZSBpbiBJRSB0aHJvd3MgYW4gZXJyb3Jcblx0XHRcdGlmICggIWVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJldHVybiB7IHRvcDogMCwgbGVmdDogMCB9O1xuXHRcdFx0fVxuXHRcblx0XHRcdHJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcblx0XHRcdC8vIE1ha2Ugc3VyZSBlbGVtZW50IGlzIG5vdCBoaWRkZW4gKGRpc3BsYXk6IG5vbmUpXG5cdFx0XHRpZiAoIHJlY3Qud2lkdGggfHwgcmVjdC5oZWlnaHQgKSB7XG5cdFx0XHRcdGRvYyA9IGVsZW0ub3duZXJEb2N1bWVudDtcblx0XHRcdFx0d2luID0gZ2V0V2luZG93KCBkb2MgKTtcblx0XHRcdFx0ZG9jRWxlbSA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG5cdFxuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHRvcDogcmVjdC50b3AgKyB3aW4ucGFnZVlPZmZzZXQgLSBkb2NFbGVtLmNsaWVudFRvcCxcblx0XHRcdFx0XHRsZWZ0OiByZWN0LmxlZnQgKyB3aW4ucGFnZVhPZmZzZXQgLSBkb2NFbGVtLmNsaWVudExlZnRcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBSZXR1cm4gemVyb3MgZm9yIGRpc2Nvbm5lY3RlZCBhbmQgaGlkZGVuIGVsZW1lbnRzIChnaC0yMzEwKVxuXHRcdFx0cmV0dXJuIHJlY3Q7XG5cdFx0fSxcblx0XG5cdFx0cG9zaXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCAhdGhpc1sgMCBdICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0dmFyIG9mZnNldFBhcmVudCwgb2Zmc2V0LFxuXHRcdFx0XHRlbGVtID0gdGhpc1sgMCBdLFxuXHRcdFx0XHRwYXJlbnRPZmZzZXQgPSB7IHRvcDogMCwgbGVmdDogMCB9O1xuXHRcblx0XHRcdC8vIEZpeGVkIGVsZW1lbnRzIGFyZSBvZmZzZXQgZnJvbSB3aW5kb3cgKHBhcmVudE9mZnNldCA9IHt0b3A6MCwgbGVmdDogMH0sXG5cdFx0XHQvLyBiZWNhdXNlIGl0IGlzIGl0cyBvbmx5IG9mZnNldCBwYXJlbnRcblx0XHRcdGlmICggalF1ZXJ5LmNzcyggZWxlbSwgXCJwb3NpdGlvblwiICkgPT09IFwiZml4ZWRcIiApIHtcblx0XG5cdFx0XHRcdC8vIEFzc3VtZSBnZXRCb3VuZGluZ0NsaWVudFJlY3QgaXMgdGhlcmUgd2hlbiBjb21wdXRlZCBwb3NpdGlvbiBpcyBmaXhlZFxuXHRcdFx0XHRvZmZzZXQgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcblx0XHRcdH0gZWxzZSB7XG5cdFxuXHRcdFx0XHQvLyBHZXQgKnJlYWwqIG9mZnNldFBhcmVudFxuXHRcdFx0XHRvZmZzZXRQYXJlbnQgPSB0aGlzLm9mZnNldFBhcmVudCgpO1xuXHRcblx0XHRcdFx0Ly8gR2V0IGNvcnJlY3Qgb2Zmc2V0c1xuXHRcdFx0XHRvZmZzZXQgPSB0aGlzLm9mZnNldCgpO1xuXHRcdFx0XHRpZiAoICFqUXVlcnkubm9kZU5hbWUoIG9mZnNldFBhcmVudFsgMCBdLCBcImh0bWxcIiApICkge1xuXHRcdFx0XHRcdHBhcmVudE9mZnNldCA9IG9mZnNldFBhcmVudC5vZmZzZXQoKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gQWRkIG9mZnNldFBhcmVudCBib3JkZXJzXG5cdFx0XHRcdHBhcmVudE9mZnNldCA9IHtcblx0XHRcdFx0XHR0b3A6IHBhcmVudE9mZnNldC50b3AgKyBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnRbIDAgXSwgXCJib3JkZXJUb3BXaWR0aFwiLCB0cnVlICksXG5cdFx0XHRcdFx0bGVmdDogcGFyZW50T2Zmc2V0LmxlZnQgKyBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnRbIDAgXSwgXCJib3JkZXJMZWZ0V2lkdGhcIiwgdHJ1ZSApXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gU3VidHJhY3QgcGFyZW50IG9mZnNldHMgYW5kIGVsZW1lbnQgbWFyZ2luc1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0dG9wOiBvZmZzZXQudG9wIC0gcGFyZW50T2Zmc2V0LnRvcCAtIGpRdWVyeS5jc3MoIGVsZW0sIFwibWFyZ2luVG9wXCIsIHRydWUgKSxcblx0XHRcdFx0bGVmdDogb2Zmc2V0LmxlZnQgLSBwYXJlbnRPZmZzZXQubGVmdCAtIGpRdWVyeS5jc3MoIGVsZW0sIFwibWFyZ2luTGVmdFwiLCB0cnVlIClcblx0XHRcdH07XG5cdFx0fSxcblx0XG5cdFx0Ly8gVGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gZG9jdW1lbnRFbGVtZW50IGluIHRoZSBmb2xsb3dpbmcgY2FzZXM6XG5cdFx0Ly8gMSkgRm9yIHRoZSBlbGVtZW50IGluc2lkZSB0aGUgaWZyYW1lIHdpdGhvdXQgb2Zmc2V0UGFyZW50LCB0aGlzIG1ldGhvZCB3aWxsIHJldHVyblxuXHRcdC8vICAgIGRvY3VtZW50RWxlbWVudCBvZiB0aGUgcGFyZW50IHdpbmRvd1xuXHRcdC8vIDIpIEZvciB0aGUgaGlkZGVuIG9yIGRldGFjaGVkIGVsZW1lbnRcblx0XHQvLyAzKSBGb3IgYm9keSBvciBodG1sIGVsZW1lbnQsIGkuZS4gaW4gY2FzZSBvZiB0aGUgaHRtbCBub2RlIC0gaXQgd2lsbCByZXR1cm4gaXRzZWxmXG5cdFx0Ly9cblx0XHQvLyBidXQgdGhvc2UgZXhjZXB0aW9ucyB3ZXJlIG5ldmVyIHByZXNlbnRlZCBhcyBhIHJlYWwgbGlmZSB1c2UtY2FzZXNcblx0XHQvLyBhbmQgbWlnaHQgYmUgY29uc2lkZXJlZCBhcyBtb3JlIHByZWZlcmFibGUgcmVzdWx0cy5cblx0XHQvL1xuXHRcdC8vIFRoaXMgbG9naWMsIGhvd2V2ZXIsIGlzIG5vdCBndWFyYW50ZWVkIGFuZCBjYW4gY2hhbmdlIGF0IGFueSBwb2ludCBpbiB0aGUgZnV0dXJlXG5cdFx0b2Zmc2V0UGFyZW50OiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB0aGlzLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBvZmZzZXRQYXJlbnQgPSB0aGlzLm9mZnNldFBhcmVudDtcblx0XG5cdFx0XHRcdHdoaWxlICggb2Zmc2V0UGFyZW50ICYmIGpRdWVyeS5jc3MoIG9mZnNldFBhcmVudCwgXCJwb3NpdGlvblwiICkgPT09IFwic3RhdGljXCIgKSB7XG5cdFx0XHRcdFx0b2Zmc2V0UGFyZW50ID0gb2Zmc2V0UGFyZW50Lm9mZnNldFBhcmVudDtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0cmV0dXJuIG9mZnNldFBhcmVudCB8fCBkb2N1bWVudEVsZW1lbnQ7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHQvLyBDcmVhdGUgc2Nyb2xsTGVmdCBhbmQgc2Nyb2xsVG9wIG1ldGhvZHNcblx0alF1ZXJ5LmVhY2goIHsgc2Nyb2xsTGVmdDogXCJwYWdlWE9mZnNldFwiLCBzY3JvbGxUb3A6IFwicGFnZVlPZmZzZXRcIiB9LCBmdW5jdGlvbiggbWV0aG9kLCBwcm9wICkge1xuXHRcdHZhciB0b3AgPSBcInBhZ2VZT2Zmc2V0XCIgPT09IHByb3A7XG5cdFxuXHRcdGpRdWVyeS5mblsgbWV0aG9kIF0gPSBmdW5jdGlvbiggdmFsICkge1xuXHRcdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG1ldGhvZCwgdmFsICkge1xuXHRcdFx0XHR2YXIgd2luID0gZ2V0V2luZG93KCBlbGVtICk7XG5cdFxuXHRcdFx0XHRpZiAoIHZhbCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHJldHVybiB3aW4gPyB3aW5bIHByb3AgXSA6IGVsZW1bIG1ldGhvZCBdO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRpZiAoIHdpbiApIHtcblx0XHRcdFx0XHR3aW4uc2Nyb2xsVG8oXG5cdFx0XHRcdFx0XHQhdG9wID8gdmFsIDogd2luLnBhZ2VYT2Zmc2V0LFxuXHRcdFx0XHRcdFx0dG9wID8gdmFsIDogd2luLnBhZ2VZT2Zmc2V0XG5cdFx0XHRcdFx0KTtcblx0XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZWxlbVsgbWV0aG9kIF0gPSB2YWw7XG5cdFx0XHRcdH1cblx0XHRcdH0sIG1ldGhvZCwgdmFsLCBhcmd1bWVudHMubGVuZ3RoICk7XG5cdFx0fTtcblx0fSApO1xuXHRcblx0Ly8gU3VwcG9ydDogU2FmYXJpIDw9NyAtIDkuMSwgQ2hyb21lIDw9MzcgLSA0OVxuXHQvLyBBZGQgdGhlIHRvcC9sZWZ0IGNzc0hvb2tzIHVzaW5nIGpRdWVyeS5mbi5wb3NpdGlvblxuXHQvLyBXZWJraXQgYnVnOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MjkwODRcblx0Ly8gQmxpbmsgYnVnOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD01ODkzNDdcblx0Ly8gZ2V0Q29tcHV0ZWRTdHlsZSByZXR1cm5zIHBlcmNlbnQgd2hlbiBzcGVjaWZpZWQgZm9yIHRvcC9sZWZ0L2JvdHRvbS9yaWdodDtcblx0Ly8gcmF0aGVyIHRoYW4gbWFrZSB0aGUgY3NzIG1vZHVsZSBkZXBlbmQgb24gdGhlIG9mZnNldCBtb2R1bGUsIGp1c3QgY2hlY2sgZm9yIGl0IGhlcmVcblx0alF1ZXJ5LmVhY2goIFsgXCJ0b3BcIiwgXCJsZWZ0XCIgXSwgZnVuY3Rpb24oIGksIHByb3AgKSB7XG5cdFx0alF1ZXJ5LmNzc0hvb2tzWyBwcm9wIF0gPSBhZGRHZXRIb29rSWYoIHN1cHBvcnQucGl4ZWxQb3NpdGlvbixcblx0XHRcdGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRcdFx0XHRjb21wdXRlZCA9IGN1ckNTUyggZWxlbSwgcHJvcCApO1xuXHRcblx0XHRcdFx0XHQvLyBJZiBjdXJDU1MgcmV0dXJucyBwZXJjZW50YWdlLCBmYWxsYmFjayB0byBvZmZzZXRcblx0XHRcdFx0XHRyZXR1cm4gcm51bW5vbnB4LnRlc3QoIGNvbXB1dGVkICkgP1xuXHRcdFx0XHRcdFx0alF1ZXJ5KCBlbGVtICkucG9zaXRpb24oKVsgcHJvcCBdICsgXCJweFwiIDpcblx0XHRcdFx0XHRcdGNvbXB1dGVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0KTtcblx0fSApO1xuXHRcblx0XG5cdC8vIENyZWF0ZSBpbm5lckhlaWdodCwgaW5uZXJXaWR0aCwgaGVpZ2h0LCB3aWR0aCwgb3V0ZXJIZWlnaHQgYW5kIG91dGVyV2lkdGggbWV0aG9kc1xuXHRqUXVlcnkuZWFjaCggeyBIZWlnaHQ6IFwiaGVpZ2h0XCIsIFdpZHRoOiBcIndpZHRoXCIgfSwgZnVuY3Rpb24oIG5hbWUsIHR5cGUgKSB7XG5cdFx0alF1ZXJ5LmVhY2goIHsgcGFkZGluZzogXCJpbm5lclwiICsgbmFtZSwgY29udGVudDogdHlwZSwgXCJcIjogXCJvdXRlclwiICsgbmFtZSB9LFxuXHRcdFx0ZnVuY3Rpb24oIGRlZmF1bHRFeHRyYSwgZnVuY05hbWUgKSB7XG5cdFxuXHRcdFx0Ly8gTWFyZ2luIGlzIG9ubHkgZm9yIG91dGVySGVpZ2h0LCBvdXRlcldpZHRoXG5cdFx0XHRqUXVlcnkuZm5bIGZ1bmNOYW1lIF0gPSBmdW5jdGlvbiggbWFyZ2luLCB2YWx1ZSApIHtcblx0XHRcdFx0dmFyIGNoYWluYWJsZSA9IGFyZ3VtZW50cy5sZW5ndGggJiYgKCBkZWZhdWx0RXh0cmEgfHwgdHlwZW9mIG1hcmdpbiAhPT0gXCJib29sZWFuXCIgKSxcblx0XHRcdFx0XHRleHRyYSA9IGRlZmF1bHRFeHRyYSB8fCAoIG1hcmdpbiA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gdHJ1ZSA/IFwibWFyZ2luXCIgOiBcImJvcmRlclwiICk7XG5cdFxuXHRcdFx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgdHlwZSwgdmFsdWUgKSB7XG5cdFx0XHRcdFx0dmFyIGRvYztcblx0XG5cdFx0XHRcdFx0aWYgKCBqUXVlcnkuaXNXaW5kb3coIGVsZW0gKSApIHtcblx0XG5cdFx0XHRcdFx0XHQvLyAkKCB3aW5kb3cgKS5vdXRlcldpZHRoL0hlaWdodCByZXR1cm4gdy9oIGluY2x1ZGluZyBzY3JvbGxiYXJzIChnaC0xNzI5KVxuXHRcdFx0XHRcdFx0cmV0dXJuIGZ1bmNOYW1lLmluZGV4T2YoIFwib3V0ZXJcIiApID09PSAwID9cblx0XHRcdFx0XHRcdFx0ZWxlbVsgXCJpbm5lclwiICsgbmFtZSBdIDpcblx0XHRcdFx0XHRcdFx0ZWxlbS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbIFwiY2xpZW50XCIgKyBuYW1lIF07XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBHZXQgZG9jdW1lbnQgd2lkdGggb3IgaGVpZ2h0XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHRcdFx0ZG9jID0gZWxlbS5kb2N1bWVudEVsZW1lbnQ7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gRWl0aGVyIHNjcm9sbFtXaWR0aC9IZWlnaHRdIG9yIG9mZnNldFtXaWR0aC9IZWlnaHRdIG9yIGNsaWVudFtXaWR0aC9IZWlnaHRdLFxuXHRcdFx0XHRcdFx0Ly8gd2hpY2hldmVyIGlzIGdyZWF0ZXN0XG5cdFx0XHRcdFx0XHRyZXR1cm4gTWF0aC5tYXgoXG5cdFx0XHRcdFx0XHRcdGVsZW0uYm9keVsgXCJzY3JvbGxcIiArIG5hbWUgXSwgZG9jWyBcInNjcm9sbFwiICsgbmFtZSBdLFxuXHRcdFx0XHRcdFx0XHRlbGVtLmJvZHlbIFwib2Zmc2V0XCIgKyBuYW1lIF0sIGRvY1sgXCJvZmZzZXRcIiArIG5hbWUgXSxcblx0XHRcdFx0XHRcdFx0ZG9jWyBcImNsaWVudFwiICsgbmFtZSBdXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0cmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgP1xuXHRcblx0XHRcdFx0XHRcdC8vIEdldCB3aWR0aCBvciBoZWlnaHQgb24gdGhlIGVsZW1lbnQsIHJlcXVlc3RpbmcgYnV0IG5vdCBmb3JjaW5nIHBhcnNlRmxvYXRcblx0XHRcdFx0XHRcdGpRdWVyeS5jc3MoIGVsZW0sIHR5cGUsIGV4dHJhICkgOlxuXHRcblx0XHRcdFx0XHRcdC8vIFNldCB3aWR0aCBvciBoZWlnaHQgb24gdGhlIGVsZW1lbnRcblx0XHRcdFx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgdHlwZSwgdmFsdWUsIGV4dHJhICk7XG5cdFx0XHRcdH0sIHR5cGUsIGNoYWluYWJsZSA/IG1hcmdpbiA6IHVuZGVmaW5lZCwgY2hhaW5hYmxlICk7XG5cdFx0XHR9O1xuXHRcdH0gKTtcblx0fSApO1xuXHRcblx0XG5cdGpRdWVyeS5mbi5leHRlbmQoIHtcblx0XG5cdFx0YmluZDogZnVuY3Rpb24oIHR5cGVzLCBkYXRhLCBmbiApIHtcblx0XHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgbnVsbCwgZGF0YSwgZm4gKTtcblx0XHR9LFxuXHRcdHVuYmluZDogZnVuY3Rpb24oIHR5cGVzLCBmbiApIHtcblx0XHRcdHJldHVybiB0aGlzLm9mZiggdHlwZXMsIG51bGwsIGZuICk7XG5cdFx0fSxcblx0XG5cdFx0ZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGRhdGEsIGZuICkge1xuXHRcdFx0cmV0dXJuIHRoaXMub24oIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKTtcblx0XHR9LFxuXHRcdHVuZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGZuICkge1xuXHRcblx0XHRcdC8vICggbmFtZXNwYWNlICkgb3IgKCBzZWxlY3RvciwgdHlwZXMgWywgZm5dIClcblx0XHRcdHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxID9cblx0XHRcdFx0dGhpcy5vZmYoIHNlbGVjdG9yLCBcIioqXCIgKSA6XG5cdFx0XHRcdHRoaXMub2ZmKCB0eXBlcywgc2VsZWN0b3IgfHwgXCIqKlwiLCBmbiApO1xuXHRcdH1cblx0fSApO1xuXHRcblx0alF1ZXJ5LnBhcnNlSlNPTiA9IEpTT04ucGFyc2U7XG5cdFxuXHRcblx0XG5cdFxuXHQvLyBSZWdpc3RlciBhcyBhIG5hbWVkIEFNRCBtb2R1bGUsIHNpbmNlIGpRdWVyeSBjYW4gYmUgY29uY2F0ZW5hdGVkIHdpdGggb3RoZXJcblx0Ly8gZmlsZXMgdGhhdCBtYXkgdXNlIGRlZmluZSwgYnV0IG5vdCB2aWEgYSBwcm9wZXIgY29uY2F0ZW5hdGlvbiBzY3JpcHQgdGhhdFxuXHQvLyB1bmRlcnN0YW5kcyBhbm9ueW1vdXMgQU1EIG1vZHVsZXMuIEEgbmFtZWQgQU1EIGlzIHNhZmVzdCBhbmQgbW9zdCByb2J1c3Rcblx0Ly8gd2F5IHRvIHJlZ2lzdGVyLiBMb3dlcmNhc2UganF1ZXJ5IGlzIHVzZWQgYmVjYXVzZSBBTUQgbW9kdWxlIG5hbWVzIGFyZVxuXHQvLyBkZXJpdmVkIGZyb20gZmlsZSBuYW1lcywgYW5kIGpRdWVyeSBpcyBub3JtYWxseSBkZWxpdmVyZWQgaW4gYSBsb3dlcmNhc2Vcblx0Ly8gZmlsZSBuYW1lLiBEbyB0aGlzIGFmdGVyIGNyZWF0aW5nIHRoZSBnbG9iYWwgc28gdGhhdCBpZiBhbiBBTUQgbW9kdWxlIHdhbnRzXG5cdC8vIHRvIGNhbGwgbm9Db25mbGljdCB0byBoaWRlIHRoaXMgdmVyc2lvbiBvZiBqUXVlcnksIGl0IHdpbGwgd29yay5cblx0XG5cdC8vIE5vdGUgdGhhdCBmb3IgbWF4aW11bSBwb3J0YWJpbGl0eSwgbGlicmFyaWVzIHRoYXQgYXJlIG5vdCBqUXVlcnkgc2hvdWxkXG5cdC8vIGRlY2xhcmUgdGhlbXNlbHZlcyBhcyBhbm9ueW1vdXMgbW9kdWxlcywgYW5kIGF2b2lkIHNldHRpbmcgYSBnbG9iYWwgaWYgYW5cblx0Ly8gQU1EIGxvYWRlciBpcyBwcmVzZW50LiBqUXVlcnkgaXMgYSBzcGVjaWFsIGNhc2UuIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWVcblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL2pyYnVya2UvcmVxdWlyZWpzL3dpa2kvVXBkYXRpbmctZXhpc3RpbmctbGlicmFyaWVzI3dpa2ktYW5vblxuXHRcblx0aWYgKCB0cnVlICkge1xuXHRcdCEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFtdLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeTtcblx0XHR9LmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdH1cblx0XG5cdFxuXHRcblx0XG5cdFxuXHR2YXJcblx0XG5cdFx0Ly8gTWFwIG92ZXIgalF1ZXJ5IGluIGNhc2Ugb2Ygb3ZlcndyaXRlXG5cdFx0X2pRdWVyeSA9IHdpbmRvdy5qUXVlcnksXG5cdFxuXHRcdC8vIE1hcCBvdmVyIHRoZSAkIGluIGNhc2Ugb2Ygb3ZlcndyaXRlXG5cdFx0XyQgPSB3aW5kb3cuJDtcblx0XG5cdGpRdWVyeS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oIGRlZXAgKSB7XG5cdFx0aWYgKCB3aW5kb3cuJCA9PT0galF1ZXJ5ICkge1xuXHRcdFx0d2luZG93LiQgPSBfJDtcblx0XHR9XG5cdFxuXHRcdGlmICggZGVlcCAmJiB3aW5kb3cualF1ZXJ5ID09PSBqUXVlcnkgKSB7XG5cdFx0XHR3aW5kb3cualF1ZXJ5ID0gX2pRdWVyeTtcblx0XHR9XG5cdFxuXHRcdHJldHVybiBqUXVlcnk7XG5cdH07XG5cdFxuXHQvLyBFeHBvc2UgalF1ZXJ5IGFuZCAkIGlkZW50aWZpZXJzLCBldmVuIGluIEFNRFxuXHQvLyAoIzcxMDIjY29tbWVudDoxMCwgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnkvcHVsbC81NTcpXG5cdC8vIGFuZCBDb21tb25KUyBmb3IgYnJvd3NlciBlbXVsYXRvcnMgKCMxMzU2Nilcblx0aWYgKCAhbm9HbG9iYWwgKSB7XG5cdFx0d2luZG93LmpRdWVyeSA9IHdpbmRvdy4kID0galF1ZXJ5O1xuXHR9XG5cdFxuXHRcblx0cmV0dXJuIGpRdWVyeTtcblx0fSApO1xuXG5cbi8qKiovIH0sXG4vKiA0NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gdGhlIHdoYXR3Zy1mZXRjaCBwb2x5ZmlsbCBpbnN0YWxscyB0aGUgZmV0Y2goKSBmdW5jdGlvblxuXHQvLyBvbiB0aGUgZ2xvYmFsIG9iamVjdCAod2luZG93IG9yIHNlbGYpXG5cdC8vXG5cdC8vIFJldHVybiB0aGF0IGFzIHRoZSBleHBvcnQgZm9yIHVzZSBpbiBXZWJwYWNrLCBCcm93c2VyaWZ5IGV0Yy5cblx0X193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBzZWxmLmZldGNoLmJpbmQoc2VsZik7XG5cblxuLyoqKi8gfSxcbi8qIDQ1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXG5cbi8qKiovIH0sXG4vKiA0NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHR2YXIgX2JsdWViaXJkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mik7XG5cdFxuXHR2YXIgX2JsdWViaXJkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JsdWViaXJkKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgQnJvd3NlciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIEJyb3dzZXIoKSB7XG5cdCAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQnJvd3Nlcik7XG5cdCAgICB9XG5cdFxuXHQgICAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQnJvd3NlciwgbnVsbCwgW3tcblx0ICAgICAgICBrZXk6ICdpc1ZhbGlkVXJsJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaXNWYWxpZFVybCh1cmwpIHtcblx0ICAgICAgICAgICAgdmFyIG1hdGNoZXNWYWxpZCA9IHRydWU7XG5cdCAgICAgICAgICAgIHZhciBtYXRjaGVzSW52YWxpZCA9IGZhbHNlO1xuXHRcblx0ICAgICAgICAgICAgdmFyIGludmFsaWRSZWdleCA9IFsvXFwucGRmJC9pLCAvXFwuanBnJC9pLCAvXFwucG5nJC8sIC9cXC5naWYkL107XG5cdCAgICAgICAgICAgIHZhciB2YWxpZFJlZ2V4ID0gWy9eaHR0cC9dO1xuXHRcblx0ICAgICAgICAgICAgaW52YWxpZFJlZ2V4LmZvckVhY2goZnVuY3Rpb24gKHJlZ2V4KSB7XG5cdCAgICAgICAgICAgICAgICBtYXRjaGVzSW52YWxpZCA9IG1hdGNoZXNJbnZhbGlkIHx8IHJlZ2V4LnRlc3QodXJsKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIHZhbGlkUmVnZXguZm9yRWFjaChmdW5jdGlvbiAocmVnZXgpIHtcblx0ICAgICAgICAgICAgICAgIG1hdGNoZXNWYWxpZCA9IG1hdGNoZXNWYWxpZCAmJiByZWdleC50ZXN0KHVybCk7XG5cdCAgICAgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXNWYWxpZCAmJiAhbWF0Y2hlc0ludmFsaWQ7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2ZpbHRlclVybHMnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBmaWx0ZXJVcmxzKHVybHMpIHtcblx0ICAgICAgICAgICAgcmV0dXJuICh1cmxzIHx8IFtdKS5maWx0ZXIoQnJvd3Nlci5pc1ZhbGlkVXJsKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaXNCYWNrZ3JvdW5kTXNnJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaXNCYWNrZ3JvdW5kTXNnKHNlbmRlcikge1xuXHQgICAgICAgICAgICByZXR1cm4gc2VuZGVyLnVybC5pbmRleE9mKCdiYWNrZ3JvdW5kX3BhZ2UnKSA+IC0xO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdpc1BvcHVwTXNnJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaXNQb3B1cE1zZyhzZW5kZXIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHNlbmRlci51cmwuaW5kZXhPZigncG9wdXAnKSA+IC0xO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdnZXRDdXJyZW50V2luZG93VGFicycsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEN1cnJlbnRXaW5kb3dUYWJzKCkge1xuXHQgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IHZvaWQgMDtcblx0ICAgICAgICAgICAgaWYgKGNocm9tZSkge1xuXHQgICAgICAgICAgICAgICAgcHJvbWlzZSA9IG5ldyBfYmx1ZWJpcmQyLmRlZmF1bHQoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGNocm9tZS53aW5kb3dzLmdldEN1cnJlbnQoeyBwb3B1bGF0ZTogdHJ1ZSB9LCBmdW5jdGlvbiAoY3VycmVudFdpbmRvdykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFdpbmRvdy50YWJzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2Vic2l0ZVRhYnMgPSBjdXJyZW50V2luZG93LnRhYnMuZmlsdGVyKGZ1bmN0aW9uICh0YWIpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQnJvd3Nlci5pc1ZhbGlkVXJsKHRhYi51cmwpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHdlYnNpdGVUYWJzKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ05vIHRhYnMhJykpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHByb21pc2UgPSBuZXcgX2JsdWViaXJkMi5kZWZhdWx0KGZ1bmN0aW9uIChyZXNvbHZlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdnZXRUYWJzSHRtbCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRhYnNIdG1sKHRhYnMpIHtcblx0ICAgICAgICAgICAgdmFyIGNvZGUgPSAnZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm91dGVySFRNTCc7XG5cdCAgICAgICAgICAgIHZhciBodG1sUHJvbWlzZXMgPSB0YWJzLm1hcChmdW5jdGlvbiAodGFiKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbmV3IF9ibHVlYmlyZDIuZGVmYXVsdChmdW5jdGlvbiAocmVzb2x2ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGNocm9tZS50YWJzLmV4ZWN1dGVTY3JpcHQodGFiLmlkLCB7IGNvZGU6IGNvZGUgfSwgZnVuY3Rpb24gKGh0bWwpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZWRUYWIgPSB0YWI7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChodG1sICYmIGh0bWxbMF0gJiYgaHRtbFswXS5tYXRjaCgvaHRtbC9pKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFRhYi5odG1sID0gaHRtbFswXTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRUYWIuaHRtbCA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh1cGRhdGVkVGFiKTtcblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBfYmx1ZWJpcmQyLmRlZmF1bHQuYWxsKGh0bWxQcm9taXNlcyk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2dldExvY2FsU3RvcmFnZScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldExvY2FsU3RvcmFnZShmaWVsZHMpIHtcblx0ICAgICAgICAgICAgdmFyIHByb21pc2UgPSB2b2lkIDA7XG5cdCAgICAgICAgICAgIGlmIChjaHJvbWUpIHtcblx0ICAgICAgICAgICAgICAgIHByb21pc2UgPSBuZXcgX2JsdWViaXJkMi5kZWZhdWx0KGZ1bmN0aW9uIChyZXNvbHZlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KGZpZWxkcywgZnVuY3Rpb24gKHN0YXRlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoc3RhdGUpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3NldExvY2FsU3RvcmFnZScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldExvY2FsU3RvcmFnZShrZXlWYWx1ZXMpIHtcblx0ICAgICAgICAgICAgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KGtleVZhbHVlcyk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3NlbmRNZXNzYWdlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2VuZE1lc3NhZ2UoKSB7XG5cdCAgICAgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgICAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZS5hcHBseShjaHJvbWUucnVudGltZSwgYXJncyk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ29uQmFja2dyb3VuZE1lc3NhZ2UnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkJhY2tncm91bmRNZXNzYWdlKGNiKSB7XG5cdCAgICAgICAgICAgIGNocm9tZS5ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcihmdW5jdGlvbiAocmVxdWVzdCwgc2VuZGVyKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoQnJvd3Nlci5pc0JhY2tncm91bmRNc2coc2VuZGVyKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGNiKHJlcXVlc3QsIHNlbmRlcik7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdvbkZvcmVncm91bmRNZXNzYWdlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25Gb3JlZ3JvdW5kTWVzc2FnZShjYikge1xuXHQgICAgICAgICAgICBjaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoZnVuY3Rpb24gKHJlcXVlc3QsIHNlbmRlcikge1xuXHQgICAgICAgICAgICAgICAgaWYgKEJyb3dzZXIuaXNQb3B1cE1zZyhzZW5kZXIpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY2IocmVxdWVzdCwgc2VuZGVyKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2Rvd25sb2FkJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZG93bmxvYWQocGFyYW1zKSB7XG5cdCAgICAgICAgICAgIHZhciBwcm9taXNlID0gdm9pZCAwO1xuXHQgICAgICAgICAgICBpZiAoY2hyb21lKSB7XG5cdCAgICAgICAgICAgICAgICBwcm9taXNlID0gbmV3IF9ibHVlYmlyZDIuZGVmYXVsdChmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY2hyb21lLmRvd25sb2Fkcy5kb3dubG9hZChwYXJhbXMsIGZ1bmN0aW9uIChkb3dubG9hZElkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkb3dubG9hZExpc3RlbmVyID0gY2hyb21lLmRvd25sb2Fkcy5vbkNoYW5nZWQuYWRkTGlzdGVuZXIoZnVuY3Rpb24gKGRvd25sb2FkSW5mbykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvd25sb2FkSW5mby5pZCA9PT0gZG93bmxvYWRJZCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb3dubG9hZEluZm8uZXJyb3IpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZG93bmxvYWRJbmZvLmVycm9yKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hyb21lLmRvd25sb2Fkcy5vbkNoYW5nZWQucmVtb3ZlTGlzdGVuZXIoZG93bmxvYWRMaXN0ZW5lcik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChkb3dubG9hZEluZm8uZXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZG93bmxvYWRJbmZvLmVuZFRpbWUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2VuZCB0aW1lOiAnLCBkb3dubG9hZEluZm8uZW5kVGltZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNocm9tZS5kb3dubG9hZHMub25DaGFuZ2VkLnJlbW92ZUxpc3RlbmVyKGRvd25sb2FkTGlzdGVuZXIpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGRvd25sb2FkSW5mby5lbmRUaW1lKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2Jhc2VVcmwnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBiYXNlVXJsKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gY2hyb21lLnJ1bnRpbWUuZ2V0TWFuaWZlc3QoKS5ob21lcGFnZV91cmw7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2dldE1hbmlmZXN0Jyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TWFuaWZlc3QoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBjaHJvbWUucnVudGltZS5nZXRNYW5pZmVzdCgpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdnZXRFcnJvck1zZycsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEVycm9yTXNnKGxvY2F0aW9uLCB4aHIpIHtcblx0ICAgICAgICAgICAgdmFyIG1zZyA9IGxvY2F0aW9uID8gbG9jYXRpb24gKyAnOiAgJyA6ICcnO1xuXHRcblx0ICAgICAgICAgICAgbXNnICs9IHhoci5yZXNwb25zZVRleHQgfHwgQnJvd3Nlci5FUlJPUl9DT0RFU1t4aHIuc3RhdHVzVGV4dF0gfHwgQnJvd3Nlci5FUlJPUl9DT0RFU1t4aHIuc3RhdHVzXSB8fCBCcm93c2VyLkVSUk9SX0NPREVTW3hoci5jdXJyZW50XSB8fCAnVW5rbm93bic7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gbXNnO1xuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0ICAgIHJldHVybiBCcm93c2VyO1xuXHR9KCk7XG5cdFxuXHRCcm93c2VyLkVSUk9SX0NPREVTID0ge1xuXHQgICAgLy8gQm9vayBDcmVhdGUgRXJyb3JzXG5cdCAgICAwOiAnU2VydmVyIGlzIGRvd24uIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyxcblx0ICAgIDQwMDogJ1RoZXJlIHdhcyBhIHByb2JsZW0gd2l0aCB0aGUgcmVxdWVzdC4gSXMgRXB1YlByZXNzIHVwIHRvIGRhdGU/Jyxcblx0ICAgIDQwNDogJ1Jlc291cmNlIG5vdCBmb3VuZC4nLFxuXHQgICAgNTAwOiAnVW5leHBlY3RlZCBzZXJ2ZXIgZXJyb3IuJyxcblx0ICAgIDUwMzogJ1NlcnZlciB0b29rIHRvbyBsb25nIHRvIHJlc3BvbmQuJyxcblx0ICAgIHRpbWVvdXQ6ICdSZXF1ZXN0IHRvb2sgdG9vIGxvbmcgdG8gY29tcGxldGUuJyxcblx0ICAgIGVycm9yOiB1bmRlZmluZWQsXG5cdCAgICAvLyBEb3dubG9hZCBFcnJvcnNcblx0ICAgIFNFUlZFUl9GQUlMRUQ6ICdTZXJ2ZXIgZXJyb3Igd2hpbGUgZG93bmxvYWRpbmcuJyxcblx0ICAgIFNFUlZFUl9CQURfQ09OVEVOVDogJ0Jvb2sgY291bGQgbm90IGJlIGZvdW5kJ1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBCcm93c2VyO1xuXG4vKioqLyB9LFxuLyogNDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcblx0ICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuXHQgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcblx0ICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuXHQgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG5cdCAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcblx0ICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcblx0ICAgICAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuXHQgICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcblx0ICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuXHQgICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuXHQgIH07XG5cdH0oKTtcblxuLyoqKi8gfSxcbi8qIDQ5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IF9fd2VicGFja19yZXF1aXJlX18oNTApLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0sXG4vKiA1MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1MSk7XG5cdHZhciAkT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KS5PYmplY3Q7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyl7XG5cdCAgcmV0dXJuICRPYmplY3QuZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA1MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyICRleHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHQvLyAxOS4xLjIuNCAvIDE1LjIuMy42IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKVxuXHQkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KSwgJ09iamVjdCcsIHtkZWZpbmVQcm9wZXJ0eTogX193ZWJwYWNrX3JlcXVpcmVfXygxNCkuZn0pO1xuXG4vKioqLyB9LFxuLyogNTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzLCBnbG9iYWwsIHNldEltbWVkaWF0ZSkgey8qIEBwcmVzZXJ2ZVxuXHQgKiBUaGUgTUlUIExpY2Vuc2UgKE1JVClcblx0ICogXG5cdCAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE1IFBldGthIEFudG9ub3Zcblx0ICogXG5cdCAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcblx0ICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuXHQgKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG5cdCAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcblx0ICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG5cdCAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cdCAqIFxuXHQgKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuXHQgKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblx0ICogXG5cdCAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1Jcblx0ICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG5cdCAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuICBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcblx0ICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuXHQgKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuXHQgKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG5cdCAqIFRIRSBTT0ZUV0FSRS5cblx0ICogXG5cdCAqL1xuXHQvKipcblx0ICogYmx1ZWJpcmQgYnVpbGQgdmVyc2lvbiAzLjQuNlxuXHQgKiBGZWF0dXJlcyBlbmFibGVkOiBjb3JlLCByYWNlLCBjYWxsX2dldCwgZ2VuZXJhdG9ycywgbWFwLCBub2RlaWZ5LCBwcm9taXNpZnksIHByb3BzLCByZWR1Y2UsIHNldHRsZSwgc29tZSwgdXNpbmcsIHRpbWVycywgZmlsdGVyLCBhbnksIGVhY2hcblx0Ki9cblx0IWZ1bmN0aW9uKGUpe2lmKHRydWUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciBmO1widW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/Zj13aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9mPWdsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmKGY9c2VsZiksZi5Qcm9taXNlPWUoKX19KGZ1bmN0aW9uKCl7dmFyIGRlZmluZSxtb2R1bGUsZXhwb3J0cztyZXR1cm4gKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiBfZGVyZXFfPT1cImZ1bmN0aW9uXCImJl9kZXJlcV87aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIF9kZXJlcV89PVwiZnVuY3Rpb25cIiYmX2RlcmVxXztmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlKSB7XG5cdHZhciBTb21lUHJvbWlzZUFycmF5ID0gUHJvbWlzZS5fU29tZVByb21pc2VBcnJheTtcblx0ZnVuY3Rpb24gYW55KHByb21pc2VzKSB7XG5cdCAgICB2YXIgcmV0ID0gbmV3IFNvbWVQcm9taXNlQXJyYXkocHJvbWlzZXMpO1xuXHQgICAgdmFyIHByb21pc2UgPSByZXQucHJvbWlzZSgpO1xuXHQgICAgcmV0LnNldEhvd01hbnkoMSk7XG5cdCAgICByZXQuc2V0VW53cmFwKCk7XG5cdCAgICByZXQuaW5pdCgpO1xuXHQgICAgcmV0dXJuIHByb21pc2U7XG5cdH1cblx0XG5cdFByb21pc2UuYW55ID0gZnVuY3Rpb24gKHByb21pc2VzKSB7XG5cdCAgICByZXR1cm4gYW55KHByb21pc2VzKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLmFueSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBhbnkodGhpcyk7XG5cdH07XG5cdFxuXHR9O1xuXHRcblx0fSx7fV0sMjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgZmlyc3RMaW5lRXJyb3I7XG5cdHRyeSB7dGhyb3cgbmV3IEVycm9yKCk7IH0gY2F0Y2ggKGUpIHtmaXJzdExpbmVFcnJvciA9IGU7fVxuXHR2YXIgc2NoZWR1bGUgPSBfZGVyZXFfKFwiLi9zY2hlZHVsZVwiKTtcblx0dmFyIFF1ZXVlID0gX2RlcmVxXyhcIi4vcXVldWVcIik7XG5cdHZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcblx0XG5cdGZ1bmN0aW9uIEFzeW5jKCkge1xuXHQgICAgdGhpcy5fY3VzdG9tU2NoZWR1bGVyID0gZmFsc2U7XG5cdCAgICB0aGlzLl9pc1RpY2tVc2VkID0gZmFsc2U7XG5cdCAgICB0aGlzLl9sYXRlUXVldWUgPSBuZXcgUXVldWUoMTYpO1xuXHQgICAgdGhpcy5fbm9ybWFsUXVldWUgPSBuZXcgUXVldWUoMTYpO1xuXHQgICAgdGhpcy5faGF2ZURyYWluZWRRdWV1ZXMgPSBmYWxzZTtcblx0ICAgIHRoaXMuX3RyYW1wb2xpbmVFbmFibGVkID0gdHJ1ZTtcblx0ICAgIHZhciBzZWxmID0gdGhpcztcblx0ICAgIHRoaXMuZHJhaW5RdWV1ZXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgc2VsZi5fZHJhaW5RdWV1ZXMoKTtcblx0ICAgIH07XG5cdCAgICB0aGlzLl9zY2hlZHVsZSA9IHNjaGVkdWxlO1xuXHR9XG5cdFxuXHRBc3luYy5wcm90b3R5cGUuc2V0U2NoZWR1bGVyID0gZnVuY3Rpb24oZm4pIHtcblx0ICAgIHZhciBwcmV2ID0gdGhpcy5fc2NoZWR1bGU7XG5cdCAgICB0aGlzLl9zY2hlZHVsZSA9IGZuO1xuXHQgICAgdGhpcy5fY3VzdG9tU2NoZWR1bGVyID0gdHJ1ZTtcblx0ICAgIHJldHVybiBwcmV2O1xuXHR9O1xuXHRcblx0QXN5bmMucHJvdG90eXBlLmhhc0N1c3RvbVNjaGVkdWxlciA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX2N1c3RvbVNjaGVkdWxlcjtcblx0fTtcblx0XG5cdEFzeW5jLnByb3RvdHlwZS5lbmFibGVUcmFtcG9saW5lID0gZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLl90cmFtcG9saW5lRW5hYmxlZCA9IHRydWU7XG5cdH07XG5cdFxuXHRBc3luYy5wcm90b3R5cGUuZGlzYWJsZVRyYW1wb2xpbmVJZk5lY2Vzc2FyeSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgaWYgKHV0aWwuaGFzRGV2VG9vbHMpIHtcblx0ICAgICAgICB0aGlzLl90cmFtcG9saW5lRW5hYmxlZCA9IGZhbHNlO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0QXN5bmMucHJvdG90eXBlLmhhdmVJdGVtc1F1ZXVlZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLl9pc1RpY2tVc2VkIHx8IHRoaXMuX2hhdmVEcmFpbmVkUXVldWVzO1xuXHR9O1xuXHRcblx0XG5cdEFzeW5jLnByb3RvdHlwZS5mYXRhbEVycm9yID0gZnVuY3Rpb24oZSwgaXNOb2RlKSB7XG5cdCAgICBpZiAoaXNOb2RlKSB7XG5cdCAgICAgICAgcHJvY2Vzcy5zdGRlcnIud3JpdGUoXCJGYXRhbCBcIiArIChlIGluc3RhbmNlb2YgRXJyb3IgPyBlLnN0YWNrIDogZSkgK1xuXHQgICAgICAgICAgICBcIlxcblwiKTtcblx0ICAgICAgICBwcm9jZXNzLmV4aXQoMik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMudGhyb3dMYXRlcihlKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdEFzeW5jLnByb3RvdHlwZS50aHJvd0xhdGVyID0gZnVuY3Rpb24oZm4sIGFyZykge1xuXHQgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcblx0ICAgICAgICBhcmcgPSBmbjtcblx0ICAgICAgICBmbiA9IGZ1bmN0aW9uICgpIHsgdGhyb3cgYXJnOyB9O1xuXHQgICAgfVxuXHQgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdCAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgZm4oYXJnKTtcblx0ICAgICAgICB9LCAwKTtcblx0ICAgIH0gZWxzZSB0cnkge1xuXHQgICAgICAgIHRoaXMuX3NjaGVkdWxlKGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICBmbihhcmcpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGFzeW5jIHNjaGVkdWxlciBhdmFpbGFibGVcXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gQXN5bmNJbnZva2VMYXRlcihmbiwgcmVjZWl2ZXIsIGFyZykge1xuXHQgICAgdGhpcy5fbGF0ZVF1ZXVlLnB1c2goZm4sIHJlY2VpdmVyLCBhcmcpO1xuXHQgICAgdGhpcy5fcXVldWVUaWNrKCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIEFzeW5jSW52b2tlKGZuLCByZWNlaXZlciwgYXJnKSB7XG5cdCAgICB0aGlzLl9ub3JtYWxRdWV1ZS5wdXNoKGZuLCByZWNlaXZlciwgYXJnKTtcblx0ICAgIHRoaXMuX3F1ZXVlVGljaygpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBBc3luY1NldHRsZVByb21pc2VzKHByb21pc2UpIHtcblx0ICAgIHRoaXMuX25vcm1hbFF1ZXVlLl9wdXNoT25lKHByb21pc2UpO1xuXHQgICAgdGhpcy5fcXVldWVUaWNrKCk7XG5cdH1cblx0XG5cdGlmICghdXRpbC5oYXNEZXZUb29scykge1xuXHQgICAgQXN5bmMucHJvdG90eXBlLmludm9rZUxhdGVyID0gQXN5bmNJbnZva2VMYXRlcjtcblx0ICAgIEFzeW5jLnByb3RvdHlwZS5pbnZva2UgPSBBc3luY0ludm9rZTtcblx0ICAgIEFzeW5jLnByb3RvdHlwZS5zZXR0bGVQcm9taXNlcyA9IEFzeW5jU2V0dGxlUHJvbWlzZXM7XG5cdH0gZWxzZSB7XG5cdCAgICBBc3luYy5wcm90b3R5cGUuaW52b2tlTGF0ZXIgPSBmdW5jdGlvbiAoZm4sIHJlY2VpdmVyLCBhcmcpIHtcblx0ICAgICAgICBpZiAodGhpcy5fdHJhbXBvbGluZUVuYWJsZWQpIHtcblx0ICAgICAgICAgICAgQXN5bmNJbnZva2VMYXRlci5jYWxsKHRoaXMsIGZuLCByZWNlaXZlciwgYXJnKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB0aGlzLl9zY2hlZHVsZShmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgZm4uY2FsbChyZWNlaXZlciwgYXJnKTtcblx0ICAgICAgICAgICAgICAgIH0sIDEwMCk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgQXN5bmMucHJvdG90eXBlLmludm9rZSA9IGZ1bmN0aW9uIChmbiwgcmVjZWl2ZXIsIGFyZykge1xuXHQgICAgICAgIGlmICh0aGlzLl90cmFtcG9saW5lRW5hYmxlZCkge1xuXHQgICAgICAgICAgICBBc3luY0ludm9rZS5jYWxsKHRoaXMsIGZuLCByZWNlaXZlciwgYXJnKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB0aGlzLl9zY2hlZHVsZShmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgIGZuLmNhbGwocmVjZWl2ZXIsIGFyZyk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgQXN5bmMucHJvdG90eXBlLnNldHRsZVByb21pc2VzID0gZnVuY3Rpb24ocHJvbWlzZSkge1xuXHQgICAgICAgIGlmICh0aGlzLl90cmFtcG9saW5lRW5hYmxlZCkge1xuXHQgICAgICAgICAgICBBc3luY1NldHRsZVByb21pc2VzLmNhbGwodGhpcywgcHJvbWlzZSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdGhpcy5fc2NoZWR1bGUoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICBwcm9taXNlLl9zZXR0bGVQcm9taXNlcygpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHR9XG5cdFxuXHRBc3luYy5wcm90b3R5cGUuaW52b2tlRmlyc3QgPSBmdW5jdGlvbiAoZm4sIHJlY2VpdmVyLCBhcmcpIHtcblx0ICAgIHRoaXMuX25vcm1hbFF1ZXVlLnVuc2hpZnQoZm4sIHJlY2VpdmVyLCBhcmcpO1xuXHQgICAgdGhpcy5fcXVldWVUaWNrKCk7XG5cdH07XG5cdFxuXHRBc3luYy5wcm90b3R5cGUuX2RyYWluUXVldWUgPSBmdW5jdGlvbihxdWV1ZSkge1xuXHQgICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCgpID4gMCkge1xuXHQgICAgICAgIHZhciBmbiA9IHF1ZXVlLnNoaWZ0KCk7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBmbiAhPT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgIGZuLl9zZXR0bGVQcm9taXNlcygpO1xuXHQgICAgICAgICAgICBjb250aW51ZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIHJlY2VpdmVyID0gcXVldWUuc2hpZnQoKTtcblx0ICAgICAgICB2YXIgYXJnID0gcXVldWUuc2hpZnQoKTtcblx0ICAgICAgICBmbi5jYWxsKHJlY2VpdmVyLCBhcmcpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0QXN5bmMucHJvdG90eXBlLl9kcmFpblF1ZXVlcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuX2RyYWluUXVldWUodGhpcy5fbm9ybWFsUXVldWUpO1xuXHQgICAgdGhpcy5fcmVzZXQoKTtcblx0ICAgIHRoaXMuX2hhdmVEcmFpbmVkUXVldWVzID0gdHJ1ZTtcblx0ICAgIHRoaXMuX2RyYWluUXVldWUodGhpcy5fbGF0ZVF1ZXVlKTtcblx0fTtcblx0XG5cdEFzeW5jLnByb3RvdHlwZS5fcXVldWVUaWNrID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKCF0aGlzLl9pc1RpY2tVc2VkKSB7XG5cdCAgICAgICAgdGhpcy5faXNUaWNrVXNlZCA9IHRydWU7XG5cdCAgICAgICAgdGhpcy5fc2NoZWR1bGUodGhpcy5kcmFpblF1ZXVlcyk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRBc3luYy5wcm90b3R5cGUuX3Jlc2V0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5faXNUaWNrVXNlZCA9IGZhbHNlO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBBc3luYztcblx0bW9kdWxlLmV4cG9ydHMuZmlyc3RMaW5lRXJyb3IgPSBmaXJzdExpbmVFcnJvcjtcblx0XG5cdH0se1wiLi9xdWV1ZVwiOjI2LFwiLi9zY2hlZHVsZVwiOjI5LFwiLi91dGlsXCI6MzZ9XSwzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSwgSU5URVJOQUwsIHRyeUNvbnZlcnRUb1Byb21pc2UsIGRlYnVnKSB7XG5cdHZhciBjYWxsZWRCaW5kID0gZmFsc2U7XG5cdHZhciByZWplY3RUaGlzID0gZnVuY3Rpb24oXywgZSkge1xuXHQgICAgdGhpcy5fcmVqZWN0KGUpO1xuXHR9O1xuXHRcblx0dmFyIHRhcmdldFJlamVjdGVkID0gZnVuY3Rpb24oZSwgY29udGV4dCkge1xuXHQgICAgY29udGV4dC5wcm9taXNlUmVqZWN0aW9uUXVldWVkID0gdHJ1ZTtcblx0ICAgIGNvbnRleHQuYmluZGluZ1Byb21pc2UuX3RoZW4ocmVqZWN0VGhpcywgcmVqZWN0VGhpcywgbnVsbCwgdGhpcywgZSk7XG5cdH07XG5cdFxuXHR2YXIgYmluZGluZ1Jlc29sdmVkID0gZnVuY3Rpb24odGhpc0FyZywgY29udGV4dCkge1xuXHQgICAgaWYgKCgodGhpcy5fYml0RmllbGQgJiA1MDM5NzE4NCkgPT09IDApKSB7XG5cdCAgICAgICAgdGhpcy5fcmVzb2x2ZUNhbGxiYWNrKGNvbnRleHQudGFyZ2V0KTtcblx0ICAgIH1cblx0fTtcblx0XG5cdHZhciBiaW5kaW5nUmVqZWN0ZWQgPSBmdW5jdGlvbihlLCBjb250ZXh0KSB7XG5cdCAgICBpZiAoIWNvbnRleHQucHJvbWlzZVJlamVjdGlvblF1ZXVlZCkgdGhpcy5fcmVqZWN0KGUpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uICh0aGlzQXJnKSB7XG5cdCAgICBpZiAoIWNhbGxlZEJpbmQpIHtcblx0ICAgICAgICBjYWxsZWRCaW5kID0gdHJ1ZTtcblx0ICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fcHJvcGFnYXRlRnJvbSA9IGRlYnVnLnByb3BhZ2F0ZUZyb21GdW5jdGlvbigpO1xuXHQgICAgICAgIFByb21pc2UucHJvdG90eXBlLl9ib3VuZFZhbHVlID0gZGVidWcuYm91bmRWYWx1ZUZ1bmN0aW9uKCk7XG5cdCAgICB9XG5cdCAgICB2YXIgbWF5YmVQcm9taXNlID0gdHJ5Q29udmVydFRvUHJvbWlzZSh0aGlzQXJnKTtcblx0ICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG5cdCAgICByZXQuX3Byb3BhZ2F0ZUZyb20odGhpcywgMSk7XG5cdCAgICB2YXIgdGFyZ2V0ID0gdGhpcy5fdGFyZ2V0KCk7XG5cdCAgICByZXQuX3NldEJvdW5kVG8obWF5YmVQcm9taXNlKTtcblx0ICAgIGlmIChtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG5cdCAgICAgICAgdmFyIGNvbnRleHQgPSB7XG5cdCAgICAgICAgICAgIHByb21pc2VSZWplY3Rpb25RdWV1ZWQ6IGZhbHNlLFxuXHQgICAgICAgICAgICBwcm9taXNlOiByZXQsXG5cdCAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0LFxuXHQgICAgICAgICAgICBiaW5kaW5nUHJvbWlzZTogbWF5YmVQcm9taXNlXG5cdCAgICAgICAgfTtcblx0ICAgICAgICB0YXJnZXQuX3RoZW4oSU5URVJOQUwsIHRhcmdldFJlamVjdGVkLCB1bmRlZmluZWQsIHJldCwgY29udGV4dCk7XG5cdCAgICAgICAgbWF5YmVQcm9taXNlLl90aGVuKFxuXHQgICAgICAgICAgICBiaW5kaW5nUmVzb2x2ZWQsIGJpbmRpbmdSZWplY3RlZCwgdW5kZWZpbmVkLCByZXQsIGNvbnRleHQpO1xuXHQgICAgICAgIHJldC5fc2V0T25DYW5jZWwobWF5YmVQcm9taXNlKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0Ll9yZXNvbHZlQ2FsbGJhY2sodGFyZ2V0KTtcblx0ICAgIH1cblx0ICAgIHJldHVybiByZXQ7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fc2V0Qm91bmRUbyA9IGZ1bmN0aW9uIChvYmopIHtcblx0ICAgIGlmIChvYmogIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCAyMDk3MTUyO1xuXHQgICAgICAgIHRoaXMuX2JvdW5kVG8gPSBvYmo7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgJiAofjIwOTcxNTIpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2lzQm91bmQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgMjA5NzE1MikgPT09IDIwOTcxNTI7XG5cdH07XG5cdFxuXHRQcm9taXNlLmJpbmQgPSBmdW5jdGlvbiAodGhpc0FyZywgdmFsdWUpIHtcblx0ICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodmFsdWUpLmJpbmQodGhpc0FyZyk7XG5cdH07XG5cdH07XG5cdFxuXHR9LHt9XSw0OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBvbGQ7XG5cdGlmICh0eXBlb2YgUHJvbWlzZSAhPT0gXCJ1bmRlZmluZWRcIikgb2xkID0gUHJvbWlzZTtcblx0ZnVuY3Rpb24gbm9Db25mbGljdCgpIHtcblx0ICAgIHRyeSB7IGlmIChQcm9taXNlID09PSBibHVlYmlyZCkgUHJvbWlzZSA9IG9sZDsgfVxuXHQgICAgY2F0Y2ggKGUpIHt9XG5cdCAgICByZXR1cm4gYmx1ZWJpcmQ7XG5cdH1cblx0dmFyIGJsdWViaXJkID0gX2RlcmVxXyhcIi4vcHJvbWlzZVwiKSgpO1xuXHRibHVlYmlyZC5ub0NvbmZsaWN0ID0gbm9Db25mbGljdDtcblx0bW9kdWxlLmV4cG9ydHMgPSBibHVlYmlyZDtcblx0XG5cdH0se1wiLi9wcm9taXNlXCI6MjJ9XSw1OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBjciA9IE9iamVjdC5jcmVhdGU7XG5cdGlmIChjcikge1xuXHQgICAgdmFyIGNhbGxlckNhY2hlID0gY3IobnVsbCk7XG5cdCAgICB2YXIgZ2V0dGVyQ2FjaGUgPSBjcihudWxsKTtcblx0ICAgIGNhbGxlckNhY2hlW1wiIHNpemVcIl0gPSBnZXR0ZXJDYWNoZVtcIiBzaXplXCJdID0gMDtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlKSB7XG5cdHZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcblx0dmFyIGNhbkV2YWx1YXRlID0gdXRpbC5jYW5FdmFsdWF0ZTtcblx0dmFyIGlzSWRlbnRpZmllciA9IHV0aWwuaXNJZGVudGlmaWVyO1xuXHRcblx0dmFyIGdldE1ldGhvZENhbGxlcjtcblx0dmFyIGdldEdldHRlcjtcblx0aWYgKGZhbHNlKSB7XG5cdHZhciBtYWtlTWV0aG9kQ2FsbGVyID0gZnVuY3Rpb24gKG1ldGhvZE5hbWUpIHtcblx0ICAgIHJldHVybiBuZXcgRnVuY3Rpb24oXCJlbnN1cmVNZXRob2RcIiwgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbihvYmopIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICd1c2Ugc3RyaWN0JyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICBlbnN1cmVNZXRob2Qob2JqLCAnbWV0aG9kTmFtZScpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIHN3aXRjaChsZW4pIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG9iai5tZXRob2ROYW1lKHRoaXNbMF0pOyAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gb2JqLm1ldGhvZE5hbWUodGhpc1swXSwgdGhpc1sxXSk7ICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiBvYmoubWV0aG9kTmFtZSh0aGlzWzBdLCB0aGlzWzFdLCB0aGlzWzJdKTsgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIG9iai5tZXRob2ROYW1lKCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgZGVmYXVsdDogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iai5tZXRob2ROYW1lLmFwcGx5KG9iaiwgdGhpcyk7ICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgIH07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgXCIucmVwbGFjZSgvbWV0aG9kTmFtZS9nLCBtZXRob2ROYW1lKSkoZW5zdXJlTWV0aG9kKTtcblx0fTtcblx0XG5cdHZhciBtYWtlR2V0dGVyID0gZnVuY3Rpb24gKHByb3BlcnR5TmFtZSkge1xuXHQgICAgcmV0dXJuIG5ldyBGdW5jdGlvbihcIm9ialwiLCBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgJ3VzZSBzdHJpY3QnOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICByZXR1cm4gb2JqLnByb3BlcnR5TmFtZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgIFwiLnJlcGxhY2UoXCJwcm9wZXJ0eU5hbWVcIiwgcHJvcGVydHlOYW1lKSk7XG5cdH07XG5cdFxuXHR2YXIgZ2V0Q29tcGlsZWQgPSBmdW5jdGlvbihuYW1lLCBjb21waWxlciwgY2FjaGUpIHtcblx0ICAgIHZhciByZXQgPSBjYWNoZVtuYW1lXTtcblx0ICAgIGlmICh0eXBlb2YgcmV0ICE9PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICBpZiAoIWlzSWRlbnRpZmllcihuYW1lKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0ID0gY29tcGlsZXIobmFtZSk7XG5cdCAgICAgICAgY2FjaGVbbmFtZV0gPSByZXQ7XG5cdCAgICAgICAgY2FjaGVbXCIgc2l6ZVwiXSsrO1xuXHQgICAgICAgIGlmIChjYWNoZVtcIiBzaXplXCJdID4gNTEyKSB7XG5cdCAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoY2FjaGUpO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSBkZWxldGUgY2FjaGVba2V5c1tpXV07XG5cdCAgICAgICAgICAgIGNhY2hlW1wiIHNpemVcIl0gPSBrZXlzLmxlbmd0aCAtIDI1Njtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmV0O1xuXHR9O1xuXHRcblx0Z2V0TWV0aG9kQ2FsbGVyID0gZnVuY3Rpb24obmFtZSkge1xuXHQgICAgcmV0dXJuIGdldENvbXBpbGVkKG5hbWUsIG1ha2VNZXRob2RDYWxsZXIsIGNhbGxlckNhY2hlKTtcblx0fTtcblx0XG5cdGdldEdldHRlciA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgIHJldHVybiBnZXRDb21waWxlZChuYW1lLCBtYWtlR2V0dGVyLCBnZXR0ZXJDYWNoZSk7XG5cdH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGVuc3VyZU1ldGhvZChvYmosIG1ldGhvZE5hbWUpIHtcblx0ICAgIHZhciBmbjtcblx0ICAgIGlmIChvYmogIT0gbnVsbCkgZm4gPSBvYmpbbWV0aG9kTmFtZV07XG5cdCAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICB2YXIgbWVzc2FnZSA9IFwiT2JqZWN0IFwiICsgdXRpbC5jbGFzc1N0cmluZyhvYmopICsgXCIgaGFzIG5vIG1ldGhvZCAnXCIgK1xuXHQgICAgICAgICAgICB1dGlsLnRvU3RyaW5nKG1ldGhvZE5hbWUpICsgXCInXCI7XG5cdCAgICAgICAgdGhyb3cgbmV3IFByb21pc2UuVHlwZUVycm9yKG1lc3NhZ2UpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGZuO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjYWxsZXIob2JqKSB7XG5cdCAgICB2YXIgbWV0aG9kTmFtZSA9IHRoaXMucG9wKCk7XG5cdCAgICB2YXIgZm4gPSBlbnN1cmVNZXRob2Qob2JqLCBtZXRob2ROYW1lKTtcblx0ICAgIHJldHVybiBmbi5hcHBseShvYmosIHRoaXMpO1xuXHR9XG5cdFByb21pc2UucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAobWV0aG9kTmFtZSkge1xuXHQgICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7O1xuXHQgICAgaWYgKGZhbHNlKSB7XG5cdCAgICAgICAgaWYgKGNhbkV2YWx1YXRlKSB7XG5cdCAgICAgICAgICAgIHZhciBtYXliZUNhbGxlciA9IGdldE1ldGhvZENhbGxlcihtZXRob2ROYW1lKTtcblx0ICAgICAgICAgICAgaWYgKG1heWJlQ2FsbGVyICE9PSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdGhlbihcblx0ICAgICAgICAgICAgICAgICAgICBtYXliZUNhbGxlciwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyZ3MsIHVuZGVmaW5lZCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBhcmdzLnB1c2gobWV0aG9kTmFtZSk7XG5cdCAgICByZXR1cm4gdGhpcy5fdGhlbihjYWxsZXIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcmdzLCB1bmRlZmluZWQpO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gbmFtZWRHZXR0ZXIob2JqKSB7XG5cdCAgICByZXR1cm4gb2JqW3RoaXNdO1xuXHR9XG5cdGZ1bmN0aW9uIGluZGV4ZWRHZXR0ZXIob2JqKSB7XG5cdCAgICB2YXIgaW5kZXggPSArdGhpcztcblx0ICAgIGlmIChpbmRleCA8IDApIGluZGV4ID0gTWF0aC5tYXgoMCwgaW5kZXggKyBvYmoubGVuZ3RoKTtcblx0ICAgIHJldHVybiBvYmpbaW5kZXhdO1xuXHR9XG5cdFByb21pc2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChwcm9wZXJ0eU5hbWUpIHtcblx0ICAgIHZhciBpc0luZGV4ID0gKHR5cGVvZiBwcm9wZXJ0eU5hbWUgPT09IFwibnVtYmVyXCIpO1xuXHQgICAgdmFyIGdldHRlcjtcblx0ICAgIGlmICghaXNJbmRleCkge1xuXHQgICAgICAgIGlmIChjYW5FdmFsdWF0ZSkge1xuXHQgICAgICAgICAgICB2YXIgbWF5YmVHZXR0ZXIgPSBnZXRHZXR0ZXIocHJvcGVydHlOYW1lKTtcblx0ICAgICAgICAgICAgZ2V0dGVyID0gbWF5YmVHZXR0ZXIgIT09IG51bGwgPyBtYXliZUdldHRlciA6IG5hbWVkR2V0dGVyO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGdldHRlciA9IG5hbWVkR2V0dGVyO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZ2V0dGVyID0gaW5kZXhlZEdldHRlcjtcblx0ICAgIH1cblx0ICAgIHJldHVybiB0aGlzLl90aGVuKGdldHRlciwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHByb3BlcnR5TmFtZSwgdW5kZWZpbmVkKTtcblx0fTtcblx0fTtcblx0XG5cdH0se1wiLi91dGlsXCI6MzZ9XSw2OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSwgUHJvbWlzZUFycmF5LCBhcGlSZWplY3Rpb24sIGRlYnVnKSB7XG5cdHZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcblx0dmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcblx0dmFyIGVycm9yT2JqID0gdXRpbC5lcnJvck9iajtcblx0dmFyIGFzeW5jID0gUHJvbWlzZS5fYXN5bmM7XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZVtcImJyZWFrXCJdID0gUHJvbWlzZS5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG5cdCAgICBpZiAoIWRlYnVnLmNhbmNlbGxhdGlvbigpKSByZXR1cm4gdGhpcy5fd2FybihcImNhbmNlbGxhdGlvbiBpcyBkaXNhYmxlZFwiKTtcblx0XG5cdCAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG5cdCAgICB2YXIgY2hpbGQgPSBwcm9taXNlO1xuXHQgICAgd2hpbGUgKHByb21pc2UuX2lzQ2FuY2VsbGFibGUoKSkge1xuXHQgICAgICAgIGlmICghcHJvbWlzZS5fY2FuY2VsQnkoY2hpbGQpKSB7XG5cdCAgICAgICAgICAgIGlmIChjaGlsZC5faXNGb2xsb3dpbmcoKSkge1xuXHQgICAgICAgICAgICAgICAgY2hpbGQuX2ZvbGxvd2VlKCkuY2FuY2VsKCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBjaGlsZC5fY2FuY2VsQnJhbmNoZWQoKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBwYXJlbnQgPSBwcm9taXNlLl9jYW5jZWxsYXRpb25QYXJlbnQ7XG5cdCAgICAgICAgaWYgKHBhcmVudCA9PSBudWxsIHx8ICFwYXJlbnQuX2lzQ2FuY2VsbGFibGUoKSkge1xuXHQgICAgICAgICAgICBpZiAocHJvbWlzZS5faXNGb2xsb3dpbmcoKSkge1xuXHQgICAgICAgICAgICAgICAgcHJvbWlzZS5fZm9sbG93ZWUoKS5jYW5jZWwoKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHByb21pc2UuX2NhbmNlbEJyYW5jaGVkKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaWYgKHByb21pc2UuX2lzRm9sbG93aW5nKCkpIHByb21pc2UuX2ZvbGxvd2VlKCkuY2FuY2VsKCk7XG5cdCAgICAgICAgICAgIHByb21pc2UuX3NldFdpbGxCZUNhbmNlbGxlZCgpO1xuXHQgICAgICAgICAgICBjaGlsZCA9IHByb21pc2U7XG5cdCAgICAgICAgICAgIHByb21pc2UgPSBwYXJlbnQ7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2JyYW5jaEhhc0NhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdGhpcy5fYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbC0tO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2Vub3VnaEJyYW5jaGVzSGF2ZUNhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwgPT09IHVuZGVmaW5lZCB8fFxuXHQgICAgICAgICAgIHRoaXMuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwgPD0gMDtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9jYW5jZWxCeSA9IGZ1bmN0aW9uKGNhbmNlbGxlcikge1xuXHQgICAgaWYgKGNhbmNlbGxlciA9PT0gdGhpcykge1xuXHQgICAgICAgIHRoaXMuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwgPSAwO1xuXHQgICAgICAgIHRoaXMuX2ludm9rZU9uQ2FuY2VsKCk7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuX2JyYW5jaEhhc0NhbmNlbGxlZCgpO1xuXHQgICAgICAgIGlmICh0aGlzLl9lbm91Z2hCcmFuY2hlc0hhdmVDYW5jZWxsZWQoKSkge1xuXHQgICAgICAgICAgICB0aGlzLl9pbnZva2VPbkNhbmNlbCgpO1xuXHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fY2FuY2VsQnJhbmNoZWQgPSBmdW5jdGlvbigpIHtcblx0ICAgIGlmICh0aGlzLl9lbm91Z2hCcmFuY2hlc0hhdmVDYW5jZWxsZWQoKSkge1xuXHQgICAgICAgIHRoaXMuX2NhbmNlbCgpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2NhbmNlbCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgaWYgKCF0aGlzLl9pc0NhbmNlbGxhYmxlKCkpIHJldHVybjtcblx0ICAgIHRoaXMuX3NldENhbmNlbGxlZCgpO1xuXHQgICAgYXN5bmMuaW52b2tlKHRoaXMuX2NhbmNlbFByb21pc2VzLCB0aGlzLCB1bmRlZmluZWQpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2NhbmNlbFByb21pc2VzID0gZnVuY3Rpb24oKSB7XG5cdCAgICBpZiAodGhpcy5fbGVuZ3RoKCkgPiAwKSB0aGlzLl9zZXR0bGVQcm9taXNlcygpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3Vuc2V0T25DYW5jZWwgPSBmdW5jdGlvbigpIHtcblx0ICAgIHRoaXMuX29uQ2FuY2VsRmllbGQgPSB1bmRlZmluZWQ7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5faXNDYW5jZWxsYWJsZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuaXNQZW5kaW5nKCkgJiYgIXRoaXMuX2lzQ2FuY2VsbGVkKCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5pc0NhbmNlbGxhYmxlID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gdGhpcy5pc1BlbmRpbmcoKSAmJiAhdGhpcy5pc0NhbmNlbGxlZCgpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2RvSW52b2tlT25DYW5jZWwgPSBmdW5jdGlvbihvbkNhbmNlbENhbGxiYWNrLCBpbnRlcm5hbE9ubHkpIHtcblx0ICAgIGlmICh1dGlsLmlzQXJyYXkob25DYW5jZWxDYWxsYmFjaykpIHtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9uQ2FuY2VsQ2FsbGJhY2subGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICAgICAgdGhpcy5fZG9JbnZva2VPbkNhbmNlbChvbkNhbmNlbENhbGxiYWNrW2ldLCBpbnRlcm5hbE9ubHkpO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAob25DYW5jZWxDYWxsYmFjayAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBvbkNhbmNlbENhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgaWYgKCFpbnRlcm5hbE9ubHkpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBlID0gdHJ5Q2F0Y2gob25DYW5jZWxDYWxsYmFjaykuY2FsbCh0aGlzLl9ib3VuZFZhbHVlKCkpO1xuXHQgICAgICAgICAgICAgICAgaWYgKGUgPT09IGVycm9yT2JqKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXR0YWNoRXh0cmFUcmFjZShlLmUpO1xuXHQgICAgICAgICAgICAgICAgICAgIGFzeW5jLnRocm93TGF0ZXIoZS5lKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIG9uQ2FuY2VsQ2FsbGJhY2suX3Jlc3VsdENhbmNlbGxlZCh0aGlzKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5faW52b2tlT25DYW5jZWwgPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciBvbkNhbmNlbENhbGxiYWNrID0gdGhpcy5fb25DYW5jZWwoKTtcblx0ICAgIHRoaXMuX3Vuc2V0T25DYW5jZWwoKTtcblx0ICAgIGFzeW5jLmludm9rZSh0aGlzLl9kb0ludm9rZU9uQ2FuY2VsLCB0aGlzLCBvbkNhbmNlbENhbGxiYWNrKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9pbnZva2VJbnRlcm5hbE9uQ2FuY2VsID0gZnVuY3Rpb24oKSB7XG5cdCAgICBpZiAodGhpcy5faXNDYW5jZWxsYWJsZSgpKSB7XG5cdCAgICAgICAgdGhpcy5fZG9JbnZva2VPbkNhbmNlbCh0aGlzLl9vbkNhbmNlbCgpLCB0cnVlKTtcblx0ICAgICAgICB0aGlzLl91bnNldE9uQ2FuY2VsKCk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLmNhbmNlbCgpO1xuXHR9O1xuXHRcblx0fTtcblx0XG5cdH0se1wiLi91dGlsXCI6MzZ9XSw3OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oTkVYVF9GSUxURVIpIHtcblx0dmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXHR2YXIgZ2V0S2V5cyA9IF9kZXJlcV8oXCIuL2VzNVwiKS5rZXlzO1xuXHR2YXIgdHJ5Q2F0Y2ggPSB1dGlsLnRyeUNhdGNoO1xuXHR2YXIgZXJyb3JPYmogPSB1dGlsLmVycm9yT2JqO1xuXHRcblx0ZnVuY3Rpb24gY2F0Y2hGaWx0ZXIoaW5zdGFuY2VzLCBjYiwgcHJvbWlzZSkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcblx0ICAgICAgICB2YXIgYm91bmRUbyA9IHByb21pc2UuX2JvdW5kVmFsdWUoKTtcblx0ICAgICAgICBwcmVkaWNhdGVMb29wOiBmb3IgKHZhciBpID0gMDsgaSA8IGluc3RhbmNlcy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgICAgICB2YXIgaXRlbSA9IGluc3RhbmNlc1tpXTtcblx0XG5cdCAgICAgICAgICAgIGlmIChpdGVtID09PSBFcnJvciB8fFxuXHQgICAgICAgICAgICAgICAgKGl0ZW0gIT0gbnVsbCAmJiBpdGVtLnByb3RvdHlwZSBpbnN0YW5jZW9mIEVycm9yKSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBpdGVtKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyeUNhdGNoKGNiKS5jYWxsKGJvdW5kVG8sIGUpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpdGVtID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzUHJlZGljYXRlID0gdHJ5Q2F0Y2goaXRlbSkuY2FsbChib3VuZFRvLCBlKTtcblx0ICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzUHJlZGljYXRlID09PSBlcnJvck9iaikge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaGVzUHJlZGljYXRlO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtYXRjaGVzUHJlZGljYXRlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyeUNhdGNoKGNiKS5jYWxsKGJvdW5kVG8sIGUpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHV0aWwuaXNPYmplY3QoZSkpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBrZXlzID0gZ2V0S2V5cyhpdGVtKTtcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwga2V5cy5sZW5ndGg7ICsraikge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2pdO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtW2tleV0gIT0gZVtrZXldKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIHByZWRpY2F0ZUxvb3A7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRyeUNhdGNoKGNiKS5jYWxsKGJvdW5kVG8sIGUpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBORVhUX0ZJTFRFUjtcblx0ICAgIH07XG5cdH1cblx0XG5cdHJldHVybiBjYXRjaEZpbHRlcjtcblx0fTtcblx0XG5cdH0se1wiLi9lczVcIjoxMyxcIi4vdXRpbFwiOjM2fV0sODpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UpIHtcblx0dmFyIGxvbmdTdGFja1RyYWNlcyA9IGZhbHNlO1xuXHR2YXIgY29udGV4dFN0YWNrID0gW107XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fcHJvbWlzZUNyZWF0ZWQgPSBmdW5jdGlvbigpIHt9O1xuXHRQcm9taXNlLnByb3RvdHlwZS5fcHVzaENvbnRleHQgPSBmdW5jdGlvbigpIHt9O1xuXHRQcm9taXNlLnByb3RvdHlwZS5fcG9wQ29udGV4dCA9IGZ1bmN0aW9uKCkge3JldHVybiBudWxsO307XG5cdFByb21pc2UuX3BlZWtDb250ZXh0ID0gUHJvbWlzZS5wcm90b3R5cGUuX3BlZWtDb250ZXh0ID0gZnVuY3Rpb24oKSB7fTtcblx0XG5cdGZ1bmN0aW9uIENvbnRleHQoKSB7XG5cdCAgICB0aGlzLl90cmFjZSA9IG5ldyBDb250ZXh0LkNhcHR1cmVkVHJhY2UocGVla0NvbnRleHQoKSk7XG5cdH1cblx0Q29udGV4dC5wcm90b3R5cGUuX3B1c2hDb250ZXh0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHRoaXMuX3RyYWNlICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB0aGlzLl90cmFjZS5fcHJvbWlzZUNyZWF0ZWQgPSBudWxsO1xuXHQgICAgICAgIGNvbnRleHRTdGFjay5wdXNoKHRoaXMuX3RyYWNlKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdENvbnRleHQucHJvdG90eXBlLl9wb3BDb250ZXh0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHRoaXMuX3RyYWNlICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgdHJhY2UgPSBjb250ZXh0U3RhY2sucG9wKCk7XG5cdCAgICAgICAgdmFyIHJldCA9IHRyYWNlLl9wcm9taXNlQ3JlYXRlZDtcblx0ICAgICAgICB0cmFjZS5fcHJvbWlzZUNyZWF0ZWQgPSBudWxsO1xuXHQgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbnVsbDtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUNvbnRleHQoKSB7XG5cdCAgICBpZiAobG9uZ1N0YWNrVHJhY2VzKSByZXR1cm4gbmV3IENvbnRleHQoKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcGVla0NvbnRleHQoKSB7XG5cdCAgICB2YXIgbGFzdEluZGV4ID0gY29udGV4dFN0YWNrLmxlbmd0aCAtIDE7XG5cdCAgICBpZiAobGFzdEluZGV4ID49IDApIHtcblx0ICAgICAgICByZXR1cm4gY29udGV4dFN0YWNrW2xhc3RJbmRleF07XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdW5kZWZpbmVkO1xuXHR9XG5cdENvbnRleHQuQ2FwdHVyZWRUcmFjZSA9IG51bGw7XG5cdENvbnRleHQuY3JlYXRlID0gY3JlYXRlQ29udGV4dDtcblx0Q29udGV4dC5kZWFjdGl2YXRlTG9uZ1N0YWNrVHJhY2VzID0gZnVuY3Rpb24oKSB7fTtcblx0Q29udGV4dC5hY3RpdmF0ZUxvbmdTdGFja1RyYWNlcyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIFByb21pc2VfcHVzaENvbnRleHQgPSBQcm9taXNlLnByb3RvdHlwZS5fcHVzaENvbnRleHQ7XG5cdCAgICB2YXIgUHJvbWlzZV9wb3BDb250ZXh0ID0gUHJvbWlzZS5wcm90b3R5cGUuX3BvcENvbnRleHQ7XG5cdCAgICB2YXIgUHJvbWlzZV9QZWVrQ29udGV4dCA9IFByb21pc2UuX3BlZWtDb250ZXh0O1xuXHQgICAgdmFyIFByb21pc2VfcGVla0NvbnRleHQgPSBQcm9taXNlLnByb3RvdHlwZS5fcGVla0NvbnRleHQ7XG5cdCAgICB2YXIgUHJvbWlzZV9wcm9taXNlQ3JlYXRlZCA9IFByb21pc2UucHJvdG90eXBlLl9wcm9taXNlQ3JlYXRlZDtcblx0ICAgIENvbnRleHQuZGVhY3RpdmF0ZUxvbmdTdGFja1RyYWNlcyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIFByb21pc2UucHJvdG90eXBlLl9wdXNoQ29udGV4dCA9IFByb21pc2VfcHVzaENvbnRleHQ7XG5cdCAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX3BvcENvbnRleHQgPSBQcm9taXNlX3BvcENvbnRleHQ7XG5cdCAgICAgICAgUHJvbWlzZS5fcGVla0NvbnRleHQgPSBQcm9taXNlX1BlZWtDb250ZXh0O1xuXHQgICAgICAgIFByb21pc2UucHJvdG90eXBlLl9wZWVrQ29udGV4dCA9IFByb21pc2VfcGVla0NvbnRleHQ7XG5cdCAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX3Byb21pc2VDcmVhdGVkID0gUHJvbWlzZV9wcm9taXNlQ3JlYXRlZDtcblx0ICAgICAgICBsb25nU3RhY2tUcmFjZXMgPSBmYWxzZTtcblx0ICAgIH07XG5cdCAgICBsb25nU3RhY2tUcmFjZXMgPSB0cnVlO1xuXHQgICAgUHJvbWlzZS5wcm90b3R5cGUuX3B1c2hDb250ZXh0ID0gQ29udGV4dC5wcm90b3R5cGUuX3B1c2hDb250ZXh0O1xuXHQgICAgUHJvbWlzZS5wcm90b3R5cGUuX3BvcENvbnRleHQgPSBDb250ZXh0LnByb3RvdHlwZS5fcG9wQ29udGV4dDtcblx0ICAgIFByb21pc2UuX3BlZWtDb250ZXh0ID0gUHJvbWlzZS5wcm90b3R5cGUuX3BlZWtDb250ZXh0ID0gcGVla0NvbnRleHQ7XG5cdCAgICBQcm9taXNlLnByb3RvdHlwZS5fcHJvbWlzZUNyZWF0ZWQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgY3R4ID0gdGhpcy5fcGVla0NvbnRleHQoKTtcblx0ICAgICAgICBpZiAoY3R4ICYmIGN0eC5fcHJvbWlzZUNyZWF0ZWQgPT0gbnVsbCkgY3R4Ll9wcm9taXNlQ3JlYXRlZCA9IHRoaXM7XG5cdCAgICB9O1xuXHR9O1xuXHRyZXR1cm4gQ29udGV4dDtcblx0fTtcblx0XG5cdH0se31dLDk6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLCBDb250ZXh0KSB7XG5cdHZhciBnZXREb21haW4gPSBQcm9taXNlLl9nZXREb21haW47XG5cdHZhciBhc3luYyA9IFByb21pc2UuX2FzeW5jO1xuXHR2YXIgV2FybmluZyA9IF9kZXJlcV8oXCIuL2Vycm9yc1wiKS5XYXJuaW5nO1xuXHR2YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cdHZhciBjYW5BdHRhY2hUcmFjZSA9IHV0aWwuY2FuQXR0YWNoVHJhY2U7XG5cdHZhciB1bmhhbmRsZWRSZWplY3Rpb25IYW5kbGVkO1xuXHR2YXIgcG9zc2libHlVbmhhbmRsZWRSZWplY3Rpb247XG5cdHZhciBibHVlYmlyZEZyYW1lUGF0dGVybiA9XG5cdCAgICAvW1xcXFxcXC9dYmx1ZWJpcmRbXFxcXFxcL11qc1tcXFxcXFwvXShyZWxlYXNlfGRlYnVnfGluc3RydW1lbnRlZCkvO1xuXHR2YXIgbm9kZUZyYW1lUGF0dGVybiA9IC9cXCgoPzp0aW1lcnNcXC5qcyk6XFxkKzpcXGQrXFwpLztcblx0dmFyIHBhcnNlTGluZVBhdHRlcm4gPSAvW1xcLzxcXChdKC4rPyk6KFxcZCspOihcXGQrKVxcKT9cXHMqJC87XG5cdHZhciBzdGFja0ZyYW1lUGF0dGVybiA9IG51bGw7XG5cdHZhciBmb3JtYXRTdGFjayA9IG51bGw7XG5cdHZhciBpbmRlbnRTdGFja0ZyYW1lcyA9IGZhbHNlO1xuXHR2YXIgcHJpbnRXYXJuaW5nO1xuXHR2YXIgZGVidWdnaW5nID0gISEodXRpbC5lbnYoXCJCTFVFQklSRF9ERUJVR1wiKSAhPSAwICYmXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICh0cnVlIHx8XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICB1dGlsLmVudihcIkJMVUVCSVJEX0RFQlVHXCIpIHx8XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICB1dGlsLmVudihcIk5PREVfRU5WXCIpID09PSBcImRldmVsb3BtZW50XCIpKTtcblx0XG5cdHZhciB3YXJuaW5ncyA9ICEhKHV0aWwuZW52KFwiQkxVRUJJUkRfV0FSTklOR1NcIikgIT0gMCAmJlxuXHQgICAgKGRlYnVnZ2luZyB8fCB1dGlsLmVudihcIkJMVUVCSVJEX1dBUk5JTkdTXCIpKSk7XG5cdFxuXHR2YXIgbG9uZ1N0YWNrVHJhY2VzID0gISEodXRpbC5lbnYoXCJCTFVFQklSRF9MT05HX1NUQUNLX1RSQUNFU1wiKSAhPSAwICYmXG5cdCAgICAoZGVidWdnaW5nIHx8IHV0aWwuZW52KFwiQkxVRUJJUkRfTE9OR19TVEFDS19UUkFDRVNcIikpKTtcblx0XG5cdHZhciB3Rm9yZ290dGVuUmV0dXJuID0gdXRpbC5lbnYoXCJCTFVFQklSRF9XX0ZPUkdPVFRFTl9SRVRVUk5cIikgIT0gMCAmJlxuXHQgICAgKHdhcm5pbmdzIHx8ICEhdXRpbC5lbnYoXCJCTFVFQklSRF9XX0ZPUkdPVFRFTl9SRVRVUk5cIikpO1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuc3VwcHJlc3NVbmhhbmRsZWRSZWplY3Rpb25zID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgdGFyZ2V0ID0gdGhpcy5fdGFyZ2V0KCk7XG5cdCAgICB0YXJnZXQuX2JpdEZpZWxkID0gKCh0YXJnZXQuX2JpdEZpZWxkICYgKH4xMDQ4NTc2KSkgfFxuXHQgICAgICAgICAgICAgICAgICAgICAgNTI0Mjg4KTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9lbnN1cmVQb3NzaWJsZVJlamVjdGlvbkhhbmRsZWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAoKHRoaXMuX2JpdEZpZWxkICYgNTI0Mjg4KSAhPT0gMCkgcmV0dXJuO1xuXHQgICAgdGhpcy5fc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQoKTtcblx0ICAgIGFzeW5jLmludm9rZUxhdGVyKHRoaXMuX25vdGlmeVVuaGFuZGxlZFJlamVjdGlvbiwgdGhpcywgdW5kZWZpbmVkKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9ub3RpZnlVbmhhbmRsZWRSZWplY3Rpb25Jc0hhbmRsZWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBmaXJlUmVqZWN0aW9uRXZlbnQoXCJyZWplY3Rpb25IYW5kbGVkXCIsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmhhbmRsZWRSZWplY3Rpb25IYW5kbGVkLCB1bmRlZmluZWQsIHRoaXMpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3NldFJldHVybmVkTm9uVW5kZWZpbmVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgMjY4NDM1NDU2O1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3JldHVybmVkTm9uVW5kZWZpbmVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgMjY4NDM1NDU2KSAhPT0gMDtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9ub3RpZnlVbmhhbmRsZWRSZWplY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAodGhpcy5faXNSZWplY3Rpb25VbmhhbmRsZWQoKSkge1xuXHQgICAgICAgIHZhciByZWFzb24gPSB0aGlzLl9zZXR0bGVkVmFsdWUoKTtcblx0ICAgICAgICB0aGlzLl9zZXRVbmhhbmRsZWRSZWplY3Rpb25Jc05vdGlmaWVkKCk7XG5cdCAgICAgICAgZmlyZVJlamVjdGlvbkV2ZW50KFwidW5oYW5kbGVkUmVqZWN0aW9uXCIsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zc2libHlVbmhhbmRsZWRSZWplY3Rpb24sIHJlYXNvbiwgdGhpcyk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fc2V0VW5oYW5kbGVkUmVqZWN0aW9uSXNOb3RpZmllZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCAyNjIxNDQ7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fdW5zZXRVbmhhbmRsZWRSZWplY3Rpb25Jc05vdGlmaWVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCAmICh+MjYyMTQ0KTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9pc1VuaGFuZGxlZFJlamVjdGlvbk5vdGlmaWVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDI2MjE0NCkgPiAwO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3NldFJlamVjdGlvbklzVW5oYW5kbGVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCB8IDEwNDg1NzY7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fdW5zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgJiAofjEwNDg1NzYpO1xuXHQgICAgaWYgKHRoaXMuX2lzVW5oYW5kbGVkUmVqZWN0aW9uTm90aWZpZWQoKSkge1xuXHQgICAgICAgIHRoaXMuX3Vuc2V0VW5oYW5kbGVkUmVqZWN0aW9uSXNOb3RpZmllZCgpO1xuXHQgICAgICAgIHRoaXMuX25vdGlmeVVuaGFuZGxlZFJlamVjdGlvbklzSGFuZGxlZCgpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2lzUmVqZWN0aW9uVW5oYW5kbGVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDEwNDg1NzYpID4gMDtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl93YXJuID0gZnVuY3Rpb24obWVzc2FnZSwgc2hvdWxkVXNlT3duVHJhY2UsIHByb21pc2UpIHtcblx0ICAgIHJldHVybiB3YXJuKG1lc3NhZ2UsIHNob3VsZFVzZU93blRyYWNlLCBwcm9taXNlIHx8IHRoaXMpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5vblBvc3NpYmx5VW5oYW5kbGVkUmVqZWN0aW9uID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgICB2YXIgZG9tYWluID0gZ2V0RG9tYWluKCk7XG5cdCAgICBwb3NzaWJseVVuaGFuZGxlZFJlamVjdGlvbiA9XG5cdCAgICAgICAgdHlwZW9mIGZuID09PSBcImZ1bmN0aW9uXCIgPyAoZG9tYWluID09PSBudWxsID9cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbiA6IHV0aWwuZG9tYWluQmluZChkb21haW4sIGZuKSlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cdH07XG5cdFxuXHRQcm9taXNlLm9uVW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlZCA9IGZ1bmN0aW9uIChmbikge1xuXHQgICAgdmFyIGRvbWFpbiA9IGdldERvbWFpbigpO1xuXHQgICAgdW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlZCA9XG5cdCAgICAgICAgdHlwZW9mIGZuID09PSBcImZ1bmN0aW9uXCIgPyAoZG9tYWluID09PSBudWxsID9cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbiA6IHV0aWwuZG9tYWluQmluZChkb21haW4sIGZuKSlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cdH07XG5cdFxuXHR2YXIgZGlzYWJsZUxvbmdTdGFja1RyYWNlcyA9IGZ1bmN0aW9uKCkge307XG5cdFByb21pc2UubG9uZ1N0YWNrVHJhY2VzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKGFzeW5jLmhhdmVJdGVtc1F1ZXVlZCgpICYmICFjb25maWcubG9uZ1N0YWNrVHJhY2VzKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IGVuYWJsZSBsb25nIHN0YWNrIHRyYWNlcyBhZnRlciBwcm9taXNlcyBoYXZlIGJlZW4gY3JlYXRlZFxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG5cdCAgICB9XG5cdCAgICBpZiAoIWNvbmZpZy5sb25nU3RhY2tUcmFjZXMgJiYgbG9uZ1N0YWNrVHJhY2VzSXNTdXBwb3J0ZWQoKSkge1xuXHQgICAgICAgIHZhciBQcm9taXNlX2NhcHR1cmVTdGFja1RyYWNlID0gUHJvbWlzZS5wcm90b3R5cGUuX2NhcHR1cmVTdGFja1RyYWNlO1xuXHQgICAgICAgIHZhciBQcm9taXNlX2F0dGFjaEV4dHJhVHJhY2UgPSBQcm9taXNlLnByb3RvdHlwZS5fYXR0YWNoRXh0cmFUcmFjZTtcblx0ICAgICAgICBjb25maWcubG9uZ1N0YWNrVHJhY2VzID0gdHJ1ZTtcblx0ICAgICAgICBkaXNhYmxlTG9uZ1N0YWNrVHJhY2VzID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIGlmIChhc3luYy5oYXZlSXRlbXNRdWV1ZWQoKSAmJiAhY29uZmlnLmxvbmdTdGFja1RyYWNlcykge1xuXHQgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IGVuYWJsZSBsb25nIHN0YWNrIHRyYWNlcyBhZnRlciBwcm9taXNlcyBoYXZlIGJlZW4gY3JlYXRlZFxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX2NhcHR1cmVTdGFja1RyYWNlID0gUHJvbWlzZV9jYXB0dXJlU3RhY2tUcmFjZTtcblx0ICAgICAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX2F0dGFjaEV4dHJhVHJhY2UgPSBQcm9taXNlX2F0dGFjaEV4dHJhVHJhY2U7XG5cdCAgICAgICAgICAgIENvbnRleHQuZGVhY3RpdmF0ZUxvbmdTdGFja1RyYWNlcygpO1xuXHQgICAgICAgICAgICBhc3luYy5lbmFibGVUcmFtcG9saW5lKCk7XG5cdCAgICAgICAgICAgIGNvbmZpZy5sb25nU3RhY2tUcmFjZXMgPSBmYWxzZTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIFByb21pc2UucHJvdG90eXBlLl9jYXB0dXJlU3RhY2tUcmFjZSA9IGxvbmdTdGFja1RyYWNlc0NhcHR1cmVTdGFja1RyYWNlO1xuXHQgICAgICAgIFByb21pc2UucHJvdG90eXBlLl9hdHRhY2hFeHRyYVRyYWNlID0gbG9uZ1N0YWNrVHJhY2VzQXR0YWNoRXh0cmFUcmFjZTtcblx0ICAgICAgICBDb250ZXh0LmFjdGl2YXRlTG9uZ1N0YWNrVHJhY2VzKCk7XG5cdCAgICAgICAgYXN5bmMuZGlzYWJsZVRyYW1wb2xpbmVJZk5lY2Vzc2FyeSgpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0UHJvbWlzZS5oYXNMb25nU3RhY2tUcmFjZXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gY29uZmlnLmxvbmdTdGFja1RyYWNlcyAmJiBsb25nU3RhY2tUcmFjZXNJc1N1cHBvcnRlZCgpO1xuXHR9O1xuXHRcblx0dmFyIGZpcmVEb21FdmVudCA9IChmdW5jdGlvbigpIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBDdXN0b21FdmVudCA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgIHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudChcIkN1c3RvbUV2ZW50XCIpO1xuXHQgICAgICAgICAgICB1dGlsLmdsb2JhbC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcblx0ICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG5hbWUsIGV2ZW50KSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZG9tRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQobmFtZS50b0xvd2VyQ2FzZSgpLCB7XG5cdCAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiBldmVudCxcblx0ICAgICAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiAhdXRpbC5nbG9iYWwuZGlzcGF0Y2hFdmVudChkb21FdmVudCk7XG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgRXZlbnQgPT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgICAgICB2YXIgZXZlbnQgPSBuZXcgRXZlbnQoXCJDdXN0b21FdmVudFwiKTtcblx0ICAgICAgICAgICAgdXRpbC5nbG9iYWwuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cdCAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihuYW1lLCBldmVudCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGRvbUV2ZW50ID0gbmV3IEV2ZW50KG5hbWUudG9Mb3dlckNhc2UoKSwge1xuXHQgICAgICAgICAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWVcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgZG9tRXZlbnQuZGV0YWlsID0gZXZlbnQ7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gIXV0aWwuZ2xvYmFsLmRpc3BhdGNoRXZlbnQoZG9tRXZlbnQpO1xuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHZhciBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7XG5cdCAgICAgICAgICAgIGV2ZW50LmluaXRDdXN0b21FdmVudChcInRlc3Rpbmd0aGVldmVudFwiLCBmYWxzZSwgdHJ1ZSwge30pO1xuXHQgICAgICAgICAgICB1dGlsLmdsb2JhbC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcblx0ICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG5hbWUsIGV2ZW50KSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZG9tRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIkN1c3RvbUV2ZW50XCIpO1xuXHQgICAgICAgICAgICAgICAgZG9tRXZlbnQuaW5pdEN1c3RvbUV2ZW50KG5hbWUudG9Mb3dlckNhc2UoKSwgZmFsc2UsIHRydWUsXG5cdCAgICAgICAgICAgICAgICAgICAgZXZlbnQpO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuICF1dGlsLmdsb2JhbC5kaXNwYXRjaEV2ZW50KGRvbUV2ZW50KTtcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9XG5cdCAgICB9IGNhdGNoIChlKSB7fVxuXHQgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH07XG5cdH0pKCk7XG5cdFxuXHR2YXIgZmlyZUdsb2JhbEV2ZW50ID0gKGZ1bmN0aW9uKCkge1xuXHQgICAgaWYgKHV0aWwuaXNOb2RlKSB7XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gcHJvY2Vzcy5lbWl0LmFwcGx5KHByb2Nlc3MsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgfTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKCF1dGlsLmdsb2JhbCkge1xuXHQgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbihuYW1lKSB7XG5cdCAgICAgICAgICAgIHZhciBtZXRob2ROYW1lID0gXCJvblwiICsgbmFtZS50b0xvd2VyQ2FzZSgpO1xuXHQgICAgICAgICAgICB2YXIgbWV0aG9kID0gdXRpbC5nbG9iYWxbbWV0aG9kTmFtZV07XG5cdCAgICAgICAgICAgIGlmICghbWV0aG9kKSByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICAgIG1ldGhvZC5hcHBseSh1dGlsLmdsb2JhbCwgW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcblx0ICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0fSkoKTtcblx0XG5cdGZ1bmN0aW9uIGdlbmVyYXRlUHJvbWlzZUxpZmVjeWNsZUV2ZW50T2JqZWN0KG5hbWUsIHByb21pc2UpIHtcblx0ICAgIHJldHVybiB7cHJvbWlzZTogcHJvbWlzZX07XG5cdH1cblx0XG5cdHZhciBldmVudFRvT2JqZWN0R2VuZXJhdG9yID0ge1xuXHQgICAgcHJvbWlzZUNyZWF0ZWQ6IGdlbmVyYXRlUHJvbWlzZUxpZmVjeWNsZUV2ZW50T2JqZWN0LFxuXHQgICAgcHJvbWlzZUZ1bGZpbGxlZDogZ2VuZXJhdGVQcm9taXNlTGlmZWN5Y2xlRXZlbnRPYmplY3QsXG5cdCAgICBwcm9taXNlUmVqZWN0ZWQ6IGdlbmVyYXRlUHJvbWlzZUxpZmVjeWNsZUV2ZW50T2JqZWN0LFxuXHQgICAgcHJvbWlzZVJlc29sdmVkOiBnZW5lcmF0ZVByb21pc2VMaWZlY3ljbGVFdmVudE9iamVjdCxcblx0ICAgIHByb21pc2VDYW5jZWxsZWQ6IGdlbmVyYXRlUHJvbWlzZUxpZmVjeWNsZUV2ZW50T2JqZWN0LFxuXHQgICAgcHJvbWlzZUNoYWluZWQ6IGZ1bmN0aW9uKG5hbWUsIHByb21pc2UsIGNoaWxkKSB7XG5cdCAgICAgICAgcmV0dXJuIHtwcm9taXNlOiBwcm9taXNlLCBjaGlsZDogY2hpbGR9O1xuXHQgICAgfSxcblx0ICAgIHdhcm5pbmc6IGZ1bmN0aW9uKG5hbWUsIHdhcm5pbmcpIHtcblx0ICAgICAgICByZXR1cm4ge3dhcm5pbmc6IHdhcm5pbmd9O1xuXHQgICAgfSxcblx0ICAgIHVuaGFuZGxlZFJlamVjdGlvbjogZnVuY3Rpb24gKG5hbWUsIHJlYXNvbiwgcHJvbWlzZSkge1xuXHQgICAgICAgIHJldHVybiB7cmVhc29uOiByZWFzb24sIHByb21pc2U6IHByb21pc2V9O1xuXHQgICAgfSxcblx0ICAgIHJlamVjdGlvbkhhbmRsZWQ6IGdlbmVyYXRlUHJvbWlzZUxpZmVjeWNsZUV2ZW50T2JqZWN0XG5cdH07XG5cdFxuXHR2YXIgYWN0aXZlRmlyZUV2ZW50ID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0ICAgIHZhciBnbG9iYWxFdmVudEZpcmVkID0gZmFsc2U7XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGdsb2JhbEV2ZW50RmlyZWQgPSBmaXJlR2xvYmFsRXZlbnQuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICBhc3luYy50aHJvd0xhdGVyKGUpO1xuXHQgICAgICAgIGdsb2JhbEV2ZW50RmlyZWQgPSB0cnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBkb21FdmVudEZpcmVkID0gZmFsc2U7XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGRvbUV2ZW50RmlyZWQgPSBmaXJlRG9tRXZlbnQobmFtZSxcblx0ICAgICAgICAgICAgICAgICAgICBldmVudFRvT2JqZWN0R2VuZXJhdG9yW25hbWVdLmFwcGx5KG51bGwsIGFyZ3VtZW50cykpO1xuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIGFzeW5jLnRocm93TGF0ZXIoZSk7XG5cdCAgICAgICAgZG9tRXZlbnRGaXJlZCA9IHRydWU7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGRvbUV2ZW50RmlyZWQgfHwgZ2xvYmFsRXZlbnRGaXJlZDtcblx0fTtcblx0XG5cdFByb21pc2UuY29uZmlnID0gZnVuY3Rpb24ob3B0cykge1xuXHQgICAgb3B0cyA9IE9iamVjdChvcHRzKTtcblx0ICAgIGlmIChcImxvbmdTdGFja1RyYWNlc1wiIGluIG9wdHMpIHtcblx0ICAgICAgICBpZiAob3B0cy5sb25nU3RhY2tUcmFjZXMpIHtcblx0ICAgICAgICAgICAgUHJvbWlzZS5sb25nU3RhY2tUcmFjZXMoKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKCFvcHRzLmxvbmdTdGFja1RyYWNlcyAmJiBQcm9taXNlLmhhc0xvbmdTdGFja1RyYWNlcygpKSB7XG5cdCAgICAgICAgICAgIGRpc2FibGVMb25nU3RhY2tUcmFjZXMoKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBpZiAoXCJ3YXJuaW5nc1wiIGluIG9wdHMpIHtcblx0ICAgICAgICB2YXIgd2FybmluZ3NPcHRpb24gPSBvcHRzLndhcm5pbmdzO1xuXHQgICAgICAgIGNvbmZpZy53YXJuaW5ncyA9ICEhd2FybmluZ3NPcHRpb247XG5cdCAgICAgICAgd0ZvcmdvdHRlblJldHVybiA9IGNvbmZpZy53YXJuaW5ncztcblx0XG5cdCAgICAgICAgaWYgKHV0aWwuaXNPYmplY3Qod2FybmluZ3NPcHRpb24pKSB7XG5cdCAgICAgICAgICAgIGlmIChcIndGb3Jnb3R0ZW5SZXR1cm5cIiBpbiB3YXJuaW5nc09wdGlvbikge1xuXHQgICAgICAgICAgICAgICAgd0ZvcmdvdHRlblJldHVybiA9ICEhd2FybmluZ3NPcHRpb24ud0ZvcmdvdHRlblJldHVybjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGlmIChcImNhbmNlbGxhdGlvblwiIGluIG9wdHMgJiYgb3B0cy5jYW5jZWxsYXRpb24gJiYgIWNvbmZpZy5jYW5jZWxsYXRpb24pIHtcblx0ICAgICAgICBpZiAoYXN5bmMuaGF2ZUl0ZW1zUXVldWVkKCkpIHtcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuXHQgICAgICAgICAgICAgICAgXCJjYW5ub3QgZW5hYmxlIGNhbmNlbGxhdGlvbiBhZnRlciBwcm9taXNlcyBhcmUgaW4gdXNlXCIpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fY2xlYXJDYW5jZWxsYXRpb25EYXRhID1cblx0ICAgICAgICAgICAgY2FuY2VsbGF0aW9uQ2xlYXJDYW5jZWxsYXRpb25EYXRhO1xuXHQgICAgICAgIFByb21pc2UucHJvdG90eXBlLl9wcm9wYWdhdGVGcm9tID0gY2FuY2VsbGF0aW9uUHJvcGFnYXRlRnJvbTtcblx0ICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fb25DYW5jZWwgPSBjYW5jZWxsYXRpb25PbkNhbmNlbDtcblx0ICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fc2V0T25DYW5jZWwgPSBjYW5jZWxsYXRpb25TZXRPbkNhbmNlbDtcblx0ICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fYXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2sgPVxuXHQgICAgICAgICAgICBjYW5jZWxsYXRpb25BdHRhY2hDYW5jZWxsYXRpb25DYWxsYmFjaztcblx0ICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fZXhlY3V0ZSA9IGNhbmNlbGxhdGlvbkV4ZWN1dGU7XG5cdCAgICAgICAgcHJvcGFnYXRlRnJvbUZ1bmN0aW9uID0gY2FuY2VsbGF0aW9uUHJvcGFnYXRlRnJvbTtcblx0ICAgICAgICBjb25maWcuY2FuY2VsbGF0aW9uID0gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIGlmIChcIm1vbml0b3JpbmdcIiBpbiBvcHRzKSB7XG5cdCAgICAgICAgaWYgKG9wdHMubW9uaXRvcmluZyAmJiAhY29uZmlnLm1vbml0b3JpbmcpIHtcblx0ICAgICAgICAgICAgY29uZmlnLm1vbml0b3JpbmcgPSB0cnVlO1xuXHQgICAgICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fZmlyZUV2ZW50ID0gYWN0aXZlRmlyZUV2ZW50O1xuXHQgICAgICAgIH0gZWxzZSBpZiAoIW9wdHMubW9uaXRvcmluZyAmJiBjb25maWcubW9uaXRvcmluZykge1xuXHQgICAgICAgICAgICBjb25maWcubW9uaXRvcmluZyA9IGZhbHNlO1xuXHQgICAgICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fZmlyZUV2ZW50ID0gZGVmYXVsdEZpcmVFdmVudDtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBkZWZhdWx0RmlyZUV2ZW50KCkgeyByZXR1cm4gZmFsc2U7IH1cblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9maXJlRXZlbnQgPSBkZWZhdWx0RmlyZUV2ZW50O1xuXHRQcm9taXNlLnByb3RvdHlwZS5fZXhlY3V0ZSA9IGZ1bmN0aW9uKGV4ZWN1dG9yLCByZXNvbHZlLCByZWplY3QpIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgICAgZXhlY3V0b3IocmVzb2x2ZSwgcmVqZWN0KTtcblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICByZXR1cm4gZTtcblx0ICAgIH1cblx0fTtcblx0UHJvbWlzZS5wcm90b3R5cGUuX29uQ2FuY2VsID0gZnVuY3Rpb24gKCkge307XG5cdFByb21pc2UucHJvdG90eXBlLl9zZXRPbkNhbmNlbCA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7IDsgfTtcblx0UHJvbWlzZS5wcm90b3R5cGUuX2F0dGFjaENhbmNlbGxhdGlvbkNhbGxiYWNrID0gZnVuY3Rpb24ob25DYW5jZWwpIHtcblx0ICAgIDtcblx0fTtcblx0UHJvbWlzZS5wcm90b3R5cGUuX2NhcHR1cmVTdGFja1RyYWNlID0gZnVuY3Rpb24gKCkge307XG5cdFByb21pc2UucHJvdG90eXBlLl9hdHRhY2hFeHRyYVRyYWNlID0gZnVuY3Rpb24gKCkge307XG5cdFByb21pc2UucHJvdG90eXBlLl9jbGVhckNhbmNlbGxhdGlvbkRhdGEgPSBmdW5jdGlvbigpIHt9O1xuXHRQcm9taXNlLnByb3RvdHlwZS5fcHJvcGFnYXRlRnJvbSA9IGZ1bmN0aW9uIChwYXJlbnQsIGZsYWdzKSB7XG5cdCAgICA7XG5cdCAgICA7XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBjYW5jZWxsYXRpb25FeGVjdXRlKGV4ZWN1dG9yLCByZXNvbHZlLCByZWplY3QpIHtcblx0ICAgIHZhciBwcm9taXNlID0gdGhpcztcblx0ICAgIHRyeSB7XG5cdCAgICAgICAgZXhlY3V0b3IocmVzb2x2ZSwgcmVqZWN0LCBmdW5jdGlvbihvbkNhbmNlbCkge1xuXHQgICAgICAgICAgICBpZiAodHlwZW9mIG9uQ2FuY2VsICE9PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJvbkNhbmNlbCBtdXN0IGJlIGEgZnVuY3Rpb24sIGdvdDogXCIgK1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlsLnRvU3RyaW5nKG9uQ2FuY2VsKSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcHJvbWlzZS5fYXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2sob25DYW5jZWwpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIHJldHVybiBlO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBjYW5jZWxsYXRpb25BdHRhY2hDYW5jZWxsYXRpb25DYWxsYmFjayhvbkNhbmNlbCkge1xuXHQgICAgaWYgKCF0aGlzLl9pc0NhbmNlbGxhYmxlKCkpIHJldHVybiB0aGlzO1xuXHRcblx0ICAgIHZhciBwcmV2aW91c09uQ2FuY2VsID0gdGhpcy5fb25DYW5jZWwoKTtcblx0ICAgIGlmIChwcmV2aW91c09uQ2FuY2VsICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICBpZiAodXRpbC5pc0FycmF5KHByZXZpb3VzT25DYW5jZWwpKSB7XG5cdCAgICAgICAgICAgIHByZXZpb3VzT25DYW5jZWwucHVzaChvbkNhbmNlbCk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdGhpcy5fc2V0T25DYW5jZWwoW3ByZXZpb3VzT25DYW5jZWwsIG9uQ2FuY2VsXSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLl9zZXRPbkNhbmNlbChvbkNhbmNlbCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNhbmNlbGxhdGlvbk9uQ2FuY2VsKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX29uQ2FuY2VsRmllbGQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNhbmNlbGxhdGlvblNldE9uQ2FuY2VsKG9uQ2FuY2VsKSB7XG5cdCAgICB0aGlzLl9vbkNhbmNlbEZpZWxkID0gb25DYW5jZWw7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNhbmNlbGxhdGlvbkNsZWFyQ2FuY2VsbGF0aW9uRGF0YSgpIHtcblx0ICAgIHRoaXMuX2NhbmNlbGxhdGlvblBhcmVudCA9IHVuZGVmaW5lZDtcblx0ICAgIHRoaXMuX29uQ2FuY2VsRmllbGQgPSB1bmRlZmluZWQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNhbmNlbGxhdGlvblByb3BhZ2F0ZUZyb20ocGFyZW50LCBmbGFncykge1xuXHQgICAgaWYgKChmbGFncyAmIDEpICE9PSAwKSB7XG5cdCAgICAgICAgdGhpcy5fY2FuY2VsbGF0aW9uUGFyZW50ID0gcGFyZW50O1xuXHQgICAgICAgIHZhciBicmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsID0gcGFyZW50Ll9icmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsO1xuXHQgICAgICAgIGlmIChicmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbCA9IDA7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHBhcmVudC5fYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbCA9IGJyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwgKyAxO1xuXHQgICAgfVxuXHQgICAgaWYgKChmbGFncyAmIDIpICE9PSAwICYmIHBhcmVudC5faXNCb3VuZCgpKSB7XG5cdCAgICAgICAgdGhpcy5fc2V0Qm91bmRUbyhwYXJlbnQuX2JvdW5kVG8pO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBiaW5kaW5nUHJvcGFnYXRlRnJvbShwYXJlbnQsIGZsYWdzKSB7XG5cdCAgICBpZiAoKGZsYWdzICYgMikgIT09IDAgJiYgcGFyZW50Ll9pc0JvdW5kKCkpIHtcblx0ICAgICAgICB0aGlzLl9zZXRCb3VuZFRvKHBhcmVudC5fYm91bmRUbyk7XG5cdCAgICB9XG5cdH1cblx0dmFyIHByb3BhZ2F0ZUZyb21GdW5jdGlvbiA9IGJpbmRpbmdQcm9wYWdhdGVGcm9tO1xuXHRcblx0ZnVuY3Rpb24gYm91bmRWYWx1ZUZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIHJldCA9IHRoaXMuX2JvdW5kVG87XG5cdCAgICBpZiAocmV0ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICBpZiAocmV0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuXHQgICAgICAgICAgICBpZiAocmV0LmlzRnVsZmlsbGVkKCkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiByZXQudmFsdWUoKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmV0O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBsb25nU3RhY2tUcmFjZXNDYXB0dXJlU3RhY2tUcmFjZSgpIHtcblx0ICAgIHRoaXMuX3RyYWNlID0gbmV3IENhcHR1cmVkVHJhY2UodGhpcy5fcGVla0NvbnRleHQoKSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxvbmdTdGFja1RyYWNlc0F0dGFjaEV4dHJhVHJhY2UoZXJyb3IsIGlnbm9yZVNlbGYpIHtcblx0ICAgIGlmIChjYW5BdHRhY2hUcmFjZShlcnJvcikpIHtcblx0ICAgICAgICB2YXIgdHJhY2UgPSB0aGlzLl90cmFjZTtcblx0ICAgICAgICBpZiAodHJhY2UgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICBpZiAoaWdub3JlU2VsZikgdHJhY2UgPSB0cmFjZS5fcGFyZW50O1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAodHJhY2UgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICB0cmFjZS5hdHRhY2hFeHRyYVRyYWNlKGVycm9yKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKCFlcnJvci5fX3N0YWNrQ2xlYW5lZF9fKSB7XG5cdCAgICAgICAgICAgIHZhciBwYXJzZWQgPSBwYXJzZVN0YWNrQW5kTWVzc2FnZShlcnJvcik7XG5cdCAgICAgICAgICAgIHV0aWwubm90RW51bWVyYWJsZVByb3AoZXJyb3IsIFwic3RhY2tcIixcblx0ICAgICAgICAgICAgICAgIHBhcnNlZC5tZXNzYWdlICsgXCJcXG5cIiArIHBhcnNlZC5zdGFjay5qb2luKFwiXFxuXCIpKTtcblx0ICAgICAgICAgICAgdXRpbC5ub3RFbnVtZXJhYmxlUHJvcChlcnJvciwgXCJfX3N0YWNrQ2xlYW5lZF9fXCIsIHRydWUpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zKHJldHVyblZhbHVlLCBwcm9taXNlQ3JlYXRlZCwgbmFtZSwgcHJvbWlzZSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudCkge1xuXHQgICAgaWYgKHJldHVyblZhbHVlID09PSB1bmRlZmluZWQgJiYgcHJvbWlzZUNyZWF0ZWQgIT09IG51bGwgJiZcblx0ICAgICAgICB3Rm9yZ290dGVuUmV0dXJuKSB7XG5cdCAgICAgICAgaWYgKHBhcmVudCAhPT0gdW5kZWZpbmVkICYmIHBhcmVudC5fcmV0dXJuZWROb25VbmRlZmluZWQoKSkgcmV0dXJuO1xuXHQgICAgICAgIGlmICgocHJvbWlzZS5fYml0RmllbGQgJiA2NTUzNSkgPT09IDApIHJldHVybjtcblx0XG5cdCAgICAgICAgaWYgKG5hbWUpIG5hbWUgPSBuYW1lICsgXCIgXCI7XG5cdCAgICAgICAgdmFyIGhhbmRsZXJMaW5lID0gXCJcIjtcblx0ICAgICAgICB2YXIgY3JlYXRvckxpbmUgPSBcIlwiO1xuXHQgICAgICAgIGlmIChwcm9taXNlQ3JlYXRlZC5fdHJhY2UpIHtcblx0ICAgICAgICAgICAgdmFyIHRyYWNlTGluZXMgPSBwcm9taXNlQ3JlYXRlZC5fdHJhY2Uuc3RhY2suc3BsaXQoXCJcXG5cIik7XG5cdCAgICAgICAgICAgIHZhciBzdGFjayA9IGNsZWFuU3RhY2sodHJhY2VMaW5lcyk7XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdGFjay5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBzdGFja1tpXTtcblx0ICAgICAgICAgICAgICAgIGlmICghbm9kZUZyYW1lUGF0dGVybi50ZXN0KGxpbmUpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmVNYXRjaGVzID0gbGluZS5tYXRjaChwYXJzZUxpbmVQYXR0ZXJuKTtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAobGluZU1hdGNoZXMpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlckxpbmUgID0gXCJhdCBcIiArIGxpbmVNYXRjaGVzWzFdICtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiOlwiICsgbGluZU1hdGNoZXNbMl0gKyBcIjpcIiArIGxpbmVNYXRjaGVzWzNdICsgXCIgXCI7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBpZiAoc3RhY2subGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGZpcnN0VXNlckxpbmUgPSBzdGFja1swXTtcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhY2VMaW5lcy5sZW5ndGg7ICsraSkge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICBpZiAodHJhY2VMaW5lc1tpXSA9PT0gZmlyc3RVc2VyTGluZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0b3JMaW5lID0gXCJcXG5cIiArIHRyYWNlTGluZXNbaSAtIDFdO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIG1zZyA9IFwiYSBwcm9taXNlIHdhcyBjcmVhdGVkIGluIGEgXCIgKyBuYW1lICtcblx0ICAgICAgICAgICAgXCJoYW5kbGVyIFwiICsgaGFuZGxlckxpbmUgKyBcImJ1dCB3YXMgbm90IHJldHVybmVkIGZyb20gaXQsIFwiICtcblx0ICAgICAgICAgICAgXCJzZWUgaHR0cDovL2dvby5nbC9yUnFNVXdcIiArXG5cdCAgICAgICAgICAgIGNyZWF0b3JMaW5lO1xuXHQgICAgICAgIHByb21pc2UuX3dhcm4obXNnLCB0cnVlLCBwcm9taXNlQ3JlYXRlZCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRlcHJlY2F0ZWQobmFtZSwgcmVwbGFjZW1lbnQpIHtcblx0ICAgIHZhciBtZXNzYWdlID0gbmFtZSArXG5cdCAgICAgICAgXCIgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIHZlcnNpb24uXCI7XG5cdCAgICBpZiAocmVwbGFjZW1lbnQpIG1lc3NhZ2UgKz0gXCIgVXNlIFwiICsgcmVwbGFjZW1lbnQgKyBcIiBpbnN0ZWFkLlwiO1xuXHQgICAgcmV0dXJuIHdhcm4obWVzc2FnZSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHdhcm4obWVzc2FnZSwgc2hvdWxkVXNlT3duVHJhY2UsIHByb21pc2UpIHtcblx0ICAgIGlmICghY29uZmlnLndhcm5pbmdzKSByZXR1cm47XG5cdCAgICB2YXIgd2FybmluZyA9IG5ldyBXYXJuaW5nKG1lc3NhZ2UpO1xuXHQgICAgdmFyIGN0eDtcblx0ICAgIGlmIChzaG91bGRVc2VPd25UcmFjZSkge1xuXHQgICAgICAgIHByb21pc2UuX2F0dGFjaEV4dHJhVHJhY2Uod2FybmluZyk7XG5cdCAgICB9IGVsc2UgaWYgKGNvbmZpZy5sb25nU3RhY2tUcmFjZXMgJiYgKGN0eCA9IFByb21pc2UuX3BlZWtDb250ZXh0KCkpKSB7XG5cdCAgICAgICAgY3R4LmF0dGFjaEV4dHJhVHJhY2Uod2FybmluZyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciBwYXJzZWQgPSBwYXJzZVN0YWNrQW5kTWVzc2FnZSh3YXJuaW5nKTtcblx0ICAgICAgICB3YXJuaW5nLnN0YWNrID0gcGFyc2VkLm1lc3NhZ2UgKyBcIlxcblwiICsgcGFyc2VkLnN0YWNrLmpvaW4oXCJcXG5cIik7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKCFhY3RpdmVGaXJlRXZlbnQoXCJ3YXJuaW5nXCIsIHdhcm5pbmcpKSB7XG5cdCAgICAgICAgZm9ybWF0QW5kTG9nRXJyb3Iod2FybmluZywgXCJcIiwgdHJ1ZSk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlY29uc3RydWN0U3RhY2sobWVzc2FnZSwgc3RhY2tzKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrcy5sZW5ndGggLSAxOyArK2kpIHtcblx0ICAgICAgICBzdGFja3NbaV0ucHVzaChcIkZyb20gcHJldmlvdXMgZXZlbnQ6XCIpO1xuXHQgICAgICAgIHN0YWNrc1tpXSA9IHN0YWNrc1tpXS5qb2luKFwiXFxuXCIpO1xuXHQgICAgfVxuXHQgICAgaWYgKGkgPCBzdGFja3MubGVuZ3RoKSB7XG5cdCAgICAgICAgc3RhY2tzW2ldID0gc3RhY2tzW2ldLmpvaW4oXCJcXG5cIik7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbWVzc2FnZSArIFwiXFxuXCIgKyBzdGFja3Muam9pbihcIlxcblwiKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVtb3ZlRHVwbGljYXRlT3JFbXB0eUp1bXBzKHN0YWNrcykge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFja3MubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICBpZiAoc3RhY2tzW2ldLmxlbmd0aCA9PT0gMCB8fFxuXHQgICAgICAgICAgICAoKGkgKyAxIDwgc3RhY2tzLmxlbmd0aCkgJiYgc3RhY2tzW2ldWzBdID09PSBzdGFja3NbaSsxXVswXSkpIHtcblx0ICAgICAgICAgICAgc3RhY2tzLnNwbGljZShpLCAxKTtcblx0ICAgICAgICAgICAgaS0tO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVtb3ZlQ29tbW9uUm9vdHMoc3RhY2tzKSB7XG5cdCAgICB2YXIgY3VycmVudCA9IHN0YWNrc1swXTtcblx0ICAgIGZvciAodmFyIGkgPSAxOyBpIDwgc3RhY2tzLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgdmFyIHByZXYgPSBzdGFja3NbaV07XG5cdCAgICAgICAgdmFyIGN1cnJlbnRMYXN0SW5kZXggPSBjdXJyZW50Lmxlbmd0aCAtIDE7XG5cdCAgICAgICAgdmFyIGN1cnJlbnRMYXN0TGluZSA9IGN1cnJlbnRbY3VycmVudExhc3RJbmRleF07XG5cdCAgICAgICAgdmFyIGNvbW1vblJvb3RNZWV0UG9pbnQgPSAtMTtcblx0XG5cdCAgICAgICAgZm9yICh2YXIgaiA9IHByZXYubGVuZ3RoIC0gMTsgaiA+PSAwOyAtLWopIHtcblx0ICAgICAgICAgICAgaWYgKHByZXZbal0gPT09IGN1cnJlbnRMYXN0TGluZSkge1xuXHQgICAgICAgICAgICAgICAgY29tbW9uUm9vdE1lZXRQb2ludCA9IGo7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgZm9yICh2YXIgaiA9IGNvbW1vblJvb3RNZWV0UG9pbnQ7IGogPj0gMDsgLS1qKSB7XG5cdCAgICAgICAgICAgIHZhciBsaW5lID0gcHJldltqXTtcblx0ICAgICAgICAgICAgaWYgKGN1cnJlbnRbY3VycmVudExhc3RJbmRleF0gPT09IGxpbmUpIHtcblx0ICAgICAgICAgICAgICAgIGN1cnJlbnQucG9wKCk7XG5cdCAgICAgICAgICAgICAgICBjdXJyZW50TGFzdEluZGV4LS07XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBjdXJyZW50ID0gcHJldjtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gY2xlYW5TdGFjayhzdGFjaykge1xuXHQgICAgdmFyIHJldCA9IFtdO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgIHZhciBsaW5lID0gc3RhY2tbaV07XG5cdCAgICAgICAgdmFyIGlzVHJhY2VMaW5lID0gXCIgICAgKE5vIHN0YWNrIHRyYWNlKVwiID09PSBsaW5lIHx8XG5cdCAgICAgICAgICAgIHN0YWNrRnJhbWVQYXR0ZXJuLnRlc3QobGluZSk7XG5cdCAgICAgICAgdmFyIGlzSW50ZXJuYWxGcmFtZSA9IGlzVHJhY2VMaW5lICYmIHNob3VsZElnbm9yZShsaW5lKTtcblx0ICAgICAgICBpZiAoaXNUcmFjZUxpbmUgJiYgIWlzSW50ZXJuYWxGcmFtZSkge1xuXHQgICAgICAgICAgICBpZiAoaW5kZW50U3RhY2tGcmFtZXMgJiYgbGluZS5jaGFyQXQoMCkgIT09IFwiIFwiKSB7XG5cdCAgICAgICAgICAgICAgICBsaW5lID0gXCIgICAgXCIgKyBsaW5lO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldC5wdXNoKGxpbmUpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiByZXQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHN0YWNrRnJhbWVzQXNBcnJheShlcnJvcikge1xuXHQgICAgdmFyIHN0YWNrID0gZXJyb3Iuc3RhY2sucmVwbGFjZSgvXFxzKyQvZywgXCJcIikuc3BsaXQoXCJcXG5cIik7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgdmFyIGxpbmUgPSBzdGFja1tpXTtcblx0ICAgICAgICBpZiAoXCIgICAgKE5vIHN0YWNrIHRyYWNlKVwiID09PSBsaW5lIHx8IHN0YWNrRnJhbWVQYXR0ZXJuLnRlc3QobGluZSkpIHtcblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgaWYgKGkgPiAwKSB7XG5cdCAgICAgICAgc3RhY2sgPSBzdGFjay5zbGljZShpKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBzdGFjaztcblx0fVxuXHRcblx0ZnVuY3Rpb24gcGFyc2VTdGFja0FuZE1lc3NhZ2UoZXJyb3IpIHtcblx0ICAgIHZhciBzdGFjayA9IGVycm9yLnN0YWNrO1xuXHQgICAgdmFyIG1lc3NhZ2UgPSBlcnJvci50b1N0cmluZygpO1xuXHQgICAgc3RhY2sgPSB0eXBlb2Ygc3RhY2sgPT09IFwic3RyaW5nXCIgJiYgc3RhY2subGVuZ3RoID4gMFxuXHQgICAgICAgICAgICAgICAgPyBzdGFja0ZyYW1lc0FzQXJyYXkoZXJyb3IpIDogW1wiICAgIChObyBzdGFjayB0cmFjZSlcIl07XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG5cdCAgICAgICAgc3RhY2s6IGNsZWFuU3RhY2soc3RhY2spXG5cdCAgICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBmb3JtYXRBbmRMb2dFcnJvcihlcnJvciwgdGl0bGUsIGlzU29mdCkge1xuXHQgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdCAgICAgICAgdmFyIG1lc3NhZ2U7XG5cdCAgICAgICAgaWYgKHV0aWwuaXNPYmplY3QoZXJyb3IpKSB7XG5cdCAgICAgICAgICAgIHZhciBzdGFjayA9IGVycm9yLnN0YWNrO1xuXHQgICAgICAgICAgICBtZXNzYWdlID0gdGl0bGUgKyBmb3JtYXRTdGFjayhzdGFjaywgZXJyb3IpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIG1lc3NhZ2UgPSB0aXRsZSArIFN0cmluZyhlcnJvcik7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICh0eXBlb2YgcHJpbnRXYXJuaW5nID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgcHJpbnRXYXJuaW5nKG1lc3NhZ2UsIGlzU29mdCk7XG5cdCAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY29uc29sZS5sb2cgPT09IFwiZnVuY3Rpb25cIiB8fFxuXHQgICAgICAgICAgICB0eXBlb2YgY29uc29sZS5sb2cgPT09IFwib2JqZWN0XCIpIHtcblx0ICAgICAgICAgICAgY29uc29sZS5sb2cobWVzc2FnZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBmaXJlUmVqZWN0aW9uRXZlbnQobmFtZSwgbG9jYWxIYW5kbGVyLCByZWFzb24sIHByb21pc2UpIHtcblx0ICAgIHZhciBsb2NhbEV2ZW50RmlyZWQgPSBmYWxzZTtcblx0ICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBsb2NhbEhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgICAgICBsb2NhbEV2ZW50RmlyZWQgPSB0cnVlO1xuXHQgICAgICAgICAgICBpZiAobmFtZSA9PT0gXCJyZWplY3Rpb25IYW5kbGVkXCIpIHtcblx0ICAgICAgICAgICAgICAgIGxvY2FsSGFuZGxlcihwcm9taXNlKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGxvY2FsSGFuZGxlcihyZWFzb24sIHByb21pc2UpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIGFzeW5jLnRocm93TGF0ZXIoZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKG5hbWUgPT09IFwidW5oYW5kbGVkUmVqZWN0aW9uXCIpIHtcblx0ICAgICAgICBpZiAoIWFjdGl2ZUZpcmVFdmVudChuYW1lLCByZWFzb24sIHByb21pc2UpICYmICFsb2NhbEV2ZW50RmlyZWQpIHtcblx0ICAgICAgICAgICAgZm9ybWF0QW5kTG9nRXJyb3IocmVhc29uLCBcIlVuaGFuZGxlZCByZWplY3Rpb24gXCIpO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgYWN0aXZlRmlyZUV2ZW50KG5hbWUsIHByb21pc2UpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBmb3JtYXROb25FcnJvcihvYmopIHtcblx0ICAgIHZhciBzdHI7XG5cdCAgICBpZiAodHlwZW9mIG9iaiA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgc3RyID0gXCJbZnVuY3Rpb24gXCIgK1xuXHQgICAgICAgICAgICAob2JqLm5hbWUgfHwgXCJhbm9ueW1vdXNcIikgK1xuXHQgICAgICAgICAgICBcIl1cIjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgc3RyID0gb2JqICYmIHR5cGVvZiBvYmoudG9TdHJpbmcgPT09IFwiZnVuY3Rpb25cIlxuXHQgICAgICAgICAgICA/IG9iai50b1N0cmluZygpIDogdXRpbC50b1N0cmluZyhvYmopO1xuXHQgICAgICAgIHZhciBydXNlbGVzc1RvU3RyaW5nID0gL1xcW29iamVjdCBbYS16QS1aMC05JF9dK1xcXS87XG5cdCAgICAgICAgaWYgKHJ1c2VsZXNzVG9TdHJpbmcudGVzdChzdHIpKSB7XG5cdCAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgbmV3U3RyID0gSlNPTi5zdHJpbmdpZnkob2JqKTtcblx0ICAgICAgICAgICAgICAgIHN0ciA9IG5ld1N0cjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBjYXRjaChlKSB7XG5cdFxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChzdHIubGVuZ3RoID09PSAwKSB7XG5cdCAgICAgICAgICAgIHN0ciA9IFwiKGVtcHR5IGFycmF5KVwiO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiAoXCIoPFwiICsgc25pcChzdHIpICsgXCI+LCBubyBzdGFjayB0cmFjZSlcIik7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNuaXAoc3RyKSB7XG5cdCAgICB2YXIgbWF4Q2hhcnMgPSA0MTtcblx0ICAgIGlmIChzdHIubGVuZ3RoIDwgbWF4Q2hhcnMpIHtcblx0ICAgICAgICByZXR1cm4gc3RyO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHN0ci5zdWJzdHIoMCwgbWF4Q2hhcnMgLSAzKSArIFwiLi4uXCI7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxvbmdTdGFja1RyYWNlc0lzU3VwcG9ydGVkKCkge1xuXHQgICAgcmV0dXJuIHR5cGVvZiBjYXB0dXJlU3RhY2tUcmFjZSA9PT0gXCJmdW5jdGlvblwiO1xuXHR9XG5cdFxuXHR2YXIgc2hvdWxkSWdub3JlID0gZnVuY3Rpb24oKSB7IHJldHVybiBmYWxzZTsgfTtcblx0dmFyIHBhcnNlTGluZUluZm9SZWdleCA9IC9bXFwvPFxcKF0oW146XFwvXSspOihcXGQrKTooPzpcXGQrKVxcKT9cXHMqJC87XG5cdGZ1bmN0aW9uIHBhcnNlTGluZUluZm8obGluZSkge1xuXHQgICAgdmFyIG1hdGNoZXMgPSBsaW5lLm1hdGNoKHBhcnNlTGluZUluZm9SZWdleCk7XG5cdCAgICBpZiAobWF0Y2hlcykge1xuXHQgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgIGZpbGVOYW1lOiBtYXRjaGVzWzFdLFxuXHQgICAgICAgICAgICBsaW5lOiBwYXJzZUludChtYXRjaGVzWzJdLCAxMClcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBzZXRCb3VuZHMoZmlyc3RMaW5lRXJyb3IsIGxhc3RMaW5lRXJyb3IpIHtcblx0ICAgIGlmICghbG9uZ1N0YWNrVHJhY2VzSXNTdXBwb3J0ZWQoKSkgcmV0dXJuO1xuXHQgICAgdmFyIGZpcnN0U3RhY2tMaW5lcyA9IGZpcnN0TGluZUVycm9yLnN0YWNrLnNwbGl0KFwiXFxuXCIpO1xuXHQgICAgdmFyIGxhc3RTdGFja0xpbmVzID0gbGFzdExpbmVFcnJvci5zdGFjay5zcGxpdChcIlxcblwiKTtcblx0ICAgIHZhciBmaXJzdEluZGV4ID0gLTE7XG5cdCAgICB2YXIgbGFzdEluZGV4ID0gLTE7XG5cdCAgICB2YXIgZmlyc3RGaWxlTmFtZTtcblx0ICAgIHZhciBsYXN0RmlsZU5hbWU7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpcnN0U3RhY2tMaW5lcy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgIHZhciByZXN1bHQgPSBwYXJzZUxpbmVJbmZvKGZpcnN0U3RhY2tMaW5lc1tpXSk7XG5cdCAgICAgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgICAgICAgICBmaXJzdEZpbGVOYW1lID0gcmVzdWx0LmZpbGVOYW1lO1xuXHQgICAgICAgICAgICBmaXJzdEluZGV4ID0gcmVzdWx0LmxpbmU7XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdFN0YWNrTGluZXMubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gcGFyc2VMaW5lSW5mbyhsYXN0U3RhY2tMaW5lc1tpXSk7XG5cdCAgICAgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgICAgICAgICBsYXN0RmlsZU5hbWUgPSByZXN1bHQuZmlsZU5hbWU7XG5cdCAgICAgICAgICAgIGxhc3RJbmRleCA9IHJlc3VsdC5saW5lO1xuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBpZiAoZmlyc3RJbmRleCA8IDAgfHwgbGFzdEluZGV4IDwgMCB8fCAhZmlyc3RGaWxlTmFtZSB8fCAhbGFzdEZpbGVOYW1lIHx8XG5cdCAgICAgICAgZmlyc3RGaWxlTmFtZSAhPT0gbGFzdEZpbGVOYW1lIHx8IGZpcnN0SW5kZXggPj0gbGFzdEluZGV4KSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIHNob3VsZElnbm9yZSA9IGZ1bmN0aW9uKGxpbmUpIHtcblx0ICAgICAgICBpZiAoYmx1ZWJpcmRGcmFtZVBhdHRlcm4udGVzdChsaW5lKSkgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgdmFyIGluZm8gPSBwYXJzZUxpbmVJbmZvKGxpbmUpO1xuXHQgICAgICAgIGlmIChpbmZvKSB7XG5cdCAgICAgICAgICAgIGlmIChpbmZvLmZpbGVOYW1lID09PSBmaXJzdEZpbGVOYW1lICYmXG5cdCAgICAgICAgICAgICAgICAoZmlyc3RJbmRleCA8PSBpbmZvLmxpbmUgJiYgaW5mby5saW5lIDw9IGxhc3RJbmRleCkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIENhcHR1cmVkVHJhY2UocGFyZW50KSB7XG5cdCAgICB0aGlzLl9wYXJlbnQgPSBwYXJlbnQ7XG5cdCAgICB0aGlzLl9wcm9taXNlc0NyZWF0ZWQgPSAwO1xuXHQgICAgdmFyIGxlbmd0aCA9IHRoaXMuX2xlbmd0aCA9IDEgKyAocGFyZW50ID09PSB1bmRlZmluZWQgPyAwIDogcGFyZW50Ll9sZW5ndGgpO1xuXHQgICAgY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgQ2FwdHVyZWRUcmFjZSk7XG5cdCAgICBpZiAobGVuZ3RoID4gMzIpIHRoaXMudW5jeWNsZSgpO1xuXHR9XG5cdHV0aWwuaW5oZXJpdHMoQ2FwdHVyZWRUcmFjZSwgRXJyb3IpO1xuXHRDb250ZXh0LkNhcHR1cmVkVHJhY2UgPSBDYXB0dXJlZFRyYWNlO1xuXHRcblx0Q2FwdHVyZWRUcmFjZS5wcm90b3R5cGUudW5jeWNsZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGxlbmd0aCA9IHRoaXMuX2xlbmd0aDtcblx0ICAgIGlmIChsZW5ndGggPCAyKSByZXR1cm47XG5cdCAgICB2YXIgbm9kZXMgPSBbXTtcblx0ICAgIHZhciBzdGFja1RvSW5kZXggPSB7fTtcblx0XG5cdCAgICBmb3IgKHZhciBpID0gMCwgbm9kZSA9IHRoaXM7IG5vZGUgIT09IHVuZGVmaW5lZDsgKytpKSB7XG5cdCAgICAgICAgbm9kZXMucHVzaChub2RlKTtcblx0ICAgICAgICBub2RlID0gbm9kZS5fcGFyZW50O1xuXHQgICAgfVxuXHQgICAgbGVuZ3RoID0gdGhpcy5fbGVuZ3RoID0gaTtcblx0ICAgIGZvciAodmFyIGkgPSBsZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuXHQgICAgICAgIHZhciBzdGFjayA9IG5vZGVzW2ldLnN0YWNrO1xuXHQgICAgICAgIGlmIChzdGFja1RvSW5kZXhbc3RhY2tdID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgc3RhY2tUb0luZGV4W3N0YWNrXSA9IGk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuXHQgICAgICAgIHZhciBjdXJyZW50U3RhY2sgPSBub2Rlc1tpXS5zdGFjaztcblx0ICAgICAgICB2YXIgaW5kZXggPSBzdGFja1RvSW5kZXhbY3VycmVudFN0YWNrXTtcblx0ICAgICAgICBpZiAoaW5kZXggIT09IHVuZGVmaW5lZCAmJiBpbmRleCAhPT0gaSkge1xuXHQgICAgICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG5cdCAgICAgICAgICAgICAgICBub2Rlc1tpbmRleCAtIDFdLl9wYXJlbnQgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgICAgICAgICBub2Rlc1tpbmRleCAtIDFdLl9sZW5ndGggPSAxO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIG5vZGVzW2ldLl9wYXJlbnQgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgICAgIG5vZGVzW2ldLl9sZW5ndGggPSAxO1xuXHQgICAgICAgICAgICB2YXIgY3ljbGVFZGdlTm9kZSA9IGkgPiAwID8gbm9kZXNbaSAtIDFdIDogdGhpcztcblx0XG5cdCAgICAgICAgICAgIGlmIChpbmRleCA8IGxlbmd0aCAtIDEpIHtcblx0ICAgICAgICAgICAgICAgIGN5Y2xlRWRnZU5vZGUuX3BhcmVudCA9IG5vZGVzW2luZGV4ICsgMV07XG5cdCAgICAgICAgICAgICAgICBjeWNsZUVkZ2VOb2RlLl9wYXJlbnQudW5jeWNsZSgpO1xuXHQgICAgICAgICAgICAgICAgY3ljbGVFZGdlTm9kZS5fbGVuZ3RoID1cblx0ICAgICAgICAgICAgICAgICAgICBjeWNsZUVkZ2VOb2RlLl9wYXJlbnQuX2xlbmd0aCArIDE7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBjeWNsZUVkZ2VOb2RlLl9wYXJlbnQgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgICAgICAgICBjeWNsZUVkZ2VOb2RlLl9sZW5ndGggPSAxO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHZhciBjdXJyZW50Q2hpbGRMZW5ndGggPSBjeWNsZUVkZ2VOb2RlLl9sZW5ndGggKyAxO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBqID0gaSAtIDI7IGogPj0gMDsgLS1qKSB7XG5cdCAgICAgICAgICAgICAgICBub2Rlc1tqXS5fbGVuZ3RoID0gY3VycmVudENoaWxkTGVuZ3RoO1xuXHQgICAgICAgICAgICAgICAgY3VycmVudENoaWxkTGVuZ3RoKys7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fTtcblx0XG5cdENhcHR1cmVkVHJhY2UucHJvdG90eXBlLmF0dGFjaEV4dHJhVHJhY2UgPSBmdW5jdGlvbihlcnJvcikge1xuXHQgICAgaWYgKGVycm9yLl9fc3RhY2tDbGVhbmVkX18pIHJldHVybjtcblx0ICAgIHRoaXMudW5jeWNsZSgpO1xuXHQgICAgdmFyIHBhcnNlZCA9IHBhcnNlU3RhY2tBbmRNZXNzYWdlKGVycm9yKTtcblx0ICAgIHZhciBtZXNzYWdlID0gcGFyc2VkLm1lc3NhZ2U7XG5cdCAgICB2YXIgc3RhY2tzID0gW3BhcnNlZC5zdGFja107XG5cdFxuXHQgICAgdmFyIHRyYWNlID0gdGhpcztcblx0ICAgIHdoaWxlICh0cmFjZSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgc3RhY2tzLnB1c2goY2xlYW5TdGFjayh0cmFjZS5zdGFjay5zcGxpdChcIlxcblwiKSkpO1xuXHQgICAgICAgIHRyYWNlID0gdHJhY2UuX3BhcmVudDtcblx0ICAgIH1cblx0ICAgIHJlbW92ZUNvbW1vblJvb3RzKHN0YWNrcyk7XG5cdCAgICByZW1vdmVEdXBsaWNhdGVPckVtcHR5SnVtcHMoc3RhY2tzKTtcblx0ICAgIHV0aWwubm90RW51bWVyYWJsZVByb3AoZXJyb3IsIFwic3RhY2tcIiwgcmVjb25zdHJ1Y3RTdGFjayhtZXNzYWdlLCBzdGFja3MpKTtcblx0ICAgIHV0aWwubm90RW51bWVyYWJsZVByb3AoZXJyb3IsIFwiX19zdGFja0NsZWFuZWRfX1wiLCB0cnVlKTtcblx0fTtcblx0XG5cdHZhciBjYXB0dXJlU3RhY2tUcmFjZSA9IChmdW5jdGlvbiBzdGFja0RldGVjdGlvbigpIHtcblx0ICAgIHZhciB2OHN0YWNrRnJhbWVQYXR0ZXJuID0gL15cXHMqYXRcXHMqLztcblx0ICAgIHZhciB2OHN0YWNrRm9ybWF0dGVyID0gZnVuY3Rpb24oc3RhY2ssIGVycm9yKSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBzdGFjayA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHN0YWNrO1xuXHRcblx0ICAgICAgICBpZiAoZXJyb3IubmFtZSAhPT0gdW5kZWZpbmVkICYmXG5cdCAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICByZXR1cm4gZXJyb3IudG9TdHJpbmcoKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGZvcm1hdE5vbkVycm9yKGVycm9yKTtcblx0ICAgIH07XG5cdFxuXHQgICAgaWYgKHR5cGVvZiBFcnJvci5zdGFja1RyYWNlTGltaXQgPT09IFwibnVtYmVyXCIgJiZcblx0ICAgICAgICB0eXBlb2YgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UgPT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgIEVycm9yLnN0YWNrVHJhY2VMaW1pdCArPSA2O1xuXHQgICAgICAgIHN0YWNrRnJhbWVQYXR0ZXJuID0gdjhzdGFja0ZyYW1lUGF0dGVybjtcblx0ICAgICAgICBmb3JtYXRTdGFjayA9IHY4c3RhY2tGb3JtYXR0ZXI7XG5cdCAgICAgICAgdmFyIGNhcHR1cmVTdGFja1RyYWNlID0gRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2U7XG5cdFxuXHQgICAgICAgIHNob3VsZElnbm9yZSA9IGZ1bmN0aW9uKGxpbmUpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGJsdWViaXJkRnJhbWVQYXR0ZXJuLnRlc3QobGluZSk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24ocmVjZWl2ZXIsIGlnbm9yZVVudGlsKSB7XG5cdCAgICAgICAgICAgIEVycm9yLnN0YWNrVHJhY2VMaW1pdCArPSA2O1xuXHQgICAgICAgICAgICBjYXB0dXJlU3RhY2tUcmFjZShyZWNlaXZlciwgaWdub3JlVW50aWwpO1xuXHQgICAgICAgICAgICBFcnJvci5zdGFja1RyYWNlTGltaXQgLT0gNjtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHQgICAgdmFyIGVyciA9IG5ldyBFcnJvcigpO1xuXHRcblx0ICAgIGlmICh0eXBlb2YgZXJyLnN0YWNrID09PSBcInN0cmluZ1wiICYmXG5cdCAgICAgICAgZXJyLnN0YWNrLnNwbGl0KFwiXFxuXCIpWzBdLmluZGV4T2YoXCJzdGFja0RldGVjdGlvbkBcIikgPj0gMCkge1xuXHQgICAgICAgIHN0YWNrRnJhbWVQYXR0ZXJuID0gL0AvO1xuXHQgICAgICAgIGZvcm1hdFN0YWNrID0gdjhzdGFja0Zvcm1hdHRlcjtcblx0ICAgICAgICBpbmRlbnRTdGFja0ZyYW1lcyA9IHRydWU7XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNhcHR1cmVTdGFja1RyYWNlKG8pIHtcblx0ICAgICAgICAgICAgby5zdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGhhc1N0YWNrQWZ0ZXJUaHJvdztcblx0ICAgIHRyeSB7IHRocm93IG5ldyBFcnJvcigpOyB9XG5cdCAgICBjYXRjaChlKSB7XG5cdCAgICAgICAgaGFzU3RhY2tBZnRlclRocm93ID0gKFwic3RhY2tcIiBpbiBlKTtcblx0ICAgIH1cblx0ICAgIGlmICghKFwic3RhY2tcIiBpbiBlcnIpICYmIGhhc1N0YWNrQWZ0ZXJUaHJvdyAmJlxuXHQgICAgICAgIHR5cGVvZiBFcnJvci5zdGFja1RyYWNlTGltaXQgPT09IFwibnVtYmVyXCIpIHtcblx0ICAgICAgICBzdGFja0ZyYW1lUGF0dGVybiA9IHY4c3RhY2tGcmFtZVBhdHRlcm47XG5cdCAgICAgICAgZm9ybWF0U3RhY2sgPSB2OHN0YWNrRm9ybWF0dGVyO1xuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbiBjYXB0dXJlU3RhY2tUcmFjZShvKSB7XG5cdCAgICAgICAgICAgIEVycm9yLnN0YWNrVHJhY2VMaW1pdCArPSA2O1xuXHQgICAgICAgICAgICB0cnkgeyB0aHJvdyBuZXcgRXJyb3IoKTsgfVxuXHQgICAgICAgICAgICBjYXRjaChlKSB7IG8uc3RhY2sgPSBlLnN0YWNrOyB9XG5cdCAgICAgICAgICAgIEVycm9yLnN0YWNrVHJhY2VMaW1pdCAtPSA2O1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdFxuXHQgICAgZm9ybWF0U3RhY2sgPSBmdW5jdGlvbihzdGFjaywgZXJyb3IpIHtcblx0ICAgICAgICBpZiAodHlwZW9mIHN0YWNrID09PSBcInN0cmluZ1wiKSByZXR1cm4gc3RhY2s7XG5cdFxuXHQgICAgICAgIGlmICgodHlwZW9mIGVycm9yID09PSBcIm9iamVjdFwiIHx8XG5cdCAgICAgICAgICAgIHR5cGVvZiBlcnJvciA9PT0gXCJmdW5jdGlvblwiKSAmJlxuXHQgICAgICAgICAgICBlcnJvci5uYW1lICE9PSB1bmRlZmluZWQgJiZcblx0ICAgICAgICAgICAgZXJyb3IubWVzc2FnZSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBlcnJvci50b1N0cmluZygpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gZm9ybWF0Tm9uRXJyb3IoZXJyb3IpO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gbnVsbDtcblx0XG5cdH0pKFtdKTtcblx0XG5cdGlmICh0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgY29uc29sZS53YXJuICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdCAgICBwcmludFdhcm5pbmcgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuXHQgICAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcblx0ICAgIH07XG5cdCAgICBpZiAodXRpbC5pc05vZGUgJiYgcHJvY2Vzcy5zdGRlcnIuaXNUVFkpIHtcblx0ICAgICAgICBwcmludFdhcm5pbmcgPSBmdW5jdGlvbihtZXNzYWdlLCBpc1NvZnQpIHtcblx0ICAgICAgICAgICAgdmFyIGNvbG9yID0gaXNTb2Z0ID8gXCJcXHUwMDFiWzMzbVwiIDogXCJcXHUwMDFiWzMxbVwiO1xuXHQgICAgICAgICAgICBjb25zb2xlLndhcm4oY29sb3IgKyBtZXNzYWdlICsgXCJcXHUwMDFiWzBtXFxuXCIpO1xuXHQgICAgICAgIH07XG5cdCAgICB9IGVsc2UgaWYgKCF1dGlsLmlzTm9kZSAmJiB0eXBlb2YgKG5ldyBFcnJvcigpLnN0YWNrKSA9PT0gXCJzdHJpbmdcIikge1xuXHQgICAgICAgIHByaW50V2FybmluZyA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGlzU29mdCkge1xuXHQgICAgICAgICAgICBjb25zb2xlLndhcm4oXCIlY1wiICsgbWVzc2FnZSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaXNTb2Z0ID8gXCJjb2xvcjogZGFya29yYW5nZVwiIDogXCJjb2xvcjogcmVkXCIpO1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdH1cblx0XG5cdHZhciBjb25maWcgPSB7XG5cdCAgICB3YXJuaW5nczogd2FybmluZ3MsXG5cdCAgICBsb25nU3RhY2tUcmFjZXM6IGZhbHNlLFxuXHQgICAgY2FuY2VsbGF0aW9uOiBmYWxzZSxcblx0ICAgIG1vbml0b3Jpbmc6IGZhbHNlXG5cdH07XG5cdFxuXHRpZiAobG9uZ1N0YWNrVHJhY2VzKSBQcm9taXNlLmxvbmdTdGFja1RyYWNlcygpO1xuXHRcblx0cmV0dXJuIHtcblx0ICAgIGxvbmdTdGFja1RyYWNlczogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIGNvbmZpZy5sb25nU3RhY2tUcmFjZXM7XG5cdCAgICB9LFxuXHQgICAgd2FybmluZ3M6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBjb25maWcud2FybmluZ3M7XG5cdCAgICB9LFxuXHQgICAgY2FuY2VsbGF0aW9uOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gY29uZmlnLmNhbmNlbGxhdGlvbjtcblx0ICAgIH0sXG5cdCAgICBtb25pdG9yaW5nOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gY29uZmlnLm1vbml0b3Jpbmc7XG5cdCAgICB9LFxuXHQgICAgcHJvcGFnYXRlRnJvbUZ1bmN0aW9uOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gcHJvcGFnYXRlRnJvbUZ1bmN0aW9uO1xuXHQgICAgfSxcblx0ICAgIGJvdW5kVmFsdWVGdW5jdGlvbjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIGJvdW5kVmFsdWVGdW5jdGlvbjtcblx0ICAgIH0sXG5cdCAgICBjaGVja0ZvcmdvdHRlblJldHVybnM6IGNoZWNrRm9yZ290dGVuUmV0dXJucyxcblx0ICAgIHNldEJvdW5kczogc2V0Qm91bmRzLFxuXHQgICAgd2Fybjogd2Fybixcblx0ICAgIGRlcHJlY2F0ZWQ6IGRlcHJlY2F0ZWQsXG5cdCAgICBDYXB0dXJlZFRyYWNlOiBDYXB0dXJlZFRyYWNlLFxuXHQgICAgZmlyZURvbUV2ZW50OiBmaXJlRG9tRXZlbnQsXG5cdCAgICBmaXJlR2xvYmFsRXZlbnQ6IGZpcmVHbG9iYWxFdmVudFxuXHR9O1xuXHR9O1xuXHRcblx0fSx7XCIuL2Vycm9yc1wiOjEyLFwiLi91dGlsXCI6MzZ9XSwxMDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UpIHtcblx0ZnVuY3Rpb24gcmV0dXJuZXIoKSB7XG5cdCAgICByZXR1cm4gdGhpcy52YWx1ZTtcblx0fVxuXHRmdW5jdGlvbiB0aHJvd2VyKCkge1xuXHQgICAgdGhyb3cgdGhpcy5yZWFzb247XG5cdH1cblx0XG5cdFByb21pc2UucHJvdG90eXBlW1wicmV0dXJuXCJdID1cblx0UHJvbWlzZS5wcm90b3R5cGUudGhlblJldHVybiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkgdmFsdWUuc3VwcHJlc3NVbmhhbmRsZWRSZWplY3Rpb25zKCk7XG5cdCAgICByZXR1cm4gdGhpcy5fdGhlbihcblx0ICAgICAgICByZXR1cm5lciwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHt2YWx1ZTogdmFsdWV9LCB1bmRlZmluZWQpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGVbXCJ0aHJvd1wiXSA9XG5cdFByb21pc2UucHJvdG90eXBlLnRoZW5UaHJvdyA9IGZ1bmN0aW9uIChyZWFzb24pIHtcblx0ICAgIHJldHVybiB0aGlzLl90aGVuKFxuXHQgICAgICAgIHRocm93ZXIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB7cmVhc29uOiByZWFzb259LCB1bmRlZmluZWQpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuY2F0Y2hUaHJvdyA9IGZ1bmN0aW9uIChyZWFzb24pIHtcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDw9IDEpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fdGhlbihcblx0ICAgICAgICAgICAgdW5kZWZpbmVkLCB0aHJvd2VyLCB1bmRlZmluZWQsIHtyZWFzb246IHJlYXNvbn0sIHVuZGVmaW5lZCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciBfcmVhc29uID0gYXJndW1lbnRzWzFdO1xuXHQgICAgICAgIHZhciBoYW5kbGVyID0gZnVuY3Rpb24oKSB7dGhyb3cgX3JlYXNvbjt9O1xuXHQgICAgICAgIHJldHVybiB0aGlzLmNhdWdodChyZWFzb24sIGhhbmRsZXIpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuY2F0Y2hSZXR1cm4gPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDw9IDEpIHtcblx0ICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB2YWx1ZS5zdXBwcmVzc1VuaGFuZGxlZFJlamVjdGlvbnMoKTtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fdGhlbihcblx0ICAgICAgICAgICAgdW5kZWZpbmVkLCByZXR1cm5lciwgdW5kZWZpbmVkLCB7dmFsdWU6IHZhbHVlfSwgdW5kZWZpbmVkKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIF92YWx1ZSA9IGFyZ3VtZW50c1sxXTtcblx0ICAgICAgICBpZiAoX3ZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkgX3ZhbHVlLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucygpO1xuXHQgICAgICAgIHZhciBoYW5kbGVyID0gZnVuY3Rpb24oKSB7cmV0dXJuIF92YWx1ZTt9O1xuXHQgICAgICAgIHJldHVybiB0aGlzLmNhdWdodCh2YWx1ZSwgaGFuZGxlcik7XG5cdCAgICB9XG5cdH07XG5cdH07XG5cdFxuXHR9LHt9XSwxMTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIElOVEVSTkFMKSB7XG5cdHZhciBQcm9taXNlUmVkdWNlID0gUHJvbWlzZS5yZWR1Y2U7XG5cdHZhciBQcm9taXNlQWxsID0gUHJvbWlzZS5hbGw7XG5cdFxuXHRmdW5jdGlvbiBwcm9taXNlQWxsVGhpcygpIHtcblx0ICAgIHJldHVybiBQcm9taXNlQWxsKHRoaXMpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBQcm9taXNlTWFwU2VyaWVzKHByb21pc2VzLCBmbikge1xuXHQgICAgcmV0dXJuIFByb21pc2VSZWR1Y2UocHJvbWlzZXMsIGZuLCBJTlRFUk5BTCwgSU5URVJOQUwpO1xuXHR9XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5lYWNoID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgICByZXR1cm4gUHJvbWlzZVJlZHVjZSh0aGlzLCBmbiwgSU5URVJOQUwsIDApXG5cdCAgICAgICAgICAgICAgLl90aGVuKHByb21pc2VBbGxUaGlzLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdGhpcywgdW5kZWZpbmVkKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLm1hcFNlcmllcyA9IGZ1bmN0aW9uIChmbikge1xuXHQgICAgcmV0dXJuIFByb21pc2VSZWR1Y2UodGhpcywgZm4sIElOVEVSTkFMLCBJTlRFUk5BTCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLmVhY2ggPSBmdW5jdGlvbiAocHJvbWlzZXMsIGZuKSB7XG5cdCAgICByZXR1cm4gUHJvbWlzZVJlZHVjZShwcm9taXNlcywgZm4sIElOVEVSTkFMLCAwKVxuXHQgICAgICAgICAgICAgIC5fdGhlbihwcm9taXNlQWxsVGhpcywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHByb21pc2VzLCB1bmRlZmluZWQpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5tYXBTZXJpZXMgPSBQcm9taXNlTWFwU2VyaWVzO1xuXHR9O1xuXHRcblx0XG5cdH0se31dLDEyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBlczUgPSBfZGVyZXFfKFwiLi9lczVcIik7XG5cdHZhciBPYmplY3RmcmVlemUgPSBlczUuZnJlZXplO1xuXHR2YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cdHZhciBpbmhlcml0cyA9IHV0aWwuaW5oZXJpdHM7XG5cdHZhciBub3RFbnVtZXJhYmxlUHJvcCA9IHV0aWwubm90RW51bWVyYWJsZVByb3A7XG5cdFxuXHRmdW5jdGlvbiBzdWJFcnJvcihuYW1lUHJvcGVydHksIGRlZmF1bHRNZXNzYWdlKSB7XG5cdCAgICBmdW5jdGlvbiBTdWJFcnJvcihtZXNzYWdlKSB7XG5cdCAgICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFN1YkVycm9yKSkgcmV0dXJuIG5ldyBTdWJFcnJvcihtZXNzYWdlKTtcblx0ICAgICAgICBub3RFbnVtZXJhYmxlUHJvcCh0aGlzLCBcIm1lc3NhZ2VcIixcblx0ICAgICAgICAgICAgdHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgPyBtZXNzYWdlIDogZGVmYXVsdE1lc3NhZ2UpO1xuXHQgICAgICAgIG5vdEVudW1lcmFibGVQcm9wKHRoaXMsIFwibmFtZVwiLCBuYW1lUHJvcGVydHkpO1xuXHQgICAgICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuXHQgICAgICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBFcnJvci5jYWxsKHRoaXMpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGluaGVyaXRzKFN1YkVycm9yLCBFcnJvcik7XG5cdCAgICByZXR1cm4gU3ViRXJyb3I7XG5cdH1cblx0XG5cdHZhciBfVHlwZUVycm9yLCBfUmFuZ2VFcnJvcjtcblx0dmFyIFdhcm5pbmcgPSBzdWJFcnJvcihcIldhcm5pbmdcIiwgXCJ3YXJuaW5nXCIpO1xuXHR2YXIgQ2FuY2VsbGF0aW9uRXJyb3IgPSBzdWJFcnJvcihcIkNhbmNlbGxhdGlvbkVycm9yXCIsIFwiY2FuY2VsbGF0aW9uIGVycm9yXCIpO1xuXHR2YXIgVGltZW91dEVycm9yID0gc3ViRXJyb3IoXCJUaW1lb3V0RXJyb3JcIiwgXCJ0aW1lb3V0IGVycm9yXCIpO1xuXHR2YXIgQWdncmVnYXRlRXJyb3IgPSBzdWJFcnJvcihcIkFnZ3JlZ2F0ZUVycm9yXCIsIFwiYWdncmVnYXRlIGVycm9yXCIpO1xuXHR0cnkge1xuXHQgICAgX1R5cGVFcnJvciA9IFR5cGVFcnJvcjtcblx0ICAgIF9SYW5nZUVycm9yID0gUmFuZ2VFcnJvcjtcblx0fSBjYXRjaChlKSB7XG5cdCAgICBfVHlwZUVycm9yID0gc3ViRXJyb3IoXCJUeXBlRXJyb3JcIiwgXCJ0eXBlIGVycm9yXCIpO1xuXHQgICAgX1JhbmdlRXJyb3IgPSBzdWJFcnJvcihcIlJhbmdlRXJyb3JcIiwgXCJyYW5nZSBlcnJvclwiKTtcblx0fVxuXHRcblx0dmFyIG1ldGhvZHMgPSAoXCJqb2luIHBvcCBwdXNoIHNoaWZ0IHVuc2hpZnQgc2xpY2UgZmlsdGVyIGZvckVhY2ggc29tZSBcIiArXG5cdCAgICBcImV2ZXJ5IG1hcCBpbmRleE9mIGxhc3RJbmRleE9mIHJlZHVjZSByZWR1Y2VSaWdodCBzb3J0IHJldmVyc2VcIikuc3BsaXQoXCIgXCIpO1xuXHRcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtZXRob2RzLmxlbmd0aDsgKytpKSB7XG5cdCAgICBpZiAodHlwZW9mIEFycmF5LnByb3RvdHlwZVttZXRob2RzW2ldXSA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgQWdncmVnYXRlRXJyb3IucHJvdG90eXBlW21ldGhvZHNbaV1dID0gQXJyYXkucHJvdG90eXBlW21ldGhvZHNbaV1dO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRlczUuZGVmaW5lUHJvcGVydHkoQWdncmVnYXRlRXJyb3IucHJvdG90eXBlLCBcImxlbmd0aFwiLCB7XG5cdCAgICB2YWx1ZTogMCxcblx0ICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG5cdCAgICB3cml0YWJsZTogdHJ1ZSxcblx0ICAgIGVudW1lcmFibGU6IHRydWVcblx0fSk7XG5cdEFnZ3JlZ2F0ZUVycm9yLnByb3RvdHlwZVtcImlzT3BlcmF0aW9uYWxcIl0gPSB0cnVlO1xuXHR2YXIgbGV2ZWwgPSAwO1xuXHRBZ2dyZWdhdGVFcnJvci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciBpbmRlbnQgPSBBcnJheShsZXZlbCAqIDQgKyAxKS5qb2luKFwiIFwiKTtcblx0ICAgIHZhciByZXQgPSBcIlxcblwiICsgaW5kZW50ICsgXCJBZ2dyZWdhdGVFcnJvciBvZjpcIiArIFwiXFxuXCI7XG5cdCAgICBsZXZlbCsrO1xuXHQgICAgaW5kZW50ID0gQXJyYXkobGV2ZWwgKiA0ICsgMSkuam9pbihcIiBcIik7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICB2YXIgc3RyID0gdGhpc1tpXSA9PT0gdGhpcyA/IFwiW0NpcmN1bGFyIEFnZ3JlZ2F0ZUVycm9yXVwiIDogdGhpc1tpXSArIFwiXCI7XG5cdCAgICAgICAgdmFyIGxpbmVzID0gc3RyLnNwbGl0KFwiXFxuXCIpO1xuXHQgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGluZXMubGVuZ3RoOyArK2opIHtcblx0ICAgICAgICAgICAgbGluZXNbal0gPSBpbmRlbnQgKyBsaW5lc1tqXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgc3RyID0gbGluZXMuam9pbihcIlxcblwiKTtcblx0ICAgICAgICByZXQgKz0gc3RyICsgXCJcXG5cIjtcblx0ICAgIH1cblx0ICAgIGxldmVsLS07XG5cdCAgICByZXR1cm4gcmV0O1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gT3BlcmF0aW9uYWxFcnJvcihtZXNzYWdlKSB7XG5cdCAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgT3BlcmF0aW9uYWxFcnJvcikpXG5cdCAgICAgICAgcmV0dXJuIG5ldyBPcGVyYXRpb25hbEVycm9yKG1lc3NhZ2UpO1xuXHQgICAgbm90RW51bWVyYWJsZVByb3AodGhpcywgXCJuYW1lXCIsIFwiT3BlcmF0aW9uYWxFcnJvclwiKTtcblx0ICAgIG5vdEVudW1lcmFibGVQcm9wKHRoaXMsIFwibWVzc2FnZVwiLCBtZXNzYWdlKTtcblx0ICAgIHRoaXMuY2F1c2UgPSBtZXNzYWdlO1xuXHQgICAgdGhpc1tcImlzT3BlcmF0aW9uYWxcIl0gPSB0cnVlO1xuXHRcblx0ICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0ICAgICAgICBub3RFbnVtZXJhYmxlUHJvcCh0aGlzLCBcIm1lc3NhZ2VcIiwgbWVzc2FnZS5tZXNzYWdlKTtcblx0ICAgICAgICBub3RFbnVtZXJhYmxlUHJvcCh0aGlzLCBcInN0YWNrXCIsIG1lc3NhZ2Uuc3RhY2spO1xuXHQgICAgfSBlbHNlIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuXHQgICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpO1xuXHQgICAgfVxuXHRcblx0fVxuXHRpbmhlcml0cyhPcGVyYXRpb25hbEVycm9yLCBFcnJvcik7XG5cdFxuXHR2YXIgZXJyb3JUeXBlcyA9IEVycm9yW1wiX19CbHVlYmlyZEVycm9yVHlwZXNfX1wiXTtcblx0aWYgKCFlcnJvclR5cGVzKSB7XG5cdCAgICBlcnJvclR5cGVzID0gT2JqZWN0ZnJlZXplKHtcblx0ICAgICAgICBDYW5jZWxsYXRpb25FcnJvcjogQ2FuY2VsbGF0aW9uRXJyb3IsXG5cdCAgICAgICAgVGltZW91dEVycm9yOiBUaW1lb3V0RXJyb3IsXG5cdCAgICAgICAgT3BlcmF0aW9uYWxFcnJvcjogT3BlcmF0aW9uYWxFcnJvcixcblx0ICAgICAgICBSZWplY3Rpb25FcnJvcjogT3BlcmF0aW9uYWxFcnJvcixcblx0ICAgICAgICBBZ2dyZWdhdGVFcnJvcjogQWdncmVnYXRlRXJyb3Jcblx0ICAgIH0pO1xuXHQgICAgZXM1LmRlZmluZVByb3BlcnR5KEVycm9yLCBcIl9fQmx1ZWJpcmRFcnJvclR5cGVzX19cIiwge1xuXHQgICAgICAgIHZhbHVlOiBlcnJvclR5cGVzLFxuXHQgICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcblx0ICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcblx0ICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlXG5cdCAgICB9KTtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgICBFcnJvcjogRXJyb3IsXG5cdCAgICBUeXBlRXJyb3I6IF9UeXBlRXJyb3IsXG5cdCAgICBSYW5nZUVycm9yOiBfUmFuZ2VFcnJvcixcblx0ICAgIENhbmNlbGxhdGlvbkVycm9yOiBlcnJvclR5cGVzLkNhbmNlbGxhdGlvbkVycm9yLFxuXHQgICAgT3BlcmF0aW9uYWxFcnJvcjogZXJyb3JUeXBlcy5PcGVyYXRpb25hbEVycm9yLFxuXHQgICAgVGltZW91dEVycm9yOiBlcnJvclR5cGVzLlRpbWVvdXRFcnJvcixcblx0ICAgIEFnZ3JlZ2F0ZUVycm9yOiBlcnJvclR5cGVzLkFnZ3JlZ2F0ZUVycm9yLFxuXHQgICAgV2FybmluZzogV2FybmluZ1xuXHR9O1xuXHRcblx0fSx7XCIuL2VzNVwiOjEzLFwiLi91dGlsXCI6MzZ9XSwxMzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdHZhciBpc0VTNSA9IChmdW5jdGlvbigpe1xuXHQgICAgXCJ1c2Ugc3RyaWN0XCI7XG5cdCAgICByZXR1cm4gdGhpcyA9PT0gdW5kZWZpbmVkO1xuXHR9KSgpO1xuXHRcblx0aWYgKGlzRVM1KSB7XG5cdCAgICBtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICAgICAgICBmcmVlemU6IE9iamVjdC5mcmVlemUsXG5cdCAgICAgICAgZGVmaW5lUHJvcGVydHk6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSxcblx0ICAgICAgICBnZXREZXNjcmlwdG9yOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuXHQgICAgICAgIGtleXM6IE9iamVjdC5rZXlzLFxuXHQgICAgICAgIG5hbWVzOiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyxcblx0ICAgICAgICBnZXRQcm90b3R5cGVPZjogT2JqZWN0LmdldFByb3RvdHlwZU9mLFxuXHQgICAgICAgIGlzQXJyYXk6IEFycmF5LmlzQXJyYXksXG5cdCAgICAgICAgaXNFUzU6IGlzRVM1LFxuXHQgICAgICAgIHByb3BlcnR5SXNXcml0YWJsZTogZnVuY3Rpb24ob2JqLCBwcm9wKSB7XG5cdCAgICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIHByb3ApO1xuXHQgICAgICAgICAgICByZXR1cm4gISEoIWRlc2NyaXB0b3IgfHwgZGVzY3JpcHRvci53cml0YWJsZSB8fCBkZXNjcmlwdG9yLnNldCk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0fSBlbHNlIHtcblx0ICAgIHZhciBoYXMgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblx0ICAgIHZhciBzdHIgPSB7fS50b1N0cmluZztcblx0ICAgIHZhciBwcm90byA9IHt9LmNvbnN0cnVjdG9yLnByb3RvdHlwZTtcblx0XG5cdCAgICB2YXIgT2JqZWN0S2V5cyA9IGZ1bmN0aW9uIChvKSB7XG5cdCAgICAgICAgdmFyIHJldCA9IFtdO1xuXHQgICAgICAgIGZvciAodmFyIGtleSBpbiBvKSB7XG5cdCAgICAgICAgICAgIGlmIChoYXMuY2FsbChvLCBrZXkpKSB7XG5cdCAgICAgICAgICAgICAgICByZXQucHVzaChrZXkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICB9O1xuXHRcblx0ICAgIHZhciBPYmplY3RHZXREZXNjcmlwdG9yID0gZnVuY3Rpb24obywga2V5KSB7XG5cdCAgICAgICAgcmV0dXJuIHt2YWx1ZTogb1trZXldfTtcblx0ICAgIH07XG5cdFxuXHQgICAgdmFyIE9iamVjdERlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gKG8sIGtleSwgZGVzYykge1xuXHQgICAgICAgIG9ba2V5XSA9IGRlc2MudmFsdWU7XG5cdCAgICAgICAgcmV0dXJuIG87XG5cdCAgICB9O1xuXHRcblx0ICAgIHZhciBPYmplY3RGcmVlemUgPSBmdW5jdGlvbiAob2JqKSB7XG5cdCAgICAgICAgcmV0dXJuIG9iajtcblx0ICAgIH07XG5cdFxuXHQgICAgdmFyIE9iamVjdEdldFByb3RvdHlwZU9mID0gZnVuY3Rpb24gKG9iaikge1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIHJldHVybiBPYmplY3Qob2JqKS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGNhdGNoIChlKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBwcm90bztcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIHZhciBBcnJheUlzQXJyYXkgPSBmdW5jdGlvbiAob2JqKSB7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgcmV0dXJuIHN0ci5jYWxsKG9iaikgPT09IFwiW29iamVjdCBBcnJheV1cIjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgY2F0Y2goZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICAgICAgICBpc0FycmF5OiBBcnJheUlzQXJyYXksXG5cdCAgICAgICAga2V5czogT2JqZWN0S2V5cyxcblx0ICAgICAgICBuYW1lczogT2JqZWN0S2V5cyxcblx0ICAgICAgICBkZWZpbmVQcm9wZXJ0eTogT2JqZWN0RGVmaW5lUHJvcGVydHksXG5cdCAgICAgICAgZ2V0RGVzY3JpcHRvcjogT2JqZWN0R2V0RGVzY3JpcHRvcixcblx0ICAgICAgICBmcmVlemU6IE9iamVjdEZyZWV6ZSxcblx0ICAgICAgICBnZXRQcm90b3R5cGVPZjogT2JqZWN0R2V0UHJvdG90eXBlT2YsXG5cdCAgICAgICAgaXNFUzU6IGlzRVM1LFxuXHQgICAgICAgIHByb3BlcnR5SXNXcml0YWJsZTogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdH1cblx0XG5cdH0se31dLDE0OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSwgSU5URVJOQUwpIHtcblx0dmFyIFByb21pc2VNYXAgPSBQcm9taXNlLm1hcDtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLmZpbHRlciA9IGZ1bmN0aW9uIChmbiwgb3B0aW9ucykge1xuXHQgICAgcmV0dXJuIFByb21pc2VNYXAodGhpcywgZm4sIG9wdGlvbnMsIElOVEVSTkFMKTtcblx0fTtcblx0XG5cdFByb21pc2UuZmlsdGVyID0gZnVuY3Rpb24gKHByb21pc2VzLCBmbiwgb3B0aW9ucykge1xuXHQgICAgcmV0dXJuIFByb21pc2VNYXAocHJvbWlzZXMsIGZuLCBvcHRpb25zLCBJTlRFUk5BTCk7XG5cdH07XG5cdH07XG5cdFxuXHR9LHt9XSwxNTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIHRyeUNvbnZlcnRUb1Byb21pc2UpIHtcblx0dmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXHR2YXIgQ2FuY2VsbGF0aW9uRXJyb3IgPSBQcm9taXNlLkNhbmNlbGxhdGlvbkVycm9yO1xuXHR2YXIgZXJyb3JPYmogPSB1dGlsLmVycm9yT2JqO1xuXHRcblx0ZnVuY3Rpb24gUGFzc1Rocm91Z2hIYW5kbGVyQ29udGV4dChwcm9taXNlLCB0eXBlLCBoYW5kbGVyKSB7XG5cdCAgICB0aGlzLnByb21pc2UgPSBwcm9taXNlO1xuXHQgICAgdGhpcy50eXBlID0gdHlwZTtcblx0ICAgIHRoaXMuaGFuZGxlciA9IGhhbmRsZXI7XG5cdCAgICB0aGlzLmNhbGxlZCA9IGZhbHNlO1xuXHQgICAgdGhpcy5jYW5jZWxQcm9taXNlID0gbnVsbDtcblx0fVxuXHRcblx0UGFzc1Rocm91Z2hIYW5kbGVyQ29udGV4dC5wcm90b3R5cGUuaXNGaW5hbGx5SGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gMDtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIEZpbmFsbHlIYW5kbGVyQ2FuY2VsUmVhY3Rpb24oZmluYWxseUhhbmRsZXIpIHtcblx0ICAgIHRoaXMuZmluYWxseUhhbmRsZXIgPSBmaW5hbGx5SGFuZGxlcjtcblx0fVxuXHRcblx0RmluYWxseUhhbmRsZXJDYW5jZWxSZWFjdGlvbi5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgY2hlY2tDYW5jZWwodGhpcy5maW5hbGx5SGFuZGxlcik7XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBjaGVja0NhbmNlbChjdHgsIHJlYXNvbikge1xuXHQgICAgaWYgKGN0eC5jYW5jZWxQcm9taXNlICE9IG51bGwpIHtcblx0ICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcblx0ICAgICAgICAgICAgY3R4LmNhbmNlbFByb21pc2UuX3JlamVjdChyZWFzb24pO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGN0eC5jYW5jZWxQcm9taXNlLl9jYW5jZWwoKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgY3R4LmNhbmNlbFByb21pc2UgPSBudWxsO1xuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzdWNjZWVkKCkge1xuXHQgICAgcmV0dXJuIGZpbmFsbHlIYW5kbGVyLmNhbGwodGhpcywgdGhpcy5wcm9taXNlLl90YXJnZXQoKS5fc2V0dGxlZFZhbHVlKCkpO1xuXHR9XG5cdGZ1bmN0aW9uIGZhaWwocmVhc29uKSB7XG5cdCAgICBpZiAoY2hlY2tDYW5jZWwodGhpcywgcmVhc29uKSkgcmV0dXJuO1xuXHQgICAgZXJyb3JPYmouZSA9IHJlYXNvbjtcblx0ICAgIHJldHVybiBlcnJvck9iajtcblx0fVxuXHRmdW5jdGlvbiBmaW5hbGx5SGFuZGxlcihyZWFzb25PclZhbHVlKSB7XG5cdCAgICB2YXIgcHJvbWlzZSA9IHRoaXMucHJvbWlzZTtcblx0ICAgIHZhciBoYW5kbGVyID0gdGhpcy5oYW5kbGVyO1xuXHRcblx0ICAgIGlmICghdGhpcy5jYWxsZWQpIHtcblx0ICAgICAgICB0aGlzLmNhbGxlZCA9IHRydWU7XG5cdCAgICAgICAgdmFyIHJldCA9IHRoaXMuaXNGaW5hbGx5SGFuZGxlcigpXG5cdCAgICAgICAgICAgID8gaGFuZGxlci5jYWxsKHByb21pc2UuX2JvdW5kVmFsdWUoKSlcblx0ICAgICAgICAgICAgOiBoYW5kbGVyLmNhbGwocHJvbWlzZS5fYm91bmRWYWx1ZSgpLCByZWFzb25PclZhbHVlKTtcblx0ICAgICAgICBpZiAocmV0ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgcHJvbWlzZS5fc2V0UmV0dXJuZWROb25VbmRlZmluZWQoKTtcblx0ICAgICAgICAgICAgdmFyIG1heWJlUHJvbWlzZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UocmV0LCBwcm9taXNlKTtcblx0ICAgICAgICAgICAgaWYgKG1heWJlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcblx0ICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbmNlbFByb21pc2UgIT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChtYXliZVByb21pc2UuX2lzQ2FuY2VsbGVkKCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlYXNvbiA9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQ2FuY2VsbGF0aW9uRXJyb3IoXCJsYXRlIGNhbmNlbGxhdGlvbiBvYnNlcnZlclwiKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5fYXR0YWNoRXh0cmFUcmFjZShyZWFzb24pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBlcnJvck9iai5lID0gcmVhc29uO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3JPYmo7XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtYXliZVByb21pc2UuaXNQZW5kaW5nKCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlLl9hdHRhY2hDYW5jZWxsYXRpb25DYWxsYmFjayhcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBGaW5hbGx5SGFuZGxlckNhbmNlbFJlYWN0aW9uKHRoaXMpKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbWF5YmVQcm9taXNlLl90aGVuKFxuXHQgICAgICAgICAgICAgICAgICAgIHN1Y2NlZWQsIGZhaWwsIHVuZGVmaW5lZCwgdGhpcywgdW5kZWZpbmVkKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAocHJvbWlzZS5pc1JlamVjdGVkKCkpIHtcblx0ICAgICAgICBjaGVja0NhbmNlbCh0aGlzKTtcblx0ICAgICAgICBlcnJvck9iai5lID0gcmVhc29uT3JWYWx1ZTtcblx0ICAgICAgICByZXR1cm4gZXJyb3JPYmo7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGNoZWNrQ2FuY2VsKHRoaXMpO1xuXHQgICAgICAgIHJldHVybiByZWFzb25PclZhbHVlO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fcGFzc1Rocm91Z2ggPSBmdW5jdGlvbihoYW5kbGVyLCB0eXBlLCBzdWNjZXNzLCBmYWlsKSB7XG5cdCAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRoaXMudGhlbigpO1xuXHQgICAgcmV0dXJuIHRoaXMuX3RoZW4oc3VjY2Vzcyxcblx0ICAgICAgICAgICAgICAgICAgICAgIGZhaWwsXG5cdCAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG5cdCAgICAgICAgICAgICAgICAgICAgICBuZXcgUGFzc1Rocm91Z2hIYW5kbGVyQ29udGV4dCh0aGlzLCB0eXBlLCBoYW5kbGVyKSxcblx0ICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5sYXN0bHkgPVxuXHRQcm9taXNlLnByb3RvdHlwZVtcImZpbmFsbHlcIl0gPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuXHQgICAgcmV0dXJuIHRoaXMuX3Bhc3NUaHJvdWdoKGhhbmRsZXIsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbGx5SGFuZGxlcixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbGx5SGFuZGxlcik7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS50YXAgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuXHQgICAgcmV0dXJuIHRoaXMuX3Bhc3NUaHJvdWdoKGhhbmRsZXIsIDEsIGZpbmFsbHlIYW5kbGVyKTtcblx0fTtcblx0XG5cdHJldHVybiBQYXNzVGhyb3VnaEhhbmRsZXJDb250ZXh0O1xuXHR9O1xuXHRcblx0fSx7XCIuL3V0aWxcIjozNn1dLDE2OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICBhcGlSZWplY3Rpb24sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgSU5URVJOQUwsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5Q29udmVydFRvUHJvbWlzZSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICBQcm94eWFibGUsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcpIHtcblx0dmFyIGVycm9ycyA9IF9kZXJlcV8oXCIuL2Vycm9yc1wiKTtcblx0dmFyIFR5cGVFcnJvciA9IGVycm9ycy5UeXBlRXJyb3I7XG5cdHZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcblx0dmFyIGVycm9yT2JqID0gdXRpbC5lcnJvck9iajtcblx0dmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcblx0dmFyIHlpZWxkSGFuZGxlcnMgPSBbXTtcblx0XG5cdGZ1bmN0aW9uIHByb21pc2VGcm9tWWllbGRIYW5kbGVyKHZhbHVlLCB5aWVsZEhhbmRsZXJzLCB0cmFjZVBhcmVudCkge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB5aWVsZEhhbmRsZXJzLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgdHJhY2VQYXJlbnQuX3B1c2hDb250ZXh0KCk7XG5cdCAgICAgICAgdmFyIHJlc3VsdCA9IHRyeUNhdGNoKHlpZWxkSGFuZGxlcnNbaV0pKHZhbHVlKTtcblx0ICAgICAgICB0cmFjZVBhcmVudC5fcG9wQ29udGV4dCgpO1xuXHQgICAgICAgIGlmIChyZXN1bHQgPT09IGVycm9yT2JqKSB7XG5cdCAgICAgICAgICAgIHRyYWNlUGFyZW50Ll9wdXNoQ29udGV4dCgpO1xuXHQgICAgICAgICAgICB2YXIgcmV0ID0gUHJvbWlzZS5yZWplY3QoZXJyb3JPYmouZSk7XG5cdCAgICAgICAgICAgIHRyYWNlUGFyZW50Ll9wb3BDb250ZXh0KCk7XG5cdCAgICAgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHJlc3VsdCwgdHJhY2VQYXJlbnQpO1xuXHQgICAgICAgIGlmIChtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSByZXR1cm4gbWF5YmVQcm9taXNlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG51bGw7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIFByb21pc2VTcGF3bihnZW5lcmF0b3JGdW5jdGlvbiwgcmVjZWl2ZXIsIHlpZWxkSGFuZGxlciwgc3RhY2spIHtcblx0ICAgIGlmIChkZWJ1Zy5jYW5jZWxsYXRpb24oKSkge1xuXHQgICAgICAgIHZhciBpbnRlcm5hbCA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcblx0ICAgICAgICB2YXIgX2ZpbmFsbHlQcm9taXNlID0gdGhpcy5fZmluYWxseVByb21pc2UgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG5cdCAgICAgICAgdGhpcy5fcHJvbWlzZSA9IGludGVybmFsLmxhc3RseShmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF9maW5hbGx5UHJvbWlzZTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICBpbnRlcm5hbC5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcblx0ICAgICAgICBpbnRlcm5hbC5fc2V0T25DYW5jZWwodGhpcyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5fcHJvbWlzZSA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcblx0ICAgICAgICBwcm9taXNlLl9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5fc3RhY2sgPSBzdGFjaztcblx0ICAgIHRoaXMuX2dlbmVyYXRvckZ1bmN0aW9uID0gZ2VuZXJhdG9yRnVuY3Rpb247XG5cdCAgICB0aGlzLl9yZWNlaXZlciA9IHJlY2VpdmVyO1xuXHQgICAgdGhpcy5fZ2VuZXJhdG9yID0gdW5kZWZpbmVkO1xuXHQgICAgdGhpcy5feWllbGRIYW5kbGVycyA9IHR5cGVvZiB5aWVsZEhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIlxuXHQgICAgICAgID8gW3lpZWxkSGFuZGxlcl0uY29uY2F0KHlpZWxkSGFuZGxlcnMpXG5cdCAgICAgICAgOiB5aWVsZEhhbmRsZXJzO1xuXHQgICAgdGhpcy5feWllbGRlZFByb21pc2UgPSBudWxsO1xuXHQgICAgdGhpcy5fY2FuY2VsbGF0aW9uUGhhc2UgPSBmYWxzZTtcblx0fVxuXHR1dGlsLmluaGVyaXRzKFByb21pc2VTcGF3biwgUHJveHlhYmxlKTtcblx0XG5cdFByb21pc2VTcGF3bi5wcm90b3R5cGUuX2lzUmVzb2x2ZWQgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiB0aGlzLl9wcm9taXNlID09PSBudWxsO1xuXHR9O1xuXHRcblx0UHJvbWlzZVNwYXduLnByb3RvdHlwZS5fY2xlYW51cCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdGhpcy5fcHJvbWlzZSA9IHRoaXMuX2dlbmVyYXRvciA9IG51bGw7XG5cdCAgICBpZiAoZGVidWcuY2FuY2VsbGF0aW9uKCkgJiYgdGhpcy5fZmluYWxseVByb21pc2UgIT09IG51bGwpIHtcblx0ICAgICAgICB0aGlzLl9maW5hbGx5UHJvbWlzZS5fZnVsZmlsbCgpO1xuXHQgICAgICAgIHRoaXMuX2ZpbmFsbHlQcm9taXNlID0gbnVsbDtcblx0ICAgIH1cblx0fTtcblx0XG5cdFByb21pc2VTcGF3bi5wcm90b3R5cGUuX3Byb21pc2VDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcblx0ICAgIGlmICh0aGlzLl9pc1Jlc29sdmVkKCkpIHJldHVybjtcblx0ICAgIHZhciBpbXBsZW1lbnRzUmV0dXJuID0gdHlwZW9mIHRoaXMuX2dlbmVyYXRvcltcInJldHVyblwiXSAhPT0gXCJ1bmRlZmluZWRcIjtcblx0XG5cdCAgICB2YXIgcmVzdWx0O1xuXHQgICAgaWYgKCFpbXBsZW1lbnRzUmV0dXJuKSB7XG5cdCAgICAgICAgdmFyIHJlYXNvbiA9IG5ldyBQcm9taXNlLkNhbmNlbGxhdGlvbkVycm9yKFxuXHQgICAgICAgICAgICBcImdlbmVyYXRvciAucmV0dXJuKCkgc2VudGluZWxcIik7XG5cdCAgICAgICAgUHJvbWlzZS5jb3JvdXRpbmUucmV0dXJuU2VudGluZWwgPSByZWFzb247XG5cdCAgICAgICAgdGhpcy5fcHJvbWlzZS5fYXR0YWNoRXh0cmFUcmFjZShyZWFzb24pO1xuXHQgICAgICAgIHRoaXMuX3Byb21pc2UuX3B1c2hDb250ZXh0KCk7XG5cdCAgICAgICAgcmVzdWx0ID0gdHJ5Q2F0Y2godGhpcy5fZ2VuZXJhdG9yW1widGhyb3dcIl0pLmNhbGwodGhpcy5fZ2VuZXJhdG9yLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFzb24pO1xuXHQgICAgICAgIHRoaXMuX3Byb21pc2UuX3BvcENvbnRleHQoKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5fcHJvbWlzZS5fcHVzaENvbnRleHQoKTtcblx0ICAgICAgICByZXN1bHQgPSB0cnlDYXRjaCh0aGlzLl9nZW5lcmF0b3JbXCJyZXR1cm5cIl0pLmNhbGwodGhpcy5fZ2VuZXJhdG9yLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkKTtcblx0ICAgICAgICB0aGlzLl9wcm9taXNlLl9wb3BDb250ZXh0KCk7XG5cdCAgICB9XG5cdCAgICB0aGlzLl9jYW5jZWxsYXRpb25QaGFzZSA9IHRydWU7XG5cdCAgICB0aGlzLl95aWVsZGVkUHJvbWlzZSA9IG51bGw7XG5cdCAgICB0aGlzLl9jb250aW51ZShyZXN1bHQpO1xuXHR9O1xuXHRcblx0UHJvbWlzZVNwYXduLnByb3RvdHlwZS5fcHJvbWlzZUZ1bGZpbGxlZCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICB0aGlzLl95aWVsZGVkUHJvbWlzZSA9IG51bGw7XG5cdCAgICB0aGlzLl9wcm9taXNlLl9wdXNoQ29udGV4dCgpO1xuXHQgICAgdmFyIHJlc3VsdCA9IHRyeUNhdGNoKHRoaXMuX2dlbmVyYXRvci5uZXh0KS5jYWxsKHRoaXMuX2dlbmVyYXRvciwgdmFsdWUpO1xuXHQgICAgdGhpcy5fcHJvbWlzZS5fcG9wQ29udGV4dCgpO1xuXHQgICAgdGhpcy5fY29udGludWUocmVzdWx0KTtcblx0fTtcblx0XG5cdFByb21pc2VTcGF3bi5wcm90b3R5cGUuX3Byb21pc2VSZWplY3RlZCA9IGZ1bmN0aW9uKHJlYXNvbikge1xuXHQgICAgdGhpcy5feWllbGRlZFByb21pc2UgPSBudWxsO1xuXHQgICAgdGhpcy5fcHJvbWlzZS5fYXR0YWNoRXh0cmFUcmFjZShyZWFzb24pO1xuXHQgICAgdGhpcy5fcHJvbWlzZS5fcHVzaENvbnRleHQoKTtcblx0ICAgIHZhciByZXN1bHQgPSB0cnlDYXRjaCh0aGlzLl9nZW5lcmF0b3JbXCJ0aHJvd1wiXSlcblx0ICAgICAgICAuY2FsbCh0aGlzLl9nZW5lcmF0b3IsIHJlYXNvbik7XG5cdCAgICB0aGlzLl9wcm9taXNlLl9wb3BDb250ZXh0KCk7XG5cdCAgICB0aGlzLl9jb250aW51ZShyZXN1bHQpO1xuXHR9O1xuXHRcblx0UHJvbWlzZVNwYXduLnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICBpZiAodGhpcy5feWllbGRlZFByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLl95aWVsZGVkUHJvbWlzZTtcblx0ICAgICAgICB0aGlzLl95aWVsZGVkUHJvbWlzZSA9IG51bGw7XG5cdCAgICAgICAgcHJvbWlzZS5jYW5jZWwoKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdFByb21pc2VTcGF3bi5wcm90b3R5cGUucHJvbWlzZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLl9wcm9taXNlO1xuXHR9O1xuXHRcblx0UHJvbWlzZVNwYXduLnByb3RvdHlwZS5fcnVuID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5fZ2VuZXJhdG9yID0gdGhpcy5fZ2VuZXJhdG9yRnVuY3Rpb24uY2FsbCh0aGlzLl9yZWNlaXZlcik7XG5cdCAgICB0aGlzLl9yZWNlaXZlciA9XG5cdCAgICAgICAgdGhpcy5fZ2VuZXJhdG9yRnVuY3Rpb24gPSB1bmRlZmluZWQ7XG5cdCAgICB0aGlzLl9wcm9taXNlRnVsZmlsbGVkKHVuZGVmaW5lZCk7XG5cdH07XG5cdFxuXHRQcm9taXNlU3Bhd24ucHJvdG90eXBlLl9jb250aW51ZSA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcblx0ICAgIHZhciBwcm9taXNlID0gdGhpcy5fcHJvbWlzZTtcblx0ICAgIGlmIChyZXN1bHQgPT09IGVycm9yT2JqKSB7XG5cdCAgICAgICAgdGhpcy5fY2xlYW51cCgpO1xuXHQgICAgICAgIGlmICh0aGlzLl9jYW5jZWxsYXRpb25QaGFzZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gcHJvbWlzZS5jYW5jZWwoKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2socmVzdWx0LmUsIGZhbHNlKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuXHQgICAgaWYgKHJlc3VsdC5kb25lID09PSB0cnVlKSB7XG5cdCAgICAgICAgdGhpcy5fY2xlYW51cCgpO1xuXHQgICAgICAgIGlmICh0aGlzLl9jYW5jZWxsYXRpb25QaGFzZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gcHJvbWlzZS5jYW5jZWwoKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gcHJvbWlzZS5fcmVzb2x2ZUNhbGxiYWNrKHZhbHVlKTtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHZhbHVlLCB0aGlzLl9wcm9taXNlKTtcblx0ICAgICAgICBpZiAoIShtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSkge1xuXHQgICAgICAgICAgICBtYXliZVByb21pc2UgPVxuXHQgICAgICAgICAgICAgICAgcHJvbWlzZUZyb21ZaWVsZEhhbmRsZXIobWF5YmVQcm9taXNlLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5feWllbGRIYW5kbGVycyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Byb21pc2UpO1xuXHQgICAgICAgICAgICBpZiAobWF5YmVQcm9taXNlID09PSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLl9wcm9taXNlUmVqZWN0ZWQoXG5cdCAgICAgICAgICAgICAgICAgICAgbmV3IFR5cGVFcnJvcihcblx0ICAgICAgICAgICAgICAgICAgICAgICAgXCJBIHZhbHVlICVzIHdhcyB5aWVsZGVkIHRoYXQgY291bGQgbm90IGJlIHRyZWF0ZWQgYXMgYSBwcm9taXNlXFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVxcdTAwMGFcIi5yZXBsYWNlKFwiJXNcIiwgdmFsdWUpICtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgXCJGcm9tIGNvcm91dGluZTpcXHUwMDBhXCIgK1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFjay5zcGxpdChcIlxcblwiKS5zbGljZSgxLCAtNykuam9pbihcIlxcblwiKVxuXHQgICAgICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICAgICk7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgbWF5YmVQcm9taXNlID0gbWF5YmVQcm9taXNlLl90YXJnZXQoKTtcblx0ICAgICAgICB2YXIgYml0RmllbGQgPSBtYXliZVByb21pc2UuX2JpdEZpZWxkO1xuXHQgICAgICAgIDtcblx0ICAgICAgICBpZiAoKChiaXRGaWVsZCAmIDUwMzk3MTg0KSA9PT0gMCkpIHtcblx0ICAgICAgICAgICAgdGhpcy5feWllbGRlZFByb21pc2UgPSBtYXliZVByb21pc2U7XG5cdCAgICAgICAgICAgIG1heWJlUHJvbWlzZS5fcHJveHkodGhpcywgbnVsbCk7XG5cdCAgICAgICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMzM1NTQ0MzIpICE9PSAwKSkge1xuXHQgICAgICAgICAgICBQcm9taXNlLl9hc3luYy5pbnZva2UoXG5cdCAgICAgICAgICAgICAgICB0aGlzLl9wcm9taXNlRnVsZmlsbGVkLCB0aGlzLCBtYXliZVByb21pc2UuX3ZhbHVlKClcblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKCgoYml0RmllbGQgJiAxNjc3NzIxNikgIT09IDApKSB7XG5cdCAgICAgICAgICAgIFByb21pc2UuX2FzeW5jLmludm9rZShcblx0ICAgICAgICAgICAgICAgIHRoaXMuX3Byb21pc2VSZWplY3RlZCwgdGhpcywgbWF5YmVQcm9taXNlLl9yZWFzb24oKVxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHRoaXMuX3Byb21pc2VDYW5jZWxsZWQoKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH07XG5cdFxuXHRQcm9taXNlLmNvcm91dGluZSA9IGZ1bmN0aW9uIChnZW5lcmF0b3JGdW5jdGlvbiwgb3B0aW9ucykge1xuXHQgICAgaWYgKHR5cGVvZiBnZW5lcmF0b3JGdW5jdGlvbiAhPT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImdlbmVyYXRvckZ1bmN0aW9uIG11c3QgYmUgYSBmdW5jdGlvblxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG5cdCAgICB9XG5cdCAgICB2YXIgeWllbGRIYW5kbGVyID0gT2JqZWN0KG9wdGlvbnMpLnlpZWxkSGFuZGxlcjtcblx0ICAgIHZhciBQcm9taXNlU3Bhd24kID0gUHJvbWlzZVNwYXduO1xuXHQgICAgdmFyIHN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHZhciBnZW5lcmF0b3IgPSBnZW5lcmF0b3JGdW5jdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgIHZhciBzcGF3biA9IG5ldyBQcm9taXNlU3Bhd24kKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB5aWVsZEhhbmRsZXIsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2spO1xuXHQgICAgICAgIHZhciByZXQgPSBzcGF3bi5wcm9taXNlKCk7XG5cdCAgICAgICAgc3Bhd24uX2dlbmVyYXRvciA9IGdlbmVyYXRvcjtcblx0ICAgICAgICBzcGF3bi5fcHJvbWlzZUZ1bGZpbGxlZCh1bmRlZmluZWQpO1xuXHQgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICB9O1xuXHR9O1xuXHRcblx0UHJvbWlzZS5jb3JvdXRpbmUuYWRkWWllbGRIYW5kbGVyID0gZnVuY3Rpb24oZm4pIHtcblx0ICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyhmbikpO1xuXHQgICAgfVxuXHQgICAgeWllbGRIYW5kbGVycy5wdXNoKGZuKTtcblx0fTtcblx0XG5cdFByb21pc2Uuc3Bhd24gPSBmdW5jdGlvbiAoZ2VuZXJhdG9yRnVuY3Rpb24pIHtcblx0ICAgIGRlYnVnLmRlcHJlY2F0ZWQoXCJQcm9taXNlLnNwYXduKClcIiwgXCJQcm9taXNlLmNvcm91dGluZSgpXCIpO1xuXHQgICAgaWYgKHR5cGVvZiBnZW5lcmF0b3JGdW5jdGlvbiAhPT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgcmV0dXJuIGFwaVJlamVjdGlvbihcImdlbmVyYXRvckZ1bmN0aW9uIG11c3QgYmUgYSBmdW5jdGlvblxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG5cdCAgICB9XG5cdCAgICB2YXIgc3Bhd24gPSBuZXcgUHJvbWlzZVNwYXduKGdlbmVyYXRvckZ1bmN0aW9uLCB0aGlzKTtcblx0ICAgIHZhciByZXQgPSBzcGF3bi5wcm9taXNlKCk7XG5cdCAgICBzcGF3bi5fcnVuKFByb21pc2Uuc3Bhd24pO1xuXHQgICAgcmV0dXJuIHJldDtcblx0fTtcblx0fTtcblx0XG5cdH0se1wiLi9lcnJvcnNcIjoxMixcIi4vdXRpbFwiOjM2fV0sMTc6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0bW9kdWxlLmV4cG9ydHMgPVxuXHRmdW5jdGlvbihQcm9taXNlLCBQcm9taXNlQXJyYXksIHRyeUNvbnZlcnRUb1Byb21pc2UsIElOVEVSTkFMLCBhc3luYyxcblx0ICAgICAgICAgZ2V0RG9tYWluKSB7XG5cdHZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcblx0dmFyIGNhbkV2YWx1YXRlID0gdXRpbC5jYW5FdmFsdWF0ZTtcblx0dmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcblx0dmFyIGVycm9yT2JqID0gdXRpbC5lcnJvck9iajtcblx0dmFyIHJlamVjdDtcblx0XG5cdGlmIChmYWxzZSkge1xuXHRpZiAoY2FuRXZhbHVhdGUpIHtcblx0ICAgIHZhciB0aGVuQ2FsbGJhY2sgPSBmdW5jdGlvbihpKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbihcInZhbHVlXCIsIFwiaG9sZGVyXCIsIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAndXNlIHN0cmljdCc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIGhvbGRlci5wSW5kZXggPSB2YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgaG9sZGVyLmNoZWNrRnVsZmlsbG1lbnQodGhpcyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICBcIi5yZXBsYWNlKC9JbmRleC9nLCBpKSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHZhciBwcm9taXNlU2V0dGVyID0gZnVuY3Rpb24oaSkge1xuXHQgICAgICAgIHJldHVybiBuZXcgRnVuY3Rpb24oXCJwcm9taXNlXCIsIFwiaG9sZGVyXCIsIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgJ3VzZSBzdHJpY3QnOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICBob2xkZXIucEluZGV4ID0gcHJvbWlzZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIFwiLnJlcGxhY2UoL0luZGV4L2csIGkpKTtcblx0ICAgIH07XG5cdFxuXHQgICAgdmFyIGdlbmVyYXRlSG9sZGVyQ2xhc3MgPSBmdW5jdGlvbih0b3RhbCkge1xuXHQgICAgICAgIHZhciBwcm9wcyA9IG5ldyBBcnJheSh0b3RhbCk7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgICAgICBwcm9wc1tpXSA9IFwidGhpcy5wXCIgKyAoaSsxKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGFzc2lnbm1lbnQgPSBwcm9wcy5qb2luKFwiID0gXCIpICsgXCIgPSBudWxsO1wiO1xuXHQgICAgICAgIHZhciBjYW5jZWxsYXRpb25Db2RlPSBcInZhciBwcm9taXNlO1xcblwiICsgcHJvcHMubWFwKGZ1bmN0aW9uKHByb3ApIHtcblx0ICAgICAgICAgICAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgIHByb21pc2UgPSBcIiArIHByb3AgKyBcIjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICBpZiAocHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgICAgICBwcm9taXNlLmNhbmNlbCgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIFwiO1xuXHQgICAgICAgIH0pLmpvaW4oXCJcXG5cIik7XG5cdCAgICAgICAgdmFyIHBhc3NlZEFyZ3VtZW50cyA9IHByb3BzLmpvaW4oXCIsIFwiKTtcblx0ICAgICAgICB2YXIgbmFtZSA9IFwiSG9sZGVyJFwiICsgdG90YWw7XG5cdFxuXHRcblx0ICAgICAgICB2YXIgY29kZSA9IFwicmV0dXJuIGZ1bmN0aW9uKHRyeUNhdGNoLCBlcnJvck9iaiwgUHJvbWlzZSwgYXN5bmMpIHsgICAgXFxuXFxcblx0ICAgICAgICAgICAgJ3VzZSBzdHJpY3QnOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICBmdW5jdGlvbiBbVGhlTmFtZV0oZm4pIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICBbVGhlUHJvcGVydGllc10gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgIHRoaXMuZm4gPSBmbjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgdGhpcy5hc3luY05lZWRlZCA9IHRydWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICB0aGlzLm5vdyA9IDA7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIFtUaGVOYW1lXS5wcm90b3R5cGUuX2NhbGxGdW5jdGlvbiA9IGZ1bmN0aW9uKHByb21pc2UpIHsgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgIHByb21pc2UuX3B1c2hDb250ZXh0KCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgdmFyIHJldCA9IHRyeUNhdGNoKHRoaXMuZm4pKFtUaGVQYXNzZWRBcmd1bWVudHNdKTsgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICBwcm9taXNlLl9wb3BDb250ZXh0KCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgIGlmIChyZXQgPT09IGVycm9yT2JqKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgICAgIHByb21pc2UuX3JlamVjdENhbGxiYWNrKHJldC5lLCBmYWxzZSk7ICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgICAgICBwcm9taXNlLl9yZXNvbHZlQ2FsbGJhY2socmV0KTsgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIH07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICBbVGhlTmFtZV0ucHJvdG90eXBlLmNoZWNrRnVsZmlsbG1lbnQgPSBmdW5jdGlvbihwcm9taXNlKSB7ICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICB2YXIgbm93ID0gKyt0aGlzLm5vdzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgIGlmIChub3cgPT09IFtUaGVUb3RhbF0pIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFzeW5jTmVlZGVkKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGFzeW5jLmludm9rZSh0aGlzLl9jYWxsRnVuY3Rpb24sIHRoaXMsIHByb21pc2UpOyAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWxsRnVuY3Rpb24ocHJvbWlzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIH07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICBbVGhlTmFtZV0ucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHsgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICBbQ2FuY2VsbGF0aW9uQ29kZV0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgfTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIHJldHVybiBbVGhlTmFtZV07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICB9KHRyeUNhdGNoLCBlcnJvck9iaiwgUHJvbWlzZSwgYXN5bmMpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgIFwiO1xuXHRcblx0ICAgICAgICBjb2RlID0gY29kZS5yZXBsYWNlKC9cXFtUaGVOYW1lXFxdL2csIG5hbWUpXG5cdCAgICAgICAgICAgIC5yZXBsYWNlKC9cXFtUaGVUb3RhbFxcXS9nLCB0b3RhbClcblx0ICAgICAgICAgICAgLnJlcGxhY2UoL1xcW1RoZVBhc3NlZEFyZ3VtZW50c1xcXS9nLCBwYXNzZWRBcmd1bWVudHMpXG5cdCAgICAgICAgICAgIC5yZXBsYWNlKC9cXFtUaGVQcm9wZXJ0aWVzXFxdL2csIGFzc2lnbm1lbnQpXG5cdCAgICAgICAgICAgIC5yZXBsYWNlKC9cXFtDYW5jZWxsYXRpb25Db2RlXFxdL2csIGNhbmNlbGxhdGlvbkNvZGUpO1xuXHRcblx0ICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKFwidHJ5Q2F0Y2hcIiwgXCJlcnJvck9ialwiLCBcIlByb21pc2VcIiwgXCJhc3luY1wiLCBjb2RlKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAodHJ5Q2F0Y2gsIGVycm9yT2JqLCBQcm9taXNlLCBhc3luYyk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHZhciBob2xkZXJDbGFzc2VzID0gW107XG5cdCAgICB2YXIgdGhlbkNhbGxiYWNrcyA9IFtdO1xuXHQgICAgdmFyIHByb21pc2VTZXR0ZXJzID0gW107XG5cdFxuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA4OyArK2kpIHtcblx0ICAgICAgICBob2xkZXJDbGFzc2VzLnB1c2goZ2VuZXJhdGVIb2xkZXJDbGFzcyhpICsgMSkpO1xuXHQgICAgICAgIHRoZW5DYWxsYmFja3MucHVzaCh0aGVuQ2FsbGJhY2soaSArIDEpKTtcblx0ICAgICAgICBwcm9taXNlU2V0dGVycy5wdXNoKHByb21pc2VTZXR0ZXIoaSArIDEpKTtcblx0ICAgIH1cblx0XG5cdCAgICByZWplY3QgPSBmdW5jdGlvbiAocmVhc29uKSB7XG5cdCAgICAgICAgdGhpcy5fcmVqZWN0KHJlYXNvbik7XG5cdCAgICB9O1xuXHR9fVxuXHRcblx0UHJvbWlzZS5qb2luID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIGxhc3QgPSBhcmd1bWVudHMubGVuZ3RoIC0gMTtcblx0ICAgIHZhciBmbjtcblx0ICAgIGlmIChsYXN0ID4gMCAmJiB0eXBlb2YgYXJndW1lbnRzW2xhc3RdID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICBmbiA9IGFyZ3VtZW50c1tsYXN0XTtcblx0ICAgICAgICBpZiAoZmFsc2UpIHtcblx0ICAgICAgICAgICAgaWYgKGxhc3QgPD0gOCAmJiBjYW5FdmFsdWF0ZSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIHJldCA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcblx0ICAgICAgICAgICAgICAgIHJldC5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcblx0ICAgICAgICAgICAgICAgIHZhciBIb2xkZXJDbGFzcyA9IGhvbGRlckNsYXNzZXNbbGFzdCAtIDFdO1xuXHQgICAgICAgICAgICAgICAgdmFyIGhvbGRlciA9IG5ldyBIb2xkZXJDbGFzcyhmbik7XG5cdCAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2tzID0gdGhlbkNhbGxiYWNrcztcblx0XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3Q7ICsraSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKGFyZ3VtZW50c1tpXSwgcmV0KTtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBtYXliZVByb21pc2UgPSBtYXliZVByb21pc2UuX3RhcmdldCgpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYml0RmllbGQgPSBtYXliZVByb21pc2UuX2JpdEZpZWxkO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICA7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoKGJpdEZpZWxkICYgNTAzOTcxODQpID09PSAwKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlLl90aGVuKGNhbGxiYWNrc1tpXSwgcmVqZWN0LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCwgcmV0LCBob2xkZXIpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZVNldHRlcnNbaV0obWF5YmVQcm9taXNlLCBob2xkZXIpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9sZGVyLmFzeW5jTmVlZGVkID0gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc1tpXS5jYWxsKHJldCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlUHJvbWlzZS5fdmFsdWUoKSwgaG9sZGVyKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMTY3NzcyMTYpICE9PSAwKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0Ll9yZWplY3QobWF5YmVQcm9taXNlLl9yZWFzb24oKSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXQuX2NhbmNlbCgpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzW2ldLmNhbGwocmV0LCBtYXliZVByb21pc2UsIGhvbGRlcik7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgIGlmICghcmV0Ll9pc0ZhdGVTZWFsZWQoKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChob2xkZXIuYXN5bmNOZWVkZWQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvbWFpbiA9IGdldERvbWFpbigpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9tYWluICE9PSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2xkZXIuZm4gPSB1dGlsLmRvbWFpbkJpbmQoZG9tYWluLCBob2xkZXIuZm4pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIHJldC5fc2V0QXN5bmNHdWFyYW50ZWVkKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0Ll9zZXRPbkNhbmNlbChob2xkZXIpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMpOztcblx0ICAgIGlmIChmbikgYXJncy5wb3AoKTtcblx0ICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZUFycmF5KGFyZ3MpLnByb21pc2UoKTtcblx0ICAgIHJldHVybiBmbiAhPT0gdW5kZWZpbmVkID8gcmV0LnNwcmVhZChmbikgOiByZXQ7XG5cdH07XG5cdFxuXHR9O1xuXHRcblx0fSx7XCIuL3V0aWxcIjozNn1dLDE4OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9taXNlQXJyYXksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpUmVqZWN0aW9uLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeUNvbnZlcnRUb1Byb21pc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgSU5URVJOQUwsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcpIHtcblx0dmFyIGdldERvbWFpbiA9IFByb21pc2UuX2dldERvbWFpbjtcblx0dmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXHR2YXIgdHJ5Q2F0Y2ggPSB1dGlsLnRyeUNhdGNoO1xuXHR2YXIgZXJyb3JPYmogPSB1dGlsLmVycm9yT2JqO1xuXHR2YXIgYXN5bmMgPSBQcm9taXNlLl9hc3luYztcblx0XG5cdGZ1bmN0aW9uIE1hcHBpbmdQcm9taXNlQXJyYXkocHJvbWlzZXMsIGZuLCBsaW1pdCwgX2ZpbHRlcikge1xuXHQgICAgdGhpcy5jb25zdHJ1Y3RvciQocHJvbWlzZXMpO1xuXHQgICAgdGhpcy5fcHJvbWlzZS5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcblx0ICAgIHZhciBkb21haW4gPSBnZXREb21haW4oKTtcblx0ICAgIHRoaXMuX2NhbGxiYWNrID0gZG9tYWluID09PSBudWxsID8gZm4gOiB1dGlsLmRvbWFpbkJpbmQoZG9tYWluLCBmbik7XG5cdCAgICB0aGlzLl9wcmVzZXJ2ZWRWYWx1ZXMgPSBfZmlsdGVyID09PSBJTlRFUk5BTFxuXHQgICAgICAgID8gbmV3IEFycmF5KHRoaXMubGVuZ3RoKCkpXG5cdCAgICAgICAgOiBudWxsO1xuXHQgICAgdGhpcy5fbGltaXQgPSBsaW1pdDtcblx0ICAgIHRoaXMuX2luRmxpZ2h0ID0gMDtcblx0ICAgIHRoaXMuX3F1ZXVlID0gW107XG5cdCAgICBhc3luYy5pbnZva2UodGhpcy5fYXN5bmNJbml0LCB0aGlzLCB1bmRlZmluZWQpO1xuXHR9XG5cdHV0aWwuaW5oZXJpdHMoTWFwcGluZ1Byb21pc2VBcnJheSwgUHJvbWlzZUFycmF5KTtcblx0XG5cdE1hcHBpbmdQcm9taXNlQXJyYXkucHJvdG90eXBlLl9hc3luY0luaXQgPSBmdW5jdGlvbigpIHtcblx0ICAgIHRoaXMuX2luaXQkKHVuZGVmaW5lZCwgLTIpO1xuXHR9O1xuXHRcblx0TWFwcGluZ1Byb21pc2VBcnJheS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAoKSB7fTtcblx0XG5cdE1hcHBpbmdQcm9taXNlQXJyYXkucHJvdG90eXBlLl9wcm9taXNlRnVsZmlsbGVkID0gZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xuXHQgICAgdmFyIHZhbHVlcyA9IHRoaXMuX3ZhbHVlcztcblx0ICAgIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aCgpO1xuXHQgICAgdmFyIHByZXNlcnZlZFZhbHVlcyA9IHRoaXMuX3ByZXNlcnZlZFZhbHVlcztcblx0ICAgIHZhciBsaW1pdCA9IHRoaXMuX2xpbWl0O1xuXHRcblx0ICAgIGlmIChpbmRleCA8IDApIHtcblx0ICAgICAgICBpbmRleCA9IChpbmRleCAqIC0xKSAtIDE7XG5cdCAgICAgICAgdmFsdWVzW2luZGV4XSA9IHZhbHVlO1xuXHQgICAgICAgIGlmIChsaW1pdCA+PSAxKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX2luRmxpZ2h0LS07XG5cdCAgICAgICAgICAgIHRoaXMuX2RyYWluUXVldWUoKTtcblx0ICAgICAgICAgICAgaWYgKHRoaXMuX2lzUmVzb2x2ZWQoKSkgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAobGltaXQgPj0gMSAmJiB0aGlzLl9pbkZsaWdodCA+PSBsaW1pdCkge1xuXHQgICAgICAgICAgICB2YWx1ZXNbaW5kZXhdID0gdmFsdWU7XG5cdCAgICAgICAgICAgIHRoaXMuX3F1ZXVlLnB1c2goaW5kZXgpO1xuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChwcmVzZXJ2ZWRWYWx1ZXMgIT09IG51bGwpIHByZXNlcnZlZFZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcblx0XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLl9wcm9taXNlO1xuXHQgICAgICAgIHZhciBjYWxsYmFjayA9IHRoaXMuX2NhbGxiYWNrO1xuXHQgICAgICAgIHZhciByZWNlaXZlciA9IHByb21pc2UuX2JvdW5kVmFsdWUoKTtcblx0ICAgICAgICBwcm9taXNlLl9wdXNoQ29udGV4dCgpO1xuXHQgICAgICAgIHZhciByZXQgPSB0cnlDYXRjaChjYWxsYmFjaykuY2FsbChyZWNlaXZlciwgdmFsdWUsIGluZGV4LCBsZW5ndGgpO1xuXHQgICAgICAgIHZhciBwcm9taXNlQ3JlYXRlZCA9IHByb21pc2UuX3BvcENvbnRleHQoKTtcblx0ICAgICAgICBkZWJ1Zy5jaGVja0ZvcmdvdHRlblJldHVybnMoXG5cdCAgICAgICAgICAgIHJldCxcblx0ICAgICAgICAgICAgcHJvbWlzZUNyZWF0ZWQsXG5cdCAgICAgICAgICAgIHByZXNlcnZlZFZhbHVlcyAhPT0gbnVsbCA/IFwiUHJvbWlzZS5maWx0ZXJcIiA6IFwiUHJvbWlzZS5tYXBcIixcblx0ICAgICAgICAgICAgcHJvbWlzZVxuXHQgICAgICAgICk7XG5cdCAgICAgICAgaWYgKHJldCA9PT0gZXJyb3JPYmopIHtcblx0ICAgICAgICAgICAgdGhpcy5fcmVqZWN0KHJldC5lKTtcblx0ICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gdHJ5Q29udmVydFRvUHJvbWlzZShyZXQsIHRoaXMuX3Byb21pc2UpO1xuXHQgICAgICAgIGlmIChtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG5cdCAgICAgICAgICAgIG1heWJlUHJvbWlzZSA9IG1heWJlUHJvbWlzZS5fdGFyZ2V0KCk7XG5cdCAgICAgICAgICAgIHZhciBiaXRGaWVsZCA9IG1heWJlUHJvbWlzZS5fYml0RmllbGQ7XG5cdCAgICAgICAgICAgIDtcblx0ICAgICAgICAgICAgaWYgKCgoYml0RmllbGQgJiA1MDM5NzE4NCkgPT09IDApKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAobGltaXQgPj0gMSkgdGhpcy5faW5GbGlnaHQrKztcblx0ICAgICAgICAgICAgICAgIHZhbHVlc1tpbmRleF0gPSBtYXliZVByb21pc2U7XG5cdCAgICAgICAgICAgICAgICBtYXliZVByb21pc2UuX3Byb3h5KHRoaXMsIChpbmRleCArIDEpICogLTEpO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKCgoYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDApKSB7XG5cdCAgICAgICAgICAgICAgICByZXQgPSBtYXliZVByb21pc2UuX3ZhbHVlKCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDE2Nzc3MjE2KSAhPT0gMCkpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuX3JlamVjdChtYXliZVByb21pc2UuX3JlYXNvbigpKTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5fY2FuY2VsKCk7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICB2YWx1ZXNbaW5kZXhdID0gcmV0O1xuXHQgICAgfVxuXHQgICAgdmFyIHRvdGFsUmVzb2x2ZWQgPSArK3RoaXMuX3RvdGFsUmVzb2x2ZWQ7XG5cdCAgICBpZiAodG90YWxSZXNvbHZlZCA+PSBsZW5ndGgpIHtcblx0ICAgICAgICBpZiAocHJlc2VydmVkVmFsdWVzICE9PSBudWxsKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX2ZpbHRlcih2YWx1ZXMsIHByZXNlcnZlZFZhbHVlcyk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSh2YWx1ZXMpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBmYWxzZTtcblx0fTtcblx0XG5cdE1hcHBpbmdQcm9taXNlQXJyYXkucHJvdG90eXBlLl9kcmFpblF1ZXVlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIHF1ZXVlID0gdGhpcy5fcXVldWU7XG5cdCAgICB2YXIgbGltaXQgPSB0aGlzLl9saW1pdDtcblx0ICAgIHZhciB2YWx1ZXMgPSB0aGlzLl92YWx1ZXM7XG5cdCAgICB3aGlsZSAocXVldWUubGVuZ3RoID4gMCAmJiB0aGlzLl9pbkZsaWdodCA8IGxpbWl0KSB7XG5cdCAgICAgICAgaWYgKHRoaXMuX2lzUmVzb2x2ZWQoKSkgcmV0dXJuO1xuXHQgICAgICAgIHZhciBpbmRleCA9IHF1ZXVlLnBvcCgpO1xuXHQgICAgICAgIHRoaXMuX3Byb21pc2VGdWxmaWxsZWQodmFsdWVzW2luZGV4XSwgaW5kZXgpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0TWFwcGluZ1Byb21pc2VBcnJheS5wcm90b3R5cGUuX2ZpbHRlciA9IGZ1bmN0aW9uIChib29sZWFucywgdmFsdWVzKSB7XG5cdCAgICB2YXIgbGVuID0gdmFsdWVzLmxlbmd0aDtcblx0ICAgIHZhciByZXQgPSBuZXcgQXJyYXkobGVuKTtcblx0ICAgIHZhciBqID0gMDtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcblx0ICAgICAgICBpZiAoYm9vbGVhbnNbaV0pIHJldFtqKytdID0gdmFsdWVzW2ldO1xuXHQgICAgfVxuXHQgICAgcmV0Lmxlbmd0aCA9IGo7XG5cdCAgICB0aGlzLl9yZXNvbHZlKHJldCk7XG5cdH07XG5cdFxuXHRNYXBwaW5nUHJvbWlzZUFycmF5LnByb3RvdHlwZS5wcmVzZXJ2ZWRWYWx1ZXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fcHJlc2VydmVkVmFsdWVzO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gbWFwKHByb21pc2VzLCBmbiwgb3B0aW9ucywgX2ZpbHRlcikge1xuXHQgICAgaWYgKHR5cGVvZiBmbiAhPT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgcmV0dXJuIGFwaVJlamVjdGlvbihcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKGZuKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGxpbWl0ID0gMDtcblx0ICAgIGlmIChvcHRpb25zICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucyAhPT0gbnVsbCkge1xuXHQgICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuY29uY3VycmVuY3kgIT09IFwibnVtYmVyXCIpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcblx0ICAgICAgICAgICAgICAgICAgICBuZXcgVHlwZUVycm9yKFwiJ2NvbmN1cnJlbmN5JyBtdXN0IGJlIGEgbnVtYmVyIGJ1dCBpdCBpcyBcIiArXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWwuY2xhc3NTdHJpbmcob3B0aW9ucy5jb25jdXJyZW5jeSkpKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBsaW1pdCA9IG9wdGlvbnMuY29uY3VycmVuY3k7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm9wdGlvbnMgYXJndW1lbnQgbXVzdCBiZSBhbiBvYmplY3QgYnV0IGl0IGlzIFwiICtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlsLmNsYXNzU3RyaW5nKG9wdGlvbnMpKSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgbGltaXQgPSB0eXBlb2YgbGltaXQgPT09IFwibnVtYmVyXCIgJiZcblx0ICAgICAgICBpc0Zpbml0ZShsaW1pdCkgJiYgbGltaXQgPj0gMSA/IGxpbWl0IDogMDtcblx0ICAgIHJldHVybiBuZXcgTWFwcGluZ1Byb21pc2VBcnJheShwcm9taXNlcywgZm4sIGxpbWl0LCBfZmlsdGVyKS5wcm9taXNlKCk7XG5cdH1cblx0XG5cdFByb21pc2UucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChmbiwgb3B0aW9ucykge1xuXHQgICAgcmV0dXJuIG1hcCh0aGlzLCBmbiwgb3B0aW9ucywgbnVsbCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLm1hcCA9IGZ1bmN0aW9uIChwcm9taXNlcywgZm4sIG9wdGlvbnMsIF9maWx0ZXIpIHtcblx0ICAgIHJldHVybiBtYXAocHJvbWlzZXMsIGZuLCBvcHRpb25zLCBfZmlsdGVyKTtcblx0fTtcblx0XG5cdFxuXHR9O1xuXHRcblx0fSx7XCIuL3V0aWxcIjozNn1dLDE5OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID1cblx0ZnVuY3Rpb24oUHJvbWlzZSwgSU5URVJOQUwsIHRyeUNvbnZlcnRUb1Byb21pc2UsIGFwaVJlamVjdGlvbiwgZGVidWcpIHtcblx0dmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXHR2YXIgdHJ5Q2F0Y2ggPSB1dGlsLnRyeUNhdGNoO1xuXHRcblx0UHJvbWlzZS5tZXRob2QgPSBmdW5jdGlvbiAoZm4pIHtcblx0ICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgIHRocm93IG5ldyBQcm9taXNlLlR5cGVFcnJvcihcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKGZuKSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG5cdCAgICAgICAgcmV0Ll9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuXHQgICAgICAgIHJldC5fcHVzaENvbnRleHQoKTtcblx0ICAgICAgICB2YXIgdmFsdWUgPSB0cnlDYXRjaChmbikuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgICB2YXIgcHJvbWlzZUNyZWF0ZWQgPSByZXQuX3BvcENvbnRleHQoKTtcblx0ICAgICAgICBkZWJ1Zy5jaGVja0ZvcmdvdHRlblJldHVybnMoXG5cdCAgICAgICAgICAgIHZhbHVlLCBwcm9taXNlQ3JlYXRlZCwgXCJQcm9taXNlLm1ldGhvZFwiLCByZXQpO1xuXHQgICAgICAgIHJldC5fcmVzb2x2ZUZyb21TeW5jVmFsdWUodmFsdWUpO1xuXHQgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICB9O1xuXHR9O1xuXHRcblx0UHJvbWlzZS5hdHRlbXB0ID0gUHJvbWlzZVtcInRyeVwiXSA9IGZ1bmN0aW9uIChmbikge1xuXHQgICAgaWYgKHR5cGVvZiBmbiAhPT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgcmV0dXJuIGFwaVJlamVjdGlvbihcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKGZuKSk7XG5cdCAgICB9XG5cdCAgICB2YXIgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuXHQgICAgcmV0Ll9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuXHQgICAgcmV0Ll9wdXNoQ29udGV4dCgpO1xuXHQgICAgdmFyIHZhbHVlO1xuXHQgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG5cdCAgICAgICAgZGVidWcuZGVwcmVjYXRlZChcImNhbGxpbmcgUHJvbWlzZS50cnkgd2l0aCBtb3JlIHRoYW4gMSBhcmd1bWVudFwiKTtcblx0ICAgICAgICB2YXIgYXJnID0gYXJndW1lbnRzWzFdO1xuXHQgICAgICAgIHZhciBjdHggPSBhcmd1bWVudHNbMl07XG5cdCAgICAgICAgdmFsdWUgPSB1dGlsLmlzQXJyYXkoYXJnKSA/IHRyeUNhdGNoKGZuKS5hcHBseShjdHgsIGFyZylcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdHJ5Q2F0Y2goZm4pLmNhbGwoY3R4LCBhcmcpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YWx1ZSA9IHRyeUNhdGNoKGZuKSgpO1xuXHQgICAgfVxuXHQgICAgdmFyIHByb21pc2VDcmVhdGVkID0gcmV0Ll9wb3BDb250ZXh0KCk7XG5cdCAgICBkZWJ1Zy5jaGVja0ZvcmdvdHRlblJldHVybnMoXG5cdCAgICAgICAgdmFsdWUsIHByb21pc2VDcmVhdGVkLCBcIlByb21pc2UudHJ5XCIsIHJldCk7XG5cdCAgICByZXQuX3Jlc29sdmVGcm9tU3luY1ZhbHVlKHZhbHVlKTtcblx0ICAgIHJldHVybiByZXQ7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fcmVzb2x2ZUZyb21TeW5jVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgIGlmICh2YWx1ZSA9PT0gdXRpbC5lcnJvck9iaikge1xuXHQgICAgICAgIHRoaXMuX3JlamVjdENhbGxiYWNrKHZhbHVlLmUsIGZhbHNlKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5fcmVzb2x2ZUNhbGxiYWNrKHZhbHVlLCB0cnVlKTtcblx0ICAgIH1cblx0fTtcblx0fTtcblx0XG5cdH0se1wiLi91dGlsXCI6MzZ9XSwyMDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cdHZhciBtYXliZVdyYXBBc0Vycm9yID0gdXRpbC5tYXliZVdyYXBBc0Vycm9yO1xuXHR2YXIgZXJyb3JzID0gX2RlcmVxXyhcIi4vZXJyb3JzXCIpO1xuXHR2YXIgT3BlcmF0aW9uYWxFcnJvciA9IGVycm9ycy5PcGVyYXRpb25hbEVycm9yO1xuXHR2YXIgZXM1ID0gX2RlcmVxXyhcIi4vZXM1XCIpO1xuXHRcblx0ZnVuY3Rpb24gaXNVbnR5cGVkRXJyb3Iob2JqKSB7XG5cdCAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgRXJyb3IgJiZcblx0ICAgICAgICBlczUuZ2V0UHJvdG90eXBlT2Yob2JqKSA9PT0gRXJyb3IucHJvdG90eXBlO1xuXHR9XG5cdFxuXHR2YXIgckVycm9yS2V5ID0gL14oPzpuYW1lfG1lc3NhZ2V8c3RhY2t8Y2F1c2UpJC87XG5cdGZ1bmN0aW9uIHdyYXBBc09wZXJhdGlvbmFsRXJyb3Iob2JqKSB7XG5cdCAgICB2YXIgcmV0O1xuXHQgICAgaWYgKGlzVW50eXBlZEVycm9yKG9iaikpIHtcblx0ICAgICAgICByZXQgPSBuZXcgT3BlcmF0aW9uYWxFcnJvcihvYmopO1xuXHQgICAgICAgIHJldC5uYW1lID0gb2JqLm5hbWU7XG5cdCAgICAgICAgcmV0Lm1lc3NhZ2UgPSBvYmoubWVzc2FnZTtcblx0ICAgICAgICByZXQuc3RhY2sgPSBvYmouc3RhY2s7XG5cdCAgICAgICAgdmFyIGtleXMgPSBlczUua2V5cyhvYmopO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblx0ICAgICAgICAgICAgaWYgKCFyRXJyb3JLZXkudGVzdChrZXkpKSB7XG5cdCAgICAgICAgICAgICAgICByZXRba2V5XSA9IG9ialtrZXldO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICB9XG5cdCAgICB1dGlsLm1hcmtBc09yaWdpbmF0aW5nRnJvbVJlamVjdGlvbihvYmopO1xuXHQgICAgcmV0dXJuIG9iajtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbm9kZWJhY2tGb3JQcm9taXNlKHByb21pc2UsIG11bHRpQXJncykge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uKGVyciwgdmFsdWUpIHtcblx0ICAgICAgICBpZiAocHJvbWlzZSA9PT0gbnVsbCkgcmV0dXJuO1xuXHQgICAgICAgIGlmIChlcnIpIHtcblx0ICAgICAgICAgICAgdmFyIHdyYXBwZWQgPSB3cmFwQXNPcGVyYXRpb25hbEVycm9yKG1heWJlV3JhcEFzRXJyb3IoZXJyKSk7XG5cdCAgICAgICAgICAgIHByb21pc2UuX2F0dGFjaEV4dHJhVHJhY2Uod3JhcHBlZCk7XG5cdCAgICAgICAgICAgIHByb21pc2UuX3JlamVjdCh3cmFwcGVkKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKCFtdWx0aUFyZ3MpIHtcblx0ICAgICAgICAgICAgcHJvbWlzZS5fZnVsZmlsbCh2YWx1ZSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7O1xuXHQgICAgICAgICAgICBwcm9taXNlLl9mdWxmaWxsKGFyZ3MpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBwcm9taXNlID0gbnVsbDtcblx0ICAgIH07XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gbm9kZWJhY2tGb3JQcm9taXNlO1xuXHRcblx0fSx7XCIuL2Vycm9yc1wiOjEyLFwiLi9lczVcIjoxMyxcIi4vdXRpbFwiOjM2fV0sMjE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlKSB7XG5cdHZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcblx0dmFyIGFzeW5jID0gUHJvbWlzZS5fYXN5bmM7XG5cdHZhciB0cnlDYXRjaCA9IHV0aWwudHJ5Q2F0Y2g7XG5cdHZhciBlcnJvck9iaiA9IHV0aWwuZXJyb3JPYmo7XG5cdFxuXHRmdW5jdGlvbiBzcHJlYWRBZGFwdGVyKHZhbCwgbm9kZWJhY2spIHtcblx0ICAgIHZhciBwcm9taXNlID0gdGhpcztcblx0ICAgIGlmICghdXRpbC5pc0FycmF5KHZhbCkpIHJldHVybiBzdWNjZXNzQWRhcHRlci5jYWxsKHByb21pc2UsIHZhbCwgbm9kZWJhY2spO1xuXHQgICAgdmFyIHJldCA9XG5cdCAgICAgICAgdHJ5Q2F0Y2gobm9kZWJhY2spLmFwcGx5KHByb21pc2UuX2JvdW5kVmFsdWUoKSwgW251bGxdLmNvbmNhdCh2YWwpKTtcblx0ICAgIGlmIChyZXQgPT09IGVycm9yT2JqKSB7XG5cdCAgICAgICAgYXN5bmMudGhyb3dMYXRlcihyZXQuZSk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHN1Y2Nlc3NBZGFwdGVyKHZhbCwgbm9kZWJhY2spIHtcblx0ICAgIHZhciBwcm9taXNlID0gdGhpcztcblx0ICAgIHZhciByZWNlaXZlciA9IHByb21pc2UuX2JvdW5kVmFsdWUoKTtcblx0ICAgIHZhciByZXQgPSB2YWwgPT09IHVuZGVmaW5lZFxuXHQgICAgICAgID8gdHJ5Q2F0Y2gobm9kZWJhY2spLmNhbGwocmVjZWl2ZXIsIG51bGwpXG5cdCAgICAgICAgOiB0cnlDYXRjaChub2RlYmFjaykuY2FsbChyZWNlaXZlciwgbnVsbCwgdmFsKTtcblx0ICAgIGlmIChyZXQgPT09IGVycm9yT2JqKSB7XG5cdCAgICAgICAgYXN5bmMudGhyb3dMYXRlcihyZXQuZSk7XG5cdCAgICB9XG5cdH1cblx0ZnVuY3Rpb24gZXJyb3JBZGFwdGVyKHJlYXNvbiwgbm9kZWJhY2spIHtcblx0ICAgIHZhciBwcm9taXNlID0gdGhpcztcblx0ICAgIGlmICghcmVhc29uKSB7XG5cdCAgICAgICAgdmFyIG5ld1JlYXNvbiA9IG5ldyBFcnJvcihyZWFzb24gKyBcIlwiKTtcblx0ICAgICAgICBuZXdSZWFzb24uY2F1c2UgPSByZWFzb247XG5cdCAgICAgICAgcmVhc29uID0gbmV3UmVhc29uO1xuXHQgICAgfVxuXHQgICAgdmFyIHJldCA9IHRyeUNhdGNoKG5vZGViYWNrKS5jYWxsKHByb21pc2UuX2JvdW5kVmFsdWUoKSwgcmVhc29uKTtcblx0ICAgIGlmIChyZXQgPT09IGVycm9yT2JqKSB7XG5cdCAgICAgICAgYXN5bmMudGhyb3dMYXRlcihyZXQuZSk7XG5cdCAgICB9XG5cdH1cblx0XG5cdFByb21pc2UucHJvdG90eXBlLmFzQ2FsbGJhY2sgPSBQcm9taXNlLnByb3RvdHlwZS5ub2RlaWZ5ID0gZnVuY3Rpb24gKG5vZGViYWNrLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zKSB7XG5cdCAgICBpZiAodHlwZW9mIG5vZGViYWNrID09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgIHZhciBhZGFwdGVyID0gc3VjY2Vzc0FkYXB0ZXI7XG5cdCAgICAgICAgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCAmJiBPYmplY3Qob3B0aW9ucykuc3ByZWFkKSB7XG5cdCAgICAgICAgICAgIGFkYXB0ZXIgPSBzcHJlYWRBZGFwdGVyO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0aGlzLl90aGVuKFxuXHQgICAgICAgICAgICBhZGFwdGVyLFxuXHQgICAgICAgICAgICBlcnJvckFkYXB0ZXIsXG5cdCAgICAgICAgICAgIHVuZGVmaW5lZCxcblx0ICAgICAgICAgICAgdGhpcyxcblx0ICAgICAgICAgICAgbm9kZWJhY2tcblx0ICAgICAgICApO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdH07XG5cdH07XG5cdFxuXHR9LHtcIi4vdXRpbFwiOjM2fV0sMjI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0dmFyIG1ha2VTZWxmUmVzb2x1dGlvbkVycm9yID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoXCJjaXJjdWxhciBwcm9taXNlIHJlc29sdXRpb24gY2hhaW5cXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuXHR9O1xuXHR2YXIgcmVmbGVjdEhhbmRsZXIgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiBuZXcgUHJvbWlzZS5Qcm9taXNlSW5zcGVjdGlvbih0aGlzLl90YXJnZXQoKSk7XG5cdH07XG5cdHZhciBhcGlSZWplY3Rpb24gPSBmdW5jdGlvbihtc2cpIHtcblx0ICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKG1zZykpO1xuXHR9O1xuXHRmdW5jdGlvbiBQcm94eWFibGUoKSB7fVxuXHR2YXIgVU5ERUZJTkVEX0JJTkRJTkcgPSB7fTtcblx0dmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXHRcblx0dmFyIGdldERvbWFpbjtcblx0aWYgKHV0aWwuaXNOb2RlKSB7XG5cdCAgICBnZXREb21haW4gPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgcmV0ID0gcHJvY2Vzcy5kb21haW47XG5cdCAgICAgICAgaWYgKHJldCA9PT0gdW5kZWZpbmVkKSByZXQgPSBudWxsO1xuXHQgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICB9O1xuXHR9IGVsc2Uge1xuXHQgICAgZ2V0RG9tYWluID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9O1xuXHR9XG5cdHV0aWwubm90RW51bWVyYWJsZVByb3AoUHJvbWlzZSwgXCJfZ2V0RG9tYWluXCIsIGdldERvbWFpbik7XG5cdFxuXHR2YXIgZXM1ID0gX2RlcmVxXyhcIi4vZXM1XCIpO1xuXHR2YXIgQXN5bmMgPSBfZGVyZXFfKFwiLi9hc3luY1wiKTtcblx0dmFyIGFzeW5jID0gbmV3IEFzeW5jKCk7XG5cdGVzNS5kZWZpbmVQcm9wZXJ0eShQcm9taXNlLCBcIl9hc3luY1wiLCB7dmFsdWU6IGFzeW5jfSk7XG5cdHZhciBlcnJvcnMgPSBfZGVyZXFfKFwiLi9lcnJvcnNcIik7XG5cdHZhciBUeXBlRXJyb3IgPSBQcm9taXNlLlR5cGVFcnJvciA9IGVycm9ycy5UeXBlRXJyb3I7XG5cdFByb21pc2UuUmFuZ2VFcnJvciA9IGVycm9ycy5SYW5nZUVycm9yO1xuXHR2YXIgQ2FuY2VsbGF0aW9uRXJyb3IgPSBQcm9taXNlLkNhbmNlbGxhdGlvbkVycm9yID0gZXJyb3JzLkNhbmNlbGxhdGlvbkVycm9yO1xuXHRQcm9taXNlLlRpbWVvdXRFcnJvciA9IGVycm9ycy5UaW1lb3V0RXJyb3I7XG5cdFByb21pc2UuT3BlcmF0aW9uYWxFcnJvciA9IGVycm9ycy5PcGVyYXRpb25hbEVycm9yO1xuXHRQcm9taXNlLlJlamVjdGlvbkVycm9yID0gZXJyb3JzLk9wZXJhdGlvbmFsRXJyb3I7XG5cdFByb21pc2UuQWdncmVnYXRlRXJyb3IgPSBlcnJvcnMuQWdncmVnYXRlRXJyb3I7XG5cdHZhciBJTlRFUk5BTCA9IGZ1bmN0aW9uKCl7fTtcblx0dmFyIEFQUExZID0ge307XG5cdHZhciBORVhUX0ZJTFRFUiA9IHt9O1xuXHR2YXIgdHJ5Q29udmVydFRvUHJvbWlzZSA9IF9kZXJlcV8oXCIuL3RoZW5hYmxlc1wiKShQcm9taXNlLCBJTlRFUk5BTCk7XG5cdHZhciBQcm9taXNlQXJyYXkgPVxuXHQgICAgX2RlcmVxXyhcIi4vcHJvbWlzZV9hcnJheVwiKShQcm9taXNlLCBJTlRFUk5BTCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeUNvbnZlcnRUb1Byb21pc2UsIGFwaVJlamVjdGlvbiwgUHJveHlhYmxlKTtcblx0dmFyIENvbnRleHQgPSBfZGVyZXFfKFwiLi9jb250ZXh0XCIpKFByb21pc2UpO1xuXHQgLypqc2hpbnQgdW51c2VkOmZhbHNlKi9cblx0dmFyIGNyZWF0ZUNvbnRleHQgPSBDb250ZXh0LmNyZWF0ZTtcblx0dmFyIGRlYnVnID0gX2RlcmVxXyhcIi4vZGVidWdnYWJpbGl0eVwiKShQcm9taXNlLCBDb250ZXh0KTtcblx0dmFyIENhcHR1cmVkVHJhY2UgPSBkZWJ1Zy5DYXB0dXJlZFRyYWNlO1xuXHR2YXIgUGFzc1Rocm91Z2hIYW5kbGVyQ29udGV4dCA9XG5cdCAgICBfZGVyZXFfKFwiLi9maW5hbGx5XCIpKFByb21pc2UsIHRyeUNvbnZlcnRUb1Byb21pc2UpO1xuXHR2YXIgY2F0Y2hGaWx0ZXIgPSBfZGVyZXFfKFwiLi9jYXRjaF9maWx0ZXJcIikoTkVYVF9GSUxURVIpO1xuXHR2YXIgbm9kZWJhY2tGb3JQcm9taXNlID0gX2RlcmVxXyhcIi4vbm9kZWJhY2tcIik7XG5cdHZhciBlcnJvck9iaiA9IHV0aWwuZXJyb3JPYmo7XG5cdHZhciB0cnlDYXRjaCA9IHV0aWwudHJ5Q2F0Y2g7XG5cdGZ1bmN0aW9uIGNoZWNrKHNlbGYsIGV4ZWN1dG9yKSB7XG5cdCAgICBpZiAodHlwZW9mIGV4ZWN1dG9yICE9PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZXhlY3V0b3IpKTtcblx0ICAgIH1cblx0ICAgIGlmIChzZWxmLmNvbnN0cnVjdG9yICE9PSBQcm9taXNlKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcInRoZSBwcm9taXNlIGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBpbnZva2VkIGRpcmVjdGx5XFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcikge1xuXHQgICAgdGhpcy5fYml0RmllbGQgPSAwO1xuXHQgICAgdGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyMCA9IHVuZGVmaW5lZDtcblx0ICAgIHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwID0gdW5kZWZpbmVkO1xuXHQgICAgdGhpcy5fcHJvbWlzZTAgPSB1bmRlZmluZWQ7XG5cdCAgICB0aGlzLl9yZWNlaXZlcjAgPSB1bmRlZmluZWQ7XG5cdCAgICBpZiAoZXhlY3V0b3IgIT09IElOVEVSTkFMKSB7XG5cdCAgICAgICAgY2hlY2sodGhpcywgZXhlY3V0b3IpO1xuXHQgICAgICAgIHRoaXMuX3Jlc29sdmVGcm9tRXhlY3V0b3IoZXhlY3V0b3IpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5fcHJvbWlzZUNyZWF0ZWQoKTtcblx0ICAgIHRoaXMuX2ZpcmVFdmVudChcInByb21pc2VDcmVhdGVkXCIsIHRoaXMpO1xuXHR9XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBcIltvYmplY3QgUHJvbWlzZV1cIjtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLmNhdWdodCA9IFByb21pc2UucHJvdG90eXBlW1wiY2F0Y2hcIl0gPSBmdW5jdGlvbiAoZm4pIHtcblx0ICAgIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuXHQgICAgaWYgKGxlbiA+IDEpIHtcblx0ICAgICAgICB2YXIgY2F0Y2hJbnN0YW5jZXMgPSBuZXcgQXJyYXkobGVuIC0gMSksXG5cdCAgICAgICAgICAgIGogPSAwLCBpO1xuXHQgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW4gLSAxOyArK2kpIHtcblx0ICAgICAgICAgICAgdmFyIGl0ZW0gPSBhcmd1bWVudHNbaV07XG5cdCAgICAgICAgICAgIGlmICh1dGlsLmlzT2JqZWN0KGl0ZW0pKSB7XG5cdCAgICAgICAgICAgICAgICBjYXRjaEluc3RhbmNlc1tqKytdID0gaXRlbTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBhcGlSZWplY3Rpb24oXCJleHBlY3RpbmcgYW4gb2JqZWN0IGJ1dCBnb3QgXCIgK1xuXHQgICAgICAgICAgICAgICAgICAgIFwiQSBjYXRjaCBzdGF0ZW1lbnQgcHJlZGljYXRlIFwiICsgdXRpbC5jbGFzc1N0cmluZyhpdGVtKSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgY2F0Y2hJbnN0YW5jZXMubGVuZ3RoID0gajtcblx0ICAgICAgICBmbiA9IGFyZ3VtZW50c1tpXTtcblx0ICAgICAgICByZXR1cm4gdGhpcy50aGVuKHVuZGVmaW5lZCwgY2F0Y2hGaWx0ZXIoY2F0Y2hJbnN0YW5jZXMsIGZuLCB0aGlzKSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdGhpcy50aGVuKHVuZGVmaW5lZCwgZm4pO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUucmVmbGVjdCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLl90aGVuKHJlZmxlY3RIYW5kbGVyLFxuXHQgICAgICAgIHJlZmxlY3RIYW5kbGVyLCB1bmRlZmluZWQsIHRoaXMsIHVuZGVmaW5lZCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24gKGRpZEZ1bGZpbGwsIGRpZFJlamVjdCkge1xuXHQgICAgaWYgKGRlYnVnLndhcm5pbmdzKCkgJiYgYXJndW1lbnRzLmxlbmd0aCA+IDAgJiZcblx0ICAgICAgICB0eXBlb2YgZGlkRnVsZmlsbCAhPT0gXCJmdW5jdGlvblwiICYmXG5cdCAgICAgICAgdHlwZW9mIGRpZFJlamVjdCAhPT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgdmFyIG1zZyA9IFwiLnRoZW4oKSBvbmx5IGFjY2VwdHMgZnVuY3Rpb25zIGJ1dCB3YXMgcGFzc2VkOiBcIiArXG5cdCAgICAgICAgICAgICAgICB1dGlsLmNsYXNzU3RyaW5nKGRpZEZ1bGZpbGwpO1xuXHQgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuXHQgICAgICAgICAgICBtc2cgKz0gXCIsIFwiICsgdXRpbC5jbGFzc1N0cmluZyhkaWRSZWplY3QpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0aGlzLl93YXJuKG1zZyk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdGhpcy5fdGhlbihkaWRGdWxmaWxsLCBkaWRSZWplY3QsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuZG9uZSA9IGZ1bmN0aW9uIChkaWRGdWxmaWxsLCBkaWRSZWplY3QpIHtcblx0ICAgIHZhciBwcm9taXNlID1cblx0ICAgICAgICB0aGlzLl90aGVuKGRpZEZ1bGZpbGwsIGRpZFJlamVjdCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG5cdCAgICBwcm9taXNlLl9zZXRJc0ZpbmFsKCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5zcHJlYWQgPSBmdW5jdGlvbiAoZm4pIHtcblx0ICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgIHJldHVybiBhcGlSZWplY3Rpb24oXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyhmbikpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXMuYWxsKCkuX3RoZW4oZm4sIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBBUFBMWSwgdW5kZWZpbmVkKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciByZXQgPSB7XG5cdCAgICAgICAgaXNGdWxmaWxsZWQ6IGZhbHNlLFxuXHQgICAgICAgIGlzUmVqZWN0ZWQ6IGZhbHNlLFxuXHQgICAgICAgIGZ1bGZpbGxtZW50VmFsdWU6IHVuZGVmaW5lZCxcblx0ICAgICAgICByZWplY3Rpb25SZWFzb246IHVuZGVmaW5lZFxuXHQgICAgfTtcblx0ICAgIGlmICh0aGlzLmlzRnVsZmlsbGVkKCkpIHtcblx0ICAgICAgICByZXQuZnVsZmlsbG1lbnRWYWx1ZSA9IHRoaXMudmFsdWUoKTtcblx0ICAgICAgICByZXQuaXNGdWxmaWxsZWQgPSB0cnVlO1xuXHQgICAgfSBlbHNlIGlmICh0aGlzLmlzUmVqZWN0ZWQoKSkge1xuXHQgICAgICAgIHJldC5yZWplY3Rpb25SZWFzb24gPSB0aGlzLnJlYXNvbigpO1xuXHQgICAgICAgIHJldC5pc1JlamVjdGVkID0gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiByZXQ7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5hbGwgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICB0aGlzLl93YXJuKFwiLmFsbCgpIHdhcyBwYXNzZWQgYXJndW1lbnRzIGJ1dCBpdCBkb2VzIG5vdCB0YWtlIGFueVwiKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBuZXcgUHJvbWlzZUFycmF5KHRoaXMpLnByb21pc2UoKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgICByZXR1cm4gdGhpcy5jYXVnaHQodXRpbC5vcmlnaW5hdGVzRnJvbVJlamVjdGlvbiwgZm4pO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5nZXROZXdMaWJyYXJ5Q29weSA9IG1vZHVsZS5leHBvcnRzO1xuXHRcblx0UHJvbWlzZS5pcyA9IGZ1bmN0aW9uICh2YWwpIHtcblx0ICAgIHJldHVybiB2YWwgaW5zdGFuY2VvZiBQcm9taXNlO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5mcm9tTm9kZSA9IFByb21pc2UuZnJvbUNhbGxiYWNrID0gZnVuY3Rpb24oZm4pIHtcblx0ICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG5cdCAgICByZXQuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG5cdCAgICB2YXIgbXVsdGlBcmdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyAhIU9iamVjdChhcmd1bWVudHNbMV0pLm11bHRpQXJnc1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2U7XG5cdCAgICB2YXIgcmVzdWx0ID0gdHJ5Q2F0Y2goZm4pKG5vZGViYWNrRm9yUHJvbWlzZShyZXQsIG11bHRpQXJncykpO1xuXHQgICAgaWYgKHJlc3VsdCA9PT0gZXJyb3JPYmopIHtcblx0ICAgICAgICByZXQuX3JlamVjdENhbGxiYWNrKHJlc3VsdC5lLCB0cnVlKTtcblx0ICAgIH1cblx0ICAgIGlmICghcmV0Ll9pc0ZhdGVTZWFsZWQoKSkgcmV0Ll9zZXRBc3luY0d1YXJhbnRlZWQoKTtcblx0ICAgIHJldHVybiByZXQ7XG5cdH07XG5cdFxuXHRQcm9taXNlLmFsbCA9IGZ1bmN0aW9uIChwcm9taXNlcykge1xuXHQgICAgcmV0dXJuIG5ldyBQcm9taXNlQXJyYXkocHJvbWlzZXMpLnByb21pc2UoKTtcblx0fTtcblx0XG5cdFByb21pc2UuY2FzdCA9IGZ1bmN0aW9uIChvYmopIHtcblx0ICAgIHZhciByZXQgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKG9iaik7XG5cdCAgICBpZiAoIShyZXQgaW5zdGFuY2VvZiBQcm9taXNlKSkge1xuXHQgICAgICAgIHJldCA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcblx0ICAgICAgICByZXQuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG5cdCAgICAgICAgcmV0Ll9zZXRGdWxmaWxsZWQoKTtcblx0ICAgICAgICByZXQuX3JlamVjdGlvbkhhbmRsZXIwID0gb2JqO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJldDtcblx0fTtcblx0XG5cdFByb21pc2UucmVzb2x2ZSA9IFByb21pc2UuZnVsZmlsbGVkID0gUHJvbWlzZS5jYXN0O1xuXHRcblx0UHJvbWlzZS5yZWplY3QgPSBQcm9taXNlLnJlamVjdGVkID0gZnVuY3Rpb24gKHJlYXNvbikge1xuXHQgICAgdmFyIHJldCA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcblx0ICAgIHJldC5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcblx0ICAgIHJldC5fcmVqZWN0Q2FsbGJhY2socmVhc29uLCB0cnVlKTtcblx0ICAgIHJldHVybiByZXQ7XG5cdH07XG5cdFxuXHRQcm9taXNlLnNldFNjaGVkdWxlciA9IGZ1bmN0aW9uKGZuKSB7XG5cdCAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZm4pKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBhc3luYy5zZXRTY2hlZHVsZXIoZm4pO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3RoZW4gPSBmdW5jdGlvbiAoXG5cdCAgICBkaWRGdWxmaWxsLFxuXHQgICAgZGlkUmVqZWN0LFxuXHQgICAgXywgICAgcmVjZWl2ZXIsXG5cdCAgICBpbnRlcm5hbERhdGFcblx0KSB7XG5cdCAgICB2YXIgaGF2ZUludGVybmFsRGF0YSA9IGludGVybmFsRGF0YSAhPT0gdW5kZWZpbmVkO1xuXHQgICAgdmFyIHByb21pc2UgPSBoYXZlSW50ZXJuYWxEYXRhID8gaW50ZXJuYWxEYXRhIDogbmV3IFByb21pc2UoSU5URVJOQUwpO1xuXHQgICAgdmFyIHRhcmdldCA9IHRoaXMuX3RhcmdldCgpO1xuXHQgICAgdmFyIGJpdEZpZWxkID0gdGFyZ2V0Ll9iaXRGaWVsZDtcblx0XG5cdCAgICBpZiAoIWhhdmVJbnRlcm5hbERhdGEpIHtcblx0ICAgICAgICBwcm9taXNlLl9wcm9wYWdhdGVGcm9tKHRoaXMsIDMpO1xuXHQgICAgICAgIHByb21pc2UuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG5cdCAgICAgICAgaWYgKHJlY2VpdmVyID09PSB1bmRlZmluZWQgJiZcblx0ICAgICAgICAgICAgKCh0aGlzLl9iaXRGaWVsZCAmIDIwOTcxNTIpICE9PSAwKSkge1xuXHQgICAgICAgICAgICBpZiAoISgoYml0RmllbGQgJiA1MDM5NzE4NCkgPT09IDApKSB7XG5cdCAgICAgICAgICAgICAgICByZWNlaXZlciA9IHRoaXMuX2JvdW5kVmFsdWUoKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHJlY2VpdmVyID0gdGFyZ2V0ID09PSB0aGlzID8gdW5kZWZpbmVkIDogdGhpcy5fYm91bmRUbztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICB0aGlzLl9maXJlRXZlbnQoXCJwcm9taXNlQ2hhaW5lZFwiLCB0aGlzLCBwcm9taXNlKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgZG9tYWluID0gZ2V0RG9tYWluKCk7XG5cdCAgICBpZiAoISgoYml0RmllbGQgJiA1MDM5NzE4NCkgPT09IDApKSB7XG5cdCAgICAgICAgdmFyIGhhbmRsZXIsIHZhbHVlLCBzZXR0bGVyID0gdGFyZ2V0Ll9zZXR0bGVQcm9taXNlQ3R4O1xuXHQgICAgICAgIGlmICgoKGJpdEZpZWxkICYgMzM1NTQ0MzIpICE9PSAwKSkge1xuXHQgICAgICAgICAgICB2YWx1ZSA9IHRhcmdldC5fcmVqZWN0aW9uSGFuZGxlcjA7XG5cdCAgICAgICAgICAgIGhhbmRsZXIgPSBkaWRGdWxmaWxsO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDE2Nzc3MjE2KSAhPT0gMCkpIHtcblx0ICAgICAgICAgICAgdmFsdWUgPSB0YXJnZXQuX2Z1bGZpbGxtZW50SGFuZGxlcjA7XG5cdCAgICAgICAgICAgIGhhbmRsZXIgPSBkaWRSZWplY3Q7XG5cdCAgICAgICAgICAgIHRhcmdldC5fdW5zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZCgpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHNldHRsZXIgPSB0YXJnZXQuX3NldHRsZVByb21pc2VMYXRlQ2FuY2VsbGF0aW9uT2JzZXJ2ZXI7XG5cdCAgICAgICAgICAgIHZhbHVlID0gbmV3IENhbmNlbGxhdGlvbkVycm9yKFwibGF0ZSBjYW5jZWxsYXRpb24gb2JzZXJ2ZXJcIik7XG5cdCAgICAgICAgICAgIHRhcmdldC5fYXR0YWNoRXh0cmFUcmFjZSh2YWx1ZSk7XG5cdCAgICAgICAgICAgIGhhbmRsZXIgPSBkaWRSZWplY3Q7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBhc3luYy5pbnZva2Uoc2V0dGxlciwgdGFyZ2V0LCB7XG5cdCAgICAgICAgICAgIGhhbmRsZXI6IGRvbWFpbiA9PT0gbnVsbCA/IGhhbmRsZXJcblx0ICAgICAgICAgICAgICAgIDogKHR5cGVvZiBoYW5kbGVyID09PSBcImZ1bmN0aW9uXCIgJiZcblx0ICAgICAgICAgICAgICAgICAgICB1dGlsLmRvbWFpbkJpbmQoZG9tYWluLCBoYW5kbGVyKSksXG5cdCAgICAgICAgICAgIHByb21pc2U6IHByb21pc2UsXG5cdCAgICAgICAgICAgIHJlY2VpdmVyOiByZWNlaXZlcixcblx0ICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG5cdCAgICAgICAgfSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRhcmdldC5fYWRkQ2FsbGJhY2tzKGRpZEZ1bGZpbGwsIGRpZFJlamVjdCwgcHJvbWlzZSwgcmVjZWl2ZXIsIGRvbWFpbik7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHByb21pc2U7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fbGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX2JpdEZpZWxkICYgNjU1MzU7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5faXNGYXRlU2VhbGVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDExNzUwNjA0OCkgIT09IDA7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5faXNGb2xsb3dpbmcgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgNjcxMDg4NjQpID09PSA2NzEwODg2NDtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9zZXRMZW5ndGggPSBmdW5jdGlvbiAobGVuKSB7XG5cdCAgICB0aGlzLl9iaXRGaWVsZCA9ICh0aGlzLl9iaXRGaWVsZCAmIC02NTUzNikgfFxuXHQgICAgICAgIChsZW4gJiA2NTUzNSk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fc2V0RnVsZmlsbGVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCB8IDMzNTU0NDMyO1xuXHQgICAgdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZUZ1bGZpbGxlZFwiLCB0aGlzKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9zZXRSZWplY3RlZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCAxNjc3NzIxNjtcblx0ICAgIHRoaXMuX2ZpcmVFdmVudChcInByb21pc2VSZWplY3RlZFwiLCB0aGlzKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9zZXRGb2xsb3dpbmcgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgNjcxMDg4NjQ7XG5cdCAgICB0aGlzLl9maXJlRXZlbnQoXCJwcm9taXNlUmVzb2x2ZWRcIiwgdGhpcyk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fc2V0SXNGaW5hbCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCA0MTk0MzA0O1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2lzRmluYWwgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgNDE5NDMwNCkgPiAwO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3Vuc2V0Q2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkICYgKH42NTUzNik7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fc2V0Q2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgNjU1MzY7XG5cdCAgICB0aGlzLl9maXJlRXZlbnQoXCJwcm9taXNlQ2FuY2VsbGVkXCIsIHRoaXMpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3NldFdpbGxCZUNhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCB8IDgzODg2MDg7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fc2V0QXN5bmNHdWFyYW50ZWVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICBpZiAoYXN5bmMuaGFzQ3VzdG9tU2NoZWR1bGVyKCkpIHJldHVybjtcblx0ICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCAxMzQyMTc3Mjg7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fcmVjZWl2ZXJBdCA9IGZ1bmN0aW9uIChpbmRleCkge1xuXHQgICAgdmFyIHJldCA9IGluZGV4ID09PSAwID8gdGhpcy5fcmVjZWl2ZXIwIDogdGhpc1tcblx0ICAgICAgICAgICAgaW5kZXggKiA0IC0gNCArIDNdO1xuXHQgICAgaWYgKHJldCA9PT0gVU5ERUZJTkVEX0JJTkRJTkcpIHtcblx0ICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuXHQgICAgfSBlbHNlIGlmIChyZXQgPT09IHVuZGVmaW5lZCAmJiB0aGlzLl9pc0JvdW5kKCkpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRWYWx1ZSgpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJldDtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9wcm9taXNlQXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcblx0ICAgIHJldHVybiB0aGlzW1xuXHQgICAgICAgICAgICBpbmRleCAqIDQgLSA0ICsgMl07XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fZnVsZmlsbG1lbnRIYW5kbGVyQXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcblx0ICAgIHJldHVybiB0aGlzW1xuXHQgICAgICAgICAgICBpbmRleCAqIDQgLSA0ICsgMF07XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fcmVqZWN0aW9uSGFuZGxlckF0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG5cdCAgICByZXR1cm4gdGhpc1tcblx0ICAgICAgICAgICAgaW5kZXggKiA0IC0gNCArIDFdO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2JvdW5kVmFsdWUgPSBmdW5jdGlvbigpIHt9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX21pZ3JhdGVDYWxsYmFjazAgPSBmdW5jdGlvbiAoZm9sbG93ZXIpIHtcblx0ICAgIHZhciBiaXRGaWVsZCA9IGZvbGxvd2VyLl9iaXRGaWVsZDtcblx0ICAgIHZhciBmdWxmaWxsID0gZm9sbG93ZXIuX2Z1bGZpbGxtZW50SGFuZGxlcjA7XG5cdCAgICB2YXIgcmVqZWN0ID0gZm9sbG93ZXIuX3JlamVjdGlvbkhhbmRsZXIwO1xuXHQgICAgdmFyIHByb21pc2UgPSBmb2xsb3dlci5fcHJvbWlzZTA7XG5cdCAgICB2YXIgcmVjZWl2ZXIgPSBmb2xsb3dlci5fcmVjZWl2ZXJBdCgwKTtcblx0ICAgIGlmIChyZWNlaXZlciA9PT0gdW5kZWZpbmVkKSByZWNlaXZlciA9IFVOREVGSU5FRF9CSU5ESU5HO1xuXHQgICAgdGhpcy5fYWRkQ2FsbGJhY2tzKGZ1bGZpbGwsIHJlamVjdCwgcHJvbWlzZSwgcmVjZWl2ZXIsIG51bGwpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX21pZ3JhdGVDYWxsYmFja0F0ID0gZnVuY3Rpb24gKGZvbGxvd2VyLCBpbmRleCkge1xuXHQgICAgdmFyIGZ1bGZpbGwgPSBmb2xsb3dlci5fZnVsZmlsbG1lbnRIYW5kbGVyQXQoaW5kZXgpO1xuXHQgICAgdmFyIHJlamVjdCA9IGZvbGxvd2VyLl9yZWplY3Rpb25IYW5kbGVyQXQoaW5kZXgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBmb2xsb3dlci5fcHJvbWlzZUF0KGluZGV4KTtcblx0ICAgIHZhciByZWNlaXZlciA9IGZvbGxvd2VyLl9yZWNlaXZlckF0KGluZGV4KTtcblx0ICAgIGlmIChyZWNlaXZlciA9PT0gdW5kZWZpbmVkKSByZWNlaXZlciA9IFVOREVGSU5FRF9CSU5ESU5HO1xuXHQgICAgdGhpcy5fYWRkQ2FsbGJhY2tzKGZ1bGZpbGwsIHJlamVjdCwgcHJvbWlzZSwgcmVjZWl2ZXIsIG51bGwpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2FkZENhbGxiYWNrcyA9IGZ1bmN0aW9uIChcblx0ICAgIGZ1bGZpbGwsXG5cdCAgICByZWplY3QsXG5cdCAgICBwcm9taXNlLFxuXHQgICAgcmVjZWl2ZXIsXG5cdCAgICBkb21haW5cblx0KSB7XG5cdCAgICB2YXIgaW5kZXggPSB0aGlzLl9sZW5ndGgoKTtcblx0XG5cdCAgICBpZiAoaW5kZXggPj0gNjU1MzUgLSA0KSB7XG5cdCAgICAgICAgaW5kZXggPSAwO1xuXHQgICAgICAgIHRoaXMuX3NldExlbmd0aCgwKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoaW5kZXggPT09IDApIHtcblx0ICAgICAgICB0aGlzLl9wcm9taXNlMCA9IHByb21pc2U7XG5cdCAgICAgICAgdGhpcy5fcmVjZWl2ZXIwID0gcmVjZWl2ZXI7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBmdWxmaWxsID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgdGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyMCA9XG5cdCAgICAgICAgICAgICAgICBkb21haW4gPT09IG51bGwgPyBmdWxmaWxsIDogdXRpbC5kb21haW5CaW5kKGRvbWFpbiwgZnVsZmlsbCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICh0eXBlb2YgcmVqZWN0ID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgdGhpcy5fcmVqZWN0aW9uSGFuZGxlcjAgPVxuXHQgICAgICAgICAgICAgICAgZG9tYWluID09PSBudWxsID8gcmVqZWN0IDogdXRpbC5kb21haW5CaW5kKGRvbWFpbiwgcmVqZWN0KTtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciBiYXNlID0gaW5kZXggKiA0IC0gNDtcblx0ICAgICAgICB0aGlzW2Jhc2UgKyAyXSA9IHByb21pc2U7XG5cdCAgICAgICAgdGhpc1tiYXNlICsgM10gPSByZWNlaXZlcjtcblx0ICAgICAgICBpZiAodHlwZW9mIGZ1bGZpbGwgPT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgICAgICB0aGlzW2Jhc2UgKyAwXSA9XG5cdCAgICAgICAgICAgICAgICBkb21haW4gPT09IG51bGwgPyBmdWxmaWxsIDogdXRpbC5kb21haW5CaW5kKGRvbWFpbiwgZnVsZmlsbCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICh0eXBlb2YgcmVqZWN0ID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgdGhpc1tiYXNlICsgMV0gPVxuXHQgICAgICAgICAgICAgICAgZG9tYWluID09PSBudWxsID8gcmVqZWN0IDogdXRpbC5kb21haW5CaW5kKGRvbWFpbiwgcmVqZWN0KTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICB0aGlzLl9zZXRMZW5ndGgoaW5kZXggKyAxKTtcblx0ICAgIHJldHVybiBpbmRleDtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9wcm94eSA9IGZ1bmN0aW9uIChwcm94eWFibGUsIGFyZykge1xuXHQgICAgdGhpcy5fYWRkQ2FsbGJhY2tzKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcmcsIHByb3h5YWJsZSwgbnVsbCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fcmVzb2x2ZUNhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUsIHNob3VsZEJpbmQpIHtcblx0ICAgIGlmICgoKHRoaXMuX2JpdEZpZWxkICYgMTE3NTA2MDQ4KSAhPT0gMCkpIHJldHVybjtcblx0ICAgIGlmICh2YWx1ZSA9PT0gdGhpcylcblx0ICAgICAgICByZXR1cm4gdGhpcy5fcmVqZWN0Q2FsbGJhY2sobWFrZVNlbGZSZXNvbHV0aW9uRXJyb3IoKSwgZmFsc2UpO1xuXHQgICAgdmFyIG1heWJlUHJvbWlzZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UodmFsdWUsIHRoaXMpO1xuXHQgICAgaWYgKCEobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkpIHJldHVybiB0aGlzLl9mdWxmaWxsKHZhbHVlKTtcblx0XG5cdCAgICBpZiAoc2hvdWxkQmluZCkgdGhpcy5fcHJvcGFnYXRlRnJvbShtYXliZVByb21pc2UsIDIpO1xuXHRcblx0ICAgIHZhciBwcm9taXNlID0gbWF5YmVQcm9taXNlLl90YXJnZXQoKTtcblx0XG5cdCAgICBpZiAocHJvbWlzZSA9PT0gdGhpcykge1xuXHQgICAgICAgIHRoaXMuX3JlamVjdChtYWtlU2VsZlJlc29sdXRpb25FcnJvcigpKTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGJpdEZpZWxkID0gcHJvbWlzZS5fYml0RmllbGQ7XG5cdCAgICBpZiAoKChiaXRGaWVsZCAmIDUwMzk3MTg0KSA9PT0gMCkpIHtcblx0ICAgICAgICB2YXIgbGVuID0gdGhpcy5fbGVuZ3RoKCk7XG5cdCAgICAgICAgaWYgKGxlbiA+IDApIHByb21pc2UuX21pZ3JhdGVDYWxsYmFjazAodGhpcyk7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBsZW47ICsraSkge1xuXHQgICAgICAgICAgICBwcm9taXNlLl9taWdyYXRlQ2FsbGJhY2tBdCh0aGlzLCBpKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdGhpcy5fc2V0Rm9sbG93aW5nKCk7XG5cdCAgICAgICAgdGhpcy5fc2V0TGVuZ3RoKDApO1xuXHQgICAgICAgIHRoaXMuX3NldEZvbGxvd2VlKHByb21pc2UpO1xuXHQgICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMzM1NTQ0MzIpICE9PSAwKSkge1xuXHQgICAgICAgIHRoaXMuX2Z1bGZpbGwocHJvbWlzZS5fdmFsdWUoKSk7XG5cdCAgICB9IGVsc2UgaWYgKCgoYml0RmllbGQgJiAxNjc3NzIxNikgIT09IDApKSB7XG5cdCAgICAgICAgdGhpcy5fcmVqZWN0KHByb21pc2UuX3JlYXNvbigpKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIHJlYXNvbiA9IG5ldyBDYW5jZWxsYXRpb25FcnJvcihcImxhdGUgY2FuY2VsbGF0aW9uIG9ic2VydmVyXCIpO1xuXHQgICAgICAgIHByb21pc2UuX2F0dGFjaEV4dHJhVHJhY2UocmVhc29uKTtcblx0ICAgICAgICB0aGlzLl9yZWplY3QocmVhc29uKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9yZWplY3RDYWxsYmFjayA9XG5cdGZ1bmN0aW9uKHJlYXNvbiwgc3luY2hyb25vdXMsIGlnbm9yZU5vbkVycm9yV2FybmluZ3MpIHtcblx0ICAgIHZhciB0cmFjZSA9IHV0aWwuZW5zdXJlRXJyb3JPYmplY3QocmVhc29uKTtcblx0ICAgIHZhciBoYXNTdGFjayA9IHRyYWNlID09PSByZWFzb247XG5cdCAgICBpZiAoIWhhc1N0YWNrICYmICFpZ25vcmVOb25FcnJvcldhcm5pbmdzICYmIGRlYnVnLndhcm5pbmdzKCkpIHtcblx0ICAgICAgICB2YXIgbWVzc2FnZSA9IFwiYSBwcm9taXNlIHdhcyByZWplY3RlZCB3aXRoIGEgbm9uLWVycm9yOiBcIiArXG5cdCAgICAgICAgICAgIHV0aWwuY2xhc3NTdHJpbmcocmVhc29uKTtcblx0ICAgICAgICB0aGlzLl93YXJuKG1lc3NhZ2UsIHRydWUpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5fYXR0YWNoRXh0cmFUcmFjZSh0cmFjZSwgc3luY2hyb25vdXMgPyBoYXNTdGFjayA6IGZhbHNlKTtcblx0ICAgIHRoaXMuX3JlamVjdChyZWFzb24pO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3Jlc29sdmVGcm9tRXhlY3V0b3IgPSBmdW5jdGlvbiAoZXhlY3V0b3IpIHtcblx0ICAgIHZhciBwcm9taXNlID0gdGhpcztcblx0ICAgIHRoaXMuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG5cdCAgICB0aGlzLl9wdXNoQ29udGV4dCgpO1xuXHQgICAgdmFyIHN5bmNocm9ub3VzID0gdHJ1ZTtcblx0ICAgIHZhciByID0gdGhpcy5fZXhlY3V0ZShleGVjdXRvciwgZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICBwcm9taXNlLl9yZXNvbHZlQ2FsbGJhY2sodmFsdWUpO1xuXHQgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuXHQgICAgICAgIHByb21pc2UuX3JlamVjdENhbGxiYWNrKHJlYXNvbiwgc3luY2hyb25vdXMpO1xuXHQgICAgfSk7XG5cdCAgICBzeW5jaHJvbm91cyA9IGZhbHNlO1xuXHQgICAgdGhpcy5fcG9wQ29udGV4dCgpO1xuXHRcblx0ICAgIGlmIChyICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICBwcm9taXNlLl9yZWplY3RDYWxsYmFjayhyLCB0cnVlKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlRnJvbUhhbmRsZXIgPSBmdW5jdGlvbiAoXG5cdCAgICBoYW5kbGVyLCByZWNlaXZlciwgdmFsdWUsIHByb21pc2Vcblx0KSB7XG5cdCAgICB2YXIgYml0RmllbGQgPSBwcm9taXNlLl9iaXRGaWVsZDtcblx0ICAgIGlmICgoKGJpdEZpZWxkICYgNjU1MzYpICE9PSAwKSkgcmV0dXJuO1xuXHQgICAgcHJvbWlzZS5fcHVzaENvbnRleHQoKTtcblx0ICAgIHZhciB4O1xuXHQgICAgaWYgKHJlY2VpdmVyID09PSBBUFBMWSkge1xuXHQgICAgICAgIGlmICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlLmxlbmd0aCAhPT0gXCJudW1iZXJcIikge1xuXHQgICAgICAgICAgICB4ID0gZXJyb3JPYmo7XG5cdCAgICAgICAgICAgIHguZSA9IG5ldyBUeXBlRXJyb3IoXCJjYW5ub3QgLnNwcmVhZCgpIGEgbm9uLWFycmF5OiBcIiArXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWwuY2xhc3NTdHJpbmcodmFsdWUpKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB4ID0gdHJ5Q2F0Y2goaGFuZGxlcikuYXBwbHkodGhpcy5fYm91bmRWYWx1ZSgpLCB2YWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB4ID0gdHJ5Q2F0Y2goaGFuZGxlcikuY2FsbChyZWNlaXZlciwgdmFsdWUpO1xuXHQgICAgfVxuXHQgICAgdmFyIHByb21pc2VDcmVhdGVkID0gcHJvbWlzZS5fcG9wQ29udGV4dCgpO1xuXHQgICAgYml0RmllbGQgPSBwcm9taXNlLl9iaXRGaWVsZDtcblx0ICAgIGlmICgoKGJpdEZpZWxkICYgNjU1MzYpICE9PSAwKSkgcmV0dXJuO1xuXHRcblx0ICAgIGlmICh4ID09PSBORVhUX0ZJTFRFUikge1xuXHQgICAgICAgIHByb21pc2UuX3JlamVjdCh2YWx1ZSk7XG5cdCAgICB9IGVsc2UgaWYgKHggPT09IGVycm9yT2JqKSB7XG5cdCAgICAgICAgcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2soeC5lLCBmYWxzZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGRlYnVnLmNoZWNrRm9yZ290dGVuUmV0dXJucyh4LCBwcm9taXNlQ3JlYXRlZCwgXCJcIiwgIHByb21pc2UsIHRoaXMpO1xuXHQgICAgICAgIHByb21pc2UuX3Jlc29sdmVDYWxsYmFjayh4KTtcblx0ICAgIH1cblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl90YXJnZXQgPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciByZXQgPSB0aGlzO1xuXHQgICAgd2hpbGUgKHJldC5faXNGb2xsb3dpbmcoKSkgcmV0ID0gcmV0Ll9mb2xsb3dlZSgpO1xuXHQgICAgcmV0dXJuIHJldDtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9mb2xsb3dlZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3NldEZvbGxvd2VlID0gZnVuY3Rpb24ocHJvbWlzZSkge1xuXHQgICAgdGhpcy5fcmVqZWN0aW9uSGFuZGxlcjAgPSBwcm9taXNlO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3NldHRsZVByb21pc2UgPSBmdW5jdGlvbihwcm9taXNlLCBoYW5kbGVyLCByZWNlaXZlciwgdmFsdWUpIHtcblx0ICAgIHZhciBpc1Byb21pc2UgPSBwcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZTtcblx0ICAgIHZhciBiaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkO1xuXHQgICAgdmFyIGFzeW5jR3VhcmFudGVlZCA9ICgoYml0RmllbGQgJiAxMzQyMTc3MjgpICE9PSAwKTtcblx0ICAgIGlmICgoKGJpdEZpZWxkICYgNjU1MzYpICE9PSAwKSkge1xuXHQgICAgICAgIGlmIChpc1Byb21pc2UpIHByb21pc2UuX2ludm9rZUludGVybmFsT25DYW5jZWwoKTtcblx0XG5cdCAgICAgICAgaWYgKHJlY2VpdmVyIGluc3RhbmNlb2YgUGFzc1Rocm91Z2hIYW5kbGVyQ29udGV4dCAmJlxuXHQgICAgICAgICAgICByZWNlaXZlci5pc0ZpbmFsbHlIYW5kbGVyKCkpIHtcblx0ICAgICAgICAgICAgcmVjZWl2ZXIuY2FuY2VsUHJvbWlzZSA9IHByb21pc2U7XG5cdCAgICAgICAgICAgIGlmICh0cnlDYXRjaChoYW5kbGVyKS5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgPT09IGVycm9yT2JqKSB7XG5cdCAgICAgICAgICAgICAgICBwcm9taXNlLl9yZWplY3QoZXJyb3JPYmouZSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2UgaWYgKGhhbmRsZXIgPT09IHJlZmxlY3RIYW5kbGVyKSB7XG5cdCAgICAgICAgICAgIHByb21pc2UuX2Z1bGZpbGwocmVmbGVjdEhhbmRsZXIuY2FsbChyZWNlaXZlcikpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAocmVjZWl2ZXIgaW5zdGFuY2VvZiBQcm94eWFibGUpIHtcblx0ICAgICAgICAgICAgcmVjZWl2ZXIuX3Byb21pc2VDYW5jZWxsZWQocHJvbWlzZSk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChpc1Byb21pc2UgfHwgcHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2VBcnJheSkge1xuXHQgICAgICAgICAgICBwcm9taXNlLl9jYW5jZWwoKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZWNlaXZlci5jYW5jZWwoKTtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKHR5cGVvZiBoYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICBpZiAoIWlzUHJvbWlzZSkge1xuXHQgICAgICAgICAgICBoYW5kbGVyLmNhbGwocmVjZWl2ZXIsIHZhbHVlLCBwcm9taXNlKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBpZiAoYXN5bmNHdWFyYW50ZWVkKSBwcm9taXNlLl9zZXRBc3luY0d1YXJhbnRlZWQoKTtcblx0ICAgICAgICAgICAgdGhpcy5fc2V0dGxlUHJvbWlzZUZyb21IYW5kbGVyKGhhbmRsZXIsIHJlY2VpdmVyLCB2YWx1ZSwgcHJvbWlzZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIGlmIChyZWNlaXZlciBpbnN0YW5jZW9mIFByb3h5YWJsZSkge1xuXHQgICAgICAgIGlmICghcmVjZWl2ZXIuX2lzUmVzb2x2ZWQoKSkge1xuXHQgICAgICAgICAgICBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcblx0ICAgICAgICAgICAgICAgIHJlY2VpdmVyLl9wcm9taXNlRnVsZmlsbGVkKHZhbHVlLCBwcm9taXNlKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHJlY2VpdmVyLl9wcm9taXNlUmVqZWN0ZWQodmFsdWUsIHByb21pc2UpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIGlmIChpc1Byb21pc2UpIHtcblx0ICAgICAgICBpZiAoYXN5bmNHdWFyYW50ZWVkKSBwcm9taXNlLl9zZXRBc3luY0d1YXJhbnRlZWQoKTtcblx0ICAgICAgICBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcblx0ICAgICAgICAgICAgcHJvbWlzZS5fZnVsZmlsbCh2YWx1ZSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcHJvbWlzZS5fcmVqZWN0KHZhbHVlKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fc2V0dGxlUHJvbWlzZUxhdGVDYW5jZWxsYXRpb25PYnNlcnZlciA9IGZ1bmN0aW9uKGN0eCkge1xuXHQgICAgdmFyIGhhbmRsZXIgPSBjdHguaGFuZGxlcjtcblx0ICAgIHZhciBwcm9taXNlID0gY3R4LnByb21pc2U7XG5cdCAgICB2YXIgcmVjZWl2ZXIgPSBjdHgucmVjZWl2ZXI7XG5cdCAgICB2YXIgdmFsdWUgPSBjdHgudmFsdWU7XG5cdCAgICBpZiAodHlwZW9mIGhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgIGlmICghKHByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSkge1xuXHQgICAgICAgICAgICBoYW5kbGVyLmNhbGwocmVjZWl2ZXIsIHZhbHVlLCBwcm9taXNlKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB0aGlzLl9zZXR0bGVQcm9taXNlRnJvbUhhbmRsZXIoaGFuZGxlciwgcmVjZWl2ZXIsIHZhbHVlLCBwcm9taXNlKTtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKHByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG5cdCAgICAgICAgcHJvbWlzZS5fcmVqZWN0KHZhbHVlKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlQ3R4ID0gZnVuY3Rpb24oY3R4KSB7XG5cdCAgICB0aGlzLl9zZXR0bGVQcm9taXNlKGN0eC5wcm9taXNlLCBjdHguaGFuZGxlciwgY3R4LnJlY2VpdmVyLCBjdHgudmFsdWUpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3NldHRsZVByb21pc2UwID0gZnVuY3Rpb24oaGFuZGxlciwgdmFsdWUsIGJpdEZpZWxkKSB7XG5cdCAgICB2YXIgcHJvbWlzZSA9IHRoaXMuX3Byb21pc2UwO1xuXHQgICAgdmFyIHJlY2VpdmVyID0gdGhpcy5fcmVjZWl2ZXJBdCgwKTtcblx0ICAgIHRoaXMuX3Byb21pc2UwID0gdW5kZWZpbmVkO1xuXHQgICAgdGhpcy5fcmVjZWl2ZXIwID0gdW5kZWZpbmVkO1xuXHQgICAgdGhpcy5fc2V0dGxlUHJvbWlzZShwcm9taXNlLCBoYW5kbGVyLCByZWNlaXZlciwgdmFsdWUpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2NsZWFyQ2FsbGJhY2tEYXRhQXRJbmRleCA9IGZ1bmN0aW9uKGluZGV4KSB7XG5cdCAgICB2YXIgYmFzZSA9IGluZGV4ICogNCAtIDQ7XG5cdCAgICB0aGlzW2Jhc2UgKyAyXSA9XG5cdCAgICB0aGlzW2Jhc2UgKyAzXSA9XG5cdCAgICB0aGlzW2Jhc2UgKyAwXSA9XG5cdCAgICB0aGlzW2Jhc2UgKyAxXSA9IHVuZGVmaW5lZDtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9mdWxmaWxsID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICB2YXIgYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZDtcblx0ICAgIGlmICgoKGJpdEZpZWxkICYgMTE3NTA2MDQ4KSA+Pj4gMTYpKSByZXR1cm47XG5cdCAgICBpZiAodmFsdWUgPT09IHRoaXMpIHtcblx0ICAgICAgICB2YXIgZXJyID0gbWFrZVNlbGZSZXNvbHV0aW9uRXJyb3IoKTtcblx0ICAgICAgICB0aGlzLl9hdHRhY2hFeHRyYVRyYWNlKGVycik7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX3JlamVjdChlcnIpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5fc2V0RnVsZmlsbGVkKCk7XG5cdCAgICB0aGlzLl9yZWplY3Rpb25IYW5kbGVyMCA9IHZhbHVlO1xuXHRcblx0ICAgIGlmICgoYml0RmllbGQgJiA2NTUzNSkgPiAwKSB7XG5cdCAgICAgICAgaWYgKCgoYml0RmllbGQgJiAxMzQyMTc3MjgpICE9PSAwKSkge1xuXHQgICAgICAgICAgICB0aGlzLl9zZXR0bGVQcm9taXNlcygpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGFzeW5jLnNldHRsZVByb21pc2VzKHRoaXMpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9yZWplY3QgPSBmdW5jdGlvbiAocmVhc29uKSB7XG5cdCAgICB2YXIgYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZDtcblx0ICAgIGlmICgoKGJpdEZpZWxkICYgMTE3NTA2MDQ4KSA+Pj4gMTYpKSByZXR1cm47XG5cdCAgICB0aGlzLl9zZXRSZWplY3RlZCgpO1xuXHQgICAgdGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyMCA9IHJlYXNvbjtcblx0XG5cdCAgICBpZiAodGhpcy5faXNGaW5hbCgpKSB7XG5cdCAgICAgICAgcmV0dXJuIGFzeW5jLmZhdGFsRXJyb3IocmVhc29uLCB1dGlsLmlzTm9kZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKChiaXRGaWVsZCAmIDY1NTM1KSA+IDApIHtcblx0ICAgICAgICBhc3luYy5zZXR0bGVQcm9taXNlcyh0aGlzKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5fZW5zdXJlUG9zc2libGVSZWplY3Rpb25IYW5kbGVkKCk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fZnVsZmlsbFByb21pc2VzID0gZnVuY3Rpb24gKGxlbiwgdmFsdWUpIHtcblx0ICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgICAgICB2YXIgaGFuZGxlciA9IHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlckF0KGkpO1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5fcHJvbWlzZUF0KGkpO1xuXHQgICAgICAgIHZhciByZWNlaXZlciA9IHRoaXMuX3JlY2VpdmVyQXQoaSk7XG5cdCAgICAgICAgdGhpcy5fY2xlYXJDYWxsYmFja0RhdGFBdEluZGV4KGkpO1xuXHQgICAgICAgIHRoaXMuX3NldHRsZVByb21pc2UocHJvbWlzZSwgaGFuZGxlciwgcmVjZWl2ZXIsIHZhbHVlKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9yZWplY3RQcm9taXNlcyA9IGZ1bmN0aW9uIChsZW4sIHJlYXNvbikge1xuXHQgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBsZW47IGkrKykge1xuXHQgICAgICAgIHZhciBoYW5kbGVyID0gdGhpcy5fcmVqZWN0aW9uSGFuZGxlckF0KGkpO1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5fcHJvbWlzZUF0KGkpO1xuXHQgICAgICAgIHZhciByZWNlaXZlciA9IHRoaXMuX3JlY2VpdmVyQXQoaSk7XG5cdCAgICAgICAgdGhpcy5fY2xlYXJDYWxsYmFja0RhdGFBdEluZGV4KGkpO1xuXHQgICAgICAgIHRoaXMuX3NldHRsZVByb21pc2UocHJvbWlzZSwgaGFuZGxlciwgcmVjZWl2ZXIsIHJlYXNvbik7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fc2V0dGxlUHJvbWlzZXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZDtcblx0ICAgIHZhciBsZW4gPSAoYml0RmllbGQgJiA2NTUzNSk7XG5cdFxuXHQgICAgaWYgKGxlbiA+IDApIHtcblx0ICAgICAgICBpZiAoKChiaXRGaWVsZCAmIDE2ODQyNzUyKSAhPT0gMCkpIHtcblx0ICAgICAgICAgICAgdmFyIHJlYXNvbiA9IHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlcjA7XG5cdCAgICAgICAgICAgIHRoaXMuX3NldHRsZVByb21pc2UwKHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwLCByZWFzb24sIGJpdEZpZWxkKTtcblx0ICAgICAgICAgICAgdGhpcy5fcmVqZWN0UHJvbWlzZXMobGVuLCByZWFzb24pO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwO1xuXHQgICAgICAgICAgICB0aGlzLl9zZXR0bGVQcm9taXNlMCh0aGlzLl9mdWxmaWxsbWVudEhhbmRsZXIwLCB2YWx1ZSwgYml0RmllbGQpO1xuXHQgICAgICAgICAgICB0aGlzLl9mdWxmaWxsUHJvbWlzZXMobGVuLCB2YWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHRoaXMuX3NldExlbmd0aCgwKTtcblx0ICAgIH1cblx0ICAgIHRoaXMuX2NsZWFyQ2FuY2VsbGF0aW9uRGF0YSgpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3NldHRsZWRWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGJpdEZpZWxkID0gdGhpcy5fYml0RmllbGQ7XG5cdCAgICBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fcmVqZWN0aW9uSGFuZGxlcjA7XG5cdCAgICB9IGVsc2UgaWYgKCgoYml0RmllbGQgJiAxNjc3NzIxNikgIT09IDApKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlcjA7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBkZWZlclJlc29sdmUodikge3RoaXMucHJvbWlzZS5fcmVzb2x2ZUNhbGxiYWNrKHYpO31cblx0ZnVuY3Rpb24gZGVmZXJSZWplY3Qodikge3RoaXMucHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2sodiwgZmFsc2UpO31cblx0XG5cdFByb21pc2UuZGVmZXIgPSBQcm9taXNlLnBlbmRpbmcgPSBmdW5jdGlvbigpIHtcblx0ICAgIGRlYnVnLmRlcHJlY2F0ZWQoXCJQcm9taXNlLmRlZmVyXCIsIFwibmV3IFByb21pc2VcIik7XG5cdCAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgcHJvbWlzZTogcHJvbWlzZSxcblx0ICAgICAgICByZXNvbHZlOiBkZWZlclJlc29sdmUsXG5cdCAgICAgICAgcmVqZWN0OiBkZWZlclJlamVjdFxuXHQgICAgfTtcblx0fTtcblx0XG5cdHV0aWwubm90RW51bWVyYWJsZVByb3AoUHJvbWlzZSxcblx0ICAgICAgICAgICAgICAgICAgICAgICBcIl9tYWtlU2VsZlJlc29sdXRpb25FcnJvclwiLFxuXHQgICAgICAgICAgICAgICAgICAgICAgIG1ha2VTZWxmUmVzb2x1dGlvbkVycm9yKTtcblx0XG5cdF9kZXJlcV8oXCIuL21ldGhvZFwiKShQcm9taXNlLCBJTlRFUk5BTCwgdHJ5Q29udmVydFRvUHJvbWlzZSwgYXBpUmVqZWN0aW9uLFxuXHQgICAgZGVidWcpO1xuXHRfZGVyZXFfKFwiLi9iaW5kXCIpKFByb21pc2UsIElOVEVSTkFMLCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBkZWJ1Zyk7XG5cdF9kZXJlcV8oXCIuL2NhbmNlbFwiKShQcm9taXNlLCBQcm9taXNlQXJyYXksIGFwaVJlamVjdGlvbiwgZGVidWcpO1xuXHRfZGVyZXFfKFwiLi9kaXJlY3RfcmVzb2x2ZVwiKShQcm9taXNlKTtcblx0X2RlcmVxXyhcIi4vc3luY2hyb25vdXNfaW5zcGVjdGlvblwiKShQcm9taXNlKTtcblx0X2RlcmVxXyhcIi4vam9pblwiKShcblx0ICAgIFByb21pc2UsIFByb21pc2VBcnJheSwgdHJ5Q29udmVydFRvUHJvbWlzZSwgSU5URVJOQUwsIGFzeW5jLCBnZXREb21haW4pO1xuXHRQcm9taXNlLlByb21pc2UgPSBQcm9taXNlO1xuXHRQcm9taXNlLnZlcnNpb24gPSBcIjMuNC42XCI7XG5cdF9kZXJlcV8oJy4vbWFwLmpzJykoUHJvbWlzZSwgUHJvbWlzZUFycmF5LCBhcGlSZWplY3Rpb24sIHRyeUNvbnZlcnRUb1Byb21pc2UsIElOVEVSTkFMLCBkZWJ1Zyk7XG5cdF9kZXJlcV8oJy4vY2FsbF9nZXQuanMnKShQcm9taXNlKTtcblx0X2RlcmVxXygnLi91c2luZy5qcycpKFByb21pc2UsIGFwaVJlamVjdGlvbiwgdHJ5Q29udmVydFRvUHJvbWlzZSwgY3JlYXRlQ29udGV4dCwgSU5URVJOQUwsIGRlYnVnKTtcblx0X2RlcmVxXygnLi90aW1lcnMuanMnKShQcm9taXNlLCBJTlRFUk5BTCwgZGVidWcpO1xuXHRfZGVyZXFfKCcuL2dlbmVyYXRvcnMuanMnKShQcm9taXNlLCBhcGlSZWplY3Rpb24sIElOVEVSTkFMLCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBQcm94eWFibGUsIGRlYnVnKTtcblx0X2RlcmVxXygnLi9ub2RlaWZ5LmpzJykoUHJvbWlzZSk7XG5cdF9kZXJlcV8oJy4vcHJvbWlzaWZ5LmpzJykoUHJvbWlzZSwgSU5URVJOQUwpO1xuXHRfZGVyZXFfKCcuL3Byb3BzLmpzJykoUHJvbWlzZSwgUHJvbWlzZUFycmF5LCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBhcGlSZWplY3Rpb24pO1xuXHRfZGVyZXFfKCcuL3JhY2UuanMnKShQcm9taXNlLCBJTlRFUk5BTCwgdHJ5Q29udmVydFRvUHJvbWlzZSwgYXBpUmVqZWN0aW9uKTtcblx0X2RlcmVxXygnLi9yZWR1Y2UuanMnKShQcm9taXNlLCBQcm9taXNlQXJyYXksIGFwaVJlamVjdGlvbiwgdHJ5Q29udmVydFRvUHJvbWlzZSwgSU5URVJOQUwsIGRlYnVnKTtcblx0X2RlcmVxXygnLi9zZXR0bGUuanMnKShQcm9taXNlLCBQcm9taXNlQXJyYXksIGRlYnVnKTtcblx0X2RlcmVxXygnLi9zb21lLmpzJykoUHJvbWlzZSwgUHJvbWlzZUFycmF5LCBhcGlSZWplY3Rpb24pO1xuXHRfZGVyZXFfKCcuL2ZpbHRlci5qcycpKFByb21pc2UsIElOVEVSTkFMKTtcblx0X2RlcmVxXygnLi9lYWNoLmpzJykoUHJvbWlzZSwgSU5URVJOQUwpO1xuXHRfZGVyZXFfKCcuL2FueS5qcycpKFByb21pc2UpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblx0ICAgIHV0aWwudG9GYXN0UHJvcGVydGllcyhQcm9taXNlKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblx0ICAgIHV0aWwudG9GYXN0UHJvcGVydGllcyhQcm9taXNlLnByb3RvdHlwZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblx0ICAgIGZ1bmN0aW9uIGZpbGxUeXBlcyh2YWx1ZSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblx0ICAgICAgICB2YXIgcCA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblx0ICAgICAgICBwLl9mdWxmaWxsbWVudEhhbmRsZXIwID0gdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblx0ICAgICAgICBwLl9yZWplY3Rpb25IYW5kbGVyMCA9IHZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblx0ICAgICAgICBwLl9wcm9taXNlMCA9IHZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblx0ICAgICAgICBwLl9yZWNlaXZlcjAgPSB2YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblx0ICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblx0ICAgIC8vIENvbXBsZXRlIHNsYWNrIHRyYWNraW5nLCBvcHQgb3V0IG9mIGZpZWxkLXR5cGUgdHJhY2tpbmcgYW5kICAgICAgICAgICBcblx0ICAgIC8vIHN0YWJpbGl6ZSBtYXAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblx0ICAgIGZpbGxUeXBlcyh7YTogMX0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblx0ICAgIGZpbGxUeXBlcyh7YjogMn0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblx0ICAgIGZpbGxUeXBlcyh7YzogM30pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblx0ICAgIGZpbGxUeXBlcygxKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblx0ICAgIGZpbGxUeXBlcyhmdW5jdGlvbigpe30pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblx0ICAgIGZpbGxUeXBlcyh1bmRlZmluZWQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblx0ICAgIGZpbGxUeXBlcyhmYWxzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblx0ICAgIGZpbGxUeXBlcyhuZXcgUHJvbWlzZShJTlRFUk5BTCkpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblx0ICAgIGRlYnVnLnNldEJvdW5kcyhBc3luYy5maXJzdExpbmVFcnJvciwgdXRpbC5sYXN0TGluZUVycm9yKTsgICAgICAgICAgICAgICBcblx0ICAgIHJldHVybiBQcm9taXNlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblx0XG5cdH07XG5cdFxuXHR9LHtcIi4vYW55LmpzXCI6MSxcIi4vYXN5bmNcIjoyLFwiLi9iaW5kXCI6MyxcIi4vY2FsbF9nZXQuanNcIjo1LFwiLi9jYW5jZWxcIjo2LFwiLi9jYXRjaF9maWx0ZXJcIjo3LFwiLi9jb250ZXh0XCI6OCxcIi4vZGVidWdnYWJpbGl0eVwiOjksXCIuL2RpcmVjdF9yZXNvbHZlXCI6MTAsXCIuL2VhY2guanNcIjoxMSxcIi4vZXJyb3JzXCI6MTIsXCIuL2VzNVwiOjEzLFwiLi9maWx0ZXIuanNcIjoxNCxcIi4vZmluYWxseVwiOjE1LFwiLi9nZW5lcmF0b3JzLmpzXCI6MTYsXCIuL2pvaW5cIjoxNyxcIi4vbWFwLmpzXCI6MTgsXCIuL21ldGhvZFwiOjE5LFwiLi9ub2RlYmFja1wiOjIwLFwiLi9ub2RlaWZ5LmpzXCI6MjEsXCIuL3Byb21pc2VfYXJyYXlcIjoyMyxcIi4vcHJvbWlzaWZ5LmpzXCI6MjQsXCIuL3Byb3BzLmpzXCI6MjUsXCIuL3JhY2UuanNcIjoyNyxcIi4vcmVkdWNlLmpzXCI6MjgsXCIuL3NldHRsZS5qc1wiOjMwLFwiLi9zb21lLmpzXCI6MzEsXCIuL3N5bmNocm9ub3VzX2luc3BlY3Rpb25cIjozMixcIi4vdGhlbmFibGVzXCI6MzMsXCIuL3RpbWVycy5qc1wiOjM0LFwiLi91c2luZy5qc1wiOjM1LFwiLi91dGlsXCI6MzZ9XSwyMzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIElOVEVSTkFMLCB0cnlDb252ZXJ0VG9Qcm9taXNlLFxuXHQgICAgYXBpUmVqZWN0aW9uLCBQcm94eWFibGUpIHtcblx0dmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXHR2YXIgaXNBcnJheSA9IHV0aWwuaXNBcnJheTtcblx0XG5cdGZ1bmN0aW9uIHRvUmVzb2x1dGlvblZhbHVlKHZhbCkge1xuXHQgICAgc3dpdGNoKHZhbCkge1xuXHQgICAgY2FzZSAtMjogcmV0dXJuIFtdO1xuXHQgICAgY2FzZSAtMzogcmV0dXJuIHt9O1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBQcm9taXNlQXJyYXkodmFsdWVzKSB7XG5cdCAgICB2YXIgcHJvbWlzZSA9IHRoaXMuX3Byb21pc2UgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG5cdCAgICBpZiAodmFsdWVzIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuXHQgICAgICAgIHByb21pc2UuX3Byb3BhZ2F0ZUZyb20odmFsdWVzLCAzKTtcblx0ICAgIH1cblx0ICAgIHByb21pc2UuX3NldE9uQ2FuY2VsKHRoaXMpO1xuXHQgICAgdGhpcy5fdmFsdWVzID0gdmFsdWVzO1xuXHQgICAgdGhpcy5fbGVuZ3RoID0gMDtcblx0ICAgIHRoaXMuX3RvdGFsUmVzb2x2ZWQgPSAwO1xuXHQgICAgdGhpcy5faW5pdCh1bmRlZmluZWQsIC0yKTtcblx0fVxuXHR1dGlsLmluaGVyaXRzKFByb21pc2VBcnJheSwgUHJveHlhYmxlKTtcblx0XG5cdFByb21pc2VBcnJheS5wcm90b3R5cGUubGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX2xlbmd0aDtcblx0fTtcblx0XG5cdFByb21pc2VBcnJheS5wcm90b3R5cGUucHJvbWlzZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLl9wcm9taXNlO1xuXHR9O1xuXHRcblx0UHJvbWlzZUFycmF5LnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uIGluaXQoXywgcmVzb2x2ZVZhbHVlSWZFbXB0eSkge1xuXHQgICAgdmFyIHZhbHVlcyA9IHRyeUNvbnZlcnRUb1Byb21pc2UodGhpcy5fdmFsdWVzLCB0aGlzLl9wcm9taXNlKTtcblx0ICAgIGlmICh2YWx1ZXMgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG5cdCAgICAgICAgdmFsdWVzID0gdmFsdWVzLl90YXJnZXQoKTtcblx0ICAgICAgICB2YXIgYml0RmllbGQgPSB2YWx1ZXMuX2JpdEZpZWxkO1xuXHQgICAgICAgIDtcblx0ICAgICAgICB0aGlzLl92YWx1ZXMgPSB2YWx1ZXM7XG5cdFxuXHQgICAgICAgIGlmICgoKGJpdEZpZWxkICYgNTAzOTcxODQpID09PSAwKSkge1xuXHQgICAgICAgICAgICB0aGlzLl9wcm9taXNlLl9zZXRBc3luY0d1YXJhbnRlZWQoKTtcblx0ICAgICAgICAgICAgcmV0dXJuIHZhbHVlcy5fdGhlbihcblx0ICAgICAgICAgICAgICAgIGluaXQsXG5cdCAgICAgICAgICAgICAgICB0aGlzLl9yZWplY3QsXG5cdCAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG5cdCAgICAgICAgICAgICAgICB0aGlzLFxuXHQgICAgICAgICAgICAgICAgcmVzb2x2ZVZhbHVlSWZFbXB0eVxuXHQgICAgICAgICAgICk7XG5cdCAgICAgICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMzM1NTQ0MzIpICE9PSAwKSkge1xuXHQgICAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZXMuX3ZhbHVlKCk7XG5cdCAgICAgICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMTY3NzcyMTYpICE9PSAwKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVqZWN0KHZhbHVlcy5fcmVhc29uKCkpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYW5jZWwoKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICB2YWx1ZXMgPSB1dGlsLmFzQXJyYXkodmFsdWVzKTtcblx0ICAgIGlmICh2YWx1ZXMgPT09IG51bGwpIHtcblx0ICAgICAgICB2YXIgZXJyID0gYXBpUmVqZWN0aW9uKFxuXHQgICAgICAgICAgICBcImV4cGVjdGluZyBhbiBhcnJheSBvciBhbiBpdGVyYWJsZSBvYmplY3QgYnV0IGdvdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcodmFsdWVzKSkucmVhc29uKCk7XG5cdCAgICAgICAgdGhpcy5fcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2soZXJyLCBmYWxzZSk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSAwKSB7XG5cdCAgICAgICAgaWYgKHJlc29sdmVWYWx1ZUlmRW1wdHkgPT09IC01KSB7XG5cdCAgICAgICAgICAgIHRoaXMuX3Jlc29sdmVFbXB0eUFycmF5KCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICB0aGlzLl9yZXNvbHZlKHRvUmVzb2x1dGlvblZhbHVlKHJlc29sdmVWYWx1ZUlmRW1wdHkpKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdGhpcy5faXRlcmF0ZSh2YWx1ZXMpO1xuXHR9O1xuXHRcblx0UHJvbWlzZUFycmF5LnByb3RvdHlwZS5faXRlcmF0ZSA9IGZ1bmN0aW9uKHZhbHVlcykge1xuXHQgICAgdmFyIGxlbiA9IHRoaXMuZ2V0QWN0dWFsTGVuZ3RoKHZhbHVlcy5sZW5ndGgpO1xuXHQgICAgdGhpcy5fbGVuZ3RoID0gbGVuO1xuXHQgICAgdGhpcy5fdmFsdWVzID0gdGhpcy5zaG91bGRDb3B5VmFsdWVzKCkgPyBuZXcgQXJyYXkobGVuKSA6IHRoaXMuX3ZhbHVlcztcblx0ICAgIHZhciByZXN1bHQgPSB0aGlzLl9wcm9taXNlO1xuXHQgICAgdmFyIGlzUmVzb2x2ZWQgPSBmYWxzZTtcblx0ICAgIHZhciBiaXRGaWVsZCA9IG51bGw7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG5cdCAgICAgICAgdmFyIG1heWJlUHJvbWlzZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UodmFsdWVzW2ldLCByZXN1bHQpO1xuXHRcblx0ICAgICAgICBpZiAobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuXHQgICAgICAgICAgICBtYXliZVByb21pc2UgPSBtYXliZVByb21pc2UuX3RhcmdldCgpO1xuXHQgICAgICAgICAgICBiaXRGaWVsZCA9IG1heWJlUHJvbWlzZS5fYml0RmllbGQ7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgYml0RmllbGQgPSBudWxsO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGlzUmVzb2x2ZWQpIHtcblx0ICAgICAgICAgICAgaWYgKGJpdEZpZWxkICE9PSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgICBtYXliZVByb21pc2Uuc3VwcHJlc3NVbmhhbmRsZWRSZWplY3Rpb25zKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2UgaWYgKGJpdEZpZWxkICE9PSBudWxsKSB7XG5cdCAgICAgICAgICAgIGlmICgoKGJpdEZpZWxkICYgNTAzOTcxODQpID09PSAwKSkge1xuXHQgICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlLl9wcm94eSh0aGlzLCBpKTtcblx0ICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlc1tpXSA9IG1heWJlUHJvbWlzZTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMzM1NTQ0MzIpICE9PSAwKSkge1xuXHQgICAgICAgICAgICAgICAgaXNSZXNvbHZlZCA9IHRoaXMuX3Byb21pc2VGdWxmaWxsZWQobWF5YmVQcm9taXNlLl92YWx1ZSgpLCBpKTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMTY3NzcyMTYpICE9PSAwKSkge1xuXHQgICAgICAgICAgICAgICAgaXNSZXNvbHZlZCA9IHRoaXMuX3Byb21pc2VSZWplY3RlZChtYXliZVByb21pc2UuX3JlYXNvbigpLCBpKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGlzUmVzb2x2ZWQgPSB0aGlzLl9wcm9taXNlQ2FuY2VsbGVkKGkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaXNSZXNvbHZlZCA9IHRoaXMuX3Byb21pc2VGdWxmaWxsZWQobWF5YmVQcm9taXNlLCBpKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBpZiAoIWlzUmVzb2x2ZWQpIHJlc3VsdC5fc2V0QXN5bmNHdWFyYW50ZWVkKCk7XG5cdH07XG5cdFxuXHRQcm9taXNlQXJyYXkucHJvdG90eXBlLl9pc1Jlc29sdmVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX3ZhbHVlcyA9PT0gbnVsbDtcblx0fTtcblx0XG5cdFByb21pc2VBcnJheS5wcm90b3R5cGUuX3Jlc29sdmUgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgIHRoaXMuX3ZhbHVlcyA9IG51bGw7XG5cdCAgICB0aGlzLl9wcm9taXNlLl9mdWxmaWxsKHZhbHVlKTtcblx0fTtcblx0XG5cdFByb21pc2VBcnJheS5wcm90b3R5cGUuX2NhbmNlbCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgaWYgKHRoaXMuX2lzUmVzb2x2ZWQoKSB8fCAhdGhpcy5fcHJvbWlzZS5faXNDYW5jZWxsYWJsZSgpKSByZXR1cm47XG5cdCAgICB0aGlzLl92YWx1ZXMgPSBudWxsO1xuXHQgICAgdGhpcy5fcHJvbWlzZS5fY2FuY2VsKCk7XG5cdH07XG5cdFxuXHRQcm9taXNlQXJyYXkucHJvdG90eXBlLl9yZWplY3QgPSBmdW5jdGlvbiAocmVhc29uKSB7XG5cdCAgICB0aGlzLl92YWx1ZXMgPSBudWxsO1xuXHQgICAgdGhpcy5fcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2socmVhc29uLCBmYWxzZSk7XG5cdH07XG5cdFxuXHRQcm9taXNlQXJyYXkucHJvdG90eXBlLl9wcm9taXNlRnVsZmlsbGVkID0gZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xuXHQgICAgdGhpcy5fdmFsdWVzW2luZGV4XSA9IHZhbHVlO1xuXHQgICAgdmFyIHRvdGFsUmVzb2x2ZWQgPSArK3RoaXMuX3RvdGFsUmVzb2x2ZWQ7XG5cdCAgICBpZiAodG90YWxSZXNvbHZlZCA+PSB0aGlzLl9sZW5ndGgpIHtcblx0ICAgICAgICB0aGlzLl9yZXNvbHZlKHRoaXMuX3ZhbHVlcyk7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdH07XG5cdFxuXHRQcm9taXNlQXJyYXkucHJvdG90eXBlLl9wcm9taXNlQ2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLl9jYW5jZWwoKTtcblx0ICAgIHJldHVybiB0cnVlO1xuXHR9O1xuXHRcblx0UHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZVJlamVjdGVkID0gZnVuY3Rpb24gKHJlYXNvbikge1xuXHQgICAgdGhpcy5fdG90YWxSZXNvbHZlZCsrO1xuXHQgICAgdGhpcy5fcmVqZWN0KHJlYXNvbik7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0fTtcblx0XG5cdFByb21pc2VBcnJheS5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgaWYgKHRoaXMuX2lzUmVzb2x2ZWQoKSkgcmV0dXJuO1xuXHQgICAgdmFyIHZhbHVlcyA9IHRoaXMuX3ZhbHVlcztcblx0ICAgIHRoaXMuX2NhbmNlbCgpO1xuXHQgICAgaWYgKHZhbHVlcyBpbnN0YW5jZW9mIFByb21pc2UpIHtcblx0ICAgICAgICB2YWx1ZXMuY2FuY2VsKCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgICAgIGlmICh2YWx1ZXNbaV0gaW5zdGFuY2VvZiBQcm9taXNlKSB7XG5cdCAgICAgICAgICAgICAgICB2YWx1ZXNbaV0uY2FuY2VsKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH07XG5cdFxuXHRQcm9taXNlQXJyYXkucHJvdG90eXBlLnNob3VsZENvcHlWYWx1ZXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0fTtcblx0XG5cdFByb21pc2VBcnJheS5wcm90b3R5cGUuZ2V0QWN0dWFsTGVuZ3RoID0gZnVuY3Rpb24gKGxlbikge1xuXHQgICAgcmV0dXJuIGxlbjtcblx0fTtcblx0XG5cdHJldHVybiBQcm9taXNlQXJyYXk7XG5cdH07XG5cdFxuXHR9LHtcIi4vdXRpbFwiOjM2fV0sMjQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLCBJTlRFUk5BTCkge1xuXHR2YXIgVEhJUyA9IHt9O1xuXHR2YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cdHZhciBub2RlYmFja0ZvclByb21pc2UgPSBfZGVyZXFfKFwiLi9ub2RlYmFja1wiKTtcblx0dmFyIHdpdGhBcHBlbmRlZCA9IHV0aWwud2l0aEFwcGVuZGVkO1xuXHR2YXIgbWF5YmVXcmFwQXNFcnJvciA9IHV0aWwubWF5YmVXcmFwQXNFcnJvcjtcblx0dmFyIGNhbkV2YWx1YXRlID0gdXRpbC5jYW5FdmFsdWF0ZTtcblx0dmFyIFR5cGVFcnJvciA9IF9kZXJlcV8oXCIuL2Vycm9yc1wiKS5UeXBlRXJyb3I7XG5cdHZhciBkZWZhdWx0U3VmZml4ID0gXCJBc3luY1wiO1xuXHR2YXIgZGVmYXVsdFByb21pc2lmaWVkID0ge19faXNQcm9taXNpZmllZF9fOiB0cnVlfTtcblx0dmFyIG5vQ29weVByb3BzID0gW1xuXHQgICAgXCJhcml0eVwiLCAgICBcImxlbmd0aFwiLFxuXHQgICAgXCJuYW1lXCIsXG5cdCAgICBcImFyZ3VtZW50c1wiLFxuXHQgICAgXCJjYWxsZXJcIixcblx0ICAgIFwiY2FsbGVlXCIsXG5cdCAgICBcInByb3RvdHlwZVwiLFxuXHQgICAgXCJfX2lzUHJvbWlzaWZpZWRfX1wiXG5cdF07XG5cdHZhciBub0NvcHlQcm9wc1BhdHRlcm4gPSBuZXcgUmVnRXhwKFwiXig/OlwiICsgbm9Db3B5UHJvcHMuam9pbihcInxcIikgKyBcIikkXCIpO1xuXHRcblx0dmFyIGRlZmF1bHRGaWx0ZXIgPSBmdW5jdGlvbihuYW1lKSB7XG5cdCAgICByZXR1cm4gdXRpbC5pc0lkZW50aWZpZXIobmFtZSkgJiZcblx0ICAgICAgICBuYW1lLmNoYXJBdCgwKSAhPT0gXCJfXCIgJiZcblx0ICAgICAgICBuYW1lICE9PSBcImNvbnN0cnVjdG9yXCI7XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBwcm9wc0ZpbHRlcihrZXkpIHtcblx0ICAgIHJldHVybiAhbm9Db3B5UHJvcHNQYXR0ZXJuLnRlc3Qoa2V5KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNQcm9taXNpZmllZChmbikge1xuXHQgICAgdHJ5IHtcblx0ICAgICAgICByZXR1cm4gZm4uX19pc1Byb21pc2lmaWVkX18gPT09IHRydWU7XG5cdCAgICB9XG5cdCAgICBjYXRjaCAoZSkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gaGFzUHJvbWlzaWZpZWQob2JqLCBrZXksIHN1ZmZpeCkge1xuXHQgICAgdmFyIHZhbCA9IHV0aWwuZ2V0RGF0YVByb3BlcnR5T3JEZWZhdWx0KG9iaiwga2V5ICsgc3VmZml4LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQcm9taXNpZmllZCk7XG5cdCAgICByZXR1cm4gdmFsID8gaXNQcm9taXNpZmllZCh2YWwpIDogZmFsc2U7XG5cdH1cblx0ZnVuY3Rpb24gY2hlY2tWYWxpZChyZXQsIHN1ZmZpeCwgc3VmZml4UmVnZXhwKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7IGkgKz0gMikge1xuXHQgICAgICAgIHZhciBrZXkgPSByZXRbaV07XG5cdCAgICAgICAgaWYgKHN1ZmZpeFJlZ2V4cC50ZXN0KGtleSkpIHtcblx0ICAgICAgICAgICAgdmFyIGtleVdpdGhvdXRBc3luY1N1ZmZpeCA9IGtleS5yZXBsYWNlKHN1ZmZpeFJlZ2V4cCwgXCJcIik7XG5cdCAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcmV0Lmxlbmd0aDsgaiArPSAyKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAocmV0W2pdID09PSBrZXlXaXRob3V0QXN5bmNTdWZmaXgpIHtcblx0ICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHByb21pc2lmeSBhbiBBUEkgdGhhdCBoYXMgbm9ybWFsIG1ldGhvZHMgd2l0aCAnJXMnLXN1ZmZpeFxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShcIiVzXCIsIHN1ZmZpeCkpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBwcm9taXNpZmlhYmxlTWV0aG9kcyhvYmosIHN1ZmZpeCwgc3VmZml4UmVnZXhwLCBmaWx0ZXIpIHtcblx0ICAgIHZhciBrZXlzID0gdXRpbC5pbmhlcml0ZWREYXRhS2V5cyhvYmopO1xuXHQgICAgdmFyIHJldCA9IFtdO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG5cdCAgICAgICAgdmFyIHZhbHVlID0gb2JqW2tleV07XG5cdCAgICAgICAgdmFyIHBhc3Nlc0RlZmF1bHRGaWx0ZXIgPSBmaWx0ZXIgPT09IGRlZmF1bHRGaWx0ZXJcblx0ICAgICAgICAgICAgPyB0cnVlIDogZGVmYXVsdEZpbHRlcihrZXksIHZhbHVlLCBvYmopO1xuXHQgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHQgICAgICAgICAgICAhaXNQcm9taXNpZmllZCh2YWx1ZSkgJiZcblx0ICAgICAgICAgICAgIWhhc1Byb21pc2lmaWVkKG9iaiwga2V5LCBzdWZmaXgpICYmXG5cdCAgICAgICAgICAgIGZpbHRlcihrZXksIHZhbHVlLCBvYmosIHBhc3Nlc0RlZmF1bHRGaWx0ZXIpKSB7XG5cdCAgICAgICAgICAgIHJldC5wdXNoKGtleSwgdmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGNoZWNrVmFsaWQocmV0LCBzdWZmaXgsIHN1ZmZpeFJlZ2V4cCk7XG5cdCAgICByZXR1cm4gcmV0O1xuXHR9XG5cdFxuXHR2YXIgZXNjYXBlSWRlbnRSZWdleCA9IGZ1bmN0aW9uKHN0cikge1xuXHQgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oWyRdKS8sIFwiXFxcXCRcIik7XG5cdH07XG5cdFxuXHR2YXIgbWFrZU5vZGVQcm9taXNpZmllZEV2YWw7XG5cdGlmIChmYWxzZSkge1xuXHR2YXIgc3dpdGNoQ2FzZUFyZ3VtZW50T3JkZXIgPSBmdW5jdGlvbihsaWtlbHlBcmd1bWVudENvdW50KSB7XG5cdCAgICB2YXIgcmV0ID0gW2xpa2VseUFyZ3VtZW50Q291bnRdO1xuXHQgICAgdmFyIG1pbiA9IE1hdGgubWF4KDAsIGxpa2VseUFyZ3VtZW50Q291bnQgLSAxIC0gMyk7XG5cdCAgICBmb3IodmFyIGkgPSBsaWtlbHlBcmd1bWVudENvdW50IC0gMTsgaSA+PSBtaW47IC0taSkge1xuXHQgICAgICAgIHJldC5wdXNoKGkpO1xuXHQgICAgfVxuXHQgICAgZm9yKHZhciBpID0gbGlrZWx5QXJndW1lbnRDb3VudCArIDE7IGkgPD0gMzsgKytpKSB7XG5cdCAgICAgICAgcmV0LnB1c2goaSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmV0O1xuXHR9O1xuXHRcblx0dmFyIGFyZ3VtZW50U2VxdWVuY2UgPSBmdW5jdGlvbihhcmd1bWVudENvdW50KSB7XG5cdCAgICByZXR1cm4gdXRpbC5maWxsZWRSYW5nZShhcmd1bWVudENvdW50LCBcIl9hcmdcIiwgXCJcIik7XG5cdH07XG5cdFxuXHR2YXIgcGFyYW1ldGVyRGVjbGFyYXRpb24gPSBmdW5jdGlvbihwYXJhbWV0ZXJDb3VudCkge1xuXHQgICAgcmV0dXJuIHV0aWwuZmlsbGVkUmFuZ2UoXG5cdCAgICAgICAgTWF0aC5tYXgocGFyYW1ldGVyQ291bnQsIDMpLCBcIl9hcmdcIiwgXCJcIik7XG5cdH07XG5cdFxuXHR2YXIgcGFyYW1ldGVyQ291bnQgPSBmdW5jdGlvbihmbikge1xuXHQgICAgaWYgKHR5cGVvZiBmbi5sZW5ndGggPT09IFwibnVtYmVyXCIpIHtcblx0ICAgICAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4oZm4ubGVuZ3RoLCAxMDIzICsgMSksIDApO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIDA7XG5cdH07XG5cdFxuXHRtYWtlTm9kZVByb21pc2lmaWVkRXZhbCA9XG5cdGZ1bmN0aW9uKGNhbGxiYWNrLCByZWNlaXZlciwgb3JpZ2luYWxOYW1lLCBmbiwgXywgbXVsdGlBcmdzKSB7XG5cdCAgICB2YXIgbmV3UGFyYW1ldGVyQ291bnQgPSBNYXRoLm1heCgwLCBwYXJhbWV0ZXJDb3VudChmbikgLSAxKTtcblx0ICAgIHZhciBhcmd1bWVudE9yZGVyID0gc3dpdGNoQ2FzZUFyZ3VtZW50T3JkZXIobmV3UGFyYW1ldGVyQ291bnQpO1xuXHQgICAgdmFyIHNob3VsZFByb3h5VGhpcyA9IHR5cGVvZiBjYWxsYmFjayA9PT0gXCJzdHJpbmdcIiB8fCByZWNlaXZlciA9PT0gVEhJUztcblx0XG5cdCAgICBmdW5jdGlvbiBnZW5lcmF0ZUNhbGxGb3JBcmd1bWVudENvdW50KGNvdW50KSB7XG5cdCAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudFNlcXVlbmNlKGNvdW50KS5qb2luKFwiLCBcIik7XG5cdCAgICAgICAgdmFyIGNvbW1hID0gY291bnQgPiAwID8gXCIsIFwiIDogXCJcIjtcblx0ICAgICAgICB2YXIgcmV0O1xuXHQgICAgICAgIGlmIChzaG91bGRQcm94eVRoaXMpIHtcblx0ICAgICAgICAgICAgcmV0ID0gXCJyZXQgPSBjYWxsYmFjay5jYWxsKHRoaXMsIHt7YXJnc319LCBub2RlYmFjayk7IGJyZWFrO1xcblwiO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldCA9IHJlY2VpdmVyID09PSB1bmRlZmluZWRcblx0ICAgICAgICAgICAgICAgID8gXCJyZXQgPSBjYWxsYmFjayh7e2FyZ3N9fSwgbm9kZWJhY2spOyBicmVhaztcXG5cIlxuXHQgICAgICAgICAgICAgICAgOiBcInJldCA9IGNhbGxiYWNrLmNhbGwocmVjZWl2ZXIsIHt7YXJnc319LCBub2RlYmFjayk7IGJyZWFrO1xcblwiO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gcmV0LnJlcGxhY2UoXCJ7e2FyZ3N9fVwiLCBhcmdzKS5yZXBsYWNlKFwiLCBcIiwgY29tbWEpO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIGdlbmVyYXRlQXJndW1lbnRTd2l0Y2hDYXNlKCkge1xuXHQgICAgICAgIHZhciByZXQgPSBcIlwiO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRPcmRlci5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgICAgICByZXQgKz0gXCJjYXNlIFwiICsgYXJndW1lbnRPcmRlcltpXSArXCI6XCIgK1xuXHQgICAgICAgICAgICAgICAgZ2VuZXJhdGVDYWxsRm9yQXJndW1lbnRDb3VudChhcmd1bWVudE9yZGVyW2ldKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldCArPSBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgIGRlZmF1bHQ6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGxlbiArIDEpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgdmFyIGkgPSAwOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICBhcmdzW2ldID0gbm9kZWJhY2s7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIFtDb2RlRm9yQ2FsbF0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgYnJlYWs7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgIFwiLnJlcGxhY2UoXCJbQ29kZUZvckNhbGxdXCIsIChzaG91bGRQcm94eVRoaXNcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwicmV0ID0gY2FsbGJhY2suYXBwbHkodGhpcywgYXJncyk7XFxuXCJcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwicmV0ID0gY2FsbGJhY2suYXBwbHkocmVjZWl2ZXIsIGFyZ3MpO1xcblwiKSk7XG5cdCAgICAgICAgcmV0dXJuIHJldDtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgZ2V0RnVuY3Rpb25Db2RlID0gdHlwZW9mIGNhbGxiYWNrID09PSBcInN0cmluZ1wiXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoXCJ0aGlzICE9IG51bGwgPyB0aGlzWydcIitjYWxsYmFjaytcIiddIDogZm5cIilcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiZm5cIjtcblx0ICAgIHZhciBib2R5ID0gXCIndXNlIHN0cmljdCc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICB2YXIgcmV0ID0gZnVuY3Rpb24gKFBhcmFtZXRlcnMpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAndXNlIHN0cmljdCc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICBwcm9taXNlLl9jYXB0dXJlU3RhY2tUcmFjZSgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIHZhciBub2RlYmFjayA9IG5vZGViYWNrRm9yUHJvbWlzZShwcm9taXNlLCBcIiArIG11bHRpQXJncyArIFwiKTsgICBcXG5cXFxuXHQgICAgICAgICAgICB2YXIgcmV0OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IHRyeUNhdGNoKFtHZXRGdW5jdGlvbkNvZGVdKTsgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgc3dpdGNoKGxlbikgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgW0NvZGVGb3JTd2l0Y2hDYXNlXSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgaWYgKHJldCA9PT0gZXJyb3JPYmopIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2sobWF5YmVXcmFwQXNFcnJvcihyZXQuZSksIHRydWUsIHRydWUpO1xcblxcXG5cdCAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgaWYgKCFwcm9taXNlLl9pc0ZhdGVTZWFsZWQoKSkgcHJvbWlzZS5fc2V0QXN5bmNHdWFyYW50ZWVkKCk7ICAgICBcXG5cXFxuXHQgICAgICAgICAgICByZXR1cm4gcHJvbWlzZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgfTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICBub3RFbnVtZXJhYmxlUHJvcChyZXQsICdfX2lzUHJvbWlzaWZpZWRfXycsIHRydWUpOyAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgIHJldHVybiByZXQ7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICBcIi5yZXBsYWNlKFwiW0NvZGVGb3JTd2l0Y2hDYXNlXVwiLCBnZW5lcmF0ZUFyZ3VtZW50U3dpdGNoQ2FzZSgpKVxuXHQgICAgICAgIC5yZXBsYWNlKFwiW0dldEZ1bmN0aW9uQ29kZV1cIiwgZ2V0RnVuY3Rpb25Db2RlKTtcblx0ICAgIGJvZHkgPSBib2R5LnJlcGxhY2UoXCJQYXJhbWV0ZXJzXCIsIHBhcmFtZXRlckRlY2xhcmF0aW9uKG5ld1BhcmFtZXRlckNvdW50KSk7XG5cdCAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKFwiUHJvbWlzZVwiLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBcImZuXCIsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIFwicmVjZWl2ZXJcIixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgXCJ3aXRoQXBwZW5kZWRcIixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgXCJtYXliZVdyYXBBc0Vycm9yXCIsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIFwibm9kZWJhY2tGb3JQcm9taXNlXCIsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIFwidHJ5Q2F0Y2hcIixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgXCJlcnJvck9ialwiLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBcIm5vdEVudW1lcmFibGVQcm9wXCIsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIFwiSU5URVJOQUxcIixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgYm9keSkoXG5cdCAgICAgICAgICAgICAgICAgICAgUHJvbWlzZSxcblx0ICAgICAgICAgICAgICAgICAgICBmbixcblx0ICAgICAgICAgICAgICAgICAgICByZWNlaXZlcixcblx0ICAgICAgICAgICAgICAgICAgICB3aXRoQXBwZW5kZWQsXG5cdCAgICAgICAgICAgICAgICAgICAgbWF5YmVXcmFwQXNFcnJvcixcblx0ICAgICAgICAgICAgICAgICAgICBub2RlYmFja0ZvclByb21pc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgdXRpbC50cnlDYXRjaCxcblx0ICAgICAgICAgICAgICAgICAgICB1dGlsLmVycm9yT2JqLFxuXHQgICAgICAgICAgICAgICAgICAgIHV0aWwubm90RW51bWVyYWJsZVByb3AsXG5cdCAgICAgICAgICAgICAgICAgICAgSU5URVJOQUwpO1xuXHR9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYWtlTm9kZVByb21pc2lmaWVkQ2xvc3VyZShjYWxsYmFjaywgcmVjZWl2ZXIsIF8sIGZuLCBfXywgbXVsdGlBcmdzKSB7XG5cdCAgICB2YXIgZGVmYXVsdFRoaXMgPSAoZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXM7fSkoKTtcblx0ICAgIHZhciBtZXRob2QgPSBjYWxsYmFjaztcblx0ICAgIGlmICh0eXBlb2YgbWV0aG9kID09PSBcInN0cmluZ1wiKSB7XG5cdCAgICAgICAgY2FsbGJhY2sgPSBmbjtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIHByb21pc2lmaWVkKCkge1xuXHQgICAgICAgIHZhciBfcmVjZWl2ZXIgPSByZWNlaXZlcjtcblx0ICAgICAgICBpZiAocmVjZWl2ZXIgPT09IFRISVMpIF9yZWNlaXZlciA9IHRoaXM7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG5cdCAgICAgICAgcHJvbWlzZS5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcblx0ICAgICAgICB2YXIgY2IgPSB0eXBlb2YgbWV0aG9kID09PSBcInN0cmluZ1wiICYmIHRoaXMgIT09IGRlZmF1bHRUaGlzXG5cdCAgICAgICAgICAgID8gdGhpc1ttZXRob2RdIDogY2FsbGJhY2s7XG5cdCAgICAgICAgdmFyIGZuID0gbm9kZWJhY2tGb3JQcm9taXNlKHByb21pc2UsIG11bHRpQXJncyk7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgY2IuYXBwbHkoX3JlY2VpdmVyLCB3aXRoQXBwZW5kZWQoYXJndW1lbnRzLCBmbikpO1xuXHQgICAgICAgIH0gY2F0Y2goZSkge1xuXHQgICAgICAgICAgICBwcm9taXNlLl9yZWplY3RDYWxsYmFjayhtYXliZVdyYXBBc0Vycm9yKGUpLCB0cnVlLCB0cnVlKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKCFwcm9taXNlLl9pc0ZhdGVTZWFsZWQoKSkgcHJvbWlzZS5fc2V0QXN5bmNHdWFyYW50ZWVkKCk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgICB1dGlsLm5vdEVudW1lcmFibGVQcm9wKHByb21pc2lmaWVkLCBcIl9faXNQcm9taXNpZmllZF9fXCIsIHRydWUpO1xuXHQgICAgcmV0dXJuIHByb21pc2lmaWVkO1xuXHR9XG5cdFxuXHR2YXIgbWFrZU5vZGVQcm9taXNpZmllZCA9IGNhbkV2YWx1YXRlXG5cdCAgICA/IG1ha2VOb2RlUHJvbWlzaWZpZWRFdmFsXG5cdCAgICA6IG1ha2VOb2RlUHJvbWlzaWZpZWRDbG9zdXJlO1xuXHRcblx0ZnVuY3Rpb24gcHJvbWlzaWZ5QWxsKG9iaiwgc3VmZml4LCBmaWx0ZXIsIHByb21pc2lmaWVyLCBtdWx0aUFyZ3MpIHtcblx0ICAgIHZhciBzdWZmaXhSZWdleHAgPSBuZXcgUmVnRXhwKGVzY2FwZUlkZW50UmVnZXgoc3VmZml4KSArIFwiJFwiKTtcblx0ICAgIHZhciBtZXRob2RzID1cblx0ICAgICAgICBwcm9taXNpZmlhYmxlTWV0aG9kcyhvYmosIHN1ZmZpeCwgc3VmZml4UmVnZXhwLCBmaWx0ZXIpO1xuXHRcblx0ICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBtZXRob2RzLmxlbmd0aDsgaSA8IGxlbjsgaSs9IDIpIHtcblx0ICAgICAgICB2YXIga2V5ID0gbWV0aG9kc1tpXTtcblx0ICAgICAgICB2YXIgZm4gPSBtZXRob2RzW2krMV07XG5cdCAgICAgICAgdmFyIHByb21pc2lmaWVkS2V5ID0ga2V5ICsgc3VmZml4O1xuXHQgICAgICAgIGlmIChwcm9taXNpZmllciA9PT0gbWFrZU5vZGVQcm9taXNpZmllZCkge1xuXHQgICAgICAgICAgICBvYmpbcHJvbWlzaWZpZWRLZXldID1cblx0ICAgICAgICAgICAgICAgIG1ha2VOb2RlUHJvbWlzaWZpZWQoa2V5LCBUSElTLCBrZXksIGZuLCBzdWZmaXgsIG11bHRpQXJncyk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdmFyIHByb21pc2lmaWVkID0gcHJvbWlzaWZpZXIoZm4sIGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG1ha2VOb2RlUHJvbWlzaWZpZWQoa2V5LCBUSElTLCBrZXksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbiwgc3VmZml4LCBtdWx0aUFyZ3MpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgdXRpbC5ub3RFbnVtZXJhYmxlUHJvcChwcm9taXNpZmllZCwgXCJfX2lzUHJvbWlzaWZpZWRfX1wiLCB0cnVlKTtcblx0ICAgICAgICAgICAgb2JqW3Byb21pc2lmaWVkS2V5XSA9IHByb21pc2lmaWVkO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHV0aWwudG9GYXN0UHJvcGVydGllcyhvYmopO1xuXHQgICAgcmV0dXJuIG9iajtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcHJvbWlzaWZ5KGNhbGxiYWNrLCByZWNlaXZlciwgbXVsdGlBcmdzKSB7XG5cdCAgICByZXR1cm4gbWFrZU5vZGVQcm9taXNpZmllZChjYWxsYmFjaywgcmVjZWl2ZXIsIHVuZGVmaW5lZCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaywgbnVsbCwgbXVsdGlBcmdzKTtcblx0fVxuXHRcblx0UHJvbWlzZS5wcm9taXNpZnkgPSBmdW5jdGlvbiAoZm4sIG9wdGlvbnMpIHtcblx0ICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyhmbikpO1xuXHQgICAgfVxuXHQgICAgaWYgKGlzUHJvbWlzaWZpZWQoZm4pKSB7XG5cdCAgICAgICAgcmV0dXJuIGZuO1xuXHQgICAgfVxuXHQgICAgb3B0aW9ucyA9IE9iamVjdChvcHRpb25zKTtcblx0ICAgIHZhciByZWNlaXZlciA9IG9wdGlvbnMuY29udGV4dCA9PT0gdW5kZWZpbmVkID8gVEhJUyA6IG9wdGlvbnMuY29udGV4dDtcblx0ICAgIHZhciBtdWx0aUFyZ3MgPSAhIW9wdGlvbnMubXVsdGlBcmdzO1xuXHQgICAgdmFyIHJldCA9IHByb21pc2lmeShmbiwgcmVjZWl2ZXIsIG11bHRpQXJncyk7XG5cdCAgICB1dGlsLmNvcHlEZXNjcmlwdG9ycyhmbiwgcmV0LCBwcm9wc0ZpbHRlcik7XG5cdCAgICByZXR1cm4gcmV0O1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm9taXNpZnlBbGwgPSBmdW5jdGlvbiAodGFyZ2V0LCBvcHRpb25zKSB7XG5cdCAgICBpZiAodHlwZW9mIHRhcmdldCAhPT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiB0YXJnZXQgIT09IFwib2JqZWN0XCIpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwidGhlIHRhcmdldCBvZiBwcm9taXNpZnlBbGwgbXVzdCBiZSBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvblxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG5cdCAgICB9XG5cdCAgICBvcHRpb25zID0gT2JqZWN0KG9wdGlvbnMpO1xuXHQgICAgdmFyIG11bHRpQXJncyA9ICEhb3B0aW9ucy5tdWx0aUFyZ3M7XG5cdCAgICB2YXIgc3VmZml4ID0gb3B0aW9ucy5zdWZmaXg7XG5cdCAgICBpZiAodHlwZW9mIHN1ZmZpeCAhPT0gXCJzdHJpbmdcIikgc3VmZml4ID0gZGVmYXVsdFN1ZmZpeDtcblx0ICAgIHZhciBmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcjtcblx0ICAgIGlmICh0eXBlb2YgZmlsdGVyICE9PSBcImZ1bmN0aW9uXCIpIGZpbHRlciA9IGRlZmF1bHRGaWx0ZXI7XG5cdCAgICB2YXIgcHJvbWlzaWZpZXIgPSBvcHRpb25zLnByb21pc2lmaWVyO1xuXHQgICAgaWYgKHR5cGVvZiBwcm9taXNpZmllciAhPT0gXCJmdW5jdGlvblwiKSBwcm9taXNpZmllciA9IG1ha2VOb2RlUHJvbWlzaWZpZWQ7XG5cdFxuXHQgICAgaWYgKCF1dGlsLmlzSWRlbnRpZmllcihzdWZmaXgpKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJzdWZmaXggbXVzdCBiZSBhIHZhbGlkIGlkZW50aWZpZXJcXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBrZXlzID0gdXRpbC5pbmhlcml0ZWREYXRhS2V5cyh0YXJnZXQpO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgdmFyIHZhbHVlID0gdGFyZ2V0W2tleXNbaV1dO1xuXHQgICAgICAgIGlmIChrZXlzW2ldICE9PSBcImNvbnN0cnVjdG9yXCIgJiZcblx0ICAgICAgICAgICAgdXRpbC5pc0NsYXNzKHZhbHVlKSkge1xuXHQgICAgICAgICAgICBwcm9taXNpZnlBbGwodmFsdWUucHJvdG90eXBlLCBzdWZmaXgsIGZpbHRlciwgcHJvbWlzaWZpZXIsXG5cdCAgICAgICAgICAgICAgICBtdWx0aUFyZ3MpO1xuXHQgICAgICAgICAgICBwcm9taXNpZnlBbGwodmFsdWUsIHN1ZmZpeCwgZmlsdGVyLCBwcm9taXNpZmllciwgbXVsdGlBcmdzKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHByb21pc2lmeUFsbCh0YXJnZXQsIHN1ZmZpeCwgZmlsdGVyLCBwcm9taXNpZmllciwgbXVsdGlBcmdzKTtcblx0fTtcblx0fTtcblx0XG5cdFxuXHR9LHtcIi4vZXJyb3JzXCI6MTIsXCIuL25vZGViYWNrXCI6MjAsXCIuL3V0aWxcIjozNn1dLDI1OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oXG5cdCAgICBQcm9taXNlLCBQcm9taXNlQXJyYXksIHRyeUNvbnZlcnRUb1Byb21pc2UsIGFwaVJlamVjdGlvbikge1xuXHR2YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cdHZhciBpc09iamVjdCA9IHV0aWwuaXNPYmplY3Q7XG5cdHZhciBlczUgPSBfZGVyZXFfKFwiLi9lczVcIik7XG5cdHZhciBFczZNYXA7XG5cdGlmICh0eXBlb2YgTWFwID09PSBcImZ1bmN0aW9uXCIpIEVzNk1hcCA9IE1hcDtcblx0XG5cdHZhciBtYXBUb0VudHJpZXMgPSAoZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgaW5kZXggPSAwO1xuXHQgICAgdmFyIHNpemUgPSAwO1xuXHRcblx0ICAgIGZ1bmN0aW9uIGV4dHJhY3RFbnRyeSh2YWx1ZSwga2V5KSB7XG5cdCAgICAgICAgdGhpc1tpbmRleF0gPSB2YWx1ZTtcblx0ICAgICAgICB0aGlzW2luZGV4ICsgc2l6ZV0gPSBrZXk7XG5cdCAgICAgICAgaW5kZXgrKztcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gbWFwVG9FbnRyaWVzKG1hcCkge1xuXHQgICAgICAgIHNpemUgPSBtYXAuc2l6ZTtcblx0ICAgICAgICBpbmRleCA9IDA7XG5cdCAgICAgICAgdmFyIHJldCA9IG5ldyBBcnJheShtYXAuc2l6ZSAqIDIpO1xuXHQgICAgICAgIG1hcC5mb3JFYWNoKGV4dHJhY3RFbnRyeSwgcmV0KTtcblx0ICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgfTtcblx0fSkoKTtcblx0XG5cdHZhciBlbnRyaWVzVG9NYXAgPSBmdW5jdGlvbihlbnRyaWVzKSB7XG5cdCAgICB2YXIgcmV0ID0gbmV3IEVzNk1hcCgpO1xuXHQgICAgdmFyIGxlbmd0aCA9IGVudHJpZXMubGVuZ3RoIC8gMiB8IDA7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgdmFyIGtleSA9IGVudHJpZXNbbGVuZ3RoICsgaV07XG5cdCAgICAgICAgdmFyIHZhbHVlID0gZW50cmllc1tpXTtcblx0ICAgICAgICByZXQuc2V0KGtleSwgdmFsdWUpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJldDtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIFByb3BlcnRpZXNQcm9taXNlQXJyYXkob2JqKSB7XG5cdCAgICB2YXIgaXNNYXAgPSBmYWxzZTtcblx0ICAgIHZhciBlbnRyaWVzO1xuXHQgICAgaWYgKEVzNk1hcCAhPT0gdW5kZWZpbmVkICYmIG9iaiBpbnN0YW5jZW9mIEVzNk1hcCkge1xuXHQgICAgICAgIGVudHJpZXMgPSBtYXBUb0VudHJpZXMob2JqKTtcblx0ICAgICAgICBpc01hcCA9IHRydWU7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciBrZXlzID0gZXM1LmtleXMob2JqKTtcblx0ICAgICAgICB2YXIgbGVuID0ga2V5cy5sZW5ndGg7XG5cdCAgICAgICAgZW50cmllcyA9IG5ldyBBcnJheShsZW4gKiAyKTtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG5cdCAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuXHQgICAgICAgICAgICBlbnRyaWVzW2ldID0gb2JqW2tleV07XG5cdCAgICAgICAgICAgIGVudHJpZXNbaSArIGxlbl0gPSBrZXk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgdGhpcy5jb25zdHJ1Y3RvciQoZW50cmllcyk7XG5cdCAgICB0aGlzLl9pc01hcCA9IGlzTWFwO1xuXHQgICAgdGhpcy5faW5pdCQodW5kZWZpbmVkLCAtMyk7XG5cdH1cblx0dXRpbC5pbmhlcml0cyhQcm9wZXJ0aWVzUHJvbWlzZUFycmF5LCBQcm9taXNlQXJyYXkpO1xuXHRcblx0UHJvcGVydGllc1Byb21pc2VBcnJheS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAoKSB7fTtcblx0XG5cdFByb3BlcnRpZXNQcm9taXNlQXJyYXkucHJvdG90eXBlLl9wcm9taXNlRnVsZmlsbGVkID0gZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xuXHQgICAgdGhpcy5fdmFsdWVzW2luZGV4XSA9IHZhbHVlO1xuXHQgICAgdmFyIHRvdGFsUmVzb2x2ZWQgPSArK3RoaXMuX3RvdGFsUmVzb2x2ZWQ7XG5cdCAgICBpZiAodG90YWxSZXNvbHZlZCA+PSB0aGlzLl9sZW5ndGgpIHtcblx0ICAgICAgICB2YXIgdmFsO1xuXHQgICAgICAgIGlmICh0aGlzLl9pc01hcCkge1xuXHQgICAgICAgICAgICB2YWwgPSBlbnRyaWVzVG9NYXAodGhpcy5fdmFsdWVzKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB2YWwgPSB7fTtcblx0ICAgICAgICAgICAgdmFyIGtleU9mZnNldCA9IHRoaXMubGVuZ3RoKCk7XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLmxlbmd0aCgpOyBpIDwgbGVuOyArK2kpIHtcblx0ICAgICAgICAgICAgICAgIHZhbFt0aGlzLl92YWx1ZXNbaSArIGtleU9mZnNldF1dID0gdGhpcy5fdmFsdWVzW2ldO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHRoaXMuX3Jlc29sdmUodmFsKTtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBmYWxzZTtcblx0fTtcblx0XG5cdFByb3BlcnRpZXNQcm9taXNlQXJyYXkucHJvdG90eXBlLnNob3VsZENvcHlWYWx1ZXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdH07XG5cdFxuXHRQcm9wZXJ0aWVzUHJvbWlzZUFycmF5LnByb3RvdHlwZS5nZXRBY3R1YWxMZW5ndGggPSBmdW5jdGlvbiAobGVuKSB7XG5cdCAgICByZXR1cm4gbGVuID4+IDE7XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBwcm9wcyhwcm9taXNlcykge1xuXHQgICAgdmFyIHJldDtcblx0ICAgIHZhciBjYXN0VmFsdWUgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHByb21pc2VzKTtcblx0XG5cdCAgICBpZiAoIWlzT2JqZWN0KGNhc3RWYWx1ZSkpIHtcblx0ICAgICAgICByZXR1cm4gYXBpUmVqZWN0aW9uKFwiY2Fubm90IGF3YWl0IHByb3BlcnRpZXMgb2YgYSBub24tb2JqZWN0XFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcblx0ICAgIH0gZWxzZSBpZiAoY2FzdFZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuXHQgICAgICAgIHJldCA9IGNhc3RWYWx1ZS5fdGhlbihcblx0ICAgICAgICAgICAgUHJvbWlzZS5wcm9wcywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0ID0gbmV3IFByb3BlcnRpZXNQcm9taXNlQXJyYXkoY2FzdFZhbHVlKS5wcm9taXNlKCk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGNhc3RWYWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcblx0ICAgICAgICByZXQuX3Byb3BhZ2F0ZUZyb20oY2FzdFZhbHVlLCAyKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiByZXQ7XG5cdH1cblx0XG5cdFByb21pc2UucHJvdG90eXBlLnByb3BzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHByb3BzKHRoaXMpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm9wcyA9IGZ1bmN0aW9uIChwcm9taXNlcykge1xuXHQgICAgcmV0dXJuIHByb3BzKHByb21pc2VzKTtcblx0fTtcblx0fTtcblx0XG5cdH0se1wiLi9lczVcIjoxMyxcIi4vdXRpbFwiOjM2fV0sMjY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0ZnVuY3Rpb24gYXJyYXlNb3ZlKHNyYywgc3JjSW5kZXgsIGRzdCwgZHN0SW5kZXgsIGxlbikge1xuXHQgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsZW47ICsraikge1xuXHQgICAgICAgIGRzdFtqICsgZHN0SW5kZXhdID0gc3JjW2ogKyBzcmNJbmRleF07XG5cdCAgICAgICAgc3JjW2ogKyBzcmNJbmRleF0gPSB2b2lkIDA7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIFF1ZXVlKGNhcGFjaXR5KSB7XG5cdCAgICB0aGlzLl9jYXBhY2l0eSA9IGNhcGFjaXR5O1xuXHQgICAgdGhpcy5fbGVuZ3RoID0gMDtcblx0ICAgIHRoaXMuX2Zyb250ID0gMDtcblx0fVxuXHRcblx0UXVldWUucHJvdG90eXBlLl93aWxsQmVPdmVyQ2FwYWNpdHkgPSBmdW5jdGlvbiAoc2l6ZSkge1xuXHQgICAgcmV0dXJuIHRoaXMuX2NhcGFjaXR5IDwgc2l6ZTtcblx0fTtcblx0XG5cdFF1ZXVlLnByb3RvdHlwZS5fcHVzaE9uZSA9IGZ1bmN0aW9uIChhcmcpIHtcblx0ICAgIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aCgpO1xuXHQgICAgdGhpcy5fY2hlY2tDYXBhY2l0eShsZW5ndGggKyAxKTtcblx0ICAgIHZhciBpID0gKHRoaXMuX2Zyb250ICsgbGVuZ3RoKSAmICh0aGlzLl9jYXBhY2l0eSAtIDEpO1xuXHQgICAgdGhpc1tpXSA9IGFyZztcblx0ICAgIHRoaXMuX2xlbmd0aCA9IGxlbmd0aCArIDE7XG5cdH07XG5cdFxuXHRRdWV1ZS5wcm90b3R5cGUuX3Vuc2hpZnRPbmUgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgdmFyIGNhcGFjaXR5ID0gdGhpcy5fY2FwYWNpdHk7XG5cdCAgICB0aGlzLl9jaGVja0NhcGFjaXR5KHRoaXMubGVuZ3RoKCkgKyAxKTtcblx0ICAgIHZhciBmcm9udCA9IHRoaXMuX2Zyb250O1xuXHQgICAgdmFyIGkgPSAoKCgoIGZyb250IC0gMSApICZcblx0ICAgICAgICAgICAgICAgICAgICAoIGNhcGFjaXR5IC0gMSkgKSBeIGNhcGFjaXR5ICkgLSBjYXBhY2l0eSApO1xuXHQgICAgdGhpc1tpXSA9IHZhbHVlO1xuXHQgICAgdGhpcy5fZnJvbnQgPSBpO1xuXHQgICAgdGhpcy5fbGVuZ3RoID0gdGhpcy5sZW5ndGgoKSArIDE7XG5cdH07XG5cdFxuXHRRdWV1ZS5wcm90b3R5cGUudW5zaGlmdCA9IGZ1bmN0aW9uKGZuLCByZWNlaXZlciwgYXJnKSB7XG5cdCAgICB0aGlzLl91bnNoaWZ0T25lKGFyZyk7XG5cdCAgICB0aGlzLl91bnNoaWZ0T25lKHJlY2VpdmVyKTtcblx0ICAgIHRoaXMuX3Vuc2hpZnRPbmUoZm4pO1xuXHR9O1xuXHRcblx0UXVldWUucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoZm4sIHJlY2VpdmVyLCBhcmcpIHtcblx0ICAgIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aCgpICsgMztcblx0ICAgIGlmICh0aGlzLl93aWxsQmVPdmVyQ2FwYWNpdHkobGVuZ3RoKSkge1xuXHQgICAgICAgIHRoaXMuX3B1c2hPbmUoZm4pO1xuXHQgICAgICAgIHRoaXMuX3B1c2hPbmUocmVjZWl2ZXIpO1xuXHQgICAgICAgIHRoaXMuX3B1c2hPbmUoYXJnKTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB2YXIgaiA9IHRoaXMuX2Zyb250ICsgbGVuZ3RoIC0gMztcblx0ICAgIHRoaXMuX2NoZWNrQ2FwYWNpdHkobGVuZ3RoKTtcblx0ICAgIHZhciB3cmFwTWFzayA9IHRoaXMuX2NhcGFjaXR5IC0gMTtcblx0ICAgIHRoaXNbKGogKyAwKSAmIHdyYXBNYXNrXSA9IGZuO1xuXHQgICAgdGhpc1soaiArIDEpICYgd3JhcE1hc2tdID0gcmVjZWl2ZXI7XG5cdCAgICB0aGlzWyhqICsgMikgJiB3cmFwTWFza10gPSBhcmc7XG5cdCAgICB0aGlzLl9sZW5ndGggPSBsZW5ndGg7XG5cdH07XG5cdFxuXHRRdWV1ZS5wcm90b3R5cGUuc2hpZnQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgZnJvbnQgPSB0aGlzLl9mcm9udCxcblx0ICAgICAgICByZXQgPSB0aGlzW2Zyb250XTtcblx0XG5cdCAgICB0aGlzW2Zyb250XSA9IHVuZGVmaW5lZDtcblx0ICAgIHRoaXMuX2Zyb250ID0gKGZyb250ICsgMSkgJiAodGhpcy5fY2FwYWNpdHkgLSAxKTtcblx0ICAgIHRoaXMuX2xlbmd0aC0tO1xuXHQgICAgcmV0dXJuIHJldDtcblx0fTtcblx0XG5cdFF1ZXVlLnByb3RvdHlwZS5sZW5ndGggPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fbGVuZ3RoO1xuXHR9O1xuXHRcblx0UXVldWUucHJvdG90eXBlLl9jaGVja0NhcGFjaXR5ID0gZnVuY3Rpb24gKHNpemUpIHtcblx0ICAgIGlmICh0aGlzLl9jYXBhY2l0eSA8IHNpemUpIHtcblx0ICAgICAgICB0aGlzLl9yZXNpemVUbyh0aGlzLl9jYXBhY2l0eSA8PCAxKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdFF1ZXVlLnByb3RvdHlwZS5fcmVzaXplVG8gPSBmdW5jdGlvbiAoY2FwYWNpdHkpIHtcblx0ICAgIHZhciBvbGRDYXBhY2l0eSA9IHRoaXMuX2NhcGFjaXR5O1xuXHQgICAgdGhpcy5fY2FwYWNpdHkgPSBjYXBhY2l0eTtcblx0ICAgIHZhciBmcm9udCA9IHRoaXMuX2Zyb250O1xuXHQgICAgdmFyIGxlbmd0aCA9IHRoaXMuX2xlbmd0aDtcblx0ICAgIHZhciBtb3ZlSXRlbXNDb3VudCA9IChmcm9udCArIGxlbmd0aCkgJiAob2xkQ2FwYWNpdHkgLSAxKTtcblx0ICAgIGFycmF5TW92ZSh0aGlzLCAwLCB0aGlzLCBvbGRDYXBhY2l0eSwgbW92ZUl0ZW1zQ291bnQpO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBRdWV1ZTtcblx0XG5cdH0se31dLDI3OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oXG5cdCAgICBQcm9taXNlLCBJTlRFUk5BTCwgdHJ5Q29udmVydFRvUHJvbWlzZSwgYXBpUmVqZWN0aW9uKSB7XG5cdHZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcblx0XG5cdHZhciByYWNlTGF0ZXIgPSBmdW5jdGlvbiAocHJvbWlzZSkge1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbihhcnJheSkge1xuXHQgICAgICAgIHJldHVybiByYWNlKGFycmF5LCBwcm9taXNlKTtcblx0ICAgIH0pO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gcmFjZShwcm9taXNlcywgcGFyZW50KSB7XG5cdCAgICB2YXIgbWF5YmVQcm9taXNlID0gdHJ5Q29udmVydFRvUHJvbWlzZShwcm9taXNlcyk7XG5cdFxuXHQgICAgaWYgKG1heWJlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcblx0ICAgICAgICByZXR1cm4gcmFjZUxhdGVyKG1heWJlUHJvbWlzZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHByb21pc2VzID0gdXRpbC5hc0FycmF5KHByb21pc2VzKTtcblx0ICAgICAgICBpZiAocHJvbWlzZXMgPT09IG51bGwpXG5cdCAgICAgICAgICAgIHJldHVybiBhcGlSZWplY3Rpb24oXCJleHBlY3RpbmcgYW4gYXJyYXkgb3IgYW4gaXRlcmFibGUgb2JqZWN0IGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKHByb21pc2VzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHJldCA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcblx0ICAgIGlmIChwYXJlbnQgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHJldC5fcHJvcGFnYXRlRnJvbShwYXJlbnQsIDMpO1xuXHQgICAgfVxuXHQgICAgdmFyIGZ1bGZpbGwgPSByZXQuX2Z1bGZpbGw7XG5cdCAgICB2YXIgcmVqZWN0ID0gcmV0Ll9yZWplY3Q7XG5cdCAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcHJvbWlzZXMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcblx0ICAgICAgICB2YXIgdmFsID0gcHJvbWlzZXNbaV07XG5cdFxuXHQgICAgICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCAmJiAhKGkgaW4gcHJvbWlzZXMpKSB7XG5cdCAgICAgICAgICAgIGNvbnRpbnVlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgUHJvbWlzZS5jYXN0KHZhbCkuX3RoZW4oZnVsZmlsbCwgcmVqZWN0LCB1bmRlZmluZWQsIHJldCwgbnVsbCk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmV0O1xuXHR9XG5cdFxuXHRQcm9taXNlLnJhY2UgPSBmdW5jdGlvbiAocHJvbWlzZXMpIHtcblx0ICAgIHJldHVybiByYWNlKHByb21pc2VzLCB1bmRlZmluZWQpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUucmFjZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiByYWNlKHRoaXMsIHVuZGVmaW5lZCk7XG5cdH07XG5cdFxuXHR9O1xuXHRcblx0fSx7XCIuL3V0aWxcIjozNn1dLDI4OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9taXNlQXJyYXksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpUmVqZWN0aW9uLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeUNvbnZlcnRUb1Byb21pc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgSU5URVJOQUwsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcpIHtcblx0dmFyIGdldERvbWFpbiA9IFByb21pc2UuX2dldERvbWFpbjtcblx0dmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXHR2YXIgdHJ5Q2F0Y2ggPSB1dGlsLnRyeUNhdGNoO1xuXHRcblx0ZnVuY3Rpb24gUmVkdWN0aW9uUHJvbWlzZUFycmF5KHByb21pc2VzLCBmbiwgaW5pdGlhbFZhbHVlLCBfZWFjaCkge1xuXHQgICAgdGhpcy5jb25zdHJ1Y3RvciQocHJvbWlzZXMpO1xuXHQgICAgdmFyIGRvbWFpbiA9IGdldERvbWFpbigpO1xuXHQgICAgdGhpcy5fZm4gPSBkb21haW4gPT09IG51bGwgPyBmbiA6IHV0aWwuZG9tYWluQmluZChkb21haW4sIGZuKTtcblx0ICAgIGlmIChpbml0aWFsVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIGluaXRpYWxWYWx1ZSA9IFByb21pc2UucmVzb2x2ZShpbml0aWFsVmFsdWUpO1xuXHQgICAgICAgIGluaXRpYWxWYWx1ZS5fYXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2sodGhpcyk7XG5cdCAgICB9XG5cdCAgICB0aGlzLl9pbml0aWFsVmFsdWUgPSBpbml0aWFsVmFsdWU7XG5cdCAgICB0aGlzLl9jdXJyZW50Q2FuY2VsbGFibGUgPSBudWxsO1xuXHQgICAgaWYoX2VhY2ggPT09IElOVEVSTkFMKSB7XG5cdCAgICAgICAgdGhpcy5fZWFjaFZhbHVlcyA9IEFycmF5KHRoaXMuX2xlbmd0aCk7XG5cdCAgICB9IGVsc2UgaWYgKF9lYWNoID09PSAwKSB7XG5cdCAgICAgICAgdGhpcy5fZWFjaFZhbHVlcyA9IG51bGw7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuX2VhY2hWYWx1ZXMgPSB1bmRlZmluZWQ7XG5cdCAgICB9XG5cdCAgICB0aGlzLl9wcm9taXNlLl9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuXHQgICAgdGhpcy5faW5pdCQodW5kZWZpbmVkLCAtNSk7XG5cdH1cblx0dXRpbC5pbmhlcml0cyhSZWR1Y3Rpb25Qcm9taXNlQXJyYXksIFByb21pc2VBcnJheSk7XG5cdFxuXHRSZWR1Y3Rpb25Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9nb3RBY2N1bSA9IGZ1bmN0aW9uKGFjY3VtKSB7XG5cdCAgICBpZiAodGhpcy5fZWFjaFZhbHVlcyAhPT0gdW5kZWZpbmVkICYmIFxuXHQgICAgICAgIHRoaXMuX2VhY2hWYWx1ZXMgIT09IG51bGwgJiYgXG5cdCAgICAgICAgYWNjdW0gIT09IElOVEVSTkFMKSB7XG5cdCAgICAgICAgdGhpcy5fZWFjaFZhbHVlcy5wdXNoKGFjY3VtKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdFJlZHVjdGlvblByb21pc2VBcnJheS5wcm90b3R5cGUuX2VhY2hDb21wbGV0ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICBpZiAodGhpcy5fZWFjaFZhbHVlcyAhPT0gbnVsbCkge1xuXHQgICAgICAgIHRoaXMuX2VhY2hWYWx1ZXMucHVzaCh2YWx1ZSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdGhpcy5fZWFjaFZhbHVlcztcblx0fTtcblx0XG5cdFJlZHVjdGlvblByb21pc2VBcnJheS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbigpIHt9O1xuXHRcblx0UmVkdWN0aW9uUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcmVzb2x2ZUVtcHR5QXJyYXkgPSBmdW5jdGlvbigpIHtcblx0ICAgIHRoaXMuX3Jlc29sdmUodGhpcy5fZWFjaFZhbHVlcyAhPT0gdW5kZWZpbmVkID8gdGhpcy5fZWFjaFZhbHVlc1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLl9pbml0aWFsVmFsdWUpO1xuXHR9O1xuXHRcblx0UmVkdWN0aW9uUHJvbWlzZUFycmF5LnByb3RvdHlwZS5zaG91bGRDb3B5VmFsdWVzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHR9O1xuXHRcblx0UmVkdWN0aW9uUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcmVzb2x2ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICB0aGlzLl9wcm9taXNlLl9yZXNvbHZlQ2FsbGJhY2sodmFsdWUpO1xuXHQgICAgdGhpcy5fdmFsdWVzID0gbnVsbDtcblx0fTtcblx0XG5cdFJlZHVjdGlvblByb21pc2VBcnJheS5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZCA9IGZ1bmN0aW9uKHNlbmRlcikge1xuXHQgICAgaWYgKHNlbmRlciA9PT0gdGhpcy5faW5pdGlhbFZhbHVlKSByZXR1cm4gdGhpcy5fY2FuY2VsKCk7XG5cdCAgICBpZiAodGhpcy5faXNSZXNvbHZlZCgpKSByZXR1cm47XG5cdCAgICB0aGlzLl9yZXN1bHRDYW5jZWxsZWQkKCk7XG5cdCAgICBpZiAodGhpcy5fY3VycmVudENhbmNlbGxhYmxlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuXHQgICAgICAgIHRoaXMuX2N1cnJlbnRDYW5jZWxsYWJsZS5jYW5jZWwoKTtcblx0ICAgIH1cblx0ICAgIGlmICh0aGlzLl9pbml0aWFsVmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG5cdCAgICAgICAgdGhpcy5faW5pdGlhbFZhbHVlLmNhbmNlbCgpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0UmVkdWN0aW9uUHJvbWlzZUFycmF5LnByb3RvdHlwZS5faXRlcmF0ZSA9IGZ1bmN0aW9uICh2YWx1ZXMpIHtcblx0ICAgIHRoaXMuX3ZhbHVlcyA9IHZhbHVlcztcblx0ICAgIHZhciB2YWx1ZTtcblx0ICAgIHZhciBpO1xuXHQgICAgdmFyIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGg7XG5cdCAgICBpZiAodGhpcy5faW5pdGlhbFZhbHVlICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YWx1ZSA9IHRoaXMuX2luaXRpYWxWYWx1ZTtcblx0ICAgICAgICBpID0gMDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFsdWUgPSBQcm9taXNlLnJlc29sdmUodmFsdWVzWzBdKTtcblx0ICAgICAgICBpID0gMTtcblx0ICAgIH1cblx0XG5cdCAgICB0aGlzLl9jdXJyZW50Q2FuY2VsbGFibGUgPSB2YWx1ZTtcblx0XG5cdCAgICBpZiAoIXZhbHVlLmlzUmVqZWN0ZWQoKSkge1xuXHQgICAgICAgIGZvciAoOyBpIDwgbGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICAgICAgdmFyIGN0eCA9IHtcblx0ICAgICAgICAgICAgICAgIGFjY3VtOiBudWxsLFxuXHQgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlc1tpXSxcblx0ICAgICAgICAgICAgICAgIGluZGV4OiBpLFxuXHQgICAgICAgICAgICAgICAgbGVuZ3RoOiBsZW5ndGgsXG5cdCAgICAgICAgICAgICAgICBhcnJheTogdGhpc1xuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLl90aGVuKGdvdEFjY3VtLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgY3R4LCB1bmRlZmluZWQpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAodGhpcy5fZWFjaFZhbHVlcyAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFsdWUgPSB2YWx1ZVxuXHQgICAgICAgICAgICAuX3RoZW4odGhpcy5fZWFjaENvbXBsZXRlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdGhpcywgdW5kZWZpbmVkKTtcblx0ICAgIH1cblx0ICAgIHZhbHVlLl90aGVuKGNvbXBsZXRlZCwgY29tcGxldGVkLCB1bmRlZmluZWQsIHZhbHVlLCB0aGlzKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLnJlZHVjZSA9IGZ1bmN0aW9uIChmbiwgaW5pdGlhbFZhbHVlKSB7XG5cdCAgICByZXR1cm4gcmVkdWNlKHRoaXMsIGZuLCBpbml0aWFsVmFsdWUsIG51bGwpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5yZWR1Y2UgPSBmdW5jdGlvbiAocHJvbWlzZXMsIGZuLCBpbml0aWFsVmFsdWUsIF9lYWNoKSB7XG5cdCAgICByZXR1cm4gcmVkdWNlKHByb21pc2VzLCBmbiwgaW5pdGlhbFZhbHVlLCBfZWFjaCk7XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBjb21wbGV0ZWQodmFsdWVPclJlYXNvbiwgYXJyYXkpIHtcblx0ICAgIGlmICh0aGlzLmlzRnVsZmlsbGVkKCkpIHtcblx0ICAgICAgICBhcnJheS5fcmVzb2x2ZSh2YWx1ZU9yUmVhc29uKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgYXJyYXkuX3JlamVjdCh2YWx1ZU9yUmVhc29uKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVkdWNlKHByb21pc2VzLCBmbiwgaW5pdGlhbFZhbHVlLCBfZWFjaCkge1xuXHQgICAgaWYgKHR5cGVvZiBmbiAhPT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgcmV0dXJuIGFwaVJlamVjdGlvbihcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKGZuKSk7XG5cdCAgICB9XG5cdCAgICB2YXIgYXJyYXkgPSBuZXcgUmVkdWN0aW9uUHJvbWlzZUFycmF5KHByb21pc2VzLCBmbiwgaW5pdGlhbFZhbHVlLCBfZWFjaCk7XG5cdCAgICByZXR1cm4gYXJyYXkucHJvbWlzZSgpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnb3RBY2N1bShhY2N1bSkge1xuXHQgICAgdGhpcy5hY2N1bSA9IGFjY3VtO1xuXHQgICAgdGhpcy5hcnJheS5fZ290QWNjdW0oYWNjdW0pO1xuXHQgICAgdmFyIHZhbHVlID0gdHJ5Q29udmVydFRvUHJvbWlzZSh0aGlzLnZhbHVlLCB0aGlzLmFycmF5Ll9wcm9taXNlKTtcblx0ICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcblx0ICAgICAgICB0aGlzLmFycmF5Ll9jdXJyZW50Q2FuY2VsbGFibGUgPSB2YWx1ZTtcblx0ICAgICAgICByZXR1cm4gdmFsdWUuX3RoZW4oZ290VmFsdWUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0aGlzLCB1bmRlZmluZWQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gZ290VmFsdWUuY2FsbCh0aGlzLCB2YWx1ZSk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdvdFZhbHVlKHZhbHVlKSB7XG5cdCAgICB2YXIgYXJyYXkgPSB0aGlzLmFycmF5O1xuXHQgICAgdmFyIHByb21pc2UgPSBhcnJheS5fcHJvbWlzZTtcblx0ICAgIHZhciBmbiA9IHRyeUNhdGNoKGFycmF5Ll9mbik7XG5cdCAgICBwcm9taXNlLl9wdXNoQ29udGV4dCgpO1xuXHQgICAgdmFyIHJldDtcblx0ICAgIGlmIChhcnJheS5fZWFjaFZhbHVlcyAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgcmV0ID0gZm4uY2FsbChwcm9taXNlLl9ib3VuZFZhbHVlKCksIHZhbHVlLCB0aGlzLmluZGV4LCB0aGlzLmxlbmd0aCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldCA9IGZuLmNhbGwocHJvbWlzZS5fYm91bmRWYWx1ZSgpLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjY3VtLCB2YWx1ZSwgdGhpcy5pbmRleCwgdGhpcy5sZW5ndGgpO1xuXHQgICAgfVxuXHQgICAgaWYgKHJldCBpbnN0YW5jZW9mIFByb21pc2UpIHtcblx0ICAgICAgICBhcnJheS5fY3VycmVudENhbmNlbGxhYmxlID0gcmV0O1xuXHQgICAgfVxuXHQgICAgdmFyIHByb21pc2VDcmVhdGVkID0gcHJvbWlzZS5fcG9wQ29udGV4dCgpO1xuXHQgICAgZGVidWcuY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zKFxuXHQgICAgICAgIHJldCxcblx0ICAgICAgICBwcm9taXNlQ3JlYXRlZCxcblx0ICAgICAgICBhcnJheS5fZWFjaFZhbHVlcyAhPT0gdW5kZWZpbmVkID8gXCJQcm9taXNlLmVhY2hcIiA6IFwiUHJvbWlzZS5yZWR1Y2VcIixcblx0ICAgICAgICBwcm9taXNlXG5cdCAgICApO1xuXHQgICAgcmV0dXJuIHJldDtcblx0fVxuXHR9O1xuXHRcblx0fSx7XCIuL3V0aWxcIjozNn1dLDI5OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcblx0dmFyIHNjaGVkdWxlO1xuXHR2YXIgbm9Bc3luY1NjaGVkdWxlciA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYXN5bmMgc2NoZWR1bGVyIGF2YWlsYWJsZVxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG5cdH07XG5cdHZhciBOYXRpdmVQcm9taXNlID0gdXRpbC5nZXROYXRpdmVQcm9taXNlKCk7XG5cdGlmICh1dGlsLmlzTm9kZSAmJiB0eXBlb2YgTXV0YXRpb25PYnNlcnZlciA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHQgICAgdmFyIEdsb2JhbFNldEltbWVkaWF0ZSA9IGdsb2JhbC5zZXRJbW1lZGlhdGU7XG5cdCAgICB2YXIgUHJvY2Vzc05leHRUaWNrID0gcHJvY2Vzcy5uZXh0VGljaztcblx0ICAgIHNjaGVkdWxlID0gdXRpbC5pc1JlY2VudE5vZGVcblx0ICAgICAgICAgICAgICAgID8gZnVuY3Rpb24oZm4pIHsgR2xvYmFsU2V0SW1tZWRpYXRlLmNhbGwoZ2xvYmFsLCBmbik7IH1cblx0ICAgICAgICAgICAgICAgIDogZnVuY3Rpb24oZm4pIHsgUHJvY2Vzc05leHRUaWNrLmNhbGwocHJvY2VzcywgZm4pOyB9O1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBOYXRpdmVQcm9taXNlID09PSBcImZ1bmN0aW9uXCIgJiZcblx0ICAgICAgICAgICB0eXBlb2YgTmF0aXZlUHJvbWlzZS5yZXNvbHZlID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgIHZhciBuYXRpdmVQcm9taXNlID0gTmF0aXZlUHJvbWlzZS5yZXNvbHZlKCk7XG5cdCAgICBzY2hlZHVsZSA9IGZ1bmN0aW9uKGZuKSB7XG5cdCAgICAgICAgbmF0aXZlUHJvbWlzZS50aGVuKGZuKTtcblx0ICAgIH07XG5cdH0gZWxzZSBpZiAoKHR5cGVvZiBNdXRhdGlvbk9ic2VydmVyICE9PSBcInVuZGVmaW5lZFwiKSAmJlxuXHQgICAgICAgICAgISh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmXG5cdCAgICAgICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IgJiZcblx0ICAgICAgICAgICAgKHdpbmRvdy5uYXZpZ2F0b3Iuc3RhbmRhbG9uZSB8fCB3aW5kb3cuY29yZG92YSkpKSB7XG5cdCAgICBzY2hlZHVsZSA9IChmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0ICAgICAgICB2YXIgb3B0cyA9IHthdHRyaWJ1dGVzOiB0cnVlfTtcblx0ICAgICAgICB2YXIgdG9nZ2xlU2NoZWR1bGVkID0gZmFsc2U7XG5cdCAgICAgICAgdmFyIGRpdjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHQgICAgICAgIHZhciBvMiA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICBkaXYuY2xhc3NMaXN0LnRvZ2dsZShcImZvb1wiKTtcblx0ICAgICAgICAgICAgdG9nZ2xlU2NoZWR1bGVkID0gZmFsc2U7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgbzIub2JzZXJ2ZShkaXYyLCBvcHRzKTtcblx0XG5cdCAgICAgICAgdmFyIHNjaGVkdWxlVG9nZ2xlID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIGlmICh0b2dnbGVTY2hlZHVsZWQpIHJldHVybjtcblx0ICAgICAgICAgICAgICAgIHRvZ2dsZVNjaGVkdWxlZCA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICBkaXYyLmNsYXNzTGlzdC50b2dnbGUoXCJmb29cIik7XG5cdCAgICAgICAgICAgIH07XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gc2NoZWR1bGUoZm4pIHtcblx0ICAgICAgICAgICAgdmFyIG8gPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgIG8uZGlzY29ubmVjdCgpO1xuXHQgICAgICAgICAgICAgICAgZm4oKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIG8ub2JzZXJ2ZShkaXYsIG9wdHMpO1xuXHQgICAgICAgICAgICBzY2hlZHVsZVRvZ2dsZSgpO1xuXHQgICAgICAgIH07XG5cdCAgICB9KSgpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBzZXRJbW1lZGlhdGUgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0ICAgIHNjaGVkdWxlID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgICAgICAgc2V0SW1tZWRpYXRlKGZuKTtcblx0ICAgIH07XG5cdH0gZWxzZSBpZiAodHlwZW9mIHNldFRpbWVvdXQgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0ICAgIHNjaGVkdWxlID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgICAgICAgc2V0VGltZW91dChmbiwgMCk7XG5cdCAgICB9O1xuXHR9IGVsc2Uge1xuXHQgICAgc2NoZWR1bGUgPSBub0FzeW5jU2NoZWR1bGVyO1xuXHR9XG5cdG1vZHVsZS5leHBvcnRzID0gc2NoZWR1bGU7XG5cdFxuXHR9LHtcIi4vdXRpbFwiOjM2fV0sMzA6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0bW9kdWxlLmV4cG9ydHMgPVxuXHQgICAgZnVuY3Rpb24oUHJvbWlzZSwgUHJvbWlzZUFycmF5LCBkZWJ1Zykge1xuXHR2YXIgUHJvbWlzZUluc3BlY3Rpb24gPSBQcm9taXNlLlByb21pc2VJbnNwZWN0aW9uO1xuXHR2YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cdFxuXHRmdW5jdGlvbiBTZXR0bGVkUHJvbWlzZUFycmF5KHZhbHVlcykge1xuXHQgICAgdGhpcy5jb25zdHJ1Y3RvciQodmFsdWVzKTtcblx0fVxuXHR1dGlsLmluaGVyaXRzKFNldHRsZWRQcm9taXNlQXJyYXksIFByb21pc2VBcnJheSk7XG5cdFxuXHRTZXR0bGVkUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZVJlc29sdmVkID0gZnVuY3Rpb24gKGluZGV4LCBpbnNwZWN0aW9uKSB7XG5cdCAgICB0aGlzLl92YWx1ZXNbaW5kZXhdID0gaW5zcGVjdGlvbjtcblx0ICAgIHZhciB0b3RhbFJlc29sdmVkID0gKyt0aGlzLl90b3RhbFJlc29sdmVkO1xuXHQgICAgaWYgKHRvdGFsUmVzb2x2ZWQgPj0gdGhpcy5fbGVuZ3RoKSB7XG5cdCAgICAgICAgdGhpcy5fcmVzb2x2ZSh0aGlzLl92YWx1ZXMpO1xuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHR9O1xuXHRcblx0U2V0dGxlZFByb21pc2VBcnJheS5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQgPSBmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG5cdCAgICB2YXIgcmV0ID0gbmV3IFByb21pc2VJbnNwZWN0aW9uKCk7XG5cdCAgICByZXQuX2JpdEZpZWxkID0gMzM1NTQ0MzI7XG5cdCAgICByZXQuX3NldHRsZWRWYWx1ZUZpZWxkID0gdmFsdWU7XG5cdCAgICByZXR1cm4gdGhpcy5fcHJvbWlzZVJlc29sdmVkKGluZGV4LCByZXQpO1xuXHR9O1xuXHRTZXR0bGVkUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZVJlamVjdGVkID0gZnVuY3Rpb24gKHJlYXNvbiwgaW5kZXgpIHtcblx0ICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZUluc3BlY3Rpb24oKTtcblx0ICAgIHJldC5fYml0RmllbGQgPSAxNjc3NzIxNjtcblx0ICAgIHJldC5fc2V0dGxlZFZhbHVlRmllbGQgPSByZWFzb247XG5cdCAgICByZXR1cm4gdGhpcy5fcHJvbWlzZVJlc29sdmVkKGluZGV4LCByZXQpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5zZXR0bGUgPSBmdW5jdGlvbiAocHJvbWlzZXMpIHtcblx0ICAgIGRlYnVnLmRlcHJlY2F0ZWQoXCIuc2V0dGxlKClcIiwgXCIucmVmbGVjdCgpXCIpO1xuXHQgICAgcmV0dXJuIG5ldyBTZXR0bGVkUHJvbWlzZUFycmF5KHByb21pc2VzKS5wcm9taXNlKCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5zZXR0bGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gUHJvbWlzZS5zZXR0bGUodGhpcyk7XG5cdH07XG5cdH07XG5cdFxuXHR9LHtcIi4vdXRpbFwiOjM2fV0sMzE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0bW9kdWxlLmV4cG9ydHMgPVxuXHRmdW5jdGlvbihQcm9taXNlLCBQcm9taXNlQXJyYXksIGFwaVJlamVjdGlvbikge1xuXHR2YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cdHZhciBSYW5nZUVycm9yID0gX2RlcmVxXyhcIi4vZXJyb3JzXCIpLlJhbmdlRXJyb3I7XG5cdHZhciBBZ2dyZWdhdGVFcnJvciA9IF9kZXJlcV8oXCIuL2Vycm9yc1wiKS5BZ2dyZWdhdGVFcnJvcjtcblx0dmFyIGlzQXJyYXkgPSB1dGlsLmlzQXJyYXk7XG5cdHZhciBDQU5DRUxMQVRJT04gPSB7fTtcblx0XG5cdFxuXHRmdW5jdGlvbiBTb21lUHJvbWlzZUFycmF5KHZhbHVlcykge1xuXHQgICAgdGhpcy5jb25zdHJ1Y3RvciQodmFsdWVzKTtcblx0ICAgIHRoaXMuX2hvd01hbnkgPSAwO1xuXHQgICAgdGhpcy5fdW53cmFwID0gZmFsc2U7XG5cdCAgICB0aGlzLl9pbml0aWFsaXplZCA9IGZhbHNlO1xuXHR9XG5cdHV0aWwuaW5oZXJpdHMoU29tZVByb21pc2VBcnJheSwgUHJvbWlzZUFycmF5KTtcblx0XG5cdFNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKCF0aGlzLl9pbml0aWFsaXplZCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIGlmICh0aGlzLl9ob3dNYW55ID09PSAwKSB7XG5cdCAgICAgICAgdGhpcy5fcmVzb2x2ZShbXSk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdGhpcy5faW5pdCQodW5kZWZpbmVkLCAtNSk7XG5cdCAgICB2YXIgaXNBcnJheVJlc29sdmVkID0gaXNBcnJheSh0aGlzLl92YWx1ZXMpO1xuXHQgICAgaWYgKCF0aGlzLl9pc1Jlc29sdmVkKCkgJiZcblx0ICAgICAgICBpc0FycmF5UmVzb2x2ZWQgJiZcblx0ICAgICAgICB0aGlzLl9ob3dNYW55ID4gdGhpcy5fY2FuUG9zc2libHlGdWxmaWxsKCkpIHtcblx0ICAgICAgICB0aGlzLl9yZWplY3QodGhpcy5fZ2V0UmFuZ2VFcnJvcih0aGlzLmxlbmd0aCgpKSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRTb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0cnVlO1xuXHQgICAgdGhpcy5faW5pdCgpO1xuXHR9O1xuXHRcblx0U29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuc2V0VW53cmFwID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5fdW53cmFwID0gdHJ1ZTtcblx0fTtcblx0XG5cdFNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLmhvd01hbnkgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5faG93TWFueTtcblx0fTtcblx0XG5cdFNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLnNldEhvd01hbnkgPSBmdW5jdGlvbiAoY291bnQpIHtcblx0ICAgIHRoaXMuX2hvd01hbnkgPSBjb3VudDtcblx0fTtcblx0XG5cdFNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9wcm9taXNlRnVsZmlsbGVkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICB0aGlzLl9hZGRGdWxmaWxsZWQodmFsdWUpO1xuXHQgICAgaWYgKHRoaXMuX2Z1bGZpbGxlZCgpID09PSB0aGlzLmhvd01hbnkoKSkge1xuXHQgICAgICAgIHRoaXMuX3ZhbHVlcy5sZW5ndGggPSB0aGlzLmhvd01hbnkoKTtcblx0ICAgICAgICBpZiAodGhpcy5ob3dNYW55KCkgPT09IDEgJiYgdGhpcy5fdW53cmFwKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUodGhpcy5fdmFsdWVzWzBdKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB0aGlzLl9yZXNvbHZlKHRoaXMuX3ZhbHVlcyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHRcblx0fTtcblx0U29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuX3Byb21pc2VSZWplY3RlZCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcblx0ICAgIHRoaXMuX2FkZFJlamVjdGVkKHJlYXNvbik7XG5cdCAgICByZXR1cm4gdGhpcy5fY2hlY2tPdXRjb21lKCk7XG5cdH07XG5cdFxuXHRTb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZUNhbmNlbGxlZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICh0aGlzLl92YWx1ZXMgaW5zdGFuY2VvZiBQcm9taXNlIHx8IHRoaXMuX3ZhbHVlcyA9PSBudWxsKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX2NhbmNlbCgpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5fYWRkUmVqZWN0ZWQoQ0FOQ0VMTEFUSU9OKTtcblx0ICAgIHJldHVybiB0aGlzLl9jaGVja091dGNvbWUoKTtcblx0fTtcblx0XG5cdFNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9jaGVja091dGNvbWUgPSBmdW5jdGlvbigpIHtcblx0ICAgIGlmICh0aGlzLmhvd01hbnkoKSA+IHRoaXMuX2NhblBvc3NpYmx5RnVsZmlsbCgpKSB7XG5cdCAgICAgICAgdmFyIGUgPSBuZXcgQWdncmVnYXRlRXJyb3IoKTtcblx0ICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5sZW5ndGgoKTsgaSA8IHRoaXMuX3ZhbHVlcy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgICAgICBpZiAodGhpcy5fdmFsdWVzW2ldICE9PSBDQU5DRUxMQVRJT04pIHtcblx0ICAgICAgICAgICAgICAgIGUucHVzaCh0aGlzLl92YWx1ZXNbaV0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChlLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgdGhpcy5fcmVqZWN0KGUpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHRoaXMuX2NhbmNlbCgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBmYWxzZTtcblx0fTtcblx0XG5cdFNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9mdWxmaWxsZWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fdG90YWxSZXNvbHZlZDtcblx0fTtcblx0XG5cdFNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9yZWplY3RlZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLl92YWx1ZXMubGVuZ3RoIC0gdGhpcy5sZW5ndGgoKTtcblx0fTtcblx0XG5cdFNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9hZGRSZWplY3RlZCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcblx0ICAgIHRoaXMuX3ZhbHVlcy5wdXNoKHJlYXNvbik7XG5cdH07XG5cdFxuXHRTb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fYWRkRnVsZmlsbGVkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICB0aGlzLl92YWx1ZXNbdGhpcy5fdG90YWxSZXNvbHZlZCsrXSA9IHZhbHVlO1xuXHR9O1xuXHRcblx0U29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuX2NhblBvc3NpYmx5RnVsZmlsbCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLmxlbmd0aCgpIC0gdGhpcy5fcmVqZWN0ZWQoKTtcblx0fTtcblx0XG5cdFNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9nZXRSYW5nZUVycm9yID0gZnVuY3Rpb24gKGNvdW50KSB7XG5cdCAgICB2YXIgbWVzc2FnZSA9IFwiSW5wdXQgYXJyYXkgbXVzdCBjb250YWluIGF0IGxlYXN0IFwiICtcblx0ICAgICAgICAgICAgdGhpcy5faG93TWFueSArIFwiIGl0ZW1zIGJ1dCBjb250YWlucyBvbmx5IFwiICsgY291bnQgKyBcIiBpdGVtc1wiO1xuXHQgICAgcmV0dXJuIG5ldyBSYW5nZUVycm9yKG1lc3NhZ2UpO1xuXHR9O1xuXHRcblx0U29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuX3Jlc29sdmVFbXB0eUFycmF5ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5fcmVqZWN0KHRoaXMuX2dldFJhbmdlRXJyb3IoMCkpO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gc29tZShwcm9taXNlcywgaG93TWFueSkge1xuXHQgICAgaWYgKChob3dNYW55IHwgMCkgIT09IGhvd01hbnkgfHwgaG93TWFueSA8IDApIHtcblx0ICAgICAgICByZXR1cm4gYXBpUmVqZWN0aW9uKFwiZXhwZWN0aW5nIGEgcG9zaXRpdmUgaW50ZWdlclxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG5cdCAgICB9XG5cdCAgICB2YXIgcmV0ID0gbmV3IFNvbWVQcm9taXNlQXJyYXkocHJvbWlzZXMpO1xuXHQgICAgdmFyIHByb21pc2UgPSByZXQucHJvbWlzZSgpO1xuXHQgICAgcmV0LnNldEhvd01hbnkoaG93TWFueSk7XG5cdCAgICByZXQuaW5pdCgpO1xuXHQgICAgcmV0dXJuIHByb21pc2U7XG5cdH1cblx0XG5cdFByb21pc2Uuc29tZSA9IGZ1bmN0aW9uIChwcm9taXNlcywgaG93TWFueSkge1xuXHQgICAgcmV0dXJuIHNvbWUocHJvbWlzZXMsIGhvd01hbnkpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuc29tZSA9IGZ1bmN0aW9uIChob3dNYW55KSB7XG5cdCAgICByZXR1cm4gc29tZSh0aGlzLCBob3dNYW55KTtcblx0fTtcblx0XG5cdFByb21pc2UuX1NvbWVQcm9taXNlQXJyYXkgPSBTb21lUHJvbWlzZUFycmF5O1xuXHR9O1xuXHRcblx0fSx7XCIuL2Vycm9yc1wiOjEyLFwiLi91dGlsXCI6MzZ9XSwzMjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UpIHtcblx0ZnVuY3Rpb24gUHJvbWlzZUluc3BlY3Rpb24ocHJvbWlzZSkge1xuXHQgICAgaWYgKHByb21pc2UgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHByb21pc2UgPSBwcm9taXNlLl90YXJnZXQoKTtcblx0ICAgICAgICB0aGlzLl9iaXRGaWVsZCA9IHByb21pc2UuX2JpdEZpZWxkO1xuXHQgICAgICAgIHRoaXMuX3NldHRsZWRWYWx1ZUZpZWxkID0gcHJvbWlzZS5faXNGYXRlU2VhbGVkKClcblx0ICAgICAgICAgICAgPyBwcm9taXNlLl9zZXR0bGVkVmFsdWUoKSA6IHVuZGVmaW5lZDtcblx0ICAgIH1cblx0ICAgIGVsc2Uge1xuXHQgICAgICAgIHRoaXMuX2JpdEZpZWxkID0gMDtcblx0ICAgICAgICB0aGlzLl9zZXR0bGVkVmFsdWVGaWVsZCA9IHVuZGVmaW5lZDtcblx0ICAgIH1cblx0fVxuXHRcblx0UHJvbWlzZUluc3BlY3Rpb24ucHJvdG90eXBlLl9zZXR0bGVkVmFsdWUgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiB0aGlzLl9zZXR0bGVkVmFsdWVGaWVsZDtcblx0fTtcblx0XG5cdHZhciB2YWx1ZSA9IFByb21pc2VJbnNwZWN0aW9uLnByb3RvdHlwZS52YWx1ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICghdGhpcy5pc0Z1bGZpbGxlZCgpKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImNhbm5vdCBnZXQgZnVsZmlsbG1lbnQgdmFsdWUgb2YgYSBub24tZnVsZmlsbGVkIHByb21pc2VcXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXMuX3NldHRsZWRWYWx1ZSgpO1xuXHR9O1xuXHRcblx0dmFyIHJlYXNvbiA9IFByb21pc2VJbnNwZWN0aW9uLnByb3RvdHlwZS5lcnJvciA9XG5cdFByb21pc2VJbnNwZWN0aW9uLnByb3RvdHlwZS5yZWFzb24gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAoIXRoaXMuaXNSZWplY3RlZCgpKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImNhbm5vdCBnZXQgcmVqZWN0aW9uIHJlYXNvbiBvZiBhIG5vbi1yZWplY3RlZCBwcm9taXNlXFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB0aGlzLl9zZXR0bGVkVmFsdWUoKTtcblx0fTtcblx0XG5cdHZhciBpc0Z1bGZpbGxlZCA9IFByb21pc2VJbnNwZWN0aW9uLnByb3RvdHlwZS5pc0Z1bGZpbGxlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMDtcblx0fTtcblx0XG5cdHZhciBpc1JlamVjdGVkID0gUHJvbWlzZUluc3BlY3Rpb24ucHJvdG90eXBlLmlzUmVqZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgMTY3NzcyMTYpICE9PSAwO1xuXHR9O1xuXHRcblx0dmFyIGlzUGVuZGluZyA9IFByb21pc2VJbnNwZWN0aW9uLnByb3RvdHlwZS5pc1BlbmRpbmcgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgNTAzOTcxODQpID09PSAwO1xuXHR9O1xuXHRcblx0dmFyIGlzUmVzb2x2ZWQgPSBQcm9taXNlSW5zcGVjdGlvbi5wcm90b3R5cGUuaXNSZXNvbHZlZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiA1MDMzMTY0OCkgIT09IDA7XG5cdH07XG5cdFxuXHRQcm9taXNlSW5zcGVjdGlvbi5wcm90b3R5cGUuaXNDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiA4NDU0MTQ0KSAhPT0gMDtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9faXNDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiA2NTUzNikgPT09IDY1NTM2O1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2lzQ2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fdGFyZ2V0KCkuX19pc0NhbmNlbGxlZCgpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuaXNDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiAodGhpcy5fdGFyZ2V0KCkuX2JpdEZpZWxkICYgODQ1NDE0NCkgIT09IDA7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5pc1BlbmRpbmcgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiBpc1BlbmRpbmcuY2FsbCh0aGlzLl90YXJnZXQoKSk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5pc1JlamVjdGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gaXNSZWplY3RlZC5jYWxsKHRoaXMuX3RhcmdldCgpKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLmlzRnVsZmlsbGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gaXNGdWxmaWxsZWQuY2FsbCh0aGlzLl90YXJnZXQoKSk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5pc1Jlc29sdmVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gaXNSZXNvbHZlZC5jYWxsKHRoaXMuX3RhcmdldCgpKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLnZhbHVlID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gdmFsdWUuY2FsbCh0aGlzLl90YXJnZXQoKSk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5yZWFzb24gPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciB0YXJnZXQgPSB0aGlzLl90YXJnZXQoKTtcblx0ICAgIHRhcmdldC5fdW5zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZCgpO1xuXHQgICAgcmV0dXJuIHJlYXNvbi5jYWxsKHRhcmdldCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fdmFsdWUgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiB0aGlzLl9zZXR0bGVkVmFsdWUoKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9yZWFzb24gPSBmdW5jdGlvbigpIHtcblx0ICAgIHRoaXMuX3Vuc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQoKTtcblx0ICAgIHJldHVybiB0aGlzLl9zZXR0bGVkVmFsdWUoKTtcblx0fTtcblx0XG5cdFByb21pc2UuUHJvbWlzZUluc3BlY3Rpb24gPSBQcm9taXNlSW5zcGVjdGlvbjtcblx0fTtcblx0XG5cdH0se31dLDMzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSwgSU5URVJOQUwpIHtcblx0dmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXHR2YXIgZXJyb3JPYmogPSB1dGlsLmVycm9yT2JqO1xuXHR2YXIgaXNPYmplY3QgPSB1dGlsLmlzT2JqZWN0O1xuXHRcblx0ZnVuY3Rpb24gdHJ5Q29udmVydFRvUHJvbWlzZShvYmosIGNvbnRleHQpIHtcblx0ICAgIGlmIChpc09iamVjdChvYmopKSB7XG5cdCAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIFByb21pc2UpIHJldHVybiBvYmo7XG5cdCAgICAgICAgdmFyIHRoZW4gPSBnZXRUaGVuKG9iaik7XG5cdCAgICAgICAgaWYgKHRoZW4gPT09IGVycm9yT2JqKSB7XG5cdCAgICAgICAgICAgIGlmIChjb250ZXh0KSBjb250ZXh0Ll9wdXNoQ29udGV4dCgpO1xuXHQgICAgICAgICAgICB2YXIgcmV0ID0gUHJvbWlzZS5yZWplY3QodGhlbi5lKTtcblx0ICAgICAgICAgICAgaWYgKGNvbnRleHQpIGNvbnRleHQuX3BvcENvbnRleHQoKTtcblx0ICAgICAgICAgICAgcmV0dXJuIHJldDtcblx0ICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGVuID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgaWYgKGlzQW55Qmx1ZWJpcmRQcm9taXNlKG9iaikpIHtcblx0ICAgICAgICAgICAgICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG5cdCAgICAgICAgICAgICAgICBvYmouX3RoZW4oXG5cdCAgICAgICAgICAgICAgICAgICAgcmV0Ll9mdWxmaWxsLFxuXHQgICAgICAgICAgICAgICAgICAgIHJldC5fcmVqZWN0LFxuXHQgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcblx0ICAgICAgICAgICAgICAgICAgICByZXQsXG5cdCAgICAgICAgICAgICAgICAgICAgbnVsbFxuXHQgICAgICAgICAgICAgICAgKTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIGRvVGhlbmFibGUob2JqLCB0aGVuLCBjb250ZXh0KTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gb2JqO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBkb0dldFRoZW4ob2JqKSB7XG5cdCAgICByZXR1cm4gb2JqLnRoZW47XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFRoZW4ob2JqKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICAgIHJldHVybiBkb0dldFRoZW4ob2JqKTtcblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICBlcnJvck9iai5lID0gZTtcblx0ICAgICAgICByZXR1cm4gZXJyb3JPYmo7XG5cdCAgICB9XG5cdH1cblx0XG5cdHZhciBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cdGZ1bmN0aW9uIGlzQW55Qmx1ZWJpcmRQcm9taXNlKG9iaikge1xuXHQgICAgdHJ5IHtcblx0ICAgICAgICByZXR1cm4gaGFzUHJvcC5jYWxsKG9iaiwgXCJfcHJvbWlzZTBcIik7XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBkb1RoZW5hYmxlKHgsIHRoZW4sIGNvbnRleHQpIHtcblx0ICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuXHQgICAgdmFyIHJldCA9IHByb21pc2U7XG5cdCAgICBpZiAoY29udGV4dCkgY29udGV4dC5fcHVzaENvbnRleHQoKTtcblx0ICAgIHByb21pc2UuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG5cdCAgICBpZiAoY29udGV4dCkgY29udGV4dC5fcG9wQ29udGV4dCgpO1xuXHQgICAgdmFyIHN5bmNocm9ub3VzID0gdHJ1ZTtcblx0ICAgIHZhciByZXN1bHQgPSB1dGlsLnRyeUNhdGNoKHRoZW4pLmNhbGwoeCwgcmVzb2x2ZSwgcmVqZWN0KTtcblx0ICAgIHN5bmNocm9ub3VzID0gZmFsc2U7XG5cdFxuXHQgICAgaWYgKHByb21pc2UgJiYgcmVzdWx0ID09PSBlcnJvck9iaikge1xuXHQgICAgICAgIHByb21pc2UuX3JlamVjdENhbGxiYWNrKHJlc3VsdC5lLCB0cnVlLCB0cnVlKTtcblx0ICAgICAgICBwcm9taXNlID0gbnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiByZXNvbHZlKHZhbHVlKSB7XG5cdCAgICAgICAgaWYgKCFwcm9taXNlKSByZXR1cm47XG5cdCAgICAgICAgcHJvbWlzZS5fcmVzb2x2ZUNhbGxiYWNrKHZhbHVlKTtcblx0ICAgICAgICBwcm9taXNlID0gbnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiByZWplY3QocmVhc29uKSB7XG5cdCAgICAgICAgaWYgKCFwcm9taXNlKSByZXR1cm47XG5cdCAgICAgICAgcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2socmVhc29uLCBzeW5jaHJvbm91cywgdHJ1ZSk7XG5cdCAgICAgICAgcHJvbWlzZSA9IG51bGw7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmV0O1xuXHR9XG5cdFxuXHRyZXR1cm4gdHJ5Q29udmVydFRvUHJvbWlzZTtcblx0fTtcblx0XG5cdH0se1wiLi91dGlsXCI6MzZ9XSwzNDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIElOVEVSTkFMLCBkZWJ1Zykge1xuXHR2YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cdHZhciBUaW1lb3V0RXJyb3IgPSBQcm9taXNlLlRpbWVvdXRFcnJvcjtcblx0XG5cdGZ1bmN0aW9uIEhhbmRsZVdyYXBwZXIoaGFuZGxlKSAge1xuXHQgICAgdGhpcy5oYW5kbGUgPSBoYW5kbGU7XG5cdH1cblx0XG5cdEhhbmRsZVdyYXBwZXIucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcblx0ICAgIGNsZWFyVGltZW91dCh0aGlzLmhhbmRsZSk7XG5cdH07XG5cdFxuXHR2YXIgYWZ0ZXJWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiBkZWxheSgrdGhpcykudGhlblJldHVybih2YWx1ZSk7IH07XG5cdHZhciBkZWxheSA9IFByb21pc2UuZGVsYXkgPSBmdW5jdGlvbiAobXMsIHZhbHVlKSB7XG5cdCAgICB2YXIgcmV0O1xuXHQgICAgdmFyIGhhbmRsZTtcblx0ICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgcmV0ID0gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKVxuXHQgICAgICAgICAgICAgICAgLl90aGVuKGFmdGVyVmFsdWUsIG51bGwsIG51bGwsIG1zLCB1bmRlZmluZWQpO1xuXHQgICAgICAgIGlmIChkZWJ1Zy5jYW5jZWxsYXRpb24oKSAmJiB2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcblx0ICAgICAgICAgICAgcmV0Ll9zZXRPbkNhbmNlbCh2YWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG5cdCAgICAgICAgaGFuZGxlID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsgcmV0Ll9mdWxmaWxsKCk7IH0sICttcyk7XG5cdCAgICAgICAgaWYgKGRlYnVnLmNhbmNlbGxhdGlvbigpKSB7XG5cdCAgICAgICAgICAgIHJldC5fc2V0T25DYW5jZWwobmV3IEhhbmRsZVdyYXBwZXIoaGFuZGxlKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldC5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcblx0ICAgIH1cblx0ICAgIHJldC5fc2V0QXN5bmNHdWFyYW50ZWVkKCk7XG5cdCAgICByZXR1cm4gcmV0O1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuZGVsYXkgPSBmdW5jdGlvbiAobXMpIHtcblx0ICAgIHJldHVybiBkZWxheShtcywgdGhpcyk7XG5cdH07XG5cdFxuXHR2YXIgYWZ0ZXJUaW1lb3V0ID0gZnVuY3Rpb24gKHByb21pc2UsIG1lc3NhZ2UsIHBhcmVudCkge1xuXHQgICAgdmFyIGVycjtcblx0ICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPT0gXCJzdHJpbmdcIikge1xuXHQgICAgICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0ICAgICAgICAgICAgZXJyID0gbWVzc2FnZTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBlcnIgPSBuZXcgVGltZW91dEVycm9yKFwib3BlcmF0aW9uIHRpbWVkIG91dFwiKTtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGVyciA9IG5ldyBUaW1lb3V0RXJyb3IobWVzc2FnZSk7XG5cdCAgICB9XG5cdCAgICB1dGlsLm1hcmtBc09yaWdpbmF0aW5nRnJvbVJlamVjdGlvbihlcnIpO1xuXHQgICAgcHJvbWlzZS5fYXR0YWNoRXh0cmFUcmFjZShlcnIpO1xuXHQgICAgcHJvbWlzZS5fcmVqZWN0KGVycik7XG5cdFxuXHQgICAgaWYgKHBhcmVudCAhPSBudWxsKSB7XG5cdCAgICAgICAgcGFyZW50LmNhbmNlbCgpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gc3VjY2Vzc0NsZWFyKHZhbHVlKSB7XG5cdCAgICBjbGVhclRpbWVvdXQodGhpcy5oYW5kbGUpO1xuXHQgICAgcmV0dXJuIHZhbHVlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBmYWlsdXJlQ2xlYXIocmVhc29uKSB7XG5cdCAgICBjbGVhclRpbWVvdXQodGhpcy5oYW5kbGUpO1xuXHQgICAgdGhyb3cgcmVhc29uO1xuXHR9XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS50aW1lb3V0ID0gZnVuY3Rpb24gKG1zLCBtZXNzYWdlKSB7XG5cdCAgICBtcyA9ICttcztcblx0ICAgIHZhciByZXQsIHBhcmVudDtcblx0XG5cdCAgICB2YXIgaGFuZGxlV3JhcHBlciA9IG5ldyBIYW5kbGVXcmFwcGVyKHNldFRpbWVvdXQoZnVuY3Rpb24gdGltZW91dFRpbWVvdXQoKSB7XG5cdCAgICAgICAgaWYgKHJldC5pc1BlbmRpbmcoKSkge1xuXHQgICAgICAgICAgICBhZnRlclRpbWVvdXQocmV0LCBtZXNzYWdlLCBwYXJlbnQpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIG1zKSk7XG5cdFxuXHQgICAgaWYgKGRlYnVnLmNhbmNlbGxhdGlvbigpKSB7XG5cdCAgICAgICAgcGFyZW50ID0gdGhpcy50aGVuKCk7XG5cdCAgICAgICAgcmV0ID0gcGFyZW50Ll90aGVuKHN1Y2Nlc3NDbGVhciwgZmFpbHVyZUNsZWFyLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLCBoYW5kbGVXcmFwcGVyLCB1bmRlZmluZWQpO1xuXHQgICAgICAgIHJldC5fc2V0T25DYW5jZWwoaGFuZGxlV3JhcHBlcik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldCA9IHRoaXMuX3RoZW4oc3VjY2Vzc0NsZWFyLCBmYWlsdXJlQ2xlYXIsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsIGhhbmRsZVdyYXBwZXIsIHVuZGVmaW5lZCk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHJldDtcblx0fTtcblx0XG5cdH07XG5cdFxuXHR9LHtcIi4vdXRpbFwiOjM2fV0sMzU6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoUHJvbWlzZSwgYXBpUmVqZWN0aW9uLCB0cnlDb252ZXJ0VG9Qcm9taXNlLFxuXHQgICAgY3JlYXRlQ29udGV4dCwgSU5URVJOQUwsIGRlYnVnKSB7XG5cdCAgICB2YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cdCAgICB2YXIgVHlwZUVycm9yID0gX2RlcmVxXyhcIi4vZXJyb3JzXCIpLlR5cGVFcnJvcjtcblx0ICAgIHZhciBpbmhlcml0cyA9IF9kZXJlcV8oXCIuL3V0aWxcIikuaW5oZXJpdHM7XG5cdCAgICB2YXIgZXJyb3JPYmogPSB1dGlsLmVycm9yT2JqO1xuXHQgICAgdmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcblx0ICAgIHZhciBOVUxMID0ge307XG5cdFxuXHQgICAgZnVuY3Rpb24gdGhyb3dlcihlKSB7XG5cdCAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IGU7fSwgMCk7XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gY2FzdFByZXNlcnZpbmdEaXNwb3NhYmxlKHRoZW5hYmxlKSB7XG5cdCAgICAgICAgdmFyIG1heWJlUHJvbWlzZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UodGhlbmFibGUpO1xuXHQgICAgICAgIGlmIChtYXliZVByb21pc2UgIT09IHRoZW5hYmxlICYmXG5cdCAgICAgICAgICAgIHR5cGVvZiB0aGVuYWJsZS5faXNEaXNwb3NhYmxlID09PSBcImZ1bmN0aW9uXCIgJiZcblx0ICAgICAgICAgICAgdHlwZW9mIHRoZW5hYmxlLl9nZXREaXNwb3NlciA9PT0gXCJmdW5jdGlvblwiICYmXG5cdCAgICAgICAgICAgIHRoZW5hYmxlLl9pc0Rpc3Bvc2FibGUoKSkge1xuXHQgICAgICAgICAgICBtYXliZVByb21pc2UuX3NldERpc3Bvc2FibGUodGhlbmFibGUuX2dldERpc3Bvc2VyKCkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gbWF5YmVQcm9taXNlO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZGlzcG9zZShyZXNvdXJjZXMsIGluc3BlY3Rpb24pIHtcblx0ICAgICAgICB2YXIgaSA9IDA7XG5cdCAgICAgICAgdmFyIGxlbiA9IHJlc291cmNlcy5sZW5ndGg7XG5cdCAgICAgICAgdmFyIHJldCA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcblx0ICAgICAgICBmdW5jdGlvbiBpdGVyYXRvcigpIHtcblx0ICAgICAgICAgICAgaWYgKGkgPj0gbGVuKSByZXR1cm4gcmV0Ll9mdWxmaWxsKCk7XG5cdCAgICAgICAgICAgIHZhciBtYXliZVByb21pc2UgPSBjYXN0UHJlc2VydmluZ0Rpc3Bvc2FibGUocmVzb3VyY2VzW2krK10pO1xuXHQgICAgICAgICAgICBpZiAobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSAmJlxuXHQgICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlLl9pc0Rpc3Bvc2FibGUoKSkge1xuXHQgICAgICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgICAgICBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBtYXliZVByb21pc2UuX2dldERpc3Bvc2VyKCkudHJ5RGlzcG9zZShpbnNwZWN0aW9uKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VzLnByb21pc2UpO1xuXHQgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aHJvd2VyKGUpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgaWYgKG1heWJlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF5YmVQcm9taXNlLl90aGVuKGl0ZXJhdG9yLCB0aHJvd2VyLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCwgbnVsbCwgbnVsbCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaXRlcmF0b3IoKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaXRlcmF0b3IoKTtcblx0ICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIERpc3Bvc2VyKGRhdGEsIHByb21pc2UsIGNvbnRleHQpIHtcblx0ICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcblx0ICAgICAgICB0aGlzLl9wcm9taXNlID0gcHJvbWlzZTtcblx0ICAgICAgICB0aGlzLl9jb250ZXh0ID0gY29udGV4dDtcblx0ICAgIH1cblx0XG5cdCAgICBEaXNwb3Nlci5wcm90b3R5cGUuZGF0YSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fZGF0YTtcblx0ICAgIH07XG5cdFxuXHQgICAgRGlzcG9zZXIucHJvdG90eXBlLnByb21pc2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX3Byb21pc2U7XG5cdCAgICB9O1xuXHRcblx0ICAgIERpc3Bvc2VyLnByb3RvdHlwZS5yZXNvdXJjZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBpZiAodGhpcy5wcm9taXNlKCkuaXNGdWxmaWxsZWQoKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9taXNlKCkudmFsdWUoKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIE5VTEw7XG5cdCAgICB9O1xuXHRcblx0ICAgIERpc3Bvc2VyLnByb3RvdHlwZS50cnlEaXNwb3NlID0gZnVuY3Rpb24oaW5zcGVjdGlvbikge1xuXHQgICAgICAgIHZhciByZXNvdXJjZSA9IHRoaXMucmVzb3VyY2UoKTtcblx0ICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuX2NvbnRleHQ7XG5cdCAgICAgICAgaWYgKGNvbnRleHQgIT09IHVuZGVmaW5lZCkgY29udGV4dC5fcHVzaENvbnRleHQoKTtcblx0ICAgICAgICB2YXIgcmV0ID0gcmVzb3VyY2UgIT09IE5VTExcblx0ICAgICAgICAgICAgPyB0aGlzLmRvRGlzcG9zZShyZXNvdXJjZSwgaW5zcGVjdGlvbikgOiBudWxsO1xuXHQgICAgICAgIGlmIChjb250ZXh0ICE9PSB1bmRlZmluZWQpIGNvbnRleHQuX3BvcENvbnRleHQoKTtcblx0ICAgICAgICB0aGlzLl9wcm9taXNlLl91bnNldERpc3Bvc2FibGUoKTtcblx0ICAgICAgICB0aGlzLl9kYXRhID0gbnVsbDtcblx0ICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgfTtcblx0XG5cdCAgICBEaXNwb3Nlci5pc0Rpc3Bvc2VyID0gZnVuY3Rpb24gKGQpIHtcblx0ICAgICAgICByZXR1cm4gKGQgIT0gbnVsbCAmJlxuXHQgICAgICAgICAgICAgICAgdHlwZW9mIGQucmVzb3VyY2UgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHQgICAgICAgICAgICAgICAgdHlwZW9mIGQudHJ5RGlzcG9zZSA9PT0gXCJmdW5jdGlvblwiKTtcblx0ICAgIH07XG5cdFxuXHQgICAgZnVuY3Rpb24gRnVuY3Rpb25EaXNwb3NlcihmbiwgcHJvbWlzZSwgY29udGV4dCkge1xuXHQgICAgICAgIHRoaXMuY29uc3RydWN0b3IkKGZuLCBwcm9taXNlLCBjb250ZXh0KTtcblx0ICAgIH1cblx0ICAgIGluaGVyaXRzKEZ1bmN0aW9uRGlzcG9zZXIsIERpc3Bvc2VyKTtcblx0XG5cdCAgICBGdW5jdGlvbkRpc3Bvc2VyLnByb3RvdHlwZS5kb0Rpc3Bvc2UgPSBmdW5jdGlvbiAocmVzb3VyY2UsIGluc3BlY3Rpb24pIHtcblx0ICAgICAgICB2YXIgZm4gPSB0aGlzLmRhdGEoKTtcblx0ICAgICAgICByZXR1cm4gZm4uY2FsbChyZXNvdXJjZSwgcmVzb3VyY2UsIGluc3BlY3Rpb24pO1xuXHQgICAgfTtcblx0XG5cdCAgICBmdW5jdGlvbiBtYXliZVVud3JhcERpc3Bvc2VyKHZhbHVlKSB7XG5cdCAgICAgICAgaWYgKERpc3Bvc2VyLmlzRGlzcG9zZXIodmFsdWUpKSB7XG5cdCAgICAgICAgICAgIHRoaXMucmVzb3VyY2VzW3RoaXMuaW5kZXhdLl9zZXREaXNwb3NhYmxlKHZhbHVlKTtcblx0ICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnByb21pc2UoKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHZhbHVlO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIFJlc291cmNlTGlzdChsZW5ndGgpIHtcblx0ICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcblx0ICAgICAgICB0aGlzLnByb21pc2UgPSBudWxsO1xuXHQgICAgICAgIHRoaXNbbGVuZ3RoLTFdID0gbnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICBSZXNvdXJjZUxpc3QucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgbGVuID0gdGhpcy5sZW5ndGg7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuXHQgICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXNbaV07XG5cdCAgICAgICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuXHQgICAgICAgICAgICAgICAgaXRlbS5jYW5jZWwoKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgUHJvbWlzZS51c2luZyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcblx0ICAgICAgICBpZiAobGVuIDwgMikgcmV0dXJuIGFwaVJlamVjdGlvbihcblx0ICAgICAgICAgICAgICAgICAgICAgICAgXCJ5b3UgbXVzdCBwYXNzIGF0IGxlYXN0IDIgYXJndW1lbnRzIHRvIFByb21pc2UudXNpbmdcIik7XG5cdCAgICAgICAgdmFyIGZuID0gYXJndW1lbnRzW2xlbiAtIDFdO1xuXHQgICAgICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgICAgICByZXR1cm4gYXBpUmVqZWN0aW9uKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZm4pKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGlucHV0O1xuXHQgICAgICAgIHZhciBzcHJlYWRBcmdzID0gdHJ1ZTtcblx0ICAgICAgICBpZiAobGVuID09PSAyICYmIEFycmF5LmlzQXJyYXkoYXJndW1lbnRzWzBdKSkge1xuXHQgICAgICAgICAgICBpbnB1dCA9IGFyZ3VtZW50c1swXTtcblx0ICAgICAgICAgICAgbGVuID0gaW5wdXQubGVuZ3RoO1xuXHQgICAgICAgICAgICBzcHJlYWRBcmdzID0gZmFsc2U7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaW5wdXQgPSBhcmd1bWVudHM7XG5cdCAgICAgICAgICAgIGxlbi0tO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgcmVzb3VyY2VzID0gbmV3IFJlc291cmNlTGlzdChsZW4pO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcblx0ICAgICAgICAgICAgdmFyIHJlc291cmNlID0gaW5wdXRbaV07XG5cdCAgICAgICAgICAgIGlmIChEaXNwb3Nlci5pc0Rpc3Bvc2VyKHJlc291cmNlKSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGRpc3Bvc2VyID0gcmVzb3VyY2U7XG5cdCAgICAgICAgICAgICAgICByZXNvdXJjZSA9IHJlc291cmNlLnByb21pc2UoKTtcblx0ICAgICAgICAgICAgICAgIHJlc291cmNlLl9zZXREaXNwb3NhYmxlKGRpc3Bvc2VyKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHZhciBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHJlc291cmNlKTtcblx0ICAgICAgICAgICAgICAgIGlmIChtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UgPVxuXHQgICAgICAgICAgICAgICAgICAgICAgICBtYXliZVByb21pc2UuX3RoZW4obWF5YmVVbndyYXBEaXNwb3NlciwgbnVsbCwgbnVsbCwge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VzOiByZXNvdXJjZXMsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogaVxuXHQgICAgICAgICAgICAgICAgICAgIH0sIHVuZGVmaW5lZCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmVzb3VyY2VzW2ldID0gcmVzb3VyY2U7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgcmVmbGVjdGVkUmVzb3VyY2VzID0gbmV3IEFycmF5KHJlc291cmNlcy5sZW5ndGgpO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVmbGVjdGVkUmVzb3VyY2VzLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgICAgIHJlZmxlY3RlZFJlc291cmNlc1tpXSA9IFByb21pc2UucmVzb2x2ZShyZXNvdXJjZXNbaV0pLnJlZmxlY3QoKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciByZXN1bHRQcm9taXNlID0gUHJvbWlzZS5hbGwocmVmbGVjdGVkUmVzb3VyY2VzKVxuXHQgICAgICAgICAgICAudGhlbihmdW5jdGlvbihpbnNwZWN0aW9ucykge1xuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnNwZWN0aW9ucy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBpbnNwZWN0aW9uID0gaW5zcGVjdGlvbnNbaV07XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGluc3BlY3Rpb24uaXNSZWplY3RlZCgpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yT2JqLmUgPSBpbnNwZWN0aW9uLmVycm9yKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvck9iajtcblx0ICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFpbnNwZWN0aW9uLmlzRnVsZmlsbGVkKCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0UHJvbWlzZS5jYW5jZWwoKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICBpbnNwZWN0aW9uc1tpXSA9IGluc3BlY3Rpb24udmFsdWUoKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHByb21pc2UuX3B1c2hDb250ZXh0KCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgZm4gPSB0cnlDYXRjaChmbik7XG5cdCAgICAgICAgICAgICAgICB2YXIgcmV0ID0gc3ByZWFkQXJnc1xuXHQgICAgICAgICAgICAgICAgICAgID8gZm4uYXBwbHkodW5kZWZpbmVkLCBpbnNwZWN0aW9ucykgOiBmbihpbnNwZWN0aW9ucyk7XG5cdCAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZUNyZWF0ZWQgPSBwcm9taXNlLl9wb3BDb250ZXh0KCk7XG5cdCAgICAgICAgICAgICAgICBkZWJ1Zy5jaGVja0ZvcmdvdHRlblJldHVybnMoXG5cdCAgICAgICAgICAgICAgICAgICAgcmV0LCBwcm9taXNlQ3JlYXRlZCwgXCJQcm9taXNlLnVzaW5nXCIsIHByb21pc2UpO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcblx0ICAgICAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHZhciBwcm9taXNlID0gcmVzdWx0UHJvbWlzZS5sYXN0bHkoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHZhciBpbnNwZWN0aW9uID0gbmV3IFByb21pc2UuUHJvbWlzZUluc3BlY3Rpb24ocmVzdWx0UHJvbWlzZSk7XG5cdCAgICAgICAgICAgIHJldHVybiBkaXNwb3NlKHJlc291cmNlcywgaW5zcGVjdGlvbik7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgcmVzb3VyY2VzLnByb21pc2UgPSBwcm9taXNlO1xuXHQgICAgICAgIHByb21pc2UuX3NldE9uQ2FuY2VsKHJlc291cmNlcyk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9O1xuXHRcblx0ICAgIFByb21pc2UucHJvdG90eXBlLl9zZXREaXNwb3NhYmxlID0gZnVuY3Rpb24gKGRpc3Bvc2VyKSB7XG5cdCAgICAgICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCB8IDEzMTA3Mjtcblx0ICAgICAgICB0aGlzLl9kaXNwb3NlciA9IGRpc3Bvc2VyO1xuXHQgICAgfTtcblx0XG5cdCAgICBQcm9taXNlLnByb3RvdHlwZS5faXNEaXNwb3NhYmxlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiAxMzEwNzIpID4gMDtcblx0ICAgIH07XG5cdFxuXHQgICAgUHJvbWlzZS5wcm90b3R5cGUuX2dldERpc3Bvc2VyID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9kaXNwb3Nlcjtcblx0ICAgIH07XG5cdFxuXHQgICAgUHJvbWlzZS5wcm90b3R5cGUuX3Vuc2V0RGlzcG9zYWJsZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkICYgKH4xMzEwNzIpO1xuXHQgICAgICAgIHRoaXMuX2Rpc3Bvc2VyID0gdW5kZWZpbmVkO1xuXHQgICAgfTtcblx0XG5cdCAgICBQcm9taXNlLnByb3RvdHlwZS5kaXNwb3NlciA9IGZ1bmN0aW9uIChmbikge1xuXHQgICAgICAgIGlmICh0eXBlb2YgZm4gPT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uRGlzcG9zZXIoZm4sIHRoaXMsIGNyZWF0ZUNvbnRleHQoKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcblx0ICAgIH07XG5cdFxuXHR9O1xuXHRcblx0fSx7XCIuL2Vycm9yc1wiOjEyLFwiLi91dGlsXCI6MzZ9XSwzNjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgZXM1ID0gX2RlcmVxXyhcIi4vZXM1XCIpO1xuXHR2YXIgY2FuRXZhbHVhdGUgPSB0eXBlb2YgbmF2aWdhdG9yID09IFwidW5kZWZpbmVkXCI7XG5cdFxuXHR2YXIgZXJyb3JPYmogPSB7ZToge319O1xuXHR2YXIgdHJ5Q2F0Y2hUYXJnZXQ7XG5cdHZhciBnbG9iYWxPYmplY3QgPSB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOlxuXHQgICAgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6XG5cdCAgICB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDpcblx0ICAgIHRoaXMgIT09IHVuZGVmaW5lZCA/IHRoaXMgOiBudWxsO1xuXHRcblx0ZnVuY3Rpb24gdHJ5Q2F0Y2hlcigpIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgICAgdmFyIHRhcmdldCA9IHRyeUNhdGNoVGFyZ2V0O1xuXHQgICAgICAgIHRyeUNhdGNoVGFyZ2V0ID0gbnVsbDtcblx0ICAgICAgICByZXR1cm4gdGFyZ2V0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgZXJyb3JPYmouZSA9IGU7XG5cdCAgICAgICAgcmV0dXJuIGVycm9yT2JqO1xuXHQgICAgfVxuXHR9XG5cdGZ1bmN0aW9uIHRyeUNhdGNoKGZuKSB7XG5cdCAgICB0cnlDYXRjaFRhcmdldCA9IGZuO1xuXHQgICAgcmV0dXJuIHRyeUNhdGNoZXI7XG5cdH1cblx0XG5cdHZhciBpbmhlcml0cyA9IGZ1bmN0aW9uKENoaWxkLCBQYXJlbnQpIHtcblx0ICAgIHZhciBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cdFxuXHQgICAgZnVuY3Rpb24gVCgpIHtcblx0ICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gQ2hpbGQ7XG5cdCAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciQgPSBQYXJlbnQ7XG5cdCAgICAgICAgZm9yICh2YXIgcHJvcGVydHlOYW1lIGluIFBhcmVudC5wcm90b3R5cGUpIHtcblx0ICAgICAgICAgICAgaWYgKGhhc1Byb3AuY2FsbChQYXJlbnQucHJvdG90eXBlLCBwcm9wZXJ0eU5hbWUpICYmXG5cdCAgICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWUuY2hhckF0KHByb3BlcnR5TmFtZS5sZW5ndGgtMSkgIT09IFwiJFwiXG5cdCAgICAgICAgICAgKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzW3Byb3BlcnR5TmFtZSArIFwiJFwiXSA9IFBhcmVudC5wcm90b3R5cGVbcHJvcGVydHlOYW1lXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIFQucHJvdG90eXBlID0gUGFyZW50LnByb3RvdHlwZTtcblx0ICAgIENoaWxkLnByb3RvdHlwZSA9IG5ldyBUKCk7XG5cdCAgICByZXR1cm4gQ2hpbGQucHJvdG90eXBlO1xuXHR9O1xuXHRcblx0XG5cdGZ1bmN0aW9uIGlzUHJpbWl0aXZlKHZhbCkge1xuXHQgICAgcmV0dXJuIHZhbCA9PSBudWxsIHx8IHZhbCA9PT0gdHJ1ZSB8fCB2YWwgPT09IGZhbHNlIHx8XG5cdCAgICAgICAgdHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgdmFsID09PSBcIm51bWJlclwiO1xuXHRcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcblx0ICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIiB8fFxuXHQgICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWF5YmVXcmFwQXNFcnJvcihtYXliZUVycm9yKSB7XG5cdCAgICBpZiAoIWlzUHJpbWl0aXZlKG1heWJlRXJyb3IpKSByZXR1cm4gbWF5YmVFcnJvcjtcblx0XG5cdCAgICByZXR1cm4gbmV3IEVycm9yKHNhZmVUb1N0cmluZyhtYXliZUVycm9yKSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHdpdGhBcHBlbmRlZCh0YXJnZXQsIGFwcGVuZGVlKSB7XG5cdCAgICB2YXIgbGVuID0gdGFyZ2V0Lmxlbmd0aDtcblx0ICAgIHZhciByZXQgPSBuZXcgQXJyYXkobGVuICsgMSk7XG5cdCAgICB2YXIgaTtcblx0ICAgIGZvciAoaSA9IDA7IGkgPCBsZW47ICsraSkge1xuXHQgICAgICAgIHJldFtpXSA9IHRhcmdldFtpXTtcblx0ICAgIH1cblx0ICAgIHJldFtpXSA9IGFwcGVuZGVlO1xuXHQgICAgcmV0dXJuIHJldDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0RGF0YVByb3BlcnR5T3JEZWZhdWx0KG9iaiwga2V5LCBkZWZhdWx0VmFsdWUpIHtcblx0ICAgIGlmIChlczUuaXNFUzUpIHtcblx0ICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpO1xuXHRcblx0ICAgICAgICBpZiAoZGVzYyAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBkZXNjLmdldCA9PSBudWxsICYmIGRlc2Muc2V0ID09IG51bGxcblx0ICAgICAgICAgICAgICAgICAgICA/IGRlc2MudmFsdWVcblx0ICAgICAgICAgICAgICAgICAgICA6IGRlZmF1bHRWYWx1ZTtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSA/IG9ialtrZXldIDogdW5kZWZpbmVkO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBub3RFbnVtZXJhYmxlUHJvcChvYmosIG5hbWUsIHZhbHVlKSB7XG5cdCAgICBpZiAoaXNQcmltaXRpdmUob2JqKSkgcmV0dXJuIG9iajtcblx0ICAgIHZhciBkZXNjcmlwdG9yID0ge1xuXHQgICAgICAgIHZhbHVlOiB2YWx1ZSxcblx0ICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG5cdCAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG5cdCAgICAgICAgd3JpdGFibGU6IHRydWVcblx0ICAgIH07XG5cdCAgICBlczUuZGVmaW5lUHJvcGVydHkob2JqLCBuYW1lLCBkZXNjcmlwdG9yKTtcblx0ICAgIHJldHVybiBvYmo7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRocm93ZXIocikge1xuXHQgICAgdGhyb3cgcjtcblx0fVxuXHRcblx0dmFyIGluaGVyaXRlZERhdGFLZXlzID0gKGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGV4Y2x1ZGVkUHJvdG90eXBlcyA9IFtcblx0ICAgICAgICBBcnJheS5wcm90b3R5cGUsXG5cdCAgICAgICAgT2JqZWN0LnByb3RvdHlwZSxcblx0ICAgICAgICBGdW5jdGlvbi5wcm90b3R5cGVcblx0ICAgIF07XG5cdFxuXHQgICAgdmFyIGlzRXhjbHVkZWRQcm90byA9IGZ1bmN0aW9uKHZhbCkge1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhjbHVkZWRQcm90b3R5cGVzLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgICAgIGlmIChleGNsdWRlZFByb3RvdHlwZXNbaV0gPT09IHZhbCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfTtcblx0XG5cdCAgICBpZiAoZXM1LmlzRVM1KSB7XG5cdCAgICAgICAgdmFyIGdldEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcztcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgICAgICAgIHZhciByZXQgPSBbXTtcblx0ICAgICAgICAgICAgdmFyIHZpc2l0ZWRLZXlzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0ICAgICAgICAgICAgd2hpbGUgKG9iaiAhPSBudWxsICYmICFpc0V4Y2x1ZGVkUHJvdG8ob2JqKSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGtleXM7XG5cdCAgICAgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgICAgIGtleXMgPSBnZXRLZXlzKG9iaik7XG5cdCAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICh2aXNpdGVkS2V5c1trZXldKSBjb250aW51ZTtcblx0ICAgICAgICAgICAgICAgICAgICB2aXNpdGVkS2V5c1trZXldID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChkZXNjICE9IG51bGwgJiYgZGVzYy5nZXQgPT0gbnVsbCAmJiBkZXNjLnNldCA9PSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldC5wdXNoKGtleSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgb2JqID0gZXM1LmdldFByb3RvdHlwZU9mKG9iaik7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIHJldDtcblx0ICAgICAgICB9O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbihvYmopIHtcblx0ICAgICAgICAgICAgaWYgKGlzRXhjbHVkZWRQcm90byhvYmopKSByZXR1cm4gW107XG5cdCAgICAgICAgICAgIHZhciByZXQgPSBbXTtcblx0XG5cdCAgICAgICAgICAgIC8qanNoaW50IGZvcmluOmZhbHNlICovXG5cdCAgICAgICAgICAgIGVudW1lcmF0aW9uOiBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoaGFzUHJvcC5jYWxsKG9iaiwga2V5KSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldC5wdXNoKGtleSk7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhjbHVkZWRQcm90b3R5cGVzLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNQcm9wLmNhbGwoZXhjbHVkZWRQcm90b3R5cGVzW2ldLCBrZXkpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBlbnVtZXJhdGlvbjtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICByZXQucHVzaChrZXkpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0XG5cdH0pKCk7XG5cdFxuXHR2YXIgdGhpc0Fzc2lnbm1lbnRQYXR0ZXJuID0gL3RoaXNcXHMqXFwuXFxzKlxcUytcXHMqPS87XG5cdGZ1bmN0aW9uIGlzQ2xhc3MoZm4pIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgIHZhciBrZXlzID0gZXM1Lm5hbWVzKGZuLnByb3RvdHlwZSk7XG5cdFxuXHQgICAgICAgICAgICB2YXIgaGFzTWV0aG9kcyA9IGVzNS5pc0VTNSAmJiBrZXlzLmxlbmd0aCA+IDE7XG5cdCAgICAgICAgICAgIHZhciBoYXNNZXRob2RzT3RoZXJUaGFuQ29uc3RydWN0b3IgPSBrZXlzLmxlbmd0aCA+IDAgJiZcblx0ICAgICAgICAgICAgICAgICEoa2V5cy5sZW5ndGggPT09IDEgJiYga2V5c1swXSA9PT0gXCJjb25zdHJ1Y3RvclwiKTtcblx0ICAgICAgICAgICAgdmFyIGhhc1RoaXNBc3NpZ25tZW50QW5kU3RhdGljTWV0aG9kcyA9XG5cdCAgICAgICAgICAgICAgICB0aGlzQXNzaWdubWVudFBhdHRlcm4udGVzdChmbiArIFwiXCIpICYmIGVzNS5uYW1lcyhmbikubGVuZ3RoID4gMDtcblx0XG5cdCAgICAgICAgICAgIGlmIChoYXNNZXRob2RzIHx8IGhhc01ldGhvZHNPdGhlclRoYW5Db25zdHJ1Y3RvciB8fFxuXHQgICAgICAgICAgICAgICAgaGFzVGhpc0Fzc2lnbm1lbnRBbmRTdGF0aWNNZXRob2RzKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiB0b0Zhc3RQcm9wZXJ0aWVzKG9iaikge1xuXHQgICAgLypqc2hpbnQgLVcwMjcsLVcwNTUsLVcwMzEqL1xuXHQgICAgZnVuY3Rpb24gRmFrZUNvbnN0cnVjdG9yKCkge31cblx0ICAgIEZha2VDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBvYmo7XG5cdCAgICB2YXIgbCA9IDg7XG5cdCAgICB3aGlsZSAobC0tKSBuZXcgRmFrZUNvbnN0cnVjdG9yKCk7XG5cdCAgICByZXR1cm4gb2JqO1xuXHQgICAgZXZhbChvYmopO1xuXHR9XG5cdFxuXHR2YXIgcmlkZW50ID0gL15bYS16JF9dW2EteiRfMC05XSokL2k7XG5cdGZ1bmN0aW9uIGlzSWRlbnRpZmllcihzdHIpIHtcblx0ICAgIHJldHVybiByaWRlbnQudGVzdChzdHIpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBmaWxsZWRSYW5nZShjb3VudCwgcHJlZml4LCBzdWZmaXgpIHtcblx0ICAgIHZhciByZXQgPSBuZXcgQXJyYXkoY291bnQpO1xuXHQgICAgZm9yKHZhciBpID0gMDsgaSA8IGNvdW50OyArK2kpIHtcblx0ICAgICAgICByZXRbaV0gPSBwcmVmaXggKyBpICsgc3VmZml4O1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJldDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc2FmZVRvU3RyaW5nKG9iaikge1xuXHQgICAgdHJ5IHtcblx0ICAgICAgICByZXR1cm4gb2JqICsgXCJcIjtcblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICByZXR1cm4gXCJbbm8gc3RyaW5nIHJlcHJlc2VudGF0aW9uXVwiO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc0Vycm9yKG9iaikge1xuXHQgICAgcmV0dXJuIG9iaiAhPT0gbnVsbCAmJlxuXHQgICAgICAgICAgIHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgJiZcblx0ICAgICAgICAgICB0eXBlb2Ygb2JqLm1lc3NhZ2UgPT09IFwic3RyaW5nXCIgJiZcblx0ICAgICAgICAgICB0eXBlb2Ygb2JqLm5hbWUgPT09IFwic3RyaW5nXCI7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1hcmtBc09yaWdpbmF0aW5nRnJvbVJlamVjdGlvbihlKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICAgIG5vdEVudW1lcmFibGVQcm9wKGUsIFwiaXNPcGVyYXRpb25hbFwiLCB0cnVlKTtcblx0ICAgIH1cblx0ICAgIGNhdGNoKGlnbm9yZSkge31cblx0fVxuXHRcblx0ZnVuY3Rpb24gb3JpZ2luYXRlc0Zyb21SZWplY3Rpb24oZSkge1xuXHQgICAgaWYgKGUgPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHQgICAgcmV0dXJuICgoZSBpbnN0YW5jZW9mIEVycm9yW1wiX19CbHVlYmlyZEVycm9yVHlwZXNfX1wiXS5PcGVyYXRpb25hbEVycm9yKSB8fFxuXHQgICAgICAgIGVbXCJpc09wZXJhdGlvbmFsXCJdID09PSB0cnVlKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY2FuQXR0YWNoVHJhY2Uob2JqKSB7XG5cdCAgICByZXR1cm4gaXNFcnJvcihvYmopICYmIGVzNS5wcm9wZXJ0eUlzV3JpdGFibGUob2JqLCBcInN0YWNrXCIpO1xuXHR9XG5cdFxuXHR2YXIgZW5zdXJlRXJyb3JPYmplY3QgPSAoZnVuY3Rpb24oKSB7XG5cdCAgICBpZiAoIShcInN0YWNrXCIgaW4gbmV3IEVycm9yKCkpKSB7XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgICAgIGlmIChjYW5BdHRhY2hUcmFjZSh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcblx0ICAgICAgICAgICAgdHJ5IHt0aHJvdyBuZXcgRXJyb3Ioc2FmZVRvU3RyaW5nKHZhbHVlKSk7fVxuXHQgICAgICAgICAgICBjYXRjaChlcnIpIHtyZXR1cm4gZXJyO31cblx0ICAgICAgICB9O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICAgICAgaWYgKGNhbkF0dGFjaFRyYWNlKHZhbHVlKSkgcmV0dXJuIHZhbHVlO1xuXHQgICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKHNhZmVUb1N0cmluZyh2YWx1ZSkpO1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdH0pKCk7XG5cdFxuXHRmdW5jdGlvbiBjbGFzc1N0cmluZyhvYmopIHtcblx0ICAgIHJldHVybiB7fS50b1N0cmluZy5jYWxsKG9iaik7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNvcHlEZXNjcmlwdG9ycyhmcm9tLCB0bywgZmlsdGVyKSB7XG5cdCAgICB2YXIga2V5cyA9IGVzNS5uYW1lcyhmcm9tKTtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuXHQgICAgICAgIGlmIChmaWx0ZXIoa2V5KSkge1xuXHQgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgZXM1LmRlZmluZVByb3BlcnR5KHRvLCBrZXksIGVzNS5nZXREZXNjcmlwdG9yKGZyb20sIGtleSkpO1xuXHQgICAgICAgICAgICB9IGNhdGNoIChpZ25vcmUpIHt9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9XG5cdFxuXHR2YXIgYXNBcnJheSA9IGZ1bmN0aW9uKHYpIHtcblx0ICAgIGlmIChlczUuaXNBcnJheSh2KSkge1xuXHQgICAgICAgIHJldHVybiB2O1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG51bGw7XG5cdH07XG5cdFxuXHRpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wuaXRlcmF0b3IpIHtcblx0ICAgIHZhciBBcnJheUZyb20gPSB0eXBlb2YgQXJyYXkuZnJvbSA9PT0gXCJmdW5jdGlvblwiID8gZnVuY3Rpb24odikge1xuXHQgICAgICAgIHJldHVybiBBcnJheS5mcm9tKHYpO1xuXHQgICAgfSA6IGZ1bmN0aW9uKHYpIHtcblx0ICAgICAgICB2YXIgcmV0ID0gW107XG5cdCAgICAgICAgdmFyIGl0ID0gdltTeW1ib2wuaXRlcmF0b3JdKCk7XG5cdCAgICAgICAgdmFyIGl0UmVzdWx0O1xuXHQgICAgICAgIHdoaWxlICghKChpdFJlc3VsdCA9IGl0Lm5leHQoKSkuZG9uZSkpIHtcblx0ICAgICAgICAgICAgcmV0LnB1c2goaXRSZXN1bHQudmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgfTtcblx0XG5cdCAgICBhc0FycmF5ID0gZnVuY3Rpb24odikge1xuXHQgICAgICAgIGlmIChlczUuaXNBcnJheSh2KSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdjtcblx0ICAgICAgICB9IGVsc2UgaWYgKHYgIT0gbnVsbCAmJiB0eXBlb2YgdltTeW1ib2wuaXRlcmF0b3JdID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIEFycmF5RnJvbSh2KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9O1xuXHR9XG5cdFxuXHR2YXIgaXNOb2RlID0gdHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiZcblx0ICAgICAgICBjbGFzc1N0cmluZyhwcm9jZXNzKS50b0xvd2VyQ2FzZSgpID09PSBcIltvYmplY3QgcHJvY2Vzc11cIjtcblx0XG5cdGZ1bmN0aW9uIGVudihrZXksIGRlZikge1xuXHQgICAgcmV0dXJuIGlzTm9kZSA/IHByb2Nlc3MuZW52W2tleV0gOiBkZWY7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldE5hdGl2ZVByb21pc2UoKSB7XG5cdCAgICBpZiAodHlwZW9mIFByb21pc2UgPT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24oKXt9KTtcblx0ICAgICAgICAgICAgaWYgKHt9LnRvU3RyaW5nLmNhbGwocHJvbWlzZSkgPT09IFwiW29iamVjdCBQcm9taXNlXVwiKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0gY2F0Y2ggKGUpIHt9XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRvbWFpbkJpbmQoc2VsZiwgY2IpIHtcblx0ICAgIHJldHVybiBzZWxmLmJpbmQoY2IpO1xuXHR9XG5cdFxuXHR2YXIgcmV0ID0ge1xuXHQgICAgaXNDbGFzczogaXNDbGFzcyxcblx0ICAgIGlzSWRlbnRpZmllcjogaXNJZGVudGlmaWVyLFxuXHQgICAgaW5oZXJpdGVkRGF0YUtleXM6IGluaGVyaXRlZERhdGFLZXlzLFxuXHQgICAgZ2V0RGF0YVByb3BlcnR5T3JEZWZhdWx0OiBnZXREYXRhUHJvcGVydHlPckRlZmF1bHQsXG5cdCAgICB0aHJvd2VyOiB0aHJvd2VyLFxuXHQgICAgaXNBcnJheTogZXM1LmlzQXJyYXksXG5cdCAgICBhc0FycmF5OiBhc0FycmF5LFxuXHQgICAgbm90RW51bWVyYWJsZVByb3A6IG5vdEVudW1lcmFibGVQcm9wLFxuXHQgICAgaXNQcmltaXRpdmU6IGlzUHJpbWl0aXZlLFxuXHQgICAgaXNPYmplY3Q6IGlzT2JqZWN0LFxuXHQgICAgaXNFcnJvcjogaXNFcnJvcixcblx0ICAgIGNhbkV2YWx1YXRlOiBjYW5FdmFsdWF0ZSxcblx0ICAgIGVycm9yT2JqOiBlcnJvck9iaixcblx0ICAgIHRyeUNhdGNoOiB0cnlDYXRjaCxcblx0ICAgIGluaGVyaXRzOiBpbmhlcml0cyxcblx0ICAgIHdpdGhBcHBlbmRlZDogd2l0aEFwcGVuZGVkLFxuXHQgICAgbWF5YmVXcmFwQXNFcnJvcjogbWF5YmVXcmFwQXNFcnJvcixcblx0ICAgIHRvRmFzdFByb3BlcnRpZXM6IHRvRmFzdFByb3BlcnRpZXMsXG5cdCAgICBmaWxsZWRSYW5nZTogZmlsbGVkUmFuZ2UsXG5cdCAgICB0b1N0cmluZzogc2FmZVRvU3RyaW5nLFxuXHQgICAgY2FuQXR0YWNoVHJhY2U6IGNhbkF0dGFjaFRyYWNlLFxuXHQgICAgZW5zdXJlRXJyb3JPYmplY3Q6IGVuc3VyZUVycm9yT2JqZWN0LFxuXHQgICAgb3JpZ2luYXRlc0Zyb21SZWplY3Rpb246IG9yaWdpbmF0ZXNGcm9tUmVqZWN0aW9uLFxuXHQgICAgbWFya0FzT3JpZ2luYXRpbmdGcm9tUmVqZWN0aW9uOiBtYXJrQXNPcmlnaW5hdGluZ0Zyb21SZWplY3Rpb24sXG5cdCAgICBjbGFzc1N0cmluZzogY2xhc3NTdHJpbmcsXG5cdCAgICBjb3B5RGVzY3JpcHRvcnM6IGNvcHlEZXNjcmlwdG9ycyxcblx0ICAgIGhhc0RldlRvb2xzOiB0eXBlb2YgY2hyb21lICE9PSBcInVuZGVmaW5lZFwiICYmIGNocm9tZSAmJlxuXHQgICAgICAgICAgICAgICAgIHR5cGVvZiBjaHJvbWUubG9hZFRpbWVzID09PSBcImZ1bmN0aW9uXCIsXG5cdCAgICBpc05vZGU6IGlzTm9kZSxcblx0ICAgIGVudjogZW52LFxuXHQgICAgZ2xvYmFsOiBnbG9iYWxPYmplY3QsXG5cdCAgICBnZXROYXRpdmVQcm9taXNlOiBnZXROYXRpdmVQcm9taXNlLFxuXHQgICAgZG9tYWluQmluZDogZG9tYWluQmluZFxuXHR9O1xuXHRyZXQuaXNSZWNlbnROb2RlID0gcmV0LmlzTm9kZSAmJiAoZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgdmVyc2lvbiA9IHByb2Nlc3MudmVyc2lvbnMubm9kZS5zcGxpdChcIi5cIikubWFwKE51bWJlcik7XG5cdCAgICByZXR1cm4gKHZlcnNpb25bMF0gPT09IDAgJiYgdmVyc2lvblsxXSA+IDEwKSB8fCAodmVyc2lvblswXSA+IDApO1xuXHR9KSgpO1xuXHRcblx0aWYgKHJldC5pc05vZGUpIHJldC50b0Zhc3RQcm9wZXJ0aWVzKHByb2Nlc3MpO1xuXHRcblx0dHJ5IHt0aHJvdyBuZXcgRXJyb3IoKTsgfSBjYXRjaCAoZSkge3JldC5sYXN0TGluZUVycm9yID0gZTt9XG5cdG1vZHVsZS5leHBvcnRzID0gcmV0O1xuXHRcblx0fSx7XCIuL2VzNVwiOjEzfV19LHt9LFs0XSkoNClcblx0fSk7ICAgICAgICAgICAgICAgICAgICA7aWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdyAhPT0gbnVsbCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuUCA9IHdpbmRvdy5Qcm9taXNlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgJiYgc2VsZiAhPT0gbnVsbCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5QID0gc2VsZi5Qcm9taXNlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNTMpLCAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KCkpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDU0KS5zZXRJbW1lZGlhdGUpKVxuXG4vKioqLyB9LFxuLyogNTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXHR2YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cdFxuXHQvLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcblx0Ly8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG5cdC8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcblx0Ly8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblx0XG5cdHZhciBjYWNoZWRTZXRUaW1lb3V0O1xuXHR2YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXHRcblx0ZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xuXHR9XG5cdGZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcblx0fVxuXHQoZnVuY3Rpb24gKCkge1xuXHQgICAgdHJ5IHtcblx0ICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG5cdCAgICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuXHQgICAgfVxuXHQgICAgdHJ5IHtcblx0ICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcblx0ICAgICAgICB9XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcblx0ICAgIH1cblx0fSAoKSlcblx0ZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcblx0ICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG5cdCAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG5cdCAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcblx0ICAgIH1cblx0ICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG5cdCAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcblx0ICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcblx0ICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuXHQgICAgfVxuXHQgICAgdHJ5IHtcblx0ICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG5cdCAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcblx0ICAgIH0gY2F0Y2goZSl7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcblx0ICAgICAgICB9IGNhdGNoKGUpe1xuXHQgICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0XG5cdH1cblx0ZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuXHQgICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG5cdCAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG5cdCAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuXHQgICAgfVxuXHQgICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuXHQgICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG5cdCAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuXHQgICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcblx0ICAgIH1cblx0ICAgIHRyeSB7XG5cdCAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuXHQgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcblx0ICAgIH0gY2F0Y2ggKGUpe1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG5cdCAgICAgICAgfSBjYXRjaCAoZSl7XG5cdCAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuXHQgICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdFxuXHRcblx0fVxuXHR2YXIgcXVldWUgPSBbXTtcblx0dmFyIGRyYWluaW5nID0gZmFsc2U7XG5cdHZhciBjdXJyZW50UXVldWU7XG5cdHZhciBxdWV1ZUluZGV4ID0gLTE7XG5cdFxuXHRmdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG5cdCAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBkcmFpbmluZyA9IGZhbHNlO1xuXHQgICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcblx0ICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG5cdCAgICB9XG5cdCAgICBpZiAocXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgZHJhaW5RdWV1ZSgpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuXHQgICAgaWYgKGRyYWluaW5nKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG5cdCAgICBkcmFpbmluZyA9IHRydWU7XG5cdFxuXHQgICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcblx0ICAgIHdoaWxlKGxlbikge1xuXHQgICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuXHQgICAgICAgIHF1ZXVlID0gW107XG5cdCAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuXHQgICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG5cdCAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuXHQgICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcblx0ICAgIH1cblx0ICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG5cdCAgICBkcmFpbmluZyA9IGZhbHNlO1xuXHQgICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuXHR9XG5cdFxuXHRwcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuXHQgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuXHQgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcblx0ICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG5cdCAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdC8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcblx0ZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG5cdCAgICB0aGlzLmZ1biA9IGZ1bjtcblx0ICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcblx0fVxuXHRJdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcblx0fTtcblx0cHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcblx0cHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcblx0cHJvY2Vzcy5lbnYgPSB7fTtcblx0cHJvY2Vzcy5hcmd2ID0gW107XG5cdHByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xuXHRwcm9jZXNzLnZlcnNpb25zID0ge307XG5cdFxuXHRmdW5jdGlvbiBub29wKCkge31cblx0XG5cdHByb2Nlc3Mub24gPSBub29wO1xuXHRwcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcblx0cHJvY2Vzcy5vbmNlID0gbm9vcDtcblx0cHJvY2Vzcy5vZmYgPSBub29wO1xuXHRwcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcblx0cHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xuXHRwcm9jZXNzLmVtaXQgPSBub29wO1xuXHRcblx0cHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcblx0fTtcblx0XG5cdHByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5cdHByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xuXHR9O1xuXHRwcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cbi8qKiovIH0sXG4vKiA1NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHNldEltbWVkaWF0ZSwgY2xlYXJJbW1lZGlhdGUpIHt2YXIgbmV4dFRpY2sgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKS5uZXh0VGljaztcblx0dmFyIGFwcGx5ID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O1xuXHR2YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cdHZhciBpbW1lZGlhdGVJZHMgPSB7fTtcblx0dmFyIG5leHRJbW1lZGlhdGVJZCA9IDA7XG5cdFxuXHQvLyBET00gQVBJcywgZm9yIGNvbXBsZXRlbmVzc1xuXHRcblx0ZXhwb3J0cy5zZXRUaW1lb3V0ID0gZnVuY3Rpb24oKSB7XG5cdCAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhclRpbWVvdXQpO1xuXHR9O1xuXHRleHBvcnRzLnNldEludGVydmFsID0gZnVuY3Rpb24oKSB7XG5cdCAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0SW50ZXJ2YWwsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG5cdH07XG5cdGV4cG9ydHMuY2xlYXJUaW1lb3V0ID1cblx0ZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkgeyB0aW1lb3V0LmNsb3NlKCk7IH07XG5cdFxuXHRmdW5jdGlvbiBUaW1lb3V0KGlkLCBjbGVhckZuKSB7XG5cdCAgdGhpcy5faWQgPSBpZDtcblx0ICB0aGlzLl9jbGVhckZuID0gY2xlYXJGbjtcblx0fVxuXHRUaW1lb3V0LnByb3RvdHlwZS51bnJlZiA9IFRpbWVvdXQucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uKCkge307XG5cdFRpbWVvdXQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG5cdCAgdGhpcy5fY2xlYXJGbi5jYWxsKHdpbmRvdywgdGhpcy5faWQpO1xuXHR9O1xuXHRcblx0Ly8gRG9lcyBub3Qgc3RhcnQgdGhlIHRpbWUsIGp1c3Qgc2V0cyB1cCB0aGUgbWVtYmVycyBuZWVkZWQuXG5cdGV4cG9ydHMuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSwgbXNlY3MpIHtcblx0ICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG5cdCAgaXRlbS5faWRsZVRpbWVvdXQgPSBtc2Vjcztcblx0fTtcblx0XG5cdGV4cG9ydHMudW5lbnJvbGwgPSBmdW5jdGlvbihpdGVtKSB7XG5cdCAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXHQgIGl0ZW0uX2lkbGVUaW1lb3V0ID0gLTE7XG5cdH07XG5cdFxuXHRleHBvcnRzLl91bnJlZkFjdGl2ZSA9IGV4cG9ydHMuYWN0aXZlID0gZnVuY3Rpb24oaXRlbSkge1xuXHQgIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblx0XG5cdCAgdmFyIG1zZWNzID0gaXRlbS5faWRsZVRpbWVvdXQ7XG5cdCAgaWYgKG1zZWNzID49IDApIHtcblx0ICAgIGl0ZW0uX2lkbGVUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIG9uVGltZW91dCgpIHtcblx0ICAgICAgaWYgKGl0ZW0uX29uVGltZW91dClcblx0ICAgICAgICBpdGVtLl9vblRpbWVvdXQoKTtcblx0ICAgIH0sIG1zZWNzKTtcblx0ICB9XG5cdH07XG5cdFxuXHQvLyBUaGF0J3Mgbm90IGhvdyBub2RlLmpzIGltcGxlbWVudHMgaXQgYnV0IHRoZSBleHBvc2VkIGFwaSBpcyB0aGUgc2FtZS5cblx0ZXhwb3J0cy5zZXRJbW1lZGlhdGUgPSB0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSBcImZ1bmN0aW9uXCIgPyBzZXRJbW1lZGlhdGUgOiBmdW5jdGlvbihmbikge1xuXHQgIHZhciBpZCA9IG5leHRJbW1lZGlhdGVJZCsrO1xuXHQgIHZhciBhcmdzID0gYXJndW1lbnRzLmxlbmd0aCA8IDIgPyBmYWxzZSA6IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcblx0XG5cdCAgaW1tZWRpYXRlSWRzW2lkXSA9IHRydWU7XG5cdFxuXHQgIG5leHRUaWNrKGZ1bmN0aW9uIG9uTmV4dFRpY2soKSB7XG5cdCAgICBpZiAoaW1tZWRpYXRlSWRzW2lkXSkge1xuXHQgICAgICAvLyBmbi5jYWxsKCkgaXMgZmFzdGVyIHNvIHdlIG9wdGltaXplIGZvciB0aGUgY29tbW9uIHVzZS1jYXNlXG5cdCAgICAgIC8vIEBzZWUgaHR0cDovL2pzcGVyZi5jb20vY2FsbC1hcHBseS1zZWd1XG5cdCAgICAgIGlmIChhcmdzKSB7XG5cdCAgICAgICAgZm4uYXBwbHkobnVsbCwgYXJncyk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZm4uY2FsbChudWxsKTtcblx0ICAgICAgfVxuXHQgICAgICAvLyBQcmV2ZW50IGlkcyBmcm9tIGxlYWtpbmdcblx0ICAgICAgZXhwb3J0cy5jbGVhckltbWVkaWF0ZShpZCk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIHJldHVybiBpZDtcblx0fTtcblx0XG5cdGV4cG9ydHMuY2xlYXJJbW1lZGlhdGUgPSB0eXBlb2YgY2xlYXJJbW1lZGlhdGUgPT09IFwiZnVuY3Rpb25cIiA/IGNsZWFySW1tZWRpYXRlIDogZnVuY3Rpb24oaWQpIHtcblx0ICBkZWxldGUgaW1tZWRpYXRlSWRzW2lkXTtcblx0fTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNTQpLnNldEltbWVkaWF0ZSwgX193ZWJwYWNrX3JlcXVpcmVfXyg1NCkuY2xlYXJJbW1lZGlhdGUpKVxuXG4vKioqLyB9XG4vKioqKioqLyBdKTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBiYWNrZ3JvdW5kLmpzXG4gKiovIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL2Jvb3RzdHJhcCBiY2E4MzEzYzFlMDQ3NGMxYTZkOVxuICoqLyIsIihmdW5jdGlvbihzZWxmKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBpZiAoc2VsZi5mZXRjaCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgdmFyIHN1cHBvcnQgPSB7XG4gICAgc2VhcmNoUGFyYW1zOiAnVVJMU2VhcmNoUGFyYW1zJyBpbiBzZWxmLFxuICAgIGl0ZXJhYmxlOiAnU3ltYm9sJyBpbiBzZWxmICYmICdpdGVyYXRvcicgaW4gU3ltYm9sLFxuICAgIGJsb2I6ICdGaWxlUmVhZGVyJyBpbiBzZWxmICYmICdCbG9iJyBpbiBzZWxmICYmIChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ldyBCbG9iKClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9KSgpLFxuICAgIGZvcm1EYXRhOiAnRm9ybURhdGEnIGluIHNlbGYsXG4gICAgYXJyYXlCdWZmZXI6ICdBcnJheUJ1ZmZlcicgaW4gc2VsZlxuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplTmFtZShuYW1lKSB7XG4gICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgICAgbmFtZSA9IFN0cmluZyhuYW1lKVxuICAgIH1cbiAgICBpZiAoL1teYS16MC05XFwtIyQlJicqKy5cXF5fYHx+XS9pLnRlc3QobmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgY2hhcmFjdGVyIGluIGhlYWRlciBmaWVsZCBuYW1lJylcbiAgICB9XG4gICAgcmV0dXJuIG5hbWUudG9Mb3dlckNhc2UoKVxuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpXG4gICAgfVxuICAgIHJldHVybiB2YWx1ZVxuICB9XG5cbiAgLy8gQnVpbGQgYSBkZXN0cnVjdGl2ZSBpdGVyYXRvciBmb3IgdGhlIHZhbHVlIGxpc3RcbiAgZnVuY3Rpb24gaXRlcmF0b3JGb3IoaXRlbXMpIHtcbiAgICB2YXIgaXRlcmF0b3IgPSB7XG4gICAgICBuZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gaXRlbXMuc2hpZnQoKVxuICAgICAgICByZXR1cm4ge2RvbmU6IHZhbHVlID09PSB1bmRlZmluZWQsIHZhbHVlOiB2YWx1ZX1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgICAgaXRlcmF0b3JbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaXRlcmF0b3JcbiAgfVxuXG4gIGZ1bmN0aW9uIEhlYWRlcnMoaGVhZGVycykge1xuICAgIHRoaXMubWFwID0ge31cblxuICAgIGlmIChoZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIHZhbHVlKVxuICAgICAgfSwgdGhpcylcblxuICAgIH0gZWxzZSBpZiAoaGVhZGVycykge1xuICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIGhlYWRlcnNbbmFtZV0pXG4gICAgICB9LCB0aGlzKVxuICAgIH1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcbiAgICB2YWx1ZSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxuICAgIHZhciBsaXN0ID0gdGhpcy5tYXBbbmFtZV1cbiAgICBpZiAoIWxpc3QpIHtcbiAgICAgIGxpc3QgPSBbXVxuICAgICAgdGhpcy5tYXBbbmFtZV0gPSBsaXN0XG4gICAgfVxuICAgIGxpc3QucHVzaCh2YWx1ZSlcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlWydkZWxldGUnXSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgdmFsdWVzID0gdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV1cbiAgICByZXR1cm4gdmFsdWVzID8gdmFsdWVzWzBdIDogbnVsbFxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZ2V0QWxsID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXSB8fCBbXVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShub3JtYWxpemVOYW1lKG5hbWUpKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXSA9IFtub3JtYWxpemVWYWx1ZSh2YWx1ZSldXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzLm1hcCkuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICB0aGlzLm1hcFtuYW1lXS5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWUsIG5hbWUsIHRoaXMpXG4gICAgICB9LCB0aGlzKVxuICAgIH0sIHRoaXMpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW11cbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHsgaXRlbXMucHVzaChuYW1lKSB9KVxuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7IGl0ZW1zLnB1c2godmFsdWUpIH0pXG4gICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7IGl0ZW1zLnB1c2goW25hbWUsIHZhbHVlXSkgfSlcbiAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG4gIH1cblxuICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgIEhlYWRlcnMucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzXG4gIH1cblxuICBmdW5jdGlvbiBjb25zdW1lZChib2R5KSB7XG4gICAgaWYgKGJvZHkuYm9keVVzZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKSlcbiAgICB9XG4gICAgYm9keS5ib2R5VXNlZCA9IHRydWVcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdClcbiAgICAgIH1cbiAgICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChyZWFkZXIuZXJyb3IpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNBcnJheUJ1ZmZlcihibG9iKSB7XG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYilcbiAgICByZXR1cm4gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNUZXh0KGJsb2IpIHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICAgIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IpXG4gICAgcmV0dXJuIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gIH1cblxuICBmdW5jdGlvbiBCb2R5KCkge1xuICAgIHRoaXMuYm9keVVzZWQgPSBmYWxzZVxuXG4gICAgdGhpcy5faW5pdEJvZHkgPSBmdW5jdGlvbihib2R5KSB7XG4gICAgICB0aGlzLl9ib2R5SW5pdCA9IGJvZHlcbiAgICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYmxvYiAmJiBCbG9iLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlCbG9iID0gYm9keVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmZvcm1EYXRhICYmIEZvcm1EYXRhLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlGb3JtRGF0YSA9IGJvZHlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keS50b1N0cmluZygpXG4gICAgICB9IGVsc2UgaWYgKCFib2R5KSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gJydcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiBBcnJheUJ1ZmZlci5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICAvLyBPbmx5IHN1cHBvcnQgQXJyYXlCdWZmZXJzIGZvciBQT1NUIG1ldGhvZC5cbiAgICAgICAgLy8gUmVjZWl2aW5nIEFycmF5QnVmZmVycyBoYXBwZW5zIHZpYSBCbG9icywgaW5zdGVhZC5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndW5zdXBwb3J0ZWQgQm9keUluaXQgdHlwZScpXG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICd0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLTgnKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlCbG9iICYmIHRoaXMuX2JvZHlCbG9iLnR5cGUpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCB0aGlzLl9ib2R5QmxvYi50eXBlKVxuICAgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5ibG9iKSB7XG4gICAgICB0aGlzLmJsb2IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlCbG9iKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5VGV4dF0pKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYXJyYXlCdWZmZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmxvYigpLnRoZW4ocmVhZEJsb2JBc0FycmF5QnVmZmVyKVxuICAgICAgfVxuXG4gICAgICB0aGlzLnRleHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgICByZXR1cm4gcmVhZEJsb2JBc1RleHQodGhpcy5fYm9keUJsb2IpXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIHRleHQnKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keVRleHQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy50ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgICAgIHJldHVybiByZWplY3RlZCA/IHJlamVjdGVkIDogUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXBwb3J0LmZvcm1EYXRhKSB7XG4gICAgICB0aGlzLmZvcm1EYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKGRlY29kZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmpzb24gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKEpTT04ucGFyc2UpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8vIEhUVFAgbWV0aG9kcyB3aG9zZSBjYXBpdGFsaXphdGlvbiBzaG91bGQgYmUgbm9ybWFsaXplZFxuICB2YXIgbWV0aG9kcyA9IFsnREVMRVRFJywgJ0dFVCcsICdIRUFEJywgJ09QVElPTlMnLCAnUE9TVCcsICdQVVQnXVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZU1ldGhvZChtZXRob2QpIHtcbiAgICB2YXIgdXBjYXNlZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpXG4gICAgcmV0dXJuIChtZXRob2RzLmluZGV4T2YodXBjYXNlZCkgPiAtMSkgPyB1cGNhc2VkIDogbWV0aG9kXG4gIH1cblxuICBmdW5jdGlvbiBSZXF1ZXN0KGlucHV0LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgICB2YXIgYm9keSA9IG9wdGlvbnMuYm9keVxuICAgIGlmIChSZXF1ZXN0LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGlucHV0KSkge1xuICAgICAgaWYgKGlucHV0LmJvZHlVc2VkKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpXG4gICAgICB9XG4gICAgICB0aGlzLnVybCA9IGlucHV0LnVybFxuICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGlucHV0LmNyZWRlbnRpYWxzXG4gICAgICBpZiAoIW9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhpbnB1dC5oZWFkZXJzKVxuICAgICAgfVxuICAgICAgdGhpcy5tZXRob2QgPSBpbnB1dC5tZXRob2RcbiAgICAgIHRoaXMubW9kZSA9IGlucHV0Lm1vZGVcbiAgICAgIGlmICghYm9keSkge1xuICAgICAgICBib2R5ID0gaW5wdXQuX2JvZHlJbml0XG4gICAgICAgIGlucHV0LmJvZHlVc2VkID0gdHJ1ZVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVybCA9IGlucHV0XG4gICAgfVxuXG4gICAgdGhpcy5jcmVkZW50aWFscyA9IG9wdGlvbnMuY3JlZGVudGlhbHMgfHwgdGhpcy5jcmVkZW50aWFscyB8fCAnb21pdCdcbiAgICBpZiAob3B0aW9ucy5oZWFkZXJzIHx8ICF0aGlzLmhlYWRlcnMpIHtcbiAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgICB9XG4gICAgdGhpcy5tZXRob2QgPSBub3JtYWxpemVNZXRob2Qob3B0aW9ucy5tZXRob2QgfHwgdGhpcy5tZXRob2QgfHwgJ0dFVCcpXG4gICAgdGhpcy5tb2RlID0gb3B0aW9ucy5tb2RlIHx8IHRoaXMubW9kZSB8fCBudWxsXG4gICAgdGhpcy5yZWZlcnJlciA9IG51bGxcblxuICAgIGlmICgodGhpcy5tZXRob2QgPT09ICdHRVQnIHx8IHRoaXMubWV0aG9kID09PSAnSEVBRCcpICYmIGJvZHkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0JvZHkgbm90IGFsbG93ZWQgZm9yIEdFVCBvciBIRUFEIHJlcXVlc3RzJylcbiAgICB9XG4gICAgdGhpcy5faW5pdEJvZHkoYm9keSlcbiAgfVxuXG4gIFJlcXVlc3QucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBSZXF1ZXN0KHRoaXMpXG4gIH1cblxuICBmdW5jdGlvbiBkZWNvZGUoYm9keSkge1xuICAgIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKClcbiAgICBib2R5LnRyaW0oKS5zcGxpdCgnJicpLmZvckVhY2goZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIGlmIChieXRlcykge1xuICAgICAgICB2YXIgc3BsaXQgPSBieXRlcy5zcGxpdCgnPScpXG4gICAgICAgIHZhciBuYW1lID0gc3BsaXQuc2hpZnQoKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuICAgICAgICB2YXIgdmFsdWUgPSBzcGxpdC5qb2luKCc9JykucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgZm9ybS5hcHBlbmQoZGVjb2RlVVJJQ29tcG9uZW50KG5hbWUpLCBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIGZvcm1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhlYWRlcnMoeGhyKSB7XG4gICAgdmFyIGhlYWQgPSBuZXcgSGVhZGVycygpXG4gICAgdmFyIHBhaXJzID0gKHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSB8fCAnJykudHJpbSgpLnNwbGl0KCdcXG4nKVxuICAgIHBhaXJzLmZvckVhY2goZnVuY3Rpb24oaGVhZGVyKSB7XG4gICAgICB2YXIgc3BsaXQgPSBoZWFkZXIudHJpbSgpLnNwbGl0KCc6JylcbiAgICAgIHZhciBrZXkgPSBzcGxpdC5zaGlmdCgpLnRyaW0oKVxuICAgICAgdmFyIHZhbHVlID0gc3BsaXQuam9pbignOicpLnRyaW0oKVxuICAgICAgaGVhZC5hcHBlbmQoa2V5LCB2YWx1ZSlcbiAgICB9KVxuICAgIHJldHVybiBoZWFkXG4gIH1cblxuICBCb2R5LmNhbGwoUmVxdWVzdC5wcm90b3R5cGUpXG5cbiAgZnVuY3Rpb24gUmVzcG9uc2UoYm9keUluaXQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSB7fVxuICAgIH1cblxuICAgIHRoaXMudHlwZSA9ICdkZWZhdWx0J1xuICAgIHRoaXMuc3RhdHVzID0gb3B0aW9ucy5zdGF0dXNcbiAgICB0aGlzLm9rID0gdGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwXG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gb3B0aW9ucy5zdGF0dXNUZXh0XG4gICAgdGhpcy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycyA/IG9wdGlvbnMuaGVhZGVycyA6IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgICB0aGlzLnVybCA9IG9wdGlvbnMudXJsIHx8ICcnXG4gICAgdGhpcy5faW5pdEJvZHkoYm9keUluaXQpXG4gIH1cblxuICBCb2R5LmNhbGwoUmVzcG9uc2UucHJvdG90eXBlKVxuXG4gIFJlc3BvbnNlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UodGhpcy5fYm9keUluaXQsIHtcbiAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgICBzdGF0dXNUZXh0OiB0aGlzLnN0YXR1c1RleHQsXG4gICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh0aGlzLmhlYWRlcnMpLFxuICAgICAgdXJsOiB0aGlzLnVybFxuICAgIH0pXG4gIH1cblxuICBSZXNwb25zZS5lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXNwb25zZSA9IG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiAwLCBzdGF0dXNUZXh0OiAnJ30pXG4gICAgcmVzcG9uc2UudHlwZSA9ICdlcnJvcidcbiAgICByZXR1cm4gcmVzcG9uc2VcbiAgfVxuXG4gIHZhciByZWRpcmVjdFN0YXR1c2VzID0gWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XVxuXG4gIFJlc3BvbnNlLnJlZGlyZWN0ID0gZnVuY3Rpb24odXJsLCBzdGF0dXMpIHtcbiAgICBpZiAocmVkaXJlY3RTdGF0dXNlcy5pbmRleE9mKHN0YXR1cykgPT09IC0xKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCBzdGF0dXMgY29kZScpXG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiBzdGF0dXMsIGhlYWRlcnM6IHtsb2NhdGlvbjogdXJsfX0pXG4gIH1cblxuICBzZWxmLkhlYWRlcnMgPSBIZWFkZXJzXG4gIHNlbGYuUmVxdWVzdCA9IFJlcXVlc3RcbiAgc2VsZi5SZXNwb25zZSA9IFJlc3BvbnNlXG5cbiAgc2VsZi5mZXRjaCA9IGZ1bmN0aW9uKGlucHV0LCBpbml0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlcXVlc3RcbiAgICAgIGlmIChSZXF1ZXN0LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGlucHV0KSAmJiAhaW5pdCkge1xuICAgICAgICByZXF1ZXN0ID0gaW5wdXRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcXVlc3QgPSBuZXcgUmVxdWVzdChpbnB1dCwgaW5pdClcbiAgICAgIH1cblxuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG5cbiAgICAgIGZ1bmN0aW9uIHJlc3BvbnNlVVJMKCkge1xuICAgICAgICBpZiAoJ3Jlc3BvbnNlVVJMJyBpbiB4aHIpIHtcbiAgICAgICAgICByZXR1cm4geGhyLnJlc3BvbnNlVVJMXG4gICAgICAgIH1cblxuICAgICAgICAvLyBBdm9pZCBzZWN1cml0eSB3YXJuaW5ncyBvbiBnZXRSZXNwb25zZUhlYWRlciB3aGVuIG5vdCBhbGxvd2VkIGJ5IENPUlNcbiAgICAgICAgaWYgKC9eWC1SZXF1ZXN0LVVSTDovbS50ZXN0KHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpIHtcbiAgICAgICAgICByZXR1cm4geGhyLmdldFJlc3BvbnNlSGVhZGVyKCdYLVJlcXVlc3QtVVJMJylcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgIHN0YXR1czogeGhyLnN0YXR1cyxcbiAgICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKHhociksXG4gICAgICAgICAgdXJsOiByZXNwb25zZVVSTCgpXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJvZHkgPSAncmVzcG9uc2UnIGluIHhociA/IHhoci5yZXNwb25zZSA6IHhoci5yZXNwb25zZVRleHRcbiAgICAgICAgcmVzb2x2ZShuZXcgUmVzcG9uc2UoYm9keSwgb3B0aW9ucykpXG4gICAgICB9XG5cbiAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG4gICAgICB9XG5cbiAgICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9wZW4ocmVxdWVzdC5tZXRob2QsIHJlcXVlc3QudXJsLCB0cnVlKVxuXG4gICAgICBpZiAocmVxdWVzdC5jcmVkZW50aWFscyA9PT0gJ2luY2x1ZGUnKSB7XG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlXG4gICAgICB9XG5cbiAgICAgIGlmICgncmVzcG9uc2VUeXBlJyBpbiB4aHIgJiYgc3VwcG9ydC5ibG9iKSB7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYidcbiAgICAgIH1cblxuICAgICAgcmVxdWVzdC5oZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgdmFsdWUpXG4gICAgICB9KVxuXG4gICAgICB4aHIuc2VuZCh0eXBlb2YgcmVxdWVzdC5fYm9keUluaXQgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IHJlcXVlc3QuX2JvZHlJbml0KVxuICAgIH0pXG4gIH1cbiAgc2VsZi5mZXRjaC5wb2x5ZmlsbCA9IHRydWVcbn0pKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzKTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3doYXR3Zy1mZXRjaC9mZXRjaC5qc1xuICoqIG1vZHVsZSBpZCA9IDFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwiaW1wb3J0IEVwdWJQcmVzcyBmcm9tICdlcHViLXByZXNzLWpzJztcbmltcG9ydCBCcm93c2VyIGZyb20gJy4vYnJvd3Nlcic7XG5cbmNvbnN0IG1hbmlmZXN0ID0gQnJvd3Nlci5nZXRNYW5pZmVzdCgpO1xuXG5Ccm93c2VyLm9uRm9yZWdyb3VuZE1lc3NhZ2UoKHJlcXVlc3QpID0+IHtcbiAgICBpZiAocmVxdWVzdC5hY3Rpb24gPT09ICdkb3dubG9hZCcpIHtcbiAgICAgICAgQnJvd3Nlci5zZXRMb2NhbFN0b3JhZ2UoeyBkb3dubG9hZFN0YXRlOiB0cnVlLCBwdWJsaXNoU3RhdHVzOiAne30nIH0pO1xuICAgICAgICBCcm93c2VyLmdldExvY2FsU3RvcmFnZShbJ2VtYWlsJywgJ2ZpbGV0eXBlJ10pLnRoZW4oKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib29rID0gbmV3IEVwdWJQcmVzcyhPYmplY3QuYXNzaWduKHt9LCByZXF1ZXN0LmJvb2spKTtcbiAgICAgICAgICAgIGJvb2sub24oJ3N0YXR1c1VwZGF0ZScsIChzdGF0dXMpID0+IHtcbiAgICAgICAgICAgICAgICBCcm93c2VyLnNldExvY2FsU3RvcmFnZSh7IHB1Ymxpc2hTdGF0dXM6IEpTT04uc3RyaW5naWZ5KHN0YXR1cykgfSk7XG4gICAgICAgICAgICAgICAgQnJvd3Nlci5zZW5kTWVzc2FnZShudWxsLCB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ3B1Ymxpc2gnLFxuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzczogc3RhdHVzLnByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBzdGF0dXMubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYm9vay5wdWJsaXNoKClcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1haWwgPSBzdGF0ZS5lbWFpbCAmJiBzdGF0ZS5lbWFpbC50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGV0eXBlID0gc3RhdGUuZmlsZXR5cGU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbWFpbCA/IGJvb2suZW1haWwoZW1haWwsIGZpbGV0eXBlKSA6IGJvb2suZG93bmxvYWQoZmlsZXR5cGUpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBCcm93c2VyLnNldExvY2FsU3RvcmFnZSh7IGRvd25sb2FkU3RhdGU6IGZhbHNlLCBwdWJsaXNoU3RhdHVzOiAne30nIH0pO1xuICAgICAgICAgICAgICAgICAgICBCcm93c2VyLnNlbmRNZXNzYWdlKG51bGwsIHsgYWN0aW9uOiAnZG93bmxvYWQnLCBzdGF0dXM6ICdjb21wbGV0ZScgfSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgQnJvd3Nlci5zZXRMb2NhbFN0b3JhZ2UoeyBkb3dubG9hZFN0YXRlOiBmYWxzZSwgcHVibGlzaFN0YXR1czogJ3t9JyB9KTtcbiAgICAgICAgICAgICAgICAgICAgQnJvd3Nlci5zZW5kTWVzc2FnZShcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGFjdGlvbjogJ2Rvd25sb2FkJywgc3RhdHVzOiAnZmFpbGVkJywgZXJyb3I6IGUubWVzc2FnZSB9XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvc2NyaXB0cy9iYWNrZ3JvdW5kLmpzXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5XCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5LmpzXG4gKiogbW9kdWxlIGlkID0gM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGNvcmUgID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpXG4gICwgJEpTT04gPSBjb3JlLkpTT04gfHwgKGNvcmUuSlNPTiA9IHtzdHJpbmdpZnk6IEpTT04uc3RyaW5naWZ5fSk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCl7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgcmV0dXJuICRKU09OLnN0cmluZ2lmeS5hcHBseSgkSlNPTiwgYXJndW1lbnRzKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5LmpzXG4gKiogbW9kdWxlIGlkID0gNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGNvcmUgPSBtb2R1bGUuZXhwb3J0cyA9IHt2ZXJzaW9uOiAnMi40LjAnfTtcbmlmKHR5cGVvZiBfX2UgPT0gJ251bWJlcicpX19lID0gY29yZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb3JlLmpzXG4gKiogbW9kdWxlIGlkID0gNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2Fzc2lnblwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvYXNzaWduLmpzXG4gKiogbW9kdWxlIGlkID0gNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmFzc2lnbicpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0LmFzc2lnbjtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2Fzc2lnbi5qc1xuICoqIG1vZHVsZSBpZCA9IDdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDE5LjEuMy4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiwgJ09iamVjdCcsIHthc3NpZ246IHJlcXVpcmUoJy4vX29iamVjdC1hc3NpZ24nKX0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuYXNzaWduLmpzXG4gKiogbW9kdWxlIGlkID0gOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGdsb2JhbCAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgY29yZSAgICAgID0gcmVxdWlyZSgnLi9fY29yZScpXG4gICwgY3R4ICAgICAgID0gcmVxdWlyZSgnLi9fY3R4JylcbiAgLCBoaWRlICAgICAgPSByZXF1aXJlKCcuL19oaWRlJylcbiAgLCBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblxudmFyICRleHBvcnQgPSBmdW5jdGlvbih0eXBlLCBuYW1lLCBzb3VyY2Upe1xuICB2YXIgSVNfRk9SQ0VEID0gdHlwZSAmICRleHBvcnQuRlxuICAgICwgSVNfR0xPQkFMID0gdHlwZSAmICRleHBvcnQuR1xuICAgICwgSVNfU1RBVElDID0gdHlwZSAmICRleHBvcnQuU1xuICAgICwgSVNfUFJPVE8gID0gdHlwZSAmICRleHBvcnQuUFxuICAgICwgSVNfQklORCAgID0gdHlwZSAmICRleHBvcnQuQlxuICAgICwgSVNfV1JBUCAgID0gdHlwZSAmICRleHBvcnQuV1xuICAgICwgZXhwb3J0cyAgID0gSVNfR0xPQkFMID8gY29yZSA6IGNvcmVbbmFtZV0gfHwgKGNvcmVbbmFtZV0gPSB7fSlcbiAgICAsIGV4cFByb3RvICA9IGV4cG9ydHNbUFJPVE9UWVBFXVxuICAgICwgdGFyZ2V0ICAgID0gSVNfR0xPQkFMID8gZ2xvYmFsIDogSVNfU1RBVElDID8gZ2xvYmFsW25hbWVdIDogKGdsb2JhbFtuYW1lXSB8fCB7fSlbUFJPVE9UWVBFXVxuICAgICwga2V5LCBvd24sIG91dDtcbiAgaWYoSVNfR0xPQkFMKXNvdXJjZSA9IG5hbWU7XG4gIGZvcihrZXkgaW4gc291cmNlKXtcbiAgICAvLyBjb250YWlucyBpbiBuYXRpdmVcbiAgICBvd24gPSAhSVNfRk9SQ0VEICYmIHRhcmdldCAmJiB0YXJnZXRba2V5XSAhPT0gdW5kZWZpbmVkO1xuICAgIGlmKG93biAmJiBrZXkgaW4gZXhwb3J0cyljb250aW51ZTtcbiAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZFxuICAgIG91dCA9IG93biA/IHRhcmdldFtrZXldIDogc291cmNlW2tleV07XG4gICAgLy8gcHJldmVudCBnbG9iYWwgcG9sbHV0aW9uIGZvciBuYW1lc3BhY2VzXG4gICAgZXhwb3J0c1trZXldID0gSVNfR0xPQkFMICYmIHR5cGVvZiB0YXJnZXRba2V5XSAhPSAnZnVuY3Rpb24nID8gc291cmNlW2tleV1cbiAgICAvLyBiaW5kIHRpbWVycyB0byBnbG9iYWwgZm9yIGNhbGwgZnJvbSBleHBvcnQgY29udGV4dFxuICAgIDogSVNfQklORCAmJiBvd24gPyBjdHgob3V0LCBnbG9iYWwpXG4gICAgLy8gd3JhcCBnbG9iYWwgY29uc3RydWN0b3JzIGZvciBwcmV2ZW50IGNoYW5nZSB0aGVtIGluIGxpYnJhcnlcbiAgICA6IElTX1dSQVAgJiYgdGFyZ2V0W2tleV0gPT0gb3V0ID8gKGZ1bmN0aW9uKEMpe1xuICAgICAgdmFyIEYgPSBmdW5jdGlvbihhLCBiLCBjKXtcbiAgICAgICAgaWYodGhpcyBpbnN0YW5jZW9mIEMpe1xuICAgICAgICAgIHN3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtcbiAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIG5ldyBDO1xuICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEMoYSk7XG4gICAgICAgICAgICBjYXNlIDI6IHJldHVybiBuZXcgQyhhLCBiKTtcbiAgICAgICAgICB9IHJldHVybiBuZXcgQyhhLCBiLCBjKTtcbiAgICAgICAgfSByZXR1cm4gQy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICAgIEZbUFJPVE9UWVBFXSA9IENbUFJPVE9UWVBFXTtcbiAgICAgIHJldHVybiBGO1xuICAgIC8vIG1ha2Ugc3RhdGljIHZlcnNpb25zIGZvciBwcm90b3R5cGUgbWV0aG9kc1xuICAgIH0pKG91dCkgOiBJU19QUk9UTyAmJiB0eXBlb2Ygb3V0ID09ICdmdW5jdGlvbicgPyBjdHgoRnVuY3Rpb24uY2FsbCwgb3V0KSA6IG91dDtcbiAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUubWV0aG9kcy4lTkFNRSVcbiAgICBpZihJU19QUk9UTyl7XG4gICAgICAoZXhwb3J0cy52aXJ0dWFsIHx8IChleHBvcnRzLnZpcnR1YWwgPSB7fSkpW2tleV0gPSBvdXQ7XG4gICAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUucHJvdG90eXBlLiVOQU1FJVxuICAgICAgaWYodHlwZSAmICRleHBvcnQuUiAmJiBleHBQcm90byAmJiAhZXhwUHJvdG9ba2V5XSloaWRlKGV4cFByb3RvLCBrZXksIG91dCk7XG4gICAgfVxuICB9XG59O1xuLy8gdHlwZSBiaXRtYXBcbiRleHBvcnQuRiA9IDE7ICAgLy8gZm9yY2VkXG4kZXhwb3J0LkcgPSAyOyAgIC8vIGdsb2JhbFxuJGV4cG9ydC5TID0gNDsgICAvLyBzdGF0aWNcbiRleHBvcnQuUCA9IDg7ICAgLy8gcHJvdG9cbiRleHBvcnQuQiA9IDE2OyAgLy8gYmluZFxuJGV4cG9ydC5XID0gMzI7ICAvLyB3cmFwXG4kZXhwb3J0LlUgPSA2NDsgIC8vIHNhZmVcbiRleHBvcnQuUiA9IDEyODsgLy8gcmVhbCBwcm90byBtZXRob2QgZm9yIGBsaWJyYXJ5YCBcbm1vZHVsZS5leHBvcnRzID0gJGV4cG9ydDtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZXhwb3J0LmpzXG4gKiogbW9kdWxlIGlkID0gOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCIvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxudmFyIGdsb2JhbCA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoXG4gID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbmlmKHR5cGVvZiBfX2cgPT0gJ251bWJlcicpX19nID0gZ2xvYmFsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2dsb2JhbC5qc1xuICoqIG1vZHVsZSBpZCA9IDEwXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsIi8vIG9wdGlvbmFsIC8gc2ltcGxlIGNvbnRleHQgYmluZGluZ1xudmFyIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4sIHRoYXQsIGxlbmd0aCl7XG4gIGFGdW5jdGlvbihmbik7XG4gIGlmKHRoYXQgPT09IHVuZGVmaW5lZClyZXR1cm4gZm47XG4gIHN3aXRjaChsZW5ndGgpe1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uKGEpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSk7XG4gICAgfTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbihhLCBiKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIpO1xuICAgIH07XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24oYSwgYiwgYyl7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiLCBjKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBmdW5jdGlvbigvKiAuLi5hcmdzICovKXtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgfTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2N0eC5qc1xuICoqIG1vZHVsZSBpZCA9IDExXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICBpZih0eXBlb2YgaXQgIT0gJ2Z1bmN0aW9uJyl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xuICByZXR1cm4gaXQ7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hLWZ1bmN0aW9uLmpzXG4gKiogbW9kdWxlIGlkID0gMTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwidmFyIGRQICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKVxuICAsIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBmdW5jdGlvbihvYmplY3QsIGtleSwgdmFsdWUpe1xuICByZXR1cm4gZFAuZihvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xufSA6IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oaWRlLmpzXG4gKiogbW9kdWxlIGlkID0gMTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwidmFyIGFuT2JqZWN0ICAgICAgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4vX2llOC1kb20tZGVmaW5lJylcbiAgLCB0b1ByaW1pdGl2ZSAgICA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpXG4gICwgZFAgICAgICAgICAgICAgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG5cbmV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKXtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmKElFOF9ET01fREVGSU5FKXRyeSB7XG4gICAgcmV0dXJuIGRQKE8sIFAsIEF0dHJpYnV0ZXMpO1xuICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG4gIGlmKCdnZXQnIGluIEF0dHJpYnV0ZXMgfHwgJ3NldCcgaW4gQXR0cmlidXRlcyl0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuICBpZigndmFsdWUnIGluIEF0dHJpYnV0ZXMpT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG4gIHJldHVybiBPO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWRwLmpzXG4gKiogbW9kdWxlIGlkID0gMTRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoIWlzT2JqZWN0KGl0KSl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG4gIHJldHVybiBpdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLW9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDE1XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gdHlwZW9mIGl0ID09PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogdHlwZW9mIGl0ID09PSAnZnVuY3Rpb24nO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtb2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMTZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSAhcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSAmJiAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbigpe1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKSgnZGl2JyksICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faWU4LWRvbS1kZWZpbmUuanNcbiAqKiBtb2R1bGUgaWQgPSAxN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCIvLyBUaGFuaydzIElFOCBmb3IgaGlzIGZ1bm55IGRlZmluZVByb3BlcnR5XG5tb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZGVzY3JpcHRvcnMuanNcbiAqKiBtb2R1bGUgaWQgPSAxOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMpe1xuICB0cnkge1xuICAgIHJldHVybiAhIWV4ZWMoKTtcbiAgfSBjYXRjaChlKXtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZmFpbHMuanNcbiAqKiBtb2R1bGUgaWQgPSAxOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKVxuICAsIGRvY3VtZW50ID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnRcbiAgLy8gaW4gb2xkIElFIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50IGlzICdvYmplY3QnXG4gICwgaXMgPSBpc09iamVjdChkb2N1bWVudCkgJiYgaXNPYmplY3QoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGlzID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RvbS1jcmVhdGUuanNcbiAqKiBtb2R1bGUgaWQgPSAyMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCIvLyA3LjEuMSBUb1ByaW1pdGl2ZShpbnB1dCBbLCBQcmVmZXJyZWRUeXBlXSlcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xuLy8gaW5zdGVhZCBvZiB0aGUgRVM2IHNwZWMgdmVyc2lvbiwgd2UgZGlkbid0IGltcGxlbWVudCBAQHRvUHJpbWl0aXZlIGNhc2Vcbi8vIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IC0gZmxhZyAtIHByZWZlcnJlZCB0eXBlIGlzIGEgc3RyaW5nXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBTKXtcbiAgaWYoIWlzT2JqZWN0KGl0KSlyZXR1cm4gaXQ7XG4gIHZhciBmbiwgdmFsO1xuICBpZihTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG4gIGlmKHR5cGVvZiAoZm4gPSBpdC52YWx1ZU9mKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcbiAgaWYoIVMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcbiAgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tcHJpbWl0aXZlLmpzXG4gKiogbW9kdWxlIGlkID0gMjFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihiaXRtYXAsIHZhbHVlKXtcbiAgcmV0dXJuIHtcbiAgICBlbnVtZXJhYmxlICA6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlICAgIDogIShiaXRtYXAgJiA0KSxcbiAgICB2YWx1ZSAgICAgICA6IHZhbHVlXG4gIH07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzXG4gKiogbW9kdWxlIGlkID0gMjJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuLy8gMTkuMS4yLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSwgLi4uKVxudmFyIGdldEtleXMgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKVxuICAsIGdPUFMgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcHMnKVxuICAsIHBJRSAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpXG4gICwgdG9PYmplY3QgPSByZXF1aXJlKCcuL190by1vYmplY3QnKVxuICAsIElPYmplY3QgID0gcmVxdWlyZSgnLi9faW9iamVjdCcpXG4gICwgJGFzc2lnbiAgPSBPYmplY3QuYXNzaWduO1xuXG4vLyBzaG91bGQgd29yayB3aXRoIHN5bWJvbHMgYW5kIHNob3VsZCBoYXZlIGRldGVybWluaXN0aWMgcHJvcGVydHkgb3JkZXIgKFY4IGJ1Zylcbm1vZHVsZS5leHBvcnRzID0gISRhc3NpZ24gfHwgcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbigpe1xuICB2YXIgQSA9IHt9XG4gICAgLCBCID0ge31cbiAgICAsIFMgPSBTeW1ib2woKVxuICAgICwgSyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdCc7XG4gIEFbU10gPSA3O1xuICBLLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uKGspeyBCW2tdID0gazsgfSk7XG4gIHJldHVybiAkYXNzaWduKHt9LCBBKVtTXSAhPSA3IHx8IE9iamVjdC5rZXlzKCRhc3NpZ24oe30sIEIpKS5qb2luKCcnKSAhPSBLO1xufSkgPyBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBzb3VyY2UpeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gIHZhciBUICAgICA9IHRvT2JqZWN0KHRhcmdldClcbiAgICAsIGFMZW4gID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgaW5kZXggPSAxXG4gICAgLCBnZXRTeW1ib2xzID0gZ09QUy5mXG4gICAgLCBpc0VudW0gICAgID0gcElFLmY7XG4gIHdoaWxlKGFMZW4gPiBpbmRleCl7XG4gICAgdmFyIFMgICAgICA9IElPYmplY3QoYXJndW1lbnRzW2luZGV4KytdKVxuICAgICAgLCBrZXlzICAgPSBnZXRTeW1ib2xzID8gZ2V0S2V5cyhTKS5jb25jYXQoZ2V0U3ltYm9scyhTKSkgOiBnZXRLZXlzKFMpXG4gICAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoXG4gICAgICAsIGogICAgICA9IDBcbiAgICAgICwga2V5O1xuICAgIHdoaWxlKGxlbmd0aCA+IGopaWYoaXNFbnVtLmNhbGwoUywga2V5ID0ga2V5c1tqKytdKSlUW2tleV0gPSBTW2tleV07XG4gIH0gcmV0dXJuIFQ7XG59IDogJGFzc2lnbjtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWFzc2lnbi5qc1xuICoqIG1vZHVsZSBpZCA9IDIzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyAxOS4xLjIuMTQgLyAxNS4yLjMuMTQgT2JqZWN0LmtleXMoTylcbnZhciAka2V5cyAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJylcbiAgLCBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiBrZXlzKE8pe1xuICByZXR1cm4gJGtleXMoTywgZW51bUJ1Z0tleXMpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMuanNcbiAqKiBtb2R1bGUgaWQgPSAyNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCJ2YXIgaGFzICAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCB0b0lPYmplY3QgICAgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcbiAgLCBhcnJheUluZGV4T2YgPSByZXF1aXJlKCcuL19hcnJheS1pbmNsdWRlcycpKGZhbHNlKVxuICAsIElFX1BST1RPICAgICA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmplY3QsIG5hbWVzKXtcbiAgdmFyIE8gICAgICA9IHRvSU9iamVjdChvYmplY3QpXG4gICAgLCBpICAgICAgPSAwXG4gICAgLCByZXN1bHQgPSBbXVxuICAgICwga2V5O1xuICBmb3Ioa2V5IGluIE8paWYoa2V5ICE9IElFX1BST1RPKWhhcyhPLCBrZXkpICYmIHJlc3VsdC5wdXNoKGtleSk7XG4gIC8vIERvbid0IGVudW0gYnVnICYgaGlkZGVuIGtleXNcbiAgd2hpbGUobmFtZXMubGVuZ3RoID4gaSlpZihoYXMoTywga2V5ID0gbmFtZXNbaSsrXSkpe1xuICAgIH5hcnJheUluZGV4T2YocmVzdWx0LCBrZXkpIHx8IHJlc3VsdC5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLWludGVybmFsLmpzXG4gKiogbW9kdWxlIGlkID0gMjVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwidmFyIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBrZXkpe1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hhcy5qc1xuICoqIG1vZHVsZSBpZCA9IDI2XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsIi8vIHRvIGluZGV4ZWQgb2JqZWN0LCB0b09iamVjdCB3aXRoIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xudmFyIElPYmplY3QgPSByZXF1aXJlKCcuL19pb2JqZWN0JylcbiAgLCBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBJT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWlvYmplY3QuanNcbiAqKiBtb2R1bGUgaWQgPSAyN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCIvLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5nc1xudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKSA/IE9iamVjdCA6IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGNvZihpdCkgPT0gJ1N0cmluZycgPyBpdC5zcGxpdCgnJykgOiBPYmplY3QoaXQpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faW9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDI4XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsInZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvZi5qc1xuICoqIG1vZHVsZSBpZCA9IDI5XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsIi8vIDcuMi4xIFJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoaXQgPT0gdW5kZWZpbmVkKXRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZGVmaW5lZC5qc1xuICoqIG1vZHVsZSBpZCA9IDMwXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsIi8vIGZhbHNlIC0+IEFycmF5I2luZGV4T2Zcbi8vIHRydWUgIC0+IEFycmF5I2luY2x1ZGVzXG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgdG9MZW5ndGggID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJylcbiAgLCB0b0luZGV4ICAgPSByZXF1aXJlKCcuL190by1pbmRleCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihJU19JTkNMVURFUyl7XG4gIHJldHVybiBmdW5jdGlvbigkdGhpcywgZWwsIGZyb21JbmRleCl7XG4gICAgdmFyIE8gICAgICA9IHRvSU9iamVjdCgkdGhpcylcbiAgICAgICwgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpXG4gICAgICAsIGluZGV4ICA9IHRvSW5kZXgoZnJvbUluZGV4LCBsZW5ndGgpXG4gICAgICAsIHZhbHVlO1xuICAgIC8vIEFycmF5I2luY2x1ZGVzIHVzZXMgU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG1cbiAgICBpZihJU19JTkNMVURFUyAmJiBlbCAhPSBlbCl3aGlsZShsZW5ndGggPiBpbmRleCl7XG4gICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG4gICAgICBpZih2YWx1ZSAhPSB2YWx1ZSlyZXR1cm4gdHJ1ZTtcbiAgICAvLyBBcnJheSN0b0luZGV4IGlnbm9yZXMgaG9sZXMsIEFycmF5I2luY2x1ZGVzIC0gbm90XG4gICAgfSBlbHNlIGZvcig7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspaWYoSVNfSU5DTFVERVMgfHwgaW5kZXggaW4gTyl7XG4gICAgICBpZihPW2luZGV4XSA9PT0gZWwpcmV0dXJuIElTX0lOQ0xVREVTIHx8IGluZGV4IHx8IDA7XG4gICAgfSByZXR1cm4gIUlTX0lOQ0xVREVTICYmIC0xO1xuICB9O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYXJyYXktaW5jbHVkZXMuanNcbiAqKiBtb2R1bGUgaWQgPSAzMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCIvLyA3LjEuMTUgVG9MZW5ndGhcbnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJylcbiAgLCBtaW4gICAgICAgPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQgPiAwID8gbWluKHRvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDsgLy8gcG93KDIsIDUzKSAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tbGVuZ3RoLmpzXG4gKiogbW9kdWxlIGlkID0gMzJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwiLy8gNy4xLjQgVG9JbnRlZ2VyXG52YXIgY2VpbCAgPSBNYXRoLmNlaWxcbiAgLCBmbG9vciA9IE1hdGguZmxvb3I7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGlzTmFOKGl0ID0gK2l0KSA/IDAgOiAoaXQgPiAwID8gZmxvb3IgOiBjZWlsKShpdCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbnRlZ2VyLmpzXG4gKiogbW9kdWxlIGlkID0gMzNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwidmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKVxuICAsIG1heCAgICAgICA9IE1hdGgubWF4XG4gICwgbWluICAgICAgID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGluZGV4LCBsZW5ndGgpe1xuICBpbmRleCA9IHRvSW50ZWdlcihpbmRleCk7XG4gIHJldHVybiBpbmRleCA8IDAgPyBtYXgoaW5kZXggKyBsZW5ndGgsIDApIDogbWluKGluZGV4LCBsZW5ndGgpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAzNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCJ2YXIgc2hhcmVkID0gcmVxdWlyZSgnLi9fc2hhcmVkJykoJ2tleXMnKVxuICAsIHVpZCAgICA9IHJlcXVpcmUoJy4vX3VpZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICByZXR1cm4gc2hhcmVkW2tleV0gfHwgKHNoYXJlZFtrZXldID0gdWlkKGtleSkpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLWtleS5qc1xuICoqIG1vZHVsZSBpZCA9IDM1XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIFNIQVJFRCA9ICdfX2NvcmUtanNfc2hhcmVkX18nXG4gICwgc3RvcmUgID0gZ2xvYmFsW1NIQVJFRF0gfHwgKGdsb2JhbFtTSEFSRURdID0ge30pO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICByZXR1cm4gc3RvcmVba2V5XSB8fCAoc3RvcmVba2V5XSA9IHt9KTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC5qc1xuICoqIG1vZHVsZSBpZCA9IDM2XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsInZhciBpZCA9IDBcbiAgLCBweCA9IE1hdGgucmFuZG9tKCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG4gIHJldHVybiAnU3ltYm9sKCcuY29uY2F0KGtleSA9PT0gdW5kZWZpbmVkID8gJycgOiBrZXksICcpXycsICgrK2lkICsgcHgpLnRvU3RyaW5nKDM2KSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191aWQuanNcbiAqKiBtb2R1bGUgaWQgPSAzN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCIvLyBJRSA4LSBkb24ndCBlbnVtIGJ1ZyBrZXlzXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgJ2NvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZidcbikuc3BsaXQoJywnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1idWcta2V5cy5qc1xuICoqIG1vZHVsZSBpZCA9IDM4XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsImV4cG9ydHMuZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BzLmpzXG4gKiogbW9kdWxlIGlkID0gMzlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMuZiA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtcGllLmpzXG4gKiogbW9kdWxlIGlkID0gNDBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDcuMS4xMyBUb09iamVjdChhcmd1bWVudClcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tb2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gNDFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwiIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZShyZXF1aXJlKFwiaXNvbW9ycGhpYy1mZXRjaFwiKSxyZXF1aXJlKFwiZnNcIikpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiaXNvbW9ycGhpYy1mZXRjaFwiLFwiZnNcIl0sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5FcHViUHJlc3M9ZShyZXF1aXJlKFwiaXNvbW9ycGhpYy1mZXRjaFwiKSxyZXF1aXJlKFwiZnNcIikpOnQuRXB1YlByZXNzPWUodFtcImlzb21vcnBoaWMtZmV0Y2hcIl0sdC5mcyl9KHRoaXMsZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyKXtpZihuW3JdKXJldHVybiBuW3JdLmV4cG9ydHM7dmFyIGk9bltyXT17ZXhwb3J0czp7fSxpZDpyLGxvYWRlZDohMX07cmV0dXJuIHRbcl0uY2FsbChpLmV4cG9ydHMsaSxpLmV4cG9ydHMsZSksaS5sb2FkZWQ9ITAsaS5leHBvcnRzfXZhciBuPXt9O3JldHVybiBlLm09dCxlLmM9bixlLnA9XCJcIixlKDApfShbZnVuY3Rpb24odCxlLG4pe24oMSksdC5leHBvcnRzPW4oMil9LGZ1bmN0aW9uKGUsbil7ZS5leHBvcnRzPXR9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gaSgpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3d9ZnVuY3Rpb24gbygpe2lmKEYuREVCVUcpe3ZhciB0Oyh0PWNvbnNvbGUpLmxvZy5hcHBseSh0LGFyZ3VtZW50cyl9fWZ1bmN0aW9uIHModCl7aWYoIXQuZ2V0SWQoKSl0aHJvdyBuZXcgRXJyb3IoXCJCb29rIGhhcyBubyBpZC4gSGF2ZSB5b3UgcHVibGlzaGVkP1wiKX1mdW5jdGlvbiBhKHQsZSl7aWYoaSgpKXt2YXIgcj12b2lkIDA7cj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBGaWxlP25ldyBGaWxlKFtlXSx0KTpuZXcgQmxvYihbZV0se3R5cGU6XCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIn0pLCgwLGsuc2F2ZUFzKShyLHQpfWVsc2V7dmFyIG89big1NCk7by53cml0ZUZpbGVTeW5jKHQsZSl9fWZ1bmN0aW9uIGModCl7dmFyIGU9e3RpdGxlOnQudGl0bGUsZGVzY3JpcHRpb246dC5kZXNjcmlwdGlvbn07cmV0dXJuIHQuc2VjdGlvbnM/ZS5zZWN0aW9ucz10LnNlY3Rpb25zOmUudXJscz10LnVybHMuc2xpY2UoKSx7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e0FjY2VwdDpcImFwcGxpY2F0aW9uL2pzb25cIixcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5OigwLHdbXCJkZWZhdWx0XCJdKShlKX19ZnVuY3Rpb24gdSh0KXtyZXR1cm4gbmV3IENbXCJkZWZhdWx0XCJdKGZ1bmN0aW9uKGUsbil7dmFyIHI9ZnVuY3Rpb24gaShyKXt0LmNoZWNrU3RhdHVzKCkudGhlbihmdW5jdGlvbihvKXt0LmVtaXQoXCJzdGF0dXNVcGRhdGVcIixvKSxOdW1iZXIoby5wcm9ncmVzcyk+PTEwMD9lKHQpOnI+PUYuQ0hFQ0tfU1RBVFVTX0xJTUlUP24obmV3IEVycm9yKEYuRVJST1JfQ09ERVNbNTAzXSkpOnNldFRpbWVvdXQoaSxGLlBPTExfUkFURSxyKzEpfSlbXCJjYXRjaFwiXShuKX07cigxKX0pfWZ1bmN0aW9uIGwodCl7dmFyIGU9Ri5FUlJPUl9DT0RFU1t0LnN0YXR1c107aWYodC5zdGF0dXM+PTIwMCYmdC5zdGF0dXM8MzAwKXJldHVybiB0O2lmKHQuYm9keSlyZXR1cm4gdC5qc29uKCkudGhlbihmdW5jdGlvbih0KXt2YXIgbj10LmVycm9ycyYmdC5lcnJvcnMubGVuZ3RoPjAscj1uP3QuZXJyb3JzWzBdLmRldGFpbDplO3JldHVybiBDW1wiZGVmYXVsdFwiXS5yZWplY3QobmV3IEVycm9yKHIpKX0pO3ZhciBuPW5ldyBFcnJvcihlKTtyZXR1cm4gQ1tcImRlZmF1bHRcIl0ucmVqZWN0KG4pfWZ1bmN0aW9uIGYodCl7dmFyIGU9Ri5FUlJPUl9DT0RFU1t0Lm1lc3NhZ2VdfHxGLkVSUk9SX0NPREVTW3QubmFtZV07cmV0dXJuIGU/bmV3IEVycm9yKGUpOnR9ZnVuY3Rpb24gcCh0LGUpe3ZhciBuPU51bWJlcihlLm1pbkNvbXBhdGlibGUucmVwbGFjZShcIi5cIixcIlwiKSkscj1OdW1iZXIodC5yZXBsYWNlKFwiLlwiLFwiXCIpKTtyZXR1cm4gbj5yP2UubWVzc2FnZTpudWxsfWZ1bmN0aW9uIGgodCl7dmFyIGU9W1wiZW1haWxcIixcImZpbGV0eXBlXCJdLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXT9lK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudCh0W2VdKTpcIlwifSkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkuam9pbihcIiZcIik7cmV0dXJuIGU/XCI/XCIrZTpcIlwifXZhciBkPW4oMyksXz1yKGQpLHY9big0MCkseT1yKHYpLG09big0MSksZz1yKG0pLGI9big0NSksdz1yKGIpLEU9big0NyksQz1yKEUpLGs9big1MCksaj1uKDUzKSx4PXIoaiksRj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7KDAseVtcImRlZmF1bHRcIl0pKHRoaXMsdCk7dmFyIG49RGF0ZSgpLnNsaWNlKDAsRGF0ZSgpLm1hdGNoKC9cXGR7NH0vKS5pbmRleCs0KSxyPXt0aXRsZTpcIkVwdWJQcmVzcyAtIFwiK24sZGVzY3JpcHRpb246dm9pZCAwLHNlY3Rpb25zOnZvaWQgMCx1cmxzOnZvaWQgMCxmaWxldHlwZTpcImVwdWJcIn07dGhpcy5ib29rRGF0YT0oMCxfW1wiZGVmYXVsdFwiXSkoe30scixlKSx0aGlzLmV2ZW50cz17fX1yZXR1cm4oMCxnW1wiZGVmYXVsdFwiXSkodCxudWxsLFt7a2V5OlwiY2hlY2tGb3JVcGRhdGVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPD0wfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/XCJlcHViLXByZXNzLWpzXCI6YXJndW1lbnRzWzBdLG49YXJndW1lbnRzLmxlbmd0aDw9MXx8dm9pZCAwPT09YXJndW1lbnRzWzFdP3QuZ2V0VmVyc2lvbigpOmFyZ3VtZW50c1sxXTtyZXR1cm4gbmV3IENbXCJkZWZhdWx0XCJdKGZ1bmN0aW9uKHIsaSl7ZmV0Y2godC5nZXRWZXJzaW9uVXJsKCkpLnRoZW4obCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdC5qc29uKCl9KS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBvPXQuY2xpZW50c1tlXTtvP3IocChuLG8pKTppKG5ldyBFcnJvcihcIlZlcnNpb24gZGF0YSBmb3IgXCIrZStcIiBub3QgZm91bmQuXCIpKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24odCl7dmFyIGU9Zih0KTtvKFwiVmVyc2lvbiBjaGVjayBmYWlsZWRcIixlKSxpKGUpfSl9KX19LHtrZXk6XCJnZXRQdWJsaXNoVXJsXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm90b3R5cGUuZ2V0UHVibGlzaFVybCgpfX0se2tleTpcImdldFZlcnNpb25VcmxcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0LkJBU0VfQVBJK1wiL3ZlcnNpb25cIn19LHtrZXk6XCJnZXRWZXJzaW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5WRVJTSU9OfX1dKSwoMCxnW1wiZGVmYXVsdFwiXSkodCxbe2tleTpcIm9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5ldmVudHNbdF18fCh0aGlzLmV2ZW50c1t0XT1bXSksdGhpcy5ldmVudHNbdF0ucHVzaChlKSxlfX0se2tleTpcImVtaXRcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxuPUFycmF5KGU+MT9lLTE6MCkscj0xO2U+cjtyKyspbltyLTFdPWFyZ3VtZW50c1tyXTt0aGlzLmV2ZW50c1t0XSYmdGhpcy5ldmVudHNbdF0uZm9yRWFjaChmdW5jdGlvbih0KXt0LmFwcGx5KHZvaWQgMCxuKX0pfX0se2tleTpcInJlbW92ZUxpc3RlbmVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0aGlzLmV2ZW50c1t0XSl7dmFyIG49dGhpcy5ldmVudHNbdF0uaW5kZXhPZihlKTtuPj0wJiZ0aGlzLmV2ZW50c1t0XS5zcGxpY2UobiwxKX19fSx7a2V5OlwiZ2V0VXJsc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9W10sZT10aGlzLmJvb2tEYXRhLG49ZS51cmxzLHI9ZS5zZWN0aW9ucztyZXR1cm4gbj90PW4uc2xpY2UoKTpyJiYodD1yLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC51cmx9KSksdH19LHtrZXk6XCJnZXRGaWxldHlwZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXR8fHRoaXMuYm9va0RhdGEuZmlsZXR5cGU7cmV0dXJuIGU/W1wibW9iaVwiLFwiZXB1YlwiXS5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiBlLnRvTG93ZXJDYXNlKCk9PT10fSl8fFwiZXB1YlwiOlwiZXB1YlwifX0se2tleTpcImdldEVtYWlsXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib29rRGF0YS5lbWFpbH19LHtrZXk6XCJnZXRUaXRsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9va0RhdGEudGl0bGV9fSx7a2V5OlwiZ2V0RGVzY3JpcHRpb25cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvb2tEYXRhLmRlc2NyaXB0aW9ufX0se2tleTpcImdldElkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib29rRGF0YS5pZH19LHtrZXk6XCJnZXRTdGF0dXNVcmxcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0LmdldFB1Ymxpc2hVcmwoKStcIi9cIit0aGlzLmdldElkKCkrXCIvc3RhdHVzXCJ9fSx7a2V5OlwiZ2V0UHVibGlzaFVybFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHQuQkFTRV9BUEkrXCIvYm9va3NcIn19LHtrZXk6XCJnZXREb3dubG9hZFVybFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aDw9MHx8dm9pZCAwPT09YXJndW1lbnRzWzBdP3RoaXMuZ2V0RmlsZXR5cGUoKTphcmd1bWVudHNbMF0sZT1oKHtmaWxldHlwZTp0fSk7cmV0dXJuIHRoaXMuZ2V0UHVibGlzaFVybCgpK1wiL1wiK3RoaXMuZ2V0SWQoKStcIi9kb3dubG9hZFwiK2V9fSx7a2V5OlwiZ2V0RW1haWxVcmxcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg8PTB8fHZvaWQgMD09PWFyZ3VtZW50c1swXT90aGlzLmdldEVtYWlsKCk6YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzLmxlbmd0aDw9MXx8dm9pZCAwPT09YXJndW1lbnRzWzFdP3RoaXMuZ2V0RmlsZXR5cGUoKTphcmd1bWVudHNbMV0sbj1oKHtlbWFpbDp0LGZpbGV0eXBlOmV9KTtyZXR1cm4gdGhpcy5nZXRQdWJsaXNoVXJsKCkrXCIvXCIrdGhpcy5nZXRJZCgpK1wiL2VtYWlsXCIrbn19LHtrZXk6XCJjaGVja1N0YXR1c1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IENbXCJkZWZhdWx0XCJdKGZ1bmN0aW9uKGUsbil7ZmV0Y2godC5nZXRTdGF0dXNVcmwoKSkudGhlbihsKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmpzb24oKX0pLnRoZW4oZnVuY3Rpb24odCl7ZSh0KX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24odCl7dmFyIGU9Zih0KTtuKGUpfSl9KX19LHtrZXk6XCJwdWJsaXNoXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLmlzUHVibGlzaGluZz9DW1wiZGVmYXVsdFwiXS5yZWplY3QobmV3IEVycm9yKFwiUHVibGlzaGluZyBpbiBwcm9ncmVzc1wiKSk6dGhpcy5nZXRJZCgpP0NbXCJkZWZhdWx0XCJdLnJlc29sdmUodGhpcy5nZXRJZCgpKToodGhpcy5pc1B1Ymxpc2hpbmc9ITAsbmV3IENbXCJkZWZhdWx0XCJdKGZ1bmN0aW9uKGUsbil7ZmV0Y2godC5nZXRQdWJsaXNoVXJsKCksYyh0LmJvb2tEYXRhKSkudGhlbihsKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmpzb24oKX0pLnRoZW4oZnVuY3Rpb24obil7dmFyIHI9bi5pZDtyZXR1cm4gdC5ib29rRGF0YS5pZD1yLHUodCkudGhlbihmdW5jdGlvbigpe2Uocil9KX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oZSl7dC5pc1B1Ymxpc2hpbmc9ITE7dmFyIHI9ZihlKTtvKFwiRWJ1cFByZXNzOiBQdWJsaXNoIGZhaWxlZFwiLHIpLG4ocil9KX0pKX19LHtrZXk6XCJkb3dubG9hZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBDW1wiZGVmYXVsdFwiXShmdW5jdGlvbihuLHIpe3MoZSksZmV0Y2goZS5nZXREb3dubG9hZFVybCh0KSkudGhlbihsKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0LmJsb2I/dC5ibG9iKCk6dC5idWZmZXIoKX0pLnRoZW4oZnVuY3Rpb24ocil7dmFyIGk9ZS5nZXRUaXRsZSgpK1wiLlwiKyh0fHxlLmdldEZpbGV0eXBlKCkpO2EoaSxyKSxuKCl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKHQpe3ZhciBlPWYodCk7byhcIkVwdWJQcmVzczogRG93bmxvYWQgZmFpbGVkXCIsZSkscihlKX0pfSl9fSx7a2V5OlwiZW1haWxcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBDW1wiZGVmYXVsdFwiXShmdW5jdGlvbihyLGkpe3JldHVybiB0PyhzKG4pLGZldGNoKG4uZ2V0RW1haWxVcmwodCxlKSkudGhlbihsKS50aGVuKGZ1bmN0aW9uKCl7byhcIkVwdWJQcmVzczogQm9vayBkZWxpdmVyZWQuXCIpLHIoKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24odCl7dmFyIGU9Zih0KTtvKFwiRXB1YlByZXNzOiBFbWFpbCBkZWxpdmVyeSBmYWlsZWQuXCIpLGkoZSl9KSk6aShuZXcgRXJyb3IoXCJFcHViUHJlc3M6IE5vIGVtYWlsIHByb3ZpZGVkLlwiKSl9KX19XSksdH0oKTtGLkJBU0VfVVJMPXhbXCJkZWZhdWx0XCJdLmJhc2VVcmwsRi5CQVNFX0FQST1GLkJBU0VfVVJMK1wiL2FwaS92MVwiLEYuVkVSU0lPTj14W1wiZGVmYXVsdFwiXS52ZXJzaW9uLEYuUE9MTF9SQVRFPTNlMyxGLkNIRUNLX1NUQVRVU19MSU1JVD00MCxGLkVSUk9SX0NPREVTPXswOlwiU2VydmVyIGlzIGRvd24uIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuXCIsXCJGYWlsZWQgdG8gZmV0Y2hcIjpcIlNlcnZlciBpcyBkb3duLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlwiLEZldGNoRXJyb3I6XCJTZXJ2ZXIgaXMgZG93bi4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cIiw0MDA6XCJUaGVyZSB3YXMgYSBwcm9ibGVtIHdpdGggdGhlIHJlcXVlc3QuIElzIEVwdWJQcmVzcyB1cCB0byBkYXRlP1wiLDQwNDpcIlJlc291cmNlIG5vdCBmb3VuZC5cIiw0MjI6XCJSZXF1ZXN0IGNvbnRhaW5lZCBpbnZhbGlkIGRhdGEuXCIsNTAwOlwiVW5leHBlY3RlZCBzZXJ2ZXIgZXJyb3IuXCIsNTAzOlwiU2VydmVyIHRvb2sgdG9vIGxvbmcgdG8gcmVzcG9uZC5cIix0aW1lb3V0OlwiUmVxdWVzdCB0b29rIHRvbyBsb25nIHRvIGNvbXBsZXRlLlwiLGVycm9yOnZvaWQgMCxTRVJWRVJfRkFJTEVEOlwiU2VydmVyIGVycm9yIHdoaWxlIGRvd25sb2FkaW5nLlwiLFNFUlZFUl9CQURfQ09OVEVOVDpcIkJvb2sgY291bGQgbm90IGJlIGZvdW5kXCJ9LHQuZXhwb3J0cz1GfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPXtcImRlZmF1bHRcIjpuKDQpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbih0LGUsbil7big1KSx0LmV4cG9ydHM9big4KS5PYmplY3QuYXNzaWdufSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big2KTtyKHIuUytyLkYsXCJPYmplY3RcIix7YXNzaWduOm4oMjEpfSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDcpLGk9big4KSxvPW4oOSkscz1uKDExKSxhPVwicHJvdG90eXBlXCIsYz1mdW5jdGlvbih0LGUsbil7dmFyIHUsbCxmLHA9dCZjLkYsaD10JmMuRyxkPXQmYy5TLF89dCZjLlAsdj10JmMuQix5PXQmYy5XLG09aD9pOmlbZV18fChpW2VdPXt9KSxnPW1bYV0sYj1oP3I6ZD9yW2VdOihyW2VdfHx7fSlbYV07aCYmKG49ZSk7Zm9yKHUgaW4gbilsPSFwJiZiJiZ2b2lkIDAhPT1iW3VdLGwmJnUgaW4gbXx8KGY9bD9iW3VdOm5bdV0sbVt1XT1oJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBiW3VdP25bdV06diYmbD9vKGYscik6eSYmYlt1XT09Zj9mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbihlLG4scil7aWYodGhpcyBpbnN0YW5jZW9mIHQpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyB0O2Nhc2UgMTpyZXR1cm4gbmV3IHQoZSk7Y2FzZSAyOnJldHVybiBuZXcgdChlLG4pfXJldHVybiBuZXcgdChlLG4scil9cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gZVthXT10W2FdLGV9KGYpOl8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIGY/byhGdW5jdGlvbi5jYWxsLGYpOmYsXyYmKChtLnZpcnR1YWx8fChtLnZpcnR1YWw9e30pKVt1XT1mLHQmYy5SJiZnJiYhZ1t1XSYmcyhnLHUsZikpKX07Yy5GPTEsYy5HPTIsYy5TPTQsYy5QPTgsYy5CPTE2LGMuVz0zMixjLlU9NjQsYy5SPTEyOCx0LmV4cG9ydHM9Y30sZnVuY3Rpb24odCxlKXt2YXIgbj10LmV4cG9ydHM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XCJudW1iZXJcIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0sZnVuY3Rpb24odCxlKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246XCIyLjQuMFwifTtcIm51bWJlclwiPT10eXBlb2YgX19lJiYoX19lPW4pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtpZihyKHQpLHZvaWQgMD09PWUpcmV0dXJuIHQ7c3dpdGNoKG4pe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQuY2FsbChlLG4pfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIHQuY2FsbChlLG4scil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24obixyLGkpe3JldHVybiB0LmNhbGwoZSxuLHIsaSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcih0K1wiIGlzIG5vdCBhIGZ1bmN0aW9uIVwiKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEyKSxpPW4oMjApO3QuZXhwb3J0cz1uKDE2KT9mdW5jdGlvbih0LGUsbil7cmV0dXJuIHIuZih0LGUsaSgxLG4pKX06ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0W2VdPW4sdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEzKSxpPW4oMTUpLG89bigxOSkscz1PYmplY3QuZGVmaW5lUHJvcGVydHk7ZS5mPW4oMTYpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbih0LGUsbil7aWYocih0KSxlPW8oZSwhMCkscihuKSxpKXRyeXtyZXR1cm4gcyh0LGUsbil9Y2F0Y2goYSl7fWlmKFwiZ2V0XCJpbiBufHxcInNldFwiaW4gbil0aHJvdyBUeXBlRXJyb3IoXCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCFcIik7cmV0dXJuXCJ2YWx1ZVwiaW4gbiYmKHRbZV09bi52YWx1ZSksdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE0KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoIXIodCkpdGhyb3cgVHlwZUVycm9yKHQrXCIgaXMgbm90IGFuIG9iamVjdCFcIik7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdD9udWxsIT09dDpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0fX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz0hbigxNikmJiFuKDE3KShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkobigxOCkoXCJkaXZcIiksXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz0hbigxNykoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LFwiYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4hIXQoKX1jYXRjaChlKXtyZXR1cm4hMH19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNCksaT1uKDcpLmRvY3VtZW50LG89cihpKSYmcihpLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbz9pLmNyZWF0ZUVsZW1lbnQodCk6e319fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoIXIodCkpcmV0dXJuIHQ7dmFyIG4saTtpZihlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZihuPXQudG9TdHJpbmcpJiYhcihpPW4uY2FsbCh0KSkpcmV0dXJuIGk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2Yobj10LnZhbHVlT2YpJiYhcihpPW4uY2FsbCh0KSkpcmV0dXJuIGk7aWYoIWUmJlwiZnVuY3Rpb25cIj09dHlwZW9mKG49dC50b1N0cmluZykmJiFyKGk9bi5jYWxsKHQpKSlyZXR1cm4gaTt0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIil9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybntlbnVtZXJhYmxlOiEoMSZ0KSxjb25maWd1cmFibGU6ISgyJnQpLHdyaXRhYmxlOiEoNCZ0KSx2YWx1ZTplfX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDIyKSxpPW4oMzcpLG89bigzOCkscz1uKDM5KSxhPW4oMjYpLGM9T2JqZWN0LmFzc2lnbjt0LmV4cG9ydHM9IWN8fG4oMTcpKGZ1bmN0aW9uKCl7dmFyIHQ9e30sZT17fSxuPVN5bWJvbCgpLHI9XCJhYmNkZWZnaGlqa2xtbm9wcXJzdFwiO3JldHVybiB0W25dPTcsci5zcGxpdChcIlwiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2VbdF09dH0pLDchPWMoe30sdClbbl18fE9iamVjdC5rZXlzKGMoe30sZSkpLmpvaW4oXCJcIikhPXJ9KT9mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1zKHQpLGM9YXJndW1lbnRzLmxlbmd0aCx1PTEsbD1pLmYsZj1vLmY7Yz51Oylmb3IodmFyIHAsaD1hKGFyZ3VtZW50c1t1KytdKSxkPWw/cihoKS5jb25jYXQobChoKSk6cihoKSxfPWQubGVuZ3RoLHY9MDtfPnY7KWYuY2FsbChoLHA9ZFt2KytdKSYmKG5bcF09aFtwXSk7cmV0dXJuIG59OmN9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIzKSxpPW4oMzYpO3QuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24odCl7cmV0dXJuIHIodCxpKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI0KSxpPW4oMjUpLG89bigyOSkoITEpLHM9bigzMykoXCJJRV9QUk9UT1wiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbixhPWkodCksYz0wLHU9W107Zm9yKG4gaW4gYSluIT1zJiZyKGEsbikmJnUucHVzaChuKTtmb3IoO2UubGVuZ3RoPmM7KXIoYSxuPWVbYysrXSkmJih+byh1LG4pfHx1LnB1c2gobikpO3JldHVybiB1fX0sZnVuY3Rpb24odCxlKXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbi5jYWxsKHQsZSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyNiksaT1uKDI4KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHIoaSh0KSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyNyk7dC5leHBvcnRzPU9iamVjdChcInpcIikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKHQpe3JldHVyblwiU3RyaW5nXCI9PXIodCk/dC5zcGxpdChcIlwiKTpPYmplY3QodCl9fSxmdW5jdGlvbih0LGUpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbi5jYWxsKHQpLnNsaWNlKDgsLTEpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT10KXRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIit0KTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI1KSxpPW4oMzApLG89bigzMik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4scyl7dmFyIGEsYz1yKGUpLHU9aShjLmxlbmd0aCksbD1vKHMsdSk7aWYodCYmbiE9bil7Zm9yKDt1Pmw7KWlmKGE9Y1tsKytdLGEhPWEpcmV0dXJuITB9ZWxzZSBmb3IoO3U+bDtsKyspaWYoKHR8fGwgaW4gYykmJmNbbF09PT1uKXJldHVybiB0fHxsfHwwO3JldHVybiF0JiYtMX19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzMSksaT1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQ+MD9pKHIodCksOTAwNzE5OTI1NDc0MDk5MSk6MH19LGZ1bmN0aW9uKHQsZSl7dmFyIG49TWF0aC5jZWlsLHI9TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGlzTmFOKHQ9K3QpPzA6KHQ+MD9yOm4pKHQpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzEpLGk9TWF0aC5tYXgsbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD1yKHQpLDA+dD9pKHQrZSwwKTpvKHQsZSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzNCkoXCJrZXlzXCIpLGk9bigzNSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByW3RdfHwoclt0XT1pKHQpKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDcpLGk9XCJfX2NvcmUtanNfc2hhcmVkX19cIixvPXJbaV18fChyW2ldPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG9bdF18fChvW3RdPXt9KX19LGZ1bmN0aW9uKHQsZSl7dmFyIG49MCxyPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVyblwiU3ltYm9sKFwiLmNvbmNhdCh2b2lkIDA9PT10P1wiXCI6dCxcIilfXCIsKCsrbityKS50b1N0cmluZygzNikpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCJjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2ZcIi5zcGxpdChcIixcIil9LGZ1bmN0aW9uKHQsZSl7ZS5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHN9LGZ1bmN0aW9uKHQsZSl7ZS5mPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyOCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qocih0KSl9fSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO2UuX19lc01vZHVsZT0hMCxlW1wiZGVmYXVsdFwiXT1mdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWUuX19lc01vZHVsZT0hMDt2YXIgaT1uKDQyKSxvPXIoaSk7ZVtcImRlZmF1bHRcIl09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLCgwLG9bXCJkZWZhdWx0XCJdKSh0LHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLHImJnQoZSxyKSxlfX0oKX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz17XCJkZWZhdWx0XCI6big0MyksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKHQsZSxuKXtuKDQ0KTt2YXIgcj1uKDgpLk9iamVjdDt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiByLmRlZmluZVByb3BlcnR5KHQsZSxuKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDYpO3Ioci5TK3IuRiohbigxNiksXCJPYmplY3RcIix7ZGVmaW5lUHJvcGVydHk6bigxMikuZn0pfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPXtcImRlZmF1bHRcIjpuKDQ2KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oOCksaT1yLkpTT058fChyLkpTT049e3N0cmluZ2lmeTpKU09OLnN0cmluZ2lmeX0pO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaS5zdHJpbmdpZnkuYXBwbHkoaSxhcmd1bWVudHMpfX0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbihlLG4scil7LyogQHByZXNlcnZlXG5cdCAqIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuXHQgKiBcblx0ICogQ29weXJpZ2h0IChjKSAyMDEzLTIwMTUgUGV0a2EgQW50b25vdlxuXHQgKiBcblx0ICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuXHQgKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG5cdCAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcblx0ICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuXHQgKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcblx0ICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblx0ICogXG5cdCAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG5cdCAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXHQgKiBcblx0ICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuXHQgKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcblx0ICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuXHQgKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG5cdCAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG5cdCAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cblx0ICogVEhFIFNPRlRXQVJFLlxuXHQgKiBcblx0ICovXG4hZnVuY3Rpb24oZSl7dC5leHBvcnRzPWUoKX0oZnVuY3Rpb24oKXt2YXIgdCxpLG87cmV0dXJuIGZ1bmN0aW9uIHModCxlLG4pe2Z1bmN0aW9uIHIobyxhKXtpZighZVtvXSl7aWYoIXRbb10pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIF9kZXJlcV8mJl9kZXJlcV87aWYoIWEmJmMpcmV0dXJuIGMobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgdT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IHUuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIix1fXZhciBsPWVbb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcihuP246ZSl9LGwsbC5leHBvcnRzLHMsdCxlLG4pfXJldHVybiBlW29dLmV4cG9ydHN9Zm9yKHZhciBpPVwiZnVuY3Rpb25cIj09dHlwZW9mIF9kZXJlcV8mJl9kZXJlcV8sbz0wO288bi5sZW5ndGg7bysrKXIobltvXSk7cmV0dXJuIHJ9KHsxOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIGU9bmV3IG4odCkscj1lLnByb21pc2UoKTtyZXR1cm4gZS5zZXRIb3dNYW55KDEpLGUuc2V0VW53cmFwKCksZS5pbml0KCkscn12YXIgbj10Ll9Tb21lUHJvbWlzZUFycmF5O3QuYW55PWZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfSx0LnByb3RvdHlwZS5hbnk9ZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzKX19fSx7fV0sMjpbZnVuY3Rpb24odCxuLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoKXt0aGlzLl9jdXN0b21TY2hlZHVsZXI9ITEsdGhpcy5faXNUaWNrVXNlZD0hMSx0aGlzLl9sYXRlUXVldWU9bmV3IGYoMTYpLHRoaXMuX25vcm1hbFF1ZXVlPW5ldyBmKDE2KSx0aGlzLl9oYXZlRHJhaW5lZFF1ZXVlcz0hMSx0aGlzLl90cmFtcG9saW5lRW5hYmxlZD0hMDt2YXIgdD10aGlzO3RoaXMuZHJhaW5RdWV1ZXM9ZnVuY3Rpb24oKXt0Ll9kcmFpblF1ZXVlcygpfSx0aGlzLl9zY2hlZHVsZT1sfWZ1bmN0aW9uIG8odCxlLG4pe3RoaXMuX2xhdGVRdWV1ZS5wdXNoKHQsZSxuKSx0aGlzLl9xdWV1ZVRpY2soKX1mdW5jdGlvbiBzKHQsZSxuKXt0aGlzLl9ub3JtYWxRdWV1ZS5wdXNoKHQsZSxuKSx0aGlzLl9xdWV1ZVRpY2soKX1mdW5jdGlvbiBhKHQpe3RoaXMuX25vcm1hbFF1ZXVlLl9wdXNoT25lKHQpLHRoaXMuX3F1ZXVlVGljaygpfXZhciBjO3RyeXt0aHJvdyBuZXcgRXJyb3J9Y2F0Y2godSl7Yz11fXZhciBsPXQoXCIuL3NjaGVkdWxlXCIpLGY9dChcIi4vcXVldWVcIikscD10KFwiLi91dGlsXCIpO2kucHJvdG90eXBlLnNldFNjaGVkdWxlcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zY2hlZHVsZTtyZXR1cm4gdGhpcy5fc2NoZWR1bGU9dCx0aGlzLl9jdXN0b21TY2hlZHVsZXI9ITAsZX0saS5wcm90b3R5cGUuaGFzQ3VzdG9tU2NoZWR1bGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1c3RvbVNjaGVkdWxlcn0saS5wcm90b3R5cGUuZW5hYmxlVHJhbXBvbGluZT1mdW5jdGlvbigpe3RoaXMuX3RyYW1wb2xpbmVFbmFibGVkPSEwfSxpLnByb3RvdHlwZS5kaXNhYmxlVHJhbXBvbGluZUlmTmVjZXNzYXJ5PWZ1bmN0aW9uKCl7cC5oYXNEZXZUb29scyYmKHRoaXMuX3RyYW1wb2xpbmVFbmFibGVkPSExKX0saS5wcm90b3R5cGUuaGF2ZUl0ZW1zUXVldWVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzVGlja1VzZWR8fHRoaXMuX2hhdmVEcmFpbmVkUXVldWVzfSxpLnByb3RvdHlwZS5mYXRhbEVycm9yPWZ1bmN0aW9uKHQsbil7bj8oZS5zdGRlcnIud3JpdGUoXCJGYXRhbCBcIisodCBpbnN0YW5jZW9mIEVycm9yP3Quc3RhY2s6dCkrXCJcXG5cIiksZS5leGl0KDIpKTp0aGlzLnRocm93TGF0ZXIodCl9LGkucHJvdG90eXBlLnRocm93TGF0ZXI9ZnVuY3Rpb24odCxlKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCYmKGU9dCx0PWZ1bmN0aW9uKCl7dGhyb3cgZX0pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZXRUaW1lb3V0KXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0KGUpfSwwKTtlbHNlIHRyeXt0aGlzLl9zY2hlZHVsZShmdW5jdGlvbigpe3QoZSl9KX1jYXRjaChuKXt0aHJvdyBuZXcgRXJyb3IoXCJObyBhc3luYyBzY2hlZHVsZXIgYXZhaWxhYmxlXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKX19LHAuaGFzRGV2VG9vbHM/KGkucHJvdG90eXBlLmludm9rZUxhdGVyPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl90cmFtcG9saW5lRW5hYmxlZD9vLmNhbGwodGhpcyx0LGUsbik6dGhpcy5fc2NoZWR1bGUoZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5jYWxsKGUsbil9LDEwMCl9KX0saS5wcm90b3R5cGUuaW52b2tlPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl90cmFtcG9saW5lRW5hYmxlZD9zLmNhbGwodGhpcyx0LGUsbik6dGhpcy5fc2NoZWR1bGUoZnVuY3Rpb24oKXt0LmNhbGwoZSxuKX0pfSxpLnByb3RvdHlwZS5zZXR0bGVQcm9taXNlcz1mdW5jdGlvbih0KXt0aGlzLl90cmFtcG9saW5lRW5hYmxlZD9hLmNhbGwodGhpcyx0KTp0aGlzLl9zY2hlZHVsZShmdW5jdGlvbigpe3QuX3NldHRsZVByb21pc2VzKCl9KX0pOihpLnByb3RvdHlwZS5pbnZva2VMYXRlcj1vLGkucHJvdG90eXBlLmludm9rZT1zLGkucHJvdG90eXBlLnNldHRsZVByb21pc2VzPWEpLGkucHJvdG90eXBlLmludm9rZUZpcnN0PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl9ub3JtYWxRdWV1ZS51bnNoaWZ0KHQsZSxuKSx0aGlzLl9xdWV1ZVRpY2soKX0saS5wcm90b3R5cGUuX2RyYWluUXVldWU9ZnVuY3Rpb24odCl7Zm9yKDt0Lmxlbmd0aCgpPjA7KXt2YXIgZT10LnNoaWZ0KCk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZSl7dmFyIG49dC5zaGlmdCgpLHI9dC5zaGlmdCgpO2UuY2FsbChuLHIpfWVsc2UgZS5fc2V0dGxlUHJvbWlzZXMoKX19LGkucHJvdG90eXBlLl9kcmFpblF1ZXVlcz1mdW5jdGlvbigpe3RoaXMuX2RyYWluUXVldWUodGhpcy5fbm9ybWFsUXVldWUpLHRoaXMuX3Jlc2V0KCksdGhpcy5faGF2ZURyYWluZWRRdWV1ZXM9ITAsdGhpcy5fZHJhaW5RdWV1ZSh0aGlzLl9sYXRlUXVldWUpfSxpLnByb3RvdHlwZS5fcXVldWVUaWNrPWZ1bmN0aW9uKCl7dGhpcy5faXNUaWNrVXNlZHx8KHRoaXMuX2lzVGlja1VzZWQ9ITAsdGhpcy5fc2NoZWR1bGUodGhpcy5kcmFpblF1ZXVlcykpfSxpLnByb3RvdHlwZS5fcmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9pc1RpY2tVc2VkPSExfSxuLmV4cG9ydHM9aSxuLmV4cG9ydHMuZmlyc3RMaW5lRXJyb3I9Y30se1wiLi9xdWV1ZVwiOjI2LFwiLi9zY2hlZHVsZVwiOjI5LFwiLi91dGlsXCI6MzZ9XSwzOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPSExLG89ZnVuY3Rpb24odCxlKXt0aGlzLl9yZWplY3QoZSl9LHM9ZnVuY3Rpb24odCxlKXtlLnByb21pc2VSZWplY3Rpb25RdWV1ZWQ9ITAsZS5iaW5kaW5nUHJvbWlzZS5fdGhlbihvLG8sbnVsbCx0aGlzLHQpfSxhPWZ1bmN0aW9uKHQsZSl7MD09PSg1MDM5NzE4NCZ0aGlzLl9iaXRGaWVsZCkmJnRoaXMuX3Jlc29sdmVDYWxsYmFjayhlLnRhcmdldCl9LGM9ZnVuY3Rpb24odCxlKXtlLnByb21pc2VSZWplY3Rpb25RdWV1ZWR8fHRoaXMuX3JlamVjdCh0KX07dC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihvKXtpfHwoaT0hMCx0LnByb3RvdHlwZS5fcHJvcGFnYXRlRnJvbT1yLnByb3BhZ2F0ZUZyb21GdW5jdGlvbigpLHQucHJvdG90eXBlLl9ib3VuZFZhbHVlPXIuYm91bmRWYWx1ZUZ1bmN0aW9uKCkpO3ZhciB1PW4obyksbD1uZXcgdChlKTtsLl9wcm9wYWdhdGVGcm9tKHRoaXMsMSk7dmFyIGY9dGhpcy5fdGFyZ2V0KCk7aWYobC5fc2V0Qm91bmRUbyh1KSx1IGluc3RhbmNlb2YgdCl7dmFyIHA9e3Byb21pc2VSZWplY3Rpb25RdWV1ZWQ6ITEscHJvbWlzZTpsLHRhcmdldDpmLGJpbmRpbmdQcm9taXNlOnV9O2YuX3RoZW4oZSxzLHZvaWQgMCxsLHApLHUuX3RoZW4oYSxjLHZvaWQgMCxsLHApLGwuX3NldE9uQ2FuY2VsKHUpfWVsc2UgbC5fcmVzb2x2ZUNhbGxiYWNrKGYpO3JldHVybiBsfSx0LnByb3RvdHlwZS5fc2V0Qm91bmRUbz1mdW5jdGlvbih0KXt2b2lkIDAhPT10Pyh0aGlzLl9iaXRGaWVsZD0yMDk3MTUyfHRoaXMuX2JpdEZpZWxkLHRoaXMuX2JvdW5kVG89dCk6dGhpcy5fYml0RmllbGQ9LTIwOTcxNTMmdGhpcy5fYml0RmllbGR9LHQucHJvdG90eXBlLl9pc0JvdW5kPWZ1bmN0aW9uKCl7cmV0dXJuIDIwOTcxNTI9PT0oMjA5NzE1MiZ0aGlzLl9iaXRGaWVsZCl9LHQuYmluZD1mdW5jdGlvbihlLG4pe3JldHVybiB0LnJlc29sdmUobikuYmluZChlKX19fSx7fV0sNDpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoKXt0cnl7UHJvbWlzZT09PW8mJihQcm9taXNlPWkpfWNhdGNoKHQpe31yZXR1cm4gb312YXIgaTtcInVuZGVmaW5lZFwiIT10eXBlb2YgUHJvbWlzZSYmKGk9UHJvbWlzZSk7dmFyIG89dChcIi4vcHJvbWlzZVwiKSgpO28ubm9Db25mbGljdD1yLGUuZXhwb3J0cz1vfSx7XCIuL3Byb21pc2VcIjoyMn1dLDU6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1PYmplY3QuY3JlYXRlO2lmKHIpe3ZhciBpPXIobnVsbCksbz1yKG51bGwpO2lbXCIgc2l6ZVwiXT1vW1wiIHNpemVcIl09MH1lLmV4cG9ydHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbih0LG4pe3ZhciByO2lmKG51bGwhPXQmJihyPXRbbl0pLFwiZnVuY3Rpb25cIiE9dHlwZW9mIHIpe3ZhciBpPVwiT2JqZWN0IFwiK2EuY2xhc3NTdHJpbmcodCkrXCIgaGFzIG5vIG1ldGhvZCAnXCIrYS50b1N0cmluZyhuKStcIidcIjt0aHJvdyBuZXcgZS5UeXBlRXJyb3IoaSl9cmV0dXJuIHJ9ZnVuY3Rpb24gcih0KXt2YXIgZT10aGlzLnBvcCgpLHI9bih0LGUpO3JldHVybiByLmFwcGx5KHQsdGhpcyl9ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdFt0aGlzXX1mdW5jdGlvbiBvKHQpe3ZhciBlPSt0aGlzO3JldHVybiAwPmUmJihlPU1hdGgubWF4KDAsZSt0Lmxlbmd0aCkpLHRbZV19dmFyIHMsYT10KFwiLi91dGlsXCIpLGM9YS5jYW5FdmFsdWF0ZTthLmlzSWRlbnRpZmllcjtlLnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKHQpe3ZhciBlPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBlLnB1c2godCksdGhpcy5fdGhlbihyLHZvaWQgMCx2b2lkIDAsZSx2b2lkIDApfSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7dmFyIGUsbj1cIm51bWJlclwiPT10eXBlb2YgdDtpZihuKWU9bztlbHNlIGlmKGMpe3ZhciByPXModCk7ZT1udWxsIT09cj9yOml9ZWxzZSBlPWk7cmV0dXJuIHRoaXMuX3RoZW4oZSx2b2lkIDAsdm9pZCAwLHQsdm9pZCAwKX19fSx7XCIuL3V0aWxcIjozNn1dLDY6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIsaSl7dmFyIG89dChcIi4vdXRpbFwiKSxzPW8udHJ5Q2F0Y2gsYT1vLmVycm9yT2JqLGM9ZS5fYXN5bmM7ZS5wcm90b3R5cGVbXCJicmVha1wiXT1lLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXtpZighaS5jYW5jZWxsYXRpb24oKSlyZXR1cm4gdGhpcy5fd2FybihcImNhbmNlbGxhdGlvbiBpcyBkaXNhYmxlZFwiKTtmb3IodmFyIHQ9dGhpcyxlPXQ7dC5faXNDYW5jZWxsYWJsZSgpOyl7aWYoIXQuX2NhbmNlbEJ5KGUpKXtlLl9pc0ZvbGxvd2luZygpP2UuX2ZvbGxvd2VlKCkuY2FuY2VsKCk6ZS5fY2FuY2VsQnJhbmNoZWQoKTticmVha312YXIgbj10Ll9jYW5jZWxsYXRpb25QYXJlbnQ7aWYobnVsbD09bnx8IW4uX2lzQ2FuY2VsbGFibGUoKSl7dC5faXNGb2xsb3dpbmcoKT90Ll9mb2xsb3dlZSgpLmNhbmNlbCgpOnQuX2NhbmNlbEJyYW5jaGVkKCk7YnJlYWt9dC5faXNGb2xsb3dpbmcoKSYmdC5fZm9sbG93ZWUoKS5jYW5jZWwoKSx0Ll9zZXRXaWxsQmVDYW5jZWxsZWQoKSxlPXQsdD1ufX0sZS5wcm90b3R5cGUuX2JyYW5jaEhhc0NhbmNlbGxlZD1mdW5jdGlvbigpe3RoaXMuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwtLX0sZS5wcm90b3R5cGUuX2Vub3VnaEJyYW5jaGVzSGF2ZUNhbmNlbGxlZD1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10aGlzLl9icmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsfHx0aGlzLl9icmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsPD0wfSxlLnByb3RvdHlwZS5fY2FuY2VsQnk9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT10aGlzPyh0aGlzLl9icmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsPTAsdGhpcy5faW52b2tlT25DYW5jZWwoKSwhMCk6KHRoaXMuX2JyYW5jaEhhc0NhbmNlbGxlZCgpLHRoaXMuX2Vub3VnaEJyYW5jaGVzSGF2ZUNhbmNlbGxlZCgpPyh0aGlzLl9pbnZva2VPbkNhbmNlbCgpLCEwKTohMSl9LGUucHJvdG90eXBlLl9jYW5jZWxCcmFuY2hlZD1mdW5jdGlvbigpe3RoaXMuX2Vub3VnaEJyYW5jaGVzSGF2ZUNhbmNlbGxlZCgpJiZ0aGlzLl9jYW5jZWwoKX0sZS5wcm90b3R5cGUuX2NhbmNlbD1mdW5jdGlvbigpe3RoaXMuX2lzQ2FuY2VsbGFibGUoKSYmKHRoaXMuX3NldENhbmNlbGxlZCgpLGMuaW52b2tlKHRoaXMuX2NhbmNlbFByb21pc2VzLHRoaXMsdm9pZCAwKSl9LGUucHJvdG90eXBlLl9jYW5jZWxQcm9taXNlcz1mdW5jdGlvbigpe3RoaXMuX2xlbmd0aCgpPjAmJnRoaXMuX3NldHRsZVByb21pc2VzKCl9LGUucHJvdG90eXBlLl91bnNldE9uQ2FuY2VsPWZ1bmN0aW9uKCl7dGhpcy5fb25DYW5jZWxGaWVsZD12b2lkIDB9LGUucHJvdG90eXBlLl9pc0NhbmNlbGxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNQZW5kaW5nKCkmJiF0aGlzLl9pc0NhbmNlbGxlZCgpfSxlLnByb3RvdHlwZS5pc0NhbmNlbGxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNQZW5kaW5nKCkmJiF0aGlzLmlzQ2FuY2VsbGVkKCl9LGUucHJvdG90eXBlLl9kb0ludm9rZU9uQ2FuY2VsPWZ1bmN0aW9uKHQsZSl7aWYoby5pc0FycmF5KHQpKWZvcih2YXIgbj0wO248dC5sZW5ndGg7KytuKXRoaXMuX2RvSW52b2tlT25DYW5jZWwodFtuXSxlKTtlbHNlIGlmKHZvaWQgMCE9PXQpaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdCl7aWYoIWUpe3ZhciByPXModCkuY2FsbCh0aGlzLl9ib3VuZFZhbHVlKCkpO3I9PT1hJiYodGhpcy5fYXR0YWNoRXh0cmFUcmFjZShyLmUpLGMudGhyb3dMYXRlcihyLmUpKX19ZWxzZSB0Ll9yZXN1bHRDYW5jZWxsZWQodGhpcyl9LGUucHJvdG90eXBlLl9pbnZva2VPbkNhbmNlbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX29uQ2FuY2VsKCk7dGhpcy5fdW5zZXRPbkNhbmNlbCgpLGMuaW52b2tlKHRoaXMuX2RvSW52b2tlT25DYW5jZWwsdGhpcyx0KX0sZS5wcm90b3R5cGUuX2ludm9rZUludGVybmFsT25DYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLl9pc0NhbmNlbGxhYmxlKCkmJih0aGlzLl9kb0ludm9rZU9uQ2FuY2VsKHRoaXMuX29uQ2FuY2VsKCksITApLHRoaXMuX3Vuc2V0T25DYW5jZWwoKSl9LGUucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQ9ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbCgpfX19LHtcIi4vdXRpbFwiOjM2fV0sNzpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKHQsbixhKXtyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIHU9YS5fYm91bmRWYWx1ZSgpO3Q6Zm9yKHZhciBsPTA7bDx0Lmxlbmd0aDsrK2wpe3ZhciBmPXRbbF07aWYoZj09PUVycm9yfHxudWxsIT1mJiZmLnByb3RvdHlwZSBpbnN0YW5jZW9mIEVycm9yKXtpZihjIGluc3RhbmNlb2YgZilyZXR1cm4gbyhuKS5jYWxsKHUsYyl9ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBmKXt2YXIgcD1vKGYpLmNhbGwodSxjKTtpZihwPT09cylyZXR1cm4gcDtpZihwKXJldHVybiBvKG4pLmNhbGwodSxjKX1lbHNlIGlmKHIuaXNPYmplY3QoYykpe2Zvcih2YXIgaD1pKGYpLGQ9MDtkPGgubGVuZ3RoOysrZCl7dmFyIF89aFtkXTtpZihmW19dIT1jW19dKWNvbnRpbnVlIHR9cmV0dXJuIG8obikuY2FsbCh1LGMpfX1yZXR1cm4gZX19dmFyIHI9dChcIi4vdXRpbFwiKSxpPXQoXCIuL2VzNVwiKS5rZXlzLG89ci50cnlDYXRjaCxzPXIuZXJyb3JPYmo7cmV0dXJuIG59fSx7XCIuL2VzNVwiOjEzLFwiLi91dGlsXCI6MzZ9XSw4OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0aGlzLl90cmFjZT1uZXcgZS5DYXB0dXJlZFRyYWNlKHIoKSl9ZnVuY3Rpb24gbigpe3JldHVybiBpP25ldyBlOnZvaWQgMH1mdW5jdGlvbiByKCl7dmFyIHQ9by5sZW5ndGgtMTtyZXR1cm4gdD49MD9vW3RdOnZvaWQgMH12YXIgaT0hMSxvPVtdO3JldHVybiB0LnByb3RvdHlwZS5fcHJvbWlzZUNyZWF0ZWQ9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLl9wdXNoQ29udGV4dD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuX3BvcENvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sdC5fcGVla0NvbnRleHQ9dC5wcm90b3R5cGUuX3BlZWtDb250ZXh0PWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5fcHVzaENvbnRleHQ9ZnVuY3Rpb24oKXt2b2lkIDAhPT10aGlzLl90cmFjZSYmKHRoaXMuX3RyYWNlLl9wcm9taXNlQ3JlYXRlZD1udWxsLG8ucHVzaCh0aGlzLl90cmFjZSkpfSxlLnByb3RvdHlwZS5fcG9wQ29udGV4dD1mdW5jdGlvbigpe2lmKHZvaWQgMCE9PXRoaXMuX3RyYWNlKXt2YXIgdD1vLnBvcCgpLGU9dC5fcHJvbWlzZUNyZWF0ZWQ7cmV0dXJuIHQuX3Byb21pc2VDcmVhdGVkPW51bGwsZX1yZXR1cm4gbnVsbH0sZS5DYXB0dXJlZFRyYWNlPW51bGwsZS5jcmVhdGU9bixlLmRlYWN0aXZhdGVMb25nU3RhY2tUcmFjZXM9ZnVuY3Rpb24oKXt9LGUuYWN0aXZhdGVMb25nU3RhY2tUcmFjZXM9ZnVuY3Rpb24oKXt2YXIgbj10LnByb3RvdHlwZS5fcHVzaENvbnRleHQsbz10LnByb3RvdHlwZS5fcG9wQ29udGV4dCxzPXQuX3BlZWtDb250ZXh0LGE9dC5wcm90b3R5cGUuX3BlZWtDb250ZXh0LGM9dC5wcm90b3R5cGUuX3Byb21pc2VDcmVhdGVkO2UuZGVhY3RpdmF0ZUxvbmdTdGFja1RyYWNlcz1mdW5jdGlvbigpe3QucHJvdG90eXBlLl9wdXNoQ29udGV4dD1uLHQucHJvdG90eXBlLl9wb3BDb250ZXh0PW8sdC5fcGVla0NvbnRleHQ9cyx0LnByb3RvdHlwZS5fcGVla0NvbnRleHQ9YSx0LnByb3RvdHlwZS5fcHJvbWlzZUNyZWF0ZWQ9YyxpPSExfSxpPSEwLHQucHJvdG90eXBlLl9wdXNoQ29udGV4dD1lLnByb3RvdHlwZS5fcHVzaENvbnRleHQsdC5wcm90b3R5cGUuX3BvcENvbnRleHQ9ZS5wcm90b3R5cGUuX3BvcENvbnRleHQsdC5fcGVla0NvbnRleHQ9dC5wcm90b3R5cGUuX3BlZWtDb250ZXh0PXIsdC5wcm90b3R5cGUuX3Byb21pc2VDcmVhdGVkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcGVla0NvbnRleHQoKTt0JiZudWxsPT10Ll9wcm9taXNlQ3JlYXRlZCYmKHQuX3Byb21pc2VDcmVhdGVkPXRoaXMpfX0sZX19LHt9XSw5OltmdW5jdGlvbih0LG4scil7XCJ1c2Ugc3RyaWN0XCI7bi5leHBvcnRzPWZ1bmN0aW9uKG4scil7ZnVuY3Rpb24gaSh0LGUpe3JldHVybntwcm9taXNlOmV9fWZ1bmN0aW9uIG8oKXtyZXR1cm4hMX1mdW5jdGlvbiBzKHQsZSxuKXt2YXIgcj10aGlzO3RyeXt0KGUsbixmdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJvbkNhbmNlbCBtdXN0IGJlIGEgZnVuY3Rpb24sIGdvdDogXCIrVi50b1N0cmluZyh0KSk7ci5fYXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2sodCl9KX1jYXRjaChpKXtyZXR1cm4gaX19ZnVuY3Rpb24gYSh0KXtpZighdGhpcy5faXNDYW5jZWxsYWJsZSgpKXJldHVybiB0aGlzO3ZhciBlPXRoaXMuX29uQ2FuY2VsKCk7dm9pZCAwIT09ZT9WLmlzQXJyYXkoZSk/ZS5wdXNoKHQpOnRoaXMuX3NldE9uQ2FuY2VsKFtlLHRdKTp0aGlzLl9zZXRPbkNhbmNlbCh0KX1mdW5jdGlvbiBjKCl7cmV0dXJuIHRoaXMuX29uQ2FuY2VsRmllbGR9ZnVuY3Rpb24gdSh0KXt0aGlzLl9vbkNhbmNlbEZpZWxkPXR9ZnVuY3Rpb24gbCgpe3RoaXMuX2NhbmNlbGxhdGlvblBhcmVudD12b2lkIDAsdGhpcy5fb25DYW5jZWxGaWVsZD12b2lkIDB9ZnVuY3Rpb24gZih0LGUpe2lmKDAhPT0oMSZlKSl7dGhpcy5fY2FuY2VsbGF0aW9uUGFyZW50PXQ7dmFyIG49dC5fYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbDt2b2lkIDA9PT1uJiYobj0wKSx0Ll9icmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsPW4rMX0wIT09KDImZSkmJnQuX2lzQm91bmQoKSYmdGhpcy5fc2V0Qm91bmRUbyh0Ll9ib3VuZFRvKX1mdW5jdGlvbiBwKHQsZSl7MCE9PSgyJmUpJiZ0Ll9pc0JvdW5kKCkmJnRoaXMuX3NldEJvdW5kVG8odC5fYm91bmRUbyl9ZnVuY3Rpb24gaCgpe3ZhciB0PXRoaXMuX2JvdW5kVG87cmV0dXJuIHZvaWQgMCE9PXQmJnQgaW5zdGFuY2VvZiBuP3QuaXNGdWxmaWxsZWQoKT90LnZhbHVlKCk6dm9pZCAwOnR9ZnVuY3Rpb24gZCgpe3RoaXMuX3RyYWNlPW5ldyBSKHRoaXMuX3BlZWtDb250ZXh0KCkpfWZ1bmN0aW9uIF8odCxlKXtpZihCKHQpKXt2YXIgbj10aGlzLl90cmFjZTtpZih2b2lkIDAhPT1uJiZlJiYobj1uLl9wYXJlbnQpLHZvaWQgMCE9PW4pbi5hdHRhY2hFeHRyYVRyYWNlKHQpO2Vsc2UgaWYoIXQuX19zdGFja0NsZWFuZWRfXyl7dmFyIHI9ayh0KTtWLm5vdEVudW1lcmFibGVQcm9wKHQsXCJzdGFja1wiLHIubWVzc2FnZStcIlxcblwiK3Iuc3RhY2suam9pbihcIlxcblwiKSksVi5ub3RFbnVtZXJhYmxlUHJvcCh0LFwiX19zdGFja0NsZWFuZWRfX1wiLCEwKX19fWZ1bmN0aW9uIHYodCxlLG4scixpKXtpZih2b2lkIDA9PT10JiZudWxsIT09ZSYmSyl7aWYodm9pZCAwIT09aSYmaS5fcmV0dXJuZWROb25VbmRlZmluZWQoKSlyZXR1cm47aWYoMD09PSg2NTUzNSZyLl9iaXRGaWVsZCkpcmV0dXJuO24mJihuKz1cIiBcIik7dmFyIG89XCJcIixzPVwiXCI7aWYoZS5fdHJhY2Upe2Zvcih2YXIgYT1lLl90cmFjZS5zdGFjay5zcGxpdChcIlxcblwiKSxjPUUoYSksdT1jLmxlbmd0aC0xO3U+PTA7LS11KXt2YXIgbD1jW3VdO2lmKCFILnRlc3QobCkpe3ZhciBmPWwubWF0Y2gocSk7ZiYmKG89XCJhdCBcIitmWzFdK1wiOlwiK2ZbMl0rXCI6XCIrZlszXStcIiBcIik7YnJlYWt9fWlmKGMubGVuZ3RoPjApZm9yKHZhciBwPWNbMF0sdT0wO3U8YS5sZW5ndGg7Kyt1KWlmKGFbdV09PT1wKXt1PjAmJihzPVwiXFxuXCIrYVt1LTFdKTticmVha319dmFyIGg9XCJhIHByb21pc2Ugd2FzIGNyZWF0ZWQgaW4gYSBcIituK1wiaGFuZGxlciBcIitvK1wiYnV0IHdhcyBub3QgcmV0dXJuZWQgZnJvbSBpdCwgc2VlIGh0dHA6Ly9nb28uZ2wvclJxTVV3XCIrcztyLl93YXJuKGgsITAsZSl9fWZ1bmN0aW9uIHkodCxlKXt2YXIgbj10K1wiIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSB2ZXJzaW9uLlwiO3JldHVybiBlJiYobis9XCIgVXNlIFwiK2UrXCIgaW5zdGVhZC5cIiksbShuKX1mdW5jdGlvbiBtKHQsZSxyKXtpZihzdC53YXJuaW5ncyl7dmFyIGksbz1uZXcgTCh0KTtpZihlKXIuX2F0dGFjaEV4dHJhVHJhY2Uobyk7ZWxzZSBpZihzdC5sb25nU3RhY2tUcmFjZXMmJihpPW4uX3BlZWtDb250ZXh0KCkpKWkuYXR0YWNoRXh0cmFUcmFjZShvKTtlbHNle3ZhciBzPWsobyk7by5zdGFjaz1zLm1lc3NhZ2UrXCJcXG5cIitzLnN0YWNrLmpvaW4oXCJcXG5cIil9ZXQoXCJ3YXJuaW5nXCIsbyl8fGoobyxcIlwiLCEwKX19ZnVuY3Rpb24gZyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGgtMTsrK24pZVtuXS5wdXNoKFwiRnJvbSBwcmV2aW91cyBldmVudDpcIiksZVtuXT1lW25dLmpvaW4oXCJcXG5cIik7cmV0dXJuIG48ZS5sZW5ndGgmJihlW25dPWVbbl0uam9pbihcIlxcblwiKSksdCtcIlxcblwiK2Uuam9pbihcIlxcblwiKX1mdW5jdGlvbiBiKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7KytlKSgwPT09dFtlXS5sZW5ndGh8fGUrMTx0Lmxlbmd0aCYmdFtlXVswXT09PXRbZSsxXVswXSkmJih0LnNwbGljZShlLDEpLGUtLSl9ZnVuY3Rpb24gdyh0KXtmb3IodmFyIGU9dFswXSxuPTE7bjx0Lmxlbmd0aDsrK24pe2Zvcih2YXIgcj10W25dLGk9ZS5sZW5ndGgtMSxvPWVbaV0scz0tMSxhPXIubGVuZ3RoLTE7YT49MDstLWEpaWYoclthXT09PW8pe3M9YTticmVha31mb3IodmFyIGE9czthPj0wOy0tYSl7dmFyIGM9clthXTtpZihlW2ldIT09YylicmVhaztlLnBvcCgpLGktLX1lPXJ9fWZ1bmN0aW9uIEUodCl7Zm9yKHZhciBlPVtdLG49MDtuPHQubGVuZ3RoOysrbil7dmFyIHI9dFtuXSxpPVwiICAgIChObyBzdGFjayB0cmFjZSlcIj09PXJ8fFEudGVzdChyKSxvPWkmJnJ0KHIpO2kmJiFvJiYoeiYmXCIgXCIhPT1yLmNoYXJBdCgwKSYmKHI9XCIgICAgXCIrciksZS5wdXNoKHIpKX1yZXR1cm4gZX1mdW5jdGlvbiBDKHQpe2Zvcih2YXIgZT10LnN0YWNrLnJlcGxhY2UoL1xccyskL2csXCJcIikuc3BsaXQoXCJcXG5cIiksbj0wO248ZS5sZW5ndGg7KytuKXt2YXIgcj1lW25dO2lmKFwiICAgIChObyBzdGFjayB0cmFjZSlcIj09PXJ8fFEudGVzdChyKSlicmVha31yZXR1cm4gbj4wJiYoZT1lLnNsaWNlKG4pKSxlfWZ1bmN0aW9uIGsodCl7dmFyIGU9dC5zdGFjayxuPXQudG9TdHJpbmcoKTtyZXR1cm4gZT1cInN0cmluZ1wiPT10eXBlb2YgZSYmZS5sZW5ndGg+MD9DKHQpOltcIiAgICAoTm8gc3RhY2sgdHJhY2UpXCJdLHttZXNzYWdlOm4sc3RhY2s6RShlKX19ZnVuY3Rpb24gaih0LGUsbil7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUpe3ZhciByO2lmKFYuaXNPYmplY3QodCkpe3ZhciBpPXQuc3RhY2s7cj1lKyQoaSx0KX1lbHNlIHI9ZStTdHJpbmcodCk7XCJmdW5jdGlvblwiPT10eXBlb2YgRD9EKHIsbik6XCJmdW5jdGlvblwiIT10eXBlb2YgY29uc29sZS5sb2cmJlwib2JqZWN0XCIhPXR5cGVvZiBjb25zb2xlLmxvZ3x8Y29uc29sZS5sb2cocil9fWZ1bmN0aW9uIHgodCxlLG4scil7dmFyIGk9ITE7dHJ5e1wiZnVuY3Rpb25cIj09dHlwZW9mIGUmJihpPSEwLFwicmVqZWN0aW9uSGFuZGxlZFwiPT09dD9lKHIpOmUobixyKSl9Y2F0Y2gobyl7Ti50aHJvd0xhdGVyKG8pfVwidW5oYW5kbGVkUmVqZWN0aW9uXCI9PT10P2V0KHQsbixyKXx8aXx8aihuLFwiVW5oYW5kbGVkIHJlamVjdGlvbiBcIik6ZXQodCxyKX1mdW5jdGlvbiBGKHQpe3ZhciBlO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpZT1cIltmdW5jdGlvbiBcIisodC5uYW1lfHxcImFub255bW91c1wiKStcIl1cIjtlbHNle2U9dCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC50b1N0cmluZz90LnRvU3RyaW5nKCk6Vi50b1N0cmluZyh0KTt2YXIgbj0vXFxbb2JqZWN0IFthLXpBLVowLTkkX10rXFxdLztpZihuLnRlc3QoZSkpdHJ5e3ZhciByPUpTT04uc3RyaW5naWZ5KHQpO2U9cn1jYXRjaChpKXt9MD09PWUubGVuZ3RoJiYoZT1cIihlbXB0eSBhcnJheSlcIil9cmV0dXJuXCIoPFwiK1QoZSkrXCI+LCBubyBzdGFjayB0cmFjZSlcIn1mdW5jdGlvbiBUKHQpe3ZhciBlPTQxO3JldHVybiB0Lmxlbmd0aDxlP3Q6dC5zdWJzdHIoMCxlLTMpK1wiLi4uXCJ9ZnVuY3Rpb24gUygpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG90fWZ1bmN0aW9uIFAodCl7dmFyIGU9dC5tYXRjaChpdCk7cmV0dXJuIGU/e2ZpbGVOYW1lOmVbMV0sbGluZTpwYXJzZUludChlWzJdLDEwKX06dm9pZCAwfWZ1bmN0aW9uIE8odCxlKXtpZihTKCkpe2Zvcih2YXIgbixyLGk9dC5zdGFjay5zcGxpdChcIlxcblwiKSxvPWUuc3RhY2suc3BsaXQoXCJcXG5cIikscz0tMSxhPS0xLGM9MDtjPGkubGVuZ3RoOysrYyl7dmFyIHU9UChpW2NdKTtpZih1KXtuPXUuZmlsZU5hbWUscz11LmxpbmU7YnJlYWt9fWZvcih2YXIgYz0wO2M8by5sZW5ndGg7KytjKXt2YXIgdT1QKG9bY10pO2lmKHUpe3I9dS5maWxlTmFtZSxhPXUubGluZTticmVha319MD5zfHwwPmF8fCFufHwhcnx8biE9PXJ8fHM+PWF8fChydD1mdW5jdGlvbih0KXtpZihNLnRlc3QodCkpcmV0dXJuITA7dmFyIGU9UCh0KTtyZXR1cm4hIShlJiZlLmZpbGVOYW1lPT09biYmczw9ZS5saW5lJiZlLmxpbmU8PWEpfSl9fWZ1bmN0aW9uIFIodCl7dGhpcy5fcGFyZW50PXQsdGhpcy5fcHJvbWlzZXNDcmVhdGVkPTA7dmFyIGU9dGhpcy5fbGVuZ3RoPTErKHZvaWQgMD09PXQ/MDp0Ll9sZW5ndGgpO290KHRoaXMsUiksZT4zMiYmdGhpcy51bmN5Y2xlKCl9dmFyIEEsSSxELFU9bi5fZ2V0RG9tYWluLE49bi5fYXN5bmMsTD10KFwiLi9lcnJvcnNcIikuV2FybmluZyxWPXQoXCIuL3V0aWxcIiksQj1WLmNhbkF0dGFjaFRyYWNlLE09L1tcXFxcXFwvXWJsdWViaXJkW1xcXFxcXC9danNbXFxcXFxcL10ocmVsZWFzZXxkZWJ1Z3xpbnN0cnVtZW50ZWQpLyxIPS9cXCgoPzp0aW1lcnNcXC5qcyk6XFxkKzpcXGQrXFwpLyxxPS9bXFwvPFxcKF0oLis/KTooXFxkKyk6KFxcZCspXFwpP1xccyokLyxRPW51bGwsJD1udWxsLHo9ITEsRz0hKDA9PVYuZW52KFwiQkxVRUJJUkRfREVCVUdcIikpLFc9ISgwPT1WLmVudihcIkJMVUVCSVJEX1dBUk5JTkdTXCIpfHwhRyYmIVYuZW52KFwiQkxVRUJJUkRfV0FSTklOR1NcIikpLFg9ISgwPT1WLmVudihcIkJMVUVCSVJEX0xPTkdfU1RBQ0tfVFJBQ0VTXCIpfHwhRyYmIVYuZW52KFwiQkxVRUJJUkRfTE9OR19TVEFDS19UUkFDRVNcIikpLEs9MCE9Vi5lbnYoXCJCTFVFQklSRF9XX0ZPUkdPVFRFTl9SRVRVUk5cIikmJihXfHwhIVYuZW52KFwiQkxVRUJJUkRfV19GT1JHT1RURU5fUkVUVVJOXCIpKTtuLnByb3RvdHlwZS5zdXBwcmVzc1VuaGFuZGxlZFJlamVjdGlvbnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90YXJnZXQoKTt0Ll9iaXRGaWVsZD0tMTA0ODU3NyZ0Ll9iaXRGaWVsZHw1MjQyODh9LG4ucHJvdG90eXBlLl9lbnN1cmVQb3NzaWJsZVJlamVjdGlvbkhhbmRsZWQ9ZnVuY3Rpb24oKXswPT09KDUyNDI4OCZ0aGlzLl9iaXRGaWVsZCkmJih0aGlzLl9zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZCgpLE4uaW52b2tlTGF0ZXIodGhpcy5fbm90aWZ5VW5oYW5kbGVkUmVqZWN0aW9uLHRoaXMsdm9pZCAwKSl9LG4ucHJvdG90eXBlLl9ub3RpZnlVbmhhbmRsZWRSZWplY3Rpb25Jc0hhbmRsZWQ9ZnVuY3Rpb24oKXt4KFwicmVqZWN0aW9uSGFuZGxlZFwiLEEsdm9pZCAwLHRoaXMpfSxuLnByb3RvdHlwZS5fc2V0UmV0dXJuZWROb25VbmRlZmluZWQ9ZnVuY3Rpb24oKXt0aGlzLl9iaXRGaWVsZD0yNjg0MzU0NTZ8dGhpcy5fYml0RmllbGR9LG4ucHJvdG90eXBlLl9yZXR1cm5lZE5vblVuZGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiAwIT09KDI2ODQzNTQ1NiZ0aGlzLl9iaXRGaWVsZCl9LG4ucHJvdG90eXBlLl9ub3RpZnlVbmhhbmRsZWRSZWplY3Rpb249ZnVuY3Rpb24oKXtpZih0aGlzLl9pc1JlamVjdGlvblVuaGFuZGxlZCgpKXt2YXIgdD10aGlzLl9zZXR0bGVkVmFsdWUoKTt0aGlzLl9zZXRVbmhhbmRsZWRSZWplY3Rpb25Jc05vdGlmaWVkKCkseChcInVuaGFuZGxlZFJlamVjdGlvblwiLEksdCx0aGlzKX19LG4ucHJvdG90eXBlLl9zZXRVbmhhbmRsZWRSZWplY3Rpb25Jc05vdGlmaWVkPWZ1bmN0aW9uKCl7dGhpcy5fYml0RmllbGQ9MjYyMTQ0fHRoaXMuX2JpdEZpZWxkfSxuLnByb3RvdHlwZS5fdW5zZXRVbmhhbmRsZWRSZWplY3Rpb25Jc05vdGlmaWVkPWZ1bmN0aW9uKCl7dGhpcy5fYml0RmllbGQ9LTI2MjE0NSZ0aGlzLl9iaXRGaWVsZH0sbi5wcm90b3R5cGUuX2lzVW5oYW5kbGVkUmVqZWN0aW9uTm90aWZpZWQ9ZnVuY3Rpb24oKXtyZXR1cm4oMjYyMTQ0JnRoaXMuX2JpdEZpZWxkKT4wfSxuLnByb3RvdHlwZS5fc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQ9ZnVuY3Rpb24oKXt0aGlzLl9iaXRGaWVsZD0xMDQ4NTc2fHRoaXMuX2JpdEZpZWxkfSxuLnByb3RvdHlwZS5fdW5zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPS0xMDQ4NTc3JnRoaXMuX2JpdEZpZWxkLHRoaXMuX2lzVW5oYW5kbGVkUmVqZWN0aW9uTm90aWZpZWQoKSYmKHRoaXMuX3Vuc2V0VW5oYW5kbGVkUmVqZWN0aW9uSXNOb3RpZmllZCgpLHRoaXMuX25vdGlmeVVuaGFuZGxlZFJlamVjdGlvbklzSGFuZGxlZCgpKX0sbi5wcm90b3R5cGUuX2lzUmVqZWN0aW9uVW5oYW5kbGVkPWZ1bmN0aW9uKCl7cmV0dXJuKDEwNDg1NzYmdGhpcy5fYml0RmllbGQpPjB9LG4ucHJvdG90eXBlLl93YXJuPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbSh0LGUsbnx8dGhpcyl9LG4ub25Qb3NzaWJseVVuaGFuZGxlZFJlamVjdGlvbj1mdW5jdGlvbih0KXt2YXIgZT1VKCk7ST1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P251bGw9PT1lP3Q6Vi5kb21haW5CaW5kKGUsdCk6dm9pZCAwfSxuLm9uVW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlZD1mdW5jdGlvbih0KXt2YXIgZT1VKCk7QT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P251bGw9PT1lP3Q6Vi5kb21haW5CaW5kKGUsdCk6dm9pZCAwfTt2YXIgSj1mdW5jdGlvbigpe307bi5sb25nU3RhY2tUcmFjZXM9ZnVuY3Rpb24oKXtpZihOLmhhdmVJdGVtc1F1ZXVlZCgpJiYhc3QubG9uZ1N0YWNrVHJhY2VzKXRocm93IG5ldyBFcnJvcihcImNhbm5vdCBlbmFibGUgbG9uZyBzdGFjayB0cmFjZXMgYWZ0ZXIgcHJvbWlzZXMgaGF2ZSBiZWVuIGNyZWF0ZWRcXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXCIpO2lmKCFzdC5sb25nU3RhY2tUcmFjZXMmJlMoKSl7dmFyIHQ9bi5wcm90b3R5cGUuX2NhcHR1cmVTdGFja1RyYWNlLGU9bi5wcm90b3R5cGUuX2F0dGFjaEV4dHJhVHJhY2U7c3QubG9uZ1N0YWNrVHJhY2VzPSEwLEo9ZnVuY3Rpb24oKXtpZihOLmhhdmVJdGVtc1F1ZXVlZCgpJiYhc3QubG9uZ1N0YWNrVHJhY2VzKXRocm93IG5ldyBFcnJvcihcImNhbm5vdCBlbmFibGUgbG9uZyBzdGFjayB0cmFjZXMgYWZ0ZXIgcHJvbWlzZXMgaGF2ZSBiZWVuIGNyZWF0ZWRcXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXCIpO24ucHJvdG90eXBlLl9jYXB0dXJlU3RhY2tUcmFjZT10LG4ucHJvdG90eXBlLl9hdHRhY2hFeHRyYVRyYWNlPWUsci5kZWFjdGl2YXRlTG9uZ1N0YWNrVHJhY2VzKCksTi5lbmFibGVUcmFtcG9saW5lKCksc3QubG9uZ1N0YWNrVHJhY2VzPSExfSxuLnByb3RvdHlwZS5fY2FwdHVyZVN0YWNrVHJhY2U9ZCxuLnByb3RvdHlwZS5fYXR0YWNoRXh0cmFUcmFjZT1fLHIuYWN0aXZhdGVMb25nU3RhY2tUcmFjZXMoKSxOLmRpc2FibGVUcmFtcG9saW5lSWZOZWNlc3NhcnkoKX19LG4uaGFzTG9uZ1N0YWNrVHJhY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHN0LmxvbmdTdGFja1RyYWNlcyYmUygpfTt2YXIgWT1mdW5jdGlvbigpe3RyeXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBDdXN0b21FdmVudCl7dmFyIHQ9bmV3IEN1c3RvbUV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7cmV0dXJuIFYuZ2xvYmFsLmRpc3BhdGNoRXZlbnQodCksZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgQ3VzdG9tRXZlbnQodC50b0xvd2VyQ2FzZSgpLHtkZXRhaWw6ZSxjYW5jZWxhYmxlOiEwfSk7cmV0dXJuIVYuZ2xvYmFsLmRpc3BhdGNoRXZlbnQobil9fWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIEV2ZW50KXt2YXIgdD1uZXcgRXZlbnQoXCJDdXN0b21FdmVudFwiKTtyZXR1cm4gVi5nbG9iYWwuZGlzcGF0Y2hFdmVudCh0KSxmdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBFdmVudCh0LnRvTG93ZXJDYXNlKCkse2NhbmNlbGFibGU6ITB9KTtyZXR1cm4gbi5kZXRhaWw9ZSwhVi5nbG9iYWwuZGlzcGF0Y2hFdmVudChuKX19dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJDdXN0b21FdmVudFwiKTtyZXR1cm4gdC5pbml0Q3VzdG9tRXZlbnQoXCJ0ZXN0aW5ndGhlZXZlbnRcIiwhMSwhMCx7fSksVi5nbG9iYWwuZGlzcGF0Y2hFdmVudCh0KSxmdW5jdGlvbih0LGUpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7cmV0dXJuIG4uaW5pdEN1c3RvbUV2ZW50KHQudG9Mb3dlckNhc2UoKSwhMSwhMCxlKSwhVi5nbG9iYWwuZGlzcGF0Y2hFdmVudChuKX19Y2F0Y2goZSl7fXJldHVybiBmdW5jdGlvbigpe3JldHVybiExfX0oKSxaPWZ1bmN0aW9uKCl7cmV0dXJuIFYuaXNOb2RlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZW1pdC5hcHBseShlLGFyZ3VtZW50cyl9OlYuZ2xvYmFsP2Z1bmN0aW9uKHQpe3ZhciBlPVwib25cIit0LnRvTG93ZXJDYXNlKCksbj1WLmdsb2JhbFtlXTtyZXR1cm4gbj8obi5hcHBseShWLmdsb2JhbCxbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSksITApOiExfTpmdW5jdGlvbigpe3JldHVybiExfX0oKSx0dD17cHJvbWlzZUNyZWF0ZWQ6aSxwcm9taXNlRnVsZmlsbGVkOmkscHJvbWlzZVJlamVjdGVkOmkscHJvbWlzZVJlc29sdmVkOmkscHJvbWlzZUNhbmNlbGxlZDppLHByb21pc2VDaGFpbmVkOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm57cHJvbWlzZTplLGNoaWxkOm59fSx3YXJuaW5nOmZ1bmN0aW9uKHQsZSl7cmV0dXJue3dhcm5pbmc6ZX19LHVuaGFuZGxlZFJlamVjdGlvbjpmdW5jdGlvbih0LGUsbil7cmV0dXJue3JlYXNvbjplLHByb21pc2U6bn19LHJlamVjdGlvbkhhbmRsZWQ6aX0sZXQ9ZnVuY3Rpb24odCl7dmFyIGU9ITE7dHJ5e2U9Wi5hcHBseShudWxsLGFyZ3VtZW50cyl9Y2F0Y2gobil7Ti50aHJvd0xhdGVyKG4pLGU9ITB9dmFyIHI9ITE7dHJ5e3I9WSh0LHR0W3RdLmFwcGx5KG51bGwsYXJndW1lbnRzKSl9Y2F0Y2gobil7Ti50aHJvd0xhdGVyKG4pLHI9ITB9cmV0dXJuIHJ8fGV9O24uY29uZmlnPWZ1bmN0aW9uKHQpe2lmKHQ9T2JqZWN0KHQpLFwibG9uZ1N0YWNrVHJhY2VzXCJpbiB0JiYodC5sb25nU3RhY2tUcmFjZXM/bi5sb25nU3RhY2tUcmFjZXMoKTohdC5sb25nU3RhY2tUcmFjZXMmJm4uaGFzTG9uZ1N0YWNrVHJhY2VzKCkmJkooKSksXCJ3YXJuaW5nc1wiaW4gdCl7dmFyIGU9dC53YXJuaW5ncztzdC53YXJuaW5ncz0hIWUsSz1zdC53YXJuaW5ncyxWLmlzT2JqZWN0KGUpJiZcIndGb3Jnb3R0ZW5SZXR1cm5cImluIGUmJihLPSEhZS53Rm9yZ290dGVuUmV0dXJuKX1pZihcImNhbmNlbGxhdGlvblwiaW4gdCYmdC5jYW5jZWxsYXRpb24mJiFzdC5jYW5jZWxsYXRpb24pe2lmKE4uaGF2ZUl0ZW1zUXVldWVkKCkpdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IGVuYWJsZSBjYW5jZWxsYXRpb24gYWZ0ZXIgcHJvbWlzZXMgYXJlIGluIHVzZVwiKTtuLnByb3RvdHlwZS5fY2xlYXJDYW5jZWxsYXRpb25EYXRhPWwsbi5wcm90b3R5cGUuX3Byb3BhZ2F0ZUZyb209ZixuLnByb3RvdHlwZS5fb25DYW5jZWw9YyxuLnByb3RvdHlwZS5fc2V0T25DYW5jZWw9dSxuLnByb3RvdHlwZS5fYXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2s9YSxuLnByb3RvdHlwZS5fZXhlY3V0ZT1zLG50PWYsc3QuY2FuY2VsbGF0aW9uPSEwfVwibW9uaXRvcmluZ1wiaW4gdCYmKHQubW9uaXRvcmluZyYmIXN0Lm1vbml0b3Jpbmc/KHN0Lm1vbml0b3Jpbmc9ITAsbi5wcm90b3R5cGUuX2ZpcmVFdmVudD1ldCk6IXQubW9uaXRvcmluZyYmc3QubW9uaXRvcmluZyYmKHN0Lm1vbml0b3Jpbmc9ITEsbi5wcm90b3R5cGUuX2ZpcmVFdmVudD1vKSl9LG4ucHJvdG90eXBlLl9maXJlRXZlbnQ9byxuLnByb3RvdHlwZS5fZXhlY3V0ZT1mdW5jdGlvbih0LGUsbil7dHJ5e3QoZSxuKX1jYXRjaChyKXtyZXR1cm4gcn19LG4ucHJvdG90eXBlLl9vbkNhbmNlbD1mdW5jdGlvbigpe30sbi5wcm90b3R5cGUuX3NldE9uQ2FuY2VsPWZ1bmN0aW9uKHQpe30sbi5wcm90b3R5cGUuX2F0dGFjaENhbmNlbGxhdGlvbkNhbGxiYWNrPWZ1bmN0aW9uKHQpe30sbi5wcm90b3R5cGUuX2NhcHR1cmVTdGFja1RyYWNlPWZ1bmN0aW9uKCl7fSxuLnByb3RvdHlwZS5fYXR0YWNoRXh0cmFUcmFjZT1mdW5jdGlvbigpe30sbi5wcm90b3R5cGUuX2NsZWFyQ2FuY2VsbGF0aW9uRGF0YT1mdW5jdGlvbigpe30sbi5wcm90b3R5cGUuX3Byb3BhZ2F0ZUZyb209ZnVuY3Rpb24odCxlKXt9O3ZhciBudD1wLHJ0PWZ1bmN0aW9uKCl7cmV0dXJuITF9LGl0PS9bXFwvPFxcKF0oW146XFwvXSspOihcXGQrKTooPzpcXGQrKVxcKT9cXHMqJC87Vi5pbmhlcml0cyhSLEVycm9yKSxyLkNhcHR1cmVkVHJhY2U9UixSLnByb3RvdHlwZS51bmN5Y2xlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbGVuZ3RoO2lmKCEoMj50KSl7Zm9yKHZhciBlPVtdLG49e30scj0wLGk9dGhpczt2b2lkIDAhPT1pOysrcillLnB1c2goaSksaT1pLl9wYXJlbnQ7dD10aGlzLl9sZW5ndGg9cjtmb3IodmFyIHI9dC0xO3I+PTA7LS1yKXt2YXIgbz1lW3JdLnN0YWNrO3ZvaWQgMD09PW5bb10mJihuW29dPXIpfWZvcih2YXIgcj0wO3Q+cjsrK3Ipe3ZhciBzPWVbcl0uc3RhY2ssYT1uW3NdO2lmKHZvaWQgMCE9PWEmJmEhPT1yKXthPjAmJihlW2EtMV0uX3BhcmVudD12b2lkIDAsZVthLTFdLl9sZW5ndGg9MSksZVtyXS5fcGFyZW50PXZvaWQgMCxlW3JdLl9sZW5ndGg9MTt2YXIgYz1yPjA/ZVtyLTFdOnRoaXM7dC0xPmE/KGMuX3BhcmVudD1lW2ErMV0sYy5fcGFyZW50LnVuY3ljbGUoKSxjLl9sZW5ndGg9Yy5fcGFyZW50Ll9sZW5ndGgrMSk6KGMuX3BhcmVudD12b2lkIDAsYy5fbGVuZ3RoPTEpO2Zvcih2YXIgdT1jLl9sZW5ndGgrMSxsPXItMjtsPj0wOy0tbCllW2xdLl9sZW5ndGg9dSx1Kys7cmV0dXJufX19fSxSLnByb3RvdHlwZS5hdHRhY2hFeHRyYVRyYWNlPWZ1bmN0aW9uKHQpe2lmKCF0Ll9fc3RhY2tDbGVhbmVkX18pe3RoaXMudW5jeWNsZSgpO2Zvcih2YXIgZT1rKHQpLG49ZS5tZXNzYWdlLHI9W2Uuc3RhY2tdLGk9dGhpczt2b2lkIDAhPT1pOylyLnB1c2goRShpLnN0YWNrLnNwbGl0KFwiXFxuXCIpKSksaT1pLl9wYXJlbnQ7dyhyKSxiKHIpLFYubm90RW51bWVyYWJsZVByb3AodCxcInN0YWNrXCIsZyhuLHIpKSxWLm5vdEVudW1lcmFibGVQcm9wKHQsXCJfX3N0YWNrQ2xlYW5lZF9fXCIsITApfX07dmFyIG90PWZ1bmN0aW9uKCl7dmFyIHQ9L15cXHMqYXRcXHMqLyxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/dDp2b2lkIDAhPT1lLm5hbWUmJnZvaWQgMCE9PWUubWVzc2FnZT9lLnRvU3RyaW5nKCk6RihlKX07aWYoXCJudW1iZXJcIj09dHlwZW9mIEVycm9yLnN0YWNrVHJhY2VMaW1pdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2Upe0Vycm9yLnN0YWNrVHJhY2VMaW1pdCs9NixRPXQsJD1lO3ZhciBuPUVycm9yLmNhcHR1cmVTdGFja1RyYWNlO3JldHVybiBydD1mdW5jdGlvbih0KXtyZXR1cm4gTS50ZXN0KHQpfSxmdW5jdGlvbih0LGUpe0Vycm9yLnN0YWNrVHJhY2VMaW1pdCs9NixuKHQsZSksRXJyb3Iuc3RhY2tUcmFjZUxpbWl0LT02fX12YXIgcj1uZXcgRXJyb3I7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHIuc3RhY2smJnIuc3RhY2suc3BsaXQoXCJcXG5cIilbMF0uaW5kZXhPZihcInN0YWNrRGV0ZWN0aW9uQFwiKT49MClyZXR1cm4gUT0vQC8sJD1lLHo9ITAsZnVuY3Rpb24odCl7dC5zdGFjaz0obmV3IEVycm9yKS5zdGFja307dmFyIGk7dHJ5e3Rocm93IG5ldyBFcnJvcn1jYXRjaChvKXtpPVwic3RhY2tcImluIG99cmV0dXJuXCJzdGFja1wiaW4gcnx8IWl8fFwibnVtYmVyXCIhPXR5cGVvZiBFcnJvci5zdGFja1RyYWNlTGltaXQ/KCQ9ZnVuY3Rpb24odCxlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD90Olwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlfHx2b2lkIDA9PT1lLm5hbWV8fHZvaWQgMD09PWUubWVzc2FnZT9GKGUpOmUudG9TdHJpbmcoKX0sbnVsbCk6KFE9dCwkPWUsZnVuY3Rpb24odCl7RXJyb3Iuc3RhY2tUcmFjZUxpbWl0Kz02O3RyeXt0aHJvdyBuZXcgRXJyb3J9Y2F0Y2goZSl7dC5zdGFjaz1lLnN0YWNrfUVycm9yLnN0YWNrVHJhY2VMaW1pdC09Nn0pfShbXSk7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlLndhcm4mJihEPWZ1bmN0aW9uKHQpe2NvbnNvbGUud2Fybih0KX0sVi5pc05vZGUmJmUuc3RkZXJyLmlzVFRZP0Q9ZnVuY3Rpb24odCxlKXt2YXIgbj1lP1wiXHUwMDFiWzMzbVwiOlwiXHUwMDFiWzMxbVwiO2NvbnNvbGUud2FybihuK3QrXCJcdTAwMWJbMG1cXG5cIil9OlYuaXNOb2RlfHxcInN0cmluZ1wiIT10eXBlb2YobmV3IEVycm9yKS5zdGFja3x8KEQ9ZnVuY3Rpb24odCxlKXtjb25zb2xlLndhcm4oXCIlY1wiK3QsZT9cImNvbG9yOiBkYXJrb3JhbmdlXCI6XCJjb2xvcjogcmVkXCIpfSkpO3ZhciBzdD17d2FybmluZ3M6Vyxsb25nU3RhY2tUcmFjZXM6ITEsY2FuY2VsbGF0aW9uOiExLG1vbml0b3Jpbmc6ITF9O3JldHVybiBYJiZuLmxvbmdTdGFja1RyYWNlcygpLHtsb25nU3RhY2tUcmFjZXM6ZnVuY3Rpb24oKXtyZXR1cm4gc3QubG9uZ1N0YWNrVHJhY2VzfSx3YXJuaW5nczpmdW5jdGlvbigpe3JldHVybiBzdC53YXJuaW5nc30sY2FuY2VsbGF0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHN0LmNhbmNlbGxhdGlvbn0sbW9uaXRvcmluZzpmdW5jdGlvbigpe3JldHVybiBzdC5tb25pdG9yaW5nfSxwcm9wYWdhdGVGcm9tRnVuY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gbnR9LGJvdW5kVmFsdWVGdW5jdGlvbjpmdW5jdGlvbigpe3JldHVybiBofSxjaGVja0ZvcmdvdHRlblJldHVybnM6dixzZXRCb3VuZHM6Tyx3YXJuOm0sZGVwcmVjYXRlZDp5LENhcHR1cmVkVHJhY2U6UixmaXJlRG9tRXZlbnQ6WSxmaXJlR2xvYmFsRXZlbnQ6Wn19fSx7XCIuL2Vycm9yc1wiOjEyLFwiLi91dGlsXCI6MzZ9XSwxMDpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIHRoaXMudmFsdWV9ZnVuY3Rpb24gbigpe3Rocm93IHRoaXMucmVhc29ufXQucHJvdG90eXBlW1wicmV0dXJuXCJdPXQucHJvdG90eXBlLnRoZW5SZXR1cm49ZnVuY3Rpb24obil7cmV0dXJuIG4gaW5zdGFuY2VvZiB0JiZuLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucygpLHRoaXMuX3RoZW4oZSx2b2lkIDAsdm9pZCAwLHt2YWx1ZTpufSx2b2lkIDApfSx0LnByb3RvdHlwZVtcInRocm93XCJdPXQucHJvdG90eXBlLnRoZW5UaHJvdz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdGhlbihuLHZvaWQgMCx2b2lkIDAse3JlYXNvbjp0fSx2b2lkIDApfSx0LnByb3RvdHlwZS5jYXRjaFRocm93PWZ1bmN0aW9uKHQpe2lmKGFyZ3VtZW50cy5sZW5ndGg8PTEpcmV0dXJuIHRoaXMuX3RoZW4odm9pZCAwLG4sdm9pZCAwLHtyZWFzb246dH0sdm9pZCAwKTt2YXIgZT1hcmd1bWVudHNbMV0scj1mdW5jdGlvbigpe3Rocm93IGV9O3JldHVybiB0aGlzLmNhdWdodCh0LHIpfSx0LnByb3RvdHlwZS5jYXRjaFJldHVybj1mdW5jdGlvbihuKXtpZihhcmd1bWVudHMubGVuZ3RoPD0xKXJldHVybiBuIGluc3RhbmNlb2YgdCYmbi5zdXBwcmVzc1VuaGFuZGxlZFJlamVjdGlvbnMoKSx0aGlzLl90aGVuKHZvaWQgMCxlLHZvaWQgMCx7dmFsdWU6bn0sdm9pZCAwKTt2YXIgcj1hcmd1bWVudHNbMV07ciBpbnN0YW5jZW9mIHQmJnIuc3VwcHJlc3NVbmhhbmRsZWRSZWplY3Rpb25zKCk7dmFyIGk9ZnVuY3Rpb24oKXtyZXR1cm4gcn07cmV0dXJuIHRoaXMuY2F1Z2h0KG4saSl9fX0se31dLDExOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3JldHVybiBvKHRoaXMpfWZ1bmN0aW9uIHIodCxuKXtyZXR1cm4gaSh0LG4sZSxlKX12YXIgaT10LnJlZHVjZSxvPXQuYWxsO3QucHJvdG90eXBlLmVhY2g9ZnVuY3Rpb24odCl7cmV0dXJuIGkodGhpcyx0LGUsMCkuX3RoZW4obix2b2lkIDAsdm9pZCAwLHRoaXMsdm9pZCAwKX0sdC5wcm90b3R5cGUubWFwU2VyaWVzPWZ1bmN0aW9uKHQpe3JldHVybiBpKHRoaXMsdCxlLGUpfSx0LmVhY2g9ZnVuY3Rpb24odCxyKXtyZXR1cm4gaSh0LHIsZSwwKS5fdGhlbihuLHZvaWQgMCx2b2lkIDAsdCx2b2lkIDApfSx0Lm1hcFNlcmllcz1yfX0se31dLDEyOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe2Z1bmN0aW9uIG4ocil7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBuPyhmKHRoaXMsXCJtZXNzYWdlXCIsXCJzdHJpbmdcIj09dHlwZW9mIHI/cjplKSxmKHRoaXMsXCJuYW1lXCIsdCksdm9pZChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT9FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLHRoaXMuY29uc3RydWN0b3IpOkVycm9yLmNhbGwodGhpcykpKTpuZXcgbihyKX1yZXR1cm4gbChuLEVycm9yKSxufWZ1bmN0aW9uIGkodCl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBpPyhmKHRoaXMsXCJuYW1lXCIsXCJPcGVyYXRpb25hbEVycm9yXCIpLGYodGhpcyxcIm1lc3NhZ2VcIix0KSx0aGlzLmNhdXNlPXQsdGhpcy5pc09wZXJhdGlvbmFsPSEwLHZvaWQodCBpbnN0YW5jZW9mIEVycm9yPyhmKHRoaXMsXCJtZXNzYWdlXCIsdC5tZXNzYWdlKSxmKHRoaXMsXCJzdGFja1wiLHQuc3RhY2spKTpFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSYmRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyx0aGlzLmNvbnN0cnVjdG9yKSkpOm5ldyBpKHQpfXZhciBvLHMsYT10KFwiLi9lczVcIiksYz1hLmZyZWV6ZSx1PXQoXCIuL3V0aWxcIiksbD11LmluaGVyaXRzLGY9dS5ub3RFbnVtZXJhYmxlUHJvcCxwPXIoXCJXYXJuaW5nXCIsXCJ3YXJuaW5nXCIpLGg9cihcIkNhbmNlbGxhdGlvbkVycm9yXCIsXCJjYW5jZWxsYXRpb24gZXJyb3JcIiksZD1yKFwiVGltZW91dEVycm9yXCIsXCJ0aW1lb3V0IGVycm9yXCIpLF89cihcIkFnZ3JlZ2F0ZUVycm9yXCIsXCJhZ2dyZWdhdGUgZXJyb3JcIik7dHJ5e289VHlwZUVycm9yLHM9UmFuZ2VFcnJvcn1jYXRjaCh2KXtvPXIoXCJUeXBlRXJyb3JcIixcInR5cGUgZXJyb3JcIikscz1yKFwiUmFuZ2VFcnJvclwiLFwicmFuZ2UgZXJyb3JcIil9Zm9yKHZhciB5PVwiam9pbiBwb3AgcHVzaCBzaGlmdCB1bnNoaWZ0IHNsaWNlIGZpbHRlciBmb3JFYWNoIHNvbWUgZXZlcnkgbWFwIGluZGV4T2YgbGFzdEluZGV4T2YgcmVkdWNlIHJlZHVjZVJpZ2h0IHNvcnQgcmV2ZXJzZVwiLnNwbGl0KFwiIFwiKSxtPTA7bTx5Lmxlbmd0aDsrK20pXCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXkucHJvdG90eXBlW3lbbV1dJiYoXy5wcm90b3R5cGVbeVttXV09QXJyYXkucHJvdG90eXBlW3lbbV1dKTthLmRlZmluZVByb3BlcnR5KF8ucHJvdG90eXBlLFwibGVuZ3RoXCIse3ZhbHVlOjAsY29uZmlndXJhYmxlOiExLHdyaXRhYmxlOiEwLGVudW1lcmFibGU6ITB9KSxfLnByb3RvdHlwZS5pc09wZXJhdGlvbmFsPSEwO3ZhciBnPTA7Xy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgdD1BcnJheSg0KmcrMSkuam9pbihcIiBcIiksZT1cIlxcblwiK3QrXCJBZ2dyZWdhdGVFcnJvciBvZjpcXG5cIjtnKyssdD1BcnJheSg0KmcrMSkuam9pbihcIiBcIik7Zm9yKHZhciBuPTA7bjx0aGlzLmxlbmd0aDsrK24pe2Zvcih2YXIgcj10aGlzW25dPT09dGhpcz9cIltDaXJjdWxhciBBZ2dyZWdhdGVFcnJvcl1cIjp0aGlzW25dK1wiXCIsaT1yLnNwbGl0KFwiXFxuXCIpLG89MDtvPGkubGVuZ3RoOysrbylpW29dPXQraVtvXTtyPWkuam9pbihcIlxcblwiKSxlKz1yK1wiXFxuXCJ9cmV0dXJuIGctLSxlfSxsKGksRXJyb3IpO3ZhciBiPUVycm9yLl9fQmx1ZWJpcmRFcnJvclR5cGVzX187Ynx8KGI9Yyh7Q2FuY2VsbGF0aW9uRXJyb3I6aCxUaW1lb3V0RXJyb3I6ZCxPcGVyYXRpb25hbEVycm9yOmksUmVqZWN0aW9uRXJyb3I6aSxBZ2dyZWdhdGVFcnJvcjpffSksYS5kZWZpbmVQcm9wZXJ0eShFcnJvcixcIl9fQmx1ZWJpcmRFcnJvclR5cGVzX19cIix7dmFsdWU6Yix3cml0YWJsZTohMSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMX0pKSxlLmV4cG9ydHM9e0Vycm9yOkVycm9yLFR5cGVFcnJvcjpvLFJhbmdlRXJyb3I6cyxDYW5jZWxsYXRpb25FcnJvcjpiLkNhbmNlbGxhdGlvbkVycm9yLE9wZXJhdGlvbmFsRXJyb3I6Yi5PcGVyYXRpb25hbEVycm9yLFRpbWVvdXRFcnJvcjpiLlRpbWVvdXRFcnJvcixBZ2dyZWdhdGVFcnJvcjpiLkFnZ3JlZ2F0ZUVycm9yLFdhcm5pbmc6cH19LHtcIi4vZXM1XCI6MTMsXCIuL3V0aWxcIjozNn1dLDEzOltmdW5jdGlvbih0LGUsbil7dmFyIHI9ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdm9pZCAwPT09dGhpc30oKTtpZihyKWUuZXhwb3J0cz17ZnJlZXplOk9iamVjdC5mcmVlemUsZGVmaW5lUHJvcGVydHk6T2JqZWN0LmRlZmluZVByb3BlcnR5LGdldERlc2NyaXB0b3I6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixrZXlzOk9iamVjdC5rZXlzLG5hbWVzOk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLGdldFByb3RvdHlwZU9mOk9iamVjdC5nZXRQcm90b3R5cGVPZixpc0FycmF5OkFycmF5LmlzQXJyYXksaXNFUzU6cixwcm9wZXJ0eUlzV3JpdGFibGU6ZnVuY3Rpb24odCxlKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSk7cmV0dXJuIShuJiYhbi53cml0YWJsZSYmIW4uc2V0KX19O2Vsc2V7dmFyIGk9e30uaGFzT3duUHJvcGVydHksbz17fS50b1N0cmluZyxzPXt9LmNvbnN0cnVjdG9yLnByb3RvdHlwZSxhPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO2Zvcih2YXIgbiBpbiB0KWkuY2FsbCh0LG4pJiZlLnB1c2gobik7cmV0dXJuIGV9LGM9ZnVuY3Rpb24odCxlKXtyZXR1cm57dmFsdWU6dFtlXX19LHU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0W2VdPW4udmFsdWUsdH0sbD1mdW5jdGlvbih0KXtyZXR1cm4gdH0sZj1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIE9iamVjdCh0KS5jb25zdHJ1Y3Rvci5wcm90b3R5cGV9Y2F0Y2goZSl7cmV0dXJuIHN9fSxwPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1vLmNhbGwodCl9Y2F0Y2goZSl7cmV0dXJuITF9fTtlLmV4cG9ydHM9e2lzQXJyYXk6cCxrZXlzOmEsbmFtZXM6YSxkZWZpbmVQcm9wZXJ0eTp1LGdldERlc2NyaXB0b3I6YyxmcmVlemU6bCxnZXRQcm90b3R5cGVPZjpmLGlzRVM1OnIscHJvcGVydHlJc1dyaXRhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuITB9fX19LHt9XSwxNDpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuPXQubWFwO3QucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbih0LHIpe3JldHVybiBuKHRoaXMsdCxyLGUpfSx0LmZpbHRlcj1mdW5jdGlvbih0LHIsaSl7cmV0dXJuIG4odCxyLGksZSl9fX0se31dLDE1OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gcih0LGUsbil7dGhpcy5wcm9taXNlPXQsdGhpcy50eXBlPWUsdGhpcy5oYW5kbGVyPW4sdGhpcy5jYWxsZWQ9ITEsdGhpcy5jYW5jZWxQcm9taXNlPW51bGx9ZnVuY3Rpb24gaSh0KXt0aGlzLmZpbmFsbHlIYW5kbGVyPXR9ZnVuY3Rpb24gbyh0LGUpe3JldHVybiBudWxsIT10LmNhbmNlbFByb21pc2U/KGFyZ3VtZW50cy5sZW5ndGg+MT90LmNhbmNlbFByb21pc2UuX3JlamVjdChlKTp0LmNhbmNlbFByb21pc2UuX2NhbmNlbCgpLHQuY2FuY2VsUHJvbWlzZT1udWxsLCEwKTohMX1mdW5jdGlvbiBzKCl7cmV0dXJuIGMuY2FsbCh0aGlzLHRoaXMucHJvbWlzZS5fdGFyZ2V0KCkuX3NldHRsZWRWYWx1ZSgpKX1mdW5jdGlvbiBhKHQpe3JldHVybiBvKHRoaXMsdCk/dm9pZCAwOihmLmU9dCxmKX1mdW5jdGlvbiBjKHQpe3ZhciByPXRoaXMucHJvbWlzZSxjPXRoaXMuaGFuZGxlcjtpZighdGhpcy5jYWxsZWQpe3RoaXMuY2FsbGVkPSEwO3ZhciB1PXRoaXMuaXNGaW5hbGx5SGFuZGxlcigpP2MuY2FsbChyLl9ib3VuZFZhbHVlKCkpOmMuY2FsbChyLl9ib3VuZFZhbHVlKCksdCk7aWYodm9pZCAwIT09dSl7ci5fc2V0UmV0dXJuZWROb25VbmRlZmluZWQoKTt2YXIgcD1uKHUscik7aWYocCBpbnN0YW5jZW9mIGUpe2lmKG51bGwhPXRoaXMuY2FuY2VsUHJvbWlzZSl7aWYocC5faXNDYW5jZWxsZWQoKSl7dmFyIGg9bmV3IGwoXCJsYXRlIGNhbmNlbGxhdGlvbiBvYnNlcnZlclwiKTtyZXR1cm4gci5fYXR0YWNoRXh0cmFUcmFjZShoKSxmLmU9aCxmfXAuaXNQZW5kaW5nKCkmJnAuX2F0dGFjaENhbmNlbGxhdGlvbkNhbGxiYWNrKG5ldyBpKHRoaXMpKX1yZXR1cm4gcC5fdGhlbihzLGEsdm9pZCAwLHRoaXMsdm9pZCAwKX19fXJldHVybiByLmlzUmVqZWN0ZWQoKT8obyh0aGlzKSxmLmU9dCxmKToobyh0aGlzKSx0KX12YXIgdT10KFwiLi91dGlsXCIpLGw9ZS5DYW5jZWxsYXRpb25FcnJvcixmPXUuZXJyb3JPYmo7cmV0dXJuIHIucHJvdG90eXBlLmlzRmluYWxseUhhbmRsZXI9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMudHlwZX0saS5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZD1mdW5jdGlvbigpe28odGhpcy5maW5hbGx5SGFuZGxlcil9LGUucHJvdG90eXBlLl9wYXNzVGhyb3VnaD1mdW5jdGlvbih0LGUsbixpKXtyZXR1cm5cImZ1bmN0aW9uXCIhPXR5cGVvZiB0P3RoaXMudGhlbigpOnRoaXMuX3RoZW4obixpLHZvaWQgMCxuZXcgcih0aGlzLGUsdCksdm9pZCAwKX0sZS5wcm90b3R5cGUubGFzdGx5PWUucHJvdG90eXBlW1wiZmluYWxseVwiXT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcGFzc1Rocm91Z2godCwwLGMsYyl9LGUucHJvdG90eXBlLnRhcD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcGFzc1Rocm91Z2godCwxLGMpfSxyfX0se1wiLi91dGlsXCI6MzZ9XSwxNjpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlLG4scixpLG8scyl7ZnVuY3Rpb24gYSh0LG4scil7Zm9yKHZhciBvPTA7bzxuLmxlbmd0aDsrK28pe3IuX3B1c2hDb250ZXh0KCk7dmFyIHM9aChuW29dKSh0KTtpZihyLl9wb3BDb250ZXh0KCkscz09PXApe3IuX3B1c2hDb250ZXh0KCk7dmFyIGE9ZS5yZWplY3QocC5lKTtyZXR1cm4gci5fcG9wQ29udGV4dCgpLGF9dmFyIGM9aShzLHIpO2lmKGMgaW5zdGFuY2VvZiBlKXJldHVybiBjfXJldHVybiBudWxsfWZ1bmN0aW9uIGModCxuLGksbyl7aWYocy5jYW5jZWxsYXRpb24oKSl7dmFyIGE9bmV3IGUociksYz10aGlzLl9maW5hbGx5UHJvbWlzZT1uZXcgZShyKTt0aGlzLl9wcm9taXNlPWEubGFzdGx5KGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSxhLl9jYXB0dXJlU3RhY2tUcmFjZSgpLGEuX3NldE9uQ2FuY2VsKHRoaXMpfWVsc2V7dmFyIHU9dGhpcy5fcHJvbWlzZT1uZXcgZShyKTt1Ll9jYXB0dXJlU3RhY2tUcmFjZSgpfXRoaXMuX3N0YWNrPW8sdGhpcy5fZ2VuZXJhdG9yRnVuY3Rpb249dCx0aGlzLl9yZWNlaXZlcj1uLHRoaXMuX2dlbmVyYXRvcj12b2lkIDAsdGhpcy5feWllbGRIYW5kbGVycz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBpP1tpXS5jb25jYXQoZCk6ZCx0aGlzLl95aWVsZGVkUHJvbWlzZT1udWxsLHRoaXMuX2NhbmNlbGxhdGlvblBoYXNlPSExfXZhciB1PXQoXCIuL2Vycm9yc1wiKSxsPXUuVHlwZUVycm9yLGY9dChcIi4vdXRpbFwiKSxwPWYuZXJyb3JPYmosaD1mLnRyeUNhdGNoLGQ9W107Zi5pbmhlcml0cyhjLG8pLGMucHJvdG90eXBlLl9pc1Jlc29sdmVkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLl9wcm9taXNlfSxjLnByb3RvdHlwZS5fY2xlYW51cD1mdW5jdGlvbigpe3RoaXMuX3Byb21pc2U9dGhpcy5fZ2VuZXJhdG9yPW51bGwscy5jYW5jZWxsYXRpb24oKSYmbnVsbCE9PXRoaXMuX2ZpbmFsbHlQcm9taXNlJiYodGhpcy5fZmluYWxseVByb21pc2UuX2Z1bGZpbGwoKSx0aGlzLl9maW5hbGx5UHJvbWlzZT1udWxsKX0sYy5wcm90b3R5cGUuX3Byb21pc2VDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5faXNSZXNvbHZlZCgpKXt2YXIgdCxuPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB0aGlzLl9nZW5lcmF0b3JbXCJyZXR1cm5cIl07aWYobil0aGlzLl9wcm9taXNlLl9wdXNoQ29udGV4dCgpLHQ9aCh0aGlzLl9nZW5lcmF0b3JbXCJyZXR1cm5cIl0pLmNhbGwodGhpcy5fZ2VuZXJhdG9yLHZvaWQgMCksdGhpcy5fcHJvbWlzZS5fcG9wQ29udGV4dCgpO2Vsc2V7dmFyIHI9bmV3IGUuQ2FuY2VsbGF0aW9uRXJyb3IoXCJnZW5lcmF0b3IgLnJldHVybigpIHNlbnRpbmVsXCIpO2UuY29yb3V0aW5lLnJldHVyblNlbnRpbmVsPXIsdGhpcy5fcHJvbWlzZS5fYXR0YWNoRXh0cmFUcmFjZShyKSx0aGlzLl9wcm9taXNlLl9wdXNoQ29udGV4dCgpLHQ9aCh0aGlzLl9nZW5lcmF0b3JbXCJ0aHJvd1wiXSkuY2FsbCh0aGlzLl9nZW5lcmF0b3IsciksdGhpcy5fcHJvbWlzZS5fcG9wQ29udGV4dCgpfXRoaXMuX2NhbmNlbGxhdGlvblBoYXNlPSEwLHRoaXMuX3lpZWxkZWRQcm9taXNlPW51bGwsdGhpcy5fY29udGludWUodCl9fSxjLnByb3RvdHlwZS5fcHJvbWlzZUZ1bGZpbGxlZD1mdW5jdGlvbih0KXt0aGlzLl95aWVsZGVkUHJvbWlzZT1udWxsLHRoaXMuX3Byb21pc2UuX3B1c2hDb250ZXh0KCk7dmFyIGU9aCh0aGlzLl9nZW5lcmF0b3IubmV4dCkuY2FsbCh0aGlzLl9nZW5lcmF0b3IsdCk7dGhpcy5fcHJvbWlzZS5fcG9wQ29udGV4dCgpLHRoaXMuX2NvbnRpbnVlKGUpfSxjLnByb3RvdHlwZS5fcHJvbWlzZVJlamVjdGVkPWZ1bmN0aW9uKHQpe3RoaXMuX3lpZWxkZWRQcm9taXNlPW51bGwsdGhpcy5fcHJvbWlzZS5fYXR0YWNoRXh0cmFUcmFjZSh0KSx0aGlzLl9wcm9taXNlLl9wdXNoQ29udGV4dCgpO3ZhciBlPWgodGhpcy5fZ2VuZXJhdG9yW1widGhyb3dcIl0pLmNhbGwodGhpcy5fZ2VuZXJhdG9yLHQpO3RoaXMuX3Byb21pc2UuX3BvcENvbnRleHQoKSx0aGlzLl9jb250aW51ZShlKX0sYy5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZD1mdW5jdGlvbigpe2lmKHRoaXMuX3lpZWxkZWRQcm9taXNlIGluc3RhbmNlb2YgZSl7dmFyIHQ9dGhpcy5feWllbGRlZFByb21pc2U7dGhpcy5feWllbGRlZFByb21pc2U9bnVsbCx0LmNhbmNlbCgpfX0sYy5wcm90b3R5cGUucHJvbWlzZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9taXNlfSxjLnByb3RvdHlwZS5fcnVuPWZ1bmN0aW9uKCl7dGhpcy5fZ2VuZXJhdG9yPXRoaXMuX2dlbmVyYXRvckZ1bmN0aW9uLmNhbGwodGhpcy5fcmVjZWl2ZXIpLHRoaXMuX3JlY2VpdmVyPXRoaXMuX2dlbmVyYXRvckZ1bmN0aW9uPXZvaWQgMCx0aGlzLl9wcm9taXNlRnVsZmlsbGVkKHZvaWQgMCl9LGMucHJvdG90eXBlLl9jb250aW51ZT1mdW5jdGlvbih0KXt2YXIgbj10aGlzLl9wcm9taXNlO2lmKHQ9PT1wKXJldHVybiB0aGlzLl9jbGVhbnVwKCksdGhpcy5fY2FuY2VsbGF0aW9uUGhhc2U/bi5jYW5jZWwoKTpuLl9yZWplY3RDYWxsYmFjayh0LmUsITEpO3ZhciByPXQudmFsdWU7aWYodC5kb25lPT09ITApcmV0dXJuIHRoaXMuX2NsZWFudXAoKSx0aGlzLl9jYW5jZWxsYXRpb25QaGFzZT9uLmNhbmNlbCgpOm4uX3Jlc29sdmVDYWxsYmFjayhyKTt2YXIgbz1pKHIsdGhpcy5fcHJvbWlzZSk7aWYoIShvIGluc3RhbmNlb2YgZSkmJihvPWEobyx0aGlzLl95aWVsZEhhbmRsZXJzLHRoaXMuX3Byb21pc2UpLG51bGw9PT1vKSlyZXR1cm4gdm9pZCB0aGlzLl9wcm9taXNlUmVqZWN0ZWQobmV3IGwoXCJBIHZhbHVlICVzIHdhcyB5aWVsZGVkIHRoYXQgY291bGQgbm90IGJlIHRyZWF0ZWQgYXMgYSBwcm9taXNlXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblxcblwiLnJlcGxhY2UoXCIlc1wiLHIpK1wiRnJvbSBjb3JvdXRpbmU6XFxuXCIrdGhpcy5fc3RhY2suc3BsaXQoXCJcXG5cIikuc2xpY2UoMSwtNykuam9pbihcIlxcblwiKSkpO289by5fdGFyZ2V0KCk7dmFyIHM9by5fYml0RmllbGQ7MD09PSg1MDM5NzE4NCZzKT8odGhpcy5feWllbGRlZFByb21pc2U9byxvLl9wcm94eSh0aGlzLG51bGwpKTowIT09KDMzNTU0NDMyJnMpP2UuX2FzeW5jLmludm9rZSh0aGlzLl9wcm9taXNlRnVsZmlsbGVkLHRoaXMsby5fdmFsdWUoKSk6MCE9PSgxNjc3NzIxNiZzKT9lLl9hc3luYy5pbnZva2UodGhpcy5fcHJvbWlzZVJlamVjdGVkLHRoaXMsby5fcmVhc29uKCkpOnRoaXMuX3Byb21pc2VDYW5jZWxsZWQoKX0sZS5jb3JvdXRpbmU9ZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBsKFwiZ2VuZXJhdG9yRnVuY3Rpb24gbXVzdCBiZSBhIGZ1bmN0aW9uXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKTt2YXIgbj1PYmplY3QoZSkueWllbGRIYW5kbGVyLHI9YyxpPShuZXcgRXJyb3IpLnN0YWNrO3JldHVybiBmdW5jdGlvbigpe3ZhciBlPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLG89bmV3IHIodm9pZCAwLHZvaWQgMCxuLGkpLHM9by5wcm9taXNlKCk7cmV0dXJuIG8uX2dlbmVyYXRvcj1lLG8uX3Byb21pc2VGdWxmaWxsZWQodm9pZCAwKSxzfX0sZS5jb3JvdXRpbmUuYWRkWWllbGRIYW5kbGVyPWZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IGwoXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiK2YuY2xhc3NTdHJpbmcodCkpO2QucHVzaCh0KX0sZS5zcGF3bj1mdW5jdGlvbih0KXtpZihzLmRlcHJlY2F0ZWQoXCJQcm9taXNlLnNwYXduKClcIixcIlByb21pc2UuY29yb3V0aW5lKClcIiksXCJmdW5jdGlvblwiIT10eXBlb2YgdClyZXR1cm4gbihcImdlbmVyYXRvckZ1bmN0aW9uIG11c3QgYmUgYSBmdW5jdGlvblxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIik7XG52YXIgcj1uZXcgYyh0LHRoaXMpLGk9ci5wcm9taXNlKCk7cmV0dXJuIHIuX3J1bihlLnNwYXduKSxpfX19LHtcIi4vZXJyb3JzXCI6MTIsXCIuL3V0aWxcIjozNn1dLDE3OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyLGksbyxzKXt2YXIgYT10KFwiLi91dGlsXCIpO2EuY2FuRXZhbHVhdGUsYS50cnlDYXRjaCxhLmVycm9yT2JqO2Uuam9pbj1mdW5jdGlvbigpe3ZhciB0LGU9YXJndW1lbnRzLmxlbmd0aC0xO2lmKGU+MCYmXCJmdW5jdGlvblwiPT10eXBlb2YgYXJndW1lbnRzW2VdKXt0PWFyZ3VtZW50c1tlXTt2YXIgcn12YXIgaT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7dCYmaS5wb3AoKTt2YXIgcj1uZXcgbihpKS5wcm9taXNlKCk7cmV0dXJuIHZvaWQgMCE9PXQ/ci5zcHJlYWQodCk6cn19fSx7XCIuL3V0aWxcIjozNn1dLDE4OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyLGksbyxzKXtmdW5jdGlvbiBhKHQsZSxuLHIpe3RoaXMuY29uc3RydWN0b3IkKHQpLHRoaXMuX3Byb21pc2UuX2NhcHR1cmVTdGFja1RyYWNlKCk7dmFyIGk9dSgpO3RoaXMuX2NhbGxiYWNrPW51bGw9PT1pP2U6bC5kb21haW5CaW5kKGksZSksdGhpcy5fcHJlc2VydmVkVmFsdWVzPXI9PT1vP25ldyBBcnJheSh0aGlzLmxlbmd0aCgpKTpudWxsLHRoaXMuX2xpbWl0PW4sdGhpcy5faW5GbGlnaHQ9MCx0aGlzLl9xdWV1ZT1bXSxoLmludm9rZSh0aGlzLl9hc3luY0luaXQsdGhpcyx2b2lkIDApfWZ1bmN0aW9uIGModCxuLGksbyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgbilyZXR1cm4gcihcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIrbC5jbGFzc1N0cmluZyhuKSk7dmFyIHM9MDtpZih2b2lkIDAhPT1pKXtpZihcIm9iamVjdFwiIT10eXBlb2YgaXx8bnVsbD09PWkpcmV0dXJuIGUucmVqZWN0KG5ldyBUeXBlRXJyb3IoXCJvcHRpb25zIGFyZ3VtZW50IG11c3QgYmUgYW4gb2JqZWN0IGJ1dCBpdCBpcyBcIitsLmNsYXNzU3RyaW5nKGkpKSk7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGkuY29uY3VycmVuY3kpcmV0dXJuIGUucmVqZWN0KG5ldyBUeXBlRXJyb3IoXCInY29uY3VycmVuY3knIG11c3QgYmUgYSBudW1iZXIgYnV0IGl0IGlzIFwiK2wuY2xhc3NTdHJpbmcoaS5jb25jdXJyZW5jeSkpKTtzPWkuY29uY3VycmVuY3l9cmV0dXJuIHM9XCJudW1iZXJcIj09dHlwZW9mIHMmJmlzRmluaXRlKHMpJiZzPj0xP3M6MCxuZXcgYSh0LG4scyxvKS5wcm9taXNlKCl9dmFyIHU9ZS5fZ2V0RG9tYWluLGw9dChcIi4vdXRpbFwiKSxmPWwudHJ5Q2F0Y2gscD1sLmVycm9yT2JqLGg9ZS5fYXN5bmM7bC5pbmhlcml0cyhhLG4pLGEucHJvdG90eXBlLl9hc3luY0luaXQ9ZnVuY3Rpb24oKXt0aGlzLl9pbml0JCh2b2lkIDAsLTIpfSxhLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbigpe30sYS5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQ9ZnVuY3Rpb24odCxuKXt2YXIgcj10aGlzLl92YWx1ZXMsbz10aGlzLmxlbmd0aCgpLGE9dGhpcy5fcHJlc2VydmVkVmFsdWVzLGM9dGhpcy5fbGltaXQ7aWYoMD5uKXtpZihuPS0xKm4tMSxyW25dPXQsYz49MSYmKHRoaXMuX2luRmxpZ2h0LS0sdGhpcy5fZHJhaW5RdWV1ZSgpLHRoaXMuX2lzUmVzb2x2ZWQoKSkpcmV0dXJuITB9ZWxzZXtpZihjPj0xJiZ0aGlzLl9pbkZsaWdodD49YylyZXR1cm4gcltuXT10LHRoaXMuX3F1ZXVlLnB1c2gobiksITE7bnVsbCE9PWEmJihhW25dPXQpO3ZhciB1PXRoaXMuX3Byb21pc2UsbD10aGlzLl9jYWxsYmFjayxoPXUuX2JvdW5kVmFsdWUoKTt1Ll9wdXNoQ29udGV4dCgpO3ZhciBkPWYobCkuY2FsbChoLHQsbixvKSxfPXUuX3BvcENvbnRleHQoKTtpZihzLmNoZWNrRm9yZ290dGVuUmV0dXJucyhkLF8sbnVsbCE9PWE/XCJQcm9taXNlLmZpbHRlclwiOlwiUHJvbWlzZS5tYXBcIix1KSxkPT09cClyZXR1cm4gdGhpcy5fcmVqZWN0KGQuZSksITA7dmFyIHY9aShkLHRoaXMuX3Byb21pc2UpO2lmKHYgaW5zdGFuY2VvZiBlKXt2PXYuX3RhcmdldCgpO3ZhciB5PXYuX2JpdEZpZWxkO2lmKDA9PT0oNTAzOTcxODQmeSkpcmV0dXJuIGM+PTEmJnRoaXMuX2luRmxpZ2h0KysscltuXT12LHYuX3Byb3h5KHRoaXMsLTEqKG4rMSkpLCExO2lmKDA9PT0oMzM1NTQ0MzImeSkpcmV0dXJuIDAhPT0oMTY3NzcyMTYmeSk/KHRoaXMuX3JlamVjdCh2Ll9yZWFzb24oKSksITApOih0aGlzLl9jYW5jZWwoKSwhMCk7ZD12Ll92YWx1ZSgpfXJbbl09ZH12YXIgbT0rK3RoaXMuX3RvdGFsUmVzb2x2ZWQ7cmV0dXJuIG0+PW8/KG51bGwhPT1hP3RoaXMuX2ZpbHRlcihyLGEpOnRoaXMuX3Jlc29sdmUociksITApOiExfSxhLnByb3RvdHlwZS5fZHJhaW5RdWV1ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9xdWV1ZSxlPXRoaXMuX2xpbWl0LG49dGhpcy5fdmFsdWVzO3QubGVuZ3RoPjAmJnRoaXMuX2luRmxpZ2h0PGU7KXtpZih0aGlzLl9pc1Jlc29sdmVkKCkpcmV0dXJuO3ZhciByPXQucG9wKCk7dGhpcy5fcHJvbWlzZUZ1bGZpbGxlZChuW3JdLHIpfX0sYS5wcm90b3R5cGUuX2ZpbHRlcj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1lLmxlbmd0aCxyPW5ldyBBcnJheShuKSxpPTAsbz0wO24+bzsrK28pdFtvXSYmKHJbaSsrXT1lW29dKTtyLmxlbmd0aD1pLHRoaXMuX3Jlc29sdmUocil9LGEucHJvdG90eXBlLnByZXNlcnZlZFZhbHVlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcmVzZXJ2ZWRWYWx1ZXN9LGUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUpe3JldHVybiBjKHRoaXMsdCxlLG51bGwpfSxlLm1hcD1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gYyh0LGUsbixyKX19fSx7XCIuL3V0aWxcIjozNn1dLDE5OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyLGksbyl7dmFyIHM9dChcIi4vdXRpbFwiKSxhPXMudHJ5Q2F0Y2g7ZS5tZXRob2Q9ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgZS5UeXBlRXJyb3IoXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiK3MuY2xhc3NTdHJpbmcodCkpO3JldHVybiBmdW5jdGlvbigpe3ZhciByPW5ldyBlKG4pO3IuX2NhcHR1cmVTdGFja1RyYWNlKCksci5fcHVzaENvbnRleHQoKTt2YXIgaT1hKHQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxzPXIuX3BvcENvbnRleHQoKTtyZXR1cm4gby5jaGVja0ZvcmdvdHRlblJldHVybnMoaSxzLFwiUHJvbWlzZS5tZXRob2RcIixyKSxyLl9yZXNvbHZlRnJvbVN5bmNWYWx1ZShpKSxyfX0sZS5hdHRlbXB0PWVbXCJ0cnlcIl09ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdClyZXR1cm4gaShcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIrcy5jbGFzc1N0cmluZyh0KSk7dmFyIHI9bmV3IGUobik7ci5fY2FwdHVyZVN0YWNrVHJhY2UoKSxyLl9wdXNoQ29udGV4dCgpO3ZhciBjO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSl7by5kZXByZWNhdGVkKFwiY2FsbGluZyBQcm9taXNlLnRyeSB3aXRoIG1vcmUgdGhhbiAxIGFyZ3VtZW50XCIpO3ZhciB1PWFyZ3VtZW50c1sxXSxsPWFyZ3VtZW50c1syXTtjPXMuaXNBcnJheSh1KT9hKHQpLmFwcGx5KGwsdSk6YSh0KS5jYWxsKGwsdSl9ZWxzZSBjPWEodCkoKTt2YXIgZj1yLl9wb3BDb250ZXh0KCk7cmV0dXJuIG8uY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zKGMsZixcIlByb21pc2UudHJ5XCIsciksci5fcmVzb2x2ZUZyb21TeW5jVmFsdWUoYykscn0sZS5wcm90b3R5cGUuX3Jlc29sdmVGcm9tU3luY1ZhbHVlPWZ1bmN0aW9uKHQpe3Q9PT1zLmVycm9yT2JqP3RoaXMuX3JlamVjdENhbGxiYWNrKHQuZSwhMSk6dGhpcy5fcmVzb2x2ZUNhbGxiYWNrKHQsITApfX19LHtcIi4vdXRpbFwiOjM2fV0sMjA6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0IGluc3RhbmNlb2YgRXJyb3ImJmwuZ2V0UHJvdG90eXBlT2YodCk9PT1FcnJvci5wcm90b3R5cGV9ZnVuY3Rpb24gaSh0KXt2YXIgZTtpZihyKHQpKXtlPW5ldyB1KHQpLGUubmFtZT10Lm5hbWUsZS5tZXNzYWdlPXQubWVzc2FnZSxlLnN0YWNrPXQuc3RhY2s7Zm9yKHZhciBuPWwua2V5cyh0KSxpPTA7aTxuLmxlbmd0aDsrK2kpe3ZhciBvPW5baV07Zi50ZXN0KG8pfHwoZVtvXT10W29dKX1yZXR1cm4gZX1yZXR1cm4gcy5tYXJrQXNPcmlnaW5hdGluZ0Zyb21SZWplY3Rpb24odCksdH1mdW5jdGlvbiBvKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4scil7aWYobnVsbCE9PXQpe2lmKG4pe3ZhciBvPWkoYShuKSk7dC5fYXR0YWNoRXh0cmFUcmFjZShvKSx0Ll9yZWplY3Qobyl9ZWxzZSBpZihlKXt2YXIgcz1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTt0Ll9mdWxmaWxsKHMpfWVsc2UgdC5fZnVsZmlsbChyKTt0PW51bGx9fX12YXIgcz10KFwiLi91dGlsXCIpLGE9cy5tYXliZVdyYXBBc0Vycm9yLGM9dChcIi4vZXJyb3JzXCIpLHU9Yy5PcGVyYXRpb25hbEVycm9yLGw9dChcIi4vZXM1XCIpLGY9L14oPzpuYW1lfG1lc3NhZ2V8c3RhY2t8Y2F1c2UpJC87ZS5leHBvcnRzPW99LHtcIi4vZXJyb3JzXCI6MTIsXCIuL2VzNVwiOjEzLFwiLi91dGlsXCI6MzZ9XSwyMTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKHQsZSl7dmFyIG49dGhpcztpZighby5pc0FycmF5KHQpKXJldHVybiByLmNhbGwobix0LGUpO3ZhciBpPWEoZSkuYXBwbHkobi5fYm91bmRWYWx1ZSgpLFtudWxsXS5jb25jYXQodCkpO2k9PT1jJiZzLnRocm93TGF0ZXIoaS5lKX1mdW5jdGlvbiByKHQsZSl7dmFyIG49dGhpcyxyPW4uX2JvdW5kVmFsdWUoKSxpPXZvaWQgMD09PXQ/YShlKS5jYWxsKHIsbnVsbCk6YShlKS5jYWxsKHIsbnVsbCx0KTtpPT09YyYmcy50aHJvd0xhdGVyKGkuZSl9ZnVuY3Rpb24gaSh0LGUpe3ZhciBuPXRoaXM7aWYoIXQpe3ZhciByPW5ldyBFcnJvcih0K1wiXCIpO3IuY2F1c2U9dCx0PXJ9dmFyIGk9YShlKS5jYWxsKG4uX2JvdW5kVmFsdWUoKSx0KTtpPT09YyYmcy50aHJvd0xhdGVyKGkuZSl9dmFyIG89dChcIi4vdXRpbFwiKSxzPWUuX2FzeW5jLGE9by50cnlDYXRjaCxjPW8uZXJyb3JPYmo7ZS5wcm90b3R5cGUuYXNDYWxsYmFjaz1lLnByb3RvdHlwZS5ub2RlaWZ5PWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdCl7dmFyIG89cjt2b2lkIDAhPT1lJiZPYmplY3QoZSkuc3ByZWFkJiYobz1uKSx0aGlzLl90aGVuKG8saSx2b2lkIDAsdGhpcyx0KX1yZXR1cm4gdGhpc319fSx7XCIuL3V0aWxcIjozNn1dLDIyOltmdW5jdGlvbih0LG4scil7XCJ1c2Ugc3RyaWN0XCI7bi5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcigpe31mdW5jdGlvbiBpKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgZyhcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIrZC5jbGFzc1N0cmluZyhlKSk7aWYodC5jb25zdHJ1Y3RvciE9PW8pdGhyb3cgbmV3IGcoXCJ0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgaW52b2tlZCBkaXJlY3RseVxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIil9ZnVuY3Rpb24gbyh0KXt0aGlzLl9iaXRGaWVsZD0wLHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlcjA9dm9pZCAwLHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwPXZvaWQgMCx0aGlzLl9wcm9taXNlMD12b2lkIDAsdGhpcy5fcmVjZWl2ZXIwPXZvaWQgMCx0IT09dyYmKGkodGhpcyx0KSx0aGlzLl9yZXNvbHZlRnJvbUV4ZWN1dG9yKHQpKSx0aGlzLl9wcm9taXNlQ3JlYXRlZCgpLHRoaXMuX2ZpcmVFdmVudChcInByb21pc2VDcmVhdGVkXCIsdGhpcyl9ZnVuY3Rpb24gcyh0KXt0aGlzLnByb21pc2UuX3Jlc29sdmVDYWxsYmFjayh0KX1mdW5jdGlvbiBhKHQpe3RoaXMucHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2sodCwhMSl9ZnVuY3Rpb24gYyh0KXt2YXIgZT1uZXcgbyh3KTtlLl9mdWxmaWxsbWVudEhhbmRsZXIwPXQsZS5fcmVqZWN0aW9uSGFuZGxlcjA9dCxlLl9wcm9taXNlMD10LGUuX3JlY2VpdmVyMD10fXZhciB1LGw9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGcoXCJjaXJjdWxhciBwcm9taXNlIHJlc29sdXRpb24gY2hhaW5cXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXCIpfSxmPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvLlByb21pc2VJbnNwZWN0aW9uKHRoaXMuX3RhcmdldCgpKX0scD1mdW5jdGlvbih0KXtyZXR1cm4gby5yZWplY3QobmV3IGcodCkpfSxoPXt9LGQ9dChcIi4vdXRpbFwiKTt1PWQuaXNOb2RlP2Z1bmN0aW9uKCl7dmFyIHQ9ZS5kb21haW47cmV0dXJuIHZvaWQgMD09PXQmJih0PW51bGwpLHR9OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGQubm90RW51bWVyYWJsZVByb3AobyxcIl9nZXREb21haW5cIix1KTt2YXIgXz10KFwiLi9lczVcIiksdj10KFwiLi9hc3luY1wiKSx5PW5ldyB2O18uZGVmaW5lUHJvcGVydHkobyxcIl9hc3luY1wiLHt2YWx1ZTp5fSk7dmFyIG09dChcIi4vZXJyb3JzXCIpLGc9by5UeXBlRXJyb3I9bS5UeXBlRXJyb3I7by5SYW5nZUVycm9yPW0uUmFuZ2VFcnJvcjt2YXIgYj1vLkNhbmNlbGxhdGlvbkVycm9yPW0uQ2FuY2VsbGF0aW9uRXJyb3I7by5UaW1lb3V0RXJyb3I9bS5UaW1lb3V0RXJyb3Isby5PcGVyYXRpb25hbEVycm9yPW0uT3BlcmF0aW9uYWxFcnJvcixvLlJlamVjdGlvbkVycm9yPW0uT3BlcmF0aW9uYWxFcnJvcixvLkFnZ3JlZ2F0ZUVycm9yPW0uQWdncmVnYXRlRXJyb3I7dmFyIHc9ZnVuY3Rpb24oKXt9LEU9e30sQz17fSxrPXQoXCIuL3RoZW5hYmxlc1wiKShvLHcpLGo9dChcIi4vcHJvbWlzZV9hcnJheVwiKShvLHcsayxwLHIpLHg9dChcIi4vY29udGV4dFwiKShvKSxGPXguY3JlYXRlLFQ9dChcIi4vZGVidWdnYWJpbGl0eVwiKShvLHgpLFM9KFQuQ2FwdHVyZWRUcmFjZSx0KFwiLi9maW5hbGx5XCIpKG8saykpLFA9dChcIi4vY2F0Y2hfZmlsdGVyXCIpKEMpLE89dChcIi4vbm9kZWJhY2tcIiksUj1kLmVycm9yT2JqLEE9ZC50cnlDYXRjaDtyZXR1cm4gby5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltvYmplY3QgUHJvbWlzZV1cIn0sby5wcm90b3R5cGUuY2F1Z2h0PW8ucHJvdG90eXBlW1wiY2F0Y2hcIl09ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDtpZihlPjEpe3ZhciBuLHI9bmV3IEFycmF5KGUtMSksaT0wO2ZvcihuPTA7ZS0xPm47KytuKXt2YXIgbz1hcmd1bWVudHNbbl07aWYoIWQuaXNPYmplY3QobykpcmV0dXJuIHAoXCJleHBlY3RpbmcgYW4gb2JqZWN0IGJ1dCBnb3QgQSBjYXRjaCBzdGF0ZW1lbnQgcHJlZGljYXRlIFwiK2QuY2xhc3NTdHJpbmcobykpO3JbaSsrXT1vfXJldHVybiByLmxlbmd0aD1pLHQ9YXJndW1lbnRzW25dLHRoaXMudGhlbih2b2lkIDAsUChyLHQsdGhpcykpfXJldHVybiB0aGlzLnRoZW4odm9pZCAwLHQpfSxvLnByb3RvdHlwZS5yZWZsZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RoZW4oZixmLHZvaWQgMCx0aGlzLHZvaWQgMCl9LG8ucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24odCxlKXtpZihULndhcm5pbmdzKCkmJmFyZ3VtZW50cy5sZW5ndGg+MCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgZSl7dmFyIG49XCIudGhlbigpIG9ubHkgYWNjZXB0cyBmdW5jdGlvbnMgYnV0IHdhcyBwYXNzZWQ6IFwiK2QuY2xhc3NTdHJpbmcodCk7YXJndW1lbnRzLmxlbmd0aD4xJiYobis9XCIsIFwiK2QuY2xhc3NTdHJpbmcoZSkpLHRoaXMuX3dhcm4obil9cmV0dXJuIHRoaXMuX3RoZW4odCxlLHZvaWQgMCx2b2lkIDAsdm9pZCAwKX0sby5wcm90b3R5cGUuZG9uZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX3RoZW4odCxlLHZvaWQgMCx2b2lkIDAsdm9pZCAwKTtuLl9zZXRJc0ZpbmFsKCl9LG8ucHJvdG90eXBlLnNwcmVhZD1mdW5jdGlvbih0KXtyZXR1cm5cImZ1bmN0aW9uXCIhPXR5cGVvZiB0P3AoXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiK2QuY2xhc3NTdHJpbmcodCkpOnRoaXMuYWxsKCkuX3RoZW4odCx2b2lkIDAsdm9pZCAwLEUsdm9pZCAwKX0sby5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIHQ9e2lzRnVsZmlsbGVkOiExLGlzUmVqZWN0ZWQ6ITEsZnVsZmlsbG1lbnRWYWx1ZTp2b2lkIDAscmVqZWN0aW9uUmVhc29uOnZvaWQgMH07cmV0dXJuIHRoaXMuaXNGdWxmaWxsZWQoKT8odC5mdWxmaWxsbWVudFZhbHVlPXRoaXMudmFsdWUoKSx0LmlzRnVsZmlsbGVkPSEwKTp0aGlzLmlzUmVqZWN0ZWQoKSYmKHQucmVqZWN0aW9uUmVhc29uPXRoaXMucmVhc29uKCksdC5pc1JlamVjdGVkPSEwKSx0fSxvLnByb3RvdHlwZS5hbGw9ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wJiZ0aGlzLl93YXJuKFwiLmFsbCgpIHdhcyBwYXNzZWQgYXJndW1lbnRzIGJ1dCBpdCBkb2VzIG5vdCB0YWtlIGFueVwiKSxuZXcgaih0aGlzKS5wcm9taXNlKCl9LG8ucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNhdWdodChkLm9yaWdpbmF0ZXNGcm9tUmVqZWN0aW9uLHQpfSxvLmdldE5ld0xpYnJhcnlDb3B5PW4uZXhwb3J0cyxvLmlzPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2Ygb30sby5mcm9tTm9kZT1vLmZyb21DYWxsYmFjaz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgbyh3KTtlLl9jYXB0dXJlU3RhY2tUcmFjZSgpO3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MT8hIU9iamVjdChhcmd1bWVudHNbMV0pLm11bHRpQXJnczohMSxyPUEodCkoTyhlLG4pKTtyZXR1cm4gcj09PVImJmUuX3JlamVjdENhbGxiYWNrKHIuZSwhMCksZS5faXNGYXRlU2VhbGVkKCl8fGUuX3NldEFzeW5jR3VhcmFudGVlZCgpLGV9LG8uYWxsPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgaih0KS5wcm9taXNlKCl9LG8uY2FzdD1mdW5jdGlvbih0KXt2YXIgZT1rKHQpO3JldHVybiBlIGluc3RhbmNlb2Ygb3x8KGU9bmV3IG8odyksZS5fY2FwdHVyZVN0YWNrVHJhY2UoKSxlLl9zZXRGdWxmaWxsZWQoKSxlLl9yZWplY3Rpb25IYW5kbGVyMD10KSxlfSxvLnJlc29sdmU9by5mdWxmaWxsZWQ9by5jYXN0LG8ucmVqZWN0PW8ucmVqZWN0ZWQ9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IG8odyk7cmV0dXJuIGUuX2NhcHR1cmVTdGFja1RyYWNlKCksZS5fcmVqZWN0Q2FsbGJhY2sodCwhMCksZX0sby5zZXRTY2hlZHVsZXI9ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgZyhcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIrZC5jbGFzc1N0cmluZyh0KSk7cmV0dXJuIHkuc2V0U2NoZWR1bGVyKHQpfSxvLnByb3RvdHlwZS5fdGhlbj1mdW5jdGlvbih0LGUsbixyLGkpe3ZhciBzPXZvaWQgMCE9PWksYT1zP2k6bmV3IG8odyksYz10aGlzLl90YXJnZXQoKSxsPWMuX2JpdEZpZWxkO3N8fChhLl9wcm9wYWdhdGVGcm9tKHRoaXMsMyksYS5fY2FwdHVyZVN0YWNrVHJhY2UoKSx2b2lkIDA9PT1yJiYwIT09KDIwOTcxNTImdGhpcy5fYml0RmllbGQpJiYocj0wIT09KDUwMzk3MTg0JmwpP3RoaXMuX2JvdW5kVmFsdWUoKTpjPT09dGhpcz92b2lkIDA6dGhpcy5fYm91bmRUbyksdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZUNoYWluZWRcIix0aGlzLGEpKTt2YXIgZj11KCk7aWYoMCE9PSg1MDM5NzE4NCZsKSl7dmFyIHAsaCxfPWMuX3NldHRsZVByb21pc2VDdHg7MCE9PSgzMzU1NDQzMiZsKT8oaD1jLl9yZWplY3Rpb25IYW5kbGVyMCxwPXQpOjAhPT0oMTY3NzcyMTYmbCk/KGg9Yy5fZnVsZmlsbG1lbnRIYW5kbGVyMCxwPWUsYy5fdW5zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZCgpKTooXz1jLl9zZXR0bGVQcm9taXNlTGF0ZUNhbmNlbGxhdGlvbk9ic2VydmVyLGg9bmV3IGIoXCJsYXRlIGNhbmNlbGxhdGlvbiBvYnNlcnZlclwiKSxjLl9hdHRhY2hFeHRyYVRyYWNlKGgpLHA9ZSkseS5pbnZva2UoXyxjLHtoYW5kbGVyOm51bGw9PT1mP3A6XCJmdW5jdGlvblwiPT10eXBlb2YgcCYmZC5kb21haW5CaW5kKGYscCkscHJvbWlzZTphLHJlY2VpdmVyOnIsdmFsdWU6aH0pfWVsc2UgYy5fYWRkQ2FsbGJhY2tzKHQsZSxhLHIsZik7cmV0dXJuIGF9LG8ucHJvdG90eXBlLl9sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gNjU1MzUmdGhpcy5fYml0RmllbGR9LG8ucHJvdG90eXBlLl9pc0ZhdGVTZWFsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PSgxMTc1MDYwNDgmdGhpcy5fYml0RmllbGQpfSxvLnByb3RvdHlwZS5faXNGb2xsb3dpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gNjcxMDg4NjQ9PT0oNjcxMDg4NjQmdGhpcy5fYml0RmllbGQpfSxvLnByb3RvdHlwZS5fc2V0TGVuZ3RoPWZ1bmN0aW9uKHQpe3RoaXMuX2JpdEZpZWxkPS02NTUzNiZ0aGlzLl9iaXRGaWVsZHw2NTUzNSZ0fSxvLnByb3RvdHlwZS5fc2V0RnVsZmlsbGVkPWZ1bmN0aW9uKCl7dGhpcy5fYml0RmllbGQ9MzM1NTQ0MzJ8dGhpcy5fYml0RmllbGQsdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZUZ1bGZpbGxlZFwiLHRoaXMpfSxvLnByb3RvdHlwZS5fc2V0UmVqZWN0ZWQ9ZnVuY3Rpb24oKXt0aGlzLl9iaXRGaWVsZD0xNjc3NzIxNnx0aGlzLl9iaXRGaWVsZCx0aGlzLl9maXJlRXZlbnQoXCJwcm9taXNlUmVqZWN0ZWRcIix0aGlzKX0sby5wcm90b3R5cGUuX3NldEZvbGxvd2luZz1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPTY3MTA4ODY0fHRoaXMuX2JpdEZpZWxkLHRoaXMuX2ZpcmVFdmVudChcInByb21pc2VSZXNvbHZlZFwiLHRoaXMpfSxvLnByb3RvdHlwZS5fc2V0SXNGaW5hbD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPTQxOTQzMDR8dGhpcy5fYml0RmllbGR9LG8ucHJvdG90eXBlLl9pc0ZpbmFsPWZ1bmN0aW9uKCl7cmV0dXJuKDQxOTQzMDQmdGhpcy5fYml0RmllbGQpPjB9LG8ucHJvdG90eXBlLl91bnNldENhbmNlbGxlZD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPS02NTUzNyZ0aGlzLl9iaXRGaWVsZH0sby5wcm90b3R5cGUuX3NldENhbmNlbGxlZD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPTY1NTM2fHRoaXMuX2JpdEZpZWxkLHRoaXMuX2ZpcmVFdmVudChcInByb21pc2VDYW5jZWxsZWRcIix0aGlzKX0sby5wcm90b3R5cGUuX3NldFdpbGxCZUNhbmNlbGxlZD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPTgzODg2MDh8dGhpcy5fYml0RmllbGR9LG8ucHJvdG90eXBlLl9zZXRBc3luY0d1YXJhbnRlZWQ9ZnVuY3Rpb24oKXt5Lmhhc0N1c3RvbVNjaGVkdWxlcigpfHwodGhpcy5fYml0RmllbGQ9MTM0MjE3NzI4fHRoaXMuX2JpdEZpZWxkKX0sby5wcm90b3R5cGUuX3JlY2VpdmVyQXQ9ZnVuY3Rpb24odCl7dmFyIGU9MD09PXQ/dGhpcy5fcmVjZWl2ZXIwOnRoaXNbNCp0LTQrM107aWYoZSE9PWgpcmV0dXJuIHZvaWQgMD09PWUmJnRoaXMuX2lzQm91bmQoKT90aGlzLl9ib3VuZFZhbHVlKCk6ZX0sby5wcm90b3R5cGUuX3Byb21pc2VBdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpc1s0KnQtNCsyXX0sby5wcm90b3R5cGUuX2Z1bGZpbGxtZW50SGFuZGxlckF0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzWzQqdC00KzBdfSxvLnByb3RvdHlwZS5fcmVqZWN0aW9uSGFuZGxlckF0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzWzQqdC00KzFdfSxvLnByb3RvdHlwZS5fYm91bmRWYWx1ZT1mdW5jdGlvbigpe30sby5wcm90b3R5cGUuX21pZ3JhdGVDYWxsYmFjazA9ZnVuY3Rpb24odCl7dmFyIGU9KHQuX2JpdEZpZWxkLHQuX2Z1bGZpbGxtZW50SGFuZGxlcjApLG49dC5fcmVqZWN0aW9uSGFuZGxlcjAscj10Ll9wcm9taXNlMCxpPXQuX3JlY2VpdmVyQXQoMCk7dm9pZCAwPT09aSYmKGk9aCksdGhpcy5fYWRkQ2FsbGJhY2tzKGUsbixyLGksbnVsbCl9LG8ucHJvdG90eXBlLl9taWdyYXRlQ2FsbGJhY2tBdD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuX2Z1bGZpbGxtZW50SGFuZGxlckF0KGUpLHI9dC5fcmVqZWN0aW9uSGFuZGxlckF0KGUpLGk9dC5fcHJvbWlzZUF0KGUpLG89dC5fcmVjZWl2ZXJBdChlKTt2b2lkIDA9PT1vJiYobz1oKSx0aGlzLl9hZGRDYWxsYmFja3MobixyLGksbyxudWxsKX0sby5wcm90b3R5cGUuX2FkZENhbGxiYWNrcz1mdW5jdGlvbih0LGUsbixyLGkpe3ZhciBvPXRoaXMuX2xlbmd0aCgpO2lmKG8+PTY1NTMxJiYobz0wLHRoaXMuX3NldExlbmd0aCgwKSksMD09PW8pdGhpcy5fcHJvbWlzZTA9bix0aGlzLl9yZWNlaXZlcjA9cixcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYodGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyMD1udWxsPT09aT90OmQuZG9tYWluQmluZChpLHQpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYodGhpcy5fcmVqZWN0aW9uSGFuZGxlcjA9bnVsbD09PWk/ZTpkLmRvbWFpbkJpbmQoaSxlKSk7ZWxzZXt2YXIgcz00Km8tNDt0aGlzW3MrMl09bix0aGlzW3MrM109cixcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYodGhpc1tzKzBdPW51bGw9PT1pP3Q6ZC5kb21haW5CaW5kKGksdCkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJih0aGlzW3MrMV09bnVsbD09PWk/ZTpkLmRvbWFpbkJpbmQoaSxlKSl9cmV0dXJuIHRoaXMuX3NldExlbmd0aChvKzEpLG99LG8ucHJvdG90eXBlLl9wcm94eT1mdW5jdGlvbih0LGUpe3RoaXMuX2FkZENhbGxiYWNrcyh2b2lkIDAsdm9pZCAwLGUsdCxudWxsKX0sby5wcm90b3R5cGUuX3Jlc29sdmVDYWxsYmFjaz1mdW5jdGlvbih0LGUpe2lmKDA9PT0oMTE3NTA2MDQ4JnRoaXMuX2JpdEZpZWxkKSl7aWYodD09PXRoaXMpcmV0dXJuIHRoaXMuX3JlamVjdENhbGxiYWNrKGwoKSwhMSk7dmFyIG49ayh0LHRoaXMpO2lmKCEobiBpbnN0YW5jZW9mIG8pKXJldHVybiB0aGlzLl9mdWxmaWxsKHQpO2UmJnRoaXMuX3Byb3BhZ2F0ZUZyb20obiwyKTt2YXIgcj1uLl90YXJnZXQoKTtpZihyPT09dGhpcylyZXR1cm4gdm9pZCB0aGlzLl9yZWplY3QobCgpKTt2YXIgaT1yLl9iaXRGaWVsZDtpZigwPT09KDUwMzk3MTg0JmkpKXt2YXIgcz10aGlzLl9sZW5ndGgoKTtzPjAmJnIuX21pZ3JhdGVDYWxsYmFjazAodGhpcyk7Zm9yKHZhciBhPTE7cz5hOysrYSlyLl9taWdyYXRlQ2FsbGJhY2tBdCh0aGlzLGEpO3RoaXMuX3NldEZvbGxvd2luZygpLHRoaXMuX3NldExlbmd0aCgwKSx0aGlzLl9zZXRGb2xsb3dlZShyKX1lbHNlIGlmKDAhPT0oMzM1NTQ0MzImaSkpdGhpcy5fZnVsZmlsbChyLl92YWx1ZSgpKTtlbHNlIGlmKDAhPT0oMTY3NzcyMTYmaSkpdGhpcy5fcmVqZWN0KHIuX3JlYXNvbigpKTtlbHNle3ZhciBjPW5ldyBiKFwibGF0ZSBjYW5jZWxsYXRpb24gb2JzZXJ2ZXJcIik7ci5fYXR0YWNoRXh0cmFUcmFjZShjKSx0aGlzLl9yZWplY3QoYyl9fX0sby5wcm90b3R5cGUuX3JlamVjdENhbGxiYWNrPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1kLmVuc3VyZUVycm9yT2JqZWN0KHQpLGk9cj09PXQ7aWYoIWkmJiFuJiZULndhcm5pbmdzKCkpe3ZhciBvPVwiYSBwcm9taXNlIHdhcyByZWplY3RlZCB3aXRoIGEgbm9uLWVycm9yOiBcIitkLmNsYXNzU3RyaW5nKHQpO3RoaXMuX3dhcm4obywhMCl9dGhpcy5fYXR0YWNoRXh0cmFUcmFjZShyLGU/aTohMSksdGhpcy5fcmVqZWN0KHQpfSxvLnByb3RvdHlwZS5fcmVzb2x2ZUZyb21FeGVjdXRvcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuX2NhcHR1cmVTdGFja1RyYWNlKCksdGhpcy5fcHVzaENvbnRleHQoKTt2YXIgbj0hMCxyPXRoaXMuX2V4ZWN1dGUodCxmdW5jdGlvbih0KXtlLl9yZXNvbHZlQ2FsbGJhY2sodCl9LGZ1bmN0aW9uKHQpe2UuX3JlamVjdENhbGxiYWNrKHQsbil9KTtuPSExLHRoaXMuX3BvcENvbnRleHQoKSx2b2lkIDAhPT1yJiZlLl9yZWplY3RDYWxsYmFjayhyLCEwKX0sby5wcm90b3R5cGUuX3NldHRsZVByb21pc2VGcm9tSGFuZGxlcj1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT1yLl9iaXRGaWVsZDtpZigwPT09KDY1NTM2JmkpKXtyLl9wdXNoQ29udGV4dCgpO3ZhciBvO2U9PT1FP24mJlwibnVtYmVyXCI9PXR5cGVvZiBuLmxlbmd0aD9vPUEodCkuYXBwbHkodGhpcy5fYm91bmRWYWx1ZSgpLG4pOihvPVIsby5lPW5ldyBnKFwiY2Fubm90IC5zcHJlYWQoKSBhIG5vbi1hcnJheTogXCIrZC5jbGFzc1N0cmluZyhuKSkpOm89QSh0KS5jYWxsKGUsbik7dmFyIHM9ci5fcG9wQ29udGV4dCgpO2k9ci5fYml0RmllbGQsMD09PSg2NTUzNiZpKSYmKG89PT1DP3IuX3JlamVjdChuKTpvPT09Uj9yLl9yZWplY3RDYWxsYmFjayhvLmUsITEpOihULmNoZWNrRm9yZ290dGVuUmV0dXJucyhvLHMsXCJcIixyLHRoaXMpLHIuX3Jlc29sdmVDYWxsYmFjayhvKSkpfX0sby5wcm90b3R5cGUuX3RhcmdldD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzO3QuX2lzRm9sbG93aW5nKCk7KXQ9dC5fZm9sbG93ZWUoKTtyZXR1cm4gdH0sby5wcm90b3R5cGUuX2ZvbGxvd2VlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwfSxvLnByb3RvdHlwZS5fc2V0Rm9sbG93ZWU9ZnVuY3Rpb24odCl7dGhpcy5fcmVqZWN0aW9uSGFuZGxlcjA9dH0sby5wcm90b3R5cGUuX3NldHRsZVByb21pc2U9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHM9dCBpbnN0YW5jZW9mIG8sYT10aGlzLl9iaXRGaWVsZCxjPTAhPT0oMTM0MjE3NzI4JmEpOzAhPT0oNjU1MzYmYSk/KHMmJnQuX2ludm9rZUludGVybmFsT25DYW5jZWwoKSxuIGluc3RhbmNlb2YgUyYmbi5pc0ZpbmFsbHlIYW5kbGVyKCk/KG4uY2FuY2VsUHJvbWlzZT10LEEoZSkuY2FsbChuLGkpPT09UiYmdC5fcmVqZWN0KFIuZSkpOmU9PT1mP3QuX2Z1bGZpbGwoZi5jYWxsKG4pKTpuIGluc3RhbmNlb2Ygcj9uLl9wcm9taXNlQ2FuY2VsbGVkKHQpOnN8fHQgaW5zdGFuY2VvZiBqP3QuX2NhbmNlbCgpOm4uY2FuY2VsKCkpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGU/cz8oYyYmdC5fc2V0QXN5bmNHdWFyYW50ZWVkKCksdGhpcy5fc2V0dGxlUHJvbWlzZUZyb21IYW5kbGVyKGUsbixpLHQpKTplLmNhbGwobixpLHQpOm4gaW5zdGFuY2VvZiByP24uX2lzUmVzb2x2ZWQoKXx8KDAhPT0oMzM1NTQ0MzImYSk/bi5fcHJvbWlzZUZ1bGZpbGxlZChpLHQpOm4uX3Byb21pc2VSZWplY3RlZChpLHQpKTpzJiYoYyYmdC5fc2V0QXN5bmNHdWFyYW50ZWVkKCksMCE9PSgzMzU1NDQzMiZhKT90Ll9mdWxmaWxsKGkpOnQuX3JlamVjdChpKSl9LG8ucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlTGF0ZUNhbmNlbGxhdGlvbk9ic2VydmVyPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaGFuZGxlcixuPXQucHJvbWlzZSxyPXQucmVjZWl2ZXIsaT10LnZhbHVlO1wiZnVuY3Rpb25cIj09dHlwZW9mIGU/biBpbnN0YW5jZW9mIG8/dGhpcy5fc2V0dGxlUHJvbWlzZUZyb21IYW5kbGVyKGUscixpLG4pOmUuY2FsbChyLGksbik6biBpbnN0YW5jZW9mIG8mJm4uX3JlamVjdChpKX0sby5wcm90b3R5cGUuX3NldHRsZVByb21pc2VDdHg9ZnVuY3Rpb24odCl7dGhpcy5fc2V0dGxlUHJvbWlzZSh0LnByb21pc2UsdC5oYW5kbGVyLHQucmVjZWl2ZXIsdC52YWx1ZSl9LG8ucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlMD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5fcHJvbWlzZTAsaT10aGlzLl9yZWNlaXZlckF0KDApO3RoaXMuX3Byb21pc2UwPXZvaWQgMCx0aGlzLl9yZWNlaXZlcjA9dm9pZCAwLHRoaXMuX3NldHRsZVByb21pc2Uocix0LGksZSl9LG8ucHJvdG90eXBlLl9jbGVhckNhbGxiYWNrRGF0YUF0SW5kZXg9ZnVuY3Rpb24odCl7dmFyIGU9NCp0LTQ7dGhpc1tlKzJdPXRoaXNbZSszXT10aGlzW2UrMF09dGhpc1tlKzFdPXZvaWQgMH0sby5wcm90b3R5cGUuX2Z1bGZpbGw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fYml0RmllbGQ7aWYoISgoMTE3NTA2MDQ4JmUpPj4+MTYpKXtpZih0PT09dGhpcyl7dmFyIG49bCgpO3JldHVybiB0aGlzLl9hdHRhY2hFeHRyYVRyYWNlKG4pLHRoaXMuX3JlamVjdChuKX10aGlzLl9zZXRGdWxmaWxsZWQoKSx0aGlzLl9yZWplY3Rpb25IYW5kbGVyMD10LCg2NTUzNSZlKT4wJiYoMCE9PSgxMzQyMTc3MjgmZSk/dGhpcy5fc2V0dGxlUHJvbWlzZXMoKTp5LnNldHRsZVByb21pc2VzKHRoaXMpKX19LG8ucHJvdG90eXBlLl9yZWplY3Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fYml0RmllbGQ7aWYoISgoMTE3NTA2MDQ4JmUpPj4+MTYpKXJldHVybiB0aGlzLl9zZXRSZWplY3RlZCgpLHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlcjA9dCx0aGlzLl9pc0ZpbmFsKCk/eS5mYXRhbEVycm9yKHQsZC5pc05vZGUpOnZvaWQoKDY1NTM1JmUpPjA/eS5zZXR0bGVQcm9taXNlcyh0aGlzKTp0aGlzLl9lbnN1cmVQb3NzaWJsZVJlamVjdGlvbkhhbmRsZWQoKSl9LG8ucHJvdG90eXBlLl9mdWxmaWxsUHJvbWlzZXM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MTt0Pm47bisrKXt2YXIgcj10aGlzLl9mdWxmaWxsbWVudEhhbmRsZXJBdChuKSxpPXRoaXMuX3Byb21pc2VBdChuKSxvPXRoaXMuX3JlY2VpdmVyQXQobik7dGhpcy5fY2xlYXJDYWxsYmFja0RhdGFBdEluZGV4KG4pLHRoaXMuX3NldHRsZVByb21pc2UoaSxyLG8sZSl9fSxvLnByb3RvdHlwZS5fcmVqZWN0UHJvbWlzZXM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MTt0Pm47bisrKXt2YXIgcj10aGlzLl9yZWplY3Rpb25IYW5kbGVyQXQobiksaT10aGlzLl9wcm9taXNlQXQobiksbz10aGlzLl9yZWNlaXZlckF0KG4pO3RoaXMuX2NsZWFyQ2FsbGJhY2tEYXRhQXRJbmRleChuKSx0aGlzLl9zZXR0bGVQcm9taXNlKGkscixvLGUpfX0sby5wcm90b3R5cGUuX3NldHRsZVByb21pc2VzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fYml0RmllbGQsZT02NTUzNSZ0O2lmKGU+MCl7aWYoMCE9PSgxNjg0Mjc1MiZ0KSl7dmFyIG49dGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyMDt0aGlzLl9zZXR0bGVQcm9taXNlMCh0aGlzLl9yZWplY3Rpb25IYW5kbGVyMCxuLHQpLHRoaXMuX3JlamVjdFByb21pc2VzKGUsbil9ZWxzZXt2YXIgcj10aGlzLl9yZWplY3Rpb25IYW5kbGVyMDt0aGlzLl9zZXR0bGVQcm9taXNlMCh0aGlzLl9mdWxmaWxsbWVudEhhbmRsZXIwLHIsdCksdGhpcy5fZnVsZmlsbFByb21pc2VzKGUscil9dGhpcy5fc2V0TGVuZ3RoKDApfXRoaXMuX2NsZWFyQ2FuY2VsbGF0aW9uRGF0YSgpfSxvLnByb3RvdHlwZS5fc2V0dGxlZFZhbHVlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fYml0RmllbGQ7cmV0dXJuIDAhPT0oMzM1NTQ0MzImdCk/dGhpcy5fcmVqZWN0aW9uSGFuZGxlcjA6MCE9PSgxNjc3NzIxNiZ0KT90aGlzLl9mdWxmaWxsbWVudEhhbmRsZXIwOnZvaWQgMH0sby5kZWZlcj1vLnBlbmRpbmc9ZnVuY3Rpb24oKXtULmRlcHJlY2F0ZWQoXCJQcm9taXNlLmRlZmVyXCIsXCJuZXcgUHJvbWlzZVwiKTt2YXIgdD1uZXcgbyh3KTtyZXR1cm57cHJvbWlzZTp0LHJlc29sdmU6cyxyZWplY3Q6YX19LGQubm90RW51bWVyYWJsZVByb3AobyxcIl9tYWtlU2VsZlJlc29sdXRpb25FcnJvclwiLGwpLHQoXCIuL21ldGhvZFwiKShvLHcsayxwLFQpLHQoXCIuL2JpbmRcIikobyx3LGssVCksdChcIi4vY2FuY2VsXCIpKG8saixwLFQpLHQoXCIuL2RpcmVjdF9yZXNvbHZlXCIpKG8pLHQoXCIuL3N5bmNocm9ub3VzX2luc3BlY3Rpb25cIikobyksdChcIi4vam9pblwiKShvLGosayx3LHksdSksby5Qcm9taXNlPW8sby52ZXJzaW9uPVwiMy40LjZcIix0KFwiLi9tYXAuanNcIikobyxqLHAsayx3LFQpLHQoXCIuL2NhbGxfZ2V0LmpzXCIpKG8pLHQoXCIuL3VzaW5nLmpzXCIpKG8scCxrLEYsdyxUKSx0KFwiLi90aW1lcnMuanNcIikobyx3LFQpLHQoXCIuL2dlbmVyYXRvcnMuanNcIikobyxwLHcsayxyLFQpLHQoXCIuL25vZGVpZnkuanNcIikobyksdChcIi4vcHJvbWlzaWZ5LmpzXCIpKG8sdyksdChcIi4vcHJvcHMuanNcIikobyxqLGsscCksdChcIi4vcmFjZS5qc1wiKShvLHcsayxwKSx0KFwiLi9yZWR1Y2UuanNcIikobyxqLHAsayx3LFQpLHQoXCIuL3NldHRsZS5qc1wiKShvLGosVCksdChcIi4vc29tZS5qc1wiKShvLGoscCksdChcIi4vZmlsdGVyLmpzXCIpKG8sdyksdChcIi4vZWFjaC5qc1wiKShvLHcpLHQoXCIuL2FueS5qc1wiKShvKSxkLnRvRmFzdFByb3BlcnRpZXMobyksZC50b0Zhc3RQcm9wZXJ0aWVzKG8ucHJvdG90eXBlKSxjKHthOjF9KSxjKHtiOjJ9KSxjKHtjOjN9KSxjKDEpLGMoZnVuY3Rpb24oKXt9KSxjKHZvaWQgMCksYyghMSksYyhuZXcgbyh3KSksVC5zZXRCb3VuZHModi5maXJzdExpbmVFcnJvcixkLmxhc3RMaW5lRXJyb3IpLG99fSx7XCIuL2FueS5qc1wiOjEsXCIuL2FzeW5jXCI6MixcIi4vYmluZFwiOjMsXCIuL2NhbGxfZ2V0LmpzXCI6NSxcIi4vY2FuY2VsXCI6NixcIi4vY2F0Y2hfZmlsdGVyXCI6NyxcIi4vY29udGV4dFwiOjgsXCIuL2RlYnVnZ2FiaWxpdHlcIjo5LFwiLi9kaXJlY3RfcmVzb2x2ZVwiOjEwLFwiLi9lYWNoLmpzXCI6MTEsXCIuL2Vycm9yc1wiOjEyLFwiLi9lczVcIjoxMyxcIi4vZmlsdGVyLmpzXCI6MTQsXCIuL2ZpbmFsbHlcIjoxNSxcIi4vZ2VuZXJhdG9ycy5qc1wiOjE2LFwiLi9qb2luXCI6MTcsXCIuL21hcC5qc1wiOjE4LFwiLi9tZXRob2RcIjoxOSxcIi4vbm9kZWJhY2tcIjoyMCxcIi4vbm9kZWlmeS5qc1wiOjIxLFwiLi9wcm9taXNlX2FycmF5XCI6MjMsXCIuL3Byb21pc2lmeS5qc1wiOjI0LFwiLi9wcm9wcy5qc1wiOjI1LFwiLi9yYWNlLmpzXCI6MjcsXCIuL3JlZHVjZS5qc1wiOjI4LFwiLi9zZXR0bGUuanNcIjozMCxcIi4vc29tZS5qc1wiOjMxLFwiLi9zeW5jaHJvbm91c19pbnNwZWN0aW9uXCI6MzIsXCIuL3RoZW5hYmxlc1wiOjMzLFwiLi90aW1lcnMuanNcIjozNCxcIi4vdXNpbmcuanNcIjozNSxcIi4vdXRpbFwiOjM2fV0sMjM6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIsaSxvKXtmdW5jdGlvbiBzKHQpe3N3aXRjaCh0KXtjYXNlLTI6cmV0dXJuW107Y2FzZS0zOnJldHVybnt9fX1mdW5jdGlvbiBhKHQpe3ZhciByPXRoaXMuX3Byb21pc2U9bmV3IGUobik7dCBpbnN0YW5jZW9mIGUmJnIuX3Byb3BhZ2F0ZUZyb20odCwzKSxyLl9zZXRPbkNhbmNlbCh0aGlzKSx0aGlzLl92YWx1ZXM9dCx0aGlzLl9sZW5ndGg9MCx0aGlzLl90b3RhbFJlc29sdmVkPTAsdGhpcy5faW5pdCh2b2lkIDAsLTIpfXZhciBjPXQoXCIuL3V0aWxcIik7Yy5pc0FycmF5O3JldHVybiBjLmluaGVyaXRzKGEsbyksYS5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlbmd0aH0sYS5wcm90b3R5cGUucHJvbWlzZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9taXNlfSxhLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbiB1KHQsbil7dmFyIG89cih0aGlzLl92YWx1ZXMsdGhpcy5fcHJvbWlzZSk7aWYobyBpbnN0YW5jZW9mIGUpe289by5fdGFyZ2V0KCk7dmFyIGE9by5fYml0RmllbGQ7aWYodGhpcy5fdmFsdWVzPW8sMD09PSg1MDM5NzE4NCZhKSlyZXR1cm4gdGhpcy5fcHJvbWlzZS5fc2V0QXN5bmNHdWFyYW50ZWVkKCksby5fdGhlbih1LHRoaXMuX3JlamVjdCx2b2lkIDAsdGhpcyxuKTtpZigwPT09KDMzNTU0NDMyJmEpKXJldHVybiAwIT09KDE2Nzc3MjE2JmEpP3RoaXMuX3JlamVjdChvLl9yZWFzb24oKSk6dGhpcy5fY2FuY2VsKCk7bz1vLl92YWx1ZSgpfWlmKG89Yy5hc0FycmF5KG8pLG51bGw9PT1vKXt2YXIgbD1pKFwiZXhwZWN0aW5nIGFuIGFycmF5IG9yIGFuIGl0ZXJhYmxlIG9iamVjdCBidXQgZ290IFwiK2MuY2xhc3NTdHJpbmcobykpLnJlYXNvbigpO3JldHVybiB2b2lkIHRoaXMuX3Byb21pc2UuX3JlamVjdENhbGxiYWNrKGwsITEpfXJldHVybiAwPT09by5sZW5ndGg/dm9pZCgtNT09PW4/dGhpcy5fcmVzb2x2ZUVtcHR5QXJyYXkoKTp0aGlzLl9yZXNvbHZlKHMobikpKTp2b2lkIHRoaXMuX2l0ZXJhdGUobyl9LGEucHJvdG90eXBlLl9pdGVyYXRlPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuZ2V0QWN0dWFsTGVuZ3RoKHQubGVuZ3RoKTt0aGlzLl9sZW5ndGg9bix0aGlzLl92YWx1ZXM9dGhpcy5zaG91bGRDb3B5VmFsdWVzKCk/bmV3IEFycmF5KG4pOnRoaXMuX3ZhbHVlcztmb3IodmFyIGk9dGhpcy5fcHJvbWlzZSxvPSExLHM9bnVsbCxhPTA7bj5hOysrYSl7dmFyIGM9cih0W2FdLGkpO2MgaW5zdGFuY2VvZiBlPyhjPWMuX3RhcmdldCgpLHM9Yy5fYml0RmllbGQpOnM9bnVsbCxvP251bGwhPT1zJiZjLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucygpOm51bGwhPT1zPzA9PT0oNTAzOTcxODQmcyk/KGMuX3Byb3h5KHRoaXMsYSksdGhpcy5fdmFsdWVzW2FdPWMpOm89MCE9PSgzMzU1NDQzMiZzKT90aGlzLl9wcm9taXNlRnVsZmlsbGVkKGMuX3ZhbHVlKCksYSk6MCE9PSgxNjc3NzIxNiZzKT90aGlzLl9wcm9taXNlUmVqZWN0ZWQoYy5fcmVhc29uKCksYSk6dGhpcy5fcHJvbWlzZUNhbmNlbGxlZChhKTpvPXRoaXMuX3Byb21pc2VGdWxmaWxsZWQoYyxhKX1vfHxpLl9zZXRBc3luY0d1YXJhbnRlZWQoKX0sYS5wcm90b3R5cGUuX2lzUmVzb2x2ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuX3ZhbHVlc30sYS5wcm90b3R5cGUuX3Jlc29sdmU9ZnVuY3Rpb24odCl7dGhpcy5fdmFsdWVzPW51bGwsdGhpcy5fcHJvbWlzZS5fZnVsZmlsbCh0KX0sYS5wcm90b3R5cGUuX2NhbmNlbD1mdW5jdGlvbigpeyF0aGlzLl9pc1Jlc29sdmVkKCkmJnRoaXMuX3Byb21pc2UuX2lzQ2FuY2VsbGFibGUoKSYmKHRoaXMuX3ZhbHVlcz1udWxsLHRoaXMuX3Byb21pc2UuX2NhbmNlbCgpKX0sYS5wcm90b3R5cGUuX3JlamVjdD1mdW5jdGlvbih0KXt0aGlzLl92YWx1ZXM9bnVsbCx0aGlzLl9wcm9taXNlLl9yZWplY3RDYWxsYmFjayh0LCExKX0sYS5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQ9ZnVuY3Rpb24odCxlKXt0aGlzLl92YWx1ZXNbZV09dDt2YXIgbj0rK3RoaXMuX3RvdGFsUmVzb2x2ZWQ7cmV0dXJuIG4+PXRoaXMuX2xlbmd0aD8odGhpcy5fcmVzb2x2ZSh0aGlzLl92YWx1ZXMpLCEwKTohMX0sYS5wcm90b3R5cGUuX3Byb21pc2VDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FuY2VsKCksITB9LGEucHJvdG90eXBlLl9wcm9taXNlUmVqZWN0ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3RvdGFsUmVzb2x2ZWQrKyx0aGlzLl9yZWplY3QodCksITB9LGEucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5faXNSZXNvbHZlZCgpKXt2YXIgdD10aGlzLl92YWx1ZXM7aWYodGhpcy5fY2FuY2VsKCksdCBpbnN0YW5jZW9mIGUpdC5jYW5jZWwoKTtlbHNlIGZvcih2YXIgbj0wO248dC5sZW5ndGg7KytuKXRbbl1pbnN0YW5jZW9mIGUmJnRbbl0uY2FuY2VsKCl9fSxhLnByb3RvdHlwZS5zaG91bGRDb3B5VmFsdWVzPWZ1bmN0aW9uKCl7cmV0dXJuITB9LGEucHJvdG90eXBlLmdldEFjdHVhbExlbmd0aD1mdW5jdGlvbih0KXtyZXR1cm4gdH0sYX19LHtcIi4vdXRpbFwiOjM2fV0sMjQ6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiByKHQpe3JldHVybiFFLnRlc3QodCl9ZnVuY3Rpb24gaSh0KXt0cnl7cmV0dXJuIHQuX19pc1Byb21pc2lmaWVkX189PT0hMH1jYXRjaChlKXtyZXR1cm4hMX19ZnVuY3Rpb24gbyh0LGUsbil7dmFyIHI9aC5nZXREYXRhUHJvcGVydHlPckRlZmF1bHQodCxlK24sYik7cmV0dXJuIHI/aShyKTohMX1mdW5jdGlvbiBzKHQsZSxuKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrPTIpe3ZhciBpPXRbcl07aWYobi50ZXN0KGkpKWZvcih2YXIgbz1pLnJlcGxhY2UobixcIlwiKSxzPTA7czx0Lmxlbmd0aDtzKz0yKWlmKHRbc109PT1vKXRocm93IG5ldyBtKFwiQ2Fubm90IHByb21pc2lmeSBhbiBBUEkgdGhhdCBoYXMgbm9ybWFsIG1ldGhvZHMgd2l0aCAnJXMnLXN1ZmZpeFxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIi5yZXBsYWNlKFwiJXNcIixlKSl9fWZ1bmN0aW9uIGEodCxlLG4scil7Zm9yKHZhciBhPWguaW5oZXJpdGVkRGF0YUtleXModCksYz1bXSx1PTA7dTxhLmxlbmd0aDsrK3Upe3ZhciBsPWFbdV0sZj10W2xdLHA9cj09PUM/ITA6QyhsLGYsdCk7XCJmdW5jdGlvblwiIT10eXBlb2YgZnx8aShmKXx8byh0LGwsZSl8fCFyKGwsZix0LHApfHxjLnB1c2gobCxmKX1yZXR1cm4gcyhjLGUsbiksY31mdW5jdGlvbiBjKHQscixpLG8scyxhKXtmdW5jdGlvbiBjKCl7dmFyIGk9cjtyPT09cCYmKGk9dGhpcyk7dmFyIG89bmV3IGUobik7by5fY2FwdHVyZVN0YWNrVHJhY2UoKTt2YXIgcz1cInN0cmluZ1wiPT10eXBlb2YgbCYmdGhpcyE9PXU/dGhpc1tsXTp0LGM9ZChvLGEpO3RyeXtzLmFwcGx5KGksXyhhcmd1bWVudHMsYykpfWNhdGNoKGYpe28uX3JlamVjdENhbGxiYWNrKHYoZiksITAsITApfXJldHVybiBvLl9pc0ZhdGVTZWFsZWQoKXx8by5fc2V0QXN5bmNHdWFyYW50ZWVkKCksb312YXIgdT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpLGw9dDtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgbCYmKHQ9byksaC5ub3RFbnVtZXJhYmxlUHJvcChjLFwiX19pc1Byb21pc2lmaWVkX19cIiwhMCksY31mdW5jdGlvbiB1KHQsZSxuLHIsaSl7Zm9yKHZhciBvPW5ldyBSZWdFeHAoayhlKStcIiRcIikscz1hKHQsZSxvLG4pLGM9MCx1PXMubGVuZ3RoO3U+YztjKz0yKXt2YXIgbD1zW2NdLGY9c1tjKzFdLGQ9bCtlO2lmKHI9PT1qKXRbZF09aihsLHAsbCxmLGUsaSk7ZWxzZXt2YXIgXz1yKGYsZnVuY3Rpb24oKXtyZXR1cm4gaihsLHAsbCxmLGUsaSl9KTtoLm5vdEVudW1lcmFibGVQcm9wKF8sXCJfX2lzUHJvbWlzaWZpZWRfX1wiLCEwKSx0W2RdPV99fXJldHVybiBoLnRvRmFzdFByb3BlcnRpZXModCksdH1mdW5jdGlvbiBsKHQsZSxuKXtyZXR1cm4gaih0LGUsdm9pZCAwLHQsbnVsbCxuKX12YXIgZixwPXt9LGg9dChcIi4vdXRpbFwiKSxkPXQoXCIuL25vZGViYWNrXCIpLF89aC53aXRoQXBwZW5kZWQsdj1oLm1heWJlV3JhcEFzRXJyb3IseT1oLmNhbkV2YWx1YXRlLG09dChcIi4vZXJyb3JzXCIpLlR5cGVFcnJvcixnPVwiQXN5bmNcIixiPXtfX2lzUHJvbWlzaWZpZWRfXzohMH0sdz1bXCJhcml0eVwiLFwibGVuZ3RoXCIsXCJuYW1lXCIsXCJhcmd1bWVudHNcIixcImNhbGxlclwiLFwiY2FsbGVlXCIsXCJwcm90b3R5cGVcIixcIl9faXNQcm9taXNpZmllZF9fXCJdLEU9bmV3IFJlZ0V4cChcIl4oPzpcIit3LmpvaW4oXCJ8XCIpK1wiKSRcIiksQz1mdW5jdGlvbih0KXtyZXR1cm4gaC5pc0lkZW50aWZpZXIodCkmJlwiX1wiIT09dC5jaGFyQXQoMCkmJlwiY29uc3RydWN0b3JcIiE9PXR9LGs9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvKFskXSkvLFwiXFxcXCRcIil9LGo9eT9mOmM7ZS5wcm9taXNpZnk9ZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBtKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIitoLmNsYXNzU3RyaW5nKHQpKTtpZihpKHQpKXJldHVybiB0O2U9T2JqZWN0KGUpO3ZhciBuPXZvaWQgMD09PWUuY29udGV4dD9wOmUuY29udGV4dCxvPSEhZS5tdWx0aUFyZ3Mscz1sKHQsbixvKTtyZXR1cm4gaC5jb3B5RGVzY3JpcHRvcnModCxzLHIpLHN9LGUucHJvbWlzaWZ5QWxsPWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmXCJvYmplY3RcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IG0oXCJ0aGUgdGFyZ2V0IG9mIHByb21pc2lmeUFsbCBtdXN0IGJlIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKTtlPU9iamVjdChlKTt2YXIgbj0hIWUubXVsdGlBcmdzLHI9ZS5zdWZmaXg7XCJzdHJpbmdcIiE9dHlwZW9mIHImJihyPWcpO3ZhciBpPWUuZmlsdGVyO1wiZnVuY3Rpb25cIiE9dHlwZW9mIGkmJihpPUMpO3ZhciBvPWUucHJvbWlzaWZpZXI7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgbyYmKG89aiksIWguaXNJZGVudGlmaWVyKHIpKXRocm93IG5ldyBSYW5nZUVycm9yKFwic3VmZml4IG11c3QgYmUgYSB2YWxpZCBpZGVudGlmaWVyXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKTtmb3IodmFyIHM9aC5pbmhlcml0ZWREYXRhS2V5cyh0KSxhPTA7YTxzLmxlbmd0aDsrK2Epe3ZhciBjPXRbc1thXV07XCJjb25zdHJ1Y3RvclwiIT09c1thXSYmaC5pc0NsYXNzKGMpJiYodShjLnByb3RvdHlwZSxyLGksbyxuKSx1KGMscixpLG8sbikpfXJldHVybiB1KHQscixpLG8sbil9fX0se1wiLi9lcnJvcnNcIjoxMixcIi4vbm9kZWJhY2tcIjoyMCxcIi4vdXRpbFwiOjM2fV0sMjU6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIsaSl7ZnVuY3Rpb24gbyh0KXt2YXIgZSxuPSExO2lmKHZvaWQgMCE9PWEmJnQgaW5zdGFuY2VvZiBhKWU9Zih0KSxuPSEwO2Vsc2V7dmFyIHI9bC5rZXlzKHQpLGk9ci5sZW5ndGg7ZT1uZXcgQXJyYXkoMippKTtmb3IodmFyIG89MDtpPm87KytvKXt2YXIgcz1yW29dO2Vbb109dFtzXSxlW28raV09c319dGhpcy5jb25zdHJ1Y3RvciQoZSksdGhpcy5faXNNYXA9bix0aGlzLl9pbml0JCh2b2lkIDAsLTMpfWZ1bmN0aW9uIHModCl7dmFyIG4scz1yKHQpO3JldHVybiB1KHMpPyhuPXMgaW5zdGFuY2VvZiBlP3MuX3RoZW4oZS5wcm9wcyx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDApOm5ldyBvKHMpLnByb21pc2UoKSxzIGluc3RhbmNlb2YgZSYmbi5fcHJvcGFnYXRlRnJvbShzLDIpLG4pOmkoXCJjYW5ub3QgYXdhaXQgcHJvcGVydGllcyBvZiBhIG5vbi1vYmplY3RcXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXCIpfXZhciBhLGM9dChcIi4vdXRpbFwiKSx1PWMuaXNPYmplY3QsbD10KFwiLi9lczVcIik7XCJmdW5jdGlvblwiPT10eXBlb2YgTWFwJiYoYT1NYXApO3ZhciBmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LHIpe3RoaXNbZV09dCx0aGlzW2Urbl09cixlKyt9dmFyIGU9MCxuPTA7cmV0dXJuIGZ1bmN0aW9uKHIpe249ci5zaXplLGU9MDt2YXIgaT1uZXcgQXJyYXkoMipyLnNpemUpO3JldHVybiByLmZvckVhY2godCxpKSxpfX0oKSxwPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgYSxuPXQubGVuZ3RoLzJ8MCxyPTA7bj5yOysrcil7dmFyIGk9dFtuK3JdLG89dFtyXTtlLnNldChpLG8pfXJldHVybiBlfTtjLmluaGVyaXRzKG8sbiksby5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXt9LG8ucHJvdG90eXBlLl9wcm9taXNlRnVsZmlsbGVkPWZ1bmN0aW9uKHQsZSl7dGhpcy5fdmFsdWVzW2VdPXQ7dmFyIG49Kyt0aGlzLl90b3RhbFJlc29sdmVkO2lmKG4+PXRoaXMuX2xlbmd0aCl7dmFyIHI7aWYodGhpcy5faXNNYXApcj1wKHRoaXMuX3ZhbHVlcyk7ZWxzZXtyPXt9O2Zvcih2YXIgaT10aGlzLmxlbmd0aCgpLG89MCxzPXRoaXMubGVuZ3RoKCk7cz5vOysrbylyW3RoaXMuX3ZhbHVlc1tvK2ldXT10aGlzLl92YWx1ZXNbb119cmV0dXJuIHRoaXMuX3Jlc29sdmUociksITB9cmV0dXJuITF9LG8ucHJvdG90eXBlLnNob3VsZENvcHlWYWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sby5wcm90b3R5cGUuZ2V0QWN0dWFsTGVuZ3RoPWZ1bmN0aW9uKHQpe3JldHVybiB0Pj4xfSxlLnByb3RvdHlwZS5wcm9wcz1mdW5jdGlvbigpe3JldHVybiBzKHRoaXMpfSxlLnByb3BzPWZ1bmN0aW9uKHQpe3JldHVybiBzKHQpfX19LHtcIi4vZXM1XCI6MTMsXCIuL3V0aWxcIjozNn1dLDI2OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUsbixyLGkpe2Zvcih2YXIgbz0wO2k+bzsrK28pbltvK3JdPXRbbytlXSx0W28rZV09dm9pZCAwfWZ1bmN0aW9uIGkodCl7dGhpcy5fY2FwYWNpdHk9dCx0aGlzLl9sZW5ndGg9MCx0aGlzLl9mcm9udD0wfWkucHJvdG90eXBlLl93aWxsQmVPdmVyQ2FwYWNpdHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NhcGFjaXR5PHR9LGkucHJvdG90eXBlLl9wdXNoT25lPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubGVuZ3RoKCk7dGhpcy5fY2hlY2tDYXBhY2l0eShlKzEpO3ZhciBuPXRoaXMuX2Zyb250K2UmdGhpcy5fY2FwYWNpdHktMTt0aGlzW25dPXQsdGhpcy5fbGVuZ3RoPWUrMX0saS5wcm90b3R5cGUuX3Vuc2hpZnRPbmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY2FwYWNpdHk7dGhpcy5fY2hlY2tDYXBhY2l0eSh0aGlzLmxlbmd0aCgpKzEpO3ZhciBuPXRoaXMuX2Zyb250LHI9KG4tMSZlLTFeZSktZTt0aGlzW3JdPXQsdGhpcy5fZnJvbnQ9cix0aGlzLl9sZW5ndGg9dGhpcy5sZW5ndGgoKSsxfSxpLnByb3RvdHlwZS51bnNoaWZ0PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl91bnNoaWZ0T25lKG4pLHRoaXMuX3Vuc2hpZnRPbmUoZSksdGhpcy5fdW5zaGlmdE9uZSh0KX0saS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5sZW5ndGgoKSszO2lmKHRoaXMuX3dpbGxCZU92ZXJDYXBhY2l0eShyKSlyZXR1cm4gdGhpcy5fcHVzaE9uZSh0KSx0aGlzLl9wdXNoT25lKGUpLHZvaWQgdGhpcy5fcHVzaE9uZShuKTt2YXIgaT10aGlzLl9mcm9udCtyLTM7dGhpcy5fY2hlY2tDYXBhY2l0eShyKTt2YXIgbz10aGlzLl9jYXBhY2l0eS0xO3RoaXNbaSswJm9dPXQsdGhpc1tpKzEmb109ZSx0aGlzW2krMiZvXT1uLHRoaXMuX2xlbmd0aD1yfSxpLnByb3RvdHlwZS5zaGlmdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2Zyb250LGU9dGhpc1t0XTtyZXR1cm4gdGhpc1t0XT12b2lkIDAsdGhpcy5fZnJvbnQ9dCsxJnRoaXMuX2NhcGFjaXR5LTEsdGhpcy5fbGVuZ3RoLS0sZX0saS5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlbmd0aH0saS5wcm90b3R5cGUuX2NoZWNrQ2FwYWNpdHk9ZnVuY3Rpb24odCl7dGhpcy5fY2FwYWNpdHk8dCYmdGhpcy5fcmVzaXplVG8odGhpcy5fY2FwYWNpdHk8PDEpfSxpLnByb3RvdHlwZS5fcmVzaXplVG89ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY2FwYWNpdHk7dGhpcy5fY2FwYWNpdHk9dDt2YXIgbj10aGlzLl9mcm9udCxpPXRoaXMuX2xlbmd0aCxvPW4raSZlLTE7cih0aGlzLDAsdGhpcyxlLG8pfSxlLmV4cG9ydHM9aX0se31dLDI3OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyLGkpe2Z1bmN0aW9uIG8odCxvKXt2YXIgYz1yKHQpO2lmKGMgaW5zdGFuY2VvZiBlKXJldHVybiBhKGMpO2lmKHQ9cy5hc0FycmF5KHQpLG51bGw9PT10KXJldHVybiBpKFwiZXhwZWN0aW5nIGFuIGFycmF5IG9yIGFuIGl0ZXJhYmxlIG9iamVjdCBidXQgZ290IFwiK3MuY2xhc3NTdHJpbmcodCkpO3ZhciB1PW5ldyBlKG4pO3ZvaWQgMCE9PW8mJnUuX3Byb3BhZ2F0ZUZyb20obywzKTtmb3IodmFyIGw9dS5fZnVsZmlsbCxmPXUuX3JlamVjdCxwPTAsaD10Lmxlbmd0aDtoPnA7KytwKXt2YXIgZD10W3BdOyh2b2lkIDAhPT1kfHxwIGluIHQpJiZlLmNhc3QoZCkuX3RoZW4obCxmLHZvaWQgMCx1LG51bGwpfXJldHVybiB1fXZhciBzPXQoXCIuL3V0aWxcIiksYT1mdW5jdGlvbih0KXtyZXR1cm4gdC50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBvKGUsdCl9KX07ZS5yYWNlPWZ1bmN0aW9uKHQpe3JldHVybiBvKHQsdm9pZCAwKX0sZS5wcm90b3R5cGUucmFjZT1mdW5jdGlvbigpe3JldHVybiBvKHRoaXMsdm9pZCAwKX19fSx7XCIuL3V0aWxcIjozNn1dLDI4OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyLGksbyxzKXtmdW5jdGlvbiBhKHQsbixyLGkpe3RoaXMuY29uc3RydWN0b3IkKHQpO3ZhciBzPXAoKTt0aGlzLl9mbj1udWxsPT09cz9uOmguZG9tYWluQmluZChzLG4pLHZvaWQgMCE9PXImJihyPWUucmVzb2x2ZShyKSxyLl9hdHRhY2hDYW5jZWxsYXRpb25DYWxsYmFjayh0aGlzKSksdGhpcy5faW5pdGlhbFZhbHVlPXIsdGhpcy5fY3VycmVudENhbmNlbGxhYmxlPW51bGwsaT09PW8/dGhpcy5fZWFjaFZhbHVlcz1BcnJheSh0aGlzLl9sZW5ndGgpOjA9PT1pP3RoaXMuX2VhY2hWYWx1ZXM9bnVsbDp0aGlzLl9lYWNoVmFsdWVzPXZvaWQgMCx0aGlzLl9wcm9taXNlLl9jYXB0dXJlU3RhY2tUcmFjZSgpLHRoaXMuX2luaXQkKHZvaWQgMCwtNSl9ZnVuY3Rpb24gYyh0LGUpe3RoaXMuaXNGdWxmaWxsZWQoKT9lLl9yZXNvbHZlKHQpOmUuX3JlamVjdCh0KX1mdW5jdGlvbiB1KHQsZSxuLGkpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpcmV0dXJuIHIoXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiK2guY2xhc3NTdHJpbmcoZSkpO3ZhciBvPW5ldyBhKHQsZSxuLGkpO3JldHVybiBvLnByb21pc2UoKX1mdW5jdGlvbiBsKHQpe3RoaXMuYWNjdW09dCx0aGlzLmFycmF5Ll9nb3RBY2N1bSh0KTt2YXIgbj1pKHRoaXMudmFsdWUsdGhpcy5hcnJheS5fcHJvbWlzZSk7cmV0dXJuIG4gaW5zdGFuY2VvZiBlPyh0aGlzLmFycmF5Ll9jdXJyZW50Q2FuY2VsbGFibGU9bixuLl90aGVuKGYsdm9pZCAwLHZvaWQgMCx0aGlzLHZvaWQgMCkpOmYuY2FsbCh0aGlzLG4pfWZ1bmN0aW9uIGYodCl7dmFyIG49dGhpcy5hcnJheSxyPW4uX3Byb21pc2UsaT1kKG4uX2ZuKTtyLl9wdXNoQ29udGV4dCgpO3ZhciBvO289dm9pZCAwIT09bi5fZWFjaFZhbHVlcz9pLmNhbGwoci5fYm91bmRWYWx1ZSgpLHQsdGhpcy5pbmRleCx0aGlzLmxlbmd0aCk6aS5jYWxsKHIuX2JvdW5kVmFsdWUoKSx0aGlzLmFjY3VtLHQsdGhpcy5pbmRleCx0aGlzLmxlbmd0aCksbyBpbnN0YW5jZW9mIGUmJihuLl9jdXJyZW50Q2FuY2VsbGFibGU9byk7dmFyIGE9ci5fcG9wQ29udGV4dCgpO3JldHVybiBzLmNoZWNrRm9yZ290dGVuUmV0dXJucyhvLGEsdm9pZCAwIT09bi5fZWFjaFZhbHVlcz9cIlByb21pc2UuZWFjaFwiOlwiUHJvbWlzZS5yZWR1Y2VcIixyKSxvfXZhciBwPWUuX2dldERvbWFpbixoPXQoXCIuL3V0aWxcIiksZD1oLnRyeUNhdGNoO2guaW5oZXJpdHMoYSxuKSxhLnByb3RvdHlwZS5fZ290QWNjdW09ZnVuY3Rpb24odCl7dm9pZCAwIT09dGhpcy5fZWFjaFZhbHVlcyYmbnVsbCE9PXRoaXMuX2VhY2hWYWx1ZXMmJnQhPT1vJiZ0aGlzLl9lYWNoVmFsdWVzLnB1c2godCl9LGEucHJvdG90eXBlLl9lYWNoQ29tcGxldGU9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPT10aGlzLl9lYWNoVmFsdWVzJiZ0aGlzLl9lYWNoVmFsdWVzLnB1c2godCksdGhpcy5fZWFjaFZhbHVlc30sYS5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXt9LGEucHJvdG90eXBlLl9yZXNvbHZlRW1wdHlBcnJheT1mdW5jdGlvbigpe3RoaXMuX3Jlc29sdmUodm9pZCAwIT09dGhpcy5fZWFjaFZhbHVlcz90aGlzLl9lYWNoVmFsdWVzOnRoaXMuX2luaXRpYWxWYWx1ZSl9LGEucHJvdG90eXBlLnNob3VsZENvcHlWYWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sYS5wcm90b3R5cGUuX3Jlc29sdmU9ZnVuY3Rpb24odCl7dGhpcy5fcHJvbWlzZS5fcmVzb2x2ZUNhbGxiYWNrKHQpLHRoaXMuX3ZhbHVlcz1udWxsfSxhLnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09dGhpcy5faW5pdGlhbFZhbHVlP3RoaXMuX2NhbmNlbCgpOnZvaWQodGhpcy5faXNSZXNvbHZlZCgpfHwodGhpcy5fcmVzdWx0Q2FuY2VsbGVkJCgpLHRoaXMuX2N1cnJlbnRDYW5jZWxsYWJsZSBpbnN0YW5jZW9mIGUmJnRoaXMuX2N1cnJlbnRDYW5jZWxsYWJsZS5jYW5jZWwoKSx0aGlzLl9pbml0aWFsVmFsdWUgaW5zdGFuY2VvZiBlJiZ0aGlzLl9pbml0aWFsVmFsdWUuY2FuY2VsKCkpKX0sYS5wcm90b3R5cGUuX2l0ZXJhdGU9ZnVuY3Rpb24odCl7dGhpcy5fdmFsdWVzPXQ7dmFyIG4scixpPXQubGVuZ3RoO2lmKHZvaWQgMCE9PXRoaXMuX2luaXRpYWxWYWx1ZT8obj10aGlzLl9pbml0aWFsVmFsdWUscj0wKToobj1lLnJlc29sdmUodFswXSkscj0xKSx0aGlzLl9jdXJyZW50Q2FuY2VsbGFibGU9biwhbi5pc1JlamVjdGVkKCkpZm9yKDtpPnI7KytyKXt2YXIgbz17YWNjdW06bnVsbCx2YWx1ZTp0W3JdLGluZGV4OnIsbGVuZ3RoOmksYXJyYXk6dGhpc307bj1uLl90aGVuKGwsdm9pZCAwLHZvaWQgMCxvLHZvaWQgMCl9dm9pZCAwIT09dGhpcy5fZWFjaFZhbHVlcyYmKG49bi5fdGhlbih0aGlzLl9lYWNoQ29tcGxldGUsdm9pZCAwLHZvaWQgMCx0aGlzLHZvaWQgMCkpLG4uX3RoZW4oYyxjLHZvaWQgMCxuLHRoaXMpfSxlLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdSh0aGlzLHQsZSxudWxsKX0sZS5yZWR1Y2U9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHUodCxlLG4scil9fX0se1wiLi91dGlsXCI6MzZ9XSwyOTpbZnVuY3Rpb24odCxpLG8pe1widXNlIHN0cmljdFwiO3ZhciBzLGE9dChcIi4vdXRpbFwiKSxjPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiTm8gYXN5bmMgc2NoZWR1bGVyIGF2YWlsYWJsZVxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIil9LHU9YS5nZXROYXRpdmVQcm9taXNlKCk7aWYoYS5pc05vZGUmJlwidW5kZWZpbmVkXCI9PXR5cGVvZiBNdXRhdGlvbk9ic2VydmVyKXt2YXIgbD1uLnNldEltbWVkaWF0ZSxmPWUubmV4dFRpY2s7cz1hLmlzUmVjZW50Tm9kZT9mdW5jdGlvbih0KXtsLmNhbGwobix0KX06ZnVuY3Rpb24odCl7Zi5jYWxsKGUsdCl9fWVsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdS5yZXNvbHZlKXt2YXIgcD11LnJlc29sdmUoKTtzPWZ1bmN0aW9uKHQpe3AudGhlbih0KX19ZWxzZSBzPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBNdXRhdGlvbk9ic2VydmVyfHxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubmF2aWdhdG9yJiYod2luZG93Lm5hdmlnYXRvci5zdGFuZGFsb25lfHx3aW5kb3cuY29yZG92YSk/XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHI/ZnVuY3Rpb24odCl7cih0KX06XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNldFRpbWVvdXQ/ZnVuY3Rpb24odCl7c2V0VGltZW91dCh0LDApfTpjOmZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxlPXthdHRyaWJ1dGVzOiEwfSxuPSExLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxpPW5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKCl7dC5jbGFzc0xpc3QudG9nZ2xlKFwiZm9vXCIpLG49ITF9KTtpLm9ic2VydmUocixlKTt2YXIgbz1mdW5jdGlvbigpe258fChuPSEwLHIuY2xhc3NMaXN0LnRvZ2dsZShcImZvb1wiKSl9O3JldHVybiBmdW5jdGlvbihuKXt2YXIgcj1uZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpe3IuZGlzY29ubmVjdCgpLG4oKX0pO3Iub2JzZXJ2ZSh0LGUpLG8oKX19KCk7aS5leHBvcnRzPXN9LHtcIi4vdXRpbFwiOjM2fV0sMzA6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIpe2Z1bmN0aW9uIGkodCl7dGhpcy5jb25zdHJ1Y3RvciQodCl9dmFyIG89ZS5Qcm9taXNlSW5zcGVjdGlvbixzPXQoXCIuL3V0aWxcIik7cy5pbmhlcml0cyhpLG4pLGkucHJvdG90eXBlLl9wcm9taXNlUmVzb2x2ZWQ9ZnVuY3Rpb24odCxlKXt0aGlzLl92YWx1ZXNbdF09ZTt2YXIgbj0rK3RoaXMuX3RvdGFsUmVzb2x2ZWQ7cmV0dXJuIG4+PXRoaXMuX2xlbmd0aD8odGhpcy5fcmVzb2x2ZSh0aGlzLl92YWx1ZXMpLCEwKTohMX0saS5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgbztyZXR1cm4gbi5fYml0RmllbGQ9MzM1NTQ0MzIsbi5fc2V0dGxlZFZhbHVlRmllbGQ9dCx0aGlzLl9wcm9taXNlUmVzb2x2ZWQoZSxuKX0saS5wcm90b3R5cGUuX3Byb21pc2VSZWplY3RlZD1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBvO3JldHVybiBuLl9iaXRGaWVsZD0xNjc3NzIxNixuLl9zZXR0bGVkVmFsdWVGaWVsZD10LHRoaXMuX3Byb21pc2VSZXNvbHZlZChlLG4pfSxlLnNldHRsZT1mdW5jdGlvbih0KXtyZXR1cm4gci5kZXByZWNhdGVkKFwiLnNldHRsZSgpXCIsXCIucmVmbGVjdCgpXCIpLG5ldyBpKHQpLnByb21pc2UoKX0sZS5wcm90b3R5cGUuc2V0dGxlPWZ1bmN0aW9uKCl7cmV0dXJuIGUuc2V0dGxlKHRoaXMpfX19LHtcIi4vdXRpbFwiOjM2fV0sMzE6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIpe2Z1bmN0aW9uIGkodCl7dGhpcy5jb25zdHJ1Y3RvciQodCksdGhpcy5faG93TWFueT0wLHRoaXMuX3Vud3JhcD0hMSx0aGlzLl9pbml0aWFsaXplZD0hMX1mdW5jdGlvbiBvKHQsZSl7aWYoKDB8ZSkhPT1lfHwwPmUpcmV0dXJuIHIoXCJleHBlY3RpbmcgYSBwb3NpdGl2ZSBpbnRlZ2VyXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKTt2YXIgbj1uZXcgaSh0KSxvPW4ucHJvbWlzZSgpO3JldHVybiBuLnNldEhvd01hbnkoZSksbi5pbml0KCksb312YXIgcz10KFwiLi91dGlsXCIpLGE9dChcIi4vZXJyb3JzXCIpLlJhbmdlRXJyb3IsYz10KFwiLi9lcnJvcnNcIikuQWdncmVnYXRlRXJyb3IsdT1zLmlzQXJyYXksbD17fTtzLmluaGVyaXRzKGksbiksaS5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9pbml0aWFsaXplZCl7aWYoMD09PXRoaXMuX2hvd01hbnkpcmV0dXJuIHZvaWQgdGhpcy5fcmVzb2x2ZShbXSk7dGhpcy5faW5pdCQodm9pZCAwLC01KTt2YXIgdD11KHRoaXMuX3ZhbHVlcyk7XG4hdGhpcy5faXNSZXNvbHZlZCgpJiZ0JiZ0aGlzLl9ob3dNYW55PnRoaXMuX2NhblBvc3NpYmx5RnVsZmlsbCgpJiZ0aGlzLl9yZWplY3QodGhpcy5fZ2V0UmFuZ2VFcnJvcih0aGlzLmxlbmd0aCgpKSl9fSxpLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5faW5pdGlhbGl6ZWQ9ITAsdGhpcy5faW5pdCgpfSxpLnByb3RvdHlwZS5zZXRVbndyYXA9ZnVuY3Rpb24oKXt0aGlzLl91bndyYXA9ITB9LGkucHJvdG90eXBlLmhvd01hbnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faG93TWFueX0saS5wcm90b3R5cGUuc2V0SG93TWFueT1mdW5jdGlvbih0KXt0aGlzLl9ob3dNYW55PXR9LGkucHJvdG90eXBlLl9wcm9taXNlRnVsZmlsbGVkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9hZGRGdWxmaWxsZWQodCksdGhpcy5fZnVsZmlsbGVkKCk9PT10aGlzLmhvd01hbnkoKT8odGhpcy5fdmFsdWVzLmxlbmd0aD10aGlzLmhvd01hbnkoKSwxPT09dGhpcy5ob3dNYW55KCkmJnRoaXMuX3Vud3JhcD90aGlzLl9yZXNvbHZlKHRoaXMuX3ZhbHVlc1swXSk6dGhpcy5fcmVzb2x2ZSh0aGlzLl92YWx1ZXMpLCEwKTohMX0saS5wcm90b3R5cGUuX3Byb21pc2VSZWplY3RlZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYWRkUmVqZWN0ZWQodCksdGhpcy5fY2hlY2tPdXRjb21lKCl9LGkucHJvdG90eXBlLl9wcm9taXNlQ2FuY2VsbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlcyBpbnN0YW5jZW9mIGV8fG51bGw9PXRoaXMuX3ZhbHVlcz90aGlzLl9jYW5jZWwoKToodGhpcy5fYWRkUmVqZWN0ZWQobCksdGhpcy5fY2hlY2tPdXRjb21lKCkpfSxpLnByb3RvdHlwZS5fY2hlY2tPdXRjb21lPWZ1bmN0aW9uKCl7aWYodGhpcy5ob3dNYW55KCk+dGhpcy5fY2FuUG9zc2libHlGdWxmaWxsKCkpe2Zvcih2YXIgdD1uZXcgYyxlPXRoaXMubGVuZ3RoKCk7ZTx0aGlzLl92YWx1ZXMubGVuZ3RoOysrZSl0aGlzLl92YWx1ZXNbZV0hPT1sJiZ0LnB1c2godGhpcy5fdmFsdWVzW2VdKTtyZXR1cm4gdC5sZW5ndGg+MD90aGlzLl9yZWplY3QodCk6dGhpcy5fY2FuY2VsKCksITB9cmV0dXJuITF9LGkucHJvdG90eXBlLl9mdWxmaWxsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdG90YWxSZXNvbHZlZH0saS5wcm90b3R5cGUuX3JlamVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlcy5sZW5ndGgtdGhpcy5sZW5ndGgoKX0saS5wcm90b3R5cGUuX2FkZFJlamVjdGVkPWZ1bmN0aW9uKHQpe3RoaXMuX3ZhbHVlcy5wdXNoKHQpfSxpLnByb3RvdHlwZS5fYWRkRnVsZmlsbGVkPWZ1bmN0aW9uKHQpe3RoaXMuX3ZhbHVlc1t0aGlzLl90b3RhbFJlc29sdmVkKytdPXR9LGkucHJvdG90eXBlLl9jYW5Qb3NzaWJseUZ1bGZpbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGgoKS10aGlzLl9yZWplY3RlZCgpfSxpLnByb3RvdHlwZS5fZ2V0UmFuZ2VFcnJvcj1mdW5jdGlvbih0KXt2YXIgZT1cIklucHV0IGFycmF5IG11c3QgY29udGFpbiBhdCBsZWFzdCBcIit0aGlzLl9ob3dNYW55K1wiIGl0ZW1zIGJ1dCBjb250YWlucyBvbmx5IFwiK3QrXCIgaXRlbXNcIjtyZXR1cm4gbmV3IGEoZSl9LGkucHJvdG90eXBlLl9yZXNvbHZlRW1wdHlBcnJheT1mdW5jdGlvbigpe3RoaXMuX3JlamVjdCh0aGlzLl9nZXRSYW5nZUVycm9yKDApKX0sZS5zb21lPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG8odCxlKX0sZS5wcm90b3R5cGUuc29tZT1mdW5jdGlvbih0KXtyZXR1cm4gbyh0aGlzLHQpfSxlLl9Tb21lUHJvbWlzZUFycmF5PWl9fSx7XCIuL2Vycm9yc1wiOjEyLFwiLi91dGlsXCI6MzZ9XSwzMjpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZvaWQgMCE9PXQ/KHQ9dC5fdGFyZ2V0KCksdGhpcy5fYml0RmllbGQ9dC5fYml0RmllbGQsdGhpcy5fc2V0dGxlZFZhbHVlRmllbGQ9dC5faXNGYXRlU2VhbGVkKCk/dC5fc2V0dGxlZFZhbHVlKCk6dm9pZCAwKToodGhpcy5fYml0RmllbGQ9MCx0aGlzLl9zZXR0bGVkVmFsdWVGaWVsZD12b2lkIDApfWUucHJvdG90eXBlLl9zZXR0bGVkVmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0dGxlZFZhbHVlRmllbGR9O3ZhciBuPWUucHJvdG90eXBlLnZhbHVlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNGdWxmaWxsZWQoKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2Fubm90IGdldCBmdWxmaWxsbWVudCB2YWx1ZSBvZiBhIG5vbi1mdWxmaWxsZWQgcHJvbWlzZVxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIik7cmV0dXJuIHRoaXMuX3NldHRsZWRWYWx1ZSgpfSxyPWUucHJvdG90eXBlLmVycm9yPWUucHJvdG90eXBlLnJlYXNvbj1mdW5jdGlvbigpe2lmKCF0aGlzLmlzUmVqZWN0ZWQoKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2Fubm90IGdldCByZWplY3Rpb24gcmVhc29uIG9mIGEgbm9uLXJlamVjdGVkIHByb21pc2VcXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXCIpO3JldHVybiB0aGlzLl9zZXR0bGVkVmFsdWUoKX0saT1lLnByb3RvdHlwZS5pc0Z1bGZpbGxlZD1mdW5jdGlvbigpe3JldHVybiAwIT09KDMzNTU0NDMyJnRoaXMuX2JpdEZpZWxkKX0sbz1lLnByb3RvdHlwZS5pc1JlamVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIDAhPT0oMTY3NzcyMTYmdGhpcy5fYml0RmllbGQpfSxzPWUucHJvdG90eXBlLmlzUGVuZGluZz1mdW5jdGlvbigpe3JldHVybiAwPT09KDUwMzk3MTg0JnRoaXMuX2JpdEZpZWxkKX0sYT1lLnByb3RvdHlwZS5pc1Jlc29sdmVkPWZ1bmN0aW9uKCl7cmV0dXJuIDAhPT0oNTAzMzE2NDgmdGhpcy5fYml0RmllbGQpfTtlLnByb3RvdHlwZS5pc0NhbmNlbGxlZD1mdW5jdGlvbigpe3JldHVybiAwIT09KDg0NTQxNDQmdGhpcy5fYml0RmllbGQpfSx0LnByb3RvdHlwZS5fX2lzQ2FuY2VsbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIDY1NTM2PT09KDY1NTM2JnRoaXMuX2JpdEZpZWxkKX0sdC5wcm90b3R5cGUuX2lzQ2FuY2VsbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RhcmdldCgpLl9faXNDYW5jZWxsZWQoKX0sdC5wcm90b3R5cGUuaXNDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PSg4NDU0MTQ0JnRoaXMuX3RhcmdldCgpLl9iaXRGaWVsZCl9LHQucHJvdG90eXBlLmlzUGVuZGluZz1mdW5jdGlvbigpe3JldHVybiBzLmNhbGwodGhpcy5fdGFyZ2V0KCkpfSx0LnByb3RvdHlwZS5pc1JlamVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG8uY2FsbCh0aGlzLl90YXJnZXQoKSl9LHQucHJvdG90eXBlLmlzRnVsZmlsbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIGkuY2FsbCh0aGlzLl90YXJnZXQoKSl9LHQucHJvdG90eXBlLmlzUmVzb2x2ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gYS5jYWxsKHRoaXMuX3RhcmdldCgpKX0sdC5wcm90b3R5cGUudmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gbi5jYWxsKHRoaXMuX3RhcmdldCgpKX0sdC5wcm90b3R5cGUucmVhc29uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdGFyZ2V0KCk7cmV0dXJuIHQuX3Vuc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQoKSxyLmNhbGwodCl9LHQucHJvdG90eXBlLl92YWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXR0bGVkVmFsdWUoKX0sdC5wcm90b3R5cGUuX3JlYXNvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91bnNldFJlamVjdGlvbklzVW5oYW5kbGVkKCksdGhpcy5fc2V0dGxlZFZhbHVlKCl9LHQuUHJvbWlzZUluc3BlY3Rpb249ZX19LHt9XSwzMzpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlLG4pe2Z1bmN0aW9uIHIodCxyKXtpZihsKHQpKXtpZih0IGluc3RhbmNlb2YgZSlyZXR1cm4gdDt2YXIgaT1vKHQpO2lmKGk9PT11KXtyJiZyLl9wdXNoQ29udGV4dCgpO3ZhciBjPWUucmVqZWN0KGkuZSk7cmV0dXJuIHImJnIuX3BvcENvbnRleHQoKSxjfWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGkpe2lmKHModCkpe3ZhciBjPW5ldyBlKG4pO3JldHVybiB0Ll90aGVuKGMuX2Z1bGZpbGwsYy5fcmVqZWN0LHZvaWQgMCxjLG51bGwpLGN9cmV0dXJuIGEodCxpLHIpfX1yZXR1cm4gdH1mdW5jdGlvbiBpKHQpe3JldHVybiB0LnRoZW59ZnVuY3Rpb24gbyh0KXt0cnl7cmV0dXJuIGkodCl9Y2F0Y2goZSl7cmV0dXJuIHUuZT1lLHV9fWZ1bmN0aW9uIHModCl7dHJ5e3JldHVybiBmLmNhbGwodCxcIl9wcm9taXNlMFwiKX1jYXRjaChlKXtyZXR1cm4hMX19ZnVuY3Rpb24gYSh0LHIsaSl7ZnVuY3Rpb24gbyh0KXthJiYoYS5fcmVzb2x2ZUNhbGxiYWNrKHQpLGE9bnVsbCl9ZnVuY3Rpb24gcyh0KXthJiYoYS5fcmVqZWN0Q2FsbGJhY2sodCxmLCEwKSxhPW51bGwpfXZhciBhPW5ldyBlKG4pLGw9YTtpJiZpLl9wdXNoQ29udGV4dCgpLGEuX2NhcHR1cmVTdGFja1RyYWNlKCksaSYmaS5fcG9wQ29udGV4dCgpO3ZhciBmPSEwLHA9Yy50cnlDYXRjaChyKS5jYWxsKHQsbyxzKTtyZXR1cm4gZj0hMSxhJiZwPT09dSYmKGEuX3JlamVjdENhbGxiYWNrKHAuZSwhMCwhMCksYT1udWxsKSxsfXZhciBjPXQoXCIuL3V0aWxcIiksdT1jLmVycm9yT2JqLGw9Yy5pc09iamVjdCxmPXt9Lmhhc093blByb3BlcnR5O3JldHVybiByfX0se1wiLi91dGlsXCI6MzZ9XSwzNDpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlLG4scil7ZnVuY3Rpb24gaSh0KXt0aGlzLmhhbmRsZT10fWZ1bmN0aW9uIG8odCl7cmV0dXJuIGNsZWFyVGltZW91dCh0aGlzLmhhbmRsZSksdH1mdW5jdGlvbiBzKHQpe3Rocm93IGNsZWFyVGltZW91dCh0aGlzLmhhbmRsZSksdH12YXIgYT10KFwiLi91dGlsXCIpLGM9ZS5UaW1lb3V0RXJyb3I7aS5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLmhhbmRsZSl9O3ZhciB1PWZ1bmN0aW9uKHQpe3JldHVybiBsKCt0aGlzKS50aGVuUmV0dXJuKHQpfSxsPWUuZGVsYXk9ZnVuY3Rpb24odCxvKXt2YXIgcyxhO3JldHVybiB2b2lkIDAhPT1vPyhzPWUucmVzb2x2ZShvKS5fdGhlbih1LG51bGwsbnVsbCx0LHZvaWQgMCksci5jYW5jZWxsYXRpb24oKSYmbyBpbnN0YW5jZW9mIGUmJnMuX3NldE9uQ2FuY2VsKG8pKToocz1uZXcgZShuKSxhPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtzLl9mdWxmaWxsKCl9LCt0KSxyLmNhbmNlbGxhdGlvbigpJiZzLl9zZXRPbkNhbmNlbChuZXcgaShhKSkscy5fY2FwdHVyZVN0YWNrVHJhY2UoKSkscy5fc2V0QXN5bmNHdWFyYW50ZWVkKCksc307ZS5wcm90b3R5cGUuZGVsYXk9ZnVuY3Rpb24odCl7cmV0dXJuIGwodCx0aGlzKX07dmFyIGY9ZnVuY3Rpb24odCxlLG4pe3ZhciByO3I9XCJzdHJpbmdcIiE9dHlwZW9mIGU/ZSBpbnN0YW5jZW9mIEVycm9yP2U6bmV3IGMoXCJvcGVyYXRpb24gdGltZWQgb3V0XCIpOm5ldyBjKGUpLGEubWFya0FzT3JpZ2luYXRpbmdGcm9tUmVqZWN0aW9uKHIpLHQuX2F0dGFjaEV4dHJhVHJhY2UociksdC5fcmVqZWN0KHIpLG51bGwhPW4mJm4uY2FuY2VsKCl9O2UucHJvdG90eXBlLnRpbWVvdXQ9ZnVuY3Rpb24odCxlKXt0PSt0O3ZhciBuLGEsYz1uZXcgaShzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5pc1BlbmRpbmcoKSYmZihuLGUsYSl9LHQpKTtyZXR1cm4gci5jYW5jZWxsYXRpb24oKT8oYT10aGlzLnRoZW4oKSxuPWEuX3RoZW4obyxzLHZvaWQgMCxjLHZvaWQgMCksbi5fc2V0T25DYW5jZWwoYykpOm49dGhpcy5fdGhlbihvLHMsdm9pZCAwLGMsdm9pZCAwKSxufX19LHtcIi4vdXRpbFwiOjM2fV0sMzU6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIsaSxvLHMpe2Z1bmN0aW9uIGEodCl7c2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IHR9LDApfWZ1bmN0aW9uIGModCl7dmFyIGU9cih0KTtyZXR1cm4gZSE9PXQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuX2lzRGlzcG9zYWJsZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5fZ2V0RGlzcG9zZXImJnQuX2lzRGlzcG9zYWJsZSgpJiZlLl9zZXREaXNwb3NhYmxlKHQuX2dldERpc3Bvc2VyKCkpLGV9ZnVuY3Rpb24gdSh0LG4pe2Z1bmN0aW9uIGkoKXtpZihzPj11KXJldHVybiBsLl9mdWxmaWxsKCk7dmFyIG89Yyh0W3MrK10pO2lmKG8gaW5zdGFuY2VvZiBlJiZvLl9pc0Rpc3Bvc2FibGUoKSl7dHJ5e289cihvLl9nZXREaXNwb3NlcigpLnRyeURpc3Bvc2UobiksdC5wcm9taXNlKX1jYXRjaChmKXtyZXR1cm4gYShmKX1pZihvIGluc3RhbmNlb2YgZSlyZXR1cm4gby5fdGhlbihpLGEsbnVsbCxudWxsLG51bGwpfWkoKX12YXIgcz0wLHU9dC5sZW5ndGgsbD1uZXcgZShvKTtyZXR1cm4gaSgpLGx9ZnVuY3Rpb24gbCh0LGUsbil7dGhpcy5fZGF0YT10LHRoaXMuX3Byb21pc2U9ZSx0aGlzLl9jb250ZXh0PW59ZnVuY3Rpb24gZih0LGUsbil7dGhpcy5jb25zdHJ1Y3RvciQodCxlLG4pfWZ1bmN0aW9uIHAodCl7cmV0dXJuIGwuaXNEaXNwb3Nlcih0KT8odGhpcy5yZXNvdXJjZXNbdGhpcy5pbmRleF0uX3NldERpc3Bvc2FibGUodCksdC5wcm9taXNlKCkpOnR9ZnVuY3Rpb24gaCh0KXt0aGlzLmxlbmd0aD10LHRoaXMucHJvbWlzZT1udWxsLHRoaXNbdC0xXT1udWxsfXZhciBkPXQoXCIuL3V0aWxcIiksXz10KFwiLi9lcnJvcnNcIikuVHlwZUVycm9yLHY9dChcIi4vdXRpbFwiKS5pbmhlcml0cyx5PWQuZXJyb3JPYmosbT1kLnRyeUNhdGNoLGc9e307bC5wcm90b3R5cGUuZGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfSxsLnByb3RvdHlwZS5wcm9taXNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb21pc2V9LGwucHJvdG90eXBlLnJlc291cmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvbWlzZSgpLmlzRnVsZmlsbGVkKCk/dGhpcy5wcm9taXNlKCkudmFsdWUoKTpnfSxsLnByb3RvdHlwZS50cnlEaXNwb3NlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucmVzb3VyY2UoKSxuPXRoaXMuX2NvbnRleHQ7dm9pZCAwIT09biYmbi5fcHVzaENvbnRleHQoKTt2YXIgcj1lIT09Zz90aGlzLmRvRGlzcG9zZShlLHQpOm51bGw7cmV0dXJuIHZvaWQgMCE9PW4mJm4uX3BvcENvbnRleHQoKSx0aGlzLl9wcm9taXNlLl91bnNldERpc3Bvc2FibGUoKSx0aGlzLl9kYXRhPW51bGwscn0sbC5pc0Rpc3Bvc2VyPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT10JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnJlc291cmNlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnRyeURpc3Bvc2V9LHYoZixsKSxmLnByb3RvdHlwZS5kb0Rpc3Bvc2U9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmRhdGEoKTtyZXR1cm4gbi5jYWxsKHQsdCxlKX0saC5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmxlbmd0aCxuPTA7dD5uOysrbil7dmFyIHI9dGhpc1tuXTtyIGluc3RhbmNlb2YgZSYmci5jYW5jZWwoKX19LGUudXNpbmc9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoO2lmKDI+dClyZXR1cm4gbihcInlvdSBtdXN0IHBhc3MgYXQgbGVhc3QgMiBhcmd1bWVudHMgdG8gUHJvbWlzZS51c2luZ1wiKTt2YXIgaT1hcmd1bWVudHNbdC0xXTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBpKXJldHVybiBuKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIitkLmNsYXNzU3RyaW5nKGkpKTt2YXIgbyxhPSEwOzI9PT10JiZBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSk/KG89YXJndW1lbnRzWzBdLHQ9by5sZW5ndGgsYT0hMSk6KG89YXJndW1lbnRzLHQtLSk7Zm9yKHZhciBjPW5ldyBoKHQpLGY9MDt0PmY7KytmKXt2YXIgXz1vW2ZdO2lmKGwuaXNEaXNwb3NlcihfKSl7dmFyIHY9XztfPV8ucHJvbWlzZSgpLF8uX3NldERpc3Bvc2FibGUodil9ZWxzZXt2YXIgZz1yKF8pO2cgaW5zdGFuY2VvZiBlJiYoXz1nLl90aGVuKHAsbnVsbCxudWxsLHtyZXNvdXJjZXM6YyxpbmRleDpmfSx2b2lkIDApKX1jW2ZdPV99Zm9yKHZhciBiPW5ldyBBcnJheShjLmxlbmd0aCksZj0wO2Y8Yi5sZW5ndGg7KytmKWJbZl09ZS5yZXNvbHZlKGNbZl0pLnJlZmxlY3QoKTt2YXIgdz1lLmFsbChiKS50aGVuKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7KytlKXt2YXIgbj10W2VdO2lmKG4uaXNSZWplY3RlZCgpKXJldHVybiB5LmU9bi5lcnJvcigpLHk7aWYoIW4uaXNGdWxmaWxsZWQoKSlyZXR1cm4gdm9pZCB3LmNhbmNlbCgpO3RbZV09bi52YWx1ZSgpfUUuX3B1c2hDb250ZXh0KCksaT1tKGkpO3ZhciByPWE/aS5hcHBseSh2b2lkIDAsdCk6aSh0KSxvPUUuX3BvcENvbnRleHQoKTtyZXR1cm4gcy5jaGVja0ZvcmdvdHRlblJldHVybnMocixvLFwiUHJvbWlzZS51c2luZ1wiLEUpLHJ9KSxFPXcubGFzdGx5KGZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGUuUHJvbWlzZUluc3BlY3Rpb24odyk7cmV0dXJuIHUoYyx0KX0pO3JldHVybiBjLnByb21pc2U9RSxFLl9zZXRPbkNhbmNlbChjKSxFfSxlLnByb3RvdHlwZS5fc2V0RGlzcG9zYWJsZT1mdW5jdGlvbih0KXt0aGlzLl9iaXRGaWVsZD0xMzEwNzJ8dGhpcy5fYml0RmllbGQsdGhpcy5fZGlzcG9zZXI9dH0sZS5wcm90b3R5cGUuX2lzRGlzcG9zYWJsZT1mdW5jdGlvbigpe3JldHVybigxMzEwNzImdGhpcy5fYml0RmllbGQpPjB9LGUucHJvdG90eXBlLl9nZXREaXNwb3Nlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaXNwb3Nlcn0sZS5wcm90b3R5cGUuX3Vuc2V0RGlzcG9zYWJsZT1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPS0xMzEwNzMmdGhpcy5fYml0RmllbGQsdGhpcy5fZGlzcG9zZXI9dm9pZCAwfSxlLnByb3RvdHlwZS5kaXNwb3Nlcj1mdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KXJldHVybiBuZXcgZih0LHRoaXMsaSgpKTt0aHJvdyBuZXcgX319fSx7XCIuL2Vycm9yc1wiOjEyLFwiLi91dGlsXCI6MzZ9XSwzNjpbZnVuY3Rpb24odCxyLGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oKXt0cnl7dmFyIHQ9TztyZXR1cm4gTz1udWxsLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfWNhdGNoKGUpe3JldHVybiBQLmU9ZSxQfX1mdW5jdGlvbiBzKHQpe3JldHVybiBPPXQsb31mdW5jdGlvbiBhKHQpe3JldHVybiBudWxsPT10fHx0PT09ITB8fHQ9PT0hMXx8XCJzdHJpbmdcIj09dHlwZW9mIHR8fFwibnVtYmVyXCI9PXR5cGVvZiB0fWZ1bmN0aW9uIGModCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdHx8XCJvYmplY3RcIj09dHlwZW9mIHQmJm51bGwhPT10fWZ1bmN0aW9uIHUodCl7cmV0dXJuIGEodCk/bmV3IEVycm9yKG0odCkpOnR9ZnVuY3Rpb24gbCh0LGUpe3ZhciBuLHI9dC5sZW5ndGgsaT1uZXcgQXJyYXkocisxKTtmb3Iobj0wO3I+bjsrK24paVtuXT10W25dO3JldHVybiBpW25dPWUsaX1mdW5jdGlvbiBmKHQsZSxuKXtpZighVC5pc0VTNSlyZXR1cm57fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSk/dFtlXTp2b2lkIDA7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpO3JldHVybiBudWxsIT1yP251bGw9PXIuZ2V0JiZudWxsPT1yLnNldD9yLnZhbHVlOm46dm9pZCAwfWZ1bmN0aW9uIHAodCxlLG4pe2lmKGEodCkpcmV0dXJuIHQ7dmFyIHI9e3ZhbHVlOm4sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITB9O3JldHVybiBULmRlZmluZVByb3BlcnR5KHQsZSxyKSx0fWZ1bmN0aW9uIGgodCl7dGhyb3cgdH1mdW5jdGlvbiBkKHQpe3RyeXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KXt2YXIgZT1ULm5hbWVzKHQucHJvdG90eXBlKSxuPVQuaXNFUzUmJmUubGVuZ3RoPjEscj1lLmxlbmd0aD4wJiYhKDE9PT1lLmxlbmd0aCYmXCJjb25zdHJ1Y3RvclwiPT09ZVswXSksaT1ELnRlc3QodCtcIlwiKSYmVC5uYW1lcyh0KS5sZW5ndGg+MDtpZihufHxyfHxpKXJldHVybiEwfXJldHVybiExfWNhdGNoKG8pe3JldHVybiExfX1mdW5jdGlvbiBfKHQpe2Z1bmN0aW9uIGUoKXt9ZS5wcm90b3R5cGU9dDtmb3IodmFyIG49ODtuLS07KW5ldyBlO3JldHVybiB0fWZ1bmN0aW9uIHYodCl7cmV0dXJuIFUudGVzdCh0KX1mdW5jdGlvbiB5KHQsZSxuKXtmb3IodmFyIHI9bmV3IEFycmF5KHQpLGk9MDt0Pmk7KytpKXJbaV09ZStpK247cmV0dXJuIHJ9ZnVuY3Rpb24gbSh0KXt0cnl7cmV0dXJuIHQrXCJcIn1jYXRjaChlKXtyZXR1cm5cIltubyBzdHJpbmcgcmVwcmVzZW50YXRpb25dXCJ9fWZ1bmN0aW9uIGcodCl7cmV0dXJuIG51bGwhPT10JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmXCJzdHJpbmdcIj09dHlwZW9mIHQubWVzc2FnZSYmXCJzdHJpbmdcIj09dHlwZW9mIHQubmFtZX1mdW5jdGlvbiBiKHQpe3RyeXtwKHQsXCJpc09wZXJhdGlvbmFsXCIsITApfWNhdGNoKGUpe319ZnVuY3Rpb24gdyh0KXtyZXR1cm4gbnVsbD09dD8hMTp0IGluc3RhbmNlb2YgRXJyb3IuX19CbHVlYmlyZEVycm9yVHlwZXNfXy5PcGVyYXRpb25hbEVycm9yfHx0LmlzT3BlcmF0aW9uYWw9PT0hMH1mdW5jdGlvbiBFKHQpe3JldHVybiBnKHQpJiZULnByb3BlcnR5SXNXcml0YWJsZSh0LFwic3RhY2tcIil9ZnVuY3Rpb24gQyh0KXtyZXR1cm57fS50b1N0cmluZy5jYWxsKHQpfWZ1bmN0aW9uIGsodCxlLG4pe2Zvcih2YXIgcj1ULm5hbWVzKHQpLGk9MDtpPHIubGVuZ3RoOysraSl7dmFyIG89cltpXTtpZihuKG8pKXRyeXtULmRlZmluZVByb3BlcnR5KGUsbyxULmdldERlc2NyaXB0b3IodCxvKSl9Y2F0Y2gocyl7fX19ZnVuY3Rpb24gaih0LG4pe3JldHVybiBCP2UuZW52W3RdOm59ZnVuY3Rpb24geCgpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb21pc2UpdHJ5e3ZhciB0PW5ldyBQcm9taXNlKGZ1bmN0aW9uKCl7fSk7aWYoXCJbb2JqZWN0IFByb21pc2VdXCI9PT17fS50b1N0cmluZy5jYWxsKHQpKXJldHVybiBQcm9taXNlfWNhdGNoKGUpe319ZnVuY3Rpb24gRih0LGUpe3JldHVybiB0LmJpbmQoZSl9dmFyIFQ9dChcIi4vZXM1XCIpLFM9XCJ1bmRlZmluZWRcIj09dHlwZW9mIG5hdmlnYXRvcixQPXtlOnt9fSxPLFI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2Ygbj9uOnZvaWQgMCE9PXRoaXM/dGhpczpudWxsLEE9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10LHRoaXMuY29uc3RydWN0b3IkPWU7Zm9yKHZhciBuIGluIGUucHJvdG90eXBlKXIuY2FsbChlLnByb3RvdHlwZSxuKSYmXCIkXCIhPT1uLmNoYXJBdChuLmxlbmd0aC0xKSYmKHRoaXNbbitcIiRcIl09ZS5wcm90b3R5cGVbbl0pfXZhciByPXt9Lmhhc093blByb3BlcnR5O3JldHVybiBuLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgbix0LnByb3RvdHlwZX0sST1mdW5jdGlvbigpe3ZhciB0PVtBcnJheS5wcm90b3R5cGUsT2JqZWN0LnByb3RvdHlwZSxGdW5jdGlvbi5wcm90b3R5cGVdLGU9ZnVuY3Rpb24oZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDsrK24paWYodFtuXT09PWUpcmV0dXJuITA7cmV0dXJuITF9O2lmKFQuaXNFUzUpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO3JldHVybiBmdW5jdGlvbih0KXtmb3IodmFyIHI9W10saT1PYmplY3QuY3JlYXRlKG51bGwpO251bGwhPXQmJiFlKHQpOyl7dmFyIG87dHJ5e289bih0KX1jYXRjaChzKXtyZXR1cm4gcn1mb3IodmFyIGE9MDthPG8ubGVuZ3RoOysrYSl7dmFyIGM9b1thXTtpZighaVtjXSl7aVtjXT0hMDt2YXIgdT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsYyk7bnVsbCE9dSYmbnVsbD09dS5nZXQmJm51bGw9PXUuc2V0JiZyLnB1c2goYyl9fXQ9VC5nZXRQcm90b3R5cGVPZih0KX1yZXR1cm4gcn19dmFyIHI9e30uaGFzT3duUHJvcGVydHk7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKGUobikpcmV0dXJuW107dmFyIGk9W107dDpmb3IodmFyIG8gaW4gbilpZihyLmNhbGwobixvKSlpLnB1c2gobyk7ZWxzZXtmb3IodmFyIHM9MDtzPHQubGVuZ3RoOysrcylpZihyLmNhbGwodFtzXSxvKSljb250aW51ZSB0O2kucHVzaChvKX1yZXR1cm4gaX19KCksRD0vdGhpc1xccypcXC5cXHMqXFxTK1xccyo9LyxVPS9eW2EteiRfXVthLXokXzAtOV0qJC9pLE49ZnVuY3Rpb24oKXtyZXR1cm5cInN0YWNrXCJpbiBuZXcgRXJyb3I/ZnVuY3Rpb24odCl7cmV0dXJuIEUodCk/dDpuZXcgRXJyb3IobSh0KSl9OmZ1bmN0aW9uKHQpe2lmKEUodCkpcmV0dXJuIHQ7dHJ5e3Rocm93IG5ldyBFcnJvcihtKHQpKX1jYXRjaChlKXtyZXR1cm4gZX19fSgpLEw9ZnVuY3Rpb24odCl7cmV0dXJuIFQuaXNBcnJheSh0KT90Om51bGx9O2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcil7dmFyIFY9XCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXkuZnJvbT9mdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuZnJvbSh0KX06ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49W10scj10W1N5bWJvbC5pdGVyYXRvcl0oKTshKGU9ci5uZXh0KCkpLmRvbmU7KW4ucHVzaChlLnZhbHVlKTtyZXR1cm4gbn07TD1mdW5jdGlvbih0KXtyZXR1cm4gVC5pc0FycmF5KHQpP3Q6bnVsbCE9dCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdFtTeW1ib2wuaXRlcmF0b3JdP1YodCk6bnVsbH19dmFyIEI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUmJlwiW29iamVjdCBwcm9jZXNzXVwiPT09QyhlKS50b0xvd2VyQ2FzZSgpLE09e2lzQ2xhc3M6ZCxpc0lkZW50aWZpZXI6dixpbmhlcml0ZWREYXRhS2V5czpJLGdldERhdGFQcm9wZXJ0eU9yRGVmYXVsdDpmLHRocm93ZXI6aCxpc0FycmF5OlQuaXNBcnJheSxhc0FycmF5Okwsbm90RW51bWVyYWJsZVByb3A6cCxpc1ByaW1pdGl2ZTphLGlzT2JqZWN0OmMsaXNFcnJvcjpnLGNhbkV2YWx1YXRlOlMsZXJyb3JPYmo6UCx0cnlDYXRjaDpzLGluaGVyaXRzOkEsd2l0aEFwcGVuZGVkOmwsbWF5YmVXcmFwQXNFcnJvcjp1LHRvRmFzdFByb3BlcnRpZXM6XyxmaWxsZWRSYW5nZTp5LHRvU3RyaW5nOm0sY2FuQXR0YWNoVHJhY2U6RSxlbnN1cmVFcnJvck9iamVjdDpOLG9yaWdpbmF0ZXNGcm9tUmVqZWN0aW9uOncsbWFya0FzT3JpZ2luYXRpbmdGcm9tUmVqZWN0aW9uOmIsY2xhc3NTdHJpbmc6Qyxjb3B5RGVzY3JpcHRvcnM6ayxoYXNEZXZUb29sczpcInVuZGVmaW5lZFwiIT10eXBlb2YgY2hyb21lJiZjaHJvbWUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGNocm9tZS5sb2FkVGltZXMsaXNOb2RlOkIsZW52OmosZ2xvYmFsOlIsZ2V0TmF0aXZlUHJvbWlzZTp4LGRvbWFpbkJpbmQ6Rn07TS5pc1JlY2VudE5vZGU9TS5pc05vZGUmJmZ1bmN0aW9uKCl7dmFyIHQ9ZS52ZXJzaW9ucy5ub2RlLnNwbGl0KFwiLlwiKS5tYXAoTnVtYmVyKTtyZXR1cm4gMD09PXRbMF0mJnRbMV0+MTB8fHRbMF0+MH0oKSxNLmlzTm9kZSYmTS50b0Zhc3RQcm9wZXJ0aWVzKGUpO3RyeXt0aHJvdyBuZXcgRXJyb3J9Y2F0Y2goSCl7TS5sYXN0TGluZUVycm9yPUh9ci5leHBvcnRzPU19LHtcIi4vZXM1XCI6MTN9XX0se30sWzRdKSg0KX0pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJm51bGwhPT13aW5kb3c/d2luZG93LlA9d2luZG93LlByb21pc2U6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJm51bGwhPT1zZWxmJiYoc2VsZi5QPXNlbGYuUHJvbWlzZSl9KS5jYWxsKGUsbig0OCksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSxuKDQ5KS5zZXRJbW1lZGlhdGUpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXtmJiZzJiYoZj0hMSxzLmxlbmd0aD9sPXMuY29uY2F0KGwpOnA9LTEsbC5sZW5ndGgmJnIoKSl9ZnVuY3Rpb24gcigpe2lmKCFmKXt2YXIgdD1jKG4pO2Y9ITA7Zm9yKHZhciBlPWwubGVuZ3RoO2U7KXtmb3Iocz1sLGw9W107KytwPGU7KXMmJnNbcF0ucnVuKCk7cD0tMSxlPWwubGVuZ3RofXM9bnVsbCxmPSExLHUodCl9fWZ1bmN0aW9uIGkodCxlKXt0aGlzLmZ1bj10LHRoaXMuYXJyYXk9ZX1mdW5jdGlvbiBvKCl7fXZhciBzLGE9dC5leHBvcnRzPXt9LGM9c2V0VGltZW91dCx1PWNsZWFyVGltZW91dCxsPVtdLGY9ITEscD0tMTthLm5leHRUaWNrPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbi0xXT1hcmd1bWVudHNbbl07bC5wdXNoKG5ldyBpKHQsZSkpLDEhPT1sLmxlbmd0aHx8Znx8YyhyLDApfSxpLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxhLnRpdGxlPVwiYnJvd3NlclwiLGEuYnJvd3Nlcj0hMCxhLmVudj17fSxhLmFyZ3Y9W10sYS52ZXJzaW9uPVwiXCIsYS52ZXJzaW9ucz17fSxhLm9uPW8sYS5hZGRMaXN0ZW5lcj1vLGEub25jZT1vLGEub2ZmPW8sYS5yZW1vdmVMaXN0ZW5lcj1vLGEucmVtb3ZlQWxsTGlzdGVuZXJzPW8sYS5lbWl0PW8sYS5iaW5kaW5nPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkXCIpfSxhLmN3ZD1mdW5jdGlvbigpe3JldHVyblwiL1wifSxhLmNoZGlyPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX0sYS51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbih0LHIpe2Z1bmN0aW9uIGkodCxlKXt0aGlzLl9pZD10LHRoaXMuX2NsZWFyRm49ZX12YXIgbz1uKDQ4KS5uZXh0VGljayxzPUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSxhPUFycmF5LnByb3RvdHlwZS5zbGljZSxjPXt9LHU9MDtlLnNldFRpbWVvdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkocy5jYWxsKHNldFRpbWVvdXQsd2luZG93LGFyZ3VtZW50cyksY2xlYXJUaW1lb3V0KX0sZS5zZXRJbnRlcnZhbD1mdW5jdGlvbigpe3JldHVybiBuZXcgaShzLmNhbGwoc2V0SW50ZXJ2YWwsd2luZG93LGFyZ3VtZW50cyksY2xlYXJJbnRlcnZhbCl9LGUuY2xlYXJUaW1lb3V0PWUuY2xlYXJJbnRlcnZhbD1mdW5jdGlvbih0KXt0LmNsb3NlKCl9LGkucHJvdG90eXBlLnVucmVmPWkucHJvdG90eXBlLnJlZj1mdW5jdGlvbigpe30saS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckZuLmNhbGwod2luZG93LHRoaXMuX2lkKX0sZS5lbnJvbGw9ZnVuY3Rpb24odCxlKXtjbGVhclRpbWVvdXQodC5faWRsZVRpbWVvdXRJZCksdC5faWRsZVRpbWVvdXQ9ZX0sZS51bmVucm9sbD1mdW5jdGlvbih0KXtjbGVhclRpbWVvdXQodC5faWRsZVRpbWVvdXRJZCksdC5faWRsZVRpbWVvdXQ9LTF9LGUuX3VucmVmQWN0aXZlPWUuYWN0aXZlPWZ1bmN0aW9uKHQpe2NsZWFyVGltZW91dCh0Ll9pZGxlVGltZW91dElkKTt2YXIgZT10Ll9pZGxlVGltZW91dDtlPj0wJiYodC5faWRsZVRpbWVvdXRJZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5fb25UaW1lb3V0JiZ0Ll9vblRpbWVvdXQoKX0sZSkpfSxlLnNldEltbWVkaWF0ZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q6ZnVuY3Rpb24odCl7dmFyIG49dSsrLHI9YXJndW1lbnRzLmxlbmd0aDwyPyExOmEuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGNbbl09ITAsbyhmdW5jdGlvbigpe2Nbbl0mJihyP3QuYXBwbHkobnVsbCxyKTp0LmNhbGwobnVsbCksZS5jbGVhckltbWVkaWF0ZShuKSl9KSxufSxlLmNsZWFySW1tZWRpYXRlPVwiZnVuY3Rpb25cIj09dHlwZW9mIHI/cjpmdW5jdGlvbih0KXtkZWxldGUgY1t0XX19KS5jYWxsKGUsbig0OSkuc2V0SW1tZWRpYXRlLG4oNDkpLmNsZWFySW1tZWRpYXRlKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByLGk9aXx8ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7aWYoIShcInVuZGVmaW5lZFwiPT10eXBlb2YgdHx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmL01TSUUgWzEtOV1cXC4vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpKXt2YXIgZT10LmRvY3VtZW50LG49ZnVuY3Rpb24oKXtyZXR1cm4gdC5VUkx8fHQud2Via2l0VVJMfHx0fSxyPWUuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLFwiYVwiKSxpPVwiZG93bmxvYWRcImluIHIsbz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgTW91c2VFdmVudChcImNsaWNrXCIpO3QuZGlzcGF0Y2hFdmVudChlKX0scz0vY29uc3RydWN0b3IvaS50ZXN0KHQuSFRNTEVsZW1lbnQpfHx0LnNhZmFyaSxhPS9DcmlPU1xcL1tcXGRdKy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxjPWZ1bmN0aW9uKGUpeyh0LnNldEltbWVkaWF0ZXx8dC5zZXRUaW1lb3V0KShmdW5jdGlvbigpe3Rocm93IGV9LDApfSx1PVwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIsbD00ZTQsZj1mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbigpe1wic3RyaW5nXCI9PXR5cGVvZiB0P24oKS5yZXZva2VPYmplY3RVUkwodCk6dC5yZW1vdmUoKX07c2V0VGltZW91dChlLGwpfSxwPWZ1bmN0aW9uKHQsZSxuKXtlPVtdLmNvbmNhdChlKTtmb3IodmFyIHI9ZS5sZW5ndGg7ci0tOyl7dmFyIGk9dFtcIm9uXCIrZVtyXV07aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgaSl0cnl7aS5jYWxsKHQsbnx8dCl9Y2F0Y2gobyl7YyhvKX19fSxoPWZ1bmN0aW9uKHQpe3JldHVybi9eXFxzKig/OnRleHRcXC9cXFMqfGFwcGxpY2F0aW9uXFwveG1sfFxcUypcXC9cXFMqXFwreG1sKVxccyo7LipjaGFyc2V0XFxzKj1cXHMqdXRmLTgvaS50ZXN0KHQudHlwZSk/bmV3IEJsb2IoW1N0cmluZy5mcm9tQ2hhckNvZGUoNjUyNzkpLHRdLHt0eXBlOnQudHlwZX0pOnR9LGQ9ZnVuY3Rpb24oZSxjLGwpe2x8fChlPWgoZSkpO3ZhciBkLF89dGhpcyx2PWUudHlwZSx5PXY9PT11LG09ZnVuY3Rpb24oKXtwKF8sXCJ3cml0ZXN0YXJ0IHByb2dyZXNzIHdyaXRlIHdyaXRlZW5kXCIuc3BsaXQoXCIgXCIpKX0sZz1mdW5jdGlvbigpe2lmKChhfHx5JiZzKSYmdC5GaWxlUmVhZGVyKXt2YXIgcj1uZXcgRmlsZVJlYWRlcjtyZXR1cm4gci5vbmxvYWRlbmQ9ZnVuY3Rpb24oKXt2YXIgZT1hP3IucmVzdWx0OnIucmVzdWx0LnJlcGxhY2UoL15kYXRhOlteO10qOy8sXCJkYXRhOmF0dGFjaG1lbnQvZmlsZTtcIiksbj10Lm9wZW4oZSxcIl9ibGFua1wiKTtufHwodC5sb2NhdGlvbi5ocmVmPWUpLGU9dm9pZCAwLF8ucmVhZHlTdGF0ZT1fLkRPTkUsbSgpfSxyLnJlYWRBc0RhdGFVUkwoZSksdm9pZChfLnJlYWR5U3RhdGU9Xy5JTklUKX1pZihkfHwoZD1uKCkuY3JlYXRlT2JqZWN0VVJMKGUpKSx5KXQubG9jYXRpb24uaHJlZj1kO2Vsc2V7dmFyIGk9dC5vcGVuKGQsXCJfYmxhbmtcIik7aXx8KHQubG9jYXRpb24uaHJlZj1kKX1fLnJlYWR5U3RhdGU9Xy5ET05FLG0oKSxmKGQpfTtyZXR1cm4gXy5yZWFkeVN0YXRlPV8uSU5JVCxpPyhkPW4oKS5jcmVhdGVPYmplY3RVUkwoZSksdm9pZCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5ocmVmPWQsci5kb3dubG9hZD1jLG8ociksbSgpLGYoZCksXy5yZWFkeVN0YXRlPV8uRE9ORX0pKTp2b2lkIGcoKX0sXz1kLnByb3RvdHlwZSx2PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IGQodCxlfHx0Lm5hbWV8fFwiZG93bmxvYWRcIixuKX07cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2I/ZnVuY3Rpb24odCxlLG4pe3JldHVybiBlPWV8fHQubmFtZXx8XCJkb3dubG9hZFwiLG58fCh0PWgodCkpLG5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKHQsZSl9OihfLmFib3J0PWZ1bmN0aW9uKCl7fSxfLnJlYWR5U3RhdGU9Xy5JTklUPTAsXy5XUklUSU5HPTEsXy5ET05FPTIsXy5lcnJvcj1fLm9ud3JpdGVzdGFydD1fLm9ucHJvZ3Jlc3M9Xy5vbndyaXRlPV8ub25hYm9ydD1fLm9uZXJyb3I9Xy5vbndyaXRlZW5kPW51bGwsdil9fShcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZnx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93fHx0aGlzLmNvbnRlbnQpO1widW5kZWZpbmVkXCIhPXR5cGVvZiB0JiZ0LmV4cG9ydHM/dC5leHBvcnRzLnNhdmVBcz1pOm51bGwhPT1uKDUxKSYmbnVsbCE9PW4oNTIpJiYocj1mdW5jdGlvbigpe3JldHVybiBpfS5jYWxsKGUsbixlLHQpLCEodm9pZCAwIT09ciYmKHQuZXhwb3J0cz1yKSkpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcImRlZmluZSBjYW5ub3QgYmUgdXNlZCBpbmRpcmVjdFwiKX19LGZ1bmN0aW9uKHQsZSl7KGZ1bmN0aW9uKGUpe3QuZXhwb3J0cz1lfSkuY2FsbChlLHt9KX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e25hbWU6XCJlcHViLXByZXNzLWpzXCIsdmVyc2lvbjpcIjAuNS4xXCIsZGVzY3JpcHRpb246XCJKYXZhc2NyaXB0IGNsaWVudCBmb3IgYnVpbGRpbmcgYm9va3Mgd2l0aCBFcHViUHJlc3MuXCIsaG9tZXBhZ2U6XCJodHRwczovL2dpdGh1Yi5jb20vaGFyb2xkdHJlZW4vZXB1Yi1wcmVzcy1jbGllbnRzI3JlYWRtZVwiLGJhc2VVcmw6XCJodHRwczovL2VwdWIucHJlc3NcIixtYWluOlwiYnVpbGQvaW5kZXguanNcIixkaXJlY3Rvcmllczp7dGVzdHM6XCJ0ZXN0XCJ9LHNjcmlwdHM6e3Rlc3Q6XCJleHBvcnQgTk9ERV9FTlY9dGVzdCAmJiBvcGVuIGh0dHA6Ly9sb2NhbGhvc3Q6NTAwMS90ZXN0cyAmJiB3ZWJwYWNrLWRldi1zZXJ2ZXJcIixzdGFydDpcImV4cG9ydCBOT0RFX0VOVj1kZXZlbG9wbWVudCAmJiB3ZWJwYWNrIC0td2F0Y2ggLS1wcm9ncmVzcyAtLWNvbG9yXCIsYnVpbGQ6XCJleHBvcnQgTk9ERV9FTlY9ZGV2ZWxvcG1lbnQgJiYgd2VicGFja1wiLFwiYnVpbGQtcHJvZFwiOlwiZXhwb3J0IE5PREVfRU5WPXByb2R1Y3Rpb24gJiYgd2VicGFjayAtLW9wdGltaXplLW1pbmltaXplIC0tb3B0aW1pemUtZGVkdXBlXCIscHJldmVyc2lvbjpcIm5wbSBydW4tc2NyaXB0IGJ1aWxkLXByb2RcIixwcmVwdWJsaXNoOlwibnBtIHJ1biBidWlsZC1wcm9kXCJ9LHJlcG9zaXRvcnk6e3R5cGU6XCJnaXRcIix1cmw6XCJnaXQraHR0cHM6Ly9naXRodWIuY29tL2hhcm9sZHRyZWVuL2VwdWItcHJlc3MtY2xpZW50cy5naXRcIn0sa2V5d29yZHM6W1wiZXB1YlwiLFwicHVibGlzaGluZ1wiLFwicHJvZHVjdGl2aXR5XCIsXCJjbGllbnRcIixcImVwdWJwcmVzc1wiLFwiZWJvb2tzXCIsXCJjb250ZW50XCIsXCJleHRyYWN0aW9uXCJdLGF1dGhvcjpcIkVwdWJQcmVzc1wiLGxpY2Vuc2U6XCJJU0NcIixidWdzOnt1cmw6XCJodHRwczovL2dpdGh1Yi5jb20vaGFyb2xkdHJlZW4vZXB1Yi1wcmVzcy1jbGllbnRzL2lzc3Vlc1wifSxkZXZEZXBlbmRlbmNpZXM6e1wiYmFiZWwtY29yZVwiOlwiXjYuMTcuMFwiLFwiYmFiZWwtbG9hZGVyXCI6XCJeNi4yLjRcIixcImJhYmVsLXBsdWdpbi10cmFuc2Zvcm0tcnVudGltZVwiOlwiXjYuOS4wXCIsXCJiYWJlbC1wcmVzZXQtZXMyMDE1XCI6XCJeNi45LjBcIixjaGFpOlwiXjMuNS4wXCIsXCJmZXRjaC1tb2NrXCI6XCJeNS4wLjNcIixtb2NoYTpcIl4yLjUuM1wiLFwibW9jaGEtbG9hZGVyXCI6XCJeMS4wLjBcIixzaW5vbjpcImdpdCtodHRwczovL2dpdGh1Yi5jb20vc2lub25qcy9zaW5vbi5naXRcIixcInNpbm9uLWFzLXByb21pc2VkXCI6XCJeNC4wLjJcIix3ZWJwYWNrOlwiXjEuMTMuMVwifSxkZXBlbmRlbmNpZXM6e2JsdWViaXJkOlwiXjMuNC42XCIsXCJmaWxlLXNhdmVyXCI6XCJeMS4zLjNcIixcImlzb21vcnBoaWMtZmV0Y2hcIjpcIl4yLjIuMVwiLFwianNvbi1sb2FkZXJcIjpcIl4wLjUuNFwifX19LGZ1bmN0aW9uKHQsbil7dC5leHBvcnRzPWV9XSl9KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9lcHViLXByZXNzLWpzL2J1aWxkL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gNDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwiLyplc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyovXG4vKiFcbiAqIGpRdWVyeSBKYXZhU2NyaXB0IExpYnJhcnkgdjMuMS4wXG4gKiBodHRwczovL2pxdWVyeS5jb20vXG4gKlxuICogSW5jbHVkZXMgU2l6emxlLmpzXG4gKiBodHRwczovL3NpenpsZWpzLmNvbS9cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBodHRwczovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIERhdGU6IDIwMTYtMDctMDdUMjE6NDRaXG4gKi9cbiggZnVuY3Rpb24oIGdsb2JhbCwgZmFjdG9yeSApIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRpZiAoIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0Ly8gRm9yIENvbW1vbkpTIGFuZCBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB3aGVyZSBhIHByb3BlciBgd2luZG93YFxuXHRcdC8vIGlzIHByZXNlbnQsIGV4ZWN1dGUgdGhlIGZhY3RvcnkgYW5kIGdldCBqUXVlcnkuXG5cdFx0Ly8gRm9yIGVudmlyb25tZW50cyB0aGF0IGRvIG5vdCBoYXZlIGEgYHdpbmRvd2Agd2l0aCBhIGBkb2N1bWVudGBcblx0XHQvLyAoc3VjaCBhcyBOb2RlLmpzKSwgZXhwb3NlIGEgZmFjdG9yeSBhcyBtb2R1bGUuZXhwb3J0cy5cblx0XHQvLyBUaGlzIGFjY2VudHVhdGVzIHRoZSBuZWVkIGZvciB0aGUgY3JlYXRpb24gb2YgYSByZWFsIGB3aW5kb3dgLlxuXHRcdC8vIGUuZy4gdmFyIGpRdWVyeSA9IHJlcXVpcmUoXCJqcXVlcnlcIikod2luZG93KTtcblx0XHQvLyBTZWUgdGlja2V0ICMxNDU0OSBmb3IgbW9yZSBpbmZvLlxuXHRcdG1vZHVsZS5leHBvcnRzID0gZ2xvYmFsLmRvY3VtZW50ID9cblx0XHRcdGZhY3RvcnkoIGdsb2JhbCwgdHJ1ZSApIDpcblx0XHRcdGZ1bmN0aW9uKCB3ICkge1xuXHRcdFx0XHRpZiAoICF3LmRvY3VtZW50ICkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvciggXCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50XCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gZmFjdG9yeSggdyApO1xuXHRcdFx0fTtcblx0fSBlbHNlIHtcblx0XHRmYWN0b3J5KCBnbG9iYWwgKTtcblx0fVxuXG4vLyBQYXNzIHRoaXMgaWYgd2luZG93IGlzIG5vdCBkZWZpbmVkIHlldFxufSApKCB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24oIHdpbmRvdywgbm9HbG9iYWwgKSB7XG5cbi8vIEVkZ2UgPD0gMTIgLSAxMyssIEZpcmVmb3ggPD0xOCAtIDQ1KywgSUUgMTAgLSAxMSwgU2FmYXJpIDUuMSAtIDkrLCBpT1MgNiAtIDkuMVxuLy8gdGhyb3cgZXhjZXB0aW9ucyB3aGVuIG5vbi1zdHJpY3QgY29kZSAoZS5nLiwgQVNQLk5FVCA0LjUpIGFjY2Vzc2VzIHN0cmljdCBtb2RlXG4vLyBhcmd1bWVudHMuY2FsbGVlLmNhbGxlciAodHJhYy0xMzMzNSkuIEJ1dCBhcyBvZiBqUXVlcnkgMy4wICgyMDE2KSwgc3RyaWN0IG1vZGUgc2hvdWxkIGJlIGNvbW1vblxuLy8gZW5vdWdoIHRoYXQgYWxsIHN1Y2ggYXR0ZW1wdHMgYXJlIGd1YXJkZWQgaW4gYSB0cnkgYmxvY2suXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGFyciA9IFtdO1xuXG52YXIgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQ7XG5cbnZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcblxudmFyIHNsaWNlID0gYXJyLnNsaWNlO1xuXG52YXIgY29uY2F0ID0gYXJyLmNvbmNhdDtcblxudmFyIHB1c2ggPSBhcnIucHVzaDtcblxudmFyIGluZGV4T2YgPSBhcnIuaW5kZXhPZjtcblxudmFyIGNsYXNzMnR5cGUgPSB7fTtcblxudmFyIHRvU3RyaW5nID0gY2xhc3MydHlwZS50b1N0cmluZztcblxudmFyIGhhc093biA9IGNsYXNzMnR5cGUuaGFzT3duUHJvcGVydHk7XG5cbnZhciBmblRvU3RyaW5nID0gaGFzT3duLnRvU3RyaW5nO1xuXG52YXIgT2JqZWN0RnVuY3Rpb25TdHJpbmcgPSBmblRvU3RyaW5nLmNhbGwoIE9iamVjdCApO1xuXG52YXIgc3VwcG9ydCA9IHt9O1xuXG5cblxuXHRmdW5jdGlvbiBET01FdmFsKCBjb2RlLCBkb2MgKSB7XG5cdFx0ZG9jID0gZG9jIHx8IGRvY3VtZW50O1xuXG5cdFx0dmFyIHNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KCBcInNjcmlwdFwiICk7XG5cblx0XHRzY3JpcHQudGV4dCA9IGNvZGU7XG5cdFx0ZG9jLmhlYWQuYXBwZW5kQ2hpbGQoIHNjcmlwdCApLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHNjcmlwdCApO1xuXHR9XG4vKiBnbG9iYWwgU3ltYm9sICovXG4vLyBEZWZpbmluZyB0aGlzIGdsb2JhbCBpbiAuZXNsaW50cmMgd291bGQgY3JlYXRlIGEgZGFuZ2VyIG9mIHVzaW5nIHRoZSBnbG9iYWxcbi8vIHVuZ3VhcmRlZCBpbiBhbm90aGVyIHBsYWNlLCBpdCBzZWVtcyBzYWZlciB0byBkZWZpbmUgZ2xvYmFsIG9ubHkgZm9yIHRoaXMgbW9kdWxlXG5cblxuXG52YXJcblx0dmVyc2lvbiA9IFwiMy4xLjBcIixcblxuXHQvLyBEZWZpbmUgYSBsb2NhbCBjb3B5IG9mIGpRdWVyeVxuXHRqUXVlcnkgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQgKSB7XG5cblx0XHQvLyBUaGUgalF1ZXJ5IG9iamVjdCBpcyBhY3R1YWxseSBqdXN0IHRoZSBpbml0IGNvbnN0cnVjdG9yICdlbmhhbmNlZCdcblx0XHQvLyBOZWVkIGluaXQgaWYgalF1ZXJ5IGlzIGNhbGxlZCAoanVzdCBhbGxvdyBlcnJvciB0byBiZSB0aHJvd24gaWYgbm90IGluY2x1ZGVkKVxuXHRcdHJldHVybiBuZXcgalF1ZXJ5LmZuLmluaXQoIHNlbGVjdG9yLCBjb250ZXh0ICk7XG5cdH0sXG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5XG5cdC8vIE1ha2Ugc3VyZSB3ZSB0cmltIEJPTSBhbmQgTkJTUFxuXHRydHJpbSA9IC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZyxcblxuXHQvLyBNYXRjaGVzIGRhc2hlZCBzdHJpbmcgZm9yIGNhbWVsaXppbmdcblx0cm1zUHJlZml4ID0gL14tbXMtLyxcblx0cmRhc2hBbHBoYSA9IC8tKFthLXpdKS9nLFxuXG5cdC8vIFVzZWQgYnkgalF1ZXJ5LmNhbWVsQ2FzZSBhcyBjYWxsYmFjayB0byByZXBsYWNlKClcblx0ZmNhbWVsQ2FzZSA9IGZ1bmN0aW9uKCBhbGwsIGxldHRlciApIHtcblx0XHRyZXR1cm4gbGV0dGVyLnRvVXBwZXJDYXNlKCk7XG5cdH07XG5cbmpRdWVyeS5mbiA9IGpRdWVyeS5wcm90b3R5cGUgPSB7XG5cblx0Ly8gVGhlIGN1cnJlbnQgdmVyc2lvbiBvZiBqUXVlcnkgYmVpbmcgdXNlZFxuXHRqcXVlcnk6IHZlcnNpb24sXG5cblx0Y29uc3RydWN0b3I6IGpRdWVyeSxcblxuXHQvLyBUaGUgZGVmYXVsdCBsZW5ndGggb2YgYSBqUXVlcnkgb2JqZWN0IGlzIDBcblx0bGVuZ3RoOiAwLFxuXG5cdHRvQXJyYXk6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBzbGljZS5jYWxsKCB0aGlzICk7XG5cdH0sXG5cblx0Ly8gR2V0IHRoZSBOdGggZWxlbWVudCBpbiB0aGUgbWF0Y2hlZCBlbGVtZW50IHNldCBPUlxuXHQvLyBHZXQgdGhlIHdob2xlIG1hdGNoZWQgZWxlbWVudCBzZXQgYXMgYSBjbGVhbiBhcnJheVxuXHRnZXQ6IGZ1bmN0aW9uKCBudW0gKSB7XG5cdFx0cmV0dXJuIG51bSAhPSBudWxsID9cblxuXHRcdFx0Ly8gUmV0dXJuIGp1c3QgdGhlIG9uZSBlbGVtZW50IGZyb20gdGhlIHNldFxuXHRcdFx0KCBudW0gPCAwID8gdGhpc1sgbnVtICsgdGhpcy5sZW5ndGggXSA6IHRoaXNbIG51bSBdICkgOlxuXG5cdFx0XHQvLyBSZXR1cm4gYWxsIHRoZSBlbGVtZW50cyBpbiBhIGNsZWFuIGFycmF5XG5cdFx0XHRzbGljZS5jYWxsKCB0aGlzICk7XG5cdH0sXG5cblx0Ly8gVGFrZSBhbiBhcnJheSBvZiBlbGVtZW50cyBhbmQgcHVzaCBpdCBvbnRvIHRoZSBzdGFja1xuXHQvLyAocmV0dXJuaW5nIHRoZSBuZXcgbWF0Y2hlZCBlbGVtZW50IHNldClcblx0cHVzaFN0YWNrOiBmdW5jdGlvbiggZWxlbXMgKSB7XG5cblx0XHQvLyBCdWlsZCBhIG5ldyBqUXVlcnkgbWF0Y2hlZCBlbGVtZW50IHNldFxuXHRcdHZhciByZXQgPSBqUXVlcnkubWVyZ2UoIHRoaXMuY29uc3RydWN0b3IoKSwgZWxlbXMgKTtcblxuXHRcdC8vIEFkZCB0aGUgb2xkIG9iamVjdCBvbnRvIHRoZSBzdGFjayAoYXMgYSByZWZlcmVuY2UpXG5cdFx0cmV0LnByZXZPYmplY3QgPSB0aGlzO1xuXG5cdFx0Ly8gUmV0dXJuIHRoZSBuZXdseS1mb3JtZWQgZWxlbWVudCBzZXRcblx0XHRyZXR1cm4gcmV0O1xuXHR9LFxuXG5cdC8vIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZXZlcnkgZWxlbWVudCBpbiB0aGUgbWF0Y2hlZCBzZXQuXG5cdGVhY2g6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmVhY2goIHRoaXMsIGNhbGxiYWNrICk7XG5cdH0sXG5cblx0bWFwOiBmdW5jdGlvbiggY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqUXVlcnkubWFwKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgaSApIHtcblx0XHRcdHJldHVybiBjYWxsYmFjay5jYWxsKCBlbGVtLCBpLCBlbGVtICk7XG5cdFx0fSApICk7XG5cdH0sXG5cblx0c2xpY2U6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggc2xpY2UuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApICk7XG5cdH0sXG5cblx0Zmlyc3Q6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmVxKCAwICk7XG5cdH0sXG5cblx0bGFzdDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZXEoIC0xICk7XG5cdH0sXG5cblx0ZXE6IGZ1bmN0aW9uKCBpICkge1xuXHRcdHZhciBsZW4gPSB0aGlzLmxlbmd0aCxcblx0XHRcdGogPSAraSArICggaSA8IDAgPyBsZW4gOiAwICk7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqID49IDAgJiYgaiA8IGxlbiA/IFsgdGhpc1sgaiBdIF0gOiBbXSApO1xuXHR9LFxuXG5cdGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMucHJldk9iamVjdCB8fCB0aGlzLmNvbnN0cnVjdG9yKCk7XG5cdH0sXG5cblx0Ly8gRm9yIGludGVybmFsIHVzZSBvbmx5LlxuXHQvLyBCZWhhdmVzIGxpa2UgYW4gQXJyYXkncyBtZXRob2QsIG5vdCBsaWtlIGEgalF1ZXJ5IG1ldGhvZC5cblx0cHVzaDogcHVzaCxcblx0c29ydDogYXJyLnNvcnQsXG5cdHNwbGljZTogYXJyLnNwbGljZVxufTtcblxualF1ZXJ5LmV4dGVuZCA9IGpRdWVyeS5mbi5leHRlbmQgPSBmdW5jdGlvbigpIHtcblx0dmFyIG9wdGlvbnMsIG5hbWUsIHNyYywgY29weSwgY29weUlzQXJyYXksIGNsb25lLFxuXHRcdHRhcmdldCA9IGFyZ3VtZW50c1sgMCBdIHx8IHt9LFxuXHRcdGkgPSAxLFxuXHRcdGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdFx0ZGVlcCA9IGZhbHNlO1xuXG5cdC8vIEhhbmRsZSBhIGRlZXAgY29weSBzaXR1YXRpb25cblx0aWYgKCB0eXBlb2YgdGFyZ2V0ID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRkZWVwID0gdGFyZ2V0O1xuXG5cdFx0Ly8gU2tpcCB0aGUgYm9vbGVhbiBhbmQgdGhlIHRhcmdldFxuXHRcdHRhcmdldCA9IGFyZ3VtZW50c1sgaSBdIHx8IHt9O1xuXHRcdGkrKztcblx0fVxuXG5cdC8vIEhhbmRsZSBjYXNlIHdoZW4gdGFyZ2V0IGlzIGEgc3RyaW5nIG9yIHNvbWV0aGluZyAocG9zc2libGUgaW4gZGVlcCBjb3B5KVxuXHRpZiAoIHR5cGVvZiB0YXJnZXQgIT09IFwib2JqZWN0XCIgJiYgIWpRdWVyeS5pc0Z1bmN0aW9uKCB0YXJnZXQgKSApIHtcblx0XHR0YXJnZXQgPSB7fTtcblx0fVxuXG5cdC8vIEV4dGVuZCBqUXVlcnkgaXRzZWxmIGlmIG9ubHkgb25lIGFyZ3VtZW50IGlzIHBhc3NlZFxuXHRpZiAoIGkgPT09IGxlbmd0aCApIHtcblx0XHR0YXJnZXQgPSB0aGlzO1xuXHRcdGktLTtcblx0fVxuXG5cdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXG5cdFx0Ly8gT25seSBkZWFsIHdpdGggbm9uLW51bGwvdW5kZWZpbmVkIHZhbHVlc1xuXHRcdGlmICggKCBvcHRpb25zID0gYXJndW1lbnRzWyBpIF0gKSAhPSBudWxsICkge1xuXG5cdFx0XHQvLyBFeHRlbmQgdGhlIGJhc2Ugb2JqZWN0XG5cdFx0XHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0XHRcdHNyYyA9IHRhcmdldFsgbmFtZSBdO1xuXHRcdFx0XHRjb3B5ID0gb3B0aW9uc1sgbmFtZSBdO1xuXG5cdFx0XHRcdC8vIFByZXZlbnQgbmV2ZXItZW5kaW5nIGxvb3Bcblx0XHRcdFx0aWYgKCB0YXJnZXQgPT09IGNvcHkgKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZWN1cnNlIGlmIHdlJ3JlIG1lcmdpbmcgcGxhaW4gb2JqZWN0cyBvciBhcnJheXNcblx0XHRcdFx0aWYgKCBkZWVwICYmIGNvcHkgJiYgKCBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29weSApIHx8XG5cdFx0XHRcdFx0KCBjb3B5SXNBcnJheSA9IGpRdWVyeS5pc0FycmF5KCBjb3B5ICkgKSApICkge1xuXG5cdFx0XHRcdFx0aWYgKCBjb3B5SXNBcnJheSApIHtcblx0XHRcdFx0XHRcdGNvcHlJc0FycmF5ID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRjbG9uZSA9IHNyYyAmJiBqUXVlcnkuaXNBcnJheSggc3JjICkgPyBzcmMgOiBbXTtcblxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjbG9uZSA9IHNyYyAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdCggc3JjICkgPyBzcmMgOiB7fTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBOZXZlciBtb3ZlIG9yaWdpbmFsIG9iamVjdHMsIGNsb25lIHRoZW1cblx0XHRcdFx0XHR0YXJnZXRbIG5hbWUgXSA9IGpRdWVyeS5leHRlbmQoIGRlZXAsIGNsb25lLCBjb3B5ICk7XG5cblx0XHRcdFx0Ly8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlc1xuXHRcdFx0XHR9IGVsc2UgaWYgKCBjb3B5ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0dGFyZ2V0WyBuYW1lIF0gPSBjb3B5O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmV0dXJuIHRoZSBtb2RpZmllZCBvYmplY3Rcblx0cmV0dXJuIHRhcmdldDtcbn07XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHQvLyBVbmlxdWUgZm9yIGVhY2ggY29weSBvZiBqUXVlcnkgb24gdGhlIHBhZ2Vcblx0ZXhwYW5kbzogXCJqUXVlcnlcIiArICggdmVyc2lvbiArIE1hdGgucmFuZG9tKCkgKS5yZXBsYWNlKCAvXFxEL2csIFwiXCIgKSxcblxuXHQvLyBBc3N1bWUgalF1ZXJ5IGlzIHJlYWR5IHdpdGhvdXQgdGhlIHJlYWR5IG1vZHVsZVxuXHRpc1JlYWR5OiB0cnVlLFxuXG5cdGVycm9yOiBmdW5jdGlvbiggbXNnICkge1xuXHRcdHRocm93IG5ldyBFcnJvciggbXNnICk7XG5cdH0sXG5cblx0bm9vcDogZnVuY3Rpb24oKSB7fSxcblxuXHRpc0Z1bmN0aW9uOiBmdW5jdGlvbiggb2JqICkge1xuXHRcdHJldHVybiBqUXVlcnkudHlwZSggb2JqICkgPT09IFwiZnVuY3Rpb25cIjtcblx0fSxcblxuXHRpc0FycmF5OiBBcnJheS5pc0FycmF5LFxuXG5cdGlzV2luZG93OiBmdW5jdGlvbiggb2JqICkge1xuXHRcdHJldHVybiBvYmogIT0gbnVsbCAmJiBvYmogPT09IG9iai53aW5kb3c7XG5cdH0sXG5cblx0aXNOdW1lcmljOiBmdW5jdGlvbiggb2JqICkge1xuXG5cdFx0Ly8gQXMgb2YgalF1ZXJ5IDMuMCwgaXNOdW1lcmljIGlzIGxpbWl0ZWQgdG9cblx0XHQvLyBzdHJpbmdzIGFuZCBudW1iZXJzIChwcmltaXRpdmVzIG9yIG9iamVjdHMpXG5cdFx0Ly8gdGhhdCBjYW4gYmUgY29lcmNlZCB0byBmaW5pdGUgbnVtYmVycyAoZ2gtMjY2Milcblx0XHR2YXIgdHlwZSA9IGpRdWVyeS50eXBlKCBvYmogKTtcblx0XHRyZXR1cm4gKCB0eXBlID09PSBcIm51bWJlclwiIHx8IHR5cGUgPT09IFwic3RyaW5nXCIgKSAmJlxuXG5cdFx0XHQvLyBwYXJzZUZsb2F0IE5hTnMgbnVtZXJpYy1jYXN0IGZhbHNlIHBvc2l0aXZlcyAoXCJcIilcblx0XHRcdC8vIC4uLmJ1dCBtaXNpbnRlcnByZXRzIGxlYWRpbmctbnVtYmVyIHN0cmluZ3MsIHBhcnRpY3VsYXJseSBoZXggbGl0ZXJhbHMgKFwiMHguLi5cIilcblx0XHRcdC8vIHN1YnRyYWN0aW9uIGZvcmNlcyBpbmZpbml0aWVzIHRvIE5hTlxuXHRcdFx0IWlzTmFOKCBvYmogLSBwYXJzZUZsb2F0KCBvYmogKSApO1xuXHR9LFxuXG5cdGlzUGxhaW5PYmplY3Q6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0dmFyIHByb3RvLCBDdG9yO1xuXG5cdFx0Ly8gRGV0ZWN0IG9idmlvdXMgbmVnYXRpdmVzXG5cdFx0Ly8gVXNlIHRvU3RyaW5nIGluc3RlYWQgb2YgalF1ZXJ5LnR5cGUgdG8gY2F0Y2ggaG9zdCBvYmplY3RzXG5cdFx0aWYgKCAhb2JqIHx8IHRvU3RyaW5nLmNhbGwoIG9iaiApICE9PSBcIltvYmplY3QgT2JqZWN0XVwiICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHByb3RvID0gZ2V0UHJvdG8oIG9iaiApO1xuXG5cdFx0Ly8gT2JqZWN0cyB3aXRoIG5vIHByb3RvdHlwZSAoZS5nLiwgYE9iamVjdC5jcmVhdGUoIG51bGwgKWApIGFyZSBwbGFpblxuXHRcdGlmICggIXByb3RvICkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gT2JqZWN0cyB3aXRoIHByb3RvdHlwZSBhcmUgcGxhaW4gaWZmIHRoZXkgd2VyZSBjb25zdHJ1Y3RlZCBieSBhIGdsb2JhbCBPYmplY3QgZnVuY3Rpb25cblx0XHRDdG9yID0gaGFzT3duLmNhbGwoIHByb3RvLCBcImNvbnN0cnVjdG9yXCIgKSAmJiBwcm90by5jb25zdHJ1Y3Rvcjtcblx0XHRyZXR1cm4gdHlwZW9mIEN0b3IgPT09IFwiZnVuY3Rpb25cIiAmJiBmblRvU3RyaW5nLmNhbGwoIEN0b3IgKSA9PT0gT2JqZWN0RnVuY3Rpb25TdHJpbmc7XG5cdH0sXG5cblx0aXNFbXB0eU9iamVjdDogZnVuY3Rpb24oIG9iaiApIHtcblxuXHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5cdFx0Ly8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lc2xpbnQvZXNsaW50L2lzc3Vlcy82MTI1XG5cdFx0dmFyIG5hbWU7XG5cblx0XHRmb3IgKCBuYW1lIGluIG9iaiApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0dHlwZTogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRpZiAoIG9iaiA9PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIG9iaiArIFwiXCI7XG5cdFx0fVxuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTIuMyBvbmx5IChmdW5jdGlvbmlzaCBSZWdFeHApXG5cdFx0cmV0dXJuIHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIG9iaiA9PT0gXCJmdW5jdGlvblwiID9cblx0XHRcdGNsYXNzMnR5cGVbIHRvU3RyaW5nLmNhbGwoIG9iaiApIF0gfHwgXCJvYmplY3RcIiA6XG5cdFx0XHR0eXBlb2Ygb2JqO1xuXHR9LFxuXG5cdC8vIEV2YWx1YXRlcyBhIHNjcmlwdCBpbiBhIGdsb2JhbCBjb250ZXh0XG5cdGdsb2JhbEV2YWw6IGZ1bmN0aW9uKCBjb2RlICkge1xuXHRcdERPTUV2YWwoIGNvZGUgKTtcblx0fSxcblxuXHQvLyBDb252ZXJ0IGRhc2hlZCB0byBjYW1lbENhc2U7IHVzZWQgYnkgdGhlIGNzcyBhbmQgZGF0YSBtb2R1bGVzXG5cdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExLCBFZGdlIDEyIC0gMTNcblx0Ly8gTWljcm9zb2Z0IGZvcmdvdCB0byBodW1wIHRoZWlyIHZlbmRvciBwcmVmaXggKCM5NTcyKVxuXHRjYW1lbENhc2U6IGZ1bmN0aW9uKCBzdHJpbmcgKSB7XG5cdFx0cmV0dXJuIHN0cmluZy5yZXBsYWNlKCBybXNQcmVmaXgsIFwibXMtXCIgKS5yZXBsYWNlKCByZGFzaEFscGhhLCBmY2FtZWxDYXNlICk7XG5cdH0sXG5cblx0bm9kZU5hbWU6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXHR9LFxuXG5cdGVhY2g6IGZ1bmN0aW9uKCBvYmosIGNhbGxiYWNrICkge1xuXHRcdHZhciBsZW5ndGgsIGkgPSAwO1xuXG5cdFx0aWYgKCBpc0FycmF5TGlrZSggb2JqICkgKSB7XG5cdFx0XHRsZW5ndGggPSBvYmoubGVuZ3RoO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdGlmICggY2FsbGJhY2suY2FsbCggb2JqWyBpIF0sIGksIG9ialsgaSBdICkgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAoIGkgaW4gb2JqICkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrLmNhbGwoIG9ialsgaSBdLCBpLCBvYmpbIGkgXSApID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBvYmo7XG5cdH0sXG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5XG5cdHRyaW06IGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRcdHJldHVybiB0ZXh0ID09IG51bGwgP1xuXHRcdFx0XCJcIiA6XG5cdFx0XHQoIHRleHQgKyBcIlwiICkucmVwbGFjZSggcnRyaW0sIFwiXCIgKTtcblx0fSxcblxuXHQvLyByZXN1bHRzIGlzIGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5XG5cdG1ha2VBcnJheTogZnVuY3Rpb24oIGFyciwgcmVzdWx0cyApIHtcblx0XHR2YXIgcmV0ID0gcmVzdWx0cyB8fCBbXTtcblxuXHRcdGlmICggYXJyICE9IG51bGwgKSB7XG5cdFx0XHRpZiAoIGlzQXJyYXlMaWtlKCBPYmplY3QoIGFyciApICkgKSB7XG5cdFx0XHRcdGpRdWVyeS5tZXJnZSggcmV0LFxuXHRcdFx0XHRcdHR5cGVvZiBhcnIgPT09IFwic3RyaW5nXCIgP1xuXHRcdFx0XHRcdFsgYXJyIF0gOiBhcnJcblx0XHRcdFx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHB1c2guY2FsbCggcmV0LCBhcnIgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gcmV0O1xuXHR9LFxuXG5cdGluQXJyYXk6IGZ1bmN0aW9uKCBlbGVtLCBhcnIsIGkgKSB7XG5cdFx0cmV0dXJuIGFyciA9PSBudWxsID8gLTEgOiBpbmRleE9mLmNhbGwoIGFyciwgZWxlbSwgaSApO1xuXHR9LFxuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdG1lcmdlOiBmdW5jdGlvbiggZmlyc3QsIHNlY29uZCApIHtcblx0XHR2YXIgbGVuID0gK3NlY29uZC5sZW5ndGgsXG5cdFx0XHRqID0gMCxcblx0XHRcdGkgPSBmaXJzdC5sZW5ndGg7XG5cblx0XHRmb3IgKCA7IGogPCBsZW47IGorKyApIHtcblx0XHRcdGZpcnN0WyBpKysgXSA9IHNlY29uZFsgaiBdO1xuXHRcdH1cblxuXHRcdGZpcnN0Lmxlbmd0aCA9IGk7XG5cblx0XHRyZXR1cm4gZmlyc3Q7XG5cdH0sXG5cblx0Z3JlcDogZnVuY3Rpb24oIGVsZW1zLCBjYWxsYmFjaywgaW52ZXJ0ICkge1xuXHRcdHZhciBjYWxsYmFja0ludmVyc2UsXG5cdFx0XHRtYXRjaGVzID0gW10sXG5cdFx0XHRpID0gMCxcblx0XHRcdGxlbmd0aCA9IGVsZW1zLmxlbmd0aCxcblx0XHRcdGNhbGxiYWNrRXhwZWN0ID0gIWludmVydDtcblxuXHRcdC8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCBvbmx5IHNhdmluZyB0aGUgaXRlbXNcblx0XHQvLyB0aGF0IHBhc3MgdGhlIHZhbGlkYXRvciBmdW5jdGlvblxuXHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0Y2FsbGJhY2tJbnZlcnNlID0gIWNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpICk7XG5cdFx0XHRpZiAoIGNhbGxiYWNrSW52ZXJzZSAhPT0gY2FsbGJhY2tFeHBlY3QgKSB7XG5cdFx0XHRcdG1hdGNoZXMucHVzaCggZWxlbXNbIGkgXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBtYXRjaGVzO1xuXHR9LFxuXG5cdC8vIGFyZyBpcyBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seVxuXHRtYXA6IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ssIGFyZyApIHtcblx0XHR2YXIgbGVuZ3RoLCB2YWx1ZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0cmV0ID0gW107XG5cblx0XHQvLyBHbyB0aHJvdWdoIHRoZSBhcnJheSwgdHJhbnNsYXRpbmcgZWFjaCBvZiB0aGUgaXRlbXMgdG8gdGhlaXIgbmV3IHZhbHVlc1xuXHRcdGlmICggaXNBcnJheUxpa2UoIGVsZW1zICkgKSB7XG5cdFx0XHRsZW5ndGggPSBlbGVtcy5sZW5ndGg7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0dmFsdWUgPSBjYWxsYmFjayggZWxlbXNbIGkgXSwgaSwgYXJnICk7XG5cblx0XHRcdFx0aWYgKCB2YWx1ZSAhPSBudWxsICkge1xuXHRcdFx0XHRcdHJldC5wdXNoKCB2YWx1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBHbyB0aHJvdWdoIGV2ZXJ5IGtleSBvbiB0aGUgb2JqZWN0LFxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKCBpIGluIGVsZW1zICkge1xuXHRcdFx0XHR2YWx1ZSA9IGNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpLCBhcmcgKTtcblxuXHRcdFx0XHRpZiAoIHZhbHVlICE9IG51bGwgKSB7XG5cdFx0XHRcdFx0cmV0LnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBGbGF0dGVuIGFueSBuZXN0ZWQgYXJyYXlzXG5cdFx0cmV0dXJuIGNvbmNhdC5hcHBseSggW10sIHJldCApO1xuXHR9LFxuXG5cdC8vIEEgZ2xvYmFsIEdVSUQgY291bnRlciBmb3Igb2JqZWN0c1xuXHRndWlkOiAxLFxuXG5cdC8vIEJpbmQgYSBmdW5jdGlvbiB0byBhIGNvbnRleHQsIG9wdGlvbmFsbHkgcGFydGlhbGx5IGFwcGx5aW5nIGFueVxuXHQvLyBhcmd1bWVudHMuXG5cdHByb3h5OiBmdW5jdGlvbiggZm4sIGNvbnRleHQgKSB7XG5cdFx0dmFyIHRtcCwgYXJncywgcHJveHk7XG5cblx0XHRpZiAoIHR5cGVvZiBjb250ZXh0ID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0dG1wID0gZm5bIGNvbnRleHQgXTtcblx0XHRcdGNvbnRleHQgPSBmbjtcblx0XHRcdGZuID0gdG1wO1xuXHRcdH1cblxuXHRcdC8vIFF1aWNrIGNoZWNrIHRvIGRldGVybWluZSBpZiB0YXJnZXQgaXMgY2FsbGFibGUsIGluIHRoZSBzcGVjXG5cdFx0Ly8gdGhpcyB0aHJvd3MgYSBUeXBlRXJyb3IsIGJ1dCB3ZSB3aWxsIGp1c3QgcmV0dXJuIHVuZGVmaW5lZC5cblx0XHRpZiAoICFqUXVlcnkuaXNGdW5jdGlvbiggZm4gKSApIHtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Ly8gU2ltdWxhdGVkIGJpbmRcblx0XHRhcmdzID0gc2xpY2UuY2FsbCggYXJndW1lbnRzLCAyICk7XG5cdFx0cHJveHkgPSBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBmbi5hcHBseSggY29udGV4dCB8fCB0aGlzLCBhcmdzLmNvbmNhdCggc2xpY2UuY2FsbCggYXJndW1lbnRzICkgKSApO1xuXHRcdH07XG5cblx0XHQvLyBTZXQgdGhlIGd1aWQgb2YgdW5pcXVlIGhhbmRsZXIgdG8gdGhlIHNhbWUgb2Ygb3JpZ2luYWwgaGFuZGxlciwgc28gaXQgY2FuIGJlIHJlbW92ZWRcblx0XHRwcm94eS5ndWlkID0gZm4uZ3VpZCA9IGZuLmd1aWQgfHwgalF1ZXJ5Lmd1aWQrKztcblxuXHRcdHJldHVybiBwcm94eTtcblx0fSxcblxuXHRub3c6IERhdGUubm93LFxuXG5cdC8vIGpRdWVyeS5zdXBwb3J0IGlzIG5vdCB1c2VkIGluIENvcmUgYnV0IG90aGVyIHByb2plY3RzIGF0dGFjaCB0aGVpclxuXHQvLyBwcm9wZXJ0aWVzIHRvIGl0IHNvIGl0IG5lZWRzIHRvIGV4aXN0LlxuXHRzdXBwb3J0OiBzdXBwb3J0XG59ICk7XG5cbmlmICggdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICkge1xuXHRqUXVlcnkuZm5bIFN5bWJvbC5pdGVyYXRvciBdID0gYXJyWyBTeW1ib2wuaXRlcmF0b3IgXTtcbn1cblxuLy8gUG9wdWxhdGUgdGhlIGNsYXNzMnR5cGUgbWFwXG5qUXVlcnkuZWFjaCggXCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbFwiLnNwbGl0KCBcIiBcIiApLFxuZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdGNsYXNzMnR5cGVbIFwiW29iamVjdCBcIiArIG5hbWUgKyBcIl1cIiBdID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xufSApO1xuXG5mdW5jdGlvbiBpc0FycmF5TGlrZSggb2JqICkge1xuXG5cdC8vIFN1cHBvcnQ6IHJlYWwgaU9TIDguMiBvbmx5IChub3QgcmVwcm9kdWNpYmxlIGluIHNpbXVsYXRvcilcblx0Ly8gYGluYCBjaGVjayB1c2VkIHRvIHByZXZlbnQgSklUIGVycm9yIChnaC0yMTQ1KVxuXHQvLyBoYXNPd24gaXNuJ3QgdXNlZCBoZXJlIGR1ZSB0byBmYWxzZSBuZWdhdGl2ZXNcblx0Ly8gcmVnYXJkaW5nIE5vZGVsaXN0IGxlbmd0aCBpbiBJRVxuXHR2YXIgbGVuZ3RoID0gISFvYmogJiYgXCJsZW5ndGhcIiBpbiBvYmogJiYgb2JqLmxlbmd0aCxcblx0XHR0eXBlID0galF1ZXJ5LnR5cGUoIG9iaiApO1xuXG5cdGlmICggdHlwZSA9PT0gXCJmdW5jdGlvblwiIHx8IGpRdWVyeS5pc1dpbmRvdyggb2JqICkgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cmV0dXJuIHR5cGUgPT09IFwiYXJyYXlcIiB8fCBsZW5ndGggPT09IDAgfHxcblx0XHR0eXBlb2YgbGVuZ3RoID09PSBcIm51bWJlclwiICYmIGxlbmd0aCA+IDAgJiYgKCBsZW5ndGggLSAxICkgaW4gb2JqO1xufVxudmFyIFNpenpsZSA9XG4vKiFcbiAqIFNpenpsZSBDU1MgU2VsZWN0b3IgRW5naW5lIHYyLjMuMFxuICogaHR0cHM6Ly9zaXp6bGVqcy5jb20vXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIERhdGU6IDIwMTYtMDEtMDRcbiAqL1xuKGZ1bmN0aW9uKCB3aW5kb3cgKSB7XG5cbnZhciBpLFxuXHRzdXBwb3J0LFxuXHRFeHByLFxuXHRnZXRUZXh0LFxuXHRpc1hNTCxcblx0dG9rZW5pemUsXG5cdGNvbXBpbGUsXG5cdHNlbGVjdCxcblx0b3V0ZXJtb3N0Q29udGV4dCxcblx0c29ydElucHV0LFxuXHRoYXNEdXBsaWNhdGUsXG5cblx0Ly8gTG9jYWwgZG9jdW1lbnQgdmFyc1xuXHRzZXREb2N1bWVudCxcblx0ZG9jdW1lbnQsXG5cdGRvY0VsZW0sXG5cdGRvY3VtZW50SXNIVE1MLFxuXHRyYnVnZ3lRU0EsXG5cdHJidWdneU1hdGNoZXMsXG5cdG1hdGNoZXMsXG5cdGNvbnRhaW5zLFxuXG5cdC8vIEluc3RhbmNlLXNwZWNpZmljIGRhdGFcblx0ZXhwYW5kbyA9IFwic2l6emxlXCIgKyAxICogbmV3IERhdGUoKSxcblx0cHJlZmVycmVkRG9jID0gd2luZG93LmRvY3VtZW50LFxuXHRkaXJydW5zID0gMCxcblx0ZG9uZSA9IDAsXG5cdGNsYXNzQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLFxuXHR0b2tlbkNhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0Y29tcGlsZXJDYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG5cdHNvcnRPcmRlciA9IGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdGlmICggYSA9PT0gYiApIHtcblx0XHRcdGhhc0R1cGxpY2F0ZSA9IHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiAwO1xuXHR9LFxuXG5cdC8vIEluc3RhbmNlIG1ldGhvZHNcblx0aGFzT3duID0gKHt9KS5oYXNPd25Qcm9wZXJ0eSxcblx0YXJyID0gW10sXG5cdHBvcCA9IGFyci5wb3AsXG5cdHB1c2hfbmF0aXZlID0gYXJyLnB1c2gsXG5cdHB1c2ggPSBhcnIucHVzaCxcblx0c2xpY2UgPSBhcnIuc2xpY2UsXG5cdC8vIFVzZSBhIHN0cmlwcGVkLWRvd24gaW5kZXhPZiBhcyBpdCdzIGZhc3RlciB0aGFuIG5hdGl2ZVxuXHQvLyBodHRwczovL2pzcGVyZi5jb20vdGhvci1pbmRleG9mLXZzLWZvci81XG5cdGluZGV4T2YgPSBmdW5jdGlvbiggbGlzdCwgZWxlbSApIHtcblx0XHR2YXIgaSA9IDAsXG5cdFx0XHRsZW4gPSBsaXN0Lmxlbmd0aDtcblx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdGlmICggbGlzdFtpXSA9PT0gZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIGk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiAtMTtcblx0fSxcblxuXHRib29sZWFucyA9IFwiY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWRcIixcblxuXHQvLyBSZWd1bGFyIGV4cHJlc3Npb25zXG5cblx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1zZWxlY3RvcnMvI3doaXRlc3BhY2Vcblx0d2hpdGVzcGFjZSA9IFwiW1xcXFx4MjBcXFxcdFxcXFxyXFxcXG5cXFxcZl1cIixcblxuXHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyMS9zeW5kYXRhLmh0bWwjdmFsdWUtZGVmLWlkZW50aWZpZXJcblx0aWRlbnRpZmllciA9IFwiKD86XFxcXFxcXFwufFtcXFxcdy1dfFteXFwwLVxcXFx4YTBdKStcIixcblxuXHQvLyBBdHRyaWJ1dGUgc2VsZWN0b3JzOiBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2F0dHJpYnV0ZS1zZWxlY3RvcnNcblx0YXR0cmlidXRlcyA9IFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIiooXCIgKyBpZGVudGlmaWVyICsgXCIpKD86XCIgKyB3aGl0ZXNwYWNlICtcblx0XHQvLyBPcGVyYXRvciAoY2FwdHVyZSAyKVxuXHRcdFwiKihbKl4kfCF+XT89KVwiICsgd2hpdGVzcGFjZSArXG5cdFx0Ly8gXCJBdHRyaWJ1dGUgdmFsdWVzIG11c3QgYmUgQ1NTIGlkZW50aWZpZXJzIFtjYXB0dXJlIDVdIG9yIHN0cmluZ3MgW2NhcHR1cmUgMyBvciBjYXB0dXJlIDRdXCJcblx0XHRcIiooPzonKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCJ8KFwiICsgaWRlbnRpZmllciArIFwiKSl8KVwiICsgd2hpdGVzcGFjZSArXG5cdFx0XCIqXFxcXF1cIixcblxuXHRwc2V1ZG9zID0gXCI6KFwiICsgaWRlbnRpZmllciArIFwiKSg/OlxcXFwoKFwiICtcblx0XHQvLyBUbyByZWR1Y2UgdGhlIG51bWJlciBvZiBzZWxlY3RvcnMgbmVlZGluZyB0b2tlbml6ZSBpbiB0aGUgcHJlRmlsdGVyLCBwcmVmZXIgYXJndW1lbnRzOlxuXHRcdC8vIDEuIHF1b3RlZCAoY2FwdHVyZSAzOyBjYXB0dXJlIDQgb3IgY2FwdHVyZSA1KVxuXHRcdFwiKCcoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcIil8XCIgK1xuXHRcdC8vIDIuIHNpbXBsZSAoY2FwdHVyZSA2KVxuXHRcdFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcKClbXFxcXF1dfFwiICsgYXR0cmlidXRlcyArIFwiKSopfFwiICtcblx0XHQvLyAzLiBhbnl0aGluZyBlbHNlIChjYXB0dXJlIDIpXG5cdFx0XCIuKlwiICtcblx0XHRcIilcXFxcKXwpXCIsXG5cblx0Ly8gTGVhZGluZyBhbmQgbm9uLWVzY2FwZWQgdHJhaWxpbmcgd2hpdGVzcGFjZSwgY2FwdHVyaW5nIHNvbWUgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVycyBwcmVjZWRpbmcgdGhlIGxhdHRlclxuXHRyd2hpdGVzcGFjZSA9IG5ldyBSZWdFeHAoIHdoaXRlc3BhY2UgKyBcIitcIiwgXCJnXCIgKSxcblx0cnRyaW0gPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIit8KCg/Ol58W15cXFxcXFxcXF0pKD86XFxcXFxcXFwuKSopXCIgKyB3aGl0ZXNwYWNlICsgXCIrJFwiLCBcImdcIiApLFxuXG5cdHJjb21tYSA9IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKixcIiArIHdoaXRlc3BhY2UgKyBcIipcIiApLFxuXHRyY29tYmluYXRvcnMgPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIiooWz4rfl18XCIgKyB3aGl0ZXNwYWNlICsgXCIpXCIgKyB3aGl0ZXNwYWNlICsgXCIqXCIgKSxcblxuXHRyYXR0cmlidXRlUXVvdGVzID0gbmV3IFJlZ0V4cCggXCI9XCIgKyB3aGl0ZXNwYWNlICsgXCIqKFteXFxcXF0nXFxcIl0qPylcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcXVwiLCBcImdcIiApLFxuXG5cdHJwc2V1ZG8gPSBuZXcgUmVnRXhwKCBwc2V1ZG9zICksXG5cdHJpZGVudGlmaWVyID0gbmV3IFJlZ0V4cCggXCJeXCIgKyBpZGVudGlmaWVyICsgXCIkXCIgKSxcblxuXHRtYXRjaEV4cHIgPSB7XG5cdFx0XCJJRFwiOiBuZXcgUmVnRXhwKCBcIl4jKFwiICsgaWRlbnRpZmllciArIFwiKVwiICksXG5cdFx0XCJDTEFTU1wiOiBuZXcgUmVnRXhwKCBcIl5cXFxcLihcIiArIGlkZW50aWZpZXIgKyBcIilcIiApLFxuXHRcdFwiVEFHXCI6IG5ldyBSZWdFeHAoIFwiXihcIiArIGlkZW50aWZpZXIgKyBcInxbKl0pXCIgKSxcblx0XHRcIkFUVFJcIjogbmV3IFJlZ0V4cCggXCJeXCIgKyBhdHRyaWJ1dGVzICksXG5cdFx0XCJQU0VVRE9cIjogbmV3IFJlZ0V4cCggXCJeXCIgKyBwc2V1ZG9zICksXG5cdFx0XCJDSElMRFwiOiBuZXcgUmVnRXhwKCBcIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcXFwoXCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcdFwiKihldmVufG9kZHwoKFsrLV18KShcXFxcZCopbnwpXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86KFsrLV18KVwiICsgd2hpdGVzcGFjZSArXG5cdFx0XHRcIiooXFxcXGQrKXwpKVwiICsgd2hpdGVzcGFjZSArIFwiKlxcXFwpfClcIiwgXCJpXCIgKSxcblx0XHRcImJvb2xcIjogbmV3IFJlZ0V4cCggXCJeKD86XCIgKyBib29sZWFucyArIFwiKSRcIiwgXCJpXCIgKSxcblx0XHQvLyBGb3IgdXNlIGluIGxpYnJhcmllcyBpbXBsZW1lbnRpbmcgLmlzKClcblx0XHQvLyBXZSB1c2UgdGhpcyBmb3IgUE9TIG1hdGNoaW5nIGluIGBzZWxlY3RgXG5cdFx0XCJuZWVkc0NvbnRleHRcIjogbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXFxcKFwiICtcblx0XHRcdHdoaXRlc3BhY2UgKyBcIiooKD86LVxcXFxkKT9cXFxcZCopXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXCl8KSg/PVteLV18JClcIiwgXCJpXCIgKVxuXHR9LFxuXG5cdHJpbnB1dHMgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFxuXHRyaGVhZGVyID0gL15oXFxkJC9pLFxuXG5cdHJuYXRpdmUgPSAvXltee10rXFx7XFxzKlxcW25hdGl2ZSBcXHcvLFxuXG5cdC8vIEVhc2lseS1wYXJzZWFibGUvcmV0cmlldmFibGUgSUQgb3IgVEFHIG9yIENMQVNTIHNlbGVjdG9yc1xuXHRycXVpY2tFeHByID0gL14oPzojKFtcXHctXSspfChcXHcrKXxcXC4oW1xcdy1dKykpJC8sXG5cblx0cnNpYmxpbmcgPSAvWyt+XS8sXG5cblx0Ly8gQ1NTIGVzY2FwZXNcblx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMjEvc3luZGF0YS5odG1sI2VzY2FwZWQtY2hhcmFjdGVyc1xuXHRydW5lc2NhcGUgPSBuZXcgUmVnRXhwKCBcIlxcXFxcXFxcKFtcXFxcZGEtZl17MSw2fVwiICsgd2hpdGVzcGFjZSArIFwiP3woXCIgKyB3aGl0ZXNwYWNlICsgXCIpfC4pXCIsIFwiaWdcIiApLFxuXHRmdW5lc2NhcGUgPSBmdW5jdGlvbiggXywgZXNjYXBlZCwgZXNjYXBlZFdoaXRlc3BhY2UgKSB7XG5cdFx0dmFyIGhpZ2ggPSBcIjB4XCIgKyBlc2NhcGVkIC0gMHgxMDAwMDtcblx0XHQvLyBOYU4gbWVhbnMgbm9uLWNvZGVwb2ludFxuXHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3g8MjRcblx0XHQvLyBXb3JrYXJvdW5kIGVycm9uZW91cyBudW1lcmljIGludGVycHJldGF0aW9uIG9mICtcIjB4XCJcblx0XHRyZXR1cm4gaGlnaCAhPT0gaGlnaCB8fCBlc2NhcGVkV2hpdGVzcGFjZSA/XG5cdFx0XHRlc2NhcGVkIDpcblx0XHRcdGhpZ2ggPCAwID9cblx0XHRcdFx0Ly8gQk1QIGNvZGVwb2ludFxuXHRcdFx0XHRTdHJpbmcuZnJvbUNoYXJDb2RlKCBoaWdoICsgMHgxMDAwMCApIDpcblx0XHRcdFx0Ly8gU3VwcGxlbWVudGFsIFBsYW5lIGNvZGVwb2ludCAoc3Vycm9nYXRlIHBhaXIpXG5cdFx0XHRcdFN0cmluZy5mcm9tQ2hhckNvZGUoIGhpZ2ggPj4gMTAgfCAweEQ4MDAsIGhpZ2ggJiAweDNGRiB8IDB4REMwMCApO1xuXHR9LFxuXG5cdC8vIENTUyBzdHJpbmcvaWRlbnRpZmllciBzZXJpYWxpemF0aW9uXG5cdC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jY29tbW9uLXNlcmlhbGl6aW5nLWlkaW9tc1xuXHRyY3NzZXNjYXBlID0gLyhbXFwwLVxceDFmXFx4N2ZdfF4tP1xcZCl8Xi0kfFteXFx4ODAtXFx1RkZGRlxcdy1dL2csXG5cdGZjc3Nlc2NhcGUgPSBmdW5jdGlvbiggY2gsIGFzQ29kZVBvaW50ICkge1xuXHRcdGlmICggYXNDb2RlUG9pbnQgKSB7XG5cblx0XHRcdC8vIFUrMDAwMCBOVUxMIGJlY29tZXMgVStGRkZEIFJFUExBQ0VNRU5UIENIQVJBQ1RFUlxuXHRcdFx0aWYgKCBjaCA9PT0gXCJcXDBcIiApIHtcblx0XHRcdFx0cmV0dXJuIFwiXFx1RkZGRFwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb250cm9sIGNoYXJhY3RlcnMgYW5kIChkZXBlbmRlbnQgdXBvbiBwb3NpdGlvbikgbnVtYmVycyBnZXQgZXNjYXBlZCBhcyBjb2RlIHBvaW50c1xuXHRcdFx0cmV0dXJuIGNoLnNsaWNlKCAwLCAtMSApICsgXCJcXFxcXCIgKyBjaC5jaGFyQ29kZUF0KCBjaC5sZW5ndGggLSAxICkudG9TdHJpbmcoIDE2ICkgKyBcIiBcIjtcblx0XHR9XG5cblx0XHQvLyBPdGhlciBwb3RlbnRpYWxseS1zcGVjaWFsIEFTQ0lJIGNoYXJhY3RlcnMgZ2V0IGJhY2tzbGFzaC1lc2NhcGVkXG5cdFx0cmV0dXJuIFwiXFxcXFwiICsgY2g7XG5cdH0sXG5cblx0Ly8gVXNlZCBmb3IgaWZyYW1lc1xuXHQvLyBTZWUgc2V0RG9jdW1lbnQoKVxuXHQvLyBSZW1vdmluZyB0aGUgZnVuY3Rpb24gd3JhcHBlciBjYXVzZXMgYSBcIlBlcm1pc3Npb24gRGVuaWVkXCJcblx0Ly8gZXJyb3IgaW4gSUVcblx0dW5sb2FkSGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuXHRcdHNldERvY3VtZW50KCk7XG5cdH0sXG5cblx0ZGlzYWJsZWRBbmNlc3RvciA9IGFkZENvbWJpbmF0b3IoXG5cdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gdHJ1ZTtcblx0XHR9LFxuXHRcdHsgZGlyOiBcInBhcmVudE5vZGVcIiwgbmV4dDogXCJsZWdlbmRcIiB9XG5cdCk7XG5cbi8vIE9wdGltaXplIGZvciBwdXNoLmFwcGx5KCBfLCBOb2RlTGlzdCApXG50cnkge1xuXHRwdXNoLmFwcGx5KFxuXHRcdChhcnIgPSBzbGljZS5jYWxsKCBwcmVmZXJyZWREb2MuY2hpbGROb2RlcyApKSxcblx0XHRwcmVmZXJyZWREb2MuY2hpbGROb2Rlc1xuXHQpO1xuXHQvLyBTdXBwb3J0OiBBbmRyb2lkPDQuMFxuXHQvLyBEZXRlY3Qgc2lsZW50bHkgZmFpbGluZyBwdXNoLmFwcGx5XG5cdGFyclsgcHJlZmVycmVkRG9jLmNoaWxkTm9kZXMubGVuZ3RoIF0ubm9kZVR5cGU7XG59IGNhdGNoICggZSApIHtcblx0cHVzaCA9IHsgYXBwbHk6IGFyci5sZW5ndGggP1xuXG5cdFx0Ly8gTGV2ZXJhZ2Ugc2xpY2UgaWYgcG9zc2libGVcblx0XHRmdW5jdGlvbiggdGFyZ2V0LCBlbHMgKSB7XG5cdFx0XHRwdXNoX25hdGl2ZS5hcHBseSggdGFyZ2V0LCBzbGljZS5jYWxsKGVscykgKTtcblx0XHR9IDpcblxuXHRcdC8vIFN1cHBvcnQ6IElFPDlcblx0XHQvLyBPdGhlcndpc2UgYXBwZW5kIGRpcmVjdGx5XG5cdFx0ZnVuY3Rpb24oIHRhcmdldCwgZWxzICkge1xuXHRcdFx0dmFyIGogPSB0YXJnZXQubGVuZ3RoLFxuXHRcdFx0XHRpID0gMDtcblx0XHRcdC8vIENhbid0IHRydXN0IE5vZGVMaXN0Lmxlbmd0aFxuXHRcdFx0d2hpbGUgKCAodGFyZ2V0W2orK10gPSBlbHNbaSsrXSkgKSB7fVxuXHRcdFx0dGFyZ2V0Lmxlbmd0aCA9IGogLSAxO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gU2l6emxlKCBzZWxlY3RvciwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApIHtcblx0dmFyIG0sIGksIGVsZW0sIG5pZCwgbWF0Y2gsIGdyb3VwcywgbmV3U2VsZWN0b3IsXG5cdFx0bmV3Q29udGV4dCA9IGNvbnRleHQgJiYgY29udGV4dC5vd25lckRvY3VtZW50LFxuXG5cdFx0Ly8gbm9kZVR5cGUgZGVmYXVsdHMgdG8gOSwgc2luY2UgY29udGV4dCBkZWZhdWx0cyB0byBkb2N1bWVudFxuXHRcdG5vZGVUeXBlID0gY29udGV4dCA/IGNvbnRleHQubm9kZVR5cGUgOiA5O1xuXG5cdHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xuXG5cdC8vIFJldHVybiBlYXJseSBmcm9tIGNhbGxzIHdpdGggaW52YWxpZCBzZWxlY3RvciBvciBjb250ZXh0XG5cdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiIHx8ICFzZWxlY3RvciB8fFxuXHRcdG5vZGVUeXBlICE9PSAxICYmIG5vZGVUeXBlICE9PSA5ICYmIG5vZGVUeXBlICE9PSAxMSApIHtcblxuXHRcdHJldHVybiByZXN1bHRzO1xuXHR9XG5cblx0Ly8gVHJ5IHRvIHNob3J0Y3V0IGZpbmQgb3BlcmF0aW9ucyAoYXMgb3Bwb3NlZCB0byBmaWx0ZXJzKSBpbiBIVE1MIGRvY3VtZW50c1xuXHRpZiAoICFzZWVkICkge1xuXG5cdFx0aWYgKCAoIGNvbnRleHQgPyBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCA6IHByZWZlcnJlZERvYyApICE9PSBkb2N1bWVudCApIHtcblx0XHRcdHNldERvY3VtZW50KCBjb250ZXh0ICk7XG5cdFx0fVxuXHRcdGNvbnRleHQgPSBjb250ZXh0IHx8IGRvY3VtZW50O1xuXG5cdFx0aWYgKCBkb2N1bWVudElzSFRNTCApIHtcblxuXHRcdFx0Ly8gSWYgdGhlIHNlbGVjdG9yIGlzIHN1ZmZpY2llbnRseSBzaW1wbGUsIHRyeSB1c2luZyBhIFwiZ2V0KkJ5KlwiIERPTSBtZXRob2Rcblx0XHRcdC8vIChleGNlcHRpbmcgRG9jdW1lbnRGcmFnbWVudCBjb250ZXh0LCB3aGVyZSB0aGUgbWV0aG9kcyBkb24ndCBleGlzdClcblx0XHRcdGlmICggbm9kZVR5cGUgIT09IDExICYmIChtYXRjaCA9IHJxdWlja0V4cHIuZXhlYyggc2VsZWN0b3IgKSkgKSB7XG5cblx0XHRcdFx0Ly8gSUQgc2VsZWN0b3Jcblx0XHRcdFx0aWYgKCAobSA9IG1hdGNoWzFdKSApIHtcblxuXHRcdFx0XHRcdC8vIERvY3VtZW50IGNvbnRleHRcblx0XHRcdFx0XHRpZiAoIG5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIG0gKSkgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUsIE9wZXJhLCBXZWJraXRcblx0XHRcdFx0XHRcdFx0Ly8gVE9ETzogaWRlbnRpZnkgdmVyc2lvbnNcblx0XHRcdFx0XHRcdFx0Ly8gZ2V0RWxlbWVudEJ5SWQgY2FuIG1hdGNoIGVsZW1lbnRzIGJ5IG5hbWUgaW5zdGVhZCBvZiBJRFxuXHRcdFx0XHRcdFx0XHRpZiAoIGVsZW0uaWQgPT09IG0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmVzdWx0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gRWxlbWVudCBjb250ZXh0XG5cdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUsIE9wZXJhLCBXZWJraXRcblx0XHRcdFx0XHRcdC8vIFRPRE86IGlkZW50aWZ5IHZlcnNpb25zXG5cdFx0XHRcdFx0XHQvLyBnZXRFbGVtZW50QnlJZCBjYW4gbWF0Y2ggZWxlbWVudHMgYnkgbmFtZSBpbnN0ZWFkIG9mIElEXG5cdFx0XHRcdFx0XHRpZiAoIG5ld0NvbnRleHQgJiYgKGVsZW0gPSBuZXdDb250ZXh0LmdldEVsZW1lbnRCeUlkKCBtICkpICYmXG5cdFx0XHRcdFx0XHRcdGNvbnRhaW5zKCBjb250ZXh0LCBlbGVtICkgJiZcblx0XHRcdFx0XHRcdFx0ZWxlbS5pZCA9PT0gbSApIHtcblxuXHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFR5cGUgc2VsZWN0b3Jcblx0XHRcdFx0fSBlbHNlIGlmICggbWF0Y2hbMl0gKSB7XG5cdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggc2VsZWN0b3IgKSApO1xuXHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXG5cdFx0XHRcdC8vIENsYXNzIHNlbGVjdG9yXG5cdFx0XHRcdH0gZWxzZSBpZiAoIChtID0gbWF0Y2hbM10pICYmIHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAmJlxuXHRcdFx0XHRcdGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSApIHtcblxuXHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggbSApICk7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gVGFrZSBhZHZhbnRhZ2Ugb2YgcXVlcnlTZWxlY3RvckFsbFxuXHRcdFx0aWYgKCBzdXBwb3J0LnFzYSAmJlxuXHRcdFx0XHQhY29tcGlsZXJDYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdICYmXG5cdFx0XHRcdCghcmJ1Z2d5UVNBIHx8ICFyYnVnZ3lRU0EudGVzdCggc2VsZWN0b3IgKSkgKSB7XG5cblx0XHRcdFx0aWYgKCBub2RlVHlwZSAhPT0gMSApIHtcblx0XHRcdFx0XHRuZXdDb250ZXh0ID0gY29udGV4dDtcblx0XHRcdFx0XHRuZXdTZWxlY3RvciA9IHNlbGVjdG9yO1xuXG5cdFx0XHRcdC8vIHFTQSBsb29rcyBvdXRzaWRlIEVsZW1lbnQgY29udGV4dCwgd2hpY2ggaXMgbm90IHdoYXQgd2Ugd2FudFxuXHRcdFx0XHQvLyBUaGFua3MgdG8gQW5kcmV3IER1cG9udCBmb3IgdGhpcyB3b3JrYXJvdW5kIHRlY2huaXF1ZVxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PThcblx0XHRcdFx0Ly8gRXhjbHVkZSBvYmplY3QgZWxlbWVudHNcblx0XHRcdFx0fSBlbHNlIGlmICggY29udGV4dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSBcIm9iamVjdFwiICkge1xuXG5cdFx0XHRcdFx0Ly8gQ2FwdHVyZSB0aGUgY29udGV4dCBJRCwgc2V0dGluZyBpdCBmaXJzdCBpZiBuZWNlc3Nhcnlcblx0XHRcdFx0XHRpZiAoIChuaWQgPSBjb250ZXh0LmdldEF0dHJpYnV0ZSggXCJpZFwiICkpICkge1xuXHRcdFx0XHRcdFx0bmlkID0gbmlkLnJlcGxhY2UoIHJjc3Nlc2NhcGUsIGZjc3Nlc2NhcGUgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Y29udGV4dC5zZXRBdHRyaWJ1dGUoIFwiaWRcIiwgKG5pZCA9IGV4cGFuZG8pICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gUHJlZml4IGV2ZXJ5IHNlbGVjdG9yIGluIHRoZSBsaXN0XG5cdFx0XHRcdFx0Z3JvdXBzID0gdG9rZW5pemUoIHNlbGVjdG9yICk7XG5cdFx0XHRcdFx0aSA9IGdyb3Vwcy5sZW5ndGg7XG5cdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRncm91cHNbaV0gPSBcIiNcIiArIG5pZCArIFwiIFwiICsgdG9TZWxlY3RvciggZ3JvdXBzW2ldICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG5ld1NlbGVjdG9yID0gZ3JvdXBzLmpvaW4oIFwiLFwiICk7XG5cblx0XHRcdFx0XHQvLyBFeHBhbmQgY29udGV4dCBmb3Igc2libGluZyBzZWxlY3RvcnNcblx0XHRcdFx0XHRuZXdDb250ZXh0ID0gcnNpYmxpbmcudGVzdCggc2VsZWN0b3IgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHxcblx0XHRcdFx0XHRcdGNvbnRleHQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIG5ld1NlbGVjdG9yICkge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLFxuXHRcdFx0XHRcdFx0XHRuZXdDb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIG5ld1NlbGVjdG9yIClcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHR9IGNhdGNoICggcXNhRXJyb3IgKSB7XG5cdFx0XHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0XHRcdGlmICggbmlkID09PSBleHBhbmRvICkge1xuXHRcdFx0XHRcdFx0XHRjb250ZXh0LnJlbW92ZUF0dHJpYnV0ZSggXCJpZFwiICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gQWxsIG90aGVyc1xuXHRyZXR1cm4gc2VsZWN0KCBzZWxlY3Rvci5yZXBsYWNlKCBydHJpbSwgXCIkMVwiICksIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUga2V5LXZhbHVlIGNhY2hlcyBvZiBsaW1pdGVkIHNpemVcbiAqIEByZXR1cm5zIHtmdW5jdGlvbihzdHJpbmcsIG9iamVjdCl9IFJldHVybnMgdGhlIE9iamVjdCBkYXRhIGFmdGVyIHN0b3JpbmcgaXQgb24gaXRzZWxmIHdpdGhcbiAqXHRwcm9wZXJ0eSBuYW1lIHRoZSAoc3BhY2Utc3VmZml4ZWQpIHN0cmluZyBhbmQgKGlmIHRoZSBjYWNoZSBpcyBsYXJnZXIgdGhhbiBFeHByLmNhY2hlTGVuZ3RoKVxuICpcdGRlbGV0aW5nIHRoZSBvbGRlc3QgZW50cnlcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ2FjaGUoKSB7XG5cdHZhciBrZXlzID0gW107XG5cblx0ZnVuY3Rpb24gY2FjaGUoIGtleSwgdmFsdWUgKSB7XG5cdFx0Ly8gVXNlIChrZXkgKyBcIiBcIikgdG8gYXZvaWQgY29sbGlzaW9uIHdpdGggbmF0aXZlIHByb3RvdHlwZSBwcm9wZXJ0aWVzIChzZWUgSXNzdWUgIzE1Nylcblx0XHRpZiAoIGtleXMucHVzaCgga2V5ICsgXCIgXCIgKSA+IEV4cHIuY2FjaGVMZW5ndGggKSB7XG5cdFx0XHQvLyBPbmx5IGtlZXAgdGhlIG1vc3QgcmVjZW50IGVudHJpZXNcblx0XHRcdGRlbGV0ZSBjYWNoZVsga2V5cy5zaGlmdCgpIF07XG5cdFx0fVxuXHRcdHJldHVybiAoY2FjaGVbIGtleSArIFwiIFwiIF0gPSB2YWx1ZSk7XG5cdH1cblx0cmV0dXJuIGNhY2hlO1xufVxuXG4vKipcbiAqIE1hcmsgYSBmdW5jdGlvbiBmb3Igc3BlY2lhbCB1c2UgYnkgU2l6emxlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gbWFya1xuICovXG5mdW5jdGlvbiBtYXJrRnVuY3Rpb24oIGZuICkge1xuXHRmblsgZXhwYW5kbyBdID0gdHJ1ZTtcblx0cmV0dXJuIGZuO1xufVxuXG4vKipcbiAqIFN1cHBvcnQgdGVzdGluZyB1c2luZyBhbiBlbGVtZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBQYXNzZWQgdGhlIGNyZWF0ZWQgZWxlbWVudCBhbmQgcmV0dXJucyBhIGJvb2xlYW4gcmVzdWx0XG4gKi9cbmZ1bmN0aW9uIGFzc2VydCggZm4gKSB7XG5cdHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmaWVsZHNldFwiKTtcblxuXHR0cnkge1xuXHRcdHJldHVybiAhIWZuKCBlbCApO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9IGZpbmFsbHkge1xuXHRcdC8vIFJlbW92ZSBmcm9tIGl0cyBwYXJlbnQgYnkgZGVmYXVsdFxuXHRcdGlmICggZWwucGFyZW50Tm9kZSApIHtcblx0XHRcdGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIGVsICk7XG5cdFx0fVxuXHRcdC8vIHJlbGVhc2UgbWVtb3J5IGluIElFXG5cdFx0ZWwgPSBudWxsO1xuXHR9XG59XG5cbi8qKlxuICogQWRkcyB0aGUgc2FtZSBoYW5kbGVyIGZvciBhbGwgb2YgdGhlIHNwZWNpZmllZCBhdHRyc1xuICogQHBhcmFtIHtTdHJpbmd9IGF0dHJzIFBpcGUtc2VwYXJhdGVkIGxpc3Qgb2YgYXR0cmlidXRlc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciBUaGUgbWV0aG9kIHRoYXQgd2lsbCBiZSBhcHBsaWVkXG4gKi9cbmZ1bmN0aW9uIGFkZEhhbmRsZSggYXR0cnMsIGhhbmRsZXIgKSB7XG5cdHZhciBhcnIgPSBhdHRycy5zcGxpdChcInxcIiksXG5cdFx0aSA9IGFyci5sZW5ndGg7XG5cblx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0RXhwci5hdHRySGFuZGxlWyBhcnJbaV0gXSA9IGhhbmRsZXI7XG5cdH1cbn1cblxuLyoqXG4gKiBDaGVja3MgZG9jdW1lbnQgb3JkZXIgb2YgdHdvIHNpYmxpbmdzXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGFcbiAqIEBwYXJhbSB7RWxlbWVudH0gYlxuICogQHJldHVybnMge051bWJlcn0gUmV0dXJucyBsZXNzIHRoYW4gMCBpZiBhIHByZWNlZGVzIGIsIGdyZWF0ZXIgdGhhbiAwIGlmIGEgZm9sbG93cyBiXG4gKi9cbmZ1bmN0aW9uIHNpYmxpbmdDaGVjayggYSwgYiApIHtcblx0dmFyIGN1ciA9IGIgJiYgYSxcblx0XHRkaWZmID0gY3VyICYmIGEubm9kZVR5cGUgPT09IDEgJiYgYi5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0YS5zb3VyY2VJbmRleCAtIGIuc291cmNlSW5kZXg7XG5cblx0Ly8gVXNlIElFIHNvdXJjZUluZGV4IGlmIGF2YWlsYWJsZSBvbiBib3RoIG5vZGVzXG5cdGlmICggZGlmZiApIHtcblx0XHRyZXR1cm4gZGlmZjtcblx0fVxuXG5cdC8vIENoZWNrIGlmIGIgZm9sbG93cyBhXG5cdGlmICggY3VyICkge1xuXHRcdHdoaWxlICggKGN1ciA9IGN1ci5uZXh0U2libGluZykgKSB7XG5cdFx0XHRpZiAoIGN1ciA9PT0gYiApIHtcblx0XHRcdFx0cmV0dXJuIC0xO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBhID8gMSA6IC0xO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgaW5wdXQgdHlwZXNcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUlucHV0UHNldWRvKCB0eXBlICkge1xuXHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0cmV0dXJuIG5hbWUgPT09IFwiaW5wdXRcIiAmJiBlbGVtLnR5cGUgPT09IHR5cGU7XG5cdH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBidXR0b25zXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICovXG5mdW5jdGlvbiBjcmVhdGVCdXR0b25Qc2V1ZG8oIHR5cGUgKSB7XG5cdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHR2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRyZXR1cm4gKG5hbWUgPT09IFwiaW5wdXRcIiB8fCBuYW1lID09PSBcImJ1dHRvblwiKSAmJiBlbGVtLnR5cGUgPT09IHR5cGU7XG5cdH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciA6ZW5hYmxlZC86ZGlzYWJsZWRcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZGlzYWJsZWQgdHJ1ZSBmb3IgOmRpc2FibGVkOyBmYWxzZSBmb3IgOmVuYWJsZWRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRGlzYWJsZWRQc2V1ZG8oIGRpc2FibGVkICkge1xuXHQvLyBLbm93biA6ZGlzYWJsZWQgZmFsc2UgcG9zaXRpdmVzOlxuXHQvLyBJRTogKltkaXNhYmxlZF06bm90KGJ1dHRvbiwgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIG9wdGdyb3VwLCBvcHRpb24sIG1lbnVpdGVtLCBmaWVsZHNldClcblx0Ly8gbm90IElFOiBmaWVsZHNldFtkaXNhYmxlZF0gPiBsZWdlbmQ6bnRoLW9mLXR5cGUobisyKSA6Y2FuLWRpc2FibGVcblx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0Ly8gQ2hlY2sgZm9ybSBlbGVtZW50cyBhbmQgb3B0aW9uIGVsZW1lbnRzIGZvciBleHBsaWNpdCBkaXNhYmxpbmdcblx0XHRyZXR1cm4gXCJsYWJlbFwiIGluIGVsZW0gJiYgZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQgfHxcblx0XHRcdFwiZm9ybVwiIGluIGVsZW0gJiYgZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQgfHxcblxuXHRcdFx0Ly8gQ2hlY2sgbm9uLWRpc2FibGVkIGZvcm0gZWxlbWVudHMgZm9yIGZpZWxkc2V0W2Rpc2FibGVkXSBhbmNlc3RvcnNcblx0XHRcdFwiZm9ybVwiIGluIGVsZW0gJiYgZWxlbS5kaXNhYmxlZCA9PT0gZmFsc2UgJiYgKFxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRTYtMTErXG5cdFx0XHRcdC8vIEFuY2VzdHJ5IGlzIGNvdmVyZWQgZm9yIHVzXG5cdFx0XHRcdGVsZW0uaXNEaXNhYmxlZCA9PT0gZGlzYWJsZWQgfHxcblxuXHRcdFx0XHQvLyBPdGhlcndpc2UsIGFzc3VtZSBhbnkgbm9uLTxvcHRpb24+IHVuZGVyIGZpZWxkc2V0W2Rpc2FibGVkXSBpcyBkaXNhYmxlZFxuXHRcdFx0XHQvKiBqc2hpbnQgLVcwMTggKi9cblx0XHRcdFx0ZWxlbS5pc0Rpc2FibGVkICE9PSAhZGlzYWJsZWQgJiZcblx0XHRcdFx0XHQoXCJsYWJlbFwiIGluIGVsZW0gfHwgIWRpc2FibGVkQW5jZXN0b3IoIGVsZW0gKSkgIT09IGRpc2FibGVkXG5cdFx0XHQpO1xuXHR9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgcG9zaXRpb25hbHNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZuICkge1xuXHRyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBhcmd1bWVudCApIHtcblx0XHRhcmd1bWVudCA9ICthcmd1bWVudDtcblx0XHRyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzICkge1xuXHRcdFx0dmFyIGosXG5cdFx0XHRcdG1hdGNoSW5kZXhlcyA9IGZuKCBbXSwgc2VlZC5sZW5ndGgsIGFyZ3VtZW50ICksXG5cdFx0XHRcdGkgPSBtYXRjaEluZGV4ZXMubGVuZ3RoO1xuXG5cdFx0XHQvLyBNYXRjaCBlbGVtZW50cyBmb3VuZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4ZXNcblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRpZiAoIHNlZWRbIChqID0gbWF0Y2hJbmRleGVzW2ldKSBdICkge1xuXHRcdFx0XHRcdHNlZWRbal0gPSAhKG1hdGNoZXNbal0gPSBzZWVkW2pdKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgYSBub2RlIGZvciB2YWxpZGl0eSBhcyBhIFNpenpsZSBjb250ZXh0XG4gKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0PX0gY29udGV4dFxuICogQHJldHVybnMge0VsZW1lbnR8T2JqZWN0fEJvb2xlYW59IFRoZSBpbnB1dCBub2RlIGlmIGFjY2VwdGFibGUsIG90aGVyd2lzZSBhIGZhbHN5IHZhbHVlXG4gKi9cbmZ1bmN0aW9uIHRlc3RDb250ZXh0KCBjb250ZXh0ICkge1xuXHRyZXR1cm4gY29udGV4dCAmJiB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBjb250ZXh0O1xufVxuXG4vLyBFeHBvc2Ugc3VwcG9ydCB2YXJzIGZvciBjb252ZW5pZW5jZVxuc3VwcG9ydCA9IFNpenpsZS5zdXBwb3J0ID0ge307XG5cbi8qKlxuICogRGV0ZWN0cyBYTUwgbm9kZXNcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IGVsZW0gQW4gZWxlbWVudCBvciBhIGRvY3VtZW50XG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZmYgZWxlbSBpcyBhIG5vbi1IVE1MIFhNTCBub2RlXG4gKi9cbmlzWE1MID0gU2l6emxlLmlzWE1MID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdC8vIGRvY3VtZW50RWxlbWVudCBpcyB2ZXJpZmllZCBmb3IgY2FzZXMgd2hlcmUgaXQgZG9lc24ndCB5ZXQgZXhpc3Rcblx0Ly8gKHN1Y2ggYXMgbG9hZGluZyBpZnJhbWVzIGluIElFIC0gIzQ4MzMpXG5cdHZhciBkb2N1bWVudEVsZW1lbnQgPSBlbGVtICYmIChlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSkuZG9jdW1lbnRFbGVtZW50O1xuXHRyZXR1cm4gZG9jdW1lbnRFbGVtZW50ID8gZG9jdW1lbnRFbGVtZW50Lm5vZGVOYW1lICE9PSBcIkhUTUxcIiA6IGZhbHNlO1xufTtcblxuLyoqXG4gKiBTZXRzIGRvY3VtZW50LXJlbGF0ZWQgdmFyaWFibGVzIG9uY2UgYmFzZWQgb24gdGhlIGN1cnJlbnQgZG9jdW1lbnRcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IFtkb2NdIEFuIGVsZW1lbnQgb3IgZG9jdW1lbnQgb2JqZWN0IHRvIHVzZSB0byBzZXQgdGhlIGRvY3VtZW50XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjdXJyZW50IGRvY3VtZW50XG4gKi9cbnNldERvY3VtZW50ID0gU2l6emxlLnNldERvY3VtZW50ID0gZnVuY3Rpb24oIG5vZGUgKSB7XG5cdHZhciBoYXNDb21wYXJlLCBzdWJXaW5kb3csXG5cdFx0ZG9jID0gbm9kZSA/IG5vZGUub3duZXJEb2N1bWVudCB8fCBub2RlIDogcHJlZmVycmVkRG9jO1xuXG5cdC8vIFJldHVybiBlYXJseSBpZiBkb2MgaXMgaW52YWxpZCBvciBhbHJlYWR5IHNlbGVjdGVkXG5cdGlmICggZG9jID09PSBkb2N1bWVudCB8fCBkb2Mubm9kZVR5cGUgIT09IDkgfHwgIWRvYy5kb2N1bWVudEVsZW1lbnQgKSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50O1xuXHR9XG5cblx0Ly8gVXBkYXRlIGdsb2JhbCB2YXJpYWJsZXNcblx0ZG9jdW1lbnQgPSBkb2M7XG5cdGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cdGRvY3VtZW50SXNIVE1MID0gIWlzWE1MKCBkb2N1bWVudCApO1xuXG5cdC8vIFN1cHBvcnQ6IElFIDktMTEsIEVkZ2Vcblx0Ly8gQWNjZXNzaW5nIGlmcmFtZSBkb2N1bWVudHMgYWZ0ZXIgdW5sb2FkIHRocm93cyBcInBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3JzIChqUXVlcnkgIzEzOTM2KVxuXHRpZiAoIHByZWZlcnJlZERvYyAhPT0gZG9jdW1lbnQgJiZcblx0XHQoc3ViV2luZG93ID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcpICYmIHN1YldpbmRvdy50b3AgIT09IHN1YldpbmRvdyApIHtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDExLCBFZGdlXG5cdFx0aWYgKCBzdWJXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lciApIHtcblx0XHRcdHN1YldpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBcInVubG9hZFwiLCB1bmxvYWRIYW5kbGVyLCBmYWxzZSApO1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgOSAtIDEwIG9ubHlcblx0XHR9IGVsc2UgaWYgKCBzdWJXaW5kb3cuYXR0YWNoRXZlbnQgKSB7XG5cdFx0XHRzdWJXaW5kb3cuYXR0YWNoRXZlbnQoIFwib251bmxvYWRcIiwgdW5sb2FkSGFuZGxlciApO1xuXHRcdH1cblx0fVxuXG5cdC8qIEF0dHJpYnV0ZXNcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIFN1cHBvcnQ6IElFPDhcblx0Ly8gVmVyaWZ5IHRoYXQgZ2V0QXR0cmlidXRlIHJlYWxseSByZXR1cm5zIGF0dHJpYnV0ZXMgYW5kIG5vdCBwcm9wZXJ0aWVzXG5cdC8vIChleGNlcHRpbmcgSUU4IGJvb2xlYW5zKVxuXHRzdXBwb3J0LmF0dHJpYnV0ZXMgPSBhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRcdGVsLmNsYXNzTmFtZSA9IFwiaVwiO1xuXHRcdHJldHVybiAhZWwuZ2V0QXR0cmlidXRlKFwiY2xhc3NOYW1lXCIpO1xuXHR9KTtcblxuXHQvKiBnZXRFbGVtZW50KHMpQnkqXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBDaGVjayBpZiBnZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikgcmV0dXJucyBvbmx5IGVsZW1lbnRzXG5cdHN1cHBvcnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgPSBhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRcdGVsLmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVDb21tZW50KFwiXCIpICk7XG5cdFx0cmV0dXJuICFlbC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikubGVuZ3RoO1xuXHR9KTtcblxuXHQvLyBTdXBwb3J0OiBJRTw5XG5cdHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSA9IHJuYXRpdmUudGVzdCggZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSApO1xuXG5cdC8vIFN1cHBvcnQ6IElFPDEwXG5cdC8vIENoZWNrIGlmIGdldEVsZW1lbnRCeUlkIHJldHVybnMgZWxlbWVudHMgYnkgbmFtZVxuXHQvLyBUaGUgYnJva2VuIGdldEVsZW1lbnRCeUlkIG1ldGhvZHMgZG9uJ3QgcGljayB1cCBwcm9ncmFtbWF0aWNhbGx5LXNldCBuYW1lcyxcblx0Ly8gc28gdXNlIGEgcm91bmRhYm91dCBnZXRFbGVtZW50c0J5TmFtZSB0ZXN0XG5cdHN1cHBvcnQuZ2V0QnlJZCA9IGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5pZCA9IGV4cGFuZG87XG5cdFx0cmV0dXJuICFkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSB8fCAhZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIGV4cGFuZG8gKS5sZW5ndGg7XG5cdH0pO1xuXG5cdC8vIElEIGZpbmQgYW5kIGZpbHRlclxuXHRpZiAoIHN1cHBvcnQuZ2V0QnlJZCApIHtcblx0XHRFeHByLmZpbmRbXCJJRFwiXSA9IGZ1bmN0aW9uKCBpZCwgY29udGV4dCApIHtcblx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnRJc0hUTUwgKSB7XG5cdFx0XHRcdHZhciBtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggaWQgKTtcblx0XHRcdFx0cmV0dXJuIG0gPyBbIG0gXSA6IFtdO1xuXHRcdFx0fVxuXHRcdH07XG5cdFx0RXhwci5maWx0ZXJbXCJJRFwiXSA9IGZ1bmN0aW9uKCBpZCApIHtcblx0XHRcdHZhciBhdHRySWQgPSBpZC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoXCJpZFwiKSA9PT0gYXR0cklkO1xuXHRcdFx0fTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdC8vIFN1cHBvcnQ6IElFNi83XG5cdFx0Ly8gZ2V0RWxlbWVudEJ5SWQgaXMgbm90IHJlbGlhYmxlIGFzIGEgZmluZCBzaG9ydGN1dFxuXHRcdGRlbGV0ZSBFeHByLmZpbmRbXCJJRFwiXTtcblxuXHRcdEV4cHIuZmlsdGVyW1wiSURcIl0gPSAgZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciBub2RlID0gdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlTm9kZSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuXHRcdFx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO1xuXHRcdFx0XHRyZXR1cm4gbm9kZSAmJiBub2RlLnZhbHVlID09PSBhdHRySWQ7XG5cdFx0XHR9O1xuXHRcdH07XG5cdH1cblxuXHQvLyBUYWdcblx0RXhwci5maW5kW1wiVEFHXCJdID0gc3VwcG9ydC5nZXRFbGVtZW50c0J5VGFnTmFtZSA/XG5cdFx0ZnVuY3Rpb24oIHRhZywgY29udGV4dCApIHtcblx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgKTtcblxuXHRcdFx0Ly8gRG9jdW1lbnRGcmFnbWVudCBub2RlcyBkb24ndCBoYXZlIGdFQlROXG5cdFx0XHR9IGVsc2UgaWYgKCBzdXBwb3J0LnFzYSApIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCggdGFnICk7XG5cdFx0XHR9XG5cdFx0fSA6XG5cblx0XHRmdW5jdGlvbiggdGFnLCBjb250ZXh0ICkge1xuXHRcdFx0dmFyIGVsZW0sXG5cdFx0XHRcdHRtcCA9IFtdLFxuXHRcdFx0XHRpID0gMCxcblx0XHRcdFx0Ly8gQnkgaGFwcHkgY29pbmNpZGVuY2UsIGEgKGJyb2tlbikgZ0VCVE4gYXBwZWFycyBvbiBEb2N1bWVudEZyYWdtZW50IG5vZGVzIHRvb1xuXHRcdFx0XHRyZXN1bHRzID0gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnICk7XG5cblx0XHRcdC8vIEZpbHRlciBvdXQgcG9zc2libGUgY29tbWVudHNcblx0XHRcdGlmICggdGFnID09PSBcIipcIiApIHtcblx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IHJlc3VsdHNbaSsrXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0XHRcdFx0dG1wLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdG1wO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0fTtcblxuXHQvLyBDbGFzc1xuXHRFeHByLmZpbmRbXCJDTEFTU1wiXSA9IHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAmJiBmdW5jdGlvbiggY2xhc3NOYW1lLCBjb250ZXh0ICkge1xuXHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudElzSFRNTCApIHtcblx0XHRcdHJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIGNsYXNzTmFtZSApO1xuXHRcdH1cblx0fTtcblxuXHQvKiBRU0EvbWF0Y2hlc1NlbGVjdG9yXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBRU0EgYW5kIG1hdGNoZXNTZWxlY3RvciBzdXBwb3J0XG5cblx0Ly8gbWF0Y2hlc1NlbGVjdG9yKDphY3RpdmUpIHJlcG9ydHMgZmFsc2Ugd2hlbiB0cnVlIChJRTkvT3BlcmEgMTEuNSlcblx0cmJ1Z2d5TWF0Y2hlcyA9IFtdO1xuXG5cdC8vIHFTYSg6Zm9jdXMpIHJlcG9ydHMgZmFsc2Ugd2hlbiB0cnVlIChDaHJvbWUgMjEpXG5cdC8vIFdlIGFsbG93IHRoaXMgYmVjYXVzZSBvZiBhIGJ1ZyBpbiBJRTgvOSB0aGF0IHRocm93cyBhbiBlcnJvclxuXHQvLyB3aGVuZXZlciBgZG9jdW1lbnQuYWN0aXZlRWxlbWVudGAgaXMgYWNjZXNzZWQgb24gYW4gaWZyYW1lXG5cdC8vIFNvLCB3ZSBhbGxvdyA6Zm9jdXMgdG8gcGFzcyB0aHJvdWdoIFFTQSBhbGwgdGhlIHRpbWUgdG8gYXZvaWQgdGhlIElFIGVycm9yXG5cdC8vIFNlZSBodHRwczovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTMzNzhcblx0cmJ1Z2d5UVNBID0gW107XG5cblx0aWYgKCAoc3VwcG9ydC5xc2EgPSBybmF0aXZlLnRlc3QoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwgKSkgKSB7XG5cdFx0Ly8gQnVpbGQgUVNBIHJlZ2V4XG5cdFx0Ly8gUmVnZXggc3RyYXRlZ3kgYWRvcHRlZCBmcm9tIERpZWdvIFBlcmluaVxuXHRcdGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0XHQvLyBTZWxlY3QgaXMgc2V0IHRvIGVtcHR5IHN0cmluZyBvbiBwdXJwb3NlXG5cdFx0XHQvLyBUaGlzIGlzIHRvIHRlc3QgSUUncyB0cmVhdG1lbnQgb2Ygbm90IGV4cGxpY2l0bHlcblx0XHRcdC8vIHNldHRpbmcgYSBib29sZWFuIGNvbnRlbnQgYXR0cmlidXRlLFxuXHRcdFx0Ly8gc2luY2UgaXRzIHByZXNlbmNlIHNob3VsZCBiZSBlbm91Z2hcblx0XHRcdC8vIGh0dHBzOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMjM1OVxuXHRcdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5pbm5lckhUTUwgPSBcIjxhIGlkPSdcIiArIGV4cGFuZG8gKyBcIic+PC9hPlwiICtcblx0XHRcdFx0XCI8c2VsZWN0IGlkPSdcIiArIGV4cGFuZG8gKyBcIi1cXHJcXFxcJyBtc2FsbG93Y2FwdHVyZT0nJz5cIiArXG5cdFx0XHRcdFwiPG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD5cIjtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU4LCBPcGVyYSAxMS0xMi4xNlxuXHRcdFx0Ly8gTm90aGluZyBzaG91bGQgYmUgc2VsZWN0ZWQgd2hlbiBlbXB0eSBzdHJpbmdzIGZvbGxvdyBePSBvciAkPSBvciAqPVxuXHRcdFx0Ly8gVGhlIHRlc3QgYXR0cmlidXRlIG11c3QgYmUgdW5rbm93biBpbiBPcGVyYSBidXQgXCJzYWZlXCIgZm9yIFdpblJUXG5cdFx0XHQvLyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2hoNDY1Mzg4LmFzcHgjYXR0cmlidXRlX3NlY3Rpb25cblx0XHRcdGlmICggZWwucXVlcnlTZWxlY3RvckFsbChcIlttc2FsbG93Y2FwdHVyZV49JyddXCIpLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiWypeJF09XCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86Jyd8XFxcIlxcXCIpXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU4XG5cdFx0XHQvLyBCb29sZWFuIGF0dHJpYnV0ZXMgYW5kIFwidmFsdWVcIiBhcmUgbm90IHRyZWF0ZWQgY29ycmVjdGx5XG5cdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKFwiW3NlbGVjdGVkXVwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIlxcXFxbXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86dmFsdWV8XCIgKyBib29sZWFucyArIFwiKVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZTwyOSwgQW5kcm9pZDw0LjQsIFNhZmFyaTw3LjArLCBpT1M8Ny4wKywgUGhhbnRvbUpTPDEuOS44K1xuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggXCJbaWR+PVwiICsgZXhwYW5kbyArIFwiLV1cIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCJ+PVwiKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gV2Via2l0L09wZXJhIC0gOmNoZWNrZWQgc2hvdWxkIHJldHVybiBzZWxlY3RlZCBvcHRpb24gZWxlbWVudHNcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXG5cdFx0XHQvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0c1xuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbChcIjpjaGVja2VkXCIpLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCI6Y2hlY2tlZFwiKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogU2FmYXJpIDgrLCBpT1MgOCtcblx0XHRcdC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzY4NTFcblx0XHRcdC8vIEluLXBhZ2UgYHNlbGVjdG9yI2lkIHNpYmxpbmctY29tYmluYXRvciBzZWxlY3RvcmAgZmFpbHNcblx0XHRcdGlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiYSNcIiArIGV4cGFuZG8gKyBcIisqXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKFwiLiMuK1srfl1cIik7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRcdFx0ZWwuaW5uZXJIVE1MID0gXCI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPlwiICtcblx0XHRcdFx0XCI8c2VsZWN0IGRpc2FibGVkPSdkaXNhYmxlZCc+PG9wdGlvbi8+PC9zZWxlY3Q+XCI7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IFdpbmRvd3MgOCBOYXRpdmUgQXBwc1xuXHRcdFx0Ly8gVGhlIHR5cGUgYW5kIG5hbWUgYXR0cmlidXRlcyBhcmUgcmVzdHJpY3RlZCBkdXJpbmcgLmlubmVySFRNTCBhc3NpZ25tZW50XG5cdFx0XHR2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG5cdFx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCBcImhpZGRlblwiICk7XG5cdFx0XHRlbC5hcHBlbmRDaGlsZCggaW5wdXQgKS5zZXRBdHRyaWJ1dGUoIFwibmFtZVwiLCBcIkRcIiApO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRThcblx0XHRcdC8vIEVuZm9yY2UgY2FzZS1zZW5zaXRpdml0eSBvZiBuYW1lIGF0dHJpYnV0ZVxuXHRcdFx0aWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKFwiW25hbWU9ZF1cIikubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJuYW1lXCIgKyB3aGl0ZXNwYWNlICsgXCIqWypeJHwhfl0/PVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEZGIDMuNSAtIDplbmFibGVkLzpkaXNhYmxlZCBhbmQgaGlkZGVuIGVsZW1lbnRzIChoaWRkZW4gZWxlbWVudHMgYXJlIHN0aWxsIGVuYWJsZWQpXG5cdFx0XHQvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0c1xuXHRcdFx0aWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKFwiOmVuYWJsZWRcIikubGVuZ3RoICE9PSAyICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCI6ZW5hYmxlZFwiLCBcIjpkaXNhYmxlZFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOS0xMStcblx0XHRcdC8vIElFJ3MgOmRpc2FibGVkIHNlbGVjdG9yIGRvZXMgbm90IHBpY2sgdXAgdGhlIGNoaWxkcmVuIG9mIGRpc2FibGVkIGZpZWxkc2V0c1xuXHRcdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5kaXNhYmxlZCA9IHRydWU7XG5cdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZGlzYWJsZWRcIikubGVuZ3RoICE9PSAyICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCI6ZW5hYmxlZFwiLCBcIjpkaXNhYmxlZFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE9wZXJhIDEwLTExIGRvZXMgbm90IHRocm93IG9uIHBvc3QtY29tbWEgaW52YWxpZCBwc2V1ZG9zXG5cdFx0XHRlbC5xdWVyeVNlbGVjdG9yQWxsKFwiKiw6eFwiKTtcblx0XHRcdHJidWdneVFTQS5wdXNoKFwiLC4qOlwiKTtcblx0XHR9KTtcblx0fVxuXG5cdGlmICggKHN1cHBvcnQubWF0Y2hlc1NlbGVjdG9yID0gcm5hdGl2ZS50ZXN0KCAobWF0Y2hlcyA9IGRvY0VsZW0ubWF0Y2hlcyB8fFxuXHRcdGRvY0VsZW0ud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XG5cdFx0ZG9jRWxlbS5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm9NYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm1zTWF0Y2hlc1NlbGVjdG9yKSApKSApIHtcblxuXHRcdGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0XHQvLyBDaGVjayB0byBzZWUgaWYgaXQncyBwb3NzaWJsZSB0byBkbyBtYXRjaGVzU2VsZWN0b3Jcblx0XHRcdC8vIG9uIGEgZGlzY29ubmVjdGVkIG5vZGUgKElFIDkpXG5cdFx0XHRzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoID0gbWF0Y2hlcy5jYWxsKCBlbCwgXCIqXCIgKTtcblxuXHRcdFx0Ly8gVGhpcyBzaG91bGQgZmFpbCB3aXRoIGFuIGV4Y2VwdGlvblxuXHRcdFx0Ly8gR2Vja28gZG9lcyBub3QgZXJyb3IsIHJldHVybnMgZmFsc2UgaW5zdGVhZFxuXHRcdFx0bWF0Y2hlcy5jYWxsKCBlbCwgXCJbcyE9JyddOnhcIiApO1xuXHRcdFx0cmJ1Z2d5TWF0Y2hlcy5wdXNoKCBcIiE9XCIsIHBzZXVkb3MgKTtcblx0XHR9KTtcblx0fVxuXG5cdHJidWdneVFTQSA9IHJidWdneVFTQS5sZW5ndGggJiYgbmV3IFJlZ0V4cCggcmJ1Z2d5UVNBLmpvaW4oXCJ8XCIpICk7XG5cdHJidWdneU1hdGNoZXMgPSByYnVnZ3lNYXRjaGVzLmxlbmd0aCAmJiBuZXcgUmVnRXhwKCByYnVnZ3lNYXRjaGVzLmpvaW4oXCJ8XCIpICk7XG5cblx0LyogQ29udGFpbnNcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXHRoYXNDb21wYXJlID0gcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICk7XG5cblx0Ly8gRWxlbWVudCBjb250YWlucyBhbm90aGVyXG5cdC8vIFB1cnBvc2VmdWxseSBzZWxmLWV4Y2x1c2l2ZVxuXHQvLyBBcyBpbiwgYW4gZWxlbWVudCBkb2VzIG5vdCBjb250YWluIGl0c2VsZlxuXHRjb250YWlucyA9IGhhc0NvbXBhcmUgfHwgcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbnRhaW5zICkgP1xuXHRcdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdFx0dmFyIGFkb3duID0gYS5ub2RlVHlwZSA9PT0gOSA/IGEuZG9jdW1lbnRFbGVtZW50IDogYSxcblx0XHRcdFx0YnVwID0gYiAmJiBiLnBhcmVudE5vZGU7XG5cdFx0XHRyZXR1cm4gYSA9PT0gYnVwIHx8ICEhKCBidXAgJiYgYnVwLm5vZGVUeXBlID09PSAxICYmIChcblx0XHRcdFx0YWRvd24uY29udGFpbnMgP1xuXHRcdFx0XHRcdGFkb3duLmNvbnRhaW5zKCBidXAgKSA6XG5cdFx0XHRcdFx0YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAmJiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBidXAgKSAmIDE2XG5cdFx0XHQpKTtcblx0XHR9IDpcblx0XHRmdW5jdGlvbiggYSwgYiApIHtcblx0XHRcdGlmICggYiApIHtcblx0XHRcdFx0d2hpbGUgKCAoYiA9IGIucGFyZW50Tm9kZSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBiID09PSBhICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fTtcblxuXHQvKiBTb3J0aW5nXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBEb2N1bWVudCBvcmRlciBzb3J0aW5nXG5cdHNvcnRPcmRlciA9IGhhc0NvbXBhcmUgP1xuXHRmdW5jdGlvbiggYSwgYiApIHtcblxuXHRcdC8vIEZsYWcgZm9yIGR1cGxpY2F0ZSByZW1vdmFsXG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdC8vIFNvcnQgb24gbWV0aG9kIGV4aXN0ZW5jZSBpZiBvbmx5IG9uZSBpbnB1dCBoYXMgY29tcGFyZURvY3VtZW50UG9zaXRpb25cblx0XHR2YXIgY29tcGFyZSA9ICFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIC0gIWIuY29tcGFyZURvY3VtZW50UG9zaXRpb247XG5cdFx0aWYgKCBjb21wYXJlICkge1xuXHRcdFx0cmV0dXJuIGNvbXBhcmU7XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsY3VsYXRlIHBvc2l0aW9uIGlmIGJvdGggaW5wdXRzIGJlbG9uZyB0byB0aGUgc2FtZSBkb2N1bWVudFxuXHRcdGNvbXBhcmUgPSAoIGEub3duZXJEb2N1bWVudCB8fCBhICkgPT09ICggYi5vd25lckRvY3VtZW50IHx8IGIgKSA/XG5cdFx0XHRhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBiICkgOlxuXG5cdFx0XHQvLyBPdGhlcndpc2Ugd2Uga25vdyB0aGV5IGFyZSBkaXNjb25uZWN0ZWRcblx0XHRcdDE7XG5cblx0XHQvLyBEaXNjb25uZWN0ZWQgbm9kZXNcblx0XHRpZiAoIGNvbXBhcmUgJiAxIHx8XG5cdFx0XHQoIXN1cHBvcnQuc29ydERldGFjaGVkICYmIGIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGEgKSA9PT0gY29tcGFyZSkgKSB7XG5cblx0XHRcdC8vIENob29zZSB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IGlzIHJlbGF0ZWQgdG8gb3VyIHByZWZlcnJlZCBkb2N1bWVudFxuXHRcdFx0aWYgKCBhID09PSBkb2N1bWVudCB8fCBhLm93bmVyRG9jdW1lbnQgPT09IHByZWZlcnJlZERvYyAmJiBjb250YWlucyhwcmVmZXJyZWREb2MsIGEpICkge1xuXHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGIgPT09IGRvY3VtZW50IHx8IGIub3duZXJEb2N1bWVudCA9PT0gcHJlZmVycmVkRG9jICYmIGNvbnRhaW5zKHByZWZlcnJlZERvYywgYikgKSB7XG5cdFx0XHRcdHJldHVybiAxO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYWludGFpbiBvcmlnaW5hbCBvcmRlclxuXHRcdFx0cmV0dXJuIHNvcnRJbnB1dCA/XG5cdFx0XHRcdCggaW5kZXhPZiggc29ydElucHV0LCBhICkgLSBpbmRleE9mKCBzb3J0SW5wdXQsIGIgKSApIDpcblx0XHRcdFx0MDtcblx0XHR9XG5cblx0XHRyZXR1cm4gY29tcGFyZSAmIDQgPyAtMSA6IDE7XG5cdH0gOlxuXHRmdW5jdGlvbiggYSwgYiApIHtcblx0XHQvLyBFeGl0IGVhcmx5IGlmIHRoZSBub2RlcyBhcmUgaWRlbnRpY2FsXG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdHZhciBjdXIsXG5cdFx0XHRpID0gMCxcblx0XHRcdGF1cCA9IGEucGFyZW50Tm9kZSxcblx0XHRcdGJ1cCA9IGIucGFyZW50Tm9kZSxcblx0XHRcdGFwID0gWyBhIF0sXG5cdFx0XHRicCA9IFsgYiBdO1xuXG5cdFx0Ly8gUGFyZW50bGVzcyBub2RlcyBhcmUgZWl0aGVyIGRvY3VtZW50cyBvciBkaXNjb25uZWN0ZWRcblx0XHRpZiAoICFhdXAgfHwgIWJ1cCApIHtcblx0XHRcdHJldHVybiBhID09PSBkb2N1bWVudCA/IC0xIDpcblx0XHRcdFx0YiA9PT0gZG9jdW1lbnQgPyAxIDpcblx0XHRcdFx0YXVwID8gLTEgOlxuXHRcdFx0XHRidXAgPyAxIDpcblx0XHRcdFx0c29ydElucHV0ID9cblx0XHRcdFx0KCBpbmRleE9mKCBzb3J0SW5wdXQsIGEgKSAtIGluZGV4T2YoIHNvcnRJbnB1dCwgYiApICkgOlxuXHRcdFx0XHQwO1xuXG5cdFx0Ly8gSWYgdGhlIG5vZGVzIGFyZSBzaWJsaW5ncywgd2UgY2FuIGRvIGEgcXVpY2sgY2hlY2tcblx0XHR9IGVsc2UgaWYgKCBhdXAgPT09IGJ1cCApIHtcblx0XHRcdHJldHVybiBzaWJsaW5nQ2hlY2soIGEsIGIgKTtcblx0XHR9XG5cblx0XHQvLyBPdGhlcndpc2Ugd2UgbmVlZCBmdWxsIGxpc3RzIG9mIHRoZWlyIGFuY2VzdG9ycyBmb3IgY29tcGFyaXNvblxuXHRcdGN1ciA9IGE7XG5cdFx0d2hpbGUgKCAoY3VyID0gY3VyLnBhcmVudE5vZGUpICkge1xuXHRcdFx0YXAudW5zaGlmdCggY3VyICk7XG5cdFx0fVxuXHRcdGN1ciA9IGI7XG5cdFx0d2hpbGUgKCAoY3VyID0gY3VyLnBhcmVudE5vZGUpICkge1xuXHRcdFx0YnAudW5zaGlmdCggY3VyICk7XG5cdFx0fVxuXG5cdFx0Ly8gV2FsayBkb3duIHRoZSB0cmVlIGxvb2tpbmcgZm9yIGEgZGlzY3JlcGFuY3lcblx0XHR3aGlsZSAoIGFwW2ldID09PSBicFtpXSApIHtcblx0XHRcdGkrKztcblx0XHR9XG5cblx0XHRyZXR1cm4gaSA/XG5cdFx0XHQvLyBEbyBhIHNpYmxpbmcgY2hlY2sgaWYgdGhlIG5vZGVzIGhhdmUgYSBjb21tb24gYW5jZXN0b3Jcblx0XHRcdHNpYmxpbmdDaGVjayggYXBbaV0sIGJwW2ldICkgOlxuXG5cdFx0XHQvLyBPdGhlcndpc2Ugbm9kZXMgaW4gb3VyIGRvY3VtZW50IHNvcnQgZmlyc3Rcblx0XHRcdGFwW2ldID09PSBwcmVmZXJyZWREb2MgPyAtMSA6XG5cdFx0XHRicFtpXSA9PT0gcHJlZmVycmVkRG9jID8gMSA6XG5cdFx0XHQwO1xuXHR9O1xuXG5cdHJldHVybiBkb2N1bWVudDtcbn07XG5cblNpenpsZS5tYXRjaGVzID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1lbnRzICkge1xuXHRyZXR1cm4gU2l6emxlKCBleHByLCBudWxsLCBudWxsLCBlbGVtZW50cyApO1xufTtcblxuU2l6emxlLm1hdGNoZXNTZWxlY3RvciA9IGZ1bmN0aW9uKCBlbGVtLCBleHByICkge1xuXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0aWYgKCAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtICkgIT09IGRvY3VtZW50ICkge1xuXHRcdHNldERvY3VtZW50KCBlbGVtICk7XG5cdH1cblxuXHQvLyBNYWtlIHN1cmUgdGhhdCBhdHRyaWJ1dGUgc2VsZWN0b3JzIGFyZSBxdW90ZWRcblx0ZXhwciA9IGV4cHIucmVwbGFjZSggcmF0dHJpYnV0ZVF1b3RlcywgXCI9JyQxJ11cIiApO1xuXG5cdGlmICggc3VwcG9ydC5tYXRjaGVzU2VsZWN0b3IgJiYgZG9jdW1lbnRJc0hUTUwgJiZcblx0XHQhY29tcGlsZXJDYWNoZVsgZXhwciArIFwiIFwiIF0gJiZcblx0XHQoICFyYnVnZ3lNYXRjaGVzIHx8ICFyYnVnZ3lNYXRjaGVzLnRlc3QoIGV4cHIgKSApICYmXG5cdFx0KCAhcmJ1Z2d5UVNBICAgICB8fCAhcmJ1Z2d5UVNBLnRlc3QoIGV4cHIgKSApICkge1xuXG5cdFx0dHJ5IHtcblx0XHRcdHZhciByZXQgPSBtYXRjaGVzLmNhbGwoIGVsZW0sIGV4cHIgKTtcblxuXHRcdFx0Ly8gSUUgOSdzIG1hdGNoZXNTZWxlY3RvciByZXR1cm5zIGZhbHNlIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xuXHRcdFx0aWYgKCByZXQgfHwgc3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaCB8fFxuXHRcdFx0XHRcdC8vIEFzIHdlbGwsIGRpc2Nvbm5lY3RlZCBub2RlcyBhcmUgc2FpZCB0byBiZSBpbiBhIGRvY3VtZW50XG5cdFx0XHRcdFx0Ly8gZnJhZ21lbnQgaW4gSUUgOVxuXHRcdFx0XHRcdGVsZW0uZG9jdW1lbnQgJiYgZWxlbS5kb2N1bWVudC5ub2RlVHlwZSAhPT0gMTEgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZSkge31cblx0fVxuXG5cdHJldHVybiBTaXp6bGUoIGV4cHIsIGRvY3VtZW50LCBudWxsLCBbIGVsZW0gXSApLmxlbmd0aCA+IDA7XG59O1xuXG5TaXp6bGUuY29udGFpbnMgPSBmdW5jdGlvbiggY29udGV4dCwgZWxlbSApIHtcblx0Ly8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG5cdGlmICggKCBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCApICE9PSBkb2N1bWVudCApIHtcblx0XHRzZXREb2N1bWVudCggY29udGV4dCApO1xuXHR9XG5cdHJldHVybiBjb250YWlucyggY29udGV4dCwgZWxlbSApO1xufTtcblxuU2l6emxlLmF0dHIgPSBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcblx0Ly8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG5cdGlmICggKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSApICE9PSBkb2N1bWVudCApIHtcblx0XHRzZXREb2N1bWVudCggZWxlbSApO1xuXHR9XG5cblx0dmFyIGZuID0gRXhwci5hdHRySGFuZGxlWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSxcblx0XHQvLyBEb24ndCBnZXQgZm9vbGVkIGJ5IE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAoalF1ZXJ5ICMxMzgwNylcblx0XHR2YWwgPSBmbiAmJiBoYXNPd24uY2FsbCggRXhwci5hdHRySGFuZGxlLCBuYW1lLnRvTG93ZXJDYXNlKCkgKSA/XG5cdFx0XHRmbiggZWxlbSwgbmFtZSwgIWRvY3VtZW50SXNIVE1MICkgOlxuXHRcdFx0dW5kZWZpbmVkO1xuXG5cdHJldHVybiB2YWwgIT09IHVuZGVmaW5lZCA/XG5cdFx0dmFsIDpcblx0XHRzdXBwb3J0LmF0dHJpYnV0ZXMgfHwgIWRvY3VtZW50SXNIVE1MID9cblx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lICkgOlxuXHRcdFx0KHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZShuYW1lKSkgJiYgdmFsLnNwZWNpZmllZCA/XG5cdFx0XHRcdHZhbC52YWx1ZSA6XG5cdFx0XHRcdG51bGw7XG59O1xuXG5TaXp6bGUuZXNjYXBlID0gZnVuY3Rpb24oIHNlbCApIHtcblx0cmV0dXJuIChzZWwgKyBcIlwiKS5yZXBsYWNlKCByY3NzZXNjYXBlLCBmY3NzZXNjYXBlICk7XG59O1xuXG5TaXp6bGUuZXJyb3IgPSBmdW5jdGlvbiggbXNnICkge1xuXHR0aHJvdyBuZXcgRXJyb3IoIFwiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogXCIgKyBtc2cgKTtcbn07XG5cbi8qKlxuICogRG9jdW1lbnQgc29ydGluZyBhbmQgcmVtb3ZpbmcgZHVwbGljYXRlc1xuICogQHBhcmFtIHtBcnJheUxpa2V9IHJlc3VsdHNcbiAqL1xuU2l6emxlLnVuaXF1ZVNvcnQgPSBmdW5jdGlvbiggcmVzdWx0cyApIHtcblx0dmFyIGVsZW0sXG5cdFx0ZHVwbGljYXRlcyA9IFtdLFxuXHRcdGogPSAwLFxuXHRcdGkgPSAwO1xuXG5cdC8vIFVubGVzcyB3ZSAqa25vdyogd2UgY2FuIGRldGVjdCBkdXBsaWNhdGVzLCBhc3N1bWUgdGhlaXIgcHJlc2VuY2Vcblx0aGFzRHVwbGljYXRlID0gIXN1cHBvcnQuZGV0ZWN0RHVwbGljYXRlcztcblx0c29ydElucHV0ID0gIXN1cHBvcnQuc29ydFN0YWJsZSAmJiByZXN1bHRzLnNsaWNlKCAwICk7XG5cdHJlc3VsdHMuc29ydCggc29ydE9yZGVyICk7XG5cblx0aWYgKCBoYXNEdXBsaWNhdGUgKSB7XG5cdFx0d2hpbGUgKCAoZWxlbSA9IHJlc3VsdHNbaSsrXSkgKSB7XG5cdFx0XHRpZiAoIGVsZW0gPT09IHJlc3VsdHNbIGkgXSApIHtcblx0XHRcdFx0aiA9IGR1cGxpY2F0ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdHJlc3VsdHMuc3BsaWNlKCBkdXBsaWNhdGVzWyBqIF0sIDEgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBDbGVhciBpbnB1dCBhZnRlciBzb3J0aW5nIHRvIHJlbGVhc2Ugb2JqZWN0c1xuXHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9zaXp6bGUvcHVsbC8yMjVcblx0c29ydElucHV0ID0gbnVsbDtcblxuXHRyZXR1cm4gcmVzdWx0cztcbn07XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiBmb3IgcmV0cmlldmluZyB0aGUgdGV4dCB2YWx1ZSBvZiBhbiBhcnJheSBvZiBET00gbm9kZXNcbiAqIEBwYXJhbSB7QXJyYXl8RWxlbWVudH0gZWxlbVxuICovXG5nZXRUZXh0ID0gU2l6emxlLmdldFRleHQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0dmFyIG5vZGUsXG5cdFx0cmV0ID0gXCJcIixcblx0XHRpID0gMCxcblx0XHRub2RlVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cblx0aWYgKCAhbm9kZVR5cGUgKSB7XG5cdFx0Ly8gSWYgbm8gbm9kZVR5cGUsIHRoaXMgaXMgZXhwZWN0ZWQgdG8gYmUgYW4gYXJyYXlcblx0XHR3aGlsZSAoIChub2RlID0gZWxlbVtpKytdKSApIHtcblx0XHRcdC8vIERvIG5vdCB0cmF2ZXJzZSBjb21tZW50IG5vZGVzXG5cdFx0XHRyZXQgKz0gZ2V0VGV4dCggbm9kZSApO1xuXHRcdH1cblx0fSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDEgfHwgbm9kZVR5cGUgPT09IDkgfHwgbm9kZVR5cGUgPT09IDExICkge1xuXHRcdC8vIFVzZSB0ZXh0Q29udGVudCBmb3IgZWxlbWVudHNcblx0XHQvLyBpbm5lclRleHQgdXNhZ2UgcmVtb3ZlZCBmb3IgY29uc2lzdGVuY3kgb2YgbmV3IGxpbmVzIChqUXVlcnkgIzExMTUzKVxuXHRcdGlmICggdHlwZW9mIGVsZW0udGV4dENvbnRlbnQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS50ZXh0Q29udGVudDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gVHJhdmVyc2UgaXRzIGNoaWxkcmVuXG5cdFx0XHRmb3IgKCBlbGVtID0gZWxlbS5maXJzdENoaWxkOyBlbGVtOyBlbGVtID0gZWxlbS5uZXh0U2libGluZyApIHtcblx0XHRcdFx0cmV0ICs9IGdldFRleHQoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSBpZiAoIG5vZGVUeXBlID09PSAzIHx8IG5vZGVUeXBlID09PSA0ICkge1xuXHRcdHJldHVybiBlbGVtLm5vZGVWYWx1ZTtcblx0fVxuXHQvLyBEbyBub3QgaW5jbHVkZSBjb21tZW50IG9yIHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24gbm9kZXNcblxuXHRyZXR1cm4gcmV0O1xufTtcblxuRXhwciA9IFNpenpsZS5zZWxlY3RvcnMgPSB7XG5cblx0Ly8gQ2FuIGJlIGFkanVzdGVkIGJ5IHRoZSB1c2VyXG5cdGNhY2hlTGVuZ3RoOiA1MCxcblxuXHRjcmVhdGVQc2V1ZG86IG1hcmtGdW5jdGlvbixcblxuXHRtYXRjaDogbWF0Y2hFeHByLFxuXG5cdGF0dHJIYW5kbGU6IHt9LFxuXG5cdGZpbmQ6IHt9LFxuXG5cdHJlbGF0aXZlOiB7XG5cdFx0XCI+XCI6IHsgZGlyOiBcInBhcmVudE5vZGVcIiwgZmlyc3Q6IHRydWUgfSxcblx0XHRcIiBcIjogeyBkaXI6IFwicGFyZW50Tm9kZVwiIH0sXG5cdFx0XCIrXCI6IHsgZGlyOiBcInByZXZpb3VzU2libGluZ1wiLCBmaXJzdDogdHJ1ZSB9LFxuXHRcdFwiflwiOiB7IGRpcjogXCJwcmV2aW91c1NpYmxpbmdcIiB9XG5cdH0sXG5cblx0cHJlRmlsdGVyOiB7XG5cdFx0XCJBVFRSXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcblx0XHRcdG1hdGNoWzFdID0gbWF0Y2hbMV0ucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblxuXHRcdFx0Ly8gTW92ZSB0aGUgZ2l2ZW4gdmFsdWUgdG8gbWF0Y2hbM10gd2hldGhlciBxdW90ZWQgb3IgdW5xdW90ZWRcblx0XHRcdG1hdGNoWzNdID0gKCBtYXRjaFszXSB8fCBtYXRjaFs0XSB8fCBtYXRjaFs1XSB8fCBcIlwiICkucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblxuXHRcdFx0aWYgKCBtYXRjaFsyXSA9PT0gXCJ+PVwiICkge1xuXHRcdFx0XHRtYXRjaFszXSA9IFwiIFwiICsgbWF0Y2hbM10gKyBcIiBcIjtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG1hdGNoLnNsaWNlKCAwLCA0ICk7XG5cdFx0fSxcblxuXHRcdFwiQ0hJTERcIjogZnVuY3Rpb24oIG1hdGNoICkge1xuXHRcdFx0LyogbWF0Y2hlcyBmcm9tIG1hdGNoRXhwcltcIkNISUxEXCJdXG5cdFx0XHRcdDEgdHlwZSAob25seXxudGh8Li4uKVxuXHRcdFx0XHQyIHdoYXQgKGNoaWxkfG9mLXR5cGUpXG5cdFx0XHRcdDMgYXJndW1lbnQgKGV2ZW58b2RkfFxcZCp8XFxkKm4oWystXVxcZCspP3wuLi4pXG5cdFx0XHRcdDQgeG4tY29tcG9uZW50IG9mIHhuK3kgYXJndW1lbnQgKFsrLV0/XFxkKm58KVxuXHRcdFx0XHQ1IHNpZ24gb2YgeG4tY29tcG9uZW50XG5cdFx0XHRcdDYgeCBvZiB4bi1jb21wb25lbnRcblx0XHRcdFx0NyBzaWduIG9mIHktY29tcG9uZW50XG5cdFx0XHRcdDggeSBvZiB5LWNvbXBvbmVudFxuXHRcdFx0Ki9cblx0XHRcdG1hdGNoWzFdID0gbWF0Y2hbMV0udG9Mb3dlckNhc2UoKTtcblxuXHRcdFx0aWYgKCBtYXRjaFsxXS5zbGljZSggMCwgMyApID09PSBcIm50aFwiICkge1xuXHRcdFx0XHQvLyBudGgtKiByZXF1aXJlcyBhcmd1bWVudFxuXHRcdFx0XHRpZiAoICFtYXRjaFszXSApIHtcblx0XHRcdFx0XHRTaXp6bGUuZXJyb3IoIG1hdGNoWzBdICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBudW1lcmljIHggYW5kIHkgcGFyYW1ldGVycyBmb3IgRXhwci5maWx0ZXIuQ0hJTERcblx0XHRcdFx0Ly8gcmVtZW1iZXIgdGhhdCBmYWxzZS90cnVlIGNhc3QgcmVzcGVjdGl2ZWx5IHRvIDAvMVxuXHRcdFx0XHRtYXRjaFs0XSA9ICsoIG1hdGNoWzRdID8gbWF0Y2hbNV0gKyAobWF0Y2hbNl0gfHwgMSkgOiAyICogKCBtYXRjaFszXSA9PT0gXCJldmVuXCIgfHwgbWF0Y2hbM10gPT09IFwib2RkXCIgKSApO1xuXHRcdFx0XHRtYXRjaFs1XSA9ICsoICggbWF0Y2hbN10gKyBtYXRjaFs4XSApIHx8IG1hdGNoWzNdID09PSBcIm9kZFwiICk7XG5cblx0XHRcdC8vIG90aGVyIHR5cGVzIHByb2hpYml0IGFyZ3VtZW50c1xuXHRcdFx0fSBlbHNlIGlmICggbWF0Y2hbM10gKSB7XG5cdFx0XHRcdFNpenpsZS5lcnJvciggbWF0Y2hbMF0gKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG1hdGNoO1xuXHRcdH0sXG5cblx0XHRcIlBTRVVET1wiOiBmdW5jdGlvbiggbWF0Y2ggKSB7XG5cdFx0XHR2YXIgZXhjZXNzLFxuXHRcdFx0XHR1bnF1b3RlZCA9ICFtYXRjaFs2XSAmJiBtYXRjaFsyXTtcblxuXHRcdFx0aWYgKCBtYXRjaEV4cHJbXCJDSElMRFwiXS50ZXN0KCBtYXRjaFswXSApICkge1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWNjZXB0IHF1b3RlZCBhcmd1bWVudHMgYXMtaXNcblx0XHRcdGlmICggbWF0Y2hbM10gKSB7XG5cdFx0XHRcdG1hdGNoWzJdID0gbWF0Y2hbNF0gfHwgbWF0Y2hbNV0gfHwgXCJcIjtcblxuXHRcdFx0Ly8gU3RyaXAgZXhjZXNzIGNoYXJhY3RlcnMgZnJvbSB1bnF1b3RlZCBhcmd1bWVudHNcblx0XHRcdH0gZWxzZSBpZiAoIHVucXVvdGVkICYmIHJwc2V1ZG8udGVzdCggdW5xdW90ZWQgKSAmJlxuXHRcdFx0XHQvLyBHZXQgZXhjZXNzIGZyb20gdG9rZW5pemUgKHJlY3Vyc2l2ZWx5KVxuXHRcdFx0XHQoZXhjZXNzID0gdG9rZW5pemUoIHVucXVvdGVkLCB0cnVlICkpICYmXG5cdFx0XHRcdC8vIGFkdmFuY2UgdG8gdGhlIG5leHQgY2xvc2luZyBwYXJlbnRoZXNpc1xuXHRcdFx0XHQoZXhjZXNzID0gdW5xdW90ZWQuaW5kZXhPZiggXCIpXCIsIHVucXVvdGVkLmxlbmd0aCAtIGV4Y2VzcyApIC0gdW5xdW90ZWQubGVuZ3RoKSApIHtcblxuXHRcdFx0XHQvLyBleGNlc3MgaXMgYSBuZWdhdGl2ZSBpbmRleFxuXHRcdFx0XHRtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKCAwLCBleGNlc3MgKTtcblx0XHRcdFx0bWF0Y2hbMl0gPSB1bnF1b3RlZC5zbGljZSggMCwgZXhjZXNzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJldHVybiBvbmx5IGNhcHR1cmVzIG5lZWRlZCBieSB0aGUgcHNldWRvIGZpbHRlciBtZXRob2QgKHR5cGUgYW5kIGFyZ3VtZW50KVxuXHRcdFx0cmV0dXJuIG1hdGNoLnNsaWNlKCAwLCAzICk7XG5cdFx0fVxuXHR9LFxuXG5cdGZpbHRlcjoge1xuXG5cdFx0XCJUQUdcIjogZnVuY3Rpb24oIG5vZGVOYW1lU2VsZWN0b3IgKSB7XG5cdFx0XHR2YXIgbm9kZU5hbWUgPSBub2RlTmFtZVNlbGVjdG9yLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiBub2RlTmFtZVNlbGVjdG9yID09PSBcIipcIiA/XG5cdFx0XHRcdGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfSA6XG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbm9kZU5hbWU7XG5cdFx0XHRcdH07XG5cdFx0fSxcblxuXHRcdFwiQ0xBU1NcIjogZnVuY3Rpb24oIGNsYXNzTmFtZSApIHtcblx0XHRcdHZhciBwYXR0ZXJuID0gY2xhc3NDYWNoZVsgY2xhc3NOYW1lICsgXCIgXCIgXTtcblxuXHRcdFx0cmV0dXJuIHBhdHRlcm4gfHxcblx0XHRcdFx0KHBhdHRlcm4gPSBuZXcgUmVnRXhwKCBcIihefFwiICsgd2hpdGVzcGFjZSArIFwiKVwiICsgY2xhc3NOYW1lICsgXCIoXCIgKyB3aGl0ZXNwYWNlICsgXCJ8JClcIiApKSAmJlxuXHRcdFx0XHRjbGFzc0NhY2hlKCBjbGFzc05hbWUsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHJldHVybiBwYXR0ZXJuLnRlc3QoIHR5cGVvZiBlbGVtLmNsYXNzTmFtZSA9PT0gXCJzdHJpbmdcIiAmJiBlbGVtLmNsYXNzTmFtZSB8fCB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUgIT09IFwidW5kZWZpbmVkXCIgJiYgZWxlbS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSB8fCBcIlwiICk7XG5cdFx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRcIkFUVFJcIjogZnVuY3Rpb24oIG5hbWUsIG9wZXJhdG9yLCBjaGVjayApIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIHJlc3VsdCA9IFNpenpsZS5hdHRyKCBlbGVtLCBuYW1lICk7XG5cblx0XHRcdFx0aWYgKCByZXN1bHQgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRyZXR1cm4gb3BlcmF0b3IgPT09IFwiIT1cIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoICFvcGVyYXRvciApIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJlc3VsdCArPSBcIlwiO1xuXG5cdFx0XHRcdHJldHVybiBvcGVyYXRvciA9PT0gXCI9XCIgPyByZXN1bHQgPT09IGNoZWNrIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIhPVwiID8gcmVzdWx0ICE9PSBjaGVjayA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiXj1cIiA/IGNoZWNrICYmIHJlc3VsdC5pbmRleE9mKCBjaGVjayApID09PSAwIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIqPVwiID8gY2hlY2sgJiYgcmVzdWx0LmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiJD1cIiA/IGNoZWNrICYmIHJlc3VsdC5zbGljZSggLWNoZWNrLmxlbmd0aCApID09PSBjaGVjayA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwifj1cIiA/ICggXCIgXCIgKyByZXN1bHQucmVwbGFjZSggcndoaXRlc3BhY2UsIFwiIFwiICkgKyBcIiBcIiApLmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwifD1cIiA/IHJlc3VsdCA9PT0gY2hlY2sgfHwgcmVzdWx0LnNsaWNlKCAwLCBjaGVjay5sZW5ndGggKyAxICkgPT09IGNoZWNrICsgXCItXCIgOlxuXHRcdFx0XHRcdGZhbHNlO1xuXHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0XCJDSElMRFwiOiBmdW5jdGlvbiggdHlwZSwgd2hhdCwgYXJndW1lbnQsIGZpcnN0LCBsYXN0ICkge1xuXHRcdFx0dmFyIHNpbXBsZSA9IHR5cGUuc2xpY2UoIDAsIDMgKSAhPT0gXCJudGhcIixcblx0XHRcdFx0Zm9yd2FyZCA9IHR5cGUuc2xpY2UoIC00ICkgIT09IFwibGFzdFwiLFxuXHRcdFx0XHRvZlR5cGUgPSB3aGF0ID09PSBcIm9mLXR5cGVcIjtcblxuXHRcdFx0cmV0dXJuIGZpcnN0ID09PSAxICYmIGxhc3QgPT09IDAgP1xuXG5cdFx0XHRcdC8vIFNob3J0Y3V0IGZvciA6bnRoLSoobilcblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuICEhZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0XHR9IDpcblxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdHZhciBjYWNoZSwgdW5pcXVlQ2FjaGUsIG91dGVyQ2FjaGUsIG5vZGUsIG5vZGVJbmRleCwgc3RhcnQsXG5cdFx0XHRcdFx0XHRkaXIgPSBzaW1wbGUgIT09IGZvcndhcmQgPyBcIm5leHRTaWJsaW5nXCIgOiBcInByZXZpb3VzU2libGluZ1wiLFxuXHRcdFx0XHRcdFx0cGFyZW50ID0gZWxlbS5wYXJlbnROb2RlLFxuXHRcdFx0XHRcdFx0bmFtZSA9IG9mVHlwZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksXG5cdFx0XHRcdFx0XHR1c2VDYWNoZSA9ICF4bWwgJiYgIW9mVHlwZSxcblx0XHRcdFx0XHRcdGRpZmYgPSBmYWxzZTtcblxuXHRcdFx0XHRcdGlmICggcGFyZW50ICkge1xuXG5cdFx0XHRcdFx0XHQvLyA6KGZpcnN0fGxhc3R8b25seSktKGNoaWxkfG9mLXR5cGUpXG5cdFx0XHRcdFx0XHRpZiAoIHNpbXBsZSApIHtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKCBkaXIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0bm9kZSA9IGVsZW07XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKCAobm9kZSA9IG5vZGVbIGRpciBdKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggb2ZUeXBlID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lIDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlVHlwZSA9PT0gMSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdC8vIFJldmVyc2UgZGlyZWN0aW9uIGZvciA6b25seS0qIChpZiB3ZSBoYXZlbid0IHlldCBkb25lIHNvKVxuXHRcdFx0XHRcdFx0XHRcdHN0YXJ0ID0gZGlyID0gdHlwZSA9PT0gXCJvbmx5XCIgJiYgIXN0YXJ0ICYmIFwibmV4dFNpYmxpbmdcIjtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0c3RhcnQgPSBbIGZvcndhcmQgPyBwYXJlbnQuZmlyc3RDaGlsZCA6IHBhcmVudC5sYXN0Q2hpbGQgXTtcblxuXHRcdFx0XHRcdFx0Ly8gbm9uLXhtbCA6bnRoLWNoaWxkKC4uLikgc3RvcmVzIGNhY2hlIGRhdGEgb24gYHBhcmVudGBcblx0XHRcdFx0XHRcdGlmICggZm9yd2FyZCAmJiB1c2VDYWNoZSApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBTZWVrIGBlbGVtYCBmcm9tIGEgcHJldmlvdXNseS1jYWNoZWQgaW5kZXhcblxuXHRcdFx0XHRcdFx0XHQvLyAuLi5pbiBhIGd6aXAtZnJpZW5kbHkgd2F5XG5cdFx0XHRcdFx0XHRcdG5vZGUgPSBwYXJlbnQ7XG5cdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHwgKG5vZGVbIGV4cGFuZG8gXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdChvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdFx0Y2FjaGUgPSB1bmlxdWVDYWNoZVsgdHlwZSBdIHx8IFtdO1xuXHRcdFx0XHRcdFx0XHRub2RlSW5kZXggPSBjYWNoZVsgMCBdID09PSBkaXJydW5zICYmIGNhY2hlWyAxIF07XG5cdFx0XHRcdFx0XHRcdGRpZmYgPSBub2RlSW5kZXggJiYgY2FjaGVbIDIgXTtcblx0XHRcdFx0XHRcdFx0bm9kZSA9IG5vZGVJbmRleCAmJiBwYXJlbnQuY2hpbGROb2Rlc1sgbm9kZUluZGV4IF07XG5cblx0XHRcdFx0XHRcdFx0d2hpbGUgKCAobm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVsgZGlyIF0gfHxcblxuXHRcdFx0XHRcdFx0XHRcdC8vIEZhbGxiYWNrIHRvIHNlZWtpbmcgYGVsZW1gIGZyb20gdGhlIHN0YXJ0XG5cdFx0XHRcdFx0XHRcdFx0KGRpZmYgPSBub2RlSW5kZXggPSAwKSB8fCBzdGFydC5wb3AoKSkgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBXaGVuIGZvdW5kLCBjYWNoZSBpbmRleGVzIG9uIGBwYXJlbnRgIGFuZCBicmVha1xuXHRcdFx0XHRcdFx0XHRcdGlmICggbm9kZS5ub2RlVHlwZSA9PT0gMSAmJiArK2RpZmYgJiYgbm9kZSA9PT0gZWxlbSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIG5vZGVJbmRleCwgZGlmZiBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdC8vIFVzZSBwcmV2aW91c2x5LWNhY2hlZCBlbGVtZW50IGluZGV4IGlmIGF2YWlsYWJsZVxuXHRcdFx0XHRcdFx0XHRpZiAoIHVzZUNhY2hlICkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIC4uLmluIGEgZ3ppcC1mcmllbmRseSB3YXlcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbTtcblx0XHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gbm9kZVsgZXhwYW5kbyBdIHx8IChub2RlWyBleHBhbmRvIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdChvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYWNoZSA9IHVuaXF1ZUNhY2hlWyB0eXBlIF0gfHwgW107XG5cdFx0XHRcdFx0XHRcdFx0bm9kZUluZGV4ID0gY2FjaGVbIDAgXSA9PT0gZGlycnVucyAmJiBjYWNoZVsgMSBdO1xuXHRcdFx0XHRcdFx0XHRcdGRpZmYgPSBub2RlSW5kZXg7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHQvLyB4bWwgOm50aC1jaGlsZCguLi4pXG5cdFx0XHRcdFx0XHRcdC8vIG9yIDpudGgtbGFzdC1jaGlsZCguLi4pIG9yIDpudGgoLWxhc3QpPy1vZi10eXBlKC4uLilcblx0XHRcdFx0XHRcdFx0aWYgKCBkaWZmID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBVc2UgdGhlIHNhbWUgbG9vcCBhcyBhYm92ZSB0byBzZWVrIGBlbGVtYCBmcm9tIHRoZSBzdGFydFxuXHRcdFx0XHRcdFx0XHRcdHdoaWxlICggKG5vZGUgPSArK25vZGVJbmRleCAmJiBub2RlICYmIG5vZGVbIGRpciBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHQoZGlmZiA9IG5vZGVJbmRleCA9IDApIHx8IHN0YXJ0LnBvcCgpKSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCAoIG9mVHlwZSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZSA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZVR5cGUgPT09IDEgKSAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQrK2RpZmYgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gQ2FjaGUgdGhlIGluZGV4IG9mIGVhY2ggZW5jb3VudGVyZWQgZWxlbWVudFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHVzZUNhY2hlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHwgKG5vZGVbIGV4cGFuZG8gXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gtMTcwOSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIGRpZmYgXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggbm9kZSA9PT0gZWxlbSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBJbmNvcnBvcmF0ZSB0aGUgb2Zmc2V0LCB0aGVuIGNoZWNrIGFnYWluc3QgY3ljbGUgc2l6ZVxuXHRcdFx0XHRcdFx0ZGlmZiAtPSBsYXN0O1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRpZmYgPT09IGZpcnN0IHx8ICggZGlmZiAlIGZpcnN0ID09PSAwICYmIGRpZmYgLyBmaXJzdCA+PSAwICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRcIlBTRVVET1wiOiBmdW5jdGlvbiggcHNldWRvLCBhcmd1bWVudCApIHtcblx0XHRcdC8vIHBzZXVkby1jbGFzcyBuYW1lcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZVxuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNwc2V1ZG8tY2xhc3Nlc1xuXHRcdFx0Ly8gUHJpb3JpdGl6ZSBieSBjYXNlIHNlbnNpdGl2aXR5IGluIGNhc2UgY3VzdG9tIHBzZXVkb3MgYXJlIGFkZGVkIHdpdGggdXBwZXJjYXNlIGxldHRlcnNcblx0XHRcdC8vIFJlbWVtYmVyIHRoYXQgc2V0RmlsdGVycyBpbmhlcml0cyBmcm9tIHBzZXVkb3Ncblx0XHRcdHZhciBhcmdzLFxuXHRcdFx0XHRmbiA9IEV4cHIucHNldWRvc1sgcHNldWRvIF0gfHwgRXhwci5zZXRGaWx0ZXJzWyBwc2V1ZG8udG9Mb3dlckNhc2UoKSBdIHx8XG5cdFx0XHRcdFx0U2l6emxlLmVycm9yKCBcInVuc3VwcG9ydGVkIHBzZXVkbzogXCIgKyBwc2V1ZG8gKTtcblxuXHRcdFx0Ly8gVGhlIHVzZXIgbWF5IHVzZSBjcmVhdGVQc2V1ZG8gdG8gaW5kaWNhdGUgdGhhdFxuXHRcdFx0Ly8gYXJndW1lbnRzIGFyZSBuZWVkZWQgdG8gY3JlYXRlIHRoZSBmaWx0ZXIgZnVuY3Rpb25cblx0XHRcdC8vIGp1c3QgYXMgU2l6emxlIGRvZXNcblx0XHRcdGlmICggZm5bIGV4cGFuZG8gXSApIHtcblx0XHRcdFx0cmV0dXJuIGZuKCBhcmd1bWVudCApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBCdXQgbWFpbnRhaW4gc3VwcG9ydCBmb3Igb2xkIHNpZ25hdHVyZXNcblx0XHRcdGlmICggZm4ubGVuZ3RoID4gMSApIHtcblx0XHRcdFx0YXJncyA9IFsgcHNldWRvLCBwc2V1ZG8sIFwiXCIsIGFyZ3VtZW50IF07XG5cdFx0XHRcdHJldHVybiBFeHByLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoIHBzZXVkby50b0xvd2VyQ2FzZSgpICkgP1xuXHRcdFx0XHRcdG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcyApIHtcblx0XHRcdFx0XHRcdHZhciBpZHgsXG5cdFx0XHRcdFx0XHRcdG1hdGNoZWQgPSBmbiggc2VlZCwgYXJndW1lbnQgKSxcblx0XHRcdFx0XHRcdFx0aSA9IG1hdGNoZWQubGVuZ3RoO1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRcdGlkeCA9IGluZGV4T2YoIHNlZWQsIG1hdGNoZWRbaV0gKTtcblx0XHRcdFx0XHRcdFx0c2VlZFsgaWR4IF0gPSAhKCBtYXRjaGVzWyBpZHggXSA9IG1hdGNoZWRbaV0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KSA6XG5cdFx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZm4oIGVsZW0sIDAsIGFyZ3MgKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZm47XG5cdFx0fVxuXHR9LFxuXG5cdHBzZXVkb3M6IHtcblx0XHQvLyBQb3RlbnRpYWxseSBjb21wbGV4IHBzZXVkb3Ncblx0XHRcIm5vdFwiOiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdFx0Ly8gVHJpbSB0aGUgc2VsZWN0b3IgcGFzc2VkIHRvIGNvbXBpbGVcblx0XHRcdC8vIHRvIGF2b2lkIHRyZWF0aW5nIGxlYWRpbmcgYW5kIHRyYWlsaW5nXG5cdFx0XHQvLyBzcGFjZXMgYXMgY29tYmluYXRvcnNcblx0XHRcdHZhciBpbnB1dCA9IFtdLFxuXHRcdFx0XHRyZXN1bHRzID0gW10sXG5cdFx0XHRcdG1hdGNoZXIgPSBjb21waWxlKCBzZWxlY3Rvci5yZXBsYWNlKCBydHJpbSwgXCIkMVwiICkgKTtcblxuXHRcdFx0cmV0dXJuIG1hdGNoZXJbIGV4cGFuZG8gXSA/XG5cdFx0XHRcdG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcywgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdHZhciBlbGVtLFxuXHRcdFx0XHRcdFx0dW5tYXRjaGVkID0gbWF0Y2hlciggc2VlZCwgbnVsbCwgeG1sLCBbXSApLFxuXHRcdFx0XHRcdFx0aSA9IHNlZWQubGVuZ3RoO1xuXG5cdFx0XHRcdFx0Ly8gTWF0Y2ggZWxlbWVudHMgdW5tYXRjaGVkIGJ5IGBtYXRjaGVyYFxuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoZWxlbSA9IHVubWF0Y2hlZFtpXSkgKSB7XG5cdFx0XHRcdFx0XHRcdHNlZWRbaV0gPSAhKG1hdGNoZXNbaV0gPSBlbGVtKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pIDpcblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdFx0XHRpbnB1dFswXSA9IGVsZW07XG5cdFx0XHRcdFx0bWF0Y2hlciggaW5wdXQsIG51bGwsIHhtbCwgcmVzdWx0cyApO1xuXHRcdFx0XHRcdC8vIERvbid0IGtlZXAgdGhlIGVsZW1lbnQgKGlzc3VlICMyOTkpXG5cdFx0XHRcdFx0aW5wdXRbMF0gPSBudWxsO1xuXHRcdFx0XHRcdHJldHVybiAhcmVzdWx0cy5wb3AoKTtcblx0XHRcdFx0fTtcblx0XHR9KSxcblxuXHRcdFwiaGFzXCI6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBTaXp6bGUoIHNlbGVjdG9yLCBlbGVtICkubGVuZ3RoID4gMDtcblx0XHRcdH07XG5cdFx0fSksXG5cblx0XHRcImNvbnRhaW5zXCI6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiggdGV4dCApIHtcblx0XHRcdHRleHQgPSB0ZXh0LnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiAoIGVsZW0udGV4dENvbnRlbnQgfHwgZWxlbS5pbm5lclRleHQgfHwgZ2V0VGV4dCggZWxlbSApICkuaW5kZXhPZiggdGV4dCApID4gLTE7XG5cdFx0XHR9O1xuXHRcdH0pLFxuXG5cdFx0Ly8gXCJXaGV0aGVyIGFuIGVsZW1lbnQgaXMgcmVwcmVzZW50ZWQgYnkgYSA6bGFuZygpIHNlbGVjdG9yXG5cdFx0Ly8gaXMgYmFzZWQgc29sZWx5IG9uIHRoZSBlbGVtZW50J3MgbGFuZ3VhZ2UgdmFsdWVcblx0XHQvLyBiZWluZyBlcXVhbCB0byB0aGUgaWRlbnRpZmllciBDLFxuXHRcdC8vIG9yIGJlZ2lubmluZyB3aXRoIHRoZSBpZGVudGlmaWVyIEMgaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgXCItXCIuXG5cdFx0Ly8gVGhlIG1hdGNoaW5nIG9mIEMgYWdhaW5zdCB0aGUgZWxlbWVudCdzIGxhbmd1YWdlIHZhbHVlIGlzIHBlcmZvcm1lZCBjYXNlLWluc2Vuc2l0aXZlbHkuXG5cdFx0Ly8gVGhlIGlkZW50aWZpZXIgQyBkb2VzIG5vdCBoYXZlIHRvIGJlIGEgdmFsaWQgbGFuZ3VhZ2UgbmFtZS5cIlxuXHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jbGFuZy1wc2V1ZG9cblx0XHRcImxhbmdcIjogbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggbGFuZyApIHtcblx0XHRcdC8vIGxhbmcgdmFsdWUgbXVzdCBiZSBhIHZhbGlkIGlkZW50aWZpZXJcblx0XHRcdGlmICggIXJpZGVudGlmaWVyLnRlc3QobGFuZyB8fCBcIlwiKSApIHtcblx0XHRcdFx0U2l6emxlLmVycm9yKCBcInVuc3VwcG9ydGVkIGxhbmc6IFwiICsgbGFuZyApO1xuXHRcdFx0fVxuXHRcdFx0bGFuZyA9IGxhbmcucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgZWxlbUxhbmc7XG5cdFx0XHRcdGRvIHtcblx0XHRcdFx0XHRpZiAoIChlbGVtTGFuZyA9IGRvY3VtZW50SXNIVE1MID9cblx0XHRcdFx0XHRcdGVsZW0ubGFuZyA6XG5cdFx0XHRcdFx0XHRlbGVtLmdldEF0dHJpYnV0ZShcInhtbDpsYW5nXCIpIHx8IGVsZW0uZ2V0QXR0cmlidXRlKFwibGFuZ1wiKSkgKSB7XG5cblx0XHRcdFx0XHRcdGVsZW1MYW5nID0gZWxlbUxhbmcudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtTGFuZyA9PT0gbGFuZyB8fCBlbGVtTGFuZy5pbmRleE9mKCBsYW5nICsgXCItXCIgKSA9PT0gMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gd2hpbGUgKCAoZWxlbSA9IGVsZW0ucGFyZW50Tm9kZSkgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9O1xuXHRcdH0pLFxuXG5cdFx0Ly8gTWlzY2VsbGFuZW91c1xuXHRcdFwidGFyZ2V0XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24gJiYgd2luZG93LmxvY2F0aW9uLmhhc2g7XG5cdFx0XHRyZXR1cm4gaGFzaCAmJiBoYXNoLnNsaWNlKCAxICkgPT09IGVsZW0uaWQ7XG5cdFx0fSxcblxuXHRcdFwicm9vdFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtID09PSBkb2NFbGVtO1xuXHRcdH0sXG5cblx0XHRcImZvY3VzXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0gPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgKCFkb2N1bWVudC5oYXNGb2N1cyB8fCBkb2N1bWVudC5oYXNGb2N1cygpKSAmJiAhIShlbGVtLnR5cGUgfHwgZWxlbS5ocmVmIHx8IH5lbGVtLnRhYkluZGV4KTtcblx0XHR9LFxuXG5cdFx0Ly8gQm9vbGVhbiBwcm9wZXJ0aWVzXG5cdFx0XCJlbmFibGVkXCI6IGNyZWF0ZURpc2FibGVkUHNldWRvKCBmYWxzZSApLFxuXHRcdFwiZGlzYWJsZWRcIjogY3JlYXRlRGlzYWJsZWRQc2V1ZG8oIHRydWUgKSxcblxuXHRcdFwiY2hlY2tlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdC8vIEluIENTUzMsIDpjaGVja2VkIHNob3VsZCByZXR1cm4gYm90aCBjaGVja2VkIGFuZCBzZWxlY3RlZCBlbGVtZW50c1xuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMS9SRUMtY3NzMy1zZWxlY3RvcnMtMjAxMTA5MjkvI2NoZWNrZWRcblx0XHRcdHZhciBub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiAobm9kZU5hbWUgPT09IFwiaW5wdXRcIiAmJiAhIWVsZW0uY2hlY2tlZCkgfHwgKG5vZGVOYW1lID09PSBcIm9wdGlvblwiICYmICEhZWxlbS5zZWxlY3RlZCk7XG5cdFx0fSxcblxuXHRcdFwic2VsZWN0ZWRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHQvLyBBY2Nlc3NpbmcgdGhpcyBwcm9wZXJ0eSBtYWtlcyBzZWxlY3RlZC1ieS1kZWZhdWx0XG5cdFx0XHQvLyBvcHRpb25zIGluIFNhZmFyaSB3b3JrIHByb3Blcmx5XG5cdFx0XHRpZiAoIGVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0ZWxlbS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBlbGVtLnNlbGVjdGVkID09PSB0cnVlO1xuXHRcdH0sXG5cblx0XHQvLyBDb250ZW50c1xuXHRcdFwiZW1wdHlcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2VtcHR5LXBzZXVkb1xuXHRcdFx0Ly8gOmVtcHR5IGlzIG5lZ2F0ZWQgYnkgZWxlbWVudCAoMSkgb3IgY29udGVudCBub2RlcyAodGV4dDogMzsgY2RhdGE6IDQ7IGVudGl0eSByZWY6IDUpLFxuXHRcdFx0Ly8gICBidXQgbm90IGJ5IG90aGVycyAoY29tbWVudDogODsgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbjogNzsgZXRjLilcblx0XHRcdC8vIG5vZGVUeXBlIDwgNiB3b3JrcyBiZWNhdXNlIGF0dHJpYnV0ZXMgKDIpIGRvIG5vdCBhcHBlYXIgYXMgY2hpbGRyZW5cblx0XHRcdGZvciAoIGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7IGVsZW07IGVsZW0gPSBlbGVtLm5leHRTaWJsaW5nICkge1xuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPCA2ICkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSxcblxuXHRcdFwicGFyZW50XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuICFFeHByLnBzZXVkb3NbXCJlbXB0eVwiXSggZWxlbSApO1xuXHRcdH0sXG5cblx0XHQvLyBFbGVtZW50L2lucHV0IHR5cGVzXG5cdFx0XCJoZWFkZXJcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gcmhlYWRlci50ZXN0KCBlbGVtLm5vZGVOYW1lICk7XG5cdFx0fSxcblxuXHRcdFwiaW5wdXRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gcmlucHV0cy50ZXN0KCBlbGVtLm5vZGVOYW1lICk7XG5cdFx0fSxcblxuXHRcdFwiYnV0dG9uXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRyZXR1cm4gbmFtZSA9PT0gXCJpbnB1dFwiICYmIGVsZW0udHlwZSA9PT0gXCJidXR0b25cIiB8fCBuYW1lID09PSBcImJ1dHRvblwiO1xuXHRcdH0sXG5cblx0XHRcInRleHRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgYXR0cjtcblx0XHRcdHJldHVybiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiaW5wdXRcIiAmJlxuXHRcdFx0XHRlbGVtLnR5cGUgPT09IFwidGV4dFwiICYmXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUU8OFxuXHRcdFx0XHQvLyBOZXcgSFRNTDUgYXR0cmlidXRlIHZhbHVlcyAoZS5nLiwgXCJzZWFyY2hcIikgYXBwZWFyIHdpdGggZWxlbS50eXBlID09PSBcInRleHRcIlxuXHRcdFx0XHQoIChhdHRyID0gZWxlbS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpKSA9PSBudWxsIHx8IGF0dHIudG9Mb3dlckNhc2UoKSA9PT0gXCJ0ZXh0XCIgKTtcblx0XHR9LFxuXG5cdFx0Ly8gUG9zaXRpb24taW4tY29sbGVjdGlvblxuXHRcdFwiZmlyc3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBbIDAgXTtcblx0XHR9KSxcblxuXHRcdFwibGFzdFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcblx0XHRcdHJldHVybiBbIGxlbmd0aCAtIDEgXTtcblx0XHR9KSxcblxuXHRcdFwiZXFcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0cmV0dXJuIFsgYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudCBdO1xuXHRcdH0pLFxuXG5cdFx0XCJldmVuXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuXHRcdFx0dmFyIGkgPSAwO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpICs9IDIgKSB7XG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdH0pLFxuXG5cdFx0XCJvZGRcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7XG5cdFx0XHR2YXIgaSA9IDE7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkgKz0gMiApIHtcblx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0fSksXG5cblx0XHRcImx0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcblx0XHRcdHZhciBpID0gYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudDtcblx0XHRcdGZvciAoIDsgLS1pID49IDA7ICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9KSxcblxuXHRcdFwiZ3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0dmFyIGkgPSBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50O1xuXHRcdFx0Zm9yICggOyArK2kgPCBsZW5ndGg7ICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9KVxuXHR9XG59O1xuXG5FeHByLnBzZXVkb3NbXCJudGhcIl0gPSBFeHByLnBzZXVkb3NbXCJlcVwiXTtcblxuLy8gQWRkIGJ1dHRvbi9pbnB1dCB0eXBlIHBzZXVkb3NcbmZvciAoIGkgaW4geyByYWRpbzogdHJ1ZSwgY2hlY2tib3g6IHRydWUsIGZpbGU6IHRydWUsIHBhc3N3b3JkOiB0cnVlLCBpbWFnZTogdHJ1ZSB9ICkge1xuXHRFeHByLnBzZXVkb3NbIGkgXSA9IGNyZWF0ZUlucHV0UHNldWRvKCBpICk7XG59XG5mb3IgKCBpIGluIHsgc3VibWl0OiB0cnVlLCByZXNldDogdHJ1ZSB9ICkge1xuXHRFeHByLnBzZXVkb3NbIGkgXSA9IGNyZWF0ZUJ1dHRvblBzZXVkbyggaSApO1xufVxuXG4vLyBFYXN5IEFQSSBmb3IgY3JlYXRpbmcgbmV3IHNldEZpbHRlcnNcbmZ1bmN0aW9uIHNldEZpbHRlcnMoKSB7fVxuc2V0RmlsdGVycy5wcm90b3R5cGUgPSBFeHByLmZpbHRlcnMgPSBFeHByLnBzZXVkb3M7XG5FeHByLnNldEZpbHRlcnMgPSBuZXcgc2V0RmlsdGVycygpO1xuXG50b2tlbml6ZSA9IFNpenpsZS50b2tlbml6ZSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgcGFyc2VPbmx5ICkge1xuXHR2YXIgbWF0Y2hlZCwgbWF0Y2gsIHRva2VucywgdHlwZSxcblx0XHRzb0ZhciwgZ3JvdXBzLCBwcmVGaWx0ZXJzLFxuXHRcdGNhY2hlZCA9IHRva2VuQ2FjaGVbIHNlbGVjdG9yICsgXCIgXCIgXTtcblxuXHRpZiAoIGNhY2hlZCApIHtcblx0XHRyZXR1cm4gcGFyc2VPbmx5ID8gMCA6IGNhY2hlZC5zbGljZSggMCApO1xuXHR9XG5cblx0c29GYXIgPSBzZWxlY3Rvcjtcblx0Z3JvdXBzID0gW107XG5cdHByZUZpbHRlcnMgPSBFeHByLnByZUZpbHRlcjtcblxuXHR3aGlsZSAoIHNvRmFyICkge1xuXG5cdFx0Ly8gQ29tbWEgYW5kIGZpcnN0IHJ1blxuXHRcdGlmICggIW1hdGNoZWQgfHwgKG1hdGNoID0gcmNvbW1hLmV4ZWMoIHNvRmFyICkpICkge1xuXHRcdFx0aWYgKCBtYXRjaCApIHtcblx0XHRcdFx0Ly8gRG9uJ3QgY29uc3VtZSB0cmFpbGluZyBjb21tYXMgYXMgdmFsaWRcblx0XHRcdFx0c29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hbMF0ubGVuZ3RoICkgfHwgc29GYXI7XG5cdFx0XHR9XG5cdFx0XHRncm91cHMucHVzaCggKHRva2VucyA9IFtdKSApO1xuXHRcdH1cblxuXHRcdG1hdGNoZWQgPSBmYWxzZTtcblxuXHRcdC8vIENvbWJpbmF0b3JzXG5cdFx0aWYgKCAobWF0Y2ggPSByY29tYmluYXRvcnMuZXhlYyggc29GYXIgKSkgKSB7XG5cdFx0XHRtYXRjaGVkID0gbWF0Y2guc2hpZnQoKTtcblx0XHRcdHRva2Vucy5wdXNoKHtcblx0XHRcdFx0dmFsdWU6IG1hdGNoZWQsXG5cdFx0XHRcdC8vIENhc3QgZGVzY2VuZGFudCBjb21iaW5hdG9ycyB0byBzcGFjZVxuXHRcdFx0XHR0eXBlOiBtYXRjaFswXS5yZXBsYWNlKCBydHJpbSwgXCIgXCIgKVxuXHRcdFx0fSk7XG5cdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApO1xuXHRcdH1cblxuXHRcdC8vIEZpbHRlcnNcblx0XHRmb3IgKCB0eXBlIGluIEV4cHIuZmlsdGVyICkge1xuXHRcdFx0aWYgKCAobWF0Y2ggPSBtYXRjaEV4cHJbIHR5cGUgXS5leGVjKCBzb0ZhciApKSAmJiAoIXByZUZpbHRlcnNbIHR5cGUgXSB8fFxuXHRcdFx0XHQobWF0Y2ggPSBwcmVGaWx0ZXJzWyB0eXBlIF0oIG1hdGNoICkpKSApIHtcblx0XHRcdFx0bWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7XG5cdFx0XHRcdHRva2Vucy5wdXNoKHtcblx0XHRcdFx0XHR2YWx1ZTogbWF0Y2hlZCxcblx0XHRcdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0XHRcdG1hdGNoZXM6IG1hdGNoXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggIW1hdGNoZWQgKSB7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHQvLyBSZXR1cm4gdGhlIGxlbmd0aCBvZiB0aGUgaW52YWxpZCBleGNlc3Ncblx0Ly8gaWYgd2UncmUganVzdCBwYXJzaW5nXG5cdC8vIE90aGVyd2lzZSwgdGhyb3cgYW4gZXJyb3Igb3IgcmV0dXJuIHRva2Vuc1xuXHRyZXR1cm4gcGFyc2VPbmx5ID9cblx0XHRzb0Zhci5sZW5ndGggOlxuXHRcdHNvRmFyID9cblx0XHRcdFNpenpsZS5lcnJvciggc2VsZWN0b3IgKSA6XG5cdFx0XHQvLyBDYWNoZSB0aGUgdG9rZW5zXG5cdFx0XHR0b2tlbkNhY2hlKCBzZWxlY3RvciwgZ3JvdXBzICkuc2xpY2UoIDAgKTtcbn07XG5cbmZ1bmN0aW9uIHRvU2VsZWN0b3IoIHRva2VucyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGxlbiA9IHRva2Vucy5sZW5ndGgsXG5cdFx0c2VsZWN0b3IgPSBcIlwiO1xuXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRzZWxlY3RvciArPSB0b2tlbnNbaV0udmFsdWU7XG5cdH1cblx0cmV0dXJuIHNlbGVjdG9yO1xufVxuXG5mdW5jdGlvbiBhZGRDb21iaW5hdG9yKCBtYXRjaGVyLCBjb21iaW5hdG9yLCBiYXNlICkge1xuXHR2YXIgZGlyID0gY29tYmluYXRvci5kaXIsXG5cdFx0c2tpcCA9IGNvbWJpbmF0b3IubmV4dCxcblx0XHRrZXkgPSBza2lwIHx8IGRpcixcblx0XHRjaGVja05vbkVsZW1lbnRzID0gYmFzZSAmJiBrZXkgPT09IFwicGFyZW50Tm9kZVwiLFxuXHRcdGRvbmVOYW1lID0gZG9uZSsrO1xuXG5cdHJldHVybiBjb21iaW5hdG9yLmZpcnN0ID9cblx0XHQvLyBDaGVjayBhZ2FpbnN0IGNsb3Nlc3QgYW5jZXN0b3IvcHJlY2VkaW5nIGVsZW1lbnRcblx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0d2hpbGUgKCAoZWxlbSA9IGVsZW1bIGRpciBdKSApIHtcblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSA6XG5cblx0XHQvLyBDaGVjayBhZ2FpbnN0IGFsbCBhbmNlc3Rvci9wcmVjZWRpbmcgZWxlbWVudHNcblx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0dmFyIG9sZENhY2hlLCB1bmlxdWVDYWNoZSwgb3V0ZXJDYWNoZSxcblx0XHRcdFx0bmV3Q2FjaGUgPSBbIGRpcnJ1bnMsIGRvbmVOYW1lIF07XG5cblx0XHRcdC8vIFdlIGNhbid0IHNldCBhcmJpdHJhcnkgZGF0YSBvbiBYTUwgbm9kZXMsIHNvIHRoZXkgZG9uJ3QgYmVuZWZpdCBmcm9tIGNvbWJpbmF0b3IgY2FjaGluZ1xuXHRcdFx0aWYgKCB4bWwgKSB7XG5cdFx0XHRcdHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gZWxlbVsgZXhwYW5kbyBdIHx8IChlbGVtWyBleHBhbmRvIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBlbGVtLnVuaXF1ZUlEIF0gfHwgKG91dGVyQ2FjaGVbIGVsZW0udW5pcXVlSUQgXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0aWYgKCBza2lwICYmIHNraXAgPT09IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSApIHtcblx0XHRcdFx0XHRcdFx0ZWxlbSA9IGVsZW1bIGRpciBdIHx8IGVsZW07XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCAob2xkQ2FjaGUgPSB1bmlxdWVDYWNoZVsga2V5IF0pICYmXG5cdFx0XHRcdFx0XHRcdG9sZENhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgb2xkQ2FjaGVbIDEgXSA9PT0gZG9uZU5hbWUgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQXNzaWduIHRvIG5ld0NhY2hlIHNvIHJlc3VsdHMgYmFjay1wcm9wYWdhdGUgdG8gcHJldmlvdXMgZWxlbWVudHNcblx0XHRcdFx0XHRcdFx0cmV0dXJuIChuZXdDYWNoZVsgMiBdID0gb2xkQ2FjaGVbIDIgXSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQvLyBSZXVzZSBuZXdjYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzXG5cdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyBrZXkgXSA9IG5ld0NhY2hlO1xuXG5cdFx0XHRcdFx0XHRcdC8vIEEgbWF0Y2ggbWVhbnMgd2UncmUgZG9uZTsgYSBmYWlsIG1lYW5zIHdlIGhhdmUgdG8ga2VlcCBjaGVja2luZ1xuXHRcdFx0XHRcdFx0XHRpZiAoIChuZXdDYWNoZVsgMiBdID0gbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICkpICkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcbn1cblxuZnVuY3Rpb24gZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICkge1xuXHRyZXR1cm4gbWF0Y2hlcnMubGVuZ3RoID4gMSA/XG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHZhciBpID0gbWF0Y2hlcnMubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGlmICggIW1hdGNoZXJzW2ldKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0gOlxuXHRcdG1hdGNoZXJzWzBdO1xufVxuXG5mdW5jdGlvbiBtdWx0aXBsZUNvbnRleHRzKCBzZWxlY3RvciwgY29udGV4dHMsIHJlc3VsdHMgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsZW4gPSBjb250ZXh0cy5sZW5ndGg7XG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFNpenpsZSggc2VsZWN0b3IsIGNvbnRleHRzW2ldLCByZXN1bHRzICk7XG5cdH1cblx0cmV0dXJuIHJlc3VsdHM7XG59XG5cbmZ1bmN0aW9uIGNvbmRlbnNlKCB1bm1hdGNoZWQsIG1hcCwgZmlsdGVyLCBjb250ZXh0LCB4bWwgKSB7XG5cdHZhciBlbGVtLFxuXHRcdG5ld1VubWF0Y2hlZCA9IFtdLFxuXHRcdGkgPSAwLFxuXHRcdGxlbiA9IHVubWF0Y2hlZC5sZW5ndGgsXG5cdFx0bWFwcGVkID0gbWFwICE9IG51bGw7XG5cblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0aWYgKCAoZWxlbSA9IHVubWF0Y2hlZFtpXSkgKSB7XG5cdFx0XHRpZiAoICFmaWx0ZXIgfHwgZmlsdGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0bmV3VW5tYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0aWYgKCBtYXBwZWQgKSB7XG5cdFx0XHRcdFx0bWFwLnB1c2goIGkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBuZXdVbm1hdGNoZWQ7XG59XG5cbmZ1bmN0aW9uIHNldE1hdGNoZXIoIHByZUZpbHRlciwgc2VsZWN0b3IsIG1hdGNoZXIsIHBvc3RGaWx0ZXIsIHBvc3RGaW5kZXIsIHBvc3RTZWxlY3RvciApIHtcblx0aWYgKCBwb3N0RmlsdGVyICYmICFwb3N0RmlsdGVyWyBleHBhbmRvIF0gKSB7XG5cdFx0cG9zdEZpbHRlciA9IHNldE1hdGNoZXIoIHBvc3RGaWx0ZXIgKTtcblx0fVxuXHRpZiAoIHBvc3RGaW5kZXIgJiYgIXBvc3RGaW5kZXJbIGV4cGFuZG8gXSApIHtcblx0XHRwb3N0RmluZGVyID0gc2V0TWF0Y2hlciggcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yICk7XG5cdH1cblx0cmV0dXJuIG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgcmVzdWx0cywgY29udGV4dCwgeG1sICkge1xuXHRcdHZhciB0ZW1wLCBpLCBlbGVtLFxuXHRcdFx0cHJlTWFwID0gW10sXG5cdFx0XHRwb3N0TWFwID0gW10sXG5cdFx0XHRwcmVleGlzdGluZyA9IHJlc3VsdHMubGVuZ3RoLFxuXG5cdFx0XHQvLyBHZXQgaW5pdGlhbCBlbGVtZW50cyBmcm9tIHNlZWQgb3IgY29udGV4dFxuXHRcdFx0ZWxlbXMgPSBzZWVkIHx8IG11bHRpcGxlQ29udGV4dHMoIHNlbGVjdG9yIHx8IFwiKlwiLCBjb250ZXh0Lm5vZGVUeXBlID8gWyBjb250ZXh0IF0gOiBjb250ZXh0LCBbXSApLFxuXG5cdFx0XHQvLyBQcmVmaWx0ZXIgdG8gZ2V0IG1hdGNoZXIgaW5wdXQsIHByZXNlcnZpbmcgYSBtYXAgZm9yIHNlZWQtcmVzdWx0cyBzeW5jaHJvbml6YXRpb25cblx0XHRcdG1hdGNoZXJJbiA9IHByZUZpbHRlciAmJiAoIHNlZWQgfHwgIXNlbGVjdG9yICkgP1xuXHRcdFx0XHRjb25kZW5zZSggZWxlbXMsIHByZU1hcCwgcHJlRmlsdGVyLCBjb250ZXh0LCB4bWwgKSA6XG5cdFx0XHRcdGVsZW1zLFxuXG5cdFx0XHRtYXRjaGVyT3V0ID0gbWF0Y2hlciA/XG5cdFx0XHRcdC8vIElmIHdlIGhhdmUgYSBwb3N0RmluZGVyLCBvciBmaWx0ZXJlZCBzZWVkLCBvciBub24tc2VlZCBwb3N0RmlsdGVyIG9yIHByZWV4aXN0aW5nIHJlc3VsdHMsXG5cdFx0XHRcdHBvc3RGaW5kZXIgfHwgKCBzZWVkID8gcHJlRmlsdGVyIDogcHJlZXhpc3RpbmcgfHwgcG9zdEZpbHRlciApID9cblxuXHRcdFx0XHRcdC8vIC4uLmludGVybWVkaWF0ZSBwcm9jZXNzaW5nIGlzIG5lY2Vzc2FyeVxuXHRcdFx0XHRcdFtdIDpcblxuXHRcdFx0XHRcdC8vIC4uLm90aGVyd2lzZSB1c2UgcmVzdWx0cyBkaXJlY3RseVxuXHRcdFx0XHRcdHJlc3VsdHMgOlxuXHRcdFx0XHRtYXRjaGVySW47XG5cblx0XHQvLyBGaW5kIHByaW1hcnkgbWF0Y2hlc1xuXHRcdGlmICggbWF0Y2hlciApIHtcblx0XHRcdG1hdGNoZXIoIG1hdGNoZXJJbiwgbWF0Y2hlck91dCwgY29udGV4dCwgeG1sICk7XG5cdFx0fVxuXG5cdFx0Ly8gQXBwbHkgcG9zdEZpbHRlclxuXHRcdGlmICggcG9zdEZpbHRlciApIHtcblx0XHRcdHRlbXAgPSBjb25kZW5zZSggbWF0Y2hlck91dCwgcG9zdE1hcCApO1xuXHRcdFx0cG9zdEZpbHRlciggdGVtcCwgW10sIGNvbnRleHQsIHhtbCApO1xuXG5cdFx0XHQvLyBVbi1tYXRjaCBmYWlsaW5nIGVsZW1lbnRzIGJ5IG1vdmluZyB0aGVtIGJhY2sgdG8gbWF0Y2hlckluXG5cdFx0XHRpID0gdGVtcC5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0aWYgKCAoZWxlbSA9IHRlbXBbaV0pICkge1xuXHRcdFx0XHRcdG1hdGNoZXJPdXRbIHBvc3RNYXBbaV0gXSA9ICEobWF0Y2hlckluWyBwb3N0TWFwW2ldIF0gPSBlbGVtKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggc2VlZCApIHtcblx0XHRcdGlmICggcG9zdEZpbmRlciB8fCBwcmVGaWx0ZXIgKSB7XG5cdFx0XHRcdGlmICggcG9zdEZpbmRlciApIHtcblx0XHRcdFx0XHQvLyBHZXQgdGhlIGZpbmFsIG1hdGNoZXJPdXQgYnkgY29uZGVuc2luZyB0aGlzIGludGVybWVkaWF0ZSBpbnRvIHBvc3RGaW5kZXIgY29udGV4dHNcblx0XHRcdFx0XHR0ZW1wID0gW107XG5cdFx0XHRcdFx0aSA9IG1hdGNoZXJPdXQubGVuZ3RoO1xuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoZWxlbSA9IG1hdGNoZXJPdXRbaV0pICkge1xuXHRcdFx0XHRcdFx0XHQvLyBSZXN0b3JlIG1hdGNoZXJJbiBzaW5jZSBlbGVtIGlzIG5vdCB5ZXQgYSBmaW5hbCBtYXRjaFxuXHRcdFx0XHRcdFx0XHR0ZW1wLnB1c2goIChtYXRjaGVySW5baV0gPSBlbGVtKSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRwb3N0RmluZGVyKCBudWxsLCAobWF0Y2hlck91dCA9IFtdKSwgdGVtcCwgeG1sICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBNb3ZlIG1hdGNoZWQgZWxlbWVudHMgZnJvbSBzZWVkIHRvIHJlc3VsdHMgdG8ga2VlcCB0aGVtIHN5bmNocm9uaXplZFxuXHRcdFx0XHRpID0gbWF0Y2hlck91dC5sZW5ndGg7XG5cdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdGlmICggKGVsZW0gPSBtYXRjaGVyT3V0W2ldKSAmJlxuXHRcdFx0XHRcdFx0KHRlbXAgPSBwb3N0RmluZGVyID8gaW5kZXhPZiggc2VlZCwgZWxlbSApIDogcHJlTWFwW2ldKSA+IC0xICkge1xuXG5cdFx0XHRcdFx0XHRzZWVkW3RlbXBdID0gIShyZXN1bHRzW3RlbXBdID0gZWxlbSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBBZGQgZWxlbWVudHMgdG8gcmVzdWx0cywgdGhyb3VnaCBwb3N0RmluZGVyIGlmIGRlZmluZWRcblx0XHR9IGVsc2Uge1xuXHRcdFx0bWF0Y2hlck91dCA9IGNvbmRlbnNlKFxuXHRcdFx0XHRtYXRjaGVyT3V0ID09PSByZXN1bHRzID9cblx0XHRcdFx0XHRtYXRjaGVyT3V0LnNwbGljZSggcHJlZXhpc3RpbmcsIG1hdGNoZXJPdXQubGVuZ3RoICkgOlxuXHRcdFx0XHRcdG1hdGNoZXJPdXRcblx0XHRcdCk7XG5cdFx0XHRpZiAoIHBvc3RGaW5kZXIgKSB7XG5cdFx0XHRcdHBvc3RGaW5kZXIoIG51bGwsIHJlc3VsdHMsIG1hdGNoZXJPdXQsIHhtbCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgbWF0Y2hlck91dCApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMgKSB7XG5cdHZhciBjaGVja0NvbnRleHQsIG1hdGNoZXIsIGosXG5cdFx0bGVuID0gdG9rZW5zLmxlbmd0aCxcblx0XHRsZWFkaW5nUmVsYXRpdmUgPSBFeHByLnJlbGF0aXZlWyB0b2tlbnNbMF0udHlwZSBdLFxuXHRcdGltcGxpY2l0UmVsYXRpdmUgPSBsZWFkaW5nUmVsYXRpdmUgfHwgRXhwci5yZWxhdGl2ZVtcIiBcIl0sXG5cdFx0aSA9IGxlYWRpbmdSZWxhdGl2ZSA/IDEgOiAwLFxuXG5cdFx0Ly8gVGhlIGZvdW5kYXRpb25hbCBtYXRjaGVyIGVuc3VyZXMgdGhhdCBlbGVtZW50cyBhcmUgcmVhY2hhYmxlIGZyb20gdG9wLWxldmVsIGNvbnRleHQocylcblx0XHRtYXRjaENvbnRleHQgPSBhZGRDb21iaW5hdG9yKCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtID09PSBjaGVja0NvbnRleHQ7XG5cdFx0fSwgaW1wbGljaXRSZWxhdGl2ZSwgdHJ1ZSApLFxuXHRcdG1hdGNoQW55Q29udGV4dCA9IGFkZENvbWJpbmF0b3IoIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGluZGV4T2YoIGNoZWNrQ29udGV4dCwgZWxlbSApID4gLTE7XG5cdFx0fSwgaW1wbGljaXRSZWxhdGl2ZSwgdHJ1ZSApLFxuXHRcdG1hdGNoZXJzID0gWyBmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0dmFyIHJldCA9ICggIWxlYWRpbmdSZWxhdGl2ZSAmJiAoIHhtbCB8fCBjb250ZXh0ICE9PSBvdXRlcm1vc3RDb250ZXh0ICkgKSB8fCAoXG5cdFx0XHRcdChjaGVja0NvbnRleHQgPSBjb250ZXh0KS5ub2RlVHlwZSA/XG5cdFx0XHRcdFx0bWF0Y2hDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSA6XG5cdFx0XHRcdFx0bWF0Y2hBbnlDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSApO1xuXHRcdFx0Ly8gQXZvaWQgaGFuZ2luZyBvbnRvIGVsZW1lbnQgKGlzc3VlICMyOTkpXG5cdFx0XHRjaGVja0NvbnRleHQgPSBudWxsO1xuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9IF07XG5cblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0aWYgKCAobWF0Y2hlciA9IEV4cHIucmVsYXRpdmVbIHRva2Vuc1tpXS50eXBlIF0pICkge1xuXHRcdFx0bWF0Y2hlcnMgPSBbIGFkZENvbWJpbmF0b3IoZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICksIG1hdGNoZXIpIF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdG1hdGNoZXIgPSBFeHByLmZpbHRlclsgdG9rZW5zW2ldLnR5cGUgXS5hcHBseSggbnVsbCwgdG9rZW5zW2ldLm1hdGNoZXMgKTtcblxuXHRcdFx0Ly8gUmV0dXJuIHNwZWNpYWwgdXBvbiBzZWVpbmcgYSBwb3NpdGlvbmFsIG1hdGNoZXJcblx0XHRcdGlmICggbWF0Y2hlclsgZXhwYW5kbyBdICkge1xuXHRcdFx0XHQvLyBGaW5kIHRoZSBuZXh0IHJlbGF0aXZlIG9wZXJhdG9yIChpZiBhbnkpIGZvciBwcm9wZXIgaGFuZGxpbmdcblx0XHRcdFx0aiA9ICsraTtcblx0XHRcdFx0Zm9yICggOyBqIDwgbGVuOyBqKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBFeHByLnJlbGF0aXZlWyB0b2tlbnNbal0udHlwZSBdICkge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBzZXRNYXRjaGVyKFxuXHRcdFx0XHRcdGkgPiAxICYmIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApLFxuXHRcdFx0XHRcdGkgPiAxICYmIHRvU2VsZWN0b3IoXG5cdFx0XHRcdFx0XHQvLyBJZiB0aGUgcHJlY2VkaW5nIHRva2VuIHdhcyBhIGRlc2NlbmRhbnQgY29tYmluYXRvciwgaW5zZXJ0IGFuIGltcGxpY2l0IGFueS1lbGVtZW50IGAqYFxuXHRcdFx0XHRcdFx0dG9rZW5zLnNsaWNlKCAwLCBpIC0gMSApLmNvbmNhdCh7IHZhbHVlOiB0b2tlbnNbIGkgLSAyIF0udHlwZSA9PT0gXCIgXCIgPyBcIipcIiA6IFwiXCIgfSlcblx0XHRcdFx0XHQpLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSxcblx0XHRcdFx0XHRtYXRjaGVyLFxuXHRcdFx0XHRcdGkgPCBqICYmIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMuc2xpY2UoIGksIGogKSApLFxuXHRcdFx0XHRcdGogPCBsZW4gJiYgbWF0Y2hlckZyb21Ub2tlbnMoICh0b2tlbnMgPSB0b2tlbnMuc2xpY2UoIGogKSkgKSxcblx0XHRcdFx0XHRqIDwgbGVuICYmIHRvU2VsZWN0b3IoIHRva2VucyApXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRtYXRjaGVycy5wdXNoKCBtYXRjaGVyICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApO1xufVxuXG5mdW5jdGlvbiBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMgKSB7XG5cdHZhciBieVNldCA9IHNldE1hdGNoZXJzLmxlbmd0aCA+IDAsXG5cdFx0YnlFbGVtZW50ID0gZWxlbWVudE1hdGNoZXJzLmxlbmd0aCA+IDAsXG5cdFx0c3VwZXJNYXRjaGVyID0gZnVuY3Rpb24oIHNlZWQsIGNvbnRleHQsIHhtbCwgcmVzdWx0cywgb3V0ZXJtb3N0ICkge1xuXHRcdFx0dmFyIGVsZW0sIGosIG1hdGNoZXIsXG5cdFx0XHRcdG1hdGNoZWRDb3VudCA9IDAsXG5cdFx0XHRcdGkgPSBcIjBcIixcblx0XHRcdFx0dW5tYXRjaGVkID0gc2VlZCAmJiBbXSxcblx0XHRcdFx0c2V0TWF0Y2hlZCA9IFtdLFxuXHRcdFx0XHRjb250ZXh0QmFja3VwID0gb3V0ZXJtb3N0Q29udGV4dCxcblx0XHRcdFx0Ly8gV2UgbXVzdCBhbHdheXMgaGF2ZSBlaXRoZXIgc2VlZCBlbGVtZW50cyBvciBvdXRlcm1vc3QgY29udGV4dFxuXHRcdFx0XHRlbGVtcyA9IHNlZWQgfHwgYnlFbGVtZW50ICYmIEV4cHIuZmluZFtcIlRBR1wiXSggXCIqXCIsIG91dGVybW9zdCApLFxuXHRcdFx0XHQvLyBVc2UgaW50ZWdlciBkaXJydW5zIGlmZiB0aGlzIGlzIHRoZSBvdXRlcm1vc3QgbWF0Y2hlclxuXHRcdFx0XHRkaXJydW5zVW5pcXVlID0gKGRpcnJ1bnMgKz0gY29udGV4dEJhY2t1cCA9PSBudWxsID8gMSA6IE1hdGgucmFuZG9tKCkgfHwgMC4xKSxcblx0XHRcdFx0bGVuID0gZWxlbXMubGVuZ3RoO1xuXG5cdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0b3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHQgPT09IGRvY3VtZW50IHx8IGNvbnRleHQgfHwgb3V0ZXJtb3N0O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgZWxlbWVudHMgcGFzc2luZyBlbGVtZW50TWF0Y2hlcnMgZGlyZWN0bHkgdG8gcmVzdWx0c1xuXHRcdFx0Ly8gU3VwcG9ydDogSUU8OSwgU2FmYXJpXG5cdFx0XHQvLyBUb2xlcmF0ZSBOb2RlTGlzdCBwcm9wZXJ0aWVzIChJRTogXCJsZW5ndGhcIjsgU2FmYXJpOiA8bnVtYmVyPikgbWF0Y2hpbmcgZWxlbWVudHMgYnkgaWRcblx0XHRcdGZvciAoIDsgaSAhPT0gbGVuICYmIChlbGVtID0gZWxlbXNbaV0pICE9IG51bGw7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBieUVsZW1lbnQgJiYgZWxlbSApIHtcblx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHRpZiAoICFjb250ZXh0ICYmIGVsZW0ub3duZXJEb2N1bWVudCAhPT0gZG9jdW1lbnQgKSB7XG5cdFx0XHRcdFx0XHRzZXREb2N1bWVudCggZWxlbSApO1xuXHRcdFx0XHRcdFx0eG1sID0gIWRvY3VtZW50SXNIVE1MO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR3aGlsZSAoIChtYXRjaGVyID0gZWxlbWVudE1hdGNoZXJzW2orK10pICkge1xuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVyKCBlbGVtLCBjb250ZXh0IHx8IGRvY3VtZW50LCB4bWwpICkge1xuXHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggb3V0ZXJtb3N0ICkge1xuXHRcdFx0XHRcdFx0ZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gVHJhY2sgdW5tYXRjaGVkIGVsZW1lbnRzIGZvciBzZXQgZmlsdGVyc1xuXHRcdFx0XHRpZiAoIGJ5U2V0ICkge1xuXHRcdFx0XHRcdC8vIFRoZXkgd2lsbCBoYXZlIGdvbmUgdGhyb3VnaCBhbGwgcG9zc2libGUgbWF0Y2hlcnNcblx0XHRcdFx0XHRpZiAoIChlbGVtID0gIW1hdGNoZXIgJiYgZWxlbSkgKSB7XG5cdFx0XHRcdFx0XHRtYXRjaGVkQ291bnQtLTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBMZW5ndGhlbiB0aGUgYXJyYXkgZm9yIGV2ZXJ5IGVsZW1lbnQsIG1hdGNoZWQgb3Igbm90XG5cdFx0XHRcdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0XHRcdFx0dW5tYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gYGlgIGlzIG5vdyB0aGUgY291bnQgb2YgZWxlbWVudHMgdmlzaXRlZCBhYm92ZSwgYW5kIGFkZGluZyBpdCB0byBgbWF0Y2hlZENvdW50YFxuXHRcdFx0Ly8gbWFrZXMgdGhlIGxhdHRlciBub25uZWdhdGl2ZS5cblx0XHRcdG1hdGNoZWRDb3VudCArPSBpO1xuXG5cdFx0XHQvLyBBcHBseSBzZXQgZmlsdGVycyB0byB1bm1hdGNoZWQgZWxlbWVudHNcblx0XHRcdC8vIE5PVEU6IFRoaXMgY2FuIGJlIHNraXBwZWQgaWYgdGhlcmUgYXJlIG5vIHVubWF0Y2hlZCBlbGVtZW50cyAoaS5lLiwgYG1hdGNoZWRDb3VudGBcblx0XHRcdC8vIGVxdWFscyBgaWApLCB1bmxlc3Mgd2UgZGlkbid0IHZpc2l0IF9hbnlfIGVsZW1lbnRzIGluIHRoZSBhYm92ZSBsb29wIGJlY2F1c2Ugd2UgaGF2ZVxuXHRcdFx0Ly8gbm8gZWxlbWVudCBtYXRjaGVycyBhbmQgbm8gc2VlZC5cblx0XHRcdC8vIEluY3JlbWVudGluZyBhbiBpbml0aWFsbHktc3RyaW5nIFwiMFwiIGBpYCBhbGxvd3MgYGlgIHRvIHJlbWFpbiBhIHN0cmluZyBvbmx5IGluIHRoYXRcblx0XHRcdC8vIGNhc2UsIHdoaWNoIHdpbGwgcmVzdWx0IGluIGEgXCIwMFwiIGBtYXRjaGVkQ291bnRgIHRoYXQgZGlmZmVycyBmcm9tIGBpYCBidXQgaXMgYWxzb1xuXHRcdFx0Ly8gbnVtZXJpY2FsbHkgemVyby5cblx0XHRcdGlmICggYnlTZXQgJiYgaSAhPT0gbWF0Y2hlZENvdW50ICkge1xuXHRcdFx0XHRqID0gMDtcblx0XHRcdFx0d2hpbGUgKCAobWF0Y2hlciA9IHNldE1hdGNoZXJzW2orK10pICkge1xuXHRcdFx0XHRcdG1hdGNoZXIoIHVubWF0Y2hlZCwgc2V0TWF0Y2hlZCwgY29udGV4dCwgeG1sICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIHNlZWQgKSB7XG5cdFx0XHRcdFx0Ly8gUmVpbnRlZ3JhdGUgZWxlbWVudCBtYXRjaGVzIHRvIGVsaW1pbmF0ZSB0aGUgbmVlZCBmb3Igc29ydGluZ1xuXHRcdFx0XHRcdGlmICggbWF0Y2hlZENvdW50ID4gMCApIHtcblx0XHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoICEodW5tYXRjaGVkW2ldIHx8IHNldE1hdGNoZWRbaV0pICkge1xuXHRcdFx0XHRcdFx0XHRcdHNldE1hdGNoZWRbaV0gPSBwb3AuY2FsbCggcmVzdWx0cyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gRGlzY2FyZCBpbmRleCBwbGFjZWhvbGRlciB2YWx1ZXMgdG8gZ2V0IG9ubHkgYWN0dWFsIG1hdGNoZXNcblx0XHRcdFx0XHRzZXRNYXRjaGVkID0gY29uZGVuc2UoIHNldE1hdGNoZWQgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEFkZCBtYXRjaGVzIHRvIHJlc3VsdHNcblx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgc2V0TWF0Y2hlZCApO1xuXG5cdFx0XHRcdC8vIFNlZWRsZXNzIHNldCBtYXRjaGVzIHN1Y2NlZWRpbmcgbXVsdGlwbGUgc3VjY2Vzc2Z1bCBtYXRjaGVycyBzdGlwdWxhdGUgc29ydGluZ1xuXHRcdFx0XHRpZiAoIG91dGVybW9zdCAmJiAhc2VlZCAmJiBzZXRNYXRjaGVkLmxlbmd0aCA+IDAgJiZcblx0XHRcdFx0XHQoIG1hdGNoZWRDb3VudCArIHNldE1hdGNoZXJzLmxlbmd0aCApID4gMSApIHtcblxuXHRcdFx0XHRcdFNpenpsZS51bmlxdWVTb3J0KCByZXN1bHRzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gT3ZlcnJpZGUgbWFuaXB1bGF0aW9uIG9mIGdsb2JhbHMgYnkgbmVzdGVkIG1hdGNoZXJzXG5cdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0ZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7XG5cdFx0XHRcdG91dGVybW9zdENvbnRleHQgPSBjb250ZXh0QmFja3VwO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdW5tYXRjaGVkO1xuXHRcdH07XG5cblx0cmV0dXJuIGJ5U2V0ID9cblx0XHRtYXJrRnVuY3Rpb24oIHN1cGVyTWF0Y2hlciApIDpcblx0XHRzdXBlck1hdGNoZXI7XG59XG5cbmNvbXBpbGUgPSBTaXp6bGUuY29tcGlsZSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgbWF0Y2ggLyogSW50ZXJuYWwgVXNlIE9ubHkgKi8gKSB7XG5cdHZhciBpLFxuXHRcdHNldE1hdGNoZXJzID0gW10sXG5cdFx0ZWxlbWVudE1hdGNoZXJzID0gW10sXG5cdFx0Y2FjaGVkID0gY29tcGlsZXJDYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdO1xuXG5cdGlmICggIWNhY2hlZCApIHtcblx0XHQvLyBHZW5lcmF0ZSBhIGZ1bmN0aW9uIG9mIHJlY3Vyc2l2ZSBmdW5jdGlvbnMgdGhhdCBjYW4gYmUgdXNlZCB0byBjaGVjayBlYWNoIGVsZW1lbnRcblx0XHRpZiAoICFtYXRjaCApIHtcblx0XHRcdG1hdGNoID0gdG9rZW5pemUoIHNlbGVjdG9yICk7XG5cdFx0fVxuXHRcdGkgPSBtYXRjaC5sZW5ndGg7XG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRjYWNoZWQgPSBtYXRjaGVyRnJvbVRva2VucyggbWF0Y2hbaV0gKTtcblx0XHRcdGlmICggY2FjaGVkWyBleHBhbmRvIF0gKSB7XG5cdFx0XHRcdHNldE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWxlbWVudE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhY2hlIHRoZSBjb21waWxlZCBmdW5jdGlvblxuXHRcdGNhY2hlZCA9IGNvbXBpbGVyQ2FjaGUoIHNlbGVjdG9yLCBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMgKSApO1xuXG5cdFx0Ly8gU2F2ZSBzZWxlY3RvciBhbmQgdG9rZW5pemF0aW9uXG5cdFx0Y2FjaGVkLnNlbGVjdG9yID0gc2VsZWN0b3I7XG5cdH1cblx0cmV0dXJuIGNhY2hlZDtcbn07XG5cbi8qKlxuICogQSBsb3ctbGV2ZWwgc2VsZWN0aW9uIGZ1bmN0aW9uIHRoYXQgd29ya3Mgd2l0aCBTaXp6bGUncyBjb21waWxlZFxuICogIHNlbGVjdG9yIGZ1bmN0aW9uc1xuICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IHNlbGVjdG9yIEEgc2VsZWN0b3Igb3IgYSBwcmUtY29tcGlsZWRcbiAqICBzZWxlY3RvciBmdW5jdGlvbiBidWlsdCB3aXRoIFNpenpsZS5jb21waWxlXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGNvbnRleHRcbiAqIEBwYXJhbSB7QXJyYXl9IFtyZXN1bHRzXVxuICogQHBhcmFtIHtBcnJheX0gW3NlZWRdIEEgc2V0IG9mIGVsZW1lbnRzIHRvIG1hdGNoIGFnYWluc3RcbiAqL1xuc2VsZWN0ID0gU2l6emxlLnNlbGVjdCA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApIHtcblx0dmFyIGksIHRva2VucywgdG9rZW4sIHR5cGUsIGZpbmQsXG5cdFx0Y29tcGlsZWQgPSB0eXBlb2Ygc2VsZWN0b3IgPT09IFwiZnVuY3Rpb25cIiAmJiBzZWxlY3Rvcixcblx0XHRtYXRjaCA9ICFzZWVkICYmIHRva2VuaXplKCAoc2VsZWN0b3IgPSBjb21waWxlZC5zZWxlY3RvciB8fCBzZWxlY3RvcikgKTtcblxuXHRyZXN1bHRzID0gcmVzdWx0cyB8fCBbXTtcblxuXHQvLyBUcnkgdG8gbWluaW1pemUgb3BlcmF0aW9ucyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBzZWxlY3RvciBpbiB0aGUgbGlzdCBhbmQgbm8gc2VlZFxuXHQvLyAodGhlIGxhdHRlciBvZiB3aGljaCBndWFyYW50ZWVzIHVzIGNvbnRleHQpXG5cdGlmICggbWF0Y2gubGVuZ3RoID09PSAxICkge1xuXG5cdFx0Ly8gUmVkdWNlIGNvbnRleHQgaWYgdGhlIGxlYWRpbmcgY29tcG91bmQgc2VsZWN0b3IgaXMgYW4gSURcblx0XHR0b2tlbnMgPSBtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKCAwICk7XG5cdFx0aWYgKCB0b2tlbnMubGVuZ3RoID4gMiAmJiAodG9rZW4gPSB0b2tlbnNbMF0pLnR5cGUgPT09IFwiSURcIiAmJlxuXHRcdFx0XHRzdXBwb3J0LmdldEJ5SWQgJiYgY29udGV4dC5ub2RlVHlwZSA9PT0gOSAmJiBkb2N1bWVudElzSFRNTCAmJlxuXHRcdFx0XHRFeHByLnJlbGF0aXZlWyB0b2tlbnNbMV0udHlwZSBdICkge1xuXG5cdFx0XHRjb250ZXh0ID0gKCBFeHByLmZpbmRbXCJJRFwiXSggdG9rZW4ubWF0Y2hlc1swXS5yZXBsYWNlKHJ1bmVzY2FwZSwgZnVuZXNjYXBlKSwgY29udGV4dCApIHx8IFtdIClbMF07XG5cdFx0XHRpZiAoICFjb250ZXh0ICkge1xuXHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblxuXHRcdFx0Ly8gUHJlY29tcGlsZWQgbWF0Y2hlcnMgd2lsbCBzdGlsbCB2ZXJpZnkgYW5jZXN0cnksIHNvIHN0ZXAgdXAgYSBsZXZlbFxuXHRcdFx0fSBlbHNlIGlmICggY29tcGlsZWQgKSB7XG5cdFx0XHRcdGNvbnRleHQgPSBjb250ZXh0LnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cblx0XHRcdHNlbGVjdG9yID0gc2VsZWN0b3Iuc2xpY2UoIHRva2Vucy5zaGlmdCgpLnZhbHVlLmxlbmd0aCApO1xuXHRcdH1cblxuXHRcdC8vIEZldGNoIGEgc2VlZCBzZXQgZm9yIHJpZ2h0LXRvLWxlZnQgbWF0Y2hpbmdcblx0XHRpID0gbWF0Y2hFeHByW1wibmVlZHNDb250ZXh0XCJdLnRlc3QoIHNlbGVjdG9yICkgPyAwIDogdG9rZW5zLmxlbmd0aDtcblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdHRva2VuID0gdG9rZW5zW2ldO1xuXG5cdFx0XHQvLyBBYm9ydCBpZiB3ZSBoaXQgYSBjb21iaW5hdG9yXG5cdFx0XHRpZiAoIEV4cHIucmVsYXRpdmVbICh0eXBlID0gdG9rZW4udHlwZSkgXSApIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIChmaW5kID0gRXhwci5maW5kWyB0eXBlIF0pICkge1xuXHRcdFx0XHQvLyBTZWFyY2gsIGV4cGFuZGluZyBjb250ZXh0IGZvciBsZWFkaW5nIHNpYmxpbmcgY29tYmluYXRvcnNcblx0XHRcdFx0aWYgKCAoc2VlZCA9IGZpbmQoXG5cdFx0XHRcdFx0dG9rZW4ubWF0Y2hlc1swXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLFxuXHRcdFx0XHRcdHJzaWJsaW5nLnRlc3QoIHRva2Vuc1swXS50eXBlICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8IGNvbnRleHRcblx0XHRcdFx0KSkgKSB7XG5cblx0XHRcdFx0XHQvLyBJZiBzZWVkIGlzIGVtcHR5IG9yIG5vIHRva2VucyByZW1haW4sIHdlIGNhbiByZXR1cm4gZWFybHlcblx0XHRcdFx0XHR0b2tlbnMuc3BsaWNlKCBpLCAxICk7XG5cdFx0XHRcdFx0c2VsZWN0b3IgPSBzZWVkLmxlbmd0aCAmJiB0b1NlbGVjdG9yKCB0b2tlbnMgKTtcblx0XHRcdFx0XHRpZiAoICFzZWxlY3RvciApIHtcblx0XHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIHNlZWQgKTtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ29tcGlsZSBhbmQgZXhlY3V0ZSBhIGZpbHRlcmluZyBmdW5jdGlvbiBpZiBvbmUgaXMgbm90IHByb3ZpZGVkXG5cdC8vIFByb3ZpZGUgYG1hdGNoYCB0byBhdm9pZCByZXRva2VuaXphdGlvbiBpZiB3ZSBtb2RpZmllZCB0aGUgc2VsZWN0b3IgYWJvdmVcblx0KCBjb21waWxlZCB8fCBjb21waWxlKCBzZWxlY3RvciwgbWF0Y2ggKSApKFxuXHRcdHNlZWQsXG5cdFx0Y29udGV4dCxcblx0XHQhZG9jdW1lbnRJc0hUTUwsXG5cdFx0cmVzdWx0cyxcblx0XHQhY29udGV4dCB8fCByc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fCBjb250ZXh0XG5cdCk7XG5cdHJldHVybiByZXN1bHRzO1xufTtcblxuLy8gT25lLXRpbWUgYXNzaWdubWVudHNcblxuLy8gU29ydCBzdGFiaWxpdHlcbnN1cHBvcnQuc29ydFN0YWJsZSA9IGV4cGFuZG8uc3BsaXQoXCJcIikuc29ydCggc29ydE9yZGVyICkuam9pbihcIlwiKSA9PT0gZXhwYW5kbztcblxuLy8gU3VwcG9ydDogQ2hyb21lIDE0LTM1K1xuLy8gQWx3YXlzIGFzc3VtZSBkdXBsaWNhdGVzIGlmIHRoZXkgYXJlbid0IHBhc3NlZCB0byB0aGUgY29tcGFyaXNvbiBmdW5jdGlvblxuc3VwcG9ydC5kZXRlY3REdXBsaWNhdGVzID0gISFoYXNEdXBsaWNhdGU7XG5cbi8vIEluaXRpYWxpemUgYWdhaW5zdCB0aGUgZGVmYXVsdCBkb2N1bWVudFxuc2V0RG9jdW1lbnQoKTtcblxuLy8gU3VwcG9ydDogV2Via2l0PDUzNy4zMiAtIFNhZmFyaSA2LjAuMy9DaHJvbWUgMjUgKGZpeGVkIGluIENocm9tZSAyNylcbi8vIERldGFjaGVkIG5vZGVzIGNvbmZvdW5kaW5nbHkgZm9sbG93ICplYWNoIG90aGVyKlxuc3VwcG9ydC5zb3J0RGV0YWNoZWQgPSBhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHQvLyBTaG91bGQgcmV0dXJuIDEsIGJ1dCByZXR1cm5zIDQgKGZvbGxvd2luZylcblx0cmV0dXJuIGVsLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZmllbGRzZXRcIikgKSAmIDE7XG59KTtcblxuLy8gU3VwcG9ydDogSUU8OFxuLy8gUHJldmVudCBhdHRyaWJ1dGUvcHJvcGVydHkgXCJpbnRlcnBvbGF0aW9uXCJcbi8vIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXM1MzY0MjklMjhWUy44NSUyOS5hc3B4XG5pZiAoICFhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRlbC5pbm5lckhUTUwgPSBcIjxhIGhyZWY9JyMnPjwvYT5cIjtcblx0cmV0dXJuIGVsLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSA9PT0gXCIjXCIgO1xufSkgKSB7XG5cdGFkZEhhbmRsZSggXCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoXCIsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcblx0XHRpZiAoICFpc1hNTCApIHtcblx0XHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSwgbmFtZS50b0xvd2VyQ2FzZSgpID09PSBcInR5cGVcIiA/IDEgOiAyICk7XG5cdFx0fVxuXHR9KTtcbn1cblxuLy8gU3VwcG9ydDogSUU8OVxuLy8gVXNlIGRlZmF1bHRWYWx1ZSBpbiBwbGFjZSBvZiBnZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKVxuaWYgKCAhc3VwcG9ydC5hdHRyaWJ1dGVzIHx8ICFhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRlbC5pbm5lckhUTUwgPSBcIjxpbnB1dC8+XCI7XG5cdGVsLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCBcInZhbHVlXCIsIFwiXCIgKTtcblx0cmV0dXJuIGVsLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCBcInZhbHVlXCIgKSA9PT0gXCJcIjtcbn0pICkge1xuXHRhZGRIYW5kbGUoIFwidmFsdWVcIiwgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdGlmICggIWlzWE1MICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJpbnB1dFwiICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZGVmYXVsdFZhbHVlO1xuXHRcdH1cblx0fSk7XG59XG5cbi8vIFN1cHBvcnQ6IElFPDlcbi8vIFVzZSBnZXRBdHRyaWJ1dGVOb2RlIHRvIGZldGNoIGJvb2xlYW5zIHdoZW4gZ2V0QXR0cmlidXRlIGxpZXNcbmlmICggIWFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdHJldHVybiBlbC5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSA9PSBudWxsO1xufSkgKSB7XG5cdGFkZEhhbmRsZSggYm9vbGVhbnMsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcblx0XHR2YXIgdmFsO1xuXHRcdGlmICggIWlzWE1MICkge1xuXHRcdFx0cmV0dXJuIGVsZW1bIG5hbWUgXSA9PT0gdHJ1ZSA/IG5hbWUudG9Mb3dlckNhc2UoKSA6XG5cdFx0XHRcdFx0KHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggbmFtZSApKSAmJiB2YWwuc3BlY2lmaWVkID9cblx0XHRcdFx0XHR2YWwudmFsdWUgOlxuXHRcdFx0XHRudWxsO1xuXHRcdH1cblx0fSk7XG59XG5cbnJldHVybiBTaXp6bGU7XG5cbn0pKCB3aW5kb3cgKTtcblxuXG5cbmpRdWVyeS5maW5kID0gU2l6emxlO1xualF1ZXJ5LmV4cHIgPSBTaXp6bGUuc2VsZWN0b3JzO1xuXG4vLyBEZXByZWNhdGVkXG5qUXVlcnkuZXhwclsgXCI6XCIgXSA9IGpRdWVyeS5leHByLnBzZXVkb3M7XG5qUXVlcnkudW5pcXVlU29ydCA9IGpRdWVyeS51bmlxdWUgPSBTaXp6bGUudW5pcXVlU29ydDtcbmpRdWVyeS50ZXh0ID0gU2l6emxlLmdldFRleHQ7XG5qUXVlcnkuaXNYTUxEb2MgPSBTaXp6bGUuaXNYTUw7XG5qUXVlcnkuY29udGFpbnMgPSBTaXp6bGUuY29udGFpbnM7XG5qUXVlcnkuZXNjYXBlU2VsZWN0b3IgPSBTaXp6bGUuZXNjYXBlO1xuXG5cblxuXG52YXIgZGlyID0gZnVuY3Rpb24oIGVsZW0sIGRpciwgdW50aWwgKSB7XG5cdHZhciBtYXRjaGVkID0gW10sXG5cdFx0dHJ1bmNhdGUgPSB1bnRpbCAhPT0gdW5kZWZpbmVkO1xuXG5cdHdoaWxlICggKCBlbGVtID0gZWxlbVsgZGlyIF0gKSAmJiBlbGVtLm5vZGVUeXBlICE9PSA5ICkge1xuXHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdGlmICggdHJ1bmNhdGUgJiYgalF1ZXJ5KCBlbGVtICkuaXMoIHVudGlsICkgKSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0bWF0Y2hlZC5wdXNoKCBlbGVtICk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBtYXRjaGVkO1xufTtcblxuXG52YXIgc2libGluZ3MgPSBmdW5jdGlvbiggbiwgZWxlbSApIHtcblx0dmFyIG1hdGNoZWQgPSBbXTtcblxuXHRmb3IgKCA7IG47IG4gPSBuLm5leHRTaWJsaW5nICkge1xuXHRcdGlmICggbi5ub2RlVHlwZSA9PT0gMSAmJiBuICE9PSBlbGVtICkge1xuXHRcdFx0bWF0Y2hlZC5wdXNoKCBuICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIG1hdGNoZWQ7XG59O1xuXG5cbnZhciBybmVlZHNDb250ZXh0ID0galF1ZXJ5LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0O1xuXG52YXIgcnNpbmdsZVRhZyA9ICggL148KFthLXpdW15cXC9cXDA+OlxceDIwXFx0XFxyXFxuXFxmXSopW1xceDIwXFx0XFxyXFxuXFxmXSpcXC8/Pig/OjxcXC9cXDE+fCkkL2kgKTtcblxuXG5cbnZhciByaXNTaW1wbGUgPSAvXi5bXjojXFxbXFwuLF0qJC87XG5cbi8vIEltcGxlbWVudCB0aGUgaWRlbnRpY2FsIGZ1bmN0aW9uYWxpdHkgZm9yIGZpbHRlciBhbmQgbm90XG5mdW5jdGlvbiB3aW5ub3coIGVsZW1lbnRzLCBxdWFsaWZpZXIsIG5vdCApIHtcblx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcXVhbGlmaWVyICkgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0sIGkgKSB7XG5cdFx0XHRyZXR1cm4gISFxdWFsaWZpZXIuY2FsbCggZWxlbSwgaSwgZWxlbSApICE9PSBub3Q7XG5cdFx0fSApO1xuXG5cdH1cblxuXHRpZiAoIHF1YWxpZmllci5ub2RlVHlwZSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiAoIGVsZW0gPT09IHF1YWxpZmllciApICE9PSBub3Q7XG5cdFx0fSApO1xuXG5cdH1cblxuXHRpZiAoIHR5cGVvZiBxdWFsaWZpZXIgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0aWYgKCByaXNTaW1wbGUudGVzdCggcXVhbGlmaWVyICkgKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmZpbHRlciggcXVhbGlmaWVyLCBlbGVtZW50cywgbm90ICk7XG5cdFx0fVxuXG5cdFx0cXVhbGlmaWVyID0galF1ZXJ5LmZpbHRlciggcXVhbGlmaWVyLCBlbGVtZW50cyApO1xuXHR9XG5cblx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuICggaW5kZXhPZi5jYWxsKCBxdWFsaWZpZXIsIGVsZW0gKSA+IC0xICkgIT09IG5vdCAmJiBlbGVtLm5vZGVUeXBlID09PSAxO1xuXHR9ICk7XG59XG5cbmpRdWVyeS5maWx0ZXIgPSBmdW5jdGlvbiggZXhwciwgZWxlbXMsIG5vdCApIHtcblx0dmFyIGVsZW0gPSBlbGVtc1sgMCBdO1xuXG5cdGlmICggbm90ICkge1xuXHRcdGV4cHIgPSBcIjpub3QoXCIgKyBleHByICsgXCIpXCI7XG5cdH1cblxuXHRyZXR1cm4gZWxlbXMubGVuZ3RoID09PSAxICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgP1xuXHRcdGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggZWxlbSwgZXhwciApID8gWyBlbGVtIF0gOiBbXSA6XG5cdFx0alF1ZXJ5LmZpbmQubWF0Y2hlcyggZXhwciwgalF1ZXJ5LmdyZXAoIGVsZW1zLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtLm5vZGVUeXBlID09PSAxO1xuXHRcdH0gKSApO1xufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRmaW5kOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0dmFyIGksIHJldCxcblx0XHRcdGxlbiA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0c2VsZiA9IHRoaXM7XG5cblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5KCBzZWxlY3RvciApLmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHNlbGZbIGkgXSwgdGhpcyApICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9ICkgKTtcblx0XHR9XG5cblx0XHRyZXQgPSB0aGlzLnB1c2hTdGFjayggW10gKTtcblxuXHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRqUXVlcnkuZmluZCggc2VsZWN0b3IsIHNlbGZbIGkgXSwgcmV0ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGxlbiA+IDEgPyBqUXVlcnkudW5pcXVlU29ydCggcmV0ICkgOiByZXQ7XG5cdH0sXG5cdGZpbHRlcjogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggd2lubm93KCB0aGlzLCBzZWxlY3RvciB8fCBbXSwgZmFsc2UgKSApO1xuXHR9LFxuXHRub3Q6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHdpbm5vdyggdGhpcywgc2VsZWN0b3IgfHwgW10sIHRydWUgKSApO1xuXHR9LFxuXHRpczogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiAhIXdpbm5vdyhcblx0XHRcdHRoaXMsXG5cblx0XHRcdC8vIElmIHRoaXMgaXMgYSBwb3NpdGlvbmFsL3JlbGF0aXZlIHNlbGVjdG9yLCBjaGVjayBtZW1iZXJzaGlwIGluIHRoZSByZXR1cm5lZCBzZXRcblx0XHRcdC8vIHNvICQoXCJwOmZpcnN0XCIpLmlzKFwicDpsYXN0XCIpIHdvbid0IHJldHVybiB0cnVlIGZvciBhIGRvYyB3aXRoIHR3byBcInBcIi5cblx0XHRcdHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiAmJiBybmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9yICkgP1xuXHRcdFx0XHRqUXVlcnkoIHNlbGVjdG9yICkgOlxuXHRcdFx0XHRzZWxlY3RvciB8fCBbXSxcblx0XHRcdGZhbHNlXG5cdFx0KS5sZW5ndGg7XG5cdH1cbn0gKTtcblxuXG4vLyBJbml0aWFsaXplIGEgalF1ZXJ5IG9iamVjdFxuXG5cbi8vIEEgY2VudHJhbCByZWZlcmVuY2UgdG8gdGhlIHJvb3QgalF1ZXJ5KGRvY3VtZW50KVxudmFyIHJvb3RqUXVlcnksXG5cblx0Ly8gQSBzaW1wbGUgd2F5IHRvIGNoZWNrIGZvciBIVE1MIHN0cmluZ3Ncblx0Ly8gUHJpb3JpdGl6ZSAjaWQgb3ZlciA8dGFnPiB0byBhdm9pZCBYU1MgdmlhIGxvY2F0aW9uLmhhc2ggKCM5NTIxKVxuXHQvLyBTdHJpY3QgSFRNTCByZWNvZ25pdGlvbiAoIzExMjkwOiBtdXN0IHN0YXJ0IHdpdGggPClcblx0Ly8gU2hvcnRjdXQgc2ltcGxlICNpZCBjYXNlIGZvciBzcGVlZFxuXHRycXVpY2tFeHByID0gL14oPzpcXHMqKDxbXFx3XFxXXSs+KVtePl0qfCMoW1xcdy1dKykpJC8sXG5cblx0aW5pdCA9IGpRdWVyeS5mbi5pbml0ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0LCByb290ICkge1xuXHRcdHZhciBtYXRjaCwgZWxlbTtcblxuXHRcdC8vIEhBTkRMRTogJChcIlwiKSwgJChudWxsKSwgJCh1bmRlZmluZWQpLCAkKGZhbHNlKVxuXHRcdGlmICggIXNlbGVjdG9yICkge1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXG5cdFx0Ly8gTWV0aG9kIGluaXQoKSBhY2NlcHRzIGFuIGFsdGVybmF0ZSByb290alF1ZXJ5XG5cdFx0Ly8gc28gbWlncmF0ZSBjYW4gc3VwcG9ydCBqUXVlcnkuc3ViIChnaC0yMTAxKVxuXHRcdHJvb3QgPSByb290IHx8IHJvb3RqUXVlcnk7XG5cblx0XHQvLyBIYW5kbGUgSFRNTCBzdHJpbmdzXG5cdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRpZiAoIHNlbGVjdG9yWyAwIF0gPT09IFwiPFwiICYmXG5cdFx0XHRcdHNlbGVjdG9yWyBzZWxlY3Rvci5sZW5ndGggLSAxIF0gPT09IFwiPlwiICYmXG5cdFx0XHRcdHNlbGVjdG9yLmxlbmd0aCA+PSAzICkge1xuXG5cdFx0XHRcdC8vIEFzc3VtZSB0aGF0IHN0cmluZ3MgdGhhdCBzdGFydCBhbmQgZW5kIHdpdGggPD4gYXJlIEhUTUwgYW5kIHNraXAgdGhlIHJlZ2V4IGNoZWNrXG5cdFx0XHRcdG1hdGNoID0gWyBudWxsLCBzZWxlY3RvciwgbnVsbCBdO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRtYXRjaCA9IHJxdWlja0V4cHIuZXhlYyggc2VsZWN0b3IgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTWF0Y2ggaHRtbCBvciBtYWtlIHN1cmUgbm8gY29udGV4dCBpcyBzcGVjaWZpZWQgZm9yICNpZFxuXHRcdFx0aWYgKCBtYXRjaCAmJiAoIG1hdGNoWyAxIF0gfHwgIWNvbnRleHQgKSApIHtcblxuXHRcdFx0XHQvLyBIQU5ETEU6ICQoaHRtbCkgLT4gJChhcnJheSlcblx0XHRcdFx0aWYgKCBtYXRjaFsgMSBdICkge1xuXHRcdFx0XHRcdGNvbnRleHQgPSBjb250ZXh0IGluc3RhbmNlb2YgalF1ZXJ5ID8gY29udGV4dFsgMCBdIDogY29udGV4dDtcblxuXHRcdFx0XHRcdC8vIE9wdGlvbiB0byBydW4gc2NyaXB0cyBpcyB0cnVlIGZvciBiYWNrLWNvbXBhdFxuXHRcdFx0XHRcdC8vIEludGVudGlvbmFsbHkgbGV0IHRoZSBlcnJvciBiZSB0aHJvd24gaWYgcGFyc2VIVE1MIGlzIG5vdCBwcmVzZW50XG5cdFx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCB0aGlzLCBqUXVlcnkucGFyc2VIVE1MKFxuXHRcdFx0XHRcdFx0bWF0Y2hbIDEgXSxcblx0XHRcdFx0XHRcdGNvbnRleHQgJiYgY29udGV4dC5ub2RlVHlwZSA/IGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0IDogZG9jdW1lbnQsXG5cdFx0XHRcdFx0XHR0cnVlXG5cdFx0XHRcdFx0KSApO1xuXG5cdFx0XHRcdFx0Ly8gSEFORExFOiAkKGh0bWwsIHByb3BzKVxuXHRcdFx0XHRcdGlmICggcnNpbmdsZVRhZy50ZXN0KCBtYXRjaFsgMSBdICkgJiYgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGNvbnRleHQgKSApIHtcblx0XHRcdFx0XHRcdGZvciAoIG1hdGNoIGluIGNvbnRleHQgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gUHJvcGVydGllcyBvZiBjb250ZXh0IGFyZSBjYWxsZWQgYXMgbWV0aG9kcyBpZiBwb3NzaWJsZVxuXHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB0aGlzWyBtYXRjaCBdICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpc1sgbWF0Y2ggXSggY29udGV4dFsgbWF0Y2ggXSApO1xuXG5cdFx0XHRcdFx0XHRcdC8vIC4uLmFuZCBvdGhlcndpc2Ugc2V0IGFzIGF0dHJpYnV0ZXNcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmF0dHIoIG1hdGNoLCBjb250ZXh0WyBtYXRjaCBdICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblxuXHRcdFx0XHQvLyBIQU5ETEU6ICQoI2lkKVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggbWF0Y2hbIDIgXSApO1xuXG5cdFx0XHRcdFx0aWYgKCBlbGVtICkge1xuXG5cdFx0XHRcdFx0XHQvLyBJbmplY3QgdGhlIGVsZW1lbnQgZGlyZWN0bHkgaW50byB0aGUgalF1ZXJ5IG9iamVjdFxuXHRcdFx0XHRcdFx0dGhpc1sgMCBdID0gZWxlbTtcblx0XHRcdFx0XHRcdHRoaXMubGVuZ3RoID0gMTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH1cblxuXHRcdFx0Ly8gSEFORExFOiAkKGV4cHIsICQoLi4uKSlcblx0XHRcdH0gZWxzZSBpZiAoICFjb250ZXh0IHx8IGNvbnRleHQuanF1ZXJ5ICkge1xuXHRcdFx0XHRyZXR1cm4gKCBjb250ZXh0IHx8IHJvb3QgKS5maW5kKCBzZWxlY3RvciApO1xuXG5cdFx0XHQvLyBIQU5ETEU6ICQoZXhwciwgY29udGV4dClcblx0XHRcdC8vICh3aGljaCBpcyBqdXN0IGVxdWl2YWxlbnQgdG86ICQoY29udGV4dCkuZmluZChleHByKVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuY29uc3RydWN0b3IoIGNvbnRleHQgKS5maW5kKCBzZWxlY3RvciApO1xuXHRcdFx0fVxuXG5cdFx0Ly8gSEFORExFOiAkKERPTUVsZW1lbnQpXG5cdFx0fSBlbHNlIGlmICggc2VsZWN0b3Iubm9kZVR5cGUgKSB7XG5cdFx0XHR0aGlzWyAwIF0gPSBzZWxlY3Rvcjtcblx0XHRcdHRoaXMubGVuZ3RoID0gMTtcblx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0Ly8gSEFORExFOiAkKGZ1bmN0aW9uKVxuXHRcdC8vIFNob3J0Y3V0IGZvciBkb2N1bWVudCByZWFkeVxuXHRcdH0gZWxzZSBpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBzZWxlY3RvciApICkge1xuXHRcdFx0cmV0dXJuIHJvb3QucmVhZHkgIT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdHJvb3QucmVhZHkoIHNlbGVjdG9yICkgOlxuXG5cdFx0XHRcdC8vIEV4ZWN1dGUgaW1tZWRpYXRlbHkgaWYgcmVhZHkgaXMgbm90IHByZXNlbnRcblx0XHRcdFx0c2VsZWN0b3IoIGpRdWVyeSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBqUXVlcnkubWFrZUFycmF5KCBzZWxlY3RvciwgdGhpcyApO1xuXHR9O1xuXG4vLyBHaXZlIHRoZSBpbml0IGZ1bmN0aW9uIHRoZSBqUXVlcnkgcHJvdG90eXBlIGZvciBsYXRlciBpbnN0YW50aWF0aW9uXG5pbml0LnByb3RvdHlwZSA9IGpRdWVyeS5mbjtcblxuLy8gSW5pdGlhbGl6ZSBjZW50cmFsIHJlZmVyZW5jZVxucm9vdGpRdWVyeSA9IGpRdWVyeSggZG9jdW1lbnQgKTtcblxuXG52YXIgcnBhcmVudHNwcmV2ID0gL14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sXG5cblx0Ly8gTWV0aG9kcyBndWFyYW50ZWVkIHRvIHByb2R1Y2UgYSB1bmlxdWUgc2V0IHdoZW4gc3RhcnRpbmcgZnJvbSBhIHVuaXF1ZSBzZXRcblx0Z3VhcmFudGVlZFVuaXF1ZSA9IHtcblx0XHRjaGlsZHJlbjogdHJ1ZSxcblx0XHRjb250ZW50czogdHJ1ZSxcblx0XHRuZXh0OiB0cnVlLFxuXHRcdHByZXY6IHRydWVcblx0fTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRoYXM6IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XG5cdFx0dmFyIHRhcmdldHMgPSBqUXVlcnkoIHRhcmdldCwgdGhpcyApLFxuXHRcdFx0bCA9IHRhcmdldHMubGVuZ3RoO1xuXG5cdFx0cmV0dXJuIHRoaXMuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpID0gMDtcblx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHRoaXMsIHRhcmdldHNbIGkgXSApICkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGNsb3Nlc3Q6IGZ1bmN0aW9uKCBzZWxlY3RvcnMsIGNvbnRleHQgKSB7XG5cdFx0dmFyIGN1cixcblx0XHRcdGkgPSAwLFxuXHRcdFx0bCA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0bWF0Y2hlZCA9IFtdLFxuXHRcdFx0dGFyZ2V0cyA9IHR5cGVvZiBzZWxlY3RvcnMgIT09IFwic3RyaW5nXCIgJiYgalF1ZXJ5KCBzZWxlY3RvcnMgKTtcblxuXHRcdC8vIFBvc2l0aW9uYWwgc2VsZWN0b3JzIG5ldmVyIG1hdGNoLCBzaW5jZSB0aGVyZSdzIG5vIF9zZWxlY3Rpb25fIGNvbnRleHRcblx0XHRpZiAoICFybmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9ycyApICkge1xuXHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRmb3IgKCBjdXIgPSB0aGlzWyBpIF07IGN1ciAmJiBjdXIgIT09IGNvbnRleHQ7IGN1ciA9IGN1ci5wYXJlbnROb2RlICkge1xuXG5cdFx0XHRcdFx0Ly8gQWx3YXlzIHNraXAgZG9jdW1lbnQgZnJhZ21lbnRzXG5cdFx0XHRcdFx0aWYgKCBjdXIubm9kZVR5cGUgPCAxMSAmJiAoIHRhcmdldHMgP1xuXHRcdFx0XHRcdFx0dGFyZ2V0cy5pbmRleCggY3VyICkgPiAtMSA6XG5cblx0XHRcdFx0XHRcdC8vIERvbid0IHBhc3Mgbm9uLWVsZW1lbnRzIHRvIFNpenpsZVxuXHRcdFx0XHRcdFx0Y3VyLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdFx0XHRcdGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggY3VyLCBzZWxlY3RvcnMgKSApICkge1xuXG5cdFx0XHRcdFx0XHRtYXRjaGVkLnB1c2goIGN1ciApO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBtYXRjaGVkLmxlbmd0aCA+IDEgPyBqUXVlcnkudW5pcXVlU29ydCggbWF0Y2hlZCApIDogbWF0Y2hlZCApO1xuXHR9LFxuXG5cdC8vIERldGVybWluZSB0aGUgcG9zaXRpb24gb2YgYW4gZWxlbWVudCB3aXRoaW4gdGhlIHNldFxuXHRpbmRleDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHQvLyBObyBhcmd1bWVudCwgcmV0dXJuIGluZGV4IGluIHBhcmVudFxuXHRcdGlmICggIWVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gKCB0aGlzWyAwIF0gJiYgdGhpc1sgMCBdLnBhcmVudE5vZGUgKSA/IHRoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoIDogLTE7XG5cdFx0fVxuXG5cdFx0Ly8gSW5kZXggaW4gc2VsZWN0b3Jcblx0XHRpZiAoIHR5cGVvZiBlbGVtID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIGluZGV4T2YuY2FsbCggalF1ZXJ5KCBlbGVtICksIHRoaXNbIDAgXSApO1xuXHRcdH1cblxuXHRcdC8vIExvY2F0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIGRlc2lyZWQgZWxlbWVudFxuXHRcdHJldHVybiBpbmRleE9mLmNhbGwoIHRoaXMsXG5cblx0XHRcdC8vIElmIGl0IHJlY2VpdmVzIGEgalF1ZXJ5IG9iamVjdCwgdGhlIGZpcnN0IGVsZW1lbnQgaXMgdXNlZFxuXHRcdFx0ZWxlbS5qcXVlcnkgPyBlbGVtWyAwIF0gOiBlbGVtXG5cdFx0KTtcblx0fSxcblxuXHRhZGQ6IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soXG5cdFx0XHRqUXVlcnkudW5pcXVlU29ydChcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCB0aGlzLmdldCgpLCBqUXVlcnkoIHNlbGVjdG9yLCBjb250ZXh0ICkgKVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0YWRkQmFjazogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLmFkZCggc2VsZWN0b3IgPT0gbnVsbCA/XG5cdFx0XHR0aGlzLnByZXZPYmplY3QgOiB0aGlzLnByZXZPYmplY3QuZmlsdGVyKCBzZWxlY3RvciApXG5cdFx0KTtcblx0fVxufSApO1xuXG5mdW5jdGlvbiBzaWJsaW5nKCBjdXIsIGRpciApIHtcblx0d2hpbGUgKCAoIGN1ciA9IGN1clsgZGlyIF0gKSAmJiBjdXIubm9kZVR5cGUgIT09IDEgKSB7fVxuXHRyZXR1cm4gY3VyO1xufVxuXG5qUXVlcnkuZWFjaCgge1xuXHRwYXJlbnQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cdFx0cmV0dXJuIHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgIT09IDExID8gcGFyZW50IDogbnVsbDtcblx0fSxcblx0cGFyZW50czogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIgKTtcblx0fSxcblx0cGFyZW50c1VudGlsOiBmdW5jdGlvbiggZWxlbSwgaSwgdW50aWwgKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIsIHVudGlsICk7XG5cdH0sXG5cdG5leHQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5nKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIgKTtcblx0fSxcblx0cHJldjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmcoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIgKTtcblx0fSxcblx0bmV4dEFsbDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJuZXh0U2libGluZ1wiICk7XG5cdH0sXG5cdHByZXZBbGw6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIgKTtcblx0fSxcblx0bmV4dFVudGlsOiBmdW5jdGlvbiggZWxlbSwgaSwgdW50aWwgKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJuZXh0U2libGluZ1wiLCB1bnRpbCApO1xuXHR9LFxuXHRwcmV2VW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiLCB1bnRpbCApO1xuXHR9LFxuXHRzaWJsaW5nczogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmdzKCAoIGVsZW0ucGFyZW50Tm9kZSB8fCB7fSApLmZpcnN0Q2hpbGQsIGVsZW0gKTtcblx0fSxcblx0Y2hpbGRyZW46IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5ncyggZWxlbS5maXJzdENoaWxkICk7XG5cdH0sXG5cdGNvbnRlbnRzOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZWxlbS5jb250ZW50RG9jdW1lbnQgfHwgalF1ZXJ5Lm1lcmdlKCBbXSwgZWxlbS5jaGlsZE5vZGVzICk7XG5cdH1cbn0sIGZ1bmN0aW9uKCBuYW1lLCBmbiApIHtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggdW50aWwsIHNlbGVjdG9yICkge1xuXHRcdHZhciBtYXRjaGVkID0galF1ZXJ5Lm1hcCggdGhpcywgZm4sIHVudGlsICk7XG5cblx0XHRpZiAoIG5hbWUuc2xpY2UoIC01ICkgIT09IFwiVW50aWxcIiApIHtcblx0XHRcdHNlbGVjdG9yID0gdW50aWw7XG5cdFx0fVxuXG5cdFx0aWYgKCBzZWxlY3RvciAmJiB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRtYXRjaGVkID0galF1ZXJ5LmZpbHRlciggc2VsZWN0b3IsIG1hdGNoZWQgKTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMubGVuZ3RoID4gMSApIHtcblxuXHRcdFx0Ly8gUmVtb3ZlIGR1cGxpY2F0ZXNcblx0XHRcdGlmICggIWd1YXJhbnRlZWRVbmlxdWVbIG5hbWUgXSApIHtcblx0XHRcdFx0alF1ZXJ5LnVuaXF1ZVNvcnQoIG1hdGNoZWQgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmV2ZXJzZSBvcmRlciBmb3IgcGFyZW50cyogYW5kIHByZXYtZGVyaXZhdGl2ZXNcblx0XHRcdGlmICggcnBhcmVudHNwcmV2LnRlc3QoIG5hbWUgKSApIHtcblx0XHRcdFx0bWF0Y2hlZC5yZXZlcnNlKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBtYXRjaGVkICk7XG5cdH07XG59ICk7XG52YXIgcm5vdHdoaXRlID0gKCAvXFxTKy9nICk7XG5cblxuXG4vLyBDb252ZXJ0IFN0cmluZy1mb3JtYXR0ZWQgb3B0aW9ucyBpbnRvIE9iamVjdC1mb3JtYXR0ZWQgb25lc1xuZnVuY3Rpb24gY3JlYXRlT3B0aW9ucyggb3B0aW9ucyApIHtcblx0dmFyIG9iamVjdCA9IHt9O1xuXHRqUXVlcnkuZWFjaCggb3B0aW9ucy5tYXRjaCggcm5vdHdoaXRlICkgfHwgW10sIGZ1bmN0aW9uKCBfLCBmbGFnICkge1xuXHRcdG9iamVjdFsgZmxhZyBdID0gdHJ1ZTtcblx0fSApO1xuXHRyZXR1cm4gb2JqZWN0O1xufVxuXG4vKlxuICogQ3JlYXRlIGEgY2FsbGJhY2sgbGlzdCB1c2luZyB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XG4gKlxuICpcdG9wdGlvbnM6IGFuIG9wdGlvbmFsIGxpc3Qgb2Ygc3BhY2Utc2VwYXJhdGVkIG9wdGlvbnMgdGhhdCB3aWxsIGNoYW5nZSBob3dcbiAqXHRcdFx0dGhlIGNhbGxiYWNrIGxpc3QgYmVoYXZlcyBvciBhIG1vcmUgdHJhZGl0aW9uYWwgb3B0aW9uIG9iamVjdFxuICpcbiAqIEJ5IGRlZmF1bHQgYSBjYWxsYmFjayBsaXN0IHdpbGwgYWN0IGxpa2UgYW4gZXZlbnQgY2FsbGJhY2sgbGlzdCBhbmQgY2FuIGJlXG4gKiBcImZpcmVkXCIgbXVsdGlwbGUgdGltZXMuXG4gKlxuICogUG9zc2libGUgb3B0aW9uczpcbiAqXG4gKlx0b25jZTpcdFx0XHR3aWxsIGVuc3VyZSB0aGUgY2FsbGJhY2sgbGlzdCBjYW4gb25seSBiZSBmaXJlZCBvbmNlIChsaWtlIGEgRGVmZXJyZWQpXG4gKlxuICpcdG1lbW9yeTpcdFx0XHR3aWxsIGtlZXAgdHJhY2sgb2YgcHJldmlvdXMgdmFsdWVzIGFuZCB3aWxsIGNhbGwgYW55IGNhbGxiYWNrIGFkZGVkXG4gKlx0XHRcdFx0XHRhZnRlciB0aGUgbGlzdCBoYXMgYmVlbiBmaXJlZCByaWdodCBhd2F5IHdpdGggdGhlIGxhdGVzdCBcIm1lbW9yaXplZFwiXG4gKlx0XHRcdFx0XHR2YWx1ZXMgKGxpa2UgYSBEZWZlcnJlZClcbiAqXG4gKlx0dW5pcXVlOlx0XHRcdHdpbGwgZW5zdXJlIGEgY2FsbGJhY2sgY2FuIG9ubHkgYmUgYWRkZWQgb25jZSAobm8gZHVwbGljYXRlIGluIHRoZSBsaXN0KVxuICpcbiAqXHRzdG9wT25GYWxzZTpcdGludGVycnVwdCBjYWxsaW5ncyB3aGVuIGEgY2FsbGJhY2sgcmV0dXJucyBmYWxzZVxuICpcbiAqL1xualF1ZXJ5LkNhbGxiYWNrcyA9IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG5cdC8vIENvbnZlcnQgb3B0aW9ucyBmcm9tIFN0cmluZy1mb3JtYXR0ZWQgdG8gT2JqZWN0LWZvcm1hdHRlZCBpZiBuZWVkZWRcblx0Ly8gKHdlIGNoZWNrIGluIGNhY2hlIGZpcnN0KVxuXHRvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIgP1xuXHRcdGNyZWF0ZU9wdGlvbnMoIG9wdGlvbnMgKSA6XG5cdFx0alF1ZXJ5LmV4dGVuZCgge30sIG9wdGlvbnMgKTtcblxuXHR2YXIgLy8gRmxhZyB0byBrbm93IGlmIGxpc3QgaXMgY3VycmVudGx5IGZpcmluZ1xuXHRcdGZpcmluZyxcblxuXHRcdC8vIExhc3QgZmlyZSB2YWx1ZSBmb3Igbm9uLWZvcmdldHRhYmxlIGxpc3RzXG5cdFx0bWVtb3J5LFxuXG5cdFx0Ly8gRmxhZyB0byBrbm93IGlmIGxpc3Qgd2FzIGFscmVhZHkgZmlyZWRcblx0XHRmaXJlZCxcblxuXHRcdC8vIEZsYWcgdG8gcHJldmVudCBmaXJpbmdcblx0XHRsb2NrZWQsXG5cblx0XHQvLyBBY3R1YWwgY2FsbGJhY2sgbGlzdFxuXHRcdGxpc3QgPSBbXSxcblxuXHRcdC8vIFF1ZXVlIG9mIGV4ZWN1dGlvbiBkYXRhIGZvciByZXBlYXRhYmxlIGxpc3RzXG5cdFx0cXVldWUgPSBbXSxcblxuXHRcdC8vIEluZGV4IG9mIGN1cnJlbnRseSBmaXJpbmcgY2FsbGJhY2sgKG1vZGlmaWVkIGJ5IGFkZC9yZW1vdmUgYXMgbmVlZGVkKVxuXHRcdGZpcmluZ0luZGV4ID0gLTEsXG5cblx0XHQvLyBGaXJlIGNhbGxiYWNrc1xuXHRcdGZpcmUgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gRW5mb3JjZSBzaW5nbGUtZmlyaW5nXG5cdFx0XHRsb2NrZWQgPSBvcHRpb25zLm9uY2U7XG5cblx0XHRcdC8vIEV4ZWN1dGUgY2FsbGJhY2tzIGZvciBhbGwgcGVuZGluZyBleGVjdXRpb25zLFxuXHRcdFx0Ly8gcmVzcGVjdGluZyBmaXJpbmdJbmRleCBvdmVycmlkZXMgYW5kIHJ1bnRpbWUgY2hhbmdlc1xuXHRcdFx0ZmlyZWQgPSBmaXJpbmcgPSB0cnVlO1xuXHRcdFx0Zm9yICggOyBxdWV1ZS5sZW5ndGg7IGZpcmluZ0luZGV4ID0gLTEgKSB7XG5cdFx0XHRcdG1lbW9yeSA9IHF1ZXVlLnNoaWZ0KCk7XG5cdFx0XHRcdHdoaWxlICggKytmaXJpbmdJbmRleCA8IGxpc3QubGVuZ3RoICkge1xuXG5cdFx0XHRcdFx0Ly8gUnVuIGNhbGxiYWNrIGFuZCBjaGVjayBmb3IgZWFybHkgdGVybWluYXRpb25cblx0XHRcdFx0XHRpZiAoIGxpc3RbIGZpcmluZ0luZGV4IF0uYXBwbHkoIG1lbW9yeVsgMCBdLCBtZW1vcnlbIDEgXSApID09PSBmYWxzZSAmJlxuXHRcdFx0XHRcdFx0b3B0aW9ucy5zdG9wT25GYWxzZSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSnVtcCB0byBlbmQgYW5kIGZvcmdldCB0aGUgZGF0YSBzbyAuYWRkIGRvZXNuJ3QgcmUtZmlyZVxuXHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aDtcblx0XHRcdFx0XHRcdG1lbW9yeSA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBGb3JnZXQgdGhlIGRhdGEgaWYgd2UncmUgZG9uZSB3aXRoIGl0XG5cdFx0XHRpZiAoICFvcHRpb25zLm1lbW9yeSApIHtcblx0XHRcdFx0bWVtb3J5ID0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGZpcmluZyA9IGZhbHNlO1xuXG5cdFx0XHQvLyBDbGVhbiB1cCBpZiB3ZSdyZSBkb25lIGZpcmluZyBmb3IgZ29vZFxuXHRcdFx0aWYgKCBsb2NrZWQgKSB7XG5cblx0XHRcdFx0Ly8gS2VlcCBhbiBlbXB0eSBsaXN0IGlmIHdlIGhhdmUgZGF0YSBmb3IgZnV0dXJlIGFkZCBjYWxsc1xuXHRcdFx0XHRpZiAoIG1lbW9yeSApIHtcblx0XHRcdFx0XHRsaXN0ID0gW107XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCB0aGlzIG9iamVjdCBpcyBzcGVudFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxpc3QgPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8vIEFjdHVhbCBDYWxsYmFja3Mgb2JqZWN0XG5cdFx0c2VsZiA9IHtcblxuXHRcdFx0Ly8gQWRkIGEgY2FsbGJhY2sgb3IgYSBjb2xsZWN0aW9uIG9mIGNhbGxiYWNrcyB0byB0aGUgbGlzdFxuXHRcdFx0YWRkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBsaXN0ICkge1xuXG5cdFx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBtZW1vcnkgZnJvbSBhIHBhc3QgcnVuLCB3ZSBzaG91bGQgZmlyZSBhZnRlciBhZGRpbmdcblx0XHRcdFx0XHRpZiAoIG1lbW9yeSAmJiAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aCAtIDE7XG5cdFx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBtZW1vcnkgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQoIGZ1bmN0aW9uIGFkZCggYXJncyApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCBhcmdzLCBmdW5jdGlvbiggXywgYXJnICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBhcmcgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoICFvcHRpb25zLnVuaXF1ZSB8fCAhc2VsZi5oYXMoIGFyZyApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0bGlzdC5wdXNoKCBhcmcgKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIGFyZyAmJiBhcmcubGVuZ3RoICYmIGpRdWVyeS50eXBlKCBhcmcgKSAhPT0gXCJzdHJpbmdcIiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIEluc3BlY3QgcmVjdXJzaXZlbHlcblx0XHRcdFx0XHRcdFx0XHRhZGQoIGFyZyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0fSApKCBhcmd1bWVudHMgKTtcblxuXHRcdFx0XHRcdGlmICggbWVtb3J5ICYmICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRmaXJlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gUmVtb3ZlIGEgY2FsbGJhY2sgZnJvbSB0aGUgbGlzdFxuXHRcdFx0cmVtb3ZlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5LmVhY2goIGFyZ3VtZW50cywgZnVuY3Rpb24oIF8sIGFyZyApIHtcblx0XHRcdFx0XHR2YXIgaW5kZXg7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGluZGV4ID0galF1ZXJ5LmluQXJyYXkoIGFyZywgbGlzdCwgaW5kZXggKSApID4gLTEgKSB7XG5cdFx0XHRcdFx0XHRsaXN0LnNwbGljZSggaW5kZXgsIDEgKTtcblxuXHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGZpcmluZyBpbmRleGVzXG5cdFx0XHRcdFx0XHRpZiAoIGluZGV4IDw9IGZpcmluZ0luZGV4ICkge1xuXHRcdFx0XHRcdFx0XHRmaXJpbmdJbmRleC0tO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIENoZWNrIGlmIGEgZ2l2ZW4gY2FsbGJhY2sgaXMgaW4gdGhlIGxpc3QuXG5cdFx0XHQvLyBJZiBubyBhcmd1bWVudCBpcyBnaXZlbiwgcmV0dXJuIHdoZXRoZXIgb3Igbm90IGxpc3QgaGFzIGNhbGxiYWNrcyBhdHRhY2hlZC5cblx0XHRcdGhhczogZnVuY3Rpb24oIGZuICkge1xuXHRcdFx0XHRyZXR1cm4gZm4gP1xuXHRcdFx0XHRcdGpRdWVyeS5pbkFycmF5KCBmbiwgbGlzdCApID4gLTEgOlxuXHRcdFx0XHRcdGxpc3QubGVuZ3RoID4gMDtcblx0XHRcdH0sXG5cblx0XHRcdC8vIFJlbW92ZSBhbGwgY2FsbGJhY2tzIGZyb20gdGhlIGxpc3Rcblx0XHRcdGVtcHR5OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBsaXN0ICkge1xuXHRcdFx0XHRcdGxpc3QgPSBbXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIERpc2FibGUgLmZpcmUgYW5kIC5hZGRcblx0XHRcdC8vIEFib3J0IGFueSBjdXJyZW50L3BlbmRpbmcgZXhlY3V0aW9uc1xuXHRcdFx0Ly8gQ2xlYXIgYWxsIGNhbGxiYWNrcyBhbmQgdmFsdWVzXG5cdFx0XHRkaXNhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0bG9ja2VkID0gcXVldWUgPSBbXTtcblx0XHRcdFx0bGlzdCA9IG1lbW9yeSA9IFwiXCI7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblx0XHRcdGRpc2FibGVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICFsaXN0O1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gRGlzYWJsZSAuZmlyZVxuXHRcdFx0Ly8gQWxzbyBkaXNhYmxlIC5hZGQgdW5sZXNzIHdlIGhhdmUgbWVtb3J5IChzaW5jZSBpdCB3b3VsZCBoYXZlIG5vIGVmZmVjdClcblx0XHRcdC8vIEFib3J0IGFueSBwZW5kaW5nIGV4ZWN1dGlvbnNcblx0XHRcdGxvY2s6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRsb2NrZWQgPSBxdWV1ZSA9IFtdO1xuXHRcdFx0XHRpZiAoICFtZW1vcnkgJiYgIWZpcmluZyApIHtcblx0XHRcdFx0XHRsaXN0ID0gbWVtb3J5ID0gXCJcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cdFx0XHRsb2NrZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gISFsb2NrZWQ7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBDYWxsIGFsbCBjYWxsYmFja3Mgd2l0aCB0aGUgZ2l2ZW4gY29udGV4dCBhbmQgYXJndW1lbnRzXG5cdFx0XHRmaXJlV2l0aDogZnVuY3Rpb24oIGNvbnRleHQsIGFyZ3MgKSB7XG5cdFx0XHRcdGlmICggIWxvY2tlZCApIHtcblx0XHRcdFx0XHRhcmdzID0gYXJncyB8fCBbXTtcblx0XHRcdFx0XHRhcmdzID0gWyBjb250ZXh0LCBhcmdzLnNsaWNlID8gYXJncy5zbGljZSgpIDogYXJncyBdO1xuXHRcdFx0XHRcdHF1ZXVlLnB1c2goIGFyZ3MgKTtcblx0XHRcdFx0XHRpZiAoICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRmaXJlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gQ2FsbCBhbGwgdGhlIGNhbGxiYWNrcyB3aXRoIHRoZSBnaXZlbiBhcmd1bWVudHNcblx0XHRcdGZpcmU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLmZpcmVXaXRoKCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBUbyBrbm93IGlmIHRoZSBjYWxsYmFja3MgaGF2ZSBhbHJlYWR5IGJlZW4gY2FsbGVkIGF0IGxlYXN0IG9uY2Vcblx0XHRcdGZpcmVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICEhZmlyZWQ7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRyZXR1cm4gc2VsZjtcbn07XG5cblxuZnVuY3Rpb24gSWRlbnRpdHkoIHYgKSB7XG5cdHJldHVybiB2O1xufVxuZnVuY3Rpb24gVGhyb3dlciggZXggKSB7XG5cdHRocm93IGV4O1xufVxuXG5mdW5jdGlvbiBhZG9wdFZhbHVlKCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0ICkge1xuXHR2YXIgbWV0aG9kO1xuXG5cdHRyeSB7XG5cblx0XHQvLyBDaGVjayBmb3IgcHJvbWlzZSBhc3BlY3QgZmlyc3QgdG8gcHJpdmlsZWdlIHN5bmNocm9ub3VzIGJlaGF2aW9yXG5cdFx0aWYgKCB2YWx1ZSAmJiBqUXVlcnkuaXNGdW5jdGlvbiggKCBtZXRob2QgPSB2YWx1ZS5wcm9taXNlICkgKSApIHtcblx0XHRcdG1ldGhvZC5jYWxsKCB2YWx1ZSApLmRvbmUoIHJlc29sdmUgKS5mYWlsKCByZWplY3QgKTtcblxuXHRcdC8vIE90aGVyIHRoZW5hYmxlc1xuXHRcdH0gZWxzZSBpZiAoIHZhbHVlICYmIGpRdWVyeS5pc0Z1bmN0aW9uKCAoIG1ldGhvZCA9IHZhbHVlLnRoZW4gKSApICkge1xuXHRcdFx0bWV0aG9kLmNhbGwoIHZhbHVlLCByZXNvbHZlLCByZWplY3QgKTtcblxuXHRcdC8vIE90aGVyIG5vbi10aGVuYWJsZXNcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCBvbmx5XG5cdFx0XHQvLyBTdHJpY3QgbW9kZSBmdW5jdGlvbnMgaW52b2tlZCB3aXRob3V0IC5jYWxsLy5hcHBseSBnZXQgZ2xvYmFsLW9iamVjdCBjb250ZXh0XG5cdFx0XHRyZXNvbHZlLmNhbGwoIHVuZGVmaW5lZCwgdmFsdWUgKTtcblx0XHR9XG5cblx0Ly8gRm9yIFByb21pc2VzL0ErLCBjb252ZXJ0IGV4Y2VwdGlvbnMgaW50byByZWplY3Rpb25zXG5cdC8vIFNpbmNlIGpRdWVyeS53aGVuIGRvZXNuJ3QgdW53cmFwIHRoZW5hYmxlcywgd2UgY2FuIHNraXAgdGhlIGV4dHJhIGNoZWNrcyBhcHBlYXJpbmcgaW5cblx0Ly8gRGVmZXJyZWQjdGhlbiB0byBjb25kaXRpb25hbGx5IHN1cHByZXNzIHJlamVjdGlvbi5cblx0fSBjYXRjaCAoIHZhbHVlICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgb25seVxuXHRcdC8vIFN0cmljdCBtb2RlIGZ1bmN0aW9ucyBpbnZva2VkIHdpdGhvdXQgLmNhbGwvLmFwcGx5IGdldCBnbG9iYWwtb2JqZWN0IGNvbnRleHRcblx0XHRyZWplY3QuY2FsbCggdW5kZWZpbmVkLCB2YWx1ZSApO1xuXHR9XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHREZWZlcnJlZDogZnVuY3Rpb24oIGZ1bmMgKSB7XG5cdFx0dmFyIHR1cGxlcyA9IFtcblxuXHRcdFx0XHQvLyBhY3Rpb24sIGFkZCBsaXN0ZW5lciwgY2FsbGJhY2tzLFxuXHRcdFx0XHQvLyAuLi4gLnRoZW4gaGFuZGxlcnMsIGFyZ3VtZW50IGluZGV4LCBbZmluYWwgc3RhdGVdXG5cdFx0XHRcdFsgXCJub3RpZnlcIiwgXCJwcm9ncmVzc1wiLCBqUXVlcnkuQ2FsbGJhY2tzKCBcIm1lbW9yeVwiICksXG5cdFx0XHRcdFx0alF1ZXJ5LkNhbGxiYWNrcyggXCJtZW1vcnlcIiApLCAyIF0sXG5cdFx0XHRcdFsgXCJyZXNvbHZlXCIsIFwiZG9uZVwiLCBqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKSxcblx0XHRcdFx0XHRqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKSwgMCwgXCJyZXNvbHZlZFwiIF0sXG5cdFx0XHRcdFsgXCJyZWplY3RcIiwgXCJmYWlsXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLFxuXHRcdFx0XHRcdGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLCAxLCBcInJlamVjdGVkXCIgXVxuXHRcdFx0XSxcblx0XHRcdHN0YXRlID0gXCJwZW5kaW5nXCIsXG5cdFx0XHRwcm9taXNlID0ge1xuXHRcdFx0XHRzdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHN0YXRlO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRhbHdheXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGRlZmVycmVkLmRvbmUoIGFyZ3VtZW50cyApLmZhaWwoIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRcImNhdGNoXCI6IGZ1bmN0aW9uKCBmbiApIHtcblx0XHRcdFx0XHRyZXR1cm4gcHJvbWlzZS50aGVuKCBudWxsLCBmbiApO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIEtlZXAgcGlwZSBmb3IgYmFjay1jb21wYXRcblx0XHRcdFx0cGlwZTogZnVuY3Rpb24oIC8qIGZuRG9uZSwgZm5GYWlsLCBmblByb2dyZXNzICovICkge1xuXHRcdFx0XHRcdHZhciBmbnMgPSBhcmd1bWVudHM7XG5cblx0XHRcdFx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCBmdW5jdGlvbiggbmV3RGVmZXIgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkuZWFjaCggdHVwbGVzLCBmdW5jdGlvbiggaSwgdHVwbGUgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gTWFwIHR1cGxlcyAocHJvZ3Jlc3MsIGRvbmUsIGZhaWwpIHRvIGFyZ3VtZW50cyAoZG9uZSwgZmFpbCwgcHJvZ3Jlc3MpXG5cdFx0XHRcdFx0XHRcdHZhciBmbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCBmbnNbIHR1cGxlWyA0IF0gXSApICYmIGZuc1sgdHVwbGVbIDQgXSBdO1xuXG5cdFx0XHRcdFx0XHRcdC8vIGRlZmVycmVkLnByb2dyZXNzKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLm5vdGlmeSB9KVxuXHRcdFx0XHRcdFx0XHQvLyBkZWZlcnJlZC5kb25lKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLnJlc29sdmUgfSlcblx0XHRcdFx0XHRcdFx0Ly8gZGVmZXJyZWQuZmFpbChmdW5jdGlvbigpIHsgYmluZCB0byBuZXdEZWZlciBvciBuZXdEZWZlci5yZWplY3QgfSlcblx0XHRcdFx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAxIF0gXSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHJldHVybmVkID0gZm4gJiYgZm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdFx0XHRcdGlmICggcmV0dXJuZWQgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oIHJldHVybmVkLnByb21pc2UgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLnByb21pc2UoKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQucHJvZ3Jlc3MoIG5ld0RlZmVyLm5vdGlmeSApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5kb25lKCBuZXdEZWZlci5yZXNvbHZlIClcblx0XHRcdFx0XHRcdFx0XHRcdFx0LmZhaWwoIG5ld0RlZmVyLnJlamVjdCApO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlclsgdHVwbGVbIDAgXSArIFwiV2l0aFwiIF0oXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZuID8gWyByZXR1cm5lZCBdIDogYXJndW1lbnRzXG5cdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0Zm5zID0gbnVsbDtcblx0XHRcdFx0XHR9ICkucHJvbWlzZSgpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR0aGVuOiBmdW5jdGlvbiggb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIG9uUHJvZ3Jlc3MgKSB7XG5cdFx0XHRcdFx0dmFyIG1heERlcHRoID0gMDtcblx0XHRcdFx0XHRmdW5jdGlvbiByZXNvbHZlKCBkZXB0aCwgZGVmZXJyZWQsIGhhbmRsZXIsIHNwZWNpYWwgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdFx0XHRcdFx0XHRhcmdzID0gYXJndW1lbnRzLFxuXHRcdFx0XHRcdFx0XHRcdG1pZ2h0VGhyb3cgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHZhciByZXR1cm5lZCwgdGhlbjtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMy4zLjNcblx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTU5XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBJZ25vcmUgZG91YmxlLXJlc29sdXRpb24gYXR0ZW1wdHNcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggZGVwdGggPCBtYXhEZXB0aCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZCA9IGhhbmRsZXIuYXBwbHkoIHRoYXQsIGFyZ3MgKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNDhcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggcmV0dXJuZWQgPT09IGRlZmVycmVkLnByb21pc2UoKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvciggXCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb25cIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9ucyAyLjMuMy4xLCAzLjVcblx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTU0XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC03NVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gUmV0cmlldmUgYHRoZW5gIG9ubHkgb25jZVxuXHRcdFx0XHRcdFx0XHRcdFx0dGhlbiA9IHJldHVybmVkICYmXG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuNFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC02NFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IGNoZWNrIG9iamVjdHMgYW5kIGZ1bmN0aW9ucyBmb3IgdGhlbmFiaWxpdHlcblx0XHRcdFx0XHRcdFx0XHRcdFx0KCB0eXBlb2YgcmV0dXJuZWQgPT09IFwib2JqZWN0XCIgfHxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlb2YgcmV0dXJuZWQgPT09IFwiZnVuY3Rpb25cIiApICYmXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLnRoZW47XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIEhhbmRsZSBhIHJldHVybmVkIHRoZW5hYmxlXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB0aGVuICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3BlY2lhbCBwcm9jZXNzb3JzIChub3RpZnkpIGp1c3Qgd2FpdCBmb3IgcmVzb2x1dGlvblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHNwZWNpYWwgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhlbi5jYWxsKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LCBzcGVjaWFsICksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIFRocm93ZXIsIHNwZWNpYWwgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gTm9ybWFsIHByb2Nlc3NvcnMgKHJlc29sdmUpIGFsc28gaG9vayBpbnRvIHByb2dyZXNzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAuLi5hbmQgZGlzcmVnYXJkIG9sZGVyIHJlc29sdXRpb24gdmFsdWVzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWF4RGVwdGgrKztcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoZW4uY2FsbChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSwgc3BlY2lhbCApLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBUaHJvd2VyLCBzcGVjaWFsICksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoIClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIEhhbmRsZSBhbGwgb3RoZXIgcmV0dXJuZWQgdmFsdWVzXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgc3Vic3RpdHV0ZSBoYW5kbGVycyBwYXNzIG9uIGNvbnRleHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gYW5kIG11bHRpcGxlIHZhbHVlcyAobm9uLXNwZWMgYmVoYXZpb3IpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggaGFuZGxlciAhPT0gSWRlbnRpdHkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhhdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcmdzID0gWyByZXR1cm5lZCBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gUHJvY2VzcyB0aGUgdmFsdWUocylcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gRGVmYXVsdCBwcm9jZXNzIGlzIHJlc29sdmVcblx0XHRcdFx0XHRcdFx0XHRcdFx0KCBzcGVjaWFsIHx8IGRlZmVycmVkLnJlc29sdmVXaXRoICkoIHRoYXQsIGFyZ3MgKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBub3JtYWwgcHJvY2Vzc29ycyAocmVzb2x2ZSkgY2F0Y2ggYW5kIHJlamVjdCBleGNlcHRpb25zXG5cdFx0XHRcdFx0XHRcdFx0cHJvY2VzcyA9IHNwZWNpYWwgP1xuXHRcdFx0XHRcdFx0XHRcdFx0bWlnaHRUaHJvdyA6XG5cdFx0XHRcdFx0XHRcdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtaWdodFRocm93KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rKCBlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzLnN0YWNrVHJhY2UgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuNC4xXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNjFcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBJZ25vcmUgcG9zdC1yZXNvbHV0aW9uIGV4Y2VwdGlvbnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGRlcHRoICsgMSA+PSBtYXhEZXB0aCApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBzdWJzdGl0dXRlIGhhbmRsZXJzIHBhc3Mgb24gY29udGV4dFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gYW5kIG11bHRpcGxlIHZhbHVlcyAobm9uLXNwZWMgYmVoYXZpb3IpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGhhbmRsZXIgIT09IFRocm93ZXIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoYXQgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFyZ3MgPSBbIGUgXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggdGhhdCwgYXJncyApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuMVxuXHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC01N1xuXHRcdFx0XHRcdFx0XHQvLyBSZS1yZXNvbHZlIHByb21pc2VzIGltbWVkaWF0ZWx5IHRvIGRvZGdlIGZhbHNlIHJlamVjdGlvbiBmcm9tXG5cdFx0XHRcdFx0XHRcdC8vIHN1YnNlcXVlbnQgZXJyb3JzXG5cdFx0XHRcdFx0XHRcdGlmICggZGVwdGggKSB7XG5cdFx0XHRcdFx0XHRcdFx0cHJvY2VzcygpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gQ2FsbCBhbiBvcHRpb25hbCBob29rIHRvIHJlY29yZCB0aGUgc3RhY2ssIGluIGNhc2Ugb2YgZXhjZXB0aW9uXG5cdFx0XHRcdFx0XHRcdFx0Ly8gc2luY2UgaXQncyBvdGhlcndpc2UgbG9zdCB3aGVuIGV4ZWN1dGlvbiBnb2VzIGFzeW5jXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuRGVmZXJyZWQuZ2V0U3RhY2tIb29rICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cHJvY2Vzcy5zdGFja1RyYWNlID0galF1ZXJ5LkRlZmVycmVkLmdldFN0YWNrSG9vaygpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dCggcHJvY2VzcyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoIGZ1bmN0aW9uKCBuZXdEZWZlciApIHtcblxuXHRcdFx0XHRcdFx0Ly8gcHJvZ3Jlc3NfaGFuZGxlcnMuYWRkKCAuLi4gKVxuXHRcdFx0XHRcdFx0dHVwbGVzWyAwIF1bIDMgXS5hZGQoXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoXG5cdFx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlcixcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuaXNGdW5jdGlvbiggb25Qcm9ncmVzcyApID9cblx0XHRcdFx0XHRcdFx0XHRcdG9uUHJvZ3Jlc3MgOlxuXHRcdFx0XHRcdFx0XHRcdFx0SWRlbnRpdHksXG5cdFx0XHRcdFx0XHRcdFx0bmV3RGVmZXIubm90aWZ5V2l0aFxuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHQvLyBmdWxmaWxsZWRfaGFuZGxlcnMuYWRkKCAuLi4gKVxuXHRcdFx0XHRcdFx0dHVwbGVzWyAxIF1bIDMgXS5hZGQoXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoXG5cdFx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlcixcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuaXNGdW5jdGlvbiggb25GdWxmaWxsZWQgKSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRvbkZ1bGZpbGxlZCA6XG5cdFx0XHRcdFx0XHRcdFx0XHRJZGVudGl0eVxuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHQvLyByZWplY3RlZF9oYW5kbGVycy5hZGQoIC4uLiApXG5cdFx0XHRcdFx0XHR0dXBsZXNbIDIgXVsgMyBdLmFkZChcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLFxuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5pc0Z1bmN0aW9uKCBvblJlamVjdGVkICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0b25SZWplY3RlZCA6XG5cdFx0XHRcdFx0XHRcdFx0XHRUaHJvd2VyXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSApLnByb21pc2UoKTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBHZXQgYSBwcm9taXNlIGZvciB0aGlzIGRlZmVycmVkXG5cdFx0XHRcdC8vIElmIG9iaiBpcyBwcm92aWRlZCwgdGhlIHByb21pc2UgYXNwZWN0IGlzIGFkZGVkIHRvIHRoZSBvYmplY3Rcblx0XHRcdFx0cHJvbWlzZTogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRcdFx0XHRyZXR1cm4gb2JqICE9IG51bGwgPyBqUXVlcnkuZXh0ZW5kKCBvYmosIHByb21pc2UgKSA6IHByb21pc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRkZWZlcnJlZCA9IHt9O1xuXG5cdFx0Ly8gQWRkIGxpc3Qtc3BlY2lmaWMgbWV0aG9kc1xuXHRcdGpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBpLCB0dXBsZSApIHtcblx0XHRcdHZhciBsaXN0ID0gdHVwbGVbIDIgXSxcblx0XHRcdFx0c3RhdGVTdHJpbmcgPSB0dXBsZVsgNSBdO1xuXG5cdFx0XHQvLyBwcm9taXNlLnByb2dyZXNzID0gbGlzdC5hZGRcblx0XHRcdC8vIHByb21pc2UuZG9uZSA9IGxpc3QuYWRkXG5cdFx0XHQvLyBwcm9taXNlLmZhaWwgPSBsaXN0LmFkZFxuXHRcdFx0cHJvbWlzZVsgdHVwbGVbIDEgXSBdID0gbGlzdC5hZGQ7XG5cblx0XHRcdC8vIEhhbmRsZSBzdGF0ZVxuXHRcdFx0aWYgKCBzdGF0ZVN0cmluZyApIHtcblx0XHRcdFx0bGlzdC5hZGQoXG5cdFx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRcdC8vIHN0YXRlID0gXCJyZXNvbHZlZFwiIChpLmUuLCBmdWxmaWxsZWQpXG5cdFx0XHRcdFx0XHQvLyBzdGF0ZSA9IFwicmVqZWN0ZWRcIlxuXHRcdFx0XHRcdFx0c3RhdGUgPSBzdGF0ZVN0cmluZztcblx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0Ly8gcmVqZWN0ZWRfY2FsbGJhY2tzLmRpc2FibGVcblx0XHRcdFx0XHQvLyBmdWxmaWxsZWRfY2FsbGJhY2tzLmRpc2FibGVcblx0XHRcdFx0XHR0dXBsZXNbIDMgLSBpIF1bIDIgXS5kaXNhYmxlLFxuXG5cdFx0XHRcdFx0Ly8gcHJvZ3Jlc3NfY2FsbGJhY2tzLmxvY2tcblx0XHRcdFx0XHR0dXBsZXNbIDAgXVsgMiBdLmxvY2tcblx0XHRcdFx0KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gcHJvZ3Jlc3NfaGFuZGxlcnMuZmlyZVxuXHRcdFx0Ly8gZnVsZmlsbGVkX2hhbmRsZXJzLmZpcmVcblx0XHRcdC8vIHJlamVjdGVkX2hhbmRsZXJzLmZpcmVcblx0XHRcdGxpc3QuYWRkKCB0dXBsZVsgMyBdLmZpcmUgKTtcblxuXHRcdFx0Ly8gZGVmZXJyZWQubm90aWZ5ID0gZnVuY3Rpb24oKSB7IGRlZmVycmVkLm5vdGlmeVdpdGgoLi4uKSB9XG5cdFx0XHQvLyBkZWZlcnJlZC5yZXNvbHZlID0gZnVuY3Rpb24oKSB7IGRlZmVycmVkLnJlc29sdmVXaXRoKC4uLikgfVxuXHRcdFx0Ly8gZGVmZXJyZWQucmVqZWN0ID0gZnVuY3Rpb24oKSB7IGRlZmVycmVkLnJlamVjdFdpdGgoLi4uKSB9XG5cdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDAgXSBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRlZmVycmVkWyB0dXBsZVsgMCBdICsgXCJXaXRoXCIgXSggdGhpcyA9PT0gZGVmZXJyZWQgPyB1bmRlZmluZWQgOiB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9O1xuXG5cdFx0XHQvLyBkZWZlcnJlZC5ub3RpZnlXaXRoID0gbGlzdC5maXJlV2l0aFxuXHRcdFx0Ly8gZGVmZXJyZWQucmVzb2x2ZVdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHQvLyBkZWZlcnJlZC5yZWplY3RXaXRoID0gbGlzdC5maXJlV2l0aFxuXHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdID0gbGlzdC5maXJlV2l0aDtcblx0XHR9ICk7XG5cblx0XHQvLyBNYWtlIHRoZSBkZWZlcnJlZCBhIHByb21pc2Vcblx0XHRwcm9taXNlLnByb21pc2UoIGRlZmVycmVkICk7XG5cblx0XHQvLyBDYWxsIGdpdmVuIGZ1bmMgaWYgYW55XG5cdFx0aWYgKCBmdW5jICkge1xuXHRcdFx0ZnVuYy5jYWxsKCBkZWZlcnJlZCwgZGVmZXJyZWQgKTtcblx0XHR9XG5cblx0XHQvLyBBbGwgZG9uZSFcblx0XHRyZXR1cm4gZGVmZXJyZWQ7XG5cdH0sXG5cblx0Ly8gRGVmZXJyZWQgaGVscGVyXG5cdHdoZW46IGZ1bmN0aW9uKCBzaW5nbGVWYWx1ZSApIHtcblx0XHR2YXJcblxuXHRcdFx0Ly8gY291bnQgb2YgdW5jb21wbGV0ZWQgc3Vib3JkaW5hdGVzXG5cdFx0XHRyZW1haW5pbmcgPSBhcmd1bWVudHMubGVuZ3RoLFxuXG5cdFx0XHQvLyBjb3VudCBvZiB1bnByb2Nlc3NlZCBhcmd1bWVudHNcblx0XHRcdGkgPSByZW1haW5pbmcsXG5cblx0XHRcdC8vIHN1Ym9yZGluYXRlIGZ1bGZpbGxtZW50IGRhdGFcblx0XHRcdHJlc29sdmVDb250ZXh0cyA9IEFycmF5KCBpICksXG5cdFx0XHRyZXNvbHZlVmFsdWVzID0gc2xpY2UuY2FsbCggYXJndW1lbnRzICksXG5cblx0XHRcdC8vIHRoZSBtYXN0ZXIgRGVmZXJyZWRcblx0XHRcdG1hc3RlciA9IGpRdWVyeS5EZWZlcnJlZCgpLFxuXG5cdFx0XHQvLyBzdWJvcmRpbmF0ZSBjYWxsYmFjayBmYWN0b3J5XG5cdFx0XHR1cGRhdGVGdW5jID0gZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRcdFx0cmVzb2x2ZUNvbnRleHRzWyBpIF0gPSB0aGlzO1xuXHRcdFx0XHRcdHJlc29sdmVWYWx1ZXNbIGkgXSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gc2xpY2UuY2FsbCggYXJndW1lbnRzICkgOiB2YWx1ZTtcblx0XHRcdFx0XHRpZiAoICEoIC0tcmVtYWluaW5nICkgKSB7XG5cdFx0XHRcdFx0XHRtYXN0ZXIucmVzb2x2ZVdpdGgoIHJlc29sdmVDb250ZXh0cywgcmVzb2x2ZVZhbHVlcyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdH07XG5cblx0XHQvLyBTaW5nbGUtIGFuZCBlbXB0eSBhcmd1bWVudHMgYXJlIGFkb3B0ZWQgbGlrZSBQcm9taXNlLnJlc29sdmVcblx0XHRpZiAoIHJlbWFpbmluZyA8PSAxICkge1xuXHRcdFx0YWRvcHRWYWx1ZSggc2luZ2xlVmFsdWUsIG1hc3Rlci5kb25lKCB1cGRhdGVGdW5jKCBpICkgKS5yZXNvbHZlLCBtYXN0ZXIucmVqZWN0ICk7XG5cblx0XHRcdC8vIFVzZSAudGhlbigpIHRvIHVud3JhcCBzZWNvbmRhcnkgdGhlbmFibGVzIChjZi4gZ2gtMzAwMClcblx0XHRcdGlmICggbWFzdGVyLnN0YXRlKCkgPT09IFwicGVuZGluZ1wiIHx8XG5cdFx0XHRcdGpRdWVyeS5pc0Z1bmN0aW9uKCByZXNvbHZlVmFsdWVzWyBpIF0gJiYgcmVzb2x2ZVZhbHVlc1sgaSBdLnRoZW4gKSApIHtcblxuXHRcdFx0XHRyZXR1cm4gbWFzdGVyLnRoZW4oKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBNdWx0aXBsZSBhcmd1bWVudHMgYXJlIGFnZ3JlZ2F0ZWQgbGlrZSBQcm9taXNlLmFsbCBhcnJheSBlbGVtZW50c1xuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0YWRvcHRWYWx1ZSggcmVzb2x2ZVZhbHVlc1sgaSBdLCB1cGRhdGVGdW5jKCBpICksIG1hc3Rlci5yZWplY3QgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbWFzdGVyLnByb21pc2UoKTtcblx0fVxufSApO1xuXG5cbi8vIFRoZXNlIHVzdWFsbHkgaW5kaWNhdGUgYSBwcm9ncmFtbWVyIG1pc3Rha2UgZHVyaW5nIGRldmVsb3BtZW50LFxuLy8gd2FybiBhYm91dCB0aGVtIEFTQVAgcmF0aGVyIHRoYW4gc3dhbGxvd2luZyB0aGVtIGJ5IGRlZmF1bHQuXG52YXIgcmVycm9yTmFtZXMgPSAvXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztcblxualF1ZXJ5LkRlZmVycmVkLmV4Y2VwdGlvbkhvb2sgPSBmdW5jdGlvbiggZXJyb3IsIHN0YWNrICkge1xuXG5cdC8vIFN1cHBvcnQ6IElFIDggLSA5IG9ubHlcblx0Ly8gQ29uc29sZSBleGlzdHMgd2hlbiBkZXYgdG9vbHMgYXJlIG9wZW4sIHdoaWNoIGNhbiBoYXBwZW4gYXQgYW55IHRpbWVcblx0aWYgKCB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS53YXJuICYmIGVycm9yICYmIHJlcnJvck5hbWVzLnRlc3QoIGVycm9yLm5hbWUgKSApIHtcblx0XHR3aW5kb3cuY29uc29sZS53YXJuKCBcImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246IFwiICsgZXJyb3IubWVzc2FnZSwgZXJyb3Iuc3RhY2ssIHN0YWNrICk7XG5cdH1cbn07XG5cblxuXG5cbmpRdWVyeS5yZWFkeUV4Y2VwdGlvbiA9IGZ1bmN0aW9uKCBlcnJvciApIHtcblx0d2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdHRocm93IGVycm9yO1xuXHR9ICk7XG59O1xuXG5cblxuXG4vLyBUaGUgZGVmZXJyZWQgdXNlZCBvbiBET00gcmVhZHlcbnZhciByZWFkeUxpc3QgPSBqUXVlcnkuRGVmZXJyZWQoKTtcblxualF1ZXJ5LmZuLnJlYWR5ID0gZnVuY3Rpb24oIGZuICkge1xuXG5cdHJlYWR5TGlzdFxuXHRcdC50aGVuKCBmbiApXG5cblx0XHQvLyBXcmFwIGpRdWVyeS5yZWFkeUV4Y2VwdGlvbiBpbiBhIGZ1bmN0aW9uIHNvIHRoYXQgdGhlIGxvb2t1cFxuXHRcdC8vIGhhcHBlbnMgYXQgdGhlIHRpbWUgb2YgZXJyb3IgaGFuZGxpbmcgaW5zdGVhZCBvZiBjYWxsYmFja1xuXHRcdC8vIHJlZ2lzdHJhdGlvbi5cblx0XHQuY2F0Y2goIGZ1bmN0aW9uKCBlcnJvciApIHtcblx0XHRcdGpRdWVyeS5yZWFkeUV4Y2VwdGlvbiggZXJyb3IgKTtcblx0XHR9ICk7XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0Ly8gSXMgdGhlIERPTSByZWFkeSB0byBiZSB1c2VkPyBTZXQgdG8gdHJ1ZSBvbmNlIGl0IG9jY3Vycy5cblx0aXNSZWFkeTogZmFsc2UsXG5cblx0Ly8gQSBjb3VudGVyIHRvIHRyYWNrIGhvdyBtYW55IGl0ZW1zIHRvIHdhaXQgZm9yIGJlZm9yZVxuXHQvLyB0aGUgcmVhZHkgZXZlbnQgZmlyZXMuIFNlZSAjNjc4MVxuXHRyZWFkeVdhaXQ6IDEsXG5cblx0Ly8gSG9sZCAob3IgcmVsZWFzZSkgdGhlIHJlYWR5IGV2ZW50XG5cdGhvbGRSZWFkeTogZnVuY3Rpb24oIGhvbGQgKSB7XG5cdFx0aWYgKCBob2xkICkge1xuXHRcdFx0alF1ZXJ5LnJlYWR5V2FpdCsrO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRqUXVlcnkucmVhZHkoIHRydWUgKTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gSGFuZGxlIHdoZW4gdGhlIERPTSBpcyByZWFkeVxuXHRyZWFkeTogZnVuY3Rpb24oIHdhaXQgKSB7XG5cblx0XHQvLyBBYm9ydCBpZiB0aGVyZSBhcmUgcGVuZGluZyBob2xkcyBvciB3ZSdyZSBhbHJlYWR5IHJlYWR5XG5cdFx0aWYgKCB3YWl0ID09PSB0cnVlID8gLS1qUXVlcnkucmVhZHlXYWl0IDogalF1ZXJ5LmlzUmVhZHkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gUmVtZW1iZXIgdGhhdCB0aGUgRE9NIGlzIHJlYWR5XG5cdFx0alF1ZXJ5LmlzUmVhZHkgPSB0cnVlO1xuXG5cdFx0Ly8gSWYgYSBub3JtYWwgRE9NIFJlYWR5IGV2ZW50IGZpcmVkLCBkZWNyZW1lbnQsIGFuZCB3YWl0IGlmIG5lZWQgYmVcblx0XHRpZiAoIHdhaXQgIT09IHRydWUgJiYgLS1qUXVlcnkucmVhZHlXYWl0ID4gMCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBJZiB0aGVyZSBhcmUgZnVuY3Rpb25zIGJvdW5kLCB0byBleGVjdXRlXG5cdFx0cmVhZHlMaXN0LnJlc29sdmVXaXRoKCBkb2N1bWVudCwgWyBqUXVlcnkgXSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5yZWFkeS50aGVuID0gcmVhZHlMaXN0LnRoZW47XG5cbi8vIFRoZSByZWFkeSBldmVudCBoYW5kbGVyIGFuZCBzZWxmIGNsZWFudXAgbWV0aG9kXG5mdW5jdGlvbiBjb21wbGV0ZWQoKSB7XG5cdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwiRE9NQ29udGVudExvYWRlZFwiLCBjb21wbGV0ZWQgKTtcblx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwibG9hZFwiLCBjb21wbGV0ZWQgKTtcblx0alF1ZXJ5LnJlYWR5KCk7XG59XG5cbi8vIENhdGNoIGNhc2VzIHdoZXJlICQoZG9jdW1lbnQpLnJlYWR5KCkgaXMgY2FsbGVkXG4vLyBhZnRlciB0aGUgYnJvd3NlciBldmVudCBoYXMgYWxyZWFkeSBvY2N1cnJlZC5cbi8vIFN1cHBvcnQ6IElFIDw9OSAtIDEwIG9ubHlcbi8vIE9sZGVyIElFIHNvbWV0aW1lcyBzaWduYWxzIFwiaW50ZXJhY3RpdmVcIiB0b28gc29vblxuaWYgKCBkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIgfHxcblx0KCBkb2N1bWVudC5yZWFkeVN0YXRlICE9PSBcImxvYWRpbmdcIiAmJiAhZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsICkgKSB7XG5cblx0Ly8gSGFuZGxlIGl0IGFzeW5jaHJvbm91c2x5IHRvIGFsbG93IHNjcmlwdHMgdGhlIG9wcG9ydHVuaXR5IHRvIGRlbGF5IHJlYWR5XG5cdHdpbmRvdy5zZXRUaW1lb3V0KCBqUXVlcnkucmVhZHkgKTtcblxufSBlbHNlIHtcblxuXHQvLyBVc2UgdGhlIGhhbmR5IGV2ZW50IGNhbGxiYWNrXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIFwiRE9NQ29udGVudExvYWRlZFwiLCBjb21wbGV0ZWQgKTtcblxuXHQvLyBBIGZhbGxiYWNrIHRvIHdpbmRvdy5vbmxvYWQsIHRoYXQgd2lsbCBhbHdheXMgd29ya1xuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggXCJsb2FkXCIsIGNvbXBsZXRlZCApO1xufVxuXG5cblxuXG4vLyBNdWx0aWZ1bmN0aW9uYWwgbWV0aG9kIHRvIGdldCBhbmQgc2V0IHZhbHVlcyBvZiBhIGNvbGxlY3Rpb25cbi8vIFRoZSB2YWx1ZS9zIGNhbiBvcHRpb25hbGx5IGJlIGV4ZWN1dGVkIGlmIGl0J3MgYSBmdW5jdGlvblxudmFyIGFjY2VzcyA9IGZ1bmN0aW9uKCBlbGVtcywgZm4sIGtleSwgdmFsdWUsIGNoYWluYWJsZSwgZW1wdHlHZXQsIHJhdyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGxlbiA9IGVsZW1zLmxlbmd0aCxcblx0XHRidWxrID0ga2V5ID09IG51bGw7XG5cblx0Ly8gU2V0cyBtYW55IHZhbHVlc1xuXHRpZiAoIGpRdWVyeS50eXBlKCBrZXkgKSA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRjaGFpbmFibGUgPSB0cnVlO1xuXHRcdGZvciAoIGkgaW4ga2V5ICkge1xuXHRcdFx0YWNjZXNzKCBlbGVtcywgZm4sIGksIGtleVsgaSBdLCB0cnVlLCBlbXB0eUdldCwgcmF3ICk7XG5cdFx0fVxuXG5cdC8vIFNldHMgb25lIHZhbHVlXG5cdH0gZWxzZSBpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0Y2hhaW5hYmxlID0gdHJ1ZTtcblxuXHRcdGlmICggIWpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmF3ID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRpZiAoIGJ1bGsgKSB7XG5cblx0XHRcdC8vIEJ1bGsgb3BlcmF0aW9ucyBydW4gYWdhaW5zdCB0aGUgZW50aXJlIHNldFxuXHRcdFx0aWYgKCByYXcgKSB7XG5cdFx0XHRcdGZuLmNhbGwoIGVsZW1zLCB2YWx1ZSApO1xuXHRcdFx0XHRmbiA9IG51bGw7XG5cblx0XHRcdC8vIC4uLmV4Y2VwdCB3aGVuIGV4ZWN1dGluZyBmdW5jdGlvbiB2YWx1ZXNcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJ1bGsgPSBmbjtcblx0XHRcdFx0Zm4gPSBmdW5jdGlvbiggZWxlbSwga2V5LCB2YWx1ZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gYnVsay5jYWxsKCBqUXVlcnkoIGVsZW0gKSwgdmFsdWUgKTtcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIGZuICkge1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdGZuKFxuXHRcdFx0XHRcdGVsZW1zWyBpIF0sIGtleSwgcmF3ID9cblx0XHRcdFx0XHR2YWx1ZSA6XG5cdFx0XHRcdFx0dmFsdWUuY2FsbCggZWxlbXNbIGkgXSwgaSwgZm4oIGVsZW1zWyBpIF0sIGtleSApIClcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gY2hhaW5hYmxlID9cblx0XHRlbGVtcyA6XG5cblx0XHQvLyBHZXRzXG5cdFx0YnVsayA/XG5cdFx0XHRmbi5jYWxsKCBlbGVtcyApIDpcblx0XHRcdGxlbiA/IGZuKCBlbGVtc1sgMCBdLCBrZXkgKSA6IGVtcHR5R2V0O1xufTtcbnZhciBhY2NlcHREYXRhID0gZnVuY3Rpb24oIG93bmVyICkge1xuXG5cdC8vIEFjY2VwdHMgb25seTpcblx0Ly8gIC0gTm9kZVxuXHQvLyAgICAtIE5vZGUuRUxFTUVOVF9OT0RFXG5cdC8vICAgIC0gTm9kZS5ET0NVTUVOVF9OT0RFXG5cdC8vICAtIE9iamVjdFxuXHQvLyAgICAtIEFueVxuXHRyZXR1cm4gb3duZXIubm9kZVR5cGUgPT09IDEgfHwgb3duZXIubm9kZVR5cGUgPT09IDkgfHwgISggK293bmVyLm5vZGVUeXBlICk7XG59O1xuXG5cblxuXG5mdW5jdGlvbiBEYXRhKCkge1xuXHR0aGlzLmV4cGFuZG8gPSBqUXVlcnkuZXhwYW5kbyArIERhdGEudWlkKys7XG59XG5cbkRhdGEudWlkID0gMTtcblxuRGF0YS5wcm90b3R5cGUgPSB7XG5cblx0Y2FjaGU6IGZ1bmN0aW9uKCBvd25lciApIHtcblxuXHRcdC8vIENoZWNrIGlmIHRoZSBvd25lciBvYmplY3QgYWxyZWFkeSBoYXMgYSBjYWNoZVxuXHRcdHZhciB2YWx1ZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblxuXHRcdC8vIElmIG5vdCwgY3JlYXRlIG9uZVxuXHRcdGlmICggIXZhbHVlICkge1xuXHRcdFx0dmFsdWUgPSB7fTtcblxuXHRcdFx0Ly8gV2UgY2FuIGFjY2VwdCBkYXRhIGZvciBub24tZWxlbWVudCBub2RlcyBpbiBtb2Rlcm4gYnJvd3NlcnMsXG5cdFx0XHQvLyBidXQgd2Ugc2hvdWxkIG5vdCwgc2VlICM4MzM1LlxuXHRcdFx0Ly8gQWx3YXlzIHJldHVybiBhbiBlbXB0eSBvYmplY3QuXG5cdFx0XHRpZiAoIGFjY2VwdERhdGEoIG93bmVyICkgKSB7XG5cblx0XHRcdFx0Ly8gSWYgaXQgaXMgYSBub2RlIHVubGlrZWx5IHRvIGJlIHN0cmluZ2lmeS1lZCBvciBsb29wZWQgb3ZlclxuXHRcdFx0XHQvLyB1c2UgcGxhaW4gYXNzaWdubWVudFxuXHRcdFx0XHRpZiAoIG93bmVyLm5vZGVUeXBlICkge1xuXHRcdFx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSA9IHZhbHVlO1xuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSBzZWN1cmUgaXQgaW4gYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eVxuXHRcdFx0XHQvLyBjb25maWd1cmFibGUgbXVzdCBiZSB0cnVlIHRvIGFsbG93IHRoZSBwcm9wZXJ0eSB0byBiZVxuXHRcdFx0XHQvLyBkZWxldGVkIHdoZW4gZGF0YSBpcyByZW1vdmVkXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCBvd25lciwgdGhpcy5leHBhbmRvLCB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogdmFsdWUsXG5cdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdmFsdWU7XG5cdH0sXG5cdHNldDogZnVuY3Rpb24oIG93bmVyLCBkYXRhLCB2YWx1ZSApIHtcblx0XHR2YXIgcHJvcCxcblx0XHRcdGNhY2hlID0gdGhpcy5jYWNoZSggb3duZXIgKTtcblxuXHRcdC8vIEhhbmRsZTogWyBvd25lciwga2V5LCB2YWx1ZSBdIGFyZ3Ncblx0XHQvLyBBbHdheXMgdXNlIGNhbWVsQ2FzZSBrZXkgKGdoLTIyNTcpXG5cdFx0aWYgKCB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGNhY2hlWyBqUXVlcnkuY2FtZWxDYXNlKCBkYXRhICkgXSA9IHZhbHVlO1xuXG5cdFx0Ly8gSGFuZGxlOiBbIG93bmVyLCB7IHByb3BlcnRpZXMgfSBdIGFyZ3Ncblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBDb3B5IHRoZSBwcm9wZXJ0aWVzIG9uZS1ieS1vbmUgdG8gdGhlIGNhY2hlIG9iamVjdFxuXHRcdFx0Zm9yICggcHJvcCBpbiBkYXRhICkge1xuXHRcdFx0XHRjYWNoZVsgalF1ZXJ5LmNhbWVsQ2FzZSggcHJvcCApIF0gPSBkYXRhWyBwcm9wIF07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBjYWNoZTtcblx0fSxcblx0Z2V0OiBmdW5jdGlvbiggb3duZXIsIGtleSApIHtcblx0XHRyZXR1cm4ga2V5ID09PSB1bmRlZmluZWQgP1xuXHRcdFx0dGhpcy5jYWNoZSggb3duZXIgKSA6XG5cblx0XHRcdC8vIEFsd2F5cyB1c2UgY2FtZWxDYXNlIGtleSAoZ2gtMjI1Nylcblx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSAmJiBvd25lclsgdGhpcy5leHBhbmRvIF1bIGpRdWVyeS5jYW1lbENhc2UoIGtleSApIF07XG5cdH0sXG5cdGFjY2VzczogZnVuY3Rpb24oIG93bmVyLCBrZXksIHZhbHVlICkge1xuXG5cdFx0Ly8gSW4gY2FzZXMgd2hlcmUgZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBObyBrZXkgd2FzIHNwZWNpZmllZFxuXHRcdC8vICAgMi4gQSBzdHJpbmcga2V5IHdhcyBzcGVjaWZpZWQsIGJ1dCBubyB2YWx1ZSBwcm92aWRlZFxuXHRcdC8vXG5cdFx0Ly8gVGFrZSB0aGUgXCJyZWFkXCIgcGF0aCBhbmQgYWxsb3cgdGhlIGdldCBtZXRob2QgdG8gZGV0ZXJtaW5lXG5cdFx0Ly8gd2hpY2ggdmFsdWUgdG8gcmV0dXJuLCByZXNwZWN0aXZlbHkgZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBUaGUgZW50aXJlIGNhY2hlIG9iamVjdFxuXHRcdC8vICAgMi4gVGhlIGRhdGEgc3RvcmVkIGF0IHRoZSBrZXlcblx0XHQvL1xuXHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgfHxcblx0XHRcdFx0KCAoIGtleSAmJiB0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiICkgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCApICkge1xuXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXQoIG93bmVyLCBrZXkgKTtcblx0XHR9XG5cblx0XHQvLyBXaGVuIHRoZSBrZXkgaXMgbm90IGEgc3RyaW5nLCBvciBib3RoIGEga2V5IGFuZCB2YWx1ZVxuXHRcdC8vIGFyZSBzcGVjaWZpZWQsIHNldCBvciBleHRlbmQgKGV4aXN0aW5nIG9iamVjdHMpIHdpdGggZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBBbiBvYmplY3Qgb2YgcHJvcGVydGllc1xuXHRcdC8vICAgMi4gQSBrZXkgYW5kIHZhbHVlXG5cdFx0Ly9cblx0XHR0aGlzLnNldCggb3duZXIsIGtleSwgdmFsdWUgKTtcblxuXHRcdC8vIFNpbmNlIHRoZSBcInNldFwiIHBhdGggY2FuIGhhdmUgdHdvIHBvc3NpYmxlIGVudHJ5IHBvaW50c1xuXHRcdC8vIHJldHVybiB0aGUgZXhwZWN0ZWQgZGF0YSBiYXNlZCBvbiB3aGljaCBwYXRoIHdhcyB0YWtlblsqXVxuXHRcdHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBrZXk7XG5cdH0sXG5cdHJlbW92ZTogZnVuY3Rpb24oIG93bmVyLCBrZXkgKSB7XG5cdFx0dmFyIGksXG5cdFx0XHRjYWNoZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblxuXHRcdGlmICggY2FjaGUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIGtleSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHQvLyBTdXBwb3J0IGFycmF5IG9yIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgb2Yga2V5c1xuXHRcdFx0aWYgKCBqUXVlcnkuaXNBcnJheSgga2V5ICkgKSB7XG5cblx0XHRcdFx0Ly8gSWYga2V5IGlzIGFuIGFycmF5IG9mIGtleXMuLi5cblx0XHRcdFx0Ly8gV2UgYWx3YXlzIHNldCBjYW1lbENhc2Uga2V5cywgc28gcmVtb3ZlIHRoYXQuXG5cdFx0XHRcdGtleSA9IGtleS5tYXAoIGpRdWVyeS5jYW1lbENhc2UgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGtleSA9IGpRdWVyeS5jYW1lbENhc2UoIGtleSApO1xuXG5cdFx0XHRcdC8vIElmIGEga2V5IHdpdGggdGhlIHNwYWNlcyBleGlzdHMsIHVzZSBpdC5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCBjcmVhdGUgYW4gYXJyYXkgYnkgbWF0Y2hpbmcgbm9uLXdoaXRlc3BhY2Vcblx0XHRcdFx0a2V5ID0ga2V5IGluIGNhY2hlID9cblx0XHRcdFx0XHRbIGtleSBdIDpcblx0XHRcdFx0XHQoIGtleS5tYXRjaCggcm5vdHdoaXRlICkgfHwgW10gKTtcblx0XHRcdH1cblxuXHRcdFx0aSA9IGtleS5sZW5ndGg7XG5cblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRkZWxldGUgY2FjaGVbIGtleVsgaSBdIF07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUmVtb3ZlIHRoZSBleHBhbmRvIGlmIHRoZXJlJ3Mgbm8gbW9yZSBkYXRhXG5cdFx0aWYgKCBrZXkgPT09IHVuZGVmaW5lZCB8fCBqUXVlcnkuaXNFbXB0eU9iamVjdCggY2FjaGUgKSApIHtcblxuXHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NVxuXHRcdFx0Ly8gV2Via2l0ICYgQmxpbmsgcGVyZm9ybWFuY2Ugc3VmZmVycyB3aGVuIGRlbGV0aW5nIHByb3BlcnRpZXNcblx0XHRcdC8vIGZyb20gRE9NIG5vZGVzLCBzbyBzZXQgdG8gdW5kZWZpbmVkIGluc3RlYWRcblx0XHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTM3ODYwNyAoYnVnIHJlc3RyaWN0ZWQpXG5cdFx0XHRpZiAoIG93bmVyLm5vZGVUeXBlICkge1xuXHRcdFx0XHRvd25lclsgdGhpcy5leHBhbmRvIF0gPSB1bmRlZmluZWQ7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkZWxldGUgb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0aGFzRGF0YTogZnVuY3Rpb24oIG93bmVyICkge1xuXHRcdHZhciBjYWNoZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblx0XHRyZXR1cm4gY2FjaGUgIT09IHVuZGVmaW5lZCAmJiAhalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGNhY2hlICk7XG5cdH1cbn07XG52YXIgZGF0YVByaXYgPSBuZXcgRGF0YSgpO1xuXG52YXIgZGF0YVVzZXIgPSBuZXcgRGF0YSgpO1xuXG5cblxuLy9cdEltcGxlbWVudGF0aW9uIFN1bW1hcnlcbi8vXG4vL1x0MS4gRW5mb3JjZSBBUEkgc3VyZmFjZSBhbmQgc2VtYW50aWMgY29tcGF0aWJpbGl0eSB3aXRoIDEuOS54IGJyYW5jaFxuLy9cdDIuIEltcHJvdmUgdGhlIG1vZHVsZSdzIG1haW50YWluYWJpbGl0eSBieSByZWR1Y2luZyB0aGUgc3RvcmFnZVxuLy9cdFx0cGF0aHMgdG8gYSBzaW5nbGUgbWVjaGFuaXNtLlxuLy9cdDMuIFVzZSB0aGUgc2FtZSBzaW5nbGUgbWVjaGFuaXNtIHRvIHN1cHBvcnQgXCJwcml2YXRlXCIgYW5kIFwidXNlclwiIGRhdGEuXG4vL1x0NC4gX05ldmVyXyBleHBvc2UgXCJwcml2YXRlXCIgZGF0YSB0byB1c2VyIGNvZGUgKFRPRE86IERyb3AgX2RhdGEsIF9yZW1vdmVEYXRhKVxuLy9cdDUuIEF2b2lkIGV4cG9zaW5nIGltcGxlbWVudGF0aW9uIGRldGFpbHMgb24gdXNlciBvYmplY3RzIChlZy4gZXhwYW5kbyBwcm9wZXJ0aWVzKVxuLy9cdDYuIFByb3ZpZGUgYSBjbGVhciBwYXRoIGZvciBpbXBsZW1lbnRhdGlvbiB1cGdyYWRlIHRvIFdlYWtNYXAgaW4gMjAxNFxuXG52YXIgcmJyYWNlID0gL14oPzpcXHtbXFx3XFxXXSpcXH18XFxbW1xcd1xcV10qXFxdKSQvLFxuXHRybXVsdGlEYXNoID0gL1tBLVpdL2c7XG5cbmZ1bmN0aW9uIGRhdGFBdHRyKCBlbGVtLCBrZXksIGRhdGEgKSB7XG5cdHZhciBuYW1lO1xuXG5cdC8vIElmIG5vdGhpbmcgd2FzIGZvdW5kIGludGVybmFsbHksIHRyeSB0byBmZXRjaCBhbnlcblx0Ly8gZGF0YSBmcm9tIHRoZSBIVE1MNSBkYXRhLSogYXR0cmlidXRlXG5cdGlmICggZGF0YSA9PT0gdW5kZWZpbmVkICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0bmFtZSA9IFwiZGF0YS1cIiArIGtleS5yZXBsYWNlKCBybXVsdGlEYXNoLCBcIi0kJlwiICkudG9Mb3dlckNhc2UoKTtcblx0XHRkYXRhID0gZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUgKTtcblxuXHRcdGlmICggdHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRkYXRhID0gZGF0YSA9PT0gXCJ0cnVlXCIgPyB0cnVlIDpcblx0XHRcdFx0XHRkYXRhID09PSBcImZhbHNlXCIgPyBmYWxzZSA6XG5cdFx0XHRcdFx0ZGF0YSA9PT0gXCJudWxsXCIgPyBudWxsIDpcblxuXHRcdFx0XHRcdC8vIE9ubHkgY29udmVydCB0byBhIG51bWJlciBpZiBpdCBkb2Vzbid0IGNoYW5nZSB0aGUgc3RyaW5nXG5cdFx0XHRcdFx0K2RhdGEgKyBcIlwiID09PSBkYXRhID8gK2RhdGEgOlxuXHRcdFx0XHRcdHJicmFjZS50ZXN0KCBkYXRhICkgPyBKU09OLnBhcnNlKCBkYXRhICkgOlxuXHRcdFx0XHRcdGRhdGE7XG5cdFx0XHR9IGNhdGNoICggZSApIHt9XG5cblx0XHRcdC8vIE1ha2Ugc3VyZSB3ZSBzZXQgdGhlIGRhdGEgc28gaXQgaXNuJ3QgY2hhbmdlZCBsYXRlclxuXHRcdFx0ZGF0YVVzZXIuc2V0KCBlbGVtLCBrZXksIGRhdGEgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGRhdGE7XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0aGFzRGF0YTogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRhdGFVc2VyLmhhc0RhdGEoIGVsZW0gKSB8fCBkYXRhUHJpdi5oYXNEYXRhKCBlbGVtICk7XG5cdH0sXG5cblx0ZGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGRhdGEgKSB7XG5cdFx0cmV0dXJuIGRhdGFVc2VyLmFjY2VzcyggZWxlbSwgbmFtZSwgZGF0YSApO1xuXHR9LFxuXG5cdHJlbW92ZURhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdGRhdGFVc2VyLnJlbW92ZSggZWxlbSwgbmFtZSApO1xuXHR9LFxuXG5cdC8vIFRPRE86IE5vdyB0aGF0IGFsbCBjYWxscyB0byBfZGF0YSBhbmQgX3JlbW92ZURhdGEgaGF2ZSBiZWVuIHJlcGxhY2VkXG5cdC8vIHdpdGggZGlyZWN0IGNhbGxzIHRvIGRhdGFQcml2IG1ldGhvZHMsIHRoZXNlIGNhbiBiZSBkZXByZWNhdGVkLlxuXHRfZGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGRhdGEgKSB7XG5cdFx0cmV0dXJuIGRhdGFQcml2LmFjY2VzcyggZWxlbSwgbmFtZSwgZGF0YSApO1xuXHR9LFxuXG5cdF9yZW1vdmVEYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcblx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIG5hbWUgKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGRhdGE6IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdHZhciBpLCBuYW1lLCBkYXRhLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXSxcblx0XHRcdGF0dHJzID0gZWxlbSAmJiBlbGVtLmF0dHJpYnV0ZXM7XG5cblx0XHQvLyBHZXRzIGFsbCB2YWx1ZXNcblx0XHRpZiAoIGtleSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0aWYgKCB0aGlzLmxlbmd0aCApIHtcblx0XHRcdFx0ZGF0YSA9IGRhdGFVc2VyLmdldCggZWxlbSApO1xuXG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAhZGF0YVByaXYuZ2V0KCBlbGVtLCBcImhhc0RhdGFBdHRyc1wiICkgKSB7XG5cdFx0XHRcdFx0aSA9IGF0dHJzLmxlbmd0aDtcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgMTEgb25seVxuXHRcdFx0XHRcdFx0Ly8gVGhlIGF0dHJzIGVsZW1lbnRzIGNhbiBiZSBudWxsICgjMTQ4OTQpXG5cdFx0XHRcdFx0XHRpZiAoIGF0dHJzWyBpIF0gKSB7XG5cdFx0XHRcdFx0XHRcdG5hbWUgPSBhdHRyc1sgaSBdLm5hbWU7XG5cdFx0XHRcdFx0XHRcdGlmICggbmFtZS5pbmRleE9mKCBcImRhdGEtXCIgKSA9PT0gMCApIHtcblx0XHRcdFx0XHRcdFx0XHRuYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZS5zbGljZSggNSApICk7XG5cdFx0XHRcdFx0XHRcdFx0ZGF0YUF0dHIoIGVsZW0sIG5hbWUsIGRhdGFbIG5hbWUgXSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGRhdGFQcml2LnNldCggZWxlbSwgXCJoYXNEYXRhQXR0cnNcIiwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBkYXRhO1xuXHRcdH1cblxuXHRcdC8vIFNldHMgbXVsdGlwbGUgdmFsdWVzXG5cdFx0aWYgKCB0eXBlb2Yga2V5ID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRhdGFVc2VyLnNldCggdGhpcywga2V5ICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGRhdGE7XG5cblx0XHRcdC8vIFRoZSBjYWxsaW5nIGpRdWVyeSBvYmplY3QgKGVsZW1lbnQgbWF0Y2hlcykgaXMgbm90IGVtcHR5XG5cdFx0XHQvLyAoYW5kIHRoZXJlZm9yZSBoYXMgYW4gZWxlbWVudCBhcHBlYXJzIGF0IHRoaXNbIDAgXSkgYW5kIHRoZVxuXHRcdFx0Ly8gYHZhbHVlYCBwYXJhbWV0ZXIgd2FzIG5vdCB1bmRlZmluZWQuIEFuIGVtcHR5IGpRdWVyeSBvYmplY3Rcblx0XHRcdC8vIHdpbGwgcmVzdWx0IGluIGB1bmRlZmluZWRgIGZvciBlbGVtID0gdGhpc1sgMCBdIHdoaWNoIHdpbGxcblx0XHRcdC8vIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhbiBhdHRlbXB0IHRvIHJlYWQgYSBkYXRhIGNhY2hlIGlzIG1hZGUuXG5cdFx0XHRpZiAoIGVsZW0gJiYgdmFsdWUgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHQvLyBBdHRlbXB0IHRvIGdldCBkYXRhIGZyb20gdGhlIGNhY2hlXG5cdFx0XHRcdC8vIFRoZSBrZXkgd2lsbCBhbHdheXMgYmUgY2FtZWxDYXNlZCBpbiBEYXRhXG5cdFx0XHRcdGRhdGEgPSBkYXRhVXNlci5nZXQoIGVsZW0sIGtleSApO1xuXHRcdFx0XHRpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEF0dGVtcHQgdG8gXCJkaXNjb3ZlclwiIHRoZSBkYXRhIGluXG5cdFx0XHRcdC8vIEhUTUw1IGN1c3RvbSBkYXRhLSogYXR0cnNcblx0XHRcdFx0ZGF0YSA9IGRhdGFBdHRyKCBlbGVtLCBrZXkgKTtcblx0XHRcdFx0aWYgKCBkYXRhICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBXZSB0cmllZCByZWFsbHkgaGFyZCwgYnV0IHRoZSBkYXRhIGRvZXNuJ3QgZXhpc3QuXG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2V0IHRoZSBkYXRhLi4uXG5cdFx0XHR0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIFdlIGFsd2F5cyBzdG9yZSB0aGUgY2FtZWxDYXNlZCBrZXlcblx0XHRcdFx0ZGF0YVVzZXIuc2V0KCB0aGlzLCBrZXksIHZhbHVlICk7XG5cdFx0XHR9ICk7XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxLCBudWxsLCB0cnVlICk7XG5cdH0sXG5cblx0cmVtb3ZlRGF0YTogZnVuY3Rpb24oIGtleSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGRhdGFVc2VyLnJlbW92ZSggdGhpcywga2V5ICk7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cblxualF1ZXJ5LmV4dGVuZCgge1xuXHRxdWV1ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGUsIGRhdGEgKSB7XG5cdFx0dmFyIHF1ZXVlO1xuXG5cdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0dHlwZSA9ICggdHlwZSB8fCBcImZ4XCIgKSArIFwicXVldWVcIjtcblx0XHRcdHF1ZXVlID0gZGF0YVByaXYuZ2V0KCBlbGVtLCB0eXBlICk7XG5cblx0XHRcdC8vIFNwZWVkIHVwIGRlcXVldWUgYnkgZ2V0dGluZyBvdXQgcXVpY2tseSBpZiB0aGlzIGlzIGp1c3QgYSBsb29rdXBcblx0XHRcdGlmICggZGF0YSApIHtcblx0XHRcdFx0aWYgKCAhcXVldWUgfHwgalF1ZXJ5LmlzQXJyYXkoIGRhdGEgKSApIHtcblx0XHRcdFx0XHRxdWV1ZSA9IGRhdGFQcml2LmFjY2VzcyggZWxlbSwgdHlwZSwgalF1ZXJ5Lm1ha2VBcnJheSggZGF0YSApICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cXVldWUucHVzaCggZGF0YSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcXVldWUgfHwgW107XG5cdFx0fVxuXHR9LFxuXG5cdGRlcXVldWU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlICkge1xuXHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblxuXHRcdHZhciBxdWV1ZSA9IGpRdWVyeS5xdWV1ZSggZWxlbSwgdHlwZSApLFxuXHRcdFx0c3RhcnRMZW5ndGggPSBxdWV1ZS5sZW5ndGgsXG5cdFx0XHRmbiA9IHF1ZXVlLnNoaWZ0KCksXG5cdFx0XHRob29rcyA9IGpRdWVyeS5fcXVldWVIb29rcyggZWxlbSwgdHlwZSApLFxuXHRcdFx0bmV4dCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggZWxlbSwgdHlwZSApO1xuXHRcdFx0fTtcblxuXHRcdC8vIElmIHRoZSBmeCBxdWV1ZSBpcyBkZXF1ZXVlZCwgYWx3YXlzIHJlbW92ZSB0aGUgcHJvZ3Jlc3Mgc2VudGluZWxcblx0XHRpZiAoIGZuID09PSBcImlucHJvZ3Jlc3NcIiApIHtcblx0XHRcdGZuID0gcXVldWUuc2hpZnQoKTtcblx0XHRcdHN0YXJ0TGVuZ3RoLS07XG5cdFx0fVxuXG5cdFx0aWYgKCBmbiApIHtcblxuXHRcdFx0Ly8gQWRkIGEgcHJvZ3Jlc3Mgc2VudGluZWwgdG8gcHJldmVudCB0aGUgZnggcXVldWUgZnJvbSBiZWluZ1xuXHRcdFx0Ly8gYXV0b21hdGljYWxseSBkZXF1ZXVlZFxuXHRcdFx0aWYgKCB0eXBlID09PSBcImZ4XCIgKSB7XG5cdFx0XHRcdHF1ZXVlLnVuc2hpZnQoIFwiaW5wcm9ncmVzc1wiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENsZWFyIHVwIHRoZSBsYXN0IHF1ZXVlIHN0b3AgZnVuY3Rpb25cblx0XHRcdGRlbGV0ZSBob29rcy5zdG9wO1xuXHRcdFx0Zm4uY2FsbCggZWxlbSwgbmV4dCwgaG9va3MgKTtcblx0XHR9XG5cblx0XHRpZiAoICFzdGFydExlbmd0aCAmJiBob29rcyApIHtcblx0XHRcdGhvb2tzLmVtcHR5LmZpcmUoKTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gTm90IHB1YmxpYyAtIGdlbmVyYXRlIGEgcXVldWVIb29rcyBvYmplY3QsIG9yIHJldHVybiB0aGUgY3VycmVudCBvbmVcblx0X3F1ZXVlSG9va3M6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlICkge1xuXHRcdHZhciBrZXkgPSB0eXBlICsgXCJxdWV1ZUhvb2tzXCI7XG5cdFx0cmV0dXJuIGRhdGFQcml2LmdldCggZWxlbSwga2V5ICkgfHwgZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBrZXksIHtcblx0XHRcdGVtcHR5OiBqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKS5hZGQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIFsgdHlwZSArIFwicXVldWVcIiwga2V5IF0gKTtcblx0XHRcdH0gKVxuXHRcdH0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHF1ZXVlOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcblx0XHR2YXIgc2V0dGVyID0gMjtcblxuXHRcdGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRkYXRhID0gdHlwZTtcblx0XHRcdHR5cGUgPSBcImZ4XCI7XG5cdFx0XHRzZXR0ZXItLTtcblx0XHR9XG5cblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPCBzZXR0ZXIgKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LnF1ZXVlKCB0aGlzWyAwIF0sIHR5cGUgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGF0YSA9PT0gdW5kZWZpbmVkID9cblx0XHRcdHRoaXMgOlxuXHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIHF1ZXVlID0galF1ZXJ5LnF1ZXVlKCB0aGlzLCB0eXBlLCBkYXRhICk7XG5cblx0XHRcdFx0Ly8gRW5zdXJlIGEgaG9va3MgZm9yIHRoaXMgcXVldWVcblx0XHRcdFx0alF1ZXJ5Ll9xdWV1ZUhvb2tzKCB0aGlzLCB0eXBlICk7XG5cblx0XHRcdFx0aWYgKCB0eXBlID09PSBcImZ4XCIgJiYgcXVldWVbIDAgXSAhPT0gXCJpbnByb2dyZXNzXCIgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHR9LFxuXHRkZXF1ZXVlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG5cdFx0fSApO1xuXHR9LFxuXHRjbGVhclF1ZXVlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRyZXR1cm4gdGhpcy5xdWV1ZSggdHlwZSB8fCBcImZ4XCIsIFtdICk7XG5cdH0sXG5cblx0Ly8gR2V0IGEgcHJvbWlzZSByZXNvbHZlZCB3aGVuIHF1ZXVlcyBvZiBhIGNlcnRhaW4gdHlwZVxuXHQvLyBhcmUgZW1wdGllZCAoZnggaXMgdGhlIHR5cGUgYnkgZGVmYXVsdClcblx0cHJvbWlzZTogZnVuY3Rpb24oIHR5cGUsIG9iaiApIHtcblx0XHR2YXIgdG1wLFxuXHRcdFx0Y291bnQgPSAxLFxuXHRcdFx0ZGVmZXIgPSBqUXVlcnkuRGVmZXJyZWQoKSxcblx0XHRcdGVsZW1lbnRzID0gdGhpcyxcblx0XHRcdGkgPSB0aGlzLmxlbmd0aCxcblx0XHRcdHJlc29sdmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCAhKCAtLWNvdW50ICkgKSB7XG5cdFx0XHRcdFx0ZGVmZXIucmVzb2x2ZVdpdGgoIGVsZW1lbnRzLCBbIGVsZW1lbnRzIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRvYmogPSB0eXBlO1xuXHRcdFx0dHlwZSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHR0bXAgPSBkYXRhUHJpdi5nZXQoIGVsZW1lbnRzWyBpIF0sIHR5cGUgKyBcInF1ZXVlSG9va3NcIiApO1xuXHRcdFx0aWYgKCB0bXAgJiYgdG1wLmVtcHR5ICkge1xuXHRcdFx0XHRjb3VudCsrO1xuXHRcdFx0XHR0bXAuZW1wdHkuYWRkKCByZXNvbHZlICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJlc29sdmUoKTtcblx0XHRyZXR1cm4gZGVmZXIucHJvbWlzZSggb2JqICk7XG5cdH1cbn0gKTtcbnZhciBwbnVtID0gKCAvWystXT8oPzpcXGQqXFwufClcXGQrKD86W2VFXVsrLV0/XFxkK3wpLyApLnNvdXJjZTtcblxudmFyIHJjc3NOdW0gPSBuZXcgUmVnRXhwKCBcIl4oPzooWystXSk9fCkoXCIgKyBwbnVtICsgXCIpKFthLXolXSopJFwiLCBcImlcIiApO1xuXG5cbnZhciBjc3NFeHBhbmQgPSBbIFwiVG9wXCIsIFwiUmlnaHRcIiwgXCJCb3R0b21cIiwgXCJMZWZ0XCIgXTtcblxudmFyIGlzSGlkZGVuV2l0aGluVHJlZSA9IGZ1bmN0aW9uKCBlbGVtLCBlbCApIHtcblxuXHRcdC8vIGlzSGlkZGVuV2l0aGluVHJlZSBtaWdodCBiZSBjYWxsZWQgZnJvbSBqUXVlcnkjZmlsdGVyIGZ1bmN0aW9uO1xuXHRcdC8vIGluIHRoYXQgY2FzZSwgZWxlbWVudCB3aWxsIGJlIHNlY29uZCBhcmd1bWVudFxuXHRcdGVsZW0gPSBlbCB8fCBlbGVtO1xuXG5cdFx0Ly8gSW5saW5lIHN0eWxlIHRydW1wcyBhbGxcblx0XHRyZXR1cm4gZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIiB8fFxuXHRcdFx0ZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcIlwiICYmXG5cblx0XHRcdC8vIE90aGVyd2lzZSwgY2hlY2sgY29tcHV0ZWQgc3R5bGVcblx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00MyAtIDQ1XG5cdFx0XHQvLyBEaXNjb25uZWN0ZWQgZWxlbWVudHMgY2FuIGhhdmUgY29tcHV0ZWQgZGlzcGxheTogbm9uZSwgc28gZmlyc3QgY29uZmlybSB0aGF0IGVsZW0gaXNcblx0XHRcdC8vIGluIHRoZSBkb2N1bWVudC5cblx0XHRcdGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICkgJiZcblxuXHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSA9PT0gXCJub25lXCI7XG5cdH07XG5cbnZhciBzd2FwID0gZnVuY3Rpb24oIGVsZW0sIG9wdGlvbnMsIGNhbGxiYWNrLCBhcmdzICkge1xuXHR2YXIgcmV0LCBuYW1lLFxuXHRcdG9sZCA9IHt9O1xuXG5cdC8vIFJlbWVtYmVyIHRoZSBvbGQgdmFsdWVzLCBhbmQgaW5zZXJ0IHRoZSBuZXcgb25lc1xuXHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0b2xkWyBuYW1lIF0gPSBlbGVtLnN0eWxlWyBuYW1lIF07XG5cdFx0ZWxlbS5zdHlsZVsgbmFtZSBdID0gb3B0aW9uc1sgbmFtZSBdO1xuXHR9XG5cblx0cmV0ID0gY2FsbGJhY2suYXBwbHkoIGVsZW0sIGFyZ3MgfHwgW10gKTtcblxuXHQvLyBSZXZlcnQgdGhlIG9sZCB2YWx1ZXNcblx0Zm9yICggbmFtZSBpbiBvcHRpb25zICkge1xuXHRcdGVsZW0uc3R5bGVbIG5hbWUgXSA9IG9sZFsgbmFtZSBdO1xuXHR9XG5cblx0cmV0dXJuIHJldDtcbn07XG5cblxuXG5cbmZ1bmN0aW9uIGFkanVzdENTUyggZWxlbSwgcHJvcCwgdmFsdWVQYXJ0cywgdHdlZW4gKSB7XG5cdHZhciBhZGp1c3RlZCxcblx0XHRzY2FsZSA9IDEsXG5cdFx0bWF4SXRlcmF0aW9ucyA9IDIwLFxuXHRcdGN1cnJlbnRWYWx1ZSA9IHR3ZWVuID9cblx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gdHdlZW4uY3VyKCk7XG5cdFx0XHR9IDpcblx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4galF1ZXJ5LmNzcyggZWxlbSwgcHJvcCwgXCJcIiApO1xuXHRcdFx0fSxcblx0XHRpbml0aWFsID0gY3VycmVudFZhbHVlKCksXG5cdFx0dW5pdCA9IHZhbHVlUGFydHMgJiYgdmFsdWVQYXJ0c1sgMyBdIHx8ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdID8gXCJcIiA6IFwicHhcIiApLFxuXG5cdFx0Ly8gU3RhcnRpbmcgdmFsdWUgY29tcHV0YXRpb24gaXMgcmVxdWlyZWQgZm9yIHBvdGVudGlhbCB1bml0IG1pc21hdGNoZXNcblx0XHRpbml0aWFsSW5Vbml0ID0gKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gfHwgdW5pdCAhPT0gXCJweFwiICYmICtpbml0aWFsICkgJiZcblx0XHRcdHJjc3NOdW0uZXhlYyggalF1ZXJ5LmNzcyggZWxlbSwgcHJvcCApICk7XG5cblx0aWYgKCBpbml0aWFsSW5Vbml0ICYmIGluaXRpYWxJblVuaXRbIDMgXSAhPT0gdW5pdCApIHtcblxuXHRcdC8vIFRydXN0IHVuaXRzIHJlcG9ydGVkIGJ5IGpRdWVyeS5jc3Ncblx0XHR1bml0ID0gdW5pdCB8fCBpbml0aWFsSW5Vbml0WyAzIF07XG5cblx0XHQvLyBNYWtlIHN1cmUgd2UgdXBkYXRlIHRoZSB0d2VlbiBwcm9wZXJ0aWVzIGxhdGVyIG9uXG5cdFx0dmFsdWVQYXJ0cyA9IHZhbHVlUGFydHMgfHwgW107XG5cblx0XHQvLyBJdGVyYXRpdmVseSBhcHByb3hpbWF0ZSBmcm9tIGEgbm9uemVybyBzdGFydGluZyBwb2ludFxuXHRcdGluaXRpYWxJblVuaXQgPSAraW5pdGlhbCB8fCAxO1xuXG5cdFx0ZG8ge1xuXG5cdFx0XHQvLyBJZiBwcmV2aW91cyBpdGVyYXRpb24gemVyb2VkIG91dCwgZG91YmxlIHVudGlsIHdlIGdldCAqc29tZXRoaW5nKi5cblx0XHRcdC8vIFVzZSBzdHJpbmcgZm9yIGRvdWJsaW5nIHNvIHdlIGRvbid0IGFjY2lkZW50YWxseSBzZWUgc2NhbGUgYXMgdW5jaGFuZ2VkIGJlbG93XG5cdFx0XHRzY2FsZSA9IHNjYWxlIHx8IFwiLjVcIjtcblxuXHRcdFx0Ly8gQWRqdXN0IGFuZCBhcHBseVxuXHRcdFx0aW5pdGlhbEluVW5pdCA9IGluaXRpYWxJblVuaXQgLyBzY2FsZTtcblx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCwgaW5pdGlhbEluVW5pdCArIHVuaXQgKTtcblxuXHRcdC8vIFVwZGF0ZSBzY2FsZSwgdG9sZXJhdGluZyB6ZXJvIG9yIE5hTiBmcm9tIHR3ZWVuLmN1cigpXG5cdFx0Ly8gQnJlYWsgdGhlIGxvb3AgaWYgc2NhbGUgaXMgdW5jaGFuZ2VkIG9yIHBlcmZlY3QsIG9yIGlmIHdlJ3ZlIGp1c3QgaGFkIGVub3VnaC5cblx0XHR9IHdoaWxlIChcblx0XHRcdHNjYWxlICE9PSAoIHNjYWxlID0gY3VycmVudFZhbHVlKCkgLyBpbml0aWFsICkgJiYgc2NhbGUgIT09IDEgJiYgLS1tYXhJdGVyYXRpb25zXG5cdFx0KTtcblx0fVxuXG5cdGlmICggdmFsdWVQYXJ0cyApIHtcblx0XHRpbml0aWFsSW5Vbml0ID0gK2luaXRpYWxJblVuaXQgfHwgK2luaXRpYWwgfHwgMDtcblxuXHRcdC8vIEFwcGx5IHJlbGF0aXZlIG9mZnNldCAoKz0vLT0pIGlmIHNwZWNpZmllZFxuXHRcdGFkanVzdGVkID0gdmFsdWVQYXJ0c1sgMSBdID9cblx0XHRcdGluaXRpYWxJblVuaXQgKyAoIHZhbHVlUGFydHNbIDEgXSArIDEgKSAqIHZhbHVlUGFydHNbIDIgXSA6XG5cdFx0XHQrdmFsdWVQYXJ0c1sgMiBdO1xuXHRcdGlmICggdHdlZW4gKSB7XG5cdFx0XHR0d2Vlbi51bml0ID0gdW5pdDtcblx0XHRcdHR3ZWVuLnN0YXJ0ID0gaW5pdGlhbEluVW5pdDtcblx0XHRcdHR3ZWVuLmVuZCA9IGFkanVzdGVkO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gYWRqdXN0ZWQ7XG59XG5cblxudmFyIGRlZmF1bHREaXNwbGF5TWFwID0ge307XG5cbmZ1bmN0aW9uIGdldERlZmF1bHREaXNwbGF5KCBlbGVtICkge1xuXHR2YXIgdGVtcCxcblx0XHRkb2MgPSBlbGVtLm93bmVyRG9jdW1lbnQsXG5cdFx0bm9kZU5hbWUgPSBlbGVtLm5vZGVOYW1lLFxuXHRcdGRpc3BsYXkgPSBkZWZhdWx0RGlzcGxheU1hcFsgbm9kZU5hbWUgXTtcblxuXHRpZiAoIGRpc3BsYXkgKSB7XG5cdFx0cmV0dXJuIGRpc3BsYXk7XG5cdH1cblxuXHR0ZW1wID0gZG9jLmJvZHkuYXBwZW5kQ2hpbGQoIGRvYy5jcmVhdGVFbGVtZW50KCBub2RlTmFtZSApICksXG5cdGRpc3BsYXkgPSBqUXVlcnkuY3NzKCB0ZW1wLCBcImRpc3BsYXlcIiApO1xuXG5cdHRlbXAucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggdGVtcCApO1xuXG5cdGlmICggZGlzcGxheSA9PT0gXCJub25lXCIgKSB7XG5cdFx0ZGlzcGxheSA9IFwiYmxvY2tcIjtcblx0fVxuXHRkZWZhdWx0RGlzcGxheU1hcFsgbm9kZU5hbWUgXSA9IGRpc3BsYXk7XG5cblx0cmV0dXJuIGRpc3BsYXk7XG59XG5cbmZ1bmN0aW9uIHNob3dIaWRlKCBlbGVtZW50cywgc2hvdyApIHtcblx0dmFyIGRpc3BsYXksIGVsZW0sXG5cdFx0dmFsdWVzID0gW10sXG5cdFx0aW5kZXggPSAwLFxuXHRcdGxlbmd0aCA9IGVsZW1lbnRzLmxlbmd0aDtcblxuXHQvLyBEZXRlcm1pbmUgbmV3IGRpc3BsYXkgdmFsdWUgZm9yIGVsZW1lbnRzIHRoYXQgbmVlZCB0byBjaGFuZ2Vcblx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRlbGVtID0gZWxlbWVudHNbIGluZGV4IF07XG5cdFx0aWYgKCAhZWxlbS5zdHlsZSApIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGRpc3BsYXkgPSBlbGVtLnN0eWxlLmRpc3BsYXk7XG5cdFx0aWYgKCBzaG93ICkge1xuXG5cdFx0XHQvLyBTaW5jZSB3ZSBmb3JjZSB2aXNpYmlsaXR5IHVwb24gY2FzY2FkZS1oaWRkZW4gZWxlbWVudHMsIGFuIGltbWVkaWF0ZSAoYW5kIHNsb3cpXG5cdFx0XHQvLyBjaGVjayBpcyByZXF1aXJlZCBpbiB0aGlzIGZpcnN0IGxvb3AgdW5sZXNzIHdlIGhhdmUgYSBub25lbXB0eSBkaXNwbGF5IHZhbHVlIChlaXRoZXJcblx0XHRcdC8vIGlubGluZSBvciBhYm91dC10by1iZS1yZXN0b3JlZClcblx0XHRcdGlmICggZGlzcGxheSA9PT0gXCJub25lXCIgKSB7XG5cdFx0XHRcdHZhbHVlc1sgaW5kZXggXSA9IGRhdGFQcml2LmdldCggZWxlbSwgXCJkaXNwbGF5XCIgKSB8fCBudWxsO1xuXHRcdFx0XHRpZiAoICF2YWx1ZXNbIGluZGV4IF0gKSB7XG5cdFx0XHRcdFx0ZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKCBlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwiXCIgJiYgaXNIaWRkZW5XaXRoaW5UcmVlKCBlbGVtICkgKSB7XG5cdFx0XHRcdHZhbHVlc1sgaW5kZXggXSA9IGdldERlZmF1bHREaXNwbGF5KCBlbGVtICk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICggZGlzcGxheSAhPT0gXCJub25lXCIgKSB7XG5cdFx0XHRcdHZhbHVlc1sgaW5kZXggXSA9IFwibm9uZVwiO1xuXG5cdFx0XHRcdC8vIFJlbWVtYmVyIHdoYXQgd2UncmUgb3ZlcndyaXRpbmdcblx0XHRcdFx0ZGF0YVByaXYuc2V0KCBlbGVtLCBcImRpc3BsYXlcIiwgZGlzcGxheSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFNldCB0aGUgZGlzcGxheSBvZiB0aGUgZWxlbWVudHMgaW4gYSBzZWNvbmQgbG9vcCB0byBhdm9pZCBjb25zdGFudCByZWZsb3dcblx0Zm9yICggaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRpZiAoIHZhbHVlc1sgaW5kZXggXSAhPSBudWxsICkge1xuXHRcdFx0ZWxlbWVudHNbIGluZGV4IF0uc3R5bGUuZGlzcGxheSA9IHZhbHVlc1sgaW5kZXggXTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZWxlbWVudHM7XG59XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0c2hvdzogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNob3dIaWRlKCB0aGlzLCB0cnVlICk7XG5cdH0sXG5cdGhpZGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBzaG93SGlkZSggdGhpcyApO1xuXHR9LFxuXHR0b2dnbGU6IGZ1bmN0aW9uKCBzdGF0ZSApIHtcblx0XHRpZiAoIHR5cGVvZiBzdGF0ZSA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0XHRyZXR1cm4gc3RhdGUgPyB0aGlzLnNob3coKSA6IHRoaXMuaGlkZSgpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBpc0hpZGRlbldpdGhpblRyZWUoIHRoaXMgKSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuc2hvdygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fVxufSApO1xudmFyIHJjaGVja2FibGVUeXBlID0gKCAvXig/OmNoZWNrYm94fHJhZGlvKSQvaSApO1xuXG52YXIgcnRhZ05hbWUgPSAoIC88KFthLXpdW15cXC9cXDA+XFx4MjBcXHRcXHJcXG5cXGZdKykvaSApO1xuXG52YXIgcnNjcmlwdFR5cGUgPSAoIC9eJHxcXC8oPzpqYXZhfGVjbWEpc2NyaXB0L2kgKTtcblxuXG5cbi8vIFdlIGhhdmUgdG8gY2xvc2UgdGhlc2UgdGFncyB0byBzdXBwb3J0IFhIVE1MICgjMTMyMDApXG52YXIgd3JhcE1hcCA9IHtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRvcHRpb246IFsgMSwgXCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+XCIsIFwiPC9zZWxlY3Q+XCIgXSxcblxuXHQvLyBYSFRNTCBwYXJzZXJzIGRvIG5vdCBtYWdpY2FsbHkgaW5zZXJ0IGVsZW1lbnRzIGluIHRoZVxuXHQvLyBzYW1lIHdheSB0aGF0IHRhZyBzb3VwIHBhcnNlcnMgZG8uIFNvIHdlIGNhbm5vdCBzaG9ydGVuXG5cdC8vIHRoaXMgYnkgb21pdHRpbmcgPHRib2R5PiBvciBvdGhlciByZXF1aXJlZCBlbGVtZW50cy5cblx0dGhlYWQ6IFsgMSwgXCI8dGFibGU+XCIsIFwiPC90YWJsZT5cIiBdLFxuXHRjb2w6IFsgMiwgXCI8dGFibGU+PGNvbGdyb3VwPlwiLCBcIjwvY29sZ3JvdXA+PC90YWJsZT5cIiBdLFxuXHR0cjogWyAyLCBcIjx0YWJsZT48dGJvZHk+XCIsIFwiPC90Ym9keT48L3RhYmxlPlwiIF0sXG5cdHRkOiBbIDMsIFwiPHRhYmxlPjx0Ym9keT48dHI+XCIsIFwiPC90cj48L3Rib2R5PjwvdGFibGU+XCIgXSxcblxuXHRfZGVmYXVsdDogWyAwLCBcIlwiLCBcIlwiIF1cbn07XG5cbi8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG53cmFwTWFwLm9wdGdyb3VwID0gd3JhcE1hcC5vcHRpb247XG5cbndyYXBNYXAudGJvZHkgPSB3cmFwTWFwLnRmb290ID0gd3JhcE1hcC5jb2xncm91cCA9IHdyYXBNYXAuY2FwdGlvbiA9IHdyYXBNYXAudGhlYWQ7XG53cmFwTWFwLnRoID0gd3JhcE1hcC50ZDtcblxuXG5mdW5jdGlvbiBnZXRBbGwoIGNvbnRleHQsIHRhZyApIHtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG5cdC8vIFVzZSB0eXBlb2YgdG8gYXZvaWQgemVyby1hcmd1bWVudCBtZXRob2QgaW52b2NhdGlvbiBvbiBob3N0IG9iamVjdHMgKCMxNTE1MSlcblx0dmFyIHJldCA9IHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiID9cblx0XHRcdGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyB8fCBcIipcIiApIDpcblx0XHRcdHR5cGVvZiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwgIT09IFwidW5kZWZpbmVkXCIgP1xuXHRcdFx0XHRjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIHRhZyB8fCBcIipcIiApIDpcblx0XHRcdFtdO1xuXG5cdHJldHVybiB0YWcgPT09IHVuZGVmaW5lZCB8fCB0YWcgJiYgalF1ZXJ5Lm5vZGVOYW1lKCBjb250ZXh0LCB0YWcgKSA/XG5cdFx0alF1ZXJ5Lm1lcmdlKCBbIGNvbnRleHQgXSwgcmV0ICkgOlxuXHRcdHJldDtcbn1cblxuXG4vLyBNYXJrIHNjcmlwdHMgYXMgaGF2aW5nIGFscmVhZHkgYmVlbiBldmFsdWF0ZWRcbmZ1bmN0aW9uIHNldEdsb2JhbEV2YWwoIGVsZW1zLCByZWZFbGVtZW50cyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGwgPSBlbGVtcy5sZW5ndGg7XG5cblx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdGRhdGFQcml2LnNldChcblx0XHRcdGVsZW1zWyBpIF0sXG5cdFx0XHRcImdsb2JhbEV2YWxcIixcblx0XHRcdCFyZWZFbGVtZW50cyB8fCBkYXRhUHJpdi5nZXQoIHJlZkVsZW1lbnRzWyBpIF0sIFwiZ2xvYmFsRXZhbFwiIClcblx0XHQpO1xuXHR9XG59XG5cblxudmFyIHJodG1sID0gLzx8JiM/XFx3KzsvO1xuXG5mdW5jdGlvbiBidWlsZEZyYWdtZW50KCBlbGVtcywgY29udGV4dCwgc2NyaXB0cywgc2VsZWN0aW9uLCBpZ25vcmVkICkge1xuXHR2YXIgZWxlbSwgdG1wLCB0YWcsIHdyYXAsIGNvbnRhaW5zLCBqLFxuXHRcdGZyYWdtZW50ID0gY29udGV4dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG5cdFx0bm9kZXMgPSBbXSxcblx0XHRpID0gMCxcblx0XHRsID0gZWxlbXMubGVuZ3RoO1xuXG5cdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRlbGVtID0gZWxlbXNbIGkgXTtcblxuXHRcdGlmICggZWxlbSB8fCBlbGVtID09PSAwICkge1xuXG5cdFx0XHQvLyBBZGQgbm9kZXMgZGlyZWN0bHlcblx0XHRcdGlmICggalF1ZXJ5LnR5cGUoIGVsZW0gKSA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcblx0XHRcdFx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIG5vZGVzLCBlbGVtLm5vZGVUeXBlID8gWyBlbGVtIF0gOiBlbGVtICk7XG5cblx0XHRcdC8vIENvbnZlcnQgbm9uLWh0bWwgaW50byBhIHRleHQgbm9kZVxuXHRcdFx0fSBlbHNlIGlmICggIXJodG1sLnRlc3QoIGVsZW0gKSApIHtcblx0XHRcdFx0bm9kZXMucHVzaCggY29udGV4dC5jcmVhdGVUZXh0Tm9kZSggZWxlbSApICk7XG5cblx0XHRcdC8vIENvbnZlcnQgaHRtbCBpbnRvIERPTSBub2Rlc1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dG1wID0gdG1wIHx8IGZyYWdtZW50LmFwcGVuZENoaWxkKCBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSApO1xuXG5cdFx0XHRcdC8vIERlc2VyaWFsaXplIGEgc3RhbmRhcmQgcmVwcmVzZW50YXRpb25cblx0XHRcdFx0dGFnID0gKCBydGFnTmFtZS5leGVjKCBlbGVtICkgfHwgWyBcIlwiLCBcIlwiIF0gKVsgMSBdLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdHdyYXAgPSB3cmFwTWFwWyB0YWcgXSB8fCB3cmFwTWFwLl9kZWZhdWx0O1xuXHRcdFx0XHR0bXAuaW5uZXJIVE1MID0gd3JhcFsgMSBdICsgalF1ZXJ5Lmh0bWxQcmVmaWx0ZXIoIGVsZW0gKSArIHdyYXBbIDIgXTtcblxuXHRcdFx0XHQvLyBEZXNjZW5kIHRocm91Z2ggd3JhcHBlcnMgdG8gdGhlIHJpZ2h0IGNvbnRlbnRcblx0XHRcdFx0aiA9IHdyYXBbIDAgXTtcblx0XHRcdFx0d2hpbGUgKCBqLS0gKSB7XG5cdFx0XHRcdFx0dG1wID0gdG1wLmxhc3RDaGlsZDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdFx0XHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdGpRdWVyeS5tZXJnZSggbm9kZXMsIHRtcC5jaGlsZE5vZGVzICk7XG5cblx0XHRcdFx0Ly8gUmVtZW1iZXIgdGhlIHRvcC1sZXZlbCBjb250YWluZXJcblx0XHRcdFx0dG1wID0gZnJhZ21lbnQuZmlyc3RDaGlsZDtcblxuXHRcdFx0XHQvLyBFbnN1cmUgdGhlIGNyZWF0ZWQgbm9kZXMgYXJlIG9ycGhhbmVkICgjMTIzOTIpXG5cdFx0XHRcdHRtcC50ZXh0Q29udGVudCA9IFwiXCI7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmVtb3ZlIHdyYXBwZXIgZnJvbSBmcmFnbWVudFxuXHRmcmFnbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG5cblx0aSA9IDA7XG5cdHdoaWxlICggKCBlbGVtID0gbm9kZXNbIGkrKyBdICkgKSB7XG5cblx0XHQvLyBTa2lwIGVsZW1lbnRzIGFscmVhZHkgaW4gdGhlIGNvbnRleHQgY29sbGVjdGlvbiAodHJhYy00MDg3KVxuXHRcdGlmICggc2VsZWN0aW9uICYmIGpRdWVyeS5pbkFycmF5KCBlbGVtLCBzZWxlY3Rpb24gKSA+IC0xICkge1xuXHRcdFx0aWYgKCBpZ25vcmVkICkge1xuXHRcdFx0XHRpZ25vcmVkLnB1c2goIGVsZW0gKTtcblx0XHRcdH1cblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGNvbnRhaW5zID0galF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKTtcblxuXHRcdC8vIEFwcGVuZCB0byBmcmFnbWVudFxuXHRcdHRtcCA9IGdldEFsbCggZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGVsZW0gKSwgXCJzY3JpcHRcIiApO1xuXG5cdFx0Ly8gUHJlc2VydmUgc2NyaXB0IGV2YWx1YXRpb24gaGlzdG9yeVxuXHRcdGlmICggY29udGFpbnMgKSB7XG5cdFx0XHRzZXRHbG9iYWxFdmFsKCB0bXAgKTtcblx0XHR9XG5cblx0XHQvLyBDYXB0dXJlIGV4ZWN1dGFibGVzXG5cdFx0aWYgKCBzY3JpcHRzICkge1xuXHRcdFx0aiA9IDA7XG5cdFx0XHR3aGlsZSAoICggZWxlbSA9IHRtcFsgaisrIF0gKSApIHtcblx0XHRcdFx0aWYgKCByc2NyaXB0VHlwZS50ZXN0KCBlbGVtLnR5cGUgfHwgXCJcIiApICkge1xuXHRcdFx0XHRcdHNjcmlwdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGZyYWdtZW50O1xufVxuXG5cbiggZnVuY3Rpb24oKSB7XG5cdHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcblx0XHRkaXYgPSBmcmFnbWVudC5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApICksXG5cdFx0aW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKTtcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAtIDQuMyBvbmx5XG5cdC8vIENoZWNrIHN0YXRlIGxvc3QgaWYgdGhlIG5hbWUgaXMgc2V0ICgjMTEyMTcpXG5cdC8vIFN1cHBvcnQ6IFdpbmRvd3MgV2ViIEFwcHMgKFdXQSlcblx0Ly8gYG5hbWVgIGFuZCBgdHlwZWAgbXVzdCB1c2UgLnNldEF0dHJpYnV0ZSBmb3IgV1dBICgjMTQ5MDEpXG5cdGlucHV0LnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIFwicmFkaW9cIiApO1xuXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwiY2hlY2tlZFwiLCBcImNoZWNrZWRcIiApO1xuXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwibmFtZVwiLCBcInRcIiApO1xuXG5cdGRpdi5hcHBlbmRDaGlsZCggaW5wdXQgKTtcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4xIG9ubHlcblx0Ly8gT2xkZXIgV2ViS2l0IGRvZXNuJ3QgY2xvbmUgY2hlY2tlZCBzdGF0ZSBjb3JyZWN0bHkgaW4gZnJhZ21lbnRzXG5cdHN1cHBvcnQuY2hlY2tDbG9uZSA9IGRpdi5jbG9uZU5vZGUoIHRydWUgKS5jbG9uZU5vZGUoIHRydWUgKS5sYXN0Q2hpbGQuY2hlY2tlZDtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0Ly8gTWFrZSBzdXJlIHRleHRhcmVhIChhbmQgY2hlY2tib3gpIGRlZmF1bHRWYWx1ZSBpcyBwcm9wZXJseSBjbG9uZWRcblx0ZGl2LmlubmVySFRNTCA9IFwiPHRleHRhcmVhPng8L3RleHRhcmVhPlwiO1xuXHRzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkID0gISFkaXYuY2xvbmVOb2RlKCB0cnVlICkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZTtcbn0gKSgpO1xudmFyIGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuXG5cbnZhclxuXHRya2V5RXZlbnQgPSAvXmtleS8sXG5cdHJtb3VzZUV2ZW50ID0gL14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51fGRyYWd8ZHJvcCl8Y2xpY2svLFxuXHRydHlwZW5hbWVzcGFjZSA9IC9eKFteLl0qKSg/OlxcLiguKyl8KS87XG5cbmZ1bmN0aW9uIHJldHVyblRydWUoKSB7XG5cdHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiByZXR1cm5GYWxzZSgpIHtcblx0cmV0dXJuIGZhbHNlO1xufVxuXG4vLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuLy8gU2VlICMxMzM5MyBmb3IgbW9yZSBpbmZvXG5mdW5jdGlvbiBzYWZlQWN0aXZlRWxlbWVudCgpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblx0fSBjYXRjaCAoIGVyciApIHsgfVxufVxuXG5mdW5jdGlvbiBvbiggZWxlbSwgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiwgb25lICkge1xuXHR2YXIgb3JpZ0ZuLCB0eXBlO1xuXG5cdC8vIFR5cGVzIGNhbiBiZSBhIG1hcCBvZiB0eXBlcy9oYW5kbGVyc1xuXHRpZiAoIHR5cGVvZiB0eXBlcyA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdC8vICggdHlwZXMtT2JqZWN0LCBzZWxlY3RvciwgZGF0YSApXG5cdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHRcdC8vICggdHlwZXMtT2JqZWN0LCBkYXRhIClcblx0XHRcdGRhdGEgPSBkYXRhIHx8IHNlbGVjdG9yO1xuXHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGZvciAoIHR5cGUgaW4gdHlwZXMgKSB7XG5cdFx0XHRvbiggZWxlbSwgdHlwZSwgc2VsZWN0b3IsIGRhdGEsIHR5cGVzWyB0eXBlIF0sIG9uZSApO1xuXHRcdH1cblx0XHRyZXR1cm4gZWxlbTtcblx0fVxuXG5cdGlmICggZGF0YSA9PSBudWxsICYmIGZuID09IG51bGwgKSB7XG5cblx0XHQvLyAoIHR5cGVzLCBmbiApXG5cdFx0Zm4gPSBzZWxlY3Rvcjtcblx0XHRkYXRhID0gc2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdH0gZWxzZSBpZiAoIGZuID09IG51bGwgKSB7XG5cdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHRcdC8vICggdHlwZXMsIHNlbGVjdG9yLCBmbiApXG5cdFx0XHRmbiA9IGRhdGE7XG5cdFx0XHRkYXRhID0gdW5kZWZpbmVkO1xuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vICggdHlwZXMsIGRhdGEsIGZuIClcblx0XHRcdGZuID0gZGF0YTtcblx0XHRcdGRhdGEgPSBzZWxlY3Rvcjtcblx0XHRcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0fVxuXHRpZiAoIGZuID09PSBmYWxzZSApIHtcblx0XHRmbiA9IHJldHVybkZhbHNlO1xuXHR9IGVsc2UgaWYgKCAhZm4gKSB7XG5cdFx0cmV0dXJuIGVsZW07XG5cdH1cblxuXHRpZiAoIG9uZSA9PT0gMSApIHtcblx0XHRvcmlnRm4gPSBmbjtcblx0XHRmbiA9IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdFx0Ly8gQ2FuIHVzZSBhbiBlbXB0eSBzZXQsIHNpbmNlIGV2ZW50IGNvbnRhaW5zIHRoZSBpbmZvXG5cdFx0XHRqUXVlcnkoKS5vZmYoIGV2ZW50ICk7XG5cdFx0XHRyZXR1cm4gb3JpZ0ZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9O1xuXG5cdFx0Ly8gVXNlIHNhbWUgZ3VpZCBzbyBjYWxsZXIgY2FuIHJlbW92ZSB1c2luZyBvcmlnRm5cblx0XHRmbi5ndWlkID0gb3JpZ0ZuLmd1aWQgfHwgKCBvcmlnRm4uZ3VpZCA9IGpRdWVyeS5ndWlkKysgKTtcblx0fVxuXHRyZXR1cm4gZWxlbS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRqUXVlcnkuZXZlbnQuYWRkKCB0aGlzLCB0eXBlcywgZm4sIGRhdGEsIHNlbGVjdG9yICk7XG5cdH0gKTtcbn1cblxuLypcbiAqIEhlbHBlciBmdW5jdGlvbnMgZm9yIG1hbmFnaW5nIGV2ZW50cyAtLSBub3QgcGFydCBvZiB0aGUgcHVibGljIGludGVyZmFjZS5cbiAqIFByb3BzIHRvIERlYW4gRWR3YXJkcycgYWRkRXZlbnQgbGlicmFyeSBmb3IgbWFueSBvZiB0aGUgaWRlYXMuXG4gKi9cbmpRdWVyeS5ldmVudCA9IHtcblxuXHRnbG9iYWw6IHt9LFxuXG5cdGFkZDogZnVuY3Rpb24oIGVsZW0sIHR5cGVzLCBoYW5kbGVyLCBkYXRhLCBzZWxlY3RvciApIHtcblxuXHRcdHZhciBoYW5kbGVPYmpJbiwgZXZlbnRIYW5kbGUsIHRtcCxcblx0XHRcdGV2ZW50cywgdCwgaGFuZGxlT2JqLFxuXHRcdFx0c3BlY2lhbCwgaGFuZGxlcnMsIHR5cGUsIG5hbWVzcGFjZXMsIG9yaWdUeXBlLFxuXHRcdFx0ZWxlbURhdGEgPSBkYXRhUHJpdi5nZXQoIGVsZW0gKTtcblxuXHRcdC8vIERvbid0IGF0dGFjaCBldmVudHMgdG8gbm9EYXRhIG9yIHRleHQvY29tbWVudCBub2RlcyAoYnV0IGFsbG93IHBsYWluIG9iamVjdHMpXG5cdFx0aWYgKCAhZWxlbURhdGEgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsbGVyIGNhbiBwYXNzIGluIGFuIG9iamVjdCBvZiBjdXN0b20gZGF0YSBpbiBsaWV1IG9mIHRoZSBoYW5kbGVyXG5cdFx0aWYgKCBoYW5kbGVyLmhhbmRsZXIgKSB7XG5cdFx0XHRoYW5kbGVPYmpJbiA9IGhhbmRsZXI7XG5cdFx0XHRoYW5kbGVyID0gaGFuZGxlT2JqSW4uaGFuZGxlcjtcblx0XHRcdHNlbGVjdG9yID0gaGFuZGxlT2JqSW4uc2VsZWN0b3I7XG5cdFx0fVxuXG5cdFx0Ly8gRW5zdXJlIHRoYXQgaW52YWxpZCBzZWxlY3RvcnMgdGhyb3cgZXhjZXB0aW9ucyBhdCBhdHRhY2ggdGltZVxuXHRcdC8vIEV2YWx1YXRlIGFnYWluc3QgZG9jdW1lbnRFbGVtZW50IGluIGNhc2UgZWxlbSBpcyBhIG5vbi1lbGVtZW50IG5vZGUgKGUuZy4sIGRvY3VtZW50KVxuXHRcdGlmICggc2VsZWN0b3IgKSB7XG5cdFx0XHRqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoIGRvY3VtZW50RWxlbWVudCwgc2VsZWN0b3IgKTtcblx0XHR9XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB0aGUgaGFuZGxlciBoYXMgYSB1bmlxdWUgSUQsIHVzZWQgdG8gZmluZC9yZW1vdmUgaXQgbGF0ZXJcblx0XHRpZiAoICFoYW5kbGVyLmd1aWQgKSB7XG5cdFx0XHRoYW5kbGVyLmd1aWQgPSBqUXVlcnkuZ3VpZCsrO1xuXHRcdH1cblxuXHRcdC8vIEluaXQgdGhlIGVsZW1lbnQncyBldmVudCBzdHJ1Y3R1cmUgYW5kIG1haW4gaGFuZGxlciwgaWYgdGhpcyBpcyB0aGUgZmlyc3Rcblx0XHRpZiAoICEoIGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyApICkge1xuXHRcdFx0ZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzID0ge307XG5cdFx0fVxuXHRcdGlmICggISggZXZlbnRIYW5kbGUgPSBlbGVtRGF0YS5oYW5kbGUgKSApIHtcblx0XHRcdGV2ZW50SGFuZGxlID0gZWxlbURhdGEuaGFuZGxlID0gZnVuY3Rpb24oIGUgKSB7XG5cblx0XHRcdFx0Ly8gRGlzY2FyZCB0aGUgc2Vjb25kIGV2ZW50IG9mIGEgalF1ZXJ5LmV2ZW50LnRyaWdnZXIoKSBhbmRcblx0XHRcdFx0Ly8gd2hlbiBhbiBldmVudCBpcyBjYWxsZWQgYWZ0ZXIgYSBwYWdlIGhhcyB1bmxvYWRlZFxuXHRcdFx0XHRyZXR1cm4gdHlwZW9mIGpRdWVyeSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkICE9PSBlLnR5cGUgP1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5kaXNwYXRjaC5hcHBseSggZWxlbSwgYXJndW1lbnRzICkgOiB1bmRlZmluZWQ7XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIEhhbmRsZSBtdWx0aXBsZSBldmVudHMgc2VwYXJhdGVkIGJ5IGEgc3BhY2Vcblx0XHR0eXBlcyA9ICggdHlwZXMgfHwgXCJcIiApLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbIFwiXCIgXTtcblx0XHR0ID0gdHlwZXMubGVuZ3RoO1xuXHRcdHdoaWxlICggdC0tICkge1xuXHRcdFx0dG1wID0gcnR5cGVuYW1lc3BhY2UuZXhlYyggdHlwZXNbIHQgXSApIHx8IFtdO1xuXHRcdFx0dHlwZSA9IG9yaWdUeXBlID0gdG1wWyAxIF07XG5cdFx0XHRuYW1lc3BhY2VzID0gKCB0bXBbIDIgXSB8fCBcIlwiICkuc3BsaXQoIFwiLlwiICkuc29ydCgpO1xuXG5cdFx0XHQvLyBUaGVyZSAqbXVzdCogYmUgYSB0eXBlLCBubyBhdHRhY2hpbmcgbmFtZXNwYWNlLW9ubHkgaGFuZGxlcnNcblx0XHRcdGlmICggIXR5cGUgKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBldmVudCBjaGFuZ2VzIGl0cyB0eXBlLCB1c2UgdGhlIHNwZWNpYWwgZXZlbnQgaGFuZGxlcnMgZm9yIHRoZSBjaGFuZ2VkIHR5cGVcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXG5cdFx0XHQvLyBJZiBzZWxlY3RvciBkZWZpbmVkLCBkZXRlcm1pbmUgc3BlY2lhbCBldmVudCBhcGkgdHlwZSwgb3RoZXJ3aXNlIGdpdmVuIHR5cGVcblx0XHRcdHR5cGUgPSAoIHNlbGVjdG9yID8gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgOiBzcGVjaWFsLmJpbmRUeXBlICkgfHwgdHlwZTtcblxuXHRcdFx0Ly8gVXBkYXRlIHNwZWNpYWwgYmFzZWQgb24gbmV3bHkgcmVzZXQgdHlwZVxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cblx0XHRcdC8vIGhhbmRsZU9iaiBpcyBwYXNzZWQgdG8gYWxsIGV2ZW50IGhhbmRsZXJzXG5cdFx0XHRoYW5kbGVPYmogPSBqUXVlcnkuZXh0ZW5kKCB7XG5cdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdG9yaWdUeXBlOiBvcmlnVHlwZSxcblx0XHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdFx0aGFuZGxlcjogaGFuZGxlcixcblx0XHRcdFx0Z3VpZDogaGFuZGxlci5ndWlkLFxuXHRcdFx0XHRzZWxlY3Rvcjogc2VsZWN0b3IsXG5cdFx0XHRcdG5lZWRzQ29udGV4dDogc2VsZWN0b3IgJiYgalF1ZXJ5LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9yICksXG5cdFx0XHRcdG5hbWVzcGFjZTogbmFtZXNwYWNlcy5qb2luKCBcIi5cIiApXG5cdFx0XHR9LCBoYW5kbGVPYmpJbiApO1xuXG5cdFx0XHQvLyBJbml0IHRoZSBldmVudCBoYW5kbGVyIHF1ZXVlIGlmIHdlJ3JlIHRoZSBmaXJzdFxuXHRcdFx0aWYgKCAhKCBoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdICkgKSB7XG5cdFx0XHRcdGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gPSBbXTtcblx0XHRcdFx0aGFuZGxlcnMuZGVsZWdhdGVDb3VudCA9IDA7XG5cblx0XHRcdFx0Ly8gT25seSB1c2UgYWRkRXZlbnRMaXN0ZW5lciBpZiB0aGUgc3BlY2lhbCBldmVudHMgaGFuZGxlciByZXR1cm5zIGZhbHNlXG5cdFx0XHRcdGlmICggIXNwZWNpYWwuc2V0dXAgfHxcblx0XHRcdFx0XHRzcGVjaWFsLnNldHVwLmNhbGwoIGVsZW0sIGRhdGEsIG5hbWVzcGFjZXMsIGV2ZW50SGFuZGxlICkgPT09IGZhbHNlICkge1xuXG5cdFx0XHRcdFx0aWYgKCBlbGVtLmFkZEV2ZW50TGlzdGVuZXIgKSB7XG5cdFx0XHRcdFx0XHRlbGVtLmFkZEV2ZW50TGlzdGVuZXIoIHR5cGUsIGV2ZW50SGFuZGxlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmICggc3BlY2lhbC5hZGQgKSB7XG5cdFx0XHRcdHNwZWNpYWwuYWRkLmNhbGwoIGVsZW0sIGhhbmRsZU9iaiApO1xuXG5cdFx0XHRcdGlmICggIWhhbmRsZU9iai5oYW5kbGVyLmd1aWQgKSB7XG5cdFx0XHRcdFx0aGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCA9IGhhbmRsZXIuZ3VpZDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgdG8gdGhlIGVsZW1lbnQncyBoYW5kbGVyIGxpc3QsIGRlbGVnYXRlcyBpbiBmcm9udFxuXHRcdFx0aWYgKCBzZWxlY3RvciApIHtcblx0XHRcdFx0aGFuZGxlcnMuc3BsaWNlKCBoYW5kbGVycy5kZWxlZ2F0ZUNvdW50KyssIDAsIGhhbmRsZU9iaiApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aGFuZGxlcnMucHVzaCggaGFuZGxlT2JqICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEtlZXAgdHJhY2sgb2Ygd2hpY2ggZXZlbnRzIGhhdmUgZXZlciBiZWVuIHVzZWQsIGZvciBldmVudCBvcHRpbWl6YXRpb25cblx0XHRcdGpRdWVyeS5ldmVudC5nbG9iYWxbIHR5cGUgXSA9IHRydWU7XG5cdFx0fVxuXG5cdH0sXG5cblx0Ly8gRGV0YWNoIGFuIGV2ZW50IG9yIHNldCBvZiBldmVudHMgZnJvbSBhbiBlbGVtZW50XG5cdHJlbW92ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGVzLCBoYW5kbGVyLCBzZWxlY3RvciwgbWFwcGVkVHlwZXMgKSB7XG5cblx0XHR2YXIgaiwgb3JpZ0NvdW50LCB0bXAsXG5cdFx0XHRldmVudHMsIHQsIGhhbmRsZU9iaixcblx0XHRcdHNwZWNpYWwsIGhhbmRsZXJzLCB0eXBlLCBuYW1lc3BhY2VzLCBvcmlnVHlwZSxcblx0XHRcdGVsZW1EYXRhID0gZGF0YVByaXYuaGFzRGF0YSggZWxlbSApICYmIGRhdGFQcml2LmdldCggZWxlbSApO1xuXG5cdFx0aWYgKCAhZWxlbURhdGEgfHwgISggZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gT25jZSBmb3IgZWFjaCB0eXBlLm5hbWVzcGFjZSBpbiB0eXBlczsgdHlwZSBtYXkgYmUgb21pdHRlZFxuXHRcdHR5cGVzID0gKCB0eXBlcyB8fCBcIlwiICkubWF0Y2goIHJub3R3aGl0ZSApIHx8IFsgXCJcIiBdO1xuXHRcdHQgPSB0eXBlcy5sZW5ndGg7XG5cdFx0d2hpbGUgKCB0LS0gKSB7XG5cdFx0XHR0bXAgPSBydHlwZW5hbWVzcGFjZS5leGVjKCB0eXBlc1sgdCBdICkgfHwgW107XG5cdFx0XHR0eXBlID0gb3JpZ1R5cGUgPSB0bXBbIDEgXTtcblx0XHRcdG5hbWVzcGFjZXMgPSAoIHRtcFsgMiBdIHx8IFwiXCIgKS5zcGxpdCggXCIuXCIgKS5zb3J0KCk7XG5cblx0XHRcdC8vIFVuYmluZCBhbGwgZXZlbnRzIChvbiB0aGlzIG5hbWVzcGFjZSwgaWYgcHJvdmlkZWQpIGZvciB0aGUgZWxlbWVudFxuXHRcdFx0aWYgKCAhdHlwZSApIHtcblx0XHRcdFx0Zm9yICggdHlwZSBpbiBldmVudHMgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnJlbW92ZSggZWxlbSwgdHlwZSArIHR5cGVzWyB0IF0sIGhhbmRsZXIsIHNlbGVjdG9yLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXHRcdFx0dHlwZSA9ICggc2VsZWN0b3IgPyBzcGVjaWFsLmRlbGVnYXRlVHlwZSA6IHNwZWNpYWwuYmluZFR5cGUgKSB8fCB0eXBlO1xuXHRcdFx0aGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSB8fCBbXTtcblx0XHRcdHRtcCA9IHRtcFsgMiBdICYmXG5cdFx0XHRcdG5ldyBSZWdFeHAoIFwiKF58XFxcXC4pXCIgKyBuYW1lc3BhY2VzLmpvaW4oIFwiXFxcXC4oPzouKlxcXFwufClcIiApICsgXCIoXFxcXC58JClcIiApO1xuXG5cdFx0XHQvLyBSZW1vdmUgbWF0Y2hpbmcgZXZlbnRzXG5cdFx0XHRvcmlnQ291bnQgPSBqID0gaGFuZGxlcnMubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBqLS0gKSB7XG5cdFx0XHRcdGhhbmRsZU9iaiA9IGhhbmRsZXJzWyBqIF07XG5cblx0XHRcdFx0aWYgKCAoIG1hcHBlZFR5cGVzIHx8IG9yaWdUeXBlID09PSBoYW5kbGVPYmoub3JpZ1R5cGUgKSAmJlxuXHRcdFx0XHRcdCggIWhhbmRsZXIgfHwgaGFuZGxlci5ndWlkID09PSBoYW5kbGVPYmouZ3VpZCApICYmXG5cdFx0XHRcdFx0KCAhdG1wIHx8IHRtcC50ZXN0KCBoYW5kbGVPYmoubmFtZXNwYWNlICkgKSAmJlxuXHRcdFx0XHRcdCggIXNlbGVjdG9yIHx8IHNlbGVjdG9yID09PSBoYW5kbGVPYmouc2VsZWN0b3IgfHxcblx0XHRcdFx0XHRcdHNlbGVjdG9yID09PSBcIioqXCIgJiYgaGFuZGxlT2JqLnNlbGVjdG9yICkgKSB7XG5cdFx0XHRcdFx0aGFuZGxlcnMuc3BsaWNlKCBqLCAxICk7XG5cblx0XHRcdFx0XHRpZiAoIGhhbmRsZU9iai5zZWxlY3RvciApIHtcblx0XHRcdFx0XHRcdGhhbmRsZXJzLmRlbGVnYXRlQ291bnQtLTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCBzcGVjaWFsLnJlbW92ZSApIHtcblx0XHRcdFx0XHRcdHNwZWNpYWwucmVtb3ZlLmNhbGwoIGVsZW0sIGhhbmRsZU9iaiApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZW1vdmUgZ2VuZXJpYyBldmVudCBoYW5kbGVyIGlmIHdlIHJlbW92ZWQgc29tZXRoaW5nIGFuZCBubyBtb3JlIGhhbmRsZXJzIGV4aXN0XG5cdFx0XHQvLyAoYXZvaWRzIHBvdGVudGlhbCBmb3IgZW5kbGVzcyByZWN1cnNpb24gZHVyaW5nIHJlbW92YWwgb2Ygc3BlY2lhbCBldmVudCBoYW5kbGVycylcblx0XHRcdGlmICggb3JpZ0NvdW50ICYmICFoYW5kbGVycy5sZW5ndGggKSB7XG5cdFx0XHRcdGlmICggIXNwZWNpYWwudGVhcmRvd24gfHxcblx0XHRcdFx0XHRzcGVjaWFsLnRlYXJkb3duLmNhbGwoIGVsZW0sIG5hbWVzcGFjZXMsIGVsZW1EYXRhLmhhbmRsZSApID09PSBmYWxzZSApIHtcblxuXHRcdFx0XHRcdGpRdWVyeS5yZW1vdmVFdmVudCggZWxlbSwgdHlwZSwgZWxlbURhdGEuaGFuZGxlICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkZWxldGUgZXZlbnRzWyB0eXBlIF07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUmVtb3ZlIGRhdGEgYW5kIHRoZSBleHBhbmRvIGlmIGl0J3Mgbm8gbG9uZ2VyIHVzZWRcblx0XHRpZiAoIGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBldmVudHMgKSApIHtcblx0XHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgXCJoYW5kbGUgZXZlbnRzXCIgKTtcblx0XHR9XG5cdH0sXG5cblx0ZGlzcGF0Y2g6IGZ1bmN0aW9uKCBuYXRpdmVFdmVudCApIHtcblxuXHRcdC8vIE1ha2UgYSB3cml0YWJsZSBqUXVlcnkuRXZlbnQgZnJvbSB0aGUgbmF0aXZlIGV2ZW50IG9iamVjdFxuXHRcdHZhciBldmVudCA9IGpRdWVyeS5ldmVudC5maXgoIG5hdGl2ZUV2ZW50ICk7XG5cblx0XHR2YXIgaSwgaiwgcmV0LCBtYXRjaGVkLCBoYW5kbGVPYmosIGhhbmRsZXJRdWV1ZSxcblx0XHRcdGFyZ3MgPSBuZXcgQXJyYXkoIGFyZ3VtZW50cy5sZW5ndGggKSxcblx0XHRcdGhhbmRsZXJzID0gKCBkYXRhUHJpdi5nZXQoIHRoaXMsIFwiZXZlbnRzXCIgKSB8fCB7fSApWyBldmVudC50eXBlIF0gfHwgW10sXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGV2ZW50LnR5cGUgXSB8fCB7fTtcblxuXHRcdC8vIFVzZSB0aGUgZml4LWVkIGpRdWVyeS5FdmVudCByYXRoZXIgdGhhbiB0aGUgKHJlYWQtb25seSkgbmF0aXZlIGV2ZW50XG5cdFx0YXJnc1sgMCBdID0gZXZlbnQ7XG5cblx0XHRmb3IgKCBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKyApIHtcblx0XHRcdGFyZ3NbIGkgXSA9IGFyZ3VtZW50c1sgaSBdO1xuXHRcdH1cblxuXHRcdGV2ZW50LmRlbGVnYXRlVGFyZ2V0ID0gdGhpcztcblxuXHRcdC8vIENhbGwgdGhlIHByZURpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZSwgYW5kIGxldCBpdCBiYWlsIGlmIGRlc2lyZWRcblx0XHRpZiAoIHNwZWNpYWwucHJlRGlzcGF0Y2ggJiYgc3BlY2lhbC5wcmVEaXNwYXRjaC5jYWxsKCB0aGlzLCBldmVudCApID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBEZXRlcm1pbmUgaGFuZGxlcnNcblx0XHRoYW5kbGVyUXVldWUgPSBqUXVlcnkuZXZlbnQuaGFuZGxlcnMuY2FsbCggdGhpcywgZXZlbnQsIGhhbmRsZXJzICk7XG5cblx0XHQvLyBSdW4gZGVsZWdhdGVzIGZpcnN0OyB0aGV5IG1heSB3YW50IHRvIHN0b3AgcHJvcGFnYXRpb24gYmVuZWF0aCB1c1xuXHRcdGkgPSAwO1xuXHRcdHdoaWxlICggKCBtYXRjaGVkID0gaGFuZGxlclF1ZXVlWyBpKysgXSApICYmICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXHRcdFx0ZXZlbnQuY3VycmVudFRhcmdldCA9IG1hdGNoZWQuZWxlbTtcblxuXHRcdFx0aiA9IDA7XG5cdFx0XHR3aGlsZSAoICggaGFuZGxlT2JqID0gbWF0Y2hlZC5oYW5kbGVyc1sgaisrIF0gKSAmJlxuXHRcdFx0XHQhZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblxuXHRcdFx0XHQvLyBUcmlnZ2VyZWQgZXZlbnQgbXVzdCBlaXRoZXIgMSkgaGF2ZSBubyBuYW1lc3BhY2UsIG9yIDIpIGhhdmUgbmFtZXNwYWNlKHMpXG5cdFx0XHRcdC8vIGEgc3Vic2V0IG9yIGVxdWFsIHRvIHRob3NlIGluIHRoZSBib3VuZCBldmVudCAoYm90aCBjYW4gaGF2ZSBubyBuYW1lc3BhY2UpLlxuXHRcdFx0XHRpZiAoICFldmVudC5ybmFtZXNwYWNlIHx8IGV2ZW50LnJuYW1lc3BhY2UudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkge1xuXG5cdFx0XHRcdFx0ZXZlbnQuaGFuZGxlT2JqID0gaGFuZGxlT2JqO1xuXHRcdFx0XHRcdGV2ZW50LmRhdGEgPSBoYW5kbGVPYmouZGF0YTtcblxuXHRcdFx0XHRcdHJldCA9ICggKCBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgaGFuZGxlT2JqLm9yaWdUeXBlIF0gfHwge30gKS5oYW5kbGUgfHxcblx0XHRcdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyICkuYXBwbHkoIG1hdGNoZWQuZWxlbSwgYXJncyApO1xuXG5cdFx0XHRcdFx0aWYgKCByZXQgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdGlmICggKCBldmVudC5yZXN1bHQgPSByZXQgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhbGwgdGhlIHBvc3REaXNwYXRjaCBob29rIGZvciB0aGUgbWFwcGVkIHR5cGVcblx0XHRpZiAoIHNwZWNpYWwucG9zdERpc3BhdGNoICkge1xuXHRcdFx0c3BlY2lhbC5wb3N0RGlzcGF0Y2guY2FsbCggdGhpcywgZXZlbnQgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQucmVzdWx0O1xuXHR9LFxuXG5cdGhhbmRsZXJzOiBmdW5jdGlvbiggZXZlbnQsIGhhbmRsZXJzICkge1xuXHRcdHZhciBpLCBtYXRjaGVzLCBzZWwsIGhhbmRsZU9iaixcblx0XHRcdGhhbmRsZXJRdWV1ZSA9IFtdLFxuXHRcdFx0ZGVsZWdhdGVDb3VudCA9IGhhbmRsZXJzLmRlbGVnYXRlQ291bnQsXG5cdFx0XHRjdXIgPSBldmVudC50YXJnZXQ7XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA8PTlcblx0XHQvLyBGaW5kIGRlbGVnYXRlIGhhbmRsZXJzXG5cdFx0Ly8gQmxhY2staG9sZSBTVkcgPHVzZT4gaW5zdGFuY2UgdHJlZXMgKCMxMzE4MClcblx0XHQvL1xuXHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00MlxuXHRcdC8vIEF2b2lkIG5vbi1sZWZ0LWNsaWNrIGluIEZGIGJ1dCBkb24ndCBibG9jayBJRSByYWRpbyBldmVudHMgKCMzODYxLCBnaC0yMzQzKVxuXHRcdGlmICggZGVsZWdhdGVDb3VudCAmJiBjdXIubm9kZVR5cGUgJiZcblx0XHRcdCggZXZlbnQudHlwZSAhPT0gXCJjbGlja1wiIHx8IGlzTmFOKCBldmVudC5idXR0b24gKSB8fCBldmVudC5idXR0b24gPCAxICkgKSB7XG5cblx0XHRcdGZvciAoIDsgY3VyICE9PSB0aGlzOyBjdXIgPSBjdXIucGFyZW50Tm9kZSB8fCB0aGlzICkge1xuXG5cdFx0XHRcdC8vIERvbid0IGNoZWNrIG5vbi1lbGVtZW50cyAoIzEzMjA4KVxuXHRcdFx0XHQvLyBEb24ndCBwcm9jZXNzIGNsaWNrcyBvbiBkaXNhYmxlZCBlbGVtZW50cyAoIzY5MTEsICM4MTY1LCAjMTEzODIsICMxMTc2NClcblx0XHRcdFx0aWYgKCBjdXIubm9kZVR5cGUgPT09IDEgJiYgKCBjdXIuZGlzYWJsZWQgIT09IHRydWUgfHwgZXZlbnQudHlwZSAhPT0gXCJjbGlja1wiICkgKSB7XG5cdFx0XHRcdFx0bWF0Y2hlcyA9IFtdO1xuXHRcdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgZGVsZWdhdGVDb3VudDsgaSsrICkge1xuXHRcdFx0XHRcdFx0aGFuZGxlT2JqID0gaGFuZGxlcnNbIGkgXTtcblxuXHRcdFx0XHRcdFx0Ly8gRG9uJ3QgY29uZmxpY3Qgd2l0aCBPYmplY3QucHJvdG90eXBlIHByb3BlcnRpZXMgKCMxMzIwMylcblx0XHRcdFx0XHRcdHNlbCA9IGhhbmRsZU9iai5zZWxlY3RvciArIFwiIFwiO1xuXG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXNbIHNlbCBdID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0XHRcdG1hdGNoZXNbIHNlbCBdID0gaGFuZGxlT2JqLm5lZWRzQ29udGV4dCA/XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBzZWwsIHRoaXMgKS5pbmRleCggY3VyICkgPiAtMSA6XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmZpbmQoIHNlbCwgdGhpcywgbnVsbCwgWyBjdXIgXSApLmxlbmd0aDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlc1sgc2VsIF0gKSB7XG5cdFx0XHRcdFx0XHRcdG1hdGNoZXMucHVzaCggaGFuZGxlT2JqICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggbWF0Y2hlcy5sZW5ndGggKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVyUXVldWUucHVzaCggeyBlbGVtOiBjdXIsIGhhbmRsZXJzOiBtYXRjaGVzIH0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBBZGQgdGhlIHJlbWFpbmluZyAoZGlyZWN0bHktYm91bmQpIGhhbmRsZXJzXG5cdFx0aWYgKCBkZWxlZ2F0ZUNvdW50IDwgaGFuZGxlcnMubGVuZ3RoICkge1xuXHRcdFx0aGFuZGxlclF1ZXVlLnB1c2goIHsgZWxlbTogdGhpcywgaGFuZGxlcnM6IGhhbmRsZXJzLnNsaWNlKCBkZWxlZ2F0ZUNvdW50ICkgfSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBoYW5kbGVyUXVldWU7XG5cdH0sXG5cblx0YWRkUHJvcDogZnVuY3Rpb24oIG5hbWUsIGhvb2sgKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCBqUXVlcnkuRXZlbnQucHJvdG90eXBlLCBuYW1lLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXG5cdFx0XHRnZXQ6IGpRdWVyeS5pc0Z1bmN0aW9uKCBob29rICkgP1xuXHRcdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoIHRoaXMub3JpZ2luYWxFdmVudCApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGhvb2soIHRoaXMub3JpZ2luYWxFdmVudCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSA6XG5cdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50WyBuYW1lIF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCB0aGlzLCBuYW1lLCB7XG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0d3JpdGFibGU6IHRydWUsXG5cdFx0XHRcdFx0dmFsdWU6IHZhbHVlXG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0Zml4OiBmdW5jdGlvbiggb3JpZ2luYWxFdmVudCApIHtcblx0XHRyZXR1cm4gb3JpZ2luYWxFdmVudFsgalF1ZXJ5LmV4cGFuZG8gXSA/XG5cdFx0XHRvcmlnaW5hbEV2ZW50IDpcblx0XHRcdG5ldyBqUXVlcnkuRXZlbnQoIG9yaWdpbmFsRXZlbnQgKTtcblx0fSxcblxuXHRzcGVjaWFsOiB7XG5cdFx0bG9hZDoge1xuXG5cdFx0XHQvLyBQcmV2ZW50IHRyaWdnZXJlZCBpbWFnZS5sb2FkIGV2ZW50cyBmcm9tIGJ1YmJsaW5nIHRvIHdpbmRvdy5sb2FkXG5cdFx0XHRub0J1YmJsZTogdHJ1ZVxuXHRcdH0sXG5cdFx0Zm9jdXM6IHtcblxuXHRcdFx0Ly8gRmlyZSBuYXRpdmUgZXZlbnQgaWYgcG9zc2libGUgc28gYmx1ci9mb2N1cyBzZXF1ZW5jZSBpcyBjb3JyZWN0XG5cdFx0XHR0cmlnZ2VyOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCB0aGlzICE9PSBzYWZlQWN0aXZlRWxlbWVudCgpICYmIHRoaXMuZm9jdXMgKSB7XG5cdFx0XHRcdFx0dGhpcy5mb2N1cygpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGRlbGVnYXRlVHlwZTogXCJmb2N1c2luXCJcblx0XHR9LFxuXHRcdGJsdXI6IHtcblx0XHRcdHRyaWdnZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIHRoaXMgPT09IHNhZmVBY3RpdmVFbGVtZW50KCkgJiYgdGhpcy5ibHVyICkge1xuXHRcdFx0XHRcdHRoaXMuYmx1cigpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGRlbGVnYXRlVHlwZTogXCJmb2N1c291dFwiXG5cdFx0fSxcblx0XHRjbGljazoge1xuXG5cdFx0XHQvLyBGb3IgY2hlY2tib3gsIGZpcmUgbmF0aXZlIGV2ZW50IHNvIGNoZWNrZWQgc3RhdGUgd2lsbCBiZSByaWdodFxuXHRcdFx0dHJpZ2dlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggdGhpcy50eXBlID09PSBcImNoZWNrYm94XCIgJiYgdGhpcy5jbGljayAmJiBqUXVlcnkubm9kZU5hbWUoIHRoaXMsIFwiaW5wdXRcIiApICkge1xuXHRcdFx0XHRcdHRoaXMuY2xpY2soKTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cblx0XHRcdC8vIEZvciBjcm9zcy1icm93c2VyIGNvbnNpc3RlbmN5LCBkb24ndCBmaXJlIG5hdGl2ZSAuY2xpY2soKSBvbiBsaW5rc1xuXHRcdFx0X2RlZmF1bHQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0cmV0dXJuIGpRdWVyeS5ub2RlTmFtZSggZXZlbnQudGFyZ2V0LCBcImFcIiApO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRiZWZvcmV1bmxvYWQ6IHtcblx0XHRcdHBvc3REaXNwYXRjaDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggMjArXG5cdFx0XHRcdC8vIEZpcmVmb3ggZG9lc24ndCBhbGVydCBpZiB0aGUgcmV0dXJuVmFsdWUgZmllbGQgaXMgbm90IHNldC5cblx0XHRcdFx0aWYgKCBldmVudC5yZXN1bHQgIT09IHVuZGVmaW5lZCAmJiBldmVudC5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdGV2ZW50Lm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWUgPSBldmVudC5yZXN1bHQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5yZW1vdmVFdmVudCA9IGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCBoYW5kbGUgKSB7XG5cblx0Ly8gVGhpcyBcImlmXCIgaXMgbmVlZGVkIGZvciBwbGFpbiBvYmplY3RzXG5cdGlmICggZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyICkge1xuXHRcdGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciggdHlwZSwgaGFuZGxlICk7XG5cdH1cbn07XG5cbmpRdWVyeS5FdmVudCA9IGZ1bmN0aW9uKCBzcmMsIHByb3BzICkge1xuXG5cdC8vIEFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCB0aGUgJ25ldycga2V5d29yZFxuXHRpZiAoICEoIHRoaXMgaW5zdGFuY2VvZiBqUXVlcnkuRXZlbnQgKSApIHtcblx0XHRyZXR1cm4gbmV3IGpRdWVyeS5FdmVudCggc3JjLCBwcm9wcyApO1xuXHR9XG5cblx0Ly8gRXZlbnQgb2JqZWN0XG5cdGlmICggc3JjICYmIHNyYy50eXBlICkge1xuXHRcdHRoaXMub3JpZ2luYWxFdmVudCA9IHNyYztcblx0XHR0aGlzLnR5cGUgPSBzcmMudHlwZTtcblxuXHRcdC8vIEV2ZW50cyBidWJibGluZyB1cCB0aGUgZG9jdW1lbnQgbWF5IGhhdmUgYmVlbiBtYXJrZWQgYXMgcHJldmVudGVkXG5cdFx0Ly8gYnkgYSBoYW5kbGVyIGxvd2VyIGRvd24gdGhlIHRyZWU7IHJlZmxlY3QgdGhlIGNvcnJlY3QgdmFsdWUuXG5cdFx0dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBzcmMuZGVmYXVsdFByZXZlbnRlZCB8fFxuXHRcdFx0XHRzcmMuZGVmYXVsdFByZXZlbnRlZCA9PT0gdW5kZWZpbmVkICYmXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTIuMyBvbmx5XG5cdFx0XHRcdHNyYy5yZXR1cm5WYWx1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0cmV0dXJuVHJ1ZSA6XG5cdFx0XHRyZXR1cm5GYWxzZTtcblxuXHRcdC8vIENyZWF0ZSB0YXJnZXQgcHJvcGVydGllc1xuXHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA8PTYgLSA3IG9ubHlcblx0XHQvLyBUYXJnZXQgc2hvdWxkIG5vdCBiZSBhIHRleHQgbm9kZSAoIzUwNCwgIzEzMTQzKVxuXHRcdHRoaXMudGFyZ2V0ID0gKCBzcmMudGFyZ2V0ICYmIHNyYy50YXJnZXQubm9kZVR5cGUgPT09IDMgKSA/XG5cdFx0XHRzcmMudGFyZ2V0LnBhcmVudE5vZGUgOlxuXHRcdFx0c3JjLnRhcmdldDtcblxuXHRcdHRoaXMuY3VycmVudFRhcmdldCA9IHNyYy5jdXJyZW50VGFyZ2V0O1xuXHRcdHRoaXMucmVsYXRlZFRhcmdldCA9IHNyYy5yZWxhdGVkVGFyZ2V0O1xuXG5cdC8vIEV2ZW50IHR5cGVcblx0fSBlbHNlIHtcblx0XHR0aGlzLnR5cGUgPSBzcmM7XG5cdH1cblxuXHQvLyBQdXQgZXhwbGljaXRseSBwcm92aWRlZCBwcm9wZXJ0aWVzIG9udG8gdGhlIGV2ZW50IG9iamVjdFxuXHRpZiAoIHByb3BzICkge1xuXHRcdGpRdWVyeS5leHRlbmQoIHRoaXMsIHByb3BzICk7XG5cdH1cblxuXHQvLyBDcmVhdGUgYSB0aW1lc3RhbXAgaWYgaW5jb21pbmcgZXZlbnQgZG9lc24ndCBoYXZlIG9uZVxuXHR0aGlzLnRpbWVTdGFtcCA9IHNyYyAmJiBzcmMudGltZVN0YW1wIHx8IGpRdWVyeS5ub3coKTtcblxuXHQvLyBNYXJrIGl0IGFzIGZpeGVkXG5cdHRoaXNbIGpRdWVyeS5leHBhbmRvIF0gPSB0cnVlO1xufTtcblxuLy8galF1ZXJ5LkV2ZW50IGlzIGJhc2VkIG9uIERPTTMgRXZlbnRzIGFzIHNwZWNpZmllZCBieSB0aGUgRUNNQVNjcmlwdCBMYW5ndWFnZSBCaW5kaW5nXG4vLyBodHRwczovL3d3dy53My5vcmcvVFIvMjAwMy9XRC1ET00tTGV2ZWwtMy1FdmVudHMtMjAwMzAzMzEvZWNtYS1zY3JpcHQtYmluZGluZy5odG1sXG5qUXVlcnkuRXZlbnQucHJvdG90eXBlID0ge1xuXHRjb25zdHJ1Y3RvcjogalF1ZXJ5LkV2ZW50LFxuXHRpc0RlZmF1bHRQcmV2ZW50ZWQ6IHJldHVybkZhbHNlLFxuXHRpc1Byb3BhZ2F0aW9uU3RvcHBlZDogcmV0dXJuRmFsc2UsXG5cdGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSxcblx0aXNTaW11bGF0ZWQ6IGZhbHNlLFxuXG5cdHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblxuXHRcdHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gcmV0dXJuVHJ1ZTtcblxuXHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR9XG5cdH0sXG5cdHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG5cblx0XHR0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gcmV0dXJuVHJ1ZTtcblxuXHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0fVxuXHR9LFxuXHRzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuXG5cdFx0dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XG5cblx0XHRpZiAoIGUgJiYgIXRoaXMuaXNTaW11bGF0ZWQgKSB7XG5cdFx0XHRlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdH1cblxuXHRcdHRoaXMuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdH1cbn07XG5cbi8vIEluY2x1ZGVzIGFsbCBjb21tb24gZXZlbnQgcHJvcHMgaW5jbHVkaW5nIEtleUV2ZW50IGFuZCBNb3VzZUV2ZW50IHNwZWNpZmljIHByb3BzXG5qUXVlcnkuZWFjaCgge1xuXHRhbHRLZXk6IHRydWUsXG5cdGJ1YmJsZXM6IHRydWUsXG5cdGNhbmNlbGFibGU6IHRydWUsXG5cdGNoYW5nZWRUb3VjaGVzOiB0cnVlLFxuXHRjdHJsS2V5OiB0cnVlLFxuXHRkZXRhaWw6IHRydWUsXG5cdGV2ZW50UGhhc2U6IHRydWUsXG5cdG1ldGFLZXk6IHRydWUsXG5cdHBhZ2VYOiB0cnVlLFxuXHRwYWdlWTogdHJ1ZSxcblx0c2hpZnRLZXk6IHRydWUsXG5cdHZpZXc6IHRydWUsXG5cdFwiY2hhclwiOiB0cnVlLFxuXHRjaGFyQ29kZTogdHJ1ZSxcblx0a2V5OiB0cnVlLFxuXHRrZXlDb2RlOiB0cnVlLFxuXHRidXR0b246IHRydWUsXG5cdGJ1dHRvbnM6IHRydWUsXG5cdGNsaWVudFg6IHRydWUsXG5cdGNsaWVudFk6IHRydWUsXG5cdG9mZnNldFg6IHRydWUsXG5cdG9mZnNldFk6IHRydWUsXG5cdHBvaW50ZXJJZDogdHJ1ZSxcblx0cG9pbnRlclR5cGU6IHRydWUsXG5cdHNjcmVlblg6IHRydWUsXG5cdHNjcmVlblk6IHRydWUsXG5cdHRhcmdldFRvdWNoZXM6IHRydWUsXG5cdHRvRWxlbWVudDogdHJ1ZSxcblx0dG91Y2hlczogdHJ1ZSxcblxuXHR3aGljaDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBidXR0b24gPSBldmVudC5idXR0b247XG5cblx0XHQvLyBBZGQgd2hpY2ggZm9yIGtleSBldmVudHNcblx0XHRpZiAoIGV2ZW50LndoaWNoID09IG51bGwgJiYgcmtleUV2ZW50LnRlc3QoIGV2ZW50LnR5cGUgKSApIHtcblx0XHRcdHJldHVybiBldmVudC5jaGFyQ29kZSAhPSBudWxsID8gZXZlbnQuY2hhckNvZGUgOiBldmVudC5rZXlDb2RlO1xuXHRcdH1cblxuXHRcdC8vIEFkZCB3aGljaCBmb3IgY2xpY2s6IDEgPT09IGxlZnQ7IDIgPT09IG1pZGRsZTsgMyA9PT0gcmlnaHRcblx0XHRpZiAoICFldmVudC53aGljaCAmJiBidXR0b24gIT09IHVuZGVmaW5lZCAmJiBybW91c2VFdmVudC50ZXN0KCBldmVudC50eXBlICkgKSB7XG5cdFx0XHRyZXR1cm4gKCBidXR0b24gJiAxID8gMSA6ICggYnV0dG9uICYgMiA/IDMgOiAoIGJ1dHRvbiAmIDQgPyAyIDogMCApICkgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQud2hpY2g7XG5cdH1cbn0sIGpRdWVyeS5ldmVudC5hZGRQcm9wICk7XG5cbi8vIENyZWF0ZSBtb3VzZWVudGVyL2xlYXZlIGV2ZW50cyB1c2luZyBtb3VzZW92ZXIvb3V0IGFuZCBldmVudC10aW1lIGNoZWNrc1xuLy8gc28gdGhhdCBldmVudCBkZWxlZ2F0aW9uIHdvcmtzIGluIGpRdWVyeS5cbi8vIERvIHRoZSBzYW1lIGZvciBwb2ludGVyZW50ZXIvcG9pbnRlcmxlYXZlIGFuZCBwb2ludGVyb3Zlci9wb2ludGVyb3V0XG4vL1xuLy8gU3VwcG9ydDogU2FmYXJpIDcgb25seVxuLy8gU2FmYXJpIHNlbmRzIG1vdXNlZW50ZXIgdG9vIG9mdGVuOyBzZWU6XG4vLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NzAyNThcbi8vIGZvciB0aGUgZGVzY3JpcHRpb24gb2YgdGhlIGJ1ZyAoaXQgZXhpc3RlZCBpbiBvbGRlciBDaHJvbWUgdmVyc2lvbnMgYXMgd2VsbCkuXG5qUXVlcnkuZWFjaCgge1xuXHRtb3VzZWVudGVyOiBcIm1vdXNlb3ZlclwiLFxuXHRtb3VzZWxlYXZlOiBcIm1vdXNlb3V0XCIsXG5cdHBvaW50ZXJlbnRlcjogXCJwb2ludGVyb3ZlclwiLFxuXHRwb2ludGVybGVhdmU6IFwicG9pbnRlcm91dFwiXG59LCBmdW5jdGlvbiggb3JpZywgZml4ICkge1xuXHRqUXVlcnkuZXZlbnQuc3BlY2lhbFsgb3JpZyBdID0ge1xuXHRcdGRlbGVnYXRlVHlwZTogZml4LFxuXHRcdGJpbmRUeXBlOiBmaXgsXG5cblx0XHRoYW5kbGU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciByZXQsXG5cdFx0XHRcdHRhcmdldCA9IHRoaXMsXG5cdFx0XHRcdHJlbGF0ZWQgPSBldmVudC5yZWxhdGVkVGFyZ2V0LFxuXHRcdFx0XHRoYW5kbGVPYmogPSBldmVudC5oYW5kbGVPYmo7XG5cblx0XHRcdC8vIEZvciBtb3VzZWVudGVyL2xlYXZlIGNhbGwgdGhlIGhhbmRsZXIgaWYgcmVsYXRlZCBpcyBvdXRzaWRlIHRoZSB0YXJnZXQuXG5cdFx0XHQvLyBOQjogTm8gcmVsYXRlZFRhcmdldCBpZiB0aGUgbW91c2UgbGVmdC9lbnRlcmVkIHRoZSBicm93c2VyIHdpbmRvd1xuXHRcdFx0aWYgKCAhcmVsYXRlZCB8fCAoIHJlbGF0ZWQgIT09IHRhcmdldCAmJiAhalF1ZXJ5LmNvbnRhaW5zKCB0YXJnZXQsIHJlbGF0ZWQgKSApICkge1xuXHRcdFx0XHRldmVudC50eXBlID0gaGFuZGxlT2JqLm9yaWdUeXBlO1xuXHRcdFx0XHRyZXQgPSBoYW5kbGVPYmouaGFuZGxlci5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdGV2ZW50LnR5cGUgPSBmaXg7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblx0fTtcbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXG5cdG9uOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gb24oIHRoaXMsIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKTtcblx0fSxcblx0b25lOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gb24oIHRoaXMsIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIDEgKTtcblx0fSxcblx0b2ZmOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBmbiApIHtcblx0XHR2YXIgaGFuZGxlT2JqLCB0eXBlO1xuXHRcdGlmICggdHlwZXMgJiYgdHlwZXMucHJldmVudERlZmF1bHQgJiYgdHlwZXMuaGFuZGxlT2JqICkge1xuXG5cdFx0XHQvLyAoIGV2ZW50ICkgIGRpc3BhdGNoZWQgalF1ZXJ5LkV2ZW50XG5cdFx0XHRoYW5kbGVPYmogPSB0eXBlcy5oYW5kbGVPYmo7XG5cdFx0XHRqUXVlcnkoIHR5cGVzLmRlbGVnYXRlVGFyZ2V0ICkub2ZmKFxuXHRcdFx0XHRoYW5kbGVPYmoubmFtZXNwYWNlID9cblx0XHRcdFx0XHRoYW5kbGVPYmoub3JpZ1R5cGUgKyBcIi5cIiArIGhhbmRsZU9iai5uYW1lc3BhY2UgOlxuXHRcdFx0XHRcdGhhbmRsZU9iai5vcmlnVHlwZSxcblx0XHRcdFx0aGFuZGxlT2JqLnNlbGVjdG9yLFxuXHRcdFx0XHRoYW5kbGVPYmouaGFuZGxlclxuXHRcdFx0KTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0XHRpZiAoIHR5cGVvZiB0eXBlcyA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdFx0Ly8gKCB0eXBlcy1vYmplY3QgWywgc2VsZWN0b3JdIClcblx0XHRcdGZvciAoIHR5cGUgaW4gdHlwZXMgKSB7XG5cdFx0XHRcdHRoaXMub2ZmKCB0eXBlLCBzZWxlY3RvciwgdHlwZXNbIHR5cGUgXSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHRcdGlmICggc2VsZWN0b3IgPT09IGZhbHNlIHx8IHR5cGVvZiBzZWxlY3RvciA9PT0gXCJmdW5jdGlvblwiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzIFssIGZuXSApXG5cdFx0XHRmbiA9IHNlbGVjdG9yO1xuXHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGlmICggZm4gPT09IGZhbHNlICkge1xuXHRcdFx0Zm4gPSByZXR1cm5GYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCB0aGlzLCB0eXBlcywgZm4sIHNlbGVjdG9yICk7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cblxudmFyXG5cblx0LyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuXG5cdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZXNsaW50L2VzbGludC9pc3N1ZXMvMzIyOVxuXHRyeGh0bWxUYWcgPSAvPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbYS16XVteXFwvXFwwPlxceDIwXFx0XFxyXFxuXFxmXSopW14+XSopXFwvPi9naSxcblxuXHQvKiBlc2xpbnQtZW5hYmxlICovXG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMCAtIDExLCBFZGdlIDEyIC0gMTNcblx0Ly8gSW4gSUUvRWRnZSB1c2luZyByZWdleCBncm91cHMgaGVyZSBjYXVzZXMgc2V2ZXJlIHNsb3dkb3ducy5cblx0Ly8gU2VlIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvMTczNjUxMi9cblx0cm5vSW5uZXJodG1sID0gLzxzY3JpcHR8PHN0eWxlfDxsaW5rL2ksXG5cblx0Ly8gY2hlY2tlZD1cImNoZWNrZWRcIiBvciBjaGVja2VkXG5cdHJjaGVja2VkID0gL2NoZWNrZWRcXHMqKD86W149XXw9XFxzKi5jaGVja2VkLikvaSxcblx0cnNjcmlwdFR5cGVNYXNrZWQgPSAvXnRydWVcXC8oLiopLyxcblx0cmNsZWFuU2NyaXB0ID0gL15cXHMqPCEoPzpcXFtDREFUQVxcW3wtLSl8KD86XFxdXFxdfC0tKT5cXHMqJC9nO1xuXG5mdW5jdGlvbiBtYW5pcHVsYXRpb25UYXJnZXQoIGVsZW0sIGNvbnRlbnQgKSB7XG5cdGlmICggalF1ZXJ5Lm5vZGVOYW1lKCBlbGVtLCBcInRhYmxlXCIgKSAmJlxuXHRcdGpRdWVyeS5ub2RlTmFtZSggY29udGVudC5ub2RlVHlwZSAhPT0gMTEgPyBjb250ZW50IDogY29udGVudC5maXJzdENoaWxkLCBcInRyXCIgKSApIHtcblxuXHRcdHJldHVybiBlbGVtLmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcInRib2R5XCIgKVsgMCBdIHx8IGVsZW07XG5cdH1cblxuXHRyZXR1cm4gZWxlbTtcbn1cblxuLy8gUmVwbGFjZS9yZXN0b3JlIHRoZSB0eXBlIGF0dHJpYnV0ZSBvZiBzY3JpcHQgZWxlbWVudHMgZm9yIHNhZmUgRE9NIG1hbmlwdWxhdGlvblxuZnVuY3Rpb24gZGlzYWJsZVNjcmlwdCggZWxlbSApIHtcblx0ZWxlbS50eXBlID0gKCBlbGVtLmdldEF0dHJpYnV0ZSggXCJ0eXBlXCIgKSAhPT0gbnVsbCApICsgXCIvXCIgKyBlbGVtLnR5cGU7XG5cdHJldHVybiBlbGVtO1xufVxuZnVuY3Rpb24gcmVzdG9yZVNjcmlwdCggZWxlbSApIHtcblx0dmFyIG1hdGNoID0gcnNjcmlwdFR5cGVNYXNrZWQuZXhlYyggZWxlbS50eXBlICk7XG5cblx0aWYgKCBtYXRjaCApIHtcblx0XHRlbGVtLnR5cGUgPSBtYXRjaFsgMSBdO1xuXHR9IGVsc2Uge1xuXHRcdGVsZW0ucmVtb3ZlQXR0cmlidXRlKCBcInR5cGVcIiApO1xuXHR9XG5cblx0cmV0dXJuIGVsZW07XG59XG5cbmZ1bmN0aW9uIGNsb25lQ29weUV2ZW50KCBzcmMsIGRlc3QgKSB7XG5cdHZhciBpLCBsLCB0eXBlLCBwZGF0YU9sZCwgcGRhdGFDdXIsIHVkYXRhT2xkLCB1ZGF0YUN1ciwgZXZlbnRzO1xuXG5cdGlmICggZGVzdC5ub2RlVHlwZSAhPT0gMSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyAxLiBDb3B5IHByaXZhdGUgZGF0YTogZXZlbnRzLCBoYW5kbGVycywgZXRjLlxuXHRpZiAoIGRhdGFQcml2Lmhhc0RhdGEoIHNyYyApICkge1xuXHRcdHBkYXRhT2xkID0gZGF0YVByaXYuYWNjZXNzKCBzcmMgKTtcblx0XHRwZGF0YUN1ciA9IGRhdGFQcml2LnNldCggZGVzdCwgcGRhdGFPbGQgKTtcblx0XHRldmVudHMgPSBwZGF0YU9sZC5ldmVudHM7XG5cblx0XHRpZiAoIGV2ZW50cyApIHtcblx0XHRcdGRlbGV0ZSBwZGF0YUN1ci5oYW5kbGU7XG5cdFx0XHRwZGF0YUN1ci5ldmVudHMgPSB7fTtcblxuXHRcdFx0Zm9yICggdHlwZSBpbiBldmVudHMgKSB7XG5cdFx0XHRcdGZvciAoIGkgPSAwLCBsID0gZXZlbnRzWyB0eXBlIF0ubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5hZGQoIGRlc3QsIHR5cGUsIGV2ZW50c1sgdHlwZSBdWyBpIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIDIuIENvcHkgdXNlciBkYXRhXG5cdGlmICggZGF0YVVzZXIuaGFzRGF0YSggc3JjICkgKSB7XG5cdFx0dWRhdGFPbGQgPSBkYXRhVXNlci5hY2Nlc3MoIHNyYyApO1xuXHRcdHVkYXRhQ3VyID0galF1ZXJ5LmV4dGVuZCgge30sIHVkYXRhT2xkICk7XG5cblx0XHRkYXRhVXNlci5zZXQoIGRlc3QsIHVkYXRhQ3VyICk7XG5cdH1cbn1cblxuLy8gRml4IElFIGJ1Z3MsIHNlZSBzdXBwb3J0IHRlc3RzXG5mdW5jdGlvbiBmaXhJbnB1dCggc3JjLCBkZXN0ICkge1xuXHR2YXIgbm9kZU5hbWUgPSBkZXN0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cblx0Ly8gRmFpbHMgdG8gcGVyc2lzdCB0aGUgY2hlY2tlZCBzdGF0ZSBvZiBhIGNsb25lZCBjaGVja2JveCBvciByYWRpbyBidXR0b24uXG5cdGlmICggbm9kZU5hbWUgPT09IFwiaW5wdXRcIiAmJiByY2hlY2thYmxlVHlwZS50ZXN0KCBzcmMudHlwZSApICkge1xuXHRcdGRlc3QuY2hlY2tlZCA9IHNyYy5jaGVja2VkO1xuXG5cdC8vIEZhaWxzIHRvIHJldHVybiB0aGUgc2VsZWN0ZWQgb3B0aW9uIHRvIHRoZSBkZWZhdWx0IHNlbGVjdGVkIHN0YXRlIHdoZW4gY2xvbmluZyBvcHRpb25zXG5cdH0gZWxzZSBpZiAoIG5vZGVOYW1lID09PSBcImlucHV0XCIgfHwgbm9kZU5hbWUgPT09IFwidGV4dGFyZWFcIiApIHtcblx0XHRkZXN0LmRlZmF1bHRWYWx1ZSA9IHNyYy5kZWZhdWx0VmFsdWU7XG5cdH1cbn1cblxuZnVuY3Rpb24gZG9tTWFuaXAoIGNvbGxlY3Rpb24sIGFyZ3MsIGNhbGxiYWNrLCBpZ25vcmVkICkge1xuXG5cdC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcblx0YXJncyA9IGNvbmNhdC5hcHBseSggW10sIGFyZ3MgKTtcblxuXHR2YXIgZnJhZ21lbnQsIGZpcnN0LCBzY3JpcHRzLCBoYXNTY3JpcHRzLCBub2RlLCBkb2MsXG5cdFx0aSA9IDAsXG5cdFx0bCA9IGNvbGxlY3Rpb24ubGVuZ3RoLFxuXHRcdGlOb0Nsb25lID0gbCAtIDEsXG5cdFx0dmFsdWUgPSBhcmdzWyAwIF0sXG5cdFx0aXNGdW5jdGlvbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXG5cdC8vIFdlIGNhbid0IGNsb25lTm9kZSBmcmFnbWVudHMgdGhhdCBjb250YWluIGNoZWNrZWQsIGluIFdlYktpdFxuXHRpZiAoIGlzRnVuY3Rpb24gfHxcblx0XHRcdCggbCA+IDEgJiYgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmXG5cdFx0XHRcdCFzdXBwb3J0LmNoZWNrQ2xvbmUgJiYgcmNoZWNrZWQudGVzdCggdmFsdWUgKSApICkge1xuXHRcdHJldHVybiBjb2xsZWN0aW9uLmVhY2goIGZ1bmN0aW9uKCBpbmRleCApIHtcblx0XHRcdHZhciBzZWxmID0gY29sbGVjdGlvbi5lcSggaW5kZXggKTtcblx0XHRcdGlmICggaXNGdW5jdGlvbiApIHtcblx0XHRcdFx0YXJnc1sgMCBdID0gdmFsdWUuY2FsbCggdGhpcywgaW5kZXgsIHNlbGYuaHRtbCgpICk7XG5cdFx0XHR9XG5cdFx0XHRkb21NYW5pcCggc2VsZiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQgKTtcblx0XHR9ICk7XG5cdH1cblxuXHRpZiAoIGwgKSB7XG5cdFx0ZnJhZ21lbnQgPSBidWlsZEZyYWdtZW50KCBhcmdzLCBjb2xsZWN0aW9uWyAwIF0ub3duZXJEb2N1bWVudCwgZmFsc2UsIGNvbGxlY3Rpb24sIGlnbm9yZWQgKTtcblx0XHRmaXJzdCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cblx0XHRpZiAoIGZyYWdtZW50LmNoaWxkTm9kZXMubGVuZ3RoID09PSAxICkge1xuXHRcdFx0ZnJhZ21lbnQgPSBmaXJzdDtcblx0XHR9XG5cblx0XHQvLyBSZXF1aXJlIGVpdGhlciBuZXcgY29udGVudCBvciBhbiBpbnRlcmVzdCBpbiBpZ25vcmVkIGVsZW1lbnRzIHRvIGludm9rZSB0aGUgY2FsbGJhY2tcblx0XHRpZiAoIGZpcnN0IHx8IGlnbm9yZWQgKSB7XG5cdFx0XHRzY3JpcHRzID0galF1ZXJ5Lm1hcCggZ2V0QWxsKCBmcmFnbWVudCwgXCJzY3JpcHRcIiApLCBkaXNhYmxlU2NyaXB0ICk7XG5cdFx0XHRoYXNTY3JpcHRzID0gc2NyaXB0cy5sZW5ndGg7XG5cblx0XHRcdC8vIFVzZSB0aGUgb3JpZ2luYWwgZnJhZ21lbnQgZm9yIHRoZSBsYXN0IGl0ZW1cblx0XHRcdC8vIGluc3RlYWQgb2YgdGhlIGZpcnN0IGJlY2F1c2UgaXQgY2FuIGVuZCB1cFxuXHRcdFx0Ly8gYmVpbmcgZW1wdGllZCBpbmNvcnJlY3RseSBpbiBjZXJ0YWluIHNpdHVhdGlvbnMgKCM4MDcwKS5cblx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0bm9kZSA9IGZyYWdtZW50O1xuXG5cdFx0XHRcdGlmICggaSAhPT0gaU5vQ2xvbmUgKSB7XG5cdFx0XHRcdFx0bm9kZSA9IGpRdWVyeS5jbG9uZSggbm9kZSwgdHJ1ZSwgdHJ1ZSApO1xuXG5cdFx0XHRcdFx0Ly8gS2VlcCByZWZlcmVuY2VzIHRvIGNsb25lZCBzY3JpcHRzIGZvciBsYXRlciByZXN0b3JhdGlvblxuXHRcdFx0XHRcdGlmICggaGFzU2NyaXB0cyApIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdFx0XHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIHNjcmlwdHMsIGdldEFsbCggbm9kZSwgXCJzY3JpcHRcIiApICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FsbGJhY2suY2FsbCggY29sbGVjdGlvblsgaSBdLCBub2RlLCBpICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaGFzU2NyaXB0cyApIHtcblx0XHRcdFx0ZG9jID0gc2NyaXB0c1sgc2NyaXB0cy5sZW5ndGggLSAxIF0ub3duZXJEb2N1bWVudDtcblxuXHRcdFx0XHQvLyBSZWVuYWJsZSBzY3JpcHRzXG5cdFx0XHRcdGpRdWVyeS5tYXAoIHNjcmlwdHMsIHJlc3RvcmVTY3JpcHQgKTtcblxuXHRcdFx0XHQvLyBFdmFsdWF0ZSBleGVjdXRhYmxlIHNjcmlwdHMgb24gZmlyc3QgZG9jdW1lbnQgaW5zZXJ0aW9uXG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgaGFzU2NyaXB0czsgaSsrICkge1xuXHRcdFx0XHRcdG5vZGUgPSBzY3JpcHRzWyBpIF07XG5cdFx0XHRcdFx0aWYgKCByc2NyaXB0VHlwZS50ZXN0KCBub2RlLnR5cGUgfHwgXCJcIiApICYmXG5cdFx0XHRcdFx0XHQhZGF0YVByaXYuYWNjZXNzKCBub2RlLCBcImdsb2JhbEV2YWxcIiApICYmXG5cdFx0XHRcdFx0XHRqUXVlcnkuY29udGFpbnMoIGRvYywgbm9kZSApICkge1xuXG5cdFx0XHRcdFx0XHRpZiAoIG5vZGUuc3JjICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIE9wdGlvbmFsIEFKQVggZGVwZW5kZW5jeSwgYnV0IHdvbid0IHJ1biBzY3JpcHRzIGlmIG5vdCBwcmVzZW50XG5cdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5Ll9ldmFsVXJsICkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5fZXZhbFVybCggbm9kZS5zcmMgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0RE9NRXZhbCggbm9kZS50ZXh0Q29udGVudC5yZXBsYWNlKCByY2xlYW5TY3JpcHQsIFwiXCIgKSwgZG9jICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGNvbGxlY3Rpb247XG59XG5cbmZ1bmN0aW9uIHJlbW92ZSggZWxlbSwgc2VsZWN0b3IsIGtlZXBEYXRhICkge1xuXHR2YXIgbm9kZSxcblx0XHRub2RlcyA9IHNlbGVjdG9yID8galF1ZXJ5LmZpbHRlciggc2VsZWN0b3IsIGVsZW0gKSA6IGVsZW0sXG5cdFx0aSA9IDA7XG5cblx0Zm9yICggOyAoIG5vZGUgPSBub2Rlc1sgaSBdICkgIT0gbnVsbDsgaSsrICkge1xuXHRcdGlmICggIWtlZXBEYXRhICYmIG5vZGUubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIG5vZGUgKSApO1xuXHRcdH1cblxuXHRcdGlmICggbm9kZS5wYXJlbnROb2RlICkge1xuXHRcdFx0aWYgKCBrZWVwRGF0YSAmJiBqUXVlcnkuY29udGFpbnMoIG5vZGUub3duZXJEb2N1bWVudCwgbm9kZSApICkge1xuXHRcdFx0XHRzZXRHbG9iYWxFdmFsKCBnZXRBbGwoIG5vZGUsIFwic2NyaXB0XCIgKSApO1xuXHRcdFx0fVxuXHRcdFx0bm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBub2RlICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGVsZW07XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0aHRtbFByZWZpbHRlcjogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0cmV0dXJuIGh0bWwucmVwbGFjZSggcnhodG1sVGFnLCBcIjwkMT48LyQyPlwiICk7XG5cdH0sXG5cblx0Y2xvbmU6IGZ1bmN0aW9uKCBlbGVtLCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHR2YXIgaSwgbCwgc3JjRWxlbWVudHMsIGRlc3RFbGVtZW50cyxcblx0XHRcdGNsb25lID0gZWxlbS5jbG9uZU5vZGUoIHRydWUgKSxcblx0XHRcdGluUGFnZSA9IGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICk7XG5cblx0XHQvLyBGaXggSUUgY2xvbmluZyBpc3N1ZXNcblx0XHRpZiAoICFzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkICYmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBlbGVtLm5vZGVUeXBlID09PSAxMSApICYmXG5cdFx0XHRcdCFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcblxuXHRcdFx0Ly8gV2UgZXNjaGV3IFNpenpsZSBoZXJlIGZvciBwZXJmb3JtYW5jZSByZWFzb25zOiBodHRwczovL2pzcGVyZi5jb20vZ2V0YWxsLXZzLXNpenpsZS8yXG5cdFx0XHRkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lICk7XG5cdFx0XHRzcmNFbGVtZW50cyA9IGdldEFsbCggZWxlbSApO1xuXG5cdFx0XHRmb3IgKCBpID0gMCwgbCA9IHNyY0VsZW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0Zml4SW5wdXQoIHNyY0VsZW1lbnRzWyBpIF0sIGRlc3RFbGVtZW50c1sgaSBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ29weSB0aGUgZXZlbnRzIGZyb20gdGhlIG9yaWdpbmFsIHRvIHRoZSBjbG9uZVxuXHRcdGlmICggZGF0YUFuZEV2ZW50cyApIHtcblx0XHRcdGlmICggZGVlcERhdGFBbmRFdmVudHMgKSB7XG5cdFx0XHRcdHNyY0VsZW1lbnRzID0gc3JjRWxlbWVudHMgfHwgZ2V0QWxsKCBlbGVtICk7XG5cdFx0XHRcdGRlc3RFbGVtZW50cyA9IGRlc3RFbGVtZW50cyB8fCBnZXRBbGwoIGNsb25lICk7XG5cblx0XHRcdFx0Zm9yICggaSA9IDAsIGwgPSBzcmNFbGVtZW50cy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0Y2xvbmVDb3B5RXZlbnQoIHNyY0VsZW1lbnRzWyBpIF0sIGRlc3RFbGVtZW50c1sgaSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNsb25lQ29weUV2ZW50KCBlbGVtLCBjbG9uZSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFByZXNlcnZlIHNjcmlwdCBldmFsdWF0aW9uIGhpc3Rvcnlcblx0XHRkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lLCBcInNjcmlwdFwiICk7XG5cdFx0aWYgKCBkZXN0RWxlbWVudHMubGVuZ3RoID4gMCApIHtcblx0XHRcdHNldEdsb2JhbEV2YWwoIGRlc3RFbGVtZW50cywgIWluUGFnZSAmJiBnZXRBbGwoIGVsZW0sIFwic2NyaXB0XCIgKSApO1xuXHRcdH1cblxuXHRcdC8vIFJldHVybiB0aGUgY2xvbmVkIHNldFxuXHRcdHJldHVybiBjbG9uZTtcblx0fSxcblxuXHRjbGVhbkRhdGE6IGZ1bmN0aW9uKCBlbGVtcyApIHtcblx0XHR2YXIgZGF0YSwgZWxlbSwgdHlwZSxcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbCxcblx0XHRcdGkgPSAwO1xuXG5cdFx0Zm9yICggOyAoIGVsZW0gPSBlbGVtc1sgaSBdICkgIT09IHVuZGVmaW5lZDsgaSsrICkge1xuXHRcdFx0aWYgKCBhY2NlcHREYXRhKCBlbGVtICkgKSB7XG5cdFx0XHRcdGlmICggKCBkYXRhID0gZWxlbVsgZGF0YVByaXYuZXhwYW5kbyBdICkgKSB7XG5cdFx0XHRcdFx0aWYgKCBkYXRhLmV2ZW50cyApIHtcblx0XHRcdFx0XHRcdGZvciAoIHR5cGUgaW4gZGF0YS5ldmVudHMgKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggc3BlY2lhbFsgdHlwZSBdICkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIGVsZW0sIHR5cGUgKTtcblxuXHRcdFx0XHRcdFx0XHQvLyBUaGlzIGlzIGEgc2hvcnRjdXQgdG8gYXZvaWQgalF1ZXJ5LmV2ZW50LnJlbW92ZSdzIG92ZXJoZWFkXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBkYXRhLmhhbmRsZSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NStcblx0XHRcdFx0XHQvLyBBc3NpZ24gdW5kZWZpbmVkIGluc3RlYWQgb2YgdXNpbmcgZGVsZXRlLCBzZWUgRGF0YSNyZW1vdmVcblx0XHRcdFx0XHRlbGVtWyBkYXRhUHJpdi5leHBhbmRvIF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBlbGVtWyBkYXRhVXNlci5leHBhbmRvIF0gKSB7XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1K1xuXHRcdFx0XHRcdC8vIEFzc2lnbiB1bmRlZmluZWQgaW5zdGVhZCBvZiB1c2luZyBkZWxldGUsIHNlZSBEYXRhI3JlbW92ZVxuXHRcdFx0XHRcdGVsZW1bIGRhdGFVc2VyLmV4cGFuZG8gXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGRldGFjaDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiByZW1vdmUoIHRoaXMsIHNlbGVjdG9yLCB0cnVlICk7XG5cdH0sXG5cblx0cmVtb3ZlOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHJlbW92ZSggdGhpcywgc2VsZWN0b3IgKTtcblx0fSxcblxuXHR0ZXh0OiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0cmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRqUXVlcnkudGV4dCggdGhpcyApIDpcblx0XHRcdFx0dGhpcy5lbXB0eSgpLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHRcdFx0dGhpcy50ZXh0Q29udGVudCA9IHZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoICk7XG5cdH0sXG5cblx0YXBwZW5kOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0dmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCggdGhpcywgZWxlbSApO1xuXHRcdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0cHJlcGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdHZhciB0YXJnZXQgPSBtYW5pcHVsYXRpb25UYXJnZXQoIHRoaXMsIGVsZW0gKTtcblx0XHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZSggZWxlbSwgdGFyZ2V0LmZpcnN0Q2hpbGQgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0YmVmb3JlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZWxlbSwgdGhpcyApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRhZnRlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIGVsZW0sIHRoaXMubmV4dFNpYmxpbmcgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0ZW1wdHk6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlbGVtLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRmb3IgKCA7ICggZWxlbSA9IHRoaXNbIGkgXSApICE9IG51bGw7IGkrKyApIHtcblx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblxuXHRcdFx0XHQvLyBQcmV2ZW50IG1lbW9yeSBsZWFrc1xuXHRcdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIGVsZW0sIGZhbHNlICkgKTtcblxuXHRcdFx0XHQvLyBSZW1vdmUgYW55IHJlbWFpbmluZyBub2Rlc1xuXHRcdFx0XHRlbGVtLnRleHRDb250ZW50ID0gXCJcIjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRjbG9uZTogZnVuY3Rpb24oIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICkge1xuXHRcdGRhdGFBbmRFdmVudHMgPSBkYXRhQW5kRXZlbnRzID09IG51bGwgPyBmYWxzZSA6IGRhdGFBbmRFdmVudHM7XG5cdFx0ZGVlcERhdGFBbmRFdmVudHMgPSBkZWVwRGF0YUFuZEV2ZW50cyA9PSBudWxsID8gZGF0YUFuZEV2ZW50cyA6IGRlZXBEYXRhQW5kRXZlbnRzO1xuXG5cdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBqUXVlcnkuY2xvbmUoIHRoaXMsIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICk7XG5cdFx0fSApO1xuXHR9LFxuXG5cdGh0bWw6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgZWxlbSA9IHRoaXNbIDAgXSB8fCB7fSxcblx0XHRcdFx0aSA9IDAsXG5cdFx0XHRcdGwgPSB0aGlzLmxlbmd0aDtcblxuXHRcdFx0aWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtLmlubmVySFRNTDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2VlIGlmIHdlIGNhbiB0YWtlIGEgc2hvcnRjdXQgYW5kIGp1c3QgdXNlIGlubmVySFRNTFxuXHRcdFx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgIXJub0lubmVyaHRtbC50ZXN0KCB2YWx1ZSApICYmXG5cdFx0XHRcdCF3cmFwTWFwWyAoIHJ0YWdOYW1lLmV4ZWMoIHZhbHVlICkgfHwgWyBcIlwiLCBcIlwiIF0gKVsgMSBdLnRvTG93ZXJDYXNlKCkgXSApIHtcblxuXHRcdFx0XHR2YWx1ZSA9IGpRdWVyeS5odG1sUHJlZmlsdGVyKCB2YWx1ZSApO1xuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdFx0ZWxlbSA9IHRoaXNbIGkgXSB8fCB7fTtcblxuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlIGVsZW1lbnQgbm9kZXMgYW5kIHByZXZlbnQgbWVtb3J5IGxlYWtzXG5cdFx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggZWxlbSwgZmFsc2UgKSApO1xuXHRcdFx0XHRcdFx0XHRlbGVtLmlubmVySFRNTCA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVsZW0gPSAwO1xuXG5cdFx0XHRcdC8vIElmIHVzaW5nIGlubmVySFRNTCB0aHJvd3MgYW4gZXhjZXB0aW9uLCB1c2UgdGhlIGZhbGxiYWNrIG1ldGhvZFxuXHRcdFx0XHR9IGNhdGNoICggZSApIHt9XG5cdFx0XHR9XG5cblx0XHRcdGlmICggZWxlbSApIHtcblx0XHRcdFx0dGhpcy5lbXB0eSgpLmFwcGVuZCggdmFsdWUgKTtcblx0XHRcdH1cblx0XHR9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCApO1xuXHR9LFxuXG5cdHJlcGxhY2VXaXRoOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaWdub3JlZCA9IFtdO1xuXG5cdFx0Ly8gTWFrZSB0aGUgY2hhbmdlcywgcmVwbGFjaW5nIGVhY2ggbm9uLWlnbm9yZWQgY29udGV4dCBlbGVtZW50IHdpdGggdGhlIG5ldyBjb250ZW50XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTtcblxuXHRcdFx0aWYgKCBqUXVlcnkuaW5BcnJheSggdGhpcywgaWdub3JlZCApIDwgMCApIHtcblx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCB0aGlzICkgKTtcblx0XHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cdFx0XHRcdFx0cGFyZW50LnJlcGxhY2VDaGlsZCggZWxlbSwgdGhpcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBGb3JjZSBjYWxsYmFjayBpbnZvY2F0aW9uXG5cdFx0fSwgaWdub3JlZCApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5lYWNoKCB7XG5cdGFwcGVuZFRvOiBcImFwcGVuZFwiLFxuXHRwcmVwZW5kVG86IFwicHJlcGVuZFwiLFxuXHRpbnNlcnRCZWZvcmU6IFwiYmVmb3JlXCIsXG5cdGluc2VydEFmdGVyOiBcImFmdGVyXCIsXG5cdHJlcGxhY2VBbGw6IFwicmVwbGFjZVdpdGhcIlxufSwgZnVuY3Rpb24oIG5hbWUsIG9yaWdpbmFsICkge1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR2YXIgZWxlbXMsXG5cdFx0XHRyZXQgPSBbXSxcblx0XHRcdGluc2VydCA9IGpRdWVyeSggc2VsZWN0b3IgKSxcblx0XHRcdGxhc3QgPSBpbnNlcnQubGVuZ3RoIC0gMSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0Zm9yICggOyBpIDw9IGxhc3Q7IGkrKyApIHtcblx0XHRcdGVsZW1zID0gaSA9PT0gbGFzdCA/IHRoaXMgOiB0aGlzLmNsb25lKCB0cnVlICk7XG5cdFx0XHRqUXVlcnkoIGluc2VydFsgaSBdIClbIG9yaWdpbmFsIF0oIGVsZW1zICk7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdFx0Ly8gLmdldCgpIGJlY2F1c2UgcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0cHVzaC5hcHBseSggcmV0LCBlbGVtcy5nZXQoKSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggcmV0ICk7XG5cdH07XG59ICk7XG52YXIgcm1hcmdpbiA9ICggL15tYXJnaW4vICk7XG5cbnZhciBybnVtbm9ucHggPSBuZXcgUmVnRXhwKCBcIl4oXCIgKyBwbnVtICsgXCIpKD8hcHgpW2EteiVdKyRcIiwgXCJpXCIgKTtcblxudmFyIGdldFN0eWxlcyA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5LCBGaXJlZm94IDw9MzAgKCMxNTA5OCwgIzE0MTUwKVxuXHRcdC8vIElFIHRocm93cyBvbiBlbGVtZW50cyBjcmVhdGVkIGluIHBvcHVwc1xuXHRcdC8vIEZGIG1lYW53aGlsZSB0aHJvd3Mgb24gZnJhbWUgZWxlbWVudHMgdGhyb3VnaCBcImRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGVcIlxuXHRcdHZhciB2aWV3ID0gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xuXG5cdFx0aWYgKCAhdmlldyB8fCAhdmlldy5vcGVuZXIgKSB7XG5cdFx0XHR2aWV3ID0gd2luZG93O1xuXHRcdH1cblxuXHRcdHJldHVybiB2aWV3LmdldENvbXB1dGVkU3R5bGUoIGVsZW0gKTtcblx0fTtcblxuXG5cbiggZnVuY3Rpb24oKSB7XG5cblx0Ly8gRXhlY3V0aW5nIGJvdGggcGl4ZWxQb3NpdGlvbiAmIGJveFNpemluZ1JlbGlhYmxlIHRlc3RzIHJlcXVpcmUgb25seSBvbmUgbGF5b3V0XG5cdC8vIHNvIHRoZXkncmUgZXhlY3V0ZWQgYXQgdGhlIHNhbWUgdGltZSB0byBzYXZlIHRoZSBzZWNvbmQgY29tcHV0YXRpb24uXG5cdGZ1bmN0aW9uIGNvbXB1dGVTdHlsZVRlc3RzKCkge1xuXG5cdFx0Ly8gVGhpcyBpcyBhIHNpbmdsZXRvbiwgd2UgbmVlZCB0byBleGVjdXRlIGl0IG9ubHkgb25jZVxuXHRcdGlmICggIWRpdiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRkaXYuc3R5bGUuY3NzVGV4dCA9XG5cdFx0XHRcImJveC1zaXppbmc6Ym9yZGVyLWJveDtcIiArXG5cdFx0XHRcInBvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7XCIgK1xuXHRcdFx0XCJtYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4O1wiICtcblx0XHRcdFwidG9wOjElO3dpZHRoOjUwJVwiO1xuXHRcdGRpdi5pbm5lckhUTUwgPSBcIlwiO1xuXHRcdGRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZCggY29udGFpbmVyICk7XG5cblx0XHR2YXIgZGl2U3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggZGl2ICk7XG5cdFx0cGl4ZWxQb3NpdGlvblZhbCA9IGRpdlN0eWxlLnRvcCAhPT0gXCIxJVwiO1xuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seSwgRmlyZWZveCA8PTMgLSA0NFxuXHRcdHJlbGlhYmxlTWFyZ2luTGVmdFZhbCA9IGRpdlN0eWxlLm1hcmdpbkxlZnQgPT09IFwiMnB4XCI7XG5cdFx0Ym94U2l6aW5nUmVsaWFibGVWYWwgPSBkaXZTdHlsZS53aWR0aCA9PT0gXCI0cHhcIjtcblxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHlcblx0XHQvLyBTb21lIHN0eWxlcyBjb21lIGJhY2sgd2l0aCBwZXJjZW50YWdlIHZhbHVlcywgZXZlbiB0aG91Z2ggdGhleSBzaG91bGRuJ3Rcblx0XHRkaXYuc3R5bGUubWFyZ2luUmlnaHQgPSBcIjUwJVwiO1xuXHRcdHBpeGVsTWFyZ2luUmlnaHRWYWwgPSBkaXZTdHlsZS5tYXJnaW5SaWdodCA9PT0gXCI0cHhcIjtcblxuXHRcdGRvY3VtZW50RWxlbWVudC5yZW1vdmVDaGlsZCggY29udGFpbmVyICk7XG5cblx0XHQvLyBOdWxsaWZ5IHRoZSBkaXYgc28gaXQgd291bGRuJ3QgYmUgc3RvcmVkIGluIHRoZSBtZW1vcnkgYW5kXG5cdFx0Ly8gaXQgd2lsbCBhbHNvIGJlIGEgc2lnbiB0aGF0IGNoZWNrcyBhbHJlYWR5IHBlcmZvcm1lZFxuXHRcdGRpdiA9IG51bGw7XG5cdH1cblxuXHR2YXIgcGl4ZWxQb3NpdGlvblZhbCwgYm94U2l6aW5nUmVsaWFibGVWYWwsIHBpeGVsTWFyZ2luUmlnaHRWYWwsIHJlbGlhYmxlTWFyZ2luTGVmdFZhbCxcblx0XHRjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICksXG5cdFx0ZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xuXG5cdC8vIEZpbmlzaCBlYXJseSBpbiBsaW1pdGVkIChub24tYnJvd3NlcikgZW52aXJvbm1lbnRzXG5cdGlmICggIWRpdi5zdHlsZSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG5cdC8vIFN0eWxlIG9mIGNsb25lZCBlbGVtZW50IGFmZmVjdHMgc291cmNlIGVsZW1lbnQgY2xvbmVkICgjODkwOClcblx0ZGl2LnN0eWxlLmJhY2tncm91bmRDbGlwID0gXCJjb250ZW50LWJveFwiO1xuXHRkaXYuY2xvbmVOb2RlKCB0cnVlICkuc3R5bGUuYmFja2dyb3VuZENsaXAgPSBcIlwiO1xuXHRzdXBwb3J0LmNsZWFyQ2xvbmVTdHlsZSA9IGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9PT0gXCJjb250ZW50LWJveFwiO1xuXG5cdGNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gXCJib3JkZXI6MDt3aWR0aDo4cHg7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4O1wiICtcblx0XHRcInBhZGRpbmc6MDttYXJnaW4tdG9wOjFweDtwb3NpdGlvbjphYnNvbHV0ZVwiO1xuXHRjb250YWluZXIuYXBwZW5kQ2hpbGQoIGRpdiApO1xuXG5cdGpRdWVyeS5leHRlbmQoIHN1cHBvcnQsIHtcblx0XHRwaXhlbFBvc2l0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gcGl4ZWxQb3NpdGlvblZhbDtcblx0XHR9LFxuXHRcdGJveFNpemluZ1JlbGlhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gYm94U2l6aW5nUmVsaWFibGVWYWw7XG5cdFx0fSxcblx0XHRwaXhlbE1hcmdpblJpZ2h0OiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gcGl4ZWxNYXJnaW5SaWdodFZhbDtcblx0XHR9LFxuXHRcdHJlbGlhYmxlTWFyZ2luTGVmdDogZnVuY3Rpb24oKSB7XG5cdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0cmV0dXJuIHJlbGlhYmxlTWFyZ2luTGVmdFZhbDtcblx0XHR9XG5cdH0gKTtcbn0gKSgpO1xuXG5cbmZ1bmN0aW9uIGN1ckNTUyggZWxlbSwgbmFtZSwgY29tcHV0ZWQgKSB7XG5cdHZhciB3aWR0aCwgbWluV2lkdGgsIG1heFdpZHRoLCByZXQsXG5cdFx0c3R5bGUgPSBlbGVtLnN0eWxlO1xuXG5cdGNvbXB1dGVkID0gY29tcHV0ZWQgfHwgZ2V0U3R5bGVzKCBlbGVtICk7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0Ly8gZ2V0UHJvcGVydHlWYWx1ZSBpcyBvbmx5IG5lZWRlZCBmb3IgLmNzcygnZmlsdGVyJykgKCMxMjUzNylcblx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRyZXQgPSBjb21wdXRlZC5nZXRQcm9wZXJ0eVZhbHVlKCBuYW1lICkgfHwgY29tcHV0ZWRbIG5hbWUgXTtcblxuXHRcdGlmICggcmV0ID09PSBcIlwiICYmICFqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApICkge1xuXHRcdFx0cmV0ID0galF1ZXJ5LnN0eWxlKCBlbGVtLCBuYW1lICk7XG5cdFx0fVxuXG5cdFx0Ly8gQSB0cmlidXRlIHRvIHRoZSBcImF3ZXNvbWUgaGFjayBieSBEZWFuIEVkd2FyZHNcIlxuXHRcdC8vIEFuZHJvaWQgQnJvd3NlciByZXR1cm5zIHBlcmNlbnRhZ2UgZm9yIHNvbWUgdmFsdWVzLFxuXHRcdC8vIGJ1dCB3aWR0aCBzZWVtcyB0byBiZSByZWxpYWJseSBwaXhlbHMuXG5cdFx0Ly8gVGhpcyBpcyBhZ2FpbnN0IHRoZSBDU1NPTSBkcmFmdCBzcGVjOlxuXHRcdC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jcmVzb2x2ZWQtdmFsdWVzXG5cdFx0aWYgKCAhc3VwcG9ydC5waXhlbE1hcmdpblJpZ2h0KCkgJiYgcm51bW5vbnB4LnRlc3QoIHJldCApICYmIHJtYXJnaW4udGVzdCggbmFtZSApICkge1xuXG5cdFx0XHQvLyBSZW1lbWJlciB0aGUgb3JpZ2luYWwgdmFsdWVzXG5cdFx0XHR3aWR0aCA9IHN0eWxlLndpZHRoO1xuXHRcdFx0bWluV2lkdGggPSBzdHlsZS5taW5XaWR0aDtcblx0XHRcdG1heFdpZHRoID0gc3R5bGUubWF4V2lkdGg7XG5cblx0XHRcdC8vIFB1dCBpbiB0aGUgbmV3IHZhbHVlcyB0byBnZXQgYSBjb21wdXRlZCB2YWx1ZSBvdXRcblx0XHRcdHN0eWxlLm1pbldpZHRoID0gc3R5bGUubWF4V2lkdGggPSBzdHlsZS53aWR0aCA9IHJldDtcblx0XHRcdHJldCA9IGNvbXB1dGVkLndpZHRoO1xuXG5cdFx0XHQvLyBSZXZlcnQgdGhlIGNoYW5nZWQgdmFsdWVzXG5cdFx0XHRzdHlsZS53aWR0aCA9IHdpZHRoO1xuXHRcdFx0c3R5bGUubWluV2lkdGggPSBtaW5XaWR0aDtcblx0XHRcdHN0eWxlLm1heFdpZHRoID0gbWF4V2lkdGg7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJldCAhPT0gdW5kZWZpbmVkID9cblxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0XHQvLyBJRSByZXR1cm5zIHpJbmRleCB2YWx1ZSBhcyBhbiBpbnRlZ2VyLlxuXHRcdHJldCArIFwiXCIgOlxuXHRcdHJldDtcbn1cblxuXG5mdW5jdGlvbiBhZGRHZXRIb29rSWYoIGNvbmRpdGlvbkZuLCBob29rRm4gKSB7XG5cblx0Ly8gRGVmaW5lIHRoZSBob29rLCB3ZSdsbCBjaGVjayBvbiB0aGUgZmlyc3QgcnVuIGlmIGl0J3MgcmVhbGx5IG5lZWRlZC5cblx0cmV0dXJuIHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBjb25kaXRpb25GbigpICkge1xuXG5cdFx0XHRcdC8vIEhvb2sgbm90IG5lZWRlZCAob3IgaXQncyBub3QgcG9zc2libGUgdG8gdXNlIGl0IGR1ZVxuXHRcdFx0XHQvLyB0byBtaXNzaW5nIGRlcGVuZGVuY3kpLCByZW1vdmUgaXQuXG5cdFx0XHRcdGRlbGV0ZSB0aGlzLmdldDtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBIb29rIG5lZWRlZDsgcmVkZWZpbmUgaXQgc28gdGhhdCB0aGUgc3VwcG9ydCB0ZXN0IGlzIG5vdCBleGVjdXRlZCBhZ2Fpbi5cblx0XHRcdHJldHVybiAoIHRoaXMuZ2V0ID0gaG9va0ZuICkuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0fTtcbn1cblxuXG52YXJcblxuXHQvLyBTd2FwcGFibGUgaWYgZGlzcGxheSBpcyBub25lIG9yIHN0YXJ0cyB3aXRoIHRhYmxlXG5cdC8vIGV4Y2VwdCBcInRhYmxlXCIsIFwidGFibGUtY2VsbFwiLCBvciBcInRhYmxlLWNhcHRpb25cIlxuXHQvLyBTZWUgaGVyZSBmb3IgZGlzcGxheSB2YWx1ZXM6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvQ1NTL2Rpc3BsYXlcblx0cmRpc3BsYXlzd2FwID0gL14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFxuXHRjc3NTaG93ID0geyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCB2aXNpYmlsaXR5OiBcImhpZGRlblwiLCBkaXNwbGF5OiBcImJsb2NrXCIgfSxcblx0Y3NzTm9ybWFsVHJhbnNmb3JtID0ge1xuXHRcdGxldHRlclNwYWNpbmc6IFwiMFwiLFxuXHRcdGZvbnRXZWlnaHQ6IFwiNDAwXCJcblx0fSxcblxuXHRjc3NQcmVmaXhlcyA9IFsgXCJXZWJraXRcIiwgXCJNb3pcIiwgXCJtc1wiIF0sXG5cdGVtcHR5U3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkuc3R5bGU7XG5cbi8vIFJldHVybiBhIGNzcyBwcm9wZXJ0eSBtYXBwZWQgdG8gYSBwb3RlbnRpYWxseSB2ZW5kb3IgcHJlZml4ZWQgcHJvcGVydHlcbmZ1bmN0aW9uIHZlbmRvclByb3BOYW1lKCBuYW1lICkge1xuXG5cdC8vIFNob3J0Y3V0IGZvciBuYW1lcyB0aGF0IGFyZSBub3QgdmVuZG9yIHByZWZpeGVkXG5cdGlmICggbmFtZSBpbiBlbXB0eVN0eWxlICkge1xuXHRcdHJldHVybiBuYW1lO1xuXHR9XG5cblx0Ly8gQ2hlY2sgZm9yIHZlbmRvciBwcmVmaXhlZCBuYW1lc1xuXHR2YXIgY2FwTmFtZSA9IG5hbWVbIDAgXS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSggMSApLFxuXHRcdGkgPSBjc3NQcmVmaXhlcy5sZW5ndGg7XG5cblx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0bmFtZSA9IGNzc1ByZWZpeGVzWyBpIF0gKyBjYXBOYW1lO1xuXHRcdGlmICggbmFtZSBpbiBlbXB0eVN0eWxlICkge1xuXHRcdFx0cmV0dXJuIG5hbWU7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIHNldFBvc2l0aXZlTnVtYmVyKCBlbGVtLCB2YWx1ZSwgc3VidHJhY3QgKSB7XG5cblx0Ly8gQW55IHJlbGF0aXZlICgrLy0pIHZhbHVlcyBoYXZlIGFscmVhZHkgYmVlblxuXHQvLyBub3JtYWxpemVkIGF0IHRoaXMgcG9pbnRcblx0dmFyIG1hdGNoZXMgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICk7XG5cdHJldHVybiBtYXRjaGVzID9cblxuXHRcdC8vIEd1YXJkIGFnYWluc3QgdW5kZWZpbmVkIFwic3VidHJhY3RcIiwgZS5nLiwgd2hlbiB1c2VkIGFzIGluIGNzc0hvb2tzXG5cdFx0TWF0aC5tYXgoIDAsIG1hdGNoZXNbIDIgXSAtICggc3VidHJhY3QgfHwgMCApICkgKyAoIG1hdGNoZXNbIDMgXSB8fCBcInB4XCIgKSA6XG5cdFx0dmFsdWU7XG59XG5cbmZ1bmN0aW9uIGF1Z21lbnRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSwgaXNCb3JkZXJCb3gsIHN0eWxlcyApIHtcblx0dmFyIGkgPSBleHRyYSA9PT0gKCBpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIiApID9cblxuXHRcdC8vIElmIHdlIGFscmVhZHkgaGF2ZSB0aGUgcmlnaHQgbWVhc3VyZW1lbnQsIGF2b2lkIGF1Z21lbnRhdGlvblxuXHRcdDQgOlxuXG5cdFx0Ly8gT3RoZXJ3aXNlIGluaXRpYWxpemUgZm9yIGhvcml6b250YWwgb3IgdmVydGljYWwgcHJvcGVydGllc1xuXHRcdG5hbWUgPT09IFwid2lkdGhcIiA/IDEgOiAwLFxuXG5cdFx0dmFsID0gMDtcblxuXHRmb3IgKCA7IGkgPCA0OyBpICs9IDIgKSB7XG5cblx0XHQvLyBCb3RoIGJveCBtb2RlbHMgZXhjbHVkZSBtYXJnaW4sIHNvIGFkZCBpdCBpZiB3ZSB3YW50IGl0XG5cdFx0aWYgKCBleHRyYSA9PT0gXCJtYXJnaW5cIiApIHtcblx0XHRcdHZhbCArPSBqUXVlcnkuY3NzKCBlbGVtLCBleHRyYSArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcblx0XHR9XG5cblx0XHRpZiAoIGlzQm9yZGVyQm94ICkge1xuXG5cdFx0XHQvLyBib3JkZXItYm94IGluY2x1ZGVzIHBhZGRpbmcsIHNvIHJlbW92ZSBpdCBpZiB3ZSB3YW50IGNvbnRlbnRcblx0XHRcdGlmICggZXh0cmEgPT09IFwiY29udGVudFwiICkge1xuXHRcdFx0XHR2YWwgLT0galF1ZXJ5LmNzcyggZWxlbSwgXCJwYWRkaW5nXCIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEF0IHRoaXMgcG9pbnQsIGV4dHJhIGlzbid0IGJvcmRlciBub3IgbWFyZ2luLCBzbyByZW1vdmUgYm9yZGVyXG5cdFx0XHRpZiAoIGV4dHJhICE9PSBcIm1hcmdpblwiICkge1xuXHRcdFx0XHR2YWwgLT0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3JkZXJcIiArIGNzc0V4cGFuZFsgaSBdICsgXCJXaWR0aFwiLCB0cnVlLCBzdHlsZXMgKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBBdCB0aGlzIHBvaW50LCBleHRyYSBpc24ndCBjb250ZW50LCBzbyBhZGQgcGFkZGluZ1xuXHRcdFx0dmFsICs9IGpRdWVyeS5jc3MoIGVsZW0sIFwicGFkZGluZ1wiICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApO1xuXG5cdFx0XHQvLyBBdCB0aGlzIHBvaW50LCBleHRyYSBpc24ndCBjb250ZW50IG5vciBwYWRkaW5nLCBzbyBhZGQgYm9yZGVyXG5cdFx0XHRpZiAoIGV4dHJhICE9PSBcInBhZGRpbmdcIiApIHtcblx0XHRcdFx0dmFsICs9IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm9yZGVyXCIgKyBjc3NFeHBhbmRbIGkgXSArIFwiV2lkdGhcIiwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHZhbDtcbn1cblxuZnVuY3Rpb24gZ2V0V2lkdGhPckhlaWdodCggZWxlbSwgbmFtZSwgZXh0cmEgKSB7XG5cblx0Ly8gU3RhcnQgd2l0aCBvZmZzZXQgcHJvcGVydHksIHdoaWNoIGlzIGVxdWl2YWxlbnQgdG8gdGhlIGJvcmRlci1ib3ggdmFsdWVcblx0dmFyIHZhbCxcblx0XHR2YWx1ZUlzQm9yZGVyQm94ID0gdHJ1ZSxcblx0XHRzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKSxcblx0XHRpc0JvcmRlckJveCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm94U2l6aW5nXCIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gXCJib3JkZXItYm94XCI7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdC8vIFJ1bm5pbmcgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IG9uIGEgZGlzY29ubmVjdGVkIG5vZGVcblx0Ly8gaW4gSUUgdGhyb3dzIGFuIGVycm9yLlxuXHRpZiAoIGVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKSB7XG5cdFx0dmFsID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVsgbmFtZSBdO1xuXHR9XG5cblx0Ly8gU29tZSBub24taHRtbCBlbGVtZW50cyByZXR1cm4gdW5kZWZpbmVkIGZvciBvZmZzZXRXaWR0aCwgc28gY2hlY2sgZm9yIG51bGwvdW5kZWZpbmVkXG5cdC8vIHN2ZyAtIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY0OTI4NVxuXHQvLyBNYXRoTUwgLSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD00OTE2Njhcblx0aWYgKCB2YWwgPD0gMCB8fCB2YWwgPT0gbnVsbCApIHtcblxuXHRcdC8vIEZhbGwgYmFjayB0byBjb21wdXRlZCB0aGVuIHVuY29tcHV0ZWQgY3NzIGlmIG5lY2Vzc2FyeVxuXHRcdHZhbCA9IGN1ckNTUyggZWxlbSwgbmFtZSwgc3R5bGVzICk7XG5cdFx0aWYgKCB2YWwgPCAwIHx8IHZhbCA9PSBudWxsICkge1xuXHRcdFx0dmFsID0gZWxlbS5zdHlsZVsgbmFtZSBdO1xuXHRcdH1cblxuXHRcdC8vIENvbXB1dGVkIHVuaXQgaXMgbm90IHBpeGVscy4gU3RvcCBoZXJlIGFuZCByZXR1cm4uXG5cdFx0aWYgKCBybnVtbm9ucHgudGVzdCggdmFsICkgKSB7XG5cdFx0XHRyZXR1cm4gdmFsO1xuXHRcdH1cblxuXHRcdC8vIENoZWNrIGZvciBzdHlsZSBpbiBjYXNlIGEgYnJvd3NlciB3aGljaCByZXR1cm5zIHVucmVsaWFibGUgdmFsdWVzXG5cdFx0Ly8gZm9yIGdldENvbXB1dGVkU3R5bGUgc2lsZW50bHkgZmFsbHMgYmFjayB0byB0aGUgcmVsaWFibGUgZWxlbS5zdHlsZVxuXHRcdHZhbHVlSXNCb3JkZXJCb3ggPSBpc0JvcmRlckJveCAmJlxuXHRcdFx0KCBzdXBwb3J0LmJveFNpemluZ1JlbGlhYmxlKCkgfHwgdmFsID09PSBlbGVtLnN0eWxlWyBuYW1lIF0gKTtcblxuXHRcdC8vIE5vcm1hbGl6ZSBcIlwiLCBhdXRvLCBhbmQgcHJlcGFyZSBmb3IgZXh0cmFcblx0XHR2YWwgPSBwYXJzZUZsb2F0KCB2YWwgKSB8fCAwO1xuXHR9XG5cblx0Ly8gVXNlIHRoZSBhY3RpdmUgYm94LXNpemluZyBtb2RlbCB0byBhZGQvc3VidHJhY3QgaXJyZWxldmFudCBzdHlsZXNcblx0cmV0dXJuICggdmFsICtcblx0XHRhdWdtZW50V2lkdGhPckhlaWdodChcblx0XHRcdGVsZW0sXG5cdFx0XHRuYW1lLFxuXHRcdFx0ZXh0cmEgfHwgKCBpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIiApLFxuXHRcdFx0dmFsdWVJc0JvcmRlckJveCxcblx0XHRcdHN0eWxlc1xuXHRcdClcblx0KSArIFwicHhcIjtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdC8vIEFkZCBpbiBzdHlsZSBwcm9wZXJ0eSBob29rcyBmb3Igb3ZlcnJpZGluZyB0aGUgZGVmYXVsdFxuXHQvLyBiZWhhdmlvciBvZiBnZXR0aW5nIGFuZCBzZXR0aW5nIGEgc3R5bGUgcHJvcGVydHlcblx0Y3NzSG9va3M6IHtcblx0XHRvcGFjaXR5OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblxuXHRcdFx0XHRcdC8vIFdlIHNob3VsZCBhbHdheXMgZ2V0IGEgbnVtYmVyIGJhY2sgZnJvbSBvcGFjaXR5XG5cdFx0XHRcdFx0dmFyIHJldCA9IGN1ckNTUyggZWxlbSwgXCJvcGFjaXR5XCIgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmV0ID09PSBcIlwiID8gXCIxXCIgOiByZXQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0Ly8gRG9uJ3QgYXV0b21hdGljYWxseSBhZGQgXCJweFwiIHRvIHRoZXNlIHBvc3NpYmx5LXVuaXRsZXNzIHByb3BlcnRpZXNcblx0Y3NzTnVtYmVyOiB7XG5cdFx0XCJhbmltYXRpb25JdGVyYXRpb25Db3VudFwiOiB0cnVlLFxuXHRcdFwiY29sdW1uQ291bnRcIjogdHJ1ZSxcblx0XHRcImZpbGxPcGFjaXR5XCI6IHRydWUsXG5cdFx0XCJmbGV4R3Jvd1wiOiB0cnVlLFxuXHRcdFwiZmxleFNocmlua1wiOiB0cnVlLFxuXHRcdFwiZm9udFdlaWdodFwiOiB0cnVlLFxuXHRcdFwibGluZUhlaWdodFwiOiB0cnVlLFxuXHRcdFwib3BhY2l0eVwiOiB0cnVlLFxuXHRcdFwib3JkZXJcIjogdHJ1ZSxcblx0XHRcIm9ycGhhbnNcIjogdHJ1ZSxcblx0XHRcIndpZG93c1wiOiB0cnVlLFxuXHRcdFwiekluZGV4XCI6IHRydWUsXG5cdFx0XCJ6b29tXCI6IHRydWVcblx0fSxcblxuXHQvLyBBZGQgaW4gcHJvcGVydGllcyB3aG9zZSBuYW1lcyB5b3Ugd2lzaCB0byBmaXggYmVmb3JlXG5cdC8vIHNldHRpbmcgb3IgZ2V0dGluZyB0aGUgdmFsdWVcblx0Y3NzUHJvcHM6IHtcblx0XHRcImZsb2F0XCI6IFwiY3NzRmxvYXRcIlxuXHR9LFxuXG5cdC8vIEdldCBhbmQgc2V0IHRoZSBzdHlsZSBwcm9wZXJ0eSBvbiBhIERPTSBOb2RlXG5cdHN0eWxlOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUsIGV4dHJhICkge1xuXG5cdFx0Ly8gRG9uJ3Qgc2V0IHN0eWxlcyBvbiB0ZXh0IGFuZCBjb21tZW50IG5vZGVzXG5cdFx0aWYgKCAhZWxlbSB8fCBlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggfHwgIWVsZW0uc3R5bGUgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lXG5cdFx0dmFyIHJldCwgdHlwZSwgaG9va3MsXG5cdFx0XHRvcmlnTmFtZSA9IGpRdWVyeS5jYW1lbENhc2UoIG5hbWUgKSxcblx0XHRcdHN0eWxlID0gZWxlbS5zdHlsZTtcblxuXHRcdG5hbWUgPSBqUXVlcnkuY3NzUHJvcHNbIG9yaWdOYW1lIF0gfHxcblx0XHRcdCggalF1ZXJ5LmNzc1Byb3BzWyBvcmlnTmFtZSBdID0gdmVuZG9yUHJvcE5hbWUoIG9yaWdOYW1lICkgfHwgb3JpZ05hbWUgKTtcblxuXHRcdC8vIEdldHMgaG9vayBmb3IgdGhlIHByZWZpeGVkIHZlcnNpb24sIHRoZW4gdW5wcmVmaXhlZCB2ZXJzaW9uXG5cdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXSB8fCBqUXVlcnkuY3NzSG9va3NbIG9yaWdOYW1lIF07XG5cblx0XHQvLyBDaGVjayBpZiB3ZSdyZSBzZXR0aW5nIGEgdmFsdWVcblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR0eXBlID0gdHlwZW9mIHZhbHVlO1xuXG5cdFx0XHQvLyBDb252ZXJ0IFwiKz1cIiBvciBcIi09XCIgdG8gcmVsYXRpdmUgbnVtYmVycyAoIzczNDUpXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwic3RyaW5nXCIgJiYgKCByZXQgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICkgKSAmJiByZXRbIDEgXSApIHtcblx0XHRcdFx0dmFsdWUgPSBhZGp1c3RDU1MoIGVsZW0sIG5hbWUsIHJldCApO1xuXG5cdFx0XHRcdC8vIEZpeGVzIGJ1ZyAjOTIzN1xuXHRcdFx0XHR0eXBlID0gXCJudW1iZXJcIjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTWFrZSBzdXJlIHRoYXQgbnVsbCBhbmQgTmFOIHZhbHVlcyBhcmVuJ3Qgc2V0ICgjNzExNilcblx0XHRcdGlmICggdmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSAhPT0gdmFsdWUgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgYSBudW1iZXIgd2FzIHBhc3NlZCBpbiwgYWRkIHRoZSB1bml0IChleGNlcHQgZm9yIGNlcnRhaW4gQ1NTIHByb3BlcnRpZXMpXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdHZhbHVlICs9IHJldCAmJiByZXRbIDMgXSB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIG9yaWdOYW1lIF0gPyBcIlwiIDogXCJweFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGJhY2tncm91bmQtKiBwcm9wcyBhZmZlY3Qgb3JpZ2luYWwgY2xvbmUncyB2YWx1ZXNcblx0XHRcdGlmICggIXN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlICYmIHZhbHVlID09PSBcIlwiICYmIG5hbWUuaW5kZXhPZiggXCJiYWNrZ3JvdW5kXCIgKSA9PT0gMCApIHtcblx0XHRcdFx0c3R5bGVbIG5hbWUgXSA9IFwiaW5oZXJpdFwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkLCB1c2UgdGhhdCB2YWx1ZSwgb3RoZXJ3aXNlIGp1c3Qgc2V0IHRoZSBzcGVjaWZpZWQgdmFsdWVcblx0XHRcdGlmICggIWhvb2tzIHx8ICEoIFwic2V0XCIgaW4gaG9va3MgKSB8fFxuXHRcdFx0XHQoIHZhbHVlID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgZXh0cmEgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0c3R5bGVbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIG5vbi1jb21wdXRlZCB2YWx1ZSBmcm9tIHRoZXJlXG5cdFx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0KCByZXQgPSBob29rcy5nZXQoIGVsZW0sIGZhbHNlLCBleHRyYSApICkgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBPdGhlcndpc2UganVzdCBnZXQgdGhlIHZhbHVlIGZyb20gdGhlIHN0eWxlIG9iamVjdFxuXHRcdFx0cmV0dXJuIHN0eWxlWyBuYW1lIF07XG5cdFx0fVxuXHR9LFxuXG5cdGNzczogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGV4dHJhLCBzdHlsZXMgKSB7XG5cdFx0dmFyIHZhbCwgbnVtLCBob29rcyxcblx0XHRcdG9yaWdOYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZSApO1xuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lXG5cdFx0bmFtZSA9IGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSB8fFxuXHRcdFx0KCBqUXVlcnkuY3NzUHJvcHNbIG9yaWdOYW1lIF0gPSB2ZW5kb3JQcm9wTmFtZSggb3JpZ05hbWUgKSB8fCBvcmlnTmFtZSApO1xuXG5cdFx0Ly8gVHJ5IHByZWZpeGVkIG5hbWUgZm9sbG93ZWQgYnkgdGhlIHVucHJlZml4ZWQgbmFtZVxuXHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gfHwgalF1ZXJ5LmNzc0hvb2tzWyBvcmlnTmFtZSBdO1xuXG5cdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIGNvbXB1dGVkIHZhbHVlIGZyb20gdGhlcmVcblx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgKSB7XG5cdFx0XHR2YWwgPSBob29rcy5nZXQoIGVsZW0sIHRydWUsIGV4dHJhICk7XG5cdFx0fVxuXG5cdFx0Ly8gT3RoZXJ3aXNlLCBpZiBhIHdheSB0byBnZXQgdGhlIGNvbXB1dGVkIHZhbHVlIGV4aXN0cywgdXNlIHRoYXRcblx0XHRpZiAoIHZhbCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0dmFsID0gY3VyQ1NTKCBlbGVtLCBuYW1lLCBzdHlsZXMgKTtcblx0XHR9XG5cblx0XHQvLyBDb252ZXJ0IFwibm9ybWFsXCIgdG8gY29tcHV0ZWQgdmFsdWVcblx0XHRpZiAoIHZhbCA9PT0gXCJub3JtYWxcIiAmJiBuYW1lIGluIGNzc05vcm1hbFRyYW5zZm9ybSApIHtcblx0XHRcdHZhbCA9IGNzc05vcm1hbFRyYW5zZm9ybVsgbmFtZSBdO1xuXHRcdH1cblxuXHRcdC8vIE1ha2UgbnVtZXJpYyBpZiBmb3JjZWQgb3IgYSBxdWFsaWZpZXIgd2FzIHByb3ZpZGVkIGFuZCB2YWwgbG9va3MgbnVtZXJpY1xuXHRcdGlmICggZXh0cmEgPT09IFwiXCIgfHwgZXh0cmEgKSB7XG5cdFx0XHRudW0gPSBwYXJzZUZsb2F0KCB2YWwgKTtcblx0XHRcdHJldHVybiBleHRyYSA9PT0gdHJ1ZSB8fCBpc0Zpbml0ZSggbnVtICkgPyBudW0gfHwgMCA6IHZhbDtcblx0XHR9XG5cdFx0cmV0dXJuIHZhbDtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCggWyBcImhlaWdodFwiLCBcIndpZHRoXCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdID0ge1xuXHRcdGdldDogZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkLCBleHRyYSApIHtcblx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cblx0XHRcdFx0Ly8gQ2VydGFpbiBlbGVtZW50cyBjYW4gaGF2ZSBkaW1lbnNpb24gaW5mbyBpZiB3ZSBpbnZpc2libHkgc2hvdyB0aGVtXG5cdFx0XHRcdC8vIGJ1dCBpdCBtdXN0IGhhdmUgYSBjdXJyZW50IGRpc3BsYXkgc3R5bGUgdGhhdCB3b3VsZCBiZW5lZml0XG5cdFx0XHRcdHJldHVybiByZGlzcGxheXN3YXAudGVzdCggalF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSApICYmXG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBTYWZhcmkgOCtcblx0XHRcdFx0XHQvLyBUYWJsZSBjb2x1bW5zIGluIFNhZmFyaSBoYXZlIG5vbi16ZXJvIG9mZnNldFdpZHRoICYgemVyb1xuXHRcdFx0XHRcdC8vIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIHVubGVzcyBkaXNwbGF5IGlzIGNoYW5nZWQuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdFx0XHRcdFx0Ly8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYSBkaXNjb25uZWN0ZWQgbm9kZVxuXHRcdFx0XHRcdC8vIGluIElFIHRocm93cyBhbiBlcnJvci5cblx0XHRcdFx0XHQoICFlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoIHx8ICFlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICkgP1xuXHRcdFx0XHRcdFx0c3dhcCggZWxlbSwgY3NzU2hvdywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSApO1xuXHRcdFx0XHRcdFx0fSApIDpcblx0XHRcdFx0XHRcdGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIG5hbWUsIGV4dHJhICk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBleHRyYSApIHtcblx0XHRcdHZhciBtYXRjaGVzLFxuXHRcdFx0XHRzdHlsZXMgPSBleHRyYSAmJiBnZXRTdHlsZXMoIGVsZW0gKSxcblx0XHRcdFx0c3VidHJhY3QgPSBleHRyYSAmJiBhdWdtZW50V2lkdGhPckhlaWdodChcblx0XHRcdFx0XHRlbGVtLFxuXHRcdFx0XHRcdG5hbWUsXG5cdFx0XHRcdFx0ZXh0cmEsXG5cdFx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIixcblx0XHRcdFx0XHRzdHlsZXNcblx0XHRcdFx0KTtcblxuXHRcdFx0Ly8gQ29udmVydCB0byBwaXhlbHMgaWYgdmFsdWUgYWRqdXN0bWVudCBpcyBuZWVkZWRcblx0XHRcdGlmICggc3VidHJhY3QgJiYgKCBtYXRjaGVzID0gcmNzc051bS5leGVjKCB2YWx1ZSApICkgJiZcblx0XHRcdFx0KCBtYXRjaGVzWyAzIF0gfHwgXCJweFwiICkgIT09IFwicHhcIiApIHtcblxuXHRcdFx0XHRlbGVtLnN0eWxlWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdFx0dmFsdWUgPSBqUXVlcnkuY3NzKCBlbGVtLCBuYW1lICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBzZXRQb3NpdGl2ZU51bWJlciggZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICk7XG5cdFx0fVxuXHR9O1xufSApO1xuXG5qUXVlcnkuY3NzSG9va3MubWFyZ2luTGVmdCA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5yZWxpYWJsZU1hcmdpbkxlZnQsXG5cdGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRpZiAoIGNvbXB1dGVkICkge1xuXHRcdFx0cmV0dXJuICggcGFyc2VGbG9hdCggY3VyQ1NTKCBlbGVtLCBcIm1hcmdpbkxlZnRcIiApICkgfHxcblx0XHRcdFx0ZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC1cblx0XHRcdFx0XHRzd2FwKCBlbGVtLCB7IG1hcmdpbkxlZnQ6IDAgfSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuXHRcdFx0XHRcdH0gKVxuXHRcdFx0XHQpICsgXCJweFwiO1xuXHRcdH1cblx0fVxuKTtcblxuLy8gVGhlc2UgaG9va3MgYXJlIHVzZWQgYnkgYW5pbWF0ZSB0byBleHBhbmQgcHJvcGVydGllc1xualF1ZXJ5LmVhY2goIHtcblx0bWFyZ2luOiBcIlwiLFxuXHRwYWRkaW5nOiBcIlwiLFxuXHRib3JkZXI6IFwiV2lkdGhcIlxufSwgZnVuY3Rpb24oIHByZWZpeCwgc3VmZml4ICkge1xuXHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdID0ge1xuXHRcdGV4cGFuZDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGkgPSAwLFxuXHRcdFx0XHRleHBhbmRlZCA9IHt9LFxuXG5cdFx0XHRcdC8vIEFzc3VtZXMgYSBzaW5nbGUgbnVtYmVyIGlmIG5vdCBhIHN0cmluZ1xuXHRcdFx0XHRwYXJ0cyA9IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlLnNwbGl0KCBcIiBcIiApIDogWyB2YWx1ZSBdO1xuXG5cdFx0XHRmb3IgKCA7IGkgPCA0OyBpKysgKSB7XG5cdFx0XHRcdGV4cGFuZGVkWyBwcmVmaXggKyBjc3NFeHBhbmRbIGkgXSArIHN1ZmZpeCBdID1cblx0XHRcdFx0XHRwYXJ0c1sgaSBdIHx8IHBhcnRzWyBpIC0gMiBdIHx8IHBhcnRzWyAwIF07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBleHBhbmRlZDtcblx0XHR9XG5cdH07XG5cblx0aWYgKCAhcm1hcmdpbi50ZXN0KCBwcmVmaXggKSApIHtcblx0XHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdLnNldCA9IHNldFBvc2l0aXZlTnVtYmVyO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0Y3NzOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdFx0dmFyIHN0eWxlcywgbGVuLFxuXHRcdFx0XHRtYXAgPSB7fSxcblx0XHRcdFx0aSA9IDA7XG5cblx0XHRcdGlmICggalF1ZXJ5LmlzQXJyYXkoIG5hbWUgKSApIHtcblx0XHRcdFx0c3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICk7XG5cdFx0XHRcdGxlbiA9IG5hbWUubGVuZ3RoO1xuXG5cdFx0XHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0XHRcdG1hcFsgbmFtZVsgaSBdIF0gPSBqUXVlcnkuY3NzKCBlbGVtLCBuYW1lWyBpIF0sIGZhbHNlLCBzdHlsZXMgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBtYXA7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkID9cblx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBuYW1lLCB2YWx1ZSApIDpcblx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgbmFtZSApO1xuXHRcdH0sIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuXHR9XG59ICk7XG5cblxuZnVuY3Rpb24gVHdlZW4oIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nICkge1xuXHRyZXR1cm4gbmV3IFR3ZWVuLnByb3RvdHlwZS5pbml0KCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZyApO1xufVxualF1ZXJ5LlR3ZWVuID0gVHdlZW47XG5cblR3ZWVuLnByb3RvdHlwZSA9IHtcblx0Y29uc3RydWN0b3I6IFR3ZWVuLFxuXHRpbml0OiBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcsIHVuaXQgKSB7XG5cdFx0dGhpcy5lbGVtID0gZWxlbTtcblx0XHR0aGlzLnByb3AgPSBwcm9wO1xuXHRcdHRoaXMuZWFzaW5nID0gZWFzaW5nIHx8IGpRdWVyeS5lYXNpbmcuX2RlZmF1bHQ7XG5cdFx0dGhpcy5vcHRpb25zID0gb3B0aW9ucztcblx0XHR0aGlzLnN0YXJ0ID0gdGhpcy5ub3cgPSB0aGlzLmN1cigpO1xuXHRcdHRoaXMuZW5kID0gZW5kO1xuXHRcdHRoaXMudW5pdCA9IHVuaXQgfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gPyBcIlwiIDogXCJweFwiICk7XG5cdH0sXG5cdGN1cjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGhvb2tzID0gVHdlZW4ucHJvcEhvb2tzWyB0aGlzLnByb3AgXTtcblxuXHRcdHJldHVybiBob29rcyAmJiBob29rcy5nZXQgP1xuXHRcdFx0aG9va3MuZ2V0KCB0aGlzICkgOlxuXHRcdFx0VHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LmdldCggdGhpcyApO1xuXHR9LFxuXHRydW46IGZ1bmN0aW9uKCBwZXJjZW50ICkge1xuXHRcdHZhciBlYXNlZCxcblx0XHRcdGhvb2tzID0gVHdlZW4ucHJvcEhvb2tzWyB0aGlzLnByb3AgXTtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLmR1cmF0aW9uICkge1xuXHRcdFx0dGhpcy5wb3MgPSBlYXNlZCA9IGpRdWVyeS5lYXNpbmdbIHRoaXMuZWFzaW5nIF0oXG5cdFx0XHRcdHBlcmNlbnQsIHRoaXMub3B0aW9ucy5kdXJhdGlvbiAqIHBlcmNlbnQsIDAsIDEsIHRoaXMub3B0aW9ucy5kdXJhdGlvblxuXHRcdFx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5wb3MgPSBlYXNlZCA9IHBlcmNlbnQ7XG5cdFx0fVxuXHRcdHRoaXMubm93ID0gKCB0aGlzLmVuZCAtIHRoaXMuc3RhcnQgKSAqIGVhc2VkICsgdGhpcy5zdGFydDtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLnN0ZXAgKSB7XG5cdFx0XHR0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKCB0aGlzLmVsZW0sIHRoaXMubm93LCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBob29rcyAmJiBob29rcy5zZXQgKSB7XG5cdFx0XHRob29rcy5zZXQoIHRoaXMgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0VHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LnNldCggdGhpcyApO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fVxufTtcblxuVHdlZW4ucHJvdG90eXBlLmluaXQucHJvdG90eXBlID0gVHdlZW4ucHJvdG90eXBlO1xuXG5Ud2Vlbi5wcm9wSG9va3MgPSB7XG5cdF9kZWZhdWx0OiB7XG5cdFx0Z2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cdFx0XHR2YXIgcmVzdWx0O1xuXG5cdFx0XHQvLyBVc2UgYSBwcm9wZXJ0eSBvbiB0aGUgZWxlbWVudCBkaXJlY3RseSB3aGVuIGl0IGlzIG5vdCBhIERPTSBlbGVtZW50LFxuXHRcdFx0Ly8gb3Igd2hlbiB0aGVyZSBpcyBubyBtYXRjaGluZyBzdHlsZSBwcm9wZXJ0eSB0aGF0IGV4aXN0cy5cblx0XHRcdGlmICggdHdlZW4uZWxlbS5ub2RlVHlwZSAhPT0gMSB8fFxuXHRcdFx0XHR0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gIT0gbnVsbCAmJiB0d2Vlbi5lbGVtLnN0eWxlWyB0d2Vlbi5wcm9wIF0gPT0gbnVsbCApIHtcblx0XHRcdFx0cmV0dXJuIHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUGFzc2luZyBhbiBlbXB0eSBzdHJpbmcgYXMgYSAzcmQgcGFyYW1ldGVyIHRvIC5jc3Mgd2lsbCBhdXRvbWF0aWNhbGx5XG5cdFx0XHQvLyBhdHRlbXB0IGEgcGFyc2VGbG9hdCBhbmQgZmFsbGJhY2sgdG8gYSBzdHJpbmcgaWYgdGhlIHBhcnNlIGZhaWxzLlxuXHRcdFx0Ly8gU2ltcGxlIHZhbHVlcyBzdWNoIGFzIFwiMTBweFwiIGFyZSBwYXJzZWQgdG8gRmxvYXQ7XG5cdFx0XHQvLyBjb21wbGV4IHZhbHVlcyBzdWNoIGFzIFwicm90YXRlKDFyYWQpXCIgYXJlIHJldHVybmVkIGFzLWlzLlxuXHRcdFx0cmVzdWx0ID0galF1ZXJ5LmNzcyggdHdlZW4uZWxlbSwgdHdlZW4ucHJvcCwgXCJcIiApO1xuXG5cdFx0XHQvLyBFbXB0eSBzdHJpbmdzLCBudWxsLCB1bmRlZmluZWQgYW5kIFwiYXV0b1wiIGFyZSBjb252ZXJ0ZWQgdG8gMC5cblx0XHRcdHJldHVybiAhcmVzdWx0IHx8IHJlc3VsdCA9PT0gXCJhdXRvXCIgPyAwIDogcmVzdWx0O1xuXHRcdH0sXG5cdFx0c2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cblx0XHRcdC8vIFVzZSBzdGVwIGhvb2sgZm9yIGJhY2sgY29tcGF0LlxuXHRcdFx0Ly8gVXNlIGNzc0hvb2sgaWYgaXRzIHRoZXJlLlxuXHRcdFx0Ly8gVXNlIC5zdHlsZSBpZiBhdmFpbGFibGUgYW5kIHVzZSBwbGFpbiBwcm9wZXJ0aWVzIHdoZXJlIGF2YWlsYWJsZS5cblx0XHRcdGlmICggalF1ZXJ5LmZ4LnN0ZXBbIHR3ZWVuLnByb3AgXSApIHtcblx0XHRcdFx0alF1ZXJ5LmZ4LnN0ZXBbIHR3ZWVuLnByb3AgXSggdHdlZW4gKTtcblx0XHRcdH0gZWxzZSBpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0KCB0d2Vlbi5lbGVtLnN0eWxlWyBqUXVlcnkuY3NzUHJvcHNbIHR3ZWVuLnByb3AgXSBdICE9IG51bGwgfHxcblx0XHRcdFx0XHRqUXVlcnkuY3NzSG9va3NbIHR3ZWVuLnByb3AgXSApICkge1xuXHRcdFx0XHRqUXVlcnkuc3R5bGUoIHR3ZWVuLmVsZW0sIHR3ZWVuLnByb3AsIHR3ZWVuLm5vdyArIHR3ZWVuLnVuaXQgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdztcblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG5cbi8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG4vLyBQYW5pYyBiYXNlZCBhcHByb2FjaCB0byBzZXR0aW5nIHRoaW5ncyBvbiBkaXNjb25uZWN0ZWQgbm9kZXNcblR3ZWVuLnByb3BIb29rcy5zY3JvbGxUb3AgPSBUd2Vlbi5wcm9wSG9va3Muc2Nyb2xsTGVmdCA9IHtcblx0c2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cdFx0aWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlICYmIHR3ZWVuLmVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdztcblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5lYXNpbmcgPSB7XG5cdGxpbmVhcjogZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIHA7XG5cdH0sXG5cdHN3aW5nOiBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gMC41IC0gTWF0aC5jb3MoIHAgKiBNYXRoLlBJICkgLyAyO1xuXHR9LFxuXHRfZGVmYXVsdDogXCJzd2luZ1wiXG59O1xuXG5qUXVlcnkuZnggPSBUd2Vlbi5wcm90b3R5cGUuaW5pdDtcblxuLy8gQmFjayBjb21wYXQgPDEuOCBleHRlbnNpb24gcG9pbnRcbmpRdWVyeS5meC5zdGVwID0ge307XG5cblxuXG5cbnZhclxuXHRmeE5vdywgdGltZXJJZCxcblx0cmZ4dHlwZXMgPSAvXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sXG5cdHJydW4gPSAvcXVldWVIb29rcyQvO1xuXG5mdW5jdGlvbiByYWYoKSB7XG5cdGlmICggdGltZXJJZCApIHtcblx0XHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCByYWYgKTtcblx0XHRqUXVlcnkuZngudGljaygpO1xuXHR9XG59XG5cbi8vIEFuaW1hdGlvbnMgY3JlYXRlZCBzeW5jaHJvbm91c2x5IHdpbGwgcnVuIHN5bmNocm9ub3VzbHlcbmZ1bmN0aW9uIGNyZWF0ZUZ4Tm93KCkge1xuXHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0ZnhOb3cgPSB1bmRlZmluZWQ7XG5cdH0gKTtcblx0cmV0dXJuICggZnhOb3cgPSBqUXVlcnkubm93KCkgKTtcbn1cblxuLy8gR2VuZXJhdGUgcGFyYW1ldGVycyB0byBjcmVhdGUgYSBzdGFuZGFyZCBhbmltYXRpb25cbmZ1bmN0aW9uIGdlbkZ4KCB0eXBlLCBpbmNsdWRlV2lkdGggKSB7XG5cdHZhciB3aGljaCxcblx0XHRpID0gMCxcblx0XHRhdHRycyA9IHsgaGVpZ2h0OiB0eXBlIH07XG5cblx0Ly8gSWYgd2UgaW5jbHVkZSB3aWR0aCwgc3RlcCB2YWx1ZSBpcyAxIHRvIGRvIGFsbCBjc3NFeHBhbmQgdmFsdWVzLFxuXHQvLyBvdGhlcndpc2Ugc3RlcCB2YWx1ZSBpcyAyIHRvIHNraXAgb3ZlciBMZWZ0IGFuZCBSaWdodFxuXHRpbmNsdWRlV2lkdGggPSBpbmNsdWRlV2lkdGggPyAxIDogMDtcblx0Zm9yICggOyBpIDwgNDsgaSArPSAyIC0gaW5jbHVkZVdpZHRoICkge1xuXHRcdHdoaWNoID0gY3NzRXhwYW5kWyBpIF07XG5cdFx0YXR0cnNbIFwibWFyZ2luXCIgKyB3aGljaCBdID0gYXR0cnNbIFwicGFkZGluZ1wiICsgd2hpY2ggXSA9IHR5cGU7XG5cdH1cblxuXHRpZiAoIGluY2x1ZGVXaWR0aCApIHtcblx0XHRhdHRycy5vcGFjaXR5ID0gYXR0cnMud2lkdGggPSB0eXBlO1xuXHR9XG5cblx0cmV0dXJuIGF0dHJzO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVUd2VlbiggdmFsdWUsIHByb3AsIGFuaW1hdGlvbiApIHtcblx0dmFyIHR3ZWVuLFxuXHRcdGNvbGxlY3Rpb24gPSAoIEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdIHx8IFtdICkuY29uY2F0KCBBbmltYXRpb24udHdlZW5lcnNbIFwiKlwiIF0gKSxcblx0XHRpbmRleCA9IDAsXG5cdFx0bGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGg7XG5cdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0aWYgKCAoIHR3ZWVuID0gY29sbGVjdGlvblsgaW5kZXggXS5jYWxsKCBhbmltYXRpb24sIHByb3AsIHZhbHVlICkgKSApIHtcblxuXHRcdFx0Ly8gV2UncmUgZG9uZSB3aXRoIHRoaXMgcHJvcGVydHlcblx0XHRcdHJldHVybiB0d2Vlbjtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gZGVmYXVsdFByZWZpbHRlciggZWxlbSwgcHJvcHMsIG9wdHMgKSB7XG5cdHZhciBwcm9wLCB2YWx1ZSwgdG9nZ2xlLCBob29rcywgb2xkZmlyZSwgcHJvcFR3ZWVuLCByZXN0b3JlRGlzcGxheSwgZGlzcGxheSxcblx0XHRpc0JveCA9IFwid2lkdGhcIiBpbiBwcm9wcyB8fCBcImhlaWdodFwiIGluIHByb3BzLFxuXHRcdGFuaW0gPSB0aGlzLFxuXHRcdG9yaWcgPSB7fSxcblx0XHRzdHlsZSA9IGVsZW0uc3R5bGUsXG5cdFx0aGlkZGVuID0gZWxlbS5ub2RlVHlwZSAmJiBpc0hpZGRlbldpdGhpblRyZWUoIGVsZW0gKSxcblx0XHRkYXRhU2hvdyA9IGRhdGFQcml2LmdldCggZWxlbSwgXCJmeHNob3dcIiApO1xuXG5cdC8vIFF1ZXVlLXNraXBwaW5nIGFuaW1hdGlvbnMgaGlqYWNrIHRoZSBmeCBob29rc1xuXHRpZiAoICFvcHRzLnF1ZXVlICkge1xuXHRcdGhvb2tzID0galF1ZXJ5Ll9xdWV1ZUhvb2tzKCBlbGVtLCBcImZ4XCIgKTtcblx0XHRpZiAoIGhvb2tzLnVucXVldWVkID09IG51bGwgKSB7XG5cdFx0XHRob29rcy51bnF1ZXVlZCA9IDA7XG5cdFx0XHRvbGRmaXJlID0gaG9va3MuZW1wdHkuZmlyZTtcblx0XHRcdGhvb2tzLmVtcHR5LmZpcmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCAhaG9va3MudW5xdWV1ZWQgKSB7XG5cdFx0XHRcdFx0b2xkZmlyZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH1cblx0XHRob29rcy51bnF1ZXVlZCsrO1xuXG5cdFx0YW5pbS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBFbnN1cmUgdGhlIGNvbXBsZXRlIGhhbmRsZXIgaXMgY2FsbGVkIGJlZm9yZSB0aGlzIGNvbXBsZXRlc1xuXHRcdFx0YW5pbS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRob29rcy51bnF1ZXVlZC0tO1xuXHRcdFx0XHRpZiAoICFqUXVlcnkucXVldWUoIGVsZW0sIFwiZnhcIiApLmxlbmd0aCApIHtcblx0XHRcdFx0XHRob29rcy5lbXB0eS5maXJlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBEZXRlY3Qgc2hvdy9oaWRlIGFuaW1hdGlvbnNcblx0Zm9yICggcHJvcCBpbiBwcm9wcyApIHtcblx0XHR2YWx1ZSA9IHByb3BzWyBwcm9wIF07XG5cdFx0aWYgKCByZnh0eXBlcy50ZXN0KCB2YWx1ZSApICkge1xuXHRcdFx0ZGVsZXRlIHByb3BzWyBwcm9wIF07XG5cdFx0XHR0b2dnbGUgPSB0b2dnbGUgfHwgdmFsdWUgPT09IFwidG9nZ2xlXCI7XG5cdFx0XHRpZiAoIHZhbHVlID09PSAoIGhpZGRlbiA/IFwiaGlkZVwiIDogXCJzaG93XCIgKSApIHtcblxuXHRcdFx0XHQvLyBQcmV0ZW5kIHRvIGJlIGhpZGRlbiBpZiB0aGlzIGlzIGEgXCJzaG93XCIgYW5kXG5cdFx0XHRcdC8vIHRoZXJlIGlzIHN0aWxsIGRhdGEgZnJvbSBhIHN0b3BwZWQgc2hvdy9oaWRlXG5cdFx0XHRcdGlmICggdmFsdWUgPT09IFwic2hvd1wiICYmIGRhdGFTaG93ICYmIGRhdGFTaG93WyBwcm9wIF0gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRoaWRkZW4gPSB0cnVlO1xuXG5cdFx0XHRcdC8vIElnbm9yZSBhbGwgb3RoZXIgbm8tb3Agc2hvdy9oaWRlIGRhdGFcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0b3JpZ1sgcHJvcCBdID0gZGF0YVNob3cgJiYgZGF0YVNob3dbIHByb3AgXSB8fCBqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBCYWlsIG91dCBpZiB0aGlzIGlzIGEgbm8tb3AgbGlrZSAuaGlkZSgpLmhpZGUoKVxuXHRwcm9wVHdlZW4gPSAhalF1ZXJ5LmlzRW1wdHlPYmplY3QoIHByb3BzICk7XG5cdGlmICggIXByb3BUd2VlbiAmJiBqUXVlcnkuaXNFbXB0eU9iamVjdCggb3JpZyApICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIFJlc3RyaWN0IFwib3ZlcmZsb3dcIiBhbmQgXCJkaXNwbGF5XCIgc3R5bGVzIGR1cmluZyBib3ggYW5pbWF0aW9uc1xuXHRpZiAoIGlzQm94ICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSwgRWRnZSAxMiAtIDEzXG5cdFx0Ly8gUmVjb3JkIGFsbCAzIG92ZXJmbG93IGF0dHJpYnV0ZXMgYmVjYXVzZSBJRSBkb2VzIG5vdCBpbmZlciB0aGUgc2hvcnRoYW5kXG5cdFx0Ly8gZnJvbSBpZGVudGljYWxseS12YWx1ZWQgb3ZlcmZsb3dYIGFuZCBvdmVyZmxvd1lcblx0XHRvcHRzLm92ZXJmbG93ID0gWyBzdHlsZS5vdmVyZmxvdywgc3R5bGUub3ZlcmZsb3dYLCBzdHlsZS5vdmVyZmxvd1kgXTtcblxuXHRcdC8vIElkZW50aWZ5IGEgZGlzcGxheSB0eXBlLCBwcmVmZXJyaW5nIG9sZCBzaG93L2hpZGUgZGF0YSBvdmVyIHRoZSBDU1MgY2FzY2FkZVxuXHRcdHJlc3RvcmVEaXNwbGF5ID0gZGF0YVNob3cgJiYgZGF0YVNob3cuZGlzcGxheTtcblx0XHRpZiAoIHJlc3RvcmVEaXNwbGF5ID09IG51bGwgKSB7XG5cdFx0XHRyZXN0b3JlRGlzcGxheSA9IGRhdGFQcml2LmdldCggZWxlbSwgXCJkaXNwbGF5XCIgKTtcblx0XHR9XG5cdFx0ZGlzcGxheSA9IGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICk7XG5cdFx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRcdGlmICggcmVzdG9yZURpc3BsYXkgKSB7XG5cdFx0XHRcdGRpc3BsYXkgPSByZXN0b3JlRGlzcGxheTtcblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gR2V0IG5vbmVtcHR5IHZhbHVlKHMpIGJ5IHRlbXBvcmFyaWx5IGZvcmNpbmcgdmlzaWJpbGl0eVxuXHRcdFx0XHRzaG93SGlkZSggWyBlbGVtIF0sIHRydWUgKTtcblx0XHRcdFx0cmVzdG9yZURpc3BsYXkgPSBlbGVtLnN0eWxlLmRpc3BsYXkgfHwgcmVzdG9yZURpc3BsYXk7XG5cdFx0XHRcdGRpc3BsYXkgPSBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApO1xuXHRcdFx0XHRzaG93SGlkZSggWyBlbGVtIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBBbmltYXRlIGlubGluZSBlbGVtZW50cyBhcyBpbmxpbmUtYmxvY2tcblx0XHRpZiAoIGRpc3BsYXkgPT09IFwiaW5saW5lXCIgfHwgZGlzcGxheSA9PT0gXCJpbmxpbmUtYmxvY2tcIiAmJiByZXN0b3JlRGlzcGxheSAhPSBudWxsICkge1xuXHRcdFx0aWYgKCBqUXVlcnkuY3NzKCBlbGVtLCBcImZsb2F0XCIgKSA9PT0gXCJub25lXCIgKSB7XG5cblx0XHRcdFx0Ly8gUmVzdG9yZSB0aGUgb3JpZ2luYWwgZGlzcGxheSB2YWx1ZSBhdCB0aGUgZW5kIG9mIHB1cmUgc2hvdy9oaWRlIGFuaW1hdGlvbnNcblx0XHRcdFx0aWYgKCAhcHJvcFR3ZWVuICkge1xuXHRcdFx0XHRcdGFuaW0uZG9uZSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRzdHlsZS5kaXNwbGF5ID0gcmVzdG9yZURpc3BsYXk7XG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdGlmICggcmVzdG9yZURpc3BsYXkgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdGRpc3BsYXkgPSBzdHlsZS5kaXNwbGF5O1xuXHRcdFx0XHRcdFx0cmVzdG9yZURpc3BsYXkgPSBkaXNwbGF5ID09PSBcIm5vbmVcIiA/IFwiXCIgOiBkaXNwbGF5O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRzdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAoIG9wdHMub3ZlcmZsb3cgKSB7XG5cdFx0c3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuXHRcdGFuaW0uYWx3YXlzKCBmdW5jdGlvbigpIHtcblx0XHRcdHN0eWxlLm92ZXJmbG93ID0gb3B0cy5vdmVyZmxvd1sgMCBdO1xuXHRcdFx0c3R5bGUub3ZlcmZsb3dYID0gb3B0cy5vdmVyZmxvd1sgMSBdO1xuXHRcdFx0c3R5bGUub3ZlcmZsb3dZID0gb3B0cy5vdmVyZmxvd1sgMiBdO1xuXHRcdH0gKTtcblx0fVxuXG5cdC8vIEltcGxlbWVudCBzaG93L2hpZGUgYW5pbWF0aW9uc1xuXHRwcm9wVHdlZW4gPSBmYWxzZTtcblx0Zm9yICggcHJvcCBpbiBvcmlnICkge1xuXG5cdFx0Ly8gR2VuZXJhbCBzaG93L2hpZGUgc2V0dXAgZm9yIHRoaXMgZWxlbWVudCBhbmltYXRpb25cblx0XHRpZiAoICFwcm9wVHdlZW4gKSB7XG5cdFx0XHRpZiAoIGRhdGFTaG93ICkge1xuXHRcdFx0XHRpZiAoIFwiaGlkZGVuXCIgaW4gZGF0YVNob3cgKSB7XG5cdFx0XHRcdFx0aGlkZGVuID0gZGF0YVNob3cuaGlkZGVuO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkYXRhU2hvdyA9IGRhdGFQcml2LmFjY2VzcyggZWxlbSwgXCJmeHNob3dcIiwgeyBkaXNwbGF5OiByZXN0b3JlRGlzcGxheSB9ICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN0b3JlIGhpZGRlbi92aXNpYmxlIGZvciB0b2dnbGUgc28gYC5zdG9wKCkudG9nZ2xlKClgIFwicmV2ZXJzZXNcIlxuXHRcdFx0aWYgKCB0b2dnbGUgKSB7XG5cdFx0XHRcdGRhdGFTaG93LmhpZGRlbiA9ICFoaWRkZW47XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNob3cgZWxlbWVudHMgYmVmb3JlIGFuaW1hdGluZyB0aGVtXG5cdFx0XHRpZiAoIGhpZGRlbiApIHtcblx0XHRcdFx0c2hvd0hpZGUoIFsgZWxlbSBdLCB0cnVlICk7XG5cdFx0XHR9XG5cblx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLWxvb3AtZnVuYyAqL1xuXG5cdFx0XHRhbmltLmRvbmUoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvKiBlc2xpbnQtZW5hYmxlIG5vLWxvb3AtZnVuYyAqL1xuXG5cdFx0XHRcdC8vIFRoZSBmaW5hbCBzdGVwIG9mIGEgXCJoaWRlXCIgYW5pbWF0aW9uIGlzIGFjdHVhbGx5IGhpZGluZyB0aGUgZWxlbWVudFxuXHRcdFx0XHRpZiAoICFoaWRkZW4gKSB7XG5cdFx0XHRcdFx0c2hvd0hpZGUoIFsgZWxlbSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBcImZ4c2hvd1wiICk7XG5cdFx0XHRcdGZvciAoIHByb3AgaW4gb3JpZyApIHtcblx0XHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AsIG9yaWdbIHByb3AgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0Ly8gUGVyLXByb3BlcnR5IHNldHVwXG5cdFx0cHJvcFR3ZWVuID0gY3JlYXRlVHdlZW4oIGhpZGRlbiA/IGRhdGFTaG93WyBwcm9wIF0gOiAwLCBwcm9wLCBhbmltICk7XG5cdFx0aWYgKCAhKCBwcm9wIGluIGRhdGFTaG93ICkgKSB7XG5cdFx0XHRkYXRhU2hvd1sgcHJvcCBdID0gcHJvcFR3ZWVuLnN0YXJ0O1xuXHRcdFx0aWYgKCBoaWRkZW4gKSB7XG5cdFx0XHRcdHByb3BUd2Vlbi5lbmQgPSBwcm9wVHdlZW4uc3RhcnQ7XG5cdFx0XHRcdHByb3BUd2Vlbi5zdGFydCA9IDA7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIHByb3BGaWx0ZXIoIHByb3BzLCBzcGVjaWFsRWFzaW5nICkge1xuXHR2YXIgaW5kZXgsIG5hbWUsIGVhc2luZywgdmFsdWUsIGhvb2tzO1xuXG5cdC8vIGNhbWVsQ2FzZSwgc3BlY2lhbEVhc2luZyBhbmQgZXhwYW5kIGNzc0hvb2sgcGFzc1xuXHRmb3IgKCBpbmRleCBpbiBwcm9wcyApIHtcblx0XHRuYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggaW5kZXggKTtcblx0XHRlYXNpbmcgPSBzcGVjaWFsRWFzaW5nWyBuYW1lIF07XG5cdFx0dmFsdWUgPSBwcm9wc1sgaW5kZXggXTtcblx0XHRpZiAoIGpRdWVyeS5pc0FycmF5KCB2YWx1ZSApICkge1xuXHRcdFx0ZWFzaW5nID0gdmFsdWVbIDEgXTtcblx0XHRcdHZhbHVlID0gcHJvcHNbIGluZGV4IF0gPSB2YWx1ZVsgMCBdO1xuXHRcdH1cblxuXHRcdGlmICggaW5kZXggIT09IG5hbWUgKSB7XG5cdFx0XHRwcm9wc1sgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHRkZWxldGUgcHJvcHNbIGluZGV4IF07XG5cdFx0fVxuXG5cdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXTtcblx0XHRpZiAoIGhvb2tzICYmIFwiZXhwYW5kXCIgaW4gaG9va3MgKSB7XG5cdFx0XHR2YWx1ZSA9IGhvb2tzLmV4cGFuZCggdmFsdWUgKTtcblx0XHRcdGRlbGV0ZSBwcm9wc1sgbmFtZSBdO1xuXG5cdFx0XHQvLyBOb3QgcXVpdGUgJC5leHRlbmQsIHRoaXMgd29uJ3Qgb3ZlcndyaXRlIGV4aXN0aW5nIGtleXMuXG5cdFx0XHQvLyBSZXVzaW5nICdpbmRleCcgYmVjYXVzZSB3ZSBoYXZlIHRoZSBjb3JyZWN0IFwibmFtZVwiXG5cdFx0XHRmb3IgKCBpbmRleCBpbiB2YWx1ZSApIHtcblx0XHRcdFx0aWYgKCAhKCBpbmRleCBpbiBwcm9wcyApICkge1xuXHRcdFx0XHRcdHByb3BzWyBpbmRleCBdID0gdmFsdWVbIGluZGV4IF07XG5cdFx0XHRcdFx0c3BlY2lhbEVhc2luZ1sgaW5kZXggXSA9IGVhc2luZztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRzcGVjaWFsRWFzaW5nWyBuYW1lIF0gPSBlYXNpbmc7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIEFuaW1hdGlvbiggZWxlbSwgcHJvcGVydGllcywgb3B0aW9ucyApIHtcblx0dmFyIHJlc3VsdCxcblx0XHRzdG9wcGVkLFxuXHRcdGluZGV4ID0gMCxcblx0XHRsZW5ndGggPSBBbmltYXRpb24ucHJlZmlsdGVycy5sZW5ndGgsXG5cdFx0ZGVmZXJyZWQgPSBqUXVlcnkuRGVmZXJyZWQoKS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBEb24ndCBtYXRjaCBlbGVtIGluIHRoZSA6YW5pbWF0ZWQgc2VsZWN0b3Jcblx0XHRcdGRlbGV0ZSB0aWNrLmVsZW07XG5cdFx0fSApLFxuXHRcdHRpY2sgPSBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggc3RvcHBlZCApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0dmFyIGN1cnJlbnRUaW1lID0gZnhOb3cgfHwgY3JlYXRlRnhOb3coKSxcblx0XHRcdFx0cmVtYWluaW5nID0gTWF0aC5tYXgoIDAsIGFuaW1hdGlvbi5zdGFydFRpbWUgKyBhbmltYXRpb24uZHVyYXRpb24gLSBjdXJyZW50VGltZSApLFxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgMi4zIG9ubHlcblx0XHRcdFx0Ly8gQXJjaGFpYyBjcmFzaCBidWcgd29uJ3QgYWxsb3cgdXMgdG8gdXNlIGAxIC0gKCAwLjUgfHwgMCApYCAoIzEyNDk3KVxuXHRcdFx0XHR0ZW1wID0gcmVtYWluaW5nIC8gYW5pbWF0aW9uLmR1cmF0aW9uIHx8IDAsXG5cdFx0XHRcdHBlcmNlbnQgPSAxIC0gdGVtcCxcblx0XHRcdFx0aW5kZXggPSAwLFxuXHRcdFx0XHRsZW5ndGggPSBhbmltYXRpb24udHdlZW5zLmxlbmd0aDtcblxuXHRcdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdFx0YW5pbWF0aW9uLnR3ZWVuc1sgaW5kZXggXS5ydW4oIHBlcmNlbnQgKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVmZXJyZWQubm90aWZ5V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIHBlcmNlbnQsIHJlbWFpbmluZyBdICk7XG5cblx0XHRcdGlmICggcGVyY2VudCA8IDEgJiYgbGVuZ3RoICkge1xuXHRcdFx0XHRyZXR1cm4gcmVtYWluaW5nO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uIF0gKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0YW5pbWF0aW9uID0gZGVmZXJyZWQucHJvbWlzZSgge1xuXHRcdFx0ZWxlbTogZWxlbSxcblx0XHRcdHByb3BzOiBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcGVydGllcyApLFxuXHRcdFx0b3B0czogalF1ZXJ5LmV4dGVuZCggdHJ1ZSwge1xuXHRcdFx0XHRzcGVjaWFsRWFzaW5nOiB7fSxcblx0XHRcdFx0ZWFzaW5nOiBqUXVlcnkuZWFzaW5nLl9kZWZhdWx0XG5cdFx0XHR9LCBvcHRpb25zICksXG5cdFx0XHRvcmlnaW5hbFByb3BlcnRpZXM6IHByb3BlcnRpZXMsXG5cdFx0XHRvcmlnaW5hbE9wdGlvbnM6IG9wdGlvbnMsXG5cdFx0XHRzdGFydFRpbWU6IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksXG5cdFx0XHRkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbixcblx0XHRcdHR3ZWVuczogW10sXG5cdFx0XHRjcmVhdGVUd2VlbjogZnVuY3Rpb24oIHByb3AsIGVuZCApIHtcblx0XHRcdFx0dmFyIHR3ZWVuID0galF1ZXJ5LlR3ZWVuKCBlbGVtLCBhbmltYXRpb24ub3B0cywgcHJvcCwgZW5kLFxuXHRcdFx0XHRcdFx0YW5pbWF0aW9uLm9wdHMuc3BlY2lhbEVhc2luZ1sgcHJvcCBdIHx8IGFuaW1hdGlvbi5vcHRzLmVhc2luZyApO1xuXHRcdFx0XHRhbmltYXRpb24udHdlZW5zLnB1c2goIHR3ZWVuICk7XG5cdFx0XHRcdHJldHVybiB0d2Vlbjtcblx0XHRcdH0sXG5cdFx0XHRzdG9wOiBmdW5jdGlvbiggZ290b0VuZCApIHtcblx0XHRcdFx0dmFyIGluZGV4ID0gMCxcblxuXHRcdFx0XHRcdC8vIElmIHdlIGFyZSBnb2luZyB0byB0aGUgZW5kLCB3ZSB3YW50IHRvIHJ1biBhbGwgdGhlIHR3ZWVuc1xuXHRcdFx0XHRcdC8vIG90aGVyd2lzZSB3ZSBza2lwIHRoaXMgcGFydFxuXHRcdFx0XHRcdGxlbmd0aCA9IGdvdG9FbmQgPyBhbmltYXRpb24udHdlZW5zLmxlbmd0aCA6IDA7XG5cdFx0XHRcdGlmICggc3RvcHBlZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fVxuXHRcdFx0XHRzdG9wcGVkID0gdHJ1ZTtcblx0XHRcdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdFx0XHRhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggMSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmVzb2x2ZSB3aGVuIHdlIHBsYXllZCB0aGUgbGFzdCBmcmFtZTsgb3RoZXJ3aXNlLCByZWplY3Rcblx0XHRcdFx0aWYgKCBnb3RvRW5kICkge1xuXHRcdFx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCAxLCAwIF0gKTtcblx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggZWxlbSwgWyBhbmltYXRpb24sIGdvdG9FbmQgXSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdFdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBnb3RvRW5kIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH1cblx0XHR9ICksXG5cdFx0cHJvcHMgPSBhbmltYXRpb24ucHJvcHM7XG5cblx0cHJvcEZpbHRlciggcHJvcHMsIGFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmcgKTtcblxuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdHJlc3VsdCA9IEFuaW1hdGlvbi5wcmVmaWx0ZXJzWyBpbmRleCBdLmNhbGwoIGFuaW1hdGlvbiwgZWxlbSwgcHJvcHMsIGFuaW1hdGlvbi5vcHRzICk7XG5cdFx0aWYgKCByZXN1bHQgKSB7XG5cdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCByZXN1bHQuc3RvcCApICkge1xuXHRcdFx0XHRqUXVlcnkuX3F1ZXVlSG9va3MoIGFuaW1hdGlvbi5lbGVtLCBhbmltYXRpb24ub3B0cy5xdWV1ZSApLnN0b3AgPVxuXHRcdFx0XHRcdGpRdWVyeS5wcm94eSggcmVzdWx0LnN0b3AsIHJlc3VsdCApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cdH1cblxuXHRqUXVlcnkubWFwKCBwcm9wcywgY3JlYXRlVHdlZW4sIGFuaW1hdGlvbiApO1xuXG5cdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGFuaW1hdGlvbi5vcHRzLnN0YXJ0ICkgKSB7XG5cdFx0YW5pbWF0aW9uLm9wdHMuc3RhcnQuY2FsbCggZWxlbSwgYW5pbWF0aW9uICk7XG5cdH1cblxuXHRqUXVlcnkuZngudGltZXIoXG5cdFx0alF1ZXJ5LmV4dGVuZCggdGljaywge1xuXHRcdFx0ZWxlbTogZWxlbSxcblx0XHRcdGFuaW06IGFuaW1hdGlvbixcblx0XHRcdHF1ZXVlOiBhbmltYXRpb24ub3B0cy5xdWV1ZVxuXHRcdH0gKVxuXHQpO1xuXG5cdC8vIGF0dGFjaCBjYWxsYmFja3MgZnJvbSBvcHRpb25zXG5cdHJldHVybiBhbmltYXRpb24ucHJvZ3Jlc3MoIGFuaW1hdGlvbi5vcHRzLnByb2dyZXNzIClcblx0XHQuZG9uZSggYW5pbWF0aW9uLm9wdHMuZG9uZSwgYW5pbWF0aW9uLm9wdHMuY29tcGxldGUgKVxuXHRcdC5mYWlsKCBhbmltYXRpb24ub3B0cy5mYWlsIClcblx0XHQuYWx3YXlzKCBhbmltYXRpb24ub3B0cy5hbHdheXMgKTtcbn1cblxualF1ZXJ5LkFuaW1hdGlvbiA9IGpRdWVyeS5leHRlbmQoIEFuaW1hdGlvbiwge1xuXG5cdHR3ZWVuZXJzOiB7XG5cdFx0XCIqXCI6IFsgZnVuY3Rpb24oIHByb3AsIHZhbHVlICkge1xuXHRcdFx0dmFyIHR3ZWVuID0gdGhpcy5jcmVhdGVUd2VlbiggcHJvcCwgdmFsdWUgKTtcblx0XHRcdGFkanVzdENTUyggdHdlZW4uZWxlbSwgcHJvcCwgcmNzc051bS5leGVjKCB2YWx1ZSApLCB0d2VlbiApO1xuXHRcdFx0cmV0dXJuIHR3ZWVuO1xuXHRcdH0gXVxuXHR9LFxuXG5cdHR3ZWVuZXI6IGZ1bmN0aW9uKCBwcm9wcywgY2FsbGJhY2sgKSB7XG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcHJvcHMgKSApIHtcblx0XHRcdGNhbGxiYWNrID0gcHJvcHM7XG5cdFx0XHRwcm9wcyA9IFsgXCIqXCIgXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cHJvcHMgPSBwcm9wcy5tYXRjaCggcm5vdHdoaXRlICk7XG5cdFx0fVxuXG5cdFx0dmFyIHByb3AsXG5cdFx0XHRpbmRleCA9IDAsXG5cdFx0XHRsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cblx0XHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0cHJvcCA9IHByb3BzWyBpbmRleCBdO1xuXHRcdFx0QW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0gPSBBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSB8fCBbXTtcblx0XHRcdEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdLnVuc2hpZnQoIGNhbGxiYWNrICk7XG5cdFx0fVxuXHR9LFxuXG5cdHByZWZpbHRlcnM6IFsgZGVmYXVsdFByZWZpbHRlciBdLFxuXG5cdHByZWZpbHRlcjogZnVuY3Rpb24oIGNhbGxiYWNrLCBwcmVwZW5kICkge1xuXHRcdGlmICggcHJlcGVuZCApIHtcblx0XHRcdEFuaW1hdGlvbi5wcmVmaWx0ZXJzLnVuc2hpZnQoIGNhbGxiYWNrICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdEFuaW1hdGlvbi5wcmVmaWx0ZXJzLnB1c2goIGNhbGxiYWNrICk7XG5cdFx0fVxuXHR9XG59ICk7XG5cbmpRdWVyeS5zcGVlZCA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBmbiApIHtcblx0dmFyIG9wdCA9IHNwZWVkICYmIHR5cGVvZiBzcGVlZCA9PT0gXCJvYmplY3RcIiA/IGpRdWVyeS5leHRlbmQoIHt9LCBzcGVlZCApIDoge1xuXHRcdGNvbXBsZXRlOiBmbiB8fCAhZm4gJiYgZWFzaW5nIHx8XG5cdFx0XHRqUXVlcnkuaXNGdW5jdGlvbiggc3BlZWQgKSAmJiBzcGVlZCxcblx0XHRkdXJhdGlvbjogc3BlZWQsXG5cdFx0ZWFzaW5nOiBmbiAmJiBlYXNpbmcgfHwgZWFzaW5nICYmICFqUXVlcnkuaXNGdW5jdGlvbiggZWFzaW5nICkgJiYgZWFzaW5nXG5cdH07XG5cblx0Ly8gR28gdG8gdGhlIGVuZCBzdGF0ZSBpZiBmeCBhcmUgb2ZmIG9yIGlmIGRvY3VtZW50IGlzIGhpZGRlblxuXHRpZiAoIGpRdWVyeS5meC5vZmYgfHwgZG9jdW1lbnQuaGlkZGVuICkge1xuXHRcdG9wdC5kdXJhdGlvbiA9IDA7XG5cblx0fSBlbHNlIHtcblx0XHRvcHQuZHVyYXRpb24gPSB0eXBlb2Ygb3B0LmR1cmF0aW9uID09PSBcIm51bWJlclwiID9cblx0XHRcdG9wdC5kdXJhdGlvbiA6IG9wdC5kdXJhdGlvbiBpbiBqUXVlcnkuZnguc3BlZWRzID9cblx0XHRcdFx0alF1ZXJ5LmZ4LnNwZWVkc1sgb3B0LmR1cmF0aW9uIF0gOiBqUXVlcnkuZnguc3BlZWRzLl9kZWZhdWx0O1xuXHR9XG5cblx0Ly8gTm9ybWFsaXplIG9wdC5xdWV1ZSAtIHRydWUvdW5kZWZpbmVkL251bGwgLT4gXCJmeFwiXG5cdGlmICggb3B0LnF1ZXVlID09IG51bGwgfHwgb3B0LnF1ZXVlID09PSB0cnVlICkge1xuXHRcdG9wdC5xdWV1ZSA9IFwiZnhcIjtcblx0fVxuXG5cdC8vIFF1ZXVlaW5nXG5cdG9wdC5vbGQgPSBvcHQuY29tcGxldGU7XG5cblx0b3B0LmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggb3B0Lm9sZCApICkge1xuXHRcdFx0b3B0Lm9sZC5jYWxsKCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBvcHQucXVldWUgKSB7XG5cdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgb3B0LnF1ZXVlICk7XG5cdFx0fVxuXHR9O1xuXG5cdHJldHVybiBvcHQ7XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGZhZGVUbzogZnVuY3Rpb24oIHNwZWVkLCB0bywgZWFzaW5nLCBjYWxsYmFjayApIHtcblxuXHRcdC8vIFNob3cgYW55IGhpZGRlbiBlbGVtZW50cyBhZnRlciBzZXR0aW5nIG9wYWNpdHkgdG8gMFxuXHRcdHJldHVybiB0aGlzLmZpbHRlciggaXNIaWRkZW5XaXRoaW5UcmVlICkuY3NzKCBcIm9wYWNpdHlcIiwgMCApLnNob3coKVxuXG5cdFx0XHQvLyBBbmltYXRlIHRvIHRoZSB2YWx1ZSBzcGVjaWZpZWRcblx0XHRcdC5lbmQoKS5hbmltYXRlKCB7IG9wYWNpdHk6IHRvIH0sIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdH0sXG5cdGFuaW1hdGU6IGZ1bmN0aW9uKCBwcm9wLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHR2YXIgZW1wdHkgPSBqUXVlcnkuaXNFbXB0eU9iamVjdCggcHJvcCApLFxuXHRcdFx0b3B0YWxsID0galF1ZXJ5LnNwZWVkKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApLFxuXHRcdFx0ZG9BbmltYXRpb24gPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQvLyBPcGVyYXRlIG9uIGEgY29weSBvZiBwcm9wIHNvIHBlci1wcm9wZXJ0eSBlYXNpbmcgd29uJ3QgYmUgbG9zdFxuXHRcdFx0XHR2YXIgYW5pbSA9IEFuaW1hdGlvbiggdGhpcywgalF1ZXJ5LmV4dGVuZCgge30sIHByb3AgKSwgb3B0YWxsICk7XG5cblx0XHRcdFx0Ly8gRW1wdHkgYW5pbWF0aW9ucywgb3IgZmluaXNoaW5nIHJlc29sdmVzIGltbWVkaWF0ZWx5XG5cdFx0XHRcdGlmICggZW1wdHkgfHwgZGF0YVByaXYuZ2V0KCB0aGlzLCBcImZpbmlzaFwiICkgKSB7XG5cdFx0XHRcdFx0YW5pbS5zdG9wKCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRkb0FuaW1hdGlvbi5maW5pc2ggPSBkb0FuaW1hdGlvbjtcblxuXHRcdHJldHVybiBlbXB0eSB8fCBvcHRhbGwucXVldWUgPT09IGZhbHNlID9cblx0XHRcdHRoaXMuZWFjaCggZG9BbmltYXRpb24gKSA6XG5cdFx0XHR0aGlzLnF1ZXVlKCBvcHRhbGwucXVldWUsIGRvQW5pbWF0aW9uICk7XG5cdH0sXG5cdHN0b3A6IGZ1bmN0aW9uKCB0eXBlLCBjbGVhclF1ZXVlLCBnb3RvRW5kICkge1xuXHRcdHZhciBzdG9wUXVldWUgPSBmdW5jdGlvbiggaG9va3MgKSB7XG5cdFx0XHR2YXIgc3RvcCA9IGhvb2tzLnN0b3A7XG5cdFx0XHRkZWxldGUgaG9va3Muc3RvcDtcblx0XHRcdHN0b3AoIGdvdG9FbmQgKTtcblx0XHR9O1xuXG5cdFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGdvdG9FbmQgPSBjbGVhclF1ZXVlO1xuXHRcdFx0Y2xlYXJRdWV1ZSA9IHR5cGU7XG5cdFx0XHR0eXBlID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHRpZiAoIGNsZWFyUXVldWUgJiYgdHlwZSAhPT0gZmFsc2UgKSB7XG5cdFx0XHR0aGlzLnF1ZXVlKCB0eXBlIHx8IFwiZnhcIiwgW10gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBkZXF1ZXVlID0gdHJ1ZSxcblx0XHRcdFx0aW5kZXggPSB0eXBlICE9IG51bGwgJiYgdHlwZSArIFwicXVldWVIb29rc1wiLFxuXHRcdFx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzLFxuXHRcdFx0XHRkYXRhID0gZGF0YVByaXYuZ2V0KCB0aGlzICk7XG5cblx0XHRcdGlmICggaW5kZXggKSB7XG5cdFx0XHRcdGlmICggZGF0YVsgaW5kZXggXSAmJiBkYXRhWyBpbmRleCBdLnN0b3AgKSB7XG5cdFx0XHRcdFx0c3RvcFF1ZXVlKCBkYXRhWyBpbmRleCBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZvciAoIGluZGV4IGluIGRhdGEgKSB7XG5cdFx0XHRcdFx0aWYgKCBkYXRhWyBpbmRleCBdICYmIGRhdGFbIGluZGV4IF0uc3RvcCAmJiBycnVuLnRlc3QoIGluZGV4ICkgKSB7XG5cdFx0XHRcdFx0XHRzdG9wUXVldWUoIGRhdGFbIGluZGV4IF0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Zm9yICggaW5kZXggPSB0aW1lcnMubGVuZ3RoOyBpbmRleC0tOyApIHtcblx0XHRcdFx0aWYgKCB0aW1lcnNbIGluZGV4IF0uZWxlbSA9PT0gdGhpcyAmJlxuXHRcdFx0XHRcdCggdHlwZSA9PSBudWxsIHx8IHRpbWVyc1sgaW5kZXggXS5xdWV1ZSA9PT0gdHlwZSApICkge1xuXG5cdFx0XHRcdFx0dGltZXJzWyBpbmRleCBdLmFuaW0uc3RvcCggZ290b0VuZCApO1xuXHRcdFx0XHRcdGRlcXVldWUgPSBmYWxzZTtcblx0XHRcdFx0XHR0aW1lcnMuc3BsaWNlKCBpbmRleCwgMSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN0YXJ0IHRoZSBuZXh0IGluIHRoZSBxdWV1ZSBpZiB0aGUgbGFzdCBzdGVwIHdhc24ndCBmb3JjZWQuXG5cdFx0XHQvLyBUaW1lcnMgY3VycmVudGx5IHdpbGwgY2FsbCB0aGVpciBjb21wbGV0ZSBjYWxsYmFja3MsIHdoaWNoXG5cdFx0XHQvLyB3aWxsIGRlcXVldWUgYnV0IG9ubHkgaWYgdGhleSB3ZXJlIGdvdG9FbmQuXG5cdFx0XHRpZiAoIGRlcXVldWUgfHwgIWdvdG9FbmQgKSB7XG5cdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXHRmaW5pc2g6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdGlmICggdHlwZSAhPT0gZmFsc2UgKSB7XG5cdFx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGluZGV4LFxuXHRcdFx0XHRkYXRhID0gZGF0YVByaXYuZ2V0KCB0aGlzICksXG5cdFx0XHRcdHF1ZXVlID0gZGF0YVsgdHlwZSArIFwicXVldWVcIiBdLFxuXHRcdFx0XHRob29rcyA9IGRhdGFbIHR5cGUgKyBcInF1ZXVlSG9va3NcIiBdLFxuXHRcdFx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzLFxuXHRcdFx0XHRsZW5ndGggPSBxdWV1ZSA/IHF1ZXVlLmxlbmd0aCA6IDA7XG5cblx0XHRcdC8vIEVuYWJsZSBmaW5pc2hpbmcgZmxhZyBvbiBwcml2YXRlIGRhdGFcblx0XHRcdGRhdGEuZmluaXNoID0gdHJ1ZTtcblxuXHRcdFx0Ly8gRW1wdHkgdGhlIHF1ZXVlIGZpcnN0XG5cdFx0XHRqUXVlcnkucXVldWUoIHRoaXMsIHR5cGUsIFtdICk7XG5cblx0XHRcdGlmICggaG9va3MgJiYgaG9va3Muc3RvcCApIHtcblx0XHRcdFx0aG9va3Muc3RvcC5jYWxsKCB0aGlzLCB0cnVlICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIExvb2sgZm9yIGFueSBhY3RpdmUgYW5pbWF0aW9ucywgYW5kIGZpbmlzaCB0aGVtXG5cdFx0XHRmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkge1xuXHRcdFx0XHRpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmIHRpbWVyc1sgaW5kZXggXS5xdWV1ZSA9PT0gdHlwZSApIHtcblx0XHRcdFx0XHR0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCB0cnVlICk7XG5cdFx0XHRcdFx0dGltZXJzLnNwbGljZSggaW5kZXgsIDEgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBMb29rIGZvciBhbnkgYW5pbWF0aW9ucyBpbiB0aGUgb2xkIHF1ZXVlIGFuZCBmaW5pc2ggdGhlbVxuXHRcdFx0Zm9yICggaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdFx0aWYgKCBxdWV1ZVsgaW5kZXggXSAmJiBxdWV1ZVsgaW5kZXggXS5maW5pc2ggKSB7XG5cdFx0XHRcdFx0cXVldWVbIGluZGV4IF0uZmluaXNoLmNhbGwoIHRoaXMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBUdXJuIG9mZiBmaW5pc2hpbmcgZmxhZ1xuXHRcdFx0ZGVsZXRlIGRhdGEuZmluaXNoO1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCggWyBcInRvZ2dsZVwiLCBcInNob3dcIiwgXCJoaWRlXCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdHZhciBjc3NGbiA9IGpRdWVyeS5mblsgbmFtZSBdO1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4gc3BlZWQgPT0gbnVsbCB8fCB0eXBlb2Ygc3BlZWQgPT09IFwiYm9vbGVhblwiID9cblx0XHRcdGNzc0ZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSA6XG5cdFx0XHR0aGlzLmFuaW1hdGUoIGdlbkZ4KCBuYW1lLCB0cnVlICksIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdH07XG59ICk7XG5cbi8vIEdlbmVyYXRlIHNob3J0Y3V0cyBmb3IgY3VzdG9tIGFuaW1hdGlvbnNcbmpRdWVyeS5lYWNoKCB7XG5cdHNsaWRlRG93bjogZ2VuRngoIFwic2hvd1wiICksXG5cdHNsaWRlVXA6IGdlbkZ4KCBcImhpZGVcIiApLFxuXHRzbGlkZVRvZ2dsZTogZ2VuRngoIFwidG9nZ2xlXCIgKSxcblx0ZmFkZUluOiB7IG9wYWNpdHk6IFwic2hvd1wiIH0sXG5cdGZhZGVPdXQ6IHsgb3BhY2l0eTogXCJoaWRlXCIgfSxcblx0ZmFkZVRvZ2dsZTogeyBvcGFjaXR5OiBcInRvZ2dsZVwiIH1cbn0sIGZ1bmN0aW9uKCBuYW1lLCBwcm9wcyApIHtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIHRoaXMuYW5pbWF0ZSggcHJvcHMsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdH07XG59ICk7XG5cbmpRdWVyeS50aW1lcnMgPSBbXTtcbmpRdWVyeS5meC50aWNrID0gZnVuY3Rpb24oKSB7XG5cdHZhciB0aW1lcixcblx0XHRpID0gMCxcblx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzO1xuXG5cdGZ4Tm93ID0galF1ZXJ5Lm5vdygpO1xuXG5cdGZvciAoIDsgaSA8IHRpbWVycy5sZW5ndGg7IGkrKyApIHtcblx0XHR0aW1lciA9IHRpbWVyc1sgaSBdO1xuXG5cdFx0Ly8gQ2hlY2tzIHRoZSB0aW1lciBoYXMgbm90IGFscmVhZHkgYmVlbiByZW1vdmVkXG5cdFx0aWYgKCAhdGltZXIoKSAmJiB0aW1lcnNbIGkgXSA9PT0gdGltZXIgKSB7XG5cdFx0XHR0aW1lcnMuc3BsaWNlKCBpLS0sIDEgKTtcblx0XHR9XG5cdH1cblxuXHRpZiAoICF0aW1lcnMubGVuZ3RoICkge1xuXHRcdGpRdWVyeS5meC5zdG9wKCk7XG5cdH1cblx0ZnhOb3cgPSB1bmRlZmluZWQ7XG59O1xuXG5qUXVlcnkuZngudGltZXIgPSBmdW5jdGlvbiggdGltZXIgKSB7XG5cdGpRdWVyeS50aW1lcnMucHVzaCggdGltZXIgKTtcblx0aWYgKCB0aW1lcigpICkge1xuXHRcdGpRdWVyeS5meC5zdGFydCgpO1xuXHR9IGVsc2Uge1xuXHRcdGpRdWVyeS50aW1lcnMucG9wKCk7XG5cdH1cbn07XG5cbmpRdWVyeS5meC5pbnRlcnZhbCA9IDEzO1xualF1ZXJ5LmZ4LnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG5cdGlmICggIXRpbWVySWQgKSB7XG5cdFx0dGltZXJJZCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgP1xuXHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSggcmFmICkgOlxuXHRcdFx0d2luZG93LnNldEludGVydmFsKCBqUXVlcnkuZngudGljaywgalF1ZXJ5LmZ4LmludGVydmFsICk7XG5cdH1cbn07XG5cbmpRdWVyeS5meC5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdGlmICggd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lICkge1xuXHRcdHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSggdGltZXJJZCApO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5jbGVhckludGVydmFsKCB0aW1lcklkICk7XG5cdH1cblxuXHR0aW1lcklkID0gbnVsbDtcbn07XG5cbmpRdWVyeS5meC5zcGVlZHMgPSB7XG5cdHNsb3c6IDYwMCxcblx0ZmFzdDogMjAwLFxuXG5cdC8vIERlZmF1bHQgc3BlZWRcblx0X2RlZmF1bHQ6IDQwMFxufTtcblxuXG4vLyBCYXNlZCBvZmYgb2YgdGhlIHBsdWdpbiBieSBDbGludCBIZWxmZXJzLCB3aXRoIHBlcm1pc3Npb24uXG4vLyBodHRwczovL3dlYi5hcmNoaXZlLm9yZy93ZWIvMjAxMDAzMjQwMTQ3NDcvaHR0cDovL2JsaW5kc2lnbmFscy5jb20vaW5kZXgucGhwLzIwMDkvMDcvanF1ZXJ5LWRlbGF5L1xualF1ZXJ5LmZuLmRlbGF5ID0gZnVuY3Rpb24oIHRpbWUsIHR5cGUgKSB7XG5cdHRpbWUgPSBqUXVlcnkuZnggPyBqUXVlcnkuZnguc3BlZWRzWyB0aW1lIF0gfHwgdGltZSA6IHRpbWU7XG5cdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblxuXHRyZXR1cm4gdGhpcy5xdWV1ZSggdHlwZSwgZnVuY3Rpb24oIG5leHQsIGhvb2tzICkge1xuXHRcdHZhciB0aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoIG5leHQsIHRpbWUgKTtcblx0XHRob29rcy5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR3aW5kb3cuY2xlYXJUaW1lb3V0KCB0aW1lb3V0ICk7XG5cdFx0fTtcblx0fSApO1xufTtcblxuXG4oIGZ1bmN0aW9uKCkge1xuXHR2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKSxcblx0XHRzZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcInNlbGVjdFwiICksXG5cdFx0b3B0ID0gc2VsZWN0LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcIm9wdGlvblwiICkgKTtcblxuXHRpbnB1dC50eXBlID0gXCJjaGVja2JveFwiO1xuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjMgb25seVxuXHQvLyBEZWZhdWx0IHZhbHVlIGZvciBhIGNoZWNrYm94IHNob3VsZCBiZSBcIm9uXCJcblx0c3VwcG9ydC5jaGVja09uID0gaW5wdXQudmFsdWUgIT09IFwiXCI7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdC8vIE11c3QgYWNjZXNzIHNlbGVjdGVkSW5kZXggdG8gbWFrZSBkZWZhdWx0IG9wdGlvbnMgc2VsZWN0XG5cdHN1cHBvcnQub3B0U2VsZWN0ZWQgPSBvcHQuc2VsZWN0ZWQ7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdC8vIEFuIGlucHV0IGxvc2VzIGl0cyB2YWx1ZSBhZnRlciBiZWNvbWluZyBhIHJhZGlvXG5cdGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICk7XG5cdGlucHV0LnZhbHVlID0gXCJ0XCI7XG5cdGlucHV0LnR5cGUgPSBcInJhZGlvXCI7XG5cdHN1cHBvcnQucmFkaW9WYWx1ZSA9IGlucHV0LnZhbHVlID09PSBcInRcIjtcbn0gKSgpO1xuXG5cbnZhciBib29sSG9vayxcblx0YXR0ckhhbmRsZSA9IGpRdWVyeS5leHByLmF0dHJIYW5kbGU7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0YXR0cjogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGpRdWVyeS5hdHRyLCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgKTtcblx0fSxcblxuXHRyZW1vdmVBdHRyOiBmdW5jdGlvbiggbmFtZSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCB0aGlzLCBuYW1lICk7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0YXR0cjogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdHZhciByZXQsIGhvb2tzLFxuXHRcdFx0blR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuXG5cdFx0Ly8gRG9uJ3QgZ2V0L3NldCBhdHRyaWJ1dGVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlc1xuXHRcdGlmICggblR5cGUgPT09IDMgfHwgblR5cGUgPT09IDggfHwgblR5cGUgPT09IDIgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gRmFsbGJhY2sgdG8gcHJvcCB3aGVuIGF0dHJpYnV0ZXMgYXJlIG5vdCBzdXBwb3J0ZWRcblx0XHRpZiAoIHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSA9PT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRcdHJldHVybiBqUXVlcnkucHJvcCggZWxlbSwgbmFtZSwgdmFsdWUgKTtcblx0XHR9XG5cblx0XHQvLyBBdHRyaWJ1dGUgaG9va3MgYXJlIGRldGVybWluZWQgYnkgdGhlIGxvd2VyY2FzZSB2ZXJzaW9uXG5cdFx0Ly8gR3JhYiBuZWNlc3NhcnkgaG9vayBpZiBvbmUgaXMgZGVmaW5lZFxuXHRcdGlmICggblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuXHRcdFx0aG9va3MgPSBqUXVlcnkuYXR0ckhvb2tzWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSB8fFxuXHRcdFx0XHQoIGpRdWVyeS5leHByLm1hdGNoLmJvb2wudGVzdCggbmFtZSApID8gYm9vbEhvb2sgOiB1bmRlZmluZWQgKTtcblx0XHR9XG5cblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRpZiAoIHZhbHVlID09PSBudWxsICkge1xuXHRcdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggZWxlbSwgbmFtZSApO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaG9va3MgJiYgXCJzZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHQoIHJldCA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIG5hbWUgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCB2YWx1ZSArIFwiXCIgKTtcblx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cblx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiYgKCByZXQgPSBob29rcy5nZXQoIGVsZW0sIG5hbWUgKSApICE9PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9XG5cblx0XHRyZXQgPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBuYW1lICk7XG5cblx0XHQvLyBOb24tZXhpc3RlbnQgYXR0cmlidXRlcyByZXR1cm4gbnVsbCwgd2Ugbm9ybWFsaXplIHRvIHVuZGVmaW5lZFxuXHRcdHJldHVybiByZXQgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IHJldDtcblx0fSxcblxuXHRhdHRySG9va3M6IHtcblx0XHR0eXBlOiB7XG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdFx0aWYgKCAhc3VwcG9ydC5yYWRpb1ZhbHVlICYmIHZhbHVlID09PSBcInJhZGlvXCIgJiZcblx0XHRcdFx0XHRqUXVlcnkubm9kZU5hbWUoIGVsZW0sIFwiaW5wdXRcIiApICkge1xuXHRcdFx0XHRcdHZhciB2YWwgPSBlbGVtLnZhbHVlO1xuXHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgdmFsdWUgKTtcblx0XHRcdFx0XHRpZiAoIHZhbCApIHtcblx0XHRcdFx0XHRcdGVsZW0udmFsdWUgPSB2YWw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRyZW1vdmVBdHRyOiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0dmFyIG5hbWUsXG5cdFx0XHRpID0gMCxcblx0XHRcdGF0dHJOYW1lcyA9IHZhbHVlICYmIHZhbHVlLm1hdGNoKCBybm90d2hpdGUgKTtcblxuXHRcdGlmICggYXR0ck5hbWVzICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHR3aGlsZSAoICggbmFtZSA9IGF0dHJOYW1lc1sgaSsrIF0gKSApIHtcblx0XHRcdFx0ZWxlbS5yZW1vdmVBdHRyaWJ1dGUoIG5hbWUgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn0gKTtcblxuLy8gSG9va3MgZm9yIGJvb2xlYW4gYXR0cmlidXRlc1xuYm9vbEhvb2sgPSB7XG5cdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBuYW1lICkge1xuXHRcdGlmICggdmFsdWUgPT09IGZhbHNlICkge1xuXG5cdFx0XHQvLyBSZW1vdmUgYm9vbGVhbiBhdHRyaWJ1dGVzIHdoZW4gc2V0IHRvIGZhbHNlXG5cdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggZWxlbSwgbmFtZSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggbmFtZSwgbmFtZSApO1xuXHRcdH1cblx0XHRyZXR1cm4gbmFtZTtcblx0fVxufTtcblxualF1ZXJ5LmVhY2goIGpRdWVyeS5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKCAvXFx3Ky9nICksIGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHR2YXIgZ2V0dGVyID0gYXR0ckhhbmRsZVsgbmFtZSBdIHx8IGpRdWVyeS5maW5kLmF0dHI7XG5cblx0YXR0ckhhbmRsZVsgbmFtZSBdID0gZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdHZhciByZXQsIGhhbmRsZSxcblx0XHRcdGxvd2VyY2FzZU5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cblx0XHRpZiAoICFpc1hNTCApIHtcblxuXHRcdFx0Ly8gQXZvaWQgYW4gaW5maW5pdGUgbG9vcCBieSB0ZW1wb3JhcmlseSByZW1vdmluZyB0aGlzIGZ1bmN0aW9uIGZyb20gdGhlIGdldHRlclxuXHRcdFx0aGFuZGxlID0gYXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdO1xuXHRcdFx0YXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdID0gcmV0O1xuXHRcdFx0cmV0ID0gZ2V0dGVyKCBlbGVtLCBuYW1lLCBpc1hNTCApICE9IG51bGwgP1xuXHRcdFx0XHRsb3dlcmNhc2VOYW1lIDpcblx0XHRcdFx0bnVsbDtcblx0XHRcdGF0dHJIYW5kbGVbIGxvd2VyY2FzZU5hbWUgXSA9IGhhbmRsZTtcblx0XHR9XG5cdFx0cmV0dXJuIHJldDtcblx0fTtcbn0gKTtcblxuXG5cblxudmFyIHJmb2N1c2FibGUgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFxuXHRyY2xpY2thYmxlID0gL14oPzphfGFyZWEpJC9pO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHByb3A6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBqUXVlcnkucHJvcCwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdH0sXG5cblx0cmVtb3ZlUHJvcDogZnVuY3Rpb24oIG5hbWUgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRkZWxldGUgdGhpc1sgalF1ZXJ5LnByb3BGaXhbIG5hbWUgXSB8fCBuYW1lIF07XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0cHJvcDogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdHZhciByZXQsIGhvb2tzLFxuXHRcdFx0blR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuXG5cdFx0Ly8gRG9uJ3QgZ2V0L3NldCBwcm9wZXJ0aWVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlc1xuXHRcdGlmICggblR5cGUgPT09IDMgfHwgblR5cGUgPT09IDggfHwgblR5cGUgPT09IDIgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBuVHlwZSAhPT0gMSB8fCAhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7XG5cblx0XHRcdC8vIEZpeCBuYW1lIGFuZCBhdHRhY2ggaG9va3Ncblx0XHRcdG5hbWUgPSBqUXVlcnkucHJvcEZpeFsgbmFtZSBdIHx8IG5hbWU7XG5cdFx0XHRob29rcyA9IGpRdWVyeS5wcm9wSG9va3NbIG5hbWUgXTtcblx0XHR9XG5cblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRpZiAoIGhvb2tzICYmIFwic2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0KCByZXQgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBuYW1lICkgKSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gKCBlbGVtWyBuYW1lIF0gPSB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgbmFtZSApICkgIT09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblxuXHRcdHJldHVybiBlbGVtWyBuYW1lIF07XG5cdH0sXG5cblx0cHJvcEhvb2tzOiB7XG5cdFx0dGFiSW5kZXg6IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seVxuXHRcdFx0XHQvLyBlbGVtLnRhYkluZGV4IGRvZXNuJ3QgYWx3YXlzIHJldHVybiB0aGVcblx0XHRcdFx0Ly8gY29ycmVjdCB2YWx1ZSB3aGVuIGl0IGhhc24ndCBiZWVuIGV4cGxpY2l0bHkgc2V0XG5cdFx0XHRcdC8vIGh0dHBzOi8vd2ViLmFyY2hpdmUub3JnL3dlYi8yMDE0MTExNjIzMzM0Ny9odHRwOi8vZmx1aWRwcm9qZWN0Lm9yZy9ibG9nLzIwMDgvMDEvMDkvZ2V0dGluZy1zZXR0aW5nLWFuZC1yZW1vdmluZy10YWJpbmRleC12YWx1ZXMtd2l0aC1qYXZhc2NyaXB0L1xuXHRcdFx0XHQvLyBVc2UgcHJvcGVyIGF0dHJpYnV0ZSByZXRyaWV2YWwoIzEyMDcyKVxuXHRcdFx0XHR2YXIgdGFiaW5kZXggPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBcInRhYmluZGV4XCIgKTtcblxuXHRcdFx0XHRyZXR1cm4gdGFiaW5kZXggP1xuXHRcdFx0XHRcdHBhcnNlSW50KCB0YWJpbmRleCwgMTAgKSA6XG5cdFx0XHRcdFx0cmZvY3VzYWJsZS50ZXN0KCBlbGVtLm5vZGVOYW1lICkgfHxcblx0XHRcdFx0XHRcdHJjbGlja2FibGUudGVzdCggZWxlbS5ub2RlTmFtZSApICYmIGVsZW0uaHJlZiA/XG5cdFx0XHRcdFx0XHRcdDAgOlxuXHRcdFx0XHRcdFx0XHQtMTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0cHJvcEZpeDoge1xuXHRcdFwiZm9yXCI6IFwiaHRtbEZvclwiLFxuXHRcdFwiY2xhc3NcIjogXCJjbGFzc05hbWVcIlxuXHR9XG59ICk7XG5cbi8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuLy8gQWNjZXNzaW5nIHRoZSBzZWxlY3RlZEluZGV4IHByb3BlcnR5XG4vLyBmb3JjZXMgdGhlIGJyb3dzZXIgdG8gcmVzcGVjdCBzZXR0aW5nIHNlbGVjdGVkXG4vLyBvbiB0aGUgb3B0aW9uXG4vLyBUaGUgZ2V0dGVyIGVuc3VyZXMgYSBkZWZhdWx0IG9wdGlvbiBpcyBzZWxlY3RlZFxuLy8gd2hlbiBpbiBhbiBvcHRncm91cFxuaWYgKCAhc3VwcG9ydC5vcHRTZWxlY3RlZCApIHtcblx0alF1ZXJ5LnByb3BIb29rcy5zZWxlY3RlZCA9IHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcblx0XHRcdGlmICggcGFyZW50ICYmIHBhcmVudC5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRwYXJlbnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fSxcblx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcblx0XHRcdGlmICggcGFyZW50ICkge1xuXHRcdFx0XHRwYXJlbnQuc2VsZWN0ZWRJbmRleDtcblxuXHRcdFx0XHRpZiAoIHBhcmVudC5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRcdHBhcmVudC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbmpRdWVyeS5lYWNoKCBbXG5cdFwidGFiSW5kZXhcIixcblx0XCJyZWFkT25seVwiLFxuXHRcIm1heExlbmd0aFwiLFxuXHRcImNlbGxTcGFjaW5nXCIsXG5cdFwiY2VsbFBhZGRpbmdcIixcblx0XCJyb3dTcGFuXCIsXG5cdFwiY29sU3BhblwiLFxuXHRcInVzZU1hcFwiLFxuXHRcImZyYW1lQm9yZGVyXCIsXG5cdFwiY29udGVudEVkaXRhYmxlXCJcbl0sIGZ1bmN0aW9uKCkge1xuXHRqUXVlcnkucHJvcEZpeFsgdGhpcy50b0xvd2VyQ2FzZSgpIF0gPSB0aGlzO1xufSApO1xuXG5cblxuXG52YXIgcmNsYXNzID0gL1tcXHRcXHJcXG5cXGZdL2c7XG5cbmZ1bmN0aW9uIGdldENsYXNzKCBlbGVtICkge1xuXHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUgJiYgZWxlbS5nZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIiApIHx8IFwiXCI7XG59XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0YWRkQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHR2YXIgY2xhc3NlcywgZWxlbSwgY3VyLCBjdXJWYWx1ZSwgY2xhenosIGosIGZpbmFsVmFsdWUsXG5cdFx0XHRpID0gMDtcblxuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaiApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuYWRkQ2xhc3MoIHZhbHVlLmNhbGwoIHRoaXMsIGosIGdldENsYXNzKCB0aGlzICkgKSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdGlmICggdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIHZhbHVlICkge1xuXHRcdFx0Y2xhc3NlcyA9IHZhbHVlLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbXTtcblxuXHRcdFx0d2hpbGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkge1xuXHRcdFx0XHRjdXJWYWx1ZSA9IGdldENsYXNzKCBlbGVtICk7XG5cdFx0XHRcdGN1ciA9IGVsZW0ubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0XHQoIFwiIFwiICsgY3VyVmFsdWUgKyBcIiBcIiApLnJlcGxhY2UoIHJjbGFzcywgXCIgXCIgKTtcblxuXHRcdFx0XHRpZiAoIGN1ciApIHtcblx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHR3aGlsZSAoICggY2xhenogPSBjbGFzc2VzWyBqKysgXSApICkge1xuXHRcdFx0XHRcdFx0aWYgKCBjdXIuaW5kZXhPZiggXCIgXCIgKyBjbGF6eiArIFwiIFwiICkgPCAwICkge1xuXHRcdFx0XHRcdFx0XHRjdXIgKz0gY2xhenogKyBcIiBcIjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBPbmx5IGFzc2lnbiBpZiBkaWZmZXJlbnQgdG8gYXZvaWQgdW5uZWVkZWQgcmVuZGVyaW5nLlxuXHRcdFx0XHRcdGZpbmFsVmFsdWUgPSBqUXVlcnkudHJpbSggY3VyICk7XG5cdFx0XHRcdFx0aWYgKCBjdXJWYWx1ZSAhPT0gZmluYWxWYWx1ZSApIHtcblx0XHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBcImNsYXNzXCIsIGZpbmFsVmFsdWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRyZW1vdmVDbGFzczogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBjbGFzc2VzLCBlbGVtLCBjdXIsIGN1clZhbHVlLCBjbGF6eiwgaiwgZmluYWxWYWx1ZSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBqICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5yZW1vdmVDbGFzcyggdmFsdWUuY2FsbCggdGhpcywgaiwgZ2V0Q2xhc3MoIHRoaXMgKSApICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCAhYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiB0aGlzLmF0dHIoIFwiY2xhc3NcIiwgXCJcIiApO1xuXHRcdH1cblxuXHRcdGlmICggdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIHZhbHVlICkge1xuXHRcdFx0Y2xhc3NlcyA9IHZhbHVlLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbXTtcblxuXHRcdFx0d2hpbGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkge1xuXHRcdFx0XHRjdXJWYWx1ZSA9IGdldENsYXNzKCBlbGVtICk7XG5cblx0XHRcdFx0Ly8gVGhpcyBleHByZXNzaW9uIGlzIGhlcmUgZm9yIGJldHRlciBjb21wcmVzc2liaWxpdHkgKHNlZSBhZGRDbGFzcylcblx0XHRcdFx0Y3VyID0gZWxlbS5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0XHRcdCggXCIgXCIgKyBjdXJWYWx1ZSArIFwiIFwiICkucmVwbGFjZSggcmNsYXNzLCBcIiBcIiApO1xuXG5cdFx0XHRcdGlmICggY3VyICkge1xuXHRcdFx0XHRcdGogPSAwO1xuXHRcdFx0XHRcdHdoaWxlICggKCBjbGF6eiA9IGNsYXNzZXNbIGorKyBdICkgKSB7XG5cblx0XHRcdFx0XHRcdC8vIFJlbW92ZSAqYWxsKiBpbnN0YW5jZXNcblx0XHRcdFx0XHRcdHdoaWxlICggY3VyLmluZGV4T2YoIFwiIFwiICsgY2xhenogKyBcIiBcIiApID4gLTEgKSB7XG5cdFx0XHRcdFx0XHRcdGN1ciA9IGN1ci5yZXBsYWNlKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIsIFwiIFwiICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gT25seSBhc3NpZ24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy5cblx0XHRcdFx0XHRmaW5hbFZhbHVlID0galF1ZXJ5LnRyaW0oIGN1ciApO1xuXHRcdFx0XHRcdGlmICggY3VyVmFsdWUgIT09IGZpbmFsVmFsdWUgKSB7XG5cdFx0XHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggXCJjbGFzc1wiLCBmaW5hbFZhbHVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0dG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSwgc3RhdGVWYWwgKSB7XG5cdFx0dmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cblx0XHRpZiAoIHR5cGVvZiBzdGF0ZVZhbCA9PT0gXCJib29sZWFuXCIgJiYgdHlwZSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiBzdGF0ZVZhbCA/IHRoaXMuYWRkQ2xhc3MoIHZhbHVlICkgOiB0aGlzLnJlbW92ZUNsYXNzKCB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkudG9nZ2xlQ2xhc3MoXG5cdFx0XHRcdFx0dmFsdWUuY2FsbCggdGhpcywgaSwgZ2V0Q2xhc3MoIHRoaXMgKSwgc3RhdGVWYWwgKSxcblx0XHRcdFx0XHRzdGF0ZVZhbFxuXHRcdFx0XHQpO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGNsYXNzTmFtZSwgaSwgc2VsZiwgY2xhc3NOYW1lcztcblxuXHRcdFx0aWYgKCB0eXBlID09PSBcInN0cmluZ1wiICkge1xuXG5cdFx0XHRcdC8vIFRvZ2dsZSBpbmRpdmlkdWFsIGNsYXNzIG5hbWVzXG5cdFx0XHRcdGkgPSAwO1xuXHRcdFx0XHRzZWxmID0galF1ZXJ5KCB0aGlzICk7XG5cdFx0XHRcdGNsYXNzTmFtZXMgPSB2YWx1ZS5tYXRjaCggcm5vdHdoaXRlICkgfHwgW107XG5cblx0XHRcdFx0d2hpbGUgKCAoIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXNbIGkrKyBdICkgKSB7XG5cblx0XHRcdFx0XHQvLyBDaGVjayBlYWNoIGNsYXNzTmFtZSBnaXZlbiwgc3BhY2Ugc2VwYXJhdGVkIGxpc3Rcblx0XHRcdFx0XHRpZiAoIHNlbGYuaGFzQ2xhc3MoIGNsYXNzTmFtZSApICkge1xuXHRcdFx0XHRcdFx0c2VsZi5yZW1vdmVDbGFzcyggY2xhc3NOYW1lICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHNlbGYuYWRkQ2xhc3MoIGNsYXNzTmFtZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHQvLyBUb2dnbGUgd2hvbGUgY2xhc3MgbmFtZVxuXHRcdFx0fSBlbHNlIGlmICggdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB0eXBlID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRcdFx0Y2xhc3NOYW1lID0gZ2V0Q2xhc3MoIHRoaXMgKTtcblx0XHRcdFx0aWYgKCBjbGFzc05hbWUgKSB7XG5cblx0XHRcdFx0XHQvLyBTdG9yZSBjbGFzc05hbWUgaWYgc2V0XG5cdFx0XHRcdFx0ZGF0YVByaXYuc2V0KCB0aGlzLCBcIl9fY2xhc3NOYW1lX19cIiwgY2xhc3NOYW1lICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBJZiB0aGUgZWxlbWVudCBoYXMgYSBjbGFzcyBuYW1lIG9yIGlmIHdlJ3JlIHBhc3NlZCBgZmFsc2VgLFxuXHRcdFx0XHQvLyB0aGVuIHJlbW92ZSB0aGUgd2hvbGUgY2xhc3NuYW1lIChpZiB0aGVyZSB3YXMgb25lLCB0aGUgYWJvdmUgc2F2ZWQgaXQpLlxuXHRcdFx0XHQvLyBPdGhlcndpc2UgYnJpbmcgYmFjayB3aGF0ZXZlciB3YXMgcHJldmlvdXNseSBzYXZlZCAoaWYgYW55dGhpbmcpLFxuXHRcdFx0XHQvLyBmYWxsaW5nIGJhY2sgdG8gdGhlIGVtcHR5IHN0cmluZyBpZiBub3RoaW5nIHdhcyBzdG9yZWQuXG5cdFx0XHRcdGlmICggdGhpcy5zZXRBdHRyaWJ1dGUgKSB7XG5cdFx0XHRcdFx0dGhpcy5zZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIixcblx0XHRcdFx0XHRcdGNsYXNzTmFtZSB8fCB2YWx1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0XHRcdFx0XCJcIiA6XG5cdFx0XHRcdFx0XHRkYXRhUHJpdi5nZXQoIHRoaXMsIFwiX19jbGFzc05hbWVfX1wiICkgfHwgXCJcIlxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0aGFzQ2xhc3M6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR2YXIgY2xhc3NOYW1lLCBlbGVtLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRjbGFzc05hbWUgPSBcIiBcIiArIHNlbGVjdG9yICsgXCIgXCI7XG5cdFx0d2hpbGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkge1xuXHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdCggXCIgXCIgKyBnZXRDbGFzcyggZWxlbSApICsgXCIgXCIgKS5yZXBsYWNlKCByY2xhc3MsIFwiIFwiIClcblx0XHRcdFx0XHQuaW5kZXhPZiggY2xhc3NOYW1lICkgPiAtMVxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufSApO1xuXG5cblxuXG52YXIgcnJldHVybiA9IC9cXHIvZyxcblx0cnNwYWNlcyA9IC9bXFx4MjBcXHRcXHJcXG5cXGZdKy9nO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHZhbDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBob29rcywgcmV0LCBpc0Z1bmN0aW9uLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXTtcblxuXHRcdGlmICggIWFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRcdGhvb2tzID0galF1ZXJ5LnZhbEhvb2tzWyBlbGVtLnR5cGUgXSB8fFxuXHRcdFx0XHRcdGpRdWVyeS52YWxIb29rc1sgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIF07XG5cblx0XHRcdFx0aWYgKCBob29rcyAmJlxuXHRcdFx0XHRcdFwiZ2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0XHQoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgXCJ2YWx1ZVwiICkgKSAhPT0gdW5kZWZpbmVkXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXQgPSBlbGVtLnZhbHVlO1xuXG5cdFx0XHRcdHJldHVybiB0eXBlb2YgcmV0ID09PSBcInN0cmluZ1wiID9cblxuXHRcdFx0XHRcdC8vIEhhbmRsZSBtb3N0IGNvbW1vbiBzdHJpbmcgY2FzZXNcblx0XHRcdFx0XHRyZXQucmVwbGFjZSggcnJldHVybiwgXCJcIiApIDpcblxuXHRcdFx0XHRcdC8vIEhhbmRsZSBjYXNlcyB3aGVyZSB2YWx1ZSBpcyBudWxsL3VuZGVmIG9yIG51bWJlclxuXHRcdFx0XHRcdHJldCA9PSBudWxsID8gXCJcIiA6IHJldDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlzRnVuY3Rpb24gPSBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKTtcblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0dmFyIHZhbDtcblxuXHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlICE9PSAxICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaXNGdW5jdGlvbiApIHtcblx0XHRcdFx0dmFsID0gdmFsdWUuY2FsbCggdGhpcywgaSwgalF1ZXJ5KCB0aGlzICkudmFsKCkgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhbCA9IHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUcmVhdCBudWxsL3VuZGVmaW5lZCBhcyBcIlwiOyBjb252ZXJ0IG51bWJlcnMgdG8gc3RyaW5nXG5cdFx0XHRpZiAoIHZhbCA9PSBudWxsICkge1xuXHRcdFx0XHR2YWwgPSBcIlwiO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCB0eXBlb2YgdmFsID09PSBcIm51bWJlclwiICkge1xuXHRcdFx0XHR2YWwgKz0gXCJcIjtcblxuXHRcdFx0fSBlbHNlIGlmICggalF1ZXJ5LmlzQXJyYXkoIHZhbCApICkge1xuXHRcdFx0XHR2YWwgPSBqUXVlcnkubWFwKCB2YWwsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSArIFwiXCI7XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblxuXHRcdFx0aG9va3MgPSBqUXVlcnkudmFsSG9va3NbIHRoaXMudHlwZSBdIHx8IGpRdWVyeS52YWxIb29rc1sgdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIF07XG5cblx0XHRcdC8vIElmIHNldCByZXR1cm5zIHVuZGVmaW5lZCwgZmFsbCBiYWNrIHRvIG5vcm1hbCBzZXR0aW5nXG5cdFx0XHRpZiAoICFob29rcyB8fCAhKCBcInNldFwiIGluIGhvb2tzICkgfHwgaG9va3Muc2V0KCB0aGlzLCB2YWwsIFwidmFsdWVcIiApID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHRoaXMudmFsdWUgPSB2YWw7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0dmFsSG9va3M6IHtcblx0XHRvcHRpb246IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdFx0dmFyIHZhbCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIFwidmFsdWVcIiApO1xuXHRcdFx0XHRyZXR1cm4gdmFsICE9IG51bGwgP1xuXHRcdFx0XHRcdHZhbCA6XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTEwIC0gMTEgb25seVxuXHRcdFx0XHRcdC8vIG9wdGlvbi50ZXh0IHRocm93cyBleGNlcHRpb25zICgjMTQ2ODYsICMxNDg1OClcblx0XHRcdFx0XHQvLyBTdHJpcCBhbmQgY29sbGFwc2Ugd2hpdGVzcGFjZVxuXHRcdFx0XHRcdC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI3N0cmlwLWFuZC1jb2xsYXBzZS13aGl0ZXNwYWNlXG5cdFx0XHRcdFx0alF1ZXJ5LnRyaW0oIGpRdWVyeS50ZXh0KCBlbGVtICkgKS5yZXBsYWNlKCByc3BhY2VzLCBcIiBcIiApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0c2VsZWN0OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgdmFsdWUsIG9wdGlvbixcblx0XHRcdFx0XHRvcHRpb25zID0gZWxlbS5vcHRpb25zLFxuXHRcdFx0XHRcdGluZGV4ID0gZWxlbS5zZWxlY3RlZEluZGV4LFxuXHRcdFx0XHRcdG9uZSA9IGVsZW0udHlwZSA9PT0gXCJzZWxlY3Qtb25lXCIsXG5cdFx0XHRcdFx0dmFsdWVzID0gb25lID8gbnVsbCA6IFtdLFxuXHRcdFx0XHRcdG1heCA9IG9uZSA/IGluZGV4ICsgMSA6IG9wdGlvbnMubGVuZ3RoLFxuXHRcdFx0XHRcdGkgPSBpbmRleCA8IDAgP1xuXHRcdFx0XHRcdFx0bWF4IDpcblx0XHRcdFx0XHRcdG9uZSA/IGluZGV4IDogMDtcblxuXHRcdFx0XHQvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBzZWxlY3RlZCBvcHRpb25zXG5cdFx0XHRcdGZvciAoIDsgaSA8IG1heDsgaSsrICkge1xuXHRcdFx0XHRcdG9wdGlvbiA9IG9wdGlvbnNbIGkgXTtcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdFx0XHRcdFx0Ly8gSUU4LTkgZG9lc24ndCB1cGRhdGUgc2VsZWN0ZWQgYWZ0ZXIgZm9ybSByZXNldCAoIzI1NTEpXG5cdFx0XHRcdFx0aWYgKCAoIG9wdGlvbi5zZWxlY3RlZCB8fCBpID09PSBpbmRleCApICYmXG5cblx0XHRcdFx0XHRcdFx0Ly8gRG9uJ3QgcmV0dXJuIG9wdGlvbnMgdGhhdCBhcmUgZGlzYWJsZWQgb3IgaW4gYSBkaXNhYmxlZCBvcHRncm91cFxuXHRcdFx0XHRcdFx0XHQhb3B0aW9uLmRpc2FibGVkICYmXG5cdFx0XHRcdFx0XHRcdCggIW9wdGlvbi5wYXJlbnROb2RlLmRpc2FibGVkIHx8XG5cdFx0XHRcdFx0XHRcdFx0IWpRdWVyeS5ub2RlTmFtZSggb3B0aW9uLnBhcmVudE5vZGUsIFwib3B0Z3JvdXBcIiApICkgKSB7XG5cblx0XHRcdFx0XHRcdC8vIEdldCB0aGUgc3BlY2lmaWMgdmFsdWUgZm9yIHRoZSBvcHRpb25cblx0XHRcdFx0XHRcdHZhbHVlID0galF1ZXJ5KCBvcHRpb24gKS52YWwoKTtcblxuXHRcdFx0XHRcdFx0Ly8gV2UgZG9uJ3QgbmVlZCBhbiBhcnJheSBmb3Igb25lIHNlbGVjdHNcblx0XHRcdFx0XHRcdGlmICggb25lICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIE11bHRpLVNlbGVjdHMgcmV0dXJuIGFuIGFycmF5XG5cdFx0XHRcdFx0XHR2YWx1ZXMucHVzaCggdmFsdWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdmFsdWVzO1xuXHRcdFx0fSxcblxuXHRcdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0XHRcdHZhciBvcHRpb25TZXQsIG9wdGlvbixcblx0XHRcdFx0XHRvcHRpb25zID0gZWxlbS5vcHRpb25zLFxuXHRcdFx0XHRcdHZhbHVlcyA9IGpRdWVyeS5tYWtlQXJyYXkoIHZhbHVlICksXG5cdFx0XHRcdFx0aSA9IG9wdGlvbnMubGVuZ3RoO1xuXG5cdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdG9wdGlvbiA9IG9wdGlvbnNbIGkgXTtcblxuXHRcdFx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbmQtYXNzaWduICovXG5cblx0XHRcdFx0XHRpZiAoIG9wdGlvbi5zZWxlY3RlZCA9XG5cdFx0XHRcdFx0XHRqUXVlcnkuaW5BcnJheSggalF1ZXJ5LnZhbEhvb2tzLm9wdGlvbi5nZXQoIG9wdGlvbiApLCB2YWx1ZXMgKSA+IC0xXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRvcHRpb25TZXQgPSB0cnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8qIGVzbGludC1lbmFibGUgbm8tY29uZC1hc3NpZ24gKi9cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEZvcmNlIGJyb3dzZXJzIHRvIGJlaGF2ZSBjb25zaXN0ZW50bHkgd2hlbiBub24tbWF0Y2hpbmcgdmFsdWUgaXMgc2V0XG5cdFx0XHRcdGlmICggIW9wdGlvblNldCApIHtcblx0XHRcdFx0XHRlbGVtLnNlbGVjdGVkSW5kZXggPSAtMTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdmFsdWVzO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG4vLyBSYWRpb3MgYW5kIGNoZWNrYm94ZXMgZ2V0dGVyL3NldHRlclxualF1ZXJ5LmVhY2goIFsgXCJyYWRpb1wiLCBcImNoZWNrYm94XCIgXSwgZnVuY3Rpb24oKSB7XG5cdGpRdWVyeS52YWxIb29rc1sgdGhpcyBdID0ge1xuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0aWYgKCBqUXVlcnkuaXNBcnJheSggdmFsdWUgKSApIHtcblx0XHRcdFx0cmV0dXJuICggZWxlbS5jaGVja2VkID0galF1ZXJ5LmluQXJyYXkoIGpRdWVyeSggZWxlbSApLnZhbCgpLCB2YWx1ZSApID4gLTEgKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdGlmICggIXN1cHBvcnQuY2hlY2tPbiApIHtcblx0XHRqUXVlcnkudmFsSG9va3NbIHRoaXMgXS5nZXQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiICkgPT09IG51bGwgPyBcIm9uXCIgOiBlbGVtLnZhbHVlO1xuXHRcdH07XG5cdH1cbn0gKTtcblxuXG5cblxuLy8gUmV0dXJuIGpRdWVyeSBmb3IgYXR0cmlidXRlcy1vbmx5IGluY2x1c2lvblxuXG5cbnZhciByZm9jdXNNb3JwaCA9IC9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLztcblxualF1ZXJ5LmV4dGVuZCggalF1ZXJ5LmV2ZW50LCB7XG5cblx0dHJpZ2dlcjogZnVuY3Rpb24oIGV2ZW50LCBkYXRhLCBlbGVtLCBvbmx5SGFuZGxlcnMgKSB7XG5cblx0XHR2YXIgaSwgY3VyLCB0bXAsIGJ1YmJsZVR5cGUsIG9udHlwZSwgaGFuZGxlLCBzcGVjaWFsLFxuXHRcdFx0ZXZlbnRQYXRoID0gWyBlbGVtIHx8IGRvY3VtZW50IF0sXG5cdFx0XHR0eXBlID0gaGFzT3duLmNhbGwoIGV2ZW50LCBcInR5cGVcIiApID8gZXZlbnQudHlwZSA6IGV2ZW50LFxuXHRcdFx0bmFtZXNwYWNlcyA9IGhhc093bi5jYWxsKCBldmVudCwgXCJuYW1lc3BhY2VcIiApID8gZXZlbnQubmFtZXNwYWNlLnNwbGl0KCBcIi5cIiApIDogW107XG5cblx0XHRjdXIgPSB0bXAgPSBlbGVtID0gZWxlbSB8fCBkb2N1bWVudDtcblxuXHRcdC8vIERvbid0IGRvIGV2ZW50cyBvbiB0ZXh0IGFuZCBjb21tZW50IG5vZGVzXG5cdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gZm9jdXMvYmx1ciBtb3JwaHMgdG8gZm9jdXNpbi9vdXQ7IGVuc3VyZSB3ZSdyZSBub3QgZmlyaW5nIHRoZW0gcmlnaHQgbm93XG5cdFx0aWYgKCByZm9jdXNNb3JwaC50ZXN0KCB0eXBlICsgalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggdHlwZS5pbmRleE9mKCBcIi5cIiApID4gLTEgKSB7XG5cblx0XHRcdC8vIE5hbWVzcGFjZWQgdHJpZ2dlcjsgY3JlYXRlIGEgcmVnZXhwIHRvIG1hdGNoIGV2ZW50IHR5cGUgaW4gaGFuZGxlKClcblx0XHRcdG5hbWVzcGFjZXMgPSB0eXBlLnNwbGl0KCBcIi5cIiApO1xuXHRcdFx0dHlwZSA9IG5hbWVzcGFjZXMuc2hpZnQoKTtcblx0XHRcdG5hbWVzcGFjZXMuc29ydCgpO1xuXHRcdH1cblx0XHRvbnR5cGUgPSB0eXBlLmluZGV4T2YoIFwiOlwiICkgPCAwICYmIFwib25cIiArIHR5cGU7XG5cblx0XHQvLyBDYWxsZXIgY2FuIHBhc3MgaW4gYSBqUXVlcnkuRXZlbnQgb2JqZWN0LCBPYmplY3QsIG9yIGp1c3QgYW4gZXZlbnQgdHlwZSBzdHJpbmdcblx0XHRldmVudCA9IGV2ZW50WyBqUXVlcnkuZXhwYW5kbyBdID9cblx0XHRcdGV2ZW50IDpcblx0XHRcdG5ldyBqUXVlcnkuRXZlbnQoIHR5cGUsIHR5cGVvZiBldmVudCA9PT0gXCJvYmplY3RcIiAmJiBldmVudCApO1xuXG5cdFx0Ly8gVHJpZ2dlciBiaXRtYXNrOiAmIDEgZm9yIG5hdGl2ZSBoYW5kbGVyczsgJiAyIGZvciBqUXVlcnkgKGFsd2F5cyB0cnVlKVxuXHRcdGV2ZW50LmlzVHJpZ2dlciA9IG9ubHlIYW5kbGVycyA/IDIgOiAzO1xuXHRcdGV2ZW50Lm5hbWVzcGFjZSA9IG5hbWVzcGFjZXMuam9pbiggXCIuXCIgKTtcblx0XHRldmVudC5ybmFtZXNwYWNlID0gZXZlbnQubmFtZXNwYWNlID9cblx0XHRcdG5ldyBSZWdFeHAoIFwiKF58XFxcXC4pXCIgKyBuYW1lc3BhY2VzLmpvaW4oIFwiXFxcXC4oPzouKlxcXFwufClcIiApICsgXCIoXFxcXC58JClcIiApIDpcblx0XHRcdG51bGw7XG5cblx0XHQvLyBDbGVhbiB1cCB0aGUgZXZlbnQgaW4gY2FzZSBpdCBpcyBiZWluZyByZXVzZWRcblx0XHRldmVudC5yZXN1bHQgPSB1bmRlZmluZWQ7XG5cdFx0aWYgKCAhZXZlbnQudGFyZ2V0ICkge1xuXHRcdFx0ZXZlbnQudGFyZ2V0ID0gZWxlbTtcblx0XHR9XG5cblx0XHQvLyBDbG9uZSBhbnkgaW5jb21pbmcgZGF0YSBhbmQgcHJlcGVuZCB0aGUgZXZlbnQsIGNyZWF0aW5nIHRoZSBoYW5kbGVyIGFyZyBsaXN0XG5cdFx0ZGF0YSA9IGRhdGEgPT0gbnVsbCA/XG5cdFx0XHRbIGV2ZW50IF0gOlxuXHRcdFx0alF1ZXJ5Lm1ha2VBcnJheSggZGF0YSwgWyBldmVudCBdICk7XG5cblx0XHQvLyBBbGxvdyBzcGVjaWFsIGV2ZW50cyB0byBkcmF3IG91dHNpZGUgdGhlIGxpbmVzXG5cdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cdFx0aWYgKCAhb25seUhhbmRsZXJzICYmIHNwZWNpYWwudHJpZ2dlciAmJiBzcGVjaWFsLnRyaWdnZXIuYXBwbHkoIGVsZW0sIGRhdGEgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZXJtaW5lIGV2ZW50IHByb3BhZ2F0aW9uIHBhdGggaW4gYWR2YW5jZSwgcGVyIFczQyBldmVudHMgc3BlYyAoIzk5NTEpXG5cdFx0Ly8gQnViYmxlIHVwIHRvIGRvY3VtZW50LCB0aGVuIHRvIHdpbmRvdzsgd2F0Y2ggZm9yIGEgZ2xvYmFsIG93bmVyRG9jdW1lbnQgdmFyICgjOTcyNClcblx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgIXNwZWNpYWwubm9CdWJibGUgJiYgIWpRdWVyeS5pc1dpbmRvdyggZWxlbSApICkge1xuXG5cdFx0XHRidWJibGVUeXBlID0gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgfHwgdHlwZTtcblx0XHRcdGlmICggIXJmb2N1c01vcnBoLnRlc3QoIGJ1YmJsZVR5cGUgKyB0eXBlICkgKSB7XG5cdFx0XHRcdGN1ciA9IGN1ci5wYXJlbnROb2RlO1xuXHRcdFx0fVxuXHRcdFx0Zm9yICggOyBjdXI7IGN1ciA9IGN1ci5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRldmVudFBhdGgucHVzaCggY3VyICk7XG5cdFx0XHRcdHRtcCA9IGN1cjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gT25seSBhZGQgd2luZG93IGlmIHdlIGdvdCB0byBkb2N1bWVudCAoZS5nLiwgbm90IHBsYWluIG9iaiBvciBkZXRhY2hlZCBET00pXG5cdFx0XHRpZiAoIHRtcCA9PT0gKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZG9jdW1lbnQgKSApIHtcblx0XHRcdFx0ZXZlbnRQYXRoLnB1c2goIHRtcC5kZWZhdWx0VmlldyB8fCB0bXAucGFyZW50V2luZG93IHx8IHdpbmRvdyApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEZpcmUgaGFuZGxlcnMgb24gdGhlIGV2ZW50IHBhdGhcblx0XHRpID0gMDtcblx0XHR3aGlsZSAoICggY3VyID0gZXZlbnRQYXRoWyBpKysgXSApICYmICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXG5cdFx0XHRldmVudC50eXBlID0gaSA+IDEgP1xuXHRcdFx0XHRidWJibGVUeXBlIDpcblx0XHRcdFx0c3BlY2lhbC5iaW5kVHlwZSB8fCB0eXBlO1xuXG5cdFx0XHQvLyBqUXVlcnkgaGFuZGxlclxuXHRcdFx0aGFuZGxlID0gKCBkYXRhUHJpdi5nZXQoIGN1ciwgXCJldmVudHNcIiApIHx8IHt9IClbIGV2ZW50LnR5cGUgXSAmJlxuXHRcdFx0XHRkYXRhUHJpdi5nZXQoIGN1ciwgXCJoYW5kbGVcIiApO1xuXHRcdFx0aWYgKCBoYW5kbGUgKSB7XG5cdFx0XHRcdGhhbmRsZS5hcHBseSggY3VyLCBkYXRhICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE5hdGl2ZSBoYW5kbGVyXG5cdFx0XHRoYW5kbGUgPSBvbnR5cGUgJiYgY3VyWyBvbnR5cGUgXTtcblx0XHRcdGlmICggaGFuZGxlICYmIGhhbmRsZS5hcHBseSAmJiBhY2NlcHREYXRhKCBjdXIgKSApIHtcblx0XHRcdFx0ZXZlbnQucmVzdWx0ID0gaGFuZGxlLmFwcGx5KCBjdXIsIGRhdGEgKTtcblx0XHRcdFx0aWYgKCBldmVudC5yZXN1bHQgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0ZXZlbnQudHlwZSA9IHR5cGU7XG5cblx0XHQvLyBJZiBub2JvZHkgcHJldmVudGVkIHRoZSBkZWZhdWx0IGFjdGlvbiwgZG8gaXQgbm93XG5cdFx0aWYgKCAhb25seUhhbmRsZXJzICYmICFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHtcblxuXHRcdFx0aWYgKCAoICFzcGVjaWFsLl9kZWZhdWx0IHx8XG5cdFx0XHRcdHNwZWNpYWwuX2RlZmF1bHQuYXBwbHkoIGV2ZW50UGF0aC5wb3AoKSwgZGF0YSApID09PSBmYWxzZSApICYmXG5cdFx0XHRcdGFjY2VwdERhdGEoIGVsZW0gKSApIHtcblxuXHRcdFx0XHQvLyBDYWxsIGEgbmF0aXZlIERPTSBtZXRob2Qgb24gdGhlIHRhcmdldCB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgdGhlIGV2ZW50LlxuXHRcdFx0XHQvLyBEb24ndCBkbyBkZWZhdWx0IGFjdGlvbnMgb24gd2luZG93LCB0aGF0J3Mgd2hlcmUgZ2xvYmFsIHZhcmlhYmxlcyBiZSAoIzYxNzApXG5cdFx0XHRcdGlmICggb250eXBlICYmIGpRdWVyeS5pc0Z1bmN0aW9uKCBlbGVtWyB0eXBlIF0gKSAmJiAhalF1ZXJ5LmlzV2luZG93KCBlbGVtICkgKSB7XG5cblx0XHRcdFx0XHQvLyBEb24ndCByZS10cmlnZ2VyIGFuIG9uRk9PIGV2ZW50IHdoZW4gd2UgY2FsbCBpdHMgRk9PKCkgbWV0aG9kXG5cdFx0XHRcdFx0dG1wID0gZWxlbVsgb250eXBlIF07XG5cblx0XHRcdFx0XHRpZiAoIHRtcCApIHtcblx0XHRcdFx0XHRcdGVsZW1bIG9udHlwZSBdID0gbnVsbDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBQcmV2ZW50IHJlLXRyaWdnZXJpbmcgb2YgdGhlIHNhbWUgZXZlbnQsIHNpbmNlIHdlIGFscmVhZHkgYnViYmxlZCBpdCBhYm92ZVxuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB0eXBlO1xuXHRcdFx0XHRcdGVsZW1bIHR5cGUgXSgpO1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoIHRtcCApIHtcblx0XHRcdFx0XHRcdGVsZW1bIG9udHlwZSBdID0gdG1wO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBldmVudC5yZXN1bHQ7XG5cdH0sXG5cblx0Ly8gUGlnZ3liYWNrIG9uIGEgZG9ub3IgZXZlbnQgdG8gc2ltdWxhdGUgYSBkaWZmZXJlbnQgb25lXG5cdC8vIFVzZWQgb25seSBmb3IgYGZvY3VzKGluIHwgb3V0KWAgZXZlbnRzXG5cdHNpbXVsYXRlOiBmdW5jdGlvbiggdHlwZSwgZWxlbSwgZXZlbnQgKSB7XG5cdFx0dmFyIGUgPSBqUXVlcnkuZXh0ZW5kKFxuXHRcdFx0bmV3IGpRdWVyeS5FdmVudCgpLFxuXHRcdFx0ZXZlbnQsXG5cdFx0XHR7XG5cdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdGlzU2ltdWxhdGVkOiB0cnVlXG5cdFx0XHR9XG5cdFx0KTtcblxuXHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBlLCBudWxsLCBlbGVtICk7XG5cdH1cblxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cblx0dHJpZ2dlcjogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggdHlwZSwgZGF0YSwgdGhpcyApO1xuXHRcdH0gKTtcblx0fSxcblx0dHJpZ2dlckhhbmRsZXI6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdHZhciBlbGVtID0gdGhpc1sgMCBdO1xuXHRcdGlmICggZWxlbSApIHtcblx0XHRcdHJldHVybiBqUXVlcnkuZXZlbnQudHJpZ2dlciggdHlwZSwgZGF0YSwgZWxlbSwgdHJ1ZSApO1xuXHRcdH1cblx0fVxufSApO1xuXG5cbmpRdWVyeS5lYWNoKCAoIFwiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgXCIgK1xuXHRcIm1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIFwiICtcblx0XCJjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGNvbnRleHRtZW51XCIgKS5zcGxpdCggXCIgXCIgKSxcblx0ZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cblx0Ly8gSGFuZGxlIGV2ZW50IGJpbmRpbmdcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggZGF0YSwgZm4gKSB7XG5cdFx0cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAwID9cblx0XHRcdHRoaXMub24oIG5hbWUsIG51bGwsIGRhdGEsIGZuICkgOlxuXHRcdFx0dGhpcy50cmlnZ2VyKCBuYW1lICk7XG5cdH07XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0aG92ZXI6IGZ1bmN0aW9uKCBmbk92ZXIsIGZuT3V0ICkge1xuXHRcdHJldHVybiB0aGlzLm1vdXNlZW50ZXIoIGZuT3ZlciApLm1vdXNlbGVhdmUoIGZuT3V0IHx8IGZuT3ZlciApO1xuXHR9XG59ICk7XG5cblxuXG5cbnN1cHBvcnQuZm9jdXNpbiA9IFwib25mb2N1c2luXCIgaW4gd2luZG93O1xuXG5cbi8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00NFxuLy8gRmlyZWZveCBkb2Vzbid0IGhhdmUgZm9jdXMoaW4gfCBvdXQpIGV2ZW50c1xuLy8gUmVsYXRlZCB0aWNrZXQgLSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02ODc3ODdcbi8vXG4vLyBTdXBwb3J0OiBDaHJvbWUgPD00OCAtIDQ5LCBTYWZhcmkgPD05LjAgLSA5LjFcbi8vIGZvY3VzKGluIHwgb3V0KSBldmVudHMgZmlyZSBhZnRlciBmb2N1cyAmIGJsdXIgZXZlbnRzLFxuLy8gd2hpY2ggaXMgc3BlYyB2aW9sYXRpb24gLSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvI2V2ZW50cy1mb2N1c2V2ZW50LWV2ZW50LW9yZGVyXG4vLyBSZWxhdGVkIHRpY2tldCAtIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ0OTg1N1xuaWYgKCAhc3VwcG9ydC5mb2N1c2luICkge1xuXHRqUXVlcnkuZWFjaCggeyBmb2N1czogXCJmb2N1c2luXCIsIGJsdXI6IFwiZm9jdXNvdXRcIiB9LCBmdW5jdGlvbiggb3JpZywgZml4ICkge1xuXG5cdFx0Ly8gQXR0YWNoIGEgc2luZ2xlIGNhcHR1cmluZyBoYW5kbGVyIG9uIHRoZSBkb2N1bWVudCB3aGlsZSBzb21lb25lIHdhbnRzIGZvY3VzaW4vZm9jdXNvdXRcblx0XHR2YXIgaGFuZGxlciA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdGpRdWVyeS5ldmVudC5zaW11bGF0ZSggZml4LCBldmVudC50YXJnZXQsIGpRdWVyeS5ldmVudC5maXgoIGV2ZW50ICkgKTtcblx0XHR9O1xuXG5cdFx0alF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGZpeCBdID0ge1xuXHRcdFx0c2V0dXA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZG9jID0gdGhpcy5vd25lckRvY3VtZW50IHx8IHRoaXMsXG5cdFx0XHRcdFx0YXR0YWNoZXMgPSBkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4ICk7XG5cblx0XHRcdFx0aWYgKCAhYXR0YWNoZXMgKSB7XG5cdFx0XHRcdFx0ZG9jLmFkZEV2ZW50TGlzdGVuZXIoIG9yaWcsIGhhbmRsZXIsIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4LCAoIGF0dGFjaGVzIHx8IDAgKSArIDEgKTtcblx0XHRcdH0sXG5cdFx0XHR0ZWFyZG93bjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBkb2MgPSB0aGlzLm93bmVyRG9jdW1lbnQgfHwgdGhpcyxcblx0XHRcdFx0XHRhdHRhY2hlcyA9IGRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXggKSAtIDE7XG5cblx0XHRcdFx0aWYgKCAhYXR0YWNoZXMgKSB7XG5cdFx0XHRcdFx0ZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoIG9yaWcsIGhhbmRsZXIsIHRydWUgKTtcblx0XHRcdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGRvYywgZml4ICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4LCBhdHRhY2hlcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fSApO1xufVxudmFyIGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uO1xuXG52YXIgbm9uY2UgPSBqUXVlcnkubm93KCk7XG5cbnZhciBycXVlcnkgPSAoIC9cXD8vICk7XG5cblxuXG4vLyBDcm9zcy1icm93c2VyIHhtbCBwYXJzaW5nXG5qUXVlcnkucGFyc2VYTUwgPSBmdW5jdGlvbiggZGF0YSApIHtcblx0dmFyIHhtbDtcblx0aWYgKCAhZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdC8vIFN1cHBvcnQ6IElFIDkgLSAxMSBvbmx5XG5cdC8vIElFIHRocm93cyBvbiBwYXJzZUZyb21TdHJpbmcgd2l0aCBpbnZhbGlkIGlucHV0LlxuXHR0cnkge1xuXHRcdHhtbCA9ICggbmV3IHdpbmRvdy5ET01QYXJzZXIoKSApLnBhcnNlRnJvbVN0cmluZyggZGF0YSwgXCJ0ZXh0L3htbFwiICk7XG5cdH0gY2F0Y2ggKCBlICkge1xuXHRcdHhtbCA9IHVuZGVmaW5lZDtcblx0fVxuXG5cdGlmICggIXhtbCB8fCB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwicGFyc2VyZXJyb3JcIiApLmxlbmd0aCApIHtcblx0XHRqUXVlcnkuZXJyb3IoIFwiSW52YWxpZCBYTUw6IFwiICsgZGF0YSApO1xuXHR9XG5cdHJldHVybiB4bWw7XG59O1xuXG5cbnZhclxuXHRyYnJhY2tldCA9IC9cXFtcXF0kLyxcblx0ckNSTEYgPSAvXFxyP1xcbi9nLFxuXHRyc3VibWl0dGVyVHlwZXMgPSAvXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksXG5cdHJzdWJtaXR0YWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtcblxuZnVuY3Rpb24gYnVpbGRQYXJhbXMoIHByZWZpeCwgb2JqLCB0cmFkaXRpb25hbCwgYWRkICkge1xuXHR2YXIgbmFtZTtcblxuXHRpZiAoIGpRdWVyeS5pc0FycmF5KCBvYmogKSApIHtcblxuXHRcdC8vIFNlcmlhbGl6ZSBhcnJheSBpdGVtLlxuXHRcdGpRdWVyeS5lYWNoKCBvYmosIGZ1bmN0aW9uKCBpLCB2ICkge1xuXHRcdFx0aWYgKCB0cmFkaXRpb25hbCB8fCByYnJhY2tldC50ZXN0KCBwcmVmaXggKSApIHtcblxuXHRcdFx0XHQvLyBUcmVhdCBlYWNoIGFycmF5IGl0ZW0gYXMgYSBzY2FsYXIuXG5cdFx0XHRcdGFkZCggcHJlZml4LCB2ICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gSXRlbSBpcyBub24tc2NhbGFyIChhcnJheSBvciBvYmplY3QpLCBlbmNvZGUgaXRzIG51bWVyaWMgaW5kZXguXG5cdFx0XHRcdGJ1aWxkUGFyYW1zKFxuXHRcdFx0XHRcdHByZWZpeCArIFwiW1wiICsgKCB0eXBlb2YgdiA9PT0gXCJvYmplY3RcIiAmJiB2ICE9IG51bGwgPyBpIDogXCJcIiApICsgXCJdXCIsXG5cdFx0XHRcdFx0dixcblx0XHRcdFx0XHR0cmFkaXRpb25hbCxcblx0XHRcdFx0XHRhZGRcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9ICk7XG5cblx0fSBlbHNlIGlmICggIXRyYWRpdGlvbmFsICYmIGpRdWVyeS50eXBlKCBvYmogKSA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdC8vIFNlcmlhbGl6ZSBvYmplY3QgaXRlbS5cblx0XHRmb3IgKCBuYW1lIGluIG9iaiApIHtcblx0XHRcdGJ1aWxkUGFyYW1zKCBwcmVmaXggKyBcIltcIiArIG5hbWUgKyBcIl1cIiwgb2JqWyBuYW1lIF0sIHRyYWRpdGlvbmFsLCBhZGQgKTtcblx0XHR9XG5cblx0fSBlbHNlIHtcblxuXHRcdC8vIFNlcmlhbGl6ZSBzY2FsYXIgaXRlbS5cblx0XHRhZGQoIHByZWZpeCwgb2JqICk7XG5cdH1cbn1cblxuLy8gU2VyaWFsaXplIGFuIGFycmF5IG9mIGZvcm0gZWxlbWVudHMgb3IgYSBzZXQgb2Zcbi8vIGtleS92YWx1ZXMgaW50byBhIHF1ZXJ5IHN0cmluZ1xualF1ZXJ5LnBhcmFtID0gZnVuY3Rpb24oIGEsIHRyYWRpdGlvbmFsICkge1xuXHR2YXIgcHJlZml4LFxuXHRcdHMgPSBbXSxcblx0XHRhZGQgPSBmdW5jdGlvbigga2V5LCB2YWx1ZU9yRnVuY3Rpb24gKSB7XG5cblx0XHRcdC8vIElmIHZhbHVlIGlzIGEgZnVuY3Rpb24sIGludm9rZSBpdCBhbmQgdXNlIGl0cyByZXR1cm4gdmFsdWVcblx0XHRcdHZhciB2YWx1ZSA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZU9yRnVuY3Rpb24gKSA/XG5cdFx0XHRcdHZhbHVlT3JGdW5jdGlvbigpIDpcblx0XHRcdFx0dmFsdWVPckZ1bmN0aW9uO1xuXG5cdFx0XHRzWyBzLmxlbmd0aCBdID0gZW5jb2RlVVJJQ29tcG9uZW50KCBrZXkgKSArIFwiPVwiICtcblx0XHRcdFx0ZW5jb2RlVVJJQ29tcG9uZW50KCB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICk7XG5cdFx0fTtcblxuXHQvLyBJZiBhbiBhcnJheSB3YXMgcGFzc2VkIGluLCBhc3N1bWUgdGhhdCBpdCBpcyBhbiBhcnJheSBvZiBmb3JtIGVsZW1lbnRzLlxuXHRpZiAoIGpRdWVyeS5pc0FycmF5KCBhICkgfHwgKCBhLmpxdWVyeSAmJiAhalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGEgKSApICkge1xuXG5cdFx0Ly8gU2VyaWFsaXplIHRoZSBmb3JtIGVsZW1lbnRzXG5cdFx0alF1ZXJ5LmVhY2goIGEsIGZ1bmN0aW9uKCkge1xuXHRcdFx0YWRkKCB0aGlzLm5hbWUsIHRoaXMudmFsdWUgKTtcblx0XHR9ICk7XG5cblx0fSBlbHNlIHtcblxuXHRcdC8vIElmIHRyYWRpdGlvbmFsLCBlbmNvZGUgdGhlIFwib2xkXCIgd2F5ICh0aGUgd2F5IDEuMy4yIG9yIG9sZGVyXG5cdFx0Ly8gZGlkIGl0KSwgb3RoZXJ3aXNlIGVuY29kZSBwYXJhbXMgcmVjdXJzaXZlbHkuXG5cdFx0Zm9yICggcHJlZml4IGluIGEgKSB7XG5cdFx0XHRidWlsZFBhcmFtcyggcHJlZml4LCBhWyBwcmVmaXggXSwgdHJhZGl0aW9uYWwsIGFkZCApO1xuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgcmVzdWx0aW5nIHNlcmlhbGl6YXRpb25cblx0cmV0dXJuIHMuam9pbiggXCImXCIgKTtcbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0c2VyaWFsaXplOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4galF1ZXJ5LnBhcmFtKCB0aGlzLnNlcmlhbGl6ZUFycmF5KCkgKTtcblx0fSxcblx0c2VyaWFsaXplQXJyYXk6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIENhbiBhZGQgcHJvcEhvb2sgZm9yIFwiZWxlbWVudHNcIiB0byBmaWx0ZXIgb3IgYWRkIGZvcm0gZWxlbWVudHNcblx0XHRcdHZhciBlbGVtZW50cyA9IGpRdWVyeS5wcm9wKCB0aGlzLCBcImVsZW1lbnRzXCIgKTtcblx0XHRcdHJldHVybiBlbGVtZW50cyA/IGpRdWVyeS5tYWtlQXJyYXkoIGVsZW1lbnRzICkgOiB0aGlzO1xuXHRcdH0gKVxuXHRcdC5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHR5cGUgPSB0aGlzLnR5cGU7XG5cblx0XHRcdC8vIFVzZSAuaXMoIFwiOmRpc2FibGVkXCIgKSBzbyB0aGF0IGZpZWxkc2V0W2Rpc2FibGVkXSB3b3Jrc1xuXHRcdFx0cmV0dXJuIHRoaXMubmFtZSAmJiAhalF1ZXJ5KCB0aGlzICkuaXMoIFwiOmRpc2FibGVkXCIgKSAmJlxuXHRcdFx0XHRyc3VibWl0dGFibGUudGVzdCggdGhpcy5ub2RlTmFtZSApICYmICFyc3VibWl0dGVyVHlwZXMudGVzdCggdHlwZSApICYmXG5cdFx0XHRcdCggdGhpcy5jaGVja2VkIHx8ICFyY2hlY2thYmxlVHlwZS50ZXN0KCB0eXBlICkgKTtcblx0XHR9IClcblx0XHQubWFwKCBmdW5jdGlvbiggaSwgZWxlbSApIHtcblx0XHRcdHZhciB2YWwgPSBqUXVlcnkoIHRoaXMgKS52YWwoKTtcblxuXHRcdFx0cmV0dXJuIHZhbCA9PSBudWxsID9cblx0XHRcdFx0bnVsbCA6XG5cdFx0XHRcdGpRdWVyeS5pc0FycmF5KCB2YWwgKSA/XG5cdFx0XHRcdFx0alF1ZXJ5Lm1hcCggdmFsLCBmdW5jdGlvbiggdmFsICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcIlxcclxcblwiICkgfTtcblx0XHRcdFx0XHR9ICkgOlxuXHRcdFx0XHRcdHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcIlxcclxcblwiICkgfTtcblx0XHR9ICkuZ2V0KCk7XG5cdH1cbn0gKTtcblxuXG52YXJcblx0cjIwID0gLyUyMC9nLFxuXHRyaGFzaCA9IC8jLiokLyxcblx0cnRzID0gLyhbPyZdKV89W14mXSovLFxuXHRyaGVhZGVycyA9IC9eKC4qPyk6WyBcXHRdKihbXlxcclxcbl0qKSQvbWcsXG5cblx0Ly8gIzc2NTMsICM4MTI1LCAjODE1MjogbG9jYWwgcHJvdG9jb2wgZGV0ZWN0aW9uXG5cdHJsb2NhbFByb3RvY29sID0gL14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8sXG5cdHJub0NvbnRlbnQgPSAvXig/OkdFVHxIRUFEKSQvLFxuXHRycHJvdG9jb2wgPSAvXlxcL1xcLy8sXG5cblx0LyogUHJlZmlsdGVyc1xuXHQgKiAxKSBUaGV5IGFyZSB1c2VmdWwgdG8gaW50cm9kdWNlIGN1c3RvbSBkYXRhVHlwZXMgKHNlZSBhamF4L2pzb25wLmpzIGZvciBhbiBleGFtcGxlKVxuXHQgKiAyKSBUaGVzZSBhcmUgY2FsbGVkOlxuXHQgKiAgICAtIEJFRk9SRSBhc2tpbmcgZm9yIGEgdHJhbnNwb3J0XG5cdCAqICAgIC0gQUZURVIgcGFyYW0gc2VyaWFsaXphdGlvbiAocy5kYXRhIGlzIGEgc3RyaW5nIGlmIHMucHJvY2Vzc0RhdGEgaXMgdHJ1ZSlcblx0ICogMykga2V5IGlzIHRoZSBkYXRhVHlwZVxuXHQgKiA0KSB0aGUgY2F0Y2hhbGwgc3ltYm9sIFwiKlwiIGNhbiBiZSB1c2VkXG5cdCAqIDUpIGV4ZWN1dGlvbiB3aWxsIHN0YXJ0IHdpdGggdHJhbnNwb3J0IGRhdGFUeXBlIGFuZCBUSEVOIGNvbnRpbnVlIGRvd24gdG8gXCIqXCIgaWYgbmVlZGVkXG5cdCAqL1xuXHRwcmVmaWx0ZXJzID0ge30sXG5cblx0LyogVHJhbnNwb3J0cyBiaW5kaW5nc1xuXHQgKiAxKSBrZXkgaXMgdGhlIGRhdGFUeXBlXG5cdCAqIDIpIHRoZSBjYXRjaGFsbCBzeW1ib2wgXCIqXCIgY2FuIGJlIHVzZWRcblx0ICogMykgc2VsZWN0aW9uIHdpbGwgc3RhcnQgd2l0aCB0cmFuc3BvcnQgZGF0YVR5cGUgYW5kIFRIRU4gZ28gdG8gXCIqXCIgaWYgbmVlZGVkXG5cdCAqL1xuXHR0cmFuc3BvcnRzID0ge30sXG5cblx0Ly8gQXZvaWQgY29tbWVudC1wcm9sb2cgY2hhciBzZXF1ZW5jZSAoIzEwMDk4KTsgbXVzdCBhcHBlYXNlIGxpbnQgYW5kIGV2YWRlIGNvbXByZXNzaW9uXG5cdGFsbFR5cGVzID0gXCIqL1wiLmNvbmNhdCggXCIqXCIgKSxcblxuXHQvLyBBbmNob3IgdGFnIGZvciBwYXJzaW5nIHRoZSBkb2N1bWVudCBvcmlnaW5cblx0b3JpZ2luQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJhXCIgKTtcblx0b3JpZ2luQW5jaG9yLmhyZWYgPSBsb2NhdGlvbi5ocmVmO1xuXG4vLyBCYXNlIFwiY29uc3RydWN0b3JcIiBmb3IgalF1ZXJ5LmFqYXhQcmVmaWx0ZXIgYW5kIGpRdWVyeS5hamF4VHJhbnNwb3J0XG5mdW5jdGlvbiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHN0cnVjdHVyZSApIHtcblxuXHQvLyBkYXRhVHlwZUV4cHJlc3Npb24gaXMgb3B0aW9uYWwgYW5kIGRlZmF1bHRzIHRvIFwiKlwiXG5cdHJldHVybiBmdW5jdGlvbiggZGF0YVR5cGVFeHByZXNzaW9uLCBmdW5jICkge1xuXG5cdFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVFeHByZXNzaW9uICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0ZnVuYyA9IGRhdGFUeXBlRXhwcmVzc2lvbjtcblx0XHRcdGRhdGFUeXBlRXhwcmVzc2lvbiA9IFwiKlwiO1xuXHRcdH1cblxuXHRcdHZhciBkYXRhVHlwZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0ZGF0YVR5cGVzID0gZGF0YVR5cGVFeHByZXNzaW9uLnRvTG93ZXJDYXNlKCkubWF0Y2goIHJub3R3aGl0ZSApIHx8IFtdO1xuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggZnVuYyApICkge1xuXG5cdFx0XHQvLyBGb3IgZWFjaCBkYXRhVHlwZSBpbiB0aGUgZGF0YVR5cGVFeHByZXNzaW9uXG5cdFx0XHR3aGlsZSAoICggZGF0YVR5cGUgPSBkYXRhVHlwZXNbIGkrKyBdICkgKSB7XG5cblx0XHRcdFx0Ly8gUHJlcGVuZCBpZiByZXF1ZXN0ZWRcblx0XHRcdFx0aWYgKCBkYXRhVHlwZVsgMCBdID09PSBcIitcIiApIHtcblx0XHRcdFx0XHRkYXRhVHlwZSA9IGRhdGFUeXBlLnNsaWNlKCAxICkgfHwgXCIqXCI7XG5cdFx0XHRcdFx0KCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gPSBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10gKS51bnNoaWZ0KCBmdW5jICk7XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIGFwcGVuZFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCggc3RydWN0dXJlWyBkYXRhVHlwZSBdID0gc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdICkucHVzaCggZnVuYyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyBCYXNlIGluc3BlY3Rpb24gZnVuY3Rpb24gZm9yIHByZWZpbHRlcnMgYW5kIHRyYW5zcG9ydHNcbmZ1bmN0aW9uIGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBzdHJ1Y3R1cmUsIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucywganFYSFIgKSB7XG5cblx0dmFyIGluc3BlY3RlZCA9IHt9LFxuXHRcdHNlZWtpbmdUcmFuc3BvcnQgPSAoIHN0cnVjdHVyZSA9PT0gdHJhbnNwb3J0cyApO1xuXG5cdGZ1bmN0aW9uIGluc3BlY3QoIGRhdGFUeXBlICkge1xuXHRcdHZhciBzZWxlY3RlZDtcblx0XHRpbnNwZWN0ZWRbIGRhdGFUeXBlIF0gPSB0cnVlO1xuXHRcdGpRdWVyeS5lYWNoKCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10sIGZ1bmN0aW9uKCBfLCBwcmVmaWx0ZXJPckZhY3RvcnkgKSB7XG5cdFx0XHR2YXIgZGF0YVR5cGVPclRyYW5zcG9ydCA9IHByZWZpbHRlck9yRmFjdG9yeSggb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zLCBqcVhIUiApO1xuXHRcdFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVPclRyYW5zcG9ydCA9PT0gXCJzdHJpbmdcIiAmJlxuXHRcdFx0XHQhc2Vla2luZ1RyYW5zcG9ydCAmJiAhaW5zcGVjdGVkWyBkYXRhVHlwZU9yVHJhbnNwb3J0IF0gKSB7XG5cblx0XHRcdFx0b3B0aW9ucy5kYXRhVHlwZXMudW5zaGlmdCggZGF0YVR5cGVPclRyYW5zcG9ydCApO1xuXHRcdFx0XHRpbnNwZWN0KCBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0gZWxzZSBpZiAoIHNlZWtpbmdUcmFuc3BvcnQgKSB7XG5cdFx0XHRcdHJldHVybiAhKCBzZWxlY3RlZCA9IGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdFx0cmV0dXJuIHNlbGVjdGVkO1xuXHR9XG5cblx0cmV0dXJuIGluc3BlY3QoIG9wdGlvbnMuZGF0YVR5cGVzWyAwIF0gKSB8fCAhaW5zcGVjdGVkWyBcIipcIiBdICYmIGluc3BlY3QoIFwiKlwiICk7XG59XG5cbi8vIEEgc3BlY2lhbCBleHRlbmQgZm9yIGFqYXggb3B0aW9uc1xuLy8gdGhhdCB0YWtlcyBcImZsYXRcIiBvcHRpb25zIChub3QgdG8gYmUgZGVlcCBleHRlbmRlZClcbi8vIEZpeGVzICM5ODg3XG5mdW5jdGlvbiBhamF4RXh0ZW5kKCB0YXJnZXQsIHNyYyApIHtcblx0dmFyIGtleSwgZGVlcCxcblx0XHRmbGF0T3B0aW9ucyA9IGpRdWVyeS5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnMgfHwge307XG5cblx0Zm9yICgga2V5IGluIHNyYyApIHtcblx0XHRpZiAoIHNyY1sga2V5IF0gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdCggZmxhdE9wdGlvbnNbIGtleSBdID8gdGFyZ2V0IDogKCBkZWVwIHx8ICggZGVlcCA9IHt9ICkgKSApWyBrZXkgXSA9IHNyY1sga2V5IF07XG5cdFx0fVxuXHR9XG5cdGlmICggZGVlcCApIHtcblx0XHRqUXVlcnkuZXh0ZW5kKCB0cnVlLCB0YXJnZXQsIGRlZXAgKTtcblx0fVxuXG5cdHJldHVybiB0YXJnZXQ7XG59XG5cbi8qIEhhbmRsZXMgcmVzcG9uc2VzIHRvIGFuIGFqYXggcmVxdWVzdDpcbiAqIC0gZmluZHMgdGhlIHJpZ2h0IGRhdGFUeXBlIChtZWRpYXRlcyBiZXR3ZWVuIGNvbnRlbnQtdHlwZSBhbmQgZXhwZWN0ZWQgZGF0YVR5cGUpXG4gKiAtIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgcmVzcG9uc2VcbiAqL1xuZnVuY3Rpb24gYWpheEhhbmRsZVJlc3BvbnNlcyggcywganFYSFIsIHJlc3BvbnNlcyApIHtcblxuXHR2YXIgY3QsIHR5cGUsIGZpbmFsRGF0YVR5cGUsIGZpcnN0RGF0YVR5cGUsXG5cdFx0Y29udGVudHMgPSBzLmNvbnRlbnRzLFxuXHRcdGRhdGFUeXBlcyA9IHMuZGF0YVR5cGVzO1xuXG5cdC8vIFJlbW92ZSBhdXRvIGRhdGFUeXBlIGFuZCBnZXQgY29udGVudC10eXBlIGluIHRoZSBwcm9jZXNzXG5cdHdoaWxlICggZGF0YVR5cGVzWyAwIF0gPT09IFwiKlwiICkge1xuXHRcdGRhdGFUeXBlcy5zaGlmdCgpO1xuXHRcdGlmICggY3QgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGN0ID0gcy5taW1lVHlwZSB8fCBqcVhIUi5nZXRSZXNwb25zZUhlYWRlciggXCJDb250ZW50LVR5cGVcIiApO1xuXHRcdH1cblx0fVxuXG5cdC8vIENoZWNrIGlmIHdlJ3JlIGRlYWxpbmcgd2l0aCBhIGtub3duIGNvbnRlbnQtdHlwZVxuXHRpZiAoIGN0ICkge1xuXHRcdGZvciAoIHR5cGUgaW4gY29udGVudHMgKSB7XG5cdFx0XHRpZiAoIGNvbnRlbnRzWyB0eXBlIF0gJiYgY29udGVudHNbIHR5cGUgXS50ZXN0KCBjdCApICkge1xuXHRcdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggdHlwZSApO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBDaGVjayB0byBzZWUgaWYgd2UgaGF2ZSBhIHJlc3BvbnNlIGZvciB0aGUgZXhwZWN0ZWQgZGF0YVR5cGVcblx0aWYgKCBkYXRhVHlwZXNbIDAgXSBpbiByZXNwb25zZXMgKSB7XG5cdFx0ZmluYWxEYXRhVHlwZSA9IGRhdGFUeXBlc1sgMCBdO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gVHJ5IGNvbnZlcnRpYmxlIGRhdGFUeXBlc1xuXHRcdGZvciAoIHR5cGUgaW4gcmVzcG9uc2VzICkge1xuXHRcdFx0aWYgKCAhZGF0YVR5cGVzWyAwIF0gfHwgcy5jb252ZXJ0ZXJzWyB0eXBlICsgXCIgXCIgKyBkYXRhVHlwZXNbIDAgXSBdICkge1xuXHRcdFx0XHRmaW5hbERhdGFUeXBlID0gdHlwZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRpZiAoICFmaXJzdERhdGFUeXBlICkge1xuXHRcdFx0XHRmaXJzdERhdGFUeXBlID0gdHlwZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBPciBqdXN0IHVzZSBmaXJzdCBvbmVcblx0XHRmaW5hbERhdGFUeXBlID0gZmluYWxEYXRhVHlwZSB8fCBmaXJzdERhdGFUeXBlO1xuXHR9XG5cblx0Ly8gSWYgd2UgZm91bmQgYSBkYXRhVHlwZVxuXHQvLyBXZSBhZGQgdGhlIGRhdGFUeXBlIHRvIHRoZSBsaXN0IGlmIG5lZWRlZFxuXHQvLyBhbmQgcmV0dXJuIHRoZSBjb3JyZXNwb25kaW5nIHJlc3BvbnNlXG5cdGlmICggZmluYWxEYXRhVHlwZSApIHtcblx0XHRpZiAoIGZpbmFsRGF0YVR5cGUgIT09IGRhdGFUeXBlc1sgMCBdICkge1xuXHRcdFx0ZGF0YVR5cGVzLnVuc2hpZnQoIGZpbmFsRGF0YVR5cGUgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3BvbnNlc1sgZmluYWxEYXRhVHlwZSBdO1xuXHR9XG59XG5cbi8qIENoYWluIGNvbnZlcnNpb25zIGdpdmVuIHRoZSByZXF1ZXN0IGFuZCB0aGUgb3JpZ2luYWwgcmVzcG9uc2VcbiAqIEFsc28gc2V0cyB0aGUgcmVzcG9uc2VYWFggZmllbGRzIG9uIHRoZSBqcVhIUiBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBhamF4Q29udmVydCggcywgcmVzcG9uc2UsIGpxWEhSLCBpc1N1Y2Nlc3MgKSB7XG5cdHZhciBjb252MiwgY3VycmVudCwgY29udiwgdG1wLCBwcmV2LFxuXHRcdGNvbnZlcnRlcnMgPSB7fSxcblxuXHRcdC8vIFdvcmsgd2l0aCBhIGNvcHkgb2YgZGF0YVR5cGVzIGluIGNhc2Ugd2UgbmVlZCB0byBtb2RpZnkgaXQgZm9yIGNvbnZlcnNpb25cblx0XHRkYXRhVHlwZXMgPSBzLmRhdGFUeXBlcy5zbGljZSgpO1xuXG5cdC8vIENyZWF0ZSBjb252ZXJ0ZXJzIG1hcCB3aXRoIGxvd2VyY2FzZWQga2V5c1xuXHRpZiAoIGRhdGFUeXBlc1sgMSBdICkge1xuXHRcdGZvciAoIGNvbnYgaW4gcy5jb252ZXJ0ZXJzICkge1xuXHRcdFx0Y29udmVydGVyc1sgY29udi50b0xvd2VyQ2FzZSgpIF0gPSBzLmNvbnZlcnRlcnNbIGNvbnYgXTtcblx0XHR9XG5cdH1cblxuXHRjdXJyZW50ID0gZGF0YVR5cGVzLnNoaWZ0KCk7XG5cblx0Ly8gQ29udmVydCB0byBlYWNoIHNlcXVlbnRpYWwgZGF0YVR5cGVcblx0d2hpbGUgKCBjdXJyZW50ICkge1xuXG5cdFx0aWYgKCBzLnJlc3BvbnNlRmllbGRzWyBjdXJyZW50IF0gKSB7XG5cdFx0XHRqcVhIUlsgcy5yZXNwb25zZUZpZWxkc1sgY3VycmVudCBdIF0gPSByZXNwb25zZTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSB0aGUgZGF0YUZpbHRlciBpZiBwcm92aWRlZFxuXHRcdGlmICggIXByZXYgJiYgaXNTdWNjZXNzICYmIHMuZGF0YUZpbHRlciApIHtcblx0XHRcdHJlc3BvbnNlID0gcy5kYXRhRmlsdGVyKCByZXNwb25zZSwgcy5kYXRhVHlwZSApO1xuXHRcdH1cblxuXHRcdHByZXYgPSBjdXJyZW50O1xuXHRcdGN1cnJlbnQgPSBkYXRhVHlwZXMuc2hpZnQoKTtcblxuXHRcdGlmICggY3VycmVudCApIHtcblxuXHRcdFx0Ly8gVGhlcmUncyBvbmx5IHdvcmsgdG8gZG8gaWYgY3VycmVudCBkYXRhVHlwZSBpcyBub24tYXV0b1xuXHRcdFx0aWYgKCBjdXJyZW50ID09PSBcIipcIiApIHtcblxuXHRcdFx0XHRjdXJyZW50ID0gcHJldjtcblxuXHRcdFx0Ly8gQ29udmVydCByZXNwb25zZSBpZiBwcmV2IGRhdGFUeXBlIGlzIG5vbi1hdXRvIGFuZCBkaWZmZXJzIGZyb20gY3VycmVudFxuXHRcdFx0fSBlbHNlIGlmICggcHJldiAhPT0gXCIqXCIgJiYgcHJldiAhPT0gY3VycmVudCApIHtcblxuXHRcdFx0XHQvLyBTZWVrIGEgZGlyZWN0IGNvbnZlcnRlclxuXHRcdFx0XHRjb252ID0gY29udmVydGVyc1sgcHJldiArIFwiIFwiICsgY3VycmVudCBdIHx8IGNvbnZlcnRlcnNbIFwiKiBcIiArIGN1cnJlbnQgXTtcblxuXHRcdFx0XHQvLyBJZiBub25lIGZvdW5kLCBzZWVrIGEgcGFpclxuXHRcdFx0XHRpZiAoICFjb252ICkge1xuXHRcdFx0XHRcdGZvciAoIGNvbnYyIGluIGNvbnZlcnRlcnMgKSB7XG5cblx0XHRcdFx0XHRcdC8vIElmIGNvbnYyIG91dHB1dHMgY3VycmVudFxuXHRcdFx0XHRcdFx0dG1wID0gY29udjIuc3BsaXQoIFwiIFwiICk7XG5cdFx0XHRcdFx0XHRpZiAoIHRtcFsgMSBdID09PSBjdXJyZW50ICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIElmIHByZXYgY2FuIGJlIGNvbnZlcnRlZCB0byBhY2NlcHRlZCBpbnB1dFxuXHRcdFx0XHRcdFx0XHRjb252ID0gY29udmVydGVyc1sgcHJldiArIFwiIFwiICsgdG1wWyAwIF0gXSB8fFxuXHRcdFx0XHRcdFx0XHRcdGNvbnZlcnRlcnNbIFwiKiBcIiArIHRtcFsgMCBdIF07XG5cdFx0XHRcdFx0XHRcdGlmICggY29udiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIENvbmRlbnNlIGVxdWl2YWxlbmNlIGNvbnZlcnRlcnNcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGNvbnYgPT09IHRydWUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb252ID0gY29udmVydGVyc1sgY29udjIgXTtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIE90aGVyd2lzZSwgaW5zZXJ0IHRoZSBpbnRlcm1lZGlhdGUgZGF0YVR5cGVcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBjb252ZXJ0ZXJzWyBjb252MiBdICE9PSB0cnVlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y3VycmVudCA9IHRtcFsgMCBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGF0YVR5cGVzLnVuc2hpZnQoIHRtcFsgMSBdICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQXBwbHkgY29udmVydGVyIChpZiBub3QgYW4gZXF1aXZhbGVuY2UpXG5cdFx0XHRcdGlmICggY29udiAhPT0gdHJ1ZSApIHtcblxuXHRcdFx0XHRcdC8vIFVubGVzcyBlcnJvcnMgYXJlIGFsbG93ZWQgdG8gYnViYmxlLCBjYXRjaCBhbmQgcmV0dXJuIHRoZW1cblx0XHRcdFx0XHRpZiAoIGNvbnYgJiYgcy50aHJvd3MgKSB7XG5cdFx0XHRcdFx0XHRyZXNwb25zZSA9IGNvbnYoIHJlc3BvbnNlICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdHJlc3BvbnNlID0gY29udiggcmVzcG9uc2UgKTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRcdHN0YXRlOiBcInBhcnNlcmVycm9yXCIsXG5cdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGNvbnYgPyBlIDogXCJObyBjb252ZXJzaW9uIGZyb20gXCIgKyBwcmV2ICsgXCIgdG8gXCIgKyBjdXJyZW50XG5cdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHsgc3RhdGU6IFwic3VjY2Vzc1wiLCBkYXRhOiByZXNwb25zZSB9O1xufVxuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0Ly8gQ291bnRlciBmb3IgaG9sZGluZyB0aGUgbnVtYmVyIG9mIGFjdGl2ZSBxdWVyaWVzXG5cdGFjdGl2ZTogMCxcblxuXHQvLyBMYXN0LU1vZGlmaWVkIGhlYWRlciBjYWNoZSBmb3IgbmV4dCByZXF1ZXN0XG5cdGxhc3RNb2RpZmllZDoge30sXG5cdGV0YWc6IHt9LFxuXG5cdGFqYXhTZXR0aW5nczoge1xuXHRcdHVybDogbG9jYXRpb24uaHJlZixcblx0XHR0eXBlOiBcIkdFVFwiLFxuXHRcdGlzTG9jYWw6IHJsb2NhbFByb3RvY29sLnRlc3QoIGxvY2F0aW9uLnByb3RvY29sICksXG5cdFx0Z2xvYmFsOiB0cnVlLFxuXHRcdHByb2Nlc3NEYXRhOiB0cnVlLFxuXHRcdGFzeW5jOiB0cnVlLFxuXHRcdGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOFwiLFxuXG5cdFx0Lypcblx0XHR0aW1lb3V0OiAwLFxuXHRcdGRhdGE6IG51bGwsXG5cdFx0ZGF0YVR5cGU6IG51bGwsXG5cdFx0dXNlcm5hbWU6IG51bGwsXG5cdFx0cGFzc3dvcmQ6IG51bGwsXG5cdFx0Y2FjaGU6IG51bGwsXG5cdFx0dGhyb3dzOiBmYWxzZSxcblx0XHR0cmFkaXRpb25hbDogZmFsc2UsXG5cdFx0aGVhZGVyczoge30sXG5cdFx0Ki9cblxuXHRcdGFjY2VwdHM6IHtcblx0XHRcdFwiKlwiOiBhbGxUeXBlcyxcblx0XHRcdHRleHQ6IFwidGV4dC9wbGFpblwiLFxuXHRcdFx0aHRtbDogXCJ0ZXh0L2h0bWxcIixcblx0XHRcdHhtbDogXCJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sXCIsXG5cdFx0XHRqc29uOiBcImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdFwiXG5cdFx0fSxcblxuXHRcdGNvbnRlbnRzOiB7XG5cdFx0XHR4bWw6IC9cXGJ4bWxcXGIvLFxuXHRcdFx0aHRtbDogL1xcYmh0bWwvLFxuXHRcdFx0anNvbjogL1xcYmpzb25cXGIvXG5cdFx0fSxcblxuXHRcdHJlc3BvbnNlRmllbGRzOiB7XG5cdFx0XHR4bWw6IFwicmVzcG9uc2VYTUxcIixcblx0XHRcdHRleHQ6IFwicmVzcG9uc2VUZXh0XCIsXG5cdFx0XHRqc29uOiBcInJlc3BvbnNlSlNPTlwiXG5cdFx0fSxcblxuXHRcdC8vIERhdGEgY29udmVydGVyc1xuXHRcdC8vIEtleXMgc2VwYXJhdGUgc291cmNlIChvciBjYXRjaGFsbCBcIipcIikgYW5kIGRlc3RpbmF0aW9uIHR5cGVzIHdpdGggYSBzaW5nbGUgc3BhY2Vcblx0XHRjb252ZXJ0ZXJzOiB7XG5cblx0XHRcdC8vIENvbnZlcnQgYW55dGhpbmcgdG8gdGV4dFxuXHRcdFx0XCIqIHRleHRcIjogU3RyaW5nLFxuXG5cdFx0XHQvLyBUZXh0IHRvIGh0bWwgKHRydWUgPSBubyB0cmFuc2Zvcm1hdGlvbilcblx0XHRcdFwidGV4dCBodG1sXCI6IHRydWUsXG5cblx0XHRcdC8vIEV2YWx1YXRlIHRleHQgYXMgYSBqc29uIGV4cHJlc3Npb25cblx0XHRcdFwidGV4dCBqc29uXCI6IEpTT04ucGFyc2UsXG5cblx0XHRcdC8vIFBhcnNlIHRleHQgYXMgeG1sXG5cdFx0XHRcInRleHQgeG1sXCI6IGpRdWVyeS5wYXJzZVhNTFxuXHRcdH0sXG5cblx0XHQvLyBGb3Igb3B0aW9ucyB0aGF0IHNob3VsZG4ndCBiZSBkZWVwIGV4dGVuZGVkOlxuXHRcdC8vIHlvdSBjYW4gYWRkIHlvdXIgb3duIGN1c3RvbSBvcHRpb25zIGhlcmUgaWZcblx0XHQvLyBhbmQgd2hlbiB5b3UgY3JlYXRlIG9uZSB0aGF0IHNob3VsZG4ndCBiZVxuXHRcdC8vIGRlZXAgZXh0ZW5kZWQgKHNlZSBhamF4RXh0ZW5kKVxuXHRcdGZsYXRPcHRpb25zOiB7XG5cdFx0XHR1cmw6IHRydWUsXG5cdFx0XHRjb250ZXh0OiB0cnVlXG5cdFx0fVxuXHR9LFxuXG5cdC8vIENyZWF0ZXMgYSBmdWxsIGZsZWRnZWQgc2V0dGluZ3Mgb2JqZWN0IGludG8gdGFyZ2V0XG5cdC8vIHdpdGggYm90aCBhamF4U2V0dGluZ3MgYW5kIHNldHRpbmdzIGZpZWxkcy5cblx0Ly8gSWYgdGFyZ2V0IGlzIG9taXR0ZWQsIHdyaXRlcyBpbnRvIGFqYXhTZXR0aW5ncy5cblx0YWpheFNldHVwOiBmdW5jdGlvbiggdGFyZ2V0LCBzZXR0aW5ncyApIHtcblx0XHRyZXR1cm4gc2V0dGluZ3MgP1xuXG5cdFx0XHQvLyBCdWlsZGluZyBhIHNldHRpbmdzIG9iamVjdFxuXHRcdFx0YWpheEV4dGVuZCggYWpheEV4dGVuZCggdGFyZ2V0LCBqUXVlcnkuYWpheFNldHRpbmdzICksIHNldHRpbmdzICkgOlxuXG5cdFx0XHQvLyBFeHRlbmRpbmcgYWpheFNldHRpbmdzXG5cdFx0XHRhamF4RXh0ZW5kKCBqUXVlcnkuYWpheFNldHRpbmdzLCB0YXJnZXQgKTtcblx0fSxcblxuXHRhamF4UHJlZmlsdGVyOiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHByZWZpbHRlcnMgKSxcblx0YWpheFRyYW5zcG9ydDogYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCB0cmFuc3BvcnRzICksXG5cblx0Ly8gTWFpbiBtZXRob2Rcblx0YWpheDogZnVuY3Rpb24oIHVybCwgb3B0aW9ucyApIHtcblxuXHRcdC8vIElmIHVybCBpcyBhbiBvYmplY3QsIHNpbXVsYXRlIHByZS0xLjUgc2lnbmF0dXJlXG5cdFx0aWYgKCB0eXBlb2YgdXJsID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0b3B0aW9ucyA9IHVybDtcblx0XHRcdHVybCA9IHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHQvLyBGb3JjZSBvcHRpb25zIHRvIGJlIGFuIG9iamVjdFxuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdFx0dmFyIHRyYW5zcG9ydCxcblxuXHRcdFx0Ly8gVVJMIHdpdGhvdXQgYW50aS1jYWNoZSBwYXJhbVxuXHRcdFx0Y2FjaGVVUkwsXG5cblx0XHRcdC8vIFJlc3BvbnNlIGhlYWRlcnNcblx0XHRcdHJlc3BvbnNlSGVhZGVyc1N0cmluZyxcblx0XHRcdHJlc3BvbnNlSGVhZGVycyxcblxuXHRcdFx0Ly8gdGltZW91dCBoYW5kbGVcblx0XHRcdHRpbWVvdXRUaW1lcixcblxuXHRcdFx0Ly8gVXJsIGNsZWFudXAgdmFyXG5cdFx0XHR1cmxBbmNob3IsXG5cblx0XHRcdC8vIFJlcXVlc3Qgc3RhdGUgKGJlY29tZXMgZmFsc2UgdXBvbiBzZW5kIGFuZCB0cnVlIHVwb24gY29tcGxldGlvbilcblx0XHRcdGNvbXBsZXRlZCxcblxuXHRcdFx0Ly8gVG8ga25vdyBpZiBnbG9iYWwgZXZlbnRzIGFyZSB0byBiZSBkaXNwYXRjaGVkXG5cdFx0XHRmaXJlR2xvYmFscyxcblxuXHRcdFx0Ly8gTG9vcCB2YXJpYWJsZVxuXHRcdFx0aSxcblxuXHRcdFx0Ly8gdW5jYWNoZWQgcGFydCBvZiB0aGUgdXJsXG5cdFx0XHR1bmNhY2hlZCxcblxuXHRcdFx0Ly8gQ3JlYXRlIHRoZSBmaW5hbCBvcHRpb25zIG9iamVjdFxuXHRcdFx0cyA9IGpRdWVyeS5hamF4U2V0dXAoIHt9LCBvcHRpb25zICksXG5cblx0XHRcdC8vIENhbGxiYWNrcyBjb250ZXh0XG5cdFx0XHRjYWxsYmFja0NvbnRleHQgPSBzLmNvbnRleHQgfHwgcyxcblxuXHRcdFx0Ly8gQ29udGV4dCBmb3IgZ2xvYmFsIGV2ZW50cyBpcyBjYWxsYmFja0NvbnRleHQgaWYgaXQgaXMgYSBET00gbm9kZSBvciBqUXVlcnkgY29sbGVjdGlvblxuXHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0ID0gcy5jb250ZXh0ICYmXG5cdFx0XHRcdCggY2FsbGJhY2tDb250ZXh0Lm5vZGVUeXBlIHx8IGNhbGxiYWNrQ29udGV4dC5qcXVlcnkgKSA/XG5cdFx0XHRcdFx0alF1ZXJ5KCBjYWxsYmFja0NvbnRleHQgKSA6XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LFxuXG5cdFx0XHQvLyBEZWZlcnJlZHNcblx0XHRcdGRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCksXG5cdFx0XHRjb21wbGV0ZURlZmVycmVkID0galF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksXG5cblx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRzdGF0dXNDb2RlID0gcy5zdGF0dXNDb2RlIHx8IHt9LFxuXG5cdFx0XHQvLyBIZWFkZXJzICh0aGV5IGFyZSBzZW50IGFsbCBhdCBvbmNlKVxuXHRcdFx0cmVxdWVzdEhlYWRlcnMgPSB7fSxcblx0XHRcdHJlcXVlc3RIZWFkZXJzTmFtZXMgPSB7fSxcblxuXHRcdFx0Ly8gRGVmYXVsdCBhYm9ydCBtZXNzYWdlXG5cdFx0XHRzdHJBYm9ydCA9IFwiY2FuY2VsZWRcIixcblxuXHRcdFx0Ly8gRmFrZSB4aHJcblx0XHRcdGpxWEhSID0ge1xuXHRcdFx0XHRyZWFkeVN0YXRlOiAwLFxuXG5cdFx0XHRcdC8vIEJ1aWxkcyBoZWFkZXJzIGhhc2h0YWJsZSBpZiBuZWVkZWRcblx0XHRcdFx0Z2V0UmVzcG9uc2VIZWFkZXI6IGZ1bmN0aW9uKCBrZXkgKSB7XG5cdFx0XHRcdFx0dmFyIG1hdGNoO1xuXHRcdFx0XHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0XHRcdFx0aWYgKCAhcmVzcG9uc2VIZWFkZXJzICkge1xuXHRcdFx0XHRcdFx0XHRyZXNwb25zZUhlYWRlcnMgPSB7fTtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKCAoIG1hdGNoID0gcmhlYWRlcnMuZXhlYyggcmVzcG9uc2VIZWFkZXJzU3RyaW5nICkgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXNwb25zZUhlYWRlcnNbIG1hdGNoWyAxIF0udG9Mb3dlckNhc2UoKSBdID0gbWF0Y2hbIDIgXTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0bWF0Y2ggPSByZXNwb25zZUhlYWRlcnNbIGtleS50b0xvd2VyQ2FzZSgpIF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBtYXRjaCA9PSBudWxsID8gbnVsbCA6IG1hdGNoO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIFJhdyBzdHJpbmdcblx0XHRcdFx0Z2V0QWxsUmVzcG9uc2VIZWFkZXJzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gY29tcGxldGVkID8gcmVzcG9uc2VIZWFkZXJzU3RyaW5nIDogbnVsbDtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBDYWNoZXMgdGhlIGhlYWRlclxuXHRcdFx0XHRzZXRSZXF1ZXN0SGVhZGVyOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdG5hbWUgPSByZXF1ZXN0SGVhZGVyc05hbWVzWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSA9XG5cdFx0XHRcdFx0XHRcdHJlcXVlc3RIZWFkZXJzTmFtZXNbIG5hbWUudG9Mb3dlckNhc2UoKSBdIHx8IG5hbWU7XG5cdFx0XHRcdFx0XHRyZXF1ZXN0SGVhZGVyc1sgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIE92ZXJyaWRlcyByZXNwb25zZSBjb250ZW50LXR5cGUgaGVhZGVyXG5cdFx0XHRcdG92ZXJyaWRlTWltZVR5cGU6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdFx0XHRcdGlmICggY29tcGxldGVkID09IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRzLm1pbWVUeXBlID0gdHlwZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3Ncblx0XHRcdFx0c3RhdHVzQ29kZTogZnVuY3Rpb24oIG1hcCApIHtcblx0XHRcdFx0XHR2YXIgY29kZTtcblx0XHRcdFx0XHRpZiAoIG1hcCApIHtcblx0XHRcdFx0XHRcdGlmICggY29tcGxldGVkICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIEV4ZWN1dGUgdGhlIGFwcHJvcHJpYXRlIGNhbGxiYWNrc1xuXHRcdFx0XHRcdFx0XHRqcVhIUi5hbHdheXMoIG1hcFsganFYSFIuc3RhdHVzIF0gKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gTGF6eS1hZGQgdGhlIG5ldyBjYWxsYmFja3MgaW4gYSB3YXkgdGhhdCBwcmVzZXJ2ZXMgb2xkIG9uZXNcblx0XHRcdFx0XHRcdFx0Zm9yICggY29kZSBpbiBtYXAgKSB7XG5cdFx0XHRcdFx0XHRcdFx0c3RhdHVzQ29kZVsgY29kZSBdID0gWyBzdGF0dXNDb2RlWyBjb2RlIF0sIG1hcFsgY29kZSBdIF07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gQ2FuY2VsIHRoZSByZXF1ZXN0XG5cdFx0XHRcdGFib3J0OiBmdW5jdGlvbiggc3RhdHVzVGV4dCApIHtcblx0XHRcdFx0XHR2YXIgZmluYWxUZXh0ID0gc3RhdHVzVGV4dCB8fCBzdHJBYm9ydDtcblx0XHRcdFx0XHRpZiAoIHRyYW5zcG9ydCApIHtcblx0XHRcdFx0XHRcdHRyYW5zcG9ydC5hYm9ydCggZmluYWxUZXh0ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGRvbmUoIDAsIGZpbmFsVGV4dCApO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0Ly8gQXR0YWNoIGRlZmVycmVkc1xuXHRcdGRlZmVycmVkLnByb21pc2UoIGpxWEhSICk7XG5cblx0XHQvLyBBZGQgcHJvdG9jb2wgaWYgbm90IHByb3ZpZGVkIChwcmVmaWx0ZXJzIG1pZ2h0IGV4cGVjdCBpdClcblx0XHQvLyBIYW5kbGUgZmFsc3kgdXJsIGluIHRoZSBzZXR0aW5ncyBvYmplY3QgKCMxMDA5MzogY29uc2lzdGVuY3kgd2l0aCBvbGQgc2lnbmF0dXJlKVxuXHRcdC8vIFdlIGFsc28gdXNlIHRoZSB1cmwgcGFyYW1ldGVyIGlmIGF2YWlsYWJsZVxuXHRcdHMudXJsID0gKCAoIHVybCB8fCBzLnVybCB8fCBsb2NhdGlvbi5ocmVmICkgKyBcIlwiIClcblx0XHRcdC5yZXBsYWNlKCBycHJvdG9jb2wsIGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICk7XG5cblx0XHQvLyBBbGlhcyBtZXRob2Qgb3B0aW9uIHRvIHR5cGUgYXMgcGVyIHRpY2tldCAjMTIwMDRcblx0XHRzLnR5cGUgPSBvcHRpb25zLm1ldGhvZCB8fCBvcHRpb25zLnR5cGUgfHwgcy5tZXRob2QgfHwgcy50eXBlO1xuXG5cdFx0Ly8gRXh0cmFjdCBkYXRhVHlwZXMgbGlzdFxuXHRcdHMuZGF0YVR5cGVzID0gKCBzLmRhdGFUeXBlIHx8IFwiKlwiICkudG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdHdoaXRlICkgfHwgWyBcIlwiIF07XG5cblx0XHQvLyBBIGNyb3NzLWRvbWFpbiByZXF1ZXN0IGlzIGluIG9yZGVyIHdoZW4gdGhlIG9yaWdpbiBkb2Vzbid0IG1hdGNoIHRoZSBjdXJyZW50IG9yaWdpbi5cblx0XHRpZiAoIHMuY3Jvc3NEb21haW4gPT0gbnVsbCApIHtcblx0XHRcdHVybEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiYVwiICk7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OCAtIDExLCBFZGdlIDEyIC0gMTNcblx0XHRcdC8vIElFIHRocm93cyBleGNlcHRpb24gb24gYWNjZXNzaW5nIHRoZSBocmVmIHByb3BlcnR5IGlmIHVybCBpcyBtYWxmb3JtZWQsXG5cdFx0XHQvLyBlLmcuIGh0dHA6Ly9leGFtcGxlLmNvbTo4MHgvXG5cdFx0XHR0cnkge1xuXHRcdFx0XHR1cmxBbmNob3IuaHJlZiA9IHMudXJsO1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OCAtIDExIG9ubHlcblx0XHRcdFx0Ly8gQW5jaG9yJ3MgaG9zdCBwcm9wZXJ0eSBpc24ndCBjb3JyZWN0bHkgc2V0IHdoZW4gcy51cmwgaXMgcmVsYXRpdmVcblx0XHRcdFx0dXJsQW5jaG9yLmhyZWYgPSB1cmxBbmNob3IuaHJlZjtcblx0XHRcdFx0cy5jcm9zc0RvbWFpbiA9IG9yaWdpbkFuY2hvci5wcm90b2NvbCArIFwiLy9cIiArIG9yaWdpbkFuY2hvci5ob3N0ICE9PVxuXHRcdFx0XHRcdHVybEFuY2hvci5wcm90b2NvbCArIFwiLy9cIiArIHVybEFuY2hvci5ob3N0O1xuXHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0Ly8gSWYgdGhlcmUgaXMgYW4gZXJyb3IgcGFyc2luZyB0aGUgVVJMLCBhc3N1bWUgaXQgaXMgY3Jvc3NEb21haW4sXG5cdFx0XHRcdC8vIGl0IGNhbiBiZSByZWplY3RlZCBieSB0aGUgdHJhbnNwb3J0IGlmIGl0IGlzIGludmFsaWRcblx0XHRcdFx0cy5jcm9zc0RvbWFpbiA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ29udmVydCBkYXRhIGlmIG5vdCBhbHJlYWR5IGEgc3RyaW5nXG5cdFx0aWYgKCBzLmRhdGEgJiYgcy5wcm9jZXNzRGF0YSAmJiB0eXBlb2Ygcy5kYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cy5kYXRhID0galF1ZXJ5LnBhcmFtKCBzLmRhdGEsIHMudHJhZGl0aW9uYWwgKTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSBwcmVmaWx0ZXJzXG5cdFx0aW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHByZWZpbHRlcnMsIHMsIG9wdGlvbnMsIGpxWEhSICk7XG5cblx0XHQvLyBJZiByZXF1ZXN0IHdhcyBhYm9ydGVkIGluc2lkZSBhIHByZWZpbHRlciwgc3RvcCB0aGVyZVxuXHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0cmV0dXJuIGpxWEhSO1xuXHRcdH1cblxuXHRcdC8vIFdlIGNhbiBmaXJlIGdsb2JhbCBldmVudHMgYXMgb2Ygbm93IGlmIGFza2VkIHRvXG5cdFx0Ly8gRG9uJ3QgZmlyZSBldmVudHMgaWYgalF1ZXJ5LmV2ZW50IGlzIHVuZGVmaW5lZCBpbiBhbiBBTUQtdXNhZ2Ugc2NlbmFyaW8gKCMxNTExOClcblx0XHRmaXJlR2xvYmFscyA9IGpRdWVyeS5ldmVudCAmJiBzLmdsb2JhbDtcblxuXHRcdC8vIFdhdGNoIGZvciBhIG5ldyBzZXQgb2YgcmVxdWVzdHNcblx0XHRpZiAoIGZpcmVHbG9iYWxzICYmIGpRdWVyeS5hY3RpdmUrKyA9PT0gMCApIHtcblx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBcImFqYXhTdGFydFwiICk7XG5cdFx0fVxuXG5cdFx0Ly8gVXBwZXJjYXNlIHRoZSB0eXBlXG5cdFx0cy50eXBlID0gcy50eXBlLnRvVXBwZXJDYXNlKCk7XG5cblx0XHQvLyBEZXRlcm1pbmUgaWYgcmVxdWVzdCBoYXMgY29udGVudFxuXHRcdHMuaGFzQ29udGVudCA9ICFybm9Db250ZW50LnRlc3QoIHMudHlwZSApO1xuXG5cdFx0Ly8gU2F2ZSB0aGUgVVJMIGluIGNhc2Ugd2UncmUgdG95aW5nIHdpdGggdGhlIElmLU1vZGlmaWVkLVNpbmNlXG5cdFx0Ly8gYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyIGxhdGVyIG9uXG5cdFx0Ly8gUmVtb3ZlIGhhc2ggdG8gc2ltcGxpZnkgdXJsIG1hbmlwdWxhdGlvblxuXHRcdGNhY2hlVVJMID0gcy51cmwucmVwbGFjZSggcmhhc2gsIFwiXCIgKTtcblxuXHRcdC8vIE1vcmUgb3B0aW9ucyBoYW5kbGluZyBmb3IgcmVxdWVzdHMgd2l0aCBubyBjb250ZW50XG5cdFx0aWYgKCAhcy5oYXNDb250ZW50ICkge1xuXG5cdFx0XHQvLyBSZW1lbWJlciB0aGUgaGFzaCBzbyB3ZSBjYW4gcHV0IGl0IGJhY2tcblx0XHRcdHVuY2FjaGVkID0gcy51cmwuc2xpY2UoIGNhY2hlVVJMLmxlbmd0aCApO1xuXG5cdFx0XHQvLyBJZiBkYXRhIGlzIGF2YWlsYWJsZSwgYXBwZW5kIGRhdGEgdG8gdXJsXG5cdFx0XHRpZiAoIHMuZGF0YSApIHtcblx0XHRcdFx0Y2FjaGVVUkwgKz0gKCBycXVlcnkudGVzdCggY2FjaGVVUkwgKSA/IFwiJlwiIDogXCI/XCIgKSArIHMuZGF0YTtcblxuXHRcdFx0XHQvLyAjOTY4MjogcmVtb3ZlIGRhdGEgc28gdGhhdCBpdCdzIG5vdCB1c2VkIGluIGFuIGV2ZW50dWFsIHJldHJ5XG5cdFx0XHRcdGRlbGV0ZSBzLmRhdGE7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCBhbnRpLWNhY2hlIGluIHVuY2FjaGVkIHVybCBpZiBuZWVkZWRcblx0XHRcdGlmICggcy5jYWNoZSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdGNhY2hlVVJMID0gY2FjaGVVUkwucmVwbGFjZSggcnRzLCBcIlwiICk7XG5cdFx0XHRcdHVuY2FjaGVkID0gKCBycXVlcnkudGVzdCggY2FjaGVVUkwgKSA/IFwiJlwiIDogXCI/XCIgKSArIFwiXz1cIiArICggbm9uY2UrKyApICsgdW5jYWNoZWQ7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFB1dCBoYXNoIGFuZCBhbnRpLWNhY2hlIG9uIHRoZSBVUkwgdGhhdCB3aWxsIGJlIHJlcXVlc3RlZCAoZ2gtMTczMilcblx0XHRcdHMudXJsID0gY2FjaGVVUkwgKyB1bmNhY2hlZDtcblxuXHRcdC8vIENoYW5nZSAnJTIwJyB0byAnKycgaWYgdGhpcyBpcyBlbmNvZGVkIGZvcm0gYm9keSBjb250ZW50IChnaC0yNjU4KVxuXHRcdH0gZWxzZSBpZiAoIHMuZGF0YSAmJiBzLnByb2Nlc3NEYXRhICYmXG5cdFx0XHQoIHMuY29udGVudFR5cGUgfHwgXCJcIiApLmluZGV4T2YoIFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIgKSA9PT0gMCApIHtcblx0XHRcdHMuZGF0YSA9IHMuZGF0YS5yZXBsYWNlKCByMjAsIFwiK1wiICk7XG5cdFx0fVxuXG5cdFx0Ly8gU2V0IHRoZSBJZi1Nb2RpZmllZC1TaW5jZSBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIsIGlmIGluIGlmTW9kaWZpZWQgbW9kZS5cblx0XHRpZiAoIHMuaWZNb2RpZmllZCApIHtcblx0XHRcdGlmICggalF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSApIHtcblx0XHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJJZi1Nb2RpZmllZC1TaW5jZVwiLCBqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdICk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdICkge1xuXHRcdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIklmLU5vbmUtTWF0Y2hcIiwgalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIGNvcnJlY3QgaGVhZGVyLCBpZiBkYXRhIGlzIGJlaW5nIHNlbnRcblx0XHRpZiAoIHMuZGF0YSAmJiBzLmhhc0NvbnRlbnQgJiYgcy5jb250ZW50VHlwZSAhPT0gZmFsc2UgfHwgb3B0aW9ucy5jb250ZW50VHlwZSApIHtcblx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiQ29udGVudC1UeXBlXCIsIHMuY29udGVudFR5cGUgKTtcblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIEFjY2VwdHMgaGVhZGVyIGZvciB0aGUgc2VydmVyLCBkZXBlbmRpbmcgb24gdGhlIGRhdGFUeXBlXG5cdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlcihcblx0XHRcdFwiQWNjZXB0XCIsXG5cdFx0XHRzLmRhdGFUeXBlc1sgMCBdICYmIHMuYWNjZXB0c1sgcy5kYXRhVHlwZXNbIDAgXSBdID9cblx0XHRcdFx0cy5hY2NlcHRzWyBzLmRhdGFUeXBlc1sgMCBdIF0gK1xuXHRcdFx0XHRcdCggcy5kYXRhVHlwZXNbIDAgXSAhPT0gXCIqXCIgPyBcIiwgXCIgKyBhbGxUeXBlcyArIFwiOyBxPTAuMDFcIiA6IFwiXCIgKSA6XG5cdFx0XHRcdHMuYWNjZXB0c1sgXCIqXCIgXVxuXHRcdCk7XG5cblx0XHQvLyBDaGVjayBmb3IgaGVhZGVycyBvcHRpb25cblx0XHRmb3IgKCBpIGluIHMuaGVhZGVycyApIHtcblx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIGksIHMuaGVhZGVyc1sgaSBdICk7XG5cdFx0fVxuXG5cdFx0Ly8gQWxsb3cgY3VzdG9tIGhlYWRlcnMvbWltZXR5cGVzIGFuZCBlYXJseSBhYm9ydFxuXHRcdGlmICggcy5iZWZvcmVTZW5kICYmXG5cdFx0XHQoIHMuYmVmb3JlU2VuZC5jYWxsKCBjYWxsYmFja0NvbnRleHQsIGpxWEhSLCBzICkgPT09IGZhbHNlIHx8IGNvbXBsZXRlZCApICkge1xuXG5cdFx0XHQvLyBBYm9ydCBpZiBub3QgZG9uZSBhbHJlYWR5IGFuZCByZXR1cm5cblx0XHRcdHJldHVybiBqcVhIUi5hYm9ydCgpO1xuXHRcdH1cblxuXHRcdC8vIEFib3J0aW5nIGlzIG5vIGxvbmdlciBhIGNhbmNlbGxhdGlvblxuXHRcdHN0ckFib3J0ID0gXCJhYm9ydFwiO1xuXG5cdFx0Ly8gSW5zdGFsbCBjYWxsYmFja3Mgb24gZGVmZXJyZWRzXG5cdFx0Y29tcGxldGVEZWZlcnJlZC5hZGQoIHMuY29tcGxldGUgKTtcblx0XHRqcVhIUi5kb25lKCBzLnN1Y2Nlc3MgKTtcblx0XHRqcVhIUi5mYWlsKCBzLmVycm9yICk7XG5cblx0XHQvLyBHZXQgdHJhbnNwb3J0XG5cdFx0dHJhbnNwb3J0ID0gaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHRyYW5zcG9ydHMsIHMsIG9wdGlvbnMsIGpxWEhSICk7XG5cblx0XHQvLyBJZiBubyB0cmFuc3BvcnQsIHdlIGF1dG8tYWJvcnRcblx0XHRpZiAoICF0cmFuc3BvcnQgKSB7XG5cdFx0XHRkb25lKCAtMSwgXCJObyBUcmFuc3BvcnRcIiApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRqcVhIUi5yZWFkeVN0YXRlID0gMTtcblxuXHRcdFx0Ly8gU2VuZCBnbG9iYWwgZXZlbnRcblx0XHRcdGlmICggZmlyZUdsb2JhbHMgKSB7XG5cdFx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBcImFqYXhTZW5kXCIsIFsganFYSFIsIHMgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiByZXF1ZXN0IHdhcyBhYm9ydGVkIGluc2lkZSBhamF4U2VuZCwgc3RvcCB0aGVyZVxuXHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdHJldHVybiBqcVhIUjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVGltZW91dFxuXHRcdFx0aWYgKCBzLmFzeW5jICYmIHMudGltZW91dCA+IDAgKSB7XG5cdFx0XHRcdHRpbWVvdXRUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRqcVhIUi5hYm9ydCggXCJ0aW1lb3V0XCIgKTtcblx0XHRcdFx0fSwgcy50aW1lb3V0ICk7XG5cdFx0XHR9XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbXBsZXRlZCA9IGZhbHNlO1xuXHRcdFx0XHR0cmFuc3BvcnQuc2VuZCggcmVxdWVzdEhlYWRlcnMsIGRvbmUgKTtcblx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdC8vIFJldGhyb3cgcG9zdC1jb21wbGV0aW9uIGV4Y2VwdGlvbnNcblx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdFx0dGhyb3cgZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFByb3BhZ2F0ZSBvdGhlcnMgYXMgcmVzdWx0c1xuXHRcdFx0XHRkb25lKCAtMSwgZSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhbGxiYWNrIGZvciB3aGVuIGV2ZXJ5dGhpbmcgaXMgZG9uZVxuXHRcdGZ1bmN0aW9uIGRvbmUoIHN0YXR1cywgbmF0aXZlU3RhdHVzVGV4dCwgcmVzcG9uc2VzLCBoZWFkZXJzICkge1xuXHRcdFx0dmFyIGlzU3VjY2Vzcywgc3VjY2VzcywgZXJyb3IsIHJlc3BvbnNlLCBtb2RpZmllZCxcblx0XHRcdFx0c3RhdHVzVGV4dCA9IG5hdGl2ZVN0YXR1c1RleHQ7XG5cblx0XHRcdC8vIElnbm9yZSByZXBlYXQgaW52b2NhdGlvbnNcblx0XHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNvbXBsZXRlZCA9IHRydWU7XG5cblx0XHRcdC8vIENsZWFyIHRpbWVvdXQgaWYgaXQgZXhpc3RzXG5cdFx0XHRpZiAoIHRpbWVvdXRUaW1lciApIHtcblx0XHRcdFx0d2luZG93LmNsZWFyVGltZW91dCggdGltZW91dFRpbWVyICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIERlcmVmZXJlbmNlIHRyYW5zcG9ydCBmb3IgZWFybHkgZ2FyYmFnZSBjb2xsZWN0aW9uXG5cdFx0XHQvLyAobm8gbWF0dGVyIGhvdyBsb25nIHRoZSBqcVhIUiBvYmplY3Qgd2lsbCBiZSB1c2VkKVxuXHRcdFx0dHJhbnNwb3J0ID0gdW5kZWZpbmVkO1xuXG5cdFx0XHQvLyBDYWNoZSByZXNwb25zZSBoZWFkZXJzXG5cdFx0XHRyZXNwb25zZUhlYWRlcnNTdHJpbmcgPSBoZWFkZXJzIHx8IFwiXCI7XG5cblx0XHRcdC8vIFNldCByZWFkeVN0YXRlXG5cdFx0XHRqcVhIUi5yZWFkeVN0YXRlID0gc3RhdHVzID4gMCA/IDQgOiAwO1xuXG5cdFx0XHQvLyBEZXRlcm1pbmUgaWYgc3VjY2Vzc2Z1bFxuXHRcdFx0aXNTdWNjZXNzID0gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDAgfHwgc3RhdHVzID09PSAzMDQ7XG5cblx0XHRcdC8vIEdldCByZXNwb25zZSBkYXRhXG5cdFx0XHRpZiAoIHJlc3BvbnNlcyApIHtcblx0XHRcdFx0cmVzcG9uc2UgPSBhamF4SGFuZGxlUmVzcG9uc2VzKCBzLCBqcVhIUiwgcmVzcG9uc2VzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENvbnZlcnQgbm8gbWF0dGVyIHdoYXQgKHRoYXQgd2F5IHJlc3BvbnNlWFhYIGZpZWxkcyBhcmUgYWx3YXlzIHNldClcblx0XHRcdHJlc3BvbnNlID0gYWpheENvbnZlcnQoIHMsIHJlc3BvbnNlLCBqcVhIUiwgaXNTdWNjZXNzICk7XG5cblx0XHRcdC8vIElmIHN1Y2Nlc3NmdWwsIGhhbmRsZSB0eXBlIGNoYWluaW5nXG5cdFx0XHRpZiAoIGlzU3VjY2VzcyApIHtcblxuXHRcdFx0XHQvLyBTZXQgdGhlIElmLU1vZGlmaWVkLVNpbmNlIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciwgaWYgaW4gaWZNb2RpZmllZCBtb2RlLlxuXHRcdFx0XHRpZiAoIHMuaWZNb2RpZmllZCApIHtcblx0XHRcdFx0XHRtb2RpZmllZCA9IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCBcIkxhc3QtTW9kaWZpZWRcIiApO1xuXHRcdFx0XHRcdGlmICggbW9kaWZpZWQgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdID0gbW9kaWZpZWQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoIFwiZXRhZ1wiICk7XG5cdFx0XHRcdFx0aWYgKCBtb2RpZmllZCApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdID0gbW9kaWZpZWQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gaWYgbm8gY29udGVudFxuXHRcdFx0XHRpZiAoIHN0YXR1cyA9PT0gMjA0IHx8IHMudHlwZSA9PT0gXCJIRUFEXCIgKSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IFwibm9jb250ZW50XCI7XG5cblx0XHRcdFx0Ly8gaWYgbm90IG1vZGlmaWVkXG5cdFx0XHRcdH0gZWxzZSBpZiAoIHN0YXR1cyA9PT0gMzA0ICkge1xuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSBcIm5vdG1vZGlmaWVkXCI7XG5cblx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBkYXRhLCBsZXQncyBjb252ZXJ0IGl0XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IHJlc3BvbnNlLnN0YXRlO1xuXHRcdFx0XHRcdHN1Y2Nlc3MgPSByZXNwb25zZS5kYXRhO1xuXHRcdFx0XHRcdGVycm9yID0gcmVzcG9uc2UuZXJyb3I7XG5cdFx0XHRcdFx0aXNTdWNjZXNzID0gIWVycm9yO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIEV4dHJhY3QgZXJyb3IgZnJvbSBzdGF0dXNUZXh0IGFuZCBub3JtYWxpemUgZm9yIG5vbi1hYm9ydHNcblx0XHRcdFx0ZXJyb3IgPSBzdGF0dXNUZXh0O1xuXHRcdFx0XHRpZiAoIHN0YXR1cyB8fCAhc3RhdHVzVGV4dCApIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gXCJlcnJvclwiO1xuXHRcdFx0XHRcdGlmICggc3RhdHVzIDwgMCApIHtcblx0XHRcdFx0XHRcdHN0YXR1cyA9IDA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNldCBkYXRhIGZvciB0aGUgZmFrZSB4aHIgb2JqZWN0XG5cdFx0XHRqcVhIUi5zdGF0dXMgPSBzdGF0dXM7XG5cdFx0XHRqcVhIUi5zdGF0dXNUZXh0ID0gKCBuYXRpdmVTdGF0dXNUZXh0IHx8IHN0YXR1c1RleHQgKSArIFwiXCI7XG5cblx0XHRcdC8vIFN1Y2Nlc3MvRXJyb3Jcblx0XHRcdGlmICggaXNTdWNjZXNzICkge1xuXHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIHN1Y2Nlc3MsIHN0YXR1c1RleHQsIGpxWEhSIF0gKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlZmVycmVkLnJlamVjdFdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBqcVhIUiwgc3RhdHVzVGV4dCwgZXJyb3IgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xuXHRcdFx0anFYSFIuc3RhdHVzQ29kZSggc3RhdHVzQ29kZSApO1xuXHRcdFx0c3RhdHVzQ29kZSA9IHVuZGVmaW5lZDtcblxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIGlzU3VjY2VzcyA/IFwiYWpheFN1Y2Nlc3NcIiA6IFwiYWpheEVycm9yXCIsXG5cdFx0XHRcdFx0WyBqcVhIUiwgcywgaXNTdWNjZXNzID8gc3VjY2VzcyA6IGVycm9yIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29tcGxldGVcblx0XHRcdGNvbXBsZXRlRGVmZXJyZWQuZmlyZVdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBqcVhIUiwgc3RhdHVzVGV4dCBdICk7XG5cblx0XHRcdGlmICggZmlyZUdsb2JhbHMgKSB7XG5cdFx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBcImFqYXhDb21wbGV0ZVwiLCBbIGpxWEhSLCBzIF0gKTtcblxuXHRcdFx0XHQvLyBIYW5kbGUgdGhlIGdsb2JhbCBBSkFYIGNvdW50ZXJcblx0XHRcdFx0aWYgKCAhKCAtLWpRdWVyeS5hY3RpdmUgKSApIHtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggXCJhamF4U3RvcFwiICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4ganFYSFI7XG5cdH0sXG5cblx0Z2V0SlNPTjogZnVuY3Rpb24oIHVybCwgZGF0YSwgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5nZXQoIHVybCwgZGF0YSwgY2FsbGJhY2ssIFwianNvblwiICk7XG5cdH0sXG5cblx0Z2V0U2NyaXB0OiBmdW5jdGlvbiggdXJsLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdldCggdXJsLCB1bmRlZmluZWQsIGNhbGxiYWNrLCBcInNjcmlwdFwiICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmVhY2goIFsgXCJnZXRcIiwgXCJwb3N0XCIgXSwgZnVuY3Rpb24oIGksIG1ldGhvZCApIHtcblx0alF1ZXJ5WyBtZXRob2QgXSA9IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIGNhbGxiYWNrLCB0eXBlICkge1xuXG5cdFx0Ly8gU2hpZnQgYXJndW1lbnRzIGlmIGRhdGEgYXJndW1lbnQgd2FzIG9taXR0ZWRcblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBkYXRhICkgKSB7XG5cdFx0XHR0eXBlID0gdHlwZSB8fCBjYWxsYmFjaztcblx0XHRcdGNhbGxiYWNrID0gZGF0YTtcblx0XHRcdGRhdGEgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Ly8gVGhlIHVybCBjYW4gYmUgYW4gb3B0aW9ucyBvYmplY3QgKHdoaWNoIHRoZW4gbXVzdCBoYXZlIC51cmwpXG5cdFx0cmV0dXJuIGpRdWVyeS5hamF4KCBqUXVlcnkuZXh0ZW5kKCB7XG5cdFx0XHR1cmw6IHVybCxcblx0XHRcdHR5cGU6IG1ldGhvZCxcblx0XHRcdGRhdGFUeXBlOiB0eXBlLFxuXHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdHN1Y2Nlc3M6IGNhbGxiYWNrXG5cdFx0fSwgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIHVybCApICYmIHVybCApICk7XG5cdH07XG59ICk7XG5cblxualF1ZXJ5Ll9ldmFsVXJsID0gZnVuY3Rpb24oIHVybCApIHtcblx0cmV0dXJuIGpRdWVyeS5hamF4KCB7XG5cdFx0dXJsOiB1cmwsXG5cblx0XHQvLyBNYWtlIHRoaXMgZXhwbGljaXQsIHNpbmNlIHVzZXIgY2FuIG92ZXJyaWRlIHRoaXMgdGhyb3VnaCBhamF4U2V0dXAgKCMxMTI2NClcblx0XHR0eXBlOiBcIkdFVFwiLFxuXHRcdGRhdGFUeXBlOiBcInNjcmlwdFwiLFxuXHRcdGNhY2hlOiB0cnVlLFxuXHRcdGFzeW5jOiBmYWxzZSxcblx0XHRnbG9iYWw6IGZhbHNlLFxuXHRcdFwidGhyb3dzXCI6IHRydWVcblx0fSApO1xufTtcblxuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHdyYXBBbGw6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdHZhciB3cmFwO1xuXG5cdFx0aWYgKCB0aGlzWyAwIF0gKSB7XG5cdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBodG1sICkgKSB7XG5cdFx0XHRcdGh0bWwgPSBodG1sLmNhbGwoIHRoaXNbIDAgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUaGUgZWxlbWVudHMgdG8gd3JhcCB0aGUgdGFyZ2V0IGFyb3VuZFxuXHRcdFx0d3JhcCA9IGpRdWVyeSggaHRtbCwgdGhpc1sgMCBdLm93bmVyRG9jdW1lbnQgKS5lcSggMCApLmNsb25lKCB0cnVlICk7XG5cblx0XHRcdGlmICggdGhpc1sgMCBdLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHdyYXAuaW5zZXJ0QmVmb3JlKCB0aGlzWyAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0d3JhcC5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZWxlbSA9IHRoaXM7XG5cblx0XHRcdFx0d2hpbGUgKCBlbGVtLmZpcnN0RWxlbWVudENoaWxkICkge1xuXHRcdFx0XHRcdGVsZW0gPSBlbGVtLmZpcnN0RWxlbWVudENoaWxkO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGVsZW07XG5cdFx0XHR9ICkuYXBwZW5kKCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0d3JhcElubmVyOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBodG1sICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkud3JhcElubmVyKCBodG1sLmNhbGwoIHRoaXMsIGkgKSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSBqUXVlcnkoIHRoaXMgKSxcblx0XHRcdFx0Y29udGVudHMgPSBzZWxmLmNvbnRlbnRzKCk7XG5cblx0XHRcdGlmICggY29udGVudHMubGVuZ3RoICkge1xuXHRcdFx0XHRjb250ZW50cy53cmFwQWxsKCBodG1sICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNlbGYuYXBwZW5kKCBodG1sICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdHdyYXA6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdHZhciBpc0Z1bmN0aW9uID0galF1ZXJ5LmlzRnVuY3Rpb24oIGh0bWwgKTtcblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0alF1ZXJ5KCB0aGlzICkud3JhcEFsbCggaXNGdW5jdGlvbiA/IGh0bWwuY2FsbCggdGhpcywgaSApIDogaHRtbCApO1xuXHRcdH0gKTtcblx0fSxcblxuXHR1bndyYXA6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR0aGlzLnBhcmVudCggc2VsZWN0b3IgKS5ub3QoIFwiYm9keVwiICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkoIHRoaXMgKS5yZXBsYWNlV2l0aCggdGhpcy5jaGlsZE5vZGVzICk7XG5cdFx0fSApO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG59ICk7XG5cblxualF1ZXJ5LmV4cHIucHNldWRvcy5oaWRkZW4gPSBmdW5jdGlvbiggZWxlbSApIHtcblx0cmV0dXJuICFqUXVlcnkuZXhwci5wc2V1ZG9zLnZpc2libGUoIGVsZW0gKTtcbn07XG5qUXVlcnkuZXhwci5wc2V1ZG9zLnZpc2libGUgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0cmV0dXJuICEhKCBlbGVtLm9mZnNldFdpZHRoIHx8IGVsZW0ub2Zmc2V0SGVpZ2h0IHx8IGVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKTtcbn07XG5cblxuXG5cbmpRdWVyeS5hamF4U2V0dGluZ3MueGhyID0gZnVuY3Rpb24oKSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QoKTtcblx0fSBjYXRjaCAoIGUgKSB7fVxufTtcblxudmFyIHhoclN1Y2Nlc3NTdGF0dXMgPSB7XG5cblx0XHQvLyBGaWxlIHByb3RvY29sIGFsd2F5cyB5aWVsZHMgc3RhdHVzIGNvZGUgMCwgYXNzdW1lIDIwMFxuXHRcdDA6IDIwMCxcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdFx0Ly8gIzE0NTA6IHNvbWV0aW1lcyBJRSByZXR1cm5zIDEyMjMgd2hlbiBpdCBzaG91bGQgYmUgMjA0XG5cdFx0MTIyMzogMjA0XG5cdH0sXG5cdHhoclN1cHBvcnRlZCA9IGpRdWVyeS5hamF4U2V0dGluZ3MueGhyKCk7XG5cbnN1cHBvcnQuY29ycyA9ICEheGhyU3VwcG9ydGVkICYmICggXCJ3aXRoQ3JlZGVudGlhbHNcIiBpbiB4aHJTdXBwb3J0ZWQgKTtcbnN1cHBvcnQuYWpheCA9IHhoclN1cHBvcnRlZCA9ICEheGhyU3VwcG9ydGVkO1xuXG5qUXVlcnkuYWpheFRyYW5zcG9ydCggZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdHZhciBjYWxsYmFjaywgZXJyb3JDYWxsYmFjaztcblxuXHQvLyBDcm9zcyBkb21haW4gb25seSBhbGxvd2VkIGlmIHN1cHBvcnRlZCB0aHJvdWdoIFhNTEh0dHBSZXF1ZXN0XG5cdGlmICggc3VwcG9ydC5jb3JzIHx8IHhoclN1cHBvcnRlZCAmJiAhb3B0aW9ucy5jcm9zc0RvbWFpbiApIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c2VuZDogZnVuY3Rpb24oIGhlYWRlcnMsIGNvbXBsZXRlICkge1xuXHRcdFx0XHR2YXIgaSxcblx0XHRcdFx0XHR4aHIgPSBvcHRpb25zLnhocigpO1xuXG5cdFx0XHRcdHhoci5vcGVuKFxuXHRcdFx0XHRcdG9wdGlvbnMudHlwZSxcblx0XHRcdFx0XHRvcHRpb25zLnVybCxcblx0XHRcdFx0XHRvcHRpb25zLmFzeW5jLFxuXHRcdFx0XHRcdG9wdGlvbnMudXNlcm5hbWUsXG5cdFx0XHRcdFx0b3B0aW9ucy5wYXNzd29yZFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdC8vIEFwcGx5IGN1c3RvbSBmaWVsZHMgaWYgcHJvdmlkZWRcblx0XHRcdFx0aWYgKCBvcHRpb25zLnhockZpZWxkcyApIHtcblx0XHRcdFx0XHRmb3IgKCBpIGluIG9wdGlvbnMueGhyRmllbGRzICkge1xuXHRcdFx0XHRcdFx0eGhyWyBpIF0gPSBvcHRpb25zLnhockZpZWxkc1sgaSBdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIE92ZXJyaWRlIG1pbWUgdHlwZSBpZiBuZWVkZWRcblx0XHRcdFx0aWYgKCBvcHRpb25zLm1pbWVUeXBlICYmIHhoci5vdmVycmlkZU1pbWVUeXBlICkge1xuXHRcdFx0XHRcdHhoci5vdmVycmlkZU1pbWVUeXBlKCBvcHRpb25zLm1pbWVUeXBlICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBYLVJlcXVlc3RlZC1XaXRoIGhlYWRlclxuXHRcdFx0XHQvLyBGb3IgY3Jvc3MtZG9tYWluIHJlcXVlc3RzLCBzZWVpbmcgYXMgY29uZGl0aW9ucyBmb3IgYSBwcmVmbGlnaHQgYXJlXG5cdFx0XHRcdC8vIGFraW4gdG8gYSBqaWdzYXcgcHV6emxlLCB3ZSBzaW1wbHkgbmV2ZXIgc2V0IGl0IHRvIGJlIHN1cmUuXG5cdFx0XHRcdC8vIChpdCBjYW4gYWx3YXlzIGJlIHNldCBvbiBhIHBlci1yZXF1ZXN0IGJhc2lzIG9yIGV2ZW4gdXNpbmcgYWpheFNldHVwKVxuXHRcdFx0XHQvLyBGb3Igc2FtZS1kb21haW4gcmVxdWVzdHMsIHdvbid0IGNoYW5nZSBoZWFkZXIgaWYgYWxyZWFkeSBwcm92aWRlZC5cblx0XHRcdFx0aWYgKCAhb3B0aW9ucy5jcm9zc0RvbWFpbiAmJiAhaGVhZGVyc1sgXCJYLVJlcXVlc3RlZC1XaXRoXCIgXSApIHtcblx0XHRcdFx0XHRoZWFkZXJzWyBcIlgtUmVxdWVzdGVkLVdpdGhcIiBdID0gXCJYTUxIdHRwUmVxdWVzdFwiO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gU2V0IGhlYWRlcnNcblx0XHRcdFx0Zm9yICggaSBpbiBoZWFkZXJzICkge1xuXHRcdFx0XHRcdHhoci5zZXRSZXF1ZXN0SGVhZGVyKCBpLCBoZWFkZXJzWyBpIF0gKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIENhbGxiYWNrXG5cdFx0XHRcdGNhbGxiYWNrID0gZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdFx0Y2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrID0geGhyLm9ubG9hZCA9XG5cdFx0XHRcdFx0XHRcdFx0eGhyLm9uZXJyb3IgPSB4aHIub25hYm9ydCA9IHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuXG5cdFx0XHRcdFx0XHRcdGlmICggdHlwZSA9PT0gXCJhYm9ydFwiICkge1xuXHRcdFx0XHRcdFx0XHRcdHhoci5hYm9ydCgpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCB0eXBlID09PSBcImVycm9yXCIgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRcdFx0XHRcdFx0XHRcdC8vIE9uIGEgbWFudWFsIG5hdGl2ZSBhYm9ydCwgSUU5IHRocm93c1xuXHRcdFx0XHRcdFx0XHRcdC8vIGVycm9ycyBvbiBhbnkgcHJvcGVydHkgYWNjZXNzIHRoYXQgaXMgbm90IHJlYWR5U3RhdGVcblx0XHRcdFx0XHRcdFx0XHRpZiAoIHR5cGVvZiB4aHIuc3RhdHVzICE9PSBcIm51bWJlclwiICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29tcGxldGUoIDAsIFwiZXJyb3JcIiApO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb21wbGV0ZShcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBGaWxlOiBwcm90b2NvbCBhbHdheXMgeWllbGRzIHN0YXR1cyAwOyBzZWUgIzg2MDUsICMxNDIwN1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzVGV4dFxuXHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29tcGxldGUoXG5cdFx0XHRcdFx0XHRcdFx0XHR4aHJTdWNjZXNzU3RhdHVzWyB4aHIuc3RhdHVzIF0gfHwgeGhyLnN0YXR1cyxcblx0XHRcdFx0XHRcdFx0XHRcdHhoci5zdGF0dXNUZXh0LFxuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSUU5IGhhcyBubyBYSFIyIGJ1dCB0aHJvd3Mgb24gYmluYXJ5ICh0cmFjLTExNDI2KVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gRm9yIFhIUjIgbm9uLXRleHQsIGxldCB0aGUgY2FsbGVyIGhhbmRsZSBpdCAoZ2gtMjQ5OClcblx0XHRcdFx0XHRcdFx0XHRcdCggeGhyLnJlc3BvbnNlVHlwZSB8fCBcInRleHRcIiApICE9PSBcInRleHRcIiAgfHxcblx0XHRcdFx0XHRcdFx0XHRcdHR5cGVvZiB4aHIucmVzcG9uc2VUZXh0ICE9PSBcInN0cmluZ1wiID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0eyBiaW5hcnk6IHhoci5yZXNwb25zZSB9IDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0eyB0ZXh0OiB4aHIucmVzcG9uc2VUZXh0IH0sXG5cdFx0XHRcdFx0XHRcdFx0XHR4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcblx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQvLyBMaXN0ZW4gdG8gZXZlbnRzXG5cdFx0XHRcdHhoci5vbmxvYWQgPSBjYWxsYmFjaygpO1xuXHRcdFx0XHRlcnJvckNhbGxiYWNrID0geGhyLm9uZXJyb3IgPSBjYWxsYmFjayggXCJlcnJvclwiICk7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgOSBvbmx5XG5cdFx0XHRcdC8vIFVzZSBvbnJlYWR5c3RhdGVjaGFuZ2UgdG8gcmVwbGFjZSBvbmFib3J0XG5cdFx0XHRcdC8vIHRvIGhhbmRsZSB1bmNhdWdodCBhYm9ydHNcblx0XHRcdFx0aWYgKCB4aHIub25hYm9ydCAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHhoci5vbmFib3J0ID0gZXJyb3JDYWxsYmFjaztcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRcdC8vIENoZWNrIHJlYWR5U3RhdGUgYmVmb3JlIHRpbWVvdXQgYXMgaXQgY2hhbmdlc1xuXHRcdFx0XHRcdFx0aWYgKCB4aHIucmVhZHlTdGF0ZSA9PT0gNCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBBbGxvdyBvbmVycm9yIHRvIGJlIGNhbGxlZCBmaXJzdCxcblx0XHRcdFx0XHRcdFx0Ly8gYnV0IHRoYXQgd2lsbCBub3QgaGFuZGxlIGEgbmF0aXZlIGFib3J0XG5cdFx0XHRcdFx0XHRcdC8vIEFsc28sIHNhdmUgZXJyb3JDYWxsYmFjayB0byBhIHZhcmlhYmxlXG5cdFx0XHRcdFx0XHRcdC8vIGFzIHhoci5vbmVycm9yIGNhbm5vdCBiZSBhY2Nlc3NlZFxuXHRcdFx0XHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGVycm9yQ2FsbGJhY2soKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQ3JlYXRlIHRoZSBhYm9ydCBjYWxsYmFja1xuXHRcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrKCBcImFib3J0XCIgKTtcblxuXHRcdFx0XHR0cnkge1xuXG5cdFx0XHRcdFx0Ly8gRG8gc2VuZCB0aGUgcmVxdWVzdCAodGhpcyBtYXkgcmFpc2UgYW4gZXhjZXB0aW9uKVxuXHRcdFx0XHRcdHhoci5zZW5kKCBvcHRpb25zLmhhc0NvbnRlbnQgJiYgb3B0aW9ucy5kYXRhIHx8IG51bGwgKTtcblx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0XHQvLyAjMTQ2ODM6IE9ubHkgcmV0aHJvdyBpZiB0aGlzIGhhc24ndCBiZWVuIG5vdGlmaWVkIGFzIGFuIGVycm9yIHlldFxuXHRcdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSxcblxuXHRcdFx0YWJvcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9XG59ICk7XG5cblxuXG5cbi8vIFByZXZlbnQgYXV0by1leGVjdXRpb24gb2Ygc2NyaXB0cyB3aGVuIG5vIGV4cGxpY2l0IGRhdGFUeXBlIHdhcyBwcm92aWRlZCAoU2VlIGdoLTI0MzIpXG5qUXVlcnkuYWpheFByZWZpbHRlciggZnVuY3Rpb24oIHMgKSB7XG5cdGlmICggcy5jcm9zc0RvbWFpbiApIHtcblx0XHRzLmNvbnRlbnRzLnNjcmlwdCA9IGZhbHNlO1xuXHR9XG59ICk7XG5cbi8vIEluc3RhbGwgc2NyaXB0IGRhdGFUeXBlXG5qUXVlcnkuYWpheFNldHVwKCB7XG5cdGFjY2VwdHM6IHtcblx0XHRzY3JpcHQ6IFwidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBcIiArXG5cdFx0XHRcImFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdFwiXG5cdH0sXG5cdGNvbnRlbnRzOiB7XG5cdFx0c2NyaXB0OiAvXFxiKD86amF2YXxlY21hKXNjcmlwdFxcYi9cblx0fSxcblx0Y29udmVydGVyczoge1xuXHRcdFwidGV4dCBzY3JpcHRcIjogZnVuY3Rpb24oIHRleHQgKSB7XG5cdFx0XHRqUXVlcnkuZ2xvYmFsRXZhbCggdGV4dCApO1xuXHRcdFx0cmV0dXJuIHRleHQ7XG5cdFx0fVxuXHR9XG59ICk7XG5cbi8vIEhhbmRsZSBjYWNoZSdzIHNwZWNpYWwgY2FzZSBhbmQgY3Jvc3NEb21haW5cbmpRdWVyeS5hamF4UHJlZmlsdGVyKCBcInNjcmlwdFwiLCBmdW5jdGlvbiggcyApIHtcblx0aWYgKCBzLmNhY2hlID09PSB1bmRlZmluZWQgKSB7XG5cdFx0cy5jYWNoZSA9IGZhbHNlO1xuXHR9XG5cdGlmICggcy5jcm9zc0RvbWFpbiApIHtcblx0XHRzLnR5cGUgPSBcIkdFVFwiO1xuXHR9XG59ICk7XG5cbi8vIEJpbmQgc2NyaXB0IHRhZyBoYWNrIHRyYW5zcG9ydFxualF1ZXJ5LmFqYXhUcmFuc3BvcnQoIFwic2NyaXB0XCIsIGZ1bmN0aW9uKCBzICkge1xuXG5cdC8vIFRoaXMgdHJhbnNwb3J0IG9ubHkgZGVhbHMgd2l0aCBjcm9zcyBkb21haW4gcmVxdWVzdHNcblx0aWYgKCBzLmNyb3NzRG9tYWluICkge1xuXHRcdHZhciBzY3JpcHQsIGNhbGxiYWNrO1xuXHRcdHJldHVybiB7XG5cdFx0XHRzZW5kOiBmdW5jdGlvbiggXywgY29tcGxldGUgKSB7XG5cdFx0XHRcdHNjcmlwdCA9IGpRdWVyeSggXCI8c2NyaXB0PlwiICkucHJvcCgge1xuXHRcdFx0XHRcdGNoYXJzZXQ6IHMuc2NyaXB0Q2hhcnNldCxcblx0XHRcdFx0XHRzcmM6IHMudXJsXG5cdFx0XHRcdH0gKS5vbihcblx0XHRcdFx0XHRcImxvYWQgZXJyb3JcIixcblx0XHRcdFx0XHRjYWxsYmFjayA9IGZ1bmN0aW9uKCBldnQgKSB7XG5cdFx0XHRcdFx0XHRzY3JpcHQucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRjYWxsYmFjayA9IG51bGw7XG5cdFx0XHRcdFx0XHRpZiAoIGV2dCApIHtcblx0XHRcdFx0XHRcdFx0Y29tcGxldGUoIGV2dC50eXBlID09PSBcImVycm9yXCIgPyA0MDQgOiAyMDAsIGV2dC50eXBlICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdC8vIFVzZSBuYXRpdmUgRE9NIG1hbmlwdWxhdGlvbiB0byBhdm9pZCBvdXIgZG9tTWFuaXAgQUpBWCB0cmlja2VyeVxuXHRcdFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKCBzY3JpcHRbIDAgXSApO1xuXHRcdFx0fSxcblx0XHRcdGFib3J0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxufSApO1xuXG5cblxuXG52YXIgb2xkQ2FsbGJhY2tzID0gW10sXG5cdHJqc29ucCA9IC8oPSlcXD8oPz0mfCQpfFxcP1xcPy87XG5cbi8vIERlZmF1bHQganNvbnAgc2V0dGluZ3NcbmpRdWVyeS5hamF4U2V0dXAoIHtcblx0anNvbnA6IFwiY2FsbGJhY2tcIixcblx0anNvbnBDYWxsYmFjazogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGNhbGxiYWNrID0gb2xkQ2FsbGJhY2tzLnBvcCgpIHx8ICggalF1ZXJ5LmV4cGFuZG8gKyBcIl9cIiArICggbm9uY2UrKyApICk7XG5cdFx0dGhpc1sgY2FsbGJhY2sgXSA9IHRydWU7XG5cdFx0cmV0dXJuIGNhbGxiYWNrO1xuXHR9XG59ICk7XG5cbi8vIERldGVjdCwgbm9ybWFsaXplIG9wdGlvbnMgYW5kIGluc3RhbGwgY2FsbGJhY2tzIGZvciBqc29ucCByZXF1ZXN0c1xualF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIFwianNvbiBqc29ucFwiLCBmdW5jdGlvbiggcywgb3JpZ2luYWxTZXR0aW5ncywganFYSFIgKSB7XG5cblx0dmFyIGNhbGxiYWNrTmFtZSwgb3ZlcndyaXR0ZW4sIHJlc3BvbnNlQ29udGFpbmVyLFxuXHRcdGpzb25Qcm9wID0gcy5qc29ucCAhPT0gZmFsc2UgJiYgKCByanNvbnAudGVzdCggcy51cmwgKSA/XG5cdFx0XHRcInVybFwiIDpcblx0XHRcdHR5cGVvZiBzLmRhdGEgPT09IFwic3RyaW5nXCIgJiZcblx0XHRcdFx0KCBzLmNvbnRlbnRUeXBlIHx8IFwiXCIgKVxuXHRcdFx0XHRcdC5pbmRleE9mKCBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiICkgPT09IDAgJiZcblx0XHRcdFx0cmpzb25wLnRlc3QoIHMuZGF0YSApICYmIFwiZGF0YVwiXG5cdFx0KTtcblxuXHQvLyBIYW5kbGUgaWZmIHRoZSBleHBlY3RlZCBkYXRhIHR5cGUgaXMgXCJqc29ucFwiIG9yIHdlIGhhdmUgYSBwYXJhbWV0ZXIgdG8gc2V0XG5cdGlmICgganNvblByb3AgfHwgcy5kYXRhVHlwZXNbIDAgXSA9PT0gXCJqc29ucFwiICkge1xuXG5cdFx0Ly8gR2V0IGNhbGxiYWNrIG5hbWUsIHJlbWVtYmVyaW5nIHByZWV4aXN0aW5nIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCBpdFxuXHRcdGNhbGxiYWNrTmFtZSA9IHMuanNvbnBDYWxsYmFjayA9IGpRdWVyeS5pc0Z1bmN0aW9uKCBzLmpzb25wQ2FsbGJhY2sgKSA/XG5cdFx0XHRzLmpzb25wQ2FsbGJhY2soKSA6XG5cdFx0XHRzLmpzb25wQ2FsbGJhY2s7XG5cblx0XHQvLyBJbnNlcnQgY2FsbGJhY2sgaW50byB1cmwgb3IgZm9ybSBkYXRhXG5cdFx0aWYgKCBqc29uUHJvcCApIHtcblx0XHRcdHNbIGpzb25Qcm9wIF0gPSBzWyBqc29uUHJvcCBdLnJlcGxhY2UoIHJqc29ucCwgXCIkMVwiICsgY2FsbGJhY2tOYW1lICk7XG5cdFx0fSBlbHNlIGlmICggcy5qc29ucCAhPT0gZmFsc2UgKSB7XG5cdFx0XHRzLnVybCArPSAoIHJxdWVyeS50ZXN0KCBzLnVybCApID8gXCImXCIgOiBcIj9cIiApICsgcy5qc29ucCArIFwiPVwiICsgY2FsbGJhY2tOYW1lO1xuXHRcdH1cblxuXHRcdC8vIFVzZSBkYXRhIGNvbnZlcnRlciB0byByZXRyaWV2ZSBqc29uIGFmdGVyIHNjcmlwdCBleGVjdXRpb25cblx0XHRzLmNvbnZlcnRlcnNbIFwic2NyaXB0IGpzb25cIiBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoICFyZXNwb25zZUNvbnRhaW5lciApIHtcblx0XHRcdFx0alF1ZXJ5LmVycm9yKCBjYWxsYmFja05hbWUgKyBcIiB3YXMgbm90IGNhbGxlZFwiICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzcG9uc2VDb250YWluZXJbIDAgXTtcblx0XHR9O1xuXG5cdFx0Ly8gRm9yY2UganNvbiBkYXRhVHlwZVxuXHRcdHMuZGF0YVR5cGVzWyAwIF0gPSBcImpzb25cIjtcblxuXHRcdC8vIEluc3RhbGwgY2FsbGJhY2tcblx0XHRvdmVyd3JpdHRlbiA9IHdpbmRvd1sgY2FsbGJhY2tOYW1lIF07XG5cdFx0d2luZG93WyBjYWxsYmFja05hbWUgXSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmVzcG9uc2VDb250YWluZXIgPSBhcmd1bWVudHM7XG5cdFx0fTtcblxuXHRcdC8vIENsZWFuLXVwIGZ1bmN0aW9uIChmaXJlcyBhZnRlciBjb252ZXJ0ZXJzKVxuXHRcdGpxWEhSLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIElmIHByZXZpb3VzIHZhbHVlIGRpZG4ndCBleGlzdCAtIHJlbW92ZSBpdFxuXHRcdFx0aWYgKCBvdmVyd3JpdHRlbiA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRqUXVlcnkoIHdpbmRvdyApLnJlbW92ZVByb3AoIGNhbGxiYWNrTmFtZSApO1xuXG5cdFx0XHQvLyBPdGhlcndpc2UgcmVzdG9yZSBwcmVleGlzdGluZyB2YWx1ZVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0d2luZG93WyBjYWxsYmFja05hbWUgXSA9IG92ZXJ3cml0dGVuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTYXZlIGJhY2sgYXMgZnJlZVxuXHRcdFx0aWYgKCBzWyBjYWxsYmFja05hbWUgXSApIHtcblxuXHRcdFx0XHQvLyBNYWtlIHN1cmUgdGhhdCByZS11c2luZyB0aGUgb3B0aW9ucyBkb2Vzbid0IHNjcmV3IHRoaW5ncyBhcm91bmRcblx0XHRcdFx0cy5qc29ucENhbGxiYWNrID0gb3JpZ2luYWxTZXR0aW5ncy5qc29ucENhbGxiYWNrO1xuXG5cdFx0XHRcdC8vIFNhdmUgdGhlIGNhbGxiYWNrIG5hbWUgZm9yIGZ1dHVyZSB1c2Vcblx0XHRcdFx0b2xkQ2FsbGJhY2tzLnB1c2goIGNhbGxiYWNrTmFtZSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDYWxsIGlmIGl0IHdhcyBhIGZ1bmN0aW9uIGFuZCB3ZSBoYXZlIGEgcmVzcG9uc2Vcblx0XHRcdGlmICggcmVzcG9uc2VDb250YWluZXIgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oIG92ZXJ3cml0dGVuICkgKSB7XG5cdFx0XHRcdG92ZXJ3cml0dGVuKCByZXNwb25zZUNvbnRhaW5lclsgMCBdICk7XG5cdFx0XHR9XG5cblx0XHRcdHJlc3BvbnNlQ29udGFpbmVyID0gb3ZlcndyaXR0ZW4gPSB1bmRlZmluZWQ7XG5cdFx0fSApO1xuXG5cdFx0Ly8gRGVsZWdhdGUgdG8gc2NyaXB0XG5cdFx0cmV0dXJuIFwic2NyaXB0XCI7XG5cdH1cbn0gKTtcblxuXG5cblxuLy8gU3VwcG9ydDogU2FmYXJpIDggb25seVxuLy8gSW4gU2FmYXJpIDggZG9jdW1lbnRzIGNyZWF0ZWQgdmlhIGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudFxuLy8gY29sbGFwc2Ugc2libGluZyBmb3JtczogdGhlIHNlY29uZCBvbmUgYmVjb21lcyBhIGNoaWxkIG9mIHRoZSBmaXJzdCBvbmUuXG4vLyBCZWNhdXNlIG9mIHRoYXQsIHRoaXMgc2VjdXJpdHkgbWVhc3VyZSBoYXMgdG8gYmUgZGlzYWJsZWQgaW4gU2FmYXJpIDguXG4vLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM3MzM3XG5zdXBwb3J0LmNyZWF0ZUhUTUxEb2N1bWVudCA9ICggZnVuY3Rpb24oKSB7XG5cdHZhciBib2R5ID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCBcIlwiICkuYm9keTtcblx0Ym9keS5pbm5lckhUTUwgPSBcIjxmb3JtPjwvZm9ybT48Zm9ybT48L2Zvcm0+XCI7XG5cdHJldHVybiBib2R5LmNoaWxkTm9kZXMubGVuZ3RoID09PSAyO1xufSApKCk7XG5cblxuLy8gQXJndW1lbnQgXCJkYXRhXCIgc2hvdWxkIGJlIHN0cmluZyBvZiBodG1sXG4vLyBjb250ZXh0IChvcHRpb25hbCk6IElmIHNwZWNpZmllZCwgdGhlIGZyYWdtZW50IHdpbGwgYmUgY3JlYXRlZCBpbiB0aGlzIGNvbnRleHQsXG4vLyBkZWZhdWx0cyB0byBkb2N1bWVudFxuLy8ga2VlcFNjcmlwdHMgKG9wdGlvbmFsKTogSWYgdHJ1ZSwgd2lsbCBpbmNsdWRlIHNjcmlwdHMgcGFzc2VkIGluIHRoZSBodG1sIHN0cmluZ1xualF1ZXJ5LnBhcnNlSFRNTCA9IGZ1bmN0aW9uKCBkYXRhLCBjb250ZXh0LCBrZWVwU2NyaXB0cyApIHtcblx0aWYgKCB0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRyZXR1cm4gW107XG5cdH1cblx0aWYgKCB0eXBlb2YgY29udGV4dCA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0a2VlcFNjcmlwdHMgPSBjb250ZXh0O1xuXHRcdGNvbnRleHQgPSBmYWxzZTtcblx0fVxuXG5cdHZhciBiYXNlLCBwYXJzZWQsIHNjcmlwdHM7XG5cblx0aWYgKCAhY29udGV4dCApIHtcblxuXHRcdC8vIFN0b3Agc2NyaXB0cyBvciBpbmxpbmUgZXZlbnQgaGFuZGxlcnMgZnJvbSBiZWluZyBleGVjdXRlZCBpbW1lZGlhdGVseVxuXHRcdC8vIGJ5IHVzaW5nIGRvY3VtZW50LmltcGxlbWVudGF0aW9uXG5cdFx0aWYgKCBzdXBwb3J0LmNyZWF0ZUhUTUxEb2N1bWVudCApIHtcblx0XHRcdGNvbnRleHQgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIFwiXCIgKTtcblxuXHRcdFx0Ly8gU2V0IHRoZSBiYXNlIGhyZWYgZm9yIHRoZSBjcmVhdGVkIGRvY3VtZW50XG5cdFx0XHQvLyBzbyBhbnkgcGFyc2VkIGVsZW1lbnRzIHdpdGggVVJMc1xuXHRcdFx0Ly8gYXJlIGJhc2VkIG9uIHRoZSBkb2N1bWVudCdzIFVSTCAoZ2gtMjk2NSlcblx0XHRcdGJhc2UgPSBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoIFwiYmFzZVwiICk7XG5cdFx0XHRiYXNlLmhyZWYgPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmO1xuXHRcdFx0Y29udGV4dC5oZWFkLmFwcGVuZENoaWxkKCBiYXNlICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnRleHQgPSBkb2N1bWVudDtcblx0XHR9XG5cdH1cblxuXHRwYXJzZWQgPSByc2luZ2xlVGFnLmV4ZWMoIGRhdGEgKTtcblx0c2NyaXB0cyA9ICFrZWVwU2NyaXB0cyAmJiBbXTtcblxuXHQvLyBTaW5nbGUgdGFnXG5cdGlmICggcGFyc2VkICkge1xuXHRcdHJldHVybiBbIGNvbnRleHQuY3JlYXRlRWxlbWVudCggcGFyc2VkWyAxIF0gKSBdO1xuXHR9XG5cblx0cGFyc2VkID0gYnVpbGRGcmFnbWVudCggWyBkYXRhIF0sIGNvbnRleHQsIHNjcmlwdHMgKTtcblxuXHRpZiAoIHNjcmlwdHMgJiYgc2NyaXB0cy5sZW5ndGggKSB7XG5cdFx0alF1ZXJ5KCBzY3JpcHRzICkucmVtb3ZlKCk7XG5cdH1cblxuXHRyZXR1cm4galF1ZXJ5Lm1lcmdlKCBbXSwgcGFyc2VkLmNoaWxkTm9kZXMgKTtcbn07XG5cblxuLyoqXG4gKiBMb2FkIGEgdXJsIGludG8gYSBwYWdlXG4gKi9cbmpRdWVyeS5mbi5sb2FkID0gZnVuY3Rpb24oIHVybCwgcGFyYW1zLCBjYWxsYmFjayApIHtcblx0dmFyIHNlbGVjdG9yLCB0eXBlLCByZXNwb25zZSxcblx0XHRzZWxmID0gdGhpcyxcblx0XHRvZmYgPSB1cmwuaW5kZXhPZiggXCIgXCIgKTtcblxuXHRpZiAoIG9mZiA+IC0xICkge1xuXHRcdHNlbGVjdG9yID0galF1ZXJ5LnRyaW0oIHVybC5zbGljZSggb2ZmICkgKTtcblx0XHR1cmwgPSB1cmwuc2xpY2UoIDAsIG9mZiApO1xuXHR9XG5cblx0Ly8gSWYgaXQncyBhIGZ1bmN0aW9uXG5cdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHBhcmFtcyApICkge1xuXG5cdFx0Ly8gV2UgYXNzdW1lIHRoYXQgaXQncyB0aGUgY2FsbGJhY2tcblx0XHRjYWxsYmFjayA9IHBhcmFtcztcblx0XHRwYXJhbXMgPSB1bmRlZmluZWQ7XG5cblx0Ly8gT3RoZXJ3aXNlLCBidWlsZCBhIHBhcmFtIHN0cmluZ1xuXHR9IGVsc2UgaWYgKCBwYXJhbXMgJiYgdHlwZW9mIHBhcmFtcyA9PT0gXCJvYmplY3RcIiApIHtcblx0XHR0eXBlID0gXCJQT1NUXCI7XG5cdH1cblxuXHQvLyBJZiB3ZSBoYXZlIGVsZW1lbnRzIHRvIG1vZGlmeSwgbWFrZSB0aGUgcmVxdWVzdFxuXHRpZiAoIHNlbGYubGVuZ3RoID4gMCApIHtcblx0XHRqUXVlcnkuYWpheCgge1xuXHRcdFx0dXJsOiB1cmwsXG5cblx0XHRcdC8vIElmIFwidHlwZVwiIHZhcmlhYmxlIGlzIHVuZGVmaW5lZCwgdGhlbiBcIkdFVFwiIG1ldGhvZCB3aWxsIGJlIHVzZWQuXG5cdFx0XHQvLyBNYWtlIHZhbHVlIG9mIHRoaXMgZmllbGQgZXhwbGljaXQgc2luY2Vcblx0XHRcdC8vIHVzZXIgY2FuIG92ZXJyaWRlIGl0IHRocm91Z2ggYWpheFNldHVwIG1ldGhvZFxuXHRcdFx0dHlwZTogdHlwZSB8fCBcIkdFVFwiLFxuXHRcdFx0ZGF0YVR5cGU6IFwiaHRtbFwiLFxuXHRcdFx0ZGF0YTogcGFyYW1zXG5cdFx0fSApLmRvbmUoIGZ1bmN0aW9uKCByZXNwb25zZVRleHQgKSB7XG5cblx0XHRcdC8vIFNhdmUgcmVzcG9uc2UgZm9yIHVzZSBpbiBjb21wbGV0ZSBjYWxsYmFja1xuXHRcdFx0cmVzcG9uc2UgPSBhcmd1bWVudHM7XG5cblx0XHRcdHNlbGYuaHRtbCggc2VsZWN0b3IgP1xuXG5cdFx0XHRcdC8vIElmIGEgc2VsZWN0b3Igd2FzIHNwZWNpZmllZCwgbG9jYXRlIHRoZSByaWdodCBlbGVtZW50cyBpbiBhIGR1bW15IGRpdlxuXHRcdFx0XHQvLyBFeGNsdWRlIHNjcmlwdHMgdG8gYXZvaWQgSUUgJ1Blcm1pc3Npb24gRGVuaWVkJyBlcnJvcnNcblx0XHRcdFx0alF1ZXJ5KCBcIjxkaXY+XCIgKS5hcHBlbmQoIGpRdWVyeS5wYXJzZUhUTUwoIHJlc3BvbnNlVGV4dCApICkuZmluZCggc2VsZWN0b3IgKSA6XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIHVzZSB0aGUgZnVsbCByZXN1bHRcblx0XHRcdFx0cmVzcG9uc2VUZXh0ICk7XG5cblx0XHQvLyBJZiB0aGUgcmVxdWVzdCBzdWNjZWVkcywgdGhpcyBmdW5jdGlvbiBnZXRzIFwiZGF0YVwiLCBcInN0YXR1c1wiLCBcImpxWEhSXCJcblx0XHQvLyBidXQgdGhleSBhcmUgaWdub3JlZCBiZWNhdXNlIHJlc3BvbnNlIHdhcyBzZXQgYWJvdmUuXG5cdFx0Ly8gSWYgaXQgZmFpbHMsIHRoaXMgZnVuY3Rpb24gZ2V0cyBcImpxWEhSXCIsIFwic3RhdHVzXCIsIFwiZXJyb3JcIlxuXHRcdH0gKS5hbHdheXMoIGNhbGxiYWNrICYmIGZ1bmN0aW9uKCBqcVhIUiwgc3RhdHVzICkge1xuXHRcdFx0c2VsZi5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0Y2FsbGJhY2suYXBwbHkoIHRoaXMsIHJlc3BvbnNlIHx8IFsganFYSFIucmVzcG9uc2VUZXh0LCBzdGF0dXMsIGpxWEhSIF0gKTtcblx0XHRcdH0gKTtcblx0XHR9ICk7XG5cdH1cblxuXHRyZXR1cm4gdGhpcztcbn07XG5cblxuXG5cbi8vIEF0dGFjaCBhIGJ1bmNoIG9mIGZ1bmN0aW9ucyBmb3IgaGFuZGxpbmcgY29tbW9uIEFKQVggZXZlbnRzXG5qUXVlcnkuZWFjaCggW1xuXHRcImFqYXhTdGFydFwiLFxuXHRcImFqYXhTdG9wXCIsXG5cdFwiYWpheENvbXBsZXRlXCIsXG5cdFwiYWpheEVycm9yXCIsXG5cdFwiYWpheFN1Y2Nlc3NcIixcblx0XCJhamF4U2VuZFwiXG5dLCBmdW5jdGlvbiggaSwgdHlwZSApIHtcblx0alF1ZXJ5LmZuWyB0eXBlIF0gPSBmdW5jdGlvbiggZm4gKSB7XG5cdFx0cmV0dXJuIHRoaXMub24oIHR5cGUsIGZuICk7XG5cdH07XG59ICk7XG5cblxuXG5cbmpRdWVyeS5leHByLnBzZXVkb3MuYW5pbWF0ZWQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0cmV0dXJuIGpRdWVyeS5ncmVwKCBqUXVlcnkudGltZXJzLCBmdW5jdGlvbiggZm4gKSB7XG5cdFx0cmV0dXJuIGVsZW0gPT09IGZuLmVsZW07XG5cdH0gKS5sZW5ndGg7XG59O1xuXG5cblxuXG4vKipcbiAqIEdldHMgYSB3aW5kb3cgZnJvbSBhbiBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGdldFdpbmRvdyggZWxlbSApIHtcblx0cmV0dXJuIGpRdWVyeS5pc1dpbmRvdyggZWxlbSApID8gZWxlbSA6IGVsZW0ubm9kZVR5cGUgPT09IDkgJiYgZWxlbS5kZWZhdWx0Vmlldztcbn1cblxualF1ZXJ5Lm9mZnNldCA9IHtcblx0c2V0T2Zmc2V0OiBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgaSApIHtcblx0XHR2YXIgY3VyUG9zaXRpb24sIGN1ckxlZnQsIGN1ckNTU1RvcCwgY3VyVG9wLCBjdXJPZmZzZXQsIGN1ckNTU0xlZnQsIGNhbGN1bGF0ZVBvc2l0aW9uLFxuXHRcdFx0cG9zaXRpb24gPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBvc2l0aW9uXCIgKSxcblx0XHRcdGN1ckVsZW0gPSBqUXVlcnkoIGVsZW0gKSxcblx0XHRcdHByb3BzID0ge307XG5cblx0XHQvLyBTZXQgcG9zaXRpb24gZmlyc3QsIGluLWNhc2UgdG9wL2xlZnQgYXJlIHNldCBldmVuIG9uIHN0YXRpYyBlbGVtXG5cdFx0aWYgKCBwb3NpdGlvbiA9PT0gXCJzdGF0aWNcIiApIHtcblx0XHRcdGVsZW0uc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XG5cdFx0fVxuXG5cdFx0Y3VyT2Zmc2V0ID0gY3VyRWxlbS5vZmZzZXQoKTtcblx0XHRjdXJDU1NUb3AgPSBqUXVlcnkuY3NzKCBlbGVtLCBcInRvcFwiICk7XG5cdFx0Y3VyQ1NTTGVmdCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwibGVmdFwiICk7XG5cdFx0Y2FsY3VsYXRlUG9zaXRpb24gPSAoIHBvc2l0aW9uID09PSBcImFic29sdXRlXCIgfHwgcG9zaXRpb24gPT09IFwiZml4ZWRcIiApICYmXG5cdFx0XHQoIGN1ckNTU1RvcCArIGN1ckNTU0xlZnQgKS5pbmRleE9mKCBcImF1dG9cIiApID4gLTE7XG5cblx0XHQvLyBOZWVkIHRvIGJlIGFibGUgdG8gY2FsY3VsYXRlIHBvc2l0aW9uIGlmIGVpdGhlclxuXHRcdC8vIHRvcCBvciBsZWZ0IGlzIGF1dG8gYW5kIHBvc2l0aW9uIGlzIGVpdGhlciBhYnNvbHV0ZSBvciBmaXhlZFxuXHRcdGlmICggY2FsY3VsYXRlUG9zaXRpb24gKSB7XG5cdFx0XHRjdXJQb3NpdGlvbiA9IGN1ckVsZW0ucG9zaXRpb24oKTtcblx0XHRcdGN1clRvcCA9IGN1clBvc2l0aW9uLnRvcDtcblx0XHRcdGN1ckxlZnQgPSBjdXJQb3NpdGlvbi5sZWZ0O1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdGN1clRvcCA9IHBhcnNlRmxvYXQoIGN1ckNTU1RvcCApIHx8IDA7XG5cdFx0XHRjdXJMZWZ0ID0gcGFyc2VGbG9hdCggY3VyQ1NTTGVmdCApIHx8IDA7XG5cdFx0fVxuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggb3B0aW9ucyApICkge1xuXG5cdFx0XHQvLyBVc2UgalF1ZXJ5LmV4dGVuZCBoZXJlIHRvIGFsbG93IG1vZGlmaWNhdGlvbiBvZiBjb29yZGluYXRlcyBhcmd1bWVudCAoZ2gtMTg0OClcblx0XHRcdG9wdGlvbnMgPSBvcHRpb25zLmNhbGwoIGVsZW0sIGksIGpRdWVyeS5leHRlbmQoIHt9LCBjdXJPZmZzZXQgKSApO1xuXHRcdH1cblxuXHRcdGlmICggb3B0aW9ucy50b3AgIT0gbnVsbCApIHtcblx0XHRcdHByb3BzLnRvcCA9ICggb3B0aW9ucy50b3AgLSBjdXJPZmZzZXQudG9wICkgKyBjdXJUb3A7XG5cdFx0fVxuXHRcdGlmICggb3B0aW9ucy5sZWZ0ICE9IG51bGwgKSB7XG5cdFx0XHRwcm9wcy5sZWZ0ID0gKCBvcHRpb25zLmxlZnQgLSBjdXJPZmZzZXQubGVmdCApICsgY3VyTGVmdDtcblx0XHR9XG5cblx0XHRpZiAoIFwidXNpbmdcIiBpbiBvcHRpb25zICkge1xuXHRcdFx0b3B0aW9ucy51c2luZy5jYWxsKCBlbGVtLCBwcm9wcyApO1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdGN1ckVsZW0uY3NzKCBwcm9wcyApO1xuXHRcdH1cblx0fVxufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRvZmZzZXQ6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG5cdFx0Ly8gUHJlc2VydmUgY2hhaW5pbmcgZm9yIHNldHRlclxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiBvcHRpb25zID09PSB1bmRlZmluZWQgP1xuXHRcdFx0XHR0aGlzIDpcblx0XHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0XHRqUXVlcnkub2Zmc2V0LnNldE9mZnNldCggdGhpcywgb3B0aW9ucywgaSApO1xuXHRcdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0dmFyIGRvY0VsZW0sIHdpbiwgcmVjdCwgZG9jLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXTtcblxuXHRcdGlmICggIWVsZW0gKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdFx0Ly8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYVxuXHRcdC8vIGRpc2Nvbm5lY3RlZCBub2RlIGluIElFIHRocm93cyBhbiBlcnJvclxuXHRcdGlmICggIWVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4geyB0b3A6IDAsIGxlZnQ6IDAgfTtcblx0XHR9XG5cblx0XHRyZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXHRcdC8vIE1ha2Ugc3VyZSBlbGVtZW50IGlzIG5vdCBoaWRkZW4gKGRpc3BsYXk6IG5vbmUpXG5cdFx0aWYgKCByZWN0LndpZHRoIHx8IHJlY3QuaGVpZ2h0ICkge1xuXHRcdFx0ZG9jID0gZWxlbS5vd25lckRvY3VtZW50O1xuXHRcdFx0d2luID0gZ2V0V2luZG93KCBkb2MgKTtcblx0XHRcdGRvY0VsZW0gPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHR0b3A6IHJlY3QudG9wICsgd2luLnBhZ2VZT2Zmc2V0IC0gZG9jRWxlbS5jbGllbnRUb3AsXG5cdFx0XHRcdGxlZnQ6IHJlY3QubGVmdCArIHdpbi5wYWdlWE9mZnNldCAtIGRvY0VsZW0uY2xpZW50TGVmdFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBSZXR1cm4gemVyb3MgZm9yIGRpc2Nvbm5lY3RlZCBhbmQgaGlkZGVuIGVsZW1lbnRzIChnaC0yMzEwKVxuXHRcdHJldHVybiByZWN0O1xuXHR9LFxuXG5cdHBvc2l0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoICF0aGlzWyAwIF0gKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIG9mZnNldFBhcmVudCwgb2Zmc2V0LFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXSxcblx0XHRcdHBhcmVudE9mZnNldCA9IHsgdG9wOiAwLCBsZWZ0OiAwIH07XG5cblx0XHQvLyBGaXhlZCBlbGVtZW50cyBhcmUgb2Zmc2V0IGZyb20gd2luZG93IChwYXJlbnRPZmZzZXQgPSB7dG9wOjAsIGxlZnQ6IDB9LFxuXHRcdC8vIGJlY2F1c2UgaXQgaXMgaXRzIG9ubHkgb2Zmc2V0IHBhcmVudFxuXHRcdGlmICggalF1ZXJ5LmNzcyggZWxlbSwgXCJwb3NpdGlvblwiICkgPT09IFwiZml4ZWRcIiApIHtcblxuXHRcdFx0Ly8gQXNzdW1lIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBpcyB0aGVyZSB3aGVuIGNvbXB1dGVkIHBvc2l0aW9uIGlzIGZpeGVkXG5cdFx0XHRvZmZzZXQgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gR2V0ICpyZWFsKiBvZmZzZXRQYXJlbnRcblx0XHRcdG9mZnNldFBhcmVudCA9IHRoaXMub2Zmc2V0UGFyZW50KCk7XG5cblx0XHRcdC8vIEdldCBjb3JyZWN0IG9mZnNldHNcblx0XHRcdG9mZnNldCA9IHRoaXMub2Zmc2V0KCk7XG5cdFx0XHRpZiAoICFqUXVlcnkubm9kZU5hbWUoIG9mZnNldFBhcmVudFsgMCBdLCBcImh0bWxcIiApICkge1xuXHRcdFx0XHRwYXJlbnRPZmZzZXQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0KCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCBvZmZzZXRQYXJlbnQgYm9yZGVyc1xuXHRcdFx0cGFyZW50T2Zmc2V0ID0ge1xuXHRcdFx0XHR0b3A6IHBhcmVudE9mZnNldC50b3AgKyBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnRbIDAgXSwgXCJib3JkZXJUb3BXaWR0aFwiLCB0cnVlICksXG5cdFx0XHRcdGxlZnQ6IHBhcmVudE9mZnNldC5sZWZ0ICsgalF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50WyAwIF0sIFwiYm9yZGVyTGVmdFdpZHRoXCIsIHRydWUgKVxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBTdWJ0cmFjdCBwYXJlbnQgb2Zmc2V0cyBhbmQgZWxlbWVudCBtYXJnaW5zXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogb2Zmc2V0LnRvcCAtIHBhcmVudE9mZnNldC50b3AgLSBqUXVlcnkuY3NzKCBlbGVtLCBcIm1hcmdpblRvcFwiLCB0cnVlICksXG5cdFx0XHRsZWZ0OiBvZmZzZXQubGVmdCAtIHBhcmVudE9mZnNldC5sZWZ0IC0galF1ZXJ5LmNzcyggZWxlbSwgXCJtYXJnaW5MZWZ0XCIsIHRydWUgKVxuXHRcdH07XG5cdH0sXG5cblx0Ly8gVGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gZG9jdW1lbnRFbGVtZW50IGluIHRoZSBmb2xsb3dpbmcgY2FzZXM6XG5cdC8vIDEpIEZvciB0aGUgZWxlbWVudCBpbnNpZGUgdGhlIGlmcmFtZSB3aXRob3V0IG9mZnNldFBhcmVudCwgdGhpcyBtZXRob2Qgd2lsbCByZXR1cm5cblx0Ly8gICAgZG9jdW1lbnRFbGVtZW50IG9mIHRoZSBwYXJlbnQgd2luZG93XG5cdC8vIDIpIEZvciB0aGUgaGlkZGVuIG9yIGRldGFjaGVkIGVsZW1lbnRcblx0Ly8gMykgRm9yIGJvZHkgb3IgaHRtbCBlbGVtZW50LCBpLmUuIGluIGNhc2Ugb2YgdGhlIGh0bWwgbm9kZSAtIGl0IHdpbGwgcmV0dXJuIGl0c2VsZlxuXHQvL1xuXHQvLyBidXQgdGhvc2UgZXhjZXB0aW9ucyB3ZXJlIG5ldmVyIHByZXNlbnRlZCBhcyBhIHJlYWwgbGlmZSB1c2UtY2FzZXNcblx0Ly8gYW5kIG1pZ2h0IGJlIGNvbnNpZGVyZWQgYXMgbW9yZSBwcmVmZXJhYmxlIHJlc3VsdHMuXG5cdC8vXG5cdC8vIFRoaXMgbG9naWMsIGhvd2V2ZXIsIGlzIG5vdCBndWFyYW50ZWVkIGFuZCBjYW4gY2hhbmdlIGF0IGFueSBwb2ludCBpbiB0aGUgZnV0dXJlXG5cdG9mZnNldFBhcmVudDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBvZmZzZXRQYXJlbnQgPSB0aGlzLm9mZnNldFBhcmVudDtcblxuXHRcdFx0d2hpbGUgKCBvZmZzZXRQYXJlbnQgJiYgalF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCBcInBvc2l0aW9uXCIgKSA9PT0gXCJzdGF0aWNcIiApIHtcblx0XHRcdFx0b2Zmc2V0UGFyZW50ID0gb2Zmc2V0UGFyZW50Lm9mZnNldFBhcmVudDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG9mZnNldFBhcmVudCB8fCBkb2N1bWVudEVsZW1lbnQ7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbi8vIENyZWF0ZSBzY3JvbGxMZWZ0IGFuZCBzY3JvbGxUb3AgbWV0aG9kc1xualF1ZXJ5LmVhY2goIHsgc2Nyb2xsTGVmdDogXCJwYWdlWE9mZnNldFwiLCBzY3JvbGxUb3A6IFwicGFnZVlPZmZzZXRcIiB9LCBmdW5jdGlvbiggbWV0aG9kLCBwcm9wICkge1xuXHR2YXIgdG9wID0gXCJwYWdlWU9mZnNldFwiID09PSBwcm9wO1xuXG5cdGpRdWVyeS5mblsgbWV0aG9kIF0gPSBmdW5jdGlvbiggdmFsICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBtZXRob2QsIHZhbCApIHtcblx0XHRcdHZhciB3aW4gPSBnZXRXaW5kb3coIGVsZW0gKTtcblxuXHRcdFx0aWYgKCB2YWwgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0cmV0dXJuIHdpbiA/IHdpblsgcHJvcCBdIDogZWxlbVsgbWV0aG9kIF07XG5cdFx0XHR9XG5cblx0XHRcdGlmICggd2luICkge1xuXHRcdFx0XHR3aW4uc2Nyb2xsVG8oXG5cdFx0XHRcdFx0IXRvcCA/IHZhbCA6IHdpbi5wYWdlWE9mZnNldCxcblx0XHRcdFx0XHR0b3AgPyB2YWwgOiB3aW4ucGFnZVlPZmZzZXRcblx0XHRcdFx0KTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWxlbVsgbWV0aG9kIF0gPSB2YWw7XG5cdFx0XHR9XG5cdFx0fSwgbWV0aG9kLCB2YWwsIGFyZ3VtZW50cy5sZW5ndGggKTtcblx0fTtcbn0gKTtcblxuLy8gU3VwcG9ydDogU2FmYXJpIDw9NyAtIDkuMSwgQ2hyb21lIDw9MzcgLSA0OVxuLy8gQWRkIHRoZSB0b3AvbGVmdCBjc3NIb29rcyB1c2luZyBqUXVlcnkuZm4ucG9zaXRpb25cbi8vIFdlYmtpdCBidWc6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0yOTA4NFxuLy8gQmxpbmsgYnVnOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD01ODkzNDdcbi8vIGdldENvbXB1dGVkU3R5bGUgcmV0dXJucyBwZXJjZW50IHdoZW4gc3BlY2lmaWVkIGZvciB0b3AvbGVmdC9ib3R0b20vcmlnaHQ7XG4vLyByYXRoZXIgdGhhbiBtYWtlIHRoZSBjc3MgbW9kdWxlIGRlcGVuZCBvbiB0aGUgb2Zmc2V0IG1vZHVsZSwganVzdCBjaGVjayBmb3IgaXQgaGVyZVxualF1ZXJ5LmVhY2goIFsgXCJ0b3BcIiwgXCJsZWZ0XCIgXSwgZnVuY3Rpb24oIGksIHByb3AgKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgcHJvcCBdID0gYWRkR2V0SG9va0lmKCBzdXBwb3J0LnBpeGVsUG9zaXRpb24sXG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xuXHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRcdFx0Y29tcHV0ZWQgPSBjdXJDU1MoIGVsZW0sIHByb3AgKTtcblxuXHRcdFx0XHQvLyBJZiBjdXJDU1MgcmV0dXJucyBwZXJjZW50YWdlLCBmYWxsYmFjayB0byBvZmZzZXRcblx0XHRcdFx0cmV0dXJuIHJudW1ub25weC50ZXN0KCBjb21wdXRlZCApID9cblx0XHRcdFx0XHRqUXVlcnkoIGVsZW0gKS5wb3NpdGlvbigpWyBwcm9wIF0gKyBcInB4XCIgOlxuXHRcdFx0XHRcdGNvbXB1dGVkO1xuXHRcdFx0fVxuXHRcdH1cblx0KTtcbn0gKTtcblxuXG4vLyBDcmVhdGUgaW5uZXJIZWlnaHQsIGlubmVyV2lkdGgsIGhlaWdodCwgd2lkdGgsIG91dGVySGVpZ2h0IGFuZCBvdXRlcldpZHRoIG1ldGhvZHNcbmpRdWVyeS5lYWNoKCB7IEhlaWdodDogXCJoZWlnaHRcIiwgV2lkdGg6IFwid2lkdGhcIiB9LCBmdW5jdGlvbiggbmFtZSwgdHlwZSApIHtcblx0alF1ZXJ5LmVhY2goIHsgcGFkZGluZzogXCJpbm5lclwiICsgbmFtZSwgY29udGVudDogdHlwZSwgXCJcIjogXCJvdXRlclwiICsgbmFtZSB9LFxuXHRcdGZ1bmN0aW9uKCBkZWZhdWx0RXh0cmEsIGZ1bmNOYW1lICkge1xuXG5cdFx0Ly8gTWFyZ2luIGlzIG9ubHkgZm9yIG91dGVySGVpZ2h0LCBvdXRlcldpZHRoXG5cdFx0alF1ZXJ5LmZuWyBmdW5jTmFtZSBdID0gZnVuY3Rpb24oIG1hcmdpbiwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgY2hhaW5hYmxlID0gYXJndW1lbnRzLmxlbmd0aCAmJiAoIGRlZmF1bHRFeHRyYSB8fCB0eXBlb2YgbWFyZ2luICE9PSBcImJvb2xlYW5cIiApLFxuXHRcdFx0XHRleHRyYSA9IGRlZmF1bHRFeHRyYSB8fCAoIG1hcmdpbiA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gdHJ1ZSA/IFwibWFyZ2luXCIgOiBcImJvcmRlclwiICk7XG5cblx0XHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCB2YWx1ZSApIHtcblx0XHRcdFx0dmFyIGRvYztcblxuXHRcdFx0XHRpZiAoIGpRdWVyeS5pc1dpbmRvdyggZWxlbSApICkge1xuXG5cdFx0XHRcdFx0Ly8gJCggd2luZG93ICkub3V0ZXJXaWR0aC9IZWlnaHQgcmV0dXJuIHcvaCBpbmNsdWRpbmcgc2Nyb2xsYmFycyAoZ2gtMTcyOSlcblx0XHRcdFx0XHRyZXR1cm4gZnVuY05hbWUuaW5kZXhPZiggXCJvdXRlclwiICkgPT09IDAgP1xuXHRcdFx0XHRcdFx0ZWxlbVsgXCJpbm5lclwiICsgbmFtZSBdIDpcblx0XHRcdFx0XHRcdGVsZW0uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyBcImNsaWVudFwiICsgbmFtZSBdO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gR2V0IGRvY3VtZW50IHdpZHRoIG9yIGhlaWdodFxuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0ZG9jID0gZWxlbS5kb2N1bWVudEVsZW1lbnQ7XG5cblx0XHRcdFx0XHQvLyBFaXRoZXIgc2Nyb2xsW1dpZHRoL0hlaWdodF0gb3Igb2Zmc2V0W1dpZHRoL0hlaWdodF0gb3IgY2xpZW50W1dpZHRoL0hlaWdodF0sXG5cdFx0XHRcdFx0Ly8gd2hpY2hldmVyIGlzIGdyZWF0ZXN0XG5cdFx0XHRcdFx0cmV0dXJuIE1hdGgubWF4KFxuXHRcdFx0XHRcdFx0ZWxlbS5ib2R5WyBcInNjcm9sbFwiICsgbmFtZSBdLCBkb2NbIFwic2Nyb2xsXCIgKyBuYW1lIF0sXG5cdFx0XHRcdFx0XHRlbGVtLmJvZHlbIFwib2Zmc2V0XCIgKyBuYW1lIF0sIGRvY1sgXCJvZmZzZXRcIiArIG5hbWUgXSxcblx0XHRcdFx0XHRcdGRvY1sgXCJjbGllbnRcIiArIG5hbWUgXVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/XG5cblx0XHRcdFx0XHQvLyBHZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50LCByZXF1ZXN0aW5nIGJ1dCBub3QgZm9yY2luZyBwYXJzZUZsb2F0XG5cdFx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgdHlwZSwgZXh0cmEgKSA6XG5cblx0XHRcdFx0XHQvLyBTZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50XG5cdFx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCB0eXBlLCB2YWx1ZSwgZXh0cmEgKTtcblx0XHRcdH0sIHR5cGUsIGNoYWluYWJsZSA/IG1hcmdpbiA6IHVuZGVmaW5lZCwgY2hhaW5hYmxlICk7XG5cdFx0fTtcblx0fSApO1xufSApO1xuXG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblxuXHRiaW5kOiBmdW5jdGlvbiggdHlwZXMsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgbnVsbCwgZGF0YSwgZm4gKTtcblx0fSxcblx0dW5iaW5kOiBmdW5jdGlvbiggdHlwZXMsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9mZiggdHlwZXMsIG51bGwsIGZuICk7XG5cdH0sXG5cblx0ZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICk7XG5cdH0sXG5cdHVuZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGZuICkge1xuXG5cdFx0Ly8gKCBuYW1lc3BhY2UgKSBvciAoIHNlbGVjdG9yLCB0eXBlcyBbLCBmbl0gKVxuXHRcdHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxID9cblx0XHRcdHRoaXMub2ZmKCBzZWxlY3RvciwgXCIqKlwiICkgOlxuXHRcdFx0dGhpcy5vZmYoIHR5cGVzLCBzZWxlY3RvciB8fCBcIioqXCIsIGZuICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LnBhcnNlSlNPTiA9IEpTT04ucGFyc2U7XG5cblxuXG5cbi8vIFJlZ2lzdGVyIGFzIGEgbmFtZWQgQU1EIG1vZHVsZSwgc2luY2UgalF1ZXJ5IGNhbiBiZSBjb25jYXRlbmF0ZWQgd2l0aCBvdGhlclxuLy8gZmlsZXMgdGhhdCBtYXkgdXNlIGRlZmluZSwgYnV0IG5vdCB2aWEgYSBwcm9wZXIgY29uY2F0ZW5hdGlvbiBzY3JpcHQgdGhhdFxuLy8gdW5kZXJzdGFuZHMgYW5vbnltb3VzIEFNRCBtb2R1bGVzLiBBIG5hbWVkIEFNRCBpcyBzYWZlc3QgYW5kIG1vc3Qgcm9idXN0XG4vLyB3YXkgdG8gcmVnaXN0ZXIuIExvd2VyY2FzZSBqcXVlcnkgaXMgdXNlZCBiZWNhdXNlIEFNRCBtb2R1bGUgbmFtZXMgYXJlXG4vLyBkZXJpdmVkIGZyb20gZmlsZSBuYW1lcywgYW5kIGpRdWVyeSBpcyBub3JtYWxseSBkZWxpdmVyZWQgaW4gYSBsb3dlcmNhc2Vcbi8vIGZpbGUgbmFtZS4gRG8gdGhpcyBhZnRlciBjcmVhdGluZyB0aGUgZ2xvYmFsIHNvIHRoYXQgaWYgYW4gQU1EIG1vZHVsZSB3YW50c1xuLy8gdG8gY2FsbCBub0NvbmZsaWN0IHRvIGhpZGUgdGhpcyB2ZXJzaW9uIG9mIGpRdWVyeSwgaXQgd2lsbCB3b3JrLlxuXG4vLyBOb3RlIHRoYXQgZm9yIG1heGltdW0gcG9ydGFiaWxpdHksIGxpYnJhcmllcyB0aGF0IGFyZSBub3QgalF1ZXJ5IHNob3VsZFxuLy8gZGVjbGFyZSB0aGVtc2VsdmVzIGFzIGFub255bW91cyBtb2R1bGVzLCBhbmQgYXZvaWQgc2V0dGluZyBhIGdsb2JhbCBpZiBhblxuLy8gQU1EIGxvYWRlciBpcyBwcmVzZW50LiBqUXVlcnkgaXMgYSBzcGVjaWFsIGNhc2UuIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWVcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qcmJ1cmtlL3JlcXVpcmVqcy93aWtpL1VwZGF0aW5nLWV4aXN0aW5nLWxpYnJhcmllcyN3aWtpLWFub25cblxuaWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblx0ZGVmaW5lKCBcImpxdWVyeVwiLCBbXSwgZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGpRdWVyeTtcblx0fSApO1xufVxuXG5cblxuXG5cbnZhclxuXG5cdC8vIE1hcCBvdmVyIGpRdWVyeSBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxuXHRfalF1ZXJ5ID0gd2luZG93LmpRdWVyeSxcblxuXHQvLyBNYXAgb3ZlciB0aGUgJCBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxuXHRfJCA9IHdpbmRvdy4kO1xuXG5qUXVlcnkubm9Db25mbGljdCA9IGZ1bmN0aW9uKCBkZWVwICkge1xuXHRpZiAoIHdpbmRvdy4kID09PSBqUXVlcnkgKSB7XG5cdFx0d2luZG93LiQgPSBfJDtcblx0fVxuXG5cdGlmICggZGVlcCAmJiB3aW5kb3cualF1ZXJ5ID09PSBqUXVlcnkgKSB7XG5cdFx0d2luZG93LmpRdWVyeSA9IF9qUXVlcnk7XG5cdH1cblxuXHRyZXR1cm4galF1ZXJ5O1xufTtcblxuLy8gRXhwb3NlIGpRdWVyeSBhbmQgJCBpZGVudGlmaWVycywgZXZlbiBpbiBBTURcbi8vICgjNzEwMiNjb21tZW50OjEwLCBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS9wdWxsLzU1Nylcbi8vIGFuZCBDb21tb25KUyBmb3IgYnJvd3NlciBlbXVsYXRvcnMgKCMxMzU2NilcbmlmICggIW5vR2xvYmFsICkge1xuXHR3aW5kb3cualF1ZXJ5ID0gd2luZG93LiQgPSBqUXVlcnk7XG59XG5cblxucmV0dXJuIGpRdWVyeTtcbn0gKTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2pxdWVyeS9kaXN0L2pxdWVyeS5qc1xuICoqIG1vZHVsZSBpZCA9IDQzXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsIi8vIHRoZSB3aGF0d2ctZmV0Y2ggcG9seWZpbGwgaW5zdGFsbHMgdGhlIGZldGNoKCkgZnVuY3Rpb25cbi8vIG9uIHRoZSBnbG9iYWwgb2JqZWN0ICh3aW5kb3cgb3Igc2VsZilcbi8vXG4vLyBSZXR1cm4gdGhhdCBhcyB0aGUgZXhwb3J0IGZvciB1c2UgaW4gV2VicGFjaywgQnJvd3NlcmlmeSBldGMuXG5yZXF1aXJlKCd3aGF0d2ctZmV0Y2gnKTtcbm1vZHVsZS5leHBvcnRzID0gc2VsZi5mZXRjaC5iaW5kKHNlbGYpO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vaXNvbW9ycGhpYy1mZXRjaC9mZXRjaC1ucG0tYnJvd3NlcmlmeS5qc1xuICoqIG1vZHVsZSBpZCA9IDQ0XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsImltcG9ydCBQcm9taXNlIGZyb20gJ2JsdWViaXJkJztcblxuY2xhc3MgQnJvd3NlciB7XG4gICAgc3RhdGljIGlzVmFsaWRVcmwodXJsKSB7XG4gICAgICAgIGxldCBtYXRjaGVzVmFsaWQgPSB0cnVlO1xuICAgICAgICBsZXQgbWF0Y2hlc0ludmFsaWQgPSBmYWxzZTtcblxuICAgICAgICBjb25zdCBpbnZhbGlkUmVnZXggPSBbL1xcLnBkZiQvaSwgL1xcLmpwZyQvaSwgL1xcLnBuZyQvLCAvXFwuZ2lmJC9dO1xuICAgICAgICBjb25zdCB2YWxpZFJlZ2V4ID0gWy9eaHR0cC9dO1xuXG4gICAgICAgIGludmFsaWRSZWdleC5mb3JFYWNoKChyZWdleCkgPT4ge1xuICAgICAgICAgICAgbWF0Y2hlc0ludmFsaWQgPSBtYXRjaGVzSW52YWxpZCB8fCByZWdleC50ZXN0KHVybCk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YWxpZFJlZ2V4LmZvckVhY2goKHJlZ2V4KSA9PiB7XG4gICAgICAgICAgICBtYXRjaGVzVmFsaWQgPSBtYXRjaGVzVmFsaWQgJiYgcmVnZXgudGVzdCh1cmwpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gbWF0Y2hlc1ZhbGlkICYmICFtYXRjaGVzSW52YWxpZDtcbiAgICB9XG5cbiAgICBzdGF0aWMgZmlsdGVyVXJscyh1cmxzKSB7XG4gICAgICAgIHJldHVybiAodXJscyB8fCBbXSkuZmlsdGVyKEJyb3dzZXIuaXNWYWxpZFVybCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGlzQmFja2dyb3VuZE1zZyhzZW5kZXIpIHtcbiAgICAgICAgcmV0dXJuIHNlbmRlci51cmwuaW5kZXhPZignYmFja2dyb3VuZF9wYWdlJykgPiAtMTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaXNQb3B1cE1zZyhzZW5kZXIpIHtcbiAgICAgICAgcmV0dXJuIHNlbmRlci51cmwuaW5kZXhPZigncG9wdXAnKSA+IC0xO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRDdXJyZW50V2luZG93VGFicygpIHtcbiAgICAgICAgbGV0IHByb21pc2U7XG4gICAgICAgIGlmIChjaHJvbWUpIHtcbiAgICAgICAgICAgIHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgY2hyb21lLndpbmRvd3MuZ2V0Q3VycmVudCh7IHBvcHVsYXRlOiB0cnVlIH0sIChjdXJyZW50V2luZG93KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50V2luZG93LnRhYnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdlYnNpdGVUYWJzID0gY3VycmVudFdpbmRvdy50YWJzLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGFiKSA9PiBCcm93c2VyLmlzVmFsaWRVcmwodGFiLnVybClcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHdlYnNpdGVUYWJzKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ05vIHRhYnMhJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4geyByZXNvbHZlKG51bGwpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0VGFic0h0bWwodGFicykge1xuICAgICAgICBjb25zdCBjb2RlID0gJ2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUwnO1xuICAgICAgICBjb25zdCBodG1sUHJvbWlzZXMgPSB0YWJzLm1hcCgodGFiKSA9PiB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNocm9tZS50YWJzLmV4ZWN1dGVTY3JpcHQodGFiLmlkLCB7IGNvZGUgfSwgKGh0bWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZFRhYiA9IHRhYjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh0bWwgJiYgaHRtbFswXSAmJiBodG1sWzBdLm1hdGNoKC9odG1sL2kpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkVGFiLmh0bWwgPSBodG1sWzBdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFRhYi5odG1sID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHVwZGF0ZWRUYWIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChodG1sUHJvbWlzZXMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRMb2NhbFN0b3JhZ2UoZmllbGRzKSB7XG4gICAgICAgIGxldCBwcm9taXNlO1xuICAgICAgICBpZiAoY2hyb21lKSB7XG4gICAgICAgICAgICBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoZmllbGRzLCAoc3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShzdGF0ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0TG9jYWxTdG9yYWdlKGtleVZhbHVlcykge1xuICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoa2V5VmFsdWVzKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2VuZE1lc3NhZ2UoLi4uYXJncykge1xuICAgICAgICBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZS5hcHBseShjaHJvbWUucnVudGltZSwgYXJncyk7XG4gICAgfVxuXG4gICAgc3RhdGljIG9uQmFja2dyb3VuZE1lc3NhZ2UoY2IpIHtcbiAgICAgICAgY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKChyZXF1ZXN0LCBzZW5kZXIpID0+IHtcbiAgICAgICAgICAgIGlmIChCcm93c2VyLmlzQmFja2dyb3VuZE1zZyhzZW5kZXIpKSB7XG4gICAgICAgICAgICAgICAgY2IocmVxdWVzdCwgc2VuZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhdGljIG9uRm9yZWdyb3VuZE1lc3NhZ2UoY2IpIHtcbiAgICAgICAgY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKChyZXF1ZXN0LCBzZW5kZXIpID0+IHtcbiAgICAgICAgICAgIGlmIChCcm93c2VyLmlzUG9wdXBNc2coc2VuZGVyKSkge1xuICAgICAgICAgICAgICAgIGNiKHJlcXVlc3QsIHNlbmRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBkb3dubG9hZChwYXJhbXMpIHtcbiAgICAgICAgbGV0IHByb21pc2U7XG4gICAgICAgIGlmIChjaHJvbWUpIHtcbiAgICAgICAgICAgIHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgY2hyb21lLmRvd25sb2Fkcy5kb3dubG9hZChwYXJhbXMsIChkb3dubG9hZElkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvd25sb2FkTGlzdGVuZXIgPSBjaHJvbWUuZG93bmxvYWRzLm9uQ2hhbmdlZC5hZGRMaXN0ZW5lcigoZG93bmxvYWRJbmZvKSA9PiB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb3dubG9hZEluZm8uaWQgPT09IGRvd25sb2FkSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG93bmxvYWRJbmZvLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRvd25sb2FkSW5mby5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNocm9tZS5kb3dubG9hZHMub25DaGFuZ2VkLnJlbW92ZUxpc3RlbmVyKGRvd25sb2FkTGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZG93bmxvYWRJbmZvLmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRvd25sb2FkSW5mby5lbmRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlbmQgdGltZTogJywgZG93bmxvYWRJbmZvLmVuZFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHJvbWUuZG93bmxvYWRzLm9uQ2hhbmdlZC5yZW1vdmVMaXN0ZW5lcihkb3dubG9hZExpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShkb3dubG9hZEluZm8uZW5kVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cblxuICAgIHN0YXRpYyBiYXNlVXJsKCkge1xuICAgICAgICByZXR1cm4gY2hyb21lLnJ1bnRpbWUuZ2V0TWFuaWZlc3QoKS5ob21lcGFnZV91cmw7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldE1hbmlmZXN0KCkge1xuICAgICAgICByZXR1cm4gY2hyb21lLnJ1bnRpbWUuZ2V0TWFuaWZlc3QoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0RXJyb3JNc2cobG9jYXRpb24sIHhocikge1xuICAgICAgICBsZXQgbXNnID0gbG9jYXRpb24gPyBgJHtsb2NhdGlvbn06ICBgIDogJyc7XG5cbiAgICAgICAgbXNnICs9IHhoci5yZXNwb25zZVRleHQgfHxcbiAgICAgICAgICAgICAgICBCcm93c2VyLkVSUk9SX0NPREVTW3hoci5zdGF0dXNUZXh0XSB8fFxuICAgICAgICAgICAgICAgIEJyb3dzZXIuRVJST1JfQ09ERVNbeGhyLnN0YXR1c10gfHxcbiAgICAgICAgICAgICAgICBCcm93c2VyLkVSUk9SX0NPREVTW3hoci5jdXJyZW50XSB8fFxuICAgICAgICAgICAgICAgICdVbmtub3duJztcblxuICAgICAgICByZXR1cm4gbXNnO1xuICAgIH1cbn1cblxuQnJvd3Nlci5FUlJPUl9DT0RFUyA9IHtcbiAgICAvLyBCb29rIENyZWF0ZSBFcnJvcnNcbiAgICAwOiAnU2VydmVyIGlzIGRvd24uIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyxcbiAgICA0MDA6ICdUaGVyZSB3YXMgYSBwcm9ibGVtIHdpdGggdGhlIHJlcXVlc3QuIElzIEVwdWJQcmVzcyB1cCB0byBkYXRlPycsXG4gICAgNDA0OiAnUmVzb3VyY2Ugbm90IGZvdW5kLicsXG4gICAgNTAwOiAnVW5leHBlY3RlZCBzZXJ2ZXIgZXJyb3IuJyxcbiAgICA1MDM6ICdTZXJ2ZXIgdG9vayB0b28gbG9uZyB0byByZXNwb25kLicsXG4gICAgdGltZW91dDogJ1JlcXVlc3QgdG9vayB0b28gbG9uZyB0byBjb21wbGV0ZS4nLFxuICAgIGVycm9yOiB1bmRlZmluZWQsXG4gICAgLy8gRG93bmxvYWQgRXJyb3JzXG4gICAgU0VSVkVSX0ZBSUxFRDogJ1NlcnZlciBlcnJvciB3aGlsZSBkb3dubG9hZGluZy4nLFxuICAgIFNFUlZFUl9CQURfQ09OVEVOVDogJ0Jvb2sgY291bGQgbm90IGJlIGZvdW5kJyxcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQnJvd3NlcjtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL3NjcmlwdHMvYnJvd3Nlci5qc1xuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanNcbiAqKiBtb2R1bGUgaWQgPSA0N1xuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIik7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfTtcbn0oKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanNcbiAqKiBtb2R1bGUgaWQgPSA0OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzXG4gKiogbW9kdWxlIGlkID0gNDlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKXtcbiAgcmV0dXJuICRPYmplY3QuZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzXG4gKiogbW9kdWxlIGlkID0gNTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwidmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbi8vIDE5LjEuMi40IC8gMTUuMi4zLjYgT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFyZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpLCAnT2JqZWN0Jywge2RlZmluZVByb3BlcnR5OiByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mfSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkuanNcbiAqKiBtb2R1bGUgaWQgPSA1MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCIvKiBAcHJlc2VydmVcbiAqIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuICogXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNSBQZXRrYSBBbnRvbm92XG4gKiBcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqIFxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICogXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuICBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKiBcbiAqL1xuLyoqXG4gKiBibHVlYmlyZCBidWlsZCB2ZXJzaW9uIDMuNC42XG4gKiBGZWF0dXJlcyBlbmFibGVkOiBjb3JlLCByYWNlLCBjYWxsX2dldCwgZ2VuZXJhdG9ycywgbWFwLCBub2RlaWZ5LCBwcm9taXNpZnksIHByb3BzLCByZWR1Y2UsIHNldHRsZSwgc29tZSwgdXNpbmcsIHRpbWVycywgZmlsdGVyLCBhbnksIGVhY2hcbiovXG4hZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciBmO1widW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/Zj13aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9mPWdsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmKGY9c2VsZiksZi5Qcm9taXNlPWUoKX19KGZ1bmN0aW9uKCl7dmFyIGRlZmluZSxtb2R1bGUsZXhwb3J0cztyZXR1cm4gKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiBfZGVyZXFfPT1cImZ1bmN0aW9uXCImJl9kZXJlcV87aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIF9kZXJlcV89PVwiZnVuY3Rpb25cIiYmX2RlcmVxXztmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UpIHtcbnZhciBTb21lUHJvbWlzZUFycmF5ID0gUHJvbWlzZS5fU29tZVByb21pc2VBcnJheTtcbmZ1bmN0aW9uIGFueShwcm9taXNlcykge1xuICAgIHZhciByZXQgPSBuZXcgU29tZVByb21pc2VBcnJheShwcm9taXNlcyk7XG4gICAgdmFyIHByb21pc2UgPSByZXQucHJvbWlzZSgpO1xuICAgIHJldC5zZXRIb3dNYW55KDEpO1xuICAgIHJldC5zZXRVbndyYXAoKTtcbiAgICByZXQuaW5pdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG5Qcm9taXNlLmFueSA9IGZ1bmN0aW9uIChwcm9taXNlcykge1xuICAgIHJldHVybiBhbnkocHJvbWlzZXMpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuYW55ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBhbnkodGhpcyk7XG59O1xuXG59O1xuXG59LHt9XSwyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xudmFyIGZpcnN0TGluZUVycm9yO1xudHJ5IHt0aHJvdyBuZXcgRXJyb3IoKTsgfSBjYXRjaCAoZSkge2ZpcnN0TGluZUVycm9yID0gZTt9XG52YXIgc2NoZWR1bGUgPSBfZGVyZXFfKFwiLi9zY2hlZHVsZVwiKTtcbnZhciBRdWV1ZSA9IF9kZXJlcV8oXCIuL3F1ZXVlXCIpO1xudmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXG5mdW5jdGlvbiBBc3luYygpIHtcbiAgICB0aGlzLl9jdXN0b21TY2hlZHVsZXIgPSBmYWxzZTtcbiAgICB0aGlzLl9pc1RpY2tVc2VkID0gZmFsc2U7XG4gICAgdGhpcy5fbGF0ZVF1ZXVlID0gbmV3IFF1ZXVlKDE2KTtcbiAgICB0aGlzLl9ub3JtYWxRdWV1ZSA9IG5ldyBRdWV1ZSgxNik7XG4gICAgdGhpcy5faGF2ZURyYWluZWRRdWV1ZXMgPSBmYWxzZTtcbiAgICB0aGlzLl90cmFtcG9saW5lRW5hYmxlZCA9IHRydWU7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMuZHJhaW5RdWV1ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYuX2RyYWluUXVldWVzKCk7XG4gICAgfTtcbiAgICB0aGlzLl9zY2hlZHVsZSA9IHNjaGVkdWxlO1xufVxuXG5Bc3luYy5wcm90b3R5cGUuc2V0U2NoZWR1bGVyID0gZnVuY3Rpb24oZm4pIHtcbiAgICB2YXIgcHJldiA9IHRoaXMuX3NjaGVkdWxlO1xuICAgIHRoaXMuX3NjaGVkdWxlID0gZm47XG4gICAgdGhpcy5fY3VzdG9tU2NoZWR1bGVyID0gdHJ1ZTtcbiAgICByZXR1cm4gcHJldjtcbn07XG5cbkFzeW5jLnByb3RvdHlwZS5oYXNDdXN0b21TY2hlZHVsZXIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tU2NoZWR1bGVyO1xufTtcblxuQXN5bmMucHJvdG90eXBlLmVuYWJsZVRyYW1wb2xpbmUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl90cmFtcG9saW5lRW5hYmxlZCA9IHRydWU7XG59O1xuXG5Bc3luYy5wcm90b3R5cGUuZGlzYWJsZVRyYW1wb2xpbmVJZk5lY2Vzc2FyeSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh1dGlsLmhhc0RldlRvb2xzKSB7XG4gICAgICAgIHRoaXMuX3RyYW1wb2xpbmVFbmFibGVkID0gZmFsc2U7XG4gICAgfVxufTtcblxuQXN5bmMucHJvdG90eXBlLmhhdmVJdGVtc1F1ZXVlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNUaWNrVXNlZCB8fCB0aGlzLl9oYXZlRHJhaW5lZFF1ZXVlcztcbn07XG5cblxuQXN5bmMucHJvdG90eXBlLmZhdGFsRXJyb3IgPSBmdW5jdGlvbihlLCBpc05vZGUpIHtcbiAgICBpZiAoaXNOb2RlKSB7XG4gICAgICAgIHByb2Nlc3Muc3RkZXJyLndyaXRlKFwiRmF0YWwgXCIgKyAoZSBpbnN0YW5jZW9mIEVycm9yID8gZS5zdGFjayA6IGUpICtcbiAgICAgICAgICAgIFwiXFxuXCIpO1xuICAgICAgICBwcm9jZXNzLmV4aXQoMik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50aHJvd0xhdGVyKGUpO1xuICAgIH1cbn07XG5cbkFzeW5jLnByb3RvdHlwZS50aHJvd0xhdGVyID0gZnVuY3Rpb24oZm4sIGFyZykge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGFyZyA9IGZuO1xuICAgICAgICBmbiA9IGZ1bmN0aW9uICgpIHsgdGhyb3cgYXJnOyB9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZuKGFyZyk7XG4gICAgICAgIH0sIDApO1xuICAgIH0gZWxzZSB0cnkge1xuICAgICAgICB0aGlzLl9zY2hlZHVsZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZuKGFyZyk7XG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYXN5bmMgc2NoZWR1bGVyIGF2YWlsYWJsZVxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG4gICAgfVxufTtcblxuZnVuY3Rpb24gQXN5bmNJbnZva2VMYXRlcihmbiwgcmVjZWl2ZXIsIGFyZykge1xuICAgIHRoaXMuX2xhdGVRdWV1ZS5wdXNoKGZuLCByZWNlaXZlciwgYXJnKTtcbiAgICB0aGlzLl9xdWV1ZVRpY2soKTtcbn1cblxuZnVuY3Rpb24gQXN5bmNJbnZva2UoZm4sIHJlY2VpdmVyLCBhcmcpIHtcbiAgICB0aGlzLl9ub3JtYWxRdWV1ZS5wdXNoKGZuLCByZWNlaXZlciwgYXJnKTtcbiAgICB0aGlzLl9xdWV1ZVRpY2soKTtcbn1cblxuZnVuY3Rpb24gQXN5bmNTZXR0bGVQcm9taXNlcyhwcm9taXNlKSB7XG4gICAgdGhpcy5fbm9ybWFsUXVldWUuX3B1c2hPbmUocHJvbWlzZSk7XG4gICAgdGhpcy5fcXVldWVUaWNrKCk7XG59XG5cbmlmICghdXRpbC5oYXNEZXZUb29scykge1xuICAgIEFzeW5jLnByb3RvdHlwZS5pbnZva2VMYXRlciA9IEFzeW5jSW52b2tlTGF0ZXI7XG4gICAgQXN5bmMucHJvdG90eXBlLmludm9rZSA9IEFzeW5jSW52b2tlO1xuICAgIEFzeW5jLnByb3RvdHlwZS5zZXR0bGVQcm9taXNlcyA9IEFzeW5jU2V0dGxlUHJvbWlzZXM7XG59IGVsc2Uge1xuICAgIEFzeW5jLnByb3RvdHlwZS5pbnZva2VMYXRlciA9IGZ1bmN0aW9uIChmbiwgcmVjZWl2ZXIsIGFyZykge1xuICAgICAgICBpZiAodGhpcy5fdHJhbXBvbGluZUVuYWJsZWQpIHtcbiAgICAgICAgICAgIEFzeW5jSW52b2tlTGF0ZXIuY2FsbCh0aGlzLCBmbiwgcmVjZWl2ZXIsIGFyZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zY2hlZHVsZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBmbi5jYWxsKHJlY2VpdmVyLCBhcmcpO1xuICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBBc3luYy5wcm90b3R5cGUuaW52b2tlID0gZnVuY3Rpb24gKGZuLCByZWNlaXZlciwgYXJnKSB7XG4gICAgICAgIGlmICh0aGlzLl90cmFtcG9saW5lRW5hYmxlZCkge1xuICAgICAgICAgICAgQXN5bmNJbnZva2UuY2FsbCh0aGlzLCBmbiwgcmVjZWl2ZXIsIGFyZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zY2hlZHVsZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBmbi5jYWxsKHJlY2VpdmVyLCBhcmcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgQXN5bmMucHJvdG90eXBlLnNldHRsZVByb21pc2VzID0gZnVuY3Rpb24ocHJvbWlzZSkge1xuICAgICAgICBpZiAodGhpcy5fdHJhbXBvbGluZUVuYWJsZWQpIHtcbiAgICAgICAgICAgIEFzeW5jU2V0dGxlUHJvbWlzZXMuY2FsbCh0aGlzLCBwcm9taXNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3NjaGVkdWxlKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHByb21pc2UuX3NldHRsZVByb21pc2VzKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbkFzeW5jLnByb3RvdHlwZS5pbnZva2VGaXJzdCA9IGZ1bmN0aW9uIChmbiwgcmVjZWl2ZXIsIGFyZykge1xuICAgIHRoaXMuX25vcm1hbFF1ZXVlLnVuc2hpZnQoZm4sIHJlY2VpdmVyLCBhcmcpO1xuICAgIHRoaXMuX3F1ZXVlVGljaygpO1xufTtcblxuQXN5bmMucHJvdG90eXBlLl9kcmFpblF1ZXVlID0gZnVuY3Rpb24ocXVldWUpIHtcbiAgICB3aGlsZSAocXVldWUubGVuZ3RoKCkgPiAwKSB7XG4gICAgICAgIHZhciBmbiA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgZm4uX3NldHRsZVByb21pc2VzKCk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVjZWl2ZXIgPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICB2YXIgYXJnID0gcXVldWUuc2hpZnQoKTtcbiAgICAgICAgZm4uY2FsbChyZWNlaXZlciwgYXJnKTtcbiAgICB9XG59O1xuXG5Bc3luYy5wcm90b3R5cGUuX2RyYWluUXVldWVzID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2RyYWluUXVldWUodGhpcy5fbm9ybWFsUXVldWUpO1xuICAgIHRoaXMuX3Jlc2V0KCk7XG4gICAgdGhpcy5faGF2ZURyYWluZWRRdWV1ZXMgPSB0cnVlO1xuICAgIHRoaXMuX2RyYWluUXVldWUodGhpcy5fbGF0ZVF1ZXVlKTtcbn07XG5cbkFzeW5jLnByb3RvdHlwZS5fcXVldWVUaWNrID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5faXNUaWNrVXNlZCkge1xuICAgICAgICB0aGlzLl9pc1RpY2tVc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fc2NoZWR1bGUodGhpcy5kcmFpblF1ZXVlcyk7XG4gICAgfVxufTtcblxuQXN5bmMucHJvdG90eXBlLl9yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9pc1RpY2tVc2VkID0gZmFsc2U7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFzeW5jO1xubW9kdWxlLmV4cG9ydHMuZmlyc3RMaW5lRXJyb3IgPSBmaXJzdExpbmVFcnJvcjtcblxufSx7XCIuL3F1ZXVlXCI6MjYsXCIuL3NjaGVkdWxlXCI6MjksXCIuL3V0aWxcIjozNn1dLDM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIElOVEVSTkFMLCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBkZWJ1Zykge1xudmFyIGNhbGxlZEJpbmQgPSBmYWxzZTtcbnZhciByZWplY3RUaGlzID0gZnVuY3Rpb24oXywgZSkge1xuICAgIHRoaXMuX3JlamVjdChlKTtcbn07XG5cbnZhciB0YXJnZXRSZWplY3RlZCA9IGZ1bmN0aW9uKGUsIGNvbnRleHQpIHtcbiAgICBjb250ZXh0LnByb21pc2VSZWplY3Rpb25RdWV1ZWQgPSB0cnVlO1xuICAgIGNvbnRleHQuYmluZGluZ1Byb21pc2UuX3RoZW4ocmVqZWN0VGhpcywgcmVqZWN0VGhpcywgbnVsbCwgdGhpcywgZSk7XG59O1xuXG52YXIgYmluZGluZ1Jlc29sdmVkID0gZnVuY3Rpb24odGhpc0FyZywgY29udGV4dCkge1xuICAgIGlmICgoKHRoaXMuX2JpdEZpZWxkICYgNTAzOTcxODQpID09PSAwKSkge1xuICAgICAgICB0aGlzLl9yZXNvbHZlQ2FsbGJhY2soY29udGV4dC50YXJnZXQpO1xuICAgIH1cbn07XG5cbnZhciBiaW5kaW5nUmVqZWN0ZWQgPSBmdW5jdGlvbihlLCBjb250ZXh0KSB7XG4gICAgaWYgKCFjb250ZXh0LnByb21pc2VSZWplY3Rpb25RdWV1ZWQpIHRoaXMuX3JlamVjdChlKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAodGhpc0FyZykge1xuICAgIGlmICghY2FsbGVkQmluZCkge1xuICAgICAgICBjYWxsZWRCaW5kID0gdHJ1ZTtcbiAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX3Byb3BhZ2F0ZUZyb20gPSBkZWJ1Zy5wcm9wYWdhdGVGcm9tRnVuY3Rpb24oKTtcbiAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX2JvdW5kVmFsdWUgPSBkZWJ1Zy5ib3VuZFZhbHVlRnVuY3Rpb24oKTtcbiAgICB9XG4gICAgdmFyIG1heWJlUHJvbWlzZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UodGhpc0FyZyk7XG4gICAgdmFyIHJldCA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcbiAgICByZXQuX3Byb3BhZ2F0ZUZyb20odGhpcywgMSk7XG4gICAgdmFyIHRhcmdldCA9IHRoaXMuX3RhcmdldCgpO1xuICAgIHJldC5fc2V0Qm91bmRUbyhtYXliZVByb21pc2UpO1xuICAgIGlmIChtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0ge1xuICAgICAgICAgICAgcHJvbWlzZVJlamVjdGlvblF1ZXVlZDogZmFsc2UsXG4gICAgICAgICAgICBwcm9taXNlOiByZXQsXG4gICAgICAgICAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICAgICAgICAgIGJpbmRpbmdQcm9taXNlOiBtYXliZVByb21pc2VcbiAgICAgICAgfTtcbiAgICAgICAgdGFyZ2V0Ll90aGVuKElOVEVSTkFMLCB0YXJnZXRSZWplY3RlZCwgdW5kZWZpbmVkLCByZXQsIGNvbnRleHQpO1xuICAgICAgICBtYXliZVByb21pc2UuX3RoZW4oXG4gICAgICAgICAgICBiaW5kaW5nUmVzb2x2ZWQsIGJpbmRpbmdSZWplY3RlZCwgdW5kZWZpbmVkLCByZXQsIGNvbnRleHQpO1xuICAgICAgICByZXQuX3NldE9uQ2FuY2VsKG1heWJlUHJvbWlzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0Ll9yZXNvbHZlQ2FsbGJhY2sodGFyZ2V0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXRCb3VuZFRvID0gZnVuY3Rpb24gKG9iaikge1xuICAgIGlmIChvYmogIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgMjA5NzE1MjtcbiAgICAgICAgdGhpcy5fYm91bmRUbyA9IG9iajtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkICYgKH4yMDk3MTUyKTtcbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5faXNCb3VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgMjA5NzE1MikgPT09IDIwOTcxNTI7XG59O1xuXG5Qcm9taXNlLmJpbmQgPSBmdW5jdGlvbiAodGhpc0FyZywgdmFsdWUpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS5iaW5kKHRoaXNBcmcpO1xufTtcbn07XG5cbn0se31dLDQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgb2xkO1xuaWYgKHR5cGVvZiBQcm9taXNlICE9PSBcInVuZGVmaW5lZFwiKSBvbGQgPSBQcm9taXNlO1xuZnVuY3Rpb24gbm9Db25mbGljdCgpIHtcbiAgICB0cnkgeyBpZiAoUHJvbWlzZSA9PT0gYmx1ZWJpcmQpIFByb21pc2UgPSBvbGQ7IH1cbiAgICBjYXRjaCAoZSkge31cbiAgICByZXR1cm4gYmx1ZWJpcmQ7XG59XG52YXIgYmx1ZWJpcmQgPSBfZGVyZXFfKFwiLi9wcm9taXNlXCIpKCk7XG5ibHVlYmlyZC5ub0NvbmZsaWN0ID0gbm9Db25mbGljdDtcbm1vZHVsZS5leHBvcnRzID0gYmx1ZWJpcmQ7XG5cbn0se1wiLi9wcm9taXNlXCI6MjJ9XSw1OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xudmFyIGNyID0gT2JqZWN0LmNyZWF0ZTtcbmlmIChjcikge1xuICAgIHZhciBjYWxsZXJDYWNoZSA9IGNyKG51bGwpO1xuICAgIHZhciBnZXR0ZXJDYWNoZSA9IGNyKG51bGwpO1xuICAgIGNhbGxlckNhY2hlW1wiIHNpemVcIl0gPSBnZXR0ZXJDYWNoZVtcIiBzaXplXCJdID0gMDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlKSB7XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgY2FuRXZhbHVhdGUgPSB1dGlsLmNhbkV2YWx1YXRlO1xudmFyIGlzSWRlbnRpZmllciA9IHV0aWwuaXNJZGVudGlmaWVyO1xuXG52YXIgZ2V0TWV0aG9kQ2FsbGVyO1xudmFyIGdldEdldHRlcjtcbmlmICghdHJ1ZSkge1xudmFyIG1ha2VNZXRob2RDYWxsZXIgPSBmdW5jdGlvbiAobWV0aG9kTmFtZSkge1xuICAgIHJldHVybiBuZXcgRnVuY3Rpb24oXCJlbnN1cmVNZXRob2RcIiwgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgJ3VzZSBzdHJpY3QnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgZW5zdXJlTWV0aG9kKG9iaiwgJ21ldGhvZE5hbWUnKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgc3dpdGNoKGxlbikgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG9iai5tZXRob2ROYW1lKHRoaXNbMF0pOyAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG9iai5tZXRob2ROYW1lKHRoaXNbMF0sIHRoaXNbMV0pOyAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIG9iai5tZXRob2ROYW1lKHRoaXNbMF0sIHRoaXNbMV0sIHRoaXNbMl0pOyAgICBcXG5cXFxuICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIG9iai5tZXRob2ROYW1lKCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqLm1ldGhvZE5hbWUuYXBwbHkob2JqLCB0aGlzKTsgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICB9OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICBcIi5yZXBsYWNlKC9tZXRob2ROYW1lL2csIG1ldGhvZE5hbWUpKShlbnN1cmVNZXRob2QpO1xufTtcblxudmFyIG1ha2VHZXR0ZXIgPSBmdW5jdGlvbiAocHJvcGVydHlOYW1lKSB7XG4gICAgcmV0dXJuIG5ldyBGdW5jdGlvbihcIm9ialwiLCBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICd1c2Ugc3RyaWN0JzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgIHJldHVybiBvYmoucHJvcGVydHlOYW1lOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgIFwiLnJlcGxhY2UoXCJwcm9wZXJ0eU5hbWVcIiwgcHJvcGVydHlOYW1lKSk7XG59O1xuXG52YXIgZ2V0Q29tcGlsZWQgPSBmdW5jdGlvbihuYW1lLCBjb21waWxlciwgY2FjaGUpIHtcbiAgICB2YXIgcmV0ID0gY2FjaGVbbmFtZV07XG4gICAgaWYgKHR5cGVvZiByZXQgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBpZiAoIWlzSWRlbnRpZmllcihuYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0ID0gY29tcGlsZXIobmFtZSk7XG4gICAgICAgIGNhY2hlW25hbWVdID0gcmV0O1xuICAgICAgICBjYWNoZVtcIiBzaXplXCJdKys7XG4gICAgICAgIGlmIChjYWNoZVtcIiBzaXplXCJdID4gNTEyKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGNhY2hlKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIGRlbGV0ZSBjYWNoZVtrZXlzW2ldXTtcbiAgICAgICAgICAgIGNhY2hlW1wiIHNpemVcIl0gPSBrZXlzLmxlbmd0aCAtIDI1NjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufTtcblxuZ2V0TWV0aG9kQ2FsbGVyID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiBnZXRDb21waWxlZChuYW1lLCBtYWtlTWV0aG9kQ2FsbGVyLCBjYWxsZXJDYWNoZSk7XG59O1xuXG5nZXRHZXR0ZXIgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgcmV0dXJuIGdldENvbXBpbGVkKG5hbWUsIG1ha2VHZXR0ZXIsIGdldHRlckNhY2hlKTtcbn07XG59XG5cbmZ1bmN0aW9uIGVuc3VyZU1ldGhvZChvYmosIG1ldGhvZE5hbWUpIHtcbiAgICB2YXIgZm47XG4gICAgaWYgKG9iaiAhPSBudWxsKSBmbiA9IG9ialttZXRob2ROYW1lXTtcbiAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBcIk9iamVjdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcob2JqKSArIFwiIGhhcyBubyBtZXRob2QgJ1wiICtcbiAgICAgICAgICAgIHV0aWwudG9TdHJpbmcobWV0aG9kTmFtZSkgKyBcIidcIjtcbiAgICAgICAgdGhyb3cgbmV3IFByb21pc2UuVHlwZUVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbiAgICByZXR1cm4gZm47XG59XG5cbmZ1bmN0aW9uIGNhbGxlcihvYmopIHtcbiAgICB2YXIgbWV0aG9kTmFtZSA9IHRoaXMucG9wKCk7XG4gICAgdmFyIGZuID0gZW5zdXJlTWV0aG9kKG9iaiwgbWV0aG9kTmFtZSk7XG4gICAgcmV0dXJuIGZuLmFwcGx5KG9iaiwgdGhpcyk7XG59XG5Qcm9taXNlLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKG1ldGhvZE5hbWUpIHtcbiAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTs7XG4gICAgaWYgKCF0cnVlKSB7XG4gICAgICAgIGlmIChjYW5FdmFsdWF0ZSkge1xuICAgICAgICAgICAgdmFyIG1heWJlQ2FsbGVyID0gZ2V0TWV0aG9kQ2FsbGVyKG1ldGhvZE5hbWUpO1xuICAgICAgICAgICAgaWYgKG1heWJlQ2FsbGVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RoZW4oXG4gICAgICAgICAgICAgICAgICAgIG1heWJlQ2FsbGVyLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJncywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhcmdzLnB1c2gobWV0aG9kTmFtZSk7XG4gICAgcmV0dXJuIHRoaXMuX3RoZW4oY2FsbGVyLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJncywgdW5kZWZpbmVkKTtcbn07XG5cbmZ1bmN0aW9uIG5hbWVkR2V0dGVyKG9iaikge1xuICAgIHJldHVybiBvYmpbdGhpc107XG59XG5mdW5jdGlvbiBpbmRleGVkR2V0dGVyKG9iaikge1xuICAgIHZhciBpbmRleCA9ICt0aGlzO1xuICAgIGlmIChpbmRleCA8IDApIGluZGV4ID0gTWF0aC5tYXgoMCwgaW5kZXggKyBvYmoubGVuZ3RoKTtcbiAgICByZXR1cm4gb2JqW2luZGV4XTtcbn1cblByb21pc2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChwcm9wZXJ0eU5hbWUpIHtcbiAgICB2YXIgaXNJbmRleCA9ICh0eXBlb2YgcHJvcGVydHlOYW1lID09PSBcIm51bWJlclwiKTtcbiAgICB2YXIgZ2V0dGVyO1xuICAgIGlmICghaXNJbmRleCkge1xuICAgICAgICBpZiAoY2FuRXZhbHVhdGUpIHtcbiAgICAgICAgICAgIHZhciBtYXliZUdldHRlciA9IGdldEdldHRlcihwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgZ2V0dGVyID0gbWF5YmVHZXR0ZXIgIT09IG51bGwgPyBtYXliZUdldHRlciA6IG5hbWVkR2V0dGVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2V0dGVyID0gbmFtZWRHZXR0ZXI7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBnZXR0ZXIgPSBpbmRleGVkR2V0dGVyO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fdGhlbihnZXR0ZXIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBwcm9wZXJ0eU5hbWUsIHVuZGVmaW5lZCk7XG59O1xufTtcblxufSx7XCIuL3V0aWxcIjozNn1dLDY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIFByb21pc2VBcnJheSwgYXBpUmVqZWN0aW9uLCBkZWJ1Zykge1xudmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xudmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcbnZhciBlcnJvck9iaiA9IHV0aWwuZXJyb3JPYmo7XG52YXIgYXN5bmMgPSBQcm9taXNlLl9hc3luYztcblxuUHJvbWlzZS5wcm90b3R5cGVbXCJicmVha1wiXSA9IFByb21pc2UucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghZGVidWcuY2FuY2VsbGF0aW9uKCkpIHJldHVybiB0aGlzLl93YXJuKFwiY2FuY2VsbGF0aW9uIGlzIGRpc2FibGVkXCIpO1xuXG4gICAgdmFyIHByb21pc2UgPSB0aGlzO1xuICAgIHZhciBjaGlsZCA9IHByb21pc2U7XG4gICAgd2hpbGUgKHByb21pc2UuX2lzQ2FuY2VsbGFibGUoKSkge1xuICAgICAgICBpZiAoIXByb21pc2UuX2NhbmNlbEJ5KGNoaWxkKSkge1xuICAgICAgICAgICAgaWYgKGNoaWxkLl9pc0ZvbGxvd2luZygpKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQuX2ZvbGxvd2VlKCkuY2FuY2VsKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoaWxkLl9jYW5jZWxCcmFuY2hlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGFyZW50ID0gcHJvbWlzZS5fY2FuY2VsbGF0aW9uUGFyZW50O1xuICAgICAgICBpZiAocGFyZW50ID09IG51bGwgfHwgIXBhcmVudC5faXNDYW5jZWxsYWJsZSgpKSB7XG4gICAgICAgICAgICBpZiAocHJvbWlzZS5faXNGb2xsb3dpbmcoKSkge1xuICAgICAgICAgICAgICAgIHByb21pc2UuX2ZvbGxvd2VlKCkuY2FuY2VsKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHByb21pc2UuX2NhbmNlbEJyYW5jaGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwcm9taXNlLl9pc0ZvbGxvd2luZygpKSBwcm9taXNlLl9mb2xsb3dlZSgpLmNhbmNlbCgpO1xuICAgICAgICAgICAgcHJvbWlzZS5fc2V0V2lsbEJlQ2FuY2VsbGVkKCk7XG4gICAgICAgICAgICBjaGlsZCA9IHByb21pc2U7XG4gICAgICAgICAgICBwcm9taXNlID0gcGFyZW50O1xuICAgICAgICB9XG4gICAgfVxufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2JyYW5jaEhhc0NhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwtLTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9lbm91Z2hCcmFuY2hlc0hhdmVDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbCA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgIHRoaXMuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwgPD0gMDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9jYW5jZWxCeSA9IGZ1bmN0aW9uKGNhbmNlbGxlcikge1xuICAgIGlmIChjYW5jZWxsZXIgPT09IHRoaXMpIHtcbiAgICAgICAgdGhpcy5fYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbCA9IDA7XG4gICAgICAgIHRoaXMuX2ludm9rZU9uQ2FuY2VsKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2JyYW5jaEhhc0NhbmNlbGxlZCgpO1xuICAgICAgICBpZiAodGhpcy5fZW5vdWdoQnJhbmNoZXNIYXZlQ2FuY2VsbGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2ludm9rZU9uQ2FuY2VsKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fY2FuY2VsQnJhbmNoZWQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5fZW5vdWdoQnJhbmNoZXNIYXZlQ2FuY2VsbGVkKCkpIHtcbiAgICAgICAgdGhpcy5fY2FuY2VsKCk7XG4gICAgfVxufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2NhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghdGhpcy5faXNDYW5jZWxsYWJsZSgpKSByZXR1cm47XG4gICAgdGhpcy5fc2V0Q2FuY2VsbGVkKCk7XG4gICAgYXN5bmMuaW52b2tlKHRoaXMuX2NhbmNlbFByb21pc2VzLCB0aGlzLCB1bmRlZmluZWQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2NhbmNlbFByb21pc2VzID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX2xlbmd0aCgpID4gMCkgdGhpcy5fc2V0dGxlUHJvbWlzZXMoKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl91bnNldE9uQ2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fb25DYW5jZWxGaWVsZCA9IHVuZGVmaW5lZDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9pc0NhbmNlbGxhYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNQZW5kaW5nKCkgJiYgIXRoaXMuX2lzQ2FuY2VsbGVkKCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5pc0NhbmNlbGxhYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNQZW5kaW5nKCkgJiYgIXRoaXMuaXNDYW5jZWxsZWQoKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9kb0ludm9rZU9uQ2FuY2VsID0gZnVuY3Rpb24ob25DYW5jZWxDYWxsYmFjaywgaW50ZXJuYWxPbmx5KSB7XG4gICAgaWYgKHV0aWwuaXNBcnJheShvbkNhbmNlbENhbGxiYWNrKSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9uQ2FuY2VsQ2FsbGJhY2subGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMuX2RvSW52b2tlT25DYW5jZWwob25DYW5jZWxDYWxsYmFja1tpXSwgaW50ZXJuYWxPbmx5KTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAob25DYW5jZWxDYWxsYmFjayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb25DYW5jZWxDYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBpZiAoIWludGVybmFsT25seSkge1xuICAgICAgICAgICAgICAgIHZhciBlID0gdHJ5Q2F0Y2gob25DYW5jZWxDYWxsYmFjaykuY2FsbCh0aGlzLl9ib3VuZFZhbHVlKCkpO1xuICAgICAgICAgICAgICAgIGlmIChlID09PSBlcnJvck9iaikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdHRhY2hFeHRyYVRyYWNlKGUuZSk7XG4gICAgICAgICAgICAgICAgICAgIGFzeW5jLnRocm93TGF0ZXIoZS5lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvbkNhbmNlbENhbGxiYWNrLl9yZXN1bHRDYW5jZWxsZWQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5faW52b2tlT25DYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgb25DYW5jZWxDYWxsYmFjayA9IHRoaXMuX29uQ2FuY2VsKCk7XG4gICAgdGhpcy5fdW5zZXRPbkNhbmNlbCgpO1xuICAgIGFzeW5jLmludm9rZSh0aGlzLl9kb0ludm9rZU9uQ2FuY2VsLCB0aGlzLCBvbkNhbmNlbENhbGxiYWNrKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9pbnZva2VJbnRlcm5hbE9uQ2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX2lzQ2FuY2VsbGFibGUoKSkge1xuICAgICAgICB0aGlzLl9kb0ludm9rZU9uQ2FuY2VsKHRoaXMuX29uQ2FuY2VsKCksIHRydWUpO1xuICAgICAgICB0aGlzLl91bnNldE9uQ2FuY2VsKCk7XG4gICAgfVxufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY2FuY2VsKCk7XG59O1xuXG59O1xuXG59LHtcIi4vdXRpbFwiOjM2fV0sNzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oTkVYVF9GSUxURVIpIHtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBnZXRLZXlzID0gX2RlcmVxXyhcIi4vZXM1XCIpLmtleXM7XG52YXIgdHJ5Q2F0Y2ggPSB1dGlsLnRyeUNhdGNoO1xudmFyIGVycm9yT2JqID0gdXRpbC5lcnJvck9iajtcblxuZnVuY3Rpb24gY2F0Y2hGaWx0ZXIoaW5zdGFuY2VzLCBjYiwgcHJvbWlzZSkge1xuICAgIHJldHVybiBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBib3VuZFRvID0gcHJvbWlzZS5fYm91bmRWYWx1ZSgpO1xuICAgICAgICBwcmVkaWNhdGVMb29wOiBmb3IgKHZhciBpID0gMDsgaSA8IGluc3RhbmNlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBpbnN0YW5jZXNbaV07XG5cbiAgICAgICAgICAgIGlmIChpdGVtID09PSBFcnJvciB8fFxuICAgICAgICAgICAgICAgIChpdGVtICE9IG51bGwgJiYgaXRlbS5wcm90b3R5cGUgaW5zdGFuY2VvZiBFcnJvcikpIHtcbiAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyeUNhdGNoKGNiKS5jYWxsKGJvdW5kVG8sIGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGl0ZW0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzUHJlZGljYXRlID0gdHJ5Q2F0Y2goaXRlbSkuY2FsbChib3VuZFRvLCBlKTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlc1ByZWRpY2F0ZSA9PT0gZXJyb3JPYmopIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXNQcmVkaWNhdGU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtYXRjaGVzUHJlZGljYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnlDYXRjaChjYikuY2FsbChib3VuZFRvLCBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHV0aWwuaXNPYmplY3QoZSkpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5cyA9IGdldEtleXMoaXRlbSk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBrZXlzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2pdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbVtrZXldICE9IGVba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgcHJlZGljYXRlTG9vcDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ5Q2F0Y2goY2IpLmNhbGwoYm91bmRUbywgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE5FWFRfRklMVEVSO1xuICAgIH07XG59XG5cbnJldHVybiBjYXRjaEZpbHRlcjtcbn07XG5cbn0se1wiLi9lczVcIjoxMyxcIi4vdXRpbFwiOjM2fV0sODpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSkge1xudmFyIGxvbmdTdGFja1RyYWNlcyA9IGZhbHNlO1xudmFyIGNvbnRleHRTdGFjayA9IFtdO1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fcHJvbWlzZUNyZWF0ZWQgPSBmdW5jdGlvbigpIHt9O1xuUHJvbWlzZS5wcm90b3R5cGUuX3B1c2hDb250ZXh0ID0gZnVuY3Rpb24oKSB7fTtcblByb21pc2UucHJvdG90eXBlLl9wb3BDb250ZXh0ID0gZnVuY3Rpb24oKSB7cmV0dXJuIG51bGw7fTtcblByb21pc2UuX3BlZWtDb250ZXh0ID0gUHJvbWlzZS5wcm90b3R5cGUuX3BlZWtDb250ZXh0ID0gZnVuY3Rpb24oKSB7fTtcblxuZnVuY3Rpb24gQ29udGV4dCgpIHtcbiAgICB0aGlzLl90cmFjZSA9IG5ldyBDb250ZXh0LkNhcHR1cmVkVHJhY2UocGVla0NvbnRleHQoKSk7XG59XG5Db250ZXh0LnByb3RvdHlwZS5fcHVzaENvbnRleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuX3RyYWNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5fdHJhY2UuX3Byb21pc2VDcmVhdGVkID0gbnVsbDtcbiAgICAgICAgY29udGV4dFN0YWNrLnB1c2godGhpcy5fdHJhY2UpO1xuICAgIH1cbn07XG5cbkNvbnRleHQucHJvdG90eXBlLl9wb3BDb250ZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLl90cmFjZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciB0cmFjZSA9IGNvbnRleHRTdGFjay5wb3AoKTtcbiAgICAgICAgdmFyIHJldCA9IHRyYWNlLl9wcm9taXNlQ3JlYXRlZDtcbiAgICAgICAgdHJhY2UuX3Byb21pc2VDcmVhdGVkID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVDb250ZXh0KCkge1xuICAgIGlmIChsb25nU3RhY2tUcmFjZXMpIHJldHVybiBuZXcgQ29udGV4dCgpO1xufVxuXG5mdW5jdGlvbiBwZWVrQ29udGV4dCgpIHtcbiAgICB2YXIgbGFzdEluZGV4ID0gY29udGV4dFN0YWNrLmxlbmd0aCAtIDE7XG4gICAgaWYgKGxhc3RJbmRleCA+PSAwKSB7XG4gICAgICAgIHJldHVybiBjb250ZXh0U3RhY2tbbGFzdEluZGV4XTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbkNvbnRleHQuQ2FwdHVyZWRUcmFjZSA9IG51bGw7XG5Db250ZXh0LmNyZWF0ZSA9IGNyZWF0ZUNvbnRleHQ7XG5Db250ZXh0LmRlYWN0aXZhdGVMb25nU3RhY2tUcmFjZXMgPSBmdW5jdGlvbigpIHt9O1xuQ29udGV4dC5hY3RpdmF0ZUxvbmdTdGFja1RyYWNlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBQcm9taXNlX3B1c2hDb250ZXh0ID0gUHJvbWlzZS5wcm90b3R5cGUuX3B1c2hDb250ZXh0O1xuICAgIHZhciBQcm9taXNlX3BvcENvbnRleHQgPSBQcm9taXNlLnByb3RvdHlwZS5fcG9wQ29udGV4dDtcbiAgICB2YXIgUHJvbWlzZV9QZWVrQ29udGV4dCA9IFByb21pc2UuX3BlZWtDb250ZXh0O1xuICAgIHZhciBQcm9taXNlX3BlZWtDb250ZXh0ID0gUHJvbWlzZS5wcm90b3R5cGUuX3BlZWtDb250ZXh0O1xuICAgIHZhciBQcm9taXNlX3Byb21pc2VDcmVhdGVkID0gUHJvbWlzZS5wcm90b3R5cGUuX3Byb21pc2VDcmVhdGVkO1xuICAgIENvbnRleHQuZGVhY3RpdmF0ZUxvbmdTdGFja1RyYWNlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fcHVzaENvbnRleHQgPSBQcm9taXNlX3B1c2hDb250ZXh0O1xuICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fcG9wQ29udGV4dCA9IFByb21pc2VfcG9wQ29udGV4dDtcbiAgICAgICAgUHJvbWlzZS5fcGVla0NvbnRleHQgPSBQcm9taXNlX1BlZWtDb250ZXh0O1xuICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fcGVla0NvbnRleHQgPSBQcm9taXNlX3BlZWtDb250ZXh0O1xuICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fcHJvbWlzZUNyZWF0ZWQgPSBQcm9taXNlX3Byb21pc2VDcmVhdGVkO1xuICAgICAgICBsb25nU3RhY2tUcmFjZXMgPSBmYWxzZTtcbiAgICB9O1xuICAgIGxvbmdTdGFja1RyYWNlcyA9IHRydWU7XG4gICAgUHJvbWlzZS5wcm90b3R5cGUuX3B1c2hDb250ZXh0ID0gQ29udGV4dC5wcm90b3R5cGUuX3B1c2hDb250ZXh0O1xuICAgIFByb21pc2UucHJvdG90eXBlLl9wb3BDb250ZXh0ID0gQ29udGV4dC5wcm90b3R5cGUuX3BvcENvbnRleHQ7XG4gICAgUHJvbWlzZS5fcGVla0NvbnRleHQgPSBQcm9taXNlLnByb3RvdHlwZS5fcGVla0NvbnRleHQgPSBwZWVrQ29udGV4dDtcbiAgICBQcm9taXNlLnByb3RvdHlwZS5fcHJvbWlzZUNyZWF0ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGN0eCA9IHRoaXMuX3BlZWtDb250ZXh0KCk7XG4gICAgICAgIGlmIChjdHggJiYgY3R4Ll9wcm9taXNlQ3JlYXRlZCA9PSBudWxsKSBjdHguX3Byb21pc2VDcmVhdGVkID0gdGhpcztcbiAgICB9O1xufTtcbnJldHVybiBDb250ZXh0O1xufTtcblxufSx7fV0sOTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSwgQ29udGV4dCkge1xudmFyIGdldERvbWFpbiA9IFByb21pc2UuX2dldERvbWFpbjtcbnZhciBhc3luYyA9IFByb21pc2UuX2FzeW5jO1xudmFyIFdhcm5pbmcgPSBfZGVyZXFfKFwiLi9lcnJvcnNcIikuV2FybmluZztcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBjYW5BdHRhY2hUcmFjZSA9IHV0aWwuY2FuQXR0YWNoVHJhY2U7XG52YXIgdW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlZDtcbnZhciBwb3NzaWJseVVuaGFuZGxlZFJlamVjdGlvbjtcbnZhciBibHVlYmlyZEZyYW1lUGF0dGVybiA9XG4gICAgL1tcXFxcXFwvXWJsdWViaXJkW1xcXFxcXC9danNbXFxcXFxcL10ocmVsZWFzZXxkZWJ1Z3xpbnN0cnVtZW50ZWQpLztcbnZhciBub2RlRnJhbWVQYXR0ZXJuID0gL1xcKCg/OnRpbWVyc1xcLmpzKTpcXGQrOlxcZCtcXCkvO1xudmFyIHBhcnNlTGluZVBhdHRlcm4gPSAvW1xcLzxcXChdKC4rPyk6KFxcZCspOihcXGQrKVxcKT9cXHMqJC87XG52YXIgc3RhY2tGcmFtZVBhdHRlcm4gPSBudWxsO1xudmFyIGZvcm1hdFN0YWNrID0gbnVsbDtcbnZhciBpbmRlbnRTdGFja0ZyYW1lcyA9IGZhbHNlO1xudmFyIHByaW50V2FybmluZztcbnZhciBkZWJ1Z2dpbmcgPSAhISh1dGlsLmVudihcIkJMVUVCSVJEX0RFQlVHXCIpICE9IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICh0cnVlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgdXRpbC5lbnYoXCJCTFVFQklSRF9ERUJVR1wiKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWwuZW52KFwiTk9ERV9FTlZcIikgPT09IFwiZGV2ZWxvcG1lbnRcIikpO1xuXG52YXIgd2FybmluZ3MgPSAhISh1dGlsLmVudihcIkJMVUVCSVJEX1dBUk5JTkdTXCIpICE9IDAgJiZcbiAgICAoZGVidWdnaW5nIHx8IHV0aWwuZW52KFwiQkxVRUJJUkRfV0FSTklOR1NcIikpKTtcblxudmFyIGxvbmdTdGFja1RyYWNlcyA9ICEhKHV0aWwuZW52KFwiQkxVRUJJUkRfTE9OR19TVEFDS19UUkFDRVNcIikgIT0gMCAmJlxuICAgIChkZWJ1Z2dpbmcgfHwgdXRpbC5lbnYoXCJCTFVFQklSRF9MT05HX1NUQUNLX1RSQUNFU1wiKSkpO1xuXG52YXIgd0ZvcmdvdHRlblJldHVybiA9IHV0aWwuZW52KFwiQkxVRUJJUkRfV19GT1JHT1RURU5fUkVUVVJOXCIpICE9IDAgJiZcbiAgICAod2FybmluZ3MgfHwgISF1dGlsLmVudihcIkJMVUVCSVJEX1dfRk9SR09UVEVOX1JFVFVSTlwiKSk7XG5cblByb21pc2UucHJvdG90eXBlLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0YXJnZXQgPSB0aGlzLl90YXJnZXQoKTtcbiAgICB0YXJnZXQuX2JpdEZpZWxkID0gKCh0YXJnZXQuX2JpdEZpZWxkICYgKH4xMDQ4NTc2KSkgfFxuICAgICAgICAgICAgICAgICAgICAgIDUyNDI4OCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fZW5zdXJlUG9zc2libGVSZWplY3Rpb25IYW5kbGVkID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICgodGhpcy5fYml0RmllbGQgJiA1MjQyODgpICE9PSAwKSByZXR1cm47XG4gICAgdGhpcy5fc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQoKTtcbiAgICBhc3luYy5pbnZva2VMYXRlcih0aGlzLl9ub3RpZnlVbmhhbmRsZWRSZWplY3Rpb24sIHRoaXMsIHVuZGVmaW5lZCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fbm90aWZ5VW5oYW5kbGVkUmVqZWN0aW9uSXNIYW5kbGVkID0gZnVuY3Rpb24gKCkge1xuICAgIGZpcmVSZWplY3Rpb25FdmVudChcInJlamVjdGlvbkhhbmRsZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmhhbmRsZWRSZWplY3Rpb25IYW5kbGVkLCB1bmRlZmluZWQsIHRoaXMpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldFJldHVybmVkTm9uVW5kZWZpbmVkID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCB8IDI2ODQzNTQ1Njtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9yZXR1cm5lZE5vblVuZGVmaW5lZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiAyNjg0MzU0NTYpICE9PSAwO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX25vdGlmeVVuaGFuZGxlZFJlamVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5faXNSZWplY3Rpb25VbmhhbmRsZWQoKSkge1xuICAgICAgICB2YXIgcmVhc29uID0gdGhpcy5fc2V0dGxlZFZhbHVlKCk7XG4gICAgICAgIHRoaXMuX3NldFVuaGFuZGxlZFJlamVjdGlvbklzTm90aWZpZWQoKTtcbiAgICAgICAgZmlyZVJlamVjdGlvbkV2ZW50KFwidW5oYW5kbGVkUmVqZWN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmx5VW5oYW5kbGVkUmVqZWN0aW9uLCByZWFzb24sIHRoaXMpO1xuICAgIH1cbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXRVbmhhbmRsZWRSZWplY3Rpb25Jc05vdGlmaWVkID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCAyNjIxNDQ7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fdW5zZXRVbmhhbmRsZWRSZWplY3Rpb25Jc05vdGlmaWVkID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgJiAofjI2MjE0NCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5faXNVbmhhbmRsZWRSZWplY3Rpb25Ob3RpZmllZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgMjYyMTQ0KSA+IDA7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCB8IDEwNDg1NzY7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fdW5zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkICYgKH4xMDQ4NTc2KTtcbiAgICBpZiAodGhpcy5faXNVbmhhbmRsZWRSZWplY3Rpb25Ob3RpZmllZCgpKSB7XG4gICAgICAgIHRoaXMuX3Vuc2V0VW5oYW5kbGVkUmVqZWN0aW9uSXNOb3RpZmllZCgpO1xuICAgICAgICB0aGlzLl9ub3RpZnlVbmhhbmRsZWRSZWplY3Rpb25Jc0hhbmRsZWQoKTtcbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5faXNSZWplY3Rpb25VbmhhbmRsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDEwNDg1NzYpID4gMDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl93YXJuID0gZnVuY3Rpb24obWVzc2FnZSwgc2hvdWxkVXNlT3duVHJhY2UsIHByb21pc2UpIHtcbiAgICByZXR1cm4gd2FybihtZXNzYWdlLCBzaG91bGRVc2VPd25UcmFjZSwgcHJvbWlzZSB8fCB0aGlzKTtcbn07XG5cblByb21pc2Uub25Qb3NzaWJseVVuaGFuZGxlZFJlamVjdGlvbiA9IGZ1bmN0aW9uIChmbikge1xuICAgIHZhciBkb21haW4gPSBnZXREb21haW4oKTtcbiAgICBwb3NzaWJseVVuaGFuZGxlZFJlamVjdGlvbiA9XG4gICAgICAgIHR5cGVvZiBmbiA9PT0gXCJmdW5jdGlvblwiID8gKGRvbWFpbiA9PT0gbnVsbCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZuIDogdXRpbC5kb21haW5CaW5kKGRvbWFpbiwgZm4pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG59O1xuXG5Qcm9taXNlLm9uVW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlZCA9IGZ1bmN0aW9uIChmbikge1xuICAgIHZhciBkb21haW4gPSBnZXREb21haW4oKTtcbiAgICB1bmhhbmRsZWRSZWplY3Rpb25IYW5kbGVkID1cbiAgICAgICAgdHlwZW9mIGZuID09PSBcImZ1bmN0aW9uXCIgPyAoZG9tYWluID09PSBudWxsID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm4gOiB1dGlsLmRvbWFpbkJpbmQoZG9tYWluLCBmbikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbn07XG5cbnZhciBkaXNhYmxlTG9uZ1N0YWNrVHJhY2VzID0gZnVuY3Rpb24oKSB7fTtcblByb21pc2UubG9uZ1N0YWNrVHJhY2VzID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChhc3luYy5oYXZlSXRlbXNRdWV1ZWQoKSAmJiAhY29uZmlnLmxvbmdTdGFja1RyYWNlcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgZW5hYmxlIGxvbmcgc3RhY2sgdHJhY2VzIGFmdGVyIHByb21pc2VzIGhhdmUgYmVlbiBjcmVhdGVkXFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcbiAgICB9XG4gICAgaWYgKCFjb25maWcubG9uZ1N0YWNrVHJhY2VzICYmIGxvbmdTdGFja1RyYWNlc0lzU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgdmFyIFByb21pc2VfY2FwdHVyZVN0YWNrVHJhY2UgPSBQcm9taXNlLnByb3RvdHlwZS5fY2FwdHVyZVN0YWNrVHJhY2U7XG4gICAgICAgIHZhciBQcm9taXNlX2F0dGFjaEV4dHJhVHJhY2UgPSBQcm9taXNlLnByb3RvdHlwZS5fYXR0YWNoRXh0cmFUcmFjZTtcbiAgICAgICAgY29uZmlnLmxvbmdTdGFja1RyYWNlcyA9IHRydWU7XG4gICAgICAgIGRpc2FibGVMb25nU3RhY2tUcmFjZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChhc3luYy5oYXZlSXRlbXNRdWV1ZWQoKSAmJiAhY29uZmlnLmxvbmdTdGFja1RyYWNlcykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNhbm5vdCBlbmFibGUgbG9uZyBzdGFjayB0cmFjZXMgYWZ0ZXIgcHJvbWlzZXMgaGF2ZSBiZWVuIGNyZWF0ZWRcXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX2NhcHR1cmVTdGFja1RyYWNlID0gUHJvbWlzZV9jYXB0dXJlU3RhY2tUcmFjZTtcbiAgICAgICAgICAgIFByb21pc2UucHJvdG90eXBlLl9hdHRhY2hFeHRyYVRyYWNlID0gUHJvbWlzZV9hdHRhY2hFeHRyYVRyYWNlO1xuICAgICAgICAgICAgQ29udGV4dC5kZWFjdGl2YXRlTG9uZ1N0YWNrVHJhY2VzKCk7XG4gICAgICAgICAgICBhc3luYy5lbmFibGVUcmFtcG9saW5lKCk7XG4gICAgICAgICAgICBjb25maWcubG9uZ1N0YWNrVHJhY2VzID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIFByb21pc2UucHJvdG90eXBlLl9jYXB0dXJlU3RhY2tUcmFjZSA9IGxvbmdTdGFja1RyYWNlc0NhcHR1cmVTdGFja1RyYWNlO1xuICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fYXR0YWNoRXh0cmFUcmFjZSA9IGxvbmdTdGFja1RyYWNlc0F0dGFjaEV4dHJhVHJhY2U7XG4gICAgICAgIENvbnRleHQuYWN0aXZhdGVMb25nU3RhY2tUcmFjZXMoKTtcbiAgICAgICAgYXN5bmMuZGlzYWJsZVRyYW1wb2xpbmVJZk5lY2Vzc2FyeSgpO1xuICAgIH1cbn07XG5cblByb21pc2UuaGFzTG9uZ1N0YWNrVHJhY2VzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjb25maWcubG9uZ1N0YWNrVHJhY2VzICYmIGxvbmdTdGFja1RyYWNlc0lzU3VwcG9ydGVkKCk7XG59O1xuXG52YXIgZmlyZURvbUV2ZW50ID0gKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgQ3VzdG9tRXZlbnQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7XG4gICAgICAgICAgICB1dGlsLmdsb2JhbC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihuYW1lLCBldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBkb21FdmVudCA9IG5ldyBDdXN0b21FdmVudChuYW1lLnRvTG93ZXJDYXNlKCksIHtcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiAhdXRpbC5nbG9iYWwuZGlzcGF0Y2hFdmVudChkb21FdmVudCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBFdmVudCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBuZXcgRXZlbnQoXCJDdXN0b21FdmVudFwiKTtcbiAgICAgICAgICAgIHV0aWwuZ2xvYmFsLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG5hbWUsIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvbUV2ZW50ID0gbmV3IEV2ZW50KG5hbWUudG9Mb3dlckNhc2UoKSwge1xuICAgICAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZG9tRXZlbnQuZGV0YWlsID0gZXZlbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuICF1dGlsLmdsb2JhbC5kaXNwYXRjaEV2ZW50KGRvbUV2ZW50KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIkN1c3RvbUV2ZW50XCIpO1xuICAgICAgICAgICAgZXZlbnQuaW5pdEN1c3RvbUV2ZW50KFwidGVzdGluZ3RoZWV2ZW50XCIsIGZhbHNlLCB0cnVlLCB7fSk7XG4gICAgICAgICAgICB1dGlsLmdsb2JhbC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihuYW1lLCBldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBkb21FdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7XG4gICAgICAgICAgICAgICAgZG9tRXZlbnQuaW5pdEN1c3RvbUV2ZW50KG5hbWUudG9Mb3dlckNhc2UoKSwgZmFsc2UsIHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gIXV0aWwuZ2xvYmFsLmRpc3BhdGNoRXZlbnQoZG9tRXZlbnQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbn0pKCk7XG5cbnZhciBmaXJlR2xvYmFsRXZlbnQgPSAoZnVuY3Rpb24oKSB7XG4gICAgaWYgKHV0aWwuaXNOb2RlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9jZXNzLmVtaXQuYXBwbHkocHJvY2VzcywgYXJndW1lbnRzKTtcbiAgICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXV0aWwuZ2xvYmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgdmFyIG1ldGhvZE5hbWUgPSBcIm9uXCIgKyBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB2YXIgbWV0aG9kID0gdXRpbC5nbG9iYWxbbWV0aG9kTmFtZV07XG4gICAgICAgICAgICBpZiAoIW1ldGhvZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgbWV0aG9kLmFwcGx5KHV0aWwuZ2xvYmFsLCBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgfVxufSkoKTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVQcm9taXNlTGlmZWN5Y2xlRXZlbnRPYmplY3QobmFtZSwgcHJvbWlzZSkge1xuICAgIHJldHVybiB7cHJvbWlzZTogcHJvbWlzZX07XG59XG5cbnZhciBldmVudFRvT2JqZWN0R2VuZXJhdG9yID0ge1xuICAgIHByb21pc2VDcmVhdGVkOiBnZW5lcmF0ZVByb21pc2VMaWZlY3ljbGVFdmVudE9iamVjdCxcbiAgICBwcm9taXNlRnVsZmlsbGVkOiBnZW5lcmF0ZVByb21pc2VMaWZlY3ljbGVFdmVudE9iamVjdCxcbiAgICBwcm9taXNlUmVqZWN0ZWQ6IGdlbmVyYXRlUHJvbWlzZUxpZmVjeWNsZUV2ZW50T2JqZWN0LFxuICAgIHByb21pc2VSZXNvbHZlZDogZ2VuZXJhdGVQcm9taXNlTGlmZWN5Y2xlRXZlbnRPYmplY3QsXG4gICAgcHJvbWlzZUNhbmNlbGxlZDogZ2VuZXJhdGVQcm9taXNlTGlmZWN5Y2xlRXZlbnRPYmplY3QsXG4gICAgcHJvbWlzZUNoYWluZWQ6IGZ1bmN0aW9uKG5hbWUsIHByb21pc2UsIGNoaWxkKSB7XG4gICAgICAgIHJldHVybiB7cHJvbWlzZTogcHJvbWlzZSwgY2hpbGQ6IGNoaWxkfTtcbiAgICB9LFxuICAgIHdhcm5pbmc6IGZ1bmN0aW9uKG5hbWUsIHdhcm5pbmcpIHtcbiAgICAgICAgcmV0dXJuIHt3YXJuaW5nOiB3YXJuaW5nfTtcbiAgICB9LFxuICAgIHVuaGFuZGxlZFJlamVjdGlvbjogZnVuY3Rpb24gKG5hbWUsIHJlYXNvbiwgcHJvbWlzZSkge1xuICAgICAgICByZXR1cm4ge3JlYXNvbjogcmVhc29uLCBwcm9taXNlOiBwcm9taXNlfTtcbiAgICB9LFxuICAgIHJlamVjdGlvbkhhbmRsZWQ6IGdlbmVyYXRlUHJvbWlzZUxpZmVjeWNsZUV2ZW50T2JqZWN0XG59O1xuXG52YXIgYWN0aXZlRmlyZUV2ZW50ID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgZ2xvYmFsRXZlbnRGaXJlZCA9IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICAgIGdsb2JhbEV2ZW50RmlyZWQgPSBmaXJlR2xvYmFsRXZlbnQuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGFzeW5jLnRocm93TGF0ZXIoZSk7XG4gICAgICAgIGdsb2JhbEV2ZW50RmlyZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHZhciBkb21FdmVudEZpcmVkID0gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgZG9tRXZlbnRGaXJlZCA9IGZpcmVEb21FdmVudChuYW1lLFxuICAgICAgICAgICAgICAgICAgICBldmVudFRvT2JqZWN0R2VuZXJhdG9yW25hbWVdLmFwcGx5KG51bGwsIGFyZ3VtZW50cykpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgYXN5bmMudGhyb3dMYXRlcihlKTtcbiAgICAgICAgZG9tRXZlbnRGaXJlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRvbUV2ZW50RmlyZWQgfHwgZ2xvYmFsRXZlbnRGaXJlZDtcbn07XG5cblByb21pc2UuY29uZmlnID0gZnVuY3Rpb24ob3B0cykge1xuICAgIG9wdHMgPSBPYmplY3Qob3B0cyk7XG4gICAgaWYgKFwibG9uZ1N0YWNrVHJhY2VzXCIgaW4gb3B0cykge1xuICAgICAgICBpZiAob3B0cy5sb25nU3RhY2tUcmFjZXMpIHtcbiAgICAgICAgICAgIFByb21pc2UubG9uZ1N0YWNrVHJhY2VzKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIW9wdHMubG9uZ1N0YWNrVHJhY2VzICYmIFByb21pc2UuaGFzTG9uZ1N0YWNrVHJhY2VzKCkpIHtcbiAgICAgICAgICAgIGRpc2FibGVMb25nU3RhY2tUcmFjZXMoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoXCJ3YXJuaW5nc1wiIGluIG9wdHMpIHtcbiAgICAgICAgdmFyIHdhcm5pbmdzT3B0aW9uID0gb3B0cy53YXJuaW5ncztcbiAgICAgICAgY29uZmlnLndhcm5pbmdzID0gISF3YXJuaW5nc09wdGlvbjtcbiAgICAgICAgd0ZvcmdvdHRlblJldHVybiA9IGNvbmZpZy53YXJuaW5ncztcblxuICAgICAgICBpZiAodXRpbC5pc09iamVjdCh3YXJuaW5nc09wdGlvbikpIHtcbiAgICAgICAgICAgIGlmIChcIndGb3Jnb3R0ZW5SZXR1cm5cIiBpbiB3YXJuaW5nc09wdGlvbikge1xuICAgICAgICAgICAgICAgIHdGb3Jnb3R0ZW5SZXR1cm4gPSAhIXdhcm5pbmdzT3B0aW9uLndGb3Jnb3R0ZW5SZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKFwiY2FuY2VsbGF0aW9uXCIgaW4gb3B0cyAmJiBvcHRzLmNhbmNlbGxhdGlvbiAmJiAhY29uZmlnLmNhbmNlbGxhdGlvbikge1xuICAgICAgICBpZiAoYXN5bmMuaGF2ZUl0ZW1zUXVldWVkKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBcImNhbm5vdCBlbmFibGUgY2FuY2VsbGF0aW9uIGFmdGVyIHByb21pc2VzIGFyZSBpbiB1c2VcIik7XG4gICAgICAgIH1cbiAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX2NsZWFyQ2FuY2VsbGF0aW9uRGF0YSA9XG4gICAgICAgICAgICBjYW5jZWxsYXRpb25DbGVhckNhbmNlbGxhdGlvbkRhdGE7XG4gICAgICAgIFByb21pc2UucHJvdG90eXBlLl9wcm9wYWdhdGVGcm9tID0gY2FuY2VsbGF0aW9uUHJvcGFnYXRlRnJvbTtcbiAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX29uQ2FuY2VsID0gY2FuY2VsbGF0aW9uT25DYW5jZWw7XG4gICAgICAgIFByb21pc2UucHJvdG90eXBlLl9zZXRPbkNhbmNlbCA9IGNhbmNlbGxhdGlvblNldE9uQ2FuY2VsO1xuICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fYXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2sgPVxuICAgICAgICAgICAgY2FuY2VsbGF0aW9uQXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2s7XG4gICAgICAgIFByb21pc2UucHJvdG90eXBlLl9leGVjdXRlID0gY2FuY2VsbGF0aW9uRXhlY3V0ZTtcbiAgICAgICAgcHJvcGFnYXRlRnJvbUZ1bmN0aW9uID0gY2FuY2VsbGF0aW9uUHJvcGFnYXRlRnJvbTtcbiAgICAgICAgY29uZmlnLmNhbmNlbGxhdGlvbiA9IHRydWU7XG4gICAgfVxuICAgIGlmIChcIm1vbml0b3JpbmdcIiBpbiBvcHRzKSB7XG4gICAgICAgIGlmIChvcHRzLm1vbml0b3JpbmcgJiYgIWNvbmZpZy5tb25pdG9yaW5nKSB7XG4gICAgICAgICAgICBjb25maWcubW9uaXRvcmluZyA9IHRydWU7XG4gICAgICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fZmlyZUV2ZW50ID0gYWN0aXZlRmlyZUV2ZW50O1xuICAgICAgICB9IGVsc2UgaWYgKCFvcHRzLm1vbml0b3JpbmcgJiYgY29uZmlnLm1vbml0b3JpbmcpIHtcbiAgICAgICAgICAgIGNvbmZpZy5tb25pdG9yaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fZmlyZUV2ZW50ID0gZGVmYXVsdEZpcmVFdmVudDtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmZ1bmN0aW9uIGRlZmF1bHRGaXJlRXZlbnQoKSB7IHJldHVybiBmYWxzZTsgfVxuXG5Qcm9taXNlLnByb3RvdHlwZS5fZmlyZUV2ZW50ID0gZGVmYXVsdEZpcmVFdmVudDtcblByb21pc2UucHJvdG90eXBlLl9leGVjdXRlID0gZnVuY3Rpb24oZXhlY3V0b3IsIHJlc29sdmUsIHJlamVjdCkge1xuICAgIHRyeSB7XG4gICAgICAgIGV4ZWN1dG9yKHJlc29sdmUsIHJlamVjdCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZTtcbiAgICB9XG59O1xuUHJvbWlzZS5wcm90b3R5cGUuX29uQ2FuY2VsID0gZnVuY3Rpb24gKCkge307XG5Qcm9taXNlLnByb3RvdHlwZS5fc2V0T25DYW5jZWwgPSBmdW5jdGlvbiAoaGFuZGxlcikgeyA7IH07XG5Qcm9taXNlLnByb3RvdHlwZS5fYXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2sgPSBmdW5jdGlvbihvbkNhbmNlbCkge1xuICAgIDtcbn07XG5Qcm9taXNlLnByb3RvdHlwZS5fY2FwdHVyZVN0YWNrVHJhY2UgPSBmdW5jdGlvbiAoKSB7fTtcblByb21pc2UucHJvdG90eXBlLl9hdHRhY2hFeHRyYVRyYWNlID0gZnVuY3Rpb24gKCkge307XG5Qcm9taXNlLnByb3RvdHlwZS5fY2xlYXJDYW5jZWxsYXRpb25EYXRhID0gZnVuY3Rpb24oKSB7fTtcblByb21pc2UucHJvdG90eXBlLl9wcm9wYWdhdGVGcm9tID0gZnVuY3Rpb24gKHBhcmVudCwgZmxhZ3MpIHtcbiAgICA7XG4gICAgO1xufTtcblxuZnVuY3Rpb24gY2FuY2VsbGF0aW9uRXhlY3V0ZShleGVjdXRvciwgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIHByb21pc2UgPSB0aGlzO1xuICAgIHRyeSB7XG4gICAgICAgIGV4ZWN1dG9yKHJlc29sdmUsIHJlamVjdCwgZnVuY3Rpb24ob25DYW5jZWwpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25DYW5jZWwgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJvbkNhbmNlbCBtdXN0IGJlIGEgZnVuY3Rpb24sIGdvdDogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbC50b1N0cmluZyhvbkNhbmNlbCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvbWlzZS5fYXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2sob25DYW5jZWwpO1xuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY2FuY2VsbGF0aW9uQXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2sob25DYW5jZWwpIHtcbiAgICBpZiAoIXRoaXMuX2lzQ2FuY2VsbGFibGUoKSkgcmV0dXJuIHRoaXM7XG5cbiAgICB2YXIgcHJldmlvdXNPbkNhbmNlbCA9IHRoaXMuX29uQ2FuY2VsKCk7XG4gICAgaWYgKHByZXZpb3VzT25DYW5jZWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodXRpbC5pc0FycmF5KHByZXZpb3VzT25DYW5jZWwpKSB7XG4gICAgICAgICAgICBwcmV2aW91c09uQ2FuY2VsLnB1c2gob25DYW5jZWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc2V0T25DYW5jZWwoW3ByZXZpb3VzT25DYW5jZWwsIG9uQ2FuY2VsXSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zZXRPbkNhbmNlbChvbkNhbmNlbCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjYW5jZWxsYXRpb25PbkNhbmNlbCgpIHtcbiAgICByZXR1cm4gdGhpcy5fb25DYW5jZWxGaWVsZDtcbn1cblxuZnVuY3Rpb24gY2FuY2VsbGF0aW9uU2V0T25DYW5jZWwob25DYW5jZWwpIHtcbiAgICB0aGlzLl9vbkNhbmNlbEZpZWxkID0gb25DYW5jZWw7XG59XG5cbmZ1bmN0aW9uIGNhbmNlbGxhdGlvbkNsZWFyQ2FuY2VsbGF0aW9uRGF0YSgpIHtcbiAgICB0aGlzLl9jYW5jZWxsYXRpb25QYXJlbnQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fb25DYW5jZWxGaWVsZCA9IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gY2FuY2VsbGF0aW9uUHJvcGFnYXRlRnJvbShwYXJlbnQsIGZsYWdzKSB7XG4gICAgaWYgKChmbGFncyAmIDEpICE9PSAwKSB7XG4gICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvblBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdmFyIGJyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwgPSBwYXJlbnQuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWw7XG4gICAgICAgIGlmIChicmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGJyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudC5fYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbCA9IGJyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwgKyAxO1xuICAgIH1cbiAgICBpZiAoKGZsYWdzICYgMikgIT09IDAgJiYgcGFyZW50Ll9pc0JvdW5kKCkpIHtcbiAgICAgICAgdGhpcy5fc2V0Qm91bmRUbyhwYXJlbnQuX2JvdW5kVG8pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYmluZGluZ1Byb3BhZ2F0ZUZyb20ocGFyZW50LCBmbGFncykge1xuICAgIGlmICgoZmxhZ3MgJiAyKSAhPT0gMCAmJiBwYXJlbnQuX2lzQm91bmQoKSkge1xuICAgICAgICB0aGlzLl9zZXRCb3VuZFRvKHBhcmVudC5fYm91bmRUbyk7XG4gICAgfVxufVxudmFyIHByb3BhZ2F0ZUZyb21GdW5jdGlvbiA9IGJpbmRpbmdQcm9wYWdhdGVGcm9tO1xuXG5mdW5jdGlvbiBib3VuZFZhbHVlRnVuY3Rpb24oKSB7XG4gICAgdmFyIHJldCA9IHRoaXMuX2JvdW5kVG87XG4gICAgaWYgKHJldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChyZXQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICBpZiAocmV0LmlzRnVsZmlsbGVkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0LnZhbHVlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gbG9uZ1N0YWNrVHJhY2VzQ2FwdHVyZVN0YWNrVHJhY2UoKSB7XG4gICAgdGhpcy5fdHJhY2UgPSBuZXcgQ2FwdHVyZWRUcmFjZSh0aGlzLl9wZWVrQ29udGV4dCgpKTtcbn1cblxuZnVuY3Rpb24gbG9uZ1N0YWNrVHJhY2VzQXR0YWNoRXh0cmFUcmFjZShlcnJvciwgaWdub3JlU2VsZikge1xuICAgIGlmIChjYW5BdHRhY2hUcmFjZShlcnJvcikpIHtcbiAgICAgICAgdmFyIHRyYWNlID0gdGhpcy5fdHJhY2U7XG4gICAgICAgIGlmICh0cmFjZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoaWdub3JlU2VsZikgdHJhY2UgPSB0cmFjZS5fcGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0cmFjZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0cmFjZS5hdHRhY2hFeHRyYVRyYWNlKGVycm9yKTtcbiAgICAgICAgfSBlbHNlIGlmICghZXJyb3IuX19zdGFja0NsZWFuZWRfXykge1xuICAgICAgICAgICAgdmFyIHBhcnNlZCA9IHBhcnNlU3RhY2tBbmRNZXNzYWdlKGVycm9yKTtcbiAgICAgICAgICAgIHV0aWwubm90RW51bWVyYWJsZVByb3AoZXJyb3IsIFwic3RhY2tcIixcbiAgICAgICAgICAgICAgICBwYXJzZWQubWVzc2FnZSArIFwiXFxuXCIgKyBwYXJzZWQuc3RhY2suam9pbihcIlxcblwiKSk7XG4gICAgICAgICAgICB1dGlsLm5vdEVudW1lcmFibGVQcm9wKGVycm9yLCBcIl9fc3RhY2tDbGVhbmVkX19cIiwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrRm9yZ290dGVuUmV0dXJucyhyZXR1cm5WYWx1ZSwgcHJvbWlzZUNyZWF0ZWQsIG5hbWUsIHByb21pc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50KSB7XG4gICAgaWYgKHJldHVyblZhbHVlID09PSB1bmRlZmluZWQgJiYgcHJvbWlzZUNyZWF0ZWQgIT09IG51bGwgJiZcbiAgICAgICAgd0ZvcmdvdHRlblJldHVybikge1xuICAgICAgICBpZiAocGFyZW50ICE9PSB1bmRlZmluZWQgJiYgcGFyZW50Ll9yZXR1cm5lZE5vblVuZGVmaW5lZCgpKSByZXR1cm47XG4gICAgICAgIGlmICgocHJvbWlzZS5fYml0RmllbGQgJiA2NTUzNSkgPT09IDApIHJldHVybjtcblxuICAgICAgICBpZiAobmFtZSkgbmFtZSA9IG5hbWUgKyBcIiBcIjtcbiAgICAgICAgdmFyIGhhbmRsZXJMaW5lID0gXCJcIjtcbiAgICAgICAgdmFyIGNyZWF0b3JMaW5lID0gXCJcIjtcbiAgICAgICAgaWYgKHByb21pc2VDcmVhdGVkLl90cmFjZSkge1xuICAgICAgICAgICAgdmFyIHRyYWNlTGluZXMgPSBwcm9taXNlQ3JlYXRlZC5fdHJhY2Uuc3RhY2suc3BsaXQoXCJcXG5cIik7XG4gICAgICAgICAgICB2YXIgc3RhY2sgPSBjbGVhblN0YWNrKHRyYWNlTGluZXMpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHN0YWNrLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBzdGFja1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoIW5vZGVGcmFtZVBhdHRlcm4udGVzdChsaW5lKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGluZU1hdGNoZXMgPSBsaW5lLm1hdGNoKHBhcnNlTGluZVBhdHRlcm4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGluZU1hdGNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXJMaW5lICA9IFwiYXQgXCIgKyBsaW5lTWF0Y2hlc1sxXSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI6XCIgKyBsaW5lTWF0Y2hlc1syXSArIFwiOlwiICsgbGluZU1hdGNoZXNbM10gKyBcIiBcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpcnN0VXNlckxpbmUgPSBzdGFja1swXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyYWNlTGluZXMubGVuZ3RoOyArK2kpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodHJhY2VMaW5lc1tpXSA9PT0gZmlyc3RVc2VyTGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRvckxpbmUgPSBcIlxcblwiICsgdHJhY2VMaW5lc1tpIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBtc2cgPSBcImEgcHJvbWlzZSB3YXMgY3JlYXRlZCBpbiBhIFwiICsgbmFtZSArXG4gICAgICAgICAgICBcImhhbmRsZXIgXCIgKyBoYW5kbGVyTGluZSArIFwiYnV0IHdhcyBub3QgcmV0dXJuZWQgZnJvbSBpdCwgXCIgK1xuICAgICAgICAgICAgXCJzZWUgaHR0cDovL2dvby5nbC9yUnFNVXdcIiArXG4gICAgICAgICAgICBjcmVhdG9yTGluZTtcbiAgICAgICAgcHJvbWlzZS5fd2Fybihtc2csIHRydWUsIHByb21pc2VDcmVhdGVkKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRlcHJlY2F0ZWQobmFtZSwgcmVwbGFjZW1lbnQpIHtcbiAgICB2YXIgbWVzc2FnZSA9IG5hbWUgK1xuICAgICAgICBcIiBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgdmVyc2lvbi5cIjtcbiAgICBpZiAocmVwbGFjZW1lbnQpIG1lc3NhZ2UgKz0gXCIgVXNlIFwiICsgcmVwbGFjZW1lbnQgKyBcIiBpbnN0ZWFkLlwiO1xuICAgIHJldHVybiB3YXJuKG1lc3NhZ2UpO1xufVxuXG5mdW5jdGlvbiB3YXJuKG1lc3NhZ2UsIHNob3VsZFVzZU93blRyYWNlLCBwcm9taXNlKSB7XG4gICAgaWYgKCFjb25maWcud2FybmluZ3MpIHJldHVybjtcbiAgICB2YXIgd2FybmluZyA9IG5ldyBXYXJuaW5nKG1lc3NhZ2UpO1xuICAgIHZhciBjdHg7XG4gICAgaWYgKHNob3VsZFVzZU93blRyYWNlKSB7XG4gICAgICAgIHByb21pc2UuX2F0dGFjaEV4dHJhVHJhY2Uod2FybmluZyk7XG4gICAgfSBlbHNlIGlmIChjb25maWcubG9uZ1N0YWNrVHJhY2VzICYmIChjdHggPSBQcm9taXNlLl9wZWVrQ29udGV4dCgpKSkge1xuICAgICAgICBjdHguYXR0YWNoRXh0cmFUcmFjZSh3YXJuaW5nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcGFyc2VkID0gcGFyc2VTdGFja0FuZE1lc3NhZ2Uod2FybmluZyk7XG4gICAgICAgIHdhcm5pbmcuc3RhY2sgPSBwYXJzZWQubWVzc2FnZSArIFwiXFxuXCIgKyBwYXJzZWQuc3RhY2suam9pbihcIlxcblwiKTtcbiAgICB9XG5cbiAgICBpZiAoIWFjdGl2ZUZpcmVFdmVudChcIndhcm5pbmdcIiwgd2FybmluZykpIHtcbiAgICAgICAgZm9ybWF0QW5kTG9nRXJyb3Iod2FybmluZywgXCJcIiwgdHJ1ZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZWNvbnN0cnVjdFN0YWNrKG1lc3NhZ2UsIHN0YWNrcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2tzLmxlbmd0aCAtIDE7ICsraSkge1xuICAgICAgICBzdGFja3NbaV0ucHVzaChcIkZyb20gcHJldmlvdXMgZXZlbnQ6XCIpO1xuICAgICAgICBzdGFja3NbaV0gPSBzdGFja3NbaV0uam9pbihcIlxcblwiKTtcbiAgICB9XG4gICAgaWYgKGkgPCBzdGFja3MubGVuZ3RoKSB7XG4gICAgICAgIHN0YWNrc1tpXSA9IHN0YWNrc1tpXS5qb2luKFwiXFxuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZSArIFwiXFxuXCIgKyBzdGFja3Muam9pbihcIlxcblwiKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlRHVwbGljYXRlT3JFbXB0eUp1bXBzKHN0YWNrcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2tzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChzdGFja3NbaV0ubGVuZ3RoID09PSAwIHx8XG4gICAgICAgICAgICAoKGkgKyAxIDwgc3RhY2tzLmxlbmd0aCkgJiYgc3RhY2tzW2ldWzBdID09PSBzdGFja3NbaSsxXVswXSkpIHtcbiAgICAgICAgICAgIHN0YWNrcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUNvbW1vblJvb3RzKHN0YWNrcykge1xuICAgIHZhciBjdXJyZW50ID0gc3RhY2tzWzBdO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgc3RhY2tzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBwcmV2ID0gc3RhY2tzW2ldO1xuICAgICAgICB2YXIgY3VycmVudExhc3RJbmRleCA9IGN1cnJlbnQubGVuZ3RoIC0gMTtcbiAgICAgICAgdmFyIGN1cnJlbnRMYXN0TGluZSA9IGN1cnJlbnRbY3VycmVudExhc3RJbmRleF07XG4gICAgICAgIHZhciBjb21tb25Sb290TWVldFBvaW50ID0gLTE7XG5cbiAgICAgICAgZm9yICh2YXIgaiA9IHByZXYubGVuZ3RoIC0gMTsgaiA+PSAwOyAtLWopIHtcbiAgICAgICAgICAgIGlmIChwcmV2W2pdID09PSBjdXJyZW50TGFzdExpbmUpIHtcbiAgICAgICAgICAgICAgICBjb21tb25Sb290TWVldFBvaW50ID0gajtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGogPSBjb21tb25Sb290TWVldFBvaW50OyBqID49IDA7IC0taikge1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBwcmV2W2pdO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRbY3VycmVudExhc3RJbmRleF0gPT09IGxpbmUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50LnBvcCgpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRMYXN0SW5kZXgtLTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudCA9IHByZXY7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjbGVhblN0YWNrKHN0YWNrKSB7XG4gICAgdmFyIHJldCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGxpbmUgPSBzdGFja1tpXTtcbiAgICAgICAgdmFyIGlzVHJhY2VMaW5lID0gXCIgICAgKE5vIHN0YWNrIHRyYWNlKVwiID09PSBsaW5lIHx8XG4gICAgICAgICAgICBzdGFja0ZyYW1lUGF0dGVybi50ZXN0KGxpbmUpO1xuICAgICAgICB2YXIgaXNJbnRlcm5hbEZyYW1lID0gaXNUcmFjZUxpbmUgJiYgc2hvdWxkSWdub3JlKGxpbmUpO1xuICAgICAgICBpZiAoaXNUcmFjZUxpbmUgJiYgIWlzSW50ZXJuYWxGcmFtZSkge1xuICAgICAgICAgICAgaWYgKGluZGVudFN0YWNrRnJhbWVzICYmIGxpbmUuY2hhckF0KDApICE9PSBcIiBcIikge1xuICAgICAgICAgICAgICAgIGxpbmUgPSBcIiAgICBcIiArIGxpbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXQucHVzaChsaW5lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBzdGFja0ZyYW1lc0FzQXJyYXkoZXJyb3IpIHtcbiAgICB2YXIgc3RhY2sgPSBlcnJvci5zdGFjay5yZXBsYWNlKC9cXHMrJC9nLCBcIlwiKS5zcGxpdChcIlxcblwiKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBsaW5lID0gc3RhY2tbaV07XG4gICAgICAgIGlmIChcIiAgICAoTm8gc3RhY2sgdHJhY2UpXCIgPT09IGxpbmUgfHwgc3RhY2tGcmFtZVBhdHRlcm4udGVzdChsaW5lKSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGkgPiAwKSB7XG4gICAgICAgIHN0YWNrID0gc3RhY2suc2xpY2UoaSk7XG4gICAgfVxuICAgIHJldHVybiBzdGFjaztcbn1cblxuZnVuY3Rpb24gcGFyc2VTdGFja0FuZE1lc3NhZ2UoZXJyb3IpIHtcbiAgICB2YXIgc3RhY2sgPSBlcnJvci5zdGFjaztcbiAgICB2YXIgbWVzc2FnZSA9IGVycm9yLnRvU3RyaW5nKCk7XG4gICAgc3RhY2sgPSB0eXBlb2Ygc3RhY2sgPT09IFwic3RyaW5nXCIgJiYgc3RhY2subGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgID8gc3RhY2tGcmFtZXNBc0FycmF5KGVycm9yKSA6IFtcIiAgICAoTm8gc3RhY2sgdHJhY2UpXCJdO1xuICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgIHN0YWNrOiBjbGVhblN0YWNrKHN0YWNrKVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEFuZExvZ0Vycm9yKGVycm9yLCB0aXRsZSwgaXNTb2Z0KSB7XG4gICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHZhciBtZXNzYWdlO1xuICAgICAgICBpZiAodXRpbC5pc09iamVjdChlcnJvcikpIHtcbiAgICAgICAgICAgIHZhciBzdGFjayA9IGVycm9yLnN0YWNrO1xuICAgICAgICAgICAgbWVzc2FnZSA9IHRpdGxlICsgZm9ybWF0U3RhY2soc3RhY2ssIGVycm9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSB0aXRsZSArIFN0cmluZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBwcmludFdhcm5pbmcgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgcHJpbnRXYXJuaW5nKG1lc3NhZ2UsIGlzU29mdCk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbnNvbGUubG9nID09PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAgICAgICAgIHR5cGVvZiBjb25zb2xlLmxvZyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgY29uc29sZS5sb2cobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGZpcmVSZWplY3Rpb25FdmVudChuYW1lLCBsb2NhbEhhbmRsZXIsIHJlYXNvbiwgcHJvbWlzZSkge1xuICAgIHZhciBsb2NhbEV2ZW50RmlyZWQgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGxvY2FsSGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBsb2NhbEV2ZW50RmlyZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKG5hbWUgPT09IFwicmVqZWN0aW9uSGFuZGxlZFwiKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxIYW5kbGVyKHByb21pc2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2NhbEhhbmRsZXIocmVhc29uLCBwcm9taXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgYXN5bmMudGhyb3dMYXRlcihlKTtcbiAgICB9XG5cbiAgICBpZiAobmFtZSA9PT0gXCJ1bmhhbmRsZWRSZWplY3Rpb25cIikge1xuICAgICAgICBpZiAoIWFjdGl2ZUZpcmVFdmVudChuYW1lLCByZWFzb24sIHByb21pc2UpICYmICFsb2NhbEV2ZW50RmlyZWQpIHtcbiAgICAgICAgICAgIGZvcm1hdEFuZExvZ0Vycm9yKHJlYXNvbiwgXCJVbmhhbmRsZWQgcmVqZWN0aW9uIFwiKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdGl2ZUZpcmVFdmVudChuYW1lLCBwcm9taXNlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGZvcm1hdE5vbkVycm9yKG9iaikge1xuICAgIHZhciBzdHI7XG4gICAgaWYgKHR5cGVvZiBvYmogPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBzdHIgPSBcIltmdW5jdGlvbiBcIiArXG4gICAgICAgICAgICAob2JqLm5hbWUgfHwgXCJhbm9ueW1vdXNcIikgK1xuICAgICAgICAgICAgXCJdXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc3RyID0gb2JqICYmIHR5cGVvZiBvYmoudG9TdHJpbmcgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgPyBvYmoudG9TdHJpbmcoKSA6IHV0aWwudG9TdHJpbmcob2JqKTtcbiAgICAgICAgdmFyIHJ1c2VsZXNzVG9TdHJpbmcgPSAvXFxbb2JqZWN0IFthLXpBLVowLTkkX10rXFxdLztcbiAgICAgICAgaWYgKHJ1c2VsZXNzVG9TdHJpbmcudGVzdChzdHIpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBuZXdTdHIgPSBKU09OLnN0cmluZ2lmeShvYmopO1xuICAgICAgICAgICAgICAgIHN0ciA9IG5ld1N0cjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoKGUpIHtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzdHIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBzdHIgPSBcIihlbXB0eSBhcnJheSlcIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKFwiKDxcIiArIHNuaXAoc3RyKSArIFwiPiwgbm8gc3RhY2sgdHJhY2UpXCIpO1xufVxuXG5mdW5jdGlvbiBzbmlwKHN0cikge1xuICAgIHZhciBtYXhDaGFycyA9IDQxO1xuICAgIGlmIChzdHIubGVuZ3RoIDwgbWF4Q2hhcnMpIHtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgcmV0dXJuIHN0ci5zdWJzdHIoMCwgbWF4Q2hhcnMgLSAzKSArIFwiLi4uXCI7XG59XG5cbmZ1bmN0aW9uIGxvbmdTdGFja1RyYWNlc0lzU3VwcG9ydGVkKCkge1xuICAgIHJldHVybiB0eXBlb2YgY2FwdHVyZVN0YWNrVHJhY2UgPT09IFwiZnVuY3Rpb25cIjtcbn1cblxudmFyIHNob3VsZElnbm9yZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gZmFsc2U7IH07XG52YXIgcGFyc2VMaW5lSW5mb1JlZ2V4ID0gL1tcXC88XFwoXShbXjpcXC9dKyk6KFxcZCspOig/OlxcZCspXFwpP1xccyokLztcbmZ1bmN0aW9uIHBhcnNlTGluZUluZm8obGluZSkge1xuICAgIHZhciBtYXRjaGVzID0gbGluZS5tYXRjaChwYXJzZUxpbmVJbmZvUmVnZXgpO1xuICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmaWxlTmFtZTogbWF0Y2hlc1sxXSxcbiAgICAgICAgICAgIGxpbmU6IHBhcnNlSW50KG1hdGNoZXNbMl0sIDEwKVxuICAgICAgICB9O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0Qm91bmRzKGZpcnN0TGluZUVycm9yLCBsYXN0TGluZUVycm9yKSB7XG4gICAgaWYgKCFsb25nU3RhY2tUcmFjZXNJc1N1cHBvcnRlZCgpKSByZXR1cm47XG4gICAgdmFyIGZpcnN0U3RhY2tMaW5lcyA9IGZpcnN0TGluZUVycm9yLnN0YWNrLnNwbGl0KFwiXFxuXCIpO1xuICAgIHZhciBsYXN0U3RhY2tMaW5lcyA9IGxhc3RMaW5lRXJyb3Iuc3RhY2suc3BsaXQoXCJcXG5cIik7XG4gICAgdmFyIGZpcnN0SW5kZXggPSAtMTtcbiAgICB2YXIgbGFzdEluZGV4ID0gLTE7XG4gICAgdmFyIGZpcnN0RmlsZU5hbWU7XG4gICAgdmFyIGxhc3RGaWxlTmFtZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpcnN0U3RhY2tMaW5lcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcGFyc2VMaW5lSW5mbyhmaXJzdFN0YWNrTGluZXNbaV0pO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICBmaXJzdEZpbGVOYW1lID0gcmVzdWx0LmZpbGVOYW1lO1xuICAgICAgICAgICAgZmlyc3RJbmRleCA9IHJlc3VsdC5saW5lO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0U3RhY2tMaW5lcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcGFyc2VMaW5lSW5mbyhsYXN0U3RhY2tMaW5lc1tpXSk7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGxhc3RGaWxlTmFtZSA9IHJlc3VsdC5maWxlTmFtZTtcbiAgICAgICAgICAgIGxhc3RJbmRleCA9IHJlc3VsdC5saW5lO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZpcnN0SW5kZXggPCAwIHx8IGxhc3RJbmRleCA8IDAgfHwgIWZpcnN0RmlsZU5hbWUgfHwgIWxhc3RGaWxlTmFtZSB8fFxuICAgICAgICBmaXJzdEZpbGVOYW1lICE9PSBsYXN0RmlsZU5hbWUgfHwgZmlyc3RJbmRleCA+PSBsYXN0SW5kZXgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNob3VsZElnbm9yZSA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgaWYgKGJsdWViaXJkRnJhbWVQYXR0ZXJuLnRlc3QobGluZSkpIHJldHVybiB0cnVlO1xuICAgICAgICB2YXIgaW5mbyA9IHBhcnNlTGluZUluZm8obGluZSk7XG4gICAgICAgIGlmIChpbmZvKSB7XG4gICAgICAgICAgICBpZiAoaW5mby5maWxlTmFtZSA9PT0gZmlyc3RGaWxlTmFtZSAmJlxuICAgICAgICAgICAgICAgIChmaXJzdEluZGV4IDw9IGluZm8ubGluZSAmJiBpbmZvLmxpbmUgPD0gbGFzdEluZGV4KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBDYXB0dXJlZFRyYWNlKHBhcmVudCkge1xuICAgIHRoaXMuX3BhcmVudCA9IHBhcmVudDtcbiAgICB0aGlzLl9wcm9taXNlc0NyZWF0ZWQgPSAwO1xuICAgIHZhciBsZW5ndGggPSB0aGlzLl9sZW5ndGggPSAxICsgKHBhcmVudCA9PT0gdW5kZWZpbmVkID8gMCA6IHBhcmVudC5fbGVuZ3RoKTtcbiAgICBjYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBDYXB0dXJlZFRyYWNlKTtcbiAgICBpZiAobGVuZ3RoID4gMzIpIHRoaXMudW5jeWNsZSgpO1xufVxudXRpbC5pbmhlcml0cyhDYXB0dXJlZFRyYWNlLCBFcnJvcik7XG5Db250ZXh0LkNhcHR1cmVkVHJhY2UgPSBDYXB0dXJlZFRyYWNlO1xuXG5DYXB0dXJlZFRyYWNlLnByb3RvdHlwZS51bmN5Y2xlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxlbmd0aCA9IHRoaXMuX2xlbmd0aDtcbiAgICBpZiAobGVuZ3RoIDwgMikgcmV0dXJuO1xuICAgIHZhciBub2RlcyA9IFtdO1xuICAgIHZhciBzdGFja1RvSW5kZXggPSB7fTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBub2RlID0gdGhpczsgbm9kZSAhPT0gdW5kZWZpbmVkOyArK2kpIHtcbiAgICAgICAgbm9kZXMucHVzaChub2RlKTtcbiAgICAgICAgbm9kZSA9IG5vZGUuX3BhcmVudDtcbiAgICB9XG4gICAgbGVuZ3RoID0gdGhpcy5fbGVuZ3RoID0gaTtcbiAgICBmb3IgKHZhciBpID0gbGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIHN0YWNrID0gbm9kZXNbaV0uc3RhY2s7XG4gICAgICAgIGlmIChzdGFja1RvSW5kZXhbc3RhY2tdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHN0YWNrVG9JbmRleFtzdGFja10gPSBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRTdGFjayA9IG5vZGVzW2ldLnN0YWNrO1xuICAgICAgICB2YXIgaW5kZXggPSBzdGFja1RvSW5kZXhbY3VycmVudFN0YWNrXTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSB1bmRlZmluZWQgJiYgaW5kZXggIT09IGkpIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICBub2Rlc1tpbmRleCAtIDFdLl9wYXJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgbm9kZXNbaW5kZXggLSAxXS5fbGVuZ3RoID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vZGVzW2ldLl9wYXJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBub2Rlc1tpXS5fbGVuZ3RoID0gMTtcbiAgICAgICAgICAgIHZhciBjeWNsZUVkZ2VOb2RlID0gaSA+IDAgPyBub2Rlc1tpIC0gMV0gOiB0aGlzO1xuXG4gICAgICAgICAgICBpZiAoaW5kZXggPCBsZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgY3ljbGVFZGdlTm9kZS5fcGFyZW50ID0gbm9kZXNbaW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICBjeWNsZUVkZ2VOb2RlLl9wYXJlbnQudW5jeWNsZSgpO1xuICAgICAgICAgICAgICAgIGN5Y2xlRWRnZU5vZGUuX2xlbmd0aCA9XG4gICAgICAgICAgICAgICAgICAgIGN5Y2xlRWRnZU5vZGUuX3BhcmVudC5fbGVuZ3RoICsgMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY3ljbGVFZGdlTm9kZS5fcGFyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGN5Y2xlRWRnZU5vZGUuX2xlbmd0aCA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY3VycmVudENoaWxkTGVuZ3RoID0gY3ljbGVFZGdlTm9kZS5fbGVuZ3RoICsgMTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSBpIC0gMjsgaiA+PSAwOyAtLWopIHtcbiAgICAgICAgICAgICAgICBub2Rlc1tqXS5fbGVuZ3RoID0gY3VycmVudENoaWxkTGVuZ3RoO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRDaGlsZExlbmd0aCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuQ2FwdHVyZWRUcmFjZS5wcm90b3R5cGUuYXR0YWNoRXh0cmFUcmFjZSA9IGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgaWYgKGVycm9yLl9fc3RhY2tDbGVhbmVkX18pIHJldHVybjtcbiAgICB0aGlzLnVuY3ljbGUoKTtcbiAgICB2YXIgcGFyc2VkID0gcGFyc2VTdGFja0FuZE1lc3NhZ2UoZXJyb3IpO1xuICAgIHZhciBtZXNzYWdlID0gcGFyc2VkLm1lc3NhZ2U7XG4gICAgdmFyIHN0YWNrcyA9IFtwYXJzZWQuc3RhY2tdO1xuXG4gICAgdmFyIHRyYWNlID0gdGhpcztcbiAgICB3aGlsZSAodHJhY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzdGFja3MucHVzaChjbGVhblN0YWNrKHRyYWNlLnN0YWNrLnNwbGl0KFwiXFxuXCIpKSk7XG4gICAgICAgIHRyYWNlID0gdHJhY2UuX3BhcmVudDtcbiAgICB9XG4gICAgcmVtb3ZlQ29tbW9uUm9vdHMoc3RhY2tzKTtcbiAgICByZW1vdmVEdXBsaWNhdGVPckVtcHR5SnVtcHMoc3RhY2tzKTtcbiAgICB1dGlsLm5vdEVudW1lcmFibGVQcm9wKGVycm9yLCBcInN0YWNrXCIsIHJlY29uc3RydWN0U3RhY2sobWVzc2FnZSwgc3RhY2tzKSk7XG4gICAgdXRpbC5ub3RFbnVtZXJhYmxlUHJvcChlcnJvciwgXCJfX3N0YWNrQ2xlYW5lZF9fXCIsIHRydWUpO1xufTtcblxudmFyIGNhcHR1cmVTdGFja1RyYWNlID0gKGZ1bmN0aW9uIHN0YWNrRGV0ZWN0aW9uKCkge1xuICAgIHZhciB2OHN0YWNrRnJhbWVQYXR0ZXJuID0gL15cXHMqYXRcXHMqLztcbiAgICB2YXIgdjhzdGFja0Zvcm1hdHRlciA9IGZ1bmN0aW9uKHN0YWNrLCBlcnJvcikge1xuICAgICAgICBpZiAodHlwZW9mIHN0YWNrID09PSBcInN0cmluZ1wiKSByZXR1cm4gc3RhY2s7XG5cbiAgICAgICAgaWYgKGVycm9yLm5hbWUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgZXJyb3IubWVzc2FnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3IudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm9ybWF0Tm9uRXJyb3IoZXJyb3IpO1xuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIEVycm9yLnN0YWNrVHJhY2VMaW1pdCA9PT0gXCJudW1iZXJcIiAmJlxuICAgICAgICB0eXBlb2YgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBFcnJvci5zdGFja1RyYWNlTGltaXQgKz0gNjtcbiAgICAgICAgc3RhY2tGcmFtZVBhdHRlcm4gPSB2OHN0YWNrRnJhbWVQYXR0ZXJuO1xuICAgICAgICBmb3JtYXRTdGFjayA9IHY4c3RhY2tGb3JtYXR0ZXI7XG4gICAgICAgIHZhciBjYXB0dXJlU3RhY2tUcmFjZSA9IEVycm9yLmNhcHR1cmVTdGFja1RyYWNlO1xuXG4gICAgICAgIHNob3VsZElnbm9yZSA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiBibHVlYmlyZEZyYW1lUGF0dGVybi50ZXN0KGxpbmUpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24ocmVjZWl2ZXIsIGlnbm9yZVVudGlsKSB7XG4gICAgICAgICAgICBFcnJvci5zdGFja1RyYWNlTGltaXQgKz0gNjtcbiAgICAgICAgICAgIGNhcHR1cmVTdGFja1RyYWNlKHJlY2VpdmVyLCBpZ25vcmVVbnRpbCk7XG4gICAgICAgICAgICBFcnJvci5zdGFja1RyYWNlTGltaXQgLT0gNjtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcigpO1xuXG4gICAgaWYgKHR5cGVvZiBlcnIuc3RhY2sgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgZXJyLnN0YWNrLnNwbGl0KFwiXFxuXCIpWzBdLmluZGV4T2YoXCJzdGFja0RldGVjdGlvbkBcIikgPj0gMCkge1xuICAgICAgICBzdGFja0ZyYW1lUGF0dGVybiA9IC9ALztcbiAgICAgICAgZm9ybWF0U3RhY2sgPSB2OHN0YWNrRm9ybWF0dGVyO1xuICAgICAgICBpbmRlbnRTdGFja0ZyYW1lcyA9IHRydWU7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBjYXB0dXJlU3RhY2tUcmFjZShvKSB7XG4gICAgICAgICAgICBvLnN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIGhhc1N0YWNrQWZ0ZXJUaHJvdztcbiAgICB0cnkgeyB0aHJvdyBuZXcgRXJyb3IoKTsgfVxuICAgIGNhdGNoKGUpIHtcbiAgICAgICAgaGFzU3RhY2tBZnRlclRocm93ID0gKFwic3RhY2tcIiBpbiBlKTtcbiAgICB9XG4gICAgaWYgKCEoXCJzdGFja1wiIGluIGVycikgJiYgaGFzU3RhY2tBZnRlclRocm93ICYmXG4gICAgICAgIHR5cGVvZiBFcnJvci5zdGFja1RyYWNlTGltaXQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgc3RhY2tGcmFtZVBhdHRlcm4gPSB2OHN0YWNrRnJhbWVQYXR0ZXJuO1xuICAgICAgICBmb3JtYXRTdGFjayA9IHY4c3RhY2tGb3JtYXR0ZXI7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBjYXB0dXJlU3RhY2tUcmFjZShvKSB7XG4gICAgICAgICAgICBFcnJvci5zdGFja1RyYWNlTGltaXQgKz0gNjtcbiAgICAgICAgICAgIHRyeSB7IHRocm93IG5ldyBFcnJvcigpOyB9XG4gICAgICAgICAgICBjYXRjaChlKSB7IG8uc3RhY2sgPSBlLnN0YWNrOyB9XG4gICAgICAgICAgICBFcnJvci5zdGFja1RyYWNlTGltaXQgLT0gNjtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmb3JtYXRTdGFjayA9IGZ1bmN0aW9uKHN0YWNrLCBlcnJvcikge1xuICAgICAgICBpZiAodHlwZW9mIHN0YWNrID09PSBcInN0cmluZ1wiKSByZXR1cm4gc3RhY2s7XG5cbiAgICAgICAgaWYgKCh0eXBlb2YgZXJyb3IgPT09IFwib2JqZWN0XCIgfHxcbiAgICAgICAgICAgIHR5cGVvZiBlcnJvciA9PT0gXCJmdW5jdGlvblwiKSAmJlxuICAgICAgICAgICAgZXJyb3IubmFtZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBlcnJvci5tZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvci50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmb3JtYXROb25FcnJvcihlcnJvcik7XG4gICAgfTtcblxuICAgIHJldHVybiBudWxsO1xuXG59KShbXSk7XG5cbmlmICh0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgY29uc29sZS53YXJuICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgIH07XG4gICAgaWYgKHV0aWwuaXNOb2RlICYmIHByb2Nlc3Muc3RkZXJyLmlzVFRZKSB7XG4gICAgICAgIHByaW50V2FybmluZyA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGlzU29mdCkge1xuICAgICAgICAgICAgdmFyIGNvbG9yID0gaXNTb2Z0ID8gXCJcXHUwMDFiWzMzbVwiIDogXCJcXHUwMDFiWzMxbVwiO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGNvbG9yICsgbWVzc2FnZSArIFwiXFx1MDAxYlswbVxcblwiKTtcbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKCF1dGlsLmlzTm9kZSAmJiB0eXBlb2YgKG5ldyBFcnJvcigpLnN0YWNrKSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBwcmludFdhcm5pbmcgPSBmdW5jdGlvbihtZXNzYWdlLCBpc1NvZnQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIiVjXCIgKyBtZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNTb2Z0ID8gXCJjb2xvcjogZGFya29yYW5nZVwiIDogXCJjb2xvcjogcmVkXCIpO1xuICAgICAgICB9O1xuICAgIH1cbn1cblxudmFyIGNvbmZpZyA9IHtcbiAgICB3YXJuaW5nczogd2FybmluZ3MsXG4gICAgbG9uZ1N0YWNrVHJhY2VzOiBmYWxzZSxcbiAgICBjYW5jZWxsYXRpb246IGZhbHNlLFxuICAgIG1vbml0b3Jpbmc6IGZhbHNlXG59O1xuXG5pZiAobG9uZ1N0YWNrVHJhY2VzKSBQcm9taXNlLmxvbmdTdGFja1RyYWNlcygpO1xuXG5yZXR1cm4ge1xuICAgIGxvbmdTdGFja1RyYWNlczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBjb25maWcubG9uZ1N0YWNrVHJhY2VzO1xuICAgIH0sXG4gICAgd2FybmluZ3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gY29uZmlnLndhcm5pbmdzO1xuICAgIH0sXG4gICAgY2FuY2VsbGF0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZy5jYW5jZWxsYXRpb247XG4gICAgfSxcbiAgICBtb25pdG9yaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZy5tb25pdG9yaW5nO1xuICAgIH0sXG4gICAgcHJvcGFnYXRlRnJvbUZ1bmN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHByb3BhZ2F0ZUZyb21GdW5jdGlvbjtcbiAgICB9LFxuICAgIGJvdW5kVmFsdWVGdW5jdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBib3VuZFZhbHVlRnVuY3Rpb247XG4gICAgfSxcbiAgICBjaGVja0ZvcmdvdHRlblJldHVybnM6IGNoZWNrRm9yZ290dGVuUmV0dXJucyxcbiAgICBzZXRCb3VuZHM6IHNldEJvdW5kcyxcbiAgICB3YXJuOiB3YXJuLFxuICAgIGRlcHJlY2F0ZWQ6IGRlcHJlY2F0ZWQsXG4gICAgQ2FwdHVyZWRUcmFjZTogQ2FwdHVyZWRUcmFjZSxcbiAgICBmaXJlRG9tRXZlbnQ6IGZpcmVEb21FdmVudCxcbiAgICBmaXJlR2xvYmFsRXZlbnQ6IGZpcmVHbG9iYWxFdmVudFxufTtcbn07XG5cbn0se1wiLi9lcnJvcnNcIjoxMixcIi4vdXRpbFwiOjM2fV0sMTA6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UpIHtcbmZ1bmN0aW9uIHJldHVybmVyKCkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlO1xufVxuZnVuY3Rpb24gdGhyb3dlcigpIHtcbiAgICB0aHJvdyB0aGlzLnJlYXNvbjtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGVbXCJyZXR1cm5cIl0gPVxuUHJvbWlzZS5wcm90b3R5cGUudGhlblJldHVybiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHZhbHVlLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucygpO1xuICAgIHJldHVybiB0aGlzLl90aGVuKFxuICAgICAgICByZXR1cm5lciwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHt2YWx1ZTogdmFsdWV9LCB1bmRlZmluZWQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGVbXCJ0aHJvd1wiXSA9XG5Qcm9taXNlLnByb3RvdHlwZS50aGVuVGhyb3cgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RoZW4oXG4gICAgICAgIHRocm93ZXIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB7cmVhc29uOiByZWFzb259LCB1bmRlZmluZWQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2hUaHJvdyA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aGVuKFxuICAgICAgICAgICAgdW5kZWZpbmVkLCB0aHJvd2VyLCB1bmRlZmluZWQsIHtyZWFzb246IHJlYXNvbn0sIHVuZGVmaW5lZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIF9yZWFzb24gPSBhcmd1bWVudHNbMV07XG4gICAgICAgIHZhciBoYW5kbGVyID0gZnVuY3Rpb24oKSB7dGhyb3cgX3JlYXNvbjt9O1xuICAgICAgICByZXR1cm4gdGhpcy5jYXVnaHQocmVhc29uLCBoYW5kbGVyKTtcbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5jYXRjaFJldHVybiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkgdmFsdWUuc3VwcHJlc3NVbmhhbmRsZWRSZWplY3Rpb25zKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl90aGVuKFxuICAgICAgICAgICAgdW5kZWZpbmVkLCByZXR1cm5lciwgdW5kZWZpbmVkLCB7dmFsdWU6IHZhbHVlfSwgdW5kZWZpbmVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgX3ZhbHVlID0gYXJndW1lbnRzWzFdO1xuICAgICAgICBpZiAoX3ZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkgX3ZhbHVlLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucygpO1xuICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uKCkge3JldHVybiBfdmFsdWU7fTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2F1Z2h0KHZhbHVlLCBoYW5kbGVyKTtcbiAgICB9XG59O1xufTtcblxufSx7fV0sMTE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIElOVEVSTkFMKSB7XG52YXIgUHJvbWlzZVJlZHVjZSA9IFByb21pc2UucmVkdWNlO1xudmFyIFByb21pc2VBbGwgPSBQcm9taXNlLmFsbDtcblxuZnVuY3Rpb24gcHJvbWlzZUFsbFRoaXMoKSB7XG4gICAgcmV0dXJuIFByb21pc2VBbGwodGhpcyk7XG59XG5cbmZ1bmN0aW9uIFByb21pc2VNYXBTZXJpZXMocHJvbWlzZXMsIGZuKSB7XG4gICAgcmV0dXJuIFByb21pc2VSZWR1Y2UocHJvbWlzZXMsIGZuLCBJTlRFUk5BTCwgSU5URVJOQUwpO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS5lYWNoID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgcmV0dXJuIFByb21pc2VSZWR1Y2UodGhpcywgZm4sIElOVEVSTkFMLCAwKVxuICAgICAgICAgICAgICAuX3RoZW4ocHJvbWlzZUFsbFRoaXMsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0aGlzLCB1bmRlZmluZWQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUubWFwU2VyaWVzID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgcmV0dXJuIFByb21pc2VSZWR1Y2UodGhpcywgZm4sIElOVEVSTkFMLCBJTlRFUk5BTCk7XG59O1xuXG5Qcm9taXNlLmVhY2ggPSBmdW5jdGlvbiAocHJvbWlzZXMsIGZuKSB7XG4gICAgcmV0dXJuIFByb21pc2VSZWR1Y2UocHJvbWlzZXMsIGZuLCBJTlRFUk5BTCwgMClcbiAgICAgICAgICAgICAgLl90aGVuKHByb21pc2VBbGxUaGlzLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgcHJvbWlzZXMsIHVuZGVmaW5lZCk7XG59O1xuXG5Qcm9taXNlLm1hcFNlcmllcyA9IFByb21pc2VNYXBTZXJpZXM7XG59O1xuXG5cbn0se31dLDEyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xudmFyIGVzNSA9IF9kZXJlcV8oXCIuL2VzNVwiKTtcbnZhciBPYmplY3RmcmVlemUgPSBlczUuZnJlZXplO1xudmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xudmFyIGluaGVyaXRzID0gdXRpbC5pbmhlcml0cztcbnZhciBub3RFbnVtZXJhYmxlUHJvcCA9IHV0aWwubm90RW51bWVyYWJsZVByb3A7XG5cbmZ1bmN0aW9uIHN1YkVycm9yKG5hbWVQcm9wZXJ0eSwgZGVmYXVsdE1lc3NhZ2UpIHtcbiAgICBmdW5jdGlvbiBTdWJFcnJvcihtZXNzYWdlKSB7XG4gICAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTdWJFcnJvcikpIHJldHVybiBuZXcgU3ViRXJyb3IobWVzc2FnZSk7XG4gICAgICAgIG5vdEVudW1lcmFibGVQcm9wKHRoaXMsIFwibWVzc2FnZVwiLFxuICAgICAgICAgICAgdHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgPyBtZXNzYWdlIDogZGVmYXVsdE1lc3NhZ2UpO1xuICAgICAgICBub3RFbnVtZXJhYmxlUHJvcCh0aGlzLCBcIm5hbWVcIiwgbmFtZVByb3BlcnR5KTtcbiAgICAgICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIEVycm9yLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5oZXJpdHMoU3ViRXJyb3IsIEVycm9yKTtcbiAgICByZXR1cm4gU3ViRXJyb3I7XG59XG5cbnZhciBfVHlwZUVycm9yLCBfUmFuZ2VFcnJvcjtcbnZhciBXYXJuaW5nID0gc3ViRXJyb3IoXCJXYXJuaW5nXCIsIFwid2FybmluZ1wiKTtcbnZhciBDYW5jZWxsYXRpb25FcnJvciA9IHN1YkVycm9yKFwiQ2FuY2VsbGF0aW9uRXJyb3JcIiwgXCJjYW5jZWxsYXRpb24gZXJyb3JcIik7XG52YXIgVGltZW91dEVycm9yID0gc3ViRXJyb3IoXCJUaW1lb3V0RXJyb3JcIiwgXCJ0aW1lb3V0IGVycm9yXCIpO1xudmFyIEFnZ3JlZ2F0ZUVycm9yID0gc3ViRXJyb3IoXCJBZ2dyZWdhdGVFcnJvclwiLCBcImFnZ3JlZ2F0ZSBlcnJvclwiKTtcbnRyeSB7XG4gICAgX1R5cGVFcnJvciA9IFR5cGVFcnJvcjtcbiAgICBfUmFuZ2VFcnJvciA9IFJhbmdlRXJyb3I7XG59IGNhdGNoKGUpIHtcbiAgICBfVHlwZUVycm9yID0gc3ViRXJyb3IoXCJUeXBlRXJyb3JcIiwgXCJ0eXBlIGVycm9yXCIpO1xuICAgIF9SYW5nZUVycm9yID0gc3ViRXJyb3IoXCJSYW5nZUVycm9yXCIsIFwicmFuZ2UgZXJyb3JcIik7XG59XG5cbnZhciBtZXRob2RzID0gKFwiam9pbiBwb3AgcHVzaCBzaGlmdCB1bnNoaWZ0IHNsaWNlIGZpbHRlciBmb3JFYWNoIHNvbWUgXCIgK1xuICAgIFwiZXZlcnkgbWFwIGluZGV4T2YgbGFzdEluZGV4T2YgcmVkdWNlIHJlZHVjZVJpZ2h0IHNvcnQgcmV2ZXJzZVwiKS5zcGxpdChcIiBcIik7XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgbWV0aG9kcy5sZW5ndGg7ICsraSkge1xuICAgIGlmICh0eXBlb2YgQXJyYXkucHJvdG90eXBlW21ldGhvZHNbaV1dID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgQWdncmVnYXRlRXJyb3IucHJvdG90eXBlW21ldGhvZHNbaV1dID0gQXJyYXkucHJvdG90eXBlW21ldGhvZHNbaV1dO1xuICAgIH1cbn1cblxuZXM1LmRlZmluZVByb3BlcnR5KEFnZ3JlZ2F0ZUVycm9yLnByb3RvdHlwZSwgXCJsZW5ndGhcIiwge1xuICAgIHZhbHVlOiAwLFxuICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgd3JpdGFibGU6IHRydWUsXG4gICAgZW51bWVyYWJsZTogdHJ1ZVxufSk7XG5BZ2dyZWdhdGVFcnJvci5wcm90b3R5cGVbXCJpc09wZXJhdGlvbmFsXCJdID0gdHJ1ZTtcbnZhciBsZXZlbCA9IDA7XG5BZ2dyZWdhdGVFcnJvci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5kZW50ID0gQXJyYXkobGV2ZWwgKiA0ICsgMSkuam9pbihcIiBcIik7XG4gICAgdmFyIHJldCA9IFwiXFxuXCIgKyBpbmRlbnQgKyBcIkFnZ3JlZ2F0ZUVycm9yIG9mOlwiICsgXCJcXG5cIjtcbiAgICBsZXZlbCsrO1xuICAgIGluZGVudCA9IEFycmF5KGxldmVsICogNCArIDEpLmpvaW4oXCIgXCIpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgc3RyID0gdGhpc1tpXSA9PT0gdGhpcyA/IFwiW0NpcmN1bGFyIEFnZ3JlZ2F0ZUVycm9yXVwiIDogdGhpc1tpXSArIFwiXCI7XG4gICAgICAgIHZhciBsaW5lcyA9IHN0ci5zcGxpdChcIlxcblwiKTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsaW5lcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgbGluZXNbal0gPSBpbmRlbnQgKyBsaW5lc1tqXTtcbiAgICAgICAgfVxuICAgICAgICBzdHIgPSBsaW5lcy5qb2luKFwiXFxuXCIpO1xuICAgICAgICByZXQgKz0gc3RyICsgXCJcXG5cIjtcbiAgICB9XG4gICAgbGV2ZWwtLTtcbiAgICByZXR1cm4gcmV0O1xufTtcblxuZnVuY3Rpb24gT3BlcmF0aW9uYWxFcnJvcihtZXNzYWdlKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE9wZXJhdGlvbmFsRXJyb3IpKVxuICAgICAgICByZXR1cm4gbmV3IE9wZXJhdGlvbmFsRXJyb3IobWVzc2FnZSk7XG4gICAgbm90RW51bWVyYWJsZVByb3AodGhpcywgXCJuYW1lXCIsIFwiT3BlcmF0aW9uYWxFcnJvclwiKTtcbiAgICBub3RFbnVtZXJhYmxlUHJvcCh0aGlzLCBcIm1lc3NhZ2VcIiwgbWVzc2FnZSk7XG4gICAgdGhpcy5jYXVzZSA9IG1lc3NhZ2U7XG4gICAgdGhpc1tcImlzT3BlcmF0aW9uYWxcIl0gPSB0cnVlO1xuXG4gICAgaWYgKG1lc3NhZ2UgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBub3RFbnVtZXJhYmxlUHJvcCh0aGlzLCBcIm1lc3NhZ2VcIiwgbWVzc2FnZS5tZXNzYWdlKTtcbiAgICAgICAgbm90RW51bWVyYWJsZVByb3AodGhpcywgXCJzdGFja1wiLCBtZXNzYWdlLnN0YWNrKTtcbiAgICB9IGVsc2UgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpO1xuICAgIH1cblxufVxuaW5oZXJpdHMoT3BlcmF0aW9uYWxFcnJvciwgRXJyb3IpO1xuXG52YXIgZXJyb3JUeXBlcyA9IEVycm9yW1wiX19CbHVlYmlyZEVycm9yVHlwZXNfX1wiXTtcbmlmICghZXJyb3JUeXBlcykge1xuICAgIGVycm9yVHlwZXMgPSBPYmplY3RmcmVlemUoe1xuICAgICAgICBDYW5jZWxsYXRpb25FcnJvcjogQ2FuY2VsbGF0aW9uRXJyb3IsXG4gICAgICAgIFRpbWVvdXRFcnJvcjogVGltZW91dEVycm9yLFxuICAgICAgICBPcGVyYXRpb25hbEVycm9yOiBPcGVyYXRpb25hbEVycm9yLFxuICAgICAgICBSZWplY3Rpb25FcnJvcjogT3BlcmF0aW9uYWxFcnJvcixcbiAgICAgICAgQWdncmVnYXRlRXJyb3I6IEFnZ3JlZ2F0ZUVycm9yXG4gICAgfSk7XG4gICAgZXM1LmRlZmluZVByb3BlcnR5KEVycm9yLCBcIl9fQmx1ZWJpcmRFcnJvclR5cGVzX19cIiwge1xuICAgICAgICB2YWx1ZTogZXJyb3JUeXBlcyxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZVxuICAgIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBFcnJvcjogRXJyb3IsXG4gICAgVHlwZUVycm9yOiBfVHlwZUVycm9yLFxuICAgIFJhbmdlRXJyb3I6IF9SYW5nZUVycm9yLFxuICAgIENhbmNlbGxhdGlvbkVycm9yOiBlcnJvclR5cGVzLkNhbmNlbGxhdGlvbkVycm9yLFxuICAgIE9wZXJhdGlvbmFsRXJyb3I6IGVycm9yVHlwZXMuT3BlcmF0aW9uYWxFcnJvcixcbiAgICBUaW1lb3V0RXJyb3I6IGVycm9yVHlwZXMuVGltZW91dEVycm9yLFxuICAgIEFnZ3JlZ2F0ZUVycm9yOiBlcnJvclR5cGVzLkFnZ3JlZ2F0ZUVycm9yLFxuICAgIFdhcm5pbmc6IFdhcm5pbmdcbn07XG5cbn0se1wiLi9lczVcIjoxMyxcIi4vdXRpbFwiOjM2fV0sMTM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIGlzRVM1ID0gKGZ1bmN0aW9uKCl7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgcmV0dXJuIHRoaXMgPT09IHVuZGVmaW5lZDtcbn0pKCk7XG5cbmlmIChpc0VTNSkge1xuICAgIG1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgICBmcmVlemU6IE9iamVjdC5mcmVlemUsXG4gICAgICAgIGRlZmluZVByb3BlcnR5OiBPYmplY3QuZGVmaW5lUHJvcGVydHksXG4gICAgICAgIGdldERlc2NyaXB0b3I6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gICAgICAgIGtleXM6IE9iamVjdC5rZXlzLFxuICAgICAgICBuYW1lczogT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMsXG4gICAgICAgIGdldFByb3RvdHlwZU9mOiBPYmplY3QuZ2V0UHJvdG90eXBlT2YsXG4gICAgICAgIGlzQXJyYXk6IEFycmF5LmlzQXJyYXksXG4gICAgICAgIGlzRVM1OiBpc0VTNSxcbiAgICAgICAgcHJvcGVydHlJc1dyaXRhYmxlOiBmdW5jdGlvbihvYmosIHByb3ApIHtcbiAgICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIHByb3ApO1xuICAgICAgICAgICAgcmV0dXJuICEhKCFkZXNjcmlwdG9yIHx8IGRlc2NyaXB0b3Iud3JpdGFibGUgfHwgZGVzY3JpcHRvci5zZXQpO1xuICAgICAgICB9XG4gICAgfTtcbn0gZWxzZSB7XG4gICAgdmFyIGhhcyA9IHt9Lmhhc093blByb3BlcnR5O1xuICAgIHZhciBzdHIgPSB7fS50b1N0cmluZztcbiAgICB2YXIgcHJvdG8gPSB7fS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cbiAgICB2YXIgT2JqZWN0S2V5cyA9IGZ1bmN0aW9uIChvKSB7XG4gICAgICAgIHZhciByZXQgPSBbXTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG8pIHtcbiAgICAgICAgICAgIGlmIChoYXMuY2FsbChvLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgcmV0LnB1c2goa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG5cbiAgICB2YXIgT2JqZWN0R2V0RGVzY3JpcHRvciA9IGZ1bmN0aW9uKG8sIGtleSkge1xuICAgICAgICByZXR1cm4ge3ZhbHVlOiBvW2tleV19O1xuICAgIH07XG5cbiAgICB2YXIgT2JqZWN0RGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiAobywga2V5LCBkZXNjKSB7XG4gICAgICAgIG9ba2V5XSA9IGRlc2MudmFsdWU7XG4gICAgICAgIHJldHVybiBvO1xuICAgIH07XG5cbiAgICB2YXIgT2JqZWN0RnJlZXplID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH07XG5cbiAgICB2YXIgT2JqZWN0R2V0UHJvdG90eXBlT2YgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0KG9iaikuY29uc3RydWN0b3IucHJvdG90eXBlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvdG87XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIEFycmF5SXNBcnJheSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBzdHIuY2FsbChvYmopID09PSBcIltvYmplY3QgQXJyYXldXCI7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2goZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIG1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgICBpc0FycmF5OiBBcnJheUlzQXJyYXksXG4gICAgICAgIGtleXM6IE9iamVjdEtleXMsXG4gICAgICAgIG5hbWVzOiBPYmplY3RLZXlzLFxuICAgICAgICBkZWZpbmVQcm9wZXJ0eTogT2JqZWN0RGVmaW5lUHJvcGVydHksXG4gICAgICAgIGdldERlc2NyaXB0b3I6IE9iamVjdEdldERlc2NyaXB0b3IsXG4gICAgICAgIGZyZWV6ZTogT2JqZWN0RnJlZXplLFxuICAgICAgICBnZXRQcm90b3R5cGVPZjogT2JqZWN0R2V0UHJvdG90eXBlT2YsXG4gICAgICAgIGlzRVM1OiBpc0VTNSxcbiAgICAgICAgcHJvcGVydHlJc1dyaXRhYmxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxufSx7fV0sMTQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIElOVEVSTkFMKSB7XG52YXIgUHJvbWlzZU1hcCA9IFByb21pc2UubWFwO1xuXG5Qcm9taXNlLnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbiAoZm4sIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gUHJvbWlzZU1hcCh0aGlzLCBmbiwgb3B0aW9ucywgSU5URVJOQUwpO1xufTtcblxuUHJvbWlzZS5maWx0ZXIgPSBmdW5jdGlvbiAocHJvbWlzZXMsIGZuLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIFByb21pc2VNYXAocHJvbWlzZXMsIGZuLCBvcHRpb25zLCBJTlRFUk5BTCk7XG59O1xufTtcblxufSx7fV0sMTU6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIHRyeUNvbnZlcnRUb1Byb21pc2UpIHtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBDYW5jZWxsYXRpb25FcnJvciA9IFByb21pc2UuQ2FuY2VsbGF0aW9uRXJyb3I7XG52YXIgZXJyb3JPYmogPSB1dGlsLmVycm9yT2JqO1xuXG5mdW5jdGlvbiBQYXNzVGhyb3VnaEhhbmRsZXJDb250ZXh0KHByb21pc2UsIHR5cGUsIGhhbmRsZXIpIHtcbiAgICB0aGlzLnByb21pc2UgPSBwcm9taXNlO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5oYW5kbGVyID0gaGFuZGxlcjtcbiAgICB0aGlzLmNhbGxlZCA9IGZhbHNlO1xuICAgIHRoaXMuY2FuY2VsUHJvbWlzZSA9IG51bGw7XG59XG5cblBhc3NUaHJvdWdoSGFuZGxlckNvbnRleHQucHJvdG90eXBlLmlzRmluYWxseUhhbmRsZXIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlID09PSAwO1xufTtcblxuZnVuY3Rpb24gRmluYWxseUhhbmRsZXJDYW5jZWxSZWFjdGlvbihmaW5hbGx5SGFuZGxlcikge1xuICAgIHRoaXMuZmluYWxseUhhbmRsZXIgPSBmaW5hbGx5SGFuZGxlcjtcbn1cblxuRmluYWxseUhhbmRsZXJDYW5jZWxSZWFjdGlvbi5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIGNoZWNrQ2FuY2VsKHRoaXMuZmluYWxseUhhbmRsZXIpO1xufTtcblxuZnVuY3Rpb24gY2hlY2tDYW5jZWwoY3R4LCByZWFzb24pIHtcbiAgICBpZiAoY3R4LmNhbmNlbFByb21pc2UgIT0gbnVsbCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGN0eC5jYW5jZWxQcm9taXNlLl9yZWplY3QocmVhc29uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN0eC5jYW5jZWxQcm9taXNlLl9jYW5jZWwoKTtcbiAgICAgICAgfVxuICAgICAgICBjdHguY2FuY2VsUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHN1Y2NlZWQoKSB7XG4gICAgcmV0dXJuIGZpbmFsbHlIYW5kbGVyLmNhbGwodGhpcywgdGhpcy5wcm9taXNlLl90YXJnZXQoKS5fc2V0dGxlZFZhbHVlKCkpO1xufVxuZnVuY3Rpb24gZmFpbChyZWFzb24pIHtcbiAgICBpZiAoY2hlY2tDYW5jZWwodGhpcywgcmVhc29uKSkgcmV0dXJuO1xuICAgIGVycm9yT2JqLmUgPSByZWFzb247XG4gICAgcmV0dXJuIGVycm9yT2JqO1xufVxuZnVuY3Rpb24gZmluYWxseUhhbmRsZXIocmVhc29uT3JWYWx1ZSkge1xuICAgIHZhciBwcm9taXNlID0gdGhpcy5wcm9taXNlO1xuICAgIHZhciBoYW5kbGVyID0gdGhpcy5oYW5kbGVyO1xuXG4gICAgaWYgKCF0aGlzLmNhbGxlZCkge1xuICAgICAgICB0aGlzLmNhbGxlZCA9IHRydWU7XG4gICAgICAgIHZhciByZXQgPSB0aGlzLmlzRmluYWxseUhhbmRsZXIoKVxuICAgICAgICAgICAgPyBoYW5kbGVyLmNhbGwocHJvbWlzZS5fYm91bmRWYWx1ZSgpKVxuICAgICAgICAgICAgOiBoYW5kbGVyLmNhbGwocHJvbWlzZS5fYm91bmRWYWx1ZSgpLCByZWFzb25PclZhbHVlKTtcbiAgICAgICAgaWYgKHJldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwcm9taXNlLl9zZXRSZXR1cm5lZE5vblVuZGVmaW5lZCgpO1xuICAgICAgICAgICAgdmFyIG1heWJlUHJvbWlzZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UocmV0LCBwcm9taXNlKTtcbiAgICAgICAgICAgIGlmIChtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FuY2VsUHJvbWlzZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXliZVByb21pc2UuX2lzQ2FuY2VsbGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWFzb24gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBDYW5jZWxsYXRpb25FcnJvcihcImxhdGUgY2FuY2VsbGF0aW9uIG9ic2VydmVyXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5fYXR0YWNoRXh0cmFUcmFjZShyZWFzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JPYmouZSA9IHJlYXNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvck9iajtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtYXliZVByb21pc2UuaXNQZW5kaW5nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlUHJvbWlzZS5fYXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2soXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEZpbmFsbHlIYW5kbGVyQ2FuY2VsUmVhY3Rpb24odGhpcykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBtYXliZVByb21pc2UuX3RoZW4oXG4gICAgICAgICAgICAgICAgICAgIHN1Y2NlZWQsIGZhaWwsIHVuZGVmaW5lZCwgdGhpcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwcm9taXNlLmlzUmVqZWN0ZWQoKSkge1xuICAgICAgICBjaGVja0NhbmNlbCh0aGlzKTtcbiAgICAgICAgZXJyb3JPYmouZSA9IHJlYXNvbk9yVmFsdWU7XG4gICAgICAgIHJldHVybiBlcnJvck9iajtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjaGVja0NhbmNlbCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHJlYXNvbk9yVmFsdWU7XG4gICAgfVxufVxuXG5Qcm9taXNlLnByb3RvdHlwZS5fcGFzc1Rocm91Z2ggPSBmdW5jdGlvbihoYW5kbGVyLCB0eXBlLCBzdWNjZXNzLCBmYWlsKSB7XG4gICAgaWYgKHR5cGVvZiBoYW5kbGVyICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0aGlzLnRoZW4oKTtcbiAgICByZXR1cm4gdGhpcy5fdGhlbihzdWNjZXNzLFxuICAgICAgICAgICAgICAgICAgICAgIGZhaWwsXG4gICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgIG5ldyBQYXNzVGhyb3VnaEhhbmRsZXJDb250ZXh0KHRoaXMsIHR5cGUsIGhhbmRsZXIpLFxuICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5sYXN0bHkgPVxuUHJvbWlzZS5wcm90b3R5cGVbXCJmaW5hbGx5XCJdID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICByZXR1cm4gdGhpcy5fcGFzc1Rocm91Z2goaGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxseUhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHlIYW5kbGVyKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnRhcCA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Bhc3NUaHJvdWdoKGhhbmRsZXIsIDEsIGZpbmFsbHlIYW5kbGVyKTtcbn07XG5cbnJldHVybiBQYXNzVGhyb3VnaEhhbmRsZXJDb250ZXh0O1xufTtcblxufSx7XCIuL3V0aWxcIjozNn1dLDE2OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhcGlSZWplY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIElOVEVSTkFMLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0cnlDb252ZXJ0VG9Qcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBQcm94eWFibGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKSB7XG52YXIgZXJyb3JzID0gX2RlcmVxXyhcIi4vZXJyb3JzXCIpO1xudmFyIFR5cGVFcnJvciA9IGVycm9ycy5UeXBlRXJyb3I7XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgZXJyb3JPYmogPSB1dGlsLmVycm9yT2JqO1xudmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcbnZhciB5aWVsZEhhbmRsZXJzID0gW107XG5cbmZ1bmN0aW9uIHByb21pc2VGcm9tWWllbGRIYW5kbGVyKHZhbHVlLCB5aWVsZEhhbmRsZXJzLCB0cmFjZVBhcmVudCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeWllbGRIYW5kbGVycy5sZW5ndGg7ICsraSkge1xuICAgICAgICB0cmFjZVBhcmVudC5fcHVzaENvbnRleHQoKTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRyeUNhdGNoKHlpZWxkSGFuZGxlcnNbaV0pKHZhbHVlKTtcbiAgICAgICAgdHJhY2VQYXJlbnQuX3BvcENvbnRleHQoKTtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gZXJyb3JPYmopIHtcbiAgICAgICAgICAgIHRyYWNlUGFyZW50Ll9wdXNoQ29udGV4dCgpO1xuICAgICAgICAgICAgdmFyIHJldCA9IFByb21pc2UucmVqZWN0KGVycm9yT2JqLmUpO1xuICAgICAgICAgICAgdHJhY2VQYXJlbnQuX3BvcENvbnRleHQoKTtcbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1heWJlUHJvbWlzZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UocmVzdWx0LCB0cmFjZVBhcmVudCk7XG4gICAgICAgIGlmIChtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSByZXR1cm4gbWF5YmVQcm9taXNlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gUHJvbWlzZVNwYXduKGdlbmVyYXRvckZ1bmN0aW9uLCByZWNlaXZlciwgeWllbGRIYW5kbGVyLCBzdGFjaykge1xuICAgIGlmIChkZWJ1Zy5jYW5jZWxsYXRpb24oKSkge1xuICAgICAgICB2YXIgaW50ZXJuYWwgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG4gICAgICAgIHZhciBfZmluYWxseVByb21pc2UgPSB0aGlzLl9maW5hbGx5UHJvbWlzZSA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcbiAgICAgICAgdGhpcy5fcHJvbWlzZSA9IGludGVybmFsLmxhc3RseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBfZmluYWxseVByb21pc2U7XG4gICAgICAgIH0pO1xuICAgICAgICBpbnRlcm5hbC5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcbiAgICAgICAgaW50ZXJuYWwuX3NldE9uQ2FuY2VsKHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5fcHJvbWlzZSA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcbiAgICAgICAgcHJvbWlzZS5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcbiAgICB9XG4gICAgdGhpcy5fc3RhY2sgPSBzdGFjaztcbiAgICB0aGlzLl9nZW5lcmF0b3JGdW5jdGlvbiA9IGdlbmVyYXRvckZ1bmN0aW9uO1xuICAgIHRoaXMuX3JlY2VpdmVyID0gcmVjZWl2ZXI7XG4gICAgdGhpcy5fZ2VuZXJhdG9yID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3lpZWxkSGFuZGxlcnMgPSB0eXBlb2YgeWllbGRIYW5kbGVyID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgPyBbeWllbGRIYW5kbGVyXS5jb25jYXQoeWllbGRIYW5kbGVycylcbiAgICAgICAgOiB5aWVsZEhhbmRsZXJzO1xuICAgIHRoaXMuX3lpZWxkZWRQcm9taXNlID0gbnVsbDtcbiAgICB0aGlzLl9jYW5jZWxsYXRpb25QaGFzZSA9IGZhbHNlO1xufVxudXRpbC5pbmhlcml0cyhQcm9taXNlU3Bhd24sIFByb3h5YWJsZSk7XG5cblByb21pc2VTcGF3bi5wcm90b3R5cGUuX2lzUmVzb2x2ZWQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJvbWlzZSA9PT0gbnVsbDtcbn07XG5cblByb21pc2VTcGF3bi5wcm90b3R5cGUuX2NsZWFudXAgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9wcm9taXNlID0gdGhpcy5fZ2VuZXJhdG9yID0gbnVsbDtcbiAgICBpZiAoZGVidWcuY2FuY2VsbGF0aW9uKCkgJiYgdGhpcy5fZmluYWxseVByb21pc2UgIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5fZmluYWxseVByb21pc2UuX2Z1bGZpbGwoKTtcbiAgICAgICAgdGhpcy5fZmluYWxseVByb21pc2UgPSBudWxsO1xuICAgIH1cbn07XG5cblByb21pc2VTcGF3bi5wcm90b3R5cGUuX3Byb21pc2VDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5faXNSZXNvbHZlZCgpKSByZXR1cm47XG4gICAgdmFyIGltcGxlbWVudHNSZXR1cm4gPSB0eXBlb2YgdGhpcy5fZ2VuZXJhdG9yW1wicmV0dXJuXCJdICE9PSBcInVuZGVmaW5lZFwiO1xuXG4gICAgdmFyIHJlc3VsdDtcbiAgICBpZiAoIWltcGxlbWVudHNSZXR1cm4pIHtcbiAgICAgICAgdmFyIHJlYXNvbiA9IG5ldyBQcm9taXNlLkNhbmNlbGxhdGlvbkVycm9yKFxuICAgICAgICAgICAgXCJnZW5lcmF0b3IgLnJldHVybigpIHNlbnRpbmVsXCIpO1xuICAgICAgICBQcm9taXNlLmNvcm91dGluZS5yZXR1cm5TZW50aW5lbCA9IHJlYXNvbjtcbiAgICAgICAgdGhpcy5fcHJvbWlzZS5fYXR0YWNoRXh0cmFUcmFjZShyZWFzb24pO1xuICAgICAgICB0aGlzLl9wcm9taXNlLl9wdXNoQ29udGV4dCgpO1xuICAgICAgICByZXN1bHQgPSB0cnlDYXRjaCh0aGlzLl9nZW5lcmF0b3JbXCJ0aHJvd1wiXSkuY2FsbCh0aGlzLl9nZW5lcmF0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFzb24pO1xuICAgICAgICB0aGlzLl9wcm9taXNlLl9wb3BDb250ZXh0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fcHJvbWlzZS5fcHVzaENvbnRleHQoKTtcbiAgICAgICAgcmVzdWx0ID0gdHJ5Q2F0Y2godGhpcy5fZ2VuZXJhdG9yW1wicmV0dXJuXCJdKS5jYWxsKHRoaXMuX2dlbmVyYXRvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQpO1xuICAgICAgICB0aGlzLl9wcm9taXNlLl9wb3BDb250ZXh0KCk7XG4gICAgfVxuICAgIHRoaXMuX2NhbmNlbGxhdGlvblBoYXNlID0gdHJ1ZTtcbiAgICB0aGlzLl95aWVsZGVkUHJvbWlzZSA9IG51bGw7XG4gICAgdGhpcy5fY29udGludWUocmVzdWx0KTtcbn07XG5cblByb21pc2VTcGF3bi5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHRoaXMuX3lpZWxkZWRQcm9taXNlID0gbnVsbDtcbiAgICB0aGlzLl9wcm9taXNlLl9wdXNoQ29udGV4dCgpO1xuICAgIHZhciByZXN1bHQgPSB0cnlDYXRjaCh0aGlzLl9nZW5lcmF0b3IubmV4dCkuY2FsbCh0aGlzLl9nZW5lcmF0b3IsIHZhbHVlKTtcbiAgICB0aGlzLl9wcm9taXNlLl9wb3BDb250ZXh0KCk7XG4gICAgdGhpcy5fY29udGludWUocmVzdWx0KTtcbn07XG5cblByb21pc2VTcGF3bi5wcm90b3R5cGUuX3Byb21pc2VSZWplY3RlZCA9IGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIHRoaXMuX3lpZWxkZWRQcm9taXNlID0gbnVsbDtcbiAgICB0aGlzLl9wcm9taXNlLl9hdHRhY2hFeHRyYVRyYWNlKHJlYXNvbik7XG4gICAgdGhpcy5fcHJvbWlzZS5fcHVzaENvbnRleHQoKTtcbiAgICB2YXIgcmVzdWx0ID0gdHJ5Q2F0Y2godGhpcy5fZ2VuZXJhdG9yW1widGhyb3dcIl0pXG4gICAgICAgIC5jYWxsKHRoaXMuX2dlbmVyYXRvciwgcmVhc29uKTtcbiAgICB0aGlzLl9wcm9taXNlLl9wb3BDb250ZXh0KCk7XG4gICAgdGhpcy5fY29udGludWUocmVzdWx0KTtcbn07XG5cblByb21pc2VTcGF3bi5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLl95aWVsZGVkUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLl95aWVsZGVkUHJvbWlzZTtcbiAgICAgICAgdGhpcy5feWllbGRlZFByb21pc2UgPSBudWxsO1xuICAgICAgICBwcm9taXNlLmNhbmNlbCgpO1xuICAgIH1cbn07XG5cblByb21pc2VTcGF3bi5wcm90b3R5cGUucHJvbWlzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJvbWlzZTtcbn07XG5cblByb21pc2VTcGF3bi5wcm90b3R5cGUuX3J1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9nZW5lcmF0b3IgPSB0aGlzLl9nZW5lcmF0b3JGdW5jdGlvbi5jYWxsKHRoaXMuX3JlY2VpdmVyKTtcbiAgICB0aGlzLl9yZWNlaXZlciA9XG4gICAgICAgIHRoaXMuX2dlbmVyYXRvckZ1bmN0aW9uID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3Byb21pc2VGdWxmaWxsZWQodW5kZWZpbmVkKTtcbn07XG5cblByb21pc2VTcGF3bi5wcm90b3R5cGUuX2NvbnRpbnVlID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIHZhciBwcm9taXNlID0gdGhpcy5fcHJvbWlzZTtcbiAgICBpZiAocmVzdWx0ID09PSBlcnJvck9iaikge1xuICAgICAgICB0aGlzLl9jbGVhbnVwKCk7XG4gICAgICAgIGlmICh0aGlzLl9jYW5jZWxsYXRpb25QaGFzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2UuY2FuY2VsKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2socmVzdWx0LmUsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICBpZiAocmVzdWx0LmRvbmUgPT09IHRydWUpIHtcbiAgICAgICAgdGhpcy5fY2xlYW51cCgpO1xuICAgICAgICBpZiAodGhpcy5fY2FuY2VsbGF0aW9uUGhhc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlLmNhbmNlbCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2UuX3Jlc29sdmVDYWxsYmFjayh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gdHJ5Q29udmVydFRvUHJvbWlzZSh2YWx1ZSwgdGhpcy5fcHJvbWlzZSk7XG4gICAgICAgIGlmICghKG1heWJlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpKSB7XG4gICAgICAgICAgICBtYXliZVByb21pc2UgPVxuICAgICAgICAgICAgICAgIHByb21pc2VGcm9tWWllbGRIYW5kbGVyKG1heWJlUHJvbWlzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl95aWVsZEhhbmRsZXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Byb21pc2UpO1xuICAgICAgICAgICAgaWYgKG1heWJlUHJvbWlzZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Byb21pc2VSZWplY3RlZChcbiAgICAgICAgICAgICAgICAgICAgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQSB2YWx1ZSAlcyB3YXMgeWllbGRlZCB0aGF0IGNvdWxkIG5vdCBiZSB0cmVhdGVkIGFzIGEgcHJvbWlzZVxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcXHUwMDBhXCIucmVwbGFjZShcIiVzXCIsIHZhbHVlKSArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkZyb20gY29yb3V0aW5lOlxcdTAwMGFcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFjay5zcGxpdChcIlxcblwiKS5zbGljZSgxLCAtNykuam9pbihcIlxcblwiKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbWF5YmVQcm9taXNlID0gbWF5YmVQcm9taXNlLl90YXJnZXQoKTtcbiAgICAgICAgdmFyIGJpdEZpZWxkID0gbWF5YmVQcm9taXNlLl9iaXRGaWVsZDtcbiAgICAgICAgO1xuICAgICAgICBpZiAoKChiaXRGaWVsZCAmIDUwMzk3MTg0KSA9PT0gMCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3lpZWxkZWRQcm9taXNlID0gbWF5YmVQcm9taXNlO1xuICAgICAgICAgICAgbWF5YmVQcm9taXNlLl9wcm94eSh0aGlzLCBudWxsKTtcbiAgICAgICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMzM1NTQ0MzIpICE9PSAwKSkge1xuICAgICAgICAgICAgUHJvbWlzZS5fYXN5bmMuaW52b2tlKFxuICAgICAgICAgICAgICAgIHRoaXMuX3Byb21pc2VGdWxmaWxsZWQsIHRoaXMsIG1heWJlUHJvbWlzZS5fdmFsdWUoKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMTY3NzcyMTYpICE9PSAwKSkge1xuICAgICAgICAgICAgUHJvbWlzZS5fYXN5bmMuaW52b2tlKFxuICAgICAgICAgICAgICAgIHRoaXMuX3Byb21pc2VSZWplY3RlZCwgdGhpcywgbWF5YmVQcm9taXNlLl9yZWFzb24oKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb21pc2VDYW5jZWxsZWQoKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cblByb21pc2UuY29yb3V0aW5lID0gZnVuY3Rpb24gKGdlbmVyYXRvckZ1bmN0aW9uLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBnZW5lcmF0b3JGdW5jdGlvbiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJnZW5lcmF0b3JGdW5jdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb25cXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuICAgIH1cbiAgICB2YXIgeWllbGRIYW5kbGVyID0gT2JqZWN0KG9wdGlvbnMpLnlpZWxkSGFuZGxlcjtcbiAgICB2YXIgUHJvbWlzZVNwYXduJCA9IFByb21pc2VTcGF3bjtcbiAgICB2YXIgc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2VuZXJhdG9yID0gZ2VuZXJhdG9yRnVuY3Rpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgdmFyIHNwYXduID0gbmV3IFByb21pc2VTcGF3biQodW5kZWZpbmVkLCB1bmRlZmluZWQsIHlpZWxkSGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2spO1xuICAgICAgICB2YXIgcmV0ID0gc3Bhd24ucHJvbWlzZSgpO1xuICAgICAgICBzcGF3bi5fZ2VuZXJhdG9yID0gZ2VuZXJhdG9yO1xuICAgICAgICBzcGF3bi5fcHJvbWlzZUZ1bGZpbGxlZCh1bmRlZmluZWQpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG59O1xuXG5Qcm9taXNlLmNvcm91dGluZS5hZGRZaWVsZEhhbmRsZXIgPSBmdW5jdGlvbihmbikge1xuICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZm4pKTtcbiAgICB9XG4gICAgeWllbGRIYW5kbGVycy5wdXNoKGZuKTtcbn07XG5cblByb21pc2Uuc3Bhd24gPSBmdW5jdGlvbiAoZ2VuZXJhdG9yRnVuY3Rpb24pIHtcbiAgICBkZWJ1Zy5kZXByZWNhdGVkKFwiUHJvbWlzZS5zcGF3bigpXCIsIFwiUHJvbWlzZS5jb3JvdXRpbmUoKVwiKTtcbiAgICBpZiAodHlwZW9mIGdlbmVyYXRvckZ1bmN0aW9uICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGFwaVJlamVjdGlvbihcImdlbmVyYXRvckZ1bmN0aW9uIG11c3QgYmUgYSBmdW5jdGlvblxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG4gICAgfVxuICAgIHZhciBzcGF3biA9IG5ldyBQcm9taXNlU3Bhd24oZ2VuZXJhdG9yRnVuY3Rpb24sIHRoaXMpO1xuICAgIHZhciByZXQgPSBzcGF3bi5wcm9taXNlKCk7XG4gICAgc3Bhd24uX3J1bihQcm9taXNlLnNwYXduKTtcbiAgICByZXR1cm4gcmV0O1xufTtcbn07XG5cbn0se1wiLi9lcnJvcnNcIjoxMixcIi4vdXRpbFwiOjM2fV0sMTc6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9XG5mdW5jdGlvbihQcm9taXNlLCBQcm9taXNlQXJyYXksIHRyeUNvbnZlcnRUb1Byb21pc2UsIElOVEVSTkFMLCBhc3luYyxcbiAgICAgICAgIGdldERvbWFpbikge1xudmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xudmFyIGNhbkV2YWx1YXRlID0gdXRpbC5jYW5FdmFsdWF0ZTtcbnZhciB0cnlDYXRjaCA9IHV0aWwudHJ5Q2F0Y2g7XG52YXIgZXJyb3JPYmogPSB1dGlsLmVycm9yT2JqO1xudmFyIHJlamVjdDtcblxuaWYgKCF0cnVlKSB7XG5pZiAoY2FuRXZhbHVhdGUpIHtcbiAgICB2YXIgdGhlbkNhbGxiYWNrID0gZnVuY3Rpb24oaSkge1xuICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKFwidmFsdWVcIiwgXCJob2xkZXJcIiwgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAndXNlIHN0cmljdCc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBob2xkZXIucEluZGV4ID0gdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBob2xkZXIuY2hlY2tGdWxmaWxsbWVudCh0aGlzKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBcIi5yZXBsYWNlKC9JbmRleC9nLCBpKSk7XG4gICAgfTtcblxuICAgIHZhciBwcm9taXNlU2V0dGVyID0gZnVuY3Rpb24oaSkge1xuICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKFwicHJvbWlzZVwiLCBcImhvbGRlclwiLCBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAndXNlIHN0cmljdCc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBob2xkZXIucEluZGV4ID0gcHJvbWlzZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBcIi5yZXBsYWNlKC9JbmRleC9nLCBpKSk7XG4gICAgfTtcblxuICAgIHZhciBnZW5lcmF0ZUhvbGRlckNsYXNzID0gZnVuY3Rpb24odG90YWwpIHtcbiAgICAgICAgdmFyIHByb3BzID0gbmV3IEFycmF5KHRvdGFsKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgcHJvcHNbaV0gPSBcInRoaXMucFwiICsgKGkrMSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFzc2lnbm1lbnQgPSBwcm9wcy5qb2luKFwiID0gXCIpICsgXCIgPSBudWxsO1wiO1xuICAgICAgICB2YXIgY2FuY2VsbGF0aW9uQ29kZT0gXCJ2YXIgcHJvbWlzZTtcXG5cIiArIHByb3BzLm1hcChmdW5jdGlvbihwcm9wKSB7XG4gICAgICAgICAgICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIHByb21pc2UgPSBcIiArIHByb3AgKyBcIjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgaWYgKHByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UuY2FuY2VsKCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBcIjtcbiAgICAgICAgfSkuam9pbihcIlxcblwiKTtcbiAgICAgICAgdmFyIHBhc3NlZEFyZ3VtZW50cyA9IHByb3BzLmpvaW4oXCIsIFwiKTtcbiAgICAgICAgdmFyIG5hbWUgPSBcIkhvbGRlciRcIiArIHRvdGFsO1xuXG5cbiAgICAgICAgdmFyIGNvZGUgPSBcInJldHVybiBmdW5jdGlvbih0cnlDYXRjaCwgZXJyb3JPYmosIFByb21pc2UsIGFzeW5jKSB7ICAgIFxcblxcXG4gICAgICAgICAgICAndXNlIHN0cmljdCc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBmdW5jdGlvbiBbVGhlTmFtZV0oZm4pIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgW1RoZVByb3BlcnRpZXNdICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgdGhpcy5mbiA9IGZuOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgdGhpcy5hc3luY05lZWRlZCA9IHRydWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgdGhpcy5ub3cgPSAwOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBbVGhlTmFtZV0ucHJvdG90eXBlLl9jYWxsRnVuY3Rpb24gPSBmdW5jdGlvbihwcm9taXNlKSB7ICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgcHJvbWlzZS5fcHVzaENvbnRleHQoKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgdmFyIHJldCA9IHRyeUNhdGNoKHRoaXMuZm4pKFtUaGVQYXNzZWRBcmd1bWVudHNdKTsgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgcHJvbWlzZS5fcG9wQ29udGV4dCgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgaWYgKHJldCA9PT0gZXJyb3JPYmopIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UuX3JlamVjdENhbGxiYWNrKHJldC5lLCBmYWxzZSk7ICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UuX3Jlc29sdmVDYWxsYmFjayhyZXQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICB9OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBbVGhlTmFtZV0ucHJvdG90eXBlLmNoZWNrRnVsZmlsbG1lbnQgPSBmdW5jdGlvbihwcm9taXNlKSB7ICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgdmFyIG5vdyA9ICsrdGhpcy5ub3c7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgaWYgKG5vdyA9PT0gW1RoZVRvdGFsXSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFzeW5jTmVlZGVkKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3luYy5pbnZva2UodGhpcy5fY2FsbEZ1bmN0aW9uLCB0aGlzLCBwcm9taXNlKTsgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWxsRnVuY3Rpb24ocHJvbWlzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICB9OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBbVGhlTmFtZV0ucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHsgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgW0NhbmNlbGxhdGlvbkNvZGVdICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICB9OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICByZXR1cm4gW1RoZU5hbWVdOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgIH0odHJ5Q2F0Y2gsIGVycm9yT2JqLCBQcm9taXNlLCBhc3luYyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgIFwiO1xuXG4gICAgICAgIGNvZGUgPSBjb2RlLnJlcGxhY2UoL1xcW1RoZU5hbWVcXF0vZywgbmFtZSlcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXFtUaGVUb3RhbFxcXS9nLCB0b3RhbClcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXFtUaGVQYXNzZWRBcmd1bWVudHNcXF0vZywgcGFzc2VkQXJndW1lbnRzKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcW1RoZVByb3BlcnRpZXNcXF0vZywgYXNzaWdubWVudClcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXFtDYW5jZWxsYXRpb25Db2RlXFxdL2csIGNhbmNlbGxhdGlvbkNvZGUpO1xuXG4gICAgICAgIHJldHVybiBuZXcgRnVuY3Rpb24oXCJ0cnlDYXRjaFwiLCBcImVycm9yT2JqXCIsIFwiUHJvbWlzZVwiLCBcImFzeW5jXCIsIGNvZGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAodHJ5Q2F0Y2gsIGVycm9yT2JqLCBQcm9taXNlLCBhc3luYyk7XG4gICAgfTtcblxuICAgIHZhciBob2xkZXJDbGFzc2VzID0gW107XG4gICAgdmFyIHRoZW5DYWxsYmFja3MgPSBbXTtcbiAgICB2YXIgcHJvbWlzZVNldHRlcnMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgODsgKytpKSB7XG4gICAgICAgIGhvbGRlckNsYXNzZXMucHVzaChnZW5lcmF0ZUhvbGRlckNsYXNzKGkgKyAxKSk7XG4gICAgICAgIHRoZW5DYWxsYmFja3MucHVzaCh0aGVuQ2FsbGJhY2soaSArIDEpKTtcbiAgICAgICAgcHJvbWlzZVNldHRlcnMucHVzaChwcm9taXNlU2V0dGVyKGkgKyAxKSk7XG4gICAgfVxuXG4gICAgcmVqZWN0ID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICB0aGlzLl9yZWplY3QocmVhc29uKTtcbiAgICB9O1xufX1cblxuUHJvbWlzZS5qb2luID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBsYXN0ID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgdmFyIGZuO1xuICAgIGlmIChsYXN0ID4gMCAmJiB0eXBlb2YgYXJndW1lbnRzW2xhc3RdID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgZm4gPSBhcmd1bWVudHNbbGFzdF07XG4gICAgICAgIGlmICghdHJ1ZSkge1xuICAgICAgICAgICAgaWYgKGxhc3QgPD0gOCAmJiBjYW5FdmFsdWF0ZSkge1xuICAgICAgICAgICAgICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG4gICAgICAgICAgICAgICAgcmV0Ll9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgICAgIHZhciBIb2xkZXJDbGFzcyA9IGhvbGRlckNsYXNzZXNbbGFzdCAtIDFdO1xuICAgICAgICAgICAgICAgIHZhciBob2xkZXIgPSBuZXcgSG9sZGVyQ2xhc3MoZm4pO1xuICAgICAgICAgICAgICAgIHZhciBjYWxsYmFja3MgPSB0aGVuQ2FsbGJhY2tzO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0OyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1heWJlUHJvbWlzZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UoYXJndW1lbnRzW2ldLCByZXQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlID0gbWF5YmVQcm9taXNlLl90YXJnZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiaXRGaWVsZCA9IG1heWJlUHJvbWlzZS5fYml0RmllbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKChiaXRGaWVsZCAmIDUwMzk3MTg0KSA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXliZVByb21pc2UuX3RoZW4oY2FsbGJhY2tzW2ldLCByZWplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCwgcmV0LCBob2xkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2VTZXR0ZXJzW2ldKG1heWJlUHJvbWlzZSwgaG9sZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2xkZXIuYXN5bmNOZWVkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3NbaV0uY2FsbChyZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlLl92YWx1ZSgpLCBob2xkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMTY3NzcyMTYpICE9PSAwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldC5fcmVqZWN0KG1heWJlUHJvbWlzZS5fcmVhc29uKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXQuX2NhbmNlbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzW2ldLmNhbGwocmV0LCBtYXliZVByb21pc2UsIGhvbGRlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIXJldC5faXNGYXRlU2VhbGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhvbGRlci5hc3luY05lZWRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvbWFpbiA9IGdldERvbWFpbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvbWFpbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvbGRlci5mbiA9IHV0aWwuZG9tYWluQmluZChkb21haW4sIGhvbGRlci5mbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0Ll9zZXRBc3luY0d1YXJhbnRlZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0Ll9zZXRPbkNhbmNlbChob2xkZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMpOztcbiAgICBpZiAoZm4pIGFyZ3MucG9wKCk7XG4gICAgdmFyIHJldCA9IG5ldyBQcm9taXNlQXJyYXkoYXJncykucHJvbWlzZSgpO1xuICAgIHJldHVybiBmbiAhPT0gdW5kZWZpbmVkID8gcmV0LnNwcmVhZChmbikgOiByZXQ7XG59O1xuXG59O1xuXG59LHtcIi4vdXRpbFwiOjM2fV0sMTg6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFByb21pc2VBcnJheSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpUmVqZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0cnlDb252ZXJ0VG9Qcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBJTlRFUk5BTCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcpIHtcbnZhciBnZXREb21haW4gPSBQcm9taXNlLl9nZXREb21haW47XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgdHJ5Q2F0Y2ggPSB1dGlsLnRyeUNhdGNoO1xudmFyIGVycm9yT2JqID0gdXRpbC5lcnJvck9iajtcbnZhciBhc3luYyA9IFByb21pc2UuX2FzeW5jO1xuXG5mdW5jdGlvbiBNYXBwaW5nUHJvbWlzZUFycmF5KHByb21pc2VzLCBmbiwgbGltaXQsIF9maWx0ZXIpIHtcbiAgICB0aGlzLmNvbnN0cnVjdG9yJChwcm9taXNlcyk7XG4gICAgdGhpcy5fcHJvbWlzZS5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcbiAgICB2YXIgZG9tYWluID0gZ2V0RG9tYWluKCk7XG4gICAgdGhpcy5fY2FsbGJhY2sgPSBkb21haW4gPT09IG51bGwgPyBmbiA6IHV0aWwuZG9tYWluQmluZChkb21haW4sIGZuKTtcbiAgICB0aGlzLl9wcmVzZXJ2ZWRWYWx1ZXMgPSBfZmlsdGVyID09PSBJTlRFUk5BTFxuICAgICAgICA/IG5ldyBBcnJheSh0aGlzLmxlbmd0aCgpKVxuICAgICAgICA6IG51bGw7XG4gICAgdGhpcy5fbGltaXQgPSBsaW1pdDtcbiAgICB0aGlzLl9pbkZsaWdodCA9IDA7XG4gICAgdGhpcy5fcXVldWUgPSBbXTtcbiAgICBhc3luYy5pbnZva2UodGhpcy5fYXN5bmNJbml0LCB0aGlzLCB1bmRlZmluZWQpO1xufVxudXRpbC5pbmhlcml0cyhNYXBwaW5nUHJvbWlzZUFycmF5LCBQcm9taXNlQXJyYXkpO1xuXG5NYXBwaW5nUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fYXN5bmNJbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5faW5pdCQodW5kZWZpbmVkLCAtMik7XG59O1xuXG5NYXBwaW5nUHJvbWlzZUFycmF5LnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uICgpIHt9O1xuXG5NYXBwaW5nUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZUZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcbiAgICB2YXIgdmFsdWVzID0gdGhpcy5fdmFsdWVzO1xuICAgIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aCgpO1xuICAgIHZhciBwcmVzZXJ2ZWRWYWx1ZXMgPSB0aGlzLl9wcmVzZXJ2ZWRWYWx1ZXM7XG4gICAgdmFyIGxpbWl0ID0gdGhpcy5fbGltaXQ7XG5cbiAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIGluZGV4ID0gKGluZGV4ICogLTEpIC0gMTtcbiAgICAgICAgdmFsdWVzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICBpZiAobGltaXQgPj0gMSkge1xuICAgICAgICAgICAgdGhpcy5faW5GbGlnaHQtLTtcbiAgICAgICAgICAgIHRoaXMuX2RyYWluUXVldWUoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc1Jlc29sdmVkKCkpIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGxpbWl0ID49IDEgJiYgdGhpcy5faW5GbGlnaHQgPj0gbGltaXQpIHtcbiAgICAgICAgICAgIHZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3F1ZXVlLnB1c2goaW5kZXgpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmVzZXJ2ZWRWYWx1ZXMgIT09IG51bGwpIHByZXNlcnZlZFZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcblxuICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuX3Byb21pc2U7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IHRoaXMuX2NhbGxiYWNrO1xuICAgICAgICB2YXIgcmVjZWl2ZXIgPSBwcm9taXNlLl9ib3VuZFZhbHVlKCk7XG4gICAgICAgIHByb21pc2UuX3B1c2hDb250ZXh0KCk7XG4gICAgICAgIHZhciByZXQgPSB0cnlDYXRjaChjYWxsYmFjaykuY2FsbChyZWNlaXZlciwgdmFsdWUsIGluZGV4LCBsZW5ndGgpO1xuICAgICAgICB2YXIgcHJvbWlzZUNyZWF0ZWQgPSBwcm9taXNlLl9wb3BDb250ZXh0KCk7XG4gICAgICAgIGRlYnVnLmNoZWNrRm9yZ290dGVuUmV0dXJucyhcbiAgICAgICAgICAgIHJldCxcbiAgICAgICAgICAgIHByb21pc2VDcmVhdGVkLFxuICAgICAgICAgICAgcHJlc2VydmVkVmFsdWVzICE9PSBudWxsID8gXCJQcm9taXNlLmZpbHRlclwiIDogXCJQcm9taXNlLm1hcFwiLFxuICAgICAgICAgICAgcHJvbWlzZVxuICAgICAgICApO1xuICAgICAgICBpZiAocmV0ID09PSBlcnJvck9iaikge1xuICAgICAgICAgICAgdGhpcy5fcmVqZWN0KHJldC5lKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1heWJlUHJvbWlzZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UocmV0LCB0aGlzLl9wcm9taXNlKTtcbiAgICAgICAgaWYgKG1heWJlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIG1heWJlUHJvbWlzZSA9IG1heWJlUHJvbWlzZS5fdGFyZ2V0KCk7XG4gICAgICAgICAgICB2YXIgYml0RmllbGQgPSBtYXliZVByb21pc2UuX2JpdEZpZWxkO1xuICAgICAgICAgICAgO1xuICAgICAgICAgICAgaWYgKCgoYml0RmllbGQgJiA1MDM5NzE4NCkgPT09IDApKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpbWl0ID49IDEpIHRoaXMuX2luRmxpZ2h0Kys7XG4gICAgICAgICAgICAgICAgdmFsdWVzW2luZGV4XSA9IG1heWJlUHJvbWlzZTtcbiAgICAgICAgICAgICAgICBtYXliZVByb21pc2UuX3Byb3h5KHRoaXMsIChpbmRleCArIDEpICogLTEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcbiAgICAgICAgICAgICAgICByZXQgPSBtYXliZVByb21pc2UuX3ZhbHVlKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCgoYml0RmllbGQgJiAxNjc3NzIxNikgIT09IDApKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVqZWN0KG1heWJlUHJvbWlzZS5fcmVhc29uKCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYW5jZWwoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YWx1ZXNbaW5kZXhdID0gcmV0O1xuICAgIH1cbiAgICB2YXIgdG90YWxSZXNvbHZlZCA9ICsrdGhpcy5fdG90YWxSZXNvbHZlZDtcbiAgICBpZiAodG90YWxSZXNvbHZlZCA+PSBsZW5ndGgpIHtcbiAgICAgICAgaWYgKHByZXNlcnZlZFZhbHVlcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fZmlsdGVyKHZhbHVlcywgcHJlc2VydmVkVmFsdWVzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUodmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuTWFwcGluZ1Byb21pc2VBcnJheS5wcm90b3R5cGUuX2RyYWluUXVldWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHF1ZXVlID0gdGhpcy5fcXVldWU7XG4gICAgdmFyIGxpbWl0ID0gdGhpcy5fbGltaXQ7XG4gICAgdmFyIHZhbHVlcyA9IHRoaXMuX3ZhbHVlcztcbiAgICB3aGlsZSAocXVldWUubGVuZ3RoID4gMCAmJiB0aGlzLl9pbkZsaWdodCA8IGxpbWl0KSB7XG4gICAgICAgIGlmICh0aGlzLl9pc1Jlc29sdmVkKCkpIHJldHVybjtcbiAgICAgICAgdmFyIGluZGV4ID0gcXVldWUucG9wKCk7XG4gICAgICAgIHRoaXMuX3Byb21pc2VGdWxmaWxsZWQodmFsdWVzW2luZGV4XSwgaW5kZXgpO1xuICAgIH1cbn07XG5cbk1hcHBpbmdQcm9taXNlQXJyYXkucHJvdG90eXBlLl9maWx0ZXIgPSBmdW5jdGlvbiAoYm9vbGVhbnMsIHZhbHVlcykge1xuICAgIHZhciBsZW4gPSB2YWx1ZXMubGVuZ3RoO1xuICAgIHZhciByZXQgPSBuZXcgQXJyYXkobGVuKTtcbiAgICB2YXIgaiA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICBpZiAoYm9vbGVhbnNbaV0pIHJldFtqKytdID0gdmFsdWVzW2ldO1xuICAgIH1cbiAgICByZXQubGVuZ3RoID0gajtcbiAgICB0aGlzLl9yZXNvbHZlKHJldCk7XG59O1xuXG5NYXBwaW5nUHJvbWlzZUFycmF5LnByb3RvdHlwZS5wcmVzZXJ2ZWRWYWx1ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ByZXNlcnZlZFZhbHVlcztcbn07XG5cbmZ1bmN0aW9uIG1hcChwcm9taXNlcywgZm4sIG9wdGlvbnMsIF9maWx0ZXIpIHtcbiAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGFwaVJlamVjdGlvbihcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKGZuKSk7XG4gICAgfVxuXG4gICAgdmFyIGxpbWl0ID0gMDtcbiAgICBpZiAob3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuY29uY3VycmVuY3kgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgICAgICAgICAgICAgIG5ldyBUeXBlRXJyb3IoXCInY29uY3VycmVuY3knIG11c3QgYmUgYSBudW1iZXIgYnV0IGl0IGlzIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWwuY2xhc3NTdHJpbmcob3B0aW9ucy5jb25jdXJyZW5jeSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpbWl0ID0gb3B0aW9ucy5jb25jdXJyZW5jeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwib3B0aW9ucyBhcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdCBidXQgaXQgaXMgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlsLmNsYXNzU3RyaW5nKG9wdGlvbnMpKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGltaXQgPSB0eXBlb2YgbGltaXQgPT09IFwibnVtYmVyXCIgJiZcbiAgICAgICAgaXNGaW5pdGUobGltaXQpICYmIGxpbWl0ID49IDEgPyBsaW1pdCA6IDA7XG4gICAgcmV0dXJuIG5ldyBNYXBwaW5nUHJvbWlzZUFycmF5KHByb21pc2VzLCBmbiwgbGltaXQsIF9maWx0ZXIpLnByb21pc2UoKTtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGZuLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG1hcCh0aGlzLCBmbiwgb3B0aW9ucywgbnVsbCk7XG59O1xuXG5Qcm9taXNlLm1hcCA9IGZ1bmN0aW9uIChwcm9taXNlcywgZm4sIG9wdGlvbnMsIF9maWx0ZXIpIHtcbiAgICByZXR1cm4gbWFwKHByb21pc2VzLCBmbiwgb3B0aW9ucywgX2ZpbHRlcik7XG59O1xuXG5cbn07XG5cbn0se1wiLi91dGlsXCI6MzZ9XSwxOTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID1cbmZ1bmN0aW9uKFByb21pc2UsIElOVEVSTkFMLCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBhcGlSZWplY3Rpb24sIGRlYnVnKSB7XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgdHJ5Q2F0Y2ggPSB1dGlsLnRyeUNhdGNoO1xuXG5Qcm9taXNlLm1ldGhvZCA9IGZ1bmN0aW9uIChmbikge1xuICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aHJvdyBuZXcgUHJvbWlzZS5UeXBlRXJyb3IoXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyhmbikpO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgICAgICByZXQuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG4gICAgICAgIHJldC5fcHVzaENvbnRleHQoKTtcbiAgICAgICAgdmFyIHZhbHVlID0gdHJ5Q2F0Y2goZm4pLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIHZhciBwcm9taXNlQ3JlYXRlZCA9IHJldC5fcG9wQ29udGV4dCgpO1xuICAgICAgICBkZWJ1Zy5jaGVja0ZvcmdvdHRlblJldHVybnMoXG4gICAgICAgICAgICB2YWx1ZSwgcHJvbWlzZUNyZWF0ZWQsIFwiUHJvbWlzZS5tZXRob2RcIiwgcmV0KTtcbiAgICAgICAgcmV0Ll9yZXNvbHZlRnJvbVN5bmNWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcbn07XG5cblByb21pc2UuYXR0ZW1wdCA9IFByb21pc2VbXCJ0cnlcIl0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGFwaVJlamVjdGlvbihcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKGZuKSk7XG4gICAgfVxuICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG4gICAgcmV0Ll9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuICAgIHJldC5fcHVzaENvbnRleHQoKTtcbiAgICB2YXIgdmFsdWU7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGRlYnVnLmRlcHJlY2F0ZWQoXCJjYWxsaW5nIFByb21pc2UudHJ5IHdpdGggbW9yZSB0aGFuIDEgYXJndW1lbnRcIik7XG4gICAgICAgIHZhciBhcmcgPSBhcmd1bWVudHNbMV07XG4gICAgICAgIHZhciBjdHggPSBhcmd1bWVudHNbMl07XG4gICAgICAgIHZhbHVlID0gdXRpbC5pc0FycmF5KGFyZykgPyB0cnlDYXRjaChmbikuYXBwbHkoY3R4LCBhcmcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0cnlDYXRjaChmbikuY2FsbChjdHgsIGFyZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSB0cnlDYXRjaChmbikoKTtcbiAgICB9XG4gICAgdmFyIHByb21pc2VDcmVhdGVkID0gcmV0Ll9wb3BDb250ZXh0KCk7XG4gICAgZGVidWcuY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zKFxuICAgICAgICB2YWx1ZSwgcHJvbWlzZUNyZWF0ZWQsIFwiUHJvbWlzZS50cnlcIiwgcmV0KTtcbiAgICByZXQuX3Jlc29sdmVGcm9tU3luY1ZhbHVlKHZhbHVlKTtcbiAgICByZXR1cm4gcmV0O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3Jlc29sdmVGcm9tU3luY1ZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSB1dGlsLmVycm9yT2JqKSB7XG4gICAgICAgIHRoaXMuX3JlamVjdENhbGxiYWNrKHZhbHVlLmUsIGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9yZXNvbHZlQ2FsbGJhY2sodmFsdWUsIHRydWUpO1xuICAgIH1cbn07XG59O1xuXG59LHtcIi4vdXRpbFwiOjM2fV0sMjA6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgbWF5YmVXcmFwQXNFcnJvciA9IHV0aWwubWF5YmVXcmFwQXNFcnJvcjtcbnZhciBlcnJvcnMgPSBfZGVyZXFfKFwiLi9lcnJvcnNcIik7XG52YXIgT3BlcmF0aW9uYWxFcnJvciA9IGVycm9ycy5PcGVyYXRpb25hbEVycm9yO1xudmFyIGVzNSA9IF9kZXJlcV8oXCIuL2VzNVwiKTtcblxuZnVuY3Rpb24gaXNVbnR5cGVkRXJyb3Iob2JqKSB7XG4gICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIEVycm9yICYmXG4gICAgICAgIGVzNS5nZXRQcm90b3R5cGVPZihvYmopID09PSBFcnJvci5wcm90b3R5cGU7XG59XG5cbnZhciByRXJyb3JLZXkgPSAvXig/Om5hbWV8bWVzc2FnZXxzdGFja3xjYXVzZSkkLztcbmZ1bmN0aW9uIHdyYXBBc09wZXJhdGlvbmFsRXJyb3Iob2JqKSB7XG4gICAgdmFyIHJldDtcbiAgICBpZiAoaXNVbnR5cGVkRXJyb3Iob2JqKSkge1xuICAgICAgICByZXQgPSBuZXcgT3BlcmF0aW9uYWxFcnJvcihvYmopO1xuICAgICAgICByZXQubmFtZSA9IG9iai5uYW1lO1xuICAgICAgICByZXQubWVzc2FnZSA9IG9iai5tZXNzYWdlO1xuICAgICAgICByZXQuc3RhY2sgPSBvYmouc3RhY2s7XG4gICAgICAgIHZhciBrZXlzID0gZXM1LmtleXMob2JqKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgIGlmICghckVycm9yS2V5LnRlc3Qoa2V5KSkge1xuICAgICAgICAgICAgICAgIHJldFtrZXldID0gb2JqW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgdXRpbC5tYXJrQXNPcmlnaW5hdGluZ0Zyb21SZWplY3Rpb24ob2JqKTtcbiAgICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBub2RlYmFja0ZvclByb21pc2UocHJvbWlzZSwgbXVsdGlBcmdzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGVyciwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHByb21pc2UgPT09IG51bGwpIHJldHVybjtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgdmFyIHdyYXBwZWQgPSB3cmFwQXNPcGVyYXRpb25hbEVycm9yKG1heWJlV3JhcEFzRXJyb3IoZXJyKSk7XG4gICAgICAgICAgICBwcm9taXNlLl9hdHRhY2hFeHRyYVRyYWNlKHdyYXBwZWQpO1xuICAgICAgICAgICAgcHJvbWlzZS5fcmVqZWN0KHdyYXBwZWQpO1xuICAgICAgICB9IGVsc2UgaWYgKCFtdWx0aUFyZ3MpIHtcbiAgICAgICAgICAgIHByb21pc2UuX2Z1bGZpbGwodmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7O1xuICAgICAgICAgICAgcHJvbWlzZS5fZnVsZmlsbChhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBwcm9taXNlID0gbnVsbDtcbiAgICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG5vZGViYWNrRm9yUHJvbWlzZTtcblxufSx7XCIuL2Vycm9yc1wiOjEyLFwiLi9lczVcIjoxMyxcIi4vdXRpbFwiOjM2fV0sMjE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UpIHtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBhc3luYyA9IFByb21pc2UuX2FzeW5jO1xudmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcbnZhciBlcnJvck9iaiA9IHV0aWwuZXJyb3JPYmo7XG5cbmZ1bmN0aW9uIHNwcmVhZEFkYXB0ZXIodmFsLCBub2RlYmFjaykge1xuICAgIHZhciBwcm9taXNlID0gdGhpcztcbiAgICBpZiAoIXV0aWwuaXNBcnJheSh2YWwpKSByZXR1cm4gc3VjY2Vzc0FkYXB0ZXIuY2FsbChwcm9taXNlLCB2YWwsIG5vZGViYWNrKTtcbiAgICB2YXIgcmV0ID1cbiAgICAgICAgdHJ5Q2F0Y2gobm9kZWJhY2spLmFwcGx5KHByb21pc2UuX2JvdW5kVmFsdWUoKSwgW251bGxdLmNvbmNhdCh2YWwpKTtcbiAgICBpZiAocmV0ID09PSBlcnJvck9iaikge1xuICAgICAgICBhc3luYy50aHJvd0xhdGVyKHJldC5lKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHN1Y2Nlc3NBZGFwdGVyKHZhbCwgbm9kZWJhY2spIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gICAgdmFyIHJlY2VpdmVyID0gcHJvbWlzZS5fYm91bmRWYWx1ZSgpO1xuICAgIHZhciByZXQgPSB2YWwgPT09IHVuZGVmaW5lZFxuICAgICAgICA/IHRyeUNhdGNoKG5vZGViYWNrKS5jYWxsKHJlY2VpdmVyLCBudWxsKVxuICAgICAgICA6IHRyeUNhdGNoKG5vZGViYWNrKS5jYWxsKHJlY2VpdmVyLCBudWxsLCB2YWwpO1xuICAgIGlmIChyZXQgPT09IGVycm9yT2JqKSB7XG4gICAgICAgIGFzeW5jLnRocm93TGF0ZXIocmV0LmUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVycm9yQWRhcHRlcihyZWFzb24sIG5vZGViYWNrKSB7XG4gICAgdmFyIHByb21pc2UgPSB0aGlzO1xuICAgIGlmICghcmVhc29uKSB7XG4gICAgICAgIHZhciBuZXdSZWFzb24gPSBuZXcgRXJyb3IocmVhc29uICsgXCJcIik7XG4gICAgICAgIG5ld1JlYXNvbi5jYXVzZSA9IHJlYXNvbjtcbiAgICAgICAgcmVhc29uID0gbmV3UmVhc29uO1xuICAgIH1cbiAgICB2YXIgcmV0ID0gdHJ5Q2F0Y2gobm9kZWJhY2spLmNhbGwocHJvbWlzZS5fYm91bmRWYWx1ZSgpLCByZWFzb24pO1xuICAgIGlmIChyZXQgPT09IGVycm9yT2JqKSB7XG4gICAgICAgIGFzeW5jLnRocm93TGF0ZXIocmV0LmUpO1xuICAgIH1cbn1cblxuUHJvbWlzZS5wcm90b3R5cGUuYXNDYWxsYmFjayA9IFByb21pc2UucHJvdG90eXBlLm5vZGVpZnkgPSBmdW5jdGlvbiAobm9kZWJhY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBub2RlYmFjayA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdmFyIGFkYXB0ZXIgPSBzdWNjZXNzQWRhcHRlcjtcbiAgICAgICAgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCAmJiBPYmplY3Qob3B0aW9ucykuc3ByZWFkKSB7XG4gICAgICAgICAgICBhZGFwdGVyID0gc3ByZWFkQWRhcHRlcjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90aGVuKFxuICAgICAgICAgICAgYWRhcHRlcixcbiAgICAgICAgICAgIGVycm9yQWRhcHRlcixcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICBub2RlYmFja1xuICAgICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn07XG59O1xuXG59LHtcIi4vdXRpbFwiOjM2fV0sMjI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xudmFyIG1ha2VTZWxmUmVzb2x1dGlvbkVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgVHlwZUVycm9yKFwiY2lyY3VsYXIgcHJvbWlzZSByZXNvbHV0aW9uIGNoYWluXFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcbn07XG52YXIgcmVmbGVjdEhhbmRsZXIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UuUHJvbWlzZUluc3BlY3Rpb24odGhpcy5fdGFyZ2V0KCkpO1xufTtcbnZhciBhcGlSZWplY3Rpb24gPSBmdW5jdGlvbihtc2cpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcihtc2cpKTtcbn07XG5mdW5jdGlvbiBQcm94eWFibGUoKSB7fVxudmFyIFVOREVGSU5FRF9CSU5ESU5HID0ge307XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cbnZhciBnZXREb21haW47XG5pZiAodXRpbC5pc05vZGUpIHtcbiAgICBnZXREb21haW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJldCA9IHByb2Nlc3MuZG9tYWluO1xuICAgICAgICBpZiAocmV0ID09PSB1bmRlZmluZWQpIHJldCA9IG51bGw7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcbn0gZWxzZSB7XG4gICAgZ2V0RG9tYWluID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG59XG51dGlsLm5vdEVudW1lcmFibGVQcm9wKFByb21pc2UsIFwiX2dldERvbWFpblwiLCBnZXREb21haW4pO1xuXG52YXIgZXM1ID0gX2RlcmVxXyhcIi4vZXM1XCIpO1xudmFyIEFzeW5jID0gX2RlcmVxXyhcIi4vYXN5bmNcIik7XG52YXIgYXN5bmMgPSBuZXcgQXN5bmMoKTtcbmVzNS5kZWZpbmVQcm9wZXJ0eShQcm9taXNlLCBcIl9hc3luY1wiLCB7dmFsdWU6IGFzeW5jfSk7XG52YXIgZXJyb3JzID0gX2RlcmVxXyhcIi4vZXJyb3JzXCIpO1xudmFyIFR5cGVFcnJvciA9IFByb21pc2UuVHlwZUVycm9yID0gZXJyb3JzLlR5cGVFcnJvcjtcblByb21pc2UuUmFuZ2VFcnJvciA9IGVycm9ycy5SYW5nZUVycm9yO1xudmFyIENhbmNlbGxhdGlvbkVycm9yID0gUHJvbWlzZS5DYW5jZWxsYXRpb25FcnJvciA9IGVycm9ycy5DYW5jZWxsYXRpb25FcnJvcjtcblByb21pc2UuVGltZW91dEVycm9yID0gZXJyb3JzLlRpbWVvdXRFcnJvcjtcblByb21pc2UuT3BlcmF0aW9uYWxFcnJvciA9IGVycm9ycy5PcGVyYXRpb25hbEVycm9yO1xuUHJvbWlzZS5SZWplY3Rpb25FcnJvciA9IGVycm9ycy5PcGVyYXRpb25hbEVycm9yO1xuUHJvbWlzZS5BZ2dyZWdhdGVFcnJvciA9IGVycm9ycy5BZ2dyZWdhdGVFcnJvcjtcbnZhciBJTlRFUk5BTCA9IGZ1bmN0aW9uKCl7fTtcbnZhciBBUFBMWSA9IHt9O1xudmFyIE5FWFRfRklMVEVSID0ge307XG52YXIgdHJ5Q29udmVydFRvUHJvbWlzZSA9IF9kZXJlcV8oXCIuL3RoZW5hYmxlc1wiKShQcm9taXNlLCBJTlRFUk5BTCk7XG52YXIgUHJvbWlzZUFycmF5ID1cbiAgICBfZGVyZXFfKFwiLi9wcm9taXNlX2FycmF5XCIpKFByb21pc2UsIElOVEVSTkFMLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeUNvbnZlcnRUb1Byb21pc2UsIGFwaVJlamVjdGlvbiwgUHJveHlhYmxlKTtcbnZhciBDb250ZXh0ID0gX2RlcmVxXyhcIi4vY29udGV4dFwiKShQcm9taXNlKTtcbiAvKmpzaGludCB1bnVzZWQ6ZmFsc2UqL1xudmFyIGNyZWF0ZUNvbnRleHQgPSBDb250ZXh0LmNyZWF0ZTtcbnZhciBkZWJ1ZyA9IF9kZXJlcV8oXCIuL2RlYnVnZ2FiaWxpdHlcIikoUHJvbWlzZSwgQ29udGV4dCk7XG52YXIgQ2FwdHVyZWRUcmFjZSA9IGRlYnVnLkNhcHR1cmVkVHJhY2U7XG52YXIgUGFzc1Rocm91Z2hIYW5kbGVyQ29udGV4dCA9XG4gICAgX2RlcmVxXyhcIi4vZmluYWxseVwiKShQcm9taXNlLCB0cnlDb252ZXJ0VG9Qcm9taXNlKTtcbnZhciBjYXRjaEZpbHRlciA9IF9kZXJlcV8oXCIuL2NhdGNoX2ZpbHRlclwiKShORVhUX0ZJTFRFUik7XG52YXIgbm9kZWJhY2tGb3JQcm9taXNlID0gX2RlcmVxXyhcIi4vbm9kZWJhY2tcIik7XG52YXIgZXJyb3JPYmogPSB1dGlsLmVycm9yT2JqO1xudmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcbmZ1bmN0aW9uIGNoZWNrKHNlbGYsIGV4ZWN1dG9yKSB7XG4gICAgaWYgKHR5cGVvZiBleGVjdXRvciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyhleGVjdXRvcikpO1xuICAgIH1cbiAgICBpZiAoc2VsZi5jb25zdHJ1Y3RvciAhPT0gUHJvbWlzZSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwidGhlIHByb21pc2UgY29uc3RydWN0b3IgY2Fubm90IGJlIGludm9rZWQgZGlyZWN0bHlcXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcikge1xuICAgIHRoaXMuX2JpdEZpZWxkID0gMDtcbiAgICB0aGlzLl9mdWxmaWxsbWVudEhhbmRsZXIwID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3Byb21pc2UwID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3JlY2VpdmVyMCA9IHVuZGVmaW5lZDtcbiAgICBpZiAoZXhlY3V0b3IgIT09IElOVEVSTkFMKSB7XG4gICAgICAgIGNoZWNrKHRoaXMsIGV4ZWN1dG9yKTtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZUZyb21FeGVjdXRvcihleGVjdXRvcik7XG4gICAgfVxuICAgIHRoaXMuX3Byb21pc2VDcmVhdGVkKCk7XG4gICAgdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZUNyZWF0ZWRcIiwgdGhpcyk7XG59XG5cblByb21pc2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgUHJvbWlzZV1cIjtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmNhdWdodCA9IFByb21pc2UucHJvdG90eXBlW1wiY2F0Y2hcIl0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBpZiAobGVuID4gMSkge1xuICAgICAgICB2YXIgY2F0Y2hJbnN0YW5jZXMgPSBuZXcgQXJyYXkobGVuIC0gMSksXG4gICAgICAgICAgICBqID0gMCwgaTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbiAtIDE7ICsraSkge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBpZiAodXRpbC5pc09iamVjdChpdGVtKSkge1xuICAgICAgICAgICAgICAgIGNhdGNoSW5zdGFuY2VzW2orK10gPSBpdGVtO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBpUmVqZWN0aW9uKFwiZXhwZWN0aW5nIGFuIG9iamVjdCBidXQgZ290IFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJBIGNhdGNoIHN0YXRlbWVudCBwcmVkaWNhdGUgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKGl0ZW0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaEluc3RhbmNlcy5sZW5ndGggPSBqO1xuICAgICAgICBmbiA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgcmV0dXJuIHRoaXMudGhlbih1bmRlZmluZWQsIGNhdGNoRmlsdGVyKGNhdGNoSW5zdGFuY2VzLCBmbiwgdGhpcykpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy50aGVuKHVuZGVmaW5lZCwgZm4pO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUucmVmbGVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGhlbihyZWZsZWN0SGFuZGxlcixcbiAgICAgICAgcmVmbGVjdEhhbmRsZXIsIHVuZGVmaW5lZCwgdGhpcywgdW5kZWZpbmVkKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbiAoZGlkRnVsZmlsbCwgZGlkUmVqZWN0KSB7XG4gICAgaWYgKGRlYnVnLndhcm5pbmdzKCkgJiYgYXJndW1lbnRzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgdHlwZW9mIGRpZEZ1bGZpbGwgIT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICB0eXBlb2YgZGlkUmVqZWN0ICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdmFyIG1zZyA9IFwiLnRoZW4oKSBvbmx5IGFjY2VwdHMgZnVuY3Rpb25zIGJ1dCB3YXMgcGFzc2VkOiBcIiArXG4gICAgICAgICAgICAgICAgdXRpbC5jbGFzc1N0cmluZyhkaWRGdWxmaWxsKTtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBtc2cgKz0gXCIsIFwiICsgdXRpbC5jbGFzc1N0cmluZyhkaWRSZWplY3QpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3dhcm4obXNnKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3RoZW4oZGlkRnVsZmlsbCwgZGlkUmVqZWN0LCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmRvbmUgPSBmdW5jdGlvbiAoZGlkRnVsZmlsbCwgZGlkUmVqZWN0KSB7XG4gICAgdmFyIHByb21pc2UgPVxuICAgICAgICB0aGlzLl90aGVuKGRpZEZ1bGZpbGwsIGRpZFJlamVjdCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgcHJvbWlzZS5fc2V0SXNGaW5hbCgpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuc3ByZWFkID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgaWYgKHR5cGVvZiBmbiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBhcGlSZWplY3Rpb24oXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyhmbikpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hbGwoKS5fdGhlbihmbiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIEFQUExZLCB1bmRlZmluZWQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciByZXQgPSB7XG4gICAgICAgIGlzRnVsZmlsbGVkOiBmYWxzZSxcbiAgICAgICAgaXNSZWplY3RlZDogZmFsc2UsXG4gICAgICAgIGZ1bGZpbGxtZW50VmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgICAgcmVqZWN0aW9uUmVhc29uOiB1bmRlZmluZWRcbiAgICB9O1xuICAgIGlmICh0aGlzLmlzRnVsZmlsbGVkKCkpIHtcbiAgICAgICAgcmV0LmZ1bGZpbGxtZW50VmFsdWUgPSB0aGlzLnZhbHVlKCk7XG4gICAgICAgIHJldC5pc0Z1bGZpbGxlZCA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh0aGlzLmlzUmVqZWN0ZWQoKSkge1xuICAgICAgICByZXQucmVqZWN0aW9uUmVhc29uID0gdGhpcy5yZWFzb24oKTtcbiAgICAgICAgcmV0LmlzUmVqZWN0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuYWxsID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLl93YXJuKFwiLmFsbCgpIHdhcyBwYXNzZWQgYXJndW1lbnRzIGJ1dCBpdCBkb2VzIG5vdCB0YWtlIGFueVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlQXJyYXkodGhpcykucHJvbWlzZSgpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICByZXR1cm4gdGhpcy5jYXVnaHQodXRpbC5vcmlnaW5hdGVzRnJvbVJlamVjdGlvbiwgZm4pO1xufTtcblxuUHJvbWlzZS5nZXROZXdMaWJyYXJ5Q29weSA9IG1vZHVsZS5leHBvcnRzO1xuXG5Qcm9taXNlLmlzID0gZnVuY3Rpb24gKHZhbCkge1xuICAgIHJldHVybiB2YWwgaW5zdGFuY2VvZiBQcm9taXNlO1xufTtcblxuUHJvbWlzZS5mcm9tTm9kZSA9IFByb21pc2UuZnJvbUNhbGxiYWNrID0gZnVuY3Rpb24oZm4pIHtcbiAgICB2YXIgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgIHJldC5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcbiAgICB2YXIgbXVsdGlBcmdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyAhIU9iamVjdChhcmd1bWVudHNbMV0pLm11bHRpQXJnc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlO1xuICAgIHZhciByZXN1bHQgPSB0cnlDYXRjaChmbikobm9kZWJhY2tGb3JQcm9taXNlKHJldCwgbXVsdGlBcmdzKSk7XG4gICAgaWYgKHJlc3VsdCA9PT0gZXJyb3JPYmopIHtcbiAgICAgICAgcmV0Ll9yZWplY3RDYWxsYmFjayhyZXN1bHQuZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGlmICghcmV0Ll9pc0ZhdGVTZWFsZWQoKSkgcmV0Ll9zZXRBc3luY0d1YXJhbnRlZWQoKTtcbiAgICByZXR1cm4gcmV0O1xufTtcblxuUHJvbWlzZS5hbGwgPSBmdW5jdGlvbiAocHJvbWlzZXMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2VBcnJheShwcm9taXNlcykucHJvbWlzZSgpO1xufTtcblxuUHJvbWlzZS5jYXN0ID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHZhciByZXQgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKG9iaik7XG4gICAgaWYgKCEocmV0IGluc3RhbmNlb2YgUHJvbWlzZSkpIHtcbiAgICAgICAgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgICAgICByZXQuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG4gICAgICAgIHJldC5fc2V0RnVsZmlsbGVkKCk7XG4gICAgICAgIHJldC5fcmVqZWN0aW9uSGFuZGxlcjAgPSBvYmo7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59O1xuXG5Qcm9taXNlLnJlc29sdmUgPSBQcm9taXNlLmZ1bGZpbGxlZCA9IFByb21pc2UuY2FzdDtcblxuUHJvbWlzZS5yZWplY3QgPSBQcm9taXNlLnJlamVjdGVkID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG4gICAgcmV0Ll9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuICAgIHJldC5fcmVqZWN0Q2FsbGJhY2socmVhc29uLCB0cnVlKTtcbiAgICByZXR1cm4gcmV0O1xufTtcblxuUHJvbWlzZS5zZXRTY2hlZHVsZXIgPSBmdW5jdGlvbihmbikge1xuICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZm4pKTtcbiAgICB9XG4gICAgcmV0dXJuIGFzeW5jLnNldFNjaGVkdWxlcihmbik7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fdGhlbiA9IGZ1bmN0aW9uIChcbiAgICBkaWRGdWxmaWxsLFxuICAgIGRpZFJlamVjdCxcbiAgICBfLCAgICByZWNlaXZlcixcbiAgICBpbnRlcm5hbERhdGFcbikge1xuICAgIHZhciBoYXZlSW50ZXJuYWxEYXRhID0gaW50ZXJuYWxEYXRhICE9PSB1bmRlZmluZWQ7XG4gICAgdmFyIHByb21pc2UgPSBoYXZlSW50ZXJuYWxEYXRhID8gaW50ZXJuYWxEYXRhIDogbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgIHZhciB0YXJnZXQgPSB0aGlzLl90YXJnZXQoKTtcbiAgICB2YXIgYml0RmllbGQgPSB0YXJnZXQuX2JpdEZpZWxkO1xuXG4gICAgaWYgKCFoYXZlSW50ZXJuYWxEYXRhKSB7XG4gICAgICAgIHByb21pc2UuX3Byb3BhZ2F0ZUZyb20odGhpcywgMyk7XG4gICAgICAgIHByb21pc2UuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG4gICAgICAgIGlmIChyZWNlaXZlciA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAoKHRoaXMuX2JpdEZpZWxkICYgMjA5NzE1MikgIT09IDApKSB7XG4gICAgICAgICAgICBpZiAoISgoYml0RmllbGQgJiA1MDM5NzE4NCkgPT09IDApKSB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZXIgPSB0aGlzLl9ib3VuZFZhbHVlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVyID0gdGFyZ2V0ID09PSB0aGlzID8gdW5kZWZpbmVkIDogdGhpcy5fYm91bmRUbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9maXJlRXZlbnQoXCJwcm9taXNlQ2hhaW5lZFwiLCB0aGlzLCBwcm9taXNlKTtcbiAgICB9XG5cbiAgICB2YXIgZG9tYWluID0gZ2V0RG9tYWluKCk7XG4gICAgaWYgKCEoKGJpdEZpZWxkICYgNTAzOTcxODQpID09PSAwKSkge1xuICAgICAgICB2YXIgaGFuZGxlciwgdmFsdWUsIHNldHRsZXIgPSB0YXJnZXQuX3NldHRsZVByb21pc2VDdHg7XG4gICAgICAgIGlmICgoKGJpdEZpZWxkICYgMzM1NTQ0MzIpICE9PSAwKSkge1xuICAgICAgICAgICAgdmFsdWUgPSB0YXJnZXQuX3JlamVjdGlvbkhhbmRsZXIwO1xuICAgICAgICAgICAgaGFuZGxlciA9IGRpZEZ1bGZpbGw7XG4gICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDE2Nzc3MjE2KSAhPT0gMCkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdGFyZ2V0Ll9mdWxmaWxsbWVudEhhbmRsZXIwO1xuICAgICAgICAgICAgaGFuZGxlciA9IGRpZFJlamVjdDtcbiAgICAgICAgICAgIHRhcmdldC5fdW5zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0dGxlciA9IHRhcmdldC5fc2V0dGxlUHJvbWlzZUxhdGVDYW5jZWxsYXRpb25PYnNlcnZlcjtcbiAgICAgICAgICAgIHZhbHVlID0gbmV3IENhbmNlbGxhdGlvbkVycm9yKFwibGF0ZSBjYW5jZWxsYXRpb24gb2JzZXJ2ZXJcIik7XG4gICAgICAgICAgICB0YXJnZXQuX2F0dGFjaEV4dHJhVHJhY2UodmFsdWUpO1xuICAgICAgICAgICAgaGFuZGxlciA9IGRpZFJlamVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGFzeW5jLmludm9rZShzZXR0bGVyLCB0YXJnZXQsIHtcbiAgICAgICAgICAgIGhhbmRsZXI6IGRvbWFpbiA9PT0gbnVsbCA/IGhhbmRsZXJcbiAgICAgICAgICAgICAgICA6ICh0eXBlb2YgaGFuZGxlciA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgICAgICAgICAgICAgIHV0aWwuZG9tYWluQmluZChkb21haW4sIGhhbmRsZXIpKSxcbiAgICAgICAgICAgIHByb21pc2U6IHByb21pc2UsXG4gICAgICAgICAgICByZWNlaXZlcjogcmVjZWl2ZXIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0Ll9hZGRDYWxsYmFja3MoZGlkRnVsZmlsbCwgZGlkUmVqZWN0LCBwcm9taXNlLCByZWNlaXZlciwgZG9tYWluKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9sZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JpdEZpZWxkICYgNjU1MzU7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5faXNGYXRlU2VhbGVkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiAxMTc1MDYwNDgpICE9PSAwO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2lzRm9sbG93aW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiA2NzEwODg2NCkgPT09IDY3MTA4ODY0O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldExlbmd0aCA9IGZ1bmN0aW9uIChsZW4pIHtcbiAgICB0aGlzLl9iaXRGaWVsZCA9ICh0aGlzLl9iaXRGaWVsZCAmIC02NTUzNikgfFxuICAgICAgICAobGVuICYgNjU1MzUpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldEZ1bGZpbGxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgMzM1NTQ0MzI7XG4gICAgdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZUZ1bGZpbGxlZFwiLCB0aGlzKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXRSZWplY3RlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgMTY3NzcyMTY7XG4gICAgdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZVJlamVjdGVkXCIsIHRoaXMpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldEZvbGxvd2luZyA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgNjcxMDg4NjQ7XG4gICAgdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZVJlc29sdmVkXCIsIHRoaXMpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldElzRmluYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCB8IDQxOTQzMDQ7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5faXNGaW5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgNDE5NDMwNCkgPiAwO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3Vuc2V0Q2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCAmICh+NjU1MzYpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldENhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCA2NTUzNjtcbiAgICB0aGlzLl9maXJlRXZlbnQoXCJwcm9taXNlQ2FuY2VsbGVkXCIsIHRoaXMpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldFdpbGxCZUNhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCA4Mzg4NjA4O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldEFzeW5jR3VhcmFudGVlZCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChhc3luYy5oYXNDdXN0b21TY2hlZHVsZXIoKSkgcmV0dXJuO1xuICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCAxMzQyMTc3Mjg7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fcmVjZWl2ZXJBdCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHZhciByZXQgPSBpbmRleCA9PT0gMCA/IHRoaXMuX3JlY2VpdmVyMCA6IHRoaXNbXG4gICAgICAgICAgICBpbmRleCAqIDQgLSA0ICsgM107XG4gICAgaWYgKHJldCA9PT0gVU5ERUZJTkVEX0JJTkRJTkcpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9IGVsc2UgaWYgKHJldCA9PT0gdW5kZWZpbmVkICYmIHRoaXMuX2lzQm91bmQoKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRWYWx1ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3Byb21pc2VBdCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHJldHVybiB0aGlzW1xuICAgICAgICAgICAgaW5kZXggKiA0IC0gNCArIDJdO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2Z1bGZpbGxtZW50SGFuZGxlckF0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXNbXG4gICAgICAgICAgICBpbmRleCAqIDQgLSA0ICsgMF07XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fcmVqZWN0aW9uSGFuZGxlckF0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXNbXG4gICAgICAgICAgICBpbmRleCAqIDQgLSA0ICsgMV07XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fYm91bmRWYWx1ZSA9IGZ1bmN0aW9uKCkge307XG5cblByb21pc2UucHJvdG90eXBlLl9taWdyYXRlQ2FsbGJhY2swID0gZnVuY3Rpb24gKGZvbGxvd2VyKSB7XG4gICAgdmFyIGJpdEZpZWxkID0gZm9sbG93ZXIuX2JpdEZpZWxkO1xuICAgIHZhciBmdWxmaWxsID0gZm9sbG93ZXIuX2Z1bGZpbGxtZW50SGFuZGxlcjA7XG4gICAgdmFyIHJlamVjdCA9IGZvbGxvd2VyLl9yZWplY3Rpb25IYW5kbGVyMDtcbiAgICB2YXIgcHJvbWlzZSA9IGZvbGxvd2VyLl9wcm9taXNlMDtcbiAgICB2YXIgcmVjZWl2ZXIgPSBmb2xsb3dlci5fcmVjZWl2ZXJBdCgwKTtcbiAgICBpZiAocmVjZWl2ZXIgPT09IHVuZGVmaW5lZCkgcmVjZWl2ZXIgPSBVTkRFRklORURfQklORElORztcbiAgICB0aGlzLl9hZGRDYWxsYmFja3MoZnVsZmlsbCwgcmVqZWN0LCBwcm9taXNlLCByZWNlaXZlciwgbnVsbCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fbWlncmF0ZUNhbGxiYWNrQXQgPSBmdW5jdGlvbiAoZm9sbG93ZXIsIGluZGV4KSB7XG4gICAgdmFyIGZ1bGZpbGwgPSBmb2xsb3dlci5fZnVsZmlsbG1lbnRIYW5kbGVyQXQoaW5kZXgpO1xuICAgIHZhciByZWplY3QgPSBmb2xsb3dlci5fcmVqZWN0aW9uSGFuZGxlckF0KGluZGV4KTtcbiAgICB2YXIgcHJvbWlzZSA9IGZvbGxvd2VyLl9wcm9taXNlQXQoaW5kZXgpO1xuICAgIHZhciByZWNlaXZlciA9IGZvbGxvd2VyLl9yZWNlaXZlckF0KGluZGV4KTtcbiAgICBpZiAocmVjZWl2ZXIgPT09IHVuZGVmaW5lZCkgcmVjZWl2ZXIgPSBVTkRFRklORURfQklORElORztcbiAgICB0aGlzLl9hZGRDYWxsYmFja3MoZnVsZmlsbCwgcmVqZWN0LCBwcm9taXNlLCByZWNlaXZlciwgbnVsbCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fYWRkQ2FsbGJhY2tzID0gZnVuY3Rpb24gKFxuICAgIGZ1bGZpbGwsXG4gICAgcmVqZWN0LFxuICAgIHByb21pc2UsXG4gICAgcmVjZWl2ZXIsXG4gICAgZG9tYWluXG4pIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLl9sZW5ndGgoKTtcblxuICAgIGlmIChpbmRleCA+PSA2NTUzNSAtIDQpIHtcbiAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICB0aGlzLl9zZXRMZW5ndGgoMCk7XG4gICAgfVxuXG4gICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgIHRoaXMuX3Byb21pc2UwID0gcHJvbWlzZTtcbiAgICAgICAgdGhpcy5fcmVjZWl2ZXIwID0gcmVjZWl2ZXI7XG4gICAgICAgIGlmICh0eXBlb2YgZnVsZmlsbCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aGlzLl9mdWxmaWxsbWVudEhhbmRsZXIwID1cbiAgICAgICAgICAgICAgICBkb21haW4gPT09IG51bGwgPyBmdWxmaWxsIDogdXRpbC5kb21haW5CaW5kKGRvbWFpbiwgZnVsZmlsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiByZWplY3QgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhpcy5fcmVqZWN0aW9uSGFuZGxlcjAgPVxuICAgICAgICAgICAgICAgIGRvbWFpbiA9PT0gbnVsbCA/IHJlamVjdCA6IHV0aWwuZG9tYWluQmluZChkb21haW4sIHJlamVjdCk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgYmFzZSA9IGluZGV4ICogNCAtIDQ7XG4gICAgICAgIHRoaXNbYmFzZSArIDJdID0gcHJvbWlzZTtcbiAgICAgICAgdGhpc1tiYXNlICsgM10gPSByZWNlaXZlcjtcbiAgICAgICAgaWYgKHR5cGVvZiBmdWxmaWxsID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRoaXNbYmFzZSArIDBdID1cbiAgICAgICAgICAgICAgICBkb21haW4gPT09IG51bGwgPyBmdWxmaWxsIDogdXRpbC5kb21haW5CaW5kKGRvbWFpbiwgZnVsZmlsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiByZWplY3QgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhpc1tiYXNlICsgMV0gPVxuICAgICAgICAgICAgICAgIGRvbWFpbiA9PT0gbnVsbCA/IHJlamVjdCA6IHV0aWwuZG9tYWluQmluZChkb21haW4sIHJlamVjdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fc2V0TGVuZ3RoKGluZGV4ICsgMSk7XG4gICAgcmV0dXJuIGluZGV4O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3Byb3h5ID0gZnVuY3Rpb24gKHByb3h5YWJsZSwgYXJnKSB7XG4gICAgdGhpcy5fYWRkQ2FsbGJhY2tzKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcmcsIHByb3h5YWJsZSwgbnVsbCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fcmVzb2x2ZUNhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUsIHNob3VsZEJpbmQpIHtcbiAgICBpZiAoKCh0aGlzLl9iaXRGaWVsZCAmIDExNzUwNjA0OCkgIT09IDApKSByZXR1cm47XG4gICAgaWYgKHZhbHVlID09PSB0aGlzKVxuICAgICAgICByZXR1cm4gdGhpcy5fcmVqZWN0Q2FsbGJhY2sobWFrZVNlbGZSZXNvbHV0aW9uRXJyb3IoKSwgZmFsc2UpO1xuICAgIHZhciBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHZhbHVlLCB0aGlzKTtcbiAgICBpZiAoIShtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSkgcmV0dXJuIHRoaXMuX2Z1bGZpbGwodmFsdWUpO1xuXG4gICAgaWYgKHNob3VsZEJpbmQpIHRoaXMuX3Byb3BhZ2F0ZUZyb20obWF5YmVQcm9taXNlLCAyKTtcblxuICAgIHZhciBwcm9taXNlID0gbWF5YmVQcm9taXNlLl90YXJnZXQoKTtcblxuICAgIGlmIChwcm9taXNlID09PSB0aGlzKSB7XG4gICAgICAgIHRoaXMuX3JlamVjdChtYWtlU2VsZlJlc29sdXRpb25FcnJvcigpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBiaXRGaWVsZCA9IHByb21pc2UuX2JpdEZpZWxkO1xuICAgIGlmICgoKGJpdEZpZWxkICYgNTAzOTcxODQpID09PSAwKSkge1xuICAgICAgICB2YXIgbGVuID0gdGhpcy5fbGVuZ3RoKCk7XG4gICAgICAgIGlmIChsZW4gPiAwKSBwcm9taXNlLl9taWdyYXRlQ2FsbGJhY2swKHRoaXMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICBwcm9taXNlLl9taWdyYXRlQ2FsbGJhY2tBdCh0aGlzLCBpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZXRGb2xsb3dpbmcoKTtcbiAgICAgICAgdGhpcy5fc2V0TGVuZ3RoKDApO1xuICAgICAgICB0aGlzLl9zZXRGb2xsb3dlZShwcm9taXNlKTtcbiAgICB9IGVsc2UgaWYgKCgoYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDApKSB7XG4gICAgICAgIHRoaXMuX2Z1bGZpbGwocHJvbWlzZS5fdmFsdWUoKSk7XG4gICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMTY3NzcyMTYpICE9PSAwKSkge1xuICAgICAgICB0aGlzLl9yZWplY3QocHJvbWlzZS5fcmVhc29uKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZWFzb24gPSBuZXcgQ2FuY2VsbGF0aW9uRXJyb3IoXCJsYXRlIGNhbmNlbGxhdGlvbiBvYnNlcnZlclwiKTtcbiAgICAgICAgcHJvbWlzZS5fYXR0YWNoRXh0cmFUcmFjZShyZWFzb24pO1xuICAgICAgICB0aGlzLl9yZWplY3QocmVhc29uKTtcbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fcmVqZWN0Q2FsbGJhY2sgPVxuZnVuY3Rpb24ocmVhc29uLCBzeW5jaHJvbm91cywgaWdub3JlTm9uRXJyb3JXYXJuaW5ncykge1xuICAgIHZhciB0cmFjZSA9IHV0aWwuZW5zdXJlRXJyb3JPYmplY3QocmVhc29uKTtcbiAgICB2YXIgaGFzU3RhY2sgPSB0cmFjZSA9PT0gcmVhc29uO1xuICAgIGlmICghaGFzU3RhY2sgJiYgIWlnbm9yZU5vbkVycm9yV2FybmluZ3MgJiYgZGVidWcud2FybmluZ3MoKSkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9IFwiYSBwcm9taXNlIHdhcyByZWplY3RlZCB3aXRoIGEgbm9uLWVycm9yOiBcIiArXG4gICAgICAgICAgICB1dGlsLmNsYXNzU3RyaW5nKHJlYXNvbik7XG4gICAgICAgIHRoaXMuX3dhcm4obWVzc2FnZSwgdHJ1ZSk7XG4gICAgfVxuICAgIHRoaXMuX2F0dGFjaEV4dHJhVHJhY2UodHJhY2UsIHN5bmNocm9ub3VzID8gaGFzU3RhY2sgOiBmYWxzZSk7XG4gICAgdGhpcy5fcmVqZWN0KHJlYXNvbik7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fcmVzb2x2ZUZyb21FeGVjdXRvciA9IGZ1bmN0aW9uIChleGVjdXRvcikge1xuICAgIHZhciBwcm9taXNlID0gdGhpcztcbiAgICB0aGlzLl9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuICAgIHRoaXMuX3B1c2hDb250ZXh0KCk7XG4gICAgdmFyIHN5bmNocm9ub3VzID0gdHJ1ZTtcbiAgICB2YXIgciA9IHRoaXMuX2V4ZWN1dGUoZXhlY3V0b3IsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHByb21pc2UuX3Jlc29sdmVDYWxsYmFjayh2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICBwcm9taXNlLl9yZWplY3RDYWxsYmFjayhyZWFzb24sIHN5bmNocm9ub3VzKTtcbiAgICB9KTtcbiAgICBzeW5jaHJvbm91cyA9IGZhbHNlO1xuICAgIHRoaXMuX3BvcENvbnRleHQoKTtcblxuICAgIGlmIChyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2sociwgdHJ1ZSk7XG4gICAgfVxufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldHRsZVByb21pc2VGcm9tSGFuZGxlciA9IGZ1bmN0aW9uIChcbiAgICBoYW5kbGVyLCByZWNlaXZlciwgdmFsdWUsIHByb21pc2Vcbikge1xuICAgIHZhciBiaXRGaWVsZCA9IHByb21pc2UuX2JpdEZpZWxkO1xuICAgIGlmICgoKGJpdEZpZWxkICYgNjU1MzYpICE9PSAwKSkgcmV0dXJuO1xuICAgIHByb21pc2UuX3B1c2hDb250ZXh0KCk7XG4gICAgdmFyIHg7XG4gICAgaWYgKHJlY2VpdmVyID09PSBBUFBMWSkge1xuICAgICAgICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZS5sZW5ndGggIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHggPSBlcnJvck9iajtcbiAgICAgICAgICAgIHguZSA9IG5ldyBUeXBlRXJyb3IoXCJjYW5ub3QgLnNwcmVhZCgpIGEgbm9uLWFycmF5OiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlsLmNsYXNzU3RyaW5nKHZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB4ID0gdHJ5Q2F0Y2goaGFuZGxlcikuYXBwbHkodGhpcy5fYm91bmRWYWx1ZSgpLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICB4ID0gdHJ5Q2F0Y2goaGFuZGxlcikuY2FsbChyZWNlaXZlciwgdmFsdWUpO1xuICAgIH1cbiAgICB2YXIgcHJvbWlzZUNyZWF0ZWQgPSBwcm9taXNlLl9wb3BDb250ZXh0KCk7XG4gICAgYml0RmllbGQgPSBwcm9taXNlLl9iaXRGaWVsZDtcbiAgICBpZiAoKChiaXRGaWVsZCAmIDY1NTM2KSAhPT0gMCkpIHJldHVybjtcblxuICAgIGlmICh4ID09PSBORVhUX0ZJTFRFUikge1xuICAgICAgICBwcm9taXNlLl9yZWplY3QodmFsdWUpO1xuICAgIH0gZWxzZSBpZiAoeCA9PT0gZXJyb3JPYmopIHtcbiAgICAgICAgcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2soeC5lLCBmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZGVidWcuY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zKHgsIHByb21pc2VDcmVhdGVkLCBcIlwiLCAgcHJvbWlzZSwgdGhpcyk7XG4gICAgICAgIHByb21pc2UuX3Jlc29sdmVDYWxsYmFjayh4KTtcbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fdGFyZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJldCA9IHRoaXM7XG4gICAgd2hpbGUgKHJldC5faXNGb2xsb3dpbmcoKSkgcmV0ID0gcmV0Ll9mb2xsb3dlZSgpO1xuICAgIHJldHVybiByZXQ7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fZm9sbG93ZWUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVqZWN0aW9uSGFuZGxlcjA7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fc2V0Rm9sbG93ZWUgPSBmdW5jdGlvbihwcm9taXNlKSB7XG4gICAgdGhpcy5fcmVqZWN0aW9uSGFuZGxlcjAgPSBwcm9taXNlO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldHRsZVByb21pc2UgPSBmdW5jdGlvbihwcm9taXNlLCBoYW5kbGVyLCByZWNlaXZlciwgdmFsdWUpIHtcbiAgICB2YXIgaXNQcm9taXNlID0gcHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2U7XG4gICAgdmFyIGJpdEZpZWxkID0gdGhpcy5fYml0RmllbGQ7XG4gICAgdmFyIGFzeW5jR3VhcmFudGVlZCA9ICgoYml0RmllbGQgJiAxMzQyMTc3MjgpICE9PSAwKTtcbiAgICBpZiAoKChiaXRGaWVsZCAmIDY1NTM2KSAhPT0gMCkpIHtcbiAgICAgICAgaWYgKGlzUHJvbWlzZSkgcHJvbWlzZS5faW52b2tlSW50ZXJuYWxPbkNhbmNlbCgpO1xuXG4gICAgICAgIGlmIChyZWNlaXZlciBpbnN0YW5jZW9mIFBhc3NUaHJvdWdoSGFuZGxlckNvbnRleHQgJiZcbiAgICAgICAgICAgIHJlY2VpdmVyLmlzRmluYWxseUhhbmRsZXIoKSkge1xuICAgICAgICAgICAgcmVjZWl2ZXIuY2FuY2VsUHJvbWlzZSA9IHByb21pc2U7XG4gICAgICAgICAgICBpZiAodHJ5Q2F0Y2goaGFuZGxlcikuY2FsbChyZWNlaXZlciwgdmFsdWUpID09PSBlcnJvck9iaikge1xuICAgICAgICAgICAgICAgIHByb21pc2UuX3JlamVjdChlcnJvck9iai5lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChoYW5kbGVyID09PSByZWZsZWN0SGFuZGxlcikge1xuICAgICAgICAgICAgcHJvbWlzZS5fZnVsZmlsbChyZWZsZWN0SGFuZGxlci5jYWxsKHJlY2VpdmVyKSk7XG4gICAgICAgIH0gZWxzZSBpZiAocmVjZWl2ZXIgaW5zdGFuY2VvZiBQcm94eWFibGUpIHtcbiAgICAgICAgICAgIHJlY2VpdmVyLl9wcm9taXNlQ2FuY2VsbGVkKHByb21pc2UpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzUHJvbWlzZSB8fCBwcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZUFycmF5KSB7XG4gICAgICAgICAgICBwcm9taXNlLl9jYW5jZWwoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlY2VpdmVyLmNhbmNlbCgpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGlmICghaXNQcm9taXNlKSB7XG4gICAgICAgICAgICBoYW5kbGVyLmNhbGwocmVjZWl2ZXIsIHZhbHVlLCBwcm9taXNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChhc3luY0d1YXJhbnRlZWQpIHByb21pc2UuX3NldEFzeW5jR3VhcmFudGVlZCgpO1xuICAgICAgICAgICAgdGhpcy5fc2V0dGxlUHJvbWlzZUZyb21IYW5kbGVyKGhhbmRsZXIsIHJlY2VpdmVyLCB2YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJlY2VpdmVyIGluc3RhbmNlb2YgUHJveHlhYmxlKSB7XG4gICAgICAgIGlmICghcmVjZWl2ZXIuX2lzUmVzb2x2ZWQoKSkge1xuICAgICAgICAgICAgaWYgKCgoYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDApKSB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZXIuX3Byb21pc2VGdWxmaWxsZWQodmFsdWUsIHByb21pc2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlci5fcHJvbWlzZVJlamVjdGVkKHZhbHVlLCBwcm9taXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNQcm9taXNlKSB7XG4gICAgICAgIGlmIChhc3luY0d1YXJhbnRlZWQpIHByb21pc2UuX3NldEFzeW5jR3VhcmFudGVlZCgpO1xuICAgICAgICBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcbiAgICAgICAgICAgIHByb21pc2UuX2Z1bGZpbGwodmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvbWlzZS5fcmVqZWN0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlTGF0ZUNhbmNlbGxhdGlvbk9ic2VydmVyID0gZnVuY3Rpb24oY3R4KSB7XG4gICAgdmFyIGhhbmRsZXIgPSBjdHguaGFuZGxlcjtcbiAgICB2YXIgcHJvbWlzZSA9IGN0eC5wcm9taXNlO1xuICAgIHZhciByZWNlaXZlciA9IGN0eC5yZWNlaXZlcjtcbiAgICB2YXIgdmFsdWUgPSBjdHgudmFsdWU7XG4gICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgaWYgKCEocHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpKSB7XG4gICAgICAgICAgICBoYW5kbGVyLmNhbGwocmVjZWl2ZXIsIHZhbHVlLCBwcm9taXNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3NldHRsZVByb21pc2VGcm9tSGFuZGxlcihoYW5kbGVyLCByZWNlaXZlciwgdmFsdWUsIHByb21pc2UpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChwcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICBwcm9taXNlLl9yZWplY3QodmFsdWUpO1xuICAgIH1cbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlQ3R4ID0gZnVuY3Rpb24oY3R4KSB7XG4gICAgdGhpcy5fc2V0dGxlUHJvbWlzZShjdHgucHJvbWlzZSwgY3R4LmhhbmRsZXIsIGN0eC5yZWNlaXZlciwgY3R4LnZhbHVlKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlMCA9IGZ1bmN0aW9uKGhhbmRsZXIsIHZhbHVlLCBiaXRGaWVsZCkge1xuICAgIHZhciBwcm9taXNlID0gdGhpcy5fcHJvbWlzZTA7XG4gICAgdmFyIHJlY2VpdmVyID0gdGhpcy5fcmVjZWl2ZXJBdCgwKTtcbiAgICB0aGlzLl9wcm9taXNlMCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9yZWNlaXZlcjAgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fc2V0dGxlUHJvbWlzZShwcm9taXNlLCBoYW5kbGVyLCByZWNlaXZlciwgdmFsdWUpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2NsZWFyQ2FsbGJhY2tEYXRhQXRJbmRleCA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgdmFyIGJhc2UgPSBpbmRleCAqIDQgLSA0O1xuICAgIHRoaXNbYmFzZSArIDJdID1cbiAgICB0aGlzW2Jhc2UgKyAzXSA9XG4gICAgdGhpc1tiYXNlICsgMF0gPVxuICAgIHRoaXNbYmFzZSArIDFdID0gdW5kZWZpbmVkO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2Z1bGZpbGwgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB2YXIgYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZDtcbiAgICBpZiAoKChiaXRGaWVsZCAmIDExNzUwNjA0OCkgPj4+IDE2KSkgcmV0dXJuO1xuICAgIGlmICh2YWx1ZSA9PT0gdGhpcykge1xuICAgICAgICB2YXIgZXJyID0gbWFrZVNlbGZSZXNvbHV0aW9uRXJyb3IoKTtcbiAgICAgICAgdGhpcy5fYXR0YWNoRXh0cmFUcmFjZShlcnIpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVqZWN0KGVycik7XG4gICAgfVxuICAgIHRoaXMuX3NldEZ1bGZpbGxlZCgpO1xuICAgIHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwID0gdmFsdWU7XG5cbiAgICBpZiAoKGJpdEZpZWxkICYgNjU1MzUpID4gMCkge1xuICAgICAgICBpZiAoKChiaXRGaWVsZCAmIDEzNDIxNzcyOCkgIT09IDApKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXR0bGVQcm9taXNlcygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXN5bmMuc2V0dGxlUHJvbWlzZXModGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fcmVqZWN0ID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHZhciBiaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkO1xuICAgIGlmICgoKGJpdEZpZWxkICYgMTE3NTA2MDQ4KSA+Pj4gMTYpKSByZXR1cm47XG4gICAgdGhpcy5fc2V0UmVqZWN0ZWQoKTtcbiAgICB0aGlzLl9mdWxmaWxsbWVudEhhbmRsZXIwID0gcmVhc29uO1xuXG4gICAgaWYgKHRoaXMuX2lzRmluYWwoKSkge1xuICAgICAgICByZXR1cm4gYXN5bmMuZmF0YWxFcnJvcihyZWFzb24sIHV0aWwuaXNOb2RlKTtcbiAgICB9XG5cbiAgICBpZiAoKGJpdEZpZWxkICYgNjU1MzUpID4gMCkge1xuICAgICAgICBhc3luYy5zZXR0bGVQcm9taXNlcyh0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9lbnN1cmVQb3NzaWJsZVJlamVjdGlvbkhhbmRsZWQoKTtcbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fZnVsZmlsbFByb21pc2VzID0gZnVuY3Rpb24gKGxlbiwgdmFsdWUpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBoYW5kbGVyID0gdGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyQXQoaSk7XG4gICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5fcHJvbWlzZUF0KGkpO1xuICAgICAgICB2YXIgcmVjZWl2ZXIgPSB0aGlzLl9yZWNlaXZlckF0KGkpO1xuICAgICAgICB0aGlzLl9jbGVhckNhbGxiYWNrRGF0YUF0SW5kZXgoaSk7XG4gICAgICAgIHRoaXMuX3NldHRsZVByb21pc2UocHJvbWlzZSwgaGFuZGxlciwgcmVjZWl2ZXIsIHZhbHVlKTtcbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fcmVqZWN0UHJvbWlzZXMgPSBmdW5jdGlvbiAobGVuLCByZWFzb24pIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBoYW5kbGVyID0gdGhpcy5fcmVqZWN0aW9uSGFuZGxlckF0KGkpO1xuICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuX3Byb21pc2VBdChpKTtcbiAgICAgICAgdmFyIHJlY2VpdmVyID0gdGhpcy5fcmVjZWl2ZXJBdChpKTtcbiAgICAgICAgdGhpcy5fY2xlYXJDYWxsYmFja0RhdGFBdEluZGV4KGkpO1xuICAgICAgICB0aGlzLl9zZXR0bGVQcm9taXNlKHByb21pc2UsIGhhbmRsZXIsIHJlY2VpdmVyLCByZWFzb24pO1xuICAgIH1cbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZDtcbiAgICB2YXIgbGVuID0gKGJpdEZpZWxkICYgNjU1MzUpO1xuXG4gICAgaWYgKGxlbiA+IDApIHtcbiAgICAgICAgaWYgKCgoYml0RmllbGQgJiAxNjg0Mjc1MikgIT09IDApKSB7XG4gICAgICAgICAgICB2YXIgcmVhc29uID0gdGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyMDtcbiAgICAgICAgICAgIHRoaXMuX3NldHRsZVByb21pc2UwKHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwLCByZWFzb24sIGJpdEZpZWxkKTtcbiAgICAgICAgICAgIHRoaXMuX3JlamVjdFByb21pc2VzKGxlbiwgcmVhc29uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwO1xuICAgICAgICAgICAgdGhpcy5fc2V0dGxlUHJvbWlzZTAodGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyMCwgdmFsdWUsIGJpdEZpZWxkKTtcbiAgICAgICAgICAgIHRoaXMuX2Z1bGZpbGxQcm9taXNlcyhsZW4sIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZXRMZW5ndGgoMCk7XG4gICAgfVxuICAgIHRoaXMuX2NsZWFyQ2FuY2VsbGF0aW9uRGF0YSgpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldHRsZWRWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBiaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkO1xuICAgIGlmICgoKGJpdEZpZWxkICYgMzM1NTQ0MzIpICE9PSAwKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVqZWN0aW9uSGFuZGxlcjA7XG4gICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMTY3NzcyMTYpICE9PSAwKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyMDtcbiAgICB9XG59O1xuXG5mdW5jdGlvbiBkZWZlclJlc29sdmUodikge3RoaXMucHJvbWlzZS5fcmVzb2x2ZUNhbGxiYWNrKHYpO31cbmZ1bmN0aW9uIGRlZmVyUmVqZWN0KHYpIHt0aGlzLnByb21pc2UuX3JlamVjdENhbGxiYWNrKHYsIGZhbHNlKTt9XG5cblByb21pc2UuZGVmZXIgPSBQcm9taXNlLnBlbmRpbmcgPSBmdW5jdGlvbigpIHtcbiAgICBkZWJ1Zy5kZXByZWNhdGVkKFwiUHJvbWlzZS5kZWZlclwiLCBcIm5ldyBQcm9taXNlXCIpO1xuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHByb21pc2U6IHByb21pc2UsXG4gICAgICAgIHJlc29sdmU6IGRlZmVyUmVzb2x2ZSxcbiAgICAgICAgcmVqZWN0OiBkZWZlclJlamVjdFxuICAgIH07XG59O1xuXG51dGlsLm5vdEVudW1lcmFibGVQcm9wKFByb21pc2UsXG4gICAgICAgICAgICAgICAgICAgICAgIFwiX21ha2VTZWxmUmVzb2x1dGlvbkVycm9yXCIsXG4gICAgICAgICAgICAgICAgICAgICAgIG1ha2VTZWxmUmVzb2x1dGlvbkVycm9yKTtcblxuX2RlcmVxXyhcIi4vbWV0aG9kXCIpKFByb21pc2UsIElOVEVSTkFMLCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBhcGlSZWplY3Rpb24sXG4gICAgZGVidWcpO1xuX2RlcmVxXyhcIi4vYmluZFwiKShQcm9taXNlLCBJTlRFUk5BTCwgdHJ5Q29udmVydFRvUHJvbWlzZSwgZGVidWcpO1xuX2RlcmVxXyhcIi4vY2FuY2VsXCIpKFByb21pc2UsIFByb21pc2VBcnJheSwgYXBpUmVqZWN0aW9uLCBkZWJ1Zyk7XG5fZGVyZXFfKFwiLi9kaXJlY3RfcmVzb2x2ZVwiKShQcm9taXNlKTtcbl9kZXJlcV8oXCIuL3N5bmNocm9ub3VzX2luc3BlY3Rpb25cIikoUHJvbWlzZSk7XG5fZGVyZXFfKFwiLi9qb2luXCIpKFxuICAgIFByb21pc2UsIFByb21pc2VBcnJheSwgdHJ5Q29udmVydFRvUHJvbWlzZSwgSU5URVJOQUwsIGFzeW5jLCBnZXREb21haW4pO1xuUHJvbWlzZS5Qcm9taXNlID0gUHJvbWlzZTtcblByb21pc2UudmVyc2lvbiA9IFwiMy40LjZcIjtcbl9kZXJlcV8oJy4vbWFwLmpzJykoUHJvbWlzZSwgUHJvbWlzZUFycmF5LCBhcGlSZWplY3Rpb24sIHRyeUNvbnZlcnRUb1Byb21pc2UsIElOVEVSTkFMLCBkZWJ1Zyk7XG5fZGVyZXFfKCcuL2NhbGxfZ2V0LmpzJykoUHJvbWlzZSk7XG5fZGVyZXFfKCcuL3VzaW5nLmpzJykoUHJvbWlzZSwgYXBpUmVqZWN0aW9uLCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBjcmVhdGVDb250ZXh0LCBJTlRFUk5BTCwgZGVidWcpO1xuX2RlcmVxXygnLi90aW1lcnMuanMnKShQcm9taXNlLCBJTlRFUk5BTCwgZGVidWcpO1xuX2RlcmVxXygnLi9nZW5lcmF0b3JzLmpzJykoUHJvbWlzZSwgYXBpUmVqZWN0aW9uLCBJTlRFUk5BTCwgdHJ5Q29udmVydFRvUHJvbWlzZSwgUHJveHlhYmxlLCBkZWJ1Zyk7XG5fZGVyZXFfKCcuL25vZGVpZnkuanMnKShQcm9taXNlKTtcbl9kZXJlcV8oJy4vcHJvbWlzaWZ5LmpzJykoUHJvbWlzZSwgSU5URVJOQUwpO1xuX2RlcmVxXygnLi9wcm9wcy5qcycpKFByb21pc2UsIFByb21pc2VBcnJheSwgdHJ5Q29udmVydFRvUHJvbWlzZSwgYXBpUmVqZWN0aW9uKTtcbl9kZXJlcV8oJy4vcmFjZS5qcycpKFByb21pc2UsIElOVEVSTkFMLCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBhcGlSZWplY3Rpb24pO1xuX2RlcmVxXygnLi9yZWR1Y2UuanMnKShQcm9taXNlLCBQcm9taXNlQXJyYXksIGFwaVJlamVjdGlvbiwgdHJ5Q29udmVydFRvUHJvbWlzZSwgSU5URVJOQUwsIGRlYnVnKTtcbl9kZXJlcV8oJy4vc2V0dGxlLmpzJykoUHJvbWlzZSwgUHJvbWlzZUFycmF5LCBkZWJ1Zyk7XG5fZGVyZXFfKCcuL3NvbWUuanMnKShQcm9taXNlLCBQcm9taXNlQXJyYXksIGFwaVJlamVjdGlvbik7XG5fZGVyZXFfKCcuL2ZpbHRlci5qcycpKFByb21pc2UsIElOVEVSTkFMKTtcbl9kZXJlcV8oJy4vZWFjaC5qcycpKFByb21pc2UsIElOVEVSTkFMKTtcbl9kZXJlcV8oJy4vYW55LmpzJykoUHJvbWlzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICB1dGlsLnRvRmFzdFByb3BlcnRpZXMoUHJvbWlzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgdXRpbC50b0Zhc3RQcm9wZXJ0aWVzKFByb21pc2UucHJvdG90eXBlKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgIGZ1bmN0aW9uIGZpbGxUeXBlcyh2YWx1ZSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgdmFyIHAgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIHAuX2Z1bGZpbGxtZW50SGFuZGxlcjAgPSB2YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICBwLl9yZWplY3Rpb25IYW5kbGVyMCA9IHZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgcC5fcHJvbWlzZTAgPSB2YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIHAuX3JlY2VpdmVyMCA9IHZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAvLyBDb21wbGV0ZSBzbGFjayB0cmFja2luZywgb3B0IG91dCBvZiBmaWVsZC10eXBlIHRyYWNraW5nIGFuZCAgICAgICAgICAgXG4gICAgLy8gc3RhYmlsaXplIG1hcCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgIGZpbGxUeXBlcyh7YTogMX0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICBmaWxsVHlwZXMoe2I6IDJ9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgZmlsbFR5cGVzKHtjOiAzfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgIGZpbGxUeXBlcygxKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICBmaWxsVHlwZXMoZnVuY3Rpb24oKXt9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgZmlsbFR5cGVzKHVuZGVmaW5lZCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgIGZpbGxUeXBlcyhmYWxzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICBmaWxsVHlwZXMobmV3IFByb21pc2UoSU5URVJOQUwpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgZGVidWcuc2V0Qm91bmRzKEFzeW5jLmZpcnN0TGluZUVycm9yLCB1dGlsLmxhc3RMaW5lRXJyb3IpOyAgICAgICAgICAgICAgIFxuICAgIHJldHVybiBQcm9taXNlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblxufTtcblxufSx7XCIuL2FueS5qc1wiOjEsXCIuL2FzeW5jXCI6MixcIi4vYmluZFwiOjMsXCIuL2NhbGxfZ2V0LmpzXCI6NSxcIi4vY2FuY2VsXCI6NixcIi4vY2F0Y2hfZmlsdGVyXCI6NyxcIi4vY29udGV4dFwiOjgsXCIuL2RlYnVnZ2FiaWxpdHlcIjo5LFwiLi9kaXJlY3RfcmVzb2x2ZVwiOjEwLFwiLi9lYWNoLmpzXCI6MTEsXCIuL2Vycm9yc1wiOjEyLFwiLi9lczVcIjoxMyxcIi4vZmlsdGVyLmpzXCI6MTQsXCIuL2ZpbmFsbHlcIjoxNSxcIi4vZ2VuZXJhdG9ycy5qc1wiOjE2LFwiLi9qb2luXCI6MTcsXCIuL21hcC5qc1wiOjE4LFwiLi9tZXRob2RcIjoxOSxcIi4vbm9kZWJhY2tcIjoyMCxcIi4vbm9kZWlmeS5qc1wiOjIxLFwiLi9wcm9taXNlX2FycmF5XCI6MjMsXCIuL3Byb21pc2lmeS5qc1wiOjI0LFwiLi9wcm9wcy5qc1wiOjI1LFwiLi9yYWNlLmpzXCI6MjcsXCIuL3JlZHVjZS5qc1wiOjI4LFwiLi9zZXR0bGUuanNcIjozMCxcIi4vc29tZS5qc1wiOjMxLFwiLi9zeW5jaHJvbm91c19pbnNwZWN0aW9uXCI6MzIsXCIuL3RoZW5hYmxlc1wiOjMzLFwiLi90aW1lcnMuanNcIjozNCxcIi4vdXNpbmcuanNcIjozNSxcIi4vdXRpbFwiOjM2fV0sMjM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIElOVEVSTkFMLCB0cnlDb252ZXJ0VG9Qcm9taXNlLFxuICAgIGFwaVJlamVjdGlvbiwgUHJveHlhYmxlKSB7XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgaXNBcnJheSA9IHV0aWwuaXNBcnJheTtcblxuZnVuY3Rpb24gdG9SZXNvbHV0aW9uVmFsdWUodmFsKSB7XG4gICAgc3dpdGNoKHZhbCkge1xuICAgIGNhc2UgLTI6IHJldHVybiBbXTtcbiAgICBjYXNlIC0zOiByZXR1cm4ge307XG4gICAgfVxufVxuXG5mdW5jdGlvbiBQcm9taXNlQXJyYXkodmFsdWVzKSB7XG4gICAgdmFyIHByb21pc2UgPSB0aGlzLl9wcm9taXNlID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgIGlmICh2YWx1ZXMgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHByb21pc2UuX3Byb3BhZ2F0ZUZyb20odmFsdWVzLCAzKTtcbiAgICB9XG4gICAgcHJvbWlzZS5fc2V0T25DYW5jZWwodGhpcyk7XG4gICAgdGhpcy5fdmFsdWVzID0gdmFsdWVzO1xuICAgIHRoaXMuX2xlbmd0aCA9IDA7XG4gICAgdGhpcy5fdG90YWxSZXNvbHZlZCA9IDA7XG4gICAgdGhpcy5faW5pdCh1bmRlZmluZWQsIC0yKTtcbn1cbnV0aWwuaW5oZXJpdHMoUHJvbWlzZUFycmF5LCBQcm94eWFibGUpO1xuXG5Qcm9taXNlQXJyYXkucHJvdG90eXBlLmxlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fbGVuZ3RoO1xufTtcblxuUHJvbWlzZUFycmF5LnByb3RvdHlwZS5wcm9taXNlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9wcm9taXNlO1xufTtcblxuUHJvbWlzZUFycmF5LnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uIGluaXQoXywgcmVzb2x2ZVZhbHVlSWZFbXB0eSkge1xuICAgIHZhciB2YWx1ZXMgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHRoaXMuX3ZhbHVlcywgdGhpcy5fcHJvbWlzZSk7XG4gICAgaWYgKHZhbHVlcyBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgdmFsdWVzID0gdmFsdWVzLl90YXJnZXQoKTtcbiAgICAgICAgdmFyIGJpdEZpZWxkID0gdmFsdWVzLl9iaXRGaWVsZDtcbiAgICAgICAgO1xuICAgICAgICB0aGlzLl92YWx1ZXMgPSB2YWx1ZXM7XG5cbiAgICAgICAgaWYgKCgoYml0RmllbGQgJiA1MDM5NzE4NCkgPT09IDApKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9taXNlLl9zZXRBc3luY0d1YXJhbnRlZWQoKTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZXMuX3RoZW4oXG4gICAgICAgICAgICAgICAgaW5pdCxcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWplY3QsXG4gICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgcmVzb2x2ZVZhbHVlSWZFbXB0eVxuICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKCgoYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDApKSB7XG4gICAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZXMuX3ZhbHVlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDE2Nzc3MjE2KSAhPT0gMCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWplY3QodmFsdWVzLl9yZWFzb24oKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFsdWVzID0gdXRpbC5hc0FycmF5KHZhbHVlcyk7XG4gICAgaWYgKHZhbHVlcyA9PT0gbnVsbCkge1xuICAgICAgICB2YXIgZXJyID0gYXBpUmVqZWN0aW9uKFxuICAgICAgICAgICAgXCJleHBlY3RpbmcgYW4gYXJyYXkgb3IgYW4gaXRlcmFibGUgb2JqZWN0IGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKHZhbHVlcykpLnJlYXNvbigpO1xuICAgICAgICB0aGlzLl9wcm9taXNlLl9yZWplY3RDYWxsYmFjayhlcnIsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGlmIChyZXNvbHZlVmFsdWVJZkVtcHR5ID09PSAtNSkge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZUVtcHR5QXJyYXkoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUodG9SZXNvbHV0aW9uVmFsdWUocmVzb2x2ZVZhbHVlSWZFbXB0eSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5faXRlcmF0ZSh2YWx1ZXMpO1xufTtcblxuUHJvbWlzZUFycmF5LnByb3RvdHlwZS5faXRlcmF0ZSA9IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgIHZhciBsZW4gPSB0aGlzLmdldEFjdHVhbExlbmd0aCh2YWx1ZXMubGVuZ3RoKTtcbiAgICB0aGlzLl9sZW5ndGggPSBsZW47XG4gICAgdGhpcy5fdmFsdWVzID0gdGhpcy5zaG91bGRDb3B5VmFsdWVzKCkgPyBuZXcgQXJyYXkobGVuKSA6IHRoaXMuX3ZhbHVlcztcbiAgICB2YXIgcmVzdWx0ID0gdGhpcy5fcHJvbWlzZTtcbiAgICB2YXIgaXNSZXNvbHZlZCA9IGZhbHNlO1xuICAgIHZhciBiaXRGaWVsZCA9IG51bGw7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gdHJ5Q29udmVydFRvUHJvbWlzZSh2YWx1ZXNbaV0sIHJlc3VsdCk7XG5cbiAgICAgICAgaWYgKG1heWJlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIG1heWJlUHJvbWlzZSA9IG1heWJlUHJvbWlzZS5fdGFyZ2V0KCk7XG4gICAgICAgICAgICBiaXRGaWVsZCA9IG1heWJlUHJvbWlzZS5fYml0RmllbGQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBiaXRGaWVsZCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNSZXNvbHZlZCkge1xuICAgICAgICAgICAgaWYgKGJpdEZpZWxkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGJpdEZpZWxkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoKChiaXRGaWVsZCAmIDUwMzk3MTg0KSA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICBtYXliZVByb21pc2UuX3Byb3h5KHRoaXMsIGkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlc1tpXSA9IG1heWJlUHJvbWlzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcbiAgICAgICAgICAgICAgICBpc1Jlc29sdmVkID0gdGhpcy5fcHJvbWlzZUZ1bGZpbGxlZChtYXliZVByb21pc2UuX3ZhbHVlKCksIGkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMTY3NzcyMTYpICE9PSAwKSkge1xuICAgICAgICAgICAgICAgIGlzUmVzb2x2ZWQgPSB0aGlzLl9wcm9taXNlUmVqZWN0ZWQobWF5YmVQcm9taXNlLl9yZWFzb24oKSwgaSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlzUmVzb2x2ZWQgPSB0aGlzLl9wcm9taXNlQ2FuY2VsbGVkKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXNSZXNvbHZlZCA9IHRoaXMuX3Byb21pc2VGdWxmaWxsZWQobWF5YmVQcm9taXNlLCBpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWlzUmVzb2x2ZWQpIHJlc3VsdC5fc2V0QXN5bmNHdWFyYW50ZWVkKCk7XG59O1xuXG5Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9pc1Jlc29sdmVkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZXMgPT09IG51bGw7XG59O1xuXG5Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9yZXNvbHZlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdGhpcy5fdmFsdWVzID0gbnVsbDtcbiAgICB0aGlzLl9wcm9taXNlLl9mdWxmaWxsKHZhbHVlKTtcbn07XG5cblByb21pc2VBcnJheS5wcm90b3R5cGUuX2NhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLl9pc1Jlc29sdmVkKCkgfHwgIXRoaXMuX3Byb21pc2UuX2lzQ2FuY2VsbGFibGUoKSkgcmV0dXJuO1xuICAgIHRoaXMuX3ZhbHVlcyA9IG51bGw7XG4gICAgdGhpcy5fcHJvbWlzZS5fY2FuY2VsKCk7XG59O1xuXG5Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9yZWplY3QgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgdGhpcy5fdmFsdWVzID0gbnVsbDtcbiAgICB0aGlzLl9wcm9taXNlLl9yZWplY3RDYWxsYmFjayhyZWFzb24sIGZhbHNlKTtcbn07XG5cblByb21pc2VBcnJheS5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQgPSBmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG4gICAgdGhpcy5fdmFsdWVzW2luZGV4XSA9IHZhbHVlO1xuICAgIHZhciB0b3RhbFJlc29sdmVkID0gKyt0aGlzLl90b3RhbFJlc29sdmVkO1xuICAgIGlmICh0b3RhbFJlc29sdmVkID49IHRoaXMuX2xlbmd0aCkge1xuICAgICAgICB0aGlzLl9yZXNvbHZlKHRoaXMuX3ZhbHVlcyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG5Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9wcm9taXNlQ2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fY2FuY2VsKCk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9wcm9taXNlUmVqZWN0ZWQgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgdGhpcy5fdG90YWxSZXNvbHZlZCsrO1xuICAgIHRoaXMuX3JlamVjdChyZWFzb24pO1xuICAgIHJldHVybiB0cnVlO1xufTtcblxuUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX2lzUmVzb2x2ZWQoKSkgcmV0dXJuO1xuICAgIHZhciB2YWx1ZXMgPSB0aGlzLl92YWx1ZXM7XG4gICAgdGhpcy5fY2FuY2VsKCk7XG4gICAgaWYgKHZhbHVlcyBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgdmFsdWVzLmNhbmNlbCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAodmFsdWVzW2ldIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHZhbHVlc1tpXS5jYW5jZWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5cblByb21pc2VBcnJheS5wcm90b3R5cGUuc2hvdWxkQ29weVZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cblByb21pc2VBcnJheS5wcm90b3R5cGUuZ2V0QWN0dWFsTGVuZ3RoID0gZnVuY3Rpb24gKGxlbikge1xuICAgIHJldHVybiBsZW47XG59O1xuXG5yZXR1cm4gUHJvbWlzZUFycmF5O1xufTtcblxufSx7XCIuL3V0aWxcIjozNn1dLDI0OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLCBJTlRFUk5BTCkge1xudmFyIFRISVMgPSB7fTtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBub2RlYmFja0ZvclByb21pc2UgPSBfZGVyZXFfKFwiLi9ub2RlYmFja1wiKTtcbnZhciB3aXRoQXBwZW5kZWQgPSB1dGlsLndpdGhBcHBlbmRlZDtcbnZhciBtYXliZVdyYXBBc0Vycm9yID0gdXRpbC5tYXliZVdyYXBBc0Vycm9yO1xudmFyIGNhbkV2YWx1YXRlID0gdXRpbC5jYW5FdmFsdWF0ZTtcbnZhciBUeXBlRXJyb3IgPSBfZGVyZXFfKFwiLi9lcnJvcnNcIikuVHlwZUVycm9yO1xudmFyIGRlZmF1bHRTdWZmaXggPSBcIkFzeW5jXCI7XG52YXIgZGVmYXVsdFByb21pc2lmaWVkID0ge19faXNQcm9taXNpZmllZF9fOiB0cnVlfTtcbnZhciBub0NvcHlQcm9wcyA9IFtcbiAgICBcImFyaXR5XCIsICAgIFwibGVuZ3RoXCIsXG4gICAgXCJuYW1lXCIsXG4gICAgXCJhcmd1bWVudHNcIixcbiAgICBcImNhbGxlclwiLFxuICAgIFwiY2FsbGVlXCIsXG4gICAgXCJwcm90b3R5cGVcIixcbiAgICBcIl9faXNQcm9taXNpZmllZF9fXCJcbl07XG52YXIgbm9Db3B5UHJvcHNQYXR0ZXJuID0gbmV3IFJlZ0V4cChcIl4oPzpcIiArIG5vQ29weVByb3BzLmpvaW4oXCJ8XCIpICsgXCIpJFwiKTtcblxudmFyIGRlZmF1bHRGaWx0ZXIgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgcmV0dXJuIHV0aWwuaXNJZGVudGlmaWVyKG5hbWUpICYmXG4gICAgICAgIG5hbWUuY2hhckF0KDApICE9PSBcIl9cIiAmJlxuICAgICAgICBuYW1lICE9PSBcImNvbnN0cnVjdG9yXCI7XG59O1xuXG5mdW5jdGlvbiBwcm9wc0ZpbHRlcihrZXkpIHtcbiAgICByZXR1cm4gIW5vQ29weVByb3BzUGF0dGVybi50ZXN0KGtleSk7XG59XG5cbmZ1bmN0aW9uIGlzUHJvbWlzaWZpZWQoZm4pIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gZm4uX19pc1Byb21pc2lmaWVkX18gPT09IHRydWU7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGhhc1Byb21pc2lmaWVkKG9iaiwga2V5LCBzdWZmaXgpIHtcbiAgICB2YXIgdmFsID0gdXRpbC5nZXREYXRhUHJvcGVydHlPckRlZmF1bHQob2JqLCBrZXkgKyBzdWZmaXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQcm9taXNpZmllZCk7XG4gICAgcmV0dXJuIHZhbCA/IGlzUHJvbWlzaWZpZWQodmFsKSA6IGZhbHNlO1xufVxuZnVuY3Rpb24gY2hlY2tWYWxpZChyZXQsIHN1ZmZpeCwgc3VmZml4UmVnZXhwKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXQubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgdmFyIGtleSA9IHJldFtpXTtcbiAgICAgICAgaWYgKHN1ZmZpeFJlZ2V4cC50ZXN0KGtleSkpIHtcbiAgICAgICAgICAgIHZhciBrZXlXaXRob3V0QXN5bmNTdWZmaXggPSBrZXkucmVwbGFjZShzdWZmaXhSZWdleHAsIFwiXCIpO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByZXQubGVuZ3RoOyBqICs9IDIpIHtcbiAgICAgICAgICAgICAgICBpZiAocmV0W2pdID09PSBrZXlXaXRob3V0QXN5bmNTdWZmaXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBwcm9taXNpZnkgYW4gQVBJIHRoYXQgaGFzIG5vcm1hbCBtZXRob2RzIHdpdGggJyVzJy1zdWZmaXhcXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwiJXNcIiwgc3VmZml4KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwcm9taXNpZmlhYmxlTWV0aG9kcyhvYmosIHN1ZmZpeCwgc3VmZml4UmVnZXhwLCBmaWx0ZXIpIHtcbiAgICB2YXIga2V5cyA9IHV0aWwuaW5oZXJpdGVkRGF0YUtleXMob2JqKTtcbiAgICB2YXIgcmV0ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICB2YXIgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgICAgdmFyIHBhc3Nlc0RlZmF1bHRGaWx0ZXIgPSBmaWx0ZXIgPT09IGRlZmF1bHRGaWx0ZXJcbiAgICAgICAgICAgID8gdHJ1ZSA6IGRlZmF1bHRGaWx0ZXIoa2V5LCB2YWx1ZSwgb2JqKTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgICAgICAhaXNQcm9taXNpZmllZCh2YWx1ZSkgJiZcbiAgICAgICAgICAgICFoYXNQcm9taXNpZmllZChvYmosIGtleSwgc3VmZml4KSAmJlxuICAgICAgICAgICAgZmlsdGVyKGtleSwgdmFsdWUsIG9iaiwgcGFzc2VzRGVmYXVsdEZpbHRlcikpIHtcbiAgICAgICAgICAgIHJldC5wdXNoKGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNoZWNrVmFsaWQocmV0LCBzdWZmaXgsIHN1ZmZpeFJlZ2V4cCk7XG4gICAgcmV0dXJuIHJldDtcbn1cblxudmFyIGVzY2FwZUlkZW50UmVnZXggPSBmdW5jdGlvbihzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbJF0pLywgXCJcXFxcJFwiKTtcbn07XG5cbnZhciBtYWtlTm9kZVByb21pc2lmaWVkRXZhbDtcbmlmICghdHJ1ZSkge1xudmFyIHN3aXRjaENhc2VBcmd1bWVudE9yZGVyID0gZnVuY3Rpb24obGlrZWx5QXJndW1lbnRDb3VudCkge1xuICAgIHZhciByZXQgPSBbbGlrZWx5QXJndW1lbnRDb3VudF07XG4gICAgdmFyIG1pbiA9IE1hdGgubWF4KDAsIGxpa2VseUFyZ3VtZW50Q291bnQgLSAxIC0gMyk7XG4gICAgZm9yKHZhciBpID0gbGlrZWx5QXJndW1lbnRDb3VudCAtIDE7IGkgPj0gbWluOyAtLWkpIHtcbiAgICAgICAgcmV0LnB1c2goaSk7XG4gICAgfVxuICAgIGZvcih2YXIgaSA9IGxpa2VseUFyZ3VtZW50Q291bnQgKyAxOyBpIDw9IDM7ICsraSkge1xuICAgICAgICByZXQucHVzaChpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn07XG5cbnZhciBhcmd1bWVudFNlcXVlbmNlID0gZnVuY3Rpb24oYXJndW1lbnRDb3VudCkge1xuICAgIHJldHVybiB1dGlsLmZpbGxlZFJhbmdlKGFyZ3VtZW50Q291bnQsIFwiX2FyZ1wiLCBcIlwiKTtcbn07XG5cbnZhciBwYXJhbWV0ZXJEZWNsYXJhdGlvbiA9IGZ1bmN0aW9uKHBhcmFtZXRlckNvdW50KSB7XG4gICAgcmV0dXJuIHV0aWwuZmlsbGVkUmFuZ2UoXG4gICAgICAgIE1hdGgubWF4KHBhcmFtZXRlckNvdW50LCAzKSwgXCJfYXJnXCIsIFwiXCIpO1xufTtcblxudmFyIHBhcmFtZXRlckNvdW50ID0gZnVuY3Rpb24oZm4pIHtcbiAgICBpZiAodHlwZW9mIGZuLmxlbmd0aCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4oZm4ubGVuZ3RoLCAxMDIzICsgMSksIDApO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbn07XG5cbm1ha2VOb2RlUHJvbWlzaWZpZWRFdmFsID1cbmZ1bmN0aW9uKGNhbGxiYWNrLCByZWNlaXZlciwgb3JpZ2luYWxOYW1lLCBmbiwgXywgbXVsdGlBcmdzKSB7XG4gICAgdmFyIG5ld1BhcmFtZXRlckNvdW50ID0gTWF0aC5tYXgoMCwgcGFyYW1ldGVyQ291bnQoZm4pIC0gMSk7XG4gICAgdmFyIGFyZ3VtZW50T3JkZXIgPSBzd2l0Y2hDYXNlQXJndW1lbnRPcmRlcihuZXdQYXJhbWV0ZXJDb3VudCk7XG4gICAgdmFyIHNob3VsZFByb3h5VGhpcyA9IHR5cGVvZiBjYWxsYmFjayA9PT0gXCJzdHJpbmdcIiB8fCByZWNlaXZlciA9PT0gVEhJUztcblxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlQ2FsbEZvckFyZ3VtZW50Q291bnQoY291bnQpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudFNlcXVlbmNlKGNvdW50KS5qb2luKFwiLCBcIik7XG4gICAgICAgIHZhciBjb21tYSA9IGNvdW50ID4gMCA/IFwiLCBcIiA6IFwiXCI7XG4gICAgICAgIHZhciByZXQ7XG4gICAgICAgIGlmIChzaG91bGRQcm94eVRoaXMpIHtcbiAgICAgICAgICAgIHJldCA9IFwicmV0ID0gY2FsbGJhY2suY2FsbCh0aGlzLCB7e2FyZ3N9fSwgbm9kZWJhY2spOyBicmVhaztcXG5cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldCA9IHJlY2VpdmVyID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IFwicmV0ID0gY2FsbGJhY2soe3thcmdzfX0sIG5vZGViYWNrKTsgYnJlYWs7XFxuXCJcbiAgICAgICAgICAgICAgICA6IFwicmV0ID0gY2FsbGJhY2suY2FsbChyZWNlaXZlciwge3thcmdzfX0sIG5vZGViYWNrKTsgYnJlYWs7XFxuXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldC5yZXBsYWNlKFwie3thcmdzfX1cIiwgYXJncykucmVwbGFjZShcIiwgXCIsIGNvbW1hKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZW5lcmF0ZUFyZ3VtZW50U3dpdGNoQ2FzZSgpIHtcbiAgICAgICAgdmFyIHJldCA9IFwiXCI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRPcmRlci5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgcmV0ICs9IFwiY2FzZSBcIiArIGFyZ3VtZW50T3JkZXJbaV0gK1wiOlwiICtcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZUNhbGxGb3JBcmd1bWVudENvdW50KGFyZ3VtZW50T3JkZXJbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0ICs9IFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgIGRlZmF1bHQ6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICB2YXIgYXJncyA9IG5ldyBBcnJheShsZW4gKyAxKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICB2YXIgaSA9IDA7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBhcmdzW2ldID0gbm9kZWJhY2s7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBbQ29kZUZvckNhbGxdICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBicmVhazsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgIFwiLnJlcGxhY2UoXCJbQ29kZUZvckNhbGxdXCIsIChzaG91bGRQcm94eVRoaXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcInJldCA9IGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3MpO1xcblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJyZXQgPSBjYWxsYmFjay5hcHBseShyZWNlaXZlciwgYXJncyk7XFxuXCIpKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICB2YXIgZ2V0RnVuY3Rpb25Db2RlID0gdHlwZW9mIGNhbGxiYWNrID09PSBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKFwidGhpcyAhPSBudWxsID8gdGhpc1snXCIrY2FsbGJhY2srXCInXSA6IGZuXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJmblwiO1xuICAgIHZhciBib2R5ID0gXCIndXNlIHN0cmljdCc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgdmFyIHJldCA9IGZ1bmN0aW9uIChQYXJhbWV0ZXJzKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgICd1c2Ugc3RyaWN0JzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoSU5URVJOQUwpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgIHByb21pc2UuX2NhcHR1cmVTdGFja1RyYWNlKCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgIHZhciBub2RlYmFjayA9IG5vZGViYWNrRm9yUHJvbWlzZShwcm9taXNlLCBcIiArIG11bHRpQXJncyArIFwiKTsgICBcXG5cXFxuICAgICAgICAgICAgdmFyIHJldDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gdHJ5Q2F0Y2goW0dldEZ1bmN0aW9uQ29kZV0pOyAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgc3dpdGNoKGxlbikgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIFtDb2RlRm9yU3dpdGNoQ2FzZV0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgaWYgKHJldCA9PT0gZXJyb3JPYmopIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIHByb21pc2UuX3JlamVjdENhbGxiYWNrKG1heWJlV3JhcEFzRXJyb3IocmV0LmUpLCB0cnVlLCB0cnVlKTtcXG5cXFxuICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgaWYgKCFwcm9taXNlLl9pc0ZhdGVTZWFsZWQoKSkgcHJvbWlzZS5fc2V0QXN5bmNHdWFyYW50ZWVkKCk7ICAgICBcXG5cXFxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICB9OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICBub3RFbnVtZXJhYmxlUHJvcChyZXQsICdfX2lzUHJvbWlzaWZpZWRfXycsIHRydWUpOyAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICByZXR1cm4gcmV0OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgIFwiLnJlcGxhY2UoXCJbQ29kZUZvclN3aXRjaENhc2VdXCIsIGdlbmVyYXRlQXJndW1lbnRTd2l0Y2hDYXNlKCkpXG4gICAgICAgIC5yZXBsYWNlKFwiW0dldEZ1bmN0aW9uQ29kZV1cIiwgZ2V0RnVuY3Rpb25Db2RlKTtcbiAgICBib2R5ID0gYm9keS5yZXBsYWNlKFwiUGFyYW1ldGVyc1wiLCBwYXJhbWV0ZXJEZWNsYXJhdGlvbihuZXdQYXJhbWV0ZXJDb3VudCkpO1xuICAgIHJldHVybiBuZXcgRnVuY3Rpb24oXCJQcm9taXNlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImZuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInJlY2VpdmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIndpdGhBcHBlbmRlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJtYXliZVdyYXBBc0Vycm9yXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm5vZGViYWNrRm9yUHJvbWlzZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0cnlDYXRjaFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJlcnJvck9ialwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJub3RFbnVtZXJhYmxlUHJvcFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJJTlRFUk5BTFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keSkoXG4gICAgICAgICAgICAgICAgICAgIFByb21pc2UsXG4gICAgICAgICAgICAgICAgICAgIGZuLFxuICAgICAgICAgICAgICAgICAgICByZWNlaXZlcixcbiAgICAgICAgICAgICAgICAgICAgd2l0aEFwcGVuZGVkLFxuICAgICAgICAgICAgICAgICAgICBtYXliZVdyYXBBc0Vycm9yLFxuICAgICAgICAgICAgICAgICAgICBub2RlYmFja0ZvclByb21pc2UsXG4gICAgICAgICAgICAgICAgICAgIHV0aWwudHJ5Q2F0Y2gsXG4gICAgICAgICAgICAgICAgICAgIHV0aWwuZXJyb3JPYmosXG4gICAgICAgICAgICAgICAgICAgIHV0aWwubm90RW51bWVyYWJsZVByb3AsXG4gICAgICAgICAgICAgICAgICAgIElOVEVSTkFMKTtcbn07XG59XG5cbmZ1bmN0aW9uIG1ha2VOb2RlUHJvbWlzaWZpZWRDbG9zdXJlKGNhbGxiYWNrLCByZWNlaXZlciwgXywgZm4sIF9fLCBtdWx0aUFyZ3MpIHtcbiAgICB2YXIgZGVmYXVsdFRoaXMgPSAoZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXM7fSkoKTtcbiAgICB2YXIgbWV0aG9kID0gY2FsbGJhY2s7XG4gICAgaWYgKHR5cGVvZiBtZXRob2QgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBmbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJvbWlzaWZpZWQoKSB7XG4gICAgICAgIHZhciBfcmVjZWl2ZXIgPSByZWNlaXZlcjtcbiAgICAgICAgaWYgKHJlY2VpdmVyID09PSBUSElTKSBfcmVjZWl2ZXIgPSB0aGlzO1xuICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcbiAgICAgICAgcHJvbWlzZS5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcbiAgICAgICAgdmFyIGNiID0gdHlwZW9mIG1ldGhvZCA9PT0gXCJzdHJpbmdcIiAmJiB0aGlzICE9PSBkZWZhdWx0VGhpc1xuICAgICAgICAgICAgPyB0aGlzW21ldGhvZF0gOiBjYWxsYmFjaztcbiAgICAgICAgdmFyIGZuID0gbm9kZWJhY2tGb3JQcm9taXNlKHByb21pc2UsIG11bHRpQXJncyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjYi5hcHBseShfcmVjZWl2ZXIsIHdpdGhBcHBlbmRlZChhcmd1bWVudHMsIGZuKSk7XG4gICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2sobWF5YmVXcmFwQXNFcnJvcihlKSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwcm9taXNlLl9pc0ZhdGVTZWFsZWQoKSkgcHJvbWlzZS5fc2V0QXN5bmNHdWFyYW50ZWVkKCk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICB1dGlsLm5vdEVudW1lcmFibGVQcm9wKHByb21pc2lmaWVkLCBcIl9faXNQcm9taXNpZmllZF9fXCIsIHRydWUpO1xuICAgIHJldHVybiBwcm9taXNpZmllZDtcbn1cblxudmFyIG1ha2VOb2RlUHJvbWlzaWZpZWQgPSBjYW5FdmFsdWF0ZVxuICAgID8gbWFrZU5vZGVQcm9taXNpZmllZEV2YWxcbiAgICA6IG1ha2VOb2RlUHJvbWlzaWZpZWRDbG9zdXJlO1xuXG5mdW5jdGlvbiBwcm9taXNpZnlBbGwob2JqLCBzdWZmaXgsIGZpbHRlciwgcHJvbWlzaWZpZXIsIG11bHRpQXJncykge1xuICAgIHZhciBzdWZmaXhSZWdleHAgPSBuZXcgUmVnRXhwKGVzY2FwZUlkZW50UmVnZXgoc3VmZml4KSArIFwiJFwiKTtcbiAgICB2YXIgbWV0aG9kcyA9XG4gICAgICAgIHByb21pc2lmaWFibGVNZXRob2RzKG9iaiwgc3VmZml4LCBzdWZmaXhSZWdleHAsIGZpbHRlcik7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbWV0aG9kcy5sZW5ndGg7IGkgPCBsZW47IGkrPSAyKSB7XG4gICAgICAgIHZhciBrZXkgPSBtZXRob2RzW2ldO1xuICAgICAgICB2YXIgZm4gPSBtZXRob2RzW2krMV07XG4gICAgICAgIHZhciBwcm9taXNpZmllZEtleSA9IGtleSArIHN1ZmZpeDtcbiAgICAgICAgaWYgKHByb21pc2lmaWVyID09PSBtYWtlTm9kZVByb21pc2lmaWVkKSB7XG4gICAgICAgICAgICBvYmpbcHJvbWlzaWZpZWRLZXldID1cbiAgICAgICAgICAgICAgICBtYWtlTm9kZVByb21pc2lmaWVkKGtleSwgVEhJUywga2V5LCBmbiwgc3VmZml4LCBtdWx0aUFyZ3MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHByb21pc2lmaWVkID0gcHJvbWlzaWZpZXIoZm4sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlTm9kZVByb21pc2lmaWVkKGtleSwgVEhJUywga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZuLCBzdWZmaXgsIG11bHRpQXJncyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHV0aWwubm90RW51bWVyYWJsZVByb3AocHJvbWlzaWZpZWQsIFwiX19pc1Byb21pc2lmaWVkX19cIiwgdHJ1ZSk7XG4gICAgICAgICAgICBvYmpbcHJvbWlzaWZpZWRLZXldID0gcHJvbWlzaWZpZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXRpbC50b0Zhc3RQcm9wZXJ0aWVzKG9iaik7XG4gICAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gcHJvbWlzaWZ5KGNhbGxiYWNrLCByZWNlaXZlciwgbXVsdGlBcmdzKSB7XG4gICAgcmV0dXJuIG1ha2VOb2RlUHJvbWlzaWZpZWQoY2FsbGJhY2ssIHJlY2VpdmVyLCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLCBudWxsLCBtdWx0aUFyZ3MpO1xufVxuXG5Qcm9taXNlLnByb21pc2lmeSA9IGZ1bmN0aW9uIChmbiwgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZm4pKTtcbiAgICB9XG4gICAgaWYgKGlzUHJvbWlzaWZpZWQoZm4pKSB7XG4gICAgICAgIHJldHVybiBmbjtcbiAgICB9XG4gICAgb3B0aW9ucyA9IE9iamVjdChvcHRpb25zKTtcbiAgICB2YXIgcmVjZWl2ZXIgPSBvcHRpb25zLmNvbnRleHQgPT09IHVuZGVmaW5lZCA/IFRISVMgOiBvcHRpb25zLmNvbnRleHQ7XG4gICAgdmFyIG11bHRpQXJncyA9ICEhb3B0aW9ucy5tdWx0aUFyZ3M7XG4gICAgdmFyIHJldCA9IHByb21pc2lmeShmbiwgcmVjZWl2ZXIsIG11bHRpQXJncyk7XG4gICAgdXRpbC5jb3B5RGVzY3JpcHRvcnMoZm4sIHJldCwgcHJvcHNGaWx0ZXIpO1xuICAgIHJldHVybiByZXQ7XG59O1xuXG5Qcm9taXNlLnByb21pc2lmeUFsbCA9IGZ1bmN0aW9uICh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIHRhcmdldCAhPT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiB0YXJnZXQgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcInRoZSB0YXJnZXQgb2YgcHJvbWlzaWZ5QWxsIG11c3QgYmUgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb25cXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuICAgIH1cbiAgICBvcHRpb25zID0gT2JqZWN0KG9wdGlvbnMpO1xuICAgIHZhciBtdWx0aUFyZ3MgPSAhIW9wdGlvbnMubXVsdGlBcmdzO1xuICAgIHZhciBzdWZmaXggPSBvcHRpb25zLnN1ZmZpeDtcbiAgICBpZiAodHlwZW9mIHN1ZmZpeCAhPT0gXCJzdHJpbmdcIikgc3VmZml4ID0gZGVmYXVsdFN1ZmZpeDtcbiAgICB2YXIgZmlsdGVyID0gb3B0aW9ucy5maWx0ZXI7XG4gICAgaWYgKHR5cGVvZiBmaWx0ZXIgIT09IFwiZnVuY3Rpb25cIikgZmlsdGVyID0gZGVmYXVsdEZpbHRlcjtcbiAgICB2YXIgcHJvbWlzaWZpZXIgPSBvcHRpb25zLnByb21pc2lmaWVyO1xuICAgIGlmICh0eXBlb2YgcHJvbWlzaWZpZXIgIT09IFwiZnVuY3Rpb25cIikgcHJvbWlzaWZpZXIgPSBtYWtlTm9kZVByb21pc2lmaWVkO1xuXG4gICAgaWYgKCF1dGlsLmlzSWRlbnRpZmllcihzdWZmaXgpKSB7XG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwic3VmZml4IG11c3QgYmUgYSB2YWxpZCBpZGVudGlmaWVyXFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcbiAgICB9XG5cbiAgICB2YXIga2V5cyA9IHV0aWwuaW5oZXJpdGVkRGF0YUtleXModGFyZ2V0KTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGFyZ2V0W2tleXNbaV1dO1xuICAgICAgICBpZiAoa2V5c1tpXSAhPT0gXCJjb25zdHJ1Y3RvclwiICYmXG4gICAgICAgICAgICB1dGlsLmlzQ2xhc3ModmFsdWUpKSB7XG4gICAgICAgICAgICBwcm9taXNpZnlBbGwodmFsdWUucHJvdG90eXBlLCBzdWZmaXgsIGZpbHRlciwgcHJvbWlzaWZpZXIsXG4gICAgICAgICAgICAgICAgbXVsdGlBcmdzKTtcbiAgICAgICAgICAgIHByb21pc2lmeUFsbCh2YWx1ZSwgc3VmZml4LCBmaWx0ZXIsIHByb21pc2lmaWVyLCBtdWx0aUFyZ3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb21pc2lmeUFsbCh0YXJnZXQsIHN1ZmZpeCwgZmlsdGVyLCBwcm9taXNpZmllciwgbXVsdGlBcmdzKTtcbn07XG59O1xuXG5cbn0se1wiLi9lcnJvcnNcIjoxMixcIi4vbm9kZWJhY2tcIjoyMCxcIi4vdXRpbFwiOjM2fV0sMjU6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFxuICAgIFByb21pc2UsIFByb21pc2VBcnJheSwgdHJ5Q29udmVydFRvUHJvbWlzZSwgYXBpUmVqZWN0aW9uKSB7XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgaXNPYmplY3QgPSB1dGlsLmlzT2JqZWN0O1xudmFyIGVzNSA9IF9kZXJlcV8oXCIuL2VzNVwiKTtcbnZhciBFczZNYXA7XG5pZiAodHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiKSBFczZNYXAgPSBNYXA7XG5cbnZhciBtYXBUb0VudHJpZXMgPSAoZnVuY3Rpb24oKSB7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgc2l6ZSA9IDA7XG5cbiAgICBmdW5jdGlvbiBleHRyYWN0RW50cnkodmFsdWUsIGtleSkge1xuICAgICAgICB0aGlzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICB0aGlzW2luZGV4ICsgc2l6ZV0gPSBrZXk7XG4gICAgICAgIGluZGV4Kys7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1hcFRvRW50cmllcyhtYXApIHtcbiAgICAgICAgc2l6ZSA9IG1hcC5zaXplO1xuICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgIHZhciByZXQgPSBuZXcgQXJyYXkobWFwLnNpemUgKiAyKTtcbiAgICAgICAgbWFwLmZvckVhY2goZXh0cmFjdEVudHJ5LCByZXQpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG59KSgpO1xuXG52YXIgZW50cmllc1RvTWFwID0gZnVuY3Rpb24oZW50cmllcykge1xuICAgIHZhciByZXQgPSBuZXcgRXM2TWFwKCk7XG4gICAgdmFyIGxlbmd0aCA9IGVudHJpZXMubGVuZ3RoIC8gMiB8IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIga2V5ID0gZW50cmllc1tsZW5ndGggKyBpXTtcbiAgICAgICAgdmFyIHZhbHVlID0gZW50cmllc1tpXTtcbiAgICAgICAgcmV0LnNldChrZXksIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn07XG5cbmZ1bmN0aW9uIFByb3BlcnRpZXNQcm9taXNlQXJyYXkob2JqKSB7XG4gICAgdmFyIGlzTWFwID0gZmFsc2U7XG4gICAgdmFyIGVudHJpZXM7XG4gICAgaWYgKEVzNk1hcCAhPT0gdW5kZWZpbmVkICYmIG9iaiBpbnN0YW5jZW9mIEVzNk1hcCkge1xuICAgICAgICBlbnRyaWVzID0gbWFwVG9FbnRyaWVzKG9iaik7XG4gICAgICAgIGlzTWFwID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIga2V5cyA9IGVzNS5rZXlzKG9iaik7XG4gICAgICAgIHZhciBsZW4gPSBrZXlzLmxlbmd0aDtcbiAgICAgICAgZW50cmllcyA9IG5ldyBBcnJheShsZW4gKiAyKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICBlbnRyaWVzW2ldID0gb2JqW2tleV07XG4gICAgICAgICAgICBlbnRyaWVzW2kgKyBsZW5dID0ga2V5O1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMuY29uc3RydWN0b3IkKGVudHJpZXMpO1xuICAgIHRoaXMuX2lzTWFwID0gaXNNYXA7XG4gICAgdGhpcy5faW5pdCQodW5kZWZpbmVkLCAtMyk7XG59XG51dGlsLmluaGVyaXRzKFByb3BlcnRpZXNQcm9taXNlQXJyYXksIFByb21pc2VBcnJheSk7XG5cblByb3BlcnRpZXNQcm9taXNlQXJyYXkucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24gKCkge307XG5cblByb3BlcnRpZXNQcm9taXNlQXJyYXkucHJvdG90eXBlLl9wcm9taXNlRnVsZmlsbGVkID0gZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xuICAgIHRoaXMuX3ZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcbiAgICB2YXIgdG90YWxSZXNvbHZlZCA9ICsrdGhpcy5fdG90YWxSZXNvbHZlZDtcbiAgICBpZiAodG90YWxSZXNvbHZlZCA+PSB0aGlzLl9sZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbDtcbiAgICAgICAgaWYgKHRoaXMuX2lzTWFwKSB7XG4gICAgICAgICAgICB2YWwgPSBlbnRyaWVzVG9NYXAodGhpcy5fdmFsdWVzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbCA9IHt9O1xuICAgICAgICAgICAgdmFyIGtleU9mZnNldCA9IHRoaXMubGVuZ3RoKCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5sZW5ndGgoKTsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmFsW3RoaXMuX3ZhbHVlc1tpICsga2V5T2Zmc2V0XV0gPSB0aGlzLl92YWx1ZXNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVzb2x2ZSh2YWwpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuUHJvcGVydGllc1Byb21pc2VBcnJheS5wcm90b3R5cGUuc2hvdWxkQ29weVZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG5Qcm9wZXJ0aWVzUHJvbWlzZUFycmF5LnByb3RvdHlwZS5nZXRBY3R1YWxMZW5ndGggPSBmdW5jdGlvbiAobGVuKSB7XG4gICAgcmV0dXJuIGxlbiA+PiAxO1xufTtcblxuZnVuY3Rpb24gcHJvcHMocHJvbWlzZXMpIHtcbiAgICB2YXIgcmV0O1xuICAgIHZhciBjYXN0VmFsdWUgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHByb21pc2VzKTtcblxuICAgIGlmICghaXNPYmplY3QoY2FzdFZhbHVlKSkge1xuICAgICAgICByZXR1cm4gYXBpUmVqZWN0aW9uKFwiY2Fubm90IGF3YWl0IHByb3BlcnRpZXMgb2YgYSBub24tb2JqZWN0XFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcbiAgICB9IGVsc2UgaWYgKGNhc3RWYWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgcmV0ID0gY2FzdFZhbHVlLl90aGVuKFxuICAgICAgICAgICAgUHJvbWlzZS5wcm9wcywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXQgPSBuZXcgUHJvcGVydGllc1Byb21pc2VBcnJheShjYXN0VmFsdWUpLnByb21pc2UoKTtcbiAgICB9XG5cbiAgICBpZiAoY2FzdFZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICByZXQuX3Byb3BhZ2F0ZUZyb20oY2FzdFZhbHVlLCAyKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUucHJvcHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHByb3BzKHRoaXMpO1xufTtcblxuUHJvbWlzZS5wcm9wcyA9IGZ1bmN0aW9uIChwcm9taXNlcykge1xuICAgIHJldHVybiBwcm9wcyhwcm9taXNlcyk7XG59O1xufTtcblxufSx7XCIuL2VzNVwiOjEzLFwiLi91dGlsXCI6MzZ9XSwyNjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGFycmF5TW92ZShzcmMsIHNyY0luZGV4LCBkc3QsIGRzdEluZGV4LCBsZW4pIHtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxlbjsgKytqKSB7XG4gICAgICAgIGRzdFtqICsgZHN0SW5kZXhdID0gc3JjW2ogKyBzcmNJbmRleF07XG4gICAgICAgIHNyY1tqICsgc3JjSW5kZXhdID0gdm9pZCAwO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gUXVldWUoY2FwYWNpdHkpIHtcbiAgICB0aGlzLl9jYXBhY2l0eSA9IGNhcGFjaXR5O1xuICAgIHRoaXMuX2xlbmd0aCA9IDA7XG4gICAgdGhpcy5fZnJvbnQgPSAwO1xufVxuXG5RdWV1ZS5wcm90b3R5cGUuX3dpbGxCZU92ZXJDYXBhY2l0eSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhcGFjaXR5IDwgc2l6ZTtcbn07XG5cblF1ZXVlLnByb3RvdHlwZS5fcHVzaE9uZSA9IGZ1bmN0aW9uIChhcmcpIHtcbiAgICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGgoKTtcbiAgICB0aGlzLl9jaGVja0NhcGFjaXR5KGxlbmd0aCArIDEpO1xuICAgIHZhciBpID0gKHRoaXMuX2Zyb250ICsgbGVuZ3RoKSAmICh0aGlzLl9jYXBhY2l0eSAtIDEpO1xuICAgIHRoaXNbaV0gPSBhcmc7XG4gICAgdGhpcy5fbGVuZ3RoID0gbGVuZ3RoICsgMTtcbn07XG5cblF1ZXVlLnByb3RvdHlwZS5fdW5zaGlmdE9uZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIGNhcGFjaXR5ID0gdGhpcy5fY2FwYWNpdHk7XG4gICAgdGhpcy5fY2hlY2tDYXBhY2l0eSh0aGlzLmxlbmd0aCgpICsgMSk7XG4gICAgdmFyIGZyb250ID0gdGhpcy5fZnJvbnQ7XG4gICAgdmFyIGkgPSAoKCgoIGZyb250IC0gMSApICZcbiAgICAgICAgICAgICAgICAgICAgKCBjYXBhY2l0eSAtIDEpICkgXiBjYXBhY2l0eSApIC0gY2FwYWNpdHkgKTtcbiAgICB0aGlzW2ldID0gdmFsdWU7XG4gICAgdGhpcy5fZnJvbnQgPSBpO1xuICAgIHRoaXMuX2xlbmd0aCA9IHRoaXMubGVuZ3RoKCkgKyAxO1xufTtcblxuUXVldWUucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbihmbiwgcmVjZWl2ZXIsIGFyZykge1xuICAgIHRoaXMuX3Vuc2hpZnRPbmUoYXJnKTtcbiAgICB0aGlzLl91bnNoaWZ0T25lKHJlY2VpdmVyKTtcbiAgICB0aGlzLl91bnNoaWZ0T25lKGZuKTtcbn07XG5cblF1ZXVlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGZuLCByZWNlaXZlciwgYXJnKSB7XG4gICAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoKCkgKyAzO1xuICAgIGlmICh0aGlzLl93aWxsQmVPdmVyQ2FwYWNpdHkobGVuZ3RoKSkge1xuICAgICAgICB0aGlzLl9wdXNoT25lKGZuKTtcbiAgICAgICAgdGhpcy5fcHVzaE9uZShyZWNlaXZlcik7XG4gICAgICAgIHRoaXMuX3B1c2hPbmUoYXJnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgaiA9IHRoaXMuX2Zyb250ICsgbGVuZ3RoIC0gMztcbiAgICB0aGlzLl9jaGVja0NhcGFjaXR5KGxlbmd0aCk7XG4gICAgdmFyIHdyYXBNYXNrID0gdGhpcy5fY2FwYWNpdHkgLSAxO1xuICAgIHRoaXNbKGogKyAwKSAmIHdyYXBNYXNrXSA9IGZuO1xuICAgIHRoaXNbKGogKyAxKSAmIHdyYXBNYXNrXSA9IHJlY2VpdmVyO1xuICAgIHRoaXNbKGogKyAyKSAmIHdyYXBNYXNrXSA9IGFyZztcbiAgICB0aGlzLl9sZW5ndGggPSBsZW5ndGg7XG59O1xuXG5RdWV1ZS5wcm90b3R5cGUuc2hpZnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGZyb250ID0gdGhpcy5fZnJvbnQsXG4gICAgICAgIHJldCA9IHRoaXNbZnJvbnRdO1xuXG4gICAgdGhpc1tmcm9udF0gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fZnJvbnQgPSAoZnJvbnQgKyAxKSAmICh0aGlzLl9jYXBhY2l0eSAtIDEpO1xuICAgIHRoaXMuX2xlbmd0aC0tO1xuICAgIHJldHVybiByZXQ7XG59O1xuXG5RdWV1ZS5wcm90b3R5cGUubGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9sZW5ndGg7XG59O1xuXG5RdWV1ZS5wcm90b3R5cGUuX2NoZWNrQ2FwYWNpdHkgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgIGlmICh0aGlzLl9jYXBhY2l0eSA8IHNpemUpIHtcbiAgICAgICAgdGhpcy5fcmVzaXplVG8odGhpcy5fY2FwYWNpdHkgPDwgMSk7XG4gICAgfVxufTtcblxuUXVldWUucHJvdG90eXBlLl9yZXNpemVUbyA9IGZ1bmN0aW9uIChjYXBhY2l0eSkge1xuICAgIHZhciBvbGRDYXBhY2l0eSA9IHRoaXMuX2NhcGFjaXR5O1xuICAgIHRoaXMuX2NhcGFjaXR5ID0gY2FwYWNpdHk7XG4gICAgdmFyIGZyb250ID0gdGhpcy5fZnJvbnQ7XG4gICAgdmFyIGxlbmd0aCA9IHRoaXMuX2xlbmd0aDtcbiAgICB2YXIgbW92ZUl0ZW1zQ291bnQgPSAoZnJvbnQgKyBsZW5ndGgpICYgKG9sZENhcGFjaXR5IC0gMSk7XG4gICAgYXJyYXlNb3ZlKHRoaXMsIDAsIHRoaXMsIG9sZENhcGFjaXR5LCBtb3ZlSXRlbXNDb3VudCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFF1ZXVlO1xuXG59LHt9XSwyNzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oXG4gICAgUHJvbWlzZSwgSU5URVJOQUwsIHRyeUNvbnZlcnRUb1Byb21pc2UsIGFwaVJlamVjdGlvbikge1xudmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXG52YXIgcmFjZUxhdGVyID0gZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICAgIHJldHVybiByYWNlKGFycmF5LCBwcm9taXNlKTtcbiAgICB9KTtcbn07XG5cbmZ1bmN0aW9uIHJhY2UocHJvbWlzZXMsIHBhcmVudCkge1xuICAgIHZhciBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHByb21pc2VzKTtcblxuICAgIGlmIChtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHJldHVybiByYWNlTGF0ZXIobWF5YmVQcm9taXNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBwcm9taXNlcyA9IHV0aWwuYXNBcnJheShwcm9taXNlcyk7XG4gICAgICAgIGlmIChwcm9taXNlcyA9PT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBhcGlSZWplY3Rpb24oXCJleHBlY3RpbmcgYW4gYXJyYXkgb3IgYW4gaXRlcmFibGUgb2JqZWN0IGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKHByb21pc2VzKSk7XG4gICAgfVxuXG4gICAgdmFyIHJldCA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcbiAgICBpZiAocGFyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0Ll9wcm9wYWdhdGVGcm9tKHBhcmVudCwgMyk7XG4gICAgfVxuICAgIHZhciBmdWxmaWxsID0gcmV0Ll9mdWxmaWxsO1xuICAgIHZhciByZWplY3QgPSByZXQuX3JlamVjdDtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcHJvbWlzZXMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgdmFyIHZhbCA9IHByb21pc2VzW2ldO1xuXG4gICAgICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCAmJiAhKGkgaW4gcHJvbWlzZXMpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIFByb21pc2UuY2FzdCh2YWwpLl90aGVuKGZ1bGZpbGwsIHJlamVjdCwgdW5kZWZpbmVkLCByZXQsIG51bGwpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuXG5Qcm9taXNlLnJhY2UgPSBmdW5jdGlvbiAocHJvbWlzZXMpIHtcbiAgICByZXR1cm4gcmFjZShwcm9taXNlcywgdW5kZWZpbmVkKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnJhY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHJhY2UodGhpcywgdW5kZWZpbmVkKTtcbn07XG5cbn07XG5cbn0se1wiLi91dGlsXCI6MzZ9XSwyODpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvbWlzZUFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhcGlSZWplY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRyeUNvbnZlcnRUb1Byb21pc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIElOVEVSTkFMLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkZWJ1Zykge1xudmFyIGdldERvbWFpbiA9IFByb21pc2UuX2dldERvbWFpbjtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciB0cnlDYXRjaCA9IHV0aWwudHJ5Q2F0Y2g7XG5cbmZ1bmN0aW9uIFJlZHVjdGlvblByb21pc2VBcnJheShwcm9taXNlcywgZm4sIGluaXRpYWxWYWx1ZSwgX2VhY2gpIHtcbiAgICB0aGlzLmNvbnN0cnVjdG9yJChwcm9taXNlcyk7XG4gICAgdmFyIGRvbWFpbiA9IGdldERvbWFpbigpO1xuICAgIHRoaXMuX2ZuID0gZG9tYWluID09PSBudWxsID8gZm4gOiB1dGlsLmRvbWFpbkJpbmQoZG9tYWluLCBmbik7XG4gICAgaWYgKGluaXRpYWxWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluaXRpYWxWYWx1ZSA9IFByb21pc2UucmVzb2x2ZShpbml0aWFsVmFsdWUpO1xuICAgICAgICBpbml0aWFsVmFsdWUuX2F0dGFjaENhbmNlbGxhdGlvbkNhbGxiYWNrKHRoaXMpO1xuICAgIH1cbiAgICB0aGlzLl9pbml0aWFsVmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gICAgdGhpcy5fY3VycmVudENhbmNlbGxhYmxlID0gbnVsbDtcbiAgICBpZihfZWFjaCA9PT0gSU5URVJOQUwpIHtcbiAgICAgICAgdGhpcy5fZWFjaFZhbHVlcyA9IEFycmF5KHRoaXMuX2xlbmd0aCk7XG4gICAgfSBlbHNlIGlmIChfZWFjaCA9PT0gMCkge1xuICAgICAgICB0aGlzLl9lYWNoVmFsdWVzID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9lYWNoVmFsdWVzID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB0aGlzLl9wcm9taXNlLl9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuICAgIHRoaXMuX2luaXQkKHVuZGVmaW5lZCwgLTUpO1xufVxudXRpbC5pbmhlcml0cyhSZWR1Y3Rpb25Qcm9taXNlQXJyYXksIFByb21pc2VBcnJheSk7XG5cblJlZHVjdGlvblByb21pc2VBcnJheS5wcm90b3R5cGUuX2dvdEFjY3VtID0gZnVuY3Rpb24oYWNjdW0pIHtcbiAgICBpZiAodGhpcy5fZWFjaFZhbHVlcyAhPT0gdW5kZWZpbmVkICYmIFxuICAgICAgICB0aGlzLl9lYWNoVmFsdWVzICE9PSBudWxsICYmIFxuICAgICAgICBhY2N1bSAhPT0gSU5URVJOQUwpIHtcbiAgICAgICAgdGhpcy5fZWFjaFZhbHVlcy5wdXNoKGFjY3VtKTtcbiAgICB9XG59O1xuXG5SZWR1Y3Rpb25Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9lYWNoQ29tcGxldGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9lYWNoVmFsdWVzICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX2VhY2hWYWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9lYWNoVmFsdWVzO1xufTtcblxuUmVkdWN0aW9uUHJvbWlzZUFycmF5LnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uKCkge307XG5cblJlZHVjdGlvblByb21pc2VBcnJheS5wcm90b3R5cGUuX3Jlc29sdmVFbXB0eUFycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fcmVzb2x2ZSh0aGlzLl9lYWNoVmFsdWVzICE9PSB1bmRlZmluZWQgPyB0aGlzLl9lYWNoVmFsdWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLl9pbml0aWFsVmFsdWUpO1xufTtcblxuUmVkdWN0aW9uUHJvbWlzZUFycmF5LnByb3RvdHlwZS5zaG91bGRDb3B5VmFsdWVzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTtcbn07XG5cblJlZHVjdGlvblByb21pc2VBcnJheS5wcm90b3R5cGUuX3Jlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHRoaXMuX3Byb21pc2UuX3Jlc29sdmVDYWxsYmFjayh2YWx1ZSk7XG4gICAgdGhpcy5fdmFsdWVzID0gbnVsbDtcbn07XG5cblJlZHVjdGlvblByb21pc2VBcnJheS5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZCA9IGZ1bmN0aW9uKHNlbmRlcikge1xuICAgIGlmIChzZW5kZXIgPT09IHRoaXMuX2luaXRpYWxWYWx1ZSkgcmV0dXJuIHRoaXMuX2NhbmNlbCgpO1xuICAgIGlmICh0aGlzLl9pc1Jlc29sdmVkKCkpIHJldHVybjtcbiAgICB0aGlzLl9yZXN1bHRDYW5jZWxsZWQkKCk7XG4gICAgaWYgKHRoaXMuX2N1cnJlbnRDYW5jZWxsYWJsZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgdGhpcy5fY3VycmVudENhbmNlbGxhYmxlLmNhbmNlbCgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5faW5pdGlhbFZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICB0aGlzLl9pbml0aWFsVmFsdWUuY2FuY2VsKCk7XG4gICAgfVxufTtcblxuUmVkdWN0aW9uUHJvbWlzZUFycmF5LnByb3RvdHlwZS5faXRlcmF0ZSA9IGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICB0aGlzLl92YWx1ZXMgPSB2YWx1ZXM7XG4gICAgdmFyIHZhbHVlO1xuICAgIHZhciBpO1xuICAgIHZhciBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuICAgIGlmICh0aGlzLl9pbml0aWFsVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZSA9IHRoaXMuX2luaXRpYWxWYWx1ZTtcbiAgICAgICAgaSA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSBQcm9taXNlLnJlc29sdmUodmFsdWVzWzBdKTtcbiAgICAgICAgaSA9IDE7XG4gICAgfVxuXG4gICAgdGhpcy5fY3VycmVudENhbmNlbGxhYmxlID0gdmFsdWU7XG5cbiAgICBpZiAoIXZhbHVlLmlzUmVqZWN0ZWQoKSkge1xuICAgICAgICBmb3IgKDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgY3R4ID0ge1xuICAgICAgICAgICAgICAgIGFjY3VtOiBudWxsLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZXNbaV0sXG4gICAgICAgICAgICAgICAgaW5kZXg6IGksXG4gICAgICAgICAgICAgICAgbGVuZ3RoOiBsZW5ndGgsXG4gICAgICAgICAgICAgICAgYXJyYXk6IHRoaXNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLl90aGVuKGdvdEFjY3VtLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgY3R4LCB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2VhY2hWYWx1ZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlXG4gICAgICAgICAgICAuX3RoZW4odGhpcy5fZWFjaENvbXBsZXRlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdGhpcywgdW5kZWZpbmVkKTtcbiAgICB9XG4gICAgdmFsdWUuX3RoZW4oY29tcGxldGVkLCBjb21wbGV0ZWQsIHVuZGVmaW5lZCwgdmFsdWUsIHRoaXMpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUucmVkdWNlID0gZnVuY3Rpb24gKGZuLCBpbml0aWFsVmFsdWUpIHtcbiAgICByZXR1cm4gcmVkdWNlKHRoaXMsIGZuLCBpbml0aWFsVmFsdWUsIG51bGwpO1xufTtcblxuUHJvbWlzZS5yZWR1Y2UgPSBmdW5jdGlvbiAocHJvbWlzZXMsIGZuLCBpbml0aWFsVmFsdWUsIF9lYWNoKSB7XG4gICAgcmV0dXJuIHJlZHVjZShwcm9taXNlcywgZm4sIGluaXRpYWxWYWx1ZSwgX2VhY2gpO1xufTtcblxuZnVuY3Rpb24gY29tcGxldGVkKHZhbHVlT3JSZWFzb24sIGFycmF5KSB7XG4gICAgaWYgKHRoaXMuaXNGdWxmaWxsZWQoKSkge1xuICAgICAgICBhcnJheS5fcmVzb2x2ZSh2YWx1ZU9yUmVhc29uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBhcnJheS5fcmVqZWN0KHZhbHVlT3JSZWFzb24pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcmVkdWNlKHByb21pc2VzLCBmbiwgaW5pdGlhbFZhbHVlLCBfZWFjaCkge1xuICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gYXBpUmVqZWN0aW9uKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZm4pKTtcbiAgICB9XG4gICAgdmFyIGFycmF5ID0gbmV3IFJlZHVjdGlvblByb21pc2VBcnJheShwcm9taXNlcywgZm4sIGluaXRpYWxWYWx1ZSwgX2VhY2gpO1xuICAgIHJldHVybiBhcnJheS5wcm9taXNlKCk7XG59XG5cbmZ1bmN0aW9uIGdvdEFjY3VtKGFjY3VtKSB7XG4gICAgdGhpcy5hY2N1bSA9IGFjY3VtO1xuICAgIHRoaXMuYXJyYXkuX2dvdEFjY3VtKGFjY3VtKTtcbiAgICB2YXIgdmFsdWUgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHRoaXMudmFsdWUsIHRoaXMuYXJyYXkuX3Byb21pc2UpO1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgdGhpcy5hcnJheS5fY3VycmVudENhbmNlbGxhYmxlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB2YWx1ZS5fdGhlbihnb3RWYWx1ZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHRoaXMsIHVuZGVmaW5lZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGdvdFZhbHVlLmNhbGwodGhpcywgdmFsdWUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ290VmFsdWUodmFsdWUpIHtcbiAgICB2YXIgYXJyYXkgPSB0aGlzLmFycmF5O1xuICAgIHZhciBwcm9taXNlID0gYXJyYXkuX3Byb21pc2U7XG4gICAgdmFyIGZuID0gdHJ5Q2F0Y2goYXJyYXkuX2ZuKTtcbiAgICBwcm9taXNlLl9wdXNoQ29udGV4dCgpO1xuICAgIHZhciByZXQ7XG4gICAgaWYgKGFycmF5Ll9lYWNoVmFsdWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0ID0gZm4uY2FsbChwcm9taXNlLl9ib3VuZFZhbHVlKCksIHZhbHVlLCB0aGlzLmluZGV4LCB0aGlzLmxlbmd0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0ID0gZm4uY2FsbChwcm9taXNlLl9ib3VuZFZhbHVlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjY3VtLCB2YWx1ZSwgdGhpcy5pbmRleCwgdGhpcy5sZW5ndGgpO1xuICAgIH1cbiAgICBpZiAocmV0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICBhcnJheS5fY3VycmVudENhbmNlbGxhYmxlID0gcmV0O1xuICAgIH1cbiAgICB2YXIgcHJvbWlzZUNyZWF0ZWQgPSBwcm9taXNlLl9wb3BDb250ZXh0KCk7XG4gICAgZGVidWcuY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zKFxuICAgICAgICByZXQsXG4gICAgICAgIHByb21pc2VDcmVhdGVkLFxuICAgICAgICBhcnJheS5fZWFjaFZhbHVlcyAhPT0gdW5kZWZpbmVkID8gXCJQcm9taXNlLmVhY2hcIiA6IFwiUHJvbWlzZS5yZWR1Y2VcIixcbiAgICAgICAgcHJvbWlzZVxuICAgICk7XG4gICAgcmV0dXJuIHJldDtcbn1cbn07XG5cbn0se1wiLi91dGlsXCI6MzZ9XSwyOTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBzY2hlZHVsZTtcbnZhciBub0FzeW5jU2NoZWR1bGVyID0gZnVuY3Rpb24oKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYXN5bmMgc2NoZWR1bGVyIGF2YWlsYWJsZVxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG59O1xudmFyIE5hdGl2ZVByb21pc2UgPSB1dGlsLmdldE5hdGl2ZVByb21pc2UoKTtcbmlmICh1dGlsLmlzTm9kZSAmJiB0eXBlb2YgTXV0YXRpb25PYnNlcnZlciA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBHbG9iYWxTZXRJbW1lZGlhdGUgPSBnbG9iYWwuc2V0SW1tZWRpYXRlO1xuICAgIHZhciBQcm9jZXNzTmV4dFRpY2sgPSBwcm9jZXNzLm5leHRUaWNrO1xuICAgIHNjaGVkdWxlID0gdXRpbC5pc1JlY2VudE5vZGVcbiAgICAgICAgICAgICAgICA/IGZ1bmN0aW9uKGZuKSB7IEdsb2JhbFNldEltbWVkaWF0ZS5jYWxsKGdsb2JhbCwgZm4pOyB9XG4gICAgICAgICAgICAgICAgOiBmdW5jdGlvbihmbikgeyBQcm9jZXNzTmV4dFRpY2suY2FsbChwcm9jZXNzLCBmbik7IH07XG59IGVsc2UgaWYgKHR5cGVvZiBOYXRpdmVQcm9taXNlID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgICAgdHlwZW9mIE5hdGl2ZVByb21pc2UucmVzb2x2ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIG5hdGl2ZVByb21pc2UgPSBOYXRpdmVQcm9taXNlLnJlc29sdmUoKTtcbiAgICBzY2hlZHVsZSA9IGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgIG5hdGl2ZVByb21pc2UudGhlbihmbik7XG4gICAgfTtcbn0gZWxzZSBpZiAoKHR5cGVvZiBNdXRhdGlvbk9ic2VydmVyICE9PSBcInVuZGVmaW5lZFwiKSAmJlxuICAgICAgICAgICEodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICAgICAgICAgd2luZG93Lm5hdmlnYXRvciAmJlxuICAgICAgICAgICAgKHdpbmRvdy5uYXZpZ2F0b3Iuc3RhbmRhbG9uZSB8fCB3aW5kb3cuY29yZG92YSkpKSB7XG4gICAgc2NoZWR1bGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB2YXIgb3B0cyA9IHthdHRyaWJ1dGVzOiB0cnVlfTtcbiAgICAgICAgdmFyIHRvZ2dsZVNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgZGl2MiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHZhciBvMiA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZGl2LmNsYXNzTGlzdC50b2dnbGUoXCJmb29cIik7XG4gICAgICAgICAgICB0b2dnbGVTY2hlZHVsZWQgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIG8yLm9ic2VydmUoZGl2Miwgb3B0cyk7XG5cbiAgICAgICAgdmFyIHNjaGVkdWxlVG9nZ2xlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodG9nZ2xlU2NoZWR1bGVkKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdG9nZ2xlU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBkaXYyLmNsYXNzTGlzdC50b2dnbGUoXCJmb29cIik7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gc2NoZWR1bGUoZm4pIHtcbiAgICAgICAgICAgIHZhciBvID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgby5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgby5vYnNlcnZlKGRpdiwgb3B0cyk7XG4gICAgICAgICAgICBzY2hlZHVsZVRvZ2dsZSgpO1xuICAgICAgICB9O1xuICAgIH0pKCk7XG59IGVsc2UgaWYgKHR5cGVvZiBzZXRJbW1lZGlhdGUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBzY2hlZHVsZSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICBzZXRJbW1lZGlhdGUoZm4pO1xuICAgIH07XG59IGVsc2UgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgc2NoZWR1bGUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgc2V0VGltZW91dChmbiwgMCk7XG4gICAgfTtcbn0gZWxzZSB7XG4gICAgc2NoZWR1bGUgPSBub0FzeW5jU2NoZWR1bGVyO1xufVxubW9kdWxlLmV4cG9ydHMgPSBzY2hlZHVsZTtcblxufSx7XCIuL3V0aWxcIjozNn1dLDMwOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPVxuICAgIGZ1bmN0aW9uKFByb21pc2UsIFByb21pc2VBcnJheSwgZGVidWcpIHtcbnZhciBQcm9taXNlSW5zcGVjdGlvbiA9IFByb21pc2UuUHJvbWlzZUluc3BlY3Rpb247XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cbmZ1bmN0aW9uIFNldHRsZWRQcm9taXNlQXJyYXkodmFsdWVzKSB7XG4gICAgdGhpcy5jb25zdHJ1Y3RvciQodmFsdWVzKTtcbn1cbnV0aWwuaW5oZXJpdHMoU2V0dGxlZFByb21pc2VBcnJheSwgUHJvbWlzZUFycmF5KTtcblxuU2V0dGxlZFByb21pc2VBcnJheS5wcm90b3R5cGUuX3Byb21pc2VSZXNvbHZlZCA9IGZ1bmN0aW9uIChpbmRleCwgaW5zcGVjdGlvbikge1xuICAgIHRoaXMuX3ZhbHVlc1tpbmRleF0gPSBpbnNwZWN0aW9uO1xuICAgIHZhciB0b3RhbFJlc29sdmVkID0gKyt0aGlzLl90b3RhbFJlc29sdmVkO1xuICAgIGlmICh0b3RhbFJlc29sdmVkID49IHRoaXMuX2xlbmd0aCkge1xuICAgICAgICB0aGlzLl9yZXNvbHZlKHRoaXMuX3ZhbHVlcyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG5TZXR0bGVkUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZUZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcbiAgICB2YXIgcmV0ID0gbmV3IFByb21pc2VJbnNwZWN0aW9uKCk7XG4gICAgcmV0Ll9iaXRGaWVsZCA9IDMzNTU0NDMyO1xuICAgIHJldC5fc2V0dGxlZFZhbHVlRmllbGQgPSB2YWx1ZTtcbiAgICByZXR1cm4gdGhpcy5fcHJvbWlzZVJlc29sdmVkKGluZGV4LCByZXQpO1xufTtcblNldHRsZWRQcm9taXNlQXJyYXkucHJvdG90eXBlLl9wcm9taXNlUmVqZWN0ZWQgPSBmdW5jdGlvbiAocmVhc29uLCBpbmRleCkge1xuICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZUluc3BlY3Rpb24oKTtcbiAgICByZXQuX2JpdEZpZWxkID0gMTY3NzcyMTY7XG4gICAgcmV0Ll9zZXR0bGVkVmFsdWVGaWVsZCA9IHJlYXNvbjtcbiAgICByZXR1cm4gdGhpcy5fcHJvbWlzZVJlc29sdmVkKGluZGV4LCByZXQpO1xufTtcblxuUHJvbWlzZS5zZXR0bGUgPSBmdW5jdGlvbiAocHJvbWlzZXMpIHtcbiAgICBkZWJ1Zy5kZXByZWNhdGVkKFwiLnNldHRsZSgpXCIsIFwiLnJlZmxlY3QoKVwiKTtcbiAgICByZXR1cm4gbmV3IFNldHRsZWRQcm9taXNlQXJyYXkocHJvbWlzZXMpLnByb21pc2UoKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnNldHRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5zZXR0bGUodGhpcyk7XG59O1xufTtcblxufSx7XCIuL3V0aWxcIjozNn1dLDMxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPVxuZnVuY3Rpb24oUHJvbWlzZSwgUHJvbWlzZUFycmF5LCBhcGlSZWplY3Rpb24pIHtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBSYW5nZUVycm9yID0gX2RlcmVxXyhcIi4vZXJyb3JzXCIpLlJhbmdlRXJyb3I7XG52YXIgQWdncmVnYXRlRXJyb3IgPSBfZGVyZXFfKFwiLi9lcnJvcnNcIikuQWdncmVnYXRlRXJyb3I7XG52YXIgaXNBcnJheSA9IHV0aWwuaXNBcnJheTtcbnZhciBDQU5DRUxMQVRJT04gPSB7fTtcblxuXG5mdW5jdGlvbiBTb21lUHJvbWlzZUFycmF5KHZhbHVlcykge1xuICAgIHRoaXMuY29uc3RydWN0b3IkKHZhbHVlcyk7XG4gICAgdGhpcy5faG93TWFueSA9IDA7XG4gICAgdGhpcy5fdW53cmFwID0gZmFsc2U7XG4gICAgdGhpcy5faW5pdGlhbGl6ZWQgPSBmYWxzZTtcbn1cbnV0aWwuaW5oZXJpdHMoU29tZVByb21pc2VBcnJheSwgUHJvbWlzZUFycmF5KTtcblxuU29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLl9pbml0aWFsaXplZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLl9ob3dNYW55ID09PSAwKSB7XG4gICAgICAgIHRoaXMuX3Jlc29sdmUoW10pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2luaXQkKHVuZGVmaW5lZCwgLTUpO1xuICAgIHZhciBpc0FycmF5UmVzb2x2ZWQgPSBpc0FycmF5KHRoaXMuX3ZhbHVlcyk7XG4gICAgaWYgKCF0aGlzLl9pc1Jlc29sdmVkKCkgJiZcbiAgICAgICAgaXNBcnJheVJlc29sdmVkICYmXG4gICAgICAgIHRoaXMuX2hvd01hbnkgPiB0aGlzLl9jYW5Qb3NzaWJseUZ1bGZpbGwoKSkge1xuICAgICAgICB0aGlzLl9yZWplY3QodGhpcy5fZ2V0UmFuZ2VFcnJvcih0aGlzLmxlbmd0aCgpKSk7XG4gICAgfVxufTtcblxuU29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgdGhpcy5faW5pdCgpO1xufTtcblxuU29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuc2V0VW53cmFwID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX3Vud3JhcCA9IHRydWU7XG59O1xuXG5Tb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5ob3dNYW55ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9ob3dNYW55O1xufTtcblxuU29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuc2V0SG93TWFueSA9IGZ1bmN0aW9uIChjb3VudCkge1xuICAgIHRoaXMuX2hvd01hbnkgPSBjb3VudDtcbn07XG5cblNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9wcm9taXNlRnVsZmlsbGVkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdGhpcy5fYWRkRnVsZmlsbGVkKHZhbHVlKTtcbiAgICBpZiAodGhpcy5fZnVsZmlsbGVkKCkgPT09IHRoaXMuaG93TWFueSgpKSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlcy5sZW5ndGggPSB0aGlzLmhvd01hbnkoKTtcbiAgICAgICAgaWYgKHRoaXMuaG93TWFueSgpID09PSAxICYmIHRoaXMuX3Vud3JhcCkge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSh0aGlzLl92YWx1ZXNbMF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSh0aGlzLl92YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG5cbn07XG5Tb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZVJlamVjdGVkID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHRoaXMuX2FkZFJlamVjdGVkKHJlYXNvbik7XG4gICAgcmV0dXJuIHRoaXMuX2NoZWNrT3V0Y29tZSgpO1xufTtcblxuU29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuX3Byb21pc2VDYW5jZWxsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuX3ZhbHVlcyBpbnN0YW5jZW9mIFByb21pc2UgfHwgdGhpcy5fdmFsdWVzID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbmNlbCgpO1xuICAgIH1cbiAgICB0aGlzLl9hZGRSZWplY3RlZChDQU5DRUxMQVRJT04pO1xuICAgIHJldHVybiB0aGlzLl9jaGVja091dGNvbWUoKTtcbn07XG5cblNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9jaGVja091dGNvbWUgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5ob3dNYW55KCkgPiB0aGlzLl9jYW5Qb3NzaWJseUZ1bGZpbGwoKSkge1xuICAgICAgICB2YXIgZSA9IG5ldyBBZ2dyZWdhdGVFcnJvcigpO1xuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5sZW5ndGgoKTsgaSA8IHRoaXMuX3ZhbHVlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3ZhbHVlc1tpXSAhPT0gQ0FOQ0VMTEFUSU9OKSB7XG4gICAgICAgICAgICAgICAgZS5wdXNoKHRoaXMuX3ZhbHVlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fcmVqZWN0KGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cblNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9mdWxmaWxsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RvdGFsUmVzb2x2ZWQ7XG59O1xuXG5Tb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcmVqZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlcy5sZW5ndGggLSB0aGlzLmxlbmd0aCgpO1xufTtcblxuU29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuX2FkZFJlamVjdGVkID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHRoaXMuX3ZhbHVlcy5wdXNoKHJlYXNvbik7XG59O1xuXG5Tb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fYWRkRnVsZmlsbGVkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdGhpcy5fdmFsdWVzW3RoaXMuX3RvdGFsUmVzb2x2ZWQrK10gPSB2YWx1ZTtcbn07XG5cblNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9jYW5Qb3NzaWJseUZ1bGZpbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubGVuZ3RoKCkgLSB0aGlzLl9yZWplY3RlZCgpO1xufTtcblxuU29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuX2dldFJhbmdlRXJyb3IgPSBmdW5jdGlvbiAoY291bnQpIHtcbiAgICB2YXIgbWVzc2FnZSA9IFwiSW5wdXQgYXJyYXkgbXVzdCBjb250YWluIGF0IGxlYXN0IFwiICtcbiAgICAgICAgICAgIHRoaXMuX2hvd01hbnkgKyBcIiBpdGVtcyBidXQgY29udGFpbnMgb25seSBcIiArIGNvdW50ICsgXCIgaXRlbXNcIjtcbiAgICByZXR1cm4gbmV3IFJhbmdlRXJyb3IobWVzc2FnZSk7XG59O1xuXG5Tb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcmVzb2x2ZUVtcHR5QXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fcmVqZWN0KHRoaXMuX2dldFJhbmdlRXJyb3IoMCkpO1xufTtcblxuZnVuY3Rpb24gc29tZShwcm9taXNlcywgaG93TWFueSkge1xuICAgIGlmICgoaG93TWFueSB8IDApICE9PSBob3dNYW55IHx8IGhvd01hbnkgPCAwKSB7XG4gICAgICAgIHJldHVybiBhcGlSZWplY3Rpb24oXCJleHBlY3RpbmcgYSBwb3NpdGl2ZSBpbnRlZ2VyXFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcbiAgICB9XG4gICAgdmFyIHJldCA9IG5ldyBTb21lUHJvbWlzZUFycmF5KHByb21pc2VzKTtcbiAgICB2YXIgcHJvbWlzZSA9IHJldC5wcm9taXNlKCk7XG4gICAgcmV0LnNldEhvd01hbnkoaG93TWFueSk7XG4gICAgcmV0LmluaXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuUHJvbWlzZS5zb21lID0gZnVuY3Rpb24gKHByb21pc2VzLCBob3dNYW55KSB7XG4gICAgcmV0dXJuIHNvbWUocHJvbWlzZXMsIGhvd01hbnkpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuc29tZSA9IGZ1bmN0aW9uIChob3dNYW55KSB7XG4gICAgcmV0dXJuIHNvbWUodGhpcywgaG93TWFueSk7XG59O1xuXG5Qcm9taXNlLl9Tb21lUHJvbWlzZUFycmF5ID0gU29tZVByb21pc2VBcnJheTtcbn07XG5cbn0se1wiLi9lcnJvcnNcIjoxMixcIi4vdXRpbFwiOjM2fV0sMzI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UpIHtcbmZ1bmN0aW9uIFByb21pc2VJbnNwZWN0aW9uKHByb21pc2UpIHtcbiAgICBpZiAocHJvbWlzZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHByb21pc2UgPSBwcm9taXNlLl90YXJnZXQoKTtcbiAgICAgICAgdGhpcy5fYml0RmllbGQgPSBwcm9taXNlLl9iaXRGaWVsZDtcbiAgICAgICAgdGhpcy5fc2V0dGxlZFZhbHVlRmllbGQgPSBwcm9taXNlLl9pc0ZhdGVTZWFsZWQoKVxuICAgICAgICAgICAgPyBwcm9taXNlLl9zZXR0bGVkVmFsdWUoKSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMuX2JpdEZpZWxkID0gMDtcbiAgICAgICAgdGhpcy5fc2V0dGxlZFZhbHVlRmllbGQgPSB1bmRlZmluZWQ7XG4gICAgfVxufVxuXG5Qcm9taXNlSW5zcGVjdGlvbi5wcm90b3R5cGUuX3NldHRsZWRWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9zZXR0bGVkVmFsdWVGaWVsZDtcbn07XG5cbnZhciB2YWx1ZSA9IFByb21pc2VJbnNwZWN0aW9uLnByb3RvdHlwZS52YWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuaXNGdWxmaWxsZWQoKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2Fubm90IGdldCBmdWxmaWxsbWVudCB2YWx1ZSBvZiBhIG5vbi1mdWxmaWxsZWQgcHJvbWlzZVxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9zZXR0bGVkVmFsdWUoKTtcbn07XG5cbnZhciByZWFzb24gPSBQcm9taXNlSW5zcGVjdGlvbi5wcm90b3R5cGUuZXJyb3IgPVxuUHJvbWlzZUluc3BlY3Rpb24ucHJvdG90eXBlLnJlYXNvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuaXNSZWplY3RlZCgpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJjYW5ub3QgZ2V0IHJlamVjdGlvbiByZWFzb24gb2YgYSBub24tcmVqZWN0ZWQgcHJvbWlzZVxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9zZXR0bGVkVmFsdWUoKTtcbn07XG5cbnZhciBpc0Z1bGZpbGxlZCA9IFByb21pc2VJbnNwZWN0aW9uLnByb3RvdHlwZS5pc0Z1bGZpbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDA7XG59O1xuXG52YXIgaXNSZWplY3RlZCA9IFByb21pc2VJbnNwZWN0aW9uLnByb3RvdHlwZS5pc1JlamVjdGVkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiAxNjc3NzIxNikgIT09IDA7XG59O1xuXG52YXIgaXNQZW5kaW5nID0gUHJvbWlzZUluc3BlY3Rpb24ucHJvdG90eXBlLmlzUGVuZGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgNTAzOTcxODQpID09PSAwO1xufTtcblxudmFyIGlzUmVzb2x2ZWQgPSBQcm9taXNlSW5zcGVjdGlvbi5wcm90b3R5cGUuaXNSZXNvbHZlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgNTAzMzE2NDgpICE9PSAwO1xufTtcblxuUHJvbWlzZUluc3BlY3Rpb24ucHJvdG90eXBlLmlzQ2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDg0NTQxNDQpICE9PSAwO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX19pc0NhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiA2NTUzNikgPT09IDY1NTM2O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2lzQ2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RhcmdldCgpLl9faXNDYW5jZWxsZWQoKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmlzQ2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICh0aGlzLl90YXJnZXQoKS5fYml0RmllbGQgJiA4NDU0MTQ0KSAhPT0gMDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmlzUGVuZGluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBpc1BlbmRpbmcuY2FsbCh0aGlzLl90YXJnZXQoKSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5pc1JlamVjdGVkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGlzUmVqZWN0ZWQuY2FsbCh0aGlzLl90YXJnZXQoKSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5pc0Z1bGZpbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBpc0Z1bGZpbGxlZC5jYWxsKHRoaXMuX3RhcmdldCgpKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmlzUmVzb2x2ZWQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaXNSZXNvbHZlZC5jYWxsKHRoaXMuX3RhcmdldCgpKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHZhbHVlLmNhbGwodGhpcy5fdGFyZ2V0KCkpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUucmVhc29uID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRhcmdldCA9IHRoaXMuX3RhcmdldCgpO1xuICAgIHRhcmdldC5fdW5zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZCgpO1xuICAgIHJldHVybiByZWFzb24uY2FsbCh0YXJnZXQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3ZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NldHRsZWRWYWx1ZSgpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3JlYXNvbiA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX3Vuc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQoKTtcbiAgICByZXR1cm4gdGhpcy5fc2V0dGxlZFZhbHVlKCk7XG59O1xuXG5Qcm9taXNlLlByb21pc2VJbnNwZWN0aW9uID0gUHJvbWlzZUluc3BlY3Rpb247XG59O1xuXG59LHt9XSwzMzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSwgSU5URVJOQUwpIHtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBlcnJvck9iaiA9IHV0aWwuZXJyb3JPYmo7XG52YXIgaXNPYmplY3QgPSB1dGlsLmlzT2JqZWN0O1xuXG5mdW5jdGlvbiB0cnlDb252ZXJ0VG9Qcm9taXNlKG9iaiwgY29udGV4dCkge1xuICAgIGlmIChpc09iamVjdChvYmopKSB7XG4gICAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBQcm9taXNlKSByZXR1cm4gb2JqO1xuICAgICAgICB2YXIgdGhlbiA9IGdldFRoZW4ob2JqKTtcbiAgICAgICAgaWYgKHRoZW4gPT09IGVycm9yT2JqKSB7XG4gICAgICAgICAgICBpZiAoY29udGV4dCkgY29udGV4dC5fcHVzaENvbnRleHQoKTtcbiAgICAgICAgICAgIHZhciByZXQgPSBQcm9taXNlLnJlamVjdCh0aGVuLmUpO1xuICAgICAgICAgICAgaWYgKGNvbnRleHQpIGNvbnRleHQuX3BvcENvbnRleHQoKTtcbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoZW4gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgaWYgKGlzQW55Qmx1ZWJpcmRQcm9taXNlKG9iaikpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgICAgICAgICAgICAgIG9iai5fdGhlbihcbiAgICAgICAgICAgICAgICAgICAgcmV0Ll9mdWxmaWxsLFxuICAgICAgICAgICAgICAgICAgICByZXQuX3JlamVjdCxcbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICByZXQsXG4gICAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZG9UaGVuYWJsZShvYmosIHRoZW4sIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIGRvR2V0VGhlbihvYmopIHtcbiAgICByZXR1cm4gb2JqLnRoZW47XG59XG5cbmZ1bmN0aW9uIGdldFRoZW4ob2JqKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGRvR2V0VGhlbihvYmopO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZXJyb3JPYmouZSA9IGU7XG4gICAgICAgIHJldHVybiBlcnJvck9iajtcbiAgICB9XG59XG5cbnZhciBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5mdW5jdGlvbiBpc0FueUJsdWViaXJkUHJvbWlzZShvYmopIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gaGFzUHJvcC5jYWxsKG9iaiwgXCJfcHJvbWlzZTBcIik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkb1RoZW5hYmxlKHgsIHRoZW4sIGNvbnRleHQpIHtcbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcbiAgICB2YXIgcmV0ID0gcHJvbWlzZTtcbiAgICBpZiAoY29udGV4dCkgY29udGV4dC5fcHVzaENvbnRleHQoKTtcbiAgICBwcm9taXNlLl9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuICAgIGlmIChjb250ZXh0KSBjb250ZXh0Ll9wb3BDb250ZXh0KCk7XG4gICAgdmFyIHN5bmNocm9ub3VzID0gdHJ1ZTtcbiAgICB2YXIgcmVzdWx0ID0gdXRpbC50cnlDYXRjaCh0aGVuKS5jYWxsKHgsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgc3luY2hyb25vdXMgPSBmYWxzZTtcblxuICAgIGlmIChwcm9taXNlICYmIHJlc3VsdCA9PT0gZXJyb3JPYmopIHtcbiAgICAgICAgcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2socmVzdWx0LmUsIHRydWUsIHRydWUpO1xuICAgICAgICBwcm9taXNlID0gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlKHZhbHVlKSB7XG4gICAgICAgIGlmICghcHJvbWlzZSkgcmV0dXJuO1xuICAgICAgICBwcm9taXNlLl9yZXNvbHZlQ2FsbGJhY2sodmFsdWUpO1xuICAgICAgICBwcm9taXNlID0gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWplY3QocmVhc29uKSB7XG4gICAgICAgIGlmICghcHJvbWlzZSkgcmV0dXJuO1xuICAgICAgICBwcm9taXNlLl9yZWplY3RDYWxsYmFjayhyZWFzb24sIHN5bmNocm9ub3VzLCB0cnVlKTtcbiAgICAgICAgcHJvbWlzZSA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59XG5cbnJldHVybiB0cnlDb252ZXJ0VG9Qcm9taXNlO1xufTtcblxufSx7XCIuL3V0aWxcIjozNn1dLDM0OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLCBJTlRFUk5BTCwgZGVidWcpIHtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBUaW1lb3V0RXJyb3IgPSBQcm9taXNlLlRpbWVvdXRFcnJvcjtcblxuZnVuY3Rpb24gSGFuZGxlV3JhcHBlcihoYW5kbGUpICB7XG4gICAgdGhpcy5oYW5kbGUgPSBoYW5kbGU7XG59XG5cbkhhbmRsZVdyYXBwZXIucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5oYW5kbGUpO1xufTtcblxudmFyIGFmdGVyVmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gZGVsYXkoK3RoaXMpLnRoZW5SZXR1cm4odmFsdWUpOyB9O1xudmFyIGRlbGF5ID0gUHJvbWlzZS5kZWxheSA9IGZ1bmN0aW9uIChtcywgdmFsdWUpIHtcbiAgICB2YXIgcmV0O1xuICAgIHZhciBoYW5kbGU7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0ID0gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKVxuICAgICAgICAgICAgICAgIC5fdGhlbihhZnRlclZhbHVlLCBudWxsLCBudWxsLCBtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgaWYgKGRlYnVnLmNhbmNlbGxhdGlvbigpICYmIHZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0Ll9zZXRPbkNhbmNlbCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG4gICAgICAgIGhhbmRsZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IHJldC5fZnVsZmlsbCgpOyB9LCArbXMpO1xuICAgICAgICBpZiAoZGVidWcuY2FuY2VsbGF0aW9uKCkpIHtcbiAgICAgICAgICAgIHJldC5fc2V0T25DYW5jZWwobmV3IEhhbmRsZVdyYXBwZXIoaGFuZGxlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0Ll9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuICAgIH1cbiAgICByZXQuX3NldEFzeW5jR3VhcmFudGVlZCgpO1xuICAgIHJldHVybiByZXQ7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5kZWxheSA9IGZ1bmN0aW9uIChtcykge1xuICAgIHJldHVybiBkZWxheShtcywgdGhpcyk7XG59O1xuXG52YXIgYWZ0ZXJUaW1lb3V0ID0gZnVuY3Rpb24gKHByb21pc2UsIG1lc3NhZ2UsIHBhcmVudCkge1xuICAgIHZhciBlcnI7XG4gICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIGVyciA9IG1lc3NhZ2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlcnIgPSBuZXcgVGltZW91dEVycm9yKFwib3BlcmF0aW9uIHRpbWVkIG91dFwiKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGVyciA9IG5ldyBUaW1lb3V0RXJyb3IobWVzc2FnZSk7XG4gICAgfVxuICAgIHV0aWwubWFya0FzT3JpZ2luYXRpbmdGcm9tUmVqZWN0aW9uKGVycik7XG4gICAgcHJvbWlzZS5fYXR0YWNoRXh0cmFUcmFjZShlcnIpO1xuICAgIHByb21pc2UuX3JlamVjdChlcnIpO1xuXG4gICAgaWYgKHBhcmVudCAhPSBudWxsKSB7XG4gICAgICAgIHBhcmVudC5jYW5jZWwoKTtcbiAgICB9XG59O1xuXG5mdW5jdGlvbiBzdWNjZXNzQ2xlYXIodmFsdWUpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5oYW5kbGUpO1xuICAgIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gZmFpbHVyZUNsZWFyKHJlYXNvbikge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmhhbmRsZSk7XG4gICAgdGhyb3cgcmVhc29uO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS50aW1lb3V0ID0gZnVuY3Rpb24gKG1zLCBtZXNzYWdlKSB7XG4gICAgbXMgPSArbXM7XG4gICAgdmFyIHJldCwgcGFyZW50O1xuXG4gICAgdmFyIGhhbmRsZVdyYXBwZXIgPSBuZXcgSGFuZGxlV3JhcHBlcihzZXRUaW1lb3V0KGZ1bmN0aW9uIHRpbWVvdXRUaW1lb3V0KCkge1xuICAgICAgICBpZiAocmV0LmlzUGVuZGluZygpKSB7XG4gICAgICAgICAgICBhZnRlclRpbWVvdXQocmV0LCBtZXNzYWdlLCBwYXJlbnQpO1xuICAgICAgICB9XG4gICAgfSwgbXMpKTtcblxuICAgIGlmIChkZWJ1Zy5jYW5jZWxsYXRpb24oKSkge1xuICAgICAgICBwYXJlbnQgPSB0aGlzLnRoZW4oKTtcbiAgICAgICAgcmV0ID0gcGFyZW50Ll90aGVuKHN1Y2Nlc3NDbGVhciwgZmFpbHVyZUNsZWFyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCwgaGFuZGxlV3JhcHBlciwgdW5kZWZpbmVkKTtcbiAgICAgICAgcmV0Ll9zZXRPbkNhbmNlbChoYW5kbGVXcmFwcGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXQgPSB0aGlzLl90aGVuKHN1Y2Nlc3NDbGVhciwgZmFpbHVyZUNsZWFyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCwgaGFuZGxlV3JhcHBlciwgdW5kZWZpbmVkKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xufTtcblxufTtcblxufSx7XCIuL3V0aWxcIjozNn1dLDM1OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoUHJvbWlzZSwgYXBpUmVqZWN0aW9uLCB0cnlDb252ZXJ0VG9Qcm9taXNlLFxuICAgIGNyZWF0ZUNvbnRleHQsIElOVEVSTkFMLCBkZWJ1Zykge1xuICAgIHZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbiAgICB2YXIgVHlwZUVycm9yID0gX2RlcmVxXyhcIi4vZXJyb3JzXCIpLlR5cGVFcnJvcjtcbiAgICB2YXIgaW5oZXJpdHMgPSBfZGVyZXFfKFwiLi91dGlsXCIpLmluaGVyaXRzO1xuICAgIHZhciBlcnJvck9iaiA9IHV0aWwuZXJyb3JPYmo7XG4gICAgdmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcbiAgICB2YXIgTlVMTCA9IHt9O1xuXG4gICAgZnVuY3Rpb24gdGhyb3dlcihlKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyBlO30sIDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhc3RQcmVzZXJ2aW5nRGlzcG9zYWJsZSh0aGVuYWJsZSkge1xuICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gdHJ5Q29udmVydFRvUHJvbWlzZSh0aGVuYWJsZSk7XG4gICAgICAgIGlmIChtYXliZVByb21pc2UgIT09IHRoZW5hYmxlICYmXG4gICAgICAgICAgICB0eXBlb2YgdGhlbmFibGUuX2lzRGlzcG9zYWJsZSA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgICAgICB0eXBlb2YgdGhlbmFibGUuX2dldERpc3Bvc2VyID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgICAgIHRoZW5hYmxlLl9pc0Rpc3Bvc2FibGUoKSkge1xuICAgICAgICAgICAgbWF5YmVQcm9taXNlLl9zZXREaXNwb3NhYmxlKHRoZW5hYmxlLl9nZXREaXNwb3NlcigpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF5YmVQcm9taXNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNwb3NlKHJlc291cmNlcywgaW5zcGVjdGlvbikge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHZhciBsZW4gPSByZXNvdXJjZXMubGVuZ3RoO1xuICAgICAgICB2YXIgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgICAgICBmdW5jdGlvbiBpdGVyYXRvcigpIHtcbiAgICAgICAgICAgIGlmIChpID49IGxlbikgcmV0dXJuIHJldC5fZnVsZmlsbCgpO1xuICAgICAgICAgICAgdmFyIG1heWJlUHJvbWlzZSA9IGNhc3RQcmVzZXJ2aW5nRGlzcG9zYWJsZShyZXNvdXJjZXNbaSsrXSk7XG4gICAgICAgICAgICBpZiAobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSAmJlxuICAgICAgICAgICAgICAgIG1heWJlUHJvbWlzZS5faXNEaXNwb3NhYmxlKCkpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlLl9nZXREaXNwb3NlcigpLnRyeURpc3Bvc2UoaW5zcGVjdGlvbiksXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZXMucHJvbWlzZSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhyb3dlcihlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1heWJlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1heWJlUHJvbWlzZS5fdGhlbihpdGVyYXRvciwgdGhyb3dlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLCBudWxsLCBudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpdGVyYXRvcigpO1xuICAgICAgICB9XG4gICAgICAgIGl0ZXJhdG9yKCk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gRGlzcG9zZXIoZGF0YSwgcHJvbWlzZSwgY29udGV4dCkge1xuICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5fcHJvbWlzZSA9IHByb21pc2U7XG4gICAgICAgIHRoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xuICAgIH1cblxuICAgIERpc3Bvc2VyLnByb3RvdHlwZS5kYXRhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgICB9O1xuXG4gICAgRGlzcG9zZXIucHJvdG90eXBlLnByb21pc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9taXNlO1xuICAgIH07XG5cbiAgICBEaXNwb3Nlci5wcm90b3R5cGUucmVzb3VyY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb21pc2UoKS5pc0Z1bGZpbGxlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9taXNlKCkudmFsdWUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTlVMTDtcbiAgICB9O1xuXG4gICAgRGlzcG9zZXIucHJvdG90eXBlLnRyeURpc3Bvc2UgPSBmdW5jdGlvbihpbnNwZWN0aW9uKSB7XG4gICAgICAgIHZhciByZXNvdXJjZSA9IHRoaXMucmVzb3VyY2UoKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLl9jb250ZXh0O1xuICAgICAgICBpZiAoY29udGV4dCAhPT0gdW5kZWZpbmVkKSBjb250ZXh0Ll9wdXNoQ29udGV4dCgpO1xuICAgICAgICB2YXIgcmV0ID0gcmVzb3VyY2UgIT09IE5VTExcbiAgICAgICAgICAgID8gdGhpcy5kb0Rpc3Bvc2UocmVzb3VyY2UsIGluc3BlY3Rpb24pIDogbnVsbDtcbiAgICAgICAgaWYgKGNvbnRleHQgIT09IHVuZGVmaW5lZCkgY29udGV4dC5fcG9wQ29udGV4dCgpO1xuICAgICAgICB0aGlzLl9wcm9taXNlLl91bnNldERpc3Bvc2FibGUoKTtcbiAgICAgICAgdGhpcy5fZGF0YSA9IG51bGw7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcblxuICAgIERpc3Bvc2VyLmlzRGlzcG9zZXIgPSBmdW5jdGlvbiAoZCkge1xuICAgICAgICByZXR1cm4gKGQgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBkLnJlc291cmNlID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgZC50cnlEaXNwb3NlID09PSBcImZ1bmN0aW9uXCIpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBGdW5jdGlvbkRpc3Bvc2VyKGZuLCBwcm9taXNlLCBjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29uc3RydWN0b3IkKGZuLCBwcm9taXNlLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaW5oZXJpdHMoRnVuY3Rpb25EaXNwb3NlciwgRGlzcG9zZXIpO1xuXG4gICAgRnVuY3Rpb25EaXNwb3Nlci5wcm90b3R5cGUuZG9EaXNwb3NlID0gZnVuY3Rpb24gKHJlc291cmNlLCBpbnNwZWN0aW9uKSB7XG4gICAgICAgIHZhciBmbiA9IHRoaXMuZGF0YSgpO1xuICAgICAgICByZXR1cm4gZm4uY2FsbChyZXNvdXJjZSwgcmVzb3VyY2UsIGluc3BlY3Rpb24pO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBtYXliZVVud3JhcERpc3Bvc2VyKHZhbHVlKSB7XG4gICAgICAgIGlmIChEaXNwb3Nlci5pc0Rpc3Bvc2VyKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZXNbdGhpcy5pbmRleF0uX3NldERpc3Bvc2FibGUodmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnByb21pc2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gUmVzb3VyY2VMaXN0KGxlbmd0aCkge1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgdGhpcy5wcm9taXNlID0gbnVsbDtcbiAgICAgICAgdGhpc1tsZW5ndGgtMV0gPSBudWxsO1xuICAgIH1cblxuICAgIFJlc291cmNlTGlzdC5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbGVuID0gdGhpcy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpc1tpXTtcbiAgICAgICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIGl0ZW0uY2FuY2VsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgUHJvbWlzZS51c2luZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIGlmIChsZW4gPCAyKSByZXR1cm4gYXBpUmVqZWN0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ5b3UgbXVzdCBwYXNzIGF0IGxlYXN0IDIgYXJndW1lbnRzIHRvIFByb21pc2UudXNpbmdcIik7XG4gICAgICAgIHZhciBmbiA9IGFyZ3VtZW50c1tsZW4gLSAxXTtcbiAgICAgICAgaWYgKHR5cGVvZiBmbiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBpUmVqZWN0aW9uKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZm4pKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5wdXQ7XG4gICAgICAgIHZhciBzcHJlYWRBcmdzID0gdHJ1ZTtcbiAgICAgICAgaWYgKGxlbiA9PT0gMiAmJiBBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSkpIHtcbiAgICAgICAgICAgIGlucHV0ID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgbGVuID0gaW5wdXQubGVuZ3RoO1xuICAgICAgICAgICAgc3ByZWFkQXJncyA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5wdXQgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICBsZW4tLTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzb3VyY2VzID0gbmV3IFJlc291cmNlTGlzdChsZW4pO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcmVzb3VyY2UgPSBpbnB1dFtpXTtcbiAgICAgICAgICAgIGlmIChEaXNwb3Nlci5pc0Rpc3Bvc2VyKHJlc291cmNlKSkge1xuICAgICAgICAgICAgICAgIHZhciBkaXNwb3NlciA9IHJlc291cmNlO1xuICAgICAgICAgICAgICAgIHJlc291cmNlID0gcmVzb3VyY2UucHJvbWlzZSgpO1xuICAgICAgICAgICAgICAgIHJlc291cmNlLl9zZXREaXNwb3NhYmxlKGRpc3Bvc2VyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIG1heWJlUHJvbWlzZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UocmVzb3VyY2UpO1xuICAgICAgICAgICAgICAgIGlmIChtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlID1cbiAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlUHJvbWlzZS5fdGhlbihtYXliZVVud3JhcERpc3Bvc2VyLCBudWxsLCBudWxsLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VzOiByZXNvdXJjZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGlcbiAgICAgICAgICAgICAgICAgICAgfSwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvdXJjZXNbaV0gPSByZXNvdXJjZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZWZsZWN0ZWRSZXNvdXJjZXMgPSBuZXcgQXJyYXkocmVzb3VyY2VzLmxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVmbGVjdGVkUmVzb3VyY2VzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICByZWZsZWN0ZWRSZXNvdXJjZXNbaV0gPSBQcm9taXNlLnJlc29sdmUocmVzb3VyY2VzW2ldKS5yZWZsZWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVzdWx0UHJvbWlzZSA9IFByb21pc2UuYWxsKHJlZmxlY3RlZFJlc291cmNlcylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGluc3BlY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnNwZWN0aW9ucy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5zcGVjdGlvbiA9IGluc3BlY3Rpb25zW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5zcGVjdGlvbi5pc1JlamVjdGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yT2JqLmUgPSBpbnNwZWN0aW9uLmVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3JPYmo7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWluc3BlY3Rpb24uaXNGdWxmaWxsZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0UHJvbWlzZS5jYW5jZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpbnNwZWN0aW9uc1tpXSA9IGluc3BlY3Rpb24udmFsdWUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJvbWlzZS5fcHVzaENvbnRleHQoKTtcblxuICAgICAgICAgICAgICAgIGZuID0gdHJ5Q2F0Y2goZm4pO1xuICAgICAgICAgICAgICAgIHZhciByZXQgPSBzcHJlYWRBcmdzXG4gICAgICAgICAgICAgICAgICAgID8gZm4uYXBwbHkodW5kZWZpbmVkLCBpbnNwZWN0aW9ucykgOiBmbihpbnNwZWN0aW9ucyk7XG4gICAgICAgICAgICAgICAgdmFyIHByb21pc2VDcmVhdGVkID0gcHJvbWlzZS5fcG9wQ29udGV4dCgpO1xuICAgICAgICAgICAgICAgIGRlYnVnLmNoZWNrRm9yZ290dGVuUmV0dXJucyhcbiAgICAgICAgICAgICAgICAgICAgcmV0LCBwcm9taXNlQ3JlYXRlZCwgXCJQcm9taXNlLnVzaW5nXCIsIHByb21pc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB2YXIgcHJvbWlzZSA9IHJlc3VsdFByb21pc2UubGFzdGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGluc3BlY3Rpb24gPSBuZXcgUHJvbWlzZS5Qcm9taXNlSW5zcGVjdGlvbihyZXN1bHRQcm9taXNlKTtcbiAgICAgICAgICAgIHJldHVybiBkaXNwb3NlKHJlc291cmNlcywgaW5zcGVjdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXNvdXJjZXMucHJvbWlzZSA9IHByb21pc2U7XG4gICAgICAgIHByb21pc2UuX3NldE9uQ2FuY2VsKHJlc291cmNlcyk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH07XG5cbiAgICBQcm9taXNlLnByb3RvdHlwZS5fc2V0RGlzcG9zYWJsZSA9IGZ1bmN0aW9uIChkaXNwb3Nlcikge1xuICAgICAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgMTMxMDcyO1xuICAgICAgICB0aGlzLl9kaXNwb3NlciA9IGRpc3Bvc2VyO1xuICAgIH07XG5cbiAgICBQcm9taXNlLnByb3RvdHlwZS5faXNEaXNwb3NhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgMTMxMDcyKSA+IDA7XG4gICAgfTtcblxuICAgIFByb21pc2UucHJvdG90eXBlLl9nZXREaXNwb3NlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc3Bvc2VyO1xuICAgIH07XG5cbiAgICBQcm9taXNlLnByb3RvdHlwZS5fdW5zZXREaXNwb3NhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkICYgKH4xMzEwNzIpO1xuICAgICAgICB0aGlzLl9kaXNwb3NlciA9IHVuZGVmaW5lZDtcbiAgICB9O1xuXG4gICAgUHJvbWlzZS5wcm90b3R5cGUuZGlzcG9zZXIgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uRGlzcG9zZXIoZm4sIHRoaXMsIGNyZWF0ZUNvbnRleHQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgIH07XG5cbn07XG5cbn0se1wiLi9lcnJvcnNcIjoxMixcIi4vdXRpbFwiOjM2fV0sMzY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgZXM1ID0gX2RlcmVxXyhcIi4vZXM1XCIpO1xudmFyIGNhbkV2YWx1YXRlID0gdHlwZW9mIG5hdmlnYXRvciA9PSBcInVuZGVmaW5lZFwiO1xuXG52YXIgZXJyb3JPYmogPSB7ZToge319O1xudmFyIHRyeUNhdGNoVGFyZ2V0O1xudmFyIGdsb2JhbE9iamVjdCA9IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6XG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6XG4gICAgdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6XG4gICAgdGhpcyAhPT0gdW5kZWZpbmVkID8gdGhpcyA6IG51bGw7XG5cbmZ1bmN0aW9uIHRyeUNhdGNoZXIoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIHRhcmdldCA9IHRyeUNhdGNoVGFyZ2V0O1xuICAgICAgICB0cnlDYXRjaFRhcmdldCA9IG51bGw7XG4gICAgICAgIHJldHVybiB0YXJnZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGVycm9yT2JqLmUgPSBlO1xuICAgICAgICByZXR1cm4gZXJyb3JPYmo7XG4gICAgfVxufVxuZnVuY3Rpb24gdHJ5Q2F0Y2goZm4pIHtcbiAgICB0cnlDYXRjaFRhcmdldCA9IGZuO1xuICAgIHJldHVybiB0cnlDYXRjaGVyO1xufVxuXG52YXIgaW5oZXJpdHMgPSBmdW5jdGlvbihDaGlsZCwgUGFyZW50KSB7XG4gICAgdmFyIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICAgIGZ1bmN0aW9uIFQoKSB7XG4gICAgICAgIHRoaXMuY29uc3RydWN0b3IgPSBDaGlsZDtcbiAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciQgPSBQYXJlbnQ7XG4gICAgICAgIGZvciAodmFyIHByb3BlcnR5TmFtZSBpbiBQYXJlbnQucHJvdG90eXBlKSB7XG4gICAgICAgICAgICBpZiAoaGFzUHJvcC5jYWxsKFBhcmVudC5wcm90b3R5cGUsIHByb3BlcnR5TmFtZSkgJiZcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWUuY2hhckF0KHByb3BlcnR5TmFtZS5sZW5ndGgtMSkgIT09IFwiJFwiXG4gICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRoaXNbcHJvcGVydHlOYW1lICsgXCIkXCJdID0gUGFyZW50LnByb3RvdHlwZVtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIFQucHJvdG90eXBlID0gUGFyZW50LnByb3RvdHlwZTtcbiAgICBDaGlsZC5wcm90b3R5cGUgPSBuZXcgVCgpO1xuICAgIHJldHVybiBDaGlsZC5wcm90b3R5cGU7XG59O1xuXG5cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKHZhbCkge1xuICAgIHJldHVybiB2YWwgPT0gbnVsbCB8fCB2YWwgPT09IHRydWUgfHwgdmFsID09PSBmYWxzZSB8fFxuICAgICAgICB0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCI7XG5cbn1cblxuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9PSBudWxsO1xufVxuXG5mdW5jdGlvbiBtYXliZVdyYXBBc0Vycm9yKG1heWJlRXJyb3IpIHtcbiAgICBpZiAoIWlzUHJpbWl0aXZlKG1heWJlRXJyb3IpKSByZXR1cm4gbWF5YmVFcnJvcjtcblxuICAgIHJldHVybiBuZXcgRXJyb3Ioc2FmZVRvU3RyaW5nKG1heWJlRXJyb3IpKTtcbn1cblxuZnVuY3Rpb24gd2l0aEFwcGVuZGVkKHRhcmdldCwgYXBwZW5kZWUpIHtcbiAgICB2YXIgbGVuID0gdGFyZ2V0Lmxlbmd0aDtcbiAgICB2YXIgcmV0ID0gbmV3IEFycmF5KGxlbiArIDEpO1xuICAgIHZhciBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICByZXRbaV0gPSB0YXJnZXRbaV07XG4gICAgfVxuICAgIHJldFtpXSA9IGFwcGVuZGVlO1xuICAgIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGdldERhdGFQcm9wZXJ0eU9yRGVmYXVsdChvYmosIGtleSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgaWYgKGVzNS5pc0VTNSkge1xuICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpO1xuXG4gICAgICAgIGlmIChkZXNjICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBkZXNjLmdldCA9PSBudWxsICYmIGRlc2Muc2V0ID09IG51bGxcbiAgICAgICAgICAgICAgICAgICAgPyBkZXNjLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHt9Lmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpID8gb2JqW2tleV0gOiB1bmRlZmluZWQ7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBub3RFbnVtZXJhYmxlUHJvcChvYmosIG5hbWUsIHZhbHVlKSB7XG4gICAgaWYgKGlzUHJpbWl0aXZlKG9iaikpIHJldHVybiBvYmo7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9O1xuICAgIGVzNS5kZWZpbmVQcm9wZXJ0eShvYmosIG5hbWUsIGRlc2NyaXB0b3IpO1xuICAgIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIHRocm93ZXIocikge1xuICAgIHRocm93IHI7XG59XG5cbnZhciBpbmhlcml0ZWREYXRhS2V5cyA9IChmdW5jdGlvbigpIHtcbiAgICB2YXIgZXhjbHVkZWRQcm90b3R5cGVzID0gW1xuICAgICAgICBBcnJheS5wcm90b3R5cGUsXG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUsXG4gICAgICAgIEZ1bmN0aW9uLnByb3RvdHlwZVxuICAgIF07XG5cbiAgICB2YXIgaXNFeGNsdWRlZFByb3RvID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhjbHVkZWRQcm90b3R5cGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAoZXhjbHVkZWRQcm90b3R5cGVzW2ldID09PSB2YWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIGlmIChlczUuaXNFUzUpIHtcbiAgICAgICAgdmFyIGdldEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcztcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgdmFyIHJldCA9IFtdO1xuICAgICAgICAgICAgdmFyIHZpc2l0ZWRLZXlzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICAgIHdoaWxlIChvYmogIT0gbnVsbCAmJiAhaXNFeGNsdWRlZFByb3RvKG9iaikpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5cztcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBrZXlzID0gZ2V0S2V5cyhvYmopO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmlzaXRlZEtleXNba2V5XSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIHZpc2l0ZWRLZXlzW2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVzYyAhPSBudWxsICYmIGRlc2MuZ2V0ID09IG51bGwgJiYgZGVzYy5zZXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvYmogPSBlczUuZ2V0UHJvdG90eXBlT2Yob2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgaWYgKGlzRXhjbHVkZWRQcm90byhvYmopKSByZXR1cm4gW107XG4gICAgICAgICAgICB2YXIgcmV0ID0gW107XG5cbiAgICAgICAgICAgIC8qanNoaW50IGZvcmluOmZhbHNlICovXG4gICAgICAgICAgICBlbnVtZXJhdGlvbjogZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgICAgICAgICAgIGlmIChoYXNQcm9wLmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldC5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleGNsdWRlZFByb3RvdHlwZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNQcm9wLmNhbGwoZXhjbHVkZWRQcm90b3R5cGVzW2ldLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgZW51bWVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9O1xuICAgIH1cblxufSkoKTtcblxudmFyIHRoaXNBc3NpZ25tZW50UGF0dGVybiA9IC90aGlzXFxzKlxcLlxccypcXFMrXFxzKj0vO1xuZnVuY3Rpb24gaXNDbGFzcyhmbikge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgZm4gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBlczUubmFtZXMoZm4ucHJvdG90eXBlKTtcblxuICAgICAgICAgICAgdmFyIGhhc01ldGhvZHMgPSBlczUuaXNFUzUgJiYga2V5cy5sZW5ndGggPiAxO1xuICAgICAgICAgICAgdmFyIGhhc01ldGhvZHNPdGhlclRoYW5Db25zdHJ1Y3RvciA9IGtleXMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgICEoa2V5cy5sZW5ndGggPT09IDEgJiYga2V5c1swXSA9PT0gXCJjb25zdHJ1Y3RvclwiKTtcbiAgICAgICAgICAgIHZhciBoYXNUaGlzQXNzaWdubWVudEFuZFN0YXRpY01ldGhvZHMgPVxuICAgICAgICAgICAgICAgIHRoaXNBc3NpZ25tZW50UGF0dGVybi50ZXN0KGZuICsgXCJcIikgJiYgZXM1Lm5hbWVzKGZuKS5sZW5ndGggPiAwO1xuXG4gICAgICAgICAgICBpZiAoaGFzTWV0aG9kcyB8fCBoYXNNZXRob2RzT3RoZXJUaGFuQ29uc3RydWN0b3IgfHxcbiAgICAgICAgICAgICAgICBoYXNUaGlzQXNzaWdubWVudEFuZFN0YXRpY01ldGhvZHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB0b0Zhc3RQcm9wZXJ0aWVzKG9iaikge1xuICAgIC8qanNoaW50IC1XMDI3LC1XMDU1LC1XMDMxKi9cbiAgICBmdW5jdGlvbiBGYWtlQ29uc3RydWN0b3IoKSB7fVxuICAgIEZha2VDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBvYmo7XG4gICAgdmFyIGwgPSA4O1xuICAgIHdoaWxlIChsLS0pIG5ldyBGYWtlQ29uc3RydWN0b3IoKTtcbiAgICByZXR1cm4gb2JqO1xuICAgIGV2YWwob2JqKTtcbn1cblxudmFyIHJpZGVudCA9IC9eW2EteiRfXVthLXokXzAtOV0qJC9pO1xuZnVuY3Rpb24gaXNJZGVudGlmaWVyKHN0cikge1xuICAgIHJldHVybiByaWRlbnQudGVzdChzdHIpO1xufVxuXG5mdW5jdGlvbiBmaWxsZWRSYW5nZShjb3VudCwgcHJlZml4LCBzdWZmaXgpIHtcbiAgICB2YXIgcmV0ID0gbmV3IEFycmF5KGNvdW50KTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgY291bnQ7ICsraSkge1xuICAgICAgICByZXRbaV0gPSBwcmVmaXggKyBpICsgc3VmZml4O1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBzYWZlVG9TdHJpbmcob2JqKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG9iaiArIFwiXCI7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gXCJbbm8gc3RyaW5nIHJlcHJlc2VudGF0aW9uXVwiO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNFcnJvcihvYmopIHtcbiAgICByZXR1cm4gb2JqICE9PSBudWxsICYmXG4gICAgICAgICAgIHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgdHlwZW9mIG9iai5tZXNzYWdlID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgIHR5cGVvZiBvYmoubmFtZSA9PT0gXCJzdHJpbmdcIjtcbn1cblxuZnVuY3Rpb24gbWFya0FzT3JpZ2luYXRpbmdGcm9tUmVqZWN0aW9uKGUpIHtcbiAgICB0cnkge1xuICAgICAgICBub3RFbnVtZXJhYmxlUHJvcChlLCBcImlzT3BlcmF0aW9uYWxcIiwgdHJ1ZSk7XG4gICAgfVxuICAgIGNhdGNoKGlnbm9yZSkge31cbn1cblxuZnVuY3Rpb24gb3JpZ2luYXRlc0Zyb21SZWplY3Rpb24oZSkge1xuICAgIGlmIChlID09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gKChlIGluc3RhbmNlb2YgRXJyb3JbXCJfX0JsdWViaXJkRXJyb3JUeXBlc19fXCJdLk9wZXJhdGlvbmFsRXJyb3IpIHx8XG4gICAgICAgIGVbXCJpc09wZXJhdGlvbmFsXCJdID09PSB0cnVlKTtcbn1cblxuZnVuY3Rpb24gY2FuQXR0YWNoVHJhY2Uob2JqKSB7XG4gICAgcmV0dXJuIGlzRXJyb3Iob2JqKSAmJiBlczUucHJvcGVydHlJc1dyaXRhYmxlKG9iaiwgXCJzdGFja1wiKTtcbn1cblxudmFyIGVuc3VyZUVycm9yT2JqZWN0ID0gKGZ1bmN0aW9uKCkge1xuICAgIGlmICghKFwic3RhY2tcIiBpbiBuZXcgRXJyb3IoKSkpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoY2FuQXR0YWNoVHJhY2UodmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB0cnkge3Rocm93IG5ldyBFcnJvcihzYWZlVG9TdHJpbmcodmFsdWUpKTt9XG4gICAgICAgICAgICBjYXRjaChlcnIpIHtyZXR1cm4gZXJyO31cbiAgICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChjYW5BdHRhY2hUcmFjZSh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3Ioc2FmZVRvU3RyaW5nKHZhbHVlKSk7XG4gICAgICAgIH07XG4gICAgfVxufSkoKTtcblxuZnVuY3Rpb24gY2xhc3NTdHJpbmcob2JqKSB7XG4gICAgcmV0dXJuIHt9LnRvU3RyaW5nLmNhbGwob2JqKTtcbn1cblxuZnVuY3Rpb24gY29weURlc2NyaXB0b3JzKGZyb20sIHRvLCBmaWx0ZXIpIHtcbiAgICB2YXIga2V5cyA9IGVzNS5uYW1lcyhmcm9tKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgIGlmIChmaWx0ZXIoa2V5KSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBlczUuZGVmaW5lUHJvcGVydHkodG8sIGtleSwgZXM1LmdldERlc2NyaXB0b3IoZnJvbSwga2V5KSk7XG4gICAgICAgICAgICB9IGNhdGNoIChpZ25vcmUpIHt9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbnZhciBhc0FycmF5ID0gZnVuY3Rpb24odikge1xuICAgIGlmIChlczUuaXNBcnJheSh2KSkge1xuICAgICAgICByZXR1cm4gdjtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59O1xuXG5pZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wuaXRlcmF0b3IpIHtcbiAgICB2YXIgQXJyYXlGcm9tID0gdHlwZW9mIEFycmF5LmZyb20gPT09IFwiZnVuY3Rpb25cIiA/IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odik7XG4gICAgfSA6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgdmFyIHJldCA9IFtdO1xuICAgICAgICB2YXIgaXQgPSB2W1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICAgICAgdmFyIGl0UmVzdWx0O1xuICAgICAgICB3aGlsZSAoISgoaXRSZXN1bHQgPSBpdC5uZXh0KCkpLmRvbmUpKSB7XG4gICAgICAgICAgICByZXQucHVzaChpdFJlc3VsdC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuXG4gICAgYXNBcnJheSA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgaWYgKGVzNS5pc0FycmF5KHYpKSB7XG4gICAgICAgICAgICByZXR1cm4gdjtcbiAgICAgICAgfSBlbHNlIGlmICh2ICE9IG51bGwgJiYgdHlwZW9mIHZbU3ltYm9sLml0ZXJhdG9yXSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICByZXR1cm4gQXJyYXlGcm9tKHYpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG59XG5cbnZhciBpc05vZGUgPSB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICAgICBjbGFzc1N0cmluZyhwcm9jZXNzKS50b0xvd2VyQ2FzZSgpID09PSBcIltvYmplY3QgcHJvY2Vzc11cIjtcblxuZnVuY3Rpb24gZW52KGtleSwgZGVmKSB7XG4gICAgcmV0dXJuIGlzTm9kZSA/IHByb2Nlc3MuZW52W2tleV0gOiBkZWY7XG59XG5cbmZ1bmN0aW9uIGdldE5hdGl2ZVByb21pc2UoKSB7XG4gICAgaWYgKHR5cGVvZiBQcm9taXNlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24oKXt9KTtcbiAgICAgICAgICAgIGlmICh7fS50b1N0cmluZy5jYWxsKHByb21pc2UpID09PSBcIltvYmplY3QgUHJvbWlzZV1cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZG9tYWluQmluZChzZWxmLCBjYikge1xuICAgIHJldHVybiBzZWxmLmJpbmQoY2IpO1xufVxuXG52YXIgcmV0ID0ge1xuICAgIGlzQ2xhc3M6IGlzQ2xhc3MsXG4gICAgaXNJZGVudGlmaWVyOiBpc0lkZW50aWZpZXIsXG4gICAgaW5oZXJpdGVkRGF0YUtleXM6IGluaGVyaXRlZERhdGFLZXlzLFxuICAgIGdldERhdGFQcm9wZXJ0eU9yRGVmYXVsdDogZ2V0RGF0YVByb3BlcnR5T3JEZWZhdWx0LFxuICAgIHRocm93ZXI6IHRocm93ZXIsXG4gICAgaXNBcnJheTogZXM1LmlzQXJyYXksXG4gICAgYXNBcnJheTogYXNBcnJheSxcbiAgICBub3RFbnVtZXJhYmxlUHJvcDogbm90RW51bWVyYWJsZVByb3AsXG4gICAgaXNQcmltaXRpdmU6IGlzUHJpbWl0aXZlLFxuICAgIGlzT2JqZWN0OiBpc09iamVjdCxcbiAgICBpc0Vycm9yOiBpc0Vycm9yLFxuICAgIGNhbkV2YWx1YXRlOiBjYW5FdmFsdWF0ZSxcbiAgICBlcnJvck9iajogZXJyb3JPYmosXG4gICAgdHJ5Q2F0Y2g6IHRyeUNhdGNoLFxuICAgIGluaGVyaXRzOiBpbmhlcml0cyxcbiAgICB3aXRoQXBwZW5kZWQ6IHdpdGhBcHBlbmRlZCxcbiAgICBtYXliZVdyYXBBc0Vycm9yOiBtYXliZVdyYXBBc0Vycm9yLFxuICAgIHRvRmFzdFByb3BlcnRpZXM6IHRvRmFzdFByb3BlcnRpZXMsXG4gICAgZmlsbGVkUmFuZ2U6IGZpbGxlZFJhbmdlLFxuICAgIHRvU3RyaW5nOiBzYWZlVG9TdHJpbmcsXG4gICAgY2FuQXR0YWNoVHJhY2U6IGNhbkF0dGFjaFRyYWNlLFxuICAgIGVuc3VyZUVycm9yT2JqZWN0OiBlbnN1cmVFcnJvck9iamVjdCxcbiAgICBvcmlnaW5hdGVzRnJvbVJlamVjdGlvbjogb3JpZ2luYXRlc0Zyb21SZWplY3Rpb24sXG4gICAgbWFya0FzT3JpZ2luYXRpbmdGcm9tUmVqZWN0aW9uOiBtYXJrQXNPcmlnaW5hdGluZ0Zyb21SZWplY3Rpb24sXG4gICAgY2xhc3NTdHJpbmc6IGNsYXNzU3RyaW5nLFxuICAgIGNvcHlEZXNjcmlwdG9yczogY29weURlc2NyaXB0b3JzLFxuICAgIGhhc0RldlRvb2xzOiB0eXBlb2YgY2hyb21lICE9PSBcInVuZGVmaW5lZFwiICYmIGNocm9tZSAmJlxuICAgICAgICAgICAgICAgICB0eXBlb2YgY2hyb21lLmxvYWRUaW1lcyA9PT0gXCJmdW5jdGlvblwiLFxuICAgIGlzTm9kZTogaXNOb2RlLFxuICAgIGVudjogZW52LFxuICAgIGdsb2JhbDogZ2xvYmFsT2JqZWN0LFxuICAgIGdldE5hdGl2ZVByb21pc2U6IGdldE5hdGl2ZVByb21pc2UsXG4gICAgZG9tYWluQmluZDogZG9tYWluQmluZFxufTtcbnJldC5pc1JlY2VudE5vZGUgPSByZXQuaXNOb2RlICYmIChmdW5jdGlvbigpIHtcbiAgICB2YXIgdmVyc2lvbiA9IHByb2Nlc3MudmVyc2lvbnMubm9kZS5zcGxpdChcIi5cIikubWFwKE51bWJlcik7XG4gICAgcmV0dXJuICh2ZXJzaW9uWzBdID09PSAwICYmIHZlcnNpb25bMV0gPiAxMCkgfHwgKHZlcnNpb25bMF0gPiAwKTtcbn0pKCk7XG5cbmlmIChyZXQuaXNOb2RlKSByZXQudG9GYXN0UHJvcGVydGllcyhwcm9jZXNzKTtcblxudHJ5IHt0aHJvdyBuZXcgRXJyb3IoKTsgfSBjYXRjaCAoZSkge3JldC5sYXN0TGluZUVycm9yID0gZTt9XG5tb2R1bGUuZXhwb3J0cyA9IHJldDtcblxufSx7XCIuL2VzNVwiOjEzfV19LHt9LFs0XSkoNClcbn0pOyAgICAgICAgICAgICAgICAgICAgO2lmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cgIT09IG51bGwpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LlAgPSB3aW5kb3cuUHJvbWlzZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnICYmIHNlbGYgIT09IG51bGwpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuUCA9IHNlbGYuUHJvbWlzZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmx1ZWJpcmQvanMvYnJvd3Nlci9ibHVlYmlyZC5qc1xuICoqIG1vZHVsZSBpZCA9IDUyXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wcm9jZXNzL2Jyb3dzZXIuanNcbiAqKiBtb2R1bGUgaWQgPSA1M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCJ2YXIgbmV4dFRpY2sgPSByZXF1aXJlKCdwcm9jZXNzL2Jyb3dzZXIuanMnKS5uZXh0VGljaztcbnZhciBhcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtcbnZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcbnZhciBpbW1lZGlhdGVJZHMgPSB7fTtcbnZhciBuZXh0SW1tZWRpYXRlSWQgPSAwO1xuXG4vLyBET00gQVBJcywgZm9yIGNvbXBsZXRlbmVzc1xuXG5leHBvcnRzLnNldFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhclRpbWVvdXQpO1xufTtcbmV4cG9ydHMuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0SW50ZXJ2YWwsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG59O1xuZXhwb3J0cy5jbGVhclRpbWVvdXQgPVxuZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkgeyB0aW1lb3V0LmNsb3NlKCk7IH07XG5cbmZ1bmN0aW9uIFRpbWVvdXQoaWQsIGNsZWFyRm4pIHtcbiAgdGhpcy5faWQgPSBpZDtcbiAgdGhpcy5fY2xlYXJGbiA9IGNsZWFyRm47XG59XG5UaW1lb3V0LnByb3RvdHlwZS51bnJlZiA9IFRpbWVvdXQucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uKCkge307XG5UaW1lb3V0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9jbGVhckZuLmNhbGwod2luZG93LCB0aGlzLl9pZCk7XG59O1xuXG4vLyBEb2VzIG5vdCBzdGFydCB0aGUgdGltZSwganVzdCBzZXRzIHVwIHRoZSBtZW1iZXJzIG5lZWRlZC5cbmV4cG9ydHMuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSwgbXNlY3MpIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IG1zZWNzO1xufTtcblxuZXhwb3J0cy51bmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IC0xO1xufTtcblxuZXhwb3J0cy5fdW5yZWZBY3RpdmUgPSBleHBvcnRzLmFjdGl2ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXG4gIHZhciBtc2VjcyA9IGl0ZW0uX2lkbGVUaW1lb3V0O1xuICBpZiAobXNlY3MgPj0gMCkge1xuICAgIGl0ZW0uX2lkbGVUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIG9uVGltZW91dCgpIHtcbiAgICAgIGlmIChpdGVtLl9vblRpbWVvdXQpXG4gICAgICAgIGl0ZW0uX29uVGltZW91dCgpO1xuICAgIH0sIG1zZWNzKTtcbiAgfVxufTtcblxuLy8gVGhhdCdzIG5vdCBob3cgbm9kZS5qcyBpbXBsZW1lbnRzIGl0IGJ1dCB0aGUgZXhwb3NlZCBhcGkgaXMgdGhlIHNhbWUuXG5leHBvcnRzLnNldEltbWVkaWF0ZSA9IHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHNldEltbWVkaWF0ZSA6IGZ1bmN0aW9uKGZuKSB7XG4gIHZhciBpZCA9IG5leHRJbW1lZGlhdGVJZCsrO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPCAyID8gZmFsc2UgOiBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgaW1tZWRpYXRlSWRzW2lkXSA9IHRydWU7XG5cbiAgbmV4dFRpY2soZnVuY3Rpb24gb25OZXh0VGljaygpIHtcbiAgICBpZiAoaW1tZWRpYXRlSWRzW2lkXSkge1xuICAgICAgLy8gZm4uY2FsbCgpIGlzIGZhc3RlciBzbyB3ZSBvcHRpbWl6ZSBmb3IgdGhlIGNvbW1vbiB1c2UtY2FzZVxuICAgICAgLy8gQHNlZSBodHRwOi8vanNwZXJmLmNvbS9jYWxsLWFwcGx5LXNlZ3VcbiAgICAgIGlmIChhcmdzKSB7XG4gICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm4uY2FsbChudWxsKTtcbiAgICAgIH1cbiAgICAgIC8vIFByZXZlbnQgaWRzIGZyb20gbGVha2luZ1xuICAgICAgZXhwb3J0cy5jbGVhckltbWVkaWF0ZShpZCk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gaWQ7XG59O1xuXG5leHBvcnRzLmNsZWFySW1tZWRpYXRlID0gdHlwZW9mIGNsZWFySW1tZWRpYXRlID09PSBcImZ1bmN0aW9uXCIgPyBjbGVhckltbWVkaWF0ZSA6IGZ1bmN0aW9uKGlkKSB7XG4gIGRlbGV0ZSBpbW1lZGlhdGVJZHNbaWRdO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi90aW1lcnMtYnJvd3NlcmlmeS9tYWluLmpzXG4gKiogbW9kdWxlIGlkID0gNTRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==