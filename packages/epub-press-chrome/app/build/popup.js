!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}(function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(typeof t[e]){case"function":break;case"object":t[e]=function(e){var n=e.slice(1),r=t[e[0]];return function(t,e,i){r.apply(this,[t,e,i].concat(n))}}(t[e]);break;default:t[e]=t[t[e]]}return t}([function(t,e,n){n(1),t.exports=n(55)},function(t,e){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return v.iterable&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function s(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function a(t){var e=new FileReader;return e.readAsArrayBuffer(t),s(e)}function u(t){var e=new FileReader;return e.readAsText(t),s(e)}function c(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(v.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(v.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(t){if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob?(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(a)},this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var t=o(this);return t?t:Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(t){var e=t.toUpperCase();return _.indexOf(e)>-1?e:t}function f(t,e){e=e||{};var n=e.body;if(f.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,n||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=l(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function h(t){var e=new i,n=(t.getAllResponseHeaders()||"").trim().split("\n");return n.forEach(function(t){var n=t.trim().split(":"),r=n.shift().trim(),i=n.join(":").trim();e.append(r,i)}),e}function d(t,e){e||(e={}),this.type="default",this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof i?e.headers:new i(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var v={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};i.prototype.append=function(t,r){t=e(t),r=n(r);var i=this.map[t];i||(i=[],this.map[t]=i),i.push(r)},i.prototype["delete"]=function(t){delete this.map[e(t)]},i.prototype.get=function(t){var n=this.map[e(t)];return n?n[0]:null},i.prototype.getAll=function(t){return this.map[e(t)]||[]},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,r){this.map[e(t)]=[n(r)]},i.prototype.forEach=function(t,e){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){t.call(e,r,n,this)},this)},this)},i.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},i.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},i.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this)},c.call(f.prototype),c.call(d.prototype),d.prototype.clone=function(){return new d(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},d.error=function(){var t=new d(null,{status:0,statusText:""});return t.type="error",t};var y=[301,302,303,307,308];d.redirect=function(t,e){if(y.indexOf(e)===-1)throw new RangeError("Invalid status code");return new d(null,{status:e,headers:{location:t}})},t.Headers=i,t.Request=f,t.Response=d,t.fetch=function(t,e){return new Promise(function(n,r){function i(){return"responseURL"in s?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):void 0}var o;o=f.prototype.isPrototypeOf(t)&&!e?t:new f(t,e);var s=new XMLHttpRequest;s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:h(s),url:i()},e="response"in s?s.response:s.responseText;n(new d(e,t))},s.onerror=function(){r(new TypeError("Network request failed"))},s.ontimeout=function(){r(new TypeError("Network request failed"))},s.open(o.method,o.url,!0),"include"===o.credentials&&(s.withCredentials=!0),"responseType"in s&&v.blob&&(s.responseType="blob"),o.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),s.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},,,,function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},,,,function(t,e,n){var r=n(10),i=n(5),o=n(11),s=n(13),a="prototype",u=function(t,e,n){var c,l,f,p=t&u.F,h=t&u.G,d=t&u.S,v=t&u.P,_=t&u.B,y=t&u.W,m=h?i:i[e]||(i[e]={}),g=m[a],b=h?r:d?r[e]:(r[e]||{})[a];h&&(n=e);for(c in n)l=!p&&b&&void 0!==b[c],l&&c in m||(f=l?b[c]:n[c],m[c]=h&&"function"!=typeof b[c]?n[c]:_&&l?o(f,r):y&&b[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[a]=t[a],e}(f):v&&"function"==typeof f?o(Function.call,f):f,v&&((m.virtual||(m.virtual={}))[c]=f,t&u.R&&g&&!g[c]&&s(g,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(12);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(14),i=n(22);t.exports=n(18)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(15),i=n(17),o=n(21),s=Object.defineProperty;e.f=n(18)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(16);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(18)&&!n(19)(function(){return 7!=Object.defineProperty(n(20)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(19)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var r=n(16),i=n(10).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(16);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},,function(t,e,n){var r=n(25),i=n(38);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(26),i=n(27),o=n(31)(!1),s=n(35)("IE_PROTO");t.exports=function(t,e){var n,a=i(t),u=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(28),i=n(30);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(29);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(27),i=n(32),o=n(34);t.exports=function(t){return function(e,n,s){var a,u=r(e),c=i(u.length),l=o(s,c);if(t&&n!=n){for(;c>l;)if(a=u[l++],a!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(33),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(33),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(36)("keys"),i=n(37);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(10),i="__core-js_shared__",o=r[i]||(r[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},,,function(t,e,n){var r=n(30);t.exports=function(t){return Object(r(t))}},function(t,e,n){(function(e){!function(e,r){t.exports=r(n(44),n(45))}(this,function(t,e){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){n(1),t.exports=n(2)},function(e,n){e.exports=t},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){return"undefined"!=typeof window}function o(){if(j.DEBUG){var t;(t=console).log.apply(t,arguments)}}function s(t){if(!t.getId())throw new Error("Book has no id. Have you published?")}function a(t,e){if(i()){var r=void 0;r="function"==typeof File?new File([e],t):new Blob([e],{type:"application/octet-stream"}),(0,E.saveAs)(r,t)}else{var o=n(54);o.writeFileSync(t,e)}}function u(t){var e={title:t.title,description:t.description};return t.sections?e.sections=t.sections:e.urls=t.urls.slice(),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:(0,w["default"])(e)}}function c(t){return new C["default"](function(e,n){var r=function i(r){t.checkStatus().then(function(o){t.emit("statusUpdate",o),Number(o.progress)>=100?e(t):r>=j.CHECK_STATUS_LIMIT?n(new Error(j.ERROR_CODES[503])):setTimeout(i,j.POLL_RATE,r+1)})["catch"](n)};r(1)})}function l(t){var e=j.ERROR_CODES[t.status];if(t.status>=200&&t.status<300)return t;if(t.body)return t.json().then(function(t){var n=t.errors&&t.errors.length>0,r=n?t.errors[0].detail:e;return C["default"].reject(new Error(r))});var n=new Error(e);return C["default"].reject(n)}function f(t){var e=j.ERROR_CODES[t.message]||j.ERROR_CODES[t.name];return e?new Error(e):t}function p(t,e){var n=Number(e.minCompatible.replace(".","")),r=Number(t.replace(".",""));return n>r?e.message:null}function h(t){var e=["email","filetype"].map(function(e){return t[e]?e+"="+encodeURIComponent(t[e]):""}).filter(function(t){return t}).join("&");return e?"?"+e:""}var d=n(3),v=r(d),_=n(40),y=r(_),m=n(41),g=r(m),b=n(45),w=r(b),x=n(47),C=r(x),E=n(50),k=n(53),T=r(k),j=function(){function t(e){(0,y["default"])(this,t);var n=Date().slice(0,Date().match(/\d{4}/).index+4),r={title:"EpubPress - "+n,description:void 0,sections:void 0,urls:void 0,filetype:"epub"};this.bookData=(0,v["default"])({},r,e),this.events={}}return(0,g["default"])(t,null,[{key:"checkForUpdates",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"epub-press-js":arguments[0],n=arguments.length<=1||void 0===arguments[1]?t.getVersion():arguments[1];return new C["default"](function(r,i){fetch(t.getVersionUrl()).then(l).then(function(t){return t.json()}).then(function(t){var o=t.clients[e];o?r(p(n,o)):i(new Error("Version data for "+e+" not found."))})["catch"](function(t){var e=f(t);o("Version check failed",e),i(e)})})}},{key:"getPublishUrl",value:function(){return this.prototype.getPublishUrl()}},{key:"getVersionUrl",value:function(){return t.BASE_API+"/version"}},{key:"getVersion",value:function(){return t.VERSION}}]),(0,g["default"])(t,[{key:"on",value:function(t,e){return this.events[t]||(this.events[t]=[]),this.events[t].push(e),e}},{key:"emit",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];this.events[t]&&this.events[t].forEach(function(t){t.apply(void 0,n)})}},{key:"removeListener",value:function(t,e){if(this.events[t]){var n=this.events[t].indexOf(e);n>=0&&this.events[t].splice(n,1)}}},{key:"getUrls",value:function(){var t=[],e=this.bookData,n=e.urls,r=e.sections;return n?t=n.slice():r&&(t=r.map(function(t){return t.url})),t}},{key:"getFiletype",value:function(t){var e=t||this.bookData.filetype;return e?["mobi","epub"].find(function(t){return e.toLowerCase()===t})||"epub":"epub"}},{key:"getEmail",value:function(){return this.bookData.email}},{key:"getTitle",value:function(){return this.bookData.title}},{key:"getDescription",value:function(){return this.bookData.description}},{key:"getId",value:function(){return this.bookData.id}},{key:"getStatusUrl",value:function(){return t.getPublishUrl()+"/"+this.getId()+"/status"}},{key:"getPublishUrl",value:function(){return t.BASE_API+"/books"}},{key:"getDownloadUrl",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.getFiletype():arguments[0],e=h({filetype:t});return this.getPublishUrl()+"/"+this.getId()+"/download"+e}},{key:"getEmailUrl",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.getEmail():arguments[0],e=arguments.length<=1||void 0===arguments[1]?this.getFiletype():arguments[1],n=h({email:t,filetype:e});return this.getPublishUrl()+"/"+this.getId()+"/email"+n}},{key:"checkStatus",value:function(){var t=this;return new C["default"](function(e,n){fetch(t.getStatusUrl()).then(l).then(function(t){return t.json()}).then(function(t){e(t)})["catch"](function(t){var e=f(t);n(e)})})}},{key:"publish",value:function(){var t=this;return this.isPublishing?C["default"].reject(new Error("Publishing in progress")):this.getId()?C["default"].resolve(this.getId()):(this.isPublishing=!0,new C["default"](function(e,n){fetch(t.getPublishUrl(),u(t.bookData)).then(l).then(function(t){return t.json()}).then(function(n){var r=n.id;return t.bookData.id=r,c(t).then(function(){e(r)})})["catch"](function(e){t.isPublishing=!1;var r=f(e);o("EbupPress: Publish failed",r),n(r)})}))}},{key:"download",value:function(t){var e=this;return new C["default"](function(n,r){s(e),fetch(e.getDownloadUrl(t)).then(l).then(function(t){return t.blob?t.blob():t.buffer()}).then(function(r){var i=e.getTitle()+"."+(t||e.getFiletype());a(i,r),n()})["catch"](function(t){var e=f(t);o("EpubPress: Download failed",e),r(e)})})}},{key:"email",value:function(t,e){var n=this;return new C["default"](function(r,i){return t?(s(n),fetch(n.getEmailUrl(t,e)).then(l).then(function(){o("EpubPress: Book delivered."),r()})["catch"](function(t){var e=f(t);o("EpubPress: Email delivery failed."),i(e)})):i(new Error("EpubPress: No email provided."))})}}]),t}();j.BASE_URL=T["default"].baseUrl,j.BASE_API=j.BASE_URL+"/api/v1",j.VERSION=T["default"].version,j.POLL_RATE=3e3,j.CHECK_STATUS_LIMIT=40,j.ERROR_CODES={0:"Server is down. Please try again later.","Failed to fetch":"Server is down. Please try again later.",FetchError:"Server is down. Please try again later.",400:"There was a problem with the request. Is EpubPress up to date?",404:"Resource not found.",422:"Request contained invalid data.",500:"Unexpected server error.",503:"Server took too long to respond.",timeout:"Request took too long to complete.",error:void 0,SERVER_FAILED:"Server error while downloading.",SERVER_BAD_CONTENT:"Book could not be found"},t.exports=j},function(t,e,n){t.exports={"default":n(4),__esModule:!0}},function(t,e,n){n(5),t.exports=n(8).Object.assign},function(t,e,n){var r=n(6);r(r.S+r.F,"Object",{assign:n(21)})},function(t,e,n){var r=n(7),i=n(8),o=n(9),s=n(11),a="prototype",u=function(t,e,n){var c,l,f,p=t&u.F,h=t&u.G,d=t&u.S,v=t&u.P,_=t&u.B,y=t&u.W,m=h?i:i[e]||(i[e]={}),g=m[a],b=h?r:d?r[e]:(r[e]||{})[a];h&&(n=e);for(c in n)l=!p&&b&&void 0!==b[c],l&&c in m||(f=l?b[c]:n[c],m[c]=h&&"function"!=typeof b[c]?n[c]:_&&l?o(f,r):y&&b[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[a]=t[a],e}(f):v&&"function"==typeof f?o(Function.call,f):f,v&&((m.virtual||(m.virtual={}))[c]=f,t&u.R&&g&&!g[c]&&s(g,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(10);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(12),i=n(20);t.exports=n(16)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(13),i=n(15),o=n(19),s=Object.defineProperty;e.f=n(16)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(14);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(16)&&!n(17)(function(){return 7!=Object.defineProperty(n(18)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(17)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var r=n(14),i=n(7).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(14);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var r=n(22),i=n(37),o=n(38),s=n(39),a=n(26),u=Object.assign;t.exports=!u||n(17)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=s(t),u=arguments.length,c=1,l=i.f,f=o.f;u>c;)for(var p,h=a(arguments[c++]),d=l?r(h).concat(l(h)):r(h),v=d.length,_=0;v>_;)f.call(h,p=d[_++])&&(n[p]=h[p]);return n}:u},function(t,e,n){var r=n(23),i=n(36);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(24),i=n(25),o=n(29)(!1),s=n(33)("IE_PROTO");t.exports=function(t,e){var n,a=i(t),u=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(26),i=n(28);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(27);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(25),i=n(30),o=n(32);t.exports=function(t){return function(e,n,s){var a,u=r(e),c=i(u.length),l=o(s,c);if(t&&n!=n){for(;c>l;)if(a=u[l++],a!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(31),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(31),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),0>t?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(34)("keys"),i=n(35);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(7),i="__core-js_shared__",o=r[i]||(r[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(28);t.exports=function(t){return Object(r(t))}},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(42),o=r(i);e["default"]=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o["default"])(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){t.exports={"default":n(43),__esModule:!0}},function(t,e,n){n(44);var r=n(8).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(6);r(r.S+r.F*!n(16),"Object",{defineProperty:n(12).f})},function(t,e,n){t.exports={"default":n(46),__esModule:!0}},function(t,e,n){var r=n(8),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e,n){(function(e,n,r){/* @preserve
		 * The MIT License (MIT)
		 * 
		 * Copyright (c) 2013-2015 Petka Antonov
		 * 
		 * Permission is hereby granted, free of charge, to any person obtaining a copy
		 * of this software and associated documentation files (the "Software"), to deal
		 * in the Software without restriction, including without limitation the rights
		 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
		 * copies of the Software, and to permit persons to whom the Software is
		 * furnished to do so, subject to the following conditions:
		 * 
		 * The above copyright notice and this permission notice shall be included in
		 * all copies or substantial portions of the Software.
		 * 
		 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
		 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
		 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
		 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
		 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
		 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
		 * THE SOFTWARE.
		 * 
		 */
!function(e){t.exports=e()}(function(){return function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof _dereq_&&_dereq_;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return i(n?n:t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof _dereq_&&_dereq_,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){"use strict";e.exports=function(t){function e(t){var e=new n(t),r=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),r}var n=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(t,n,r){"use strict";function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new f(16),this._normalQueue=new f(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=l}function o(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function s(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function a(t){this._normalQueue._pushOne(t),this._queueTick()}var u;try{throw new Error}catch(c){u=c}var l=t("./schedule"),f=t("./queue"),p=t("./util");i.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){p.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},i.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(n){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},p.hasDevTools?(i.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?o.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},i.prototype.invoke=function(t,e,n){this._trampolineEnabled?s.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},i.prototype.settlePromises=function(t){this._trampolineEnabled?a.call(this,t):this._schedule(function(){t._settlePromises()})}):(i.prototype.invokeLater=o,i.prototype.invoke=s,i.prototype.settlePromises=a),i.prototype.invokeFirst=function(t,e,n){this._normalQueue.unshift(t,e,n),this._queueTick()},i.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),r=t.shift();e.call(n,r)}else e._settlePromises()}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},n.exports=i,n.exports.firstLineError=u},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},s=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},a=function(t,e){0===(50397184&this._bitField)&&this._resolveCallback(e.target)},u=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var c=n(o),l=new t(e);l._propagateFrom(this,1);var f=this._target();if(l._setBoundTo(c),c instanceof t){var p={promiseRejectionQueued:!1,promise:l,target:f,bindingPromise:c};f._then(e,s,void 0,l,p),c._then(a,u,void 0,l,p),l._setOnCancel(c)}else l._resolveCallback(f);return l},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e,n){"use strict";function r(){try{Promise===o&&(Promise=i)}catch(t){}return o}var i;"undefined"!=typeof Promise&&(i=Promise);var o=t("./promise")();o.noConflict=r,e.exports=o},{"./promise":22}],5:[function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}e.exports=function(e){function n(t,n){var r;if(null!=t&&(r=t[n]),"function"!=typeof r){var i="Object "+a.classString(t)+" has no method '"+a.toString(n)+"'";throw new e.TypeError(i)}return r}function r(t){var e=this.pop(),r=n(t,e);return r.apply(t,this)}function i(t){return t[this]}function o(t){var e=+this;return 0>e&&(e=Math.max(0,e+t.length)),t[e]}var s,a=t("./util"),u=a.canEvaluate;a.isIdentifier,e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(r,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e,n="number"==typeof t;if(n)e=o;else if(u){var r=s(t);e=null!==r?r:i}else e=i;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),s=o.tryCatch,a=o.errorObj,u=e._async;e.prototype["break"]=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=s(t).call(this._boundValue());r===a&&(this._attachExtraTrace(r.e),u.throwLater(r.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(e){function n(t,n,a){return function(u){var c=a._boundValue();t:for(var l=0;l<t.length;++l){var f=t[l];if(f===Error||null!=f&&f.prototype instanceof Error){if(u instanceof f)return o(n).call(c,u)}else if("function"==typeof f){var p=o(f).call(c,u);if(p===s)return p;if(p)return o(n).call(c,u)}else if(r.isObject(u)){for(var h=i(f),d=0;d<h.length;++d){var v=h[d];if(f[v]!=u[v])continue t}return o(n).call(c,u)}}return e}}var r=t("./util"),i=t("./es5").keys,o=r.tryCatch,s=r.errorObj;return n}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(t){function e(){this._trace=new e.CapturedTrace(r())}function n(){return i?new e:void 0}function r(){var t=o.length-1;return t>=0?o[t]:void 0}var i=!1,o=[];return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},e.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},e.prototype._popContext=function(){if(void 0!==this._trace){var t=o.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},e.CapturedTrace=null,e.create=n,e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var n=t.prototype._pushContext,o=t.prototype._popContext,s=t._peekContext,a=t.prototype._peekContext,u=t.prototype._promiseCreated;e.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=o,t._peekContext=s,t.prototype._peekContext=a,t.prototype._promiseCreated=u,i=!1},i=!0,t.prototype._pushContext=e.prototype._pushContext,t.prototype._popContext=e.prototype._popContext,t._peekContext=t.prototype._peekContext=r,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},e}},{}],9:[function(t,n,r){"use strict";n.exports=function(n,r){function i(t,e){return{promise:e}}function o(){return!1}function s(t,e,n){var r=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+M.toString(t));r._attachCancellationCallback(t)})}catch(i){return i}}function a(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?M.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function u(){return this._onCancelField}function c(t){this._onCancelField=t}function l(){this._cancellationParent=void 0,this._onCancelField=void 0}function f(t,e){if(0!==(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function p(t,e){0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function h(){var t=this._boundTo;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function d(){this._trace=new R(this._peekContext())}function v(t,e){if(B(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=E(t);M.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),M.notEnumerableProp(t,"__stackCleaned__",!0)}}}function _(t,e,n,r,i){if(void 0===t&&null!==e&&K){if(void 0!==i&&i._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var o="",s="";if(e._trace){for(var a=e._trace.stack.split("\n"),u=x(a),c=u.length-1;c>=0;--c){var l=u[c];if(!U.test(l)){var f=l.match(V);f&&(o="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(u.length>0)for(var p=u[0],c=0;c<a.length;++c)if(a[c]===p){c>0&&(s="\n"+a[c-1]);break}}var h="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+s;r._warn(h,!0,e)}}function y(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),m(n)}function m(t,e,r){if(st.warnings){var i,o=new H(t);if(e)r._attachExtraTrace(o);else if(st.longStackTraces&&(i=n._peekContext()))i.attachExtraTrace(o);else{var s=E(o);o.stack=s.message+"\n"+s.stack.join("\n")}et("warning",o)||k(o,"",!0)}}function g(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function b(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function w(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],s=-1,a=r.length-1;a>=0;--a)if(r[a]===o){s=a;break}for(var a=s;a>=0;--a){var u=r[a];if(e[i]!==u)break;e.pop(),i--}e=r}}function x(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||$.test(r),o=i&&rt(r);i&&!o&&(z&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function C(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||$.test(r))break}return n>0&&(e=e.slice(n)),e}function E(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?C(t):["    (No stack trace)"],{message:n,stack:x(e)}}function k(t,e,n){if("undefined"!=typeof console){var r;if(M.isObject(t)){var i=t.stack;r=e+W(i,t)}else r=e+String(t);"function"==typeof N?N(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function T(t,e,n,r){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(o){I.throwLater(o)}"unhandledRejection"===t?et(t,n,r)||i||k(n,"Unhandled rejection "):et(t,r)}function j(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"==typeof t.toString?t.toString():M.toString(t);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(e))try{var r=JSON.stringify(t);e=r}catch(i){}0===e.length&&(e="(empty array)")}return"(<"+F(e)+">, no stack trace)"}function F(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function S(){return"function"==typeof ot}function O(t){var e=t.match(it);return e?{fileName:e[1],line:parseInt(e[2],10)}:void 0}function P(t,e){if(S()){for(var n,r,i=t.stack.split("\n"),o=e.stack.split("\n"),s=-1,a=-1,u=0;u<i.length;++u){var c=O(i[u]);if(c){n=c.fileName,s=c.line;break}}for(var u=0;u<o.length;++u){var c=O(o[u]);if(c){r=c.fileName,a=c.line;break}}0>s||0>a||!n||!r||n!==r||s>=a||(rt=function(t){if(q.test(t))return!0;var e=O(t);return!!(e&&e.fileName===n&&s<=e.line&&e.line<=a)})}}function R(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);ot(this,R),e>32&&this.uncycle()}var A,D,N,L=n._getDomain,I=n._async,H=t("./errors").Warning,M=t("./util"),B=M.canAttachTrace,q=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,U=/\((?:timers\.js):\d+:\d+\)/,V=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,$=null,W=null,z=!1,Q=!(0==M.env("BLUEBIRD_DEBUG")),X=!(0==M.env("BLUEBIRD_WARNINGS")||!Q&&!M.env("BLUEBIRD_WARNINGS")),G=!(0==M.env("BLUEBIRD_LONG_STACK_TRACES")||!Q&&!M.env("BLUEBIRD_LONG_STACK_TRACES")),K=0!=M.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(X||!!M.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},n.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),I.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){T("rejectionHandled",A,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),T("unhandledRejection",D,t,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(t,e,n){return m(t,e,n||this)},n.onPossiblyUnhandledRejection=function(t){var e=L();D="function"==typeof t?null===e?t:M.domainBind(e,t):void 0},n.onUnhandledRejectionHandled=function(t){var e=L();A="function"==typeof t?null===e?t:M.domainBind(e,t):void 0};var J=function(){};n.longStackTraces=function(){if(I.haveItemsQueued()&&!st.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!st.longStackTraces&&S()){var t=n.prototype._captureStackTrace,e=n.prototype._attachExtraTrace;st.longStackTraces=!0,J=function(){if(I.haveItemsQueued()&&!st.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=t,n.prototype._attachExtraTrace=e,r.deactivateLongStackTraces(),I.enableTrampoline(),st.longStackTraces=!1},n.prototype._captureStackTrace=d,n.prototype._attachExtraTrace=v,r.activateLongStackTraces(),I.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return st.longStackTraces&&S()};var Y=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return M.global.dispatchEvent(t),function(t,e){var n=new CustomEvent(t.toLowerCase(),{detail:e,cancelable:!0});return!M.global.dispatchEvent(n)}}if("function"==typeof Event){var t=new Event("CustomEvent");return M.global.dispatchEvent(t),function(t,e){var n=new Event(t.toLowerCase(),{cancelable:!0});return n.detail=e,!M.global.dispatchEvent(n)}}var t=document.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),M.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!M.global.dispatchEvent(n)}}catch(e){}return function(){return!1}}(),Z=function(){return M.isNode?function(){return e.emit.apply(e,arguments)}:M.global?function(t){var e="on"+t.toLowerCase(),n=M.global[e];return!!n&&(n.apply(M.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),tt={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:i},et=function(t){var e=!1;try{e=Z.apply(null,arguments)}catch(n){I.throwLater(n),e=!0}var r=!1;try{r=Y(t,tt[t].apply(null,arguments))}catch(n){I.throwLater(n),r=!0}return r||e};n.config=function(t){if(t=Object(t),"longStackTraces"in t&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&J()),"warnings"in t){var e=t.warnings;st.warnings=!!e,K=st.warnings,M.isObject(e)&&"wForgottenReturn"in e&&(K=!!e.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!st.cancellation){if(I.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=l,n.prototype._propagateFrom=f,n.prototype._onCancel=u,n.prototype._setOnCancel=c,n.prototype._attachCancellationCallback=a,n.prototype._execute=s,nt=f,st.cancellation=!0}"monitoring"in t&&(t.monitoring&&!st.monitoring?(st.monitoring=!0,n.prototype._fireEvent=et):!t.monitoring&&st.monitoring&&(st.monitoring=!1,n.prototype._fireEvent=o))},n.prototype._fireEvent=o,n.prototype._execute=function(t,e,n){try{t(e,n)}catch(r){return r}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(t){},n.prototype._attachCancellationCallback=function(t){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(t,e){};var nt=p,rt=function(){return!1},it=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;M.inherits(R,Error),r.CapturedTrace=R,R.prototype.uncycle=function(){var t=this._length;if(!(2>t)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;t=this._length=r;for(var r=t-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;t>r;++r){var s=e[r].stack,a=n[s];if(void 0!==a&&a!==r){a>0&&(e[a-1]._parent=void 0,e[a-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var u=r>0?e[r-1]:this;t-1>a?(u._parent=e[a+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var c=u._length+1,l=r-2;l>=0;--l)e[l]._length=c,c++;return}}}},R.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=E(t),n=e.message,r=[e.stack],i=this;void 0!==i;)r.push(x(i.stack.split("\n"))),i=i._parent;w(r),b(r),M.notEnumerableProp(t,"stack",g(n,r)),M.notEnumerableProp(t,"__stackCleaned__",!0)}};var ot=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():j(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,$=t,W=e;var n=Error.captureStackTrace;return rt=function(t){return q.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return $=/@/,W=e,z=!0,function(t){t.stack=(new Error).stack};var i;try{throw new Error}catch(o){i="stack"in o}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(W=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?j(e):e.toString()},null):($=t,W=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(N=function(t){console.warn(t)},M.isNode&&e.stderr.isTTY?N=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:M.isNode||"string"!=typeof(new Error).stack||(N=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var st={warnings:X,longStackTraces:!1,cancellation:!1,monitoring:!1};return G&&n.longStackTraces(),{longStackTraces:function(){return st.longStackTraces},warnings:function(){return st.warnings},cancellation:function(){return st.cancellation},monitoring:function(){return st.monitoring},propagateFromFunction:function(){return nt},boundValueFunction:function(){return h},checkForgottenReturns:_,setBounds:P,warn:m,deprecated:y,CapturedTrace:R,fireDomEvent:Y,fireGlobalEvent:Z}}},{"./errors":12,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype["return"]=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype["throw"]=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1],r=function(){throw e};return this.caught(t,r)},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];r instanceof t&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,e){function n(){return o(this)}function r(t,n){return i(t,n,e,e)}var i=t.reduce,o=t.all;t.prototype.each=function(t){return i(this,t,e,0)._then(n,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,e,e)},t.each=function(t,r){return i(t,r,e,0)._then(n,void 0,void 0,t,void 0)},t.mapSeries=r}},{}],12:[function(t,e,n){"use strict";function r(t,e){function n(r){return this instanceof n?(f(this,"message","string"==typeof r?r:e),f(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return l(n,Error),n}function i(t){return this instanceof i?(f(this,"name","OperationalError"),f(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(f(this,"message",t.message),f(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(t)}var o,s,a=t("./es5"),u=a.freeze,c=t("./util"),l=c.inherits,f=c.notEnumerableProp,p=r("Warning","warning"),h=r("CancellationError","cancellation error"),d=r("TimeoutError","timeout error"),v=r("AggregateError","aggregate error");try{o=TypeError,s=RangeError}catch(_){o=r("TypeError","type error"),s=r("RangeError","range error")}for(var y="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<y.length;++m)"function"==typeof Array.prototype[y[m]]&&(v.prototype[y[m]]=Array.prototype[y[m]]);a.defineProperty(v.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),v.prototype.isOperational=!0;var g=0;v.prototype.toString=function(){var t=Array(4*g+1).join(" "),e="\n"+t+"AggregateError of:\n";g++,t=Array(4*g+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];r=i.join("\n"),e+=r+"\n"}return g--,e},l(i,Error);var b=Error.__BluebirdErrorTypes__;b||(b=u({CancellationError:h,TimeoutError:d,OperationalError:i,RejectionError:i,AggregateError:v}),a.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:o,RangeError:s,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:p}},{"./es5":13,"./util":36}],13:[function(t,e,n){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,s={}.constructor.prototype,a=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e},u=function(t,e){return{value:t[e]}},c=function(t,e,n){return t[e]=n.value,t},l=function(t){return t},f=function(t){try{return Object(t).constructor.prototype}catch(e){return s}},p=function(t){try{return"[object Array]"===o.call(t)}catch(e){return!1}};e.exports={isArray:p,keys:a,names:a,defineProperty:c,getDescriptor:u,freeze:l,getPrototypeOf:f,isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function i(t){this.finallyHandler=t}function o(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function s(){return u.call(this,this.promise._target()._settledValue())}function a(t){return o(this,t)?void 0:(f.e=t,f)}function u(t){var r=this.promise,u=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?u.call(r._boundValue()):u.call(r._boundValue(),t);if(void 0!==c){r._setReturnedNonUndefined();var p=n(c,r);if(p instanceof e){if(null!=this.cancelPromise){if(p._isCancelled()){var h=new l("late cancellation observer");return r._attachExtraTrace(h),f.e=h,f}p.isPending()&&p._attachCancellationCallback(new i(this))}return p._then(s,a,void 0,this,void 0)}}}return r.isRejected()?(o(this),f.e=t,f):(o(this),t)}var c=t("./util"),l=e.CancellationError,f=c.errorObj;return r.prototype.isFinallyHandler=function(){return 0===this.type},i.prototype._resultCancelled=function(){o(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,i){return"function"!=typeof t?this.then():this._then(n,i,void 0,new r(this,e,t),void 0)},e.prototype.lastly=e.prototype["finally"]=function(t){return this._passThrough(t,0,u,u)},e.prototype.tap=function(t){return this._passThrough(t,1,u)},r}},{"./util":36}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var s=h(n[o])(t);if(r._popContext(),s===p){r._pushContext();var a=e.reject(p.e);return r._popContext(),a}var u=i(s,r);if(u instanceof e)return u}return null}function u(t,n,i,o){if(s.cancellation()){var a=new e(r),u=this._finallyPromise=new e(r);this._promise=a.lastly(function(){return u}),a._captureStackTrace(),a._setOnCancel(this)}else{var c=this._promise=new e(r);c._captureStackTrace()}this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(d):d,this._yieldedPromise=null,this._cancellationPhase=!1}var c=t("./errors"),l=c.TypeError,f=t("./util"),p=f.errorObj,h=f.tryCatch,d=[];f.inherits(u,o),u.prototype._isResolved=function(){return null===this._promise},u.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},u.prototype._promiseCancelled=function(){if(!this._isResolved()){var t,n="undefined"!=typeof this._generator["return"];if(n)this._promise._pushContext(),t=h(this._generator["return"]).call(this._generator,void 0),this._promise._popContext();else{var r=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),t=h(this._generator["throw"]).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},u.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=h(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},u.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=h(this._generator["throw"]).call(this._generator,t);this._promise._popContext(),this._continue(e)},u.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},u.prototype.promise=function(){return this._promise},u.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},u.prototype._continue=function(t){var n=this._promise;if(t===p)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(t.done===!0)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(!(o instanceof e)&&(o=a(o,this._yieldHandlers,this._promise),null===o))return void this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",r)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var s=o._bitField;0===(50397184&s)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&s)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&s)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},e.coroutine=function(t,e){if("function"!=typeof t)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=u,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r((void 0),(void 0),n,i),s=o.promise();return o._generator=e,o._promiseFulfilled(void 0),s}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+f.classString(t));d.push(t)},e.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");
var r=new u(t,this),i=r.promise();return r._run(e.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){var a=t("./util");a.canEvaluate,a.tryCatch,a.errorObj,e.join=function(){var t,e=arguments.length-1;if(e>0&&"function"==typeof arguments[e]){t=arguments[e];var r}var i=[].slice.call(arguments);t&&i.pop();var r=new n(i).promise();return void 0!==t?r.spread(t):r}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,e,n,r){this.constructor$(t),this._promise._captureStackTrace();var i=c();this._callback=null===i?e:l.domainBind(i,e),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],h.invoke(this._asyncInit,this,void 0)}function u(t,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+l.classString(n));var s=0;if(void 0!==i){if("object"!=typeof i||null===i)return e.reject(new TypeError("options argument must be an object but it is "+l.classString(i)));if("number"!=typeof i.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(i.concurrency)));s=i.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new a(t,n,s,o).promise()}var c=e._getDomain,l=t("./util"),f=l.tryCatch,p=l.errorObj,h=e._async;l.inherits(a,n),a.prototype._asyncInit=function(){this._init$(void 0,-2)},a.prototype._init=function(){},a.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),a=this._preservedValues,u=this._limit;if(0>n){if(n=-1*n-1,r[n]=t,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return r[n]=t,this._queue.push(n),!1;null!==a&&(a[n]=t);var c=this._promise,l=this._callback,h=c._boundValue();c._pushContext();var d=f(l).call(h,t,n,o),v=c._popContext();if(s.checkForgottenReturns(d,v,null!==a?"Promise.filter":"Promise.map",c),d===p)return this._reject(d.e),!0;var _=i(d,this._promise);if(_ instanceof e){_=_._target();var y=_._bitField;if(0===(50397184&y))return u>=1&&this._inFlight++,r[n]=_,_._proxy(this,-1*(n+1)),!1;if(0===(33554432&y))return 0!==(16777216&y)?(this._reject(_._reason()),!0):(this._cancel(),!0);d=_._value()}r[n]=d}var m=++this._totalResolved;return m>=o&&(null!==a?this._filter(r,a):this._resolve(r),!0)},a.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},a.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;n>o;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},a.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return u(this,t,e,null)},e.map=function(t,e,n,r){return u(t,e,n,r)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var s=t("./util"),a=s.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+s.classString(t));return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var i=a(t).apply(this,arguments),s=r._popContext();return o.checkForgottenReturns(i,s,"Promise.method",r),r._resolveFromSyncValue(i),r}},e.attempt=e["try"]=function(t){if("function"!=typeof t)return i("expecting a function but got "+s.classString(t));var r=new e(n);r._captureStackTrace(),r._pushContext();var u;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],l=arguments[2];u=s.isArray(c)?a(t).apply(l,c):a(t).call(l,c)}else u=a(t)();var f=r._popContext();return o.checkForgottenReturns(u,f,"Promise.try",r),r._resolveFromSyncValue(u),r},e.prototype._resolveFromSyncValue=function(t){t===s.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";function r(t){return t instanceof Error&&l.getPrototypeOf(t)===Error.prototype}function i(t){var e;if(r(t)){e=new c(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var n=l.keys(t),i=0;i<n.length;++i){var o=n[i];f.test(o)||(e[o]=t[o])}return e}return s.markAsOriginatingFromRejection(t),t}function o(t,e){return function(n,r){if(null!==t){if(n){var o=i(a(n));t._attachExtraTrace(o),t._reject(o)}else if(e){var s=[].slice.call(arguments,1);t._fulfill(s)}else t._fulfill(r);t=null}}}var s=t("./util"),a=s.maybeWrapAsError,u=t("./errors"),c=u.OperationalError,l=t("./es5"),f=/^(?:name|message|stack|cause)$/;e.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){function n(t,e){var n=this;if(!o.isArray(t))return r.call(n,t,e);var i=a(e).apply(n._boundValue(),[null].concat(t));i===u&&s.throwLater(i.e)}function r(t,e){var n=this,r=n._boundValue(),i=void 0===t?a(e).call(r,null):a(e).call(r,null,t);i===u&&s.throwLater(i.e)}function i(t,e){var n=this;if(!t){var r=new Error(t+"");r.cause=t,t=r}var i=a(e).call(n._boundValue(),t);i===u&&s.throwLater(i.e)}var o=t("./util"),s=e._async,a=o.tryCatch,u=o.errorObj;e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var o=r;void 0!==e&&Object(e).spread&&(o=n),this._then(o,i,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,r){"use strict";n.exports=function(){function r(){}function i(t,e){if("function"!=typeof e)throw new g("expecting a function but got "+d.classString(e));if(t.constructor!==o)throw new g("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function o(t){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,t!==w&&(i(this,t),this._resolveFromExecutor(t)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function s(t){this.promise._resolveCallback(t)}function a(t){this.promise._rejectCallback(t,!1)}function u(t){var e=new o(w);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}var c,l=function(){return new g("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},f=function(){return new o.PromiseInspection(this._target())},p=function(t){return o.reject(new g(t))},h={},d=t("./util");c=d.isNode?function(){var t=e.domain;return void 0===t&&(t=null),t}:function(){return null},d.notEnumerableProp(o,"_getDomain",c);var v=t("./es5"),_=t("./async"),y=new _;v.defineProperty(o,"_async",{value:y});var m=t("./errors"),g=o.TypeError=m.TypeError;o.RangeError=m.RangeError;var b=o.CancellationError=m.CancellationError;o.TimeoutError=m.TimeoutError,o.OperationalError=m.OperationalError,o.RejectionError=m.OperationalError,o.AggregateError=m.AggregateError;var w=function(){},x={},C={},E=t("./thenables")(o,w),k=t("./promise_array")(o,w,E,p,r),T=t("./context")(o),j=T.create,F=t("./debuggability")(o,T),S=(F.CapturedTrace,t("./finally")(o,E)),O=t("./catch_filter")(C),P=t("./nodeback"),R=d.errorObj,A=d.tryCatch;return o.prototype.toString=function(){return"[object Promise]"},o.prototype.caught=o.prototype["catch"]=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),i=0;for(n=0;e-1>n;++n){var o=arguments[n];if(!d.isObject(o))return p("expecting an object but got A catch statement predicate "+d.classString(o));r[i++]=o}return r.length=i,t=arguments[n],this.then(void 0,O(r,t,this))}return this.then(void 0,t)},o.prototype.reflect=function(){return this._then(f,f,void 0,this,void 0)},o.prototype.then=function(t,e){if(F.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+d.classString(t);arguments.length>1&&(n+=", "+d.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},o.prototype.done=function(t,e){var n=this._then(t,e,void 0,void 0,void 0);n._setIsFinal()},o.prototype.spread=function(t){return"function"!=typeof t?p("expecting a function but got "+d.classString(t)):this.all()._then(t,void 0,void 0,x,void 0)},o.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},o.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new k(this).promise()},o.prototype.error=function(t){return this.caught(d.originatesFromRejection,t)},o.getNewLibraryCopy=n.exports,o.is=function(t){return t instanceof o},o.fromNode=o.fromCallback=function(t){var e=new o(w);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=A(t)(P(e,n));return r===R&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},o.all=function(t){return new k(t).promise()},o.cast=function(t){var e=E(t);return e instanceof o||(e=new o(w),e._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},o.resolve=o.fulfilled=o.cast,o.reject=o.rejected=function(t){var e=new o(w);return e._captureStackTrace(),e._rejectCallback(t,!0),e},o.setScheduler=function(t){if("function"!=typeof t)throw new g("expecting a function but got "+d.classString(t));return y.setScheduler(t)},o.prototype._then=function(t,e,n,r,i){var s=void 0!==i,a=s?i:new o(w),u=this._target(),l=u._bitField;s||(a._propagateFrom(this,3),a._captureStackTrace(),void 0===r&&0!==(2097152&this._bitField)&&(r=0!==(50397184&l)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,a));var f=c();if(0!==(50397184&l)){var p,h,v=u._settlePromiseCtx;0!==(33554432&l)?(h=u._rejectionHandler0,p=t):0!==(16777216&l)?(h=u._fulfillmentHandler0,p=e,u._unsetRejectionIsUnhandled()):(v=u._settlePromiseLateCancellationObserver,h=new b("late cancellation observer"),u._attachExtraTrace(h),p=e),y.invoke(v,u,{handler:null===f?p:"function"==typeof p&&d.domainBind(f,p),promise:a,receiver:r,value:h})}else u._addCallbacks(t,e,a,r,f);return a},o.prototype._length=function(){return 65535&this._bitField},o.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},o.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},o.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},o.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},o.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},o.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},o.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},o.prototype._isFinal=function(){return(4194304&this._bitField)>0},o.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},o.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},o.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},o.prototype._setAsyncGuaranteed=function(){y.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},o.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==h)return void 0===e&&this._isBound()?this._boundValue():e},o.prototype._promiseAt=function(t){return this[4*t-4+2]},o.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},o.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},o.prototype._boundValue=function(){},o.prototype._migrateCallback0=function(t){var e=(t._bitField,t._fulfillmentHandler0),n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=h),this._addCallbacks(e,n,r,i,null)},o.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=h),this._addCallbacks(n,r,i,o,null)},o.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=null===i?t:d.domainBind(i,t)),"function"==typeof e&&(this._rejectionHandler0=null===i?e:d.domainBind(i,e));else{var s=4*o-4;this[s+2]=n,this[s+3]=r,"function"==typeof t&&(this[s+0]=null===i?t:d.domainBind(i,t)),"function"==typeof e&&(this[s+1]=null===i?e:d.domainBind(i,e))}return this._setLength(o+1),o},o.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},o.prototype._resolveCallback=function(t,e){if(0===(117506048&this._bitField)){if(t===this)return this._rejectCallback(l(),!1);var n=E(t,this);if(!(n instanceof o))return this._fulfill(t);e&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(l());var i=r._bitField;if(0===(50397184&i)){var s=this._length();s>0&&r._migrateCallback0(this);for(var a=1;s>a;++a)r._migrateCallbackAt(this,a);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!==(33554432&i))this._fulfill(r._value());else if(0!==(16777216&i))this._reject(r._reason());else{var u=new b("late cancellation observer");r._attachExtraTrace(u),this._reject(u)}}},o.prototype._rejectCallback=function(t,e,n){var r=d.ensureErrorObject(t),i=r===t;if(!i&&!n&&F.warnings()){var o="a promise was rejected with a non-error: "+d.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,!!e&&i),this._reject(t)},o.prototype._resolveFromExecutor=function(t){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)},o.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0===(65536&i)){r._pushContext();var o;e===x?n&&"number"==typeof n.length?o=A(t).apply(this._boundValue(),n):(o=R,o.e=new g("cannot .spread() a non-array: "+d.classString(n))):o=A(t).call(e,n);var s=r._popContext();i=r._bitField,0===(65536&i)&&(o===C?r._reject(n):o===R?r._rejectCallback(o.e,!1):(F.checkForgottenReturns(o,s,"",r,this),r._resolveCallback(o)))}},o.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},o.prototype._followee=function(){return this._rejectionHandler0},o.prototype._setFollowee=function(t){this._rejectionHandler0=t},o.prototype._settlePromise=function(t,e,n,i){var s=t instanceof o,a=this._bitField,u=0!==(134217728&a);0!==(65536&a)?(s&&t._invokeInternalOnCancel(),n instanceof S&&n.isFinallyHandler()?(n.cancelPromise=t,A(e).call(n,i)===R&&t._reject(R.e)):e===f?t._fulfill(f.call(n)):n instanceof r?n._promiseCancelled(t):s||t instanceof k?t._cancel():n.cancel()):"function"==typeof e?s?(u&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,i,t)):e.call(n,i,t):n instanceof r?n._isResolved()||(0!==(33554432&a)?n._promiseFulfilled(i,t):n._promiseRejected(i,t)):s&&(u&&t._setAsyncGuaranteed(),0!==(33554432&a)?t._fulfill(i):t._reject(i))},o.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,i=t.value;"function"==typeof e?n instanceof o?this._settlePromiseFromHandler(e,r,i,n):e.call(r,i,n):n instanceof o&&n._reject(i)},o.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},o.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},o.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},o.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=l();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!==(134217728&e)?this._settlePromises():y.settlePromises(this))}},o.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16))return this._setRejected(),this._fulfillmentHandler0=t,this._isFinal()?y.fatalError(t,d.isNode):void((65535&e)>0?y.settlePromises(this):this._ensurePossibleRejectionHandled())},o.prototype._fulfillPromises=function(t,e){for(var n=1;t>n;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._rejectPromises=function(t,e){for(var n=1;t>n;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!==(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},o.prototype._settledValue=function(){var t=this._bitField;return 0!==(33554432&t)?this._rejectionHandler0:0!==(16777216&t)?this._fulfillmentHandler0:void 0},o.defer=o.pending=function(){F.deprecated("Promise.defer","new Promise");var t=new o(w);return{promise:t,resolve:s,reject:a}},d.notEnumerableProp(o,"_makeSelfResolutionError",l),t("./method")(o,w,E,p,F),t("./bind")(o,w,E,F),t("./cancel")(o,k,p,F),t("./direct_resolve")(o),t("./synchronous_inspection")(o),t("./join")(o,k,E,w,y,c),o.Promise=o,o.version="3.4.6",t("./map.js")(o,k,p,E,w,F),t("./call_get.js")(o),t("./using.js")(o,p,E,j,w,F),t("./timers.js")(o,w,F),t("./generators.js")(o,p,w,E,r,F),t("./nodeify.js")(o),t("./promisify.js")(o,w),t("./props.js")(o,k,E,p),t("./race.js")(o,w,E,p),t("./reduce.js")(o,k,p,E,w,F),t("./settle.js")(o,k,F),t("./some.js")(o,k,p),t("./filter.js")(o,w),t("./each.js")(o,w),t("./any.js")(o),d.toFastProperties(o),d.toFastProperties(o.prototype),u({a:1}),u({b:2}),u({c:3}),u(1),u(function(){}),u(void 0),u(!1),u(new o(w)),F.setBounds(_.firstLineError,d.lastLineError),o}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){function s(t){switch(t){case-2:return[];case-3:return{}}}function a(t){var r=this._promise=new e(n);t instanceof e&&r._propagateFrom(t,3),r._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var u=t("./util");return u.isArray,u.inherits(a,o),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function c(t,n){var o=r(this._values,this._promise);if(o instanceof e){o=o._target();var a=o._bitField;if(this._values=o,0===(50397184&a))return this._promise._setAsyncGuaranteed(),o._then(c,this._reject,void 0,this,n);if(0===(33554432&a))return 0!==(16777216&a)?this._reject(o._reason()):this._cancel();o=o._value()}if(o=u.asArray(o),null===o){var l=i("expecting an array or an iterable object but got "+u.classString(o)).reason();return void this._promise._rejectCallback(l,!1)}return 0===o.length?void(-5===n?this._resolveEmptyArray():this._resolve(s(n))):void this._iterate(o)},a.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,s=null,a=0;n>a;++a){var u=r(t[a],i);u instanceof e?(u=u._target(),s=u._bitField):s=null,o?null!==s&&u.suppressUnhandledRejections():null!==s?0===(50397184&s)?(u._proxy(this,a),this._values[a]=u):o=0!==(33554432&s)?this._promiseFulfilled(u._value(),a):0!==(16777216&s)?this._promiseRejected(u._reason(),a):this._promiseCancelled(a):o=this._promiseFulfilled(u,a)}o||i._setAsyncGuaranteed()},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},a.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},a.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},a.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(t){return t},a}},{"./util":36}],24:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t){return!x.test(t)}function i(t){try{return t.__isPromisified__===!0}catch(e){return!1}}function o(t,e,n){var r=h.getDataPropertyOrDefault(t,e+n,b);return!!r&&i(r)}function s(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),s=0;s<t.length;s+=2)if(t[s]===o)throw new m("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}function a(t,e,n,r){for(var a=h.inheritedDataKeys(t),u=[],c=0;c<a.length;++c){var l=a[c],f=t[l],p=r===C||C(l,f,t);"function"!=typeof f||i(f)||o(t,l,e)||!r(l,f,t,p)||u.push(l,f)}return s(u,e,n),u}function u(t,r,i,o,s,a){function u(){var i=r;r===p&&(i=this);var o=new e(n);o._captureStackTrace();var s="string"==typeof l&&this!==c?this[l]:t,u=d(o,a);try{s.apply(i,v(arguments,u))}catch(f){o._rejectCallback(_(f),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var c=function(){return this}(),l=t;return"string"==typeof l&&(t=o),h.notEnumerableProp(u,"__isPromisified__",!0),u}function c(t,e,n,r,i){for(var o=new RegExp(E(e)+"$"),s=a(t,e,o,n),u=0,c=s.length;c>u;u+=2){var l=s[u],f=s[u+1],d=l+e;if(r===k)t[d]=k(l,p,l,f,e,i);else{var v=r(f,function(){return k(l,p,l,f,e,i)});h.notEnumerableProp(v,"__isPromisified__",!0),t[d]=v}}return h.toFastProperties(t),t}function l(t,e,n){return k(t,e,void 0,t,null,n)}var f,p={},h=t("./util"),d=t("./nodeback"),v=h.withAppended,_=h.maybeWrapAsError,y=h.canEvaluate,m=t("./errors").TypeError,g="Async",b={__isPromisified__:!0},w=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],x=new RegExp("^(?:"+w.join("|")+")$"),C=function(t){return h.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t},E=function(t){return t.replace(/([$])/,"\\$")},k=y?f:u;e.promisify=function(t,e){if("function"!=typeof t)throw new m("expecting a function but got "+h.classString(t));if(i(t))return t;e=Object(e);var n=void 0===e.context?p:e.context,o=!!e.multiArgs,s=l(t,n,o);return h.copyDescriptors(t,s,r),s},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new m("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");e=Object(e);var n=!!e.multiArgs,r=e.suffix;"string"!=typeof r&&(r=g);var i=e.filter;"function"!=typeof i&&(i=C);var o=e.promisifier;if("function"!=typeof o&&(o=k),!h.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=h.inheritedDataKeys(t),a=0;a<s.length;++a){var u=t[s[a]];"constructor"!==s[a]&&h.isClass(u)&&(c(u.prototype,r,i,o,n),c(u,r,i,o,n))}return c(t,r,i,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t){var e,n=!1;if(void 0!==a&&t instanceof a)e=f(t),n=!0;else{var r=l.keys(t),i=r.length;e=new Array(2*i);for(var o=0;i>o;++o){var s=r[o];e[o]=t[s],e[o+i]=s}}this.constructor$(e),this._isMap=n,this._init$(void 0,-3)}function s(t){var n,s=r(t);return c(s)?(n=s instanceof e?s._then(e.props,void 0,void 0,void 0,void 0):new o(s).promise(),s instanceof e&&n._propagateFrom(s,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var a,u=t("./util"),c=u.isObject,l=t("./es5");"function"==typeof Map&&(a=Map);var f=function(){function t(t,r){this[e]=t,this[e+n]=r,e++}var e=0,n=0;return function(r){n=r.size,e=0;var i=new Array(2*r.size);return r.forEach(t,i),i}}(),p=function(t){for(var e=new a,n=t.length/2|0,r=0;n>r;++r){var i=t[n+r],o=t[r];e.set(i,o)}return e};u.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){var r;if(this._isMap)r=p(this._values);else{r={};for(var i=this.length(),o=0,s=this.length();s>o;++o)r[this._values[o+i]]=this._values[o]}return this._resolve(r),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return s(this)},e.props=function(t){return s(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o=0;i>o;++o)n[o+r]=t[o+e],t[o+e]=void 0}function i(t){this._capacity=t,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(t){return this._capacity<t},i.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},i.prototype._unshiftOne=function(t){var e=this._capacity;this._checkCapacity(this.length()+1);var n=this._front,r=(n-1&e-1^e)-e;this[r]=t,this._front=r,this._length=this.length()+1},i.prototype.unshift=function(t,e,n){this._unshiftOne(n),this._unshiftOne(e),this._unshiftOne(t)},i.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var n=this._front,i=this._length,o=n+i&e-1;r(this,0,this,e,o)},e.exports=i},{}],27:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t,o){var u=r(t);if(u instanceof e)return a(u);if(t=s.asArray(t),null===t)return i("expecting an array or an iterable object but got "+s.classString(t));var c=new e(n);void 0!==o&&c._propagateFrom(o,3);for(var l=c._fulfill,f=c._reject,p=0,h=t.length;h>p;++p){var d=t[p];(void 0!==d||p in t)&&e.cast(d)._then(l,f,void 0,c,null)}return c}var s=t("./util"),a=function(t){return t.then(function(e){return o(e,t)})};e.race=function(t){return o(t,void 0)},e.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,n,r,i){this.constructor$(t);var s=p();this._fn=null===s?n:h.domainBind(s,n),void 0!==r&&(r=e.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,i===o?this._eachValues=Array(this._length):0===i?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function u(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function c(t,e,n,i){if("function"!=typeof e)return r("expecting a function but got "+h.classString(e));var o=new a(t,e,n,i);return o.promise()}function l(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(f,void 0,void 0,this,void 0)):f.call(this,n)}function f(t){var n=this.array,r=n._promise,i=d(n._fn);r._pushContext();var o;o=void 0!==n._eachValues?i.call(r._boundValue(),t,this.index,this.length):i.call(r._boundValue(),this.accum,t,this.index,this.length),o instanceof e&&(n._currentCancellable=o);var a=r._popContext();return s.checkForgottenReturns(o,a,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),o}var p=e._getDomain,h=t("./util"),d=h.tryCatch;h.inherits(a,n),a.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==o&&this._eachValues.push(t)},a.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},a.prototype._init=function(){},a.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},a.prototype.shouldCopyValues=function(){return!1},a.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},a.prototype._resultCancelled=function(t){return t===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel()))},a.prototype._iterate=function(t){this._values=t;var n,r,i=t.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=e.resolve(t[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;i>r;++r){var o={accum:null,value:t[r],index:r,length:i,array:this};n=n._then(l,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(u,u,void 0,n,this)},e.prototype.reduce=function(t,e){return c(this,t,e,null)},e.reduce=function(t,e,n,r){return c(t,e,n,r)}}},{"./util":36}],29:[function(t,i,o){"use strict";var s,a=t("./util"),u=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},c=a.getNativePromise();if(a.isNode&&"undefined"==typeof MutationObserver){var l=n.setImmediate,f=e.nextTick;s=a.isRecentNode?function(t){l.call(n,t)}:function(t){f.call(e,t)}}else if("function"==typeof c&&"function"==typeof c.resolve){var p=c.resolve();s=function(t){p.then(t)}}else s="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof r?function(t){r(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:u:function(){var t=document.createElement("div"),e={attributes:!0},n=!1,r=document.createElement("div"),i=new MutationObserver(function(){t.classList.toggle("foo"),n=!1});i.observe(r,e);var o=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(t,e),o()}}();i.exports=s},{"./util":36}],30:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t)}var o=e.PromiseInspection,s=t("./util");s.inherits(i,n),i.prototype._promiseResolved=function(t,e){this._values[t]=e;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(t,e){var n=new o;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},i.prototype._promiseRejected=function(t,e){var n=new o;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return r.deprecated(".settle()",".reflect()"),new i(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||0>e)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(t),o=n.promise();return n.setHowMany(e),n.init(),o}var s=t("./util"),a=t("./errors").RangeError,u=t("./errors").AggregateError,c=s.isArray,l={};s.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=c(this._values);
!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(t){this._howMany=t},i.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new u,e=this.length();e<this._values.length;++e)this._values[e]!==l&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(t){this._values.push(t)},i.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new a(e)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return o(t,e)},e.prototype.some=function(t){return o(this,t)},e._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},s=e.prototype.isPending=function(){return 0===(50397184&this._bitField)},a=e.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},t.prototype.isPending=function(){return s.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return a.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,r){if(l(t)){if(t instanceof e)return t;var i=o(t);if(i===c){r&&r._pushContext();var u=e.reject(i.e);return r&&r._popContext(),u}if("function"==typeof i){if(s(t)){var u=new e(n);return t._then(u._fulfill,u._reject,void 0,u,null),u}return a(t,i,r)}}return t}function i(t){return t.then}function o(t){try{return i(t)}catch(e){return c.e=e,c}}function s(t){try{return f.call(t,"_promise0")}catch(e){return!1}}function a(t,r,i){function o(t){a&&(a._resolveCallback(t),a=null)}function s(t){a&&(a._rejectCallback(t,f,!0),a=null)}var a=new e(n),l=a;i&&i._pushContext(),a._captureStackTrace(),i&&i._popContext();var f=!0,p=u.tryCatch(r).call(t,o,s);return f=!1,a&&p===c&&(a._rejectCallback(p.e,!0,!0),a=null),l}var u=t("./util"),c=u.errorObj,l=u.isObject,f={}.hasOwnProperty;return r}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.handle=t}function o(t){return clearTimeout(this.handle),t}function s(t){throw clearTimeout(this.handle),t}var a=t("./util"),u=e.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(t){return l(+this).thenReturn(t)},l=e.delay=function(t,o){var s,a;return void 0!==o?(s=e.resolve(o)._then(c,null,null,t,void 0),r.cancellation()&&o instanceof e&&s._setOnCancel(o)):(s=new e(n),a=setTimeout(function(){s._fulfill()},+t),r.cancellation()&&s._setOnCancel(new i(a)),s._captureStackTrace()),s._setAsyncGuaranteed(),s};e.prototype.delay=function(t){return l(t,this)};var f=function(t,e,n){var r;r="string"!=typeof e?e instanceof Error?e:new u("operation timed out"):new u(e),a.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()};e.prototype.timeout=function(t,e){t=+t;var n,a,u=new i(setTimeout(function(){n.isPending()&&f(n,e,a)},t));return r.cancellation()?(a=this.then(),n=a._then(o,s,void 0,u,void 0),n._setOnCancel(u)):n=this._then(o,s,void 0,u,void 0),n}}},{"./util":36}],35:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t){setTimeout(function(){throw t},0)}function u(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function c(t,n){function i(){if(s>=c)return l._fulfill();var o=u(t[s++]);if(o instanceof e&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),t.promise)}catch(f){return a(f)}if(o instanceof e)return o._then(i,a,null,null,null)}i()}var s=0,c=t.length,l=new e(o);return i(),l}function l(t,e,n){this._data=t,this._promise=e,this._context=n}function f(t,e,n){this.constructor$(t,e,n)}function p(t){return l.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function h(t){this.length=t,this.promise=null,this[t-1]=null}var d=t("./util"),v=t("./errors").TypeError,_=t("./util").inherits,y=d.errorObj,m=d.tryCatch,g={};l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():g},l.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==g?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},l.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},_(f,l),f.prototype.doDispose=function(t,e){var n=this.data();return n.call(t,t,e)},h.prototype._resultCancelled=function(){for(var t=this.length,n=0;t>n;++n){var r=this[n];r instanceof e&&r.cancel()}},e.using=function(){var t=arguments.length;if(2>t)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[t-1];if("function"!=typeof i)return n("expecting a function but got "+d.classString(i));var o,a=!0;2===t&&Array.isArray(arguments[0])?(o=arguments[0],t=o.length,a=!1):(o=arguments,t--);for(var u=new h(t),f=0;t>f;++f){var v=o[f];if(l.isDisposer(v)){var _=v;v=v.promise(),v._setDisposable(_)}else{var g=r(v);g instanceof e&&(v=g._then(p,null,null,{resources:u,index:f},void 0))}u[f]=v}for(var b=new Array(u.length),f=0;f<b.length;++f)b[f]=e.resolve(u[f]).reflect();var w=e.all(b).then(function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return y.e=n.error(),y;if(!n.isFulfilled())return void w.cancel();t[e]=n.value()}x._pushContext(),i=m(i);var r=a?i.apply(void 0,t):i(t),o=x._popContext();return s.checkForgottenReturns(r,o,"Promise.using",x),r}),x=w.lastly(function(){var t=new e.PromiseInspection(w);return c(u,t)});return u.promise=x,x._setOnCancel(u),x},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new f(t,this,i());throw new v}}},{"./errors":12,"./util":36}],36:[function(t,r,i){"use strict";function o(){try{var t=F;return F=null,t.apply(this,arguments)}catch(e){return P.e=e,P}}function s(t){return F=t,o}function a(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function u(t){return"function"==typeof t||"object"==typeof t&&null!==t}function c(t){return a(t)?new Error(m(t)):t}function l(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;r>n;++n)i[n]=t[n];return i[n]=e,i}function f(t,e,n){if(!S.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function p(t,e,n){if(a(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return S.defineProperty(t,e,r),t}function h(t){throw t}function d(t){try{if("function"==typeof t){var e=S.names(t.prototype),n=S.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=N.test(t+"")&&S.names(t).length>0;if(n||r||i)return!0}return!1}catch(o){return!1}}function v(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t}function _(t){return L.test(t)}function y(t,e,n){for(var r=new Array(t),i=0;t>i;++i)r[i]=e+i+n;return r}function m(t){try{return t+""}catch(e){return"[no string representation]"}}function g(t){return null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function b(t){try{p(t,"isOperational",!0)}catch(e){}}function w(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||t.isOperational===!0)}function x(t){return g(t)&&S.propertyIsWritable(t,"stack")}function C(t){return{}.toString.call(t)}function E(t,e,n){for(var r=S.names(t),i=0;i<r.length;++i){var o=r[i];if(n(o))try{S.defineProperty(e,o,S.getDescriptor(t,o))}catch(s){}}}function k(t,n){return B?e.env[t]:n}function T(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(e){}}function j(t,e){return t.bind(e)}var F,S=t("./es5"),O="undefined"==typeof navigator,P={e:{}},R="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof n?n:void 0!==this?this:null,A=function(t,e){function n(){this.constructor=t,this.constructor$=e;for(var n in e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var r={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},D=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(S.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var r=[],i=Object.create(null);null!=t&&!e(t);){var o;try{o=n(t)}catch(s){return r}for(var a=0;a<o.length;++a){var u=o[a];if(!i[u]){i[u]=!0;var c=Object.getOwnPropertyDescriptor(t,u);null!=c&&null==c.get&&null==c.set&&r.push(u)}}t=S.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var i=[];t:for(var o in n)if(r.call(n,o))i.push(o);else{for(var s=0;s<t.length;++s)if(r.call(t[s],o))continue t;i.push(o)}return i}}(),N=/this\s*\.\s*\S+\s*=/,L=/^[a-z$_][a-z$_0-9]*$/i,I=function(){return"stack"in new Error?function(t){return x(t)?t:new Error(m(t))}:function(t){if(x(t))return t;try{throw new Error(m(t))}catch(e){return e}}}(),H=function(t){return S.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var M="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};H=function(t){return S.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?M(t):null}}var B="undefined"!=typeof e&&"[object process]"===C(e).toLowerCase(),q={isClass:d,isIdentifier:_,inheritedDataKeys:D,getDataPropertyOrDefault:f,thrower:h,isArray:S.isArray,asArray:H,notEnumerableProp:p,isPrimitive:a,isObject:u,isError:g,canEvaluate:O,errorObj:P,tryCatch:s,inherits:A,withAppended:l,maybeWrapAsError:c,toFastProperties:v,filledRange:y,toString:m,canAttachTrace:x,ensureErrorObject:I,originatesFromRejection:w,markAsOriginatingFromRejection:b,classString:C,copyDescriptors:E,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:B,env:k,global:R,getNativePromise:T,domainBind:j};q.isRecentNode=q.isNode&&function(){var t=e.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0}(),q.isNode&&q.toFastProperties(e);try{throw new Error}catch(U){q.lastLineError=U}r.exports=q},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(e,n(48),function(){return this}(),n(49).setImmediate)},function(t,e){function n(){f&&s&&(f=!1,s.length?l=s.concat(l):p=-1,l.length&&r())}function r(){if(!f){var t=u(n);f=!0;for(var e=l.length;e;){for(s=l,l=[];++p<e;)s&&s[p].run();p=-1,e=l.length}s=null,f=!1,c(t)}}function i(t,e){this.fun=t,this.array=e}function o(){}var s,a=t.exports={},u=setTimeout,c=clearTimeout,l=[],f=!1,p=-1;a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new i(t,e)),1!==l.length||f||u(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=o,a.addListener=o,a.once=o,a.off=o,a.removeListener=o,a.removeAllListeners=o,a.emit=o,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e,n){(function(t,r){function i(t,e){this._id=t,this._clearFn=e}var o=n(48).nextTick,s=Function.prototype.apply,a=Array.prototype.slice,u={},c=0;e.setTimeout=function(){return new i(s.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(s.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=c++,r=!(arguments.length<2)&&a.call(arguments,1);return u[n]=!0,o(function(){u[n]&&(r?t.apply(null,r):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof r?r:function(t){delete u[t]}}).call(e,n(49).setImmediate,n(49).clearImmediate)},function(t,e,n){var r,i=i||function(t){"use strict";if(!("undefined"==typeof t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,n=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},s=/constructor/i.test(t.HTMLElement)||t.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),u=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},c="application/octet-stream",l=4e4,f=function(t){var e=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};setTimeout(e,l)},p=function(t,e,n){e=[].concat(e);for(var r=e.length;r--;){var i=t["on"+e[r]];if("function"==typeof i)try{i.call(t,n||t)}catch(o){u(o)}}},h=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},d=function(e,u,l){l||(e=h(e));var d,v=this,_=e.type,y=_===c,m=function(){p(v,"writestart progress write writeend".split(" "))},g=function(){if((a||y&&s)&&t.FileReader){var r=new FileReader;return r.onloadend=function(){var e=a?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;"),n=t.open(e,"_blank");n||(t.location.href=e),e=void 0,v.readyState=v.DONE,m()},r.readAsDataURL(e),void(v.readyState=v.INIT)}if(d||(d=n().createObjectURL(e)),y)t.location.href=d;else{var i=t.open(d,"_blank");i||(t.location.href=d)}v.readyState=v.DONE,m(),f(d)};return v.readyState=v.INIT,i?(d=n().createObjectURL(e),void setTimeout(function(){r.href=d,r.download=u,o(r),m(),f(d),v.readyState=v.DONE})):void g()},v=d.prototype,_=function(t,e,n){return new d(t,e||t.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=h(t)),navigator.msSaveOrOpenBlob(t,e)}:(v.abort=function(){},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,_)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof t&&t.exports?t.exports.saveAs=i:null!==n(51)&&null!==n(52)&&(r=function(){return i}.call(e,n,e,t),!(void 0!==r&&(t.exports=r)))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e){t.exports={name:"epub-press-js",version:"0.5.1",description:"Javascript client for building books with EpubPress.",homepage:"https://github.com/haroldtreen/epub-press-clients#readme",baseUrl:"https://epub.press",main:"build/index.js",directories:{tests:"test"},scripts:{test:"export NODE_ENV=test && open http://localhost:5001/tests && webpack-dev-server",start:"export NODE_ENV=development && webpack --watch --progress --color",build:"export NODE_ENV=development && webpack","build-prod":"export NODE_ENV=production && webpack --optimize-minimize --optimize-dedupe",preversion:"npm run-script build-prod",prepublish:"npm run build-prod"},repository:{type:"git",url:"git+https://github.com/haroldtreen/epub-press-clients.git"},keywords:["epub","publishing","productivity","client","epubpress","ebooks","content","extraction"],author:"EpubPress",license:"ISC",bugs:{url:"https://github.com/haroldtreen/epub-press-clients/issues"},devDependencies:{"babel-core":"^6.17.0","babel-loader":"^6.2.4","babel-plugin-transform-runtime":"^6.9.0","babel-preset-es2015":"^6.9.0",chai:"^3.5.0","fetch-mock":"^5.0.3",mocha:"^2.5.3","mocha-loader":"^1.0.0",sinon:"git+https://github.com/sinonjs/sinon.git","sinon-as-promised":"^4.0.2",webpack:"^1.13.1"},dependencies:{bluebird:"^3.4.6","file-saver":"^1.3.3","isomorphic-fetch":"^2.2.1","json-loader":"^0.5.4"}}},function(t,n){t.exports=e}])})}).call(e,n(43))},function(t,e,n){var r,i;/*!
	 * jQuery JavaScript Library v3.1.0
	 * https://jquery.com/
	 *
	 * Includes Sizzle.js
	 * https://sizzlejs.com/
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license
	 * https://jquery.org/license
	 *
	 * Date: 2016-07-07T21:44Z
	 */
!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,o){"use strict";function s(t,e){e=e||rt;var n=e.createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}function a(t){var e=!!t&&"length"in t&&t.length,n=_t.type(t);return"function"!==n&&!_t.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function u(t,e,n){if(_t.isFunction(e))return _t.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return _t.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(Tt.test(e))return _t.filter(e,t,n);e=_t.filter(e,t)}return _t.grep(t,function(t){return ut.call(e,t)>-1!==n&&1===t.nodeType})}function c(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function l(t){var e={};return _t.each(t.match(Rt)||[],function(t,n){e[n]=!0}),e}function f(t){return t}function p(t){throw t}function h(t,e,n){var r;try{t&&_t.isFunction(r=t.promise)?r.call(t).done(e).fail(n):t&&_t.isFunction(r=t.then)?r.call(t,e,n):e.call(void 0,t)}catch(t){n.call(void 0,t)}}function d(){rt.removeEventListener("DOMContentLoaded",d),n.removeEventListener("load",d),_t.ready()}function v(){this.expando=_t.expando+v.uid++}function _(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(Bt,"-$&").toLowerCase(),n=t.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Mt.test(n)?JSON.parse(n):n)}catch(i){}Ht.set(t,e,n)}else n=void 0;return n}function y(t,e,n,r){var i,o=1,s=20,a=r?function(){return r.cur()}:function(){return _t.css(t,e,"")},u=a(),c=n&&n[3]||(_t.cssNumber[e]?"":"px"),l=(_t.cssNumber[e]||"px"!==c&&+u)&&Ut.exec(_t.css(t,e));if(l&&l[3]!==c){c=c||l[3],n=n||[],l=+u||1;do o=o||".5",l/=o,_t.style(t,e,l+c);while(o!==(o=a()/u)&&1!==o&&--s)}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}function m(t){var e,n=t.ownerDocument,r=t.nodeName,i=zt[r];return i?i:(e=n.body.appendChild(n.createElement(r)),i=_t.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),zt[r]=i,i)}function g(t,e){for(var n,r,i=[],o=0,s=t.length;o<s;o++)r=t[o],r.style&&(n=r.style.display,e?("none"===n&&(i[o]=It.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&$t(r)&&(i[o]=m(r))):"none"!==n&&(i[o]="none",It.set(r,"display",n)));for(o=0;o<s;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}function b(t,e){var n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&_t.nodeName(t,e)?_t.merge([t],n):n}function w(t,e){for(var n=0,r=t.length;n<r;n++)It.set(t[n],"globalEval",!e||It.get(e[n],"globalEval"))}function x(t,e,n,r,i){for(var o,s,a,u,c,l,f=e.createDocumentFragment(),p=[],h=0,d=t.length;h<d;h++)if(o=t[h],o||0===o)if("object"===_t.type(o))_t.merge(p,o.nodeType?[o]:o);else if(Jt.test(o)){for(s=s||f.appendChild(e.createElement("div")),a=(Xt.exec(o)||["",""])[1].toLowerCase(),u=Kt[a]||Kt._default,s.innerHTML=u[1]+_t.htmlPrefilter(o)+u[2],l=u[0];l--;)s=s.lastChild;_t.merge(p,s.childNodes),s=f.firstChild,s.textContent=""}else p.push(e.createTextNode(o));for(f.textContent="",h=0;o=p[h++];)if(r&&_t.inArray(o,r)>-1)i&&i.push(o);else if(c=_t.contains(o.ownerDocument,o),s=b(f.appendChild(o),"script"),c&&w(s),n)for(l=0;o=s[l++];)Gt.test(o.type||"")&&n.push(o);return f}function C(){return!0}function E(){return!1}function k(){try{return rt.activeElement}catch(t){}}function T(t,e,n,r,i,o){var s,a;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=void 0);for(a in e)T(t,a,n,r,e[a],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=E;else if(!i)return t;return 1===o&&(s=i,i=function(t){return _t().off(t),s.apply(this,arguments)},i.guid=s.guid||(s.guid=_t.guid++)),t.each(function(){_t.event.add(this,e,i,r,n)})}function j(t,e){return _t.nodeName(t,"table")&&_t.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t:t}function F(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function S(t){var e=oe.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function O(t,e){var n,r,i,o,s,a,u,c;if(1===e.nodeType){if(It.hasData(t)&&(o=It.access(t),s=It.set(e,o),c=o.events)){delete s.handle,s.events={};for(i in c)for(n=0,r=c[i].length;n<r;n++)_t.event.add(e,i,c[i][n])}Ht.hasData(t)&&(a=Ht.access(t),u=_t.extend({},a),Ht.set(e,u))}}function P(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Qt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function R(t,e,n,r){e=st.apply([],e);var i,o,a,u,c,l,f=0,p=t.length,h=p-1,d=e[0],v=_t.isFunction(d);if(v||p>1&&"string"==typeof d&&!dt.checkClone&&ie.test(d))return t.each(function(i){var o=t.eq(i);v&&(e[0]=d.call(this,i,o.html())),R(o,e,n,r)});if(p&&(i=x(e,t[0].ownerDocument,!1,t,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=_t.map(b(i,"script"),F),u=a.length;f<p;f++)c=i,f!==h&&(c=_t.clone(c,!0,!0),u&&_t.merge(a,b(c,"script"))),n.call(t[f],c,f);if(u)for(l=a[a.length-1].ownerDocument,_t.map(a,S),f=0;f<u;f++)c=a[f],Gt.test(c.type||"")&&!It.access(c,"globalEval")&&_t.contains(l,c)&&(c.src?_t._evalUrl&&_t._evalUrl(c.src):s(c.textContent.replace(se,""),l))}return t}function A(t,e,n){for(var r,i=e?_t.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||_t.cleanData(b(r)),r.parentNode&&(n&&_t.contains(r.ownerDocument,r)&&w(b(r,"script")),r.parentNode.removeChild(r));return t}function D(t,e,n){var r,i,o,s,a=t.style;return n=n||ce(t),n&&(s=n.getPropertyValue(e)||n[e],""!==s||_t.contains(t.ownerDocument,t)||(s=_t.style(t,e)),!dt.pixelMarginRight()&&ue.test(s)&&ae.test(e)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function N(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function L(t){if(t in de)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=he.length;n--;)if(t=he[n]+e,t in de)return t}function I(t,e,n){var r=Ut.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function H(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=_t.css(t,n+Vt[o],!0,i)),r?("content"===n&&(s-=_t.css(t,"padding"+Vt[o],!0,i)),"margin"!==n&&(s-=_t.css(t,"border"+Vt[o]+"Width",!0,i))):(s+=_t.css(t,"padding"+Vt[o],!0,i),"padding"!==n&&(s+=_t.css(t,"border"+Vt[o]+"Width",!0,i)));return s}function M(t,e,n){var r,i=!0,o=ce(t),s="border-box"===_t.css(t,"boxSizing",!1,o);if(t.getClientRects().length&&(r=t.getBoundingClientRect()[e]),r<=0||null==r){if(r=D(t,e,o),(r<0||null==r)&&(r=t.style[e]),ue.test(r))return r;i=s&&(dt.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+H(t,e,n||(s?"border":"content"),i,o)+"px"}function B(t,e,n,r,i){return new B.prototype.init(t,e,n,r,i)}function q(){_e&&(n.requestAnimationFrame(q),_t.fx.tick())}function U(){return n.setTimeout(function(){ve=void 0}),ve=_t.now()}function V(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)n=Vt[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function $(t,e,n){for(var r,i=(Q.tweeners[e]||[]).concat(Q.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,e,t))return r}function W(t,e,n){var r,i,o,s,a,u,c,l,f="width"in e||"height"in e,p=this,h={},d=t.style,v=t.nodeType&&$t(t),_=It.get(t,"fxshow");n.queue||(s=_t._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,p.always(function(){p.always(function(){s.unqueued--,_t.queue(t,"fx").length||s.empty.fire()})}));for(r in e)if(i=e[r],ye.test(i)){if(delete e[r],o=o||"toggle"===i,i===(v?"hide":"show")){if("show"!==i||!_||void 0===_[r])continue;v=!0}h[r]=_&&_[r]||_t.style(t,r)}if(u=!_t.isEmptyObject(e),u||!_t.isEmptyObject(h)){f&&1===t.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],c=_&&_.display,null==c&&(c=It.get(t,"display")),l=_t.css(t,"display"),"none"===l&&(c?l=c:(g([t],!0),c=t.style.display||c,l=_t.css(t,"display"),g([t]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===_t.css(t,"float")&&(u||(p.done(function(){d.display=c}),null==c&&(l=d.display,c="none"===l?"":l)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",p.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),u=!1;for(r in h)u||(_?"hidden"in _&&(v=_.hidden):_=It.access(t,"fxshow",{display:c}),o&&(_.hidden=!v),v&&g([t],!0),p.done(function(){v||g([t]),It.remove(t,"fxshow");for(r in h)_t.style(t,r,h[r])})),u=$(v?_[r]:0,r,p),r in _||(_[r]=u.start,v&&(u.end=u.start,u.start=0))}}function z(t,e){var n,r,i,o,s;for(n in t)if(r=_t.camelCase(n),i=e[r],o=t[n],_t.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),s=_t.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function Q(t,e,n){var r,i,o=0,s=Q.prefilters.length,a=_t.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=ve||U(),n=Math.max(0,c.startTime+c.duration-e),r=n/c.duration||0,o=1-r,s=0,u=c.tweens.length;s<u;s++)c.tweens[s].run(o);return a.notifyWith(t,[c,o,n]),o<1&&u?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:_t.extend({},e),opts:_t.extend(!0,{specialEasing:{},easing:_t.easing._default},n),originalProperties:e,originalOptions:n,startTime:ve||U(),duration:n.duration,tweens:[],createTween:function(e,n){var r=_t.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),l=c.props;for(z(l,c.opts.specialEasing);o<s;o++)if(r=Q.prefilters[o].call(c,t,l,c.opts))return _t.isFunction(r.stop)&&(_t._queueHooks(c.elem,c.opts.queue).stop=_t.proxy(r.stop,r)),r;return _t.map(l,$,c),_t.isFunction(c.opts.start)&&c.opts.start.call(t,c),_t.fx.timer(_t.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function X(t){return t.getAttribute&&t.getAttribute("class")||""}function G(t,e,n,r){var i;if(_t.isArray(e))_t.each(e,function(e,i){n||Oe.test(t)?r(t,i):G(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==_t.type(e))r(t,e);else for(i in e)G(t+"["+i+"]",e[i],n,r)}function K(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(Rt)||[];if(_t.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function J(t,e,n,r){function i(a){var u;return o[a]=!0,_t.each(t[a]||[],function(t,a){var c=a(e,n,r);return"string"!=typeof c||s||o[c]?s?!(u=c):void 0:(e.dataTypes.unshift(c),i(c),!1)}),u}var o={},s=t===Ue;return i(e.dataTypes[0])||!o["*"]&&i("*")}function Y(t,e){var n,r,i=_t.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&_t.extend(!0,t,r),t}function Z(t,e,n){for(var r,i,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}function tt(t,e,n,r){var i,o,s,a,u,c={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=c[u+" "+o]||c["* "+o],!s)for(i in c)if(a=i.split(" "),a[1]===o&&(s=c[u+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[i]:c[i]!==!0&&(o=a[0],l.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(f){return{state:"parsererror",error:s?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function et(t){return _t.isWindow(t)?t:9===t.nodeType&&t.defaultView}var nt=[],rt=n.document,it=Object.getPrototypeOf,ot=nt.slice,st=nt.concat,at=nt.push,ut=nt.indexOf,ct={},lt=ct.toString,ft=ct.hasOwnProperty,pt=ft.toString,ht=pt.call(Object),dt={},vt="3.1.0",_t=function(t,e){return new _t.fn.init(t,e)},yt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,mt=/^-ms-/,gt=/-([a-z])/g,bt=function(t,e){return e.toUpperCase()};_t.fn=_t.prototype={jquery:vt,constructor:_t,length:0,toArray:function(){return ot.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:ot.call(this)},pushStack:function(t){var e=_t.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return _t.each(this,t)},map:function(t){return this.pushStack(_t.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(ot.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:at,sort:nt.sort,splice:nt.splice},_t.extend=_t.fn.extend=function(){var t,e,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||_t.isFunction(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],r=t[e],s!==r&&(c&&r&&(_t.isPlainObject(r)||(i=_t.isArray(r)))?(i?(i=!1,o=n&&_t.isArray(n)?n:[]):o=n&&_t.isPlainObject(n)?n:{},s[e]=_t.extend(c,o,r)):void 0!==r&&(s[e]=r));return s},_t.extend({expando:"jQuery"+(vt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===_t.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=_t.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==lt.call(t))&&(!(e=it(t))||(n=ft.call(e,"constructor")&&e.constructor,"function"==typeof n&&pt.call(n)===ht))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ct[lt.call(t)]||"object":typeof t},globalEval:function(t){s(t)},camelCase:function(t){return t.replace(mt,"ms-").replace(gt,bt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,r=0;if(a(t))for(n=t.length;r<n&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(yt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(a(Object(t))?_t.merge(n,"string"==typeof t?[t]:t):at.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:ut.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r,i=[],o=0,s=t.length,a=!n;o<s;o++)r=!e(t[o],o),r!==a&&i.push(t[o]);return i},map:function(t,e,n){var r,i,o=0,s=[];if(a(t))for(r=t.length;o<r;o++)i=e(t[o],o,n),null!=i&&s.push(i);else for(o in t)i=e(t[o],o,n),null!=i&&s.push(i);return st.apply([],s)},guid:1,proxy:function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),_t.isFunction(t))return r=ot.call(arguments,2),i=function(){return t.apply(e||this,r.concat(ot.call(arguments)))},i.guid=t.guid=t.guid||_t.guid++,i},now:Date.now,support:dt}),"function"==typeof Symbol&&(_t.fn[Symbol.iterator]=nt[Symbol.iterator]),_t.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ct["[object "+e+"]"]=e.toLowerCase()});var wt=/*!
	 * Sizzle CSS Selector Engine v2.3.0
	 * https://sizzlejs.com/
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 *
	 * Date: 2016-01-04
	 */
function(t){function e(t,e,n,r){var i,o,s,a,u,c,l,p=e&&e.ownerDocument,d=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==d&&9!==d&&11!==d)return n;if(!r&&((e?e.ownerDocument||e:q)!==A&&R(e),e=e||A,N)){if(11!==d&&(u=yt.exec(t)))if(i=u[1]){if(9===d){if(!(s=e.getElementById(i)))return n;if(s.id===i)return n.push(s),n}else if(p&&(s=p.getElementById(i))&&M(e,s)&&s.id===i)return n.push(s),n}else{if(u[2])return Y.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&x.getElementsByClassName&&e.getElementsByClassName)return Y.apply(n,e.getElementsByClassName(i)),n}if(x.qsa&&!z[t+" "]&&(!L||!L.test(t))){if(1!==d)p=e,l=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(wt,xt):e.setAttribute("id",a=B),c=T(t),o=c.length;o--;)c[o]="#"+a+" "+h(c[o]);l=c.join(","),p=mt.test(t)&&f(e.parentNode)||e}if(l)try{return Y.apply(n,p.querySelectorAll(l)),n}catch(v){}finally{a===B&&e.removeAttribute("id")}}}return F(t.replace(at,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>C.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[B]=!0,t}function i(t){var e=A.createElement("fieldset");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=n.length;r--;)C.attrHandle[n[r]]=e}function s(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return function(e){return"label"in e&&e.disabled===t||"form"in e&&e.disabled===t||"form"in e&&e.disabled===!1&&(e.isDisabled===t||e.isDisabled!==!t&&("label"in e||!Et(e))!==t)}}function l(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function f(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function p(){}function h(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function d(t,e,n){var r=e.dir,i=e.next,o=i||r,s=n&&"parentNode"===o,a=V++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||s)return t(e,n,i)}:function(e,n,u){var c,l,f,p=[U,a];if(u){for(;e=e[r];)if((1===e.nodeType||s)&&t(e,n,u))return!0}else for(;e=e[r];)if(1===e.nodeType||s)if(f=e[B]||(e[B]={}),l=f[e.uniqueID]||(f[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((c=l[o])&&c[0]===U&&c[1]===a)return p[2]=c[2];if(l[o]=p,p[2]=t(e,n,u))return!0}}}function v(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function _(t,n,r){for(var i=0,o=n.length;i<o;i++)e(t,n[i],r);return r}function y(t,e,n,r,i){for(var o,s=[],a=0,u=t.length,c=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,r,i)||(s.push(o),c&&e.push(a)));return s}function m(t,e,n,i,o,s){return i&&!i[B]&&(i=m(i)),o&&!o[B]&&(o=m(o,s)),r(function(r,s,a,u){var c,l,f,p=[],h=[],d=s.length,v=r||_(e||"*",a.nodeType?[a]:a,[]),m=!t||!r&&e?v:y(v,p,t,a,u),g=n?o||(r?t:d||i)?[]:s:m;if(n&&n(m,g,a,u),i)for(c=y(g,h),i(c,[],a,u),l=c.length;l--;)(f=c[l])&&(g[h[l]]=!(m[h[l]]=f));if(r){if(o||t){if(o){for(c=[],l=g.length;l--;)(f=g[l])&&c.push(m[l]=f);o(null,g=[],c,u)}for(l=g.length;l--;)(f=g[l])&&(c=o?tt(r,f):p[l])>-1&&(r[c]=!(s[c]=f))}}else g=y(g===s?g.splice(d,g.length):g),o?o(null,s,g,u):Y.apply(s,g)})}function g(t){for(var e,n,r,i=t.length,o=C.relative[t[0].type],s=o||C.relative[" "],a=o?1:0,u=d(function(t){return t===e},s,!0),c=d(function(t){return tt(e,t)>-1},s,!0),l=[function(t,n,r){var i=!o&&(r||n!==S)||((e=n).nodeType?u(t,n,r):c(t,n,r));return e=null,i}];a<i;a++)if(n=C.relative[t[a].type])l=[d(v(l),n)];else{if(n=C.filter[t[a].type].apply(null,t[a].matches),n[B]){for(r=++a;r<i&&!C.relative[t[r].type];r++);return m(a>1&&v(l),a>1&&h(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),n,a<r&&g(t.slice(a,r)),r<i&&g(t=t.slice(r)),r<i&&h(t))}l.push(n)}return v(l)}function b(t,n){var i=n.length>0,o=t.length>0,s=function(r,s,a,u,c){var l,f,p,h=0,d="0",v=r&&[],_=[],m=S,g=r||o&&C.find.TAG("*",c),b=U+=null==m?1:Math.random()||.1,w=g.length;for(c&&(S=s===A||s||c);d!==w&&null!=(l=g[d]);d++){if(o&&l){for(f=0,s||l.ownerDocument===A||(R(l),a=!N);p=t[f++];)if(p(l,s||A,a)){u.push(l);break}c&&(U=b)}i&&((l=!p&&l)&&h--,r&&v.push(l))}if(h+=d,i&&d!==h){for(f=0;p=n[f++];)p(v,_,s,a);if(r){if(h>0)for(;d--;)v[d]||_[d]||(_[d]=K.call(u));_=y(_)}Y.apply(u,_),c&&!r&&_.length>0&&h+n.length>1&&e.uniqueSort(u)}return c&&(U=b,S=m),v};return i?r(s):s}var w,x,C,E,k,T,j,F,S,O,P,R,A,D,N,L,I,H,M,B="sizzle"+1*new Date,q=t.document,U=0,V=0,$=n(),W=n(),z=n(),Q=function(t,e){return t===e&&(P=!0),0},X={}.hasOwnProperty,G=[],K=G.pop,J=G.push,Y=G.push,Z=G.slice,tt=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",it="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",ot=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),lt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ft=new RegExp(ot),pt=new RegExp("^"+rt+"$"),ht={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},dt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,_t=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mt=/[+~]/,gt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),bt=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},wt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,xt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},Ct=function(){R()},Et=d(function(t){return t.disabled===!0},{dir:"parentNode",next:"legend"});try{Y.apply(G=Z.call(q.childNodes),q.childNodes),G[q.childNodes.length].nodeType}catch(kt){Y={apply:G.length?function(t,e){J.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}x=e.support={},k=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},R=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:q;return r!==A&&9===r.nodeType&&r.documentElement?(A=r,D=A.documentElement,N=!k(A),q!==A&&(n=A.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),x.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=i(function(t){return t.appendChild(A.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=_t.test(A.getElementsByClassName),x.getById=i(function(t){return D.appendChild(t).id=B,!A.getElementsByName||!A.getElementsByName(B).length}),x.getById?(C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&N){var n=e.getElementById(t);return n?[n]:[]}},C.filter.ID=function(t){var e=t.replace(gt,bt);return function(t){return t.getAttribute("id")===e}}):(delete C.find.ID,C.filter.ID=function(t){var e=t.replace(gt,bt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),C.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},C.find.CLASS=x.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&N)return e.getElementsByClassName(t)},I=[],L=[],(x.qsa=_t.test(A.querySelectorAll))&&(i(function(t){D.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+B+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||L.push(".#.+[+~]")}),i(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=A.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+nt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&L.push(":enabled",":disabled"),D.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(x.matchesSelector=_t.test(H=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&i(function(t){x.disconnectedMatch=H.call(t,"*"),H.call(t,"[s!='']:x"),I.push("!=",ot)}),L=L.length&&new RegExp(L.join("|")),I=I.length&&new RegExp(I.join("|")),e=_t.test(D.compareDocumentPosition),M=e||_t.test(D.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},Q=e?function(t,e){if(t===e)return P=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!x.sortDetached&&e.compareDocumentPosition(t)===n?t===A||t.ownerDocument===q&&M(q,t)?-1:e===A||e.ownerDocument===q&&M(q,e)?1:O?tt(O,t)-tt(O,e):0:4&n?-1:1)}:function(t,e){if(t===e)return P=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,a=[t],u=[e];if(!i||!o)return t===A?-1:e===A?1:i?-1:o?1:O?tt(O,t)-tt(O,e):0;if(i===o)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;a[r]===u[r];)r++;return r?s(a[r],u[r]):a[r]===q?-1:u[r]===q?1:0},A):A},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==A&&R(t),n=n.replace(lt,"='$1']"),x.matchesSelector&&N&&!z[n+" "]&&(!I||!I.test(n))&&(!L||!L.test(n)))try{var r=H.call(t,n);if(r||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,A,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==A&&R(t),M(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==A&&R(t);var n=C.attrHandle[e.toLowerCase()],r=n&&X.call(C.attrHandle,e.toLowerCase())?n(t,e,!N):void 0;return void 0!==r?r:x.attributes||!N?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.escape=function(t){return(t+"").replace(wt,xt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(P=!x.detectDuplicates,O=!x.sortStable&&t.slice(0),t.sort(Q),P){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return O=null,t},E=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=E(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=E(e);return n},C=e.selectors={cacheLength:50,createPseudo:r,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(gt,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(gt,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ht.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ft.test(n)&&(e=T(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(gt,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=$[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&$(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(st," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var c,l,f,p,h,d,v=o!==s?"nextSibling":"previousSibling",_=e.parentNode,y=a&&e.nodeName.toLowerCase(),m=!u&&!a,g=!1;if(_){if(o){for(;v;){for(p=e;p=p[v];)if(a?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;d=v="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?_.firstChild:_.lastChild],s&&m){for(p=_,f=p[B]||(p[B]={}),l=f[p.uniqueID]||(f[p.uniqueID]={}),c=l[t]||[],h=c[0]===U&&c[1],g=h&&c[2],p=h&&_.childNodes[h];p=++h&&p&&p[v]||(g=h=0)||d.pop();)if(1===p.nodeType&&++g&&p===e){l[t]=[U,h,g];break}}else if(m&&(p=e,f=p[B]||(p[B]={}),l=f[p.uniqueID]||(f[p.uniqueID]={}),c=l[t]||[],h=c[0]===U&&c[1],g=h),g===!1)for(;(p=++h&&p&&p[v]||(g=h=0)||d.pop())&&((a?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++g||(m&&(f=p[B]||(p[B]={}),l=f[p.uniqueID]||(f[p.uniqueID]={}),l[t]=[U,g]),p!==e)););return g-=i,g===r||g%r===0&&g/r>=0}}},PSEUDO:function(t,n){var i,o=C.pseudos[t]||C.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[B]?o(n):o.length>1?(i=[t,t,"",n],C.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),s=i.length;s--;)r=tt(t,i[s]),t[r]=!(e[r]=i[s])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=j(t.replace(at,"$1"));return i[B]?r(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(gt,bt),function(e){return(e.textContent||e.innerText||E(e)).indexOf(t)>-1}}),lang:r(function(t){return pt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(gt,bt).toLowerCase(),function(e){var n;do if(n=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===D},focus:function(t){return t===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:c(!1),disabled:c(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return vt.test(t.nodeName)},input:function(t){return dt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[n<0?n+e:n]}),even:l(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t}),gt:l(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}},C.pseudos.nth=C.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=u(w);return p.prototype=C.filters=C.pseudos,C.setFilters=new p,T=e.tokenize=function(t,n){var r,i,o,s,a,u,c,l=W[t+" "];if(l)return n?0:l.slice(0);for(a=t,u=[],c=C.preFilter;a;){r&&!(i=ut.exec(a))||(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=ct.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(at," ")}),a=a.slice(r.length));for(s in C.filter)!(i=ht[s].exec(a))||c[s]&&!(i=c[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?e.error(t):W(t,u).slice(0)},j=e.compile=function(t,e){var n,r=[],i=[],o=z[t+" "];if(!o){for(e||(e=T(t)),n=e.length;n--;)o=g(e[n]),o[B]?r.push(o):i.push(o);o=z(t,b(i,r)),o.selector=t}return o},F=e.select=function(t,e,n,r){var i,o,s,a,u,c="function"==typeof t&&t,l=!r&&T(t=c.selector||t);if(n=n||[],1===l.length){if(o=l[0]=l[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&x.getById&&9===e.nodeType&&N&&C.relative[o[1].type]){if(e=(C.find.ID(s.matches[0].replace(gt,bt),e)||[])[0],!e)return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=ht.needsContext.test(t)?0:o.length;i--&&(s=o[i],!C.relative[a=s.type]);)if((u=C.find[a])&&(r=u(s.matches[0].replace(gt,bt),mt.test(o[0].type)&&f(e.parentNode)||e))){if(o.splice(i,1),t=r.length&&h(o),!t)return Y.apply(n,r),n;break}}return(c||j(t,l))(r,e,!N,n,!e||mt.test(t)&&f(e.parentNode)||e),n},x.sortStable=B.split("").sort(Q).join("")===B,x.detectDuplicates=!!P,R(),x.sortDetached=i(function(t){return 1&t.compareDocumentPosition(A.createElement("fieldset"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var r;if(!n)return t[e]===!0?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(n);_t.find=wt,_t.expr=wt.selectors,_t.expr[":"]=_t.expr.pseudos,_t.uniqueSort=_t.unique=wt.uniqueSort,_t.text=wt.getText,_t.isXMLDoc=wt.isXML,_t.contains=wt.contains,_t.escapeSelector=wt.escape;var xt=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&_t(t).is(n))break;r.push(t)}return r},Ct=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},Et=_t.expr.match.needsContext,kt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Tt=/^.[^:#\[\.,]*$/;_t.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?_t.find.matchesSelector(r,t)?[r]:[]:_t.find.matches(t,_t.grep(e,function(t){return 1===t.nodeType}))},_t.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(_t(t).filter(function(){for(e=0;e<r;e++)if(_t.contains(i[e],this))return!0}));for(n=this.pushStack([]),e=0;e<r;e++)_t.find(t,i[e],n);return r>1?_t.uniqueSort(n):n},filter:function(t){return this.pushStack(u(this,t||[],!1))},not:function(t){return this.pushStack(u(this,t||[],!0))},is:function(t){return!!u(this,"string"==typeof t&&Et.test(t)?_t(t):t||[],!1).length}});var jt,Ft=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,St=_t.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||jt,"string"==typeof t){if(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Ft.exec(t),!r||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof _t?e[0]:e,_t.merge(this,_t.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:rt,!0)),kt.test(r[1])&&_t.isPlainObject(e))for(r in e)_t.isFunction(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return i=rt.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):_t.isFunction(t)?void 0!==n.ready?n.ready(t):t(_t):_t.makeArray(t,this)};St.prototype=_t.fn,jt=_t(rt);var Ot=/^(?:parents|prev(?:Until|All))/,Pt={children:!0,contents:!0,next:!0,prev:!0};_t.fn.extend({has:function(t){var e=_t(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(_t.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,i=this.length,o=[],s="string"!=typeof t&&_t(t);if(!Et.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&_t.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?_t.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?ut.call(_t(t),this[0]):ut.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(_t.uniqueSort(_t.merge(this.get(),_t(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),_t.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return xt(t,"parentNode")},parentsUntil:function(t,e,n){return xt(t,"parentNode",n)},next:function(t){return c(t,"nextSibling")},prev:function(t){return c(t,"previousSibling")},nextAll:function(t){return xt(t,"nextSibling")},prevAll:function(t){return xt(t,"previousSibling")},nextUntil:function(t,e,n){return xt(t,"nextSibling",n)},prevUntil:function(t,e,n){return xt(t,"previousSibling",n)},siblings:function(t){return Ct((t.parentNode||{}).firstChild,t)},children:function(t){return Ct(t.firstChild)},contents:function(t){return t.contentDocument||_t.merge([],t.childNodes)}},function(t,e){_t.fn[t]=function(n,r){var i=_t.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=_t.filter(r,i)),this.length>1&&(Pt[t]||_t.uniqueSort(i),Ot.test(t)&&i.reverse()),this.pushStack(i)}});var Rt=/\S+/g;_t.Callbacks=function(t){t="string"==typeof t?l(t):_t.extend({},t);var e,n,r,i,o=[],s=[],a=-1,u=function(){for(i=t.once,r=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)o[a].apply(n[0],n[1])===!1&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function r(e){_t.each(e,function(e,n){_t.isFunction(n)?t.unique&&c.has(n)||o.push(n):n&&n.length&&"string"!==_t.type(n)&&r(n)})}(arguments),n&&!e&&u()),this},remove:function(){return _t.each(arguments,function(t,e){for(var n;(n=_t.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(t){return t?_t.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},_t.extend({Deferred:function(t){var e=[["notify","progress",_t.Callbacks("memory"),_t.Callbacks("memory"),2],["resolve","done",_t.Callbacks("once memory"),_t.Callbacks("once memory"),0,"resolved"],["reject","fail",_t.Callbacks("once memory"),_t.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(t){return i.then(null,t)},pipe:function(){var t=arguments;return _t.Deferred(function(n){_t.each(e,function(e,r){var i=_t.isFunction(t[r[4]])&&t[r[4]];o[r[1]](function(){var t=i&&i.apply(this,arguments);t&&_t.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[t]:arguments)})}),t=null}).promise()},then:function(t,r,i){function o(t,e,r,i){return function(){var a=this,u=arguments,c=function(){var n,c;if(!(t<s)){if(n=r.apply(a,u),n===e.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,_t.isFunction(c)?i?c.call(n,o(s,e,f,i),o(s,e,p,i)):(s++,c.call(n,o(s,e,f,i),o(s,e,p,i),o(s,e,f,e.notifyWith))):(r!==f&&(a=void 0,u=[n]),(i||e.resolveWith)(a,u))}},l=i?c:function(){try{c()}catch(n){_t.Deferred.exceptionHook&&_t.Deferred.exceptionHook(n,l.stackTrace),t+1>=s&&(r!==p&&(a=void 0,u=[n]),e.rejectWith(a,u))}};t?l():(_t.Deferred.getStackHook&&(l.stackTrace=_t.Deferred.getStackHook()),n.setTimeout(l))}}var s=0;return _t.Deferred(function(n){e[0][3].add(o(0,n,_t.isFunction(i)?i:f,n.notifyWith)),e[1][3].add(o(0,n,_t.isFunction(t)?t:f)),e[2][3].add(o(0,n,_t.isFunction(r)?r:p))}).promise()},promise:function(t){return null!=t?_t.extend(t,i):i}},o={};return _t.each(e,function(t,n){var s=n[2],a=n[5];i[n[1]]=s.add,a&&s.add(function(){r=a},e[3-t][2].disable,e[0][2].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),i=ot.call(arguments),o=_t.Deferred(),s=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?ot.call(arguments):n,--e||o.resolveWith(r,i)}};if(e<=1&&(h(t,o.done(s(n)).resolve,o.reject),"pending"===o.state()||_t.isFunction(i[n]&&i[n].then)))return o.then();for(;n--;)h(i[n],s(n),o.reject);return o.promise()}});var At=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_t.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&At.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},_t.readyException=function(t){n.setTimeout(function(){throw t})};var Dt=_t.Deferred();_t.fn.ready=function(t){return Dt.then(t)["catch"](function(t){_t.readyException(t)}),this},_t.extend({isReady:!1,readyWait:1,holdReady:function(t){t?_t.readyWait++:_t.ready(!0)},ready:function(t){(t===!0?--_t.readyWait:_t.isReady)||(_t.isReady=!0,t!==!0&&--_t.readyWait>0||Dt.resolveWith(rt,[_t]))}}),_t.ready.then=Dt.then,"complete"===rt.readyState||"loading"!==rt.readyState&&!rt.documentElement.doScroll?n.setTimeout(_t.ready):(rt.addEventListener("DOMContentLoaded",d),n.addEventListener("load",d));var Nt=function(t,e,n,r,i,o,s){var a=0,u=t.length,c=null==n;if("object"===_t.type(n)){i=!0;for(a in n)Nt(t,e,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,_t.isFunction(r)||(s=!0),c&&(s?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(_t(t),n)})),e))for(;a<u;a++)e(t[a],n,s?r:r.call(t[a],a,e(t[a],n)));return i?t:c?e.call(t):u?e(t[0],n):o},Lt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};v.uid=1,v.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Lt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[_t.camelCase(e)]=n;else for(r in e)i[_t.camelCase(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][_t.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){_t.isArray(e)?e=e.map(_t.camelCase):(e=_t.camelCase(e),e=e in r?[e]:e.match(Rt)||[]),n=e.length;for(;n--;)delete r[e[n]]}(void 0===e||_t.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!_t.isEmptyObject(e)}};var It=new v,Ht=new v,Mt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Bt=/[A-Z]/g;_t.extend({hasData:function(t){return Ht.hasData(t)||It.hasData(t)},data:function(t,e,n){return Ht.access(t,e,n)},removeData:function(t,e){Ht.remove(t,e)},_data:function(t,e,n){return It.access(t,e,n)},_removeData:function(t,e){It.remove(t,e)}}),_t.fn.extend({data:function(t,e){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(i=Ht.get(o),1===o.nodeType&&!It.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=_t.camelCase(r.slice(5)),_(o,r,i[r])));It.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){Ht.set(this,t)}):Nt(this,function(e){var n;if(o&&void 0===e){if(n=Ht.get(o,t),void 0!==n)return n;if(n=_(o,t),void 0!==n)return n}else this.each(function(){Ht.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Ht.remove(this,t)})}}),_t.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=It.get(t,e),n&&(!r||_t.isArray(n)?r=It.access(t,e,_t.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=_t.queue(t,e),r=n.length,i=n.shift(),o=_t._queueHooks(t,e),s=function(){_t.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return It.get(t,n)||It.access(t,n,{empty:_t.Callbacks("once memory").add(function(){It.remove(t,[e+"queue",n])})})}}),_t.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?_t.queue(this[0],t):void 0===e?this:this.each(function(){var n=_t.queue(this,t,e);_t._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&_t.dequeue(this,t)})},dequeue:function(t){return this.each(function(){_t.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=_t.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=It.get(o[s],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(e)}});var qt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ut=new RegExp("^(?:([+-])=|)("+qt+")([a-z%]*)$","i"),Vt=["Top","Right","Bottom","Left"],$t=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&_t.contains(t.ownerDocument,t)&&"none"===_t.css(t,"display")},Wt=function(t,e,n,r){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=s[o];return i},zt={};_t.fn.extend({show:function(){return g(this,!0)},hide:function(){return g(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){$t(this)?_t(this).show():_t(this).hide()})}});var Qt=/^(?:checkbox|radio)$/i,Xt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Gt=/^$|\/(?:java|ecma)script/i,Kt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Kt.optgroup=Kt.option,Kt.tbody=Kt.tfoot=Kt.colgroup=Kt.caption=Kt.thead,Kt.th=Kt.td;var Jt=/<|&#?\w+;/;!function(){var t=rt.createDocumentFragment(),e=t.appendChild(rt.createElement("div")),n=rt.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),dt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",dt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue;
}();var Yt=rt.documentElement,Zt=/^key/,te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ee=/^([^.]*)(?:\.(.+)|)/;_t.event={global:{},add:function(t,e,n,r,i){var o,s,a,u,c,l,f,p,h,d,v,_=It.get(t);if(_)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&_t.find.matchesSelector(Yt,i),n.guid||(n.guid=_t.guid++),(u=_.events)||(u=_.events={}),(s=_.handle)||(s=_.handle=function(e){return"undefined"!=typeof _t&&_t.event.triggered!==e.type?_t.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Rt)||[""],c=e.length;c--;)a=ee.exec(e[c])||[],h=v=a[1],d=(a[2]||"").split(".").sort(),h&&(f=_t.event.special[h]||{},h=(i?f.delegateType:f.bindType)||h,f=_t.event.special[h]||{},l=_t.extend({type:h,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&_t.expr.match.needsContext.test(i),namespace:d.join(".")},o),(p=u[h])||(p=u[h]=[],p.delegateCount=0,f.setup&&f.setup.call(t,r,d,s)!==!1||t.addEventListener&&t.addEventListener(h,s)),f.add&&(f.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,l):p.push(l),_t.event.global[h]=!0)},remove:function(t,e,n,r,i){var o,s,a,u,c,l,f,p,h,d,v,_=It.hasData(t)&&It.get(t);if(_&&(u=_.events)){for(e=(e||"").match(Rt)||[""],c=e.length;c--;)if(a=ee.exec(e[c])||[],h=v=a[1],d=(a[2]||"").split(".").sort(),h){for(f=_t.event.special[h]||{},h=(r?f.delegateType:f.bindType)||h,p=u[h]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)l=p[o],!i&&v!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(p.splice(o,1),l.selector&&p.delegateCount--,f.remove&&f.remove.call(t,l));s&&!p.length&&(f.teardown&&f.teardown.call(t,d,_.handle)!==!1||_t.removeEvent(t,h,_.handle),delete u[h])}else for(h in u)_t.event.remove(t,h+e[c],n,r,!0);_t.isEmptyObject(u)&&It.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,s,a=_t.event.fix(t),u=new Array(arguments.length),c=(It.get(this,"events")||{})[a.type]||[],l=_t.event.special[a.type]||{};for(u[0]=a,e=1;e<arguments.length;e++)u[e]=arguments[e];if(a.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,a)!==!1){for(s=_t.event.handlers.call(this,a,c),e=0;(i=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,r=((_t.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u),void 0!==r&&(a.result=r)===!1&&(a.preventDefault(),a.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,r,i,o,s=[],a=e.delegateCount,u=t.target;if(a&&u.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==t.type)){for(r=[],n=0;n<a;n++)o=e[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?_t(i,this).index(u)>-1:_t.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},addProp:function(t,e){Object.defineProperty(_t.Event.prototype,t,{enumerable:!0,configurable:!0,get:_t.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[_t.expando]?t:new _t.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==k()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===k()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&_t.nodeName(this,"input"))return this.click(),!1},_default:function(t){return _t.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},_t.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},_t.Event=function(t,e){return this instanceof _t.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?C:E,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&_t.extend(this,e),this.timeStamp=t&&t.timeStamp||_t.now(),void(this[_t.expando]=!0)):new _t.Event(t,e)},_t.Event.prototype={constructor:_t.Event,isDefaultPrevented:E,isPropagationStopped:E,isImmediatePropagationStopped:E,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=C,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=C,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=C,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},_t.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Zt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&te.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},_t.event.addProp),_t.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){_t.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===r||_t.contains(r,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),_t.fn.extend({on:function(t,e,n,r){return T(this,t,e,n,r)},one:function(t,e,n,r){return T(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,_t(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=E),this.each(function(){_t.event.remove(this,t,n,e)})}});var ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,re=/<script|<style|<link/i,ie=/checked\s*(?:[^=]|=\s*.checked.)/i,oe=/^true\/(.*)/,se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;_t.extend({htmlPrefilter:function(t){return t.replace(ne,"<$1></$2>")},clone:function(t,e,n){var r,i,o,s,a=t.cloneNode(!0),u=_t.contains(t.ownerDocument,t);if(!(dt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||_t.isXMLDoc(t)))for(s=b(a),o=b(t),r=0,i=o.length;r<i;r++)P(o[r],s[r]);if(e)if(n)for(o=o||b(t),s=s||b(a),r=0,i=o.length;r<i;r++)O(o[r],s[r]);else O(t,a);return s=b(a,"script"),s.length>0&&w(s,!u&&b(t,"script")),a},cleanData:function(t){for(var e,n,r,i=_t.event.special,o=0;void 0!==(n=t[o]);o++)if(Lt(n)){if(e=n[It.expando]){if(e.events)for(r in e.events)i[r]?_t.event.remove(n,r):_t.removeEvent(n,r,e.handle);n[It.expando]=void 0}n[Ht.expando]&&(n[Ht.expando]=void 0)}}}),_t.fn.extend({detach:function(t){return A(this,t,!0)},remove:function(t){return A(this,t)},text:function(t){return Nt(this,function(t){return void 0===t?_t.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return R(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=j(this,t);e.appendChild(t)}})},prepend:function(){return R(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=j(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return R(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return R(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(_t.cleanData(b(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return _t.clone(this,t,e)})},html:function(t){return Nt(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!re.test(t)&&!Kt[(Xt.exec(t)||["",""])[1].toLowerCase()]){t=_t.htmlPrefilter(t);try{for(;n<r;n++)e=this[n]||{},1===e.nodeType&&(_t.cleanData(b(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return R(this,arguments,function(e){var n=this.parentNode;_t.inArray(this,t)<0&&(_t.cleanData(b(this)),n&&n.replaceChild(e,this))},t)}}),_t.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){_t.fn[t]=function(t){for(var n,r=[],i=_t(t),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),_t(i[s])[e](n),at.apply(r,n.get());return this.pushStack(r)}});var ae=/^margin/,ue=new RegExp("^("+qt+")(?!px)[a-z%]+$","i"),ce=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)};!function(){function t(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Yt.appendChild(s);var t=n.getComputedStyle(a);e="1%"!==t.top,o="2px"===t.marginLeft,r="4px"===t.width,a.style.marginRight="50%",i="4px"===t.marginRight,Yt.removeChild(s),a=null}}var e,r,i,o,s=rt.createElement("div"),a=rt.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",dt.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),_t.extend(dt,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return t(),r},pixelMarginRight:function(){return t(),i},reliableMarginLeft:function(){return t(),o}}))}();var le=/^(none|table(?!-c[ea]).+)/,fe={position:"absolute",visibility:"hidden",display:"block"},pe={letterSpacing:"0",fontWeight:"400"},he=["Webkit","Moz","ms"],de=rt.createElement("div").style;_t.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=D(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,s,a=_t.camelCase(e),u=t.style;return e=_t.cssProps[a]||(_t.cssProps[a]=L(a)||a),s=_t.cssHooks[e]||_t.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(i=s.get(t,!1,r))?i:u[e]:(o=typeof n,"string"===o&&(i=Ut.exec(n))&&i[1]&&(n=y(t,e,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(_t.cssNumber[a]?"":"px")),dt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,r))||(u[e]=n)),void 0)}},css:function(t,e,n,r){var i,o,s,a=_t.camelCase(e);return e=_t.cssProps[a]||(_t.cssProps[a]=L(a)||a),s=_t.cssHooks[e]||_t.cssHooks[a],s&&"get"in s&&(i=s.get(t,!0,n)),void 0===i&&(i=D(t,e,r)),"normal"===i&&e in pe&&(i=pe[e]),""===n||n?(o=parseFloat(i),n===!0||isFinite(o)?o||0:i):i}}),_t.each(["height","width"],function(t,e){_t.cssHooks[e]={get:function(t,n,r){if(n)return!le.test(_t.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?M(t,e,r):Wt(t,fe,function(){return M(t,e,r)})},set:function(t,n,r){var i,o=r&&ce(t),s=r&&H(t,e,r,"border-box"===_t.css(t,"boxSizing",!1,o),o);return s&&(i=Ut.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=_t.css(t,e)),I(t,n,s)}}}),_t.cssHooks.marginLeft=N(dt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(D(t,"marginLeft"))||t.getBoundingClientRect().left-Wt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),_t.each({margin:"",padding:"",border:"Width"},function(t,e){_t.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+Vt[r]+e]=o[r]||o[r-2]||o[0];return i}},ae.test(t)||(_t.cssHooks[t+e].set=I)}),_t.fn.extend({css:function(t,e){return Nt(this,function(t,e,n){var r,i,o={},s=0;if(_t.isArray(e)){for(r=ce(t),i=e.length;s<i;s++)o[e[s]]=_t.css(t,e[s],!1,r);return o}return void 0!==n?_t.style(t,e,n):_t.css(t,e)},t,e,arguments.length>1)}}),_t.Tween=B,B.prototype={constructor:B,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||_t.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(_t.cssNumber[n]?"":"px")},cur:function(){var t=B.propHooks[this.prop];return t&&t.get?t.get(this):B.propHooks._default.get(this)},run:function(t){var e,n=B.propHooks[this.prop];return this.options.duration?this.pos=e=_t.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=_t.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){_t.fx.step[t.prop]?_t.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[_t.cssProps[t.prop]]&&!_t.cssHooks[t.prop]?t.elem[t.prop]=t.now:_t.style(t.elem,t.prop,t.now+t.unit)}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},_t.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},_t.fx=B.prototype.init,_t.fx.step={};var ve,_e,ye=/^(?:toggle|show|hide)$/,me=/queueHooks$/;_t.Animation=_t.extend(Q,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return y(n.elem,t,Ut.exec(e),n),n}]},tweener:function(t,e){_t.isFunction(t)?(e=t,t=["*"]):t=t.match(Rt);for(var n,r=0,i=t.length;r<i;r++)n=t[r],Q.tweeners[n]=Q.tweeners[n]||[],Q.tweeners[n].unshift(e)},prefilters:[W],prefilter:function(t,e){e?Q.prefilters.unshift(t):Q.prefilters.push(t)}}),_t.speed=function(t,e,n){var r=t&&"object"==typeof t?_t.extend({},t):{complete:n||!n&&e||_t.isFunction(t)&&t,duration:t,easing:n&&e||e&&!_t.isFunction(e)&&e};return _t.fx.off||rt.hidden?r.duration=0:r.duration="number"==typeof r.duration?r.duration:r.duration in _t.fx.speeds?_t.fx.speeds[r.duration]:_t.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){_t.isFunction(r.old)&&r.old.call(this),r.queue&&_t.dequeue(this,r.queue)},r},_t.fn.extend({fadeTo:function(t,e,n,r){return this.filter($t).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=_t.isEmptyObject(t),o=_t.speed(e,n,r),s=function(){var e=Q(this,_t.extend({},t),o);(i||It.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=_t.timers,s=It.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&me.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||_t.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=It.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=_t.timers,s=r?r.length:0;for(n.finish=!0,_t.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),_t.each(["toggle","show","hide"],function(t,e){var n=_t.fn[e];_t.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(V(e,!0),t,r,i)}}),_t.each({slideDown:V("show"),slideUp:V("hide"),slideToggle:V("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){_t.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),_t.timers=[],_t.fx.tick=function(){var t,e=0,n=_t.timers;for(ve=_t.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||_t.fx.stop(),ve=void 0},_t.fx.timer=function(t){_t.timers.push(t),t()?_t.fx.start():_t.timers.pop()},_t.fx.interval=13,_t.fx.start=function(){_e||(_e=n.requestAnimationFrame?n.requestAnimationFrame(q):n.setInterval(_t.fx.tick,_t.fx.interval))},_t.fx.stop=function(){n.cancelAnimationFrame?n.cancelAnimationFrame(_e):n.clearInterval(_e),_e=null},_t.fx.speeds={slow:600,fast:200,_default:400},_t.fn.delay=function(t,e){return t=_t.fx?_t.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,r){var i=n.setTimeout(e,t);r.stop=function(){n.clearTimeout(i)}})},function(){var t=rt.createElement("input"),e=rt.createElement("select"),n=e.appendChild(rt.createElement("option"));t.type="checkbox",dt.checkOn=""!==t.value,dt.optSelected=n.selected,t=rt.createElement("input"),t.value="t",t.type="radio",dt.radioValue="t"===t.value}();var ge,be=_t.expr.attrHandle;_t.fn.extend({attr:function(t,e){return Nt(this,_t.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){_t.removeAttr(this,t)})}}),_t.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?_t.prop(t,e,n):(1===o&&_t.isXMLDoc(t)||(i=_t.attrHooks[e.toLowerCase()]||(_t.expr.match.bool.test(e)?ge:void 0)),void 0!==n?null===n?void _t.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=_t.find.attr(t,e),null==r?void 0:r))},attrHooks:{type:{set:function(t,e){if(!dt.radioValue&&"radio"===e&&_t.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(Rt);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),ge={set:function(t,e,n){return e===!1?_t.removeAttr(t,n):t.setAttribute(n,n),n}},_t.each(_t.expr.match.bool.source.match(/\w+/g),function(t,e){var n=be[e]||_t.find.attr;be[e]=function(t,e,r){var i,o,s=e.toLowerCase();return r||(o=be[s],be[s]=i,i=null!=n(t,e,r)?s:null,be[s]=o),i}});var we=/^(?:input|select|textarea|button)$/i,xe=/^(?:a|area)$/i;_t.fn.extend({prop:function(t,e){return Nt(this,_t.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[_t.propFix[t]||t]})}}),_t.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&_t.isXMLDoc(t)||(e=_t.propFix[e]||e,i=_t.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=_t.find.attr(t,"tabindex");return e?parseInt(e,10):we.test(t.nodeName)||xe.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),dt.optSelected||(_t.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),_t.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_t.propFix[this.toLowerCase()]=this});var Ce=/[\t\r\n\f]/g;_t.fn.extend({addClass:function(t){var e,n,r,i,o,s,a,u=0;if(_t.isFunction(t))return this.each(function(e){_t(this).addClass(t.call(this,e,X(this)))});if("string"==typeof t&&t)for(e=t.match(Rt)||[];n=this[u++];)if(i=X(n),r=1===n.nodeType&&(" "+i+" ").replace(Ce," ")){for(s=0;o=e[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");a=_t.trim(r),i!==a&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,r,i,o,s,a,u=0;if(_t.isFunction(t))return this.each(function(e){_t(this).removeClass(t.call(this,e,X(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Rt)||[];n=this[u++];)if(i=X(n),r=1===n.nodeType&&(" "+i+" ").replace(Ce," ")){for(s=0;o=e[s++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");a=_t.trim(r),i!==a&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):_t.isFunction(t)?this.each(function(n){_t(this).toggleClass(t.call(this,n,X(this),e),e)}):this.each(function(){var e,r,i,o;if("string"===n)for(r=0,i=_t(this),o=t.match(Rt)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==t&&"boolean"!==n||(e=X(this),e&&It.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":It.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+X(n)+" ").replace(Ce," ").indexOf(e)>-1)return!0;return!1}});var Ee=/\r/g,ke=/[\x20\t\r\n\f]+/g;_t.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=_t.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,_t(this).val()):t,null==i?i="":"number"==typeof i?i+="":_t.isArray(i)&&(i=_t.map(i,function(t){return null==t?"":t+""})),e=_t.valHooks[this.type]||_t.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return e=_t.valHooks[i.type]||_t.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(Ee,""):null==n?"":n)}}}),_t.extend({valHooks:{option:{get:function(t){var e=_t.find.attr(t,"value");return null!=e?e:_t.trim(_t.text(t)).replace(ke," ")}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type,s=o?null:[],a=o?i+1:r.length,u=i<0?a:o?i:0;u<a;u++)if(n=r[u],(n.selected||u===i)&&!n.disabled&&(!n.parentNode.disabled||!_t.nodeName(n.parentNode,"optgroup"))){if(e=_t(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=_t.makeArray(e),s=i.length;s--;)r=i[s],(r.selected=_t.inArray(_t.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),_t.each(["radio","checkbox"],function(){_t.valHooks[this]={set:function(t,e){if(_t.isArray(e))return t.checked=_t.inArray(_t(t).val(),e)>-1}},dt.checkOn||(_t.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Te=/^(?:focusinfocus|focusoutblur)$/;_t.extend(_t.event,{trigger:function(t,e,r,i){var o,s,a,u,c,l,f,p=[r||rt],h=ft.call(t,"type")?t.type:t,d=ft.call(t,"namespace")?t.namespace.split("."):[];if(s=a=r=r||rt,3!==r.nodeType&&8!==r.nodeType&&!Te.test(h+_t.event.triggered)&&(h.indexOf(".")>-1&&(d=h.split("."),h=d.shift(),d.sort()),c=h.indexOf(":")<0&&"on"+h,t=t[_t.expando]?t:new _t.Event(h,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=d.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=null==e?[t]:_t.makeArray(e,[t]),f=_t.event.special[h]||{},i||!f.trigger||f.trigger.apply(r,e)!==!1)){if(!i&&!f.noBubble&&!_t.isWindow(r)){for(u=f.delegateType||h,Te.test(u+h)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(r.ownerDocument||rt)&&p.push(a.defaultView||a.parentWindow||n)}for(o=0;(s=p[o++])&&!t.isPropagationStopped();)t.type=o>1?u:f.bindType||h,l=(It.get(s,"events")||{})[t.type]&&It.get(s,"handle"),l&&l.apply(s,e),l=c&&s[c],l&&l.apply&&Lt(s)&&(t.result=l.apply(s,e),t.result===!1&&t.preventDefault());return t.type=h,i||t.isDefaultPrevented()||f._default&&f._default.apply(p.pop(),e)!==!1||!Lt(r)||c&&_t.isFunction(r[h])&&!_t.isWindow(r)&&(a=r[c],a&&(r[c]=null),_t.event.triggered=h,r[h](),_t.event.triggered=void 0,a&&(r[c]=a)),t.result}},simulate:function(t,e,n){var r=_t.extend(new _t.Event,n,{type:t,isSimulated:!0});_t.event.trigger(r,null,e)}}),_t.fn.extend({trigger:function(t,e){return this.each(function(){_t.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return _t.event.trigger(t,e,n,!0)}}),_t.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){_t.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),_t.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),dt.focusin="onfocusin"in n,dt.focusin||_t.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){_t.event.simulate(e,t.target,_t.event.fix(t))};_t.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=It.access(r,e);i||r.addEventListener(t,n,!0),It.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=It.access(r,e)-1;i?It.access(r,e,i):(r.removeEventListener(t,n,!0),It.remove(r,e))}}});var je=n.location,Fe=_t.now(),Se=/\?/;_t.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(r){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||_t.error("Invalid XML: "+t),e};var Oe=/\[\]$/,Pe=/\r?\n/g,Re=/^(?:submit|button|image|reset|file)$/i,Ae=/^(?:input|select|textarea|keygen)/i;_t.param=function(t,e){var n,r=[],i=function(t,e){var n=_t.isFunction(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(_t.isArray(t)||t.jquery&&!_t.isPlainObject(t))_t.each(t,function(){i(this.name,this.value)});else for(n in t)G(n,t[n],e,i);return r.join("&")},_t.fn.extend({serialize:function(){return _t.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=_t.prop(this,"elements");return t?_t.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!_t(this).is(":disabled")&&Ae.test(this.nodeName)&&!Re.test(t)&&(this.checked||!Qt.test(t))}).map(function(t,e){var n=_t(this).val();return null==n?null:_t.isArray(n)?_t.map(n,function(t){return{name:e.name,value:t.replace(Pe,"\r\n")}}):{name:e.name,value:n.replace(Pe,"\r\n")}}).get()}});var De=/%20/g,Ne=/#.*$/,Le=/([?&])_=[^&]*/,Ie=/^(.*?):[ \t]*([^\r\n]*)$/gm,He=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Me=/^(?:GET|HEAD)$/,Be=/^\/\//,qe={},Ue={},Ve="*/".concat("*"),$e=rt.createElement("a");$e.href=je.href,_t.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:je.href,type:"GET",isLocal:He.test(je.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ve,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_t.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Y(Y(t,_t.ajaxSettings),e):Y(_t.ajaxSettings,t)},ajaxPrefilter:K(qe),ajaxTransport:K(Ue),ajax:function(t,e){function r(t,e,r,a){var c,p,h,b,w,x=e;l||(l=!0,u&&n.clearTimeout(u),i=void 0,s=a||"",C.readyState=t>0?4:0,c=t>=200&&t<300||304===t,r&&(b=Z(d,C,r)),b=tt(d,b,C,c),c?(d.ifModified&&(w=C.getResponseHeader("Last-Modified"),w&&(_t.lastModified[o]=w),w=C.getResponseHeader("etag"),w&&(_t.etag[o]=w)),204===t||"HEAD"===d.type?x="nocontent":304===t?x="notmodified":(x=b.state,p=b.data,h=b.error,c=!h)):(h=x,!t&&x||(x="error",t<0&&(t=0))),C.status=t,C.statusText=(e||x)+"",c?y.resolveWith(v,[p,x,C]):y.rejectWith(v,[C,x,h]),C.statusCode(g),g=void 0,f&&_.trigger(c?"ajaxSuccess":"ajaxError",[C,d,c?p:h]),m.fireWith(v,[C,x]),f&&(_.trigger("ajaxComplete",[C,d]),--_t.active||_t.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,o,s,a,u,c,l,f,p,h,d=_t.ajaxSetup({},e),v=d.context||d,_=d.context&&(v.nodeType||v.jquery)?_t(v):_t.event,y=_t.Deferred(),m=_t.Callbacks("once memory"),g=d.statusCode||{},b={},w={},x="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(l){if(!a)for(a={};e=Ie.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return l?s:null},setRequestHeader:function(t,e){return null==l&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==l&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)C.always(t[C.status]);else for(e in t)g[e]=[g[e],t[e]];return this},abort:function(t){var e=t||x;return i&&i.abort(e),r(0,e),this}};if(y.promise(C),d.url=((t||d.url||je.href)+"").replace(Be,je.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(Rt)||[""],null==d.crossDomain){c=rt.createElement("a");try{c.href=d.url,c.href=c.href,d.crossDomain=$e.protocol+"//"+$e.host!=c.protocol+"//"+c.host}catch(E){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=_t.param(d.data,d.traditional)),J(qe,d,e,C),l)return C;f=_t.event&&d.global,f&&0===_t.active++&&_t.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Me.test(d.type),o=d.url.replace(Ne,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(De,"+")):(h=d.url.slice(o.length),d.data&&(o+=(Se.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(o=o.replace(Le,""),h=(Se.test(o)?"&":"?")+"_="+Fe++ +h),d.url=o+h),d.ifModified&&(_t.lastModified[o]&&C.setRequestHeader("If-Modified-Since",_t.lastModified[o]),_t.etag[o]&&C.setRequestHeader("If-None-Match",_t.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||e.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ve+"; q=0.01":""):d.accepts["*"]);for(p in d.headers)C.setRequestHeader(p,d.headers[p]);if(d.beforeSend&&(d.beforeSend.call(v,C,d)===!1||l))return C.abort();if(x="abort",m.add(d.complete),C.done(d.success),C.fail(d.error),i=J(Ue,d,e,C)){if(C.readyState=1,f&&_.trigger("ajaxSend",[C,d]),l)return C;d.async&&d.timeout>0&&(u=n.setTimeout(function(){C.abort("timeout")},d.timeout));try{l=!1,i.send(b,r)}catch(E){if(l)throw E;r(-1,E)}}else r(-1,"No Transport");return C},getJSON:function(t,e,n){return _t.get(t,e,n,"json")},getScript:function(t,e){return _t.get(t,void 0,e,"script")}}),_t.each(["get","post"],function(t,e){_t[e]=function(t,n,r,i){return _t.isFunction(n)&&(i=i||r,r=n,n=void 0),_t.ajax(_t.extend({url:t,type:e,dataType:i,data:n,success:r},_t.isPlainObject(t)&&t))}}),_t._evalUrl=function(t){return _t.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},_t.fn.extend({wrapAll:function(t){var e;return this[0]&&(_t.isFunction(t)&&(t=t.call(this[0])),e=_t(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return _t.isFunction(t)?this.each(function(e){_t(this).wrapInner(t.call(this,e))}):this.each(function(){var e=_t(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=_t.isFunction(t);return this.each(function(n){_t(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){_t(this).replaceWith(this.childNodes)}),this}}),_t.expr.pseudos.hidden=function(t){return!_t.expr.pseudos.visible(t)},_t.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},_t.ajaxSettings.xhr=function(){
try{return new n.XMLHttpRequest}catch(t){}};var We={0:200,1223:204},ze=_t.ajaxSettings.xhr();dt.cors=!!ze&&"withCredentials"in ze,dt.ajax=ze=!!ze,_t.ajaxTransport(function(t){var e,r;if(dt.cors||ze&&!t.crossDomain)return{send:function(i,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(s in i)a.setRequestHeader(s,i[s]);e=function(t){return function(){e&&(e=r=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(We[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),r=a.onerror=e("error"),void 0!==a.onabort?a.onabort=r:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){e&&r()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(u){if(e)throw u}},abort:function(){e&&e()}}}),_t.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),_t.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return _t.globalEval(t),t}}}),_t.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),_t.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=_t("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),rt.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Qe=[],Xe=/(=)\?(?=&|$)|\?\?/;_t.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Qe.pop()||_t.expando+"_"+Fe++;return this[t]=!0,t}}),_t.ajaxPrefilter("json jsonp",function(t,e,r){var i,o,s,a=t.jsonp!==!1&&(Xe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xe.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=_t.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Xe,"$1"+i):t.jsonp!==!1&&(t.url+=(Se.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||_t.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=n[i],n[i]=function(){s=arguments},r.always(function(){void 0===o?_t(n).removeProp(i):n[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,Qe.push(i)),s&&_t.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),dt.createHTMLDocument=function(){var t=rt.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),_t.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var r,i,o;return e||(dt.createHTMLDocument?(e=rt.implementation.createHTMLDocument(""),r=e.createElement("base"),r.href=rt.location.href,e.head.appendChild(r)):e=rt),i=kt.exec(t),o=!n&&[],i?[e.createElement(i[1])]:(i=x([t],e,o),o&&o.length&&_t(o).remove(),_t.merge([],i.childNodes))},_t.fn.load=function(t,e,n){var r,i,o,s=this,a=t.indexOf(" ");return a>-1&&(r=_t.trim(t.slice(a)),t=t.slice(0,a)),_t.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),s.length>0&&_t.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(r?_t("<div>").append(_t.parseHTML(t)).find(r):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},_t.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){_t.fn[e]=function(t){return this.on(e,t)}}),_t.expr.pseudos.animated=function(t){return _t.grep(_t.timers,function(e){return t===e.elem}).length},_t.offset={setOffset:function(t,e,n){var r,i,o,s,a,u,c,l=_t.css(t,"position"),f=_t(t),p={};"static"===l&&(t.style.position="relative"),a=f.offset(),o=_t.css(t,"top"),u=_t.css(t,"left"),c=("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1,c?(r=f.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),_t.isFunction(e)&&(e=e.call(t,n,_t.extend({},a))),null!=e.top&&(p.top=e.top-a.top+s),null!=e.left&&(p.left=e.left-a.left+i),"using"in e?e.using.call(t,p):f.css(p)}},_t.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){_t.offset.setOffset(this,t,e)});var e,n,r,i,o=this[0];if(o)return o.getClientRects().length?(r=o.getBoundingClientRect(),r.width||r.height?(i=o.ownerDocument,n=et(i),e=i.documentElement,{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r):{top:0,left:0}},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===_t.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),_t.nodeName(t[0],"html")||(r=t.offset()),r={top:r.top+_t.css(t[0],"borderTopWidth",!0),left:r.left+_t.css(t[0],"borderLeftWidth",!0)}),{top:e.top-r.top-_t.css(n,"marginTop",!0),left:e.left-r.left-_t.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===_t.css(t,"position");)t=t.offsetParent;return t||Yt})}}),_t.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;_t.fn[t]=function(r){return Nt(this,function(t,r,i){var o=et(t);return void 0===i?o?o[e]:t[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i)},t,r,arguments.length)}}),_t.each(["top","left"],function(t,e){_t.cssHooks[e]=N(dt.pixelPosition,function(t,n){if(n)return n=D(t,e),ue.test(n)?_t(t).position()[e]+"px":n})}),_t.each({Height:"height",Width:"width"},function(t,e){_t.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){_t.fn[r]=function(i,o){var s=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||o===!0?"margin":"border");return Nt(this,function(e,n,i){var o;return _t.isWindow(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?_t.css(e,n,a):_t.style(e,n,i,a)},e,s?i:void 0,s)}})}),_t.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),_t.parseJSON=JSON.parse,r=[],i=function(){return _t}.apply(e,r),!(void 0!==i&&(t.exports=i));var Ge=n.jQuery,Ke=n.$;return _t.noConflict=function(t){return n.$===_t&&(n.$=Ke),t&&n.jQuery===_t&&(n.jQuery=Ge),_t},o||(n.jQuery=n.$=_t),_t})},function(t,e,n){n(1),t.exports=self.fetch.bind(self)},function(t,e){},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=n(47),o=r(i),s=n(48),a=r(s),u=n(52),c=r(u),l=function(){function t(){(0,o["default"])(this,t)}return(0,a["default"])(t,null,[{key:"isValidUrl",value:function(t){var e=!0,n=!1,r=[/\.pdf$/i,/\.jpg$/i,/\.png$/,/\.gif$/],i=[/^http/];return r.forEach(function(e){n=n||e.test(t)}),i.forEach(function(n){e=e&&n.test(t)}),e&&!n}},{key:"filterUrls",value:function(e){return(e||[]).filter(t.isValidUrl)}},{key:"isBackgroundMsg",value:function(t){return t.url.indexOf("popup")<0}},{key:"isPopupMsg",value:function(t){return t.url.indexOf("popup")>-1}},{key:"getCurrentWindowTabs",value:function(){var e=void 0;return e=chrome?new c["default"](function(e,n){chrome.windows.getCurrent({populate:!0},function(r){if(r.tabs){var i=r.tabs.filter(function(e){return t.isValidUrl(e.url)});e(i)}else n(new Error("No tabs!"))})}):new c["default"](function(t){t(null)})}},{key:"getTabsHtml",value:function(t){var e="document.documentElement.outerHTML",n=t.map(function(t){return new c["default"](function(n){chrome.tabs.executeScript(t.id,{code:e},function(e){var r=t;e&&e[0]&&e[0].match(/html/i)?r.html=e[0]:r.html=null,n(r)})})});return c["default"].all(n)}},{key:"getLocalStorage",value:function(t){var e=void 0;return chrome&&(e=new c["default"](function(e){chrome.storage.local.get(t,function(t){e(t)})})),e}},{key:"setLocalStorage",value:function(t){chrome.storage.local.set(t)}},{key:"sendMessage",value:function(){var t;(t=chrome.runtime).sendMessage.apply(t,arguments)}},{key:"onBackgroundMessage",value:function(e){chrome.runtime.onMessage.addListener(function(n,r){t.isBackgroundMsg(r)&&e(n,r)})}},{key:"onForegroundMessage",value:function(e){chrome.runtime.onMessage.addListener(function(n,r){t.isPopupMsg(r)&&e(n,r)})}},{key:"download",value:function(t){var e=void 0;return chrome&&(e=new c["default"](function(e,n){chrome.downloads.download(t,function(t){var r=function i(r){r.id===t&&(r.error?(chrome.downloads.onChanged.removeListener(i),n(r.error)):(r.endTime||"complete"===r.state.current)&&(chrome.downloads.onChanged.removeListener(i),e()))};chrome.downloads.onChanged.addListener(r)})})),e}},{key:"baseUrl",value:function(){return chrome.runtime.getManifest().homepage_url}},{key:"getManifest",value:function(){return chrome.runtime.getManifest()}},{key:"getErrorMsg",value:function(e,n){var r=e?e+":  ":"";return r+=n.responseText||t.ERROR_CODES[n.statusText]||t.ERROR_CODES[n.status]||t.ERROR_CODES[n.current]||"Unknown"}}]),t}();l.ERROR_CODES={0:"Server is down. Please try again later.",400:"There was a problem with the request. Is EpubPress up to date?",404:"Resource not found.",500:"Unexpected server error.",503:"Server took too long to respond.",timeout:"Request took too long to complete.",error:void 0,SERVER_FAILED:"Server error while downloading.",SERVER_BAD_CONTENT:"Book could not be found"},t.exports=l},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(49),o=r(i);e["default"]=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o["default"])(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){t.exports={"default":n(50),__esModule:!0}},function(t,e,n){n(51);var r=n(5).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(9);r(r.S+r.F*!n(18),"Object",{defineProperty:n(14).f})},function(t,e,n){(function(e,n,r){/* @preserve
	 * The MIT License (MIT)
	 * 
	 * Copyright (c) 2013-2015 Petka Antonov
	 * 
	 * Permission is hereby granted, free of charge, to any person obtaining a copy
	 * of this software and associated documentation files (the "Software"), to deal
	 * in the Software without restriction, including without limitation the rights
	 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 * copies of the Software, and to permit persons to whom the Software is
	 * furnished to do so, subject to the following conditions:
	 * 
	 * The above copyright notice and this permission notice shall be included in
	 * all copies or substantial portions of the Software.
	 * 
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
	 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	 * THE SOFTWARE.
	 * 
	 */
!function(e){t.exports=e()}(function(){var t,i,o;return function s(t,e,n){function r(o,a){if(!e[o]){if(!t[o]){var u="function"==typeof _dereq_&&_dereq_;if(!a&&u)return u(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=e[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return r(n?n:e)},l,l.exports,s,t,e,n)}return e[o].exports}for(var i="function"==typeof _dereq_&&_dereq_,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,n){"use strict";e.exports=function(t){function e(t){var e=new n(t),r=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),r}var n=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(t,n,r){"use strict";function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new f(16),this._normalQueue=new f(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=l}function o(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function s(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function a(t){this._normalQueue._pushOne(t),this._queueTick()}var u;try{throw new Error}catch(c){u=c}var l=t("./schedule"),f=t("./queue"),p=t("./util");i.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){p.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},i.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(n){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},p.hasDevTools?(i.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?o.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},i.prototype.invoke=function(t,e,n){this._trampolineEnabled?s.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},i.prototype.settlePromises=function(t){this._trampolineEnabled?a.call(this,t):this._schedule(function(){t._settlePromises()})}):(i.prototype.invokeLater=o,i.prototype.invoke=s,i.prototype.settlePromises=a),i.prototype.invokeFirst=function(t,e,n){this._normalQueue.unshift(t,e,n),this._queueTick()},i.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),r=t.shift();e.call(n,r)}else e._settlePromises()}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},n.exports=i,n.exports.firstLineError=u},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},s=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},a=function(t,e){0===(50397184&this._bitField)&&this._resolveCallback(e.target)},u=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var c=n(o),l=new t(e);l._propagateFrom(this,1);var f=this._target();if(l._setBoundTo(c),c instanceof t){var p={promiseRejectionQueued:!1,promise:l,target:f,bindingPromise:c};f._then(e,s,void 0,l,p),c._then(a,u,void 0,l,p),l._setOnCancel(c)}else l._resolveCallback(f);return l},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=this._bitField&-2097153},t.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e,n){"use strict";function r(){try{Promise===o&&(Promise=i)}catch(t){}return o}var i;"undefined"!=typeof Promise&&(i=Promise);var o=t("./promise")();o.noConflict=r,e.exports=o},{"./promise":22}],5:[function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}e.exports=function(e){function n(t,n){var r;if(null!=t&&(r=t[n]),"function"!=typeof r){var i="Object "+a.classString(t)+" has no method '"+a.toString(n)+"'";throw new e.TypeError(i)}return r}function r(t){var e=this.pop(),r=n(t,e);return r.apply(t,this)}function i(t){return t[this]}function o(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}var s,a=t("./util"),u=a.canEvaluate;a.isIdentifier;e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(r,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e,n="number"==typeof t;if(n)e=o;else if(u){var r=s(t);e=null!==r?r:i}else e=i;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),s=o.tryCatch,a=o.errorObj,u=e._async;e.prototype["break"]=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=s(t).call(this._boundValue());r===a&&(this._attachExtraTrace(r.e),u.throwLater(r.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(e){function n(t,n,a){return function(u){var c=a._boundValue();t:for(var l=0;l<t.length;++l){var f=t[l];if(f===Error||null!=f&&f.prototype instanceof Error){if(u instanceof f)return o(n).call(c,u)}else if("function"==typeof f){var p=o(f).call(c,u);if(p===s)return p;if(p)return o(n).call(c,u)}else if(r.isObject(u)){for(var h=i(f),d=0;d<h.length;++d){var v=h[d];if(f[v]!=u[v])continue t}return o(n).call(c,u)}}return e}}var r=t("./util"),i=t("./es5").keys,o=r.tryCatch,s=r.errorObj;return n}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(t){function e(){this._trace=new e.CapturedTrace(r())}function n(){if(i)return new e}function r(){var t=o.length-1;if(t>=0)return o[t]}var i=!1,o=[];return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},e.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},e.prototype._popContext=function(){if(void 0!==this._trace){var t=o.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},e.CapturedTrace=null,e.create=n,e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var n=t.prototype._pushContext,o=t.prototype._popContext,s=t._peekContext,a=t.prototype._peekContext,u=t.prototype._promiseCreated;e.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=o,t._peekContext=s,t.prototype._peekContext=a,t.prototype._promiseCreated=u,i=!1},i=!0,t.prototype._pushContext=e.prototype._pushContext,t.prototype._popContext=e.prototype._popContext,t._peekContext=t.prototype._peekContext=r,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},e}},{}],9:[function(t,n,r){"use strict";n.exports=function(n,r){function i(t,e){return{promise:e}}function o(){return!1}function s(t,e,n){var r=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+M.toString(t));r._attachCancellationCallback(t)})}catch(i){return i}}function a(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?M.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function u(){return this._onCancelField}function c(t){this._onCancelField=t}function l(){this._cancellationParent=void 0,this._onCancelField=void 0}function f(t,e){if(0!==(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function p(t,e){0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function h(){var t=this._boundTo;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function d(){this._trace=new R(this._peekContext())}function v(t,e){if(B(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=E(t);M.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),M.notEnumerableProp(t,"__stackCleaned__",!0)}}}function _(t,e,n,r,i){if(void 0===t&&null!==e&&K){if(void 0!==i&&i._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var o="",s="";if(e._trace){for(var a=e._trace.stack.split("\n"),u=x(a),c=u.length-1;c>=0;--c){var l=u[c];if(!U.test(l)){var f=l.match(V);f&&(o="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(u.length>0)for(var p=u[0],c=0;c<a.length;++c)if(a[c]===p){c>0&&(s="\n"+a[c-1]);break}}var h="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+s;r._warn(h,!0,e)}}function y(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),m(n)}function m(t,e,r){if(st.warnings){var i,o=new H(t);if(e)r._attachExtraTrace(o);else if(st.longStackTraces&&(i=n._peekContext()))i.attachExtraTrace(o);else{var s=E(o);o.stack=s.message+"\n"+s.stack.join("\n")}et("warning",o)||k(o,"",!0)}}function g(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function b(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function w(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],s=-1,a=r.length-1;a>=0;--a)if(r[a]===o){s=a;break}for(var a=s;a>=0;--a){var u=r[a];if(e[i]!==u)break;e.pop(),i--}e=r}}function x(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||$.test(r),o=i&&rt(r);i&&!o&&(z&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function C(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||$.test(r))break}return n>0&&(e=e.slice(n)),e}function E(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?C(t):["    (No stack trace)"],{message:n,stack:x(e)}}function k(t,e,n){if("undefined"!=typeof console){var r;if(M.isObject(t)){var i=t.stack;r=e+W(i,t)}else r=e+String(t);"function"==typeof N?N(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function T(t,e,n,r){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(o){I.throwLater(o)}"unhandledRejection"===t?et(t,n,r)||i||k(n,"Unhandled rejection "):et(t,r)}function j(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"==typeof t.toString?t.toString():M.toString(t);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(e))try{var r=JSON.stringify(t);e=r}catch(i){}0===e.length&&(e="(empty array)")}return"(<"+F(e)+">, no stack trace)"}function F(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function S(){return"function"==typeof ot}function O(t){var e=t.match(it);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function P(t,e){if(S()){for(var n,r,i=t.stack.split("\n"),o=e.stack.split("\n"),s=-1,a=-1,u=0;u<i.length;++u){var c=O(i[u]);if(c){n=c.fileName,s=c.line;break}}for(var u=0;u<o.length;++u){var c=O(o[u]);if(c){r=c.fileName,a=c.line;break}}s<0||a<0||!n||!r||n!==r||s>=a||(rt=function(t){if(q.test(t))return!0;var e=O(t);return!!(e&&e.fileName===n&&s<=e.line&&e.line<=a)})}}function R(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);ot(this,R),e>32&&this.uncycle()}var A,D,N,L=n._getDomain,I=n._async,H=t("./errors").Warning,M=t("./util"),B=M.canAttachTrace,q=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,U=/\((?:timers\.js):\d+:\d+\)/,V=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,$=null,W=null,z=!1,Q=!(0==M.env("BLUEBIRD_DEBUG")),X=!(0==M.env("BLUEBIRD_WARNINGS")||!Q&&!M.env("BLUEBIRD_WARNINGS")),G=!(0==M.env("BLUEBIRD_LONG_STACK_TRACES")||!Q&&!M.env("BLUEBIRD_LONG_STACK_TRACES")),K=0!=M.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(X||!!M.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=t._bitField&-1048577|524288},n.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),I.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){T("rejectionHandled",A,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),T("unhandledRejection",D,t,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(t,e,n){return m(t,e,n||this)},n.onPossiblyUnhandledRejection=function(t){var e=L();D="function"==typeof t?null===e?t:M.domainBind(e,t):void 0},n.onUnhandledRejectionHandled=function(t){var e=L();A="function"==typeof t?null===e?t:M.domainBind(e,t):void 0};var J=function(){};n.longStackTraces=function(){if(I.haveItemsQueued()&&!st.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!st.longStackTraces&&S()){var t=n.prototype._captureStackTrace,e=n.prototype._attachExtraTrace;st.longStackTraces=!0,J=function(){if(I.haveItemsQueued()&&!st.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=t,n.prototype._attachExtraTrace=e,r.deactivateLongStackTraces(),I.enableTrampoline(),st.longStackTraces=!1},n.prototype._captureStackTrace=d,n.prototype._attachExtraTrace=v,r.activateLongStackTraces(),I.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return st.longStackTraces&&S()};var Y=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return M.global.dispatchEvent(t),function(t,e){var n=new CustomEvent(t.toLowerCase(),{detail:e,cancelable:!0});return!M.global.dispatchEvent(n)}}if("function"==typeof Event){var t=new Event("CustomEvent");return M.global.dispatchEvent(t),function(t,e){var n=new Event(t.toLowerCase(),{cancelable:!0});return n.detail=e,!M.global.dispatchEvent(n)}}var t=document.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),M.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!M.global.dispatchEvent(n)}}catch(e){}return function(){return!1}}(),Z=function(){return M.isNode?function(){return e.emit.apply(e,arguments)}:M.global?function(t){var e="on"+t.toLowerCase(),n=M.global[e];return!!n&&(n.apply(M.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),tt={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:i},et=function(t){var e=!1;try{e=Z.apply(null,arguments)}catch(n){I.throwLater(n),e=!0}var r=!1;try{r=Y(t,tt[t].apply(null,arguments))}catch(n){I.throwLater(n),r=!0}return r||e};n.config=function(t){if(t=Object(t),"longStackTraces"in t&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&J()),"warnings"in t){var e=t.warnings;st.warnings=!!e,K=st.warnings,M.isObject(e)&&"wForgottenReturn"in e&&(K=!!e.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!st.cancellation){if(I.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=l,n.prototype._propagateFrom=f,n.prototype._onCancel=u,n.prototype._setOnCancel=c,n.prototype._attachCancellationCallback=a,n.prototype._execute=s,nt=f,st.cancellation=!0}"monitoring"in t&&(t.monitoring&&!st.monitoring?(st.monitoring=!0,n.prototype._fireEvent=et):!t.monitoring&&st.monitoring&&(st.monitoring=!1,n.prototype._fireEvent=o))},n.prototype._fireEvent=o,n.prototype._execute=function(t,e,n){try{t(e,n)}catch(r){return r}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(t){},n.prototype._attachCancellationCallback=function(t){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(t,e){};var nt=p,rt=function(){return!1},it=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;M.inherits(R,Error),r.CapturedTrace=R,R.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;t=this._length=r;for(var r=t-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;r<t;++r){var s=e[r].stack,a=n[s];if(void 0!==a&&a!==r){a>0&&(e[a-1]._parent=void 0,e[a-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var u=r>0?e[r-1]:this;a<t-1?(u._parent=e[a+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var c=u._length+1,l=r-2;l>=0;--l)e[l]._length=c,c++;return}}}},R.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=E(t),n=e.message,r=[e.stack],i=this;void 0!==i;)r.push(x(i.stack.split("\n"))),i=i._parent;w(r),b(r),M.notEnumerableProp(t,"stack",g(n,r)),M.notEnumerableProp(t,"__stackCleaned__",!0)}};var ot=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():j(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,$=t,W=e;var n=Error.captureStackTrace;return rt=function(t){return q.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return $=/@/,W=e,z=!0,function(t){t.stack=(new Error).stack};var i;try{throw new Error}catch(o){i="stack"in o}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(W=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?j(e):e.toString()},null):($=t,W=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(N=function(t){console.warn(t)},M.isNode&&e.stderr.isTTY?N=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:M.isNode||"string"!=typeof(new Error).stack||(N=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var st={warnings:X,longStackTraces:!1,cancellation:!1,monitoring:!1};return G&&n.longStackTraces(),{longStackTraces:function(){return st.longStackTraces},warnings:function(){return st.warnings},cancellation:function(){return st.cancellation},monitoring:function(){return st.monitoring},propagateFromFunction:function(){return nt},boundValueFunction:function(){return h},checkForgottenReturns:_,setBounds:P,warn:m,deprecated:y,CapturedTrace:R,fireDomEvent:Y,fireGlobalEvent:Z}}},{"./errors":12,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype["return"]=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype["throw"]=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1],r=function(){throw e};return this.caught(t,r)},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];r instanceof t&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,e){function n(){return o(this)}function r(t,n){return i(t,n,e,e)}var i=t.reduce,o=t.all;t.prototype.each=function(t){return i(this,t,e,0)._then(n,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,e,e)},t.each=function(t,r){return i(t,r,e,0)._then(n,void 0,void 0,t,void 0)},t.mapSeries=r}},{}],12:[function(t,e,n){"use strict";function r(t,e){function n(r){return this instanceof n?(f(this,"message","string"==typeof r?r:e),f(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return l(n,Error),n}function i(t){return this instanceof i?(f(this,"name","OperationalError"),f(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(f(this,"message",t.message),f(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(t)}var o,s,a=t("./es5"),u=a.freeze,c=t("./util"),l=c.inherits,f=c.notEnumerableProp,p=r("Warning","warning"),h=r("CancellationError","cancellation error"),d=r("TimeoutError","timeout error"),v=r("AggregateError","aggregate error");try{o=TypeError,s=RangeError}catch(_){o=r("TypeError","type error"),s=r("RangeError","range error")}for(var y="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<y.length;++m)"function"==typeof Array.prototype[y[m]]&&(v.prototype[y[m]]=Array.prototype[y[m]]);a.defineProperty(v.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),v.prototype.isOperational=!0;var g=0;v.prototype.toString=function(){var t=Array(4*g+1).join(" "),e="\n"+t+"AggregateError of:\n";g++,t=Array(4*g+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];r=i.join("\n"),e+=r+"\n"}return g--,e},l(i,Error);var b=Error.__BluebirdErrorTypes__;b||(b=u({CancellationError:h,TimeoutError:d,OperationalError:i,RejectionError:i,AggregateError:v}),a.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:o,RangeError:s,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:p}},{"./es5":13,"./util":36}],13:[function(t,e,n){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,s={}.constructor.prototype,a=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e},u=function(t,e){return{value:t[e]}},c=function(t,e,n){return t[e]=n.value,t},l=function(t){return t},f=function(t){try{return Object(t).constructor.prototype}catch(e){return s}},p=function(t){try{return"[object Array]"===o.call(t)}catch(e){return!1}};e.exports={isArray:p,keys:a,names:a,defineProperty:c,getDescriptor:u,freeze:l,getPrototypeOf:f,isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function i(t){this.finallyHandler=t}function o(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function s(){return u.call(this,this.promise._target()._settledValue())}function a(t){if(!o(this,t))return f.e=t,f}function u(t){var r=this.promise,u=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?u.call(r._boundValue()):u.call(r._boundValue(),t);if(void 0!==c){r._setReturnedNonUndefined();var p=n(c,r);if(p instanceof e){if(null!=this.cancelPromise){if(p._isCancelled()){var h=new l("late cancellation observer");return r._attachExtraTrace(h),f.e=h,f}p.isPending()&&p._attachCancellationCallback(new i(this))}return p._then(s,a,void 0,this,void 0)}}}return r.isRejected()?(o(this),f.e=t,f):(o(this),t)}var c=t("./util"),l=e.CancellationError,f=c.errorObj;return r.prototype.isFinallyHandler=function(){return 0===this.type},i.prototype._resultCancelled=function(){o(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,i){return"function"!=typeof t?this.then():this._then(n,i,void 0,new r(this,e,t),void 0)},e.prototype.lastly=e.prototype["finally"]=function(t){return this._passThrough(t,0,u,u)},e.prototype.tap=function(t){return this._passThrough(t,1,u)},r}},{"./util":36}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var s=h(n[o])(t);if(r._popContext(),s===p){r._pushContext();var a=e.reject(p.e);return r._popContext(),a}var u=i(s,r);if(u instanceof e)return u}return null}function u(t,n,i,o){if(s.cancellation()){var a=new e(r),u=this._finallyPromise=new e(r);this._promise=a.lastly(function(){return u}),a._captureStackTrace(),a._setOnCancel(this)}else{var c=this._promise=new e(r);c._captureStackTrace()}this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(d):d,this._yieldedPromise=null,this._cancellationPhase=!1}var c=t("./errors"),l=c.TypeError,f=t("./util"),p=f.errorObj,h=f.tryCatch,d=[];f.inherits(u,o),u.prototype._isResolved=function(){return null===this._promise},u.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},u.prototype._promiseCancelled=function(){if(!this._isResolved()){var t,n="undefined"!=typeof this._generator["return"];if(n)this._promise._pushContext(),t=h(this._generator["return"]).call(this._generator,void 0),this._promise._popContext();else{var r=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),t=h(this._generator["throw"]).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},u.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=h(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},u.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=h(this._generator["throw"]).call(this._generator,t);this._promise._popContext(),this._continue(e)},u.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},u.prototype.promise=function(){return this._promise},u.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},u.prototype._continue=function(t){var n=this._promise;if(t===p)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(t.done===!0)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(!(o instanceof e)&&(o=a(o,this._yieldHandlers,this._promise),null===o))return void this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",r)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var s=o._bitField;0===(50397184&s)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&s)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&s)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},e.coroutine=function(t,e){if("function"!=typeof t)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=u,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r((void 0),(void 0),n,i),s=o.promise();return o._generator=e,o._promiseFulfilled(void 0),s}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+f.classString(t));d.push(t)},e.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");
var r=new u(t,this),i=r.promise();return r._run(e.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){var a=t("./util");a.canEvaluate,a.tryCatch,a.errorObj;e.join=function(){var t,e=arguments.length-1;if(e>0&&"function"==typeof arguments[e]){t=arguments[e];var r}var i=[].slice.call(arguments);t&&i.pop();var r=new n(i).promise();return void 0!==t?r.spread(t):r}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,e,n,r){this.constructor$(t),this._promise._captureStackTrace();var i=c();this._callback=null===i?e:l.domainBind(i,e),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],h.invoke(this._asyncInit,this,void 0)}function u(t,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+l.classString(n));var s=0;if(void 0!==i){if("object"!=typeof i||null===i)return e.reject(new TypeError("options argument must be an object but it is "+l.classString(i)));if("number"!=typeof i.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(i.concurrency)));s=i.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new a(t,n,s,o).promise()}var c=e._getDomain,l=t("./util"),f=l.tryCatch,p=l.errorObj,h=e._async;l.inherits(a,n),a.prototype._asyncInit=function(){this._init$(void 0,-2)},a.prototype._init=function(){},a.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),a=this._preservedValues,u=this._limit;if(n<0){if(n=n*-1-1,r[n]=t,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return r[n]=t,this._queue.push(n),!1;null!==a&&(a[n]=t);var c=this._promise,l=this._callback,h=c._boundValue();c._pushContext();var d=f(l).call(h,t,n,o),v=c._popContext();if(s.checkForgottenReturns(d,v,null!==a?"Promise.filter":"Promise.map",c),d===p)return this._reject(d.e),!0;var _=i(d,this._promise);if(_ instanceof e){_=_._target();var y=_._bitField;if(0===(50397184&y))return u>=1&&this._inFlight++,r[n]=_,_._proxy(this,(n+1)*-1),!1;if(0===(33554432&y))return 0!==(16777216&y)?(this._reject(_._reason()),!0):(this._cancel(),!0);d=_._value()}r[n]=d}var m=++this._totalResolved;return m>=o&&(null!==a?this._filter(r,a):this._resolve(r),!0)},a.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},a.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;o<n;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},a.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return u(this,t,e,null)},e.map=function(t,e,n,r){return u(t,e,n,r)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var s=t("./util"),a=s.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+s.classString(t));return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var i=a(t).apply(this,arguments),s=r._popContext();return o.checkForgottenReturns(i,s,"Promise.method",r),r._resolveFromSyncValue(i),r}},e.attempt=e["try"]=function(t){if("function"!=typeof t)return i("expecting a function but got "+s.classString(t));var r=new e(n);r._captureStackTrace(),r._pushContext();var u;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],l=arguments[2];u=s.isArray(c)?a(t).apply(l,c):a(t).call(l,c)}else u=a(t)();var f=r._popContext();return o.checkForgottenReturns(u,f,"Promise.try",r),r._resolveFromSyncValue(u),r},e.prototype._resolveFromSyncValue=function(t){t===s.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";function r(t){return t instanceof Error&&l.getPrototypeOf(t)===Error.prototype}function i(t){var e;if(r(t)){e=new c(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var n=l.keys(t),i=0;i<n.length;++i){var o=n[i];f.test(o)||(e[o]=t[o])}return e}return s.markAsOriginatingFromRejection(t),t}function o(t,e){return function(n,r){if(null!==t){if(n){var o=i(a(n));t._attachExtraTrace(o),t._reject(o)}else if(e){var s=[].slice.call(arguments,1);t._fulfill(s)}else t._fulfill(r);t=null}}}var s=t("./util"),a=s.maybeWrapAsError,u=t("./errors"),c=u.OperationalError,l=t("./es5"),f=/^(?:name|message|stack|cause)$/;e.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){function n(t,e){var n=this;if(!o.isArray(t))return r.call(n,t,e);var i=a(e).apply(n._boundValue(),[null].concat(t));i===u&&s.throwLater(i.e)}function r(t,e){var n=this,r=n._boundValue(),i=void 0===t?a(e).call(r,null):a(e).call(r,null,t);i===u&&s.throwLater(i.e)}function i(t,e){var n=this;if(!t){var r=new Error(t+"");r.cause=t,t=r}var i=a(e).call(n._boundValue(),t);i===u&&s.throwLater(i.e)}var o=t("./util"),s=e._async,a=o.tryCatch,u=o.errorObj;e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var o=r;void 0!==e&&Object(e).spread&&(o=n),this._then(o,i,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,r){"use strict";n.exports=function(){function r(){}function i(t,e){if("function"!=typeof e)throw new g("expecting a function but got "+d.classString(e));if(t.constructor!==o)throw new g("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function o(t){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,t!==w&&(i(this,t),this._resolveFromExecutor(t)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function s(t){this.promise._resolveCallback(t)}function a(t){this.promise._rejectCallback(t,!1)}function u(t){var e=new o(w);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}var c,l=function(){return new g("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},f=function(){return new o.PromiseInspection(this._target())},p=function(t){return o.reject(new g(t))},h={},d=t("./util");c=d.isNode?function(){var t=e.domain;return void 0===t&&(t=null),t}:function(){return null},d.notEnumerableProp(o,"_getDomain",c);var v=t("./es5"),_=t("./async"),y=new _;v.defineProperty(o,"_async",{value:y});var m=t("./errors"),g=o.TypeError=m.TypeError;o.RangeError=m.RangeError;var b=o.CancellationError=m.CancellationError;o.TimeoutError=m.TimeoutError,o.OperationalError=m.OperationalError,o.RejectionError=m.OperationalError,o.AggregateError=m.AggregateError;var w=function(){},x={},C={},E=t("./thenables")(o,w),k=t("./promise_array")(o,w,E,p,r),T=t("./context")(o),j=T.create,F=t("./debuggability")(o,T),S=(F.CapturedTrace,t("./finally")(o,E)),O=t("./catch_filter")(C),P=t("./nodeback"),R=d.errorObj,A=d.tryCatch;return o.prototype.toString=function(){return"[object Promise]"},o.prototype.caught=o.prototype["catch"]=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),i=0;for(n=0;n<e-1;++n){var o=arguments[n];if(!d.isObject(o))return p("expecting an object but got A catch statement predicate "+d.classString(o));r[i++]=o}return r.length=i,t=arguments[n],this.then(void 0,O(r,t,this))}return this.then(void 0,t)},o.prototype.reflect=function(){return this._then(f,f,void 0,this,void 0)},o.prototype.then=function(t,e){if(F.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+d.classString(t);arguments.length>1&&(n+=", "+d.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},o.prototype.done=function(t,e){var n=this._then(t,e,void 0,void 0,void 0);n._setIsFinal()},o.prototype.spread=function(t){return"function"!=typeof t?p("expecting a function but got "+d.classString(t)):this.all()._then(t,void 0,void 0,x,void 0)},o.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},o.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new k(this).promise()},o.prototype.error=function(t){return this.caught(d.originatesFromRejection,t)},o.getNewLibraryCopy=n.exports,o.is=function(t){return t instanceof o},o.fromNode=o.fromCallback=function(t){var e=new o(w);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=A(t)(P(e,n));return r===R&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},o.all=function(t){return new k(t).promise()},o.cast=function(t){var e=E(t);return e instanceof o||(e=new o(w),e._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},o.resolve=o.fulfilled=o.cast,o.reject=o.rejected=function(t){var e=new o(w);return e._captureStackTrace(),e._rejectCallback(t,!0),e},o.setScheduler=function(t){if("function"!=typeof t)throw new g("expecting a function but got "+d.classString(t));return y.setScheduler(t)},o.prototype._then=function(t,e,n,r,i){var s=void 0!==i,a=s?i:new o(w),u=this._target(),l=u._bitField;s||(a._propagateFrom(this,3),a._captureStackTrace(),void 0===r&&0!==(2097152&this._bitField)&&(r=0!==(50397184&l)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,a));var f=c();if(0!==(50397184&l)){var p,h,v=u._settlePromiseCtx;0!==(33554432&l)?(h=u._rejectionHandler0,p=t):0!==(16777216&l)?(h=u._fulfillmentHandler0,p=e,u._unsetRejectionIsUnhandled()):(v=u._settlePromiseLateCancellationObserver,h=new b("late cancellation observer"),u._attachExtraTrace(h),p=e),y.invoke(v,u,{handler:null===f?p:"function"==typeof p&&d.domainBind(f,p),promise:a,receiver:r,value:h})}else u._addCallbacks(t,e,a,r,f);return a},o.prototype._length=function(){return 65535&this._bitField},o.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},o.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},o.prototype._setLength=function(t){this._bitField=this._bitField&-65536|65535&t},o.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},o.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},o.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},o.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},o.prototype._isFinal=function(){return(4194304&this._bitField)>0},o.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},o.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},o.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},o.prototype._setAsyncGuaranteed=function(){y.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},o.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==h)return void 0===e&&this._isBound()?this._boundValue():e},o.prototype._promiseAt=function(t){return this[4*t-4+2]},o.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},o.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},o.prototype._boundValue=function(){},o.prototype._migrateCallback0=function(t){var e=(t._bitField,t._fulfillmentHandler0),n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=h),this._addCallbacks(e,n,r,i,null)},o.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=h),this._addCallbacks(n,r,i,o,null)},o.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=null===i?t:d.domainBind(i,t)),"function"==typeof e&&(this._rejectionHandler0=null===i?e:d.domainBind(i,e));else{var s=4*o-4;this[s+2]=n,this[s+3]=r,"function"==typeof t&&(this[s+0]=null===i?t:d.domainBind(i,t)),"function"==typeof e&&(this[s+1]=null===i?e:d.domainBind(i,e))}return this._setLength(o+1),o},o.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},o.prototype._resolveCallback=function(t,e){if(0===(117506048&this._bitField)){if(t===this)return this._rejectCallback(l(),!1);var n=E(t,this);if(!(n instanceof o))return this._fulfill(t);e&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(l());var i=r._bitField;if(0===(50397184&i)){var s=this._length();s>0&&r._migrateCallback0(this);for(var a=1;a<s;++a)r._migrateCallbackAt(this,a);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!==(33554432&i))this._fulfill(r._value());else if(0!==(16777216&i))this._reject(r._reason());else{var u=new b("late cancellation observer");r._attachExtraTrace(u),this._reject(u)}}},o.prototype._rejectCallback=function(t,e,n){var r=d.ensureErrorObject(t),i=r===t;if(!i&&!n&&F.warnings()){var o="a promise was rejected with a non-error: "+d.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,!!e&&i),this._reject(t)},o.prototype._resolveFromExecutor=function(t){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)},o.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0===(65536&i)){r._pushContext();var o;e===x?n&&"number"==typeof n.length?o=A(t).apply(this._boundValue(),n):(o=R,o.e=new g("cannot .spread() a non-array: "+d.classString(n))):o=A(t).call(e,n);var s=r._popContext();i=r._bitField,0===(65536&i)&&(o===C?r._reject(n):o===R?r._rejectCallback(o.e,!1):(F.checkForgottenReturns(o,s,"",r,this),r._resolveCallback(o)))}},o.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},o.prototype._followee=function(){return this._rejectionHandler0},o.prototype._setFollowee=function(t){this._rejectionHandler0=t},o.prototype._settlePromise=function(t,e,n,i){var s=t instanceof o,a=this._bitField,u=0!==(134217728&a);0!==(65536&a)?(s&&t._invokeInternalOnCancel(),n instanceof S&&n.isFinallyHandler()?(n.cancelPromise=t,A(e).call(n,i)===R&&t._reject(R.e)):e===f?t._fulfill(f.call(n)):n instanceof r?n._promiseCancelled(t):s||t instanceof k?t._cancel():n.cancel()):"function"==typeof e?s?(u&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,i,t)):e.call(n,i,t):n instanceof r?n._isResolved()||(0!==(33554432&a)?n._promiseFulfilled(i,t):n._promiseRejected(i,t)):s&&(u&&t._setAsyncGuaranteed(),0!==(33554432&a)?t._fulfill(i):t._reject(i))},o.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,i=t.value;"function"==typeof e?n instanceof o?this._settlePromiseFromHandler(e,r,i,n):e.call(r,i,n):n instanceof o&&n._reject(i)},o.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},o.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},o.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},o.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=l();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!==(134217728&e)?this._settlePromises():y.settlePromises(this))}},o.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16))return this._setRejected(),this._fulfillmentHandler0=t,this._isFinal()?y.fatalError(t,d.isNode):void((65535&e)>0?y.settlePromises(this):this._ensurePossibleRejectionHandled())},o.prototype._fulfillPromises=function(t,e){for(var n=1;n<t;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._rejectPromises=function(t,e){for(var n=1;n<t;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!==(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},o.prototype._settledValue=function(){var t=this._bitField;return 0!==(33554432&t)?this._rejectionHandler0:0!==(16777216&t)?this._fulfillmentHandler0:void 0},o.defer=o.pending=function(){F.deprecated("Promise.defer","new Promise");var t=new o(w);return{promise:t,resolve:s,reject:a}},d.notEnumerableProp(o,"_makeSelfResolutionError",l),t("./method")(o,w,E,p,F),t("./bind")(o,w,E,F),t("./cancel")(o,k,p,F),t("./direct_resolve")(o),t("./synchronous_inspection")(o),t("./join")(o,k,E,w,y,c),o.Promise=o,o.version="3.4.6",t("./map.js")(o,k,p,E,w,F),t("./call_get.js")(o),t("./using.js")(o,p,E,j,w,F),t("./timers.js")(o,w,F),t("./generators.js")(o,p,w,E,r,F),t("./nodeify.js")(o),t("./promisify.js")(o,w),t("./props.js")(o,k,E,p),t("./race.js")(o,w,E,p),t("./reduce.js")(o,k,p,E,w,F),t("./settle.js")(o,k,F),t("./some.js")(o,k,p),t("./filter.js")(o,w),t("./each.js")(o,w),t("./any.js")(o),d.toFastProperties(o),d.toFastProperties(o.prototype),u({a:1}),u({b:2}),u({c:3}),u(1),u(function(){}),u(void 0),u(!1),u(new o(w)),F.setBounds(_.firstLineError,d.lastLineError),o}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){function s(t){switch(t){case-2:return[];case-3:return{}}}function a(t){var r=this._promise=new e(n);t instanceof e&&r._propagateFrom(t,3),r._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var u=t("./util");u.isArray;return u.inherits(a,o),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function c(t,n){var o=r(this._values,this._promise);if(o instanceof e){o=o._target();var a=o._bitField;if(this._values=o,0===(50397184&a))return this._promise._setAsyncGuaranteed(),o._then(c,this._reject,void 0,this,n);if(0===(33554432&a))return 0!==(16777216&a)?this._reject(o._reason()):this._cancel();o=o._value()}if(o=u.asArray(o),null===o){var l=i("expecting an array or an iterable object but got "+u.classString(o)).reason();return void this._promise._rejectCallback(l,!1)}return 0===o.length?void(n===-5?this._resolveEmptyArray():this._resolve(s(n))):void this._iterate(o)},a.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,s=null,a=0;a<n;++a){var u=r(t[a],i);u instanceof e?(u=u._target(),s=u._bitField):s=null,o?null!==s&&u.suppressUnhandledRejections():null!==s?0===(50397184&s)?(u._proxy(this,a),this._values[a]=u):o=0!==(33554432&s)?this._promiseFulfilled(u._value(),a):0!==(16777216&s)?this._promiseRejected(u._reason(),a):this._promiseCancelled(a):o=this._promiseFulfilled(u,a)}o||i._setAsyncGuaranteed()},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},a.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},a.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},a.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(t){return t},a}},{"./util":36}],24:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t){return!x.test(t)}function i(t){try{return t.__isPromisified__===!0}catch(e){return!1}}function o(t,e,n){var r=h.getDataPropertyOrDefault(t,e+n,b);return!!r&&i(r)}function s(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),s=0;s<t.length;s+=2)if(t[s]===o)throw new m("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}function a(t,e,n,r){for(var a=h.inheritedDataKeys(t),u=[],c=0;c<a.length;++c){var l=a[c],f=t[l],p=r===C||C(l,f,t);"function"!=typeof f||i(f)||o(t,l,e)||!r(l,f,t,p)||u.push(l,f)}return s(u,e,n),u}function u(t,r,i,o,s,a){function u(){var i=r;r===p&&(i=this);var o=new e(n);o._captureStackTrace();var s="string"==typeof l&&this!==c?this[l]:t,u=d(o,a);try{s.apply(i,v(arguments,u))}catch(f){o._rejectCallback(_(f),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var c=function(){return this}(),l=t;return"string"==typeof l&&(t=o),h.notEnumerableProp(u,"__isPromisified__",!0),u}function c(t,e,n,r,i){for(var o=new RegExp(E(e)+"$"),s=a(t,e,o,n),u=0,c=s.length;u<c;u+=2){var l=s[u],f=s[u+1],d=l+e;if(r===k)t[d]=k(l,p,l,f,e,i);else{var v=r(f,function(){return k(l,p,l,f,e,i)});h.notEnumerableProp(v,"__isPromisified__",!0),t[d]=v}}return h.toFastProperties(t),t}function l(t,e,n){return k(t,e,void 0,t,null,n)}var f,p={},h=t("./util"),d=t("./nodeback"),v=h.withAppended,_=h.maybeWrapAsError,y=h.canEvaluate,m=t("./errors").TypeError,g="Async",b={__isPromisified__:!0},w=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],x=new RegExp("^(?:"+w.join("|")+")$"),C=function(t){return h.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t},E=function(t){return t.replace(/([$])/,"\\$")},k=y?f:u;e.promisify=function(t,e){if("function"!=typeof t)throw new m("expecting a function but got "+h.classString(t));if(i(t))return t;e=Object(e);var n=void 0===e.context?p:e.context,o=!!e.multiArgs,s=l(t,n,o);return h.copyDescriptors(t,s,r),s},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new m("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");e=Object(e);var n=!!e.multiArgs,r=e.suffix;"string"!=typeof r&&(r=g);var i=e.filter;"function"!=typeof i&&(i=C);var o=e.promisifier;if("function"!=typeof o&&(o=k),!h.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=h.inheritedDataKeys(t),a=0;a<s.length;++a){var u=t[s[a]];"constructor"!==s[a]&&h.isClass(u)&&(c(u.prototype,r,i,o,n),c(u,r,i,o,n))}return c(t,r,i,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t){var e,n=!1;if(void 0!==a&&t instanceof a)e=f(t),n=!0;else{var r=l.keys(t),i=r.length;e=new Array(2*i);for(var o=0;o<i;++o){var s=r[o];e[o]=t[s],e[o+i]=s}}this.constructor$(e),this._isMap=n,this._init$(void 0,-3)}function s(t){var n,s=r(t);return c(s)?(n=s instanceof e?s._then(e.props,void 0,void 0,void 0,void 0):new o(s).promise(),s instanceof e&&n._propagateFrom(s,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var a,u=t("./util"),c=u.isObject,l=t("./es5");"function"==typeof Map&&(a=Map);var f=function(){function t(t,r){this[e]=t,this[e+n]=r,e++}var e=0,n=0;return function(r){n=r.size,e=0;var i=new Array(2*r.size);return r.forEach(t,i),i}}(),p=function(t){for(var e=new a,n=t.length/2|0,r=0;r<n;++r){var i=t[n+r],o=t[r];e.set(i,o)}return e};u.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){var r;if(this._isMap)r=p(this._values);else{r={};for(var i=this.length(),o=0,s=this.length();o<s;++o)r[this._values[o+i]]=this._values[o]}return this._resolve(r),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return s(this)},e.props=function(t){return s(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o=0;o<i;++o)n[o+r]=t[o+e],t[o+e]=void 0}function i(t){this._capacity=t,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(t){return this._capacity<t},i.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},i.prototype._unshiftOne=function(t){var e=this._capacity;this._checkCapacity(this.length()+1);var n=this._front,r=(n-1&e-1^e)-e;this[r]=t,this._front=r,this._length=this.length()+1},i.prototype.unshift=function(t,e,n){this._unshiftOne(n),this._unshiftOne(e),this._unshiftOne(t)},i.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var n=this._front,i=this._length,o=n+i&e-1;r(this,0,this,e,o)},e.exports=i},{}],27:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t,o){var u=r(t);if(u instanceof e)return a(u);if(t=s.asArray(t),null===t)return i("expecting an array or an iterable object but got "+s.classString(t));var c=new e(n);void 0!==o&&c._propagateFrom(o,3);for(var l=c._fulfill,f=c._reject,p=0,h=t.length;p<h;++p){var d=t[p];(void 0!==d||p in t)&&e.cast(d)._then(l,f,void 0,c,null)}return c}var s=t("./util"),a=function(t){return t.then(function(e){return o(e,t)})};e.race=function(t){return o(t,void 0)},e.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,n,r,i){this.constructor$(t);var s=p();this._fn=null===s?n:h.domainBind(s,n),void 0!==r&&(r=e.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,i===o?this._eachValues=Array(this._length):0===i?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function u(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function c(t,e,n,i){if("function"!=typeof e)return r("expecting a function but got "+h.classString(e));var o=new a(t,e,n,i);return o.promise()}function l(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(f,void 0,void 0,this,void 0)):f.call(this,n)}function f(t){var n=this.array,r=n._promise,i=d(n._fn);r._pushContext();var o;o=void 0!==n._eachValues?i.call(r._boundValue(),t,this.index,this.length):i.call(r._boundValue(),this.accum,t,this.index,this.length),o instanceof e&&(n._currentCancellable=o);var a=r._popContext();return s.checkForgottenReturns(o,a,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),o}var p=e._getDomain,h=t("./util"),d=h.tryCatch;h.inherits(a,n),a.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==o&&this._eachValues.push(t)},a.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},a.prototype._init=function(){},a.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},a.prototype.shouldCopyValues=function(){return!1},a.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},a.prototype._resultCancelled=function(t){return t===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel()))},a.prototype._iterate=function(t){this._values=t;var n,r,i=t.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=e.resolve(t[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r){var o={accum:null,value:t[r],index:r,length:i,array:this};n=n._then(l,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(u,u,void 0,n,this)},e.prototype.reduce=function(t,e){return c(this,t,e,null)},e.reduce=function(t,e,n,r){return c(t,e,n,r)}}},{"./util":36}],29:[function(t,i,o){"use strict";var s,a=t("./util"),u=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},c=a.getNativePromise();if(a.isNode&&"undefined"==typeof MutationObserver){var l=n.setImmediate,f=e.nextTick;s=a.isRecentNode?function(t){l.call(n,t)}:function(t){f.call(e,t)}}else if("function"==typeof c&&"function"==typeof c.resolve){var p=c.resolve();s=function(t){p.then(t)}}else s="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof r?function(t){r(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:u:function(){var t=document.createElement("div"),e={attributes:!0},n=!1,r=document.createElement("div"),i=new MutationObserver(function(){t.classList.toggle("foo"),n=!1});i.observe(r,e);var o=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(t,e),o()}}();i.exports=s},{"./util":36}],30:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t)}var o=e.PromiseInspection,s=t("./util");s.inherits(i,n),i.prototype._promiseResolved=function(t,e){this._values[t]=e;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(t,e){var n=new o;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},i.prototype._promiseRejected=function(t,e){var n=new o;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return r.deprecated(".settle()",".reflect()"),new i(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||e<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(t),o=n.promise();return n.setHowMany(e),n.init(),o}var s=t("./util"),a=t("./errors").RangeError,u=t("./errors").AggregateError,c=s.isArray,l={};s.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=c(this._values);
!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(t){this._howMany=t},i.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new u,e=this.length();e<this._values.length;++e)this._values[e]!==l&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(t){this._values.push(t)},i.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new a(e)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return o(t,e)},e.prototype.some=function(t){return o(this,t)},e._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},s=e.prototype.isPending=function(){return 0===(50397184&this._bitField)},a=e.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},t.prototype.isPending=function(){return s.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return a.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,r){if(l(t)){if(t instanceof e)return t;var i=o(t);if(i===c){r&&r._pushContext();var u=e.reject(i.e);return r&&r._popContext(),u}if("function"==typeof i){if(s(t)){var u=new e(n);return t._then(u._fulfill,u._reject,void 0,u,null),u}return a(t,i,r)}}return t}function i(t){return t.then}function o(t){try{return i(t)}catch(e){return c.e=e,c}}function s(t){try{return f.call(t,"_promise0")}catch(e){return!1}}function a(t,r,i){function o(t){a&&(a._resolveCallback(t),a=null)}function s(t){a&&(a._rejectCallback(t,f,!0),a=null)}var a=new e(n),l=a;i&&i._pushContext(),a._captureStackTrace(),i&&i._popContext();var f=!0,p=u.tryCatch(r).call(t,o,s);return f=!1,a&&p===c&&(a._rejectCallback(p.e,!0,!0),a=null),l}var u=t("./util"),c=u.errorObj,l=u.isObject,f={}.hasOwnProperty;return r}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.handle=t}function o(t){return clearTimeout(this.handle),t}function s(t){throw clearTimeout(this.handle),t}var a=t("./util"),u=e.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(t){return l(+this).thenReturn(t)},l=e.delay=function(t,o){var s,a;return void 0!==o?(s=e.resolve(o)._then(c,null,null,t,void 0),r.cancellation()&&o instanceof e&&s._setOnCancel(o)):(s=new e(n),a=setTimeout(function(){s._fulfill()},+t),r.cancellation()&&s._setOnCancel(new i(a)),s._captureStackTrace()),s._setAsyncGuaranteed(),s};e.prototype.delay=function(t){return l(t,this)};var f=function(t,e,n){var r;r="string"!=typeof e?e instanceof Error?e:new u("operation timed out"):new u(e),a.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()};e.prototype.timeout=function(t,e){t=+t;var n,a,u=new i(setTimeout(function(){n.isPending()&&f(n,e,a)},t));return r.cancellation()?(a=this.then(),n=a._then(o,s,void 0,u,void 0),n._setOnCancel(u)):n=this._then(o,s,void 0,u,void 0),n}}},{"./util":36}],35:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t){setTimeout(function(){throw t},0)}function u(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function c(t,n){function i(){if(s>=c)return l._fulfill();var o=u(t[s++]);if(o instanceof e&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),t.promise)}catch(f){return a(f)}if(o instanceof e)return o._then(i,a,null,null,null)}i()}var s=0,c=t.length,l=new e(o);return i(),l}function l(t,e,n){this._data=t,this._promise=e,this._context=n}function f(t,e,n){this.constructor$(t,e,n)}function p(t){return l.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function h(t){this.length=t,this.promise=null,this[t-1]=null}var d=t("./util"),v=t("./errors").TypeError,_=t("./util").inherits,y=d.errorObj,m=d.tryCatch,g={};l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():g},l.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==g?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},l.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},_(f,l),f.prototype.doDispose=function(t,e){var n=this.data();return n.call(t,t,e)},h.prototype._resultCancelled=function(){for(var t=this.length,n=0;n<t;++n){var r=this[n];r instanceof e&&r.cancel()}},e.using=function(){var t=arguments.length;if(t<2)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[t-1];if("function"!=typeof i)return n("expecting a function but got "+d.classString(i));var o,a=!0;2===t&&Array.isArray(arguments[0])?(o=arguments[0],t=o.length,a=!1):(o=arguments,t--);for(var u=new h(t),f=0;f<t;++f){var v=o[f];if(l.isDisposer(v)){var _=v;v=v.promise(),v._setDisposable(_)}else{var g=r(v);g instanceof e&&(v=g._then(p,null,null,{resources:u,index:f},void 0))}u[f]=v}for(var b=new Array(u.length),f=0;f<b.length;++f)b[f]=e.resolve(u[f]).reflect();var w=e.all(b).then(function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return y.e=n.error(),y;if(!n.isFulfilled())return void w.cancel();t[e]=n.value()}x._pushContext(),i=m(i);var r=a?i.apply(void 0,t):i(t),o=x._popContext();return s.checkForgottenReturns(r,o,"Promise.using",x),r}),x=w.lastly(function(){var t=new e.PromiseInspection(w);return c(u,t)});return u.promise=x,x._setOnCancel(u),x},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new f(t,this,i());throw new v}}},{"./errors":12,"./util":36}],36:[function(t,r,i){"use strict";function o(){try{var t=P;return P=null,t.apply(this,arguments)}catch(e){return O.e=e,O}}function s(t){return P=t,o}function a(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function u(t){return"function"==typeof t||"object"==typeof t&&null!==t}function c(t){return a(t)?new Error(m(t)):t}function l(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=t[n];return i[n]=e,i}function f(t,e,n){if(!F.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function p(t,e,n){if(a(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return F.defineProperty(t,e,r),t}function h(t){throw t}function d(t){try{if("function"==typeof t){var e=F.names(t.prototype),n=F.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=N.test(t+"")&&F.names(t).length>0;if(n||r||i)return!0}return!1}catch(o){return!1}}function v(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t}function _(t){return L.test(t)}function y(t,e,n){for(var r=new Array(t),i=0;i<t;++i)r[i]=e+i+n;return r}function m(t){try{return t+""}catch(e){return"[no string representation]"}}function g(t){return null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function b(t){try{p(t,"isOperational",!0)}catch(e){}}function w(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||t.isOperational===!0)}function x(t){return g(t)&&F.propertyIsWritable(t,"stack")}function C(t){return{}.toString.call(t)}function E(t,e,n){for(var r=F.names(t),i=0;i<r.length;++i){var o=r[i];if(n(o))try{F.defineProperty(e,o,F.getDescriptor(t,o))}catch(s){}}}function k(t,n){return B?e.env[t]:n}function T(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(e){}}function j(t,e){return t.bind(e)}var F=t("./es5"),S="undefined"==typeof navigator,O={e:{}},P,R="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof n?n:void 0!==this?this:null,A=function(t,e){function n(){this.constructor=t,this.constructor$=e;for(var n in e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var r={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},D=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(F.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var r=[],i=Object.create(null);null!=t&&!e(t);){var o;try{o=n(t)}catch(s){return r}for(var a=0;a<o.length;++a){var u=o[a];if(!i[u]){i[u]=!0;var c=Object.getOwnPropertyDescriptor(t,u);null!=c&&null==c.get&&null==c.set&&r.push(u)}}t=F.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var i=[];t:for(var o in n)if(r.call(n,o))i.push(o);else{for(var s=0;s<t.length;++s)if(r.call(t[s],o))continue t;i.push(o)}return i}}(),N=/this\s*\.\s*\S+\s*=/,L=/^[a-z$_][a-z$_0-9]*$/i,I=function(){return"stack"in new Error?function(t){return x(t)?t:new Error(m(t))}:function(t){if(x(t))return t;try{throw new Error(m(t))}catch(e){return e}}}(),H=function(t){return F.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var M="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};H=function(t){return F.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?M(t):null}}var B="undefined"!=typeof e&&"[object process]"===C(e).toLowerCase(),q={isClass:d,isIdentifier:_,inheritedDataKeys:D,getDataPropertyOrDefault:f,thrower:h,isArray:F.isArray,asArray:H,notEnumerableProp:p,isPrimitive:a,isObject:u,isError:g,canEvaluate:S,errorObj:O,tryCatch:s,inherits:A,withAppended:l,maybeWrapAsError:c,toFastProperties:v,filledRange:y,toString:m,canAttachTrace:x,ensureErrorObject:I,originatesFromRejection:w,markAsOriginatingFromRejection:b,classString:C,copyDescriptors:E,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:B,env:k,global:R,getNativePromise:T,domainBind:j};q.isRecentNode=q.isNode&&function(){var t=e.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0}(),q.isNode&&q.toFastProperties(e);try{throw new Error}catch(U){q.lastLineError=U}r.exports=q},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(e,n(53),function(){return this}(),n(54).setImmediate)},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function s(){v&&h&&(v=!1,h.length?d=h.concat(d):_=-1,d.length&&a())}function a(){if(!v){var t=i(s);v=!0;for(var e=d.length;e;){for(h=d,d=[];++_<e;)h&&h[_].run();_=-1,e=d.length}h=null,v=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,f,p=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var h,d=[],v=!1,_=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||v||i(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e,n){(function(t,r){function i(t,e){this._id=t,this._clearFn=e}var o=n(53).nextTick,s=Function.prototype.apply,a=Array.prototype.slice,u={},c=0;e.setTimeout=function(){return new i(s.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(s.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=c++,r=!(arguments.length<2)&&a.call(arguments,1);return u[n]=!0,o(function(){u[n]&&(r?t.apply(null,r):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof r?r:function(t){delete u[t]}}).call(e,n(54).setImmediate,n(54).clearImmediate)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){l["default"].getLocalStorage(["email","filetype"]).then(function(e){(0,u["default"])("#settings-email-text").val(e.email),(0,u["default"])("#settings-filetype-select").val(e.filetype),t()})["catch"](function(t){p["default"].setErrorMessage("Could not load settings: "+t)})}var o=n(42),s=r(o),a=n(43),u=r(a),c=n(46),l=r(c),f=n(56),p=r(f),h=l["default"].getManifest();(0,u["default"])("#select-all").click(function(){(0,u["default"])("input.article-checkbox").each(function(t,e){(0,u["default"])(e).prop("checked",!0)})}),(0,u["default"])("#select-none").click(function(){(0,u["default"])("input.article-checkbox").each(function(t,e){(0,u["default"])(e).prop("checked",!1)})}),(0,u["default"])("#download").click(function(){var t=[];(0,u["default"])("input.article-checkbox").each(function(e,n){(0,u["default"])(n).prop("checked")&&t.push({url:(0,u["default"])(n).prop("value"),id:Number((0,u["default"])(n).prop("name"))})}),t.length<=0?(0,u["default"])("#alert-message").text("No articles selected!"):l["default"].getTabsHtml(t).then(function(t){p["default"].showSection("#downloadSpinner"),l["default"].sendMessage({action:"download",book:{title:(0,u["default"])("#book-title").val()||(0,u["default"])("#book-title").attr("placeholder"),description:(0,u["default"])("#book-description").val()||void 0,sections:t}})})["catch"](function(t){p["default"].setErrorMessage("Could not find tab content: "+t)})}),(0,u["default"])("#settings-btn").click(function(){i(function(){p["default"].showSection("#settingsForm")})}),(0,u["default"])("#settings-save-btn").click(function(){l["default"].setLocalStorage({email:(0,u["default"])("#settings-email-text").val(),filetype:(0,u["default"])("#settings-filetype-select").val()}),p["default"].showSection("#downloadForm")}),(0,u["default"])("#settings-cancel-btn").click(function(){p["default"].showSection("#downloadForm")}),l["default"].onBackgroundMessage(function(t){"download"===t.action?"complete"===t.status?p["default"].updateStatus(100,"Done!").then(function(){p["default"].showSection("#downloadSuccess")}):(p["default"].showSection("#downloadFailed"),t.error&&p["default"].setErrorMessage(t.error)):"publish"===t.action&&p["default"].updateStatus(t.progress,t.message)}),window.onload=function(){p["default"].initializeUi(),l["default"].getLocalStorage("downloadState").then(function(t){return t.downloadState?l["default"].getLocalStorage("publishStatus").then(function(t){var e=JSON.parse(t.publishStatus);p["default"].updateStatus(e.progress,e.message),p["default"].showSection("#downloadSpinner")}):(s["default"].checkForUpdates("epub-press-chrome",h.version).then(function(t){t&&p["default"].setAlertMessage(t)}),p["default"].showSection("#downloadForm"),p["default"].initializeTabList()),null})}},function(t,e,n){(function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=n(57),o=r(i),s=n(47),a=r(s),u=n(48),c=r(u),l=n(46),f=r(l),p=function(){function t(){(0,a["default"])(this,t)}return(0,c["default"])(t,null,[{key:"initializeUi",value:function(){var t=Date();t=t.slice(0,t.match(/\d{4}/).index+4),document.getElementById("book-title").placeholder="EpubPress - "+t}},{key:"setErrorMessage",value:function(t){e("#failure-message").text(t)}},{key:"showSection",value:function(n){t.SECTIONS_SELECTORS.forEach(function(t){t===n?e(t).show():e(t).hide()})}},{key:"setAlertMessage",value:function(t){e("#alert-message").text(t)}},{key:"updateStatus",value:function(t,n){return e("h4#progress-msg").text(n),t?this.animateValueChange(e("progress"),t):o["default"].resolve()}},{key:"animateValueChange",value:function(t,e){return new o["default"](function(n){var r=function i(r){requestAnimationFrame(function(){if(r===e)return void setTimeout(n,100);var o=r<e?1:-1,s=o+r;t.val(s),i(s)})};r(t.val())})}},{key:"getCheckbox",value:function(t){var e='<div class="checkbox">\n        <label>\n        <input class=\'article-checkbox\' type="checkbox" value="'+t.url+'" name="'+t.id+'">\n        <span>'+t.title+"</span>\n        </label>\n        </div>";return e}},{key:"initializeTabList",value:function(){f["default"].getCurrentWindowTabs().then(function(n){n.forEach(function(n){e("#tab-list").append(t.getCheckbox({title:n.title,url:n.url,id:n.id}))})})["catch"](function(e){t.setErrorMessage("Searching tabs failed: "+e)})}}]),t}();p.SECTIONS_SELECTORS=["#downloadForm","#settingsForm","#downloadSpinner","#downloadSuccess","#downloadFailed"],t.exports=p}).call(e,n(43))},function(t,e,n){t.exports={"default":n(58),__esModule:!0}},function(t,e,n){n(59),n(60),n(73),n(77),t.exports=n(5).Promise},45,function(t,e,n){"use strict";var r=n(61)(!0);n(62)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(33),i=n(30);t.exports=function(t){return function(e,n){var o,s,a=String(i(e)),u=r(n),c=a.length;return u<0||u>=c?t?"":void 0:(o=a.charCodeAt(u),o<55296||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):o:t?a.slice(u,u+2):(o-55296<<10)+(s-56320)+65536)}}},function(t,e,n){"use strict";var r=n(63),i=n(9),o=n(64),s=n(13),a=n(26),u=n(65),c=n(66),l=n(70),f=n(72),p=n(71)("iterator"),h=!([].keys&&"next"in[].keys()),d="@@iterator",v="keys",_="values",y=function(){return this};t.exports=function(t,e,n,m,g,b,w){c(n,e,m);var x,C,E,k=function(t){if(!h&&t in S)return S[t];switch(t){case v:return function(){return new n(this,t)};case _:return function(){return new n(this,t)}}return function(){return new n(this,t)}},T=e+" Iterator",j=g==_,F=!1,S=t.prototype,O=S[p]||S[d]||g&&S[g],P=O||k(g),R=g?j?k("entries"):P:void 0,A="Array"==e?S.entries||O:O;if(A&&(E=f(A.call(new t)),E!==Object.prototype&&(l(E,T,!0),r||a(E,p)||s(E,p,y))),j&&O&&O.name!==_&&(F=!0,P=function(){return O.call(this)}),r&&!w||!h&&!F&&S[p]||s(S,p,P),u[e]=P,u[T]=y,g)if(x={values:j?P:k(_),keys:b?P:k(v),entries:R},w)for(C in x)C in S||o(S,C,x[C]);else i(i.P+i.F*(h||F),e,x);return x}},function(t,e){t.exports=!0},function(t,e,n){t.exports=n(13)},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(67),i=n(22),o=n(70),s={};n(13)(s,n(71)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(15),i=n(68),o=n(38),s=n(35)("IE_PROTO"),a=function(){},u="prototype",c=function(){var t,e=n(20)("iframe"),r=o.length,i="<",s=">";for(e.style.display="none",n(69).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+s+"document.F=Object"+i+"/script"+s),t.close(),c=t.F;r--;)delete c[u][o[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[u]=r(t),n=new a,a[u]=null,n[s]=t):n=c(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(14),i=n(15),o=n(24);t.exports=n(18)?Object.defineProperties:function(t,e){i(t);for(var n,s=o(e),a=s.length,u=0;a>u;)r.f(t,n=s[u++],e[n]);return t}},function(t,e,n){t.exports=n(10).document&&document.documentElement},function(t,e,n){var r=n(14).f,i=n(26),o=n(71)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(36)("wks"),i=n(37),o=n(10).Symbol,s="function"==typeof o,a=t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))};a.store=r},function(t,e,n){var r=n(26),i=n(41),o=n(35)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){n(74);for(var r=n(10),i=n(13),o=n(65),s=n(71)("toStringTag"),a=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var c=a[u],l=r[c],f=l&&l.prototype;f&&!f[s]&&i(f,s,c),o[c]=o.Array}},function(t,e,n){"use strict";var r=n(75),i=n(76),o=n(65),s=n(27);t.exports=n(62)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r,i,o,s=n(63),a=n(10),u=n(11),c=n(78),l=n(9),f=n(16),p=n(12),h=n(79),d=n(80),v=n(84),_=n(85).set,y=n(87)(),m="Promise",g=a.TypeError,b=a.process,w=a[m],b=a.process,x="process"==c(b),C=function(){},E=!!function(){try{var t=w.resolve(1),e=(t.constructor={})[n(71)("species")]=function(t){t(C,C)};return(x||"function"==typeof PromiseRejectionEvent)&&t.then(C)instanceof e}catch(r){}}(),k=function(t,e){return t===e||t===w&&e===o},T=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},j=function(t){return k(w,t)?new F(t):new i(t)},F=i=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw g("Bad Promise constructor");e=t,n=r}),this.resolve=p(e),this.reject=p(n)},S=function(t){try{t()}catch(e){return{error:e}}},O=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var r=t._v,i=1==t._s,o=0,s=function(e){var n,o,s=i?e.ok:e.fail,a=e.resolve,u=e.reject,c=e.domain;try{s?(i||(2==t._h&&A(t),t._h=1),s===!0?n=r:(c&&c.enter(),n=s(r),c&&c.exit()),n===e.promise?u(g("Promise-chain cycle")):(o=T(n))?o.call(n,a,u):a(n)):u(r)}catch(l){u(l)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&P(t)})}},P=function(t){_.call(a,function(){var e,n,r,i=t._v;if(R(t)&&(e=S(function(){x?b.emit("unhandledRejection",i,t):(n=a.onunhandledrejection)?n({promise:t,reason:i}):(r=a.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=x||R(t)?2:1),t._a=void 0,e)throw e.error})},R=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,r=0;n.length>r;)if(e=n[r++],e.fail||!R(e.promise))return!1;return!0},A=function(t){_.call(a,function(){var e;x?b.emit("rejectionHandled",t):(e=a.onrejectionhandled)&&e({promise:t,reason:t._v})})},D=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),O(e,!0))},N=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw g("Promise can't be resolved itself");(e=T(t))?y(function(){var r={_w:n,_d:!1};try{e.call(t,u(N,r,1),u(D,r,1))}catch(i){D.call(r,i)}}):(n._v=t,n._s=1,O(n,!1))}catch(r){D.call({_w:n,_d:!1},r)}}};E||(w=function(t){h(this,w,m,"_h"),p(t),r.call(this);try{t(u(N,this,1),u(D,this,1))}catch(e){D.call(this,e)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(88)(w.prototype,{then:function(t,e){var n=j(v(this,w));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=x?b.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&O(this,!1),n.promise},"catch":function(t){return this.then(void 0,t)}}),F=function(){var t=new r;this.promise=t,this.resolve=u(N,t,1),this.reject=u(D,t,1)}),l(l.G+l.W+l.F*!E,{Promise:w}),n(70)(w,m),n(89)(m),o=n(5)[m],l(l.S+l.F*!E,m,{reject:function(t){var e=j(this),n=e.reject;return n(t),e.promise}}),l(l.S+l.F*(s||!E),m,{resolve:function(t){if(t instanceof w&&k(t.constructor,this))return t;var e=j(this),n=e.resolve;return n(t),e.promise}}),l(l.S+l.F*!(E&&n(90)(function(t){w.all(t)["catch"](C)})),m,{all:function(t){var e=this,n=j(e),r=n.resolve,i=n.reject,o=S(function(){var n=[],o=0,s=1;d(t,!1,function(t){var a=o++,u=!1;n.push(void 0),s++,e.resolve(t).then(function(t){u||(u=!0,n[a]=t,--s||r(n))},i)}),--s||r(n)});return o&&i(o.error),n.promise},race:function(t){var e=this,n=j(e),r=n.reject,i=S(function(){d(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i&&r(i.error),n.promise}})},function(t,e,n){var r=n(29),i=n(71)("toStringTag"),o="Arguments"==r(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(11),i=n(81),o=n(82),s=n(15),a=n(32),u=n(83),c={},l={},e=t.exports=function(t,e,n,f,p){var h,d,v,_,y=p?function(){return t}:u(t),m=r(n,f,e?2:1),g=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(o(y)){for(h=a(t.length);h>g;g++)if(_=e?m(s(d=t[g])[0],d[1]):m(t[g]),_===c||_===l)return _}else for(v=y.call(t);!(d=v.next()).done;)if(_=i(v,m,d.value,e),_===c||_===l)return _};e.BREAK=c,e.RETURN=l},function(t,e,n){var r=n(15);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(o){var s=t["return"];throw void 0!==s&&r(s.call(t)),o}}},function(t,e,n){var r=n(65),i=n(71)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(78),i=n(71)("iterator"),o=n(65);t.exports=n(5).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(15),i=n(12),o=n(71)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||void 0==(n=r(s)[o])?e:i(n)}},function(t,e,n){var r,i,o,s=n(11),a=n(86),u=n(69),c=n(20),l=n(10),f=l.process,p=l.setImmediate,h=l.clearImmediate,d=l.MessageChannel,v=0,_={},y="onreadystatechange",m=function(){var t=+this;if(_.hasOwnProperty(t)){var e=_[t];delete _[t],e()}},g=function(t){m.call(t.data)};p&&h||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return _[++v]=function(){a("function"==typeof t?t:Function(t),e)},r(v),v},h=function(t){delete _[t]},"process"==n(29)(f)?r=function(t){f.nextTick(s(m,t,1))}:d?(i=new d,o=i.port2,i.port1.onmessage=g,r=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",g,!1)):r=y in c("script")?function(t){u.appendChild(c("script"))[y]=function(){u.removeChild(this),m.call(t)}}:function(t){setTimeout(s(m,t,1),0)}),t.exports={set:p,clear:h}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(10),i=n(85).set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,u="process"==n(29)(s);t.exports=function(){var t,e,n,c=function(){var r,i;for(u&&(r=s.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(o){throw t?n():e=void 0,o}}e=void 0,r&&r.enter()};if(u)n=function(){s.nextTick(c)};else if(o){var l=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}else if(a&&a.resolve){var p=a.resolve();n=function(){p.then(c)}}else n=function(){i.call(r,c)};return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){var r=n(13);t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},function(t,e,n){"use strict";var r=n(10),i=n(5),o=n(14),s=n(18),a=n(71)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t];s&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(71)("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(s){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},t(o)}catch(a){}return n}}]));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcG9wdXAuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIDk5YzY1YWQxOGQwM2MyNTNkNGEzP2I4ODEiLCJ3ZWJwYWNrOi8vLy4vfi93aGF0d2ctZmV0Y2gvZmV0Y2guanM/MWMyMCIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb3JlLmpzPzFiNjIiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZXhwb3J0LmpzP2VjZTIiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZ2xvYmFsLmpzPzc3YWEiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3R4LmpzP2NlMDAiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYS1mdW5jdGlvbi5qcz9kNTNlIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hpZGUuanM/YTZkYSIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHAuanM/NDExNiIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1vYmplY3QuanM/MGRhMyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1vYmplY3QuanM/MjRjOCIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pZTgtZG9tLWRlZmluZS5qcz9iZDFmIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Rlc2NyaXB0b3JzLmpzPzcwNTEiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZmFpbHMuanM/OTM1ZCIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kb20tY3JlYXRlLmpzP2FiNDQiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tcHJpbWl0aXZlLmpzPzQ5YTQiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcHJvcGVydHktZGVzYy5qcz8xZTg2Iiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLmpzP2Y1YmMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMtaW50ZXJuYWwuanM/ZmNlYSIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oYXMuanM/ZDg1MCIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pb2JqZWN0LmpzPzY5NDYiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faW9iamVjdC5qcz81Y2Y5Iiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvZi5qcz80OGVhIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RlZmluZWQuanM/NDVkMyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hcnJheS1pbmNsdWRlcy5qcz82MTk5Iiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWxlbmd0aC5qcz82MmE3Iiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWludGVnZXIuanM/ZjY1ZiIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbmRleC5qcz85ZmQ0Iiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC1rZXkuanM/MmE2YyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQuanM/N2I2YyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191aWQuanM/ZThjZCIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWJ1Zy1rZXlzLmpzPzc1OTgiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tb2JqZWN0LmpzP2I1YzAiLCJ3ZWJwYWNrOi8vLy4vfi9lcHViLXByZXNzLWpzL2J1aWxkL2luZGV4LmpzP2JmMzEiLCJ3ZWJwYWNrOi8vLy4vfi9qcXVlcnkvZGlzdC9qcXVlcnkuanM/MjdkOSIsIndlYnBhY2s6Ly8vLi9+L2lzb21vcnBoaWMtZmV0Y2gvZmV0Y2gtbnBtLWJyb3dzZXJpZnkuanM/NzcyMyIsIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2Jyb3dzZXIuanM/MjRjNiIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcz8yMWFmIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzPzFkZmUiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcz81ZjcwIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanM/YjdkOCIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5LmpzP2M4MmMiLCJ3ZWJwYWNrOi8vLy4vfi9ibHVlYmlyZC9qcy9icm93c2VyL2JsdWViaXJkLmpzP2UzNjYiLCJ3ZWJwYWNrOi8vLy4vfi9wcm9jZXNzL2Jyb3dzZXIuanM/ODJlNCIsIndlYnBhY2s6Ly8vLi9+L3RpbWVycy1icm93c2VyaWZ5L21haW4uanM/YjA4OCIsIndlYnBhY2s6Ly8vLi9zY3JpcHRzL3BvcHVwLmpzIiwid2VicGFjazovLy8uL3NjcmlwdHMvdWkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zdHJpbmctYXQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbGlicmFyeS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyYXRvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWNyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHBzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2h0bWwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXRvLXN0cmluZy10YWcuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1ncG8uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FkZC10by11bnNjb3BhYmxlcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLXN0ZXAuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYucHJvbWlzZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jbGFzc29mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLWluc3RhbmNlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Zvci1vZi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWNhbGwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtYXJyYXktaXRlci5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zcGVjaWVzLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Rhc2suanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faW52b2tlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX21pY3JvdGFzay5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS1hbGwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXNwZWNpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZXRlY3QuanMiXSwibmFtZXMiOlsibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJleHBvcnRzIiwibW9kdWxlIiwiaWQiLCJsb2FkZWQiLCJjYWxsIiwibSIsImMiLCJwIiwiaSIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiX20iLCJhcmdzIiwic2xpY2UiLCJmbiIsImEiLCJiIiwiYXBwbHkiLCJ0aGlzIiwiY29uY2F0Iiwic2VsZiIsIm5vcm1hbGl6ZU5hbWUiLCJuYW1lIiwiU3RyaW5nIiwidGVzdCIsIlR5cGVFcnJvciIsInRvTG93ZXJDYXNlIiwibm9ybWFsaXplVmFsdWUiLCJ2YWx1ZSIsIml0ZXJhdG9yRm9yIiwiaXRlbXMiLCJpdGVyYXRvciIsIm5leHQiLCJzaGlmdCIsImRvbmUiLCJ1bmRlZmluZWQiLCJzdXBwb3J0IiwiaXRlcmFibGUiLCJTeW1ib2wiLCJIZWFkZXJzIiwiaGVhZGVycyIsIm1hcCIsImZvckVhY2giLCJhcHBlbmQiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiY29uc3VtZWQiLCJib2R5IiwiYm9keVVzZWQiLCJQcm9taXNlIiwicmVqZWN0IiwiZmlsZVJlYWRlclJlYWR5IiwicmVhZGVyIiwicmVzb2x2ZSIsIm9ubG9hZCIsInJlc3VsdCIsIm9uZXJyb3IiLCJlcnJvciIsInJlYWRCbG9iQXNBcnJheUJ1ZmZlciIsImJsb2IiLCJGaWxlUmVhZGVyIiwicmVhZEFzQXJyYXlCdWZmZXIiLCJyZWFkQmxvYkFzVGV4dCIsInJlYWRBc1RleHQiLCJCb2R5IiwiX2luaXRCb2R5IiwiX2JvZHlJbml0IiwiX2JvZHlUZXh0IiwiQmxvYiIsImlzUHJvdG90eXBlT2YiLCJfYm9keUJsb2IiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiX2JvZHlGb3JtRGF0YSIsInNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInRvU3RyaW5nIiwiYXJyYXlCdWZmZXIiLCJBcnJheUJ1ZmZlciIsIkVycm9yIiwiZ2V0Iiwic2V0IiwidHlwZSIsInJlamVjdGVkIiwidGhlbiIsInRleHQiLCJkZWNvZGUiLCJqc29uIiwiSlNPTiIsInBhcnNlIiwibm9ybWFsaXplTWV0aG9kIiwibWV0aG9kIiwidXBjYXNlZCIsInRvVXBwZXJDYXNlIiwibWV0aG9kcyIsImluZGV4T2YiLCJSZXF1ZXN0IiwiaW5wdXQiLCJvcHRpb25zIiwidXJsIiwiY3JlZGVudGlhbHMiLCJtb2RlIiwicmVmZXJyZXIiLCJmb3JtIiwidHJpbSIsInNwbGl0IiwiYnl0ZXMiLCJyZXBsYWNlIiwiam9pbiIsImRlY29kZVVSSUNvbXBvbmVudCIsInhociIsImhlYWQiLCJwYWlycyIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsImhlYWRlciIsImtleSIsIlJlc3BvbnNlIiwiYm9keUluaXQiLCJzdGF0dXMiLCJvayIsInN0YXR1c1RleHQiLCJmZXRjaCIsImUiLCJsaXN0IiwicHVzaCIsInZhbHVlcyIsImdldEFsbCIsImhhcyIsImNhbGxiYWNrIiwidGhpc0FyZyIsImtleXMiLCJlbnRyaWVzIiwiY2xvbmUiLCJyZXNwb25zZSIsInJlZGlyZWN0U3RhdHVzZXMiLCJyZWRpcmVjdCIsIlJhbmdlRXJyb3IiLCJsb2NhdGlvbiIsImluaXQiLCJyZXNwb25zZVVSTCIsImdldFJlc3BvbnNlSGVhZGVyIiwicmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0IiwicmVzcG9uc2VUZXh0Iiwib250aW1lb3V0Iiwib3BlbiIsIndpdGhDcmVkZW50aWFscyIsInJlc3BvbnNlVHlwZSIsInNldFJlcXVlc3RIZWFkZXIiLCJzZW5kIiwicG9seWZpbGwiLCJjb3JlIiwidmVyc2lvbiIsIl9fZSIsImdsb2JhbCIsImN0eCIsImhpZGUiLCJQUk9UT1RZUEUiLCIkZXhwb3J0Iiwic291cmNlIiwib3duIiwib3V0IiwiSVNfRk9SQ0VEIiwiRiIsIklTX0dMT0JBTCIsIkciLCJJU19TVEFUSUMiLCJTIiwiSVNfUFJPVE8iLCJQIiwiSVNfQklORCIsIkIiLCJJU19XUkFQIiwiVyIsImV4cFByb3RvIiwidGFyZ2V0IiwiQyIsImFyZ3VtZW50cyIsImxlbmd0aCIsIkZ1bmN0aW9uIiwidmlydHVhbCIsIlIiLCJVIiwid2luZG93IiwiTWF0aCIsIl9fZyIsImFGdW5jdGlvbiIsInRoYXQiLCJpdCIsImRQIiwiY3JlYXRlRGVzYyIsIm9iamVjdCIsImYiLCJhbk9iamVjdCIsIklFOF9ET01fREVGSU5FIiwidG9QcmltaXRpdmUiLCJkZWZpbmVQcm9wZXJ0eSIsIk8iLCJBdHRyaWJ1dGVzIiwiaXNPYmplY3QiLCJleGVjIiwiZG9jdW1lbnQiLCJpcyIsImNyZWF0ZUVsZW1lbnQiLCJ2YWwiLCJ2YWx1ZU9mIiwiYml0bWFwIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiJGtleXMiLCJlbnVtQnVnS2V5cyIsInRvSU9iamVjdCIsImFycmF5SW5kZXhPZiIsIklFX1BST1RPIiwibmFtZXMiLCJJT2JqZWN0IiwiZGVmaW5lZCIsImNvZiIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwidG9MZW5ndGgiLCJ0b0luZGV4IiwiSVNfSU5DTFVERVMiLCIkdGhpcyIsImVsIiwiZnJvbUluZGV4IiwiaW5kZXgiLCJ0b0ludGVnZXIiLCJtaW4iLCJjZWlsIiwiZmxvb3IiLCJpc05hTiIsIm1heCIsInNoYXJlZCIsInVpZCIsIlNIQVJFRCIsInN0b3JlIiwicHgiLCJyYW5kb20iLCIkIiwidCIsInIiLCJuIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJvIiwiREVCVUciLCJjb25zb2xlIiwibG9nIiwicyIsImdldElkIiwiRmlsZSIsImsiLCJzYXZlQXMiLCJ3cml0ZUZpbGVTeW5jIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInNlY3Rpb25zIiwidXJscyIsIkFjY2VwdCIsIkNvbnRlbnQtVHlwZSIsInciLCJ1IiwiY2hlY2tTdGF0dXMiLCJlbWl0IiwiTnVtYmVyIiwicHJvZ3Jlc3MiLCJDSEVDS19TVEFUVVNfTElNSVQiLCJFUlJPUl9DT0RFUyIsInNldFRpbWVvdXQiLCJQT0xMX1JBVEUiLCJsIiwiZXJyb3JzIiwiZGV0YWlsIiwibWVzc2FnZSIsIm1pbkNvbXBhdGlibGUiLCJoIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZmlsdGVyIiwiZCIsIl8iLCJ2IiwieSIsImciLCJFIiwiaiIsIngiLCJEYXRlIiwibWF0Y2giLCJmaWxldHlwZSIsImJvb2tEYXRhIiwiZXZlbnRzIiwiZ2V0VmVyc2lvbiIsImdldFZlcnNpb25VcmwiLCJjbGllbnRzIiwiZ2V0UHVibGlzaFVybCIsIkJBU0VfQVBJIiwiVkVSU0lPTiIsIkFycmF5Iiwic3BsaWNlIiwiZmluZCIsImVtYWlsIiwiZ2V0RmlsZXR5cGUiLCJnZXRFbWFpbCIsImdldFN0YXR1c1VybCIsImlzUHVibGlzaGluZyIsImdldERvd25sb2FkVXJsIiwiYnVmZmVyIiwiZ2V0VGl0bGUiLCJnZXRFbWFpbFVybCIsIkJBU0VfVVJMIiwiYmFzZVVybCIsIjAiLCJGYWlsZWQgdG8gZmV0Y2giLCJGZXRjaEVycm9yIiwiNDAwIiwiNDA0IiwiNDIyIiwiNTAwIiwiNTAzIiwidGltZW91dCIsIlNFUlZFUl9GQUlMRUQiLCJTRVJWRVJfQkFEX0NPTlRFTlQiLCJhc3NpZ24iLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJzdHJpbmdpZnkiLCJfZGVyZXFfIiwiY29kZSIsIjEiLCJwcm9taXNlIiwic2V0SG93TWFueSIsInNldFVud3JhcCIsIl9Tb21lUHJvbWlzZUFycmF5IiwiYW55IiwiMiIsIl9jdXN0b21TY2hlZHVsZXIiLCJfaXNUaWNrVXNlZCIsIl9sYXRlUXVldWUiLCJfbm9ybWFsUXVldWUiLCJfaGF2ZURyYWluZWRRdWV1ZXMiLCJfdHJhbXBvbGluZUVuYWJsZWQiLCJkcmFpblF1ZXVlcyIsIl9kcmFpblF1ZXVlcyIsIl9zY2hlZHVsZSIsIl9xdWV1ZVRpY2siLCJfcHVzaE9uZSIsInNldFNjaGVkdWxlciIsImhhc0N1c3RvbVNjaGVkdWxlciIsImVuYWJsZVRyYW1wb2xpbmUiLCJkaXNhYmxlVHJhbXBvbGluZUlmTmVjZXNzYXJ5IiwiaGFzRGV2VG9vbHMiLCJoYXZlSXRlbXNRdWV1ZWQiLCJmYXRhbEVycm9yIiwic3RkZXJyIiwid3JpdGUiLCJzdGFjayIsImV4aXQiLCJ0aHJvd0xhdGVyIiwiaW52b2tlTGF0ZXIiLCJpbnZva2UiLCJzZXR0bGVQcm9taXNlcyIsIl9zZXR0bGVQcm9taXNlcyIsImludm9rZUZpcnN0IiwidW5zaGlmdCIsIl9kcmFpblF1ZXVlIiwiX3Jlc2V0IiwiZmlyc3RMaW5lRXJyb3IiLCIuL3F1ZXVlIiwiLi9zY2hlZHVsZSIsIi4vdXRpbCIsIjMiLCJfcmVqZWN0IiwicHJvbWlzZVJlamVjdGlvblF1ZXVlZCIsImJpbmRpbmdQcm9taXNlIiwiX3RoZW4iLCJfYml0RmllbGQiLCJfcmVzb2x2ZUNhbGxiYWNrIiwiYmluZCIsIl9wcm9wYWdhdGVGcm9tIiwicHJvcGFnYXRlRnJvbUZ1bmN0aW9uIiwiX2JvdW5kVmFsdWUiLCJib3VuZFZhbHVlRnVuY3Rpb24iLCJfdGFyZ2V0IiwiX3NldEJvdW5kVG8iLCJfc2V0T25DYW5jZWwiLCJfYm91bmRUbyIsIl9pc0JvdW5kIiwiNCIsIm5vQ29uZmxpY3QiLCIuL3Byb21pc2UiLCI1IiwiY3JlYXRlIiwiY2xhc3NTdHJpbmciLCJwb3AiLCJjYW5FdmFsdWF0ZSIsImlzSWRlbnRpZmllciIsIjYiLCJ0cnlDYXRjaCIsImVycm9yT2JqIiwiX2FzeW5jIiwiY2FuY2VsIiwiY2FuY2VsbGF0aW9uIiwiX3dhcm4iLCJfaXNDYW5jZWxsYWJsZSIsIl9jYW5jZWxCeSIsIl9pc0ZvbGxvd2luZyIsIl9mb2xsb3dlZSIsIl9jYW5jZWxCcmFuY2hlZCIsIl9jYW5jZWxsYXRpb25QYXJlbnQiLCJfc2V0V2lsbEJlQ2FuY2VsbGVkIiwiX2JyYW5jaEhhc0NhbmNlbGxlZCIsIl9icmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsIiwiX2Vub3VnaEJyYW5jaGVzSGF2ZUNhbmNlbGxlZCIsIl9pbnZva2VPbkNhbmNlbCIsIl9jYW5jZWwiLCJfc2V0Q2FuY2VsbGVkIiwiX2NhbmNlbFByb21pc2VzIiwiX2xlbmd0aCIsIl91bnNldE9uQ2FuY2VsIiwiX29uQ2FuY2VsRmllbGQiLCJpc1BlbmRpbmciLCJfaXNDYW5jZWxsZWQiLCJpc0NhbmNlbGxhYmxlIiwiaXNDYW5jZWxsZWQiLCJfZG9JbnZva2VPbkNhbmNlbCIsImlzQXJyYXkiLCJfYXR0YWNoRXh0cmFUcmFjZSIsIl9yZXN1bHRDYW5jZWxsZWQiLCJfb25DYW5jZWwiLCJfaW52b2tlSW50ZXJuYWxPbkNhbmNlbCIsIjciLCIuL2VzNSIsIjgiLCJfdHJhY2UiLCJDYXB0dXJlZFRyYWNlIiwiX3Byb21pc2VDcmVhdGVkIiwiX3B1c2hDb250ZXh0IiwiX3BvcENvbnRleHQiLCJfcGVla0NvbnRleHQiLCJkZWFjdGl2YXRlTG9uZ1N0YWNrVHJhY2VzIiwiYWN0aXZhdGVMb25nU3RhY2tUcmFjZXMiLCI5IiwiViIsIl9hdHRhY2hDYW5jZWxsYXRpb25DYWxsYmFjayIsImlzRnVsZmlsbGVkIiwiX3BhcmVudCIsImF0dGFjaEV4dHJhVHJhY2UiLCJfX3N0YWNrQ2xlYW5lZF9fIiwibm90RW51bWVyYWJsZVByb3AiLCJLIiwiX3JldHVybmVkTm9uVW5kZWZpbmVkIiwiSCIsInEiLCJzdCIsIndhcm5pbmdzIiwiTCIsImxvbmdTdGFja1RyYWNlcyIsImV0IiwiUSIsInJ0IiwieiIsImNoYXJBdCIsIkQiLCJOIiwiVCIsInN1YnN0ciIsIm90IiwiZmlsZU5hbWUiLCJsaW5lIiwicGFyc2VJbnQiLCJNIiwiX3Byb21pc2VzQ3JlYXRlZCIsInVuY3ljbGUiLCJBIiwiSSIsIl9nZXREb21haW4iLCJXYXJuaW5nIiwiY2FuQXR0YWNoVHJhY2UiLCJlbnYiLCJYIiwic3VwcHJlc3NVbmhhbmRsZWRSZWplY3Rpb25zIiwiX2Vuc3VyZVBvc3NpYmxlUmVqZWN0aW9uSGFuZGxlZCIsIl9zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZCIsIl9ub3RpZnlVbmhhbmRsZWRSZWplY3Rpb24iLCJfbm90aWZ5VW5oYW5kbGVkUmVqZWN0aW9uSXNIYW5kbGVkIiwiX3NldFJldHVybmVkTm9uVW5kZWZpbmVkIiwiX2lzUmVqZWN0aW9uVW5oYW5kbGVkIiwiX3NldHRsZWRWYWx1ZSIsIl9zZXRVbmhhbmRsZWRSZWplY3Rpb25Jc05vdGlmaWVkIiwiX3Vuc2V0VW5oYW5kbGVkUmVqZWN0aW9uSXNOb3RpZmllZCIsIl9pc1VuaGFuZGxlZFJlamVjdGlvbk5vdGlmaWVkIiwiX3Vuc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQiLCJvblBvc3NpYmx5VW5oYW5kbGVkUmVqZWN0aW9uIiwiZG9tYWluQmluZCIsIm9uVW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlZCIsIkoiLCJfY2FwdHVyZVN0YWNrVHJhY2UiLCJoYXNMb25nU3RhY2tUcmFjZXMiLCJZIiwiQ3VzdG9tRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiY2FuY2VsYWJsZSIsIkV2ZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0Q3VzdG9tRXZlbnQiLCJaIiwiaXNOb2RlIiwidHQiLCJwcm9taXNlQ3JlYXRlZCIsInByb21pc2VGdWxmaWxsZWQiLCJwcm9taXNlUmVqZWN0ZWQiLCJwcm9taXNlUmVzb2x2ZWQiLCJwcm9taXNlQ2FuY2VsbGVkIiwicHJvbWlzZUNoYWluZWQiLCJjaGlsZCIsIndhcm5pbmciLCJ1bmhhbmRsZWRSZWplY3Rpb24iLCJyZWFzb24iLCJyZWplY3Rpb25IYW5kbGVkIiwiY29uZmlnIiwid0ZvcmdvdHRlblJldHVybiIsIl9jbGVhckNhbmNlbGxhdGlvbkRhdGEiLCJfZXhlY3V0ZSIsIm50IiwibW9uaXRvcmluZyIsIl9maXJlRXZlbnQiLCJpbmhlcml0cyIsInN0YWNrVHJhY2VMaW1pdCIsImNhcHR1cmVTdGFja1RyYWNlIiwid2FybiIsImlzVFRZIiwiY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zIiwic2V0Qm91bmRzIiwiZGVwcmVjYXRlZCIsImZpcmVEb21FdmVudCIsImZpcmVHbG9iYWxFdmVudCIsIi4vZXJyb3JzIiwiMTAiLCJ0aGVuUmV0dXJuIiwidGhlblRocm93IiwiY2F0Y2hUaHJvdyIsImNhdWdodCIsImNhdGNoUmV0dXJuIiwiMTEiLCJyZWR1Y2UiLCJhbGwiLCJlYWNoIiwibWFwU2VyaWVzIiwiMTIiLCJjb25zdHJ1Y3RvciIsImNhdXNlIiwiaXNPcGVyYXRpb25hbCIsImZyZWV6ZSIsIl9fQmx1ZWJpcmRFcnJvclR5cGVzX18iLCJDYW5jZWxsYXRpb25FcnJvciIsIlRpbWVvdXRFcnJvciIsIk9wZXJhdGlvbmFsRXJyb3IiLCJSZWplY3Rpb25FcnJvciIsIkFnZ3JlZ2F0ZUVycm9yIiwiMTMiLCJnZXREZXNjcmlwdG9yIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZ2V0UHJvdG90eXBlT2YiLCJpc0VTNSIsInByb3BlcnR5SXNXcml0YWJsZSIsIjE0IiwiMTUiLCJoYW5kbGVyIiwiY2FsbGVkIiwiY2FuY2VsUHJvbWlzZSIsImZpbmFsbHlIYW5kbGVyIiwiaXNGaW5hbGx5SGFuZGxlciIsImlzUmVqZWN0ZWQiLCJfcGFzc1Rocm91Z2giLCJsYXN0bHkiLCJ0YXAiLCIxNiIsIl9maW5hbGx5UHJvbWlzZSIsIl9wcm9taXNlIiwiX3N0YWNrIiwiX2dlbmVyYXRvckZ1bmN0aW9uIiwiX3JlY2VpdmVyIiwiX2dlbmVyYXRvciIsIl95aWVsZEhhbmRsZXJzIiwiX3lpZWxkZWRQcm9taXNlIiwiX2NhbmNlbGxhdGlvblBoYXNlIiwiX2lzUmVzb2x2ZWQiLCJfY2xlYW51cCIsIl9mdWxmaWxsIiwiX3Byb21pc2VDYW5jZWxsZWQiLCJjb3JvdXRpbmUiLCJyZXR1cm5TZW50aW5lbCIsIl9jb250aW51ZSIsIl9wcm9taXNlRnVsZmlsbGVkIiwiX3Byb21pc2VSZWplY3RlZCIsIl9ydW4iLCJfcmVqZWN0Q2FsbGJhY2siLCJfcHJveHkiLCJfdmFsdWUiLCJfcmVhc29uIiwieWllbGRIYW5kbGVyIiwiYWRkWWllbGRIYW5kbGVyIiwic3Bhd24iLCIxNyIsInNwcmVhZCIsIjE4IiwiY29uc3RydWN0b3IkIiwiX2NhbGxiYWNrIiwiX3ByZXNlcnZlZFZhbHVlcyIsIl9saW1pdCIsIl9pbkZsaWdodCIsIl9xdWV1ZSIsIl9hc3luY0luaXQiLCJjb25jdXJyZW5jeSIsImlzRmluaXRlIiwiX2luaXQkIiwiX2luaXQiLCJfdmFsdWVzIiwiX3RvdGFsUmVzb2x2ZWQiLCJfZmlsdGVyIiwiX3Jlc29sdmUiLCJwcmVzZXJ2ZWRWYWx1ZXMiLCIxOSIsIl9yZXNvbHZlRnJvbVN5bmNWYWx1ZSIsImF0dGVtcHQiLCIyMCIsIm1hcmtBc09yaWdpbmF0aW5nRnJvbVJlamVjdGlvbiIsIm1heWJlV3JhcEFzRXJyb3IiLCIyMSIsImFzQ2FsbGJhY2siLCJub2RlaWZ5IiwiMjIiLCJfZnVsZmlsbG1lbnRIYW5kbGVyMCIsIl9yZWplY3Rpb25IYW5kbGVyMCIsIl9wcm9taXNlMCIsIl9yZWNlaXZlcjAiLCJfcmVzb2x2ZUZyb21FeGVjdXRvciIsIlByb21pc2VJbnNwZWN0aW9uIiwiZG9tYWluIiwicmVmbGVjdCIsIl9zZXRJc0ZpbmFsIiwidG9KU09OIiwiZnVsZmlsbG1lbnRWYWx1ZSIsInJlamVjdGlvblJlYXNvbiIsIm9yaWdpbmF0ZXNGcm9tUmVqZWN0aW9uIiwiZ2V0TmV3TGlicmFyeUNvcHkiLCJmcm9tTm9kZSIsImZyb21DYWxsYmFjayIsIm11bHRpQXJncyIsIl9pc0ZhdGVTZWFsZWQiLCJfc2V0QXN5bmNHdWFyYW50ZWVkIiwiY2FzdCIsIl9zZXRGdWxmaWxsZWQiLCJmdWxmaWxsZWQiLCJfc2V0dGxlUHJvbWlzZUN0eCIsIl9zZXR0bGVQcm9taXNlTGF0ZUNhbmNlbGxhdGlvbk9ic2VydmVyIiwicmVjZWl2ZXIiLCJfYWRkQ2FsbGJhY2tzIiwiX3NldExlbmd0aCIsIl9zZXRSZWplY3RlZCIsIl9zZXRGb2xsb3dpbmciLCJfaXNGaW5hbCIsIl91bnNldENhbmNlbGxlZCIsIl9yZWNlaXZlckF0IiwiX3Byb21pc2VBdCIsIl9mdWxmaWxsbWVudEhhbmRsZXJBdCIsIl9yZWplY3Rpb25IYW5kbGVyQXQiLCJfbWlncmF0ZUNhbGxiYWNrMCIsIl9taWdyYXRlQ2FsbGJhY2tBdCIsIl9zZXRGb2xsb3dlZSIsImVuc3VyZUVycm9yT2JqZWN0IiwiX3NldHRsZVByb21pc2VGcm9tSGFuZGxlciIsIl9zZXR0bGVQcm9taXNlIiwiX3NldHRsZVByb21pc2UwIiwiX2NsZWFyQ2FsbGJhY2tEYXRhQXRJbmRleCIsIl9mdWxmaWxsUHJvbWlzZXMiLCJfcmVqZWN0UHJvbWlzZXMiLCJkZWZlciIsInBlbmRpbmciLCJ0b0Zhc3RQcm9wZXJ0aWVzIiwibGFzdExpbmVFcnJvciIsIi4vYW55LmpzIiwiLi9hc3luYyIsIi4vYmluZCIsIi4vY2FsbF9nZXQuanMiLCIuL2NhbmNlbCIsIi4vY2F0Y2hfZmlsdGVyIiwiLi9jb250ZXh0IiwiLi9kZWJ1Z2dhYmlsaXR5IiwiLi9kaXJlY3RfcmVzb2x2ZSIsIi4vZWFjaC5qcyIsIi4vZmlsdGVyLmpzIiwiLi9maW5hbGx5IiwiLi9nZW5lcmF0b3JzLmpzIiwiLi9qb2luIiwiLi9tYXAuanMiLCIuL21ldGhvZCIsIi4vbm9kZWJhY2siLCIuL25vZGVpZnkuanMiLCIuL3Byb21pc2VfYXJyYXkiLCIuL3Byb21pc2lmeS5qcyIsIi4vcHJvcHMuanMiLCIuL3JhY2UuanMiLCIuL3JlZHVjZS5qcyIsIi4vc2V0dGxlLmpzIiwiLi9zb21lLmpzIiwiLi9zeW5jaHJvbm91c19pbnNwZWN0aW9uIiwiLi90aGVuYWJsZXMiLCIuL3RpbWVycy5qcyIsIi4vdXNpbmcuanMiLCIyMyIsImFzQXJyYXkiLCJfcmVzb2x2ZUVtcHR5QXJyYXkiLCJfaXRlcmF0ZSIsImdldEFjdHVhbExlbmd0aCIsInNob3VsZENvcHlWYWx1ZXMiLCIyNCIsIl9faXNQcm9taXNpZmllZF9fIiwiZ2V0RGF0YVByb3BlcnR5T3JEZWZhdWx0IiwiaW5oZXJpdGVkRGF0YUtleXMiLCJSZWdFeHAiLCJ3aXRoQXBwZW5kZWQiLCJwcm9taXNpZnkiLCJjb250ZXh0IiwiY29weURlc2NyaXB0b3JzIiwicHJvbWlzaWZ5QWxsIiwic3VmZml4IiwicHJvbWlzaWZpZXIiLCJpc0NsYXNzIiwiMjUiLCJfaXNNYXAiLCJwcm9wcyIsIk1hcCIsInNpemUiLCIyNiIsIl9jYXBhY2l0eSIsIl9mcm9udCIsIl93aWxsQmVPdmVyQ2FwYWNpdHkiLCJfY2hlY2tDYXBhY2l0eSIsIl91bnNoaWZ0T25lIiwiX3Jlc2l6ZVRvIiwiMjciLCJyYWNlIiwiMjgiLCJfZm4iLCJfaW5pdGlhbFZhbHVlIiwiX2N1cnJlbnRDYW5jZWxsYWJsZSIsIl9lYWNoVmFsdWVzIiwiYWNjdW0iLCJhcnJheSIsIl9nb3RBY2N1bSIsIl9lYWNoQ29tcGxldGUiLCJfcmVzdWx0Q2FuY2VsbGVkJCIsIjI5IiwiZ2V0TmF0aXZlUHJvbWlzZSIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJzZXRJbW1lZGlhdGUiLCJuZXh0VGljayIsImlzUmVjZW50Tm9kZSIsIm5hdmlnYXRvciIsInN0YW5kYWxvbmUiLCJjb3Jkb3ZhIiwiYXR0cmlidXRlcyIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIm9ic2VydmUiLCJkaXNjb25uZWN0IiwiMzAiLCJfcHJvbWlzZVJlc29sdmVkIiwiX3NldHRsZWRWYWx1ZUZpZWxkIiwic2V0dGxlIiwiMzEiLCJfaG93TWFueSIsIl91bndyYXAiLCJfaW5pdGlhbGl6ZWQiLCJfY2FuUG9zc2libHlGdWxmaWxsIiwiX2dldFJhbmdlRXJyb3IiLCJob3dNYW55IiwiX2FkZEZ1bGZpbGxlZCIsIl9mdWxmaWxsZWQiLCJfYWRkUmVqZWN0ZWQiLCJfY2hlY2tPdXRjb21lIiwiX3JlamVjdGVkIiwic29tZSIsIjMyIiwiaXNSZXNvbHZlZCIsIl9faXNDYW5jZWxsZWQiLCIzMyIsIjM0IiwiaGFuZGxlIiwiY2xlYXJUaW1lb3V0IiwiZGVsYXkiLCIzNSIsIl9pc0Rpc3Bvc2FibGUiLCJfZ2V0RGlzcG9zZXIiLCJfc2V0RGlzcG9zYWJsZSIsInRyeURpc3Bvc2UiLCJfZGF0YSIsIl9jb250ZXh0IiwiaXNEaXNwb3NlciIsInJlc291cmNlcyIsImRhdGEiLCJyZXNvdXJjZSIsImRvRGlzcG9zZSIsIl91bnNldERpc3Bvc2FibGUiLCJ1c2luZyIsIl9kaXNwb3NlciIsImRpc3Bvc2VyIiwiMzYiLCJmcm9tIiwidGhyb3dlciIsImlzUHJpbWl0aXZlIiwiaXNFcnJvciIsImZpbGxlZFJhbmdlIiwiY2hyb21lIiwibG9hZFRpbWVzIiwidmVyc2lvbnMiLCJub2RlIiwicnVuIiwiZnVuIiwiYnJvd3NlciIsImFyZ3YiLCJvbiIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwidW1hc2siLCJfaWQiLCJfY2xlYXJGbiIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImNsb3NlIiwidW5yZWYiLCJyZWYiLCJlbnJvbGwiLCJfaWRsZVRpbWVvdXRJZCIsIl9pZGxlVGltZW91dCIsInVuZW5yb2xsIiwiX3VucmVmQWN0aXZlIiwiYWN0aXZlIiwiX29uVGltZW91dCIsImNsZWFySW1tZWRpYXRlIiwidXNlckFnZW50IiwiVVJMIiwid2Via2l0VVJMIiwiY3JlYXRlRWxlbWVudE5TIiwiTW91c2VFdmVudCIsIkhUTUxFbGVtZW50Iiwic2FmYXJpIiwicmV2b2tlT2JqZWN0VVJMIiwicmVtb3ZlIiwiZnJvbUNoYXJDb2RlIiwib25sb2FkZW5kIiwiaHJlZiIsInJlYWR5U3RhdGUiLCJET05FIiwicmVhZEFzRGF0YVVSTCIsIklOSVQiLCJjcmVhdGVPYmplY3RVUkwiLCJkb3dubG9hZCIsIm1zU2F2ZU9yT3BlbkJsb2IiLCJhYm9ydCIsIldSSVRJTkciLCJvbndyaXRlc3RhcnQiLCJvbnByb2dyZXNzIiwib253cml0ZSIsIm9uYWJvcnQiLCJvbndyaXRlZW5kIiwiY29udGVudCIsImhvbWVwYWdlIiwibWFpbiIsImRpcmVjdG9yaWVzIiwidGVzdHMiLCJzY3JpcHRzIiwic3RhcnQiLCJidWlsZCIsImJ1aWxkLXByb2QiLCJwcmV2ZXJzaW9uIiwicHJlcHVibGlzaCIsInJlcG9zaXRvcnkiLCJrZXl3b3JkcyIsImF1dGhvciIsImxpY2Vuc2UiLCJidWdzIiwiZGV2RGVwZW5kZW5jaWVzIiwiYmFiZWwtY29yZSIsImJhYmVsLWxvYWRlciIsImJhYmVsLXBsdWdpbi10cmFuc2Zvcm0tcnVudGltZSIsImJhYmVsLXByZXNldC1lczIwMTUiLCJjaGFpIiwiZmV0Y2gtbW9jayIsIm1vY2hhIiwibW9jaGEtbG9hZGVyIiwic2lub24iLCJzaW5vbi1hcy1wcm9taXNlZCIsIndlYnBhY2siLCJkZXBlbmRlbmNpZXMiLCJibHVlYmlyZCIsImZpbGUtc2F2ZXIiLCJpc29tb3JwaGljLWZldGNoIiwianNvbi1sb2FkZXIiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJmYWN0b3J5Iiwibm9HbG9iYWwiLCJET01FdmFsIiwiZG9jIiwic2NyaXB0IiwiYXBwZW5kQ2hpbGQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJpc0FycmF5TGlrZSIsIm9iaiIsImpRdWVyeSIsImlzV2luZG93Iiwid2lubm93IiwiZWxlbWVudHMiLCJxdWFsaWZpZXIiLCJub3QiLCJpc0Z1bmN0aW9uIiwiZ3JlcCIsImVsZW0iLCJub2RlVHlwZSIsInJpc1NpbXBsZSIsInNpYmxpbmciLCJjdXIiLCJkaXIiLCJjcmVhdGVPcHRpb25zIiwicm5vdHdoaXRlIiwiZmxhZyIsIklkZW50aXR5IiwiVGhyb3dlciIsImV4IiwiYWRvcHRWYWx1ZSIsImZhaWwiLCJjb21wbGV0ZWQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVhZHkiLCJEYXRhIiwiZXhwYW5kbyIsImRhdGFBdHRyIiwicm11bHRpRGFzaCIsImdldEF0dHJpYnV0ZSIsInJicmFjZSIsImRhdGFVc2VyIiwiYWRqdXN0Q1NTIiwicHJvcCIsInZhbHVlUGFydHMiLCJ0d2VlbiIsImFkanVzdGVkIiwic2NhbGUiLCJtYXhJdGVyYXRpb25zIiwiY3VycmVudFZhbHVlIiwiY3NzIiwiaW5pdGlhbCIsInVuaXQiLCJjc3NOdW1iZXIiLCJpbml0aWFsSW5Vbml0IiwicmNzc051bSIsInN0eWxlIiwiZW5kIiwiZ2V0RGVmYXVsdERpc3BsYXkiLCJ0ZW1wIiwib3duZXJEb2N1bWVudCIsIm5vZGVOYW1lIiwiZGlzcGxheSIsImRlZmF1bHREaXNwbGF5TWFwIiwic2hvd0hpZGUiLCJzaG93IiwiZGF0YVByaXYiLCJpc0hpZGRlbldpdGhpblRyZWUiLCJ0YWciLCJyZXQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJtZXJnZSIsInNldEdsb2JhbEV2YWwiLCJlbGVtcyIsInJlZkVsZW1lbnRzIiwiYnVpbGRGcmFnbWVudCIsInNlbGVjdGlvbiIsImlnbm9yZWQiLCJ0bXAiLCJ3cmFwIiwiY29udGFpbnMiLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJub2RlcyIsInJodG1sIiwicnRhZ05hbWUiLCJ3cmFwTWFwIiwiX2RlZmF1bHQiLCJpbm5lckhUTUwiLCJodG1sUHJlZmlsdGVyIiwibGFzdENoaWxkIiwiY2hpbGROb2RlcyIsImZpcnN0Q2hpbGQiLCJ0ZXh0Q29udGVudCIsImNyZWF0ZVRleHROb2RlIiwiaW5BcnJheSIsInJzY3JpcHRUeXBlIiwicmV0dXJuVHJ1ZSIsInJldHVybkZhbHNlIiwic2FmZUFjdGl2ZUVsZW1lbnQiLCJhY3RpdmVFbGVtZW50IiwiZXJyIiwidHlwZXMiLCJzZWxlY3RvciIsIm9uZSIsIm9yaWdGbiIsImV2ZW50IiwiZ3VpZCIsImFkZCIsIm1hbmlwdWxhdGlvblRhcmdldCIsImRpc2FibGVTY3JpcHQiLCJyZXN0b3JlU2NyaXB0IiwicnNjcmlwdFR5cGVNYXNrZWQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjbG9uZUNvcHlFdmVudCIsInNyYyIsImRlc3QiLCJwZGF0YU9sZCIsInBkYXRhQ3VyIiwidWRhdGFPbGQiLCJ1ZGF0YUN1ciIsImhhc0RhdGEiLCJhY2Nlc3MiLCJleHRlbmQiLCJmaXhJbnB1dCIsInJjaGVja2FibGVUeXBlIiwiY2hlY2tlZCIsImRlZmF1bHRWYWx1ZSIsImRvbU1hbmlwIiwiY29sbGVjdGlvbiIsImZpcnN0IiwiaGFzU2NyaXB0cyIsImlOb0Nsb25lIiwiY2hlY2tDbG9uZSIsInJjaGVja2VkIiwiZXEiLCJodG1sIiwiX2V2YWxVcmwiLCJyY2xlYW5TY3JpcHQiLCJrZWVwRGF0YSIsImNsZWFuRGF0YSIsImN1ckNTUyIsImNvbXB1dGVkIiwid2lkdGgiLCJtaW5XaWR0aCIsIm1heFdpZHRoIiwiZ2V0U3R5bGVzIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInBpeGVsTWFyZ2luUmlnaHQiLCJybnVtbm9ucHgiLCJybWFyZ2luIiwiYWRkR2V0SG9va0lmIiwiY29uZGl0aW9uRm4iLCJob29rRm4iLCJ2ZW5kb3JQcm9wTmFtZSIsImVtcHR5U3R5bGUiLCJjYXBOYW1lIiwiY3NzUHJlZml4ZXMiLCJzZXRQb3NpdGl2ZU51bWJlciIsInN1YnRyYWN0IiwibWF0Y2hlcyIsImF1Z21lbnRXaWR0aE9ySGVpZ2h0IiwiZXh0cmEiLCJpc0JvcmRlckJveCIsInN0eWxlcyIsImNzc0V4cGFuZCIsImdldFdpZHRoT3JIZWlnaHQiLCJ2YWx1ZUlzQm9yZGVyQm94IiwiZ2V0Q2xpZW50UmVjdHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJib3hTaXppbmdSZWxpYWJsZSIsInBhcnNlRmxvYXQiLCJUd2VlbiIsImVhc2luZyIsInJhZiIsInRpbWVySWQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJmeCIsInRpY2siLCJjcmVhdGVGeE5vdyIsImZ4Tm93Iiwibm93IiwiZ2VuRngiLCJpbmNsdWRlV2lkdGgiLCJ3aGljaCIsImF0dHJzIiwiaGVpZ2h0Iiwib3BhY2l0eSIsImNyZWF0ZVR3ZWVuIiwiYW5pbWF0aW9uIiwiQW5pbWF0aW9uIiwidHdlZW5lcnMiLCJkZWZhdWx0UHJlZmlsdGVyIiwib3B0cyIsImhvb2tzIiwib2xkZmlyZSIsInByb3BUd2VlbiIsInJlc3RvcmVEaXNwbGF5IiwiaXNCb3giLCJhbmltIiwib3JpZyIsImhpZGRlbiIsImRhdGFTaG93IiwicXVldWUiLCJfcXVldWVIb29rcyIsInVucXVldWVkIiwiZW1wdHkiLCJmaXJlIiwiYWx3YXlzIiwicmZ4dHlwZXMiLCJpc0VtcHR5T2JqZWN0Iiwib3ZlcmZsb3ciLCJvdmVyZmxvd1giLCJvdmVyZmxvd1kiLCJwcm9wRmlsdGVyIiwic3BlY2lhbEVhc2luZyIsImNhbWVsQ2FzZSIsImNzc0hvb2tzIiwiZXhwYW5kIiwicHJvcGVydGllcyIsInN0b3BwZWQiLCJwcmVmaWx0ZXJzIiwiZGVmZXJyZWQiLCJEZWZlcnJlZCIsImN1cnJlbnRUaW1lIiwicmVtYWluaW5nIiwic3RhcnRUaW1lIiwiZHVyYXRpb24iLCJwZXJjZW50IiwidHdlZW5zIiwibm90aWZ5V2l0aCIsInJlc29sdmVXaXRoIiwib3JpZ2luYWxQcm9wZXJ0aWVzIiwib3JpZ2luYWxPcHRpb25zIiwic3RvcCIsImdvdG9FbmQiLCJyZWplY3RXaXRoIiwicHJveHkiLCJ0aW1lciIsImNvbXBsZXRlIiwiZ2V0Q2xhc3MiLCJidWlsZFBhcmFtcyIsInByZWZpeCIsInRyYWRpdGlvbmFsIiwicmJyYWNrZXQiLCJhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMiLCJzdHJ1Y3R1cmUiLCJkYXRhVHlwZUV4cHJlc3Npb24iLCJmdW5jIiwiZGF0YVR5cGUiLCJkYXRhVHlwZXMiLCJpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyIsImpxWEhSIiwiaW5zcGVjdCIsInNlbGVjdGVkIiwiaW5zcGVjdGVkIiwicHJlZmlsdGVyT3JGYWN0b3J5IiwiZGF0YVR5cGVPclRyYW5zcG9ydCIsInNlZWtpbmdUcmFuc3BvcnQiLCJ0cmFuc3BvcnRzIiwiYWpheEV4dGVuZCIsImRlZXAiLCJmbGF0T3B0aW9ucyIsImFqYXhTZXR0aW5ncyIsImFqYXhIYW5kbGVSZXNwb25zZXMiLCJyZXNwb25zZXMiLCJjdCIsImZpbmFsRGF0YVR5cGUiLCJmaXJzdERhdGFUeXBlIiwiY29udGVudHMiLCJtaW1lVHlwZSIsImNvbnZlcnRlcnMiLCJhamF4Q29udmVydCIsImlzU3VjY2VzcyIsImNvbnYyIiwiY3VycmVudCIsImNvbnYiLCJwcmV2IiwicmVzcG9uc2VGaWVsZHMiLCJkYXRhRmlsdGVyIiwic3RhdGUiLCJnZXRXaW5kb3ciLCJkZWZhdWx0VmlldyIsImFyciIsImdldFByb3RvIiwiY2xhc3MydHlwZSIsImhhc093biIsImZuVG9TdHJpbmciLCJPYmplY3RGdW5jdGlvblN0cmluZyIsInJ0cmltIiwicm1zUHJlZml4IiwicmRhc2hBbHBoYSIsImZjYW1lbENhc2UiLCJsZXR0ZXIiLCJqcXVlcnkiLCJ0b0FycmF5IiwibnVtIiwicHVzaFN0YWNrIiwicHJldk9iamVjdCIsImxhc3QiLCJsZW4iLCJzb3J0IiwiY29weSIsImNvcHlJc0FycmF5IiwiaXNQbGFpbk9iamVjdCIsImlzUmVhZHkiLCJtc2ciLCJub29wIiwiaXNOdW1lcmljIiwicHJvdG8iLCJDdG9yIiwiZ2xvYmFsRXZhbCIsInN0cmluZyIsIm1ha2VBcnJheSIsInJlc3VsdHMiLCJzZWNvbmQiLCJpbnZlcnQiLCJjYWxsYmFja0ludmVyc2UiLCJjYWxsYmFja0V4cGVjdCIsImFyZyIsIlNpenpsZSIsInNlZWQiLCJuaWQiLCJncm91cHMiLCJuZXdTZWxlY3RvciIsIm5ld0NvbnRleHQiLCJwcmVmZXJyZWREb2MiLCJzZXREb2N1bWVudCIsImRvY3VtZW50SXNIVE1MIiwicnF1aWNrRXhwciIsImdldEVsZW1lbnRCeUlkIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInFzYSIsImNvbXBpbGVyQ2FjaGUiLCJyYnVnZ3lRU0EiLCJyY3NzZXNjYXBlIiwiZmNzc2VzY2FwZSIsInNldEF0dHJpYnV0ZSIsInRva2VuaXplIiwidG9TZWxlY3RvciIsInJzaWJsaW5nIiwidGVzdENvbnRleHQiLCJxc2FFcnJvciIsInNlbGVjdCIsImNyZWF0ZUNhY2hlIiwiY2FjaGUiLCJFeHByIiwiY2FjaGVMZW5ndGgiLCJtYXJrRnVuY3Rpb24iLCJhc3NlcnQiLCJhZGRIYW5kbGUiLCJhdHRySGFuZGxlIiwic2libGluZ0NoZWNrIiwiZGlmZiIsInNvdXJjZUluZGV4IiwibmV4dFNpYmxpbmciLCJjcmVhdGVJbnB1dFBzZXVkbyIsImNyZWF0ZUJ1dHRvblBzZXVkbyIsImNyZWF0ZURpc2FibGVkUHNldWRvIiwiZGlzYWJsZWQiLCJpc0Rpc2FibGVkIiwiZGlzYWJsZWRBbmNlc3RvciIsImNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8iLCJhcmd1bWVudCIsIm1hdGNoSW5kZXhlcyIsInNldEZpbHRlcnMiLCJ0b2tlbnMiLCJhZGRDb21iaW5hdG9yIiwibWF0Y2hlciIsImNvbWJpbmF0b3IiLCJiYXNlIiwic2tpcCIsImNoZWNrTm9uRWxlbWVudHMiLCJkb25lTmFtZSIsInhtbCIsIm9sZENhY2hlIiwidW5pcXVlQ2FjaGUiLCJvdXRlckNhY2hlIiwibmV3Q2FjaGUiLCJkaXJydW5zIiwidW5pcXVlSUQiLCJlbGVtZW50TWF0Y2hlciIsIm1hdGNoZXJzIiwibXVsdGlwbGVDb250ZXh0cyIsImNvbnRleHRzIiwiY29uZGVuc2UiLCJ1bm1hdGNoZWQiLCJuZXdVbm1hdGNoZWQiLCJtYXBwZWQiLCJzZXRNYXRjaGVyIiwicHJlRmlsdGVyIiwicG9zdEZpbHRlciIsInBvc3RGaW5kZXIiLCJwb3N0U2VsZWN0b3IiLCJwcmVNYXAiLCJwb3N0TWFwIiwicHJlZXhpc3RpbmciLCJtYXRjaGVySW4iLCJtYXRjaGVyT3V0IiwibWF0Y2hlckZyb21Ub2tlbnMiLCJjaGVja0NvbnRleHQiLCJsZWFkaW5nUmVsYXRpdmUiLCJyZWxhdGl2ZSIsImltcGxpY2l0UmVsYXRpdmUiLCJtYXRjaENvbnRleHQiLCJtYXRjaEFueUNvbnRleHQiLCJvdXRlcm1vc3RDb250ZXh0IiwibWF0Y2hlckZyb21Hcm91cE1hdGNoZXJzIiwiZWxlbWVudE1hdGNoZXJzIiwic2V0TWF0Y2hlcnMiLCJieVNldCIsImJ5RWxlbWVudCIsInN1cGVyTWF0Y2hlciIsIm91dGVybW9zdCIsIm1hdGNoZWRDb3VudCIsInNldE1hdGNoZWQiLCJjb250ZXh0QmFja3VwIiwiZGlycnVuc1VuaXF1ZSIsInVuaXF1ZVNvcnQiLCJnZXRUZXh0IiwiaXNYTUwiLCJjb21waWxlIiwic29ydElucHV0IiwiaGFzRHVwbGljYXRlIiwiZG9jRWxlbSIsInJidWdneU1hdGNoZXMiLCJjbGFzc0NhY2hlIiwidG9rZW5DYWNoZSIsInNvcnRPcmRlciIsInB1c2hfbmF0aXZlIiwiYm9vbGVhbnMiLCJ3aGl0ZXNwYWNlIiwiaWRlbnRpZmllciIsInBzZXVkb3MiLCJyd2hpdGVzcGFjZSIsInJjb21tYSIsInJjb21iaW5hdG9ycyIsInJhdHRyaWJ1dGVRdW90ZXMiLCJycHNldWRvIiwicmlkZW50aWZpZXIiLCJtYXRjaEV4cHIiLCJJRCIsIkNMQVNTIiwiVEFHIiwiQVRUUiIsIlBTRVVETyIsIkNISUxEIiwiYm9vbCIsIm5lZWRzQ29udGV4dCIsInJpbnB1dHMiLCJyaGVhZGVyIiwicm5hdGl2ZSIsInJ1bmVzY2FwZSIsImZ1bmVzY2FwZSIsImVzY2FwZWQiLCJlc2NhcGVkV2hpdGVzcGFjZSIsImhpZ2giLCJjaCIsImFzQ29kZVBvaW50IiwiY2hhckNvZGVBdCIsInVubG9hZEhhbmRsZXIiLCJlbHMiLCJkb2N1bWVudEVsZW1lbnQiLCJoYXNDb21wYXJlIiwic3ViV2luZG93IiwidG9wIiwiYWRkRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50IiwiY2xhc3NOYW1lIiwiY3JlYXRlQ29tbWVudCIsImdldEJ5SWQiLCJnZXRFbGVtZW50c0J5TmFtZSIsImF0dHJJZCIsImdldEF0dHJpYnV0ZU5vZGUiLCJtYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJvTWF0Y2hlc1NlbGVjdG9yIiwibXNNYXRjaGVzU2VsZWN0b3IiLCJkaXNjb25uZWN0ZWRNYXRjaCIsImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIiwiYWRvd24iLCJidXAiLCJjb21wYXJlIiwic29ydERldGFjaGVkIiwiYXVwIiwiYXAiLCJicCIsImV4cHIiLCJhdHRyIiwic3BlY2lmaWVkIiwiZXNjYXBlIiwic2VsIiwiZHVwbGljYXRlcyIsImRldGVjdER1cGxpY2F0ZXMiLCJzb3J0U3RhYmxlIiwibm9kZVZhbHVlIiwic2VsZWN0b3JzIiwiY3JlYXRlUHNldWRvIiwiPiIsIiAiLCIrIiwifiIsImV4Y2VzcyIsInVucXVvdGVkIiwibm9kZU5hbWVTZWxlY3RvciIsInBhdHRlcm4iLCJvcGVyYXRvciIsImNoZWNrIiwid2hhdCIsInNpbXBsZSIsImZvcndhcmQiLCJvZlR5cGUiLCJub2RlSW5kZXgiLCJwYXJlbnQiLCJ1c2VDYWNoZSIsInBzZXVkbyIsImlkeCIsIm1hdGNoZWQiLCJpbm5lclRleHQiLCJsYW5nIiwiZWxlbUxhbmciLCJoYXNoIiwicm9vdCIsImZvY3VzIiwiaGFzRm9jdXMiLCJ0YWJJbmRleCIsImVuYWJsZWQiLCJzZWxlY3RlZEluZGV4IiwiYnV0dG9uIiwiZXZlbiIsIm9kZCIsImx0IiwiZ3QiLCJyYWRpbyIsImNoZWNrYm94IiwiZmlsZSIsInBhc3N3b3JkIiwiaW1hZ2UiLCJzdWJtaXQiLCJyZXNldCIsImZpbHRlcnMiLCJwYXJzZU9ubHkiLCJzb0ZhciIsInByZUZpbHRlcnMiLCJjYWNoZWQiLCJ0b2tlbiIsImNvbXBpbGVkIiwidW5pcXVlIiwiaXNYTUxEb2MiLCJlc2NhcGVTZWxlY3RvciIsInVudGlsIiwidHJ1bmNhdGUiLCJzaWJsaW5ncyIsInJuZWVkc0NvbnRleHQiLCJyc2luZ2xlVGFnIiwicm9vdGpRdWVyeSIsInBhcnNlSFRNTCIsInJwYXJlbnRzcHJldiIsImd1YXJhbnRlZWRVbmlxdWUiLCJjaGlsZHJlbiIsInRhcmdldHMiLCJjbG9zZXN0IiwicHJldkFsbCIsImFkZEJhY2siLCJwYXJlbnRzIiwicGFyZW50c1VudGlsIiwibmV4dEFsbCIsIm5leHRVbnRpbCIsInByZXZVbnRpbCIsImNvbnRlbnREb2N1bWVudCIsInJldmVyc2UiLCJDYWxsYmFja3MiLCJmaXJpbmciLCJtZW1vcnkiLCJmaXJlZCIsImxvY2tlZCIsImZpcmluZ0luZGV4Iiwic3RvcE9uRmFsc2UiLCJkaXNhYmxlIiwibG9jayIsImZpcmVXaXRoIiwidHVwbGVzIiwiY2F0Y2giLCJwaXBlIiwiZm5zIiwibmV3RGVmZXIiLCJ0dXBsZSIsInJldHVybmVkIiwibm90aWZ5Iiwib25GdWxmaWxsZWQiLCJvblJlamVjdGVkIiwib25Qcm9ncmVzcyIsImRlcHRoIiwic3BlY2lhbCIsIm1pZ2h0VGhyb3ciLCJtYXhEZXB0aCIsInByb2Nlc3MiLCJleGNlcHRpb25Ib29rIiwic3RhY2tUcmFjZSIsImdldFN0YWNrSG9vayIsInN0YXRlU3RyaW5nIiwid2hlbiIsInNpbmdsZVZhbHVlIiwicmVzb2x2ZUNvbnRleHRzIiwicmVzb2x2ZVZhbHVlcyIsIm1hc3RlciIsInVwZGF0ZUZ1bmMiLCJyZXJyb3JOYW1lcyIsInJlYWR5RXhjZXB0aW9uIiwicmVhZHlMaXN0IiwicmVhZHlXYWl0IiwiaG9sZFJlYWR5IiwiaG9sZCIsIndhaXQiLCJkb1Njcm9sbCIsImNoYWluYWJsZSIsImVtcHR5R2V0IiwicmF3IiwiYnVsayIsImFjY2VwdERhdGEiLCJvd25lciIsInJlbW92ZURhdGEiLCJfcmVtb3ZlRGF0YSIsImRlcXVldWUiLCJzdGFydExlbmd0aCIsInNldHRlciIsImNsZWFyUXVldWUiLCJjb3VudCIsInBudW0iLCJzd2FwIiwib2xkIiwib3B0aW9uIiwidGhlYWQiLCJjb2wiLCJ0ciIsInRkIiwib3B0Z3JvdXAiLCJ0Ym9keSIsInRmb290IiwiY29sZ3JvdXAiLCJjYXB0aW9uIiwidGgiLCJkaXYiLCJjbG9uZU5vZGUiLCJub0Nsb25lQ2hlY2tlZCIsInJrZXlFdmVudCIsInJtb3VzZUV2ZW50IiwicnR5cGVuYW1lc3BhY2UiLCJoYW5kbGVPYmpJbiIsImV2ZW50SGFuZGxlIiwiaGFuZGxlT2JqIiwiaGFuZGxlcnMiLCJuYW1lc3BhY2VzIiwib3JpZ1R5cGUiLCJlbGVtRGF0YSIsInRyaWdnZXJlZCIsImRpc3BhdGNoIiwiZGVsZWdhdGVUeXBlIiwiYmluZFR5cGUiLCJuYW1lc3BhY2UiLCJkZWxlZ2F0ZUNvdW50Iiwic2V0dXAiLCJtYXBwZWRUeXBlcyIsIm9yaWdDb3VudCIsInRlYXJkb3duIiwicmVtb3ZlRXZlbnQiLCJuYXRpdmVFdmVudCIsImhhbmRsZXJRdWV1ZSIsImZpeCIsImRlbGVnYXRlVGFyZ2V0IiwicHJlRGlzcGF0Y2giLCJpc1Byb3BhZ2F0aW9uU3RvcHBlZCIsImN1cnJlbnRUYXJnZXQiLCJpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCIsInJuYW1lc3BhY2UiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsInBvc3REaXNwYXRjaCIsImFkZFByb3AiLCJob29rIiwib3JpZ2luYWxFdmVudCIsImxvYWQiLCJub0J1YmJsZSIsInRyaWdnZXIiLCJibHVyIiwiY2xpY2siLCJiZWZvcmV1bmxvYWQiLCJyZXR1cm5WYWx1ZSIsImlzRGVmYXVsdFByZXZlbnRlZCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJyZWxhdGVkVGFyZ2V0IiwidGltZVN0YW1wIiwiaXNTaW11bGF0ZWQiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJhbHRLZXkiLCJidWJibGVzIiwiY2hhbmdlZFRvdWNoZXMiLCJjdHJsS2V5IiwiZXZlbnRQaGFzZSIsIm1ldGFLZXkiLCJwYWdlWCIsInBhZ2VZIiwic2hpZnRLZXkiLCJ2aWV3IiwiY2hhciIsImNoYXJDb2RlIiwia2V5Q29kZSIsImJ1dHRvbnMiLCJjbGllbnRYIiwiY2xpZW50WSIsIm9mZnNldFgiLCJvZmZzZXRZIiwicG9pbnRlcklkIiwicG9pbnRlclR5cGUiLCJzY3JlZW5YIiwic2NyZWVuWSIsInRhcmdldFRvdWNoZXMiLCJ0b0VsZW1lbnQiLCJ0b3VjaGVzIiwibW91c2VlbnRlciIsIm1vdXNlbGVhdmUiLCJwb2ludGVyZW50ZXIiLCJwb2ludGVybGVhdmUiLCJyZWxhdGVkIiwicnhodG1sVGFnIiwicm5vSW5uZXJodG1sIiwiZGF0YUFuZEV2ZW50cyIsImRlZXBEYXRhQW5kRXZlbnRzIiwic3JjRWxlbWVudHMiLCJkZXN0RWxlbWVudHMiLCJpblBhZ2UiLCJkZXRhY2giLCJwcmVwZW5kIiwiaW5zZXJ0QmVmb3JlIiwiYmVmb3JlIiwiYWZ0ZXIiLCJyZXBsYWNlV2l0aCIsInJlcGxhY2VDaGlsZCIsImFwcGVuZFRvIiwicHJlcGVuZFRvIiwiaW5zZXJ0QWZ0ZXIiLCJyZXBsYWNlQWxsIiwib3JpZ2luYWwiLCJpbnNlcnQiLCJvcGVuZXIiLCJnZXRDb21wdXRlZFN0eWxlIiwiY29tcHV0ZVN0eWxlVGVzdHMiLCJjc3NUZXh0IiwiY29udGFpbmVyIiwiZGl2U3R5bGUiLCJwaXhlbFBvc2l0aW9uVmFsIiwicmVsaWFibGVNYXJnaW5MZWZ0VmFsIiwibWFyZ2luTGVmdCIsImJveFNpemluZ1JlbGlhYmxlVmFsIiwibWFyZ2luUmlnaHQiLCJwaXhlbE1hcmdpblJpZ2h0VmFsIiwiYmFja2dyb3VuZENsaXAiLCJjbGVhckNsb25lU3R5bGUiLCJwaXhlbFBvc2l0aW9uIiwicmVsaWFibGVNYXJnaW5MZWZ0IiwicmRpc3BsYXlzd2FwIiwiY3NzU2hvdyIsInBvc2l0aW9uIiwidmlzaWJpbGl0eSIsImNzc05vcm1hbFRyYW5zZm9ybSIsImxldHRlclNwYWNpbmciLCJmb250V2VpZ2h0IiwiYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQiLCJjb2x1bW5Db3VudCIsImZpbGxPcGFjaXR5IiwiZmxleEdyb3ciLCJmbGV4U2hyaW5rIiwibGluZUhlaWdodCIsIm9yZGVyIiwib3JwaGFucyIsIndpZG93cyIsInpJbmRleCIsInpvb20iLCJjc3NQcm9wcyIsImZsb2F0Iiwib3JpZ05hbWUiLCJsZWZ0IiwibWFyZ2luIiwicGFkZGluZyIsImJvcmRlciIsImV4cGFuZGVkIiwicGFydHMiLCJwcm9wSG9va3MiLCJlYXNlZCIsInBvcyIsInN0ZXAiLCJzY3JvbGxUb3AiLCJzY3JvbGxMZWZ0IiwibGluZWFyIiwic3dpbmciLCJjb3MiLCJQSSIsInJydW4iLCIqIiwidHdlZW5lciIsInByZWZpbHRlciIsInNwZWVkIiwib3B0Iiwic3BlZWRzIiwiZmFkZVRvIiwidG8iLCJhbmltYXRlIiwib3B0YWxsIiwiZG9BbmltYXRpb24iLCJmaW5pc2giLCJzdG9wUXVldWUiLCJ0aW1lcnMiLCJjc3NGbiIsInNsaWRlRG93biIsInNsaWRlVXAiLCJzbGlkZVRvZ2dsZSIsImZhZGVJbiIsImZhZGVPdXQiLCJmYWRlVG9nZ2xlIiwiaW50ZXJ2YWwiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsInNsb3ciLCJmYXN0IiwidGltZSIsImNoZWNrT24iLCJvcHRTZWxlY3RlZCIsInJhZGlvVmFsdWUiLCJib29sSG9vayIsInJlbW92ZUF0dHIiLCJuVHlwZSIsImF0dHJIb29rcyIsImF0dHJOYW1lcyIsImdldHRlciIsImxvd2VyY2FzZU5hbWUiLCJyZm9jdXNhYmxlIiwicmNsaWNrYWJsZSIsInJlbW92ZVByb3AiLCJwcm9wRml4IiwidGFiaW5kZXgiLCJmb3IiLCJjbGFzcyIsInJjbGFzcyIsImFkZENsYXNzIiwiY2xhc3NlcyIsImN1clZhbHVlIiwiY2xhenoiLCJmaW5hbFZhbHVlIiwicmVtb3ZlQ2xhc3MiLCJ0b2dnbGVDbGFzcyIsInN0YXRlVmFsIiwiY2xhc3NOYW1lcyIsImhhc0NsYXNzIiwicnJldHVybiIsInJzcGFjZXMiLCJ2YWxIb29rcyIsIm9wdGlvblNldCIsInJmb2N1c01vcnBoIiwib25seUhhbmRsZXJzIiwiYnViYmxlVHlwZSIsIm9udHlwZSIsImV2ZW50UGF0aCIsImlzVHJpZ2dlciIsInBhcmVudFdpbmRvdyIsInNpbXVsYXRlIiwidHJpZ2dlckhhbmRsZXIiLCJob3ZlciIsImZuT3ZlciIsImZuT3V0IiwiZm9jdXNpbiIsImF0dGFjaGVzIiwibm9uY2UiLCJycXVlcnkiLCJwYXJzZVhNTCIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsInJDUkxGIiwicnN1Ym1pdHRlclR5cGVzIiwicnN1Ym1pdHRhYmxlIiwicGFyYW0iLCJ2YWx1ZU9yRnVuY3Rpb24iLCJzZXJpYWxpemUiLCJzZXJpYWxpemVBcnJheSIsInIyMCIsInJoYXNoIiwicnRzIiwicmhlYWRlcnMiLCJybG9jYWxQcm90b2NvbCIsInJub0NvbnRlbnQiLCJycHJvdG9jb2wiLCJhbGxUeXBlcyIsIm9yaWdpbkFuY2hvciIsImxhc3RNb2RpZmllZCIsImV0YWciLCJpc0xvY2FsIiwicHJvdG9jb2wiLCJwcm9jZXNzRGF0YSIsImFzeW5jIiwiY29udGVudFR5cGUiLCJhY2NlcHRzIiwiKiB0ZXh0IiwidGV4dCBodG1sIiwidGV4dCBqc29uIiwidGV4dCB4bWwiLCJhamF4U2V0dXAiLCJzZXR0aW5ncyIsImFqYXhQcmVmaWx0ZXIiLCJhamF4VHJhbnNwb3J0IiwiYWpheCIsIm5hdGl2ZVN0YXR1c1RleHQiLCJzdWNjZXNzIiwibW9kaWZpZWQiLCJ0aW1lb3V0VGltZXIiLCJ0cmFuc3BvcnQiLCJyZXNwb25zZUhlYWRlcnNTdHJpbmciLCJpZk1vZGlmaWVkIiwiY2FjaGVVUkwiLCJjYWxsYmFja0NvbnRleHQiLCJzdGF0dXNDb2RlIiwiZmlyZUdsb2JhbHMiLCJnbG9iYWxFdmVudENvbnRleHQiLCJjb21wbGV0ZURlZmVycmVkIiwicmVzcG9uc2VIZWFkZXJzIiwidXJsQW5jaG9yIiwidW5jYWNoZWQiLCJyZXF1ZXN0SGVhZGVycyIsInJlcXVlc3RIZWFkZXJzTmFtZXMiLCJzdHJBYm9ydCIsIm92ZXJyaWRlTWltZVR5cGUiLCJmaW5hbFRleHQiLCJjcm9zc0RvbWFpbiIsImhvc3QiLCJoYXNDb250ZW50IiwiYmVmb3JlU2VuZCIsImdldEpTT04iLCJnZXRTY3JpcHQiLCJ0aHJvd3MiLCJ3cmFwQWxsIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJ3cmFwSW5uZXIiLCJ1bndyYXAiLCJ2aXNpYmxlIiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJ4aHJTdWNjZXNzU3RhdHVzIiwiMTIyMyIsInhoclN1cHBvcnRlZCIsImNvcnMiLCJlcnJvckNhbGxiYWNrIiwidXNlcm5hbWUiLCJ4aHJGaWVsZHMiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJiaW5hcnkiLCJ0ZXh0IHNjcmlwdCIsImNoYXJzZXQiLCJzY3JpcHRDaGFyc2V0IiwiZXZ0Iiwib2xkQ2FsbGJhY2tzIiwicmpzb25wIiwianNvbnAiLCJqc29ucENhbGxiYWNrIiwib3JpZ2luYWxTZXR0aW5ncyIsImNhbGxiYWNrTmFtZSIsIm92ZXJ3cml0dGVuIiwicmVzcG9uc2VDb250YWluZXIiLCJqc29uUHJvcCIsImNyZWF0ZUhUTUxEb2N1bWVudCIsImltcGxlbWVudGF0aW9uIiwia2VlcFNjcmlwdHMiLCJwYXJzZWQiLCJwYXJhbXMiLCJhbmltYXRlZCIsIm9mZnNldCIsInNldE9mZnNldCIsImN1clBvc2l0aW9uIiwiY3VyTGVmdCIsImN1ckNTU1RvcCIsImN1clRvcCIsImN1ck9mZnNldCIsImN1ckNTU0xlZnQiLCJjYWxjdWxhdGVQb3NpdGlvbiIsImN1ckVsZW0iLCJ3aW4iLCJyZWN0IiwicGFnZVlPZmZzZXQiLCJjbGllbnRUb3AiLCJwYWdlWE9mZnNldCIsImNsaWVudExlZnQiLCJvZmZzZXRQYXJlbnQiLCJwYXJlbnRPZmZzZXQiLCJzY3JvbGxUbyIsIkhlaWdodCIsIldpZHRoIiwiIiwiZGVmYXVsdEV4dHJhIiwiZnVuY05hbWUiLCJ1bmJpbmQiLCJkZWxlZ2F0ZSIsInVuZGVsZWdhdGUiLCJwYXJzZUpTT04iLCJfalF1ZXJ5IiwiXyQiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX2NsYXNzQ2FsbENoZWNrMiIsIl9jbGFzc0NhbGxDaGVjazMiLCJfY3JlYXRlQ2xhc3MyIiwiX2NyZWF0ZUNsYXNzMyIsIl9ibHVlYmlyZCIsIl9ibHVlYmlyZDIiLCJCcm93c2VyIiwibWF0Y2hlc1ZhbGlkIiwibWF0Y2hlc0ludmFsaWQiLCJpbnZhbGlkUmVnZXgiLCJ2YWxpZFJlZ2V4IiwicmVnZXgiLCJpc1ZhbGlkVXJsIiwic2VuZGVyIiwid2luZG93cyIsImdldEN1cnJlbnQiLCJwb3B1bGF0ZSIsImN1cnJlbnRXaW5kb3ciLCJ0YWJzIiwid2Vic2l0ZVRhYnMiLCJ0YWIiLCJodG1sUHJvbWlzZXMiLCJleGVjdXRlU2NyaXB0IiwidXBkYXRlZFRhYiIsImZpZWxkcyIsInN0b3JhZ2UiLCJsb2NhbCIsImtleVZhbHVlcyIsIl9jaHJvbWUkcnVudGltZSIsInJ1bnRpbWUiLCJzZW5kTWVzc2FnZSIsImNiIiwib25NZXNzYWdlIiwiaXNCYWNrZ3JvdW5kTXNnIiwiaXNQb3B1cE1zZyIsImRvd25sb2FkcyIsImRvd25sb2FkSWQiLCJkb3dubG9hZExpc3RlbmVyIiwiZG93bmxvYWRJbmZvIiwib25DaGFuZ2VkIiwiZW5kVGltZSIsImdldE1hbmlmZXN0IiwiaG9tZXBhZ2VfdXJsIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIl9kZWZpbmVQcm9wZXJ0eSIsIl9kZWZpbmVQcm9wZXJ0eTIiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVzY3JpcHRvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIiRPYmplY3QiLCJkZXNjIiwiZGVmaW5lIiwicHJvbWlzZXMiLCJTb21lUHJvbWlzZUFycmF5IiwiQXN5bmMiLCJRdWV1ZSIsInNjaGVkdWxlIiwiQXN5bmNJbnZva2VMYXRlciIsIkFzeW5jSW52b2tlIiwiQXN5bmNTZXR0bGVQcm9taXNlcyIsInV0aWwiLCJJTlRFUk5BTCIsInRyeUNvbnZlcnRUb1Byb21pc2UiLCJkZWJ1ZyIsImNhbGxlZEJpbmQiLCJyZWplY3RUaGlzIiwidGFyZ2V0UmVqZWN0ZWQiLCJiaW5kaW5nUmVzb2x2ZWQiLCJiaW5kaW5nUmVqZWN0ZWQiLCJtYXliZVByb21pc2UiLCJjciIsImNhbGxlckNhY2hlIiwiZ2V0dGVyQ2FjaGUiLCJlbnN1cmVNZXRob2QiLCJtZXRob2ROYW1lIiwiY2FsbGVyIiwibmFtZWRHZXR0ZXIiLCJpbmRleGVkR2V0dGVyIiwiZ2V0R2V0dGVyIiwicHJvcGVydHlOYW1lIiwiaXNJbmRleCIsIm1heWJlR2V0dGVyIiwiUHJvbWlzZUFycmF5IiwiYXBpUmVqZWN0aW9uIiwiY2FuY2VsbGVyIiwib25DYW5jZWxDYWxsYmFjayIsImludGVybmFsT25seSIsIk5FWFRfRklMVEVSIiwiY2F0Y2hGaWx0ZXIiLCJpbnN0YW5jZXMiLCJib3VuZFRvIiwicHJlZGljYXRlTG9vcCIsIml0ZW0iLCJtYXRjaGVzUHJlZGljYXRlIiwiZ2V0S2V5cyIsIkNvbnRleHQiLCJwZWVrQ29udGV4dCIsImNyZWF0ZUNvbnRleHQiLCJsYXN0SW5kZXgiLCJjb250ZXh0U3RhY2siLCJ0cmFjZSIsIlByb21pc2VfcHVzaENvbnRleHQiLCJQcm9taXNlX3BvcENvbnRleHQiLCJQcm9taXNlX1BlZWtDb250ZXh0IiwiUHJvbWlzZV9wZWVrQ29udGV4dCIsIlByb21pc2VfcHJvbWlzZUNyZWF0ZWQiLCJnZW5lcmF0ZVByb21pc2VMaWZlY3ljbGVFdmVudE9iamVjdCIsImRlZmF1bHRGaXJlRXZlbnQiLCJjYW5jZWxsYXRpb25FeGVjdXRlIiwiZXhlY3V0b3IiLCJvbkNhbmNlbCIsImNhbmNlbGxhdGlvbkF0dGFjaENhbmNlbGxhdGlvbkNhbGxiYWNrIiwicHJldmlvdXNPbkNhbmNlbCIsImNhbmNlbGxhdGlvbk9uQ2FuY2VsIiwiY2FuY2VsbGF0aW9uU2V0T25DYW5jZWwiLCJjYW5jZWxsYXRpb25DbGVhckNhbmNlbGxhdGlvbkRhdGEiLCJjYW5jZWxsYXRpb25Qcm9wYWdhdGVGcm9tIiwiZmxhZ3MiLCJicmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsIiwiYmluZGluZ1Byb3BhZ2F0ZUZyb20iLCJsb25nU3RhY2tUcmFjZXNDYXB0dXJlU3RhY2tUcmFjZSIsImxvbmdTdGFja1RyYWNlc0F0dGFjaEV4dHJhVHJhY2UiLCJpZ25vcmVTZWxmIiwicGFyc2VTdGFja0FuZE1lc3NhZ2UiLCJoYW5kbGVyTGluZSIsImNyZWF0b3JMaW5lIiwidHJhY2VMaW5lcyIsImNsZWFuU3RhY2siLCJub2RlRnJhbWVQYXR0ZXJuIiwibGluZU1hdGNoZXMiLCJwYXJzZUxpbmVQYXR0ZXJuIiwiZmlyc3RVc2VyTGluZSIsInJlcGxhY2VtZW50Iiwic2hvdWxkVXNlT3duVHJhY2UiLCJhY3RpdmVGaXJlRXZlbnQiLCJmb3JtYXRBbmRMb2dFcnJvciIsInJlY29uc3RydWN0U3RhY2siLCJzdGFja3MiLCJyZW1vdmVEdXBsaWNhdGVPckVtcHR5SnVtcHMiLCJyZW1vdmVDb21tb25Sb290cyIsImN1cnJlbnRMYXN0SW5kZXgiLCJjdXJyZW50TGFzdExpbmUiLCJjb21tb25Sb290TWVldFBvaW50IiwiaXNUcmFjZUxpbmUiLCJzdGFja0ZyYW1lUGF0dGVybiIsImlzSW50ZXJuYWxGcmFtZSIsInNob3VsZElnbm9yZSIsImluZGVudFN0YWNrRnJhbWVzIiwic3RhY2tGcmFtZXNBc0FycmF5IiwiaXNTb2Z0IiwiZm9ybWF0U3RhY2siLCJwcmludFdhcm5pbmciLCJmaXJlUmVqZWN0aW9uRXZlbnQiLCJsb2NhbEhhbmRsZXIiLCJsb2NhbEV2ZW50RmlyZWQiLCJmb3JtYXROb25FcnJvciIsInN0ciIsInJ1c2VsZXNzVG9TdHJpbmciLCJuZXdTdHIiLCJzbmlwIiwibWF4Q2hhcnMiLCJsb25nU3RhY2tUcmFjZXNJc1N1cHBvcnRlZCIsInBhcnNlTGluZUluZm8iLCJwYXJzZUxpbmVJbmZvUmVnZXgiLCJmaXJzdEZpbGVOYW1lIiwibGFzdEZpbGVOYW1lIiwiZmlyc3RTdGFja0xpbmVzIiwibGFzdFN0YWNrTGluZXMiLCJmaXJzdEluZGV4IiwiYmx1ZWJpcmRGcmFtZVBhdHRlcm4iLCJpbmZvIiwidW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlZCIsInBvc3NpYmx5VW5oYW5kbGVkUmVqZWN0aW9uIiwiZ2V0RG9tYWluIiwiZGVidWdnaW5nIiwiZGlzYWJsZUxvbmdTdGFja1RyYWNlcyIsIlByb21pc2VfY2FwdHVyZVN0YWNrVHJhY2UiLCJQcm9taXNlX2F0dGFjaEV4dHJhVHJhY2UiLCJkb21FdmVudCIsImV2ZW50VG9PYmplY3RHZW5lcmF0b3IiLCJnbG9iYWxFdmVudEZpcmVkIiwiZG9tRXZlbnRGaXJlZCIsIndhcm5pbmdzT3B0aW9uIiwic3RhY2tUb0luZGV4IiwiY3VycmVudFN0YWNrIiwiY3ljbGVFZGdlTm9kZSIsImN1cnJlbnRDaGlsZExlbmd0aCIsInY4c3RhY2tGcmFtZVBhdHRlcm4iLCJ2OHN0YWNrRm9ybWF0dGVyIiwiaWdub3JlVW50aWwiLCJoYXNTdGFja0FmdGVyVGhyb3ciLCJjb2xvciIsInJldHVybmVyIiwicHJvbWlzZUFsbFRoaXMiLCJQcm9taXNlQWxsIiwiUHJvbWlzZU1hcFNlcmllcyIsIlByb21pc2VSZWR1Y2UiLCJzdWJFcnJvciIsIm5hbWVQcm9wZXJ0eSIsImRlZmF1bHRNZXNzYWdlIiwiU3ViRXJyb3IiLCJfVHlwZUVycm9yIiwiX1JhbmdlRXJyb3IiLCJlczUiLCJPYmplY3RmcmVlemUiLCJsZXZlbCIsImluZGVudCIsImxpbmVzIiwiZXJyb3JUeXBlcyIsIk9iamVjdEtleXMiLCJPYmplY3RHZXREZXNjcmlwdG9yIiwiT2JqZWN0RGVmaW5lUHJvcGVydHkiLCJPYmplY3RGcmVlemUiLCJPYmplY3RHZXRQcm90b3R5cGVPZiIsIkFycmF5SXNBcnJheSIsIlByb21pc2VNYXAiLCJQYXNzVGhyb3VnaEhhbmRsZXJDb250ZXh0IiwiRmluYWxseUhhbmRsZXJDYW5jZWxSZWFjdGlvbiIsImNoZWNrQ2FuY2VsIiwic3VjY2VlZCIsInJlYXNvbk9yVmFsdWUiLCJQcm94eWFibGUiLCJwcm9taXNlRnJvbVlpZWxkSGFuZGxlciIsInlpZWxkSGFuZGxlcnMiLCJ0cmFjZVBhcmVudCIsIlByb21pc2VTcGF3biIsImdlbmVyYXRvckZ1bmN0aW9uIiwiaW50ZXJuYWwiLCJpbXBsZW1lbnRzUmV0dXJuIiwiYml0RmllbGQiLCJQcm9taXNlU3Bhd24kIiwiZ2VuZXJhdG9yIiwiTWFwcGluZ1Byb21pc2VBcnJheSIsImxpbWl0IiwidG90YWxSZXNvbHZlZCIsImlzVW50eXBlZEVycm9yIiwid3JhcEFzT3BlcmF0aW9uYWxFcnJvciIsInJFcnJvcktleSIsIm5vZGViYWNrRm9yUHJvbWlzZSIsIndyYXBwZWQiLCJzcHJlYWRBZGFwdGVyIiwibm9kZWJhY2siLCJzdWNjZXNzQWRhcHRlciIsImVycm9yQWRhcHRlciIsIm5ld1JlYXNvbiIsImFkYXB0ZXIiLCJkZWZlclJlc29sdmUiLCJkZWZlclJlamVjdCIsImZpbGxUeXBlcyIsIm1ha2VTZWxmUmVzb2x1dGlvbkVycm9yIiwicmVmbGVjdEhhbmRsZXIiLCJVTkRFRklORURfQklORElORyIsIkFQUExZIiwiY2F0Y2hJbnN0YW5jZXMiLCJkaWRGdWxmaWxsIiwiZGlkUmVqZWN0IiwiaW50ZXJuYWxEYXRhIiwiaGF2ZUludGVybmFsRGF0YSIsInNldHRsZXIiLCJmb2xsb3dlciIsImZ1bGZpbGwiLCJwcm94eWFibGUiLCJzaG91bGRCaW5kIiwic3luY2hyb25vdXMiLCJpZ25vcmVOb25FcnJvcldhcm5pbmdzIiwiaGFzU3RhY2siLCJpc1Byb21pc2UiLCJhc3luY0d1YXJhbnRlZWQiLCJ0b1Jlc29sdXRpb25WYWx1ZSIsInJlc29sdmVWYWx1ZUlmRW1wdHkiLCJwcm9wc0ZpbHRlciIsIm5vQ29weVByb3BzUGF0dGVybiIsImlzUHJvbWlzaWZpZWQiLCJoYXNQcm9taXNpZmllZCIsImRlZmF1bHRQcm9taXNpZmllZCIsImNoZWNrVmFsaWQiLCJzdWZmaXhSZWdleHAiLCJrZXlXaXRob3V0QXN5bmNTdWZmaXgiLCJwcm9taXNpZmlhYmxlTWV0aG9kcyIsInBhc3Nlc0RlZmF1bHRGaWx0ZXIiLCJkZWZhdWx0RmlsdGVyIiwibWFrZU5vZGVQcm9taXNpZmllZENsb3N1cmUiLCJfXyIsInByb21pc2lmaWVkIiwiVEhJUyIsImRlZmF1bHRUaGlzIiwiZXNjYXBlSWRlbnRSZWdleCIsInByb21pc2lmaWVkS2V5IiwibWFrZU5vZGVQcm9taXNpZmllZCIsIm1ha2VOb2RlUHJvbWlzaWZpZWRFdmFsIiwiZGVmYXVsdFN1ZmZpeCIsIm5vQ29weVByb3BzIiwiUHJvcGVydGllc1Byb21pc2VBcnJheSIsImlzTWFwIiwiRXM2TWFwIiwibWFwVG9FbnRyaWVzIiwiY2FzdFZhbHVlIiwiZXh0cmFjdEVudHJ5IiwiZW50cmllc1RvTWFwIiwia2V5T2Zmc2V0IiwiYXJyYXlNb3ZlIiwic3JjSW5kZXgiLCJkc3QiLCJkc3RJbmRleCIsImNhcGFjaXR5IiwiZnJvbnQiLCJ3cmFwTWFzayIsIm9sZENhcGFjaXR5IiwibW92ZUl0ZW1zQ291bnQiLCJyYWNlTGF0ZXIiLCJSZWR1Y3Rpb25Qcm9taXNlQXJyYXkiLCJpbml0aWFsVmFsdWUiLCJfZWFjaCIsInZhbHVlT3JSZWFzb24iLCJnb3RBY2N1bSIsImdvdFZhbHVlIiwibm9Bc3luY1NjaGVkdWxlciIsIk5hdGl2ZVByb21pc2UiLCJHbG9iYWxTZXRJbW1lZGlhdGUiLCJQcm9jZXNzTmV4dFRpY2siLCJuYXRpdmVQcm9taXNlIiwidG9nZ2xlU2NoZWR1bGVkIiwiZGl2MiIsIm8yIiwic2NoZWR1bGVUb2dnbGUiLCJTZXR0bGVkUHJvbWlzZUFycmF5IiwiaW5zcGVjdGlvbiIsIkNBTkNFTExBVElPTiIsImlzQXJyYXlSZXNvbHZlZCIsImdldFRoZW4iLCJpc0FueUJsdWViaXJkUHJvbWlzZSIsImRvVGhlbmFibGUiLCJkb0dldFRoZW4iLCJoYXNQcm9wIiwiSGFuZGxlV3JhcHBlciIsInN1Y2Nlc3NDbGVhciIsImZhaWx1cmVDbGVhciIsImFmdGVyVmFsdWUiLCJtcyIsImFmdGVyVGltZW91dCIsImhhbmRsZVdyYXBwZXIiLCJjYXN0UHJlc2VydmluZ0Rpc3Bvc2FibGUiLCJ0aGVuYWJsZSIsImRpc3Bvc2UiLCJEaXNwb3NlciIsIkZ1bmN0aW9uRGlzcG9zZXIiLCJtYXliZVVud3JhcERpc3Bvc2VyIiwiUmVzb3VyY2VMaXN0IiwiTlVMTCIsInNwcmVhZEFyZ3MiLCJyZWZsZWN0ZWRSZXNvdXJjZXMiLCJyZXN1bHRQcm9taXNlIiwiaW5zcGVjdGlvbnMiLCJ0cnlDYXRjaGVyIiwidHJ5Q2F0Y2hUYXJnZXQiLCJtYXliZUVycm9yIiwic2FmZVRvU3RyaW5nIiwiYXBwZW5kZWUiLCJoYXNNZXRob2RzIiwiaGFzTWV0aG9kc090aGVyVGhhbkNvbnN0cnVjdG9yIiwiaGFzVGhpc0Fzc2lnbm1lbnRBbmRTdGF0aWNNZXRob2RzIiwidGhpc0Fzc2lnbm1lbnRQYXR0ZXJuIiwiRmFrZUNvbnN0cnVjdG9yIiwicmlkZW50IiwiaWdub3JlIiwiZGVmIiwiZ2xvYmFsT2JqZWN0IiwiQ2hpbGQiLCJQYXJlbnQiLCJleGNsdWRlZFByb3RvdHlwZXMiLCJpc0V4Y2x1ZGVkUHJvdG8iLCJ2aXNpdGVkS2V5cyIsImVudW1lcmF0aW9uIiwiQXJyYXlGcm9tIiwiaXRSZXN1bHQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJjYWNoZWRTZXRUaW1lb3V0IiwicnVuQ2xlYXJUaW1lb3V0IiwibWFya2VyIiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5pbmciLCJjdXJyZW50UXVldWUiLCJxdWV1ZUluZGV4IiwiZHJhaW5RdWV1ZSIsIkl0ZW0iLCJUaW1lb3V0IiwiY2xlYXJGbiIsImltbWVkaWF0ZUlkcyIsIm5leHRJbW1lZGlhdGVJZCIsIm1zZWNzIiwic2V0RXhpc3RpbmdTZXR0aW5ncyIsIl9icm93c2VyMiIsImdldExvY2FsU3RvcmFnZSIsIl9qcXVlcnkyIiwiX3VpMiIsInNldEVycm9yTWVzc2FnZSIsIl9lcHViUHJlc3NKcyIsIl9lcHViUHJlc3NKczIiLCJfanF1ZXJ5IiwiX2Jyb3dzZXIiLCJfdWkiLCJtYW5pZmVzdCIsInNlbGVjdGVkSXRlbXMiLCJnZXRUYWJzSHRtbCIsInNob3dTZWN0aW9uIiwiYWN0aW9uIiwiYm9vayIsInNldExvY2FsU3RvcmFnZSIsIm9uQmFja2dyb3VuZE1lc3NhZ2UiLCJ1cGRhdGVTdGF0dXMiLCJpbml0aWFsaXplVWkiLCJkb3dubG9hZFN0YXRlIiwicHVibGlzaFN0YXRlIiwicHVibGlzaFN0YXR1cyIsImNoZWNrRm9yVXBkYXRlcyIsInNldEFsZXJ0TWVzc2FnZSIsImluaXRpYWxpemVUYWJMaXN0IiwiX3Byb21pc2UyIiwiVUkiLCJkYXRlIiwicGxhY2Vob2xkZXIiLCJzZWN0aW9uIiwiU0VDVElPTlNfU0VMRUNUT1JTIiwiYW5pbWF0ZVZhbHVlQ2hhbmdlIiwiJGVsIiwiYW5pbWF0ZUZyb20iLCJuZXdWYWx1ZSIsImdldEN1cnJlbnRXaW5kb3dUYWJzIiwiZ2V0Q2hlY2tib3giLCIkYXQiLCJpdGVyYXRlZCIsIl90IiwiX2kiLCJwb2ludCIsIlRPX1NUUklORyIsIkxJQlJBUlkiLCJyZWRlZmluZSIsIkl0ZXJhdG9ycyIsIiRpdGVyQ3JlYXRlIiwic2V0VG9TdHJpbmdUYWciLCJJVEVSQVRPUiIsIkJVR0dZIiwiRkZfSVRFUkFUT1IiLCJLRVlTIiwiVkFMVUVTIiwicmV0dXJuVGhpcyIsIkJhc2UiLCJOQU1FIiwiREVGQVVMVCIsIklTX1NFVCIsIkZPUkNFRCIsIkl0ZXJhdG9yUHJvdG90eXBlIiwiZ2V0TWV0aG9kIiwia2luZCIsIkRFRl9WQUxVRVMiLCJWQUxVRVNfQlVHIiwiJG5hdGl2ZSIsIiRkZWZhdWx0IiwiJGVudHJpZXMiLCIkYW55TmF0aXZlIiwiZFBzIiwiRW1wdHkiLCJjcmVhdGVEaWN0IiwiaWZyYW1lRG9jdW1lbnQiLCJpZnJhbWUiLCJjb250ZW50V2luZG93IiwiUHJvcGVydGllcyIsInN0YXQiLCJVU0VfU1lNQk9MIiwiJGV4cG9ydHMiLCJ0b09iamVjdCIsIk9iamVjdFByb3RvIiwiVE9fU1RSSU5HX1RBRyIsImNvbGxlY3Rpb25zIiwiQ29sbGVjdGlvbiIsImFkZFRvVW5zY29wYWJsZXMiLCJfayIsIkFyZ3VtZW50cyIsIkludGVybmFsIiwiR2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5IiwiV3JhcHBlciIsImNsYXNzb2YiLCJhbkluc3RhbmNlIiwiZm9yT2YiLCJzcGVjaWVzQ29uc3RydWN0b3IiLCJ0YXNrIiwibWljcm90YXNrIiwiUFJPTUlTRSIsIiRQcm9taXNlIiwiVVNFX05BVElWRSIsIkZha2VQcm9taXNlIiwiUHJvbWlzZVJlamVjdGlvbkV2ZW50Iiwic2FtZUNvbnN0cnVjdG9yIiwiaXNUaGVuYWJsZSIsIm5ld1Byb21pc2VDYXBhYmlsaXR5IiwiUHJvbWlzZUNhcGFiaWxpdHkiLCIkJHJlc29sdmUiLCIkJHJlamVjdCIsInBlcmZvcm0iLCJpc1JlamVjdCIsIl9uIiwiY2hhaW4iLCJfYyIsIl92IiwiX3MiLCJyZWFjdGlvbiIsIl9oIiwib25IYW5kbGVVbmhhbmRsZWQiLCJlbnRlciIsIm9uVW5oYW5kbGVkIiwiYWJydXB0IiwiaXNVbmhhbmRsZWQiLCJvbnVuaGFuZGxlZHJlamVjdGlvbiIsIl9hIiwib25yZWplY3Rpb25oYW5kbGVkIiwiJHJlamVjdCIsIl9kIiwiX3ciLCIkcmVzb2x2ZSIsIndyYXBwZXIiLCJjYXBhYmlsaXR5IiwiaXRlciIsIiRpbmRleCIsImFscmVhZHlDYWxsZWQiLCJBUkciLCJ0cnlHZXQiLCJjYWxsZWUiLCJmb3JiaWRkZW5GaWVsZCIsImlzQXJyYXlJdGVyIiwiZ2V0SXRlckZuIiwiQlJFQUsiLCJSRVRVUk4iLCJpdGVyRm4iLCJBcnJheVByb3RvIiwiZ2V0SXRlcmF0b3JNZXRob2QiLCJTUEVDSUVTIiwiY2hhbm5lbCIsInBvcnQiLCJjZWwiLCJzZXRUYXNrIiwiY2xlYXJUYXNrIiwiTWVzc2FnZUNoYW5uZWwiLCJjb3VudGVyIiwiT05SRUFEWVNUQVRFQ0hBTkdFIiwibGlzdGVuZXIiLCJwb3J0MiIsInBvcnQxIiwib25tZXNzYWdlIiwicG9zdE1lc3NhZ2UiLCJpbXBvcnRTY3JpcHRzIiwiY2xlYXIiLCJ1biIsIm1hY3JvdGFzayIsIk9ic2VydmVyIiwiV2ViS2l0TXV0YXRpb25PYnNlcnZlciIsImZsdXNoIiwiY2hhcmFjdGVyRGF0YSIsInNhZmUiLCJERVNDUklQVE9SUyIsIktFWSIsIlNBRkVfQ0xPU0lORyIsInJpdGVyIiwic2tpcENsb3NpbmciXSwibWFwcGluZ3MiOiJDQUFTLFNBQVVBLEdDSW5CLFFBQUFDLEdBQUFDLEdBR0EsR0FBQUMsRUFBQUQsR0FDQSxNQUFBQyxHQUFBRCxHQUFBRSxPQUdBLElBQUFDLEdBQUFGLEVBQUFELElBQ0FFLFdBQ0FFLEdBQUFKLEVBQ0FLLFFBQUEsRUFVQSxPQU5BUCxH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QSxXQUEyQixPQUFTRSxLQUFBdTRFLEdBQUEsSUFDcENsd0MsRUFBQTZvQyxHQUFBLFdBQStCLE1BQUFpRixJQUMvQjlyRSxFQUFBZytCLEdBQ0csTUFBQTlpQyxJQUNILE1BQUFnekUiLCJmaWxlIjoicG9wdXAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKChmdW5jdGlvbihtb2R1bGVzKSB7XG5cdC8vIENoZWNrIGFsbCBtb2R1bGVzIGZvciBkZWR1cGxpY2F0ZWQgbW9kdWxlc1xuXHRmb3IodmFyIGkgaW4gbW9kdWxlcykge1xuXHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2R1bGVzLCBpKSkge1xuXHRcdFx0c3dpdGNoKHR5cGVvZiBtb2R1bGVzW2ldKSB7XG5cdFx0XHRjYXNlIFwiZnVuY3Rpb25cIjogYnJlYWs7XG5cdFx0XHRjYXNlIFwib2JqZWN0XCI6XG5cdFx0XHRcdC8vIE1vZHVsZSBjYW4gYmUgY3JlYXRlZCBmcm9tIGEgdGVtcGxhdGVcblx0XHRcdFx0bW9kdWxlc1tpXSA9IChmdW5jdGlvbihfbSkge1xuXHRcdFx0XHRcdHZhciBhcmdzID0gX20uc2xpY2UoMSksIGZuID0gbW9kdWxlc1tfbVswXV07XG5cdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uIChhLGIsYykge1xuXHRcdFx0XHRcdFx0Zm4uYXBwbHkodGhpcywgW2EsYixjXS5jb25jYXQoYXJncykpO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH0obW9kdWxlc1tpXSkpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdC8vIE1vZHVsZSBpcyBhIGNvcHkgb2YgYW5vdGhlciBtb2R1bGVcblx0XHRcdFx0bW9kdWxlc1tpXSA9IG1vZHVsZXNbbW9kdWxlc1tpXV07XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gbW9kdWxlcztcbn0oW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KTtcblxuXG4vKioqLyB9LFxuLyogMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0KGZ1bmN0aW9uKHNlbGYpIHtcblx0ICAndXNlIHN0cmljdCc7XG5cdFxuXHQgIGlmIChzZWxmLmZldGNoKSB7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdFxuXHQgIHZhciBzdXBwb3J0ID0ge1xuXHQgICAgc2VhcmNoUGFyYW1zOiAnVVJMU2VhcmNoUGFyYW1zJyBpbiBzZWxmLFxuXHQgICAgaXRlcmFibGU6ICdTeW1ib2wnIGluIHNlbGYgJiYgJ2l0ZXJhdG9yJyBpbiBTeW1ib2wsXG5cdCAgICBibG9iOiAnRmlsZVJlYWRlcicgaW4gc2VsZiAmJiAnQmxvYicgaW4gc2VsZiAmJiAoZnVuY3Rpb24oKSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgbmV3IEJsb2IoKVxuXHQgICAgICAgIHJldHVybiB0cnVlXG5cdCAgICAgIH0gY2F0Y2goZSkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZVxuXHQgICAgICB9XG5cdCAgICB9KSgpLFxuXHQgICAgZm9ybURhdGE6ICdGb3JtRGF0YScgaW4gc2VsZixcblx0ICAgIGFycmF5QnVmZmVyOiAnQXJyYXlCdWZmZXInIGluIHNlbGZcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIG5vcm1hbGl6ZU5hbWUobmFtZSkge1xuXHQgICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuXHQgICAgICBuYW1lID0gU3RyaW5nKG5hbWUpXG5cdCAgICB9XG5cdCAgICBpZiAoL1teYS16MC05XFwtIyQlJicqKy5cXF5fYHx+XS9pLnRlc3QobmFtZSkpIHtcblx0ICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBjaGFyYWN0ZXIgaW4gaGVhZGVyIGZpZWxkIG5hbWUnKVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIG5hbWUudG9Mb3dlckNhc2UoKVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUodmFsdWUpIHtcblx0ICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHZhbHVlXG5cdCAgfVxuXHRcblx0ICAvLyBCdWlsZCBhIGRlc3RydWN0aXZlIGl0ZXJhdG9yIGZvciB0aGUgdmFsdWUgbGlzdFxuXHQgIGZ1bmN0aW9uIGl0ZXJhdG9yRm9yKGl0ZW1zKSB7XG5cdCAgICB2YXIgaXRlcmF0b3IgPSB7XG5cdCAgICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciB2YWx1ZSA9IGl0ZW1zLnNoaWZ0KClcblx0ICAgICAgICByZXR1cm4ge2RvbmU6IHZhbHVlID09PSB1bmRlZmluZWQsIHZhbHVlOiB2YWx1ZX1cblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChzdXBwb3J0Lml0ZXJhYmxlKSB7XG5cdCAgICAgIGl0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gaXRlcmF0b3Jcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBpdGVyYXRvclxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gSGVhZGVycyhoZWFkZXJzKSB7XG5cdCAgICB0aGlzLm1hcCA9IHt9XG5cdFxuXHQgICAgaWYgKGhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKSB7XG5cdCAgICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuXHQgICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIHZhbHVlKVxuXHQgICAgICB9LCB0aGlzKVxuXHRcblx0ICAgIH0gZWxzZSBpZiAoaGVhZGVycykge1xuXHQgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhoZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgICAgICB0aGlzLmFwcGVuZChuYW1lLCBoZWFkZXJzW25hbWVdKVxuXHQgICAgICB9LCB0aGlzKVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgSGVhZGVycy5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcblx0ICAgIG5hbWUgPSBub3JtYWxpemVOYW1lKG5hbWUpXG5cdCAgICB2YWx1ZSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxuXHQgICAgdmFyIGxpc3QgPSB0aGlzLm1hcFtuYW1lXVxuXHQgICAgaWYgKCFsaXN0KSB7XG5cdCAgICAgIGxpc3QgPSBbXVxuXHQgICAgICB0aGlzLm1hcFtuYW1lXSA9IGxpc3Rcblx0ICAgIH1cblx0ICAgIGxpc3QucHVzaCh2YWx1ZSlcblx0ICB9XG5cdFxuXHQgIEhlYWRlcnMucHJvdG90eXBlWydkZWxldGUnXSA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgIGRlbGV0ZSB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXVxuXHQgIH1cblx0XG5cdCAgSGVhZGVycy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24obmFtZSkge1xuXHQgICAgdmFyIHZhbHVlcyA9IHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldXG5cdCAgICByZXR1cm4gdmFsdWVzID8gdmFsdWVzWzBdIDogbnVsbFxuXHQgIH1cblx0XG5cdCAgSGVhZGVycy5wcm90b3R5cGUuZ2V0QWxsID0gZnVuY3Rpb24obmFtZSkge1xuXHQgICAgcmV0dXJuIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldIHx8IFtdXG5cdCAgfVxuXHRcblx0ICBIZWFkZXJzLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihuYW1lKSB7XG5cdCAgICByZXR1cm4gdGhpcy5tYXAuaGFzT3duUHJvcGVydHkobm9ybWFsaXplTmFtZShuYW1lKSlcblx0ICB9XG5cdFxuXHQgIEhlYWRlcnMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG5cdCAgICB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXSA9IFtub3JtYWxpemVWYWx1ZSh2YWx1ZSldXG5cdCAgfVxuXHRcblx0ICBIZWFkZXJzLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oY2FsbGJhY2ssIHRoaXNBcmcpIHtcblx0ICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMubWFwKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgICAgdGhpcy5tYXBbbmFtZV0uZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWUsIG5hbWUsIHRoaXMpXG5cdCAgICAgIH0sIHRoaXMpXG5cdCAgICB9LCB0aGlzKVxuXHQgIH1cblx0XG5cdCAgSGVhZGVycy5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGl0ZW1zID0gW11cblx0ICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkgeyBpdGVtcy5wdXNoKG5hbWUpIH0pXG5cdCAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG5cdCAgfVxuXHRcblx0ICBIZWFkZXJzLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciBpdGVtcyA9IFtdXG5cdCAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHsgaXRlbXMucHVzaCh2YWx1ZSkgfSlcblx0ICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcblx0ICB9XG5cdFxuXHQgIEhlYWRlcnMucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciBpdGVtcyA9IFtdXG5cdCAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHsgaXRlbXMucHVzaChbbmFtZSwgdmFsdWVdKSB9KVxuXHQgICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuXHQgIH1cblx0XG5cdCAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcblx0ICAgIEhlYWRlcnMucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjb25zdW1lZChib2R5KSB7XG5cdCAgICBpZiAoYm9keS5ib2R5VXNlZCkge1xuXHQgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJykpXG5cdCAgICB9XG5cdCAgICBib2R5LmJvZHlVc2VkID0gdHJ1ZVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gZmlsZVJlYWRlclJlYWR5KHJlYWRlcikge1xuXHQgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmVzb2x2ZShyZWFkZXIucmVzdWx0KVxuXHQgICAgICB9XG5cdCAgICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmVqZWN0KHJlYWRlci5lcnJvcilcblx0ICAgICAgfVxuXHQgICAgfSlcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHJlYWRCbG9iQXNBcnJheUJ1ZmZlcihibG9iKSB7XG5cdCAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuXHQgICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpXG5cdCAgICByZXR1cm4gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHJlYWRCbG9iQXNUZXh0KGJsb2IpIHtcblx0ICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG5cdCAgICByZWFkZXIucmVhZEFzVGV4dChibG9iKVxuXHQgICAgcmV0dXJuIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBCb2R5KCkge1xuXHQgICAgdGhpcy5ib2R5VXNlZCA9IGZhbHNlXG5cdFxuXHQgICAgdGhpcy5faW5pdEJvZHkgPSBmdW5jdGlvbihib2R5KSB7XG5cdCAgICAgIHRoaXMuX2JvZHlJbml0ID0gYm9keVxuXHQgICAgICBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5XG5cdCAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5ibG9iICYmIEJsb2IucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcblx0ICAgICAgICB0aGlzLl9ib2R5QmxvYiA9IGJvZHlcblx0ICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmZvcm1EYXRhICYmIEZvcm1EYXRhLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG5cdCAgICAgICAgdGhpcy5fYm9keUZvcm1EYXRhID0gYm9keVxuXHQgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuXHQgICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keS50b1N0cmluZygpXG5cdCAgICAgIH0gZWxzZSBpZiAoIWJvZHkpIHtcblx0ICAgICAgICB0aGlzLl9ib2R5VGV4dCA9ICcnXG5cdCAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiBBcnJheUJ1ZmZlci5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuXHQgICAgICAgIC8vIE9ubHkgc3VwcG9ydCBBcnJheUJ1ZmZlcnMgZm9yIFBPU1QgbWV0aG9kLlxuXHQgICAgICAgIC8vIFJlY2VpdmluZyBBcnJheUJ1ZmZlcnMgaGFwcGVucyB2aWEgQmxvYnMsIGluc3RlYWQuXG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bnN1cHBvcnRlZCBCb2R5SW5pdCB0eXBlJylcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKCF0aGlzLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSkge1xuXHQgICAgICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICd0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLTgnKVxuXHQgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUJsb2IgJiYgdGhpcy5fYm9keUJsb2IudHlwZSkge1xuXHQgICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgdGhpcy5fYm9keUJsb2IudHlwZSlcblx0ICAgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuXHQgICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04Jylcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAoc3VwcG9ydC5ibG9iKSB7XG5cdCAgICAgIHRoaXMuYmxvYiA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG5cdCAgICAgICAgaWYgKHJlamVjdGVkKSB7XG5cdCAgICAgICAgICByZXR1cm4gcmVqZWN0ZWRcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuXHQgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QmxvYilcblx0ICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIGJsb2InKVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5VGV4dF0pKVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAgdGhpcy5hcnJheUJ1ZmZlciA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmJsb2IoKS50aGVuKHJlYWRCbG9iQXNBcnJheUJ1ZmZlcilcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdGhpcy50ZXh0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcblx0ICAgICAgICBpZiAocmVqZWN0ZWQpIHtcblx0ICAgICAgICAgIHJldHVybiByZWplY3RlZFxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG5cdCAgICAgICAgICByZXR1cm4gcmVhZEJsb2JBc1RleHQodGhpcy5fYm9keUJsb2IpXG5cdCAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcblx0ICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyB0ZXh0Jylcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dClcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRoaXMudGV4dCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG5cdCAgICAgICAgcmV0dXJuIHJlamVjdGVkID8gcmVqZWN0ZWQgOiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keVRleHQpXG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAoc3VwcG9ydC5mb3JtRGF0YSkge1xuXHQgICAgICB0aGlzLmZvcm1EYXRhID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oZGVjb2RlKVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy5qc29uID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKEpTT04ucGFyc2UpXG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHRoaXNcblx0ICB9XG5cdFxuXHQgIC8vIEhUVFAgbWV0aG9kcyB3aG9zZSBjYXBpdGFsaXphdGlvbiBzaG91bGQgYmUgbm9ybWFsaXplZFxuXHQgIHZhciBtZXRob2RzID0gWydERUxFVEUnLCAnR0VUJywgJ0hFQUQnLCAnT1BUSU9OUycsICdQT1NUJywgJ1BVVCddXG5cdFxuXHQgIGZ1bmN0aW9uIG5vcm1hbGl6ZU1ldGhvZChtZXRob2QpIHtcblx0ICAgIHZhciB1cGNhc2VkID0gbWV0aG9kLnRvVXBwZXJDYXNlKClcblx0ICAgIHJldHVybiAobWV0aG9kcy5pbmRleE9mKHVwY2FzZWQpID4gLTEpID8gdXBjYXNlZCA6IG1ldGhvZFxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gUmVxdWVzdChpbnB1dCwgb3B0aW9ucykge1xuXHQgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cblx0ICAgIHZhciBib2R5ID0gb3B0aW9ucy5ib2R5XG5cdCAgICBpZiAoUmVxdWVzdC5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihpbnB1dCkpIHtcblx0ICAgICAgaWYgKGlucHV0LmJvZHlVc2VkKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJylcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLnVybCA9IGlucHV0LnVybFxuXHQgICAgICB0aGlzLmNyZWRlbnRpYWxzID0gaW5wdXQuY3JlZGVudGlhbHNcblx0ICAgICAgaWYgKCFvcHRpb25zLmhlYWRlcnMpIHtcblx0ICAgICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhpbnB1dC5oZWFkZXJzKVxuXHQgICAgICB9XG5cdCAgICAgIHRoaXMubWV0aG9kID0gaW5wdXQubWV0aG9kXG5cdCAgICAgIHRoaXMubW9kZSA9IGlucHV0Lm1vZGVcblx0ICAgICAgaWYgKCFib2R5KSB7XG5cdCAgICAgICAgYm9keSA9IGlucHV0Ll9ib2R5SW5pdFxuXHQgICAgICAgIGlucHV0LmJvZHlVc2VkID0gdHJ1ZVxuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aGlzLnVybCA9IGlucHV0XG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy5jcmVkZW50aWFscyA9IG9wdGlvbnMuY3JlZGVudGlhbHMgfHwgdGhpcy5jcmVkZW50aWFscyB8fCAnb21pdCdcblx0ICAgIGlmIChvcHRpb25zLmhlYWRlcnMgfHwgIXRoaXMuaGVhZGVycykge1xuXHQgICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG5cdCAgICB9XG5cdCAgICB0aGlzLm1ldGhvZCA9IG5vcm1hbGl6ZU1ldGhvZChvcHRpb25zLm1ldGhvZCB8fCB0aGlzLm1ldGhvZCB8fCAnR0VUJylcblx0ICAgIHRoaXMubW9kZSA9IG9wdGlvbnMubW9kZSB8fCB0aGlzLm1vZGUgfHwgbnVsbFxuXHQgICAgdGhpcy5yZWZlcnJlciA9IG51bGxcblx0XG5cdCAgICBpZiAoKHRoaXMubWV0aG9kID09PSAnR0VUJyB8fCB0aGlzLm1ldGhvZCA9PT0gJ0hFQUQnKSAmJiBib2R5KSB7XG5cdCAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0JvZHkgbm90IGFsbG93ZWQgZm9yIEdFVCBvciBIRUFEIHJlcXVlc3RzJylcblx0ICAgIH1cblx0ICAgIHRoaXMuX2luaXRCb2R5KGJvZHkpXG5cdCAgfVxuXHRcblx0ICBSZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIG5ldyBSZXF1ZXN0KHRoaXMpXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBkZWNvZGUoYm9keSkge1xuXHQgICAgdmFyIGZvcm0gPSBuZXcgRm9ybURhdGEoKVxuXHQgICAgYm9keS50cmltKCkuc3BsaXQoJyYnKS5mb3JFYWNoKGZ1bmN0aW9uKGJ5dGVzKSB7XG5cdCAgICAgIGlmIChieXRlcykge1xuXHQgICAgICAgIHZhciBzcGxpdCA9IGJ5dGVzLnNwbGl0KCc9Jylcblx0ICAgICAgICB2YXIgbmFtZSA9IHNwbGl0LnNoaWZ0KCkucmVwbGFjZSgvXFwrL2csICcgJylcblx0ICAgICAgICB2YXIgdmFsdWUgPSBzcGxpdC5qb2luKCc9JykucmVwbGFjZSgvXFwrL2csICcgJylcblx0ICAgICAgICBmb3JtLmFwcGVuZChkZWNvZGVVUklDb21wb25lbnQobmFtZSksIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpXG5cdCAgICAgIH1cblx0ICAgIH0pXG5cdCAgICByZXR1cm4gZm9ybVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gaGVhZGVycyh4aHIpIHtcblx0ICAgIHZhciBoZWFkID0gbmV3IEhlYWRlcnMoKVxuXHQgICAgdmFyIHBhaXJzID0gKHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSB8fCAnJykudHJpbSgpLnNwbGl0KCdcXG4nKVxuXHQgICAgcGFpcnMuZm9yRWFjaChmdW5jdGlvbihoZWFkZXIpIHtcblx0ICAgICAgdmFyIHNwbGl0ID0gaGVhZGVyLnRyaW0oKS5zcGxpdCgnOicpXG5cdCAgICAgIHZhciBrZXkgPSBzcGxpdC5zaGlmdCgpLnRyaW0oKVxuXHQgICAgICB2YXIgdmFsdWUgPSBzcGxpdC5qb2luKCc6JykudHJpbSgpXG5cdCAgICAgIGhlYWQuYXBwZW5kKGtleSwgdmFsdWUpXG5cdCAgICB9KVxuXHQgICAgcmV0dXJuIGhlYWRcblx0ICB9XG5cdFxuXHQgIEJvZHkuY2FsbChSZXF1ZXN0LnByb3RvdHlwZSlcblx0XG5cdCAgZnVuY3Rpb24gUmVzcG9uc2UoYm9keUluaXQsIG9wdGlvbnMpIHtcblx0ICAgIGlmICghb3B0aW9ucykge1xuXHQgICAgICBvcHRpb25zID0ge31cblx0ICAgIH1cblx0XG5cdCAgICB0aGlzLnR5cGUgPSAnZGVmYXVsdCdcblx0ICAgIHRoaXMuc3RhdHVzID0gb3B0aW9ucy5zdGF0dXNcblx0ICAgIHRoaXMub2sgPSB0aGlzLnN0YXR1cyA+PSAyMDAgJiYgdGhpcy5zdGF0dXMgPCAzMDBcblx0ICAgIHRoaXMuc3RhdHVzVGV4dCA9IG9wdGlvbnMuc3RhdHVzVGV4dFxuXHQgICAgdGhpcy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycyA/IG9wdGlvbnMuaGVhZGVycyA6IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcblx0ICAgIHRoaXMudXJsID0gb3B0aW9ucy51cmwgfHwgJydcblx0ICAgIHRoaXMuX2luaXRCb2R5KGJvZHlJbml0KVxuXHQgIH1cblx0XG5cdCAgQm9keS5jYWxsKFJlc3BvbnNlLnByb3RvdHlwZSlcblx0XG5cdCAgUmVzcG9uc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHRoaXMuX2JvZHlJbml0LCB7XG5cdCAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG5cdCAgICAgIHN0YXR1c1RleHQ6IHRoaXMuc3RhdHVzVGV4dCxcblx0ICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnModGhpcy5oZWFkZXJzKSxcblx0ICAgICAgdXJsOiB0aGlzLnVybFxuXHQgICAgfSlcblx0ICB9XG5cdFxuXHQgIFJlc3BvbnNlLmVycm9yID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogMCwgc3RhdHVzVGV4dDogJyd9KVxuXHQgICAgcmVzcG9uc2UudHlwZSA9ICdlcnJvcidcblx0ICAgIHJldHVybiByZXNwb25zZVxuXHQgIH1cblx0XG5cdCAgdmFyIHJlZGlyZWN0U3RhdHVzZXMgPSBbMzAxLCAzMDIsIDMwMywgMzA3LCAzMDhdXG5cdFxuXHQgIFJlc3BvbnNlLnJlZGlyZWN0ID0gZnVuY3Rpb24odXJsLCBzdGF0dXMpIHtcblx0ICAgIGlmIChyZWRpcmVjdFN0YXR1c2VzLmluZGV4T2Yoc3RhdHVzKSA9PT0gLTEpIHtcblx0ICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgc3RhdHVzIGNvZGUnKVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogc3RhdHVzLCBoZWFkZXJzOiB7bG9jYXRpb246IHVybH19KVxuXHQgIH1cblx0XG5cdCAgc2VsZi5IZWFkZXJzID0gSGVhZGVyc1xuXHQgIHNlbGYuUmVxdWVzdCA9IFJlcXVlc3Rcblx0ICBzZWxmLlJlc3BvbnNlID0gUmVzcG9uc2Vcblx0XG5cdCAgc2VsZi5mZXRjaCA9IGZ1bmN0aW9uKGlucHV0LCBpbml0KSB7XG5cdCAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgIHZhciByZXF1ZXN0XG5cdCAgICAgIGlmIChSZXF1ZXN0LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGlucHV0KSAmJiAhaW5pdCkge1xuXHQgICAgICAgIHJlcXVlc3QgPSBpbnB1dFxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJlcXVlc3QgPSBuZXcgUmVxdWVzdChpbnB1dCwgaW5pdClcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG5cdFxuXHQgICAgICBmdW5jdGlvbiByZXNwb25zZVVSTCgpIHtcblx0ICAgICAgICBpZiAoJ3Jlc3BvbnNlVVJMJyBpbiB4aHIpIHtcblx0ICAgICAgICAgIHJldHVybiB4aHIucmVzcG9uc2VVUkxcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIEF2b2lkIHNlY3VyaXR5IHdhcm5pbmdzIG9uIGdldFJlc3BvbnNlSGVhZGVyIHdoZW4gbm90IGFsbG93ZWQgYnkgQ09SU1xuXHQgICAgICAgIGlmICgvXlgtUmVxdWVzdC1VUkw6L20udGVzdCh4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKSB7XG5cdCAgICAgICAgICByZXR1cm4geGhyLmdldFJlc3BvbnNlSGVhZGVyKCdYLVJlcXVlc3QtVVJMJylcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVyblxuXHQgICAgICB9XG5cdFxuXHQgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG5cdCAgICAgICAgICBzdGF0dXM6IHhoci5zdGF0dXMsXG5cdCAgICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dCxcblx0ICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoeGhyKSxcblx0ICAgICAgICAgIHVybDogcmVzcG9uc2VVUkwoKVxuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgYm9keSA9ICdyZXNwb25zZScgaW4geGhyID8geGhyLnJlc3BvbnNlIDogeGhyLnJlc3BvbnNlVGV4dFxuXHQgICAgICAgIHJlc29sdmUobmV3IFJlc3BvbnNlKGJvZHksIG9wdGlvbnMpKVxuXHQgICAgICB9XG5cdFxuXHQgICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuXHQgICAgICB9XG5cdFxuXHQgICAgICB4aHIub3BlbihyZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC51cmwsIHRydWUpXG5cdFxuXHQgICAgICBpZiAocmVxdWVzdC5jcmVkZW50aWFscyA9PT0gJ2luY2x1ZGUnKSB7XG5cdCAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWVcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKCdyZXNwb25zZVR5cGUnIGluIHhociAmJiBzdXBwb3J0LmJsb2IpIHtcblx0ICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJlcXVlc3QuaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG5cdCAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgdmFsdWUpXG5cdCAgICAgIH0pXG5cdFxuXHQgICAgICB4aHIuc2VuZCh0eXBlb2YgcmVxdWVzdC5fYm9keUluaXQgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IHJlcXVlc3QuX2JvZHlJbml0KVxuXHQgICAgfSlcblx0ICB9XG5cdCAgc2VsZi5mZXRjaC5wb2x5ZmlsbCA9IHRydWVcblx0fSkodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMpO1xuXG5cbi8qKiovIH0sXG4vKiAyICovLFxuLyogMyAqLyxcbi8qIDQgKi8sXG4vKiA1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHR2YXIgY29yZSA9IG1vZHVsZS5leHBvcnRzID0ge3ZlcnNpb246ICcyLjQuMCd9O1xuXHRpZih0eXBlb2YgX19lID09ICdudW1iZXInKV9fZSA9IGNvcmU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuLyoqKi8gfSxcbi8qIDYgKi8sXG4vKiA3ICovLFxuLyogOCAqLyxcbi8qIDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBnbG9iYWwgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKVxuXHQgICwgY29yZSAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KVxuXHQgICwgY3R4ICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSlcblx0ICAsIGhpZGUgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpXG5cdCAgLCBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblx0XG5cdHZhciAkZXhwb3J0ID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgc291cmNlKXtcblx0ICB2YXIgSVNfRk9SQ0VEID0gdHlwZSAmICRleHBvcnQuRlxuXHQgICAgLCBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HXG5cdCAgICAsIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlNcblx0ICAgICwgSVNfUFJPVE8gID0gdHlwZSAmICRleHBvcnQuUFxuXHQgICAgLCBJU19CSU5EICAgPSB0eXBlICYgJGV4cG9ydC5CXG5cdCAgICAsIElTX1dSQVAgICA9IHR5cGUgJiAkZXhwb3J0Lldcblx0ICAgICwgZXhwb3J0cyAgID0gSVNfR0xPQkFMID8gY29yZSA6IGNvcmVbbmFtZV0gfHwgKGNvcmVbbmFtZV0gPSB7fSlcblx0ICAgICwgZXhwUHJvdG8gID0gZXhwb3J0c1tQUk9UT1RZUEVdXG5cdCAgICAsIHRhcmdldCAgICA9IElTX0dMT0JBTCA/IGdsb2JhbCA6IElTX1NUQVRJQyA/IGdsb2JhbFtuYW1lXSA6IChnbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV1cblx0ICAgICwga2V5LCBvd24sIG91dDtcblx0ICBpZihJU19HTE9CQUwpc291cmNlID0gbmFtZTtcblx0ICBmb3Ioa2V5IGluIHNvdXJjZSl7XG5cdCAgICAvLyBjb250YWlucyBpbiBuYXRpdmVcblx0ICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWQ7XG5cdCAgICBpZihvd24gJiYga2V5IGluIGV4cG9ydHMpY29udGludWU7XG5cdCAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZFxuXHQgICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcblx0ICAgIC8vIHByZXZlbnQgZ2xvYmFsIHBvbGx1dGlvbiBmb3IgbmFtZXNwYWNlc1xuXHQgICAgZXhwb3J0c1trZXldID0gSVNfR0xPQkFMICYmIHR5cGVvZiB0YXJnZXRba2V5XSAhPSAnZnVuY3Rpb24nID8gc291cmNlW2tleV1cblx0ICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG5cdCAgICA6IElTX0JJTkQgJiYgb3duID8gY3R4KG91dCwgZ2xvYmFsKVxuXHQgICAgLy8gd3JhcCBnbG9iYWwgY29uc3RydWN0b3JzIGZvciBwcmV2ZW50IGNoYW5nZSB0aGVtIGluIGxpYnJhcnlcblx0ICAgIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24oQyl7XG5cdCAgICAgIHZhciBGID0gZnVuY3Rpb24oYSwgYiwgYyl7XG5cdCAgICAgICAgaWYodGhpcyBpbnN0YW5jZW9mIEMpe1xuXHQgICAgICAgICAgc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe1xuXHQgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQztcblx0ICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEMoYSk7XG5cdCAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDKGEsIGIpO1xuXHQgICAgICAgICAgfSByZXR1cm4gbmV3IEMoYSwgYiwgYyk7XG5cdCAgICAgICAgfSByZXR1cm4gQy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICB9O1xuXHQgICAgICBGW1BST1RPVFlQRV0gPSBDW1BST1RPVFlQRV07XG5cdCAgICAgIHJldHVybiBGO1xuXHQgICAgLy8gbWFrZSBzdGF0aWMgdmVyc2lvbnMgZm9yIHByb3RvdHlwZSBtZXRob2RzXG5cdCAgICB9KShvdXQpIDogSVNfUFJPVE8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG5cdCAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUubWV0aG9kcy4lTkFNRSVcblx0ICAgIGlmKElTX1BST1RPKXtcblx0ICAgICAgKGV4cG9ydHMudmlydHVhbCB8fCAoZXhwb3J0cy52aXJ0dWFsID0ge30pKVtrZXldID0gb3V0O1xuXHQgICAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUucHJvdG90eXBlLiVOQU1FJVxuXHQgICAgICBpZih0eXBlICYgJGV4cG9ydC5SICYmIGV4cFByb3RvICYmICFleHBQcm90b1trZXldKWhpZGUoZXhwUHJvdG8sIGtleSwgb3V0KTtcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cdC8vIHR5cGUgYml0bWFwXG5cdCRleHBvcnQuRiA9IDE7ICAgLy8gZm9yY2VkXG5cdCRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG5cdCRleHBvcnQuUyA9IDQ7ICAgLy8gc3RhdGljXG5cdCRleHBvcnQuUCA9IDg7ICAgLy8gcHJvdG9cblx0JGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG5cdCRleHBvcnQuVyA9IDMyOyAgLy8gd3JhcFxuXHQkZXhwb3J0LlUgPSA2NDsgIC8vIHNhZmVcblx0JGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgIFxuXHRtb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7XG5cbi8qKiovIH0sXG4vKiAxMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzg2I2lzc3VlY29tbWVudC0xMTU3NTkwMjhcblx0dmFyIGdsb2JhbCA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoXG5cdCAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGYgOiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHRpZih0eXBlb2YgX19nID09ICdudW1iZXInKV9fZyA9IGdsb2JhbDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG4vKioqLyB9LFxuLyogMTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIG9wdGlvbmFsIC8gc2ltcGxlIGNvbnRleHQgYmluZGluZ1xuXHR2YXIgYUZ1bmN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4sIHRoYXQsIGxlbmd0aCl7XG5cdCAgYUZ1bmN0aW9uKGZuKTtcblx0ICBpZih0aGF0ID09PSB1bmRlZmluZWQpcmV0dXJuIGZuO1xuXHQgIHN3aXRjaChsZW5ndGgpe1xuXHQgICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24oYSl7XG5cdCAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuXHQgICAgfTtcblx0ICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uKGEsIGIpe1xuXHQgICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcblx0ICAgIH07XG5cdCAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbihhLCBiLCBjKXtcblx0ICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG5cdCAgICB9O1xuXHQgIH1cblx0ICByZXR1cm4gZnVuY3Rpb24oLyogLi4uYXJncyAqLyl7XG5cdCAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcblx0ICB9O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIGlmKHR5cGVvZiBpdCAhPSAnZnVuY3Rpb24nKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG5cdCAgcmV0dXJuIGl0O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBkUCAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNClcblx0ICAsIGNyZWF0ZURlc2MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KSA/IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG5cdCAgcmV0dXJuIGRQLmYob2JqZWN0LCBrZXksIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcblx0fSA6IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG5cdCAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcblx0ICByZXR1cm4gb2JqZWN0O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBhbk9iamVjdCAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpXG5cdCAgLCBJRThfRE9NX0RFRklORSA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpXG5cdCAgLCB0b1ByaW1pdGl2ZSAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpXG5cdCAgLCBkUCAgICAgICAgICAgICA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblx0XG5cdGV4cG9ydHMuZiA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpID8gT2JqZWN0LmRlZmluZVByb3BlcnR5IDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcyl7XG5cdCAgYW5PYmplY3QoTyk7XG5cdCAgUCA9IHRvUHJpbWl0aXZlKFAsIHRydWUpO1xuXHQgIGFuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuXHQgIGlmKElFOF9ET01fREVGSU5FKXRyeSB7XG5cdCAgICByZXR1cm4gZFAoTywgUCwgQXR0cmlidXRlcyk7XG5cdCAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuXHQgIGlmKCdnZXQnIGluIEF0dHJpYnV0ZXMgfHwgJ3NldCcgaW4gQXR0cmlidXRlcyl0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuXHQgIGlmKCd2YWx1ZScgaW4gQXR0cmlidXRlcylPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcblx0ICByZXR1cm4gTztcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgaWYoIWlzT2JqZWN0KGl0KSl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG5cdCAgcmV0dXJuIGl0O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiB0eXBlb2YgaXQgPT09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbic7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSAhX193ZWJwYWNrX3JlcXVpcmVfXygxOCkgJiYgIV9fd2VicGFja19yZXF1aXJlX18oMTkpKGZ1bmN0aW9uKCl7XG5cdCAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKSgnZGl2JyksICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogMTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcblx0bW9kdWxlLmV4cG9ydHMgPSAhX193ZWJwYWNrX3JlcXVpcmVfXygxOSkoZnVuY3Rpb24oKXtcblx0ICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiA3OyB9fSkuYSAhPSA3O1xuXHR9KTtcblxuLyoqKi8gfSxcbi8qIDE5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMpe1xuXHQgIHRyeSB7XG5cdCAgICByZXR1cm4gISFleGVjKCk7XG5cdCAgfSBjYXRjaChlKXtcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDIwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KVxuXHQgICwgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKS5kb2N1bWVudFxuXHQgIC8vIGluIG9sZCBJRSB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0J1xuXHQgICwgaXMgPSBpc09iamVjdChkb2N1bWVudCkgJiYgaXNPYmplY3QoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiBpcyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gNy4xLjEgVG9QcmltaXRpdmUoaW5wdXQgWywgUHJlZmVycmVkVHlwZV0pXG5cdHZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXHQvLyBpbnN0ZWFkIG9mIHRoZSBFUzYgc3BlYyB2ZXJzaW9uLCB3ZSBkaWRuJ3QgaW1wbGVtZW50IEBAdG9QcmltaXRpdmUgY2FzZVxuXHQvLyBhbmQgdGhlIHNlY29uZCBhcmd1bWVudCAtIGZsYWcgLSBwcmVmZXJyZWQgdHlwZSBpcyBhIHN0cmluZ1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBTKXtcblx0ICBpZighaXNPYmplY3QoaXQpKXJldHVybiBpdDtcblx0ICB2YXIgZm4sIHZhbDtcblx0ICBpZihTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG5cdCAgaWYodHlwZW9mIChmbiA9IGl0LnZhbHVlT2YpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuXHQgIGlmKCFTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG5cdCAgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYml0bWFwLCB2YWx1ZSl7XG5cdCAgcmV0dXJuIHtcblx0ICAgIGVudW1lcmFibGUgIDogIShiaXRtYXAgJiAxKSxcblx0ICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSxcblx0ICAgIHdyaXRhYmxlICAgIDogIShiaXRtYXAgJiA0KSxcblx0ICAgIHZhbHVlICAgICAgIDogdmFsdWVcblx0ICB9O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjMgKi8sXG4vKiAyNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gMTkuMS4yLjE0IC8gMTUuMi4zLjE0IE9iamVjdC5rZXlzKE8pXG5cdHZhciAka2V5cyAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpXG5cdCAgLCBlbnVtQnVnS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiBrZXlzKE8pe1xuXHQgIHJldHVybiAka2V5cyhPLCBlbnVtQnVnS2V5cyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGhhcyAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpXG5cdCAgLCB0b0lPYmplY3QgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KVxuXHQgICwgYXJyYXlJbmRleE9mID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSkoZmFsc2UpXG5cdCAgLCBJRV9QUk9UTyAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KSgnSUVfUFJPVE8nKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqZWN0LCBuYW1lcyl7XG5cdCAgdmFyIE8gICAgICA9IHRvSU9iamVjdChvYmplY3QpXG5cdCAgICAsIGkgICAgICA9IDBcblx0ICAgICwgcmVzdWx0ID0gW11cblx0ICAgICwga2V5O1xuXHQgIGZvcihrZXkgaW4gTylpZihrZXkgIT0gSUVfUFJPVE8paGFzKE8sIGtleSkgJiYgcmVzdWx0LnB1c2goa2V5KTtcblx0ICAvLyBEb24ndCBlbnVtIGJ1ZyAmIGhpZGRlbiBrZXlzXG5cdCAgd2hpbGUobmFtZXMubGVuZ3RoID4gaSlpZihoYXMoTywga2V5ID0gbmFtZXNbaSsrXSkpe1xuXHQgICAgfmFycmF5SW5kZXhPZihyZXN1bHQsIGtleSkgfHwgcmVzdWx0LnB1c2goa2V5KTtcblx0ICB9XG5cdCAgcmV0dXJuIHJlc3VsdDtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDI2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHR2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwga2V5KXtcblx0ICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDI3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyB0byBpbmRleGVkIG9iamVjdCwgdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3Ncblx0dmFyIElPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KVxuXHQgICwgZGVmaW5lZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gSU9iamVjdChkZWZpbmVkKGl0KSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBhbmQgbm9uLWVudW1lcmFibGUgb2xkIFY4IHN0cmluZ3Ncblx0dmFyIGNvZiA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IE9iamVjdCgneicpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApID8gT2JqZWN0IDogZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiBjb2YoaXQpID09ICdTdHJpbmcnID8gaXQuc3BsaXQoJycpIDogT2JqZWN0KGl0KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDI5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHR2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiB0b1N0cmluZy5jYWxsKGl0KS5zbGljZSg4LCAtMSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gNy4yLjEgUmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudClcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgaWYoaXQgPT0gdW5kZWZpbmVkKXRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcblx0ICByZXR1cm4gaXQ7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gZmFsc2UgLT4gQXJyYXkjaW5kZXhPZlxuXHQvLyB0cnVlICAtPiBBcnJheSNpbmNsdWRlc1xuXHR2YXIgdG9JT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNylcblx0ICAsIHRvTGVuZ3RoICA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpXG5cdCAgLCB0b0luZGV4ICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihJU19JTkNMVURFUyl7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKCR0aGlzLCBlbCwgZnJvbUluZGV4KXtcblx0ICAgIHZhciBPICAgICAgPSB0b0lPYmplY3QoJHRoaXMpXG5cdCAgICAgICwgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpXG5cdCAgICAgICwgaW5kZXggID0gdG9JbmRleChmcm9tSW5kZXgsIGxlbmd0aClcblx0ICAgICAgLCB2YWx1ZTtcblx0ICAgIC8vIEFycmF5I2luY2x1ZGVzIHVzZXMgU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG1cblx0ICAgIGlmKElTX0lOQ0xVREVTICYmIGVsICE9IGVsKXdoaWxlKGxlbmd0aCA+IGluZGV4KXtcblx0ICAgICAgdmFsdWUgPSBPW2luZGV4KytdO1xuXHQgICAgICBpZih2YWx1ZSAhPSB2YWx1ZSlyZXR1cm4gdHJ1ZTtcblx0ICAgIC8vIEFycmF5I3RvSW5kZXggaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3Rcblx0ICAgIH0gZWxzZSBmb3IoO2xlbmd0aCA+IGluZGV4OyBpbmRleCsrKWlmKElTX0lOQ0xVREVTIHx8IGluZGV4IGluIE8pe1xuXHQgICAgICBpZihPW2luZGV4XSA9PT0gZWwpcmV0dXJuIElTX0lOQ0xVREVTIHx8IGluZGV4IHx8IDA7XG5cdCAgICB9IHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7XG5cdCAgfTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDMyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyA3LjEuMTUgVG9MZW5ndGhcblx0dmFyIHRvSW50ZWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpXG5cdCAgLCBtaW4gICAgICAgPSBNYXRoLm1pbjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIGl0ID4gMCA/IG1pbih0b0ludGVnZXIoaXQpLCAweDFmZmZmZmZmZmZmZmZmKSA6IDA7IC8vIHBvdygyLCA1MykgLSAxID09IDkwMDcxOTkyNTQ3NDA5OTFcblx0fTtcblxuLyoqKi8gfSxcbi8qIDMzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyA3LjEuNCBUb0ludGVnZXJcblx0dmFyIGNlaWwgID0gTWF0aC5jZWlsXG5cdCAgLCBmbG9vciA9IE1hdGguZmxvb3I7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiBpc05hTihpdCA9ICtpdCkgPyAwIDogKGl0ID4gMCA/IGZsb29yIDogY2VpbCkoaXQpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciB0b0ludGVnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKVxuXHQgICwgbWF4ICAgICAgID0gTWF0aC5tYXhcblx0ICAsIG1pbiAgICAgICA9IE1hdGgubWluO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGluZGV4LCBsZW5ndGgpe1xuXHQgIGluZGV4ID0gdG9JbnRlZ2VyKGluZGV4KTtcblx0ICByZXR1cm4gaW5kZXggPCAwID8gbWF4KGluZGV4ICsgbGVuZ3RoLCAwKSA6IG1pbihpbmRleCwgbGVuZ3RoKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDM1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgc2hhcmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNikoJ2tleXMnKVxuXHQgICwgdWlkICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcblx0ICByZXR1cm4gc2hhcmVkW2tleV0gfHwgKHNoYXJlZFtrZXldID0gdWlkKGtleSkpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKVxuXHQgICwgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXydcblx0ICAsIHN0b3JlICA9IGdsb2JhbFtTSEFSRURdIHx8IChnbG9iYWxbU0hBUkVEXSA9IHt9KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuXHQgIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0ge30pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdHZhciBpZCA9IDBcblx0ICAsIHB4ID0gTWF0aC5yYW5kb20oKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuXHQgIHJldHVybiAnU3ltYm9sKCcuY29uY2F0KGtleSA9PT0gdW5kZWZpbmVkID8gJycgOiBrZXksICcpXycsICgrK2lkICsgcHgpLnRvU3RyaW5nKDM2KSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gSUUgOC0gZG9uJ3QgZW51bSBidWcga2V5c1xuXHRtb2R1bGUuZXhwb3J0cyA9IChcblx0ICAnY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mJ1xuXHQpLnNwbGl0KCcsJyk7XG5cbi8qKiovIH0sXG4vKiAzOSAqLyxcbi8qIDQwICovLFxuLyogNDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDcuMS4xMyBUb09iamVjdChhcmd1bWVudClcblx0dmFyIGRlZmluZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIE9iamVjdChkZWZpbmVkKGl0KSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKCQpIHshZnVuY3Rpb24odCxlKXsgdHJ1ZT9tb2R1bGUuZXhwb3J0cz1lKF9fd2VicGFja19yZXF1aXJlX18oNDQpLF9fd2VicGFja19yZXF1aXJlX18oNDUpKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImlzb21vcnBoaWMtZmV0Y2hcIixcImZzXCJdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuRXB1YlByZXNzPWUocmVxdWlyZShcImlzb21vcnBoaWMtZmV0Y2hcIikscmVxdWlyZShcImZzXCIpKTp0LkVwdWJQcmVzcz1lKHRbXCJpc29tb3JwaGljLWZldGNoXCJdLHQuZnMpfSh0aGlzLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocil7aWYobltyXSlyZXR1cm4gbltyXS5leHBvcnRzO3ZhciBpPW5bcl09e2V4cG9ydHM6e30saWQ6cixsb2FkZWQ6ITF9O3JldHVybiB0W3JdLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLGUpLGkubG9hZGVkPSEwLGkuZXhwb3J0c312YXIgbj17fTtyZXR1cm4gZS5tPXQsZS5jPW4sZS5wPVwiXCIsZSgwKX0oW2Z1bmN0aW9uKHQsZSxuKXtuKDEpLHQuZXhwb3J0cz1uKDIpfSxmdW5jdGlvbihlLG4pe2UuZXhwb3J0cz10fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWZ1bmN0aW9uIGkoKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93fWZ1bmN0aW9uIG8oKXtpZihGLkRFQlVHKXt2YXIgdDsodD1jb25zb2xlKS5sb2cuYXBwbHkodCxhcmd1bWVudHMpfX1mdW5jdGlvbiBzKHQpe2lmKCF0LmdldElkKCkpdGhyb3cgbmV3IEVycm9yKFwiQm9vayBoYXMgbm8gaWQuIEhhdmUgeW91IHB1Ymxpc2hlZD9cIil9ZnVuY3Rpb24gYSh0LGUpe2lmKGkoKSl7dmFyIHI9dm9pZCAwO3I9XCJmdW5jdGlvblwiPT10eXBlb2YgRmlsZT9uZXcgRmlsZShbZV0sdCk6bmV3IEJsb2IoW2VdLHt0eXBlOlwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCJ9KSwoMCxrLnNhdmVBcykocix0KX1lbHNle3ZhciBvPW4oNTQpO28ud3JpdGVGaWxlU3luYyh0LGUpfX1mdW5jdGlvbiBjKHQpe3ZhciBlPXt0aXRsZTp0LnRpdGxlLGRlc2NyaXB0aW9uOnQuZGVzY3JpcHRpb259O3JldHVybiB0LnNlY3Rpb25zP2Uuc2VjdGlvbnM9dC5zZWN0aW9uczplLnVybHM9dC51cmxzLnNsaWNlKCkse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntBY2NlcHQ6XCJhcHBsaWNhdGlvbi9qc29uXCIsXCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0sYm9keTooMCx3W1wiZGVmYXVsdFwiXSkoZSl9fWZ1bmN0aW9uIHUodCl7cmV0dXJuIG5ldyBDW1wiZGVmYXVsdFwiXShmdW5jdGlvbihlLG4pe3ZhciByPWZ1bmN0aW9uIGkocil7dC5jaGVja1N0YXR1cygpLnRoZW4oZnVuY3Rpb24obyl7dC5lbWl0KFwic3RhdHVzVXBkYXRlXCIsbyksTnVtYmVyKG8ucHJvZ3Jlc3MpPj0xMDA/ZSh0KTpyPj1GLkNIRUNLX1NUQVRVU19MSU1JVD9uKG5ldyBFcnJvcihGLkVSUk9SX0NPREVTWzUwM10pKTpzZXRUaW1lb3V0KGksRi5QT0xMX1JBVEUscisxKX0pW1wiY2F0Y2hcIl0obil9O3IoMSl9KX1mdW5jdGlvbiBsKHQpe3ZhciBlPUYuRVJST1JfQ09ERVNbdC5zdGF0dXNdO2lmKHQuc3RhdHVzPj0yMDAmJnQuc3RhdHVzPDMwMClyZXR1cm4gdDtpZih0LmJvZHkpcmV0dXJuIHQuanNvbigpLnRoZW4oZnVuY3Rpb24odCl7dmFyIG49dC5lcnJvcnMmJnQuZXJyb3JzLmxlbmd0aD4wLHI9bj90LmVycm9yc1swXS5kZXRhaWw6ZTtyZXR1cm4gQ1tcImRlZmF1bHRcIl0ucmVqZWN0KG5ldyBFcnJvcihyKSl9KTt2YXIgbj1uZXcgRXJyb3IoZSk7cmV0dXJuIENbXCJkZWZhdWx0XCJdLnJlamVjdChuKX1mdW5jdGlvbiBmKHQpe3ZhciBlPUYuRVJST1JfQ09ERVNbdC5tZXNzYWdlXXx8Ri5FUlJPUl9DT0RFU1t0Lm5hbWVdO3JldHVybiBlP25ldyBFcnJvcihlKTp0fWZ1bmN0aW9uIHAodCxlKXt2YXIgbj1OdW1iZXIoZS5taW5Db21wYXRpYmxlLnJlcGxhY2UoXCIuXCIsXCJcIikpLHI9TnVtYmVyKHQucmVwbGFjZShcIi5cIixcIlwiKSk7cmV0dXJuIG4+cj9lLm1lc3NhZ2U6bnVsbH1mdW5jdGlvbiBoKHQpe3ZhciBlPVtcImVtYWlsXCIsXCJmaWxldHlwZVwiXS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV0/ZStcIj1cIitlbmNvZGVVUklDb21wb25lbnQodFtlXSk6XCJcIn0pLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdH0pLmpvaW4oXCImXCIpO3JldHVybiBlP1wiP1wiK2U6XCJcIn12YXIgZD1uKDMpLF89cihkKSx2PW4oNDApLHk9cih2KSxtPW4oNDEpLGc9cihtKSxiPW4oNDUpLHc9cihiKSxFPW4oNDcpLEM9cihFKSxrPW4oNTApLGo9big1MykseD1yKGopLEY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpeygwLHlbXCJkZWZhdWx0XCJdKSh0aGlzLHQpO3ZhciBuPURhdGUoKS5zbGljZSgwLERhdGUoKS5tYXRjaCgvXFxkezR9LykuaW5kZXgrNCkscj17dGl0bGU6XCJFcHViUHJlc3MgLSBcIituLGRlc2NyaXB0aW9uOnZvaWQgMCxzZWN0aW9uczp2b2lkIDAsdXJsczp2b2lkIDAsZmlsZXR5cGU6XCJlcHViXCJ9O3RoaXMuYm9va0RhdGE9KDAsX1tcImRlZmF1bHRcIl0pKHt9LHIsZSksdGhpcy5ldmVudHM9e319cmV0dXJuKDAsZ1tcImRlZmF1bHRcIl0pKHQsbnVsbCxbe2tleTpcImNoZWNrRm9yVXBkYXRlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDw9MHx8dm9pZCAwPT09YXJndW1lbnRzWzBdP1wiZXB1Yi1wcmVzcy1qc1wiOmFyZ3VtZW50c1swXSxuPWFyZ3VtZW50cy5sZW5ndGg8PTF8fHZvaWQgMD09PWFyZ3VtZW50c1sxXT90LmdldFZlcnNpb24oKTphcmd1bWVudHNbMV07cmV0dXJuIG5ldyBDW1wiZGVmYXVsdFwiXShmdW5jdGlvbihyLGkpe2ZldGNoKHQuZ2V0VmVyc2lvblVybCgpKS50aGVuKGwpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQuanNvbigpfSkudGhlbihmdW5jdGlvbih0KXt2YXIgbz10LmNsaWVudHNbZV07bz9yKHAobixvKSk6aShuZXcgRXJyb3IoXCJWZXJzaW9uIGRhdGEgZm9yIFwiK2UrXCIgbm90IGZvdW5kLlwiKSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKHQpe3ZhciBlPWYodCk7byhcIlZlcnNpb24gY2hlY2sgZmFpbGVkXCIsZSksaShlKX0pfSl9fSx7a2V5OlwiZ2V0UHVibGlzaFVybFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvdG90eXBlLmdldFB1Ymxpc2hVcmwoKX19LHtrZXk6XCJnZXRWZXJzaW9uVXJsXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5CQVNFX0FQSStcIi92ZXJzaW9uXCJ9fSx7a2V5OlwiZ2V0VmVyc2lvblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHQuVkVSU0lPTn19XSksKDAsZ1tcImRlZmF1bHRcIl0pKHQsW3trZXk6XCJvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZXZlbnRzW3RdfHwodGhpcy5ldmVudHNbdF09W10pLHRoaXMuZXZlbnRzW3RdLnB1c2goZSksZX19LHtrZXk6XCJlbWl0XCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsbj1BcnJheShlPjE/ZS0xOjApLHI9MTtlPnI7cisrKW5bci0xXT1hcmd1bWVudHNbcl07dGhpcy5ldmVudHNbdF0mJnRoaXMuZXZlbnRzW3RdLmZvckVhY2goZnVuY3Rpb24odCl7dC5hcHBseSh2b2lkIDAsbil9KX19LHtrZXk6XCJyZW1vdmVMaXN0ZW5lclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYodGhpcy5ldmVudHNbdF0pe3ZhciBuPXRoaXMuZXZlbnRzW3RdLmluZGV4T2YoZSk7bj49MCYmdGhpcy5ldmVudHNbdF0uc3BsaWNlKG4sMSl9fX0se2tleTpcImdldFVybHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PVtdLGU9dGhpcy5ib29rRGF0YSxuPWUudXJscyxyPWUuc2VjdGlvbnM7cmV0dXJuIG4/dD1uLnNsaWNlKCk6ciYmKHQ9ci5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQudXJsfSkpLHR9fSx7a2V5OlwiZ2V0RmlsZXR5cGVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10fHx0aGlzLmJvb2tEYXRhLmZpbGV0eXBlO3JldHVybiBlP1tcIm1vYmlcIixcImVwdWJcIl0uZmluZChmdW5jdGlvbih0KXtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpPT09dH0pfHxcImVwdWJcIjpcImVwdWJcIn19LHtrZXk6XCJnZXRFbWFpbFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9va0RhdGEuZW1haWx9fSx7a2V5OlwiZ2V0VGl0bGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvb2tEYXRhLnRpdGxlfX0se2tleTpcImdldERlc2NyaXB0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib29rRGF0YS5kZXNjcmlwdGlvbn19LHtrZXk6XCJnZXRJZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9va0RhdGEuaWR9fSx7a2V5OlwiZ2V0U3RhdHVzVXJsXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5nZXRQdWJsaXNoVXJsKCkrXCIvXCIrdGhpcy5nZXRJZCgpK1wiL3N0YXR1c1wifX0se2tleTpcImdldFB1Ymxpc2hVcmxcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0LkJBU0VfQVBJK1wiL2Jvb2tzXCJ9fSx7a2V5OlwiZ2V0RG93bmxvYWRVcmxcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg8PTB8fHZvaWQgMD09PWFyZ3VtZW50c1swXT90aGlzLmdldEZpbGV0eXBlKCk6YXJndW1lbnRzWzBdLGU9aCh7ZmlsZXR5cGU6dH0pO3JldHVybiB0aGlzLmdldFB1Ymxpc2hVcmwoKStcIi9cIit0aGlzLmdldElkKCkrXCIvZG93bmxvYWRcIitlfX0se2tleTpcImdldEVtYWlsVXJsXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPD0wfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/dGhpcy5nZXRFbWFpbCgpOmFyZ3VtZW50c1swXSxlPWFyZ3VtZW50cy5sZW5ndGg8PTF8fHZvaWQgMD09PWFyZ3VtZW50c1sxXT90aGlzLmdldEZpbGV0eXBlKCk6YXJndW1lbnRzWzFdLG49aCh7ZW1haWw6dCxmaWxldHlwZTplfSk7cmV0dXJuIHRoaXMuZ2V0UHVibGlzaFVybCgpK1wiL1wiK3RoaXMuZ2V0SWQoKStcIi9lbWFpbFwiK259fSx7a2V5OlwiY2hlY2tTdGF0dXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBDW1wiZGVmYXVsdFwiXShmdW5jdGlvbihlLG4pe2ZldGNoKHQuZ2V0U3RhdHVzVXJsKCkpLnRoZW4obCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdC5qc29uKCl9KS50aGVuKGZ1bmN0aW9uKHQpe2UodCl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKHQpe3ZhciBlPWYodCk7bihlKX0pfSl9fSx7a2V5OlwicHVibGlzaFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5pc1B1Ymxpc2hpbmc/Q1tcImRlZmF1bHRcIl0ucmVqZWN0KG5ldyBFcnJvcihcIlB1Ymxpc2hpbmcgaW4gcHJvZ3Jlc3NcIikpOnRoaXMuZ2V0SWQoKT9DW1wiZGVmYXVsdFwiXS5yZXNvbHZlKHRoaXMuZ2V0SWQoKSk6KHRoaXMuaXNQdWJsaXNoaW5nPSEwLG5ldyBDW1wiZGVmYXVsdFwiXShmdW5jdGlvbihlLG4pe2ZldGNoKHQuZ2V0UHVibGlzaFVybCgpLGModC5ib29rRGF0YSkpLnRoZW4obCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdC5qc29uKCl9KS50aGVuKGZ1bmN0aW9uKG4pe3ZhciByPW4uaWQ7cmV0dXJuIHQuYm9va0RhdGEuaWQ9cix1KHQpLnRoZW4oZnVuY3Rpb24oKXtlKHIpfSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGUpe3QuaXNQdWJsaXNoaW5nPSExO3ZhciByPWYoZSk7byhcIkVidXBQcmVzczogUHVibGlzaCBmYWlsZWRcIixyKSxuKHIpfSl9KSl9fSx7a2V5OlwiZG93bmxvYWRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBuZXcgQ1tcImRlZmF1bHRcIl0oZnVuY3Rpb24obixyKXtzKGUpLGZldGNoKGUuZ2V0RG93bmxvYWRVcmwodCkpLnRoZW4obCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdC5ibG9iP3QuYmxvYigpOnQuYnVmZmVyKCl9KS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBpPWUuZ2V0VGl0bGUoKStcIi5cIisodHx8ZS5nZXRGaWxldHlwZSgpKTthKGksciksbigpfSlbXCJjYXRjaFwiXShmdW5jdGlvbih0KXt2YXIgZT1mKHQpO28oXCJFcHViUHJlc3M6IERvd25sb2FkIGZhaWxlZFwiLGUpLHIoZSl9KX0pfX0se2tleTpcImVtYWlsXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBuZXcgQ1tcImRlZmF1bHRcIl0oZnVuY3Rpb24ocixpKXtyZXR1cm4gdD8ocyhuKSxmZXRjaChuLmdldEVtYWlsVXJsKHQsZSkpLnRoZW4obCkudGhlbihmdW5jdGlvbigpe28oXCJFcHViUHJlc3M6IEJvb2sgZGVsaXZlcmVkLlwiKSxyKCl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKHQpe3ZhciBlPWYodCk7byhcIkVwdWJQcmVzczogRW1haWwgZGVsaXZlcnkgZmFpbGVkLlwiKSxpKGUpfSkpOmkobmV3IEVycm9yKFwiRXB1YlByZXNzOiBObyBlbWFpbCBwcm92aWRlZC5cIikpfSl9fV0pLHR9KCk7Ri5CQVNFX1VSTD14W1wiZGVmYXVsdFwiXS5iYXNlVXJsLEYuQkFTRV9BUEk9Ri5CQVNFX1VSTCtcIi9hcGkvdjFcIixGLlZFUlNJT049eFtcImRlZmF1bHRcIl0udmVyc2lvbixGLlBPTExfUkFURT0zZTMsRi5DSEVDS19TVEFUVVNfTElNSVQ9NDAsRi5FUlJPUl9DT0RFUz17MDpcIlNlcnZlciBpcyBkb3duLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlwiLFwiRmFpbGVkIHRvIGZldGNoXCI6XCJTZXJ2ZXIgaXMgZG93bi4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cIixGZXRjaEVycm9yOlwiU2VydmVyIGlzIGRvd24uIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuXCIsNDAwOlwiVGhlcmUgd2FzIGEgcHJvYmxlbSB3aXRoIHRoZSByZXF1ZXN0LiBJcyBFcHViUHJlc3MgdXAgdG8gZGF0ZT9cIiw0MDQ6XCJSZXNvdXJjZSBub3QgZm91bmQuXCIsNDIyOlwiUmVxdWVzdCBjb250YWluZWQgaW52YWxpZCBkYXRhLlwiLDUwMDpcIlVuZXhwZWN0ZWQgc2VydmVyIGVycm9yLlwiLDUwMzpcIlNlcnZlciB0b29rIHRvbyBsb25nIHRvIHJlc3BvbmQuXCIsdGltZW91dDpcIlJlcXVlc3QgdG9vayB0b28gbG9uZyB0byBjb21wbGV0ZS5cIixlcnJvcjp2b2lkIDAsU0VSVkVSX0ZBSUxFRDpcIlNlcnZlciBlcnJvciB3aGlsZSBkb3dubG9hZGluZy5cIixTRVJWRVJfQkFEX0NPTlRFTlQ6XCJCb29rIGNvdWxkIG5vdCBiZSBmb3VuZFwifSx0LmV4cG9ydHM9Rn0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz17XCJkZWZhdWx0XCI6big0KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24odCxlLG4pe24oNSksdC5leHBvcnRzPW4oOCkuT2JqZWN0LmFzc2lnbn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNik7cihyLlMrci5GLFwiT2JqZWN0XCIse2Fzc2lnbjpuKDIxKX0pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big3KSxpPW4oOCksbz1uKDkpLHM9bigxMSksYT1cInByb3RvdHlwZVwiLGM9ZnVuY3Rpb24odCxlLG4pe3ZhciB1LGwsZixwPXQmYy5GLGg9dCZjLkcsZD10JmMuUyxfPXQmYy5QLHY9dCZjLkIseT10JmMuVyxtPWg/aTppW2VdfHwoaVtlXT17fSksZz1tW2FdLGI9aD9yOmQ/cltlXToocltlXXx8e30pW2FdO2gmJihuPWUpO2Zvcih1IGluIG4pbD0hcCYmYiYmdm9pZCAwIT09Ylt1XSxsJiZ1IGluIG18fChmPWw/Ylt1XTpuW3VdLG1bdV09aCYmXCJmdW5jdGlvblwiIT10eXBlb2YgYlt1XT9uW3VdOnYmJmw/byhmLHIpOnkmJmJbdV09PWY/ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oZSxuLHIpe2lmKHRoaXMgaW5zdGFuY2VvZiB0KXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgdDtjYXNlIDE6cmV0dXJuIG5ldyB0KGUpO2Nhc2UgMjpyZXR1cm4gbmV3IHQoZSxuKX1yZXR1cm4gbmV3IHQoZSxuLHIpfXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07cmV0dXJuIGVbYV09dFthXSxlfShmKTpfJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBmP28oRnVuY3Rpb24uY2FsbCxmKTpmLF8mJigobS52aXJ0dWFsfHwobS52aXJ0dWFsPXt9KSlbdV09Zix0JmMuUiYmZyYmIWdbdV0mJnMoZyx1LGYpKSl9O2MuRj0xLGMuRz0yLGMuUz00LGMuUD04LGMuQj0xNixjLlc9MzIsYy5VPTY0LGMuUj0xMjgsdC5leHBvcnRzPWN9LGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5leHBvcnRzPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1wibnVtYmVyXCI9PXR5cGVvZiBfX2cmJihfX2c9bil9LGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5leHBvcnRzPXt2ZXJzaW9uOlwiMi40LjBcIn07XCJudW1iZXJcIj09dHlwZW9mIF9fZSYmKF9fZT1uKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTApO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7aWYocih0KSx2b2lkIDA9PT1lKXJldHVybiB0O3N3aXRjaChuKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiB0LmNhbGwoZSxuKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihuLHIpe3JldHVybiB0LmNhbGwoZSxuLHIpfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKG4scixpKXtyZXR1cm4gdC5jYWxsKGUsbixyLGkpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLGFyZ3VtZW50cyl9fX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBUeXBlRXJyb3IodCtcIiBpcyBub3QgYSBmdW5jdGlvbiFcIik7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMiksaT1uKDIwKTt0LmV4cG9ydHM9bigxNik/ZnVuY3Rpb24odCxlLG4pe3JldHVybiByLmYodCxlLGkoMSxuKSl9OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdFtlXT1uLHR9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMyksaT1uKDE1KSxvPW4oMTkpLHM9T2JqZWN0LmRlZmluZVByb3BlcnR5O2UuZj1uKDE2KT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24odCxlLG4pe2lmKHIodCksZT1vKGUsITApLHIobiksaSl0cnl7cmV0dXJuIHModCxlLG4pfWNhdGNoKGEpe31pZihcImdldFwiaW4gbnx8XCJzZXRcImluIG4pdGhyb3cgVHlwZUVycm9yKFwiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhXCIpO3JldHVyblwidmFsdWVcImluIG4mJih0W2VdPW4udmFsdWUpLHR9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCFyKHQpKXRocm93IFR5cGVFcnJvcih0K1wiIGlzIG5vdCBhbiBvYmplY3QhXCIpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHQ/bnVsbCE9PXQ6XCJmdW5jdGlvblwiPT10eXBlb2YgdH19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9IW4oMTYpJiYhbigxNykoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4oMTgpKFwiZGl2XCIpLFwiYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9IW4oMTcpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSxcImFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt0cnl7cmV0dXJuISF0KCl9Y2F0Y2goZSl7cmV0dXJuITB9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTQpLGk9big3KS5kb2N1bWVudCxvPXIoaSkmJnIoaS5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG8/aS5jcmVhdGVFbGVtZW50KHQpOnt9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTQpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCFyKHQpKXJldHVybiB0O3ZhciBuLGk7aWYoZSYmXCJmdW5jdGlvblwiPT10eXBlb2Yobj10LnRvU3RyaW5nKSYmIXIoaT1uLmNhbGwodCkpKXJldHVybiBpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mKG49dC52YWx1ZU9mKSYmIXIoaT1uLmNhbGwodCkpKXJldHVybiBpO2lmKCFlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZihuPXQudG9TdHJpbmcpJiYhcihpPW4uY2FsbCh0KSkpcmV0dXJuIGk7dGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm57ZW51bWVyYWJsZTohKDEmdCksY29uZmlndXJhYmxlOiEoMiZ0KSx3cml0YWJsZTohKDQmdCksdmFsdWU6ZX19fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigyMiksaT1uKDM3KSxvPW4oMzgpLHM9bigzOSksYT1uKDI2KSxjPU9iamVjdC5hc3NpZ247dC5leHBvcnRzPSFjfHxuKDE3KShmdW5jdGlvbigpe3ZhciB0PXt9LGU9e30sbj1TeW1ib2woKSxyPVwiYWJjZGVmZ2hpamtsbW5vcHFyc3RcIjtyZXR1cm4gdFtuXT03LHIuc3BsaXQoXCJcIikuZm9yRWFjaChmdW5jdGlvbih0KXtlW3RdPXR9KSw3IT1jKHt9LHQpW25dfHxPYmplY3Qua2V5cyhjKHt9LGUpKS5qb2luKFwiXCIpIT1yfSk/ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49cyh0KSxjPWFyZ3VtZW50cy5sZW5ndGgsdT0xLGw9aS5mLGY9by5mO2M+dTspZm9yKHZhciBwLGg9YShhcmd1bWVudHNbdSsrXSksZD1sP3IoaCkuY29uY2F0KGwoaCkpOnIoaCksXz1kLmxlbmd0aCx2PTA7Xz52OylmLmNhbGwoaCxwPWRbdisrXSkmJihuW3BdPWhbcF0pO3JldHVybiBufTpjfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyMyksaT1uKDM2KTt0LmV4cG9ydHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKHQpe3JldHVybiByKHQsaSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyNCksaT1uKDI1KSxvPW4oMjkpKCExKSxzPW4oMzMpKFwiSUVfUFJPVE9cIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG4sYT1pKHQpLGM9MCx1PVtdO2ZvcihuIGluIGEpbiE9cyYmcihhLG4pJiZ1LnB1c2gobik7Zm9yKDtlLmxlbmd0aD5jOylyKGEsbj1lW2MrK10pJiYofm8odSxuKXx8dS5wdXNoKG4pKTtyZXR1cm4gdX19LGZ1bmN0aW9uKHQsZSl7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4uY2FsbCh0LGUpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjYpLGk9bigyOCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByKGkodCkpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjcpO3QuZXhwb3J0cz1PYmplY3QoXCJ6XCIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbih0KXtyZXR1cm5cIlN0cmluZ1wiPT1yKHQpP3Quc3BsaXQoXCJcIik6T2JqZWN0KHQpfX0sZnVuY3Rpb24odCxlKXt2YXIgbj17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG4uY2FsbCh0KS5zbGljZSg4LC0xKX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09dCl0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgXCIrdCk7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyNSksaT1uKDMwKSxvPW4oMzIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLHMpe3ZhciBhLGM9cihlKSx1PWkoYy5sZW5ndGgpLGw9byhzLHUpO2lmKHQmJm4hPW4pe2Zvcig7dT5sOylpZihhPWNbbCsrXSxhIT1hKXJldHVybiEwfWVsc2UgZm9yKDt1Pmw7bCsrKWlmKCh0fHxsIGluIGMpJiZjW2xdPT09bilyZXR1cm4gdHx8bHx8MDtyZXR1cm4hdCYmLTF9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzEpLGk9TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB0PjA/aShyKHQpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSxmdW5jdGlvbih0LGUpe3ZhciBuPU1hdGguY2VpbCxyPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBpc05hTih0PSt0KT8wOih0PjA/cjpuKSh0KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMxKSxpPU1hdGgubWF4LG89TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9cih0KSwwPnQ/aSh0K2UsMCk6byh0LGUpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzQpKFwia2V5c1wiKSxpPW4oMzUpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gclt0XXx8KHJbdF09aSh0KSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big3KSxpPVwiX19jb3JlLWpzX3NoYXJlZF9fXCIsbz1yW2ldfHwocltpXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBvW3RdfHwob1t0XT17fSl9fSxmdW5jdGlvbih0LGUpe3ZhciBuPTAscj1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm5cIlN5bWJvbChcIi5jb25jYXQodm9pZCAwPT09dD9cIlwiOnQsXCIpX1wiLCgrK24rcikudG9TdHJpbmcoMzYpKX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mXCIuc3BsaXQoXCIsXCIpfSxmdW5jdGlvbih0LGUpe2UuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzfSxmdW5jdGlvbih0LGUpe2UuZj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjgpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KHIodCkpfX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtlLl9fZXNNb2R1bGU9ITAsZVtcImRlZmF1bHRcIl09ZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1lLl9fZXNNb2R1bGU9ITA7dmFyIGk9big0Miksbz1yKGkpO2VbXCJkZWZhdWx0XCJdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSwoMCxvW1wiZGVmYXVsdFwiXSkodCxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gbiYmdChlLnByb3RvdHlwZSxuKSxyJiZ0KGUsciksZX19KCl9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9e1wiZGVmYXVsdFwiOm4oNDMpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbih0LGUsbil7big0NCk7dmFyIHI9big4KS5PYmplY3Q7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gci5kZWZpbmVQcm9wZXJ0eSh0LGUsbil9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big2KTtyKHIuUytyLkYqIW4oMTYpLFwiT2JqZWN0XCIse2RlZmluZVByb3BlcnR5Om4oMTIpLmZ9KX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz17XCJkZWZhdWx0XCI6big0NiksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDgpLGk9ci5KU09OfHwoci5KU09OPXtzdHJpbmdpZnk6SlNPTi5zdHJpbmdpZnl9KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGkuc3RyaW5naWZ5LmFwcGx5KGksYXJndW1lbnRzKX19LGZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24oZSxuLHIpey8qIEBwcmVzZXJ2ZVxuXHRcdCAqIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuXHRcdCAqIFxuXHRcdCAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE1IFBldGthIEFudG9ub3Zcblx0XHQgKiBcblx0XHQgKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG5cdFx0ICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuXHRcdCAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcblx0XHQgKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG5cdFx0ICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG5cdFx0ICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblx0XHQgKiBcblx0XHQgKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuXHRcdCAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXHRcdCAqIFxuXHRcdCAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1Jcblx0XHQgKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcblx0XHQgKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5cdFx0ICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuXHRcdCAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG5cdFx0ICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuXHRcdCAqIFRIRSBTT0ZUV0FSRS5cblx0XHQgKiBcblx0XHQgKi9cblx0IWZ1bmN0aW9uKGUpe3QuZXhwb3J0cz1lKCl9KGZ1bmN0aW9uKCl7dmFyIHQsaSxvO3JldHVybiBmdW5jdGlvbiBzKHQsZSxuKXtmdW5jdGlvbiByKG8sYSl7aWYoIWVbb10pe2lmKCF0W29dKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBfZGVyZXFfJiZfZGVyZXFfO2lmKCFhJiZjKXJldHVybiBjKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIHU9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyB1LmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsdX12YXIgbD1lW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHIobj9uOmUpfSxsLGwuZXhwb3J0cyxzLHQsZSxuKX1yZXR1cm4gZVtvXS5leHBvcnRzfWZvcih2YXIgaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBfZGVyZXFfJiZfZGVyZXFfLG89MDtvPG4ubGVuZ3RoO28rKylyKG5bb10pO3JldHVybiByfSh7MTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBlPW5ldyBuKHQpLHI9ZS5wcm9taXNlKCk7cmV0dXJuIGUuc2V0SG93TWFueSgxKSxlLnNldFVud3JhcCgpLGUuaW5pdCgpLHJ9dmFyIG49dC5fU29tZVByb21pc2VBcnJheTt0LmFueT1mdW5jdGlvbih0KXtyZXR1cm4gZSh0KX0sdC5wcm90b3R5cGUuYW55PWZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcyl9fX0se31dLDI6W2Z1bmN0aW9uKHQsbixyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKCl7dGhpcy5fY3VzdG9tU2NoZWR1bGVyPSExLHRoaXMuX2lzVGlja1VzZWQ9ITEsdGhpcy5fbGF0ZVF1ZXVlPW5ldyBmKDE2KSx0aGlzLl9ub3JtYWxRdWV1ZT1uZXcgZigxNiksdGhpcy5faGF2ZURyYWluZWRRdWV1ZXM9ITEsdGhpcy5fdHJhbXBvbGluZUVuYWJsZWQ9ITA7dmFyIHQ9dGhpczt0aGlzLmRyYWluUXVldWVzPWZ1bmN0aW9uKCl7dC5fZHJhaW5RdWV1ZXMoKX0sdGhpcy5fc2NoZWR1bGU9bH1mdW5jdGlvbiBvKHQsZSxuKXt0aGlzLl9sYXRlUXVldWUucHVzaCh0LGUsbiksdGhpcy5fcXVldWVUaWNrKCl9ZnVuY3Rpb24gcyh0LGUsbil7dGhpcy5fbm9ybWFsUXVldWUucHVzaCh0LGUsbiksdGhpcy5fcXVldWVUaWNrKCl9ZnVuY3Rpb24gYSh0KXt0aGlzLl9ub3JtYWxRdWV1ZS5fcHVzaE9uZSh0KSx0aGlzLl9xdWV1ZVRpY2soKX12YXIgYzt0cnl7dGhyb3cgbmV3IEVycm9yfWNhdGNoKHUpe2M9dX12YXIgbD10KFwiLi9zY2hlZHVsZVwiKSxmPXQoXCIuL3F1ZXVlXCIpLHA9dChcIi4vdXRpbFwiKTtpLnByb3RvdHlwZS5zZXRTY2hlZHVsZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc2NoZWR1bGU7cmV0dXJuIHRoaXMuX3NjaGVkdWxlPXQsdGhpcy5fY3VzdG9tU2NoZWR1bGVyPSEwLGV9LGkucHJvdG90eXBlLmhhc0N1c3RvbVNjaGVkdWxlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXN0b21TY2hlZHVsZXJ9LGkucHJvdG90eXBlLmVuYWJsZVRyYW1wb2xpbmU9ZnVuY3Rpb24oKXt0aGlzLl90cmFtcG9saW5lRW5hYmxlZD0hMH0saS5wcm90b3R5cGUuZGlzYWJsZVRyYW1wb2xpbmVJZk5lY2Vzc2FyeT1mdW5jdGlvbigpe3AuaGFzRGV2VG9vbHMmJih0aGlzLl90cmFtcG9saW5lRW5hYmxlZD0hMSl9LGkucHJvdG90eXBlLmhhdmVJdGVtc1F1ZXVlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1RpY2tVc2VkfHx0aGlzLl9oYXZlRHJhaW5lZFF1ZXVlc30saS5wcm90b3R5cGUuZmF0YWxFcnJvcj1mdW5jdGlvbih0LG4pe24/KGUuc3RkZXJyLndyaXRlKFwiRmF0YWwgXCIrKHQgaW5zdGFuY2VvZiBFcnJvcj90LnN0YWNrOnQpK1wiXFxuXCIpLGUuZXhpdCgyKSk6dGhpcy50aHJvd0xhdGVyKHQpfSxpLnByb3RvdHlwZS50aHJvd0xhdGVyPWZ1bmN0aW9uKHQsZSl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgmJihlPXQsdD1mdW5jdGlvbigpe3Rocm93IGV9KSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2V0VGltZW91dClzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dChlKX0sMCk7ZWxzZSB0cnl7dGhpcy5fc2NoZWR1bGUoZnVuY3Rpb24oKXt0KGUpfSl9Y2F0Y2gobil7dGhyb3cgbmV3IEVycm9yKFwiTm8gYXN5bmMgc2NoZWR1bGVyIGF2YWlsYWJsZVxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIil9fSxwLmhhc0RldlRvb2xzPyhpLnByb3RvdHlwZS5pbnZva2VMYXRlcj1mdW5jdGlvbih0LGUsbil7dGhpcy5fdHJhbXBvbGluZUVuYWJsZWQ/by5jYWxsKHRoaXMsdCxlLG4pOnRoaXMuX3NjaGVkdWxlKGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe3QuY2FsbChlLG4pfSwxMDApfSl9LGkucHJvdG90eXBlLmludm9rZT1mdW5jdGlvbih0LGUsbil7dGhpcy5fdHJhbXBvbGluZUVuYWJsZWQ/cy5jYWxsKHRoaXMsdCxlLG4pOnRoaXMuX3NjaGVkdWxlKGZ1bmN0aW9uKCl7dC5jYWxsKGUsbil9KX0saS5wcm90b3R5cGUuc2V0dGxlUHJvbWlzZXM9ZnVuY3Rpb24odCl7dGhpcy5fdHJhbXBvbGluZUVuYWJsZWQ/YS5jYWxsKHRoaXMsdCk6dGhpcy5fc2NoZWR1bGUoZnVuY3Rpb24oKXt0Ll9zZXR0bGVQcm9taXNlcygpfSl9KTooaS5wcm90b3R5cGUuaW52b2tlTGF0ZXI9byxpLnByb3RvdHlwZS5pbnZva2U9cyxpLnByb3RvdHlwZS5zZXR0bGVQcm9taXNlcz1hKSxpLnByb3RvdHlwZS5pbnZva2VGaXJzdD1mdW5jdGlvbih0LGUsbil7dGhpcy5fbm9ybWFsUXVldWUudW5zaGlmdCh0LGUsbiksdGhpcy5fcXVldWVUaWNrKCl9LGkucHJvdG90eXBlLl9kcmFpblF1ZXVlPWZ1bmN0aW9uKHQpe2Zvcig7dC5sZW5ndGgoKT4wOyl7dmFyIGU9dC5zaGlmdCgpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpe3ZhciBuPXQuc2hpZnQoKSxyPXQuc2hpZnQoKTtlLmNhbGwobixyKX1lbHNlIGUuX3NldHRsZVByb21pc2VzKCl9fSxpLnByb3RvdHlwZS5fZHJhaW5RdWV1ZXM9ZnVuY3Rpb24oKXt0aGlzLl9kcmFpblF1ZXVlKHRoaXMuX25vcm1hbFF1ZXVlKSx0aGlzLl9yZXNldCgpLHRoaXMuX2hhdmVEcmFpbmVkUXVldWVzPSEwLHRoaXMuX2RyYWluUXVldWUodGhpcy5fbGF0ZVF1ZXVlKX0saS5wcm90b3R5cGUuX3F1ZXVlVGljaz1mdW5jdGlvbigpe3RoaXMuX2lzVGlja1VzZWR8fCh0aGlzLl9pc1RpY2tVc2VkPSEwLHRoaXMuX3NjaGVkdWxlKHRoaXMuZHJhaW5RdWV1ZXMpKX0saS5wcm90b3R5cGUuX3Jlc2V0PWZ1bmN0aW9uKCl7dGhpcy5faXNUaWNrVXNlZD0hMX0sbi5leHBvcnRzPWksbi5leHBvcnRzLmZpcnN0TGluZUVycm9yPWN9LHtcIi4vcXVldWVcIjoyNixcIi4vc2NoZWR1bGVcIjoyOSxcIi4vdXRpbFwiOjM2fV0sMzpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT0hMSxvPWZ1bmN0aW9uKHQsZSl7dGhpcy5fcmVqZWN0KGUpfSxzPWZ1bmN0aW9uKHQsZSl7ZS5wcm9taXNlUmVqZWN0aW9uUXVldWVkPSEwLGUuYmluZGluZ1Byb21pc2UuX3RoZW4obyxvLG51bGwsdGhpcyx0KX0sYT1mdW5jdGlvbih0LGUpezA9PT0oNTAzOTcxODQmdGhpcy5fYml0RmllbGQpJiZ0aGlzLl9yZXNvbHZlQ2FsbGJhY2soZS50YXJnZXQpfSxjPWZ1bmN0aW9uKHQsZSl7ZS5wcm9taXNlUmVqZWN0aW9uUXVldWVkfHx0aGlzLl9yZWplY3QodCl9O3QucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24obyl7aXx8KGk9ITAsdC5wcm90b3R5cGUuX3Byb3BhZ2F0ZUZyb209ci5wcm9wYWdhdGVGcm9tRnVuY3Rpb24oKSx0LnByb3RvdHlwZS5fYm91bmRWYWx1ZT1yLmJvdW5kVmFsdWVGdW5jdGlvbigpKTt2YXIgdT1uKG8pLGw9bmV3IHQoZSk7bC5fcHJvcGFnYXRlRnJvbSh0aGlzLDEpO3ZhciBmPXRoaXMuX3RhcmdldCgpO2lmKGwuX3NldEJvdW5kVG8odSksdSBpbnN0YW5jZW9mIHQpe3ZhciBwPXtwcm9taXNlUmVqZWN0aW9uUXVldWVkOiExLHByb21pc2U6bCx0YXJnZXQ6ZixiaW5kaW5nUHJvbWlzZTp1fTtmLl90aGVuKGUscyx2b2lkIDAsbCxwKSx1Ll90aGVuKGEsYyx2b2lkIDAsbCxwKSxsLl9zZXRPbkNhbmNlbCh1KX1lbHNlIGwuX3Jlc29sdmVDYWxsYmFjayhmKTtyZXR1cm4gbH0sdC5wcm90b3R5cGUuX3NldEJvdW5kVG89ZnVuY3Rpb24odCl7dm9pZCAwIT09dD8odGhpcy5fYml0RmllbGQ9MjA5NzE1Mnx0aGlzLl9iaXRGaWVsZCx0aGlzLl9ib3VuZFRvPXQpOnRoaXMuX2JpdEZpZWxkPS0yMDk3MTUzJnRoaXMuX2JpdEZpZWxkfSx0LnByb3RvdHlwZS5faXNCb3VuZD1mdW5jdGlvbigpe3JldHVybiAyMDk3MTUyPT09KDIwOTcxNTImdGhpcy5fYml0RmllbGQpfSx0LmJpbmQ9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5yZXNvbHZlKG4pLmJpbmQoZSl9fX0se31dLDQ6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKCl7dHJ5e1Byb21pc2U9PT1vJiYoUHJvbWlzZT1pKX1jYXRjaCh0KXt9cmV0dXJuIG99dmFyIGk7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFByb21pc2UmJihpPVByb21pc2UpO3ZhciBvPXQoXCIuL3Byb21pc2VcIikoKTtvLm5vQ29uZmxpY3Q9cixlLmV4cG9ydHM9b30se1wiLi9wcm9taXNlXCI6MjJ9XSw1OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9T2JqZWN0LmNyZWF0ZTtpZihyKXt2YXIgaT1yKG51bGwpLG89cihudWxsKTtpW1wiIHNpemVcIl09b1tcIiBzaXplXCJdPTB9ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4odCxuKXt2YXIgcjtpZihudWxsIT10JiYocj10W25dKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiByKXt2YXIgaT1cIk9iamVjdCBcIithLmNsYXNzU3RyaW5nKHQpK1wiIGhhcyBubyBtZXRob2QgJ1wiK2EudG9TdHJpbmcobikrXCInXCI7dGhyb3cgbmV3IGUuVHlwZUVycm9yKGkpfXJldHVybiByfWZ1bmN0aW9uIHIodCl7dmFyIGU9dGhpcy5wb3AoKSxyPW4odCxlKTtyZXR1cm4gci5hcHBseSh0LHRoaXMpfWZ1bmN0aW9uIGkodCl7cmV0dXJuIHRbdGhpc119ZnVuY3Rpb24gbyh0KXt2YXIgZT0rdGhpcztyZXR1cm4gMD5lJiYoZT1NYXRoLm1heCgwLGUrdC5sZW5ndGgpKSx0W2VdfXZhciBzLGE9dChcIi4vdXRpbFwiKSxjPWEuY2FuRXZhbHVhdGU7YS5pc0lkZW50aWZpZXI7ZS5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbih0KXt2YXIgZT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZS5wdXNoKHQpLHRoaXMuX3RoZW4ocix2b2lkIDAsdm9pZCAwLGUsdm9pZCAwKX0sZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlLG49XCJudW1iZXJcIj09dHlwZW9mIHQ7aWYobillPW87ZWxzZSBpZihjKXt2YXIgcj1zKHQpO2U9bnVsbCE9PXI/cjppfWVsc2UgZT1pO3JldHVybiB0aGlzLl90aGVuKGUsdm9pZCAwLHZvaWQgMCx0LHZvaWQgMCl9fX0se1wiLi91dGlsXCI6MzZ9XSw2OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyLGkpe3ZhciBvPXQoXCIuL3V0aWxcIikscz1vLnRyeUNhdGNoLGE9by5lcnJvck9iaixjPWUuX2FzeW5jO2UucHJvdG90eXBlW1wiYnJlYWtcIl09ZS5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKCl7aWYoIWkuY2FuY2VsbGF0aW9uKCkpcmV0dXJuIHRoaXMuX3dhcm4oXCJjYW5jZWxsYXRpb24gaXMgZGlzYWJsZWRcIik7Zm9yKHZhciB0PXRoaXMsZT10O3QuX2lzQ2FuY2VsbGFibGUoKTspe2lmKCF0Ll9jYW5jZWxCeShlKSl7ZS5faXNGb2xsb3dpbmcoKT9lLl9mb2xsb3dlZSgpLmNhbmNlbCgpOmUuX2NhbmNlbEJyYW5jaGVkKCk7YnJlYWt9dmFyIG49dC5fY2FuY2VsbGF0aW9uUGFyZW50O2lmKG51bGw9PW58fCFuLl9pc0NhbmNlbGxhYmxlKCkpe3QuX2lzRm9sbG93aW5nKCk/dC5fZm9sbG93ZWUoKS5jYW5jZWwoKTp0Ll9jYW5jZWxCcmFuY2hlZCgpO2JyZWFrfXQuX2lzRm9sbG93aW5nKCkmJnQuX2ZvbGxvd2VlKCkuY2FuY2VsKCksdC5fc2V0V2lsbEJlQ2FuY2VsbGVkKCksZT10LHQ9bn19LGUucHJvdG90eXBlLl9icmFuY2hIYXNDYW5jZWxsZWQ9ZnVuY3Rpb24oKXt0aGlzLl9icmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsLS19LGUucHJvdG90eXBlLl9lbm91Z2hCcmFuY2hlc0hhdmVDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5fYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbHx8dGhpcy5fYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbDw9MH0sZS5wcm90b3R5cGUuX2NhbmNlbEJ5PWZ1bmN0aW9uKHQpe3JldHVybiB0PT09dGhpcz8odGhpcy5fYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbD0wLHRoaXMuX2ludm9rZU9uQ2FuY2VsKCksITApOih0aGlzLl9icmFuY2hIYXNDYW5jZWxsZWQoKSx0aGlzLl9lbm91Z2hCcmFuY2hlc0hhdmVDYW5jZWxsZWQoKT8odGhpcy5faW52b2tlT25DYW5jZWwoKSwhMCk6ITEpfSxlLnByb3RvdHlwZS5fY2FuY2VsQnJhbmNoZWQ9ZnVuY3Rpb24oKXt0aGlzLl9lbm91Z2hCcmFuY2hlc0hhdmVDYW5jZWxsZWQoKSYmdGhpcy5fY2FuY2VsKCl9LGUucHJvdG90eXBlLl9jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLl9pc0NhbmNlbGxhYmxlKCkmJih0aGlzLl9zZXRDYW5jZWxsZWQoKSxjLmludm9rZSh0aGlzLl9jYW5jZWxQcm9taXNlcyx0aGlzLHZvaWQgMCkpfSxlLnByb3RvdHlwZS5fY2FuY2VsUHJvbWlzZXM9ZnVuY3Rpb24oKXt0aGlzLl9sZW5ndGgoKT4wJiZ0aGlzLl9zZXR0bGVQcm9taXNlcygpfSxlLnByb3RvdHlwZS5fdW5zZXRPbkNhbmNlbD1mdW5jdGlvbigpe3RoaXMuX29uQ2FuY2VsRmllbGQ9dm9pZCAwfSxlLnByb3RvdHlwZS5faXNDYW5jZWxsYWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzUGVuZGluZygpJiYhdGhpcy5faXNDYW5jZWxsZWQoKX0sZS5wcm90b3R5cGUuaXNDYW5jZWxsYWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzUGVuZGluZygpJiYhdGhpcy5pc0NhbmNlbGxlZCgpfSxlLnByb3RvdHlwZS5fZG9JbnZva2VPbkNhbmNlbD1mdW5jdGlvbih0LGUpe2lmKG8uaXNBcnJheSh0KSlmb3IodmFyIG49MDtuPHQubGVuZ3RoOysrbil0aGlzLl9kb0ludm9rZU9uQ2FuY2VsKHRbbl0sZSk7ZWxzZSBpZih2b2lkIDAhPT10KWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpe2lmKCFlKXt2YXIgcj1zKHQpLmNhbGwodGhpcy5fYm91bmRWYWx1ZSgpKTtyPT09YSYmKHRoaXMuX2F0dGFjaEV4dHJhVHJhY2Uoci5lKSxjLnRocm93TGF0ZXIoci5lKSl9fWVsc2UgdC5fcmVzdWx0Q2FuY2VsbGVkKHRoaXMpfSxlLnByb3RvdHlwZS5faW52b2tlT25DYW5jZWw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9vbkNhbmNlbCgpO3RoaXMuX3Vuc2V0T25DYW5jZWwoKSxjLmludm9rZSh0aGlzLl9kb0ludm9rZU9uQ2FuY2VsLHRoaXMsdCl9LGUucHJvdG90eXBlLl9pbnZva2VJbnRlcm5hbE9uQ2FuY2VsPWZ1bmN0aW9uKCl7dGhpcy5faXNDYW5jZWxsYWJsZSgpJiYodGhpcy5fZG9JbnZva2VPbkNhbmNlbCh0aGlzLl9vbkNhbmNlbCgpLCEwKSx0aGlzLl91bnNldE9uQ2FuY2VsKCkpfSxlLnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkPWZ1bmN0aW9uKCl7dGhpcy5jYW5jZWwoKX19fSx7XCIuL3V0aWxcIjozNn1dLDc6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbih0LG4sYSl7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciB1PWEuX2JvdW5kVmFsdWUoKTt0OmZvcih2YXIgbD0wO2w8dC5sZW5ndGg7KytsKXt2YXIgZj10W2xdO2lmKGY9PT1FcnJvcnx8bnVsbCE9ZiYmZi5wcm90b3R5cGUgaW5zdGFuY2VvZiBFcnJvcil7aWYoYyBpbnN0YW5jZW9mIGYpcmV0dXJuIG8obikuY2FsbCh1LGMpfWVsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZil7dmFyIHA9byhmKS5jYWxsKHUsYyk7aWYocD09PXMpcmV0dXJuIHA7aWYocClyZXR1cm4gbyhuKS5jYWxsKHUsYyl9ZWxzZSBpZihyLmlzT2JqZWN0KGMpKXtmb3IodmFyIGg9aShmKSxkPTA7ZDxoLmxlbmd0aDsrK2Qpe3ZhciBfPWhbZF07aWYoZltfXSE9Y1tfXSljb250aW51ZSB0fXJldHVybiBvKG4pLmNhbGwodSxjKX19cmV0dXJuIGV9fXZhciByPXQoXCIuL3V0aWxcIiksaT10KFwiLi9lczVcIikua2V5cyxvPXIudHJ5Q2F0Y2gscz1yLmVycm9yT2JqO3JldHVybiBufX0se1wiLi9lczVcIjoxMyxcIi4vdXRpbFwiOjM2fV0sODpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dGhpcy5fdHJhY2U9bmV3IGUuQ2FwdHVyZWRUcmFjZShyKCkpfWZ1bmN0aW9uIG4oKXtyZXR1cm4gaT9uZXcgZTp2b2lkIDB9ZnVuY3Rpb24gcigpe3ZhciB0PW8ubGVuZ3RoLTE7cmV0dXJuIHQ+PTA/b1t0XTp2b2lkIDB9dmFyIGk9ITEsbz1bXTtyZXR1cm4gdC5wcm90b3R5cGUuX3Byb21pc2VDcmVhdGVkPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5fcHVzaENvbnRleHQ9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLl9wb3BDb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LHQuX3BlZWtDb250ZXh0PXQucHJvdG90eXBlLl9wZWVrQ29udGV4dD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuX3B1c2hDb250ZXh0PWZ1bmN0aW9uKCl7dm9pZCAwIT09dGhpcy5fdHJhY2UmJih0aGlzLl90cmFjZS5fcHJvbWlzZUNyZWF0ZWQ9bnVsbCxvLnB1c2godGhpcy5fdHJhY2UpKX0sZS5wcm90b3R5cGUuX3BvcENvbnRleHQ9ZnVuY3Rpb24oKXtpZih2b2lkIDAhPT10aGlzLl90cmFjZSl7dmFyIHQ9by5wb3AoKSxlPXQuX3Byb21pc2VDcmVhdGVkO3JldHVybiB0Ll9wcm9taXNlQ3JlYXRlZD1udWxsLGV9cmV0dXJuIG51bGx9LGUuQ2FwdHVyZWRUcmFjZT1udWxsLGUuY3JlYXRlPW4sZS5kZWFjdGl2YXRlTG9uZ1N0YWNrVHJhY2VzPWZ1bmN0aW9uKCl7fSxlLmFjdGl2YXRlTG9uZ1N0YWNrVHJhY2VzPWZ1bmN0aW9uKCl7dmFyIG49dC5wcm90b3R5cGUuX3B1c2hDb250ZXh0LG89dC5wcm90b3R5cGUuX3BvcENvbnRleHQscz10Ll9wZWVrQ29udGV4dCxhPXQucHJvdG90eXBlLl9wZWVrQ29udGV4dCxjPXQucHJvdG90eXBlLl9wcm9taXNlQ3JlYXRlZDtlLmRlYWN0aXZhdGVMb25nU3RhY2tUcmFjZXM9ZnVuY3Rpb24oKXt0LnByb3RvdHlwZS5fcHVzaENvbnRleHQ9bix0LnByb3RvdHlwZS5fcG9wQ29udGV4dD1vLHQuX3BlZWtDb250ZXh0PXMsdC5wcm90b3R5cGUuX3BlZWtDb250ZXh0PWEsdC5wcm90b3R5cGUuX3Byb21pc2VDcmVhdGVkPWMsaT0hMX0saT0hMCx0LnByb3RvdHlwZS5fcHVzaENvbnRleHQ9ZS5wcm90b3R5cGUuX3B1c2hDb250ZXh0LHQucHJvdG90eXBlLl9wb3BDb250ZXh0PWUucHJvdG90eXBlLl9wb3BDb250ZXh0LHQuX3BlZWtDb250ZXh0PXQucHJvdG90eXBlLl9wZWVrQ29udGV4dD1yLHQucHJvdG90eXBlLl9wcm9taXNlQ3JlYXRlZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3BlZWtDb250ZXh0KCk7dCYmbnVsbD09dC5fcHJvbWlzZUNyZWF0ZWQmJih0Ll9wcm9taXNlQ3JlYXRlZD10aGlzKX19LGV9fSx7fV0sOTpbZnVuY3Rpb24odCxuLHIpe1widXNlIHN0cmljdFwiO24uZXhwb3J0cz1mdW5jdGlvbihuLHIpe2Z1bmN0aW9uIGkodCxlKXtyZXR1cm57cHJvbWlzZTplfX1mdW5jdGlvbiBvKCl7cmV0dXJuITF9ZnVuY3Rpb24gcyh0LGUsbil7dmFyIHI9dGhpczt0cnl7dChlLG4sZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwib25DYW5jZWwgbXVzdCBiZSBhIGZ1bmN0aW9uLCBnb3Q6IFwiK1YudG9TdHJpbmcodCkpO3IuX2F0dGFjaENhbmNlbGxhdGlvbkNhbGxiYWNrKHQpfSl9Y2F0Y2goaSl7cmV0dXJuIGl9fWZ1bmN0aW9uIGEodCl7aWYoIXRoaXMuX2lzQ2FuY2VsbGFibGUoKSlyZXR1cm4gdGhpczt2YXIgZT10aGlzLl9vbkNhbmNlbCgpO3ZvaWQgMCE9PWU/Vi5pc0FycmF5KGUpP2UucHVzaCh0KTp0aGlzLl9zZXRPbkNhbmNlbChbZSx0XSk6dGhpcy5fc2V0T25DYW5jZWwodCl9ZnVuY3Rpb24gYygpe3JldHVybiB0aGlzLl9vbkNhbmNlbEZpZWxkfWZ1bmN0aW9uIHUodCl7dGhpcy5fb25DYW5jZWxGaWVsZD10fWZ1bmN0aW9uIGwoKXt0aGlzLl9jYW5jZWxsYXRpb25QYXJlbnQ9dm9pZCAwLHRoaXMuX29uQ2FuY2VsRmllbGQ9dm9pZCAwfWZ1bmN0aW9uIGYodCxlKXtpZigwIT09KDEmZSkpe3RoaXMuX2NhbmNlbGxhdGlvblBhcmVudD10O3ZhciBuPXQuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWw7dm9pZCAwPT09biYmKG49MCksdC5fYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbD1uKzF9MCE9PSgyJmUpJiZ0Ll9pc0JvdW5kKCkmJnRoaXMuX3NldEJvdW5kVG8odC5fYm91bmRUbyl9ZnVuY3Rpb24gcCh0LGUpezAhPT0oMiZlKSYmdC5faXNCb3VuZCgpJiZ0aGlzLl9zZXRCb3VuZFRvKHQuX2JvdW5kVG8pfWZ1bmN0aW9uIGgoKXt2YXIgdD10aGlzLl9ib3VuZFRvO3JldHVybiB2b2lkIDAhPT10JiZ0IGluc3RhbmNlb2Ygbj90LmlzRnVsZmlsbGVkKCk/dC52YWx1ZSgpOnZvaWQgMDp0fWZ1bmN0aW9uIGQoKXt0aGlzLl90cmFjZT1uZXcgUih0aGlzLl9wZWVrQ29udGV4dCgpKX1mdW5jdGlvbiBfKHQsZSl7aWYoQih0KSl7dmFyIG49dGhpcy5fdHJhY2U7aWYodm9pZCAwIT09biYmZSYmKG49bi5fcGFyZW50KSx2b2lkIDAhPT1uKW4uYXR0YWNoRXh0cmFUcmFjZSh0KTtlbHNlIGlmKCF0Ll9fc3RhY2tDbGVhbmVkX18pe3ZhciByPWsodCk7Vi5ub3RFbnVtZXJhYmxlUHJvcCh0LFwic3RhY2tcIixyLm1lc3NhZ2UrXCJcXG5cIityLnN0YWNrLmpvaW4oXCJcXG5cIikpLFYubm90RW51bWVyYWJsZVByb3AodCxcIl9fc3RhY2tDbGVhbmVkX19cIiwhMCl9fX1mdW5jdGlvbiB2KHQsZSxuLHIsaSl7aWYodm9pZCAwPT09dCYmbnVsbCE9PWUmJkspe2lmKHZvaWQgMCE9PWkmJmkuX3JldHVybmVkTm9uVW5kZWZpbmVkKCkpcmV0dXJuO2lmKDA9PT0oNjU1MzUmci5fYml0RmllbGQpKXJldHVybjtuJiYobis9XCIgXCIpO3ZhciBvPVwiXCIscz1cIlwiO2lmKGUuX3RyYWNlKXtmb3IodmFyIGE9ZS5fdHJhY2Uuc3RhY2suc3BsaXQoXCJcXG5cIiksYz1FKGEpLHU9Yy5sZW5ndGgtMTt1Pj0wOy0tdSl7dmFyIGw9Y1t1XTtpZighSC50ZXN0KGwpKXt2YXIgZj1sLm1hdGNoKHEpO2YmJihvPVwiYXQgXCIrZlsxXStcIjpcIitmWzJdK1wiOlwiK2ZbM10rXCIgXCIpO2JyZWFrfX1pZihjLmxlbmd0aD4wKWZvcih2YXIgcD1jWzBdLHU9MDt1PGEubGVuZ3RoOysrdSlpZihhW3VdPT09cCl7dT4wJiYocz1cIlxcblwiK2FbdS0xXSk7YnJlYWt9fXZhciBoPVwiYSBwcm9taXNlIHdhcyBjcmVhdGVkIGluIGEgXCIrbitcImhhbmRsZXIgXCIrbytcImJ1dCB3YXMgbm90IHJldHVybmVkIGZyb20gaXQsIHNlZSBodHRwOi8vZ29vLmdsL3JScU1Vd1wiK3M7ci5fd2FybihoLCEwLGUpfX1mdW5jdGlvbiB5KHQsZSl7dmFyIG49dCtcIiBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgdmVyc2lvbi5cIjtyZXR1cm4gZSYmKG4rPVwiIFVzZSBcIitlK1wiIGluc3RlYWQuXCIpLG0obil9ZnVuY3Rpb24gbSh0LGUscil7aWYoc3Qud2FybmluZ3Mpe3ZhciBpLG89bmV3IEwodCk7aWYoZSlyLl9hdHRhY2hFeHRyYVRyYWNlKG8pO2Vsc2UgaWYoc3QubG9uZ1N0YWNrVHJhY2VzJiYoaT1uLl9wZWVrQ29udGV4dCgpKSlpLmF0dGFjaEV4dHJhVHJhY2Uobyk7ZWxzZXt2YXIgcz1rKG8pO28uc3RhY2s9cy5tZXNzYWdlK1wiXFxuXCIrcy5zdGFjay5qb2luKFwiXFxuXCIpfWV0KFwid2FybmluZ1wiLG8pfHxqKG8sXCJcIiwhMCl9fWZ1bmN0aW9uIGcodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoLTE7KytuKWVbbl0ucHVzaChcIkZyb20gcHJldmlvdXMgZXZlbnQ6XCIpLGVbbl09ZVtuXS5qb2luKFwiXFxuXCIpO3JldHVybiBuPGUubGVuZ3RoJiYoZVtuXT1lW25dLmpvaW4oXCJcXG5cIikpLHQrXCJcXG5cIitlLmpvaW4oXCJcXG5cIil9ZnVuY3Rpb24gYih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoOysrZSkoMD09PXRbZV0ubGVuZ3RofHxlKzE8dC5sZW5ndGgmJnRbZV1bMF09PT10W2UrMV1bMF0pJiYodC5zcGxpY2UoZSwxKSxlLS0pfWZ1bmN0aW9uIHcodCl7Zm9yKHZhciBlPXRbMF0sbj0xO248dC5sZW5ndGg7KytuKXtmb3IodmFyIHI9dFtuXSxpPWUubGVuZ3RoLTEsbz1lW2ldLHM9LTEsYT1yLmxlbmd0aC0xO2E+PTA7LS1hKWlmKHJbYV09PT1vKXtzPWE7YnJlYWt9Zm9yKHZhciBhPXM7YT49MDstLWEpe3ZhciBjPXJbYV07aWYoZVtpXSE9PWMpYnJlYWs7ZS5wb3AoKSxpLS19ZT1yfX1mdW5jdGlvbiBFKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0Lmxlbmd0aDsrK24pe3ZhciByPXRbbl0saT1cIiAgICAoTm8gc3RhY2sgdHJhY2UpXCI9PT1yfHxRLnRlc3Qociksbz1pJiZydChyKTtpJiYhbyYmKHomJlwiIFwiIT09ci5jaGFyQXQoMCkmJihyPVwiICAgIFwiK3IpLGUucHVzaChyKSl9cmV0dXJuIGV9ZnVuY3Rpb24gQyh0KXtmb3IodmFyIGU9dC5zdGFjay5yZXBsYWNlKC9cXHMrJC9nLFwiXCIpLnNwbGl0KFwiXFxuXCIpLG49MDtuPGUubGVuZ3RoOysrbil7dmFyIHI9ZVtuXTtpZihcIiAgICAoTm8gc3RhY2sgdHJhY2UpXCI9PT1yfHxRLnRlc3QocikpYnJlYWt9cmV0dXJuIG4+MCYmKGU9ZS5zbGljZShuKSksZX1mdW5jdGlvbiBrKHQpe3ZhciBlPXQuc3RhY2ssbj10LnRvU3RyaW5nKCk7cmV0dXJuIGU9XCJzdHJpbmdcIj09dHlwZW9mIGUmJmUubGVuZ3RoPjA/Qyh0KTpbXCIgICAgKE5vIHN0YWNrIHRyYWNlKVwiXSx7bWVzc2FnZTpuLHN0YWNrOkUoZSl9fWZ1bmN0aW9uIGoodCxlLG4pe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlKXt2YXIgcjtpZihWLmlzT2JqZWN0KHQpKXt2YXIgaT10LnN0YWNrO3I9ZSskKGksdCl9ZWxzZSByPWUrU3RyaW5nKHQpO1wiZnVuY3Rpb25cIj09dHlwZW9mIEQ/RChyLG4pOlwiZnVuY3Rpb25cIiE9dHlwZW9mIGNvbnNvbGUubG9nJiZcIm9iamVjdFwiIT10eXBlb2YgY29uc29sZS5sb2d8fGNvbnNvbGUubG9nKHIpfX1mdW5jdGlvbiB4KHQsZSxuLHIpe3ZhciBpPSExO3RyeXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYoaT0hMCxcInJlamVjdGlvbkhhbmRsZWRcIj09PXQ/ZShyKTplKG4scikpfWNhdGNoKG8pe04udGhyb3dMYXRlcihvKX1cInVuaGFuZGxlZFJlamVjdGlvblwiPT09dD9ldCh0LG4scil8fGl8fGoobixcIlVuaGFuZGxlZCByZWplY3Rpb24gXCIpOmV0KHQscil9ZnVuY3Rpb24gRih0KXt2YXIgZTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KWU9XCJbZnVuY3Rpb24gXCIrKHQubmFtZXx8XCJhbm9ueW1vdXNcIikrXCJdXCI7ZWxzZXtlPXQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQudG9TdHJpbmc/dC50b1N0cmluZygpOlYudG9TdHJpbmcodCk7dmFyIG49L1xcW29iamVjdCBbYS16QS1aMC05JF9dK1xcXS87aWYobi50ZXN0KGUpKXRyeXt2YXIgcj1KU09OLnN0cmluZ2lmeSh0KTtlPXJ9Y2F0Y2goaSl7fTA9PT1lLmxlbmd0aCYmKGU9XCIoZW1wdHkgYXJyYXkpXCIpfXJldHVyblwiKDxcIitUKGUpK1wiPiwgbm8gc3RhY2sgdHJhY2UpXCJ9ZnVuY3Rpb24gVCh0KXt2YXIgZT00MTtyZXR1cm4gdC5sZW5ndGg8ZT90OnQuc3Vic3RyKDAsZS0zKStcIi4uLlwifWZ1bmN0aW9uIFMoKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBvdH1mdW5jdGlvbiBQKHQpe3ZhciBlPXQubWF0Y2goaXQpO3JldHVybiBlP3tmaWxlTmFtZTplWzFdLGxpbmU6cGFyc2VJbnQoZVsyXSwxMCl9OnZvaWQgMH1mdW5jdGlvbiBPKHQsZSl7aWYoUygpKXtmb3IodmFyIG4scixpPXQuc3RhY2suc3BsaXQoXCJcXG5cIiksbz1lLnN0YWNrLnNwbGl0KFwiXFxuXCIpLHM9LTEsYT0tMSxjPTA7YzxpLmxlbmd0aDsrK2Mpe3ZhciB1PVAoaVtjXSk7aWYodSl7bj11LmZpbGVOYW1lLHM9dS5saW5lO2JyZWFrfX1mb3IodmFyIGM9MDtjPG8ubGVuZ3RoOysrYyl7dmFyIHU9UChvW2NdKTtpZih1KXtyPXUuZmlsZU5hbWUsYT11LmxpbmU7YnJlYWt9fTA+c3x8MD5hfHwhbnx8IXJ8fG4hPT1yfHxzPj1hfHwocnQ9ZnVuY3Rpb24odCl7aWYoTS50ZXN0KHQpKXJldHVybiEwO3ZhciBlPVAodCk7cmV0dXJuISEoZSYmZS5maWxlTmFtZT09PW4mJnM8PWUubGluZSYmZS5saW5lPD1hKX0pfX1mdW5jdGlvbiBSKHQpe3RoaXMuX3BhcmVudD10LHRoaXMuX3Byb21pc2VzQ3JlYXRlZD0wO3ZhciBlPXRoaXMuX2xlbmd0aD0xKyh2b2lkIDA9PT10PzA6dC5fbGVuZ3RoKTtvdCh0aGlzLFIpLGU+MzImJnRoaXMudW5jeWNsZSgpfXZhciBBLEksRCxVPW4uX2dldERvbWFpbixOPW4uX2FzeW5jLEw9dChcIi4vZXJyb3JzXCIpLldhcm5pbmcsVj10KFwiLi91dGlsXCIpLEI9Vi5jYW5BdHRhY2hUcmFjZSxNPS9bXFxcXFxcL11ibHVlYmlyZFtcXFxcXFwvXWpzW1xcXFxcXC9dKHJlbGVhc2V8ZGVidWd8aW5zdHJ1bWVudGVkKS8sSD0vXFwoKD86dGltZXJzXFwuanMpOlxcZCs6XFxkK1xcKS8scT0vW1xcLzxcXChdKC4rPyk6KFxcZCspOihcXGQrKVxcKT9cXHMqJC8sUT1udWxsLCQ9bnVsbCx6PSExLEc9ISgwPT1WLmVudihcIkJMVUVCSVJEX0RFQlVHXCIpKSxXPSEoMD09Vi5lbnYoXCJCTFVFQklSRF9XQVJOSU5HU1wiKXx8IUcmJiFWLmVudihcIkJMVUVCSVJEX1dBUk5JTkdTXCIpKSxYPSEoMD09Vi5lbnYoXCJCTFVFQklSRF9MT05HX1NUQUNLX1RSQUNFU1wiKXx8IUcmJiFWLmVudihcIkJMVUVCSVJEX0xPTkdfU1RBQ0tfVFJBQ0VTXCIpKSxLPTAhPVYuZW52KFwiQkxVRUJJUkRfV19GT1JHT1RURU5fUkVUVVJOXCIpJiYoV3x8ISFWLmVudihcIkJMVUVCSVJEX1dfRk9SR09UVEVOX1JFVFVSTlwiKSk7bi5wcm90b3R5cGUuc3VwcHJlc3NVbmhhbmRsZWRSZWplY3Rpb25zPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdGFyZ2V0KCk7dC5fYml0RmllbGQ9LTEwNDg1NzcmdC5fYml0RmllbGR8NTI0Mjg4fSxuLnByb3RvdHlwZS5fZW5zdXJlUG9zc2libGVSZWplY3Rpb25IYW5kbGVkPWZ1bmN0aW9uKCl7MD09PSg1MjQyODgmdGhpcy5fYml0RmllbGQpJiYodGhpcy5fc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQoKSxOLmludm9rZUxhdGVyKHRoaXMuX25vdGlmeVVuaGFuZGxlZFJlamVjdGlvbix0aGlzLHZvaWQgMCkpfSxuLnByb3RvdHlwZS5fbm90aWZ5VW5oYW5kbGVkUmVqZWN0aW9uSXNIYW5kbGVkPWZ1bmN0aW9uKCl7eChcInJlamVjdGlvbkhhbmRsZWRcIixBLHZvaWQgMCx0aGlzKX0sbi5wcm90b3R5cGUuX3NldFJldHVybmVkTm9uVW5kZWZpbmVkPWZ1bmN0aW9uKCl7dGhpcy5fYml0RmllbGQ9MjY4NDM1NDU2fHRoaXMuX2JpdEZpZWxkfSxuLnByb3RvdHlwZS5fcmV0dXJuZWROb25VbmRlZmluZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PSgyNjg0MzU0NTYmdGhpcy5fYml0RmllbGQpfSxuLnByb3RvdHlwZS5fbm90aWZ5VW5oYW5kbGVkUmVqZWN0aW9uPWZ1bmN0aW9uKCl7aWYodGhpcy5faXNSZWplY3Rpb25VbmhhbmRsZWQoKSl7dmFyIHQ9dGhpcy5fc2V0dGxlZFZhbHVlKCk7dGhpcy5fc2V0VW5oYW5kbGVkUmVqZWN0aW9uSXNOb3RpZmllZCgpLHgoXCJ1bmhhbmRsZWRSZWplY3Rpb25cIixJLHQsdGhpcyl9fSxuLnByb3RvdHlwZS5fc2V0VW5oYW5kbGVkUmVqZWN0aW9uSXNOb3RpZmllZD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPTI2MjE0NHx0aGlzLl9iaXRGaWVsZH0sbi5wcm90b3R5cGUuX3Vuc2V0VW5oYW5kbGVkUmVqZWN0aW9uSXNOb3RpZmllZD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPS0yNjIxNDUmdGhpcy5fYml0RmllbGR9LG4ucHJvdG90eXBlLl9pc1VuaGFuZGxlZFJlamVjdGlvbk5vdGlmaWVkPWZ1bmN0aW9uKCl7cmV0dXJuKDI2MjE0NCZ0aGlzLl9iaXRGaWVsZCk+MH0sbi5wcm90b3R5cGUuX3NldFJlamVjdGlvbklzVW5oYW5kbGVkPWZ1bmN0aW9uKCl7dGhpcy5fYml0RmllbGQ9MTA0ODU3Nnx0aGlzLl9iaXRGaWVsZH0sbi5wcm90b3R5cGUuX3Vuc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQ9ZnVuY3Rpb24oKXt0aGlzLl9iaXRGaWVsZD0tMTA0ODU3NyZ0aGlzLl9iaXRGaWVsZCx0aGlzLl9pc1VuaGFuZGxlZFJlamVjdGlvbk5vdGlmaWVkKCkmJih0aGlzLl91bnNldFVuaGFuZGxlZFJlamVjdGlvbklzTm90aWZpZWQoKSx0aGlzLl9ub3RpZnlVbmhhbmRsZWRSZWplY3Rpb25Jc0hhbmRsZWQoKSl9LG4ucHJvdG90eXBlLl9pc1JlamVjdGlvblVuaGFuZGxlZD1mdW5jdGlvbigpe3JldHVybigxMDQ4NTc2JnRoaXMuX2JpdEZpZWxkKT4wfSxuLnByb3RvdHlwZS5fd2Fybj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG0odCxlLG58fHRoaXMpfSxuLm9uUG9zc2libHlVbmhhbmRsZWRSZWplY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9VSgpO0k9XCJmdW5jdGlvblwiPT10eXBlb2YgdD9udWxsPT09ZT90OlYuZG9tYWluQmluZChlLHQpOnZvaWQgMH0sbi5vblVuaGFuZGxlZFJlamVjdGlvbkhhbmRsZWQ9ZnVuY3Rpb24odCl7dmFyIGU9VSgpO0E9XCJmdW5jdGlvblwiPT10eXBlb2YgdD9udWxsPT09ZT90OlYuZG9tYWluQmluZChlLHQpOnZvaWQgMH07dmFyIEo9ZnVuY3Rpb24oKXt9O24ubG9uZ1N0YWNrVHJhY2VzPWZ1bmN0aW9uKCl7aWYoTi5oYXZlSXRlbXNRdWV1ZWQoKSYmIXN0LmxvbmdTdGFja1RyYWNlcyl0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgZW5hYmxlIGxvbmcgc3RhY2sgdHJhY2VzIGFmdGVyIHByb21pc2VzIGhhdmUgYmVlbiBjcmVhdGVkXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKTtpZighc3QubG9uZ1N0YWNrVHJhY2VzJiZTKCkpe3ZhciB0PW4ucHJvdG90eXBlLl9jYXB0dXJlU3RhY2tUcmFjZSxlPW4ucHJvdG90eXBlLl9hdHRhY2hFeHRyYVRyYWNlO3N0LmxvbmdTdGFja1RyYWNlcz0hMCxKPWZ1bmN0aW9uKCl7aWYoTi5oYXZlSXRlbXNRdWV1ZWQoKSYmIXN0LmxvbmdTdGFja1RyYWNlcyl0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgZW5hYmxlIGxvbmcgc3RhY2sgdHJhY2VzIGFmdGVyIHByb21pc2VzIGhhdmUgYmVlbiBjcmVhdGVkXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKTtuLnByb3RvdHlwZS5fY2FwdHVyZVN0YWNrVHJhY2U9dCxuLnByb3RvdHlwZS5fYXR0YWNoRXh0cmFUcmFjZT1lLHIuZGVhY3RpdmF0ZUxvbmdTdGFja1RyYWNlcygpLE4uZW5hYmxlVHJhbXBvbGluZSgpLHN0LmxvbmdTdGFja1RyYWNlcz0hMX0sbi5wcm90b3R5cGUuX2NhcHR1cmVTdGFja1RyYWNlPWQsbi5wcm90b3R5cGUuX2F0dGFjaEV4dHJhVHJhY2U9XyxyLmFjdGl2YXRlTG9uZ1N0YWNrVHJhY2VzKCksTi5kaXNhYmxlVHJhbXBvbGluZUlmTmVjZXNzYXJ5KCl9fSxuLmhhc0xvbmdTdGFja1RyYWNlcz1mdW5jdGlvbigpe3JldHVybiBzdC5sb25nU3RhY2tUcmFjZXMmJlMoKX07dmFyIFk9ZnVuY3Rpb24oKXt0cnl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgQ3VzdG9tRXZlbnQpe3ZhciB0PW5ldyBDdXN0b21FdmVudChcIkN1c3RvbUV2ZW50XCIpO3JldHVybiBWLmdsb2JhbC5kaXNwYXRjaEV2ZW50KHQpLGZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IEN1c3RvbUV2ZW50KHQudG9Mb3dlckNhc2UoKSx7ZGV0YWlsOmUsY2FuY2VsYWJsZTohMH0pO3JldHVybiFWLmdsb2JhbC5kaXNwYXRjaEV2ZW50KG4pfX1pZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBFdmVudCl7dmFyIHQ9bmV3IEV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7cmV0dXJuIFYuZ2xvYmFsLmRpc3BhdGNoRXZlbnQodCksZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgRXZlbnQodC50b0xvd2VyQ2FzZSgpLHtjYW5jZWxhYmxlOiEwfSk7cmV0dXJuIG4uZGV0YWlsPWUsIVYuZ2xvYmFsLmRpc3BhdGNoRXZlbnQobil9fXZhciB0PWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7cmV0dXJuIHQuaW5pdEN1c3RvbUV2ZW50KFwidGVzdGluZ3RoZWV2ZW50XCIsITEsITAse30pLFYuZ2xvYmFsLmRpc3BhdGNoRXZlbnQodCksZnVuY3Rpb24odCxlKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFdmVudChcIkN1c3RvbUV2ZW50XCIpO3JldHVybiBuLmluaXRDdXN0b21FdmVudCh0LnRvTG93ZXJDYXNlKCksITEsITAsZSksIVYuZ2xvYmFsLmRpc3BhdGNoRXZlbnQobil9fWNhdGNoKGUpe31yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4hMX19KCksWj1mdW5jdGlvbigpe3JldHVybiBWLmlzTm9kZT9mdW5jdGlvbigpe3JldHVybiBlLmVtaXQuYXBwbHkoZSxhcmd1bWVudHMpfTpWLmdsb2JhbD9mdW5jdGlvbih0KXt2YXIgZT1cIm9uXCIrdC50b0xvd2VyQ2FzZSgpLG49Vi5nbG9iYWxbZV07cmV0dXJuIG4/KG4uYXBwbHkoVi5nbG9iYWwsW10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpLCEwKTohMX06ZnVuY3Rpb24oKXtyZXR1cm4hMX19KCksdHQ9e3Byb21pc2VDcmVhdGVkOmkscHJvbWlzZUZ1bGZpbGxlZDppLHByb21pc2VSZWplY3RlZDppLHByb21pc2VSZXNvbHZlZDppLHByb21pc2VDYW5jZWxsZWQ6aSxwcm9taXNlQ2hhaW5lZDpmdW5jdGlvbih0LGUsbil7cmV0dXJue3Byb21pc2U6ZSxjaGlsZDpufX0sd2FybmluZzpmdW5jdGlvbih0LGUpe3JldHVybnt3YXJuaW5nOmV9fSx1bmhhbmRsZWRSZWplY3Rpb246ZnVuY3Rpb24odCxlLG4pe3JldHVybntyZWFzb246ZSxwcm9taXNlOm59fSxyZWplY3Rpb25IYW5kbGVkOml9LGV0PWZ1bmN0aW9uKHQpe3ZhciBlPSExO3RyeXtlPVouYXBwbHkobnVsbCxhcmd1bWVudHMpfWNhdGNoKG4pe04udGhyb3dMYXRlcihuKSxlPSEwfXZhciByPSExO3RyeXtyPVkodCx0dFt0XS5hcHBseShudWxsLGFyZ3VtZW50cykpfWNhdGNoKG4pe04udGhyb3dMYXRlcihuKSxyPSEwfXJldHVybiByfHxlfTtuLmNvbmZpZz1mdW5jdGlvbih0KXtpZih0PU9iamVjdCh0KSxcImxvbmdTdGFja1RyYWNlc1wiaW4gdCYmKHQubG9uZ1N0YWNrVHJhY2VzP24ubG9uZ1N0YWNrVHJhY2VzKCk6IXQubG9uZ1N0YWNrVHJhY2VzJiZuLmhhc0xvbmdTdGFja1RyYWNlcygpJiZKKCkpLFwid2FybmluZ3NcImluIHQpe3ZhciBlPXQud2FybmluZ3M7c3Qud2FybmluZ3M9ISFlLEs9c3Qud2FybmluZ3MsVi5pc09iamVjdChlKSYmXCJ3Rm9yZ290dGVuUmV0dXJuXCJpbiBlJiYoSz0hIWUud0ZvcmdvdHRlblJldHVybil9aWYoXCJjYW5jZWxsYXRpb25cImluIHQmJnQuY2FuY2VsbGF0aW9uJiYhc3QuY2FuY2VsbGF0aW9uKXtpZihOLmhhdmVJdGVtc1F1ZXVlZCgpKXRocm93IG5ldyBFcnJvcihcImNhbm5vdCBlbmFibGUgY2FuY2VsbGF0aW9uIGFmdGVyIHByb21pc2VzIGFyZSBpbiB1c2VcIik7bi5wcm90b3R5cGUuX2NsZWFyQ2FuY2VsbGF0aW9uRGF0YT1sLG4ucHJvdG90eXBlLl9wcm9wYWdhdGVGcm9tPWYsbi5wcm90b3R5cGUuX29uQ2FuY2VsPWMsbi5wcm90b3R5cGUuX3NldE9uQ2FuY2VsPXUsbi5wcm90b3R5cGUuX2F0dGFjaENhbmNlbGxhdGlvbkNhbGxiYWNrPWEsbi5wcm90b3R5cGUuX2V4ZWN1dGU9cyxudD1mLHN0LmNhbmNlbGxhdGlvbj0hMH1cIm1vbml0b3JpbmdcImluIHQmJih0Lm1vbml0b3JpbmcmJiFzdC5tb25pdG9yaW5nPyhzdC5tb25pdG9yaW5nPSEwLG4ucHJvdG90eXBlLl9maXJlRXZlbnQ9ZXQpOiF0Lm1vbml0b3JpbmcmJnN0Lm1vbml0b3JpbmcmJihzdC5tb25pdG9yaW5nPSExLG4ucHJvdG90eXBlLl9maXJlRXZlbnQ9bykpfSxuLnByb3RvdHlwZS5fZmlyZUV2ZW50PW8sbi5wcm90b3R5cGUuX2V4ZWN1dGU9ZnVuY3Rpb24odCxlLG4pe3RyeXt0KGUsbil9Y2F0Y2gocil7cmV0dXJuIHJ9fSxuLnByb3RvdHlwZS5fb25DYW5jZWw9ZnVuY3Rpb24oKXt9LG4ucHJvdG90eXBlLl9zZXRPbkNhbmNlbD1mdW5jdGlvbih0KXt9LG4ucHJvdG90eXBlLl9hdHRhY2hDYW5jZWxsYXRpb25DYWxsYmFjaz1mdW5jdGlvbih0KXt9LG4ucHJvdG90eXBlLl9jYXB0dXJlU3RhY2tUcmFjZT1mdW5jdGlvbigpe30sbi5wcm90b3R5cGUuX2F0dGFjaEV4dHJhVHJhY2U9ZnVuY3Rpb24oKXt9LG4ucHJvdG90eXBlLl9jbGVhckNhbmNlbGxhdGlvbkRhdGE9ZnVuY3Rpb24oKXt9LG4ucHJvdG90eXBlLl9wcm9wYWdhdGVGcm9tPWZ1bmN0aW9uKHQsZSl7fTt2YXIgbnQ9cCxydD1mdW5jdGlvbigpe3JldHVybiExfSxpdD0vW1xcLzxcXChdKFteOlxcL10rKTooXFxkKyk6KD86XFxkKylcXCk/XFxzKiQvO1YuaW5oZXJpdHMoUixFcnJvciksci5DYXB0dXJlZFRyYWNlPVIsUi5wcm90b3R5cGUudW5jeWNsZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2xlbmd0aDtpZighKDI+dCkpe2Zvcih2YXIgZT1bXSxuPXt9LHI9MCxpPXRoaXM7dm9pZCAwIT09aTsrK3IpZS5wdXNoKGkpLGk9aS5fcGFyZW50O3Q9dGhpcy5fbGVuZ3RoPXI7Zm9yKHZhciByPXQtMTtyPj0wOy0tcil7dmFyIG89ZVtyXS5zdGFjazt2b2lkIDA9PT1uW29dJiYobltvXT1yKX1mb3IodmFyIHI9MDt0PnI7KytyKXt2YXIgcz1lW3JdLnN0YWNrLGE9bltzXTtpZih2b2lkIDAhPT1hJiZhIT09cil7YT4wJiYoZVthLTFdLl9wYXJlbnQ9dm9pZCAwLGVbYS0xXS5fbGVuZ3RoPTEpLGVbcl0uX3BhcmVudD12b2lkIDAsZVtyXS5fbGVuZ3RoPTE7dmFyIGM9cj4wP2Vbci0xXTp0aGlzO3QtMT5hPyhjLl9wYXJlbnQ9ZVthKzFdLGMuX3BhcmVudC51bmN5Y2xlKCksYy5fbGVuZ3RoPWMuX3BhcmVudC5fbGVuZ3RoKzEpOihjLl9wYXJlbnQ9dm9pZCAwLGMuX2xlbmd0aD0xKTtmb3IodmFyIHU9Yy5fbGVuZ3RoKzEsbD1yLTI7bD49MDstLWwpZVtsXS5fbGVuZ3RoPXUsdSsrO3JldHVybn19fX0sUi5wcm90b3R5cGUuYXR0YWNoRXh0cmFUcmFjZT1mdW5jdGlvbih0KXtpZighdC5fX3N0YWNrQ2xlYW5lZF9fKXt0aGlzLnVuY3ljbGUoKTtmb3IodmFyIGU9ayh0KSxuPWUubWVzc2FnZSxyPVtlLnN0YWNrXSxpPXRoaXM7dm9pZCAwIT09aTspci5wdXNoKEUoaS5zdGFjay5zcGxpdChcIlxcblwiKSkpLGk9aS5fcGFyZW50O3cociksYihyKSxWLm5vdEVudW1lcmFibGVQcm9wKHQsXCJzdGFja1wiLGcobixyKSksVi5ub3RFbnVtZXJhYmxlUHJvcCh0LFwiX19zdGFja0NsZWFuZWRfX1wiLCEwKX19O3ZhciBvdD1mdW5jdGlvbigpe3ZhciB0PS9eXFxzKmF0XFxzKi8sZT1mdW5jdGlvbih0LGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6dm9pZCAwIT09ZS5uYW1lJiZ2b2lkIDAhPT1lLm1lc3NhZ2U/ZS50b1N0cmluZygpOkYoZSl9O2lmKFwibnVtYmVyXCI9PXR5cGVvZiBFcnJvci5zdGFja1RyYWNlTGltaXQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKXtFcnJvci5zdGFja1RyYWNlTGltaXQrPTYsUT10LCQ9ZTt2YXIgbj1FcnJvci5jYXB0dXJlU3RhY2tUcmFjZTtyZXR1cm4gcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIE0udGVzdCh0KX0sZnVuY3Rpb24odCxlKXtFcnJvci5zdGFja1RyYWNlTGltaXQrPTYsbih0LGUpLEVycm9yLnN0YWNrVHJhY2VMaW1pdC09Nn19dmFyIHI9bmV3IEVycm9yO2lmKFwic3RyaW5nXCI9PXR5cGVvZiByLnN0YWNrJiZyLnN0YWNrLnNwbGl0KFwiXFxuXCIpWzBdLmluZGV4T2YoXCJzdGFja0RldGVjdGlvbkBcIik+PTApcmV0dXJuIFE9L0AvLCQ9ZSx6PSEwLGZ1bmN0aW9uKHQpe3Quc3RhY2s9KG5ldyBFcnJvcikuc3RhY2t9O3ZhciBpO3RyeXt0aHJvdyBuZXcgRXJyb3J9Y2F0Y2gobyl7aT1cInN0YWNrXCJpbiBvfXJldHVyblwic3RhY2tcImluIHJ8fCFpfHxcIm51bWJlclwiIT10eXBlb2YgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0PygkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/dDpcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZXx8dm9pZCAwPT09ZS5uYW1lfHx2b2lkIDA9PT1lLm1lc3NhZ2U/RihlKTplLnRvU3RyaW5nKCl9LG51bGwpOihRPXQsJD1lLGZ1bmN0aW9uKHQpe0Vycm9yLnN0YWNrVHJhY2VMaW1pdCs9Njt0cnl7dGhyb3cgbmV3IEVycm9yfWNhdGNoKGUpe3Quc3RhY2s9ZS5zdGFja31FcnJvci5zdGFja1RyYWNlTGltaXQtPTZ9KX0oW10pO1widW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZS53YXJuJiYoRD1mdW5jdGlvbih0KXtjb25zb2xlLndhcm4odCl9LFYuaXNOb2RlJiZlLnN0ZGVyci5pc1RUWT9EPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZT9cIlx1MDAxYlszM21cIjpcIlx1MDAxYlszMW1cIjtjb25zb2xlLndhcm4obit0K1wiXHUwMDFiWzBtXFxuXCIpfTpWLmlzTm9kZXx8XCJzdHJpbmdcIiE9dHlwZW9mKG5ldyBFcnJvcikuc3RhY2t8fChEPWZ1bmN0aW9uKHQsZSl7Y29uc29sZS53YXJuKFwiJWNcIit0LGU/XCJjb2xvcjogZGFya29yYW5nZVwiOlwiY29sb3I6IHJlZFwiKX0pKTt2YXIgc3Q9e3dhcm5pbmdzOlcsbG9uZ1N0YWNrVHJhY2VzOiExLGNhbmNlbGxhdGlvbjohMSxtb25pdG9yaW5nOiExfTtyZXR1cm4gWCYmbi5sb25nU3RhY2tUcmFjZXMoKSx7bG9uZ1N0YWNrVHJhY2VzOmZ1bmN0aW9uKCl7cmV0dXJuIHN0LmxvbmdTdGFja1RyYWNlc30sd2FybmluZ3M6ZnVuY3Rpb24oKXtyZXR1cm4gc3Qud2FybmluZ3N9LGNhbmNlbGxhdGlvbjpmdW5jdGlvbigpe3JldHVybiBzdC5jYW5jZWxsYXRpb259LG1vbml0b3Jpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gc3QubW9uaXRvcmluZ30scHJvcGFnYXRlRnJvbUZ1bmN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIG50fSxib3VuZFZhbHVlRnVuY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gaH0sY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zOnYsc2V0Qm91bmRzOk8sd2FybjptLGRlcHJlY2F0ZWQ6eSxDYXB0dXJlZFRyYWNlOlIsZmlyZURvbUV2ZW50OlksZmlyZUdsb2JhbEV2ZW50Olp9fX0se1wiLi9lcnJvcnNcIjoxMixcIi4vdXRpbFwiOjM2fV0sMTA6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiB0aGlzLnZhbHVlfWZ1bmN0aW9uIG4oKXt0aHJvdyB0aGlzLnJlYXNvbn10LnByb3RvdHlwZVtcInJldHVyblwiXT10LnByb3RvdHlwZS50aGVuUmV0dXJuPWZ1bmN0aW9uKG4pe3JldHVybiBuIGluc3RhbmNlb2YgdCYmbi5zdXBwcmVzc1VuaGFuZGxlZFJlamVjdGlvbnMoKSx0aGlzLl90aGVuKGUsdm9pZCAwLHZvaWQgMCx7dmFsdWU6bn0sdm9pZCAwKX0sdC5wcm90b3R5cGVbXCJ0aHJvd1wiXT10LnByb3RvdHlwZS50aGVuVGhyb3c9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3RoZW4obix2b2lkIDAsdm9pZCAwLHtyZWFzb246dH0sdm9pZCAwKX0sdC5wcm90b3R5cGUuY2F0Y2hUaHJvdz1mdW5jdGlvbih0KXtpZihhcmd1bWVudHMubGVuZ3RoPD0xKXJldHVybiB0aGlzLl90aGVuKHZvaWQgMCxuLHZvaWQgMCx7cmVhc29uOnR9LHZvaWQgMCk7dmFyIGU9YXJndW1lbnRzWzFdLHI9ZnVuY3Rpb24oKXt0aHJvdyBlfTtyZXR1cm4gdGhpcy5jYXVnaHQodCxyKX0sdC5wcm90b3R5cGUuY2F0Y2hSZXR1cm49ZnVuY3Rpb24obil7aWYoYXJndW1lbnRzLmxlbmd0aDw9MSlyZXR1cm4gbiBpbnN0YW5jZW9mIHQmJm4uc3VwcHJlc3NVbmhhbmRsZWRSZWplY3Rpb25zKCksdGhpcy5fdGhlbih2b2lkIDAsZSx2b2lkIDAse3ZhbHVlOm59LHZvaWQgMCk7dmFyIHI9YXJndW1lbnRzWzFdO3IgaW5zdGFuY2VvZiB0JiZyLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucygpO3ZhciBpPWZ1bmN0aW9uKCl7cmV0dXJuIHJ9O3JldHVybiB0aGlzLmNhdWdodChuLGkpfX19LHt9XSwxMTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXtyZXR1cm4gbyh0aGlzKX1mdW5jdGlvbiByKHQsbil7cmV0dXJuIGkodCxuLGUsZSl9dmFyIGk9dC5yZWR1Y2Usbz10LmFsbDt0LnByb3RvdHlwZS5lYWNoPWZ1bmN0aW9uKHQpe3JldHVybiBpKHRoaXMsdCxlLDApLl90aGVuKG4sdm9pZCAwLHZvaWQgMCx0aGlzLHZvaWQgMCl9LHQucHJvdG90eXBlLm1hcFNlcmllcz1mdW5jdGlvbih0KXtyZXR1cm4gaSh0aGlzLHQsZSxlKX0sdC5lYWNoPWZ1bmN0aW9uKHQscil7cmV0dXJuIGkodCxyLGUsMCkuX3RoZW4obix2b2lkIDAsdm9pZCAwLHQsdm9pZCAwKX0sdC5tYXBTZXJpZXM9cn19LHt9XSwxMjpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXtmdW5jdGlvbiBuKHIpe3JldHVybiB0aGlzIGluc3RhbmNlb2Ygbj8oZih0aGlzLFwibWVzc2FnZVwiLFwic3RyaW5nXCI9PXR5cGVvZiByP3I6ZSksZih0aGlzLFwibmFtZVwiLHQpLHZvaWQoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2U/RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyx0aGlzLmNvbnN0cnVjdG9yKTpFcnJvci5jYWxsKHRoaXMpKSk6bmV3IG4ocil9cmV0dXJuIGwobixFcnJvciksbn1mdW5jdGlvbiBpKHQpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgaT8oZih0aGlzLFwibmFtZVwiLFwiT3BlcmF0aW9uYWxFcnJvclwiKSxmKHRoaXMsXCJtZXNzYWdlXCIsdCksdGhpcy5jYXVzZT10LHRoaXMuaXNPcGVyYXRpb25hbD0hMCx2b2lkKHQgaW5zdGFuY2VvZiBFcnJvcj8oZih0aGlzLFwibWVzc2FnZVwiLHQubWVzc2FnZSksZih0aGlzLFwic3RhY2tcIix0LnN0YWNrKSk6RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UmJkVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsdGhpcy5jb25zdHJ1Y3RvcikpKTpuZXcgaSh0KX12YXIgbyxzLGE9dChcIi4vZXM1XCIpLGM9YS5mcmVlemUsdT10KFwiLi91dGlsXCIpLGw9dS5pbmhlcml0cyxmPXUubm90RW51bWVyYWJsZVByb3AscD1yKFwiV2FybmluZ1wiLFwid2FybmluZ1wiKSxoPXIoXCJDYW5jZWxsYXRpb25FcnJvclwiLFwiY2FuY2VsbGF0aW9uIGVycm9yXCIpLGQ9cihcIlRpbWVvdXRFcnJvclwiLFwidGltZW91dCBlcnJvclwiKSxfPXIoXCJBZ2dyZWdhdGVFcnJvclwiLFwiYWdncmVnYXRlIGVycm9yXCIpO3RyeXtvPVR5cGVFcnJvcixzPVJhbmdlRXJyb3J9Y2F0Y2godil7bz1yKFwiVHlwZUVycm9yXCIsXCJ0eXBlIGVycm9yXCIpLHM9cihcIlJhbmdlRXJyb3JcIixcInJhbmdlIGVycm9yXCIpfWZvcih2YXIgeT1cImpvaW4gcG9wIHB1c2ggc2hpZnQgdW5zaGlmdCBzbGljZSBmaWx0ZXIgZm9yRWFjaCBzb21lIGV2ZXJ5IG1hcCBpbmRleE9mIGxhc3RJbmRleE9mIHJlZHVjZSByZWR1Y2VSaWdodCBzb3J0IHJldmVyc2VcIi5zcGxpdChcIiBcIiksbT0wO208eS5sZW5ndGg7KyttKVwiZnVuY3Rpb25cIj09dHlwZW9mIEFycmF5LnByb3RvdHlwZVt5W21dXSYmKF8ucHJvdG90eXBlW3lbbV1dPUFycmF5LnByb3RvdHlwZVt5W21dXSk7YS5kZWZpbmVQcm9wZXJ0eShfLnByb3RvdHlwZSxcImxlbmd0aFwiLHt2YWx1ZTowLGNvbmZpZ3VyYWJsZTohMSx3cml0YWJsZTohMCxlbnVtZXJhYmxlOiEwfSksXy5wcm90b3R5cGUuaXNPcGVyYXRpb25hbD0hMDt2YXIgZz0wO18ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9QXJyYXkoNCpnKzEpLmpvaW4oXCIgXCIpLGU9XCJcXG5cIit0K1wiQWdncmVnYXRlRXJyb3Igb2Y6XFxuXCI7ZysrLHQ9QXJyYXkoNCpnKzEpLmpvaW4oXCIgXCIpO2Zvcih2YXIgbj0wO248dGhpcy5sZW5ndGg7KytuKXtmb3IodmFyIHI9dGhpc1tuXT09PXRoaXM/XCJbQ2lyY3VsYXIgQWdncmVnYXRlRXJyb3JdXCI6dGhpc1tuXStcIlwiLGk9ci5zcGxpdChcIlxcblwiKSxvPTA7bzxpLmxlbmd0aDsrK28paVtvXT10K2lbb107cj1pLmpvaW4oXCJcXG5cIiksZSs9citcIlxcblwifXJldHVybiBnLS0sZX0sbChpLEVycm9yKTt2YXIgYj1FcnJvci5fX0JsdWViaXJkRXJyb3JUeXBlc19fO2J8fChiPWMoe0NhbmNlbGxhdGlvbkVycm9yOmgsVGltZW91dEVycm9yOmQsT3BlcmF0aW9uYWxFcnJvcjppLFJlamVjdGlvbkVycm9yOmksQWdncmVnYXRlRXJyb3I6X30pLGEuZGVmaW5lUHJvcGVydHkoRXJyb3IsXCJfX0JsdWViaXJkRXJyb3JUeXBlc19fXCIse3ZhbHVlOmIsd3JpdGFibGU6ITEsZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITF9KSksZS5leHBvcnRzPXtFcnJvcjpFcnJvcixUeXBlRXJyb3I6byxSYW5nZUVycm9yOnMsQ2FuY2VsbGF0aW9uRXJyb3I6Yi5DYW5jZWxsYXRpb25FcnJvcixPcGVyYXRpb25hbEVycm9yOmIuT3BlcmF0aW9uYWxFcnJvcixUaW1lb3V0RXJyb3I6Yi5UaW1lb3V0RXJyb3IsQWdncmVnYXRlRXJyb3I6Yi5BZ2dyZWdhdGVFcnJvcixXYXJuaW5nOnB9fSx7XCIuL2VzNVwiOjEzLFwiLi91dGlsXCI6MzZ9XSwxMzpbZnVuY3Rpb24odCxlLG4pe3ZhciByPWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHZvaWQgMD09PXRoaXN9KCk7aWYocillLmV4cG9ydHM9e2ZyZWV6ZTpPYmplY3QuZnJlZXplLGRlZmluZVByb3BlcnR5Ok9iamVjdC5kZWZpbmVQcm9wZXJ0eSxnZXREZXNjcmlwdG9yOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Isa2V5czpPYmplY3Qua2V5cyxuYW1lczpPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyxnZXRQcm90b3R5cGVPZjpPYmplY3QuZ2V0UHJvdG90eXBlT2YsaXNBcnJheTpBcnJheS5pc0FycmF5LGlzRVM1OnIscHJvcGVydHlJc1dyaXRhYmxlOmZ1bmN0aW9uKHQsZSl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpO3JldHVybiEobiYmIW4ud3JpdGFibGUmJiFuLnNldCl9fTtlbHNle3ZhciBpPXt9Lmhhc093blByb3BlcnR5LG89e30udG9TdHJpbmcscz17fS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsYT1mdW5jdGlvbih0KXt2YXIgZT1bXTtmb3IodmFyIG4gaW4gdClpLmNhbGwodCxuKSYmZS5wdXNoKG4pO3JldHVybiBlfSxjPWZ1bmN0aW9uKHQsZSl7cmV0dXJue3ZhbHVlOnRbZV19fSx1PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdFtlXT1uLnZhbHVlLHR9LGw9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGY9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBPYmplY3QodCkuY29uc3RydWN0b3IucHJvdG90eXBlfWNhdGNoKGUpe3JldHVybiBzfX0scD1mdW5jdGlvbih0KXt0cnl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT09by5jYWxsKHQpfWNhdGNoKGUpe3JldHVybiExfX07ZS5leHBvcnRzPXtpc0FycmF5OnAsa2V5czphLG5hbWVzOmEsZGVmaW5lUHJvcGVydHk6dSxnZXREZXNjcmlwdG9yOmMsZnJlZXplOmwsZ2V0UHJvdG90eXBlT2Y6Zixpc0VTNTpyLHByb3BlcnR5SXNXcml0YWJsZTpmdW5jdGlvbigpe3JldHVybiEwfX19fSx7fV0sMTQ6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj10Lm1hcDt0LnByb3RvdHlwZS5maWx0ZXI9ZnVuY3Rpb24odCxyKXtyZXR1cm4gbih0aGlzLHQscixlKX0sdC5maWx0ZXI9ZnVuY3Rpb24odCxyLGkpe3JldHVybiBuKHQscixpLGUpfX19LHt9XSwxNTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlLG4pe2Z1bmN0aW9uIHIodCxlLG4pe3RoaXMucHJvbWlzZT10LHRoaXMudHlwZT1lLHRoaXMuaGFuZGxlcj1uLHRoaXMuY2FsbGVkPSExLHRoaXMuY2FuY2VsUHJvbWlzZT1udWxsfWZ1bmN0aW9uIGkodCl7dGhpcy5maW5hbGx5SGFuZGxlcj10fWZ1bmN0aW9uIG8odCxlKXtyZXR1cm4gbnVsbCE9dC5jYW5jZWxQcm9taXNlPyhhcmd1bWVudHMubGVuZ3RoPjE/dC5jYW5jZWxQcm9taXNlLl9yZWplY3QoZSk6dC5jYW5jZWxQcm9taXNlLl9jYW5jZWwoKSx0LmNhbmNlbFByb21pc2U9bnVsbCwhMCk6ITF9ZnVuY3Rpb24gcygpe3JldHVybiBjLmNhbGwodGhpcyx0aGlzLnByb21pc2UuX3RhcmdldCgpLl9zZXR0bGVkVmFsdWUoKSl9ZnVuY3Rpb24gYSh0KXtyZXR1cm4gbyh0aGlzLHQpP3ZvaWQgMDooZi5lPXQsZil9ZnVuY3Rpb24gYyh0KXt2YXIgcj10aGlzLnByb21pc2UsYz10aGlzLmhhbmRsZXI7aWYoIXRoaXMuY2FsbGVkKXt0aGlzLmNhbGxlZD0hMDt2YXIgdT10aGlzLmlzRmluYWxseUhhbmRsZXIoKT9jLmNhbGwoci5fYm91bmRWYWx1ZSgpKTpjLmNhbGwoci5fYm91bmRWYWx1ZSgpLHQpO2lmKHZvaWQgMCE9PXUpe3IuX3NldFJldHVybmVkTm9uVW5kZWZpbmVkKCk7dmFyIHA9bih1LHIpO2lmKHAgaW5zdGFuY2VvZiBlKXtpZihudWxsIT10aGlzLmNhbmNlbFByb21pc2Upe2lmKHAuX2lzQ2FuY2VsbGVkKCkpe3ZhciBoPW5ldyBsKFwibGF0ZSBjYW5jZWxsYXRpb24gb2JzZXJ2ZXJcIik7cmV0dXJuIHIuX2F0dGFjaEV4dHJhVHJhY2UoaCksZi5lPWgsZn1wLmlzUGVuZGluZygpJiZwLl9hdHRhY2hDYW5jZWxsYXRpb25DYWxsYmFjayhuZXcgaSh0aGlzKSl9cmV0dXJuIHAuX3RoZW4ocyxhLHZvaWQgMCx0aGlzLHZvaWQgMCl9fX1yZXR1cm4gci5pc1JlamVjdGVkKCk/KG8odGhpcyksZi5lPXQsZik6KG8odGhpcyksdCl9dmFyIHU9dChcIi4vdXRpbFwiKSxsPWUuQ2FuY2VsbGF0aW9uRXJyb3IsZj11LmVycm9yT2JqO3JldHVybiByLnByb3RvdHlwZS5pc0ZpbmFsbHlIYW5kbGVyPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLnR5cGV9LGkucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtvKHRoaXMuZmluYWxseUhhbmRsZXIpfSxlLnByb3RvdHlwZS5fcGFzc1Rocm91Z2g9ZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuXCJmdW5jdGlvblwiIT10eXBlb2YgdD90aGlzLnRoZW4oKTp0aGlzLl90aGVuKG4saSx2b2lkIDAsbmV3IHIodGhpcyxlLHQpLHZvaWQgMCl9LGUucHJvdG90eXBlLmxhc3RseT1lLnByb3RvdHlwZVtcImZpbmFsbHlcIl09ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3Bhc3NUaHJvdWdoKHQsMCxjLGMpfSxlLnByb3RvdHlwZS50YXA9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3Bhc3NUaHJvdWdoKHQsMSxjKX0scn19LHtcIi4vdXRpbFwiOjM2fV0sMTY6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIsaSxvLHMpe2Z1bmN0aW9uIGEodCxuLHIpe2Zvcih2YXIgbz0wO288bi5sZW5ndGg7KytvKXtyLl9wdXNoQ29udGV4dCgpO3ZhciBzPWgobltvXSkodCk7aWYoci5fcG9wQ29udGV4dCgpLHM9PT1wKXtyLl9wdXNoQ29udGV4dCgpO3ZhciBhPWUucmVqZWN0KHAuZSk7cmV0dXJuIHIuX3BvcENvbnRleHQoKSxhfXZhciBjPWkocyxyKTtpZihjIGluc3RhbmNlb2YgZSlyZXR1cm4gY31yZXR1cm4gbnVsbH1mdW5jdGlvbiBjKHQsbixpLG8pe2lmKHMuY2FuY2VsbGF0aW9uKCkpe3ZhciBhPW5ldyBlKHIpLGM9dGhpcy5fZmluYWxseVByb21pc2U9bmV3IGUocik7dGhpcy5fcHJvbWlzZT1hLmxhc3RseShmdW5jdGlvbigpe3JldHVybiBjfSksYS5fY2FwdHVyZVN0YWNrVHJhY2UoKSxhLl9zZXRPbkNhbmNlbCh0aGlzKX1lbHNle3ZhciB1PXRoaXMuX3Byb21pc2U9bmV3IGUocik7dS5fY2FwdHVyZVN0YWNrVHJhY2UoKX10aGlzLl9zdGFjaz1vLHRoaXMuX2dlbmVyYXRvckZ1bmN0aW9uPXQsdGhpcy5fcmVjZWl2ZXI9bix0aGlzLl9nZW5lcmF0b3I9dm9pZCAwLHRoaXMuX3lpZWxkSGFuZGxlcnM9XCJmdW5jdGlvblwiPT10eXBlb2YgaT9baV0uY29uY2F0KGQpOmQsdGhpcy5feWllbGRlZFByb21pc2U9bnVsbCx0aGlzLl9jYW5jZWxsYXRpb25QaGFzZT0hMX12YXIgdT10KFwiLi9lcnJvcnNcIiksbD11LlR5cGVFcnJvcixmPXQoXCIuL3V0aWxcIikscD1mLmVycm9yT2JqLGg9Zi50cnlDYXRjaCxkPVtdO2YuaW5oZXJpdHMoYyxvKSxjLnByb3RvdHlwZS5faXNSZXNvbHZlZD1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5fcHJvbWlzZX0sYy5wcm90b3R5cGUuX2NsZWFudXA9ZnVuY3Rpb24oKXt0aGlzLl9wcm9taXNlPXRoaXMuX2dlbmVyYXRvcj1udWxsLHMuY2FuY2VsbGF0aW9uKCkmJm51bGwhPT10aGlzLl9maW5hbGx5UHJvbWlzZSYmKHRoaXMuX2ZpbmFsbHlQcm9taXNlLl9mdWxmaWxsKCksdGhpcy5fZmluYWxseVByb21pc2U9bnVsbCl9LGMucHJvdG90eXBlLl9wcm9taXNlQ2FuY2VsbGVkPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2lzUmVzb2x2ZWQoKSl7dmFyIHQsbj1cInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy5fZ2VuZXJhdG9yW1wicmV0dXJuXCJdO2lmKG4pdGhpcy5fcHJvbWlzZS5fcHVzaENvbnRleHQoKSx0PWgodGhpcy5fZ2VuZXJhdG9yW1wicmV0dXJuXCJdKS5jYWxsKHRoaXMuX2dlbmVyYXRvcix2b2lkIDApLHRoaXMuX3Byb21pc2UuX3BvcENvbnRleHQoKTtlbHNle3ZhciByPW5ldyBlLkNhbmNlbGxhdGlvbkVycm9yKFwiZ2VuZXJhdG9yIC5yZXR1cm4oKSBzZW50aW5lbFwiKTtlLmNvcm91dGluZS5yZXR1cm5TZW50aW5lbD1yLHRoaXMuX3Byb21pc2UuX2F0dGFjaEV4dHJhVHJhY2UociksdGhpcy5fcHJvbWlzZS5fcHVzaENvbnRleHQoKSx0PWgodGhpcy5fZ2VuZXJhdG9yW1widGhyb3dcIl0pLmNhbGwodGhpcy5fZ2VuZXJhdG9yLHIpLHRoaXMuX3Byb21pc2UuX3BvcENvbnRleHQoKX10aGlzLl9jYW5jZWxsYXRpb25QaGFzZT0hMCx0aGlzLl95aWVsZGVkUHJvbWlzZT1udWxsLHRoaXMuX2NvbnRpbnVlKHQpfX0sYy5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQ9ZnVuY3Rpb24odCl7dGhpcy5feWllbGRlZFByb21pc2U9bnVsbCx0aGlzLl9wcm9taXNlLl9wdXNoQ29udGV4dCgpO3ZhciBlPWgodGhpcy5fZ2VuZXJhdG9yLm5leHQpLmNhbGwodGhpcy5fZ2VuZXJhdG9yLHQpO3RoaXMuX3Byb21pc2UuX3BvcENvbnRleHQoKSx0aGlzLl9jb250aW51ZShlKX0sYy5wcm90b3R5cGUuX3Byb21pc2VSZWplY3RlZD1mdW5jdGlvbih0KXt0aGlzLl95aWVsZGVkUHJvbWlzZT1udWxsLHRoaXMuX3Byb21pc2UuX2F0dGFjaEV4dHJhVHJhY2UodCksdGhpcy5fcHJvbWlzZS5fcHVzaENvbnRleHQoKTt2YXIgZT1oKHRoaXMuX2dlbmVyYXRvcltcInRocm93XCJdKS5jYWxsKHRoaXMuX2dlbmVyYXRvcix0KTt0aGlzLl9wcm9taXNlLl9wb3BDb250ZXh0KCksdGhpcy5fY29udGludWUoZSl9LGMucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtpZih0aGlzLl95aWVsZGVkUHJvbWlzZSBpbnN0YW5jZW9mIGUpe3ZhciB0PXRoaXMuX3lpZWxkZWRQcm9taXNlO3RoaXMuX3lpZWxkZWRQcm9taXNlPW51bGwsdC5jYW5jZWwoKX19LGMucHJvdG90eXBlLnByb21pc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvbWlzZX0sYy5wcm90b3R5cGUuX3J1bj1mdW5jdGlvbigpe3RoaXMuX2dlbmVyYXRvcj10aGlzLl9nZW5lcmF0b3JGdW5jdGlvbi5jYWxsKHRoaXMuX3JlY2VpdmVyKSx0aGlzLl9yZWNlaXZlcj10aGlzLl9nZW5lcmF0b3JGdW5jdGlvbj12b2lkIDAsdGhpcy5fcHJvbWlzZUZ1bGZpbGxlZCh2b2lkIDApfSxjLnByb3RvdHlwZS5fY29udGludWU9ZnVuY3Rpb24odCl7dmFyIG49dGhpcy5fcHJvbWlzZTtpZih0PT09cClyZXR1cm4gdGhpcy5fY2xlYW51cCgpLHRoaXMuX2NhbmNlbGxhdGlvblBoYXNlP24uY2FuY2VsKCk6bi5fcmVqZWN0Q2FsbGJhY2sodC5lLCExKTt2YXIgcj10LnZhbHVlO2lmKHQuZG9uZT09PSEwKXJldHVybiB0aGlzLl9jbGVhbnVwKCksdGhpcy5fY2FuY2VsbGF0aW9uUGhhc2U/bi5jYW5jZWwoKTpuLl9yZXNvbHZlQ2FsbGJhY2socik7dmFyIG89aShyLHRoaXMuX3Byb21pc2UpO2lmKCEobyBpbnN0YW5jZW9mIGUpJiYobz1hKG8sdGhpcy5feWllbGRIYW5kbGVycyx0aGlzLl9wcm9taXNlKSxudWxsPT09bykpcmV0dXJuIHZvaWQgdGhpcy5fcHJvbWlzZVJlamVjdGVkKG5ldyBsKFwiQSB2YWx1ZSAlcyB3YXMgeWllbGRlZCB0aGF0IGNvdWxkIG5vdCBiZSB0cmVhdGVkIGFzIGEgcHJvbWlzZVxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cXG5cIi5yZXBsYWNlKFwiJXNcIixyKStcIkZyb20gY29yb3V0aW5lOlxcblwiK3RoaXMuX3N0YWNrLnNwbGl0KFwiXFxuXCIpLnNsaWNlKDEsLTcpLmpvaW4oXCJcXG5cIikpKTtvPW8uX3RhcmdldCgpO3ZhciBzPW8uX2JpdEZpZWxkOzA9PT0oNTAzOTcxODQmcyk/KHRoaXMuX3lpZWxkZWRQcm9taXNlPW8sby5fcHJveHkodGhpcyxudWxsKSk6MCE9PSgzMzU1NDQzMiZzKT9lLl9hc3luYy5pbnZva2UodGhpcy5fcHJvbWlzZUZ1bGZpbGxlZCx0aGlzLG8uX3ZhbHVlKCkpOjAhPT0oMTY3NzcyMTYmcyk/ZS5fYXN5bmMuaW52b2tlKHRoaXMuX3Byb21pc2VSZWplY3RlZCx0aGlzLG8uX3JlYXNvbigpKTp0aGlzLl9wcm9taXNlQ2FuY2VsbGVkKCl9LGUuY29yb3V0aW5lPWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgbChcImdlbmVyYXRvckZ1bmN0aW9uIG11c3QgYmUgYSBmdW5jdGlvblxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIik7dmFyIG49T2JqZWN0KGUpLnlpZWxkSGFuZGxlcixyPWMsaT0obmV3IEVycm9yKS5zdGFjaztyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT10LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxvPW5ldyByKHZvaWQgMCx2b2lkIDAsbixpKSxzPW8ucHJvbWlzZSgpO3JldHVybiBvLl9nZW5lcmF0b3I9ZSxvLl9wcm9taXNlRnVsZmlsbGVkKHZvaWQgMCksc319LGUuY29yb3V0aW5lLmFkZFlpZWxkSGFuZGxlcj1mdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBsKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIitmLmNsYXNzU3RyaW5nKHQpKTtkLnB1c2godCl9LGUuc3Bhd249ZnVuY3Rpb24odCl7aWYocy5kZXByZWNhdGVkKFwiUHJvbWlzZS5zcGF3bigpXCIsXCJQcm9taXNlLmNvcm91dGluZSgpXCIpLFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpcmV0dXJuIG4oXCJnZW5lcmF0b3JGdW5jdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb25cXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXCIpO1xuXHR2YXIgcj1uZXcgYyh0LHRoaXMpLGk9ci5wcm9taXNlKCk7cmV0dXJuIHIuX3J1bihlLnNwYXduKSxpfX19LHtcIi4vZXJyb3JzXCI6MTIsXCIuL3V0aWxcIjozNn1dLDE3OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyLGksbyxzKXt2YXIgYT10KFwiLi91dGlsXCIpO2EuY2FuRXZhbHVhdGUsYS50cnlDYXRjaCxhLmVycm9yT2JqO2Uuam9pbj1mdW5jdGlvbigpe3ZhciB0LGU9YXJndW1lbnRzLmxlbmd0aC0xO2lmKGU+MCYmXCJmdW5jdGlvblwiPT10eXBlb2YgYXJndW1lbnRzW2VdKXt0PWFyZ3VtZW50c1tlXTt2YXIgcn12YXIgaT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7dCYmaS5wb3AoKTt2YXIgcj1uZXcgbihpKS5wcm9taXNlKCk7cmV0dXJuIHZvaWQgMCE9PXQ/ci5zcHJlYWQodCk6cn19fSx7XCIuL3V0aWxcIjozNn1dLDE4OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyLGksbyxzKXtmdW5jdGlvbiBhKHQsZSxuLHIpe3RoaXMuY29uc3RydWN0b3IkKHQpLHRoaXMuX3Byb21pc2UuX2NhcHR1cmVTdGFja1RyYWNlKCk7dmFyIGk9dSgpO3RoaXMuX2NhbGxiYWNrPW51bGw9PT1pP2U6bC5kb21haW5CaW5kKGksZSksdGhpcy5fcHJlc2VydmVkVmFsdWVzPXI9PT1vP25ldyBBcnJheSh0aGlzLmxlbmd0aCgpKTpudWxsLHRoaXMuX2xpbWl0PW4sdGhpcy5faW5GbGlnaHQ9MCx0aGlzLl9xdWV1ZT1bXSxoLmludm9rZSh0aGlzLl9hc3luY0luaXQsdGhpcyx2b2lkIDApfWZ1bmN0aW9uIGModCxuLGksbyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgbilyZXR1cm4gcihcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIrbC5jbGFzc1N0cmluZyhuKSk7dmFyIHM9MDtpZih2b2lkIDAhPT1pKXtpZihcIm9iamVjdFwiIT10eXBlb2YgaXx8bnVsbD09PWkpcmV0dXJuIGUucmVqZWN0KG5ldyBUeXBlRXJyb3IoXCJvcHRpb25zIGFyZ3VtZW50IG11c3QgYmUgYW4gb2JqZWN0IGJ1dCBpdCBpcyBcIitsLmNsYXNzU3RyaW5nKGkpKSk7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGkuY29uY3VycmVuY3kpcmV0dXJuIGUucmVqZWN0KG5ldyBUeXBlRXJyb3IoXCInY29uY3VycmVuY3knIG11c3QgYmUgYSBudW1iZXIgYnV0IGl0IGlzIFwiK2wuY2xhc3NTdHJpbmcoaS5jb25jdXJyZW5jeSkpKTtzPWkuY29uY3VycmVuY3l9cmV0dXJuIHM9XCJudW1iZXJcIj09dHlwZW9mIHMmJmlzRmluaXRlKHMpJiZzPj0xP3M6MCxuZXcgYSh0LG4scyxvKS5wcm9taXNlKCl9dmFyIHU9ZS5fZ2V0RG9tYWluLGw9dChcIi4vdXRpbFwiKSxmPWwudHJ5Q2F0Y2gscD1sLmVycm9yT2JqLGg9ZS5fYXN5bmM7bC5pbmhlcml0cyhhLG4pLGEucHJvdG90eXBlLl9hc3luY0luaXQ9ZnVuY3Rpb24oKXt0aGlzLl9pbml0JCh2b2lkIDAsLTIpfSxhLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbigpe30sYS5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQ9ZnVuY3Rpb24odCxuKXt2YXIgcj10aGlzLl92YWx1ZXMsbz10aGlzLmxlbmd0aCgpLGE9dGhpcy5fcHJlc2VydmVkVmFsdWVzLGM9dGhpcy5fbGltaXQ7aWYoMD5uKXtpZihuPS0xKm4tMSxyW25dPXQsYz49MSYmKHRoaXMuX2luRmxpZ2h0LS0sdGhpcy5fZHJhaW5RdWV1ZSgpLHRoaXMuX2lzUmVzb2x2ZWQoKSkpcmV0dXJuITB9ZWxzZXtpZihjPj0xJiZ0aGlzLl9pbkZsaWdodD49YylyZXR1cm4gcltuXT10LHRoaXMuX3F1ZXVlLnB1c2gobiksITE7bnVsbCE9PWEmJihhW25dPXQpO3ZhciB1PXRoaXMuX3Byb21pc2UsbD10aGlzLl9jYWxsYmFjayxoPXUuX2JvdW5kVmFsdWUoKTt1Ll9wdXNoQ29udGV4dCgpO3ZhciBkPWYobCkuY2FsbChoLHQsbixvKSxfPXUuX3BvcENvbnRleHQoKTtpZihzLmNoZWNrRm9yZ290dGVuUmV0dXJucyhkLF8sbnVsbCE9PWE/XCJQcm9taXNlLmZpbHRlclwiOlwiUHJvbWlzZS5tYXBcIix1KSxkPT09cClyZXR1cm4gdGhpcy5fcmVqZWN0KGQuZSksITA7dmFyIHY9aShkLHRoaXMuX3Byb21pc2UpO2lmKHYgaW5zdGFuY2VvZiBlKXt2PXYuX3RhcmdldCgpO3ZhciB5PXYuX2JpdEZpZWxkO2lmKDA9PT0oNTAzOTcxODQmeSkpcmV0dXJuIGM+PTEmJnRoaXMuX2luRmxpZ2h0KysscltuXT12LHYuX3Byb3h5KHRoaXMsLTEqKG4rMSkpLCExO2lmKDA9PT0oMzM1NTQ0MzImeSkpcmV0dXJuIDAhPT0oMTY3NzcyMTYmeSk/KHRoaXMuX3JlamVjdCh2Ll9yZWFzb24oKSksITApOih0aGlzLl9jYW5jZWwoKSwhMCk7ZD12Ll92YWx1ZSgpfXJbbl09ZH12YXIgbT0rK3RoaXMuX3RvdGFsUmVzb2x2ZWQ7cmV0dXJuIG0+PW8/KG51bGwhPT1hP3RoaXMuX2ZpbHRlcihyLGEpOnRoaXMuX3Jlc29sdmUociksITApOiExfSxhLnByb3RvdHlwZS5fZHJhaW5RdWV1ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9xdWV1ZSxlPXRoaXMuX2xpbWl0LG49dGhpcy5fdmFsdWVzO3QubGVuZ3RoPjAmJnRoaXMuX2luRmxpZ2h0PGU7KXtpZih0aGlzLl9pc1Jlc29sdmVkKCkpcmV0dXJuO3ZhciByPXQucG9wKCk7dGhpcy5fcHJvbWlzZUZ1bGZpbGxlZChuW3JdLHIpfX0sYS5wcm90b3R5cGUuX2ZpbHRlcj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1lLmxlbmd0aCxyPW5ldyBBcnJheShuKSxpPTAsbz0wO24+bzsrK28pdFtvXSYmKHJbaSsrXT1lW29dKTtyLmxlbmd0aD1pLHRoaXMuX3Jlc29sdmUocil9LGEucHJvdG90eXBlLnByZXNlcnZlZFZhbHVlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcmVzZXJ2ZWRWYWx1ZXN9LGUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUpe3JldHVybiBjKHRoaXMsdCxlLG51bGwpfSxlLm1hcD1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gYyh0LGUsbixyKX19fSx7XCIuL3V0aWxcIjozNn1dLDE5OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyLGksbyl7dmFyIHM9dChcIi4vdXRpbFwiKSxhPXMudHJ5Q2F0Y2g7ZS5tZXRob2Q9ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgZS5UeXBlRXJyb3IoXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiK3MuY2xhc3NTdHJpbmcodCkpO3JldHVybiBmdW5jdGlvbigpe3ZhciByPW5ldyBlKG4pO3IuX2NhcHR1cmVTdGFja1RyYWNlKCksci5fcHVzaENvbnRleHQoKTt2YXIgaT1hKHQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxzPXIuX3BvcENvbnRleHQoKTtyZXR1cm4gby5jaGVja0ZvcmdvdHRlblJldHVybnMoaSxzLFwiUHJvbWlzZS5tZXRob2RcIixyKSxyLl9yZXNvbHZlRnJvbVN5bmNWYWx1ZShpKSxyfX0sZS5hdHRlbXB0PWVbXCJ0cnlcIl09ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdClyZXR1cm4gaShcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIrcy5jbGFzc1N0cmluZyh0KSk7dmFyIHI9bmV3IGUobik7ci5fY2FwdHVyZVN0YWNrVHJhY2UoKSxyLl9wdXNoQ29udGV4dCgpO3ZhciBjO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSl7by5kZXByZWNhdGVkKFwiY2FsbGluZyBQcm9taXNlLnRyeSB3aXRoIG1vcmUgdGhhbiAxIGFyZ3VtZW50XCIpO3ZhciB1PWFyZ3VtZW50c1sxXSxsPWFyZ3VtZW50c1syXTtjPXMuaXNBcnJheSh1KT9hKHQpLmFwcGx5KGwsdSk6YSh0KS5jYWxsKGwsdSl9ZWxzZSBjPWEodCkoKTt2YXIgZj1yLl9wb3BDb250ZXh0KCk7cmV0dXJuIG8uY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zKGMsZixcIlByb21pc2UudHJ5XCIsciksci5fcmVzb2x2ZUZyb21TeW5jVmFsdWUoYykscn0sZS5wcm90b3R5cGUuX3Jlc29sdmVGcm9tU3luY1ZhbHVlPWZ1bmN0aW9uKHQpe3Q9PT1zLmVycm9yT2JqP3RoaXMuX3JlamVjdENhbGxiYWNrKHQuZSwhMSk6dGhpcy5fcmVzb2x2ZUNhbGxiYWNrKHQsITApfX19LHtcIi4vdXRpbFwiOjM2fV0sMjA6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0IGluc3RhbmNlb2YgRXJyb3ImJmwuZ2V0UHJvdG90eXBlT2YodCk9PT1FcnJvci5wcm90b3R5cGV9ZnVuY3Rpb24gaSh0KXt2YXIgZTtpZihyKHQpKXtlPW5ldyB1KHQpLGUubmFtZT10Lm5hbWUsZS5tZXNzYWdlPXQubWVzc2FnZSxlLnN0YWNrPXQuc3RhY2s7Zm9yKHZhciBuPWwua2V5cyh0KSxpPTA7aTxuLmxlbmd0aDsrK2kpe3ZhciBvPW5baV07Zi50ZXN0KG8pfHwoZVtvXT10W29dKX1yZXR1cm4gZX1yZXR1cm4gcy5tYXJrQXNPcmlnaW5hdGluZ0Zyb21SZWplY3Rpb24odCksdH1mdW5jdGlvbiBvKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4scil7aWYobnVsbCE9PXQpe2lmKG4pe3ZhciBvPWkoYShuKSk7dC5fYXR0YWNoRXh0cmFUcmFjZShvKSx0Ll9yZWplY3Qobyl9ZWxzZSBpZihlKXt2YXIgcz1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTt0Ll9mdWxmaWxsKHMpfWVsc2UgdC5fZnVsZmlsbChyKTt0PW51bGx9fX12YXIgcz10KFwiLi91dGlsXCIpLGE9cy5tYXliZVdyYXBBc0Vycm9yLGM9dChcIi4vZXJyb3JzXCIpLHU9Yy5PcGVyYXRpb25hbEVycm9yLGw9dChcIi4vZXM1XCIpLGY9L14oPzpuYW1lfG1lc3NhZ2V8c3RhY2t8Y2F1c2UpJC87ZS5leHBvcnRzPW99LHtcIi4vZXJyb3JzXCI6MTIsXCIuL2VzNVwiOjEzLFwiLi91dGlsXCI6MzZ9XSwyMTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKHQsZSl7dmFyIG49dGhpcztpZighby5pc0FycmF5KHQpKXJldHVybiByLmNhbGwobix0LGUpO3ZhciBpPWEoZSkuYXBwbHkobi5fYm91bmRWYWx1ZSgpLFtudWxsXS5jb25jYXQodCkpO2k9PT1jJiZzLnRocm93TGF0ZXIoaS5lKX1mdW5jdGlvbiByKHQsZSl7dmFyIG49dGhpcyxyPW4uX2JvdW5kVmFsdWUoKSxpPXZvaWQgMD09PXQ/YShlKS5jYWxsKHIsbnVsbCk6YShlKS5jYWxsKHIsbnVsbCx0KTtpPT09YyYmcy50aHJvd0xhdGVyKGkuZSl9ZnVuY3Rpb24gaSh0LGUpe3ZhciBuPXRoaXM7aWYoIXQpe3ZhciByPW5ldyBFcnJvcih0K1wiXCIpO3IuY2F1c2U9dCx0PXJ9dmFyIGk9YShlKS5jYWxsKG4uX2JvdW5kVmFsdWUoKSx0KTtpPT09YyYmcy50aHJvd0xhdGVyKGkuZSl9dmFyIG89dChcIi4vdXRpbFwiKSxzPWUuX2FzeW5jLGE9by50cnlDYXRjaCxjPW8uZXJyb3JPYmo7ZS5wcm90b3R5cGUuYXNDYWxsYmFjaz1lLnByb3RvdHlwZS5ub2RlaWZ5PWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdCl7dmFyIG89cjt2b2lkIDAhPT1lJiZPYmplY3QoZSkuc3ByZWFkJiYobz1uKSx0aGlzLl90aGVuKG8saSx2b2lkIDAsdGhpcyx0KX1yZXR1cm4gdGhpc319fSx7XCIuL3V0aWxcIjozNn1dLDIyOltmdW5jdGlvbih0LG4scil7XCJ1c2Ugc3RyaWN0XCI7bi5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcigpe31mdW5jdGlvbiBpKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgZyhcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIrZC5jbGFzc1N0cmluZyhlKSk7aWYodC5jb25zdHJ1Y3RvciE9PW8pdGhyb3cgbmV3IGcoXCJ0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgaW52b2tlZCBkaXJlY3RseVxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIil9ZnVuY3Rpb24gbyh0KXt0aGlzLl9iaXRGaWVsZD0wLHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlcjA9dm9pZCAwLHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwPXZvaWQgMCx0aGlzLl9wcm9taXNlMD12b2lkIDAsdGhpcy5fcmVjZWl2ZXIwPXZvaWQgMCx0IT09dyYmKGkodGhpcyx0KSx0aGlzLl9yZXNvbHZlRnJvbUV4ZWN1dG9yKHQpKSx0aGlzLl9wcm9taXNlQ3JlYXRlZCgpLHRoaXMuX2ZpcmVFdmVudChcInByb21pc2VDcmVhdGVkXCIsdGhpcyl9ZnVuY3Rpb24gcyh0KXt0aGlzLnByb21pc2UuX3Jlc29sdmVDYWxsYmFjayh0KX1mdW5jdGlvbiBhKHQpe3RoaXMucHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2sodCwhMSl9ZnVuY3Rpb24gYyh0KXt2YXIgZT1uZXcgbyh3KTtlLl9mdWxmaWxsbWVudEhhbmRsZXIwPXQsZS5fcmVqZWN0aW9uSGFuZGxlcjA9dCxlLl9wcm9taXNlMD10LGUuX3JlY2VpdmVyMD10fXZhciB1LGw9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGcoXCJjaXJjdWxhciBwcm9taXNlIHJlc29sdXRpb24gY2hhaW5cXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXCIpfSxmPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvLlByb21pc2VJbnNwZWN0aW9uKHRoaXMuX3RhcmdldCgpKX0scD1mdW5jdGlvbih0KXtyZXR1cm4gby5yZWplY3QobmV3IGcodCkpfSxoPXt9LGQ9dChcIi4vdXRpbFwiKTt1PWQuaXNOb2RlP2Z1bmN0aW9uKCl7dmFyIHQ9ZS5kb21haW47cmV0dXJuIHZvaWQgMD09PXQmJih0PW51bGwpLHR9OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGQubm90RW51bWVyYWJsZVByb3AobyxcIl9nZXREb21haW5cIix1KTt2YXIgXz10KFwiLi9lczVcIiksdj10KFwiLi9hc3luY1wiKSx5PW5ldyB2O18uZGVmaW5lUHJvcGVydHkobyxcIl9hc3luY1wiLHt2YWx1ZTp5fSk7dmFyIG09dChcIi4vZXJyb3JzXCIpLGc9by5UeXBlRXJyb3I9bS5UeXBlRXJyb3I7by5SYW5nZUVycm9yPW0uUmFuZ2VFcnJvcjt2YXIgYj1vLkNhbmNlbGxhdGlvbkVycm9yPW0uQ2FuY2VsbGF0aW9uRXJyb3I7by5UaW1lb3V0RXJyb3I9bS5UaW1lb3V0RXJyb3Isby5PcGVyYXRpb25hbEVycm9yPW0uT3BlcmF0aW9uYWxFcnJvcixvLlJlamVjdGlvbkVycm9yPW0uT3BlcmF0aW9uYWxFcnJvcixvLkFnZ3JlZ2F0ZUVycm9yPW0uQWdncmVnYXRlRXJyb3I7dmFyIHc9ZnVuY3Rpb24oKXt9LEU9e30sQz17fSxrPXQoXCIuL3RoZW5hYmxlc1wiKShvLHcpLGo9dChcIi4vcHJvbWlzZV9hcnJheVwiKShvLHcsayxwLHIpLHg9dChcIi4vY29udGV4dFwiKShvKSxGPXguY3JlYXRlLFQ9dChcIi4vZGVidWdnYWJpbGl0eVwiKShvLHgpLFM9KFQuQ2FwdHVyZWRUcmFjZSx0KFwiLi9maW5hbGx5XCIpKG8saykpLFA9dChcIi4vY2F0Y2hfZmlsdGVyXCIpKEMpLE89dChcIi4vbm9kZWJhY2tcIiksUj1kLmVycm9yT2JqLEE9ZC50cnlDYXRjaDtyZXR1cm4gby5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltvYmplY3QgUHJvbWlzZV1cIn0sby5wcm90b3R5cGUuY2F1Z2h0PW8ucHJvdG90eXBlW1wiY2F0Y2hcIl09ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDtpZihlPjEpe3ZhciBuLHI9bmV3IEFycmF5KGUtMSksaT0wO2ZvcihuPTA7ZS0xPm47KytuKXt2YXIgbz1hcmd1bWVudHNbbl07aWYoIWQuaXNPYmplY3QobykpcmV0dXJuIHAoXCJleHBlY3RpbmcgYW4gb2JqZWN0IGJ1dCBnb3QgQSBjYXRjaCBzdGF0ZW1lbnQgcHJlZGljYXRlIFwiK2QuY2xhc3NTdHJpbmcobykpO3JbaSsrXT1vfXJldHVybiByLmxlbmd0aD1pLHQ9YXJndW1lbnRzW25dLHRoaXMudGhlbih2b2lkIDAsUChyLHQsdGhpcykpfXJldHVybiB0aGlzLnRoZW4odm9pZCAwLHQpfSxvLnByb3RvdHlwZS5yZWZsZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RoZW4oZixmLHZvaWQgMCx0aGlzLHZvaWQgMCl9LG8ucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24odCxlKXtpZihULndhcm5pbmdzKCkmJmFyZ3VtZW50cy5sZW5ndGg+MCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgZSl7dmFyIG49XCIudGhlbigpIG9ubHkgYWNjZXB0cyBmdW5jdGlvbnMgYnV0IHdhcyBwYXNzZWQ6IFwiK2QuY2xhc3NTdHJpbmcodCk7YXJndW1lbnRzLmxlbmd0aD4xJiYobis9XCIsIFwiK2QuY2xhc3NTdHJpbmcoZSkpLHRoaXMuX3dhcm4obil9cmV0dXJuIHRoaXMuX3RoZW4odCxlLHZvaWQgMCx2b2lkIDAsdm9pZCAwKX0sby5wcm90b3R5cGUuZG9uZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX3RoZW4odCxlLHZvaWQgMCx2b2lkIDAsdm9pZCAwKTtuLl9zZXRJc0ZpbmFsKCl9LG8ucHJvdG90eXBlLnNwcmVhZD1mdW5jdGlvbih0KXtyZXR1cm5cImZ1bmN0aW9uXCIhPXR5cGVvZiB0P3AoXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiK2QuY2xhc3NTdHJpbmcodCkpOnRoaXMuYWxsKCkuX3RoZW4odCx2b2lkIDAsdm9pZCAwLEUsdm9pZCAwKX0sby5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIHQ9e2lzRnVsZmlsbGVkOiExLGlzUmVqZWN0ZWQ6ITEsZnVsZmlsbG1lbnRWYWx1ZTp2b2lkIDAscmVqZWN0aW9uUmVhc29uOnZvaWQgMH07cmV0dXJuIHRoaXMuaXNGdWxmaWxsZWQoKT8odC5mdWxmaWxsbWVudFZhbHVlPXRoaXMudmFsdWUoKSx0LmlzRnVsZmlsbGVkPSEwKTp0aGlzLmlzUmVqZWN0ZWQoKSYmKHQucmVqZWN0aW9uUmVhc29uPXRoaXMucmVhc29uKCksdC5pc1JlamVjdGVkPSEwKSx0fSxvLnByb3RvdHlwZS5hbGw9ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wJiZ0aGlzLl93YXJuKFwiLmFsbCgpIHdhcyBwYXNzZWQgYXJndW1lbnRzIGJ1dCBpdCBkb2VzIG5vdCB0YWtlIGFueVwiKSxuZXcgaih0aGlzKS5wcm9taXNlKCl9LG8ucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNhdWdodChkLm9yaWdpbmF0ZXNGcm9tUmVqZWN0aW9uLHQpfSxvLmdldE5ld0xpYnJhcnlDb3B5PW4uZXhwb3J0cyxvLmlzPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2Ygb30sby5mcm9tTm9kZT1vLmZyb21DYWxsYmFjaz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgbyh3KTtlLl9jYXB0dXJlU3RhY2tUcmFjZSgpO3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MT8hIU9iamVjdChhcmd1bWVudHNbMV0pLm11bHRpQXJnczohMSxyPUEodCkoTyhlLG4pKTtyZXR1cm4gcj09PVImJmUuX3JlamVjdENhbGxiYWNrKHIuZSwhMCksZS5faXNGYXRlU2VhbGVkKCl8fGUuX3NldEFzeW5jR3VhcmFudGVlZCgpLGV9LG8uYWxsPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgaih0KS5wcm9taXNlKCl9LG8uY2FzdD1mdW5jdGlvbih0KXt2YXIgZT1rKHQpO3JldHVybiBlIGluc3RhbmNlb2Ygb3x8KGU9bmV3IG8odyksZS5fY2FwdHVyZVN0YWNrVHJhY2UoKSxlLl9zZXRGdWxmaWxsZWQoKSxlLl9yZWplY3Rpb25IYW5kbGVyMD10KSxlfSxvLnJlc29sdmU9by5mdWxmaWxsZWQ9by5jYXN0LG8ucmVqZWN0PW8ucmVqZWN0ZWQ9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IG8odyk7cmV0dXJuIGUuX2NhcHR1cmVTdGFja1RyYWNlKCksZS5fcmVqZWN0Q2FsbGJhY2sodCwhMCksZX0sby5zZXRTY2hlZHVsZXI9ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgZyhcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIrZC5jbGFzc1N0cmluZyh0KSk7cmV0dXJuIHkuc2V0U2NoZWR1bGVyKHQpfSxvLnByb3RvdHlwZS5fdGhlbj1mdW5jdGlvbih0LGUsbixyLGkpe3ZhciBzPXZvaWQgMCE9PWksYT1zP2k6bmV3IG8odyksYz10aGlzLl90YXJnZXQoKSxsPWMuX2JpdEZpZWxkO3N8fChhLl9wcm9wYWdhdGVGcm9tKHRoaXMsMyksYS5fY2FwdHVyZVN0YWNrVHJhY2UoKSx2b2lkIDA9PT1yJiYwIT09KDIwOTcxNTImdGhpcy5fYml0RmllbGQpJiYocj0wIT09KDUwMzk3MTg0JmwpP3RoaXMuX2JvdW5kVmFsdWUoKTpjPT09dGhpcz92b2lkIDA6dGhpcy5fYm91bmRUbyksdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZUNoYWluZWRcIix0aGlzLGEpKTt2YXIgZj11KCk7aWYoMCE9PSg1MDM5NzE4NCZsKSl7dmFyIHAsaCxfPWMuX3NldHRsZVByb21pc2VDdHg7MCE9PSgzMzU1NDQzMiZsKT8oaD1jLl9yZWplY3Rpb25IYW5kbGVyMCxwPXQpOjAhPT0oMTY3NzcyMTYmbCk/KGg9Yy5fZnVsZmlsbG1lbnRIYW5kbGVyMCxwPWUsYy5fdW5zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZCgpKTooXz1jLl9zZXR0bGVQcm9taXNlTGF0ZUNhbmNlbGxhdGlvbk9ic2VydmVyLGg9bmV3IGIoXCJsYXRlIGNhbmNlbGxhdGlvbiBvYnNlcnZlclwiKSxjLl9hdHRhY2hFeHRyYVRyYWNlKGgpLHA9ZSkseS5pbnZva2UoXyxjLHtoYW5kbGVyOm51bGw9PT1mP3A6XCJmdW5jdGlvblwiPT10eXBlb2YgcCYmZC5kb21haW5CaW5kKGYscCkscHJvbWlzZTphLHJlY2VpdmVyOnIsdmFsdWU6aH0pfWVsc2UgYy5fYWRkQ2FsbGJhY2tzKHQsZSxhLHIsZik7cmV0dXJuIGF9LG8ucHJvdG90eXBlLl9sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gNjU1MzUmdGhpcy5fYml0RmllbGR9LG8ucHJvdG90eXBlLl9pc0ZhdGVTZWFsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PSgxMTc1MDYwNDgmdGhpcy5fYml0RmllbGQpfSxvLnByb3RvdHlwZS5faXNGb2xsb3dpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gNjcxMDg4NjQ9PT0oNjcxMDg4NjQmdGhpcy5fYml0RmllbGQpfSxvLnByb3RvdHlwZS5fc2V0TGVuZ3RoPWZ1bmN0aW9uKHQpe3RoaXMuX2JpdEZpZWxkPS02NTUzNiZ0aGlzLl9iaXRGaWVsZHw2NTUzNSZ0fSxvLnByb3RvdHlwZS5fc2V0RnVsZmlsbGVkPWZ1bmN0aW9uKCl7dGhpcy5fYml0RmllbGQ9MzM1NTQ0MzJ8dGhpcy5fYml0RmllbGQsdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZUZ1bGZpbGxlZFwiLHRoaXMpfSxvLnByb3RvdHlwZS5fc2V0UmVqZWN0ZWQ9ZnVuY3Rpb24oKXt0aGlzLl9iaXRGaWVsZD0xNjc3NzIxNnx0aGlzLl9iaXRGaWVsZCx0aGlzLl9maXJlRXZlbnQoXCJwcm9taXNlUmVqZWN0ZWRcIix0aGlzKX0sby5wcm90b3R5cGUuX3NldEZvbGxvd2luZz1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPTY3MTA4ODY0fHRoaXMuX2JpdEZpZWxkLHRoaXMuX2ZpcmVFdmVudChcInByb21pc2VSZXNvbHZlZFwiLHRoaXMpfSxvLnByb3RvdHlwZS5fc2V0SXNGaW5hbD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPTQxOTQzMDR8dGhpcy5fYml0RmllbGR9LG8ucHJvdG90eXBlLl9pc0ZpbmFsPWZ1bmN0aW9uKCl7cmV0dXJuKDQxOTQzMDQmdGhpcy5fYml0RmllbGQpPjB9LG8ucHJvdG90eXBlLl91bnNldENhbmNlbGxlZD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPS02NTUzNyZ0aGlzLl9iaXRGaWVsZH0sby5wcm90b3R5cGUuX3NldENhbmNlbGxlZD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPTY1NTM2fHRoaXMuX2JpdEZpZWxkLHRoaXMuX2ZpcmVFdmVudChcInByb21pc2VDYW5jZWxsZWRcIix0aGlzKX0sby5wcm90b3R5cGUuX3NldFdpbGxCZUNhbmNlbGxlZD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPTgzODg2MDh8dGhpcy5fYml0RmllbGR9LG8ucHJvdG90eXBlLl9zZXRBc3luY0d1YXJhbnRlZWQ9ZnVuY3Rpb24oKXt5Lmhhc0N1c3RvbVNjaGVkdWxlcigpfHwodGhpcy5fYml0RmllbGQ9MTM0MjE3NzI4fHRoaXMuX2JpdEZpZWxkKX0sby5wcm90b3R5cGUuX3JlY2VpdmVyQXQ9ZnVuY3Rpb24odCl7dmFyIGU9MD09PXQ/dGhpcy5fcmVjZWl2ZXIwOnRoaXNbNCp0LTQrM107aWYoZSE9PWgpcmV0dXJuIHZvaWQgMD09PWUmJnRoaXMuX2lzQm91bmQoKT90aGlzLl9ib3VuZFZhbHVlKCk6ZX0sby5wcm90b3R5cGUuX3Byb21pc2VBdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpc1s0KnQtNCsyXX0sby5wcm90b3R5cGUuX2Z1bGZpbGxtZW50SGFuZGxlckF0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzWzQqdC00KzBdfSxvLnByb3RvdHlwZS5fcmVqZWN0aW9uSGFuZGxlckF0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzWzQqdC00KzFdfSxvLnByb3RvdHlwZS5fYm91bmRWYWx1ZT1mdW5jdGlvbigpe30sby5wcm90b3R5cGUuX21pZ3JhdGVDYWxsYmFjazA9ZnVuY3Rpb24odCl7dmFyIGU9KHQuX2JpdEZpZWxkLHQuX2Z1bGZpbGxtZW50SGFuZGxlcjApLG49dC5fcmVqZWN0aW9uSGFuZGxlcjAscj10Ll9wcm9taXNlMCxpPXQuX3JlY2VpdmVyQXQoMCk7dm9pZCAwPT09aSYmKGk9aCksdGhpcy5fYWRkQ2FsbGJhY2tzKGUsbixyLGksbnVsbCl9LG8ucHJvdG90eXBlLl9taWdyYXRlQ2FsbGJhY2tBdD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuX2Z1bGZpbGxtZW50SGFuZGxlckF0KGUpLHI9dC5fcmVqZWN0aW9uSGFuZGxlckF0KGUpLGk9dC5fcHJvbWlzZUF0KGUpLG89dC5fcmVjZWl2ZXJBdChlKTt2b2lkIDA9PT1vJiYobz1oKSx0aGlzLl9hZGRDYWxsYmFja3MobixyLGksbyxudWxsKX0sby5wcm90b3R5cGUuX2FkZENhbGxiYWNrcz1mdW5jdGlvbih0LGUsbixyLGkpe3ZhciBvPXRoaXMuX2xlbmd0aCgpO2lmKG8+PTY1NTMxJiYobz0wLHRoaXMuX3NldExlbmd0aCgwKSksMD09PW8pdGhpcy5fcHJvbWlzZTA9bix0aGlzLl9yZWNlaXZlcjA9cixcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYodGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyMD1udWxsPT09aT90OmQuZG9tYWluQmluZChpLHQpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYodGhpcy5fcmVqZWN0aW9uSGFuZGxlcjA9bnVsbD09PWk/ZTpkLmRvbWFpbkJpbmQoaSxlKSk7ZWxzZXt2YXIgcz00Km8tNDt0aGlzW3MrMl09bix0aGlzW3MrM109cixcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYodGhpc1tzKzBdPW51bGw9PT1pP3Q6ZC5kb21haW5CaW5kKGksdCkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJih0aGlzW3MrMV09bnVsbD09PWk/ZTpkLmRvbWFpbkJpbmQoaSxlKSl9cmV0dXJuIHRoaXMuX3NldExlbmd0aChvKzEpLG99LG8ucHJvdG90eXBlLl9wcm94eT1mdW5jdGlvbih0LGUpe3RoaXMuX2FkZENhbGxiYWNrcyh2b2lkIDAsdm9pZCAwLGUsdCxudWxsKX0sby5wcm90b3R5cGUuX3Jlc29sdmVDYWxsYmFjaz1mdW5jdGlvbih0LGUpe2lmKDA9PT0oMTE3NTA2MDQ4JnRoaXMuX2JpdEZpZWxkKSl7aWYodD09PXRoaXMpcmV0dXJuIHRoaXMuX3JlamVjdENhbGxiYWNrKGwoKSwhMSk7dmFyIG49ayh0LHRoaXMpO2lmKCEobiBpbnN0YW5jZW9mIG8pKXJldHVybiB0aGlzLl9mdWxmaWxsKHQpO2UmJnRoaXMuX3Byb3BhZ2F0ZUZyb20obiwyKTt2YXIgcj1uLl90YXJnZXQoKTtpZihyPT09dGhpcylyZXR1cm4gdm9pZCB0aGlzLl9yZWplY3QobCgpKTt2YXIgaT1yLl9iaXRGaWVsZDtpZigwPT09KDUwMzk3MTg0JmkpKXt2YXIgcz10aGlzLl9sZW5ndGgoKTtzPjAmJnIuX21pZ3JhdGVDYWxsYmFjazAodGhpcyk7Zm9yKHZhciBhPTE7cz5hOysrYSlyLl9taWdyYXRlQ2FsbGJhY2tBdCh0aGlzLGEpO3RoaXMuX3NldEZvbGxvd2luZygpLHRoaXMuX3NldExlbmd0aCgwKSx0aGlzLl9zZXRGb2xsb3dlZShyKX1lbHNlIGlmKDAhPT0oMzM1NTQ0MzImaSkpdGhpcy5fZnVsZmlsbChyLl92YWx1ZSgpKTtlbHNlIGlmKDAhPT0oMTY3NzcyMTYmaSkpdGhpcy5fcmVqZWN0KHIuX3JlYXNvbigpKTtlbHNle3ZhciBjPW5ldyBiKFwibGF0ZSBjYW5jZWxsYXRpb24gb2JzZXJ2ZXJcIik7ci5fYXR0YWNoRXh0cmFUcmFjZShjKSx0aGlzLl9yZWplY3QoYyl9fX0sby5wcm90b3R5cGUuX3JlamVjdENhbGxiYWNrPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1kLmVuc3VyZUVycm9yT2JqZWN0KHQpLGk9cj09PXQ7aWYoIWkmJiFuJiZULndhcm5pbmdzKCkpe3ZhciBvPVwiYSBwcm9taXNlIHdhcyByZWplY3RlZCB3aXRoIGEgbm9uLWVycm9yOiBcIitkLmNsYXNzU3RyaW5nKHQpO3RoaXMuX3dhcm4obywhMCl9dGhpcy5fYXR0YWNoRXh0cmFUcmFjZShyLGU/aTohMSksdGhpcy5fcmVqZWN0KHQpfSxvLnByb3RvdHlwZS5fcmVzb2x2ZUZyb21FeGVjdXRvcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuX2NhcHR1cmVTdGFja1RyYWNlKCksdGhpcy5fcHVzaENvbnRleHQoKTt2YXIgbj0hMCxyPXRoaXMuX2V4ZWN1dGUodCxmdW5jdGlvbih0KXtlLl9yZXNvbHZlQ2FsbGJhY2sodCl9LGZ1bmN0aW9uKHQpe2UuX3JlamVjdENhbGxiYWNrKHQsbil9KTtuPSExLHRoaXMuX3BvcENvbnRleHQoKSx2b2lkIDAhPT1yJiZlLl9yZWplY3RDYWxsYmFjayhyLCEwKX0sby5wcm90b3R5cGUuX3NldHRsZVByb21pc2VGcm9tSGFuZGxlcj1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT1yLl9iaXRGaWVsZDtpZigwPT09KDY1NTM2JmkpKXtyLl9wdXNoQ29udGV4dCgpO3ZhciBvO2U9PT1FP24mJlwibnVtYmVyXCI9PXR5cGVvZiBuLmxlbmd0aD9vPUEodCkuYXBwbHkodGhpcy5fYm91bmRWYWx1ZSgpLG4pOihvPVIsby5lPW5ldyBnKFwiY2Fubm90IC5zcHJlYWQoKSBhIG5vbi1hcnJheTogXCIrZC5jbGFzc1N0cmluZyhuKSkpOm89QSh0KS5jYWxsKGUsbik7dmFyIHM9ci5fcG9wQ29udGV4dCgpO2k9ci5fYml0RmllbGQsMD09PSg2NTUzNiZpKSYmKG89PT1DP3IuX3JlamVjdChuKTpvPT09Uj9yLl9yZWplY3RDYWxsYmFjayhvLmUsITEpOihULmNoZWNrRm9yZ290dGVuUmV0dXJucyhvLHMsXCJcIixyLHRoaXMpLHIuX3Jlc29sdmVDYWxsYmFjayhvKSkpfX0sby5wcm90b3R5cGUuX3RhcmdldD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzO3QuX2lzRm9sbG93aW5nKCk7KXQ9dC5fZm9sbG93ZWUoKTtyZXR1cm4gdH0sby5wcm90b3R5cGUuX2ZvbGxvd2VlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwfSxvLnByb3RvdHlwZS5fc2V0Rm9sbG93ZWU9ZnVuY3Rpb24odCl7dGhpcy5fcmVqZWN0aW9uSGFuZGxlcjA9dH0sby5wcm90b3R5cGUuX3NldHRsZVByb21pc2U9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHM9dCBpbnN0YW5jZW9mIG8sYT10aGlzLl9iaXRGaWVsZCxjPTAhPT0oMTM0MjE3NzI4JmEpOzAhPT0oNjU1MzYmYSk/KHMmJnQuX2ludm9rZUludGVybmFsT25DYW5jZWwoKSxuIGluc3RhbmNlb2YgUyYmbi5pc0ZpbmFsbHlIYW5kbGVyKCk/KG4uY2FuY2VsUHJvbWlzZT10LEEoZSkuY2FsbChuLGkpPT09UiYmdC5fcmVqZWN0KFIuZSkpOmU9PT1mP3QuX2Z1bGZpbGwoZi5jYWxsKG4pKTpuIGluc3RhbmNlb2Ygcj9uLl9wcm9taXNlQ2FuY2VsbGVkKHQpOnN8fHQgaW5zdGFuY2VvZiBqP3QuX2NhbmNlbCgpOm4uY2FuY2VsKCkpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGU/cz8oYyYmdC5fc2V0QXN5bmNHdWFyYW50ZWVkKCksdGhpcy5fc2V0dGxlUHJvbWlzZUZyb21IYW5kbGVyKGUsbixpLHQpKTplLmNhbGwobixpLHQpOm4gaW5zdGFuY2VvZiByP24uX2lzUmVzb2x2ZWQoKXx8KDAhPT0oMzM1NTQ0MzImYSk/bi5fcHJvbWlzZUZ1bGZpbGxlZChpLHQpOm4uX3Byb21pc2VSZWplY3RlZChpLHQpKTpzJiYoYyYmdC5fc2V0QXN5bmNHdWFyYW50ZWVkKCksMCE9PSgzMzU1NDQzMiZhKT90Ll9mdWxmaWxsKGkpOnQuX3JlamVjdChpKSl9LG8ucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlTGF0ZUNhbmNlbGxhdGlvbk9ic2VydmVyPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaGFuZGxlcixuPXQucHJvbWlzZSxyPXQucmVjZWl2ZXIsaT10LnZhbHVlO1wiZnVuY3Rpb25cIj09dHlwZW9mIGU/biBpbnN0YW5jZW9mIG8/dGhpcy5fc2V0dGxlUHJvbWlzZUZyb21IYW5kbGVyKGUscixpLG4pOmUuY2FsbChyLGksbik6biBpbnN0YW5jZW9mIG8mJm4uX3JlamVjdChpKX0sby5wcm90b3R5cGUuX3NldHRsZVByb21pc2VDdHg9ZnVuY3Rpb24odCl7dGhpcy5fc2V0dGxlUHJvbWlzZSh0LnByb21pc2UsdC5oYW5kbGVyLHQucmVjZWl2ZXIsdC52YWx1ZSl9LG8ucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlMD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5fcHJvbWlzZTAsaT10aGlzLl9yZWNlaXZlckF0KDApO3RoaXMuX3Byb21pc2UwPXZvaWQgMCx0aGlzLl9yZWNlaXZlcjA9dm9pZCAwLHRoaXMuX3NldHRsZVByb21pc2Uocix0LGksZSl9LG8ucHJvdG90eXBlLl9jbGVhckNhbGxiYWNrRGF0YUF0SW5kZXg9ZnVuY3Rpb24odCl7dmFyIGU9NCp0LTQ7dGhpc1tlKzJdPXRoaXNbZSszXT10aGlzW2UrMF09dGhpc1tlKzFdPXZvaWQgMH0sby5wcm90b3R5cGUuX2Z1bGZpbGw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fYml0RmllbGQ7aWYoISgoMTE3NTA2MDQ4JmUpPj4+MTYpKXtpZih0PT09dGhpcyl7dmFyIG49bCgpO3JldHVybiB0aGlzLl9hdHRhY2hFeHRyYVRyYWNlKG4pLHRoaXMuX3JlamVjdChuKX10aGlzLl9zZXRGdWxmaWxsZWQoKSx0aGlzLl9yZWplY3Rpb25IYW5kbGVyMD10LCg2NTUzNSZlKT4wJiYoMCE9PSgxMzQyMTc3MjgmZSk/dGhpcy5fc2V0dGxlUHJvbWlzZXMoKTp5LnNldHRsZVByb21pc2VzKHRoaXMpKX19LG8ucHJvdG90eXBlLl9yZWplY3Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fYml0RmllbGQ7aWYoISgoMTE3NTA2MDQ4JmUpPj4+MTYpKXJldHVybiB0aGlzLl9zZXRSZWplY3RlZCgpLHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlcjA9dCx0aGlzLl9pc0ZpbmFsKCk/eS5mYXRhbEVycm9yKHQsZC5pc05vZGUpOnZvaWQoKDY1NTM1JmUpPjA/eS5zZXR0bGVQcm9taXNlcyh0aGlzKTp0aGlzLl9lbnN1cmVQb3NzaWJsZVJlamVjdGlvbkhhbmRsZWQoKSl9LG8ucHJvdG90eXBlLl9mdWxmaWxsUHJvbWlzZXM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MTt0Pm47bisrKXt2YXIgcj10aGlzLl9mdWxmaWxsbWVudEhhbmRsZXJBdChuKSxpPXRoaXMuX3Byb21pc2VBdChuKSxvPXRoaXMuX3JlY2VpdmVyQXQobik7dGhpcy5fY2xlYXJDYWxsYmFja0RhdGFBdEluZGV4KG4pLHRoaXMuX3NldHRsZVByb21pc2UoaSxyLG8sZSl9fSxvLnByb3RvdHlwZS5fcmVqZWN0UHJvbWlzZXM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MTt0Pm47bisrKXt2YXIgcj10aGlzLl9yZWplY3Rpb25IYW5kbGVyQXQobiksaT10aGlzLl9wcm9taXNlQXQobiksbz10aGlzLl9yZWNlaXZlckF0KG4pO3RoaXMuX2NsZWFyQ2FsbGJhY2tEYXRhQXRJbmRleChuKSx0aGlzLl9zZXR0bGVQcm9taXNlKGkscixvLGUpfX0sby5wcm90b3R5cGUuX3NldHRsZVByb21pc2VzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fYml0RmllbGQsZT02NTUzNSZ0O2lmKGU+MCl7aWYoMCE9PSgxNjg0Mjc1MiZ0KSl7dmFyIG49dGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyMDt0aGlzLl9zZXR0bGVQcm9taXNlMCh0aGlzLl9yZWplY3Rpb25IYW5kbGVyMCxuLHQpLHRoaXMuX3JlamVjdFByb21pc2VzKGUsbil9ZWxzZXt2YXIgcj10aGlzLl9yZWplY3Rpb25IYW5kbGVyMDt0aGlzLl9zZXR0bGVQcm9taXNlMCh0aGlzLl9mdWxmaWxsbWVudEhhbmRsZXIwLHIsdCksdGhpcy5fZnVsZmlsbFByb21pc2VzKGUscil9dGhpcy5fc2V0TGVuZ3RoKDApfXRoaXMuX2NsZWFyQ2FuY2VsbGF0aW9uRGF0YSgpfSxvLnByb3RvdHlwZS5fc2V0dGxlZFZhbHVlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fYml0RmllbGQ7cmV0dXJuIDAhPT0oMzM1NTQ0MzImdCk/dGhpcy5fcmVqZWN0aW9uSGFuZGxlcjA6MCE9PSgxNjc3NzIxNiZ0KT90aGlzLl9mdWxmaWxsbWVudEhhbmRsZXIwOnZvaWQgMH0sby5kZWZlcj1vLnBlbmRpbmc9ZnVuY3Rpb24oKXtULmRlcHJlY2F0ZWQoXCJQcm9taXNlLmRlZmVyXCIsXCJuZXcgUHJvbWlzZVwiKTt2YXIgdD1uZXcgbyh3KTtyZXR1cm57cHJvbWlzZTp0LHJlc29sdmU6cyxyZWplY3Q6YX19LGQubm90RW51bWVyYWJsZVByb3AobyxcIl9tYWtlU2VsZlJlc29sdXRpb25FcnJvclwiLGwpLHQoXCIuL21ldGhvZFwiKShvLHcsayxwLFQpLHQoXCIuL2JpbmRcIikobyx3LGssVCksdChcIi4vY2FuY2VsXCIpKG8saixwLFQpLHQoXCIuL2RpcmVjdF9yZXNvbHZlXCIpKG8pLHQoXCIuL3N5bmNocm9ub3VzX2luc3BlY3Rpb25cIikobyksdChcIi4vam9pblwiKShvLGosayx3LHksdSksby5Qcm9taXNlPW8sby52ZXJzaW9uPVwiMy40LjZcIix0KFwiLi9tYXAuanNcIikobyxqLHAsayx3LFQpLHQoXCIuL2NhbGxfZ2V0LmpzXCIpKG8pLHQoXCIuL3VzaW5nLmpzXCIpKG8scCxrLEYsdyxUKSx0KFwiLi90aW1lcnMuanNcIikobyx3LFQpLHQoXCIuL2dlbmVyYXRvcnMuanNcIikobyxwLHcsayxyLFQpLHQoXCIuL25vZGVpZnkuanNcIikobyksdChcIi4vcHJvbWlzaWZ5LmpzXCIpKG8sdyksdChcIi4vcHJvcHMuanNcIikobyxqLGsscCksdChcIi4vcmFjZS5qc1wiKShvLHcsayxwKSx0KFwiLi9yZWR1Y2UuanNcIikobyxqLHAsayx3LFQpLHQoXCIuL3NldHRsZS5qc1wiKShvLGosVCksdChcIi4vc29tZS5qc1wiKShvLGoscCksdChcIi4vZmlsdGVyLmpzXCIpKG8sdyksdChcIi4vZWFjaC5qc1wiKShvLHcpLHQoXCIuL2FueS5qc1wiKShvKSxkLnRvRmFzdFByb3BlcnRpZXMobyksZC50b0Zhc3RQcm9wZXJ0aWVzKG8ucHJvdG90eXBlKSxjKHthOjF9KSxjKHtiOjJ9KSxjKHtjOjN9KSxjKDEpLGMoZnVuY3Rpb24oKXt9KSxjKHZvaWQgMCksYyghMSksYyhuZXcgbyh3KSksVC5zZXRCb3VuZHModi5maXJzdExpbmVFcnJvcixkLmxhc3RMaW5lRXJyb3IpLG99fSx7XCIuL2FueS5qc1wiOjEsXCIuL2FzeW5jXCI6MixcIi4vYmluZFwiOjMsXCIuL2NhbGxfZ2V0LmpzXCI6NSxcIi4vY2FuY2VsXCI6NixcIi4vY2F0Y2hfZmlsdGVyXCI6NyxcIi4vY29udGV4dFwiOjgsXCIuL2RlYnVnZ2FiaWxpdHlcIjo5LFwiLi9kaXJlY3RfcmVzb2x2ZVwiOjEwLFwiLi9lYWNoLmpzXCI6MTEsXCIuL2Vycm9yc1wiOjEyLFwiLi9lczVcIjoxMyxcIi4vZmlsdGVyLmpzXCI6MTQsXCIuL2ZpbmFsbHlcIjoxNSxcIi4vZ2VuZXJhdG9ycy5qc1wiOjE2LFwiLi9qb2luXCI6MTcsXCIuL21hcC5qc1wiOjE4LFwiLi9tZXRob2RcIjoxOSxcIi4vbm9kZWJhY2tcIjoyMCxcIi4vbm9kZWlmeS5qc1wiOjIxLFwiLi9wcm9taXNlX2FycmF5XCI6MjMsXCIuL3Byb21pc2lmeS5qc1wiOjI0LFwiLi9wcm9wcy5qc1wiOjI1LFwiLi9yYWNlLmpzXCI6MjcsXCIuL3JlZHVjZS5qc1wiOjI4LFwiLi9zZXR0bGUuanNcIjozMCxcIi4vc29tZS5qc1wiOjMxLFwiLi9zeW5jaHJvbm91c19pbnNwZWN0aW9uXCI6MzIsXCIuL3RoZW5hYmxlc1wiOjMzLFwiLi90aW1lcnMuanNcIjozNCxcIi4vdXNpbmcuanNcIjozNSxcIi4vdXRpbFwiOjM2fV0sMjM6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIsaSxvKXtmdW5jdGlvbiBzKHQpe3N3aXRjaCh0KXtjYXNlLTI6cmV0dXJuW107Y2FzZS0zOnJldHVybnt9fX1mdW5jdGlvbiBhKHQpe3ZhciByPXRoaXMuX3Byb21pc2U9bmV3IGUobik7dCBpbnN0YW5jZW9mIGUmJnIuX3Byb3BhZ2F0ZUZyb20odCwzKSxyLl9zZXRPbkNhbmNlbCh0aGlzKSx0aGlzLl92YWx1ZXM9dCx0aGlzLl9sZW5ndGg9MCx0aGlzLl90b3RhbFJlc29sdmVkPTAsdGhpcy5faW5pdCh2b2lkIDAsLTIpfXZhciBjPXQoXCIuL3V0aWxcIik7Yy5pc0FycmF5O3JldHVybiBjLmluaGVyaXRzKGEsbyksYS5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlbmd0aH0sYS5wcm90b3R5cGUucHJvbWlzZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9taXNlfSxhLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbiB1KHQsbil7dmFyIG89cih0aGlzLl92YWx1ZXMsdGhpcy5fcHJvbWlzZSk7aWYobyBpbnN0YW5jZW9mIGUpe289by5fdGFyZ2V0KCk7dmFyIGE9by5fYml0RmllbGQ7aWYodGhpcy5fdmFsdWVzPW8sMD09PSg1MDM5NzE4NCZhKSlyZXR1cm4gdGhpcy5fcHJvbWlzZS5fc2V0QXN5bmNHdWFyYW50ZWVkKCksby5fdGhlbih1LHRoaXMuX3JlamVjdCx2b2lkIDAsdGhpcyxuKTtpZigwPT09KDMzNTU0NDMyJmEpKXJldHVybiAwIT09KDE2Nzc3MjE2JmEpP3RoaXMuX3JlamVjdChvLl9yZWFzb24oKSk6dGhpcy5fY2FuY2VsKCk7bz1vLl92YWx1ZSgpfWlmKG89Yy5hc0FycmF5KG8pLG51bGw9PT1vKXt2YXIgbD1pKFwiZXhwZWN0aW5nIGFuIGFycmF5IG9yIGFuIGl0ZXJhYmxlIG9iamVjdCBidXQgZ290IFwiK2MuY2xhc3NTdHJpbmcobykpLnJlYXNvbigpO3JldHVybiB2b2lkIHRoaXMuX3Byb21pc2UuX3JlamVjdENhbGxiYWNrKGwsITEpfXJldHVybiAwPT09by5sZW5ndGg/dm9pZCgtNT09PW4/dGhpcy5fcmVzb2x2ZUVtcHR5QXJyYXkoKTp0aGlzLl9yZXNvbHZlKHMobikpKTp2b2lkIHRoaXMuX2l0ZXJhdGUobyl9LGEucHJvdG90eXBlLl9pdGVyYXRlPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuZ2V0QWN0dWFsTGVuZ3RoKHQubGVuZ3RoKTt0aGlzLl9sZW5ndGg9bix0aGlzLl92YWx1ZXM9dGhpcy5zaG91bGRDb3B5VmFsdWVzKCk/bmV3IEFycmF5KG4pOnRoaXMuX3ZhbHVlcztmb3IodmFyIGk9dGhpcy5fcHJvbWlzZSxvPSExLHM9bnVsbCxhPTA7bj5hOysrYSl7dmFyIGM9cih0W2FdLGkpO2MgaW5zdGFuY2VvZiBlPyhjPWMuX3RhcmdldCgpLHM9Yy5fYml0RmllbGQpOnM9bnVsbCxvP251bGwhPT1zJiZjLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucygpOm51bGwhPT1zPzA9PT0oNTAzOTcxODQmcyk/KGMuX3Byb3h5KHRoaXMsYSksdGhpcy5fdmFsdWVzW2FdPWMpOm89MCE9PSgzMzU1NDQzMiZzKT90aGlzLl9wcm9taXNlRnVsZmlsbGVkKGMuX3ZhbHVlKCksYSk6MCE9PSgxNjc3NzIxNiZzKT90aGlzLl9wcm9taXNlUmVqZWN0ZWQoYy5fcmVhc29uKCksYSk6dGhpcy5fcHJvbWlzZUNhbmNlbGxlZChhKTpvPXRoaXMuX3Byb21pc2VGdWxmaWxsZWQoYyxhKX1vfHxpLl9zZXRBc3luY0d1YXJhbnRlZWQoKX0sYS5wcm90b3R5cGUuX2lzUmVzb2x2ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuX3ZhbHVlc30sYS5wcm90b3R5cGUuX3Jlc29sdmU9ZnVuY3Rpb24odCl7dGhpcy5fdmFsdWVzPW51bGwsdGhpcy5fcHJvbWlzZS5fZnVsZmlsbCh0KX0sYS5wcm90b3R5cGUuX2NhbmNlbD1mdW5jdGlvbigpeyF0aGlzLl9pc1Jlc29sdmVkKCkmJnRoaXMuX3Byb21pc2UuX2lzQ2FuY2VsbGFibGUoKSYmKHRoaXMuX3ZhbHVlcz1udWxsLHRoaXMuX3Byb21pc2UuX2NhbmNlbCgpKX0sYS5wcm90b3R5cGUuX3JlamVjdD1mdW5jdGlvbih0KXt0aGlzLl92YWx1ZXM9bnVsbCx0aGlzLl9wcm9taXNlLl9yZWplY3RDYWxsYmFjayh0LCExKX0sYS5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQ9ZnVuY3Rpb24odCxlKXt0aGlzLl92YWx1ZXNbZV09dDt2YXIgbj0rK3RoaXMuX3RvdGFsUmVzb2x2ZWQ7cmV0dXJuIG4+PXRoaXMuX2xlbmd0aD8odGhpcy5fcmVzb2x2ZSh0aGlzLl92YWx1ZXMpLCEwKTohMX0sYS5wcm90b3R5cGUuX3Byb21pc2VDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FuY2VsKCksITB9LGEucHJvdG90eXBlLl9wcm9taXNlUmVqZWN0ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3RvdGFsUmVzb2x2ZWQrKyx0aGlzLl9yZWplY3QodCksITB9LGEucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5faXNSZXNvbHZlZCgpKXt2YXIgdD10aGlzLl92YWx1ZXM7aWYodGhpcy5fY2FuY2VsKCksdCBpbnN0YW5jZW9mIGUpdC5jYW5jZWwoKTtlbHNlIGZvcih2YXIgbj0wO248dC5sZW5ndGg7KytuKXRbbl1pbnN0YW5jZW9mIGUmJnRbbl0uY2FuY2VsKCl9fSxhLnByb3RvdHlwZS5zaG91bGRDb3B5VmFsdWVzPWZ1bmN0aW9uKCl7cmV0dXJuITB9LGEucHJvdG90eXBlLmdldEFjdHVhbExlbmd0aD1mdW5jdGlvbih0KXtyZXR1cm4gdH0sYX19LHtcIi4vdXRpbFwiOjM2fV0sMjQ6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiByKHQpe3JldHVybiFFLnRlc3QodCl9ZnVuY3Rpb24gaSh0KXt0cnl7cmV0dXJuIHQuX19pc1Byb21pc2lmaWVkX189PT0hMH1jYXRjaChlKXtyZXR1cm4hMX19ZnVuY3Rpb24gbyh0LGUsbil7dmFyIHI9aC5nZXREYXRhUHJvcGVydHlPckRlZmF1bHQodCxlK24sYik7cmV0dXJuIHI/aShyKTohMX1mdW5jdGlvbiBzKHQsZSxuKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrPTIpe3ZhciBpPXRbcl07aWYobi50ZXN0KGkpKWZvcih2YXIgbz1pLnJlcGxhY2UobixcIlwiKSxzPTA7czx0Lmxlbmd0aDtzKz0yKWlmKHRbc109PT1vKXRocm93IG5ldyBtKFwiQ2Fubm90IHByb21pc2lmeSBhbiBBUEkgdGhhdCBoYXMgbm9ybWFsIG1ldGhvZHMgd2l0aCAnJXMnLXN1ZmZpeFxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIi5yZXBsYWNlKFwiJXNcIixlKSl9fWZ1bmN0aW9uIGEodCxlLG4scil7Zm9yKHZhciBhPWguaW5oZXJpdGVkRGF0YUtleXModCksYz1bXSx1PTA7dTxhLmxlbmd0aDsrK3Upe3ZhciBsPWFbdV0sZj10W2xdLHA9cj09PUM/ITA6QyhsLGYsdCk7XCJmdW5jdGlvblwiIT10eXBlb2YgZnx8aShmKXx8byh0LGwsZSl8fCFyKGwsZix0LHApfHxjLnB1c2gobCxmKX1yZXR1cm4gcyhjLGUsbiksY31mdW5jdGlvbiBjKHQscixpLG8scyxhKXtmdW5jdGlvbiBjKCl7dmFyIGk9cjtyPT09cCYmKGk9dGhpcyk7dmFyIG89bmV3IGUobik7by5fY2FwdHVyZVN0YWNrVHJhY2UoKTt2YXIgcz1cInN0cmluZ1wiPT10eXBlb2YgbCYmdGhpcyE9PXU/dGhpc1tsXTp0LGM9ZChvLGEpO3RyeXtzLmFwcGx5KGksXyhhcmd1bWVudHMsYykpfWNhdGNoKGYpe28uX3JlamVjdENhbGxiYWNrKHYoZiksITAsITApfXJldHVybiBvLl9pc0ZhdGVTZWFsZWQoKXx8by5fc2V0QXN5bmNHdWFyYW50ZWVkKCksb312YXIgdT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpLGw9dDtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgbCYmKHQ9byksaC5ub3RFbnVtZXJhYmxlUHJvcChjLFwiX19pc1Byb21pc2lmaWVkX19cIiwhMCksY31mdW5jdGlvbiB1KHQsZSxuLHIsaSl7Zm9yKHZhciBvPW5ldyBSZWdFeHAoayhlKStcIiRcIikscz1hKHQsZSxvLG4pLGM9MCx1PXMubGVuZ3RoO3U+YztjKz0yKXt2YXIgbD1zW2NdLGY9c1tjKzFdLGQ9bCtlO2lmKHI9PT1qKXRbZF09aihsLHAsbCxmLGUsaSk7ZWxzZXt2YXIgXz1yKGYsZnVuY3Rpb24oKXtyZXR1cm4gaihsLHAsbCxmLGUsaSl9KTtoLm5vdEVudW1lcmFibGVQcm9wKF8sXCJfX2lzUHJvbWlzaWZpZWRfX1wiLCEwKSx0W2RdPV99fXJldHVybiBoLnRvRmFzdFByb3BlcnRpZXModCksdH1mdW5jdGlvbiBsKHQsZSxuKXtyZXR1cm4gaih0LGUsdm9pZCAwLHQsbnVsbCxuKX12YXIgZixwPXt9LGg9dChcIi4vdXRpbFwiKSxkPXQoXCIuL25vZGViYWNrXCIpLF89aC53aXRoQXBwZW5kZWQsdj1oLm1heWJlV3JhcEFzRXJyb3IseT1oLmNhbkV2YWx1YXRlLG09dChcIi4vZXJyb3JzXCIpLlR5cGVFcnJvcixnPVwiQXN5bmNcIixiPXtfX2lzUHJvbWlzaWZpZWRfXzohMH0sdz1bXCJhcml0eVwiLFwibGVuZ3RoXCIsXCJuYW1lXCIsXCJhcmd1bWVudHNcIixcImNhbGxlclwiLFwiY2FsbGVlXCIsXCJwcm90b3R5cGVcIixcIl9faXNQcm9taXNpZmllZF9fXCJdLEU9bmV3IFJlZ0V4cChcIl4oPzpcIit3LmpvaW4oXCJ8XCIpK1wiKSRcIiksQz1mdW5jdGlvbih0KXtyZXR1cm4gaC5pc0lkZW50aWZpZXIodCkmJlwiX1wiIT09dC5jaGFyQXQoMCkmJlwiY29uc3RydWN0b3JcIiE9PXR9LGs9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvKFskXSkvLFwiXFxcXCRcIil9LGo9eT9mOmM7ZS5wcm9taXNpZnk9ZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBtKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIitoLmNsYXNzU3RyaW5nKHQpKTtpZihpKHQpKXJldHVybiB0O2U9T2JqZWN0KGUpO3ZhciBuPXZvaWQgMD09PWUuY29udGV4dD9wOmUuY29udGV4dCxvPSEhZS5tdWx0aUFyZ3Mscz1sKHQsbixvKTtyZXR1cm4gaC5jb3B5RGVzY3JpcHRvcnModCxzLHIpLHN9LGUucHJvbWlzaWZ5QWxsPWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmXCJvYmplY3RcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IG0oXCJ0aGUgdGFyZ2V0IG9mIHByb21pc2lmeUFsbCBtdXN0IGJlIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKTtlPU9iamVjdChlKTt2YXIgbj0hIWUubXVsdGlBcmdzLHI9ZS5zdWZmaXg7XCJzdHJpbmdcIiE9dHlwZW9mIHImJihyPWcpO3ZhciBpPWUuZmlsdGVyO1wiZnVuY3Rpb25cIiE9dHlwZW9mIGkmJihpPUMpO3ZhciBvPWUucHJvbWlzaWZpZXI7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgbyYmKG89aiksIWguaXNJZGVudGlmaWVyKHIpKXRocm93IG5ldyBSYW5nZUVycm9yKFwic3VmZml4IG11c3QgYmUgYSB2YWxpZCBpZGVudGlmaWVyXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKTtmb3IodmFyIHM9aC5pbmhlcml0ZWREYXRhS2V5cyh0KSxhPTA7YTxzLmxlbmd0aDsrK2Epe3ZhciBjPXRbc1thXV07XCJjb25zdHJ1Y3RvclwiIT09c1thXSYmaC5pc0NsYXNzKGMpJiYodShjLnByb3RvdHlwZSxyLGksbyxuKSx1KGMscixpLG8sbikpfXJldHVybiB1KHQscixpLG8sbil9fX0se1wiLi9lcnJvcnNcIjoxMixcIi4vbm9kZWJhY2tcIjoyMCxcIi4vdXRpbFwiOjM2fV0sMjU6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIsaSl7ZnVuY3Rpb24gbyh0KXt2YXIgZSxuPSExO2lmKHZvaWQgMCE9PWEmJnQgaW5zdGFuY2VvZiBhKWU9Zih0KSxuPSEwO2Vsc2V7dmFyIHI9bC5rZXlzKHQpLGk9ci5sZW5ndGg7ZT1uZXcgQXJyYXkoMippKTtmb3IodmFyIG89MDtpPm87KytvKXt2YXIgcz1yW29dO2Vbb109dFtzXSxlW28raV09c319dGhpcy5jb25zdHJ1Y3RvciQoZSksdGhpcy5faXNNYXA9bix0aGlzLl9pbml0JCh2b2lkIDAsLTMpfWZ1bmN0aW9uIHModCl7dmFyIG4scz1yKHQpO3JldHVybiB1KHMpPyhuPXMgaW5zdGFuY2VvZiBlP3MuX3RoZW4oZS5wcm9wcyx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDApOm5ldyBvKHMpLnByb21pc2UoKSxzIGluc3RhbmNlb2YgZSYmbi5fcHJvcGFnYXRlRnJvbShzLDIpLG4pOmkoXCJjYW5ub3QgYXdhaXQgcHJvcGVydGllcyBvZiBhIG5vbi1vYmplY3RcXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXCIpfXZhciBhLGM9dChcIi4vdXRpbFwiKSx1PWMuaXNPYmplY3QsbD10KFwiLi9lczVcIik7XCJmdW5jdGlvblwiPT10eXBlb2YgTWFwJiYoYT1NYXApO3ZhciBmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LHIpe3RoaXNbZV09dCx0aGlzW2Urbl09cixlKyt9dmFyIGU9MCxuPTA7cmV0dXJuIGZ1bmN0aW9uKHIpe249ci5zaXplLGU9MDt2YXIgaT1uZXcgQXJyYXkoMipyLnNpemUpO3JldHVybiByLmZvckVhY2godCxpKSxpfX0oKSxwPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgYSxuPXQubGVuZ3RoLzJ8MCxyPTA7bj5yOysrcil7dmFyIGk9dFtuK3JdLG89dFtyXTtlLnNldChpLG8pfXJldHVybiBlfTtjLmluaGVyaXRzKG8sbiksby5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXt9LG8ucHJvdG90eXBlLl9wcm9taXNlRnVsZmlsbGVkPWZ1bmN0aW9uKHQsZSl7dGhpcy5fdmFsdWVzW2VdPXQ7dmFyIG49Kyt0aGlzLl90b3RhbFJlc29sdmVkO2lmKG4+PXRoaXMuX2xlbmd0aCl7dmFyIHI7aWYodGhpcy5faXNNYXApcj1wKHRoaXMuX3ZhbHVlcyk7ZWxzZXtyPXt9O2Zvcih2YXIgaT10aGlzLmxlbmd0aCgpLG89MCxzPXRoaXMubGVuZ3RoKCk7cz5vOysrbylyW3RoaXMuX3ZhbHVlc1tvK2ldXT10aGlzLl92YWx1ZXNbb119cmV0dXJuIHRoaXMuX3Jlc29sdmUociksITB9cmV0dXJuITF9LG8ucHJvdG90eXBlLnNob3VsZENvcHlWYWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sby5wcm90b3R5cGUuZ2V0QWN0dWFsTGVuZ3RoPWZ1bmN0aW9uKHQpe3JldHVybiB0Pj4xfSxlLnByb3RvdHlwZS5wcm9wcz1mdW5jdGlvbigpe3JldHVybiBzKHRoaXMpfSxlLnByb3BzPWZ1bmN0aW9uKHQpe3JldHVybiBzKHQpfX19LHtcIi4vZXM1XCI6MTMsXCIuL3V0aWxcIjozNn1dLDI2OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUsbixyLGkpe2Zvcih2YXIgbz0wO2k+bzsrK28pbltvK3JdPXRbbytlXSx0W28rZV09dm9pZCAwfWZ1bmN0aW9uIGkodCl7dGhpcy5fY2FwYWNpdHk9dCx0aGlzLl9sZW5ndGg9MCx0aGlzLl9mcm9udD0wfWkucHJvdG90eXBlLl93aWxsQmVPdmVyQ2FwYWNpdHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NhcGFjaXR5PHR9LGkucHJvdG90eXBlLl9wdXNoT25lPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubGVuZ3RoKCk7dGhpcy5fY2hlY2tDYXBhY2l0eShlKzEpO3ZhciBuPXRoaXMuX2Zyb250K2UmdGhpcy5fY2FwYWNpdHktMTt0aGlzW25dPXQsdGhpcy5fbGVuZ3RoPWUrMX0saS5wcm90b3R5cGUuX3Vuc2hpZnRPbmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY2FwYWNpdHk7dGhpcy5fY2hlY2tDYXBhY2l0eSh0aGlzLmxlbmd0aCgpKzEpO3ZhciBuPXRoaXMuX2Zyb250LHI9KG4tMSZlLTFeZSktZTt0aGlzW3JdPXQsdGhpcy5fZnJvbnQ9cix0aGlzLl9sZW5ndGg9dGhpcy5sZW5ndGgoKSsxfSxpLnByb3RvdHlwZS51bnNoaWZ0PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl91bnNoaWZ0T25lKG4pLHRoaXMuX3Vuc2hpZnRPbmUoZSksdGhpcy5fdW5zaGlmdE9uZSh0KX0saS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5sZW5ndGgoKSszO2lmKHRoaXMuX3dpbGxCZU92ZXJDYXBhY2l0eShyKSlyZXR1cm4gdGhpcy5fcHVzaE9uZSh0KSx0aGlzLl9wdXNoT25lKGUpLHZvaWQgdGhpcy5fcHVzaE9uZShuKTt2YXIgaT10aGlzLl9mcm9udCtyLTM7dGhpcy5fY2hlY2tDYXBhY2l0eShyKTt2YXIgbz10aGlzLl9jYXBhY2l0eS0xO3RoaXNbaSswJm9dPXQsdGhpc1tpKzEmb109ZSx0aGlzW2krMiZvXT1uLHRoaXMuX2xlbmd0aD1yfSxpLnByb3RvdHlwZS5zaGlmdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2Zyb250LGU9dGhpc1t0XTtyZXR1cm4gdGhpc1t0XT12b2lkIDAsdGhpcy5fZnJvbnQ9dCsxJnRoaXMuX2NhcGFjaXR5LTEsdGhpcy5fbGVuZ3RoLS0sZX0saS5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlbmd0aH0saS5wcm90b3R5cGUuX2NoZWNrQ2FwYWNpdHk9ZnVuY3Rpb24odCl7dGhpcy5fY2FwYWNpdHk8dCYmdGhpcy5fcmVzaXplVG8odGhpcy5fY2FwYWNpdHk8PDEpfSxpLnByb3RvdHlwZS5fcmVzaXplVG89ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY2FwYWNpdHk7dGhpcy5fY2FwYWNpdHk9dDt2YXIgbj10aGlzLl9mcm9udCxpPXRoaXMuX2xlbmd0aCxvPW4raSZlLTE7cih0aGlzLDAsdGhpcyxlLG8pfSxlLmV4cG9ydHM9aX0se31dLDI3OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyLGkpe2Z1bmN0aW9uIG8odCxvKXt2YXIgYz1yKHQpO2lmKGMgaW5zdGFuY2VvZiBlKXJldHVybiBhKGMpO2lmKHQ9cy5hc0FycmF5KHQpLG51bGw9PT10KXJldHVybiBpKFwiZXhwZWN0aW5nIGFuIGFycmF5IG9yIGFuIGl0ZXJhYmxlIG9iamVjdCBidXQgZ290IFwiK3MuY2xhc3NTdHJpbmcodCkpO3ZhciB1PW5ldyBlKG4pO3ZvaWQgMCE9PW8mJnUuX3Byb3BhZ2F0ZUZyb20obywzKTtmb3IodmFyIGw9dS5fZnVsZmlsbCxmPXUuX3JlamVjdCxwPTAsaD10Lmxlbmd0aDtoPnA7KytwKXt2YXIgZD10W3BdOyh2b2lkIDAhPT1kfHxwIGluIHQpJiZlLmNhc3QoZCkuX3RoZW4obCxmLHZvaWQgMCx1LG51bGwpfXJldHVybiB1fXZhciBzPXQoXCIuL3V0aWxcIiksYT1mdW5jdGlvbih0KXtyZXR1cm4gdC50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBvKGUsdCl9KX07ZS5yYWNlPWZ1bmN0aW9uKHQpe3JldHVybiBvKHQsdm9pZCAwKX0sZS5wcm90b3R5cGUucmFjZT1mdW5jdGlvbigpe3JldHVybiBvKHRoaXMsdm9pZCAwKX19fSx7XCIuL3V0aWxcIjozNn1dLDI4OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyLGksbyxzKXtmdW5jdGlvbiBhKHQsbixyLGkpe3RoaXMuY29uc3RydWN0b3IkKHQpO3ZhciBzPXAoKTt0aGlzLl9mbj1udWxsPT09cz9uOmguZG9tYWluQmluZChzLG4pLHZvaWQgMCE9PXImJihyPWUucmVzb2x2ZShyKSxyLl9hdHRhY2hDYW5jZWxsYXRpb25DYWxsYmFjayh0aGlzKSksdGhpcy5faW5pdGlhbFZhbHVlPXIsdGhpcy5fY3VycmVudENhbmNlbGxhYmxlPW51bGwsaT09PW8/dGhpcy5fZWFjaFZhbHVlcz1BcnJheSh0aGlzLl9sZW5ndGgpOjA9PT1pP3RoaXMuX2VhY2hWYWx1ZXM9bnVsbDp0aGlzLl9lYWNoVmFsdWVzPXZvaWQgMCx0aGlzLl9wcm9taXNlLl9jYXB0dXJlU3RhY2tUcmFjZSgpLHRoaXMuX2luaXQkKHZvaWQgMCwtNSl9ZnVuY3Rpb24gYyh0LGUpe3RoaXMuaXNGdWxmaWxsZWQoKT9lLl9yZXNvbHZlKHQpOmUuX3JlamVjdCh0KX1mdW5jdGlvbiB1KHQsZSxuLGkpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpcmV0dXJuIHIoXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiK2guY2xhc3NTdHJpbmcoZSkpO3ZhciBvPW5ldyBhKHQsZSxuLGkpO3JldHVybiBvLnByb21pc2UoKX1mdW5jdGlvbiBsKHQpe3RoaXMuYWNjdW09dCx0aGlzLmFycmF5Ll9nb3RBY2N1bSh0KTt2YXIgbj1pKHRoaXMudmFsdWUsdGhpcy5hcnJheS5fcHJvbWlzZSk7cmV0dXJuIG4gaW5zdGFuY2VvZiBlPyh0aGlzLmFycmF5Ll9jdXJyZW50Q2FuY2VsbGFibGU9bixuLl90aGVuKGYsdm9pZCAwLHZvaWQgMCx0aGlzLHZvaWQgMCkpOmYuY2FsbCh0aGlzLG4pfWZ1bmN0aW9uIGYodCl7dmFyIG49dGhpcy5hcnJheSxyPW4uX3Byb21pc2UsaT1kKG4uX2ZuKTtyLl9wdXNoQ29udGV4dCgpO3ZhciBvO289dm9pZCAwIT09bi5fZWFjaFZhbHVlcz9pLmNhbGwoci5fYm91bmRWYWx1ZSgpLHQsdGhpcy5pbmRleCx0aGlzLmxlbmd0aCk6aS5jYWxsKHIuX2JvdW5kVmFsdWUoKSx0aGlzLmFjY3VtLHQsdGhpcy5pbmRleCx0aGlzLmxlbmd0aCksbyBpbnN0YW5jZW9mIGUmJihuLl9jdXJyZW50Q2FuY2VsbGFibGU9byk7dmFyIGE9ci5fcG9wQ29udGV4dCgpO3JldHVybiBzLmNoZWNrRm9yZ290dGVuUmV0dXJucyhvLGEsdm9pZCAwIT09bi5fZWFjaFZhbHVlcz9cIlByb21pc2UuZWFjaFwiOlwiUHJvbWlzZS5yZWR1Y2VcIixyKSxvfXZhciBwPWUuX2dldERvbWFpbixoPXQoXCIuL3V0aWxcIiksZD1oLnRyeUNhdGNoO2guaW5oZXJpdHMoYSxuKSxhLnByb3RvdHlwZS5fZ290QWNjdW09ZnVuY3Rpb24odCl7dm9pZCAwIT09dGhpcy5fZWFjaFZhbHVlcyYmbnVsbCE9PXRoaXMuX2VhY2hWYWx1ZXMmJnQhPT1vJiZ0aGlzLl9lYWNoVmFsdWVzLnB1c2godCl9LGEucHJvdG90eXBlLl9lYWNoQ29tcGxldGU9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPT10aGlzLl9lYWNoVmFsdWVzJiZ0aGlzLl9lYWNoVmFsdWVzLnB1c2godCksdGhpcy5fZWFjaFZhbHVlc30sYS5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXt9LGEucHJvdG90eXBlLl9yZXNvbHZlRW1wdHlBcnJheT1mdW5jdGlvbigpe3RoaXMuX3Jlc29sdmUodm9pZCAwIT09dGhpcy5fZWFjaFZhbHVlcz90aGlzLl9lYWNoVmFsdWVzOnRoaXMuX2luaXRpYWxWYWx1ZSl9LGEucHJvdG90eXBlLnNob3VsZENvcHlWYWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sYS5wcm90b3R5cGUuX3Jlc29sdmU9ZnVuY3Rpb24odCl7dGhpcy5fcHJvbWlzZS5fcmVzb2x2ZUNhbGxiYWNrKHQpLHRoaXMuX3ZhbHVlcz1udWxsfSxhLnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09dGhpcy5faW5pdGlhbFZhbHVlP3RoaXMuX2NhbmNlbCgpOnZvaWQodGhpcy5faXNSZXNvbHZlZCgpfHwodGhpcy5fcmVzdWx0Q2FuY2VsbGVkJCgpLHRoaXMuX2N1cnJlbnRDYW5jZWxsYWJsZSBpbnN0YW5jZW9mIGUmJnRoaXMuX2N1cnJlbnRDYW5jZWxsYWJsZS5jYW5jZWwoKSx0aGlzLl9pbml0aWFsVmFsdWUgaW5zdGFuY2VvZiBlJiZ0aGlzLl9pbml0aWFsVmFsdWUuY2FuY2VsKCkpKX0sYS5wcm90b3R5cGUuX2l0ZXJhdGU9ZnVuY3Rpb24odCl7dGhpcy5fdmFsdWVzPXQ7dmFyIG4scixpPXQubGVuZ3RoO2lmKHZvaWQgMCE9PXRoaXMuX2luaXRpYWxWYWx1ZT8obj10aGlzLl9pbml0aWFsVmFsdWUscj0wKToobj1lLnJlc29sdmUodFswXSkscj0xKSx0aGlzLl9jdXJyZW50Q2FuY2VsbGFibGU9biwhbi5pc1JlamVjdGVkKCkpZm9yKDtpPnI7KytyKXt2YXIgbz17YWNjdW06bnVsbCx2YWx1ZTp0W3JdLGluZGV4OnIsbGVuZ3RoOmksYXJyYXk6dGhpc307bj1uLl90aGVuKGwsdm9pZCAwLHZvaWQgMCxvLHZvaWQgMCl9dm9pZCAwIT09dGhpcy5fZWFjaFZhbHVlcyYmKG49bi5fdGhlbih0aGlzLl9lYWNoQ29tcGxldGUsdm9pZCAwLHZvaWQgMCx0aGlzLHZvaWQgMCkpLG4uX3RoZW4oYyxjLHZvaWQgMCxuLHRoaXMpfSxlLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdSh0aGlzLHQsZSxudWxsKX0sZS5yZWR1Y2U9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHUodCxlLG4scil9fX0se1wiLi91dGlsXCI6MzZ9XSwyOTpbZnVuY3Rpb24odCxpLG8pe1widXNlIHN0cmljdFwiO3ZhciBzLGE9dChcIi4vdXRpbFwiKSxjPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiTm8gYXN5bmMgc2NoZWR1bGVyIGF2YWlsYWJsZVxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIil9LHU9YS5nZXROYXRpdmVQcm9taXNlKCk7aWYoYS5pc05vZGUmJlwidW5kZWZpbmVkXCI9PXR5cGVvZiBNdXRhdGlvbk9ic2VydmVyKXt2YXIgbD1uLnNldEltbWVkaWF0ZSxmPWUubmV4dFRpY2s7cz1hLmlzUmVjZW50Tm9kZT9mdW5jdGlvbih0KXtsLmNhbGwobix0KX06ZnVuY3Rpb24odCl7Zi5jYWxsKGUsdCl9fWVsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdS5yZXNvbHZlKXt2YXIgcD11LnJlc29sdmUoKTtzPWZ1bmN0aW9uKHQpe3AudGhlbih0KX19ZWxzZSBzPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBNdXRhdGlvbk9ic2VydmVyfHxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubmF2aWdhdG9yJiYod2luZG93Lm5hdmlnYXRvci5zdGFuZGFsb25lfHx3aW5kb3cuY29yZG92YSk/XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHI/ZnVuY3Rpb24odCl7cih0KX06XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNldFRpbWVvdXQ/ZnVuY3Rpb24odCl7c2V0VGltZW91dCh0LDApfTpjOmZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxlPXthdHRyaWJ1dGVzOiEwfSxuPSExLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxpPW5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKCl7dC5jbGFzc0xpc3QudG9nZ2xlKFwiZm9vXCIpLG49ITF9KTtpLm9ic2VydmUocixlKTt2YXIgbz1mdW5jdGlvbigpe258fChuPSEwLHIuY2xhc3NMaXN0LnRvZ2dsZShcImZvb1wiKSl9O3JldHVybiBmdW5jdGlvbihuKXt2YXIgcj1uZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpe3IuZGlzY29ubmVjdCgpLG4oKX0pO3Iub2JzZXJ2ZSh0LGUpLG8oKX19KCk7aS5leHBvcnRzPXN9LHtcIi4vdXRpbFwiOjM2fV0sMzA6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIpe2Z1bmN0aW9uIGkodCl7dGhpcy5jb25zdHJ1Y3RvciQodCl9dmFyIG89ZS5Qcm9taXNlSW5zcGVjdGlvbixzPXQoXCIuL3V0aWxcIik7cy5pbmhlcml0cyhpLG4pLGkucHJvdG90eXBlLl9wcm9taXNlUmVzb2x2ZWQ9ZnVuY3Rpb24odCxlKXt0aGlzLl92YWx1ZXNbdF09ZTt2YXIgbj0rK3RoaXMuX3RvdGFsUmVzb2x2ZWQ7cmV0dXJuIG4+PXRoaXMuX2xlbmd0aD8odGhpcy5fcmVzb2x2ZSh0aGlzLl92YWx1ZXMpLCEwKTohMX0saS5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgbztyZXR1cm4gbi5fYml0RmllbGQ9MzM1NTQ0MzIsbi5fc2V0dGxlZFZhbHVlRmllbGQ9dCx0aGlzLl9wcm9taXNlUmVzb2x2ZWQoZSxuKX0saS5wcm90b3R5cGUuX3Byb21pc2VSZWplY3RlZD1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBvO3JldHVybiBuLl9iaXRGaWVsZD0xNjc3NzIxNixuLl9zZXR0bGVkVmFsdWVGaWVsZD10LHRoaXMuX3Byb21pc2VSZXNvbHZlZChlLG4pfSxlLnNldHRsZT1mdW5jdGlvbih0KXtyZXR1cm4gci5kZXByZWNhdGVkKFwiLnNldHRsZSgpXCIsXCIucmVmbGVjdCgpXCIpLG5ldyBpKHQpLnByb21pc2UoKX0sZS5wcm90b3R5cGUuc2V0dGxlPWZ1bmN0aW9uKCl7cmV0dXJuIGUuc2V0dGxlKHRoaXMpfX19LHtcIi4vdXRpbFwiOjM2fV0sMzE6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIpe2Z1bmN0aW9uIGkodCl7dGhpcy5jb25zdHJ1Y3RvciQodCksdGhpcy5faG93TWFueT0wLHRoaXMuX3Vud3JhcD0hMSx0aGlzLl9pbml0aWFsaXplZD0hMX1mdW5jdGlvbiBvKHQsZSl7aWYoKDB8ZSkhPT1lfHwwPmUpcmV0dXJuIHIoXCJleHBlY3RpbmcgYSBwb3NpdGl2ZSBpbnRlZ2VyXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKTt2YXIgbj1uZXcgaSh0KSxvPW4ucHJvbWlzZSgpO3JldHVybiBuLnNldEhvd01hbnkoZSksbi5pbml0KCksb312YXIgcz10KFwiLi91dGlsXCIpLGE9dChcIi4vZXJyb3JzXCIpLlJhbmdlRXJyb3IsYz10KFwiLi9lcnJvcnNcIikuQWdncmVnYXRlRXJyb3IsdT1zLmlzQXJyYXksbD17fTtzLmluaGVyaXRzKGksbiksaS5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9pbml0aWFsaXplZCl7aWYoMD09PXRoaXMuX2hvd01hbnkpcmV0dXJuIHZvaWQgdGhpcy5fcmVzb2x2ZShbXSk7dGhpcy5faW5pdCQodm9pZCAwLC01KTt2YXIgdD11KHRoaXMuX3ZhbHVlcyk7XG5cdCF0aGlzLl9pc1Jlc29sdmVkKCkmJnQmJnRoaXMuX2hvd01hbnk+dGhpcy5fY2FuUG9zc2libHlGdWxmaWxsKCkmJnRoaXMuX3JlamVjdCh0aGlzLl9nZXRSYW5nZUVycm9yKHRoaXMubGVuZ3RoKCkpKX19LGkucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLl9pbml0aWFsaXplZD0hMCx0aGlzLl9pbml0KCl9LGkucHJvdG90eXBlLnNldFVud3JhcD1mdW5jdGlvbigpe3RoaXMuX3Vud3JhcD0hMH0saS5wcm90b3R5cGUuaG93TWFueT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ob3dNYW55fSxpLnByb3RvdHlwZS5zZXRIb3dNYW55PWZ1bmN0aW9uKHQpe3RoaXMuX2hvd01hbnk9dH0saS5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2FkZEZ1bGZpbGxlZCh0KSx0aGlzLl9mdWxmaWxsZWQoKT09PXRoaXMuaG93TWFueSgpPyh0aGlzLl92YWx1ZXMubGVuZ3RoPXRoaXMuaG93TWFueSgpLDE9PT10aGlzLmhvd01hbnkoKSYmdGhpcy5fdW53cmFwP3RoaXMuX3Jlc29sdmUodGhpcy5fdmFsdWVzWzBdKTp0aGlzLl9yZXNvbHZlKHRoaXMuX3ZhbHVlcyksITApOiExfSxpLnByb3RvdHlwZS5fcHJvbWlzZVJlamVjdGVkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9hZGRSZWplY3RlZCh0KSx0aGlzLl9jaGVja091dGNvbWUoKX0saS5wcm90b3R5cGUuX3Byb21pc2VDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmFsdWVzIGluc3RhbmNlb2YgZXx8bnVsbD09dGhpcy5fdmFsdWVzP3RoaXMuX2NhbmNlbCgpOih0aGlzLl9hZGRSZWplY3RlZChsKSx0aGlzLl9jaGVja091dGNvbWUoKSl9LGkucHJvdG90eXBlLl9jaGVja091dGNvbWU9ZnVuY3Rpb24oKXtpZih0aGlzLmhvd01hbnkoKT50aGlzLl9jYW5Qb3NzaWJseUZ1bGZpbGwoKSl7Zm9yKHZhciB0PW5ldyBjLGU9dGhpcy5sZW5ndGgoKTtlPHRoaXMuX3ZhbHVlcy5sZW5ndGg7KytlKXRoaXMuX3ZhbHVlc1tlXSE9PWwmJnQucHVzaCh0aGlzLl92YWx1ZXNbZV0pO3JldHVybiB0Lmxlbmd0aD4wP3RoaXMuX3JlamVjdCh0KTp0aGlzLl9jYW5jZWwoKSwhMH1yZXR1cm4hMX0saS5wcm90b3R5cGUuX2Z1bGZpbGxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90b3RhbFJlc29sdmVkfSxpLnByb3RvdHlwZS5fcmVqZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmFsdWVzLmxlbmd0aC10aGlzLmxlbmd0aCgpfSxpLnByb3RvdHlwZS5fYWRkUmVqZWN0ZWQ9ZnVuY3Rpb24odCl7dGhpcy5fdmFsdWVzLnB1c2godCl9LGkucHJvdG90eXBlLl9hZGRGdWxmaWxsZWQ9ZnVuY3Rpb24odCl7dGhpcy5fdmFsdWVzW3RoaXMuX3RvdGFsUmVzb2x2ZWQrK109dH0saS5wcm90b3R5cGUuX2NhblBvc3NpYmx5RnVsZmlsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aCgpLXRoaXMuX3JlamVjdGVkKCl9LGkucHJvdG90eXBlLl9nZXRSYW5nZUVycm9yPWZ1bmN0aW9uKHQpe3ZhciBlPVwiSW5wdXQgYXJyYXkgbXVzdCBjb250YWluIGF0IGxlYXN0IFwiK3RoaXMuX2hvd01hbnkrXCIgaXRlbXMgYnV0IGNvbnRhaW5zIG9ubHkgXCIrdCtcIiBpdGVtc1wiO3JldHVybiBuZXcgYShlKX0saS5wcm90b3R5cGUuX3Jlc29sdmVFbXB0eUFycmF5PWZ1bmN0aW9uKCl7dGhpcy5fcmVqZWN0KHRoaXMuX2dldFJhbmdlRXJyb3IoMCkpfSxlLnNvbWU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbyh0LGUpfSxlLnByb3RvdHlwZS5zb21lPWZ1bmN0aW9uKHQpe3JldHVybiBvKHRoaXMsdCl9LGUuX1NvbWVQcm9taXNlQXJyYXk9aX19LHtcIi4vZXJyb3JzXCI6MTIsXCIuL3V0aWxcIjozNn1dLDMyOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dm9pZCAwIT09dD8odD10Ll90YXJnZXQoKSx0aGlzLl9iaXRGaWVsZD10Ll9iaXRGaWVsZCx0aGlzLl9zZXR0bGVkVmFsdWVGaWVsZD10Ll9pc0ZhdGVTZWFsZWQoKT90Ll9zZXR0bGVkVmFsdWUoKTp2b2lkIDApOih0aGlzLl9iaXRGaWVsZD0wLHRoaXMuX3NldHRsZWRWYWx1ZUZpZWxkPXZvaWQgMCl9ZS5wcm90b3R5cGUuX3NldHRsZWRWYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXR0bGVkVmFsdWVGaWVsZH07dmFyIG49ZS5wcm90b3R5cGUudmFsdWU9ZnVuY3Rpb24oKXtpZighdGhpcy5pc0Z1bGZpbGxlZCgpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJjYW5ub3QgZ2V0IGZ1bGZpbGxtZW50IHZhbHVlIG9mIGEgbm9uLWZ1bGZpbGxlZCBwcm9taXNlXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKTtyZXR1cm4gdGhpcy5fc2V0dGxlZFZhbHVlKCl9LHI9ZS5wcm90b3R5cGUuZXJyb3I9ZS5wcm90b3R5cGUucmVhc29uPWZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNSZWplY3RlZCgpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJjYW5ub3QgZ2V0IHJlamVjdGlvbiByZWFzb24gb2YgYSBub24tcmVqZWN0ZWQgcHJvbWlzZVxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIik7cmV0dXJuIHRoaXMuX3NldHRsZWRWYWx1ZSgpfSxpPWUucHJvdG90eXBlLmlzRnVsZmlsbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIDAhPT0oMzM1NTQ0MzImdGhpcy5fYml0RmllbGQpfSxvPWUucHJvdG90eXBlLmlzUmVqZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PSgxNjc3NzIxNiZ0aGlzLl9iaXRGaWVsZCl9LHM9ZS5wcm90b3R5cGUuaXNQZW5kaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT0oNTAzOTcxODQmdGhpcy5fYml0RmllbGQpfSxhPWUucHJvdG90eXBlLmlzUmVzb2x2ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PSg1MDMzMTY0OCZ0aGlzLl9iaXRGaWVsZCl9O2UucHJvdG90eXBlLmlzQ2FuY2VsbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIDAhPT0oODQ1NDE0NCZ0aGlzLl9iaXRGaWVsZCl9LHQucHJvdG90eXBlLl9faXNDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gNjU1MzY9PT0oNjU1MzYmdGhpcy5fYml0RmllbGQpfSx0LnByb3RvdHlwZS5faXNDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGFyZ2V0KCkuX19pc0NhbmNlbGxlZCgpfSx0LnByb3RvdHlwZS5pc0NhbmNlbGxlZD1mdW5jdGlvbigpe3JldHVybiAwIT09KDg0NTQxNDQmdGhpcy5fdGFyZ2V0KCkuX2JpdEZpZWxkKX0sdC5wcm90b3R5cGUuaXNQZW5kaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHMuY2FsbCh0aGlzLl90YXJnZXQoKSl9LHQucHJvdG90eXBlLmlzUmVqZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gby5jYWxsKHRoaXMuX3RhcmdldCgpKX0sdC5wcm90b3R5cGUuaXNGdWxmaWxsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gaS5jYWxsKHRoaXMuX3RhcmdldCgpKX0sdC5wcm90b3R5cGUuaXNSZXNvbHZlZD1mdW5jdGlvbigpe3JldHVybiBhLmNhbGwodGhpcy5fdGFyZ2V0KCkpfSx0LnByb3RvdHlwZS52YWx1ZT1mdW5jdGlvbigpe3JldHVybiBuLmNhbGwodGhpcy5fdGFyZ2V0KCkpfSx0LnByb3RvdHlwZS5yZWFzb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90YXJnZXQoKTtyZXR1cm4gdC5fdW5zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZCgpLHIuY2FsbCh0KX0sdC5wcm90b3R5cGUuX3ZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldHRsZWRWYWx1ZSgpfSx0LnByb3RvdHlwZS5fcmVhc29uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Vuc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQoKSx0aGlzLl9zZXR0bGVkVmFsdWUoKX0sdC5Qcm9taXNlSW5zcGVjdGlvbj1lfX0se31dLDMzOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gcih0LHIpe2lmKGwodCkpe2lmKHQgaW5zdGFuY2VvZiBlKXJldHVybiB0O3ZhciBpPW8odCk7aWYoaT09PXUpe3ImJnIuX3B1c2hDb250ZXh0KCk7dmFyIGM9ZS5yZWplY3QoaS5lKTtyZXR1cm4gciYmci5fcG9wQ29udGV4dCgpLGN9aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgaSl7aWYocyh0KSl7dmFyIGM9bmV3IGUobik7cmV0dXJuIHQuX3RoZW4oYy5fZnVsZmlsbCxjLl9yZWplY3Qsdm9pZCAwLGMsbnVsbCksY31yZXR1cm4gYSh0LGkscil9fXJldHVybiB0fWZ1bmN0aW9uIGkodCl7cmV0dXJuIHQudGhlbn1mdW5jdGlvbiBvKHQpe3RyeXtyZXR1cm4gaSh0KX1jYXRjaChlKXtyZXR1cm4gdS5lPWUsdX19ZnVuY3Rpb24gcyh0KXt0cnl7cmV0dXJuIGYuY2FsbCh0LFwiX3Byb21pc2UwXCIpfWNhdGNoKGUpe3JldHVybiExfX1mdW5jdGlvbiBhKHQscixpKXtmdW5jdGlvbiBvKHQpe2EmJihhLl9yZXNvbHZlQ2FsbGJhY2sodCksYT1udWxsKX1mdW5jdGlvbiBzKHQpe2EmJihhLl9yZWplY3RDYWxsYmFjayh0LGYsITApLGE9bnVsbCl9dmFyIGE9bmV3IGUobiksbD1hO2kmJmkuX3B1c2hDb250ZXh0KCksYS5fY2FwdHVyZVN0YWNrVHJhY2UoKSxpJiZpLl9wb3BDb250ZXh0KCk7dmFyIGY9ITAscD1jLnRyeUNhdGNoKHIpLmNhbGwodCxvLHMpO3JldHVybiBmPSExLGEmJnA9PT11JiYoYS5fcmVqZWN0Q2FsbGJhY2socC5lLCEwLCEwKSxhPW51bGwpLGx9dmFyIGM9dChcIi4vdXRpbFwiKSx1PWMuZXJyb3JPYmosbD1jLmlzT2JqZWN0LGY9e30uaGFzT3duUHJvcGVydHk7cmV0dXJuIHJ9fSx7XCIuL3V0aWxcIjozNn1dLDM0OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyKXtmdW5jdGlvbiBpKHQpe3RoaXMuaGFuZGxlPXR9ZnVuY3Rpb24gbyh0KXtyZXR1cm4gY2xlYXJUaW1lb3V0KHRoaXMuaGFuZGxlKSx0fWZ1bmN0aW9uIHModCl7dGhyb3cgY2xlYXJUaW1lb3V0KHRoaXMuaGFuZGxlKSx0fXZhciBhPXQoXCIuL3V0aWxcIiksYz1lLlRpbWVvdXRFcnJvcjtpLnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuaGFuZGxlKX07dmFyIHU9ZnVuY3Rpb24odCl7cmV0dXJuIGwoK3RoaXMpLnRoZW5SZXR1cm4odCl9LGw9ZS5kZWxheT1mdW5jdGlvbih0LG8pe3ZhciBzLGE7cmV0dXJuIHZvaWQgMCE9PW8/KHM9ZS5yZXNvbHZlKG8pLl90aGVuKHUsbnVsbCxudWxsLHQsdm9pZCAwKSxyLmNhbmNlbGxhdGlvbigpJiZvIGluc3RhbmNlb2YgZSYmcy5fc2V0T25DYW5jZWwobykpOihzPW5ldyBlKG4pLGE9c2V0VGltZW91dChmdW5jdGlvbigpe3MuX2Z1bGZpbGwoKX0sK3QpLHIuY2FuY2VsbGF0aW9uKCkmJnMuX3NldE9uQ2FuY2VsKG5ldyBpKGEpKSxzLl9jYXB0dXJlU3RhY2tUcmFjZSgpKSxzLl9zZXRBc3luY0d1YXJhbnRlZWQoKSxzfTtlLnByb3RvdHlwZS5kZWxheT1mdW5jdGlvbih0KXtyZXR1cm4gbCh0LHRoaXMpfTt2YXIgZj1mdW5jdGlvbih0LGUsbil7dmFyIHI7cj1cInN0cmluZ1wiIT10eXBlb2YgZT9lIGluc3RhbmNlb2YgRXJyb3I/ZTpuZXcgYyhcIm9wZXJhdGlvbiB0aW1lZCBvdXRcIik6bmV3IGMoZSksYS5tYXJrQXNPcmlnaW5hdGluZ0Zyb21SZWplY3Rpb24ociksdC5fYXR0YWNoRXh0cmFUcmFjZShyKSx0Ll9yZWplY3QociksbnVsbCE9biYmbi5jYW5jZWwoKX07ZS5wcm90b3R5cGUudGltZW91dD1mdW5jdGlvbih0LGUpe3Q9K3Q7dmFyIG4sYSxjPW5ldyBpKHNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLmlzUGVuZGluZygpJiZmKG4sZSxhKX0sdCkpO3JldHVybiByLmNhbmNlbGxhdGlvbigpPyhhPXRoaXMudGhlbigpLG49YS5fdGhlbihvLHMsdm9pZCAwLGMsdm9pZCAwKSxuLl9zZXRPbkNhbmNlbChjKSk6bj10aGlzLl90aGVuKG8scyx2b2lkIDAsYyx2b2lkIDApLG59fX0se1wiLi91dGlsXCI6MzZ9XSwzNTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlLG4scixpLG8scyl7ZnVuY3Rpb24gYSh0KXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgdH0sMCl9ZnVuY3Rpb24gYyh0KXt2YXIgZT1yKHQpO3JldHVybiBlIT09dCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5faXNEaXNwb3NhYmxlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Ll9nZXREaXNwb3NlciYmdC5faXNEaXNwb3NhYmxlKCkmJmUuX3NldERpc3Bvc2FibGUodC5fZ2V0RGlzcG9zZXIoKSksZX1mdW5jdGlvbiB1KHQsbil7ZnVuY3Rpb24gaSgpe2lmKHM+PXUpcmV0dXJuIGwuX2Z1bGZpbGwoKTt2YXIgbz1jKHRbcysrXSk7aWYobyBpbnN0YW5jZW9mIGUmJm8uX2lzRGlzcG9zYWJsZSgpKXt0cnl7bz1yKG8uX2dldERpc3Bvc2VyKCkudHJ5RGlzcG9zZShuKSx0LnByb21pc2UpfWNhdGNoKGYpe3JldHVybiBhKGYpfWlmKG8gaW5zdGFuY2VvZiBlKXJldHVybiBvLl90aGVuKGksYSxudWxsLG51bGwsbnVsbCl9aSgpfXZhciBzPTAsdT10Lmxlbmd0aCxsPW5ldyBlKG8pO3JldHVybiBpKCksbH1mdW5jdGlvbiBsKHQsZSxuKXt0aGlzLl9kYXRhPXQsdGhpcy5fcHJvbWlzZT1lLHRoaXMuX2NvbnRleHQ9bn1mdW5jdGlvbiBmKHQsZSxuKXt0aGlzLmNvbnN0cnVjdG9yJCh0LGUsbil9ZnVuY3Rpb24gcCh0KXtyZXR1cm4gbC5pc0Rpc3Bvc2VyKHQpPyh0aGlzLnJlc291cmNlc1t0aGlzLmluZGV4XS5fc2V0RGlzcG9zYWJsZSh0KSx0LnByb21pc2UoKSk6dH1mdW5jdGlvbiBoKHQpe3RoaXMubGVuZ3RoPXQsdGhpcy5wcm9taXNlPW51bGwsdGhpc1t0LTFdPW51bGx9dmFyIGQ9dChcIi4vdXRpbFwiKSxfPXQoXCIuL2Vycm9yc1wiKS5UeXBlRXJyb3Isdj10KFwiLi91dGlsXCIpLmluaGVyaXRzLHk9ZC5lcnJvck9iaixtPWQudHJ5Q2F0Y2gsZz17fTtsLnByb3RvdHlwZS5kYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9LGwucHJvdG90eXBlLnByb21pc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvbWlzZX0sbC5wcm90b3R5cGUucmVzb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9taXNlKCkuaXNGdWxmaWxsZWQoKT90aGlzLnByb21pc2UoKS52YWx1ZSgpOmd9LGwucHJvdG90eXBlLnRyeURpc3Bvc2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5yZXNvdXJjZSgpLG49dGhpcy5fY29udGV4dDt2b2lkIDAhPT1uJiZuLl9wdXNoQ29udGV4dCgpO3ZhciByPWUhPT1nP3RoaXMuZG9EaXNwb3NlKGUsdCk6bnVsbDtyZXR1cm4gdm9pZCAwIT09biYmbi5fcG9wQ29udGV4dCgpLHRoaXMuX3Byb21pc2UuX3Vuc2V0RGlzcG9zYWJsZSgpLHRoaXMuX2RhdGE9bnVsbCxyfSxsLmlzRGlzcG9zZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQucmVzb3VyY2UmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQudHJ5RGlzcG9zZX0sdihmLGwpLGYucHJvdG90eXBlLmRvRGlzcG9zZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZGF0YSgpO3JldHVybiBuLmNhbGwodCx0LGUpfSxoLnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMubGVuZ3RoLG49MDt0Pm47KytuKXt2YXIgcj10aGlzW25dO3IgaW5zdGFuY2VvZiBlJiZyLmNhbmNlbCgpfX0sZS51c2luZz1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg7aWYoMj50KXJldHVybiBuKFwieW91IG11c3QgcGFzcyBhdCBsZWFzdCAyIGFyZ3VtZW50cyB0byBQcm9taXNlLnVzaW5nXCIpO3ZhciBpPWFyZ3VtZW50c1t0LTFdO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGkpcmV0dXJuIG4oXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiK2QuY2xhc3NTdHJpbmcoaSkpO3ZhciBvLGE9ITA7Mj09PXQmJkFycmF5LmlzQXJyYXkoYXJndW1lbnRzWzBdKT8obz1hcmd1bWVudHNbMF0sdD1vLmxlbmd0aCxhPSExKToobz1hcmd1bWVudHMsdC0tKTtmb3IodmFyIGM9bmV3IGgodCksZj0wO3Q+ZjsrK2Ype3ZhciBfPW9bZl07aWYobC5pc0Rpc3Bvc2VyKF8pKXt2YXIgdj1fO189Xy5wcm9taXNlKCksXy5fc2V0RGlzcG9zYWJsZSh2KX1lbHNle3ZhciBnPXIoXyk7ZyBpbnN0YW5jZW9mIGUmJihfPWcuX3RoZW4ocCxudWxsLG51bGwse3Jlc291cmNlczpjLGluZGV4OmZ9LHZvaWQgMCkpfWNbZl09X31mb3IodmFyIGI9bmV3IEFycmF5KGMubGVuZ3RoKSxmPTA7ZjxiLmxlbmd0aDsrK2YpYltmXT1lLnJlc29sdmUoY1tmXSkucmVmbGVjdCgpO3ZhciB3PWUuYWxsKGIpLnRoZW4oZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDsrK2Upe3ZhciBuPXRbZV07aWYobi5pc1JlamVjdGVkKCkpcmV0dXJuIHkuZT1uLmVycm9yKCkseTtpZighbi5pc0Z1bGZpbGxlZCgpKXJldHVybiB2b2lkIHcuY2FuY2VsKCk7dFtlXT1uLnZhbHVlKCl9RS5fcHVzaENvbnRleHQoKSxpPW0oaSk7dmFyIHI9YT9pLmFwcGx5KHZvaWQgMCx0KTppKHQpLG89RS5fcG9wQ29udGV4dCgpO3JldHVybiBzLmNoZWNrRm9yZ290dGVuUmV0dXJucyhyLG8sXCJQcm9taXNlLnVzaW5nXCIsRSkscn0pLEU9dy5sYXN0bHkoZnVuY3Rpb24oKXt2YXIgdD1uZXcgZS5Qcm9taXNlSW5zcGVjdGlvbih3KTtyZXR1cm4gdShjLHQpfSk7cmV0dXJuIGMucHJvbWlzZT1FLEUuX3NldE9uQ2FuY2VsKGMpLEV9LGUucHJvdG90eXBlLl9zZXREaXNwb3NhYmxlPWZ1bmN0aW9uKHQpe3RoaXMuX2JpdEZpZWxkPTEzMTA3Mnx0aGlzLl9iaXRGaWVsZCx0aGlzLl9kaXNwb3Nlcj10fSxlLnByb3RvdHlwZS5faXNEaXNwb3NhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuKDEzMTA3MiZ0aGlzLl9iaXRGaWVsZCk+MH0sZS5wcm90b3R5cGUuX2dldERpc3Bvc2VyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rpc3Bvc2VyfSxlLnByb3RvdHlwZS5fdW5zZXREaXNwb3NhYmxlPWZ1bmN0aW9uKCl7dGhpcy5fYml0RmllbGQ9LTEzMTA3MyZ0aGlzLl9iaXRGaWVsZCx0aGlzLl9kaXNwb3Nlcj12b2lkIDB9LGUucHJvdG90eXBlLmRpc3Bvc2VyPWZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpcmV0dXJuIG5ldyBmKHQsdGhpcyxpKCkpO3Rocm93IG5ldyBffX19LHtcIi4vZXJyb3JzXCI6MTIsXCIuL3V0aWxcIjozNn1dLDM2OltmdW5jdGlvbih0LHIsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbygpe3RyeXt2YXIgdD1PO3JldHVybiBPPW51bGwsdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9Y2F0Y2goZSl7cmV0dXJuIFAuZT1lLFB9fWZ1bmN0aW9uIHModCl7cmV0dXJuIE89dCxvfWZ1bmN0aW9uIGEodCl7cmV0dXJuIG51bGw9PXR8fHQ9PT0hMHx8dD09PSExfHxcInN0cmluZ1wiPT10eXBlb2YgdHx8XCJudW1iZXJcIj09dHlwZW9mIHR9ZnVuY3Rpb24gYyh0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0fHxcIm9iamVjdFwiPT10eXBlb2YgdCYmbnVsbCE9PXR9ZnVuY3Rpb24gdSh0KXtyZXR1cm4gYSh0KT9uZXcgRXJyb3IobSh0KSk6dH1mdW5jdGlvbiBsKHQsZSl7dmFyIG4scj10Lmxlbmd0aCxpPW5ldyBBcnJheShyKzEpO2ZvcihuPTA7cj5uOysrbilpW25dPXRbbl07cmV0dXJuIGlbbl09ZSxpfWZ1bmN0aW9uIGYodCxlLG4pe2lmKCFULmlzRVM1KXJldHVybnt9Lmhhc093blByb3BlcnR5LmNhbGwodCxlKT90W2VdOnZvaWQgMDt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSk7cmV0dXJuIG51bGwhPXI/bnVsbD09ci5nZXQmJm51bGw9PXIuc2V0P3IudmFsdWU6bjp2b2lkIDB9ZnVuY3Rpb24gcCh0LGUsbil7aWYoYSh0KSlyZXR1cm4gdDt2YXIgcj17dmFsdWU6bixjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMH07cmV0dXJuIFQuZGVmaW5lUHJvcGVydHkodCxlLHIpLHR9ZnVuY3Rpb24gaCh0KXt0aHJvdyB0fWZ1bmN0aW9uIGQodCl7dHJ5e2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpe3ZhciBlPVQubmFtZXModC5wcm90b3R5cGUpLG49VC5pc0VTNSYmZS5sZW5ndGg+MSxyPWUubGVuZ3RoPjAmJiEoMT09PWUubGVuZ3RoJiZcImNvbnN0cnVjdG9yXCI9PT1lWzBdKSxpPUQudGVzdCh0K1wiXCIpJiZULm5hbWVzKHQpLmxlbmd0aD4wO2lmKG58fHJ8fGkpcmV0dXJuITB9cmV0dXJuITF9Y2F0Y2gobyl7cmV0dXJuITF9fWZ1bmN0aW9uIF8odCl7ZnVuY3Rpb24gZSgpe31lLnByb3RvdHlwZT10O2Zvcih2YXIgbj04O24tLTspbmV3IGU7cmV0dXJuIHR9ZnVuY3Rpb24gdih0KXtyZXR1cm4gVS50ZXN0KHQpfWZ1bmN0aW9uIHkodCxlLG4pe2Zvcih2YXIgcj1uZXcgQXJyYXkodCksaT0wO3Q+aTsrK2kpcltpXT1lK2krbjtyZXR1cm4gcn1mdW5jdGlvbiBtKHQpe3RyeXtyZXR1cm4gdCtcIlwifWNhdGNoKGUpe3JldHVyblwiW25vIHN0cmluZyByZXByZXNlbnRhdGlvbl1cIn19ZnVuY3Rpb24gZyh0KXtyZXR1cm4gbnVsbCE9PXQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZcInN0cmluZ1wiPT10eXBlb2YgdC5tZXNzYWdlJiZcInN0cmluZ1wiPT10eXBlb2YgdC5uYW1lfWZ1bmN0aW9uIGIodCl7dHJ5e3AodCxcImlzT3BlcmF0aW9uYWxcIiwhMCl9Y2F0Y2goZSl7fX1mdW5jdGlvbiB3KHQpe3JldHVybiBudWxsPT10PyExOnQgaW5zdGFuY2VvZiBFcnJvci5fX0JsdWViaXJkRXJyb3JUeXBlc19fLk9wZXJhdGlvbmFsRXJyb3J8fHQuaXNPcGVyYXRpb25hbD09PSEwfWZ1bmN0aW9uIEUodCl7cmV0dXJuIGcodCkmJlQucHJvcGVydHlJc1dyaXRhYmxlKHQsXCJzdGFja1wiKX1mdW5jdGlvbiBDKHQpe3JldHVybnt9LnRvU3RyaW5nLmNhbGwodCl9ZnVuY3Rpb24gayh0LGUsbil7Zm9yKHZhciByPVQubmFtZXModCksaT0wO2k8ci5sZW5ndGg7KytpKXt2YXIgbz1yW2ldO2lmKG4obykpdHJ5e1QuZGVmaW5lUHJvcGVydHkoZSxvLFQuZ2V0RGVzY3JpcHRvcih0LG8pKX1jYXRjaChzKXt9fX1mdW5jdGlvbiBqKHQsbil7cmV0dXJuIEI/ZS5lbnZbdF06bn1mdW5jdGlvbiB4KCl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJvbWlzZSl0cnl7dmFyIHQ9bmV3IFByb21pc2UoZnVuY3Rpb24oKXt9KTtpZihcIltvYmplY3QgUHJvbWlzZV1cIj09PXt9LnRvU3RyaW5nLmNhbGwodCkpcmV0dXJuIFByb21pc2V9Y2F0Y2goZSl7fX1mdW5jdGlvbiBGKHQsZSl7cmV0dXJuIHQuYmluZChlKX12YXIgVD10KFwiLi9lczVcIiksUz1cInVuZGVmaW5lZFwiPT10eXBlb2YgbmF2aWdhdG9yLFA9e2U6e319LE8sUj1cInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBuP246dm9pZCAwIT09dGhpcz90aGlzOm51bGwsQT1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXQsdGhpcy5jb25zdHJ1Y3RvciQ9ZTtmb3IodmFyIG4gaW4gZS5wcm90b3R5cGUpci5jYWxsKGUucHJvdG90eXBlLG4pJiZcIiRcIiE9PW4uY2hhckF0KG4ubGVuZ3RoLTEpJiYodGhpc1tuK1wiJFwiXT1lLnByb3RvdHlwZVtuXSl9dmFyIHI9e30uaGFzT3duUHJvcGVydHk7cmV0dXJuIG4ucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBuLHQucHJvdG90eXBlfSxJPWZ1bmN0aW9uKCl7dmFyIHQ9W0FycmF5LnByb3RvdHlwZSxPYmplY3QucHJvdG90eXBlLEZ1bmN0aW9uLnByb3RvdHlwZV0sZT1mdW5jdGlvbihlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoOysrbilpZih0W25dPT09ZSlyZXR1cm4hMDtyZXR1cm4hMX07aWYoVC5pc0VTNSl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgcj1bXSxpPU9iamVjdC5jcmVhdGUobnVsbCk7bnVsbCE9dCYmIWUodCk7KXt2YXIgbzt0cnl7bz1uKHQpfWNhdGNoKHMpe3JldHVybiByfWZvcih2YXIgYT0wO2E8by5sZW5ndGg7KythKXt2YXIgYz1vW2FdO2lmKCFpW2NdKXtpW2NdPSEwO3ZhciB1PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxjKTtudWxsIT11JiZudWxsPT11LmdldCYmbnVsbD09dS5zZXQmJnIucHVzaChjKX19dD1ULmdldFByb3RvdHlwZU9mKHQpfXJldHVybiByfX12YXIgcj17fS5oYXNPd25Qcm9wZXJ0eTtyZXR1cm4gZnVuY3Rpb24obil7aWYoZShuKSlyZXR1cm5bXTt2YXIgaT1bXTt0OmZvcih2YXIgbyBpbiBuKWlmKHIuY2FsbChuLG8pKWkucHVzaChvKTtlbHNle2Zvcih2YXIgcz0wO3M8dC5sZW5ndGg7KytzKWlmKHIuY2FsbCh0W3NdLG8pKWNvbnRpbnVlIHQ7aS5wdXNoKG8pfXJldHVybiBpfX0oKSxEPS90aGlzXFxzKlxcLlxccypcXFMrXFxzKj0vLFU9L15bYS16JF9dW2EteiRfMC05XSokL2ksTj1mdW5jdGlvbigpe3JldHVyblwic3RhY2tcImluIG5ldyBFcnJvcj9mdW5jdGlvbih0KXtyZXR1cm4gRSh0KT90Om5ldyBFcnJvcihtKHQpKX06ZnVuY3Rpb24odCl7aWYoRSh0KSlyZXR1cm4gdDt0cnl7dGhyb3cgbmV3IEVycm9yKG0odCkpfWNhdGNoKGUpe3JldHVybiBlfX19KCksTD1mdW5jdGlvbih0KXtyZXR1cm4gVC5pc0FycmF5KHQpP3Q6bnVsbH07aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yKXt2YXIgVj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBBcnJheS5mcm9tP2Z1bmN0aW9uKHQpe3JldHVybiBBcnJheS5mcm9tKHQpfTpmdW5jdGlvbih0KXtmb3IodmFyIGUsbj1bXSxyPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZT1yLm5leHQoKSkuZG9uZTspbi5wdXNoKGUudmFsdWUpO3JldHVybiBufTtMPWZ1bmN0aW9uKHQpe3JldHVybiBULmlzQXJyYXkodCk/dDpudWxsIT10JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0W1N5bWJvbC5pdGVyYXRvcl0/Vih0KTpudWxsfX12YXIgQj1cInVuZGVmaW5lZFwiIT10eXBlb2YgZSYmXCJbb2JqZWN0IHByb2Nlc3NdXCI9PT1DKGUpLnRvTG93ZXJDYXNlKCksTT17aXNDbGFzczpkLGlzSWRlbnRpZmllcjp2LGluaGVyaXRlZERhdGFLZXlzOkksZ2V0RGF0YVByb3BlcnR5T3JEZWZhdWx0OmYsdGhyb3dlcjpoLGlzQXJyYXk6VC5pc0FycmF5LGFzQXJyYXk6TCxub3RFbnVtZXJhYmxlUHJvcDpwLGlzUHJpbWl0aXZlOmEsaXNPYmplY3Q6Yyxpc0Vycm9yOmcsY2FuRXZhbHVhdGU6UyxlcnJvck9iajpQLHRyeUNhdGNoOnMsaW5oZXJpdHM6QSx3aXRoQXBwZW5kZWQ6bCxtYXliZVdyYXBBc0Vycm9yOnUsdG9GYXN0UHJvcGVydGllczpfLGZpbGxlZFJhbmdlOnksdG9TdHJpbmc6bSxjYW5BdHRhY2hUcmFjZTpFLGVuc3VyZUVycm9yT2JqZWN0Ok4sb3JpZ2luYXRlc0Zyb21SZWplY3Rpb246dyxtYXJrQXNPcmlnaW5hdGluZ0Zyb21SZWplY3Rpb246YixjbGFzc1N0cmluZzpDLGNvcHlEZXNjcmlwdG9yczprLGhhc0RldlRvb2xzOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBjaHJvbWUmJmNocm9tZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgY2hyb21lLmxvYWRUaW1lcyxpc05vZGU6QixlbnY6aixnbG9iYWw6UixnZXROYXRpdmVQcm9taXNlOngsZG9tYWluQmluZDpGfTtNLmlzUmVjZW50Tm9kZT1NLmlzTm9kZSYmZnVuY3Rpb24oKXt2YXIgdD1lLnZlcnNpb25zLm5vZGUuc3BsaXQoXCIuXCIpLm1hcChOdW1iZXIpO3JldHVybiAwPT09dFswXSYmdFsxXT4xMHx8dFswXT4wfSgpLE0uaXNOb2RlJiZNLnRvRmFzdFByb3BlcnRpZXMoZSk7dHJ5e3Rocm93IG5ldyBFcnJvcn1jYXRjaChIKXtNLmxhc3RMaW5lRXJyb3I9SH1yLmV4cG9ydHM9TX0se1wiLi9lczVcIjoxM31dfSx7fSxbNF0pKDQpfSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmbnVsbCE9PXdpbmRvdz93aW5kb3cuUD13aW5kb3cuUHJvbWlzZTpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmbnVsbCE9PXNlbGYmJihzZWxmLlA9c2VsZi5Qcm9taXNlKX0pLmNhbGwoZSxuKDQ4KSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpLG4oNDkpLnNldEltbWVkaWF0ZSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe2YmJnMmJihmPSExLHMubGVuZ3RoP2w9cy5jb25jYXQobCk6cD0tMSxsLmxlbmd0aCYmcigpKX1mdW5jdGlvbiByKCl7aWYoIWYpe3ZhciB0PWMobik7Zj0hMDtmb3IodmFyIGU9bC5sZW5ndGg7ZTspe2ZvcihzPWwsbD1bXTsrK3A8ZTspcyYmc1twXS5ydW4oKTtwPS0xLGU9bC5sZW5ndGh9cz1udWxsLGY9ITEsdSh0KX19ZnVuY3Rpb24gaSh0LGUpe3RoaXMuZnVuPXQsdGhpcy5hcnJheT1lfWZ1bmN0aW9uIG8oKXt9dmFyIHMsYT10LmV4cG9ydHM9e30sYz1zZXRUaW1lb3V0LHU9Y2xlYXJUaW1lb3V0LGw9W10sZj0hMSxwPS0xO2EubmV4dFRpY2s9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuLTFdPWFyZ3VtZW50c1tuXTtsLnB1c2gobmV3IGkodCxlKSksMSE9PWwubGVuZ3RofHxmfHxjKHIsMCl9LGkucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LGEudGl0bGU9XCJicm93c2VyXCIsYS5icm93c2VyPSEwLGEuZW52PXt9LGEuYXJndj1bXSxhLnZlcnNpb249XCJcIixhLnZlcnNpb25zPXt9LGEub249byxhLmFkZExpc3RlbmVyPW8sYS5vbmNlPW8sYS5vZmY9byxhLnJlbW92ZUxpc3RlbmVyPW8sYS5yZW1vdmVBbGxMaXN0ZW5lcnM9byxhLmVtaXQ9byxhLmJpbmRpbmc9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9LGEuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9LGEuY2hkaXI9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfSxhLnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKHQscil7ZnVuY3Rpb24gaSh0LGUpe3RoaXMuX2lkPXQsdGhpcy5fY2xlYXJGbj1lfXZhciBvPW4oNDgpLm5leHRUaWNrLHM9RnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLGM9e30sdT0wO2Uuc2V0VGltZW91dD1mdW5jdGlvbigpe3JldHVybiBuZXcgaShzLmNhbGwoc2V0VGltZW91dCx3aW5kb3csYXJndW1lbnRzKSxjbGVhclRpbWVvdXQpfSxlLnNldEludGVydmFsPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHMuY2FsbChzZXRJbnRlcnZhbCx3aW5kb3csYXJndW1lbnRzKSxjbGVhckludGVydmFsKX0sZS5jbGVhclRpbWVvdXQ9ZS5jbGVhckludGVydmFsPWZ1bmN0aW9uKHQpe3QuY2xvc2UoKX0saS5wcm90b3R5cGUudW5yZWY9aS5wcm90b3R5cGUucmVmPWZ1bmN0aW9uKCl7fSxpLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFyRm4uY2FsbCh3aW5kb3csdGhpcy5faWQpfSxlLmVucm9sbD1mdW5jdGlvbih0LGUpe2NsZWFyVGltZW91dCh0Ll9pZGxlVGltZW91dElkKSx0Ll9pZGxlVGltZW91dD1lfSxlLnVuZW5yb2xsPWZ1bmN0aW9uKHQpe2NsZWFyVGltZW91dCh0Ll9pZGxlVGltZW91dElkKSx0Ll9pZGxlVGltZW91dD0tMX0sZS5fdW5yZWZBY3RpdmU9ZS5hY3RpdmU9ZnVuY3Rpb24odCl7Y2xlYXJUaW1lb3V0KHQuX2lkbGVUaW1lb3V0SWQpO3ZhciBlPXQuX2lkbGVUaW1lb3V0O2U+PTAmJih0Ll9pZGxlVGltZW91dElkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0Ll9vblRpbWVvdXQmJnQuX29uVGltZW91dCgpfSxlKSl9LGUuc2V0SW1tZWRpYXRlPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dDpmdW5jdGlvbih0KXt2YXIgbj11Kysscj1hcmd1bWVudHMubGVuZ3RoPDI/ITE6YS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gY1tuXT0hMCxvKGZ1bmN0aW9uKCl7Y1tuXSYmKHI/dC5hcHBseShudWxsLHIpOnQuY2FsbChudWxsKSxlLmNsZWFySW1tZWRpYXRlKG4pKX0pLG59LGUuY2xlYXJJbW1lZGlhdGU9XCJmdW5jdGlvblwiPT10eXBlb2Ygcj9yOmZ1bmN0aW9uKHQpe2RlbGV0ZSBjW3RdfX0pLmNhbGwoZSxuKDQ5KS5zZXRJbW1lZGlhdGUsbig0OSkuY2xlYXJJbW1lZGlhdGUpfSxmdW5jdGlvbih0LGUsbil7dmFyIHIsaT1pfHxmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtpZighKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0fHxcInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiYvTVNJRSBbMS05XVxcLi8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkpe3ZhciBlPXQuZG9jdW1lbnQsbj1mdW5jdGlvbigpe3JldHVybiB0LlVSTHx8dC53ZWJraXRVUkx8fHR9LHI9ZS5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIsXCJhXCIpLGk9XCJkb3dubG9hZFwiaW4gcixvPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBNb3VzZUV2ZW50KFwiY2xpY2tcIik7dC5kaXNwYXRjaEV2ZW50KGUpfSxzPS9jb25zdHJ1Y3Rvci9pLnRlc3QodC5IVE1MRWxlbWVudCl8fHQuc2FmYXJpLGE9L0NyaU9TXFwvW1xcZF0rLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGM9ZnVuY3Rpb24oZSl7KHQuc2V0SW1tZWRpYXRlfHx0LnNldFRpbWVvdXQpKGZ1bmN0aW9uKCl7dGhyb3cgZX0sMCl9LHU9XCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIixsPTRlNCxmPWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKCl7XCJzdHJpbmdcIj09dHlwZW9mIHQ/bigpLnJldm9rZU9iamVjdFVSTCh0KTp0LnJlbW92ZSgpfTtzZXRUaW1lb3V0KGUsbCl9LHA9ZnVuY3Rpb24odCxlLG4pe2U9W10uY29uY2F0KGUpO2Zvcih2YXIgcj1lLmxlbmd0aDtyLS07KXt2YXIgaT10W1wib25cIitlW3JdXTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBpKXRyeXtpLmNhbGwodCxufHx0KX1jYXRjaChvKXtjKG8pfX19LGg9ZnVuY3Rpb24odCl7cmV0dXJuL15cXHMqKD86dGV4dFxcL1xcUyp8YXBwbGljYXRpb25cXC94bWx8XFxTKlxcL1xcUypcXCt4bWwpXFxzKjsuKmNoYXJzZXRcXHMqPVxccyp1dGYtOC9pLnRlc3QodC50eXBlKT9uZXcgQmxvYihbU3RyaW5nLmZyb21DaGFyQ29kZSg2NTI3OSksdF0se3R5cGU6dC50eXBlfSk6dH0sZD1mdW5jdGlvbihlLGMsbCl7bHx8KGU9aChlKSk7dmFyIGQsXz10aGlzLHY9ZS50eXBlLHk9dj09PXUsbT1mdW5jdGlvbigpe3AoXyxcIndyaXRlc3RhcnQgcHJvZ3Jlc3Mgd3JpdGUgd3JpdGVlbmRcIi5zcGxpdChcIiBcIikpfSxnPWZ1bmN0aW9uKCl7aWYoKGF8fHkmJnMpJiZ0LkZpbGVSZWFkZXIpe3ZhciByPW5ldyBGaWxlUmVhZGVyO3JldHVybiByLm9ubG9hZGVuZD1mdW5jdGlvbigpe3ZhciBlPWE/ci5yZXN1bHQ6ci5yZXN1bHQucmVwbGFjZSgvXmRhdGE6W147XSo7LyxcImRhdGE6YXR0YWNobWVudC9maWxlO1wiKSxuPXQub3BlbihlLFwiX2JsYW5rXCIpO258fCh0LmxvY2F0aW9uLmhyZWY9ZSksZT12b2lkIDAsXy5yZWFkeVN0YXRlPV8uRE9ORSxtKCl9LHIucmVhZEFzRGF0YVVSTChlKSx2b2lkKF8ucmVhZHlTdGF0ZT1fLklOSVQpfWlmKGR8fChkPW4oKS5jcmVhdGVPYmplY3RVUkwoZSkpLHkpdC5sb2NhdGlvbi5ocmVmPWQ7ZWxzZXt2YXIgaT10Lm9wZW4oZCxcIl9ibGFua1wiKTtpfHwodC5sb2NhdGlvbi5ocmVmPWQpfV8ucmVhZHlTdGF0ZT1fLkRPTkUsbSgpLGYoZCl9O3JldHVybiBfLnJlYWR5U3RhdGU9Xy5JTklULGk/KGQ9bigpLmNyZWF0ZU9iamVjdFVSTChlKSx2b2lkIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLmhyZWY9ZCxyLmRvd25sb2FkPWMsbyhyKSxtKCksZihkKSxfLnJlYWR5U3RhdGU9Xy5ET05FfSkpOnZvaWQgZygpfSxfPWQucHJvdG90eXBlLHY9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuZXcgZCh0LGV8fHQubmFtZXx8XCJkb3dubG9hZFwiLG4pfTtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiZuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYj9mdW5jdGlvbih0LGUsbil7cmV0dXJuIGU9ZXx8dC5uYW1lfHxcImRvd25sb2FkXCIsbnx8KHQ9aCh0KSksbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IodCxlKX06KF8uYWJvcnQ9ZnVuY3Rpb24oKXt9LF8ucmVhZHlTdGF0ZT1fLklOSVQ9MCxfLldSSVRJTkc9MSxfLkRPTkU9MixfLmVycm9yPV8ub253cml0ZXN0YXJ0PV8ub25wcm9ncmVzcz1fLm9ud3JpdGU9Xy5vbmFib3J0PV8ub25lcnJvcj1fLm9ud3JpdGVlbmQ9bnVsbCx2KX19KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmfHxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3d8fHRoaXMuY29udGVudCk7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJnQuZXhwb3J0cz90LmV4cG9ydHMuc2F2ZUFzPWk6bnVsbCE9PW4oNTEpJiZudWxsIT09big1MikmJihyPWZ1bmN0aW9uKCl7cmV0dXJuIGl9LmNhbGwoZSxuLGUsdCksISh2b2lkIDAhPT1yJiYodC5leHBvcnRzPXIpKSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiZGVmaW5lIGNhbm5vdCBiZSB1c2VkIGluZGlyZWN0XCIpfX0sZnVuY3Rpb24odCxlKXsoZnVuY3Rpb24oZSl7dC5leHBvcnRzPWV9KS5jYWxsKGUse30pfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17bmFtZTpcImVwdWItcHJlc3MtanNcIix2ZXJzaW9uOlwiMC41LjFcIixkZXNjcmlwdGlvbjpcIkphdmFzY3JpcHQgY2xpZW50IGZvciBidWlsZGluZyBib29rcyB3aXRoIEVwdWJQcmVzcy5cIixob21lcGFnZTpcImh0dHBzOi8vZ2l0aHViLmNvbS9oYXJvbGR0cmVlbi9lcHViLXByZXNzLWNsaWVudHMjcmVhZG1lXCIsYmFzZVVybDpcImh0dHBzOi8vZXB1Yi5wcmVzc1wiLG1haW46XCJidWlsZC9pbmRleC5qc1wiLGRpcmVjdG9yaWVzOnt0ZXN0czpcInRlc3RcIn0sc2NyaXB0czp7dGVzdDpcImV4cG9ydCBOT0RFX0VOVj10ZXN0ICYmIG9wZW4gaHR0cDovL2xvY2FsaG9zdDo1MDAxL3Rlc3RzICYmIHdlYnBhY2stZGV2LXNlcnZlclwiLHN0YXJ0OlwiZXhwb3J0IE5PREVfRU5WPWRldmVsb3BtZW50ICYmIHdlYnBhY2sgLS13YXRjaCAtLXByb2dyZXNzIC0tY29sb3JcIixidWlsZDpcImV4cG9ydCBOT0RFX0VOVj1kZXZlbG9wbWVudCAmJiB3ZWJwYWNrXCIsXCJidWlsZC1wcm9kXCI6XCJleHBvcnQgTk9ERV9FTlY9cHJvZHVjdGlvbiAmJiB3ZWJwYWNrIC0tb3B0aW1pemUtbWluaW1pemUgLS1vcHRpbWl6ZS1kZWR1cGVcIixwcmV2ZXJzaW9uOlwibnBtIHJ1bi1zY3JpcHQgYnVpbGQtcHJvZFwiLHByZXB1Ymxpc2g6XCJucG0gcnVuIGJ1aWxkLXByb2RcIn0scmVwb3NpdG9yeTp7dHlwZTpcImdpdFwiLHVybDpcImdpdCtodHRwczovL2dpdGh1Yi5jb20vaGFyb2xkdHJlZW4vZXB1Yi1wcmVzcy1jbGllbnRzLmdpdFwifSxrZXl3b3JkczpbXCJlcHViXCIsXCJwdWJsaXNoaW5nXCIsXCJwcm9kdWN0aXZpdHlcIixcImNsaWVudFwiLFwiZXB1YnByZXNzXCIsXCJlYm9va3NcIixcImNvbnRlbnRcIixcImV4dHJhY3Rpb25cIl0sYXV0aG9yOlwiRXB1YlByZXNzXCIsbGljZW5zZTpcIklTQ1wiLGJ1Z3M6e3VybDpcImh0dHBzOi8vZ2l0aHViLmNvbS9oYXJvbGR0cmVlbi9lcHViLXByZXNzLWNsaWVudHMvaXNzdWVzXCJ9LGRldkRlcGVuZGVuY2llczp7XCJiYWJlbC1jb3JlXCI6XCJeNi4xNy4wXCIsXCJiYWJlbC1sb2FkZXJcIjpcIl42LjIuNFwiLFwiYmFiZWwtcGx1Z2luLXRyYW5zZm9ybS1ydW50aW1lXCI6XCJeNi45LjBcIixcImJhYmVsLXByZXNldC1lczIwMTVcIjpcIl42LjkuMFwiLGNoYWk6XCJeMy41LjBcIixcImZldGNoLW1vY2tcIjpcIl41LjAuM1wiLG1vY2hhOlwiXjIuNS4zXCIsXCJtb2NoYS1sb2FkZXJcIjpcIl4xLjAuMFwiLHNpbm9uOlwiZ2l0K2h0dHBzOi8vZ2l0aHViLmNvbS9zaW5vbmpzL3Npbm9uLmdpdFwiLFwic2lub24tYXMtcHJvbWlzZWRcIjpcIl40LjAuMlwiLHdlYnBhY2s6XCJeMS4xMy4xXCJ9LGRlcGVuZGVuY2llczp7Ymx1ZWJpcmQ6XCJeMy40LjZcIixcImZpbGUtc2F2ZXJcIjpcIl4xLjMuM1wiLFwiaXNvbW9ycGhpYy1mZXRjaFwiOlwiXjIuMi4xXCIsXCJqc29uLWxvYWRlclwiOlwiXjAuNS40XCJ9fX0sZnVuY3Rpb24odCxuKXt0LmV4cG9ydHM9ZX1dKX0pO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg0MykpKVxuXG4vKioqLyB9LFxuLyogNDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsvKmVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzKi9cblx0LyohXG5cdCAqIGpRdWVyeSBKYXZhU2NyaXB0IExpYnJhcnkgdjMuMS4wXG5cdCAqIGh0dHBzOi8vanF1ZXJ5LmNvbS9cblx0ICpcblx0ICogSW5jbHVkZXMgU2l6emxlLmpzXG5cdCAqIGh0dHBzOi8vc2l6emxlanMuY29tL1xuXHQgKlxuXHQgKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuXHQgKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2Vcblx0ICogaHR0cHM6Ly9qcXVlcnkub3JnL2xpY2Vuc2Vcblx0ICpcblx0ICogRGF0ZTogMjAxNi0wNy0wN1QyMTo0NFpcblx0ICovXG5cdCggZnVuY3Rpb24oIGdsb2JhbCwgZmFjdG9yeSApIHtcblx0XG5cdFx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRcdGlmICggdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09IFwib2JqZWN0XCIgKSB7XG5cdFxuXHRcdFx0Ly8gRm9yIENvbW1vbkpTIGFuZCBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB3aGVyZSBhIHByb3BlciBgd2luZG93YFxuXHRcdFx0Ly8gaXMgcHJlc2VudCwgZXhlY3V0ZSB0aGUgZmFjdG9yeSBhbmQgZ2V0IGpRdWVyeS5cblx0XHRcdC8vIEZvciBlbnZpcm9ubWVudHMgdGhhdCBkbyBub3QgaGF2ZSBhIGB3aW5kb3dgIHdpdGggYSBgZG9jdW1lbnRgXG5cdFx0XHQvLyAoc3VjaCBhcyBOb2RlLmpzKSwgZXhwb3NlIGEgZmFjdG9yeSBhcyBtb2R1bGUuZXhwb3J0cy5cblx0XHRcdC8vIFRoaXMgYWNjZW50dWF0ZXMgdGhlIG5lZWQgZm9yIHRoZSBjcmVhdGlvbiBvZiBhIHJlYWwgYHdpbmRvd2AuXG5cdFx0XHQvLyBlLmcuIHZhciBqUXVlcnkgPSByZXF1aXJlKFwianF1ZXJ5XCIpKHdpbmRvdyk7XG5cdFx0XHQvLyBTZWUgdGlja2V0ICMxNDU0OSBmb3IgbW9yZSBpbmZvLlxuXHRcdFx0bW9kdWxlLmV4cG9ydHMgPSBnbG9iYWwuZG9jdW1lbnQgP1xuXHRcdFx0XHRmYWN0b3J5KCBnbG9iYWwsIHRydWUgKSA6XG5cdFx0XHRcdGZ1bmN0aW9uKCB3ICkge1xuXHRcdFx0XHRcdGlmICggIXcuZG9jdW1lbnQgKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoIFwialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudFwiICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBmYWN0b3J5KCB3ICk7XG5cdFx0XHRcdH07XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZhY3RvcnkoIGdsb2JhbCApO1xuXHRcdH1cblx0XG5cdC8vIFBhc3MgdGhpcyBpZiB3aW5kb3cgaXMgbm90IGRlZmluZWQgeWV0XG5cdH0gKSggdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uKCB3aW5kb3csIG5vR2xvYmFsICkge1xuXHRcblx0Ly8gRWRnZSA8PSAxMiAtIDEzKywgRmlyZWZveCA8PTE4IC0gNDUrLCBJRSAxMCAtIDExLCBTYWZhcmkgNS4xIC0gOSssIGlPUyA2IC0gOS4xXG5cdC8vIHRocm93IGV4Y2VwdGlvbnMgd2hlbiBub24tc3RyaWN0IGNvZGUgKGUuZy4sIEFTUC5ORVQgNC41KSBhY2Nlc3NlcyBzdHJpY3QgbW9kZVxuXHQvLyBhcmd1bWVudHMuY2FsbGVlLmNhbGxlciAodHJhYy0xMzMzNSkuIEJ1dCBhcyBvZiBqUXVlcnkgMy4wICgyMDE2KSwgc3RyaWN0IG1vZGUgc2hvdWxkIGJlIGNvbW1vblxuXHQvLyBlbm91Z2ggdGhhdCBhbGwgc3VjaCBhdHRlbXB0cyBhcmUgZ3VhcmRlZCBpbiBhIHRyeSBibG9jay5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgYXJyID0gW107XG5cdFxuXHR2YXIgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQ7XG5cdFxuXHR2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5cdFxuXHR2YXIgc2xpY2UgPSBhcnIuc2xpY2U7XG5cdFxuXHR2YXIgY29uY2F0ID0gYXJyLmNvbmNhdDtcblx0XG5cdHZhciBwdXNoID0gYXJyLnB1c2g7XG5cdFxuXHR2YXIgaW5kZXhPZiA9IGFyci5pbmRleE9mO1xuXHRcblx0dmFyIGNsYXNzMnR5cGUgPSB7fTtcblx0XG5cdHZhciB0b1N0cmluZyA9IGNsYXNzMnR5cGUudG9TdHJpbmc7XG5cdFxuXHR2YXIgaGFzT3duID0gY2xhc3MydHlwZS5oYXNPd25Qcm9wZXJ0eTtcblx0XG5cdHZhciBmblRvU3RyaW5nID0gaGFzT3duLnRvU3RyaW5nO1xuXHRcblx0dmFyIE9iamVjdEZ1bmN0aW9uU3RyaW5nID0gZm5Ub1N0cmluZy5jYWxsKCBPYmplY3QgKTtcblx0XG5cdHZhciBzdXBwb3J0ID0ge307XG5cdFxuXHRcblx0XG5cdFx0ZnVuY3Rpb24gRE9NRXZhbCggY29kZSwgZG9jICkge1xuXHRcdFx0ZG9jID0gZG9jIHx8IGRvY3VtZW50O1xuXHRcblx0XHRcdHZhciBzY3JpcHQgPSBkb2MuY3JlYXRlRWxlbWVudCggXCJzY3JpcHRcIiApO1xuXHRcblx0XHRcdHNjcmlwdC50ZXh0ID0gY29kZTtcblx0XHRcdGRvYy5oZWFkLmFwcGVuZENoaWxkKCBzY3JpcHQgKS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBzY3JpcHQgKTtcblx0XHR9XG5cdC8qIGdsb2JhbCBTeW1ib2wgKi9cblx0Ly8gRGVmaW5pbmcgdGhpcyBnbG9iYWwgaW4gLmVzbGludHJjIHdvdWxkIGNyZWF0ZSBhIGRhbmdlciBvZiB1c2luZyB0aGUgZ2xvYmFsXG5cdC8vIHVuZ3VhcmRlZCBpbiBhbm90aGVyIHBsYWNlLCBpdCBzZWVtcyBzYWZlciB0byBkZWZpbmUgZ2xvYmFsIG9ubHkgZm9yIHRoaXMgbW9kdWxlXG5cdFxuXHRcblx0XG5cdHZhclxuXHRcdHZlcnNpb24gPSBcIjMuMS4wXCIsXG5cdFxuXHRcdC8vIERlZmluZSBhIGxvY2FsIGNvcHkgb2YgalF1ZXJ5XG5cdFx0alF1ZXJ5ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0ICkge1xuXHRcblx0XHRcdC8vIFRoZSBqUXVlcnkgb2JqZWN0IGlzIGFjdHVhbGx5IGp1c3QgdGhlIGluaXQgY29uc3RydWN0b3IgJ2VuaGFuY2VkJ1xuXHRcdFx0Ly8gTmVlZCBpbml0IGlmIGpRdWVyeSBpcyBjYWxsZWQgKGp1c3QgYWxsb3cgZXJyb3IgdG8gYmUgdGhyb3duIGlmIG5vdCBpbmNsdWRlZClcblx0XHRcdHJldHVybiBuZXcgalF1ZXJ5LmZuLmluaXQoIHNlbGVjdG9yLCBjb250ZXh0ICk7XG5cdFx0fSxcblx0XG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5XG5cdFx0Ly8gTWFrZSBzdXJlIHdlIHRyaW0gQk9NIGFuZCBOQlNQXG5cdFx0cnRyaW0gPSAvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2csXG5cdFxuXHRcdC8vIE1hdGNoZXMgZGFzaGVkIHN0cmluZyBmb3IgY2FtZWxpemluZ1xuXHRcdHJtc1ByZWZpeCA9IC9eLW1zLS8sXG5cdFx0cmRhc2hBbHBoYSA9IC8tKFthLXpdKS9nLFxuXHRcblx0XHQvLyBVc2VkIGJ5IGpRdWVyeS5jYW1lbENhc2UgYXMgY2FsbGJhY2sgdG8gcmVwbGFjZSgpXG5cdFx0ZmNhbWVsQ2FzZSA9IGZ1bmN0aW9uKCBhbGwsIGxldHRlciApIHtcblx0XHRcdHJldHVybiBsZXR0ZXIudG9VcHBlckNhc2UoKTtcblx0XHR9O1xuXHRcblx0alF1ZXJ5LmZuID0galF1ZXJ5LnByb3RvdHlwZSA9IHtcblx0XG5cdFx0Ly8gVGhlIGN1cnJlbnQgdmVyc2lvbiBvZiBqUXVlcnkgYmVpbmcgdXNlZFxuXHRcdGpxdWVyeTogdmVyc2lvbixcblx0XG5cdFx0Y29uc3RydWN0b3I6IGpRdWVyeSxcblx0XG5cdFx0Ly8gVGhlIGRlZmF1bHQgbGVuZ3RoIG9mIGEgalF1ZXJ5IG9iamVjdCBpcyAwXG5cdFx0bGVuZ3RoOiAwLFxuXHRcblx0XHR0b0FycmF5OiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBzbGljZS5jYWxsKCB0aGlzICk7XG5cdFx0fSxcblx0XG5cdFx0Ly8gR2V0IHRoZSBOdGggZWxlbWVudCBpbiB0aGUgbWF0Y2hlZCBlbGVtZW50IHNldCBPUlxuXHRcdC8vIEdldCB0aGUgd2hvbGUgbWF0Y2hlZCBlbGVtZW50IHNldCBhcyBhIGNsZWFuIGFycmF5XG5cdFx0Z2V0OiBmdW5jdGlvbiggbnVtICkge1xuXHRcdFx0cmV0dXJuIG51bSAhPSBudWxsID9cblx0XG5cdFx0XHRcdC8vIFJldHVybiBqdXN0IHRoZSBvbmUgZWxlbWVudCBmcm9tIHRoZSBzZXRcblx0XHRcdFx0KCBudW0gPCAwID8gdGhpc1sgbnVtICsgdGhpcy5sZW5ndGggXSA6IHRoaXNbIG51bSBdICkgOlxuXHRcblx0XHRcdFx0Ly8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgaW4gYSBjbGVhbiBhcnJheVxuXHRcdFx0XHRzbGljZS5jYWxsKCB0aGlzICk7XG5cdFx0fSxcblx0XG5cdFx0Ly8gVGFrZSBhbiBhcnJheSBvZiBlbGVtZW50cyBhbmQgcHVzaCBpdCBvbnRvIHRoZSBzdGFja1xuXHRcdC8vIChyZXR1cm5pbmcgdGhlIG5ldyBtYXRjaGVkIGVsZW1lbnQgc2V0KVxuXHRcdHB1c2hTdGFjazogZnVuY3Rpb24oIGVsZW1zICkge1xuXHRcblx0XHRcdC8vIEJ1aWxkIGEgbmV3IGpRdWVyeSBtYXRjaGVkIGVsZW1lbnQgc2V0XG5cdFx0XHR2YXIgcmV0ID0galF1ZXJ5Lm1lcmdlKCB0aGlzLmNvbnN0cnVjdG9yKCksIGVsZW1zICk7XG5cdFxuXHRcdFx0Ly8gQWRkIHRoZSBvbGQgb2JqZWN0IG9udG8gdGhlIHN0YWNrIChhcyBhIHJlZmVyZW5jZSlcblx0XHRcdHJldC5wcmV2T2JqZWN0ID0gdGhpcztcblx0XG5cdFx0XHQvLyBSZXR1cm4gdGhlIG5ld2x5LWZvcm1lZCBlbGVtZW50IHNldFxuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9LFxuXHRcblx0XHQvLyBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGV2ZXJ5IGVsZW1lbnQgaW4gdGhlIG1hdGNoZWQgc2V0LlxuXHRcdGVhY2g6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcblx0XHRcdHJldHVybiBqUXVlcnkuZWFjaCggdGhpcywgY2FsbGJhY2sgKTtcblx0XHR9LFxuXHRcblx0XHRtYXA6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcblx0XHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5Lm1hcCggdGhpcywgZnVuY3Rpb24oIGVsZW0sIGkgKSB7XG5cdFx0XHRcdHJldHVybiBjYWxsYmFjay5jYWxsKCBlbGVtLCBpLCBlbGVtICk7XG5cdFx0XHR9ICkgKTtcblx0XHR9LFxuXHRcblx0XHRzbGljZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHNsaWNlLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSApO1xuXHRcdH0sXG5cdFxuXHRcdGZpcnN0OiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB0aGlzLmVxKCAwICk7XG5cdFx0fSxcblx0XG5cdFx0bGFzdDogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lcSggLTEgKTtcblx0XHR9LFxuXHRcblx0XHRlcTogZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHR2YXIgbGVuID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRcdGogPSAraSArICggaSA8IDAgPyBsZW4gOiAwICk7XG5cdFx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGogPj0gMCAmJiBqIDwgbGVuID8gWyB0aGlzWyBqIF0gXSA6IFtdICk7XG5cdFx0fSxcblx0XG5cdFx0ZW5kOiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB0aGlzLnByZXZPYmplY3QgfHwgdGhpcy5jb25zdHJ1Y3RvcigpO1xuXHRcdH0sXG5cdFxuXHRcdC8vIEZvciBpbnRlcm5hbCB1c2Ugb25seS5cblx0XHQvLyBCZWhhdmVzIGxpa2UgYW4gQXJyYXkncyBtZXRob2QsIG5vdCBsaWtlIGEgalF1ZXJ5IG1ldGhvZC5cblx0XHRwdXNoOiBwdXNoLFxuXHRcdHNvcnQ6IGFyci5zb3J0LFxuXHRcdHNwbGljZTogYXJyLnNwbGljZVxuXHR9O1xuXHRcblx0alF1ZXJ5LmV4dGVuZCA9IGpRdWVyeS5mbi5leHRlbmQgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgb3B0aW9ucywgbmFtZSwgc3JjLCBjb3B5LCBjb3B5SXNBcnJheSwgY2xvbmUsXG5cdFx0XHR0YXJnZXQgPSBhcmd1bWVudHNbIDAgXSB8fCB7fSxcblx0XHRcdGkgPSAxLFxuXHRcdFx0bGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcblx0XHRcdGRlZXAgPSBmYWxzZTtcblx0XG5cdFx0Ly8gSGFuZGxlIGEgZGVlcCBjb3B5IHNpdHVhdGlvblxuXHRcdGlmICggdHlwZW9mIHRhcmdldCA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0XHRkZWVwID0gdGFyZ2V0O1xuXHRcblx0XHRcdC8vIFNraXAgdGhlIGJvb2xlYW4gYW5kIHRoZSB0YXJnZXRcblx0XHRcdHRhcmdldCA9IGFyZ3VtZW50c1sgaSBdIHx8IHt9O1xuXHRcdFx0aSsrO1xuXHRcdH1cblx0XG5cdFx0Ly8gSGFuZGxlIGNhc2Ugd2hlbiB0YXJnZXQgaXMgYSBzdHJpbmcgb3Igc29tZXRoaW5nIChwb3NzaWJsZSBpbiBkZWVwIGNvcHkpXG5cdFx0aWYgKCB0eXBlb2YgdGFyZ2V0ICE9PSBcIm9iamVjdFwiICYmICFqUXVlcnkuaXNGdW5jdGlvbiggdGFyZ2V0ICkgKSB7XG5cdFx0XHR0YXJnZXQgPSB7fTtcblx0XHR9XG5cdFxuXHRcdC8vIEV4dGVuZCBqUXVlcnkgaXRzZWxmIGlmIG9ubHkgb25lIGFyZ3VtZW50IGlzIHBhc3NlZFxuXHRcdGlmICggaSA9PT0gbGVuZ3RoICkge1xuXHRcdFx0dGFyZ2V0ID0gdGhpcztcblx0XHRcdGktLTtcblx0XHR9XG5cdFxuXHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcblx0XHRcdC8vIE9ubHkgZGVhbCB3aXRoIG5vbi1udWxsL3VuZGVmaW5lZCB2YWx1ZXNcblx0XHRcdGlmICggKCBvcHRpb25zID0gYXJndW1lbnRzWyBpIF0gKSAhPSBudWxsICkge1xuXHRcblx0XHRcdFx0Ly8gRXh0ZW5kIHRoZSBiYXNlIG9iamVjdFxuXHRcdFx0XHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0XHRcdFx0c3JjID0gdGFyZ2V0WyBuYW1lIF07XG5cdFx0XHRcdFx0Y29weSA9IG9wdGlvbnNbIG5hbWUgXTtcblx0XG5cdFx0XHRcdFx0Ly8gUHJldmVudCBuZXZlci1lbmRpbmcgbG9vcFxuXHRcdFx0XHRcdGlmICggdGFyZ2V0ID09PSBjb3B5ICkge1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBSZWN1cnNlIGlmIHdlJ3JlIG1lcmdpbmcgcGxhaW4gb2JqZWN0cyBvciBhcnJheXNcblx0XHRcdFx0XHRpZiAoIGRlZXAgJiYgY29weSAmJiAoIGpRdWVyeS5pc1BsYWluT2JqZWN0KCBjb3B5ICkgfHxcblx0XHRcdFx0XHRcdCggY29weUlzQXJyYXkgPSBqUXVlcnkuaXNBcnJheSggY29weSApICkgKSApIHtcblx0XG5cdFx0XHRcdFx0XHRpZiAoIGNvcHlJc0FycmF5ICkge1xuXHRcdFx0XHRcdFx0XHRjb3B5SXNBcnJheSA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRjbG9uZSA9IHNyYyAmJiBqUXVlcnkuaXNBcnJheSggc3JjICkgPyBzcmMgOiBbXTtcblx0XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRjbG9uZSA9IHNyYyAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdCggc3JjICkgPyBzcmMgOiB7fTtcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHQvLyBOZXZlciBtb3ZlIG9yaWdpbmFsIG9iamVjdHMsIGNsb25lIHRoZW1cblx0XHRcdFx0XHRcdHRhcmdldFsgbmFtZSBdID0galF1ZXJ5LmV4dGVuZCggZGVlcCwgY2xvbmUsIGNvcHkgKTtcblx0XG5cdFx0XHRcdFx0Ly8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlc1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIGNvcHkgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdHRhcmdldFsgbmFtZSBdID0gY29weTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdC8vIFJldHVybiB0aGUgbW9kaWZpZWQgb2JqZWN0XG5cdFx0cmV0dXJuIHRhcmdldDtcblx0fTtcblx0XG5cdGpRdWVyeS5leHRlbmQoIHtcblx0XG5cdFx0Ly8gVW5pcXVlIGZvciBlYWNoIGNvcHkgb2YgalF1ZXJ5IG9uIHRoZSBwYWdlXG5cdFx0ZXhwYW5kbzogXCJqUXVlcnlcIiArICggdmVyc2lvbiArIE1hdGgucmFuZG9tKCkgKS5yZXBsYWNlKCAvXFxEL2csIFwiXCIgKSxcblx0XG5cdFx0Ly8gQXNzdW1lIGpRdWVyeSBpcyByZWFkeSB3aXRob3V0IHRoZSByZWFkeSBtb2R1bGVcblx0XHRpc1JlYWR5OiB0cnVlLFxuXHRcblx0XHRlcnJvcjogZnVuY3Rpb24oIG1zZyApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvciggbXNnICk7XG5cdFx0fSxcblx0XG5cdFx0bm9vcDogZnVuY3Rpb24oKSB7fSxcblx0XG5cdFx0aXNGdW5jdGlvbjogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRcdHJldHVybiBqUXVlcnkudHlwZSggb2JqICkgPT09IFwiZnVuY3Rpb25cIjtcblx0XHR9LFxuXHRcblx0XHRpc0FycmF5OiBBcnJheS5pc0FycmF5LFxuXHRcblx0XHRpc1dpbmRvdzogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRcdHJldHVybiBvYmogIT0gbnVsbCAmJiBvYmogPT09IG9iai53aW5kb3c7XG5cdFx0fSxcblx0XG5cdFx0aXNOdW1lcmljOiBmdW5jdGlvbiggb2JqICkge1xuXHRcblx0XHRcdC8vIEFzIG9mIGpRdWVyeSAzLjAsIGlzTnVtZXJpYyBpcyBsaW1pdGVkIHRvXG5cdFx0XHQvLyBzdHJpbmdzIGFuZCBudW1iZXJzIChwcmltaXRpdmVzIG9yIG9iamVjdHMpXG5cdFx0XHQvLyB0aGF0IGNhbiBiZSBjb2VyY2VkIHRvIGZpbml0ZSBudW1iZXJzIChnaC0yNjYyKVxuXHRcdFx0dmFyIHR5cGUgPSBqUXVlcnkudHlwZSggb2JqICk7XG5cdFx0XHRyZXR1cm4gKCB0eXBlID09PSBcIm51bWJlclwiIHx8IHR5cGUgPT09IFwic3RyaW5nXCIgKSAmJlxuXHRcblx0XHRcdFx0Ly8gcGFyc2VGbG9hdCBOYU5zIG51bWVyaWMtY2FzdCBmYWxzZSBwb3NpdGl2ZXMgKFwiXCIpXG5cdFx0XHRcdC8vIC4uLmJ1dCBtaXNpbnRlcnByZXRzIGxlYWRpbmctbnVtYmVyIHN0cmluZ3MsIHBhcnRpY3VsYXJseSBoZXggbGl0ZXJhbHMgKFwiMHguLi5cIilcblx0XHRcdFx0Ly8gc3VidHJhY3Rpb24gZm9yY2VzIGluZmluaXRpZXMgdG8gTmFOXG5cdFx0XHRcdCFpc05hTiggb2JqIC0gcGFyc2VGbG9hdCggb2JqICkgKTtcblx0XHR9LFxuXHRcblx0XHRpc1BsYWluT2JqZWN0OiBmdW5jdGlvbiggb2JqICkge1xuXHRcdFx0dmFyIHByb3RvLCBDdG9yO1xuXHRcblx0XHRcdC8vIERldGVjdCBvYnZpb3VzIG5lZ2F0aXZlc1xuXHRcdFx0Ly8gVXNlIHRvU3RyaW5nIGluc3RlYWQgb2YgalF1ZXJ5LnR5cGUgdG8gY2F0Y2ggaG9zdCBvYmplY3RzXG5cdFx0XHRpZiAoICFvYmogfHwgdG9TdHJpbmcuY2FsbCggb2JqICkgIT09IFwiW29iamVjdCBPYmplY3RdXCIgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XG5cdFx0XHRwcm90byA9IGdldFByb3RvKCBvYmogKTtcblx0XG5cdFx0XHQvLyBPYmplY3RzIHdpdGggbm8gcHJvdG90eXBlIChlLmcuLCBgT2JqZWN0LmNyZWF0ZSggbnVsbCApYCkgYXJlIHBsYWluXG5cdFx0XHRpZiAoICFwcm90byApIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gT2JqZWN0cyB3aXRoIHByb3RvdHlwZSBhcmUgcGxhaW4gaWZmIHRoZXkgd2VyZSBjb25zdHJ1Y3RlZCBieSBhIGdsb2JhbCBPYmplY3QgZnVuY3Rpb25cblx0XHRcdEN0b3IgPSBoYXNPd24uY2FsbCggcHJvdG8sIFwiY29uc3RydWN0b3JcIiApICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuXHRcdFx0cmV0dXJuIHR5cGVvZiBDdG9yID09PSBcImZ1bmN0aW9uXCIgJiYgZm5Ub1N0cmluZy5jYWxsKCBDdG9yICkgPT09IE9iamVjdEZ1bmN0aW9uU3RyaW5nO1xuXHRcdH0sXG5cdFxuXHRcdGlzRW1wdHlPYmplY3Q6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFxuXHRcdFx0LyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cblx0XHRcdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZXNsaW50L2VzbGludC9pc3N1ZXMvNjEyNVxuXHRcdFx0dmFyIG5hbWU7XG5cdFxuXHRcdFx0Zm9yICggbmFtZSBpbiBvYmogKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0sXG5cdFxuXHRcdHR5cGU6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0XHRpZiAoIG9iaiA9PSBudWxsICkge1xuXHRcdFx0XHRyZXR1cm4gb2JqICsgXCJcIjtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9Mi4zIG9ubHkgKGZ1bmN0aW9uaXNoIFJlZ0V4cClcblx0XHRcdHJldHVybiB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBvYmogPT09IFwiZnVuY3Rpb25cIiA/XG5cdFx0XHRcdGNsYXNzMnR5cGVbIHRvU3RyaW5nLmNhbGwoIG9iaiApIF0gfHwgXCJvYmplY3RcIiA6XG5cdFx0XHRcdHR5cGVvZiBvYmo7XG5cdFx0fSxcblx0XG5cdFx0Ly8gRXZhbHVhdGVzIGEgc2NyaXB0IGluIGEgZ2xvYmFsIGNvbnRleHRcblx0XHRnbG9iYWxFdmFsOiBmdW5jdGlvbiggY29kZSApIHtcblx0XHRcdERPTUV2YWwoIGNvZGUgKTtcblx0XHR9LFxuXHRcblx0XHQvLyBDb252ZXJ0IGRhc2hlZCB0byBjYW1lbENhc2U7IHVzZWQgYnkgdGhlIGNzcyBhbmQgZGF0YSBtb2R1bGVzXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEsIEVkZ2UgMTIgLSAxM1xuXHRcdC8vIE1pY3Jvc29mdCBmb3Jnb3QgdG8gaHVtcCB0aGVpciB2ZW5kb3IgcHJlZml4ICgjOTU3Milcblx0XHRjYW1lbENhc2U6IGZ1bmN0aW9uKCBzdHJpbmcgKSB7XG5cdFx0XHRyZXR1cm4gc3RyaW5nLnJlcGxhY2UoIHJtc1ByZWZpeCwgXCJtcy1cIiApLnJlcGxhY2UoIHJkYXNoQWxwaGEsIGZjYW1lbENhc2UgKTtcblx0XHR9LFxuXHRcblx0XHRub2RlTmFtZTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHR9LFxuXHRcblx0XHRlYWNoOiBmdW5jdGlvbiggb2JqLCBjYWxsYmFjayApIHtcblx0XHRcdHZhciBsZW5ndGgsIGkgPSAwO1xuXHRcblx0XHRcdGlmICggaXNBcnJheUxpa2UoIG9iaiApICkge1xuXHRcdFx0XHRsZW5ndGggPSBvYmoubGVuZ3RoO1xuXHRcdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrLmNhbGwoIG9ialsgaSBdLCBpLCBvYmpbIGkgXSApID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yICggaSBpbiBvYmogKSB7XG5cdFx0XHRcdFx0aWYgKCBjYWxsYmFjay5jYWxsKCBvYmpbIGkgXSwgaSwgb2JqWyBpIF0gKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gb2JqO1xuXHRcdH0sXG5cdFxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seVxuXHRcdHRyaW06IGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRcdFx0cmV0dXJuIHRleHQgPT0gbnVsbCA/XG5cdFx0XHRcdFwiXCIgOlxuXHRcdFx0XHQoIHRleHQgKyBcIlwiICkucmVwbGFjZSggcnRyaW0sIFwiXCIgKTtcblx0XHR9LFxuXHRcblx0XHQvLyByZXN1bHRzIGlzIGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5XG5cdFx0bWFrZUFycmF5OiBmdW5jdGlvbiggYXJyLCByZXN1bHRzICkge1xuXHRcdFx0dmFyIHJldCA9IHJlc3VsdHMgfHwgW107XG5cdFxuXHRcdFx0aWYgKCBhcnIgIT0gbnVsbCApIHtcblx0XHRcdFx0aWYgKCBpc0FycmF5TGlrZSggT2JqZWN0KCBhcnIgKSApICkge1xuXHRcdFx0XHRcdGpRdWVyeS5tZXJnZSggcmV0LFxuXHRcdFx0XHRcdFx0dHlwZW9mIGFyciA9PT0gXCJzdHJpbmdcIiA/XG5cdFx0XHRcdFx0XHRbIGFyciBdIDogYXJyXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRwdXNoLmNhbGwoIHJldCwgYXJyICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH0sXG5cdFxuXHRcdGluQXJyYXk6IGZ1bmN0aW9uKCBlbGVtLCBhcnIsIGkgKSB7XG5cdFx0XHRyZXR1cm4gYXJyID09IG51bGwgPyAtMSA6IGluZGV4T2YuY2FsbCggYXJyLCBlbGVtLCBpICk7XG5cdFx0fSxcblx0XG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdG1lcmdlOiBmdW5jdGlvbiggZmlyc3QsIHNlY29uZCApIHtcblx0XHRcdHZhciBsZW4gPSArc2Vjb25kLmxlbmd0aCxcblx0XHRcdFx0aiA9IDAsXG5cdFx0XHRcdGkgPSBmaXJzdC5sZW5ndGg7XG5cdFxuXHRcdFx0Zm9yICggOyBqIDwgbGVuOyBqKysgKSB7XG5cdFx0XHRcdGZpcnN0WyBpKysgXSA9IHNlY29uZFsgaiBdO1xuXHRcdFx0fVxuXHRcblx0XHRcdGZpcnN0Lmxlbmd0aCA9IGk7XG5cdFxuXHRcdFx0cmV0dXJuIGZpcnN0O1xuXHRcdH0sXG5cdFxuXHRcdGdyZXA6IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ssIGludmVydCApIHtcblx0XHRcdHZhciBjYWxsYmFja0ludmVyc2UsXG5cdFx0XHRcdG1hdGNoZXMgPSBbXSxcblx0XHRcdFx0aSA9IDAsXG5cdFx0XHRcdGxlbmd0aCA9IGVsZW1zLmxlbmd0aCxcblx0XHRcdFx0Y2FsbGJhY2tFeHBlY3QgPSAhaW52ZXJ0O1xuXHRcblx0XHRcdC8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCBvbmx5IHNhdmluZyB0aGUgaXRlbXNcblx0XHRcdC8vIHRoYXQgcGFzcyB0aGUgdmFsaWRhdG9yIGZ1bmN0aW9uXG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0Y2FsbGJhY2tJbnZlcnNlID0gIWNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpICk7XG5cdFx0XHRcdGlmICggY2FsbGJhY2tJbnZlcnNlICE9PSBjYWxsYmFja0V4cGVjdCApIHtcblx0XHRcdFx0XHRtYXRjaGVzLnB1c2goIGVsZW1zWyBpIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiBtYXRjaGVzO1xuXHRcdH0sXG5cdFxuXHRcdC8vIGFyZyBpcyBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seVxuXHRcdG1hcDogZnVuY3Rpb24oIGVsZW1zLCBjYWxsYmFjaywgYXJnICkge1xuXHRcdFx0dmFyIGxlbmd0aCwgdmFsdWUsXG5cdFx0XHRcdGkgPSAwLFxuXHRcdFx0XHRyZXQgPSBbXTtcblx0XG5cdFx0XHQvLyBHbyB0aHJvdWdoIHRoZSBhcnJheSwgdHJhbnNsYXRpbmcgZWFjaCBvZiB0aGUgaXRlbXMgdG8gdGhlaXIgbmV3IHZhbHVlc1xuXHRcdFx0aWYgKCBpc0FycmF5TGlrZSggZWxlbXMgKSApIHtcblx0XHRcdFx0bGVuZ3RoID0gZWxlbXMubGVuZ3RoO1xuXHRcdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0XHR2YWx1ZSA9IGNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpLCBhcmcgKTtcblx0XG5cdFx0XHRcdFx0aWYgKCB2YWx1ZSAhPSBudWxsICkge1xuXHRcdFx0XHRcdFx0cmV0LnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0Ly8gR28gdGhyb3VnaCBldmVyeSBrZXkgb24gdGhlIG9iamVjdCxcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZvciAoIGkgaW4gZWxlbXMgKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSBjYWxsYmFjayggZWxlbXNbIGkgXSwgaSwgYXJnICk7XG5cdFxuXHRcdFx0XHRcdGlmICggdmFsdWUgIT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdHJldC5wdXNoKCB2YWx1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcblx0XHRcdHJldHVybiBjb25jYXQuYXBwbHkoIFtdLCByZXQgKTtcblx0XHR9LFxuXHRcblx0XHQvLyBBIGdsb2JhbCBHVUlEIGNvdW50ZXIgZm9yIG9iamVjdHNcblx0XHRndWlkOiAxLFxuXHRcblx0XHQvLyBCaW5kIGEgZnVuY3Rpb24gdG8gYSBjb250ZXh0LCBvcHRpb25hbGx5IHBhcnRpYWxseSBhcHBseWluZyBhbnlcblx0XHQvLyBhcmd1bWVudHMuXG5cdFx0cHJveHk6IGZ1bmN0aW9uKCBmbiwgY29udGV4dCApIHtcblx0XHRcdHZhciB0bXAsIGFyZ3MsIHByb3h5O1xuXHRcblx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdHRtcCA9IGZuWyBjb250ZXh0IF07XG5cdFx0XHRcdGNvbnRleHQgPSBmbjtcblx0XHRcdFx0Zm4gPSB0bXA7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gUXVpY2sgY2hlY2sgdG8gZGV0ZXJtaW5lIGlmIHRhcmdldCBpcyBjYWxsYWJsZSwgaW4gdGhlIHNwZWNcblx0XHRcdC8vIHRoaXMgdGhyb3dzIGEgVHlwZUVycm9yLCBidXQgd2Ugd2lsbCBqdXN0IHJldHVybiB1bmRlZmluZWQuXG5cdFx0XHRpZiAoICFqUXVlcnkuaXNGdW5jdGlvbiggZm4gKSApIHtcblx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBTaW11bGF0ZWQgYmluZFxuXHRcdFx0YXJncyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cywgMiApO1xuXHRcdFx0cHJveHkgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIGZuLmFwcGx5KCBjb250ZXh0IHx8IHRoaXMsIGFyZ3MuY29uY2F0KCBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSApICk7XG5cdFx0XHR9O1xuXHRcblx0XHRcdC8vIFNldCB0aGUgZ3VpZCBvZiB1bmlxdWUgaGFuZGxlciB0byB0aGUgc2FtZSBvZiBvcmlnaW5hbCBoYW5kbGVyLCBzbyBpdCBjYW4gYmUgcmVtb3ZlZFxuXHRcdFx0cHJveHkuZ3VpZCA9IGZuLmd1aWQgPSBmbi5ndWlkIHx8IGpRdWVyeS5ndWlkKys7XG5cdFxuXHRcdFx0cmV0dXJuIHByb3h5O1xuXHRcdH0sXG5cdFxuXHRcdG5vdzogRGF0ZS5ub3csXG5cdFxuXHRcdC8vIGpRdWVyeS5zdXBwb3J0IGlzIG5vdCB1c2VkIGluIENvcmUgYnV0IG90aGVyIHByb2plY3RzIGF0dGFjaCB0aGVpclxuXHRcdC8vIHByb3BlcnRpZXMgdG8gaXQgc28gaXQgbmVlZHMgdG8gZXhpc3QuXG5cdFx0c3VwcG9ydDogc3VwcG9ydFxuXHR9ICk7XG5cdFxuXHRpZiAoIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiApIHtcblx0XHRqUXVlcnkuZm5bIFN5bWJvbC5pdGVyYXRvciBdID0gYXJyWyBTeW1ib2wuaXRlcmF0b3IgXTtcblx0fVxuXHRcblx0Ly8gUG9wdWxhdGUgdGhlIGNsYXNzMnR5cGUgbWFwXG5cdGpRdWVyeS5lYWNoKCBcIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sXCIuc3BsaXQoIFwiIFwiICksXG5cdGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHRcdGNsYXNzMnR5cGVbIFwiW29iamVjdCBcIiArIG5hbWUgKyBcIl1cIiBdID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXHR9ICk7XG5cdFxuXHRmdW5jdGlvbiBpc0FycmF5TGlrZSggb2JqICkge1xuXHRcblx0XHQvLyBTdXBwb3J0OiByZWFsIGlPUyA4LjIgb25seSAobm90IHJlcHJvZHVjaWJsZSBpbiBzaW11bGF0b3IpXG5cdFx0Ly8gYGluYCBjaGVjayB1c2VkIHRvIHByZXZlbnQgSklUIGVycm9yIChnaC0yMTQ1KVxuXHRcdC8vIGhhc093biBpc24ndCB1c2VkIGhlcmUgZHVlIHRvIGZhbHNlIG5lZ2F0aXZlc1xuXHRcdC8vIHJlZ2FyZGluZyBOb2RlbGlzdCBsZW5ndGggaW4gSUVcblx0XHR2YXIgbGVuZ3RoID0gISFvYmogJiYgXCJsZW5ndGhcIiBpbiBvYmogJiYgb2JqLmxlbmd0aCxcblx0XHRcdHR5cGUgPSBqUXVlcnkudHlwZSggb2JqICk7XG5cdFxuXHRcdGlmICggdHlwZSA9PT0gXCJmdW5jdGlvblwiIHx8IGpRdWVyeS5pc1dpbmRvdyggb2JqICkgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gdHlwZSA9PT0gXCJhcnJheVwiIHx8IGxlbmd0aCA9PT0gMCB8fFxuXHRcdFx0dHlwZW9mIGxlbmd0aCA9PT0gXCJudW1iZXJcIiAmJiBsZW5ndGggPiAwICYmICggbGVuZ3RoIC0gMSApIGluIG9iajtcblx0fVxuXHR2YXIgU2l6emxlID1cblx0LyohXG5cdCAqIFNpenpsZSBDU1MgU2VsZWN0b3IgRW5naW5lIHYyLjMuMFxuXHQgKiBodHRwczovL3NpenpsZWpzLmNvbS9cblx0ICpcblx0ICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcblx0ICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG5cdCAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2Vcblx0ICpcblx0ICogRGF0ZTogMjAxNi0wMS0wNFxuXHQgKi9cblx0KGZ1bmN0aW9uKCB3aW5kb3cgKSB7XG5cdFxuXHR2YXIgaSxcblx0XHRzdXBwb3J0LFxuXHRcdEV4cHIsXG5cdFx0Z2V0VGV4dCxcblx0XHRpc1hNTCxcblx0XHR0b2tlbml6ZSxcblx0XHRjb21waWxlLFxuXHRcdHNlbGVjdCxcblx0XHRvdXRlcm1vc3RDb250ZXh0LFxuXHRcdHNvcnRJbnB1dCxcblx0XHRoYXNEdXBsaWNhdGUsXG5cdFxuXHRcdC8vIExvY2FsIGRvY3VtZW50IHZhcnNcblx0XHRzZXREb2N1bWVudCxcblx0XHRkb2N1bWVudCxcblx0XHRkb2NFbGVtLFxuXHRcdGRvY3VtZW50SXNIVE1MLFxuXHRcdHJidWdneVFTQSxcblx0XHRyYnVnZ3lNYXRjaGVzLFxuXHRcdG1hdGNoZXMsXG5cdFx0Y29udGFpbnMsXG5cdFxuXHRcdC8vIEluc3RhbmNlLXNwZWNpZmljIGRhdGFcblx0XHRleHBhbmRvID0gXCJzaXp6bGVcIiArIDEgKiBuZXcgRGF0ZSgpLFxuXHRcdHByZWZlcnJlZERvYyA9IHdpbmRvdy5kb2N1bWVudCxcblx0XHRkaXJydW5zID0gMCxcblx0XHRkb25lID0gMCxcblx0XHRjbGFzc0NhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0XHR0b2tlbkNhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0XHRjb21waWxlckNhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0XHRzb3J0T3JkZXIgPSBmdW5jdGlvbiggYSwgYiApIHtcblx0XHRcdGlmICggYSA9PT0gYiApIHtcblx0XHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiAwO1xuXHRcdH0sXG5cdFxuXHRcdC8vIEluc3RhbmNlIG1ldGhvZHNcblx0XHRoYXNPd24gPSAoe30pLmhhc093blByb3BlcnR5LFxuXHRcdGFyciA9IFtdLFxuXHRcdHBvcCA9IGFyci5wb3AsXG5cdFx0cHVzaF9uYXRpdmUgPSBhcnIucHVzaCxcblx0XHRwdXNoID0gYXJyLnB1c2gsXG5cdFx0c2xpY2UgPSBhcnIuc2xpY2UsXG5cdFx0Ly8gVXNlIGEgc3RyaXBwZWQtZG93biBpbmRleE9mIGFzIGl0J3MgZmFzdGVyIHRoYW4gbmF0aXZlXG5cdFx0Ly8gaHR0cHM6Ly9qc3BlcmYuY29tL3Rob3ItaW5kZXhvZi12cy1mb3IvNVxuXHRcdGluZGV4T2YgPSBmdW5jdGlvbiggbGlzdCwgZWxlbSApIHtcblx0XHRcdHZhciBpID0gMCxcblx0XHRcdFx0bGVuID0gbGlzdC5sZW5ndGg7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0aWYgKCBsaXN0W2ldID09PSBlbGVtICkge1xuXHRcdFx0XHRcdHJldHVybiBpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gLTE7XG5cdFx0fSxcblx0XG5cdFx0Ym9vbGVhbnMgPSBcImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkXCIsXG5cdFxuXHRcdC8vIFJlZ3VsYXIgZXhwcmVzc2lvbnNcblx0XG5cdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1zZWxlY3RvcnMvI3doaXRlc3BhY2Vcblx0XHR3aGl0ZXNwYWNlID0gXCJbXFxcXHgyMFxcXFx0XFxcXHJcXFxcblxcXFxmXVwiLFxuXHRcblx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyMS9zeW5kYXRhLmh0bWwjdmFsdWUtZGVmLWlkZW50aWZpZXJcblx0XHRpZGVudGlmaWVyID0gXCIoPzpcXFxcXFxcXC58W1xcXFx3LV18W15cXDAtXFxcXHhhMF0pK1wiLFxuXHRcblx0XHQvLyBBdHRyaWJ1dGUgc2VsZWN0b3JzOiBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2F0dHJpYnV0ZS1zZWxlY3RvcnNcblx0XHRhdHRyaWJ1dGVzID0gXCJcXFxcW1wiICsgd2hpdGVzcGFjZSArIFwiKihcIiArIGlkZW50aWZpZXIgKyBcIikoPzpcIiArIHdoaXRlc3BhY2UgK1xuXHRcdFx0Ly8gT3BlcmF0b3IgKGNhcHR1cmUgMilcblx0XHRcdFwiKihbKl4kfCF+XT89KVwiICsgd2hpdGVzcGFjZSArXG5cdFx0XHQvLyBcIkF0dHJpYnV0ZSB2YWx1ZXMgbXVzdCBiZSBDU1MgaWRlbnRpZmllcnMgW2NhcHR1cmUgNV0gb3Igc3RyaW5ncyBbY2FwdHVyZSAzIG9yIGNhcHR1cmUgNF1cIlxuXHRcdFx0XCIqKD86JygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwifChcIiArIGlkZW50aWZpZXIgKyBcIikpfClcIiArIHdoaXRlc3BhY2UgK1xuXHRcdFx0XCIqXFxcXF1cIixcblx0XG5cdFx0cHNldWRvcyA9IFwiOihcIiArIGlkZW50aWZpZXIgKyBcIikoPzpcXFxcKChcIiArXG5cdFx0XHQvLyBUbyByZWR1Y2UgdGhlIG51bWJlciBvZiBzZWxlY3RvcnMgbmVlZGluZyB0b2tlbml6ZSBpbiB0aGUgcHJlRmlsdGVyLCBwcmVmZXIgYXJndW1lbnRzOlxuXHRcdFx0Ly8gMS4gcXVvdGVkIChjYXB0dXJlIDM7IGNhcHR1cmUgNCBvciBjYXB0dXJlIDUpXG5cdFx0XHRcIignKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCIpfFwiICtcblx0XHRcdC8vIDIuIHNpbXBsZSAoY2FwdHVyZSA2KVxuXHRcdFx0XCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFwoKVtcXFxcXV18XCIgKyBhdHRyaWJ1dGVzICsgXCIpKil8XCIgK1xuXHRcdFx0Ly8gMy4gYW55dGhpbmcgZWxzZSAoY2FwdHVyZSAyKVxuXHRcdFx0XCIuKlwiICtcblx0XHRcdFwiKVxcXFwpfClcIixcblx0XG5cdFx0Ly8gTGVhZGluZyBhbmQgbm9uLWVzY2FwZWQgdHJhaWxpbmcgd2hpdGVzcGFjZSwgY2FwdHVyaW5nIHNvbWUgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVycyBwcmVjZWRpbmcgdGhlIGxhdHRlclxuXHRcdHJ3aGl0ZXNwYWNlID0gbmV3IFJlZ0V4cCggd2hpdGVzcGFjZSArIFwiK1wiLCBcImdcIiApLFxuXHRcdHJ0cmltID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIrfCgoPzpefFteXFxcXFxcXFxdKSg/OlxcXFxcXFxcLikqKVwiICsgd2hpdGVzcGFjZSArIFwiKyRcIiwgXCJnXCIgKSxcblx0XG5cdFx0cmNvbW1hID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqLFwiICsgd2hpdGVzcGFjZSArIFwiKlwiICksXG5cdFx0cmNvbWJpbmF0b3JzID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqKFs+K35dfFwiICsgd2hpdGVzcGFjZSArIFwiKVwiICsgd2hpdGVzcGFjZSArIFwiKlwiICksXG5cdFxuXHRcdHJhdHRyaWJ1dGVRdW90ZXMgPSBuZXcgUmVnRXhwKCBcIj1cIiArIHdoaXRlc3BhY2UgKyBcIiooW15cXFxcXSdcXFwiXSo/KVwiICsgd2hpdGVzcGFjZSArIFwiKlxcXFxdXCIsIFwiZ1wiICksXG5cdFxuXHRcdHJwc2V1ZG8gPSBuZXcgUmVnRXhwKCBwc2V1ZG9zICksXG5cdFx0cmlkZW50aWZpZXIgPSBuZXcgUmVnRXhwKCBcIl5cIiArIGlkZW50aWZpZXIgKyBcIiRcIiApLFxuXHRcblx0XHRtYXRjaEV4cHIgPSB7XG5cdFx0XHRcIklEXCI6IG5ldyBSZWdFeHAoIFwiXiMoXCIgKyBpZGVudGlmaWVyICsgXCIpXCIgKSxcblx0XHRcdFwiQ0xBU1NcIjogbmV3IFJlZ0V4cCggXCJeXFxcXC4oXCIgKyBpZGVudGlmaWVyICsgXCIpXCIgKSxcblx0XHRcdFwiVEFHXCI6IG5ldyBSZWdFeHAoIFwiXihcIiArIGlkZW50aWZpZXIgKyBcInxbKl0pXCIgKSxcblx0XHRcdFwiQVRUUlwiOiBuZXcgUmVnRXhwKCBcIl5cIiArIGF0dHJpYnV0ZXMgKSxcblx0XHRcdFwiUFNFVURPXCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgcHNldWRvcyApLFxuXHRcdFx0XCJDSElMRFwiOiBuZXcgUmVnRXhwKCBcIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcXFwoXCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcdFx0XCIqKGV2ZW58b2RkfCgoWystXXwpKFxcXFxkKilufClcIiArIHdoaXRlc3BhY2UgKyBcIiooPzooWystXXwpXCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcdFx0XCIqKFxcXFxkKyl8KSlcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcKXwpXCIsIFwiaVwiICksXG5cdFx0XHRcImJvb2xcIjogbmV3IFJlZ0V4cCggXCJeKD86XCIgKyBib29sZWFucyArIFwiKSRcIiwgXCJpXCIgKSxcblx0XHRcdC8vIEZvciB1c2UgaW4gbGlicmFyaWVzIGltcGxlbWVudGluZyAuaXMoKVxuXHRcdFx0Ly8gV2UgdXNlIHRoaXMgZm9yIFBPUyBtYXRjaGluZyBpbiBgc2VsZWN0YFxuXHRcdFx0XCJuZWVkc0NvbnRleHRcIjogbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXFxcKFwiICtcblx0XHRcdFx0d2hpdGVzcGFjZSArIFwiKigoPzotXFxcXGQpP1xcXFxkKilcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcKXwpKD89W14tXXwkKVwiLCBcImlcIiApXG5cdFx0fSxcblx0XG5cdFx0cmlucHV0cyA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksXG5cdFx0cmhlYWRlciA9IC9eaFxcZCQvaSxcblx0XG5cdFx0cm5hdGl2ZSA9IC9eW157XStcXHtcXHMqXFxbbmF0aXZlIFxcdy8sXG5cdFxuXHRcdC8vIEVhc2lseS1wYXJzZWFibGUvcmV0cmlldmFibGUgSUQgb3IgVEFHIG9yIENMQVNTIHNlbGVjdG9yc1xuXHRcdHJxdWlja0V4cHIgPSAvXig/OiMoW1xcdy1dKyl8KFxcdyspfFxcLihbXFx3LV0rKSkkLyxcblx0XG5cdFx0cnNpYmxpbmcgPSAvWyt+XS8sXG5cdFxuXHRcdC8vIENTUyBlc2NhcGVzXG5cdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMjEvc3luZGF0YS5odG1sI2VzY2FwZWQtY2hhcmFjdGVyc1xuXHRcdHJ1bmVzY2FwZSA9IG5ldyBSZWdFeHAoIFwiXFxcXFxcXFwoW1xcXFxkYS1mXXsxLDZ9XCIgKyB3aGl0ZXNwYWNlICsgXCI/fChcIiArIHdoaXRlc3BhY2UgKyBcIil8LilcIiwgXCJpZ1wiICksXG5cdFx0ZnVuZXNjYXBlID0gZnVuY3Rpb24oIF8sIGVzY2FwZWQsIGVzY2FwZWRXaGl0ZXNwYWNlICkge1xuXHRcdFx0dmFyIGhpZ2ggPSBcIjB4XCIgKyBlc2NhcGVkIC0gMHgxMDAwMDtcblx0XHRcdC8vIE5hTiBtZWFucyBub24tY29kZXBvaW50XG5cdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94PDI0XG5cdFx0XHQvLyBXb3JrYXJvdW5kIGVycm9uZW91cyBudW1lcmljIGludGVycHJldGF0aW9uIG9mICtcIjB4XCJcblx0XHRcdHJldHVybiBoaWdoICE9PSBoaWdoIHx8IGVzY2FwZWRXaGl0ZXNwYWNlID9cblx0XHRcdFx0ZXNjYXBlZCA6XG5cdFx0XHRcdGhpZ2ggPCAwID9cblx0XHRcdFx0XHQvLyBCTVAgY29kZXBvaW50XG5cdFx0XHRcdFx0U3RyaW5nLmZyb21DaGFyQ29kZSggaGlnaCArIDB4MTAwMDAgKSA6XG5cdFx0XHRcdFx0Ly8gU3VwcGxlbWVudGFsIFBsYW5lIGNvZGVwb2ludCAoc3Vycm9nYXRlIHBhaXIpXG5cdFx0XHRcdFx0U3RyaW5nLmZyb21DaGFyQ29kZSggaGlnaCA+PiAxMCB8IDB4RDgwMCwgaGlnaCAmIDB4M0ZGIHwgMHhEQzAwICk7XG5cdFx0fSxcblx0XG5cdFx0Ly8gQ1NTIHN0cmluZy9pZGVudGlmaWVyIHNlcmlhbGl6YXRpb25cblx0XHQvLyBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3Nzb20vI2NvbW1vbi1zZXJpYWxpemluZy1pZGlvbXNcblx0XHRyY3NzZXNjYXBlID0gLyhbXFwwLVxceDFmXFx4N2ZdfF4tP1xcZCl8Xi0kfFteXFx4ODAtXFx1RkZGRlxcdy1dL2csXG5cdFx0ZmNzc2VzY2FwZSA9IGZ1bmN0aW9uKCBjaCwgYXNDb2RlUG9pbnQgKSB7XG5cdFx0XHRpZiAoIGFzQ29kZVBvaW50ICkge1xuXHRcblx0XHRcdFx0Ly8gVSswMDAwIE5VTEwgYmVjb21lcyBVK0ZGRkQgUkVQTEFDRU1FTlQgQ0hBUkFDVEVSXG5cdFx0XHRcdGlmICggY2ggPT09IFwiXFwwXCIgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIFwiXFx1RkZGRFwiO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBDb250cm9sIGNoYXJhY3RlcnMgYW5kIChkZXBlbmRlbnQgdXBvbiBwb3NpdGlvbikgbnVtYmVycyBnZXQgZXNjYXBlZCBhcyBjb2RlIHBvaW50c1xuXHRcdFx0XHRyZXR1cm4gY2guc2xpY2UoIDAsIC0xICkgKyBcIlxcXFxcIiArIGNoLmNoYXJDb2RlQXQoIGNoLmxlbmd0aCAtIDEgKS50b1N0cmluZyggMTYgKSArIFwiIFwiO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIE90aGVyIHBvdGVudGlhbGx5LXNwZWNpYWwgQVNDSUkgY2hhcmFjdGVycyBnZXQgYmFja3NsYXNoLWVzY2FwZWRcblx0XHRcdHJldHVybiBcIlxcXFxcIiArIGNoO1xuXHRcdH0sXG5cdFxuXHRcdC8vIFVzZWQgZm9yIGlmcmFtZXNcblx0XHQvLyBTZWUgc2V0RG9jdW1lbnQoKVxuXHRcdC8vIFJlbW92aW5nIHRoZSBmdW5jdGlvbiB3cmFwcGVyIGNhdXNlcyBhIFwiUGVybWlzc2lvbiBEZW5pZWRcIlxuXHRcdC8vIGVycm9yIGluIElFXG5cdFx0dW5sb2FkSGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0c2V0RG9jdW1lbnQoKTtcblx0XHR9LFxuXHRcblx0XHRkaXNhYmxlZEFuY2VzdG9yID0gYWRkQ29tYmluYXRvcihcblx0XHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gdHJ1ZTtcblx0XHRcdH0sXG5cdFx0XHR7IGRpcjogXCJwYXJlbnROb2RlXCIsIG5leHQ6IFwibGVnZW5kXCIgfVxuXHRcdCk7XG5cdFxuXHQvLyBPcHRpbWl6ZSBmb3IgcHVzaC5hcHBseSggXywgTm9kZUxpc3QgKVxuXHR0cnkge1xuXHRcdHB1c2guYXBwbHkoXG5cdFx0XHQoYXJyID0gc2xpY2UuY2FsbCggcHJlZmVycmVkRG9jLmNoaWxkTm9kZXMgKSksXG5cdFx0XHRwcmVmZXJyZWREb2MuY2hpbGROb2Rlc1xuXHRcdCk7XG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZDw0LjBcblx0XHQvLyBEZXRlY3Qgc2lsZW50bHkgZmFpbGluZyBwdXNoLmFwcGx5XG5cdFx0YXJyWyBwcmVmZXJyZWREb2MuY2hpbGROb2Rlcy5sZW5ndGggXS5ub2RlVHlwZTtcblx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0cHVzaCA9IHsgYXBwbHk6IGFyci5sZW5ndGggP1xuXHRcblx0XHRcdC8vIExldmVyYWdlIHNsaWNlIGlmIHBvc3NpYmxlXG5cdFx0XHRmdW5jdGlvbiggdGFyZ2V0LCBlbHMgKSB7XG5cdFx0XHRcdHB1c2hfbmF0aXZlLmFwcGx5KCB0YXJnZXQsIHNsaWNlLmNhbGwoZWxzKSApO1xuXHRcdFx0fSA6XG5cdFxuXHRcdFx0Ly8gU3VwcG9ydDogSUU8OVxuXHRcdFx0Ly8gT3RoZXJ3aXNlIGFwcGVuZCBkaXJlY3RseVxuXHRcdFx0ZnVuY3Rpb24oIHRhcmdldCwgZWxzICkge1xuXHRcdFx0XHR2YXIgaiA9IHRhcmdldC5sZW5ndGgsXG5cdFx0XHRcdFx0aSA9IDA7XG5cdFx0XHRcdC8vIENhbid0IHRydXN0IE5vZGVMaXN0Lmxlbmd0aFxuXHRcdFx0XHR3aGlsZSAoICh0YXJnZXRbaisrXSA9IGVsc1tpKytdKSApIHt9XG5cdFx0XHRcdHRhcmdldC5sZW5ndGggPSBqIC0gMTtcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBTaXp6bGUoIHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICkge1xuXHRcdHZhciBtLCBpLCBlbGVtLCBuaWQsIG1hdGNoLCBncm91cHMsIG5ld1NlbGVjdG9yLFxuXHRcdFx0bmV3Q29udGV4dCA9IGNvbnRleHQgJiYgY29udGV4dC5vd25lckRvY3VtZW50LFxuXHRcblx0XHRcdC8vIG5vZGVUeXBlIGRlZmF1bHRzIHRvIDksIHNpbmNlIGNvbnRleHQgZGVmYXVsdHMgdG8gZG9jdW1lbnRcblx0XHRcdG5vZGVUeXBlID0gY29udGV4dCA/IGNvbnRleHQubm9kZVR5cGUgOiA5O1xuXHRcblx0XHRyZXN1bHRzID0gcmVzdWx0cyB8fCBbXTtcblx0XG5cdFx0Ly8gUmV0dXJuIGVhcmx5IGZyb20gY2FsbHMgd2l0aCBpbnZhbGlkIHNlbGVjdG9yIG9yIGNvbnRleHRcblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiB8fCAhc2VsZWN0b3IgfHxcblx0XHRcdG5vZGVUeXBlICE9PSAxICYmIG5vZGVUeXBlICE9PSA5ICYmIG5vZGVUeXBlICE9PSAxMSApIHtcblx0XG5cdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHR9XG5cdFxuXHRcdC8vIFRyeSB0byBzaG9ydGN1dCBmaW5kIG9wZXJhdGlvbnMgKGFzIG9wcG9zZWQgdG8gZmlsdGVycykgaW4gSFRNTCBkb2N1bWVudHNcblx0XHRpZiAoICFzZWVkICkge1xuXHRcblx0XHRcdGlmICggKCBjb250ZXh0ID8gY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgOiBwcmVmZXJyZWREb2MgKSAhPT0gZG9jdW1lbnQgKSB7XG5cdFx0XHRcdHNldERvY3VtZW50KCBjb250ZXh0ICk7XG5cdFx0XHR9XG5cdFx0XHRjb250ZXh0ID0gY29udGV4dCB8fCBkb2N1bWVudDtcblx0XG5cdFx0XHRpZiAoIGRvY3VtZW50SXNIVE1MICkge1xuXHRcblx0XHRcdFx0Ly8gSWYgdGhlIHNlbGVjdG9yIGlzIHN1ZmZpY2llbnRseSBzaW1wbGUsIHRyeSB1c2luZyBhIFwiZ2V0KkJ5KlwiIERPTSBtZXRob2Rcblx0XHRcdFx0Ly8gKGV4Y2VwdGluZyBEb2N1bWVudEZyYWdtZW50IGNvbnRleHQsIHdoZXJlIHRoZSBtZXRob2RzIGRvbid0IGV4aXN0KVxuXHRcdFx0XHRpZiAoIG5vZGVUeXBlICE9PSAxMSAmJiAobWF0Y2ggPSBycXVpY2tFeHByLmV4ZWMoIHNlbGVjdG9yICkpICkge1xuXHRcblx0XHRcdFx0XHQvLyBJRCBzZWxlY3RvclxuXHRcdFx0XHRcdGlmICggKG0gPSBtYXRjaFsxXSkgKSB7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gRG9jdW1lbnQgY29udGV4dFxuXHRcdFx0XHRcdFx0aWYgKCBub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCAoZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIG0gKSkgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFLCBPcGVyYSwgV2Via2l0XG5cdFx0XHRcdFx0XHRcdFx0Ly8gVE9ETzogaWRlbnRpZnkgdmVyc2lvbnNcblx0XHRcdFx0XHRcdFx0XHQvLyBnZXRFbGVtZW50QnlJZCBjYW4gbWF0Y2ggZWxlbWVudHMgYnkgbmFtZSBpbnN0ZWFkIG9mIElEXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBlbGVtLmlkID09PSBtICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHQvLyBFbGVtZW50IGNvbnRleHRcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFxuXHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSwgT3BlcmEsIFdlYmtpdFxuXHRcdFx0XHRcdFx0XHQvLyBUT0RPOiBpZGVudGlmeSB2ZXJzaW9uc1xuXHRcdFx0XHRcdFx0XHQvLyBnZXRFbGVtZW50QnlJZCBjYW4gbWF0Y2ggZWxlbWVudHMgYnkgbmFtZSBpbnN0ZWFkIG9mIElEXG5cdFx0XHRcdFx0XHRcdGlmICggbmV3Q29udGV4dCAmJiAoZWxlbSA9IG5ld0NvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIG0gKSkgJiZcblx0XHRcdFx0XHRcdFx0XHRjb250YWlucyggY29udGV4dCwgZWxlbSApICYmXG5cdFx0XHRcdFx0XHRcdFx0ZWxlbS5pZCA9PT0gbSApIHtcblx0XG5cdFx0XHRcdFx0XHRcdFx0cmVzdWx0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gVHlwZSBzZWxlY3RvclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIG1hdGNoWzJdICkge1xuXHRcdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggc2VsZWN0b3IgKSApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFxuXHRcdFx0XHRcdC8vIENsYXNzIHNlbGVjdG9yXG5cdFx0XHRcdFx0fSBlbHNlIGlmICggKG0gPSBtYXRjaFszXSkgJiYgc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICYmXG5cdFx0XHRcdFx0XHRjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgKSB7XG5cdFxuXHRcdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBtICkgKTtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gVGFrZSBhZHZhbnRhZ2Ugb2YgcXVlcnlTZWxlY3RvckFsbFxuXHRcdFx0XHRpZiAoIHN1cHBvcnQucXNhICYmXG5cdFx0XHRcdFx0IWNvbXBpbGVyQ2FjaGVbIHNlbGVjdG9yICsgXCIgXCIgXSAmJlxuXHRcdFx0XHRcdCghcmJ1Z2d5UVNBIHx8ICFyYnVnZ3lRU0EudGVzdCggc2VsZWN0b3IgKSkgKSB7XG5cdFxuXHRcdFx0XHRcdGlmICggbm9kZVR5cGUgIT09IDEgKSB7XG5cdFx0XHRcdFx0XHRuZXdDb250ZXh0ID0gY29udGV4dDtcblx0XHRcdFx0XHRcdG5ld1NlbGVjdG9yID0gc2VsZWN0b3I7XG5cdFxuXHRcdFx0XHRcdC8vIHFTQSBsb29rcyBvdXRzaWRlIEVsZW1lbnQgY29udGV4dCwgd2hpY2ggaXMgbm90IHdoYXQgd2Ugd2FudFxuXHRcdFx0XHRcdC8vIFRoYW5rcyB0byBBbmRyZXcgRHVwb250IGZvciB0aGlzIHdvcmthcm91bmQgdGVjaG5pcXVlXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD04XG5cdFx0XHRcdFx0Ly8gRXhjbHVkZSBvYmplY3QgZWxlbWVudHNcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCBjb250ZXh0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09IFwib2JqZWN0XCIgKSB7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gQ2FwdHVyZSB0aGUgY29udGV4dCBJRCwgc2V0dGluZyBpdCBmaXJzdCBpZiBuZWNlc3Nhcnlcblx0XHRcdFx0XHRcdGlmICggKG5pZCA9IGNvbnRleHQuZ2V0QXR0cmlidXRlKCBcImlkXCIgKSkgKSB7XG5cdFx0XHRcdFx0XHRcdG5pZCA9IG5pZC5yZXBsYWNlKCByY3NzZXNjYXBlLCBmY3NzZXNjYXBlICk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRjb250ZXh0LnNldEF0dHJpYnV0ZSggXCJpZFwiLCAobmlkID0gZXhwYW5kbykgKTtcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHQvLyBQcmVmaXggZXZlcnkgc2VsZWN0b3IgaW4gdGhlIGxpc3Rcblx0XHRcdFx0XHRcdGdyb3VwcyA9IHRva2VuaXplKCBzZWxlY3RvciApO1xuXHRcdFx0XHRcdFx0aSA9IGdyb3Vwcy5sZW5ndGg7XG5cdFx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdFx0Z3JvdXBzW2ldID0gXCIjXCIgKyBuaWQgKyBcIiBcIiArIHRvU2VsZWN0b3IoIGdyb3Vwc1tpXSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0bmV3U2VsZWN0b3IgPSBncm91cHMuam9pbiggXCIsXCIgKTtcblx0XG5cdFx0XHRcdFx0XHQvLyBFeHBhbmQgY29udGV4dCBmb3Igc2libGluZyBzZWxlY3RvcnNcblx0XHRcdFx0XHRcdG5ld0NvbnRleHQgPSByc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fFxuXHRcdFx0XHRcdFx0XHRjb250ZXh0O1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0aWYgKCBuZXdTZWxlY3RvciApIHtcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsXG5cdFx0XHRcdFx0XHRcdFx0bmV3Q29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCBuZXdTZWxlY3RvciApXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdFx0fSBjYXRjaCAoIHFzYUVycm9yICkge1xuXHRcdFx0XHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0XHRcdFx0aWYgKCBuaWQgPT09IGV4cGFuZG8gKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dC5yZW1vdmVBdHRyaWJ1dGUoIFwiaWRcIiApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHQvLyBBbGwgb3RoZXJzXG5cdFx0cmV0dXJuIHNlbGVjdCggc2VsZWN0b3IucmVwbGFjZSggcnRyaW0sIFwiJDFcIiApLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBDcmVhdGUga2V5LXZhbHVlIGNhY2hlcyBvZiBsaW1pdGVkIHNpemVcblx0ICogQHJldHVybnMge2Z1bmN0aW9uKHN0cmluZywgb2JqZWN0KX0gUmV0dXJucyB0aGUgT2JqZWN0IGRhdGEgYWZ0ZXIgc3RvcmluZyBpdCBvbiBpdHNlbGYgd2l0aFxuXHQgKlx0cHJvcGVydHkgbmFtZSB0aGUgKHNwYWNlLXN1ZmZpeGVkKSBzdHJpbmcgYW5kIChpZiB0aGUgY2FjaGUgaXMgbGFyZ2VyIHRoYW4gRXhwci5jYWNoZUxlbmd0aClcblx0ICpcdGRlbGV0aW5nIHRoZSBvbGRlc3QgZW50cnlcblx0ICovXG5cdGZ1bmN0aW9uIGNyZWF0ZUNhY2hlKCkge1xuXHRcdHZhciBrZXlzID0gW107XG5cdFxuXHRcdGZ1bmN0aW9uIGNhY2hlKCBrZXksIHZhbHVlICkge1xuXHRcdFx0Ly8gVXNlIChrZXkgKyBcIiBcIikgdG8gYXZvaWQgY29sbGlzaW9uIHdpdGggbmF0aXZlIHByb3RvdHlwZSBwcm9wZXJ0aWVzIChzZWUgSXNzdWUgIzE1Nylcblx0XHRcdGlmICgga2V5cy5wdXNoKCBrZXkgKyBcIiBcIiApID4gRXhwci5jYWNoZUxlbmd0aCApIHtcblx0XHRcdFx0Ly8gT25seSBrZWVwIHRoZSBtb3N0IHJlY2VudCBlbnRyaWVzXG5cdFx0XHRcdGRlbGV0ZSBjYWNoZVsga2V5cy5zaGlmdCgpIF07XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gKGNhY2hlWyBrZXkgKyBcIiBcIiBdID0gdmFsdWUpO1xuXHRcdH1cblx0XHRyZXR1cm4gY2FjaGU7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBNYXJrIGEgZnVuY3Rpb24gZm9yIHNwZWNpYWwgdXNlIGJ5IFNpenpsZVxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gbWFya1xuXHQgKi9cblx0ZnVuY3Rpb24gbWFya0Z1bmN0aW9uKCBmbiApIHtcblx0XHRmblsgZXhwYW5kbyBdID0gdHJ1ZTtcblx0XHRyZXR1cm4gZm47XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBTdXBwb3J0IHRlc3RpbmcgdXNpbmcgYW4gZWxlbWVudFxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBQYXNzZWQgdGhlIGNyZWF0ZWQgZWxlbWVudCBhbmQgcmV0dXJucyBhIGJvb2xlYW4gcmVzdWx0XG5cdCAqL1xuXHRmdW5jdGlvbiBhc3NlcnQoIGZuICkge1xuXHRcdHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmaWVsZHNldFwiKTtcblx0XG5cdFx0dHJ5IHtcblx0XHRcdHJldHVybiAhIWZuKCBlbCApO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0Ly8gUmVtb3ZlIGZyb20gaXRzIHBhcmVudCBieSBkZWZhdWx0XG5cdFx0XHRpZiAoIGVsLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIGVsICk7XG5cdFx0XHR9XG5cdFx0XHQvLyByZWxlYXNlIG1lbW9yeSBpbiBJRVxuXHRcdFx0ZWwgPSBudWxsO1xuXHRcdH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIEFkZHMgdGhlIHNhbWUgaGFuZGxlciBmb3IgYWxsIG9mIHRoZSBzcGVjaWZpZWQgYXR0cnNcblx0ICogQHBhcmFtIHtTdHJpbmd9IGF0dHJzIFBpcGUtc2VwYXJhdGVkIGxpc3Qgb2YgYXR0cmlidXRlc1xuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIFRoZSBtZXRob2QgdGhhdCB3aWxsIGJlIGFwcGxpZWRcblx0ICovXG5cdGZ1bmN0aW9uIGFkZEhhbmRsZSggYXR0cnMsIGhhbmRsZXIgKSB7XG5cdFx0dmFyIGFyciA9IGF0dHJzLnNwbGl0KFwifFwiKSxcblx0XHRcdGkgPSBhcnIubGVuZ3RoO1xuXHRcblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdEV4cHIuYXR0ckhhbmRsZVsgYXJyW2ldIF0gPSBoYW5kbGVyO1xuXHRcdH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIENoZWNrcyBkb2N1bWVudCBvcmRlciBvZiB0d28gc2libGluZ3Ncblx0ICogQHBhcmFtIHtFbGVtZW50fSBhXG5cdCAqIEBwYXJhbSB7RWxlbWVudH0gYlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBSZXR1cm5zIGxlc3MgdGhhbiAwIGlmIGEgcHJlY2VkZXMgYiwgZ3JlYXRlciB0aGFuIDAgaWYgYSBmb2xsb3dzIGJcblx0ICovXG5cdGZ1bmN0aW9uIHNpYmxpbmdDaGVjayggYSwgYiApIHtcblx0XHR2YXIgY3VyID0gYiAmJiBhLFxuXHRcdFx0ZGlmZiA9IGN1ciAmJiBhLm5vZGVUeXBlID09PSAxICYmIGIubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0YS5zb3VyY2VJbmRleCAtIGIuc291cmNlSW5kZXg7XG5cdFxuXHRcdC8vIFVzZSBJRSBzb3VyY2VJbmRleCBpZiBhdmFpbGFibGUgb24gYm90aCBub2Rlc1xuXHRcdGlmICggZGlmZiApIHtcblx0XHRcdHJldHVybiBkaWZmO1xuXHRcdH1cblx0XG5cdFx0Ly8gQ2hlY2sgaWYgYiBmb2xsb3dzIGFcblx0XHRpZiAoIGN1ciApIHtcblx0XHRcdHdoaWxlICggKGN1ciA9IGN1ci5uZXh0U2libGluZykgKSB7XG5cdFx0XHRcdGlmICggY3VyID09PSBiICkge1xuXHRcdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0cmV0dXJuIGEgPyAxIDogLTE7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGlucHV0IHR5cGVzXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG5cdCAqL1xuXHRmdW5jdGlvbiBjcmVhdGVJbnB1dFBzZXVkbyggdHlwZSApIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiBuYW1lID09PSBcImlucHV0XCIgJiYgZWxlbS50eXBlID09PSB0eXBlO1xuXHRcdH07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGJ1dHRvbnNcblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcblx0ICovXG5cdGZ1bmN0aW9uIGNyZWF0ZUJ1dHRvblBzZXVkbyggdHlwZSApIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiAobmFtZSA9PT0gXCJpbnB1dFwiIHx8IG5hbWUgPT09IFwiYnV0dG9uXCIpICYmIGVsZW0udHlwZSA9PT0gdHlwZTtcblx0XHR9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciA6ZW5hYmxlZC86ZGlzYWJsZWRcblx0ICogQHBhcmFtIHtCb29sZWFufSBkaXNhYmxlZCB0cnVlIGZvciA6ZGlzYWJsZWQ7IGZhbHNlIGZvciA6ZW5hYmxlZFxuXHQgKi9cblx0ZnVuY3Rpb24gY3JlYXRlRGlzYWJsZWRQc2V1ZG8oIGRpc2FibGVkICkge1xuXHRcdC8vIEtub3duIDpkaXNhYmxlZCBmYWxzZSBwb3NpdGl2ZXM6XG5cdFx0Ly8gSUU6ICpbZGlzYWJsZWRdOm5vdChidXR0b24sIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBvcHRncm91cCwgb3B0aW9uLCBtZW51aXRlbSwgZmllbGRzZXQpXG5cdFx0Ly8gbm90IElFOiBmaWVsZHNldFtkaXNhYmxlZF0gPiBsZWdlbmQ6bnRoLW9mLXR5cGUobisyKSA6Y2FuLWRpc2FibGVcblx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFxuXHRcdFx0Ly8gQ2hlY2sgZm9ybSBlbGVtZW50cyBhbmQgb3B0aW9uIGVsZW1lbnRzIGZvciBleHBsaWNpdCBkaXNhYmxpbmdcblx0XHRcdHJldHVybiBcImxhYmVsXCIgaW4gZWxlbSAmJiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZCB8fFxuXHRcdFx0XHRcImZvcm1cIiBpbiBlbGVtICYmIGVsZW0uZGlzYWJsZWQgPT09IGRpc2FibGVkIHx8XG5cdFxuXHRcdFx0XHQvLyBDaGVjayBub24tZGlzYWJsZWQgZm9ybSBlbGVtZW50cyBmb3IgZmllbGRzZXRbZGlzYWJsZWRdIGFuY2VzdG9yc1xuXHRcdFx0XHRcImZvcm1cIiBpbiBlbGVtICYmIGVsZW0uZGlzYWJsZWQgPT09IGZhbHNlICYmIChcblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRTYtMTErXG5cdFx0XHRcdFx0Ly8gQW5jZXN0cnkgaXMgY292ZXJlZCBmb3IgdXNcblx0XHRcdFx0XHRlbGVtLmlzRGlzYWJsZWQgPT09IGRpc2FibGVkIHx8XG5cdFxuXHRcdFx0XHRcdC8vIE90aGVyd2lzZSwgYXNzdW1lIGFueSBub24tPG9wdGlvbj4gdW5kZXIgZmllbGRzZXRbZGlzYWJsZWRdIGlzIGRpc2FibGVkXG5cdFx0XHRcdFx0LyoganNoaW50IC1XMDE4ICovXG5cdFx0XHRcdFx0ZWxlbS5pc0Rpc2FibGVkICE9PSAhZGlzYWJsZWQgJiZcblx0XHRcdFx0XHRcdChcImxhYmVsXCIgaW4gZWxlbSB8fCAhZGlzYWJsZWRBbmNlc3RvciggZWxlbSApKSAhPT0gZGlzYWJsZWRcblx0XHRcdFx0KTtcblx0XHR9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBwb3NpdGlvbmFsc1xuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuXHQgKi9cblx0ZnVuY3Rpb24gY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZm4gKSB7XG5cdFx0cmV0dXJuIG1hcmtGdW5jdGlvbihmdW5jdGlvbiggYXJndW1lbnQgKSB7XG5cdFx0XHRhcmd1bWVudCA9ICthcmd1bWVudDtcblx0XHRcdHJldHVybiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMgKSB7XG5cdFx0XHRcdHZhciBqLFxuXHRcdFx0XHRcdG1hdGNoSW5kZXhlcyA9IGZuKCBbXSwgc2VlZC5sZW5ndGgsIGFyZ3VtZW50ICksXG5cdFx0XHRcdFx0aSA9IG1hdGNoSW5kZXhlcy5sZW5ndGg7XG5cdFxuXHRcdFx0XHQvLyBNYXRjaCBlbGVtZW50cyBmb3VuZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4ZXNcblx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0aWYgKCBzZWVkWyAoaiA9IG1hdGNoSW5kZXhlc1tpXSkgXSApIHtcblx0XHRcdFx0XHRcdHNlZWRbal0gPSAhKG1hdGNoZXNbal0gPSBzZWVkW2pdKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQ2hlY2tzIGEgbm9kZSBmb3IgdmFsaWRpdHkgYXMgYSBTaXp6bGUgY29udGV4dFxuXHQgKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0PX0gY29udGV4dFxuXHQgKiBAcmV0dXJucyB7RWxlbWVudHxPYmplY3R8Qm9vbGVhbn0gVGhlIGlucHV0IG5vZGUgaWYgYWNjZXB0YWJsZSwgb3RoZXJ3aXNlIGEgZmFsc3kgdmFsdWVcblx0ICovXG5cdGZ1bmN0aW9uIHRlc3RDb250ZXh0KCBjb250ZXh0ICkge1xuXHRcdHJldHVybiBjb250ZXh0ICYmIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiICYmIGNvbnRleHQ7XG5cdH1cblx0XG5cdC8vIEV4cG9zZSBzdXBwb3J0IHZhcnMgZm9yIGNvbnZlbmllbmNlXG5cdHN1cHBvcnQgPSBTaXp6bGUuc3VwcG9ydCA9IHt9O1xuXHRcblx0LyoqXG5cdCAqIERldGVjdHMgWE1MIG5vZGVzXG5cdCAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IGVsZW0gQW4gZWxlbWVudCBvciBhIGRvY3VtZW50XG5cdCAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmZiBlbGVtIGlzIGEgbm9uLUhUTUwgWE1MIG5vZGVcblx0ICovXG5cdGlzWE1MID0gU2l6emxlLmlzWE1MID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0Ly8gZG9jdW1lbnRFbGVtZW50IGlzIHZlcmlmaWVkIGZvciBjYXNlcyB3aGVyZSBpdCBkb2Vzbid0IHlldCBleGlzdFxuXHRcdC8vIChzdWNoIGFzIGxvYWRpbmcgaWZyYW1lcyBpbiBJRSAtICM0ODMzKVxuXHRcdHZhciBkb2N1bWVudEVsZW1lbnQgPSBlbGVtICYmIChlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSkuZG9jdW1lbnRFbGVtZW50O1xuXHRcdHJldHVybiBkb2N1bWVudEVsZW1lbnQgPyBkb2N1bWVudEVsZW1lbnQubm9kZU5hbWUgIT09IFwiSFRNTFwiIDogZmFsc2U7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2V0cyBkb2N1bWVudC1yZWxhdGVkIHZhcmlhYmxlcyBvbmNlIGJhc2VkIG9uIHRoZSBjdXJyZW50IGRvY3VtZW50XG5cdCAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IFtkb2NdIEFuIGVsZW1lbnQgb3IgZG9jdW1lbnQgb2JqZWN0IHRvIHVzZSB0byBzZXQgdGhlIGRvY3VtZW50XG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGN1cnJlbnQgZG9jdW1lbnRcblx0ICovXG5cdHNldERvY3VtZW50ID0gU2l6emxlLnNldERvY3VtZW50ID0gZnVuY3Rpb24oIG5vZGUgKSB7XG5cdFx0dmFyIGhhc0NvbXBhcmUsIHN1YldpbmRvdyxcblx0XHRcdGRvYyA9IG5vZGUgPyBub2RlLm93bmVyRG9jdW1lbnQgfHwgbm9kZSA6IHByZWZlcnJlZERvYztcblx0XG5cdFx0Ly8gUmV0dXJuIGVhcmx5IGlmIGRvYyBpcyBpbnZhbGlkIG9yIGFscmVhZHkgc2VsZWN0ZWRcblx0XHRpZiAoIGRvYyA9PT0gZG9jdW1lbnQgfHwgZG9jLm5vZGVUeXBlICE9PSA5IHx8ICFkb2MuZG9jdW1lbnRFbGVtZW50ICkge1xuXHRcdFx0cmV0dXJuIGRvY3VtZW50O1xuXHRcdH1cblx0XG5cdFx0Ly8gVXBkYXRlIGdsb2JhbCB2YXJpYWJsZXNcblx0XHRkb2N1bWVudCA9IGRvYztcblx0XHRkb2NFbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXHRcdGRvY3VtZW50SXNIVE1MID0gIWlzWE1MKCBkb2N1bWVudCApO1xuXHRcblx0XHQvLyBTdXBwb3J0OiBJRSA5LTExLCBFZGdlXG5cdFx0Ly8gQWNjZXNzaW5nIGlmcmFtZSBkb2N1bWVudHMgYWZ0ZXIgdW5sb2FkIHRocm93cyBcInBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3JzIChqUXVlcnkgIzEzOTM2KVxuXHRcdGlmICggcHJlZmVycmVkRG9jICE9PSBkb2N1bWVudCAmJlxuXHRcdFx0KHN1YldpbmRvdyA9IGRvY3VtZW50LmRlZmF1bHRWaWV3KSAmJiBzdWJXaW5kb3cudG9wICE9PSBzdWJXaW5kb3cgKSB7XG5cdFxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgMTEsIEVkZ2Vcblx0XHRcdGlmICggc3ViV2luZG93LmFkZEV2ZW50TGlzdGVuZXIgKSB7XG5cdFx0XHRcdHN1YldpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBcInVubG9hZFwiLCB1bmxvYWRIYW5kbGVyLCBmYWxzZSApO1xuXHRcblx0XHRcdC8vIFN1cHBvcnQ6IElFIDkgLSAxMCBvbmx5XG5cdFx0XHR9IGVsc2UgaWYgKCBzdWJXaW5kb3cuYXR0YWNoRXZlbnQgKSB7XG5cdFx0XHRcdHN1YldpbmRvdy5hdHRhY2hFdmVudCggXCJvbnVubG9hZFwiLCB1bmxvYWRIYW5kbGVyICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHQvKiBBdHRyaWJ1dGVzXG5cdFx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXHRcblx0XHQvLyBTdXBwb3J0OiBJRTw4XG5cdFx0Ly8gVmVyaWZ5IHRoYXQgZ2V0QXR0cmlidXRlIHJlYWxseSByZXR1cm5zIGF0dHJpYnV0ZXMgYW5kIG5vdCBwcm9wZXJ0aWVzXG5cdFx0Ly8gKGV4Y2VwdGluZyBJRTggYm9vbGVhbnMpXG5cdFx0c3VwcG9ydC5hdHRyaWJ1dGVzID0gYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0XHRcdGVsLmNsYXNzTmFtZSA9IFwiaVwiO1xuXHRcdFx0cmV0dXJuICFlbC5nZXRBdHRyaWJ1dGUoXCJjbGFzc05hbWVcIik7XG5cdFx0fSk7XG5cdFxuXHRcdC8qIGdldEVsZW1lbnQocylCeSpcblx0XHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cdFxuXHRcdC8vIENoZWNrIGlmIGdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKSByZXR1cm5zIG9ubHkgZWxlbWVudHNcblx0XHRzdXBwb3J0LmdldEVsZW1lbnRzQnlUYWdOYW1lID0gYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0XHRcdGVsLmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVDb21tZW50KFwiXCIpICk7XG5cdFx0XHRyZXR1cm4gIWVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKS5sZW5ndGg7XG5cdFx0fSk7XG5cdFxuXHRcdC8vIFN1cHBvcnQ6IElFPDlcblx0XHRzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgPSBybmF0aXZlLnRlc3QoIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgKTtcblx0XG5cdFx0Ly8gU3VwcG9ydDogSUU8MTBcblx0XHQvLyBDaGVjayBpZiBnZXRFbGVtZW50QnlJZCByZXR1cm5zIGVsZW1lbnRzIGJ5IG5hbWVcblx0XHQvLyBUaGUgYnJva2VuIGdldEVsZW1lbnRCeUlkIG1ldGhvZHMgZG9uJ3QgcGljayB1cCBwcm9ncmFtbWF0aWNhbGx5LXNldCBuYW1lcyxcblx0XHQvLyBzbyB1c2UgYSByb3VuZGFib3V0IGdldEVsZW1lbnRzQnlOYW1lIHRlc3Rcblx0XHRzdXBwb3J0LmdldEJ5SWQgPSBhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRcdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5pZCA9IGV4cGFuZG87XG5cdFx0XHRyZXR1cm4gIWRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lIHx8ICFkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSggZXhwYW5kbyApLmxlbmd0aDtcblx0XHR9KTtcblx0XG5cdFx0Ly8gSUQgZmluZCBhbmQgZmlsdGVyXG5cdFx0aWYgKCBzdXBwb3J0LmdldEJ5SWQgKSB7XG5cdFx0XHRFeHByLmZpbmRbXCJJRFwiXSA9IGZ1bmN0aW9uKCBpZCwgY29udGV4dCApIHtcblx0XHRcdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50QnlJZCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudElzSFRNTCApIHtcblx0XHRcdFx0XHR2YXIgbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIGlkICk7XG5cdFx0XHRcdFx0cmV0dXJuIG0gPyBbIG0gXSA6IFtdO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0RXhwci5maWx0ZXJbXCJJRFwiXSA9IGZ1bmN0aW9uKCBpZCApIHtcblx0XHRcdFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoXCJpZFwiKSA9PT0gYXR0cklkO1xuXHRcdFx0XHR9O1xuXHRcdFx0fTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gU3VwcG9ydDogSUU2Lzdcblx0XHRcdC8vIGdldEVsZW1lbnRCeUlkIGlzIG5vdCByZWxpYWJsZSBhcyBhIGZpbmQgc2hvcnRjdXRcblx0XHRcdGRlbGV0ZSBFeHByLmZpbmRbXCJJRFwiXTtcblx0XG5cdFx0XHRFeHByLmZpbHRlcltcIklEXCJdID0gIGZ1bmN0aW9uKCBpZCApIHtcblx0XHRcdFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHR2YXIgbm9kZSA9IHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZU5vZGUgIT09IFwidW5kZWZpbmVkXCIgJiZcblx0XHRcdFx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO1xuXHRcdFx0XHRcdHJldHVybiBub2RlICYmIG5vZGUudmFsdWUgPT09IGF0dHJJZDtcblx0XHRcdFx0fTtcblx0XHRcdH07XG5cdFx0fVxuXHRcblx0XHQvLyBUYWdcblx0XHRFeHByLmZpbmRbXCJUQUdcIl0gPSBzdXBwb3J0LmdldEVsZW1lbnRzQnlUYWdOYW1lID9cblx0XHRcdGZ1bmN0aW9uKCB0YWcsIGNvbnRleHQgKSB7XG5cdFx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyApO1xuXHRcblx0XHRcdFx0Ly8gRG9jdW1lbnRGcmFnbWVudCBub2RlcyBkb24ndCBoYXZlIGdFQlROXG5cdFx0XHRcdH0gZWxzZSBpZiAoIHN1cHBvcnQucXNhICkge1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIHRhZyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IDpcblx0XG5cdFx0XHRmdW5jdGlvbiggdGFnLCBjb250ZXh0ICkge1xuXHRcdFx0XHR2YXIgZWxlbSxcblx0XHRcdFx0XHR0bXAgPSBbXSxcblx0XHRcdFx0XHRpID0gMCxcblx0XHRcdFx0XHQvLyBCeSBoYXBweSBjb2luY2lkZW5jZSwgYSAoYnJva2VuKSBnRUJUTiBhcHBlYXJzIG9uIERvY3VtZW50RnJhZ21lbnQgbm9kZXMgdG9vXG5cdFx0XHRcdFx0cmVzdWx0cyA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyApO1xuXHRcblx0XHRcdFx0Ly8gRmlsdGVyIG91dCBwb3NzaWJsZSBjb21tZW50c1xuXHRcdFx0XHRpZiAoIHRhZyA9PT0gXCIqXCIgKSB7XG5cdFx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IHJlc3VsdHNbaSsrXSkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdFx0XHRcdHRtcC5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRyZXR1cm4gdG1wO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0fTtcblx0XG5cdFx0Ly8gQ2xhc3Ncblx0XHRFeHByLmZpbmRbXCJDTEFTU1wiXSA9IHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAmJiBmdW5jdGlvbiggY2xhc3NOYW1lLCBjb250ZXh0ICkge1xuXHRcdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50SXNIVE1MICkge1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBjbGFzc05hbWUgKTtcblx0XHRcdH1cblx0XHR9O1xuXHRcblx0XHQvKiBRU0EvbWF0Y2hlc1NlbGVjdG9yXG5cdFx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXHRcblx0XHQvLyBRU0EgYW5kIG1hdGNoZXNTZWxlY3RvciBzdXBwb3J0XG5cdFxuXHRcdC8vIG1hdGNoZXNTZWxlY3Rvcig6YWN0aXZlKSByZXBvcnRzIGZhbHNlIHdoZW4gdHJ1ZSAoSUU5L09wZXJhIDExLjUpXG5cdFx0cmJ1Z2d5TWF0Y2hlcyA9IFtdO1xuXHRcblx0XHQvLyBxU2EoOmZvY3VzKSByZXBvcnRzIGZhbHNlIHdoZW4gdHJ1ZSAoQ2hyb21lIDIxKVxuXHRcdC8vIFdlIGFsbG93IHRoaXMgYmVjYXVzZSBvZiBhIGJ1ZyBpbiBJRTgvOSB0aGF0IHRocm93cyBhbiBlcnJvclxuXHRcdC8vIHdoZW5ldmVyIGBkb2N1bWVudC5hY3RpdmVFbGVtZW50YCBpcyBhY2Nlc3NlZCBvbiBhbiBpZnJhbWVcblx0XHQvLyBTbywgd2UgYWxsb3cgOmZvY3VzIHRvIHBhc3MgdGhyb3VnaCBRU0EgYWxsIHRoZSB0aW1lIHRvIGF2b2lkIHRoZSBJRSBlcnJvclxuXHRcdC8vIFNlZSBodHRwczovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTMzNzhcblx0XHRyYnVnZ3lRU0EgPSBbXTtcblx0XG5cdFx0aWYgKCAoc3VwcG9ydC5xc2EgPSBybmF0aXZlLnRlc3QoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwgKSkgKSB7XG5cdFx0XHQvLyBCdWlsZCBRU0EgcmVnZXhcblx0XHRcdC8vIFJlZ2V4IHN0cmF0ZWd5IGFkb3B0ZWQgZnJvbSBEaWVnbyBQZXJpbmlcblx0XHRcdGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0XHRcdC8vIFNlbGVjdCBpcyBzZXQgdG8gZW1wdHkgc3RyaW5nIG9uIHB1cnBvc2Vcblx0XHRcdFx0Ly8gVGhpcyBpcyB0byB0ZXN0IElFJ3MgdHJlYXRtZW50IG9mIG5vdCBleHBsaWNpdGx5XG5cdFx0XHRcdC8vIHNldHRpbmcgYSBib29sZWFuIGNvbnRlbnQgYXR0cmlidXRlLFxuXHRcdFx0XHQvLyBzaW5jZSBpdHMgcHJlc2VuY2Ugc2hvdWxkIGJlIGVub3VnaFxuXHRcdFx0XHQvLyBodHRwczovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTIzNTlcblx0XHRcdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5pbm5lckhUTUwgPSBcIjxhIGlkPSdcIiArIGV4cGFuZG8gKyBcIic+PC9hPlwiICtcblx0XHRcdFx0XHRcIjxzZWxlY3QgaWQ9J1wiICsgZXhwYW5kbyArIFwiLVxcclxcXFwnIG1zYWxsb3djYXB0dXJlPScnPlwiICtcblx0XHRcdFx0XHRcIjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+XCI7XG5cdFxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRTgsIE9wZXJhIDExLTEyLjE2XG5cdFx0XHRcdC8vIE5vdGhpbmcgc2hvdWxkIGJlIHNlbGVjdGVkIHdoZW4gZW1wdHkgc3RyaW5ncyBmb2xsb3cgXj0gb3IgJD0gb3IgKj1cblx0XHRcdFx0Ly8gVGhlIHRlc3QgYXR0cmlidXRlIG11c3QgYmUgdW5rbm93biBpbiBPcGVyYSBidXQgXCJzYWZlXCIgZm9yIFdpblJUXG5cdFx0XHRcdC8vIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvaGg0NjUzODguYXNweCNhdHRyaWJ1dGVfc2VjdGlvblxuXHRcdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbbXNhbGxvd2NhcHR1cmVePScnXVwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiWypeJF09XCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86Jyd8XFxcIlxcXCIpXCIgKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gU3VwcG9ydDogSUU4XG5cdFx0XHRcdC8vIEJvb2xlYW4gYXR0cmlidXRlcyBhbmQgXCJ2YWx1ZVwiIGFyZSBub3QgdHJlYXRlZCBjb3JyZWN0bHlcblx0XHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbChcIltzZWxlY3RlZF1cIikubGVuZ3RoICkge1xuXHRcdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIlxcXFxbXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86dmFsdWV8XCIgKyBib29sZWFucyArIFwiKVwiICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZTwyOSwgQW5kcm9pZDw0LjQsIFNhZmFyaTw3LjArLCBpT1M8Ny4wKywgUGhhbnRvbUpTPDEuOS44K1xuXHRcdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIltpZH49XCIgKyBleHBhbmRvICsgXCItXVwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRcdHJidWdneVFTQS5wdXNoKFwifj1cIik7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFdlYmtpdC9PcGVyYSAtIDpjaGVja2VkIHNob3VsZCByZXR1cm4gc2VsZWN0ZWQgb3B0aW9uIGVsZW1lbnRzXG5cdFx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXG5cdFx0XHRcdC8vIElFOCB0aHJvd3MgZXJyb3IgaGVyZSBhbmQgd2lsbCBub3Qgc2VlIGxhdGVyIHRlc3RzXG5cdFx0XHRcdGlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6Y2hlY2tlZFwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCI6Y2hlY2tlZFwiKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gU3VwcG9ydDogU2FmYXJpIDgrLCBpT1MgOCtcblx0XHRcdFx0Ly8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzNjg1MVxuXHRcdFx0XHQvLyBJbi1wYWdlIGBzZWxlY3RvciNpZCBzaWJsaW5nLWNvbWJpbmF0b3Igc2VsZWN0b3JgIGZhaWxzXG5cdFx0XHRcdGlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiYSNcIiArIGV4cGFuZG8gKyBcIisqXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCIuIy4rWyt+XVwiKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFxuXHRcdFx0YXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0XHRcdFx0ZWwuaW5uZXJIVE1MID0gXCI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPlwiICtcblx0XHRcdFx0XHRcIjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD5cIjtcblx0XG5cdFx0XHRcdC8vIFN1cHBvcnQ6IFdpbmRvd3MgOCBOYXRpdmUgQXBwc1xuXHRcdFx0XHQvLyBUaGUgdHlwZSBhbmQgbmFtZSBhdHRyaWJ1dGVzIGFyZSByZXN0cmljdGVkIGR1cmluZyAuaW5uZXJIVE1MIGFzc2lnbm1lbnRcblx0XHRcdFx0dmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuXHRcdFx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCBcImhpZGRlblwiICk7XG5cdFx0XHRcdGVsLmFwcGVuZENoaWxkKCBpbnB1dCApLnNldEF0dHJpYnV0ZSggXCJuYW1lXCIsIFwiRFwiICk7XG5cdFxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRThcblx0XHRcdFx0Ly8gRW5mb3JjZSBjYXNlLXNlbnNpdGl2aXR5IG9mIG5hbWUgYXR0cmlidXRlXG5cdFx0XHRcdGlmICggZWwucXVlcnlTZWxlY3RvckFsbChcIltuYW1lPWRdXCIpLmxlbmd0aCApIHtcblx0XHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJuYW1lXCIgKyB3aGl0ZXNwYWNlICsgXCIqWypeJHwhfl0/PVwiICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIEZGIDMuNSAtIDplbmFibGVkLzpkaXNhYmxlZCBhbmQgaGlkZGVuIGVsZW1lbnRzIChoaWRkZW4gZWxlbWVudHMgYXJlIHN0aWxsIGVuYWJsZWQpXG5cdFx0XHRcdC8vIElFOCB0aHJvd3MgZXJyb3IgaGVyZSBhbmQgd2lsbCBub3Qgc2VlIGxhdGVyIHRlc3RzXG5cdFx0XHRcdGlmICggZWwucXVlcnlTZWxlY3RvckFsbChcIjplbmFibGVkXCIpLmxlbmd0aCAhPT0gMiApIHtcblx0XHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCI6ZW5hYmxlZFwiLCBcIjpkaXNhYmxlZFwiICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFOS0xMStcblx0XHRcdFx0Ly8gSUUncyA6ZGlzYWJsZWQgc2VsZWN0b3IgZG9lcyBub3QgcGljayB1cCB0aGUgY2hpbGRyZW4gb2YgZGlzYWJsZWQgZmllbGRzZXRzXG5cdFx0XHRcdGRvY0VsZW0uYXBwZW5kQ2hpbGQoIGVsICkuZGlzYWJsZWQgPSB0cnVlO1xuXHRcdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZGlzYWJsZWRcIikubGVuZ3RoICE9PSAyICkge1xuXHRcdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIjplbmFibGVkXCIsIFwiOmRpc2FibGVkXCIgKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gT3BlcmEgMTAtMTEgZG9lcyBub3QgdGhyb3cgb24gcG9zdC1jb21tYSBpbnZhbGlkIHBzZXVkb3Ncblx0XHRcdFx0ZWwucXVlcnlTZWxlY3RvckFsbChcIiosOnhcIik7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKFwiLC4qOlwiKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XG5cdFx0aWYgKCAoc3VwcG9ydC5tYXRjaGVzU2VsZWN0b3IgPSBybmF0aXZlLnRlc3QoIChtYXRjaGVzID0gZG9jRWxlbS5tYXRjaGVzIHx8XG5cdFx0XHRkb2NFbGVtLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fFxuXHRcdFx0ZG9jRWxlbS5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRcdGRvY0VsZW0ub01hdGNoZXNTZWxlY3RvciB8fFxuXHRcdFx0ZG9jRWxlbS5tc01hdGNoZXNTZWxlY3RvcikgKSkgKSB7XG5cdFxuXHRcdFx0YXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0XHRcdFx0Ly8gQ2hlY2sgdG8gc2VlIGlmIGl0J3MgcG9zc2libGUgdG8gZG8gbWF0Y2hlc1NlbGVjdG9yXG5cdFx0XHRcdC8vIG9uIGEgZGlzY29ubmVjdGVkIG5vZGUgKElFIDkpXG5cdFx0XHRcdHN1cHBvcnQuZGlzY29ubmVjdGVkTWF0Y2ggPSBtYXRjaGVzLmNhbGwoIGVsLCBcIipcIiApO1xuXHRcblx0XHRcdFx0Ly8gVGhpcyBzaG91bGQgZmFpbCB3aXRoIGFuIGV4Y2VwdGlvblxuXHRcdFx0XHQvLyBHZWNrbyBkb2VzIG5vdCBlcnJvciwgcmV0dXJucyBmYWxzZSBpbnN0ZWFkXG5cdFx0XHRcdG1hdGNoZXMuY2FsbCggZWwsIFwiW3MhPScnXTp4XCIgKTtcblx0XHRcdFx0cmJ1Z2d5TWF0Y2hlcy5wdXNoKCBcIiE9XCIsIHBzZXVkb3MgKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XG5cdFx0cmJ1Z2d5UVNBID0gcmJ1Z2d5UVNBLmxlbmd0aCAmJiBuZXcgUmVnRXhwKCByYnVnZ3lRU0Euam9pbihcInxcIikgKTtcblx0XHRyYnVnZ3lNYXRjaGVzID0gcmJ1Z2d5TWF0Y2hlcy5sZW5ndGggJiYgbmV3IFJlZ0V4cCggcmJ1Z2d5TWF0Y2hlcy5qb2luKFwifFwiKSApO1xuXHRcblx0XHQvKiBDb250YWluc1xuXHRcdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblx0XHRoYXNDb21wYXJlID0gcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICk7XG5cdFxuXHRcdC8vIEVsZW1lbnQgY29udGFpbnMgYW5vdGhlclxuXHRcdC8vIFB1cnBvc2VmdWxseSBzZWxmLWV4Y2x1c2l2ZVxuXHRcdC8vIEFzIGluLCBhbiBlbGVtZW50IGRvZXMgbm90IGNvbnRhaW4gaXRzZWxmXG5cdFx0Y29udGFpbnMgPSBoYXNDb21wYXJlIHx8IHJuYXRpdmUudGVzdCggZG9jRWxlbS5jb250YWlucyApID9cblx0XHRcdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdFx0XHR2YXIgYWRvd24gPSBhLm5vZGVUeXBlID09PSA5ID8gYS5kb2N1bWVudEVsZW1lbnQgOiBhLFxuXHRcdFx0XHRcdGJ1cCA9IGIgJiYgYi5wYXJlbnROb2RlO1xuXHRcdFx0XHRyZXR1cm4gYSA9PT0gYnVwIHx8ICEhKCBidXAgJiYgYnVwLm5vZGVUeXBlID09PSAxICYmIChcblx0XHRcdFx0XHRhZG93bi5jb250YWlucyA/XG5cdFx0XHRcdFx0XHRhZG93bi5jb250YWlucyggYnVwICkgOlxuXHRcdFx0XHRcdFx0YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAmJiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBidXAgKSAmIDE2XG5cdFx0XHRcdCkpO1xuXHRcdFx0fSA6XG5cdFx0XHRmdW5jdGlvbiggYSwgYiApIHtcblx0XHRcdFx0aWYgKCBiICkge1xuXHRcdFx0XHRcdHdoaWxlICggKGIgPSBiLnBhcmVudE5vZGUpICkge1xuXHRcdFx0XHRcdFx0aWYgKCBiID09PSBhICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fTtcblx0XG5cdFx0LyogU29ydGluZ1xuXHRcdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblx0XG5cdFx0Ly8gRG9jdW1lbnQgb3JkZXIgc29ydGluZ1xuXHRcdHNvcnRPcmRlciA9IGhhc0NvbXBhcmUgP1xuXHRcdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcblx0XHRcdC8vIEZsYWcgZm9yIGR1cGxpY2F0ZSByZW1vdmFsXG5cdFx0XHRpZiAoIGEgPT09IGIgKSB7XG5cdFx0XHRcdGhhc0R1cGxpY2F0ZSA9IHRydWU7XG5cdFx0XHRcdHJldHVybiAwO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFNvcnQgb24gbWV0aG9kIGV4aXN0ZW5jZSBpZiBvbmx5IG9uZSBpbnB1dCBoYXMgY29tcGFyZURvY3VtZW50UG9zaXRpb25cblx0XHRcdHZhciBjb21wYXJlID0gIWEuY29tcGFyZURvY3VtZW50UG9zaXRpb24gLSAhYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtcblx0XHRcdGlmICggY29tcGFyZSApIHtcblx0XHRcdFx0cmV0dXJuIGNvbXBhcmU7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gQ2FsY3VsYXRlIHBvc2l0aW9uIGlmIGJvdGggaW5wdXRzIGJlbG9uZyB0byB0aGUgc2FtZSBkb2N1bWVudFxuXHRcdFx0Y29tcGFyZSA9ICggYS5vd25lckRvY3VtZW50IHx8IGEgKSA9PT0gKCBiLm93bmVyRG9jdW1lbnQgfHwgYiApID9cblx0XHRcdFx0YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYiApIDpcblx0XG5cdFx0XHRcdC8vIE90aGVyd2lzZSB3ZSBrbm93IHRoZXkgYXJlIGRpc2Nvbm5lY3RlZFxuXHRcdFx0XHQxO1xuXHRcblx0XHRcdC8vIERpc2Nvbm5lY3RlZCBub2Rlc1xuXHRcdFx0aWYgKCBjb21wYXJlICYgMSB8fFxuXHRcdFx0XHQoIXN1cHBvcnQuc29ydERldGFjaGVkICYmIGIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGEgKSA9PT0gY29tcGFyZSkgKSB7XG5cdFxuXHRcdFx0XHQvLyBDaG9vc2UgdGhlIGZpcnN0IGVsZW1lbnQgdGhhdCBpcyByZWxhdGVkIHRvIG91ciBwcmVmZXJyZWQgZG9jdW1lbnRcblx0XHRcdFx0aWYgKCBhID09PSBkb2N1bWVudCB8fCBhLm93bmVyRG9jdW1lbnQgPT09IHByZWZlcnJlZERvYyAmJiBjb250YWlucyhwcmVmZXJyZWREb2MsIGEpICkge1xuXHRcdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIGIgPT09IGRvY3VtZW50IHx8IGIub3duZXJEb2N1bWVudCA9PT0gcHJlZmVycmVkRG9jICYmIGNvbnRhaW5zKHByZWZlcnJlZERvYywgYikgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIDE7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIE1haW50YWluIG9yaWdpbmFsIG9yZGVyXG5cdFx0XHRcdHJldHVybiBzb3J0SW5wdXQgP1xuXHRcdFx0XHRcdCggaW5kZXhPZiggc29ydElucHV0LCBhICkgLSBpbmRleE9mKCBzb3J0SW5wdXQsIGIgKSApIDpcblx0XHRcdFx0XHQwO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiBjb21wYXJlICYgNCA/IC0xIDogMTtcblx0XHR9IDpcblx0XHRmdW5jdGlvbiggYSwgYiApIHtcblx0XHRcdC8vIEV4aXQgZWFybHkgaWYgdGhlIG5vZGVzIGFyZSBpZGVudGljYWxcblx0XHRcdGlmICggYSA9PT0gYiApIHtcblx0XHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdFx0cmV0dXJuIDA7XG5cdFx0XHR9XG5cdFxuXHRcdFx0dmFyIGN1cixcblx0XHRcdFx0aSA9IDAsXG5cdFx0XHRcdGF1cCA9IGEucGFyZW50Tm9kZSxcblx0XHRcdFx0YnVwID0gYi5wYXJlbnROb2RlLFxuXHRcdFx0XHRhcCA9IFsgYSBdLFxuXHRcdFx0XHRicCA9IFsgYiBdO1xuXHRcblx0XHRcdC8vIFBhcmVudGxlc3Mgbm9kZXMgYXJlIGVpdGhlciBkb2N1bWVudHMgb3IgZGlzY29ubmVjdGVkXG5cdFx0XHRpZiAoICFhdXAgfHwgIWJ1cCApIHtcblx0XHRcdFx0cmV0dXJuIGEgPT09IGRvY3VtZW50ID8gLTEgOlxuXHRcdFx0XHRcdGIgPT09IGRvY3VtZW50ID8gMSA6XG5cdFx0XHRcdFx0YXVwID8gLTEgOlxuXHRcdFx0XHRcdGJ1cCA/IDEgOlxuXHRcdFx0XHRcdHNvcnRJbnB1dCA/XG5cdFx0XHRcdFx0KCBpbmRleE9mKCBzb3J0SW5wdXQsIGEgKSAtIGluZGV4T2YoIHNvcnRJbnB1dCwgYiApICkgOlxuXHRcdFx0XHRcdDA7XG5cdFxuXHRcdFx0Ly8gSWYgdGhlIG5vZGVzIGFyZSBzaWJsaW5ncywgd2UgY2FuIGRvIGEgcXVpY2sgY2hlY2tcblx0XHRcdH0gZWxzZSBpZiAoIGF1cCA9PT0gYnVwICkge1xuXHRcdFx0XHRyZXR1cm4gc2libGluZ0NoZWNrKCBhLCBiICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gT3RoZXJ3aXNlIHdlIG5lZWQgZnVsbCBsaXN0cyBvZiB0aGVpciBhbmNlc3RvcnMgZm9yIGNvbXBhcmlzb25cblx0XHRcdGN1ciA9IGE7XG5cdFx0XHR3aGlsZSAoIChjdXIgPSBjdXIucGFyZW50Tm9kZSkgKSB7XG5cdFx0XHRcdGFwLnVuc2hpZnQoIGN1ciApO1xuXHRcdFx0fVxuXHRcdFx0Y3VyID0gYjtcblx0XHRcdHdoaWxlICggKGN1ciA9IGN1ci5wYXJlbnROb2RlKSApIHtcblx0XHRcdFx0YnAudW5zaGlmdCggY3VyICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gV2FsayBkb3duIHRoZSB0cmVlIGxvb2tpbmcgZm9yIGEgZGlzY3JlcGFuY3lcblx0XHRcdHdoaWxlICggYXBbaV0gPT09IGJwW2ldICkge1xuXHRcdFx0XHRpKys7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIGkgP1xuXHRcdFx0XHQvLyBEbyBhIHNpYmxpbmcgY2hlY2sgaWYgdGhlIG5vZGVzIGhhdmUgYSBjb21tb24gYW5jZXN0b3Jcblx0XHRcdFx0c2libGluZ0NoZWNrKCBhcFtpXSwgYnBbaV0gKSA6XG5cdFxuXHRcdFx0XHQvLyBPdGhlcndpc2Ugbm9kZXMgaW4gb3VyIGRvY3VtZW50IHNvcnQgZmlyc3Rcblx0XHRcdFx0YXBbaV0gPT09IHByZWZlcnJlZERvYyA/IC0xIDpcblx0XHRcdFx0YnBbaV0gPT09IHByZWZlcnJlZERvYyA/IDEgOlxuXHRcdFx0XHQwO1xuXHRcdH07XG5cdFxuXHRcdHJldHVybiBkb2N1bWVudDtcblx0fTtcblx0XG5cdFNpenpsZS5tYXRjaGVzID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1lbnRzICkge1xuXHRcdHJldHVybiBTaXp6bGUoIGV4cHIsIG51bGwsIG51bGwsIGVsZW1lbnRzICk7XG5cdH07XG5cdFxuXHRTaXp6bGUubWF0Y2hlc1NlbGVjdG9yID0gZnVuY3Rpb24oIGVsZW0sIGV4cHIgKSB7XG5cdFx0Ly8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG5cdFx0aWYgKCAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtICkgIT09IGRvY3VtZW50ICkge1xuXHRcdFx0c2V0RG9jdW1lbnQoIGVsZW0gKTtcblx0XHR9XG5cdFxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IGF0dHJpYnV0ZSBzZWxlY3RvcnMgYXJlIHF1b3RlZFxuXHRcdGV4cHIgPSBleHByLnJlcGxhY2UoIHJhdHRyaWJ1dGVRdW90ZXMsIFwiPSckMSddXCIgKTtcblx0XG5cdFx0aWYgKCBzdXBwb3J0Lm1hdGNoZXNTZWxlY3RvciAmJiBkb2N1bWVudElzSFRNTCAmJlxuXHRcdFx0IWNvbXBpbGVyQ2FjaGVbIGV4cHIgKyBcIiBcIiBdICYmXG5cdFx0XHQoICFyYnVnZ3lNYXRjaGVzIHx8ICFyYnVnZ3lNYXRjaGVzLnRlc3QoIGV4cHIgKSApICYmXG5cdFx0XHQoICFyYnVnZ3lRU0EgICAgIHx8ICFyYnVnZ3lRU0EudGVzdCggZXhwciApICkgKSB7XG5cdFxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dmFyIHJldCA9IG1hdGNoZXMuY2FsbCggZWxlbSwgZXhwciApO1xuXHRcblx0XHRcdFx0Ly8gSUUgOSdzIG1hdGNoZXNTZWxlY3RvciByZXR1cm5zIGZhbHNlIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xuXHRcdFx0XHRpZiAoIHJldCB8fCBzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoIHx8XG5cdFx0XHRcdFx0XHQvLyBBcyB3ZWxsLCBkaXNjb25uZWN0ZWQgbm9kZXMgYXJlIHNhaWQgdG8gYmUgaW4gYSBkb2N1bWVudFxuXHRcdFx0XHRcdFx0Ly8gZnJhZ21lbnQgaW4gSUUgOVxuXHRcdFx0XHRcdFx0ZWxlbS5kb2N1bWVudCAmJiBlbGVtLmRvY3VtZW50Lm5vZGVUeXBlICE9PSAxMSApIHtcblx0XHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlKSB7fVxuXHRcdH1cblx0XG5cdFx0cmV0dXJuIFNpenpsZSggZXhwciwgZG9jdW1lbnQsIG51bGwsIFsgZWxlbSBdICkubGVuZ3RoID4gMDtcblx0fTtcblx0XG5cdFNpenpsZS5jb250YWlucyA9IGZ1bmN0aW9uKCBjb250ZXh0LCBlbGVtICkge1xuXHRcdC8vIFNldCBkb2N1bWVudCB2YXJzIGlmIG5lZWRlZFxuXHRcdGlmICggKCBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCApICE9PSBkb2N1bWVudCApIHtcblx0XHRcdHNldERvY3VtZW50KCBjb250ZXh0ICk7XG5cdFx0fVxuXHRcdHJldHVybiBjb250YWlucyggY29udGV4dCwgZWxlbSApO1xuXHR9O1xuXHRcblx0U2l6emxlLmF0dHIgPSBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcblx0XHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0XHRpZiAoICggZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0gKSAhPT0gZG9jdW1lbnQgKSB7XG5cdFx0XHRzZXREb2N1bWVudCggZWxlbSApO1xuXHRcdH1cblx0XG5cdFx0dmFyIGZuID0gRXhwci5hdHRySGFuZGxlWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSxcblx0XHRcdC8vIERvbid0IGdldCBmb29sZWQgYnkgT2JqZWN0LnByb3RvdHlwZSBwcm9wZXJ0aWVzIChqUXVlcnkgIzEzODA3KVxuXHRcdFx0dmFsID0gZm4gJiYgaGFzT3duLmNhbGwoIEV4cHIuYXR0ckhhbmRsZSwgbmFtZS50b0xvd2VyQ2FzZSgpICkgP1xuXHRcdFx0XHRmbiggZWxlbSwgbmFtZSwgIWRvY3VtZW50SXNIVE1MICkgOlxuXHRcdFx0XHR1bmRlZmluZWQ7XG5cdFxuXHRcdHJldHVybiB2YWwgIT09IHVuZGVmaW5lZCA/XG5cdFx0XHR2YWwgOlxuXHRcdFx0c3VwcG9ydC5hdHRyaWJ1dGVzIHx8ICFkb2N1bWVudElzSFRNTCA/XG5cdFx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lICkgOlxuXHRcdFx0XHQodmFsID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKG5hbWUpKSAmJiB2YWwuc3BlY2lmaWVkID9cblx0XHRcdFx0XHR2YWwudmFsdWUgOlxuXHRcdFx0XHRcdG51bGw7XG5cdH07XG5cdFxuXHRTaXp6bGUuZXNjYXBlID0gZnVuY3Rpb24oIHNlbCApIHtcblx0XHRyZXR1cm4gKHNlbCArIFwiXCIpLnJlcGxhY2UoIHJjc3Nlc2NhcGUsIGZjc3Nlc2NhcGUgKTtcblx0fTtcblx0XG5cdFNpenpsZS5lcnJvciA9IGZ1bmN0aW9uKCBtc2cgKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCBcIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246IFwiICsgbXNnICk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogRG9jdW1lbnQgc29ydGluZyBhbmQgcmVtb3ZpbmcgZHVwbGljYXRlc1xuXHQgKiBAcGFyYW0ge0FycmF5TGlrZX0gcmVzdWx0c1xuXHQgKi9cblx0U2l6emxlLnVuaXF1ZVNvcnQgPSBmdW5jdGlvbiggcmVzdWx0cyApIHtcblx0XHR2YXIgZWxlbSxcblx0XHRcdGR1cGxpY2F0ZXMgPSBbXSxcblx0XHRcdGogPSAwLFxuXHRcdFx0aSA9IDA7XG5cdFxuXHRcdC8vIFVubGVzcyB3ZSAqa25vdyogd2UgY2FuIGRldGVjdCBkdXBsaWNhdGVzLCBhc3N1bWUgdGhlaXIgcHJlc2VuY2Vcblx0XHRoYXNEdXBsaWNhdGUgPSAhc3VwcG9ydC5kZXRlY3REdXBsaWNhdGVzO1xuXHRcdHNvcnRJbnB1dCA9ICFzdXBwb3J0LnNvcnRTdGFibGUgJiYgcmVzdWx0cy5zbGljZSggMCApO1xuXHRcdHJlc3VsdHMuc29ydCggc29ydE9yZGVyICk7XG5cdFxuXHRcdGlmICggaGFzRHVwbGljYXRlICkge1xuXHRcdFx0d2hpbGUgKCAoZWxlbSA9IHJlc3VsdHNbaSsrXSkgKSB7XG5cdFx0XHRcdGlmICggZWxlbSA9PT0gcmVzdWx0c1sgaSBdICkge1xuXHRcdFx0XHRcdGogPSBkdXBsaWNhdGVzLnB1c2goIGkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0d2hpbGUgKCBqLS0gKSB7XG5cdFx0XHRcdHJlc3VsdHMuc3BsaWNlKCBkdXBsaWNhdGVzWyBqIF0sIDEgKTtcblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdC8vIENsZWFyIGlucHV0IGFmdGVyIHNvcnRpbmcgdG8gcmVsZWFzZSBvYmplY3RzXG5cdFx0Ly8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvc2l6emxlL3B1bGwvMjI1XG5cdFx0c29ydElucHV0ID0gbnVsbDtcblx0XG5cdFx0cmV0dXJuIHJlc3VsdHM7XG5cdH07XG5cdFxuXHQvKipcblx0ICogVXRpbGl0eSBmdW5jdGlvbiBmb3IgcmV0cmlldmluZyB0aGUgdGV4dCB2YWx1ZSBvZiBhbiBhcnJheSBvZiBET00gbm9kZXNcblx0ICogQHBhcmFtIHtBcnJheXxFbGVtZW50fSBlbGVtXG5cdCAqL1xuXHRnZXRUZXh0ID0gU2l6emxlLmdldFRleHQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0XHR2YXIgbm9kZSxcblx0XHRcdHJldCA9IFwiXCIsXG5cdFx0XHRpID0gMCxcblx0XHRcdG5vZGVUeXBlID0gZWxlbS5ub2RlVHlwZTtcblx0XG5cdFx0aWYgKCAhbm9kZVR5cGUgKSB7XG5cdFx0XHQvLyBJZiBubyBub2RlVHlwZSwgdGhpcyBpcyBleHBlY3RlZCB0byBiZSBhbiBhcnJheVxuXHRcdFx0d2hpbGUgKCAobm9kZSA9IGVsZW1baSsrXSkgKSB7XG5cdFx0XHRcdC8vIERvIG5vdCB0cmF2ZXJzZSBjb21tZW50IG5vZGVzXG5cdFx0XHRcdHJldCArPSBnZXRUZXh0KCBub2RlICk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDEgfHwgbm9kZVR5cGUgPT09IDkgfHwgbm9kZVR5cGUgPT09IDExICkge1xuXHRcdFx0Ly8gVXNlIHRleHRDb250ZW50IGZvciBlbGVtZW50c1xuXHRcdFx0Ly8gaW5uZXJUZXh0IHVzYWdlIHJlbW92ZWQgZm9yIGNvbnNpc3RlbmN5IG9mIG5ldyBsaW5lcyAoalF1ZXJ5ICMxMTE1Mylcblx0XHRcdGlmICggdHlwZW9mIGVsZW0udGV4dENvbnRlbnQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtLnRleHRDb250ZW50O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gVHJhdmVyc2UgaXRzIGNoaWxkcmVuXG5cdFx0XHRcdGZvciAoIGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7IGVsZW07IGVsZW0gPSBlbGVtLm5leHRTaWJsaW5nICkge1xuXHRcdFx0XHRcdHJldCArPSBnZXRUZXh0KCBlbGVtICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKCBub2RlVHlwZSA9PT0gMyB8fCBub2RlVHlwZSA9PT0gNCApIHtcblx0XHRcdHJldHVybiBlbGVtLm5vZGVWYWx1ZTtcblx0XHR9XG5cdFx0Ly8gRG8gbm90IGluY2x1ZGUgY29tbWVudCBvciBwcm9jZXNzaW5nIGluc3RydWN0aW9uIG5vZGVzXG5cdFxuXHRcdHJldHVybiByZXQ7XG5cdH07XG5cdFxuXHRFeHByID0gU2l6emxlLnNlbGVjdG9ycyA9IHtcblx0XG5cdFx0Ly8gQ2FuIGJlIGFkanVzdGVkIGJ5IHRoZSB1c2VyXG5cdFx0Y2FjaGVMZW5ndGg6IDUwLFxuXHRcblx0XHRjcmVhdGVQc2V1ZG86IG1hcmtGdW5jdGlvbixcblx0XG5cdFx0bWF0Y2g6IG1hdGNoRXhwcixcblx0XG5cdFx0YXR0ckhhbmRsZToge30sXG5cdFxuXHRcdGZpbmQ6IHt9LFxuXHRcblx0XHRyZWxhdGl2ZToge1xuXHRcdFx0XCI+XCI6IHsgZGlyOiBcInBhcmVudE5vZGVcIiwgZmlyc3Q6IHRydWUgfSxcblx0XHRcdFwiIFwiOiB7IGRpcjogXCJwYXJlbnROb2RlXCIgfSxcblx0XHRcdFwiK1wiOiB7IGRpcjogXCJwcmV2aW91c1NpYmxpbmdcIiwgZmlyc3Q6IHRydWUgfSxcblx0XHRcdFwiflwiOiB7IGRpcjogXCJwcmV2aW91c1NpYmxpbmdcIiB9XG5cdFx0fSxcblx0XG5cdFx0cHJlRmlsdGVyOiB7XG5cdFx0XHRcIkFUVFJcIjogZnVuY3Rpb24oIG1hdGNoICkge1xuXHRcdFx0XHRtYXRjaFsxXSA9IG1hdGNoWzFdLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFxuXHRcdFx0XHQvLyBNb3ZlIHRoZSBnaXZlbiB2YWx1ZSB0byBtYXRjaFszXSB3aGV0aGVyIHF1b3RlZCBvciB1bnF1b3RlZFxuXHRcdFx0XHRtYXRjaFszXSA9ICggbWF0Y2hbM10gfHwgbWF0Y2hbNF0gfHwgbWF0Y2hbNV0gfHwgXCJcIiApLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFxuXHRcdFx0XHRpZiAoIG1hdGNoWzJdID09PSBcIn49XCIgKSB7XG5cdFx0XHRcdFx0bWF0Y2hbM10gPSBcIiBcIiArIG1hdGNoWzNdICsgXCIgXCI7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHJldHVybiBtYXRjaC5zbGljZSggMCwgNCApO1xuXHRcdFx0fSxcblx0XG5cdFx0XHRcIkNISUxEXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcblx0XHRcdFx0LyogbWF0Y2hlcyBmcm9tIG1hdGNoRXhwcltcIkNISUxEXCJdXG5cdFx0XHRcdFx0MSB0eXBlIChvbmx5fG50aHwuLi4pXG5cdFx0XHRcdFx0MiB3aGF0IChjaGlsZHxvZi10eXBlKVxuXHRcdFx0XHRcdDMgYXJndW1lbnQgKGV2ZW58b2RkfFxcZCp8XFxkKm4oWystXVxcZCspP3wuLi4pXG5cdFx0XHRcdFx0NCB4bi1jb21wb25lbnQgb2YgeG4reSBhcmd1bWVudCAoWystXT9cXGQqbnwpXG5cdFx0XHRcdFx0NSBzaWduIG9mIHhuLWNvbXBvbmVudFxuXHRcdFx0XHRcdDYgeCBvZiB4bi1jb21wb25lbnRcblx0XHRcdFx0XHQ3IHNpZ24gb2YgeS1jb21wb25lbnRcblx0XHRcdFx0XHQ4IHkgb2YgeS1jb21wb25lbnRcblx0XHRcdFx0Ki9cblx0XHRcdFx0bWF0Y2hbMV0gPSBtYXRjaFsxXS50b0xvd2VyQ2FzZSgpO1xuXHRcblx0XHRcdFx0aWYgKCBtYXRjaFsxXS5zbGljZSggMCwgMyApID09PSBcIm50aFwiICkge1xuXHRcdFx0XHRcdC8vIG50aC0qIHJlcXVpcmVzIGFyZ3VtZW50XG5cdFx0XHRcdFx0aWYgKCAhbWF0Y2hbM10gKSB7XG5cdFx0XHRcdFx0XHRTaXp6bGUuZXJyb3IoIG1hdGNoWzBdICk7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBudW1lcmljIHggYW5kIHkgcGFyYW1ldGVycyBmb3IgRXhwci5maWx0ZXIuQ0hJTERcblx0XHRcdFx0XHQvLyByZW1lbWJlciB0aGF0IGZhbHNlL3RydWUgY2FzdCByZXNwZWN0aXZlbHkgdG8gMC8xXG5cdFx0XHRcdFx0bWF0Y2hbNF0gPSArKCBtYXRjaFs0XSA/IG1hdGNoWzVdICsgKG1hdGNoWzZdIHx8IDEpIDogMiAqICggbWF0Y2hbM10gPT09IFwiZXZlblwiIHx8IG1hdGNoWzNdID09PSBcIm9kZFwiICkgKTtcblx0XHRcdFx0XHRtYXRjaFs1XSA9ICsoICggbWF0Y2hbN10gKyBtYXRjaFs4XSApIHx8IG1hdGNoWzNdID09PSBcIm9kZFwiICk7XG5cdFxuXHRcdFx0XHQvLyBvdGhlciB0eXBlcyBwcm9oaWJpdCBhcmd1bWVudHNcblx0XHRcdFx0fSBlbHNlIGlmICggbWF0Y2hbM10gKSB7XG5cdFx0XHRcdFx0U2l6emxlLmVycm9yKCBtYXRjaFswXSApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRyZXR1cm4gbWF0Y2g7XG5cdFx0XHR9LFxuXHRcblx0XHRcdFwiUFNFVURPXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcblx0XHRcdFx0dmFyIGV4Y2Vzcyxcblx0XHRcdFx0XHR1bnF1b3RlZCA9ICFtYXRjaFs2XSAmJiBtYXRjaFsyXTtcblx0XG5cdFx0XHRcdGlmICggbWF0Y2hFeHByW1wiQ0hJTERcIl0udGVzdCggbWF0Y2hbMF0gKSApIHtcblx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gQWNjZXB0IHF1b3RlZCBhcmd1bWVudHMgYXMtaXNcblx0XHRcdFx0aWYgKCBtYXRjaFszXSApIHtcblx0XHRcdFx0XHRtYXRjaFsyXSA9IG1hdGNoWzRdIHx8IG1hdGNoWzVdIHx8IFwiXCI7XG5cdFxuXHRcdFx0XHQvLyBTdHJpcCBleGNlc3MgY2hhcmFjdGVycyBmcm9tIHVucXVvdGVkIGFyZ3VtZW50c1xuXHRcdFx0XHR9IGVsc2UgaWYgKCB1bnF1b3RlZCAmJiBycHNldWRvLnRlc3QoIHVucXVvdGVkICkgJiZcblx0XHRcdFx0XHQvLyBHZXQgZXhjZXNzIGZyb20gdG9rZW5pemUgKHJlY3Vyc2l2ZWx5KVxuXHRcdFx0XHRcdChleGNlc3MgPSB0b2tlbml6ZSggdW5xdW90ZWQsIHRydWUgKSkgJiZcblx0XHRcdFx0XHQvLyBhZHZhbmNlIHRvIHRoZSBuZXh0IGNsb3NpbmcgcGFyZW50aGVzaXNcblx0XHRcdFx0XHQoZXhjZXNzID0gdW5xdW90ZWQuaW5kZXhPZiggXCIpXCIsIHVucXVvdGVkLmxlbmd0aCAtIGV4Y2VzcyApIC0gdW5xdW90ZWQubGVuZ3RoKSApIHtcblx0XG5cdFx0XHRcdFx0Ly8gZXhjZXNzIGlzIGEgbmVnYXRpdmUgaW5kZXhcblx0XHRcdFx0XHRtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKCAwLCBleGNlc3MgKTtcblx0XHRcdFx0XHRtYXRjaFsyXSA9IHVucXVvdGVkLnNsaWNlKCAwLCBleGNlc3MgKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gUmV0dXJuIG9ubHkgY2FwdHVyZXMgbmVlZGVkIGJ5IHRoZSBwc2V1ZG8gZmlsdGVyIG1ldGhvZCAodHlwZSBhbmQgYXJndW1lbnQpXG5cdFx0XHRcdHJldHVybiBtYXRjaC5zbGljZSggMCwgMyApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdGZpbHRlcjoge1xuXHRcblx0XHRcdFwiVEFHXCI6IGZ1bmN0aW9uKCBub2RlTmFtZVNlbGVjdG9yICkge1xuXHRcdFx0XHR2YXIgbm9kZU5hbWUgPSBub2RlTmFtZVNlbGVjdG9yLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0cmV0dXJuIG5vZGVOYW1lU2VsZWN0b3IgPT09IFwiKlwiID9cblx0XHRcdFx0XHRmdW5jdGlvbigpIHsgcmV0dXJuIHRydWU7IH0gOlxuXHRcdFx0XHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBub2RlTmFtZTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0fSxcblx0XG5cdFx0XHRcIkNMQVNTXCI6IGZ1bmN0aW9uKCBjbGFzc05hbWUgKSB7XG5cdFx0XHRcdHZhciBwYXR0ZXJuID0gY2xhc3NDYWNoZVsgY2xhc3NOYW1lICsgXCIgXCIgXTtcblx0XG5cdFx0XHRcdHJldHVybiBwYXR0ZXJuIHx8XG5cdFx0XHRcdFx0KHBhdHRlcm4gPSBuZXcgUmVnRXhwKCBcIihefFwiICsgd2hpdGVzcGFjZSArIFwiKVwiICsgY2xhc3NOYW1lICsgXCIoXCIgKyB3aGl0ZXNwYWNlICsgXCJ8JClcIiApKSAmJlxuXHRcdFx0XHRcdGNsYXNzQ2FjaGUoIGNsYXNzTmFtZSwgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcGF0dGVybi50ZXN0KCB0eXBlb2YgZWxlbS5jbGFzc05hbWUgPT09IFwic3RyaW5nXCIgJiYgZWxlbS5jbGFzc05hbWUgfHwgdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlICE9PSBcInVuZGVmaW5lZFwiICYmIGVsZW0uZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikgfHwgXCJcIiApO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XG5cdFx0XHRcIkFUVFJcIjogZnVuY3Rpb24oIG5hbWUsIG9wZXJhdG9yLCBjaGVjayApIHtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHZhciByZXN1bHQgPSBTaXp6bGUuYXR0ciggZWxlbSwgbmFtZSApO1xuXHRcblx0XHRcdFx0XHRpZiAoIHJlc3VsdCA9PSBudWxsICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIG9wZXJhdG9yID09PSBcIiE9XCI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggIW9wZXJhdG9yICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRyZXN1bHQgKz0gXCJcIjtcblx0XG5cdFx0XHRcdFx0cmV0dXJuIG9wZXJhdG9yID09PSBcIj1cIiA/IHJlc3VsdCA9PT0gY2hlY2sgOlxuXHRcdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiIT1cIiA/IHJlc3VsdCAhPT0gY2hlY2sgOlxuXHRcdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiXj1cIiA/IGNoZWNrICYmIHJlc3VsdC5pbmRleE9mKCBjaGVjayApID09PSAwIDpcblx0XHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIio9XCIgPyBjaGVjayAmJiByZXN1bHQuaW5kZXhPZiggY2hlY2sgKSA+IC0xIDpcblx0XHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIiQ9XCIgPyBjaGVjayAmJiByZXN1bHQuc2xpY2UoIC1jaGVjay5sZW5ndGggKSA9PT0gY2hlY2sgOlxuXHRcdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwifj1cIiA/ICggXCIgXCIgKyByZXN1bHQucmVwbGFjZSggcndoaXRlc3BhY2UsIFwiIFwiICkgKyBcIiBcIiApLmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XG5cdFx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCJ8PVwiID8gcmVzdWx0ID09PSBjaGVjayB8fCByZXN1bHQuc2xpY2UoIDAsIGNoZWNrLmxlbmd0aCArIDEgKSA9PT0gY2hlY2sgKyBcIi1cIiA6XG5cdFx0XHRcdFx0XHRmYWxzZTtcblx0XHRcdFx0fTtcblx0XHRcdH0sXG5cdFxuXHRcdFx0XCJDSElMRFwiOiBmdW5jdGlvbiggdHlwZSwgd2hhdCwgYXJndW1lbnQsIGZpcnN0LCBsYXN0ICkge1xuXHRcdFx0XHR2YXIgc2ltcGxlID0gdHlwZS5zbGljZSggMCwgMyApICE9PSBcIm50aFwiLFxuXHRcdFx0XHRcdGZvcndhcmQgPSB0eXBlLnNsaWNlKCAtNCApICE9PSBcImxhc3RcIixcblx0XHRcdFx0XHRvZlR5cGUgPSB3aGF0ID09PSBcIm9mLXR5cGVcIjtcblx0XG5cdFx0XHRcdHJldHVybiBmaXJzdCA9PT0gMSAmJiBsYXN0ID09PSAwID9cblx0XG5cdFx0XHRcdFx0Ly8gU2hvcnRjdXQgZm9yIDpudGgtKihuKVxuXHRcdFx0XHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuICEhZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0XHRcdH0gOlxuXHRcblx0XHRcdFx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdFx0dmFyIGNhY2hlLCB1bmlxdWVDYWNoZSwgb3V0ZXJDYWNoZSwgbm9kZSwgbm9kZUluZGV4LCBzdGFydCxcblx0XHRcdFx0XHRcdFx0ZGlyID0gc2ltcGxlICE9PSBmb3J3YXJkID8gXCJuZXh0U2libGluZ1wiIDogXCJwcmV2aW91c1NpYmxpbmdcIixcblx0XHRcdFx0XHRcdFx0cGFyZW50ID0gZWxlbS5wYXJlbnROb2RlLFxuXHRcdFx0XHRcdFx0XHRuYW1lID0gb2ZUeXBlICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcblx0XHRcdFx0XHRcdFx0dXNlQ2FjaGUgPSAheG1sICYmICFvZlR5cGUsXG5cdFx0XHRcdFx0XHRcdGRpZmYgPSBmYWxzZTtcblx0XG5cdFx0XHRcdFx0XHRpZiAoIHBhcmVudCApIHtcblx0XG5cdFx0XHRcdFx0XHRcdC8vIDooZmlyc3R8bGFzdHxvbmx5KS0oY2hpbGR8b2YtdHlwZSlcblx0XHRcdFx0XHRcdFx0aWYgKCBzaW1wbGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKCBkaXIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbTtcblx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlICggKG5vZGUgPSBub2RlWyBkaXIgXSkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggb2ZUeXBlID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUgOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZVR5cGUgPT09IDEgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gUmV2ZXJzZSBkaXJlY3Rpb24gZm9yIDpvbmx5LSogKGlmIHdlIGhhdmVuJ3QgeWV0IGRvbmUgc28pXG5cdFx0XHRcdFx0XHRcdFx0XHRzdGFydCA9IGRpciA9IHR5cGUgPT09IFwib25seVwiICYmICFzdGFydCAmJiBcIm5leHRTaWJsaW5nXCI7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0XHRzdGFydCA9IFsgZm9yd2FyZCA/IHBhcmVudC5maXJzdENoaWxkIDogcGFyZW50Lmxhc3RDaGlsZCBdO1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gbm9uLXhtbCA6bnRoLWNoaWxkKC4uLikgc3RvcmVzIGNhY2hlIGRhdGEgb24gYHBhcmVudGBcblx0XHRcdFx0XHRcdFx0aWYgKCBmb3J3YXJkICYmIHVzZUNhY2hlICkge1xuXHRcblx0XHRcdFx0XHRcdFx0XHQvLyBTZWVrIGBlbGVtYCBmcm9tIGEgcHJldmlvdXNseS1jYWNoZWQgaW5kZXhcblx0XG5cdFx0XHRcdFx0XHRcdFx0Ly8gLi4uaW4gYSBnemlwLWZyaWVuZGx5IHdheVxuXHRcdFx0XHRcdFx0XHRcdG5vZGUgPSBwYXJlbnQ7XG5cdFx0XHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IG5vZGVbIGV4cGFuZG8gXSB8fCAobm9kZVsgZXhwYW5kbyBdID0ge30pO1xuXHRcblx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdChvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSk7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdGNhY2hlID0gdW5pcXVlQ2FjaGVbIHR5cGUgXSB8fCBbXTtcblx0XHRcdFx0XHRcdFx0XHRub2RlSW5kZXggPSBjYWNoZVsgMCBdID09PSBkaXJydW5zICYmIGNhY2hlWyAxIF07XG5cdFx0XHRcdFx0XHRcdFx0ZGlmZiA9IG5vZGVJbmRleCAmJiBjYWNoZVsgMiBdO1xuXHRcdFx0XHRcdFx0XHRcdG5vZGUgPSBub2RlSW5kZXggJiYgcGFyZW50LmNoaWxkTm9kZXNbIG5vZGVJbmRleCBdO1xuXHRcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoIChub2RlID0gKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlWyBkaXIgXSB8fFxuXHRcblx0XHRcdFx0XHRcdFx0XHRcdC8vIEZhbGxiYWNrIHRvIHNlZWtpbmcgYGVsZW1gIGZyb20gdGhlIHN0YXJ0XG5cdFx0XHRcdFx0XHRcdFx0XHQoZGlmZiA9IG5vZGVJbmRleCA9IDApIHx8IHN0YXJ0LnBvcCgpKSApIHtcblx0XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBXaGVuIGZvdW5kLCBjYWNoZSBpbmRleGVzIG9uIGBwYXJlbnRgIGFuZCBicmVha1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBub2RlLm5vZGVUeXBlID09PSAxICYmICsrZGlmZiAmJiBub2RlID09PSBlbGVtICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZVsgdHlwZSBdID0gWyBkaXJydW5zLCBub2RlSW5kZXgsIGRpZmYgXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBVc2UgcHJldmlvdXNseS1jYWNoZWQgZWxlbWVudCBpbmRleCBpZiBhdmFpbGFibGVcblx0XHRcdFx0XHRcdFx0XHRpZiAoIHVzZUNhY2hlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gLi4uaW4gYSBnemlwLWZyaWVuZGx5IHdheVxuXHRcdFx0XHRcdFx0XHRcdFx0bm9kZSA9IGVsZW07XG5cdFx0XHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gbm9kZVsgZXhwYW5kbyBdIHx8IChub2RlWyBleHBhbmRvIF0gPSB7fSk7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPDkgb25seVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQob3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdID0ge30pO1xuXHRcblx0XHRcdFx0XHRcdFx0XHRcdGNhY2hlID0gdW5pcXVlQ2FjaGVbIHR5cGUgXSB8fCBbXTtcblx0XHRcdFx0XHRcdFx0XHRcdG5vZGVJbmRleCA9IGNhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgY2FjaGVbIDEgXTtcblx0XHRcdFx0XHRcdFx0XHRcdGRpZmYgPSBub2RlSW5kZXg7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdFx0XHQvLyB4bWwgOm50aC1jaGlsZCguLi4pXG5cdFx0XHRcdFx0XHRcdFx0Ly8gb3IgOm50aC1sYXN0LWNoaWxkKC4uLikgb3IgOm50aCgtbGFzdCk/LW9mLXR5cGUoLi4uKVxuXHRcdFx0XHRcdFx0XHRcdGlmICggZGlmZiA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBVc2UgdGhlIHNhbWUgbG9vcCBhcyBhYm92ZSB0byBzZWVrIGBlbGVtYCBmcm9tIHRoZSBzdGFydFxuXHRcdFx0XHRcdFx0XHRcdFx0d2hpbGUgKCAobm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVsgZGlyIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdFx0KGRpZmYgPSBub2RlSW5kZXggPSAwKSB8fCBzdGFydC5wb3AoKSkgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoICggb2ZUeXBlID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUgOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZVR5cGUgPT09IDEgKSAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCsrZGlmZiApIHtcblx0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gQ2FjaGUgdGhlIGluZGV4IG9mIGVhY2ggZW5jb3VudGVyZWQgZWxlbWVudFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggdXNlQ2FjaGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gbm9kZVsgZXhwYW5kbyBdIHx8IChub2RlWyBleHBhbmRvIF0gPSB7fSk7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPDkgb25seVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQob3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdID0ge30pO1xuXHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIGRpZmYgXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggbm9kZSA9PT0gZWxlbSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdFx0Ly8gSW5jb3Jwb3JhdGUgdGhlIG9mZnNldCwgdGhlbiBjaGVjayBhZ2FpbnN0IGN5Y2xlIHNpemVcblx0XHRcdFx0XHRcdFx0ZGlmZiAtPSBsYXN0O1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZGlmZiA9PT0gZmlyc3QgfHwgKCBkaWZmICUgZmlyc3QgPT09IDAgJiYgZGlmZiAvIGZpcnN0ID49IDAgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0fSxcblx0XG5cdFx0XHRcIlBTRVVET1wiOiBmdW5jdGlvbiggcHNldWRvLCBhcmd1bWVudCApIHtcblx0XHRcdFx0Ly8gcHNldWRvLWNsYXNzIG5hbWVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlXG5cdFx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jcHNldWRvLWNsYXNzZXNcblx0XHRcdFx0Ly8gUHJpb3JpdGl6ZSBieSBjYXNlIHNlbnNpdGl2aXR5IGluIGNhc2UgY3VzdG9tIHBzZXVkb3MgYXJlIGFkZGVkIHdpdGggdXBwZXJjYXNlIGxldHRlcnNcblx0XHRcdFx0Ly8gUmVtZW1iZXIgdGhhdCBzZXRGaWx0ZXJzIGluaGVyaXRzIGZyb20gcHNldWRvc1xuXHRcdFx0XHR2YXIgYXJncyxcblx0XHRcdFx0XHRmbiA9IEV4cHIucHNldWRvc1sgcHNldWRvIF0gfHwgRXhwci5zZXRGaWx0ZXJzWyBwc2V1ZG8udG9Mb3dlckNhc2UoKSBdIHx8XG5cdFx0XHRcdFx0XHRTaXp6bGUuZXJyb3IoIFwidW5zdXBwb3J0ZWQgcHNldWRvOiBcIiArIHBzZXVkbyApO1xuXHRcblx0XHRcdFx0Ly8gVGhlIHVzZXIgbWF5IHVzZSBjcmVhdGVQc2V1ZG8gdG8gaW5kaWNhdGUgdGhhdFxuXHRcdFx0XHQvLyBhcmd1bWVudHMgYXJlIG5lZWRlZCB0byBjcmVhdGUgdGhlIGZpbHRlciBmdW5jdGlvblxuXHRcdFx0XHQvLyBqdXN0IGFzIFNpenpsZSBkb2VzXG5cdFx0XHRcdGlmICggZm5bIGV4cGFuZG8gXSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZm4oIGFyZ3VtZW50ICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIEJ1dCBtYWludGFpbiBzdXBwb3J0IGZvciBvbGQgc2lnbmF0dXJlc1xuXHRcdFx0XHRpZiAoIGZuLmxlbmd0aCA+IDEgKSB7XG5cdFx0XHRcdFx0YXJncyA9IFsgcHNldWRvLCBwc2V1ZG8sIFwiXCIsIGFyZ3VtZW50IF07XG5cdFx0XHRcdFx0cmV0dXJuIEV4cHIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eSggcHNldWRvLnRvTG93ZXJDYXNlKCkgKSA/XG5cdFx0XHRcdFx0XHRtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMgKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBpZHgsXG5cdFx0XHRcdFx0XHRcdFx0bWF0Y2hlZCA9IGZuKCBzZWVkLCBhcmd1bWVudCApLFxuXHRcdFx0XHRcdFx0XHRcdGkgPSBtYXRjaGVkLmxlbmd0aDtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWR4ID0gaW5kZXhPZiggc2VlZCwgbWF0Y2hlZFtpXSApO1xuXHRcdFx0XHRcdFx0XHRcdHNlZWRbIGlkeCBdID0gISggbWF0Y2hlc1sgaWR4IF0gPSBtYXRjaGVkW2ldICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pIDpcblx0XHRcdFx0XHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZm4oIGVsZW0sIDAsIGFyZ3MgKTtcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHJldHVybiBmbjtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRwc2V1ZG9zOiB7XG5cdFx0XHQvLyBQb3RlbnRpYWxseSBjb21wbGV4IHBzZXVkb3Ncblx0XHRcdFwibm90XCI6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHRcdC8vIFRyaW0gdGhlIHNlbGVjdG9yIHBhc3NlZCB0byBjb21waWxlXG5cdFx0XHRcdC8vIHRvIGF2b2lkIHRyZWF0aW5nIGxlYWRpbmcgYW5kIHRyYWlsaW5nXG5cdFx0XHRcdC8vIHNwYWNlcyBhcyBjb21iaW5hdG9yc1xuXHRcdFx0XHR2YXIgaW5wdXQgPSBbXSxcblx0XHRcdFx0XHRyZXN1bHRzID0gW10sXG5cdFx0XHRcdFx0bWF0Y2hlciA9IGNvbXBpbGUoIHNlbGVjdG9yLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSApO1xuXHRcblx0XHRcdFx0cmV0dXJuIG1hdGNoZXJbIGV4cGFuZG8gXSA/XG5cdFx0XHRcdFx0bWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHRcdFx0XHR2YXIgZWxlbSxcblx0XHRcdFx0XHRcdFx0dW5tYXRjaGVkID0gbWF0Y2hlciggc2VlZCwgbnVsbCwgeG1sLCBbXSApLFxuXHRcdFx0XHRcdFx0XHRpID0gc2VlZC5sZW5ndGg7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gTWF0Y2ggZWxlbWVudHMgdW5tYXRjaGVkIGJ5IGBtYXRjaGVyYFxuXHRcdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggKGVsZW0gPSB1bm1hdGNoZWRbaV0pICkge1xuXHRcdFx0XHRcdFx0XHRcdHNlZWRbaV0gPSAhKG1hdGNoZXNbaV0gPSBlbGVtKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pIDpcblx0XHRcdFx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdFx0aW5wdXRbMF0gPSBlbGVtO1xuXHRcdFx0XHRcdFx0bWF0Y2hlciggaW5wdXQsIG51bGwsIHhtbCwgcmVzdWx0cyApO1xuXHRcdFx0XHRcdFx0Ly8gRG9uJ3Qga2VlcCB0aGUgZWxlbWVudCAoaXNzdWUgIzI5OSlcblx0XHRcdFx0XHRcdGlucHV0WzBdID0gbnVsbDtcblx0XHRcdFx0XHRcdHJldHVybiAhcmVzdWx0cy5wb3AoKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0fSksXG5cdFxuXHRcdFx0XCJoYXNcIjogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHJldHVybiBTaXp6bGUoIHNlbGVjdG9yLCBlbGVtICkubGVuZ3RoID4gMDtcblx0XHRcdFx0fTtcblx0XHRcdH0pLFxuXHRcblx0XHRcdFwiY29udGFpbnNcIjogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRcdFx0XHR0ZXh0ID0gdGV4dC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuICggZWxlbS50ZXh0Q29udGVudCB8fCBlbGVtLmlubmVyVGV4dCB8fCBnZXRUZXh0KCBlbGVtICkgKS5pbmRleE9mKCB0ZXh0ICkgPiAtMTtcblx0XHRcdFx0fTtcblx0XHRcdH0pLFxuXHRcblx0XHRcdC8vIFwiV2hldGhlciBhbiBlbGVtZW50IGlzIHJlcHJlc2VudGVkIGJ5IGEgOmxhbmcoKSBzZWxlY3RvclxuXHRcdFx0Ly8gaXMgYmFzZWQgc29sZWx5IG9uIHRoZSBlbGVtZW50J3MgbGFuZ3VhZ2UgdmFsdWVcblx0XHRcdC8vIGJlaW5nIGVxdWFsIHRvIHRoZSBpZGVudGlmaWVyIEMsXG5cdFx0XHQvLyBvciBiZWdpbm5pbmcgd2l0aCB0aGUgaWRlbnRpZmllciBDIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IFwiLVwiLlxuXHRcdFx0Ly8gVGhlIG1hdGNoaW5nIG9mIEMgYWdhaW5zdCB0aGUgZWxlbWVudCdzIGxhbmd1YWdlIHZhbHVlIGlzIHBlcmZvcm1lZCBjYXNlLWluc2Vuc2l0aXZlbHkuXG5cdFx0XHQvLyBUaGUgaWRlbnRpZmllciBDIGRvZXMgbm90IGhhdmUgdG8gYmUgYSB2YWxpZCBsYW5ndWFnZSBuYW1lLlwiXG5cdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2xhbmctcHNldWRvXG5cdFx0XHRcImxhbmdcIjogbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggbGFuZyApIHtcblx0XHRcdFx0Ly8gbGFuZyB2YWx1ZSBtdXN0IGJlIGEgdmFsaWQgaWRlbnRpZmllclxuXHRcdFx0XHRpZiAoICFyaWRlbnRpZmllci50ZXN0KGxhbmcgfHwgXCJcIikgKSB7XG5cdFx0XHRcdFx0U2l6emxlLmVycm9yKCBcInVuc3VwcG9ydGVkIGxhbmc6IFwiICsgbGFuZyApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxhbmcgPSBsYW5nLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHZhciBlbGVtTGFuZztcblx0XHRcdFx0XHRkbyB7XG5cdFx0XHRcdFx0XHRpZiAoIChlbGVtTGFuZyA9IGRvY3VtZW50SXNIVE1MID9cblx0XHRcdFx0XHRcdFx0ZWxlbS5sYW5nIDpcblx0XHRcdFx0XHRcdFx0ZWxlbS5nZXRBdHRyaWJ1dGUoXCJ4bWw6bGFuZ1wiKSB8fCBlbGVtLmdldEF0dHJpYnV0ZShcImxhbmdcIikpICkge1xuXHRcblx0XHRcdFx0XHRcdFx0ZWxlbUxhbmcgPSBlbGVtTGFuZy50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZWxlbUxhbmcgPT09IGxhbmcgfHwgZWxlbUxhbmcuaW5kZXhPZiggbGFuZyArIFwiLVwiICkgPT09IDA7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSB3aGlsZSAoIChlbGVtID0gZWxlbS5wYXJlbnROb2RlKSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9O1xuXHRcdFx0fSksXG5cdFxuXHRcdFx0Ly8gTWlzY2VsbGFuZW91c1xuXHRcdFx0XCJ0YXJnZXRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uICYmIHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuXHRcdFx0XHRyZXR1cm4gaGFzaCAmJiBoYXNoLnNsaWNlKCAxICkgPT09IGVsZW0uaWQ7XG5cdFx0XHR9LFxuXHRcblx0XHRcdFwicm9vdFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIGVsZW0gPT09IGRvY0VsZW07XG5cdFx0XHR9LFxuXHRcblx0XHRcdFwiZm9jdXNcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmICghZG9jdW1lbnQuaGFzRm9jdXMgfHwgZG9jdW1lbnQuaGFzRm9jdXMoKSkgJiYgISEoZWxlbS50eXBlIHx8IGVsZW0uaHJlZiB8fCB+ZWxlbS50YWJJbmRleCk7XG5cdFx0XHR9LFxuXHRcblx0XHRcdC8vIEJvb2xlYW4gcHJvcGVydGllc1xuXHRcdFx0XCJlbmFibGVkXCI6IGNyZWF0ZURpc2FibGVkUHNldWRvKCBmYWxzZSApLFxuXHRcdFx0XCJkaXNhYmxlZFwiOiBjcmVhdGVEaXNhYmxlZFBzZXVkbyggdHJ1ZSApLFxuXHRcblx0XHRcdFwiY2hlY2tlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0Ly8gSW4gQ1NTMywgOmNoZWNrZWQgc2hvdWxkIHJldHVybiBib3RoIGNoZWNrZWQgYW5kIHNlbGVjdGVkIGVsZW1lbnRzXG5cdFx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXG5cdFx0XHRcdHZhciBub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0cmV0dXJuIChub2RlTmFtZSA9PT0gXCJpbnB1dFwiICYmICEhZWxlbS5jaGVja2VkKSB8fCAobm9kZU5hbWUgPT09IFwib3B0aW9uXCIgJiYgISFlbGVtLnNlbGVjdGVkKTtcblx0XHRcdH0sXG5cdFxuXHRcdFx0XCJzZWxlY3RlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0Ly8gQWNjZXNzaW5nIHRoaXMgcHJvcGVydHkgbWFrZXMgc2VsZWN0ZWQtYnktZGVmYXVsdFxuXHRcdFx0XHQvLyBvcHRpb25zIGluIFNhZmFyaSB3b3JrIHByb3Blcmx5XG5cdFx0XHRcdGlmICggZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRcdGVsZW0ucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRyZXR1cm4gZWxlbS5zZWxlY3RlZCA9PT0gdHJ1ZTtcblx0XHRcdH0sXG5cdFxuXHRcdFx0Ly8gQ29udGVudHNcblx0XHRcdFwiZW1wdHlcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jZW1wdHktcHNldWRvXG5cdFx0XHRcdC8vIDplbXB0eSBpcyBuZWdhdGVkIGJ5IGVsZW1lbnQgKDEpIG9yIGNvbnRlbnQgbm9kZXMgKHRleHQ6IDM7IGNkYXRhOiA0OyBlbnRpdHkgcmVmOiA1KSxcblx0XHRcdFx0Ly8gICBidXQgbm90IGJ5IG90aGVycyAoY29tbWVudDogODsgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbjogNzsgZXRjLilcblx0XHRcdFx0Ly8gbm9kZVR5cGUgPCA2IHdvcmtzIGJlY2F1c2UgYXR0cmlidXRlcyAoMikgZG8gbm90IGFwcGVhciBhcyBjaGlsZHJlblxuXHRcdFx0XHRmb3IgKCBlbGVtID0gZWxlbS5maXJzdENoaWxkOyBlbGVtOyBlbGVtID0gZWxlbS5uZXh0U2libGluZyApIHtcblx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPCA2ICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH0sXG5cdFxuXHRcdFx0XCJwYXJlbnRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiAhRXhwci5wc2V1ZG9zW1wiZW1wdHlcIl0oIGVsZW0gKTtcblx0XHRcdH0sXG5cdFxuXHRcdFx0Ly8gRWxlbWVudC9pbnB1dCB0eXBlc1xuXHRcdFx0XCJoZWFkZXJcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiByaGVhZGVyLnRlc3QoIGVsZW0ubm9kZU5hbWUgKTtcblx0XHRcdH0sXG5cdFxuXHRcdFx0XCJpbnB1dFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIHJpbnB1dHMudGVzdCggZWxlbS5ub2RlTmFtZSApO1xuXHRcdFx0fSxcblx0XG5cdFx0XHRcImJ1dHRvblwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdHJldHVybiBuYW1lID09PSBcImlucHV0XCIgJiYgZWxlbS50eXBlID09PSBcImJ1dHRvblwiIHx8IG5hbWUgPT09IFwiYnV0dG9uXCI7XG5cdFx0XHR9LFxuXHRcblx0XHRcdFwidGV4dFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIGF0dHI7XG5cdFx0XHRcdHJldHVybiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiaW5wdXRcIiAmJlxuXHRcdFx0XHRcdGVsZW0udHlwZSA9PT0gXCJ0ZXh0XCIgJiZcblx0XG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUU8OFxuXHRcdFx0XHRcdC8vIE5ldyBIVE1MNSBhdHRyaWJ1dGUgdmFsdWVzIChlLmcuLCBcInNlYXJjaFwiKSBhcHBlYXIgd2l0aCBlbGVtLnR5cGUgPT09IFwidGV4dFwiXG5cdFx0XHRcdFx0KCAoYXR0ciA9IGVsZW0uZ2V0QXR0cmlidXRlKFwidHlwZVwiKSkgPT0gbnVsbCB8fCBhdHRyLnRvTG93ZXJDYXNlKCkgPT09IFwidGV4dFwiICk7XG5cdFx0XHR9LFxuXHRcblx0XHRcdC8vIFBvc2l0aW9uLWluLWNvbGxlY3Rpb25cblx0XHRcdFwiZmlyc3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIFsgMCBdO1xuXHRcdFx0fSksXG5cdFxuXHRcdFx0XCJsYXN0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuXHRcdFx0XHRyZXR1cm4gWyBsZW5ndGggLSAxIF07XG5cdFx0XHR9KSxcblx0XG5cdFx0XHRcImVxXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcblx0XHRcdFx0cmV0dXJuIFsgYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudCBdO1xuXHRcdFx0fSksXG5cdFxuXHRcdFx0XCJldmVuXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuXHRcdFx0XHR2YXIgaSA9IDA7XG5cdFx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkge1xuXHRcdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHRcdH0pLFxuXHRcblx0XHRcdFwib2RkXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuXHRcdFx0XHR2YXIgaSA9IDE7XG5cdFx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkge1xuXHRcdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHRcdH0pLFxuXHRcblx0XHRcdFwibHRcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0XHR2YXIgaSA9IGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQ7XG5cdFx0XHRcdGZvciAoIDsgLS1pID49IDA7ICkge1xuXHRcdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHRcdH0pLFxuXHRcblx0XHRcdFwiZ3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0XHR2YXIgaSA9IGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQ7XG5cdFx0XHRcdGZvciAoIDsgKytpIDwgbGVuZ3RoOyApIHtcblx0XHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0XHR9KVxuXHRcdH1cblx0fTtcblx0XG5cdEV4cHIucHNldWRvc1tcIm50aFwiXSA9IEV4cHIucHNldWRvc1tcImVxXCJdO1xuXHRcblx0Ly8gQWRkIGJ1dHRvbi9pbnB1dCB0eXBlIHBzZXVkb3Ncblx0Zm9yICggaSBpbiB7IHJhZGlvOiB0cnVlLCBjaGVja2JveDogdHJ1ZSwgZmlsZTogdHJ1ZSwgcGFzc3dvcmQ6IHRydWUsIGltYWdlOiB0cnVlIH0gKSB7XG5cdFx0RXhwci5wc2V1ZG9zWyBpIF0gPSBjcmVhdGVJbnB1dFBzZXVkbyggaSApO1xuXHR9XG5cdGZvciAoIGkgaW4geyBzdWJtaXQ6IHRydWUsIHJlc2V0OiB0cnVlIH0gKSB7XG5cdFx0RXhwci5wc2V1ZG9zWyBpIF0gPSBjcmVhdGVCdXR0b25Qc2V1ZG8oIGkgKTtcblx0fVxuXHRcblx0Ly8gRWFzeSBBUEkgZm9yIGNyZWF0aW5nIG5ldyBzZXRGaWx0ZXJzXG5cdGZ1bmN0aW9uIHNldEZpbHRlcnMoKSB7fVxuXHRzZXRGaWx0ZXJzLnByb3RvdHlwZSA9IEV4cHIuZmlsdGVycyA9IEV4cHIucHNldWRvcztcblx0RXhwci5zZXRGaWx0ZXJzID0gbmV3IHNldEZpbHRlcnMoKTtcblx0XG5cdHRva2VuaXplID0gU2l6emxlLnRva2VuaXplID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBwYXJzZU9ubHkgKSB7XG5cdFx0dmFyIG1hdGNoZWQsIG1hdGNoLCB0b2tlbnMsIHR5cGUsXG5cdFx0XHRzb0ZhciwgZ3JvdXBzLCBwcmVGaWx0ZXJzLFxuXHRcdFx0Y2FjaGVkID0gdG9rZW5DYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdO1xuXHRcblx0XHRpZiAoIGNhY2hlZCApIHtcblx0XHRcdHJldHVybiBwYXJzZU9ubHkgPyAwIDogY2FjaGVkLnNsaWNlKCAwICk7XG5cdFx0fVxuXHRcblx0XHRzb0ZhciA9IHNlbGVjdG9yO1xuXHRcdGdyb3VwcyA9IFtdO1xuXHRcdHByZUZpbHRlcnMgPSBFeHByLnByZUZpbHRlcjtcblx0XG5cdFx0d2hpbGUgKCBzb0ZhciApIHtcblx0XG5cdFx0XHQvLyBDb21tYSBhbmQgZmlyc3QgcnVuXG5cdFx0XHRpZiAoICFtYXRjaGVkIHx8IChtYXRjaCA9IHJjb21tYS5leGVjKCBzb0ZhciApKSApIHtcblx0XHRcdFx0aWYgKCBtYXRjaCApIHtcblx0XHRcdFx0XHQvLyBEb24ndCBjb25zdW1lIHRyYWlsaW5nIGNvbW1hcyBhcyB2YWxpZFxuXHRcdFx0XHRcdHNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoWzBdLmxlbmd0aCApIHx8IHNvRmFyO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGdyb3Vwcy5wdXNoKCAodG9rZW5zID0gW10pICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0bWF0Y2hlZCA9IGZhbHNlO1xuXHRcblx0XHRcdC8vIENvbWJpbmF0b3JzXG5cdFx0XHRpZiAoIChtYXRjaCA9IHJjb21iaW5hdG9ycy5leGVjKCBzb0ZhciApKSApIHtcblx0XHRcdFx0bWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7XG5cdFx0XHRcdHRva2Vucy5wdXNoKHtcblx0XHRcdFx0XHR2YWx1ZTogbWF0Y2hlZCxcblx0XHRcdFx0XHQvLyBDYXN0IGRlc2NlbmRhbnQgY29tYmluYXRvcnMgdG8gc3BhY2Vcblx0XHRcdFx0XHR0eXBlOiBtYXRjaFswXS5yZXBsYWNlKCBydHJpbSwgXCIgXCIgKVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0c29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hlZC5sZW5ndGggKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBGaWx0ZXJzXG5cdFx0XHRmb3IgKCB0eXBlIGluIEV4cHIuZmlsdGVyICkge1xuXHRcdFx0XHRpZiAoIChtYXRjaCA9IG1hdGNoRXhwclsgdHlwZSBdLmV4ZWMoIHNvRmFyICkpICYmICghcHJlRmlsdGVyc1sgdHlwZSBdIHx8XG5cdFx0XHRcdFx0KG1hdGNoID0gcHJlRmlsdGVyc1sgdHlwZSBdKCBtYXRjaCApKSkgKSB7XG5cdFx0XHRcdFx0bWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7XG5cdFx0XHRcdFx0dG9rZW5zLnB1c2goe1xuXHRcdFx0XHRcdFx0dmFsdWU6IG1hdGNoZWQsXG5cdFx0XHRcdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0XHRcdFx0bWF0Y2hlczogbWF0Y2hcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCAhbWF0Y2hlZCApIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHQvLyBSZXR1cm4gdGhlIGxlbmd0aCBvZiB0aGUgaW52YWxpZCBleGNlc3Ncblx0XHQvLyBpZiB3ZSdyZSBqdXN0IHBhcnNpbmdcblx0XHQvLyBPdGhlcndpc2UsIHRocm93IGFuIGVycm9yIG9yIHJldHVybiB0b2tlbnNcblx0XHRyZXR1cm4gcGFyc2VPbmx5ID9cblx0XHRcdHNvRmFyLmxlbmd0aCA6XG5cdFx0XHRzb0ZhciA/XG5cdFx0XHRcdFNpenpsZS5lcnJvciggc2VsZWN0b3IgKSA6XG5cdFx0XHRcdC8vIENhY2hlIHRoZSB0b2tlbnNcblx0XHRcdFx0dG9rZW5DYWNoZSggc2VsZWN0b3IsIGdyb3VwcyApLnNsaWNlKCAwICk7XG5cdH07XG5cdFxuXHRmdW5jdGlvbiB0b1NlbGVjdG9yKCB0b2tlbnMgKSB7XG5cdFx0dmFyIGkgPSAwLFxuXHRcdFx0bGVuID0gdG9rZW5zLmxlbmd0aCxcblx0XHRcdHNlbGVjdG9yID0gXCJcIjtcblx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdHNlbGVjdG9yICs9IHRva2Vuc1tpXS52YWx1ZTtcblx0XHR9XG5cdFx0cmV0dXJuIHNlbGVjdG9yO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhZGRDb21iaW5hdG9yKCBtYXRjaGVyLCBjb21iaW5hdG9yLCBiYXNlICkge1xuXHRcdHZhciBkaXIgPSBjb21iaW5hdG9yLmRpcixcblx0XHRcdHNraXAgPSBjb21iaW5hdG9yLm5leHQsXG5cdFx0XHRrZXkgPSBza2lwIHx8IGRpcixcblx0XHRcdGNoZWNrTm9uRWxlbWVudHMgPSBiYXNlICYmIGtleSA9PT0gXCJwYXJlbnROb2RlXCIsXG5cdFx0XHRkb25lTmFtZSA9IGRvbmUrKztcblx0XG5cdFx0cmV0dXJuIGNvbWJpbmF0b3IuZmlyc3QgP1xuXHRcdFx0Ly8gQ2hlY2sgYWdhaW5zdCBjbG9zZXN0IGFuY2VzdG9yL3ByZWNlZGluZyBlbGVtZW50XG5cdFx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHR3aGlsZSAoIChlbGVtID0gZWxlbVsgZGlyIF0pICkge1xuXHRcdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSA6XG5cdFxuXHRcdFx0Ly8gQ2hlY2sgYWdhaW5zdCBhbGwgYW5jZXN0b3IvcHJlY2VkaW5nIGVsZW1lbnRzXG5cdFx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHR2YXIgb2xkQ2FjaGUsIHVuaXF1ZUNhY2hlLCBvdXRlckNhY2hlLFxuXHRcdFx0XHRcdG5ld0NhY2hlID0gWyBkaXJydW5zLCBkb25lTmFtZSBdO1xuXHRcblx0XHRcdFx0Ly8gV2UgY2FuJ3Qgc2V0IGFyYml0cmFyeSBkYXRhIG9uIFhNTCBub2Rlcywgc28gdGhleSBkb24ndCBiZW5lZml0IGZyb20gY29tYmluYXRvciBjYWNoaW5nXG5cdFx0XHRcdGlmICggeG1sICkge1xuXHRcdFx0XHRcdHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR3aGlsZSAoIChlbGVtID0gZWxlbVsgZGlyIF0pICkge1xuXHRcdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBlbGVtWyBleHBhbmRvIF0gfHwgKGVsZW1bIGV4cGFuZG8gXSA9IHt9KTtcblx0XG5cdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgZWxlbS51bmlxdWVJRCBdIHx8IChvdXRlckNhY2hlWyBlbGVtLnVuaXF1ZUlEIF0gPSB7fSk7XG5cdFxuXHRcdFx0XHRcdFx0XHRpZiAoIHNraXAgJiYgc2tpcCA9PT0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICkge1xuXHRcdFx0XHRcdFx0XHRcdGVsZW0gPSBlbGVtWyBkaXIgXSB8fCBlbGVtO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCAob2xkQ2FjaGUgPSB1bmlxdWVDYWNoZVsga2V5IF0pICYmXG5cdFx0XHRcdFx0XHRcdFx0b2xkQ2FjaGVbIDAgXSA9PT0gZGlycnVucyAmJiBvbGRDYWNoZVsgMSBdID09PSBkb25lTmFtZSApIHtcblx0XG5cdFx0XHRcdFx0XHRcdFx0Ly8gQXNzaWduIHRvIG5ld0NhY2hlIHNvIHJlc3VsdHMgYmFjay1wcm9wYWdhdGUgdG8gcHJldmlvdXMgZWxlbWVudHNcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKG5ld0NhY2hlWyAyIF0gPSBvbGRDYWNoZVsgMiBdKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBSZXVzZSBuZXdjYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzXG5cdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGVbIGtleSBdID0gbmV3Q2FjaGU7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdC8vIEEgbWF0Y2ggbWVhbnMgd2UncmUgZG9uZTsgYSBmYWlsIG1lYW5zIHdlIGhhdmUgdG8ga2VlcCBjaGVja2luZ1xuXHRcdFx0XHRcdFx0XHRcdGlmICggKG5ld0NhY2hlWyAyIF0gPSBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApIHtcblx0XHRyZXR1cm4gbWF0Y2hlcnMubGVuZ3RoID4gMSA/XG5cdFx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHR2YXIgaSA9IG1hdGNoZXJzLmxlbmd0aDtcblx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0aWYgKCAhbWF0Y2hlcnNbaV0oIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH0gOlxuXHRcdFx0bWF0Y2hlcnNbMF07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG11bHRpcGxlQ29udGV4dHMoIHNlbGVjdG9yLCBjb250ZXh0cywgcmVzdWx0cyApIHtcblx0XHR2YXIgaSA9IDAsXG5cdFx0XHRsZW4gPSBjb250ZXh0cy5sZW5ndGg7XG5cdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRTaXp6bGUoIHNlbGVjdG9yLCBjb250ZXh0c1tpXSwgcmVzdWx0cyApO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0cztcblx0fVxuXHRcblx0ZnVuY3Rpb24gY29uZGVuc2UoIHVubWF0Y2hlZCwgbWFwLCBmaWx0ZXIsIGNvbnRleHQsIHhtbCApIHtcblx0XHR2YXIgZWxlbSxcblx0XHRcdG5ld1VubWF0Y2hlZCA9IFtdLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRsZW4gPSB1bm1hdGNoZWQubGVuZ3RoLFxuXHRcdFx0bWFwcGVkID0gbWFwICE9IG51bGw7XG5cdFxuXHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0aWYgKCAoZWxlbSA9IHVubWF0Y2hlZFtpXSkgKSB7XG5cdFx0XHRcdGlmICggIWZpbHRlciB8fCBmaWx0ZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuXHRcdFx0XHRcdG5ld1VubWF0Y2hlZC5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0aWYgKCBtYXBwZWQgKSB7XG5cdFx0XHRcdFx0XHRtYXAucHVzaCggaSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0cmV0dXJuIG5ld1VubWF0Y2hlZDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc2V0TWF0Y2hlciggcHJlRmlsdGVyLCBzZWxlY3RvciwgbWF0Y2hlciwgcG9zdEZpbHRlciwgcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yICkge1xuXHRcdGlmICggcG9zdEZpbHRlciAmJiAhcG9zdEZpbHRlclsgZXhwYW5kbyBdICkge1xuXHRcdFx0cG9zdEZpbHRlciA9IHNldE1hdGNoZXIoIHBvc3RGaWx0ZXIgKTtcblx0XHR9XG5cdFx0aWYgKCBwb3N0RmluZGVyICYmICFwb3N0RmluZGVyWyBleHBhbmRvIF0gKSB7XG5cdFx0XHRwb3N0RmluZGVyID0gc2V0TWF0Y2hlciggcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yICk7XG5cdFx0fVxuXHRcdHJldHVybiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlZWQsIHJlc3VsdHMsIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHZhciB0ZW1wLCBpLCBlbGVtLFxuXHRcdFx0XHRwcmVNYXAgPSBbXSxcblx0XHRcdFx0cG9zdE1hcCA9IFtdLFxuXHRcdFx0XHRwcmVleGlzdGluZyA9IHJlc3VsdHMubGVuZ3RoLFxuXHRcblx0XHRcdFx0Ly8gR2V0IGluaXRpYWwgZWxlbWVudHMgZnJvbSBzZWVkIG9yIGNvbnRleHRcblx0XHRcdFx0ZWxlbXMgPSBzZWVkIHx8IG11bHRpcGxlQ29udGV4dHMoIHNlbGVjdG9yIHx8IFwiKlwiLCBjb250ZXh0Lm5vZGVUeXBlID8gWyBjb250ZXh0IF0gOiBjb250ZXh0LCBbXSApLFxuXHRcblx0XHRcdFx0Ly8gUHJlZmlsdGVyIHRvIGdldCBtYXRjaGVyIGlucHV0LCBwcmVzZXJ2aW5nIGEgbWFwIGZvciBzZWVkLXJlc3VsdHMgc3luY2hyb25pemF0aW9uXG5cdFx0XHRcdG1hdGNoZXJJbiA9IHByZUZpbHRlciAmJiAoIHNlZWQgfHwgIXNlbGVjdG9yICkgP1xuXHRcdFx0XHRcdGNvbmRlbnNlKCBlbGVtcywgcHJlTWFwLCBwcmVGaWx0ZXIsIGNvbnRleHQsIHhtbCApIDpcblx0XHRcdFx0XHRlbGVtcyxcblx0XG5cdFx0XHRcdG1hdGNoZXJPdXQgPSBtYXRjaGVyID9cblx0XHRcdFx0XHQvLyBJZiB3ZSBoYXZlIGEgcG9zdEZpbmRlciwgb3IgZmlsdGVyZWQgc2VlZCwgb3Igbm9uLXNlZWQgcG9zdEZpbHRlciBvciBwcmVleGlzdGluZyByZXN1bHRzLFxuXHRcdFx0XHRcdHBvc3RGaW5kZXIgfHwgKCBzZWVkID8gcHJlRmlsdGVyIDogcHJlZXhpc3RpbmcgfHwgcG9zdEZpbHRlciApID9cblx0XG5cdFx0XHRcdFx0XHQvLyAuLi5pbnRlcm1lZGlhdGUgcHJvY2Vzc2luZyBpcyBuZWNlc3Nhcnlcblx0XHRcdFx0XHRcdFtdIDpcblx0XG5cdFx0XHRcdFx0XHQvLyAuLi5vdGhlcndpc2UgdXNlIHJlc3VsdHMgZGlyZWN0bHlcblx0XHRcdFx0XHRcdHJlc3VsdHMgOlxuXHRcdFx0XHRcdG1hdGNoZXJJbjtcblx0XG5cdFx0XHQvLyBGaW5kIHByaW1hcnkgbWF0Y2hlc1xuXHRcdFx0aWYgKCBtYXRjaGVyICkge1xuXHRcdFx0XHRtYXRjaGVyKCBtYXRjaGVySW4sIG1hdGNoZXJPdXQsIGNvbnRleHQsIHhtbCApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEFwcGx5IHBvc3RGaWx0ZXJcblx0XHRcdGlmICggcG9zdEZpbHRlciApIHtcblx0XHRcdFx0dGVtcCA9IGNvbmRlbnNlKCBtYXRjaGVyT3V0LCBwb3N0TWFwICk7XG5cdFx0XHRcdHBvc3RGaWx0ZXIoIHRlbXAsIFtdLCBjb250ZXh0LCB4bWwgKTtcblx0XG5cdFx0XHRcdC8vIFVuLW1hdGNoIGZhaWxpbmcgZWxlbWVudHMgYnkgbW92aW5nIHRoZW0gYmFjayB0byBtYXRjaGVySW5cblx0XHRcdFx0aSA9IHRlbXAubGVuZ3RoO1xuXHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRpZiAoIChlbGVtID0gdGVtcFtpXSkgKSB7XG5cdFx0XHRcdFx0XHRtYXRjaGVyT3V0WyBwb3N0TWFwW2ldIF0gPSAhKG1hdGNoZXJJblsgcG9zdE1hcFtpXSBdID0gZWxlbSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0XHRpZiAoIHBvc3RGaW5kZXIgfHwgcHJlRmlsdGVyICkge1xuXHRcdFx0XHRcdGlmICggcG9zdEZpbmRlciApIHtcblx0XHRcdFx0XHRcdC8vIEdldCB0aGUgZmluYWwgbWF0Y2hlck91dCBieSBjb25kZW5zaW5nIHRoaXMgaW50ZXJtZWRpYXRlIGludG8gcG9zdEZpbmRlciBjb250ZXh0c1xuXHRcdFx0XHRcdFx0dGVtcCA9IFtdO1xuXHRcdFx0XHRcdFx0aSA9IG1hdGNoZXJPdXQubGVuZ3RoO1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggKGVsZW0gPSBtYXRjaGVyT3V0W2ldKSApIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBSZXN0b3JlIG1hdGNoZXJJbiBzaW5jZSBlbGVtIGlzIG5vdCB5ZXQgYSBmaW5hbCBtYXRjaFxuXHRcdFx0XHRcdFx0XHRcdHRlbXAucHVzaCggKG1hdGNoZXJJbltpXSA9IGVsZW0pICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHBvc3RGaW5kZXIoIG51bGwsIChtYXRjaGVyT3V0ID0gW10pLCB0ZW1wLCB4bWwgKTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIE1vdmUgbWF0Y2hlZCBlbGVtZW50cyBmcm9tIHNlZWQgdG8gcmVzdWx0cyB0byBrZWVwIHRoZW0gc3luY2hyb25pemVkXG5cdFx0XHRcdFx0aSA9IG1hdGNoZXJPdXQubGVuZ3RoO1xuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoZWxlbSA9IG1hdGNoZXJPdXRbaV0pICYmXG5cdFx0XHRcdFx0XHRcdCh0ZW1wID0gcG9zdEZpbmRlciA/IGluZGV4T2YoIHNlZWQsIGVsZW0gKSA6IHByZU1hcFtpXSkgPiAtMSApIHtcblx0XG5cdFx0XHRcdFx0XHRcdHNlZWRbdGVtcF0gPSAhKHJlc3VsdHNbdGVtcF0gPSBlbGVtKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XG5cdFx0XHQvLyBBZGQgZWxlbWVudHMgdG8gcmVzdWx0cywgdGhyb3VnaCBwb3N0RmluZGVyIGlmIGRlZmluZWRcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG1hdGNoZXJPdXQgPSBjb25kZW5zZShcblx0XHRcdFx0XHRtYXRjaGVyT3V0ID09PSByZXN1bHRzID9cblx0XHRcdFx0XHRcdG1hdGNoZXJPdXQuc3BsaWNlKCBwcmVleGlzdGluZywgbWF0Y2hlck91dC5sZW5ndGggKSA6XG5cdFx0XHRcdFx0XHRtYXRjaGVyT3V0XG5cdFx0XHRcdCk7XG5cdFx0XHRcdGlmICggcG9zdEZpbmRlciApIHtcblx0XHRcdFx0XHRwb3N0RmluZGVyKCBudWxsLCByZXN1bHRzLCBtYXRjaGVyT3V0LCB4bWwgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBtYXRjaGVyT3V0ICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWF0Y2hlckZyb21Ub2tlbnMoIHRva2VucyApIHtcblx0XHR2YXIgY2hlY2tDb250ZXh0LCBtYXRjaGVyLCBqLFxuXHRcdFx0bGVuID0gdG9rZW5zLmxlbmd0aCxcblx0XHRcdGxlYWRpbmdSZWxhdGl2ZSA9IEV4cHIucmVsYXRpdmVbIHRva2Vuc1swXS50eXBlIF0sXG5cdFx0XHRpbXBsaWNpdFJlbGF0aXZlID0gbGVhZGluZ1JlbGF0aXZlIHx8IEV4cHIucmVsYXRpdmVbXCIgXCJdLFxuXHRcdFx0aSA9IGxlYWRpbmdSZWxhdGl2ZSA/IDEgOiAwLFxuXHRcblx0XHRcdC8vIFRoZSBmb3VuZGF0aW9uYWwgbWF0Y2hlciBlbnN1cmVzIHRoYXQgZWxlbWVudHMgYXJlIHJlYWNoYWJsZSBmcm9tIHRvcC1sZXZlbCBjb250ZXh0KHMpXG5cdFx0XHRtYXRjaENvbnRleHQgPSBhZGRDb21iaW5hdG9yKCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIGVsZW0gPT09IGNoZWNrQ29udGV4dDtcblx0XHRcdH0sIGltcGxpY2l0UmVsYXRpdmUsIHRydWUgKSxcblx0XHRcdG1hdGNoQW55Q29udGV4dCA9IGFkZENvbWJpbmF0b3IoIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gaW5kZXhPZiggY2hlY2tDb250ZXh0LCBlbGVtICkgPiAtMTtcblx0XHRcdH0sIGltcGxpY2l0UmVsYXRpdmUsIHRydWUgKSxcblx0XHRcdG1hdGNoZXJzID0gWyBmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHR2YXIgcmV0ID0gKCAhbGVhZGluZ1JlbGF0aXZlICYmICggeG1sIHx8IGNvbnRleHQgIT09IG91dGVybW9zdENvbnRleHQgKSApIHx8IChcblx0XHRcdFx0XHQoY2hlY2tDb250ZXh0ID0gY29udGV4dCkubm9kZVR5cGUgP1xuXHRcdFx0XHRcdFx0bWF0Y2hDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSA6XG5cdFx0XHRcdFx0XHRtYXRjaEFueUNvbnRleHQoIGVsZW0sIGNvbnRleHQsIHhtbCApICk7XG5cdFx0XHRcdC8vIEF2b2lkIGhhbmdpbmcgb250byBlbGVtZW50IChpc3N1ZSAjMjk5KVxuXHRcdFx0XHRjaGVja0NvbnRleHQgPSBudWxsO1xuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fSBdO1xuXHRcblx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdGlmICggKG1hdGNoZXIgPSBFeHByLnJlbGF0aXZlWyB0b2tlbnNbaV0udHlwZSBdKSApIHtcblx0XHRcdFx0bWF0Y2hlcnMgPSBbIGFkZENvbWJpbmF0b3IoZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICksIG1hdGNoZXIpIF07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRtYXRjaGVyID0gRXhwci5maWx0ZXJbIHRva2Vuc1tpXS50eXBlIF0uYXBwbHkoIG51bGwsIHRva2Vuc1tpXS5tYXRjaGVzICk7XG5cdFxuXHRcdFx0XHQvLyBSZXR1cm4gc3BlY2lhbCB1cG9uIHNlZWluZyBhIHBvc2l0aW9uYWwgbWF0Y2hlclxuXHRcdFx0XHRpZiAoIG1hdGNoZXJbIGV4cGFuZG8gXSApIHtcblx0XHRcdFx0XHQvLyBGaW5kIHRoZSBuZXh0IHJlbGF0aXZlIG9wZXJhdG9yIChpZiBhbnkpIGZvciBwcm9wZXIgaGFuZGxpbmdcblx0XHRcdFx0XHRqID0gKytpO1xuXHRcdFx0XHRcdGZvciAoIDsgaiA8IGxlbjsgaisrICkge1xuXHRcdFx0XHRcdFx0aWYgKCBFeHByLnJlbGF0aXZlWyB0b2tlbnNbal0udHlwZSBdICkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHNldE1hdGNoZXIoXG5cdFx0XHRcdFx0XHRpID4gMSAmJiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSxcblx0XHRcdFx0XHRcdGkgPiAxICYmIHRvU2VsZWN0b3IoXG5cdFx0XHRcdFx0XHRcdC8vIElmIHRoZSBwcmVjZWRpbmcgdG9rZW4gd2FzIGEgZGVzY2VuZGFudCBjb21iaW5hdG9yLCBpbnNlcnQgYW4gaW1wbGljaXQgYW55LWVsZW1lbnQgYCpgXG5cdFx0XHRcdFx0XHRcdHRva2Vucy5zbGljZSggMCwgaSAtIDEgKS5jb25jYXQoeyB2YWx1ZTogdG9rZW5zWyBpIC0gMiBdLnR5cGUgPT09IFwiIFwiID8gXCIqXCIgOiBcIlwiIH0pXG5cdFx0XHRcdFx0XHQpLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSxcblx0XHRcdFx0XHRcdG1hdGNoZXIsXG5cdFx0XHRcdFx0XHRpIDwgaiAmJiBtYXRjaGVyRnJvbVRva2VucyggdG9rZW5zLnNsaWNlKCBpLCBqICkgKSxcblx0XHRcdFx0XHRcdGogPCBsZW4gJiYgbWF0Y2hlckZyb21Ub2tlbnMoICh0b2tlbnMgPSB0b2tlbnMuc2xpY2UoIGogKSkgKSxcblx0XHRcdFx0XHRcdGogPCBsZW4gJiYgdG9TZWxlY3RvciggdG9rZW5zIClcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG1hdGNoZXJzLnB1c2goIG1hdGNoZXIgKTtcblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdHJldHVybiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWF0Y2hlckZyb21Hcm91cE1hdGNoZXJzKCBlbGVtZW50TWF0Y2hlcnMsIHNldE1hdGNoZXJzICkge1xuXHRcdHZhciBieVNldCA9IHNldE1hdGNoZXJzLmxlbmd0aCA+IDAsXG5cdFx0XHRieUVsZW1lbnQgPSBlbGVtZW50TWF0Y2hlcnMubGVuZ3RoID4gMCxcblx0XHRcdHN1cGVyTWF0Y2hlciA9IGZ1bmN0aW9uKCBzZWVkLCBjb250ZXh0LCB4bWwsIHJlc3VsdHMsIG91dGVybW9zdCApIHtcblx0XHRcdFx0dmFyIGVsZW0sIGosIG1hdGNoZXIsXG5cdFx0XHRcdFx0bWF0Y2hlZENvdW50ID0gMCxcblx0XHRcdFx0XHRpID0gXCIwXCIsXG5cdFx0XHRcdFx0dW5tYXRjaGVkID0gc2VlZCAmJiBbXSxcblx0XHRcdFx0XHRzZXRNYXRjaGVkID0gW10sXG5cdFx0XHRcdFx0Y29udGV4dEJhY2t1cCA9IG91dGVybW9zdENvbnRleHQsXG5cdFx0XHRcdFx0Ly8gV2UgbXVzdCBhbHdheXMgaGF2ZSBlaXRoZXIgc2VlZCBlbGVtZW50cyBvciBvdXRlcm1vc3QgY29udGV4dFxuXHRcdFx0XHRcdGVsZW1zID0gc2VlZCB8fCBieUVsZW1lbnQgJiYgRXhwci5maW5kW1wiVEFHXCJdKCBcIipcIiwgb3V0ZXJtb3N0ICksXG5cdFx0XHRcdFx0Ly8gVXNlIGludGVnZXIgZGlycnVucyBpZmYgdGhpcyBpcyB0aGUgb3V0ZXJtb3N0IG1hdGNoZXJcblx0XHRcdFx0XHRkaXJydW5zVW5pcXVlID0gKGRpcnJ1bnMgKz0gY29udGV4dEJhY2t1cCA9PSBudWxsID8gMSA6IE1hdGgucmFuZG9tKCkgfHwgMC4xKSxcblx0XHRcdFx0XHRsZW4gPSBlbGVtcy5sZW5ndGg7XG5cdFxuXHRcdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0XHRvdXRlcm1vc3RDb250ZXh0ID0gY29udGV4dCA9PT0gZG9jdW1lbnQgfHwgY29udGV4dCB8fCBvdXRlcm1vc3Q7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIEFkZCBlbGVtZW50cyBwYXNzaW5nIGVsZW1lbnRNYXRjaGVycyBkaXJlY3RseSB0byByZXN1bHRzXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFPDksIFNhZmFyaVxuXHRcdFx0XHQvLyBUb2xlcmF0ZSBOb2RlTGlzdCBwcm9wZXJ0aWVzIChJRTogXCJsZW5ndGhcIjsgU2FmYXJpOiA8bnVtYmVyPikgbWF0Y2hpbmcgZWxlbWVudHMgYnkgaWRcblx0XHRcdFx0Zm9yICggOyBpICE9PSBsZW4gJiYgKGVsZW0gPSBlbGVtc1tpXSkgIT0gbnVsbDsgaSsrICkge1xuXHRcdFx0XHRcdGlmICggYnlFbGVtZW50ICYmIGVsZW0gKSB7XG5cdFx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHRcdGlmICggIWNvbnRleHQgJiYgZWxlbS5vd25lckRvY3VtZW50ICE9PSBkb2N1bWVudCApIHtcblx0XHRcdFx0XHRcdFx0c2V0RG9jdW1lbnQoIGVsZW0gKTtcblx0XHRcdFx0XHRcdFx0eG1sID0gIWRvY3VtZW50SXNIVE1MO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0d2hpbGUgKCAobWF0Y2hlciA9IGVsZW1lbnRNYXRjaGVyc1tqKytdKSApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVyKCBlbGVtLCBjb250ZXh0IHx8IGRvY3VtZW50LCB4bWwpICkge1xuXHRcdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0XHRcdFx0ZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBUcmFjayB1bm1hdGNoZWQgZWxlbWVudHMgZm9yIHNldCBmaWx0ZXJzXG5cdFx0XHRcdFx0aWYgKCBieVNldCApIHtcblx0XHRcdFx0XHRcdC8vIFRoZXkgd2lsbCBoYXZlIGdvbmUgdGhyb3VnaCBhbGwgcG9zc2libGUgbWF0Y2hlcnNcblx0XHRcdFx0XHRcdGlmICggKGVsZW0gPSAhbWF0Y2hlciAmJiBlbGVtKSApIHtcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZENvdW50LS07XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0Ly8gTGVuZ3RoZW4gdGhlIGFycmF5IGZvciBldmVyeSBlbGVtZW50LCBtYXRjaGVkIG9yIG5vdFxuXHRcdFx0XHRcdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0XHRcdFx0XHR1bm1hdGNoZWQucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gYGlgIGlzIG5vdyB0aGUgY291bnQgb2YgZWxlbWVudHMgdmlzaXRlZCBhYm92ZSwgYW5kIGFkZGluZyBpdCB0byBgbWF0Y2hlZENvdW50YFxuXHRcdFx0XHQvLyBtYWtlcyB0aGUgbGF0dGVyIG5vbm5lZ2F0aXZlLlxuXHRcdFx0XHRtYXRjaGVkQ291bnQgKz0gaTtcblx0XG5cdFx0XHRcdC8vIEFwcGx5IHNldCBmaWx0ZXJzIHRvIHVubWF0Y2hlZCBlbGVtZW50c1xuXHRcdFx0XHQvLyBOT1RFOiBUaGlzIGNhbiBiZSBza2lwcGVkIGlmIHRoZXJlIGFyZSBubyB1bm1hdGNoZWQgZWxlbWVudHMgKGkuZS4sIGBtYXRjaGVkQ291bnRgXG5cdFx0XHRcdC8vIGVxdWFscyBgaWApLCB1bmxlc3Mgd2UgZGlkbid0IHZpc2l0IF9hbnlfIGVsZW1lbnRzIGluIHRoZSBhYm92ZSBsb29wIGJlY2F1c2Ugd2UgaGF2ZVxuXHRcdFx0XHQvLyBubyBlbGVtZW50IG1hdGNoZXJzIGFuZCBubyBzZWVkLlxuXHRcdFx0XHQvLyBJbmNyZW1lbnRpbmcgYW4gaW5pdGlhbGx5LXN0cmluZyBcIjBcIiBgaWAgYWxsb3dzIGBpYCB0byByZW1haW4gYSBzdHJpbmcgb25seSBpbiB0aGF0XG5cdFx0XHRcdC8vIGNhc2UsIHdoaWNoIHdpbGwgcmVzdWx0IGluIGEgXCIwMFwiIGBtYXRjaGVkQ291bnRgIHRoYXQgZGlmZmVycyBmcm9tIGBpYCBidXQgaXMgYWxzb1xuXHRcdFx0XHQvLyBudW1lcmljYWxseSB6ZXJvLlxuXHRcdFx0XHRpZiAoIGJ5U2V0ICYmIGkgIT09IG1hdGNoZWRDb3VudCApIHtcblx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHR3aGlsZSAoIChtYXRjaGVyID0gc2V0TWF0Y2hlcnNbaisrXSkgKSB7XG5cdFx0XHRcdFx0XHRtYXRjaGVyKCB1bm1hdGNoZWQsIHNldE1hdGNoZWQsIGNvbnRleHQsIHhtbCApO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0XHRcdFx0Ly8gUmVpbnRlZ3JhdGUgZWxlbWVudCBtYXRjaGVzIHRvIGVsaW1pbmF0ZSB0aGUgbmVlZCBmb3Igc29ydGluZ1xuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVkQ291bnQgPiAwICkge1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoICEodW5tYXRjaGVkW2ldIHx8IHNldE1hdGNoZWRbaV0pICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0c2V0TWF0Y2hlZFtpXSA9IHBvcC5jYWxsKCByZXN1bHRzICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0Ly8gRGlzY2FyZCBpbmRleCBwbGFjZWhvbGRlciB2YWx1ZXMgdG8gZ2V0IG9ubHkgYWN0dWFsIG1hdGNoZXNcblx0XHRcdFx0XHRcdHNldE1hdGNoZWQgPSBjb25kZW5zZSggc2V0TWF0Y2hlZCApO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gQWRkIG1hdGNoZXMgdG8gcmVzdWx0c1xuXHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIHNldE1hdGNoZWQgKTtcblx0XG5cdFx0XHRcdFx0Ly8gU2VlZGxlc3Mgc2V0IG1hdGNoZXMgc3VjY2VlZGluZyBtdWx0aXBsZSBzdWNjZXNzZnVsIG1hdGNoZXJzIHN0aXB1bGF0ZSBzb3J0aW5nXG5cdFx0XHRcdFx0aWYgKCBvdXRlcm1vc3QgJiYgIXNlZWQgJiYgc2V0TWF0Y2hlZC5sZW5ndGggPiAwICYmXG5cdFx0XHRcdFx0XHQoIG1hdGNoZWRDb3VudCArIHNldE1hdGNoZXJzLmxlbmd0aCApID4gMSApIHtcblx0XG5cdFx0XHRcdFx0XHRTaXp6bGUudW5pcXVlU29ydCggcmVzdWx0cyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gT3ZlcnJpZGUgbWFuaXB1bGF0aW9uIG9mIGdsb2JhbHMgYnkgbmVzdGVkIG1hdGNoZXJzXG5cdFx0XHRcdGlmICggb3V0ZXJtb3N0ICkge1xuXHRcdFx0XHRcdGRpcnJ1bnMgPSBkaXJydW5zVW5pcXVlO1xuXHRcdFx0XHRcdG91dGVybW9zdENvbnRleHQgPSBjb250ZXh0QmFja3VwO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRyZXR1cm4gdW5tYXRjaGVkO1xuXHRcdFx0fTtcblx0XG5cdFx0cmV0dXJuIGJ5U2V0ID9cblx0XHRcdG1hcmtGdW5jdGlvbiggc3VwZXJNYXRjaGVyICkgOlxuXHRcdFx0c3VwZXJNYXRjaGVyO1xuXHR9XG5cdFxuXHRjb21waWxlID0gU2l6emxlLmNvbXBpbGUgPSBmdW5jdGlvbiggc2VsZWN0b3IsIG1hdGNoIC8qIEludGVybmFsIFVzZSBPbmx5ICovICkge1xuXHRcdHZhciBpLFxuXHRcdFx0c2V0TWF0Y2hlcnMgPSBbXSxcblx0XHRcdGVsZW1lbnRNYXRjaGVycyA9IFtdLFxuXHRcdFx0Y2FjaGVkID0gY29tcGlsZXJDYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdO1xuXHRcblx0XHRpZiAoICFjYWNoZWQgKSB7XG5cdFx0XHQvLyBHZW5lcmF0ZSBhIGZ1bmN0aW9uIG9mIHJlY3Vyc2l2ZSBmdW5jdGlvbnMgdGhhdCBjYW4gYmUgdXNlZCB0byBjaGVjayBlYWNoIGVsZW1lbnRcblx0XHRcdGlmICggIW1hdGNoICkge1xuXHRcdFx0XHRtYXRjaCA9IHRva2VuaXplKCBzZWxlY3RvciApO1xuXHRcdFx0fVxuXHRcdFx0aSA9IG1hdGNoLmxlbmd0aDtcblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRjYWNoZWQgPSBtYXRjaGVyRnJvbVRva2VucyggbWF0Y2hbaV0gKTtcblx0XHRcdFx0aWYgKCBjYWNoZWRbIGV4cGFuZG8gXSApIHtcblx0XHRcdFx0XHRzZXRNYXRjaGVycy5wdXNoKCBjYWNoZWQgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRlbGVtZW50TWF0Y2hlcnMucHVzaCggY2FjaGVkICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHQvLyBDYWNoZSB0aGUgY29tcGlsZWQgZnVuY3Rpb25cblx0XHRcdGNhY2hlZCA9IGNvbXBpbGVyQ2FjaGUoIHNlbGVjdG9yLCBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMgKSApO1xuXHRcblx0XHRcdC8vIFNhdmUgc2VsZWN0b3IgYW5kIHRva2VuaXphdGlvblxuXHRcdFx0Y2FjaGVkLnNlbGVjdG9yID0gc2VsZWN0b3I7XG5cdFx0fVxuXHRcdHJldHVybiBjYWNoZWQ7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQSBsb3ctbGV2ZWwgc2VsZWN0aW9uIGZ1bmN0aW9uIHRoYXQgd29ya3Mgd2l0aCBTaXp6bGUncyBjb21waWxlZFxuXHQgKiAgc2VsZWN0b3IgZnVuY3Rpb25zXG5cdCAqIEBwYXJhbSB7U3RyaW5nfEZ1bmN0aW9ufSBzZWxlY3RvciBBIHNlbGVjdG9yIG9yIGEgcHJlLWNvbXBpbGVkXG5cdCAqICBzZWxlY3RvciBmdW5jdGlvbiBidWlsdCB3aXRoIFNpenpsZS5jb21waWxlXG5cdCAqIEBwYXJhbSB7RWxlbWVudH0gY29udGV4dFxuXHQgKiBAcGFyYW0ge0FycmF5fSBbcmVzdWx0c11cblx0ICogQHBhcmFtIHtBcnJheX0gW3NlZWRdIEEgc2V0IG9mIGVsZW1lbnRzIHRvIG1hdGNoIGFnYWluc3Rcblx0ICovXG5cdHNlbGVjdCA9IFNpenpsZS5zZWxlY3QgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKSB7XG5cdFx0dmFyIGksIHRva2VucywgdG9rZW4sIHR5cGUsIGZpbmQsXG5cdFx0XHRjb21waWxlZCA9IHR5cGVvZiBzZWxlY3RvciA9PT0gXCJmdW5jdGlvblwiICYmIHNlbGVjdG9yLFxuXHRcdFx0bWF0Y2ggPSAhc2VlZCAmJiB0b2tlbml6ZSggKHNlbGVjdG9yID0gY29tcGlsZWQuc2VsZWN0b3IgfHwgc2VsZWN0b3IpICk7XG5cdFxuXHRcdHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xuXHRcblx0XHQvLyBUcnkgdG8gbWluaW1pemUgb3BlcmF0aW9ucyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBzZWxlY3RvciBpbiB0aGUgbGlzdCBhbmQgbm8gc2VlZFxuXHRcdC8vICh0aGUgbGF0dGVyIG9mIHdoaWNoIGd1YXJhbnRlZXMgdXMgY29udGV4dClcblx0XHRpZiAoIG1hdGNoLmxlbmd0aCA9PT0gMSApIHtcblx0XG5cdFx0XHQvLyBSZWR1Y2UgY29udGV4dCBpZiB0aGUgbGVhZGluZyBjb21wb3VuZCBzZWxlY3RvciBpcyBhbiBJRFxuXHRcdFx0dG9rZW5zID0gbWF0Y2hbMF0gPSBtYXRjaFswXS5zbGljZSggMCApO1xuXHRcdFx0aWYgKCB0b2tlbnMubGVuZ3RoID4gMiAmJiAodG9rZW4gPSB0b2tlbnNbMF0pLnR5cGUgPT09IFwiSURcIiAmJlxuXHRcdFx0XHRcdHN1cHBvcnQuZ2V0QnlJZCAmJiBjb250ZXh0Lm5vZGVUeXBlID09PSA5ICYmIGRvY3VtZW50SXNIVE1MICYmXG5cdFx0XHRcdFx0RXhwci5yZWxhdGl2ZVsgdG9rZW5zWzFdLnR5cGUgXSApIHtcblx0XG5cdFx0XHRcdGNvbnRleHQgPSAoIEV4cHIuZmluZFtcIklEXCJdKCB0b2tlbi5tYXRjaGVzWzBdLnJlcGxhY2UocnVuZXNjYXBlLCBmdW5lc2NhcGUpLCBjb250ZXh0ICkgfHwgW10gKVswXTtcblx0XHRcdFx0aWYgKCAhY29udGV4dCApIHtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XG5cdFx0XHRcdC8vIFByZWNvbXBpbGVkIG1hdGNoZXJzIHdpbGwgc3RpbGwgdmVyaWZ5IGFuY2VzdHJ5LCBzbyBzdGVwIHVwIGEgbGV2ZWxcblx0XHRcdFx0fSBlbHNlIGlmICggY29tcGlsZWQgKSB7XG5cdFx0XHRcdFx0Y29udGV4dCA9IGNvbnRleHQucGFyZW50Tm9kZTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0c2VsZWN0b3IgPSBzZWxlY3Rvci5zbGljZSggdG9rZW5zLnNoaWZ0KCkudmFsdWUubGVuZ3RoICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gRmV0Y2ggYSBzZWVkIHNldCBmb3IgcmlnaHQtdG8tbGVmdCBtYXRjaGluZ1xuXHRcdFx0aSA9IG1hdGNoRXhwcltcIm5lZWRzQ29udGV4dFwiXS50ZXN0KCBzZWxlY3RvciApID8gMCA6IHRva2Vucy5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0dG9rZW4gPSB0b2tlbnNbaV07XG5cdFxuXHRcdFx0XHQvLyBBYm9ydCBpZiB3ZSBoaXQgYSBjb21iaW5hdG9yXG5cdFx0XHRcdGlmICggRXhwci5yZWxhdGl2ZVsgKHR5cGUgPSB0b2tlbi50eXBlKSBdICkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggKGZpbmQgPSBFeHByLmZpbmRbIHR5cGUgXSkgKSB7XG5cdFx0XHRcdFx0Ly8gU2VhcmNoLCBleHBhbmRpbmcgY29udGV4dCBmb3IgbGVhZGluZyBzaWJsaW5nIGNvbWJpbmF0b3JzXG5cdFx0XHRcdFx0aWYgKCAoc2VlZCA9IGZpbmQoXG5cdFx0XHRcdFx0XHR0b2tlbi5tYXRjaGVzWzBdLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICksXG5cdFx0XHRcdFx0XHRyc2libGluZy50ZXN0KCB0b2tlbnNbMF0udHlwZSApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fCBjb250ZXh0XG5cdFx0XHRcdFx0KSkgKSB7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gSWYgc2VlZCBpcyBlbXB0eSBvciBubyB0b2tlbnMgcmVtYWluLCB3ZSBjYW4gcmV0dXJuIGVhcmx5XG5cdFx0XHRcdFx0XHR0b2tlbnMuc3BsaWNlKCBpLCAxICk7XG5cdFx0XHRcdFx0XHRzZWxlY3RvciA9IHNlZWQubGVuZ3RoICYmIHRvU2VsZWN0b3IoIHRva2VucyApO1xuXHRcdFx0XHRcdFx0aWYgKCAhc2VsZWN0b3IgKSB7XG5cdFx0XHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIHNlZWQgKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHQvLyBDb21waWxlIGFuZCBleGVjdXRlIGEgZmlsdGVyaW5nIGZ1bmN0aW9uIGlmIG9uZSBpcyBub3QgcHJvdmlkZWRcblx0XHQvLyBQcm92aWRlIGBtYXRjaGAgdG8gYXZvaWQgcmV0b2tlbml6YXRpb24gaWYgd2UgbW9kaWZpZWQgdGhlIHNlbGVjdG9yIGFib3ZlXG5cdFx0KCBjb21waWxlZCB8fCBjb21waWxlKCBzZWxlY3RvciwgbWF0Y2ggKSApKFxuXHRcdFx0c2VlZCxcblx0XHRcdGNvbnRleHQsXG5cdFx0XHQhZG9jdW1lbnRJc0hUTUwsXG5cdFx0XHRyZXN1bHRzLFxuXHRcdFx0IWNvbnRleHQgfHwgcnNpYmxpbmcudGVzdCggc2VsZWN0b3IgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHwgY29udGV4dFxuXHRcdCk7XG5cdFx0cmV0dXJuIHJlc3VsdHM7XG5cdH07XG5cdFxuXHQvLyBPbmUtdGltZSBhc3NpZ25tZW50c1xuXHRcblx0Ly8gU29ydCBzdGFiaWxpdHlcblx0c3VwcG9ydC5zb3J0U3RhYmxlID0gZXhwYW5kby5zcGxpdChcIlwiKS5zb3J0KCBzb3J0T3JkZXIgKS5qb2luKFwiXCIpID09PSBleHBhbmRvO1xuXHRcblx0Ly8gU3VwcG9ydDogQ2hyb21lIDE0LTM1K1xuXHQvLyBBbHdheXMgYXNzdW1lIGR1cGxpY2F0ZXMgaWYgdGhleSBhcmVuJ3QgcGFzc2VkIHRvIHRoZSBjb21wYXJpc29uIGZ1bmN0aW9uXG5cdHN1cHBvcnQuZGV0ZWN0RHVwbGljYXRlcyA9ICEhaGFzRHVwbGljYXRlO1xuXHRcblx0Ly8gSW5pdGlhbGl6ZSBhZ2FpbnN0IHRoZSBkZWZhdWx0IGRvY3VtZW50XG5cdHNldERvY3VtZW50KCk7XG5cdFxuXHQvLyBTdXBwb3J0OiBXZWJraXQ8NTM3LjMyIC0gU2FmYXJpIDYuMC4zL0Nocm9tZSAyNSAoZml4ZWQgaW4gQ2hyb21lIDI3KVxuXHQvLyBEZXRhY2hlZCBub2RlcyBjb25mb3VuZGluZ2x5IGZvbGxvdyAqZWFjaCBvdGhlcipcblx0c3VwcG9ydC5zb3J0RGV0YWNoZWQgPSBhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRcdC8vIFNob3VsZCByZXR1cm4gMSwgYnV0IHJldHVybnMgNCAoZm9sbG93aW5nKVxuXHRcdHJldHVybiBlbC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZpZWxkc2V0XCIpICkgJiAxO1xuXHR9KTtcblx0XG5cdC8vIFN1cHBvcnQ6IElFPDhcblx0Ly8gUHJldmVudCBhdHRyaWJ1dGUvcHJvcGVydHkgXCJpbnRlcnBvbGF0aW9uXCJcblx0Ly8gaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczUzNjQyOSUyOFZTLjg1JTI5LmFzcHhcblx0aWYgKCAhYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0XHRlbC5pbm5lckhUTUwgPSBcIjxhIGhyZWY9JyMnPjwvYT5cIjtcblx0XHRyZXR1cm4gZWwuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpID09PSBcIiNcIiA7XG5cdH0pICkge1xuXHRcdGFkZEhhbmRsZSggXCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoXCIsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcblx0XHRcdGlmICggIWlzWE1MICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUsIG5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJ0eXBlXCIgPyAxIDogMiApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cdFxuXHQvLyBTdXBwb3J0OiBJRTw5XG5cdC8vIFVzZSBkZWZhdWx0VmFsdWUgaW4gcGxhY2Ugb2YgZ2V0QXR0cmlidXRlKFwidmFsdWVcIilcblx0aWYgKCAhc3VwcG9ydC5hdHRyaWJ1dGVzIHx8ICFhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRcdGVsLmlubmVySFRNTCA9IFwiPGlucHV0Lz5cIjtcblx0XHRlbC5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiLCBcIlwiICk7XG5cdFx0cmV0dXJuIGVsLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCBcInZhbHVlXCIgKSA9PT0gXCJcIjtcblx0fSkgKSB7XG5cdFx0YWRkSGFuZGxlKCBcInZhbHVlXCIsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcblx0XHRcdGlmICggIWlzWE1MICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJpbnB1dFwiICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbS5kZWZhdWx0VmFsdWU7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblx0XG5cdC8vIFN1cHBvcnQ6IElFPDlcblx0Ly8gVXNlIGdldEF0dHJpYnV0ZU5vZGUgdG8gZmV0Y2ggYm9vbGVhbnMgd2hlbiBnZXRBdHRyaWJ1dGUgbGllc1xuXHRpZiAoICFhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRcdHJldHVybiBlbC5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSA9PSBudWxsO1xuXHR9KSApIHtcblx0XHRhZGRIYW5kbGUoIGJvb2xlYW5zLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0XHR2YXIgdmFsO1xuXHRcdFx0aWYgKCAhaXNYTUwgKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtWyBuYW1lIF0gPT09IHRydWUgPyBuYW1lLnRvTG93ZXJDYXNlKCkgOlxuXHRcdFx0XHRcdFx0KHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggbmFtZSApKSAmJiB2YWwuc3BlY2lmaWVkID9cblx0XHRcdFx0XHRcdHZhbC52YWx1ZSA6XG5cdFx0XHRcdFx0bnVsbDtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXHRcblx0cmV0dXJuIFNpenpsZTtcblx0XG5cdH0pKCB3aW5kb3cgKTtcblx0XG5cdFxuXHRcblx0alF1ZXJ5LmZpbmQgPSBTaXp6bGU7XG5cdGpRdWVyeS5leHByID0gU2l6emxlLnNlbGVjdG9ycztcblx0XG5cdC8vIERlcHJlY2F0ZWRcblx0alF1ZXJ5LmV4cHJbIFwiOlwiIF0gPSBqUXVlcnkuZXhwci5wc2V1ZG9zO1xuXHRqUXVlcnkudW5pcXVlU29ydCA9IGpRdWVyeS51bmlxdWUgPSBTaXp6bGUudW5pcXVlU29ydDtcblx0alF1ZXJ5LnRleHQgPSBTaXp6bGUuZ2V0VGV4dDtcblx0alF1ZXJ5LmlzWE1MRG9jID0gU2l6emxlLmlzWE1MO1xuXHRqUXVlcnkuY29udGFpbnMgPSBTaXp6bGUuY29udGFpbnM7XG5cdGpRdWVyeS5lc2NhcGVTZWxlY3RvciA9IFNpenpsZS5lc2NhcGU7XG5cdFxuXHRcblx0XG5cdFxuXHR2YXIgZGlyID0gZnVuY3Rpb24oIGVsZW0sIGRpciwgdW50aWwgKSB7XG5cdFx0dmFyIG1hdGNoZWQgPSBbXSxcblx0XHRcdHRydW5jYXRlID0gdW50aWwgIT09IHVuZGVmaW5lZDtcblx0XG5cdFx0d2hpbGUgKCAoIGVsZW0gPSBlbGVtWyBkaXIgXSApICYmIGVsZW0ubm9kZVR5cGUgIT09IDkgKSB7XG5cdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdGlmICggdHJ1bmNhdGUgJiYgalF1ZXJ5KCBlbGVtICkuaXMoIHVudGlsICkgKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0bWF0Y2hlZC5wdXNoKCBlbGVtICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBtYXRjaGVkO1xuXHR9O1xuXHRcblx0XG5cdHZhciBzaWJsaW5ncyA9IGZ1bmN0aW9uKCBuLCBlbGVtICkge1xuXHRcdHZhciBtYXRjaGVkID0gW107XG5cdFxuXHRcdGZvciAoIDsgbjsgbiA9IG4ubmV4dFNpYmxpbmcgKSB7XG5cdFx0XHRpZiAoIG4ubm9kZVR5cGUgPT09IDEgJiYgbiAhPT0gZWxlbSApIHtcblx0XHRcdFx0bWF0Y2hlZC5wdXNoKCBuICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gbWF0Y2hlZDtcblx0fTtcblx0XG5cdFxuXHR2YXIgcm5lZWRzQ29udGV4dCA9IGpRdWVyeS5leHByLm1hdGNoLm5lZWRzQ29udGV4dDtcblx0XG5cdHZhciByc2luZ2xlVGFnID0gKCAvXjwoW2Etel1bXlxcL1xcMD46XFx4MjBcXHRcXHJcXG5cXGZdKilbXFx4MjBcXHRcXHJcXG5cXGZdKlxcLz8+KD86PFxcL1xcMT58KSQvaSApO1xuXHRcblx0XG5cdFxuXHR2YXIgcmlzU2ltcGxlID0gL14uW146I1xcW1xcLixdKiQvO1xuXHRcblx0Ly8gSW1wbGVtZW50IHRoZSBpZGVudGljYWwgZnVuY3Rpb25hbGl0eSBmb3IgZmlsdGVyIGFuZCBub3Rcblx0ZnVuY3Rpb24gd2lubm93KCBlbGVtZW50cywgcXVhbGlmaWVyLCBub3QgKSB7XG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcXVhbGlmaWVyICkgKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSwgaSApIHtcblx0XHRcdFx0cmV0dXJuICEhcXVhbGlmaWVyLmNhbGwoIGVsZW0sIGksIGVsZW0gKSAhPT0gbm90O1xuXHRcdFx0fSApO1xuXHRcblx0XHR9XG5cdFxuXHRcdGlmICggcXVhbGlmaWVyLm5vZGVUeXBlICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiAoIGVsZW0gPT09IHF1YWxpZmllciApICE9PSBub3Q7XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH1cblx0XG5cdFx0aWYgKCB0eXBlb2YgcXVhbGlmaWVyID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0aWYgKCByaXNTaW1wbGUudGVzdCggcXVhbGlmaWVyICkgKSB7XG5cdFx0XHRcdHJldHVybiBqUXVlcnkuZmlsdGVyKCBxdWFsaWZpZXIsIGVsZW1lbnRzLCBub3QgKTtcblx0XHRcdH1cblx0XG5cdFx0XHRxdWFsaWZpZXIgPSBqUXVlcnkuZmlsdGVyKCBxdWFsaWZpZXIsIGVsZW1lbnRzICk7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiAoIGluZGV4T2YuY2FsbCggcXVhbGlmaWVyLCBlbGVtICkgPiAtMSApICE9PSBub3QgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMTtcblx0XHR9ICk7XG5cdH1cblx0XG5cdGpRdWVyeS5maWx0ZXIgPSBmdW5jdGlvbiggZXhwciwgZWxlbXMsIG5vdCApIHtcblx0XHR2YXIgZWxlbSA9IGVsZW1zWyAwIF07XG5cdFxuXHRcdGlmICggbm90ICkge1xuXHRcdFx0ZXhwciA9IFwiOm5vdChcIiArIGV4cHIgKyBcIilcIjtcblx0XHR9XG5cdFxuXHRcdHJldHVybiBlbGVtcy5sZW5ndGggPT09IDEgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSA/XG5cdFx0XHRqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoIGVsZW0sIGV4cHIgKSA/IFsgZWxlbSBdIDogW10gOlxuXHRcdFx0alF1ZXJ5LmZpbmQubWF0Y2hlcyggZXhwciwgalF1ZXJ5LmdyZXAoIGVsZW1zLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIGVsZW0ubm9kZVR5cGUgPT09IDE7XG5cdFx0XHR9ICkgKTtcblx0fTtcblx0XG5cdGpRdWVyeS5mbi5leHRlbmQoIHtcblx0XHRmaW5kOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHR2YXIgaSwgcmV0LFxuXHRcdFx0XHRsZW4gPSB0aGlzLmxlbmd0aCxcblx0XHRcdFx0c2VsZiA9IHRoaXM7XG5cdFxuXHRcdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5KCBzZWxlY3RvciApLmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0XHRcdGlmICggalF1ZXJ5LmNvbnRhaW5zKCBzZWxmWyBpIF0sIHRoaXMgKSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICkgKTtcblx0XHRcdH1cblx0XG5cdFx0XHRyZXQgPSB0aGlzLnB1c2hTdGFjayggW10gKTtcblx0XG5cdFx0XHRmb3IgKCBpID0gMDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0XHRqUXVlcnkuZmluZCggc2VsZWN0b3IsIHNlbGZbIGkgXSwgcmV0ICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIGxlbiA+IDEgPyBqUXVlcnkudW5pcXVlU29ydCggcmV0ICkgOiByZXQ7XG5cdFx0fSxcblx0XHRmaWx0ZXI6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggd2lubm93KCB0aGlzLCBzZWxlY3RvciB8fCBbXSwgZmFsc2UgKSApO1xuXHRcdH0sXG5cdFx0bm90OiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHdpbm5vdyggdGhpcywgc2VsZWN0b3IgfHwgW10sIHRydWUgKSApO1xuXHRcdH0sXG5cdFx0aXM6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRcdHJldHVybiAhIXdpbm5vdyhcblx0XHRcdFx0dGhpcyxcblx0XG5cdFx0XHRcdC8vIElmIHRoaXMgaXMgYSBwb3NpdGlvbmFsL3JlbGF0aXZlIHNlbGVjdG9yLCBjaGVjayBtZW1iZXJzaGlwIGluIHRoZSByZXR1cm5lZCBzZXRcblx0XHRcdFx0Ly8gc28gJChcInA6Zmlyc3RcIikuaXMoXCJwOmxhc3RcIikgd29uJ3QgcmV0dXJuIHRydWUgZm9yIGEgZG9jIHdpdGggdHdvIFwicFwiLlxuXHRcdFx0XHR0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgJiYgcm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvciApID9cblx0XHRcdFx0XHRqUXVlcnkoIHNlbGVjdG9yICkgOlxuXHRcdFx0XHRcdHNlbGVjdG9yIHx8IFtdLFxuXHRcdFx0XHRmYWxzZVxuXHRcdFx0KS5sZW5ndGg7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRcblx0Ly8gSW5pdGlhbGl6ZSBhIGpRdWVyeSBvYmplY3Rcblx0XG5cdFxuXHQvLyBBIGNlbnRyYWwgcmVmZXJlbmNlIHRvIHRoZSByb290IGpRdWVyeShkb2N1bWVudClcblx0dmFyIHJvb3RqUXVlcnksXG5cdFxuXHRcdC8vIEEgc2ltcGxlIHdheSB0byBjaGVjayBmb3IgSFRNTCBzdHJpbmdzXG5cdFx0Ly8gUHJpb3JpdGl6ZSAjaWQgb3ZlciA8dGFnPiB0byBhdm9pZCBYU1MgdmlhIGxvY2F0aW9uLmhhc2ggKCM5NTIxKVxuXHRcdC8vIFN0cmljdCBIVE1MIHJlY29nbml0aW9uICgjMTEyOTA6IG11c3Qgc3RhcnQgd2l0aCA8KVxuXHRcdC8vIFNob3J0Y3V0IHNpbXBsZSAjaWQgY2FzZSBmb3Igc3BlZWRcblx0XHRycXVpY2tFeHByID0gL14oPzpcXHMqKDxbXFx3XFxXXSs+KVtePl0qfCMoW1xcdy1dKykpJC8sXG5cdFxuXHRcdGluaXQgPSBqUXVlcnkuZm4uaW5pdCA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCwgcm9vdCApIHtcblx0XHRcdHZhciBtYXRjaCwgZWxlbTtcblx0XG5cdFx0XHQvLyBIQU5ETEU6ICQoXCJcIiksICQobnVsbCksICQodW5kZWZpbmVkKSwgJChmYWxzZSlcblx0XHRcdGlmICggIXNlbGVjdG9yICkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBNZXRob2QgaW5pdCgpIGFjY2VwdHMgYW4gYWx0ZXJuYXRlIHJvb3RqUXVlcnlcblx0XHRcdC8vIHNvIG1pZ3JhdGUgY2FuIHN1cHBvcnQgalF1ZXJ5LnN1YiAoZ2gtMjEwMSlcblx0XHRcdHJvb3QgPSByb290IHx8IHJvb3RqUXVlcnk7XG5cdFxuXHRcdFx0Ly8gSGFuZGxlIEhUTUwgc3RyaW5nc1xuXHRcdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdGlmICggc2VsZWN0b3JbIDAgXSA9PT0gXCI8XCIgJiZcblx0XHRcdFx0XHRzZWxlY3Rvclsgc2VsZWN0b3IubGVuZ3RoIC0gMSBdID09PSBcIj5cIiAmJlxuXHRcdFx0XHRcdHNlbGVjdG9yLmxlbmd0aCA+PSAzICkge1xuXHRcblx0XHRcdFx0XHQvLyBBc3N1bWUgdGhhdCBzdHJpbmdzIHRoYXQgc3RhcnQgYW5kIGVuZCB3aXRoIDw+IGFyZSBIVE1MIGFuZCBza2lwIHRoZSByZWdleCBjaGVja1xuXHRcdFx0XHRcdG1hdGNoID0gWyBudWxsLCBzZWxlY3RvciwgbnVsbCBdO1xuXHRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRtYXRjaCA9IHJxdWlja0V4cHIuZXhlYyggc2VsZWN0b3IgKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gTWF0Y2ggaHRtbCBvciBtYWtlIHN1cmUgbm8gY29udGV4dCBpcyBzcGVjaWZpZWQgZm9yICNpZFxuXHRcdFx0XHRpZiAoIG1hdGNoICYmICggbWF0Y2hbIDEgXSB8fCAhY29udGV4dCApICkge1xuXHRcblx0XHRcdFx0XHQvLyBIQU5ETEU6ICQoaHRtbCkgLT4gJChhcnJheSlcblx0XHRcdFx0XHRpZiAoIG1hdGNoWyAxIF0gKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0ID0gY29udGV4dCBpbnN0YW5jZW9mIGpRdWVyeSA/IGNvbnRleHRbIDAgXSA6IGNvbnRleHQ7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gT3B0aW9uIHRvIHJ1biBzY3JpcHRzIGlzIHRydWUgZm9yIGJhY2stY29tcGF0XG5cdFx0XHRcdFx0XHQvLyBJbnRlbnRpb25hbGx5IGxldCB0aGUgZXJyb3IgYmUgdGhyb3duIGlmIHBhcnNlSFRNTCBpcyBub3QgcHJlc2VudFxuXHRcdFx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCB0aGlzLCBqUXVlcnkucGFyc2VIVE1MKFxuXHRcdFx0XHRcdFx0XHRtYXRjaFsgMSBdLFxuXHRcdFx0XHRcdFx0XHRjb250ZXh0ICYmIGNvbnRleHQubm9kZVR5cGUgPyBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCA6IGRvY3VtZW50LFxuXHRcdFx0XHRcdFx0XHR0cnVlXG5cdFx0XHRcdFx0XHQpICk7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gSEFORExFOiAkKGh0bWwsIHByb3BzKVxuXHRcdFx0XHRcdFx0aWYgKCByc2luZ2xlVGFnLnRlc3QoIG1hdGNoWyAxIF0gKSAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29udGV4dCApICkge1xuXHRcdFx0XHRcdFx0XHRmb3IgKCBtYXRjaCBpbiBjb250ZXh0ICkge1xuXHRcblx0XHRcdFx0XHRcdFx0XHQvLyBQcm9wZXJ0aWVzIG9mIGNvbnRleHQgYXJlIGNhbGxlZCBhcyBtZXRob2RzIGlmIHBvc3NpYmxlXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdGhpc1sgbWF0Y2ggXSApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dGhpc1sgbWF0Y2ggXSggY29udGV4dFsgbWF0Y2ggXSApO1xuXHRcblx0XHRcdFx0XHRcdFx0XHQvLyAuLi5hbmQgb3RoZXJ3aXNlIHNldCBhcyBhdHRyaWJ1dGVzXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuYXR0ciggbWF0Y2gsIGNvbnRleHRbIG1hdGNoIF0gKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XG5cdFx0XHRcdFx0Ly8gSEFORExFOiAkKCNpZClcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBtYXRjaFsgMiBdICk7XG5cdFxuXHRcdFx0XHRcdFx0aWYgKCBlbGVtICkge1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gSW5qZWN0IHRoZSBlbGVtZW50IGRpcmVjdGx5IGludG8gdGhlIGpRdWVyeSBvYmplY3Rcblx0XHRcdFx0XHRcdFx0dGhpc1sgMCBdID0gZWxlbTtcblx0XHRcdFx0XHRcdFx0dGhpcy5sZW5ndGggPSAxO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gSEFORExFOiAkKGV4cHIsICQoLi4uKSlcblx0XHRcdFx0fSBlbHNlIGlmICggIWNvbnRleHQgfHwgY29udGV4dC5qcXVlcnkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuICggY29udGV4dCB8fCByb290ICkuZmluZCggc2VsZWN0b3IgKTtcblx0XG5cdFx0XHRcdC8vIEhBTkRMRTogJChleHByLCBjb250ZXh0KVxuXHRcdFx0XHQvLyAod2hpY2ggaXMganVzdCBlcXVpdmFsZW50IHRvOiAkKGNvbnRleHQpLmZpbmQoZXhwcilcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcy5jb25zdHJ1Y3RvciggY29udGV4dCApLmZpbmQoIHNlbGVjdG9yICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHQvLyBIQU5ETEU6ICQoRE9NRWxlbWVudClcblx0XHRcdH0gZWxzZSBpZiAoIHNlbGVjdG9yLm5vZGVUeXBlICkge1xuXHRcdFx0XHR0aGlzWyAwIF0gPSBzZWxlY3Rvcjtcblx0XHRcdFx0dGhpcy5sZW5ndGggPSAxO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XG5cdFx0XHQvLyBIQU5ETEU6ICQoZnVuY3Rpb24pXG5cdFx0XHQvLyBTaG9ydGN1dCBmb3IgZG9jdW1lbnQgcmVhZHlcblx0XHRcdH0gZWxzZSBpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBzZWxlY3RvciApICkge1xuXHRcdFx0XHRyZXR1cm4gcm9vdC5yZWFkeSAhPT0gdW5kZWZpbmVkID9cblx0XHRcdFx0XHRyb290LnJlYWR5KCBzZWxlY3RvciApIDpcblx0XG5cdFx0XHRcdFx0Ly8gRXhlY3V0ZSBpbW1lZGlhdGVseSBpZiByZWFkeSBpcyBub3QgcHJlc2VudFxuXHRcdFx0XHRcdHNlbGVjdG9yKCBqUXVlcnkgKTtcblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4galF1ZXJ5Lm1ha2VBcnJheSggc2VsZWN0b3IsIHRoaXMgKTtcblx0XHR9O1xuXHRcblx0Ly8gR2l2ZSB0aGUgaW5pdCBmdW5jdGlvbiB0aGUgalF1ZXJ5IHByb3RvdHlwZSBmb3IgbGF0ZXIgaW5zdGFudGlhdGlvblxuXHRpbml0LnByb3RvdHlwZSA9IGpRdWVyeS5mbjtcblx0XG5cdC8vIEluaXRpYWxpemUgY2VudHJhbCByZWZlcmVuY2Vcblx0cm9vdGpRdWVyeSA9IGpRdWVyeSggZG9jdW1lbnQgKTtcblx0XG5cdFxuXHR2YXIgcnBhcmVudHNwcmV2ID0gL14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sXG5cdFxuXHRcdC8vIE1ldGhvZHMgZ3VhcmFudGVlZCB0byBwcm9kdWNlIGEgdW5pcXVlIHNldCB3aGVuIHN0YXJ0aW5nIGZyb20gYSB1bmlxdWUgc2V0XG5cdFx0Z3VhcmFudGVlZFVuaXF1ZSA9IHtcblx0XHRcdGNoaWxkcmVuOiB0cnVlLFxuXHRcdFx0Y29udGVudHM6IHRydWUsXG5cdFx0XHRuZXh0OiB0cnVlLFxuXHRcdFx0cHJldjogdHJ1ZVxuXHRcdH07XG5cdFxuXHRqUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdFx0aGFzOiBmdW5jdGlvbiggdGFyZ2V0ICkge1xuXHRcdFx0dmFyIHRhcmdldHMgPSBqUXVlcnkoIHRhcmdldCwgdGhpcyApLFxuXHRcdFx0XHRsID0gdGFyZ2V0cy5sZW5ndGg7XG5cdFxuXHRcdFx0cmV0dXJuIHRoaXMuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGkgPSAwO1xuXHRcdFx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHRoaXMsIHRhcmdldHNbIGkgXSApICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fSxcblx0XG5cdFx0Y2xvc2VzdDogZnVuY3Rpb24oIHNlbGVjdG9ycywgY29udGV4dCApIHtcblx0XHRcdHZhciBjdXIsXG5cdFx0XHRcdGkgPSAwLFxuXHRcdFx0XHRsID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRcdG1hdGNoZWQgPSBbXSxcblx0XHRcdFx0dGFyZ2V0cyA9IHR5cGVvZiBzZWxlY3RvcnMgIT09IFwic3RyaW5nXCIgJiYgalF1ZXJ5KCBzZWxlY3RvcnMgKTtcblx0XG5cdFx0XHQvLyBQb3NpdGlvbmFsIHNlbGVjdG9ycyBuZXZlciBtYXRjaCwgc2luY2UgdGhlcmUncyBubyBfc2VsZWN0aW9uXyBjb250ZXh0XG5cdFx0XHRpZiAoICFybmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9ycyApICkge1xuXHRcdFx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0Zm9yICggY3VyID0gdGhpc1sgaSBdOyBjdXIgJiYgY3VyICE9PSBjb250ZXh0OyBjdXIgPSBjdXIucGFyZW50Tm9kZSApIHtcblx0XG5cdFx0XHRcdFx0XHQvLyBBbHdheXMgc2tpcCBkb2N1bWVudCBmcmFnbWVudHNcblx0XHRcdFx0XHRcdGlmICggY3VyLm5vZGVUeXBlIDwgMTEgJiYgKCB0YXJnZXRzID9cblx0XHRcdFx0XHRcdFx0dGFyZ2V0cy5pbmRleCggY3VyICkgPiAtMSA6XG5cdFxuXHRcdFx0XHRcdFx0XHQvLyBEb24ndCBwYXNzIG5vbi1lbGVtZW50cyB0byBTaXp6bGVcblx0XHRcdFx0XHRcdFx0Y3VyLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBjdXIsIHNlbGVjdG9ycyApICkgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRtYXRjaGVkLnB1c2goIGN1ciApO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIG1hdGNoZWQubGVuZ3RoID4gMSA/IGpRdWVyeS51bmlxdWVTb3J0KCBtYXRjaGVkICkgOiBtYXRjaGVkICk7XG5cdFx0fSxcblx0XG5cdFx0Ly8gRGV0ZXJtaW5lIHRoZSBwb3NpdGlvbiBvZiBhbiBlbGVtZW50IHdpdGhpbiB0aGUgc2V0XG5cdFx0aW5kZXg6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcblx0XHRcdC8vIE5vIGFyZ3VtZW50LCByZXR1cm4gaW5kZXggaW4gcGFyZW50XG5cdFx0XHRpZiAoICFlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gKCB0aGlzWyAwIF0gJiYgdGhpc1sgMCBdLnBhcmVudE5vZGUgKSA/IHRoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoIDogLTE7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gSW5kZXggaW4gc2VsZWN0b3Jcblx0XHRcdGlmICggdHlwZW9mIGVsZW0gPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdHJldHVybiBpbmRleE9mLmNhbGwoIGpRdWVyeSggZWxlbSApLCB0aGlzWyAwIF0gKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBMb2NhdGUgdGhlIHBvc2l0aW9uIG9mIHRoZSBkZXNpcmVkIGVsZW1lbnRcblx0XHRcdHJldHVybiBpbmRleE9mLmNhbGwoIHRoaXMsXG5cdFxuXHRcdFx0XHQvLyBJZiBpdCByZWNlaXZlcyBhIGpRdWVyeSBvYmplY3QsIHRoZSBmaXJzdCBlbGVtZW50IGlzIHVzZWRcblx0XHRcdFx0ZWxlbS5qcXVlcnkgPyBlbGVtWyAwIF0gOiBlbGVtXG5cdFx0XHQpO1xuXHRcdH0sXG5cdFxuXHRcdGFkZDogZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0ICkge1xuXHRcdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKFxuXHRcdFx0XHRqUXVlcnkudW5pcXVlU29ydChcblx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIHRoaXMuZ2V0KCksIGpRdWVyeSggc2VsZWN0b3IsIGNvbnRleHQgKSApXG5cdFx0XHRcdClcblx0XHRcdCk7XG5cdFx0fSxcblx0XG5cdFx0YWRkQmFjazogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuYWRkKCBzZWxlY3RvciA9PSBudWxsID9cblx0XHRcdFx0dGhpcy5wcmV2T2JqZWN0IDogdGhpcy5wcmV2T2JqZWN0LmZpbHRlciggc2VsZWN0b3IgKVxuXHRcdFx0KTtcblx0XHR9XG5cdH0gKTtcblx0XG5cdGZ1bmN0aW9uIHNpYmxpbmcoIGN1ciwgZGlyICkge1xuXHRcdHdoaWxlICggKCBjdXIgPSBjdXJbIGRpciBdICkgJiYgY3VyLm5vZGVUeXBlICE9PSAxICkge31cblx0XHRyZXR1cm4gY3VyO1xuXHR9XG5cdFxuXHRqUXVlcnkuZWFjaCgge1xuXHRcdHBhcmVudDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0cmV0dXJuIHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgIT09IDExID8gcGFyZW50IDogbnVsbDtcblx0XHR9LFxuXHRcdHBhcmVudHM6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIgKTtcblx0XHR9LFxuXHRcdHBhcmVudHNVbnRpbDogZnVuY3Rpb24oIGVsZW0sIGksIHVudGlsICkge1xuXHRcdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIsIHVudGlsICk7XG5cdFx0fSxcblx0XHRuZXh0OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBzaWJsaW5nKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIgKTtcblx0XHR9LFxuXHRcdHByZXY6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIHNpYmxpbmcoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIgKTtcblx0XHR9LFxuXHRcdG5leHRBbGw6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGRpciggZWxlbSwgXCJuZXh0U2libGluZ1wiICk7XG5cdFx0fSxcblx0XHRwcmV2QWxsOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBkaXIoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIgKTtcblx0XHR9LFxuXHRcdG5leHRVbnRpbDogZnVuY3Rpb24oIGVsZW0sIGksIHVudGlsICkge1xuXHRcdFx0cmV0dXJuIGRpciggZWxlbSwgXCJuZXh0U2libGluZ1wiLCB1bnRpbCApO1xuXHRcdH0sXG5cdFx0cHJldlVudGlsOiBmdW5jdGlvbiggZWxlbSwgaSwgdW50aWwgKSB7XG5cdFx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiLCB1bnRpbCApO1xuXHRcdH0sXG5cdFx0c2libGluZ3M6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIHNpYmxpbmdzKCAoIGVsZW0ucGFyZW50Tm9kZSB8fCB7fSApLmZpcnN0Q2hpbGQsIGVsZW0gKTtcblx0XHR9LFxuXHRcdGNoaWxkcmVuOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBzaWJsaW5ncyggZWxlbS5maXJzdENoaWxkICk7XG5cdFx0fSxcblx0XHRjb250ZW50czogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5jb250ZW50RG9jdW1lbnQgfHwgalF1ZXJ5Lm1lcmdlKCBbXSwgZWxlbS5jaGlsZE5vZGVzICk7XG5cdFx0fVxuXHR9LCBmdW5jdGlvbiggbmFtZSwgZm4gKSB7XG5cdFx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggdW50aWwsIHNlbGVjdG9yICkge1xuXHRcdFx0dmFyIG1hdGNoZWQgPSBqUXVlcnkubWFwKCB0aGlzLCBmbiwgdW50aWwgKTtcblx0XG5cdFx0XHRpZiAoIG5hbWUuc2xpY2UoIC01ICkgIT09IFwiVW50aWxcIiApIHtcblx0XHRcdFx0c2VsZWN0b3IgPSB1bnRpbDtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIHNlbGVjdG9yICYmIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0bWF0Y2hlZCA9IGpRdWVyeS5maWx0ZXIoIHNlbGVjdG9yLCBtYXRjaGVkICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCB0aGlzLmxlbmd0aCA+IDEgKSB7XG5cdFxuXHRcdFx0XHQvLyBSZW1vdmUgZHVwbGljYXRlc1xuXHRcdFx0XHRpZiAoICFndWFyYW50ZWVkVW5pcXVlWyBuYW1lIF0gKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LnVuaXF1ZVNvcnQoIG1hdGNoZWQgKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gUmV2ZXJzZSBvcmRlciBmb3IgcGFyZW50cyogYW5kIHByZXYtZGVyaXZhdGl2ZXNcblx0XHRcdFx0aWYgKCBycGFyZW50c3ByZXYudGVzdCggbmFtZSApICkge1xuXHRcdFx0XHRcdG1hdGNoZWQucmV2ZXJzZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBtYXRjaGVkICk7XG5cdFx0fTtcblx0fSApO1xuXHR2YXIgcm5vdHdoaXRlID0gKCAvXFxTKy9nICk7XG5cdFxuXHRcblx0XG5cdC8vIENvbnZlcnQgU3RyaW5nLWZvcm1hdHRlZCBvcHRpb25zIGludG8gT2JqZWN0LWZvcm1hdHRlZCBvbmVzXG5cdGZ1bmN0aW9uIGNyZWF0ZU9wdGlvbnMoIG9wdGlvbnMgKSB7XG5cdFx0dmFyIG9iamVjdCA9IHt9O1xuXHRcdGpRdWVyeS5lYWNoKCBvcHRpb25zLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbXSwgZnVuY3Rpb24oIF8sIGZsYWcgKSB7XG5cdFx0XHRvYmplY3RbIGZsYWcgXSA9IHRydWU7XG5cdFx0fSApO1xuXHRcdHJldHVybiBvYmplY3Q7XG5cdH1cblx0XG5cdC8qXG5cdCAqIENyZWF0ZSBhIGNhbGxiYWNrIGxpc3QgdXNpbmcgdGhlIGZvbGxvd2luZyBwYXJhbWV0ZXJzOlxuXHQgKlxuXHQgKlx0b3B0aW9uczogYW4gb3B0aW9uYWwgbGlzdCBvZiBzcGFjZS1zZXBhcmF0ZWQgb3B0aW9ucyB0aGF0IHdpbGwgY2hhbmdlIGhvd1xuXHQgKlx0XHRcdHRoZSBjYWxsYmFjayBsaXN0IGJlaGF2ZXMgb3IgYSBtb3JlIHRyYWRpdGlvbmFsIG9wdGlvbiBvYmplY3Rcblx0ICpcblx0ICogQnkgZGVmYXVsdCBhIGNhbGxiYWNrIGxpc3Qgd2lsbCBhY3QgbGlrZSBhbiBldmVudCBjYWxsYmFjayBsaXN0IGFuZCBjYW4gYmVcblx0ICogXCJmaXJlZFwiIG11bHRpcGxlIHRpbWVzLlxuXHQgKlxuXHQgKiBQb3NzaWJsZSBvcHRpb25zOlxuXHQgKlxuXHQgKlx0b25jZTpcdFx0XHR3aWxsIGVuc3VyZSB0aGUgY2FsbGJhY2sgbGlzdCBjYW4gb25seSBiZSBmaXJlZCBvbmNlIChsaWtlIGEgRGVmZXJyZWQpXG5cdCAqXG5cdCAqXHRtZW1vcnk6XHRcdFx0d2lsbCBrZWVwIHRyYWNrIG9mIHByZXZpb3VzIHZhbHVlcyBhbmQgd2lsbCBjYWxsIGFueSBjYWxsYmFjayBhZGRlZFxuXHQgKlx0XHRcdFx0XHRhZnRlciB0aGUgbGlzdCBoYXMgYmVlbiBmaXJlZCByaWdodCBhd2F5IHdpdGggdGhlIGxhdGVzdCBcIm1lbW9yaXplZFwiXG5cdCAqXHRcdFx0XHRcdHZhbHVlcyAobGlrZSBhIERlZmVycmVkKVxuXHQgKlxuXHQgKlx0dW5pcXVlOlx0XHRcdHdpbGwgZW5zdXJlIGEgY2FsbGJhY2sgY2FuIG9ubHkgYmUgYWRkZWQgb25jZSAobm8gZHVwbGljYXRlIGluIHRoZSBsaXN0KVxuXHQgKlxuXHQgKlx0c3RvcE9uRmFsc2U6XHRpbnRlcnJ1cHQgY2FsbGluZ3Mgd2hlbiBhIGNhbGxiYWNrIHJldHVybnMgZmFsc2Vcblx0ICpcblx0ICovXG5cdGpRdWVyeS5DYWxsYmFja3MgPSBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0XG5cdFx0Ly8gQ29udmVydCBvcHRpb25zIGZyb20gU3RyaW5nLWZvcm1hdHRlZCB0byBPYmplY3QtZm9ybWF0dGVkIGlmIG5lZWRlZFxuXHRcdC8vICh3ZSBjaGVjayBpbiBjYWNoZSBmaXJzdClcblx0XHRvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIgP1xuXHRcdFx0Y3JlYXRlT3B0aW9ucyggb3B0aW9ucyApIDpcblx0XHRcdGpRdWVyeS5leHRlbmQoIHt9LCBvcHRpb25zICk7XG5cdFxuXHRcdHZhciAvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCBpcyBjdXJyZW50bHkgZmlyaW5nXG5cdFx0XHRmaXJpbmcsXG5cdFxuXHRcdFx0Ly8gTGFzdCBmaXJlIHZhbHVlIGZvciBub24tZm9yZ2V0dGFibGUgbGlzdHNcblx0XHRcdG1lbW9yeSxcblx0XG5cdFx0XHQvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCB3YXMgYWxyZWFkeSBmaXJlZFxuXHRcdFx0ZmlyZWQsXG5cdFxuXHRcdFx0Ly8gRmxhZyB0byBwcmV2ZW50IGZpcmluZ1xuXHRcdFx0bG9ja2VkLFxuXHRcblx0XHRcdC8vIEFjdHVhbCBjYWxsYmFjayBsaXN0XG5cdFx0XHRsaXN0ID0gW10sXG5cdFxuXHRcdFx0Ly8gUXVldWUgb2YgZXhlY3V0aW9uIGRhdGEgZm9yIHJlcGVhdGFibGUgbGlzdHNcblx0XHRcdHF1ZXVlID0gW10sXG5cdFxuXHRcdFx0Ly8gSW5kZXggb2YgY3VycmVudGx5IGZpcmluZyBjYWxsYmFjayAobW9kaWZpZWQgYnkgYWRkL3JlbW92ZSBhcyBuZWVkZWQpXG5cdFx0XHRmaXJpbmdJbmRleCA9IC0xLFxuXHRcblx0XHRcdC8vIEZpcmUgY2FsbGJhY2tzXG5cdFx0XHRmaXJlID0gZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHQvLyBFbmZvcmNlIHNpbmdsZS1maXJpbmdcblx0XHRcdFx0bG9ja2VkID0gb3B0aW9ucy5vbmNlO1xuXHRcblx0XHRcdFx0Ly8gRXhlY3V0ZSBjYWxsYmFja3MgZm9yIGFsbCBwZW5kaW5nIGV4ZWN1dGlvbnMsXG5cdFx0XHRcdC8vIHJlc3BlY3RpbmcgZmlyaW5nSW5kZXggb3ZlcnJpZGVzIGFuZCBydW50aW1lIGNoYW5nZXNcblx0XHRcdFx0ZmlyZWQgPSBmaXJpbmcgPSB0cnVlO1xuXHRcdFx0XHRmb3IgKCA7IHF1ZXVlLmxlbmd0aDsgZmlyaW5nSW5kZXggPSAtMSApIHtcblx0XHRcdFx0XHRtZW1vcnkgPSBxdWV1ZS5zaGlmdCgpO1xuXHRcdFx0XHRcdHdoaWxlICggKytmaXJpbmdJbmRleCA8IGxpc3QubGVuZ3RoICkge1xuXHRcblx0XHRcdFx0XHRcdC8vIFJ1biBjYWxsYmFjayBhbmQgY2hlY2sgZm9yIGVhcmx5IHRlcm1pbmF0aW9uXG5cdFx0XHRcdFx0XHRpZiAoIGxpc3RbIGZpcmluZ0luZGV4IF0uYXBwbHkoIG1lbW9yeVsgMCBdLCBtZW1vcnlbIDEgXSApID09PSBmYWxzZSAmJlxuXHRcdFx0XHRcdFx0XHRvcHRpb25zLnN0b3BPbkZhbHNlICkge1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gSnVtcCB0byBlbmQgYW5kIGZvcmdldCB0aGUgZGF0YSBzbyAuYWRkIGRvZXNuJ3QgcmUtZmlyZVxuXHRcdFx0XHRcdFx0XHRmaXJpbmdJbmRleCA9IGxpc3QubGVuZ3RoO1xuXHRcdFx0XHRcdFx0XHRtZW1vcnkgPSBmYWxzZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIEZvcmdldCB0aGUgZGF0YSBpZiB3ZSdyZSBkb25lIHdpdGggaXRcblx0XHRcdFx0aWYgKCAhb3B0aW9ucy5tZW1vcnkgKSB7XG5cdFx0XHRcdFx0bWVtb3J5ID0gZmFsc2U7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGZpcmluZyA9IGZhbHNlO1xuXHRcblx0XHRcdFx0Ly8gQ2xlYW4gdXAgaWYgd2UncmUgZG9uZSBmaXJpbmcgZm9yIGdvb2Rcblx0XHRcdFx0aWYgKCBsb2NrZWQgKSB7XG5cdFxuXHRcdFx0XHRcdC8vIEtlZXAgYW4gZW1wdHkgbGlzdCBpZiB3ZSBoYXZlIGRhdGEgZm9yIGZ1dHVyZSBhZGQgY2FsbHNcblx0XHRcdFx0XHRpZiAoIG1lbW9yeSApIHtcblx0XHRcdFx0XHRcdGxpc3QgPSBbXTtcblx0XG5cdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCB0aGlzIG9iamVjdCBpcyBzcGVudFxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRsaXN0ID0gXCJcIjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFxuXHRcdFx0Ly8gQWN0dWFsIENhbGxiYWNrcyBvYmplY3Rcblx0XHRcdHNlbGYgPSB7XG5cdFxuXHRcdFx0XHQvLyBBZGQgYSBjYWxsYmFjayBvciBhIGNvbGxlY3Rpb24gb2YgY2FsbGJhY2tzIHRvIHRoZSBsaXN0XG5cdFx0XHRcdGFkZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCBsaXN0ICkge1xuXHRcblx0XHRcdFx0XHRcdC8vIElmIHdlIGhhdmUgbWVtb3J5IGZyb20gYSBwYXN0IHJ1biwgd2Ugc2hvdWxkIGZpcmUgYWZ0ZXIgYWRkaW5nXG5cdFx0XHRcdFx0XHRpZiAoIG1lbW9yeSAmJiAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0XHRmaXJpbmdJbmRleCA9IGxpc3QubGVuZ3RoIC0gMTtcblx0XHRcdFx0XHRcdFx0cXVldWUucHVzaCggbWVtb3J5ICk7XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0KCBmdW5jdGlvbiBhZGQoIGFyZ3MgKSB7XG5cdFx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCBhcmdzLCBmdW5jdGlvbiggXywgYXJnICkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGFyZyApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCAhb3B0aW9ucy51bmlxdWUgfHwgIXNlbGYuaGFzKCBhcmcgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0bGlzdC5wdXNoKCBhcmcgKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBhcmcgJiYgYXJnLmxlbmd0aCAmJiBqUXVlcnkudHlwZSggYXJnICkgIT09IFwic3RyaW5nXCIgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSW5zcGVjdCByZWN1cnNpdmVseVxuXHRcdFx0XHRcdFx0XHRcdFx0YWRkKCBhcmcgKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdH0gKSggYXJndW1lbnRzICk7XG5cdFxuXHRcdFx0XHRcdFx0aWYgKCBtZW1vcnkgJiYgIWZpcmluZyApIHtcblx0XHRcdFx0XHRcdFx0ZmlyZSgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8vIFJlbW92ZSBhIGNhbGxiYWNrIGZyb20gdGhlIGxpc3Rcblx0XHRcdFx0cmVtb3ZlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRqUXVlcnkuZWFjaCggYXJndW1lbnRzLCBmdW5jdGlvbiggXywgYXJnICkge1xuXHRcdFx0XHRcdFx0dmFyIGluZGV4O1xuXHRcdFx0XHRcdFx0d2hpbGUgKCAoIGluZGV4ID0galF1ZXJ5LmluQXJyYXkoIGFyZywgbGlzdCwgaW5kZXggKSApID4gLTEgKSB7XG5cdFx0XHRcdFx0XHRcdGxpc3Quc3BsaWNlKCBpbmRleCwgMSApO1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGZpcmluZyBpbmRleGVzXG5cdFx0XHRcdFx0XHRcdGlmICggaW5kZXggPD0gZmlyaW5nSW5kZXggKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXgtLTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8vIENoZWNrIGlmIGEgZ2l2ZW4gY2FsbGJhY2sgaXMgaW4gdGhlIGxpc3QuXG5cdFx0XHRcdC8vIElmIG5vIGFyZ3VtZW50IGlzIGdpdmVuLCByZXR1cm4gd2hldGhlciBvciBub3QgbGlzdCBoYXMgY2FsbGJhY2tzIGF0dGFjaGVkLlxuXHRcdFx0XHRoYXM6IGZ1bmN0aW9uKCBmbiApIHtcblx0XHRcdFx0XHRyZXR1cm4gZm4gP1xuXHRcdFx0XHRcdFx0alF1ZXJ5LmluQXJyYXkoIGZuLCBsaXN0ICkgPiAtMSA6XG5cdFx0XHRcdFx0XHRsaXN0Lmxlbmd0aCA+IDA7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHQvLyBSZW1vdmUgYWxsIGNhbGxiYWNrcyBmcm9tIHRoZSBsaXN0XG5cdFx0XHRcdGVtcHR5OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoIGxpc3QgKSB7XG5cdFx0XHRcdFx0XHRsaXN0ID0gW107XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0Ly8gRGlzYWJsZSAuZmlyZSBhbmQgLmFkZFxuXHRcdFx0XHQvLyBBYm9ydCBhbnkgY3VycmVudC9wZW5kaW5nIGV4ZWN1dGlvbnNcblx0XHRcdFx0Ly8gQ2xlYXIgYWxsIGNhbGxiYWNrcyBhbmQgdmFsdWVzXG5cdFx0XHRcdGRpc2FibGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGxvY2tlZCA9IHF1ZXVlID0gW107XG5cdFx0XHRcdFx0bGlzdCA9IG1lbW9yeSA9IFwiXCI7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGRpc2FibGVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gIWxpc3Q7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHQvLyBEaXNhYmxlIC5maXJlXG5cdFx0XHRcdC8vIEFsc28gZGlzYWJsZSAuYWRkIHVubGVzcyB3ZSBoYXZlIG1lbW9yeSAoc2luY2UgaXQgd291bGQgaGF2ZSBubyBlZmZlY3QpXG5cdFx0XHRcdC8vIEFib3J0IGFueSBwZW5kaW5nIGV4ZWN1dGlvbnNcblx0XHRcdFx0bG9jazogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0bG9ja2VkID0gcXVldWUgPSBbXTtcblx0XHRcdFx0XHRpZiAoICFtZW1vcnkgJiYgIWZpcmluZyApIHtcblx0XHRcdFx0XHRcdGxpc3QgPSBtZW1vcnkgPSBcIlwiO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XHRcdFx0bG9ja2VkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gISFsb2NrZWQ7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHQvLyBDYWxsIGFsbCBjYWxsYmFja3Mgd2l0aCB0aGUgZ2l2ZW4gY29udGV4dCBhbmQgYXJndW1lbnRzXG5cdFx0XHRcdGZpcmVXaXRoOiBmdW5jdGlvbiggY29udGV4dCwgYXJncyApIHtcblx0XHRcdFx0XHRpZiAoICFsb2NrZWQgKSB7XG5cdFx0XHRcdFx0XHRhcmdzID0gYXJncyB8fCBbXTtcblx0XHRcdFx0XHRcdGFyZ3MgPSBbIGNvbnRleHQsIGFyZ3Muc2xpY2UgPyBhcmdzLnNsaWNlKCkgOiBhcmdzIF07XG5cdFx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBhcmdzICk7XG5cdFx0XHRcdFx0XHRpZiAoICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRcdGZpcmUoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHQvLyBDYWxsIGFsbCB0aGUgY2FsbGJhY2tzIHdpdGggdGhlIGdpdmVuIGFyZ3VtZW50c1xuXHRcdFx0XHRmaXJlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRzZWxmLmZpcmVXaXRoKCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8vIFRvIGtub3cgaWYgdGhlIGNhbGxiYWNrcyBoYXZlIGFscmVhZHkgYmVlbiBjYWxsZWQgYXQgbGVhc3Qgb25jZVxuXHRcdFx0XHRmaXJlZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuICEhZmlyZWQ7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFxuXHRcdHJldHVybiBzZWxmO1xuXHR9O1xuXHRcblx0XG5cdGZ1bmN0aW9uIElkZW50aXR5KCB2ICkge1xuXHRcdHJldHVybiB2O1xuXHR9XG5cdGZ1bmN0aW9uIFRocm93ZXIoIGV4ICkge1xuXHRcdHRocm93IGV4O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhZG9wdFZhbHVlKCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0ICkge1xuXHRcdHZhciBtZXRob2Q7XG5cdFxuXHRcdHRyeSB7XG5cdFxuXHRcdFx0Ly8gQ2hlY2sgZm9yIHByb21pc2UgYXNwZWN0IGZpcnN0IHRvIHByaXZpbGVnZSBzeW5jaHJvbm91cyBiZWhhdmlvclxuXHRcdFx0aWYgKCB2YWx1ZSAmJiBqUXVlcnkuaXNGdW5jdGlvbiggKCBtZXRob2QgPSB2YWx1ZS5wcm9taXNlICkgKSApIHtcblx0XHRcdFx0bWV0aG9kLmNhbGwoIHZhbHVlICkuZG9uZSggcmVzb2x2ZSApLmZhaWwoIHJlamVjdCApO1xuXHRcblx0XHRcdC8vIE90aGVyIHRoZW5hYmxlc1xuXHRcdFx0fSBlbHNlIGlmICggdmFsdWUgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oICggbWV0aG9kID0gdmFsdWUudGhlbiApICkgKSB7XG5cdFx0XHRcdG1ldGhvZC5jYWxsKCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0ICk7XG5cdFxuXHRcdFx0Ly8gT3RoZXIgbm9uLXRoZW5hYmxlc1xuXHRcdFx0fSBlbHNlIHtcblx0XG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIG9ubHlcblx0XHRcdFx0Ly8gU3RyaWN0IG1vZGUgZnVuY3Rpb25zIGludm9rZWQgd2l0aG91dCAuY2FsbC8uYXBwbHkgZ2V0IGdsb2JhbC1vYmplY3QgY29udGV4dFxuXHRcdFx0XHRyZXNvbHZlLmNhbGwoIHVuZGVmaW5lZCwgdmFsdWUgKTtcblx0XHRcdH1cblx0XG5cdFx0Ly8gRm9yIFByb21pc2VzL0ErLCBjb252ZXJ0IGV4Y2VwdGlvbnMgaW50byByZWplY3Rpb25zXG5cdFx0Ly8gU2luY2UgalF1ZXJ5LndoZW4gZG9lc24ndCB1bndyYXAgdGhlbmFibGVzLCB3ZSBjYW4gc2tpcCB0aGUgZXh0cmEgY2hlY2tzIGFwcGVhcmluZyBpblxuXHRcdC8vIERlZmVycmVkI3RoZW4gdG8gY29uZGl0aW9uYWxseSBzdXBwcmVzcyByZWplY3Rpb24uXG5cdFx0fSBjYXRjaCAoIHZhbHVlICkge1xuXHRcblx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIG9ubHlcblx0XHRcdC8vIFN0cmljdCBtb2RlIGZ1bmN0aW9ucyBpbnZva2VkIHdpdGhvdXQgLmNhbGwvLmFwcGx5IGdldCBnbG9iYWwtb2JqZWN0IGNvbnRleHRcblx0XHRcdHJlamVjdC5jYWxsKCB1bmRlZmluZWQsIHZhbHVlICk7XG5cdFx0fVxuXHR9XG5cdFxuXHRqUXVlcnkuZXh0ZW5kKCB7XG5cdFxuXHRcdERlZmVycmVkOiBmdW5jdGlvbiggZnVuYyApIHtcblx0XHRcdHZhciB0dXBsZXMgPSBbXG5cdFxuXHRcdFx0XHRcdC8vIGFjdGlvbiwgYWRkIGxpc3RlbmVyLCBjYWxsYmFja3MsXG5cdFx0XHRcdFx0Ly8gLi4uIC50aGVuIGhhbmRsZXJzLCBhcmd1bWVudCBpbmRleCwgW2ZpbmFsIHN0YXRlXVxuXHRcdFx0XHRcdFsgXCJub3RpZnlcIiwgXCJwcm9ncmVzc1wiLCBqUXVlcnkuQ2FsbGJhY2tzKCBcIm1lbW9yeVwiICksXG5cdFx0XHRcdFx0XHRqUXVlcnkuQ2FsbGJhY2tzKCBcIm1lbW9yeVwiICksIDIgXSxcblx0XHRcdFx0XHRbIFwicmVzb2x2ZVwiLCBcImRvbmVcIiwgalF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksXG5cdFx0XHRcdFx0XHRqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKSwgMCwgXCJyZXNvbHZlZFwiIF0sXG5cdFx0XHRcdFx0WyBcInJlamVjdFwiLCBcImZhaWxcIiwgalF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksXG5cdFx0XHRcdFx0XHRqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKSwgMSwgXCJyZWplY3RlZFwiIF1cblx0XHRcdFx0XSxcblx0XHRcdFx0c3RhdGUgPSBcInBlbmRpbmdcIixcblx0XHRcdFx0cHJvbWlzZSA9IHtcblx0XHRcdFx0XHRzdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gc3RhdGU7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRhbHdheXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0ZGVmZXJyZWQuZG9uZSggYXJndW1lbnRzICkuZmFpbCggYXJndW1lbnRzICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFwiY2F0Y2hcIjogZnVuY3Rpb24oIGZuICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHByb21pc2UudGhlbiggbnVsbCwgZm4gKTtcblx0XHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0XHQvLyBLZWVwIHBpcGUgZm9yIGJhY2stY29tcGF0XG5cdFx0XHRcdFx0cGlwZTogZnVuY3Rpb24oIC8qIGZuRG9uZSwgZm5GYWlsLCBmblByb2dyZXNzICovICkge1xuXHRcdFx0XHRcdFx0dmFyIGZucyA9IGFyZ3VtZW50cztcblx0XG5cdFx0XHRcdFx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCBmdW5jdGlvbiggbmV3RGVmZXIgKSB7XG5cdFx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBpLCB0dXBsZSApIHtcblx0XG5cdFx0XHRcdFx0XHRcdFx0Ly8gTWFwIHR1cGxlcyAocHJvZ3Jlc3MsIGRvbmUsIGZhaWwpIHRvIGFyZ3VtZW50cyAoZG9uZSwgZmFpbCwgcHJvZ3Jlc3MpXG5cdFx0XHRcdFx0XHRcdFx0dmFyIGZuID0galF1ZXJ5LmlzRnVuY3Rpb24oIGZuc1sgdHVwbGVbIDQgXSBdICkgJiYgZm5zWyB0dXBsZVsgNCBdIF07XG5cdFxuXHRcdFx0XHRcdFx0XHRcdC8vIGRlZmVycmVkLnByb2dyZXNzKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLm5vdGlmeSB9KVxuXHRcdFx0XHRcdFx0XHRcdC8vIGRlZmVycmVkLmRvbmUoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIucmVzb2x2ZSB9KVxuXHRcdFx0XHRcdFx0XHRcdC8vIGRlZmVycmVkLmZhaWwoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIucmVqZWN0IH0pXG5cdFx0XHRcdFx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAxIF0gXSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgcmV0dXJuZWQgPSBmbiAmJiBmbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHJldHVybmVkICYmIGpRdWVyeS5pc0Z1bmN0aW9uKCByZXR1cm5lZC5wcm9taXNlICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLnByb21pc2UoKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC5wcm9ncmVzcyggbmV3RGVmZXIubm90aWZ5IClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQuZG9uZSggbmV3RGVmZXIucmVzb2x2ZSApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0LmZhaWwoIG5ld0RlZmVyLnJlamVjdCApO1xuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0bmV3RGVmZXJbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zm4gPyBbIHJldHVybmVkIF0gOiBhcmd1bWVudHNcblx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0Zm5zID0gbnVsbDtcblx0XHRcdFx0XHRcdH0gKS5wcm9taXNlKCk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR0aGVuOiBmdW5jdGlvbiggb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIG9uUHJvZ3Jlc3MgKSB7XG5cdFx0XHRcdFx0XHR2YXIgbWF4RGVwdGggPSAwO1xuXHRcdFx0XHRcdFx0ZnVuY3Rpb24gcmVzb2x2ZSggZGVwdGgsIGRlZmVycmVkLCBoYW5kbGVyLCBzcGVjaWFsICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0XHRcdFx0XHRcdFx0YXJncyA9IGFyZ3VtZW50cyxcblx0XHRcdFx0XHRcdFx0XHRcdG1pZ2h0VGhyb3cgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIHJldHVybmVkLCB0aGVuO1xuXHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMy4zLjNcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTlcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gSWdub3JlIGRvdWJsZS1yZXNvbHV0aW9uIGF0dGVtcHRzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggZGVwdGggPCBtYXhEZXB0aCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkID0gaGFuZGxlci5hcHBseSggdGhhdCwgYXJncyApO1xuXHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC00OFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHJldHVybmVkID09PSBkZWZlcnJlZC5wcm9taXNlKCkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvciggXCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb25cIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9ucyAyLjMuMy4xLCAzLjVcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNzVcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gUmV0cmlldmUgYHRoZW5gIG9ubHkgb25jZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGVuID0gcmV0dXJuZWQgJiZcblx0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuNFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTY0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBjaGVjayBvYmplY3RzIGFuZCBmdW5jdGlvbnMgZm9yIHRoZW5hYmlsaXR5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KCB0eXBlb2YgcmV0dXJuZWQgPT09IFwib2JqZWN0XCIgfHxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGVvZiByZXR1cm5lZCA9PT0gXCJmdW5jdGlvblwiICkgJiZcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZC50aGVuO1xuXHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGEgcmV0dXJuZWQgdGhlbmFibGVcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdGhlbiApICkge1xuXHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTcGVjaWFsIHByb2Nlc3NvcnMgKG5vdGlmeSkganVzdCB3YWl0IGZvciByZXNvbHV0aW9uXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBzcGVjaWFsICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhlbi5jYWxsKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSwgc3BlY2lhbCApLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIFRocm93ZXIsIHNwZWNpYWwgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gTm9ybWFsIHByb2Nlc3NvcnMgKHJlc29sdmUpIGFsc28gaG9vayBpbnRvIHByb2dyZXNzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAuLi5hbmQgZGlzcmVnYXJkIG9sZGVyIHJlc29sdXRpb24gdmFsdWVzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtYXhEZXB0aCsrO1xuXHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoZW4uY2FsbChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgSWRlbnRpdHksIHNwZWNpYWwgKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBUaHJvd2VyLCBzcGVjaWFsICksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgSWRlbnRpdHksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVmZXJyZWQubm90aWZ5V2l0aCApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIEhhbmRsZSBhbGwgb3RoZXIgcmV0dXJuZWQgdmFsdWVzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgc3Vic3RpdHV0ZSBoYW5kbGVycyBwYXNzIG9uIGNvbnRleHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBhbmQgbXVsdGlwbGUgdmFsdWVzIChub24tc3BlYyBiZWhhdmlvcilcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGhhbmRsZXIgIT09IElkZW50aXR5ICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhhdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFyZ3MgPSBbIHJldHVybmVkIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBQcm9jZXNzIHRoZSB2YWx1ZShzKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIERlZmF1bHQgcHJvY2VzcyBpcyByZXNvbHZlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KCBzcGVjaWFsIHx8IGRlZmVycmVkLnJlc29sdmVXaXRoICkoIHRoYXQsIGFyZ3MgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IG5vcm1hbCBwcm9jZXNzb3JzIChyZXNvbHZlKSBjYXRjaCBhbmQgcmVqZWN0IGV4Y2VwdGlvbnNcblx0XHRcdFx0XHRcdFx0XHRcdHByb2Nlc3MgPSBzcGVjaWFsID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0bWlnaHRUaHJvdyA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtaWdodFRocm93KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LkRlZmVycmVkLmV4Y2VwdGlvbkhvb2soIGUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cHJvY2Vzcy5zdGFja1RyYWNlICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMy4zLjQuMVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNjFcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIElnbm9yZSBwb3N0LXJlc29sdXRpb24gZXhjZXB0aW9uc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBkZXB0aCArIDEgPj0gbWF4RGVwdGggKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IHN1YnN0aXR1dGUgaGFuZGxlcnMgcGFzcyBvbiBjb250ZXh0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGFuZCBtdWx0aXBsZSB2YWx1ZXMgKG5vbi1zcGVjIGJlaGF2aW9yKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGhhbmRsZXIgIT09IFRocm93ZXIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhhdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcmdzID0gWyBlIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdFdpdGgoIHRoYXQsIGFyZ3MgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH07XG5cdFxuXHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy4xXG5cdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTdcblx0XHRcdFx0XHRcdFx0XHQvLyBSZS1yZXNvbHZlIHByb21pc2VzIGltbWVkaWF0ZWx5IHRvIGRvZGdlIGZhbHNlIHJlamVjdGlvbiBmcm9tXG5cdFx0XHRcdFx0XHRcdFx0Ly8gc3Vic2VxdWVudCBlcnJvcnNcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGRlcHRoICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cHJvY2VzcygpO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gQ2FsbCBhbiBvcHRpb25hbCBob29rIHRvIHJlY29yZCB0aGUgc3RhY2ssIGluIGNhc2Ugb2YgZXhjZXB0aW9uXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBzaW5jZSBpdCdzIG90aGVyd2lzZSBsb3N0IHdoZW4gZXhlY3V0aW9uIGdvZXMgYXN5bmNcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5LkRlZmVycmVkLmdldFN0YWNrSG9vayApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cHJvY2Vzcy5zdGFja1RyYWNlID0galF1ZXJ5LkRlZmVycmVkLmdldFN0YWNrSG9vaygpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0d2luZG93LnNldFRpbWVvdXQoIHByb2Nlc3MgKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZCggZnVuY3Rpb24oIG5ld0RlZmVyICkge1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gcHJvZ3Jlc3NfaGFuZGxlcnMuYWRkKCAuLi4gKVxuXHRcdFx0XHRcdFx0XHR0dXBsZXNbIDAgXVsgMyBdLmFkZChcblx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKFxuXHRcdFx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLFxuXHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmlzRnVuY3Rpb24oIG9uUHJvZ3Jlc3MgKSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9uUHJvZ3Jlc3MgOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRJZGVudGl0eSxcblx0XHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLm5vdGlmeVdpdGhcblx0XHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFxuXHRcdFx0XHRcdFx0XHQvLyBmdWxmaWxsZWRfaGFuZGxlcnMuYWRkKCAuLi4gKVxuXHRcdFx0XHRcdFx0XHR0dXBsZXNbIDEgXVsgMyBdLmFkZChcblx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKFxuXHRcdFx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLFxuXHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmlzRnVuY3Rpb24oIG9uRnVsZmlsbGVkICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRvbkZ1bGZpbGxlZCA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdElkZW50aXR5XG5cdFx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gcmVqZWN0ZWRfaGFuZGxlcnMuYWRkKCAuLi4gKVxuXHRcdFx0XHRcdFx0XHR0dXBsZXNbIDIgXVsgMyBdLmFkZChcblx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKFxuXHRcdFx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLFxuXHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmlzRnVuY3Rpb24oIG9uUmVqZWN0ZWQgKSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9uUmVqZWN0ZWQgOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRUaHJvd2VyXG5cdFx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0fSApLnByb21pc2UoKTtcblx0XHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0XHQvLyBHZXQgYSBwcm9taXNlIGZvciB0aGlzIGRlZmVycmVkXG5cdFx0XHRcdFx0Ly8gSWYgb2JqIGlzIHByb3ZpZGVkLCB0aGUgcHJvbWlzZSBhc3BlY3QgaXMgYWRkZWQgdG8gdGhlIG9iamVjdFxuXHRcdFx0XHRcdHByb21pc2U6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gb2JqICE9IG51bGwgPyBqUXVlcnkuZXh0ZW5kKCBvYmosIHByb21pc2UgKSA6IHByb21pc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRkZWZlcnJlZCA9IHt9O1xuXHRcblx0XHRcdC8vIEFkZCBsaXN0LXNwZWNpZmljIG1ldGhvZHNcblx0XHRcdGpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBpLCB0dXBsZSApIHtcblx0XHRcdFx0dmFyIGxpc3QgPSB0dXBsZVsgMiBdLFxuXHRcdFx0XHRcdHN0YXRlU3RyaW5nID0gdHVwbGVbIDUgXTtcblx0XG5cdFx0XHRcdC8vIHByb21pc2UucHJvZ3Jlc3MgPSBsaXN0LmFkZFxuXHRcdFx0XHQvLyBwcm9taXNlLmRvbmUgPSBsaXN0LmFkZFxuXHRcdFx0XHQvLyBwcm9taXNlLmZhaWwgPSBsaXN0LmFkZFxuXHRcdFx0XHRwcm9taXNlWyB0dXBsZVsgMSBdIF0gPSBsaXN0LmFkZDtcblx0XG5cdFx0XHRcdC8vIEhhbmRsZSBzdGF0ZVxuXHRcdFx0XHRpZiAoIHN0YXRlU3RyaW5nICkge1xuXHRcdFx0XHRcdGxpc3QuYWRkKFxuXHRcdFx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHQvLyBzdGF0ZSA9IFwicmVzb2x2ZWRcIiAoaS5lLiwgZnVsZmlsbGVkKVxuXHRcdFx0XHRcdFx0XHQvLyBzdGF0ZSA9IFwicmVqZWN0ZWRcIlxuXHRcdFx0XHRcdFx0XHRzdGF0ZSA9IHN0YXRlU3RyaW5nO1xuXHRcdFx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdFx0XHQvLyByZWplY3RlZF9jYWxsYmFja3MuZGlzYWJsZVxuXHRcdFx0XHRcdFx0Ly8gZnVsZmlsbGVkX2NhbGxiYWNrcy5kaXNhYmxlXG5cdFx0XHRcdFx0XHR0dXBsZXNbIDMgLSBpIF1bIDIgXS5kaXNhYmxlLFxuXHRcblx0XHRcdFx0XHRcdC8vIHByb2dyZXNzX2NhbGxiYWNrcy5sb2NrXG5cdFx0XHRcdFx0XHR0dXBsZXNbIDAgXVsgMiBdLmxvY2tcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBwcm9ncmVzc19oYW5kbGVycy5maXJlXG5cdFx0XHRcdC8vIGZ1bGZpbGxlZF9oYW5kbGVycy5maXJlXG5cdFx0XHRcdC8vIHJlamVjdGVkX2hhbmRsZXJzLmZpcmVcblx0XHRcdFx0bGlzdC5hZGQoIHR1cGxlWyAzIF0uZmlyZSApO1xuXHRcblx0XHRcdFx0Ly8gZGVmZXJyZWQubm90aWZ5ID0gZnVuY3Rpb24oKSB7IGRlZmVycmVkLm5vdGlmeVdpdGgoLi4uKSB9XG5cdFx0XHRcdC8vIGRlZmVycmVkLnJlc29sdmUgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQucmVzb2x2ZVdpdGgoLi4uKSB9XG5cdFx0XHRcdC8vIGRlZmVycmVkLnJlamVjdCA9IGZ1bmN0aW9uKCkgeyBkZWZlcnJlZC5yZWplY3RXaXRoKC4uLikgfVxuXHRcdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDAgXSBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdKCB0aGlzID09PSBkZWZlcnJlZCA/IHVuZGVmaW5lZCA6IHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9O1xuXHRcblx0XHRcdFx0Ly8gZGVmZXJyZWQubm90aWZ5V2l0aCA9IGxpc3QuZmlyZVdpdGhcblx0XHRcdFx0Ly8gZGVmZXJyZWQucmVzb2x2ZVdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHRcdC8vIGRlZmVycmVkLnJlamVjdFdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHRcdGRlZmVycmVkWyB0dXBsZVsgMCBdICsgXCJXaXRoXCIgXSA9IGxpc3QuZmlyZVdpdGg7XG5cdFx0XHR9ICk7XG5cdFxuXHRcdFx0Ly8gTWFrZSB0aGUgZGVmZXJyZWQgYSBwcm9taXNlXG5cdFx0XHRwcm9taXNlLnByb21pc2UoIGRlZmVycmVkICk7XG5cdFxuXHRcdFx0Ly8gQ2FsbCBnaXZlbiBmdW5jIGlmIGFueVxuXHRcdFx0aWYgKCBmdW5jICkge1xuXHRcdFx0XHRmdW5jLmNhbGwoIGRlZmVycmVkLCBkZWZlcnJlZCApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEFsbCBkb25lIVxuXHRcdFx0cmV0dXJuIGRlZmVycmVkO1xuXHRcdH0sXG5cdFxuXHRcdC8vIERlZmVycmVkIGhlbHBlclxuXHRcdHdoZW46IGZ1bmN0aW9uKCBzaW5nbGVWYWx1ZSApIHtcblx0XHRcdHZhclxuXHRcblx0XHRcdFx0Ly8gY291bnQgb2YgdW5jb21wbGV0ZWQgc3Vib3JkaW5hdGVzXG5cdFx0XHRcdHJlbWFpbmluZyA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdFxuXHRcdFx0XHQvLyBjb3VudCBvZiB1bnByb2Nlc3NlZCBhcmd1bWVudHNcblx0XHRcdFx0aSA9IHJlbWFpbmluZyxcblx0XG5cdFx0XHRcdC8vIHN1Ym9yZGluYXRlIGZ1bGZpbGxtZW50IGRhdGFcblx0XHRcdFx0cmVzb2x2ZUNvbnRleHRzID0gQXJyYXkoIGkgKSxcblx0XHRcdFx0cmVzb2x2ZVZhbHVlcyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApLFxuXHRcblx0XHRcdFx0Ly8gdGhlIG1hc3RlciBEZWZlcnJlZFxuXHRcdFx0XHRtYXN0ZXIgPSBqUXVlcnkuRGVmZXJyZWQoKSxcblx0XG5cdFx0XHRcdC8vIHN1Ym9yZGluYXRlIGNhbGxiYWNrIGZhY3Rvcnlcblx0XHRcdFx0dXBkYXRlRnVuYyA9IGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlQ29udGV4dHNbIGkgXSA9IHRoaXM7XG5cdFx0XHRcdFx0XHRyZXNvbHZlVmFsdWVzWyBpIF0gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApIDogdmFsdWU7XG5cdFx0XHRcdFx0XHRpZiAoICEoIC0tcmVtYWluaW5nICkgKSB7XG5cdFx0XHRcdFx0XHRcdG1hc3Rlci5yZXNvbHZlV2l0aCggcmVzb2x2ZUNvbnRleHRzLCByZXNvbHZlVmFsdWVzICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fTtcblx0XG5cdFx0XHQvLyBTaW5nbGUtIGFuZCBlbXB0eSBhcmd1bWVudHMgYXJlIGFkb3B0ZWQgbGlrZSBQcm9taXNlLnJlc29sdmVcblx0XHRcdGlmICggcmVtYWluaW5nIDw9IDEgKSB7XG5cdFx0XHRcdGFkb3B0VmFsdWUoIHNpbmdsZVZhbHVlLCBtYXN0ZXIuZG9uZSggdXBkYXRlRnVuYyggaSApICkucmVzb2x2ZSwgbWFzdGVyLnJlamVjdCApO1xuXHRcblx0XHRcdFx0Ly8gVXNlIC50aGVuKCkgdG8gdW53cmFwIHNlY29uZGFyeSB0aGVuYWJsZXMgKGNmLiBnaC0zMDAwKVxuXHRcdFx0XHRpZiAoIG1hc3Rlci5zdGF0ZSgpID09PSBcInBlbmRpbmdcIiB8fFxuXHRcdFx0XHRcdGpRdWVyeS5pc0Z1bmN0aW9uKCByZXNvbHZlVmFsdWVzWyBpIF0gJiYgcmVzb2x2ZVZhbHVlc1sgaSBdLnRoZW4gKSApIHtcblx0XG5cdFx0XHRcdFx0cmV0dXJuIG1hc3Rlci50aGVuKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHQvLyBNdWx0aXBsZSBhcmd1bWVudHMgYXJlIGFnZ3JlZ2F0ZWQgbGlrZSBQcm9taXNlLmFsbCBhcnJheSBlbGVtZW50c1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGFkb3B0VmFsdWUoIHJlc29sdmVWYWx1ZXNbIGkgXSwgdXBkYXRlRnVuYyggaSApLCBtYXN0ZXIucmVqZWN0ICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIG1hc3Rlci5wcm9taXNlKCk7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRcblx0Ly8gVGhlc2UgdXN1YWxseSBpbmRpY2F0ZSBhIHByb2dyYW1tZXIgbWlzdGFrZSBkdXJpbmcgZGV2ZWxvcG1lbnQsXG5cdC8vIHdhcm4gYWJvdXQgdGhlbSBBU0FQIHJhdGhlciB0aGFuIHN3YWxsb3dpbmcgdGhlbSBieSBkZWZhdWx0LlxuXHR2YXIgcmVycm9yTmFtZXMgPSAvXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztcblx0XG5cdGpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rID0gZnVuY3Rpb24oIGVycm9yLCBzdGFjayApIHtcblx0XG5cdFx0Ly8gU3VwcG9ydDogSUUgOCAtIDkgb25seVxuXHRcdC8vIENvbnNvbGUgZXhpc3RzIHdoZW4gZGV2IHRvb2xzIGFyZSBvcGVuLCB3aGljaCBjYW4gaGFwcGVuIGF0IGFueSB0aW1lXG5cdFx0aWYgKCB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS53YXJuICYmIGVycm9yICYmIHJlcnJvck5hbWVzLnRlc3QoIGVycm9yLm5hbWUgKSApIHtcblx0XHRcdHdpbmRvdy5jb25zb2xlLndhcm4oIFwialF1ZXJ5LkRlZmVycmVkIGV4Y2VwdGlvbjogXCIgKyBlcnJvci5tZXNzYWdlLCBlcnJvci5zdGFjaywgc3RhY2sgKTtcblx0XHR9XG5cdH07XG5cdFxuXHRcblx0XG5cdFxuXHRqUXVlcnkucmVhZHlFeGNlcHRpb24gPSBmdW5jdGlvbiggZXJyb3IgKSB7XG5cdFx0d2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fSApO1xuXHR9O1xuXHRcblx0XG5cdFxuXHRcblx0Ly8gVGhlIGRlZmVycmVkIHVzZWQgb24gRE9NIHJlYWR5XG5cdHZhciByZWFkeUxpc3QgPSBqUXVlcnkuRGVmZXJyZWQoKTtcblx0XG5cdGpRdWVyeS5mbi5yZWFkeSA9IGZ1bmN0aW9uKCBmbiApIHtcblx0XG5cdFx0cmVhZHlMaXN0XG5cdFx0XHQudGhlbiggZm4gKVxuXHRcblx0XHRcdC8vIFdyYXAgalF1ZXJ5LnJlYWR5RXhjZXB0aW9uIGluIGEgZnVuY3Rpb24gc28gdGhhdCB0aGUgbG9va3VwXG5cdFx0XHQvLyBoYXBwZW5zIGF0IHRoZSB0aW1lIG9mIGVycm9yIGhhbmRsaW5nIGluc3RlYWQgb2YgY2FsbGJhY2tcblx0XHRcdC8vIHJlZ2lzdHJhdGlvbi5cblx0XHRcdC5jYXRjaCggZnVuY3Rpb24oIGVycm9yICkge1xuXHRcdFx0XHRqUXVlcnkucmVhZHlFeGNlcHRpb24oIGVycm9yICk7XG5cdFx0XHR9ICk7XG5cdFxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXHRcblx0alF1ZXJ5LmV4dGVuZCgge1xuXHRcblx0XHQvLyBJcyB0aGUgRE9NIHJlYWR5IHRvIGJlIHVzZWQ/IFNldCB0byB0cnVlIG9uY2UgaXQgb2NjdXJzLlxuXHRcdGlzUmVhZHk6IGZhbHNlLFxuXHRcblx0XHQvLyBBIGNvdW50ZXIgdG8gdHJhY2sgaG93IG1hbnkgaXRlbXMgdG8gd2FpdCBmb3IgYmVmb3JlXG5cdFx0Ly8gdGhlIHJlYWR5IGV2ZW50IGZpcmVzLiBTZWUgIzY3ODFcblx0XHRyZWFkeVdhaXQ6IDEsXG5cdFxuXHRcdC8vIEhvbGQgKG9yIHJlbGVhc2UpIHRoZSByZWFkeSBldmVudFxuXHRcdGhvbGRSZWFkeTogZnVuY3Rpb24oIGhvbGQgKSB7XG5cdFx0XHRpZiAoIGhvbGQgKSB7XG5cdFx0XHRcdGpRdWVyeS5yZWFkeVdhaXQrKztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGpRdWVyeS5yZWFkeSggdHJ1ZSApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdC8vIEhhbmRsZSB3aGVuIHRoZSBET00gaXMgcmVhZHlcblx0XHRyZWFkeTogZnVuY3Rpb24oIHdhaXQgKSB7XG5cdFxuXHRcdFx0Ly8gQWJvcnQgaWYgdGhlcmUgYXJlIHBlbmRpbmcgaG9sZHMgb3Igd2UncmUgYWxyZWFkeSByZWFkeVxuXHRcdFx0aWYgKCB3YWl0ID09PSB0cnVlID8gLS1qUXVlcnkucmVhZHlXYWl0IDogalF1ZXJ5LmlzUmVhZHkgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBSZW1lbWJlciB0aGF0IHRoZSBET00gaXMgcmVhZHlcblx0XHRcdGpRdWVyeS5pc1JlYWR5ID0gdHJ1ZTtcblx0XG5cdFx0XHQvLyBJZiBhIG5vcm1hbCBET00gUmVhZHkgZXZlbnQgZmlyZWQsIGRlY3JlbWVudCwgYW5kIHdhaXQgaWYgbmVlZCBiZVxuXHRcdFx0aWYgKCB3YWl0ICE9PSB0cnVlICYmIC0talF1ZXJ5LnJlYWR5V2FpdCA+IDAgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBJZiB0aGVyZSBhcmUgZnVuY3Rpb25zIGJvdW5kLCB0byBleGVjdXRlXG5cdFx0XHRyZWFkeUxpc3QucmVzb2x2ZVdpdGgoIGRvY3VtZW50LCBbIGpRdWVyeSBdICk7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRqUXVlcnkucmVhZHkudGhlbiA9IHJlYWR5TGlzdC50aGVuO1xuXHRcblx0Ly8gVGhlIHJlYWR5IGV2ZW50IGhhbmRsZXIgYW5kIHNlbGYgY2xlYW51cCBtZXRob2Rcblx0ZnVuY3Rpb24gY29tcGxldGVkKCkge1xuXHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwiRE9NQ29udGVudExvYWRlZFwiLCBjb21wbGV0ZWQgKTtcblx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJsb2FkXCIsIGNvbXBsZXRlZCApO1xuXHRcdGpRdWVyeS5yZWFkeSgpO1xuXHR9XG5cdFxuXHQvLyBDYXRjaCBjYXNlcyB3aGVyZSAkKGRvY3VtZW50KS5yZWFkeSgpIGlzIGNhbGxlZFxuXHQvLyBhZnRlciB0aGUgYnJvd3NlciBldmVudCBoYXMgYWxyZWFkeSBvY2N1cnJlZC5cblx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTAgb25seVxuXHQvLyBPbGRlciBJRSBzb21ldGltZXMgc2lnbmFscyBcImludGVyYWN0aXZlXCIgdG9vIHNvb25cblx0aWYgKCBkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIgfHxcblx0XHQoIGRvY3VtZW50LnJlYWR5U3RhdGUgIT09IFwibG9hZGluZ1wiICYmICFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwgKSApIHtcblx0XG5cdFx0Ly8gSGFuZGxlIGl0IGFzeW5jaHJvbm91c2x5IHRvIGFsbG93IHNjcmlwdHMgdGhlIG9wcG9ydHVuaXR5IHRvIGRlbGF5IHJlYWR5XG5cdFx0d2luZG93LnNldFRpbWVvdXQoIGpRdWVyeS5yZWFkeSApO1xuXHRcblx0fSBlbHNlIHtcblx0XG5cdFx0Ly8gVXNlIHRoZSBoYW5keSBldmVudCBjYWxsYmFja1xuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIFwiRE9NQ29udGVudExvYWRlZFwiLCBjb21wbGV0ZWQgKTtcblx0XG5cdFx0Ly8gQSBmYWxsYmFjayB0byB3aW5kb3cub25sb2FkLCB0aGF0IHdpbGwgYWx3YXlzIHdvcmtcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggXCJsb2FkXCIsIGNvbXBsZXRlZCApO1xuXHR9XG5cdFxuXHRcblx0XG5cdFxuXHQvLyBNdWx0aWZ1bmN0aW9uYWwgbWV0aG9kIHRvIGdldCBhbmQgc2V0IHZhbHVlcyBvZiBhIGNvbGxlY3Rpb25cblx0Ly8gVGhlIHZhbHVlL3MgY2FuIG9wdGlvbmFsbHkgYmUgZXhlY3V0ZWQgaWYgaXQncyBhIGZ1bmN0aW9uXG5cdHZhciBhY2Nlc3MgPSBmdW5jdGlvbiggZWxlbXMsIGZuLCBrZXksIHZhbHVlLCBjaGFpbmFibGUsIGVtcHR5R2V0LCByYXcgKSB7XG5cdFx0dmFyIGkgPSAwLFxuXHRcdFx0bGVuID0gZWxlbXMubGVuZ3RoLFxuXHRcdFx0YnVsayA9IGtleSA9PSBudWxsO1xuXHRcblx0XHQvLyBTZXRzIG1hbnkgdmFsdWVzXG5cdFx0aWYgKCBqUXVlcnkudHlwZSgga2V5ICkgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0XHRjaGFpbmFibGUgPSB0cnVlO1xuXHRcdFx0Zm9yICggaSBpbiBrZXkgKSB7XG5cdFx0XHRcdGFjY2VzcyggZWxlbXMsIGZuLCBpLCBrZXlbIGkgXSwgdHJ1ZSwgZW1wdHlHZXQsIHJhdyApO1xuXHRcdFx0fVxuXHRcblx0XHQvLyBTZXRzIG9uZSB2YWx1ZVxuXHRcdH0gZWxzZSBpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRjaGFpbmFibGUgPSB0cnVlO1xuXHRcblx0XHRcdGlmICggIWpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0XHRyYXcgPSB0cnVlO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggYnVsayApIHtcblx0XG5cdFx0XHRcdC8vIEJ1bGsgb3BlcmF0aW9ucyBydW4gYWdhaW5zdCB0aGUgZW50aXJlIHNldFxuXHRcdFx0XHRpZiAoIHJhdyApIHtcblx0XHRcdFx0XHRmbi5jYWxsKCBlbGVtcywgdmFsdWUgKTtcblx0XHRcdFx0XHRmbiA9IG51bGw7XG5cdFxuXHRcdFx0XHQvLyAuLi5leGNlcHQgd2hlbiBleGVjdXRpbmcgZnVuY3Rpb24gdmFsdWVzXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YnVsayA9IGZuO1xuXHRcdFx0XHRcdGZuID0gZnVuY3Rpb24oIGVsZW0sIGtleSwgdmFsdWUgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gYnVsay5jYWxsKCBqUXVlcnkoIGVsZW0gKSwgdmFsdWUgKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCBmbiApIHtcblx0XHRcdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0Zm4oXG5cdFx0XHRcdFx0XHRlbGVtc1sgaSBdLCBrZXksIHJhdyA/XG5cdFx0XHRcdFx0XHR2YWx1ZSA6XG5cdFx0XHRcdFx0XHR2YWx1ZS5jYWxsKCBlbGVtc1sgaSBdLCBpLCBmbiggZWxlbXNbIGkgXSwga2V5ICkgKVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdHJldHVybiBjaGFpbmFibGUgP1xuXHRcdFx0ZWxlbXMgOlxuXHRcblx0XHRcdC8vIEdldHNcblx0XHRcdGJ1bGsgP1xuXHRcdFx0XHRmbi5jYWxsKCBlbGVtcyApIDpcblx0XHRcdFx0bGVuID8gZm4oIGVsZW1zWyAwIF0sIGtleSApIDogZW1wdHlHZXQ7XG5cdH07XG5cdHZhciBhY2NlcHREYXRhID0gZnVuY3Rpb24oIG93bmVyICkge1xuXHRcblx0XHQvLyBBY2NlcHRzIG9ubHk6XG5cdFx0Ly8gIC0gTm9kZVxuXHRcdC8vICAgIC0gTm9kZS5FTEVNRU5UX05PREVcblx0XHQvLyAgICAtIE5vZGUuRE9DVU1FTlRfTk9ERVxuXHRcdC8vICAtIE9iamVjdFxuXHRcdC8vICAgIC0gQW55XG5cdFx0cmV0dXJuIG93bmVyLm5vZGVUeXBlID09PSAxIHx8IG93bmVyLm5vZGVUeXBlID09PSA5IHx8ICEoICtvd25lci5ub2RlVHlwZSApO1xuXHR9O1xuXHRcblx0XG5cdFxuXHRcblx0ZnVuY3Rpb24gRGF0YSgpIHtcblx0XHR0aGlzLmV4cGFuZG8gPSBqUXVlcnkuZXhwYW5kbyArIERhdGEudWlkKys7XG5cdH1cblx0XG5cdERhdGEudWlkID0gMTtcblx0XG5cdERhdGEucHJvdG90eXBlID0ge1xuXHRcblx0XHRjYWNoZTogZnVuY3Rpb24oIG93bmVyICkge1xuXHRcblx0XHRcdC8vIENoZWNrIGlmIHRoZSBvd25lciBvYmplY3QgYWxyZWFkeSBoYXMgYSBjYWNoZVxuXHRcdFx0dmFyIHZhbHVlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXHRcblx0XHRcdC8vIElmIG5vdCwgY3JlYXRlIG9uZVxuXHRcdFx0aWYgKCAhdmFsdWUgKSB7XG5cdFx0XHRcdHZhbHVlID0ge307XG5cdFxuXHRcdFx0XHQvLyBXZSBjYW4gYWNjZXB0IGRhdGEgZm9yIG5vbi1lbGVtZW50IG5vZGVzIGluIG1vZGVybiBicm93c2Vycyxcblx0XHRcdFx0Ly8gYnV0IHdlIHNob3VsZCBub3QsIHNlZSAjODMzNS5cblx0XHRcdFx0Ly8gQWx3YXlzIHJldHVybiBhbiBlbXB0eSBvYmplY3QuXG5cdFx0XHRcdGlmICggYWNjZXB0RGF0YSggb3duZXIgKSApIHtcblx0XG5cdFx0XHRcdFx0Ly8gSWYgaXQgaXMgYSBub2RlIHVubGlrZWx5IHRvIGJlIHN0cmluZ2lmeS1lZCBvciBsb29wZWQgb3ZlclxuXHRcdFx0XHRcdC8vIHVzZSBwbGFpbiBhc3NpZ25tZW50XG5cdFx0XHRcdFx0aWYgKCBvd25lci5ub2RlVHlwZSApIHtcblx0XHRcdFx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSA9IHZhbHVlO1xuXHRcblx0XHRcdFx0XHQvLyBPdGhlcndpc2Ugc2VjdXJlIGl0IGluIGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHlcblx0XHRcdFx0XHQvLyBjb25maWd1cmFibGUgbXVzdCBiZSB0cnVlIHRvIGFsbG93IHRoZSBwcm9wZXJ0eSB0byBiZVxuXHRcdFx0XHRcdC8vIGRlbGV0ZWQgd2hlbiBkYXRhIGlzIHJlbW92ZWRcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCBvd25lciwgdGhpcy5leHBhbmRvLCB7XG5cdFx0XHRcdFx0XHRcdHZhbHVlOiB2YWx1ZSxcblx0XHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH0sXG5cdFx0c2V0OiBmdW5jdGlvbiggb3duZXIsIGRhdGEsIHZhbHVlICkge1xuXHRcdFx0dmFyIHByb3AsXG5cdFx0XHRcdGNhY2hlID0gdGhpcy5jYWNoZSggb3duZXIgKTtcblx0XG5cdFx0XHQvLyBIYW5kbGU6IFsgb3duZXIsIGtleSwgdmFsdWUgXSBhcmdzXG5cdFx0XHQvLyBBbHdheXMgdXNlIGNhbWVsQ2FzZSBrZXkgKGdoLTIyNTcpXG5cdFx0XHRpZiAoIHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRjYWNoZVsgalF1ZXJ5LmNhbWVsQ2FzZSggZGF0YSApIF0gPSB2YWx1ZTtcblx0XG5cdFx0XHQvLyBIYW5kbGU6IFsgb3duZXIsIHsgcHJvcGVydGllcyB9IF0gYXJnc1xuXHRcdFx0fSBlbHNlIHtcblx0XG5cdFx0XHRcdC8vIENvcHkgdGhlIHByb3BlcnRpZXMgb25lLWJ5LW9uZSB0byB0aGUgY2FjaGUgb2JqZWN0XG5cdFx0XHRcdGZvciAoIHByb3AgaW4gZGF0YSApIHtcblx0XHRcdFx0XHRjYWNoZVsgalF1ZXJ5LmNhbWVsQ2FzZSggcHJvcCApIF0gPSBkYXRhWyBwcm9wIF07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBjYWNoZTtcblx0XHR9LFxuXHRcdGdldDogZnVuY3Rpb24oIG93bmVyLCBrZXkgKSB7XG5cdFx0XHRyZXR1cm4ga2V5ID09PSB1bmRlZmluZWQgP1xuXHRcdFx0XHR0aGlzLmNhY2hlKCBvd25lciApIDpcblx0XG5cdFx0XHRcdC8vIEFsd2F5cyB1c2UgY2FtZWxDYXNlIGtleSAoZ2gtMjI1Nylcblx0XHRcdFx0b3duZXJbIHRoaXMuZXhwYW5kbyBdICYmIG93bmVyWyB0aGlzLmV4cGFuZG8gXVsgalF1ZXJ5LmNhbWVsQ2FzZSgga2V5ICkgXTtcblx0XHR9LFxuXHRcdGFjY2VzczogZnVuY3Rpb24oIG93bmVyLCBrZXksIHZhbHVlICkge1xuXHRcblx0XHRcdC8vIEluIGNhc2VzIHdoZXJlIGVpdGhlcjpcblx0XHRcdC8vXG5cdFx0XHQvLyAgIDEuIE5vIGtleSB3YXMgc3BlY2lmaWVkXG5cdFx0XHQvLyAgIDIuIEEgc3RyaW5nIGtleSB3YXMgc3BlY2lmaWVkLCBidXQgbm8gdmFsdWUgcHJvdmlkZWRcblx0XHRcdC8vXG5cdFx0XHQvLyBUYWtlIHRoZSBcInJlYWRcIiBwYXRoIGFuZCBhbGxvdyB0aGUgZ2V0IG1ldGhvZCB0byBkZXRlcm1pbmVcblx0XHRcdC8vIHdoaWNoIHZhbHVlIHRvIHJldHVybiwgcmVzcGVjdGl2ZWx5IGVpdGhlcjpcblx0XHRcdC8vXG5cdFx0XHQvLyAgIDEuIFRoZSBlbnRpcmUgY2FjaGUgb2JqZWN0XG5cdFx0XHQvLyAgIDIuIFRoZSBkYXRhIHN0b3JlZCBhdCB0aGUga2V5XG5cdFx0XHQvL1xuXHRcdFx0aWYgKCBrZXkgPT09IHVuZGVmaW5lZCB8fFxuXHRcdFx0XHRcdCggKCBrZXkgJiYgdHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIiApICYmIHZhbHVlID09PSB1bmRlZmluZWQgKSApIHtcblx0XG5cdFx0XHRcdHJldHVybiB0aGlzLmdldCggb3duZXIsIGtleSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFdoZW4gdGhlIGtleSBpcyBub3QgYSBzdHJpbmcsIG9yIGJvdGggYSBrZXkgYW5kIHZhbHVlXG5cdFx0XHQvLyBhcmUgc3BlY2lmaWVkLCBzZXQgb3IgZXh0ZW5kIChleGlzdGluZyBvYmplY3RzKSB3aXRoIGVpdGhlcjpcblx0XHRcdC8vXG5cdFx0XHQvLyAgIDEuIEFuIG9iamVjdCBvZiBwcm9wZXJ0aWVzXG5cdFx0XHQvLyAgIDIuIEEga2V5IGFuZCB2YWx1ZVxuXHRcdFx0Ly9cblx0XHRcdHRoaXMuc2V0KCBvd25lciwga2V5LCB2YWx1ZSApO1xuXHRcblx0XHRcdC8vIFNpbmNlIHRoZSBcInNldFwiIHBhdGggY2FuIGhhdmUgdHdvIHBvc3NpYmxlIGVudHJ5IHBvaW50c1xuXHRcdFx0Ly8gcmV0dXJuIHRoZSBleHBlY3RlZCBkYXRhIGJhc2VkIG9uIHdoaWNoIHBhdGggd2FzIHRha2VuWypdXG5cdFx0XHRyZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDoga2V5O1xuXHRcdH0sXG5cdFx0cmVtb3ZlOiBmdW5jdGlvbiggb3duZXIsIGtleSApIHtcblx0XHRcdHZhciBpLFxuXHRcdFx0XHRjYWNoZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblx0XG5cdFx0XHRpZiAoIGNhY2hlID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIGtleSAhPT0gdW5kZWZpbmVkICkge1xuXHRcblx0XHRcdFx0Ly8gU3VwcG9ydCBhcnJheSBvciBzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nIG9mIGtleXNcblx0XHRcdFx0aWYgKCBqUXVlcnkuaXNBcnJheSgga2V5ICkgKSB7XG5cdFxuXHRcdFx0XHRcdC8vIElmIGtleSBpcyBhbiBhcnJheSBvZiBrZXlzLi4uXG5cdFx0XHRcdFx0Ly8gV2UgYWx3YXlzIHNldCBjYW1lbENhc2Uga2V5cywgc28gcmVtb3ZlIHRoYXQuXG5cdFx0XHRcdFx0a2V5ID0ga2V5Lm1hcCggalF1ZXJ5LmNhbWVsQ2FzZSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGtleSA9IGpRdWVyeS5jYW1lbENhc2UoIGtleSApO1xuXHRcblx0XHRcdFx0XHQvLyBJZiBhIGtleSB3aXRoIHRoZSBzcGFjZXMgZXhpc3RzLCB1c2UgaXQuXG5cdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCBjcmVhdGUgYW4gYXJyYXkgYnkgbWF0Y2hpbmcgbm9uLXdoaXRlc3BhY2Vcblx0XHRcdFx0XHRrZXkgPSBrZXkgaW4gY2FjaGUgP1xuXHRcdFx0XHRcdFx0WyBrZXkgXSA6XG5cdFx0XHRcdFx0XHQoIGtleS5tYXRjaCggcm5vdHdoaXRlICkgfHwgW10gKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0aSA9IGtleS5sZW5ndGg7XG5cdFxuXHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRkZWxldGUgY2FjaGVbIGtleVsgaSBdIF07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHQvLyBSZW1vdmUgdGhlIGV4cGFuZG8gaWYgdGhlcmUncyBubyBtb3JlIGRhdGFcblx0XHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgfHwgalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGNhY2hlICkgKSB7XG5cdFxuXHRcdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1XG5cdFx0XHRcdC8vIFdlYmtpdCAmIEJsaW5rIHBlcmZvcm1hbmNlIHN1ZmZlcnMgd2hlbiBkZWxldGluZyBwcm9wZXJ0aWVzXG5cdFx0XHRcdC8vIGZyb20gRE9NIG5vZGVzLCBzbyBzZXQgdG8gdW5kZWZpbmVkIGluc3RlYWRcblx0XHRcdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Mzc4NjA3IChidWcgcmVzdHJpY3RlZClcblx0XHRcdFx0aWYgKCBvd25lci5ub2RlVHlwZSApIHtcblx0XHRcdFx0XHRvd25lclsgdGhpcy5leHBhbmRvIF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGVsZXRlIG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0aGFzRGF0YTogZnVuY3Rpb24oIG93bmVyICkge1xuXHRcdFx0dmFyIGNhY2hlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXHRcdFx0cmV0dXJuIGNhY2hlICE9PSB1bmRlZmluZWQgJiYgIWpRdWVyeS5pc0VtcHR5T2JqZWN0KCBjYWNoZSApO1xuXHRcdH1cblx0fTtcblx0dmFyIGRhdGFQcml2ID0gbmV3IERhdGEoKTtcblx0XG5cdHZhciBkYXRhVXNlciA9IG5ldyBEYXRhKCk7XG5cdFxuXHRcblx0XG5cdC8vXHRJbXBsZW1lbnRhdGlvbiBTdW1tYXJ5XG5cdC8vXG5cdC8vXHQxLiBFbmZvcmNlIEFQSSBzdXJmYWNlIGFuZCBzZW1hbnRpYyBjb21wYXRpYmlsaXR5IHdpdGggMS45LnggYnJhbmNoXG5cdC8vXHQyLiBJbXByb3ZlIHRoZSBtb2R1bGUncyBtYWludGFpbmFiaWxpdHkgYnkgcmVkdWNpbmcgdGhlIHN0b3JhZ2Vcblx0Ly9cdFx0cGF0aHMgdG8gYSBzaW5nbGUgbWVjaGFuaXNtLlxuXHQvL1x0My4gVXNlIHRoZSBzYW1lIHNpbmdsZSBtZWNoYW5pc20gdG8gc3VwcG9ydCBcInByaXZhdGVcIiBhbmQgXCJ1c2VyXCIgZGF0YS5cblx0Ly9cdDQuIF9OZXZlcl8gZXhwb3NlIFwicHJpdmF0ZVwiIGRhdGEgdG8gdXNlciBjb2RlIChUT0RPOiBEcm9wIF9kYXRhLCBfcmVtb3ZlRGF0YSlcblx0Ly9cdDUuIEF2b2lkIGV4cG9zaW5nIGltcGxlbWVudGF0aW9uIGRldGFpbHMgb24gdXNlciBvYmplY3RzIChlZy4gZXhwYW5kbyBwcm9wZXJ0aWVzKVxuXHQvL1x0Ni4gUHJvdmlkZSBhIGNsZWFyIHBhdGggZm9yIGltcGxlbWVudGF0aW9uIHVwZ3JhZGUgdG8gV2Vha01hcCBpbiAyMDE0XG5cdFxuXHR2YXIgcmJyYWNlID0gL14oPzpcXHtbXFx3XFxXXSpcXH18XFxbW1xcd1xcV10qXFxdKSQvLFxuXHRcdHJtdWx0aURhc2ggPSAvW0EtWl0vZztcblx0XG5cdGZ1bmN0aW9uIGRhdGFBdHRyKCBlbGVtLCBrZXksIGRhdGEgKSB7XG5cdFx0dmFyIG5hbWU7XG5cdFxuXHRcdC8vIElmIG5vdGhpbmcgd2FzIGZvdW5kIGludGVybmFsbHksIHRyeSB0byBmZXRjaCBhbnlcblx0XHQvLyBkYXRhIGZyb20gdGhlIEhUTUw1IGRhdGEtKiBhdHRyaWJ1dGVcblx0XHRpZiAoIGRhdGEgPT09IHVuZGVmaW5lZCAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0bmFtZSA9IFwiZGF0YS1cIiArIGtleS5yZXBsYWNlKCBybXVsdGlEYXNoLCBcIi0kJlwiICkudG9Mb3dlckNhc2UoKTtcblx0XHRcdGRhdGEgPSBlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSApO1xuXHRcblx0XHRcdGlmICggdHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0ZGF0YSA9IGRhdGEgPT09IFwidHJ1ZVwiID8gdHJ1ZSA6XG5cdFx0XHRcdFx0XHRkYXRhID09PSBcImZhbHNlXCIgPyBmYWxzZSA6XG5cdFx0XHRcdFx0XHRkYXRhID09PSBcIm51bGxcIiA/IG51bGwgOlxuXHRcblx0XHRcdFx0XHRcdC8vIE9ubHkgY29udmVydCB0byBhIG51bWJlciBpZiBpdCBkb2Vzbid0IGNoYW5nZSB0aGUgc3RyaW5nXG5cdFx0XHRcdFx0XHQrZGF0YSArIFwiXCIgPT09IGRhdGEgPyArZGF0YSA6XG5cdFx0XHRcdFx0XHRyYnJhY2UudGVzdCggZGF0YSApID8gSlNPTi5wYXJzZSggZGF0YSApIDpcblx0XHRcdFx0XHRcdGRhdGE7XG5cdFx0XHRcdH0gY2F0Y2ggKCBlICkge31cblx0XG5cdFx0XHRcdC8vIE1ha2Ugc3VyZSB3ZSBzZXQgdGhlIGRhdGEgc28gaXQgaXNuJ3QgY2hhbmdlZCBsYXRlclxuXHRcdFx0XHRkYXRhVXNlci5zZXQoIGVsZW0sIGtleSwgZGF0YSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGRhdGE7XG5cdH1cblx0XG5cdGpRdWVyeS5leHRlbmQoIHtcblx0XHRoYXNEYXRhOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBkYXRhVXNlci5oYXNEYXRhKCBlbGVtICkgfHwgZGF0YVByaXYuaGFzRGF0YSggZWxlbSApO1xuXHRcdH0sXG5cdFxuXHRcdGRhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBkYXRhICkge1xuXHRcdFx0cmV0dXJuIGRhdGFVc2VyLmFjY2VzcyggZWxlbSwgbmFtZSwgZGF0YSApO1xuXHRcdH0sXG5cdFxuXHRcdHJlbW92ZURhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdFx0ZGF0YVVzZXIucmVtb3ZlKCBlbGVtLCBuYW1lICk7XG5cdFx0fSxcblx0XG5cdFx0Ly8gVE9ETzogTm93IHRoYXQgYWxsIGNhbGxzIHRvIF9kYXRhIGFuZCBfcmVtb3ZlRGF0YSBoYXZlIGJlZW4gcmVwbGFjZWRcblx0XHQvLyB3aXRoIGRpcmVjdCBjYWxscyB0byBkYXRhUHJpdiBtZXRob2RzLCB0aGVzZSBjYW4gYmUgZGVwcmVjYXRlZC5cblx0XHRfZGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGRhdGEgKSB7XG5cdFx0XHRyZXR1cm4gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBuYW1lLCBkYXRhICk7XG5cdFx0fSxcblx0XG5cdFx0X3JlbW92ZURhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBuYW1lICk7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRqUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdFx0ZGF0YTogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgaSwgbmFtZSwgZGF0YSxcblx0XHRcdFx0ZWxlbSA9IHRoaXNbIDAgXSxcblx0XHRcdFx0YXR0cnMgPSBlbGVtICYmIGVsZW0uYXR0cmlidXRlcztcblx0XG5cdFx0XHQvLyBHZXRzIGFsbCB2YWx1ZXNcblx0XHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdGlmICggdGhpcy5sZW5ndGggKSB7XG5cdFx0XHRcdFx0ZGF0YSA9IGRhdGFVc2VyLmdldCggZWxlbSApO1xuXHRcblx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgIWRhdGFQcml2LmdldCggZWxlbSwgXCJoYXNEYXRhQXR0cnNcIiApICkge1xuXHRcdFx0XHRcdFx0aSA9IGF0dHJzLmxlbmd0aDtcblx0XHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgMTEgb25seVxuXHRcdFx0XHRcdFx0XHQvLyBUaGUgYXR0cnMgZWxlbWVudHMgY2FuIGJlIG51bGwgKCMxNDg5NClcblx0XHRcdFx0XHRcdFx0aWYgKCBhdHRyc1sgaSBdICkge1xuXHRcdFx0XHRcdFx0XHRcdG5hbWUgPSBhdHRyc1sgaSBdLm5hbWU7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBuYW1lLmluZGV4T2YoIFwiZGF0YS1cIiApID09PSAwICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0bmFtZSA9IGpRdWVyeS5jYW1lbENhc2UoIG5hbWUuc2xpY2UoIDUgKSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGF0YUF0dHIoIGVsZW0sIG5hbWUsIGRhdGFbIG5hbWUgXSApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZGF0YVByaXYuc2V0KCBlbGVtLCBcImhhc0RhdGFBdHRyc1wiLCB0cnVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBTZXRzIG11bHRpcGxlIHZhbHVlc1xuXHRcdFx0aWYgKCB0eXBlb2Yga2V5ID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRkYXRhVXNlci5zZXQoIHRoaXMsIGtleSApO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHR2YXIgZGF0YTtcblx0XG5cdFx0XHRcdC8vIFRoZSBjYWxsaW5nIGpRdWVyeSBvYmplY3QgKGVsZW1lbnQgbWF0Y2hlcykgaXMgbm90IGVtcHR5XG5cdFx0XHRcdC8vIChhbmQgdGhlcmVmb3JlIGhhcyBhbiBlbGVtZW50IGFwcGVhcnMgYXQgdGhpc1sgMCBdKSBhbmQgdGhlXG5cdFx0XHRcdC8vIGB2YWx1ZWAgcGFyYW1ldGVyIHdhcyBub3QgdW5kZWZpbmVkLiBBbiBlbXB0eSBqUXVlcnkgb2JqZWN0XG5cdFx0XHRcdC8vIHdpbGwgcmVzdWx0IGluIGB1bmRlZmluZWRgIGZvciBlbGVtID0gdGhpc1sgMCBdIHdoaWNoIHdpbGxcblx0XHRcdFx0Ly8gdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFuIGF0dGVtcHQgdG8gcmVhZCBhIGRhdGEgY2FjaGUgaXMgbWFkZS5cblx0XHRcdFx0aWYgKCBlbGVtICYmIHZhbHVlID09PSB1bmRlZmluZWQgKSB7XG5cdFxuXHRcdFx0XHRcdC8vIEF0dGVtcHQgdG8gZ2V0IGRhdGEgZnJvbSB0aGUgY2FjaGVcblx0XHRcdFx0XHQvLyBUaGUga2V5IHdpbGwgYWx3YXlzIGJlIGNhbWVsQ2FzZWQgaW4gRGF0YVxuXHRcdFx0XHRcdGRhdGEgPSBkYXRhVXNlci5nZXQoIGVsZW0sIGtleSApO1xuXHRcdFx0XHRcdGlmICggZGF0YSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBBdHRlbXB0IHRvIFwiZGlzY292ZXJcIiB0aGUgZGF0YSBpblxuXHRcdFx0XHRcdC8vIEhUTUw1IGN1c3RvbSBkYXRhLSogYXR0cnNcblx0XHRcdFx0XHRkYXRhID0gZGF0YUF0dHIoIGVsZW0sIGtleSApO1xuXHRcdFx0XHRcdGlmICggZGF0YSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBXZSB0cmllZCByZWFsbHkgaGFyZCwgYnV0IHRoZSBkYXRhIGRvZXNuJ3QgZXhpc3QuXG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBTZXQgdGhlIGRhdGEuLi5cblx0XHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdFx0Ly8gV2UgYWx3YXlzIHN0b3JlIHRoZSBjYW1lbENhc2VkIGtleVxuXHRcdFx0XHRcdGRhdGFVc2VyLnNldCggdGhpcywga2V5LCB2YWx1ZSApO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEsIG51bGwsIHRydWUgKTtcblx0XHR9LFxuXHRcblx0XHRyZW1vdmVEYXRhOiBmdW5jdGlvbigga2V5ICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRhdGFVc2VyLnJlbW92ZSggdGhpcywga2V5ICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRcblx0alF1ZXJ5LmV4dGVuZCgge1xuXHRcdHF1ZXVlOiBmdW5jdGlvbiggZWxlbSwgdHlwZSwgZGF0YSApIHtcblx0XHRcdHZhciBxdWV1ZTtcblx0XG5cdFx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRcdHR5cGUgPSAoIHR5cGUgfHwgXCJmeFwiICkgKyBcInF1ZXVlXCI7XG5cdFx0XHRcdHF1ZXVlID0gZGF0YVByaXYuZ2V0KCBlbGVtLCB0eXBlICk7XG5cdFxuXHRcdFx0XHQvLyBTcGVlZCB1cCBkZXF1ZXVlIGJ5IGdldHRpbmcgb3V0IHF1aWNrbHkgaWYgdGhpcyBpcyBqdXN0IGEgbG9va3VwXG5cdFx0XHRcdGlmICggZGF0YSApIHtcblx0XHRcdFx0XHRpZiAoICFxdWV1ZSB8fCBqUXVlcnkuaXNBcnJheSggZGF0YSApICkge1xuXHRcdFx0XHRcdFx0cXVldWUgPSBkYXRhUHJpdi5hY2Nlc3MoIGVsZW0sIHR5cGUsIGpRdWVyeS5tYWtlQXJyYXkoIGRhdGEgKSApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBkYXRhICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBxdWV1ZSB8fCBbXTtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRkZXF1ZXVlOiBmdW5jdGlvbiggZWxlbSwgdHlwZSApIHtcblx0XHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblx0XG5cdFx0XHR2YXIgcXVldWUgPSBqUXVlcnkucXVldWUoIGVsZW0sIHR5cGUgKSxcblx0XHRcdFx0c3RhcnRMZW5ndGggPSBxdWV1ZS5sZW5ndGgsXG5cdFx0XHRcdGZuID0gcXVldWUuc2hpZnQoKSxcblx0XHRcdFx0aG9va3MgPSBqUXVlcnkuX3F1ZXVlSG9va3MoIGVsZW0sIHR5cGUgKSxcblx0XHRcdFx0bmV4dCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCBlbGVtLCB0eXBlICk7XG5cdFx0XHRcdH07XG5cdFxuXHRcdFx0Ly8gSWYgdGhlIGZ4IHF1ZXVlIGlzIGRlcXVldWVkLCBhbHdheXMgcmVtb3ZlIHRoZSBwcm9ncmVzcyBzZW50aW5lbFxuXHRcdFx0aWYgKCBmbiA9PT0gXCJpbnByb2dyZXNzXCIgKSB7XG5cdFx0XHRcdGZuID0gcXVldWUuc2hpZnQoKTtcblx0XHRcdFx0c3RhcnRMZW5ndGgtLTtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIGZuICkge1xuXHRcblx0XHRcdFx0Ly8gQWRkIGEgcHJvZ3Jlc3Mgc2VudGluZWwgdG8gcHJldmVudCB0aGUgZnggcXVldWUgZnJvbSBiZWluZ1xuXHRcdFx0XHQvLyBhdXRvbWF0aWNhbGx5IGRlcXVldWVkXG5cdFx0XHRcdGlmICggdHlwZSA9PT0gXCJmeFwiICkge1xuXHRcdFx0XHRcdHF1ZXVlLnVuc2hpZnQoIFwiaW5wcm9ncmVzc1wiICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIENsZWFyIHVwIHRoZSBsYXN0IHF1ZXVlIHN0b3AgZnVuY3Rpb25cblx0XHRcdFx0ZGVsZXRlIGhvb2tzLnN0b3A7XG5cdFx0XHRcdGZuLmNhbGwoIGVsZW0sIG5leHQsIGhvb2tzICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCAhc3RhcnRMZW5ndGggJiYgaG9va3MgKSB7XG5cdFx0XHRcdGhvb2tzLmVtcHR5LmZpcmUoKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHQvLyBOb3QgcHVibGljIC0gZ2VuZXJhdGUgYSBxdWV1ZUhvb2tzIG9iamVjdCwgb3IgcmV0dXJuIHRoZSBjdXJyZW50IG9uZVxuXHRcdF9xdWV1ZUhvb2tzOiBmdW5jdGlvbiggZWxlbSwgdHlwZSApIHtcblx0XHRcdHZhciBrZXkgPSB0eXBlICsgXCJxdWV1ZUhvb2tzXCI7XG5cdFx0XHRyZXR1cm4gZGF0YVByaXYuZ2V0KCBlbGVtLCBrZXkgKSB8fCBkYXRhUHJpdi5hY2Nlc3MoIGVsZW0sIGtleSwge1xuXHRcdFx0XHRlbXB0eTogalF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICkuYWRkKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIFsgdHlwZSArIFwicXVldWVcIiwga2V5IF0gKTtcblx0XHRcdFx0fSApXG5cdFx0XHR9ICk7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRqUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdFx0cXVldWU6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdFx0dmFyIHNldHRlciA9IDI7XG5cdFxuXHRcdFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0ZGF0YSA9IHR5cGU7XG5cdFx0XHRcdHR5cGUgPSBcImZ4XCI7XG5cdFx0XHRcdHNldHRlci0tO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCA8IHNldHRlciApIHtcblx0XHRcdFx0cmV0dXJuIGpRdWVyeS5xdWV1ZSggdGhpc1sgMCBdLCB0eXBlICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIGRhdGEgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdHRoaXMgOlxuXHRcdFx0XHR0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciBxdWV1ZSA9IGpRdWVyeS5xdWV1ZSggdGhpcywgdHlwZSwgZGF0YSApO1xuXHRcblx0XHRcdFx0XHQvLyBFbnN1cmUgYSBob29rcyBmb3IgdGhpcyBxdWV1ZVxuXHRcdFx0XHRcdGpRdWVyeS5fcXVldWVIb29rcyggdGhpcywgdHlwZSApO1xuXHRcblx0XHRcdFx0XHRpZiAoIHR5cGUgPT09IFwiZnhcIiAmJiBxdWV1ZVsgMCBdICE9PSBcImlucHJvZ3Jlc3NcIiApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0fSxcblx0XHRkZXF1ZXVlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xuXHRcdFx0fSApO1xuXHRcdH0sXG5cdFx0Y2xlYXJRdWV1ZTogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5xdWV1ZSggdHlwZSB8fCBcImZ4XCIsIFtdICk7XG5cdFx0fSxcblx0XG5cdFx0Ly8gR2V0IGEgcHJvbWlzZSByZXNvbHZlZCB3aGVuIHF1ZXVlcyBvZiBhIGNlcnRhaW4gdHlwZVxuXHRcdC8vIGFyZSBlbXB0aWVkIChmeCBpcyB0aGUgdHlwZSBieSBkZWZhdWx0KVxuXHRcdHByb21pc2U6IGZ1bmN0aW9uKCB0eXBlLCBvYmogKSB7XG5cdFx0XHR2YXIgdG1wLFxuXHRcdFx0XHRjb3VudCA9IDEsXG5cdFx0XHRcdGRlZmVyID0galF1ZXJ5LkRlZmVycmVkKCksXG5cdFx0XHRcdGVsZW1lbnRzID0gdGhpcyxcblx0XHRcdFx0aSA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0XHRyZXNvbHZlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCAhKCAtLWNvdW50ICkgKSB7XG5cdFx0XHRcdFx0XHRkZWZlci5yZXNvbHZlV2l0aCggZWxlbWVudHMsIFsgZWxlbWVudHMgXSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XG5cdFx0XHRpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRvYmogPSB0eXBlO1xuXHRcdFx0XHR0eXBlID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcdFx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXHRcblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHR0bXAgPSBkYXRhUHJpdi5nZXQoIGVsZW1lbnRzWyBpIF0sIHR5cGUgKyBcInF1ZXVlSG9va3NcIiApO1xuXHRcdFx0XHRpZiAoIHRtcCAmJiB0bXAuZW1wdHkgKSB7XG5cdFx0XHRcdFx0Y291bnQrKztcblx0XHRcdFx0XHR0bXAuZW1wdHkuYWRkKCByZXNvbHZlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJlc29sdmUoKTtcblx0XHRcdHJldHVybiBkZWZlci5wcm9taXNlKCBvYmogKTtcblx0XHR9XG5cdH0gKTtcblx0dmFyIHBudW0gPSAoIC9bKy1dPyg/OlxcZCpcXC58KVxcZCsoPzpbZUVdWystXT9cXGQrfCkvICkuc291cmNlO1xuXHRcblx0dmFyIHJjc3NOdW0gPSBuZXcgUmVnRXhwKCBcIl4oPzooWystXSk9fCkoXCIgKyBwbnVtICsgXCIpKFthLXolXSopJFwiLCBcImlcIiApO1xuXHRcblx0XG5cdHZhciBjc3NFeHBhbmQgPSBbIFwiVG9wXCIsIFwiUmlnaHRcIiwgXCJCb3R0b21cIiwgXCJMZWZ0XCIgXTtcblx0XG5cdHZhciBpc0hpZGRlbldpdGhpblRyZWUgPSBmdW5jdGlvbiggZWxlbSwgZWwgKSB7XG5cdFxuXHRcdFx0Ly8gaXNIaWRkZW5XaXRoaW5UcmVlIG1pZ2h0IGJlIGNhbGxlZCBmcm9tIGpRdWVyeSNmaWx0ZXIgZnVuY3Rpb247XG5cdFx0XHQvLyBpbiB0aGF0IGNhc2UsIGVsZW1lbnQgd2lsbCBiZSBzZWNvbmQgYXJndW1lbnRcblx0XHRcdGVsZW0gPSBlbCB8fCBlbGVtO1xuXHRcblx0XHRcdC8vIElubGluZSBzdHlsZSB0cnVtcHMgYWxsXG5cdFx0XHRyZXR1cm4gZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIiB8fFxuXHRcdFx0XHRlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwiXCIgJiZcblx0XG5cdFx0XHRcdC8vIE90aGVyd2lzZSwgY2hlY2sgY29tcHV0ZWQgc3R5bGVcblx0XHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveCA8PTQzIC0gNDVcblx0XHRcdFx0Ly8gRGlzY29ubmVjdGVkIGVsZW1lbnRzIGNhbiBoYXZlIGNvbXB1dGVkIGRpc3BsYXk6IG5vbmUsIHNvIGZpcnN0IGNvbmZpcm0gdGhhdCBlbGVtIGlzXG5cdFx0XHRcdC8vIGluIHRoZSBkb2N1bWVudC5cblx0XHRcdFx0alF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKSAmJlxuXHRcblx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSA9PT0gXCJub25lXCI7XG5cdFx0fTtcblx0XG5cdHZhciBzd2FwID0gZnVuY3Rpb24oIGVsZW0sIG9wdGlvbnMsIGNhbGxiYWNrLCBhcmdzICkge1xuXHRcdHZhciByZXQsIG5hbWUsXG5cdFx0XHRvbGQgPSB7fTtcblx0XG5cdFx0Ly8gUmVtZW1iZXIgdGhlIG9sZCB2YWx1ZXMsIGFuZCBpbnNlcnQgdGhlIG5ldyBvbmVzXG5cdFx0Zm9yICggbmFtZSBpbiBvcHRpb25zICkge1xuXHRcdFx0b2xkWyBuYW1lIF0gPSBlbGVtLnN0eWxlWyBuYW1lIF07XG5cdFx0XHRlbGVtLnN0eWxlWyBuYW1lIF0gPSBvcHRpb25zWyBuYW1lIF07XG5cdFx0fVxuXHRcblx0XHRyZXQgPSBjYWxsYmFjay5hcHBseSggZWxlbSwgYXJncyB8fCBbXSApO1xuXHRcblx0XHQvLyBSZXZlcnQgdGhlIG9sZCB2YWx1ZXNcblx0XHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0XHRlbGVtLnN0eWxlWyBuYW1lIF0gPSBvbGRbIG5hbWUgXTtcblx0XHR9XG5cdFxuXHRcdHJldHVybiByZXQ7XG5cdH07XG5cdFxuXHRcblx0XG5cdFxuXHRmdW5jdGlvbiBhZGp1c3RDU1MoIGVsZW0sIHByb3AsIHZhbHVlUGFydHMsIHR3ZWVuICkge1xuXHRcdHZhciBhZGp1c3RlZCxcblx0XHRcdHNjYWxlID0gMSxcblx0XHRcdG1heEl0ZXJhdGlvbnMgPSAyMCxcblx0XHRcdGN1cnJlbnRWYWx1ZSA9IHR3ZWVuID9cblx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHR3ZWVuLmN1cigpO1xuXHRcdFx0XHR9IDpcblx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGpRdWVyeS5jc3MoIGVsZW0sIHByb3AsIFwiXCIgKTtcblx0XHRcdFx0fSxcblx0XHRcdGluaXRpYWwgPSBjdXJyZW50VmFsdWUoKSxcblx0XHRcdHVuaXQgPSB2YWx1ZVBhcnRzICYmIHZhbHVlUGFydHNbIDMgXSB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSA/IFwiXCIgOiBcInB4XCIgKSxcblx0XG5cdFx0XHQvLyBTdGFydGluZyB2YWx1ZSBjb21wdXRhdGlvbiBpcyByZXF1aXJlZCBmb3IgcG90ZW50aWFsIHVuaXQgbWlzbWF0Y2hlc1xuXHRcdFx0aW5pdGlhbEluVW5pdCA9ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdIHx8IHVuaXQgIT09IFwicHhcIiAmJiAraW5pdGlhbCApICYmXG5cdFx0XHRcdHJjc3NOdW0uZXhlYyggalF1ZXJ5LmNzcyggZWxlbSwgcHJvcCApICk7XG5cdFxuXHRcdGlmICggaW5pdGlhbEluVW5pdCAmJiBpbml0aWFsSW5Vbml0WyAzIF0gIT09IHVuaXQgKSB7XG5cdFxuXHRcdFx0Ly8gVHJ1c3QgdW5pdHMgcmVwb3J0ZWQgYnkgalF1ZXJ5LmNzc1xuXHRcdFx0dW5pdCA9IHVuaXQgfHwgaW5pdGlhbEluVW5pdFsgMyBdO1xuXHRcblx0XHRcdC8vIE1ha2Ugc3VyZSB3ZSB1cGRhdGUgdGhlIHR3ZWVuIHByb3BlcnRpZXMgbGF0ZXIgb25cblx0XHRcdHZhbHVlUGFydHMgPSB2YWx1ZVBhcnRzIHx8IFtdO1xuXHRcblx0XHRcdC8vIEl0ZXJhdGl2ZWx5IGFwcHJveGltYXRlIGZyb20gYSBub256ZXJvIHN0YXJ0aW5nIHBvaW50XG5cdFx0XHRpbml0aWFsSW5Vbml0ID0gK2luaXRpYWwgfHwgMTtcblx0XG5cdFx0XHRkbyB7XG5cdFxuXHRcdFx0XHQvLyBJZiBwcmV2aW91cyBpdGVyYXRpb24gemVyb2VkIG91dCwgZG91YmxlIHVudGlsIHdlIGdldCAqc29tZXRoaW5nKi5cblx0XHRcdFx0Ly8gVXNlIHN0cmluZyBmb3IgZG91Ymxpbmcgc28gd2UgZG9uJ3QgYWNjaWRlbnRhbGx5IHNlZSBzY2FsZSBhcyB1bmNoYW5nZWQgYmVsb3dcblx0XHRcdFx0c2NhbGUgPSBzY2FsZSB8fCBcIi41XCI7XG5cdFxuXHRcdFx0XHQvLyBBZGp1c3QgYW5kIGFwcGx5XG5cdFx0XHRcdGluaXRpYWxJblVuaXQgPSBpbml0aWFsSW5Vbml0IC8gc2NhbGU7XG5cdFx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCwgaW5pdGlhbEluVW5pdCArIHVuaXQgKTtcblx0XG5cdFx0XHQvLyBVcGRhdGUgc2NhbGUsIHRvbGVyYXRpbmcgemVybyBvciBOYU4gZnJvbSB0d2Vlbi5jdXIoKVxuXHRcdFx0Ly8gQnJlYWsgdGhlIGxvb3AgaWYgc2NhbGUgaXMgdW5jaGFuZ2VkIG9yIHBlcmZlY3QsIG9yIGlmIHdlJ3ZlIGp1c3QgaGFkIGVub3VnaC5cblx0XHRcdH0gd2hpbGUgKFxuXHRcdFx0XHRzY2FsZSAhPT0gKCBzY2FsZSA9IGN1cnJlbnRWYWx1ZSgpIC8gaW5pdGlhbCApICYmIHNjYWxlICE9PSAxICYmIC0tbWF4SXRlcmF0aW9uc1xuXHRcdFx0KTtcblx0XHR9XG5cdFxuXHRcdGlmICggdmFsdWVQYXJ0cyApIHtcblx0XHRcdGluaXRpYWxJblVuaXQgPSAraW5pdGlhbEluVW5pdCB8fCAraW5pdGlhbCB8fCAwO1xuXHRcblx0XHRcdC8vIEFwcGx5IHJlbGF0aXZlIG9mZnNldCAoKz0vLT0pIGlmIHNwZWNpZmllZFxuXHRcdFx0YWRqdXN0ZWQgPSB2YWx1ZVBhcnRzWyAxIF0gP1xuXHRcdFx0XHRpbml0aWFsSW5Vbml0ICsgKCB2YWx1ZVBhcnRzWyAxIF0gKyAxICkgKiB2YWx1ZVBhcnRzWyAyIF0gOlxuXHRcdFx0XHQrdmFsdWVQYXJ0c1sgMiBdO1xuXHRcdFx0aWYgKCB0d2VlbiApIHtcblx0XHRcdFx0dHdlZW4udW5pdCA9IHVuaXQ7XG5cdFx0XHRcdHR3ZWVuLnN0YXJ0ID0gaW5pdGlhbEluVW5pdDtcblx0XHRcdFx0dHdlZW4uZW5kID0gYWRqdXN0ZWQ7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBhZGp1c3RlZDtcblx0fVxuXHRcblx0XG5cdHZhciBkZWZhdWx0RGlzcGxheU1hcCA9IHt9O1xuXHRcblx0ZnVuY3Rpb24gZ2V0RGVmYXVsdERpc3BsYXkoIGVsZW0gKSB7XG5cdFx0dmFyIHRlbXAsXG5cdFx0XHRkb2MgPSBlbGVtLm93bmVyRG9jdW1lbnQsXG5cdFx0XHRub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUsXG5cdFx0XHRkaXNwbGF5ID0gZGVmYXVsdERpc3BsYXlNYXBbIG5vZGVOYW1lIF07XG5cdFxuXHRcdGlmICggZGlzcGxheSApIHtcblx0XHRcdHJldHVybiBkaXNwbGF5O1xuXHRcdH1cblx0XG5cdFx0dGVtcCA9IGRvYy5ib2R5LmFwcGVuZENoaWxkKCBkb2MuY3JlYXRlRWxlbWVudCggbm9kZU5hbWUgKSApLFxuXHRcdGRpc3BsYXkgPSBqUXVlcnkuY3NzKCB0ZW1wLCBcImRpc3BsYXlcIiApO1xuXHRcblx0XHR0ZW1wLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHRlbXAgKTtcblx0XG5cdFx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRcdGRpc3BsYXkgPSBcImJsb2NrXCI7XG5cdFx0fVxuXHRcdGRlZmF1bHREaXNwbGF5TWFwWyBub2RlTmFtZSBdID0gZGlzcGxheTtcblx0XG5cdFx0cmV0dXJuIGRpc3BsYXk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNob3dIaWRlKCBlbGVtZW50cywgc2hvdyApIHtcblx0XHR2YXIgZGlzcGxheSwgZWxlbSxcblx0XHRcdHZhbHVlcyA9IFtdLFxuXHRcdFx0aW5kZXggPSAwLFxuXHRcdFx0bGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoO1xuXHRcblx0XHQvLyBEZXRlcm1pbmUgbmV3IGRpc3BsYXkgdmFsdWUgZm9yIGVsZW1lbnRzIHRoYXQgbmVlZCB0byBjaGFuZ2Vcblx0XHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0ZWxlbSA9IGVsZW1lbnRzWyBpbmRleCBdO1xuXHRcdFx0aWYgKCAhZWxlbS5zdHlsZSApIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFxuXHRcdFx0ZGlzcGxheSA9IGVsZW0uc3R5bGUuZGlzcGxheTtcblx0XHRcdGlmICggc2hvdyApIHtcblx0XG5cdFx0XHRcdC8vIFNpbmNlIHdlIGZvcmNlIHZpc2liaWxpdHkgdXBvbiBjYXNjYWRlLWhpZGRlbiBlbGVtZW50cywgYW4gaW1tZWRpYXRlIChhbmQgc2xvdylcblx0XHRcdFx0Ly8gY2hlY2sgaXMgcmVxdWlyZWQgaW4gdGhpcyBmaXJzdCBsb29wIHVubGVzcyB3ZSBoYXZlIGEgbm9uZW1wdHkgZGlzcGxheSB2YWx1ZSAoZWl0aGVyXG5cdFx0XHRcdC8vIGlubGluZSBvciBhYm91dC10by1iZS1yZXN0b3JlZClcblx0XHRcdFx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRcdFx0XHR2YWx1ZXNbIGluZGV4IF0gPSBkYXRhUHJpdi5nZXQoIGVsZW0sIFwiZGlzcGxheVwiICkgfHwgbnVsbDtcblx0XHRcdFx0XHRpZiAoICF2YWx1ZXNbIGluZGV4IF0gKSB7XG5cdFx0XHRcdFx0XHRlbGVtLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJcIiAmJiBpc0hpZGRlbldpdGhpblRyZWUoIGVsZW0gKSApIHtcblx0XHRcdFx0XHR2YWx1ZXNbIGluZGV4IF0gPSBnZXREZWZhdWx0RGlzcGxheSggZWxlbSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoIGRpc3BsYXkgIT09IFwibm9uZVwiICkge1xuXHRcdFx0XHRcdHZhbHVlc1sgaW5kZXggXSA9IFwibm9uZVwiO1xuXHRcblx0XHRcdFx0XHQvLyBSZW1lbWJlciB3aGF0IHdlJ3JlIG92ZXJ3cml0aW5nXG5cdFx0XHRcdFx0ZGF0YVByaXYuc2V0KCBlbGVtLCBcImRpc3BsYXlcIiwgZGlzcGxheSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHQvLyBTZXQgdGhlIGRpc3BsYXkgb2YgdGhlIGVsZW1lbnRzIGluIGEgc2Vjb25kIGxvb3AgdG8gYXZvaWQgY29uc3RhbnQgcmVmbG93XG5cdFx0Zm9yICggaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdGlmICggdmFsdWVzWyBpbmRleCBdICE9IG51bGwgKSB7XG5cdFx0XHRcdGVsZW1lbnRzWyBpbmRleCBdLnN0eWxlLmRpc3BsYXkgPSB2YWx1ZXNbIGluZGV4IF07XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gZWxlbWVudHM7XG5cdH1cblx0XG5cdGpRdWVyeS5mbi5leHRlbmQoIHtcblx0XHRzaG93OiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBzaG93SGlkZSggdGhpcywgdHJ1ZSApO1xuXHRcdH0sXG5cdFx0aGlkZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gc2hvd0hpZGUoIHRoaXMgKTtcblx0XHR9LFxuXHRcdHRvZ2dsZTogZnVuY3Rpb24oIHN0YXRlICkge1xuXHRcdFx0aWYgKCB0eXBlb2Ygc3RhdGUgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdFx0XHRyZXR1cm4gc3RhdGUgPyB0aGlzLnNob3coKSA6IHRoaXMuaGlkZSgpO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIGlzSGlkZGVuV2l0aGluVHJlZSggdGhpcyApICkge1xuXHRcdFx0XHRcdGpRdWVyeSggdGhpcyApLnNob3coKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5oaWRlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9XG5cdH0gKTtcblx0dmFyIHJjaGVja2FibGVUeXBlID0gKCAvXig/OmNoZWNrYm94fHJhZGlvKSQvaSApO1xuXHRcblx0dmFyIHJ0YWdOYW1lID0gKCAvPChbYS16XVteXFwvXFwwPlxceDIwXFx0XFxyXFxuXFxmXSspL2kgKTtcblx0XG5cdHZhciByc2NyaXB0VHlwZSA9ICggL14kfFxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSApO1xuXHRcblx0XG5cdFxuXHQvLyBXZSBoYXZlIHRvIGNsb3NlIHRoZXNlIHRhZ3MgdG8gc3VwcG9ydCBYSFRNTCAoIzEzMjAwKVxuXHR2YXIgd3JhcE1hcCA9IHtcblx0XG5cdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHRvcHRpb246IFsgMSwgXCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+XCIsIFwiPC9zZWxlY3Q+XCIgXSxcblx0XG5cdFx0Ly8gWEhUTUwgcGFyc2VycyBkbyBub3QgbWFnaWNhbGx5IGluc2VydCBlbGVtZW50cyBpbiB0aGVcblx0XHQvLyBzYW1lIHdheSB0aGF0IHRhZyBzb3VwIHBhcnNlcnMgZG8uIFNvIHdlIGNhbm5vdCBzaG9ydGVuXG5cdFx0Ly8gdGhpcyBieSBvbWl0dGluZyA8dGJvZHk+IG9yIG90aGVyIHJlcXVpcmVkIGVsZW1lbnRzLlxuXHRcdHRoZWFkOiBbIDEsIFwiPHRhYmxlPlwiLCBcIjwvdGFibGU+XCIgXSxcblx0XHRjb2w6IFsgMiwgXCI8dGFibGU+PGNvbGdyb3VwPlwiLCBcIjwvY29sZ3JvdXA+PC90YWJsZT5cIiBdLFxuXHRcdHRyOiBbIDIsIFwiPHRhYmxlPjx0Ym9keT5cIiwgXCI8L3Rib2R5PjwvdGFibGU+XCIgXSxcblx0XHR0ZDogWyAzLCBcIjx0YWJsZT48dGJvZHk+PHRyPlwiLCBcIjwvdHI+PC90Ym9keT48L3RhYmxlPlwiIF0sXG5cdFxuXHRcdF9kZWZhdWx0OiBbIDAsIFwiXCIsIFwiXCIgXVxuXHR9O1xuXHRcblx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0d3JhcE1hcC5vcHRncm91cCA9IHdyYXBNYXAub3B0aW9uO1xuXHRcblx0d3JhcE1hcC50Ym9keSA9IHdyYXBNYXAudGZvb3QgPSB3cmFwTWFwLmNvbGdyb3VwID0gd3JhcE1hcC5jYXB0aW9uID0gd3JhcE1hcC50aGVhZDtcblx0d3JhcE1hcC50aCA9IHdyYXBNYXAudGQ7XG5cdFxuXHRcblx0ZnVuY3Rpb24gZ2V0QWxsKCBjb250ZXh0LCB0YWcgKSB7XG5cdFxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0XHQvLyBVc2UgdHlwZW9mIHRvIGF2b2lkIHplcm8tYXJndW1lbnQgbWV0aG9kIGludm9jYXRpb24gb24gaG9zdCBvYmplY3RzICgjMTUxNTEpXG5cdFx0dmFyIHJldCA9IHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiID9cblx0XHRcdFx0Y29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnIHx8IFwiKlwiICkgOlxuXHRcdFx0XHR0eXBlb2YgY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsICE9PSBcInVuZGVmaW5lZFwiID9cblx0XHRcdFx0XHRjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIHRhZyB8fCBcIipcIiApIDpcblx0XHRcdFx0W107XG5cdFxuXHRcdHJldHVybiB0YWcgPT09IHVuZGVmaW5lZCB8fCB0YWcgJiYgalF1ZXJ5Lm5vZGVOYW1lKCBjb250ZXh0LCB0YWcgKSA/XG5cdFx0XHRqUXVlcnkubWVyZ2UoIFsgY29udGV4dCBdLCByZXQgKSA6XG5cdFx0XHRyZXQ7XG5cdH1cblx0XG5cdFxuXHQvLyBNYXJrIHNjcmlwdHMgYXMgaGF2aW5nIGFscmVhZHkgYmVlbiBldmFsdWF0ZWRcblx0ZnVuY3Rpb24gc2V0R2xvYmFsRXZhbCggZWxlbXMsIHJlZkVsZW1lbnRzICkge1xuXHRcdHZhciBpID0gMCxcblx0XHRcdGwgPSBlbGVtcy5sZW5ndGg7XG5cdFxuXHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdGRhdGFQcml2LnNldChcblx0XHRcdFx0ZWxlbXNbIGkgXSxcblx0XHRcdFx0XCJnbG9iYWxFdmFsXCIsXG5cdFx0XHRcdCFyZWZFbGVtZW50cyB8fCBkYXRhUHJpdi5nZXQoIHJlZkVsZW1lbnRzWyBpIF0sIFwiZ2xvYmFsRXZhbFwiIClcblx0XHRcdCk7XG5cdFx0fVxuXHR9XG5cdFxuXHRcblx0dmFyIHJodG1sID0gLzx8JiM/XFx3KzsvO1xuXHRcblx0ZnVuY3Rpb24gYnVpbGRGcmFnbWVudCggZWxlbXMsIGNvbnRleHQsIHNjcmlwdHMsIHNlbGVjdGlvbiwgaWdub3JlZCApIHtcblx0XHR2YXIgZWxlbSwgdG1wLCB0YWcsIHdyYXAsIGNvbnRhaW5zLCBqLFxuXHRcdFx0ZnJhZ21lbnQgPSBjb250ZXh0LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcblx0XHRcdG5vZGVzID0gW10sXG5cdFx0XHRpID0gMCxcblx0XHRcdGwgPSBlbGVtcy5sZW5ndGg7XG5cdFxuXHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdGVsZW0gPSBlbGVtc1sgaSBdO1xuXHRcblx0XHRcdGlmICggZWxlbSB8fCBlbGVtID09PSAwICkge1xuXHRcblx0XHRcdFx0Ly8gQWRkIG5vZGVzIGRpcmVjdGx5XG5cdFx0XHRcdGlmICggalF1ZXJ5LnR5cGUoIGVsZW0gKSA9PT0gXCJvYmplY3RcIiApIHtcblx0XG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdFx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0XHRcdGpRdWVyeS5tZXJnZSggbm9kZXMsIGVsZW0ubm9kZVR5cGUgPyBbIGVsZW0gXSA6IGVsZW0gKTtcblx0XG5cdFx0XHRcdC8vIENvbnZlcnQgbm9uLWh0bWwgaW50byBhIHRleHQgbm9kZVxuXHRcdFx0XHR9IGVsc2UgaWYgKCAhcmh0bWwudGVzdCggZWxlbSApICkge1xuXHRcdFx0XHRcdG5vZGVzLnB1c2goIGNvbnRleHQuY3JlYXRlVGV4dE5vZGUoIGVsZW0gKSApO1xuXHRcblx0XHRcdFx0Ly8gQ29udmVydCBodG1sIGludG8gRE9NIG5vZGVzXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dG1wID0gdG1wIHx8IGZyYWdtZW50LmFwcGVuZENoaWxkKCBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSApO1xuXHRcblx0XHRcdFx0XHQvLyBEZXNlcmlhbGl6ZSBhIHN0YW5kYXJkIHJlcHJlc2VudGF0aW9uXG5cdFx0XHRcdFx0dGFnID0gKCBydGFnTmFtZS5leGVjKCBlbGVtICkgfHwgWyBcIlwiLCBcIlwiIF0gKVsgMSBdLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdFx0d3JhcCA9IHdyYXBNYXBbIHRhZyBdIHx8IHdyYXBNYXAuX2RlZmF1bHQ7XG5cdFx0XHRcdFx0dG1wLmlubmVySFRNTCA9IHdyYXBbIDEgXSArIGpRdWVyeS5odG1sUHJlZmlsdGVyKCBlbGVtICkgKyB3cmFwWyAyIF07XG5cdFxuXHRcdFx0XHRcdC8vIERlc2NlbmQgdGhyb3VnaCB3cmFwcGVycyB0byB0aGUgcmlnaHQgY29udGVudFxuXHRcdFx0XHRcdGogPSB3cmFwWyAwIF07XG5cdFx0XHRcdFx0d2hpbGUgKCBqLS0gKSB7XG5cdFx0XHRcdFx0XHR0bXAgPSB0bXAubGFzdENoaWxkO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdFx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0XHRcdGpRdWVyeS5tZXJnZSggbm9kZXMsIHRtcC5jaGlsZE5vZGVzICk7XG5cdFxuXHRcdFx0XHRcdC8vIFJlbWVtYmVyIHRoZSB0b3AtbGV2ZWwgY29udGFpbmVyXG5cdFx0XHRcdFx0dG1wID0gZnJhZ21lbnQuZmlyc3RDaGlsZDtcblx0XG5cdFx0XHRcdFx0Ly8gRW5zdXJlIHRoZSBjcmVhdGVkIG5vZGVzIGFyZSBvcnBoYW5lZCAoIzEyMzkyKVxuXHRcdFx0XHRcdHRtcC50ZXh0Q29udGVudCA9IFwiXCI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdC8vIFJlbW92ZSB3cmFwcGVyIGZyb20gZnJhZ21lbnRcblx0XHRmcmFnbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG5cdFxuXHRcdGkgPSAwO1xuXHRcdHdoaWxlICggKCBlbGVtID0gbm9kZXNbIGkrKyBdICkgKSB7XG5cdFxuXHRcdFx0Ly8gU2tpcCBlbGVtZW50cyBhbHJlYWR5IGluIHRoZSBjb250ZXh0IGNvbGxlY3Rpb24gKHRyYWMtNDA4Nylcblx0XHRcdGlmICggc2VsZWN0aW9uICYmIGpRdWVyeS5pbkFycmF5KCBlbGVtLCBzZWxlY3Rpb24gKSA+IC0xICkge1xuXHRcdFx0XHRpZiAoIGlnbm9yZWQgKSB7XG5cdFx0XHRcdFx0aWdub3JlZC5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Y29udGFpbnMgPSBqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApO1xuXHRcblx0XHRcdC8vIEFwcGVuZCB0byBmcmFnbWVudFxuXHRcdFx0dG1wID0gZ2V0QWxsKCBmcmFnbWVudC5hcHBlbmRDaGlsZCggZWxlbSApLCBcInNjcmlwdFwiICk7XG5cdFxuXHRcdFx0Ly8gUHJlc2VydmUgc2NyaXB0IGV2YWx1YXRpb24gaGlzdG9yeVxuXHRcdFx0aWYgKCBjb250YWlucyApIHtcblx0XHRcdFx0c2V0R2xvYmFsRXZhbCggdG1wICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gQ2FwdHVyZSBleGVjdXRhYmxlc1xuXHRcdFx0aWYgKCBzY3JpcHRzICkge1xuXHRcdFx0XHRqID0gMDtcblx0XHRcdFx0d2hpbGUgKCAoIGVsZW0gPSB0bXBbIGorKyBdICkgKSB7XG5cdFx0XHRcdFx0aWYgKCByc2NyaXB0VHlwZS50ZXN0KCBlbGVtLnR5cGUgfHwgXCJcIiApICkge1xuXHRcdFx0XHRcdFx0c2NyaXB0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gZnJhZ21lbnQ7XG5cdH1cblx0XG5cdFxuXHQoIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcblx0XHRcdGRpdiA9IGZyYWdtZW50LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkgKSxcblx0XHRcdGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICk7XG5cdFxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHlcblx0XHQvLyBDaGVjayBzdGF0ZSBsb3N0IGlmIHRoZSBuYW1lIGlzIHNldCAoIzExMjE3KVxuXHRcdC8vIFN1cHBvcnQ6IFdpbmRvd3MgV2ViIEFwcHMgKFdXQSlcblx0XHQvLyBgbmFtZWAgYW5kIGB0eXBlYCBtdXN0IHVzZSAuc2V0QXR0cmlidXRlIGZvciBXV0EgKCMxNDkwMSlcblx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCBcInJhZGlvXCIgKTtcblx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwiY2hlY2tlZFwiLCBcImNoZWNrZWRcIiApO1xuXHRcdGlucHV0LnNldEF0dHJpYnV0ZSggXCJuYW1lXCIsIFwidFwiICk7XG5cdFxuXHRcdGRpdi5hcHBlbmRDaGlsZCggaW5wdXQgKTtcblx0XG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMSBvbmx5XG5cdFx0Ly8gT2xkZXIgV2ViS2l0IGRvZXNuJ3QgY2xvbmUgY2hlY2tlZCBzdGF0ZSBjb3JyZWN0bHkgaW4gZnJhZ21lbnRzXG5cdFx0c3VwcG9ydC5jaGVja0Nsb25lID0gZGl2LmNsb25lTm9kZSggdHJ1ZSApLmNsb25lTm9kZSggdHJ1ZSApLmxhc3RDaGlsZC5jaGVja2VkO1xuXHRcblx0XHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0XHQvLyBNYWtlIHN1cmUgdGV4dGFyZWEgKGFuZCBjaGVja2JveCkgZGVmYXVsdFZhbHVlIGlzIHByb3Blcmx5IGNsb25lZFxuXHRcdGRpdi5pbm5lckhUTUwgPSBcIjx0ZXh0YXJlYT54PC90ZXh0YXJlYT5cIjtcblx0XHRzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkID0gISFkaXYuY2xvbmVOb2RlKCB0cnVlICkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZTtcblx0fSApKCk7XG5cdHZhciBkb2N1bWVudEVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cdFxuXHRcblx0XG5cdHZhclxuXHRcdHJrZXlFdmVudCA9IC9ea2V5Lyxcblx0XHRybW91c2VFdmVudCA9IC9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyxcblx0XHRydHlwZW5hbWVzcGFjZSA9IC9eKFteLl0qKSg/OlxcLiguKyl8KS87XG5cdFxuXHRmdW5jdGlvbiByZXR1cm5UcnVlKCkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZXR1cm5GYWxzZSgpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0XG5cdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdC8vIFNlZSAjMTMzOTMgZm9yIG1vcmUgaW5mb1xuXHRmdW5jdGlvbiBzYWZlQWN0aXZlRWxlbWVudCgpIHtcblx0XHR0cnkge1xuXHRcdFx0cmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cdFx0fSBjYXRjaCAoIGVyciApIHsgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBvbiggZWxlbSwgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiwgb25lICkge1xuXHRcdHZhciBvcmlnRm4sIHR5cGU7XG5cdFxuXHRcdC8vIFR5cGVzIGNhbiBiZSBhIG1hcCBvZiB0eXBlcy9oYW5kbGVyc1xuXHRcdGlmICggdHlwZW9mIHR5cGVzID09PSBcIm9iamVjdFwiICkge1xuXHRcblx0XHRcdC8vICggdHlwZXMtT2JqZWN0LCBzZWxlY3RvciwgZGF0YSApXG5cdFx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiApIHtcblx0XG5cdFx0XHRcdC8vICggdHlwZXMtT2JqZWN0LCBkYXRhIClcblx0XHRcdFx0ZGF0YSA9IGRhdGEgfHwgc2VsZWN0b3I7XG5cdFx0XHRcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcdFx0Zm9yICggdHlwZSBpbiB0eXBlcyApIHtcblx0XHRcdFx0b24oIGVsZW0sIHR5cGUsIHNlbGVjdG9yLCBkYXRhLCB0eXBlc1sgdHlwZSBdLCBvbmUgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBlbGVtO1xuXHRcdH1cblx0XG5cdFx0aWYgKCBkYXRhID09IG51bGwgJiYgZm4gPT0gbnVsbCApIHtcblx0XG5cdFx0XHQvLyAoIHR5cGVzLCBmbiApXG5cdFx0XHRmbiA9IHNlbGVjdG9yO1xuXHRcdFx0ZGF0YSA9IHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdH0gZWxzZSBpZiAoIGZuID09IG51bGwgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XG5cdFx0XHRcdC8vICggdHlwZXMsIHNlbGVjdG9yLCBmbiApXG5cdFx0XHRcdGZuID0gZGF0YTtcblx0XHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHRcdH0gZWxzZSB7XG5cdFxuXHRcdFx0XHQvLyAoIHR5cGVzLCBkYXRhLCBmbiApXG5cdFx0XHRcdGZuID0gZGF0YTtcblx0XHRcdFx0ZGF0YSA9IHNlbGVjdG9yO1xuXHRcdFx0XHRzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKCBmbiA9PT0gZmFsc2UgKSB7XG5cdFx0XHRmbiA9IHJldHVybkZhbHNlO1xuXHRcdH0gZWxzZSBpZiAoICFmbiApIHtcblx0XHRcdHJldHVybiBlbGVtO1xuXHRcdH1cblx0XG5cdFx0aWYgKCBvbmUgPT09IDEgKSB7XG5cdFx0XHRvcmlnRm4gPSBmbjtcblx0XHRcdGZuID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcblx0XHRcdFx0Ly8gQ2FuIHVzZSBhbiBlbXB0eSBzZXQsIHNpbmNlIGV2ZW50IGNvbnRhaW5zIHRoZSBpbmZvXG5cdFx0XHRcdGpRdWVyeSgpLm9mZiggZXZlbnQgKTtcblx0XHRcdFx0cmV0dXJuIG9yaWdGbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHR9O1xuXHRcblx0XHRcdC8vIFVzZSBzYW1lIGd1aWQgc28gY2FsbGVyIGNhbiByZW1vdmUgdXNpbmcgb3JpZ0ZuXG5cdFx0XHRmbi5ndWlkID0gb3JpZ0ZuLmd1aWQgfHwgKCBvcmlnRm4uZ3VpZCA9IGpRdWVyeS5ndWlkKysgKTtcblx0XHR9XG5cdFx0cmV0dXJuIGVsZW0uZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQuYWRkKCB0aGlzLCB0eXBlcywgZm4sIGRhdGEsIHNlbGVjdG9yICk7XG5cdFx0fSApO1xuXHR9XG5cdFxuXHQvKlxuXHQgKiBIZWxwZXIgZnVuY3Rpb25zIGZvciBtYW5hZ2luZyBldmVudHMgLS0gbm90IHBhcnQgb2YgdGhlIHB1YmxpYyBpbnRlcmZhY2UuXG5cdCAqIFByb3BzIHRvIERlYW4gRWR3YXJkcycgYWRkRXZlbnQgbGlicmFyeSBmb3IgbWFueSBvZiB0aGUgaWRlYXMuXG5cdCAqL1xuXHRqUXVlcnkuZXZlbnQgPSB7XG5cdFxuXHRcdGdsb2JhbDoge30sXG5cdFxuXHRcdGFkZDogZnVuY3Rpb24oIGVsZW0sIHR5cGVzLCBoYW5kbGVyLCBkYXRhLCBzZWxlY3RvciApIHtcblx0XG5cdFx0XHR2YXIgaGFuZGxlT2JqSW4sIGV2ZW50SGFuZGxlLCB0bXAsXG5cdFx0XHRcdGV2ZW50cywgdCwgaGFuZGxlT2JqLFxuXHRcdFx0XHRzcGVjaWFsLCBoYW5kbGVycywgdHlwZSwgbmFtZXNwYWNlcywgb3JpZ1R5cGUsXG5cdFx0XHRcdGVsZW1EYXRhID0gZGF0YVByaXYuZ2V0KCBlbGVtICk7XG5cdFxuXHRcdFx0Ly8gRG9uJ3QgYXR0YWNoIGV2ZW50cyB0byBub0RhdGEgb3IgdGV4dC9jb21tZW50IG5vZGVzIChidXQgYWxsb3cgcGxhaW4gb2JqZWN0cylcblx0XHRcdGlmICggIWVsZW1EYXRhICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gQ2FsbGVyIGNhbiBwYXNzIGluIGFuIG9iamVjdCBvZiBjdXN0b20gZGF0YSBpbiBsaWV1IG9mIHRoZSBoYW5kbGVyXG5cdFx0XHRpZiAoIGhhbmRsZXIuaGFuZGxlciApIHtcblx0XHRcdFx0aGFuZGxlT2JqSW4gPSBoYW5kbGVyO1xuXHRcdFx0XHRoYW5kbGVyID0gaGFuZGxlT2JqSW4uaGFuZGxlcjtcblx0XHRcdFx0c2VsZWN0b3IgPSBoYW5kbGVPYmpJbi5zZWxlY3Rvcjtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBFbnN1cmUgdGhhdCBpbnZhbGlkIHNlbGVjdG9ycyB0aHJvdyBleGNlcHRpb25zIGF0IGF0dGFjaCB0aW1lXG5cdFx0XHQvLyBFdmFsdWF0ZSBhZ2FpbnN0IGRvY3VtZW50RWxlbWVudCBpbiBjYXNlIGVsZW0gaXMgYSBub24tZWxlbWVudCBub2RlIChlLmcuLCBkb2N1bWVudClcblx0XHRcdGlmICggc2VsZWN0b3IgKSB7XG5cdFx0XHRcdGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggZG9jdW1lbnRFbGVtZW50LCBzZWxlY3RvciApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBoYW5kbGVyIGhhcyBhIHVuaXF1ZSBJRCwgdXNlZCB0byBmaW5kL3JlbW92ZSBpdCBsYXRlclxuXHRcdFx0aWYgKCAhaGFuZGxlci5ndWlkICkge1xuXHRcdFx0XHRoYW5kbGVyLmd1aWQgPSBqUXVlcnkuZ3VpZCsrO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEluaXQgdGhlIGVsZW1lbnQncyBldmVudCBzdHJ1Y3R1cmUgYW5kIG1haW4gaGFuZGxlciwgaWYgdGhpcyBpcyB0aGUgZmlyc3Rcblx0XHRcdGlmICggISggZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzICkgKSB7XG5cdFx0XHRcdGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyA9IHt9O1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAhKCBldmVudEhhbmRsZSA9IGVsZW1EYXRhLmhhbmRsZSApICkge1xuXHRcdFx0XHRldmVudEhhbmRsZSA9IGVsZW1EYXRhLmhhbmRsZSA9IGZ1bmN0aW9uKCBlICkge1xuXHRcblx0XHRcdFx0XHQvLyBEaXNjYXJkIHRoZSBzZWNvbmQgZXZlbnQgb2YgYSBqUXVlcnkuZXZlbnQudHJpZ2dlcigpIGFuZFxuXHRcdFx0XHRcdC8vIHdoZW4gYW4gZXZlbnQgaXMgY2FsbGVkIGFmdGVyIGEgcGFnZSBoYXMgdW5sb2FkZWRcblx0XHRcdFx0XHRyZXR1cm4gdHlwZW9mIGpRdWVyeSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkICE9PSBlLnR5cGUgP1xuXHRcdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LmRpc3BhdGNoLmFwcGx5KCBlbGVtLCBhcmd1bWVudHMgKSA6IHVuZGVmaW5lZDtcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBIYW5kbGUgbXVsdGlwbGUgZXZlbnRzIHNlcGFyYXRlZCBieSBhIHNwYWNlXG5cdFx0XHR0eXBlcyA9ICggdHlwZXMgfHwgXCJcIiApLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbIFwiXCIgXTtcblx0XHRcdHQgPSB0eXBlcy5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIHQtLSApIHtcblx0XHRcdFx0dG1wID0gcnR5cGVuYW1lc3BhY2UuZXhlYyggdHlwZXNbIHQgXSApIHx8IFtdO1xuXHRcdFx0XHR0eXBlID0gb3JpZ1R5cGUgPSB0bXBbIDEgXTtcblx0XHRcdFx0bmFtZXNwYWNlcyA9ICggdG1wWyAyIF0gfHwgXCJcIiApLnNwbGl0KCBcIi5cIiApLnNvcnQoKTtcblx0XG5cdFx0XHRcdC8vIFRoZXJlICptdXN0KiBiZSBhIHR5cGUsIG5vIGF0dGFjaGluZyBuYW1lc3BhY2Utb25seSBoYW5kbGVyc1xuXHRcdFx0XHRpZiAoICF0eXBlICkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBJZiBldmVudCBjaGFuZ2VzIGl0cyB0eXBlLCB1c2UgdGhlIHNwZWNpYWwgZXZlbnQgaGFuZGxlcnMgZm9yIHRoZSBjaGFuZ2VkIHR5cGVcblx0XHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cdFxuXHRcdFx0XHQvLyBJZiBzZWxlY3RvciBkZWZpbmVkLCBkZXRlcm1pbmUgc3BlY2lhbCBldmVudCBhcGkgdHlwZSwgb3RoZXJ3aXNlIGdpdmVuIHR5cGVcblx0XHRcdFx0dHlwZSA9ICggc2VsZWN0b3IgPyBzcGVjaWFsLmRlbGVnYXRlVHlwZSA6IHNwZWNpYWwuYmluZFR5cGUgKSB8fCB0eXBlO1xuXHRcblx0XHRcdFx0Ly8gVXBkYXRlIHNwZWNpYWwgYmFzZWQgb24gbmV3bHkgcmVzZXQgdHlwZVxuXHRcdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblx0XG5cdFx0XHRcdC8vIGhhbmRsZU9iaiBpcyBwYXNzZWQgdG8gYWxsIGV2ZW50IGhhbmRsZXJzXG5cdFx0XHRcdGhhbmRsZU9iaiA9IGpRdWVyeS5leHRlbmQoIHtcblx0XHRcdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0XHRcdG9yaWdUeXBlOiBvcmlnVHlwZSxcblx0XHRcdFx0XHRkYXRhOiBkYXRhLFxuXHRcdFx0XHRcdGhhbmRsZXI6IGhhbmRsZXIsXG5cdFx0XHRcdFx0Z3VpZDogaGFuZGxlci5ndWlkLFxuXHRcdFx0XHRcdHNlbGVjdG9yOiBzZWxlY3Rvcixcblx0XHRcdFx0XHRuZWVkc0NvbnRleHQ6IHNlbGVjdG9yICYmIGpRdWVyeS5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvciApLFxuXHRcdFx0XHRcdG5hbWVzcGFjZTogbmFtZXNwYWNlcy5qb2luKCBcIi5cIiApXG5cdFx0XHRcdH0sIGhhbmRsZU9iakluICk7XG5cdFxuXHRcdFx0XHQvLyBJbml0IHRoZSBldmVudCBoYW5kbGVyIHF1ZXVlIGlmIHdlJ3JlIHRoZSBmaXJzdFxuXHRcdFx0XHRpZiAoICEoIGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gKSApIHtcblx0XHRcdFx0XHRoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdID0gW107XG5cdFx0XHRcdFx0aGFuZGxlcnMuZGVsZWdhdGVDb3VudCA9IDA7XG5cdFxuXHRcdFx0XHRcdC8vIE9ubHkgdXNlIGFkZEV2ZW50TGlzdGVuZXIgaWYgdGhlIHNwZWNpYWwgZXZlbnRzIGhhbmRsZXIgcmV0dXJucyBmYWxzZVxuXHRcdFx0XHRcdGlmICggIXNwZWNpYWwuc2V0dXAgfHxcblx0XHRcdFx0XHRcdHNwZWNpYWwuc2V0dXAuY2FsbCggZWxlbSwgZGF0YSwgbmFtZXNwYWNlcywgZXZlbnRIYW5kbGUgKSA9PT0gZmFsc2UgKSB7XG5cdFxuXHRcdFx0XHRcdFx0aWYgKCBlbGVtLmFkZEV2ZW50TGlzdGVuZXIgKSB7XG5cdFx0XHRcdFx0XHRcdGVsZW0uYWRkRXZlbnRMaXN0ZW5lciggdHlwZSwgZXZlbnRIYW5kbGUgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGlmICggc3BlY2lhbC5hZGQgKSB7XG5cdFx0XHRcdFx0c3BlY2lhbC5hZGQuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7XG5cdFxuXHRcdFx0XHRcdGlmICggIWhhbmRsZU9iai5oYW5kbGVyLmd1aWQgKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVPYmouaGFuZGxlci5ndWlkID0gaGFuZGxlci5ndWlkO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gQWRkIHRvIHRoZSBlbGVtZW50J3MgaGFuZGxlciBsaXN0LCBkZWxlZ2F0ZXMgaW4gZnJvbnRcblx0XHRcdFx0aWYgKCBzZWxlY3RvciApIHtcblx0XHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGhhbmRsZXJzLmRlbGVnYXRlQ291bnQrKywgMCwgaGFuZGxlT2JqICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aGFuZGxlcnMucHVzaCggaGFuZGxlT2JqICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIEtlZXAgdHJhY2sgb2Ygd2hpY2ggZXZlbnRzIGhhdmUgZXZlciBiZWVuIHVzZWQsIGZvciBldmVudCBvcHRpbWl6YXRpb25cblx0XHRcdFx0alF1ZXJ5LmV2ZW50Lmdsb2JhbFsgdHlwZSBdID0gdHJ1ZTtcblx0XHRcdH1cblx0XG5cdFx0fSxcblx0XG5cdFx0Ly8gRGV0YWNoIGFuIGV2ZW50IG9yIHNldCBvZiBldmVudHMgZnJvbSBhbiBlbGVtZW50XG5cdFx0cmVtb3ZlOiBmdW5jdGlvbiggZWxlbSwgdHlwZXMsIGhhbmRsZXIsIHNlbGVjdG9yLCBtYXBwZWRUeXBlcyApIHtcblx0XG5cdFx0XHR2YXIgaiwgb3JpZ0NvdW50LCB0bXAsXG5cdFx0XHRcdGV2ZW50cywgdCwgaGFuZGxlT2JqLFxuXHRcdFx0XHRzcGVjaWFsLCBoYW5kbGVycywgdHlwZSwgbmFtZXNwYWNlcywgb3JpZ1R5cGUsXG5cdFx0XHRcdGVsZW1EYXRhID0gZGF0YVByaXYuaGFzRGF0YSggZWxlbSApICYmIGRhdGFQcml2LmdldCggZWxlbSApO1xuXHRcblx0XHRcdGlmICggIWVsZW1EYXRhIHx8ICEoIGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyApICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gT25jZSBmb3IgZWFjaCB0eXBlLm5hbWVzcGFjZSBpbiB0eXBlczsgdHlwZSBtYXkgYmUgb21pdHRlZFxuXHRcdFx0dHlwZXMgPSAoIHR5cGVzIHx8IFwiXCIgKS5tYXRjaCggcm5vdHdoaXRlICkgfHwgWyBcIlwiIF07XG5cdFx0XHR0ID0gdHlwZXMubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCB0LS0gKSB7XG5cdFx0XHRcdHRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWMoIHR5cGVzWyB0IF0gKSB8fCBbXTtcblx0XHRcdFx0dHlwZSA9IG9yaWdUeXBlID0gdG1wWyAxIF07XG5cdFx0XHRcdG5hbWVzcGFjZXMgPSAoIHRtcFsgMiBdIHx8IFwiXCIgKS5zcGxpdCggXCIuXCIgKS5zb3J0KCk7XG5cdFxuXHRcdFx0XHQvLyBVbmJpbmQgYWxsIGV2ZW50cyAob24gdGhpcyBuYW1lc3BhY2UsIGlmIHByb3ZpZGVkKSBmb3IgdGhlIGVsZW1lbnRcblx0XHRcdFx0aWYgKCAhdHlwZSApIHtcblx0XHRcdFx0XHRmb3IgKCB0eXBlIGluIGV2ZW50cyApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIGVsZW0sIHR5cGUgKyB0eXBlc1sgdCBdLCBoYW5kbGVyLCBzZWxlY3RvciwgdHJ1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cdFx0XHRcdHR5cGUgPSAoIHNlbGVjdG9yID8gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgOiBzcGVjaWFsLmJpbmRUeXBlICkgfHwgdHlwZTtcblx0XHRcdFx0aGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSB8fCBbXTtcblx0XHRcdFx0dG1wID0gdG1wWyAyIF0gJiZcblx0XHRcdFx0XHRuZXcgUmVnRXhwKCBcIihefFxcXFwuKVwiICsgbmFtZXNwYWNlcy5qb2luKCBcIlxcXFwuKD86LipcXFxcLnwpXCIgKSArIFwiKFxcXFwufCQpXCIgKTtcblx0XG5cdFx0XHRcdC8vIFJlbW92ZSBtYXRjaGluZyBldmVudHNcblx0XHRcdFx0b3JpZ0NvdW50ID0gaiA9IGhhbmRsZXJzLmxlbmd0aDtcblx0XHRcdFx0d2hpbGUgKCBqLS0gKSB7XG5cdFx0XHRcdFx0aGFuZGxlT2JqID0gaGFuZGxlcnNbIGogXTtcblx0XG5cdFx0XHRcdFx0aWYgKCAoIG1hcHBlZFR5cGVzIHx8IG9yaWdUeXBlID09PSBoYW5kbGVPYmoub3JpZ1R5cGUgKSAmJlxuXHRcdFx0XHRcdFx0KCAhaGFuZGxlciB8fCBoYW5kbGVyLmd1aWQgPT09IGhhbmRsZU9iai5ndWlkICkgJiZcblx0XHRcdFx0XHRcdCggIXRtcCB8fCB0bXAudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkgJiZcblx0XHRcdFx0XHRcdCggIXNlbGVjdG9yIHx8IHNlbGVjdG9yID09PSBoYW5kbGVPYmouc2VsZWN0b3IgfHxcblx0XHRcdFx0XHRcdFx0c2VsZWN0b3IgPT09IFwiKipcIiAmJiBoYW5kbGVPYmouc2VsZWN0b3IgKSApIHtcblx0XHRcdFx0XHRcdGhhbmRsZXJzLnNwbGljZSggaiwgMSApO1xuXHRcblx0XHRcdFx0XHRcdGlmICggaGFuZGxlT2JqLnNlbGVjdG9yICkge1xuXHRcdFx0XHRcdFx0XHRoYW5kbGVycy5kZWxlZ2F0ZUNvdW50LS07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoIHNwZWNpYWwucmVtb3ZlICkge1xuXHRcdFx0XHRcdFx0XHRzcGVjaWFsLnJlbW92ZS5jYWxsKCBlbGVtLCBoYW5kbGVPYmogKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFJlbW92ZSBnZW5lcmljIGV2ZW50IGhhbmRsZXIgaWYgd2UgcmVtb3ZlZCBzb21ldGhpbmcgYW5kIG5vIG1vcmUgaGFuZGxlcnMgZXhpc3Rcblx0XHRcdFx0Ly8gKGF2b2lkcyBwb3RlbnRpYWwgZm9yIGVuZGxlc3MgcmVjdXJzaW9uIGR1cmluZyByZW1vdmFsIG9mIHNwZWNpYWwgZXZlbnQgaGFuZGxlcnMpXG5cdFx0XHRcdGlmICggb3JpZ0NvdW50ICYmICFoYW5kbGVycy5sZW5ndGggKSB7XG5cdFx0XHRcdFx0aWYgKCAhc3BlY2lhbC50ZWFyZG93biB8fFxuXHRcdFx0XHRcdFx0c3BlY2lhbC50ZWFyZG93bi5jYWxsKCBlbGVtLCBuYW1lc3BhY2VzLCBlbGVtRGF0YS5oYW5kbGUgKSA9PT0gZmFsc2UgKSB7XG5cdFxuXHRcdFx0XHRcdFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBlbGVtRGF0YS5oYW5kbGUgKTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdGRlbGV0ZSBldmVudHNbIHR5cGUgXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFJlbW92ZSBkYXRhIGFuZCB0aGUgZXhwYW5kbyBpZiBpdCdzIG5vIGxvbmdlciB1c2VkXG5cdFx0XHRpZiAoIGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBldmVudHMgKSApIHtcblx0XHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBcImhhbmRsZSBldmVudHNcIiApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdGRpc3BhdGNoOiBmdW5jdGlvbiggbmF0aXZlRXZlbnQgKSB7XG5cdFxuXHRcdFx0Ly8gTWFrZSBhIHdyaXRhYmxlIGpRdWVyeS5FdmVudCBmcm9tIHRoZSBuYXRpdmUgZXZlbnQgb2JqZWN0XG5cdFx0XHR2YXIgZXZlbnQgPSBqUXVlcnkuZXZlbnQuZml4KCBuYXRpdmVFdmVudCApO1xuXHRcblx0XHRcdHZhciBpLCBqLCByZXQsIG1hdGNoZWQsIGhhbmRsZU9iaiwgaGFuZGxlclF1ZXVlLFxuXHRcdFx0XHRhcmdzID0gbmV3IEFycmF5KCBhcmd1bWVudHMubGVuZ3RoICksXG5cdFx0XHRcdGhhbmRsZXJzID0gKCBkYXRhUHJpdi5nZXQoIHRoaXMsIFwiZXZlbnRzXCIgKSB8fCB7fSApWyBldmVudC50eXBlIF0gfHwgW10sXG5cdFx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgZXZlbnQudHlwZSBdIHx8IHt9O1xuXHRcblx0XHRcdC8vIFVzZSB0aGUgZml4LWVkIGpRdWVyeS5FdmVudCByYXRoZXIgdGhhbiB0aGUgKHJlYWQtb25seSkgbmF0aXZlIGV2ZW50XG5cdFx0XHRhcmdzWyAwIF0gPSBldmVudDtcblx0XG5cdFx0XHRmb3IgKCBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0YXJnc1sgaSBdID0gYXJndW1lbnRzWyBpIF07XG5cdFx0XHR9XG5cdFxuXHRcdFx0ZXZlbnQuZGVsZWdhdGVUYXJnZXQgPSB0aGlzO1xuXHRcblx0XHRcdC8vIENhbGwgdGhlIHByZURpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZSwgYW5kIGxldCBpdCBiYWlsIGlmIGRlc2lyZWRcblx0XHRcdGlmICggc3BlY2lhbC5wcmVEaXNwYXRjaCAmJiBzcGVjaWFsLnByZURpc3BhdGNoLmNhbGwoIHRoaXMsIGV2ZW50ICkgPT09IGZhbHNlICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gRGV0ZXJtaW5lIGhhbmRsZXJzXG5cdFx0XHRoYW5kbGVyUXVldWUgPSBqUXVlcnkuZXZlbnQuaGFuZGxlcnMuY2FsbCggdGhpcywgZXZlbnQsIGhhbmRsZXJzICk7XG5cdFxuXHRcdFx0Ly8gUnVuIGRlbGVnYXRlcyBmaXJzdDsgdGhleSBtYXkgd2FudCB0byBzdG9wIHByb3BhZ2F0aW9uIGJlbmVhdGggdXNcblx0XHRcdGkgPSAwO1xuXHRcdFx0d2hpbGUgKCAoIG1hdGNoZWQgPSBoYW5kbGVyUXVldWVbIGkrKyBdICkgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFx0XHRcdGV2ZW50LmN1cnJlbnRUYXJnZXQgPSBtYXRjaGVkLmVsZW07XG5cdFxuXHRcdFx0XHRqID0gMDtcblx0XHRcdFx0d2hpbGUgKCAoIGhhbmRsZU9iaiA9IG1hdGNoZWQuaGFuZGxlcnNbIGorKyBdICkgJiZcblx0XHRcdFx0XHQhZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblx0XG5cdFx0XHRcdFx0Ly8gVHJpZ2dlcmVkIGV2ZW50IG11c3QgZWl0aGVyIDEpIGhhdmUgbm8gbmFtZXNwYWNlLCBvciAyKSBoYXZlIG5hbWVzcGFjZShzKVxuXHRcdFx0XHRcdC8vIGEgc3Vic2V0IG9yIGVxdWFsIHRvIHRob3NlIGluIHRoZSBib3VuZCBldmVudCAoYm90aCBjYW4gaGF2ZSBubyBuYW1lc3BhY2UpLlxuXHRcdFx0XHRcdGlmICggIWV2ZW50LnJuYW1lc3BhY2UgfHwgZXZlbnQucm5hbWVzcGFjZS50ZXN0KCBoYW5kbGVPYmoubmFtZXNwYWNlICkgKSB7XG5cdFxuXHRcdFx0XHRcdFx0ZXZlbnQuaGFuZGxlT2JqID0gaGFuZGxlT2JqO1xuXHRcdFx0XHRcdFx0ZXZlbnQuZGF0YSA9IGhhbmRsZU9iai5kYXRhO1xuXHRcblx0XHRcdFx0XHRcdHJldCA9ICggKCBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgaGFuZGxlT2JqLm9yaWdUeXBlIF0gfHwge30gKS5oYW5kbGUgfHxcblx0XHRcdFx0XHRcdFx0aGFuZGxlT2JqLmhhbmRsZXIgKS5hcHBseSggbWF0Y2hlZC5lbGVtLCBhcmdzICk7XG5cdFxuXHRcdFx0XHRcdFx0aWYgKCByZXQgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCAoIGV2ZW50LnJlc3VsdCA9IHJldCApID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gQ2FsbCB0aGUgcG9zdERpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZVxuXHRcdFx0aWYgKCBzcGVjaWFsLnBvc3REaXNwYXRjaCApIHtcblx0XHRcdFx0c3BlY2lhbC5wb3N0RGlzcGF0Y2guY2FsbCggdGhpcywgZXZlbnQgKTtcblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gZXZlbnQucmVzdWx0O1xuXHRcdH0sXG5cdFxuXHRcdGhhbmRsZXJzOiBmdW5jdGlvbiggZXZlbnQsIGhhbmRsZXJzICkge1xuXHRcdFx0dmFyIGksIG1hdGNoZXMsIHNlbCwgaGFuZGxlT2JqLFxuXHRcdFx0XHRoYW5kbGVyUXVldWUgPSBbXSxcblx0XHRcdFx0ZGVsZWdhdGVDb3VudCA9IGhhbmRsZXJzLmRlbGVnYXRlQ291bnQsXG5cdFx0XHRcdGN1ciA9IGV2ZW50LnRhcmdldDtcblx0XG5cdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTlcblx0XHRcdC8vIEZpbmQgZGVsZWdhdGUgaGFuZGxlcnNcblx0XHRcdC8vIEJsYWNrLWhvbGUgU1ZHIDx1c2U+IGluc3RhbmNlIHRyZWVzICgjMTMxODApXG5cdFx0XHQvL1xuXHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveCA8PTQyXG5cdFx0XHQvLyBBdm9pZCBub24tbGVmdC1jbGljayBpbiBGRiBidXQgZG9uJ3QgYmxvY2sgSUUgcmFkaW8gZXZlbnRzICgjMzg2MSwgZ2gtMjM0Mylcblx0XHRcdGlmICggZGVsZWdhdGVDb3VudCAmJiBjdXIubm9kZVR5cGUgJiZcblx0XHRcdFx0KCBldmVudC50eXBlICE9PSBcImNsaWNrXCIgfHwgaXNOYU4oIGV2ZW50LmJ1dHRvbiApIHx8IGV2ZW50LmJ1dHRvbiA8IDEgKSApIHtcblx0XG5cdFx0XHRcdGZvciAoIDsgY3VyICE9PSB0aGlzOyBjdXIgPSBjdXIucGFyZW50Tm9kZSB8fCB0aGlzICkge1xuXHRcblx0XHRcdFx0XHQvLyBEb24ndCBjaGVjayBub24tZWxlbWVudHMgKCMxMzIwOClcblx0XHRcdFx0XHQvLyBEb24ndCBwcm9jZXNzIGNsaWNrcyBvbiBkaXNhYmxlZCBlbGVtZW50cyAoIzY5MTEsICM4MTY1LCAjMTEzODIsICMxMTc2NClcblx0XHRcdFx0XHRpZiAoIGN1ci5ub2RlVHlwZSA9PT0gMSAmJiAoIGN1ci5kaXNhYmxlZCAhPT0gdHJ1ZSB8fCBldmVudC50eXBlICE9PSBcImNsaWNrXCIgKSApIHtcblx0XHRcdFx0XHRcdG1hdGNoZXMgPSBbXTtcblx0XHRcdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgZGVsZWdhdGVDb3VudDsgaSsrICkge1xuXHRcdFx0XHRcdFx0XHRoYW5kbGVPYmogPSBoYW5kbGVyc1sgaSBdO1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gRG9uJ3QgY29uZmxpY3Qgd2l0aCBPYmplY3QucHJvdG90eXBlIHByb3BlcnRpZXMgKCMxMzIwMylcblx0XHRcdFx0XHRcdFx0c2VsID0gaGFuZGxlT2JqLnNlbGVjdG9yICsgXCIgXCI7XG5cdFxuXHRcdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXNbIHNlbCBdID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0XHRcdFx0bWF0Y2hlc1sgc2VsIF0gPSBoYW5kbGVPYmoubmVlZHNDb250ZXh0ID9cblx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggc2VsLCB0aGlzICkuaW5kZXgoIGN1ciApID4gLTEgOlxuXHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmZpbmQoIHNlbCwgdGhpcywgbnVsbCwgWyBjdXIgXSApLmxlbmd0aDtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXNbIHNlbCBdICkge1xuXHRcdFx0XHRcdFx0XHRcdG1hdGNoZXMucHVzaCggaGFuZGxlT2JqICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlcy5sZW5ndGggKSB7XG5cdFx0XHRcdFx0XHRcdGhhbmRsZXJRdWV1ZS5wdXNoKCB7IGVsZW06IGN1ciwgaGFuZGxlcnM6IG1hdGNoZXMgfSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEFkZCB0aGUgcmVtYWluaW5nIChkaXJlY3RseS1ib3VuZCkgaGFuZGxlcnNcblx0XHRcdGlmICggZGVsZWdhdGVDb3VudCA8IGhhbmRsZXJzLmxlbmd0aCApIHtcblx0XHRcdFx0aGFuZGxlclF1ZXVlLnB1c2goIHsgZWxlbTogdGhpcywgaGFuZGxlcnM6IGhhbmRsZXJzLnNsaWNlKCBkZWxlZ2F0ZUNvdW50ICkgfSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiBoYW5kbGVyUXVldWU7XG5cdFx0fSxcblx0XG5cdFx0YWRkUHJvcDogZnVuY3Rpb24oIG5hbWUsIGhvb2sgKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoIGpRdWVyeS5FdmVudC5wcm90b3R5cGUsIG5hbWUsIHtcblx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcblx0XHRcdFx0Z2V0OiBqUXVlcnkuaXNGdW5jdGlvbiggaG9vayApID9cblx0XHRcdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGlmICggdGhpcy5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBob29rKCB0aGlzLm9yaWdpbmFsRXZlbnQgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IDpcblx0XHRcdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGlmICggdGhpcy5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB0aGlzLm9yaWdpbmFsRXZlbnRbIG5hbWUgXTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0c2V0OiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCB0aGlzLCBuYW1lLCB7XG5cdFx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdFx0d3JpdGFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHR2YWx1ZTogdmFsdWVcblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9LFxuXHRcblx0XHRmaXg6IGZ1bmN0aW9uKCBvcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0cmV0dXJuIG9yaWdpbmFsRXZlbnRbIGpRdWVyeS5leHBhbmRvIF0gP1xuXHRcdFx0XHRvcmlnaW5hbEV2ZW50IDpcblx0XHRcdFx0bmV3IGpRdWVyeS5FdmVudCggb3JpZ2luYWxFdmVudCApO1xuXHRcdH0sXG5cdFxuXHRcdHNwZWNpYWw6IHtcblx0XHRcdGxvYWQ6IHtcblx0XG5cdFx0XHRcdC8vIFByZXZlbnQgdHJpZ2dlcmVkIGltYWdlLmxvYWQgZXZlbnRzIGZyb20gYnViYmxpbmcgdG8gd2luZG93LmxvYWRcblx0XHRcdFx0bm9CdWJibGU6IHRydWVcblx0XHRcdH0sXG5cdFx0XHRmb2N1czoge1xuXHRcblx0XHRcdFx0Ly8gRmlyZSBuYXRpdmUgZXZlbnQgaWYgcG9zc2libGUgc28gYmx1ci9mb2N1cyBzZXF1ZW5jZSBpcyBjb3JyZWN0XG5cdFx0XHRcdHRyaWdnZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcyAhPT0gc2FmZUFjdGl2ZUVsZW1lbnQoKSAmJiB0aGlzLmZvY3VzICkge1xuXHRcdFx0XHRcdFx0dGhpcy5mb2N1cygpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0ZGVsZWdhdGVUeXBlOiBcImZvY3VzaW5cIlxuXHRcdFx0fSxcblx0XHRcdGJsdXI6IHtcblx0XHRcdFx0dHJpZ2dlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGlzID09PSBzYWZlQWN0aXZlRWxlbWVudCgpICYmIHRoaXMuYmx1ciApIHtcblx0XHRcdFx0XHRcdHRoaXMuYmx1cigpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0ZGVsZWdhdGVUeXBlOiBcImZvY3Vzb3V0XCJcblx0XHRcdH0sXG5cdFx0XHRjbGljazoge1xuXHRcblx0XHRcdFx0Ly8gRm9yIGNoZWNrYm94LCBmaXJlIG5hdGl2ZSBldmVudCBzbyBjaGVja2VkIHN0YXRlIHdpbGwgYmUgcmlnaHRcblx0XHRcdFx0dHJpZ2dlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGlzLnR5cGUgPT09IFwiY2hlY2tib3hcIiAmJiB0aGlzLmNsaWNrICYmIGpRdWVyeS5ub2RlTmFtZSggdGhpcywgXCJpbnB1dFwiICkgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmNsaWNrKCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0Ly8gRm9yIGNyb3NzLWJyb3dzZXIgY29uc2lzdGVuY3ksIGRvbid0IGZpcmUgbmF0aXZlIC5jbGljaygpIG9uIGxpbmtzXG5cdFx0XHRcdF9kZWZhdWx0OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGpRdWVyeS5ub2RlTmFtZSggZXZlbnQudGFyZ2V0LCBcImFcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcblx0XHRcdGJlZm9yZXVubG9hZDoge1xuXHRcdFx0XHRwb3N0RGlzcGF0Y2g6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveCAyMCtcblx0XHRcdFx0XHQvLyBGaXJlZm94IGRvZXNuJ3QgYWxlcnQgaWYgdGhlIHJldHVyblZhbHVlIGZpZWxkIGlzIG5vdCBzZXQuXG5cdFx0XHRcdFx0aWYgKCBldmVudC5yZXN1bHQgIT09IHVuZGVmaW5lZCAmJiBldmVudC5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdFx0ZXZlbnQub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZSA9IGV2ZW50LnJlc3VsdDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdFxuXHRqUXVlcnkucmVtb3ZlRXZlbnQgPSBmdW5jdGlvbiggZWxlbSwgdHlwZSwgaGFuZGxlICkge1xuXHRcblx0XHQvLyBUaGlzIFwiaWZcIiBpcyBuZWVkZWQgZm9yIHBsYWluIG9iamVjdHNcblx0XHRpZiAoIGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciApIHtcblx0XHRcdGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciggdHlwZSwgaGFuZGxlICk7XG5cdFx0fVxuXHR9O1xuXHRcblx0alF1ZXJ5LkV2ZW50ID0gZnVuY3Rpb24oIHNyYywgcHJvcHMgKSB7XG5cdFxuXHRcdC8vIEFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCB0aGUgJ25ldycga2V5d29yZFxuXHRcdGlmICggISggdGhpcyBpbnN0YW5jZW9mIGpRdWVyeS5FdmVudCApICkge1xuXHRcdFx0cmV0dXJuIG5ldyBqUXVlcnkuRXZlbnQoIHNyYywgcHJvcHMgKTtcblx0XHR9XG5cdFxuXHRcdC8vIEV2ZW50IG9iamVjdFxuXHRcdGlmICggc3JjICYmIHNyYy50eXBlICkge1xuXHRcdFx0dGhpcy5vcmlnaW5hbEV2ZW50ID0gc3JjO1xuXHRcdFx0dGhpcy50eXBlID0gc3JjLnR5cGU7XG5cdFxuXHRcdFx0Ly8gRXZlbnRzIGJ1YmJsaW5nIHVwIHRoZSBkb2N1bWVudCBtYXkgaGF2ZSBiZWVuIG1hcmtlZCBhcyBwcmV2ZW50ZWRcblx0XHRcdC8vIGJ5IGEgaGFuZGxlciBsb3dlciBkb3duIHRoZSB0cmVlOyByZWZsZWN0IHRoZSBjb3JyZWN0IHZhbHVlLlxuXHRcdFx0dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBzcmMuZGVmYXVsdFByZXZlbnRlZCB8fFxuXHRcdFx0XHRcdHNyYy5kZWZhdWx0UHJldmVudGVkID09PSB1bmRlZmluZWQgJiZcblx0XG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTIuMyBvbmx5XG5cdFx0XHRcdFx0c3JjLnJldHVyblZhbHVlID09PSBmYWxzZSA/XG5cdFx0XHRcdHJldHVyblRydWUgOlxuXHRcdFx0XHRyZXR1cm5GYWxzZTtcblx0XG5cdFx0XHQvLyBDcmVhdGUgdGFyZ2V0IHByb3BlcnRpZXNcblx0XHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA8PTYgLSA3IG9ubHlcblx0XHRcdC8vIFRhcmdldCBzaG91bGQgbm90IGJlIGEgdGV4dCBub2RlICgjNTA0LCAjMTMxNDMpXG5cdFx0XHR0aGlzLnRhcmdldCA9ICggc3JjLnRhcmdldCAmJiBzcmMudGFyZ2V0Lm5vZGVUeXBlID09PSAzICkgP1xuXHRcdFx0XHRzcmMudGFyZ2V0LnBhcmVudE5vZGUgOlxuXHRcdFx0XHRzcmMudGFyZ2V0O1xuXHRcblx0XHRcdHRoaXMuY3VycmVudFRhcmdldCA9IHNyYy5jdXJyZW50VGFyZ2V0O1xuXHRcdFx0dGhpcy5yZWxhdGVkVGFyZ2V0ID0gc3JjLnJlbGF0ZWRUYXJnZXQ7XG5cdFxuXHRcdC8vIEV2ZW50IHR5cGVcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy50eXBlID0gc3JjO1xuXHRcdH1cblx0XG5cdFx0Ly8gUHV0IGV4cGxpY2l0bHkgcHJvdmlkZWQgcHJvcGVydGllcyBvbnRvIHRoZSBldmVudCBvYmplY3Rcblx0XHRpZiAoIHByb3BzICkge1xuXHRcdFx0alF1ZXJ5LmV4dGVuZCggdGhpcywgcHJvcHMgKTtcblx0XHR9XG5cdFxuXHRcdC8vIENyZWF0ZSBhIHRpbWVzdGFtcCBpZiBpbmNvbWluZyBldmVudCBkb2Vzbid0IGhhdmUgb25lXG5cdFx0dGhpcy50aW1lU3RhbXAgPSBzcmMgJiYgc3JjLnRpbWVTdGFtcCB8fCBqUXVlcnkubm93KCk7XG5cdFxuXHRcdC8vIE1hcmsgaXQgYXMgZml4ZWRcblx0XHR0aGlzWyBqUXVlcnkuZXhwYW5kbyBdID0gdHJ1ZTtcblx0fTtcblx0XG5cdC8vIGpRdWVyeS5FdmVudCBpcyBiYXNlZCBvbiBET00zIEV2ZW50cyBhcyBzcGVjaWZpZWQgYnkgdGhlIEVDTUFTY3JpcHQgTGFuZ3VhZ2UgQmluZGluZ1xuXHQvLyBodHRwczovL3d3dy53My5vcmcvVFIvMjAwMy9XRC1ET00tTGV2ZWwtMy1FdmVudHMtMjAwMzAzMzEvZWNtYS1zY3JpcHQtYmluZGluZy5odG1sXG5cdGpRdWVyeS5FdmVudC5wcm90b3R5cGUgPSB7XG5cdFx0Y29uc3RydWN0b3I6IGpRdWVyeS5FdmVudCxcblx0XHRpc0RlZmF1bHRQcmV2ZW50ZWQ6IHJldHVybkZhbHNlLFxuXHRcdGlzUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSxcblx0XHRpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDogcmV0dXJuRmFsc2UsXG5cdFx0aXNTaW11bGF0ZWQ6IGZhbHNlLFxuXHRcblx0XHRwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblx0XG5cdFx0XHR0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IHJldHVyblRydWU7XG5cdFxuXHRcdFx0aWYgKCBlICYmICF0aGlzLmlzU2ltdWxhdGVkICkge1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG5cdFxuXHRcdFx0dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XG5cdFxuXHRcdFx0aWYgKCBlICYmICF0aGlzLmlzU2ltdWxhdGVkICkge1xuXHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0c3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuXHRcblx0XHRcdHRoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlO1xuXHRcblx0XHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdFx0ZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0XHRcdH1cblx0XG5cdFx0XHR0aGlzLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdH1cblx0fTtcblx0XG5cdC8vIEluY2x1ZGVzIGFsbCBjb21tb24gZXZlbnQgcHJvcHMgaW5jbHVkaW5nIEtleUV2ZW50IGFuZCBNb3VzZUV2ZW50IHNwZWNpZmljIHByb3BzXG5cdGpRdWVyeS5lYWNoKCB7XG5cdFx0YWx0S2V5OiB0cnVlLFxuXHRcdGJ1YmJsZXM6IHRydWUsXG5cdFx0Y2FuY2VsYWJsZTogdHJ1ZSxcblx0XHRjaGFuZ2VkVG91Y2hlczogdHJ1ZSxcblx0XHRjdHJsS2V5OiB0cnVlLFxuXHRcdGRldGFpbDogdHJ1ZSxcblx0XHRldmVudFBoYXNlOiB0cnVlLFxuXHRcdG1ldGFLZXk6IHRydWUsXG5cdFx0cGFnZVg6IHRydWUsXG5cdFx0cGFnZVk6IHRydWUsXG5cdFx0c2hpZnRLZXk6IHRydWUsXG5cdFx0dmlldzogdHJ1ZSxcblx0XHRcImNoYXJcIjogdHJ1ZSxcblx0XHRjaGFyQ29kZTogdHJ1ZSxcblx0XHRrZXk6IHRydWUsXG5cdFx0a2V5Q29kZTogdHJ1ZSxcblx0XHRidXR0b246IHRydWUsXG5cdFx0YnV0dG9uczogdHJ1ZSxcblx0XHRjbGllbnRYOiB0cnVlLFxuXHRcdGNsaWVudFk6IHRydWUsXG5cdFx0b2Zmc2V0WDogdHJ1ZSxcblx0XHRvZmZzZXRZOiB0cnVlLFxuXHRcdHBvaW50ZXJJZDogdHJ1ZSxcblx0XHRwb2ludGVyVHlwZTogdHJ1ZSxcblx0XHRzY3JlZW5YOiB0cnVlLFxuXHRcdHNjcmVlblk6IHRydWUsXG5cdFx0dGFyZ2V0VG91Y2hlczogdHJ1ZSxcblx0XHR0b0VsZW1lbnQ6IHRydWUsXG5cdFx0dG91Y2hlczogdHJ1ZSxcblx0XG5cdFx0d2hpY2g6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciBidXR0b24gPSBldmVudC5idXR0b247XG5cdFxuXHRcdFx0Ly8gQWRkIHdoaWNoIGZvciBrZXkgZXZlbnRzXG5cdFx0XHRpZiAoIGV2ZW50LndoaWNoID09IG51bGwgJiYgcmtleUV2ZW50LnRlc3QoIGV2ZW50LnR5cGUgKSApIHtcblx0XHRcdFx0cmV0dXJuIGV2ZW50LmNoYXJDb2RlICE9IG51bGwgPyBldmVudC5jaGFyQ29kZSA6IGV2ZW50LmtleUNvZGU7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gQWRkIHdoaWNoIGZvciBjbGljazogMSA9PT0gbGVmdDsgMiA9PT0gbWlkZGxlOyAzID09PSByaWdodFxuXHRcdFx0aWYgKCAhZXZlbnQud2hpY2ggJiYgYnV0dG9uICE9PSB1bmRlZmluZWQgJiYgcm1vdXNlRXZlbnQudGVzdCggZXZlbnQudHlwZSApICkge1xuXHRcdFx0XHRyZXR1cm4gKCBidXR0b24gJiAxID8gMSA6ICggYnV0dG9uICYgMiA/IDMgOiAoIGJ1dHRvbiAmIDQgPyAyIDogMCApICkgKTtcblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gZXZlbnQud2hpY2g7XG5cdFx0fVxuXHR9LCBqUXVlcnkuZXZlbnQuYWRkUHJvcCApO1xuXHRcblx0Ly8gQ3JlYXRlIG1vdXNlZW50ZXIvbGVhdmUgZXZlbnRzIHVzaW5nIG1vdXNlb3Zlci9vdXQgYW5kIGV2ZW50LXRpbWUgY2hlY2tzXG5cdC8vIHNvIHRoYXQgZXZlbnQgZGVsZWdhdGlvbiB3b3JrcyBpbiBqUXVlcnkuXG5cdC8vIERvIHRoZSBzYW1lIGZvciBwb2ludGVyZW50ZXIvcG9pbnRlcmxlYXZlIGFuZCBwb2ludGVyb3Zlci9wb2ludGVyb3V0XG5cdC8vXG5cdC8vIFN1cHBvcnQ6IFNhZmFyaSA3IG9ubHlcblx0Ly8gU2FmYXJpIHNlbmRzIG1vdXNlZW50ZXIgdG9vIG9mdGVuOyBzZWU6XG5cdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ3MDI1OFxuXHQvLyBmb3IgdGhlIGRlc2NyaXB0aW9uIG9mIHRoZSBidWcgKGl0IGV4aXN0ZWQgaW4gb2xkZXIgQ2hyb21lIHZlcnNpb25zIGFzIHdlbGwpLlxuXHRqUXVlcnkuZWFjaCgge1xuXHRcdG1vdXNlZW50ZXI6IFwibW91c2VvdmVyXCIsXG5cdFx0bW91c2VsZWF2ZTogXCJtb3VzZW91dFwiLFxuXHRcdHBvaW50ZXJlbnRlcjogXCJwb2ludGVyb3ZlclwiLFxuXHRcdHBvaW50ZXJsZWF2ZTogXCJwb2ludGVyb3V0XCJcblx0fSwgZnVuY3Rpb24oIG9yaWcsIGZpeCApIHtcblx0XHRqUXVlcnkuZXZlbnQuc3BlY2lhbFsgb3JpZyBdID0ge1xuXHRcdFx0ZGVsZWdhdGVUeXBlOiBmaXgsXG5cdFx0XHRiaW5kVHlwZTogZml4LFxuXHRcblx0XHRcdGhhbmRsZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHR2YXIgcmV0LFxuXHRcdFx0XHRcdHRhcmdldCA9IHRoaXMsXG5cdFx0XHRcdFx0cmVsYXRlZCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQsXG5cdFx0XHRcdFx0aGFuZGxlT2JqID0gZXZlbnQuaGFuZGxlT2JqO1xuXHRcblx0XHRcdFx0Ly8gRm9yIG1vdXNlZW50ZXIvbGVhdmUgY2FsbCB0aGUgaGFuZGxlciBpZiByZWxhdGVkIGlzIG91dHNpZGUgdGhlIHRhcmdldC5cblx0XHRcdFx0Ly8gTkI6IE5vIHJlbGF0ZWRUYXJnZXQgaWYgdGhlIG1vdXNlIGxlZnQvZW50ZXJlZCB0aGUgYnJvd3NlciB3aW5kb3dcblx0XHRcdFx0aWYgKCAhcmVsYXRlZCB8fCAoIHJlbGF0ZWQgIT09IHRhcmdldCAmJiAhalF1ZXJ5LmNvbnRhaW5zKCB0YXJnZXQsIHJlbGF0ZWQgKSApICkge1xuXHRcdFx0XHRcdGV2ZW50LnR5cGUgPSBoYW5kbGVPYmoub3JpZ1R5cGU7XG5cdFx0XHRcdFx0cmV0ID0gaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdGV2ZW50LnR5cGUgPSBmaXg7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblx0XHR9O1xuXHR9ICk7XG5cdFxuXHRqUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdFxuXHRcdG9uOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApIHtcblx0XHRcdHJldHVybiBvbiggdGhpcywgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApO1xuXHRcdH0sXG5cdFx0b25lOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApIHtcblx0XHRcdHJldHVybiBvbiggdGhpcywgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiwgMSApO1xuXHRcdH0sXG5cdFx0b2ZmOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBmbiApIHtcblx0XHRcdHZhciBoYW5kbGVPYmosIHR5cGU7XG5cdFx0XHRpZiAoIHR5cGVzICYmIHR5cGVzLnByZXZlbnREZWZhdWx0ICYmIHR5cGVzLmhhbmRsZU9iaiApIHtcblx0XG5cdFx0XHRcdC8vICggZXZlbnQgKSAgZGlzcGF0Y2hlZCBqUXVlcnkuRXZlbnRcblx0XHRcdFx0aGFuZGxlT2JqID0gdHlwZXMuaGFuZGxlT2JqO1xuXHRcdFx0XHRqUXVlcnkoIHR5cGVzLmRlbGVnYXRlVGFyZ2V0ICkub2ZmKFxuXHRcdFx0XHRcdGhhbmRsZU9iai5uYW1lc3BhY2UgP1xuXHRcdFx0XHRcdFx0aGFuZGxlT2JqLm9yaWdUeXBlICsgXCIuXCIgKyBoYW5kbGVPYmoubmFtZXNwYWNlIDpcblx0XHRcdFx0XHRcdGhhbmRsZU9iai5vcmlnVHlwZSxcblx0XHRcdFx0XHRoYW5kbGVPYmouc2VsZWN0b3IsXG5cdFx0XHRcdFx0aGFuZGxlT2JqLmhhbmRsZXJcblx0XHRcdFx0KTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIHR5cGVvZiB0eXBlcyA9PT0gXCJvYmplY3RcIiApIHtcblx0XG5cdFx0XHRcdC8vICggdHlwZXMtb2JqZWN0IFssIHNlbGVjdG9yXSApXG5cdFx0XHRcdGZvciAoIHR5cGUgaW4gdHlwZXMgKSB7XG5cdFx0XHRcdFx0dGhpcy5vZmYoIHR5cGUsIHNlbGVjdG9yLCB0eXBlc1sgdHlwZSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIHNlbGVjdG9yID09PSBmYWxzZSB8fCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwiZnVuY3Rpb25cIiApIHtcblx0XG5cdFx0XHRcdC8vICggdHlwZXMgWywgZm5dIClcblx0XHRcdFx0Zm4gPSBzZWxlY3Rvcjtcblx0XHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGZuID09PSBmYWxzZSApIHtcblx0XHRcdFx0Zm4gPSByZXR1cm5GYWxzZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCB0aGlzLCB0eXBlcywgZm4sIHNlbGVjdG9yICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRcblx0dmFyXG5cdFxuXHRcdC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblx0XG5cdFx0Ly8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lc2xpbnQvZXNsaW50L2lzc3Vlcy8zMjI5XG5cdFx0cnhodG1sVGFnID0gLzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW2Etel1bXlxcL1xcMD5cXHgyMFxcdFxcclxcblxcZl0qKVtePl0qKVxcLz4vZ2ksXG5cdFxuXHRcdC8qIGVzbGludC1lbmFibGUgKi9cblx0XG5cdFx0Ly8gU3VwcG9ydDogSUUgPD0xMCAtIDExLCBFZGdlIDEyIC0gMTNcblx0XHQvLyBJbiBJRS9FZGdlIHVzaW5nIHJlZ2V4IGdyb3VwcyBoZXJlIGNhdXNlcyBzZXZlcmUgc2xvd2Rvd25zLlxuXHRcdC8vIFNlZSBodHRwczovL2Nvbm5lY3QubWljcm9zb2Z0LmNvbS9JRS9mZWVkYmFjay9kZXRhaWxzLzE3MzY1MTIvXG5cdFx0cm5vSW5uZXJodG1sID0gLzxzY3JpcHR8PHN0eWxlfDxsaW5rL2ksXG5cdFxuXHRcdC8vIGNoZWNrZWQ9XCJjaGVja2VkXCIgb3IgY2hlY2tlZFxuXHRcdHJjaGVja2VkID0gL2NoZWNrZWRcXHMqKD86W149XXw9XFxzKi5jaGVja2VkLikvaSxcblx0XHRyc2NyaXB0VHlwZU1hc2tlZCA9IC9edHJ1ZVxcLyguKikvLFxuXHRcdHJjbGVhblNjcmlwdCA9IC9eXFxzKjwhKD86XFxbQ0RBVEFcXFt8LS0pfCg/OlxcXVxcXXwtLSk+XFxzKiQvZztcblx0XG5cdGZ1bmN0aW9uIG1hbmlwdWxhdGlvblRhcmdldCggZWxlbSwgY29udGVudCApIHtcblx0XHRpZiAoIGpRdWVyeS5ub2RlTmFtZSggZWxlbSwgXCJ0YWJsZVwiICkgJiZcblx0XHRcdGpRdWVyeS5ub2RlTmFtZSggY29udGVudC5ub2RlVHlwZSAhPT0gMTEgPyBjb250ZW50IDogY29udGVudC5maXJzdENoaWxkLCBcInRyXCIgKSApIHtcblx0XG5cdFx0XHRyZXR1cm4gZWxlbS5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJ0Ym9keVwiIClbIDAgXSB8fCBlbGVtO1xuXHRcdH1cblx0XG5cdFx0cmV0dXJuIGVsZW07XG5cdH1cblx0XG5cdC8vIFJlcGxhY2UvcmVzdG9yZSB0aGUgdHlwZSBhdHRyaWJ1dGUgb2Ygc2NyaXB0IGVsZW1lbnRzIGZvciBzYWZlIERPTSBtYW5pcHVsYXRpb25cblx0ZnVuY3Rpb24gZGlzYWJsZVNjcmlwdCggZWxlbSApIHtcblx0XHRlbGVtLnR5cGUgPSAoIGVsZW0uZ2V0QXR0cmlidXRlKCBcInR5cGVcIiApICE9PSBudWxsICkgKyBcIi9cIiArIGVsZW0udHlwZTtcblx0XHRyZXR1cm4gZWxlbTtcblx0fVxuXHRmdW5jdGlvbiByZXN0b3JlU2NyaXB0KCBlbGVtICkge1xuXHRcdHZhciBtYXRjaCA9IHJzY3JpcHRUeXBlTWFza2VkLmV4ZWMoIGVsZW0udHlwZSApO1xuXHRcblx0XHRpZiAoIG1hdGNoICkge1xuXHRcdFx0ZWxlbS50eXBlID0gbWF0Y2hbIDEgXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZWxlbS5yZW1vdmVBdHRyaWJ1dGUoIFwidHlwZVwiICk7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gZWxlbTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY2xvbmVDb3B5RXZlbnQoIHNyYywgZGVzdCApIHtcblx0XHR2YXIgaSwgbCwgdHlwZSwgcGRhdGFPbGQsIHBkYXRhQ3VyLCB1ZGF0YU9sZCwgdWRhdGFDdXIsIGV2ZW50cztcblx0XG5cdFx0aWYgKCBkZXN0Lm5vZGVUeXBlICE9PSAxICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XG5cdFx0Ly8gMS4gQ29weSBwcml2YXRlIGRhdGE6IGV2ZW50cywgaGFuZGxlcnMsIGV0Yy5cblx0XHRpZiAoIGRhdGFQcml2Lmhhc0RhdGEoIHNyYyApICkge1xuXHRcdFx0cGRhdGFPbGQgPSBkYXRhUHJpdi5hY2Nlc3MoIHNyYyApO1xuXHRcdFx0cGRhdGFDdXIgPSBkYXRhUHJpdi5zZXQoIGRlc3QsIHBkYXRhT2xkICk7XG5cdFx0XHRldmVudHMgPSBwZGF0YU9sZC5ldmVudHM7XG5cdFxuXHRcdFx0aWYgKCBldmVudHMgKSB7XG5cdFx0XHRcdGRlbGV0ZSBwZGF0YUN1ci5oYW5kbGU7XG5cdFx0XHRcdHBkYXRhQ3VyLmV2ZW50cyA9IHt9O1xuXHRcblx0XHRcdFx0Zm9yICggdHlwZSBpbiBldmVudHMgKSB7XG5cdFx0XHRcdFx0Zm9yICggaSA9IDAsIGwgPSBldmVudHNbIHR5cGUgXS5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkuZXZlbnQuYWRkKCBkZXN0LCB0eXBlLCBldmVudHNbIHR5cGUgXVsgaSBdICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHQvLyAyLiBDb3B5IHVzZXIgZGF0YVxuXHRcdGlmICggZGF0YVVzZXIuaGFzRGF0YSggc3JjICkgKSB7XG5cdFx0XHR1ZGF0YU9sZCA9IGRhdGFVc2VyLmFjY2Vzcyggc3JjICk7XG5cdFx0XHR1ZGF0YUN1ciA9IGpRdWVyeS5leHRlbmQoIHt9LCB1ZGF0YU9sZCApO1xuXHRcblx0XHRcdGRhdGFVc2VyLnNldCggZGVzdCwgdWRhdGFDdXIgKTtcblx0XHR9XG5cdH1cblx0XG5cdC8vIEZpeCBJRSBidWdzLCBzZWUgc3VwcG9ydCB0ZXN0c1xuXHRmdW5jdGlvbiBmaXhJbnB1dCggc3JjLCBkZXN0ICkge1xuXHRcdHZhciBub2RlTmFtZSA9IGRlc3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XG5cdFx0Ly8gRmFpbHMgdG8gcGVyc2lzdCB0aGUgY2hlY2tlZCBzdGF0ZSBvZiBhIGNsb25lZCBjaGVja2JveCBvciByYWRpbyBidXR0b24uXG5cdFx0aWYgKCBub2RlTmFtZSA9PT0gXCJpbnB1dFwiICYmIHJjaGVja2FibGVUeXBlLnRlc3QoIHNyYy50eXBlICkgKSB7XG5cdFx0XHRkZXN0LmNoZWNrZWQgPSBzcmMuY2hlY2tlZDtcblx0XG5cdFx0Ly8gRmFpbHMgdG8gcmV0dXJuIHRoZSBzZWxlY3RlZCBvcHRpb24gdG8gdGhlIGRlZmF1bHQgc2VsZWN0ZWQgc3RhdGUgd2hlbiBjbG9uaW5nIG9wdGlvbnNcblx0XHR9IGVsc2UgaWYgKCBub2RlTmFtZSA9PT0gXCJpbnB1dFwiIHx8IG5vZGVOYW1lID09PSBcInRleHRhcmVhXCIgKSB7XG5cdFx0XHRkZXN0LmRlZmF1bHRWYWx1ZSA9IHNyYy5kZWZhdWx0VmFsdWU7XG5cdFx0fVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBkb21NYW5pcCggY29sbGVjdGlvbiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQgKSB7XG5cdFxuXHRcdC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcblx0XHRhcmdzID0gY29uY2F0LmFwcGx5KCBbXSwgYXJncyApO1xuXHRcblx0XHR2YXIgZnJhZ21lbnQsIGZpcnN0LCBzY3JpcHRzLCBoYXNTY3JpcHRzLCBub2RlLCBkb2MsXG5cdFx0XHRpID0gMCxcblx0XHRcdGwgPSBjb2xsZWN0aW9uLmxlbmd0aCxcblx0XHRcdGlOb0Nsb25lID0gbCAtIDEsXG5cdFx0XHR2YWx1ZSA9IGFyZ3NbIDAgXSxcblx0XHRcdGlzRnVuY3Rpb24gPSBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKTtcblx0XG5cdFx0Ly8gV2UgY2FuJ3QgY2xvbmVOb2RlIGZyYWdtZW50cyB0aGF0IGNvbnRhaW4gY2hlY2tlZCwgaW4gV2ViS2l0XG5cdFx0aWYgKCBpc0Z1bmN0aW9uIHx8XG5cdFx0XHRcdCggbCA+IDEgJiYgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmXG5cdFx0XHRcdFx0IXN1cHBvcnQuY2hlY2tDbG9uZSAmJiByY2hlY2tlZC50ZXN0KCB2YWx1ZSApICkgKSB7XG5cdFx0XHRyZXR1cm4gY29sbGVjdGlvbi5lYWNoKCBmdW5jdGlvbiggaW5kZXggKSB7XG5cdFx0XHRcdHZhciBzZWxmID0gY29sbGVjdGlvbi5lcSggaW5kZXggKTtcblx0XHRcdFx0aWYgKCBpc0Z1bmN0aW9uICkge1xuXHRcdFx0XHRcdGFyZ3NbIDAgXSA9IHZhbHVlLmNhbGwoIHRoaXMsIGluZGV4LCBzZWxmLmh0bWwoKSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGRvbU1hbmlwKCBzZWxmLCBhcmdzLCBjYWxsYmFjaywgaWdub3JlZCApO1xuXHRcdFx0fSApO1xuXHRcdH1cblx0XG5cdFx0aWYgKCBsICkge1xuXHRcdFx0ZnJhZ21lbnQgPSBidWlsZEZyYWdtZW50KCBhcmdzLCBjb2xsZWN0aW9uWyAwIF0ub3duZXJEb2N1bWVudCwgZmFsc2UsIGNvbGxlY3Rpb24sIGlnbm9yZWQgKTtcblx0XHRcdGZpcnN0ID0gZnJhZ21lbnQuZmlyc3RDaGlsZDtcblx0XG5cdFx0XHRpZiAoIGZyYWdtZW50LmNoaWxkTm9kZXMubGVuZ3RoID09PSAxICkge1xuXHRcdFx0XHRmcmFnbWVudCA9IGZpcnN0O1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFJlcXVpcmUgZWl0aGVyIG5ldyBjb250ZW50IG9yIGFuIGludGVyZXN0IGluIGlnbm9yZWQgZWxlbWVudHMgdG8gaW52b2tlIHRoZSBjYWxsYmFja1xuXHRcdFx0aWYgKCBmaXJzdCB8fCBpZ25vcmVkICkge1xuXHRcdFx0XHRzY3JpcHRzID0galF1ZXJ5Lm1hcCggZ2V0QWxsKCBmcmFnbWVudCwgXCJzY3JpcHRcIiApLCBkaXNhYmxlU2NyaXB0ICk7XG5cdFx0XHRcdGhhc1NjcmlwdHMgPSBzY3JpcHRzLmxlbmd0aDtcblx0XG5cdFx0XHRcdC8vIFVzZSB0aGUgb3JpZ2luYWwgZnJhZ21lbnQgZm9yIHRoZSBsYXN0IGl0ZW1cblx0XHRcdFx0Ly8gaW5zdGVhZCBvZiB0aGUgZmlyc3QgYmVjYXVzZSBpdCBjYW4gZW5kIHVwXG5cdFx0XHRcdC8vIGJlaW5nIGVtcHRpZWQgaW5jb3JyZWN0bHkgaW4gY2VydGFpbiBzaXR1YXRpb25zICgjODA3MCkuXG5cdFx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0XHRub2RlID0gZnJhZ21lbnQ7XG5cdFxuXHRcdFx0XHRcdGlmICggaSAhPT0gaU5vQ2xvbmUgKSB7XG5cdFx0XHRcdFx0XHRub2RlID0galF1ZXJ5LmNsb25lKCBub2RlLCB0cnVlLCB0cnVlICk7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gS2VlcCByZWZlcmVuY2VzIHRvIGNsb25lZCBzY3JpcHRzIGZvciBsYXRlciByZXN0b3JhdGlvblxuXHRcdFx0XHRcdFx0aWYgKCBoYXNTY3JpcHRzICkge1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdFx0XHRcdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRcdFx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCBzY3JpcHRzLCBnZXRBbGwoIG5vZGUsIFwic2NyaXB0XCIgKSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Y2FsbGJhY2suY2FsbCggY29sbGVjdGlvblsgaSBdLCBub2RlLCBpICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGlmICggaGFzU2NyaXB0cyApIHtcblx0XHRcdFx0XHRkb2MgPSBzY3JpcHRzWyBzY3JpcHRzLmxlbmd0aCAtIDEgXS5vd25lckRvY3VtZW50O1xuXHRcblx0XHRcdFx0XHQvLyBSZWVuYWJsZSBzY3JpcHRzXG5cdFx0XHRcdFx0alF1ZXJ5Lm1hcCggc2NyaXB0cywgcmVzdG9yZVNjcmlwdCApO1xuXHRcblx0XHRcdFx0XHQvLyBFdmFsdWF0ZSBleGVjdXRhYmxlIHNjcmlwdHMgb24gZmlyc3QgZG9jdW1lbnQgaW5zZXJ0aW9uXG5cdFx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBoYXNTY3JpcHRzOyBpKysgKSB7XG5cdFx0XHRcdFx0XHRub2RlID0gc2NyaXB0c1sgaSBdO1xuXHRcdFx0XHRcdFx0aWYgKCByc2NyaXB0VHlwZS50ZXN0KCBub2RlLnR5cGUgfHwgXCJcIiApICYmXG5cdFx0XHRcdFx0XHRcdCFkYXRhUHJpdi5hY2Nlc3MoIG5vZGUsIFwiZ2xvYmFsRXZhbFwiICkgJiZcblx0XHRcdFx0XHRcdFx0alF1ZXJ5LmNvbnRhaW5zKCBkb2MsIG5vZGUgKSApIHtcblx0XG5cdFx0XHRcdFx0XHRcdGlmICggbm9kZS5zcmMgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdC8vIE9wdGlvbmFsIEFKQVggZGVwZW5kZW5jeSwgYnV0IHdvbid0IHJ1biBzY3JpcHRzIGlmIG5vdCBwcmVzZW50XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuX2V2YWxVcmwgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuX2V2YWxVcmwoIG5vZGUuc3JjICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdERPTUV2YWwoIG5vZGUudGV4dENvbnRlbnQucmVwbGFjZSggcmNsZWFuU2NyaXB0LCBcIlwiICksIGRvYyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gY29sbGVjdGlvbjtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVtb3ZlKCBlbGVtLCBzZWxlY3Rvciwga2VlcERhdGEgKSB7XG5cdFx0dmFyIG5vZGUsXG5cdFx0XHRub2RlcyA9IHNlbGVjdG9yID8galF1ZXJ5LmZpbHRlciggc2VsZWN0b3IsIGVsZW0gKSA6IGVsZW0sXG5cdFx0XHRpID0gMDtcblx0XG5cdFx0Zm9yICggOyAoIG5vZGUgPSBub2Rlc1sgaSBdICkgIT0gbnVsbDsgaSsrICkge1xuXHRcdFx0aWYgKCAha2VlcERhdGEgJiYgbm9kZS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBub2RlICkgKTtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIG5vZGUucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0aWYgKCBrZWVwRGF0YSAmJiBqUXVlcnkuY29udGFpbnMoIG5vZGUub3duZXJEb2N1bWVudCwgbm9kZSApICkge1xuXHRcdFx0XHRcdHNldEdsb2JhbEV2YWwoIGdldEFsbCggbm9kZSwgXCJzY3JpcHRcIiApICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0bm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBub2RlICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gZWxlbTtcblx0fVxuXHRcblx0alF1ZXJ5LmV4dGVuZCgge1xuXHRcdGh0bWxQcmVmaWx0ZXI6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdFx0cmV0dXJuIGh0bWwucmVwbGFjZSggcnhodG1sVGFnLCBcIjwkMT48LyQyPlwiICk7XG5cdFx0fSxcblx0XG5cdFx0Y2xvbmU6IGZ1bmN0aW9uKCBlbGVtLCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHRcdHZhciBpLCBsLCBzcmNFbGVtZW50cywgZGVzdEVsZW1lbnRzLFxuXHRcdFx0XHRjbG9uZSA9IGVsZW0uY2xvbmVOb2RlKCB0cnVlICksXG5cdFx0XHRcdGluUGFnZSA9IGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICk7XG5cdFxuXHRcdFx0Ly8gRml4IElFIGNsb25pbmcgaXNzdWVzXG5cdFx0XHRpZiAoICFzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkICYmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBlbGVtLm5vZGVUeXBlID09PSAxMSApICYmXG5cdFx0XHRcdFx0IWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuXHRcblx0XHRcdFx0Ly8gV2UgZXNjaGV3IFNpenpsZSBoZXJlIGZvciBwZXJmb3JtYW5jZSByZWFzb25zOiBodHRwczovL2pzcGVyZi5jb20vZ2V0YWxsLXZzLXNpenpsZS8yXG5cdFx0XHRcdGRlc3RFbGVtZW50cyA9IGdldEFsbCggY2xvbmUgKTtcblx0XHRcdFx0c3JjRWxlbWVudHMgPSBnZXRBbGwoIGVsZW0gKTtcblx0XG5cdFx0XHRcdGZvciAoIGkgPSAwLCBsID0gc3JjRWxlbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdGZpeElucHV0KCBzcmNFbGVtZW50c1sgaSBdLCBkZXN0RWxlbWVudHNbIGkgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gQ29weSB0aGUgZXZlbnRzIGZyb20gdGhlIG9yaWdpbmFsIHRvIHRoZSBjbG9uZVxuXHRcdFx0aWYgKCBkYXRhQW5kRXZlbnRzICkge1xuXHRcdFx0XHRpZiAoIGRlZXBEYXRhQW5kRXZlbnRzICkge1xuXHRcdFx0XHRcdHNyY0VsZW1lbnRzID0gc3JjRWxlbWVudHMgfHwgZ2V0QWxsKCBlbGVtICk7XG5cdFx0XHRcdFx0ZGVzdEVsZW1lbnRzID0gZGVzdEVsZW1lbnRzIHx8IGdldEFsbCggY2xvbmUgKTtcblx0XG5cdFx0XHRcdFx0Zm9yICggaSA9IDAsIGwgPSBzcmNFbGVtZW50cy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0XHRjbG9uZUNvcHlFdmVudCggc3JjRWxlbWVudHNbIGkgXSwgZGVzdEVsZW1lbnRzWyBpIF0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y2xvbmVDb3B5RXZlbnQoIGVsZW0sIGNsb25lICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHQvLyBQcmVzZXJ2ZSBzY3JpcHQgZXZhbHVhdGlvbiBoaXN0b3J5XG5cdFx0XHRkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lLCBcInNjcmlwdFwiICk7XG5cdFx0XHRpZiAoIGRlc3RFbGVtZW50cy5sZW5ndGggPiAwICkge1xuXHRcdFx0XHRzZXRHbG9iYWxFdmFsKCBkZXN0RWxlbWVudHMsICFpblBhZ2UgJiYgZ2V0QWxsKCBlbGVtLCBcInNjcmlwdFwiICkgKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBSZXR1cm4gdGhlIGNsb25lZCBzZXRcblx0XHRcdHJldHVybiBjbG9uZTtcblx0XHR9LFxuXHRcblx0XHRjbGVhbkRhdGE6IGZ1bmN0aW9uKCBlbGVtcyApIHtcblx0XHRcdHZhciBkYXRhLCBlbGVtLCB0eXBlLFxuXHRcdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWwsXG5cdFx0XHRcdGkgPSAwO1xuXHRcblx0XHRcdGZvciAoIDsgKCBlbGVtID0gZWxlbXNbIGkgXSApICE9PSB1bmRlZmluZWQ7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBhY2NlcHREYXRhKCBlbGVtICkgKSB7XG5cdFx0XHRcdFx0aWYgKCAoIGRhdGEgPSBlbGVtWyBkYXRhUHJpdi5leHBhbmRvIF0gKSApIHtcblx0XHRcdFx0XHRcdGlmICggZGF0YS5ldmVudHMgKSB7XG5cdFx0XHRcdFx0XHRcdGZvciAoIHR5cGUgaW4gZGF0YS5ldmVudHMgKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBzcGVjaWFsWyB0eXBlIF0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCBlbGVtLCB0eXBlICk7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdC8vIFRoaXMgaXMgYSBzaG9ydGN1dCB0byBhdm9pZCBqUXVlcnkuZXZlbnQucmVtb3ZlJ3Mgb3ZlcmhlYWRcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBkYXRhLmhhbmRsZSApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZSA8PTM1IC0gNDUrXG5cdFx0XHRcdFx0XHQvLyBBc3NpZ24gdW5kZWZpbmVkIGluc3RlYWQgb2YgdXNpbmcgZGVsZXRlLCBzZWUgRGF0YSNyZW1vdmVcblx0XHRcdFx0XHRcdGVsZW1bIGRhdGFQcml2LmV4cGFuZG8gXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCBlbGVtWyBkYXRhVXNlci5leHBhbmRvIF0gKSB7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NStcblx0XHRcdFx0XHRcdC8vIEFzc2lnbiB1bmRlZmluZWQgaW5zdGVhZCBvZiB1c2luZyBkZWxldGUsIHNlZSBEYXRhI3JlbW92ZVxuXHRcdFx0XHRcdFx0ZWxlbVsgZGF0YVVzZXIuZXhwYW5kbyBdID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSApO1xuXHRcblx0alF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRcdGRldGFjaDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdFx0cmV0dXJuIHJlbW92ZSggdGhpcywgc2VsZWN0b3IsIHRydWUgKTtcblx0XHR9LFxuXHRcblx0XHRyZW1vdmU6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRcdHJldHVybiByZW1vdmUoIHRoaXMsIHNlbGVjdG9yICk7XG5cdFx0fSxcblx0XG5cdFx0dGV4dDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdFx0alF1ZXJ5LnRleHQoIHRoaXMgKSA6XG5cdFx0XHRcdFx0dGhpcy5lbXB0eSgpLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMudGV4dENvbnRlbnQgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9ICk7XG5cdFx0XHR9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCApO1xuXHRcdH0sXG5cdFxuXHRcdGFwcGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHRcdHZhciB0YXJnZXQgPSBtYW5pcHVsYXRpb25UYXJnZXQoIHRoaXMsIGVsZW0gKTtcblx0XHRcdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoIGVsZW0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH0sXG5cdFxuXHRcdHByZXBlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0XHR2YXIgdGFyZ2V0ID0gbWFuaXB1bGF0aW9uVGFyZ2V0KCB0aGlzLCBlbGVtICk7XG5cdFx0XHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZSggZWxlbSwgdGFyZ2V0LmZpcnN0Q2hpbGQgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH0sXG5cdFxuXHRcdGJlZm9yZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdGlmICggdGhpcy5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRcdHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIGVsZW0sIHRoaXMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH0sXG5cdFxuXHRcdGFmdGVyOiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0aWYgKCB0aGlzLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdFx0dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZWxlbSwgdGhpcy5uZXh0U2libGluZyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fSxcblx0XG5cdFx0ZW1wdHk6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGVsZW0sXG5cdFx0XHRcdGkgPSAwO1xuXHRcblx0XHRcdGZvciAoIDsgKCBlbGVtID0gdGhpc1sgaSBdICkgIT0gbnVsbDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFxuXHRcdFx0XHRcdC8vIFByZXZlbnQgbWVtb3J5IGxlYWtzXG5cdFx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBlbGVtLCBmYWxzZSApICk7XG5cdFxuXHRcdFx0XHRcdC8vIFJlbW92ZSBhbnkgcmVtYWluaW5nIG5vZGVzXG5cdFx0XHRcdFx0ZWxlbS50ZXh0Q29udGVudCA9IFwiXCI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcblx0XHRjbG9uZTogZnVuY3Rpb24oIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICkge1xuXHRcdFx0ZGF0YUFuZEV2ZW50cyA9IGRhdGFBbmRFdmVudHMgPT0gbnVsbCA/IGZhbHNlIDogZGF0YUFuZEV2ZW50cztcblx0XHRcdGRlZXBEYXRhQW5kRXZlbnRzID0gZGVlcERhdGFBbmRFdmVudHMgPT0gbnVsbCA/IGRhdGFBbmRFdmVudHMgOiBkZWVwRGF0YUFuZEV2ZW50cztcblx0XG5cdFx0XHRyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4galF1ZXJ5LmNsb25lKCB0aGlzLCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApO1xuXHRcdFx0fSApO1xuXHRcdH0sXG5cdFxuXHRcdGh0bWw6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0dmFyIGVsZW0gPSB0aGlzWyAwIF0gfHwge30sXG5cdFx0XHRcdFx0aSA9IDAsXG5cdFx0XHRcdFx0bCA9IHRoaXMubGVuZ3RoO1xuXHRcblx0XHRcdFx0aWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVsZW0uaW5uZXJIVE1MO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBTZWUgaWYgd2UgY2FuIHRha2UgYSBzaG9ydGN1dCBhbmQganVzdCB1c2UgaW5uZXJIVE1MXG5cdFx0XHRcdGlmICggdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmICFybm9Jbm5lcmh0bWwudGVzdCggdmFsdWUgKSAmJlxuXHRcdFx0XHRcdCF3cmFwTWFwWyAoIHJ0YWdOYW1lLmV4ZWMoIHZhbHVlICkgfHwgWyBcIlwiLCBcIlwiIF0gKVsgMSBdLnRvTG93ZXJDYXNlKCkgXSApIHtcblx0XG5cdFx0XHRcdFx0dmFsdWUgPSBqUXVlcnkuaHRtbFByZWZpbHRlciggdmFsdWUgKTtcblx0XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0XHRcdFx0ZWxlbSA9IHRoaXNbIGkgXSB8fCB7fTtcblx0XG5cdFx0XHRcdFx0XHRcdC8vIFJlbW92ZSBlbGVtZW50IG5vZGVzIGFuZCBwcmV2ZW50IG1lbW9yeSBsZWFrc1xuXHRcdFx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBlbGVtLCBmYWxzZSApICk7XG5cdFx0XHRcdFx0XHRcdFx0ZWxlbS5pbm5lckhUTUwgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdGVsZW0gPSAwO1xuXHRcblx0XHRcdFx0XHQvLyBJZiB1c2luZyBpbm5lckhUTUwgdGhyb3dzIGFuIGV4Y2VwdGlvbiwgdXNlIHRoZSBmYWxsYmFjayBtZXRob2Rcblx0XHRcdFx0XHR9IGNhdGNoICggZSApIHt9XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGlmICggZWxlbSApIHtcblx0XHRcdFx0XHR0aGlzLmVtcHR5KCkuYXBwZW5kKCB2YWx1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCApO1xuXHRcdH0sXG5cdFxuXHRcdHJlcGxhY2VXaXRoOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpZ25vcmVkID0gW107XG5cdFxuXHRcdFx0Ly8gTWFrZSB0aGUgY2hhbmdlcywgcmVwbGFjaW5nIGVhY2ggbm9uLWlnbm9yZWQgY29udGV4dCBlbGVtZW50IHdpdGggdGhlIG5ldyBjb250ZW50XG5cdFx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XG5cdFxuXHRcdFx0XHRpZiAoIGpRdWVyeS5pbkFycmF5KCB0aGlzLCBpZ25vcmVkICkgPCAwICkge1xuXHRcdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggdGhpcyApICk7XG5cdFx0XHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cdFx0XHRcdFx0XHRwYXJlbnQucmVwbGFjZUNoaWxkKCBlbGVtLCB0aGlzICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0Ly8gRm9yY2UgY2FsbGJhY2sgaW52b2NhdGlvblxuXHRcdFx0fSwgaWdub3JlZCApO1xuXHRcdH1cblx0fSApO1xuXHRcblx0alF1ZXJ5LmVhY2goIHtcblx0XHRhcHBlbmRUbzogXCJhcHBlbmRcIixcblx0XHRwcmVwZW5kVG86IFwicHJlcGVuZFwiLFxuXHRcdGluc2VydEJlZm9yZTogXCJiZWZvcmVcIixcblx0XHRpbnNlcnRBZnRlcjogXCJhZnRlclwiLFxuXHRcdHJlcGxhY2VBbGw6IFwicmVwbGFjZVdpdGhcIlxuXHR9LCBmdW5jdGlvbiggbmFtZSwgb3JpZ2luYWwgKSB7XG5cdFx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHR2YXIgZWxlbXMsXG5cdFx0XHRcdHJldCA9IFtdLFxuXHRcdFx0XHRpbnNlcnQgPSBqUXVlcnkoIHNlbGVjdG9yICksXG5cdFx0XHRcdGxhc3QgPSBpbnNlcnQubGVuZ3RoIC0gMSxcblx0XHRcdFx0aSA9IDA7XG5cdFxuXHRcdFx0Zm9yICggOyBpIDw9IGxhc3Q7IGkrKyApIHtcblx0XHRcdFx0ZWxlbXMgPSBpID09PSBsYXN0ID8gdGhpcyA6IHRoaXMuY2xvbmUoIHRydWUgKTtcblx0XHRcdFx0alF1ZXJ5KCBpbnNlcnRbIGkgXSApWyBvcmlnaW5hbCBdKCBlbGVtcyApO1xuXHRcblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdC8vIC5nZXQoKSBiZWNhdXNlIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRcdFx0cHVzaC5hcHBseSggcmV0LCBlbGVtcy5nZXQoKSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggcmV0ICk7XG5cdFx0fTtcblx0fSApO1xuXHR2YXIgcm1hcmdpbiA9ICggL15tYXJnaW4vICk7XG5cdFxuXHR2YXIgcm51bW5vbnB4ID0gbmV3IFJlZ0V4cCggXCJeKFwiICsgcG51bSArIFwiKSg/IXB4KVthLXolXSskXCIsIFwiaVwiICk7XG5cdFxuXHR2YXIgZ2V0U3R5bGVzID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5LCBGaXJlZm94IDw9MzAgKCMxNTA5OCwgIzE0MTUwKVxuXHRcdFx0Ly8gSUUgdGhyb3dzIG9uIGVsZW1lbnRzIGNyZWF0ZWQgaW4gcG9wdXBzXG5cdFx0XHQvLyBGRiBtZWFud2hpbGUgdGhyb3dzIG9uIGZyYW1lIGVsZW1lbnRzIHRocm91Z2ggXCJkZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlXCJcblx0XHRcdHZhciB2aWV3ID0gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xuXHRcblx0XHRcdGlmICggIXZpZXcgfHwgIXZpZXcub3BlbmVyICkge1xuXHRcdFx0XHR2aWV3ID0gd2luZG93O1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiB2aWV3LmdldENvbXB1dGVkU3R5bGUoIGVsZW0gKTtcblx0XHR9O1xuXHRcblx0XG5cdFxuXHQoIGZ1bmN0aW9uKCkge1xuXHRcblx0XHQvLyBFeGVjdXRpbmcgYm90aCBwaXhlbFBvc2l0aW9uICYgYm94U2l6aW5nUmVsaWFibGUgdGVzdHMgcmVxdWlyZSBvbmx5IG9uZSBsYXlvdXRcblx0XHQvLyBzbyB0aGV5J3JlIGV4ZWN1dGVkIGF0IHRoZSBzYW1lIHRpbWUgdG8gc2F2ZSB0aGUgc2Vjb25kIGNvbXB1dGF0aW9uLlxuXHRcdGZ1bmN0aW9uIGNvbXB1dGVTdHlsZVRlc3RzKCkge1xuXHRcblx0XHRcdC8vIFRoaXMgaXMgYSBzaW5nbGV0b24sIHdlIG5lZWQgdG8gZXhlY3V0ZSBpdCBvbmx5IG9uY2Vcblx0XHRcdGlmICggIWRpdiApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdGRpdi5zdHlsZS5jc3NUZXh0ID1cblx0XHRcdFx0XCJib3gtc2l6aW5nOmJvcmRlci1ib3g7XCIgK1xuXHRcdFx0XHRcInBvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7XCIgK1xuXHRcdFx0XHRcIm1hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7XCIgK1xuXHRcdFx0XHRcInRvcDoxJTt3aWR0aDo1MCVcIjtcblx0XHRcdGRpdi5pbm5lckhUTUwgPSBcIlwiO1xuXHRcdFx0ZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKCBjb250YWluZXIgKTtcblx0XG5cdFx0XHR2YXIgZGl2U3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggZGl2ICk7XG5cdFx0XHRwaXhlbFBvc2l0aW9uVmFsID0gZGl2U3R5bGUudG9wICE9PSBcIjElXCI7XG5cdFxuXHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seSwgRmlyZWZveCA8PTMgLSA0NFxuXHRcdFx0cmVsaWFibGVNYXJnaW5MZWZ0VmFsID0gZGl2U3R5bGUubWFyZ2luTGVmdCA9PT0gXCIycHhcIjtcblx0XHRcdGJveFNpemluZ1JlbGlhYmxlVmFsID0gZGl2U3R5bGUud2lkdGggPT09IFwiNHB4XCI7XG5cdFxuXHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seVxuXHRcdFx0Ly8gU29tZSBzdHlsZXMgY29tZSBiYWNrIHdpdGggcGVyY2VudGFnZSB2YWx1ZXMsIGV2ZW4gdGhvdWdoIHRoZXkgc2hvdWxkbid0XG5cdFx0XHRkaXYuc3R5bGUubWFyZ2luUmlnaHQgPSBcIjUwJVwiO1xuXHRcdFx0cGl4ZWxNYXJnaW5SaWdodFZhbCA9IGRpdlN0eWxlLm1hcmdpblJpZ2h0ID09PSBcIjRweFwiO1xuXHRcblx0XHRcdGRvY3VtZW50RWxlbWVudC5yZW1vdmVDaGlsZCggY29udGFpbmVyICk7XG5cdFxuXHRcdFx0Ly8gTnVsbGlmeSB0aGUgZGl2IHNvIGl0IHdvdWxkbid0IGJlIHN0b3JlZCBpbiB0aGUgbWVtb3J5IGFuZFxuXHRcdFx0Ly8gaXQgd2lsbCBhbHNvIGJlIGEgc2lnbiB0aGF0IGNoZWNrcyBhbHJlYWR5IHBlcmZvcm1lZFxuXHRcdFx0ZGl2ID0gbnVsbDtcblx0XHR9XG5cdFxuXHRcdHZhciBwaXhlbFBvc2l0aW9uVmFsLCBib3hTaXppbmdSZWxpYWJsZVZhbCwgcGl4ZWxNYXJnaW5SaWdodFZhbCwgcmVsaWFibGVNYXJnaW5MZWZ0VmFsLFxuXHRcdFx0Y29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApLFxuXHRcdFx0ZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xuXHRcblx0XHQvLyBGaW5pc2ggZWFybHkgaW4gbGltaXRlZCAobm9uLWJyb3dzZXIpIGVudmlyb25tZW50c1xuXHRcdGlmICggIWRpdi5zdHlsZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0XHQvLyBTdHlsZSBvZiBjbG9uZWQgZWxlbWVudCBhZmZlY3RzIHNvdXJjZSBlbGVtZW50IGNsb25lZCAoIzg5MDgpXG5cdFx0ZGl2LnN0eWxlLmJhY2tncm91bmRDbGlwID0gXCJjb250ZW50LWJveFwiO1xuXHRcdGRpdi5jbG9uZU5vZGUoIHRydWUgKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9IFwiXCI7XG5cdFx0c3VwcG9ydC5jbGVhckNsb25lU3R5bGUgPSBkaXYuc3R5bGUuYmFja2dyb3VuZENsaXAgPT09IFwiY29udGVudC1ib3hcIjtcblx0XG5cdFx0Y29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBcImJvcmRlcjowO3dpZHRoOjhweDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHg7XCIgK1xuXHRcdFx0XCJwYWRkaW5nOjA7bWFyZ2luLXRvcDoxcHg7cG9zaXRpb246YWJzb2x1dGVcIjtcblx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQoIGRpdiApO1xuXHRcblx0XHRqUXVlcnkuZXh0ZW5kKCBzdXBwb3J0LCB7XG5cdFx0XHRwaXhlbFBvc2l0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcblx0XHRcdFx0cmV0dXJuIHBpeGVsUG9zaXRpb25WYWw7XG5cdFx0XHR9LFxuXHRcdFx0Ym94U2l6aW5nUmVsaWFibGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0XHRyZXR1cm4gYm94U2l6aW5nUmVsaWFibGVWYWw7XG5cdFx0XHR9LFxuXHRcdFx0cGl4ZWxNYXJnaW5SaWdodDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRcdHJldHVybiBwaXhlbE1hcmdpblJpZ2h0VmFsO1xuXHRcdFx0fSxcblx0XHRcdHJlbGlhYmxlTWFyZ2luTGVmdDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRcdHJldHVybiByZWxpYWJsZU1hcmdpbkxlZnRWYWw7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9ICkoKTtcblx0XG5cdFxuXHRmdW5jdGlvbiBjdXJDU1MoIGVsZW0sIG5hbWUsIGNvbXB1dGVkICkge1xuXHRcdHZhciB3aWR0aCwgbWluV2lkdGgsIG1heFdpZHRoLCByZXQsXG5cdFx0XHRzdHlsZSA9IGVsZW0uc3R5bGU7XG5cdFxuXHRcdGNvbXB1dGVkID0gY29tcHV0ZWQgfHwgZ2V0U3R5bGVzKCBlbGVtICk7XG5cdFxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdFx0Ly8gZ2V0UHJvcGVydHlWYWx1ZSBpcyBvbmx5IG5lZWRlZCBmb3IgLmNzcygnZmlsdGVyJykgKCMxMjUzNylcblx0XHRpZiAoIGNvbXB1dGVkICkge1xuXHRcdFx0cmV0ID0gY29tcHV0ZWQuZ2V0UHJvcGVydHlWYWx1ZSggbmFtZSApIHx8IGNvbXB1dGVkWyBuYW1lIF07XG5cdFxuXHRcdFx0aWYgKCByZXQgPT09IFwiXCIgJiYgIWpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICkgKSB7XG5cdFx0XHRcdHJldCA9IGpRdWVyeS5zdHlsZSggZWxlbSwgbmFtZSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEEgdHJpYnV0ZSB0byB0aGUgXCJhd2Vzb21lIGhhY2sgYnkgRGVhbiBFZHdhcmRzXCJcblx0XHRcdC8vIEFuZHJvaWQgQnJvd3NlciByZXR1cm5zIHBlcmNlbnRhZ2UgZm9yIHNvbWUgdmFsdWVzLFxuXHRcdFx0Ly8gYnV0IHdpZHRoIHNlZW1zIHRvIGJlIHJlbGlhYmx5IHBpeGVscy5cblx0XHRcdC8vIFRoaXMgaXMgYWdhaW5zdCB0aGUgQ1NTT00gZHJhZnQgc3BlYzpcblx0XHRcdC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jcmVzb2x2ZWQtdmFsdWVzXG5cdFx0XHRpZiAoICFzdXBwb3J0LnBpeGVsTWFyZ2luUmlnaHQoKSAmJiBybnVtbm9ucHgudGVzdCggcmV0ICkgJiYgcm1hcmdpbi50ZXN0KCBuYW1lICkgKSB7XG5cdFxuXHRcdFx0XHQvLyBSZW1lbWJlciB0aGUgb3JpZ2luYWwgdmFsdWVzXG5cdFx0XHRcdHdpZHRoID0gc3R5bGUud2lkdGg7XG5cdFx0XHRcdG1pbldpZHRoID0gc3R5bGUubWluV2lkdGg7XG5cdFx0XHRcdG1heFdpZHRoID0gc3R5bGUubWF4V2lkdGg7XG5cdFxuXHRcdFx0XHQvLyBQdXQgaW4gdGhlIG5ldyB2YWx1ZXMgdG8gZ2V0IGEgY29tcHV0ZWQgdmFsdWUgb3V0XG5cdFx0XHRcdHN0eWxlLm1pbldpZHRoID0gc3R5bGUubWF4V2lkdGggPSBzdHlsZS53aWR0aCA9IHJldDtcblx0XHRcdFx0cmV0ID0gY29tcHV0ZWQud2lkdGg7XG5cdFxuXHRcdFx0XHQvLyBSZXZlcnQgdGhlIGNoYW5nZWQgdmFsdWVzXG5cdFx0XHRcdHN0eWxlLndpZHRoID0gd2lkdGg7XG5cdFx0XHRcdHN0eWxlLm1pbldpZHRoID0gbWluV2lkdGg7XG5cdFx0XHRcdHN0eWxlLm1heFdpZHRoID0gbWF4V2lkdGg7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gcmV0ICE9PSB1bmRlZmluZWQgP1xuXHRcblx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0XHRcdC8vIElFIHJldHVybnMgekluZGV4IHZhbHVlIGFzIGFuIGludGVnZXIuXG5cdFx0XHRyZXQgKyBcIlwiIDpcblx0XHRcdHJldDtcblx0fVxuXHRcblx0XG5cdGZ1bmN0aW9uIGFkZEdldEhvb2tJZiggY29uZGl0aW9uRm4sIGhvb2tGbiApIHtcblx0XG5cdFx0Ly8gRGVmaW5lIHRoZSBob29rLCB3ZSdsbCBjaGVjayBvbiB0aGUgZmlyc3QgcnVuIGlmIGl0J3MgcmVhbGx5IG5lZWRlZC5cblx0XHRyZXR1cm4ge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBjb25kaXRpb25GbigpICkge1xuXHRcblx0XHRcdFx0XHQvLyBIb29rIG5vdCBuZWVkZWQgKG9yIGl0J3Mgbm90IHBvc3NpYmxlIHRvIHVzZSBpdCBkdWVcblx0XHRcdFx0XHQvLyB0byBtaXNzaW5nIGRlcGVuZGVuY3kpLCByZW1vdmUgaXQuXG5cdFx0XHRcdFx0ZGVsZXRlIHRoaXMuZ2V0O1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gSG9vayBuZWVkZWQ7IHJlZGVmaW5lIGl0IHNvIHRoYXQgdGhlIHN1cHBvcnQgdGVzdCBpcyBub3QgZXhlY3V0ZWQgYWdhaW4uXG5cdFx0XHRcdHJldHVybiAoIHRoaXMuZ2V0ID0gaG9va0ZuICkuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblx0XG5cdFxuXHR2YXJcblx0XG5cdFx0Ly8gU3dhcHBhYmxlIGlmIGRpc3BsYXkgaXMgbm9uZSBvciBzdGFydHMgd2l0aCB0YWJsZVxuXHRcdC8vIGV4Y2VwdCBcInRhYmxlXCIsIFwidGFibGUtY2VsbFwiLCBvciBcInRhYmxlLWNhcHRpb25cIlxuXHRcdC8vIFNlZSBoZXJlIGZvciBkaXNwbGF5IHZhbHVlczogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9DU1MvZGlzcGxheVxuXHRcdHJkaXNwbGF5c3dhcCA9IC9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxcblx0XHRjc3NTaG93ID0geyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCB2aXNpYmlsaXR5OiBcImhpZGRlblwiLCBkaXNwbGF5OiBcImJsb2NrXCIgfSxcblx0XHRjc3NOb3JtYWxUcmFuc2Zvcm0gPSB7XG5cdFx0XHRsZXR0ZXJTcGFjaW5nOiBcIjBcIixcblx0XHRcdGZvbnRXZWlnaHQ6IFwiNDAwXCJcblx0XHR9LFxuXHRcblx0XHRjc3NQcmVmaXhlcyA9IFsgXCJXZWJraXRcIiwgXCJNb3pcIiwgXCJtc1wiIF0sXG5cdFx0ZW1wdHlTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKS5zdHlsZTtcblx0XG5cdC8vIFJldHVybiBhIGNzcyBwcm9wZXJ0eSBtYXBwZWQgdG8gYSBwb3RlbnRpYWxseSB2ZW5kb3IgcHJlZml4ZWQgcHJvcGVydHlcblx0ZnVuY3Rpb24gdmVuZG9yUHJvcE5hbWUoIG5hbWUgKSB7XG5cdFxuXHRcdC8vIFNob3J0Y3V0IGZvciBuYW1lcyB0aGF0IGFyZSBub3QgdmVuZG9yIHByZWZpeGVkXG5cdFx0aWYgKCBuYW1lIGluIGVtcHR5U3R5bGUgKSB7XG5cdFx0XHRyZXR1cm4gbmFtZTtcblx0XHR9XG5cdFxuXHRcdC8vIENoZWNrIGZvciB2ZW5kb3IgcHJlZml4ZWQgbmFtZXNcblx0XHR2YXIgY2FwTmFtZSA9IG5hbWVbIDAgXS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSggMSApLFxuXHRcdFx0aSA9IGNzc1ByZWZpeGVzLmxlbmd0aDtcblx0XG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRuYW1lID0gY3NzUHJlZml4ZXNbIGkgXSArIGNhcE5hbWU7XG5cdFx0XHRpZiAoIG5hbWUgaW4gZW1wdHlTdHlsZSApIHtcblx0XHRcdFx0cmV0dXJuIG5hbWU7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBzZXRQb3NpdGl2ZU51bWJlciggZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICkge1xuXHRcblx0XHQvLyBBbnkgcmVsYXRpdmUgKCsvLSkgdmFsdWVzIGhhdmUgYWxyZWFkeSBiZWVuXG5cdFx0Ly8gbm9ybWFsaXplZCBhdCB0aGlzIHBvaW50XG5cdFx0dmFyIG1hdGNoZXMgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICk7XG5cdFx0cmV0dXJuIG1hdGNoZXMgP1xuXHRcblx0XHRcdC8vIEd1YXJkIGFnYWluc3QgdW5kZWZpbmVkIFwic3VidHJhY3RcIiwgZS5nLiwgd2hlbiB1c2VkIGFzIGluIGNzc0hvb2tzXG5cdFx0XHRNYXRoLm1heCggMCwgbWF0Y2hlc1sgMiBdIC0gKCBzdWJ0cmFjdCB8fCAwICkgKSArICggbWF0Y2hlc1sgMyBdIHx8IFwicHhcIiApIDpcblx0XHRcdHZhbHVlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhdWdtZW50V2lkdGhPckhlaWdodCggZWxlbSwgbmFtZSwgZXh0cmEsIGlzQm9yZGVyQm94LCBzdHlsZXMgKSB7XG5cdFx0dmFyIGkgPSBleHRyYSA9PT0gKCBpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIiApID9cblx0XG5cdFx0XHQvLyBJZiB3ZSBhbHJlYWR5IGhhdmUgdGhlIHJpZ2h0IG1lYXN1cmVtZW50LCBhdm9pZCBhdWdtZW50YXRpb25cblx0XHRcdDQgOlxuXHRcblx0XHRcdC8vIE90aGVyd2lzZSBpbml0aWFsaXplIGZvciBob3Jpem9udGFsIG9yIHZlcnRpY2FsIHByb3BlcnRpZXNcblx0XHRcdG5hbWUgPT09IFwid2lkdGhcIiA/IDEgOiAwLFxuXHRcblx0XHRcdHZhbCA9IDA7XG5cdFxuXHRcdGZvciAoIDsgaSA8IDQ7IGkgKz0gMiApIHtcblx0XG5cdFx0XHQvLyBCb3RoIGJveCBtb2RlbHMgZXhjbHVkZSBtYXJnaW4sIHNvIGFkZCBpdCBpZiB3ZSB3YW50IGl0XG5cdFx0XHRpZiAoIGV4dHJhID09PSBcIm1hcmdpblwiICkge1xuXHRcdFx0XHR2YWwgKz0galF1ZXJ5LmNzcyggZWxlbSwgZXh0cmEgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCBpc0JvcmRlckJveCApIHtcblx0XG5cdFx0XHRcdC8vIGJvcmRlci1ib3ggaW5jbHVkZXMgcGFkZGluZywgc28gcmVtb3ZlIGl0IGlmIHdlIHdhbnQgY29udGVudFxuXHRcdFx0XHRpZiAoIGV4dHJhID09PSBcImNvbnRlbnRcIiApIHtcblx0XHRcdFx0XHR2YWwgLT0galF1ZXJ5LmNzcyggZWxlbSwgXCJwYWRkaW5nXCIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIEF0IHRoaXMgcG9pbnQsIGV4dHJhIGlzbid0IGJvcmRlciBub3IgbWFyZ2luLCBzbyByZW1vdmUgYm9yZGVyXG5cdFx0XHRcdGlmICggZXh0cmEgIT09IFwibWFyZ2luXCIgKSB7XG5cdFx0XHRcdFx0dmFsIC09IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm9yZGVyXCIgKyBjc3NFeHBhbmRbIGkgXSArIFwiV2lkdGhcIiwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFxuXHRcdFx0XHQvLyBBdCB0aGlzIHBvaW50LCBleHRyYSBpc24ndCBjb250ZW50LCBzbyBhZGQgcGFkZGluZ1xuXHRcdFx0XHR2YWwgKz0galF1ZXJ5LmNzcyggZWxlbSwgXCJwYWRkaW5nXCIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cdFxuXHRcdFx0XHQvLyBBdCB0aGlzIHBvaW50LCBleHRyYSBpc24ndCBjb250ZW50IG5vciBwYWRkaW5nLCBzbyBhZGQgYm9yZGVyXG5cdFx0XHRcdGlmICggZXh0cmEgIT09IFwicGFkZGluZ1wiICkge1xuXHRcdFx0XHRcdHZhbCArPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kWyBpIF0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gdmFsO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSApIHtcblx0XG5cdFx0Ly8gU3RhcnQgd2l0aCBvZmZzZXQgcHJvcGVydHksIHdoaWNoIGlzIGVxdWl2YWxlbnQgdG8gdGhlIGJvcmRlci1ib3ggdmFsdWVcblx0XHR2YXIgdmFsLFxuXHRcdFx0dmFsdWVJc0JvcmRlckJveCA9IHRydWUsXG5cdFx0XHRzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKSxcblx0XHRcdGlzQm9yZGVyQm94ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIjtcblx0XG5cdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdFx0Ly8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYSBkaXNjb25uZWN0ZWQgbm9kZVxuXHRcdC8vIGluIElFIHRocm93cyBhbiBlcnJvci5cblx0XHRpZiAoIGVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKSB7XG5cdFx0XHR2YWwgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpWyBuYW1lIF07XG5cdFx0fVxuXHRcblx0XHQvLyBTb21lIG5vbi1odG1sIGVsZW1lbnRzIHJldHVybiB1bmRlZmluZWQgZm9yIG9mZnNldFdpZHRoLCBzbyBjaGVjayBmb3IgbnVsbC91bmRlZmluZWRcblx0XHQvLyBzdmcgLSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02NDkyODVcblx0XHQvLyBNYXRoTUwgLSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD00OTE2Njhcblx0XHRpZiAoIHZhbCA8PSAwIHx8IHZhbCA9PSBudWxsICkge1xuXHRcblx0XHRcdC8vIEZhbGwgYmFjayB0byBjb21wdXRlZCB0aGVuIHVuY29tcHV0ZWQgY3NzIGlmIG5lY2Vzc2FyeVxuXHRcdFx0dmFsID0gY3VyQ1NTKCBlbGVtLCBuYW1lLCBzdHlsZXMgKTtcblx0XHRcdGlmICggdmFsIDwgMCB8fCB2YWwgPT0gbnVsbCApIHtcblx0XHRcdFx0dmFsID0gZWxlbS5zdHlsZVsgbmFtZSBdO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIENvbXB1dGVkIHVuaXQgaXMgbm90IHBpeGVscy4gU3RvcCBoZXJlIGFuZCByZXR1cm4uXG5cdFx0XHRpZiAoIHJudW1ub25weC50ZXN0KCB2YWwgKSApIHtcblx0XHRcdFx0cmV0dXJuIHZhbDtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBDaGVjayBmb3Igc3R5bGUgaW4gY2FzZSBhIGJyb3dzZXIgd2hpY2ggcmV0dXJucyB1bnJlbGlhYmxlIHZhbHVlc1xuXHRcdFx0Ly8gZm9yIGdldENvbXB1dGVkU3R5bGUgc2lsZW50bHkgZmFsbHMgYmFjayB0byB0aGUgcmVsaWFibGUgZWxlbS5zdHlsZVxuXHRcdFx0dmFsdWVJc0JvcmRlckJveCA9IGlzQm9yZGVyQm94ICYmXG5cdFx0XHRcdCggc3VwcG9ydC5ib3hTaXppbmdSZWxpYWJsZSgpIHx8IHZhbCA9PT0gZWxlbS5zdHlsZVsgbmFtZSBdICk7XG5cdFxuXHRcdFx0Ly8gTm9ybWFsaXplIFwiXCIsIGF1dG8sIGFuZCBwcmVwYXJlIGZvciBleHRyYVxuXHRcdFx0dmFsID0gcGFyc2VGbG9hdCggdmFsICkgfHwgMDtcblx0XHR9XG5cdFxuXHRcdC8vIFVzZSB0aGUgYWN0aXZlIGJveC1zaXppbmcgbW9kZWwgdG8gYWRkL3N1YnRyYWN0IGlycmVsZXZhbnQgc3R5bGVzXG5cdFx0cmV0dXJuICggdmFsICtcblx0XHRcdGF1Z21lbnRXaWR0aE9ySGVpZ2h0KFxuXHRcdFx0XHRlbGVtLFxuXHRcdFx0XHRuYW1lLFxuXHRcdFx0XHRleHRyYSB8fCAoIGlzQm9yZGVyQm94ID8gXCJib3JkZXJcIiA6IFwiY29udGVudFwiICksXG5cdFx0XHRcdHZhbHVlSXNCb3JkZXJCb3gsXG5cdFx0XHRcdHN0eWxlc1xuXHRcdFx0KVxuXHRcdCkgKyBcInB4XCI7XG5cdH1cblx0XG5cdGpRdWVyeS5leHRlbmQoIHtcblx0XG5cdFx0Ly8gQWRkIGluIHN0eWxlIHByb3BlcnR5IGhvb2tzIGZvciBvdmVycmlkaW5nIHRoZSBkZWZhdWx0XG5cdFx0Ly8gYmVoYXZpb3Igb2YgZ2V0dGluZyBhbmQgc2V0dGluZyBhIHN0eWxlIHByb3BlcnR5XG5cdFx0Y3NzSG9va3M6IHtcblx0XHRcdG9wYWNpdHk6IHtcblx0XHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7XG5cdFx0XHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblx0XG5cdFx0XHRcdFx0XHQvLyBXZSBzaG91bGQgYWx3YXlzIGdldCBhIG51bWJlciBiYWNrIGZyb20gb3BhY2l0eVxuXHRcdFx0XHRcdFx0dmFyIHJldCA9IGN1ckNTUyggZWxlbSwgXCJvcGFjaXR5XCIgKTtcblx0XHRcdFx0XHRcdHJldHVybiByZXQgPT09IFwiXCIgPyBcIjFcIiA6IHJldDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHQvLyBEb24ndCBhdXRvbWF0aWNhbGx5IGFkZCBcInB4XCIgdG8gdGhlc2UgcG9zc2libHktdW5pdGxlc3MgcHJvcGVydGllc1xuXHRcdGNzc051bWJlcjoge1xuXHRcdFx0XCJhbmltYXRpb25JdGVyYXRpb25Db3VudFwiOiB0cnVlLFxuXHRcdFx0XCJjb2x1bW5Db3VudFwiOiB0cnVlLFxuXHRcdFx0XCJmaWxsT3BhY2l0eVwiOiB0cnVlLFxuXHRcdFx0XCJmbGV4R3Jvd1wiOiB0cnVlLFxuXHRcdFx0XCJmbGV4U2hyaW5rXCI6IHRydWUsXG5cdFx0XHRcImZvbnRXZWlnaHRcIjogdHJ1ZSxcblx0XHRcdFwibGluZUhlaWdodFwiOiB0cnVlLFxuXHRcdFx0XCJvcGFjaXR5XCI6IHRydWUsXG5cdFx0XHRcIm9yZGVyXCI6IHRydWUsXG5cdFx0XHRcIm9ycGhhbnNcIjogdHJ1ZSxcblx0XHRcdFwid2lkb3dzXCI6IHRydWUsXG5cdFx0XHRcInpJbmRleFwiOiB0cnVlLFxuXHRcdFx0XCJ6b29tXCI6IHRydWVcblx0XHR9LFxuXHRcblx0XHQvLyBBZGQgaW4gcHJvcGVydGllcyB3aG9zZSBuYW1lcyB5b3Ugd2lzaCB0byBmaXggYmVmb3JlXG5cdFx0Ly8gc2V0dGluZyBvciBnZXR0aW5nIHRoZSB2YWx1ZVxuXHRcdGNzc1Byb3BzOiB7XG5cdFx0XHRcImZsb2F0XCI6IFwiY3NzRmxvYXRcIlxuXHRcdH0sXG5cdFxuXHRcdC8vIEdldCBhbmQgc2V0IHRoZSBzdHlsZSBwcm9wZXJ0eSBvbiBhIERPTSBOb2RlXG5cdFx0c3R5bGU6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSwgZXh0cmEgKSB7XG5cdFxuXHRcdFx0Ly8gRG9uJ3Qgc2V0IHN0eWxlcyBvbiB0ZXh0IGFuZCBjb21tZW50IG5vZGVzXG5cdFx0XHRpZiAoICFlbGVtIHx8IGVsZW0ubm9kZVR5cGUgPT09IDMgfHwgZWxlbS5ub2RlVHlwZSA9PT0gOCB8fCAhZWxlbS5zdHlsZSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZVxuXHRcdFx0dmFyIHJldCwgdHlwZSwgaG9va3MsXG5cdFx0XHRcdG9yaWdOYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZSApLFxuXHRcdFx0XHRzdHlsZSA9IGVsZW0uc3R5bGU7XG5cdFxuXHRcdFx0bmFtZSA9IGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSB8fFxuXHRcdFx0XHQoIGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSA9IHZlbmRvclByb3BOYW1lKCBvcmlnTmFtZSApIHx8IG9yaWdOYW1lICk7XG5cdFxuXHRcdFx0Ly8gR2V0cyBob29rIGZvciB0aGUgcHJlZml4ZWQgdmVyc2lvbiwgdGhlbiB1bnByZWZpeGVkIHZlcnNpb25cblx0XHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gfHwgalF1ZXJ5LmNzc0hvb2tzWyBvcmlnTmFtZSBdO1xuXHRcblx0XHRcdC8vIENoZWNrIGlmIHdlJ3JlIHNldHRpbmcgYSB2YWx1ZVxuXHRcdFx0aWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHR0eXBlID0gdHlwZW9mIHZhbHVlO1xuXHRcblx0XHRcdFx0Ly8gQ29udmVydCBcIis9XCIgb3IgXCItPVwiIHRvIHJlbGF0aXZlIG51bWJlcnMgKCM3MzQ1KVxuXHRcdFx0XHRpZiAoIHR5cGUgPT09IFwic3RyaW5nXCIgJiYgKCByZXQgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICkgKSAmJiByZXRbIDEgXSApIHtcblx0XHRcdFx0XHR2YWx1ZSA9IGFkanVzdENTUyggZWxlbSwgbmFtZSwgcmV0ICk7XG5cdFxuXHRcdFx0XHRcdC8vIEZpeGVzIGJ1ZyAjOTIzN1xuXHRcdFx0XHRcdHR5cGUgPSBcIm51bWJlclwiO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBNYWtlIHN1cmUgdGhhdCBudWxsIGFuZCBOYU4gdmFsdWVzIGFyZW4ndCBzZXQgKCM3MTE2KVxuXHRcdFx0XHRpZiAoIHZhbHVlID09IG51bGwgfHwgdmFsdWUgIT09IHZhbHVlICkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gSWYgYSBudW1iZXIgd2FzIHBhc3NlZCBpbiwgYWRkIHRoZSB1bml0IChleGNlcHQgZm9yIGNlcnRhaW4gQ1NTIHByb3BlcnRpZXMpXG5cdFx0XHRcdGlmICggdHlwZSA9PT0gXCJudW1iZXJcIiApIHtcblx0XHRcdFx0XHR2YWx1ZSArPSByZXQgJiYgcmV0WyAzIF0gfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBvcmlnTmFtZSBdID8gXCJcIiA6IFwicHhcIiApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBiYWNrZ3JvdW5kLSogcHJvcHMgYWZmZWN0IG9yaWdpbmFsIGNsb25lJ3MgdmFsdWVzXG5cdFx0XHRcdGlmICggIXN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlICYmIHZhbHVlID09PSBcIlwiICYmIG5hbWUuaW5kZXhPZiggXCJiYWNrZ3JvdW5kXCIgKSA9PT0gMCApIHtcblx0XHRcdFx0XHRzdHlsZVsgbmFtZSBdID0gXCJpbmhlcml0XCI7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQsIHVzZSB0aGF0IHZhbHVlLCBvdGhlcndpc2UganVzdCBzZXQgdGhlIHNwZWNpZmllZCB2YWx1ZVxuXHRcdFx0XHRpZiAoICFob29rcyB8fCAhKCBcInNldFwiIGluIGhvb2tzICkgfHxcblx0XHRcdFx0XHQoIHZhbHVlID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgZXh0cmEgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cdFxuXHRcdFx0XHRcdHN0eWxlWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdH0gZWxzZSB7XG5cdFxuXHRcdFx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkIGdldCB0aGUgbm9uLWNvbXB1dGVkIHZhbHVlIGZyb20gdGhlcmVcblx0XHRcdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmXG5cdFx0XHRcdFx0KCByZXQgPSBob29rcy5nZXQoIGVsZW0sIGZhbHNlLCBleHRyYSApICkgIT09IHVuZGVmaW5lZCApIHtcblx0XG5cdFx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIGp1c3QgZ2V0IHRoZSB2YWx1ZSBmcm9tIHRoZSBzdHlsZSBvYmplY3Rcblx0XHRcdFx0cmV0dXJuIHN0eWxlWyBuYW1lIF07XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0Y3NzOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZXh0cmEsIHN0eWxlcyApIHtcblx0XHRcdHZhciB2YWwsIG51bSwgaG9va3MsXG5cdFx0XHRcdG9yaWdOYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZSApO1xuXHRcblx0XHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZVxuXHRcdFx0bmFtZSA9IGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSB8fFxuXHRcdFx0XHQoIGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSA9IHZlbmRvclByb3BOYW1lKCBvcmlnTmFtZSApIHx8IG9yaWdOYW1lICk7XG5cdFxuXHRcdFx0Ly8gVHJ5IHByZWZpeGVkIG5hbWUgZm9sbG93ZWQgYnkgdGhlIHVucHJlZml4ZWQgbmFtZVxuXHRcdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXSB8fCBqUXVlcnkuY3NzSG9va3NbIG9yaWdOYW1lIF07XG5cdFxuXHRcdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIGNvbXB1dGVkIHZhbHVlIGZyb20gdGhlcmVcblx0XHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyApIHtcblx0XHRcdFx0dmFsID0gaG9va3MuZ2V0KCBlbGVtLCB0cnVlLCBleHRyYSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIE90aGVyd2lzZSwgaWYgYSB3YXkgdG8gZ2V0IHRoZSBjb21wdXRlZCB2YWx1ZSBleGlzdHMsIHVzZSB0aGF0XG5cdFx0XHRpZiAoIHZhbCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHR2YWwgPSBjdXJDU1MoIGVsZW0sIG5hbWUsIHN0eWxlcyApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIENvbnZlcnQgXCJub3JtYWxcIiB0byBjb21wdXRlZCB2YWx1ZVxuXHRcdFx0aWYgKCB2YWwgPT09IFwibm9ybWFsXCIgJiYgbmFtZSBpbiBjc3NOb3JtYWxUcmFuc2Zvcm0gKSB7XG5cdFx0XHRcdHZhbCA9IGNzc05vcm1hbFRyYW5zZm9ybVsgbmFtZSBdO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIE1ha2UgbnVtZXJpYyBpZiBmb3JjZWQgb3IgYSBxdWFsaWZpZXIgd2FzIHByb3ZpZGVkIGFuZCB2YWwgbG9va3MgbnVtZXJpY1xuXHRcdFx0aWYgKCBleHRyYSA9PT0gXCJcIiB8fCBleHRyYSApIHtcblx0XHRcdFx0bnVtID0gcGFyc2VGbG9hdCggdmFsICk7XG5cdFx0XHRcdHJldHVybiBleHRyYSA9PT0gdHJ1ZSB8fCBpc0Zpbml0ZSggbnVtICkgPyBudW0gfHwgMCA6IHZhbDtcblx0XHRcdH1cblx0XHRcdHJldHVybiB2YWw7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRqUXVlcnkuZWFjaCggWyBcImhlaWdodFwiLCBcIndpZHRoXCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdFx0alF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gPSB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCwgZXh0cmEgKSB7XG5cdFx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cdFxuXHRcdFx0XHRcdC8vIENlcnRhaW4gZWxlbWVudHMgY2FuIGhhdmUgZGltZW5zaW9uIGluZm8gaWYgd2UgaW52aXNpYmx5IHNob3cgdGhlbVxuXHRcdFx0XHRcdC8vIGJ1dCBpdCBtdXN0IGhhdmUgYSBjdXJyZW50IGRpc3BsYXkgc3R5bGUgdGhhdCB3b3VsZCBiZW5lZml0XG5cdFx0XHRcdFx0cmV0dXJuIHJkaXNwbGF5c3dhcC50ZXN0KCBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApICkgJiZcblx0XG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBTYWZhcmkgOCtcblx0XHRcdFx0XHRcdC8vIFRhYmxlIGNvbHVtbnMgaW4gU2FmYXJpIGhhdmUgbm9uLXplcm8gb2Zmc2V0V2lkdGggJiB6ZXJvXG5cdFx0XHRcdFx0XHQvLyBnZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCB1bmxlc3MgZGlzcGxheSBpcyBjaGFuZ2VkLlxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdFx0XHRcdFx0XHQvLyBSdW5uaW5nIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBvbiBhIGRpc2Nvbm5lY3RlZCBub2RlXG5cdFx0XHRcdFx0XHQvLyBpbiBJRSB0aHJvd3MgYW4gZXJyb3IuXG5cdFx0XHRcdFx0XHQoICFlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoIHx8ICFlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICkgP1xuXHRcdFx0XHRcdFx0XHRzd2FwKCBlbGVtLCBjc3NTaG93LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZ2V0V2lkdGhPckhlaWdodCggZWxlbSwgbmFtZSwgZXh0cmEgKTtcblx0XHRcdFx0XHRcdFx0fSApIDpcblx0XHRcdFx0XHRcdFx0Z2V0V2lkdGhPckhlaWdodCggZWxlbSwgbmFtZSwgZXh0cmEgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSwgZXh0cmEgKSB7XG5cdFx0XHRcdHZhciBtYXRjaGVzLFxuXHRcdFx0XHRcdHN0eWxlcyA9IGV4dHJhICYmIGdldFN0eWxlcyggZWxlbSApLFxuXHRcdFx0XHRcdHN1YnRyYWN0ID0gZXh0cmEgJiYgYXVnbWVudFdpZHRoT3JIZWlnaHQoXG5cdFx0XHRcdFx0XHRlbGVtLFxuXHRcdFx0XHRcdFx0bmFtZSxcblx0XHRcdFx0XHRcdGV4dHJhLFxuXHRcdFx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIixcblx0XHRcdFx0XHRcdHN0eWxlc1xuXHRcdFx0XHRcdCk7XG5cdFxuXHRcdFx0XHQvLyBDb252ZXJ0IHRvIHBpeGVscyBpZiB2YWx1ZSBhZGp1c3RtZW50IGlzIG5lZWRlZFxuXHRcdFx0XHRpZiAoIHN1YnRyYWN0ICYmICggbWF0Y2hlcyA9IHJjc3NOdW0uZXhlYyggdmFsdWUgKSApICYmXG5cdFx0XHRcdFx0KCBtYXRjaGVzWyAzIF0gfHwgXCJweFwiICkgIT09IFwicHhcIiApIHtcblx0XG5cdFx0XHRcdFx0ZWxlbS5zdHlsZVsgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHRcdFx0dmFsdWUgPSBqUXVlcnkuY3NzKCBlbGVtLCBuYW1lICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHJldHVybiBzZXRQb3NpdGl2ZU51bWJlciggZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fSApO1xuXHRcblx0alF1ZXJ5LmNzc0hvb2tzLm1hcmdpbkxlZnQgPSBhZGRHZXRIb29rSWYoIHN1cHBvcnQucmVsaWFibGVNYXJnaW5MZWZ0LFxuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cdFx0XHRcdHJldHVybiAoIHBhcnNlRmxvYXQoIGN1ckNTUyggZWxlbSwgXCJtYXJnaW5MZWZ0XCIgKSApIHx8XG5cdFx0XHRcdFx0ZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC1cblx0XHRcdFx0XHRcdHN3YXAoIGVsZW0sIHsgbWFyZ2luTGVmdDogMCB9LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcblx0XHRcdFx0XHRcdH0gKVxuXHRcdFx0XHRcdCkgKyBcInB4XCI7XG5cdFx0XHR9XG5cdFx0fVxuXHQpO1xuXHRcblx0Ly8gVGhlc2UgaG9va3MgYXJlIHVzZWQgYnkgYW5pbWF0ZSB0byBleHBhbmQgcHJvcGVydGllc1xuXHRqUXVlcnkuZWFjaCgge1xuXHRcdG1hcmdpbjogXCJcIixcblx0XHRwYWRkaW5nOiBcIlwiLFxuXHRcdGJvcmRlcjogXCJXaWR0aFwiXG5cdH0sIGZ1bmN0aW9uKCBwcmVmaXgsIHN1ZmZpeCApIHtcblx0XHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdID0ge1xuXHRcdFx0ZXhwYW5kOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRcdHZhciBpID0gMCxcblx0XHRcdFx0XHRleHBhbmRlZCA9IHt9LFxuXHRcblx0XHRcdFx0XHQvLyBBc3N1bWVzIGEgc2luZ2xlIG51bWJlciBpZiBub3QgYSBzdHJpbmdcblx0XHRcdFx0XHRwYXJ0cyA9IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlLnNwbGl0KCBcIiBcIiApIDogWyB2YWx1ZSBdO1xuXHRcblx0XHRcdFx0Zm9yICggOyBpIDwgNDsgaSsrICkge1xuXHRcdFx0XHRcdGV4cGFuZGVkWyBwcmVmaXggKyBjc3NFeHBhbmRbIGkgXSArIHN1ZmZpeCBdID1cblx0XHRcdFx0XHRcdHBhcnRzWyBpIF0gfHwgcGFydHNbIGkgLSAyIF0gfHwgcGFydHNbIDAgXTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0cmV0dXJuIGV4cGFuZGVkO1xuXHRcdFx0fVxuXHRcdH07XG5cdFxuXHRcdGlmICggIXJtYXJnaW4udGVzdCggcHJlZml4ICkgKSB7XG5cdFx0XHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdLnNldCA9IHNldFBvc2l0aXZlTnVtYmVyO1xuXHRcdH1cblx0fSApO1xuXHRcblx0alF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRcdGNzczogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdFx0XHR2YXIgc3R5bGVzLCBsZW4sXG5cdFx0XHRcdFx0bWFwID0ge30sXG5cdFx0XHRcdFx0aSA9IDA7XG5cdFxuXHRcdFx0XHRpZiAoIGpRdWVyeS5pc0FycmF5KCBuYW1lICkgKSB7XG5cdFx0XHRcdFx0c3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICk7XG5cdFx0XHRcdFx0bGVuID0gbmFtZS5sZW5ndGg7XG5cdFxuXHRcdFx0XHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0XHRcdFx0bWFwWyBuYW1lWyBpIF0gXSA9IGpRdWVyeS5jc3MoIGVsZW0sIG5hbWVbIGkgXSwgZmFsc2UsIHN0eWxlcyApO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0cmV0dXJuIG1hcDtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0cmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgbmFtZSwgdmFsdWUgKSA6XG5cdFx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgbmFtZSApO1xuXHRcdFx0fSwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRcblx0ZnVuY3Rpb24gVHdlZW4oIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nICkge1xuXHRcdHJldHVybiBuZXcgVHdlZW4ucHJvdG90eXBlLmluaXQoIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nICk7XG5cdH1cblx0alF1ZXJ5LlR3ZWVuID0gVHdlZW47XG5cdFxuXHRUd2Vlbi5wcm90b3R5cGUgPSB7XG5cdFx0Y29uc3RydWN0b3I6IFR3ZWVuLFxuXHRcdGluaXQ6IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZywgdW5pdCApIHtcblx0XHRcdHRoaXMuZWxlbSA9IGVsZW07XG5cdFx0XHR0aGlzLnByb3AgPSBwcm9wO1xuXHRcdFx0dGhpcy5lYXNpbmcgPSBlYXNpbmcgfHwgalF1ZXJ5LmVhc2luZy5fZGVmYXVsdDtcblx0XHRcdHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cdFx0XHR0aGlzLnN0YXJ0ID0gdGhpcy5ub3cgPSB0aGlzLmN1cigpO1xuXHRcdFx0dGhpcy5lbmQgPSBlbmQ7XG5cdFx0XHR0aGlzLnVuaXQgPSB1bml0IHx8ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdID8gXCJcIiA6IFwicHhcIiApO1xuXHRcdH0sXG5cdFx0Y3VyOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBob29rcyA9IFR3ZWVuLnByb3BIb29rc1sgdGhpcy5wcm9wIF07XG5cdFxuXHRcdFx0cmV0dXJuIGhvb2tzICYmIGhvb2tzLmdldCA/XG5cdFx0XHRcdGhvb2tzLmdldCggdGhpcyApIDpcblx0XHRcdFx0VHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LmdldCggdGhpcyApO1xuXHRcdH0sXG5cdFx0cnVuOiBmdW5jdGlvbiggcGVyY2VudCApIHtcblx0XHRcdHZhciBlYXNlZCxcblx0XHRcdFx0aG9va3MgPSBUd2Vlbi5wcm9wSG9va3NbIHRoaXMucHJvcCBdO1xuXHRcblx0XHRcdGlmICggdGhpcy5vcHRpb25zLmR1cmF0aW9uICkge1xuXHRcdFx0XHR0aGlzLnBvcyA9IGVhc2VkID0galF1ZXJ5LmVhc2luZ1sgdGhpcy5lYXNpbmcgXShcblx0XHRcdFx0XHRwZXJjZW50LCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gKiBwZXJjZW50LCAwLCAxLCB0aGlzLm9wdGlvbnMuZHVyYXRpb25cblx0XHRcdFx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMucG9zID0gZWFzZWQgPSBwZXJjZW50O1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5ub3cgPSAoIHRoaXMuZW5kIC0gdGhpcy5zdGFydCApICogZWFzZWQgKyB0aGlzLnN0YXJ0O1xuXHRcblx0XHRcdGlmICggdGhpcy5vcHRpb25zLnN0ZXAgKSB7XG5cdFx0XHRcdHRoaXMub3B0aW9ucy5zdGVwLmNhbGwoIHRoaXMuZWxlbSwgdGhpcy5ub3csIHRoaXMgKTtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIGhvb2tzICYmIGhvb2tzLnNldCApIHtcblx0XHRcdFx0aG9va3Muc2V0KCB0aGlzICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KCB0aGlzICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH07XG5cdFxuXHRUd2Vlbi5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGUgPSBUd2Vlbi5wcm90b3R5cGU7XG5cdFxuXHRUd2Vlbi5wcm9wSG9va3MgPSB7XG5cdFx0X2RlZmF1bHQ6IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIHR3ZWVuICkge1xuXHRcdFx0XHR2YXIgcmVzdWx0O1xuXHRcblx0XHRcdFx0Ly8gVXNlIGEgcHJvcGVydHkgb24gdGhlIGVsZW1lbnQgZGlyZWN0bHkgd2hlbiBpdCBpcyBub3QgYSBET00gZWxlbWVudCxcblx0XHRcdFx0Ly8gb3Igd2hlbiB0aGVyZSBpcyBubyBtYXRjaGluZyBzdHlsZSBwcm9wZXJ0eSB0aGF0IGV4aXN0cy5cblx0XHRcdFx0aWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlICE9PSAxIHx8XG5cdFx0XHRcdFx0dHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdICE9IG51bGwgJiYgdHdlZW4uZWxlbS5zdHlsZVsgdHdlZW4ucHJvcCBdID09IG51bGwgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gUGFzc2luZyBhbiBlbXB0eSBzdHJpbmcgYXMgYSAzcmQgcGFyYW1ldGVyIHRvIC5jc3Mgd2lsbCBhdXRvbWF0aWNhbGx5XG5cdFx0XHRcdC8vIGF0dGVtcHQgYSBwYXJzZUZsb2F0IGFuZCBmYWxsYmFjayB0byBhIHN0cmluZyBpZiB0aGUgcGFyc2UgZmFpbHMuXG5cdFx0XHRcdC8vIFNpbXBsZSB2YWx1ZXMgc3VjaCBhcyBcIjEwcHhcIiBhcmUgcGFyc2VkIHRvIEZsb2F0O1xuXHRcdFx0XHQvLyBjb21wbGV4IHZhbHVlcyBzdWNoIGFzIFwicm90YXRlKDFyYWQpXCIgYXJlIHJldHVybmVkIGFzLWlzLlxuXHRcdFx0XHRyZXN1bHQgPSBqUXVlcnkuY3NzKCB0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCBcIlwiICk7XG5cdFxuXHRcdFx0XHQvLyBFbXB0eSBzdHJpbmdzLCBudWxsLCB1bmRlZmluZWQgYW5kIFwiYXV0b1wiIGFyZSBjb252ZXJ0ZWQgdG8gMC5cblx0XHRcdFx0cmV0dXJuICFyZXN1bHQgfHwgcmVzdWx0ID09PSBcImF1dG9cIiA/IDAgOiByZXN1bHQ7XG5cdFx0XHR9LFxuXHRcdFx0c2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cdFxuXHRcdFx0XHQvLyBVc2Ugc3RlcCBob29rIGZvciBiYWNrIGNvbXBhdC5cblx0XHRcdFx0Ly8gVXNlIGNzc0hvb2sgaWYgaXRzIHRoZXJlLlxuXHRcdFx0XHQvLyBVc2UgLnN0eWxlIGlmIGF2YWlsYWJsZSBhbmQgdXNlIHBsYWluIHByb3BlcnRpZXMgd2hlcmUgYXZhaWxhYmxlLlxuXHRcdFx0XHRpZiAoIGpRdWVyeS5meC5zdGVwWyB0d2Vlbi5wcm9wIF0gKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmZ4LnN0ZXBbIHR3ZWVuLnByb3AgXSggdHdlZW4gKTtcblx0XHRcdFx0fSBlbHNlIGlmICggdHdlZW4uZWxlbS5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0XHRcdCggdHdlZW4uZWxlbS5zdHlsZVsgalF1ZXJ5LmNzc1Byb3BzWyB0d2Vlbi5wcm9wIF0gXSAhPSBudWxsIHx8XG5cdFx0XHRcdFx0XHRqUXVlcnkuY3NzSG9va3NbIHR3ZWVuLnByb3AgXSApICkge1xuXHRcdFx0XHRcdGpRdWVyeS5zdHlsZSggdHdlZW4uZWxlbSwgdHdlZW4ucHJvcCwgdHdlZW4ubm93ICsgdHdlZW4udW5pdCApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0XG5cdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdC8vIFBhbmljIGJhc2VkIGFwcHJvYWNoIHRvIHNldHRpbmcgdGhpbmdzIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xuXHRUd2Vlbi5wcm9wSG9va3Muc2Nyb2xsVG9wID0gVHdlZW4ucHJvcEhvb2tzLnNjcm9sbExlZnQgPSB7XG5cdFx0c2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cdFx0XHRpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgJiYgdHdlZW4uZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHR0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gPSB0d2Vlbi5ub3c7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRcblx0alF1ZXJ5LmVhc2luZyA9IHtcblx0XHRsaW5lYXI6IGZ1bmN0aW9uKCBwICkge1xuXHRcdFx0cmV0dXJuIHA7XG5cdFx0fSxcblx0XHRzd2luZzogZnVuY3Rpb24oIHAgKSB7XG5cdFx0XHRyZXR1cm4gMC41IC0gTWF0aC5jb3MoIHAgKiBNYXRoLlBJICkgLyAyO1xuXHRcdH0sXG5cdFx0X2RlZmF1bHQ6IFwic3dpbmdcIlxuXHR9O1xuXHRcblx0alF1ZXJ5LmZ4ID0gVHdlZW4ucHJvdG90eXBlLmluaXQ7XG5cdFxuXHQvLyBCYWNrIGNvbXBhdCA8MS44IGV4dGVuc2lvbiBwb2ludFxuXHRqUXVlcnkuZnguc3RlcCA9IHt9O1xuXHRcblx0XG5cdFxuXHRcblx0dmFyXG5cdFx0ZnhOb3csIHRpbWVySWQsXG5cdFx0cmZ4dHlwZXMgPSAvXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sXG5cdFx0cnJ1biA9IC9xdWV1ZUhvb2tzJC87XG5cdFxuXHRmdW5jdGlvbiByYWYoKSB7XG5cdFx0aWYgKCB0aW1lcklkICkge1xuXHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSggcmFmICk7XG5cdFx0XHRqUXVlcnkuZngudGljaygpO1xuXHRcdH1cblx0fVxuXHRcblx0Ly8gQW5pbWF0aW9ucyBjcmVhdGVkIHN5bmNocm9ub3VzbHkgd2lsbCBydW4gc3luY2hyb25vdXNseVxuXHRmdW5jdGlvbiBjcmVhdGVGeE5vdygpIHtcblx0XHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRmeE5vdyA9IHVuZGVmaW5lZDtcblx0XHR9ICk7XG5cdFx0cmV0dXJuICggZnhOb3cgPSBqUXVlcnkubm93KCkgKTtcblx0fVxuXHRcblx0Ly8gR2VuZXJhdGUgcGFyYW1ldGVycyB0byBjcmVhdGUgYSBzdGFuZGFyZCBhbmltYXRpb25cblx0ZnVuY3Rpb24gZ2VuRngoIHR5cGUsIGluY2x1ZGVXaWR0aCApIHtcblx0XHR2YXIgd2hpY2gsXG5cdFx0XHRpID0gMCxcblx0XHRcdGF0dHJzID0geyBoZWlnaHQ6IHR5cGUgfTtcblx0XG5cdFx0Ly8gSWYgd2UgaW5jbHVkZSB3aWR0aCwgc3RlcCB2YWx1ZSBpcyAxIHRvIGRvIGFsbCBjc3NFeHBhbmQgdmFsdWVzLFxuXHRcdC8vIG90aGVyd2lzZSBzdGVwIHZhbHVlIGlzIDIgdG8gc2tpcCBvdmVyIExlZnQgYW5kIFJpZ2h0XG5cdFx0aW5jbHVkZVdpZHRoID0gaW5jbHVkZVdpZHRoID8gMSA6IDA7XG5cdFx0Zm9yICggOyBpIDwgNDsgaSArPSAyIC0gaW5jbHVkZVdpZHRoICkge1xuXHRcdFx0d2hpY2ggPSBjc3NFeHBhbmRbIGkgXTtcblx0XHRcdGF0dHJzWyBcIm1hcmdpblwiICsgd2hpY2ggXSA9IGF0dHJzWyBcInBhZGRpbmdcIiArIHdoaWNoIF0gPSB0eXBlO1xuXHRcdH1cblx0XG5cdFx0aWYgKCBpbmNsdWRlV2lkdGggKSB7XG5cdFx0XHRhdHRycy5vcGFjaXR5ID0gYXR0cnMud2lkdGggPSB0eXBlO1xuXHRcdH1cblx0XG5cdFx0cmV0dXJuIGF0dHJzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVUd2VlbiggdmFsdWUsIHByb3AsIGFuaW1hdGlvbiApIHtcblx0XHR2YXIgdHdlZW4sXG5cdFx0XHRjb2xsZWN0aW9uID0gKCBBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSB8fCBbXSApLmNvbmNhdCggQW5pbWF0aW9uLnR3ZWVuZXJzWyBcIipcIiBdICksXG5cdFx0XHRpbmRleCA9IDAsXG5cdFx0XHRsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcblx0XHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0aWYgKCAoIHR3ZWVuID0gY29sbGVjdGlvblsgaW5kZXggXS5jYWxsKCBhbmltYXRpb24sIHByb3AsIHZhbHVlICkgKSApIHtcblx0XG5cdFx0XHRcdC8vIFdlJ3JlIGRvbmUgd2l0aCB0aGlzIHByb3BlcnR5XG5cdFx0XHRcdHJldHVybiB0d2Vlbjtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRlZmF1bHRQcmVmaWx0ZXIoIGVsZW0sIHByb3BzLCBvcHRzICkge1xuXHRcdHZhciBwcm9wLCB2YWx1ZSwgdG9nZ2xlLCBob29rcywgb2xkZmlyZSwgcHJvcFR3ZWVuLCByZXN0b3JlRGlzcGxheSwgZGlzcGxheSxcblx0XHRcdGlzQm94ID0gXCJ3aWR0aFwiIGluIHByb3BzIHx8IFwiaGVpZ2h0XCIgaW4gcHJvcHMsXG5cdFx0XHRhbmltID0gdGhpcyxcblx0XHRcdG9yaWcgPSB7fSxcblx0XHRcdHN0eWxlID0gZWxlbS5zdHlsZSxcblx0XHRcdGhpZGRlbiA9IGVsZW0ubm9kZVR5cGUgJiYgaXNIaWRkZW5XaXRoaW5UcmVlKCBlbGVtICksXG5cdFx0XHRkYXRhU2hvdyA9IGRhdGFQcml2LmdldCggZWxlbSwgXCJmeHNob3dcIiApO1xuXHRcblx0XHQvLyBRdWV1ZS1za2lwcGluZyBhbmltYXRpb25zIGhpamFjayB0aGUgZnggaG9va3Ncblx0XHRpZiAoICFvcHRzLnF1ZXVlICkge1xuXHRcdFx0aG9va3MgPSBqUXVlcnkuX3F1ZXVlSG9va3MoIGVsZW0sIFwiZnhcIiApO1xuXHRcdFx0aWYgKCBob29rcy51bnF1ZXVlZCA9PSBudWxsICkge1xuXHRcdFx0XHRob29rcy51bnF1ZXVlZCA9IDA7XG5cdFx0XHRcdG9sZGZpcmUgPSBob29rcy5lbXB0eS5maXJlO1xuXHRcdFx0XHRob29rcy5lbXB0eS5maXJlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCAhaG9va3MudW5xdWV1ZWQgKSB7XG5cdFx0XHRcdFx0XHRvbGRmaXJlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0aG9va3MudW5xdWV1ZWQrKztcblx0XG5cdFx0XHRhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHQvLyBFbnN1cmUgdGhlIGNvbXBsZXRlIGhhbmRsZXIgaXMgY2FsbGVkIGJlZm9yZSB0aGlzIGNvbXBsZXRlc1xuXHRcdFx0XHRhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aG9va3MudW5xdWV1ZWQtLTtcblx0XHRcdFx0XHRpZiAoICFqUXVlcnkucXVldWUoIGVsZW0sIFwiZnhcIiApLmxlbmd0aCApIHtcblx0XHRcdFx0XHRcdGhvb2tzLmVtcHR5LmZpcmUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cdFxuXHRcdC8vIERldGVjdCBzaG93L2hpZGUgYW5pbWF0aW9uc1xuXHRcdGZvciAoIHByb3AgaW4gcHJvcHMgKSB7XG5cdFx0XHR2YWx1ZSA9IHByb3BzWyBwcm9wIF07XG5cdFx0XHRpZiAoIHJmeHR5cGVzLnRlc3QoIHZhbHVlICkgKSB7XG5cdFx0XHRcdGRlbGV0ZSBwcm9wc1sgcHJvcCBdO1xuXHRcdFx0XHR0b2dnbGUgPSB0b2dnbGUgfHwgdmFsdWUgPT09IFwidG9nZ2xlXCI7XG5cdFx0XHRcdGlmICggdmFsdWUgPT09ICggaGlkZGVuID8gXCJoaWRlXCIgOiBcInNob3dcIiApICkge1xuXHRcblx0XHRcdFx0XHQvLyBQcmV0ZW5kIHRvIGJlIGhpZGRlbiBpZiB0aGlzIGlzIGEgXCJzaG93XCIgYW5kXG5cdFx0XHRcdFx0Ly8gdGhlcmUgaXMgc3RpbGwgZGF0YSBmcm9tIGEgc3RvcHBlZCBzaG93L2hpZGVcblx0XHRcdFx0XHRpZiAoIHZhbHVlID09PSBcInNob3dcIiAmJiBkYXRhU2hvdyAmJiBkYXRhU2hvd1sgcHJvcCBdICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0XHRoaWRkZW4gPSB0cnVlO1xuXHRcblx0XHRcdFx0XHQvLyBJZ25vcmUgYWxsIG90aGVyIG5vLW9wIHNob3cvaGlkZSBkYXRhXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRvcmlnWyBwcm9wIF0gPSBkYXRhU2hvdyAmJiBkYXRhU2hvd1sgcHJvcCBdIHx8IGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCApO1xuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0Ly8gQmFpbCBvdXQgaWYgdGhpcyBpcyBhIG5vLW9wIGxpa2UgLmhpZGUoKS5oaWRlKClcblx0XHRwcm9wVHdlZW4gPSAhalF1ZXJ5LmlzRW1wdHlPYmplY3QoIHByb3BzICk7XG5cdFx0aWYgKCAhcHJvcFR3ZWVuICYmIGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBvcmlnICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcblx0XHQvLyBSZXN0cmljdCBcIm92ZXJmbG93XCIgYW5kIFwiZGlzcGxheVwiIHN0eWxlcyBkdXJpbmcgYm94IGFuaW1hdGlvbnNcblx0XHRpZiAoIGlzQm94ICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEsIEVkZ2UgMTIgLSAxM1xuXHRcdFx0Ly8gUmVjb3JkIGFsbCAzIG92ZXJmbG93IGF0dHJpYnV0ZXMgYmVjYXVzZSBJRSBkb2VzIG5vdCBpbmZlciB0aGUgc2hvcnRoYW5kXG5cdFx0XHQvLyBmcm9tIGlkZW50aWNhbGx5LXZhbHVlZCBvdmVyZmxvd1ggYW5kIG92ZXJmbG93WVxuXHRcdFx0b3B0cy5vdmVyZmxvdyA9IFsgc3R5bGUub3ZlcmZsb3csIHN0eWxlLm92ZXJmbG93WCwgc3R5bGUub3ZlcmZsb3dZIF07XG5cdFxuXHRcdFx0Ly8gSWRlbnRpZnkgYSBkaXNwbGF5IHR5cGUsIHByZWZlcnJpbmcgb2xkIHNob3cvaGlkZSBkYXRhIG92ZXIgdGhlIENTUyBjYXNjYWRlXG5cdFx0XHRyZXN0b3JlRGlzcGxheSA9IGRhdGFTaG93ICYmIGRhdGFTaG93LmRpc3BsYXk7XG5cdFx0XHRpZiAoIHJlc3RvcmVEaXNwbGF5ID09IG51bGwgKSB7XG5cdFx0XHRcdHJlc3RvcmVEaXNwbGF5ID0gZGF0YVByaXYuZ2V0KCBlbGVtLCBcImRpc3BsYXlcIiApO1xuXHRcdFx0fVxuXHRcdFx0ZGlzcGxheSA9IGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICk7XG5cdFx0XHRpZiAoIGRpc3BsYXkgPT09IFwibm9uZVwiICkge1xuXHRcdFx0XHRpZiAoIHJlc3RvcmVEaXNwbGF5ICkge1xuXHRcdFx0XHRcdGRpc3BsYXkgPSByZXN0b3JlRGlzcGxheTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XG5cdFx0XHRcdFx0Ly8gR2V0IG5vbmVtcHR5IHZhbHVlKHMpIGJ5IHRlbXBvcmFyaWx5IGZvcmNpbmcgdmlzaWJpbGl0eVxuXHRcdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSwgdHJ1ZSApO1xuXHRcdFx0XHRcdHJlc3RvcmVEaXNwbGF5ID0gZWxlbS5zdHlsZS5kaXNwbGF5IHx8IHJlc3RvcmVEaXNwbGF5O1xuXHRcdFx0XHRcdGRpc3BsYXkgPSBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApO1xuXHRcdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gQW5pbWF0ZSBpbmxpbmUgZWxlbWVudHMgYXMgaW5saW5lLWJsb2NrXG5cdFx0XHRpZiAoIGRpc3BsYXkgPT09IFwiaW5saW5lXCIgfHwgZGlzcGxheSA9PT0gXCJpbmxpbmUtYmxvY2tcIiAmJiByZXN0b3JlRGlzcGxheSAhPSBudWxsICkge1xuXHRcdFx0XHRpZiAoIGpRdWVyeS5jc3MoIGVsZW0sIFwiZmxvYXRcIiApID09PSBcIm5vbmVcIiApIHtcblx0XG5cdFx0XHRcdFx0Ly8gUmVzdG9yZSB0aGUgb3JpZ2luYWwgZGlzcGxheSB2YWx1ZSBhdCB0aGUgZW5kIG9mIHB1cmUgc2hvdy9oaWRlIGFuaW1hdGlvbnNcblx0XHRcdFx0XHRpZiAoICFwcm9wVHdlZW4gKSB7XG5cdFx0XHRcdFx0XHRhbmltLmRvbmUoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRzdHlsZS5kaXNwbGF5ID0gcmVzdG9yZURpc3BsYXk7XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRpZiAoIHJlc3RvcmVEaXNwbGF5ID09IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRcdGRpc3BsYXkgPSBzdHlsZS5kaXNwbGF5O1xuXHRcdFx0XHRcdFx0XHRyZXN0b3JlRGlzcGxheSA9IGRpc3BsYXkgPT09IFwibm9uZVwiID8gXCJcIiA6IGRpc3BsYXk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRpZiAoIG9wdHMub3ZlcmZsb3cgKSB7XG5cdFx0XHRzdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG5cdFx0XHRhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHN0eWxlLm92ZXJmbG93ID0gb3B0cy5vdmVyZmxvd1sgMCBdO1xuXHRcdFx0XHRzdHlsZS5vdmVyZmxvd1ggPSBvcHRzLm92ZXJmbG93WyAxIF07XG5cdFx0XHRcdHN0eWxlLm92ZXJmbG93WSA9IG9wdHMub3ZlcmZsb3dbIDIgXTtcblx0XHRcdH0gKTtcblx0XHR9XG5cdFxuXHRcdC8vIEltcGxlbWVudCBzaG93L2hpZGUgYW5pbWF0aW9uc1xuXHRcdHByb3BUd2VlbiA9IGZhbHNlO1xuXHRcdGZvciAoIHByb3AgaW4gb3JpZyApIHtcblx0XG5cdFx0XHQvLyBHZW5lcmFsIHNob3cvaGlkZSBzZXR1cCBmb3IgdGhpcyBlbGVtZW50IGFuaW1hdGlvblxuXHRcdFx0aWYgKCAhcHJvcFR3ZWVuICkge1xuXHRcdFx0XHRpZiAoIGRhdGFTaG93ICkge1xuXHRcdFx0XHRcdGlmICggXCJoaWRkZW5cIiBpbiBkYXRhU2hvdyApIHtcblx0XHRcdFx0XHRcdGhpZGRlbiA9IGRhdGFTaG93LmhpZGRlbjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGF0YVNob3cgPSBkYXRhUHJpdi5hY2Nlc3MoIGVsZW0sIFwiZnhzaG93XCIsIHsgZGlzcGxheTogcmVzdG9yZURpc3BsYXkgfSApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBTdG9yZSBoaWRkZW4vdmlzaWJsZSBmb3IgdG9nZ2xlIHNvIGAuc3RvcCgpLnRvZ2dsZSgpYCBcInJldmVyc2VzXCJcblx0XHRcdFx0aWYgKCB0b2dnbGUgKSB7XG5cdFx0XHRcdFx0ZGF0YVNob3cuaGlkZGVuID0gIWhpZGRlbjtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gU2hvdyBlbGVtZW50cyBiZWZvcmUgYW5pbWF0aW5nIHRoZW1cblx0XHRcdFx0aWYgKCBoaWRkZW4gKSB7XG5cdFx0XHRcdFx0c2hvd0hpZGUoIFsgZWxlbSBdLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLWxvb3AtZnVuYyAqL1xuXHRcblx0XHRcdFx0YW5pbS5kb25lKCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdC8qIGVzbGludC1lbmFibGUgbm8tbG9vcC1mdW5jICovXG5cdFxuXHRcdFx0XHRcdC8vIFRoZSBmaW5hbCBzdGVwIG9mIGEgXCJoaWRlXCIgYW5pbWF0aW9uIGlzIGFjdHVhbGx5IGhpZGluZyB0aGUgZWxlbWVudFxuXHRcdFx0XHRcdGlmICggIWhpZGRlbiApIHtcblx0XHRcdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIFwiZnhzaG93XCIgKTtcblx0XHRcdFx0XHRmb3IgKCBwcm9wIGluIG9yaWcgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AsIG9yaWdbIHByb3AgXSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFBlci1wcm9wZXJ0eSBzZXR1cFxuXHRcdFx0cHJvcFR3ZWVuID0gY3JlYXRlVHdlZW4oIGhpZGRlbiA/IGRhdGFTaG93WyBwcm9wIF0gOiAwLCBwcm9wLCBhbmltICk7XG5cdFx0XHRpZiAoICEoIHByb3AgaW4gZGF0YVNob3cgKSApIHtcblx0XHRcdFx0ZGF0YVNob3dbIHByb3AgXSA9IHByb3BUd2Vlbi5zdGFydDtcblx0XHRcdFx0aWYgKCBoaWRkZW4gKSB7XG5cdFx0XHRcdFx0cHJvcFR3ZWVuLmVuZCA9IHByb3BUd2Vlbi5zdGFydDtcblx0XHRcdFx0XHRwcm9wVHdlZW4uc3RhcnQgPSAwO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBwcm9wRmlsdGVyKCBwcm9wcywgc3BlY2lhbEVhc2luZyApIHtcblx0XHR2YXIgaW5kZXgsIG5hbWUsIGVhc2luZywgdmFsdWUsIGhvb2tzO1xuXHRcblx0XHQvLyBjYW1lbENhc2UsIHNwZWNpYWxFYXNpbmcgYW5kIGV4cGFuZCBjc3NIb29rIHBhc3Ncblx0XHRmb3IgKCBpbmRleCBpbiBwcm9wcyApIHtcblx0XHRcdG5hbWUgPSBqUXVlcnkuY2FtZWxDYXNlKCBpbmRleCApO1xuXHRcdFx0ZWFzaW5nID0gc3BlY2lhbEVhc2luZ1sgbmFtZSBdO1xuXHRcdFx0dmFsdWUgPSBwcm9wc1sgaW5kZXggXTtcblx0XHRcdGlmICggalF1ZXJ5LmlzQXJyYXkoIHZhbHVlICkgKSB7XG5cdFx0XHRcdGVhc2luZyA9IHZhbHVlWyAxIF07XG5cdFx0XHRcdHZhbHVlID0gcHJvcHNbIGluZGV4IF0gPSB2YWx1ZVsgMCBdO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggaW5kZXggIT09IG5hbWUgKSB7XG5cdFx0XHRcdHByb3BzWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdFx0ZGVsZXRlIHByb3BzWyBpbmRleCBdO1xuXHRcdFx0fVxuXHRcblx0XHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF07XG5cdFx0XHRpZiAoIGhvb2tzICYmIFwiZXhwYW5kXCIgaW4gaG9va3MgKSB7XG5cdFx0XHRcdHZhbHVlID0gaG9va3MuZXhwYW5kKCB2YWx1ZSApO1xuXHRcdFx0XHRkZWxldGUgcHJvcHNbIG5hbWUgXTtcblx0XG5cdFx0XHRcdC8vIE5vdCBxdWl0ZSAkLmV4dGVuZCwgdGhpcyB3b24ndCBvdmVyd3JpdGUgZXhpc3Rpbmcga2V5cy5cblx0XHRcdFx0Ly8gUmV1c2luZyAnaW5kZXgnIGJlY2F1c2Ugd2UgaGF2ZSB0aGUgY29ycmVjdCBcIm5hbWVcIlxuXHRcdFx0XHRmb3IgKCBpbmRleCBpbiB2YWx1ZSApIHtcblx0XHRcdFx0XHRpZiAoICEoIGluZGV4IGluIHByb3BzICkgKSB7XG5cdFx0XHRcdFx0XHRwcm9wc1sgaW5kZXggXSA9IHZhbHVlWyBpbmRleCBdO1xuXHRcdFx0XHRcdFx0c3BlY2lhbEVhc2luZ1sgaW5kZXggXSA9IGVhc2luZztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNwZWNpYWxFYXNpbmdbIG5hbWUgXSA9IGVhc2luZztcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIEFuaW1hdGlvbiggZWxlbSwgcHJvcGVydGllcywgb3B0aW9ucyApIHtcblx0XHR2YXIgcmVzdWx0LFxuXHRcdFx0c3RvcHBlZCxcblx0XHRcdGluZGV4ID0gMCxcblx0XHRcdGxlbmd0aCA9IEFuaW1hdGlvbi5wcmVmaWx0ZXJzLmxlbmd0aCxcblx0XHRcdGRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCkuYWx3YXlzKCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdC8vIERvbid0IG1hdGNoIGVsZW0gaW4gdGhlIDphbmltYXRlZCBzZWxlY3RvclxuXHRcdFx0XHRkZWxldGUgdGljay5lbGVtO1xuXHRcdFx0fSApLFxuXHRcdFx0dGljayA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIHN0b3BwZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhciBjdXJyZW50VGltZSA9IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksXG5cdFx0XHRcdFx0cmVtYWluaW5nID0gTWF0aC5tYXgoIDAsIGFuaW1hdGlvbi5zdGFydFRpbWUgKyBhbmltYXRpb24uZHVyYXRpb24gLSBjdXJyZW50VGltZSApLFxuXHRcblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDIuMyBvbmx5XG5cdFx0XHRcdFx0Ly8gQXJjaGFpYyBjcmFzaCBidWcgd29uJ3QgYWxsb3cgdXMgdG8gdXNlIGAxIC0gKCAwLjUgfHwgMCApYCAoIzEyNDk3KVxuXHRcdFx0XHRcdHRlbXAgPSByZW1haW5pbmcgLyBhbmltYXRpb24uZHVyYXRpb24gfHwgMCxcblx0XHRcdFx0XHRwZXJjZW50ID0gMSAtIHRlbXAsXG5cdFx0XHRcdFx0aW5kZXggPSAwLFxuXHRcdFx0XHRcdGxlbmd0aCA9IGFuaW1hdGlvbi50d2VlbnMubGVuZ3RoO1xuXHRcblx0XHRcdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdFx0XHRhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggcGVyY2VudCApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgcGVyY2VudCwgcmVtYWluaW5nIF0gKTtcblx0XG5cdFx0XHRcdGlmICggcGVyY2VudCA8IDEgJiYgbGVuZ3RoICkge1xuXHRcdFx0XHRcdHJldHVybiByZW1haW5pbmc7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uIF0gKTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRhbmltYXRpb24gPSBkZWZlcnJlZC5wcm9taXNlKCB7XG5cdFx0XHRcdGVsZW06IGVsZW0sXG5cdFx0XHRcdHByb3BzOiBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcGVydGllcyApLFxuXHRcdFx0XHRvcHRzOiBqUXVlcnkuZXh0ZW5kKCB0cnVlLCB7XG5cdFx0XHRcdFx0c3BlY2lhbEVhc2luZzoge30sXG5cdFx0XHRcdFx0ZWFzaW5nOiBqUXVlcnkuZWFzaW5nLl9kZWZhdWx0XG5cdFx0XHRcdH0sIG9wdGlvbnMgKSxcblx0XHRcdFx0b3JpZ2luYWxQcm9wZXJ0aWVzOiBwcm9wZXJ0aWVzLFxuXHRcdFx0XHRvcmlnaW5hbE9wdGlvbnM6IG9wdGlvbnMsXG5cdFx0XHRcdHN0YXJ0VGltZTogZnhOb3cgfHwgY3JlYXRlRnhOb3coKSxcblx0XHRcdFx0ZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24sXG5cdFx0XHRcdHR3ZWVuczogW10sXG5cdFx0XHRcdGNyZWF0ZVR3ZWVuOiBmdW5jdGlvbiggcHJvcCwgZW5kICkge1xuXHRcdFx0XHRcdHZhciB0d2VlbiA9IGpRdWVyeS5Ud2VlbiggZWxlbSwgYW5pbWF0aW9uLm9wdHMsIHByb3AsIGVuZCxcblx0XHRcdFx0XHRcdFx0YW5pbWF0aW9uLm9wdHMuc3BlY2lhbEVhc2luZ1sgcHJvcCBdIHx8IGFuaW1hdGlvbi5vcHRzLmVhc2luZyApO1xuXHRcdFx0XHRcdGFuaW1hdGlvbi50d2VlbnMucHVzaCggdHdlZW4gKTtcblx0XHRcdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHN0b3A6IGZ1bmN0aW9uKCBnb3RvRW5kICkge1xuXHRcdFx0XHRcdHZhciBpbmRleCA9IDAsXG5cdFxuXHRcdFx0XHRcdFx0Ly8gSWYgd2UgYXJlIGdvaW5nIHRvIHRoZSBlbmQsIHdlIHdhbnQgdG8gcnVuIGFsbCB0aGUgdHdlZW5zXG5cdFx0XHRcdFx0XHQvLyBvdGhlcndpc2Ugd2Ugc2tpcCB0aGlzIHBhcnRcblx0XHRcdFx0XHRcdGxlbmd0aCA9IGdvdG9FbmQgPyBhbmltYXRpb24udHdlZW5zLmxlbmd0aCA6IDA7XG5cdFx0XHRcdFx0aWYgKCBzdG9wcGVkICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHN0b3BwZWQgPSB0cnVlO1xuXHRcdFx0XHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRcdFx0XHRhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggMSApO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gUmVzb2x2ZSB3aGVuIHdlIHBsYXllZCB0aGUgbGFzdCBmcmFtZTsgb3RoZXJ3aXNlLCByZWplY3Rcblx0XHRcdFx0XHRpZiAoIGdvdG9FbmQgKSB7XG5cdFx0XHRcdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgMSwgMCBdICk7XG5cdFx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggZWxlbSwgWyBhbmltYXRpb24sIGdvdG9FbmQgXSApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3RXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgZ290b0VuZCBdICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICksXG5cdFx0XHRwcm9wcyA9IGFuaW1hdGlvbi5wcm9wcztcblx0XG5cdFx0cHJvcEZpbHRlciggcHJvcHMsIGFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmcgKTtcblx0XG5cdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdHJlc3VsdCA9IEFuaW1hdGlvbi5wcmVmaWx0ZXJzWyBpbmRleCBdLmNhbGwoIGFuaW1hdGlvbiwgZWxlbSwgcHJvcHMsIGFuaW1hdGlvbi5vcHRzICk7XG5cdFx0XHRpZiAoIHJlc3VsdCApIHtcblx0XHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcmVzdWx0LnN0b3AgKSApIHtcblx0XHRcdFx0XHRqUXVlcnkuX3F1ZXVlSG9va3MoIGFuaW1hdGlvbi5lbGVtLCBhbmltYXRpb24ub3B0cy5xdWV1ZSApLnN0b3AgPVxuXHRcdFx0XHRcdFx0alF1ZXJ5LnByb3h5KCByZXN1bHQuc3RvcCwgcmVzdWx0ICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdGpRdWVyeS5tYXAoIHByb3BzLCBjcmVhdGVUd2VlbiwgYW5pbWF0aW9uICk7XG5cdFxuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGFuaW1hdGlvbi5vcHRzLnN0YXJ0ICkgKSB7XG5cdFx0XHRhbmltYXRpb24ub3B0cy5zdGFydC5jYWxsKCBlbGVtLCBhbmltYXRpb24gKTtcblx0XHR9XG5cdFxuXHRcdGpRdWVyeS5meC50aW1lcihcblx0XHRcdGpRdWVyeS5leHRlbmQoIHRpY2ssIHtcblx0XHRcdFx0ZWxlbTogZWxlbSxcblx0XHRcdFx0YW5pbTogYW5pbWF0aW9uLFxuXHRcdFx0XHRxdWV1ZTogYW5pbWF0aW9uLm9wdHMucXVldWVcblx0XHRcdH0gKVxuXHRcdCk7XG5cdFxuXHRcdC8vIGF0dGFjaCBjYWxsYmFja3MgZnJvbSBvcHRpb25zXG5cdFx0cmV0dXJuIGFuaW1hdGlvbi5wcm9ncmVzcyggYW5pbWF0aW9uLm9wdHMucHJvZ3Jlc3MgKVxuXHRcdFx0LmRvbmUoIGFuaW1hdGlvbi5vcHRzLmRvbmUsIGFuaW1hdGlvbi5vcHRzLmNvbXBsZXRlIClcblx0XHRcdC5mYWlsKCBhbmltYXRpb24ub3B0cy5mYWlsIClcblx0XHRcdC5hbHdheXMoIGFuaW1hdGlvbi5vcHRzLmFsd2F5cyApO1xuXHR9XG5cdFxuXHRqUXVlcnkuQW5pbWF0aW9uID0galF1ZXJ5LmV4dGVuZCggQW5pbWF0aW9uLCB7XG5cdFxuXHRcdHR3ZWVuZXJzOiB7XG5cdFx0XHRcIipcIjogWyBmdW5jdGlvbiggcHJvcCwgdmFsdWUgKSB7XG5cdFx0XHRcdHZhciB0d2VlbiA9IHRoaXMuY3JlYXRlVHdlZW4oIHByb3AsIHZhbHVlICk7XG5cdFx0XHRcdGFkanVzdENTUyggdHdlZW4uZWxlbSwgcHJvcCwgcmNzc051bS5leGVjKCB2YWx1ZSApLCB0d2VlbiApO1xuXHRcdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0XHR9IF1cblx0XHR9LFxuXHRcblx0XHR0d2VlbmVyOiBmdW5jdGlvbiggcHJvcHMsIGNhbGxiYWNrICkge1xuXHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcHJvcHMgKSApIHtcblx0XHRcdFx0Y2FsbGJhY2sgPSBwcm9wcztcblx0XHRcdFx0cHJvcHMgPSBbIFwiKlwiIF07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwcm9wcyA9IHByb3BzLm1hdGNoKCBybm90d2hpdGUgKTtcblx0XHRcdH1cblx0XG5cdFx0XHR2YXIgcHJvcCxcblx0XHRcdFx0aW5kZXggPSAwLFxuXHRcdFx0XHRsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cdFxuXHRcdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdFx0cHJvcCA9IHByb3BzWyBpbmRleCBdO1xuXHRcdFx0XHRBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSA9IEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdIHx8IFtdO1xuXHRcdFx0XHRBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXS51bnNoaWZ0KCBjYWxsYmFjayApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdHByZWZpbHRlcnM6IFsgZGVmYXVsdFByZWZpbHRlciBdLFxuXHRcblx0XHRwcmVmaWx0ZXI6IGZ1bmN0aW9uKCBjYWxsYmFjaywgcHJlcGVuZCApIHtcblx0XHRcdGlmICggcHJlcGVuZCApIHtcblx0XHRcdFx0QW5pbWF0aW9uLnByZWZpbHRlcnMudW5zaGlmdCggY2FsbGJhY2sgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdEFuaW1hdGlvbi5wcmVmaWx0ZXJzLnB1c2goIGNhbGxiYWNrICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRqUXVlcnkuc3BlZWQgPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgZm4gKSB7XG5cdFx0dmFyIG9wdCA9IHNwZWVkICYmIHR5cGVvZiBzcGVlZCA9PT0gXCJvYmplY3RcIiA/IGpRdWVyeS5leHRlbmQoIHt9LCBzcGVlZCApIDoge1xuXHRcdFx0Y29tcGxldGU6IGZuIHx8ICFmbiAmJiBlYXNpbmcgfHxcblx0XHRcdFx0alF1ZXJ5LmlzRnVuY3Rpb24oIHNwZWVkICkgJiYgc3BlZWQsXG5cdFx0XHRkdXJhdGlvbjogc3BlZWQsXG5cdFx0XHRlYXNpbmc6IGZuICYmIGVhc2luZyB8fCBlYXNpbmcgJiYgIWpRdWVyeS5pc0Z1bmN0aW9uKCBlYXNpbmcgKSAmJiBlYXNpbmdcblx0XHR9O1xuXHRcblx0XHQvLyBHbyB0byB0aGUgZW5kIHN0YXRlIGlmIGZ4IGFyZSBvZmYgb3IgaWYgZG9jdW1lbnQgaXMgaGlkZGVuXG5cdFx0aWYgKCBqUXVlcnkuZngub2ZmIHx8IGRvY3VtZW50LmhpZGRlbiApIHtcblx0XHRcdG9wdC5kdXJhdGlvbiA9IDA7XG5cdFxuXHRcdH0gZWxzZSB7XG5cdFx0XHRvcHQuZHVyYXRpb24gPSB0eXBlb2Ygb3B0LmR1cmF0aW9uID09PSBcIm51bWJlclwiID9cblx0XHRcdFx0b3B0LmR1cmF0aW9uIDogb3B0LmR1cmF0aW9uIGluIGpRdWVyeS5meC5zcGVlZHMgP1xuXHRcdFx0XHRcdGpRdWVyeS5meC5zcGVlZHNbIG9wdC5kdXJhdGlvbiBdIDogalF1ZXJ5LmZ4LnNwZWVkcy5fZGVmYXVsdDtcblx0XHR9XG5cdFxuXHRcdC8vIE5vcm1hbGl6ZSBvcHQucXVldWUgLSB0cnVlL3VuZGVmaW5lZC9udWxsIC0+IFwiZnhcIlxuXHRcdGlmICggb3B0LnF1ZXVlID09IG51bGwgfHwgb3B0LnF1ZXVlID09PSB0cnVlICkge1xuXHRcdFx0b3B0LnF1ZXVlID0gXCJmeFwiO1xuXHRcdH1cblx0XG5cdFx0Ly8gUXVldWVpbmdcblx0XHRvcHQub2xkID0gb3B0LmNvbXBsZXRlO1xuXHRcblx0XHRvcHQuY29tcGxldGUgPSBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIG9wdC5vbGQgKSApIHtcblx0XHRcdFx0b3B0Lm9sZC5jYWxsKCB0aGlzICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCBvcHQucXVldWUgKSB7XG5cdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCBvcHQucXVldWUgKTtcblx0XHRcdH1cblx0XHR9O1xuXHRcblx0XHRyZXR1cm4gb3B0O1xuXHR9O1xuXHRcblx0alF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRcdGZhZGVUbzogZnVuY3Rpb24oIHNwZWVkLCB0bywgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XG5cdFx0XHQvLyBTaG93IGFueSBoaWRkZW4gZWxlbWVudHMgYWZ0ZXIgc2V0dGluZyBvcGFjaXR5IHRvIDBcblx0XHRcdHJldHVybiB0aGlzLmZpbHRlciggaXNIaWRkZW5XaXRoaW5UcmVlICkuY3NzKCBcIm9wYWNpdHlcIiwgMCApLnNob3coKVxuXHRcblx0XHRcdFx0Ly8gQW5pbWF0ZSB0byB0aGUgdmFsdWUgc3BlY2lmaWVkXG5cdFx0XHRcdC5lbmQoKS5hbmltYXRlKCB7IG9wYWNpdHk6IHRvIH0sIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdFx0fSxcblx0XHRhbmltYXRlOiBmdW5jdGlvbiggcHJvcCwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdFx0XHR2YXIgZW1wdHkgPSBqUXVlcnkuaXNFbXB0eU9iamVjdCggcHJvcCApLFxuXHRcdFx0XHRvcHRhbGwgPSBqUXVlcnkuc3BlZWQoIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICksXG5cdFx0XHRcdGRvQW5pbWF0aW9uID0gZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHRcdC8vIE9wZXJhdGUgb24gYSBjb3B5IG9mIHByb3Agc28gcGVyLXByb3BlcnR5IGVhc2luZyB3b24ndCBiZSBsb3N0XG5cdFx0XHRcdFx0dmFyIGFuaW0gPSBBbmltYXRpb24oIHRoaXMsIGpRdWVyeS5leHRlbmQoIHt9LCBwcm9wICksIG9wdGFsbCApO1xuXHRcblx0XHRcdFx0XHQvLyBFbXB0eSBhbmltYXRpb25zLCBvciBmaW5pc2hpbmcgcmVzb2x2ZXMgaW1tZWRpYXRlbHlcblx0XHRcdFx0XHRpZiAoIGVtcHR5IHx8IGRhdGFQcml2LmdldCggdGhpcywgXCJmaW5pc2hcIiApICkge1xuXHRcdFx0XHRcdFx0YW5pbS5zdG9wKCB0cnVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRkb0FuaW1hdGlvbi5maW5pc2ggPSBkb0FuaW1hdGlvbjtcblx0XG5cdFx0XHRyZXR1cm4gZW1wdHkgfHwgb3B0YWxsLnF1ZXVlID09PSBmYWxzZSA/XG5cdFx0XHRcdHRoaXMuZWFjaCggZG9BbmltYXRpb24gKSA6XG5cdFx0XHRcdHRoaXMucXVldWUoIG9wdGFsbC5xdWV1ZSwgZG9BbmltYXRpb24gKTtcblx0XHR9LFxuXHRcdHN0b3A6IGZ1bmN0aW9uKCB0eXBlLCBjbGVhclF1ZXVlLCBnb3RvRW5kICkge1xuXHRcdFx0dmFyIHN0b3BRdWV1ZSA9IGZ1bmN0aW9uKCBob29rcyApIHtcblx0XHRcdFx0dmFyIHN0b3AgPSBob29rcy5zdG9wO1xuXHRcdFx0XHRkZWxldGUgaG9va3Muc3RvcDtcblx0XHRcdFx0c3RvcCggZ290b0VuZCApO1xuXHRcdFx0fTtcblx0XG5cdFx0XHRpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRnb3RvRW5kID0gY2xlYXJRdWV1ZTtcblx0XHRcdFx0Y2xlYXJRdWV1ZSA9IHR5cGU7XG5cdFx0XHRcdHR5cGUgPSB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGNsZWFyUXVldWUgJiYgdHlwZSAhPT0gZmFsc2UgKSB7XG5cdFx0XHRcdHRoaXMucXVldWUoIHR5cGUgfHwgXCJmeFwiLCBbXSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZGVxdWV1ZSA9IHRydWUsXG5cdFx0XHRcdFx0aW5kZXggPSB0eXBlICE9IG51bGwgJiYgdHlwZSArIFwicXVldWVIb29rc1wiLFxuXHRcdFx0XHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnMsXG5cdFx0XHRcdFx0ZGF0YSA9IGRhdGFQcml2LmdldCggdGhpcyApO1xuXHRcblx0XHRcdFx0aWYgKCBpbmRleCApIHtcblx0XHRcdFx0XHRpZiAoIGRhdGFbIGluZGV4IF0gJiYgZGF0YVsgaW5kZXggXS5zdG9wICkge1xuXHRcdFx0XHRcdFx0c3RvcFF1ZXVlKCBkYXRhWyBpbmRleCBdICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGZvciAoIGluZGV4IGluIGRhdGEgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGRhdGFbIGluZGV4IF0gJiYgZGF0YVsgaW5kZXggXS5zdG9wICYmIHJydW4udGVzdCggaW5kZXggKSApIHtcblx0XHRcdFx0XHRcdFx0c3RvcFF1ZXVlKCBkYXRhWyBpbmRleCBdICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkge1xuXHRcdFx0XHRcdGlmICggdGltZXJzWyBpbmRleCBdLmVsZW0gPT09IHRoaXMgJiZcblx0XHRcdFx0XHRcdCggdHlwZSA9PSBudWxsIHx8IHRpbWVyc1sgaW5kZXggXS5xdWV1ZSA9PT0gdHlwZSApICkge1xuXHRcblx0XHRcdFx0XHRcdHRpbWVyc1sgaW5kZXggXS5hbmltLnN0b3AoIGdvdG9FbmQgKTtcblx0XHRcdFx0XHRcdGRlcXVldWUgPSBmYWxzZTtcblx0XHRcdFx0XHRcdHRpbWVycy5zcGxpY2UoIGluZGV4LCAxICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBTdGFydCB0aGUgbmV4dCBpbiB0aGUgcXVldWUgaWYgdGhlIGxhc3Qgc3RlcCB3YXNuJ3QgZm9yY2VkLlxuXHRcdFx0XHQvLyBUaW1lcnMgY3VycmVudGx5IHdpbGwgY2FsbCB0aGVpciBjb21wbGV0ZSBjYWxsYmFja3MsIHdoaWNoXG5cdFx0XHRcdC8vIHdpbGwgZGVxdWV1ZSBidXQgb25seSBpZiB0aGV5IHdlcmUgZ290b0VuZC5cblx0XHRcdFx0aWYgKCBkZXF1ZXVlIHx8ICFnb3RvRW5kICkge1xuXHRcdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9LFxuXHRcdGZpbmlzaDogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0XHRpZiAoIHR5cGUgIT09IGZhbHNlICkge1xuXHRcdFx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGluZGV4LFxuXHRcdFx0XHRcdGRhdGEgPSBkYXRhUHJpdi5nZXQoIHRoaXMgKSxcblx0XHRcdFx0XHRxdWV1ZSA9IGRhdGFbIHR5cGUgKyBcInF1ZXVlXCIgXSxcblx0XHRcdFx0XHRob29rcyA9IGRhdGFbIHR5cGUgKyBcInF1ZXVlSG9va3NcIiBdLFxuXHRcdFx0XHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnMsXG5cdFx0XHRcdFx0bGVuZ3RoID0gcXVldWUgPyBxdWV1ZS5sZW5ndGggOiAwO1xuXHRcblx0XHRcdFx0Ly8gRW5hYmxlIGZpbmlzaGluZyBmbGFnIG9uIHByaXZhdGUgZGF0YVxuXHRcdFx0XHRkYXRhLmZpbmlzaCA9IHRydWU7XG5cdFxuXHRcdFx0XHQvLyBFbXB0eSB0aGUgcXVldWUgZmlyc3Rcblx0XHRcdFx0alF1ZXJ5LnF1ZXVlKCB0aGlzLCB0eXBlLCBbXSApO1xuXHRcblx0XHRcdFx0aWYgKCBob29rcyAmJiBob29rcy5zdG9wICkge1xuXHRcdFx0XHRcdGhvb2tzLnN0b3AuY2FsbCggdGhpcywgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBMb29rIGZvciBhbnkgYWN0aXZlIGFuaW1hdGlvbnMsIGFuZCBmaW5pc2ggdGhlbVxuXHRcdFx0XHRmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkge1xuXHRcdFx0XHRcdGlmICggdGltZXJzWyBpbmRleCBdLmVsZW0gPT09IHRoaXMgJiYgdGltZXJzWyBpbmRleCBdLnF1ZXVlID09PSB0eXBlICkge1xuXHRcdFx0XHRcdFx0dGltZXJzWyBpbmRleCBdLmFuaW0uc3RvcCggdHJ1ZSApO1xuXHRcdFx0XHRcdFx0dGltZXJzLnNwbGljZSggaW5kZXgsIDEgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIExvb2sgZm9yIGFueSBhbmltYXRpb25zIGluIHRoZSBvbGQgcXVldWUgYW5kIGZpbmlzaCB0aGVtXG5cdFx0XHRcdGZvciAoIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRcdFx0aWYgKCBxdWV1ZVsgaW5kZXggXSAmJiBxdWV1ZVsgaW5kZXggXS5maW5pc2ggKSB7XG5cdFx0XHRcdFx0XHRxdWV1ZVsgaW5kZXggXS5maW5pc2guY2FsbCggdGhpcyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gVHVybiBvZmYgZmluaXNoaW5nIGZsYWdcblx0XHRcdFx0ZGVsZXRlIGRhdGEuZmluaXNoO1xuXHRcdFx0fSApO1xuXHRcdH1cblx0fSApO1xuXHRcblx0alF1ZXJ5LmVhY2goIFsgXCJ0b2dnbGVcIiwgXCJzaG93XCIsIFwiaGlkZVwiIF0sIGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHRcdHZhciBjc3NGbiA9IGpRdWVyeS5mblsgbmFtZSBdO1xuXHRcdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdFx0cmV0dXJuIHNwZWVkID09IG51bGwgfHwgdHlwZW9mIHNwZWVkID09PSBcImJvb2xlYW5cIiA/XG5cdFx0XHRcdGNzc0ZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSA6XG5cdFx0XHRcdHRoaXMuYW5pbWF0ZSggZ2VuRngoIG5hbWUsIHRydWUgKSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0XHR9O1xuXHR9ICk7XG5cdFxuXHQvLyBHZW5lcmF0ZSBzaG9ydGN1dHMgZm9yIGN1c3RvbSBhbmltYXRpb25zXG5cdGpRdWVyeS5lYWNoKCB7XG5cdFx0c2xpZGVEb3duOiBnZW5GeCggXCJzaG93XCIgKSxcblx0XHRzbGlkZVVwOiBnZW5GeCggXCJoaWRlXCIgKSxcblx0XHRzbGlkZVRvZ2dsZTogZ2VuRngoIFwidG9nZ2xlXCIgKSxcblx0XHRmYWRlSW46IHsgb3BhY2l0eTogXCJzaG93XCIgfSxcblx0XHRmYWRlT3V0OiB7IG9wYWNpdHk6IFwiaGlkZVwiIH0sXG5cdFx0ZmFkZVRvZ2dsZTogeyBvcGFjaXR5OiBcInRvZ2dsZVwiIH1cblx0fSwgZnVuY3Rpb24oIG5hbWUsIHByb3BzICkge1xuXHRcdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuYW5pbWF0ZSggcHJvcHMsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdFx0fTtcblx0fSApO1xuXHRcblx0alF1ZXJ5LnRpbWVycyA9IFtdO1xuXHRqUXVlcnkuZngudGljayA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aW1lcixcblx0XHRcdGkgPSAwLFxuXHRcdFx0dGltZXJzID0galF1ZXJ5LnRpbWVycztcblx0XG5cdFx0ZnhOb3cgPSBqUXVlcnkubm93KCk7XG5cdFxuXHRcdGZvciAoIDsgaSA8IHRpbWVycy5sZW5ndGg7IGkrKyApIHtcblx0XHRcdHRpbWVyID0gdGltZXJzWyBpIF07XG5cdFxuXHRcdFx0Ly8gQ2hlY2tzIHRoZSB0aW1lciBoYXMgbm90IGFscmVhZHkgYmVlbiByZW1vdmVkXG5cdFx0XHRpZiAoICF0aW1lcigpICYmIHRpbWVyc1sgaSBdID09PSB0aW1lciApIHtcblx0XHRcdFx0dGltZXJzLnNwbGljZSggaS0tLCAxICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRpZiAoICF0aW1lcnMubGVuZ3RoICkge1xuXHRcdFx0alF1ZXJ5LmZ4LnN0b3AoKTtcblx0XHR9XG5cdFx0ZnhOb3cgPSB1bmRlZmluZWQ7XG5cdH07XG5cdFxuXHRqUXVlcnkuZngudGltZXIgPSBmdW5jdGlvbiggdGltZXIgKSB7XG5cdFx0alF1ZXJ5LnRpbWVycy5wdXNoKCB0aW1lciApO1xuXHRcdGlmICggdGltZXIoKSApIHtcblx0XHRcdGpRdWVyeS5meC5zdGFydCgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRqUXVlcnkudGltZXJzLnBvcCgpO1xuXHRcdH1cblx0fTtcblx0XG5cdGpRdWVyeS5meC5pbnRlcnZhbCA9IDEzO1xuXHRqUXVlcnkuZnguc3RhcnQgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAoICF0aW1lcklkICkge1xuXHRcdFx0dGltZXJJZCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgP1xuXHRcdFx0XHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCByYWYgKSA6XG5cdFx0XHRcdHdpbmRvdy5zZXRJbnRlcnZhbCggalF1ZXJ5LmZ4LnRpY2ssIGpRdWVyeS5meC5pbnRlcnZhbCApO1xuXHRcdH1cblx0fTtcblx0XG5cdGpRdWVyeS5meC5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgKSB7XG5cdFx0XHR3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoIHRpbWVySWQgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0d2luZG93LmNsZWFySW50ZXJ2YWwoIHRpbWVySWQgKTtcblx0XHR9XG5cdFxuXHRcdHRpbWVySWQgPSBudWxsO1xuXHR9O1xuXHRcblx0alF1ZXJ5LmZ4LnNwZWVkcyA9IHtcblx0XHRzbG93OiA2MDAsXG5cdFx0ZmFzdDogMjAwLFxuXHRcblx0XHQvLyBEZWZhdWx0IHNwZWVkXG5cdFx0X2RlZmF1bHQ6IDQwMFxuXHR9O1xuXHRcblx0XG5cdC8vIEJhc2VkIG9mZiBvZiB0aGUgcGx1Z2luIGJ5IENsaW50IEhlbGZlcnMsIHdpdGggcGVybWlzc2lvbi5cblx0Ly8gaHR0cHM6Ly93ZWIuYXJjaGl2ZS5vcmcvd2ViLzIwMTAwMzI0MDE0NzQ3L2h0dHA6Ly9ibGluZHNpZ25hbHMuY29tL2luZGV4LnBocC8yMDA5LzA3L2pxdWVyeS1kZWxheS9cblx0alF1ZXJ5LmZuLmRlbGF5ID0gZnVuY3Rpb24oIHRpbWUsIHR5cGUgKSB7XG5cdFx0dGltZSA9IGpRdWVyeS5meCA/IGpRdWVyeS5meC5zcGVlZHNbIHRpbWUgXSB8fCB0aW1lIDogdGltZTtcblx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cdFxuXHRcdHJldHVybiB0aGlzLnF1ZXVlKCB0eXBlLCBmdW5jdGlvbiggbmV4dCwgaG9va3MgKSB7XG5cdFx0XHR2YXIgdGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCBuZXh0LCB0aW1lICk7XG5cdFx0XHRob29rcy5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHdpbmRvdy5jbGVhclRpbWVvdXQoIHRpbWVvdXQgKTtcblx0XHRcdH07XG5cdFx0fSApO1xuXHR9O1xuXHRcblx0XG5cdCggZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICksXG5cdFx0XHRzZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcInNlbGVjdFwiICksXG5cdFx0XHRvcHQgPSBzZWxlY3QuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwib3B0aW9uXCIgKSApO1xuXHRcblx0XHRpbnB1dC50eXBlID0gXCJjaGVja2JveFwiO1xuXHRcblx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4zIG9ubHlcblx0XHQvLyBEZWZhdWx0IHZhbHVlIGZvciBhIGNoZWNrYm94IHNob3VsZCBiZSBcIm9uXCJcblx0XHRzdXBwb3J0LmNoZWNrT24gPSBpbnB1dC52YWx1ZSAhPT0gXCJcIjtcblx0XG5cdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdFx0Ly8gTXVzdCBhY2Nlc3Mgc2VsZWN0ZWRJbmRleCB0byBtYWtlIGRlZmF1bHQgb3B0aW9ucyBzZWxlY3Rcblx0XHRzdXBwb3J0Lm9wdFNlbGVjdGVkID0gb3B0LnNlbGVjdGVkO1xuXHRcblx0XHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0XHQvLyBBbiBpbnB1dCBsb3NlcyBpdHMgdmFsdWUgYWZ0ZXIgYmVjb21pbmcgYSByYWRpb1xuXHRcdGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICk7XG5cdFx0aW5wdXQudmFsdWUgPSBcInRcIjtcblx0XHRpbnB1dC50eXBlID0gXCJyYWRpb1wiO1xuXHRcdHN1cHBvcnQucmFkaW9WYWx1ZSA9IGlucHV0LnZhbHVlID09PSBcInRcIjtcblx0fSApKCk7XG5cdFxuXHRcblx0dmFyIGJvb2xIb29rLFxuXHRcdGF0dHJIYW5kbGUgPSBqUXVlcnkuZXhwci5hdHRySGFuZGxlO1xuXHRcblx0alF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRcdGF0dHI6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGpRdWVyeS5hdHRyLCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgKTtcblx0XHR9LFxuXHRcblx0XHRyZW1vdmVBdHRyOiBmdW5jdGlvbiggbmFtZSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggdGhpcywgbmFtZSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblx0fSApO1xuXHRcblx0alF1ZXJ5LmV4dGVuZCgge1xuXHRcdGF0dHI6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHtcblx0XHRcdHZhciByZXQsIGhvb2tzLFxuXHRcdFx0XHRuVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cdFxuXHRcdFx0Ly8gRG9uJ3QgZ2V0L3NldCBhdHRyaWJ1dGVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlc1xuXHRcdFx0aWYgKCBuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMiApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEZhbGxiYWNrIHRvIHByb3Agd2hlbiBhdHRyaWJ1dGVzIGFyZSBub3Qgc3VwcG9ydGVkXG5cdFx0XHRpZiAoIHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSA9PT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRcdFx0cmV0dXJuIGpRdWVyeS5wcm9wKCBlbGVtLCBuYW1lLCB2YWx1ZSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEF0dHJpYnV0ZSBob29rcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgbG93ZXJjYXNlIHZlcnNpb25cblx0XHRcdC8vIEdyYWIgbmVjZXNzYXJ5IGhvb2sgaWYgb25lIGlzIGRlZmluZWRcblx0XHRcdGlmICggblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuXHRcdFx0XHRob29rcyA9IGpRdWVyeS5hdHRySG9va3NbIG5hbWUudG9Mb3dlckNhc2UoKSBdIHx8XG5cdFx0XHRcdFx0KCBqUXVlcnkuZXhwci5tYXRjaC5ib29sLnRlc3QoIG5hbWUgKSA/IGJvb2xIb29rIDogdW5kZWZpbmVkICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRpZiAoIHZhbHVlID09PSBudWxsICkge1xuXHRcdFx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCBlbGVtLCBuYW1lICk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRpZiAoIGhvb2tzICYmIFwic2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0XHQoIHJldCA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIG5hbWUgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIG5hbWUsIHZhbHVlICsgXCJcIiApO1xuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmICggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBuYW1lICkgKSAhPT0gbnVsbCApIHtcblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblx0XG5cdFx0XHRyZXQgPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBuYW1lICk7XG5cdFxuXHRcdFx0Ly8gTm9uLWV4aXN0ZW50IGF0dHJpYnV0ZXMgcmV0dXJuIG51bGwsIHdlIG5vcm1hbGl6ZSB0byB1bmRlZmluZWRcblx0XHRcdHJldHVybiByZXQgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IHJldDtcblx0XHR9LFxuXHRcblx0XHRhdHRySG9va3M6IHtcblx0XHRcdHR5cGU6IHtcblx0XHRcdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0XHRcdFx0aWYgKCAhc3VwcG9ydC5yYWRpb1ZhbHVlICYmIHZhbHVlID09PSBcInJhZGlvXCIgJiZcblx0XHRcdFx0XHRcdGpRdWVyeS5ub2RlTmFtZSggZWxlbSwgXCJpbnB1dFwiICkgKSB7XG5cdFx0XHRcdFx0XHR2YXIgdmFsID0gZWxlbS52YWx1ZTtcblx0XHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgdmFsdWUgKTtcblx0XHRcdFx0XHRcdGlmICggdmFsICkge1xuXHRcdFx0XHRcdFx0XHRlbGVtLnZhbHVlID0gdmFsO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdHJlbW92ZUF0dHI6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdHZhciBuYW1lLFxuXHRcdFx0XHRpID0gMCxcblx0XHRcdFx0YXR0ck5hbWVzID0gdmFsdWUgJiYgdmFsdWUubWF0Y2goIHJub3R3aGl0ZSApO1xuXHRcblx0XHRcdGlmICggYXR0ck5hbWVzICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdHdoaWxlICggKCBuYW1lID0gYXR0ck5hbWVzWyBpKysgXSApICkge1xuXHRcdFx0XHRcdGVsZW0ucmVtb3ZlQXR0cmlidXRlKCBuYW1lICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0gKTtcblx0XG5cdC8vIEhvb2tzIGZvciBib29sZWFuIGF0dHJpYnV0ZXNcblx0Ym9vbEhvb2sgPSB7XG5cdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIG5hbWUgKSB7XG5cdFx0XHRpZiAoIHZhbHVlID09PSBmYWxzZSApIHtcblx0XG5cdFx0XHRcdC8vIFJlbW92ZSBib29sZWFuIGF0dHJpYnV0ZXMgd2hlbiBzZXQgdG8gZmFsc2Vcblx0XHRcdFx0alF1ZXJ5LnJlbW92ZUF0dHIoIGVsZW0sIG5hbWUgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmFtZTtcblx0XHR9XG5cdH07XG5cdFxuXHRqUXVlcnkuZWFjaCggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goIC9cXHcrL2cgKSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdFx0dmFyIGdldHRlciA9IGF0dHJIYW5kbGVbIG5hbWUgXSB8fCBqUXVlcnkuZmluZC5hdHRyO1xuXHRcblx0XHRhdHRySGFuZGxlWyBuYW1lIF0gPSBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0XHR2YXIgcmV0LCBoYW5kbGUsXG5cdFx0XHRcdGxvd2VyY2FzZU5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFxuXHRcdFx0aWYgKCAhaXNYTUwgKSB7XG5cdFxuXHRcdFx0XHQvLyBBdm9pZCBhbiBpbmZpbml0ZSBsb29wIGJ5IHRlbXBvcmFyaWx5IHJlbW92aW5nIHRoaXMgZnVuY3Rpb24gZnJvbSB0aGUgZ2V0dGVyXG5cdFx0XHRcdGhhbmRsZSA9IGF0dHJIYW5kbGVbIGxvd2VyY2FzZU5hbWUgXTtcblx0XHRcdFx0YXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdID0gcmV0O1xuXHRcdFx0XHRyZXQgPSBnZXR0ZXIoIGVsZW0sIG5hbWUsIGlzWE1MICkgIT0gbnVsbCA/XG5cdFx0XHRcdFx0bG93ZXJjYXNlTmFtZSA6XG5cdFx0XHRcdFx0bnVsbDtcblx0XHRcdFx0YXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdID0gaGFuZGxlO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9O1xuXHR9ICk7XG5cdFxuXHRcblx0XG5cdFxuXHR2YXIgcmZvY3VzYWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksXG5cdFx0cmNsaWNrYWJsZSA9IC9eKD86YXxhcmVhKSQvaTtcblx0XG5cdGpRdWVyeS5mbi5leHRlbmQoIHtcblx0XHRwcm9wOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBqUXVlcnkucHJvcCwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdFx0fSxcblx0XG5cdFx0cmVtb3ZlUHJvcDogZnVuY3Rpb24oIG5hbWUgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZGVsZXRlIHRoaXNbIGpRdWVyeS5wcm9wRml4WyBuYW1lIF0gfHwgbmFtZSBdO1xuXHRcdFx0fSApO1xuXHRcdH1cblx0fSApO1xuXHRcblx0alF1ZXJ5LmV4dGVuZCgge1xuXHRcdHByb3A6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHtcblx0XHRcdHZhciByZXQsIGhvb2tzLFxuXHRcdFx0XHRuVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cdFxuXHRcdFx0Ly8gRG9uJ3QgZ2V0L3NldCBwcm9wZXJ0aWVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlc1xuXHRcdFx0aWYgKCBuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMiApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuXHRcblx0XHRcdFx0Ly8gRml4IG5hbWUgYW5kIGF0dGFjaCBob29rc1xuXHRcdFx0XHRuYW1lID0galF1ZXJ5LnByb3BGaXhbIG5hbWUgXSB8fCBuYW1lO1xuXHRcdFx0XHRob29rcyA9IGpRdWVyeS5wcm9wSG9va3NbIG5hbWUgXTtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdGlmICggaG9va3MgJiYgXCJzZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHRcdCggcmV0ID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgbmFtZSApICkgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRyZXR1cm4gKCBlbGVtWyBuYW1lIF0gPSB2YWx1ZSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgbmFtZSApICkgIT09IG51bGwgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIGVsZW1bIG5hbWUgXTtcblx0XHR9LFxuXHRcblx0XHRwcm9wSG9va3M6IHtcblx0XHRcdHRhYkluZGV4OiB7XG5cdFx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0XHRcdFx0XHQvLyBlbGVtLnRhYkluZGV4IGRvZXNuJ3QgYWx3YXlzIHJldHVybiB0aGVcblx0XHRcdFx0XHQvLyBjb3JyZWN0IHZhbHVlIHdoZW4gaXQgaGFzbid0IGJlZW4gZXhwbGljaXRseSBzZXRcblx0XHRcdFx0XHQvLyBodHRwczovL3dlYi5hcmNoaXZlLm9yZy93ZWIvMjAxNDExMTYyMzMzNDcvaHR0cDovL2ZsdWlkcHJvamVjdC5vcmcvYmxvZy8yMDA4LzAxLzA5L2dldHRpbmctc2V0dGluZy1hbmQtcmVtb3ZpbmctdGFiaW5kZXgtdmFsdWVzLXdpdGgtamF2YXNjcmlwdC9cblx0XHRcdFx0XHQvLyBVc2UgcHJvcGVyIGF0dHJpYnV0ZSByZXRyaWV2YWwoIzEyMDcyKVxuXHRcdFx0XHRcdHZhciB0YWJpbmRleCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIFwidGFiaW5kZXhcIiApO1xuXHRcblx0XHRcdFx0XHRyZXR1cm4gdGFiaW5kZXggP1xuXHRcdFx0XHRcdFx0cGFyc2VJbnQoIHRhYmluZGV4LCAxMCApIDpcblx0XHRcdFx0XHRcdHJmb2N1c2FibGUudGVzdCggZWxlbS5ub2RlTmFtZSApIHx8XG5cdFx0XHRcdFx0XHRcdHJjbGlja2FibGUudGVzdCggZWxlbS5ub2RlTmFtZSApICYmIGVsZW0uaHJlZiA/XG5cdFx0XHRcdFx0XHRcdFx0MCA6XG5cdFx0XHRcdFx0XHRcdFx0LTE7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRwcm9wRml4OiB7XG5cdFx0XHRcImZvclwiOiBcImh0bWxGb3JcIixcblx0XHRcdFwiY2xhc3NcIjogXCJjbGFzc05hbWVcIlxuXHRcdH1cblx0fSApO1xuXHRcblx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdC8vIEFjY2Vzc2luZyB0aGUgc2VsZWN0ZWRJbmRleCBwcm9wZXJ0eVxuXHQvLyBmb3JjZXMgdGhlIGJyb3dzZXIgdG8gcmVzcGVjdCBzZXR0aW5nIHNlbGVjdGVkXG5cdC8vIG9uIHRoZSBvcHRpb25cblx0Ly8gVGhlIGdldHRlciBlbnN1cmVzIGEgZGVmYXVsdCBvcHRpb24gaXMgc2VsZWN0ZWRcblx0Ly8gd2hlbiBpbiBhbiBvcHRncm91cFxuXHRpZiAoICFzdXBwb3J0Lm9wdFNlbGVjdGVkICkge1xuXHRcdGpRdWVyeS5wcm9wSG9va3Muc2VsZWN0ZWQgPSB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0XHRpZiAoIHBhcmVudCAmJiBwYXJlbnQucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0XHRwYXJlbnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fSxcblx0XHRcdHNldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cdFx0XHRcdGlmICggcGFyZW50ICkge1xuXHRcdFx0XHRcdHBhcmVudC5zZWxlY3RlZEluZGV4O1xuXHRcblx0XHRcdFx0XHRpZiAoIHBhcmVudC5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRcdFx0cGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cdFxuXHRqUXVlcnkuZWFjaCggW1xuXHRcdFwidGFiSW5kZXhcIixcblx0XHRcInJlYWRPbmx5XCIsXG5cdFx0XCJtYXhMZW5ndGhcIixcblx0XHRcImNlbGxTcGFjaW5nXCIsXG5cdFx0XCJjZWxsUGFkZGluZ1wiLFxuXHRcdFwicm93U3BhblwiLFxuXHRcdFwiY29sU3BhblwiLFxuXHRcdFwidXNlTWFwXCIsXG5cdFx0XCJmcmFtZUJvcmRlclwiLFxuXHRcdFwiY29udGVudEVkaXRhYmxlXCJcblx0XSwgZnVuY3Rpb24oKSB7XG5cdFx0alF1ZXJ5LnByb3BGaXhbIHRoaXMudG9Mb3dlckNhc2UoKSBdID0gdGhpcztcblx0fSApO1xuXHRcblx0XG5cdFxuXHRcblx0dmFyIHJjbGFzcyA9IC9bXFx0XFxyXFxuXFxmXS9nO1xuXHRcblx0ZnVuY3Rpb24gZ2V0Q2xhc3MoIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlICYmIGVsZW0uZ2V0QXR0cmlidXRlKCBcImNsYXNzXCIgKSB8fCBcIlwiO1xuXHR9XG5cdFxuXHRqUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdFx0YWRkQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciBjbGFzc2VzLCBlbGVtLCBjdXIsIGN1clZhbHVlLCBjbGF6eiwgaiwgZmluYWxWYWx1ZSxcblx0XHRcdFx0aSA9IDA7XG5cdFxuXHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGogKSB7XG5cdFx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuYWRkQ2xhc3MoIHZhbHVlLmNhbGwoIHRoaXMsIGosIGdldENsYXNzKCB0aGlzICkgKSApO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgdmFsdWUgKSB7XG5cdFx0XHRcdGNsYXNzZXMgPSB2YWx1ZS5tYXRjaCggcm5vdHdoaXRlICkgfHwgW107XG5cdFxuXHRcdFx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRcdFx0Y3VyVmFsdWUgPSBnZXRDbGFzcyggZWxlbSApO1xuXHRcdFx0XHRcdGN1ciA9IGVsZW0ubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0XHRcdCggXCIgXCIgKyBjdXJWYWx1ZSArIFwiIFwiICkucmVwbGFjZSggcmNsYXNzLCBcIiBcIiApO1xuXHRcblx0XHRcdFx0XHRpZiAoIGN1ciApIHtcblx0XHRcdFx0XHRcdGogPSAwO1xuXHRcdFx0XHRcdFx0d2hpbGUgKCAoIGNsYXp6ID0gY2xhc3Nlc1sgaisrIF0gKSApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCBjdXIuaW5kZXhPZiggXCIgXCIgKyBjbGF6eiArIFwiIFwiICkgPCAwICkge1xuXHRcdFx0XHRcdFx0XHRcdGN1ciArPSBjbGF6eiArIFwiIFwiO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0Ly8gT25seSBhc3NpZ24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy5cblx0XHRcdFx0XHRcdGZpbmFsVmFsdWUgPSBqUXVlcnkudHJpbSggY3VyICk7XG5cdFx0XHRcdFx0XHRpZiAoIGN1clZhbHVlICE9PSBmaW5hbFZhbHVlICkge1xuXHRcdFx0XHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggXCJjbGFzc1wiLCBmaW5hbFZhbHVlICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XG5cdFx0cmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciBjbGFzc2VzLCBlbGVtLCBjdXIsIGN1clZhbHVlLCBjbGF6eiwgaiwgZmluYWxWYWx1ZSxcblx0XHRcdFx0aSA9IDA7XG5cdFxuXHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGogKSB7XG5cdFx0XHRcdFx0alF1ZXJ5KCB0aGlzICkucmVtb3ZlQ2xhc3MoIHZhbHVlLmNhbGwoIHRoaXMsIGosIGdldENsYXNzKCB0aGlzICkgKSApO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCAhYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuYXR0ciggXCJjbGFzc1wiLCBcIlwiICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgdmFsdWUgKSB7XG5cdFx0XHRcdGNsYXNzZXMgPSB2YWx1ZS5tYXRjaCggcm5vdHdoaXRlICkgfHwgW107XG5cdFxuXHRcdFx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRcdFx0Y3VyVmFsdWUgPSBnZXRDbGFzcyggZWxlbSApO1xuXHRcblx0XHRcdFx0XHQvLyBUaGlzIGV4cHJlc3Npb24gaXMgaGVyZSBmb3IgYmV0dGVyIGNvbXByZXNzaWJpbGl0eSAoc2VlIGFkZENsYXNzKVxuXHRcdFx0XHRcdGN1ciA9IGVsZW0ubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0XHRcdCggXCIgXCIgKyBjdXJWYWx1ZSArIFwiIFwiICkucmVwbGFjZSggcmNsYXNzLCBcIiBcIiApO1xuXHRcblx0XHRcdFx0XHRpZiAoIGN1ciApIHtcblx0XHRcdFx0XHRcdGogPSAwO1xuXHRcdFx0XHRcdFx0d2hpbGUgKCAoIGNsYXp6ID0gY2xhc3Nlc1sgaisrIF0gKSApIHtcblx0XG5cdFx0XHRcdFx0XHRcdC8vIFJlbW92ZSAqYWxsKiBpbnN0YW5jZXNcblx0XHRcdFx0XHRcdFx0d2hpbGUgKCBjdXIuaW5kZXhPZiggXCIgXCIgKyBjbGF6eiArIFwiIFwiICkgPiAtMSApIHtcblx0XHRcdFx0XHRcdFx0XHRjdXIgPSBjdXIucmVwbGFjZSggXCIgXCIgKyBjbGF6eiArIFwiIFwiLCBcIiBcIiApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0Ly8gT25seSBhc3NpZ24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy5cblx0XHRcdFx0XHRcdGZpbmFsVmFsdWUgPSBqUXVlcnkudHJpbSggY3VyICk7XG5cdFx0XHRcdFx0XHRpZiAoIGN1clZhbHVlICE9PSBmaW5hbFZhbHVlICkge1xuXHRcdFx0XHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggXCJjbGFzc1wiLCBmaW5hbFZhbHVlICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XG5cdFx0dG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSwgc3RhdGVWYWwgKSB7XG5cdFx0XHR2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcblx0XG5cdFx0XHRpZiAoIHR5cGVvZiBzdGF0ZVZhbCA9PT0gXCJib29sZWFuXCIgJiYgdHlwZSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0cmV0dXJuIHN0YXRlVmFsID8gdGhpcy5hZGRDbGFzcyggdmFsdWUgKSA6IHRoaXMucmVtb3ZlQ2xhc3MoIHZhbHVlICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5KCB0aGlzICkudG9nZ2xlQ2xhc3MoXG5cdFx0XHRcdFx0XHR2YWx1ZS5jYWxsKCB0aGlzLCBpLCBnZXRDbGFzcyggdGhpcyApLCBzdGF0ZVZhbCApLFxuXHRcdFx0XHRcdFx0c3RhdGVWYWxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBjbGFzc05hbWUsIGksIHNlbGYsIGNsYXNzTmFtZXM7XG5cdFxuXHRcdFx0XHRpZiAoIHR5cGUgPT09IFwic3RyaW5nXCIgKSB7XG5cdFxuXHRcdFx0XHRcdC8vIFRvZ2dsZSBpbmRpdmlkdWFsIGNsYXNzIG5hbWVzXG5cdFx0XHRcdFx0aSA9IDA7XG5cdFx0XHRcdFx0c2VsZiA9IGpRdWVyeSggdGhpcyApO1xuXHRcdFx0XHRcdGNsYXNzTmFtZXMgPSB2YWx1ZS5tYXRjaCggcm5vdHdoaXRlICkgfHwgW107XG5cdFxuXHRcdFx0XHRcdHdoaWxlICggKCBjbGFzc05hbWUgPSBjbGFzc05hbWVzWyBpKysgXSApICkge1xuXHRcblx0XHRcdFx0XHRcdC8vIENoZWNrIGVhY2ggY2xhc3NOYW1lIGdpdmVuLCBzcGFjZSBzZXBhcmF0ZWQgbGlzdFxuXHRcdFx0XHRcdFx0aWYgKCBzZWxmLmhhc0NsYXNzKCBjbGFzc05hbWUgKSApIHtcblx0XHRcdFx0XHRcdFx0c2VsZi5yZW1vdmVDbGFzcyggY2xhc3NOYW1lICk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRzZWxmLmFkZENsYXNzKCBjbGFzc05hbWUgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBUb2dnbGUgd2hvbGUgY2xhc3MgbmFtZVxuXHRcdFx0XHR9IGVsc2UgaWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGUgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdFx0XHRcdGNsYXNzTmFtZSA9IGdldENsYXNzKCB0aGlzICk7XG5cdFx0XHRcdFx0aWYgKCBjbGFzc05hbWUgKSB7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gU3RvcmUgY2xhc3NOYW1lIGlmIHNldFxuXHRcdFx0XHRcdFx0ZGF0YVByaXYuc2V0KCB0aGlzLCBcIl9fY2xhc3NOYW1lX19cIiwgY2xhc3NOYW1lICk7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBJZiB0aGUgZWxlbWVudCBoYXMgYSBjbGFzcyBuYW1lIG9yIGlmIHdlJ3JlIHBhc3NlZCBgZmFsc2VgLFxuXHRcdFx0XHRcdC8vIHRoZW4gcmVtb3ZlIHRoZSB3aG9sZSBjbGFzc25hbWUgKGlmIHRoZXJlIHdhcyBvbmUsIHRoZSBhYm92ZSBzYXZlZCBpdCkuXG5cdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlIGJyaW5nIGJhY2sgd2hhdGV2ZXIgd2FzIHByZXZpb3VzbHkgc2F2ZWQgKGlmIGFueXRoaW5nKSxcblx0XHRcdFx0XHQvLyBmYWxsaW5nIGJhY2sgdG8gdGhlIGVtcHR5IHN0cmluZyBpZiBub3RoaW5nIHdhcyBzdG9yZWQuXG5cdFx0XHRcdFx0aWYgKCB0aGlzLnNldEF0dHJpYnV0ZSApIHtcblx0XHRcdFx0XHRcdHRoaXMuc2V0QXR0cmlidXRlKCBcImNsYXNzXCIsXG5cdFx0XHRcdFx0XHRcdGNsYXNzTmFtZSB8fCB2YWx1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0XHRcdFx0XHRcIlwiIDpcblx0XHRcdFx0XHRcdFx0ZGF0YVByaXYuZ2V0KCB0aGlzLCBcIl9fY2xhc3NOYW1lX19cIiApIHx8IFwiXCJcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fSxcblx0XG5cdFx0aGFzQ2xhc3M6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRcdHZhciBjbGFzc05hbWUsIGVsZW0sXG5cdFx0XHRcdGkgPSAwO1xuXHRcblx0XHRcdGNsYXNzTmFtZSA9IFwiIFwiICsgc2VsZWN0b3IgKyBcIiBcIjtcblx0XHRcdHdoaWxlICggKCBlbGVtID0gdGhpc1sgaSsrIF0gKSApIHtcblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdFx0KCBcIiBcIiArIGdldENsYXNzKCBlbGVtICkgKyBcIiBcIiApLnJlcGxhY2UoIHJjbGFzcywgXCIgXCIgKVxuXHRcdFx0XHRcdFx0LmluZGV4T2YoIGNsYXNzTmFtZSApID4gLTFcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRcblx0XG5cdFxuXHR2YXIgcnJldHVybiA9IC9cXHIvZyxcblx0XHRyc3BhY2VzID0gL1tcXHgyMFxcdFxcclxcblxcZl0rL2c7XG5cdFxuXHRqUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdFx0dmFsOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgaG9va3MsIHJldCwgaXNGdW5jdGlvbixcblx0XHRcdFx0ZWxlbSA9IHRoaXNbIDAgXTtcblx0XG5cdFx0XHRpZiAoICFhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRcdFx0aG9va3MgPSBqUXVlcnkudmFsSG9va3NbIGVsZW0udHlwZSBdIHx8XG5cdFx0XHRcdFx0XHRqUXVlcnkudmFsSG9va3NbIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSBdO1xuXHRcblx0XHRcdFx0XHRpZiAoIGhvb2tzICYmXG5cdFx0XHRcdFx0XHRcImdldFwiIGluIGhvb2tzICYmXG5cdFx0XHRcdFx0XHQoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgXCJ2YWx1ZVwiICkgKSAhPT0gdW5kZWZpbmVkXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0cmV0ID0gZWxlbS52YWx1ZTtcblx0XG5cdFx0XHRcdFx0cmV0dXJuIHR5cGVvZiByZXQgPT09IFwic3RyaW5nXCIgP1xuXHRcblx0XHRcdFx0XHRcdC8vIEhhbmRsZSBtb3N0IGNvbW1vbiBzdHJpbmcgY2FzZXNcblx0XHRcdFx0XHRcdHJldC5yZXBsYWNlKCBycmV0dXJuLCBcIlwiICkgOlxuXHRcblx0XHRcdFx0XHRcdC8vIEhhbmRsZSBjYXNlcyB3aGVyZSB2YWx1ZSBpcyBudWxsL3VuZGVmIG9yIG51bWJlclxuXHRcdFx0XHRcdFx0cmV0ID09IG51bGwgPyBcIlwiIDogcmV0O1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0aXNGdW5jdGlvbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXHRcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHR2YXIgdmFsO1xuXHRcblx0XHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlICE9PSAxICkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0aWYgKCBpc0Z1bmN0aW9uICkge1xuXHRcdFx0XHRcdHZhbCA9IHZhbHVlLmNhbGwoIHRoaXMsIGksIGpRdWVyeSggdGhpcyApLnZhbCgpICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dmFsID0gdmFsdWU7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFRyZWF0IG51bGwvdW5kZWZpbmVkIGFzIFwiXCI7IGNvbnZlcnQgbnVtYmVycyB0byBzdHJpbmdcblx0XHRcdFx0aWYgKCB2YWwgPT0gbnVsbCApIHtcblx0XHRcdFx0XHR2YWwgPSBcIlwiO1xuXHRcblx0XHRcdFx0fSBlbHNlIGlmICggdHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIiApIHtcblx0XHRcdFx0XHR2YWwgKz0gXCJcIjtcblx0XG5cdFx0XHRcdH0gZWxzZSBpZiAoIGpRdWVyeS5pc0FycmF5KCB2YWwgKSApIHtcblx0XHRcdFx0XHR2YWwgPSBqUXVlcnkubWFwKCB2YWwsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICsgXCJcIjtcblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGhvb2tzID0galF1ZXJ5LnZhbEhvb2tzWyB0aGlzLnR5cGUgXSB8fCBqUXVlcnkudmFsSG9va3NbIHRoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSBdO1xuXHRcblx0XHRcdFx0Ly8gSWYgc2V0IHJldHVybnMgdW5kZWZpbmVkLCBmYWxsIGJhY2sgdG8gbm9ybWFsIHNldHRpbmdcblx0XHRcdFx0aWYgKCAhaG9va3MgfHwgISggXCJzZXRcIiBpbiBob29rcyApIHx8IGhvb2tzLnNldCggdGhpcywgdmFsLCBcInZhbHVlXCIgKSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHRoaXMudmFsdWUgPSB2YWw7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9XG5cdH0gKTtcblx0XG5cdGpRdWVyeS5leHRlbmQoIHtcblx0XHR2YWxIb29rczoge1xuXHRcdFx0b3B0aW9uOiB7XG5cdFx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFxuXHRcdFx0XHRcdHZhciB2YWwgPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBcInZhbHVlXCIgKTtcblx0XHRcdFx0XHRyZXR1cm4gdmFsICE9IG51bGwgP1xuXHRcdFx0XHRcdFx0dmFsIDpcblx0XG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTEwIC0gMTEgb25seVxuXHRcdFx0XHRcdFx0Ly8gb3B0aW9uLnRleHQgdGhyb3dzIGV4Y2VwdGlvbnMgKCMxNDY4NiwgIzE0ODU4KVxuXHRcdFx0XHRcdFx0Ly8gU3RyaXAgYW5kIGNvbGxhcHNlIHdoaXRlc3BhY2Vcblx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI3N0cmlwLWFuZC1jb2xsYXBzZS13aGl0ZXNwYWNlXG5cdFx0XHRcdFx0XHRqUXVlcnkudHJpbSggalF1ZXJ5LnRleHQoIGVsZW0gKSApLnJlcGxhY2UoIHJzcGFjZXMsIFwiIFwiICk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRzZWxlY3Q6IHtcblx0XHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHR2YXIgdmFsdWUsIG9wdGlvbixcblx0XHRcdFx0XHRcdG9wdGlvbnMgPSBlbGVtLm9wdGlvbnMsXG5cdFx0XHRcdFx0XHRpbmRleCA9IGVsZW0uc2VsZWN0ZWRJbmRleCxcblx0XHRcdFx0XHRcdG9uZSA9IGVsZW0udHlwZSA9PT0gXCJzZWxlY3Qtb25lXCIsXG5cdFx0XHRcdFx0XHR2YWx1ZXMgPSBvbmUgPyBudWxsIDogW10sXG5cdFx0XHRcdFx0XHRtYXggPSBvbmUgPyBpbmRleCArIDEgOiBvcHRpb25zLmxlbmd0aCxcblx0XHRcdFx0XHRcdGkgPSBpbmRleCA8IDAgP1xuXHRcdFx0XHRcdFx0XHRtYXggOlxuXHRcdFx0XHRcdFx0XHRvbmUgPyBpbmRleCA6IDA7XG5cdFxuXHRcdFx0XHRcdC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIHNlbGVjdGVkIG9wdGlvbnNcblx0XHRcdFx0XHRmb3IgKCA7IGkgPCBtYXg7IGkrKyApIHtcblx0XHRcdFx0XHRcdG9wdGlvbiA9IG9wdGlvbnNbIGkgXTtcblx0XG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRcdFx0XHRcdFx0Ly8gSUU4LTkgZG9lc24ndCB1cGRhdGUgc2VsZWN0ZWQgYWZ0ZXIgZm9ybSByZXNldCAoIzI1NTEpXG5cdFx0XHRcdFx0XHRpZiAoICggb3B0aW9uLnNlbGVjdGVkIHx8IGkgPT09IGluZGV4ICkgJiZcblx0XG5cdFx0XHRcdFx0XHRcdFx0Ly8gRG9uJ3QgcmV0dXJuIG9wdGlvbnMgdGhhdCBhcmUgZGlzYWJsZWQgb3IgaW4gYSBkaXNhYmxlZCBvcHRncm91cFxuXHRcdFx0XHRcdFx0XHRcdCFvcHRpb24uZGlzYWJsZWQgJiZcblx0XHRcdFx0XHRcdFx0XHQoICFvcHRpb24ucGFyZW50Tm9kZS5kaXNhYmxlZCB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0IWpRdWVyeS5ub2RlTmFtZSggb3B0aW9uLnBhcmVudE5vZGUsIFwib3B0Z3JvdXBcIiApICkgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHQvLyBHZXQgdGhlIHNwZWNpZmljIHZhbHVlIGZvciB0aGUgb3B0aW9uXG5cdFx0XHRcdFx0XHRcdHZhbHVlID0galF1ZXJ5KCBvcHRpb24gKS52YWwoKTtcblx0XG5cdFx0XHRcdFx0XHRcdC8vIFdlIGRvbid0IG5lZWQgYW4gYXJyYXkgZm9yIG9uZSBzZWxlY3RzXG5cdFx0XHRcdFx0XHRcdGlmICggb25lICkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdFx0Ly8gTXVsdGktU2VsZWN0cyByZXR1cm4gYW4gYXJyYXlcblx0XHRcdFx0XHRcdFx0dmFsdWVzLnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRyZXR1cm4gdmFsdWVzO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0XHRcdFx0dmFyIG9wdGlvblNldCwgb3B0aW9uLFxuXHRcdFx0XHRcdFx0b3B0aW9ucyA9IGVsZW0ub3B0aW9ucyxcblx0XHRcdFx0XHRcdHZhbHVlcyA9IGpRdWVyeS5tYWtlQXJyYXkoIHZhbHVlICksXG5cdFx0XHRcdFx0XHRpID0gb3B0aW9ucy5sZW5ndGg7XG5cdFxuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0b3B0aW9uID0gb3B0aW9uc1sgaSBdO1xuXHRcblx0XHRcdFx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbmQtYXNzaWduICovXG5cdFxuXHRcdFx0XHRcdFx0aWYgKCBvcHRpb24uc2VsZWN0ZWQgPVxuXHRcdFx0XHRcdFx0XHRqUXVlcnkuaW5BcnJheSggalF1ZXJ5LnZhbEhvb2tzLm9wdGlvbi5nZXQoIG9wdGlvbiApLCB2YWx1ZXMgKSA+IC0xXG5cdFx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdFx0b3B0aW9uU2V0ID0gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHQvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbmQtYXNzaWduICovXG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBGb3JjZSBicm93c2VycyB0byBiZWhhdmUgY29uc2lzdGVudGx5IHdoZW4gbm9uLW1hdGNoaW5nIHZhbHVlIGlzIHNldFxuXHRcdFx0XHRcdGlmICggIW9wdGlvblNldCApIHtcblx0XHRcdFx0XHRcdGVsZW0uc2VsZWN0ZWRJbmRleCA9IC0xO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdmFsdWVzO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHQvLyBSYWRpb3MgYW5kIGNoZWNrYm94ZXMgZ2V0dGVyL3NldHRlclxuXHRqUXVlcnkuZWFjaCggWyBcInJhZGlvXCIsIFwiY2hlY2tib3hcIiBdLCBmdW5jdGlvbigpIHtcblx0XHRqUXVlcnkudmFsSG9va3NbIHRoaXMgXSA9IHtcblx0XHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0XHRpZiAoIGpRdWVyeS5pc0FycmF5KCB2YWx1ZSApICkge1xuXHRcdFx0XHRcdHJldHVybiAoIGVsZW0uY2hlY2tlZCA9IGpRdWVyeS5pbkFycmF5KCBqUXVlcnkoIGVsZW0gKS52YWwoKSwgdmFsdWUgKSA+IC0xICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHRcdGlmICggIXN1cHBvcnQuY2hlY2tPbiApIHtcblx0XHRcdGpRdWVyeS52YWxIb29rc1sgdGhpcyBdLmdldCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiApID09PSBudWxsID8gXCJvblwiIDogZWxlbS52YWx1ZTtcblx0XHRcdH07XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRcblx0XG5cdFxuXHQvLyBSZXR1cm4galF1ZXJ5IGZvciBhdHRyaWJ1dGVzLW9ubHkgaW5jbHVzaW9uXG5cdFxuXHRcblx0dmFyIHJmb2N1c01vcnBoID0gL14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvO1xuXHRcblx0alF1ZXJ5LmV4dGVuZCggalF1ZXJ5LmV2ZW50LCB7XG5cdFxuXHRcdHRyaWdnZXI6IGZ1bmN0aW9uKCBldmVudCwgZGF0YSwgZWxlbSwgb25seUhhbmRsZXJzICkge1xuXHRcblx0XHRcdHZhciBpLCBjdXIsIHRtcCwgYnViYmxlVHlwZSwgb250eXBlLCBoYW5kbGUsIHNwZWNpYWwsXG5cdFx0XHRcdGV2ZW50UGF0aCA9IFsgZWxlbSB8fCBkb2N1bWVudCBdLFxuXHRcdFx0XHR0eXBlID0gaGFzT3duLmNhbGwoIGV2ZW50LCBcInR5cGVcIiApID8gZXZlbnQudHlwZSA6IGV2ZW50LFxuXHRcdFx0XHRuYW1lc3BhY2VzID0gaGFzT3duLmNhbGwoIGV2ZW50LCBcIm5hbWVzcGFjZVwiICkgPyBldmVudC5uYW1lc3BhY2Uuc3BsaXQoIFwiLlwiICkgOiBbXTtcblx0XG5cdFx0XHRjdXIgPSB0bXAgPSBlbGVtID0gZWxlbSB8fCBkb2N1bWVudDtcblx0XG5cdFx0XHQvLyBEb24ndCBkbyBldmVudHMgb24gdGV4dCBhbmQgY29tbWVudCBub2Rlc1xuXHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBmb2N1cy9ibHVyIG1vcnBocyB0byBmb2N1c2luL291dDsgZW5zdXJlIHdlJ3JlIG5vdCBmaXJpbmcgdGhlbSByaWdodCBub3dcblx0XHRcdGlmICggcmZvY3VzTW9ycGgudGVzdCggdHlwZSArIGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgKSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggdHlwZS5pbmRleE9mKCBcIi5cIiApID4gLTEgKSB7XG5cdFxuXHRcdFx0XHQvLyBOYW1lc3BhY2VkIHRyaWdnZXI7IGNyZWF0ZSBhIHJlZ2V4cCB0byBtYXRjaCBldmVudCB0eXBlIGluIGhhbmRsZSgpXG5cdFx0XHRcdG5hbWVzcGFjZXMgPSB0eXBlLnNwbGl0KCBcIi5cIiApO1xuXHRcdFx0XHR0eXBlID0gbmFtZXNwYWNlcy5zaGlmdCgpO1xuXHRcdFx0XHRuYW1lc3BhY2VzLnNvcnQoKTtcblx0XHRcdH1cblx0XHRcdG9udHlwZSA9IHR5cGUuaW5kZXhPZiggXCI6XCIgKSA8IDAgJiYgXCJvblwiICsgdHlwZTtcblx0XG5cdFx0XHQvLyBDYWxsZXIgY2FuIHBhc3MgaW4gYSBqUXVlcnkuRXZlbnQgb2JqZWN0LCBPYmplY3QsIG9yIGp1c3QgYW4gZXZlbnQgdHlwZSBzdHJpbmdcblx0XHRcdGV2ZW50ID0gZXZlbnRbIGpRdWVyeS5leHBhbmRvIF0gP1xuXHRcdFx0XHRldmVudCA6XG5cdFx0XHRcdG5ldyBqUXVlcnkuRXZlbnQoIHR5cGUsIHR5cGVvZiBldmVudCA9PT0gXCJvYmplY3RcIiAmJiBldmVudCApO1xuXHRcblx0XHRcdC8vIFRyaWdnZXIgYml0bWFzazogJiAxIGZvciBuYXRpdmUgaGFuZGxlcnM7ICYgMiBmb3IgalF1ZXJ5IChhbHdheXMgdHJ1ZSlcblx0XHRcdGV2ZW50LmlzVHJpZ2dlciA9IG9ubHlIYW5kbGVycyA/IDIgOiAzO1xuXHRcdFx0ZXZlbnQubmFtZXNwYWNlID0gbmFtZXNwYWNlcy5qb2luKCBcIi5cIiApO1xuXHRcdFx0ZXZlbnQucm5hbWVzcGFjZSA9IGV2ZW50Lm5hbWVzcGFjZSA/XG5cdFx0XHRcdG5ldyBSZWdFeHAoIFwiKF58XFxcXC4pXCIgKyBuYW1lc3BhY2VzLmpvaW4oIFwiXFxcXC4oPzouKlxcXFwufClcIiApICsgXCIoXFxcXC58JClcIiApIDpcblx0XHRcdFx0bnVsbDtcblx0XG5cdFx0XHQvLyBDbGVhbiB1cCB0aGUgZXZlbnQgaW4gY2FzZSBpdCBpcyBiZWluZyByZXVzZWRcblx0XHRcdGV2ZW50LnJlc3VsdCA9IHVuZGVmaW5lZDtcblx0XHRcdGlmICggIWV2ZW50LnRhcmdldCApIHtcblx0XHRcdFx0ZXZlbnQudGFyZ2V0ID0gZWxlbTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBDbG9uZSBhbnkgaW5jb21pbmcgZGF0YSBhbmQgcHJlcGVuZCB0aGUgZXZlbnQsIGNyZWF0aW5nIHRoZSBoYW5kbGVyIGFyZyBsaXN0XG5cdFx0XHRkYXRhID0gZGF0YSA9PSBudWxsID9cblx0XHRcdFx0WyBldmVudCBdIDpcblx0XHRcdFx0alF1ZXJ5Lm1ha2VBcnJheSggZGF0YSwgWyBldmVudCBdICk7XG5cdFxuXHRcdFx0Ly8gQWxsb3cgc3BlY2lhbCBldmVudHMgdG8gZHJhdyBvdXRzaWRlIHRoZSBsaW5lc1xuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cdFx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgc3BlY2lhbC50cmlnZ2VyICYmIHNwZWNpYWwudHJpZ2dlci5hcHBseSggZWxlbSwgZGF0YSApID09PSBmYWxzZSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIERldGVybWluZSBldmVudCBwcm9wYWdhdGlvbiBwYXRoIGluIGFkdmFuY2UsIHBlciBXM0MgZXZlbnRzIHNwZWMgKCM5OTUxKVxuXHRcdFx0Ly8gQnViYmxlIHVwIHRvIGRvY3VtZW50LCB0aGVuIHRvIHdpbmRvdzsgd2F0Y2ggZm9yIGEgZ2xvYmFsIG93bmVyRG9jdW1lbnQgdmFyICgjOTcyNClcblx0XHRcdGlmICggIW9ubHlIYW5kbGVycyAmJiAhc3BlY2lhbC5ub0J1YmJsZSAmJiAhalF1ZXJ5LmlzV2luZG93KCBlbGVtICkgKSB7XG5cdFxuXHRcdFx0XHRidWJibGVUeXBlID0gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgfHwgdHlwZTtcblx0XHRcdFx0aWYgKCAhcmZvY3VzTW9ycGgudGVzdCggYnViYmxlVHlwZSArIHR5cGUgKSApIHtcblx0XHRcdFx0XHRjdXIgPSBjdXIucGFyZW50Tm9kZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRmb3IgKCA7IGN1cjsgY3VyID0gY3VyLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdFx0ZXZlbnRQYXRoLnB1c2goIGN1ciApO1xuXHRcdFx0XHRcdHRtcCA9IGN1cjtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gT25seSBhZGQgd2luZG93IGlmIHdlIGdvdCB0byBkb2N1bWVudCAoZS5nLiwgbm90IHBsYWluIG9iaiBvciBkZXRhY2hlZCBET00pXG5cdFx0XHRcdGlmICggdG1wID09PSAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudCApICkge1xuXHRcdFx0XHRcdGV2ZW50UGF0aC5wdXNoKCB0bXAuZGVmYXVsdFZpZXcgfHwgdG1wLnBhcmVudFdpbmRvdyB8fCB3aW5kb3cgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEZpcmUgaGFuZGxlcnMgb24gdGhlIGV2ZW50IHBhdGhcblx0XHRcdGkgPSAwO1xuXHRcdFx0d2hpbGUgKCAoIGN1ciA9IGV2ZW50UGF0aFsgaSsrIF0gKSAmJiAhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblx0XG5cdFx0XHRcdGV2ZW50LnR5cGUgPSBpID4gMSA/XG5cdFx0XHRcdFx0YnViYmxlVHlwZSA6XG5cdFx0XHRcdFx0c3BlY2lhbC5iaW5kVHlwZSB8fCB0eXBlO1xuXHRcblx0XHRcdFx0Ly8galF1ZXJ5IGhhbmRsZXJcblx0XHRcdFx0aGFuZGxlID0gKCBkYXRhUHJpdi5nZXQoIGN1ciwgXCJldmVudHNcIiApIHx8IHt9IClbIGV2ZW50LnR5cGUgXSAmJlxuXHRcdFx0XHRcdGRhdGFQcml2LmdldCggY3VyLCBcImhhbmRsZVwiICk7XG5cdFx0XHRcdGlmICggaGFuZGxlICkge1xuXHRcdFx0XHRcdGhhbmRsZS5hcHBseSggY3VyLCBkYXRhICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIE5hdGl2ZSBoYW5kbGVyXG5cdFx0XHRcdGhhbmRsZSA9IG9udHlwZSAmJiBjdXJbIG9udHlwZSBdO1xuXHRcdFx0XHRpZiAoIGhhbmRsZSAmJiBoYW5kbGUuYXBwbHkgJiYgYWNjZXB0RGF0YSggY3VyICkgKSB7XG5cdFx0XHRcdFx0ZXZlbnQucmVzdWx0ID0gaGFuZGxlLmFwcGx5KCBjdXIsIGRhdGEgKTtcblx0XHRcdFx0XHRpZiAoIGV2ZW50LnJlc3VsdCA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0ZXZlbnQudHlwZSA9IHR5cGU7XG5cdFxuXHRcdFx0Ly8gSWYgbm9ib2R5IHByZXZlbnRlZCB0aGUgZGVmYXVsdCBhY3Rpb24sIGRvIGl0IG5vd1xuXHRcdFx0aWYgKCAhb25seUhhbmRsZXJzICYmICFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHtcblx0XG5cdFx0XHRcdGlmICggKCAhc3BlY2lhbC5fZGVmYXVsdCB8fFxuXHRcdFx0XHRcdHNwZWNpYWwuX2RlZmF1bHQuYXBwbHkoIGV2ZW50UGF0aC5wb3AoKSwgZGF0YSApID09PSBmYWxzZSApICYmXG5cdFx0XHRcdFx0YWNjZXB0RGF0YSggZWxlbSApICkge1xuXHRcblx0XHRcdFx0XHQvLyBDYWxsIGEgbmF0aXZlIERPTSBtZXRob2Qgb24gdGhlIHRhcmdldCB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgdGhlIGV2ZW50LlxuXHRcdFx0XHRcdC8vIERvbid0IGRvIGRlZmF1bHQgYWN0aW9ucyBvbiB3aW5kb3csIHRoYXQncyB3aGVyZSBnbG9iYWwgdmFyaWFibGVzIGJlICgjNjE3MClcblx0XHRcdFx0XHRpZiAoIG9udHlwZSAmJiBqUXVlcnkuaXNGdW5jdGlvbiggZWxlbVsgdHlwZSBdICkgJiYgIWpRdWVyeS5pc1dpbmRvdyggZWxlbSApICkge1xuXHRcblx0XHRcdFx0XHRcdC8vIERvbid0IHJlLXRyaWdnZXIgYW4gb25GT08gZXZlbnQgd2hlbiB3ZSBjYWxsIGl0cyBGT08oKSBtZXRob2Rcblx0XHRcdFx0XHRcdHRtcCA9IGVsZW1bIG9udHlwZSBdO1xuXHRcblx0XHRcdFx0XHRcdGlmICggdG1wICkge1xuXHRcdFx0XHRcdFx0XHRlbGVtWyBvbnR5cGUgXSA9IG51bGw7XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0Ly8gUHJldmVudCByZS10cmlnZ2VyaW5nIG9mIHRoZSBzYW1lIGV2ZW50LCBzaW5jZSB3ZSBhbHJlYWR5IGJ1YmJsZWQgaXQgYWJvdmVcblx0XHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB0eXBlO1xuXHRcdFx0XHRcdFx0ZWxlbVsgdHlwZSBdKCk7XG5cdFx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlcmVkID0gdW5kZWZpbmVkO1xuXHRcblx0XHRcdFx0XHRcdGlmICggdG1wICkge1xuXHRcdFx0XHRcdFx0XHRlbGVtWyBvbnR5cGUgXSA9IHRtcDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gZXZlbnQucmVzdWx0O1xuXHRcdH0sXG5cdFxuXHRcdC8vIFBpZ2d5YmFjayBvbiBhIGRvbm9yIGV2ZW50IHRvIHNpbXVsYXRlIGEgZGlmZmVyZW50IG9uZVxuXHRcdC8vIFVzZWQgb25seSBmb3IgYGZvY3VzKGluIHwgb3V0KWAgZXZlbnRzXG5cdFx0c2ltdWxhdGU6IGZ1bmN0aW9uKCB0eXBlLCBlbGVtLCBldmVudCApIHtcblx0XHRcdHZhciBlID0galF1ZXJ5LmV4dGVuZChcblx0XHRcdFx0bmV3IGpRdWVyeS5FdmVudCgpLFxuXHRcdFx0XHRldmVudCxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdFx0aXNTaW11bGF0ZWQ6IHRydWVcblx0XHRcdFx0fVxuXHRcdFx0KTtcblx0XG5cdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggZSwgbnVsbCwgZWxlbSApO1xuXHRcdH1cblx0XG5cdH0gKTtcblx0XG5cdGpRdWVyeS5mbi5leHRlbmQoIHtcblx0XG5cdFx0dHJpZ2dlcjogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIHRoaXMgKTtcblx0XHRcdH0gKTtcblx0XHR9LFxuXHRcdHRyaWdnZXJIYW5kbGVyOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcblx0XHRcdHZhciBlbGVtID0gdGhpc1sgMCBdO1xuXHRcdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4galF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIGVsZW0sIHRydWUgKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gKTtcblx0XG5cdFxuXHRqUXVlcnkuZWFjaCggKCBcImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCByZXNpemUgc2Nyb2xsIGNsaWNrIGRibGNsaWNrIFwiICtcblx0XHRcIm1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIFwiICtcblx0XHRcImNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgY29udGV4dG1lbnVcIiApLnNwbGl0KCBcIiBcIiApLFxuXHRcdGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHRcblx0XHQvLyBIYW5kbGUgZXZlbnQgYmluZGluZ1xuXHRcdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIGRhdGEsIGZuICkge1xuXHRcdFx0cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAwID9cblx0XHRcdFx0dGhpcy5vbiggbmFtZSwgbnVsbCwgZGF0YSwgZm4gKSA6XG5cdFx0XHRcdHRoaXMudHJpZ2dlciggbmFtZSApO1xuXHRcdH07XG5cdH0gKTtcblx0XG5cdGpRdWVyeS5mbi5leHRlbmQoIHtcblx0XHRob3ZlcjogZnVuY3Rpb24oIGZuT3ZlciwgZm5PdXQgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5tb3VzZWVudGVyKCBmbk92ZXIgKS5tb3VzZWxlYXZlKCBmbk91dCB8fCBmbk92ZXIgKTtcblx0XHR9XG5cdH0gKTtcblx0XG5cdFxuXHRcblx0XG5cdHN1cHBvcnQuZm9jdXNpbiA9IFwib25mb2N1c2luXCIgaW4gd2luZG93O1xuXHRcblx0XG5cdC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00NFxuXHQvLyBGaXJlZm94IGRvZXNuJ3QgaGF2ZSBmb2N1cyhpbiB8IG91dCkgZXZlbnRzXG5cdC8vIFJlbGF0ZWQgdGlja2V0IC0gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njg3Nzg3XG5cdC8vXG5cdC8vIFN1cHBvcnQ6IENocm9tZSA8PTQ4IC0gNDksIFNhZmFyaSA8PTkuMCAtIDkuMVxuXHQvLyBmb2N1cyhpbiB8IG91dCkgZXZlbnRzIGZpcmUgYWZ0ZXIgZm9jdXMgJiBibHVyIGV2ZW50cyxcblx0Ly8gd2hpY2ggaXMgc3BlYyB2aW9sYXRpb24gLSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvI2V2ZW50cy1mb2N1c2V2ZW50LWV2ZW50LW9yZGVyXG5cdC8vIFJlbGF0ZWQgdGlja2V0IC0gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ5ODU3XG5cdGlmICggIXN1cHBvcnQuZm9jdXNpbiApIHtcblx0XHRqUXVlcnkuZWFjaCggeyBmb2N1czogXCJmb2N1c2luXCIsIGJsdXI6IFwiZm9jdXNvdXRcIiB9LCBmdW5jdGlvbiggb3JpZywgZml4ICkge1xuXHRcblx0XHRcdC8vIEF0dGFjaCBhIHNpbmdsZSBjYXB0dXJpbmcgaGFuZGxlciBvbiB0aGUgZG9jdW1lbnQgd2hpbGUgc29tZW9uZSB3YW50cyBmb2N1c2luL2ZvY3Vzb3V0XG5cdFx0XHR2YXIgaGFuZGxlciA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0alF1ZXJ5LmV2ZW50LnNpbXVsYXRlKCBmaXgsIGV2ZW50LnRhcmdldCwgalF1ZXJ5LmV2ZW50LmZpeCggZXZlbnQgKSApO1xuXHRcdFx0fTtcblx0XG5cdFx0XHRqUXVlcnkuZXZlbnQuc3BlY2lhbFsgZml4IF0gPSB7XG5cdFx0XHRcdHNldHVwOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgZG9jID0gdGhpcy5vd25lckRvY3VtZW50IHx8IHRoaXMsXG5cdFx0XHRcdFx0XHRhdHRhY2hlcyA9IGRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXggKTtcblx0XG5cdFx0XHRcdFx0aWYgKCAhYXR0YWNoZXMgKSB7XG5cdFx0XHRcdFx0XHRkb2MuYWRkRXZlbnRMaXN0ZW5lciggb3JpZywgaGFuZGxlciwgdHJ1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4LCAoIGF0dGFjaGVzIHx8IDAgKSArIDEgKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0dGVhcmRvd246IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciBkb2MgPSB0aGlzLm93bmVyRG9jdW1lbnQgfHwgdGhpcyxcblx0XHRcdFx0XHRcdGF0dGFjaGVzID0gZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCApIC0gMTtcblx0XG5cdFx0XHRcdFx0aWYgKCAhYXR0YWNoZXMgKSB7XG5cdFx0XHRcdFx0XHRkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lciggb3JpZywgaGFuZGxlciwgdHJ1ZSApO1xuXHRcdFx0XHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBkb2MsIGZpeCApO1xuXHRcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCwgYXR0YWNoZXMgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fSApO1xuXHR9XG5cdHZhciBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbjtcblx0XG5cdHZhciBub25jZSA9IGpRdWVyeS5ub3coKTtcblx0XG5cdHZhciBycXVlcnkgPSAoIC9cXD8vICk7XG5cdFxuXHRcblx0XG5cdC8vIENyb3NzLWJyb3dzZXIgeG1sIHBhcnNpbmdcblx0alF1ZXJ5LnBhcnNlWE1MID0gZnVuY3Rpb24oIGRhdGEgKSB7XG5cdFx0dmFyIHhtbDtcblx0XHRpZiAoICFkYXRhIHx8IHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHRcblx0XHQvLyBTdXBwb3J0OiBJRSA5IC0gMTEgb25seVxuXHRcdC8vIElFIHRocm93cyBvbiBwYXJzZUZyb21TdHJpbmcgd2l0aCBpbnZhbGlkIGlucHV0LlxuXHRcdHRyeSB7XG5cdFx0XHR4bWwgPSAoIG5ldyB3aW5kb3cuRE9NUGFyc2VyKCkgKS5wYXJzZUZyb21TdHJpbmcoIGRhdGEsIFwidGV4dC94bWxcIiApO1xuXHRcdH0gY2F0Y2ggKCBlICkge1xuXHRcdFx0eG1sID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XG5cdFx0aWYgKCAheG1sIHx8IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJwYXJzZXJlcnJvclwiICkubGVuZ3RoICkge1xuXHRcdFx0alF1ZXJ5LmVycm9yKCBcIkludmFsaWQgWE1MOiBcIiArIGRhdGEgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHhtbDtcblx0fTtcblx0XG5cdFxuXHR2YXJcblx0XHRyYnJhY2tldCA9IC9cXFtcXF0kLyxcblx0XHRyQ1JMRiA9IC9cXHI/XFxuL2csXG5cdFx0cnN1Ym1pdHRlclR5cGVzID0gL14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLFxuXHRcdHJzdWJtaXR0YWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtcblx0XG5cdGZ1bmN0aW9uIGJ1aWxkUGFyYW1zKCBwcmVmaXgsIG9iaiwgdHJhZGl0aW9uYWwsIGFkZCApIHtcblx0XHR2YXIgbmFtZTtcblx0XG5cdFx0aWYgKCBqUXVlcnkuaXNBcnJheSggb2JqICkgKSB7XG5cdFxuXHRcdFx0Ly8gU2VyaWFsaXplIGFycmF5IGl0ZW0uXG5cdFx0XHRqUXVlcnkuZWFjaCggb2JqLCBmdW5jdGlvbiggaSwgdiApIHtcblx0XHRcdFx0aWYgKCB0cmFkaXRpb25hbCB8fCByYnJhY2tldC50ZXN0KCBwcmVmaXggKSApIHtcblx0XG5cdFx0XHRcdFx0Ly8gVHJlYXQgZWFjaCBhcnJheSBpdGVtIGFzIGEgc2NhbGFyLlxuXHRcdFx0XHRcdGFkZCggcHJlZml4LCB2ICk7XG5cdFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcblx0XHRcdFx0XHQvLyBJdGVtIGlzIG5vbi1zY2FsYXIgKGFycmF5IG9yIG9iamVjdCksIGVuY29kZSBpdHMgbnVtZXJpYyBpbmRleC5cblx0XHRcdFx0XHRidWlsZFBhcmFtcyhcblx0XHRcdFx0XHRcdHByZWZpeCArIFwiW1wiICsgKCB0eXBlb2YgdiA9PT0gXCJvYmplY3RcIiAmJiB2ICE9IG51bGwgPyBpIDogXCJcIiApICsgXCJdXCIsXG5cdFx0XHRcdFx0XHR2LFxuXHRcdFx0XHRcdFx0dHJhZGl0aW9uYWwsXG5cdFx0XHRcdFx0XHRhZGRcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH0gZWxzZSBpZiAoICF0cmFkaXRpb25hbCAmJiBqUXVlcnkudHlwZSggb2JqICkgPT09IFwib2JqZWN0XCIgKSB7XG5cdFxuXHRcdFx0Ly8gU2VyaWFsaXplIG9iamVjdCBpdGVtLlxuXHRcdFx0Zm9yICggbmFtZSBpbiBvYmogKSB7XG5cdFx0XHRcdGJ1aWxkUGFyYW1zKCBwcmVmaXggKyBcIltcIiArIG5hbWUgKyBcIl1cIiwgb2JqWyBuYW1lIF0sIHRyYWRpdGlvbmFsLCBhZGQgKTtcblx0XHRcdH1cblx0XG5cdFx0fSBlbHNlIHtcblx0XG5cdFx0XHQvLyBTZXJpYWxpemUgc2NhbGFyIGl0ZW0uXG5cdFx0XHRhZGQoIHByZWZpeCwgb2JqICk7XG5cdFx0fVxuXHR9XG5cdFxuXHQvLyBTZXJpYWxpemUgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cyBvciBhIHNldCBvZlxuXHQvLyBrZXkvdmFsdWVzIGludG8gYSBxdWVyeSBzdHJpbmdcblx0alF1ZXJ5LnBhcmFtID0gZnVuY3Rpb24oIGEsIHRyYWRpdGlvbmFsICkge1xuXHRcdHZhciBwcmVmaXgsXG5cdFx0XHRzID0gW10sXG5cdFx0XHRhZGQgPSBmdW5jdGlvbigga2V5LCB2YWx1ZU9yRnVuY3Rpb24gKSB7XG5cdFxuXHRcdFx0XHQvLyBJZiB2YWx1ZSBpcyBhIGZ1bmN0aW9uLCBpbnZva2UgaXQgYW5kIHVzZSBpdHMgcmV0dXJuIHZhbHVlXG5cdFx0XHRcdHZhciB2YWx1ZSA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZU9yRnVuY3Rpb24gKSA/XG5cdFx0XHRcdFx0dmFsdWVPckZ1bmN0aW9uKCkgOlxuXHRcdFx0XHRcdHZhbHVlT3JGdW5jdGlvbjtcblx0XG5cdFx0XHRcdHNbIHMubGVuZ3RoIF0gPSBlbmNvZGVVUklDb21wb25lbnQoIGtleSApICsgXCI9XCIgK1xuXHRcdFx0XHRcdGVuY29kZVVSSUNvbXBvbmVudCggdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSApO1xuXHRcdFx0fTtcblx0XG5cdFx0Ly8gSWYgYW4gYXJyYXkgd2FzIHBhc3NlZCBpbiwgYXNzdW1lIHRoYXQgaXQgaXMgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cy5cblx0XHRpZiAoIGpRdWVyeS5pc0FycmF5KCBhICkgfHwgKCBhLmpxdWVyeSAmJiAhalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGEgKSApICkge1xuXHRcblx0XHRcdC8vIFNlcmlhbGl6ZSB0aGUgZm9ybSBlbGVtZW50c1xuXHRcdFx0alF1ZXJ5LmVhY2goIGEsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRhZGQoIHRoaXMubmFtZSwgdGhpcy52YWx1ZSApO1xuXHRcdFx0fSApO1xuXHRcblx0XHR9IGVsc2Uge1xuXHRcblx0XHRcdC8vIElmIHRyYWRpdGlvbmFsLCBlbmNvZGUgdGhlIFwib2xkXCIgd2F5ICh0aGUgd2F5IDEuMy4yIG9yIG9sZGVyXG5cdFx0XHQvLyBkaWQgaXQpLCBvdGhlcndpc2UgZW5jb2RlIHBhcmFtcyByZWN1cnNpdmVseS5cblx0XHRcdGZvciAoIHByZWZpeCBpbiBhICkge1xuXHRcdFx0XHRidWlsZFBhcmFtcyggcHJlZml4LCBhWyBwcmVmaXggXSwgdHJhZGl0aW9uYWwsIGFkZCApO1xuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0Ly8gUmV0dXJuIHRoZSByZXN1bHRpbmcgc2VyaWFsaXphdGlvblxuXHRcdHJldHVybiBzLmpvaW4oIFwiJlwiICk7XG5cdH07XG5cdFxuXHRqUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdFx0c2VyaWFsaXplOiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBqUXVlcnkucGFyYW0oIHRoaXMuc2VyaWFsaXplQXJyYXkoKSApO1xuXHRcdH0sXG5cdFx0c2VyaWFsaXplQXJyYXk6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdC8vIENhbiBhZGQgcHJvcEhvb2sgZm9yIFwiZWxlbWVudHNcIiB0byBmaWx0ZXIgb3IgYWRkIGZvcm0gZWxlbWVudHNcblx0XHRcdFx0dmFyIGVsZW1lbnRzID0galF1ZXJ5LnByb3AoIHRoaXMsIFwiZWxlbWVudHNcIiApO1xuXHRcdFx0XHRyZXR1cm4gZWxlbWVudHMgPyBqUXVlcnkubWFrZUFycmF5KCBlbGVtZW50cyApIDogdGhpcztcblx0XHRcdH0gKVxuXHRcdFx0LmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciB0eXBlID0gdGhpcy50eXBlO1xuXHRcblx0XHRcdFx0Ly8gVXNlIC5pcyggXCI6ZGlzYWJsZWRcIiApIHNvIHRoYXQgZmllbGRzZXRbZGlzYWJsZWRdIHdvcmtzXG5cdFx0XHRcdHJldHVybiB0aGlzLm5hbWUgJiYgIWpRdWVyeSggdGhpcyApLmlzKCBcIjpkaXNhYmxlZFwiICkgJiZcblx0XHRcdFx0XHRyc3VibWl0dGFibGUudGVzdCggdGhpcy5ub2RlTmFtZSApICYmICFyc3VibWl0dGVyVHlwZXMudGVzdCggdHlwZSApICYmXG5cdFx0XHRcdFx0KCB0aGlzLmNoZWNrZWQgfHwgIXJjaGVja2FibGVUeXBlLnRlc3QoIHR5cGUgKSApO1xuXHRcdFx0fSApXG5cdFx0XHQubWFwKCBmdW5jdGlvbiggaSwgZWxlbSApIHtcblx0XHRcdFx0dmFyIHZhbCA9IGpRdWVyeSggdGhpcyApLnZhbCgpO1xuXHRcblx0XHRcdFx0cmV0dXJuIHZhbCA9PSBudWxsID9cblx0XHRcdFx0XHRudWxsIDpcblx0XHRcdFx0XHRqUXVlcnkuaXNBcnJheSggdmFsICkgP1xuXHRcdFx0XHRcdFx0alF1ZXJ5Lm1hcCggdmFsLCBmdW5jdGlvbiggdmFsICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4geyBuYW1lOiBlbGVtLm5hbWUsIHZhbHVlOiB2YWwucmVwbGFjZSggckNSTEYsIFwiXFxyXFxuXCIgKSB9O1xuXHRcdFx0XHRcdFx0fSApIDpcblx0XHRcdFx0XHRcdHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcIlxcclxcblwiICkgfTtcblx0XHRcdH0gKS5nZXQoKTtcblx0XHR9XG5cdH0gKTtcblx0XG5cdFxuXHR2YXJcblx0XHRyMjAgPSAvJTIwL2csXG5cdFx0cmhhc2ggPSAvIy4qJC8sXG5cdFx0cnRzID0gLyhbPyZdKV89W14mXSovLFxuXHRcdHJoZWFkZXJzID0gL14oLio/KTpbIFxcdF0qKFteXFxyXFxuXSopJC9tZyxcblx0XG5cdFx0Ly8gIzc2NTMsICM4MTI1LCAjODE1MjogbG9jYWwgcHJvdG9jb2wgZGV0ZWN0aW9uXG5cdFx0cmxvY2FsUHJvdG9jb2wgPSAvXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxcblx0XHRybm9Db250ZW50ID0gL14oPzpHRVR8SEVBRCkkLyxcblx0XHRycHJvdG9jb2wgPSAvXlxcL1xcLy8sXG5cdFxuXHRcdC8qIFByZWZpbHRlcnNcblx0XHQgKiAxKSBUaGV5IGFyZSB1c2VmdWwgdG8gaW50cm9kdWNlIGN1c3RvbSBkYXRhVHlwZXMgKHNlZSBhamF4L2pzb25wLmpzIGZvciBhbiBleGFtcGxlKVxuXHRcdCAqIDIpIFRoZXNlIGFyZSBjYWxsZWQ6XG5cdFx0ICogICAgLSBCRUZPUkUgYXNraW5nIGZvciBhIHRyYW5zcG9ydFxuXHRcdCAqICAgIC0gQUZURVIgcGFyYW0gc2VyaWFsaXphdGlvbiAocy5kYXRhIGlzIGEgc3RyaW5nIGlmIHMucHJvY2Vzc0RhdGEgaXMgdHJ1ZSlcblx0XHQgKiAzKSBrZXkgaXMgdGhlIGRhdGFUeXBlXG5cdFx0ICogNCkgdGhlIGNhdGNoYWxsIHN5bWJvbCBcIipcIiBjYW4gYmUgdXNlZFxuXHRcdCAqIDUpIGV4ZWN1dGlvbiB3aWxsIHN0YXJ0IHdpdGggdHJhbnNwb3J0IGRhdGFUeXBlIGFuZCBUSEVOIGNvbnRpbnVlIGRvd24gdG8gXCIqXCIgaWYgbmVlZGVkXG5cdFx0ICovXG5cdFx0cHJlZmlsdGVycyA9IHt9LFxuXHRcblx0XHQvKiBUcmFuc3BvcnRzIGJpbmRpbmdzXG5cdFx0ICogMSkga2V5IGlzIHRoZSBkYXRhVHlwZVxuXHRcdCAqIDIpIHRoZSBjYXRjaGFsbCBzeW1ib2wgXCIqXCIgY2FuIGJlIHVzZWRcblx0XHQgKiAzKSBzZWxlY3Rpb24gd2lsbCBzdGFydCB3aXRoIHRyYW5zcG9ydCBkYXRhVHlwZSBhbmQgVEhFTiBnbyB0byBcIipcIiBpZiBuZWVkZWRcblx0XHQgKi9cblx0XHR0cmFuc3BvcnRzID0ge30sXG5cdFxuXHRcdC8vIEF2b2lkIGNvbW1lbnQtcHJvbG9nIGNoYXIgc2VxdWVuY2UgKCMxMDA5OCk7IG11c3QgYXBwZWFzZSBsaW50IGFuZCBldmFkZSBjb21wcmVzc2lvblxuXHRcdGFsbFR5cGVzID0gXCIqL1wiLmNvbmNhdCggXCIqXCIgKSxcblx0XG5cdFx0Ly8gQW5jaG9yIHRhZyBmb3IgcGFyc2luZyB0aGUgZG9jdW1lbnQgb3JpZ2luXG5cdFx0b3JpZ2luQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJhXCIgKTtcblx0XHRvcmlnaW5BbmNob3IuaHJlZiA9IGxvY2F0aW9uLmhyZWY7XG5cdFxuXHQvLyBCYXNlIFwiY29uc3RydWN0b3JcIiBmb3IgalF1ZXJ5LmFqYXhQcmVmaWx0ZXIgYW5kIGpRdWVyeS5hamF4VHJhbnNwb3J0XG5cdGZ1bmN0aW9uIGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggc3RydWN0dXJlICkge1xuXHRcblx0XHQvLyBkYXRhVHlwZUV4cHJlc3Npb24gaXMgb3B0aW9uYWwgYW5kIGRlZmF1bHRzIHRvIFwiKlwiXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBkYXRhVHlwZUV4cHJlc3Npb24sIGZ1bmMgKSB7XG5cdFxuXHRcdFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVFeHByZXNzaW9uICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRmdW5jID0gZGF0YVR5cGVFeHByZXNzaW9uO1xuXHRcdFx0XHRkYXRhVHlwZUV4cHJlc3Npb24gPSBcIipcIjtcblx0XHRcdH1cblx0XG5cdFx0XHR2YXIgZGF0YVR5cGUsXG5cdFx0XHRcdGkgPSAwLFxuXHRcdFx0XHRkYXRhVHlwZXMgPSBkYXRhVHlwZUV4cHJlc3Npb24udG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdHdoaXRlICkgfHwgW107XG5cdFxuXHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggZnVuYyApICkge1xuXHRcblx0XHRcdFx0Ly8gRm9yIGVhY2ggZGF0YVR5cGUgaW4gdGhlIGRhdGFUeXBlRXhwcmVzc2lvblxuXHRcdFx0XHR3aGlsZSAoICggZGF0YVR5cGUgPSBkYXRhVHlwZXNbIGkrKyBdICkgKSB7XG5cdFxuXHRcdFx0XHRcdC8vIFByZXBlbmQgaWYgcmVxdWVzdGVkXG5cdFx0XHRcdFx0aWYgKCBkYXRhVHlwZVsgMCBdID09PSBcIitcIiApIHtcblx0XHRcdFx0XHRcdGRhdGFUeXBlID0gZGF0YVR5cGUuc2xpY2UoIDEgKSB8fCBcIipcIjtcblx0XHRcdFx0XHRcdCggc3RydWN0dXJlWyBkYXRhVHlwZSBdID0gc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdICkudW5zaGlmdCggZnVuYyApO1xuXHRcblx0XHRcdFx0XHQvLyBPdGhlcndpc2UgYXBwZW5kXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdCggc3RydWN0dXJlWyBkYXRhVHlwZSBdID0gc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdICkucHVzaCggZnVuYyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdH1cblx0XG5cdC8vIEJhc2UgaW5zcGVjdGlvbiBmdW5jdGlvbiBmb3IgcHJlZmlsdGVycyBhbmQgdHJhbnNwb3J0c1xuXHRmdW5jdGlvbiBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggc3RydWN0dXJlLCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMsIGpxWEhSICkge1xuXHRcblx0XHR2YXIgaW5zcGVjdGVkID0ge30sXG5cdFx0XHRzZWVraW5nVHJhbnNwb3J0ID0gKCBzdHJ1Y3R1cmUgPT09IHRyYW5zcG9ydHMgKTtcblx0XG5cdFx0ZnVuY3Rpb24gaW5zcGVjdCggZGF0YVR5cGUgKSB7XG5cdFx0XHR2YXIgc2VsZWN0ZWQ7XG5cdFx0XHRpbnNwZWN0ZWRbIGRhdGFUeXBlIF0gPSB0cnVlO1xuXHRcdFx0alF1ZXJ5LmVhY2goIHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSwgZnVuY3Rpb24oIF8sIHByZWZpbHRlck9yRmFjdG9yeSApIHtcblx0XHRcdFx0dmFyIGRhdGFUeXBlT3JUcmFuc3BvcnQgPSBwcmVmaWx0ZXJPckZhY3RvcnkoIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucywganFYSFIgKTtcblx0XHRcdFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVPclRyYW5zcG9ydCA9PT0gXCJzdHJpbmdcIiAmJlxuXHRcdFx0XHRcdCFzZWVraW5nVHJhbnNwb3J0ICYmICFpbnNwZWN0ZWRbIGRhdGFUeXBlT3JUcmFuc3BvcnQgXSApIHtcblx0XG5cdFx0XHRcdFx0b3B0aW9ucy5kYXRhVHlwZXMudW5zaGlmdCggZGF0YVR5cGVPclRyYW5zcG9ydCApO1xuXHRcdFx0XHRcdGluc3BlY3QoIGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH0gZWxzZSBpZiAoIHNlZWtpbmdUcmFuc3BvcnQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuICEoIHNlbGVjdGVkID0gZGF0YVR5cGVPclRyYW5zcG9ydCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0XHRyZXR1cm4gc2VsZWN0ZWQ7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gaW5zcGVjdCggb3B0aW9ucy5kYXRhVHlwZXNbIDAgXSApIHx8ICFpbnNwZWN0ZWRbIFwiKlwiIF0gJiYgaW5zcGVjdCggXCIqXCIgKTtcblx0fVxuXHRcblx0Ly8gQSBzcGVjaWFsIGV4dGVuZCBmb3IgYWpheCBvcHRpb25zXG5cdC8vIHRoYXQgdGFrZXMgXCJmbGF0XCIgb3B0aW9ucyAobm90IHRvIGJlIGRlZXAgZXh0ZW5kZWQpXG5cdC8vIEZpeGVzICM5ODg3XG5cdGZ1bmN0aW9uIGFqYXhFeHRlbmQoIHRhcmdldCwgc3JjICkge1xuXHRcdHZhciBrZXksIGRlZXAsXG5cdFx0XHRmbGF0T3B0aW9ucyA9IGpRdWVyeS5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnMgfHwge307XG5cdFxuXHRcdGZvciAoIGtleSBpbiBzcmMgKSB7XG5cdFx0XHRpZiAoIHNyY1sga2V5IF0gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0KCBmbGF0T3B0aW9uc1sga2V5IF0gPyB0YXJnZXQgOiAoIGRlZXAgfHwgKCBkZWVwID0ge30gKSApIClbIGtleSBdID0gc3JjWyBrZXkgXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKCBkZWVwICkge1xuXHRcdFx0alF1ZXJ5LmV4dGVuZCggdHJ1ZSwgdGFyZ2V0LCBkZWVwICk7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gdGFyZ2V0O1xuXHR9XG5cdFxuXHQvKiBIYW5kbGVzIHJlc3BvbnNlcyB0byBhbiBhamF4IHJlcXVlc3Q6XG5cdCAqIC0gZmluZHMgdGhlIHJpZ2h0IGRhdGFUeXBlIChtZWRpYXRlcyBiZXR3ZWVuIGNvbnRlbnQtdHlwZSBhbmQgZXhwZWN0ZWQgZGF0YVR5cGUpXG5cdCAqIC0gcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyByZXNwb25zZVxuXHQgKi9cblx0ZnVuY3Rpb24gYWpheEhhbmRsZVJlc3BvbnNlcyggcywganFYSFIsIHJlc3BvbnNlcyApIHtcblx0XG5cdFx0dmFyIGN0LCB0eXBlLCBmaW5hbERhdGFUeXBlLCBmaXJzdERhdGFUeXBlLFxuXHRcdFx0Y29udGVudHMgPSBzLmNvbnRlbnRzLFxuXHRcdFx0ZGF0YVR5cGVzID0gcy5kYXRhVHlwZXM7XG5cdFxuXHRcdC8vIFJlbW92ZSBhdXRvIGRhdGFUeXBlIGFuZCBnZXQgY29udGVudC10eXBlIGluIHRoZSBwcm9jZXNzXG5cdFx0d2hpbGUgKCBkYXRhVHlwZXNbIDAgXSA9PT0gXCIqXCIgKSB7XG5cdFx0XHRkYXRhVHlwZXMuc2hpZnQoKTtcblx0XHRcdGlmICggY3QgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0Y3QgPSBzLm1pbWVUeXBlIHx8IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCBcIkNvbnRlbnQtVHlwZVwiICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHQvLyBDaGVjayBpZiB3ZSdyZSBkZWFsaW5nIHdpdGggYSBrbm93biBjb250ZW50LXR5cGVcblx0XHRpZiAoIGN0ICkge1xuXHRcdFx0Zm9yICggdHlwZSBpbiBjb250ZW50cyApIHtcblx0XHRcdFx0aWYgKCBjb250ZW50c1sgdHlwZSBdICYmIGNvbnRlbnRzWyB0eXBlIF0udGVzdCggY3QgKSApIHtcblx0XHRcdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggdHlwZSApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHQvLyBDaGVjayB0byBzZWUgaWYgd2UgaGF2ZSBhIHJlc3BvbnNlIGZvciB0aGUgZXhwZWN0ZWQgZGF0YVR5cGVcblx0XHRpZiAoIGRhdGFUeXBlc1sgMCBdIGluIHJlc3BvbnNlcyApIHtcblx0XHRcdGZpbmFsRGF0YVR5cGUgPSBkYXRhVHlwZXNbIDAgXTtcblx0XHR9IGVsc2Uge1xuXHRcblx0XHRcdC8vIFRyeSBjb252ZXJ0aWJsZSBkYXRhVHlwZXNcblx0XHRcdGZvciAoIHR5cGUgaW4gcmVzcG9uc2VzICkge1xuXHRcdFx0XHRpZiAoICFkYXRhVHlwZXNbIDAgXSB8fCBzLmNvbnZlcnRlcnNbIHR5cGUgKyBcIiBcIiArIGRhdGFUeXBlc1sgMCBdIF0gKSB7XG5cdFx0XHRcdFx0ZmluYWxEYXRhVHlwZSA9IHR5cGU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCAhZmlyc3REYXRhVHlwZSApIHtcblx0XHRcdFx0XHRmaXJzdERhdGFUeXBlID0gdHlwZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdC8vIE9yIGp1c3QgdXNlIGZpcnN0IG9uZVxuXHRcdFx0ZmluYWxEYXRhVHlwZSA9IGZpbmFsRGF0YVR5cGUgfHwgZmlyc3REYXRhVHlwZTtcblx0XHR9XG5cdFxuXHRcdC8vIElmIHdlIGZvdW5kIGEgZGF0YVR5cGVcblx0XHQvLyBXZSBhZGQgdGhlIGRhdGFUeXBlIHRvIHRoZSBsaXN0IGlmIG5lZWRlZFxuXHRcdC8vIGFuZCByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmcgcmVzcG9uc2Vcblx0XHRpZiAoIGZpbmFsRGF0YVR5cGUgKSB7XG5cdFx0XHRpZiAoIGZpbmFsRGF0YVR5cGUgIT09IGRhdGFUeXBlc1sgMCBdICkge1xuXHRcdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggZmluYWxEYXRhVHlwZSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3BvbnNlc1sgZmluYWxEYXRhVHlwZSBdO1xuXHRcdH1cblx0fVxuXHRcblx0LyogQ2hhaW4gY29udmVyc2lvbnMgZ2l2ZW4gdGhlIHJlcXVlc3QgYW5kIHRoZSBvcmlnaW5hbCByZXNwb25zZVxuXHQgKiBBbHNvIHNldHMgdGhlIHJlc3BvbnNlWFhYIGZpZWxkcyBvbiB0aGUganFYSFIgaW5zdGFuY2Vcblx0ICovXG5cdGZ1bmN0aW9uIGFqYXhDb252ZXJ0KCBzLCByZXNwb25zZSwganFYSFIsIGlzU3VjY2VzcyApIHtcblx0XHR2YXIgY29udjIsIGN1cnJlbnQsIGNvbnYsIHRtcCwgcHJldixcblx0XHRcdGNvbnZlcnRlcnMgPSB7fSxcblx0XG5cdFx0XHQvLyBXb3JrIHdpdGggYSBjb3B5IG9mIGRhdGFUeXBlcyBpbiBjYXNlIHdlIG5lZWQgdG8gbW9kaWZ5IGl0IGZvciBjb252ZXJzaW9uXG5cdFx0XHRkYXRhVHlwZXMgPSBzLmRhdGFUeXBlcy5zbGljZSgpO1xuXHRcblx0XHQvLyBDcmVhdGUgY29udmVydGVycyBtYXAgd2l0aCBsb3dlcmNhc2VkIGtleXNcblx0XHRpZiAoIGRhdGFUeXBlc1sgMSBdICkge1xuXHRcdFx0Zm9yICggY29udiBpbiBzLmNvbnZlcnRlcnMgKSB7XG5cdFx0XHRcdGNvbnZlcnRlcnNbIGNvbnYudG9Mb3dlckNhc2UoKSBdID0gcy5jb252ZXJ0ZXJzWyBjb252IF07XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRjdXJyZW50ID0gZGF0YVR5cGVzLnNoaWZ0KCk7XG5cdFxuXHRcdC8vIENvbnZlcnQgdG8gZWFjaCBzZXF1ZW50aWFsIGRhdGFUeXBlXG5cdFx0d2hpbGUgKCBjdXJyZW50ICkge1xuXHRcblx0XHRcdGlmICggcy5yZXNwb25zZUZpZWxkc1sgY3VycmVudCBdICkge1xuXHRcdFx0XHRqcVhIUlsgcy5yZXNwb25zZUZpZWxkc1sgY3VycmVudCBdIF0gPSByZXNwb25zZTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBBcHBseSB0aGUgZGF0YUZpbHRlciBpZiBwcm92aWRlZFxuXHRcdFx0aWYgKCAhcHJldiAmJiBpc1N1Y2Nlc3MgJiYgcy5kYXRhRmlsdGVyICkge1xuXHRcdFx0XHRyZXNwb25zZSA9IHMuZGF0YUZpbHRlciggcmVzcG9uc2UsIHMuZGF0YVR5cGUgKTtcblx0XHRcdH1cblx0XG5cdFx0XHRwcmV2ID0gY3VycmVudDtcblx0XHRcdGN1cnJlbnQgPSBkYXRhVHlwZXMuc2hpZnQoKTtcblx0XG5cdFx0XHRpZiAoIGN1cnJlbnQgKSB7XG5cdFxuXHRcdFx0XHQvLyBUaGVyZSdzIG9ubHkgd29yayB0byBkbyBpZiBjdXJyZW50IGRhdGFUeXBlIGlzIG5vbi1hdXRvXG5cdFx0XHRcdGlmICggY3VycmVudCA9PT0gXCIqXCIgKSB7XG5cdFxuXHRcdFx0XHRcdGN1cnJlbnQgPSBwcmV2O1xuXHRcblx0XHRcdFx0Ly8gQ29udmVydCByZXNwb25zZSBpZiBwcmV2IGRhdGFUeXBlIGlzIG5vbi1hdXRvIGFuZCBkaWZmZXJzIGZyb20gY3VycmVudFxuXHRcdFx0XHR9IGVsc2UgaWYgKCBwcmV2ICE9PSBcIipcIiAmJiBwcmV2ICE9PSBjdXJyZW50ICkge1xuXHRcblx0XHRcdFx0XHQvLyBTZWVrIGEgZGlyZWN0IGNvbnZlcnRlclxuXHRcdFx0XHRcdGNvbnYgPSBjb252ZXJ0ZXJzWyBwcmV2ICsgXCIgXCIgKyBjdXJyZW50IF0gfHwgY29udmVydGVyc1sgXCIqIFwiICsgY3VycmVudCBdO1xuXHRcblx0XHRcdFx0XHQvLyBJZiBub25lIGZvdW5kLCBzZWVrIGEgcGFpclxuXHRcdFx0XHRcdGlmICggIWNvbnYgKSB7XG5cdFx0XHRcdFx0XHRmb3IgKCBjb252MiBpbiBjb252ZXJ0ZXJzICkge1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gSWYgY29udjIgb3V0cHV0cyBjdXJyZW50XG5cdFx0XHRcdFx0XHRcdHRtcCA9IGNvbnYyLnNwbGl0KCBcIiBcIiApO1xuXHRcdFx0XHRcdFx0XHRpZiAoIHRtcFsgMSBdID09PSBjdXJyZW50ICkge1xuXHRcblx0XHRcdFx0XHRcdFx0XHQvLyBJZiBwcmV2IGNhbiBiZSBjb252ZXJ0ZWQgdG8gYWNjZXB0ZWQgaW5wdXRcblx0XHRcdFx0XHRcdFx0XHRjb252ID0gY29udmVydGVyc1sgcHJldiArIFwiIFwiICsgdG1wWyAwIF0gXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0Y29udmVydGVyc1sgXCIqIFwiICsgdG1wWyAwIF0gXTtcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGNvbnYgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gQ29uZGVuc2UgZXF1aXZhbGVuY2UgY29udmVydGVyc1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBjb252ID09PSB0cnVlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb252ID0gY29udmVydGVyc1sgY29udjIgXTtcblx0XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBPdGhlcndpc2UsIGluc2VydCB0aGUgaW50ZXJtZWRpYXRlIGRhdGFUeXBlXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBjb252ZXJ0ZXJzWyBjb252MiBdICE9PSB0cnVlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjdXJyZW50ID0gdG1wWyAwIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGFUeXBlcy51bnNoaWZ0KCB0bXBbIDEgXSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBBcHBseSBjb252ZXJ0ZXIgKGlmIG5vdCBhbiBlcXVpdmFsZW5jZSlcblx0XHRcdFx0XHRpZiAoIGNvbnYgIT09IHRydWUgKSB7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gVW5sZXNzIGVycm9ycyBhcmUgYWxsb3dlZCB0byBidWJibGUsIGNhdGNoIGFuZCByZXR1cm4gdGhlbVxuXHRcdFx0XHRcdFx0aWYgKCBjb252ICYmIHMudGhyb3dzICkge1xuXHRcdFx0XHRcdFx0XHRyZXNwb25zZSA9IGNvbnYoIHJlc3BvbnNlICk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdHJlc3BvbnNlID0gY29udiggcmVzcG9uc2UgKTtcblx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0XHRcdHN0YXRlOiBcInBhcnNlcmVycm9yXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRlcnJvcjogY29udiA/IGUgOiBcIk5vIGNvbnZlcnNpb24gZnJvbSBcIiArIHByZXYgKyBcIiB0byBcIiArIGN1cnJlbnRcblx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4geyBzdGF0ZTogXCJzdWNjZXNzXCIsIGRhdGE6IHJlc3BvbnNlIH07XG5cdH1cblx0XG5cdGpRdWVyeS5leHRlbmQoIHtcblx0XG5cdFx0Ly8gQ291bnRlciBmb3IgaG9sZGluZyB0aGUgbnVtYmVyIG9mIGFjdGl2ZSBxdWVyaWVzXG5cdFx0YWN0aXZlOiAwLFxuXHRcblx0XHQvLyBMYXN0LU1vZGlmaWVkIGhlYWRlciBjYWNoZSBmb3IgbmV4dCByZXF1ZXN0XG5cdFx0bGFzdE1vZGlmaWVkOiB7fSxcblx0XHRldGFnOiB7fSxcblx0XG5cdFx0YWpheFNldHRpbmdzOiB7XG5cdFx0XHR1cmw6IGxvY2F0aW9uLmhyZWYsXG5cdFx0XHR0eXBlOiBcIkdFVFwiLFxuXHRcdFx0aXNMb2NhbDogcmxvY2FsUHJvdG9jb2wudGVzdCggbG9jYXRpb24ucHJvdG9jb2wgKSxcblx0XHRcdGdsb2JhbDogdHJ1ZSxcblx0XHRcdHByb2Nlc3NEYXRhOiB0cnVlLFxuXHRcdFx0YXN5bmM6IHRydWUsXG5cdFx0XHRjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLThcIixcblx0XG5cdFx0XHQvKlxuXHRcdFx0dGltZW91dDogMCxcblx0XHRcdGRhdGE6IG51bGwsXG5cdFx0XHRkYXRhVHlwZTogbnVsbCxcblx0XHRcdHVzZXJuYW1lOiBudWxsLFxuXHRcdFx0cGFzc3dvcmQ6IG51bGwsXG5cdFx0XHRjYWNoZTogbnVsbCxcblx0XHRcdHRocm93czogZmFsc2UsXG5cdFx0XHR0cmFkaXRpb25hbDogZmFsc2UsXG5cdFx0XHRoZWFkZXJzOiB7fSxcblx0XHRcdCovXG5cdFxuXHRcdFx0YWNjZXB0czoge1xuXHRcdFx0XHRcIipcIjogYWxsVHlwZXMsXG5cdFx0XHRcdHRleHQ6IFwidGV4dC9wbGFpblwiLFxuXHRcdFx0XHRodG1sOiBcInRleHQvaHRtbFwiLFxuXHRcdFx0XHR4bWw6IFwiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbFwiLFxuXHRcdFx0XHRqc29uOiBcImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdFwiXG5cdFx0XHR9LFxuXHRcblx0XHRcdGNvbnRlbnRzOiB7XG5cdFx0XHRcdHhtbDogL1xcYnhtbFxcYi8sXG5cdFx0XHRcdGh0bWw6IC9cXGJodG1sLyxcblx0XHRcdFx0anNvbjogL1xcYmpzb25cXGIvXG5cdFx0XHR9LFxuXHRcblx0XHRcdHJlc3BvbnNlRmllbGRzOiB7XG5cdFx0XHRcdHhtbDogXCJyZXNwb25zZVhNTFwiLFxuXHRcdFx0XHR0ZXh0OiBcInJlc3BvbnNlVGV4dFwiLFxuXHRcdFx0XHRqc29uOiBcInJlc3BvbnNlSlNPTlwiXG5cdFx0XHR9LFxuXHRcblx0XHRcdC8vIERhdGEgY29udmVydGVyc1xuXHRcdFx0Ly8gS2V5cyBzZXBhcmF0ZSBzb3VyY2UgKG9yIGNhdGNoYWxsIFwiKlwiKSBhbmQgZGVzdGluYXRpb24gdHlwZXMgd2l0aCBhIHNpbmdsZSBzcGFjZVxuXHRcdFx0Y29udmVydGVyczoge1xuXHRcblx0XHRcdFx0Ly8gQ29udmVydCBhbnl0aGluZyB0byB0ZXh0XG5cdFx0XHRcdFwiKiB0ZXh0XCI6IFN0cmluZyxcblx0XG5cdFx0XHRcdC8vIFRleHQgdG8gaHRtbCAodHJ1ZSA9IG5vIHRyYW5zZm9ybWF0aW9uKVxuXHRcdFx0XHRcInRleHQgaHRtbFwiOiB0cnVlLFxuXHRcblx0XHRcdFx0Ly8gRXZhbHVhdGUgdGV4dCBhcyBhIGpzb24gZXhwcmVzc2lvblxuXHRcdFx0XHRcInRleHQganNvblwiOiBKU09OLnBhcnNlLFxuXHRcblx0XHRcdFx0Ly8gUGFyc2UgdGV4dCBhcyB4bWxcblx0XHRcdFx0XCJ0ZXh0IHhtbFwiOiBqUXVlcnkucGFyc2VYTUxcblx0XHRcdH0sXG5cdFxuXHRcdFx0Ly8gRm9yIG9wdGlvbnMgdGhhdCBzaG91bGRuJ3QgYmUgZGVlcCBleHRlbmRlZDpcblx0XHRcdC8vIHlvdSBjYW4gYWRkIHlvdXIgb3duIGN1c3RvbSBvcHRpb25zIGhlcmUgaWZcblx0XHRcdC8vIGFuZCB3aGVuIHlvdSBjcmVhdGUgb25lIHRoYXQgc2hvdWxkbid0IGJlXG5cdFx0XHQvLyBkZWVwIGV4dGVuZGVkIChzZWUgYWpheEV4dGVuZClcblx0XHRcdGZsYXRPcHRpb25zOiB7XG5cdFx0XHRcdHVybDogdHJ1ZSxcblx0XHRcdFx0Y29udGV4dDogdHJ1ZVxuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdC8vIENyZWF0ZXMgYSBmdWxsIGZsZWRnZWQgc2V0dGluZ3Mgb2JqZWN0IGludG8gdGFyZ2V0XG5cdFx0Ly8gd2l0aCBib3RoIGFqYXhTZXR0aW5ncyBhbmQgc2V0dGluZ3MgZmllbGRzLlxuXHRcdC8vIElmIHRhcmdldCBpcyBvbWl0dGVkLCB3cml0ZXMgaW50byBhamF4U2V0dGluZ3MuXG5cdFx0YWpheFNldHVwOiBmdW5jdGlvbiggdGFyZ2V0LCBzZXR0aW5ncyApIHtcblx0XHRcdHJldHVybiBzZXR0aW5ncyA/XG5cdFxuXHRcdFx0XHQvLyBCdWlsZGluZyBhIHNldHRpbmdzIG9iamVjdFxuXHRcdFx0XHRhamF4RXh0ZW5kKCBhamF4RXh0ZW5kKCB0YXJnZXQsIGpRdWVyeS5hamF4U2V0dGluZ3MgKSwgc2V0dGluZ3MgKSA6XG5cdFxuXHRcdFx0XHQvLyBFeHRlbmRpbmcgYWpheFNldHRpbmdzXG5cdFx0XHRcdGFqYXhFeHRlbmQoIGpRdWVyeS5hamF4U2V0dGluZ3MsIHRhcmdldCApO1xuXHRcdH0sXG5cdFxuXHRcdGFqYXhQcmVmaWx0ZXI6IGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggcHJlZmlsdGVycyApLFxuXHRcdGFqYXhUcmFuc3BvcnQ6IGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggdHJhbnNwb3J0cyApLFxuXHRcblx0XHQvLyBNYWluIG1ldGhvZFxuXHRcdGFqYXg6IGZ1bmN0aW9uKCB1cmwsIG9wdGlvbnMgKSB7XG5cdFxuXHRcdFx0Ly8gSWYgdXJsIGlzIGFuIG9iamVjdCwgc2ltdWxhdGUgcHJlLTEuNSBzaWduYXR1cmVcblx0XHRcdGlmICggdHlwZW9mIHVybCA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRcdFx0b3B0aW9ucyA9IHVybDtcblx0XHRcdFx0dXJsID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEZvcmNlIG9wdGlvbnMgdG8gYmUgYW4gb2JqZWN0XG5cdFx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0XG5cdFx0XHR2YXIgdHJhbnNwb3J0LFxuXHRcblx0XHRcdFx0Ly8gVVJMIHdpdGhvdXQgYW50aS1jYWNoZSBwYXJhbVxuXHRcdFx0XHRjYWNoZVVSTCxcblx0XG5cdFx0XHRcdC8vIFJlc3BvbnNlIGhlYWRlcnNcblx0XHRcdFx0cmVzcG9uc2VIZWFkZXJzU3RyaW5nLFxuXHRcdFx0XHRyZXNwb25zZUhlYWRlcnMsXG5cdFxuXHRcdFx0XHQvLyB0aW1lb3V0IGhhbmRsZVxuXHRcdFx0XHR0aW1lb3V0VGltZXIsXG5cdFxuXHRcdFx0XHQvLyBVcmwgY2xlYW51cCB2YXJcblx0XHRcdFx0dXJsQW5jaG9yLFxuXHRcblx0XHRcdFx0Ly8gUmVxdWVzdCBzdGF0ZSAoYmVjb21lcyBmYWxzZSB1cG9uIHNlbmQgYW5kIHRydWUgdXBvbiBjb21wbGV0aW9uKVxuXHRcdFx0XHRjb21wbGV0ZWQsXG5cdFxuXHRcdFx0XHQvLyBUbyBrbm93IGlmIGdsb2JhbCBldmVudHMgYXJlIHRvIGJlIGRpc3BhdGNoZWRcblx0XHRcdFx0ZmlyZUdsb2JhbHMsXG5cdFxuXHRcdFx0XHQvLyBMb29wIHZhcmlhYmxlXG5cdFx0XHRcdGksXG5cdFxuXHRcdFx0XHQvLyB1bmNhY2hlZCBwYXJ0IG9mIHRoZSB1cmxcblx0XHRcdFx0dW5jYWNoZWQsXG5cdFxuXHRcdFx0XHQvLyBDcmVhdGUgdGhlIGZpbmFsIG9wdGlvbnMgb2JqZWN0XG5cdFx0XHRcdHMgPSBqUXVlcnkuYWpheFNldHVwKCB7fSwgb3B0aW9ucyApLFxuXHRcblx0XHRcdFx0Ly8gQ2FsbGJhY2tzIGNvbnRleHRcblx0XHRcdFx0Y2FsbGJhY2tDb250ZXh0ID0gcy5jb250ZXh0IHx8IHMsXG5cdFxuXHRcdFx0XHQvLyBDb250ZXh0IGZvciBnbG9iYWwgZXZlbnRzIGlzIGNhbGxiYWNrQ29udGV4dCBpZiBpdCBpcyBhIERPTSBub2RlIG9yIGpRdWVyeSBjb2xsZWN0aW9uXG5cdFx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dCA9IHMuY29udGV4dCAmJlxuXHRcdFx0XHRcdCggY2FsbGJhY2tDb250ZXh0Lm5vZGVUeXBlIHx8IGNhbGxiYWNrQ29udGV4dC5qcXVlcnkgKSA/XG5cdFx0XHRcdFx0XHRqUXVlcnkoIGNhbGxiYWNrQ29udGV4dCApIDpcblx0XHRcdFx0XHRcdGpRdWVyeS5ldmVudCxcblx0XG5cdFx0XHRcdC8vIERlZmVycmVkc1xuXHRcdFx0XHRkZWZlcnJlZCA9IGpRdWVyeS5EZWZlcnJlZCgpLFxuXHRcdFx0XHRjb21wbGV0ZURlZmVycmVkID0galF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksXG5cdFxuXHRcdFx0XHQvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xuXHRcdFx0XHRzdGF0dXNDb2RlID0gcy5zdGF0dXNDb2RlIHx8IHt9LFxuXHRcblx0XHRcdFx0Ly8gSGVhZGVycyAodGhleSBhcmUgc2VudCBhbGwgYXQgb25jZSlcblx0XHRcdFx0cmVxdWVzdEhlYWRlcnMgPSB7fSxcblx0XHRcdFx0cmVxdWVzdEhlYWRlcnNOYW1lcyA9IHt9LFxuXHRcblx0XHRcdFx0Ly8gRGVmYXVsdCBhYm9ydCBtZXNzYWdlXG5cdFx0XHRcdHN0ckFib3J0ID0gXCJjYW5jZWxlZFwiLFxuXHRcblx0XHRcdFx0Ly8gRmFrZSB4aHJcblx0XHRcdFx0anFYSFIgPSB7XG5cdFx0XHRcdFx0cmVhZHlTdGF0ZTogMCxcblx0XG5cdFx0XHRcdFx0Ly8gQnVpbGRzIGhlYWRlcnMgaGFzaHRhYmxlIGlmIG5lZWRlZFxuXHRcdFx0XHRcdGdldFJlc3BvbnNlSGVhZGVyOiBmdW5jdGlvbigga2V5ICkge1xuXHRcdFx0XHRcdFx0dmFyIG1hdGNoO1xuXHRcdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggIXJlc3BvbnNlSGVhZGVycyApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXNwb25zZUhlYWRlcnMgPSB7fTtcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoICggbWF0Y2ggPSByaGVhZGVycy5leGVjKCByZXNwb25zZUhlYWRlcnNTdHJpbmcgKSApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmVzcG9uc2VIZWFkZXJzWyBtYXRjaFsgMSBdLnRvTG93ZXJDYXNlKCkgXSA9IG1hdGNoWyAyIF07XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdG1hdGNoID0gcmVzcG9uc2VIZWFkZXJzWyBrZXkudG9Mb3dlckNhc2UoKSBdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuIG1hdGNoID09IG51bGwgPyBudWxsIDogbWF0Y2g7XG5cdFx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdFx0Ly8gUmF3IHN0cmluZ1xuXHRcdFx0XHRcdGdldEFsbFJlc3BvbnNlSGVhZGVyczogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29tcGxldGVkID8gcmVzcG9uc2VIZWFkZXJzU3RyaW5nIDogbnVsbDtcblx0XHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0XHQvLyBDYWNoZXMgdGhlIGhlYWRlclxuXHRcdFx0XHRcdHNldFJlcXVlc3RIZWFkZXI6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRcdFx0XHRcdGlmICggY29tcGxldGVkID09IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRcdG5hbWUgPSByZXF1ZXN0SGVhZGVyc05hbWVzWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSA9XG5cdFx0XHRcdFx0XHRcdFx0cmVxdWVzdEhlYWRlcnNOYW1lc1sgbmFtZS50b0xvd2VyQ2FzZSgpIF0gfHwgbmFtZTtcblx0XHRcdFx0XHRcdFx0cmVxdWVzdEhlYWRlcnNbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdFx0Ly8gT3ZlcnJpZGVzIHJlc3BvbnNlIGNvbnRlbnQtdHlwZSBoZWFkZXJcblx0XHRcdFx0XHRvdmVycmlkZU1pbWVUeXBlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRcdFx0XHRcdGlmICggY29tcGxldGVkID09IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRcdHMubWltZVR5cGUgPSB0eXBlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdFx0Ly8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3Ncblx0XHRcdFx0XHRzdGF0dXNDb2RlOiBmdW5jdGlvbiggbWFwICkge1xuXHRcdFx0XHRcdFx0dmFyIGNvZGU7XG5cdFx0XHRcdFx0XHRpZiAoIG1hcCApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdC8vIEV4ZWN1dGUgdGhlIGFwcHJvcHJpYXRlIGNhbGxiYWNrc1xuXHRcdFx0XHRcdFx0XHRcdGpxWEhSLmFsd2F5cyggbWFwWyBqcVhIUi5zdGF0dXMgXSApO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcblx0XHRcdFx0XHRcdFx0XHQvLyBMYXp5LWFkZCB0aGUgbmV3IGNhbGxiYWNrcyBpbiBhIHdheSB0aGF0IHByZXNlcnZlcyBvbGQgb25lc1xuXHRcdFx0XHRcdFx0XHRcdGZvciAoIGNvZGUgaW4gbWFwICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0c3RhdHVzQ29kZVsgY29kZSBdID0gWyBzdGF0dXNDb2RlWyBjb2RlIF0sIG1hcFsgY29kZSBdIF07XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0XHQvLyBDYW5jZWwgdGhlIHJlcXVlc3Rcblx0XHRcdFx0XHRhYm9ydDogZnVuY3Rpb24oIHN0YXR1c1RleHQgKSB7XG5cdFx0XHRcdFx0XHR2YXIgZmluYWxUZXh0ID0gc3RhdHVzVGV4dCB8fCBzdHJBYm9ydDtcblx0XHRcdFx0XHRcdGlmICggdHJhbnNwb3J0ICkge1xuXHRcdFx0XHRcdFx0XHR0cmFuc3BvcnQuYWJvcnQoIGZpbmFsVGV4dCApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZG9uZSggMCwgZmluYWxUZXh0ICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFxuXHRcdFx0Ly8gQXR0YWNoIGRlZmVycmVkc1xuXHRcdFx0ZGVmZXJyZWQucHJvbWlzZSgganFYSFIgKTtcblx0XG5cdFx0XHQvLyBBZGQgcHJvdG9jb2wgaWYgbm90IHByb3ZpZGVkIChwcmVmaWx0ZXJzIG1pZ2h0IGV4cGVjdCBpdClcblx0XHRcdC8vIEhhbmRsZSBmYWxzeSB1cmwgaW4gdGhlIHNldHRpbmdzIG9iamVjdCAoIzEwMDkzOiBjb25zaXN0ZW5jeSB3aXRoIG9sZCBzaWduYXR1cmUpXG5cdFx0XHQvLyBXZSBhbHNvIHVzZSB0aGUgdXJsIHBhcmFtZXRlciBpZiBhdmFpbGFibGVcblx0XHRcdHMudXJsID0gKCAoIHVybCB8fCBzLnVybCB8fCBsb2NhdGlvbi5ocmVmICkgKyBcIlwiIClcblx0XHRcdFx0LnJlcGxhY2UoIHJwcm90b2NvbCwgbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKTtcblx0XG5cdFx0XHQvLyBBbGlhcyBtZXRob2Qgb3B0aW9uIHRvIHR5cGUgYXMgcGVyIHRpY2tldCAjMTIwMDRcblx0XHRcdHMudHlwZSA9IG9wdGlvbnMubWV0aG9kIHx8IG9wdGlvbnMudHlwZSB8fCBzLm1ldGhvZCB8fCBzLnR5cGU7XG5cdFxuXHRcdFx0Ly8gRXh0cmFjdCBkYXRhVHlwZXMgbGlzdFxuXHRcdFx0cy5kYXRhVHlwZXMgPSAoIHMuZGF0YVR5cGUgfHwgXCIqXCIgKS50b0xvd2VyQ2FzZSgpLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbIFwiXCIgXTtcblx0XG5cdFx0XHQvLyBBIGNyb3NzLWRvbWFpbiByZXF1ZXN0IGlzIGluIG9yZGVyIHdoZW4gdGhlIG9yaWdpbiBkb2Vzbid0IG1hdGNoIHRoZSBjdXJyZW50IG9yaWdpbi5cblx0XHRcdGlmICggcy5jcm9zc0RvbWFpbiA9PSBudWxsICkge1xuXHRcdFx0XHR1cmxBbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImFcIiApO1xuXHRcblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD04IC0gMTEsIEVkZ2UgMTIgLSAxM1xuXHRcdFx0XHQvLyBJRSB0aHJvd3MgZXhjZXB0aW9uIG9uIGFjY2Vzc2luZyB0aGUgaHJlZiBwcm9wZXJ0eSBpZiB1cmwgaXMgbWFsZm9ybWVkLFxuXHRcdFx0XHQvLyBlLmcuIGh0dHA6Ly9leGFtcGxlLmNvbTo4MHgvXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0dXJsQW5jaG9yLmhyZWYgPSBzLnVybDtcblx0XG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD04IC0gMTEgb25seVxuXHRcdFx0XHRcdC8vIEFuY2hvcidzIGhvc3QgcHJvcGVydHkgaXNuJ3QgY29ycmVjdGx5IHNldCB3aGVuIHMudXJsIGlzIHJlbGF0aXZlXG5cdFx0XHRcdFx0dXJsQW5jaG9yLmhyZWYgPSB1cmxBbmNob3IuaHJlZjtcblx0XHRcdFx0XHRzLmNyb3NzRG9tYWluID0gb3JpZ2luQW5jaG9yLnByb3RvY29sICsgXCIvL1wiICsgb3JpZ2luQW5jaG9yLmhvc3QgIT09XG5cdFx0XHRcdFx0XHR1cmxBbmNob3IucHJvdG9jb2wgKyBcIi8vXCIgKyB1cmxBbmNob3IuaG9zdDtcblx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cdFxuXHRcdFx0XHRcdC8vIElmIHRoZXJlIGlzIGFuIGVycm9yIHBhcnNpbmcgdGhlIFVSTCwgYXNzdW1lIGl0IGlzIGNyb3NzRG9tYWluLFxuXHRcdFx0XHRcdC8vIGl0IGNhbiBiZSByZWplY3RlZCBieSB0aGUgdHJhbnNwb3J0IGlmIGl0IGlzIGludmFsaWRcblx0XHRcdFx0XHRzLmNyb3NzRG9tYWluID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdC8vIENvbnZlcnQgZGF0YSBpZiBub3QgYWxyZWFkeSBhIHN0cmluZ1xuXHRcdFx0aWYgKCBzLmRhdGEgJiYgcy5wcm9jZXNzRGF0YSAmJiB0eXBlb2Ygcy5kYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRzLmRhdGEgPSBqUXVlcnkucGFyYW0oIHMuZGF0YSwgcy50cmFkaXRpb25hbCApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEFwcGx5IHByZWZpbHRlcnNcblx0XHRcdGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBwcmVmaWx0ZXJzLCBzLCBvcHRpb25zLCBqcVhIUiApO1xuXHRcblx0XHRcdC8vIElmIHJlcXVlc3Qgd2FzIGFib3J0ZWQgaW5zaWRlIGEgcHJlZmlsdGVyLCBzdG9wIHRoZXJlXG5cdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdFx0cmV0dXJuIGpxWEhSO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFdlIGNhbiBmaXJlIGdsb2JhbCBldmVudHMgYXMgb2Ygbm93IGlmIGFza2VkIHRvXG5cdFx0XHQvLyBEb24ndCBmaXJlIGV2ZW50cyBpZiBqUXVlcnkuZXZlbnQgaXMgdW5kZWZpbmVkIGluIGFuIEFNRC11c2FnZSBzY2VuYXJpbyAoIzE1MTE4KVxuXHRcdFx0ZmlyZUdsb2JhbHMgPSBqUXVlcnkuZXZlbnQgJiYgcy5nbG9iYWw7XG5cdFxuXHRcdFx0Ly8gV2F0Y2ggZm9yIGEgbmV3IHNldCBvZiByZXF1ZXN0c1xuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyAmJiBqUXVlcnkuYWN0aXZlKysgPT09IDAgKSB7XG5cdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBcImFqYXhTdGFydFwiICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gVXBwZXJjYXNlIHRoZSB0eXBlXG5cdFx0XHRzLnR5cGUgPSBzLnR5cGUudG9VcHBlckNhc2UoKTtcblx0XG5cdFx0XHQvLyBEZXRlcm1pbmUgaWYgcmVxdWVzdCBoYXMgY29udGVudFxuXHRcdFx0cy5oYXNDb250ZW50ID0gIXJub0NvbnRlbnQudGVzdCggcy50eXBlICk7XG5cdFxuXHRcdFx0Ly8gU2F2ZSB0aGUgVVJMIGluIGNhc2Ugd2UncmUgdG95aW5nIHdpdGggdGhlIElmLU1vZGlmaWVkLVNpbmNlXG5cdFx0XHQvLyBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIgbGF0ZXIgb25cblx0XHRcdC8vIFJlbW92ZSBoYXNoIHRvIHNpbXBsaWZ5IHVybCBtYW5pcHVsYXRpb25cblx0XHRcdGNhY2hlVVJMID0gcy51cmwucmVwbGFjZSggcmhhc2gsIFwiXCIgKTtcblx0XG5cdFx0XHQvLyBNb3JlIG9wdGlvbnMgaGFuZGxpbmcgZm9yIHJlcXVlc3RzIHdpdGggbm8gY29udGVudFxuXHRcdFx0aWYgKCAhcy5oYXNDb250ZW50ICkge1xuXHRcblx0XHRcdFx0Ly8gUmVtZW1iZXIgdGhlIGhhc2ggc28gd2UgY2FuIHB1dCBpdCBiYWNrXG5cdFx0XHRcdHVuY2FjaGVkID0gcy51cmwuc2xpY2UoIGNhY2hlVVJMLmxlbmd0aCApO1xuXHRcblx0XHRcdFx0Ly8gSWYgZGF0YSBpcyBhdmFpbGFibGUsIGFwcGVuZCBkYXRhIHRvIHVybFxuXHRcdFx0XHRpZiAoIHMuZGF0YSApIHtcblx0XHRcdFx0XHRjYWNoZVVSTCArPSAoIHJxdWVyeS50ZXN0KCBjYWNoZVVSTCApID8gXCImXCIgOiBcIj9cIiApICsgcy5kYXRhO1xuXHRcblx0XHRcdFx0XHQvLyAjOTY4MjogcmVtb3ZlIGRhdGEgc28gdGhhdCBpdCdzIG5vdCB1c2VkIGluIGFuIGV2ZW50dWFsIHJldHJ5XG5cdFx0XHRcdFx0ZGVsZXRlIHMuZGF0YTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gQWRkIGFudGktY2FjaGUgaW4gdW5jYWNoZWQgdXJsIGlmIG5lZWRlZFxuXHRcdFx0XHRpZiAoIHMuY2FjaGUgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdGNhY2hlVVJMID0gY2FjaGVVUkwucmVwbGFjZSggcnRzLCBcIlwiICk7XG5cdFx0XHRcdFx0dW5jYWNoZWQgPSAoIHJxdWVyeS50ZXN0KCBjYWNoZVVSTCApID8gXCImXCIgOiBcIj9cIiApICsgXCJfPVwiICsgKCBub25jZSsrICkgKyB1bmNhY2hlZDtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gUHV0IGhhc2ggYW5kIGFudGktY2FjaGUgb24gdGhlIFVSTCB0aGF0IHdpbGwgYmUgcmVxdWVzdGVkIChnaC0xNzMyKVxuXHRcdFx0XHRzLnVybCA9IGNhY2hlVVJMICsgdW5jYWNoZWQ7XG5cdFxuXHRcdFx0Ly8gQ2hhbmdlICclMjAnIHRvICcrJyBpZiB0aGlzIGlzIGVuY29kZWQgZm9ybSBib2R5IGNvbnRlbnQgKGdoLTI2NTgpXG5cdFx0XHR9IGVsc2UgaWYgKCBzLmRhdGEgJiYgcy5wcm9jZXNzRGF0YSAmJlxuXHRcdFx0XHQoIHMuY29udGVudFR5cGUgfHwgXCJcIiApLmluZGV4T2YoIFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIgKSA9PT0gMCApIHtcblx0XHRcdFx0cy5kYXRhID0gcy5kYXRhLnJlcGxhY2UoIHIyMCwgXCIrXCIgKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBTZXQgdGhlIElmLU1vZGlmaWVkLVNpbmNlIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciwgaWYgaW4gaWZNb2RpZmllZCBtb2RlLlxuXHRcdFx0aWYgKCBzLmlmTW9kaWZpZWQgKSB7XG5cdFx0XHRcdGlmICggalF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSApIHtcblx0XHRcdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIklmLU1vZGlmaWVkLVNpbmNlXCIsIGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdICkge1xuXHRcdFx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiSWYtTm9uZS1NYXRjaFwiLCBqUXVlcnkuZXRhZ1sgY2FjaGVVUkwgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gU2V0IHRoZSBjb3JyZWN0IGhlYWRlciwgaWYgZGF0YSBpcyBiZWluZyBzZW50XG5cdFx0XHRpZiAoIHMuZGF0YSAmJiBzLmhhc0NvbnRlbnQgJiYgcy5jb250ZW50VHlwZSAhPT0gZmFsc2UgfHwgb3B0aW9ucy5jb250ZW50VHlwZSApIHtcblx0XHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJDb250ZW50LVR5cGVcIiwgcy5jb250ZW50VHlwZSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFNldCB0aGUgQWNjZXB0cyBoZWFkZXIgZm9yIHRoZSBzZXJ2ZXIsIGRlcGVuZGluZyBvbiB0aGUgZGF0YVR5cGVcblx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoXG5cdFx0XHRcdFwiQWNjZXB0XCIsXG5cdFx0XHRcdHMuZGF0YVR5cGVzWyAwIF0gJiYgcy5hY2NlcHRzWyBzLmRhdGFUeXBlc1sgMCBdIF0gP1xuXHRcdFx0XHRcdHMuYWNjZXB0c1sgcy5kYXRhVHlwZXNbIDAgXSBdICtcblx0XHRcdFx0XHRcdCggcy5kYXRhVHlwZXNbIDAgXSAhPT0gXCIqXCIgPyBcIiwgXCIgKyBhbGxUeXBlcyArIFwiOyBxPTAuMDFcIiA6IFwiXCIgKSA6XG5cdFx0XHRcdFx0cy5hY2NlcHRzWyBcIipcIiBdXG5cdFx0XHQpO1xuXHRcblx0XHRcdC8vIENoZWNrIGZvciBoZWFkZXJzIG9wdGlvblxuXHRcdFx0Zm9yICggaSBpbiBzLmhlYWRlcnMgKSB7XG5cdFx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIGksIHMuaGVhZGVyc1sgaSBdICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gQWxsb3cgY3VzdG9tIGhlYWRlcnMvbWltZXR5cGVzIGFuZCBlYXJseSBhYm9ydFxuXHRcdFx0aWYgKCBzLmJlZm9yZVNlbmQgJiZcblx0XHRcdFx0KCBzLmJlZm9yZVNlbmQuY2FsbCggY2FsbGJhY2tDb250ZXh0LCBqcVhIUiwgcyApID09PSBmYWxzZSB8fCBjb21wbGV0ZWQgKSApIHtcblx0XG5cdFx0XHRcdC8vIEFib3J0IGlmIG5vdCBkb25lIGFscmVhZHkgYW5kIHJldHVyblxuXHRcdFx0XHRyZXR1cm4ganFYSFIuYWJvcnQoKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBBYm9ydGluZyBpcyBubyBsb25nZXIgYSBjYW5jZWxsYXRpb25cblx0XHRcdHN0ckFib3J0ID0gXCJhYm9ydFwiO1xuXHRcblx0XHRcdC8vIEluc3RhbGwgY2FsbGJhY2tzIG9uIGRlZmVycmVkc1xuXHRcdFx0Y29tcGxldGVEZWZlcnJlZC5hZGQoIHMuY29tcGxldGUgKTtcblx0XHRcdGpxWEhSLmRvbmUoIHMuc3VjY2VzcyApO1xuXHRcdFx0anFYSFIuZmFpbCggcy5lcnJvciApO1xuXHRcblx0XHRcdC8vIEdldCB0cmFuc3BvcnRcblx0XHRcdHRyYW5zcG9ydCA9IGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCB0cmFuc3BvcnRzLCBzLCBvcHRpb25zLCBqcVhIUiApO1xuXHRcblx0XHRcdC8vIElmIG5vIHRyYW5zcG9ydCwgd2UgYXV0by1hYm9ydFxuXHRcdFx0aWYgKCAhdHJhbnNwb3J0ICkge1xuXHRcdFx0XHRkb25lKCAtMSwgXCJObyBUcmFuc3BvcnRcIiApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0anFYSFIucmVhZHlTdGF0ZSA9IDE7XG5cdFxuXHRcdFx0XHQvLyBTZW5kIGdsb2JhbCBldmVudFxuXHRcdFx0XHRpZiAoIGZpcmVHbG9iYWxzICkge1xuXHRcdFx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBcImFqYXhTZW5kXCIsIFsganFYSFIsIHMgXSApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBJZiByZXF1ZXN0IHdhcyBhYm9ydGVkIGluc2lkZSBhamF4U2VuZCwgc3RvcCB0aGVyZVxuXHRcdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdFx0XHRyZXR1cm4ganFYSFI7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFRpbWVvdXRcblx0XHRcdFx0aWYgKCBzLmFzeW5jICYmIHMudGltZW91dCA+IDAgKSB7XG5cdFx0XHRcdFx0dGltZW91dFRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0anFYSFIuYWJvcnQoIFwidGltZW91dFwiICk7XG5cdFx0XHRcdFx0fSwgcy50aW1lb3V0ICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Y29tcGxldGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0dHJhbnNwb3J0LnNlbmQoIHJlcXVlc3RIZWFkZXJzLCBkb25lICk7XG5cdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXHRcblx0XHRcdFx0XHQvLyBSZXRocm93IHBvc3QtY29tcGxldGlvbiBleGNlcHRpb25zXG5cdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gUHJvcGFnYXRlIG90aGVycyBhcyByZXN1bHRzXG5cdFx0XHRcdFx0ZG9uZSggLTEsIGUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdC8vIENhbGxiYWNrIGZvciB3aGVuIGV2ZXJ5dGhpbmcgaXMgZG9uZVxuXHRcdFx0ZnVuY3Rpb24gZG9uZSggc3RhdHVzLCBuYXRpdmVTdGF0dXNUZXh0LCByZXNwb25zZXMsIGhlYWRlcnMgKSB7XG5cdFx0XHRcdHZhciBpc1N1Y2Nlc3MsIHN1Y2Nlc3MsIGVycm9yLCByZXNwb25zZSwgbW9kaWZpZWQsXG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IG5hdGl2ZVN0YXR1c1RleHQ7XG5cdFxuXHRcdFx0XHQvLyBJZ25vcmUgcmVwZWF0IGludm9jYXRpb25zXG5cdFx0XHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Y29tcGxldGVkID0gdHJ1ZTtcblx0XG5cdFx0XHRcdC8vIENsZWFyIHRpbWVvdXQgaWYgaXQgZXhpc3RzXG5cdFx0XHRcdGlmICggdGltZW91dFRpbWVyICkge1xuXHRcdFx0XHRcdHdpbmRvdy5jbGVhclRpbWVvdXQoIHRpbWVvdXRUaW1lciApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBEZXJlZmVyZW5jZSB0cmFuc3BvcnQgZm9yIGVhcmx5IGdhcmJhZ2UgY29sbGVjdGlvblxuXHRcdFx0XHQvLyAobm8gbWF0dGVyIGhvdyBsb25nIHRoZSBqcVhIUiBvYmplY3Qgd2lsbCBiZSB1c2VkKVxuXHRcdFx0XHR0cmFuc3BvcnQgPSB1bmRlZmluZWQ7XG5cdFxuXHRcdFx0XHQvLyBDYWNoZSByZXNwb25zZSBoZWFkZXJzXG5cdFx0XHRcdHJlc3BvbnNlSGVhZGVyc1N0cmluZyA9IGhlYWRlcnMgfHwgXCJcIjtcblx0XG5cdFx0XHRcdC8vIFNldCByZWFkeVN0YXRlXG5cdFx0XHRcdGpxWEhSLnJlYWR5U3RhdGUgPSBzdGF0dXMgPiAwID8gNCA6IDA7XG5cdFxuXHRcdFx0XHQvLyBEZXRlcm1pbmUgaWYgc3VjY2Vzc2Z1bFxuXHRcdFx0XHRpc1N1Y2Nlc3MgPSBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMCB8fCBzdGF0dXMgPT09IDMwNDtcblx0XG5cdFx0XHRcdC8vIEdldCByZXNwb25zZSBkYXRhXG5cdFx0XHRcdGlmICggcmVzcG9uc2VzICkge1xuXHRcdFx0XHRcdHJlc3BvbnNlID0gYWpheEhhbmRsZVJlc3BvbnNlcyggcywganFYSFIsIHJlc3BvbnNlcyApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBDb252ZXJ0IG5vIG1hdHRlciB3aGF0ICh0aGF0IHdheSByZXNwb25zZVhYWCBmaWVsZHMgYXJlIGFsd2F5cyBzZXQpXG5cdFx0XHRcdHJlc3BvbnNlID0gYWpheENvbnZlcnQoIHMsIHJlc3BvbnNlLCBqcVhIUiwgaXNTdWNjZXNzICk7XG5cdFxuXHRcdFx0XHQvLyBJZiBzdWNjZXNzZnVsLCBoYW5kbGUgdHlwZSBjaGFpbmluZ1xuXHRcdFx0XHRpZiAoIGlzU3VjY2VzcyApIHtcblx0XG5cdFx0XHRcdFx0Ly8gU2V0IHRoZSBJZi1Nb2RpZmllZC1TaW5jZSBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIsIGlmIGluIGlmTW9kaWZpZWQgbW9kZS5cblx0XHRcdFx0XHRpZiAoIHMuaWZNb2RpZmllZCApIHtcblx0XHRcdFx0XHRcdG1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoIFwiTGFzdC1Nb2RpZmllZFwiICk7XG5cdFx0XHRcdFx0XHRpZiAoIG1vZGlmaWVkICkge1xuXHRcdFx0XHRcdFx0XHRqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdID0gbW9kaWZpZWQ7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRtb2RpZmllZCA9IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCBcImV0YWdcIiApO1xuXHRcdFx0XHRcdFx0aWYgKCBtb2RpZmllZCApIHtcblx0XHRcdFx0XHRcdFx0alF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIGlmIG5vIGNvbnRlbnRcblx0XHRcdFx0XHRpZiAoIHN0YXR1cyA9PT0gMjA0IHx8IHMudHlwZSA9PT0gXCJIRUFEXCIgKSB7XG5cdFx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gXCJub2NvbnRlbnRcIjtcblx0XG5cdFx0XHRcdFx0Ly8gaWYgbm90IG1vZGlmaWVkXG5cdFx0XHRcdFx0fSBlbHNlIGlmICggc3RhdHVzID09PSAzMDQgKSB7XG5cdFx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gXCJub3Rtb2RpZmllZFwiO1xuXHRcblx0XHRcdFx0XHQvLyBJZiB3ZSBoYXZlIGRhdGEsIGxldCdzIGNvbnZlcnQgaXRcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c3RhdHVzVGV4dCA9IHJlc3BvbnNlLnN0YXRlO1xuXHRcdFx0XHRcdFx0c3VjY2VzcyA9IHJlc3BvbnNlLmRhdGE7XG5cdFx0XHRcdFx0XHRlcnJvciA9IHJlc3BvbnNlLmVycm9yO1xuXHRcdFx0XHRcdFx0aXNTdWNjZXNzID0gIWVycm9yO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XG5cdFx0XHRcdFx0Ly8gRXh0cmFjdCBlcnJvciBmcm9tIHN0YXR1c1RleHQgYW5kIG5vcm1hbGl6ZSBmb3Igbm9uLWFib3J0c1xuXHRcdFx0XHRcdGVycm9yID0gc3RhdHVzVGV4dDtcblx0XHRcdFx0XHRpZiAoIHN0YXR1cyB8fCAhc3RhdHVzVGV4dCApIHtcblx0XHRcdFx0XHRcdHN0YXR1c1RleHQgPSBcImVycm9yXCI7XG5cdFx0XHRcdFx0XHRpZiAoIHN0YXR1cyA8IDAgKSB7XG5cdFx0XHRcdFx0XHRcdHN0YXR1cyA9IDA7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBTZXQgZGF0YSBmb3IgdGhlIGZha2UgeGhyIG9iamVjdFxuXHRcdFx0XHRqcVhIUi5zdGF0dXMgPSBzdGF0dXM7XG5cdFx0XHRcdGpxWEhSLnN0YXR1c1RleHQgPSAoIG5hdGl2ZVN0YXR1c1RleHQgfHwgc3RhdHVzVGV4dCApICsgXCJcIjtcblx0XG5cdFx0XHRcdC8vIFN1Y2Nlc3MvRXJyb3Jcblx0XHRcdFx0aWYgKCBpc1N1Y2Nlc3MgKSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBzdWNjZXNzLCBzdGF0dXNUZXh0LCBqcVhIUiBdICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0LCBlcnJvciBdICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRcdGpxWEhSLnN0YXR1c0NvZGUoIHN0YXR1c0NvZGUgKTtcblx0XHRcdFx0c3RhdHVzQ29kZSA9IHVuZGVmaW5lZDtcblx0XG5cdFx0XHRcdGlmICggZmlyZUdsb2JhbHMgKSB7XG5cdFx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIGlzU3VjY2VzcyA/IFwiYWpheFN1Y2Nlc3NcIiA6IFwiYWpheEVycm9yXCIsXG5cdFx0XHRcdFx0XHRbIGpxWEhSLCBzLCBpc1N1Y2Nlc3MgPyBzdWNjZXNzIDogZXJyb3IgXSApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBDb21wbGV0ZVxuXHRcdFx0XHRjb21wbGV0ZURlZmVycmVkLmZpcmVXaXRoKCBjYWxsYmFja0NvbnRleHQsIFsganFYSFIsIHN0YXR1c1RleHQgXSApO1xuXHRcblx0XHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0XHRnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggXCJhamF4Q29tcGxldGVcIiwgWyBqcVhIUiwgcyBdICk7XG5cdFxuXHRcdFx0XHRcdC8vIEhhbmRsZSB0aGUgZ2xvYmFsIEFKQVggY291bnRlclxuXHRcdFx0XHRcdGlmICggISggLS1qUXVlcnkuYWN0aXZlICkgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggXCJhamF4U3RvcFwiICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIGpxWEhSO1xuXHRcdH0sXG5cdFxuXHRcdGdldEpTT046IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIGNhbGxiYWNrICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5nZXQoIHVybCwgZGF0YSwgY2FsbGJhY2ssIFwianNvblwiICk7XG5cdFx0fSxcblx0XG5cdFx0Z2V0U2NyaXB0OiBmdW5jdGlvbiggdXJsLCBjYWxsYmFjayApIHtcblx0XHRcdHJldHVybiBqUXVlcnkuZ2V0KCB1cmwsIHVuZGVmaW5lZCwgY2FsbGJhY2ssIFwic2NyaXB0XCIgKTtcblx0XHR9XG5cdH0gKTtcblx0XG5cdGpRdWVyeS5lYWNoKCBbIFwiZ2V0XCIsIFwicG9zdFwiIF0sIGZ1bmN0aW9uKCBpLCBtZXRob2QgKSB7XG5cdFx0alF1ZXJ5WyBtZXRob2QgXSA9IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIGNhbGxiYWNrLCB0eXBlICkge1xuXHRcblx0XHRcdC8vIFNoaWZ0IGFyZ3VtZW50cyBpZiBkYXRhIGFyZ3VtZW50IHdhcyBvbWl0dGVkXG5cdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBkYXRhICkgKSB7XG5cdFx0XHRcdHR5cGUgPSB0eXBlIHx8IGNhbGxiYWNrO1xuXHRcdFx0XHRjYWxsYmFjayA9IGRhdGE7XG5cdFx0XHRcdGRhdGEgPSB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gVGhlIHVybCBjYW4gYmUgYW4gb3B0aW9ucyBvYmplY3QgKHdoaWNoIHRoZW4gbXVzdCBoYXZlIC51cmwpXG5cdFx0XHRyZXR1cm4galF1ZXJ5LmFqYXgoIGpRdWVyeS5leHRlbmQoIHtcblx0XHRcdFx0dXJsOiB1cmwsXG5cdFx0XHRcdHR5cGU6IG1ldGhvZCxcblx0XHRcdFx0ZGF0YVR5cGU6IHR5cGUsXG5cdFx0XHRcdGRhdGE6IGRhdGEsXG5cdFx0XHRcdHN1Y2Nlc3M6IGNhbGxiYWNrXG5cdFx0XHR9LCBqUXVlcnkuaXNQbGFpbk9iamVjdCggdXJsICkgJiYgdXJsICkgKTtcblx0XHR9O1xuXHR9ICk7XG5cdFxuXHRcblx0alF1ZXJ5Ll9ldmFsVXJsID0gZnVuY3Rpb24oIHVybCApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmFqYXgoIHtcblx0XHRcdHVybDogdXJsLFxuXHRcblx0XHRcdC8vIE1ha2UgdGhpcyBleHBsaWNpdCwgc2luY2UgdXNlciBjYW4gb3ZlcnJpZGUgdGhpcyB0aHJvdWdoIGFqYXhTZXR1cCAoIzExMjY0KVxuXHRcdFx0dHlwZTogXCJHRVRcIixcblx0XHRcdGRhdGFUeXBlOiBcInNjcmlwdFwiLFxuXHRcdFx0Y2FjaGU6IHRydWUsXG5cdFx0XHRhc3luYzogZmFsc2UsXG5cdFx0XHRnbG9iYWw6IGZhbHNlLFxuXHRcdFx0XCJ0aHJvd3NcIjogdHJ1ZVxuXHRcdH0gKTtcblx0fTtcblx0XG5cdFxuXHRqUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdFx0d3JhcEFsbDogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0XHR2YXIgd3JhcDtcblx0XG5cdFx0XHRpZiAoIHRoaXNbIDAgXSApIHtcblx0XHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggaHRtbCApICkge1xuXHRcdFx0XHRcdGh0bWwgPSBodG1sLmNhbGwoIHRoaXNbIDAgXSApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBUaGUgZWxlbWVudHMgdG8gd3JhcCB0aGUgdGFyZ2V0IGFyb3VuZFxuXHRcdFx0XHR3cmFwID0galF1ZXJ5KCBodG1sLCB0aGlzWyAwIF0ub3duZXJEb2N1bWVudCApLmVxKCAwICkuY2xvbmUoIHRydWUgKTtcblx0XG5cdFx0XHRcdGlmICggdGhpc1sgMCBdLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdFx0d3JhcC5pbnNlcnRCZWZvcmUoIHRoaXNbIDAgXSApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHR3cmFwLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dmFyIGVsZW0gPSB0aGlzO1xuXHRcblx0XHRcdFx0XHR3aGlsZSAoIGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQgKSB7XG5cdFx0XHRcdFx0XHRlbGVtID0gZWxlbS5maXJzdEVsZW1lbnRDaGlsZDtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdHJldHVybiBlbGVtO1xuXHRcdFx0XHR9ICkuYXBwZW5kKCB0aGlzICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XG5cdFx0d3JhcElubmVyOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGh0bWwgKSApIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5KCB0aGlzICkud3JhcElubmVyKCBodG1sLmNhbGwoIHRoaXMsIGkgKSApO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBzZWxmID0galF1ZXJ5KCB0aGlzICksXG5cdFx0XHRcdFx0Y29udGVudHMgPSBzZWxmLmNvbnRlbnRzKCk7XG5cdFxuXHRcdFx0XHRpZiAoIGNvbnRlbnRzLmxlbmd0aCApIHtcblx0XHRcdFx0XHRjb250ZW50cy53cmFwQWxsKCBodG1sICk7XG5cdFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHNlbGYuYXBwZW5kKCBodG1sICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9LFxuXHRcblx0XHR3cmFwOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHRcdHZhciBpc0Z1bmN0aW9uID0galF1ZXJ5LmlzRnVuY3Rpb24oIGh0bWwgKTtcblx0XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkud3JhcEFsbCggaXNGdW5jdGlvbiA/IGh0bWwuY2FsbCggdGhpcywgaSApIDogaHRtbCApO1xuXHRcdFx0fSApO1xuXHRcdH0sXG5cdFxuXHRcdHVud3JhcDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdFx0dGhpcy5wYXJlbnQoIHNlbGVjdG9yICkubm90KCBcImJvZHlcIiApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5yZXBsYWNlV2l0aCggdGhpcy5jaGlsZE5vZGVzICk7XG5cdFx0XHR9ICk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH0gKTtcblx0XG5cdFxuXHRqUXVlcnkuZXhwci5wc2V1ZG9zLmhpZGRlbiA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiAhalF1ZXJ5LmV4cHIucHNldWRvcy52aXNpYmxlKCBlbGVtICk7XG5cdH07XG5cdGpRdWVyeS5leHByLnBzZXVkb3MudmlzaWJsZSA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiAhISggZWxlbS5vZmZzZXRXaWR0aCB8fCBlbGVtLm9mZnNldEhlaWdodCB8fCBlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoICk7XG5cdH07XG5cdFxuXHRcblx0XG5cdFxuXHRqUXVlcnkuYWpheFNldHRpbmdzLnhociA9IGZ1bmN0aW9uKCkge1xuXHRcdHRyeSB7XG5cdFx0XHRyZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpO1xuXHRcdH0gY2F0Y2ggKCBlICkge31cblx0fTtcblx0XG5cdHZhciB4aHJTdWNjZXNzU3RhdHVzID0ge1xuXHRcblx0XHRcdC8vIEZpbGUgcHJvdG9jb2wgYWx3YXlzIHlpZWxkcyBzdGF0dXMgY29kZSAwLCBhc3N1bWUgMjAwXG5cdFx0XHQwOiAyMDAsXG5cdFxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHRcdC8vICMxNDUwOiBzb21ldGltZXMgSUUgcmV0dXJucyAxMjIzIHdoZW4gaXQgc2hvdWxkIGJlIDIwNFxuXHRcdFx0MTIyMzogMjA0XG5cdFx0fSxcblx0XHR4aHJTdXBwb3J0ZWQgPSBqUXVlcnkuYWpheFNldHRpbmdzLnhocigpO1xuXHRcblx0c3VwcG9ydC5jb3JzID0gISF4aHJTdXBwb3J0ZWQgJiYgKCBcIndpdGhDcmVkZW50aWFsc1wiIGluIHhoclN1cHBvcnRlZCApO1xuXHRzdXBwb3J0LmFqYXggPSB4aHJTdXBwb3J0ZWQgPSAhIXhoclN1cHBvcnRlZDtcblx0XG5cdGpRdWVyeS5hamF4VHJhbnNwb3J0KCBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0XHR2YXIgY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2s7XG5cdFxuXHRcdC8vIENyb3NzIGRvbWFpbiBvbmx5IGFsbG93ZWQgaWYgc3VwcG9ydGVkIHRocm91Z2ggWE1MSHR0cFJlcXVlc3Rcblx0XHRpZiAoIHN1cHBvcnQuY29ycyB8fCB4aHJTdXBwb3J0ZWQgJiYgIW9wdGlvbnMuY3Jvc3NEb21haW4gKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzZW5kOiBmdW5jdGlvbiggaGVhZGVycywgY29tcGxldGUgKSB7XG5cdFx0XHRcdFx0dmFyIGksXG5cdFx0XHRcdFx0XHR4aHIgPSBvcHRpb25zLnhocigpO1xuXHRcblx0XHRcdFx0XHR4aHIub3Blbihcblx0XHRcdFx0XHRcdG9wdGlvbnMudHlwZSxcblx0XHRcdFx0XHRcdG9wdGlvbnMudXJsLFxuXHRcdFx0XHRcdFx0b3B0aW9ucy5hc3luYyxcblx0XHRcdFx0XHRcdG9wdGlvbnMudXNlcm5hbWUsXG5cdFx0XHRcdFx0XHRvcHRpb25zLnBhc3N3b3JkXG5cdFx0XHRcdFx0KTtcblx0XG5cdFx0XHRcdFx0Ly8gQXBwbHkgY3VzdG9tIGZpZWxkcyBpZiBwcm92aWRlZFxuXHRcdFx0XHRcdGlmICggb3B0aW9ucy54aHJGaWVsZHMgKSB7XG5cdFx0XHRcdFx0XHRmb3IgKCBpIGluIG9wdGlvbnMueGhyRmllbGRzICkge1xuXHRcdFx0XHRcdFx0XHR4aHJbIGkgXSA9IG9wdGlvbnMueGhyRmllbGRzWyBpIF07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBPdmVycmlkZSBtaW1lIHR5cGUgaWYgbmVlZGVkXG5cdFx0XHRcdFx0aWYgKCBvcHRpb25zLm1pbWVUeXBlICYmIHhoci5vdmVycmlkZU1pbWVUeXBlICkge1xuXHRcdFx0XHRcdFx0eGhyLm92ZXJyaWRlTWltZVR5cGUoIG9wdGlvbnMubWltZVR5cGUgKTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIFgtUmVxdWVzdGVkLVdpdGggaGVhZGVyXG5cdFx0XHRcdFx0Ly8gRm9yIGNyb3NzLWRvbWFpbiByZXF1ZXN0cywgc2VlaW5nIGFzIGNvbmRpdGlvbnMgZm9yIGEgcHJlZmxpZ2h0IGFyZVxuXHRcdFx0XHRcdC8vIGFraW4gdG8gYSBqaWdzYXcgcHV6emxlLCB3ZSBzaW1wbHkgbmV2ZXIgc2V0IGl0IHRvIGJlIHN1cmUuXG5cdFx0XHRcdFx0Ly8gKGl0IGNhbiBhbHdheXMgYmUgc2V0IG9uIGEgcGVyLXJlcXVlc3QgYmFzaXMgb3IgZXZlbiB1c2luZyBhamF4U2V0dXApXG5cdFx0XHRcdFx0Ly8gRm9yIHNhbWUtZG9tYWluIHJlcXVlc3RzLCB3b24ndCBjaGFuZ2UgaGVhZGVyIGlmIGFscmVhZHkgcHJvdmlkZWQuXG5cdFx0XHRcdFx0aWYgKCAhb3B0aW9ucy5jcm9zc0RvbWFpbiAmJiAhaGVhZGVyc1sgXCJYLVJlcXVlc3RlZC1XaXRoXCIgXSApIHtcblx0XHRcdFx0XHRcdGhlYWRlcnNbIFwiWC1SZXF1ZXN0ZWQtV2l0aFwiIF0gPSBcIlhNTEh0dHBSZXF1ZXN0XCI7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBTZXQgaGVhZGVyc1xuXHRcdFx0XHRcdGZvciAoIGkgaW4gaGVhZGVycyApIHtcblx0XHRcdFx0XHRcdHhoci5zZXRSZXF1ZXN0SGVhZGVyKCBpLCBoZWFkZXJzWyBpIF0gKTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIENhbGxiYWNrXG5cdFx0XHRcdFx0Y2FsbGJhY2sgPSBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdFx0XHRjYWxsYmFjayA9IGVycm9yQ2FsbGJhY2sgPSB4aHIub25sb2FkID1cblx0XHRcdFx0XHRcdFx0XHRcdHhoci5vbmVycm9yID0geGhyLm9uYWJvcnQgPSB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcblx0XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCB0eXBlID09PSBcImFib3J0XCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR4aHIuYWJvcnQoKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCB0eXBlID09PSBcImVycm9yXCIgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHRcdFx0XHRcdFx0XHRcdC8vIE9uIGEgbWFudWFsIG5hdGl2ZSBhYm9ydCwgSUU5IHRocm93c1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gZXJyb3JzIG9uIGFueSBwcm9wZXJ0eSBhY2Nlc3MgdGhhdCBpcyBub3QgcmVhZHlTdGF0ZVxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCB0eXBlb2YgeGhyLnN0YXR1cyAhPT0gXCJudW1iZXJcIiApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29tcGxldGUoIDAsIFwiZXJyb3JcIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29tcGxldGUoXG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIEZpbGU6IHByb3RvY29sIGFsd2F5cyB5aWVsZHMgc3RhdHVzIDA7IHNlZSAjODYwNSwgIzE0MjA3XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0eGhyLnN0YXR1cyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzVGV4dFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb21wbGV0ZShcblx0XHRcdFx0XHRcdFx0XHRcdFx0eGhyU3VjY2Vzc1N0YXR1c1sgeGhyLnN0YXR1cyBdIHx8IHhoci5zdGF0dXMsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHhoci5zdGF0dXNUZXh0LFxuXHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gSUU5IGhhcyBubyBYSFIyIGJ1dCB0aHJvd3Mgb24gYmluYXJ5ICh0cmFjLTExNDI2KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBGb3IgWEhSMiBub24tdGV4dCwgbGV0IHRoZSBjYWxsZXIgaGFuZGxlIGl0IChnaC0yNDk4KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQoIHhoci5yZXNwb25zZVR5cGUgfHwgXCJ0ZXh0XCIgKSAhPT0gXCJ0ZXh0XCIgIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGVvZiB4aHIucmVzcG9uc2VUZXh0ICE9PSBcInN0cmluZ1wiID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7IGJpbmFyeTogeGhyLnJlc3BvbnNlIH0gOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHsgdGV4dDogeGhyLnJlc3BvbnNlVGV4dCB9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcblx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH07XG5cdFxuXHRcdFx0XHRcdC8vIExpc3RlbiB0byBldmVudHNcblx0XHRcdFx0XHR4aHIub25sb2FkID0gY2FsbGJhY2soKTtcblx0XHRcdFx0XHRlcnJvckNhbGxiYWNrID0geGhyLm9uZXJyb3IgPSBjYWxsYmFjayggXCJlcnJvclwiICk7XG5cdFxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDkgb25seVxuXHRcdFx0XHRcdC8vIFVzZSBvbnJlYWR5c3RhdGVjaGFuZ2UgdG8gcmVwbGFjZSBvbmFib3J0XG5cdFx0XHRcdFx0Ly8gdG8gaGFuZGxlIHVuY2F1Z2h0IGFib3J0c1xuXHRcdFx0XHRcdGlmICggeGhyLm9uYWJvcnQgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdHhoci5vbmFib3J0ID0gZXJyb3JDYWxsYmFjaztcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0eGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gQ2hlY2sgcmVhZHlTdGF0ZSBiZWZvcmUgdGltZW91dCBhcyBpdCBjaGFuZ2VzXG5cdFx0XHRcdFx0XHRcdGlmICggeGhyLnJlYWR5U3RhdGUgPT09IDQgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdC8vIEFsbG93IG9uZXJyb3IgdG8gYmUgY2FsbGVkIGZpcnN0LFxuXHRcdFx0XHRcdFx0XHRcdC8vIGJ1dCB0aGF0IHdpbGwgbm90IGhhbmRsZSBhIG5hdGl2ZSBhYm9ydFxuXHRcdFx0XHRcdFx0XHRcdC8vIEFsc28sIHNhdmUgZXJyb3JDYWxsYmFjayB0byBhIHZhcmlhYmxlXG5cdFx0XHRcdFx0XHRcdFx0Ly8gYXMgeGhyLm9uZXJyb3IgY2Fubm90IGJlIGFjY2Vzc2VkXG5cdFx0XHRcdFx0XHRcdFx0d2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZXJyb3JDYWxsYmFjaygpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIENyZWF0ZSB0aGUgYWJvcnQgY2FsbGJhY2tcblx0XHRcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrKCBcImFib3J0XCIgKTtcblx0XG5cdFx0XHRcdFx0dHJ5IHtcblx0XG5cdFx0XHRcdFx0XHQvLyBEbyBzZW5kIHRoZSByZXF1ZXN0ICh0aGlzIG1heSByYWlzZSBhbiBleGNlcHRpb24pXG5cdFx0XHRcdFx0XHR4aHIuc2VuZCggb3B0aW9ucy5oYXNDb250ZW50ICYmIG9wdGlvbnMuZGF0YSB8fCBudWxsICk7XG5cdFx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gIzE0NjgzOiBPbmx5IHJldGhyb3cgaWYgdGhpcyBoYXNuJ3QgYmVlbiBub3RpZmllZCBhcyBhbiBlcnJvciB5ZXRcblx0XHRcdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHRcdHRocm93IGU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0YWJvcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9XG5cdH0gKTtcblx0XG5cdFxuXHRcblx0XG5cdC8vIFByZXZlbnQgYXV0by1leGVjdXRpb24gb2Ygc2NyaXB0cyB3aGVuIG5vIGV4cGxpY2l0IGRhdGFUeXBlIHdhcyBwcm92aWRlZCAoU2VlIGdoLTI0MzIpXG5cdGpRdWVyeS5hamF4UHJlZmlsdGVyKCBmdW5jdGlvbiggcyApIHtcblx0XHRpZiAoIHMuY3Jvc3NEb21haW4gKSB7XG5cdFx0XHRzLmNvbnRlbnRzLnNjcmlwdCA9IGZhbHNlO1xuXHRcdH1cblx0fSApO1xuXHRcblx0Ly8gSW5zdGFsbCBzY3JpcHQgZGF0YVR5cGVcblx0alF1ZXJ5LmFqYXhTZXR1cCgge1xuXHRcdGFjY2VwdHM6IHtcblx0XHRcdHNjcmlwdDogXCJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIFwiICtcblx0XHRcdFx0XCJhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHRcIlxuXHRcdH0sXG5cdFx0Y29udGVudHM6IHtcblx0XHRcdHNjcmlwdDogL1xcYig/OmphdmF8ZWNtYSlzY3JpcHRcXGIvXG5cdFx0fSxcblx0XHRjb252ZXJ0ZXJzOiB7XG5cdFx0XHRcInRleHQgc2NyaXB0XCI6IGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRcdFx0XHRqUXVlcnkuZ2xvYmFsRXZhbCggdGV4dCApO1xuXHRcdFx0XHRyZXR1cm4gdGV4dDtcblx0XHRcdH1cblx0XHR9XG5cdH0gKTtcblx0XG5cdC8vIEhhbmRsZSBjYWNoZSdzIHNwZWNpYWwgY2FzZSBhbmQgY3Jvc3NEb21haW5cblx0alF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIFwic2NyaXB0XCIsIGZ1bmN0aW9uKCBzICkge1xuXHRcdGlmICggcy5jYWNoZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0cy5jYWNoZSA9IGZhbHNlO1xuXHRcdH1cblx0XHRpZiAoIHMuY3Jvc3NEb21haW4gKSB7XG5cdFx0XHRzLnR5cGUgPSBcIkdFVFwiO1xuXHRcdH1cblx0fSApO1xuXHRcblx0Ly8gQmluZCBzY3JpcHQgdGFnIGhhY2sgdHJhbnNwb3J0XG5cdGpRdWVyeS5hamF4VHJhbnNwb3J0KCBcInNjcmlwdFwiLCBmdW5jdGlvbiggcyApIHtcblx0XG5cdFx0Ly8gVGhpcyB0cmFuc3BvcnQgb25seSBkZWFscyB3aXRoIGNyb3NzIGRvbWFpbiByZXF1ZXN0c1xuXHRcdGlmICggcy5jcm9zc0RvbWFpbiApIHtcblx0XHRcdHZhciBzY3JpcHQsIGNhbGxiYWNrO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c2VuZDogZnVuY3Rpb24oIF8sIGNvbXBsZXRlICkge1xuXHRcdFx0XHRcdHNjcmlwdCA9IGpRdWVyeSggXCI8c2NyaXB0PlwiICkucHJvcCgge1xuXHRcdFx0XHRcdFx0Y2hhcnNldDogcy5zY3JpcHRDaGFyc2V0LFxuXHRcdFx0XHRcdFx0c3JjOiBzLnVybFxuXHRcdFx0XHRcdH0gKS5vbihcblx0XHRcdFx0XHRcdFwibG9hZCBlcnJvclwiLFxuXHRcdFx0XHRcdFx0Y2FsbGJhY2sgPSBmdW5jdGlvbiggZXZ0ICkge1xuXHRcdFx0XHRcdFx0XHRzY3JpcHQucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRcdGNhbGxiYWNrID0gbnVsbDtcblx0XHRcdFx0XHRcdFx0aWYgKCBldnQgKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29tcGxldGUoIGV2dC50eXBlID09PSBcImVycm9yXCIgPyA0MDQgOiAyMDAsIGV2dC50eXBlICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHQpO1xuXHRcblx0XHRcdFx0XHQvLyBVc2UgbmF0aXZlIERPTSBtYW5pcHVsYXRpb24gdG8gYXZvaWQgb3VyIGRvbU1hbmlwIEFKQVggdHJpY2tlcnlcblx0XHRcdFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKCBzY3JpcHRbIDAgXSApO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRhYm9ydDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH1cblx0fSApO1xuXHRcblx0XG5cdFxuXHRcblx0dmFyIG9sZENhbGxiYWNrcyA9IFtdLFxuXHRcdHJqc29ucCA9IC8oPSlcXD8oPz0mfCQpfFxcP1xcPy87XG5cdFxuXHQvLyBEZWZhdWx0IGpzb25wIHNldHRpbmdzXG5cdGpRdWVyeS5hamF4U2V0dXAoIHtcblx0XHRqc29ucDogXCJjYWxsYmFja1wiLFxuXHRcdGpzb25wQ2FsbGJhY2s6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGNhbGxiYWNrID0gb2xkQ2FsbGJhY2tzLnBvcCgpIHx8ICggalF1ZXJ5LmV4cGFuZG8gKyBcIl9cIiArICggbm9uY2UrKyApICk7XG5cdFx0XHR0aGlzWyBjYWxsYmFjayBdID0gdHJ1ZTtcblx0XHRcdHJldHVybiBjYWxsYmFjaztcblx0XHR9XG5cdH0gKTtcblx0XG5cdC8vIERldGVjdCwgbm9ybWFsaXplIG9wdGlvbnMgYW5kIGluc3RhbGwgY2FsbGJhY2tzIGZvciBqc29ucCByZXF1ZXN0c1xuXHRqUXVlcnkuYWpheFByZWZpbHRlciggXCJqc29uIGpzb25wXCIsIGZ1bmN0aW9uKCBzLCBvcmlnaW5hbFNldHRpbmdzLCBqcVhIUiApIHtcblx0XG5cdFx0dmFyIGNhbGxiYWNrTmFtZSwgb3ZlcndyaXR0ZW4sIHJlc3BvbnNlQ29udGFpbmVyLFxuXHRcdFx0anNvblByb3AgPSBzLmpzb25wICE9PSBmYWxzZSAmJiAoIHJqc29ucC50ZXN0KCBzLnVybCApID9cblx0XHRcdFx0XCJ1cmxcIiA6XG5cdFx0XHRcdHR5cGVvZiBzLmRhdGEgPT09IFwic3RyaW5nXCIgJiZcblx0XHRcdFx0XHQoIHMuY29udGVudFR5cGUgfHwgXCJcIiApXG5cdFx0XHRcdFx0XHQuaW5kZXhPZiggXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiApID09PSAwICYmXG5cdFx0XHRcdFx0cmpzb25wLnRlc3QoIHMuZGF0YSApICYmIFwiZGF0YVwiXG5cdFx0XHQpO1xuXHRcblx0XHQvLyBIYW5kbGUgaWZmIHRoZSBleHBlY3RlZCBkYXRhIHR5cGUgaXMgXCJqc29ucFwiIG9yIHdlIGhhdmUgYSBwYXJhbWV0ZXIgdG8gc2V0XG5cdFx0aWYgKCBqc29uUHJvcCB8fCBzLmRhdGFUeXBlc1sgMCBdID09PSBcImpzb25wXCIgKSB7XG5cdFxuXHRcdFx0Ly8gR2V0IGNhbGxiYWNrIG5hbWUsIHJlbWVtYmVyaW5nIHByZWV4aXN0aW5nIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCBpdFxuXHRcdFx0Y2FsbGJhY2tOYW1lID0gcy5qc29ucENhbGxiYWNrID0galF1ZXJ5LmlzRnVuY3Rpb24oIHMuanNvbnBDYWxsYmFjayApID9cblx0XHRcdFx0cy5qc29ucENhbGxiYWNrKCkgOlxuXHRcdFx0XHRzLmpzb25wQ2FsbGJhY2s7XG5cdFxuXHRcdFx0Ly8gSW5zZXJ0IGNhbGxiYWNrIGludG8gdXJsIG9yIGZvcm0gZGF0YVxuXHRcdFx0aWYgKCBqc29uUHJvcCApIHtcblx0XHRcdFx0c1sganNvblByb3AgXSA9IHNbIGpzb25Qcm9wIF0ucmVwbGFjZSggcmpzb25wLCBcIiQxXCIgKyBjYWxsYmFja05hbWUgKTtcblx0XHRcdH0gZWxzZSBpZiAoIHMuanNvbnAgIT09IGZhbHNlICkge1xuXHRcdFx0XHRzLnVybCArPSAoIHJxdWVyeS50ZXN0KCBzLnVybCApID8gXCImXCIgOiBcIj9cIiApICsgcy5qc29ucCArIFwiPVwiICsgY2FsbGJhY2tOYW1lO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFVzZSBkYXRhIGNvbnZlcnRlciB0byByZXRyaWV2ZSBqc29uIGFmdGVyIHNjcmlwdCBleGVjdXRpb25cblx0XHRcdHMuY29udmVydGVyc1sgXCJzY3JpcHQganNvblwiIF0gPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCAhcmVzcG9uc2VDb250YWluZXIgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmVycm9yKCBjYWxsYmFja05hbWUgKyBcIiB3YXMgbm90IGNhbGxlZFwiICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHJlc3BvbnNlQ29udGFpbmVyWyAwIF07XG5cdFx0XHR9O1xuXHRcblx0XHRcdC8vIEZvcmNlIGpzb24gZGF0YVR5cGVcblx0XHRcdHMuZGF0YVR5cGVzWyAwIF0gPSBcImpzb25cIjtcblx0XG5cdFx0XHQvLyBJbnN0YWxsIGNhbGxiYWNrXG5cdFx0XHRvdmVyd3JpdHRlbiA9IHdpbmRvd1sgY2FsbGJhY2tOYW1lIF07XG5cdFx0XHR3aW5kb3dbIGNhbGxiYWNrTmFtZSBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJlc3BvbnNlQ29udGFpbmVyID0gYXJndW1lbnRzO1xuXHRcdFx0fTtcblx0XG5cdFx0XHQvLyBDbGVhbi11cCBmdW5jdGlvbiAoZmlyZXMgYWZ0ZXIgY29udmVydGVycylcblx0XHRcdGpxWEhSLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHQvLyBJZiBwcmV2aW91cyB2YWx1ZSBkaWRuJ3QgZXhpc3QgLSByZW1vdmUgaXRcblx0XHRcdFx0aWYgKCBvdmVyd3JpdHRlbiA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdGpRdWVyeSggd2luZG93ICkucmVtb3ZlUHJvcCggY2FsbGJhY2tOYW1lICk7XG5cdFxuXHRcdFx0XHQvLyBPdGhlcndpc2UgcmVzdG9yZSBwcmVleGlzdGluZyB2YWx1ZVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHdpbmRvd1sgY2FsbGJhY2tOYW1lIF0gPSBvdmVyd3JpdHRlbjtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gU2F2ZSBiYWNrIGFzIGZyZWVcblx0XHRcdFx0aWYgKCBzWyBjYWxsYmFja05hbWUgXSApIHtcblx0XG5cdFx0XHRcdFx0Ly8gTWFrZSBzdXJlIHRoYXQgcmUtdXNpbmcgdGhlIG9wdGlvbnMgZG9lc24ndCBzY3JldyB0aGluZ3MgYXJvdW5kXG5cdFx0XHRcdFx0cy5qc29ucENhbGxiYWNrID0gb3JpZ2luYWxTZXR0aW5ncy5qc29ucENhbGxiYWNrO1xuXHRcblx0XHRcdFx0XHQvLyBTYXZlIHRoZSBjYWxsYmFjayBuYW1lIGZvciBmdXR1cmUgdXNlXG5cdFx0XHRcdFx0b2xkQ2FsbGJhY2tzLnB1c2goIGNhbGxiYWNrTmFtZSApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBDYWxsIGlmIGl0IHdhcyBhIGZ1bmN0aW9uIGFuZCB3ZSBoYXZlIGEgcmVzcG9uc2Vcblx0XHRcdFx0aWYgKCByZXNwb25zZUNvbnRhaW5lciAmJiBqUXVlcnkuaXNGdW5jdGlvbiggb3ZlcndyaXR0ZW4gKSApIHtcblx0XHRcdFx0XHRvdmVyd3JpdHRlbiggcmVzcG9uc2VDb250YWluZXJbIDAgXSApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRyZXNwb25zZUNvbnRhaW5lciA9IG92ZXJ3cml0dGVuID0gdW5kZWZpbmVkO1xuXHRcdFx0fSApO1xuXHRcblx0XHRcdC8vIERlbGVnYXRlIHRvIHNjcmlwdFxuXHRcdFx0cmV0dXJuIFwic2NyaXB0XCI7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRcblx0XG5cdFxuXHQvLyBTdXBwb3J0OiBTYWZhcmkgOCBvbmx5XG5cdC8vIEluIFNhZmFyaSA4IGRvY3VtZW50cyBjcmVhdGVkIHZpYSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnRcblx0Ly8gY29sbGFwc2Ugc2libGluZyBmb3JtczogdGhlIHNlY29uZCBvbmUgYmVjb21lcyBhIGNoaWxkIG9mIHRoZSBmaXJzdCBvbmUuXG5cdC8vIEJlY2F1c2Ugb2YgdGhhdCwgdGhpcyBzZWN1cml0eSBtZWFzdXJlIGhhcyB0byBiZSBkaXNhYmxlZCBpbiBTYWZhcmkgOC5cblx0Ly8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzNzMzN1xuXHRzdXBwb3J0LmNyZWF0ZUhUTUxEb2N1bWVudCA9ICggZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGJvZHkgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIFwiXCIgKS5ib2R5O1xuXHRcdGJvZHkuaW5uZXJIVE1MID0gXCI8Zm9ybT48L2Zvcm0+PGZvcm0+PC9mb3JtPlwiO1xuXHRcdHJldHVybiBib2R5LmNoaWxkTm9kZXMubGVuZ3RoID09PSAyO1xuXHR9ICkoKTtcblx0XG5cdFxuXHQvLyBBcmd1bWVudCBcImRhdGFcIiBzaG91bGQgYmUgc3RyaW5nIG9mIGh0bWxcblx0Ly8gY29udGV4dCAob3B0aW9uYWwpOiBJZiBzcGVjaWZpZWQsIHRoZSBmcmFnbWVudCB3aWxsIGJlIGNyZWF0ZWQgaW4gdGhpcyBjb250ZXh0LFxuXHQvLyBkZWZhdWx0cyB0byBkb2N1bWVudFxuXHQvLyBrZWVwU2NyaXB0cyAob3B0aW9uYWwpOiBJZiB0cnVlLCB3aWxsIGluY2x1ZGUgc2NyaXB0cyBwYXNzZWQgaW4gdGhlIGh0bWwgc3RyaW5nXG5cdGpRdWVyeS5wYXJzZUhUTUwgPSBmdW5jdGlvbiggZGF0YSwgY29udGV4dCwga2VlcFNjcmlwdHMgKSB7XG5cdFx0aWYgKCB0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiBbXTtcblx0XHR9XG5cdFx0aWYgKCB0eXBlb2YgY29udGV4dCA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0XHRrZWVwU2NyaXB0cyA9IGNvbnRleHQ7XG5cdFx0XHRjb250ZXh0ID0gZmFsc2U7XG5cdFx0fVxuXHRcblx0XHR2YXIgYmFzZSwgcGFyc2VkLCBzY3JpcHRzO1xuXHRcblx0XHRpZiAoICFjb250ZXh0ICkge1xuXHRcblx0XHRcdC8vIFN0b3Agc2NyaXB0cyBvciBpbmxpbmUgZXZlbnQgaGFuZGxlcnMgZnJvbSBiZWluZyBleGVjdXRlZCBpbW1lZGlhdGVseVxuXHRcdFx0Ly8gYnkgdXNpbmcgZG9jdW1lbnQuaW1wbGVtZW50YXRpb25cblx0XHRcdGlmICggc3VwcG9ydC5jcmVhdGVIVE1MRG9jdW1lbnQgKSB7XG5cdFx0XHRcdGNvbnRleHQgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIFwiXCIgKTtcblx0XG5cdFx0XHRcdC8vIFNldCB0aGUgYmFzZSBocmVmIGZvciB0aGUgY3JlYXRlZCBkb2N1bWVudFxuXHRcdFx0XHQvLyBzbyBhbnkgcGFyc2VkIGVsZW1lbnRzIHdpdGggVVJMc1xuXHRcdFx0XHQvLyBhcmUgYmFzZWQgb24gdGhlIGRvY3VtZW50J3MgVVJMIChnaC0yOTY1KVxuXHRcdFx0XHRiYXNlID0gY29udGV4dC5jcmVhdGVFbGVtZW50KCBcImJhc2VcIiApO1xuXHRcdFx0XHRiYXNlLmhyZWYgPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmO1xuXHRcdFx0XHRjb250ZXh0LmhlYWQuYXBwZW5kQ2hpbGQoIGJhc2UgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnRleHQgPSBkb2N1bWVudDtcblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdHBhcnNlZCA9IHJzaW5nbGVUYWcuZXhlYyggZGF0YSApO1xuXHRcdHNjcmlwdHMgPSAha2VlcFNjcmlwdHMgJiYgW107XG5cdFxuXHRcdC8vIFNpbmdsZSB0YWdcblx0XHRpZiAoIHBhcnNlZCApIHtcblx0XHRcdHJldHVybiBbIGNvbnRleHQuY3JlYXRlRWxlbWVudCggcGFyc2VkWyAxIF0gKSBdO1xuXHRcdH1cblx0XG5cdFx0cGFyc2VkID0gYnVpbGRGcmFnbWVudCggWyBkYXRhIF0sIGNvbnRleHQsIHNjcmlwdHMgKTtcblx0XG5cdFx0aWYgKCBzY3JpcHRzICYmIHNjcmlwdHMubGVuZ3RoICkge1xuXHRcdFx0alF1ZXJ5KCBzY3JpcHRzICkucmVtb3ZlKCk7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4galF1ZXJ5Lm1lcmdlKCBbXSwgcGFyc2VkLmNoaWxkTm9kZXMgKTtcblx0fTtcblx0XG5cdFxuXHQvKipcblx0ICogTG9hZCBhIHVybCBpbnRvIGEgcGFnZVxuXHQgKi9cblx0alF1ZXJ5LmZuLmxvYWQgPSBmdW5jdGlvbiggdXJsLCBwYXJhbXMsIGNhbGxiYWNrICkge1xuXHRcdHZhciBzZWxlY3RvciwgdHlwZSwgcmVzcG9uc2UsXG5cdFx0XHRzZWxmID0gdGhpcyxcblx0XHRcdG9mZiA9IHVybC5pbmRleE9mKCBcIiBcIiApO1xuXHRcblx0XHRpZiAoIG9mZiA+IC0xICkge1xuXHRcdFx0c2VsZWN0b3IgPSBqUXVlcnkudHJpbSggdXJsLnNsaWNlKCBvZmYgKSApO1xuXHRcdFx0dXJsID0gdXJsLnNsaWNlKCAwLCBvZmYgKTtcblx0XHR9XG5cdFxuXHRcdC8vIElmIGl0J3MgYSBmdW5jdGlvblxuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHBhcmFtcyApICkge1xuXHRcblx0XHRcdC8vIFdlIGFzc3VtZSB0aGF0IGl0J3MgdGhlIGNhbGxiYWNrXG5cdFx0XHRjYWxsYmFjayA9IHBhcmFtcztcblx0XHRcdHBhcmFtcyA9IHVuZGVmaW5lZDtcblx0XG5cdFx0Ly8gT3RoZXJ3aXNlLCBidWlsZCBhIHBhcmFtIHN0cmluZ1xuXHRcdH0gZWxzZSBpZiAoIHBhcmFtcyAmJiB0eXBlb2YgcGFyYW1zID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0dHlwZSA9IFwiUE9TVFwiO1xuXHRcdH1cblx0XG5cdFx0Ly8gSWYgd2UgaGF2ZSBlbGVtZW50cyB0byBtb2RpZnksIG1ha2UgdGhlIHJlcXVlc3Rcblx0XHRpZiAoIHNlbGYubGVuZ3RoID4gMCApIHtcblx0XHRcdGpRdWVyeS5hamF4KCB7XG5cdFx0XHRcdHVybDogdXJsLFxuXHRcblx0XHRcdFx0Ly8gSWYgXCJ0eXBlXCIgdmFyaWFibGUgaXMgdW5kZWZpbmVkLCB0aGVuIFwiR0VUXCIgbWV0aG9kIHdpbGwgYmUgdXNlZC5cblx0XHRcdFx0Ly8gTWFrZSB2YWx1ZSBvZiB0aGlzIGZpZWxkIGV4cGxpY2l0IHNpbmNlXG5cdFx0XHRcdC8vIHVzZXIgY2FuIG92ZXJyaWRlIGl0IHRocm91Z2ggYWpheFNldHVwIG1ldGhvZFxuXHRcdFx0XHR0eXBlOiB0eXBlIHx8IFwiR0VUXCIsXG5cdFx0XHRcdGRhdGFUeXBlOiBcImh0bWxcIixcblx0XHRcdFx0ZGF0YTogcGFyYW1zXG5cdFx0XHR9ICkuZG9uZSggZnVuY3Rpb24oIHJlc3BvbnNlVGV4dCApIHtcblx0XG5cdFx0XHRcdC8vIFNhdmUgcmVzcG9uc2UgZm9yIHVzZSBpbiBjb21wbGV0ZSBjYWxsYmFja1xuXHRcdFx0XHRyZXNwb25zZSA9IGFyZ3VtZW50cztcblx0XG5cdFx0XHRcdHNlbGYuaHRtbCggc2VsZWN0b3IgP1xuXHRcblx0XHRcdFx0XHQvLyBJZiBhIHNlbGVjdG9yIHdhcyBzcGVjaWZpZWQsIGxvY2F0ZSB0aGUgcmlnaHQgZWxlbWVudHMgaW4gYSBkdW1teSBkaXZcblx0XHRcdFx0XHQvLyBFeGNsdWRlIHNjcmlwdHMgdG8gYXZvaWQgSUUgJ1Blcm1pc3Npb24gRGVuaWVkJyBlcnJvcnNcblx0XHRcdFx0XHRqUXVlcnkoIFwiPGRpdj5cIiApLmFwcGVuZCggalF1ZXJ5LnBhcnNlSFRNTCggcmVzcG9uc2VUZXh0ICkgKS5maW5kKCBzZWxlY3RvciApIDpcblx0XG5cdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlIHVzZSB0aGUgZnVsbCByZXN1bHRcblx0XHRcdFx0XHRyZXNwb25zZVRleHQgKTtcblx0XG5cdFx0XHQvLyBJZiB0aGUgcmVxdWVzdCBzdWNjZWVkcywgdGhpcyBmdW5jdGlvbiBnZXRzIFwiZGF0YVwiLCBcInN0YXR1c1wiLCBcImpxWEhSXCJcblx0XHRcdC8vIGJ1dCB0aGV5IGFyZSBpZ25vcmVkIGJlY2F1c2UgcmVzcG9uc2Ugd2FzIHNldCBhYm92ZS5cblx0XHRcdC8vIElmIGl0IGZhaWxzLCB0aGlzIGZ1bmN0aW9uIGdldHMgXCJqcVhIUlwiLCBcInN0YXR1c1wiLCBcImVycm9yXCJcblx0XHRcdH0gKS5hbHdheXMoIGNhbGxiYWNrICYmIGZ1bmN0aW9uKCBqcVhIUiwgc3RhdHVzICkge1xuXHRcdFx0XHRzZWxmLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGNhbGxiYWNrLmFwcGx5KCB0aGlzLCByZXNwb25zZSB8fCBbIGpxWEhSLnJlc3BvbnNlVGV4dCwgc3RhdHVzLCBqcVhIUiBdICk7XG5cdFx0XHRcdH0gKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cdFxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXHRcblx0XG5cdFxuXHRcblx0Ly8gQXR0YWNoIGEgYnVuY2ggb2YgZnVuY3Rpb25zIGZvciBoYW5kbGluZyBjb21tb24gQUpBWCBldmVudHNcblx0alF1ZXJ5LmVhY2goIFtcblx0XHRcImFqYXhTdGFydFwiLFxuXHRcdFwiYWpheFN0b3BcIixcblx0XHRcImFqYXhDb21wbGV0ZVwiLFxuXHRcdFwiYWpheEVycm9yXCIsXG5cdFx0XCJhamF4U3VjY2Vzc1wiLFxuXHRcdFwiYWpheFNlbmRcIlxuXHRdLCBmdW5jdGlvbiggaSwgdHlwZSApIHtcblx0XHRqUXVlcnkuZm5bIHR5cGUgXSA9IGZ1bmN0aW9uKCBmbiApIHtcblx0XHRcdHJldHVybiB0aGlzLm9uKCB0eXBlLCBmbiApO1xuXHRcdH07XG5cdH0gKTtcblx0XG5cdFxuXHRcblx0XG5cdGpRdWVyeS5leHByLnBzZXVkb3MuYW5pbWF0ZWQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGpRdWVyeS50aW1lcnMsIGZ1bmN0aW9uKCBmbiApIHtcblx0XHRcdHJldHVybiBlbGVtID09PSBmbi5lbGVtO1xuXHRcdH0gKS5sZW5ndGg7XG5cdH07XG5cdFxuXHRcblx0XG5cdFxuXHQvKipcblx0ICogR2V0cyBhIHdpbmRvdyBmcm9tIGFuIGVsZW1lbnRcblx0ICovXG5cdGZ1bmN0aW9uIGdldFdpbmRvdyggZWxlbSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmlzV2luZG93KCBlbGVtICkgPyBlbGVtIDogZWxlbS5ub2RlVHlwZSA9PT0gOSAmJiBlbGVtLmRlZmF1bHRWaWV3O1xuXHR9XG5cdFxuXHRqUXVlcnkub2Zmc2V0ID0ge1xuXHRcdHNldE9mZnNldDogZnVuY3Rpb24oIGVsZW0sIG9wdGlvbnMsIGkgKSB7XG5cdFx0XHR2YXIgY3VyUG9zaXRpb24sIGN1ckxlZnQsIGN1ckNTU1RvcCwgY3VyVG9wLCBjdXJPZmZzZXQsIGN1ckNTU0xlZnQsIGNhbGN1bGF0ZVBvc2l0aW9uLFxuXHRcdFx0XHRwb3NpdGlvbiA9IGpRdWVyeS5jc3MoIGVsZW0sIFwicG9zaXRpb25cIiApLFxuXHRcdFx0XHRjdXJFbGVtID0galF1ZXJ5KCBlbGVtICksXG5cdFx0XHRcdHByb3BzID0ge307XG5cdFxuXHRcdFx0Ly8gU2V0IHBvc2l0aW9uIGZpcnN0LCBpbi1jYXNlIHRvcC9sZWZ0IGFyZSBzZXQgZXZlbiBvbiBzdGF0aWMgZWxlbVxuXHRcdFx0aWYgKCBwb3NpdGlvbiA9PT0gXCJzdGF0aWNcIiApIHtcblx0XHRcdFx0ZWxlbS5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcblx0XHRcdH1cblx0XG5cdFx0XHRjdXJPZmZzZXQgPSBjdXJFbGVtLm9mZnNldCgpO1xuXHRcdFx0Y3VyQ1NTVG9wID0galF1ZXJ5LmNzcyggZWxlbSwgXCJ0b3BcIiApO1xuXHRcdFx0Y3VyQ1NTTGVmdCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwibGVmdFwiICk7XG5cdFx0XHRjYWxjdWxhdGVQb3NpdGlvbiA9ICggcG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIiB8fCBwb3NpdGlvbiA9PT0gXCJmaXhlZFwiICkgJiZcblx0XHRcdFx0KCBjdXJDU1NUb3AgKyBjdXJDU1NMZWZ0ICkuaW5kZXhPZiggXCJhdXRvXCIgKSA+IC0xO1xuXHRcblx0XHRcdC8vIE5lZWQgdG8gYmUgYWJsZSB0byBjYWxjdWxhdGUgcG9zaXRpb24gaWYgZWl0aGVyXG5cdFx0XHQvLyB0b3Agb3IgbGVmdCBpcyBhdXRvIGFuZCBwb3NpdGlvbiBpcyBlaXRoZXIgYWJzb2x1dGUgb3IgZml4ZWRcblx0XHRcdGlmICggY2FsY3VsYXRlUG9zaXRpb24gKSB7XG5cdFx0XHRcdGN1clBvc2l0aW9uID0gY3VyRWxlbS5wb3NpdGlvbigpO1xuXHRcdFx0XHRjdXJUb3AgPSBjdXJQb3NpdGlvbi50b3A7XG5cdFx0XHRcdGN1ckxlZnQgPSBjdXJQb3NpdGlvbi5sZWZ0O1xuXHRcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGN1clRvcCA9IHBhcnNlRmxvYXQoIGN1ckNTU1RvcCApIHx8IDA7XG5cdFx0XHRcdGN1ckxlZnQgPSBwYXJzZUZsb2F0KCBjdXJDU1NMZWZ0ICkgfHwgMDtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBvcHRpb25zICkgKSB7XG5cdFxuXHRcdFx0XHQvLyBVc2UgalF1ZXJ5LmV4dGVuZCBoZXJlIHRvIGFsbG93IG1vZGlmaWNhdGlvbiBvZiBjb29yZGluYXRlcyBhcmd1bWVudCAoZ2gtMTg0OClcblx0XHRcdFx0b3B0aW9ucyA9IG9wdGlvbnMuY2FsbCggZWxlbSwgaSwgalF1ZXJ5LmV4dGVuZCgge30sIGN1ck9mZnNldCApICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCBvcHRpb25zLnRvcCAhPSBudWxsICkge1xuXHRcdFx0XHRwcm9wcy50b3AgPSAoIG9wdGlvbnMudG9wIC0gY3VyT2Zmc2V0LnRvcCApICsgY3VyVG9wO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBvcHRpb25zLmxlZnQgIT0gbnVsbCApIHtcblx0XHRcdFx0cHJvcHMubGVmdCA9ICggb3B0aW9ucy5sZWZ0IC0gY3VyT2Zmc2V0LmxlZnQgKSArIGN1ckxlZnQ7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCBcInVzaW5nXCIgaW4gb3B0aW9ucyApIHtcblx0XHRcdFx0b3B0aW9ucy51c2luZy5jYWxsKCBlbGVtLCBwcm9wcyApO1xuXHRcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGN1ckVsZW0uY3NzKCBwcm9wcyApO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0XG5cdGpRdWVyeS5mbi5leHRlbmQoIHtcblx0XHRvZmZzZXQ6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXHRcblx0XHRcdC8vIFByZXNlcnZlIGNoYWluaW5nIGZvciBzZXR0ZXJcblx0XHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdFx0cmV0dXJuIG9wdGlvbnMgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdFx0dGhpcyA6XG5cdFx0XHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5vZmZzZXQuc2V0T2Zmc2V0KCB0aGlzLCBvcHRpb25zLCBpICk7XG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdHZhciBkb2NFbGVtLCB3aW4sIHJlY3QsIGRvYyxcblx0XHRcdFx0ZWxlbSA9IHRoaXNbIDAgXTtcblx0XG5cdFx0XHRpZiAoICFlbGVtICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdFx0XHQvLyBSdW5uaW5nIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBvbiBhXG5cdFx0XHQvLyBkaXNjb25uZWN0ZWQgbm9kZSBpbiBJRSB0aHJvd3MgYW4gZXJyb3Jcblx0XHRcdGlmICggIWVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJldHVybiB7IHRvcDogMCwgbGVmdDogMCB9O1xuXHRcdFx0fVxuXHRcblx0XHRcdHJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcblx0XHRcdC8vIE1ha2Ugc3VyZSBlbGVtZW50IGlzIG5vdCBoaWRkZW4gKGRpc3BsYXk6IG5vbmUpXG5cdFx0XHRpZiAoIHJlY3Qud2lkdGggfHwgcmVjdC5oZWlnaHQgKSB7XG5cdFx0XHRcdGRvYyA9IGVsZW0ub3duZXJEb2N1bWVudDtcblx0XHRcdFx0d2luID0gZ2V0V2luZG93KCBkb2MgKTtcblx0XHRcdFx0ZG9jRWxlbSA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG5cdFxuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHRvcDogcmVjdC50b3AgKyB3aW4ucGFnZVlPZmZzZXQgLSBkb2NFbGVtLmNsaWVudFRvcCxcblx0XHRcdFx0XHRsZWZ0OiByZWN0LmxlZnQgKyB3aW4ucGFnZVhPZmZzZXQgLSBkb2NFbGVtLmNsaWVudExlZnRcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBSZXR1cm4gemVyb3MgZm9yIGRpc2Nvbm5lY3RlZCBhbmQgaGlkZGVuIGVsZW1lbnRzIChnaC0yMzEwKVxuXHRcdFx0cmV0dXJuIHJlY3Q7XG5cdFx0fSxcblx0XG5cdFx0cG9zaXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCAhdGhpc1sgMCBdICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0dmFyIG9mZnNldFBhcmVudCwgb2Zmc2V0LFxuXHRcdFx0XHRlbGVtID0gdGhpc1sgMCBdLFxuXHRcdFx0XHRwYXJlbnRPZmZzZXQgPSB7IHRvcDogMCwgbGVmdDogMCB9O1xuXHRcblx0XHRcdC8vIEZpeGVkIGVsZW1lbnRzIGFyZSBvZmZzZXQgZnJvbSB3aW5kb3cgKHBhcmVudE9mZnNldCA9IHt0b3A6MCwgbGVmdDogMH0sXG5cdFx0XHQvLyBiZWNhdXNlIGl0IGlzIGl0cyBvbmx5IG9mZnNldCBwYXJlbnRcblx0XHRcdGlmICggalF1ZXJ5LmNzcyggZWxlbSwgXCJwb3NpdGlvblwiICkgPT09IFwiZml4ZWRcIiApIHtcblx0XG5cdFx0XHRcdC8vIEFzc3VtZSBnZXRCb3VuZGluZ0NsaWVudFJlY3QgaXMgdGhlcmUgd2hlbiBjb21wdXRlZCBwb3NpdGlvbiBpcyBmaXhlZFxuXHRcdFx0XHRvZmZzZXQgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcblx0XHRcdH0gZWxzZSB7XG5cdFxuXHRcdFx0XHQvLyBHZXQgKnJlYWwqIG9mZnNldFBhcmVudFxuXHRcdFx0XHRvZmZzZXRQYXJlbnQgPSB0aGlzLm9mZnNldFBhcmVudCgpO1xuXHRcblx0XHRcdFx0Ly8gR2V0IGNvcnJlY3Qgb2Zmc2V0c1xuXHRcdFx0XHRvZmZzZXQgPSB0aGlzLm9mZnNldCgpO1xuXHRcdFx0XHRpZiAoICFqUXVlcnkubm9kZU5hbWUoIG9mZnNldFBhcmVudFsgMCBdLCBcImh0bWxcIiApICkge1xuXHRcdFx0XHRcdHBhcmVudE9mZnNldCA9IG9mZnNldFBhcmVudC5vZmZzZXQoKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gQWRkIG9mZnNldFBhcmVudCBib3JkZXJzXG5cdFx0XHRcdHBhcmVudE9mZnNldCA9IHtcblx0XHRcdFx0XHR0b3A6IHBhcmVudE9mZnNldC50b3AgKyBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnRbIDAgXSwgXCJib3JkZXJUb3BXaWR0aFwiLCB0cnVlICksXG5cdFx0XHRcdFx0bGVmdDogcGFyZW50T2Zmc2V0LmxlZnQgKyBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnRbIDAgXSwgXCJib3JkZXJMZWZ0V2lkdGhcIiwgdHJ1ZSApXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gU3VidHJhY3QgcGFyZW50IG9mZnNldHMgYW5kIGVsZW1lbnQgbWFyZ2luc1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0dG9wOiBvZmZzZXQudG9wIC0gcGFyZW50T2Zmc2V0LnRvcCAtIGpRdWVyeS5jc3MoIGVsZW0sIFwibWFyZ2luVG9wXCIsIHRydWUgKSxcblx0XHRcdFx0bGVmdDogb2Zmc2V0LmxlZnQgLSBwYXJlbnRPZmZzZXQubGVmdCAtIGpRdWVyeS5jc3MoIGVsZW0sIFwibWFyZ2luTGVmdFwiLCB0cnVlIClcblx0XHRcdH07XG5cdFx0fSxcblx0XG5cdFx0Ly8gVGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gZG9jdW1lbnRFbGVtZW50IGluIHRoZSBmb2xsb3dpbmcgY2FzZXM6XG5cdFx0Ly8gMSkgRm9yIHRoZSBlbGVtZW50IGluc2lkZSB0aGUgaWZyYW1lIHdpdGhvdXQgb2Zmc2V0UGFyZW50LCB0aGlzIG1ldGhvZCB3aWxsIHJldHVyblxuXHRcdC8vICAgIGRvY3VtZW50RWxlbWVudCBvZiB0aGUgcGFyZW50IHdpbmRvd1xuXHRcdC8vIDIpIEZvciB0aGUgaGlkZGVuIG9yIGRldGFjaGVkIGVsZW1lbnRcblx0XHQvLyAzKSBGb3IgYm9keSBvciBodG1sIGVsZW1lbnQsIGkuZS4gaW4gY2FzZSBvZiB0aGUgaHRtbCBub2RlIC0gaXQgd2lsbCByZXR1cm4gaXRzZWxmXG5cdFx0Ly9cblx0XHQvLyBidXQgdGhvc2UgZXhjZXB0aW9ucyB3ZXJlIG5ldmVyIHByZXNlbnRlZCBhcyBhIHJlYWwgbGlmZSB1c2UtY2FzZXNcblx0XHQvLyBhbmQgbWlnaHQgYmUgY29uc2lkZXJlZCBhcyBtb3JlIHByZWZlcmFibGUgcmVzdWx0cy5cblx0XHQvL1xuXHRcdC8vIFRoaXMgbG9naWMsIGhvd2V2ZXIsIGlzIG5vdCBndWFyYW50ZWVkIGFuZCBjYW4gY2hhbmdlIGF0IGFueSBwb2ludCBpbiB0aGUgZnV0dXJlXG5cdFx0b2Zmc2V0UGFyZW50OiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB0aGlzLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBvZmZzZXRQYXJlbnQgPSB0aGlzLm9mZnNldFBhcmVudDtcblx0XG5cdFx0XHRcdHdoaWxlICggb2Zmc2V0UGFyZW50ICYmIGpRdWVyeS5jc3MoIG9mZnNldFBhcmVudCwgXCJwb3NpdGlvblwiICkgPT09IFwic3RhdGljXCIgKSB7XG5cdFx0XHRcdFx0b2Zmc2V0UGFyZW50ID0gb2Zmc2V0UGFyZW50Lm9mZnNldFBhcmVudDtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0cmV0dXJuIG9mZnNldFBhcmVudCB8fCBkb2N1bWVudEVsZW1lbnQ7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHQvLyBDcmVhdGUgc2Nyb2xsTGVmdCBhbmQgc2Nyb2xsVG9wIG1ldGhvZHNcblx0alF1ZXJ5LmVhY2goIHsgc2Nyb2xsTGVmdDogXCJwYWdlWE9mZnNldFwiLCBzY3JvbGxUb3A6IFwicGFnZVlPZmZzZXRcIiB9LCBmdW5jdGlvbiggbWV0aG9kLCBwcm9wICkge1xuXHRcdHZhciB0b3AgPSBcInBhZ2VZT2Zmc2V0XCIgPT09IHByb3A7XG5cdFxuXHRcdGpRdWVyeS5mblsgbWV0aG9kIF0gPSBmdW5jdGlvbiggdmFsICkge1xuXHRcdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG1ldGhvZCwgdmFsICkge1xuXHRcdFx0XHR2YXIgd2luID0gZ2V0V2luZG93KCBlbGVtICk7XG5cdFxuXHRcdFx0XHRpZiAoIHZhbCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHJldHVybiB3aW4gPyB3aW5bIHByb3AgXSA6IGVsZW1bIG1ldGhvZCBdO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRpZiAoIHdpbiApIHtcblx0XHRcdFx0XHR3aW4uc2Nyb2xsVG8oXG5cdFx0XHRcdFx0XHQhdG9wID8gdmFsIDogd2luLnBhZ2VYT2Zmc2V0LFxuXHRcdFx0XHRcdFx0dG9wID8gdmFsIDogd2luLnBhZ2VZT2Zmc2V0XG5cdFx0XHRcdFx0KTtcblx0XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZWxlbVsgbWV0aG9kIF0gPSB2YWw7XG5cdFx0XHRcdH1cblx0XHRcdH0sIG1ldGhvZCwgdmFsLCBhcmd1bWVudHMubGVuZ3RoICk7XG5cdFx0fTtcblx0fSApO1xuXHRcblx0Ly8gU3VwcG9ydDogU2FmYXJpIDw9NyAtIDkuMSwgQ2hyb21lIDw9MzcgLSA0OVxuXHQvLyBBZGQgdGhlIHRvcC9sZWZ0IGNzc0hvb2tzIHVzaW5nIGpRdWVyeS5mbi5wb3NpdGlvblxuXHQvLyBXZWJraXQgYnVnOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MjkwODRcblx0Ly8gQmxpbmsgYnVnOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD01ODkzNDdcblx0Ly8gZ2V0Q29tcHV0ZWRTdHlsZSByZXR1cm5zIHBlcmNlbnQgd2hlbiBzcGVjaWZpZWQgZm9yIHRvcC9sZWZ0L2JvdHRvbS9yaWdodDtcblx0Ly8gcmF0aGVyIHRoYW4gbWFrZSB0aGUgY3NzIG1vZHVsZSBkZXBlbmQgb24gdGhlIG9mZnNldCBtb2R1bGUsIGp1c3QgY2hlY2sgZm9yIGl0IGhlcmVcblx0alF1ZXJ5LmVhY2goIFsgXCJ0b3BcIiwgXCJsZWZ0XCIgXSwgZnVuY3Rpb24oIGksIHByb3AgKSB7XG5cdFx0alF1ZXJ5LmNzc0hvb2tzWyBwcm9wIF0gPSBhZGRHZXRIb29rSWYoIHN1cHBvcnQucGl4ZWxQb3NpdGlvbixcblx0XHRcdGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRcdFx0XHRjb21wdXRlZCA9IGN1ckNTUyggZWxlbSwgcHJvcCApO1xuXHRcblx0XHRcdFx0XHQvLyBJZiBjdXJDU1MgcmV0dXJucyBwZXJjZW50YWdlLCBmYWxsYmFjayB0byBvZmZzZXRcblx0XHRcdFx0XHRyZXR1cm4gcm51bW5vbnB4LnRlc3QoIGNvbXB1dGVkICkgP1xuXHRcdFx0XHRcdFx0alF1ZXJ5KCBlbGVtICkucG9zaXRpb24oKVsgcHJvcCBdICsgXCJweFwiIDpcblx0XHRcdFx0XHRcdGNvbXB1dGVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0KTtcblx0fSApO1xuXHRcblx0XG5cdC8vIENyZWF0ZSBpbm5lckhlaWdodCwgaW5uZXJXaWR0aCwgaGVpZ2h0LCB3aWR0aCwgb3V0ZXJIZWlnaHQgYW5kIG91dGVyV2lkdGggbWV0aG9kc1xuXHRqUXVlcnkuZWFjaCggeyBIZWlnaHQ6IFwiaGVpZ2h0XCIsIFdpZHRoOiBcIndpZHRoXCIgfSwgZnVuY3Rpb24oIG5hbWUsIHR5cGUgKSB7XG5cdFx0alF1ZXJ5LmVhY2goIHsgcGFkZGluZzogXCJpbm5lclwiICsgbmFtZSwgY29udGVudDogdHlwZSwgXCJcIjogXCJvdXRlclwiICsgbmFtZSB9LFxuXHRcdFx0ZnVuY3Rpb24oIGRlZmF1bHRFeHRyYSwgZnVuY05hbWUgKSB7XG5cdFxuXHRcdFx0Ly8gTWFyZ2luIGlzIG9ubHkgZm9yIG91dGVySGVpZ2h0LCBvdXRlcldpZHRoXG5cdFx0XHRqUXVlcnkuZm5bIGZ1bmNOYW1lIF0gPSBmdW5jdGlvbiggbWFyZ2luLCB2YWx1ZSApIHtcblx0XHRcdFx0dmFyIGNoYWluYWJsZSA9IGFyZ3VtZW50cy5sZW5ndGggJiYgKCBkZWZhdWx0RXh0cmEgfHwgdHlwZW9mIG1hcmdpbiAhPT0gXCJib29sZWFuXCIgKSxcblx0XHRcdFx0XHRleHRyYSA9IGRlZmF1bHRFeHRyYSB8fCAoIG1hcmdpbiA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gdHJ1ZSA/IFwibWFyZ2luXCIgOiBcImJvcmRlclwiICk7XG5cdFxuXHRcdFx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgdHlwZSwgdmFsdWUgKSB7XG5cdFx0XHRcdFx0dmFyIGRvYztcblx0XG5cdFx0XHRcdFx0aWYgKCBqUXVlcnkuaXNXaW5kb3coIGVsZW0gKSApIHtcblx0XG5cdFx0XHRcdFx0XHQvLyAkKCB3aW5kb3cgKS5vdXRlcldpZHRoL0hlaWdodCByZXR1cm4gdy9oIGluY2x1ZGluZyBzY3JvbGxiYXJzIChnaC0xNzI5KVxuXHRcdFx0XHRcdFx0cmV0dXJuIGZ1bmNOYW1lLmluZGV4T2YoIFwib3V0ZXJcIiApID09PSAwID9cblx0XHRcdFx0XHRcdFx0ZWxlbVsgXCJpbm5lclwiICsgbmFtZSBdIDpcblx0XHRcdFx0XHRcdFx0ZWxlbS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbIFwiY2xpZW50XCIgKyBuYW1lIF07XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBHZXQgZG9jdW1lbnQgd2lkdGggb3IgaGVpZ2h0XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHRcdFx0ZG9jID0gZWxlbS5kb2N1bWVudEVsZW1lbnQ7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gRWl0aGVyIHNjcm9sbFtXaWR0aC9IZWlnaHRdIG9yIG9mZnNldFtXaWR0aC9IZWlnaHRdIG9yIGNsaWVudFtXaWR0aC9IZWlnaHRdLFxuXHRcdFx0XHRcdFx0Ly8gd2hpY2hldmVyIGlzIGdyZWF0ZXN0XG5cdFx0XHRcdFx0XHRyZXR1cm4gTWF0aC5tYXgoXG5cdFx0XHRcdFx0XHRcdGVsZW0uYm9keVsgXCJzY3JvbGxcIiArIG5hbWUgXSwgZG9jWyBcInNjcm9sbFwiICsgbmFtZSBdLFxuXHRcdFx0XHRcdFx0XHRlbGVtLmJvZHlbIFwib2Zmc2V0XCIgKyBuYW1lIF0sIGRvY1sgXCJvZmZzZXRcIiArIG5hbWUgXSxcblx0XHRcdFx0XHRcdFx0ZG9jWyBcImNsaWVudFwiICsgbmFtZSBdXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0cmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgP1xuXHRcblx0XHRcdFx0XHRcdC8vIEdldCB3aWR0aCBvciBoZWlnaHQgb24gdGhlIGVsZW1lbnQsIHJlcXVlc3RpbmcgYnV0IG5vdCBmb3JjaW5nIHBhcnNlRmxvYXRcblx0XHRcdFx0XHRcdGpRdWVyeS5jc3MoIGVsZW0sIHR5cGUsIGV4dHJhICkgOlxuXHRcblx0XHRcdFx0XHRcdC8vIFNldCB3aWR0aCBvciBoZWlnaHQgb24gdGhlIGVsZW1lbnRcblx0XHRcdFx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgdHlwZSwgdmFsdWUsIGV4dHJhICk7XG5cdFx0XHRcdH0sIHR5cGUsIGNoYWluYWJsZSA/IG1hcmdpbiA6IHVuZGVmaW5lZCwgY2hhaW5hYmxlICk7XG5cdFx0XHR9O1xuXHRcdH0gKTtcblx0fSApO1xuXHRcblx0XG5cdGpRdWVyeS5mbi5leHRlbmQoIHtcblx0XG5cdFx0YmluZDogZnVuY3Rpb24oIHR5cGVzLCBkYXRhLCBmbiApIHtcblx0XHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgbnVsbCwgZGF0YSwgZm4gKTtcblx0XHR9LFxuXHRcdHVuYmluZDogZnVuY3Rpb24oIHR5cGVzLCBmbiApIHtcblx0XHRcdHJldHVybiB0aGlzLm9mZiggdHlwZXMsIG51bGwsIGZuICk7XG5cdFx0fSxcblx0XG5cdFx0ZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGRhdGEsIGZuICkge1xuXHRcdFx0cmV0dXJuIHRoaXMub24oIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKTtcblx0XHR9LFxuXHRcdHVuZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGZuICkge1xuXHRcblx0XHRcdC8vICggbmFtZXNwYWNlICkgb3IgKCBzZWxlY3RvciwgdHlwZXMgWywgZm5dIClcblx0XHRcdHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxID9cblx0XHRcdFx0dGhpcy5vZmYoIHNlbGVjdG9yLCBcIioqXCIgKSA6XG5cdFx0XHRcdHRoaXMub2ZmKCB0eXBlcywgc2VsZWN0b3IgfHwgXCIqKlwiLCBmbiApO1xuXHRcdH1cblx0fSApO1xuXHRcblx0alF1ZXJ5LnBhcnNlSlNPTiA9IEpTT04ucGFyc2U7XG5cdFxuXHRcblx0XG5cdFxuXHQvLyBSZWdpc3RlciBhcyBhIG5hbWVkIEFNRCBtb2R1bGUsIHNpbmNlIGpRdWVyeSBjYW4gYmUgY29uY2F0ZW5hdGVkIHdpdGggb3RoZXJcblx0Ly8gZmlsZXMgdGhhdCBtYXkgdXNlIGRlZmluZSwgYnV0IG5vdCB2aWEgYSBwcm9wZXIgY29uY2F0ZW5hdGlvbiBzY3JpcHQgdGhhdFxuXHQvLyB1bmRlcnN0YW5kcyBhbm9ueW1vdXMgQU1EIG1vZHVsZXMuIEEgbmFtZWQgQU1EIGlzIHNhZmVzdCBhbmQgbW9zdCByb2J1c3Rcblx0Ly8gd2F5IHRvIHJlZ2lzdGVyLiBMb3dlcmNhc2UganF1ZXJ5IGlzIHVzZWQgYmVjYXVzZSBBTUQgbW9kdWxlIG5hbWVzIGFyZVxuXHQvLyBkZXJpdmVkIGZyb20gZmlsZSBuYW1lcywgYW5kIGpRdWVyeSBpcyBub3JtYWxseSBkZWxpdmVyZWQgaW4gYSBsb3dlcmNhc2Vcblx0Ly8gZmlsZSBuYW1lLiBEbyB0aGlzIGFmdGVyIGNyZWF0aW5nIHRoZSBnbG9iYWwgc28gdGhhdCBpZiBhbiBBTUQgbW9kdWxlIHdhbnRzXG5cdC8vIHRvIGNhbGwgbm9Db25mbGljdCB0byBoaWRlIHRoaXMgdmVyc2lvbiBvZiBqUXVlcnksIGl0IHdpbGwgd29yay5cblx0XG5cdC8vIE5vdGUgdGhhdCBmb3IgbWF4aW11bSBwb3J0YWJpbGl0eSwgbGlicmFyaWVzIHRoYXQgYXJlIG5vdCBqUXVlcnkgc2hvdWxkXG5cdC8vIGRlY2xhcmUgdGhlbXNlbHZlcyBhcyBhbm9ueW1vdXMgbW9kdWxlcywgYW5kIGF2b2lkIHNldHRpbmcgYSBnbG9iYWwgaWYgYW5cblx0Ly8gQU1EIGxvYWRlciBpcyBwcmVzZW50LiBqUXVlcnkgaXMgYSBzcGVjaWFsIGNhc2UuIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWVcblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL2pyYnVya2UvcmVxdWlyZWpzL3dpa2kvVXBkYXRpbmctZXhpc3RpbmctbGlicmFyaWVzI3dpa2ktYW5vblxuXHRcblx0aWYgKCB0cnVlICkge1xuXHRcdCEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFtdLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeTtcblx0XHR9LmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdH1cblx0XG5cdFxuXHRcblx0XG5cdFxuXHR2YXJcblx0XG5cdFx0Ly8gTWFwIG92ZXIgalF1ZXJ5IGluIGNhc2Ugb2Ygb3ZlcndyaXRlXG5cdFx0X2pRdWVyeSA9IHdpbmRvdy5qUXVlcnksXG5cdFxuXHRcdC8vIE1hcCBvdmVyIHRoZSAkIGluIGNhc2Ugb2Ygb3ZlcndyaXRlXG5cdFx0XyQgPSB3aW5kb3cuJDtcblx0XG5cdGpRdWVyeS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oIGRlZXAgKSB7XG5cdFx0aWYgKCB3aW5kb3cuJCA9PT0galF1ZXJ5ICkge1xuXHRcdFx0d2luZG93LiQgPSBfJDtcblx0XHR9XG5cdFxuXHRcdGlmICggZGVlcCAmJiB3aW5kb3cualF1ZXJ5ID09PSBqUXVlcnkgKSB7XG5cdFx0XHR3aW5kb3cualF1ZXJ5ID0gX2pRdWVyeTtcblx0XHR9XG5cdFxuXHRcdHJldHVybiBqUXVlcnk7XG5cdH07XG5cdFxuXHQvLyBFeHBvc2UgalF1ZXJ5IGFuZCAkIGlkZW50aWZpZXJzLCBldmVuIGluIEFNRFxuXHQvLyAoIzcxMDIjY29tbWVudDoxMCwgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnkvcHVsbC81NTcpXG5cdC8vIGFuZCBDb21tb25KUyBmb3IgYnJvd3NlciBlbXVsYXRvcnMgKCMxMzU2Nilcblx0aWYgKCAhbm9HbG9iYWwgKSB7XG5cdFx0d2luZG93LmpRdWVyeSA9IHdpbmRvdy4kID0galF1ZXJ5O1xuXHR9XG5cdFxuXHRcblx0cmV0dXJuIGpRdWVyeTtcblx0fSApO1xuXG5cbi8qKiovIH0sXG4vKiA0NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gdGhlIHdoYXR3Zy1mZXRjaCBwb2x5ZmlsbCBpbnN0YWxscyB0aGUgZmV0Y2goKSBmdW5jdGlvblxuXHQvLyBvbiB0aGUgZ2xvYmFsIG9iamVjdCAod2luZG93IG9yIHNlbGYpXG5cdC8vXG5cdC8vIFJldHVybiB0aGF0IGFzIHRoZSBleHBvcnQgZm9yIHVzZSBpbiBXZWJwYWNrLCBCcm93c2VyaWZ5IGV0Yy5cblx0X193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBzZWxmLmZldGNoLmJpbmQoc2VsZik7XG5cblxuLyoqKi8gfSxcbi8qIDQ1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXG5cbi8qKiovIH0sXG4vKiA0NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHR2YXIgX2JsdWViaXJkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mik7XG5cdFxuXHR2YXIgX2JsdWViaXJkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JsdWViaXJkKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgQnJvd3NlciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIEJyb3dzZXIoKSB7XG5cdCAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQnJvd3Nlcik7XG5cdCAgICB9XG5cdFxuXHQgICAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQnJvd3NlciwgbnVsbCwgW3tcblx0ICAgICAgICBrZXk6ICdpc1ZhbGlkVXJsJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaXNWYWxpZFVybCh1cmwpIHtcblx0ICAgICAgICAgICAgdmFyIG1hdGNoZXNWYWxpZCA9IHRydWU7XG5cdCAgICAgICAgICAgIHZhciBtYXRjaGVzSW52YWxpZCA9IGZhbHNlO1xuXHRcblx0ICAgICAgICAgICAgdmFyIGludmFsaWRSZWdleCA9IFsvXFwucGRmJC9pLCAvXFwuanBnJC9pLCAvXFwucG5nJC8sIC9cXC5naWYkL107XG5cdCAgICAgICAgICAgIHZhciB2YWxpZFJlZ2V4ID0gWy9eaHR0cC9dO1xuXHRcblx0ICAgICAgICAgICAgaW52YWxpZFJlZ2V4LmZvckVhY2goZnVuY3Rpb24gKHJlZ2V4KSB7XG5cdCAgICAgICAgICAgICAgICBtYXRjaGVzSW52YWxpZCA9IG1hdGNoZXNJbnZhbGlkIHx8IHJlZ2V4LnRlc3QodXJsKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIHZhbGlkUmVnZXguZm9yRWFjaChmdW5jdGlvbiAocmVnZXgpIHtcblx0ICAgICAgICAgICAgICAgIG1hdGNoZXNWYWxpZCA9IG1hdGNoZXNWYWxpZCAmJiByZWdleC50ZXN0KHVybCk7XG5cdCAgICAgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXNWYWxpZCAmJiAhbWF0Y2hlc0ludmFsaWQ7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2ZpbHRlclVybHMnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBmaWx0ZXJVcmxzKHVybHMpIHtcblx0ICAgICAgICAgICAgcmV0dXJuICh1cmxzIHx8IFtdKS5maWx0ZXIoQnJvd3Nlci5pc1ZhbGlkVXJsKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaXNCYWNrZ3JvdW5kTXNnJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaXNCYWNrZ3JvdW5kTXNnKHNlbmRlcikge1xuXHQgICAgICAgICAgICByZXR1cm4gc2VuZGVyLnVybC5pbmRleE9mKCdwb3B1cCcpIDwgMDtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaXNQb3B1cE1zZycsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzUG9wdXBNc2coc2VuZGVyKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBzZW5kZXIudXJsLmluZGV4T2YoJ3BvcHVwJykgPiAtMTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZ2V0Q3VycmVudFdpbmRvd1RhYnMnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDdXJyZW50V2luZG93VGFicygpIHtcblx0ICAgICAgICAgICAgdmFyIHByb21pc2UgPSB2b2lkIDA7XG5cdCAgICAgICAgICAgIGlmIChjaHJvbWUpIHtcblx0ICAgICAgICAgICAgICAgIHByb21pc2UgPSBuZXcgX2JsdWViaXJkMi5kZWZhdWx0KGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgICAgICAgICBjaHJvbWUud2luZG93cy5nZXRDdXJyZW50KHsgcG9wdWxhdGU6IHRydWUgfSwgZnVuY3Rpb24gKGN1cnJlbnRXaW5kb3cpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRXaW5kb3cudGFicykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdlYnNpdGVUYWJzID0gY3VycmVudFdpbmRvdy50YWJzLmZpbHRlcihmdW5jdGlvbiAodGFiKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJyb3dzZXIuaXNWYWxpZFVybCh0YWIudXJsKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh3ZWJzaXRlVGFicyk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdObyB0YWJzIScpKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBwcm9taXNlID0gbmV3IF9ibHVlYmlyZDIuZGVmYXVsdChmdW5jdGlvbiAocmVzb2x2ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZ2V0VGFic0h0bWwnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUYWJzSHRtbCh0YWJzKSB7XG5cdCAgICAgICAgICAgIHZhciBjb2RlID0gJ2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUwnO1xuXHQgICAgICAgICAgICB2YXIgaHRtbFByb21pc2VzID0gdGFicy5tYXAoZnVuY3Rpb24gKHRhYikge1xuXHQgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBfYmx1ZWJpcmQyLmRlZmF1bHQoZnVuY3Rpb24gKHJlc29sdmUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBjaHJvbWUudGFicy5leGVjdXRlU2NyaXB0KHRhYi5pZCwgeyBjb2RlOiBjb2RlIH0sIGZ1bmN0aW9uIChodG1sKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVkVGFiID0gdGFiO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaHRtbCAmJiBodG1sWzBdICYmIGh0bWxbMF0ubWF0Y2goL2h0bWwvaSkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRUYWIuaHRtbCA9IGh0bWxbMF07XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkVGFiLmh0bWwgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodXBkYXRlZFRhYik7XG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gX2JsdWViaXJkMi5kZWZhdWx0LmFsbChodG1sUHJvbWlzZXMpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdnZXRMb2NhbFN0b3JhZ2UnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMb2NhbFN0b3JhZ2UoZmllbGRzKSB7XG5cdCAgICAgICAgICAgIHZhciBwcm9taXNlID0gdm9pZCAwO1xuXHQgICAgICAgICAgICBpZiAoY2hyb21lKSB7XG5cdCAgICAgICAgICAgICAgICBwcm9taXNlID0gbmV3IF9ibHVlYmlyZDIuZGVmYXVsdChmdW5jdGlvbiAocmVzb2x2ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldChmaWVsZHMsIGZ1bmN0aW9uIChzdGF0ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHN0YXRlKTtcblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdzZXRMb2NhbFN0b3JhZ2UnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRMb2NhbFN0b3JhZ2Uoa2V5VmFsdWVzKSB7XG5cdCAgICAgICAgICAgIGNocm9tZS5zdG9yYWdlLmxvY2FsLnNldChrZXlWYWx1ZXMpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdzZW5kTWVzc2FnZScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNlbmRNZXNzYWdlKCkge1xuXHQgICAgICAgICAgICB2YXIgX2Nocm9tZSRydW50aW1lO1xuXHRcblx0ICAgICAgICAgICAgKF9jaHJvbWUkcnVudGltZSA9IGNocm9tZS5ydW50aW1lKS5zZW5kTWVzc2FnZS5hcHBseShfY2hyb21lJHJ1bnRpbWUsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ29uQmFja2dyb3VuZE1lc3NhZ2UnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkJhY2tncm91bmRNZXNzYWdlKGNiKSB7XG5cdCAgICAgICAgICAgIGNocm9tZS5ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcihmdW5jdGlvbiAocmVxdWVzdCwgc2VuZGVyKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoQnJvd3Nlci5pc0JhY2tncm91bmRNc2coc2VuZGVyKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGNiKHJlcXVlc3QsIHNlbmRlcik7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdvbkZvcmVncm91bmRNZXNzYWdlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25Gb3JlZ3JvdW5kTWVzc2FnZShjYikge1xuXHQgICAgICAgICAgICBjaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoZnVuY3Rpb24gKHJlcXVlc3QsIHNlbmRlcikge1xuXHQgICAgICAgICAgICAgICAgaWYgKEJyb3dzZXIuaXNQb3B1cE1zZyhzZW5kZXIpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY2IocmVxdWVzdCwgc2VuZGVyKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2Rvd25sb2FkJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZG93bmxvYWQocGFyYW1zKSB7XG5cdCAgICAgICAgICAgIHZhciBwcm9taXNlID0gdm9pZCAwO1xuXHQgICAgICAgICAgICBpZiAoY2hyb21lKSB7XG5cdCAgICAgICAgICAgICAgICBwcm9taXNlID0gbmV3IF9ibHVlYmlyZDIuZGVmYXVsdChmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY2hyb21lLmRvd25sb2Fkcy5kb3dubG9hZChwYXJhbXMsIGZ1bmN0aW9uIChkb3dubG9hZElkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkb3dubG9hZExpc3RlbmVyID0gZnVuY3Rpb24gZG93bmxvYWRMaXN0ZW5lcihkb3dubG9hZEluZm8pIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb3dubG9hZEluZm8uaWQgPT09IGRvd25sb2FkSWQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG93bmxvYWRJbmZvLmVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNocm9tZS5kb3dubG9hZHMub25DaGFuZ2VkLnJlbW92ZUxpc3RlbmVyKGRvd25sb2FkTGlzdGVuZXIpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZG93bmxvYWRJbmZvLmVycm9yKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRvd25sb2FkSW5mby5lbmRUaW1lIHx8IGRvd25sb2FkSW5mby5zdGF0ZS5jdXJyZW50ID09PSAnY29tcGxldGUnKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNocm9tZS5kb3dubG9hZHMub25DaGFuZ2VkLnJlbW92ZUxpc3RlbmVyKGRvd25sb2FkTGlzdGVuZXIpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjaHJvbWUuZG93bmxvYWRzLm9uQ2hhbmdlZC5hZGRMaXN0ZW5lcihkb3dubG9hZExpc3RlbmVyKTtcblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdiYXNlVXJsJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYmFzZVVybCgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGNocm9tZS5ydW50aW1lLmdldE1hbmlmZXN0KCkuaG9tZXBhZ2VfdXJsO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdnZXRNYW5pZmVzdCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1hbmlmZXN0KCkge1xuXHQgICAgICAgICAgICByZXR1cm4gY2hyb21lLnJ1bnRpbWUuZ2V0TWFuaWZlc3QoKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZ2V0RXJyb3JNc2cnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRFcnJvck1zZyhsb2NhdGlvbiwgeGhyKSB7XG5cdCAgICAgICAgICAgIHZhciBtc2cgPSBsb2NhdGlvbiA/IGxvY2F0aW9uICsgJzogICcgOiAnJztcblx0XG5cdCAgICAgICAgICAgIG1zZyArPSB4aHIucmVzcG9uc2VUZXh0IHx8IEJyb3dzZXIuRVJST1JfQ09ERVNbeGhyLnN0YXR1c1RleHRdIHx8IEJyb3dzZXIuRVJST1JfQ09ERVNbeGhyLnN0YXR1c10gfHwgQnJvd3Nlci5FUlJPUl9DT0RFU1t4aHIuY3VycmVudF0gfHwgJ1Vua25vd24nO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIG1zZztcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdCAgICByZXR1cm4gQnJvd3Nlcjtcblx0fSgpO1xuXHRcblx0QnJvd3Nlci5FUlJPUl9DT0RFUyA9IHtcblx0ICAgIC8vIEJvb2sgQ3JlYXRlIEVycm9yc1xuXHQgICAgMDogJ1NlcnZlciBpcyBkb3duLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicsXG5cdCAgICA0MDA6ICdUaGVyZSB3YXMgYSBwcm9ibGVtIHdpdGggdGhlIHJlcXVlc3QuIElzIEVwdWJQcmVzcyB1cCB0byBkYXRlPycsXG5cdCAgICA0MDQ6ICdSZXNvdXJjZSBub3QgZm91bmQuJyxcblx0ICAgIDUwMDogJ1VuZXhwZWN0ZWQgc2VydmVyIGVycm9yLicsXG5cdCAgICA1MDM6ICdTZXJ2ZXIgdG9vayB0b28gbG9uZyB0byByZXNwb25kLicsXG5cdCAgICB0aW1lb3V0OiAnUmVxdWVzdCB0b29rIHRvbyBsb25nIHRvIGNvbXBsZXRlLicsXG5cdCAgICBlcnJvcjogdW5kZWZpbmVkLFxuXHQgICAgLy8gRG93bmxvYWQgRXJyb3JzXG5cdCAgICBTRVJWRVJfRkFJTEVEOiAnU2VydmVyIGVycm9yIHdoaWxlIGRvd25sb2FkaW5nLicsXG5cdCAgICBTRVJWRVJfQkFEX0NPTlRFTlQ6ICdCb29rIGNvdWxkIG5vdCBiZSBmb3VuZCdcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gQnJvd3NlcjtcblxuLyoqKi8gfSxcbi8qIDQ3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG5cdCAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcblx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG5cdCAgfVxuXHR9O1xuXG4vKioqLyB9LFxuLyogNDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcblx0ICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuXHQgICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG5cdCAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG5cdCAgICAgICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcblx0ICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG5cdCAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcblx0ICAgIHJldHVybiBDb25zdHJ1Y3Rvcjtcblx0ICB9O1xuXHR9KCk7XG5cbi8qKiovIH0sXG4vKiA0OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9LFxuLyogNTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oNTEpO1xuXHR2YXIgJE9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNSkuT2JqZWN0O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2Mpe1xuXHQgIHJldHVybiAkT2JqZWN0LmRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2MpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciAkZXhwb3J0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0Ly8gMTkuMS4yLjQgLyAxNS4yLjMuNiBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcblx0JGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhX193ZWJwYWNrX3JlcXVpcmVfXygxOCksICdPYmplY3QnLCB7ZGVmaW5lUHJvcGVydHk6IF9fd2VicGFja19yZXF1aXJlX18oMTQpLmZ9KTtcblxuLyoqKi8gfSxcbi8qIDUyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2VzcywgZ2xvYmFsLCBzZXRJbW1lZGlhdGUpIHsvKiBAcHJlc2VydmVcblx0ICogVGhlIE1JVCBMaWNlbnNlIChNSVQpXG5cdCAqIFxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNSBQZXRrYSBBbnRvbm92XG5cdCAqIFxuXHQgKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG5cdCAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcblx0ICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuXHQgKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG5cdCAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuXHQgKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXHQgKiBcblx0ICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cblx0ICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cdCAqIFxuXHQgKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG5cdCAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuXHQgKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5cdCAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcblx0ICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcblx0ICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuXHQgKiBUSEUgU09GVFdBUkUuXG5cdCAqIFxuXHQgKi9cblx0LyoqXG5cdCAqIGJsdWViaXJkIGJ1aWxkIHZlcnNpb24gMy40LjZcblx0ICogRmVhdHVyZXMgZW5hYmxlZDogY29yZSwgcmFjZSwgY2FsbF9nZXQsIGdlbmVyYXRvcnMsIG1hcCwgbm9kZWlmeSwgcHJvbWlzaWZ5LCBwcm9wcywgcmVkdWNlLCBzZXR0bGUsIHNvbWUsIHVzaW5nLCB0aW1lcnMsIGZpbHRlciwgYW55LCBlYWNoXG5cdCovXG5cdCFmdW5jdGlvbihlKXtpZih0cnVlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgZjtcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P2Y9d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Zj1nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJihmPXNlbGYpLGYuUHJvbWlzZT1lKCl9fShmdW5jdGlvbigpe3ZhciBkZWZpbmUsbW9kdWxlLGV4cG9ydHM7cmV0dXJuIChmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgX2RlcmVxXz09XCJmdW5jdGlvblwiJiZfZGVyZXFfO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiBfZGVyZXFfPT1cImZ1bmN0aW9uXCImJl9kZXJlcV87Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSkge1xuXHR2YXIgU29tZVByb21pc2VBcnJheSA9IFByb21pc2UuX1NvbWVQcm9taXNlQXJyYXk7XG5cdGZ1bmN0aW9uIGFueShwcm9taXNlcykge1xuXHQgICAgdmFyIHJldCA9IG5ldyBTb21lUHJvbWlzZUFycmF5KHByb21pc2VzKTtcblx0ICAgIHZhciBwcm9taXNlID0gcmV0LnByb21pc2UoKTtcblx0ICAgIHJldC5zZXRIb3dNYW55KDEpO1xuXHQgICAgcmV0LnNldFVud3JhcCgpO1xuXHQgICAgcmV0LmluaXQoKTtcblx0ICAgIHJldHVybiBwcm9taXNlO1xuXHR9XG5cdFxuXHRQcm9taXNlLmFueSA9IGZ1bmN0aW9uIChwcm9taXNlcykge1xuXHQgICAgcmV0dXJuIGFueShwcm9taXNlcyk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5hbnkgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gYW55KHRoaXMpO1xuXHR9O1xuXHRcblx0fTtcblx0XG5cdH0se31dLDI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIGZpcnN0TGluZUVycm9yO1xuXHR0cnkge3Rocm93IG5ldyBFcnJvcigpOyB9IGNhdGNoIChlKSB7Zmlyc3RMaW5lRXJyb3IgPSBlO31cblx0dmFyIHNjaGVkdWxlID0gX2RlcmVxXyhcIi4vc2NoZWR1bGVcIik7XG5cdHZhciBRdWV1ZSA9IF9kZXJlcV8oXCIuL3F1ZXVlXCIpO1xuXHR2YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cdFxuXHRmdW5jdGlvbiBBc3luYygpIHtcblx0ICAgIHRoaXMuX2N1c3RvbVNjaGVkdWxlciA9IGZhbHNlO1xuXHQgICAgdGhpcy5faXNUaWNrVXNlZCA9IGZhbHNlO1xuXHQgICAgdGhpcy5fbGF0ZVF1ZXVlID0gbmV3IFF1ZXVlKDE2KTtcblx0ICAgIHRoaXMuX25vcm1hbFF1ZXVlID0gbmV3IFF1ZXVlKDE2KTtcblx0ICAgIHRoaXMuX2hhdmVEcmFpbmVkUXVldWVzID0gZmFsc2U7XG5cdCAgICB0aGlzLl90cmFtcG9saW5lRW5hYmxlZCA9IHRydWU7XG5cdCAgICB2YXIgc2VsZiA9IHRoaXM7XG5cdCAgICB0aGlzLmRyYWluUXVldWVzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHNlbGYuX2RyYWluUXVldWVzKCk7XG5cdCAgICB9O1xuXHQgICAgdGhpcy5fc2NoZWR1bGUgPSBzY2hlZHVsZTtcblx0fVxuXHRcblx0QXN5bmMucHJvdG90eXBlLnNldFNjaGVkdWxlciA9IGZ1bmN0aW9uKGZuKSB7XG5cdCAgICB2YXIgcHJldiA9IHRoaXMuX3NjaGVkdWxlO1xuXHQgICAgdGhpcy5fc2NoZWR1bGUgPSBmbjtcblx0ICAgIHRoaXMuX2N1c3RvbVNjaGVkdWxlciA9IHRydWU7XG5cdCAgICByZXR1cm4gcHJldjtcblx0fTtcblx0XG5cdEFzeW5jLnByb3RvdHlwZS5oYXNDdXN0b21TY2hlZHVsZXIgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiB0aGlzLl9jdXN0b21TY2hlZHVsZXI7XG5cdH07XG5cdFxuXHRBc3luYy5wcm90b3R5cGUuZW5hYmxlVHJhbXBvbGluZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdGhpcy5fdHJhbXBvbGluZUVuYWJsZWQgPSB0cnVlO1xuXHR9O1xuXHRcblx0QXN5bmMucHJvdG90eXBlLmRpc2FibGVUcmFtcG9saW5lSWZOZWNlc3NhcnkgPSBmdW5jdGlvbigpIHtcblx0ICAgIGlmICh1dGlsLmhhc0RldlRvb2xzKSB7XG5cdCAgICAgICAgdGhpcy5fdHJhbXBvbGluZUVuYWJsZWQgPSBmYWxzZTtcblx0ICAgIH1cblx0fTtcblx0XG5cdEFzeW5jLnByb3RvdHlwZS5oYXZlSXRlbXNRdWV1ZWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5faXNUaWNrVXNlZCB8fCB0aGlzLl9oYXZlRHJhaW5lZFF1ZXVlcztcblx0fTtcblx0XG5cdFxuXHRBc3luYy5wcm90b3R5cGUuZmF0YWxFcnJvciA9IGZ1bmN0aW9uKGUsIGlzTm9kZSkge1xuXHQgICAgaWYgKGlzTm9kZSkge1xuXHQgICAgICAgIHByb2Nlc3Muc3RkZXJyLndyaXRlKFwiRmF0YWwgXCIgKyAoZSBpbnN0YW5jZW9mIEVycm9yID8gZS5zdGFjayA6IGUpICtcblx0ICAgICAgICAgICAgXCJcXG5cIik7XG5cdCAgICAgICAgcHJvY2Vzcy5leGl0KDIpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLnRocm93TGF0ZXIoZSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRBc3luYy5wcm90b3R5cGUudGhyb3dMYXRlciA9IGZ1bmN0aW9uKGZuLCBhcmcpIHtcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG5cdCAgICAgICAgYXJnID0gZm47XG5cdCAgICAgICAgZm4gPSBmdW5jdGlvbiAoKSB7IHRocm93IGFyZzsgfTtcblx0ICAgIH1cblx0ICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHQgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIGZuKGFyZyk7XG5cdCAgICAgICAgfSwgMCk7XG5cdCAgICB9IGVsc2UgdHJ5IHtcblx0ICAgICAgICB0aGlzLl9zY2hlZHVsZShmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgZm4oYXJnKTtcblx0ICAgICAgICB9KTtcblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBhc3luYyBzY2hlZHVsZXIgYXZhaWxhYmxlXFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdGZ1bmN0aW9uIEFzeW5jSW52b2tlTGF0ZXIoZm4sIHJlY2VpdmVyLCBhcmcpIHtcblx0ICAgIHRoaXMuX2xhdGVRdWV1ZS5wdXNoKGZuLCByZWNlaXZlciwgYXJnKTtcblx0ICAgIHRoaXMuX3F1ZXVlVGljaygpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBBc3luY0ludm9rZShmbiwgcmVjZWl2ZXIsIGFyZykge1xuXHQgICAgdGhpcy5fbm9ybWFsUXVldWUucHVzaChmbiwgcmVjZWl2ZXIsIGFyZyk7XG5cdCAgICB0aGlzLl9xdWV1ZVRpY2soKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gQXN5bmNTZXR0bGVQcm9taXNlcyhwcm9taXNlKSB7XG5cdCAgICB0aGlzLl9ub3JtYWxRdWV1ZS5fcHVzaE9uZShwcm9taXNlKTtcblx0ICAgIHRoaXMuX3F1ZXVlVGljaygpO1xuXHR9XG5cdFxuXHRpZiAoIXV0aWwuaGFzRGV2VG9vbHMpIHtcblx0ICAgIEFzeW5jLnByb3RvdHlwZS5pbnZva2VMYXRlciA9IEFzeW5jSW52b2tlTGF0ZXI7XG5cdCAgICBBc3luYy5wcm90b3R5cGUuaW52b2tlID0gQXN5bmNJbnZva2U7XG5cdCAgICBBc3luYy5wcm90b3R5cGUuc2V0dGxlUHJvbWlzZXMgPSBBc3luY1NldHRsZVByb21pc2VzO1xuXHR9IGVsc2Uge1xuXHQgICAgQXN5bmMucHJvdG90eXBlLmludm9rZUxhdGVyID0gZnVuY3Rpb24gKGZuLCByZWNlaXZlciwgYXJnKSB7XG5cdCAgICAgICAgaWYgKHRoaXMuX3RyYW1wb2xpbmVFbmFibGVkKSB7XG5cdCAgICAgICAgICAgIEFzeW5jSW52b2tlTGF0ZXIuY2FsbCh0aGlzLCBmbiwgcmVjZWl2ZXIsIGFyZyk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdGhpcy5fc2NoZWR1bGUoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGZuLmNhbGwocmVjZWl2ZXIsIGFyZyk7XG5cdCAgICAgICAgICAgICAgICB9LCAxMDApO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIEFzeW5jLnByb3RvdHlwZS5pbnZva2UgPSBmdW5jdGlvbiAoZm4sIHJlY2VpdmVyLCBhcmcpIHtcblx0ICAgICAgICBpZiAodGhpcy5fdHJhbXBvbGluZUVuYWJsZWQpIHtcblx0ICAgICAgICAgICAgQXN5bmNJbnZva2UuY2FsbCh0aGlzLCBmbiwgcmVjZWl2ZXIsIGFyZyk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdGhpcy5fc2NoZWR1bGUoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICBmbi5jYWxsKHJlY2VpdmVyLCBhcmcpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIEFzeW5jLnByb3RvdHlwZS5zZXR0bGVQcm9taXNlcyA9IGZ1bmN0aW9uKHByb21pc2UpIHtcblx0ICAgICAgICBpZiAodGhpcy5fdHJhbXBvbGluZUVuYWJsZWQpIHtcblx0ICAgICAgICAgICAgQXN5bmNTZXR0bGVQcm9taXNlcy5jYWxsKHRoaXMsIHByb21pc2UpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHRoaXMuX3NjaGVkdWxlKGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgcHJvbWlzZS5fc2V0dGxlUHJvbWlzZXMoKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0fVxuXHRcblx0QXN5bmMucHJvdG90eXBlLmludm9rZUZpcnN0ID0gZnVuY3Rpb24gKGZuLCByZWNlaXZlciwgYXJnKSB7XG5cdCAgICB0aGlzLl9ub3JtYWxRdWV1ZS51bnNoaWZ0KGZuLCByZWNlaXZlciwgYXJnKTtcblx0ICAgIHRoaXMuX3F1ZXVlVGljaygpO1xuXHR9O1xuXHRcblx0QXN5bmMucHJvdG90eXBlLl9kcmFpblF1ZXVlID0gZnVuY3Rpb24ocXVldWUpIHtcblx0ICAgIHdoaWxlIChxdWV1ZS5sZW5ndGgoKSA+IDApIHtcblx0ICAgICAgICB2YXIgZm4gPSBxdWV1ZS5zaGlmdCgpO1xuXHQgICAgICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgICAgICBmbi5fc2V0dGxlUHJvbWlzZXMoKTtcblx0ICAgICAgICAgICAgY29udGludWU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciByZWNlaXZlciA9IHF1ZXVlLnNoaWZ0KCk7XG5cdCAgICAgICAgdmFyIGFyZyA9IHF1ZXVlLnNoaWZ0KCk7XG5cdCAgICAgICAgZm4uY2FsbChyZWNlaXZlciwgYXJnKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdEFzeW5jLnByb3RvdHlwZS5fZHJhaW5RdWV1ZXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aGlzLl9kcmFpblF1ZXVlKHRoaXMuX25vcm1hbFF1ZXVlKTtcblx0ICAgIHRoaXMuX3Jlc2V0KCk7XG5cdCAgICB0aGlzLl9oYXZlRHJhaW5lZFF1ZXVlcyA9IHRydWU7XG5cdCAgICB0aGlzLl9kcmFpblF1ZXVlKHRoaXMuX2xhdGVRdWV1ZSk7XG5cdH07XG5cdFxuXHRBc3luYy5wcm90b3R5cGUuX3F1ZXVlVGljayA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICghdGhpcy5faXNUaWNrVXNlZCkge1xuXHQgICAgICAgIHRoaXMuX2lzVGlja1VzZWQgPSB0cnVlO1xuXHQgICAgICAgIHRoaXMuX3NjaGVkdWxlKHRoaXMuZHJhaW5RdWV1ZXMpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0QXN5bmMucHJvdG90eXBlLl9yZXNldCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuX2lzVGlja1VzZWQgPSBmYWxzZTtcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gQXN5bmM7XG5cdG1vZHVsZS5leHBvcnRzLmZpcnN0TGluZUVycm9yID0gZmlyc3RMaW5lRXJyb3I7XG5cdFxuXHR9LHtcIi4vcXVldWVcIjoyNixcIi4vc2NoZWR1bGVcIjoyOSxcIi4vdXRpbFwiOjM2fV0sMzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIElOVEVSTkFMLCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBkZWJ1Zykge1xuXHR2YXIgY2FsbGVkQmluZCA9IGZhbHNlO1xuXHR2YXIgcmVqZWN0VGhpcyA9IGZ1bmN0aW9uKF8sIGUpIHtcblx0ICAgIHRoaXMuX3JlamVjdChlKTtcblx0fTtcblx0XG5cdHZhciB0YXJnZXRSZWplY3RlZCA9IGZ1bmN0aW9uKGUsIGNvbnRleHQpIHtcblx0ICAgIGNvbnRleHQucHJvbWlzZVJlamVjdGlvblF1ZXVlZCA9IHRydWU7XG5cdCAgICBjb250ZXh0LmJpbmRpbmdQcm9taXNlLl90aGVuKHJlamVjdFRoaXMsIHJlamVjdFRoaXMsIG51bGwsIHRoaXMsIGUpO1xuXHR9O1xuXHRcblx0dmFyIGJpbmRpbmdSZXNvbHZlZCA9IGZ1bmN0aW9uKHRoaXNBcmcsIGNvbnRleHQpIHtcblx0ICAgIGlmICgoKHRoaXMuX2JpdEZpZWxkICYgNTAzOTcxODQpID09PSAwKSkge1xuXHQgICAgICAgIHRoaXMuX3Jlc29sdmVDYWxsYmFjayhjb250ZXh0LnRhcmdldCk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHR2YXIgYmluZGluZ1JlamVjdGVkID0gZnVuY3Rpb24oZSwgY29udGV4dCkge1xuXHQgICAgaWYgKCFjb250ZXh0LnByb21pc2VSZWplY3Rpb25RdWV1ZWQpIHRoaXMuX3JlamVjdChlKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAodGhpc0FyZykge1xuXHQgICAgaWYgKCFjYWxsZWRCaW5kKSB7XG5cdCAgICAgICAgY2FsbGVkQmluZCA9IHRydWU7XG5cdCAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX3Byb3BhZ2F0ZUZyb20gPSBkZWJ1Zy5wcm9wYWdhdGVGcm9tRnVuY3Rpb24oKTtcblx0ICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fYm91bmRWYWx1ZSA9IGRlYnVnLmJvdW5kVmFsdWVGdW5jdGlvbigpO1xuXHQgICAgfVxuXHQgICAgdmFyIG1heWJlUHJvbWlzZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UodGhpc0FyZyk7XG5cdCAgICB2YXIgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuXHQgICAgcmV0Ll9wcm9wYWdhdGVGcm9tKHRoaXMsIDEpO1xuXHQgICAgdmFyIHRhcmdldCA9IHRoaXMuX3RhcmdldCgpO1xuXHQgICAgcmV0Ll9zZXRCb3VuZFRvKG1heWJlUHJvbWlzZSk7XG5cdCAgICBpZiAobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuXHQgICAgICAgIHZhciBjb250ZXh0ID0ge1xuXHQgICAgICAgICAgICBwcm9taXNlUmVqZWN0aW9uUXVldWVkOiBmYWxzZSxcblx0ICAgICAgICAgICAgcHJvbWlzZTogcmV0LFxuXHQgICAgICAgICAgICB0YXJnZXQ6IHRhcmdldCxcblx0ICAgICAgICAgICAgYmluZGluZ1Byb21pc2U6IG1heWJlUHJvbWlzZVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgdGFyZ2V0Ll90aGVuKElOVEVSTkFMLCB0YXJnZXRSZWplY3RlZCwgdW5kZWZpbmVkLCByZXQsIGNvbnRleHQpO1xuXHQgICAgICAgIG1heWJlUHJvbWlzZS5fdGhlbihcblx0ICAgICAgICAgICAgYmluZGluZ1Jlc29sdmVkLCBiaW5kaW5nUmVqZWN0ZWQsIHVuZGVmaW5lZCwgcmV0LCBjb250ZXh0KTtcblx0ICAgICAgICByZXQuX3NldE9uQ2FuY2VsKG1heWJlUHJvbWlzZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldC5fcmVzb2x2ZUNhbGxiYWNrKHRhcmdldCk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmV0O1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3NldEJvdW5kVG8gPSBmdW5jdGlvbiAob2JqKSB7XG5cdCAgICBpZiAob2JqICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgMjA5NzE1Mjtcblx0ICAgICAgICB0aGlzLl9ib3VuZFRvID0gb2JqO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkICYgKH4yMDk3MTUyKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9pc0JvdW5kID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDIwOTcxNTIpID09PSAyMDk3MTUyO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5iaW5kID0gZnVuY3Rpb24gKHRoaXNBcmcsIHZhbHVlKSB7XG5cdCAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS5iaW5kKHRoaXNBcmcpO1xuXHR9O1xuXHR9O1xuXHRcblx0fSx7fV0sNDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgb2xkO1xuXHRpZiAodHlwZW9mIFByb21pc2UgIT09IFwidW5kZWZpbmVkXCIpIG9sZCA9IFByb21pc2U7XG5cdGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7XG5cdCAgICB0cnkgeyBpZiAoUHJvbWlzZSA9PT0gYmx1ZWJpcmQpIFByb21pc2UgPSBvbGQ7IH1cblx0ICAgIGNhdGNoIChlKSB7fVxuXHQgICAgcmV0dXJuIGJsdWViaXJkO1xuXHR9XG5cdHZhciBibHVlYmlyZCA9IF9kZXJlcV8oXCIuL3Byb21pc2VcIikoKTtcblx0Ymx1ZWJpcmQubm9Db25mbGljdCA9IG5vQ29uZmxpY3Q7XG5cdG1vZHVsZS5leHBvcnRzID0gYmx1ZWJpcmQ7XG5cdFxuXHR9LHtcIi4vcHJvbWlzZVwiOjIyfV0sNTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgY3IgPSBPYmplY3QuY3JlYXRlO1xuXHRpZiAoY3IpIHtcblx0ICAgIHZhciBjYWxsZXJDYWNoZSA9IGNyKG51bGwpO1xuXHQgICAgdmFyIGdldHRlckNhY2hlID0gY3IobnVsbCk7XG5cdCAgICBjYWxsZXJDYWNoZVtcIiBzaXplXCJdID0gZ2V0dGVyQ2FjaGVbXCIgc2l6ZVwiXSA9IDA7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSkge1xuXHR2YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cdHZhciBjYW5FdmFsdWF0ZSA9IHV0aWwuY2FuRXZhbHVhdGU7XG5cdHZhciBpc0lkZW50aWZpZXIgPSB1dGlsLmlzSWRlbnRpZmllcjtcblx0XG5cdHZhciBnZXRNZXRob2RDYWxsZXI7XG5cdHZhciBnZXRHZXR0ZXI7XG5cdGlmIChmYWxzZSkge1xuXHR2YXIgbWFrZU1ldGhvZENhbGxlciA9IGZ1bmN0aW9uIChtZXRob2ROYW1lKSB7XG5cdCAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKFwiZW5zdXJlTWV0aG9kXCIsIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAndXNlIHN0cmljdCcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIHZhciBsZW4gPSB0aGlzLmxlbmd0aDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgZW5zdXJlTWV0aG9kKG9iaiwgJ21ldGhvZE5hbWUnKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICBzd2l0Y2gobGVuKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICBjYXNlIDE6IHJldHVybiBvYmoubWV0aG9kTmFtZSh0aGlzWzBdKTsgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG9iai5tZXRob2ROYW1lKHRoaXNbMF0sIHRoaXNbMV0pOyAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgY2FzZSAzOiByZXR1cm4gb2JqLm1ldGhvZE5hbWUodGhpc1swXSwgdGhpc1sxXSwgdGhpc1syXSk7ICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBvYmoubWV0aG9kTmFtZSgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmoubWV0aG9kTmFtZS5hcHBseShvYmosIHRoaXMpOyAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICB9OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgIFwiLnJlcGxhY2UoL21ldGhvZE5hbWUvZywgbWV0aG9kTmFtZSkpKGVuc3VyZU1ldGhvZCk7XG5cdH07XG5cdFxuXHR2YXIgbWFrZUdldHRlciA9IGZ1bmN0aW9uIChwcm9wZXJ0eU5hbWUpIHtcblx0ICAgIHJldHVybiBuZXcgRnVuY3Rpb24oXCJvYmpcIiwgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICd1c2Ugc3RyaWN0JzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgcmV0dXJuIG9iai5wcm9wZXJ0eU5hbWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICBcIi5yZXBsYWNlKFwicHJvcGVydHlOYW1lXCIsIHByb3BlcnR5TmFtZSkpO1xuXHR9O1xuXHRcblx0dmFyIGdldENvbXBpbGVkID0gZnVuY3Rpb24obmFtZSwgY29tcGlsZXIsIGNhY2hlKSB7XG5cdCAgICB2YXIgcmV0ID0gY2FjaGVbbmFtZV07XG5cdCAgICBpZiAodHlwZW9mIHJldCAhPT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgaWYgKCFpc0lkZW50aWZpZXIobmFtZSkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldCA9IGNvbXBpbGVyKG5hbWUpO1xuXHQgICAgICAgIGNhY2hlW25hbWVdID0gcmV0O1xuXHQgICAgICAgIGNhY2hlW1wiIHNpemVcIl0rKztcblx0ICAgICAgICBpZiAoY2FjaGVbXCIgc2l6ZVwiXSA+IDUxMikge1xuXHQgICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGNhY2hlKTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7ICsraSkgZGVsZXRlIGNhY2hlW2tleXNbaV1dO1xuXHQgICAgICAgICAgICBjYWNoZVtcIiBzaXplXCJdID0ga2V5cy5sZW5ndGggLSAyNTY7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJldDtcblx0fTtcblx0XG5cdGdldE1ldGhvZENhbGxlciA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgIHJldHVybiBnZXRDb21waWxlZChuYW1lLCBtYWtlTWV0aG9kQ2FsbGVyLCBjYWxsZXJDYWNoZSk7XG5cdH07XG5cdFxuXHRnZXRHZXR0ZXIgPSBmdW5jdGlvbihuYW1lKSB7XG5cdCAgICByZXR1cm4gZ2V0Q29tcGlsZWQobmFtZSwgbWFrZUdldHRlciwgZ2V0dGVyQ2FjaGUpO1xuXHR9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBlbnN1cmVNZXRob2Qob2JqLCBtZXRob2ROYW1lKSB7XG5cdCAgICB2YXIgZm47XG5cdCAgICBpZiAob2JqICE9IG51bGwpIGZuID0gb2JqW21ldGhvZE5hbWVdO1xuXHQgICAgaWYgKHR5cGVvZiBmbiAhPT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgdmFyIG1lc3NhZ2UgPSBcIk9iamVjdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcob2JqKSArIFwiIGhhcyBubyBtZXRob2QgJ1wiICtcblx0ICAgICAgICAgICAgdXRpbC50b1N0cmluZyhtZXRob2ROYW1lKSArIFwiJ1wiO1xuXHQgICAgICAgIHRocm93IG5ldyBQcm9taXNlLlR5cGVFcnJvcihtZXNzYWdlKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBmbjtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY2FsbGVyKG9iaikge1xuXHQgICAgdmFyIG1ldGhvZE5hbWUgPSB0aGlzLnBvcCgpO1xuXHQgICAgdmFyIGZuID0gZW5zdXJlTWV0aG9kKG9iaiwgbWV0aG9kTmFtZSk7XG5cdCAgICByZXR1cm4gZm4uYXBwbHkob2JqLCB0aGlzKTtcblx0fVxuXHRQcm9taXNlLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKG1ldGhvZE5hbWUpIHtcblx0ICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpOztcblx0ICAgIGlmIChmYWxzZSkge1xuXHQgICAgICAgIGlmIChjYW5FdmFsdWF0ZSkge1xuXHQgICAgICAgICAgICB2YXIgbWF5YmVDYWxsZXIgPSBnZXRNZXRob2RDYWxsZXIobWV0aG9kTmFtZSk7XG5cdCAgICAgICAgICAgIGlmIChtYXliZUNhbGxlciAhPT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RoZW4oXG5cdCAgICAgICAgICAgICAgICAgICAgbWF5YmVDYWxsZXIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcmdzLCB1bmRlZmluZWQpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgYXJncy5wdXNoKG1ldGhvZE5hbWUpO1xuXHQgICAgcmV0dXJuIHRoaXMuX3RoZW4oY2FsbGVyLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJncywgdW5kZWZpbmVkKTtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIG5hbWVkR2V0dGVyKG9iaikge1xuXHQgICAgcmV0dXJuIG9ialt0aGlzXTtcblx0fVxuXHRmdW5jdGlvbiBpbmRleGVkR2V0dGVyKG9iaikge1xuXHQgICAgdmFyIGluZGV4ID0gK3RoaXM7XG5cdCAgICBpZiAoaW5kZXggPCAwKSBpbmRleCA9IE1hdGgubWF4KDAsIGluZGV4ICsgb2JqLmxlbmd0aCk7XG5cdCAgICByZXR1cm4gb2JqW2luZGV4XTtcblx0fVxuXHRQcm9taXNlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAocHJvcGVydHlOYW1lKSB7XG5cdCAgICB2YXIgaXNJbmRleCA9ICh0eXBlb2YgcHJvcGVydHlOYW1lID09PSBcIm51bWJlclwiKTtcblx0ICAgIHZhciBnZXR0ZXI7XG5cdCAgICBpZiAoIWlzSW5kZXgpIHtcblx0ICAgICAgICBpZiAoY2FuRXZhbHVhdGUpIHtcblx0ICAgICAgICAgICAgdmFyIG1heWJlR2V0dGVyID0gZ2V0R2V0dGVyKHByb3BlcnR5TmFtZSk7XG5cdCAgICAgICAgICAgIGdldHRlciA9IG1heWJlR2V0dGVyICE9PSBudWxsID8gbWF5YmVHZXR0ZXIgOiBuYW1lZEdldHRlcjtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBnZXR0ZXIgPSBuYW1lZEdldHRlcjtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGdldHRlciA9IGluZGV4ZWRHZXR0ZXI7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdGhpcy5fdGhlbihnZXR0ZXIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBwcm9wZXJ0eU5hbWUsIHVuZGVmaW5lZCk7XG5cdH07XG5cdH07XG5cdFxuXHR9LHtcIi4vdXRpbFwiOjM2fV0sNjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIFByb21pc2VBcnJheSwgYXBpUmVqZWN0aW9uLCBkZWJ1Zykge1xuXHR2YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cdHZhciB0cnlDYXRjaCA9IHV0aWwudHJ5Q2F0Y2g7XG5cdHZhciBlcnJvck9iaiA9IHV0aWwuZXJyb3JPYmo7XG5cdHZhciBhc3luYyA9IFByb21pc2UuX2FzeW5jO1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGVbXCJicmVha1wiXSA9IFByb21pc2UucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgaWYgKCFkZWJ1Zy5jYW5jZWxsYXRpb24oKSkgcmV0dXJuIHRoaXMuX3dhcm4oXCJjYW5jZWxsYXRpb24gaXMgZGlzYWJsZWRcIik7XG5cdFxuXHQgICAgdmFyIHByb21pc2UgPSB0aGlzO1xuXHQgICAgdmFyIGNoaWxkID0gcHJvbWlzZTtcblx0ICAgIHdoaWxlIChwcm9taXNlLl9pc0NhbmNlbGxhYmxlKCkpIHtcblx0ICAgICAgICBpZiAoIXByb21pc2UuX2NhbmNlbEJ5KGNoaWxkKSkge1xuXHQgICAgICAgICAgICBpZiAoY2hpbGQuX2lzRm9sbG93aW5nKCkpIHtcblx0ICAgICAgICAgICAgICAgIGNoaWxkLl9mb2xsb3dlZSgpLmNhbmNlbCgpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgY2hpbGQuX2NhbmNlbEJyYW5jaGVkKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgcGFyZW50ID0gcHJvbWlzZS5fY2FuY2VsbGF0aW9uUGFyZW50O1xuXHQgICAgICAgIGlmIChwYXJlbnQgPT0gbnVsbCB8fCAhcGFyZW50Ll9pc0NhbmNlbGxhYmxlKCkpIHtcblx0ICAgICAgICAgICAgaWYgKHByb21pc2UuX2lzRm9sbG93aW5nKCkpIHtcblx0ICAgICAgICAgICAgICAgIHByb21pc2UuX2ZvbGxvd2VlKCkuY2FuY2VsKCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBwcm9taXNlLl9jYW5jZWxCcmFuY2hlZCgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGlmIChwcm9taXNlLl9pc0ZvbGxvd2luZygpKSBwcm9taXNlLl9mb2xsb3dlZSgpLmNhbmNlbCgpO1xuXHQgICAgICAgICAgICBwcm9taXNlLl9zZXRXaWxsQmVDYW5jZWxsZWQoKTtcblx0ICAgICAgICAgICAgY2hpbGQgPSBwcm9taXNlO1xuXHQgICAgICAgICAgICBwcm9taXNlID0gcGFyZW50O1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9icmFuY2hIYXNDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcblx0ICAgIHRoaXMuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwtLTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9lbm91Z2hCcmFuY2hlc0hhdmVDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiB0aGlzLl9icmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsID09PSB1bmRlZmluZWQgfHxcblx0ICAgICAgICAgICB0aGlzLl9icmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsIDw9IDA7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fY2FuY2VsQnkgPSBmdW5jdGlvbihjYW5jZWxsZXIpIHtcblx0ICAgIGlmIChjYW5jZWxsZXIgPT09IHRoaXMpIHtcblx0ICAgICAgICB0aGlzLl9icmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsID0gMDtcblx0ICAgICAgICB0aGlzLl9pbnZva2VPbkNhbmNlbCgpO1xuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLl9icmFuY2hIYXNDYW5jZWxsZWQoKTtcblx0ICAgICAgICBpZiAodGhpcy5fZW5vdWdoQnJhbmNoZXNIYXZlQ2FuY2VsbGVkKCkpIHtcblx0ICAgICAgICAgICAgdGhpcy5faW52b2tlT25DYW5jZWwoKTtcblx0ICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2NhbmNlbEJyYW5jaGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICBpZiAodGhpcy5fZW5vdWdoQnJhbmNoZXNIYXZlQ2FuY2VsbGVkKCkpIHtcblx0ICAgICAgICB0aGlzLl9jYW5jZWwoKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9jYW5jZWwgPSBmdW5jdGlvbigpIHtcblx0ICAgIGlmICghdGhpcy5faXNDYW5jZWxsYWJsZSgpKSByZXR1cm47XG5cdCAgICB0aGlzLl9zZXRDYW5jZWxsZWQoKTtcblx0ICAgIGFzeW5jLmludm9rZSh0aGlzLl9jYW5jZWxQcm9taXNlcywgdGhpcywgdW5kZWZpbmVkKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9jYW5jZWxQcm9taXNlcyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgaWYgKHRoaXMuX2xlbmd0aCgpID4gMCkgdGhpcy5fc2V0dGxlUHJvbWlzZXMoKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl91bnNldE9uQ2FuY2VsID0gZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLl9vbkNhbmNlbEZpZWxkID0gdW5kZWZpbmVkO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2lzQ2FuY2VsbGFibGUgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiB0aGlzLmlzUGVuZGluZygpICYmICF0aGlzLl9pc0NhbmNlbGxlZCgpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuaXNDYW5jZWxsYWJsZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuaXNQZW5kaW5nKCkgJiYgIXRoaXMuaXNDYW5jZWxsZWQoKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9kb0ludm9rZU9uQ2FuY2VsID0gZnVuY3Rpb24ob25DYW5jZWxDYWxsYmFjaywgaW50ZXJuYWxPbmx5KSB7XG5cdCAgICBpZiAodXRpbC5pc0FycmF5KG9uQ2FuY2VsQ2FsbGJhY2spKSB7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbkNhbmNlbENhbGxiYWNrLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX2RvSW52b2tlT25DYW5jZWwob25DYW5jZWxDYWxsYmFja1tpXSwgaW50ZXJuYWxPbmx5KTtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKG9uQ2FuY2VsQ2FsbGJhY2sgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIGlmICh0eXBlb2Ygb25DYW5jZWxDYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgIGlmICghaW50ZXJuYWxPbmx5KSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZSA9IHRyeUNhdGNoKG9uQ2FuY2VsQ2FsbGJhY2spLmNhbGwodGhpcy5fYm91bmRWYWx1ZSgpKTtcblx0ICAgICAgICAgICAgICAgIGlmIChlID09PSBlcnJvck9iaikge1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuX2F0dGFjaEV4dHJhVHJhY2UoZS5lKTtcblx0ICAgICAgICAgICAgICAgICAgICBhc3luYy50aHJvd0xhdGVyKGUuZSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBvbkNhbmNlbENhbGxiYWNrLl9yZXN1bHRDYW5jZWxsZWQodGhpcyk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2ludm9rZU9uQ2FuY2VsID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgb25DYW5jZWxDYWxsYmFjayA9IHRoaXMuX29uQ2FuY2VsKCk7XG5cdCAgICB0aGlzLl91bnNldE9uQ2FuY2VsKCk7XG5cdCAgICBhc3luYy5pbnZva2UodGhpcy5fZG9JbnZva2VPbkNhbmNlbCwgdGhpcywgb25DYW5jZWxDYWxsYmFjayk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5faW52b2tlSW50ZXJuYWxPbkNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgaWYgKHRoaXMuX2lzQ2FuY2VsbGFibGUoKSkge1xuXHQgICAgICAgIHRoaXMuX2RvSW52b2tlT25DYW5jZWwodGhpcy5fb25DYW5jZWwoKSwgdHJ1ZSk7XG5cdCAgICAgICAgdGhpcy5fdW5zZXRPbkNhbmNlbCgpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdGhpcy5jYW5jZWwoKTtcblx0fTtcblx0XG5cdH07XG5cdFxuXHR9LHtcIi4vdXRpbFwiOjM2fV0sNzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKE5FWFRfRklMVEVSKSB7XG5cdHZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcblx0dmFyIGdldEtleXMgPSBfZGVyZXFfKFwiLi9lczVcIikua2V5cztcblx0dmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcblx0dmFyIGVycm9yT2JqID0gdXRpbC5lcnJvck9iajtcblx0XG5cdGZ1bmN0aW9uIGNhdGNoRmlsdGVyKGluc3RhbmNlcywgY2IsIHByb21pc2UpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbihlKSB7XG5cdCAgICAgICAgdmFyIGJvdW5kVG8gPSBwcm9taXNlLl9ib3VuZFZhbHVlKCk7XG5cdCAgICAgICAgcHJlZGljYXRlTG9vcDogZm9yICh2YXIgaSA9IDA7IGkgPCBpbnN0YW5jZXMubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICAgICAgdmFyIGl0ZW0gPSBpbnN0YW5jZXNbaV07XG5cdFxuXHQgICAgICAgICAgICBpZiAoaXRlbSA9PT0gRXJyb3IgfHxcblx0ICAgICAgICAgICAgICAgIChpdGVtICE9IG51bGwgJiYgaXRlbS5wcm90b3R5cGUgaW5zdGFuY2VvZiBFcnJvcikpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgaXRlbSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnlDYXRjaChjYikuY2FsbChib3VuZFRvLCBlKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaXRlbSA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlc1ByZWRpY2F0ZSA9IHRyeUNhdGNoKGl0ZW0pLmNhbGwoYm91bmRUbywgZSk7XG5cdCAgICAgICAgICAgICAgICBpZiAobWF0Y2hlc1ByZWRpY2F0ZSA9PT0gZXJyb3JPYmopIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlc1ByZWRpY2F0ZTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2hlc1ByZWRpY2F0ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnlDYXRjaChjYikuY2FsbChib3VuZFRvLCBlKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSBlbHNlIGlmICh1dGlsLmlzT2JqZWN0KGUpKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIga2V5cyA9IGdldEtleXMoaXRlbSk7XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGtleXMubGVuZ3RoOyArK2opIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tqXTtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbVtrZXldICE9IGVba2V5XSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBwcmVkaWNhdGVMb29wO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHJldHVybiB0cnlDYXRjaChjYikuY2FsbChib3VuZFRvLCBlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gTkVYVF9GSUxURVI7XG5cdCAgICB9O1xuXHR9XG5cdFxuXHRyZXR1cm4gY2F0Y2hGaWx0ZXI7XG5cdH07XG5cdFxuXHR9LHtcIi4vZXM1XCI6MTMsXCIuL3V0aWxcIjozNn1dLDg6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlKSB7XG5cdHZhciBsb25nU3RhY2tUcmFjZXMgPSBmYWxzZTtcblx0dmFyIGNvbnRleHRTdGFjayA9IFtdO1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3Byb21pc2VDcmVhdGVkID0gZnVuY3Rpb24oKSB7fTtcblx0UHJvbWlzZS5wcm90b3R5cGUuX3B1c2hDb250ZXh0ID0gZnVuY3Rpb24oKSB7fTtcblx0UHJvbWlzZS5wcm90b3R5cGUuX3BvcENvbnRleHQgPSBmdW5jdGlvbigpIHtyZXR1cm4gbnVsbDt9O1xuXHRQcm9taXNlLl9wZWVrQ29udGV4dCA9IFByb21pc2UucHJvdG90eXBlLl9wZWVrQ29udGV4dCA9IGZ1bmN0aW9uKCkge307XG5cdFxuXHRmdW5jdGlvbiBDb250ZXh0KCkge1xuXHQgICAgdGhpcy5fdHJhY2UgPSBuZXcgQ29udGV4dC5DYXB0dXJlZFRyYWNlKHBlZWtDb250ZXh0KCkpO1xuXHR9XG5cdENvbnRleHQucHJvdG90eXBlLl9wdXNoQ29udGV4dCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICh0aGlzLl90cmFjZSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdGhpcy5fdHJhY2UuX3Byb21pc2VDcmVhdGVkID0gbnVsbDtcblx0ICAgICAgICBjb250ZXh0U3RhY2sucHVzaCh0aGlzLl90cmFjZSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRDb250ZXh0LnByb3RvdHlwZS5fcG9wQ29udGV4dCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICh0aGlzLl90cmFjZSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHRyYWNlID0gY29udGV4dFN0YWNrLnBvcCgpO1xuXHQgICAgICAgIHZhciByZXQgPSB0cmFjZS5fcHJvbWlzZUNyZWF0ZWQ7XG5cdCAgICAgICAgdHJhY2UuX3Byb21pc2VDcmVhdGVkID0gbnVsbDtcblx0ICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG51bGw7XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVDb250ZXh0KCkge1xuXHQgICAgaWYgKGxvbmdTdGFja1RyYWNlcykgcmV0dXJuIG5ldyBDb250ZXh0KCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHBlZWtDb250ZXh0KCkge1xuXHQgICAgdmFyIGxhc3RJbmRleCA9IGNvbnRleHRTdGFjay5sZW5ndGggLSAxO1xuXHQgICAgaWYgKGxhc3RJbmRleCA+PSAwKSB7XG5cdCAgICAgICAgcmV0dXJuIGNvbnRleHRTdGFja1tsYXN0SW5kZXhdO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHVuZGVmaW5lZDtcblx0fVxuXHRDb250ZXh0LkNhcHR1cmVkVHJhY2UgPSBudWxsO1xuXHRDb250ZXh0LmNyZWF0ZSA9IGNyZWF0ZUNvbnRleHQ7XG5cdENvbnRleHQuZGVhY3RpdmF0ZUxvbmdTdGFja1RyYWNlcyA9IGZ1bmN0aW9uKCkge307XG5cdENvbnRleHQuYWN0aXZhdGVMb25nU3RhY2tUcmFjZXMgPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciBQcm9taXNlX3B1c2hDb250ZXh0ID0gUHJvbWlzZS5wcm90b3R5cGUuX3B1c2hDb250ZXh0O1xuXHQgICAgdmFyIFByb21pc2VfcG9wQ29udGV4dCA9IFByb21pc2UucHJvdG90eXBlLl9wb3BDb250ZXh0O1xuXHQgICAgdmFyIFByb21pc2VfUGVla0NvbnRleHQgPSBQcm9taXNlLl9wZWVrQ29udGV4dDtcblx0ICAgIHZhciBQcm9taXNlX3BlZWtDb250ZXh0ID0gUHJvbWlzZS5wcm90b3R5cGUuX3BlZWtDb250ZXh0O1xuXHQgICAgdmFyIFByb21pc2VfcHJvbWlzZUNyZWF0ZWQgPSBQcm9taXNlLnByb3RvdHlwZS5fcHJvbWlzZUNyZWF0ZWQ7XG5cdCAgICBDb250ZXh0LmRlYWN0aXZhdGVMb25nU3RhY2tUcmFjZXMgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fcHVzaENvbnRleHQgPSBQcm9taXNlX3B1c2hDb250ZXh0O1xuXHQgICAgICAgIFByb21pc2UucHJvdG90eXBlLl9wb3BDb250ZXh0ID0gUHJvbWlzZV9wb3BDb250ZXh0O1xuXHQgICAgICAgIFByb21pc2UuX3BlZWtDb250ZXh0ID0gUHJvbWlzZV9QZWVrQ29udGV4dDtcblx0ICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fcGVla0NvbnRleHQgPSBQcm9taXNlX3BlZWtDb250ZXh0O1xuXHQgICAgICAgIFByb21pc2UucHJvdG90eXBlLl9wcm9taXNlQ3JlYXRlZCA9IFByb21pc2VfcHJvbWlzZUNyZWF0ZWQ7XG5cdCAgICAgICAgbG9uZ1N0YWNrVHJhY2VzID0gZmFsc2U7XG5cdCAgICB9O1xuXHQgICAgbG9uZ1N0YWNrVHJhY2VzID0gdHJ1ZTtcblx0ICAgIFByb21pc2UucHJvdG90eXBlLl9wdXNoQ29udGV4dCA9IENvbnRleHQucHJvdG90eXBlLl9wdXNoQ29udGV4dDtcblx0ICAgIFByb21pc2UucHJvdG90eXBlLl9wb3BDb250ZXh0ID0gQ29udGV4dC5wcm90b3R5cGUuX3BvcENvbnRleHQ7XG5cdCAgICBQcm9taXNlLl9wZWVrQ29udGV4dCA9IFByb21pc2UucHJvdG90eXBlLl9wZWVrQ29udGV4dCA9IHBlZWtDb250ZXh0O1xuXHQgICAgUHJvbWlzZS5wcm90b3R5cGUuX3Byb21pc2VDcmVhdGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIGN0eCA9IHRoaXMuX3BlZWtDb250ZXh0KCk7XG5cdCAgICAgICAgaWYgKGN0eCAmJiBjdHguX3Byb21pc2VDcmVhdGVkID09IG51bGwpIGN0eC5fcHJvbWlzZUNyZWF0ZWQgPSB0aGlzO1xuXHQgICAgfTtcblx0fTtcblx0cmV0dXJuIENvbnRleHQ7XG5cdH07XG5cdFxuXHR9LHt9XSw5OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSwgQ29udGV4dCkge1xuXHR2YXIgZ2V0RG9tYWluID0gUHJvbWlzZS5fZ2V0RG9tYWluO1xuXHR2YXIgYXN5bmMgPSBQcm9taXNlLl9hc3luYztcblx0dmFyIFdhcm5pbmcgPSBfZGVyZXFfKFwiLi9lcnJvcnNcIikuV2FybmluZztcblx0dmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXHR2YXIgY2FuQXR0YWNoVHJhY2UgPSB1dGlsLmNhbkF0dGFjaFRyYWNlO1xuXHR2YXIgdW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlZDtcblx0dmFyIHBvc3NpYmx5VW5oYW5kbGVkUmVqZWN0aW9uO1xuXHR2YXIgYmx1ZWJpcmRGcmFtZVBhdHRlcm4gPVxuXHQgICAgL1tcXFxcXFwvXWJsdWViaXJkW1xcXFxcXC9danNbXFxcXFxcL10ocmVsZWFzZXxkZWJ1Z3xpbnN0cnVtZW50ZWQpLztcblx0dmFyIG5vZGVGcmFtZVBhdHRlcm4gPSAvXFwoKD86dGltZXJzXFwuanMpOlxcZCs6XFxkK1xcKS87XG5cdHZhciBwYXJzZUxpbmVQYXR0ZXJuID0gL1tcXC88XFwoXSguKz8pOihcXGQrKTooXFxkKylcXCk/XFxzKiQvO1xuXHR2YXIgc3RhY2tGcmFtZVBhdHRlcm4gPSBudWxsO1xuXHR2YXIgZm9ybWF0U3RhY2sgPSBudWxsO1xuXHR2YXIgaW5kZW50U3RhY2tGcmFtZXMgPSBmYWxzZTtcblx0dmFyIHByaW50V2FybmluZztcblx0dmFyIGRlYnVnZ2luZyA9ICEhKHV0aWwuZW52KFwiQkxVRUJJUkRfREVCVUdcIikgIT0gMCAmJlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAodHJ1ZSB8fFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbC5lbnYoXCJCTFVFQklSRF9ERUJVR1wiKSB8fFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbC5lbnYoXCJOT0RFX0VOVlwiKSA9PT0gXCJkZXZlbG9wbWVudFwiKSk7XG5cdFxuXHR2YXIgd2FybmluZ3MgPSAhISh1dGlsLmVudihcIkJMVUVCSVJEX1dBUk5JTkdTXCIpICE9IDAgJiZcblx0ICAgIChkZWJ1Z2dpbmcgfHwgdXRpbC5lbnYoXCJCTFVFQklSRF9XQVJOSU5HU1wiKSkpO1xuXHRcblx0dmFyIGxvbmdTdGFja1RyYWNlcyA9ICEhKHV0aWwuZW52KFwiQkxVRUJJUkRfTE9OR19TVEFDS19UUkFDRVNcIikgIT0gMCAmJlxuXHQgICAgKGRlYnVnZ2luZyB8fCB1dGlsLmVudihcIkJMVUVCSVJEX0xPTkdfU1RBQ0tfVFJBQ0VTXCIpKSk7XG5cdFxuXHR2YXIgd0ZvcmdvdHRlblJldHVybiA9IHV0aWwuZW52KFwiQkxVRUJJUkRfV19GT1JHT1RURU5fUkVUVVJOXCIpICE9IDAgJiZcblx0ICAgICh3YXJuaW5ncyB8fCAhIXV0aWwuZW52KFwiQkxVRUJJUkRfV19GT1JHT1RURU5fUkVUVVJOXCIpKTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIHRhcmdldCA9IHRoaXMuX3RhcmdldCgpO1xuXHQgICAgdGFyZ2V0Ll9iaXRGaWVsZCA9ICgodGFyZ2V0Ll9iaXRGaWVsZCAmICh+MTA0ODU3NikpIHxcblx0ICAgICAgICAgICAgICAgICAgICAgIDUyNDI4OCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fZW5zdXJlUG9zc2libGVSZWplY3Rpb25IYW5kbGVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKCh0aGlzLl9iaXRGaWVsZCAmIDUyNDI4OCkgIT09IDApIHJldHVybjtcblx0ICAgIHRoaXMuX3NldFJlamVjdGlvbklzVW5oYW5kbGVkKCk7XG5cdCAgICBhc3luYy5pbnZva2VMYXRlcih0aGlzLl9ub3RpZnlVbmhhbmRsZWRSZWplY3Rpb24sIHRoaXMsIHVuZGVmaW5lZCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fbm90aWZ5VW5oYW5kbGVkUmVqZWN0aW9uSXNIYW5kbGVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgZmlyZVJlamVjdGlvbkV2ZW50KFwicmVqZWN0aW9uSGFuZGxlZFwiLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlZCwgdW5kZWZpbmVkLCB0aGlzKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9zZXRSZXR1cm5lZE5vblVuZGVmaW5lZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCB8IDI2ODQzNTQ1Njtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9yZXR1cm5lZE5vblVuZGVmaW5lZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDI2ODQzNTQ1NikgIT09IDA7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fbm90aWZ5VW5oYW5kbGVkUmVqZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHRoaXMuX2lzUmVqZWN0aW9uVW5oYW5kbGVkKCkpIHtcblx0ICAgICAgICB2YXIgcmVhc29uID0gdGhpcy5fc2V0dGxlZFZhbHVlKCk7XG5cdCAgICAgICAgdGhpcy5fc2V0VW5oYW5kbGVkUmVqZWN0aW9uSXNOb3RpZmllZCgpO1xuXHQgICAgICAgIGZpcmVSZWplY3Rpb25FdmVudChcInVuaGFuZGxlZFJlamVjdGlvblwiLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmx5VW5oYW5kbGVkUmVqZWN0aW9uLCByZWFzb24sIHRoaXMpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3NldFVuaGFuZGxlZFJlamVjdGlvbklzTm90aWZpZWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgMjYyMTQ0O1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3Vuc2V0VW5oYW5kbGVkUmVqZWN0aW9uSXNOb3RpZmllZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgJiAofjI2MjE0NCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5faXNVbmhhbmRsZWRSZWplY3Rpb25Ob3RpZmllZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiAyNjIxNDQpID4gMDtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCAxMDQ4NTc2O1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3Vuc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkICYgKH4xMDQ4NTc2KTtcblx0ICAgIGlmICh0aGlzLl9pc1VuaGFuZGxlZFJlamVjdGlvbk5vdGlmaWVkKCkpIHtcblx0ICAgICAgICB0aGlzLl91bnNldFVuaGFuZGxlZFJlamVjdGlvbklzTm90aWZpZWQoKTtcblx0ICAgICAgICB0aGlzLl9ub3RpZnlVbmhhbmRsZWRSZWplY3Rpb25Jc0hhbmRsZWQoKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9pc1JlamVjdGlvblVuaGFuZGxlZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiAxMDQ4NTc2KSA+IDA7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fd2FybiA9IGZ1bmN0aW9uKG1lc3NhZ2UsIHNob3VsZFVzZU93blRyYWNlLCBwcm9taXNlKSB7XG5cdCAgICByZXR1cm4gd2FybihtZXNzYWdlLCBzaG91bGRVc2VPd25UcmFjZSwgcHJvbWlzZSB8fCB0aGlzKTtcblx0fTtcblx0XG5cdFByb21pc2Uub25Qb3NzaWJseVVuaGFuZGxlZFJlamVjdGlvbiA9IGZ1bmN0aW9uIChmbikge1xuXHQgICAgdmFyIGRvbWFpbiA9IGdldERvbWFpbigpO1xuXHQgICAgcG9zc2libHlVbmhhbmRsZWRSZWplY3Rpb24gPVxuXHQgICAgICAgIHR5cGVvZiBmbiA9PT0gXCJmdW5jdGlvblwiID8gKGRvbWFpbiA9PT0gbnVsbCA/XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm4gOiB1dGlsLmRvbWFpbkJpbmQoZG9tYWluLCBmbikpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5vblVuaGFuZGxlZFJlamVjdGlvbkhhbmRsZWQgPSBmdW5jdGlvbiAoZm4pIHtcblx0ICAgIHZhciBkb21haW4gPSBnZXREb21haW4oKTtcblx0ICAgIHVuaGFuZGxlZFJlamVjdGlvbkhhbmRsZWQgPVxuXHQgICAgICAgIHR5cGVvZiBmbiA9PT0gXCJmdW5jdGlvblwiID8gKGRvbWFpbiA9PT0gbnVsbCA/XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm4gOiB1dGlsLmRvbWFpbkJpbmQoZG9tYWluLCBmbikpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuXHR9O1xuXHRcblx0dmFyIGRpc2FibGVMb25nU3RhY2tUcmFjZXMgPSBmdW5jdGlvbigpIHt9O1xuXHRQcm9taXNlLmxvbmdTdGFja1RyYWNlcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmIChhc3luYy5oYXZlSXRlbXNRdWV1ZWQoKSAmJiAhY29uZmlnLmxvbmdTdGFja1RyYWNlcykge1xuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNhbm5vdCBlbmFibGUgbG9uZyBzdGFjayB0cmFjZXMgYWZ0ZXIgcHJvbWlzZXMgaGF2ZSBiZWVuIGNyZWF0ZWRcXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuXHQgICAgfVxuXHQgICAgaWYgKCFjb25maWcubG9uZ1N0YWNrVHJhY2VzICYmIGxvbmdTdGFja1RyYWNlc0lzU3VwcG9ydGVkKCkpIHtcblx0ICAgICAgICB2YXIgUHJvbWlzZV9jYXB0dXJlU3RhY2tUcmFjZSA9IFByb21pc2UucHJvdG90eXBlLl9jYXB0dXJlU3RhY2tUcmFjZTtcblx0ICAgICAgICB2YXIgUHJvbWlzZV9hdHRhY2hFeHRyYVRyYWNlID0gUHJvbWlzZS5wcm90b3R5cGUuX2F0dGFjaEV4dHJhVHJhY2U7XG5cdCAgICAgICAgY29uZmlnLmxvbmdTdGFja1RyYWNlcyA9IHRydWU7XG5cdCAgICAgICAgZGlzYWJsZUxvbmdTdGFja1RyYWNlcyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICBpZiAoYXN5bmMuaGF2ZUl0ZW1zUXVldWVkKCkgJiYgIWNvbmZpZy5sb25nU3RhY2tUcmFjZXMpIHtcblx0ICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNhbm5vdCBlbmFibGUgbG9uZyBzdGFjayB0cmFjZXMgYWZ0ZXIgcHJvbWlzZXMgaGF2ZSBiZWVuIGNyZWF0ZWRcXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIFByb21pc2UucHJvdG90eXBlLl9jYXB0dXJlU3RhY2tUcmFjZSA9IFByb21pc2VfY2FwdHVyZVN0YWNrVHJhY2U7XG5cdCAgICAgICAgICAgIFByb21pc2UucHJvdG90eXBlLl9hdHRhY2hFeHRyYVRyYWNlID0gUHJvbWlzZV9hdHRhY2hFeHRyYVRyYWNlO1xuXHQgICAgICAgICAgICBDb250ZXh0LmRlYWN0aXZhdGVMb25nU3RhY2tUcmFjZXMoKTtcblx0ICAgICAgICAgICAgYXN5bmMuZW5hYmxlVHJhbXBvbGluZSgpO1xuXHQgICAgICAgICAgICBjb25maWcubG9uZ1N0YWNrVHJhY2VzID0gZmFsc2U7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fY2FwdHVyZVN0YWNrVHJhY2UgPSBsb25nU3RhY2tUcmFjZXNDYXB0dXJlU3RhY2tUcmFjZTtcblx0ICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fYXR0YWNoRXh0cmFUcmFjZSA9IGxvbmdTdGFja1RyYWNlc0F0dGFjaEV4dHJhVHJhY2U7XG5cdCAgICAgICAgQ29udGV4dC5hY3RpdmF0ZUxvbmdTdGFja1RyYWNlcygpO1xuXHQgICAgICAgIGFzeW5jLmRpc2FibGVUcmFtcG9saW5lSWZOZWNlc3NhcnkoKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdFByb21pc2UuaGFzTG9uZ1N0YWNrVHJhY2VzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIGNvbmZpZy5sb25nU3RhY2tUcmFjZXMgJiYgbG9uZ1N0YWNrVHJhY2VzSXNTdXBwb3J0ZWQoKTtcblx0fTtcblx0XG5cdHZhciBmaXJlRG9tRXZlbnQgPSAoZnVuY3Rpb24oKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGlmICh0eXBlb2YgQ3VzdG9tRXZlbnQgPT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgICAgICB2YXIgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXCJDdXN0b21FdmVudFwiKTtcblx0ICAgICAgICAgICAgdXRpbC5nbG9iYWwuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cdCAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihuYW1lLCBldmVudCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGRvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KG5hbWUudG9Mb3dlckNhc2UoKSwge1xuXHQgICAgICAgICAgICAgICAgICAgIGRldGFpbDogZXZlbnQsXG5cdCAgICAgICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gIXV0aWwuZ2xvYmFsLmRpc3BhdGNoRXZlbnQoZG9tRXZlbnQpO1xuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIEV2ZW50ID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgdmFyIGV2ZW50ID0gbmV3IEV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7XG5cdCAgICAgICAgICAgIHV0aWwuZ2xvYmFsLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXHQgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24obmFtZSwgZXZlbnQpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBkb21FdmVudCA9IG5ldyBFdmVudChuYW1lLnRvTG93ZXJDYXNlKCksIHtcblx0ICAgICAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIGRvbUV2ZW50LmRldGFpbCA9IGV2ZW50O1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuICF1dGlsLmdsb2JhbC5kaXNwYXRjaEV2ZW50KGRvbUV2ZW50KTtcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB2YXIgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIkN1c3RvbUV2ZW50XCIpO1xuXHQgICAgICAgICAgICBldmVudC5pbml0Q3VzdG9tRXZlbnQoXCJ0ZXN0aW5ndGhlZXZlbnRcIiwgZmFsc2UsIHRydWUsIHt9KTtcblx0ICAgICAgICAgICAgdXRpbC5nbG9iYWwuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cdCAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihuYW1lLCBldmVudCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGRvbUV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJDdXN0b21FdmVudFwiKTtcblx0ICAgICAgICAgICAgICAgIGRvbUV2ZW50LmluaXRDdXN0b21FdmVudChuYW1lLnRvTG93ZXJDYXNlKCksIGZhbHNlLCB0cnVlLFxuXHQgICAgICAgICAgICAgICAgICAgIGV2ZW50KTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiAhdXRpbC5nbG9iYWwuZGlzcGF0Y2hFdmVudChkb21FdmVudCk7XG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZSkge31cblx0ICAgIHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9O1xuXHR9KSgpO1xuXHRcblx0dmFyIGZpcmVHbG9iYWxFdmVudCA9IChmdW5jdGlvbigpIHtcblx0ICAgIGlmICh1dGlsLmlzTm9kZSkge1xuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3MuZW1pdC5hcHBseShwcm9jZXNzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgIH07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlmICghdXRpbC5nbG9iYWwpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24obmFtZSkge1xuXHQgICAgICAgICAgICB2YXIgbWV0aG9kTmFtZSA9IFwib25cIiArIG5hbWUudG9Mb3dlckNhc2UoKTtcblx0ICAgICAgICAgICAgdmFyIG1ldGhvZCA9IHV0aWwuZ2xvYmFsW21ldGhvZE5hbWVdO1xuXHQgICAgICAgICAgICBpZiAoIW1ldGhvZCkgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgICBtZXRob2QuYXBwbHkodXRpbC5nbG9iYWwsIFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG5cdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdH0pKCk7XG5cdFxuXHRmdW5jdGlvbiBnZW5lcmF0ZVByb21pc2VMaWZlY3ljbGVFdmVudE9iamVjdChuYW1lLCBwcm9taXNlKSB7XG5cdCAgICByZXR1cm4ge3Byb21pc2U6IHByb21pc2V9O1xuXHR9XG5cdFxuXHR2YXIgZXZlbnRUb09iamVjdEdlbmVyYXRvciA9IHtcblx0ICAgIHByb21pc2VDcmVhdGVkOiBnZW5lcmF0ZVByb21pc2VMaWZlY3ljbGVFdmVudE9iamVjdCxcblx0ICAgIHByb21pc2VGdWxmaWxsZWQ6IGdlbmVyYXRlUHJvbWlzZUxpZmVjeWNsZUV2ZW50T2JqZWN0LFxuXHQgICAgcHJvbWlzZVJlamVjdGVkOiBnZW5lcmF0ZVByb21pc2VMaWZlY3ljbGVFdmVudE9iamVjdCxcblx0ICAgIHByb21pc2VSZXNvbHZlZDogZ2VuZXJhdGVQcm9taXNlTGlmZWN5Y2xlRXZlbnRPYmplY3QsXG5cdCAgICBwcm9taXNlQ2FuY2VsbGVkOiBnZW5lcmF0ZVByb21pc2VMaWZlY3ljbGVFdmVudE9iamVjdCxcblx0ICAgIHByb21pc2VDaGFpbmVkOiBmdW5jdGlvbihuYW1lLCBwcm9taXNlLCBjaGlsZCkge1xuXHQgICAgICAgIHJldHVybiB7cHJvbWlzZTogcHJvbWlzZSwgY2hpbGQ6IGNoaWxkfTtcblx0ICAgIH0sXG5cdCAgICB3YXJuaW5nOiBmdW5jdGlvbihuYW1lLCB3YXJuaW5nKSB7XG5cdCAgICAgICAgcmV0dXJuIHt3YXJuaW5nOiB3YXJuaW5nfTtcblx0ICAgIH0sXG5cdCAgICB1bmhhbmRsZWRSZWplY3Rpb246IGZ1bmN0aW9uIChuYW1lLCByZWFzb24sIHByb21pc2UpIHtcblx0ICAgICAgICByZXR1cm4ge3JlYXNvbjogcmVhc29uLCBwcm9taXNlOiBwcm9taXNlfTtcblx0ICAgIH0sXG5cdCAgICByZWplY3Rpb25IYW5kbGVkOiBnZW5lcmF0ZVByb21pc2VMaWZlY3ljbGVFdmVudE9iamVjdFxuXHR9O1xuXHRcblx0dmFyIGFjdGl2ZUZpcmVFdmVudCA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgICB2YXIgZ2xvYmFsRXZlbnRGaXJlZCA9IGZhbHNlO1xuXHQgICAgdHJ5IHtcblx0ICAgICAgICBnbG9iYWxFdmVudEZpcmVkID0gZmlyZUdsb2JhbEV2ZW50LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgYXN5bmMudGhyb3dMYXRlcihlKTtcblx0ICAgICAgICBnbG9iYWxFdmVudEZpcmVkID0gdHJ1ZTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgZG9tRXZlbnRGaXJlZCA9IGZhbHNlO1xuXHQgICAgdHJ5IHtcblx0ICAgICAgICBkb21FdmVudEZpcmVkID0gZmlyZURvbUV2ZW50KG5hbWUsXG5cdCAgICAgICAgICAgICAgICAgICAgZXZlbnRUb09iamVjdEdlbmVyYXRvcltuYW1lXS5hcHBseShudWxsLCBhcmd1bWVudHMpKTtcblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICBhc3luYy50aHJvd0xhdGVyKGUpO1xuXHQgICAgICAgIGRvbUV2ZW50RmlyZWQgPSB0cnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBkb21FdmVudEZpcmVkIHx8IGdsb2JhbEV2ZW50RmlyZWQ7XG5cdH07XG5cdFxuXHRQcm9taXNlLmNvbmZpZyA9IGZ1bmN0aW9uKG9wdHMpIHtcblx0ICAgIG9wdHMgPSBPYmplY3Qob3B0cyk7XG5cdCAgICBpZiAoXCJsb25nU3RhY2tUcmFjZXNcIiBpbiBvcHRzKSB7XG5cdCAgICAgICAgaWYgKG9wdHMubG9uZ1N0YWNrVHJhY2VzKSB7XG5cdCAgICAgICAgICAgIFByb21pc2UubG9uZ1N0YWNrVHJhY2VzKCk7XG5cdCAgICAgICAgfSBlbHNlIGlmICghb3B0cy5sb25nU3RhY2tUcmFjZXMgJiYgUHJvbWlzZS5oYXNMb25nU3RhY2tUcmFjZXMoKSkge1xuXHQgICAgICAgICAgICBkaXNhYmxlTG9uZ1N0YWNrVHJhY2VzKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgaWYgKFwid2FybmluZ3NcIiBpbiBvcHRzKSB7XG5cdCAgICAgICAgdmFyIHdhcm5pbmdzT3B0aW9uID0gb3B0cy53YXJuaW5ncztcblx0ICAgICAgICBjb25maWcud2FybmluZ3MgPSAhIXdhcm5pbmdzT3B0aW9uO1xuXHQgICAgICAgIHdGb3Jnb3R0ZW5SZXR1cm4gPSBjb25maWcud2FybmluZ3M7XG5cdFxuXHQgICAgICAgIGlmICh1dGlsLmlzT2JqZWN0KHdhcm5pbmdzT3B0aW9uKSkge1xuXHQgICAgICAgICAgICBpZiAoXCJ3Rm9yZ290dGVuUmV0dXJuXCIgaW4gd2FybmluZ3NPcHRpb24pIHtcblx0ICAgICAgICAgICAgICAgIHdGb3Jnb3R0ZW5SZXR1cm4gPSAhIXdhcm5pbmdzT3B0aW9uLndGb3Jnb3R0ZW5SZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBpZiAoXCJjYW5jZWxsYXRpb25cIiBpbiBvcHRzICYmIG9wdHMuY2FuY2VsbGF0aW9uICYmICFjb25maWcuY2FuY2VsbGF0aW9uKSB7XG5cdCAgICAgICAgaWYgKGFzeW5jLmhhdmVJdGVtc1F1ZXVlZCgpKSB7XG5cdCAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcblx0ICAgICAgICAgICAgICAgIFwiY2Fubm90IGVuYWJsZSBjYW5jZWxsYXRpb24gYWZ0ZXIgcHJvbWlzZXMgYXJlIGluIHVzZVwiKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX2NsZWFyQ2FuY2VsbGF0aW9uRGF0YSA9XG5cdCAgICAgICAgICAgIGNhbmNlbGxhdGlvbkNsZWFyQ2FuY2VsbGF0aW9uRGF0YTtcblx0ICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fcHJvcGFnYXRlRnJvbSA9IGNhbmNlbGxhdGlvblByb3BhZ2F0ZUZyb207XG5cdCAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX29uQ2FuY2VsID0gY2FuY2VsbGF0aW9uT25DYW5jZWw7XG5cdCAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX3NldE9uQ2FuY2VsID0gY2FuY2VsbGF0aW9uU2V0T25DYW5jZWw7XG5cdCAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX2F0dGFjaENhbmNlbGxhdGlvbkNhbGxiYWNrID1cblx0ICAgICAgICAgICAgY2FuY2VsbGF0aW9uQXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2s7XG5cdCAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX2V4ZWN1dGUgPSBjYW5jZWxsYXRpb25FeGVjdXRlO1xuXHQgICAgICAgIHByb3BhZ2F0ZUZyb21GdW5jdGlvbiA9IGNhbmNlbGxhdGlvblByb3BhZ2F0ZUZyb207XG5cdCAgICAgICAgY29uZmlnLmNhbmNlbGxhdGlvbiA9IHRydWU7XG5cdCAgICB9XG5cdCAgICBpZiAoXCJtb25pdG9yaW5nXCIgaW4gb3B0cykge1xuXHQgICAgICAgIGlmIChvcHRzLm1vbml0b3JpbmcgJiYgIWNvbmZpZy5tb25pdG9yaW5nKSB7XG5cdCAgICAgICAgICAgIGNvbmZpZy5tb25pdG9yaW5nID0gdHJ1ZTtcblx0ICAgICAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX2ZpcmVFdmVudCA9IGFjdGl2ZUZpcmVFdmVudDtcblx0ICAgICAgICB9IGVsc2UgaWYgKCFvcHRzLm1vbml0b3JpbmcgJiYgY29uZmlnLm1vbml0b3JpbmcpIHtcblx0ICAgICAgICAgICAgY29uZmlnLm1vbml0b3JpbmcgPSBmYWxzZTtcblx0ICAgICAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX2ZpcmVFdmVudCA9IGRlZmF1bHRGaXJlRXZlbnQ7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gZGVmYXVsdEZpcmVFdmVudCgpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fZmlyZUV2ZW50ID0gZGVmYXVsdEZpcmVFdmVudDtcblx0UHJvbWlzZS5wcm90b3R5cGUuX2V4ZWN1dGUgPSBmdW5jdGlvbihleGVjdXRvciwgcmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGV4ZWN1dG9yKHJlc29sdmUsIHJlamVjdCk7XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgcmV0dXJuIGU7XG5cdCAgICB9XG5cdH07XG5cdFByb21pc2UucHJvdG90eXBlLl9vbkNhbmNlbCA9IGZ1bmN0aW9uICgpIHt9O1xuXHRQcm9taXNlLnByb3RvdHlwZS5fc2V0T25DYW5jZWwgPSBmdW5jdGlvbiAoaGFuZGxlcikgeyA7IH07XG5cdFByb21pc2UucHJvdG90eXBlLl9hdHRhY2hDYW5jZWxsYXRpb25DYWxsYmFjayA9IGZ1bmN0aW9uKG9uQ2FuY2VsKSB7XG5cdCAgICA7XG5cdH07XG5cdFByb21pc2UucHJvdG90eXBlLl9jYXB0dXJlU3RhY2tUcmFjZSA9IGZ1bmN0aW9uICgpIHt9O1xuXHRQcm9taXNlLnByb3RvdHlwZS5fYXR0YWNoRXh0cmFUcmFjZSA9IGZ1bmN0aW9uICgpIHt9O1xuXHRQcm9taXNlLnByb3RvdHlwZS5fY2xlYXJDYW5jZWxsYXRpb25EYXRhID0gZnVuY3Rpb24oKSB7fTtcblx0UHJvbWlzZS5wcm90b3R5cGUuX3Byb3BhZ2F0ZUZyb20gPSBmdW5jdGlvbiAocGFyZW50LCBmbGFncykge1xuXHQgICAgO1xuXHQgICAgO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gY2FuY2VsbGF0aW9uRXhlY3V0ZShleGVjdXRvciwgcmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGV4ZWN1dG9yKHJlc29sdmUsIHJlamVjdCwgZnVuY3Rpb24ob25DYW5jZWwpIHtcblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiBvbkNhbmNlbCAhPT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwib25DYW5jZWwgbXVzdCBiZSBhIGZ1bmN0aW9uLCBnb3Q6IFwiICtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbC50b1N0cmluZyhvbkNhbmNlbCkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHByb21pc2UuX2F0dGFjaENhbmNlbGxhdGlvbkNhbGxiYWNrKG9uQ2FuY2VsKTtcblx0ICAgICAgICB9KTtcblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICByZXR1cm4gZTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gY2FuY2VsbGF0aW9uQXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2sob25DYW5jZWwpIHtcblx0ICAgIGlmICghdGhpcy5faXNDYW5jZWxsYWJsZSgpKSByZXR1cm4gdGhpcztcblx0XG5cdCAgICB2YXIgcHJldmlvdXNPbkNhbmNlbCA9IHRoaXMuX29uQ2FuY2VsKCk7XG5cdCAgICBpZiAocHJldmlvdXNPbkNhbmNlbCAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgaWYgKHV0aWwuaXNBcnJheShwcmV2aW91c09uQ2FuY2VsKSkge1xuXHQgICAgICAgICAgICBwcmV2aW91c09uQ2FuY2VsLnB1c2gob25DYW5jZWwpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHRoaXMuX3NldE9uQ2FuY2VsKFtwcmV2aW91c09uQ2FuY2VsLCBvbkNhbmNlbF0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5fc2V0T25DYW5jZWwob25DYW5jZWwpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBjYW5jZWxsYXRpb25PbkNhbmNlbCgpIHtcblx0ICAgIHJldHVybiB0aGlzLl9vbkNhbmNlbEZpZWxkO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjYW5jZWxsYXRpb25TZXRPbkNhbmNlbChvbkNhbmNlbCkge1xuXHQgICAgdGhpcy5fb25DYW5jZWxGaWVsZCA9IG9uQ2FuY2VsO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjYW5jZWxsYXRpb25DbGVhckNhbmNlbGxhdGlvbkRhdGEoKSB7XG5cdCAgICB0aGlzLl9jYW5jZWxsYXRpb25QYXJlbnQgPSB1bmRlZmluZWQ7XG5cdCAgICB0aGlzLl9vbkNhbmNlbEZpZWxkID0gdW5kZWZpbmVkO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjYW5jZWxsYXRpb25Qcm9wYWdhdGVGcm9tKHBhcmVudCwgZmxhZ3MpIHtcblx0ICAgIGlmICgoZmxhZ3MgJiAxKSAhPT0gMCkge1xuXHQgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvblBhcmVudCA9IHBhcmVudDtcblx0ICAgICAgICB2YXIgYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbCA9IHBhcmVudC5fYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbDtcblx0ICAgICAgICBpZiAoYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgIGJyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwgPSAwO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBwYXJlbnQuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwgPSBicmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsICsgMTtcblx0ICAgIH1cblx0ICAgIGlmICgoZmxhZ3MgJiAyKSAhPT0gMCAmJiBwYXJlbnQuX2lzQm91bmQoKSkge1xuXHQgICAgICAgIHRoaXMuX3NldEJvdW5kVG8ocGFyZW50Ll9ib3VuZFRvKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gYmluZGluZ1Byb3BhZ2F0ZUZyb20ocGFyZW50LCBmbGFncykge1xuXHQgICAgaWYgKChmbGFncyAmIDIpICE9PSAwICYmIHBhcmVudC5faXNCb3VuZCgpKSB7XG5cdCAgICAgICAgdGhpcy5fc2V0Qm91bmRUbyhwYXJlbnQuX2JvdW5kVG8pO1xuXHQgICAgfVxuXHR9XG5cdHZhciBwcm9wYWdhdGVGcm9tRnVuY3Rpb24gPSBiaW5kaW5nUHJvcGFnYXRlRnJvbTtcblx0XG5cdGZ1bmN0aW9uIGJvdW5kVmFsdWVGdW5jdGlvbigpIHtcblx0ICAgIHZhciByZXQgPSB0aGlzLl9ib3VuZFRvO1xuXHQgICAgaWYgKHJldCAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgaWYgKHJldCBpbnN0YW5jZW9mIFByb21pc2UpIHtcblx0ICAgICAgICAgICAgaWYgKHJldC5pc0Z1bGZpbGxlZCgpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gcmV0LnZhbHVlKCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJldDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbG9uZ1N0YWNrVHJhY2VzQ2FwdHVyZVN0YWNrVHJhY2UoKSB7XG5cdCAgICB0aGlzLl90cmFjZSA9IG5ldyBDYXB0dXJlZFRyYWNlKHRoaXMuX3BlZWtDb250ZXh0KCkpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBsb25nU3RhY2tUcmFjZXNBdHRhY2hFeHRyYVRyYWNlKGVycm9yLCBpZ25vcmVTZWxmKSB7XG5cdCAgICBpZiAoY2FuQXR0YWNoVHJhY2UoZXJyb3IpKSB7XG5cdCAgICAgICAgdmFyIHRyYWNlID0gdGhpcy5fdHJhY2U7XG5cdCAgICAgICAgaWYgKHRyYWNlICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgaWYgKGlnbm9yZVNlbGYpIHRyYWNlID0gdHJhY2UuX3BhcmVudDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKHRyYWNlICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgdHJhY2UuYXR0YWNoRXh0cmFUcmFjZShlcnJvcik7XG5cdCAgICAgICAgfSBlbHNlIGlmICghZXJyb3IuX19zdGFja0NsZWFuZWRfXykge1xuXHQgICAgICAgICAgICB2YXIgcGFyc2VkID0gcGFyc2VTdGFja0FuZE1lc3NhZ2UoZXJyb3IpO1xuXHQgICAgICAgICAgICB1dGlsLm5vdEVudW1lcmFibGVQcm9wKGVycm9yLCBcInN0YWNrXCIsXG5cdCAgICAgICAgICAgICAgICBwYXJzZWQubWVzc2FnZSArIFwiXFxuXCIgKyBwYXJzZWQuc3RhY2suam9pbihcIlxcblwiKSk7XG5cdCAgICAgICAgICAgIHV0aWwubm90RW51bWVyYWJsZVByb3AoZXJyb3IsIFwiX19zdGFja0NsZWFuZWRfX1wiLCB0cnVlKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNoZWNrRm9yZ290dGVuUmV0dXJucyhyZXR1cm5WYWx1ZSwgcHJvbWlzZUNyZWF0ZWQsIG5hbWUsIHByb21pc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQpIHtcblx0ICAgIGlmIChyZXR1cm5WYWx1ZSA9PT0gdW5kZWZpbmVkICYmIHByb21pc2VDcmVhdGVkICE9PSBudWxsICYmXG5cdCAgICAgICAgd0ZvcmdvdHRlblJldHVybikge1xuXHQgICAgICAgIGlmIChwYXJlbnQgIT09IHVuZGVmaW5lZCAmJiBwYXJlbnQuX3JldHVybmVkTm9uVW5kZWZpbmVkKCkpIHJldHVybjtcblx0ICAgICAgICBpZiAoKHByb21pc2UuX2JpdEZpZWxkICYgNjU1MzUpID09PSAwKSByZXR1cm47XG5cdFxuXHQgICAgICAgIGlmIChuYW1lKSBuYW1lID0gbmFtZSArIFwiIFwiO1xuXHQgICAgICAgIHZhciBoYW5kbGVyTGluZSA9IFwiXCI7XG5cdCAgICAgICAgdmFyIGNyZWF0b3JMaW5lID0gXCJcIjtcblx0ICAgICAgICBpZiAocHJvbWlzZUNyZWF0ZWQuX3RyYWNlKSB7XG5cdCAgICAgICAgICAgIHZhciB0cmFjZUxpbmVzID0gcHJvbWlzZUNyZWF0ZWQuX3RyYWNlLnN0YWNrLnNwbGl0KFwiXFxuXCIpO1xuXHQgICAgICAgICAgICB2YXIgc3RhY2sgPSBjbGVhblN0YWNrKHRyYWNlTGluZXMpO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gc3RhY2subGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBsaW5lID0gc3RhY2tbaV07XG5cdCAgICAgICAgICAgICAgICBpZiAoIW5vZGVGcmFtZVBhdHRlcm4udGVzdChsaW5lKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBsaW5lTWF0Y2hlcyA9IGxpbmUubWF0Y2gocGFyc2VMaW5lUGF0dGVybik7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmVNYXRjaGVzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXJMaW5lICA9IFwiYXQgXCIgKyBsaW5lTWF0Y2hlc1sxXSArXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjpcIiArIGxpbmVNYXRjaGVzWzJdICsgXCI6XCIgKyBsaW5lTWF0Y2hlc1szXSArIFwiIFwiO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgaWYgKHN0YWNrLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgICAgIHZhciBmaXJzdFVzZXJMaW5lID0gc3RhY2tbMF07XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyYWNlTGluZXMubGVuZ3RoOyArK2kpIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNlTGluZXNbaV0gPT09IGZpcnN0VXNlckxpbmUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdG9yTGluZSA9IFwiXFxuXCIgKyB0cmFjZUxpbmVzW2kgLSAxXTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBtc2cgPSBcImEgcHJvbWlzZSB3YXMgY3JlYXRlZCBpbiBhIFwiICsgbmFtZSArXG5cdCAgICAgICAgICAgIFwiaGFuZGxlciBcIiArIGhhbmRsZXJMaW5lICsgXCJidXQgd2FzIG5vdCByZXR1cm5lZCBmcm9tIGl0LCBcIiArXG5cdCAgICAgICAgICAgIFwic2VlIGh0dHA6Ly9nb28uZ2wvclJxTVV3XCIgK1xuXHQgICAgICAgICAgICBjcmVhdG9yTGluZTtcblx0ICAgICAgICBwcm9taXNlLl93YXJuKG1zZywgdHJ1ZSwgcHJvbWlzZUNyZWF0ZWQpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBkZXByZWNhdGVkKG5hbWUsIHJlcGxhY2VtZW50KSB7XG5cdCAgICB2YXIgbWVzc2FnZSA9IG5hbWUgK1xuXHQgICAgICAgIFwiIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSB2ZXJzaW9uLlwiO1xuXHQgICAgaWYgKHJlcGxhY2VtZW50KSBtZXNzYWdlICs9IFwiIFVzZSBcIiArIHJlcGxhY2VtZW50ICsgXCIgaW5zdGVhZC5cIjtcblx0ICAgIHJldHVybiB3YXJuKG1lc3NhZ2UpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB3YXJuKG1lc3NhZ2UsIHNob3VsZFVzZU93blRyYWNlLCBwcm9taXNlKSB7XG5cdCAgICBpZiAoIWNvbmZpZy53YXJuaW5ncykgcmV0dXJuO1xuXHQgICAgdmFyIHdhcm5pbmcgPSBuZXcgV2FybmluZyhtZXNzYWdlKTtcblx0ICAgIHZhciBjdHg7XG5cdCAgICBpZiAoc2hvdWxkVXNlT3duVHJhY2UpIHtcblx0ICAgICAgICBwcm9taXNlLl9hdHRhY2hFeHRyYVRyYWNlKHdhcm5pbmcpO1xuXHQgICAgfSBlbHNlIGlmIChjb25maWcubG9uZ1N0YWNrVHJhY2VzICYmIChjdHggPSBQcm9taXNlLl9wZWVrQ29udGV4dCgpKSkge1xuXHQgICAgICAgIGN0eC5hdHRhY2hFeHRyYVRyYWNlKHdhcm5pbmcpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgcGFyc2VkID0gcGFyc2VTdGFja0FuZE1lc3NhZ2Uod2FybmluZyk7XG5cdCAgICAgICAgd2FybmluZy5zdGFjayA9IHBhcnNlZC5tZXNzYWdlICsgXCJcXG5cIiArIHBhcnNlZC5zdGFjay5qb2luKFwiXFxuXCIpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICghYWN0aXZlRmlyZUV2ZW50KFwid2FybmluZ1wiLCB3YXJuaW5nKSkge1xuXHQgICAgICAgIGZvcm1hdEFuZExvZ0Vycm9yKHdhcm5pbmcsIFwiXCIsIHRydWUpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWNvbnN0cnVjdFN0YWNrKG1lc3NhZ2UsIHN0YWNrcykge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFja3MubGVuZ3RoIC0gMTsgKytpKSB7XG5cdCAgICAgICAgc3RhY2tzW2ldLnB1c2goXCJGcm9tIHByZXZpb3VzIGV2ZW50OlwiKTtcblx0ICAgICAgICBzdGFja3NbaV0gPSBzdGFja3NbaV0uam9pbihcIlxcblwiKTtcblx0ICAgIH1cblx0ICAgIGlmIChpIDwgc3RhY2tzLmxlbmd0aCkge1xuXHQgICAgICAgIHN0YWNrc1tpXSA9IHN0YWNrc1tpXS5qb2luKFwiXFxuXCIpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG1lc3NhZ2UgKyBcIlxcblwiICsgc3RhY2tzLmpvaW4oXCJcXG5cIik7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlbW92ZUR1cGxpY2F0ZU9yRW1wdHlKdW1wcyhzdGFja3MpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2tzLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgaWYgKHN0YWNrc1tpXS5sZW5ndGggPT09IDAgfHxcblx0ICAgICAgICAgICAgKChpICsgMSA8IHN0YWNrcy5sZW5ndGgpICYmIHN0YWNrc1tpXVswXSA9PT0gc3RhY2tzW2krMV1bMF0pKSB7XG5cdCAgICAgICAgICAgIHN0YWNrcy5zcGxpY2UoaSwgMSk7XG5cdCAgICAgICAgICAgIGktLTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlbW92ZUNvbW1vblJvb3RzKHN0YWNrcykge1xuXHQgICAgdmFyIGN1cnJlbnQgPSBzdGFja3NbMF07XG5cdCAgICBmb3IgKHZhciBpID0gMTsgaSA8IHN0YWNrcy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgIHZhciBwcmV2ID0gc3RhY2tzW2ldO1xuXHQgICAgICAgIHZhciBjdXJyZW50TGFzdEluZGV4ID0gY3VycmVudC5sZW5ndGggLSAxO1xuXHQgICAgICAgIHZhciBjdXJyZW50TGFzdExpbmUgPSBjdXJyZW50W2N1cnJlbnRMYXN0SW5kZXhdO1xuXHQgICAgICAgIHZhciBjb21tb25Sb290TWVldFBvaW50ID0gLTE7XG5cdFxuXHQgICAgICAgIGZvciAodmFyIGogPSBwcmV2Lmxlbmd0aCAtIDE7IGogPj0gMDsgLS1qKSB7XG5cdCAgICAgICAgICAgIGlmIChwcmV2W2pdID09PSBjdXJyZW50TGFzdExpbmUpIHtcblx0ICAgICAgICAgICAgICAgIGNvbW1vblJvb3RNZWV0UG9pbnQgPSBqO1xuXHQgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGZvciAodmFyIGogPSBjb21tb25Sb290TWVldFBvaW50OyBqID49IDA7IC0taikge1xuXHQgICAgICAgICAgICB2YXIgbGluZSA9IHByZXZbal07XG5cdCAgICAgICAgICAgIGlmIChjdXJyZW50W2N1cnJlbnRMYXN0SW5kZXhdID09PSBsaW5lKSB7XG5cdCAgICAgICAgICAgICAgICBjdXJyZW50LnBvcCgpO1xuXHQgICAgICAgICAgICAgICAgY3VycmVudExhc3RJbmRleC0tO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgY3VycmVudCA9IHByZXY7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNsZWFuU3RhY2soc3RhY2spIHtcblx0ICAgIHZhciByZXQgPSBbXTtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICB2YXIgbGluZSA9IHN0YWNrW2ldO1xuXHQgICAgICAgIHZhciBpc1RyYWNlTGluZSA9IFwiICAgIChObyBzdGFjayB0cmFjZSlcIiA9PT0gbGluZSB8fFxuXHQgICAgICAgICAgICBzdGFja0ZyYW1lUGF0dGVybi50ZXN0KGxpbmUpO1xuXHQgICAgICAgIHZhciBpc0ludGVybmFsRnJhbWUgPSBpc1RyYWNlTGluZSAmJiBzaG91bGRJZ25vcmUobGluZSk7XG5cdCAgICAgICAgaWYgKGlzVHJhY2VMaW5lICYmICFpc0ludGVybmFsRnJhbWUpIHtcblx0ICAgICAgICAgICAgaWYgKGluZGVudFN0YWNrRnJhbWVzICYmIGxpbmUuY2hhckF0KDApICE9PSBcIiBcIikge1xuXHQgICAgICAgICAgICAgICAgbGluZSA9IFwiICAgIFwiICsgbGluZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXQucHVzaChsaW5lKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmV0O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzdGFja0ZyYW1lc0FzQXJyYXkoZXJyb3IpIHtcblx0ICAgIHZhciBzdGFjayA9IGVycm9yLnN0YWNrLnJlcGxhY2UoL1xccyskL2csIFwiXCIpLnNwbGl0KFwiXFxuXCIpO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgIHZhciBsaW5lID0gc3RhY2tbaV07XG5cdCAgICAgICAgaWYgKFwiICAgIChObyBzdGFjayB0cmFjZSlcIiA9PT0gbGluZSB8fCBzdGFja0ZyYW1lUGF0dGVybi50ZXN0KGxpbmUpKSB7XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGlmIChpID4gMCkge1xuXHQgICAgICAgIHN0YWNrID0gc3RhY2suc2xpY2UoaSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gc3RhY2s7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHBhcnNlU3RhY2tBbmRNZXNzYWdlKGVycm9yKSB7XG5cdCAgICB2YXIgc3RhY2sgPSBlcnJvci5zdGFjaztcblx0ICAgIHZhciBtZXNzYWdlID0gZXJyb3IudG9TdHJpbmcoKTtcblx0ICAgIHN0YWNrID0gdHlwZW9mIHN0YWNrID09PSBcInN0cmluZ1wiICYmIHN0YWNrLmxlbmd0aCA+IDBcblx0ICAgICAgICAgICAgICAgID8gc3RhY2tGcmFtZXNBc0FycmF5KGVycm9yKSA6IFtcIiAgICAoTm8gc3RhY2sgdHJhY2UpXCJdO1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuXHQgICAgICAgIHN0YWNrOiBjbGVhblN0YWNrKHN0YWNrKVxuXHQgICAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZm9ybWF0QW5kTG9nRXJyb3IoZXJyb3IsIHRpdGxlLCBpc1NvZnQpIHtcblx0ICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHQgICAgICAgIHZhciBtZXNzYWdlO1xuXHQgICAgICAgIGlmICh1dGlsLmlzT2JqZWN0KGVycm9yKSkge1xuXHQgICAgICAgICAgICB2YXIgc3RhY2sgPSBlcnJvci5zdGFjaztcblx0ICAgICAgICAgICAgbWVzc2FnZSA9IHRpdGxlICsgZm9ybWF0U3RhY2soc3RhY2ssIGVycm9yKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBtZXNzYWdlID0gdGl0bGUgKyBTdHJpbmcoZXJyb3IpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAodHlwZW9mIHByaW50V2FybmluZyA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgIHByaW50V2FybmluZyhtZXNzYWdlLCBpc1NvZnQpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbnNvbGUubG9nID09PSBcImZ1bmN0aW9uXCIgfHxcblx0ICAgICAgICAgICAgdHlwZW9mIGNvbnNvbGUubG9nID09PSBcIm9iamVjdFwiKSB7XG5cdCAgICAgICAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZmlyZVJlamVjdGlvbkV2ZW50KG5hbWUsIGxvY2FsSGFuZGxlciwgcmVhc29uLCBwcm9taXNlKSB7XG5cdCAgICB2YXIgbG9jYWxFdmVudEZpcmVkID0gZmFsc2U7XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGlmICh0eXBlb2YgbG9jYWxIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgbG9jYWxFdmVudEZpcmVkID0gdHJ1ZTtcblx0ICAgICAgICAgICAgaWYgKG5hbWUgPT09IFwicmVqZWN0aW9uSGFuZGxlZFwiKSB7XG5cdCAgICAgICAgICAgICAgICBsb2NhbEhhbmRsZXIocHJvbWlzZSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBsb2NhbEhhbmRsZXIocmVhc29uLCBwcm9taXNlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICBhc3luYy50aHJvd0xhdGVyKGUpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChuYW1lID09PSBcInVuaGFuZGxlZFJlamVjdGlvblwiKSB7XG5cdCAgICAgICAgaWYgKCFhY3RpdmVGaXJlRXZlbnQobmFtZSwgcmVhc29uLCBwcm9taXNlKSAmJiAhbG9jYWxFdmVudEZpcmVkKSB7XG5cdCAgICAgICAgICAgIGZvcm1hdEFuZExvZ0Vycm9yKHJlYXNvbiwgXCJVbmhhbmRsZWQgcmVqZWN0aW9uIFwiKTtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGFjdGl2ZUZpcmVFdmVudChuYW1lLCBwcm9taXNlKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZm9ybWF0Tm9uRXJyb3Iob2JqKSB7XG5cdCAgICB2YXIgc3RyO1xuXHQgICAgaWYgKHR5cGVvZiBvYmogPT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgIHN0ciA9IFwiW2Z1bmN0aW9uIFwiICtcblx0ICAgICAgICAgICAgKG9iai5uYW1lIHx8IFwiYW5vbnltb3VzXCIpICtcblx0ICAgICAgICAgICAgXCJdXCI7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHN0ciA9IG9iaiAmJiB0eXBlb2Ygb2JqLnRvU3RyaW5nID09PSBcImZ1bmN0aW9uXCJcblx0ICAgICAgICAgICAgPyBvYmoudG9TdHJpbmcoKSA6IHV0aWwudG9TdHJpbmcob2JqKTtcblx0ICAgICAgICB2YXIgcnVzZWxlc3NUb1N0cmluZyA9IC9cXFtvYmplY3QgW2EtekEtWjAtOSRfXStcXF0vO1xuXHQgICAgICAgIGlmIChydXNlbGVzc1RvU3RyaW5nLnRlc3Qoc3RyKSkge1xuXHQgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgdmFyIG5ld1N0ciA9IEpTT04uc3RyaW5naWZ5KG9iaik7XG5cdCAgICAgICAgICAgICAgICBzdHIgPSBuZXdTdHI7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgY2F0Y2goZSkge1xuXHRcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoc3RyLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICAgICAgICBzdHIgPSBcIihlbXB0eSBhcnJheSlcIjtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gKFwiKDxcIiArIHNuaXAoc3RyKSArIFwiPiwgbm8gc3RhY2sgdHJhY2UpXCIpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzbmlwKHN0cikge1xuXHQgICAgdmFyIG1heENoYXJzID0gNDE7XG5cdCAgICBpZiAoc3RyLmxlbmd0aCA8IG1heENoYXJzKSB7XG5cdCAgICAgICAgcmV0dXJuIHN0cjtcblx0ICAgIH1cblx0ICAgIHJldHVybiBzdHIuc3Vic3RyKDAsIG1heENoYXJzIC0gMykgKyBcIi4uLlwiO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBsb25nU3RhY2tUcmFjZXNJc1N1cHBvcnRlZCgpIHtcblx0ICAgIHJldHVybiB0eXBlb2YgY2FwdHVyZVN0YWNrVHJhY2UgPT09IFwiZnVuY3Rpb25cIjtcblx0fVxuXHRcblx0dmFyIHNob3VsZElnbm9yZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gZmFsc2U7IH07XG5cdHZhciBwYXJzZUxpbmVJbmZvUmVnZXggPSAvW1xcLzxcXChdKFteOlxcL10rKTooXFxkKyk6KD86XFxkKylcXCk/XFxzKiQvO1xuXHRmdW5jdGlvbiBwYXJzZUxpbmVJbmZvKGxpbmUpIHtcblx0ICAgIHZhciBtYXRjaGVzID0gbGluZS5tYXRjaChwYXJzZUxpbmVJbmZvUmVnZXgpO1xuXHQgICAgaWYgKG1hdGNoZXMpIHtcblx0ICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICBmaWxlTmFtZTogbWF0Y2hlc1sxXSxcblx0ICAgICAgICAgICAgbGluZTogcGFyc2VJbnQobWF0Y2hlc1syXSwgMTApXG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gc2V0Qm91bmRzKGZpcnN0TGluZUVycm9yLCBsYXN0TGluZUVycm9yKSB7XG5cdCAgICBpZiAoIWxvbmdTdGFja1RyYWNlc0lzU3VwcG9ydGVkKCkpIHJldHVybjtcblx0ICAgIHZhciBmaXJzdFN0YWNrTGluZXMgPSBmaXJzdExpbmVFcnJvci5zdGFjay5zcGxpdChcIlxcblwiKTtcblx0ICAgIHZhciBsYXN0U3RhY2tMaW5lcyA9IGxhc3RMaW5lRXJyb3Iuc3RhY2suc3BsaXQoXCJcXG5cIik7XG5cdCAgICB2YXIgZmlyc3RJbmRleCA9IC0xO1xuXHQgICAgdmFyIGxhc3RJbmRleCA9IC0xO1xuXHQgICAgdmFyIGZpcnN0RmlsZU5hbWU7XG5cdCAgICB2YXIgbGFzdEZpbGVOYW1lO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaXJzdFN0YWNrTGluZXMubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gcGFyc2VMaW5lSW5mbyhmaXJzdFN0YWNrTGluZXNbaV0pO1xuXHQgICAgICAgIGlmIChyZXN1bHQpIHtcblx0ICAgICAgICAgICAgZmlyc3RGaWxlTmFtZSA9IHJlc3VsdC5maWxlTmFtZTtcblx0ICAgICAgICAgICAgZmlyc3RJbmRleCA9IHJlc3VsdC5saW5lO1xuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RTdGFja0xpbmVzLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgdmFyIHJlc3VsdCA9IHBhcnNlTGluZUluZm8obGFzdFN0YWNrTGluZXNbaV0pO1xuXHQgICAgICAgIGlmIChyZXN1bHQpIHtcblx0ICAgICAgICAgICAgbGFzdEZpbGVOYW1lID0gcmVzdWx0LmZpbGVOYW1lO1xuXHQgICAgICAgICAgICBsYXN0SW5kZXggPSByZXN1bHQubGluZTtcblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgaWYgKGZpcnN0SW5kZXggPCAwIHx8IGxhc3RJbmRleCA8IDAgfHwgIWZpcnN0RmlsZU5hbWUgfHwgIWxhc3RGaWxlTmFtZSB8fFxuXHQgICAgICAgIGZpcnN0RmlsZU5hbWUgIT09IGxhc3RGaWxlTmFtZSB8fCBmaXJzdEluZGV4ID49IGxhc3RJbmRleCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBzaG91bGRJZ25vcmUgPSBmdW5jdGlvbihsaW5lKSB7XG5cdCAgICAgICAgaWYgKGJsdWViaXJkRnJhbWVQYXR0ZXJuLnRlc3QobGluZSkpIHJldHVybiB0cnVlO1xuXHQgICAgICAgIHZhciBpbmZvID0gcGFyc2VMaW5lSW5mbyhsaW5lKTtcblx0ICAgICAgICBpZiAoaW5mbykge1xuXHQgICAgICAgICAgICBpZiAoaW5mby5maWxlTmFtZSA9PT0gZmlyc3RGaWxlTmFtZSAmJlxuXHQgICAgICAgICAgICAgICAgKGZpcnN0SW5kZXggPD0gaW5mby5saW5lICYmIGluZm8ubGluZSA8PSBsYXN0SW5kZXgpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBDYXB0dXJlZFRyYWNlKHBhcmVudCkge1xuXHQgICAgdGhpcy5fcGFyZW50ID0gcGFyZW50O1xuXHQgICAgdGhpcy5fcHJvbWlzZXNDcmVhdGVkID0gMDtcblx0ICAgIHZhciBsZW5ndGggPSB0aGlzLl9sZW5ndGggPSAxICsgKHBhcmVudCA9PT0gdW5kZWZpbmVkID8gMCA6IHBhcmVudC5fbGVuZ3RoKTtcblx0ICAgIGNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIENhcHR1cmVkVHJhY2UpO1xuXHQgICAgaWYgKGxlbmd0aCA+IDMyKSB0aGlzLnVuY3ljbGUoKTtcblx0fVxuXHR1dGlsLmluaGVyaXRzKENhcHR1cmVkVHJhY2UsIEVycm9yKTtcblx0Q29udGV4dC5DYXB0dXJlZFRyYWNlID0gQ2FwdHVyZWRUcmFjZTtcblx0XG5cdENhcHR1cmVkVHJhY2UucHJvdG90eXBlLnVuY3ljbGUgPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciBsZW5ndGggPSB0aGlzLl9sZW5ndGg7XG5cdCAgICBpZiAobGVuZ3RoIDwgMikgcmV0dXJuO1xuXHQgICAgdmFyIG5vZGVzID0gW107XG5cdCAgICB2YXIgc3RhY2tUb0luZGV4ID0ge307XG5cdFxuXHQgICAgZm9yICh2YXIgaSA9IDAsIG5vZGUgPSB0aGlzOyBub2RlICE9PSB1bmRlZmluZWQ7ICsraSkge1xuXHQgICAgICAgIG5vZGVzLnB1c2gobm9kZSk7XG5cdCAgICAgICAgbm9kZSA9IG5vZGUuX3BhcmVudDtcblx0ICAgIH1cblx0ICAgIGxlbmd0aCA9IHRoaXMuX2xlbmd0aCA9IGk7XG5cdCAgICBmb3IgKHZhciBpID0gbGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcblx0ICAgICAgICB2YXIgc3RhY2sgPSBub2Rlc1tpXS5zdGFjaztcblx0ICAgICAgICBpZiAoc3RhY2tUb0luZGV4W3N0YWNrXSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgIHN0YWNrVG9JbmRleFtzdGFja10gPSBpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICB2YXIgY3VycmVudFN0YWNrID0gbm9kZXNbaV0uc3RhY2s7XG5cdCAgICAgICAgdmFyIGluZGV4ID0gc3RhY2tUb0luZGV4W2N1cnJlbnRTdGFja107XG5cdCAgICAgICAgaWYgKGluZGV4ICE9PSB1bmRlZmluZWQgJiYgaW5kZXggIT09IGkpIHtcblx0ICAgICAgICAgICAgaWYgKGluZGV4ID4gMCkge1xuXHQgICAgICAgICAgICAgICAgbm9kZXNbaW5kZXggLSAxXS5fcGFyZW50ID0gdW5kZWZpbmVkO1xuXHQgICAgICAgICAgICAgICAgbm9kZXNbaW5kZXggLSAxXS5fbGVuZ3RoID0gMTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBub2Rlc1tpXS5fcGFyZW50ID0gdW5kZWZpbmVkO1xuXHQgICAgICAgICAgICBub2Rlc1tpXS5fbGVuZ3RoID0gMTtcblx0ICAgICAgICAgICAgdmFyIGN5Y2xlRWRnZU5vZGUgPSBpID4gMCA/IG5vZGVzW2kgLSAxXSA6IHRoaXM7XG5cdFxuXHQgICAgICAgICAgICBpZiAoaW5kZXggPCBsZW5ndGggLSAxKSB7XG5cdCAgICAgICAgICAgICAgICBjeWNsZUVkZ2VOb2RlLl9wYXJlbnQgPSBub2Rlc1tpbmRleCArIDFdO1xuXHQgICAgICAgICAgICAgICAgY3ljbGVFZGdlTm9kZS5fcGFyZW50LnVuY3ljbGUoKTtcblx0ICAgICAgICAgICAgICAgIGN5Y2xlRWRnZU5vZGUuX2xlbmd0aCA9XG5cdCAgICAgICAgICAgICAgICAgICAgY3ljbGVFZGdlTm9kZS5fcGFyZW50Ll9sZW5ndGggKyAxO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgY3ljbGVFZGdlTm9kZS5fcGFyZW50ID0gdW5kZWZpbmVkO1xuXHQgICAgICAgICAgICAgICAgY3ljbGVFZGdlTm9kZS5fbGVuZ3RoID0gMTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB2YXIgY3VycmVudENoaWxkTGVuZ3RoID0gY3ljbGVFZGdlTm9kZS5fbGVuZ3RoICsgMTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaiA9IGkgLSAyOyBqID49IDA7IC0taikge1xuXHQgICAgICAgICAgICAgICAgbm9kZXNbal0uX2xlbmd0aCA9IGN1cnJlbnRDaGlsZExlbmd0aDtcblx0ICAgICAgICAgICAgICAgIGN1cnJlbnRDaGlsZExlbmd0aCsrO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH07XG5cdFxuXHRDYXB0dXJlZFRyYWNlLnByb3RvdHlwZS5hdHRhY2hFeHRyYVRyYWNlID0gZnVuY3Rpb24oZXJyb3IpIHtcblx0ICAgIGlmIChlcnJvci5fX3N0YWNrQ2xlYW5lZF9fKSByZXR1cm47XG5cdCAgICB0aGlzLnVuY3ljbGUoKTtcblx0ICAgIHZhciBwYXJzZWQgPSBwYXJzZVN0YWNrQW5kTWVzc2FnZShlcnJvcik7XG5cdCAgICB2YXIgbWVzc2FnZSA9IHBhcnNlZC5tZXNzYWdlO1xuXHQgICAgdmFyIHN0YWNrcyA9IFtwYXJzZWQuc3RhY2tdO1xuXHRcblx0ICAgIHZhciB0cmFjZSA9IHRoaXM7XG5cdCAgICB3aGlsZSAodHJhY2UgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHN0YWNrcy5wdXNoKGNsZWFuU3RhY2sodHJhY2Uuc3RhY2suc3BsaXQoXCJcXG5cIikpKTtcblx0ICAgICAgICB0cmFjZSA9IHRyYWNlLl9wYXJlbnQ7XG5cdCAgICB9XG5cdCAgICByZW1vdmVDb21tb25Sb290cyhzdGFja3MpO1xuXHQgICAgcmVtb3ZlRHVwbGljYXRlT3JFbXB0eUp1bXBzKHN0YWNrcyk7XG5cdCAgICB1dGlsLm5vdEVudW1lcmFibGVQcm9wKGVycm9yLCBcInN0YWNrXCIsIHJlY29uc3RydWN0U3RhY2sobWVzc2FnZSwgc3RhY2tzKSk7XG5cdCAgICB1dGlsLm5vdEVudW1lcmFibGVQcm9wKGVycm9yLCBcIl9fc3RhY2tDbGVhbmVkX19cIiwgdHJ1ZSk7XG5cdH07XG5cdFxuXHR2YXIgY2FwdHVyZVN0YWNrVHJhY2UgPSAoZnVuY3Rpb24gc3RhY2tEZXRlY3Rpb24oKSB7XG5cdCAgICB2YXIgdjhzdGFja0ZyYW1lUGF0dGVybiA9IC9eXFxzKmF0XFxzKi87XG5cdCAgICB2YXIgdjhzdGFja0Zvcm1hdHRlciA9IGZ1bmN0aW9uKHN0YWNrLCBlcnJvcikge1xuXHQgICAgICAgIGlmICh0eXBlb2Ygc3RhY2sgPT09IFwic3RyaW5nXCIpIHJldHVybiBzdGFjaztcblx0XG5cdCAgICAgICAgaWYgKGVycm9yLm5hbWUgIT09IHVuZGVmaW5lZCAmJlxuXHQgICAgICAgICAgICBlcnJvci5tZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGVycm9yLnRvU3RyaW5nKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBmb3JtYXROb25FcnJvcihlcnJvcik7XG5cdCAgICB9O1xuXHRcblx0ICAgIGlmICh0eXBlb2YgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ID09PSBcIm51bWJlclwiICYmXG5cdCAgICAgICAgdHlwZW9mIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICBFcnJvci5zdGFja1RyYWNlTGltaXQgKz0gNjtcblx0ICAgICAgICBzdGFja0ZyYW1lUGF0dGVybiA9IHY4c3RhY2tGcmFtZVBhdHRlcm47XG5cdCAgICAgICAgZm9ybWF0U3RhY2sgPSB2OHN0YWNrRm9ybWF0dGVyO1xuXHQgICAgICAgIHZhciBjYXB0dXJlU3RhY2tUcmFjZSA9IEVycm9yLmNhcHR1cmVTdGFja1RyYWNlO1xuXHRcblx0ICAgICAgICBzaG91bGRJZ25vcmUgPSBmdW5jdGlvbihsaW5lKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBibHVlYmlyZEZyYW1lUGF0dGVybi50ZXN0KGxpbmUpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHJlY2VpdmVyLCBpZ25vcmVVbnRpbCkge1xuXHQgICAgICAgICAgICBFcnJvci5zdGFja1RyYWNlTGltaXQgKz0gNjtcblx0ICAgICAgICAgICAgY2FwdHVyZVN0YWNrVHJhY2UocmVjZWl2ZXIsIGlnbm9yZVVudGlsKTtcblx0ICAgICAgICAgICAgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0IC09IDY7XG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0ICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoKTtcblx0XG5cdCAgICBpZiAodHlwZW9mIGVyci5zdGFjayA9PT0gXCJzdHJpbmdcIiAmJlxuXHQgICAgICAgIGVyci5zdGFjay5zcGxpdChcIlxcblwiKVswXS5pbmRleE9mKFwic3RhY2tEZXRlY3Rpb25AXCIpID49IDApIHtcblx0ICAgICAgICBzdGFja0ZyYW1lUGF0dGVybiA9IC9ALztcblx0ICAgICAgICBmb3JtYXRTdGFjayA9IHY4c3RhY2tGb3JtYXR0ZXI7XG5cdCAgICAgICAgaW5kZW50U3RhY2tGcmFtZXMgPSB0cnVlO1xuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbiBjYXB0dXJlU3RhY2tUcmFjZShvKSB7XG5cdCAgICAgICAgICAgIG8uc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBoYXNTdGFja0FmdGVyVGhyb3c7XG5cdCAgICB0cnkgeyB0aHJvdyBuZXcgRXJyb3IoKTsgfVxuXHQgICAgY2F0Y2goZSkge1xuXHQgICAgICAgIGhhc1N0YWNrQWZ0ZXJUaHJvdyA9IChcInN0YWNrXCIgaW4gZSk7XG5cdCAgICB9XG5cdCAgICBpZiAoIShcInN0YWNrXCIgaW4gZXJyKSAmJiBoYXNTdGFja0FmdGVyVGhyb3cgJiZcblx0ICAgICAgICB0eXBlb2YgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ID09PSBcIm51bWJlclwiKSB7XG5cdCAgICAgICAgc3RhY2tGcmFtZVBhdHRlcm4gPSB2OHN0YWNrRnJhbWVQYXR0ZXJuO1xuXHQgICAgICAgIGZvcm1hdFN0YWNrID0gdjhzdGFja0Zvcm1hdHRlcjtcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24gY2FwdHVyZVN0YWNrVHJhY2Uobykge1xuXHQgICAgICAgICAgICBFcnJvci5zdGFja1RyYWNlTGltaXQgKz0gNjtcblx0ICAgICAgICAgICAgdHJ5IHsgdGhyb3cgbmV3IEVycm9yKCk7IH1cblx0ICAgICAgICAgICAgY2F0Y2goZSkgeyBvLnN0YWNrID0gZS5zdGFjazsgfVxuXHQgICAgICAgICAgICBFcnJvci5zdGFja1RyYWNlTGltaXQgLT0gNjtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHRcblx0ICAgIGZvcm1hdFN0YWNrID0gZnVuY3Rpb24oc3RhY2ssIGVycm9yKSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBzdGFjayA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHN0YWNrO1xuXHRcblx0ICAgICAgICBpZiAoKHR5cGVvZiBlcnJvciA9PT0gXCJvYmplY3RcIiB8fFxuXHQgICAgICAgICAgICB0eXBlb2YgZXJyb3IgPT09IFwiZnVuY3Rpb25cIikgJiZcblx0ICAgICAgICAgICAgZXJyb3IubmFtZSAhPT0gdW5kZWZpbmVkICYmXG5cdCAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICByZXR1cm4gZXJyb3IudG9TdHJpbmcoKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGZvcm1hdE5vbkVycm9yKGVycm9yKTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIG51bGw7XG5cdFxuXHR9KShbXSk7XG5cdFxuXHRpZiAodHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIGNvbnNvbGUud2FybiAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHQgICAgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcblx0ICAgICAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG5cdCAgICB9O1xuXHQgICAgaWYgKHV0aWwuaXNOb2RlICYmIHByb2Nlc3Muc3RkZXJyLmlzVFRZKSB7XG5cdCAgICAgICAgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24obWVzc2FnZSwgaXNTb2Z0KSB7XG5cdCAgICAgICAgICAgIHZhciBjb2xvciA9IGlzU29mdCA/IFwiXFx1MDAxYlszM21cIiA6IFwiXFx1MDAxYlszMW1cIjtcblx0ICAgICAgICAgICAgY29uc29sZS53YXJuKGNvbG9yICsgbWVzc2FnZSArIFwiXFx1MDAxYlswbVxcblwiKTtcblx0ICAgICAgICB9O1xuXHQgICAgfSBlbHNlIGlmICghdXRpbC5pc05vZGUgJiYgdHlwZW9mIChuZXcgRXJyb3IoKS5zdGFjaykgPT09IFwic3RyaW5nXCIpIHtcblx0ICAgICAgICBwcmludFdhcm5pbmcgPSBmdW5jdGlvbihtZXNzYWdlLCBpc1NvZnQpIHtcblx0ICAgICAgICAgICAgY29uc29sZS53YXJuKFwiJWNcIiArIG1lc3NhZ2UsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlzU29mdCA/IFwiY29sb3I6IGRhcmtvcmFuZ2VcIiA6IFwiY29sb3I6IHJlZFwiKTtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHR9XG5cdFxuXHR2YXIgY29uZmlnID0ge1xuXHQgICAgd2FybmluZ3M6IHdhcm5pbmdzLFxuXHQgICAgbG9uZ1N0YWNrVHJhY2VzOiBmYWxzZSxcblx0ICAgIGNhbmNlbGxhdGlvbjogZmFsc2UsXG5cdCAgICBtb25pdG9yaW5nOiBmYWxzZVxuXHR9O1xuXHRcblx0aWYgKGxvbmdTdGFja1RyYWNlcykgUHJvbWlzZS5sb25nU3RhY2tUcmFjZXMoKTtcblx0XG5cdHJldHVybiB7XG5cdCAgICBsb25nU3RhY2tUcmFjZXM6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBjb25maWcubG9uZ1N0YWNrVHJhY2VzO1xuXHQgICAgfSxcblx0ICAgIHdhcm5pbmdzOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gY29uZmlnLndhcm5pbmdzO1xuXHQgICAgfSxcblx0ICAgIGNhbmNlbGxhdGlvbjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIGNvbmZpZy5jYW5jZWxsYXRpb247XG5cdCAgICB9LFxuXHQgICAgbW9uaXRvcmluZzogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIGNvbmZpZy5tb25pdG9yaW5nO1xuXHQgICAgfSxcblx0ICAgIHByb3BhZ2F0ZUZyb21GdW5jdGlvbjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIHByb3BhZ2F0ZUZyb21GdW5jdGlvbjtcblx0ICAgIH0sXG5cdCAgICBib3VuZFZhbHVlRnVuY3Rpb246IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBib3VuZFZhbHVlRnVuY3Rpb247XG5cdCAgICB9LFxuXHQgICAgY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zOiBjaGVja0ZvcmdvdHRlblJldHVybnMsXG5cdCAgICBzZXRCb3VuZHM6IHNldEJvdW5kcyxcblx0ICAgIHdhcm46IHdhcm4sXG5cdCAgICBkZXByZWNhdGVkOiBkZXByZWNhdGVkLFxuXHQgICAgQ2FwdHVyZWRUcmFjZTogQ2FwdHVyZWRUcmFjZSxcblx0ICAgIGZpcmVEb21FdmVudDogZmlyZURvbUV2ZW50LFxuXHQgICAgZmlyZUdsb2JhbEV2ZW50OiBmaXJlR2xvYmFsRXZlbnRcblx0fTtcblx0fTtcblx0XG5cdH0se1wiLi9lcnJvcnNcIjoxMixcIi4vdXRpbFwiOjM2fV0sMTA6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlKSB7XG5cdGZ1bmN0aW9uIHJldHVybmVyKCkge1xuXHQgICAgcmV0dXJuIHRoaXMudmFsdWU7XG5cdH1cblx0ZnVuY3Rpb24gdGhyb3dlcigpIHtcblx0ICAgIHRocm93IHRoaXMucmVhc29uO1xuXHR9XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZVtcInJldHVyblwiXSA9XG5cdFByb21pc2UucHJvdG90eXBlLnRoZW5SZXR1cm4gPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHZhbHVlLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucygpO1xuXHQgICAgcmV0dXJuIHRoaXMuX3RoZW4oXG5cdCAgICAgICAgcmV0dXJuZXIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB7dmFsdWU6IHZhbHVlfSwgdW5kZWZpbmVkKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlW1widGhyb3dcIl0gPVxuXHRQcm9taXNlLnByb3RvdHlwZS50aGVuVGhyb3cgPSBmdW5jdGlvbiAocmVhc29uKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fdGhlbihcblx0ICAgICAgICB0aHJvd2VyLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwge3JlYXNvbjogcmVhc29ufSwgdW5kZWZpbmVkKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLmNhdGNoVGhyb3cgPSBmdW5jdGlvbiAocmVhc29uKSB7XG5cdCAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8PSAxKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX3RoZW4oXG5cdCAgICAgICAgICAgIHVuZGVmaW5lZCwgdGhyb3dlciwgdW5kZWZpbmVkLCB7cmVhc29uOiByZWFzb259LCB1bmRlZmluZWQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgX3JlYXNvbiA9IGFyZ3VtZW50c1sxXTtcblx0ICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uKCkge3Rocm93IF9yZWFzb247fTtcblx0ICAgICAgICByZXR1cm4gdGhpcy5jYXVnaHQocmVhc29uLCBoYW5kbGVyKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLmNhdGNoUmV0dXJuID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8PSAxKSB7XG5cdCAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkgdmFsdWUuc3VwcHJlc3NVbmhhbmRsZWRSZWplY3Rpb25zKCk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX3RoZW4oXG5cdCAgICAgICAgICAgIHVuZGVmaW5lZCwgcmV0dXJuZXIsIHVuZGVmaW5lZCwge3ZhbHVlOiB2YWx1ZX0sIHVuZGVmaW5lZCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciBfdmFsdWUgPSBhcmd1bWVudHNbMV07XG5cdCAgICAgICAgaWYgKF92YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIF92YWx1ZS5zdXBwcmVzc1VuaGFuZGxlZFJlamVjdGlvbnMoKTtcblx0ICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uKCkge3JldHVybiBfdmFsdWU7fTtcblx0ICAgICAgICByZXR1cm4gdGhpcy5jYXVnaHQodmFsdWUsIGhhbmRsZXIpO1xuXHQgICAgfVxuXHR9O1xuXHR9O1xuXHRcblx0fSx7fV0sMTE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLCBJTlRFUk5BTCkge1xuXHR2YXIgUHJvbWlzZVJlZHVjZSA9IFByb21pc2UucmVkdWNlO1xuXHR2YXIgUHJvbWlzZUFsbCA9IFByb21pc2UuYWxsO1xuXHRcblx0ZnVuY3Rpb24gcHJvbWlzZUFsbFRoaXMoKSB7XG5cdCAgICByZXR1cm4gUHJvbWlzZUFsbCh0aGlzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gUHJvbWlzZU1hcFNlcmllcyhwcm9taXNlcywgZm4pIHtcblx0ICAgIHJldHVybiBQcm9taXNlUmVkdWNlKHByb21pc2VzLCBmbiwgSU5URVJOQUwsIElOVEVSTkFMKTtcblx0fVxuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuZWFjaCA9IGZ1bmN0aW9uIChmbikge1xuXHQgICAgcmV0dXJuIFByb21pc2VSZWR1Y2UodGhpcywgZm4sIElOVEVSTkFMLCAwKVxuXHQgICAgICAgICAgICAgIC5fdGhlbihwcm9taXNlQWxsVGhpcywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHRoaXMsIHVuZGVmaW5lZCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5tYXBTZXJpZXMgPSBmdW5jdGlvbiAoZm4pIHtcblx0ICAgIHJldHVybiBQcm9taXNlUmVkdWNlKHRoaXMsIGZuLCBJTlRFUk5BTCwgSU5URVJOQUwpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5lYWNoID0gZnVuY3Rpb24gKHByb21pc2VzLCBmbikge1xuXHQgICAgcmV0dXJuIFByb21pc2VSZWR1Y2UocHJvbWlzZXMsIGZuLCBJTlRFUk5BTCwgMClcblx0ICAgICAgICAgICAgICAuX3RoZW4ocHJvbWlzZUFsbFRoaXMsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBwcm9taXNlcywgdW5kZWZpbmVkKTtcblx0fTtcblx0XG5cdFByb21pc2UubWFwU2VyaWVzID0gUHJvbWlzZU1hcFNlcmllcztcblx0fTtcblx0XG5cdFxuXHR9LHt9XSwxMjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgZXM1ID0gX2RlcmVxXyhcIi4vZXM1XCIpO1xuXHR2YXIgT2JqZWN0ZnJlZXplID0gZXM1LmZyZWV6ZTtcblx0dmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXHR2YXIgaW5oZXJpdHMgPSB1dGlsLmluaGVyaXRzO1xuXHR2YXIgbm90RW51bWVyYWJsZVByb3AgPSB1dGlsLm5vdEVudW1lcmFibGVQcm9wO1xuXHRcblx0ZnVuY3Rpb24gc3ViRXJyb3IobmFtZVByb3BlcnR5LCBkZWZhdWx0TWVzc2FnZSkge1xuXHQgICAgZnVuY3Rpb24gU3ViRXJyb3IobWVzc2FnZSkge1xuXHQgICAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTdWJFcnJvcikpIHJldHVybiBuZXcgU3ViRXJyb3IobWVzc2FnZSk7XG5cdCAgICAgICAgbm90RW51bWVyYWJsZVByb3AodGhpcywgXCJtZXNzYWdlXCIsXG5cdCAgICAgICAgICAgIHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiID8gbWVzc2FnZSA6IGRlZmF1bHRNZXNzYWdlKTtcblx0ICAgICAgICBub3RFbnVtZXJhYmxlUHJvcCh0aGlzLCBcIm5hbWVcIiwgbmFtZVByb3BlcnR5KTtcblx0ICAgICAgICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcblx0ICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgRXJyb3IuY2FsbCh0aGlzKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBpbmhlcml0cyhTdWJFcnJvciwgRXJyb3IpO1xuXHQgICAgcmV0dXJuIFN1YkVycm9yO1xuXHR9XG5cdFxuXHR2YXIgX1R5cGVFcnJvciwgX1JhbmdlRXJyb3I7XG5cdHZhciBXYXJuaW5nID0gc3ViRXJyb3IoXCJXYXJuaW5nXCIsIFwid2FybmluZ1wiKTtcblx0dmFyIENhbmNlbGxhdGlvbkVycm9yID0gc3ViRXJyb3IoXCJDYW5jZWxsYXRpb25FcnJvclwiLCBcImNhbmNlbGxhdGlvbiBlcnJvclwiKTtcblx0dmFyIFRpbWVvdXRFcnJvciA9IHN1YkVycm9yKFwiVGltZW91dEVycm9yXCIsIFwidGltZW91dCBlcnJvclwiKTtcblx0dmFyIEFnZ3JlZ2F0ZUVycm9yID0gc3ViRXJyb3IoXCJBZ2dyZWdhdGVFcnJvclwiLCBcImFnZ3JlZ2F0ZSBlcnJvclwiKTtcblx0dHJ5IHtcblx0ICAgIF9UeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cdCAgICBfUmFuZ2VFcnJvciA9IFJhbmdlRXJyb3I7XG5cdH0gY2F0Y2goZSkge1xuXHQgICAgX1R5cGVFcnJvciA9IHN1YkVycm9yKFwiVHlwZUVycm9yXCIsIFwidHlwZSBlcnJvclwiKTtcblx0ICAgIF9SYW5nZUVycm9yID0gc3ViRXJyb3IoXCJSYW5nZUVycm9yXCIsIFwicmFuZ2UgZXJyb3JcIik7XG5cdH1cblx0XG5cdHZhciBtZXRob2RzID0gKFwiam9pbiBwb3AgcHVzaCBzaGlmdCB1bnNoaWZ0IHNsaWNlIGZpbHRlciBmb3JFYWNoIHNvbWUgXCIgK1xuXHQgICAgXCJldmVyeSBtYXAgaW5kZXhPZiBsYXN0SW5kZXhPZiByZWR1Y2UgcmVkdWNlUmlnaHQgc29ydCByZXZlcnNlXCIpLnNwbGl0KFwiIFwiKTtcblx0XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbWV0aG9kcy5sZW5ndGg7ICsraSkge1xuXHQgICAgaWYgKHR5cGVvZiBBcnJheS5wcm90b3R5cGVbbWV0aG9kc1tpXV0gPT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgIEFnZ3JlZ2F0ZUVycm9yLnByb3RvdHlwZVttZXRob2RzW2ldXSA9IEFycmF5LnByb3RvdHlwZVttZXRob2RzW2ldXTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZXM1LmRlZmluZVByb3BlcnR5KEFnZ3JlZ2F0ZUVycm9yLnByb3RvdHlwZSwgXCJsZW5ndGhcIiwge1xuXHQgICAgdmFsdWU6IDAsXG5cdCAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuXHQgICAgd3JpdGFibGU6IHRydWUsXG5cdCAgICBlbnVtZXJhYmxlOiB0cnVlXG5cdH0pO1xuXHRBZ2dyZWdhdGVFcnJvci5wcm90b3R5cGVbXCJpc09wZXJhdGlvbmFsXCJdID0gdHJ1ZTtcblx0dmFyIGxldmVsID0gMDtcblx0QWdncmVnYXRlRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgaW5kZW50ID0gQXJyYXkobGV2ZWwgKiA0ICsgMSkuam9pbihcIiBcIik7XG5cdCAgICB2YXIgcmV0ID0gXCJcXG5cIiArIGluZGVudCArIFwiQWdncmVnYXRlRXJyb3Igb2Y6XCIgKyBcIlxcblwiO1xuXHQgICAgbGV2ZWwrKztcblx0ICAgIGluZGVudCA9IEFycmF5KGxldmVsICogNCArIDEpLmpvaW4oXCIgXCIpO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgdmFyIHN0ciA9IHRoaXNbaV0gPT09IHRoaXMgPyBcIltDaXJjdWxhciBBZ2dyZWdhdGVFcnJvcl1cIiA6IHRoaXNbaV0gKyBcIlwiO1xuXHQgICAgICAgIHZhciBsaW5lcyA9IHN0ci5zcGxpdChcIlxcblwiKTtcblx0ICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxpbmVzLmxlbmd0aDsgKytqKSB7XG5cdCAgICAgICAgICAgIGxpbmVzW2pdID0gaW5kZW50ICsgbGluZXNbal07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHN0ciA9IGxpbmVzLmpvaW4oXCJcXG5cIik7XG5cdCAgICAgICAgcmV0ICs9IHN0ciArIFwiXFxuXCI7XG5cdCAgICB9XG5cdCAgICBsZXZlbC0tO1xuXHQgICAgcmV0dXJuIHJldDtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIE9wZXJhdGlvbmFsRXJyb3IobWVzc2FnZSkge1xuXHQgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE9wZXJhdGlvbmFsRXJyb3IpKVxuXHQgICAgICAgIHJldHVybiBuZXcgT3BlcmF0aW9uYWxFcnJvcihtZXNzYWdlKTtcblx0ICAgIG5vdEVudW1lcmFibGVQcm9wKHRoaXMsIFwibmFtZVwiLCBcIk9wZXJhdGlvbmFsRXJyb3JcIik7XG5cdCAgICBub3RFbnVtZXJhYmxlUHJvcCh0aGlzLCBcIm1lc3NhZ2VcIiwgbWVzc2FnZSk7XG5cdCAgICB0aGlzLmNhdXNlID0gbWVzc2FnZTtcblx0ICAgIHRoaXNbXCJpc09wZXJhdGlvbmFsXCJdID0gdHJ1ZTtcblx0XG5cdCAgICBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdCAgICAgICAgbm90RW51bWVyYWJsZVByb3AodGhpcywgXCJtZXNzYWdlXCIsIG1lc3NhZ2UubWVzc2FnZSk7XG5cdCAgICAgICAgbm90RW51bWVyYWJsZVByb3AodGhpcywgXCJzdGFja1wiLCBtZXNzYWdlLnN0YWNrKTtcblx0ICAgIH0gZWxzZSBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcblx0ICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTtcblx0ICAgIH1cblx0XG5cdH1cblx0aW5oZXJpdHMoT3BlcmF0aW9uYWxFcnJvciwgRXJyb3IpO1xuXHRcblx0dmFyIGVycm9yVHlwZXMgPSBFcnJvcltcIl9fQmx1ZWJpcmRFcnJvclR5cGVzX19cIl07XG5cdGlmICghZXJyb3JUeXBlcykge1xuXHQgICAgZXJyb3JUeXBlcyA9IE9iamVjdGZyZWV6ZSh7XG5cdCAgICAgICAgQ2FuY2VsbGF0aW9uRXJyb3I6IENhbmNlbGxhdGlvbkVycm9yLFxuXHQgICAgICAgIFRpbWVvdXRFcnJvcjogVGltZW91dEVycm9yLFxuXHQgICAgICAgIE9wZXJhdGlvbmFsRXJyb3I6IE9wZXJhdGlvbmFsRXJyb3IsXG5cdCAgICAgICAgUmVqZWN0aW9uRXJyb3I6IE9wZXJhdGlvbmFsRXJyb3IsXG5cdCAgICAgICAgQWdncmVnYXRlRXJyb3I6IEFnZ3JlZ2F0ZUVycm9yXG5cdCAgICB9KTtcblx0ICAgIGVzNS5kZWZpbmVQcm9wZXJ0eShFcnJvciwgXCJfX0JsdWViaXJkRXJyb3JUeXBlc19fXCIsIHtcblx0ICAgICAgICB2YWx1ZTogZXJyb3JUeXBlcyxcblx0ICAgICAgICB3cml0YWJsZTogZmFsc2UsXG5cdCAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG5cdCAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZVxuXHQgICAgfSk7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgICAgRXJyb3I6IEVycm9yLFxuXHQgICAgVHlwZUVycm9yOiBfVHlwZUVycm9yLFxuXHQgICAgUmFuZ2VFcnJvcjogX1JhbmdlRXJyb3IsXG5cdCAgICBDYW5jZWxsYXRpb25FcnJvcjogZXJyb3JUeXBlcy5DYW5jZWxsYXRpb25FcnJvcixcblx0ICAgIE9wZXJhdGlvbmFsRXJyb3I6IGVycm9yVHlwZXMuT3BlcmF0aW9uYWxFcnJvcixcblx0ICAgIFRpbWVvdXRFcnJvcjogZXJyb3JUeXBlcy5UaW1lb3V0RXJyb3IsXG5cdCAgICBBZ2dyZWdhdGVFcnJvcjogZXJyb3JUeXBlcy5BZ2dyZWdhdGVFcnJvcixcblx0ICAgIFdhcm5pbmc6IFdhcm5pbmdcblx0fTtcblx0XG5cdH0se1wiLi9lczVcIjoxMyxcIi4vdXRpbFwiOjM2fV0sMTM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHR2YXIgaXNFUzUgPSAoZnVuY3Rpb24oKXtcblx0ICAgIFwidXNlIHN0cmljdFwiO1xuXHQgICAgcmV0dXJuIHRoaXMgPT09IHVuZGVmaW5lZDtcblx0fSkoKTtcblx0XG5cdGlmIChpc0VTNSkge1xuXHQgICAgbW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgICAgICAgZnJlZXplOiBPYmplY3QuZnJlZXplLFxuXHQgICAgICAgIGRlZmluZVByb3BlcnR5OiBPYmplY3QuZGVmaW5lUHJvcGVydHksXG5cdCAgICAgICAgZ2V0RGVzY3JpcHRvcjogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixcblx0ICAgICAgICBrZXlzOiBPYmplY3Qua2V5cyxcblx0ICAgICAgICBuYW1lczogT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMsXG5cdCAgICAgICAgZ2V0UHJvdG90eXBlT2Y6IE9iamVjdC5nZXRQcm90b3R5cGVPZixcblx0ICAgICAgICBpc0FycmF5OiBBcnJheS5pc0FycmF5LFxuXHQgICAgICAgIGlzRVM1OiBpc0VTNSxcblx0ICAgICAgICBwcm9wZXJ0eUlzV3JpdGFibGU6IGZ1bmN0aW9uKG9iaiwgcHJvcCkge1xuXHQgICAgICAgICAgICB2YXIgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBwcm9wKTtcblx0ICAgICAgICAgICAgcmV0dXJuICEhKCFkZXNjcmlwdG9yIHx8IGRlc2NyaXB0b3Iud3JpdGFibGUgfHwgZGVzY3JpcHRvci5zZXQpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdH0gZWxzZSB7XG5cdCAgICB2YXIgaGFzID0ge30uaGFzT3duUHJvcGVydHk7XG5cdCAgICB2YXIgc3RyID0ge30udG9TdHJpbmc7XG5cdCAgICB2YXIgcHJvdG8gPSB7fS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cdFxuXHQgICAgdmFyIE9iamVjdEtleXMgPSBmdW5jdGlvbiAobykge1xuXHQgICAgICAgIHZhciByZXQgPSBbXTtcblx0ICAgICAgICBmb3IgKHZhciBrZXkgaW4gbykge1xuXHQgICAgICAgICAgICBpZiAoaGFzLmNhbGwobywga2V5KSkge1xuXHQgICAgICAgICAgICAgICAgcmV0LnB1c2goa2V5KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgfTtcblx0XG5cdCAgICB2YXIgT2JqZWN0R2V0RGVzY3JpcHRvciA9IGZ1bmN0aW9uKG8sIGtleSkge1xuXHQgICAgICAgIHJldHVybiB7dmFsdWU6IG9ba2V5XX07XG5cdCAgICB9O1xuXHRcblx0ICAgIHZhciBPYmplY3REZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIChvLCBrZXksIGRlc2MpIHtcblx0ICAgICAgICBvW2tleV0gPSBkZXNjLnZhbHVlO1xuXHQgICAgICAgIHJldHVybiBvO1xuXHQgICAgfTtcblx0XG5cdCAgICB2YXIgT2JqZWN0RnJlZXplID0gZnVuY3Rpb24gKG9iaikge1xuXHQgICAgICAgIHJldHVybiBvYmo7XG5cdCAgICB9O1xuXHRcblx0ICAgIHZhciBPYmplY3RHZXRQcm90b3R5cGVPZiA9IGZ1bmN0aW9uIChvYmopIHtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICByZXR1cm4gT2JqZWN0KG9iaikuY29uc3RydWN0b3IucHJvdG90eXBlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBjYXRjaCAoZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gcHJvdG87XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICB2YXIgQXJyYXlJc0FycmF5ID0gZnVuY3Rpb24gKG9iaikge1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIHJldHVybiBzdHIuY2FsbChvYmopID09PSBcIltvYmplY3QgQXJyYXldXCI7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGNhdGNoKGUpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgbW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgICAgICAgaXNBcnJheTogQXJyYXlJc0FycmF5LFxuXHQgICAgICAgIGtleXM6IE9iamVjdEtleXMsXG5cdCAgICAgICAgbmFtZXM6IE9iamVjdEtleXMsXG5cdCAgICAgICAgZGVmaW5lUHJvcGVydHk6IE9iamVjdERlZmluZVByb3BlcnR5LFxuXHQgICAgICAgIGdldERlc2NyaXB0b3I6IE9iamVjdEdldERlc2NyaXB0b3IsXG5cdCAgICAgICAgZnJlZXplOiBPYmplY3RGcmVlemUsXG5cdCAgICAgICAgZ2V0UHJvdG90eXBlT2Y6IE9iamVjdEdldFByb3RvdHlwZU9mLFxuXHQgICAgICAgIGlzRVM1OiBpc0VTNSxcblx0ICAgICAgICBwcm9wZXJ0eUlzV3JpdGFibGU6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHR9XG5cdFxuXHR9LHt9XSwxNDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIElOVEVSTkFMKSB7XG5cdHZhciBQcm9taXNlTWFwID0gUHJvbWlzZS5tYXA7XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbiAoZm4sIG9wdGlvbnMpIHtcblx0ICAgIHJldHVybiBQcm9taXNlTWFwKHRoaXMsIGZuLCBvcHRpb25zLCBJTlRFUk5BTCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLmZpbHRlciA9IGZ1bmN0aW9uIChwcm9taXNlcywgZm4sIG9wdGlvbnMpIHtcblx0ICAgIHJldHVybiBQcm9taXNlTWFwKHByb21pc2VzLCBmbiwgb3B0aW9ucywgSU5URVJOQUwpO1xuXHR9O1xuXHR9O1xuXHRcblx0fSx7fV0sMTU6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLCB0cnlDb252ZXJ0VG9Qcm9taXNlKSB7XG5cdHZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcblx0dmFyIENhbmNlbGxhdGlvbkVycm9yID0gUHJvbWlzZS5DYW5jZWxsYXRpb25FcnJvcjtcblx0dmFyIGVycm9yT2JqID0gdXRpbC5lcnJvck9iajtcblx0XG5cdGZ1bmN0aW9uIFBhc3NUaHJvdWdoSGFuZGxlckNvbnRleHQocHJvbWlzZSwgdHlwZSwgaGFuZGxlcikge1xuXHQgICAgdGhpcy5wcm9taXNlID0gcHJvbWlzZTtcblx0ICAgIHRoaXMudHlwZSA9IHR5cGU7XG5cdCAgICB0aGlzLmhhbmRsZXIgPSBoYW5kbGVyO1xuXHQgICAgdGhpcy5jYWxsZWQgPSBmYWxzZTtcblx0ICAgIHRoaXMuY2FuY2VsUHJvbWlzZSA9IG51bGw7XG5cdH1cblx0XG5cdFBhc3NUaHJvdWdoSGFuZGxlckNvbnRleHQucHJvdG90eXBlLmlzRmluYWxseUhhbmRsZXIgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiB0aGlzLnR5cGUgPT09IDA7XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBGaW5hbGx5SGFuZGxlckNhbmNlbFJlYWN0aW9uKGZpbmFsbHlIYW5kbGVyKSB7XG5cdCAgICB0aGlzLmZpbmFsbHlIYW5kbGVyID0gZmluYWxseUhhbmRsZXI7XG5cdH1cblx0XG5cdEZpbmFsbHlIYW5kbGVyQ2FuY2VsUmVhY3Rpb24ucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcblx0ICAgIGNoZWNrQ2FuY2VsKHRoaXMuZmluYWxseUhhbmRsZXIpO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gY2hlY2tDYW5jZWwoY3R4LCByZWFzb24pIHtcblx0ICAgIGlmIChjdHguY2FuY2VsUHJvbWlzZSAhPSBudWxsKSB7XG5cdCAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG5cdCAgICAgICAgICAgIGN0eC5jYW5jZWxQcm9taXNlLl9yZWplY3QocmVhc29uKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBjdHguY2FuY2VsUHJvbWlzZS5fY2FuY2VsKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGN0eC5jYW5jZWxQcm9taXNlID0gbnVsbDtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBmYWxzZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc3VjY2VlZCgpIHtcblx0ICAgIHJldHVybiBmaW5hbGx5SGFuZGxlci5jYWxsKHRoaXMsIHRoaXMucHJvbWlzZS5fdGFyZ2V0KCkuX3NldHRsZWRWYWx1ZSgpKTtcblx0fVxuXHRmdW5jdGlvbiBmYWlsKHJlYXNvbikge1xuXHQgICAgaWYgKGNoZWNrQ2FuY2VsKHRoaXMsIHJlYXNvbikpIHJldHVybjtcblx0ICAgIGVycm9yT2JqLmUgPSByZWFzb247XG5cdCAgICByZXR1cm4gZXJyb3JPYmo7XG5cdH1cblx0ZnVuY3Rpb24gZmluYWxseUhhbmRsZXIocmVhc29uT3JWYWx1ZSkge1xuXHQgICAgdmFyIHByb21pc2UgPSB0aGlzLnByb21pc2U7XG5cdCAgICB2YXIgaGFuZGxlciA9IHRoaXMuaGFuZGxlcjtcblx0XG5cdCAgICBpZiAoIXRoaXMuY2FsbGVkKSB7XG5cdCAgICAgICAgdGhpcy5jYWxsZWQgPSB0cnVlO1xuXHQgICAgICAgIHZhciByZXQgPSB0aGlzLmlzRmluYWxseUhhbmRsZXIoKVxuXHQgICAgICAgICAgICA/IGhhbmRsZXIuY2FsbChwcm9taXNlLl9ib3VuZFZhbHVlKCkpXG5cdCAgICAgICAgICAgIDogaGFuZGxlci5jYWxsKHByb21pc2UuX2JvdW5kVmFsdWUoKSwgcmVhc29uT3JWYWx1ZSk7XG5cdCAgICAgICAgaWYgKHJldCAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgIHByb21pc2UuX3NldFJldHVybmVkTm9uVW5kZWZpbmVkKCk7XG5cdCAgICAgICAgICAgIHZhciBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHJldCwgcHJvbWlzZSk7XG5cdCAgICAgICAgICAgIGlmIChtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW5jZWxQcm9taXNlICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAobWF5YmVQcm9taXNlLl9pc0NhbmNlbGxlZCgpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWFzb24gPVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENhbmNlbGxhdGlvbkVycm9yKFwibGF0ZSBjYW5jZWxsYXRpb24gb2JzZXJ2ZXJcIik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2UuX2F0dGFjaEV4dHJhVHJhY2UocmVhc29uKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JPYmouZSA9IHJlYXNvbjtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yT2JqO1xuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWF5YmVQcm9taXNlLmlzUGVuZGluZygpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlUHJvbWlzZS5fYXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2soXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgRmluYWxseUhhbmRsZXJDYW5jZWxSZWFjdGlvbih0aGlzKSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG1heWJlUHJvbWlzZS5fdGhlbihcblx0ICAgICAgICAgICAgICAgICAgICBzdWNjZWVkLCBmYWlsLCB1bmRlZmluZWQsIHRoaXMsIHVuZGVmaW5lZCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHByb21pc2UuaXNSZWplY3RlZCgpKSB7XG5cdCAgICAgICAgY2hlY2tDYW5jZWwodGhpcyk7XG5cdCAgICAgICAgZXJyb3JPYmouZSA9IHJlYXNvbk9yVmFsdWU7XG5cdCAgICAgICAgcmV0dXJuIGVycm9yT2JqO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBjaGVja0NhbmNlbCh0aGlzKTtcblx0ICAgICAgICByZXR1cm4gcmVhc29uT3JWYWx1ZTtcblx0ICAgIH1cblx0fVxuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3Bhc3NUaHJvdWdoID0gZnVuY3Rpb24oaGFuZGxlciwgdHlwZSwgc3VjY2VzcywgZmFpbCkge1xuXHQgICAgaWYgKHR5cGVvZiBoYW5kbGVyICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0aGlzLnRoZW4oKTtcblx0ICAgIHJldHVybiB0aGlzLl90aGVuKHN1Y2Nlc3MsXG5cdCAgICAgICAgICAgICAgICAgICAgICBmYWlsLFxuXHQgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuXHQgICAgICAgICAgICAgICAgICAgICAgbmV3IFBhc3NUaHJvdWdoSGFuZGxlckNvbnRleHQodGhpcywgdHlwZSwgaGFuZGxlciksXG5cdCAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUubGFzdGx5ID1cblx0UHJvbWlzZS5wcm90b3R5cGVbXCJmaW5hbGx5XCJdID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcblx0ICAgIHJldHVybiB0aGlzLl9wYXNzVGhyb3VnaChoYW5kbGVyLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxseUhhbmRsZXIsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxseUhhbmRsZXIpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUudGFwID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcblx0ICAgIHJldHVybiB0aGlzLl9wYXNzVGhyb3VnaChoYW5kbGVyLCAxLCBmaW5hbGx5SGFuZGxlcik7XG5cdH07XG5cdFxuXHRyZXR1cm4gUGFzc1Rocm91Z2hIYW5kbGVyQ29udGV4dDtcblx0fTtcblx0XG5cdH0se1wiLi91dGlsXCI6MzZ9XSwxNjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpUmVqZWN0aW9uLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgIElOVEVSTkFMLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeUNvbnZlcnRUb1Byb21pc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgUHJveHlhYmxlLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKSB7XG5cdHZhciBlcnJvcnMgPSBfZGVyZXFfKFwiLi9lcnJvcnNcIik7XG5cdHZhciBUeXBlRXJyb3IgPSBlcnJvcnMuVHlwZUVycm9yO1xuXHR2YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cdHZhciBlcnJvck9iaiA9IHV0aWwuZXJyb3JPYmo7XG5cdHZhciB0cnlDYXRjaCA9IHV0aWwudHJ5Q2F0Y2g7XG5cdHZhciB5aWVsZEhhbmRsZXJzID0gW107XG5cdFxuXHRmdW5jdGlvbiBwcm9taXNlRnJvbVlpZWxkSGFuZGxlcih2YWx1ZSwgeWllbGRIYW5kbGVycywgdHJhY2VQYXJlbnQpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeWllbGRIYW5kbGVycy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgIHRyYWNlUGFyZW50Ll9wdXNoQ29udGV4dCgpO1xuXHQgICAgICAgIHZhciByZXN1bHQgPSB0cnlDYXRjaCh5aWVsZEhhbmRsZXJzW2ldKSh2YWx1ZSk7XG5cdCAgICAgICAgdHJhY2VQYXJlbnQuX3BvcENvbnRleHQoKTtcblx0ICAgICAgICBpZiAocmVzdWx0ID09PSBlcnJvck9iaikge1xuXHQgICAgICAgICAgICB0cmFjZVBhcmVudC5fcHVzaENvbnRleHQoKTtcblx0ICAgICAgICAgICAgdmFyIHJldCA9IFByb21pc2UucmVqZWN0KGVycm9yT2JqLmUpO1xuXHQgICAgICAgICAgICB0cmFjZVBhcmVudC5fcG9wQ29udGV4dCgpO1xuXHQgICAgICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gdHJ5Q29udmVydFRvUHJvbWlzZShyZXN1bHQsIHRyYWNlUGFyZW50KTtcblx0ICAgICAgICBpZiAobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkgcmV0dXJuIG1heWJlUHJvbWlzZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBudWxsO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBQcm9taXNlU3Bhd24oZ2VuZXJhdG9yRnVuY3Rpb24sIHJlY2VpdmVyLCB5aWVsZEhhbmRsZXIsIHN0YWNrKSB7XG5cdCAgICBpZiAoZGVidWcuY2FuY2VsbGF0aW9uKCkpIHtcblx0ICAgICAgICB2YXIgaW50ZXJuYWwgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG5cdCAgICAgICAgdmFyIF9maW5hbGx5UHJvbWlzZSA9IHRoaXMuX2ZpbmFsbHlQcm9taXNlID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuXHQgICAgICAgIHRoaXMuX3Byb21pc2UgPSBpbnRlcm5hbC5sYXN0bHkoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfZmluYWxseVByb21pc2U7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgaW50ZXJuYWwuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG5cdCAgICAgICAgaW50ZXJuYWwuX3NldE9uQ2FuY2VsKHRoaXMpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuX3Byb21pc2UgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG5cdCAgICAgICAgcHJvbWlzZS5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcblx0ICAgIH1cblx0ICAgIHRoaXMuX3N0YWNrID0gc3RhY2s7XG5cdCAgICB0aGlzLl9nZW5lcmF0b3JGdW5jdGlvbiA9IGdlbmVyYXRvckZ1bmN0aW9uO1xuXHQgICAgdGhpcy5fcmVjZWl2ZXIgPSByZWNlaXZlcjtcblx0ICAgIHRoaXMuX2dlbmVyYXRvciA9IHVuZGVmaW5lZDtcblx0ICAgIHRoaXMuX3lpZWxkSGFuZGxlcnMgPSB0eXBlb2YgeWllbGRIYW5kbGVyID09PSBcImZ1bmN0aW9uXCJcblx0ICAgICAgICA/IFt5aWVsZEhhbmRsZXJdLmNvbmNhdCh5aWVsZEhhbmRsZXJzKVxuXHQgICAgICAgIDogeWllbGRIYW5kbGVycztcblx0ICAgIHRoaXMuX3lpZWxkZWRQcm9taXNlID0gbnVsbDtcblx0ICAgIHRoaXMuX2NhbmNlbGxhdGlvblBoYXNlID0gZmFsc2U7XG5cdH1cblx0dXRpbC5pbmhlcml0cyhQcm9taXNlU3Bhd24sIFByb3h5YWJsZSk7XG5cdFxuXHRQcm9taXNlU3Bhd24ucHJvdG90eXBlLl9pc1Jlc29sdmVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fcHJvbWlzZSA9PT0gbnVsbDtcblx0fTtcblx0XG5cdFByb21pc2VTcGF3bi5wcm90b3R5cGUuX2NsZWFudXAgPSBmdW5jdGlvbigpIHtcblx0ICAgIHRoaXMuX3Byb21pc2UgPSB0aGlzLl9nZW5lcmF0b3IgPSBudWxsO1xuXHQgICAgaWYgKGRlYnVnLmNhbmNlbGxhdGlvbigpICYmIHRoaXMuX2ZpbmFsbHlQcm9taXNlICE9PSBudWxsKSB7XG5cdCAgICAgICAgdGhpcy5fZmluYWxseVByb21pc2UuX2Z1bGZpbGwoKTtcblx0ICAgICAgICB0aGlzLl9maW5hbGx5UHJvbWlzZSA9IG51bGw7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRQcm9taXNlU3Bhd24ucHJvdG90eXBlLl9wcm9taXNlQ2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICBpZiAodGhpcy5faXNSZXNvbHZlZCgpKSByZXR1cm47XG5cdCAgICB2YXIgaW1wbGVtZW50c1JldHVybiA9IHR5cGVvZiB0aGlzLl9nZW5lcmF0b3JbXCJyZXR1cm5cIl0gIT09IFwidW5kZWZpbmVkXCI7XG5cdFxuXHQgICAgdmFyIHJlc3VsdDtcblx0ICAgIGlmICghaW1wbGVtZW50c1JldHVybikge1xuXHQgICAgICAgIHZhciByZWFzb24gPSBuZXcgUHJvbWlzZS5DYW5jZWxsYXRpb25FcnJvcihcblx0ICAgICAgICAgICAgXCJnZW5lcmF0b3IgLnJldHVybigpIHNlbnRpbmVsXCIpO1xuXHQgICAgICAgIFByb21pc2UuY29yb3V0aW5lLnJldHVyblNlbnRpbmVsID0gcmVhc29uO1xuXHQgICAgICAgIHRoaXMuX3Byb21pc2UuX2F0dGFjaEV4dHJhVHJhY2UocmVhc29uKTtcblx0ICAgICAgICB0aGlzLl9wcm9taXNlLl9wdXNoQ29udGV4dCgpO1xuXHQgICAgICAgIHJlc3VsdCA9IHRyeUNhdGNoKHRoaXMuX2dlbmVyYXRvcltcInRocm93XCJdKS5jYWxsKHRoaXMuX2dlbmVyYXRvcixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uKTtcblx0ICAgICAgICB0aGlzLl9wcm9taXNlLl9wb3BDb250ZXh0KCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuX3Byb21pc2UuX3B1c2hDb250ZXh0KCk7XG5cdCAgICAgICAgcmVzdWx0ID0gdHJ5Q2F0Y2godGhpcy5fZ2VuZXJhdG9yW1wicmV0dXJuXCJdKS5jYWxsKHRoaXMuX2dlbmVyYXRvcixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCk7XG5cdCAgICAgICAgdGhpcy5fcHJvbWlzZS5fcG9wQ29udGV4dCgpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5fY2FuY2VsbGF0aW9uUGhhc2UgPSB0cnVlO1xuXHQgICAgdGhpcy5feWllbGRlZFByb21pc2UgPSBudWxsO1xuXHQgICAgdGhpcy5fY29udGludWUocmVzdWx0KTtcblx0fTtcblx0XG5cdFByb21pc2VTcGF3bi5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgdGhpcy5feWllbGRlZFByb21pc2UgPSBudWxsO1xuXHQgICAgdGhpcy5fcHJvbWlzZS5fcHVzaENvbnRleHQoKTtcblx0ICAgIHZhciByZXN1bHQgPSB0cnlDYXRjaCh0aGlzLl9nZW5lcmF0b3IubmV4dCkuY2FsbCh0aGlzLl9nZW5lcmF0b3IsIHZhbHVlKTtcblx0ICAgIHRoaXMuX3Byb21pc2UuX3BvcENvbnRleHQoKTtcblx0ICAgIHRoaXMuX2NvbnRpbnVlKHJlc3VsdCk7XG5cdH07XG5cdFxuXHRQcm9taXNlU3Bhd24ucHJvdG90eXBlLl9wcm9taXNlUmVqZWN0ZWQgPSBmdW5jdGlvbihyZWFzb24pIHtcblx0ICAgIHRoaXMuX3lpZWxkZWRQcm9taXNlID0gbnVsbDtcblx0ICAgIHRoaXMuX3Byb21pc2UuX2F0dGFjaEV4dHJhVHJhY2UocmVhc29uKTtcblx0ICAgIHRoaXMuX3Byb21pc2UuX3B1c2hDb250ZXh0KCk7XG5cdCAgICB2YXIgcmVzdWx0ID0gdHJ5Q2F0Y2godGhpcy5fZ2VuZXJhdG9yW1widGhyb3dcIl0pXG5cdCAgICAgICAgLmNhbGwodGhpcy5fZ2VuZXJhdG9yLCByZWFzb24pO1xuXHQgICAgdGhpcy5fcHJvbWlzZS5fcG9wQ29udGV4dCgpO1xuXHQgICAgdGhpcy5fY29udGludWUocmVzdWx0KTtcblx0fTtcblx0XG5cdFByb21pc2VTcGF3bi5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgaWYgKHRoaXMuX3lpZWxkZWRQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5feWllbGRlZFByb21pc2U7XG5cdCAgICAgICAgdGhpcy5feWllbGRlZFByb21pc2UgPSBudWxsO1xuXHQgICAgICAgIHByb21pc2UuY2FuY2VsKCk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRQcm9taXNlU3Bhd24ucHJvdG90eXBlLnByb21pc2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fcHJvbWlzZTtcblx0fTtcblx0XG5cdFByb21pc2VTcGF3bi5wcm90b3R5cGUuX3J1biA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuX2dlbmVyYXRvciA9IHRoaXMuX2dlbmVyYXRvckZ1bmN0aW9uLmNhbGwodGhpcy5fcmVjZWl2ZXIpO1xuXHQgICAgdGhpcy5fcmVjZWl2ZXIgPVxuXHQgICAgICAgIHRoaXMuX2dlbmVyYXRvckZ1bmN0aW9uID0gdW5kZWZpbmVkO1xuXHQgICAgdGhpcy5fcHJvbWlzZUZ1bGZpbGxlZCh1bmRlZmluZWQpO1xuXHR9O1xuXHRcblx0UHJvbWlzZVNwYXduLnByb3RvdHlwZS5fY29udGludWUgPSBmdW5jdGlvbiAocmVzdWx0KSB7XG5cdCAgICB2YXIgcHJvbWlzZSA9IHRoaXMuX3Byb21pc2U7XG5cdCAgICBpZiAocmVzdWx0ID09PSBlcnJvck9iaikge1xuXHQgICAgICAgIHRoaXMuX2NsZWFudXAoKTtcblx0ICAgICAgICBpZiAodGhpcy5fY2FuY2VsbGF0aW9uUGhhc2UpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHByb21pc2UuY2FuY2VsKCk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHByb21pc2UuX3JlamVjdENhbGxiYWNrKHJlc3VsdC5lLCBmYWxzZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcblx0ICAgIGlmIChyZXN1bHQuZG9uZSA9PT0gdHJ1ZSkge1xuXHQgICAgICAgIHRoaXMuX2NsZWFudXAoKTtcblx0ICAgICAgICBpZiAodGhpcy5fY2FuY2VsbGF0aW9uUGhhc2UpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHByb21pc2UuY2FuY2VsKCk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHByb21pc2UuX3Jlc29sdmVDYWxsYmFjayh2YWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gdHJ5Q29udmVydFRvUHJvbWlzZSh2YWx1ZSwgdGhpcy5fcHJvbWlzZSk7XG5cdCAgICAgICAgaWYgKCEobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkpIHtcblx0ICAgICAgICAgICAgbWF5YmVQcm9taXNlID1cblx0ICAgICAgICAgICAgICAgIHByb21pc2VGcm9tWWllbGRIYW5kbGVyKG1heWJlUHJvbWlzZSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3lpZWxkSGFuZGxlcnMsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcm9taXNlKTtcblx0ICAgICAgICAgICAgaWYgKG1heWJlUHJvbWlzZSA9PT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5fcHJvbWlzZVJlamVjdGVkKFxuXHQgICAgICAgICAgICAgICAgICAgIG5ldyBUeXBlRXJyb3IoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIFwiQSB2YWx1ZSAlcyB3YXMgeWllbGRlZCB0aGF0IGNvdWxkIG5vdCBiZSB0cmVhdGVkIGFzIGEgcHJvbWlzZVxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcXHUwMDBhXCIucmVwbGFjZShcIiVzXCIsIHZhbHVlKSArXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIFwiRnJvbSBjb3JvdXRpbmU6XFx1MDAwYVwiICtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhY2suc3BsaXQoXCJcXG5cIikuc2xpY2UoMSwgLTcpLmpvaW4oXCJcXG5cIilcblx0ICAgICAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIG1heWJlUHJvbWlzZSA9IG1heWJlUHJvbWlzZS5fdGFyZ2V0KCk7XG5cdCAgICAgICAgdmFyIGJpdEZpZWxkID0gbWF5YmVQcm9taXNlLl9iaXRGaWVsZDtcblx0ICAgICAgICA7XG5cdCAgICAgICAgaWYgKCgoYml0RmllbGQgJiA1MDM5NzE4NCkgPT09IDApKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX3lpZWxkZWRQcm9taXNlID0gbWF5YmVQcm9taXNlO1xuXHQgICAgICAgICAgICBtYXliZVByb21pc2UuX3Byb3h5KHRoaXMsIG51bGwpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcblx0ICAgICAgICAgICAgUHJvbWlzZS5fYXN5bmMuaW52b2tlKFxuXHQgICAgICAgICAgICAgICAgdGhpcy5fcHJvbWlzZUZ1bGZpbGxlZCwgdGhpcywgbWF5YmVQcm9taXNlLl92YWx1ZSgpXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMTY3NzcyMTYpICE9PSAwKSkge1xuXHQgICAgICAgICAgICBQcm9taXNlLl9hc3luYy5pbnZva2UoXG5cdCAgICAgICAgICAgICAgICB0aGlzLl9wcm9taXNlUmVqZWN0ZWQsIHRoaXMsIG1heWJlUHJvbWlzZS5fcmVhc29uKClcblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB0aGlzLl9wcm9taXNlQ2FuY2VsbGVkKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9O1xuXHRcblx0UHJvbWlzZS5jb3JvdXRpbmUgPSBmdW5jdGlvbiAoZ2VuZXJhdG9yRnVuY3Rpb24sIG9wdGlvbnMpIHtcblx0ICAgIGlmICh0eXBlb2YgZ2VuZXJhdG9yRnVuY3Rpb24gIT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJnZW5lcmF0b3JGdW5jdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb25cXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuXHQgICAgfVxuXHQgICAgdmFyIHlpZWxkSGFuZGxlciA9IE9iamVjdChvcHRpb25zKS55aWVsZEhhbmRsZXI7XG5cdCAgICB2YXIgUHJvbWlzZVNwYXduJCA9IFByb21pc2VTcGF3bjtcblx0ICAgIHZhciBzdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgZ2VuZXJhdG9yID0gZ2VuZXJhdG9yRnVuY3Rpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgICB2YXIgc3Bhd24gPSBuZXcgUHJvbWlzZVNwYXduJCh1bmRlZmluZWQsIHVuZGVmaW5lZCwgeWllbGRIYW5kbGVyLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrKTtcblx0ICAgICAgICB2YXIgcmV0ID0gc3Bhd24ucHJvbWlzZSgpO1xuXHQgICAgICAgIHNwYXduLl9nZW5lcmF0b3IgPSBnZW5lcmF0b3I7XG5cdCAgICAgICAgc3Bhd24uX3Byb21pc2VGdWxmaWxsZWQodW5kZWZpbmVkKTtcblx0ICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgfTtcblx0fTtcblx0XG5cdFByb21pc2UuY29yb3V0aW5lLmFkZFlpZWxkSGFuZGxlciA9IGZ1bmN0aW9uKGZuKSB7XG5cdCAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZm4pKTtcblx0ICAgIH1cblx0ICAgIHlpZWxkSGFuZGxlcnMucHVzaChmbik7XG5cdH07XG5cdFxuXHRQcm9taXNlLnNwYXduID0gZnVuY3Rpb24gKGdlbmVyYXRvckZ1bmN0aW9uKSB7XG5cdCAgICBkZWJ1Zy5kZXByZWNhdGVkKFwiUHJvbWlzZS5zcGF3bigpXCIsIFwiUHJvbWlzZS5jb3JvdXRpbmUoKVwiKTtcblx0ICAgIGlmICh0eXBlb2YgZ2VuZXJhdG9yRnVuY3Rpb24gIT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgIHJldHVybiBhcGlSZWplY3Rpb24oXCJnZW5lcmF0b3JGdW5jdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb25cXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuXHQgICAgfVxuXHQgICAgdmFyIHNwYXduID0gbmV3IFByb21pc2VTcGF3bihnZW5lcmF0b3JGdW5jdGlvbiwgdGhpcyk7XG5cdCAgICB2YXIgcmV0ID0gc3Bhd24ucHJvbWlzZSgpO1xuXHQgICAgc3Bhd24uX3J1bihQcm9taXNlLnNwYXduKTtcblx0ICAgIHJldHVybiByZXQ7XG5cdH07XG5cdH07XG5cdFxuXHR9LHtcIi4vZXJyb3JzXCI6MTIsXCIuL3V0aWxcIjozNn1dLDE3OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID1cblx0ZnVuY3Rpb24oUHJvbWlzZSwgUHJvbWlzZUFycmF5LCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBJTlRFUk5BTCwgYXN5bmMsXG5cdCAgICAgICAgIGdldERvbWFpbikge1xuXHR2YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cdHZhciBjYW5FdmFsdWF0ZSA9IHV0aWwuY2FuRXZhbHVhdGU7XG5cdHZhciB0cnlDYXRjaCA9IHV0aWwudHJ5Q2F0Y2g7XG5cdHZhciBlcnJvck9iaiA9IHV0aWwuZXJyb3JPYmo7XG5cdHZhciByZWplY3Q7XG5cdFxuXHRpZiAoZmFsc2UpIHtcblx0aWYgKGNhbkV2YWx1YXRlKSB7XG5cdCAgICB2YXIgdGhlbkNhbGxiYWNrID0gZnVuY3Rpb24oaSkge1xuXHQgICAgICAgIHJldHVybiBuZXcgRnVuY3Rpb24oXCJ2YWx1ZVwiLCBcImhvbGRlclwiLCBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgJ3VzZSBzdHJpY3QnOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICBob2xkZXIucEluZGV4ID0gdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIGhvbGRlci5jaGVja0Z1bGZpbGxtZW50KHRoaXMpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgXCIucmVwbGFjZSgvSW5kZXgvZywgaSkpO1xuXHQgICAgfTtcblx0XG5cdCAgICB2YXIgcHJvbWlzZVNldHRlciA9IGZ1bmN0aW9uKGkpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKFwicHJvbWlzZVwiLCBcImhvbGRlclwiLCBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICd1c2Ugc3RyaWN0JzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgaG9sZGVyLnBJbmRleCA9IHByb21pc2U7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICBcIi5yZXBsYWNlKC9JbmRleC9nLCBpKSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHZhciBnZW5lcmF0ZUhvbGRlckNsYXNzID0gZnVuY3Rpb24odG90YWwpIHtcblx0ICAgICAgICB2YXIgcHJvcHMgPSBuZXcgQXJyYXkodG90YWwpO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICAgICAgcHJvcHNbaV0gPSBcInRoaXMucFwiICsgKGkrMSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBhc3NpZ25tZW50ID0gcHJvcHMuam9pbihcIiA9IFwiKSArIFwiID0gbnVsbDtcIjtcblx0ICAgICAgICB2YXIgY2FuY2VsbGF0aW9uQ29kZT0gXCJ2YXIgcHJvbWlzZTtcXG5cIiArIHByb3BzLm1hcChmdW5jdGlvbihwcm9wKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICBwcm9taXNlID0gXCIgKyBwcm9wICsgXCI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgaWYgKHByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5jYW5jZWwoKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICBcIjtcblx0ICAgICAgICB9KS5qb2luKFwiXFxuXCIpO1xuXHQgICAgICAgIHZhciBwYXNzZWRBcmd1bWVudHMgPSBwcm9wcy5qb2luKFwiLCBcIik7XG5cdCAgICAgICAgdmFyIG5hbWUgPSBcIkhvbGRlciRcIiArIHRvdGFsO1xuXHRcblx0XG5cdCAgICAgICAgdmFyIGNvZGUgPSBcInJldHVybiBmdW5jdGlvbih0cnlDYXRjaCwgZXJyb3JPYmosIFByb21pc2UsIGFzeW5jKSB7ICAgIFxcblxcXG5cdCAgICAgICAgICAgICd1c2Ugc3RyaWN0JzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgZnVuY3Rpb24gW1RoZU5hbWVdKGZuKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgW1RoZVByb3BlcnRpZXNdICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICB0aGlzLmZuID0gZm47ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgIHRoaXMuYXN5bmNOZWVkZWQgPSB0cnVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgdGhpcy5ub3cgPSAwOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICBbVGhlTmFtZV0ucHJvdG90eXBlLl9jYWxsRnVuY3Rpb24gPSBmdW5jdGlvbihwcm9taXNlKSB7ICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICBwcm9taXNlLl9wdXNoQ29udGV4dCgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgIHZhciByZXQgPSB0cnlDYXRjaCh0aGlzLmZuKShbVGhlUGFzc2VkQXJndW1lbnRzXSk7ICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgcHJvbWlzZS5fcG9wQ29udGV4dCgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICBpZiAocmV0ID09PSBlcnJvck9iaikgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgICAgICBwcm9taXNlLl9yZWplY3RDYWxsYmFjayhyZXQuZSwgZmFsc2UpOyAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5fcmVzb2x2ZUNhbGxiYWNrKHJldCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICB9OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgW1RoZU5hbWVdLnByb3RvdHlwZS5jaGVja0Z1bGZpbGxtZW50ID0gZnVuY3Rpb24ocHJvbWlzZSkgeyAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgdmFyIG5vdyA9ICsrdGhpcy5ub3c7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICBpZiAobm93ID09PSBbVGhlVG90YWxdKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hc3luY05lZWRlZCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBhc3luYy5pbnZva2UodGhpcy5fY2FsbEZ1bmN0aW9uLCB0aGlzLCBwcm9taXNlKTsgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FsbEZ1bmN0aW9uKHByb21pc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICB9OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgW1RoZU5hbWVdLnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7ICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgW0NhbmNlbGxhdGlvbkNvZGVdICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIH07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICByZXR1cm4gW1RoZU5hbWVdOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgfSh0cnlDYXRjaCwgZXJyb3JPYmosIFByb21pc2UsIGFzeW5jKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICBcIjtcblx0XG5cdCAgICAgICAgY29kZSA9IGNvZGUucmVwbGFjZSgvXFxbVGhlTmFtZVxcXS9nLCBuYW1lKVxuXHQgICAgICAgICAgICAucmVwbGFjZSgvXFxbVGhlVG90YWxcXF0vZywgdG90YWwpXG5cdCAgICAgICAgICAgIC5yZXBsYWNlKC9cXFtUaGVQYXNzZWRBcmd1bWVudHNcXF0vZywgcGFzc2VkQXJndW1lbnRzKVxuXHQgICAgICAgICAgICAucmVwbGFjZSgvXFxbVGhlUHJvcGVydGllc1xcXS9nLCBhc3NpZ25tZW50KVxuXHQgICAgICAgICAgICAucmVwbGFjZSgvXFxbQ2FuY2VsbGF0aW9uQ29kZVxcXS9nLCBjYW5jZWxsYXRpb25Db2RlKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbihcInRyeUNhdGNoXCIsIFwiZXJyb3JPYmpcIiwgXCJQcm9taXNlXCIsIFwiYXN5bmNcIiwgY29kZSlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRyeUNhdGNoLCBlcnJvck9iaiwgUHJvbWlzZSwgYXN5bmMpO1xuXHQgICAgfTtcblx0XG5cdCAgICB2YXIgaG9sZGVyQ2xhc3NlcyA9IFtdO1xuXHQgICAgdmFyIHRoZW5DYWxsYmFja3MgPSBbXTtcblx0ICAgIHZhciBwcm9taXNlU2V0dGVycyA9IFtdO1xuXHRcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgODsgKytpKSB7XG5cdCAgICAgICAgaG9sZGVyQ2xhc3Nlcy5wdXNoKGdlbmVyYXRlSG9sZGVyQ2xhc3MoaSArIDEpKTtcblx0ICAgICAgICB0aGVuQ2FsbGJhY2tzLnB1c2godGhlbkNhbGxiYWNrKGkgKyAxKSk7XG5cdCAgICAgICAgcHJvbWlzZVNldHRlcnMucHVzaChwcm9taXNlU2V0dGVyKGkgKyAxKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmVqZWN0ID0gZnVuY3Rpb24gKHJlYXNvbikge1xuXHQgICAgICAgIHRoaXMuX3JlamVjdChyZWFzb24pO1xuXHQgICAgfTtcblx0fX1cblx0XG5cdFByb21pc2Uuam9pbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBsYXN0ID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7XG5cdCAgICB2YXIgZm47XG5cdCAgICBpZiAobGFzdCA+IDAgJiYgdHlwZW9mIGFyZ3VtZW50c1tsYXN0XSA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgZm4gPSBhcmd1bWVudHNbbGFzdF07XG5cdCAgICAgICAgaWYgKGZhbHNlKSB7XG5cdCAgICAgICAgICAgIGlmIChsYXN0IDw9IDggJiYgY2FuRXZhbHVhdGUpIHtcblx0ICAgICAgICAgICAgICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG5cdCAgICAgICAgICAgICAgICByZXQuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG5cdCAgICAgICAgICAgICAgICB2YXIgSG9sZGVyQ2xhc3MgPSBob2xkZXJDbGFzc2VzW2xhc3QgLSAxXTtcblx0ICAgICAgICAgICAgICAgIHZhciBob2xkZXIgPSBuZXcgSG9sZGVyQ2xhc3MoZm4pO1xuXHQgICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrcyA9IHRoZW5DYWxsYmFja3M7XG5cdFxuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0OyArK2kpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gdHJ5Q29udmVydFRvUHJvbWlzZShhcmd1bWVudHNbaV0sIHJldCk7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKG1heWJlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlID0gbWF5YmVQcm9taXNlLl90YXJnZXQoKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJpdEZpZWxkID0gbWF5YmVQcm9taXNlLl9iaXRGaWVsZDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKChiaXRGaWVsZCAmIDUwMzk3MTg0KSA9PT0gMCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlUHJvbWlzZS5fdGhlbihjYWxsYmFja3NbaV0sIHJlamVjdCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsIHJldCwgaG9sZGVyKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2VTZXR0ZXJzW2ldKG1heWJlUHJvbWlzZSwgaG9sZGVyKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvbGRlci5hc3luY05lZWRlZCA9IGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCgoYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDApKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3NbaV0uY2FsbChyZXQsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXliZVByb21pc2UuX3ZhbHVlKCksIGhvbGRlcik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDE2Nzc3MjE2KSAhPT0gMCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldC5fcmVqZWN0KG1heWJlUHJvbWlzZS5fcmVhc29uKCkpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0Ll9jYW5jZWwoKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc1tpXS5jYWxsKHJldCwgbWF5YmVQcm9taXNlLCBob2xkZXIpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICBpZiAoIXJldC5faXNGYXRlU2VhbGVkKCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoaG9sZGVyLmFzeW5jTmVlZGVkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkb21haW4gPSBnZXREb21haW4oKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvbWFpbiAhPT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9sZGVyLmZuID0gdXRpbC5kb21haW5CaW5kKGRvbWFpbiwgaG9sZGVyLmZuKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICByZXQuX3NldEFzeW5jR3VhcmFudGVlZCgpO1xuXHQgICAgICAgICAgICAgICAgICAgIHJldC5fc2V0T25DYW5jZWwoaG9sZGVyKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTs7XG5cdCAgICBpZiAoZm4pIGFyZ3MucG9wKCk7XG5cdCAgICB2YXIgcmV0ID0gbmV3IFByb21pc2VBcnJheShhcmdzKS5wcm9taXNlKCk7XG5cdCAgICByZXR1cm4gZm4gIT09IHVuZGVmaW5lZCA/IHJldC5zcHJlYWQoZm4pIDogcmV0O1xuXHR9O1xuXHRcblx0fTtcblx0XG5cdH0se1wiLi91dGlsXCI6MzZ9XSwxODpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvbWlzZUFycmF5LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaVJlamVjdGlvbixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICB0cnlDb252ZXJ0VG9Qcm9taXNlLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgIElOVEVSTkFMLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKSB7XG5cdHZhciBnZXREb21haW4gPSBQcm9taXNlLl9nZXREb21haW47XG5cdHZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcblx0dmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcblx0dmFyIGVycm9yT2JqID0gdXRpbC5lcnJvck9iajtcblx0dmFyIGFzeW5jID0gUHJvbWlzZS5fYXN5bmM7XG5cdFxuXHRmdW5jdGlvbiBNYXBwaW5nUHJvbWlzZUFycmF5KHByb21pc2VzLCBmbiwgbGltaXQsIF9maWx0ZXIpIHtcblx0ICAgIHRoaXMuY29uc3RydWN0b3IkKHByb21pc2VzKTtcblx0ICAgIHRoaXMuX3Byb21pc2UuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG5cdCAgICB2YXIgZG9tYWluID0gZ2V0RG9tYWluKCk7XG5cdCAgICB0aGlzLl9jYWxsYmFjayA9IGRvbWFpbiA9PT0gbnVsbCA/IGZuIDogdXRpbC5kb21haW5CaW5kKGRvbWFpbiwgZm4pO1xuXHQgICAgdGhpcy5fcHJlc2VydmVkVmFsdWVzID0gX2ZpbHRlciA9PT0gSU5URVJOQUxcblx0ICAgICAgICA/IG5ldyBBcnJheSh0aGlzLmxlbmd0aCgpKVxuXHQgICAgICAgIDogbnVsbDtcblx0ICAgIHRoaXMuX2xpbWl0ID0gbGltaXQ7XG5cdCAgICB0aGlzLl9pbkZsaWdodCA9IDA7XG5cdCAgICB0aGlzLl9xdWV1ZSA9IFtdO1xuXHQgICAgYXN5bmMuaW52b2tlKHRoaXMuX2FzeW5jSW5pdCwgdGhpcywgdW5kZWZpbmVkKTtcblx0fVxuXHR1dGlsLmluaGVyaXRzKE1hcHBpbmdQcm9taXNlQXJyYXksIFByb21pc2VBcnJheSk7XG5cdFxuXHRNYXBwaW5nUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fYXN5bmNJbml0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLl9pbml0JCh1bmRlZmluZWQsIC0yKTtcblx0fTtcblx0XG5cdE1hcHBpbmdQcm9taXNlQXJyYXkucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24gKCkge307XG5cdFxuXHRNYXBwaW5nUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZUZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcblx0ICAgIHZhciB2YWx1ZXMgPSB0aGlzLl92YWx1ZXM7XG5cdCAgICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGgoKTtcblx0ICAgIHZhciBwcmVzZXJ2ZWRWYWx1ZXMgPSB0aGlzLl9wcmVzZXJ2ZWRWYWx1ZXM7XG5cdCAgICB2YXIgbGltaXQgPSB0aGlzLl9saW1pdDtcblx0XG5cdCAgICBpZiAoaW5kZXggPCAwKSB7XG5cdCAgICAgICAgaW5kZXggPSAoaW5kZXggKiAtMSkgLSAxO1xuXHQgICAgICAgIHZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcblx0ICAgICAgICBpZiAobGltaXQgPj0gMSkge1xuXHQgICAgICAgICAgICB0aGlzLl9pbkZsaWdodC0tO1xuXHQgICAgICAgICAgICB0aGlzLl9kcmFpblF1ZXVlKCk7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLl9pc1Jlc29sdmVkKCkpIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKGxpbWl0ID49IDEgJiYgdGhpcy5faW5GbGlnaHQgPj0gbGltaXQpIHtcblx0ICAgICAgICAgICAgdmFsdWVzW2luZGV4XSA9IHZhbHVlO1xuXHQgICAgICAgICAgICB0aGlzLl9xdWV1ZS5wdXNoKGluZGV4KTtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAocHJlc2VydmVkVmFsdWVzICE9PSBudWxsKSBwcmVzZXJ2ZWRWYWx1ZXNbaW5kZXhdID0gdmFsdWU7XG5cdFxuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5fcHJvbWlzZTtcblx0ICAgICAgICB2YXIgY2FsbGJhY2sgPSB0aGlzLl9jYWxsYmFjaztcblx0ICAgICAgICB2YXIgcmVjZWl2ZXIgPSBwcm9taXNlLl9ib3VuZFZhbHVlKCk7XG5cdCAgICAgICAgcHJvbWlzZS5fcHVzaENvbnRleHQoKTtcblx0ICAgICAgICB2YXIgcmV0ID0gdHJ5Q2F0Y2goY2FsbGJhY2spLmNhbGwocmVjZWl2ZXIsIHZhbHVlLCBpbmRleCwgbGVuZ3RoKTtcblx0ICAgICAgICB2YXIgcHJvbWlzZUNyZWF0ZWQgPSBwcm9taXNlLl9wb3BDb250ZXh0KCk7XG5cdCAgICAgICAgZGVidWcuY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zKFxuXHQgICAgICAgICAgICByZXQsXG5cdCAgICAgICAgICAgIHByb21pc2VDcmVhdGVkLFxuXHQgICAgICAgICAgICBwcmVzZXJ2ZWRWYWx1ZXMgIT09IG51bGwgPyBcIlByb21pc2UuZmlsdGVyXCIgOiBcIlByb21pc2UubWFwXCIsXG5cdCAgICAgICAgICAgIHByb21pc2Vcblx0ICAgICAgICApO1xuXHQgICAgICAgIGlmIChyZXQgPT09IGVycm9yT2JqKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX3JlamVjdChyZXQuZSk7XG5cdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIG1heWJlUHJvbWlzZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UocmV0LCB0aGlzLl9wcm9taXNlKTtcblx0ICAgICAgICBpZiAobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuXHQgICAgICAgICAgICBtYXliZVByb21pc2UgPSBtYXliZVByb21pc2UuX3RhcmdldCgpO1xuXHQgICAgICAgICAgICB2YXIgYml0RmllbGQgPSBtYXliZVByb21pc2UuX2JpdEZpZWxkO1xuXHQgICAgICAgICAgICA7XG5cdCAgICAgICAgICAgIGlmICgoKGJpdEZpZWxkICYgNTAzOTcxODQpID09PSAwKSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKGxpbWl0ID49IDEpIHRoaXMuX2luRmxpZ2h0Kys7XG5cdCAgICAgICAgICAgICAgICB2YWx1ZXNbaW5kZXhdID0gbWF5YmVQcm9taXNlO1xuXHQgICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlLl9wcm94eSh0aGlzLCAoaW5kZXggKyAxKSAqIC0xKTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMzM1NTQ0MzIpICE9PSAwKSkge1xuXHQgICAgICAgICAgICAgICAgcmV0ID0gbWF5YmVQcm9taXNlLl92YWx1ZSgpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKCgoYml0RmllbGQgJiAxNjc3NzIxNikgIT09IDApKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLl9yZWplY3QobWF5YmVQcm9taXNlLl9yZWFzb24oKSk7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuX2NhbmNlbCgpO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFsdWVzW2luZGV4XSA9IHJldDtcblx0ICAgIH1cblx0ICAgIHZhciB0b3RhbFJlc29sdmVkID0gKyt0aGlzLl90b3RhbFJlc29sdmVkO1xuXHQgICAgaWYgKHRvdGFsUmVzb2x2ZWQgPj0gbGVuZ3RoKSB7XG5cdCAgICAgICAgaWYgKHByZXNlcnZlZFZhbHVlcyAhPT0gbnVsbCkge1xuXHQgICAgICAgICAgICB0aGlzLl9maWx0ZXIodmFsdWVzLCBwcmVzZXJ2ZWRWYWx1ZXMpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUodmFsdWVzKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdH07XG5cdFxuXHRNYXBwaW5nUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fZHJhaW5RdWV1ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBxdWV1ZSA9IHRoaXMuX3F1ZXVlO1xuXHQgICAgdmFyIGxpbWl0ID0gdGhpcy5fbGltaXQ7XG5cdCAgICB2YXIgdmFsdWVzID0gdGhpcy5fdmFsdWVzO1xuXHQgICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDAgJiYgdGhpcy5faW5GbGlnaHQgPCBsaW1pdCkge1xuXHQgICAgICAgIGlmICh0aGlzLl9pc1Jlc29sdmVkKCkpIHJldHVybjtcblx0ICAgICAgICB2YXIgaW5kZXggPSBxdWV1ZS5wb3AoKTtcblx0ICAgICAgICB0aGlzLl9wcm9taXNlRnVsZmlsbGVkKHZhbHVlc1tpbmRleF0sIGluZGV4KTtcblx0ICAgIH1cblx0fTtcblx0XG5cdE1hcHBpbmdQcm9taXNlQXJyYXkucHJvdG90eXBlLl9maWx0ZXIgPSBmdW5jdGlvbiAoYm9vbGVhbnMsIHZhbHVlcykge1xuXHQgICAgdmFyIGxlbiA9IHZhbHVlcy5sZW5ndGg7XG5cdCAgICB2YXIgcmV0ID0gbmV3IEFycmF5KGxlbik7XG5cdCAgICB2YXIgaiA9IDA7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG5cdCAgICAgICAgaWYgKGJvb2xlYW5zW2ldKSByZXRbaisrXSA9IHZhbHVlc1tpXTtcblx0ICAgIH1cblx0ICAgIHJldC5sZW5ndGggPSBqO1xuXHQgICAgdGhpcy5fcmVzb2x2ZShyZXQpO1xuXHR9O1xuXHRcblx0TWFwcGluZ1Byb21pc2VBcnJheS5wcm90b3R5cGUucHJlc2VydmVkVmFsdWVzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX3ByZXNlcnZlZFZhbHVlcztcblx0fTtcblx0XG5cdGZ1bmN0aW9uIG1hcChwcm9taXNlcywgZm4sIG9wdGlvbnMsIF9maWx0ZXIpIHtcblx0ICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgIHJldHVybiBhcGlSZWplY3Rpb24oXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyhmbikpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBsaW1pdCA9IDA7XG5cdCAgICBpZiAob3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMgIT09IG51bGwpIHtcblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmNvbmN1cnJlbmN5ICE9PSBcIm51bWJlclwiKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG5cdCAgICAgICAgICAgICAgICAgICAgbmV3IFR5cGVFcnJvcihcIidjb25jdXJyZW5jeScgbXVzdCBiZSBhIG51bWJlciBidXQgaXQgaXMgXCIgK1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlsLmNsYXNzU3RyaW5nKG9wdGlvbnMuY29uY3VycmVuY3kpKSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgbGltaXQgPSBvcHRpb25zLmNvbmN1cnJlbmN5O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJvcHRpb25zIGFyZ3VtZW50IG11c3QgYmUgYW4gb2JqZWN0IGJ1dCBpdCBpcyBcIiArXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbC5jbGFzc1N0cmluZyhvcHRpb25zKSkpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGxpbWl0ID0gdHlwZW9mIGxpbWl0ID09PSBcIm51bWJlclwiICYmXG5cdCAgICAgICAgaXNGaW5pdGUobGltaXQpICYmIGxpbWl0ID49IDEgPyBsaW1pdCA6IDA7XG5cdCAgICByZXR1cm4gbmV3IE1hcHBpbmdQcm9taXNlQXJyYXkocHJvbWlzZXMsIGZuLCBsaW1pdCwgX2ZpbHRlcikucHJvbWlzZSgpO1xuXHR9XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoZm4sIG9wdGlvbnMpIHtcblx0ICAgIHJldHVybiBtYXAodGhpcywgZm4sIG9wdGlvbnMsIG51bGwpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5tYXAgPSBmdW5jdGlvbiAocHJvbWlzZXMsIGZuLCBvcHRpb25zLCBfZmlsdGVyKSB7XG5cdCAgICByZXR1cm4gbWFwKHByb21pc2VzLCBmbiwgb3B0aW9ucywgX2ZpbHRlcik7XG5cdH07XG5cdFxuXHRcblx0fTtcblx0XG5cdH0se1wiLi91dGlsXCI6MzZ9XSwxOTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9XG5cdGZ1bmN0aW9uKFByb21pc2UsIElOVEVSTkFMLCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBhcGlSZWplY3Rpb24sIGRlYnVnKSB7XG5cdHZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcblx0dmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcblx0XG5cdFByb21pc2UubWV0aG9kID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgUHJvbWlzZS5UeXBlRXJyb3IoXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyhmbikpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuXHQgICAgICAgIHJldC5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcblx0ICAgICAgICByZXQuX3B1c2hDb250ZXh0KCk7XG5cdCAgICAgICAgdmFyIHZhbHVlID0gdHJ5Q2F0Y2goZm4pLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgdmFyIHByb21pc2VDcmVhdGVkID0gcmV0Ll9wb3BDb250ZXh0KCk7XG5cdCAgICAgICAgZGVidWcuY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zKFxuXHQgICAgICAgICAgICB2YWx1ZSwgcHJvbWlzZUNyZWF0ZWQsIFwiUHJvbWlzZS5tZXRob2RcIiwgcmV0KTtcblx0ICAgICAgICByZXQuX3Jlc29sdmVGcm9tU3luY1ZhbHVlKHZhbHVlKTtcblx0ICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgfTtcblx0fTtcblx0XG5cdFByb21pc2UuYXR0ZW1wdCA9IFByb21pc2VbXCJ0cnlcIl0gPSBmdW5jdGlvbiAoZm4pIHtcblx0ICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgIHJldHVybiBhcGlSZWplY3Rpb24oXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyhmbikpO1xuXHQgICAgfVxuXHQgICAgdmFyIHJldCA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcblx0ICAgIHJldC5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcblx0ICAgIHJldC5fcHVzaENvbnRleHQoKTtcblx0ICAgIHZhciB2YWx1ZTtcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuXHQgICAgICAgIGRlYnVnLmRlcHJlY2F0ZWQoXCJjYWxsaW5nIFByb21pc2UudHJ5IHdpdGggbW9yZSB0aGFuIDEgYXJndW1lbnRcIik7XG5cdCAgICAgICAgdmFyIGFyZyA9IGFyZ3VtZW50c1sxXTtcblx0ICAgICAgICB2YXIgY3R4ID0gYXJndW1lbnRzWzJdO1xuXHQgICAgICAgIHZhbHVlID0gdXRpbC5pc0FycmF5KGFyZykgPyB0cnlDYXRjaChmbikuYXBwbHkoY3R4LCBhcmcpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRyeUNhdGNoKGZuKS5jYWxsKGN0eCwgYXJnKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFsdWUgPSB0cnlDYXRjaChmbikoKTtcblx0ICAgIH1cblx0ICAgIHZhciBwcm9taXNlQ3JlYXRlZCA9IHJldC5fcG9wQ29udGV4dCgpO1xuXHQgICAgZGVidWcuY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zKFxuXHQgICAgICAgIHZhbHVlLCBwcm9taXNlQ3JlYXRlZCwgXCJQcm9taXNlLnRyeVwiLCByZXQpO1xuXHQgICAgcmV0Ll9yZXNvbHZlRnJvbVN5bmNWYWx1ZSh2YWx1ZSk7XG5cdCAgICByZXR1cm4gcmV0O1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3Jlc29sdmVGcm9tU3luY1ZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICBpZiAodmFsdWUgPT09IHV0aWwuZXJyb3JPYmopIHtcblx0ICAgICAgICB0aGlzLl9yZWplY3RDYWxsYmFjayh2YWx1ZS5lLCBmYWxzZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuX3Jlc29sdmVDYWxsYmFjayh2YWx1ZSwgdHJ1ZSk7XG5cdCAgICB9XG5cdH07XG5cdH07XG5cdFxuXHR9LHtcIi4vdXRpbFwiOjM2fV0sMjA6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXHR2YXIgbWF5YmVXcmFwQXNFcnJvciA9IHV0aWwubWF5YmVXcmFwQXNFcnJvcjtcblx0dmFyIGVycm9ycyA9IF9kZXJlcV8oXCIuL2Vycm9yc1wiKTtcblx0dmFyIE9wZXJhdGlvbmFsRXJyb3IgPSBlcnJvcnMuT3BlcmF0aW9uYWxFcnJvcjtcblx0dmFyIGVzNSA9IF9kZXJlcV8oXCIuL2VzNVwiKTtcblx0XG5cdGZ1bmN0aW9uIGlzVW50eXBlZEVycm9yKG9iaikge1xuXHQgICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIEVycm9yICYmXG5cdCAgICAgICAgZXM1LmdldFByb3RvdHlwZU9mKG9iaikgPT09IEVycm9yLnByb3RvdHlwZTtcblx0fVxuXHRcblx0dmFyIHJFcnJvcktleSA9IC9eKD86bmFtZXxtZXNzYWdlfHN0YWNrfGNhdXNlKSQvO1xuXHRmdW5jdGlvbiB3cmFwQXNPcGVyYXRpb25hbEVycm9yKG9iaikge1xuXHQgICAgdmFyIHJldDtcblx0ICAgIGlmIChpc1VudHlwZWRFcnJvcihvYmopKSB7XG5cdCAgICAgICAgcmV0ID0gbmV3IE9wZXJhdGlvbmFsRXJyb3Iob2JqKTtcblx0ICAgICAgICByZXQubmFtZSA9IG9iai5uYW1lO1xuXHQgICAgICAgIHJldC5tZXNzYWdlID0gb2JqLm1lc3NhZ2U7XG5cdCAgICAgICAgcmV0LnN0YWNrID0gb2JqLnN0YWNrO1xuXHQgICAgICAgIHZhciBrZXlzID0gZXM1LmtleXMob2JqKTtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG5cdCAgICAgICAgICAgIGlmICghckVycm9yS2V5LnRlc3Qoa2V5KSkge1xuXHQgICAgICAgICAgICAgICAgcmV0W2tleV0gPSBvYmpba2V5XTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgfVxuXHQgICAgdXRpbC5tYXJrQXNPcmlnaW5hdGluZ0Zyb21SZWplY3Rpb24ob2JqKTtcblx0ICAgIHJldHVybiBvYmo7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG5vZGViYWNrRm9yUHJvbWlzZShwcm9taXNlLCBtdWx0aUFyZ3MpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbihlcnIsIHZhbHVlKSB7XG5cdCAgICAgICAgaWYgKHByb21pc2UgPT09IG51bGwpIHJldHVybjtcblx0ICAgICAgICBpZiAoZXJyKSB7XG5cdCAgICAgICAgICAgIHZhciB3cmFwcGVkID0gd3JhcEFzT3BlcmF0aW9uYWxFcnJvcihtYXliZVdyYXBBc0Vycm9yKGVycikpO1xuXHQgICAgICAgICAgICBwcm9taXNlLl9hdHRhY2hFeHRyYVRyYWNlKHdyYXBwZWQpO1xuXHQgICAgICAgICAgICBwcm9taXNlLl9yZWplY3Qod3JhcHBlZCk7XG5cdCAgICAgICAgfSBlbHNlIGlmICghbXVsdGlBcmdzKSB7XG5cdCAgICAgICAgICAgIHByb21pc2UuX2Z1bGZpbGwodmFsdWUpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpOztcblx0ICAgICAgICAgICAgcHJvbWlzZS5fZnVsZmlsbChhcmdzKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcHJvbWlzZSA9IG51bGw7XG5cdCAgICB9O1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IG5vZGViYWNrRm9yUHJvbWlzZTtcblx0XG5cdH0se1wiLi9lcnJvcnNcIjoxMixcIi4vZXM1XCI6MTMsXCIuL3V0aWxcIjozNn1dLDIxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSkge1xuXHR2YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cdHZhciBhc3luYyA9IFByb21pc2UuX2FzeW5jO1xuXHR2YXIgdHJ5Q2F0Y2ggPSB1dGlsLnRyeUNhdGNoO1xuXHR2YXIgZXJyb3JPYmogPSB1dGlsLmVycm9yT2JqO1xuXHRcblx0ZnVuY3Rpb24gc3ByZWFkQWRhcHRlcih2YWwsIG5vZGViYWNrKSB7XG5cdCAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG5cdCAgICBpZiAoIXV0aWwuaXNBcnJheSh2YWwpKSByZXR1cm4gc3VjY2Vzc0FkYXB0ZXIuY2FsbChwcm9taXNlLCB2YWwsIG5vZGViYWNrKTtcblx0ICAgIHZhciByZXQgPVxuXHQgICAgICAgIHRyeUNhdGNoKG5vZGViYWNrKS5hcHBseShwcm9taXNlLl9ib3VuZFZhbHVlKCksIFtudWxsXS5jb25jYXQodmFsKSk7XG5cdCAgICBpZiAocmV0ID09PSBlcnJvck9iaikge1xuXHQgICAgICAgIGFzeW5jLnRocm93TGF0ZXIocmV0LmUpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBzdWNjZXNzQWRhcHRlcih2YWwsIG5vZGViYWNrKSB7XG5cdCAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG5cdCAgICB2YXIgcmVjZWl2ZXIgPSBwcm9taXNlLl9ib3VuZFZhbHVlKCk7XG5cdCAgICB2YXIgcmV0ID0gdmFsID09PSB1bmRlZmluZWRcblx0ICAgICAgICA/IHRyeUNhdGNoKG5vZGViYWNrKS5jYWxsKHJlY2VpdmVyLCBudWxsKVxuXHQgICAgICAgIDogdHJ5Q2F0Y2gobm9kZWJhY2spLmNhbGwocmVjZWl2ZXIsIG51bGwsIHZhbCk7XG5cdCAgICBpZiAocmV0ID09PSBlcnJvck9iaikge1xuXHQgICAgICAgIGFzeW5jLnRocm93TGF0ZXIocmV0LmUpO1xuXHQgICAgfVxuXHR9XG5cdGZ1bmN0aW9uIGVycm9yQWRhcHRlcihyZWFzb24sIG5vZGViYWNrKSB7XG5cdCAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG5cdCAgICBpZiAoIXJlYXNvbikge1xuXHQgICAgICAgIHZhciBuZXdSZWFzb24gPSBuZXcgRXJyb3IocmVhc29uICsgXCJcIik7XG5cdCAgICAgICAgbmV3UmVhc29uLmNhdXNlID0gcmVhc29uO1xuXHQgICAgICAgIHJlYXNvbiA9IG5ld1JlYXNvbjtcblx0ICAgIH1cblx0ICAgIHZhciByZXQgPSB0cnlDYXRjaChub2RlYmFjaykuY2FsbChwcm9taXNlLl9ib3VuZFZhbHVlKCksIHJlYXNvbik7XG5cdCAgICBpZiAocmV0ID09PSBlcnJvck9iaikge1xuXHQgICAgICAgIGFzeW5jLnRocm93TGF0ZXIocmV0LmUpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5hc0NhbGxiYWNrID0gUHJvbWlzZS5wcm90b3R5cGUubm9kZWlmeSA9IGZ1bmN0aW9uIChub2RlYmFjayxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucykge1xuXHQgICAgaWYgKHR5cGVvZiBub2RlYmFjayA9PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICB2YXIgYWRhcHRlciA9IHN1Y2Nlc3NBZGFwdGVyO1xuXHQgICAgICAgIGlmIChvcHRpb25zICE9PSB1bmRlZmluZWQgJiYgT2JqZWN0KG9wdGlvbnMpLnNwcmVhZCkge1xuXHQgICAgICAgICAgICBhZGFwdGVyID0gc3ByZWFkQWRhcHRlcjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdGhpcy5fdGhlbihcblx0ICAgICAgICAgICAgYWRhcHRlcixcblx0ICAgICAgICAgICAgZXJyb3JBZGFwdGVyLFxuXHQgICAgICAgICAgICB1bmRlZmluZWQsXG5cdCAgICAgICAgICAgIHRoaXMsXG5cdCAgICAgICAgICAgIG5vZGViYWNrXG5cdCAgICAgICAgKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB0aGlzO1xuXHR9O1xuXHR9O1xuXHRcblx0fSx7XCIuL3V0aWxcIjozNn1dLDIyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdHZhciBtYWtlU2VsZlJlc29sdXRpb25FcnJvciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBuZXcgVHlwZUVycm9yKFwiY2lyY3VsYXIgcHJvbWlzZSByZXNvbHV0aW9uIGNoYWluXFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcblx0fTtcblx0dmFyIHJlZmxlY3RIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gbmV3IFByb21pc2UuUHJvbWlzZUluc3BlY3Rpb24odGhpcy5fdGFyZ2V0KCkpO1xuXHR9O1xuXHR2YXIgYXBpUmVqZWN0aW9uID0gZnVuY3Rpb24obXNnKSB7XG5cdCAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcihtc2cpKTtcblx0fTtcblx0ZnVuY3Rpb24gUHJveHlhYmxlKCkge31cblx0dmFyIFVOREVGSU5FRF9CSU5ESU5HID0ge307XG5cdHZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcblx0XG5cdHZhciBnZXREb21haW47XG5cdGlmICh1dGlsLmlzTm9kZSkge1xuXHQgICAgZ2V0RG9tYWluID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHJldCA9IHByb2Nlc3MuZG9tYWluO1xuXHQgICAgICAgIGlmIChyZXQgPT09IHVuZGVmaW5lZCkgcmV0ID0gbnVsbDtcblx0ICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgfTtcblx0fSBlbHNlIHtcblx0ICAgIGdldERvbWFpbiA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfTtcblx0fVxuXHR1dGlsLm5vdEVudW1lcmFibGVQcm9wKFByb21pc2UsIFwiX2dldERvbWFpblwiLCBnZXREb21haW4pO1xuXHRcblx0dmFyIGVzNSA9IF9kZXJlcV8oXCIuL2VzNVwiKTtcblx0dmFyIEFzeW5jID0gX2RlcmVxXyhcIi4vYXN5bmNcIik7XG5cdHZhciBhc3luYyA9IG5ldyBBc3luYygpO1xuXHRlczUuZGVmaW5lUHJvcGVydHkoUHJvbWlzZSwgXCJfYXN5bmNcIiwge3ZhbHVlOiBhc3luY30pO1xuXHR2YXIgZXJyb3JzID0gX2RlcmVxXyhcIi4vZXJyb3JzXCIpO1xuXHR2YXIgVHlwZUVycm9yID0gUHJvbWlzZS5UeXBlRXJyb3IgPSBlcnJvcnMuVHlwZUVycm9yO1xuXHRQcm9taXNlLlJhbmdlRXJyb3IgPSBlcnJvcnMuUmFuZ2VFcnJvcjtcblx0dmFyIENhbmNlbGxhdGlvbkVycm9yID0gUHJvbWlzZS5DYW5jZWxsYXRpb25FcnJvciA9IGVycm9ycy5DYW5jZWxsYXRpb25FcnJvcjtcblx0UHJvbWlzZS5UaW1lb3V0RXJyb3IgPSBlcnJvcnMuVGltZW91dEVycm9yO1xuXHRQcm9taXNlLk9wZXJhdGlvbmFsRXJyb3IgPSBlcnJvcnMuT3BlcmF0aW9uYWxFcnJvcjtcblx0UHJvbWlzZS5SZWplY3Rpb25FcnJvciA9IGVycm9ycy5PcGVyYXRpb25hbEVycm9yO1xuXHRQcm9taXNlLkFnZ3JlZ2F0ZUVycm9yID0gZXJyb3JzLkFnZ3JlZ2F0ZUVycm9yO1xuXHR2YXIgSU5URVJOQUwgPSBmdW5jdGlvbigpe307XG5cdHZhciBBUFBMWSA9IHt9O1xuXHR2YXIgTkVYVF9GSUxURVIgPSB7fTtcblx0dmFyIHRyeUNvbnZlcnRUb1Byb21pc2UgPSBfZGVyZXFfKFwiLi90aGVuYWJsZXNcIikoUHJvbWlzZSwgSU5URVJOQUwpO1xuXHR2YXIgUHJvbWlzZUFycmF5ID1cblx0ICAgIF9kZXJlcV8oXCIuL3Byb21pc2VfYXJyYXlcIikoUHJvbWlzZSwgSU5URVJOQUwsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnlDb252ZXJ0VG9Qcm9taXNlLCBhcGlSZWplY3Rpb24sIFByb3h5YWJsZSk7XG5cdHZhciBDb250ZXh0ID0gX2RlcmVxXyhcIi4vY29udGV4dFwiKShQcm9taXNlKTtcblx0IC8qanNoaW50IHVudXNlZDpmYWxzZSovXG5cdHZhciBjcmVhdGVDb250ZXh0ID0gQ29udGV4dC5jcmVhdGU7XG5cdHZhciBkZWJ1ZyA9IF9kZXJlcV8oXCIuL2RlYnVnZ2FiaWxpdHlcIikoUHJvbWlzZSwgQ29udGV4dCk7XG5cdHZhciBDYXB0dXJlZFRyYWNlID0gZGVidWcuQ2FwdHVyZWRUcmFjZTtcblx0dmFyIFBhc3NUaHJvdWdoSGFuZGxlckNvbnRleHQgPVxuXHQgICAgX2RlcmVxXyhcIi4vZmluYWxseVwiKShQcm9taXNlLCB0cnlDb252ZXJ0VG9Qcm9taXNlKTtcblx0dmFyIGNhdGNoRmlsdGVyID0gX2RlcmVxXyhcIi4vY2F0Y2hfZmlsdGVyXCIpKE5FWFRfRklMVEVSKTtcblx0dmFyIG5vZGViYWNrRm9yUHJvbWlzZSA9IF9kZXJlcV8oXCIuL25vZGViYWNrXCIpO1xuXHR2YXIgZXJyb3JPYmogPSB1dGlsLmVycm9yT2JqO1xuXHR2YXIgdHJ5Q2F0Y2ggPSB1dGlsLnRyeUNhdGNoO1xuXHRmdW5jdGlvbiBjaGVjayhzZWxmLCBleGVjdXRvcikge1xuXHQgICAgaWYgKHR5cGVvZiBleGVjdXRvciAhPT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKGV4ZWN1dG9yKSk7XG5cdCAgICB9XG5cdCAgICBpZiAoc2VsZi5jb25zdHJ1Y3RvciAhPT0gUHJvbWlzZSkge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJ0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgaW52b2tlZCBkaXJlY3RseVxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3IpIHtcblx0ICAgIHRoaXMuX2JpdEZpZWxkID0gMDtcblx0ICAgIHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlcjAgPSB1bmRlZmluZWQ7XG5cdCAgICB0aGlzLl9yZWplY3Rpb25IYW5kbGVyMCA9IHVuZGVmaW5lZDtcblx0ICAgIHRoaXMuX3Byb21pc2UwID0gdW5kZWZpbmVkO1xuXHQgICAgdGhpcy5fcmVjZWl2ZXIwID0gdW5kZWZpbmVkO1xuXHQgICAgaWYgKGV4ZWN1dG9yICE9PSBJTlRFUk5BTCkge1xuXHQgICAgICAgIGNoZWNrKHRoaXMsIGV4ZWN1dG9yKTtcblx0ICAgICAgICB0aGlzLl9yZXNvbHZlRnJvbUV4ZWN1dG9yKGV4ZWN1dG9yKTtcblx0ICAgIH1cblx0ICAgIHRoaXMuX3Byb21pc2VDcmVhdGVkKCk7XG5cdCAgICB0aGlzLl9maXJlRXZlbnQoXCJwcm9taXNlQ3JlYXRlZFwiLCB0aGlzKTtcblx0fVxuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gXCJbb2JqZWN0IFByb21pc2VdXCI7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5jYXVnaHQgPSBQcm9taXNlLnByb3RvdHlwZVtcImNhdGNoXCJdID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcblx0ICAgIGlmIChsZW4gPiAxKSB7XG5cdCAgICAgICAgdmFyIGNhdGNoSW5zdGFuY2VzID0gbmV3IEFycmF5KGxlbiAtIDEpLFxuXHQgICAgICAgICAgICBqID0gMCwgaTtcblx0ICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuIC0gMTsgKytpKSB7XG5cdCAgICAgICAgICAgIHZhciBpdGVtID0gYXJndW1lbnRzW2ldO1xuXHQgICAgICAgICAgICBpZiAodXRpbC5pc09iamVjdChpdGVtKSkge1xuXHQgICAgICAgICAgICAgICAgY2F0Y2hJbnN0YW5jZXNbaisrXSA9IGl0ZW07XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gYXBpUmVqZWN0aW9uKFwiZXhwZWN0aW5nIGFuIG9iamVjdCBidXQgZ290IFwiICtcblx0ICAgICAgICAgICAgICAgICAgICBcIkEgY2F0Y2ggc3RhdGVtZW50IHByZWRpY2F0ZSBcIiArIHV0aWwuY2xhc3NTdHJpbmcoaXRlbSkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGNhdGNoSW5zdGFuY2VzLmxlbmd0aCA9IGo7XG5cdCAgICAgICAgZm4gPSBhcmd1bWVudHNbaV07XG5cdCAgICAgICAgcmV0dXJuIHRoaXMudGhlbih1bmRlZmluZWQsIGNhdGNoRmlsdGVyKGNhdGNoSW5zdGFuY2VzLCBmbiwgdGhpcykpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXMudGhlbih1bmRlZmluZWQsIGZuKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLnJlZmxlY3QgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fdGhlbihyZWZsZWN0SGFuZGxlcixcblx0ICAgICAgICByZWZsZWN0SGFuZGxlciwgdW5kZWZpbmVkLCB0aGlzLCB1bmRlZmluZWQpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uIChkaWRGdWxmaWxsLCBkaWRSZWplY3QpIHtcblx0ICAgIGlmIChkZWJ1Zy53YXJuaW5ncygpICYmIGFyZ3VtZW50cy5sZW5ndGggPiAwICYmXG5cdCAgICAgICAgdHlwZW9mIGRpZEZ1bGZpbGwgIT09IFwiZnVuY3Rpb25cIiAmJlxuXHQgICAgICAgIHR5cGVvZiBkaWRSZWplY3QgIT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgIHZhciBtc2cgPSBcIi50aGVuKCkgb25seSBhY2NlcHRzIGZ1bmN0aW9ucyBidXQgd2FzIHBhc3NlZDogXCIgK1xuXHQgICAgICAgICAgICAgICAgdXRpbC5jbGFzc1N0cmluZyhkaWRGdWxmaWxsKTtcblx0ICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcblx0ICAgICAgICAgICAgbXNnICs9IFwiLCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZGlkUmVqZWN0KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdGhpcy5fd2Fybihtc2cpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXMuX3RoZW4oZGlkRnVsZmlsbCwgZGlkUmVqZWN0LCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLmRvbmUgPSBmdW5jdGlvbiAoZGlkRnVsZmlsbCwgZGlkUmVqZWN0KSB7XG5cdCAgICB2YXIgcHJvbWlzZSA9XG5cdCAgICAgICAgdGhpcy5fdGhlbihkaWRGdWxmaWxsLCBkaWRSZWplY3QsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuXHQgICAgcHJvbWlzZS5fc2V0SXNGaW5hbCgpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuc3ByZWFkID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICByZXR1cm4gYXBpUmVqZWN0aW9uKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZm4pKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB0aGlzLmFsbCgpLl90aGVuKGZuLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgQVBQTFksIHVuZGVmaW5lZCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgcmV0ID0ge1xuXHQgICAgICAgIGlzRnVsZmlsbGVkOiBmYWxzZSxcblx0ICAgICAgICBpc1JlamVjdGVkOiBmYWxzZSxcblx0ICAgICAgICBmdWxmaWxsbWVudFZhbHVlOiB1bmRlZmluZWQsXG5cdCAgICAgICAgcmVqZWN0aW9uUmVhc29uOiB1bmRlZmluZWRcblx0ICAgIH07XG5cdCAgICBpZiAodGhpcy5pc0Z1bGZpbGxlZCgpKSB7XG5cdCAgICAgICAgcmV0LmZ1bGZpbGxtZW50VmFsdWUgPSB0aGlzLnZhbHVlKCk7XG5cdCAgICAgICAgcmV0LmlzRnVsZmlsbGVkID0gdHJ1ZTtcblx0ICAgIH0gZWxzZSBpZiAodGhpcy5pc1JlamVjdGVkKCkpIHtcblx0ICAgICAgICByZXQucmVqZWN0aW9uUmVhc29uID0gdGhpcy5yZWFzb24oKTtcblx0ICAgICAgICByZXQuaXNSZWplY3RlZCA9IHRydWU7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmV0O1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuYWxsID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgdGhpcy5fd2FybihcIi5hbGwoKSB3YXMgcGFzc2VkIGFyZ3VtZW50cyBidXQgaXQgZG9lcyBub3QgdGFrZSBhbnlcIik7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbmV3IFByb21pc2VBcnJheSh0aGlzKS5wcm9taXNlKCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChmbikge1xuXHQgICAgcmV0dXJuIHRoaXMuY2F1Z2h0KHV0aWwub3JpZ2luYXRlc0Zyb21SZWplY3Rpb24sIGZuKTtcblx0fTtcblx0XG5cdFByb21pc2UuZ2V0TmV3TGlicmFyeUNvcHkgPSBtb2R1bGUuZXhwb3J0cztcblx0XG5cdFByb21pc2UuaXMgPSBmdW5jdGlvbiAodmFsKSB7XG5cdCAgICByZXR1cm4gdmFsIGluc3RhbmNlb2YgUHJvbWlzZTtcblx0fTtcblx0XG5cdFByb21pc2UuZnJvbU5vZGUgPSBQcm9taXNlLmZyb21DYWxsYmFjayA9IGZ1bmN0aW9uKGZuKSB7XG5cdCAgICB2YXIgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuXHQgICAgcmV0Ll9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuXHQgICAgdmFyIG11bHRpQXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gISFPYmplY3QoYXJndW1lbnRzWzFdKS5tdWx0aUFyZ3Ncblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlO1xuXHQgICAgdmFyIHJlc3VsdCA9IHRyeUNhdGNoKGZuKShub2RlYmFja0ZvclByb21pc2UocmV0LCBtdWx0aUFyZ3MpKTtcblx0ICAgIGlmIChyZXN1bHQgPT09IGVycm9yT2JqKSB7XG5cdCAgICAgICAgcmV0Ll9yZWplY3RDYWxsYmFjayhyZXN1bHQuZSwgdHJ1ZSk7XG5cdCAgICB9XG5cdCAgICBpZiAoIXJldC5faXNGYXRlU2VhbGVkKCkpIHJldC5fc2V0QXN5bmNHdWFyYW50ZWVkKCk7XG5cdCAgICByZXR1cm4gcmV0O1xuXHR9O1xuXHRcblx0UHJvbWlzZS5hbGwgPSBmdW5jdGlvbiAocHJvbWlzZXMpIHtcblx0ICAgIHJldHVybiBuZXcgUHJvbWlzZUFycmF5KHByb21pc2VzKS5wcm9taXNlKCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLmNhc3QgPSBmdW5jdGlvbiAob2JqKSB7XG5cdCAgICB2YXIgcmV0ID0gdHJ5Q29udmVydFRvUHJvbWlzZShvYmopO1xuXHQgICAgaWYgKCEocmV0IGluc3RhbmNlb2YgUHJvbWlzZSkpIHtcblx0ICAgICAgICByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG5cdCAgICAgICAgcmV0Ll9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuXHQgICAgICAgIHJldC5fc2V0RnVsZmlsbGVkKCk7XG5cdCAgICAgICAgcmV0Ll9yZWplY3Rpb25IYW5kbGVyMCA9IG9iajtcblx0ICAgIH1cblx0ICAgIHJldHVybiByZXQ7XG5cdH07XG5cdFxuXHRQcm9taXNlLnJlc29sdmUgPSBQcm9taXNlLmZ1bGZpbGxlZCA9IFByb21pc2UuY2FzdDtcblx0XG5cdFByb21pc2UucmVqZWN0ID0gUHJvbWlzZS5yZWplY3RlZCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcblx0ICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG5cdCAgICByZXQuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG5cdCAgICByZXQuX3JlamVjdENhbGxiYWNrKHJlYXNvbiwgdHJ1ZSk7XG5cdCAgICByZXR1cm4gcmV0O1xuXHR9O1xuXHRcblx0UHJvbWlzZS5zZXRTY2hlZHVsZXIgPSBmdW5jdGlvbihmbikge1xuXHQgICAgaWYgKHR5cGVvZiBmbiAhPT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKGZuKSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gYXN5bmMuc2V0U2NoZWR1bGVyKGZuKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl90aGVuID0gZnVuY3Rpb24gKFxuXHQgICAgZGlkRnVsZmlsbCxcblx0ICAgIGRpZFJlamVjdCxcblx0ICAgIF8sICAgIHJlY2VpdmVyLFxuXHQgICAgaW50ZXJuYWxEYXRhXG5cdCkge1xuXHQgICAgdmFyIGhhdmVJbnRlcm5hbERhdGEgPSBpbnRlcm5hbERhdGEgIT09IHVuZGVmaW5lZDtcblx0ICAgIHZhciBwcm9taXNlID0gaGF2ZUludGVybmFsRGF0YSA/IGludGVybmFsRGF0YSA6IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcblx0ICAgIHZhciB0YXJnZXQgPSB0aGlzLl90YXJnZXQoKTtcblx0ICAgIHZhciBiaXRGaWVsZCA9IHRhcmdldC5fYml0RmllbGQ7XG5cdFxuXHQgICAgaWYgKCFoYXZlSW50ZXJuYWxEYXRhKSB7XG5cdCAgICAgICAgcHJvbWlzZS5fcHJvcGFnYXRlRnJvbSh0aGlzLCAzKTtcblx0ICAgICAgICBwcm9taXNlLl9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuXHQgICAgICAgIGlmIChyZWNlaXZlciA9PT0gdW5kZWZpbmVkICYmXG5cdCAgICAgICAgICAgICgodGhpcy5fYml0RmllbGQgJiAyMDk3MTUyKSAhPT0gMCkpIHtcblx0ICAgICAgICAgICAgaWYgKCEoKGJpdEZpZWxkICYgNTAzOTcxODQpID09PSAwKSkge1xuXHQgICAgICAgICAgICAgICAgcmVjZWl2ZXIgPSB0aGlzLl9ib3VuZFZhbHVlKCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICByZWNlaXZlciA9IHRhcmdldCA9PT0gdGhpcyA/IHVuZGVmaW5lZCA6IHRoaXMuX2JvdW5kVG87XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZUNoYWluZWRcIiwgdGhpcywgcHJvbWlzZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGRvbWFpbiA9IGdldERvbWFpbigpO1xuXHQgICAgaWYgKCEoKGJpdEZpZWxkICYgNTAzOTcxODQpID09PSAwKSkge1xuXHQgICAgICAgIHZhciBoYW5kbGVyLCB2YWx1ZSwgc2V0dGxlciA9IHRhcmdldC5fc2V0dGxlUHJvbWlzZUN0eDtcblx0ICAgICAgICBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcblx0ICAgICAgICAgICAgdmFsdWUgPSB0YXJnZXQuX3JlamVjdGlvbkhhbmRsZXIwO1xuXHQgICAgICAgICAgICBoYW5kbGVyID0gZGlkRnVsZmlsbDtcblx0ICAgICAgICB9IGVsc2UgaWYgKCgoYml0RmllbGQgJiAxNjc3NzIxNikgIT09IDApKSB7XG5cdCAgICAgICAgICAgIHZhbHVlID0gdGFyZ2V0Ll9mdWxmaWxsbWVudEhhbmRsZXIwO1xuXHQgICAgICAgICAgICBoYW5kbGVyID0gZGlkUmVqZWN0O1xuXHQgICAgICAgICAgICB0YXJnZXQuX3Vuc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQoKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBzZXR0bGVyID0gdGFyZ2V0Ll9zZXR0bGVQcm9taXNlTGF0ZUNhbmNlbGxhdGlvbk9ic2VydmVyO1xuXHQgICAgICAgICAgICB2YWx1ZSA9IG5ldyBDYW5jZWxsYXRpb25FcnJvcihcImxhdGUgY2FuY2VsbGF0aW9uIG9ic2VydmVyXCIpO1xuXHQgICAgICAgICAgICB0YXJnZXQuX2F0dGFjaEV4dHJhVHJhY2UodmFsdWUpO1xuXHQgICAgICAgICAgICBoYW5kbGVyID0gZGlkUmVqZWN0O1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgYXN5bmMuaW52b2tlKHNldHRsZXIsIHRhcmdldCwge1xuXHQgICAgICAgICAgICBoYW5kbGVyOiBkb21haW4gPT09IG51bGwgPyBoYW5kbGVyXG5cdCAgICAgICAgICAgICAgICA6ICh0eXBlb2YgaGFuZGxlciA9PT0gXCJmdW5jdGlvblwiICYmXG5cdCAgICAgICAgICAgICAgICAgICAgdXRpbC5kb21haW5CaW5kKGRvbWFpbiwgaGFuZGxlcikpLFxuXHQgICAgICAgICAgICBwcm9taXNlOiBwcm9taXNlLFxuXHQgICAgICAgICAgICByZWNlaXZlcjogcmVjZWl2ZXIsXG5cdCAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuXHQgICAgICAgIH0pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB0YXJnZXQuX2FkZENhbGxiYWNrcyhkaWRGdWxmaWxsLCBkaWRSZWplY3QsIHByb21pc2UsIHJlY2VpdmVyLCBkb21haW4pO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBwcm9taXNlO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2xlbmd0aCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLl9iaXRGaWVsZCAmIDY1NTM1O1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2lzRmF0ZVNlYWxlZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiAxMTc1MDYwNDgpICE9PSAwO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2lzRm9sbG93aW5nID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDY3MTA4ODY0KSA9PT0gNjcxMDg4NjQ7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fc2V0TGVuZ3RoID0gZnVuY3Rpb24gKGxlbikge1xuXHQgICAgdGhpcy5fYml0RmllbGQgPSAodGhpcy5fYml0RmllbGQgJiAtNjU1MzYpIHxcblx0ICAgICAgICAobGVuICYgNjU1MzUpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3NldEZ1bGZpbGxlZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCAzMzU1NDQzMjtcblx0ICAgIHRoaXMuX2ZpcmVFdmVudChcInByb21pc2VGdWxmaWxsZWRcIiwgdGhpcyk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fc2V0UmVqZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgMTY3NzcyMTY7XG5cdCAgICB0aGlzLl9maXJlRXZlbnQoXCJwcm9taXNlUmVqZWN0ZWRcIiwgdGhpcyk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fc2V0Rm9sbG93aW5nID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCB8IDY3MTA4ODY0O1xuXHQgICAgdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZVJlc29sdmVkXCIsIHRoaXMpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3NldElzRmluYWwgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgNDE5NDMwNDtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9pc0ZpbmFsID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDQxOTQzMDQpID4gMDtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl91bnNldENhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCAmICh+NjU1MzYpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3NldENhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCB8IDY1NTM2O1xuXHQgICAgdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZUNhbmNlbGxlZFwiLCB0aGlzKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9zZXRXaWxsQmVDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcblx0ICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCA4Mzg4NjA4O1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3NldEFzeW5jR3VhcmFudGVlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgaWYgKGFzeW5jLmhhc0N1c3RvbVNjaGVkdWxlcigpKSByZXR1cm47XG5cdCAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgMTM0MjE3NzI4O1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3JlY2VpdmVyQXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcblx0ICAgIHZhciByZXQgPSBpbmRleCA9PT0gMCA/IHRoaXMuX3JlY2VpdmVyMCA6IHRoaXNbXG5cdCAgICAgICAgICAgIGluZGV4ICogNCAtIDQgKyAzXTtcblx0ICAgIGlmIChyZXQgPT09IFVOREVGSU5FRF9CSU5ESU5HKSB7XG5cdCAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcblx0ICAgIH0gZWxzZSBpZiAocmV0ID09PSB1bmRlZmluZWQgJiYgdGhpcy5faXNCb3VuZCgpKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kVmFsdWUoKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiByZXQ7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fcHJvbWlzZUF0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG5cdCAgICByZXR1cm4gdGhpc1tcblx0ICAgICAgICAgICAgaW5kZXggKiA0IC0gNCArIDJdO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2Z1bGZpbGxtZW50SGFuZGxlckF0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG5cdCAgICByZXR1cm4gdGhpc1tcblx0ICAgICAgICAgICAgaW5kZXggKiA0IC0gNCArIDBdO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3JlamVjdGlvbkhhbmRsZXJBdCA9IGZ1bmN0aW9uIChpbmRleCkge1xuXHQgICAgcmV0dXJuIHRoaXNbXG5cdCAgICAgICAgICAgIGluZGV4ICogNCAtIDQgKyAxXTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9ib3VuZFZhbHVlID0gZnVuY3Rpb24oKSB7fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9taWdyYXRlQ2FsbGJhY2swID0gZnVuY3Rpb24gKGZvbGxvd2VyKSB7XG5cdCAgICB2YXIgYml0RmllbGQgPSBmb2xsb3dlci5fYml0RmllbGQ7XG5cdCAgICB2YXIgZnVsZmlsbCA9IGZvbGxvd2VyLl9mdWxmaWxsbWVudEhhbmRsZXIwO1xuXHQgICAgdmFyIHJlamVjdCA9IGZvbGxvd2VyLl9yZWplY3Rpb25IYW5kbGVyMDtcblx0ICAgIHZhciBwcm9taXNlID0gZm9sbG93ZXIuX3Byb21pc2UwO1xuXHQgICAgdmFyIHJlY2VpdmVyID0gZm9sbG93ZXIuX3JlY2VpdmVyQXQoMCk7XG5cdCAgICBpZiAocmVjZWl2ZXIgPT09IHVuZGVmaW5lZCkgcmVjZWl2ZXIgPSBVTkRFRklORURfQklORElORztcblx0ICAgIHRoaXMuX2FkZENhbGxiYWNrcyhmdWxmaWxsLCByZWplY3QsIHByb21pc2UsIHJlY2VpdmVyLCBudWxsKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9taWdyYXRlQ2FsbGJhY2tBdCA9IGZ1bmN0aW9uIChmb2xsb3dlciwgaW5kZXgpIHtcblx0ICAgIHZhciBmdWxmaWxsID0gZm9sbG93ZXIuX2Z1bGZpbGxtZW50SGFuZGxlckF0KGluZGV4KTtcblx0ICAgIHZhciByZWplY3QgPSBmb2xsb3dlci5fcmVqZWN0aW9uSGFuZGxlckF0KGluZGV4KTtcblx0ICAgIHZhciBwcm9taXNlID0gZm9sbG93ZXIuX3Byb21pc2VBdChpbmRleCk7XG5cdCAgICB2YXIgcmVjZWl2ZXIgPSBmb2xsb3dlci5fcmVjZWl2ZXJBdChpbmRleCk7XG5cdCAgICBpZiAocmVjZWl2ZXIgPT09IHVuZGVmaW5lZCkgcmVjZWl2ZXIgPSBVTkRFRklORURfQklORElORztcblx0ICAgIHRoaXMuX2FkZENhbGxiYWNrcyhmdWxmaWxsLCByZWplY3QsIHByb21pc2UsIHJlY2VpdmVyLCBudWxsKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9hZGRDYWxsYmFja3MgPSBmdW5jdGlvbiAoXG5cdCAgICBmdWxmaWxsLFxuXHQgICAgcmVqZWN0LFxuXHQgICAgcHJvbWlzZSxcblx0ICAgIHJlY2VpdmVyLFxuXHQgICAgZG9tYWluXG5cdCkge1xuXHQgICAgdmFyIGluZGV4ID0gdGhpcy5fbGVuZ3RoKCk7XG5cdFxuXHQgICAgaWYgKGluZGV4ID49IDY1NTM1IC0gNCkge1xuXHQgICAgICAgIGluZGV4ID0gMDtcblx0ICAgICAgICB0aGlzLl9zZXRMZW5ndGgoMCk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGluZGV4ID09PSAwKSB7XG5cdCAgICAgICAgdGhpcy5fcHJvbWlzZTAgPSBwcm9taXNlO1xuXHQgICAgICAgIHRoaXMuX3JlY2VpdmVyMCA9IHJlY2VpdmVyO1xuXHQgICAgICAgIGlmICh0eXBlb2YgZnVsZmlsbCA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlcjAgPVxuXHQgICAgICAgICAgICAgICAgZG9tYWluID09PSBudWxsID8gZnVsZmlsbCA6IHV0aWwuZG9tYWluQmluZChkb21haW4sIGZ1bGZpbGwpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAodHlwZW9mIHJlamVjdCA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwID1cblx0ICAgICAgICAgICAgICAgIGRvbWFpbiA9PT0gbnVsbCA/IHJlamVjdCA6IHV0aWwuZG9tYWluQmluZChkb21haW4sIHJlamVjdCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgYmFzZSA9IGluZGV4ICogNCAtIDQ7XG5cdCAgICAgICAgdGhpc1tiYXNlICsgMl0gPSBwcm9taXNlO1xuXHQgICAgICAgIHRoaXNbYmFzZSArIDNdID0gcmVjZWl2ZXI7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBmdWxmaWxsID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgdGhpc1tiYXNlICsgMF0gPVxuXHQgICAgICAgICAgICAgICAgZG9tYWluID09PSBudWxsID8gZnVsZmlsbCA6IHV0aWwuZG9tYWluQmluZChkb21haW4sIGZ1bGZpbGwpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAodHlwZW9mIHJlamVjdCA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgIHRoaXNbYmFzZSArIDFdID1cblx0ICAgICAgICAgICAgICAgIGRvbWFpbiA9PT0gbnVsbCA/IHJlamVjdCA6IHV0aWwuZG9tYWluQmluZChkb21haW4sIHJlamVjdCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgdGhpcy5fc2V0TGVuZ3RoKGluZGV4ICsgMSk7XG5cdCAgICByZXR1cm4gaW5kZXg7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fcHJveHkgPSBmdW5jdGlvbiAocHJveHlhYmxlLCBhcmcpIHtcblx0ICAgIHRoaXMuX2FkZENhbGxiYWNrcyh1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJnLCBwcm94eWFibGUsIG51bGwpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3Jlc29sdmVDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbHVlLCBzaG91bGRCaW5kKSB7XG5cdCAgICBpZiAoKCh0aGlzLl9iaXRGaWVsZCAmIDExNzUwNjA0OCkgIT09IDApKSByZXR1cm47XG5cdCAgICBpZiAodmFsdWUgPT09IHRoaXMpXG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX3JlamVjdENhbGxiYWNrKG1ha2VTZWxmUmVzb2x1dGlvbkVycm9yKCksIGZhbHNlKTtcblx0ICAgIHZhciBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHZhbHVlLCB0aGlzKTtcblx0ICAgIGlmICghKG1heWJlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpKSByZXR1cm4gdGhpcy5fZnVsZmlsbCh2YWx1ZSk7XG5cdFxuXHQgICAgaWYgKHNob3VsZEJpbmQpIHRoaXMuX3Byb3BhZ2F0ZUZyb20obWF5YmVQcm9taXNlLCAyKTtcblx0XG5cdCAgICB2YXIgcHJvbWlzZSA9IG1heWJlUHJvbWlzZS5fdGFyZ2V0KCk7XG5cdFxuXHQgICAgaWYgKHByb21pc2UgPT09IHRoaXMpIHtcblx0ICAgICAgICB0aGlzLl9yZWplY3QobWFrZVNlbGZSZXNvbHV0aW9uRXJyb3IoKSk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBiaXRGaWVsZCA9IHByb21pc2UuX2JpdEZpZWxkO1xuXHQgICAgaWYgKCgoYml0RmllbGQgJiA1MDM5NzE4NCkgPT09IDApKSB7XG5cdCAgICAgICAgdmFyIGxlbiA9IHRoaXMuX2xlbmd0aCgpO1xuXHQgICAgICAgIGlmIChsZW4gPiAwKSBwcm9taXNlLl9taWdyYXRlQ2FsbGJhY2swKHRoaXMpO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuOyArK2kpIHtcblx0ICAgICAgICAgICAgcHJvbWlzZS5fbWlncmF0ZUNhbGxiYWNrQXQodGhpcywgaSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHRoaXMuX3NldEZvbGxvd2luZygpO1xuXHQgICAgICAgIHRoaXMuX3NldExlbmd0aCgwKTtcblx0ICAgICAgICB0aGlzLl9zZXRGb2xsb3dlZShwcm9taXNlKTtcblx0ICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcblx0ICAgICAgICB0aGlzLl9mdWxmaWxsKHByb21pc2UuX3ZhbHVlKCkpO1xuXHQgICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMTY3NzcyMTYpICE9PSAwKSkge1xuXHQgICAgICAgIHRoaXMuX3JlamVjdChwcm9taXNlLl9yZWFzb24oKSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciByZWFzb24gPSBuZXcgQ2FuY2VsbGF0aW9uRXJyb3IoXCJsYXRlIGNhbmNlbGxhdGlvbiBvYnNlcnZlclwiKTtcblx0ICAgICAgICBwcm9taXNlLl9hdHRhY2hFeHRyYVRyYWNlKHJlYXNvbik7XG5cdCAgICAgICAgdGhpcy5fcmVqZWN0KHJlYXNvbik7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fcmVqZWN0Q2FsbGJhY2sgPVxuXHRmdW5jdGlvbihyZWFzb24sIHN5bmNocm9ub3VzLCBpZ25vcmVOb25FcnJvcldhcm5pbmdzKSB7XG5cdCAgICB2YXIgdHJhY2UgPSB1dGlsLmVuc3VyZUVycm9yT2JqZWN0KHJlYXNvbik7XG5cdCAgICB2YXIgaGFzU3RhY2sgPSB0cmFjZSA9PT0gcmVhc29uO1xuXHQgICAgaWYgKCFoYXNTdGFjayAmJiAhaWdub3JlTm9uRXJyb3JXYXJuaW5ncyAmJiBkZWJ1Zy53YXJuaW5ncygpKSB7XG5cdCAgICAgICAgdmFyIG1lc3NhZ2UgPSBcImEgcHJvbWlzZSB3YXMgcmVqZWN0ZWQgd2l0aCBhIG5vbi1lcnJvcjogXCIgK1xuXHQgICAgICAgICAgICB1dGlsLmNsYXNzU3RyaW5nKHJlYXNvbik7XG5cdCAgICAgICAgdGhpcy5fd2FybihtZXNzYWdlLCB0cnVlKTtcblx0ICAgIH1cblx0ICAgIHRoaXMuX2F0dGFjaEV4dHJhVHJhY2UodHJhY2UsIHN5bmNocm9ub3VzID8gaGFzU3RhY2sgOiBmYWxzZSk7XG5cdCAgICB0aGlzLl9yZWplY3QocmVhc29uKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9yZXNvbHZlRnJvbUV4ZWN1dG9yID0gZnVuY3Rpb24gKGV4ZWN1dG9yKSB7XG5cdCAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG5cdCAgICB0aGlzLl9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuXHQgICAgdGhpcy5fcHVzaENvbnRleHQoKTtcblx0ICAgIHZhciBzeW5jaHJvbm91cyA9IHRydWU7XG5cdCAgICB2YXIgciA9IHRoaXMuX2V4ZWN1dGUoZXhlY3V0b3IsIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgcHJvbWlzZS5fcmVzb2x2ZUNhbGxiYWNrKHZhbHVlKTtcblx0ICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcblx0ICAgICAgICBwcm9taXNlLl9yZWplY3RDYWxsYmFjayhyZWFzb24sIHN5bmNocm9ub3VzKTtcblx0ICAgIH0pO1xuXHQgICAgc3luY2hyb25vdXMgPSBmYWxzZTtcblx0ICAgIHRoaXMuX3BvcENvbnRleHQoKTtcblx0XG5cdCAgICBpZiAociAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2sociwgdHJ1ZSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fc2V0dGxlUHJvbWlzZUZyb21IYW5kbGVyID0gZnVuY3Rpb24gKFxuXHQgICAgaGFuZGxlciwgcmVjZWl2ZXIsIHZhbHVlLCBwcm9taXNlXG5cdCkge1xuXHQgICAgdmFyIGJpdEZpZWxkID0gcHJvbWlzZS5fYml0RmllbGQ7XG5cdCAgICBpZiAoKChiaXRGaWVsZCAmIDY1NTM2KSAhPT0gMCkpIHJldHVybjtcblx0ICAgIHByb21pc2UuX3B1c2hDb250ZXh0KCk7XG5cdCAgICB2YXIgeDtcblx0ICAgIGlmIChyZWNlaXZlciA9PT0gQVBQTFkpIHtcblx0ICAgICAgICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZS5sZW5ndGggIT09IFwibnVtYmVyXCIpIHtcblx0ICAgICAgICAgICAgeCA9IGVycm9yT2JqO1xuXHQgICAgICAgICAgICB4LmUgPSBuZXcgVHlwZUVycm9yKFwiY2Fubm90IC5zcHJlYWQoKSBhIG5vbi1hcnJheTogXCIgK1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlsLmNsYXNzU3RyaW5nKHZhbHVlKSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgeCA9IHRyeUNhdGNoKGhhbmRsZXIpLmFwcGx5KHRoaXMuX2JvdW5kVmFsdWUoKSwgdmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgeCA9IHRyeUNhdGNoKGhhbmRsZXIpLmNhbGwocmVjZWl2ZXIsIHZhbHVlKTtcblx0ICAgIH1cblx0ICAgIHZhciBwcm9taXNlQ3JlYXRlZCA9IHByb21pc2UuX3BvcENvbnRleHQoKTtcblx0ICAgIGJpdEZpZWxkID0gcHJvbWlzZS5fYml0RmllbGQ7XG5cdCAgICBpZiAoKChiaXRGaWVsZCAmIDY1NTM2KSAhPT0gMCkpIHJldHVybjtcblx0XG5cdCAgICBpZiAoeCA9PT0gTkVYVF9GSUxURVIpIHtcblx0ICAgICAgICBwcm9taXNlLl9yZWplY3QodmFsdWUpO1xuXHQgICAgfSBlbHNlIGlmICh4ID09PSBlcnJvck9iaikge1xuXHQgICAgICAgIHByb21pc2UuX3JlamVjdENhbGxiYWNrKHguZSwgZmFsc2UpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBkZWJ1Zy5jaGVja0ZvcmdvdHRlblJldHVybnMoeCwgcHJvbWlzZUNyZWF0ZWQsIFwiXCIsICBwcm9taXNlLCB0aGlzKTtcblx0ICAgICAgICBwcm9taXNlLl9yZXNvbHZlQ2FsbGJhY2soeCk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fdGFyZ2V0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgcmV0ID0gdGhpcztcblx0ICAgIHdoaWxlIChyZXQuX2lzRm9sbG93aW5nKCkpIHJldCA9IHJldC5fZm9sbG93ZWUoKTtcblx0ICAgIHJldHVybiByZXQ7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fZm9sbG93ZWUgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiB0aGlzLl9yZWplY3Rpb25IYW5kbGVyMDtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9zZXRGb2xsb3dlZSA9IGZ1bmN0aW9uKHByb21pc2UpIHtcblx0ICAgIHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwID0gcHJvbWlzZTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlID0gZnVuY3Rpb24ocHJvbWlzZSwgaGFuZGxlciwgcmVjZWl2ZXIsIHZhbHVlKSB7XG5cdCAgICB2YXIgaXNQcm9taXNlID0gcHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2U7XG5cdCAgICB2YXIgYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZDtcblx0ICAgIHZhciBhc3luY0d1YXJhbnRlZWQgPSAoKGJpdEZpZWxkICYgMTM0MjE3NzI4KSAhPT0gMCk7XG5cdCAgICBpZiAoKChiaXRGaWVsZCAmIDY1NTM2KSAhPT0gMCkpIHtcblx0ICAgICAgICBpZiAoaXNQcm9taXNlKSBwcm9taXNlLl9pbnZva2VJbnRlcm5hbE9uQ2FuY2VsKCk7XG5cdFxuXHQgICAgICAgIGlmIChyZWNlaXZlciBpbnN0YW5jZW9mIFBhc3NUaHJvdWdoSGFuZGxlckNvbnRleHQgJiZcblx0ICAgICAgICAgICAgcmVjZWl2ZXIuaXNGaW5hbGx5SGFuZGxlcigpKSB7XG5cdCAgICAgICAgICAgIHJlY2VpdmVyLmNhbmNlbFByb21pc2UgPSBwcm9taXNlO1xuXHQgICAgICAgICAgICBpZiAodHJ5Q2F0Y2goaGFuZGxlcikuY2FsbChyZWNlaXZlciwgdmFsdWUpID09PSBlcnJvck9iaikge1xuXHQgICAgICAgICAgICAgICAgcHJvbWlzZS5fcmVqZWN0KGVycm9yT2JqLmUpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIGlmIChoYW5kbGVyID09PSByZWZsZWN0SGFuZGxlcikge1xuXHQgICAgICAgICAgICBwcm9taXNlLl9mdWxmaWxsKHJlZmxlY3RIYW5kbGVyLmNhbGwocmVjZWl2ZXIpKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKHJlY2VpdmVyIGluc3RhbmNlb2YgUHJveHlhYmxlKSB7XG5cdCAgICAgICAgICAgIHJlY2VpdmVyLl9wcm9taXNlQ2FuY2VsbGVkKHByb21pc2UpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoaXNQcm9taXNlIHx8IHByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlQXJyYXkpIHtcblx0ICAgICAgICAgICAgcHJvbWlzZS5fY2FuY2VsKCk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmVjZWl2ZXIuY2FuY2VsKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgaWYgKCFpc1Byb21pc2UpIHtcblx0ICAgICAgICAgICAgaGFuZGxlci5jYWxsKHJlY2VpdmVyLCB2YWx1ZSwgcHJvbWlzZSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaWYgKGFzeW5jR3VhcmFudGVlZCkgcHJvbWlzZS5fc2V0QXN5bmNHdWFyYW50ZWVkKCk7XG5cdCAgICAgICAgICAgIHRoaXMuX3NldHRsZVByb21pc2VGcm9tSGFuZGxlcihoYW5kbGVyLCByZWNlaXZlciwgdmFsdWUsIHByb21pc2UpO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAocmVjZWl2ZXIgaW5zdGFuY2VvZiBQcm94eWFibGUpIHtcblx0ICAgICAgICBpZiAoIXJlY2VpdmVyLl9pc1Jlc29sdmVkKCkpIHtcblx0ICAgICAgICAgICAgaWYgKCgoYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDApKSB7XG5cdCAgICAgICAgICAgICAgICByZWNlaXZlci5fcHJvbWlzZUZ1bGZpbGxlZCh2YWx1ZSwgcHJvbWlzZSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICByZWNlaXZlci5fcHJvbWlzZVJlamVjdGVkKHZhbHVlLCBwcm9taXNlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAoaXNQcm9taXNlKSB7XG5cdCAgICAgICAgaWYgKGFzeW5jR3VhcmFudGVlZCkgcHJvbWlzZS5fc2V0QXN5bmNHdWFyYW50ZWVkKCk7XG5cdCAgICAgICAgaWYgKCgoYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDApKSB7XG5cdCAgICAgICAgICAgIHByb21pc2UuX2Z1bGZpbGwodmFsdWUpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHByb21pc2UuX3JlamVjdCh2YWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3NldHRsZVByb21pc2VMYXRlQ2FuY2VsbGF0aW9uT2JzZXJ2ZXIgPSBmdW5jdGlvbihjdHgpIHtcblx0ICAgIHZhciBoYW5kbGVyID0gY3R4LmhhbmRsZXI7XG5cdCAgICB2YXIgcHJvbWlzZSA9IGN0eC5wcm9taXNlO1xuXHQgICAgdmFyIHJlY2VpdmVyID0gY3R4LnJlY2VpdmVyO1xuXHQgICAgdmFyIHZhbHVlID0gY3R4LnZhbHVlO1xuXHQgICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICBpZiAoIShwcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkpIHtcblx0ICAgICAgICAgICAgaGFuZGxlci5jYWxsKHJlY2VpdmVyLCB2YWx1ZSwgcHJvbWlzZSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdGhpcy5fc2V0dGxlUHJvbWlzZUZyb21IYW5kbGVyKGhhbmRsZXIsIHJlY2VpdmVyLCB2YWx1ZSwgcHJvbWlzZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIGlmIChwcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuXHQgICAgICAgIHByb21pc2UuX3JlamVjdCh2YWx1ZSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fc2V0dGxlUHJvbWlzZUN0eCA9IGZ1bmN0aW9uKGN0eCkge1xuXHQgICAgdGhpcy5fc2V0dGxlUHJvbWlzZShjdHgucHJvbWlzZSwgY3R4LmhhbmRsZXIsIGN0eC5yZWNlaXZlciwgY3R4LnZhbHVlKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlMCA9IGZ1bmN0aW9uKGhhbmRsZXIsIHZhbHVlLCBiaXRGaWVsZCkge1xuXHQgICAgdmFyIHByb21pc2UgPSB0aGlzLl9wcm9taXNlMDtcblx0ICAgIHZhciByZWNlaXZlciA9IHRoaXMuX3JlY2VpdmVyQXQoMCk7XG5cdCAgICB0aGlzLl9wcm9taXNlMCA9IHVuZGVmaW5lZDtcblx0ICAgIHRoaXMuX3JlY2VpdmVyMCA9IHVuZGVmaW5lZDtcblx0ICAgIHRoaXMuX3NldHRsZVByb21pc2UocHJvbWlzZSwgaGFuZGxlciwgcmVjZWl2ZXIsIHZhbHVlKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9jbGVhckNhbGxiYWNrRGF0YUF0SW5kZXggPSBmdW5jdGlvbihpbmRleCkge1xuXHQgICAgdmFyIGJhc2UgPSBpbmRleCAqIDQgLSA0O1xuXHQgICAgdGhpc1tiYXNlICsgMl0gPVxuXHQgICAgdGhpc1tiYXNlICsgM10gPVxuXHQgICAgdGhpc1tiYXNlICsgMF0gPVxuXHQgICAgdGhpc1tiYXNlICsgMV0gPSB1bmRlZmluZWQ7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fZnVsZmlsbCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgdmFyIGJpdEZpZWxkID0gdGhpcy5fYml0RmllbGQ7XG5cdCAgICBpZiAoKChiaXRGaWVsZCAmIDExNzUwNjA0OCkgPj4+IDE2KSkgcmV0dXJuO1xuXHQgICAgaWYgKHZhbHVlID09PSB0aGlzKSB7XG5cdCAgICAgICAgdmFyIGVyciA9IG1ha2VTZWxmUmVzb2x1dGlvbkVycm9yKCk7XG5cdCAgICAgICAgdGhpcy5fYXR0YWNoRXh0cmFUcmFjZShlcnIpO1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9yZWplY3QoZXJyKTtcblx0ICAgIH1cblx0ICAgIHRoaXMuX3NldEZ1bGZpbGxlZCgpO1xuXHQgICAgdGhpcy5fcmVqZWN0aW9uSGFuZGxlcjAgPSB2YWx1ZTtcblx0XG5cdCAgICBpZiAoKGJpdEZpZWxkICYgNjU1MzUpID4gMCkge1xuXHQgICAgICAgIGlmICgoKGJpdEZpZWxkICYgMTM0MjE3NzI4KSAhPT0gMCkpIHtcblx0ICAgICAgICAgICAgdGhpcy5fc2V0dGxlUHJvbWlzZXMoKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBhc3luYy5zZXR0bGVQcm9taXNlcyh0aGlzKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fcmVqZWN0ID0gZnVuY3Rpb24gKHJlYXNvbikge1xuXHQgICAgdmFyIGJpdEZpZWxkID0gdGhpcy5fYml0RmllbGQ7XG5cdCAgICBpZiAoKChiaXRGaWVsZCAmIDExNzUwNjA0OCkgPj4+IDE2KSkgcmV0dXJuO1xuXHQgICAgdGhpcy5fc2V0UmVqZWN0ZWQoKTtcblx0ICAgIHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlcjAgPSByZWFzb247XG5cdFxuXHQgICAgaWYgKHRoaXMuX2lzRmluYWwoKSkge1xuXHQgICAgICAgIHJldHVybiBhc3luYy5mYXRhbEVycm9yKHJlYXNvbiwgdXRpbC5pc05vZGUpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICgoYml0RmllbGQgJiA2NTUzNSkgPiAwKSB7XG5cdCAgICAgICAgYXN5bmMuc2V0dGxlUHJvbWlzZXModGhpcyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuX2Vuc3VyZVBvc3NpYmxlUmVqZWN0aW9uSGFuZGxlZCgpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2Z1bGZpbGxQcm9taXNlcyA9IGZ1bmN0aW9uIChsZW4sIHZhbHVlKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGhhbmRsZXIgPSB0aGlzLl9mdWxmaWxsbWVudEhhbmRsZXJBdChpKTtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuX3Byb21pc2VBdChpKTtcblx0ICAgICAgICB2YXIgcmVjZWl2ZXIgPSB0aGlzLl9yZWNlaXZlckF0KGkpO1xuXHQgICAgICAgIHRoaXMuX2NsZWFyQ2FsbGJhY2tEYXRhQXRJbmRleChpKTtcblx0ICAgICAgICB0aGlzLl9zZXR0bGVQcm9taXNlKHByb21pc2UsIGhhbmRsZXIsIHJlY2VpdmVyLCB2YWx1ZSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fcmVqZWN0UHJvbWlzZXMgPSBmdW5jdGlvbiAobGVuLCByZWFzb24pIHtcblx0ICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgICAgICB2YXIgaGFuZGxlciA9IHRoaXMuX3JlamVjdGlvbkhhbmRsZXJBdChpKTtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuX3Byb21pc2VBdChpKTtcblx0ICAgICAgICB2YXIgcmVjZWl2ZXIgPSB0aGlzLl9yZWNlaXZlckF0KGkpO1xuXHQgICAgICAgIHRoaXMuX2NsZWFyQ2FsbGJhY2tEYXRhQXRJbmRleChpKTtcblx0ICAgICAgICB0aGlzLl9zZXR0bGVQcm9taXNlKHByb21pc2UsIGhhbmRsZXIsIHJlY2VpdmVyLCByZWFzb24pO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3NldHRsZVByb21pc2VzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIGJpdEZpZWxkID0gdGhpcy5fYml0RmllbGQ7XG5cdCAgICB2YXIgbGVuID0gKGJpdEZpZWxkICYgNjU1MzUpO1xuXHRcblx0ICAgIGlmIChsZW4gPiAwKSB7XG5cdCAgICAgICAgaWYgKCgoYml0RmllbGQgJiAxNjg0Mjc1MikgIT09IDApKSB7XG5cdCAgICAgICAgICAgIHZhciByZWFzb24gPSB0aGlzLl9mdWxmaWxsbWVudEhhbmRsZXIwO1xuXHQgICAgICAgICAgICB0aGlzLl9zZXR0bGVQcm9taXNlMCh0aGlzLl9yZWplY3Rpb25IYW5kbGVyMCwgcmVhc29uLCBiaXRGaWVsZCk7XG5cdCAgICAgICAgICAgIHRoaXMuX3JlamVjdFByb21pc2VzKGxlbiwgcmVhc29uKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLl9yZWplY3Rpb25IYW5kbGVyMDtcblx0ICAgICAgICAgICAgdGhpcy5fc2V0dGxlUHJvbWlzZTAodGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyMCwgdmFsdWUsIGJpdEZpZWxkKTtcblx0ICAgICAgICAgICAgdGhpcy5fZnVsZmlsbFByb21pc2VzKGxlbiwgdmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0aGlzLl9zZXRMZW5ndGgoMCk7XG5cdCAgICB9XG5cdCAgICB0aGlzLl9jbGVhckNhbmNlbGxhdGlvbkRhdGEoKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9zZXR0bGVkVmFsdWUgPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciBiaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkO1xuXHQgICAgaWYgKCgoYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDApKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwO1xuXHQgICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMTY3NzcyMTYpICE9PSAwKSkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9mdWxmaWxsbWVudEhhbmRsZXIwO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gZGVmZXJSZXNvbHZlKHYpIHt0aGlzLnByb21pc2UuX3Jlc29sdmVDYWxsYmFjayh2KTt9XG5cdGZ1bmN0aW9uIGRlZmVyUmVqZWN0KHYpIHt0aGlzLnByb21pc2UuX3JlamVjdENhbGxiYWNrKHYsIGZhbHNlKTt9XG5cdFxuXHRQcm9taXNlLmRlZmVyID0gUHJvbWlzZS5wZW5kaW5nID0gZnVuY3Rpb24oKSB7XG5cdCAgICBkZWJ1Zy5kZXByZWNhdGVkKFwiUHJvbWlzZS5kZWZlclwiLCBcIm5ldyBQcm9taXNlXCIpO1xuXHQgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIHByb21pc2U6IHByb21pc2UsXG5cdCAgICAgICAgcmVzb2x2ZTogZGVmZXJSZXNvbHZlLFxuXHQgICAgICAgIHJlamVjdDogZGVmZXJSZWplY3Rcblx0ICAgIH07XG5cdH07XG5cdFxuXHR1dGlsLm5vdEVudW1lcmFibGVQcm9wKFByb21pc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgXCJfbWFrZVNlbGZSZXNvbHV0aW9uRXJyb3JcIixcblx0ICAgICAgICAgICAgICAgICAgICAgICBtYWtlU2VsZlJlc29sdXRpb25FcnJvcik7XG5cdFxuXHRfZGVyZXFfKFwiLi9tZXRob2RcIikoUHJvbWlzZSwgSU5URVJOQUwsIHRyeUNvbnZlcnRUb1Byb21pc2UsIGFwaVJlamVjdGlvbixcblx0ICAgIGRlYnVnKTtcblx0X2RlcmVxXyhcIi4vYmluZFwiKShQcm9taXNlLCBJTlRFUk5BTCwgdHJ5Q29udmVydFRvUHJvbWlzZSwgZGVidWcpO1xuXHRfZGVyZXFfKFwiLi9jYW5jZWxcIikoUHJvbWlzZSwgUHJvbWlzZUFycmF5LCBhcGlSZWplY3Rpb24sIGRlYnVnKTtcblx0X2RlcmVxXyhcIi4vZGlyZWN0X3Jlc29sdmVcIikoUHJvbWlzZSk7XG5cdF9kZXJlcV8oXCIuL3N5bmNocm9ub3VzX2luc3BlY3Rpb25cIikoUHJvbWlzZSk7XG5cdF9kZXJlcV8oXCIuL2pvaW5cIikoXG5cdCAgICBQcm9taXNlLCBQcm9taXNlQXJyYXksIHRyeUNvbnZlcnRUb1Byb21pc2UsIElOVEVSTkFMLCBhc3luYywgZ2V0RG9tYWluKTtcblx0UHJvbWlzZS5Qcm9taXNlID0gUHJvbWlzZTtcblx0UHJvbWlzZS52ZXJzaW9uID0gXCIzLjQuNlwiO1xuXHRfZGVyZXFfKCcuL21hcC5qcycpKFByb21pc2UsIFByb21pc2VBcnJheSwgYXBpUmVqZWN0aW9uLCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBJTlRFUk5BTCwgZGVidWcpO1xuXHRfZGVyZXFfKCcuL2NhbGxfZ2V0LmpzJykoUHJvbWlzZSk7XG5cdF9kZXJlcV8oJy4vdXNpbmcuanMnKShQcm9taXNlLCBhcGlSZWplY3Rpb24sIHRyeUNvbnZlcnRUb1Byb21pc2UsIGNyZWF0ZUNvbnRleHQsIElOVEVSTkFMLCBkZWJ1Zyk7XG5cdF9kZXJlcV8oJy4vdGltZXJzLmpzJykoUHJvbWlzZSwgSU5URVJOQUwsIGRlYnVnKTtcblx0X2RlcmVxXygnLi9nZW5lcmF0b3JzLmpzJykoUHJvbWlzZSwgYXBpUmVqZWN0aW9uLCBJTlRFUk5BTCwgdHJ5Q29udmVydFRvUHJvbWlzZSwgUHJveHlhYmxlLCBkZWJ1Zyk7XG5cdF9kZXJlcV8oJy4vbm9kZWlmeS5qcycpKFByb21pc2UpO1xuXHRfZGVyZXFfKCcuL3Byb21pc2lmeS5qcycpKFByb21pc2UsIElOVEVSTkFMKTtcblx0X2RlcmVxXygnLi9wcm9wcy5qcycpKFByb21pc2UsIFByb21pc2VBcnJheSwgdHJ5Q29udmVydFRvUHJvbWlzZSwgYXBpUmVqZWN0aW9uKTtcblx0X2RlcmVxXygnLi9yYWNlLmpzJykoUHJvbWlzZSwgSU5URVJOQUwsIHRyeUNvbnZlcnRUb1Byb21pc2UsIGFwaVJlamVjdGlvbik7XG5cdF9kZXJlcV8oJy4vcmVkdWNlLmpzJykoUHJvbWlzZSwgUHJvbWlzZUFycmF5LCBhcGlSZWplY3Rpb24sIHRyeUNvbnZlcnRUb1Byb21pc2UsIElOVEVSTkFMLCBkZWJ1Zyk7XG5cdF9kZXJlcV8oJy4vc2V0dGxlLmpzJykoUHJvbWlzZSwgUHJvbWlzZUFycmF5LCBkZWJ1Zyk7XG5cdF9kZXJlcV8oJy4vc29tZS5qcycpKFByb21pc2UsIFByb21pc2VBcnJheSwgYXBpUmVqZWN0aW9uKTtcblx0X2RlcmVxXygnLi9maWx0ZXIuanMnKShQcm9taXNlLCBJTlRFUk5BTCk7XG5cdF9kZXJlcV8oJy4vZWFjaC5qcycpKFByb21pc2UsIElOVEVSTkFMKTtcblx0X2RlcmVxXygnLi9hbnkuanMnKShQcm9taXNlKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICB1dGlsLnRvRmFzdFByb3BlcnRpZXMoUHJvbWlzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICB1dGlsLnRvRmFzdFByb3BlcnRpZXMoUHJvbWlzZS5wcm90b3R5cGUpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICBmdW5jdGlvbiBmaWxsVHlwZXModmFsdWUpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICAgICAgdmFyIHAgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICAgICAgcC5fZnVsZmlsbG1lbnRIYW5kbGVyMCA9IHZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICAgICAgcC5fcmVqZWN0aW9uSGFuZGxlcjAgPSB2YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICAgICAgcC5fcHJvbWlzZTAgPSB2YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICAgICAgcC5fcmVjZWl2ZXIwID0gdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICAvLyBDb21wbGV0ZSBzbGFjayB0cmFja2luZywgb3B0IG91dCBvZiBmaWVsZC10eXBlIHRyYWNraW5nIGFuZCAgICAgICAgICAgXG5cdCAgICAvLyBzdGFiaWxpemUgbWFwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICBmaWxsVHlwZXMoe2E6IDF9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICBmaWxsVHlwZXMoe2I6IDJ9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICBmaWxsVHlwZXMoe2M6IDN9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICBmaWxsVHlwZXMoMSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICBmaWxsVHlwZXMoZnVuY3Rpb24oKXt9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICBmaWxsVHlwZXModW5kZWZpbmVkKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICBmaWxsVHlwZXMoZmFsc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICBmaWxsVHlwZXMobmV3IFByb21pc2UoSU5URVJOQUwpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICBkZWJ1Zy5zZXRCb3VuZHMoQXN5bmMuZmlyc3RMaW5lRXJyb3IsIHV0aWwubGFzdExpbmVFcnJvcik7ICAgICAgICAgICAgICAgXG5cdCAgICByZXR1cm4gUHJvbWlzZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdFxuXHR9O1xuXHRcblx0fSx7XCIuL2FueS5qc1wiOjEsXCIuL2FzeW5jXCI6MixcIi4vYmluZFwiOjMsXCIuL2NhbGxfZ2V0LmpzXCI6NSxcIi4vY2FuY2VsXCI6NixcIi4vY2F0Y2hfZmlsdGVyXCI6NyxcIi4vY29udGV4dFwiOjgsXCIuL2RlYnVnZ2FiaWxpdHlcIjo5LFwiLi9kaXJlY3RfcmVzb2x2ZVwiOjEwLFwiLi9lYWNoLmpzXCI6MTEsXCIuL2Vycm9yc1wiOjEyLFwiLi9lczVcIjoxMyxcIi4vZmlsdGVyLmpzXCI6MTQsXCIuL2ZpbmFsbHlcIjoxNSxcIi4vZ2VuZXJhdG9ycy5qc1wiOjE2LFwiLi9qb2luXCI6MTcsXCIuL21hcC5qc1wiOjE4LFwiLi9tZXRob2RcIjoxOSxcIi4vbm9kZWJhY2tcIjoyMCxcIi4vbm9kZWlmeS5qc1wiOjIxLFwiLi9wcm9taXNlX2FycmF5XCI6MjMsXCIuL3Byb21pc2lmeS5qc1wiOjI0LFwiLi9wcm9wcy5qc1wiOjI1LFwiLi9yYWNlLmpzXCI6MjcsXCIuL3JlZHVjZS5qc1wiOjI4LFwiLi9zZXR0bGUuanNcIjozMCxcIi4vc29tZS5qc1wiOjMxLFwiLi9zeW5jaHJvbm91c19pbnNwZWN0aW9uXCI6MzIsXCIuL3RoZW5hYmxlc1wiOjMzLFwiLi90aW1lcnMuanNcIjozNCxcIi4vdXNpbmcuanNcIjozNSxcIi4vdXRpbFwiOjM2fV0sMjM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLCBJTlRFUk5BTCwgdHJ5Q29udmVydFRvUHJvbWlzZSxcblx0ICAgIGFwaVJlamVjdGlvbiwgUHJveHlhYmxlKSB7XG5cdHZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcblx0dmFyIGlzQXJyYXkgPSB1dGlsLmlzQXJyYXk7XG5cdFxuXHRmdW5jdGlvbiB0b1Jlc29sdXRpb25WYWx1ZSh2YWwpIHtcblx0ICAgIHN3aXRjaCh2YWwpIHtcblx0ICAgIGNhc2UgLTI6IHJldHVybiBbXTtcblx0ICAgIGNhc2UgLTM6IHJldHVybiB7fTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gUHJvbWlzZUFycmF5KHZhbHVlcykge1xuXHQgICAgdmFyIHByb21pc2UgPSB0aGlzLl9wcm9taXNlID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuXHQgICAgaWYgKHZhbHVlcyBpbnN0YW5jZW9mIFByb21pc2UpIHtcblx0ICAgICAgICBwcm9taXNlLl9wcm9wYWdhdGVGcm9tKHZhbHVlcywgMyk7XG5cdCAgICB9XG5cdCAgICBwcm9taXNlLl9zZXRPbkNhbmNlbCh0aGlzKTtcblx0ICAgIHRoaXMuX3ZhbHVlcyA9IHZhbHVlcztcblx0ICAgIHRoaXMuX2xlbmd0aCA9IDA7XG5cdCAgICB0aGlzLl90b3RhbFJlc29sdmVkID0gMDtcblx0ICAgIHRoaXMuX2luaXQodW5kZWZpbmVkLCAtMik7XG5cdH1cblx0dXRpbC5pbmhlcml0cyhQcm9taXNlQXJyYXksIFByb3h5YWJsZSk7XG5cdFxuXHRQcm9taXNlQXJyYXkucHJvdG90eXBlLmxlbmd0aCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLl9sZW5ndGg7XG5cdH07XG5cdFxuXHRQcm9taXNlQXJyYXkucHJvdG90eXBlLnByb21pc2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fcHJvbWlzZTtcblx0fTtcblx0XG5cdFByb21pc2VBcnJheS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiBpbml0KF8sIHJlc29sdmVWYWx1ZUlmRW1wdHkpIHtcblx0ICAgIHZhciB2YWx1ZXMgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHRoaXMuX3ZhbHVlcywgdGhpcy5fcHJvbWlzZSk7XG5cdCAgICBpZiAodmFsdWVzIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuXHQgICAgICAgIHZhbHVlcyA9IHZhbHVlcy5fdGFyZ2V0KCk7XG5cdCAgICAgICAgdmFyIGJpdEZpZWxkID0gdmFsdWVzLl9iaXRGaWVsZDtcblx0ICAgICAgICA7XG5cdCAgICAgICAgdGhpcy5fdmFsdWVzID0gdmFsdWVzO1xuXHRcblx0ICAgICAgICBpZiAoKChiaXRGaWVsZCAmIDUwMzk3MTg0KSA9PT0gMCkpIHtcblx0ICAgICAgICAgICAgdGhpcy5fcHJvbWlzZS5fc2V0QXN5bmNHdWFyYW50ZWVkKCk7XG5cdCAgICAgICAgICAgIHJldHVybiB2YWx1ZXMuX3RoZW4oXG5cdCAgICAgICAgICAgICAgICBpbml0LFxuXHQgICAgICAgICAgICAgICAgdGhpcy5fcmVqZWN0LFxuXHQgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuXHQgICAgICAgICAgICAgICAgdGhpcyxcblx0ICAgICAgICAgICAgICAgIHJlc29sdmVWYWx1ZUlmRW1wdHlcblx0ICAgICAgICAgICApO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcblx0ICAgICAgICAgICAgdmFsdWVzID0gdmFsdWVzLl92YWx1ZSgpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDE2Nzc3MjE2KSAhPT0gMCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlamVjdCh2YWx1ZXMuX3JlYXNvbigpKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FuY2VsKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgdmFsdWVzID0gdXRpbC5hc0FycmF5KHZhbHVlcyk7XG5cdCAgICBpZiAodmFsdWVzID09PSBudWxsKSB7XG5cdCAgICAgICAgdmFyIGVyciA9IGFwaVJlamVjdGlvbihcblx0ICAgICAgICAgICAgXCJleHBlY3RpbmcgYW4gYXJyYXkgb3IgYW4gaXRlcmFibGUgb2JqZWN0IGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKHZhbHVlcykpLnJlYXNvbigpO1xuXHQgICAgICAgIHRoaXMuX3Byb21pc2UuX3JlamVjdENhbGxiYWNrKGVyciwgZmFsc2UpO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAodmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICAgIGlmIChyZXNvbHZlVmFsdWVJZkVtcHR5ID09PSAtNSkge1xuXHQgICAgICAgICAgICB0aGlzLl9yZXNvbHZlRW1wdHlBcnJheSgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSh0b1Jlc29sdXRpb25WYWx1ZShyZXNvbHZlVmFsdWVJZkVtcHR5KSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHRoaXMuX2l0ZXJhdGUodmFsdWVzKTtcblx0fTtcblx0XG5cdFByb21pc2VBcnJheS5wcm90b3R5cGUuX2l0ZXJhdGUgPSBmdW5jdGlvbih2YWx1ZXMpIHtcblx0ICAgIHZhciBsZW4gPSB0aGlzLmdldEFjdHVhbExlbmd0aCh2YWx1ZXMubGVuZ3RoKTtcblx0ICAgIHRoaXMuX2xlbmd0aCA9IGxlbjtcblx0ICAgIHRoaXMuX3ZhbHVlcyA9IHRoaXMuc2hvdWxkQ29weVZhbHVlcygpID8gbmV3IEFycmF5KGxlbikgOiB0aGlzLl92YWx1ZXM7XG5cdCAgICB2YXIgcmVzdWx0ID0gdGhpcy5fcHJvbWlzZTtcblx0ICAgIHZhciBpc1Jlc29sdmVkID0gZmFsc2U7XG5cdCAgICB2YXIgYml0RmllbGQgPSBudWxsO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuXHQgICAgICAgIHZhciBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHZhbHVlc1tpXSwgcmVzdWx0KTtcblx0XG5cdCAgICAgICAgaWYgKG1heWJlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcblx0ICAgICAgICAgICAgbWF5YmVQcm9taXNlID0gbWF5YmVQcm9taXNlLl90YXJnZXQoKTtcblx0ICAgICAgICAgICAgYml0RmllbGQgPSBtYXliZVByb21pc2UuX2JpdEZpZWxkO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGJpdEZpZWxkID0gbnVsbDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChpc1Jlc29sdmVkKSB7XG5cdCAgICAgICAgICAgIGlmIChiaXRGaWVsZCAhPT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucygpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIGlmIChiaXRGaWVsZCAhPT0gbnVsbCkge1xuXHQgICAgICAgICAgICBpZiAoKChiaXRGaWVsZCAmIDUwMzk3MTg0KSA9PT0gMCkpIHtcblx0ICAgICAgICAgICAgICAgIG1heWJlUHJvbWlzZS5fcHJveHkodGhpcywgaSk7XG5cdCAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXNbaV0gPSBtYXliZVByb21pc2U7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcblx0ICAgICAgICAgICAgICAgIGlzUmVzb2x2ZWQgPSB0aGlzLl9wcm9taXNlRnVsZmlsbGVkKG1heWJlUHJvbWlzZS5fdmFsdWUoKSwgaSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDE2Nzc3MjE2KSAhPT0gMCkpIHtcblx0ICAgICAgICAgICAgICAgIGlzUmVzb2x2ZWQgPSB0aGlzLl9wcm9taXNlUmVqZWN0ZWQobWF5YmVQcm9taXNlLl9yZWFzb24oKSwgaSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBpc1Jlc29sdmVkID0gdGhpcy5fcHJvbWlzZUNhbmNlbGxlZChpKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGlzUmVzb2x2ZWQgPSB0aGlzLl9wcm9taXNlRnVsZmlsbGVkKG1heWJlUHJvbWlzZSwgaSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgaWYgKCFpc1Jlc29sdmVkKSByZXN1bHQuX3NldEFzeW5jR3VhcmFudGVlZCgpO1xuXHR9O1xuXHRcblx0UHJvbWlzZUFycmF5LnByb3RvdHlwZS5faXNSZXNvbHZlZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLl92YWx1ZXMgPT09IG51bGw7XG5cdH07XG5cdFxuXHRQcm9taXNlQXJyYXkucHJvdG90eXBlLl9yZXNvbHZlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICB0aGlzLl92YWx1ZXMgPSBudWxsO1xuXHQgICAgdGhpcy5fcHJvbWlzZS5fZnVsZmlsbCh2YWx1ZSk7XG5cdH07XG5cdFxuXHRQcm9taXNlQXJyYXkucHJvdG90eXBlLl9jYW5jZWwgPSBmdW5jdGlvbigpIHtcblx0ICAgIGlmICh0aGlzLl9pc1Jlc29sdmVkKCkgfHwgIXRoaXMuX3Byb21pc2UuX2lzQ2FuY2VsbGFibGUoKSkgcmV0dXJuO1xuXHQgICAgdGhpcy5fdmFsdWVzID0gbnVsbDtcblx0ICAgIHRoaXMuX3Byb21pc2UuX2NhbmNlbCgpO1xuXHR9O1xuXHRcblx0UHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcmVqZWN0ID0gZnVuY3Rpb24gKHJlYXNvbikge1xuXHQgICAgdGhpcy5fdmFsdWVzID0gbnVsbDtcblx0ICAgIHRoaXMuX3Byb21pc2UuX3JlamVjdENhbGxiYWNrKHJlYXNvbiwgZmFsc2UpO1xuXHR9O1xuXHRcblx0UHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZUZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcblx0ICAgIHRoaXMuX3ZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcblx0ICAgIHZhciB0b3RhbFJlc29sdmVkID0gKyt0aGlzLl90b3RhbFJlc29sdmVkO1xuXHQgICAgaWYgKHRvdGFsUmVzb2x2ZWQgPj0gdGhpcy5fbGVuZ3RoKSB7XG5cdCAgICAgICAgdGhpcy5fcmVzb2x2ZSh0aGlzLl92YWx1ZXMpO1xuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHR9O1xuXHRcblx0UHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZUNhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdGhpcy5fY2FuY2VsKCk7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0fTtcblx0XG5cdFByb21pc2VBcnJheS5wcm90b3R5cGUuX3Byb21pc2VSZWplY3RlZCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcblx0ICAgIHRoaXMuX3RvdGFsUmVzb2x2ZWQrKztcblx0ICAgIHRoaXMuX3JlamVjdChyZWFzb24pO1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdH07XG5cdFxuXHRQcm9taXNlQXJyYXkucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcblx0ICAgIGlmICh0aGlzLl9pc1Jlc29sdmVkKCkpIHJldHVybjtcblx0ICAgIHZhciB2YWx1ZXMgPSB0aGlzLl92YWx1ZXM7XG5cdCAgICB0aGlzLl9jYW5jZWwoKTtcblx0ICAgIGlmICh2YWx1ZXMgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG5cdCAgICAgICAgdmFsdWVzLmNhbmNlbCgpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgICAgICBpZiAodmFsdWVzW2ldIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuXHQgICAgICAgICAgICAgICAgdmFsdWVzW2ldLmNhbmNlbCgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9O1xuXHRcblx0UHJvbWlzZUFycmF5LnByb3RvdHlwZS5zaG91bGRDb3B5VmFsdWVzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdH07XG5cdFxuXHRQcm9taXNlQXJyYXkucHJvdG90eXBlLmdldEFjdHVhbExlbmd0aCA9IGZ1bmN0aW9uIChsZW4pIHtcblx0ICAgIHJldHVybiBsZW47XG5cdH07XG5cdFxuXHRyZXR1cm4gUHJvbWlzZUFycmF5O1xuXHR9O1xuXHRcblx0fSx7XCIuL3V0aWxcIjozNn1dLDI0OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSwgSU5URVJOQUwpIHtcblx0dmFyIFRISVMgPSB7fTtcblx0dmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXHR2YXIgbm9kZWJhY2tGb3JQcm9taXNlID0gX2RlcmVxXyhcIi4vbm9kZWJhY2tcIik7XG5cdHZhciB3aXRoQXBwZW5kZWQgPSB1dGlsLndpdGhBcHBlbmRlZDtcblx0dmFyIG1heWJlV3JhcEFzRXJyb3IgPSB1dGlsLm1heWJlV3JhcEFzRXJyb3I7XG5cdHZhciBjYW5FdmFsdWF0ZSA9IHV0aWwuY2FuRXZhbHVhdGU7XG5cdHZhciBUeXBlRXJyb3IgPSBfZGVyZXFfKFwiLi9lcnJvcnNcIikuVHlwZUVycm9yO1xuXHR2YXIgZGVmYXVsdFN1ZmZpeCA9IFwiQXN5bmNcIjtcblx0dmFyIGRlZmF1bHRQcm9taXNpZmllZCA9IHtfX2lzUHJvbWlzaWZpZWRfXzogdHJ1ZX07XG5cdHZhciBub0NvcHlQcm9wcyA9IFtcblx0ICAgIFwiYXJpdHlcIiwgICAgXCJsZW5ndGhcIixcblx0ICAgIFwibmFtZVwiLFxuXHQgICAgXCJhcmd1bWVudHNcIixcblx0ICAgIFwiY2FsbGVyXCIsXG5cdCAgICBcImNhbGxlZVwiLFxuXHQgICAgXCJwcm90b3R5cGVcIixcblx0ICAgIFwiX19pc1Byb21pc2lmaWVkX19cIlxuXHRdO1xuXHR2YXIgbm9Db3B5UHJvcHNQYXR0ZXJuID0gbmV3IFJlZ0V4cChcIl4oPzpcIiArIG5vQ29weVByb3BzLmpvaW4oXCJ8XCIpICsgXCIpJFwiKTtcblx0XG5cdHZhciBkZWZhdWx0RmlsdGVyID0gZnVuY3Rpb24obmFtZSkge1xuXHQgICAgcmV0dXJuIHV0aWwuaXNJZGVudGlmaWVyKG5hbWUpICYmXG5cdCAgICAgICAgbmFtZS5jaGFyQXQoMCkgIT09IFwiX1wiICYmXG5cdCAgICAgICAgbmFtZSAhPT0gXCJjb25zdHJ1Y3RvclwiO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gcHJvcHNGaWx0ZXIoa2V5KSB7XG5cdCAgICByZXR1cm4gIW5vQ29weVByb3BzUGF0dGVybi50ZXN0KGtleSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzUHJvbWlzaWZpZWQoZm4pIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgICAgcmV0dXJuIGZuLl9faXNQcm9taXNpZmllZF9fID09PSB0cnVlO1xuXHQgICAgfVxuXHQgICAgY2F0Y2ggKGUpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGhhc1Byb21pc2lmaWVkKG9iaiwga2V5LCBzdWZmaXgpIHtcblx0ICAgIHZhciB2YWwgPSB1dGlsLmdldERhdGFQcm9wZXJ0eU9yRGVmYXVsdChvYmosIGtleSArIHN1ZmZpeCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UHJvbWlzaWZpZWQpO1xuXHQgICAgcmV0dXJuIHZhbCA/IGlzUHJvbWlzaWZpZWQodmFsKSA6IGZhbHNlO1xuXHR9XG5cdGZ1bmN0aW9uIGNoZWNrVmFsaWQocmV0LCBzdWZmaXgsIHN1ZmZpeFJlZ2V4cCkge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXQubGVuZ3RoOyBpICs9IDIpIHtcblx0ICAgICAgICB2YXIga2V5ID0gcmV0W2ldO1xuXHQgICAgICAgIGlmIChzdWZmaXhSZWdleHAudGVzdChrZXkpKSB7XG5cdCAgICAgICAgICAgIHZhciBrZXlXaXRob3V0QXN5bmNTdWZmaXggPSBrZXkucmVwbGFjZShzdWZmaXhSZWdleHAsIFwiXCIpO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJldC5sZW5ndGg7IGogKz0gMikge1xuXHQgICAgICAgICAgICAgICAgaWYgKHJldFtqXSA9PT0ga2V5V2l0aG91dEFzeW5jU3VmZml4KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBwcm9taXNpZnkgYW4gQVBJIHRoYXQgaGFzIG5vcm1hbCBtZXRob2RzIHdpdGggJyVzJy1zdWZmaXhcXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCJcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoXCIlc1wiLCBzdWZmaXgpKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gcHJvbWlzaWZpYWJsZU1ldGhvZHMob2JqLCBzdWZmaXgsIHN1ZmZpeFJlZ2V4cCwgZmlsdGVyKSB7XG5cdCAgICB2YXIga2V5cyA9IHV0aWwuaW5oZXJpdGVkRGF0YUtleXMob2JqKTtcblx0ICAgIHZhciByZXQgPSBbXTtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuXHQgICAgICAgIHZhciB2YWx1ZSA9IG9ialtrZXldO1xuXHQgICAgICAgIHZhciBwYXNzZXNEZWZhdWx0RmlsdGVyID0gZmlsdGVyID09PSBkZWZhdWx0RmlsdGVyXG5cdCAgICAgICAgICAgID8gdHJ1ZSA6IGRlZmF1bHRGaWx0ZXIoa2V5LCB2YWx1ZSwgb2JqKTtcblx0ICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIgJiZcblx0ICAgICAgICAgICAgIWlzUHJvbWlzaWZpZWQodmFsdWUpICYmXG5cdCAgICAgICAgICAgICFoYXNQcm9taXNpZmllZChvYmosIGtleSwgc3VmZml4KSAmJlxuXHQgICAgICAgICAgICBmaWx0ZXIoa2V5LCB2YWx1ZSwgb2JqLCBwYXNzZXNEZWZhdWx0RmlsdGVyKSkge1xuXHQgICAgICAgICAgICByZXQucHVzaChrZXksIHZhbHVlKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBjaGVja1ZhbGlkKHJldCwgc3VmZml4LCBzdWZmaXhSZWdleHApO1xuXHQgICAgcmV0dXJuIHJldDtcblx0fVxuXHRcblx0dmFyIGVzY2FwZUlkZW50UmVnZXggPSBmdW5jdGlvbihzdHIpIHtcblx0ICAgIHJldHVybiBzdHIucmVwbGFjZSgvKFskXSkvLCBcIlxcXFwkXCIpO1xuXHR9O1xuXHRcblx0dmFyIG1ha2VOb2RlUHJvbWlzaWZpZWRFdmFsO1xuXHRpZiAoZmFsc2UpIHtcblx0dmFyIHN3aXRjaENhc2VBcmd1bWVudE9yZGVyID0gZnVuY3Rpb24obGlrZWx5QXJndW1lbnRDb3VudCkge1xuXHQgICAgdmFyIHJldCA9IFtsaWtlbHlBcmd1bWVudENvdW50XTtcblx0ICAgIHZhciBtaW4gPSBNYXRoLm1heCgwLCBsaWtlbHlBcmd1bWVudENvdW50IC0gMSAtIDMpO1xuXHQgICAgZm9yKHZhciBpID0gbGlrZWx5QXJndW1lbnRDb3VudCAtIDE7IGkgPj0gbWluOyAtLWkpIHtcblx0ICAgICAgICByZXQucHVzaChpKTtcblx0ICAgIH1cblx0ICAgIGZvcih2YXIgaSA9IGxpa2VseUFyZ3VtZW50Q291bnQgKyAxOyBpIDw9IDM7ICsraSkge1xuXHQgICAgICAgIHJldC5wdXNoKGkpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJldDtcblx0fTtcblx0XG5cdHZhciBhcmd1bWVudFNlcXVlbmNlID0gZnVuY3Rpb24oYXJndW1lbnRDb3VudCkge1xuXHQgICAgcmV0dXJuIHV0aWwuZmlsbGVkUmFuZ2UoYXJndW1lbnRDb3VudCwgXCJfYXJnXCIsIFwiXCIpO1xuXHR9O1xuXHRcblx0dmFyIHBhcmFtZXRlckRlY2xhcmF0aW9uID0gZnVuY3Rpb24ocGFyYW1ldGVyQ291bnQpIHtcblx0ICAgIHJldHVybiB1dGlsLmZpbGxlZFJhbmdlKFxuXHQgICAgICAgIE1hdGgubWF4KHBhcmFtZXRlckNvdW50LCAzKSwgXCJfYXJnXCIsIFwiXCIpO1xuXHR9O1xuXHRcblx0dmFyIHBhcmFtZXRlckNvdW50ID0gZnVuY3Rpb24oZm4pIHtcblx0ICAgIGlmICh0eXBlb2YgZm4ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7XG5cdCAgICAgICAgcmV0dXJuIE1hdGgubWF4KE1hdGgubWluKGZuLmxlbmd0aCwgMTAyMyArIDEpLCAwKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiAwO1xuXHR9O1xuXHRcblx0bWFrZU5vZGVQcm9taXNpZmllZEV2YWwgPVxuXHRmdW5jdGlvbihjYWxsYmFjaywgcmVjZWl2ZXIsIG9yaWdpbmFsTmFtZSwgZm4sIF8sIG11bHRpQXJncykge1xuXHQgICAgdmFyIG5ld1BhcmFtZXRlckNvdW50ID0gTWF0aC5tYXgoMCwgcGFyYW1ldGVyQ291bnQoZm4pIC0gMSk7XG5cdCAgICB2YXIgYXJndW1lbnRPcmRlciA9IHN3aXRjaENhc2VBcmd1bWVudE9yZGVyKG5ld1BhcmFtZXRlckNvdW50KTtcblx0ICAgIHZhciBzaG91bGRQcm94eVRoaXMgPSB0eXBlb2YgY2FsbGJhY2sgPT09IFwic3RyaW5nXCIgfHwgcmVjZWl2ZXIgPT09IFRISVM7XG5cdFxuXHQgICAgZnVuY3Rpb24gZ2VuZXJhdGVDYWxsRm9yQXJndW1lbnRDb3VudChjb3VudCkge1xuXHQgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRTZXF1ZW5jZShjb3VudCkuam9pbihcIiwgXCIpO1xuXHQgICAgICAgIHZhciBjb21tYSA9IGNvdW50ID4gMCA/IFwiLCBcIiA6IFwiXCI7XG5cdCAgICAgICAgdmFyIHJldDtcblx0ICAgICAgICBpZiAoc2hvdWxkUHJveHlUaGlzKSB7XG5cdCAgICAgICAgICAgIHJldCA9IFwicmV0ID0gY2FsbGJhY2suY2FsbCh0aGlzLCB7e2FyZ3N9fSwgbm9kZWJhY2spOyBicmVhaztcXG5cIjtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXQgPSByZWNlaXZlciA9PT0gdW5kZWZpbmVkXG5cdCAgICAgICAgICAgICAgICA/IFwicmV0ID0gY2FsbGJhY2soe3thcmdzfX0sIG5vZGViYWNrKTsgYnJlYWs7XFxuXCJcblx0ICAgICAgICAgICAgICAgIDogXCJyZXQgPSBjYWxsYmFjay5jYWxsKHJlY2VpdmVyLCB7e2FyZ3N9fSwgbm9kZWJhY2spOyBicmVhaztcXG5cIjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHJldC5yZXBsYWNlKFwie3thcmdzfX1cIiwgYXJncykucmVwbGFjZShcIiwgXCIsIGNvbW1hKTtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiBnZW5lcmF0ZUFyZ3VtZW50U3dpdGNoQ2FzZSgpIHtcblx0ICAgICAgICB2YXIgcmV0ID0gXCJcIjtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50T3JkZXIubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICAgICAgcmV0ICs9IFwiY2FzZSBcIiArIGFyZ3VtZW50T3JkZXJbaV0gK1wiOlwiICtcblx0ICAgICAgICAgICAgICAgIGdlbmVyYXRlQ2FsbEZvckFyZ3VtZW50Q291bnQoYXJndW1lbnRPcmRlcltpXSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXQgKz0gXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICBkZWZhdWx0OiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICB2YXIgYXJncyA9IG5ldyBBcnJheShsZW4gKyAxKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIHZhciBpID0gMDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgYXJnc1tpXSA9IG5vZGViYWNrOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICBbQ29kZUZvckNhbGxdICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIGJyZWFrOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICBcIi5yZXBsYWNlKFwiW0NvZGVGb3JDYWxsXVwiLCAoc2hvdWxkUHJveHlUaGlzXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcInJldCA9IGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3MpO1xcblwiXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcInJldCA9IGNhbGxiYWNrLmFwcGx5KHJlY2VpdmVyLCBhcmdzKTtcXG5cIikpO1xuXHQgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGdldEZ1bmN0aW9uQ29kZSA9IHR5cGVvZiBjYWxsYmFjayA9PT0gXCJzdHJpbmdcIlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKFwidGhpcyAhPSBudWxsID8gdGhpc1snXCIrY2FsbGJhY2srXCInXSA6IGZuXCIpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcImZuXCI7XG5cdCAgICB2YXIgYm9keSA9IFwiJ3VzZSBzdHJpY3QnOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgdmFyIHJldCA9IGZ1bmN0aW9uIChQYXJhbWV0ZXJzKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgJ3VzZSBzdHJpY3QnOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoSU5URVJOQUwpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgcHJvbWlzZS5fY2FwdHVyZVN0YWNrVHJhY2UoKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICB2YXIgbm9kZWJhY2sgPSBub2RlYmFja0ZvclByb21pc2UocHJvbWlzZSwgXCIgKyBtdWx0aUFyZ3MgKyBcIik7ICAgXFxuXFxcblx0ICAgICAgICAgICAgdmFyIHJldDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSB0cnlDYXRjaChbR2V0RnVuY3Rpb25Db2RlXSk7ICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIHN3aXRjaChsZW4pIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgIFtDb2RlRm9yU3dpdGNoQ2FzZV0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIGlmIChyZXQgPT09IGVycm9yT2JqKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgIHByb21pc2UuX3JlamVjdENhbGxiYWNrKG1heWJlV3JhcEFzRXJyb3IocmV0LmUpLCB0cnVlLCB0cnVlKTtcXG5cXFxuXHQgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIGlmICghcHJvbWlzZS5faXNGYXRlU2VhbGVkKCkpIHByb21pc2UuX3NldEFzeW5jR3VhcmFudGVlZCgpOyAgICAgXFxuXFxcblx0ICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgIH07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgbm90RW51bWVyYWJsZVByb3AocmV0LCAnX19pc1Byb21pc2lmaWVkX18nLCB0cnVlKTsgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICByZXR1cm4gcmV0OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgXCIucmVwbGFjZShcIltDb2RlRm9yU3dpdGNoQ2FzZV1cIiwgZ2VuZXJhdGVBcmd1bWVudFN3aXRjaENhc2UoKSlcblx0ICAgICAgICAucmVwbGFjZShcIltHZXRGdW5jdGlvbkNvZGVdXCIsIGdldEZ1bmN0aW9uQ29kZSk7XG5cdCAgICBib2R5ID0gYm9keS5yZXBsYWNlKFwiUGFyYW1ldGVyc1wiLCBwYXJhbWV0ZXJEZWNsYXJhdGlvbihuZXdQYXJhbWV0ZXJDb3VudCkpO1xuXHQgICAgcmV0dXJuIG5ldyBGdW5jdGlvbihcIlByb21pc2VcIixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgXCJmblwiLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBcInJlY2VpdmVyXCIsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIFwid2l0aEFwcGVuZGVkXCIsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIFwibWF5YmVXcmFwQXNFcnJvclwiLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBcIm5vZGViYWNrRm9yUHJvbWlzZVwiLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBcInRyeUNhdGNoXCIsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIFwiZXJyb3JPYmpcIixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgXCJub3RFbnVtZXJhYmxlUHJvcFwiLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBcIklOVEVSTkFMXCIsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkpKFxuXHQgICAgICAgICAgICAgICAgICAgIFByb21pc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgZm4sXG5cdCAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXIsXG5cdCAgICAgICAgICAgICAgICAgICAgd2l0aEFwcGVuZGVkLFxuXHQgICAgICAgICAgICAgICAgICAgIG1heWJlV3JhcEFzRXJyb3IsXG5cdCAgICAgICAgICAgICAgICAgICAgbm9kZWJhY2tGb3JQcm9taXNlLFxuXHQgICAgICAgICAgICAgICAgICAgIHV0aWwudHJ5Q2F0Y2gsXG5cdCAgICAgICAgICAgICAgICAgICAgdXRpbC5lcnJvck9iaixcblx0ICAgICAgICAgICAgICAgICAgICB1dGlsLm5vdEVudW1lcmFibGVQcm9wLFxuXHQgICAgICAgICAgICAgICAgICAgIElOVEVSTkFMKTtcblx0fTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWFrZU5vZGVQcm9taXNpZmllZENsb3N1cmUoY2FsbGJhY2ssIHJlY2VpdmVyLCBfLCBmbiwgX18sIG11bHRpQXJncykge1xuXHQgICAgdmFyIGRlZmF1bHRUaGlzID0gKGZ1bmN0aW9uKCkge3JldHVybiB0aGlzO30pKCk7XG5cdCAgICB2YXIgbWV0aG9kID0gY2FsbGJhY2s7XG5cdCAgICBpZiAodHlwZW9mIG1ldGhvZCA9PT0gXCJzdHJpbmdcIikge1xuXHQgICAgICAgIGNhbGxiYWNrID0gZm47XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBwcm9taXNpZmllZCgpIHtcblx0ICAgICAgICB2YXIgX3JlY2VpdmVyID0gcmVjZWl2ZXI7XG5cdCAgICAgICAgaWYgKHJlY2VpdmVyID09PSBUSElTKSBfcmVjZWl2ZXIgPSB0aGlzO1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuXHQgICAgICAgIHByb21pc2UuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG5cdCAgICAgICAgdmFyIGNiID0gdHlwZW9mIG1ldGhvZCA9PT0gXCJzdHJpbmdcIiAmJiB0aGlzICE9PSBkZWZhdWx0VGhpc1xuXHQgICAgICAgICAgICA/IHRoaXNbbWV0aG9kXSA6IGNhbGxiYWNrO1xuXHQgICAgICAgIHZhciBmbiA9IG5vZGViYWNrRm9yUHJvbWlzZShwcm9taXNlLCBtdWx0aUFyZ3MpO1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIGNiLmFwcGx5KF9yZWNlaXZlciwgd2l0aEFwcGVuZGVkKGFyZ3VtZW50cywgZm4pKTtcblx0ICAgICAgICB9IGNhdGNoKGUpIHtcblx0ICAgICAgICAgICAgcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2sobWF5YmVXcmFwQXNFcnJvcihlKSwgdHJ1ZSwgdHJ1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICghcHJvbWlzZS5faXNGYXRlU2VhbGVkKCkpIHByb21pc2UuX3NldEFzeW5jR3VhcmFudGVlZCgpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgICAgdXRpbC5ub3RFbnVtZXJhYmxlUHJvcChwcm9taXNpZmllZCwgXCJfX2lzUHJvbWlzaWZpZWRfX1wiLCB0cnVlKTtcblx0ICAgIHJldHVybiBwcm9taXNpZmllZDtcblx0fVxuXHRcblx0dmFyIG1ha2VOb2RlUHJvbWlzaWZpZWQgPSBjYW5FdmFsdWF0ZVxuXHQgICAgPyBtYWtlTm9kZVByb21pc2lmaWVkRXZhbFxuXHQgICAgOiBtYWtlTm9kZVByb21pc2lmaWVkQ2xvc3VyZTtcblx0XG5cdGZ1bmN0aW9uIHByb21pc2lmeUFsbChvYmosIHN1ZmZpeCwgZmlsdGVyLCBwcm9taXNpZmllciwgbXVsdGlBcmdzKSB7XG5cdCAgICB2YXIgc3VmZml4UmVnZXhwID0gbmV3IFJlZ0V4cChlc2NhcGVJZGVudFJlZ2V4KHN1ZmZpeCkgKyBcIiRcIik7XG5cdCAgICB2YXIgbWV0aG9kcyA9XG5cdCAgICAgICAgcHJvbWlzaWZpYWJsZU1ldGhvZHMob2JqLCBzdWZmaXgsIHN1ZmZpeFJlZ2V4cCwgZmlsdGVyKTtcblx0XG5cdCAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbWV0aG9kcy5sZW5ndGg7IGkgPCBsZW47IGkrPSAyKSB7XG5cdCAgICAgICAgdmFyIGtleSA9IG1ldGhvZHNbaV07XG5cdCAgICAgICAgdmFyIGZuID0gbWV0aG9kc1tpKzFdO1xuXHQgICAgICAgIHZhciBwcm9taXNpZmllZEtleSA9IGtleSArIHN1ZmZpeDtcblx0ICAgICAgICBpZiAocHJvbWlzaWZpZXIgPT09IG1ha2VOb2RlUHJvbWlzaWZpZWQpIHtcblx0ICAgICAgICAgICAgb2JqW3Byb21pc2lmaWVkS2V5XSA9XG5cdCAgICAgICAgICAgICAgICBtYWtlTm9kZVByb21pc2lmaWVkKGtleSwgVEhJUywga2V5LCBmbiwgc3VmZml4LCBtdWx0aUFyZ3MpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHZhciBwcm9taXNpZmllZCA9IHByb21pc2lmaWVyKGZuLCBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBtYWtlTm9kZVByb21pc2lmaWVkKGtleSwgVEhJUywga2V5LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm4sIHN1ZmZpeCwgbXVsdGlBcmdzKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIHV0aWwubm90RW51bWVyYWJsZVByb3AocHJvbWlzaWZpZWQsIFwiX19pc1Byb21pc2lmaWVkX19cIiwgdHJ1ZSk7XG5cdCAgICAgICAgICAgIG9ialtwcm9taXNpZmllZEtleV0gPSBwcm9taXNpZmllZDtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICB1dGlsLnRvRmFzdFByb3BlcnRpZXMob2JqKTtcblx0ICAgIHJldHVybiBvYmo7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHByb21pc2lmeShjYWxsYmFjaywgcmVjZWl2ZXIsIG11bHRpQXJncykge1xuXHQgICAgcmV0dXJuIG1ha2VOb2RlUHJvbWlzaWZpZWQoY2FsbGJhY2ssIHJlY2VpdmVyLCB1bmRlZmluZWQsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2ssIG51bGwsIG11bHRpQXJncyk7XG5cdH1cblx0XG5cdFByb21pc2UucHJvbWlzaWZ5ID0gZnVuY3Rpb24gKGZuLCBvcHRpb25zKSB7XG5cdCAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZm4pKTtcblx0ICAgIH1cblx0ICAgIGlmIChpc1Byb21pc2lmaWVkKGZuKSkge1xuXHQgICAgICAgIHJldHVybiBmbjtcblx0ICAgIH1cblx0ICAgIG9wdGlvbnMgPSBPYmplY3Qob3B0aW9ucyk7XG5cdCAgICB2YXIgcmVjZWl2ZXIgPSBvcHRpb25zLmNvbnRleHQgPT09IHVuZGVmaW5lZCA/IFRISVMgOiBvcHRpb25zLmNvbnRleHQ7XG5cdCAgICB2YXIgbXVsdGlBcmdzID0gISFvcHRpb25zLm11bHRpQXJncztcblx0ICAgIHZhciByZXQgPSBwcm9taXNpZnkoZm4sIHJlY2VpdmVyLCBtdWx0aUFyZ3MpO1xuXHQgICAgdXRpbC5jb3B5RGVzY3JpcHRvcnMoZm4sIHJldCwgcHJvcHNGaWx0ZXIpO1xuXHQgICAgcmV0dXJuIHJldDtcblx0fTtcblx0XG5cdFByb21pc2UucHJvbWlzaWZ5QWxsID0gZnVuY3Rpb24gKHRhcmdldCwgb3B0aW9ucykge1xuXHQgICAgaWYgKHR5cGVvZiB0YXJnZXQgIT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgdGFyZ2V0ICE9PSBcIm9iamVjdFwiKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcInRoZSB0YXJnZXQgb2YgcHJvbWlzaWZ5QWxsIG11c3QgYmUgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb25cXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuXHQgICAgfVxuXHQgICAgb3B0aW9ucyA9IE9iamVjdChvcHRpb25zKTtcblx0ICAgIHZhciBtdWx0aUFyZ3MgPSAhIW9wdGlvbnMubXVsdGlBcmdzO1xuXHQgICAgdmFyIHN1ZmZpeCA9IG9wdGlvbnMuc3VmZml4O1xuXHQgICAgaWYgKHR5cGVvZiBzdWZmaXggIT09IFwic3RyaW5nXCIpIHN1ZmZpeCA9IGRlZmF1bHRTdWZmaXg7XG5cdCAgICB2YXIgZmlsdGVyID0gb3B0aW9ucy5maWx0ZXI7XG5cdCAgICBpZiAodHlwZW9mIGZpbHRlciAhPT0gXCJmdW5jdGlvblwiKSBmaWx0ZXIgPSBkZWZhdWx0RmlsdGVyO1xuXHQgICAgdmFyIHByb21pc2lmaWVyID0gb3B0aW9ucy5wcm9taXNpZmllcjtcblx0ICAgIGlmICh0eXBlb2YgcHJvbWlzaWZpZXIgIT09IFwiZnVuY3Rpb25cIikgcHJvbWlzaWZpZXIgPSBtYWtlTm9kZVByb21pc2lmaWVkO1xuXHRcblx0ICAgIGlmICghdXRpbC5pc0lkZW50aWZpZXIoc3VmZml4KSkge1xuXHQgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwic3VmZml4IG11c3QgYmUgYSB2YWxpZCBpZGVudGlmaWVyXFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIga2V5cyA9IHV0aWwuaW5oZXJpdGVkRGF0YUtleXModGFyZ2V0KTtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgIHZhciB2YWx1ZSA9IHRhcmdldFtrZXlzW2ldXTtcblx0ICAgICAgICBpZiAoa2V5c1tpXSAhPT0gXCJjb25zdHJ1Y3RvclwiICYmXG5cdCAgICAgICAgICAgIHV0aWwuaXNDbGFzcyh2YWx1ZSkpIHtcblx0ICAgICAgICAgICAgcHJvbWlzaWZ5QWxsKHZhbHVlLnByb3RvdHlwZSwgc3VmZml4LCBmaWx0ZXIsIHByb21pc2lmaWVyLFxuXHQgICAgICAgICAgICAgICAgbXVsdGlBcmdzKTtcblx0ICAgICAgICAgICAgcHJvbWlzaWZ5QWxsKHZhbHVlLCBzdWZmaXgsIGZpbHRlciwgcHJvbWlzaWZpZXIsIG11bHRpQXJncyk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBwcm9taXNpZnlBbGwodGFyZ2V0LCBzdWZmaXgsIGZpbHRlciwgcHJvbWlzaWZpZXIsIG11bHRpQXJncyk7XG5cdH07XG5cdH07XG5cdFxuXHRcblx0fSx7XCIuL2Vycm9yc1wiOjEyLFwiLi9ub2RlYmFja1wiOjIwLFwiLi91dGlsXCI6MzZ9XSwyNTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFxuXHQgICAgUHJvbWlzZSwgUHJvbWlzZUFycmF5LCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBhcGlSZWplY3Rpb24pIHtcblx0dmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXHR2YXIgaXNPYmplY3QgPSB1dGlsLmlzT2JqZWN0O1xuXHR2YXIgZXM1ID0gX2RlcmVxXyhcIi4vZXM1XCIpO1xuXHR2YXIgRXM2TWFwO1xuXHRpZiAodHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiKSBFczZNYXAgPSBNYXA7XG5cdFxuXHR2YXIgbWFwVG9FbnRyaWVzID0gKGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGluZGV4ID0gMDtcblx0ICAgIHZhciBzaXplID0gMDtcblx0XG5cdCAgICBmdW5jdGlvbiBleHRyYWN0RW50cnkodmFsdWUsIGtleSkge1xuXHQgICAgICAgIHRoaXNbaW5kZXhdID0gdmFsdWU7XG5cdCAgICAgICAgdGhpc1tpbmRleCArIHNpemVdID0ga2V5O1xuXHQgICAgICAgIGluZGV4Kys7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIG1hcFRvRW50cmllcyhtYXApIHtcblx0ICAgICAgICBzaXplID0gbWFwLnNpemU7XG5cdCAgICAgICAgaW5kZXggPSAwO1xuXHQgICAgICAgIHZhciByZXQgPSBuZXcgQXJyYXkobWFwLnNpemUgKiAyKTtcblx0ICAgICAgICBtYXAuZm9yRWFjaChleHRyYWN0RW50cnksIHJldCk7XG5cdCAgICAgICAgcmV0dXJuIHJldDtcblx0ICAgIH07XG5cdH0pKCk7XG5cdFxuXHR2YXIgZW50cmllc1RvTWFwID0gZnVuY3Rpb24oZW50cmllcykge1xuXHQgICAgdmFyIHJldCA9IG5ldyBFczZNYXAoKTtcblx0ICAgIHZhciBsZW5ndGggPSBlbnRyaWVzLmxlbmd0aCAvIDIgfCAwO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuXHQgICAgICAgIHZhciBrZXkgPSBlbnRyaWVzW2xlbmd0aCArIGldO1xuXHQgICAgICAgIHZhciB2YWx1ZSA9IGVudHJpZXNbaV07XG5cdCAgICAgICAgcmV0LnNldChrZXksIHZhbHVlKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiByZXQ7XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBQcm9wZXJ0aWVzUHJvbWlzZUFycmF5KG9iaikge1xuXHQgICAgdmFyIGlzTWFwID0gZmFsc2U7XG5cdCAgICB2YXIgZW50cmllcztcblx0ICAgIGlmIChFczZNYXAgIT09IHVuZGVmaW5lZCAmJiBvYmogaW5zdGFuY2VvZiBFczZNYXApIHtcblx0ICAgICAgICBlbnRyaWVzID0gbWFwVG9FbnRyaWVzKG9iaik7XG5cdCAgICAgICAgaXNNYXAgPSB0cnVlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIga2V5cyA9IGVzNS5rZXlzKG9iaik7XG5cdCAgICAgICAgdmFyIGxlbiA9IGtleXMubGVuZ3RoO1xuXHQgICAgICAgIGVudHJpZXMgPSBuZXcgQXJyYXkobGVuICogMik7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuXHQgICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblx0ICAgICAgICAgICAgZW50cmllc1tpXSA9IG9ialtrZXldO1xuXHQgICAgICAgICAgICBlbnRyaWVzW2kgKyBsZW5dID0ga2V5O1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHRoaXMuY29uc3RydWN0b3IkKGVudHJpZXMpO1xuXHQgICAgdGhpcy5faXNNYXAgPSBpc01hcDtcblx0ICAgIHRoaXMuX2luaXQkKHVuZGVmaW5lZCwgLTMpO1xuXHR9XG5cdHV0aWwuaW5oZXJpdHMoUHJvcGVydGllc1Byb21pc2VBcnJheSwgUHJvbWlzZUFycmF5KTtcblx0XG5cdFByb3BlcnRpZXNQcm9taXNlQXJyYXkucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24gKCkge307XG5cdFxuXHRQcm9wZXJ0aWVzUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZUZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcblx0ICAgIHRoaXMuX3ZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcblx0ICAgIHZhciB0b3RhbFJlc29sdmVkID0gKyt0aGlzLl90b3RhbFJlc29sdmVkO1xuXHQgICAgaWYgKHRvdGFsUmVzb2x2ZWQgPj0gdGhpcy5fbGVuZ3RoKSB7XG5cdCAgICAgICAgdmFyIHZhbDtcblx0ICAgICAgICBpZiAodGhpcy5faXNNYXApIHtcblx0ICAgICAgICAgICAgdmFsID0gZW50cmllc1RvTWFwKHRoaXMuX3ZhbHVlcyk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdmFsID0ge307XG5cdCAgICAgICAgICAgIHZhciBrZXlPZmZzZXQgPSB0aGlzLmxlbmd0aCgpO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5sZW5ndGgoKTsgaSA8IGxlbjsgKytpKSB7XG5cdCAgICAgICAgICAgICAgICB2YWxbdGhpcy5fdmFsdWVzW2kgKyBrZXlPZmZzZXRdXSA9IHRoaXMuX3ZhbHVlc1tpXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICB0aGlzLl9yZXNvbHZlKHZhbCk7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdH07XG5cdFxuXHRQcm9wZXJ0aWVzUHJvbWlzZUFycmF5LnByb3RvdHlwZS5zaG91bGRDb3B5VmFsdWVzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHR9O1xuXHRcblx0UHJvcGVydGllc1Byb21pc2VBcnJheS5wcm90b3R5cGUuZ2V0QWN0dWFsTGVuZ3RoID0gZnVuY3Rpb24gKGxlbikge1xuXHQgICAgcmV0dXJuIGxlbiA+PiAxO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gcHJvcHMocHJvbWlzZXMpIHtcblx0ICAgIHZhciByZXQ7XG5cdCAgICB2YXIgY2FzdFZhbHVlID0gdHJ5Q29udmVydFRvUHJvbWlzZShwcm9taXNlcyk7XG5cdFxuXHQgICAgaWYgKCFpc09iamVjdChjYXN0VmFsdWUpKSB7XG5cdCAgICAgICAgcmV0dXJuIGFwaVJlamVjdGlvbihcImNhbm5vdCBhd2FpdCBwcm9wZXJ0aWVzIG9mIGEgbm9uLW9iamVjdFxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG5cdCAgICB9IGVsc2UgaWYgKGNhc3RWYWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcblx0ICAgICAgICByZXQgPSBjYXN0VmFsdWUuX3RoZW4oXG5cdCAgICAgICAgICAgIFByb21pc2UucHJvcHMsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldCA9IG5ldyBQcm9wZXJ0aWVzUHJvbWlzZUFycmF5KGNhc3RWYWx1ZSkucHJvbWlzZSgpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChjYXN0VmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG5cdCAgICAgICAgcmV0Ll9wcm9wYWdhdGVGcm9tKGNhc3RWYWx1ZSwgMik7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmV0O1xuXHR9XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5wcm9wcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBwcm9wcyh0aGlzKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvcHMgPSBmdW5jdGlvbiAocHJvbWlzZXMpIHtcblx0ICAgIHJldHVybiBwcm9wcyhwcm9taXNlcyk7XG5cdH07XG5cdH07XG5cdFxuXHR9LHtcIi4vZXM1XCI6MTMsXCIuL3V0aWxcIjozNn1dLDI2OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdGZ1bmN0aW9uIGFycmF5TW92ZShzcmMsIHNyY0luZGV4LCBkc3QsIGRzdEluZGV4LCBsZW4pIHtcblx0ICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGVuOyArK2opIHtcblx0ICAgICAgICBkc3RbaiArIGRzdEluZGV4XSA9IHNyY1tqICsgc3JjSW5kZXhdO1xuXHQgICAgICAgIHNyY1tqICsgc3JjSW5kZXhdID0gdm9pZCAwO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBRdWV1ZShjYXBhY2l0eSkge1xuXHQgICAgdGhpcy5fY2FwYWNpdHkgPSBjYXBhY2l0eTtcblx0ICAgIHRoaXMuX2xlbmd0aCA9IDA7XG5cdCAgICB0aGlzLl9mcm9udCA9IDA7XG5cdH1cblx0XG5cdFF1ZXVlLnByb3RvdHlwZS5fd2lsbEJlT3ZlckNhcGFjaXR5ID0gZnVuY3Rpb24gKHNpemUpIHtcblx0ICAgIHJldHVybiB0aGlzLl9jYXBhY2l0eSA8IHNpemU7XG5cdH07XG5cdFxuXHRRdWV1ZS5wcm90b3R5cGUuX3B1c2hPbmUgPSBmdW5jdGlvbiAoYXJnKSB7XG5cdCAgICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGgoKTtcblx0ICAgIHRoaXMuX2NoZWNrQ2FwYWNpdHkobGVuZ3RoICsgMSk7XG5cdCAgICB2YXIgaSA9ICh0aGlzLl9mcm9udCArIGxlbmd0aCkgJiAodGhpcy5fY2FwYWNpdHkgLSAxKTtcblx0ICAgIHRoaXNbaV0gPSBhcmc7XG5cdCAgICB0aGlzLl9sZW5ndGggPSBsZW5ndGggKyAxO1xuXHR9O1xuXHRcblx0UXVldWUucHJvdG90eXBlLl91bnNoaWZ0T25lID0gZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgIHZhciBjYXBhY2l0eSA9IHRoaXMuX2NhcGFjaXR5O1xuXHQgICAgdGhpcy5fY2hlY2tDYXBhY2l0eSh0aGlzLmxlbmd0aCgpICsgMSk7XG5cdCAgICB2YXIgZnJvbnQgPSB0aGlzLl9mcm9udDtcblx0ICAgIHZhciBpID0gKCgoKCBmcm9udCAtIDEgKSAmXG5cdCAgICAgICAgICAgICAgICAgICAgKCBjYXBhY2l0eSAtIDEpICkgXiBjYXBhY2l0eSApIC0gY2FwYWNpdHkgKTtcblx0ICAgIHRoaXNbaV0gPSB2YWx1ZTtcblx0ICAgIHRoaXMuX2Zyb250ID0gaTtcblx0ICAgIHRoaXMuX2xlbmd0aCA9IHRoaXMubGVuZ3RoKCkgKyAxO1xuXHR9O1xuXHRcblx0UXVldWUucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbihmbiwgcmVjZWl2ZXIsIGFyZykge1xuXHQgICAgdGhpcy5fdW5zaGlmdE9uZShhcmcpO1xuXHQgICAgdGhpcy5fdW5zaGlmdE9uZShyZWNlaXZlcik7XG5cdCAgICB0aGlzLl91bnNoaWZ0T25lKGZuKTtcblx0fTtcblx0XG5cdFF1ZXVlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGZuLCByZWNlaXZlciwgYXJnKSB7XG5cdCAgICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGgoKSArIDM7XG5cdCAgICBpZiAodGhpcy5fd2lsbEJlT3ZlckNhcGFjaXR5KGxlbmd0aCkpIHtcblx0ICAgICAgICB0aGlzLl9wdXNoT25lKGZuKTtcblx0ICAgICAgICB0aGlzLl9wdXNoT25lKHJlY2VpdmVyKTtcblx0ICAgICAgICB0aGlzLl9wdXNoT25lKGFyZyk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIGogPSB0aGlzLl9mcm9udCArIGxlbmd0aCAtIDM7XG5cdCAgICB0aGlzLl9jaGVja0NhcGFjaXR5KGxlbmd0aCk7XG5cdCAgICB2YXIgd3JhcE1hc2sgPSB0aGlzLl9jYXBhY2l0eSAtIDE7XG5cdCAgICB0aGlzWyhqICsgMCkgJiB3cmFwTWFza10gPSBmbjtcblx0ICAgIHRoaXNbKGogKyAxKSAmIHdyYXBNYXNrXSA9IHJlY2VpdmVyO1xuXHQgICAgdGhpc1soaiArIDIpICYgd3JhcE1hc2tdID0gYXJnO1xuXHQgICAgdGhpcy5fbGVuZ3RoID0gbGVuZ3RoO1xuXHR9O1xuXHRcblx0UXVldWUucHJvdG90eXBlLnNoaWZ0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIGZyb250ID0gdGhpcy5fZnJvbnQsXG5cdCAgICAgICAgcmV0ID0gdGhpc1tmcm9udF07XG5cdFxuXHQgICAgdGhpc1tmcm9udF0gPSB1bmRlZmluZWQ7XG5cdCAgICB0aGlzLl9mcm9udCA9IChmcm9udCArIDEpICYgKHRoaXMuX2NhcGFjaXR5IC0gMSk7XG5cdCAgICB0aGlzLl9sZW5ndGgtLTtcblx0ICAgIHJldHVybiByZXQ7XG5cdH07XG5cdFxuXHRRdWV1ZS5wcm90b3R5cGUubGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX2xlbmd0aDtcblx0fTtcblx0XG5cdFF1ZXVlLnByb3RvdHlwZS5fY2hlY2tDYXBhY2l0eSA9IGZ1bmN0aW9uIChzaXplKSB7XG5cdCAgICBpZiAodGhpcy5fY2FwYWNpdHkgPCBzaXplKSB7XG5cdCAgICAgICAgdGhpcy5fcmVzaXplVG8odGhpcy5fY2FwYWNpdHkgPDwgMSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRRdWV1ZS5wcm90b3R5cGUuX3Jlc2l6ZVRvID0gZnVuY3Rpb24gKGNhcGFjaXR5KSB7XG5cdCAgICB2YXIgb2xkQ2FwYWNpdHkgPSB0aGlzLl9jYXBhY2l0eTtcblx0ICAgIHRoaXMuX2NhcGFjaXR5ID0gY2FwYWNpdHk7XG5cdCAgICB2YXIgZnJvbnQgPSB0aGlzLl9mcm9udDtcblx0ICAgIHZhciBsZW5ndGggPSB0aGlzLl9sZW5ndGg7XG5cdCAgICB2YXIgbW92ZUl0ZW1zQ291bnQgPSAoZnJvbnQgKyBsZW5ndGgpICYgKG9sZENhcGFjaXR5IC0gMSk7XG5cdCAgICBhcnJheU1vdmUodGhpcywgMCwgdGhpcywgb2xkQ2FwYWNpdHksIG1vdmVJdGVtc0NvdW50KTtcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gUXVldWU7XG5cdFxuXHR9LHt9XSwyNzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFxuXHQgICAgUHJvbWlzZSwgSU5URVJOQUwsIHRyeUNvbnZlcnRUb1Byb21pc2UsIGFwaVJlamVjdGlvbikge1xuXHR2YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cdFxuXHR2YXIgcmFjZUxhdGVyID0gZnVuY3Rpb24gKHByb21pc2UpIHtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24oYXJyYXkpIHtcblx0ICAgICAgICByZXR1cm4gcmFjZShhcnJheSwgcHJvbWlzZSk7XG5cdCAgICB9KTtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIHJhY2UocHJvbWlzZXMsIHBhcmVudCkge1xuXHQgICAgdmFyIG1heWJlUHJvbWlzZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UocHJvbWlzZXMpO1xuXHRcblx0ICAgIGlmIChtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG5cdCAgICAgICAgcmV0dXJuIHJhY2VMYXRlcihtYXliZVByb21pc2UpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBwcm9taXNlcyA9IHV0aWwuYXNBcnJheShwcm9taXNlcyk7XG5cdCAgICAgICAgaWYgKHByb21pc2VzID09PSBudWxsKVxuXHQgICAgICAgICAgICByZXR1cm4gYXBpUmVqZWN0aW9uKFwiZXhwZWN0aW5nIGFuIGFycmF5IG9yIGFuIGl0ZXJhYmxlIG9iamVjdCBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyhwcm9taXNlcykpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG5cdCAgICBpZiAocGFyZW50ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICByZXQuX3Byb3BhZ2F0ZUZyb20ocGFyZW50LCAzKTtcblx0ICAgIH1cblx0ICAgIHZhciBmdWxmaWxsID0gcmV0Ll9mdWxmaWxsO1xuXHQgICAgdmFyIHJlamVjdCA9IHJldC5fcmVqZWN0O1xuXHQgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHByb21pc2VzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG5cdCAgICAgICAgdmFyIHZhbCA9IHByb21pc2VzW2ldO1xuXHRcblx0ICAgICAgICBpZiAodmFsID09PSB1bmRlZmluZWQgJiYgIShpIGluIHByb21pc2VzKSkge1xuXHQgICAgICAgICAgICBjb250aW51ZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIFByb21pc2UuY2FzdCh2YWwpLl90aGVuKGZ1bGZpbGwsIHJlamVjdCwgdW5kZWZpbmVkLCByZXQsIG51bGwpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJldDtcblx0fVxuXHRcblx0UHJvbWlzZS5yYWNlID0gZnVuY3Rpb24gKHByb21pc2VzKSB7XG5cdCAgICByZXR1cm4gcmFjZShwcm9taXNlcywgdW5kZWZpbmVkKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLnJhY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gcmFjZSh0aGlzLCB1bmRlZmluZWQpO1xuXHR9O1xuXHRcblx0fTtcblx0XG5cdH0se1wiLi91dGlsXCI6MzZ9XSwyODpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvbWlzZUFycmF5LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaVJlamVjdGlvbixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICB0cnlDb252ZXJ0VG9Qcm9taXNlLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgIElOVEVSTkFMLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKSB7XG5cdHZhciBnZXREb21haW4gPSBQcm9taXNlLl9nZXREb21haW47XG5cdHZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcblx0dmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcblx0XG5cdGZ1bmN0aW9uIFJlZHVjdGlvblByb21pc2VBcnJheShwcm9taXNlcywgZm4sIGluaXRpYWxWYWx1ZSwgX2VhY2gpIHtcblx0ICAgIHRoaXMuY29uc3RydWN0b3IkKHByb21pc2VzKTtcblx0ICAgIHZhciBkb21haW4gPSBnZXREb21haW4oKTtcblx0ICAgIHRoaXMuX2ZuID0gZG9tYWluID09PSBudWxsID8gZm4gOiB1dGlsLmRvbWFpbkJpbmQoZG9tYWluLCBmbik7XG5cdCAgICBpZiAoaW5pdGlhbFZhbHVlICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICBpbml0aWFsVmFsdWUgPSBQcm9taXNlLnJlc29sdmUoaW5pdGlhbFZhbHVlKTtcblx0ICAgICAgICBpbml0aWFsVmFsdWUuX2F0dGFjaENhbmNlbGxhdGlvbkNhbGxiYWNrKHRoaXMpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5faW5pdGlhbFZhbHVlID0gaW5pdGlhbFZhbHVlO1xuXHQgICAgdGhpcy5fY3VycmVudENhbmNlbGxhYmxlID0gbnVsbDtcblx0ICAgIGlmKF9lYWNoID09PSBJTlRFUk5BTCkge1xuXHQgICAgICAgIHRoaXMuX2VhY2hWYWx1ZXMgPSBBcnJheSh0aGlzLl9sZW5ndGgpO1xuXHQgICAgfSBlbHNlIGlmIChfZWFjaCA9PT0gMCkge1xuXHQgICAgICAgIHRoaXMuX2VhY2hWYWx1ZXMgPSBudWxsO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLl9lYWNoVmFsdWVzID0gdW5kZWZpbmVkO1xuXHQgICAgfVxuXHQgICAgdGhpcy5fcHJvbWlzZS5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcblx0ICAgIHRoaXMuX2luaXQkKHVuZGVmaW5lZCwgLTUpO1xuXHR9XG5cdHV0aWwuaW5oZXJpdHMoUmVkdWN0aW9uUHJvbWlzZUFycmF5LCBQcm9taXNlQXJyYXkpO1xuXHRcblx0UmVkdWN0aW9uUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fZ290QWNjdW0gPSBmdW5jdGlvbihhY2N1bSkge1xuXHQgICAgaWYgKHRoaXMuX2VhY2hWYWx1ZXMgIT09IHVuZGVmaW5lZCAmJiBcblx0ICAgICAgICB0aGlzLl9lYWNoVmFsdWVzICE9PSBudWxsICYmIFxuXHQgICAgICAgIGFjY3VtICE9PSBJTlRFUk5BTCkge1xuXHQgICAgICAgIHRoaXMuX2VhY2hWYWx1ZXMucHVzaChhY2N1bSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRSZWR1Y3Rpb25Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9lYWNoQ29tcGxldGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgaWYgKHRoaXMuX2VhY2hWYWx1ZXMgIT09IG51bGwpIHtcblx0ICAgICAgICB0aGlzLl9lYWNoVmFsdWVzLnB1c2godmFsdWUpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXMuX2VhY2hWYWx1ZXM7XG5cdH07XG5cdFxuXHRSZWR1Y3Rpb25Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24oKSB7fTtcblx0XG5cdFJlZHVjdGlvblByb21pc2VBcnJheS5wcm90b3R5cGUuX3Jlc29sdmVFbXB0eUFycmF5ID0gZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLl9yZXNvbHZlKHRoaXMuX2VhY2hWYWx1ZXMgIT09IHVuZGVmaW5lZCA/IHRoaXMuX2VhY2hWYWx1ZXNcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5faW5pdGlhbFZhbHVlKTtcblx0fTtcblx0XG5cdFJlZHVjdGlvblByb21pc2VBcnJheS5wcm90b3R5cGUuc2hvdWxkQ29weVZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0fTtcblx0XG5cdFJlZHVjdGlvblByb21pc2VBcnJheS5wcm90b3R5cGUuX3Jlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgdGhpcy5fcHJvbWlzZS5fcmVzb2x2ZUNhbGxiYWNrKHZhbHVlKTtcblx0ICAgIHRoaXMuX3ZhbHVlcyA9IG51bGw7XG5cdH07XG5cdFxuXHRSZWR1Y3Rpb25Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQgPSBmdW5jdGlvbihzZW5kZXIpIHtcblx0ICAgIGlmIChzZW5kZXIgPT09IHRoaXMuX2luaXRpYWxWYWx1ZSkgcmV0dXJuIHRoaXMuX2NhbmNlbCgpO1xuXHQgICAgaWYgKHRoaXMuX2lzUmVzb2x2ZWQoKSkgcmV0dXJuO1xuXHQgICAgdGhpcy5fcmVzdWx0Q2FuY2VsbGVkJCgpO1xuXHQgICAgaWYgKHRoaXMuX2N1cnJlbnRDYW5jZWxsYWJsZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcblx0ICAgICAgICB0aGlzLl9jdXJyZW50Q2FuY2VsbGFibGUuY2FuY2VsKCk7XG5cdCAgICB9XG5cdCAgICBpZiAodGhpcy5faW5pdGlhbFZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuXHQgICAgICAgIHRoaXMuX2luaXRpYWxWYWx1ZS5jYW5jZWwoKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdFJlZHVjdGlvblByb21pc2VBcnJheS5wcm90b3R5cGUuX2l0ZXJhdGUgPSBmdW5jdGlvbiAodmFsdWVzKSB7XG5cdCAgICB0aGlzLl92YWx1ZXMgPSB2YWx1ZXM7XG5cdCAgICB2YXIgdmFsdWU7XG5cdCAgICB2YXIgaTtcblx0ICAgIHZhciBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuXHQgICAgaWYgKHRoaXMuX2luaXRpYWxWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFsdWUgPSB0aGlzLl9pbml0aWFsVmFsdWU7XG5cdCAgICAgICAgaSA9IDA7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhbHVlID0gUHJvbWlzZS5yZXNvbHZlKHZhbHVlc1swXSk7XG5cdCAgICAgICAgaSA9IDE7XG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy5fY3VycmVudENhbmNlbGxhYmxlID0gdmFsdWU7XG5cdFxuXHQgICAgaWYgKCF2YWx1ZS5pc1JlamVjdGVkKCkpIHtcblx0ICAgICAgICBmb3IgKDsgaSA8IGxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgICAgIHZhciBjdHggPSB7XG5cdCAgICAgICAgICAgICAgICBhY2N1bTogbnVsbCxcblx0ICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZXNbaV0sXG5cdCAgICAgICAgICAgICAgICBpbmRleDogaSxcblx0ICAgICAgICAgICAgICAgIGxlbmd0aDogbGVuZ3RoLFxuXHQgICAgICAgICAgICAgICAgYXJyYXk6IHRoaXNcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5fdGhlbihnb3RBY2N1bSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGN0eCwgdW5kZWZpbmVkKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHRoaXMuX2VhY2hWYWx1ZXMgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhbHVlID0gdmFsdWVcblx0ICAgICAgICAgICAgLl90aGVuKHRoaXMuX2VhY2hDb21wbGV0ZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHRoaXMsIHVuZGVmaW5lZCk7XG5cdCAgICB9XG5cdCAgICB2YWx1ZS5fdGhlbihjb21wbGV0ZWQsIGNvbXBsZXRlZCwgdW5kZWZpbmVkLCB2YWx1ZSwgdGhpcyk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5yZWR1Y2UgPSBmdW5jdGlvbiAoZm4sIGluaXRpYWxWYWx1ZSkge1xuXHQgICAgcmV0dXJuIHJlZHVjZSh0aGlzLCBmbiwgaW5pdGlhbFZhbHVlLCBudWxsKTtcblx0fTtcblx0XG5cdFByb21pc2UucmVkdWNlID0gZnVuY3Rpb24gKHByb21pc2VzLCBmbiwgaW5pdGlhbFZhbHVlLCBfZWFjaCkge1xuXHQgICAgcmV0dXJuIHJlZHVjZShwcm9taXNlcywgZm4sIGluaXRpYWxWYWx1ZSwgX2VhY2gpO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gY29tcGxldGVkKHZhbHVlT3JSZWFzb24sIGFycmF5KSB7XG5cdCAgICBpZiAodGhpcy5pc0Z1bGZpbGxlZCgpKSB7XG5cdCAgICAgICAgYXJyYXkuX3Jlc29sdmUodmFsdWVPclJlYXNvbik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGFycmF5Ll9yZWplY3QodmFsdWVPclJlYXNvbik7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlZHVjZShwcm9taXNlcywgZm4sIGluaXRpYWxWYWx1ZSwgX2VhY2gpIHtcblx0ICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgIHJldHVybiBhcGlSZWplY3Rpb24oXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyhmbikpO1xuXHQgICAgfVxuXHQgICAgdmFyIGFycmF5ID0gbmV3IFJlZHVjdGlvblByb21pc2VBcnJheShwcm9taXNlcywgZm4sIGluaXRpYWxWYWx1ZSwgX2VhY2gpO1xuXHQgICAgcmV0dXJuIGFycmF5LnByb21pc2UoKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ290QWNjdW0oYWNjdW0pIHtcblx0ICAgIHRoaXMuYWNjdW0gPSBhY2N1bTtcblx0ICAgIHRoaXMuYXJyYXkuX2dvdEFjY3VtKGFjY3VtKTtcblx0ICAgIHZhciB2YWx1ZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UodGhpcy52YWx1ZSwgdGhpcy5hcnJheS5fcHJvbWlzZSk7XG5cdCAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG5cdCAgICAgICAgdGhpcy5hcnJheS5fY3VycmVudENhbmNlbGxhYmxlID0gdmFsdWU7XG5cdCAgICAgICAgcmV0dXJuIHZhbHVlLl90aGVuKGdvdFZhbHVlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdGhpcywgdW5kZWZpbmVkKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGdvdFZhbHVlLmNhbGwodGhpcywgdmFsdWUpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBnb3RWYWx1ZSh2YWx1ZSkge1xuXHQgICAgdmFyIGFycmF5ID0gdGhpcy5hcnJheTtcblx0ICAgIHZhciBwcm9taXNlID0gYXJyYXkuX3Byb21pc2U7XG5cdCAgICB2YXIgZm4gPSB0cnlDYXRjaChhcnJheS5fZm4pO1xuXHQgICAgcHJvbWlzZS5fcHVzaENvbnRleHQoKTtcblx0ICAgIHZhciByZXQ7XG5cdCAgICBpZiAoYXJyYXkuX2VhY2hWYWx1ZXMgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHJldCA9IGZuLmNhbGwocHJvbWlzZS5fYm91bmRWYWx1ZSgpLCB2YWx1ZSwgdGhpcy5pbmRleCwgdGhpcy5sZW5ndGgpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXQgPSBmbi5jYWxsKHByb21pc2UuX2JvdW5kVmFsdWUoKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY2N1bSwgdmFsdWUsIHRoaXMuaW5kZXgsIHRoaXMubGVuZ3RoKTtcblx0ICAgIH1cblx0ICAgIGlmIChyZXQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG5cdCAgICAgICAgYXJyYXkuX2N1cnJlbnRDYW5jZWxsYWJsZSA9IHJldDtcblx0ICAgIH1cblx0ICAgIHZhciBwcm9taXNlQ3JlYXRlZCA9IHByb21pc2UuX3BvcENvbnRleHQoKTtcblx0ICAgIGRlYnVnLmNoZWNrRm9yZ290dGVuUmV0dXJucyhcblx0ICAgICAgICByZXQsXG5cdCAgICAgICAgcHJvbWlzZUNyZWF0ZWQsXG5cdCAgICAgICAgYXJyYXkuX2VhY2hWYWx1ZXMgIT09IHVuZGVmaW5lZCA/IFwiUHJvbWlzZS5lYWNoXCIgOiBcIlByb21pc2UucmVkdWNlXCIsXG5cdCAgICAgICAgcHJvbWlzZVxuXHQgICAgKTtcblx0ICAgIHJldHVybiByZXQ7XG5cdH1cblx0fTtcblx0XG5cdH0se1wiLi91dGlsXCI6MzZ9XSwyOTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cdHZhciBzY2hlZHVsZTtcblx0dmFyIG5vQXN5bmNTY2hlZHVsZXIgPSBmdW5jdGlvbigpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGFzeW5jIHNjaGVkdWxlciBhdmFpbGFibGVcXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuXHR9O1xuXHR2YXIgTmF0aXZlUHJvbWlzZSA9IHV0aWwuZ2V0TmF0aXZlUHJvbWlzZSgpO1xuXHRpZiAodXRpbC5pc05vZGUgJiYgdHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXIgPT09IFwidW5kZWZpbmVkXCIpIHtcblx0ICAgIHZhciBHbG9iYWxTZXRJbW1lZGlhdGUgPSBnbG9iYWwuc2V0SW1tZWRpYXRlO1xuXHQgICAgdmFyIFByb2Nlc3NOZXh0VGljayA9IHByb2Nlc3MubmV4dFRpY2s7XG5cdCAgICBzY2hlZHVsZSA9IHV0aWwuaXNSZWNlbnROb2RlXG5cdCAgICAgICAgICAgICAgICA/IGZ1bmN0aW9uKGZuKSB7IEdsb2JhbFNldEltbWVkaWF0ZS5jYWxsKGdsb2JhbCwgZm4pOyB9XG5cdCAgICAgICAgICAgICAgICA6IGZ1bmN0aW9uKGZuKSB7IFByb2Nlc3NOZXh0VGljay5jYWxsKHByb2Nlc3MsIGZuKTsgfTtcblx0fSBlbHNlIGlmICh0eXBlb2YgTmF0aXZlUHJvbWlzZSA9PT0gXCJmdW5jdGlvblwiICYmXG5cdCAgICAgICAgICAgdHlwZW9mIE5hdGl2ZVByb21pc2UucmVzb2x2ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICB2YXIgbmF0aXZlUHJvbWlzZSA9IE5hdGl2ZVByb21pc2UucmVzb2x2ZSgpO1xuXHQgICAgc2NoZWR1bGUgPSBmdW5jdGlvbihmbikge1xuXHQgICAgICAgIG5hdGl2ZVByb21pc2UudGhlbihmbik7XG5cdCAgICB9O1xuXHR9IGVsc2UgaWYgKCh0eXBlb2YgTXV0YXRpb25PYnNlcnZlciAhPT0gXCJ1bmRlZmluZWRcIikgJiZcblx0ICAgICAgICAgICEodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuXHQgICAgICAgICAgICB3aW5kb3cubmF2aWdhdG9yICYmXG5cdCAgICAgICAgICAgICh3aW5kb3cubmF2aWdhdG9yLnN0YW5kYWxvbmUgfHwgd2luZG93LmNvcmRvdmEpKSkge1xuXHQgICAgc2NoZWR1bGUgPSAoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdCAgICAgICAgdmFyIG9wdHMgPSB7YXR0cmlidXRlczogdHJ1ZX07XG5cdCAgICAgICAgdmFyIHRvZ2dsZVNjaGVkdWxlZCA9IGZhbHNlO1xuXHQgICAgICAgIHZhciBkaXYyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0ICAgICAgICB2YXIgbzIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgZGl2LmNsYXNzTGlzdC50b2dnbGUoXCJmb29cIik7XG5cdCAgICAgICAgICAgIHRvZ2dsZVNjaGVkdWxlZCA9IGZhbHNlO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIG8yLm9ic2VydmUoZGl2Miwgb3B0cyk7XG5cdFxuXHQgICAgICAgIHZhciBzY2hlZHVsZVRvZ2dsZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICBpZiAodG9nZ2xlU2NoZWR1bGVkKSByZXR1cm47XG5cdCAgICAgICAgICAgICAgICB0b2dnbGVTY2hlZHVsZWQgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgZGl2Mi5jbGFzc0xpc3QudG9nZ2xlKFwiZm9vXCIpO1xuXHQgICAgICAgICAgICB9O1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHNjaGVkdWxlKGZuKSB7XG5cdCAgICAgICAgICAgIHZhciBvID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICBvLmRpc2Nvbm5lY3QoKTtcblx0ICAgICAgICAgICAgICAgIGZuKCk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICBvLm9ic2VydmUoZGl2LCBvcHRzKTtcblx0ICAgICAgICAgICAgc2NoZWR1bGVUb2dnbGUoKTtcblx0ICAgICAgICB9O1xuXHQgICAgfSkoKTtcblx0fSBlbHNlIGlmICh0eXBlb2Ygc2V0SW1tZWRpYXRlICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdCAgICBzY2hlZHVsZSA9IGZ1bmN0aW9uIChmbikge1xuXHQgICAgICAgIHNldEltbWVkaWF0ZShmbik7XG5cdCAgICB9O1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdCAgICBzY2hlZHVsZSA9IGZ1bmN0aW9uIChmbikge1xuXHQgICAgICAgIHNldFRpbWVvdXQoZm4sIDApO1xuXHQgICAgfTtcblx0fSBlbHNlIHtcblx0ICAgIHNjaGVkdWxlID0gbm9Bc3luY1NjaGVkdWxlcjtcblx0fVxuXHRtb2R1bGUuZXhwb3J0cyA9IHNjaGVkdWxlO1xuXHRcblx0fSx7XCIuL3V0aWxcIjozNn1dLDMwOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID1cblx0ICAgIGZ1bmN0aW9uKFByb21pc2UsIFByb21pc2VBcnJheSwgZGVidWcpIHtcblx0dmFyIFByb21pc2VJbnNwZWN0aW9uID0gUHJvbWlzZS5Qcm9taXNlSW5zcGVjdGlvbjtcblx0dmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXHRcblx0ZnVuY3Rpb24gU2V0dGxlZFByb21pc2VBcnJheSh2YWx1ZXMpIHtcblx0ICAgIHRoaXMuY29uc3RydWN0b3IkKHZhbHVlcyk7XG5cdH1cblx0dXRpbC5pbmhlcml0cyhTZXR0bGVkUHJvbWlzZUFycmF5LCBQcm9taXNlQXJyYXkpO1xuXHRcblx0U2V0dGxlZFByb21pc2VBcnJheS5wcm90b3R5cGUuX3Byb21pc2VSZXNvbHZlZCA9IGZ1bmN0aW9uIChpbmRleCwgaW5zcGVjdGlvbikge1xuXHQgICAgdGhpcy5fdmFsdWVzW2luZGV4XSA9IGluc3BlY3Rpb247XG5cdCAgICB2YXIgdG90YWxSZXNvbHZlZCA9ICsrdGhpcy5fdG90YWxSZXNvbHZlZDtcblx0ICAgIGlmICh0b3RhbFJlc29sdmVkID49IHRoaXMuX2xlbmd0aCkge1xuXHQgICAgICAgIHRoaXMuX3Jlc29sdmUodGhpcy5fdmFsdWVzKTtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBmYWxzZTtcblx0fTtcblx0XG5cdFNldHRsZWRQcm9taXNlQXJyYXkucHJvdG90eXBlLl9wcm9taXNlRnVsZmlsbGVkID0gZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xuXHQgICAgdmFyIHJldCA9IG5ldyBQcm9taXNlSW5zcGVjdGlvbigpO1xuXHQgICAgcmV0Ll9iaXRGaWVsZCA9IDMzNTU0NDMyO1xuXHQgICAgcmV0Ll9zZXR0bGVkVmFsdWVGaWVsZCA9IHZhbHVlO1xuXHQgICAgcmV0dXJuIHRoaXMuX3Byb21pc2VSZXNvbHZlZChpbmRleCwgcmV0KTtcblx0fTtcblx0U2V0dGxlZFByb21pc2VBcnJheS5wcm90b3R5cGUuX3Byb21pc2VSZWplY3RlZCA9IGZ1bmN0aW9uIChyZWFzb24sIGluZGV4KSB7XG5cdCAgICB2YXIgcmV0ID0gbmV3IFByb21pc2VJbnNwZWN0aW9uKCk7XG5cdCAgICByZXQuX2JpdEZpZWxkID0gMTY3NzcyMTY7XG5cdCAgICByZXQuX3NldHRsZWRWYWx1ZUZpZWxkID0gcmVhc29uO1xuXHQgICAgcmV0dXJuIHRoaXMuX3Byb21pc2VSZXNvbHZlZChpbmRleCwgcmV0KTtcblx0fTtcblx0XG5cdFByb21pc2Uuc2V0dGxlID0gZnVuY3Rpb24gKHByb21pc2VzKSB7XG5cdCAgICBkZWJ1Zy5kZXByZWNhdGVkKFwiLnNldHRsZSgpXCIsIFwiLnJlZmxlY3QoKVwiKTtcblx0ICAgIHJldHVybiBuZXcgU2V0dGxlZFByb21pc2VBcnJheShwcm9taXNlcykucHJvbWlzZSgpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuc2V0dGxlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFByb21pc2Uuc2V0dGxlKHRoaXMpO1xuXHR9O1xuXHR9O1xuXHRcblx0fSx7XCIuL3V0aWxcIjozNn1dLDMxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID1cblx0ZnVuY3Rpb24oUHJvbWlzZSwgUHJvbWlzZUFycmF5LCBhcGlSZWplY3Rpb24pIHtcblx0dmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXHR2YXIgUmFuZ2VFcnJvciA9IF9kZXJlcV8oXCIuL2Vycm9yc1wiKS5SYW5nZUVycm9yO1xuXHR2YXIgQWdncmVnYXRlRXJyb3IgPSBfZGVyZXFfKFwiLi9lcnJvcnNcIikuQWdncmVnYXRlRXJyb3I7XG5cdHZhciBpc0FycmF5ID0gdXRpbC5pc0FycmF5O1xuXHR2YXIgQ0FOQ0VMTEFUSU9OID0ge307XG5cdFxuXHRcblx0ZnVuY3Rpb24gU29tZVByb21pc2VBcnJheSh2YWx1ZXMpIHtcblx0ICAgIHRoaXMuY29uc3RydWN0b3IkKHZhbHVlcyk7XG5cdCAgICB0aGlzLl9ob3dNYW55ID0gMDtcblx0ICAgIHRoaXMuX3Vud3JhcCA9IGZhbHNlO1xuXHQgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSBmYWxzZTtcblx0fVxuXHR1dGlsLmluaGVyaXRzKFNvbWVQcm9taXNlQXJyYXksIFByb21pc2VBcnJheSk7XG5cdFxuXHRTb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICghdGhpcy5faW5pdGlhbGl6ZWQpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBpZiAodGhpcy5faG93TWFueSA9PT0gMCkge1xuXHQgICAgICAgIHRoaXMuX3Jlc29sdmUoW10pO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHRoaXMuX2luaXQkKHVuZGVmaW5lZCwgLTUpO1xuXHQgICAgdmFyIGlzQXJyYXlSZXNvbHZlZCA9IGlzQXJyYXkodGhpcy5fdmFsdWVzKTtcblx0ICAgIGlmICghdGhpcy5faXNSZXNvbHZlZCgpICYmXG5cdCAgICAgICAgaXNBcnJheVJlc29sdmVkICYmXG5cdCAgICAgICAgdGhpcy5faG93TWFueSA+IHRoaXMuX2NhblBvc3NpYmx5RnVsZmlsbCgpKSB7XG5cdCAgICAgICAgdGhpcy5fcmVqZWN0KHRoaXMuX2dldFJhbmdlRXJyb3IodGhpcy5sZW5ndGgoKSkpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0U29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcblx0ICAgIHRoaXMuX2luaXQoKTtcblx0fTtcblx0XG5cdFNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLnNldFVud3JhcCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuX3Vud3JhcCA9IHRydWU7XG5cdH07XG5cdFxuXHRTb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5ob3dNYW55ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX2hvd01hbnk7XG5cdH07XG5cdFxuXHRTb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5zZXRIb3dNYW55ID0gZnVuY3Rpb24gKGNvdW50KSB7XG5cdCAgICB0aGlzLl9ob3dNYW55ID0gY291bnQ7XG5cdH07XG5cdFxuXHRTb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZUZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgdGhpcy5fYWRkRnVsZmlsbGVkKHZhbHVlKTtcblx0ICAgIGlmICh0aGlzLl9mdWxmaWxsZWQoKSA9PT0gdGhpcy5ob3dNYW55KCkpIHtcblx0ICAgICAgICB0aGlzLl92YWx1ZXMubGVuZ3RoID0gdGhpcy5ob3dNYW55KCk7XG5cdCAgICAgICAgaWYgKHRoaXMuaG93TWFueSgpID09PSAxICYmIHRoaXMuX3Vud3JhcCkge1xuXHQgICAgICAgICAgICB0aGlzLl9yZXNvbHZlKHRoaXMuX3ZhbHVlc1swXSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSh0aGlzLl92YWx1ZXMpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBmYWxzZTtcblx0XG5cdH07XG5cdFNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9wcm9taXNlUmVqZWN0ZWQgPSBmdW5jdGlvbiAocmVhc29uKSB7XG5cdCAgICB0aGlzLl9hZGRSZWplY3RlZChyZWFzb24pO1xuXHQgICAgcmV0dXJuIHRoaXMuX2NoZWNrT3V0Y29tZSgpO1xuXHR9O1xuXHRcblx0U29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuX3Byb21pc2VDYW5jZWxsZWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAodGhpcy5fdmFsdWVzIGluc3RhbmNlb2YgUHJvbWlzZSB8fCB0aGlzLl92YWx1ZXMgPT0gbnVsbCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9jYW5jZWwoKTtcblx0ICAgIH1cblx0ICAgIHRoaXMuX2FkZFJlamVjdGVkKENBTkNFTExBVElPTik7XG5cdCAgICByZXR1cm4gdGhpcy5fY2hlY2tPdXRjb21lKCk7XG5cdH07XG5cdFxuXHRTb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fY2hlY2tPdXRjb21lID0gZnVuY3Rpb24oKSB7XG5cdCAgICBpZiAodGhpcy5ob3dNYW55KCkgPiB0aGlzLl9jYW5Qb3NzaWJseUZ1bGZpbGwoKSkge1xuXHQgICAgICAgIHZhciBlID0gbmV3IEFnZ3JlZ2F0ZUVycm9yKCk7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMubGVuZ3RoKCk7IGkgPCB0aGlzLl92YWx1ZXMubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICAgICAgaWYgKHRoaXMuX3ZhbHVlc1tpXSAhPT0gQ0FOQ0VMTEFUSU9OKSB7XG5cdCAgICAgICAgICAgICAgICBlLnB1c2godGhpcy5fdmFsdWVzW2ldKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoZS5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX3JlamVjdChlKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB0aGlzLl9jYW5jZWwoKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdH07XG5cdFxuXHRTb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fZnVsZmlsbGVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX3RvdGFsUmVzb2x2ZWQ7XG5cdH07XG5cdFxuXHRTb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcmVqZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fdmFsdWVzLmxlbmd0aCAtIHRoaXMubGVuZ3RoKCk7XG5cdH07XG5cdFxuXHRTb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fYWRkUmVqZWN0ZWQgPSBmdW5jdGlvbiAocmVhc29uKSB7XG5cdCAgICB0aGlzLl92YWx1ZXMucHVzaChyZWFzb24pO1xuXHR9O1xuXHRcblx0U29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuX2FkZEZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgdGhpcy5fdmFsdWVzW3RoaXMuX3RvdGFsUmVzb2x2ZWQrK10gPSB2YWx1ZTtcblx0fTtcblx0XG5cdFNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9jYW5Qb3NzaWJseUZ1bGZpbGwgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5sZW5ndGgoKSAtIHRoaXMuX3JlamVjdGVkKCk7XG5cdH07XG5cdFxuXHRTb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fZ2V0UmFuZ2VFcnJvciA9IGZ1bmN0aW9uIChjb3VudCkge1xuXHQgICAgdmFyIG1lc3NhZ2UgPSBcIklucHV0IGFycmF5IG11c3QgY29udGFpbiBhdCBsZWFzdCBcIiArXG5cdCAgICAgICAgICAgIHRoaXMuX2hvd01hbnkgKyBcIiBpdGVtcyBidXQgY29udGFpbnMgb25seSBcIiArIGNvdW50ICsgXCIgaXRlbXNcIjtcblx0ICAgIHJldHVybiBuZXcgUmFuZ2VFcnJvcihtZXNzYWdlKTtcblx0fTtcblx0XG5cdFNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9yZXNvbHZlRW1wdHlBcnJheSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuX3JlamVjdCh0aGlzLl9nZXRSYW5nZUVycm9yKDApKTtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIHNvbWUocHJvbWlzZXMsIGhvd01hbnkpIHtcblx0ICAgIGlmICgoaG93TWFueSB8IDApICE9PSBob3dNYW55IHx8IGhvd01hbnkgPCAwKSB7XG5cdCAgICAgICAgcmV0dXJuIGFwaVJlamVjdGlvbihcImV4cGVjdGluZyBhIHBvc2l0aXZlIGludGVnZXJcXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuXHQgICAgfVxuXHQgICAgdmFyIHJldCA9IG5ldyBTb21lUHJvbWlzZUFycmF5KHByb21pc2VzKTtcblx0ICAgIHZhciBwcm9taXNlID0gcmV0LnByb21pc2UoKTtcblx0ICAgIHJldC5zZXRIb3dNYW55KGhvd01hbnkpO1xuXHQgICAgcmV0LmluaXQoKTtcblx0ICAgIHJldHVybiBwcm9taXNlO1xuXHR9XG5cdFxuXHRQcm9taXNlLnNvbWUgPSBmdW5jdGlvbiAocHJvbWlzZXMsIGhvd01hbnkpIHtcblx0ICAgIHJldHVybiBzb21lKHByb21pc2VzLCBob3dNYW55KTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLnNvbWUgPSBmdW5jdGlvbiAoaG93TWFueSkge1xuXHQgICAgcmV0dXJuIHNvbWUodGhpcywgaG93TWFueSk7XG5cdH07XG5cdFxuXHRQcm9taXNlLl9Tb21lUHJvbWlzZUFycmF5ID0gU29tZVByb21pc2VBcnJheTtcblx0fTtcblx0XG5cdH0se1wiLi9lcnJvcnNcIjoxMixcIi4vdXRpbFwiOjM2fV0sMzI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlKSB7XG5cdGZ1bmN0aW9uIFByb21pc2VJbnNwZWN0aW9uKHByb21pc2UpIHtcblx0ICAgIGlmIChwcm9taXNlICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICBwcm9taXNlID0gcHJvbWlzZS5fdGFyZ2V0KCk7XG5cdCAgICAgICAgdGhpcy5fYml0RmllbGQgPSBwcm9taXNlLl9iaXRGaWVsZDtcblx0ICAgICAgICB0aGlzLl9zZXR0bGVkVmFsdWVGaWVsZCA9IHByb21pc2UuX2lzRmF0ZVNlYWxlZCgpXG5cdCAgICAgICAgICAgID8gcHJvbWlzZS5fc2V0dGxlZFZhbHVlKCkgOiB1bmRlZmluZWQ7XG5cdCAgICB9XG5cdCAgICBlbHNlIHtcblx0ICAgICAgICB0aGlzLl9iaXRGaWVsZCA9IDA7XG5cdCAgICAgICAgdGhpcy5fc2V0dGxlZFZhbHVlRmllbGQgPSB1bmRlZmluZWQ7XG5cdCAgICB9XG5cdH1cblx0XG5cdFByb21pc2VJbnNwZWN0aW9uLnByb3RvdHlwZS5fc2V0dGxlZFZhbHVlID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fc2V0dGxlZFZhbHVlRmllbGQ7XG5cdH07XG5cdFxuXHR2YXIgdmFsdWUgPSBQcm9taXNlSW5zcGVjdGlvbi5wcm90b3R5cGUudmFsdWUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAoIXRoaXMuaXNGdWxmaWxsZWQoKSkge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJjYW5ub3QgZ2V0IGZ1bGZpbGxtZW50IHZhbHVlIG9mIGEgbm9uLWZ1bGZpbGxlZCBwcm9taXNlXFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB0aGlzLl9zZXR0bGVkVmFsdWUoKTtcblx0fTtcblx0XG5cdHZhciByZWFzb24gPSBQcm9taXNlSW5zcGVjdGlvbi5wcm90b3R5cGUuZXJyb3IgPVxuXHRQcm9taXNlSW5zcGVjdGlvbi5wcm90b3R5cGUucmVhc29uID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKCF0aGlzLmlzUmVqZWN0ZWQoKSkge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJjYW5ub3QgZ2V0IHJlamVjdGlvbiByZWFzb24gb2YgYSBub24tcmVqZWN0ZWQgcHJvbWlzZVxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdGhpcy5fc2V0dGxlZFZhbHVlKCk7XG5cdH07XG5cdFxuXHR2YXIgaXNGdWxmaWxsZWQgPSBQcm9taXNlSW5zcGVjdGlvbi5wcm90b3R5cGUuaXNGdWxmaWxsZWQgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDA7XG5cdH07XG5cdFxuXHR2YXIgaXNSZWplY3RlZCA9IFByb21pc2VJbnNwZWN0aW9uLnByb3RvdHlwZS5pc1JlamVjdGVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDE2Nzc3MjE2KSAhPT0gMDtcblx0fTtcblx0XG5cdHZhciBpc1BlbmRpbmcgPSBQcm9taXNlSW5zcGVjdGlvbi5wcm90b3R5cGUuaXNQZW5kaW5nID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDUwMzk3MTg0KSA9PT0gMDtcblx0fTtcblx0XG5cdHZhciBpc1Jlc29sdmVkID0gUHJvbWlzZUluc3BlY3Rpb24ucHJvdG90eXBlLmlzUmVzb2x2ZWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgNTAzMzE2NDgpICE9PSAwO1xuXHR9O1xuXHRcblx0UHJvbWlzZUluc3BlY3Rpb24ucHJvdG90eXBlLmlzQ2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgODQ1NDE0NCkgIT09IDA7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fX2lzQ2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgNjU1MzYpID09PSA2NTUzNjtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9pc0NhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX3RhcmdldCgpLl9faXNDYW5jZWxsZWQoKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLmlzQ2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gKHRoaXMuX3RhcmdldCgpLl9iaXRGaWVsZCAmIDg0NTQxNDQpICE9PSAwO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuaXNQZW5kaW5nID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gaXNQZW5kaW5nLmNhbGwodGhpcy5fdGFyZ2V0KCkpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuaXNSZWplY3RlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIGlzUmVqZWN0ZWQuY2FsbCh0aGlzLl90YXJnZXQoKSk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5pc0Z1bGZpbGxlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIGlzRnVsZmlsbGVkLmNhbGwodGhpcy5fdGFyZ2V0KCkpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuaXNSZXNvbHZlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIGlzUmVzb2x2ZWQuY2FsbCh0aGlzLl90YXJnZXQoKSk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS52YWx1ZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIHZhbHVlLmNhbGwodGhpcy5fdGFyZ2V0KCkpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUucmVhc29uID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgdGFyZ2V0ID0gdGhpcy5fdGFyZ2V0KCk7XG5cdCAgICB0YXJnZXQuX3Vuc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQoKTtcblx0ICAgIHJldHVybiByZWFzb24uY2FsbCh0YXJnZXQpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3ZhbHVlID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fc2V0dGxlZFZhbHVlKCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fcmVhc29uID0gZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLl91bnNldFJlamVjdGlvbklzVW5oYW5kbGVkKCk7XG5cdCAgICByZXR1cm4gdGhpcy5fc2V0dGxlZFZhbHVlKCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLlByb21pc2VJbnNwZWN0aW9uID0gUHJvbWlzZUluc3BlY3Rpb247XG5cdH07XG5cdFxuXHR9LHt9XSwzMzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIElOVEVSTkFMKSB7XG5cdHZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcblx0dmFyIGVycm9yT2JqID0gdXRpbC5lcnJvck9iajtcblx0dmFyIGlzT2JqZWN0ID0gdXRpbC5pc09iamVjdDtcblx0XG5cdGZ1bmN0aW9uIHRyeUNvbnZlcnRUb1Byb21pc2Uob2JqLCBjb250ZXh0KSB7XG5cdCAgICBpZiAoaXNPYmplY3Qob2JqKSkge1xuXHQgICAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBQcm9taXNlKSByZXR1cm4gb2JqO1xuXHQgICAgICAgIHZhciB0aGVuID0gZ2V0VGhlbihvYmopO1xuXHQgICAgICAgIGlmICh0aGVuID09PSBlcnJvck9iaikge1xuXHQgICAgICAgICAgICBpZiAoY29udGV4dCkgY29udGV4dC5fcHVzaENvbnRleHQoKTtcblx0ICAgICAgICAgICAgdmFyIHJldCA9IFByb21pc2UucmVqZWN0KHRoZW4uZSk7XG5cdCAgICAgICAgICAgIGlmIChjb250ZXh0KSBjb250ZXh0Ll9wb3BDb250ZXh0KCk7XG5cdCAgICAgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhlbiA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgIGlmIChpc0FueUJsdWViaXJkUHJvbWlzZShvYmopKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuXHQgICAgICAgICAgICAgICAgb2JqLl90aGVuKFxuXHQgICAgICAgICAgICAgICAgICAgIHJldC5fZnVsZmlsbCxcblx0ICAgICAgICAgICAgICAgICAgICByZXQuX3JlamVjdCxcblx0ICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG5cdCAgICAgICAgICAgICAgICAgICAgcmV0LFxuXHQgICAgICAgICAgICAgICAgICAgIG51bGxcblx0ICAgICAgICAgICAgICAgICk7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBkb1RoZW5hYmxlKG9iaiwgdGhlbiwgY29udGV4dCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIG9iajtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZG9HZXRUaGVuKG9iaikge1xuXHQgICAgcmV0dXJuIG9iai50aGVuO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRUaGVuKG9iaikge1xuXHQgICAgdHJ5IHtcblx0ICAgICAgICByZXR1cm4gZG9HZXRUaGVuKG9iaik7XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgZXJyb3JPYmouZSA9IGU7XG5cdCAgICAgICAgcmV0dXJuIGVycm9yT2JqO1xuXHQgICAgfVxuXHR9XG5cdFxuXHR2YXIgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXHRmdW5jdGlvbiBpc0FueUJsdWViaXJkUHJvbWlzZShvYmopIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgICAgcmV0dXJuIGhhc1Byb3AuY2FsbChvYmosIFwiX3Byb21pc2UwXCIpO1xuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZG9UaGVuYWJsZSh4LCB0aGVuLCBjb250ZXh0KSB7XG5cdCAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcblx0ICAgIHZhciByZXQgPSBwcm9taXNlO1xuXHQgICAgaWYgKGNvbnRleHQpIGNvbnRleHQuX3B1c2hDb250ZXh0KCk7XG5cdCAgICBwcm9taXNlLl9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuXHQgICAgaWYgKGNvbnRleHQpIGNvbnRleHQuX3BvcENvbnRleHQoKTtcblx0ICAgIHZhciBzeW5jaHJvbm91cyA9IHRydWU7XG5cdCAgICB2YXIgcmVzdWx0ID0gdXRpbC50cnlDYXRjaCh0aGVuKS5jYWxsKHgsIHJlc29sdmUsIHJlamVjdCk7XG5cdCAgICBzeW5jaHJvbm91cyA9IGZhbHNlO1xuXHRcblx0ICAgIGlmIChwcm9taXNlICYmIHJlc3VsdCA9PT0gZXJyb3JPYmopIHtcblx0ICAgICAgICBwcm9taXNlLl9yZWplY3RDYWxsYmFjayhyZXN1bHQuZSwgdHJ1ZSwgdHJ1ZSk7XG5cdCAgICAgICAgcHJvbWlzZSA9IG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gcmVzb2x2ZSh2YWx1ZSkge1xuXHQgICAgICAgIGlmICghcHJvbWlzZSkgcmV0dXJuO1xuXHQgICAgICAgIHByb21pc2UuX3Jlc29sdmVDYWxsYmFjayh2YWx1ZSk7XG5cdCAgICAgICAgcHJvbWlzZSA9IG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gcmVqZWN0KHJlYXNvbikge1xuXHQgICAgICAgIGlmICghcHJvbWlzZSkgcmV0dXJuO1xuXHQgICAgICAgIHByb21pc2UuX3JlamVjdENhbGxiYWNrKHJlYXNvbiwgc3luY2hyb25vdXMsIHRydWUpO1xuXHQgICAgICAgIHByb21pc2UgPSBudWxsO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJldDtcblx0fVxuXHRcblx0cmV0dXJuIHRyeUNvbnZlcnRUb1Byb21pc2U7XG5cdH07XG5cdFxuXHR9LHtcIi4vdXRpbFwiOjM2fV0sMzQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLCBJTlRFUk5BTCwgZGVidWcpIHtcblx0dmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXHR2YXIgVGltZW91dEVycm9yID0gUHJvbWlzZS5UaW1lb3V0RXJyb3I7XG5cdFxuXHRmdW5jdGlvbiBIYW5kbGVXcmFwcGVyKGhhbmRsZSkgIHtcblx0ICAgIHRoaXMuaGFuZGxlID0gaGFuZGxlO1xuXHR9XG5cdFxuXHRIYW5kbGVXcmFwcGVyLnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICBjbGVhclRpbWVvdXQodGhpcy5oYW5kbGUpO1xuXHR9O1xuXHRcblx0dmFyIGFmdGVyVmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gZGVsYXkoK3RoaXMpLnRoZW5SZXR1cm4odmFsdWUpOyB9O1xuXHR2YXIgZGVsYXkgPSBQcm9taXNlLmRlbGF5ID0gZnVuY3Rpb24gKG1zLCB2YWx1ZSkge1xuXHQgICAgdmFyIHJldDtcblx0ICAgIHZhciBoYW5kbGU7XG5cdCAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHJldCA9IFByb21pc2UucmVzb2x2ZSh2YWx1ZSlcblx0ICAgICAgICAgICAgICAgIC5fdGhlbihhZnRlclZhbHVlLCBudWxsLCBudWxsLCBtcywgdW5kZWZpbmVkKTtcblx0ICAgICAgICBpZiAoZGVidWcuY2FuY2VsbGF0aW9uKCkgJiYgdmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG5cdCAgICAgICAgICAgIHJldC5fc2V0T25DYW5jZWwodmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuXHQgICAgICAgIGhhbmRsZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IHJldC5fZnVsZmlsbCgpOyB9LCArbXMpO1xuXHQgICAgICAgIGlmIChkZWJ1Zy5jYW5jZWxsYXRpb24oKSkge1xuXHQgICAgICAgICAgICByZXQuX3NldE9uQ2FuY2VsKG5ldyBIYW5kbGVXcmFwcGVyKGhhbmRsZSkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXQuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG5cdCAgICB9XG5cdCAgICByZXQuX3NldEFzeW5jR3VhcmFudGVlZCgpO1xuXHQgICAgcmV0dXJuIHJldDtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLmRlbGF5ID0gZnVuY3Rpb24gKG1zKSB7XG5cdCAgICByZXR1cm4gZGVsYXkobXMsIHRoaXMpO1xuXHR9O1xuXHRcblx0dmFyIGFmdGVyVGltZW91dCA9IGZ1bmN0aW9uIChwcm9taXNlLCBtZXNzYWdlLCBwYXJlbnQpIHtcblx0ICAgIHZhciBlcnI7XG5cdCAgICBpZiAodHlwZW9mIG1lc3NhZ2UgIT09IFwic3RyaW5nXCIpIHtcblx0ICAgICAgICBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdCAgICAgICAgICAgIGVyciA9IG1lc3NhZ2U7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgZXJyID0gbmV3IFRpbWVvdXRFcnJvcihcIm9wZXJhdGlvbiB0aW1lZCBvdXRcIik7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBlcnIgPSBuZXcgVGltZW91dEVycm9yKG1lc3NhZ2UpO1xuXHQgICAgfVxuXHQgICAgdXRpbC5tYXJrQXNPcmlnaW5hdGluZ0Zyb21SZWplY3Rpb24oZXJyKTtcblx0ICAgIHByb21pc2UuX2F0dGFjaEV4dHJhVHJhY2UoZXJyKTtcblx0ICAgIHByb21pc2UuX3JlamVjdChlcnIpO1xuXHRcblx0ICAgIGlmIChwYXJlbnQgIT0gbnVsbCkge1xuXHQgICAgICAgIHBhcmVudC5jYW5jZWwoKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdGZ1bmN0aW9uIHN1Y2Nlc3NDbGVhcih2YWx1ZSkge1xuXHQgICAgY2xlYXJUaW1lb3V0KHRoaXMuaGFuZGxlKTtcblx0ICAgIHJldHVybiB2YWx1ZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZmFpbHVyZUNsZWFyKHJlYXNvbikge1xuXHQgICAgY2xlYXJUaW1lb3V0KHRoaXMuaGFuZGxlKTtcblx0ICAgIHRocm93IHJlYXNvbjtcblx0fVxuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUudGltZW91dCA9IGZ1bmN0aW9uIChtcywgbWVzc2FnZSkge1xuXHQgICAgbXMgPSArbXM7XG5cdCAgICB2YXIgcmV0LCBwYXJlbnQ7XG5cdFxuXHQgICAgdmFyIGhhbmRsZVdyYXBwZXIgPSBuZXcgSGFuZGxlV3JhcHBlcihzZXRUaW1lb3V0KGZ1bmN0aW9uIHRpbWVvdXRUaW1lb3V0KCkge1xuXHQgICAgICAgIGlmIChyZXQuaXNQZW5kaW5nKCkpIHtcblx0ICAgICAgICAgICAgYWZ0ZXJUaW1lb3V0KHJldCwgbWVzc2FnZSwgcGFyZW50KTtcblx0ICAgICAgICB9XG5cdCAgICB9LCBtcykpO1xuXHRcblx0ICAgIGlmIChkZWJ1Zy5jYW5jZWxsYXRpb24oKSkge1xuXHQgICAgICAgIHBhcmVudCA9IHRoaXMudGhlbigpO1xuXHQgICAgICAgIHJldCA9IHBhcmVudC5fdGhlbihzdWNjZXNzQ2xlYXIsIGZhaWx1cmVDbGVhcixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCwgaGFuZGxlV3JhcHBlciwgdW5kZWZpbmVkKTtcblx0ICAgICAgICByZXQuX3NldE9uQ2FuY2VsKGhhbmRsZVdyYXBwZXIpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXQgPSB0aGlzLl90aGVuKHN1Y2Nlc3NDbGVhciwgZmFpbHVyZUNsZWFyLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLCBoYW5kbGVXcmFwcGVyLCB1bmRlZmluZWQpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiByZXQ7XG5cdH07XG5cdFxuXHR9O1xuXHRcblx0fSx7XCIuL3V0aWxcIjozNn1dLDM1OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFByb21pc2UsIGFwaVJlamVjdGlvbiwgdHJ5Q29udmVydFRvUHJvbWlzZSxcblx0ICAgIGNyZWF0ZUNvbnRleHQsIElOVEVSTkFMLCBkZWJ1Zykge1xuXHQgICAgdmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXHQgICAgdmFyIFR5cGVFcnJvciA9IF9kZXJlcV8oXCIuL2Vycm9yc1wiKS5UeXBlRXJyb3I7XG5cdCAgICB2YXIgaW5oZXJpdHMgPSBfZGVyZXFfKFwiLi91dGlsXCIpLmluaGVyaXRzO1xuXHQgICAgdmFyIGVycm9yT2JqID0gdXRpbC5lcnJvck9iajtcblx0ICAgIHZhciB0cnlDYXRjaCA9IHV0aWwudHJ5Q2F0Y2g7XG5cdCAgICB2YXIgTlVMTCA9IHt9O1xuXHRcblx0ICAgIGZ1bmN0aW9uIHRocm93ZXIoZSkge1xuXHQgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyBlO30sIDApO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIGNhc3RQcmVzZXJ2aW5nRGlzcG9zYWJsZSh0aGVuYWJsZSkge1xuXHQgICAgICAgIHZhciBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHRoZW5hYmxlKTtcblx0ICAgICAgICBpZiAobWF5YmVQcm9taXNlICE9PSB0aGVuYWJsZSAmJlxuXHQgICAgICAgICAgICB0eXBlb2YgdGhlbmFibGUuX2lzRGlzcG9zYWJsZSA9PT0gXCJmdW5jdGlvblwiICYmXG5cdCAgICAgICAgICAgIHR5cGVvZiB0aGVuYWJsZS5fZ2V0RGlzcG9zZXIgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHQgICAgICAgICAgICB0aGVuYWJsZS5faXNEaXNwb3NhYmxlKCkpIHtcblx0ICAgICAgICAgICAgbWF5YmVQcm9taXNlLl9zZXREaXNwb3NhYmxlKHRoZW5hYmxlLl9nZXREaXNwb3NlcigpKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIG1heWJlUHJvbWlzZTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGRpc3Bvc2UocmVzb3VyY2VzLCBpbnNwZWN0aW9uKSB7XG5cdCAgICAgICAgdmFyIGkgPSAwO1xuXHQgICAgICAgIHZhciBsZW4gPSByZXNvdXJjZXMubGVuZ3RoO1xuXHQgICAgICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG5cdCAgICAgICAgZnVuY3Rpb24gaXRlcmF0b3IoKSB7XG5cdCAgICAgICAgICAgIGlmIChpID49IGxlbikgcmV0dXJuIHJldC5fZnVsZmlsbCgpO1xuXHQgICAgICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gY2FzdFByZXNlcnZpbmdEaXNwb3NhYmxlKHJlc291cmNlc1tpKytdKTtcblx0ICAgICAgICAgICAgaWYgKG1heWJlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UgJiZcblx0ICAgICAgICAgICAgICAgIG1heWJlUHJvbWlzZS5faXNEaXNwb3NhYmxlKCkpIHtcblx0ICAgICAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlID0gdHJ5Q29udmVydFRvUHJvbWlzZShcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlLl9nZXREaXNwb3NlcigpLnRyeURpc3Bvc2UoaW5zcGVjdGlvbiksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlcy5wcm9taXNlKTtcblx0ICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhyb3dlcihlKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGlmIChtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1heWJlUHJvbWlzZS5fdGhlbihpdGVyYXRvciwgdGhyb3dlcixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsIG51bGwsIG51bGwpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGl0ZXJhdG9yKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGl0ZXJhdG9yKCk7XG5cdCAgICAgICAgcmV0dXJuIHJldDtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiBEaXNwb3NlcihkYXRhLCBwcm9taXNlLCBjb250ZXh0KSB7XG5cdCAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XG5cdCAgICAgICAgdGhpcy5fcHJvbWlzZSA9IHByb21pc2U7XG5cdCAgICAgICAgdGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgRGlzcG9zZXIucHJvdG90eXBlLmRhdGEgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGE7XG5cdCAgICB9O1xuXHRcblx0ICAgIERpc3Bvc2VyLnByb3RvdHlwZS5wcm9taXNlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9wcm9taXNlO1xuXHQgICAgfTtcblx0XG5cdCAgICBEaXNwb3Nlci5wcm90b3R5cGUucmVzb3VyY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgaWYgKHRoaXMucHJvbWlzZSgpLmlzRnVsZmlsbGVkKCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZSgpLnZhbHVlKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBOVUxMO1xuXHQgICAgfTtcblx0XG5cdCAgICBEaXNwb3Nlci5wcm90b3R5cGUudHJ5RGlzcG9zZSA9IGZ1bmN0aW9uKGluc3BlY3Rpb24pIHtcblx0ICAgICAgICB2YXIgcmVzb3VyY2UgPSB0aGlzLnJlc291cmNlKCk7XG5cdCAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLl9jb250ZXh0O1xuXHQgICAgICAgIGlmIChjb250ZXh0ICE9PSB1bmRlZmluZWQpIGNvbnRleHQuX3B1c2hDb250ZXh0KCk7XG5cdCAgICAgICAgdmFyIHJldCA9IHJlc291cmNlICE9PSBOVUxMXG5cdCAgICAgICAgICAgID8gdGhpcy5kb0Rpc3Bvc2UocmVzb3VyY2UsIGluc3BlY3Rpb24pIDogbnVsbDtcblx0ICAgICAgICBpZiAoY29udGV4dCAhPT0gdW5kZWZpbmVkKSBjb250ZXh0Ll9wb3BDb250ZXh0KCk7XG5cdCAgICAgICAgdGhpcy5fcHJvbWlzZS5fdW5zZXREaXNwb3NhYmxlKCk7XG5cdCAgICAgICAgdGhpcy5fZGF0YSA9IG51bGw7XG5cdCAgICAgICAgcmV0dXJuIHJldDtcblx0ICAgIH07XG5cdFxuXHQgICAgRGlzcG9zZXIuaXNEaXNwb3NlciA9IGZ1bmN0aW9uIChkKSB7XG5cdCAgICAgICAgcmV0dXJuIChkICE9IG51bGwgJiZcblx0ICAgICAgICAgICAgICAgIHR5cGVvZiBkLnJlc291cmNlID09PSBcImZ1bmN0aW9uXCIgJiZcblx0ICAgICAgICAgICAgICAgIHR5cGVvZiBkLnRyeURpc3Bvc2UgPT09IFwiZnVuY3Rpb25cIik7XG5cdCAgICB9O1xuXHRcblx0ICAgIGZ1bmN0aW9uIEZ1bmN0aW9uRGlzcG9zZXIoZm4sIHByb21pc2UsIGNvbnRleHQpIHtcblx0ICAgICAgICB0aGlzLmNvbnN0cnVjdG9yJChmbiwgcHJvbWlzZSwgY29udGV4dCk7XG5cdCAgICB9XG5cdCAgICBpbmhlcml0cyhGdW5jdGlvbkRpc3Bvc2VyLCBEaXNwb3Nlcik7XG5cdFxuXHQgICAgRnVuY3Rpb25EaXNwb3Nlci5wcm90b3R5cGUuZG9EaXNwb3NlID0gZnVuY3Rpb24gKHJlc291cmNlLCBpbnNwZWN0aW9uKSB7XG5cdCAgICAgICAgdmFyIGZuID0gdGhpcy5kYXRhKCk7XG5cdCAgICAgICAgcmV0dXJuIGZuLmNhbGwocmVzb3VyY2UsIHJlc291cmNlLCBpbnNwZWN0aW9uKTtcblx0ICAgIH07XG5cdFxuXHQgICAgZnVuY3Rpb24gbWF5YmVVbndyYXBEaXNwb3Nlcih2YWx1ZSkge1xuXHQgICAgICAgIGlmIChEaXNwb3Nlci5pc0Rpc3Bvc2VyKHZhbHVlKSkge1xuXHQgICAgICAgICAgICB0aGlzLnJlc291cmNlc1t0aGlzLmluZGV4XS5fc2V0RGlzcG9zYWJsZSh2YWx1ZSk7XG5cdCAgICAgICAgICAgIHJldHVybiB2YWx1ZS5wcm9taXNlKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB2YWx1ZTtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiBSZXNvdXJjZUxpc3QobGVuZ3RoKSB7XG5cdCAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG5cdCAgICAgICAgdGhpcy5wcm9taXNlID0gbnVsbDtcblx0ICAgICAgICB0aGlzW2xlbmd0aC0xXSA9IG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgUmVzb3VyY2VMaXN0LnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcblx0ICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzW2ldO1xuXHQgICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFByb21pc2UpIHtcblx0ICAgICAgICAgICAgICAgIGl0ZW0uY2FuY2VsKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIFByb21pc2UudXNpbmcgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cdCAgICAgICAgaWYgKGxlbiA8IDIpIHJldHVybiBhcGlSZWplY3Rpb24oXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIFwieW91IG11c3QgcGFzcyBhdCBsZWFzdCAyIGFyZ3VtZW50cyB0byBQcm9taXNlLnVzaW5nXCIpO1xuXHQgICAgICAgIHZhciBmbiA9IGFyZ3VtZW50c1tsZW4gLSAxXTtcblx0ICAgICAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGFwaVJlamVjdGlvbihcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKGZuKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBpbnB1dDtcblx0ICAgICAgICB2YXIgc3ByZWFkQXJncyA9IHRydWU7XG5cdCAgICAgICAgaWYgKGxlbiA9PT0gMiAmJiBBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSkpIHtcblx0ICAgICAgICAgICAgaW5wdXQgPSBhcmd1bWVudHNbMF07XG5cdCAgICAgICAgICAgIGxlbiA9IGlucHV0Lmxlbmd0aDtcblx0ICAgICAgICAgICAgc3ByZWFkQXJncyA9IGZhbHNlO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGlucHV0ID0gYXJndW1lbnRzO1xuXHQgICAgICAgICAgICBsZW4tLTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIHJlc291cmNlcyA9IG5ldyBSZXNvdXJjZUxpc3QobGVuKTtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG5cdCAgICAgICAgICAgIHZhciByZXNvdXJjZSA9IGlucHV0W2ldO1xuXHQgICAgICAgICAgICBpZiAoRGlzcG9zZXIuaXNEaXNwb3NlcihyZXNvdXJjZSkpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBkaXNwb3NlciA9IHJlc291cmNlO1xuXHQgICAgICAgICAgICAgICAgcmVzb3VyY2UgPSByZXNvdXJjZS5wcm9taXNlKCk7XG5cdCAgICAgICAgICAgICAgICByZXNvdXJjZS5fc2V0RGlzcG9zYWJsZShkaXNwb3Nlcik7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gdHJ5Q29udmVydFRvUHJvbWlzZShyZXNvdXJjZSk7XG5cdCAgICAgICAgICAgICAgICBpZiAobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJlc291cmNlID1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlLl90aGVuKG1heWJlVW53cmFwRGlzcG9zZXIsIG51bGwsIG51bGwsIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlczogcmVzb3VyY2VzLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGlcblx0ICAgICAgICAgICAgICAgICAgICB9LCB1bmRlZmluZWQpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJlc291cmNlc1tpXSA9IHJlc291cmNlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIHJlZmxlY3RlZFJlc291cmNlcyA9IG5ldyBBcnJheShyZXNvdXJjZXMubGVuZ3RoKTtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlZmxlY3RlZFJlc291cmNlcy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgICAgICByZWZsZWN0ZWRSZXNvdXJjZXNbaV0gPSBQcm9taXNlLnJlc29sdmUocmVzb3VyY2VzW2ldKS5yZWZsZWN0KCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgcmVzdWx0UHJvbWlzZSA9IFByb21pc2UuYWxsKHJlZmxlY3RlZFJlc291cmNlcylcblx0ICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oaW5zcGVjdGlvbnMpIHtcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5zcGVjdGlvbnMubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgaW5zcGVjdGlvbiA9IGluc3BlY3Rpb25zW2ldO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChpbnNwZWN0aW9uLmlzUmVqZWN0ZWQoKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBlcnJvck9iai5lID0gaW5zcGVjdGlvbi5lcnJvcigpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3JPYmo7XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghaW5zcGVjdGlvbi5pc0Z1bGZpbGxlZCgpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFByb21pc2UuY2FuY2VsKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgaW5zcGVjdGlvbnNbaV0gPSBpbnNwZWN0aW9uLnZhbHVlKCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBwcm9taXNlLl9wdXNoQ29udGV4dCgpO1xuXHRcblx0ICAgICAgICAgICAgICAgIGZuID0gdHJ5Q2F0Y2goZm4pO1xuXHQgICAgICAgICAgICAgICAgdmFyIHJldCA9IHNwcmVhZEFyZ3Ncblx0ICAgICAgICAgICAgICAgICAgICA/IGZuLmFwcGx5KHVuZGVmaW5lZCwgaW5zcGVjdGlvbnMpIDogZm4oaW5zcGVjdGlvbnMpO1xuXHQgICAgICAgICAgICAgICAgdmFyIHByb21pc2VDcmVhdGVkID0gcHJvbWlzZS5fcG9wQ29udGV4dCgpO1xuXHQgICAgICAgICAgICAgICAgZGVidWcuY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zKFxuXHQgICAgICAgICAgICAgICAgICAgIHJldCwgcHJvbWlzZUNyZWF0ZWQsIFwiUHJvbWlzZS51c2luZ1wiLCBwcm9taXNlKTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICAgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHJlc3VsdFByb21pc2UubGFzdGx5KGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICB2YXIgaW5zcGVjdGlvbiA9IG5ldyBQcm9taXNlLlByb21pc2VJbnNwZWN0aW9uKHJlc3VsdFByb21pc2UpO1xuXHQgICAgICAgICAgICByZXR1cm4gZGlzcG9zZShyZXNvdXJjZXMsIGluc3BlY3Rpb24pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHJlc291cmNlcy5wcm9taXNlID0gcHJvbWlzZTtcblx0ICAgICAgICBwcm9taXNlLl9zZXRPbkNhbmNlbChyZXNvdXJjZXMpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfTtcblx0XG5cdCAgICBQcm9taXNlLnByb3RvdHlwZS5fc2V0RGlzcG9zYWJsZSA9IGZ1bmN0aW9uIChkaXNwb3Nlcikge1xuXHQgICAgICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCAxMzEwNzI7XG5cdCAgICAgICAgdGhpcy5fZGlzcG9zZXIgPSBkaXNwb3Nlcjtcblx0ICAgIH07XG5cdFxuXHQgICAgUHJvbWlzZS5wcm90b3R5cGUuX2lzRGlzcG9zYWJsZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgMTMxMDcyKSA+IDA7XG5cdCAgICB9O1xuXHRcblx0ICAgIFByb21pc2UucHJvdG90eXBlLl9nZXREaXNwb3NlciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fZGlzcG9zZXI7XG5cdCAgICB9O1xuXHRcblx0ICAgIFByb21pc2UucHJvdG90eXBlLl91bnNldERpc3Bvc2FibGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCAmICh+MTMxMDcyKTtcblx0ICAgICAgICB0aGlzLl9kaXNwb3NlciA9IHVuZGVmaW5lZDtcblx0ICAgIH07XG5cdFxuXHQgICAgUHJvbWlzZS5wcm90b3R5cGUuZGlzcG9zZXIgPSBmdW5jdGlvbiAoZm4pIHtcblx0ICAgICAgICBpZiAodHlwZW9mIGZuID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbkRpc3Bvc2VyKGZuLCB0aGlzLCBjcmVhdGVDb250ZXh0KCkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG5cdCAgICB9O1xuXHRcblx0fTtcblx0XG5cdH0se1wiLi9lcnJvcnNcIjoxMixcIi4vdXRpbFwiOjM2fV0sMzY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIGVzNSA9IF9kZXJlcV8oXCIuL2VzNVwiKTtcblx0dmFyIGNhbkV2YWx1YXRlID0gdHlwZW9mIG5hdmlnYXRvciA9PSBcInVuZGVmaW5lZFwiO1xuXHRcblx0dmFyIGVycm9yT2JqID0ge2U6IHt9fTtcblx0dmFyIHRyeUNhdGNoVGFyZ2V0O1xuXHR2YXIgZ2xvYmFsT2JqZWN0ID0gdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDpcblx0ICAgIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOlxuXHQgICAgdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6XG5cdCAgICB0aGlzICE9PSB1bmRlZmluZWQgPyB0aGlzIDogbnVsbDtcblx0XG5cdGZ1bmN0aW9uIHRyeUNhdGNoZXIoKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICAgIHZhciB0YXJnZXQgPSB0cnlDYXRjaFRhcmdldDtcblx0ICAgICAgICB0cnlDYXRjaFRhcmdldCA9IG51bGw7XG5cdCAgICAgICAgcmV0dXJuIHRhcmdldC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIGVycm9yT2JqLmUgPSBlO1xuXHQgICAgICAgIHJldHVybiBlcnJvck9iajtcblx0ICAgIH1cblx0fVxuXHRmdW5jdGlvbiB0cnlDYXRjaChmbikge1xuXHQgICAgdHJ5Q2F0Y2hUYXJnZXQgPSBmbjtcblx0ICAgIHJldHVybiB0cnlDYXRjaGVyO1xuXHR9XG5cdFxuXHR2YXIgaW5oZXJpdHMgPSBmdW5jdGlvbihDaGlsZCwgUGFyZW50KSB7XG5cdCAgICB2YXIgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXHRcblx0ICAgIGZ1bmN0aW9uIFQoKSB7XG5cdCAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IENoaWxkO1xuXHQgICAgICAgIHRoaXMuY29uc3RydWN0b3IkID0gUGFyZW50O1xuXHQgICAgICAgIGZvciAodmFyIHByb3BlcnR5TmFtZSBpbiBQYXJlbnQucHJvdG90eXBlKSB7XG5cdCAgICAgICAgICAgIGlmIChoYXNQcm9wLmNhbGwoUGFyZW50LnByb3RvdHlwZSwgcHJvcGVydHlOYW1lKSAmJlxuXHQgICAgICAgICAgICAgICAgcHJvcGVydHlOYW1lLmNoYXJBdChwcm9wZXJ0eU5hbWUubGVuZ3RoLTEpICE9PSBcIiRcIlxuXHQgICAgICAgICAgICkge1xuXHQgICAgICAgICAgICAgICAgdGhpc1twcm9wZXJ0eU5hbWUgKyBcIiRcIl0gPSBQYXJlbnQucHJvdG90eXBlW3Byb3BlcnR5TmFtZV07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBULnByb3RvdHlwZSA9IFBhcmVudC5wcm90b3R5cGU7XG5cdCAgICBDaGlsZC5wcm90b3R5cGUgPSBuZXcgVCgpO1xuXHQgICAgcmV0dXJuIENoaWxkLnByb3RvdHlwZTtcblx0fTtcblx0XG5cdFxuXHRmdW5jdGlvbiBpc1ByaW1pdGl2ZSh2YWwpIHtcblx0ICAgIHJldHVybiB2YWwgPT0gbnVsbCB8fCB2YWwgPT09IHRydWUgfHwgdmFsID09PSBmYWxzZSB8fFxuXHQgICAgICAgIHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIjtcblx0XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG5cdCAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIgfHxcblx0ICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGw7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1heWJlV3JhcEFzRXJyb3IobWF5YmVFcnJvcikge1xuXHQgICAgaWYgKCFpc1ByaW1pdGl2ZShtYXliZUVycm9yKSkgcmV0dXJuIG1heWJlRXJyb3I7XG5cdFxuXHQgICAgcmV0dXJuIG5ldyBFcnJvcihzYWZlVG9TdHJpbmcobWF5YmVFcnJvcikpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB3aXRoQXBwZW5kZWQodGFyZ2V0LCBhcHBlbmRlZSkge1xuXHQgICAgdmFyIGxlbiA9IHRhcmdldC5sZW5ndGg7XG5cdCAgICB2YXIgcmV0ID0gbmV3IEFycmF5KGxlbiArIDEpO1xuXHQgICAgdmFyIGk7XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcblx0ICAgICAgICByZXRbaV0gPSB0YXJnZXRbaV07XG5cdCAgICB9XG5cdCAgICByZXRbaV0gPSBhcHBlbmRlZTtcblx0ICAgIHJldHVybiByZXQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldERhdGFQcm9wZXJ0eU9yRGVmYXVsdChvYmosIGtleSwgZGVmYXVsdFZhbHVlKSB7XG5cdCAgICBpZiAoZXM1LmlzRVM1KSB7XG5cdCAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KTtcblx0XG5cdCAgICAgICAgaWYgKGRlc2MgIT0gbnVsbCkge1xuXHQgICAgICAgICAgICByZXR1cm4gZGVzYy5nZXQgPT0gbnVsbCAmJiBkZXNjLnNldCA9PSBudWxsXG5cdCAgICAgICAgICAgICAgICAgICAgPyBkZXNjLnZhbHVlXG5cdCAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0VmFsdWU7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4ge30uaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkgPyBvYmpba2V5XSA6IHVuZGVmaW5lZDtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gbm90RW51bWVyYWJsZVByb3Aob2JqLCBuYW1lLCB2YWx1ZSkge1xuXHQgICAgaWYgKGlzUHJpbWl0aXZlKG9iaikpIHJldHVybiBvYmo7XG5cdCAgICB2YXIgZGVzY3JpcHRvciA9IHtcblx0ICAgICAgICB2YWx1ZTogdmFsdWUsXG5cdCAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuXHQgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuXHQgICAgICAgIHdyaXRhYmxlOiB0cnVlXG5cdCAgICB9O1xuXHQgICAgZXM1LmRlZmluZVByb3BlcnR5KG9iaiwgbmFtZSwgZGVzY3JpcHRvcik7XG5cdCAgICByZXR1cm4gb2JqO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB0aHJvd2VyKHIpIHtcblx0ICAgIHRocm93IHI7XG5cdH1cblx0XG5cdHZhciBpbmhlcml0ZWREYXRhS2V5cyA9IChmdW5jdGlvbigpIHtcblx0ICAgIHZhciBleGNsdWRlZFByb3RvdHlwZXMgPSBbXG5cdCAgICAgICAgQXJyYXkucHJvdG90eXBlLFxuXHQgICAgICAgIE9iamVjdC5wcm90b3R5cGUsXG5cdCAgICAgICAgRnVuY3Rpb24ucHJvdG90eXBlXG5cdCAgICBdO1xuXHRcblx0ICAgIHZhciBpc0V4Y2x1ZGVkUHJvdG8gPSBmdW5jdGlvbih2YWwpIHtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4Y2x1ZGVkUHJvdG90eXBlcy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgICAgICBpZiAoZXhjbHVkZWRQcm90b3R5cGVzW2ldID09PSB2YWwpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH07XG5cdFxuXHQgICAgaWYgKGVzNS5pc0VTNSkge1xuXHQgICAgICAgIHZhciBnZXRLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuXHQgICAgICAgICAgICB2YXIgcmV0ID0gW107XG5cdCAgICAgICAgICAgIHZhciB2aXNpdGVkS2V5cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdCAgICAgICAgICAgIHdoaWxlIChvYmogIT0gbnVsbCAmJiAhaXNFeGNsdWRlZFByb3RvKG9iaikpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBrZXlzO1xuXHQgICAgICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgICAgICBrZXlzID0gZ2V0S2V5cyhvYmopO1xuXHQgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAodmlzaXRlZEtleXNba2V5XSkgY29udGludWU7XG5cdCAgICAgICAgICAgICAgICAgICAgdmlzaXRlZEtleXNba2V5XSA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KTtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoZGVzYyAhPSBudWxsICYmIGRlc2MuZ2V0ID09IG51bGwgJiYgZGVzYy5zZXQgPT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXQucHVzaChrZXkpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIG9iaiA9IGVzNS5nZXRQcm90b3R5cGVPZihvYmopO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICAgICAgfTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgICAgICAgIGlmIChpc0V4Y2x1ZGVkUHJvdG8ob2JqKSkgcmV0dXJuIFtdO1xuXHQgICAgICAgICAgICB2YXIgcmV0ID0gW107XG5cdFxuXHQgICAgICAgICAgICAvKmpzaGludCBmb3JpbjpmYWxzZSAqL1xuXHQgICAgICAgICAgICBlbnVtZXJhdGlvbjogZm9yICh2YXIga2V5IGluIG9iaikge1xuXHQgICAgICAgICAgICAgICAgaWYgKGhhc1Byb3AuY2FsbChvYmosIGtleSkpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXQucHVzaChrZXkpO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4Y2x1ZGVkUHJvdG90eXBlcy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzUHJvcC5jYWxsKGV4Y2x1ZGVkUHJvdG90eXBlc1tpXSwga2V5KSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgZW51bWVyYXRpb247XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2goa2V5KTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdFxuXHR9KSgpO1xuXHRcblx0dmFyIHRoaXNBc3NpZ25tZW50UGF0dGVybiA9IC90aGlzXFxzKlxcLlxccypcXFMrXFxzKj0vO1xuXHRmdW5jdGlvbiBpc0NsYXNzKGZuKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGlmICh0eXBlb2YgZm4gPT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgICAgICB2YXIga2V5cyA9IGVzNS5uYW1lcyhmbi5wcm90b3R5cGUpO1xuXHRcblx0ICAgICAgICAgICAgdmFyIGhhc01ldGhvZHMgPSBlczUuaXNFUzUgJiYga2V5cy5sZW5ndGggPiAxO1xuXHQgICAgICAgICAgICB2YXIgaGFzTWV0aG9kc090aGVyVGhhbkNvbnN0cnVjdG9yID0ga2V5cy5sZW5ndGggPiAwICYmXG5cdCAgICAgICAgICAgICAgICAhKGtleXMubGVuZ3RoID09PSAxICYmIGtleXNbMF0gPT09IFwiY29uc3RydWN0b3JcIik7XG5cdCAgICAgICAgICAgIHZhciBoYXNUaGlzQXNzaWdubWVudEFuZFN0YXRpY01ldGhvZHMgPVxuXHQgICAgICAgICAgICAgICAgdGhpc0Fzc2lnbm1lbnRQYXR0ZXJuLnRlc3QoZm4gKyBcIlwiKSAmJiBlczUubmFtZXMoZm4pLmxlbmd0aCA+IDA7XG5cdFxuXHQgICAgICAgICAgICBpZiAoaGFzTWV0aG9kcyB8fCBoYXNNZXRob2RzT3RoZXJUaGFuQ29uc3RydWN0b3IgfHxcblx0ICAgICAgICAgICAgICAgIGhhc1RoaXNBc3NpZ25tZW50QW5kU3RhdGljTWV0aG9kcykge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gdG9GYXN0UHJvcGVydGllcyhvYmopIHtcblx0ICAgIC8qanNoaW50IC1XMDI3LC1XMDU1LC1XMDMxKi9cblx0ICAgIGZ1bmN0aW9uIEZha2VDb25zdHJ1Y3RvcigpIHt9XG5cdCAgICBGYWtlQ29uc3RydWN0b3IucHJvdG90eXBlID0gb2JqO1xuXHQgICAgdmFyIGwgPSA4O1xuXHQgICAgd2hpbGUgKGwtLSkgbmV3IEZha2VDb25zdHJ1Y3RvcigpO1xuXHQgICAgcmV0dXJuIG9iajtcblx0ICAgIGV2YWwob2JqKTtcblx0fVxuXHRcblx0dmFyIHJpZGVudCA9IC9eW2EteiRfXVthLXokXzAtOV0qJC9pO1xuXHRmdW5jdGlvbiBpc0lkZW50aWZpZXIoc3RyKSB7XG5cdCAgICByZXR1cm4gcmlkZW50LnRlc3Qoc3RyKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZmlsbGVkUmFuZ2UoY291bnQsIHByZWZpeCwgc3VmZml4KSB7XG5cdCAgICB2YXIgcmV0ID0gbmV3IEFycmF5KGNvdW50KTtcblx0ICAgIGZvcih2YXIgaSA9IDA7IGkgPCBjb3VudDsgKytpKSB7XG5cdCAgICAgICAgcmV0W2ldID0gcHJlZml4ICsgaSArIHN1ZmZpeDtcblx0ICAgIH1cblx0ICAgIHJldHVybiByZXQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNhZmVUb1N0cmluZyhvYmopIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgICAgcmV0dXJuIG9iaiArIFwiXCI7XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgcmV0dXJuIFwiW25vIHN0cmluZyByZXByZXNlbnRhdGlvbl1cIjtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNFcnJvcihvYmopIHtcblx0ICAgIHJldHVybiBvYmogIT09IG51bGwgJiZcblx0ICAgICAgICAgICB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiICYmXG5cdCAgICAgICAgICAgdHlwZW9mIG9iai5tZXNzYWdlID09PSBcInN0cmluZ1wiICYmXG5cdCAgICAgICAgICAgdHlwZW9mIG9iai5uYW1lID09PSBcInN0cmluZ1wiO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYXJrQXNPcmlnaW5hdGluZ0Zyb21SZWplY3Rpb24oZSkge1xuXHQgICAgdHJ5IHtcblx0ICAgICAgICBub3RFbnVtZXJhYmxlUHJvcChlLCBcImlzT3BlcmF0aW9uYWxcIiwgdHJ1ZSk7XG5cdCAgICB9XG5cdCAgICBjYXRjaChpZ25vcmUpIHt9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG9yaWdpbmF0ZXNGcm9tUmVqZWN0aW9uKGUpIHtcblx0ICAgIGlmIChlID09IG51bGwpIHJldHVybiBmYWxzZTtcblx0ICAgIHJldHVybiAoKGUgaW5zdGFuY2VvZiBFcnJvcltcIl9fQmx1ZWJpcmRFcnJvclR5cGVzX19cIl0uT3BlcmF0aW9uYWxFcnJvcikgfHxcblx0ICAgICAgICBlW1wiaXNPcGVyYXRpb25hbFwiXSA9PT0gdHJ1ZSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNhbkF0dGFjaFRyYWNlKG9iaikge1xuXHQgICAgcmV0dXJuIGlzRXJyb3Iob2JqKSAmJiBlczUucHJvcGVydHlJc1dyaXRhYmxlKG9iaiwgXCJzdGFja1wiKTtcblx0fVxuXHRcblx0dmFyIGVuc3VyZUVycm9yT2JqZWN0ID0gKGZ1bmN0aW9uKCkge1xuXHQgICAgaWYgKCEoXCJzdGFja1wiIGluIG5ldyBFcnJvcigpKSkge1xuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgICAgICBpZiAoY2FuQXR0YWNoVHJhY2UodmFsdWUpKSByZXR1cm4gdmFsdWU7XG5cdCAgICAgICAgICAgIHRyeSB7dGhyb3cgbmV3IEVycm9yKHNhZmVUb1N0cmluZyh2YWx1ZSkpO31cblx0ICAgICAgICAgICAgY2F0Y2goZXJyKSB7cmV0dXJuIGVycjt9XG5cdCAgICAgICAgfTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgICAgIGlmIChjYW5BdHRhY2hUcmFjZSh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcblx0ICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihzYWZlVG9TdHJpbmcodmFsdWUpKTtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHR9KSgpO1xuXHRcblx0ZnVuY3Rpb24gY2xhc3NTdHJpbmcob2JqKSB7XG5cdCAgICByZXR1cm4ge30udG9TdHJpbmcuY2FsbChvYmopO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjb3B5RGVzY3JpcHRvcnMoZnJvbSwgdG8sIGZpbHRlcikge1xuXHQgICAgdmFyIGtleXMgPSBlczUubmFtZXMoZnJvbSk7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblx0ICAgICAgICBpZiAoZmlsdGVyKGtleSkpIHtcblx0ICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgIGVzNS5kZWZpbmVQcm9wZXJ0eSh0bywga2V5LCBlczUuZ2V0RGVzY3JpcHRvcihmcm9tLCBrZXkpKTtcblx0ICAgICAgICAgICAgfSBjYXRjaCAoaWdub3JlKSB7fVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fVxuXHRcblx0dmFyIGFzQXJyYXkgPSBmdW5jdGlvbih2KSB7XG5cdCAgICBpZiAoZXM1LmlzQXJyYXkodikpIHtcblx0ICAgICAgICByZXR1cm4gdjtcblx0ICAgIH1cblx0ICAgIHJldHVybiBudWxsO1xuXHR9O1xuXHRcblx0aWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgU3ltYm9sLml0ZXJhdG9yKSB7XG5cdCAgICB2YXIgQXJyYXlGcm9tID0gdHlwZW9mIEFycmF5LmZyb20gPT09IFwiZnVuY3Rpb25cIiA/IGZ1bmN0aW9uKHYpIHtcblx0ICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh2KTtcblx0ICAgIH0gOiBmdW5jdGlvbih2KSB7XG5cdCAgICAgICAgdmFyIHJldCA9IFtdO1xuXHQgICAgICAgIHZhciBpdCA9IHZbU3ltYm9sLml0ZXJhdG9yXSgpO1xuXHQgICAgICAgIHZhciBpdFJlc3VsdDtcblx0ICAgICAgICB3aGlsZSAoISgoaXRSZXN1bHQgPSBpdC5uZXh0KCkpLmRvbmUpKSB7XG5cdCAgICAgICAgICAgIHJldC5wdXNoKGl0UmVzdWx0LnZhbHVlKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHJldDtcblx0ICAgIH07XG5cdFxuXHQgICAgYXNBcnJheSA9IGZ1bmN0aW9uKHYpIHtcblx0ICAgICAgICBpZiAoZXM1LmlzQXJyYXkodikpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHY7XG5cdCAgICAgICAgfSBlbHNlIGlmICh2ICE9IG51bGwgJiYgdHlwZW9mIHZbU3ltYm9sLml0ZXJhdG9yXSA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBBcnJheUZyb20odik7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfTtcblx0fVxuXHRcblx0dmFyIGlzTm9kZSA9IHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiICYmXG5cdCAgICAgICAgY2xhc3NTdHJpbmcocHJvY2VzcykudG9Mb3dlckNhc2UoKSA9PT0gXCJbb2JqZWN0IHByb2Nlc3NdXCI7XG5cdFxuXHRmdW5jdGlvbiBlbnYoa2V5LCBkZWYpIHtcblx0ICAgIHJldHVybiBpc05vZGUgPyBwcm9jZXNzLmVudltrZXldIDogZGVmO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXROYXRpdmVQcm9taXNlKCkge1xuXHQgICAgaWYgKHR5cGVvZiBQcm9taXNlID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKCl7fSk7XG5cdCAgICAgICAgICAgIGlmICh7fS50b1N0cmluZy5jYWxsKHByb21pc2UpID09PSBcIltvYmplY3QgUHJvbWlzZV1cIikge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2U7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9IGNhdGNoIChlKSB7fVxuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBkb21haW5CaW5kKHNlbGYsIGNiKSB7XG5cdCAgICByZXR1cm4gc2VsZi5iaW5kKGNiKTtcblx0fVxuXHRcblx0dmFyIHJldCA9IHtcblx0ICAgIGlzQ2xhc3M6IGlzQ2xhc3MsXG5cdCAgICBpc0lkZW50aWZpZXI6IGlzSWRlbnRpZmllcixcblx0ICAgIGluaGVyaXRlZERhdGFLZXlzOiBpbmhlcml0ZWREYXRhS2V5cyxcblx0ICAgIGdldERhdGFQcm9wZXJ0eU9yRGVmYXVsdDogZ2V0RGF0YVByb3BlcnR5T3JEZWZhdWx0LFxuXHQgICAgdGhyb3dlcjogdGhyb3dlcixcblx0ICAgIGlzQXJyYXk6IGVzNS5pc0FycmF5LFxuXHQgICAgYXNBcnJheTogYXNBcnJheSxcblx0ICAgIG5vdEVudW1lcmFibGVQcm9wOiBub3RFbnVtZXJhYmxlUHJvcCxcblx0ICAgIGlzUHJpbWl0aXZlOiBpc1ByaW1pdGl2ZSxcblx0ICAgIGlzT2JqZWN0OiBpc09iamVjdCxcblx0ICAgIGlzRXJyb3I6IGlzRXJyb3IsXG5cdCAgICBjYW5FdmFsdWF0ZTogY2FuRXZhbHVhdGUsXG5cdCAgICBlcnJvck9iajogZXJyb3JPYmosXG5cdCAgICB0cnlDYXRjaDogdHJ5Q2F0Y2gsXG5cdCAgICBpbmhlcml0czogaW5oZXJpdHMsXG5cdCAgICB3aXRoQXBwZW5kZWQ6IHdpdGhBcHBlbmRlZCxcblx0ICAgIG1heWJlV3JhcEFzRXJyb3I6IG1heWJlV3JhcEFzRXJyb3IsXG5cdCAgICB0b0Zhc3RQcm9wZXJ0aWVzOiB0b0Zhc3RQcm9wZXJ0aWVzLFxuXHQgICAgZmlsbGVkUmFuZ2U6IGZpbGxlZFJhbmdlLFxuXHQgICAgdG9TdHJpbmc6IHNhZmVUb1N0cmluZyxcblx0ICAgIGNhbkF0dGFjaFRyYWNlOiBjYW5BdHRhY2hUcmFjZSxcblx0ICAgIGVuc3VyZUVycm9yT2JqZWN0OiBlbnN1cmVFcnJvck9iamVjdCxcblx0ICAgIG9yaWdpbmF0ZXNGcm9tUmVqZWN0aW9uOiBvcmlnaW5hdGVzRnJvbVJlamVjdGlvbixcblx0ICAgIG1hcmtBc09yaWdpbmF0aW5nRnJvbVJlamVjdGlvbjogbWFya0FzT3JpZ2luYXRpbmdGcm9tUmVqZWN0aW9uLFxuXHQgICAgY2xhc3NTdHJpbmc6IGNsYXNzU3RyaW5nLFxuXHQgICAgY29weURlc2NyaXB0b3JzOiBjb3B5RGVzY3JpcHRvcnMsXG5cdCAgICBoYXNEZXZUb29sczogdHlwZW9mIGNocm9tZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBjaHJvbWUgJiZcblx0ICAgICAgICAgICAgICAgICB0eXBlb2YgY2hyb21lLmxvYWRUaW1lcyA9PT0gXCJmdW5jdGlvblwiLFxuXHQgICAgaXNOb2RlOiBpc05vZGUsXG5cdCAgICBlbnY6IGVudixcblx0ICAgIGdsb2JhbDogZ2xvYmFsT2JqZWN0LFxuXHQgICAgZ2V0TmF0aXZlUHJvbWlzZTogZ2V0TmF0aXZlUHJvbWlzZSxcblx0ICAgIGRvbWFpbkJpbmQ6IGRvbWFpbkJpbmRcblx0fTtcblx0cmV0LmlzUmVjZW50Tm9kZSA9IHJldC5pc05vZGUgJiYgKGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIHZlcnNpb24gPSBwcm9jZXNzLnZlcnNpb25zLm5vZGUuc3BsaXQoXCIuXCIpLm1hcChOdW1iZXIpO1xuXHQgICAgcmV0dXJuICh2ZXJzaW9uWzBdID09PSAwICYmIHZlcnNpb25bMV0gPiAxMCkgfHwgKHZlcnNpb25bMF0gPiAwKTtcblx0fSkoKTtcblx0XG5cdGlmIChyZXQuaXNOb2RlKSByZXQudG9GYXN0UHJvcGVydGllcyhwcm9jZXNzKTtcblx0XG5cdHRyeSB7dGhyb3cgbmV3IEVycm9yKCk7IH0gY2F0Y2ggKGUpIHtyZXQubGFzdExpbmVFcnJvciA9IGU7fVxuXHRtb2R1bGUuZXhwb3J0cyA9IHJldDtcblx0XG5cdH0se1wiLi9lczVcIjoxM31dfSx7fSxbNF0pKDQpXG5cdH0pOyAgICAgICAgICAgICAgICAgICAgO2lmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cgIT09IG51bGwpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LlAgPSB3aW5kb3cuUHJvbWlzZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnICYmIHNlbGYgIT09IG51bGwpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuUCA9IHNlbGYuUHJvbWlzZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKSwgKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSgpKSwgX193ZWJwYWNrX3JlcXVpcmVfXyg1NCkuc2V0SW1tZWRpYXRlKSlcblxuLyoqKi8gfSxcbi8qIDUzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcblx0dmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXHRcblx0Ly8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG5cdC8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuXHQvLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG5cdC8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cdFxuXHR2YXIgY2FjaGVkU2V0VGltZW91dDtcblx0dmFyIGNhY2hlZENsZWFyVGltZW91dDtcblx0XG5cdGZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcblx0fVxuXHRmdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG5cdH1cblx0KGZ1bmN0aW9uICgpIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuXHQgICAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcblx0ICAgIH1cblx0ICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG5cdCAgICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG5cdCAgICB9XG5cdH0gKCkpXG5cdGZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG5cdCAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuXHQgICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuXHQgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG5cdCAgICB9XG5cdCAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuXHQgICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG5cdCAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG5cdCAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcblx0ICAgIH1cblx0ICAgIHRyeSB7XG5cdCAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuXHQgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG5cdCAgICB9IGNhdGNoKGUpe1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG5cdCAgICAgICAgfSBjYXRjaChlKXtcblx0ICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3Jcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdFxuXHR9XG5cdGZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcblx0ICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuXHQgICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuXHQgICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcblx0ICAgIH1cblx0ICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcblx0ICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuXHQgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcblx0ICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG5cdCAgICB9XG5cdCAgICB0cnkge1xuXHQgICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3Ncblx0ICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG5cdCAgICB9IGNhdGNoIChlKXtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuXHQgICAgICAgIH0gY2F0Y2ggKGUpe1xuXHQgICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cblx0ICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHRcblx0XG5cdH1cblx0dmFyIHF1ZXVlID0gW107XG5cdHZhciBkcmFpbmluZyA9IGZhbHNlO1xuXHR2YXIgY3VycmVudFF1ZXVlO1xuXHR2YXIgcXVldWVJbmRleCA9IC0xO1xuXHRcblx0ZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuXHQgICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgZHJhaW5pbmcgPSBmYWxzZTtcblx0ICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuXHQgICAgfVxuXHQgICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuXHQgICAgICAgIGRyYWluUXVldWUoKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcblx0ICAgIGlmIChkcmFpbmluZykge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuXHQgICAgZHJhaW5pbmcgPSB0cnVlO1xuXHRcblx0ICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cdCAgICB3aGlsZShsZW4pIHtcblx0ICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcblx0ICAgICAgICBxdWV1ZSA9IFtdO1xuXHQgICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcblx0ICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuXHQgICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcblx0ICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cdCAgICB9XG5cdCAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuXHQgICAgZHJhaW5pbmcgPSBmYWxzZTtcblx0ICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0fVxuXHRcblx0cHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcblx0ICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG5cdCAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuXHQgICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5cdGZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuXHQgICAgdGhpcy5mdW4gPSBmdW47XG5cdCAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG5cdH1cblx0SXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG5cdH07XG5cdHByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5cdHByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5cdHByb2Nlc3MuZW52ID0ge307XG5cdHByb2Nlc3MuYXJndiA9IFtdO1xuXHRwcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcblx0cHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHRwcm9jZXNzLm9uID0gbm9vcDtcblx0cHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3Mub25jZSA9IG5vb3A7XG5cdHByb2Nlc3Mub2ZmID0gbm9vcDtcblx0cHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcblx0cHJvY2Vzcy5lbWl0ID0gbm9vcDtcblx0XG5cdHByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG5cdH07XG5cdFxuXHRwcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xuXHRwcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcblx0fTtcblx0cHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG4vKioqLyB9LFxuLyogNTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihzZXRJbW1lZGlhdGUsIGNsZWFySW1tZWRpYXRlKSB7dmFyIG5leHRUaWNrID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MykubmV4dFRpY2s7XG5cdHZhciBhcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtcblx0dmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXHR2YXIgaW1tZWRpYXRlSWRzID0ge307XG5cdHZhciBuZXh0SW1tZWRpYXRlSWQgPSAwO1xuXHRcblx0Ly8gRE9NIEFQSXMsIGZvciBjb21wbGV0ZW5lc3Ncblx0XG5cdGV4cG9ydHMuc2V0VGltZW91dCA9IGZ1bmN0aW9uKCkge1xuXHQgIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldFRpbWVvdXQsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJUaW1lb3V0KTtcblx0fTtcblx0ZXhwb3J0cy5zZXRJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xuXHQgIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldEludGVydmFsLCB3aW5kb3csIGFyZ3VtZW50cyksIGNsZWFySW50ZXJ2YWwpO1xuXHR9O1xuXHRleHBvcnRzLmNsZWFyVGltZW91dCA9XG5cdGV4cG9ydHMuY2xlYXJJbnRlcnZhbCA9IGZ1bmN0aW9uKHRpbWVvdXQpIHsgdGltZW91dC5jbG9zZSgpOyB9O1xuXHRcblx0ZnVuY3Rpb24gVGltZW91dChpZCwgY2xlYXJGbikge1xuXHQgIHRoaXMuX2lkID0gaWQ7XG5cdCAgdGhpcy5fY2xlYXJGbiA9IGNsZWFyRm47XG5cdH1cblx0VGltZW91dC5wcm90b3R5cGUudW5yZWYgPSBUaW1lb3V0LnByb3RvdHlwZS5yZWYgPSBmdW5jdGlvbigpIHt9O1xuXHRUaW1lb3V0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuXHQgIHRoaXMuX2NsZWFyRm4uY2FsbCh3aW5kb3csIHRoaXMuX2lkKTtcblx0fTtcblx0XG5cdC8vIERvZXMgbm90IHN0YXJ0IHRoZSB0aW1lLCBqdXN0IHNldHMgdXAgdGhlIG1lbWJlcnMgbmVlZGVkLlxuXHRleHBvcnRzLmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0sIG1zZWNzKSB7XG5cdCAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXHQgIGl0ZW0uX2lkbGVUaW1lb3V0ID0gbXNlY3M7XG5cdH07XG5cdFxuXHRleHBvcnRzLnVuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSkge1xuXHQgIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblx0ICBpdGVtLl9pZGxlVGltZW91dCA9IC0xO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5fdW5yZWZBY3RpdmUgPSBleHBvcnRzLmFjdGl2ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcblx0ICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG5cdFxuXHQgIHZhciBtc2VjcyA9IGl0ZW0uX2lkbGVUaW1lb3V0O1xuXHQgIGlmIChtc2VjcyA+PSAwKSB7XG5cdCAgICBpdGVtLl9pZGxlVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiBvblRpbWVvdXQoKSB7XG5cdCAgICAgIGlmIChpdGVtLl9vblRpbWVvdXQpXG5cdCAgICAgICAgaXRlbS5fb25UaW1lb3V0KCk7XG5cdCAgICB9LCBtc2Vjcyk7XG5cdCAgfVxuXHR9O1xuXHRcblx0Ly8gVGhhdCdzIG5vdCBob3cgbm9kZS5qcyBpbXBsZW1lbnRzIGl0IGJ1dCB0aGUgZXhwb3NlZCBhcGkgaXMgdGhlIHNhbWUuXG5cdGV4cG9ydHMuc2V0SW1tZWRpYXRlID0gdHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gXCJmdW5jdGlvblwiID8gc2V0SW1tZWRpYXRlIDogZnVuY3Rpb24oZm4pIHtcblx0ICB2YXIgaWQgPSBuZXh0SW1tZWRpYXRlSWQrKztcblx0ICB2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPCAyID8gZmFsc2UgOiBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cdFxuXHQgIGltbWVkaWF0ZUlkc1tpZF0gPSB0cnVlO1xuXHRcblx0ICBuZXh0VGljayhmdW5jdGlvbiBvbk5leHRUaWNrKCkge1xuXHQgICAgaWYgKGltbWVkaWF0ZUlkc1tpZF0pIHtcblx0ICAgICAgLy8gZm4uY2FsbCgpIGlzIGZhc3RlciBzbyB3ZSBvcHRpbWl6ZSBmb3IgdGhlIGNvbW1vbiB1c2UtY2FzZVxuXHQgICAgICAvLyBAc2VlIGh0dHA6Ly9qc3BlcmYuY29tL2NhbGwtYXBwbHktc2VndVxuXHQgICAgICBpZiAoYXJncykge1xuXHQgICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGZuLmNhbGwobnVsbCk7XG5cdCAgICAgIH1cblx0ICAgICAgLy8gUHJldmVudCBpZHMgZnJvbSBsZWFraW5nXG5cdCAgICAgIGV4cG9ydHMuY2xlYXJJbW1lZGlhdGUoaWQpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICByZXR1cm4gaWQ7XG5cdH07XG5cdFxuXHRleHBvcnRzLmNsZWFySW1tZWRpYXRlID0gdHlwZW9mIGNsZWFySW1tZWRpYXRlID09PSBcImZ1bmN0aW9uXCIgPyBjbGVhckltbWVkaWF0ZSA6IGZ1bmN0aW9uKGlkKSB7XG5cdCAgZGVsZXRlIGltbWVkaWF0ZUlkc1tpZF07XG5cdH07XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDU0KS5zZXRJbW1lZGlhdGUsIF9fd2VicGFja19yZXF1aXJlX18oNTQpLmNsZWFySW1tZWRpYXRlKSlcblxuLyoqKi8gfSxcbi8qIDU1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX2VwdWJQcmVzc0pzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7XG5cdFxuXHR2YXIgX2VwdWJQcmVzc0pzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VwdWJQcmVzc0pzKTtcblx0XG5cdHZhciBfanF1ZXJ5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cdFxuXHR2YXIgX2pxdWVyeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9qcXVlcnkpO1xuXHRcblx0dmFyIF9icm93c2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nik7XG5cdFxuXHR2YXIgX2Jyb3dzZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnJvd3Nlcik7XG5cdFxuXHR2YXIgX3VpID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nik7XG5cdFxuXHR2YXIgX3VpMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VpKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgbWFuaWZlc3QgPSBfYnJvd3NlcjIuZGVmYXVsdC5nZXRNYW5pZmVzdCgpO1xuXHRcblx0Lypcblx0RG93bmxvYWQgRm9ybVxuXHQqL1xuXHRcblx0KDAsIF9qcXVlcnkyLmRlZmF1bHQpKCcjc2VsZWN0LWFsbCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcblx0ICAgICgwLCBfanF1ZXJ5Mi5kZWZhdWx0KSgnaW5wdXQuYXJ0aWNsZS1jaGVja2JveCcpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBjaGVja2JveCkge1xuXHQgICAgICAgICgwLCBfanF1ZXJ5Mi5kZWZhdWx0KShjaGVja2JveCkucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuXHQgICAgfSk7XG5cdH0pO1xuXHRcblx0KDAsIF9qcXVlcnkyLmRlZmF1bHQpKCcjc2VsZWN0LW5vbmUnKS5jbGljayhmdW5jdGlvbiAoKSB7XG5cdCAgICAoMCwgX2pxdWVyeTIuZGVmYXVsdCkoJ2lucHV0LmFydGljbGUtY2hlY2tib3gnKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgY2hlY2tib3gpIHtcblx0ICAgICAgICAoMCwgX2pxdWVyeTIuZGVmYXVsdCkoY2hlY2tib3gpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XG5cdCAgICB9KTtcblx0fSk7XG5cdFxuXHQoMCwgX2pxdWVyeTIuZGVmYXVsdCkoJyNkb3dubG9hZCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBzZWxlY3RlZEl0ZW1zID0gW107XG5cdCAgICAoMCwgX2pxdWVyeTIuZGVmYXVsdCkoJ2lucHV0LmFydGljbGUtY2hlY2tib3gnKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgY2hlY2tib3gpIHtcblx0ICAgICAgICBpZiAoKDAsIF9qcXVlcnkyLmRlZmF1bHQpKGNoZWNrYm94KS5wcm9wKCdjaGVja2VkJykpIHtcblx0ICAgICAgICAgICAgc2VsZWN0ZWRJdGVtcy5wdXNoKHtcblx0ICAgICAgICAgICAgICAgIHVybDogKDAsIF9qcXVlcnkyLmRlZmF1bHQpKGNoZWNrYm94KS5wcm9wKCd2YWx1ZScpLFxuXHQgICAgICAgICAgICAgICAgaWQ6IE51bWJlcigoMCwgX2pxdWVyeTIuZGVmYXVsdCkoY2hlY2tib3gpLnByb3AoJ25hbWUnKSlcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cdFxuXHQgICAgaWYgKHNlbGVjdGVkSXRlbXMubGVuZ3RoIDw9IDApIHtcblx0ICAgICAgICAoMCwgX2pxdWVyeTIuZGVmYXVsdCkoJyNhbGVydC1tZXNzYWdlJykudGV4dCgnTm8gYXJ0aWNsZXMgc2VsZWN0ZWQhJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIF9icm93c2VyMi5kZWZhdWx0LmdldFRhYnNIdG1sKHNlbGVjdGVkSXRlbXMpLnRoZW4oZnVuY3Rpb24gKHNlY3Rpb25zKSB7XG5cdCAgICAgICAgICAgIF91aTIuZGVmYXVsdC5zaG93U2VjdGlvbignI2Rvd25sb2FkU3Bpbm5lcicpO1xuXHQgICAgICAgICAgICBfYnJvd3NlcjIuZGVmYXVsdC5zZW5kTWVzc2FnZSh7XG5cdCAgICAgICAgICAgICAgICBhY3Rpb246ICdkb3dubG9hZCcsXG5cdCAgICAgICAgICAgICAgICBib29rOiB7XG5cdCAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICgwLCBfanF1ZXJ5Mi5kZWZhdWx0KSgnI2Jvb2stdGl0bGUnKS52YWwoKSB8fCAoMCwgX2pxdWVyeTIuZGVmYXVsdCkoJyNib29rLXRpdGxlJykuYXR0cigncGxhY2Vob2xkZXInKSxcblx0ICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogKDAsIF9qcXVlcnkyLmRlZmF1bHQpKCcjYm9vay1kZXNjcmlwdGlvbicpLnZhbCgpIHx8IHVuZGVmaW5lZCxcblx0ICAgICAgICAgICAgICAgICAgICBzZWN0aW9uczogc2VjdGlvbnNcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICAgICAgICAgIF91aTIuZGVmYXVsdC5zZXRFcnJvck1lc3NhZ2UoJ0NvdWxkIG5vdCBmaW5kIHRhYiBjb250ZW50OiAnICsgZXJyb3IpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdC8qXG5cdFNldHRpbmdzIE1hbmFnZW1lbnRcblx0Ki9cblx0XG5cdGZ1bmN0aW9uIHNldEV4aXN0aW5nU2V0dGluZ3MoY2IpIHtcblx0ICAgIF9icm93c2VyMi5kZWZhdWx0LmdldExvY2FsU3RvcmFnZShbJ2VtYWlsJywgJ2ZpbGV0eXBlJ10pLnRoZW4oZnVuY3Rpb24gKHN0YXRlKSB7XG5cdCAgICAgICAgKDAsIF9qcXVlcnkyLmRlZmF1bHQpKCcjc2V0dGluZ3MtZW1haWwtdGV4dCcpLnZhbChzdGF0ZS5lbWFpbCk7XG5cdCAgICAgICAgKDAsIF9qcXVlcnkyLmRlZmF1bHQpKCcjc2V0dGluZ3MtZmlsZXR5cGUtc2VsZWN0JykudmFsKHN0YXRlLmZpbGV0eXBlKTtcblx0ICAgICAgICBjYigpO1xuXHQgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICAgICAgX3VpMi5kZWZhdWx0LnNldEVycm9yTWVzc2FnZSgnQ291bGQgbm90IGxvYWQgc2V0dGluZ3M6ICcgKyBlcnJvcik7XG5cdCAgICB9KTtcblx0fVxuXHRcblx0KDAsIF9qcXVlcnkyLmRlZmF1bHQpKCcjc2V0dGluZ3MtYnRuJykuY2xpY2soZnVuY3Rpb24gKCkge1xuXHQgICAgc2V0RXhpc3RpbmdTZXR0aW5ncyhmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgX3VpMi5kZWZhdWx0LnNob3dTZWN0aW9uKCcjc2V0dGluZ3NGb3JtJyk7XG5cdCAgICB9KTtcblx0fSk7XG5cdFxuXHQoMCwgX2pxdWVyeTIuZGVmYXVsdCkoJyNzZXR0aW5ncy1zYXZlLWJ0bicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcblx0ICAgIF9icm93c2VyMi5kZWZhdWx0LnNldExvY2FsU3RvcmFnZSh7XG5cdCAgICAgICAgZW1haWw6ICgwLCBfanF1ZXJ5Mi5kZWZhdWx0KSgnI3NldHRpbmdzLWVtYWlsLXRleHQnKS52YWwoKSxcblx0ICAgICAgICBmaWxldHlwZTogKDAsIF9qcXVlcnkyLmRlZmF1bHQpKCcjc2V0dGluZ3MtZmlsZXR5cGUtc2VsZWN0JykudmFsKClcblx0ICAgIH0pO1xuXHQgICAgX3VpMi5kZWZhdWx0LnNob3dTZWN0aW9uKCcjZG93bmxvYWRGb3JtJyk7XG5cdH0pO1xuXHRcblx0KDAsIF9qcXVlcnkyLmRlZmF1bHQpKCcjc2V0dGluZ3MtY2FuY2VsLWJ0bicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcblx0ICAgIF91aTIuZGVmYXVsdC5zaG93U2VjdGlvbignI2Rvd25sb2FkRm9ybScpO1xuXHR9KTtcblx0XG5cdC8qXG5cdE1lc3NhZ2luZ1xuXHQqL1xuXHRcblx0X2Jyb3dzZXIyLmRlZmF1bHQub25CYWNrZ3JvdW5kTWVzc2FnZShmdW5jdGlvbiAocmVxdWVzdCkge1xuXHQgICAgaWYgKHJlcXVlc3QuYWN0aW9uID09PSAnZG93bmxvYWQnKSB7XG5cdCAgICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAnY29tcGxldGUnKSB7XG5cdCAgICAgICAgICAgIF91aTIuZGVmYXVsdC51cGRhdGVTdGF0dXMoMTAwLCAnRG9uZSEnKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIF91aTIuZGVmYXVsdC5zaG93U2VjdGlvbignI2Rvd25sb2FkU3VjY2VzcycpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBfdWkyLmRlZmF1bHQuc2hvd1NlY3Rpb24oJyNkb3dubG9hZEZhaWxlZCcpO1xuXHQgICAgICAgICAgICBpZiAocmVxdWVzdC5lcnJvcikge1xuXHQgICAgICAgICAgICAgICAgX3VpMi5kZWZhdWx0LnNldEVycm9yTWVzc2FnZShyZXF1ZXN0LmVycm9yKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAocmVxdWVzdC5hY3Rpb24gPT09ICdwdWJsaXNoJykge1xuXHQgICAgICAgIF91aTIuZGVmYXVsdC51cGRhdGVTdGF0dXMocmVxdWVzdC5wcm9ncmVzcywgcmVxdWVzdC5tZXNzYWdlKTtcblx0ICAgIH1cblx0fSk7XG5cdFxuXHQvKlxuXHRTdGFydHVwXG5cdCovXG5cdFxuXHR3aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgX3VpMi5kZWZhdWx0LmluaXRpYWxpemVVaSgpO1xuXHQgICAgX2Jyb3dzZXIyLmRlZmF1bHQuZ2V0TG9jYWxTdG9yYWdlKCdkb3dubG9hZFN0YXRlJykudGhlbihmdW5jdGlvbiAoc3RhdGUpIHtcblx0ICAgICAgICBpZiAoc3RhdGUuZG93bmxvYWRTdGF0ZSkge1xuXHQgICAgICAgICAgICBfYnJvd3NlcjIuZGVmYXVsdC5nZXRMb2NhbFN0b3JhZ2UoJ3B1Ymxpc2hTdGF0dXMnKS50aGVuKGZ1bmN0aW9uIChwdWJsaXNoU3RhdGUpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBzdGF0dXMgPSBKU09OLnBhcnNlKHB1Ymxpc2hTdGF0ZS5wdWJsaXNoU3RhdHVzKTtcblx0ICAgICAgICAgICAgICAgIF91aTIuZGVmYXVsdC51cGRhdGVTdGF0dXMoc3RhdHVzLnByb2dyZXNzLCBzdGF0dXMubWVzc2FnZSk7XG5cdCAgICAgICAgICAgICAgICBfdWkyLmRlZmF1bHQuc2hvd1NlY3Rpb24oJyNkb3dubG9hZFNwaW5uZXInKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgX2VwdWJQcmVzc0pzMi5kZWZhdWx0LmNoZWNrRm9yVXBkYXRlcygnZXB1Yi1wcmVzcy1jaHJvbWUnLCBtYW5pZmVzdC52ZXJzaW9uKS50aGVuKGZ1bmN0aW9uIChtZXNzYWdlKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAobWVzc2FnZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIF91aTIuZGVmYXVsdC5zZXRBbGVydE1lc3NhZ2UobWVzc2FnZSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICBfdWkyLmRlZmF1bHQuc2hvd1NlY3Rpb24oJyNkb3dubG9hZEZvcm0nKTtcblx0ICAgICAgICAgICAgX3VpMi5kZWZhdWx0LmluaXRpYWxpemVUYWJMaXN0KCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA1NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKCQpIHsndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX3Byb21pc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU3KTtcblx0XG5cdHZhciBfcHJvbWlzZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9taXNlKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0dmFyIF9icm93c2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nik7XG5cdFxuXHR2YXIgX2Jyb3dzZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnJvd3Nlcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIFVJID0gZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gVUkoKSB7XG5cdCAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgVUkpO1xuXHQgICAgfVxuXHRcblx0ICAgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFVJLCBudWxsLCBbe1xuXHQgICAgICAgIGtleTogJ2luaXRpYWxpemVVaScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVVaSgpIHtcblx0ICAgICAgICAgICAgdmFyIGRhdGUgPSBEYXRlKCk7XG5cdCAgICAgICAgICAgIGRhdGUgPSBkYXRlLnNsaWNlKDAsIGRhdGUubWF0Y2goL1xcZHs0fS8pLmluZGV4ICsgNCk7XG5cdCAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib29rLXRpdGxlJykucGxhY2Vob2xkZXIgPSAnRXB1YlByZXNzIC0gJyArIGRhdGU7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3NldEVycm9yTWVzc2FnZScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEVycm9yTWVzc2FnZShtc2cpIHtcblx0ICAgICAgICAgICAgJCgnI2ZhaWx1cmUtbWVzc2FnZScpLnRleHQobXNnKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnc2hvd1NlY3Rpb24nLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93U2VjdGlvbihzZWN0aW9uKSB7XG5cdCAgICAgICAgICAgIFVJLlNFQ1RJT05TX1NFTEVDVE9SUy5mb3JFYWNoKGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuXHQgICAgICAgICAgICAgICAgaWYgKHNlbGVjdG9yID09PSBzZWN0aW9uKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgJChzZWxlY3Rvcikuc2hvdygpO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAkKHNlbGVjdG9yKS5oaWRlKCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdzZXRBbGVydE1lc3NhZ2UnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRBbGVydE1lc3NhZ2UobWVzc2FnZSkge1xuXHQgICAgICAgICAgICAkKCcjYWxlcnQtbWVzc2FnZScpLnRleHQobWVzc2FnZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3VwZGF0ZVN0YXR1cycsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVN0YXR1cyhwcm9ncmVzcywgbWVzc2FnZSkge1xuXHQgICAgICAgICAgICAkKCdoNCNwcm9ncmVzcy1tc2cnKS50ZXh0KG1lc3NhZ2UpO1xuXHQgICAgICAgICAgICBpZiAocHJvZ3Jlc3MpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFuaW1hdGVWYWx1ZUNoYW5nZSgkKCdwcm9ncmVzcycpLCBwcm9ncmVzcyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIF9wcm9taXNlMi5kZWZhdWx0LnJlc29sdmUoKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnYW5pbWF0ZVZhbHVlQ2hhbmdlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYW5pbWF0ZVZhbHVlQ2hhbmdlKCRlbCwgZmluYWxWYWx1ZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gbmV3IF9wcm9taXNlMi5kZWZhdWx0KGZ1bmN0aW9uIChyZXNvbHZlKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgYW5pbWF0ZUZyb20gPSBmdW5jdGlvbiBhbmltYXRlRnJvbShjdXJyZW50VmFsdWUpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFZhbHVlID09PSBmaW5hbFZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpZmYgPSBjdXJyZW50VmFsdWUgPCBmaW5hbFZhbHVlID8gMSA6IC0xO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBkaWZmICsgY3VycmVudFZhbHVlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAkZWwudmFsKG5ld1ZhbHVlKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZUZyb20obmV3VmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgICAgIGFuaW1hdGVGcm9tKCRlbC52YWwoKSk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdnZXRDaGVja2JveCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldENoZWNrYm94KHByb3BzKSB7XG5cdCAgICAgICAgICAgIHZhciBodG1sID0gJzxkaXYgY2xhc3M9XCJjaGVja2JveFwiPlxcbiAgICAgICAgPGxhYmVsPlxcbiAgICAgICAgPGlucHV0IGNsYXNzPVxcJ2FydGljbGUtY2hlY2tib3hcXCcgdHlwZT1cImNoZWNrYm94XCIgdmFsdWU9XCInICsgcHJvcHMudXJsICsgJ1wiIG5hbWU9XCInICsgcHJvcHMuaWQgKyAnXCI+XFxuICAgICAgICA8c3Bhbj4nICsgcHJvcHMudGl0bGUgKyAnPC9zcGFuPlxcbiAgICAgICAgPC9sYWJlbD5cXG4gICAgICAgIDwvZGl2Pic7XG5cdCAgICAgICAgICAgIHJldHVybiBodG1sO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdpbml0aWFsaXplVGFiTGlzdCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVUYWJMaXN0KCkge1xuXHQgICAgICAgICAgICBfYnJvd3NlcjIuZGVmYXVsdC5nZXRDdXJyZW50V2luZG93VGFicygpLnRoZW4oZnVuY3Rpb24gKHRhYnMpIHtcblx0ICAgICAgICAgICAgICAgIHRhYnMuZm9yRWFjaChmdW5jdGlvbiAodGFiKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgJCgnI3RhYi1saXN0JykuYXBwZW5kKFVJLmdldENoZWNrYm94KHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRhYi50aXRsZSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB0YWIudXJsLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZDogdGFiLmlkXG5cdCAgICAgICAgICAgICAgICAgICAgfSkpO1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgICAgICAgICAgICAgVUkuc2V0RXJyb3JNZXNzYWdlKCdTZWFyY2hpbmcgdGFicyBmYWlsZWQ6ICcgKyBlcnJvcik7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0ICAgIHJldHVybiBVSTtcblx0fSgpO1xuXHRcblx0VUkuU0VDVElPTlNfU0VMRUNUT1JTID0gWycjZG93bmxvYWRGb3JtJywgJyNzZXR0aW5nc0Zvcm0nLCAnI2Rvd25sb2FkU3Bpbm5lcicsICcjZG93bmxvYWRTdWNjZXNzJywgJyNkb3dubG9hZEZhaWxlZCddO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBVSTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNDMpKSlcblxuLyoqKi8gfSxcbi8qIDU3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IF9fd2VicGFja19yZXF1aXJlX18oNTgpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0sXG4vKiA1OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1OSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjApO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDczKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg3Nyk7XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KS5Qcm9taXNlO1xuXG4vKioqLyB9LFxuLyogNTkgKi9cbjQ1LFxuLyogNjAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0dmFyICRhdCAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxKSh0cnVlKTtcblx0XG5cdC8vIDIxLjEuMy4yNyBTdHJpbmcucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2MikoU3RyaW5nLCAnU3RyaW5nJywgZnVuY3Rpb24oaXRlcmF0ZWQpe1xuXHQgIHRoaXMuX3QgPSBTdHJpbmcoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcblx0ICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuXHQvLyAyMS4xLjUuMi4xICVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG5cdH0sIGZ1bmN0aW9uKCl7XG5cdCAgdmFyIE8gICAgID0gdGhpcy5fdFxuXHQgICAgLCBpbmRleCA9IHRoaXMuX2lcblx0ICAgICwgcG9pbnQ7XG5cdCAgaWYoaW5kZXggPj0gTy5sZW5ndGgpcmV0dXJuIHt2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlfTtcblx0ICBwb2ludCA9ICRhdChPLCBpbmRleCk7XG5cdCAgdGhpcy5faSArPSBwb2ludC5sZW5ndGg7XG5cdCAgcmV0dXJuIHt2YWx1ZTogcG9pbnQsIGRvbmU6IGZhbHNlfTtcblx0fSk7XG5cbi8qKiovIH0sXG4vKiA2MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIHRvSW50ZWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpXG5cdCAgLCBkZWZpbmVkICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTtcblx0Ly8gdHJ1ZSAgLT4gU3RyaW5nI2F0XG5cdC8vIGZhbHNlIC0+IFN0cmluZyNjb2RlUG9pbnRBdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFRPX1NUUklORyl7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKHRoYXQsIHBvcyl7XG5cdCAgICB2YXIgcyA9IFN0cmluZyhkZWZpbmVkKHRoYXQpKVxuXHQgICAgICAsIGkgPSB0b0ludGVnZXIocG9zKVxuXHQgICAgICAsIGwgPSBzLmxlbmd0aFxuXHQgICAgICAsIGEsIGI7XG5cdCAgICBpZihpIDwgMCB8fCBpID49IGwpcmV0dXJuIFRPX1NUUklORyA/ICcnIDogdW5kZWZpbmVkO1xuXHQgICAgYSA9IHMuY2hhckNvZGVBdChpKTtcblx0ICAgIHJldHVybiBhIDwgMHhkODAwIHx8IGEgPiAweGRiZmYgfHwgaSArIDEgPT09IGwgfHwgKGIgPSBzLmNoYXJDb2RlQXQoaSArIDEpKSA8IDB4ZGMwMCB8fCBiID4gMHhkZmZmXG5cdCAgICAgID8gVE9fU1RSSU5HID8gcy5jaGFyQXQoaSkgOiBhXG5cdCAgICAgIDogVE9fU1RSSU5HID8gcy5zbGljZShpLCBpICsgMikgOiAoYSAtIDB4ZDgwMCA8PCAxMCkgKyAoYiAtIDB4ZGMwMCkgKyAweDEwMDAwO1xuXHQgIH07XG5cdH07XG5cbi8qKiovIH0sXG4vKiA2MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgTElCUkFSWSAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYzKVxuXHQgICwgJGV4cG9ydCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpXG5cdCAgLCByZWRlZmluZSAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNjQpXG5cdCAgLCBoaWRlICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpXG5cdCAgLCBoYXMgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpXG5cdCAgLCBJdGVyYXRvcnMgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNjUpXG5cdCAgLCAkaXRlckNyZWF0ZSAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNjYpXG5cdCAgLCBzZXRUb1N0cmluZ1RhZyA9IF9fd2VicGFja19yZXF1aXJlX18oNzApXG5cdCAgLCBnZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNzIpXG5cdCAgLCBJVEVSQVRPUiAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpKCdpdGVyYXRvcicpXG5cdCAgLCBCVUdHWSAgICAgICAgICA9ICEoW10ua2V5cyAmJiAnbmV4dCcgaW4gW10ua2V5cygpKSAvLyBTYWZhcmkgaGFzIGJ1Z2d5IGl0ZXJhdG9ycyB3L28gYG5leHRgXG5cdCAgLCBGRl9JVEVSQVRPUiAgICA9ICdAQGl0ZXJhdG9yJ1xuXHQgICwgS0VZUyAgICAgICAgICAgPSAna2V5cydcblx0ICAsIFZBTFVFUyAgICAgICAgID0gJ3ZhbHVlcyc7XG5cdFxuXHR2YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzOyB9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpe1xuXHQgICRpdGVyQ3JlYXRlKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KTtcblx0ICB2YXIgZ2V0TWV0aG9kID0gZnVuY3Rpb24oa2luZCl7XG5cdCAgICBpZighQlVHR1kgJiYga2luZCBpbiBwcm90bylyZXR1cm4gcHJvdG9ba2luZF07XG5cdCAgICBzd2l0Y2goa2luZCl7XG5cdCAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcblx0ICAgICAgY2FzZSBWQUxVRVM6IHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcblx0ICAgIH0gcmV0dXJuIGZ1bmN0aW9uIGVudHJpZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcblx0ICB9O1xuXHQgIHZhciBUQUcgICAgICAgID0gTkFNRSArICcgSXRlcmF0b3InXG5cdCAgICAsIERFRl9WQUxVRVMgPSBERUZBVUxUID09IFZBTFVFU1xuXHQgICAgLCBWQUxVRVNfQlVHID0gZmFsc2Vcblx0ICAgICwgcHJvdG8gICAgICA9IEJhc2UucHJvdG90eXBlXG5cdCAgICAsICRuYXRpdmUgICAgPSBwcm90b1tJVEVSQVRPUl0gfHwgcHJvdG9bRkZfSVRFUkFUT1JdIHx8IERFRkFVTFQgJiYgcHJvdG9bREVGQVVMVF1cblx0ICAgICwgJGRlZmF1bHQgICA9ICRuYXRpdmUgfHwgZ2V0TWV0aG9kKERFRkFVTFQpXG5cdCAgICAsICRlbnRyaWVzICAgPSBERUZBVUxUID8gIURFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZCgnZW50cmllcycpIDogdW5kZWZpbmVkXG5cdCAgICAsICRhbnlOYXRpdmUgPSBOQU1FID09ICdBcnJheScgPyBwcm90by5lbnRyaWVzIHx8ICRuYXRpdmUgOiAkbmF0aXZlXG5cdCAgICAsIG1ldGhvZHMsIGtleSwgSXRlcmF0b3JQcm90b3R5cGU7XG5cdCAgLy8gRml4IG5hdGl2ZVxuXHQgIGlmKCRhbnlOYXRpdmUpe1xuXHQgICAgSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZigkYW55TmF0aXZlLmNhbGwobmV3IEJhc2UpKTtcblx0ICAgIGlmKEl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlKXtcblx0ICAgICAgLy8gU2V0IEBAdG9TdHJpbmdUYWcgdG8gbmF0aXZlIGl0ZXJhdG9yc1xuXHQgICAgICBzZXRUb1N0cmluZ1RhZyhJdGVyYXRvclByb3RvdHlwZSwgVEFHLCB0cnVlKTtcblx0ICAgICAgLy8gZml4IGZvciBzb21lIG9sZCBlbmdpbmVzXG5cdCAgICAgIGlmKCFMSUJSQVJZICYmICFoYXMoSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SKSloaWRlKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUiwgcmV0dXJuVGhpcyk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIC8vIGZpeCBBcnJheSN7dmFsdWVzLCBAQGl0ZXJhdG9yfS5uYW1lIGluIFY4IC8gRkZcblx0ICBpZihERUZfVkFMVUVTICYmICRuYXRpdmUgJiYgJG5hdGl2ZS5uYW1lICE9PSBWQUxVRVMpe1xuXHQgICAgVkFMVUVTX0JVRyA9IHRydWU7XG5cdCAgICAkZGVmYXVsdCA9IGZ1bmN0aW9uIHZhbHVlcygpeyByZXR1cm4gJG5hdGl2ZS5jYWxsKHRoaXMpOyB9O1xuXHQgIH1cblx0ICAvLyBEZWZpbmUgaXRlcmF0b3Jcblx0ICBpZigoIUxJQlJBUlkgfHwgRk9SQ0VEKSAmJiAoQlVHR1kgfHwgVkFMVUVTX0JVRyB8fCAhcHJvdG9bSVRFUkFUT1JdKSl7XG5cdCAgICBoaWRlKHByb3RvLCBJVEVSQVRPUiwgJGRlZmF1bHQpO1xuXHQgIH1cblx0ICAvLyBQbHVnIGZvciBsaWJyYXJ5XG5cdCAgSXRlcmF0b3JzW05BTUVdID0gJGRlZmF1bHQ7XG5cdCAgSXRlcmF0b3JzW1RBR10gID0gcmV0dXJuVGhpcztcblx0ICBpZihERUZBVUxUKXtcblx0ICAgIG1ldGhvZHMgPSB7XG5cdCAgICAgIHZhbHVlczogIERFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChWQUxVRVMpLFxuXHQgICAgICBrZXlzOiAgICBJU19TRVQgICAgID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoS0VZUyksXG5cdCAgICAgIGVudHJpZXM6ICRlbnRyaWVzXG5cdCAgICB9O1xuXHQgICAgaWYoRk9SQ0VEKWZvcihrZXkgaW4gbWV0aG9kcyl7XG5cdCAgICAgIGlmKCEoa2V5IGluIHByb3RvKSlyZWRlZmluZShwcm90bywga2V5LCBtZXRob2RzW2tleV0pO1xuXHQgICAgfSBlbHNlICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogKEJVR0dZIHx8IFZBTFVFU19CVUcpLCBOQU1FLCBtZXRob2RzKTtcblx0ICB9XG5cdCAgcmV0dXJuIG1ldGhvZHM7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA2MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB0cnVlO1xuXG4vKioqLyB9LFxuLyogNjQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cbi8qKiovIH0sXG4vKiA2NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLyoqKi8gfSxcbi8qIDY2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdHZhciBjcmVhdGUgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNjcpXG5cdCAgLCBkZXNjcmlwdG9yICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpXG5cdCAgLCBzZXRUb1N0cmluZ1RhZyA9IF9fd2VicGFja19yZXF1aXJlX18oNzApXG5cdCAgLCBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuXHRcblx0Ly8gMjUuMS4yLjEuMSAlSXRlcmF0b3JQcm90b3R5cGUlW0BAaXRlcmF0b3JdKClcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMykoSXRlcmF0b3JQcm90b3R5cGUsIF9fd2VicGFja19yZXF1aXJlX18oNzEpKCdpdGVyYXRvcicpLCBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfSk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KXtcblx0ICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBjcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHtuZXh0OiBkZXNjcmlwdG9yKDEsIG5leHQpfSk7XG5cdCAgc2V0VG9TdHJpbmdUYWcoQ29uc3RydWN0b3IsIE5BTUUgKyAnIEl0ZXJhdG9yJyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA2NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG5cdHZhciBhbk9iamVjdCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpXG5cdCAgLCBkUHMgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNjgpXG5cdCAgLCBlbnVtQnVnS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpXG5cdCAgLCBJRV9QUk9UTyAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpKCdJRV9QUk9UTycpXG5cdCAgLCBFbXB0eSAgICAgICA9IGZ1bmN0aW9uKCl7IC8qIGVtcHR5ICovIH1cblx0ICAsIFBST1RPVFlQRSAgID0gJ3Byb3RvdHlwZSc7XG5cdFxuXHQvLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgaWZyYW1lIE9iamVjdCB3aXRoIGNsZWFyZWQgcHJvdG90eXBlXG5cdHZhciBjcmVhdGVEaWN0ID0gZnVuY3Rpb24oKXtcblx0ICAvLyBUaHJhc2gsIHdhc3RlIGFuZCBzb2RvbXk6IElFIEdDIGJ1Z1xuXHQgIHZhciBpZnJhbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKSgnaWZyYW1lJylcblx0ICAgICwgaSAgICAgID0gZW51bUJ1Z0tleXMubGVuZ3RoXG5cdCAgICAsIGx0ICAgICA9ICc8J1xuXHQgICAgLCBndCAgICAgPSAnPidcblx0ICAgICwgaWZyYW1lRG9jdW1lbnQ7XG5cdCAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdCAgX193ZWJwYWNrX3JlcXVpcmVfXyg2OSkuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcblx0ICBpZnJhbWUuc3JjID0gJ2phdmFzY3JpcHQ6JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zY3JpcHQtdXJsXG5cdCAgLy8gY3JlYXRlRGljdCA9IGlmcmFtZS5jb250ZW50V2luZG93Lk9iamVjdDtcblx0ICAvLyBodG1sLnJlbW92ZUNoaWxkKGlmcmFtZSk7XG5cdCAgaWZyYW1lRG9jdW1lbnQgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcblx0ICBpZnJhbWVEb2N1bWVudC5vcGVuKCk7XG5cdCAgaWZyYW1lRG9jdW1lbnQud3JpdGUobHQgKyAnc2NyaXB0JyArIGd0ICsgJ2RvY3VtZW50LkY9T2JqZWN0JyArIGx0ICsgJy9zY3JpcHQnICsgZ3QpO1xuXHQgIGlmcmFtZURvY3VtZW50LmNsb3NlKCk7XG5cdCAgY3JlYXRlRGljdCA9IGlmcmFtZURvY3VtZW50LkY7XG5cdCAgd2hpbGUoaS0tKWRlbGV0ZSBjcmVhdGVEaWN0W1BST1RPVFlQRV1bZW51bUJ1Z0tleXNbaV1dO1xuXHQgIHJldHVybiBjcmVhdGVEaWN0KCk7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5jcmVhdGUgfHwgZnVuY3Rpb24gY3JlYXRlKE8sIFByb3BlcnRpZXMpe1xuXHQgIHZhciByZXN1bHQ7XG5cdCAgaWYoTyAhPT0gbnVsbCl7XG5cdCAgICBFbXB0eVtQUk9UT1RZUEVdID0gYW5PYmplY3QoTyk7XG5cdCAgICByZXN1bHQgPSBuZXcgRW1wdHk7XG5cdCAgICBFbXB0eVtQUk9UT1RZUEVdID0gbnVsbDtcblx0ICAgIC8vIGFkZCBcIl9fcHJvdG9fX1wiIGZvciBPYmplY3QuZ2V0UHJvdG90eXBlT2YgcG9seWZpbGxcblx0ICAgIHJlc3VsdFtJRV9QUk9UT10gPSBPO1xuXHQgIH0gZWxzZSByZXN1bHQgPSBjcmVhdGVEaWN0KCk7XG5cdCAgcmV0dXJuIFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IGRQcyhyZXN1bHQsIFByb3BlcnRpZXMpO1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiA2OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGRQICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNClcblx0ICAsIGFuT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSlcblx0ICAsIGdldEtleXMgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpe1xuXHQgIGFuT2JqZWN0KE8pO1xuXHQgIHZhciBrZXlzICAgPSBnZXRLZXlzKFByb3BlcnRpZXMpXG5cdCAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoXG5cdCAgICAsIGkgPSAwXG5cdCAgICAsIFA7XG5cdCAgd2hpbGUobGVuZ3RoID4gaSlkUC5mKE8sIFAgPSBrZXlzW2krK10sIFByb3BlcnRpZXNbUF0pO1xuXHQgIHJldHVybiBPO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNjkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCkuZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG4vKioqLyB9LFxuLyogNzAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBkZWYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KS5mXG5cdCAgLCBoYXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KVxuXHQgICwgVEFHID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MSkoJ3RvU3RyaW5nVGFnJyk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCB0YWcsIHN0YXQpe1xuXHQgIGlmKGl0ICYmICFoYXMoaXQgPSBzdGF0ID8gaXQgOiBpdC5wcm90b3R5cGUsIFRBRykpZGVmKGl0LCBUQUcsIHtjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiB0YWd9KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDcxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgc3RvcmUgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzYpKCd3a3MnKVxuXHQgICwgdWlkICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpXG5cdCAgLCBTeW1ib2wgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCkuU3ltYm9sXG5cdCAgLCBVU0VfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PSAnZnVuY3Rpb24nO1xuXHRcblx0dmFyICRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lKXtcblx0ICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID1cblx0ICAgIFVTRV9TWU1CT0wgJiYgU3ltYm9sW25hbWVdIHx8IChVU0VfU1lNQk9MID8gU3ltYm9sIDogdWlkKSgnU3ltYm9sLicgKyBuYW1lKSk7XG5cdH07XG5cdFxuXHQkZXhwb3J0cy5zdG9yZSA9IHN0b3JlO1xuXG4vKioqLyB9LFxuLyogNzIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDE5LjEuMi45IC8gMTUuMi4zLjIgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG5cdHZhciBoYXMgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpXG5cdCAgLCB0b09iamVjdCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpXG5cdCAgLCBJRV9QUk9UTyAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpKCdJRV9QUk9UTycpXG5cdCAgLCBPYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbihPKXtcblx0ICBPID0gdG9PYmplY3QoTyk7XG5cdCAgaWYoaGFzKE8sIElFX1BST1RPKSlyZXR1cm4gT1tJRV9QUk9UT107XG5cdCAgaWYodHlwZW9mIE8uY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBPIGluc3RhbmNlb2YgTy5jb25zdHJ1Y3Rvcil7XG5cdCAgICByZXR1cm4gTy5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cdCAgfSByZXR1cm4gTyBpbnN0YW5jZW9mIE9iamVjdCA/IE9iamVjdFByb3RvIDogbnVsbDtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDczICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDc0KTtcblx0dmFyIGdsb2JhbCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKVxuXHQgICwgaGlkZSAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpXG5cdCAgLCBJdGVyYXRvcnMgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NSlcblx0ICAsIFRPX1NUUklOR19UQUcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKSgndG9TdHJpbmdUYWcnKTtcblx0XG5cdGZvcih2YXIgY29sbGVjdGlvbnMgPSBbJ05vZGVMaXN0JywgJ0RPTVRva2VuTGlzdCcsICdNZWRpYUxpc3QnLCAnU3R5bGVTaGVldExpc3QnLCAnQ1NTUnVsZUxpc3QnXSwgaSA9IDA7IGkgPCA1OyBpKyspe1xuXHQgIHZhciBOQU1FICAgICAgID0gY29sbGVjdGlvbnNbaV1cblx0ICAgICwgQ29sbGVjdGlvbiA9IGdsb2JhbFtOQU1FXVxuXHQgICAgLCBwcm90byAgICAgID0gQ29sbGVjdGlvbiAmJiBDb2xsZWN0aW9uLnByb3RvdHlwZTtcblx0ICBpZihwcm90byAmJiAhcHJvdG9bVE9fU1RSSU5HX1RBR10paGlkZShwcm90bywgVE9fU1RSSU5HX1RBRywgTkFNRSk7XG5cdCAgSXRlcmF0b3JzW05BTUVdID0gSXRlcmF0b3JzLkFycmF5O1xuXHR9XG5cbi8qKiovIH0sXG4vKiA3NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgYWRkVG9VbnNjb3BhYmxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNzUpXG5cdCAgLCBzdGVwICAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Nilcblx0ICAsIEl0ZXJhdG9ycyAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1KVxuXHQgICwgdG9JT2JqZWN0ICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpO1xuXHRcblx0Ly8gMjIuMS4zLjQgQXJyYXkucHJvdG90eXBlLmVudHJpZXMoKVxuXHQvLyAyMi4xLjMuMTMgQXJyYXkucHJvdG90eXBlLmtleXMoKVxuXHQvLyAyMi4xLjMuMjkgQXJyYXkucHJvdG90eXBlLnZhbHVlcygpXG5cdC8vIDIyLjEuMy4zMCBBcnJheS5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNjIpKEFycmF5LCAnQXJyYXknLCBmdW5jdGlvbihpdGVyYXRlZCwga2luZCl7XG5cdCAgdGhpcy5fdCA9IHRvSU9iamVjdChpdGVyYXRlZCk7IC8vIHRhcmdldFxuXHQgIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG5cdCAgdGhpcy5fayA9IGtpbmQ7ICAgICAgICAgICAgICAgIC8vIGtpbmRcblx0Ly8gMjIuMS41LjIuMSAlQXJyYXlJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG5cdH0sIGZ1bmN0aW9uKCl7XG5cdCAgdmFyIE8gICAgID0gdGhpcy5fdFxuXHQgICAgLCBraW5kICA9IHRoaXMuX2tcblx0ICAgICwgaW5kZXggPSB0aGlzLl9pKys7XG5cdCAgaWYoIU8gfHwgaW5kZXggPj0gTy5sZW5ndGgpe1xuXHQgICAgdGhpcy5fdCA9IHVuZGVmaW5lZDtcblx0ICAgIHJldHVybiBzdGVwKDEpO1xuXHQgIH1cblx0ICBpZihraW5kID09ICdrZXlzJyAgKXJldHVybiBzdGVwKDAsIGluZGV4KTtcblx0ICBpZihraW5kID09ICd2YWx1ZXMnKXJldHVybiBzdGVwKDAsIE9baW5kZXhdKTtcblx0ICByZXR1cm4gc3RlcCgwLCBbaW5kZXgsIE9baW5kZXhdXSk7XG5cdH0sICd2YWx1ZXMnKTtcblx0XG5cdC8vIGFyZ3VtZW50c0xpc3RbQEBpdGVyYXRvcl0gaXMgJUFycmF5UHJvdG9fdmFsdWVzJSAoOS40LjQuNiwgOS40LjQuNylcblx0SXRlcmF0b3JzLkFyZ3VtZW50cyA9IEl0ZXJhdG9ycy5BcnJheTtcblx0XG5cdGFkZFRvVW5zY29wYWJsZXMoJ2tleXMnKTtcblx0YWRkVG9VbnNjb3BhYmxlcygndmFsdWVzJyk7XG5cdGFkZFRvVW5zY29wYWJsZXMoJ2VudHJpZXMnKTtcblxuLyoqKi8gfSxcbi8qIDc1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCl7IC8qIGVtcHR5ICovIH07XG5cbi8qKiovIH0sXG4vKiA3NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihkb25lLCB2YWx1ZSl7XG5cdCAgcmV0dXJuIHt2YWx1ZTogdmFsdWUsIGRvbmU6ICEhZG9uZX07XG5cdH07XG5cbi8qKiovIH0sXG4vKiA3NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgTElCUkFSWSAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Mylcblx0ICAsIGdsb2JhbCAgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTApXG5cdCAgLCBjdHggICAgICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKVxuXHQgICwgY2xhc3NvZiAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3OClcblx0ICAsICRleHBvcnQgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOSlcblx0ICAsIGlzT2JqZWN0ICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpXG5cdCAgLCBhRnVuY3Rpb24gICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKVxuXHQgICwgYW5JbnN0YW5jZSAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3OSlcblx0ICAsIGZvck9mICAgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oODApXG5cdCAgLCBzcGVjaWVzQ29uc3RydWN0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg0KVxuXHQgICwgdGFzayAgICAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NSkuc2V0XG5cdCAgLCBtaWNyb3Rhc2sgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg3KSgpXG5cdCAgLCBQUk9NSVNFICAgICAgICAgICAgPSAnUHJvbWlzZSdcblx0ICAsIFR5cGVFcnJvciAgICAgICAgICA9IGdsb2JhbC5UeXBlRXJyb3Jcblx0ICAsIHByb2Nlc3MgICAgICAgICAgICA9IGdsb2JhbC5wcm9jZXNzXG5cdCAgLCAkUHJvbWlzZSAgICAgICAgICAgPSBnbG9iYWxbUFJPTUlTRV1cblx0ICAsIHByb2Nlc3MgICAgICAgICAgICA9IGdsb2JhbC5wcm9jZXNzXG5cdCAgLCBpc05vZGUgICAgICAgICAgICAgPSBjbGFzc29mKHByb2Nlc3MpID09ICdwcm9jZXNzJ1xuXHQgICwgZW1wdHkgICAgICAgICAgICAgID0gZnVuY3Rpb24oKXsgLyogZW1wdHkgKi8gfVxuXHQgICwgSW50ZXJuYWwsIEdlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eSwgV3JhcHBlcjtcblx0XG5cdHZhciBVU0VfTkFUSVZFID0gISFmdW5jdGlvbigpe1xuXHQgIHRyeSB7XG5cdCAgICAvLyBjb3JyZWN0IHN1YmNsYXNzaW5nIHdpdGggQEBzcGVjaWVzIHN1cHBvcnRcblx0ICAgIHZhciBwcm9taXNlICAgICA9ICRQcm9taXNlLnJlc29sdmUoMSlcblx0ICAgICAgLCBGYWtlUHJvbWlzZSA9IChwcm9taXNlLmNvbnN0cnVjdG9yID0ge30pW19fd2VicGFja19yZXF1aXJlX18oNzEpKCdzcGVjaWVzJyldID0gZnVuY3Rpb24oZXhlYyl7IGV4ZWMoZW1wdHksIGVtcHR5KTsgfTtcblx0ICAgIC8vIHVuaGFuZGxlZCByZWplY3Rpb25zIHRyYWNraW5nIHN1cHBvcnQsIE5vZGVKUyBQcm9taXNlIHdpdGhvdXQgaXQgZmFpbHMgQEBzcGVjaWVzIHRlc3Rcblx0ICAgIHJldHVybiAoaXNOb2RlIHx8IHR5cGVvZiBQcm9taXNlUmVqZWN0aW9uRXZlbnQgPT0gJ2Z1bmN0aW9uJykgJiYgcHJvbWlzZS50aGVuKGVtcHR5KSBpbnN0YW5jZW9mIEZha2VQcm9taXNlO1xuXHQgIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cblx0fSgpO1xuXHRcblx0Ly8gaGVscGVyc1xuXHR2YXIgc2FtZUNvbnN0cnVjdG9yID0gZnVuY3Rpb24oYSwgYil7XG5cdCAgLy8gd2l0aCBsaWJyYXJ5IHdyYXBwZXIgc3BlY2lhbCBjYXNlXG5cdCAgcmV0dXJuIGEgPT09IGIgfHwgYSA9PT0gJFByb21pc2UgJiYgYiA9PT0gV3JhcHBlcjtcblx0fTtcblx0dmFyIGlzVGhlbmFibGUgPSBmdW5jdGlvbihpdCl7XG5cdCAgdmFyIHRoZW47XG5cdCAgcmV0dXJuIGlzT2JqZWN0KGl0KSAmJiB0eXBlb2YgKHRoZW4gPSBpdC50aGVuKSA9PSAnZnVuY3Rpb24nID8gdGhlbiA6IGZhbHNlO1xuXHR9O1xuXHR2YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbihDKXtcblx0ICByZXR1cm4gc2FtZUNvbnN0cnVjdG9yKCRQcm9taXNlLCBDKVxuXHQgICAgPyBuZXcgUHJvbWlzZUNhcGFiaWxpdHkoQylcblx0ICAgIDogbmV3IEdlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eShDKTtcblx0fTtcblx0dmFyIFByb21pc2VDYXBhYmlsaXR5ID0gR2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5ID0gZnVuY3Rpb24oQyl7XG5cdCAgdmFyIHJlc29sdmUsIHJlamVjdDtcblx0ICB0aGlzLnByb21pc2UgPSBuZXcgQyhmdW5jdGlvbigkJHJlc29sdmUsICQkcmVqZWN0KXtcblx0ICAgIGlmKHJlc29sdmUgIT09IHVuZGVmaW5lZCB8fCByZWplY3QgIT09IHVuZGVmaW5lZCl0aHJvdyBUeXBlRXJyb3IoJ0JhZCBQcm9taXNlIGNvbnN0cnVjdG9yJyk7XG5cdCAgICByZXNvbHZlID0gJCRyZXNvbHZlO1xuXHQgICAgcmVqZWN0ICA9ICQkcmVqZWN0O1xuXHQgIH0pO1xuXHQgIHRoaXMucmVzb2x2ZSA9IGFGdW5jdGlvbihyZXNvbHZlKTtcblx0ICB0aGlzLnJlamVjdCAgPSBhRnVuY3Rpb24ocmVqZWN0KTtcblx0fTtcblx0dmFyIHBlcmZvcm0gPSBmdW5jdGlvbihleGVjKXtcblx0ICB0cnkge1xuXHQgICAgZXhlYygpO1xuXHQgIH0gY2F0Y2goZSl7XG5cdCAgICByZXR1cm4ge2Vycm9yOiBlfTtcblx0ICB9XG5cdH07XG5cdHZhciBub3RpZnkgPSBmdW5jdGlvbihwcm9taXNlLCBpc1JlamVjdCl7XG5cdCAgaWYocHJvbWlzZS5fbilyZXR1cm47XG5cdCAgcHJvbWlzZS5fbiA9IHRydWU7XG5cdCAgdmFyIGNoYWluID0gcHJvbWlzZS5fYztcblx0ICBtaWNyb3Rhc2soZnVuY3Rpb24oKXtcblx0ICAgIHZhciB2YWx1ZSA9IHByb21pc2UuX3Zcblx0ICAgICAgLCBvayAgICA9IHByb21pc2UuX3MgPT0gMVxuXHQgICAgICAsIGkgICAgID0gMDtcblx0ICAgIHZhciBydW4gPSBmdW5jdGlvbihyZWFjdGlvbil7XG5cdCAgICAgIHZhciBoYW5kbGVyID0gb2sgPyByZWFjdGlvbi5vayA6IHJlYWN0aW9uLmZhaWxcblx0ICAgICAgICAsIHJlc29sdmUgPSByZWFjdGlvbi5yZXNvbHZlXG5cdCAgICAgICAgLCByZWplY3QgID0gcmVhY3Rpb24ucmVqZWN0XG5cdCAgICAgICAgLCBkb21haW4gID0gcmVhY3Rpb24uZG9tYWluXG5cdCAgICAgICAgLCByZXN1bHQsIHRoZW47XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgaWYoaGFuZGxlcil7XG5cdCAgICAgICAgICBpZighb2spe1xuXHQgICAgICAgICAgICBpZihwcm9taXNlLl9oID09IDIpb25IYW5kbGVVbmhhbmRsZWQocHJvbWlzZSk7XG5cdCAgICAgICAgICAgIHByb21pc2UuX2ggPSAxO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgaWYoaGFuZGxlciA9PT0gdHJ1ZSlyZXN1bHQgPSB2YWx1ZTtcblx0ICAgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICBpZihkb21haW4pZG9tYWluLmVudGVyKCk7XG5cdCAgICAgICAgICAgIHJlc3VsdCA9IGhhbmRsZXIodmFsdWUpO1xuXHQgICAgICAgICAgICBpZihkb21haW4pZG9tYWluLmV4aXQoKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGlmKHJlc3VsdCA9PT0gcmVhY3Rpb24ucHJvbWlzZSl7XG5cdCAgICAgICAgICAgIHJlamVjdChUeXBlRXJyb3IoJ1Byb21pc2UtY2hhaW4gY3ljbGUnKSk7XG5cdCAgICAgICAgICB9IGVsc2UgaWYodGhlbiA9IGlzVGhlbmFibGUocmVzdWx0KSl7XG5cdCAgICAgICAgICAgIHRoZW4uY2FsbChyZXN1bHQsIHJlc29sdmUsIHJlamVjdCk7XG5cdCAgICAgICAgICB9IGVsc2UgcmVzb2x2ZShyZXN1bHQpO1xuXHQgICAgICAgIH0gZWxzZSByZWplY3QodmFsdWUpO1xuXHQgICAgICB9IGNhdGNoKGUpe1xuXHQgICAgICAgIHJlamVjdChlKTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICAgIHdoaWxlKGNoYWluLmxlbmd0aCA+IGkpcnVuKGNoYWluW2krK10pOyAvLyB2YXJpYWJsZSBsZW5ndGggLSBjYW4ndCB1c2UgZm9yRWFjaFxuXHQgICAgcHJvbWlzZS5fYyA9IFtdO1xuXHQgICAgcHJvbWlzZS5fbiA9IGZhbHNlO1xuXHQgICAgaWYoaXNSZWplY3QgJiYgIXByb21pc2UuX2gpb25VbmhhbmRsZWQocHJvbWlzZSk7XG5cdCAgfSk7XG5cdH07XG5cdHZhciBvblVuaGFuZGxlZCA9IGZ1bmN0aW9uKHByb21pc2Upe1xuXHQgIHRhc2suY2FsbChnbG9iYWwsIGZ1bmN0aW9uKCl7XG5cdCAgICB2YXIgdmFsdWUgPSBwcm9taXNlLl92XG5cdCAgICAgICwgYWJydXB0LCBoYW5kbGVyLCBjb25zb2xlO1xuXHQgICAgaWYoaXNVbmhhbmRsZWQocHJvbWlzZSkpe1xuXHQgICAgICBhYnJ1cHQgPSBwZXJmb3JtKGZ1bmN0aW9uKCl7XG5cdCAgICAgICAgaWYoaXNOb2RlKXtcblx0ICAgICAgICAgIHByb2Nlc3MuZW1pdCgndW5oYW5kbGVkUmVqZWN0aW9uJywgdmFsdWUsIHByb21pc2UpO1xuXHQgICAgICAgIH0gZWxzZSBpZihoYW5kbGVyID0gZ2xvYmFsLm9udW5oYW5kbGVkcmVqZWN0aW9uKXtcblx0ICAgICAgICAgIGhhbmRsZXIoe3Byb21pc2U6IHByb21pc2UsIHJlYXNvbjogdmFsdWV9KTtcblx0ICAgICAgICB9IGVsc2UgaWYoKGNvbnNvbGUgPSBnbG9iYWwuY29uc29sZSkgJiYgY29uc29sZS5lcnJvcil7XG5cdCAgICAgICAgICBjb25zb2xlLmVycm9yKCdVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24nLCB2YWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgICAgLy8gQnJvd3NlcnMgc2hvdWxkIG5vdCB0cmlnZ2VyIGByZWplY3Rpb25IYW5kbGVkYCBldmVudCBpZiBpdCB3YXMgaGFuZGxlZCBoZXJlLCBOb2RlSlMgLSBzaG91bGRcblx0ICAgICAgcHJvbWlzZS5faCA9IGlzTm9kZSB8fCBpc1VuaGFuZGxlZChwcm9taXNlKSA/IDIgOiAxO1xuXHQgICAgfSBwcm9taXNlLl9hID0gdW5kZWZpbmVkO1xuXHQgICAgaWYoYWJydXB0KXRocm93IGFicnVwdC5lcnJvcjtcblx0ICB9KTtcblx0fTtcblx0dmFyIGlzVW5oYW5kbGVkID0gZnVuY3Rpb24ocHJvbWlzZSl7XG5cdCAgaWYocHJvbWlzZS5faCA9PSAxKXJldHVybiBmYWxzZTtcblx0ICB2YXIgY2hhaW4gPSBwcm9taXNlLl9hIHx8IHByb21pc2UuX2Ncblx0ICAgICwgaSAgICAgPSAwXG5cdCAgICAsIHJlYWN0aW9uO1xuXHQgIHdoaWxlKGNoYWluLmxlbmd0aCA+IGkpe1xuXHQgICAgcmVhY3Rpb24gPSBjaGFpbltpKytdO1xuXHQgICAgaWYocmVhY3Rpb24uZmFpbCB8fCAhaXNVbmhhbmRsZWQocmVhY3Rpb24ucHJvbWlzZSkpcmV0dXJuIGZhbHNlO1xuXHQgIH0gcmV0dXJuIHRydWU7XG5cdH07XG5cdHZhciBvbkhhbmRsZVVuaGFuZGxlZCA9IGZ1bmN0aW9uKHByb21pc2Upe1xuXHQgIHRhc2suY2FsbChnbG9iYWwsIGZ1bmN0aW9uKCl7XG5cdCAgICB2YXIgaGFuZGxlcjtcblx0ICAgIGlmKGlzTm9kZSl7XG5cdCAgICAgIHByb2Nlc3MuZW1pdCgncmVqZWN0aW9uSGFuZGxlZCcsIHByb21pc2UpO1xuXHQgICAgfSBlbHNlIGlmKGhhbmRsZXIgPSBnbG9iYWwub25yZWplY3Rpb25oYW5kbGVkKXtcblx0ICAgICAgaGFuZGxlcih7cHJvbWlzZTogcHJvbWlzZSwgcmVhc29uOiBwcm9taXNlLl92fSk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdH07XG5cdHZhciAkcmVqZWN0ID0gZnVuY3Rpb24odmFsdWUpe1xuXHQgIHZhciBwcm9taXNlID0gdGhpcztcblx0ICBpZihwcm9taXNlLl9kKXJldHVybjtcblx0ICBwcm9taXNlLl9kID0gdHJ1ZTtcblx0ICBwcm9taXNlID0gcHJvbWlzZS5fdyB8fCBwcm9taXNlOyAvLyB1bndyYXBcblx0ICBwcm9taXNlLl92ID0gdmFsdWU7XG5cdCAgcHJvbWlzZS5fcyA9IDI7XG5cdCAgaWYoIXByb21pc2UuX2EpcHJvbWlzZS5fYSA9IHByb21pc2UuX2Muc2xpY2UoKTtcblx0ICBub3RpZnkocHJvbWlzZSwgdHJ1ZSk7XG5cdH07XG5cdHZhciAkcmVzb2x2ZSA9IGZ1bmN0aW9uKHZhbHVlKXtcblx0ICB2YXIgcHJvbWlzZSA9IHRoaXNcblx0ICAgICwgdGhlbjtcblx0ICBpZihwcm9taXNlLl9kKXJldHVybjtcblx0ICBwcm9taXNlLl9kID0gdHJ1ZTtcblx0ICBwcm9taXNlID0gcHJvbWlzZS5fdyB8fCBwcm9taXNlOyAvLyB1bndyYXBcblx0ICB0cnkge1xuXHQgICAgaWYocHJvbWlzZSA9PT0gdmFsdWUpdGhyb3cgVHlwZUVycm9yKFwiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGZcIik7XG5cdCAgICBpZih0aGVuID0gaXNUaGVuYWJsZSh2YWx1ZSkpe1xuXHQgICAgICBtaWNyb3Rhc2soZnVuY3Rpb24oKXtcblx0ICAgICAgICB2YXIgd3JhcHBlciA9IHtfdzogcHJvbWlzZSwgX2Q6IGZhbHNlfTsgLy8gd3JhcFxuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICB0aGVuLmNhbGwodmFsdWUsIGN0eCgkcmVzb2x2ZSwgd3JhcHBlciwgMSksIGN0eCgkcmVqZWN0LCB3cmFwcGVyLCAxKSk7XG5cdCAgICAgICAgfSBjYXRjaChlKXtcblx0ICAgICAgICAgICRyZWplY3QuY2FsbCh3cmFwcGVyLCBlKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcHJvbWlzZS5fdiA9IHZhbHVlO1xuXHQgICAgICBwcm9taXNlLl9zID0gMTtcblx0ICAgICAgbm90aWZ5KHByb21pc2UsIGZhbHNlKTtcblx0ICAgIH1cblx0ICB9IGNhdGNoKGUpe1xuXHQgICAgJHJlamVjdC5jYWxsKHtfdzogcHJvbWlzZSwgX2Q6IGZhbHNlfSwgZSk7IC8vIHdyYXBcblx0ICB9XG5cdH07XG5cdFxuXHQvLyBjb25zdHJ1Y3RvciBwb2x5ZmlsbFxuXHRpZighVVNFX05BVElWRSl7XG5cdCAgLy8gMjUuNC4zLjEgUHJvbWlzZShleGVjdXRvcilcblx0ICAkUHJvbWlzZSA9IGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3Ipe1xuXHQgICAgYW5JbnN0YW5jZSh0aGlzLCAkUHJvbWlzZSwgUFJPTUlTRSwgJ19oJyk7XG5cdCAgICBhRnVuY3Rpb24oZXhlY3V0b3IpO1xuXHQgICAgSW50ZXJuYWwuY2FsbCh0aGlzKTtcblx0ICAgIHRyeSB7XG5cdCAgICAgIGV4ZWN1dG9yKGN0eCgkcmVzb2x2ZSwgdGhpcywgMSksIGN0eCgkcmVqZWN0LCB0aGlzLCAxKSk7XG5cdCAgICB9IGNhdGNoKGVycil7XG5cdCAgICAgICRyZWplY3QuY2FsbCh0aGlzLCBlcnIpO1xuXHQgICAgfVxuXHQgIH07XG5cdCAgSW50ZXJuYWwgPSBmdW5jdGlvbiBQcm9taXNlKGV4ZWN1dG9yKXtcblx0ICAgIHRoaXMuX2MgPSBbXTsgICAgICAgICAgICAgLy8gPC0gYXdhaXRpbmcgcmVhY3Rpb25zXG5cdCAgICB0aGlzLl9hID0gdW5kZWZpbmVkOyAgICAgIC8vIDwtIGNoZWNrZWQgaW4gaXNVbmhhbmRsZWQgcmVhY3Rpb25zXG5cdCAgICB0aGlzLl9zID0gMDsgICAgICAgICAgICAgIC8vIDwtIHN0YXRlXG5cdCAgICB0aGlzLl9kID0gZmFsc2U7ICAgICAgICAgIC8vIDwtIGRvbmVcblx0ICAgIHRoaXMuX3YgPSB1bmRlZmluZWQ7ICAgICAgLy8gPC0gdmFsdWVcblx0ICAgIHRoaXMuX2ggPSAwOyAgICAgICAgICAgICAgLy8gPC0gcmVqZWN0aW9uIHN0YXRlLCAwIC0gZGVmYXVsdCwgMSAtIGhhbmRsZWQsIDIgLSB1bmhhbmRsZWRcblx0ICAgIHRoaXMuX24gPSBmYWxzZTsgICAgICAgICAgLy8gPC0gbm90aWZ5XG5cdCAgfTtcblx0ICBJbnRlcm5hbC5wcm90b3R5cGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg4KSgkUHJvbWlzZS5wcm90b3R5cGUsIHtcblx0ICAgIC8vIDI1LjQuNS4zIFByb21pc2UucHJvdG90eXBlLnRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpXG5cdCAgICB0aGVuOiBmdW5jdGlvbiB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKXtcblx0ICAgICAgdmFyIHJlYWN0aW9uICAgID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoc3BlY2llc0NvbnN0cnVjdG9yKHRoaXMsICRQcm9taXNlKSk7XG5cdCAgICAgIHJlYWN0aW9uLm9rICAgICA9IHR5cGVvZiBvbkZ1bGZpbGxlZCA9PSAnZnVuY3Rpb24nID8gb25GdWxmaWxsZWQgOiB0cnVlO1xuXHQgICAgICByZWFjdGlvbi5mYWlsICAgPSB0eXBlb2Ygb25SZWplY3RlZCA9PSAnZnVuY3Rpb24nICYmIG9uUmVqZWN0ZWQ7XG5cdCAgICAgIHJlYWN0aW9uLmRvbWFpbiA9IGlzTm9kZSA/IHByb2Nlc3MuZG9tYWluIDogdW5kZWZpbmVkO1xuXHQgICAgICB0aGlzLl9jLnB1c2gocmVhY3Rpb24pO1xuXHQgICAgICBpZih0aGlzLl9hKXRoaXMuX2EucHVzaChyZWFjdGlvbik7XG5cdCAgICAgIGlmKHRoaXMuX3Mpbm90aWZ5KHRoaXMsIGZhbHNlKTtcblx0ICAgICAgcmV0dXJuIHJlYWN0aW9uLnByb21pc2U7XG5cdCAgICB9LFxuXHQgICAgLy8gMjUuNC41LjEgUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2gob25SZWplY3RlZClcblx0ICAgICdjYXRjaCc6IGZ1bmN0aW9uKG9uUmVqZWN0ZWQpe1xuXHQgICAgICByZXR1cm4gdGhpcy50aGVuKHVuZGVmaW5lZCwgb25SZWplY3RlZCk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgUHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbigpe1xuXHQgICAgdmFyIHByb21pc2UgID0gbmV3IEludGVybmFsO1xuXHQgICAgdGhpcy5wcm9taXNlID0gcHJvbWlzZTtcblx0ICAgIHRoaXMucmVzb2x2ZSA9IGN0eCgkcmVzb2x2ZSwgcHJvbWlzZSwgMSk7XG5cdCAgICB0aGlzLnJlamVjdCAgPSBjdHgoJHJlamVjdCwgcHJvbWlzZSwgMSk7XG5cdCAgfTtcblx0fVxuXHRcblx0JGV4cG9ydCgkZXhwb3J0LkcgKyAkZXhwb3J0LlcgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwge1Byb21pc2U6ICRQcm9taXNlfSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18oNzApKCRQcm9taXNlLCBQUk9NSVNFKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg4OSkoUFJPTUlTRSk7XG5cdFdyYXBwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpW1BST01JU0VdO1xuXHRcblx0Ly8gc3RhdGljc1xuXHQkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCBQUk9NSVNFLCB7XG5cdCAgLy8gMjUuNC40LjUgUHJvbWlzZS5yZWplY3Qocilcblx0ICByZWplY3Q6IGZ1bmN0aW9uIHJlamVjdChyKXtcblx0ICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkodGhpcylcblx0ICAgICAgLCAkJHJlamVjdCAgID0gY2FwYWJpbGl0eS5yZWplY3Q7XG5cdCAgICAkJHJlamVjdChyKTtcblx0ICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG5cdCAgfVxuXHR9KTtcblx0JGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAoTElCUkFSWSB8fCAhVVNFX05BVElWRSksIFBST01JU0UsIHtcblx0ICAvLyAyNS40LjQuNiBQcm9taXNlLnJlc29sdmUoeClcblx0ICByZXNvbHZlOiBmdW5jdGlvbiByZXNvbHZlKHgpe1xuXHQgICAgLy8gaW5zdGFuY2VvZiBpbnN0ZWFkIG9mIGludGVybmFsIHNsb3QgY2hlY2sgYmVjYXVzZSB3ZSBzaG91bGQgZml4IGl0IHdpdGhvdXQgcmVwbGFjZW1lbnQgbmF0aXZlIFByb21pc2UgY29yZVxuXHQgICAgaWYoeCBpbnN0YW5jZW9mICRQcm9taXNlICYmIHNhbWVDb25zdHJ1Y3Rvcih4LmNvbnN0cnVjdG9yLCB0aGlzKSlyZXR1cm4geDtcblx0ICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkodGhpcylcblx0ICAgICAgLCAkJHJlc29sdmUgID0gY2FwYWJpbGl0eS5yZXNvbHZlO1xuXHQgICAgJCRyZXNvbHZlKHgpO1xuXHQgICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcblx0ICB9XG5cdH0pO1xuXHQkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICEoVVNFX05BVElWRSAmJiBfX3dlYnBhY2tfcmVxdWlyZV9fKDkwKShmdW5jdGlvbihpdGVyKXtcblx0ICAkUHJvbWlzZS5hbGwoaXRlcilbJ2NhdGNoJ10oZW1wdHkpO1xuXHR9KSksIFBST01JU0UsIHtcblx0ICAvLyAyNS40LjQuMSBQcm9taXNlLmFsbChpdGVyYWJsZSlcblx0ICBhbGw6IGZ1bmN0aW9uIGFsbChpdGVyYWJsZSl7XG5cdCAgICB2YXIgQyAgICAgICAgICA9IHRoaXNcblx0ICAgICAgLCBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoQylcblx0ICAgICAgLCByZXNvbHZlICAgID0gY2FwYWJpbGl0eS5yZXNvbHZlXG5cdCAgICAgICwgcmVqZWN0ICAgICA9IGNhcGFiaWxpdHkucmVqZWN0O1xuXHQgICAgdmFyIGFicnVwdCA9IHBlcmZvcm0oZnVuY3Rpb24oKXtcblx0ICAgICAgdmFyIHZhbHVlcyAgICA9IFtdXG5cdCAgICAgICAgLCBpbmRleCAgICAgPSAwXG5cdCAgICAgICAgLCByZW1haW5pbmcgPSAxO1xuXHQgICAgICBmb3JPZihpdGVyYWJsZSwgZmFsc2UsIGZ1bmN0aW9uKHByb21pc2Upe1xuXHQgICAgICAgIHZhciAkaW5kZXggICAgICAgID0gaW5kZXgrK1xuXHQgICAgICAgICAgLCBhbHJlYWR5Q2FsbGVkID0gZmFsc2U7XG5cdCAgICAgICAgdmFsdWVzLnB1c2godW5kZWZpbmVkKTtcblx0ICAgICAgICByZW1haW5pbmcrKztcblx0ICAgICAgICBDLnJlc29sdmUocHJvbWlzZSkudGhlbihmdW5jdGlvbih2YWx1ZSl7XG5cdCAgICAgICAgICBpZihhbHJlYWR5Q2FsbGVkKXJldHVybjtcblx0ICAgICAgICAgIGFscmVhZHlDYWxsZWQgID0gdHJ1ZTtcblx0ICAgICAgICAgIHZhbHVlc1skaW5kZXhdID0gdmFsdWU7XG5cdCAgICAgICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG5cdCAgICAgICAgfSwgcmVqZWN0KTtcblx0ICAgICAgfSk7XG5cdCAgICAgIC0tcmVtYWluaW5nIHx8IHJlc29sdmUodmFsdWVzKTtcblx0ICAgIH0pO1xuXHQgICAgaWYoYWJydXB0KXJlamVjdChhYnJ1cHQuZXJyb3IpO1xuXHQgICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcblx0ICB9LFxuXHQgIC8vIDI1LjQuNC40IFByb21pc2UucmFjZShpdGVyYWJsZSlcblx0ICByYWNlOiBmdW5jdGlvbiByYWNlKGl0ZXJhYmxlKXtcblx0ICAgIHZhciBDICAgICAgICAgID0gdGhpc1xuXHQgICAgICAsIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eShDKVxuXHQgICAgICAsIHJlamVjdCAgICAgPSBjYXBhYmlsaXR5LnJlamVjdDtcblx0ICAgIHZhciBhYnJ1cHQgPSBwZXJmb3JtKGZ1bmN0aW9uKCl7XG5cdCAgICAgIGZvck9mKGl0ZXJhYmxlLCBmYWxzZSwgZnVuY3Rpb24ocHJvbWlzZSl7XG5cdCAgICAgICAgQy5yZXNvbHZlKHByb21pc2UpLnRoZW4oY2FwYWJpbGl0eS5yZXNvbHZlLCByZWplY3QpO1xuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHQgICAgaWYoYWJydXB0KXJlamVjdChhYnJ1cHQuZXJyb3IpO1xuXHQgICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcblx0ICB9XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogNzggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGdldHRpbmcgdGFnIGZyb20gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpXG5cdHZhciBjb2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KVxuXHQgICwgVEFHID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MSkoJ3RvU3RyaW5nVGFnJylcblx0ICAvLyBFUzMgd3JvbmcgaGVyZVxuXHQgICwgQVJHID0gY29mKGZ1bmN0aW9uKCl7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPT0gJ0FyZ3VtZW50cyc7XG5cdFxuXHQvLyBmYWxsYmFjayBmb3IgSUUxMSBTY3JpcHQgQWNjZXNzIERlbmllZCBlcnJvclxuXHR2YXIgdHJ5R2V0ID0gZnVuY3Rpb24oaXQsIGtleSl7XG5cdCAgdHJ5IHtcblx0ICAgIHJldHVybiBpdFtrZXldO1xuXHQgIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHZhciBPLCBULCBCO1xuXHQgIHJldHVybiBpdCA9PT0gdW5kZWZpbmVkID8gJ1VuZGVmaW5lZCcgOiBpdCA9PT0gbnVsbCA/ICdOdWxsJ1xuXHQgICAgLy8gQEB0b1N0cmluZ1RhZyBjYXNlXG5cdCAgICA6IHR5cGVvZiAoVCA9IHRyeUdldChPID0gT2JqZWN0KGl0KSwgVEFHKSkgPT0gJ3N0cmluZycgPyBUXG5cdCAgICAvLyBidWlsdGluVGFnIGNhc2Vcblx0ICAgIDogQVJHID8gY29mKE8pXG5cdCAgICAvLyBFUzMgYXJndW1lbnRzIGZhbGxiYWNrXG5cdCAgICA6IChCID0gY29mKE8pKSA9PSAnT2JqZWN0JyAmJiB0eXBlb2YgTy5jYWxsZWUgPT0gJ2Z1bmN0aW9uJyA/ICdBcmd1bWVudHMnIDogQjtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDc5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBDb25zdHJ1Y3RvciwgbmFtZSwgZm9yYmlkZGVuRmllbGQpe1xuXHQgIGlmKCEoaXQgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikgfHwgKGZvcmJpZGRlbkZpZWxkICE9PSB1bmRlZmluZWQgJiYgZm9yYmlkZGVuRmllbGQgaW4gaXQpKXtcblx0ICAgIHRocm93IFR5cGVFcnJvcihuYW1lICsgJzogaW5jb3JyZWN0IGludm9jYXRpb24hJyk7XG5cdCAgfSByZXR1cm4gaXQ7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA4MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGN0eCAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSlcblx0ICAsIGNhbGwgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MSlcblx0ICAsIGlzQXJyYXlJdGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Milcblx0ICAsIGFuT2JqZWN0ICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSlcblx0ICAsIHRvTGVuZ3RoICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMilcblx0ICAsIGdldEl0ZXJGbiAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Mylcblx0ICAsIEJSRUFLICAgICAgID0ge31cblx0ICAsIFJFVFVSTiAgICAgID0ge307XG5cdHZhciBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdGVyYWJsZSwgZW50cmllcywgZm4sIHRoYXQsIElURVJBVE9SKXtcblx0ICB2YXIgaXRlckZuID0gSVRFUkFUT1IgPyBmdW5jdGlvbigpeyByZXR1cm4gaXRlcmFibGU7IH0gOiBnZXRJdGVyRm4oaXRlcmFibGUpXG5cdCAgICAsIGYgICAgICA9IGN0eChmbiwgdGhhdCwgZW50cmllcyA/IDIgOiAxKVxuXHQgICAgLCBpbmRleCAgPSAwXG5cdCAgICAsIGxlbmd0aCwgc3RlcCwgaXRlcmF0b3IsIHJlc3VsdDtcblx0ICBpZih0eXBlb2YgaXRlckZuICE9ICdmdW5jdGlvbicpdGhyb3cgVHlwZUVycm9yKGl0ZXJhYmxlICsgJyBpcyBub3QgaXRlcmFibGUhJyk7XG5cdCAgLy8gZmFzdCBjYXNlIGZvciBhcnJheXMgd2l0aCBkZWZhdWx0IGl0ZXJhdG9yXG5cdCAgaWYoaXNBcnJheUl0ZXIoaXRlckZuKSlmb3IobGVuZ3RoID0gdG9MZW5ndGgoaXRlcmFibGUubGVuZ3RoKTsgbGVuZ3RoID4gaW5kZXg7IGluZGV4Kyspe1xuXHQgICAgcmVzdWx0ID0gZW50cmllcyA/IGYoYW5PYmplY3Qoc3RlcCA9IGl0ZXJhYmxlW2luZGV4XSlbMF0sIHN0ZXBbMV0pIDogZihpdGVyYWJsZVtpbmRleF0pO1xuXHQgICAgaWYocmVzdWx0ID09PSBCUkVBSyB8fCByZXN1bHQgPT09IFJFVFVSTilyZXR1cm4gcmVzdWx0O1xuXHQgIH0gZWxzZSBmb3IoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChpdGVyYWJsZSk7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgKXtcblx0ICAgIHJlc3VsdCA9IGNhbGwoaXRlcmF0b3IsIGYsIHN0ZXAudmFsdWUsIGVudHJpZXMpO1xuXHQgICAgaWYocmVzdWx0ID09PSBCUkVBSyB8fCByZXN1bHQgPT09IFJFVFVSTilyZXR1cm4gcmVzdWx0O1xuXHQgIH1cblx0fTtcblx0ZXhwb3J0cy5CUkVBSyAgPSBCUkVBSztcblx0ZXhwb3J0cy5SRVRVUk4gPSBSRVRVUk47XG5cbi8qKiovIH0sXG4vKiA4MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gY2FsbCBzb21ldGhpbmcgb24gaXRlcmF0b3Igc3RlcCB3aXRoIHNhZmUgY2xvc2luZyBvbiBlcnJvclxuXHR2YXIgYW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdGVyYXRvciwgZm4sIHZhbHVlLCBlbnRyaWVzKXtcblx0ICB0cnkge1xuXHQgICAgcmV0dXJuIGVudHJpZXMgPyBmbihhbk9iamVjdCh2YWx1ZSlbMF0sIHZhbHVlWzFdKSA6IGZuKHZhbHVlKTtcblx0ICAvLyA3LjQuNiBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yLCBjb21wbGV0aW9uKVxuXHQgIH0gY2F0Y2goZSl7XG5cdCAgICB2YXIgcmV0ID0gaXRlcmF0b3JbJ3JldHVybiddO1xuXHQgICAgaWYocmV0ICE9PSB1bmRlZmluZWQpYW5PYmplY3QocmV0LmNhbGwoaXRlcmF0b3IpKTtcblx0ICAgIHRocm93IGU7XG5cdCAgfVxuXHR9O1xuXG4vKioqLyB9LFxuLyogODIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGNoZWNrIG9uIGRlZmF1bHQgQXJyYXkgaXRlcmF0b3Jcblx0dmFyIEl0ZXJhdG9ycyAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1KVxuXHQgICwgSVRFUkFUT1IgICA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpKCdpdGVyYXRvcicpXG5cdCAgLCBBcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIGl0ICE9PSB1bmRlZmluZWQgJiYgKEl0ZXJhdG9ycy5BcnJheSA9PT0gaXQgfHwgQXJyYXlQcm90b1tJVEVSQVRPUl0gPT09IGl0KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDgzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgY2xhc3NvZiAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3OClcblx0ICAsIElURVJBVE9SICA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpKCdpdGVyYXRvcicpXG5cdCAgLCBJdGVyYXRvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpLmdldEl0ZXJhdG9yTWV0aG9kID0gZnVuY3Rpb24oaXQpe1xuXHQgIGlmKGl0ICE9IHVuZGVmaW5lZClyZXR1cm4gaXRbSVRFUkFUT1JdXG5cdCAgICB8fCBpdFsnQEBpdGVyYXRvciddXG5cdCAgICB8fCBJdGVyYXRvcnNbY2xhc3NvZihpdCldO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogODQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDcuMy4yMCBTcGVjaWVzQ29uc3RydWN0b3IoTywgZGVmYXVsdENvbnN0cnVjdG9yKVxuXHR2YXIgYW5PYmplY3QgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSlcblx0ICAsIGFGdW5jdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpXG5cdCAgLCBTUEVDSUVTICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKSgnc3BlY2llcycpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKE8sIEQpe1xuXHQgIHZhciBDID0gYW5PYmplY3QoTykuY29uc3RydWN0b3IsIFM7XG5cdCAgcmV0dXJuIEMgPT09IHVuZGVmaW5lZCB8fCAoUyA9IGFuT2JqZWN0KEMpW1NQRUNJRVNdKSA9PSB1bmRlZmluZWQgPyBEIDogYUZ1bmN0aW9uKFMpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogODUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBjdHggICAgICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKVxuXHQgICwgaW52b2tlICAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nilcblx0ICAsIGh0bWwgICAgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNjkpXG5cdCAgLCBjZWwgICAgICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKVxuXHQgICwgZ2xvYmFsICAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMClcblx0ICAsIHByb2Nlc3MgICAgICAgICAgICA9IGdsb2JhbC5wcm9jZXNzXG5cdCAgLCBzZXRUYXNrICAgICAgICAgICAgPSBnbG9iYWwuc2V0SW1tZWRpYXRlXG5cdCAgLCBjbGVhclRhc2sgICAgICAgICAgPSBnbG9iYWwuY2xlYXJJbW1lZGlhdGVcblx0ICAsIE1lc3NhZ2VDaGFubmVsICAgICA9IGdsb2JhbC5NZXNzYWdlQ2hhbm5lbFxuXHQgICwgY291bnRlciAgICAgICAgICAgID0gMFxuXHQgICwgcXVldWUgICAgICAgICAgICAgID0ge31cblx0ICAsIE9OUkVBRFlTVEFURUNIQU5HRSA9ICdvbnJlYWR5c3RhdGVjaGFuZ2UnXG5cdCAgLCBkZWZlciwgY2hhbm5lbCwgcG9ydDtcblx0dmFyIHJ1biA9IGZ1bmN0aW9uKCl7XG5cdCAgdmFyIGlkID0gK3RoaXM7XG5cdCAgaWYocXVldWUuaGFzT3duUHJvcGVydHkoaWQpKXtcblx0ICAgIHZhciBmbiA9IHF1ZXVlW2lkXTtcblx0ICAgIGRlbGV0ZSBxdWV1ZVtpZF07XG5cdCAgICBmbigpO1xuXHQgIH1cblx0fTtcblx0dmFyIGxpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQpe1xuXHQgIHJ1bi5jYWxsKGV2ZW50LmRhdGEpO1xuXHR9O1xuXHQvLyBOb2RlLmpzIDAuOSsgJiBJRTEwKyBoYXMgc2V0SW1tZWRpYXRlLCBvdGhlcndpc2U6XG5cdGlmKCFzZXRUYXNrIHx8ICFjbGVhclRhc2spe1xuXHQgIHNldFRhc2sgPSBmdW5jdGlvbiBzZXRJbW1lZGlhdGUoZm4pe1xuXHQgICAgdmFyIGFyZ3MgPSBbXSwgaSA9IDE7XG5cdCAgICB3aGlsZShhcmd1bWVudHMubGVuZ3RoID4gaSlhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuXHQgICAgcXVldWVbKytjb3VudGVyXSA9IGZ1bmN0aW9uKCl7XG5cdCAgICAgIGludm9rZSh0eXBlb2YgZm4gPT0gJ2Z1bmN0aW9uJyA/IGZuIDogRnVuY3Rpb24oZm4pLCBhcmdzKTtcblx0ICAgIH07XG5cdCAgICBkZWZlcihjb3VudGVyKTtcblx0ICAgIHJldHVybiBjb3VudGVyO1xuXHQgIH07XG5cdCAgY2xlYXJUYXNrID0gZnVuY3Rpb24gY2xlYXJJbW1lZGlhdGUoaWQpe1xuXHQgICAgZGVsZXRlIHF1ZXVlW2lkXTtcblx0ICB9O1xuXHQgIC8vIE5vZGUuanMgMC44LVxuXHQgIGlmKF9fd2VicGFja19yZXF1aXJlX18oMjkpKHByb2Nlc3MpID09ICdwcm9jZXNzJyl7XG5cdCAgICBkZWZlciA9IGZ1bmN0aW9uKGlkKXtcblx0ICAgICAgcHJvY2Vzcy5uZXh0VGljayhjdHgocnVuLCBpZCwgMSkpO1xuXHQgICAgfTtcblx0ICAvLyBCcm93c2VycyB3aXRoIE1lc3NhZ2VDaGFubmVsLCBpbmNsdWRlcyBXZWJXb3JrZXJzXG5cdCAgfSBlbHNlIGlmKE1lc3NhZ2VDaGFubmVsKXtcblx0ICAgIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWw7XG5cdCAgICBwb3J0ICAgID0gY2hhbm5lbC5wb3J0Mjtcblx0ICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gbGlzdGVuZXI7XG5cdCAgICBkZWZlciA9IGN0eChwb3J0LnBvc3RNZXNzYWdlLCBwb3J0LCAxKTtcblx0ICAvLyBCcm93c2VycyB3aXRoIHBvc3RNZXNzYWdlLCBza2lwIFdlYldvcmtlcnNcblx0ICAvLyBJRTggaGFzIHBvc3RNZXNzYWdlLCBidXQgaXQncyBzeW5jICYgdHlwZW9mIGl0cyBwb3N0TWVzc2FnZSBpcyAnb2JqZWN0J1xuXHQgIH0gZWxzZSBpZihnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lciAmJiB0eXBlb2YgcG9zdE1lc3NhZ2UgPT0gJ2Z1bmN0aW9uJyAmJiAhZ2xvYmFsLmltcG9ydFNjcmlwdHMpe1xuXHQgICAgZGVmZXIgPSBmdW5jdGlvbihpZCl7XG5cdCAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShpZCArICcnLCAnKicpO1xuXHQgICAgfTtcblx0ICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgbGlzdGVuZXIsIGZhbHNlKTtcblx0ICAvLyBJRTgtXG5cdCAgfSBlbHNlIGlmKE9OUkVBRFlTVEFURUNIQU5HRSBpbiBjZWwoJ3NjcmlwdCcpKXtcblx0ICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpe1xuXHQgICAgICBodG1sLmFwcGVuZENoaWxkKGNlbCgnc2NyaXB0JykpW09OUkVBRFlTVEFURUNIQU5HRV0gPSBmdW5jdGlvbigpe1xuXHQgICAgICAgIGh0bWwucmVtb3ZlQ2hpbGQodGhpcyk7XG5cdCAgICAgICAgcnVuLmNhbGwoaWQpO1xuXHQgICAgICB9O1xuXHQgICAgfTtcblx0ICAvLyBSZXN0IG9sZCBicm93c2Vyc1xuXHQgIH0gZWxzZSB7XG5cdCAgICBkZWZlciA9IGZ1bmN0aW9uKGlkKXtcblx0ICAgICAgc2V0VGltZW91dChjdHgocnVuLCBpZCwgMSksIDApO1xuXHQgICAgfTtcblx0ICB9XG5cdH1cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgc2V0OiAgIHNldFRhc2ssXG5cdCAgY2xlYXI6IGNsZWFyVGFza1xuXHR9O1xuXG4vKioqLyB9LFxuLyogODYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIGZhc3QgYXBwbHksIGh0dHA6Ly9qc3BlcmYubG5raXQuY29tL2Zhc3QtYXBwbHkvNVxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuLCBhcmdzLCB0aGF0KXtcblx0ICB2YXIgdW4gPSB0aGF0ID09PSB1bmRlZmluZWQ7XG5cdCAgc3dpdGNoKGFyZ3MubGVuZ3RoKXtcblx0ICAgIGNhc2UgMDogcmV0dXJuIHVuID8gZm4oKVxuXHQgICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQpO1xuXHQgICAgY2FzZSAxOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdKVxuXHQgICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0pO1xuXHQgICAgY2FzZSAyOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdKVxuXHQgICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuXHQgICAgY2FzZSAzOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKVxuXHQgICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuXHQgICAgY2FzZSA0OiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKVxuXHQgICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pO1xuXHQgIH0gcmV0dXJuICAgICAgICAgICAgICBmbi5hcHBseSh0aGF0LCBhcmdzKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDg3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgZ2xvYmFsICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMClcblx0ICAsIG1hY3JvdGFzayA9IF9fd2VicGFja19yZXF1aXJlX18oODUpLnNldFxuXHQgICwgT2JzZXJ2ZXIgID0gZ2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgZ2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXJcblx0ICAsIHByb2Nlc3MgICA9IGdsb2JhbC5wcm9jZXNzXG5cdCAgLCBQcm9taXNlICAgPSBnbG9iYWwuUHJvbWlzZVxuXHQgICwgaXNOb2RlICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSkocHJvY2VzcykgPT0gJ3Byb2Nlc3MnO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpe1xuXHQgIHZhciBoZWFkLCBsYXN0LCBub3RpZnk7XG5cdFxuXHQgIHZhciBmbHVzaCA9IGZ1bmN0aW9uKCl7XG5cdCAgICB2YXIgcGFyZW50LCBmbjtcblx0ICAgIGlmKGlzTm9kZSAmJiAocGFyZW50ID0gcHJvY2Vzcy5kb21haW4pKXBhcmVudC5leGl0KCk7XG5cdCAgICB3aGlsZShoZWFkKXtcblx0ICAgICAgZm4gICA9IGhlYWQuZm47XG5cdCAgICAgIGhlYWQgPSBoZWFkLm5leHQ7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgZm4oKTtcblx0ICAgICAgfSBjYXRjaChlKXtcblx0ICAgICAgICBpZihoZWFkKW5vdGlmeSgpO1xuXHQgICAgICAgIGVsc2UgbGFzdCA9IHVuZGVmaW5lZDtcblx0ICAgICAgICB0aHJvdyBlO1xuXHQgICAgICB9XG5cdCAgICB9IGxhc3QgPSB1bmRlZmluZWQ7XG5cdCAgICBpZihwYXJlbnQpcGFyZW50LmVudGVyKCk7XG5cdCAgfTtcblx0XG5cdCAgLy8gTm9kZS5qc1xuXHQgIGlmKGlzTm9kZSl7XG5cdCAgICBub3RpZnkgPSBmdW5jdGlvbigpe1xuXHQgICAgICBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTtcblx0ICAgIH07XG5cdCAgLy8gYnJvd3NlcnMgd2l0aCBNdXRhdGlvbk9ic2VydmVyXG5cdCAgfSBlbHNlIGlmKE9ic2VydmVyKXtcblx0ICAgIHZhciB0b2dnbGUgPSB0cnVlXG5cdCAgICAgICwgbm9kZSAgID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuXHQgICAgbmV3IE9ic2VydmVyKGZsdXNoKS5vYnNlcnZlKG5vZGUsIHtjaGFyYWN0ZXJEYXRhOiB0cnVlfSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG5cdCAgICBub3RpZnkgPSBmdW5jdGlvbigpe1xuXHQgICAgICBub2RlLmRhdGEgPSB0b2dnbGUgPSAhdG9nZ2xlO1xuXHQgICAgfTtcblx0ICAvLyBlbnZpcm9ubWVudHMgd2l0aCBtYXliZSBub24tY29tcGxldGVseSBjb3JyZWN0LCBidXQgZXhpc3RlbnQgUHJvbWlzZVxuXHQgIH0gZWxzZSBpZihQcm9taXNlICYmIFByb21pc2UucmVzb2x2ZSl7XG5cdCAgICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuXHQgICAgbm90aWZ5ID0gZnVuY3Rpb24oKXtcblx0ICAgICAgcHJvbWlzZS50aGVuKGZsdXNoKTtcblx0ICAgIH07XG5cdCAgLy8gZm9yIG90aGVyIGVudmlyb25tZW50cyAtIG1hY3JvdGFzayBiYXNlZCBvbjpcblx0ICAvLyAtIHNldEltbWVkaWF0ZVxuXHQgIC8vIC0gTWVzc2FnZUNoYW5uZWxcblx0ICAvLyAtIHdpbmRvdy5wb3N0TWVzc2FnXG5cdCAgLy8gLSBvbnJlYWR5c3RhdGVjaGFuZ2Vcblx0ICAvLyAtIHNldFRpbWVvdXRcblx0ICB9IGVsc2Uge1xuXHQgICAgbm90aWZ5ID0gZnVuY3Rpb24oKXtcblx0ICAgICAgLy8gc3RyYW5nZSBJRSArIHdlYnBhY2sgZGV2IHNlcnZlciBidWcgLSB1c2UgLmNhbGwoZ2xvYmFsKVxuXHQgICAgICBtYWNyb3Rhc2suY2FsbChnbG9iYWwsIGZsdXNoKTtcblx0ICAgIH07XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gZnVuY3Rpb24oZm4pe1xuXHQgICAgdmFyIHRhc2sgPSB7Zm46IGZuLCBuZXh0OiB1bmRlZmluZWR9O1xuXHQgICAgaWYobGFzdClsYXN0Lm5leHQgPSB0YXNrO1xuXHQgICAgaWYoIWhlYWQpe1xuXHQgICAgICBoZWFkID0gdGFzaztcblx0ICAgICAgbm90aWZ5KCk7XG5cdCAgICB9IGxhc3QgPSB0YXNrO1xuXHQgIH07XG5cdH07XG5cbi8qKiovIH0sXG4vKiA4OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGhpZGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih0YXJnZXQsIHNyYywgc2FmZSl7XG5cdCAgZm9yKHZhciBrZXkgaW4gc3JjKXtcblx0ICAgIGlmKHNhZmUgJiYgdGFyZ2V0W2tleV0pdGFyZ2V0W2tleV0gPSBzcmNba2V5XTtcblx0ICAgIGVsc2UgaGlkZSh0YXJnZXQsIGtleSwgc3JjW2tleV0pO1xuXHQgIH0gcmV0dXJuIHRhcmdldDtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDg5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdHZhciBnbG9iYWwgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTApXG5cdCAgLCBjb3JlICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNSlcblx0ICAsIGRQICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNClcblx0ICAsIERFU0NSSVBUT1JTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOClcblx0ICAsIFNQRUNJRVMgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MSkoJ3NwZWNpZXMnKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oS0VZKXtcblx0ICB2YXIgQyA9IHR5cGVvZiBjb3JlW0tFWV0gPT0gJ2Z1bmN0aW9uJyA/IGNvcmVbS0VZXSA6IGdsb2JhbFtLRVldO1xuXHQgIGlmKERFU0NSSVBUT1JTICYmIEMgJiYgIUNbU1BFQ0lFU10pZFAuZihDLCBTUEVDSUVTLCB7XG5cdCAgICBjb25maWd1cmFibGU6IHRydWUsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzOyB9XG5cdCAgfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA5MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIElURVJBVE9SICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpKCdpdGVyYXRvcicpXG5cdCAgLCBTQUZFX0NMT1NJTkcgPSBmYWxzZTtcblx0XG5cdHRyeSB7XG5cdCAgdmFyIHJpdGVyID0gWzddW0lURVJBVE9SXSgpO1xuXHQgIHJpdGVyWydyZXR1cm4nXSA9IGZ1bmN0aW9uKCl7IFNBRkVfQ0xPU0lORyA9IHRydWU7IH07XG5cdCAgQXJyYXkuZnJvbShyaXRlciwgZnVuY3Rpb24oKXsgdGhyb3cgMjsgfSk7XG5cdH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYywgc2tpcENsb3Npbmcpe1xuXHQgIGlmKCFza2lwQ2xvc2luZyAmJiAhU0FGRV9DTE9TSU5HKXJldHVybiBmYWxzZTtcblx0ICB2YXIgc2FmZSA9IGZhbHNlO1xuXHQgIHRyeSB7XG5cdCAgICB2YXIgYXJyICA9IFs3XVxuXHQgICAgICAsIGl0ZXIgPSBhcnJbSVRFUkFUT1JdKCk7XG5cdCAgICBpdGVyLm5leHQgPSBmdW5jdGlvbigpeyByZXR1cm4ge2RvbmU6IHNhZmUgPSB0cnVlfTsgfTtcblx0ICAgIGFycltJVEVSQVRPUl0gPSBmdW5jdGlvbigpeyByZXR1cm4gaXRlcjsgfTtcblx0ICAgIGV4ZWMoYXJyKTtcblx0ICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG5cdCAgcmV0dXJuIHNhZmU7XG5cdH07XG5cbi8qKiovIH1cbi8qKioqKiovIF0pKSk7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogcG9wdXAuanNcbiAqKi8iLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2svYm9vdHN0cmFwIDk5YzY1YWQxOGQwM2MyNTNkNGEzXG4gKiovIiwiKGZ1bmN0aW9uKHNlbGYpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGlmIChzZWxmLmZldGNoKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgc3VwcG9ydCA9IHtcbiAgICBzZWFyY2hQYXJhbXM6ICdVUkxTZWFyY2hQYXJhbXMnIGluIHNlbGYsXG4gICAgaXRlcmFibGU6ICdTeW1ib2wnIGluIHNlbGYgJiYgJ2l0ZXJhdG9yJyBpbiBTeW1ib2wsXG4gICAgYmxvYjogJ0ZpbGVSZWFkZXInIGluIHNlbGYgJiYgJ0Jsb2InIGluIHNlbGYgJiYgKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbmV3IEJsb2IoKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0pKCksXG4gICAgZm9ybURhdGE6ICdGb3JtRGF0YScgaW4gc2VsZixcbiAgICBhcnJheUJ1ZmZlcjogJ0FycmF5QnVmZmVyJyBpbiBzZWxmXG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVOYW1lKG5hbWUpIHtcbiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICBuYW1lID0gU3RyaW5nKG5hbWUpXG4gICAgfVxuICAgIGlmICgvW15hLXowLTlcXC0jJCUmJyorLlxcXl9gfH5dL2kudGVzdChuYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBjaGFyYWN0ZXIgaW4gaGVhZGVyIGZpZWxkIG5hbWUnKVxuICAgIH1cbiAgICByZXR1cm4gbmFtZS50b0xvd2VyQ2FzZSgpXG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSlcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cblxuICAvLyBCdWlsZCBhIGRlc3RydWN0aXZlIGl0ZXJhdG9yIGZvciB0aGUgdmFsdWUgbGlzdFxuICBmdW5jdGlvbiBpdGVyYXRvckZvcihpdGVtcykge1xuICAgIHZhciBpdGVyYXRvciA9IHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBpdGVtcy5zaGlmdCgpXG4gICAgICAgIHJldHVybiB7ZG9uZTogdmFsdWUgPT09IHVuZGVmaW5lZCwgdmFsdWU6IHZhbHVlfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXBwb3J0Lml0ZXJhYmxlKSB7XG4gICAgICBpdGVyYXRvcltTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvclxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpdGVyYXRvclxuICB9XG5cbiAgZnVuY3Rpb24gSGVhZGVycyhoZWFkZXJzKSB7XG4gICAgdGhpcy5tYXAgPSB7fVxuXG4gICAgaWYgKGhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKSB7XG4gICAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQobmFtZSwgdmFsdWUpXG4gICAgICB9LCB0aGlzKVxuXG4gICAgfSBlbHNlIGlmIChoZWFkZXJzKSB7XG4gICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhoZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQobmFtZSwgaGVhZGVyc1tuYW1lXSlcbiAgICAgIH0sIHRoaXMpXG4gICAgfVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKVxuICAgIHZhbHVlID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG4gICAgdmFyIGxpc3QgPSB0aGlzLm1hcFtuYW1lXVxuICAgIGlmICghbGlzdCkge1xuICAgICAgbGlzdCA9IFtdXG4gICAgICB0aGlzLm1hcFtuYW1lXSA9IGxpc3RcbiAgICB9XG4gICAgbGlzdC5wdXNoKHZhbHVlKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGVbJ2RlbGV0ZSddID0gZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHZhciB2YWx1ZXMgPSB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXVxuICAgIHJldHVybiB2YWx1ZXMgPyB2YWx1ZXNbMF0gOiBudWxsXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5nZXRBbGwgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldIHx8IFtdXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwLmhhc093blByb3BlcnR5KG5vcm1hbGl6ZU5hbWUobmFtZSkpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldID0gW25vcm1hbGl6ZVZhbHVlKHZhbHVlKV1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihjYWxsYmFjaywgdGhpc0FyZykge1xuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMubWFwKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHRoaXMubWFwW25hbWVdLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB2YWx1ZSwgbmFtZSwgdGhpcylcbiAgICAgIH0sIHRoaXMpXG4gICAgfSwgdGhpcylcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXRlbXMgPSBbXVxuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkgeyBpdGVtcy5wdXNoKG5hbWUpIH0pXG4gICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW11cbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHsgaXRlbXMucHVzaCh2YWx1ZSkgfSlcbiAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW11cbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHsgaXRlbXMucHVzaChbbmFtZSwgdmFsdWVdKSB9KVxuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfVxuXG4gIGlmIChzdXBwb3J0Lml0ZXJhYmxlKSB7XG4gICAgSGVhZGVycy5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IEhlYWRlcnMucHJvdG90eXBlLmVudHJpZXNcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnN1bWVkKGJvZHkpIHtcbiAgICBpZiAoYm9keS5ib2R5VXNlZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpKVxuICAgIH1cbiAgICBib2R5LmJvZHlVc2VkID0gdHJ1ZVxuICB9XG5cbiAgZnVuY3Rpb24gZmlsZVJlYWRlclJlYWR5KHJlYWRlcikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVzb2x2ZShyZWFkZXIucmVzdWx0KVxuICAgICAgfVxuICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KHJlYWRlci5lcnJvcilcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEJsb2JBc0FycmF5QnVmZmVyKGJsb2IpIHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKVxuICAgIHJldHVybiBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEJsb2JBc1RleHQoYmxvYikge1xuICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gICAgcmVhZGVyLnJlYWRBc1RleHQoYmxvYilcbiAgICByZXR1cm4gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgfVxuXG4gIGZ1bmN0aW9uIEJvZHkoKSB7XG4gICAgdGhpcy5ib2R5VXNlZCA9IGZhbHNlXG5cbiAgICB0aGlzLl9pbml0Qm9keSA9IGZ1bmN0aW9uKGJvZHkpIHtcbiAgICAgIHRoaXMuX2JvZHlJbml0ID0gYm9keVxuICAgICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5ibG9iICYmIEJsb2IucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUJsb2IgPSBib2R5XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuZm9ybURhdGEgJiYgRm9ybURhdGEucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUZvcm1EYXRhID0gYm9keVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5LnRvU3RyaW5nKClcbiAgICAgIH0gZWxzZSBpZiAoIWJvZHkpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSAnJ1xuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyICYmIEFycmF5QnVmZmVyLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIC8vIE9ubHkgc3VwcG9ydCBBcnJheUJ1ZmZlcnMgZm9yIFBPU1QgbWV0aG9kLlxuICAgICAgICAvLyBSZWNlaXZpbmcgQXJyYXlCdWZmZXJzIGhhcHBlbnMgdmlhIEJsb2JzLCBpbnN0ZWFkLlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bnN1cHBvcnRlZCBCb2R5SW5pdCB0eXBlJylcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSkge1xuICAgICAgICBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ3RleHQvcGxhaW47Y2hhcnNldD1VVEYtOCcpXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUJsb2IgJiYgdGhpcy5fYm9keUJsb2IudHlwZSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsIHRoaXMuX2JvZHlCbG9iLnR5cGUpXG4gICAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04JylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXBwb3J0LmJsb2IpIHtcbiAgICAgIHRoaXMuYmxvYiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgICBpZiAocmVqZWN0ZWQpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUJsb2IpXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIGJsb2InKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlUZXh0XSkpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5hcnJheUJ1ZmZlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ibG9iKCkudGhlbihyZWFkQmxvYkFzQXJyYXlCdWZmZXIpXG4gICAgICB9XG5cbiAgICAgIHRoaXMudGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgICBpZiAocmVqZWN0ZWQpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuICAgICAgICAgIHJldHVybiByZWFkQmxvYkFzVGV4dCh0aGlzLl9ib2R5QmxvYilcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgdGV4dCcpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRleHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgICAgcmV0dXJuIHJlamVjdGVkID8gcmVqZWN0ZWQgOiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keVRleHQpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN1cHBvcnQuZm9ybURhdGEpIHtcbiAgICAgIHRoaXMuZm9ybURhdGEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oZGVjb2RlKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuanNvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oSlNPTi5wYXJzZSlcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLy8gSFRUUCBtZXRob2RzIHdob3NlIGNhcGl0YWxpemF0aW9uIHNob3VsZCBiZSBub3JtYWxpemVkXG4gIHZhciBtZXRob2RzID0gWydERUxFVEUnLCAnR0VUJywgJ0hFQUQnLCAnT1BUSU9OUycsICdQT1NUJywgJ1BVVCddXG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplTWV0aG9kKG1ldGhvZCkge1xuICAgIHZhciB1cGNhc2VkID0gbWV0aG9kLnRvVXBwZXJDYXNlKClcbiAgICByZXR1cm4gKG1ldGhvZHMuaW5kZXhPZih1cGNhc2VkKSA+IC0xKSA/IHVwY2FzZWQgOiBtZXRob2RcbiAgfVxuXG4gIGZ1bmN0aW9uIFJlcXVlc3QoaW5wdXQsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuICAgIHZhciBib2R5ID0gb3B0aW9ucy5ib2R5XG4gICAgaWYgKFJlcXVlc3QucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoaW5wdXQpKSB7XG4gICAgICBpZiAoaW5wdXQuYm9keVVzZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJylcbiAgICAgIH1cbiAgICAgIHRoaXMudXJsID0gaW5wdXQudXJsXG4gICAgICB0aGlzLmNyZWRlbnRpYWxzID0gaW5wdXQuY3JlZGVudGlhbHNcbiAgICAgIGlmICghb3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKGlucHV0LmhlYWRlcnMpXG4gICAgICB9XG4gICAgICB0aGlzLm1ldGhvZCA9IGlucHV0Lm1ldGhvZFxuICAgICAgdGhpcy5tb2RlID0gaW5wdXQubW9kZVxuICAgICAgaWYgKCFib2R5KSB7XG4gICAgICAgIGJvZHkgPSBpbnB1dC5fYm9keUluaXRcbiAgICAgICAgaW5wdXQuYm9keVVzZWQgPSB0cnVlXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudXJsID0gaW5wdXRcbiAgICB9XG5cbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gb3B0aW9ucy5jcmVkZW50aWFscyB8fCB0aGlzLmNyZWRlbnRpYWxzIHx8ICdvbWl0J1xuICAgIGlmIChvcHRpb25zLmhlYWRlcnMgfHwgIXRoaXMuaGVhZGVycykge1xuICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICAgIH1cbiAgICB0aGlzLm1ldGhvZCA9IG5vcm1hbGl6ZU1ldGhvZChvcHRpb25zLm1ldGhvZCB8fCB0aGlzLm1ldGhvZCB8fCAnR0VUJylcbiAgICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgfHwgdGhpcy5tb2RlIHx8IG51bGxcbiAgICB0aGlzLnJlZmVycmVyID0gbnVsbFxuXG4gICAgaWYgKCh0aGlzLm1ldGhvZCA9PT0gJ0dFVCcgfHwgdGhpcy5tZXRob2QgPT09ICdIRUFEJykgJiYgYm9keSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQm9keSBub3QgYWxsb3dlZCBmb3IgR0VUIG9yIEhFQUQgcmVxdWVzdHMnKVxuICAgIH1cbiAgICB0aGlzLl9pbml0Qm9keShib2R5KVxuICB9XG5cbiAgUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFJlcXVlc3QodGhpcylcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlY29kZShib2R5KSB7XG4gICAgdmFyIGZvcm0gPSBuZXcgRm9ybURhdGEoKVxuICAgIGJvZHkudHJpbSgpLnNwbGl0KCcmJykuZm9yRWFjaChmdW5jdGlvbihieXRlcykge1xuICAgICAgaWYgKGJ5dGVzKSB7XG4gICAgICAgIHZhciBzcGxpdCA9IGJ5dGVzLnNwbGl0KCc9JylcbiAgICAgICAgdmFyIG5hbWUgPSBzcGxpdC5zaGlmdCgpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG4gICAgICAgIHZhciB2YWx1ZSA9IHNwbGl0LmpvaW4oJz0nKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuICAgICAgICBmb3JtLmFwcGVuZChkZWNvZGVVUklDb21wb25lbnQobmFtZSksIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gZm9ybVxuICB9XG5cbiAgZnVuY3Rpb24gaGVhZGVycyh4aHIpIHtcbiAgICB2YXIgaGVhZCA9IG5ldyBIZWFkZXJzKClcbiAgICB2YXIgcGFpcnMgPSAoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpIHx8ICcnKS50cmltKCkuc3BsaXQoJ1xcbicpXG4gICAgcGFpcnMuZm9yRWFjaChmdW5jdGlvbihoZWFkZXIpIHtcbiAgICAgIHZhciBzcGxpdCA9IGhlYWRlci50cmltKCkuc3BsaXQoJzonKVxuICAgICAgdmFyIGtleSA9IHNwbGl0LnNoaWZ0KCkudHJpbSgpXG4gICAgICB2YXIgdmFsdWUgPSBzcGxpdC5qb2luKCc6JykudHJpbSgpXG4gICAgICBoZWFkLmFwcGVuZChrZXksIHZhbHVlKVxuICAgIH0pXG4gICAgcmV0dXJuIGhlYWRcbiAgfVxuXG4gIEJvZHkuY2FsbChSZXF1ZXN0LnByb3RvdHlwZSlcblxuICBmdW5jdGlvbiBSZXNwb25zZShib2R5SW5pdCwgb3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IHt9XG4gICAgfVxuXG4gICAgdGhpcy50eXBlID0gJ2RlZmF1bHQnXG4gICAgdGhpcy5zdGF0dXMgPSBvcHRpb25zLnN0YXR1c1xuICAgIHRoaXMub2sgPSB0aGlzLnN0YXR1cyA+PSAyMDAgJiYgdGhpcy5zdGF0dXMgPCAzMDBcbiAgICB0aGlzLnN0YXR1c1RleHQgPSBvcHRpb25zLnN0YXR1c1RleHRcbiAgICB0aGlzLmhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzID8gb3B0aW9ucy5oZWFkZXJzIDogbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICAgIHRoaXMudXJsID0gb3B0aW9ucy51cmwgfHwgJydcbiAgICB0aGlzLl9pbml0Qm9keShib2R5SW5pdClcbiAgfVxuXG4gIEJvZHkuY2FsbChSZXNwb25zZS5wcm90b3R5cGUpXG5cbiAgUmVzcG9uc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZSh0aGlzLl9ib2R5SW5pdCwge1xuICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICAgIHN0YXR1c1RleHQ6IHRoaXMuc3RhdHVzVGV4dCxcbiAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHRoaXMuaGVhZGVycyksXG4gICAgICB1cmw6IHRoaXMudXJsXG4gICAgfSlcbiAgfVxuXG4gIFJlc3BvbnNlLmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IDAsIHN0YXR1c1RleHQ6ICcnfSlcbiAgICByZXNwb25zZS50eXBlID0gJ2Vycm9yJ1xuICAgIHJldHVybiByZXNwb25zZVxuICB9XG5cbiAgdmFyIHJlZGlyZWN0U3RhdHVzZXMgPSBbMzAxLCAzMDIsIDMwMywgMzA3LCAzMDhdXG5cbiAgUmVzcG9uc2UucmVkaXJlY3QgPSBmdW5jdGlvbih1cmwsIHN0YXR1cykge1xuICAgIGlmIChyZWRpcmVjdFN0YXR1c2VzLmluZGV4T2Yoc3RhdHVzKSA9PT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHN0YXR1cyBjb2RlJylcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IHN0YXR1cywgaGVhZGVyczoge2xvY2F0aW9uOiB1cmx9fSlcbiAgfVxuXG4gIHNlbGYuSGVhZGVycyA9IEhlYWRlcnNcbiAgc2VsZi5SZXF1ZXN0ID0gUmVxdWVzdFxuICBzZWxmLlJlc3BvbnNlID0gUmVzcG9uc2VcblxuICBzZWxmLmZldGNoID0gZnVuY3Rpb24oaW5wdXQsIGluaXQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVxdWVzdFxuICAgICAgaWYgKFJlcXVlc3QucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoaW5wdXQpICYmICFpbml0KSB7XG4gICAgICAgIHJlcXVlc3QgPSBpbnB1dFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KGlucHV0LCBpbml0KVxuICAgICAgfVxuXG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcblxuICAgICAgZnVuY3Rpb24gcmVzcG9uc2VVUkwoKSB7XG4gICAgICAgIGlmICgncmVzcG9uc2VVUkwnIGluIHhocikge1xuICAgICAgICAgIHJldHVybiB4aHIucmVzcG9uc2VVUkxcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEF2b2lkIHNlY3VyaXR5IHdhcm5pbmdzIG9uIGdldFJlc3BvbnNlSGVhZGVyIHdoZW4gbm90IGFsbG93ZWQgYnkgQ09SU1xuICAgICAgICBpZiAoL15YLVJlcXVlc3QtVVJMOi9tLnRlc3QoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSkge1xuICAgICAgICAgIHJldHVybiB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ1gtUmVxdWVzdC1VUkwnKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzLFxuICAgICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoeGhyKSxcbiAgICAgICAgICB1cmw6IHJlc3BvbnNlVVJMKClcbiAgICAgICAgfVxuICAgICAgICB2YXIgYm9keSA9ICdyZXNwb25zZScgaW4geGhyID8geGhyLnJlc3BvbnNlIDogeGhyLnJlc3BvbnNlVGV4dFxuICAgICAgICByZXNvbHZlKG5ldyBSZXNwb25zZShib2R5LCBvcHRpb25zKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuICAgICAgfVxuXG4gICAgICB4aHIub3BlbihyZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC51cmwsIHRydWUpXG5cbiAgICAgIGlmIChyZXF1ZXN0LmNyZWRlbnRpYWxzID09PSAnaW5jbHVkZScpIHtcbiAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWVcbiAgICAgIH1cblxuICAgICAgaWYgKCdyZXNwb25zZVR5cGUnIGluIHhociAmJiBzdXBwb3J0LmJsb2IpIHtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJ1xuICAgICAgfVxuXG4gICAgICByZXF1ZXN0LmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihuYW1lLCB2YWx1ZSlcbiAgICAgIH0pXG5cbiAgICAgIHhoci5zZW5kKHR5cGVvZiByZXF1ZXN0Ll9ib2R5SW5pdCA9PT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogcmVxdWVzdC5fYm9keUluaXQpXG4gICAgfSlcbiAgfVxuICBzZWxmLmZldGNoLnBvbHlmaWxsID0gdHJ1ZVxufSkodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMpO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vd2hhdHdnLWZldGNoL2ZldGNoLmpzXG4gKiogbW9kdWxlIGlkID0gMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCJ2YXIgY29yZSA9IG1vZHVsZS5leHBvcnRzID0ge3ZlcnNpb246ICcyLjQuMCd9O1xuaWYodHlwZW9mIF9fZSA9PSAnbnVtYmVyJylfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvcmUuanNcbiAqKiBtb2R1bGUgaWQgPSA1XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsInZhciBnbG9iYWwgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGNvcmUgICAgICA9IHJlcXVpcmUoJy4vX2NvcmUnKVxuICAsIGN0eCAgICAgICA9IHJlcXVpcmUoJy4vX2N0eCcpXG4gICwgaGlkZSAgICAgID0gcmVxdWlyZSgnLi9faGlkZScpXG4gICwgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG5cbnZhciAkZXhwb3J0ID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgc291cmNlKXtcbiAgdmFyIElTX0ZPUkNFRCA9IHR5cGUgJiAkZXhwb3J0LkZcbiAgICAsIElTX0dMT0JBTCA9IHR5cGUgJiAkZXhwb3J0LkdcbiAgICAsIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlNcbiAgICAsIElTX1BST1RPICA9IHR5cGUgJiAkZXhwb3J0LlBcbiAgICAsIElTX0JJTkQgICA9IHR5cGUgJiAkZXhwb3J0LkJcbiAgICAsIElTX1dSQVAgICA9IHR5cGUgJiAkZXhwb3J0LldcbiAgICAsIGV4cG9ydHMgICA9IElTX0dMT0JBTCA/IGNvcmUgOiBjb3JlW25hbWVdIHx8IChjb3JlW25hbWVdID0ge30pXG4gICAgLCBleHBQcm90byAgPSBleHBvcnRzW1BST1RPVFlQRV1cbiAgICAsIHRhcmdldCAgICA9IElTX0dMT0JBTCA/IGdsb2JhbCA6IElTX1NUQVRJQyA/IGdsb2JhbFtuYW1lXSA6IChnbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV1cbiAgICAsIGtleSwgb3duLCBvdXQ7XG4gIGlmKElTX0dMT0JBTClzb3VyY2UgPSBuYW1lO1xuICBmb3Ioa2V5IGluIHNvdXJjZSl7XG4gICAgLy8gY29udGFpbnMgaW4gbmF0aXZlXG4gICAgb3duID0gIUlTX0ZPUkNFRCAmJiB0YXJnZXQgJiYgdGFyZ2V0W2tleV0gIT09IHVuZGVmaW5lZDtcbiAgICBpZihvd24gJiYga2V5IGluIGV4cG9ydHMpY29udGludWU7XG4gICAgLy8gZXhwb3J0IG5hdGl2ZSBvciBwYXNzZWRcbiAgICBvdXQgPSBvd24gPyB0YXJnZXRba2V5XSA6IHNvdXJjZVtrZXldO1xuICAgIC8vIHByZXZlbnQgZ2xvYmFsIHBvbGx1dGlvbiBmb3IgbmFtZXNwYWNlc1xuICAgIGV4cG9ydHNba2V5XSA9IElTX0dMT0JBTCAmJiB0eXBlb2YgdGFyZ2V0W2tleV0gIT0gJ2Z1bmN0aW9uJyA/IHNvdXJjZVtrZXldXG4gICAgLy8gYmluZCB0aW1lcnMgdG8gZ2xvYmFsIGZvciBjYWxsIGZyb20gZXhwb3J0IGNvbnRleHRcbiAgICA6IElTX0JJTkQgJiYgb3duID8gY3R4KG91dCwgZ2xvYmFsKVxuICAgIC8vIHdyYXAgZ2xvYmFsIGNvbnN0cnVjdG9ycyBmb3IgcHJldmVudCBjaGFuZ2UgdGhlbSBpbiBsaWJyYXJ5XG4gICAgOiBJU19XUkFQICYmIHRhcmdldFtrZXldID09IG91dCA/IChmdW5jdGlvbihDKXtcbiAgICAgIHZhciBGID0gZnVuY3Rpb24oYSwgYiwgYyl7XG4gICAgICAgIGlmKHRoaXMgaW5zdGFuY2VvZiBDKXtcbiAgICAgICAgICBzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7XG4gICAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQztcbiAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG5ldyBDKGEpO1xuICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gbmV3IEMoYSwgYik7XG4gICAgICAgICAgfSByZXR1cm4gbmV3IEMoYSwgYiwgYyk7XG4gICAgICAgIH0gcmV0dXJuIEMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgICBGW1BST1RPVFlQRV0gPSBDW1BST1RPVFlQRV07XG4gICAgICByZXR1cm4gRjtcbiAgICAvLyBtYWtlIHN0YXRpYyB2ZXJzaW9ucyBmb3IgcHJvdG90eXBlIG1ldGhvZHNcbiAgICB9KShvdXQpIDogSVNfUFJPVE8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG4gICAgLy8gZXhwb3J0IHByb3RvIG1ldGhvZHMgdG8gY29yZS4lQ09OU1RSVUNUT1IlLm1ldGhvZHMuJU5BTUUlXG4gICAgaWYoSVNfUFJPVE8pe1xuICAgICAgKGV4cG9ydHMudmlydHVhbCB8fCAoZXhwb3J0cy52aXJ0dWFsID0ge30pKVtrZXldID0gb3V0O1xuICAgICAgLy8gZXhwb3J0IHByb3RvIG1ldGhvZHMgdG8gY29yZS4lQ09OU1RSVUNUT1IlLnByb3RvdHlwZS4lTkFNRSVcbiAgICAgIGlmKHR5cGUgJiAkZXhwb3J0LlIgJiYgZXhwUHJvdG8gJiYgIWV4cFByb3RvW2tleV0paGlkZShleHBQcm90bywga2V5LCBvdXQpO1xuICAgIH1cbiAgfVxufTtcbi8vIHR5cGUgYml0bWFwXG4kZXhwb3J0LkYgPSAxOyAgIC8vIGZvcmNlZFxuJGV4cG9ydC5HID0gMjsgICAvLyBnbG9iYWxcbiRleHBvcnQuUyA9IDQ7ICAgLy8gc3RhdGljXG4kZXhwb3J0LlAgPSA4OyAgIC8vIHByb3RvXG4kZXhwb3J0LkIgPSAxNjsgIC8vIGJpbmRcbiRleHBvcnQuVyA9IDMyOyAgLy8gd3JhcFxuJGV4cG9ydC5VID0gNjQ7ICAvLyBzYWZlXG4kZXhwb3J0LlIgPSAxMjg7IC8vIHJlYWwgcHJvdG8gbWV0aG9kIGZvciBgbGlicmFyeWAgXG5tb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2V4cG9ydC5qc1xuICoqIG1vZHVsZSBpZCA9IDlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzg2I2lzc3VlY29tbWVudC0xMTU3NTkwMjhcbnZhciBnbG9iYWwgPSBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lk1hdGggPT0gTWF0aFxuICA/IHdpbmRvdyA6IHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnICYmIHNlbGYuTWF0aCA9PSBNYXRoID8gc2VsZiA6IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5pZih0eXBlb2YgX19nID09ICdudW1iZXInKV9fZyA9IGdsb2JhbDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19nbG9iYWwuanNcbiAqKiBtb2R1bGUgaWQgPSAxMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCIvLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuLCB0aGF0LCBsZW5ndGgpe1xuICBhRnVuY3Rpb24oZm4pO1xuICBpZih0aGF0ID09PSB1bmRlZmluZWQpcmV0dXJuIGZuO1xuICBzd2l0Y2gobGVuZ3RoKXtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbihhKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuICAgIH07XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24oYSwgYil7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcbiAgICB9O1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKGEsIGIsIGMpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24oLyogLi4uYXJncyAqLyl7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gIH07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jdHguanNcbiAqKiBtb2R1bGUgaWQgPSAxMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYS1mdW5jdGlvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDEyXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsInZhciBkUCAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJylcbiAgLCBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXtcbiAgcmV0dXJuIGRQLmYob2JqZWN0LCBrZXksIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcbn0gOiBmdW5jdGlvbihvYmplY3QsIGtleSwgdmFsdWUpe1xuICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICByZXR1cm4gb2JqZWN0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGlkZS5qc1xuICoqIG1vZHVsZSBpZCA9IDEzXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsInZhciBhbk9iamVjdCAgICAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuL19pZTgtZG9tLWRlZmluZScpXG4gICwgdG9QcmltaXRpdmUgICAgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKVxuICAsIGRQICAgICAgICAgICAgID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXG5leHBvcnRzLmYgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gT2JqZWN0LmRlZmluZVByb3BlcnR5IDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcyl7XG4gIGFuT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGFuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuICBpZihJRThfRE9NX0RFRklORSl0cnkge1xuICAgIHJldHVybiBkUChPLCBQLCBBdHRyaWJ1dGVzKTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuICBpZignZ2V0JyBpbiBBdHRyaWJ1dGVzIHx8ICdzZXQnIGluIEF0dHJpYnV0ZXMpdGhyb3cgVHlwZUVycm9yKCdBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCEnKTtcbiAgaWYoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKU9bUF0gPSBBdHRyaWJ1dGVzLnZhbHVlO1xuICByZXR1cm4gTztcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcC5qc1xuICoqIG1vZHVsZSBpZCA9IDE0XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKCFpc09iamVjdChpdCkpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYW4gb2JqZWN0IScpO1xuICByZXR1cm4gaXQ7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1vYmplY3QuanNcbiAqKiBtb2R1bGUgaWQgPSAxNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PT0gJ29iamVjdCcgPyBpdCAhPT0gbnVsbCA6IHR5cGVvZiBpdCA9PT0gJ2Z1bmN0aW9uJztcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLW9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDE2XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgJiYgIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2RpdicpLCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiA3OyB9fSkuYSAhPSA3O1xufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2llOC1kb20tZGVmaW5lLmpzXG4gKiogbW9kdWxlIGlkID0gMTdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwiLy8gVGhhbmsncyBJRTggZm9yIGhpcyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxubW9kdWxlLmV4cG9ydHMgPSAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbigpe1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiA3OyB9fSkuYSAhPSA3O1xufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Rlc2NyaXB0b3JzLmpzXG4gKiogbW9kdWxlIGlkID0gMThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihleGVjKXtcbiAgdHJ5IHtcbiAgICByZXR1cm4gISFleGVjKCk7XG4gIH0gY2F0Y2goZSl7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2ZhaWxzLmpzXG4gKiogbW9kdWxlIGlkID0gMTlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBkb2N1bWVudCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLmRvY3VtZW50XG4gIC8vIGluIG9sZCBJRSB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0J1xuICAsIGlzID0gaXNPYmplY3QoZG9jdW1lbnQpICYmIGlzT2JqZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpcyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kb20tY3JlYXRlLmpzXG4gKiogbW9kdWxlIGlkID0gMjBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwiLy8gNy4xLjEgVG9QcmltaXRpdmUoaW5wdXQgWywgUHJlZmVycmVkVHlwZV0pXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbi8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlXG4vLyBhbmQgdGhlIHNlY29uZCBhcmd1bWVudCAtIGZsYWcgLSBwcmVmZXJyZWQgdHlwZSBpcyBhIHN0cmluZ1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgUyl7XG4gIGlmKCFpc09iamVjdChpdCkpcmV0dXJuIGl0O1xuICB2YXIgZm4sIHZhbDtcbiAgaWYoUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuICBpZih0eXBlb2YgKGZuID0gaXQudmFsdWVPZikgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG4gIGlmKCFTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG4gIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLXByaW1pdGl2ZS5qc1xuICoqIG1vZHVsZSBpZCA9IDIxXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYml0bWFwLCB2YWx1ZSl7XG4gIHJldHVybiB7XG4gICAgZW51bWVyYWJsZSAgOiAhKGJpdG1hcCAmIDEpLFxuICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSxcbiAgICB3cml0YWJsZSAgICA6ICEoYml0bWFwICYgNCksXG4gICAgdmFsdWUgICAgICAgOiB2YWx1ZVxuICB9O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcHJvcGVydHktZGVzYy5qc1xuICoqIG1vZHVsZSBpZCA9IDIyXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsIi8vIDE5LjEuMi4xNCAvIDE1LjIuMy4xNCBPYmplY3Qua2V5cyhPKVxudmFyICRrZXlzICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwnKVxuICAsIGVudW1CdWdLZXlzID0gcmVxdWlyZSgnLi9fZW51bS1idWcta2V5cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIGtleXMoTyl7XG4gIHJldHVybiAka2V5cyhPLCBlbnVtQnVnS2V5cyk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy5qc1xuICoqIG1vZHVsZSBpZCA9IDI0XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsInZhciBoYXMgICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIHRvSU9iamVjdCAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxuICAsIGFycmF5SW5kZXhPZiA9IHJlcXVpcmUoJy4vX2FycmF5LWluY2x1ZGVzJykoZmFsc2UpXG4gICwgSUVfUFJPVE8gICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iamVjdCwgbmFtZXMpe1xuICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KG9iamVjdClcbiAgICAsIGkgICAgICA9IDBcbiAgICAsIHJlc3VsdCA9IFtdXG4gICAgLCBrZXk7XG4gIGZvcihrZXkgaW4gTylpZihrZXkgIT0gSUVfUFJPVE8paGFzKE8sIGtleSkgJiYgcmVzdWx0LnB1c2goa2V5KTtcbiAgLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5c1xuICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKWlmKGhhcyhPLCBrZXkgPSBuYW1lc1tpKytdKSl7XG4gICAgfmFycmF5SW5kZXhPZihyZXN1bHQsIGtleSkgfHwgcmVzdWx0LnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMtaW50ZXJuYWwuanNcbiAqKiBtb2R1bGUgaWQgPSAyNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCJ2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIGtleSl7XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGl0LCBrZXkpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGFzLmpzXG4gKiogbW9kdWxlIGlkID0gMjZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwiLy8gdG8gaW5kZXhlZCBvYmplY3QsIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzXG52YXIgSU9iamVjdCA9IHJlcXVpcmUoJy4vX2lvYmplY3QnKVxuICAsIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIElPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDI3XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsIi8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdCgneicpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApID8gT2JqZWN0IDogZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gY29mKGl0KSA9PSAnU3RyaW5nJyA/IGl0LnNwbGl0KCcnKSA6IE9iamVjdChpdCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pb2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMjhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwidmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChpdCkuc2xpY2UoOCwgLTEpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29mLmpzXG4gKiogbW9kdWxlIGlkID0gMjlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwiLy8gNy4yLjEgUmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudClcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICBpZihpdCA9PSB1bmRlZmluZWQpdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuICByZXR1cm4gaXQ7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZWZpbmVkLmpzXG4gKiogbW9kdWxlIGlkID0gMzBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwiLy8gZmFsc2UgLT4gQXJyYXkjaW5kZXhPZlxuLy8gdHJ1ZSAgLT4gQXJyYXkjaW5jbHVkZXNcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcbiAgLCB0b0xlbmd0aCAgPSByZXF1aXJlKCcuL190by1sZW5ndGgnKVxuICAsIHRvSW5kZXggICA9IHJlcXVpcmUoJy4vX3RvLWluZGV4Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKElTX0lOQ0xVREVTKXtcbiAgcmV0dXJuIGZ1bmN0aW9uKCR0aGlzLCBlbCwgZnJvbUluZGV4KXtcbiAgICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KCR0aGlzKVxuICAgICAgLCBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aClcbiAgICAgICwgaW5kZXggID0gdG9JbmRleChmcm9tSW5kZXgsIGxlbmd0aClcbiAgICAgICwgdmFsdWU7XG4gICAgLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobVxuICAgIGlmKElTX0lOQ0xVREVTICYmIGVsICE9IGVsKXdoaWxlKGxlbmd0aCA+IGluZGV4KXtcbiAgICAgIHZhbHVlID0gT1tpbmRleCsrXTtcbiAgICAgIGlmKHZhbHVlICE9IHZhbHVlKXJldHVybiB0cnVlO1xuICAgIC8vIEFycmF5I3RvSW5kZXggaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3RcbiAgICB9IGVsc2UgZm9yKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKylpZihJU19JTkNMVURFUyB8fCBpbmRleCBpbiBPKXtcbiAgICAgIGlmKE9baW5kZXhdID09PSBlbClyZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcbiAgICB9IHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7XG4gIH07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hcnJheS1pbmNsdWRlcy5qc1xuICoqIG1vZHVsZSBpZCA9IDMxXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsIi8vIDcuMS4xNSBUb0xlbmd0aFxudmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKVxuICAsIG1pbiAgICAgICA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdCA+IDAgPyBtaW4odG9JbnRlZ2VyKGl0KSwgMHgxZmZmZmZmZmZmZmZmZikgOiAwOyAvLyBwb3coMiwgNTMpIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1sZW5ndGguanNcbiAqKiBtb2R1bGUgaWQgPSAzMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCIvLyA3LjEuNCBUb0ludGVnZXJcbnZhciBjZWlsICA9IE1hdGguY2VpbFxuICAsIGZsb29yID0gTWF0aC5mbG9vcjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWludGVnZXIuanNcbiAqKiBtb2R1bGUgaWQgPSAzM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpXG4gICwgbWF4ICAgICAgID0gTWF0aC5tYXhcbiAgLCBtaW4gICAgICAgPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaW5kZXgsIGxlbmd0aCl7XG4gIGluZGV4ID0gdG9JbnRlZ2VyKGluZGV4KTtcbiAgcmV0dXJuIGluZGV4IDwgMCA/IG1heChpbmRleCArIGxlbmd0aCwgMCkgOiBtaW4oaW5kZXgsIGxlbmd0aCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDM0XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsInZhciBzaGFyZWQgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgna2V5cycpXG4gICwgdWlkICAgID0gcmVxdWlyZSgnLi9fdWlkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG4gIHJldHVybiBzaGFyZWRba2V5XSB8fCAoc2hhcmVkW2tleV0gPSB1aWQoa2V5KSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQta2V5LmpzXG4gKiogbW9kdWxlIGlkID0gMzVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXydcbiAgLCBzdG9yZSAgPSBnbG9iYWxbU0hBUkVEXSB8fCAoZ2xvYmFsW1NIQVJFRF0gPSB7fSk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG4gIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0ge30pO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLmpzXG4gKiogbW9kdWxlIGlkID0gMzZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwidmFyIGlkID0gMFxuICAsIHB4ID0gTWF0aC5yYW5kb20oKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuICdTeW1ib2woJy5jb25jYXQoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSwgJylfJywgKCsraWQgKyBweCkudG9TdHJpbmcoMzYpKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3VpZC5qc1xuICoqIG1vZHVsZSBpZCA9IDM3XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsIi8vIElFIDgtIGRvbid0IGVudW0gYnVnIGtleXNcbm1vZHVsZS5leHBvcnRzID0gKFxuICAnY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mJ1xuKS5zcGxpdCgnLCcpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWJ1Zy1rZXlzLmpzXG4gKiogbW9kdWxlIGlkID0gMzhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwiLy8gNy4xLjEzIFRvT2JqZWN0KGFyZ3VtZW50KVxudmFyIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIE9iamVjdChkZWZpbmVkKGl0KSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1vYmplY3QuanNcbiAqKiBtb2R1bGUgaWQgPSA0MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCIhZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKHJlcXVpcmUoXCJpc29tb3JwaGljLWZldGNoXCIpLHJlcXVpcmUoXCJmc1wiKSk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJpc29tb3JwaGljLWZldGNoXCIsXCJmc1wiXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLkVwdWJQcmVzcz1lKHJlcXVpcmUoXCJpc29tb3JwaGljLWZldGNoXCIpLHJlcXVpcmUoXCJmc1wiKSk6dC5FcHViUHJlc3M9ZSh0W1wiaXNvbW9ycGhpYy1mZXRjaFwiXSx0LmZzKX0odGhpcyxmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe2lmKG5bcl0pcmV0dXJuIG5bcl0uZXhwb3J0czt2YXIgaT1uW3JdPXtleHBvcnRzOnt9LGlkOnIsbG9hZGVkOiExfTtyZXR1cm4gdFtyXS5jYWxsKGkuZXhwb3J0cyxpLGkuZXhwb3J0cyxlKSxpLmxvYWRlZD0hMCxpLmV4cG9ydHN9dmFyIG49e307cmV0dXJuIGUubT10LGUuYz1uLGUucD1cIlwiLGUoMCl9KFtmdW5jdGlvbih0LGUsbil7bigxKSx0LmV4cG9ydHM9bigyKX0sZnVuY3Rpb24oZSxuKXtlLmV4cG9ydHM9dH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1mdW5jdGlvbiBpKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvd31mdW5jdGlvbiBvKCl7aWYoRi5ERUJVRyl7dmFyIHQ7KHQ9Y29uc29sZSkubG9nLmFwcGx5KHQsYXJndW1lbnRzKX19ZnVuY3Rpb24gcyh0KXtpZighdC5nZXRJZCgpKXRocm93IG5ldyBFcnJvcihcIkJvb2sgaGFzIG5vIGlkLiBIYXZlIHlvdSBwdWJsaXNoZWQ/XCIpfWZ1bmN0aW9uIGEodCxlKXtpZihpKCkpe3ZhciByPXZvaWQgMDtyPVwiZnVuY3Rpb25cIj09dHlwZW9mIEZpbGU/bmV3IEZpbGUoW2VdLHQpOm5ldyBCbG9iKFtlXSx7dHlwZTpcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwifSksKDAsay5zYXZlQXMpKHIsdCl9ZWxzZXt2YXIgbz1uKDU0KTtvLndyaXRlRmlsZVN5bmModCxlKX19ZnVuY3Rpb24gYyh0KXt2YXIgZT17dGl0bGU6dC50aXRsZSxkZXNjcmlwdGlvbjp0LmRlc2NyaXB0aW9ufTtyZXR1cm4gdC5zZWN0aW9ucz9lLnNlY3Rpb25zPXQuc2VjdGlvbnM6ZS51cmxzPXQudXJscy5zbGljZSgpLHttZXRob2Q6XCJQT1NUXCIsaGVhZGVyczp7QWNjZXB0OlwiYXBwbGljYXRpb24vanNvblwiLFwiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGJvZHk6KDAsd1tcImRlZmF1bHRcIl0pKGUpfX1mdW5jdGlvbiB1KHQpe3JldHVybiBuZXcgQ1tcImRlZmF1bHRcIl0oZnVuY3Rpb24oZSxuKXt2YXIgcj1mdW5jdGlvbiBpKHIpe3QuY2hlY2tTdGF0dXMoKS50aGVuKGZ1bmN0aW9uKG8pe3QuZW1pdChcInN0YXR1c1VwZGF0ZVwiLG8pLE51bWJlcihvLnByb2dyZXNzKT49MTAwP2UodCk6cj49Ri5DSEVDS19TVEFUVVNfTElNSVQ/bihuZXcgRXJyb3IoRi5FUlJPUl9DT0RFU1s1MDNdKSk6c2V0VGltZW91dChpLEYuUE9MTF9SQVRFLHIrMSl9KVtcImNhdGNoXCJdKG4pfTtyKDEpfSl9ZnVuY3Rpb24gbCh0KXt2YXIgZT1GLkVSUk9SX0NPREVTW3Quc3RhdHVzXTtpZih0LnN0YXR1cz49MjAwJiZ0LnN0YXR1czwzMDApcmV0dXJuIHQ7aWYodC5ib2R5KXJldHVybiB0Lmpzb24oKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBuPXQuZXJyb3JzJiZ0LmVycm9ycy5sZW5ndGg+MCxyPW4/dC5lcnJvcnNbMF0uZGV0YWlsOmU7cmV0dXJuIENbXCJkZWZhdWx0XCJdLnJlamVjdChuZXcgRXJyb3IocikpfSk7dmFyIG49bmV3IEVycm9yKGUpO3JldHVybiBDW1wiZGVmYXVsdFwiXS5yZWplY3Qobil9ZnVuY3Rpb24gZih0KXt2YXIgZT1GLkVSUk9SX0NPREVTW3QubWVzc2FnZV18fEYuRVJST1JfQ09ERVNbdC5uYW1lXTtyZXR1cm4gZT9uZXcgRXJyb3IoZSk6dH1mdW5jdGlvbiBwKHQsZSl7dmFyIG49TnVtYmVyKGUubWluQ29tcGF0aWJsZS5yZXBsYWNlKFwiLlwiLFwiXCIpKSxyPU51bWJlcih0LnJlcGxhY2UoXCIuXCIsXCJcIikpO3JldHVybiBuPnI/ZS5tZXNzYWdlOm51bGx9ZnVuY3Rpb24gaCh0KXt2YXIgZT1bXCJlbWFpbFwiLFwiZmlsZXR5cGVcIl0ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdP2UrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KHRbZV0pOlwiXCJ9KS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHR9KS5qb2luKFwiJlwiKTtyZXR1cm4gZT9cIj9cIitlOlwiXCJ9dmFyIGQ9bigzKSxfPXIoZCksdj1uKDQwKSx5PXIodiksbT1uKDQxKSxnPXIobSksYj1uKDQ1KSx3PXIoYiksRT1uKDQ3KSxDPXIoRSksaz1uKDUwKSxqPW4oNTMpLHg9cihqKSxGPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXsoMCx5W1wiZGVmYXVsdFwiXSkodGhpcyx0KTt2YXIgbj1EYXRlKCkuc2xpY2UoMCxEYXRlKCkubWF0Y2goL1xcZHs0fS8pLmluZGV4KzQpLHI9e3RpdGxlOlwiRXB1YlByZXNzIC0gXCIrbixkZXNjcmlwdGlvbjp2b2lkIDAsc2VjdGlvbnM6dm9pZCAwLHVybHM6dm9pZCAwLGZpbGV0eXBlOlwiZXB1YlwifTt0aGlzLmJvb2tEYXRhPSgwLF9bXCJkZWZhdWx0XCJdKSh7fSxyLGUpLHRoaXMuZXZlbnRzPXt9fXJldHVybigwLGdbXCJkZWZhdWx0XCJdKSh0LG51bGwsW3trZXk6XCJjaGVja0ZvclVwZGF0ZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTB8fHZvaWQgMD09PWFyZ3VtZW50c1swXT9cImVwdWItcHJlc3MtanNcIjphcmd1bWVudHNbMF0sbj1hcmd1bWVudHMubGVuZ3RoPD0xfHx2b2lkIDA9PT1hcmd1bWVudHNbMV0/dC5nZXRWZXJzaW9uKCk6YXJndW1lbnRzWzFdO3JldHVybiBuZXcgQ1tcImRlZmF1bHRcIl0oZnVuY3Rpb24ocixpKXtmZXRjaCh0LmdldFZlcnNpb25VcmwoKSkudGhlbihsKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmpzb24oKX0pLnRoZW4oZnVuY3Rpb24odCl7dmFyIG89dC5jbGllbnRzW2VdO28/cihwKG4sbykpOmkobmV3IEVycm9yKFwiVmVyc2lvbiBkYXRhIGZvciBcIitlK1wiIG5vdCBmb3VuZC5cIikpfSlbXCJjYXRjaFwiXShmdW5jdGlvbih0KXt2YXIgZT1mKHQpO28oXCJWZXJzaW9uIGNoZWNrIGZhaWxlZFwiLGUpLGkoZSl9KX0pfX0se2tleTpcImdldFB1Ymxpc2hVcmxcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3RvdHlwZS5nZXRQdWJsaXNoVXJsKCl9fSx7a2V5OlwiZ2V0VmVyc2lvblVybFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHQuQkFTRV9BUEkrXCIvdmVyc2lvblwifX0se2tleTpcImdldFZlcnNpb25cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0LlZFUlNJT059fV0pLCgwLGdbXCJkZWZhdWx0XCJdKSh0LFt7a2V5Olwib25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmV2ZW50c1t0XXx8KHRoaXMuZXZlbnRzW3RdPVtdKSx0aGlzLmV2ZW50c1t0XS5wdXNoKGUpLGV9fSx7a2V5OlwiZW1pdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLG49QXJyYXkoZT4xP2UtMTowKSxyPTE7ZT5yO3IrKyluW3ItMV09YXJndW1lbnRzW3JdO3RoaXMuZXZlbnRzW3RdJiZ0aGlzLmV2ZW50c1t0XS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuYXBwbHkodm9pZCAwLG4pfSl9fSx7a2V5OlwicmVtb3ZlTGlzdGVuZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHRoaXMuZXZlbnRzW3RdKXt2YXIgbj10aGlzLmV2ZW50c1t0XS5pbmRleE9mKGUpO24+PTAmJnRoaXMuZXZlbnRzW3RdLnNwbGljZShuLDEpfX19LHtrZXk6XCJnZXRVcmxzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1bXSxlPXRoaXMuYm9va0RhdGEsbj1lLnVybHMscj1lLnNlY3Rpb25zO3JldHVybiBuP3Q9bi5zbGljZSgpOnImJih0PXIubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnVybH0pKSx0fX0se2tleTpcImdldEZpbGV0eXBlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dHx8dGhpcy5ib29rRGF0YS5maWxldHlwZTtyZXR1cm4gZT9bXCJtb2JpXCIsXCJlcHViXCJdLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuIGUudG9Mb3dlckNhc2UoKT09PXR9KXx8XCJlcHViXCI6XCJlcHViXCJ9fSx7a2V5OlwiZ2V0RW1haWxcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvb2tEYXRhLmVtYWlsfX0se2tleTpcImdldFRpdGxlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib29rRGF0YS50aXRsZX19LHtrZXk6XCJnZXREZXNjcmlwdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9va0RhdGEuZGVzY3JpcHRpb259fSx7a2V5OlwiZ2V0SWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvb2tEYXRhLmlkfX0se2tleTpcImdldFN0YXR1c1VybFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHQuZ2V0UHVibGlzaFVybCgpK1wiL1wiK3RoaXMuZ2V0SWQoKStcIi9zdGF0dXNcIn19LHtrZXk6XCJnZXRQdWJsaXNoVXJsXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5CQVNFX0FQSStcIi9ib29rc1wifX0se2tleTpcImdldERvd25sb2FkVXJsXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPD0wfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/dGhpcy5nZXRGaWxldHlwZSgpOmFyZ3VtZW50c1swXSxlPWgoe2ZpbGV0eXBlOnR9KTtyZXR1cm4gdGhpcy5nZXRQdWJsaXNoVXJsKCkrXCIvXCIrdGhpcy5nZXRJZCgpK1wiL2Rvd25sb2FkXCIrZX19LHtrZXk6XCJnZXRFbWFpbFVybFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aDw9MHx8dm9pZCAwPT09YXJndW1lbnRzWzBdP3RoaXMuZ2V0RW1haWwoKTphcmd1bWVudHNbMF0sZT1hcmd1bWVudHMubGVuZ3RoPD0xfHx2b2lkIDA9PT1hcmd1bWVudHNbMV0/dGhpcy5nZXRGaWxldHlwZSgpOmFyZ3VtZW50c1sxXSxuPWgoe2VtYWlsOnQsZmlsZXR5cGU6ZX0pO3JldHVybiB0aGlzLmdldFB1Ymxpc2hVcmwoKStcIi9cIit0aGlzLmdldElkKCkrXCIvZW1haWxcIitufX0se2tleTpcImNoZWNrU3RhdHVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBuZXcgQ1tcImRlZmF1bHRcIl0oZnVuY3Rpb24oZSxuKXtmZXRjaCh0LmdldFN0YXR1c1VybCgpKS50aGVuKGwpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQuanNvbigpfSkudGhlbihmdW5jdGlvbih0KXtlKHQpfSlbXCJjYXRjaFwiXShmdW5jdGlvbih0KXt2YXIgZT1mKHQpO24oZSl9KX0pfX0se2tleTpcInB1Ymxpc2hcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuaXNQdWJsaXNoaW5nP0NbXCJkZWZhdWx0XCJdLnJlamVjdChuZXcgRXJyb3IoXCJQdWJsaXNoaW5nIGluIHByb2dyZXNzXCIpKTp0aGlzLmdldElkKCk/Q1tcImRlZmF1bHRcIl0ucmVzb2x2ZSh0aGlzLmdldElkKCkpOih0aGlzLmlzUHVibGlzaGluZz0hMCxuZXcgQ1tcImRlZmF1bHRcIl0oZnVuY3Rpb24oZSxuKXtmZXRjaCh0LmdldFB1Ymxpc2hVcmwoKSxjKHQuYm9va0RhdGEpKS50aGVuKGwpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQuanNvbigpfSkudGhlbihmdW5jdGlvbihuKXt2YXIgcj1uLmlkO3JldHVybiB0LmJvb2tEYXRhLmlkPXIsdSh0KS50aGVuKGZ1bmN0aW9uKCl7ZShyKX0pfSlbXCJjYXRjaFwiXShmdW5jdGlvbihlKXt0LmlzUHVibGlzaGluZz0hMTt2YXIgcj1mKGUpO28oXCJFYnVwUHJlc3M6IFB1Ymxpc2ggZmFpbGVkXCIsciksbihyKX0pfSkpfX0se2tleTpcImRvd25sb2FkXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IENbXCJkZWZhdWx0XCJdKGZ1bmN0aW9uKG4scil7cyhlKSxmZXRjaChlLmdldERvd25sb2FkVXJsKHQpKS50aGVuKGwpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQuYmxvYj90LmJsb2IoKTp0LmJ1ZmZlcigpfSkudGhlbihmdW5jdGlvbihyKXt2YXIgaT1lLmdldFRpdGxlKCkrXCIuXCIrKHR8fGUuZ2V0RmlsZXR5cGUoKSk7YShpLHIpLG4oKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24odCl7dmFyIGU9Zih0KTtvKFwiRXB1YlByZXNzOiBEb3dubG9hZCBmYWlsZWRcIixlKSxyKGUpfSl9KX19LHtrZXk6XCJlbWFpbFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gbmV3IENbXCJkZWZhdWx0XCJdKGZ1bmN0aW9uKHIsaSl7cmV0dXJuIHQ/KHMobiksZmV0Y2gobi5nZXRFbWFpbFVybCh0LGUpKS50aGVuKGwpLnRoZW4oZnVuY3Rpb24oKXtvKFwiRXB1YlByZXNzOiBCb29rIGRlbGl2ZXJlZC5cIikscigpfSlbXCJjYXRjaFwiXShmdW5jdGlvbih0KXt2YXIgZT1mKHQpO28oXCJFcHViUHJlc3M6IEVtYWlsIGRlbGl2ZXJ5IGZhaWxlZC5cIiksaShlKX0pKTppKG5ldyBFcnJvcihcIkVwdWJQcmVzczogTm8gZW1haWwgcHJvdmlkZWQuXCIpKX0pfX1dKSx0fSgpO0YuQkFTRV9VUkw9eFtcImRlZmF1bHRcIl0uYmFzZVVybCxGLkJBU0VfQVBJPUYuQkFTRV9VUkwrXCIvYXBpL3YxXCIsRi5WRVJTSU9OPXhbXCJkZWZhdWx0XCJdLnZlcnNpb24sRi5QT0xMX1JBVEU9M2UzLEYuQ0hFQ0tfU1RBVFVTX0xJTUlUPTQwLEYuRVJST1JfQ09ERVM9ezA6XCJTZXJ2ZXIgaXMgZG93bi4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cIixcIkZhaWxlZCB0byBmZXRjaFwiOlwiU2VydmVyIGlzIGRvd24uIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuXCIsRmV0Y2hFcnJvcjpcIlNlcnZlciBpcyBkb3duLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlwiLDQwMDpcIlRoZXJlIHdhcyBhIHByb2JsZW0gd2l0aCB0aGUgcmVxdWVzdC4gSXMgRXB1YlByZXNzIHVwIHRvIGRhdGU/XCIsNDA0OlwiUmVzb3VyY2Ugbm90IGZvdW5kLlwiLDQyMjpcIlJlcXVlc3QgY29udGFpbmVkIGludmFsaWQgZGF0YS5cIiw1MDA6XCJVbmV4cGVjdGVkIHNlcnZlciBlcnJvci5cIiw1MDM6XCJTZXJ2ZXIgdG9vayB0b28gbG9uZyB0byByZXNwb25kLlwiLHRpbWVvdXQ6XCJSZXF1ZXN0IHRvb2sgdG9vIGxvbmcgdG8gY29tcGxldGUuXCIsZXJyb3I6dm9pZCAwLFNFUlZFUl9GQUlMRUQ6XCJTZXJ2ZXIgZXJyb3Igd2hpbGUgZG93bmxvYWRpbmcuXCIsU0VSVkVSX0JBRF9DT05URU5UOlwiQm9vayBjb3VsZCBub3QgYmUgZm91bmRcIn0sdC5leHBvcnRzPUZ9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9e1wiZGVmYXVsdFwiOm4oNCksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKHQsZSxuKXtuKDUpLHQuZXhwb3J0cz1uKDgpLk9iamVjdC5hc3NpZ259LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDYpO3Ioci5TK3IuRixcIk9iamVjdFwiLHthc3NpZ246bigyMSl9KX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNyksaT1uKDgpLG89big5KSxzPW4oMTEpLGE9XCJwcm90b3R5cGVcIixjPWZ1bmN0aW9uKHQsZSxuKXt2YXIgdSxsLGYscD10JmMuRixoPXQmYy5HLGQ9dCZjLlMsXz10JmMuUCx2PXQmYy5CLHk9dCZjLlcsbT1oP2k6aVtlXXx8KGlbZV09e30pLGc9bVthXSxiPWg/cjpkP3JbZV06KHJbZV18fHt9KVthXTtoJiYobj1lKTtmb3IodSBpbiBuKWw9IXAmJmImJnZvaWQgMCE9PWJbdV0sbCYmdSBpbiBtfHwoZj1sP2JbdV06blt1XSxtW3VdPWgmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGJbdV0/blt1XTp2JiZsP28oZixyKTp5JiZiW3VdPT1mP2Z1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKGUsbixyKXtpZih0aGlzIGluc3RhbmNlb2YgdCl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IHQ7Y2FzZSAxOnJldHVybiBuZXcgdChlKTtjYXNlIDI6cmV0dXJuIG5ldyB0KGUsbil9cmV0dXJuIG5ldyB0KGUsbixyKX1yZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiBlW2FdPXRbYV0sZX0oZik6XyYmXCJmdW5jdGlvblwiPT10eXBlb2YgZj9vKEZ1bmN0aW9uLmNhbGwsZik6ZixfJiYoKG0udmlydHVhbHx8KG0udmlydHVhbD17fSkpW3VdPWYsdCZjLlImJmcmJiFnW3VdJiZzKGcsdSxmKSkpfTtjLkY9MSxjLkc9MixjLlM9NCxjLlA9OCxjLkI9MTYsYy5XPTMyLGMuVT02NCxjLlI9MTI4LHQuZXhwb3J0cz1jfSxmdW5jdGlvbih0LGUpe3ZhciBuPXQuZXhwb3J0cz1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcIm51bWJlclwiPT10eXBlb2YgX19nJiYoX19nPW4pfSxmdW5jdGlvbih0LGUpe3ZhciBuPXQuZXhwb3J0cz17dmVyc2lvbjpcIjIuNC4wXCJ9O1wibnVtYmVyXCI9PXR5cGVvZiBfX2UmJihfX2U9bil9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEwKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe2lmKHIodCksdm9pZCAwPT09ZSlyZXR1cm4gdDtzd2l0Y2gobil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gdC5jYWxsKGUsbil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24obixyKXtyZXR1cm4gdC5jYWxsKGUsbixyKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihuLHIsaSl7cmV0dXJuIHQuY2FsbChlLG4scixpKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgVHlwZUVycm9yKHQrXCIgaXMgbm90IGEgZnVuY3Rpb24hXCIpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTIpLGk9bigyMCk7dC5leHBvcnRzPW4oMTYpP2Z1bmN0aW9uKHQsZSxuKXtyZXR1cm4gci5mKHQsZSxpKDEsbikpfTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbZV09bix0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTMpLGk9bigxNSksbz1uKDE5KSxzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtlLmY9bigxNik/T2JqZWN0LmRlZmluZVByb3BlcnR5OmZ1bmN0aW9uKHQsZSxuKXtpZihyKHQpLGU9byhlLCEwKSxyKG4pLGkpdHJ5e3JldHVybiBzKHQsZSxuKX1jYXRjaChhKXt9aWYoXCJnZXRcImluIG58fFwic2V0XCJpbiBuKXRocm93IFR5cGVFcnJvcihcIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIVwiKTtyZXR1cm5cInZhbHVlXCJpbiBuJiYodFtlXT1uLnZhbHVlKSx0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTQpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZighcih0KSl0aHJvdyBUeXBlRXJyb3IodCtcIiBpcyBub3QgYW4gb2JqZWN0IVwiKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0P251bGwhPT10OlwiZnVuY3Rpb25cIj09dHlwZW9mIHR9fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPSFuKDE2KSYmIW4oMTcpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuKDE4KShcImRpdlwiKSxcImFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPSFuKDE3KShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiEhdCgpfWNhdGNoKGUpe3JldHVybiEwfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE0KSxpPW4oNykuZG9jdW1lbnQsbz1yKGkpJiZyKGkuY3JlYXRlRWxlbWVudCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBvP2kuY3JlYXRlRWxlbWVudCh0KTp7fX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE0KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZighcih0KSlyZXR1cm4gdDt2YXIgbixpO2lmKGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mKG49dC50b1N0cmluZykmJiFyKGk9bi5jYWxsKHQpKSlyZXR1cm4gaTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZihuPXQudmFsdWVPZikmJiFyKGk9bi5jYWxsKHQpKSlyZXR1cm4gaTtpZighZSYmXCJmdW5jdGlvblwiPT10eXBlb2Yobj10LnRvU3RyaW5nKSYmIXIoaT1uLmNhbGwodCkpKXJldHVybiBpO3Rocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJue2VudW1lcmFibGU6ISgxJnQpLGNvbmZpZ3VyYWJsZTohKDImdCksd3JpdGFibGU6ISg0JnQpLHZhbHVlOmV9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMjIpLGk9bigzNyksbz1uKDM4KSxzPW4oMzkpLGE9bigyNiksYz1PYmplY3QuYXNzaWduO3QuZXhwb3J0cz0hY3x8bigxNykoZnVuY3Rpb24oKXt2YXIgdD17fSxlPXt9LG49U3ltYm9sKCkscj1cImFiY2RlZmdoaWprbG1ub3BxcnN0XCI7cmV0dXJuIHRbbl09NyxyLnNwbGl0KFwiXCIpLmZvckVhY2goZnVuY3Rpb24odCl7ZVt0XT10fSksNyE9Yyh7fSx0KVtuXXx8T2JqZWN0LmtleXMoYyh7fSxlKSkuam9pbihcIlwiKSE9cn0pP2Z1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXModCksYz1hcmd1bWVudHMubGVuZ3RoLHU9MSxsPWkuZixmPW8uZjtjPnU7KWZvcih2YXIgcCxoPWEoYXJndW1lbnRzW3UrK10pLGQ9bD9yKGgpLmNvbmNhdChsKGgpKTpyKGgpLF89ZC5sZW5ndGgsdj0wO18+djspZi5jYWxsKGgscD1kW3YrK10pJiYobltwXT1oW3BdKTtyZXR1cm4gbn06Y30sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjMpLGk9bigzNik7dC5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbih0KXtyZXR1cm4gcih0LGkpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjQpLGk9bigyNSksbz1uKDI5KSghMSkscz1uKDMzKShcIklFX1BST1RPXCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLGE9aSh0KSxjPTAsdT1bXTtmb3IobiBpbiBhKW4hPXMmJnIoYSxuKSYmdS5wdXNoKG4pO2Zvcig7ZS5sZW5ndGg+YzspcihhLG49ZVtjKytdKSYmKH5vKHUsbil8fHUucHVzaChuKSk7cmV0dXJuIHV9fSxmdW5jdGlvbih0LGUpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBuLmNhbGwodCxlKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI2KSxpPW4oMjgpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gcihpKHQpKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI3KTt0LmV4cG9ydHM9T2JqZWN0KFwielwiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24odCl7cmV0dXJuXCJTdHJpbmdcIj09cih0KT90LnNwbGl0KFwiXCIpOk9iamVjdCh0KX19LGZ1bmN0aW9uKHQsZSl7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuLmNhbGwodCkuc2xpY2UoOCwtMSl9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZih2b2lkIDA9PXQpdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiK3QpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjUpLGk9bigzMCksbz1uKDMyKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixzKXt2YXIgYSxjPXIoZSksdT1pKGMubGVuZ3RoKSxsPW8ocyx1KTtpZih0JiZuIT1uKXtmb3IoO3U+bDspaWYoYT1jW2wrK10sYSE9YSlyZXR1cm4hMH1lbHNlIGZvcig7dT5sO2wrKylpZigodHx8bCBpbiBjKSYmY1tsXT09PW4pcmV0dXJuIHR8fGx8fDA7cmV0dXJuIXQmJi0xfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMxKSxpPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdD4wP2kocih0KSw5MDA3MTk5MjU0NzQwOTkxKTowfX0sZnVuY3Rpb24odCxlKXt2YXIgbj1NYXRoLmNlaWwscj1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaXNOYU4odD0rdCk/MDoodD4wP3I6bikodCl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzMSksaT1NYXRoLm1heCxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiB0PXIodCksMD50P2kodCtlLDApOm8odCxlKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDM0KShcImtleXNcIiksaT1uKDM1KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHJbdF18fChyW3RdPWkodCkpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNyksaT1cIl9fY29yZS1qc19zaGFyZWRfX1wiLG89cltpXXx8KHJbaV09e30pO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gb1t0XXx8KG9bdF09e30pfX0sZnVuY3Rpb24odCxlKXt2YXIgbj0wLHI9TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuXCJTeW1ib2woXCIuY29uY2F0KHZvaWQgMD09PXQ/XCJcIjp0LFwiKV9cIiwoKytuK3IpLnRvU3RyaW5nKDM2KSl9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZlwiLnNwbGl0KFwiLFwiKX0sZnVuY3Rpb24odCxlKXtlLmY9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30sZnVuY3Rpb24odCxlKXtlLmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI4KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChyKHQpKX19LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7ZS5fX2VzTW9kdWxlPSEwLGVbXCJkZWZhdWx0XCJdPWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZS5fX2VzTW9kdWxlPSEwO3ZhciBpPW4oNDIpLG89cihpKTtlW1wiZGVmYXVsdFwiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksKDAsb1tcImRlZmF1bHRcIl0pKHQsci5rZXkscil9fXJldHVybiBmdW5jdGlvbihlLG4scil7cmV0dXJuIG4mJnQoZS5wcm90b3R5cGUsbiksciYmdChlLHIpLGV9fSgpfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPXtcImRlZmF1bHRcIjpuKDQzKSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24odCxlLG4pe24oNDQpO3ZhciByPW4oOCkuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHIuZGVmaW5lUHJvcGVydHkodCxlLG4pfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNik7cihyLlMrci5GKiFuKDE2KSxcIk9iamVjdFwiLHtkZWZpbmVQcm9wZXJ0eTpuKDEyKS5mfSl9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9e1wiZGVmYXVsdFwiOm4oNDYpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big4KSxpPXIuSlNPTnx8KHIuSlNPTj17c3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBpLnN0cmluZ2lmeS5hcHBseShpLGFyZ3VtZW50cyl9fSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKGUsbixyKXsvKiBAcHJlc2VydmVcblx0ICogVGhlIE1JVCBMaWNlbnNlIChNSVQpXG5cdCAqIFxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNSBQZXRrYSBBbnRvbm92XG5cdCAqIFxuXHQgKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG5cdCAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcblx0ICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuXHQgKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG5cdCAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuXHQgKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXHQgKiBcblx0ICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cblx0ICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cdCAqIFxuXHQgKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG5cdCAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuXHQgKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5cdCAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcblx0ICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcblx0ICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuXHQgKiBUSEUgU09GVFdBUkUuXG5cdCAqIFxuXHQgKi9cbiFmdW5jdGlvbihlKXt0LmV4cG9ydHM9ZSgpfShmdW5jdGlvbigpe3ZhciB0LGksbztyZXR1cm4gZnVuY3Rpb24gcyh0LGUsbil7ZnVuY3Rpb24gcihvLGEpe2lmKCFlW29dKXtpZighdFtvXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgX2RlcmVxXyYmX2RlcmVxXztpZighYSYmYylyZXR1cm4gYyhvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciB1PW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgdS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLHV9dmFyIGw9ZVtvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiByKG4/bjplKX0sbCxsLmV4cG9ydHMscyx0LGUsbil9cmV0dXJuIGVbb10uZXhwb3J0c31mb3IodmFyIGk9XCJmdW5jdGlvblwiPT10eXBlb2YgX2RlcmVxXyYmX2RlcmVxXyxvPTA7bzxuLmxlbmd0aDtvKyspcihuW29dKTtyZXR1cm4gcn0oezE6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgZT1uZXcgbih0KSxyPWUucHJvbWlzZSgpO3JldHVybiBlLnNldEhvd01hbnkoMSksZS5zZXRVbndyYXAoKSxlLmluaXQoKSxyfXZhciBuPXQuX1NvbWVQcm9taXNlQXJyYXk7dC5hbnk9ZnVuY3Rpb24odCl7cmV0dXJuIGUodCl9LHQucHJvdG90eXBlLmFueT1mdW5jdGlvbigpe3JldHVybiBlKHRoaXMpfX19LHt9XSwyOltmdW5jdGlvbih0LG4scil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSgpe3RoaXMuX2N1c3RvbVNjaGVkdWxlcj0hMSx0aGlzLl9pc1RpY2tVc2VkPSExLHRoaXMuX2xhdGVRdWV1ZT1uZXcgZigxNiksdGhpcy5fbm9ybWFsUXVldWU9bmV3IGYoMTYpLHRoaXMuX2hhdmVEcmFpbmVkUXVldWVzPSExLHRoaXMuX3RyYW1wb2xpbmVFbmFibGVkPSEwO3ZhciB0PXRoaXM7dGhpcy5kcmFpblF1ZXVlcz1mdW5jdGlvbigpe3QuX2RyYWluUXVldWVzKCl9LHRoaXMuX3NjaGVkdWxlPWx9ZnVuY3Rpb24gbyh0LGUsbil7dGhpcy5fbGF0ZVF1ZXVlLnB1c2godCxlLG4pLHRoaXMuX3F1ZXVlVGljaygpfWZ1bmN0aW9uIHModCxlLG4pe3RoaXMuX25vcm1hbFF1ZXVlLnB1c2godCxlLG4pLHRoaXMuX3F1ZXVlVGljaygpfWZ1bmN0aW9uIGEodCl7dGhpcy5fbm9ybWFsUXVldWUuX3B1c2hPbmUodCksdGhpcy5fcXVldWVUaWNrKCl9dmFyIGM7dHJ5e3Rocm93IG5ldyBFcnJvcn1jYXRjaCh1KXtjPXV9dmFyIGw9dChcIi4vc2NoZWR1bGVcIiksZj10KFwiLi9xdWV1ZVwiKSxwPXQoXCIuL3V0aWxcIik7aS5wcm90b3R5cGUuc2V0U2NoZWR1bGVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3NjaGVkdWxlO3JldHVybiB0aGlzLl9zY2hlZHVsZT10LHRoaXMuX2N1c3RvbVNjaGVkdWxlcj0hMCxlfSxpLnByb3RvdHlwZS5oYXNDdXN0b21TY2hlZHVsZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VzdG9tU2NoZWR1bGVyfSxpLnByb3RvdHlwZS5lbmFibGVUcmFtcG9saW5lPWZ1bmN0aW9uKCl7dGhpcy5fdHJhbXBvbGluZUVuYWJsZWQ9ITB9LGkucHJvdG90eXBlLmRpc2FibGVUcmFtcG9saW5lSWZOZWNlc3Nhcnk9ZnVuY3Rpb24oKXtwLmhhc0RldlRvb2xzJiYodGhpcy5fdHJhbXBvbGluZUVuYWJsZWQ9ITEpfSxpLnByb3RvdHlwZS5oYXZlSXRlbXNRdWV1ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNUaWNrVXNlZHx8dGhpcy5faGF2ZURyYWluZWRRdWV1ZXN9LGkucHJvdG90eXBlLmZhdGFsRXJyb3I9ZnVuY3Rpb24odCxuKXtuPyhlLnN0ZGVyci53cml0ZShcIkZhdGFsIFwiKyh0IGluc3RhbmNlb2YgRXJyb3I/dC5zdGFjazp0KStcIlxcblwiKSxlLmV4aXQoMikpOnRoaXMudGhyb3dMYXRlcih0KX0saS5wcm90b3R5cGUudGhyb3dMYXRlcj1mdW5jdGlvbih0LGUpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoJiYoZT10LHQ9ZnVuY3Rpb24oKXt0aHJvdyBlfSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNldFRpbWVvdXQpc2V0VGltZW91dChmdW5jdGlvbigpe3QoZSl9LDApO2Vsc2UgdHJ5e3RoaXMuX3NjaGVkdWxlKGZ1bmN0aW9uKCl7dChlKX0pfWNhdGNoKG4pe3Rocm93IG5ldyBFcnJvcihcIk5vIGFzeW5jIHNjaGVkdWxlciBhdmFpbGFibGVcXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXCIpfX0scC5oYXNEZXZUb29scz8oaS5wcm90b3R5cGUuaW52b2tlTGF0ZXI9ZnVuY3Rpb24odCxlLG4pe3RoaXMuX3RyYW1wb2xpbmVFbmFibGVkP28uY2FsbCh0aGlzLHQsZSxuKTp0aGlzLl9zY2hlZHVsZShmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0LmNhbGwoZSxuKX0sMTAwKX0pfSxpLnByb3RvdHlwZS5pbnZva2U9ZnVuY3Rpb24odCxlLG4pe3RoaXMuX3RyYW1wb2xpbmVFbmFibGVkP3MuY2FsbCh0aGlzLHQsZSxuKTp0aGlzLl9zY2hlZHVsZShmdW5jdGlvbigpe3QuY2FsbChlLG4pfSl9LGkucHJvdG90eXBlLnNldHRsZVByb21pc2VzPWZ1bmN0aW9uKHQpe3RoaXMuX3RyYW1wb2xpbmVFbmFibGVkP2EuY2FsbCh0aGlzLHQpOnRoaXMuX3NjaGVkdWxlKGZ1bmN0aW9uKCl7dC5fc2V0dGxlUHJvbWlzZXMoKX0pfSk6KGkucHJvdG90eXBlLmludm9rZUxhdGVyPW8saS5wcm90b3R5cGUuaW52b2tlPXMsaS5wcm90b3R5cGUuc2V0dGxlUHJvbWlzZXM9YSksaS5wcm90b3R5cGUuaW52b2tlRmlyc3Q9ZnVuY3Rpb24odCxlLG4pe3RoaXMuX25vcm1hbFF1ZXVlLnVuc2hpZnQodCxlLG4pLHRoaXMuX3F1ZXVlVGljaygpfSxpLnByb3RvdHlwZS5fZHJhaW5RdWV1ZT1mdW5jdGlvbih0KXtmb3IoO3QubGVuZ3RoKCk+MDspe3ZhciBlPXQuc2hpZnQoKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXt2YXIgbj10LnNoaWZ0KCkscj10LnNoaWZ0KCk7ZS5jYWxsKG4scil9ZWxzZSBlLl9zZXR0bGVQcm9taXNlcygpfX0saS5wcm90b3R5cGUuX2RyYWluUXVldWVzPWZ1bmN0aW9uKCl7dGhpcy5fZHJhaW5RdWV1ZSh0aGlzLl9ub3JtYWxRdWV1ZSksdGhpcy5fcmVzZXQoKSx0aGlzLl9oYXZlRHJhaW5lZFF1ZXVlcz0hMCx0aGlzLl9kcmFpblF1ZXVlKHRoaXMuX2xhdGVRdWV1ZSl9LGkucHJvdG90eXBlLl9xdWV1ZVRpY2s9ZnVuY3Rpb24oKXt0aGlzLl9pc1RpY2tVc2VkfHwodGhpcy5faXNUaWNrVXNlZD0hMCx0aGlzLl9zY2hlZHVsZSh0aGlzLmRyYWluUXVldWVzKSl9LGkucHJvdG90eXBlLl9yZXNldD1mdW5jdGlvbigpe3RoaXMuX2lzVGlja1VzZWQ9ITF9LG4uZXhwb3J0cz1pLG4uZXhwb3J0cy5maXJzdExpbmVFcnJvcj1jfSx7XCIuL3F1ZXVlXCI6MjYsXCIuL3NjaGVkdWxlXCI6MjksXCIuL3V0aWxcIjozNn1dLDM6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9ITEsbz1mdW5jdGlvbih0LGUpe3RoaXMuX3JlamVjdChlKX0scz1mdW5jdGlvbih0LGUpe2UucHJvbWlzZVJlamVjdGlvblF1ZXVlZD0hMCxlLmJpbmRpbmdQcm9taXNlLl90aGVuKG8sbyxudWxsLHRoaXMsdCl9LGE9ZnVuY3Rpb24odCxlKXswPT09KDUwMzk3MTg0JnRoaXMuX2JpdEZpZWxkKSYmdGhpcy5fcmVzb2x2ZUNhbGxiYWNrKGUudGFyZ2V0KX0sYz1mdW5jdGlvbih0LGUpe2UucHJvbWlzZVJlamVjdGlvblF1ZXVlZHx8dGhpcy5fcmVqZWN0KHQpfTt0LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKG8pe2l8fChpPSEwLHQucHJvdG90eXBlLl9wcm9wYWdhdGVGcm9tPXIucHJvcGFnYXRlRnJvbUZ1bmN0aW9uKCksdC5wcm90b3R5cGUuX2JvdW5kVmFsdWU9ci5ib3VuZFZhbHVlRnVuY3Rpb24oKSk7dmFyIHU9bihvKSxsPW5ldyB0KGUpO2wuX3Byb3BhZ2F0ZUZyb20odGhpcywxKTt2YXIgZj10aGlzLl90YXJnZXQoKTtpZihsLl9zZXRCb3VuZFRvKHUpLHUgaW5zdGFuY2VvZiB0KXt2YXIgcD17cHJvbWlzZVJlamVjdGlvblF1ZXVlZDohMSxwcm9taXNlOmwsdGFyZ2V0OmYsYmluZGluZ1Byb21pc2U6dX07Zi5fdGhlbihlLHMsdm9pZCAwLGwscCksdS5fdGhlbihhLGMsdm9pZCAwLGwscCksbC5fc2V0T25DYW5jZWwodSl9ZWxzZSBsLl9yZXNvbHZlQ2FsbGJhY2soZik7cmV0dXJuIGx9LHQucHJvdG90eXBlLl9zZXRCb3VuZFRvPWZ1bmN0aW9uKHQpe3ZvaWQgMCE9PXQ/KHRoaXMuX2JpdEZpZWxkPTIwOTcxNTJ8dGhpcy5fYml0RmllbGQsdGhpcy5fYm91bmRUbz10KTp0aGlzLl9iaXRGaWVsZD0tMjA5NzE1MyZ0aGlzLl9iaXRGaWVsZH0sdC5wcm90b3R5cGUuX2lzQm91bmQ9ZnVuY3Rpb24oKXtyZXR1cm4gMjA5NzE1Mj09PSgyMDk3MTUyJnRoaXMuX2JpdEZpZWxkKX0sdC5iaW5kPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQucmVzb2x2ZShuKS5iaW5kKGUpfX19LHt9XSw0OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcigpe3RyeXtQcm9taXNlPT09byYmKFByb21pc2U9aSl9Y2F0Y2godCl7fXJldHVybiBvfXZhciBpO1widW5kZWZpbmVkXCIhPXR5cGVvZiBQcm9taXNlJiYoaT1Qcm9taXNlKTt2YXIgbz10KFwiLi9wcm9taXNlXCIpKCk7by5ub0NvbmZsaWN0PXIsZS5leHBvcnRzPW99LHtcIi4vcHJvbWlzZVwiOjIyfV0sNTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPU9iamVjdC5jcmVhdGU7aWYocil7dmFyIGk9cihudWxsKSxvPXIobnVsbCk7aVtcIiBzaXplXCJdPW9bXCIgc2l6ZVwiXT0wfWUuZXhwb3J0cz1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKHQsbil7dmFyIHI7aWYobnVsbCE9dCYmKHI9dFtuXSksXCJmdW5jdGlvblwiIT10eXBlb2Ygcil7dmFyIGk9XCJPYmplY3QgXCIrYS5jbGFzc1N0cmluZyh0KStcIiBoYXMgbm8gbWV0aG9kICdcIithLnRvU3RyaW5nKG4pK1wiJ1wiO3Rocm93IG5ldyBlLlR5cGVFcnJvcihpKX1yZXR1cm4gcn1mdW5jdGlvbiByKHQpe3ZhciBlPXRoaXMucG9wKCkscj1uKHQsZSk7cmV0dXJuIHIuYXBwbHkodCx0aGlzKX1mdW5jdGlvbiBpKHQpe3JldHVybiB0W3RoaXNdfWZ1bmN0aW9uIG8odCl7dmFyIGU9K3RoaXM7cmV0dXJuIDA+ZSYmKGU9TWF0aC5tYXgoMCxlK3QubGVuZ3RoKSksdFtlXX12YXIgcyxhPXQoXCIuL3V0aWxcIiksYz1hLmNhbkV2YWx1YXRlO2EuaXNJZGVudGlmaWVyO2UucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24odCl7dmFyIGU9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGUucHVzaCh0KSx0aGlzLl90aGVuKHIsdm9pZCAwLHZvaWQgMCxlLHZvaWQgMCl9LGUucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXt2YXIgZSxuPVwibnVtYmVyXCI9PXR5cGVvZiB0O2lmKG4pZT1vO2Vsc2UgaWYoYyl7dmFyIHI9cyh0KTtlPW51bGwhPT1yP3I6aX1lbHNlIGU9aTtyZXR1cm4gdGhpcy5fdGhlbihlLHZvaWQgMCx2b2lkIDAsdCx2b2lkIDApfX19LHtcIi4vdXRpbFwiOjM2fV0sNjpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlLG4scixpKXt2YXIgbz10KFwiLi91dGlsXCIpLHM9by50cnlDYXRjaCxhPW8uZXJyb3JPYmosYz1lLl9hc3luYztlLnByb3RvdHlwZVtcImJyZWFrXCJdPWUucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbigpe2lmKCFpLmNhbmNlbGxhdGlvbigpKXJldHVybiB0aGlzLl93YXJuKFwiY2FuY2VsbGF0aW9uIGlzIGRpc2FibGVkXCIpO2Zvcih2YXIgdD10aGlzLGU9dDt0Ll9pc0NhbmNlbGxhYmxlKCk7KXtpZighdC5fY2FuY2VsQnkoZSkpe2UuX2lzRm9sbG93aW5nKCk/ZS5fZm9sbG93ZWUoKS5jYW5jZWwoKTplLl9jYW5jZWxCcmFuY2hlZCgpO2JyZWFrfXZhciBuPXQuX2NhbmNlbGxhdGlvblBhcmVudDtpZihudWxsPT1ufHwhbi5faXNDYW5jZWxsYWJsZSgpKXt0Ll9pc0ZvbGxvd2luZygpP3QuX2ZvbGxvd2VlKCkuY2FuY2VsKCk6dC5fY2FuY2VsQnJhbmNoZWQoKTticmVha310Ll9pc0ZvbGxvd2luZygpJiZ0Ll9mb2xsb3dlZSgpLmNhbmNlbCgpLHQuX3NldFdpbGxCZUNhbmNlbGxlZCgpLGU9dCx0PW59fSxlLnByb3RvdHlwZS5fYnJhbmNoSGFzQ2FuY2VsbGVkPWZ1bmN0aW9uKCl7dGhpcy5fYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbC0tfSxlLnByb3RvdHlwZS5fZW5vdWdoQnJhbmNoZXNIYXZlQ2FuY2VsbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWx8fHRoaXMuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWw8PTB9LGUucHJvdG90eXBlLl9jYW5jZWxCeT1mdW5jdGlvbih0KXtyZXR1cm4gdD09PXRoaXM/KHRoaXMuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWw9MCx0aGlzLl9pbnZva2VPbkNhbmNlbCgpLCEwKToodGhpcy5fYnJhbmNoSGFzQ2FuY2VsbGVkKCksdGhpcy5fZW5vdWdoQnJhbmNoZXNIYXZlQ2FuY2VsbGVkKCk/KHRoaXMuX2ludm9rZU9uQ2FuY2VsKCksITApOiExKX0sZS5wcm90b3R5cGUuX2NhbmNlbEJyYW5jaGVkPWZ1bmN0aW9uKCl7dGhpcy5fZW5vdWdoQnJhbmNoZXNIYXZlQ2FuY2VsbGVkKCkmJnRoaXMuX2NhbmNlbCgpfSxlLnByb3RvdHlwZS5fY2FuY2VsPWZ1bmN0aW9uKCl7dGhpcy5faXNDYW5jZWxsYWJsZSgpJiYodGhpcy5fc2V0Q2FuY2VsbGVkKCksYy5pbnZva2UodGhpcy5fY2FuY2VsUHJvbWlzZXMsdGhpcyx2b2lkIDApKX0sZS5wcm90b3R5cGUuX2NhbmNlbFByb21pc2VzPWZ1bmN0aW9uKCl7dGhpcy5fbGVuZ3RoKCk+MCYmdGhpcy5fc2V0dGxlUHJvbWlzZXMoKX0sZS5wcm90b3R5cGUuX3Vuc2V0T25DYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLl9vbkNhbmNlbEZpZWxkPXZvaWQgMH0sZS5wcm90b3R5cGUuX2lzQ2FuY2VsbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1BlbmRpbmcoKSYmIXRoaXMuX2lzQ2FuY2VsbGVkKCl9LGUucHJvdG90eXBlLmlzQ2FuY2VsbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1BlbmRpbmcoKSYmIXRoaXMuaXNDYW5jZWxsZWQoKX0sZS5wcm90b3R5cGUuX2RvSW52b2tlT25DYW5jZWw9ZnVuY3Rpb24odCxlKXtpZihvLmlzQXJyYXkodCkpZm9yKHZhciBuPTA7bjx0Lmxlbmd0aDsrK24pdGhpcy5fZG9JbnZva2VPbkNhbmNlbCh0W25dLGUpO2Vsc2UgaWYodm9pZCAwIT09dClpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KXtpZighZSl7dmFyIHI9cyh0KS5jYWxsKHRoaXMuX2JvdW5kVmFsdWUoKSk7cj09PWEmJih0aGlzLl9hdHRhY2hFeHRyYVRyYWNlKHIuZSksYy50aHJvd0xhdGVyKHIuZSkpfX1lbHNlIHQuX3Jlc3VsdENhbmNlbGxlZCh0aGlzKX0sZS5wcm90b3R5cGUuX2ludm9rZU9uQ2FuY2VsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fb25DYW5jZWwoKTt0aGlzLl91bnNldE9uQ2FuY2VsKCksYy5pbnZva2UodGhpcy5fZG9JbnZva2VPbkNhbmNlbCx0aGlzLHQpfSxlLnByb3RvdHlwZS5faW52b2tlSW50ZXJuYWxPbkNhbmNlbD1mdW5jdGlvbigpe3RoaXMuX2lzQ2FuY2VsbGFibGUoKSYmKHRoaXMuX2RvSW52b2tlT25DYW5jZWwodGhpcy5fb25DYW5jZWwoKSwhMCksdGhpcy5fdW5zZXRPbkNhbmNlbCgpKX0sZS5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZD1mdW5jdGlvbigpe3RoaXMuY2FuY2VsKCl9fX0se1wiLi91dGlsXCI6MzZ9XSw3OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4odCxuLGEpe3JldHVybiBmdW5jdGlvbihjKXt2YXIgdT1hLl9ib3VuZFZhbHVlKCk7dDpmb3IodmFyIGw9MDtsPHQubGVuZ3RoOysrbCl7dmFyIGY9dFtsXTtpZihmPT09RXJyb3J8fG51bGwhPWYmJmYucHJvdG90eXBlIGluc3RhbmNlb2YgRXJyb3Ipe2lmKGMgaW5zdGFuY2VvZiBmKXJldHVybiBvKG4pLmNhbGwodSxjKX1lbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGYpe3ZhciBwPW8oZikuY2FsbCh1LGMpO2lmKHA9PT1zKXJldHVybiBwO2lmKHApcmV0dXJuIG8obikuY2FsbCh1LGMpfWVsc2UgaWYoci5pc09iamVjdChjKSl7Zm9yKHZhciBoPWkoZiksZD0wO2Q8aC5sZW5ndGg7KytkKXt2YXIgXz1oW2RdO2lmKGZbX10hPWNbX10pY29udGludWUgdH1yZXR1cm4gbyhuKS5jYWxsKHUsYyl9fXJldHVybiBlfX12YXIgcj10KFwiLi91dGlsXCIpLGk9dChcIi4vZXM1XCIpLmtleXMsbz1yLnRyeUNhdGNoLHM9ci5lcnJvck9iajtyZXR1cm4gbn19LHtcIi4vZXM1XCI6MTMsXCIuL3V0aWxcIjozNn1dLDg6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3RoaXMuX3RyYWNlPW5ldyBlLkNhcHR1cmVkVHJhY2UocigpKX1mdW5jdGlvbiBuKCl7cmV0dXJuIGk/bmV3IGU6dm9pZCAwfWZ1bmN0aW9uIHIoKXt2YXIgdD1vLmxlbmd0aC0xO3JldHVybiB0Pj0wP29bdF06dm9pZCAwfXZhciBpPSExLG89W107cmV0dXJuIHQucHJvdG90eXBlLl9wcm9taXNlQ3JlYXRlZD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuX3B1c2hDb250ZXh0PWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5fcG9wQ29udGV4dD1mdW5jdGlvbigpe3JldHVybiBudWxsfSx0Ll9wZWVrQ29udGV4dD10LnByb3RvdHlwZS5fcGVla0NvbnRleHQ9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLl9wdXNoQ29udGV4dD1mdW5jdGlvbigpe3ZvaWQgMCE9PXRoaXMuX3RyYWNlJiYodGhpcy5fdHJhY2UuX3Byb21pc2VDcmVhdGVkPW51bGwsby5wdXNoKHRoaXMuX3RyYWNlKSl9LGUucHJvdG90eXBlLl9wb3BDb250ZXh0PWZ1bmN0aW9uKCl7aWYodm9pZCAwIT09dGhpcy5fdHJhY2Upe3ZhciB0PW8ucG9wKCksZT10Ll9wcm9taXNlQ3JlYXRlZDtyZXR1cm4gdC5fcHJvbWlzZUNyZWF0ZWQ9bnVsbCxlfXJldHVybiBudWxsfSxlLkNhcHR1cmVkVHJhY2U9bnVsbCxlLmNyZWF0ZT1uLGUuZGVhY3RpdmF0ZUxvbmdTdGFja1RyYWNlcz1mdW5jdGlvbigpe30sZS5hY3RpdmF0ZUxvbmdTdGFja1RyYWNlcz1mdW5jdGlvbigpe3ZhciBuPXQucHJvdG90eXBlLl9wdXNoQ29udGV4dCxvPXQucHJvdG90eXBlLl9wb3BDb250ZXh0LHM9dC5fcGVla0NvbnRleHQsYT10LnByb3RvdHlwZS5fcGVla0NvbnRleHQsYz10LnByb3RvdHlwZS5fcHJvbWlzZUNyZWF0ZWQ7ZS5kZWFjdGl2YXRlTG9uZ1N0YWNrVHJhY2VzPWZ1bmN0aW9uKCl7dC5wcm90b3R5cGUuX3B1c2hDb250ZXh0PW4sdC5wcm90b3R5cGUuX3BvcENvbnRleHQ9byx0Ll9wZWVrQ29udGV4dD1zLHQucHJvdG90eXBlLl9wZWVrQ29udGV4dD1hLHQucHJvdG90eXBlLl9wcm9taXNlQ3JlYXRlZD1jLGk9ITF9LGk9ITAsdC5wcm90b3R5cGUuX3B1c2hDb250ZXh0PWUucHJvdG90eXBlLl9wdXNoQ29udGV4dCx0LnByb3RvdHlwZS5fcG9wQ29udGV4dD1lLnByb3RvdHlwZS5fcG9wQ29udGV4dCx0Ll9wZWVrQ29udGV4dD10LnByb3RvdHlwZS5fcGVla0NvbnRleHQ9cix0LnByb3RvdHlwZS5fcHJvbWlzZUNyZWF0ZWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wZWVrQ29udGV4dCgpO3QmJm51bGw9PXQuX3Byb21pc2VDcmVhdGVkJiYodC5fcHJvbWlzZUNyZWF0ZWQ9dGhpcyl9fSxlfX0se31dLDk6W2Z1bmN0aW9uKHQsbixyKXtcInVzZSBzdHJpY3RcIjtuLmV4cG9ydHM9ZnVuY3Rpb24obixyKXtmdW5jdGlvbiBpKHQsZSl7cmV0dXJue3Byb21pc2U6ZX19ZnVuY3Rpb24gbygpe3JldHVybiExfWZ1bmN0aW9uIHModCxlLG4pe3ZhciByPXRoaXM7dHJ5e3QoZSxuLGZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm9uQ2FuY2VsIG11c3QgYmUgYSBmdW5jdGlvbiwgZ290OiBcIitWLnRvU3RyaW5nKHQpKTtyLl9hdHRhY2hDYW5jZWxsYXRpb25DYWxsYmFjayh0KX0pfWNhdGNoKGkpe3JldHVybiBpfX1mdW5jdGlvbiBhKHQpe2lmKCF0aGlzLl9pc0NhbmNlbGxhYmxlKCkpcmV0dXJuIHRoaXM7dmFyIGU9dGhpcy5fb25DYW5jZWwoKTt2b2lkIDAhPT1lP1YuaXNBcnJheShlKT9lLnB1c2godCk6dGhpcy5fc2V0T25DYW5jZWwoW2UsdF0pOnRoaXMuX3NldE9uQ2FuY2VsKHQpfWZ1bmN0aW9uIGMoKXtyZXR1cm4gdGhpcy5fb25DYW5jZWxGaWVsZH1mdW5jdGlvbiB1KHQpe3RoaXMuX29uQ2FuY2VsRmllbGQ9dH1mdW5jdGlvbiBsKCl7dGhpcy5fY2FuY2VsbGF0aW9uUGFyZW50PXZvaWQgMCx0aGlzLl9vbkNhbmNlbEZpZWxkPXZvaWQgMH1mdW5jdGlvbiBmKHQsZSl7aWYoMCE9PSgxJmUpKXt0aGlzLl9jYW5jZWxsYXRpb25QYXJlbnQ9dDt2YXIgbj10Ll9icmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsO3ZvaWQgMD09PW4mJihuPTApLHQuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWw9bisxfTAhPT0oMiZlKSYmdC5faXNCb3VuZCgpJiZ0aGlzLl9zZXRCb3VuZFRvKHQuX2JvdW5kVG8pfWZ1bmN0aW9uIHAodCxlKXswIT09KDImZSkmJnQuX2lzQm91bmQoKSYmdGhpcy5fc2V0Qm91bmRUbyh0Ll9ib3VuZFRvKX1mdW5jdGlvbiBoKCl7dmFyIHQ9dGhpcy5fYm91bmRUbztyZXR1cm4gdm9pZCAwIT09dCYmdCBpbnN0YW5jZW9mIG4/dC5pc0Z1bGZpbGxlZCgpP3QudmFsdWUoKTp2b2lkIDA6dH1mdW5jdGlvbiBkKCl7dGhpcy5fdHJhY2U9bmV3IFIodGhpcy5fcGVla0NvbnRleHQoKSl9ZnVuY3Rpb24gXyh0LGUpe2lmKEIodCkpe3ZhciBuPXRoaXMuX3RyYWNlO2lmKHZvaWQgMCE9PW4mJmUmJihuPW4uX3BhcmVudCksdm9pZCAwIT09biluLmF0dGFjaEV4dHJhVHJhY2UodCk7ZWxzZSBpZighdC5fX3N0YWNrQ2xlYW5lZF9fKXt2YXIgcj1rKHQpO1Yubm90RW51bWVyYWJsZVByb3AodCxcInN0YWNrXCIsci5tZXNzYWdlK1wiXFxuXCIrci5zdGFjay5qb2luKFwiXFxuXCIpKSxWLm5vdEVudW1lcmFibGVQcm9wKHQsXCJfX3N0YWNrQ2xlYW5lZF9fXCIsITApfX19ZnVuY3Rpb24gdih0LGUsbixyLGkpe2lmKHZvaWQgMD09PXQmJm51bGwhPT1lJiZLKXtpZih2b2lkIDAhPT1pJiZpLl9yZXR1cm5lZE5vblVuZGVmaW5lZCgpKXJldHVybjtpZigwPT09KDY1NTM1JnIuX2JpdEZpZWxkKSlyZXR1cm47biYmKG4rPVwiIFwiKTt2YXIgbz1cIlwiLHM9XCJcIjtpZihlLl90cmFjZSl7Zm9yKHZhciBhPWUuX3RyYWNlLnN0YWNrLnNwbGl0KFwiXFxuXCIpLGM9RShhKSx1PWMubGVuZ3RoLTE7dT49MDstLXUpe3ZhciBsPWNbdV07aWYoIUgudGVzdChsKSl7dmFyIGY9bC5tYXRjaChxKTtmJiYobz1cImF0IFwiK2ZbMV0rXCI6XCIrZlsyXStcIjpcIitmWzNdK1wiIFwiKTticmVha319aWYoYy5sZW5ndGg+MClmb3IodmFyIHA9Y1swXSx1PTA7dTxhLmxlbmd0aDsrK3UpaWYoYVt1XT09PXApe3U+MCYmKHM9XCJcXG5cIithW3UtMV0pO2JyZWFrfX12YXIgaD1cImEgcHJvbWlzZSB3YXMgY3JlYXRlZCBpbiBhIFwiK24rXCJoYW5kbGVyIFwiK28rXCJidXQgd2FzIG5vdCByZXR1cm5lZCBmcm9tIGl0LCBzZWUgaHR0cDovL2dvby5nbC9yUnFNVXdcIitzO3IuX3dhcm4oaCwhMCxlKX19ZnVuY3Rpb24geSh0LGUpe3ZhciBuPXQrXCIgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIHZlcnNpb24uXCI7cmV0dXJuIGUmJihuKz1cIiBVc2UgXCIrZStcIiBpbnN0ZWFkLlwiKSxtKG4pfWZ1bmN0aW9uIG0odCxlLHIpe2lmKHN0Lndhcm5pbmdzKXt2YXIgaSxvPW5ldyBMKHQpO2lmKGUpci5fYXR0YWNoRXh0cmFUcmFjZShvKTtlbHNlIGlmKHN0LmxvbmdTdGFja1RyYWNlcyYmKGk9bi5fcGVla0NvbnRleHQoKSkpaS5hdHRhY2hFeHRyYVRyYWNlKG8pO2Vsc2V7dmFyIHM9ayhvKTtvLnN0YWNrPXMubWVzc2FnZStcIlxcblwiK3Muc3RhY2suam9pbihcIlxcblwiKX1ldChcIndhcm5pbmdcIixvKXx8aihvLFwiXCIsITApfX1mdW5jdGlvbiBnKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aC0xOysrbillW25dLnB1c2goXCJGcm9tIHByZXZpb3VzIGV2ZW50OlwiKSxlW25dPWVbbl0uam9pbihcIlxcblwiKTtyZXR1cm4gbjxlLmxlbmd0aCYmKGVbbl09ZVtuXS5qb2luKFwiXFxuXCIpKSx0K1wiXFxuXCIrZS5qb2luKFwiXFxuXCIpfWZ1bmN0aW9uIGIodCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDsrK2UpKDA9PT10W2VdLmxlbmd0aHx8ZSsxPHQubGVuZ3RoJiZ0W2VdWzBdPT09dFtlKzFdWzBdKSYmKHQuc3BsaWNlKGUsMSksZS0tKX1mdW5jdGlvbiB3KHQpe2Zvcih2YXIgZT10WzBdLG49MTtuPHQubGVuZ3RoOysrbil7Zm9yKHZhciByPXRbbl0saT1lLmxlbmd0aC0xLG89ZVtpXSxzPS0xLGE9ci5sZW5ndGgtMTthPj0wOy0tYSlpZihyW2FdPT09byl7cz1hO2JyZWFrfWZvcih2YXIgYT1zO2E+PTA7LS1hKXt2YXIgYz1yW2FdO2lmKGVbaV0hPT1jKWJyZWFrO2UucG9wKCksaS0tfWU9cn19ZnVuY3Rpb24gRSh0KXtmb3IodmFyIGU9W10sbj0wO248dC5sZW5ndGg7KytuKXt2YXIgcj10W25dLGk9XCIgICAgKE5vIHN0YWNrIHRyYWNlKVwiPT09cnx8US50ZXN0KHIpLG89aSYmcnQocik7aSYmIW8mJih6JiZcIiBcIiE9PXIuY2hhckF0KDApJiYocj1cIiAgICBcIityKSxlLnB1c2gocikpfXJldHVybiBlfWZ1bmN0aW9uIEModCl7Zm9yKHZhciBlPXQuc3RhY2sucmVwbGFjZSgvXFxzKyQvZyxcIlwiKS5zcGxpdChcIlxcblwiKSxuPTA7bjxlLmxlbmd0aDsrK24pe3ZhciByPWVbbl07aWYoXCIgICAgKE5vIHN0YWNrIHRyYWNlKVwiPT09cnx8US50ZXN0KHIpKWJyZWFrfXJldHVybiBuPjAmJihlPWUuc2xpY2UobikpLGV9ZnVuY3Rpb24gayh0KXt2YXIgZT10LnN0YWNrLG49dC50b1N0cmluZygpO3JldHVybiBlPVwic3RyaW5nXCI9PXR5cGVvZiBlJiZlLmxlbmd0aD4wP0ModCk6W1wiICAgIChObyBzdGFjayB0cmFjZSlcIl0se21lc3NhZ2U6bixzdGFjazpFKGUpfX1mdW5jdGlvbiBqKHQsZSxuKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSl7dmFyIHI7aWYoVi5pc09iamVjdCh0KSl7dmFyIGk9dC5zdGFjaztyPWUrJChpLHQpfWVsc2Ugcj1lK1N0cmluZyh0KTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBEP0QocixuKTpcImZ1bmN0aW9uXCIhPXR5cGVvZiBjb25zb2xlLmxvZyYmXCJvYmplY3RcIiE9dHlwZW9mIGNvbnNvbGUubG9nfHxjb25zb2xlLmxvZyhyKX19ZnVuY3Rpb24geCh0LGUsbixyKXt2YXIgaT0hMTt0cnl7XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKGk9ITAsXCJyZWplY3Rpb25IYW5kbGVkXCI9PT10P2Uocik6ZShuLHIpKX1jYXRjaChvKXtOLnRocm93TGF0ZXIobyl9XCJ1bmhhbmRsZWRSZWplY3Rpb25cIj09PXQ/ZXQodCxuLHIpfHxpfHxqKG4sXCJVbmhhbmRsZWQgcmVqZWN0aW9uIFwiKTpldCh0LHIpfWZ1bmN0aW9uIEYodCl7dmFyIGU7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdCllPVwiW2Z1bmN0aW9uIFwiKyh0Lm5hbWV8fFwiYW5vbnltb3VzXCIpK1wiXVwiO2Vsc2V7ZT10JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnRvU3RyaW5nP3QudG9TdHJpbmcoKTpWLnRvU3RyaW5nKHQpO3ZhciBuPS9cXFtvYmplY3QgW2EtekEtWjAtOSRfXStcXF0vO2lmKG4udGVzdChlKSl0cnl7dmFyIHI9SlNPTi5zdHJpbmdpZnkodCk7ZT1yfWNhdGNoKGkpe30wPT09ZS5sZW5ndGgmJihlPVwiKGVtcHR5IGFycmF5KVwiKX1yZXR1cm5cIig8XCIrVChlKStcIj4sIG5vIHN0YWNrIHRyYWNlKVwifWZ1bmN0aW9uIFQodCl7dmFyIGU9NDE7cmV0dXJuIHQubGVuZ3RoPGU/dDp0LnN1YnN0cigwLGUtMykrXCIuLi5cIn1mdW5jdGlvbiBTKCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygb3R9ZnVuY3Rpb24gUCh0KXt2YXIgZT10Lm1hdGNoKGl0KTtyZXR1cm4gZT97ZmlsZU5hbWU6ZVsxXSxsaW5lOnBhcnNlSW50KGVbMl0sMTApfTp2b2lkIDB9ZnVuY3Rpb24gTyh0LGUpe2lmKFMoKSl7Zm9yKHZhciBuLHIsaT10LnN0YWNrLnNwbGl0KFwiXFxuXCIpLG89ZS5zdGFjay5zcGxpdChcIlxcblwiKSxzPS0xLGE9LTEsYz0wO2M8aS5sZW5ndGg7KytjKXt2YXIgdT1QKGlbY10pO2lmKHUpe249dS5maWxlTmFtZSxzPXUubGluZTticmVha319Zm9yKHZhciBjPTA7YzxvLmxlbmd0aDsrK2Mpe3ZhciB1PVAob1tjXSk7aWYodSl7cj11LmZpbGVOYW1lLGE9dS5saW5lO2JyZWFrfX0wPnN8fDA+YXx8IW58fCFyfHxuIT09cnx8cz49YXx8KHJ0PWZ1bmN0aW9uKHQpe2lmKE0udGVzdCh0KSlyZXR1cm4hMDt2YXIgZT1QKHQpO3JldHVybiEhKGUmJmUuZmlsZU5hbWU9PT1uJiZzPD1lLmxpbmUmJmUubGluZTw9YSl9KX19ZnVuY3Rpb24gUih0KXt0aGlzLl9wYXJlbnQ9dCx0aGlzLl9wcm9taXNlc0NyZWF0ZWQ9MDt2YXIgZT10aGlzLl9sZW5ndGg9MSsodm9pZCAwPT09dD8wOnQuX2xlbmd0aCk7b3QodGhpcyxSKSxlPjMyJiZ0aGlzLnVuY3ljbGUoKX12YXIgQSxJLEQsVT1uLl9nZXREb21haW4sTj1uLl9hc3luYyxMPXQoXCIuL2Vycm9yc1wiKS5XYXJuaW5nLFY9dChcIi4vdXRpbFwiKSxCPVYuY2FuQXR0YWNoVHJhY2UsTT0vW1xcXFxcXC9dYmx1ZWJpcmRbXFxcXFxcL11qc1tcXFxcXFwvXShyZWxlYXNlfGRlYnVnfGluc3RydW1lbnRlZCkvLEg9L1xcKCg/OnRpbWVyc1xcLmpzKTpcXGQrOlxcZCtcXCkvLHE9L1tcXC88XFwoXSguKz8pOihcXGQrKTooXFxkKylcXCk/XFxzKiQvLFE9bnVsbCwkPW51bGwsej0hMSxHPSEoMD09Vi5lbnYoXCJCTFVFQklSRF9ERUJVR1wiKSksVz0hKDA9PVYuZW52KFwiQkxVRUJJUkRfV0FSTklOR1NcIil8fCFHJiYhVi5lbnYoXCJCTFVFQklSRF9XQVJOSU5HU1wiKSksWD0hKDA9PVYuZW52KFwiQkxVRUJJUkRfTE9OR19TVEFDS19UUkFDRVNcIil8fCFHJiYhVi5lbnYoXCJCTFVFQklSRF9MT05HX1NUQUNLX1RSQUNFU1wiKSksSz0wIT1WLmVudihcIkJMVUVCSVJEX1dfRk9SR09UVEVOX1JFVFVSTlwiKSYmKFd8fCEhVi5lbnYoXCJCTFVFQklSRF9XX0ZPUkdPVFRFTl9SRVRVUk5cIikpO24ucHJvdG90eXBlLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3RhcmdldCgpO3QuX2JpdEZpZWxkPS0xMDQ4NTc3JnQuX2JpdEZpZWxkfDUyNDI4OH0sbi5wcm90b3R5cGUuX2Vuc3VyZVBvc3NpYmxlUmVqZWN0aW9uSGFuZGxlZD1mdW5jdGlvbigpezA9PT0oNTI0Mjg4JnRoaXMuX2JpdEZpZWxkKSYmKHRoaXMuX3NldFJlamVjdGlvbklzVW5oYW5kbGVkKCksTi5pbnZva2VMYXRlcih0aGlzLl9ub3RpZnlVbmhhbmRsZWRSZWplY3Rpb24sdGhpcyx2b2lkIDApKX0sbi5wcm90b3R5cGUuX25vdGlmeVVuaGFuZGxlZFJlamVjdGlvbklzSGFuZGxlZD1mdW5jdGlvbigpe3goXCJyZWplY3Rpb25IYW5kbGVkXCIsQSx2b2lkIDAsdGhpcyl9LG4ucHJvdG90eXBlLl9zZXRSZXR1cm5lZE5vblVuZGVmaW5lZD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPTI2ODQzNTQ1Nnx0aGlzLl9iaXRGaWVsZH0sbi5wcm90b3R5cGUuX3JldHVybmVkTm9uVW5kZWZpbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIDAhPT0oMjY4NDM1NDU2JnRoaXMuX2JpdEZpZWxkKX0sbi5wcm90b3R5cGUuX25vdGlmeVVuaGFuZGxlZFJlamVjdGlvbj1mdW5jdGlvbigpe2lmKHRoaXMuX2lzUmVqZWN0aW9uVW5oYW5kbGVkKCkpe3ZhciB0PXRoaXMuX3NldHRsZWRWYWx1ZSgpO3RoaXMuX3NldFVuaGFuZGxlZFJlamVjdGlvbklzTm90aWZpZWQoKSx4KFwidW5oYW5kbGVkUmVqZWN0aW9uXCIsSSx0LHRoaXMpfX0sbi5wcm90b3R5cGUuX3NldFVuaGFuZGxlZFJlamVjdGlvbklzTm90aWZpZWQ9ZnVuY3Rpb24oKXt0aGlzLl9iaXRGaWVsZD0yNjIxNDR8dGhpcy5fYml0RmllbGR9LG4ucHJvdG90eXBlLl91bnNldFVuaGFuZGxlZFJlamVjdGlvbklzTm90aWZpZWQ9ZnVuY3Rpb24oKXt0aGlzLl9iaXRGaWVsZD0tMjYyMTQ1JnRoaXMuX2JpdEZpZWxkfSxuLnByb3RvdHlwZS5faXNVbmhhbmRsZWRSZWplY3Rpb25Ob3RpZmllZD1mdW5jdGlvbigpe3JldHVybigyNjIxNDQmdGhpcy5fYml0RmllbGQpPjB9LG4ucHJvdG90eXBlLl9zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPTEwNDg1NzZ8dGhpcy5fYml0RmllbGR9LG4ucHJvdG90eXBlLl91bnNldFJlamVjdGlvbklzVW5oYW5kbGVkPWZ1bmN0aW9uKCl7dGhpcy5fYml0RmllbGQ9LTEwNDg1NzcmdGhpcy5fYml0RmllbGQsdGhpcy5faXNVbmhhbmRsZWRSZWplY3Rpb25Ob3RpZmllZCgpJiYodGhpcy5fdW5zZXRVbmhhbmRsZWRSZWplY3Rpb25Jc05vdGlmaWVkKCksdGhpcy5fbm90aWZ5VW5oYW5kbGVkUmVqZWN0aW9uSXNIYW5kbGVkKCkpfSxuLnByb3RvdHlwZS5faXNSZWplY3Rpb25VbmhhbmRsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4oMTA0ODU3NiZ0aGlzLl9iaXRGaWVsZCk+MH0sbi5wcm90b3R5cGUuX3dhcm49ZnVuY3Rpb24odCxlLG4pe3JldHVybiBtKHQsZSxufHx0aGlzKX0sbi5vblBvc3NpYmx5VW5oYW5kbGVkUmVqZWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPVUoKTtJPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/bnVsbD09PWU/dDpWLmRvbWFpbkJpbmQoZSx0KTp2b2lkIDB9LG4ub25VbmhhbmRsZWRSZWplY3Rpb25IYW5kbGVkPWZ1bmN0aW9uKHQpe3ZhciBlPVUoKTtBPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/bnVsbD09PWU/dDpWLmRvbWFpbkJpbmQoZSx0KTp2b2lkIDB9O3ZhciBKPWZ1bmN0aW9uKCl7fTtuLmxvbmdTdGFja1RyYWNlcz1mdW5jdGlvbigpe2lmKE4uaGF2ZUl0ZW1zUXVldWVkKCkmJiFzdC5sb25nU3RhY2tUcmFjZXMpdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IGVuYWJsZSBsb25nIHN0YWNrIHRyYWNlcyBhZnRlciBwcm9taXNlcyBoYXZlIGJlZW4gY3JlYXRlZFxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIik7aWYoIXN0LmxvbmdTdGFja1RyYWNlcyYmUygpKXt2YXIgdD1uLnByb3RvdHlwZS5fY2FwdHVyZVN0YWNrVHJhY2UsZT1uLnByb3RvdHlwZS5fYXR0YWNoRXh0cmFUcmFjZTtzdC5sb25nU3RhY2tUcmFjZXM9ITAsSj1mdW5jdGlvbigpe2lmKE4uaGF2ZUl0ZW1zUXVldWVkKCkmJiFzdC5sb25nU3RhY2tUcmFjZXMpdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IGVuYWJsZSBsb25nIHN0YWNrIHRyYWNlcyBhZnRlciBwcm9taXNlcyBoYXZlIGJlZW4gY3JlYXRlZFxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIik7bi5wcm90b3R5cGUuX2NhcHR1cmVTdGFja1RyYWNlPXQsbi5wcm90b3R5cGUuX2F0dGFjaEV4dHJhVHJhY2U9ZSxyLmRlYWN0aXZhdGVMb25nU3RhY2tUcmFjZXMoKSxOLmVuYWJsZVRyYW1wb2xpbmUoKSxzdC5sb25nU3RhY2tUcmFjZXM9ITF9LG4ucHJvdG90eXBlLl9jYXB0dXJlU3RhY2tUcmFjZT1kLG4ucHJvdG90eXBlLl9hdHRhY2hFeHRyYVRyYWNlPV8sci5hY3RpdmF0ZUxvbmdTdGFja1RyYWNlcygpLE4uZGlzYWJsZVRyYW1wb2xpbmVJZk5lY2Vzc2FyeSgpfX0sbi5oYXNMb25nU3RhY2tUcmFjZXM9ZnVuY3Rpb24oKXtyZXR1cm4gc3QubG9uZ1N0YWNrVHJhY2VzJiZTKCl9O3ZhciBZPWZ1bmN0aW9uKCl7dHJ5e2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIEN1c3RvbUV2ZW50KXt2YXIgdD1uZXcgQ3VzdG9tRXZlbnQoXCJDdXN0b21FdmVudFwiKTtyZXR1cm4gVi5nbG9iYWwuZGlzcGF0Y2hFdmVudCh0KSxmdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBDdXN0b21FdmVudCh0LnRvTG93ZXJDYXNlKCkse2RldGFpbDplLGNhbmNlbGFibGU6ITB9KTtyZXR1cm4hVi5nbG9iYWwuZGlzcGF0Y2hFdmVudChuKX19aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgRXZlbnQpe3ZhciB0PW5ldyBFdmVudChcIkN1c3RvbUV2ZW50XCIpO3JldHVybiBWLmdsb2JhbC5kaXNwYXRjaEV2ZW50KHQpLGZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IEV2ZW50KHQudG9Mb3dlckNhc2UoKSx7Y2FuY2VsYWJsZTohMH0pO3JldHVybiBuLmRldGFpbD1lLCFWLmdsb2JhbC5kaXNwYXRjaEV2ZW50KG4pfX12YXIgdD1kb2N1bWVudC5jcmVhdGVFdmVudChcIkN1c3RvbUV2ZW50XCIpO3JldHVybiB0LmluaXRDdXN0b21FdmVudChcInRlc3Rpbmd0aGVldmVudFwiLCExLCEwLHt9KSxWLmdsb2JhbC5kaXNwYXRjaEV2ZW50KHQpLGZ1bmN0aW9uKHQsZSl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJDdXN0b21FdmVudFwiKTtyZXR1cm4gbi5pbml0Q3VzdG9tRXZlbnQodC50b0xvd2VyQ2FzZSgpLCExLCEwLGUpLCFWLmdsb2JhbC5kaXNwYXRjaEV2ZW50KG4pfX1jYXRjaChlKXt9cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuITF9fSgpLFo9ZnVuY3Rpb24oKXtyZXR1cm4gVi5pc05vZGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5lbWl0LmFwcGx5KGUsYXJndW1lbnRzKX06Vi5nbG9iYWw/ZnVuY3Rpb24odCl7dmFyIGU9XCJvblwiK3QudG9Mb3dlckNhc2UoKSxuPVYuZ2xvYmFsW2VdO3JldHVybiBuPyhuLmFwcGx5KFYuZ2xvYmFsLFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKSwhMCk6ITF9OmZ1bmN0aW9uKCl7cmV0dXJuITF9fSgpLHR0PXtwcm9taXNlQ3JlYXRlZDppLHByb21pc2VGdWxmaWxsZWQ6aSxwcm9taXNlUmVqZWN0ZWQ6aSxwcm9taXNlUmVzb2x2ZWQ6aSxwcm9taXNlQ2FuY2VsbGVkOmkscHJvbWlzZUNoYWluZWQ6ZnVuY3Rpb24odCxlLG4pe3JldHVybntwcm9taXNlOmUsY2hpbGQ6bn19LHdhcm5pbmc6ZnVuY3Rpb24odCxlKXtyZXR1cm57d2FybmluZzplfX0sdW5oYW5kbGVkUmVqZWN0aW9uOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm57cmVhc29uOmUscHJvbWlzZTpufX0scmVqZWN0aW9uSGFuZGxlZDppfSxldD1mdW5jdGlvbih0KXt2YXIgZT0hMTt0cnl7ZT1aLmFwcGx5KG51bGwsYXJndW1lbnRzKX1jYXRjaChuKXtOLnRocm93TGF0ZXIobiksZT0hMH12YXIgcj0hMTt0cnl7cj1ZKHQsdHRbdF0uYXBwbHkobnVsbCxhcmd1bWVudHMpKX1jYXRjaChuKXtOLnRocm93TGF0ZXIobikscj0hMH1yZXR1cm4gcnx8ZX07bi5jb25maWc9ZnVuY3Rpb24odCl7aWYodD1PYmplY3QodCksXCJsb25nU3RhY2tUcmFjZXNcImluIHQmJih0LmxvbmdTdGFja1RyYWNlcz9uLmxvbmdTdGFja1RyYWNlcygpOiF0LmxvbmdTdGFja1RyYWNlcyYmbi5oYXNMb25nU3RhY2tUcmFjZXMoKSYmSigpKSxcIndhcm5pbmdzXCJpbiB0KXt2YXIgZT10Lndhcm5pbmdzO3N0Lndhcm5pbmdzPSEhZSxLPXN0Lndhcm5pbmdzLFYuaXNPYmplY3QoZSkmJlwid0ZvcmdvdHRlblJldHVyblwiaW4gZSYmKEs9ISFlLndGb3Jnb3R0ZW5SZXR1cm4pfWlmKFwiY2FuY2VsbGF0aW9uXCJpbiB0JiZ0LmNhbmNlbGxhdGlvbiYmIXN0LmNhbmNlbGxhdGlvbil7aWYoTi5oYXZlSXRlbXNRdWV1ZWQoKSl0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgZW5hYmxlIGNhbmNlbGxhdGlvbiBhZnRlciBwcm9taXNlcyBhcmUgaW4gdXNlXCIpO24ucHJvdG90eXBlLl9jbGVhckNhbmNlbGxhdGlvbkRhdGE9bCxuLnByb3RvdHlwZS5fcHJvcGFnYXRlRnJvbT1mLG4ucHJvdG90eXBlLl9vbkNhbmNlbD1jLG4ucHJvdG90eXBlLl9zZXRPbkNhbmNlbD11LG4ucHJvdG90eXBlLl9hdHRhY2hDYW5jZWxsYXRpb25DYWxsYmFjaz1hLG4ucHJvdG90eXBlLl9leGVjdXRlPXMsbnQ9ZixzdC5jYW5jZWxsYXRpb249ITB9XCJtb25pdG9yaW5nXCJpbiB0JiYodC5tb25pdG9yaW5nJiYhc3QubW9uaXRvcmluZz8oc3QubW9uaXRvcmluZz0hMCxuLnByb3RvdHlwZS5fZmlyZUV2ZW50PWV0KTohdC5tb25pdG9yaW5nJiZzdC5tb25pdG9yaW5nJiYoc3QubW9uaXRvcmluZz0hMSxuLnByb3RvdHlwZS5fZmlyZUV2ZW50PW8pKX0sbi5wcm90b3R5cGUuX2ZpcmVFdmVudD1vLG4ucHJvdG90eXBlLl9leGVjdXRlPWZ1bmN0aW9uKHQsZSxuKXt0cnl7dChlLG4pfWNhdGNoKHIpe3JldHVybiByfX0sbi5wcm90b3R5cGUuX29uQ2FuY2VsPWZ1bmN0aW9uKCl7fSxuLnByb3RvdHlwZS5fc2V0T25DYW5jZWw9ZnVuY3Rpb24odCl7fSxuLnByb3RvdHlwZS5fYXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2s9ZnVuY3Rpb24odCl7fSxuLnByb3RvdHlwZS5fY2FwdHVyZVN0YWNrVHJhY2U9ZnVuY3Rpb24oKXt9LG4ucHJvdG90eXBlLl9hdHRhY2hFeHRyYVRyYWNlPWZ1bmN0aW9uKCl7fSxuLnByb3RvdHlwZS5fY2xlYXJDYW5jZWxsYXRpb25EYXRhPWZ1bmN0aW9uKCl7fSxuLnByb3RvdHlwZS5fcHJvcGFnYXRlRnJvbT1mdW5jdGlvbih0LGUpe307dmFyIG50PXAscnQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0saXQ9L1tcXC88XFwoXShbXjpcXC9dKyk6KFxcZCspOig/OlxcZCspXFwpP1xccyokLztWLmluaGVyaXRzKFIsRXJyb3IpLHIuQ2FwdHVyZWRUcmFjZT1SLFIucHJvdG90eXBlLnVuY3ljbGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9sZW5ndGg7aWYoISgyPnQpKXtmb3IodmFyIGU9W10sbj17fSxyPTAsaT10aGlzO3ZvaWQgMCE9PWk7KytyKWUucHVzaChpKSxpPWkuX3BhcmVudDt0PXRoaXMuX2xlbmd0aD1yO2Zvcih2YXIgcj10LTE7cj49MDstLXIpe3ZhciBvPWVbcl0uc3RhY2s7dm9pZCAwPT09bltvXSYmKG5bb109cil9Zm9yKHZhciByPTA7dD5yOysrcil7dmFyIHM9ZVtyXS5zdGFjayxhPW5bc107aWYodm9pZCAwIT09YSYmYSE9PXIpe2E+MCYmKGVbYS0xXS5fcGFyZW50PXZvaWQgMCxlW2EtMV0uX2xlbmd0aD0xKSxlW3JdLl9wYXJlbnQ9dm9pZCAwLGVbcl0uX2xlbmd0aD0xO3ZhciBjPXI+MD9lW3ItMV06dGhpczt0LTE+YT8oYy5fcGFyZW50PWVbYSsxXSxjLl9wYXJlbnQudW5jeWNsZSgpLGMuX2xlbmd0aD1jLl9wYXJlbnQuX2xlbmd0aCsxKTooYy5fcGFyZW50PXZvaWQgMCxjLl9sZW5ndGg9MSk7Zm9yKHZhciB1PWMuX2xlbmd0aCsxLGw9ci0yO2w+PTA7LS1sKWVbbF0uX2xlbmd0aD11LHUrKztyZXR1cm59fX19LFIucHJvdG90eXBlLmF0dGFjaEV4dHJhVHJhY2U9ZnVuY3Rpb24odCl7aWYoIXQuX19zdGFja0NsZWFuZWRfXyl7dGhpcy51bmN5Y2xlKCk7Zm9yKHZhciBlPWsodCksbj1lLm1lc3NhZ2Uscj1bZS5zdGFja10saT10aGlzO3ZvaWQgMCE9PWk7KXIucHVzaChFKGkuc3RhY2suc3BsaXQoXCJcXG5cIikpKSxpPWkuX3BhcmVudDt3KHIpLGIociksVi5ub3RFbnVtZXJhYmxlUHJvcCh0LFwic3RhY2tcIixnKG4scikpLFYubm90RW51bWVyYWJsZVByb3AodCxcIl9fc3RhY2tDbGVhbmVkX19cIiwhMCl9fTt2YXIgb3Q9ZnVuY3Rpb24oKXt2YXIgdD0vXlxccyphdFxccyovLGU9ZnVuY3Rpb24odCxlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD90OnZvaWQgMCE9PWUubmFtZSYmdm9pZCAwIT09ZS5tZXNzYWdlP2UudG9TdHJpbmcoKTpGKGUpfTtpZihcIm51bWJlclwiPT10eXBlb2YgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSl7RXJyb3Iuc3RhY2tUcmFjZUxpbWl0Kz02LFE9dCwkPWU7dmFyIG49RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2U7cmV0dXJuIHJ0PWZ1bmN0aW9uKHQpe3JldHVybiBNLnRlc3QodCl9LGZ1bmN0aW9uKHQsZSl7RXJyb3Iuc3RhY2tUcmFjZUxpbWl0Kz02LG4odCxlKSxFcnJvci5zdGFja1RyYWNlTGltaXQtPTZ9fXZhciByPW5ldyBFcnJvcjtpZihcInN0cmluZ1wiPT10eXBlb2Ygci5zdGFjayYmci5zdGFjay5zcGxpdChcIlxcblwiKVswXS5pbmRleE9mKFwic3RhY2tEZXRlY3Rpb25AXCIpPj0wKXJldHVybiBRPS9ALywkPWUsej0hMCxmdW5jdGlvbih0KXt0LnN0YWNrPShuZXcgRXJyb3IpLnN0YWNrfTt2YXIgaTt0cnl7dGhyb3cgbmV3IEVycm9yfWNhdGNoKG8pe2k9XCJzdGFja1wiaW4gb31yZXR1cm5cInN0YWNrXCJpbiByfHwhaXx8XCJudW1iZXJcIiE9dHlwZW9mIEVycm9yLnN0YWNrVHJhY2VMaW1pdD8oJD1mdW5jdGlvbih0LGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGV8fHZvaWQgMD09PWUubmFtZXx8dm9pZCAwPT09ZS5tZXNzYWdlP0YoZSk6ZS50b1N0cmluZygpfSxudWxsKTooUT10LCQ9ZSxmdW5jdGlvbih0KXtFcnJvci5zdGFja1RyYWNlTGltaXQrPTY7dHJ5e3Rocm93IG5ldyBFcnJvcn1jYXRjaChlKXt0LnN0YWNrPWUuc3RhY2t9RXJyb3Iuc3RhY2tUcmFjZUxpbWl0LT02fSl9KFtdKTtcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUud2FybiYmKEQ9ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKHQpfSxWLmlzTm9kZSYmZS5zdGRlcnIuaXNUVFk/RD1mdW5jdGlvbih0LGUpe3ZhciBuPWU/XCJcdTAwMWJbMzNtXCI6XCJcdTAwMWJbMzFtXCI7Y29uc29sZS53YXJuKG4rdCtcIlx1MDAxYlswbVxcblwiKX06Vi5pc05vZGV8fFwic3RyaW5nXCIhPXR5cGVvZihuZXcgRXJyb3IpLnN0YWNrfHwoRD1mdW5jdGlvbih0LGUpe2NvbnNvbGUud2FybihcIiVjXCIrdCxlP1wiY29sb3I6IGRhcmtvcmFuZ2VcIjpcImNvbG9yOiByZWRcIil9KSk7dmFyIHN0PXt3YXJuaW5nczpXLGxvbmdTdGFja1RyYWNlczohMSxjYW5jZWxsYXRpb246ITEsbW9uaXRvcmluZzohMX07cmV0dXJuIFgmJm4ubG9uZ1N0YWNrVHJhY2VzKCkse2xvbmdTdGFja1RyYWNlczpmdW5jdGlvbigpe3JldHVybiBzdC5sb25nU3RhY2tUcmFjZXN9LHdhcm5pbmdzOmZ1bmN0aW9uKCl7cmV0dXJuIHN0Lndhcm5pbmdzfSxjYW5jZWxsYXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gc3QuY2FuY2VsbGF0aW9ufSxtb25pdG9yaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHN0Lm1vbml0b3Jpbmd9LHByb3BhZ2F0ZUZyb21GdW5jdGlvbjpmdW5jdGlvbigpe3JldHVybiBudH0sYm91bmRWYWx1ZUZ1bmN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGh9LGNoZWNrRm9yZ290dGVuUmV0dXJuczp2LHNldEJvdW5kczpPLHdhcm46bSxkZXByZWNhdGVkOnksQ2FwdHVyZWRUcmFjZTpSLGZpcmVEb21FdmVudDpZLGZpcmVHbG9iYWxFdmVudDpafX19LHtcIi4vZXJyb3JzXCI6MTIsXCIuL3V0aWxcIjozNn1dLDEwOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gdGhpcy52YWx1ZX1mdW5jdGlvbiBuKCl7dGhyb3cgdGhpcy5yZWFzb259dC5wcm90b3R5cGVbXCJyZXR1cm5cIl09dC5wcm90b3R5cGUudGhlblJldHVybj1mdW5jdGlvbihuKXtyZXR1cm4gbiBpbnN0YW5jZW9mIHQmJm4uc3VwcHJlc3NVbmhhbmRsZWRSZWplY3Rpb25zKCksdGhpcy5fdGhlbihlLHZvaWQgMCx2b2lkIDAse3ZhbHVlOm59LHZvaWQgMCl9LHQucHJvdG90eXBlW1widGhyb3dcIl09dC5wcm90b3R5cGUudGhlblRocm93PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl90aGVuKG4sdm9pZCAwLHZvaWQgMCx7cmVhc29uOnR9LHZvaWQgMCl9LHQucHJvdG90eXBlLmNhdGNoVGhyb3c9ZnVuY3Rpb24odCl7aWYoYXJndW1lbnRzLmxlbmd0aDw9MSlyZXR1cm4gdGhpcy5fdGhlbih2b2lkIDAsbix2b2lkIDAse3JlYXNvbjp0fSx2b2lkIDApO3ZhciBlPWFyZ3VtZW50c1sxXSxyPWZ1bmN0aW9uKCl7dGhyb3cgZX07cmV0dXJuIHRoaXMuY2F1Z2h0KHQscil9LHQucHJvdG90eXBlLmNhdGNoUmV0dXJuPWZ1bmN0aW9uKG4pe2lmKGFyZ3VtZW50cy5sZW5ndGg8PTEpcmV0dXJuIG4gaW5zdGFuY2VvZiB0JiZuLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucygpLHRoaXMuX3RoZW4odm9pZCAwLGUsdm9pZCAwLHt2YWx1ZTpufSx2b2lkIDApO3ZhciByPWFyZ3VtZW50c1sxXTtyIGluc3RhbmNlb2YgdCYmci5zdXBwcmVzc1VuaGFuZGxlZFJlamVjdGlvbnMoKTt2YXIgaT1mdW5jdGlvbigpe3JldHVybiByfTtyZXR1cm4gdGhpcy5jYXVnaHQobixpKX19fSx7fV0sMTE6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7cmV0dXJuIG8odGhpcyl9ZnVuY3Rpb24gcih0LG4pe3JldHVybiBpKHQsbixlLGUpfXZhciBpPXQucmVkdWNlLG89dC5hbGw7dC5wcm90b3R5cGUuZWFjaD1mdW5jdGlvbih0KXtyZXR1cm4gaSh0aGlzLHQsZSwwKS5fdGhlbihuLHZvaWQgMCx2b2lkIDAsdGhpcyx2b2lkIDApfSx0LnByb3RvdHlwZS5tYXBTZXJpZXM9ZnVuY3Rpb24odCl7cmV0dXJuIGkodGhpcyx0LGUsZSl9LHQuZWFjaD1mdW5jdGlvbih0LHIpe3JldHVybiBpKHQscixlLDApLl90aGVuKG4sdm9pZCAwLHZvaWQgMCx0LHZvaWQgMCl9LHQubWFwU2VyaWVzPXJ9fSx7fV0sMTI6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7ZnVuY3Rpb24gbihyKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIG4/KGYodGhpcyxcIm1lc3NhZ2VcIixcInN0cmluZ1wiPT10eXBlb2Ygcj9yOmUpLGYodGhpcyxcIm5hbWVcIix0KSx2b2lkKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlP0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsdGhpcy5jb25zdHJ1Y3Rvcik6RXJyb3IuY2FsbCh0aGlzKSkpOm5ldyBuKHIpfXJldHVybiBsKG4sRXJyb3IpLG59ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGk/KGYodGhpcyxcIm5hbWVcIixcIk9wZXJhdGlvbmFsRXJyb3JcIiksZih0aGlzLFwibWVzc2FnZVwiLHQpLHRoaXMuY2F1c2U9dCx0aGlzLmlzT3BlcmF0aW9uYWw9ITAsdm9pZCh0IGluc3RhbmNlb2YgRXJyb3I/KGYodGhpcyxcIm1lc3NhZ2VcIix0Lm1lc3NhZ2UpLGYodGhpcyxcInN0YWNrXCIsdC5zdGFjaykpOkVycm9yLmNhcHR1cmVTdGFja1RyYWNlJiZFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLHRoaXMuY29uc3RydWN0b3IpKSk6bmV3IGkodCl9dmFyIG8scyxhPXQoXCIuL2VzNVwiKSxjPWEuZnJlZXplLHU9dChcIi4vdXRpbFwiKSxsPXUuaW5oZXJpdHMsZj11Lm5vdEVudW1lcmFibGVQcm9wLHA9cihcIldhcm5pbmdcIixcIndhcm5pbmdcIiksaD1yKFwiQ2FuY2VsbGF0aW9uRXJyb3JcIixcImNhbmNlbGxhdGlvbiBlcnJvclwiKSxkPXIoXCJUaW1lb3V0RXJyb3JcIixcInRpbWVvdXQgZXJyb3JcIiksXz1yKFwiQWdncmVnYXRlRXJyb3JcIixcImFnZ3JlZ2F0ZSBlcnJvclwiKTt0cnl7bz1UeXBlRXJyb3Iscz1SYW5nZUVycm9yfWNhdGNoKHYpe289cihcIlR5cGVFcnJvclwiLFwidHlwZSBlcnJvclwiKSxzPXIoXCJSYW5nZUVycm9yXCIsXCJyYW5nZSBlcnJvclwiKX1mb3IodmFyIHk9XCJqb2luIHBvcCBwdXNoIHNoaWZ0IHVuc2hpZnQgc2xpY2UgZmlsdGVyIGZvckVhY2ggc29tZSBldmVyeSBtYXAgaW5kZXhPZiBsYXN0SW5kZXhPZiByZWR1Y2UgcmVkdWNlUmlnaHQgc29ydCByZXZlcnNlXCIuc3BsaXQoXCIgXCIpLG09MDttPHkubGVuZ3RoOysrbSlcImZ1bmN0aW9uXCI9PXR5cGVvZiBBcnJheS5wcm90b3R5cGVbeVttXV0mJihfLnByb3RvdHlwZVt5W21dXT1BcnJheS5wcm90b3R5cGVbeVttXV0pO2EuZGVmaW5lUHJvcGVydHkoXy5wcm90b3R5cGUsXCJsZW5ndGhcIix7dmFsdWU6MCxjb25maWd1cmFibGU6ITEsd3JpdGFibGU6ITAsZW51bWVyYWJsZTohMH0pLF8ucHJvdG90eXBlLmlzT3BlcmF0aW9uYWw9ITA7dmFyIGc9MDtfLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0PUFycmF5KDQqZysxKS5qb2luKFwiIFwiKSxlPVwiXFxuXCIrdCtcIkFnZ3JlZ2F0ZUVycm9yIG9mOlxcblwiO2crKyx0PUFycmF5KDQqZysxKS5qb2luKFwiIFwiKTtmb3IodmFyIG49MDtuPHRoaXMubGVuZ3RoOysrbil7Zm9yKHZhciByPXRoaXNbbl09PT10aGlzP1wiW0NpcmN1bGFyIEFnZ3JlZ2F0ZUVycm9yXVwiOnRoaXNbbl0rXCJcIixpPXIuc3BsaXQoXCJcXG5cIiksbz0wO288aS5sZW5ndGg7KytvKWlbb109dCtpW29dO3I9aS5qb2luKFwiXFxuXCIpLGUrPXIrXCJcXG5cIn1yZXR1cm4gZy0tLGV9LGwoaSxFcnJvcik7dmFyIGI9RXJyb3IuX19CbHVlYmlyZEVycm9yVHlwZXNfXztifHwoYj1jKHtDYW5jZWxsYXRpb25FcnJvcjpoLFRpbWVvdXRFcnJvcjpkLE9wZXJhdGlvbmFsRXJyb3I6aSxSZWplY3Rpb25FcnJvcjppLEFnZ3JlZ2F0ZUVycm9yOl99KSxhLmRlZmluZVByb3BlcnR5KEVycm9yLFwiX19CbHVlYmlyZEVycm9yVHlwZXNfX1wiLHt2YWx1ZTpiLHdyaXRhYmxlOiExLGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiExfSkpLGUuZXhwb3J0cz17RXJyb3I6RXJyb3IsVHlwZUVycm9yOm8sUmFuZ2VFcnJvcjpzLENhbmNlbGxhdGlvbkVycm9yOmIuQ2FuY2VsbGF0aW9uRXJyb3IsT3BlcmF0aW9uYWxFcnJvcjpiLk9wZXJhdGlvbmFsRXJyb3IsVGltZW91dEVycm9yOmIuVGltZW91dEVycm9yLEFnZ3JlZ2F0ZUVycm9yOmIuQWdncmVnYXRlRXJyb3IsV2FybmluZzpwfX0se1wiLi9lczVcIjoxMyxcIi4vdXRpbFwiOjM2fV0sMTM6W2Z1bmN0aW9uKHQsZSxuKXt2YXIgcj1mdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3JldHVybiB2b2lkIDA9PT10aGlzfSgpO2lmKHIpZS5leHBvcnRzPXtmcmVlemU6T2JqZWN0LmZyZWV6ZSxkZWZpbmVQcm9wZXJ0eTpPYmplY3QuZGVmaW5lUHJvcGVydHksZ2V0RGVzY3JpcHRvcjpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLGtleXM6T2JqZWN0LmtleXMsbmFtZXM6T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMsZ2V0UHJvdG90eXBlT2Y6T2JqZWN0LmdldFByb3RvdHlwZU9mLGlzQXJyYXk6QXJyYXkuaXNBcnJheSxpc0VTNTpyLHByb3BlcnR5SXNXcml0YWJsZTpmdW5jdGlvbih0LGUpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKTtyZXR1cm4hKG4mJiFuLndyaXRhYmxlJiYhbi5zZXQpfX07ZWxzZXt2YXIgaT17fS5oYXNPd25Qcm9wZXJ0eSxvPXt9LnRvU3RyaW5nLHM9e30uY29uc3RydWN0b3IucHJvdG90eXBlLGE9ZnVuY3Rpb24odCl7dmFyIGU9W107Zm9yKHZhciBuIGluIHQpaS5jYWxsKHQsbikmJmUucHVzaChuKTtyZXR1cm4gZX0sYz1mdW5jdGlvbih0LGUpe3JldHVybnt2YWx1ZTp0W2VdfX0sdT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbZV09bi52YWx1ZSx0fSxsPWZ1bmN0aW9uKHQpe3JldHVybiB0fSxmPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gT2JqZWN0KHQpLmNvbnN0cnVjdG9yLnByb3RvdHlwZX1jYXRjaChlKXtyZXR1cm4gc319LHA9ZnVuY3Rpb24odCl7dHJ5e3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PW8uY2FsbCh0KX1jYXRjaChlKXtyZXR1cm4hMX19O2UuZXhwb3J0cz17aXNBcnJheTpwLGtleXM6YSxuYW1lczphLGRlZmluZVByb3BlcnR5OnUsZ2V0RGVzY3JpcHRvcjpjLGZyZWV6ZTpsLGdldFByb3RvdHlwZU9mOmYsaXNFUzU6cixwcm9wZXJ0eUlzV3JpdGFibGU6ZnVuY3Rpb24oKXtyZXR1cm4hMH19fX0se31dLDE0OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5tYXA7dC5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKHQscil7cmV0dXJuIG4odGhpcyx0LHIsZSl9LHQuZmlsdGVyPWZ1bmN0aW9uKHQscixpKXtyZXR1cm4gbih0LHIsaSxlKX19fSx7fV0sMTU6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiByKHQsZSxuKXt0aGlzLnByb21pc2U9dCx0aGlzLnR5cGU9ZSx0aGlzLmhhbmRsZXI9bix0aGlzLmNhbGxlZD0hMSx0aGlzLmNhbmNlbFByb21pc2U9bnVsbH1mdW5jdGlvbiBpKHQpe3RoaXMuZmluYWxseUhhbmRsZXI9dH1mdW5jdGlvbiBvKHQsZSl7cmV0dXJuIG51bGwhPXQuY2FuY2VsUHJvbWlzZT8oYXJndW1lbnRzLmxlbmd0aD4xP3QuY2FuY2VsUHJvbWlzZS5fcmVqZWN0KGUpOnQuY2FuY2VsUHJvbWlzZS5fY2FuY2VsKCksdC5jYW5jZWxQcm9taXNlPW51bGwsITApOiExfWZ1bmN0aW9uIHMoKXtyZXR1cm4gYy5jYWxsKHRoaXMsdGhpcy5wcm9taXNlLl90YXJnZXQoKS5fc2V0dGxlZFZhbHVlKCkpfWZ1bmN0aW9uIGEodCl7cmV0dXJuIG8odGhpcyx0KT92b2lkIDA6KGYuZT10LGYpfWZ1bmN0aW9uIGModCl7dmFyIHI9dGhpcy5wcm9taXNlLGM9dGhpcy5oYW5kbGVyO2lmKCF0aGlzLmNhbGxlZCl7dGhpcy5jYWxsZWQ9ITA7dmFyIHU9dGhpcy5pc0ZpbmFsbHlIYW5kbGVyKCk/Yy5jYWxsKHIuX2JvdW5kVmFsdWUoKSk6Yy5jYWxsKHIuX2JvdW5kVmFsdWUoKSx0KTtpZih2b2lkIDAhPT11KXtyLl9zZXRSZXR1cm5lZE5vblVuZGVmaW5lZCgpO3ZhciBwPW4odSxyKTtpZihwIGluc3RhbmNlb2YgZSl7aWYobnVsbCE9dGhpcy5jYW5jZWxQcm9taXNlKXtpZihwLl9pc0NhbmNlbGxlZCgpKXt2YXIgaD1uZXcgbChcImxhdGUgY2FuY2VsbGF0aW9uIG9ic2VydmVyXCIpO3JldHVybiByLl9hdHRhY2hFeHRyYVRyYWNlKGgpLGYuZT1oLGZ9cC5pc1BlbmRpbmcoKSYmcC5fYXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2sobmV3IGkodGhpcykpfXJldHVybiBwLl90aGVuKHMsYSx2b2lkIDAsdGhpcyx2b2lkIDApfX19cmV0dXJuIHIuaXNSZWplY3RlZCgpPyhvKHRoaXMpLGYuZT10LGYpOihvKHRoaXMpLHQpfXZhciB1PXQoXCIuL3V0aWxcIiksbD1lLkNhbmNlbGxhdGlvbkVycm9yLGY9dS5lcnJvck9iajtyZXR1cm4gci5wcm90b3R5cGUuaXNGaW5hbGx5SGFuZGxlcj1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy50eXBlfSxpLnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkPWZ1bmN0aW9uKCl7byh0aGlzLmZpbmFsbHlIYW5kbGVyKX0sZS5wcm90b3R5cGUuX3Bhc3NUaHJvdWdoPWZ1bmN0aW9uKHQsZSxuLGkpe3JldHVyblwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/dGhpcy50aGVuKCk6dGhpcy5fdGhlbihuLGksdm9pZCAwLG5ldyByKHRoaXMsZSx0KSx2b2lkIDApfSxlLnByb3RvdHlwZS5sYXN0bHk9ZS5wcm90b3R5cGVbXCJmaW5hbGx5XCJdPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9wYXNzVGhyb3VnaCh0LDAsYyxjKX0sZS5wcm90b3R5cGUudGFwPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9wYXNzVGhyb3VnaCh0LDEsYyl9LHJ9fSx7XCIuL3V0aWxcIjozNn1dLDE2OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyLGksbyxzKXtmdW5jdGlvbiBhKHQsbixyKXtmb3IodmFyIG89MDtvPG4ubGVuZ3RoOysrbyl7ci5fcHVzaENvbnRleHQoKTt2YXIgcz1oKG5bb10pKHQpO2lmKHIuX3BvcENvbnRleHQoKSxzPT09cCl7ci5fcHVzaENvbnRleHQoKTt2YXIgYT1lLnJlamVjdChwLmUpO3JldHVybiByLl9wb3BDb250ZXh0KCksYX12YXIgYz1pKHMscik7aWYoYyBpbnN0YW5jZW9mIGUpcmV0dXJuIGN9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYyh0LG4saSxvKXtpZihzLmNhbmNlbGxhdGlvbigpKXt2YXIgYT1uZXcgZShyKSxjPXRoaXMuX2ZpbmFsbHlQcm9taXNlPW5ldyBlKHIpO3RoaXMuX3Byb21pc2U9YS5sYXN0bHkoZnVuY3Rpb24oKXtyZXR1cm4gY30pLGEuX2NhcHR1cmVTdGFja1RyYWNlKCksYS5fc2V0T25DYW5jZWwodGhpcyl9ZWxzZXt2YXIgdT10aGlzLl9wcm9taXNlPW5ldyBlKHIpO3UuX2NhcHR1cmVTdGFja1RyYWNlKCl9dGhpcy5fc3RhY2s9byx0aGlzLl9nZW5lcmF0b3JGdW5jdGlvbj10LHRoaXMuX3JlY2VpdmVyPW4sdGhpcy5fZ2VuZXJhdG9yPXZvaWQgMCx0aGlzLl95aWVsZEhhbmRsZXJzPVwiZnVuY3Rpb25cIj09dHlwZW9mIGk/W2ldLmNvbmNhdChkKTpkLHRoaXMuX3lpZWxkZWRQcm9taXNlPW51bGwsdGhpcy5fY2FuY2VsbGF0aW9uUGhhc2U9ITF9dmFyIHU9dChcIi4vZXJyb3JzXCIpLGw9dS5UeXBlRXJyb3IsZj10KFwiLi91dGlsXCIpLHA9Zi5lcnJvck9iaixoPWYudHJ5Q2F0Y2gsZD1bXTtmLmluaGVyaXRzKGMsbyksYy5wcm90b3R5cGUuX2lzUmVzb2x2ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuX3Byb21pc2V9LGMucHJvdG90eXBlLl9jbGVhbnVwPWZ1bmN0aW9uKCl7dGhpcy5fcHJvbWlzZT10aGlzLl9nZW5lcmF0b3I9bnVsbCxzLmNhbmNlbGxhdGlvbigpJiZudWxsIT09dGhpcy5fZmluYWxseVByb21pc2UmJih0aGlzLl9maW5hbGx5UHJvbWlzZS5fZnVsZmlsbCgpLHRoaXMuX2ZpbmFsbHlQcm9taXNlPW51bGwpfSxjLnByb3RvdHlwZS5fcHJvbWlzZUNhbmNlbGxlZD1mdW5jdGlvbigpe2lmKCF0aGlzLl9pc1Jlc29sdmVkKCkpe3ZhciB0LG49XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMuX2dlbmVyYXRvcltcInJldHVyblwiXTtpZihuKXRoaXMuX3Byb21pc2UuX3B1c2hDb250ZXh0KCksdD1oKHRoaXMuX2dlbmVyYXRvcltcInJldHVyblwiXSkuY2FsbCh0aGlzLl9nZW5lcmF0b3Isdm9pZCAwKSx0aGlzLl9wcm9taXNlLl9wb3BDb250ZXh0KCk7ZWxzZXt2YXIgcj1uZXcgZS5DYW5jZWxsYXRpb25FcnJvcihcImdlbmVyYXRvciAucmV0dXJuKCkgc2VudGluZWxcIik7ZS5jb3JvdXRpbmUucmV0dXJuU2VudGluZWw9cix0aGlzLl9wcm9taXNlLl9hdHRhY2hFeHRyYVRyYWNlKHIpLHRoaXMuX3Byb21pc2UuX3B1c2hDb250ZXh0KCksdD1oKHRoaXMuX2dlbmVyYXRvcltcInRocm93XCJdKS5jYWxsKHRoaXMuX2dlbmVyYXRvcixyKSx0aGlzLl9wcm9taXNlLl9wb3BDb250ZXh0KCl9dGhpcy5fY2FuY2VsbGF0aW9uUGhhc2U9ITAsdGhpcy5feWllbGRlZFByb21pc2U9bnVsbCx0aGlzLl9jb250aW51ZSh0KX19LGMucHJvdG90eXBlLl9wcm9taXNlRnVsZmlsbGVkPWZ1bmN0aW9uKHQpe3RoaXMuX3lpZWxkZWRQcm9taXNlPW51bGwsdGhpcy5fcHJvbWlzZS5fcHVzaENvbnRleHQoKTt2YXIgZT1oKHRoaXMuX2dlbmVyYXRvci5uZXh0KS5jYWxsKHRoaXMuX2dlbmVyYXRvcix0KTt0aGlzLl9wcm9taXNlLl9wb3BDb250ZXh0KCksdGhpcy5fY29udGludWUoZSl9LGMucHJvdG90eXBlLl9wcm9taXNlUmVqZWN0ZWQ9ZnVuY3Rpb24odCl7dGhpcy5feWllbGRlZFByb21pc2U9bnVsbCx0aGlzLl9wcm9taXNlLl9hdHRhY2hFeHRyYVRyYWNlKHQpLHRoaXMuX3Byb21pc2UuX3B1c2hDb250ZXh0KCk7dmFyIGU9aCh0aGlzLl9nZW5lcmF0b3JbXCJ0aHJvd1wiXSkuY2FsbCh0aGlzLl9nZW5lcmF0b3IsdCk7dGhpcy5fcHJvbWlzZS5fcG9wQ29udGV4dCgpLHRoaXMuX2NvbnRpbnVlKGUpfSxjLnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkPWZ1bmN0aW9uKCl7aWYodGhpcy5feWllbGRlZFByb21pc2UgaW5zdGFuY2VvZiBlKXt2YXIgdD10aGlzLl95aWVsZGVkUHJvbWlzZTt0aGlzLl95aWVsZGVkUHJvbWlzZT1udWxsLHQuY2FuY2VsKCl9fSxjLnByb3RvdHlwZS5wcm9taXNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb21pc2V9LGMucHJvdG90eXBlLl9ydW49ZnVuY3Rpb24oKXt0aGlzLl9nZW5lcmF0b3I9dGhpcy5fZ2VuZXJhdG9yRnVuY3Rpb24uY2FsbCh0aGlzLl9yZWNlaXZlciksdGhpcy5fcmVjZWl2ZXI9dGhpcy5fZ2VuZXJhdG9yRnVuY3Rpb249dm9pZCAwLHRoaXMuX3Byb21pc2VGdWxmaWxsZWQodm9pZCAwKX0sYy5wcm90b3R5cGUuX2NvbnRpbnVlPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuX3Byb21pc2U7aWYodD09PXApcmV0dXJuIHRoaXMuX2NsZWFudXAoKSx0aGlzLl9jYW5jZWxsYXRpb25QaGFzZT9uLmNhbmNlbCgpOm4uX3JlamVjdENhbGxiYWNrKHQuZSwhMSk7dmFyIHI9dC52YWx1ZTtpZih0LmRvbmU9PT0hMClyZXR1cm4gdGhpcy5fY2xlYW51cCgpLHRoaXMuX2NhbmNlbGxhdGlvblBoYXNlP24uY2FuY2VsKCk6bi5fcmVzb2x2ZUNhbGxiYWNrKHIpO3ZhciBvPWkocix0aGlzLl9wcm9taXNlKTtpZighKG8gaW5zdGFuY2VvZiBlKSYmKG89YShvLHRoaXMuX3lpZWxkSGFuZGxlcnMsdGhpcy5fcHJvbWlzZSksbnVsbD09PW8pKXJldHVybiB2b2lkIHRoaXMuX3Byb21pc2VSZWplY3RlZChuZXcgbChcIkEgdmFsdWUgJXMgd2FzIHlpZWxkZWQgdGhhdCBjb3VsZCBub3QgYmUgdHJlYXRlZCBhcyBhIHByb21pc2VcXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXFxuXCIucmVwbGFjZShcIiVzXCIscikrXCJGcm9tIGNvcm91dGluZTpcXG5cIit0aGlzLl9zdGFjay5zcGxpdChcIlxcblwiKS5zbGljZSgxLC03KS5qb2luKFwiXFxuXCIpKSk7bz1vLl90YXJnZXQoKTt2YXIgcz1vLl9iaXRGaWVsZDswPT09KDUwMzk3MTg0JnMpPyh0aGlzLl95aWVsZGVkUHJvbWlzZT1vLG8uX3Byb3h5KHRoaXMsbnVsbCkpOjAhPT0oMzM1NTQ0MzImcyk/ZS5fYXN5bmMuaW52b2tlKHRoaXMuX3Byb21pc2VGdWxmaWxsZWQsdGhpcyxvLl92YWx1ZSgpKTowIT09KDE2Nzc3MjE2JnMpP2UuX2FzeW5jLmludm9rZSh0aGlzLl9wcm9taXNlUmVqZWN0ZWQsdGhpcyxvLl9yZWFzb24oKSk6dGhpcy5fcHJvbWlzZUNhbmNlbGxlZCgpfSxlLmNvcm91dGluZT1mdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IGwoXCJnZW5lcmF0b3JGdW5jdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb25cXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXCIpO3ZhciBuPU9iamVjdChlKS55aWVsZEhhbmRsZXIscj1jLGk9KG5ldyBFcnJvcikuc3RhY2s7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyksbz1uZXcgcih2b2lkIDAsdm9pZCAwLG4saSkscz1vLnByb21pc2UoKTtyZXR1cm4gby5fZ2VuZXJhdG9yPWUsby5fcHJvbWlzZUZ1bGZpbGxlZCh2b2lkIDApLHN9fSxlLmNvcm91dGluZS5hZGRZaWVsZEhhbmRsZXI9ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgbChcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIrZi5jbGFzc1N0cmluZyh0KSk7ZC5wdXNoKHQpfSxlLnNwYXduPWZ1bmN0aW9uKHQpe2lmKHMuZGVwcmVjYXRlZChcIlByb21pc2Uuc3Bhd24oKVwiLFwiUHJvbWlzZS5jb3JvdXRpbmUoKVwiKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXJldHVybiBuKFwiZ2VuZXJhdG9yRnVuY3Rpb24gbXVzdCBiZSBhIGZ1bmN0aW9uXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKTtcbnZhciByPW5ldyBjKHQsdGhpcyksaT1yLnByb21pc2UoKTtyZXR1cm4gci5fcnVuKGUuc3Bhd24pLGl9fX0se1wiLi9lcnJvcnNcIjoxMixcIi4vdXRpbFwiOjM2fV0sMTc6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIsaSxvLHMpe3ZhciBhPXQoXCIuL3V0aWxcIik7YS5jYW5FdmFsdWF0ZSxhLnRyeUNhdGNoLGEuZXJyb3JPYmo7ZS5qb2luPWZ1bmN0aW9uKCl7dmFyIHQsZT1hcmd1bWVudHMubGVuZ3RoLTE7aWYoZT4wJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhcmd1bWVudHNbZV0pe3Q9YXJndW1lbnRzW2VdO3ZhciByfXZhciBpPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTt0JiZpLnBvcCgpO3ZhciByPW5ldyBuKGkpLnByb21pc2UoKTtyZXR1cm4gdm9pZCAwIT09dD9yLnNwcmVhZCh0KTpyfX19LHtcIi4vdXRpbFwiOjM2fV0sMTg6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIsaSxvLHMpe2Z1bmN0aW9uIGEodCxlLG4scil7dGhpcy5jb25zdHJ1Y3RvciQodCksdGhpcy5fcHJvbWlzZS5fY2FwdHVyZVN0YWNrVHJhY2UoKTt2YXIgaT11KCk7dGhpcy5fY2FsbGJhY2s9bnVsbD09PWk/ZTpsLmRvbWFpbkJpbmQoaSxlKSx0aGlzLl9wcmVzZXJ2ZWRWYWx1ZXM9cj09PW8/bmV3IEFycmF5KHRoaXMubGVuZ3RoKCkpOm51bGwsdGhpcy5fbGltaXQ9bix0aGlzLl9pbkZsaWdodD0wLHRoaXMuX3F1ZXVlPVtdLGguaW52b2tlKHRoaXMuX2FzeW5jSW5pdCx0aGlzLHZvaWQgMCl9ZnVuY3Rpb24gYyh0LG4saSxvKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuKXJldHVybiByKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIitsLmNsYXNzU3RyaW5nKG4pKTt2YXIgcz0wO2lmKHZvaWQgMCE9PWkpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBpfHxudWxsPT09aSlyZXR1cm4gZS5yZWplY3QobmV3IFR5cGVFcnJvcihcIm9wdGlvbnMgYXJndW1lbnQgbXVzdCBiZSBhbiBvYmplY3QgYnV0IGl0IGlzIFwiK2wuY2xhc3NTdHJpbmcoaSkpKTtpZihcIm51bWJlclwiIT10eXBlb2YgaS5jb25jdXJyZW5jeSlyZXR1cm4gZS5yZWplY3QobmV3IFR5cGVFcnJvcihcIidjb25jdXJyZW5jeScgbXVzdCBiZSBhIG51bWJlciBidXQgaXQgaXMgXCIrbC5jbGFzc1N0cmluZyhpLmNvbmN1cnJlbmN5KSkpO3M9aS5jb25jdXJyZW5jeX1yZXR1cm4gcz1cIm51bWJlclwiPT10eXBlb2YgcyYmaXNGaW5pdGUocykmJnM+PTE/czowLG5ldyBhKHQsbixzLG8pLnByb21pc2UoKX12YXIgdT1lLl9nZXREb21haW4sbD10KFwiLi91dGlsXCIpLGY9bC50cnlDYXRjaCxwPWwuZXJyb3JPYmosaD1lLl9hc3luYztsLmluaGVyaXRzKGEsbiksYS5wcm90b3R5cGUuX2FzeW5jSW5pdD1mdW5jdGlvbigpe3RoaXMuX2luaXQkKHZvaWQgMCwtMil9LGEucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKCl7fSxhLnByb3RvdHlwZS5fcHJvbWlzZUZ1bGZpbGxlZD1mdW5jdGlvbih0LG4pe3ZhciByPXRoaXMuX3ZhbHVlcyxvPXRoaXMubGVuZ3RoKCksYT10aGlzLl9wcmVzZXJ2ZWRWYWx1ZXMsYz10aGlzLl9saW1pdDtpZigwPm4pe2lmKG49LTEqbi0xLHJbbl09dCxjPj0xJiYodGhpcy5faW5GbGlnaHQtLSx0aGlzLl9kcmFpblF1ZXVlKCksdGhpcy5faXNSZXNvbHZlZCgpKSlyZXR1cm4hMH1lbHNle2lmKGM+PTEmJnRoaXMuX2luRmxpZ2h0Pj1jKXJldHVybiByW25dPXQsdGhpcy5fcXVldWUucHVzaChuKSwhMTtudWxsIT09YSYmKGFbbl09dCk7dmFyIHU9dGhpcy5fcHJvbWlzZSxsPXRoaXMuX2NhbGxiYWNrLGg9dS5fYm91bmRWYWx1ZSgpO3UuX3B1c2hDb250ZXh0KCk7dmFyIGQ9ZihsKS5jYWxsKGgsdCxuLG8pLF89dS5fcG9wQ29udGV4dCgpO2lmKHMuY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zKGQsXyxudWxsIT09YT9cIlByb21pc2UuZmlsdGVyXCI6XCJQcm9taXNlLm1hcFwiLHUpLGQ9PT1wKXJldHVybiB0aGlzLl9yZWplY3QoZC5lKSwhMDt2YXIgdj1pKGQsdGhpcy5fcHJvbWlzZSk7aWYodiBpbnN0YW5jZW9mIGUpe3Y9di5fdGFyZ2V0KCk7dmFyIHk9di5fYml0RmllbGQ7aWYoMD09PSg1MDM5NzE4NCZ5KSlyZXR1cm4gYz49MSYmdGhpcy5faW5GbGlnaHQrKyxyW25dPXYsdi5fcHJveHkodGhpcywtMSoobisxKSksITE7aWYoMD09PSgzMzU1NDQzMiZ5KSlyZXR1cm4gMCE9PSgxNjc3NzIxNiZ5KT8odGhpcy5fcmVqZWN0KHYuX3JlYXNvbigpKSwhMCk6KHRoaXMuX2NhbmNlbCgpLCEwKTtkPXYuX3ZhbHVlKCl9cltuXT1kfXZhciBtPSsrdGhpcy5fdG90YWxSZXNvbHZlZDtyZXR1cm4gbT49bz8obnVsbCE9PWE/dGhpcy5fZmlsdGVyKHIsYSk6dGhpcy5fcmVzb2x2ZShyKSwhMCk6ITF9LGEucHJvdG90eXBlLl9kcmFpblF1ZXVlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX3F1ZXVlLGU9dGhpcy5fbGltaXQsbj10aGlzLl92YWx1ZXM7dC5sZW5ndGg+MCYmdGhpcy5faW5GbGlnaHQ8ZTspe2lmKHRoaXMuX2lzUmVzb2x2ZWQoKSlyZXR1cm47dmFyIHI9dC5wb3AoKTt0aGlzLl9wcm9taXNlRnVsZmlsbGVkKG5bcl0scil9fSxhLnByb3RvdHlwZS5fZmlsdGVyPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPWUubGVuZ3RoLHI9bmV3IEFycmF5KG4pLGk9MCxvPTA7bj5vOysrbyl0W29dJiYocltpKytdPWVbb10pO3IubGVuZ3RoPWksdGhpcy5fcmVzb2x2ZShyKX0sYS5wcm90b3R5cGUucHJlc2VydmVkVmFsdWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ByZXNlcnZlZFZhbHVlc30sZS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGModGhpcyx0LGUsbnVsbCl9LGUubWFwPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBjKHQsZSxuLHIpfX19LHtcIi4vdXRpbFwiOjM2fV0sMTk6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIsaSxvKXt2YXIgcz10KFwiLi91dGlsXCIpLGE9cy50cnlDYXRjaDtlLm1ldGhvZD1mdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBlLlR5cGVFcnJvcihcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIrcy5jbGFzc1N0cmluZyh0KSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHI9bmV3IGUobik7ci5fY2FwdHVyZVN0YWNrVHJhY2UoKSxyLl9wdXNoQ29udGV4dCgpO3ZhciBpPWEodCkuYXBwbHkodGhpcyxhcmd1bWVudHMpLHM9ci5fcG9wQ29udGV4dCgpO3JldHVybiBvLmNoZWNrRm9yZ290dGVuUmV0dXJucyhpLHMsXCJQcm9taXNlLm1ldGhvZFwiLHIpLHIuX3Jlc29sdmVGcm9tU3luY1ZhbHVlKGkpLHJ9fSxlLmF0dGVtcHQ9ZVtcInRyeVwiXT1mdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXJldHVybiBpKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIitzLmNsYXNzU3RyaW5nKHQpKTt2YXIgcj1uZXcgZShuKTtyLl9jYXB0dXJlU3RhY2tUcmFjZSgpLHIuX3B1c2hDb250ZXh0KCk7dmFyIGM7aWYoYXJndW1lbnRzLmxlbmd0aD4xKXtvLmRlcHJlY2F0ZWQoXCJjYWxsaW5nIFByb21pc2UudHJ5IHdpdGggbW9yZSB0aGFuIDEgYXJndW1lbnRcIik7dmFyIHU9YXJndW1lbnRzWzFdLGw9YXJndW1lbnRzWzJdO2M9cy5pc0FycmF5KHUpP2EodCkuYXBwbHkobCx1KTphKHQpLmNhbGwobCx1KX1lbHNlIGM9YSh0KSgpO3ZhciBmPXIuX3BvcENvbnRleHQoKTtyZXR1cm4gby5jaGVja0ZvcmdvdHRlblJldHVybnMoYyxmLFwiUHJvbWlzZS50cnlcIixyKSxyLl9yZXNvbHZlRnJvbVN5bmNWYWx1ZShjKSxyfSxlLnByb3RvdHlwZS5fcmVzb2x2ZUZyb21TeW5jVmFsdWU9ZnVuY3Rpb24odCl7dD09PXMuZXJyb3JPYmo/dGhpcy5fcmVqZWN0Q2FsbGJhY2sodC5lLCExKTp0aGlzLl9yZXNvbHZlQ2FsbGJhY2sodCwhMCl9fX0se1wiLi91dGlsXCI6MzZ9XSwyMDpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBFcnJvciYmbC5nZXRQcm90b3R5cGVPZih0KT09PUVycm9yLnByb3RvdHlwZX1mdW5jdGlvbiBpKHQpe3ZhciBlO2lmKHIodCkpe2U9bmV3IHUodCksZS5uYW1lPXQubmFtZSxlLm1lc3NhZ2U9dC5tZXNzYWdlLGUuc3RhY2s9dC5zdGFjaztmb3IodmFyIG49bC5rZXlzKHQpLGk9MDtpPG4ubGVuZ3RoOysraSl7dmFyIG89bltpXTtmLnRlc3Qobyl8fChlW29dPXRbb10pfXJldHVybiBlfXJldHVybiBzLm1hcmtBc09yaWdpbmF0aW5nRnJvbVJlamVjdGlvbih0KSx0fWZ1bmN0aW9uIG8odCxlKXtyZXR1cm4gZnVuY3Rpb24obixyKXtpZihudWxsIT09dCl7aWYobil7dmFyIG89aShhKG4pKTt0Ll9hdHRhY2hFeHRyYVRyYWNlKG8pLHQuX3JlamVjdChvKX1lbHNlIGlmKGUpe3ZhciBzPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3QuX2Z1bGZpbGwocyl9ZWxzZSB0Ll9mdWxmaWxsKHIpO3Q9bnVsbH19fXZhciBzPXQoXCIuL3V0aWxcIiksYT1zLm1heWJlV3JhcEFzRXJyb3IsYz10KFwiLi9lcnJvcnNcIiksdT1jLk9wZXJhdGlvbmFsRXJyb3IsbD10KFwiLi9lczVcIiksZj0vXig/Om5hbWV8bWVzc2FnZXxzdGFja3xjYXVzZSkkLztlLmV4cG9ydHM9b30se1wiLi9lcnJvcnNcIjoxMixcIi4vZXM1XCI6MTMsXCIuL3V0aWxcIjozNn1dLDIxOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4odCxlKXt2YXIgbj10aGlzO2lmKCFvLmlzQXJyYXkodCkpcmV0dXJuIHIuY2FsbChuLHQsZSk7dmFyIGk9YShlKS5hcHBseShuLl9ib3VuZFZhbHVlKCksW251bGxdLmNvbmNhdCh0KSk7aT09PWMmJnMudGhyb3dMYXRlcihpLmUpfWZ1bmN0aW9uIHIodCxlKXt2YXIgbj10aGlzLHI9bi5fYm91bmRWYWx1ZSgpLGk9dm9pZCAwPT09dD9hKGUpLmNhbGwocixudWxsKTphKGUpLmNhbGwocixudWxsLHQpO2k9PT1jJiZzLnRocm93TGF0ZXIoaS5lKX1mdW5jdGlvbiBpKHQsZSl7dmFyIG49dGhpcztpZighdCl7dmFyIHI9bmV3IEVycm9yKHQrXCJcIik7ci5jYXVzZT10LHQ9cn12YXIgaT1hKGUpLmNhbGwobi5fYm91bmRWYWx1ZSgpLHQpO2k9PT1jJiZzLnRocm93TGF0ZXIoaS5lKX12YXIgbz10KFwiLi91dGlsXCIpLHM9ZS5fYXN5bmMsYT1vLnRyeUNhdGNoLGM9by5lcnJvck9iajtlLnByb3RvdHlwZS5hc0NhbGxiYWNrPWUucHJvdG90eXBlLm5vZGVpZnk9ZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KXt2YXIgbz1yO3ZvaWQgMCE9PWUmJk9iamVjdChlKS5zcHJlYWQmJihvPW4pLHRoaXMuX3RoZW4obyxpLHZvaWQgMCx0aGlzLHQpfXJldHVybiB0aGlzfX19LHtcIi4vdXRpbFwiOjM2fV0sMjI6W2Z1bmN0aW9uKHQsbixyKXtcInVzZSBzdHJpY3RcIjtuLmV4cG9ydHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiByKCl7fWZ1bmN0aW9uIGkodCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBnKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIitkLmNsYXNzU3RyaW5nKGUpKTtpZih0LmNvbnN0cnVjdG9yIT09byl0aHJvdyBuZXcgZyhcInRoZSBwcm9taXNlIGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBpbnZva2VkIGRpcmVjdGx5XFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKX1mdW5jdGlvbiBvKHQpe3RoaXMuX2JpdEZpZWxkPTAsdGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyMD12b2lkIDAsdGhpcy5fcmVqZWN0aW9uSGFuZGxlcjA9dm9pZCAwLHRoaXMuX3Byb21pc2UwPXZvaWQgMCx0aGlzLl9yZWNlaXZlcjA9dm9pZCAwLHQhPT13JiYoaSh0aGlzLHQpLHRoaXMuX3Jlc29sdmVGcm9tRXhlY3V0b3IodCkpLHRoaXMuX3Byb21pc2VDcmVhdGVkKCksdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZUNyZWF0ZWRcIix0aGlzKX1mdW5jdGlvbiBzKHQpe3RoaXMucHJvbWlzZS5fcmVzb2x2ZUNhbGxiYWNrKHQpfWZ1bmN0aW9uIGEodCl7dGhpcy5wcm9taXNlLl9yZWplY3RDYWxsYmFjayh0LCExKX1mdW5jdGlvbiBjKHQpe3ZhciBlPW5ldyBvKHcpO2UuX2Z1bGZpbGxtZW50SGFuZGxlcjA9dCxlLl9yZWplY3Rpb25IYW5kbGVyMD10LGUuX3Byb21pc2UwPXQsZS5fcmVjZWl2ZXIwPXR9dmFyIHUsbD1mdW5jdGlvbigpe3JldHVybiBuZXcgZyhcImNpcmN1bGFyIHByb21pc2UgcmVzb2x1dGlvbiBjaGFpblxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIil9LGY9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG8uUHJvbWlzZUluc3BlY3Rpb24odGhpcy5fdGFyZ2V0KCkpfSxwPWZ1bmN0aW9uKHQpe3JldHVybiBvLnJlamVjdChuZXcgZyh0KSl9LGg9e30sZD10KFwiLi91dGlsXCIpO3U9ZC5pc05vZGU/ZnVuY3Rpb24oKXt2YXIgdD1lLmRvbWFpbjtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9bnVsbCksdH06ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZC5ub3RFbnVtZXJhYmxlUHJvcChvLFwiX2dldERvbWFpblwiLHUpO3ZhciBfPXQoXCIuL2VzNVwiKSx2PXQoXCIuL2FzeW5jXCIpLHk9bmV3IHY7Xy5kZWZpbmVQcm9wZXJ0eShvLFwiX2FzeW5jXCIse3ZhbHVlOnl9KTt2YXIgbT10KFwiLi9lcnJvcnNcIiksZz1vLlR5cGVFcnJvcj1tLlR5cGVFcnJvcjtvLlJhbmdlRXJyb3I9bS5SYW5nZUVycm9yO3ZhciBiPW8uQ2FuY2VsbGF0aW9uRXJyb3I9bS5DYW5jZWxsYXRpb25FcnJvcjtvLlRpbWVvdXRFcnJvcj1tLlRpbWVvdXRFcnJvcixvLk9wZXJhdGlvbmFsRXJyb3I9bS5PcGVyYXRpb25hbEVycm9yLG8uUmVqZWN0aW9uRXJyb3I9bS5PcGVyYXRpb25hbEVycm9yLG8uQWdncmVnYXRlRXJyb3I9bS5BZ2dyZWdhdGVFcnJvcjt2YXIgdz1mdW5jdGlvbigpe30sRT17fSxDPXt9LGs9dChcIi4vdGhlbmFibGVzXCIpKG8sdyksaj10KFwiLi9wcm9taXNlX2FycmF5XCIpKG8sdyxrLHAscikseD10KFwiLi9jb250ZXh0XCIpKG8pLEY9eC5jcmVhdGUsVD10KFwiLi9kZWJ1Z2dhYmlsaXR5XCIpKG8seCksUz0oVC5DYXB0dXJlZFRyYWNlLHQoXCIuL2ZpbmFsbHlcIikobyxrKSksUD10KFwiLi9jYXRjaF9maWx0ZXJcIikoQyksTz10KFwiLi9ub2RlYmFja1wiKSxSPWQuZXJyb3JPYmosQT1kLnRyeUNhdGNoO3JldHVybiBvLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBQcm9taXNlXVwifSxvLnByb3RvdHlwZS5jYXVnaHQ9by5wcm90b3R5cGVbXCJjYXRjaFwiXT1mdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoO2lmKGU+MSl7dmFyIG4scj1uZXcgQXJyYXkoZS0xKSxpPTA7Zm9yKG49MDtlLTE+bjsrK24pe3ZhciBvPWFyZ3VtZW50c1tuXTtpZighZC5pc09iamVjdChvKSlyZXR1cm4gcChcImV4cGVjdGluZyBhbiBvYmplY3QgYnV0IGdvdCBBIGNhdGNoIHN0YXRlbWVudCBwcmVkaWNhdGUgXCIrZC5jbGFzc1N0cmluZyhvKSk7cltpKytdPW99cmV0dXJuIHIubGVuZ3RoPWksdD1hcmd1bWVudHNbbl0sdGhpcy50aGVuKHZvaWQgMCxQKHIsdCx0aGlzKSl9cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsdCl9LG8ucHJvdG90eXBlLnJlZmxlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGhlbihmLGYsdm9pZCAwLHRoaXMsdm9pZCAwKX0sby5wcm90b3R5cGUudGhlbj1mdW5jdGlvbih0LGUpe2lmKFQud2FybmluZ3MoKSYmYXJndW1lbnRzLmxlbmd0aD4wJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXt2YXIgbj1cIi50aGVuKCkgb25seSBhY2NlcHRzIGZ1bmN0aW9ucyBidXQgd2FzIHBhc3NlZDogXCIrZC5jbGFzc1N0cmluZyh0KTthcmd1bWVudHMubGVuZ3RoPjEmJihuKz1cIiwgXCIrZC5jbGFzc1N0cmluZyhlKSksdGhpcy5fd2FybihuKX1yZXR1cm4gdGhpcy5fdGhlbih0LGUsdm9pZCAwLHZvaWQgMCx2b2lkIDApfSxvLnByb3RvdHlwZS5kb25lPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fdGhlbih0LGUsdm9pZCAwLHZvaWQgMCx2b2lkIDApO24uX3NldElzRmluYWwoKX0sby5wcm90b3R5cGUuc3ByZWFkPWZ1bmN0aW9uKHQpe3JldHVyblwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/cChcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIrZC5jbGFzc1N0cmluZyh0KSk6dGhpcy5hbGwoKS5fdGhlbih0LHZvaWQgMCx2b2lkIDAsRSx2b2lkIDApfSxvLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgdD17aXNGdWxmaWxsZWQ6ITEsaXNSZWplY3RlZDohMSxmdWxmaWxsbWVudFZhbHVlOnZvaWQgMCxyZWplY3Rpb25SZWFzb246dm9pZCAwfTtyZXR1cm4gdGhpcy5pc0Z1bGZpbGxlZCgpPyh0LmZ1bGZpbGxtZW50VmFsdWU9dGhpcy52YWx1ZSgpLHQuaXNGdWxmaWxsZWQ9ITApOnRoaXMuaXNSZWplY3RlZCgpJiYodC5yZWplY3Rpb25SZWFzb249dGhpcy5yZWFzb24oKSx0LmlzUmVqZWN0ZWQ9ITApLHR9LG8ucHJvdG90eXBlLmFsbD1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjAmJnRoaXMuX3dhcm4oXCIuYWxsKCkgd2FzIHBhc3NlZCBhcmd1bWVudHMgYnV0IGl0IGRvZXMgbm90IHRha2UgYW55XCIpLG5ldyBqKHRoaXMpLnByb21pc2UoKX0sby5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2F1Z2h0KGQub3JpZ2luYXRlc0Zyb21SZWplY3Rpb24sdCl9LG8uZ2V0TmV3TGlicmFyeUNvcHk9bi5leHBvcnRzLG8uaXM9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBvfSxvLmZyb21Ob2RlPW8uZnJvbUNhbGxiYWNrPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBvKHcpO2UuX2NhcHR1cmVTdGFja1RyYWNlKCk7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xPyEhT2JqZWN0KGFyZ3VtZW50c1sxXSkubXVsdGlBcmdzOiExLHI9QSh0KShPKGUsbikpO3JldHVybiByPT09UiYmZS5fcmVqZWN0Q2FsbGJhY2soci5lLCEwKSxlLl9pc0ZhdGVTZWFsZWQoKXx8ZS5fc2V0QXN5bmNHdWFyYW50ZWVkKCksZX0sby5hbGw9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBqKHQpLnByb21pc2UoKX0sby5jYXN0PWZ1bmN0aW9uKHQpe3ZhciBlPWsodCk7cmV0dXJuIGUgaW5zdGFuY2VvZiBvfHwoZT1uZXcgbyh3KSxlLl9jYXB0dXJlU3RhY2tUcmFjZSgpLGUuX3NldEZ1bGZpbGxlZCgpLGUuX3JlamVjdGlvbkhhbmRsZXIwPXQpLGV9LG8ucmVzb2x2ZT1vLmZ1bGZpbGxlZD1vLmNhc3Qsby5yZWplY3Q9by5yZWplY3RlZD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgbyh3KTtyZXR1cm4gZS5fY2FwdHVyZVN0YWNrVHJhY2UoKSxlLl9yZWplY3RDYWxsYmFjayh0LCEwKSxlfSxvLnNldFNjaGVkdWxlcj1mdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBnKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIitkLmNsYXNzU3RyaW5nKHQpKTtyZXR1cm4geS5zZXRTY2hlZHVsZXIodCl9LG8ucHJvdG90eXBlLl90aGVuPWZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIHM9dm9pZCAwIT09aSxhPXM/aTpuZXcgbyh3KSxjPXRoaXMuX3RhcmdldCgpLGw9Yy5fYml0RmllbGQ7c3x8KGEuX3Byb3BhZ2F0ZUZyb20odGhpcywzKSxhLl9jYXB0dXJlU3RhY2tUcmFjZSgpLHZvaWQgMD09PXImJjAhPT0oMjA5NzE1MiZ0aGlzLl9iaXRGaWVsZCkmJihyPTAhPT0oNTAzOTcxODQmbCk/dGhpcy5fYm91bmRWYWx1ZSgpOmM9PT10aGlzP3ZvaWQgMDp0aGlzLl9ib3VuZFRvKSx0aGlzLl9maXJlRXZlbnQoXCJwcm9taXNlQ2hhaW5lZFwiLHRoaXMsYSkpO3ZhciBmPXUoKTtpZigwIT09KDUwMzk3MTg0JmwpKXt2YXIgcCxoLF89Yy5fc2V0dGxlUHJvbWlzZUN0eDswIT09KDMzNTU0NDMyJmwpPyhoPWMuX3JlamVjdGlvbkhhbmRsZXIwLHA9dCk6MCE9PSgxNjc3NzIxNiZsKT8oaD1jLl9mdWxmaWxsbWVudEhhbmRsZXIwLHA9ZSxjLl91bnNldFJlamVjdGlvbklzVW5oYW5kbGVkKCkpOihfPWMuX3NldHRsZVByb21pc2VMYXRlQ2FuY2VsbGF0aW9uT2JzZXJ2ZXIsaD1uZXcgYihcImxhdGUgY2FuY2VsbGF0aW9uIG9ic2VydmVyXCIpLGMuX2F0dGFjaEV4dHJhVHJhY2UoaCkscD1lKSx5Lmludm9rZShfLGMse2hhbmRsZXI6bnVsbD09PWY/cDpcImZ1bmN0aW9uXCI9PXR5cGVvZiBwJiZkLmRvbWFpbkJpbmQoZixwKSxwcm9taXNlOmEscmVjZWl2ZXI6cix2YWx1ZTpofSl9ZWxzZSBjLl9hZGRDYWxsYmFja3ModCxlLGEscixmKTtyZXR1cm4gYX0sby5wcm90b3R5cGUuX2xlbmd0aD1mdW5jdGlvbigpe3JldHVybiA2NTUzNSZ0aGlzLl9iaXRGaWVsZH0sby5wcm90b3R5cGUuX2lzRmF0ZVNlYWxlZD1mdW5jdGlvbigpe3JldHVybiAwIT09KDExNzUwNjA0OCZ0aGlzLl9iaXRGaWVsZCl9LG8ucHJvdG90eXBlLl9pc0ZvbGxvd2luZz1mdW5jdGlvbigpe3JldHVybiA2NzEwODg2ND09PSg2NzEwODg2NCZ0aGlzLl9iaXRGaWVsZCl9LG8ucHJvdG90eXBlLl9zZXRMZW5ndGg9ZnVuY3Rpb24odCl7dGhpcy5fYml0RmllbGQ9LTY1NTM2JnRoaXMuX2JpdEZpZWxkfDY1NTM1JnR9LG8ucHJvdG90eXBlLl9zZXRGdWxmaWxsZWQ9ZnVuY3Rpb24oKXt0aGlzLl9iaXRGaWVsZD0zMzU1NDQzMnx0aGlzLl9iaXRGaWVsZCx0aGlzLl9maXJlRXZlbnQoXCJwcm9taXNlRnVsZmlsbGVkXCIsdGhpcyl9LG8ucHJvdG90eXBlLl9zZXRSZWplY3RlZD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPTE2Nzc3MjE2fHRoaXMuX2JpdEZpZWxkLHRoaXMuX2ZpcmVFdmVudChcInByb21pc2VSZWplY3RlZFwiLHRoaXMpfSxvLnByb3RvdHlwZS5fc2V0Rm9sbG93aW5nPWZ1bmN0aW9uKCl7dGhpcy5fYml0RmllbGQ9NjcxMDg4NjR8dGhpcy5fYml0RmllbGQsdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZVJlc29sdmVkXCIsdGhpcyl9LG8ucHJvdG90eXBlLl9zZXRJc0ZpbmFsPWZ1bmN0aW9uKCl7dGhpcy5fYml0RmllbGQ9NDE5NDMwNHx0aGlzLl9iaXRGaWVsZH0sby5wcm90b3R5cGUuX2lzRmluYWw9ZnVuY3Rpb24oKXtyZXR1cm4oNDE5NDMwNCZ0aGlzLl9iaXRGaWVsZCk+MH0sby5wcm90b3R5cGUuX3Vuc2V0Q2FuY2VsbGVkPWZ1bmN0aW9uKCl7dGhpcy5fYml0RmllbGQ9LTY1NTM3JnRoaXMuX2JpdEZpZWxkfSxvLnByb3RvdHlwZS5fc2V0Q2FuY2VsbGVkPWZ1bmN0aW9uKCl7dGhpcy5fYml0RmllbGQ9NjU1MzZ8dGhpcy5fYml0RmllbGQsdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZUNhbmNlbGxlZFwiLHRoaXMpfSxvLnByb3RvdHlwZS5fc2V0V2lsbEJlQ2FuY2VsbGVkPWZ1bmN0aW9uKCl7dGhpcy5fYml0RmllbGQ9ODM4ODYwOHx0aGlzLl9iaXRGaWVsZH0sby5wcm90b3R5cGUuX3NldEFzeW5jR3VhcmFudGVlZD1mdW5jdGlvbigpe3kuaGFzQ3VzdG9tU2NoZWR1bGVyKCl8fCh0aGlzLl9iaXRGaWVsZD0xMzQyMTc3Mjh8dGhpcy5fYml0RmllbGQpfSxvLnByb3RvdHlwZS5fcmVjZWl2ZXJBdD1mdW5jdGlvbih0KXt2YXIgZT0wPT09dD90aGlzLl9yZWNlaXZlcjA6dGhpc1s0KnQtNCszXTtpZihlIT09aClyZXR1cm4gdm9pZCAwPT09ZSYmdGhpcy5faXNCb3VuZCgpP3RoaXMuX2JvdW5kVmFsdWUoKTplfSxvLnByb3RvdHlwZS5fcHJvbWlzZUF0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzWzQqdC00KzJdfSxvLnByb3RvdHlwZS5fZnVsZmlsbG1lbnRIYW5kbGVyQXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbNCp0LTQrMF19LG8ucHJvdG90eXBlLl9yZWplY3Rpb25IYW5kbGVyQXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbNCp0LTQrMV19LG8ucHJvdG90eXBlLl9ib3VuZFZhbHVlPWZ1bmN0aW9uKCl7fSxvLnByb3RvdHlwZS5fbWlncmF0ZUNhbGxiYWNrMD1mdW5jdGlvbih0KXt2YXIgZT0odC5fYml0RmllbGQsdC5fZnVsZmlsbG1lbnRIYW5kbGVyMCksbj10Ll9yZWplY3Rpb25IYW5kbGVyMCxyPXQuX3Byb21pc2UwLGk9dC5fcmVjZWl2ZXJBdCgwKTt2b2lkIDA9PT1pJiYoaT1oKSx0aGlzLl9hZGRDYWxsYmFja3MoZSxuLHIsaSxudWxsKX0sby5wcm90b3R5cGUuX21pZ3JhdGVDYWxsYmFja0F0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5fZnVsZmlsbG1lbnRIYW5kbGVyQXQoZSkscj10Ll9yZWplY3Rpb25IYW5kbGVyQXQoZSksaT10Ll9wcm9taXNlQXQoZSksbz10Ll9yZWNlaXZlckF0KGUpO3ZvaWQgMD09PW8mJihvPWgpLHRoaXMuX2FkZENhbGxiYWNrcyhuLHIsaSxvLG51bGwpfSxvLnByb3RvdHlwZS5fYWRkQ2FsbGJhY2tzPWZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIG89dGhpcy5fbGVuZ3RoKCk7aWYobz49NjU1MzEmJihvPTAsdGhpcy5fc2V0TGVuZ3RoKDApKSwwPT09byl0aGlzLl9wcm9taXNlMD1uLHRoaXMuX3JlY2VpdmVyMD1yLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJih0aGlzLl9mdWxmaWxsbWVudEhhbmRsZXIwPW51bGw9PT1pP3Q6ZC5kb21haW5CaW5kKGksdCkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJih0aGlzLl9yZWplY3Rpb25IYW5kbGVyMD1udWxsPT09aT9lOmQuZG9tYWluQmluZChpLGUpKTtlbHNle3ZhciBzPTQqby00O3RoaXNbcysyXT1uLHRoaXNbcyszXT1yLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJih0aGlzW3MrMF09bnVsbD09PWk/dDpkLmRvbWFpbkJpbmQoaSx0KSksXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKHRoaXNbcysxXT1udWxsPT09aT9lOmQuZG9tYWluQmluZChpLGUpKX1yZXR1cm4gdGhpcy5fc2V0TGVuZ3RoKG8rMSksb30sby5wcm90b3R5cGUuX3Byb3h5PWZ1bmN0aW9uKHQsZSl7dGhpcy5fYWRkQ2FsbGJhY2tzKHZvaWQgMCx2b2lkIDAsZSx0LG51bGwpfSxvLnByb3RvdHlwZS5fcmVzb2x2ZUNhbGxiYWNrPWZ1bmN0aW9uKHQsZSl7aWYoMD09PSgxMTc1MDYwNDgmdGhpcy5fYml0RmllbGQpKXtpZih0PT09dGhpcylyZXR1cm4gdGhpcy5fcmVqZWN0Q2FsbGJhY2sobCgpLCExKTt2YXIgbj1rKHQsdGhpcyk7aWYoIShuIGluc3RhbmNlb2YgbykpcmV0dXJuIHRoaXMuX2Z1bGZpbGwodCk7ZSYmdGhpcy5fcHJvcGFnYXRlRnJvbShuLDIpO3ZhciByPW4uX3RhcmdldCgpO2lmKHI9PT10aGlzKXJldHVybiB2b2lkIHRoaXMuX3JlamVjdChsKCkpO3ZhciBpPXIuX2JpdEZpZWxkO2lmKDA9PT0oNTAzOTcxODQmaSkpe3ZhciBzPXRoaXMuX2xlbmd0aCgpO3M+MCYmci5fbWlncmF0ZUNhbGxiYWNrMCh0aGlzKTtmb3IodmFyIGE9MTtzPmE7KythKXIuX21pZ3JhdGVDYWxsYmFja0F0KHRoaXMsYSk7dGhpcy5fc2V0Rm9sbG93aW5nKCksdGhpcy5fc2V0TGVuZ3RoKDApLHRoaXMuX3NldEZvbGxvd2VlKHIpfWVsc2UgaWYoMCE9PSgzMzU1NDQzMiZpKSl0aGlzLl9mdWxmaWxsKHIuX3ZhbHVlKCkpO2Vsc2UgaWYoMCE9PSgxNjc3NzIxNiZpKSl0aGlzLl9yZWplY3Qoci5fcmVhc29uKCkpO2Vsc2V7dmFyIGM9bmV3IGIoXCJsYXRlIGNhbmNlbGxhdGlvbiBvYnNlcnZlclwiKTtyLl9hdHRhY2hFeHRyYVRyYWNlKGMpLHRoaXMuX3JlamVjdChjKX19fSxvLnByb3RvdHlwZS5fcmVqZWN0Q2FsbGJhY2s9ZnVuY3Rpb24odCxlLG4pe3ZhciByPWQuZW5zdXJlRXJyb3JPYmplY3QodCksaT1yPT09dDtpZighaSYmIW4mJlQud2FybmluZ3MoKSl7dmFyIG89XCJhIHByb21pc2Ugd2FzIHJlamVjdGVkIHdpdGggYSBub24tZXJyb3I6IFwiK2QuY2xhc3NTdHJpbmcodCk7dGhpcy5fd2FybihvLCEwKX10aGlzLl9hdHRhY2hFeHRyYVRyYWNlKHIsZT9pOiExKSx0aGlzLl9yZWplY3QodCl9LG8ucHJvdG90eXBlLl9yZXNvbHZlRnJvbUV4ZWN1dG9yPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5fY2FwdHVyZVN0YWNrVHJhY2UoKSx0aGlzLl9wdXNoQ29udGV4dCgpO3ZhciBuPSEwLHI9dGhpcy5fZXhlY3V0ZSh0LGZ1bmN0aW9uKHQpe2UuX3Jlc29sdmVDYWxsYmFjayh0KX0sZnVuY3Rpb24odCl7ZS5fcmVqZWN0Q2FsbGJhY2sodCxuKX0pO249ITEsdGhpcy5fcG9wQ29udGV4dCgpLHZvaWQgMCE9PXImJmUuX3JlamVjdENhbGxiYWNrKHIsITApfSxvLnByb3RvdHlwZS5fc2V0dGxlUHJvbWlzZUZyb21IYW5kbGVyPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPXIuX2JpdEZpZWxkO2lmKDA9PT0oNjU1MzYmaSkpe3IuX3B1c2hDb250ZXh0KCk7dmFyIG87ZT09PUU/biYmXCJudW1iZXJcIj09dHlwZW9mIG4ubGVuZ3RoP289QSh0KS5hcHBseSh0aGlzLl9ib3VuZFZhbHVlKCksbik6KG89UixvLmU9bmV3IGcoXCJjYW5ub3QgLnNwcmVhZCgpIGEgbm9uLWFycmF5OiBcIitkLmNsYXNzU3RyaW5nKG4pKSk6bz1BKHQpLmNhbGwoZSxuKTt2YXIgcz1yLl9wb3BDb250ZXh0KCk7aT1yLl9iaXRGaWVsZCwwPT09KDY1NTM2JmkpJiYobz09PUM/ci5fcmVqZWN0KG4pOm89PT1SP3IuX3JlamVjdENhbGxiYWNrKG8uZSwhMSk6KFQuY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zKG8scyxcIlwiLHIsdGhpcyksci5fcmVzb2x2ZUNhbGxiYWNrKG8pKSl9fSxvLnByb3RvdHlwZS5fdGFyZ2V0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXM7dC5faXNGb2xsb3dpbmcoKTspdD10Ll9mb2xsb3dlZSgpO3JldHVybiB0fSxvLnByb3RvdHlwZS5fZm9sbG93ZWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVqZWN0aW9uSGFuZGxlcjB9LG8ucHJvdG90eXBlLl9zZXRGb2xsb3dlZT1mdW5jdGlvbih0KXt0aGlzLl9yZWplY3Rpb25IYW5kbGVyMD10fSxvLnByb3RvdHlwZS5fc2V0dGxlUHJvbWlzZT1mdW5jdGlvbih0LGUsbixpKXt2YXIgcz10IGluc3RhbmNlb2YgbyxhPXRoaXMuX2JpdEZpZWxkLGM9MCE9PSgxMzQyMTc3MjgmYSk7MCE9PSg2NTUzNiZhKT8ocyYmdC5faW52b2tlSW50ZXJuYWxPbkNhbmNlbCgpLG4gaW5zdGFuY2VvZiBTJiZuLmlzRmluYWxseUhhbmRsZXIoKT8obi5jYW5jZWxQcm9taXNlPXQsQShlKS5jYWxsKG4saSk9PT1SJiZ0Ll9yZWplY3QoUi5lKSk6ZT09PWY/dC5fZnVsZmlsbChmLmNhbGwobikpOm4gaW5zdGFuY2VvZiByP24uX3Byb21pc2VDYW5jZWxsZWQodCk6c3x8dCBpbnN0YW5jZW9mIGo/dC5fY2FuY2VsKCk6bi5jYW5jZWwoKSk6XCJmdW5jdGlvblwiPT10eXBlb2YgZT9zPyhjJiZ0Ll9zZXRBc3luY0d1YXJhbnRlZWQoKSx0aGlzLl9zZXR0bGVQcm9taXNlRnJvbUhhbmRsZXIoZSxuLGksdCkpOmUuY2FsbChuLGksdCk6biBpbnN0YW5jZW9mIHI/bi5faXNSZXNvbHZlZCgpfHwoMCE9PSgzMzU1NDQzMiZhKT9uLl9wcm9taXNlRnVsZmlsbGVkKGksdCk6bi5fcHJvbWlzZVJlamVjdGVkKGksdCkpOnMmJihjJiZ0Ll9zZXRBc3luY0d1YXJhbnRlZWQoKSwwIT09KDMzNTU0NDMyJmEpP3QuX2Z1bGZpbGwoaSk6dC5fcmVqZWN0KGkpKX0sby5wcm90b3R5cGUuX3NldHRsZVByb21pc2VMYXRlQ2FuY2VsbGF0aW9uT2JzZXJ2ZXI9ZnVuY3Rpb24odCl7dmFyIGU9dC5oYW5kbGVyLG49dC5wcm9taXNlLHI9dC5yZWNlaXZlcixpPXQudmFsdWU7XCJmdW5jdGlvblwiPT10eXBlb2YgZT9uIGluc3RhbmNlb2Ygbz90aGlzLl9zZXR0bGVQcm9taXNlRnJvbUhhbmRsZXIoZSxyLGksbik6ZS5jYWxsKHIsaSxuKTpuIGluc3RhbmNlb2YgbyYmbi5fcmVqZWN0KGkpfSxvLnByb3RvdHlwZS5fc2V0dGxlUHJvbWlzZUN0eD1mdW5jdGlvbih0KXt0aGlzLl9zZXR0bGVQcm9taXNlKHQucHJvbWlzZSx0LmhhbmRsZXIsdC5yZWNlaXZlcix0LnZhbHVlKX0sby5wcm90b3R5cGUuX3NldHRsZVByb21pc2UwPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLl9wcm9taXNlMCxpPXRoaXMuX3JlY2VpdmVyQXQoMCk7dGhpcy5fcHJvbWlzZTA9dm9pZCAwLHRoaXMuX3JlY2VpdmVyMD12b2lkIDAsdGhpcy5fc2V0dGxlUHJvbWlzZShyLHQsaSxlKX0sby5wcm90b3R5cGUuX2NsZWFyQ2FsbGJhY2tEYXRhQXRJbmRleD1mdW5jdGlvbih0KXt2YXIgZT00KnQtNDt0aGlzW2UrMl09dGhpc1tlKzNdPXRoaXNbZSswXT10aGlzW2UrMV09dm9pZCAwfSxvLnByb3RvdHlwZS5fZnVsZmlsbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9iaXRGaWVsZDtpZighKCgxMTc1MDYwNDgmZSk+Pj4xNikpe2lmKHQ9PT10aGlzKXt2YXIgbj1sKCk7cmV0dXJuIHRoaXMuX2F0dGFjaEV4dHJhVHJhY2UobiksdGhpcy5fcmVqZWN0KG4pfXRoaXMuX3NldEZ1bGZpbGxlZCgpLHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwPXQsKDY1NTM1JmUpPjAmJigwIT09KDEzNDIxNzcyOCZlKT90aGlzLl9zZXR0bGVQcm9taXNlcygpOnkuc2V0dGxlUHJvbWlzZXModGhpcykpfX0sby5wcm90b3R5cGUuX3JlamVjdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9iaXRGaWVsZDtpZighKCgxMTc1MDYwNDgmZSk+Pj4xNikpcmV0dXJuIHRoaXMuX3NldFJlamVjdGVkKCksdGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyMD10LHRoaXMuX2lzRmluYWwoKT95LmZhdGFsRXJyb3IodCxkLmlzTm9kZSk6dm9pZCgoNjU1MzUmZSk+MD95LnNldHRsZVByb21pc2VzKHRoaXMpOnRoaXMuX2Vuc3VyZVBvc3NpYmxlUmVqZWN0aW9uSGFuZGxlZCgpKX0sby5wcm90b3R5cGUuX2Z1bGZpbGxQcm9taXNlcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0xO3Q+bjtuKyspe3ZhciByPXRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlckF0KG4pLGk9dGhpcy5fcHJvbWlzZUF0KG4pLG89dGhpcy5fcmVjZWl2ZXJBdChuKTt0aGlzLl9jbGVhckNhbGxiYWNrRGF0YUF0SW5kZXgobiksdGhpcy5fc2V0dGxlUHJvbWlzZShpLHIsbyxlKX19LG8ucHJvdG90eXBlLl9yZWplY3RQcm9taXNlcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0xO3Q+bjtuKyspe3ZhciByPXRoaXMuX3JlamVjdGlvbkhhbmRsZXJBdChuKSxpPXRoaXMuX3Byb21pc2VBdChuKSxvPXRoaXMuX3JlY2VpdmVyQXQobik7dGhpcy5fY2xlYXJDYWxsYmFja0RhdGFBdEluZGV4KG4pLHRoaXMuX3NldHRsZVByb21pc2UoaSxyLG8sZSl9fSxvLnByb3RvdHlwZS5fc2V0dGxlUHJvbWlzZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9iaXRGaWVsZCxlPTY1NTM1JnQ7aWYoZT4wKXtpZigwIT09KDE2ODQyNzUyJnQpKXt2YXIgbj10aGlzLl9mdWxmaWxsbWVudEhhbmRsZXIwO3RoaXMuX3NldHRsZVByb21pc2UwKHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwLG4sdCksdGhpcy5fcmVqZWN0UHJvbWlzZXMoZSxuKX1lbHNle3ZhciByPXRoaXMuX3JlamVjdGlvbkhhbmRsZXIwO3RoaXMuX3NldHRsZVByb21pc2UwKHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlcjAscix0KSx0aGlzLl9mdWxmaWxsUHJvbWlzZXMoZSxyKX10aGlzLl9zZXRMZW5ndGgoMCl9dGhpcy5fY2xlYXJDYW5jZWxsYXRpb25EYXRhKCl9LG8ucHJvdG90eXBlLl9zZXR0bGVkVmFsdWU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9iaXRGaWVsZDtyZXR1cm4gMCE9PSgzMzU1NDQzMiZ0KT90aGlzLl9yZWplY3Rpb25IYW5kbGVyMDowIT09KDE2Nzc3MjE2JnQpP3RoaXMuX2Z1bGZpbGxtZW50SGFuZGxlcjA6dm9pZCAwfSxvLmRlZmVyPW8ucGVuZGluZz1mdW5jdGlvbigpe1QuZGVwcmVjYXRlZChcIlByb21pc2UuZGVmZXJcIixcIm5ldyBQcm9taXNlXCIpO3ZhciB0PW5ldyBvKHcpO3JldHVybntwcm9taXNlOnQscmVzb2x2ZTpzLHJlamVjdDphfX0sZC5ub3RFbnVtZXJhYmxlUHJvcChvLFwiX21ha2VTZWxmUmVzb2x1dGlvbkVycm9yXCIsbCksdChcIi4vbWV0aG9kXCIpKG8sdyxrLHAsVCksdChcIi4vYmluZFwiKShvLHcsayxUKSx0KFwiLi9jYW5jZWxcIikobyxqLHAsVCksdChcIi4vZGlyZWN0X3Jlc29sdmVcIikobyksdChcIi4vc3luY2hyb25vdXNfaW5zcGVjdGlvblwiKShvKSx0KFwiLi9qb2luXCIpKG8saixrLHcseSx1KSxvLlByb21pc2U9byxvLnZlcnNpb249XCIzLjQuNlwiLHQoXCIuL21hcC5qc1wiKShvLGoscCxrLHcsVCksdChcIi4vY2FsbF9nZXQuanNcIikobyksdChcIi4vdXNpbmcuanNcIikobyxwLGssRix3LFQpLHQoXCIuL3RpbWVycy5qc1wiKShvLHcsVCksdChcIi4vZ2VuZXJhdG9ycy5qc1wiKShvLHAsdyxrLHIsVCksdChcIi4vbm9kZWlmeS5qc1wiKShvKSx0KFwiLi9wcm9taXNpZnkuanNcIikobyx3KSx0KFwiLi9wcm9wcy5qc1wiKShvLGosayxwKSx0KFwiLi9yYWNlLmpzXCIpKG8sdyxrLHApLHQoXCIuL3JlZHVjZS5qc1wiKShvLGoscCxrLHcsVCksdChcIi4vc2V0dGxlLmpzXCIpKG8saixUKSx0KFwiLi9zb21lLmpzXCIpKG8saixwKSx0KFwiLi9maWx0ZXIuanNcIikobyx3KSx0KFwiLi9lYWNoLmpzXCIpKG8sdyksdChcIi4vYW55LmpzXCIpKG8pLGQudG9GYXN0UHJvcGVydGllcyhvKSxkLnRvRmFzdFByb3BlcnRpZXMoby5wcm90b3R5cGUpLGMoe2E6MX0pLGMoe2I6Mn0pLGMoe2M6M30pLGMoMSksYyhmdW5jdGlvbigpe30pLGModm9pZCAwKSxjKCExKSxjKG5ldyBvKHcpKSxULnNldEJvdW5kcyh2LmZpcnN0TGluZUVycm9yLGQubGFzdExpbmVFcnJvciksb319LHtcIi4vYW55LmpzXCI6MSxcIi4vYXN5bmNcIjoyLFwiLi9iaW5kXCI6MyxcIi4vY2FsbF9nZXQuanNcIjo1LFwiLi9jYW5jZWxcIjo2LFwiLi9jYXRjaF9maWx0ZXJcIjo3LFwiLi9jb250ZXh0XCI6OCxcIi4vZGVidWdnYWJpbGl0eVwiOjksXCIuL2RpcmVjdF9yZXNvbHZlXCI6MTAsXCIuL2VhY2guanNcIjoxMSxcIi4vZXJyb3JzXCI6MTIsXCIuL2VzNVwiOjEzLFwiLi9maWx0ZXIuanNcIjoxNCxcIi4vZmluYWxseVwiOjE1LFwiLi9nZW5lcmF0b3JzLmpzXCI6MTYsXCIuL2pvaW5cIjoxNyxcIi4vbWFwLmpzXCI6MTgsXCIuL21ldGhvZFwiOjE5LFwiLi9ub2RlYmFja1wiOjIwLFwiLi9ub2RlaWZ5LmpzXCI6MjEsXCIuL3Byb21pc2VfYXJyYXlcIjoyMyxcIi4vcHJvbWlzaWZ5LmpzXCI6MjQsXCIuL3Byb3BzLmpzXCI6MjUsXCIuL3JhY2UuanNcIjoyNyxcIi4vcmVkdWNlLmpzXCI6MjgsXCIuL3NldHRsZS5qc1wiOjMwLFwiLi9zb21lLmpzXCI6MzEsXCIuL3N5bmNocm9ub3VzX2luc3BlY3Rpb25cIjozMixcIi4vdGhlbmFibGVzXCI6MzMsXCIuL3RpbWVycy5qc1wiOjM0LFwiLi91c2luZy5qc1wiOjM1LFwiLi91dGlsXCI6MzZ9XSwyMzpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlLG4scixpLG8pe2Z1bmN0aW9uIHModCl7c3dpdGNoKHQpe2Nhc2UtMjpyZXR1cm5bXTtjYXNlLTM6cmV0dXJue319fWZ1bmN0aW9uIGEodCl7dmFyIHI9dGhpcy5fcHJvbWlzZT1uZXcgZShuKTt0IGluc3RhbmNlb2YgZSYmci5fcHJvcGFnYXRlRnJvbSh0LDMpLHIuX3NldE9uQ2FuY2VsKHRoaXMpLHRoaXMuX3ZhbHVlcz10LHRoaXMuX2xlbmd0aD0wLHRoaXMuX3RvdGFsUmVzb2x2ZWQ9MCx0aGlzLl9pbml0KHZvaWQgMCwtMil9dmFyIGM9dChcIi4vdXRpbFwiKTtjLmlzQXJyYXk7cmV0dXJuIGMuaW5oZXJpdHMoYSxvKSxhLnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGVuZ3RofSxhLnByb3RvdHlwZS5wcm9taXNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb21pc2V9LGEucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uIHUodCxuKXt2YXIgbz1yKHRoaXMuX3ZhbHVlcyx0aGlzLl9wcm9taXNlKTtpZihvIGluc3RhbmNlb2YgZSl7bz1vLl90YXJnZXQoKTt2YXIgYT1vLl9iaXRGaWVsZDtpZih0aGlzLl92YWx1ZXM9bywwPT09KDUwMzk3MTg0JmEpKXJldHVybiB0aGlzLl9wcm9taXNlLl9zZXRBc3luY0d1YXJhbnRlZWQoKSxvLl90aGVuKHUsdGhpcy5fcmVqZWN0LHZvaWQgMCx0aGlzLG4pO2lmKDA9PT0oMzM1NTQ0MzImYSkpcmV0dXJuIDAhPT0oMTY3NzcyMTYmYSk/dGhpcy5fcmVqZWN0KG8uX3JlYXNvbigpKTp0aGlzLl9jYW5jZWwoKTtvPW8uX3ZhbHVlKCl9aWYobz1jLmFzQXJyYXkobyksbnVsbD09PW8pe3ZhciBsPWkoXCJleHBlY3RpbmcgYW4gYXJyYXkgb3IgYW4gaXRlcmFibGUgb2JqZWN0IGJ1dCBnb3QgXCIrYy5jbGFzc1N0cmluZyhvKSkucmVhc29uKCk7cmV0dXJuIHZvaWQgdGhpcy5fcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2sobCwhMSl9cmV0dXJuIDA9PT1vLmxlbmd0aD92b2lkKC01PT09bj90aGlzLl9yZXNvbHZlRW1wdHlBcnJheSgpOnRoaXMuX3Jlc29sdmUocyhuKSkpOnZvaWQgdGhpcy5faXRlcmF0ZShvKX0sYS5wcm90b3R5cGUuX2l0ZXJhdGU9ZnVuY3Rpb24odCl7dmFyIG49dGhpcy5nZXRBY3R1YWxMZW5ndGgodC5sZW5ndGgpO3RoaXMuX2xlbmd0aD1uLHRoaXMuX3ZhbHVlcz10aGlzLnNob3VsZENvcHlWYWx1ZXMoKT9uZXcgQXJyYXkobik6dGhpcy5fdmFsdWVzO2Zvcih2YXIgaT10aGlzLl9wcm9taXNlLG89ITEscz1udWxsLGE9MDtuPmE7KythKXt2YXIgYz1yKHRbYV0saSk7YyBpbnN0YW5jZW9mIGU/KGM9Yy5fdGFyZ2V0KCkscz1jLl9iaXRGaWVsZCk6cz1udWxsLG8/bnVsbCE9PXMmJmMuc3VwcHJlc3NVbmhhbmRsZWRSZWplY3Rpb25zKCk6bnVsbCE9PXM/MD09PSg1MDM5NzE4NCZzKT8oYy5fcHJveHkodGhpcyxhKSx0aGlzLl92YWx1ZXNbYV09Yyk6bz0wIT09KDMzNTU0NDMyJnMpP3RoaXMuX3Byb21pc2VGdWxmaWxsZWQoYy5fdmFsdWUoKSxhKTowIT09KDE2Nzc3MjE2JnMpP3RoaXMuX3Byb21pc2VSZWplY3RlZChjLl9yZWFzb24oKSxhKTp0aGlzLl9wcm9taXNlQ2FuY2VsbGVkKGEpOm89dGhpcy5fcHJvbWlzZUZ1bGZpbGxlZChjLGEpfW98fGkuX3NldEFzeW5jR3VhcmFudGVlZCgpfSxhLnByb3RvdHlwZS5faXNSZXNvbHZlZD1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5fdmFsdWVzfSxhLnByb3RvdHlwZS5fcmVzb2x2ZT1mdW5jdGlvbih0KXt0aGlzLl92YWx1ZXM9bnVsbCx0aGlzLl9wcm9taXNlLl9mdWxmaWxsKHQpfSxhLnByb3RvdHlwZS5fY2FuY2VsPWZ1bmN0aW9uKCl7IXRoaXMuX2lzUmVzb2x2ZWQoKSYmdGhpcy5fcHJvbWlzZS5faXNDYW5jZWxsYWJsZSgpJiYodGhpcy5fdmFsdWVzPW51bGwsdGhpcy5fcHJvbWlzZS5fY2FuY2VsKCkpfSxhLnByb3RvdHlwZS5fcmVqZWN0PWZ1bmN0aW9uKHQpe3RoaXMuX3ZhbHVlcz1udWxsLHRoaXMuX3Byb21pc2UuX3JlamVjdENhbGxiYWNrKHQsITEpfSxhLnByb3RvdHlwZS5fcHJvbWlzZUZ1bGZpbGxlZD1mdW5jdGlvbih0LGUpe3RoaXMuX3ZhbHVlc1tlXT10O3ZhciBuPSsrdGhpcy5fdG90YWxSZXNvbHZlZDtyZXR1cm4gbj49dGhpcy5fbGVuZ3RoPyh0aGlzLl9yZXNvbHZlKHRoaXMuX3ZhbHVlcyksITApOiExfSxhLnByb3RvdHlwZS5fcHJvbWlzZUNhbmNlbGxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYW5jZWwoKSwhMH0sYS5wcm90b3R5cGUuX3Byb21pc2VSZWplY3RlZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdG90YWxSZXNvbHZlZCsrLHRoaXMuX3JlamVjdCh0KSwhMH0sYS5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZD1mdW5jdGlvbigpe2lmKCF0aGlzLl9pc1Jlc29sdmVkKCkpe3ZhciB0PXRoaXMuX3ZhbHVlcztpZih0aGlzLl9jYW5jZWwoKSx0IGluc3RhbmNlb2YgZSl0LmNhbmNlbCgpO2Vsc2UgZm9yKHZhciBuPTA7bjx0Lmxlbmd0aDsrK24pdFtuXWluc3RhbmNlb2YgZSYmdFtuXS5jYW5jZWwoKX19LGEucHJvdG90eXBlLnNob3VsZENvcHlWYWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sYS5wcm90b3R5cGUuZ2V0QWN0dWFsTGVuZ3RoPWZ1bmN0aW9uKHQpe3JldHVybiB0fSxhfX0se1wiLi91dGlsXCI6MzZ9XSwyNDpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlLG4pe2Z1bmN0aW9uIHIodCl7cmV0dXJuIUUudGVzdCh0KX1mdW5jdGlvbiBpKHQpe3RyeXtyZXR1cm4gdC5fX2lzUHJvbWlzaWZpZWRfXz09PSEwfWNhdGNoKGUpe3JldHVybiExfX1mdW5jdGlvbiBvKHQsZSxuKXt2YXIgcj1oLmdldERhdGFQcm9wZXJ0eU9yRGVmYXVsdCh0LGUrbixiKTtyZXR1cm4gcj9pKHIpOiExfWZ1bmN0aW9uIHModCxlLG4pe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cis9Mil7dmFyIGk9dFtyXTtpZihuLnRlc3QoaSkpZm9yKHZhciBvPWkucmVwbGFjZShuLFwiXCIpLHM9MDtzPHQubGVuZ3RoO3MrPTIpaWYodFtzXT09PW8pdGhyb3cgbmV3IG0oXCJDYW5ub3QgcHJvbWlzaWZ5IGFuIEFQSSB0aGF0IGhhcyBub3JtYWwgbWV0aG9kcyB3aXRoICclcyctc3VmZml4XFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiLnJlcGxhY2UoXCIlc1wiLGUpKX19ZnVuY3Rpb24gYSh0LGUsbixyKXtmb3IodmFyIGE9aC5pbmhlcml0ZWREYXRhS2V5cyh0KSxjPVtdLHU9MDt1PGEubGVuZ3RoOysrdSl7dmFyIGw9YVt1XSxmPXRbbF0scD1yPT09Qz8hMDpDKGwsZix0KTtcImZ1bmN0aW9uXCIhPXR5cGVvZiBmfHxpKGYpfHxvKHQsbCxlKXx8IXIobCxmLHQscCl8fGMucHVzaChsLGYpfXJldHVybiBzKGMsZSxuKSxjfWZ1bmN0aW9uIGModCxyLGksbyxzLGEpe2Z1bmN0aW9uIGMoKXt2YXIgaT1yO3I9PT1wJiYoaT10aGlzKTt2YXIgbz1uZXcgZShuKTtvLl9jYXB0dXJlU3RhY2tUcmFjZSgpO3ZhciBzPVwic3RyaW5nXCI9PXR5cGVvZiBsJiZ0aGlzIT09dT90aGlzW2xdOnQsYz1kKG8sYSk7dHJ5e3MuYXBwbHkoaSxfKGFyZ3VtZW50cyxjKSl9Y2F0Y2goZil7by5fcmVqZWN0Q2FsbGJhY2sodihmKSwhMCwhMCl9cmV0dXJuIG8uX2lzRmF0ZVNlYWxlZCgpfHxvLl9zZXRBc3luY0d1YXJhbnRlZWQoKSxvfXZhciB1PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCksbD10O3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBsJiYodD1vKSxoLm5vdEVudW1lcmFibGVQcm9wKGMsXCJfX2lzUHJvbWlzaWZpZWRfX1wiLCEwKSxjfWZ1bmN0aW9uIHUodCxlLG4scixpKXtmb3IodmFyIG89bmV3IFJlZ0V4cChrKGUpK1wiJFwiKSxzPWEodCxlLG8sbiksYz0wLHU9cy5sZW5ndGg7dT5jO2MrPTIpe3ZhciBsPXNbY10sZj1zW2MrMV0sZD1sK2U7aWYocj09PWopdFtkXT1qKGwscCxsLGYsZSxpKTtlbHNle3ZhciBfPXIoZixmdW5jdGlvbigpe3JldHVybiBqKGwscCxsLGYsZSxpKX0pO2gubm90RW51bWVyYWJsZVByb3AoXyxcIl9faXNQcm9taXNpZmllZF9fXCIsITApLHRbZF09X319cmV0dXJuIGgudG9GYXN0UHJvcGVydGllcyh0KSx0fWZ1bmN0aW9uIGwodCxlLG4pe3JldHVybiBqKHQsZSx2b2lkIDAsdCxudWxsLG4pfXZhciBmLHA9e30saD10KFwiLi91dGlsXCIpLGQ9dChcIi4vbm9kZWJhY2tcIiksXz1oLndpdGhBcHBlbmRlZCx2PWgubWF5YmVXcmFwQXNFcnJvcix5PWguY2FuRXZhbHVhdGUsbT10KFwiLi9lcnJvcnNcIikuVHlwZUVycm9yLGc9XCJBc3luY1wiLGI9e19faXNQcm9taXNpZmllZF9fOiEwfSx3PVtcImFyaXR5XCIsXCJsZW5ndGhcIixcIm5hbWVcIixcImFyZ3VtZW50c1wiLFwiY2FsbGVyXCIsXCJjYWxsZWVcIixcInByb3RvdHlwZVwiLFwiX19pc1Byb21pc2lmaWVkX19cIl0sRT1uZXcgUmVnRXhwKFwiXig/OlwiK3cuam9pbihcInxcIikrXCIpJFwiKSxDPWZ1bmN0aW9uKHQpe3JldHVybiBoLmlzSWRlbnRpZmllcih0KSYmXCJfXCIhPT10LmNoYXJBdCgwKSYmXCJjb25zdHJ1Y3RvclwiIT09dH0saz1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC8oWyRdKS8sXCJcXFxcJFwiKX0saj15P2Y6YztlLnByb21pc2lmeT1mdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IG0oXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiK2guY2xhc3NTdHJpbmcodCkpO2lmKGkodCkpcmV0dXJuIHQ7ZT1PYmplY3QoZSk7dmFyIG49dm9pZCAwPT09ZS5jb250ZXh0P3A6ZS5jb250ZXh0LG89ISFlLm11bHRpQXJncyxzPWwodCxuLG8pO3JldHVybiBoLmNvcHlEZXNjcmlwdG9ycyh0LHMsciksc30sZS5wcm9taXNpZnlBbGw9ZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZcIm9iamVjdFwiIT10eXBlb2YgdCl0aHJvdyBuZXcgbShcInRoZSB0YXJnZXQgb2YgcHJvbWlzaWZ5QWxsIG11c3QgYmUgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb25cXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXCIpO2U9T2JqZWN0KGUpO3ZhciBuPSEhZS5tdWx0aUFyZ3Mscj1lLnN1ZmZpeDtcInN0cmluZ1wiIT10eXBlb2YgciYmKHI9Zyk7dmFyIGk9ZS5maWx0ZXI7XCJmdW5jdGlvblwiIT10eXBlb2YgaSYmKGk9Qyk7dmFyIG89ZS5wcm9taXNpZmllcjtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBvJiYobz1qKSwhaC5pc0lkZW50aWZpZXIocikpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJzdWZmaXggbXVzdCBiZSBhIHZhbGlkIGlkZW50aWZpZXJcXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXCIpO2Zvcih2YXIgcz1oLmluaGVyaXRlZERhdGFLZXlzKHQpLGE9MDthPHMubGVuZ3RoOysrYSl7dmFyIGM9dFtzW2FdXTtcImNvbnN0cnVjdG9yXCIhPT1zW2FdJiZoLmlzQ2xhc3MoYykmJih1KGMucHJvdG90eXBlLHIsaSxvLG4pLHUoYyxyLGksbyxuKSl9cmV0dXJuIHUodCxyLGksbyxuKX19fSx7XCIuL2Vycm9yc1wiOjEyLFwiLi9ub2RlYmFja1wiOjIwLFwiLi91dGlsXCI6MzZ9XSwyNTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlLG4scixpKXtmdW5jdGlvbiBvKHQpe3ZhciBlLG49ITE7aWYodm9pZCAwIT09YSYmdCBpbnN0YW5jZW9mIGEpZT1mKHQpLG49ITA7ZWxzZXt2YXIgcj1sLmtleXModCksaT1yLmxlbmd0aDtlPW5ldyBBcnJheSgyKmkpO2Zvcih2YXIgbz0wO2k+bzsrK28pe3ZhciBzPXJbb107ZVtvXT10W3NdLGVbbytpXT1zfX10aGlzLmNvbnN0cnVjdG9yJChlKSx0aGlzLl9pc01hcD1uLHRoaXMuX2luaXQkKHZvaWQgMCwtMyl9ZnVuY3Rpb24gcyh0KXt2YXIgbixzPXIodCk7cmV0dXJuIHUocyk/KG49cyBpbnN0YW5jZW9mIGU/cy5fdGhlbihlLnByb3BzLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCk6bmV3IG8ocykucHJvbWlzZSgpLHMgaW5zdGFuY2VvZiBlJiZuLl9wcm9wYWdhdGVGcm9tKHMsMiksbik6aShcImNhbm5vdCBhd2FpdCBwcm9wZXJ0aWVzIG9mIGEgbm9uLW9iamVjdFxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIil9dmFyIGEsYz10KFwiLi91dGlsXCIpLHU9Yy5pc09iamVjdCxsPXQoXCIuL2VzNVwiKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBNYXAmJihhPU1hcCk7dmFyIGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQscil7dGhpc1tlXT10LHRoaXNbZStuXT1yLGUrK312YXIgZT0wLG49MDtyZXR1cm4gZnVuY3Rpb24ocil7bj1yLnNpemUsZT0wO3ZhciBpPW5ldyBBcnJheSgyKnIuc2l6ZSk7cmV0dXJuIHIuZm9yRWFjaCh0LGkpLGl9fSgpLHA9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBhLG49dC5sZW5ndGgvMnwwLHI9MDtuPnI7KytyKXt2YXIgaT10W24rcl0sbz10W3JdO2Uuc2V0KGksbyl9cmV0dXJuIGV9O2MuaW5oZXJpdHMobyxuKSxvLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbigpe30sby5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQ9ZnVuY3Rpb24odCxlKXt0aGlzLl92YWx1ZXNbZV09dDt2YXIgbj0rK3RoaXMuX3RvdGFsUmVzb2x2ZWQ7aWYobj49dGhpcy5fbGVuZ3RoKXt2YXIgcjtpZih0aGlzLl9pc01hcClyPXAodGhpcy5fdmFsdWVzKTtlbHNle3I9e307Zm9yKHZhciBpPXRoaXMubGVuZ3RoKCksbz0wLHM9dGhpcy5sZW5ndGgoKTtzPm87KytvKXJbdGhpcy5fdmFsdWVzW28raV1dPXRoaXMuX3ZhbHVlc1tvXX1yZXR1cm4gdGhpcy5fcmVzb2x2ZShyKSwhMH1yZXR1cm4hMX0sby5wcm90b3R5cGUuc2hvdWxkQ29weVZhbHVlcz1mdW5jdGlvbigpe3JldHVybiExfSxvLnByb3RvdHlwZS5nZXRBY3R1YWxMZW5ndGg9ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PjF9LGUucHJvdG90eXBlLnByb3BzPWZ1bmN0aW9uKCl7cmV0dXJuIHModGhpcyl9LGUucHJvcHM9ZnVuY3Rpb24odCl7cmV0dXJuIHModCl9fX0se1wiLi9lczVcIjoxMyxcIi4vdXRpbFwiOjM2fV0sMjY6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSxuLHIsaSl7Zm9yKHZhciBvPTA7aT5vOysrbyluW28rcl09dFtvK2VdLHRbbytlXT12b2lkIDB9ZnVuY3Rpb24gaSh0KXt0aGlzLl9jYXBhY2l0eT10LHRoaXMuX2xlbmd0aD0wLHRoaXMuX2Zyb250PTB9aS5wcm90b3R5cGUuX3dpbGxCZU92ZXJDYXBhY2l0eT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY2FwYWNpdHk8dH0saS5wcm90b3R5cGUuX3B1c2hPbmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5sZW5ndGgoKTt0aGlzLl9jaGVja0NhcGFjaXR5KGUrMSk7dmFyIG49dGhpcy5fZnJvbnQrZSZ0aGlzLl9jYXBhY2l0eS0xO3RoaXNbbl09dCx0aGlzLl9sZW5ndGg9ZSsxfSxpLnByb3RvdHlwZS5fdW5zaGlmdE9uZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jYXBhY2l0eTt0aGlzLl9jaGVja0NhcGFjaXR5KHRoaXMubGVuZ3RoKCkrMSk7dmFyIG49dGhpcy5fZnJvbnQscj0obi0xJmUtMV5lKS1lO3RoaXNbcl09dCx0aGlzLl9mcm9udD1yLHRoaXMuX2xlbmd0aD10aGlzLmxlbmd0aCgpKzF9LGkucHJvdG90eXBlLnVuc2hpZnQ9ZnVuY3Rpb24odCxlLG4pe3RoaXMuX3Vuc2hpZnRPbmUobiksdGhpcy5fdW5zaGlmdE9uZShlKSx0aGlzLl91bnNoaWZ0T25lKHQpfSxpLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLmxlbmd0aCgpKzM7aWYodGhpcy5fd2lsbEJlT3ZlckNhcGFjaXR5KHIpKXJldHVybiB0aGlzLl9wdXNoT25lKHQpLHRoaXMuX3B1c2hPbmUoZSksdm9pZCB0aGlzLl9wdXNoT25lKG4pO3ZhciBpPXRoaXMuX2Zyb250K3ItMzt0aGlzLl9jaGVja0NhcGFjaXR5KHIpO3ZhciBvPXRoaXMuX2NhcGFjaXR5LTE7dGhpc1tpKzAmb109dCx0aGlzW2krMSZvXT1lLHRoaXNbaSsyJm9dPW4sdGhpcy5fbGVuZ3RoPXJ9LGkucHJvdG90eXBlLnNoaWZ0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZnJvbnQsZT10aGlzW3RdO3JldHVybiB0aGlzW3RdPXZvaWQgMCx0aGlzLl9mcm9udD10KzEmdGhpcy5fY2FwYWNpdHktMSx0aGlzLl9sZW5ndGgtLSxlfSxpLnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGVuZ3RofSxpLnByb3RvdHlwZS5fY2hlY2tDYXBhY2l0eT1mdW5jdGlvbih0KXt0aGlzLl9jYXBhY2l0eTx0JiZ0aGlzLl9yZXNpemVUbyh0aGlzLl9jYXBhY2l0eTw8MSl9LGkucHJvdG90eXBlLl9yZXNpemVUbz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jYXBhY2l0eTt0aGlzLl9jYXBhY2l0eT10O3ZhciBuPXRoaXMuX2Zyb250LGk9dGhpcy5fbGVuZ3RoLG89bitpJmUtMTtyKHRoaXMsMCx0aGlzLGUsbyl9LGUuZXhwb3J0cz1pfSx7fV0sMjc6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIsaSl7ZnVuY3Rpb24gbyh0LG8pe3ZhciBjPXIodCk7aWYoYyBpbnN0YW5jZW9mIGUpcmV0dXJuIGEoYyk7aWYodD1zLmFzQXJyYXkodCksbnVsbD09PXQpcmV0dXJuIGkoXCJleHBlY3RpbmcgYW4gYXJyYXkgb3IgYW4gaXRlcmFibGUgb2JqZWN0IGJ1dCBnb3QgXCIrcy5jbGFzc1N0cmluZyh0KSk7dmFyIHU9bmV3IGUobik7dm9pZCAwIT09byYmdS5fcHJvcGFnYXRlRnJvbShvLDMpO2Zvcih2YXIgbD11Ll9mdWxmaWxsLGY9dS5fcmVqZWN0LHA9MCxoPXQubGVuZ3RoO2g+cDsrK3Ape3ZhciBkPXRbcF07KHZvaWQgMCE9PWR8fHAgaW4gdCkmJmUuY2FzdChkKS5fdGhlbihsLGYsdm9pZCAwLHUsbnVsbCl9cmV0dXJuIHV9dmFyIHM9dChcIi4vdXRpbFwiKSxhPWZ1bmN0aW9uKHQpe3JldHVybiB0LnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSx0KX0pfTtlLnJhY2U9ZnVuY3Rpb24odCl7cmV0dXJuIG8odCx2b2lkIDApfSxlLnByb3RvdHlwZS5yYWNlPWZ1bmN0aW9uKCl7cmV0dXJuIG8odGhpcyx2b2lkIDApfX19LHtcIi4vdXRpbFwiOjM2fV0sMjg6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIsaSxvLHMpe2Z1bmN0aW9uIGEodCxuLHIsaSl7dGhpcy5jb25zdHJ1Y3RvciQodCk7dmFyIHM9cCgpO3RoaXMuX2ZuPW51bGw9PT1zP246aC5kb21haW5CaW5kKHMsbiksdm9pZCAwIT09ciYmKHI9ZS5yZXNvbHZlKHIpLHIuX2F0dGFjaENhbmNlbGxhdGlvbkNhbGxiYWNrKHRoaXMpKSx0aGlzLl9pbml0aWFsVmFsdWU9cix0aGlzLl9jdXJyZW50Q2FuY2VsbGFibGU9bnVsbCxpPT09bz90aGlzLl9lYWNoVmFsdWVzPUFycmF5KHRoaXMuX2xlbmd0aCk6MD09PWk/dGhpcy5fZWFjaFZhbHVlcz1udWxsOnRoaXMuX2VhY2hWYWx1ZXM9dm9pZCAwLHRoaXMuX3Byb21pc2UuX2NhcHR1cmVTdGFja1RyYWNlKCksdGhpcy5faW5pdCQodm9pZCAwLC01KX1mdW5jdGlvbiBjKHQsZSl7dGhpcy5pc0Z1bGZpbGxlZCgpP2UuX3Jlc29sdmUodCk6ZS5fcmVqZWN0KHQpfWZ1bmN0aW9uIHUodCxlLG4saSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSlyZXR1cm4gcihcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIraC5jbGFzc1N0cmluZyhlKSk7dmFyIG89bmV3IGEodCxlLG4saSk7cmV0dXJuIG8ucHJvbWlzZSgpfWZ1bmN0aW9uIGwodCl7dGhpcy5hY2N1bT10LHRoaXMuYXJyYXkuX2dvdEFjY3VtKHQpO3ZhciBuPWkodGhpcy52YWx1ZSx0aGlzLmFycmF5Ll9wcm9taXNlKTtyZXR1cm4gbiBpbnN0YW5jZW9mIGU/KHRoaXMuYXJyYXkuX2N1cnJlbnRDYW5jZWxsYWJsZT1uLG4uX3RoZW4oZix2b2lkIDAsdm9pZCAwLHRoaXMsdm9pZCAwKSk6Zi5jYWxsKHRoaXMsbil9ZnVuY3Rpb24gZih0KXt2YXIgbj10aGlzLmFycmF5LHI9bi5fcHJvbWlzZSxpPWQobi5fZm4pO3IuX3B1c2hDb250ZXh0KCk7dmFyIG87bz12b2lkIDAhPT1uLl9lYWNoVmFsdWVzP2kuY2FsbChyLl9ib3VuZFZhbHVlKCksdCx0aGlzLmluZGV4LHRoaXMubGVuZ3RoKTppLmNhbGwoci5fYm91bmRWYWx1ZSgpLHRoaXMuYWNjdW0sdCx0aGlzLmluZGV4LHRoaXMubGVuZ3RoKSxvIGluc3RhbmNlb2YgZSYmKG4uX2N1cnJlbnRDYW5jZWxsYWJsZT1vKTt2YXIgYT1yLl9wb3BDb250ZXh0KCk7cmV0dXJuIHMuY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zKG8sYSx2b2lkIDAhPT1uLl9lYWNoVmFsdWVzP1wiUHJvbWlzZS5lYWNoXCI6XCJQcm9taXNlLnJlZHVjZVwiLHIpLG99dmFyIHA9ZS5fZ2V0RG9tYWluLGg9dChcIi4vdXRpbFwiKSxkPWgudHJ5Q2F0Y2g7aC5pbmhlcml0cyhhLG4pLGEucHJvdG90eXBlLl9nb3RBY2N1bT1mdW5jdGlvbih0KXt2b2lkIDAhPT10aGlzLl9lYWNoVmFsdWVzJiZudWxsIT09dGhpcy5fZWFjaFZhbHVlcyYmdCE9PW8mJnRoaXMuX2VhY2hWYWx1ZXMucHVzaCh0KX0sYS5wcm90b3R5cGUuX2VhY2hDb21wbGV0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PXRoaXMuX2VhY2hWYWx1ZXMmJnRoaXMuX2VhY2hWYWx1ZXMucHVzaCh0KSx0aGlzLl9lYWNoVmFsdWVzfSxhLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbigpe30sYS5wcm90b3R5cGUuX3Jlc29sdmVFbXB0eUFycmF5PWZ1bmN0aW9uKCl7dGhpcy5fcmVzb2x2ZSh2b2lkIDAhPT10aGlzLl9lYWNoVmFsdWVzP3RoaXMuX2VhY2hWYWx1ZXM6dGhpcy5faW5pdGlhbFZhbHVlKX0sYS5wcm90b3R5cGUuc2hvdWxkQ29weVZhbHVlcz1mdW5jdGlvbigpe3JldHVybiExfSxhLnByb3RvdHlwZS5fcmVzb2x2ZT1mdW5jdGlvbih0KXt0aGlzLl9wcm9taXNlLl9yZXNvbHZlQ2FsbGJhY2sodCksdGhpcy5fdmFsdWVzPW51bGx9LGEucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT10aGlzLl9pbml0aWFsVmFsdWU/dGhpcy5fY2FuY2VsKCk6dm9pZCh0aGlzLl9pc1Jlc29sdmVkKCl8fCh0aGlzLl9yZXN1bHRDYW5jZWxsZWQkKCksdGhpcy5fY3VycmVudENhbmNlbGxhYmxlIGluc3RhbmNlb2YgZSYmdGhpcy5fY3VycmVudENhbmNlbGxhYmxlLmNhbmNlbCgpLHRoaXMuX2luaXRpYWxWYWx1ZSBpbnN0YW5jZW9mIGUmJnRoaXMuX2luaXRpYWxWYWx1ZS5jYW5jZWwoKSkpfSxhLnByb3RvdHlwZS5faXRlcmF0ZT1mdW5jdGlvbih0KXt0aGlzLl92YWx1ZXM9dDt2YXIgbixyLGk9dC5sZW5ndGg7aWYodm9pZCAwIT09dGhpcy5faW5pdGlhbFZhbHVlPyhuPXRoaXMuX2luaXRpYWxWYWx1ZSxyPTApOihuPWUucmVzb2x2ZSh0WzBdKSxyPTEpLHRoaXMuX2N1cnJlbnRDYW5jZWxsYWJsZT1uLCFuLmlzUmVqZWN0ZWQoKSlmb3IoO2k+cjsrK3Ipe3ZhciBvPXthY2N1bTpudWxsLHZhbHVlOnRbcl0saW5kZXg6cixsZW5ndGg6aSxhcnJheTp0aGlzfTtuPW4uX3RoZW4obCx2b2lkIDAsdm9pZCAwLG8sdm9pZCAwKX12b2lkIDAhPT10aGlzLl9lYWNoVmFsdWVzJiYobj1uLl90aGVuKHRoaXMuX2VhY2hDb21wbGV0ZSx2b2lkIDAsdm9pZCAwLHRoaXMsdm9pZCAwKSksbi5fdGhlbihjLGMsdm9pZCAwLG4sdGhpcyl9LGUucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbih0LGUpe3JldHVybiB1KHRoaXMsdCxlLG51bGwpfSxlLnJlZHVjZT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gdSh0LGUsbixyKX19fSx7XCIuL3V0aWxcIjozNn1dLDI5OltmdW5jdGlvbih0LGksbyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHMsYT10KFwiLi91dGlsXCIpLGM9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJObyBhc3luYyBzY2hlZHVsZXIgYXZhaWxhYmxlXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKX0sdT1hLmdldE5hdGl2ZVByb21pc2UoKTtpZihhLmlzTm9kZSYmXCJ1bmRlZmluZWRcIj09dHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXIpe3ZhciBsPW4uc2V0SW1tZWRpYXRlLGY9ZS5uZXh0VGljaztzPWEuaXNSZWNlbnROb2RlP2Z1bmN0aW9uKHQpe2wuY2FsbChuLHQpfTpmdW5jdGlvbih0KXtmLmNhbGwoZSx0KX19ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB1JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB1LnJlc29sdmUpe3ZhciBwPXUucmVzb2x2ZSgpO3M9ZnVuY3Rpb24odCl7cC50aGVuKHQpfX1lbHNlIHM9XCJ1bmRlZmluZWRcIj09dHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXJ8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5uYXZpZ2F0b3ImJih3aW5kb3cubmF2aWdhdG9yLnN0YW5kYWxvbmV8fHdpbmRvdy5jb3Jkb3ZhKT9cInVuZGVmaW5lZFwiIT10eXBlb2Ygcj9mdW5jdGlvbih0KXtyKHQpfTpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2V0VGltZW91dD9mdW5jdGlvbih0KXtzZXRUaW1lb3V0KHQsMCl9OmM6ZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGU9e2F0dHJpYnV0ZXM6ITB9LG49ITEscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGk9bmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oKXt0LmNsYXNzTGlzdC50b2dnbGUoXCJmb29cIiksbj0hMX0pO2kub2JzZXJ2ZShyLGUpO3ZhciBvPWZ1bmN0aW9uKCl7bnx8KG49ITAsci5jbGFzc0xpc3QudG9nZ2xlKFwiZm9vXCIpKX07cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciByPW5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKCl7ci5kaXNjb25uZWN0KCksbigpfSk7ci5vYnNlcnZlKHQsZSksbygpfX0oKTtpLmV4cG9ydHM9c30se1wiLi91dGlsXCI6MzZ9XSwzMDpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlLG4scil7ZnVuY3Rpb24gaSh0KXt0aGlzLmNvbnN0cnVjdG9yJCh0KX12YXIgbz1lLlByb21pc2VJbnNwZWN0aW9uLHM9dChcIi4vdXRpbFwiKTtzLmluaGVyaXRzKGksbiksaS5wcm90b3R5cGUuX3Byb21pc2VSZXNvbHZlZD1mdW5jdGlvbih0LGUpe3RoaXMuX3ZhbHVlc1t0XT1lO3ZhciBuPSsrdGhpcy5fdG90YWxSZXNvbHZlZDtyZXR1cm4gbj49dGhpcy5fbGVuZ3RoPyh0aGlzLl9yZXNvbHZlKHRoaXMuX3ZhbHVlcyksITApOiExfSxpLnByb3RvdHlwZS5fcHJvbWlzZUZ1bGZpbGxlZD1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBvO3JldHVybiBuLl9iaXRGaWVsZD0zMzU1NDQzMixuLl9zZXR0bGVkVmFsdWVGaWVsZD10LHRoaXMuX3Byb21pc2VSZXNvbHZlZChlLG4pfSxpLnByb3RvdHlwZS5fcHJvbWlzZVJlamVjdGVkPWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IG87cmV0dXJuIG4uX2JpdEZpZWxkPTE2Nzc3MjE2LG4uX3NldHRsZWRWYWx1ZUZpZWxkPXQsdGhpcy5fcHJvbWlzZVJlc29sdmVkKGUsbil9LGUuc2V0dGxlPWZ1bmN0aW9uKHQpe3JldHVybiByLmRlcHJlY2F0ZWQoXCIuc2V0dGxlKClcIixcIi5yZWZsZWN0KClcIiksbmV3IGkodCkucHJvbWlzZSgpfSxlLnByb3RvdHlwZS5zZXR0bGU9ZnVuY3Rpb24oKXtyZXR1cm4gZS5zZXR0bGUodGhpcyl9fX0se1wiLi91dGlsXCI6MzZ9XSwzMTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlLG4scil7ZnVuY3Rpb24gaSh0KXt0aGlzLmNvbnN0cnVjdG9yJCh0KSx0aGlzLl9ob3dNYW55PTAsdGhpcy5fdW53cmFwPSExLHRoaXMuX2luaXRpYWxpemVkPSExfWZ1bmN0aW9uIG8odCxlKXtpZigoMHxlKSE9PWV8fDA+ZSlyZXR1cm4gcihcImV4cGVjdGluZyBhIHBvc2l0aXZlIGludGVnZXJcXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXCIpO3ZhciBuPW5ldyBpKHQpLG89bi5wcm9taXNlKCk7cmV0dXJuIG4uc2V0SG93TWFueShlKSxuLmluaXQoKSxvfXZhciBzPXQoXCIuL3V0aWxcIiksYT10KFwiLi9lcnJvcnNcIikuUmFuZ2VFcnJvcixjPXQoXCIuL2Vycm9yc1wiKS5BZ2dyZWdhdGVFcnJvcix1PXMuaXNBcnJheSxsPXt9O3MuaW5oZXJpdHMoaSxuKSxpLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbigpe2lmKHRoaXMuX2luaXRpYWxpemVkKXtpZigwPT09dGhpcy5faG93TWFueSlyZXR1cm4gdm9pZCB0aGlzLl9yZXNvbHZlKFtdKTt0aGlzLl9pbml0JCh2b2lkIDAsLTUpO3ZhciB0PXUodGhpcy5fdmFsdWVzKTtcbiF0aGlzLl9pc1Jlc29sdmVkKCkmJnQmJnRoaXMuX2hvd01hbnk+dGhpcy5fY2FuUG9zc2libHlGdWxmaWxsKCkmJnRoaXMuX3JlamVjdCh0aGlzLl9nZXRSYW5nZUVycm9yKHRoaXMubGVuZ3RoKCkpKX19LGkucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLl9pbml0aWFsaXplZD0hMCx0aGlzLl9pbml0KCl9LGkucHJvdG90eXBlLnNldFVud3JhcD1mdW5jdGlvbigpe3RoaXMuX3Vud3JhcD0hMH0saS5wcm90b3R5cGUuaG93TWFueT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ob3dNYW55fSxpLnByb3RvdHlwZS5zZXRIb3dNYW55PWZ1bmN0aW9uKHQpe3RoaXMuX2hvd01hbnk9dH0saS5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2FkZEZ1bGZpbGxlZCh0KSx0aGlzLl9mdWxmaWxsZWQoKT09PXRoaXMuaG93TWFueSgpPyh0aGlzLl92YWx1ZXMubGVuZ3RoPXRoaXMuaG93TWFueSgpLDE9PT10aGlzLmhvd01hbnkoKSYmdGhpcy5fdW53cmFwP3RoaXMuX3Jlc29sdmUodGhpcy5fdmFsdWVzWzBdKTp0aGlzLl9yZXNvbHZlKHRoaXMuX3ZhbHVlcyksITApOiExfSxpLnByb3RvdHlwZS5fcHJvbWlzZVJlamVjdGVkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9hZGRSZWplY3RlZCh0KSx0aGlzLl9jaGVja091dGNvbWUoKX0saS5wcm90b3R5cGUuX3Byb21pc2VDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmFsdWVzIGluc3RhbmNlb2YgZXx8bnVsbD09dGhpcy5fdmFsdWVzP3RoaXMuX2NhbmNlbCgpOih0aGlzLl9hZGRSZWplY3RlZChsKSx0aGlzLl9jaGVja091dGNvbWUoKSl9LGkucHJvdG90eXBlLl9jaGVja091dGNvbWU9ZnVuY3Rpb24oKXtpZih0aGlzLmhvd01hbnkoKT50aGlzLl9jYW5Qb3NzaWJseUZ1bGZpbGwoKSl7Zm9yKHZhciB0PW5ldyBjLGU9dGhpcy5sZW5ndGgoKTtlPHRoaXMuX3ZhbHVlcy5sZW5ndGg7KytlKXRoaXMuX3ZhbHVlc1tlXSE9PWwmJnQucHVzaCh0aGlzLl92YWx1ZXNbZV0pO3JldHVybiB0Lmxlbmd0aD4wP3RoaXMuX3JlamVjdCh0KTp0aGlzLl9jYW5jZWwoKSwhMH1yZXR1cm4hMX0saS5wcm90b3R5cGUuX2Z1bGZpbGxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90b3RhbFJlc29sdmVkfSxpLnByb3RvdHlwZS5fcmVqZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmFsdWVzLmxlbmd0aC10aGlzLmxlbmd0aCgpfSxpLnByb3RvdHlwZS5fYWRkUmVqZWN0ZWQ9ZnVuY3Rpb24odCl7dGhpcy5fdmFsdWVzLnB1c2godCl9LGkucHJvdG90eXBlLl9hZGRGdWxmaWxsZWQ9ZnVuY3Rpb24odCl7dGhpcy5fdmFsdWVzW3RoaXMuX3RvdGFsUmVzb2x2ZWQrK109dH0saS5wcm90b3R5cGUuX2NhblBvc3NpYmx5RnVsZmlsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aCgpLXRoaXMuX3JlamVjdGVkKCl9LGkucHJvdG90eXBlLl9nZXRSYW5nZUVycm9yPWZ1bmN0aW9uKHQpe3ZhciBlPVwiSW5wdXQgYXJyYXkgbXVzdCBjb250YWluIGF0IGxlYXN0IFwiK3RoaXMuX2hvd01hbnkrXCIgaXRlbXMgYnV0IGNvbnRhaW5zIG9ubHkgXCIrdCtcIiBpdGVtc1wiO3JldHVybiBuZXcgYShlKX0saS5wcm90b3R5cGUuX3Jlc29sdmVFbXB0eUFycmF5PWZ1bmN0aW9uKCl7dGhpcy5fcmVqZWN0KHRoaXMuX2dldFJhbmdlRXJyb3IoMCkpfSxlLnNvbWU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbyh0LGUpfSxlLnByb3RvdHlwZS5zb21lPWZ1bmN0aW9uKHQpe3JldHVybiBvKHRoaXMsdCl9LGUuX1NvbWVQcm9taXNlQXJyYXk9aX19LHtcIi4vZXJyb3JzXCI6MTIsXCIuL3V0aWxcIjozNn1dLDMyOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dm9pZCAwIT09dD8odD10Ll90YXJnZXQoKSx0aGlzLl9iaXRGaWVsZD10Ll9iaXRGaWVsZCx0aGlzLl9zZXR0bGVkVmFsdWVGaWVsZD10Ll9pc0ZhdGVTZWFsZWQoKT90Ll9zZXR0bGVkVmFsdWUoKTp2b2lkIDApOih0aGlzLl9iaXRGaWVsZD0wLHRoaXMuX3NldHRsZWRWYWx1ZUZpZWxkPXZvaWQgMCl9ZS5wcm90b3R5cGUuX3NldHRsZWRWYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXR0bGVkVmFsdWVGaWVsZH07dmFyIG49ZS5wcm90b3R5cGUudmFsdWU9ZnVuY3Rpb24oKXtpZighdGhpcy5pc0Z1bGZpbGxlZCgpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJjYW5ub3QgZ2V0IGZ1bGZpbGxtZW50IHZhbHVlIG9mIGEgbm9uLWZ1bGZpbGxlZCBwcm9taXNlXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKTtyZXR1cm4gdGhpcy5fc2V0dGxlZFZhbHVlKCl9LHI9ZS5wcm90b3R5cGUuZXJyb3I9ZS5wcm90b3R5cGUucmVhc29uPWZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNSZWplY3RlZCgpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJjYW5ub3QgZ2V0IHJlamVjdGlvbiByZWFzb24gb2YgYSBub24tcmVqZWN0ZWQgcHJvbWlzZVxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIik7cmV0dXJuIHRoaXMuX3NldHRsZWRWYWx1ZSgpfSxpPWUucHJvdG90eXBlLmlzRnVsZmlsbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIDAhPT0oMzM1NTQ0MzImdGhpcy5fYml0RmllbGQpfSxvPWUucHJvdG90eXBlLmlzUmVqZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PSgxNjc3NzIxNiZ0aGlzLl9iaXRGaWVsZCl9LHM9ZS5wcm90b3R5cGUuaXNQZW5kaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT0oNTAzOTcxODQmdGhpcy5fYml0RmllbGQpfSxhPWUucHJvdG90eXBlLmlzUmVzb2x2ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PSg1MDMzMTY0OCZ0aGlzLl9iaXRGaWVsZCl9O2UucHJvdG90eXBlLmlzQ2FuY2VsbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIDAhPT0oODQ1NDE0NCZ0aGlzLl9iaXRGaWVsZCl9LHQucHJvdG90eXBlLl9faXNDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gNjU1MzY9PT0oNjU1MzYmdGhpcy5fYml0RmllbGQpfSx0LnByb3RvdHlwZS5faXNDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGFyZ2V0KCkuX19pc0NhbmNlbGxlZCgpfSx0LnByb3RvdHlwZS5pc0NhbmNlbGxlZD1mdW5jdGlvbigpe3JldHVybiAwIT09KDg0NTQxNDQmdGhpcy5fdGFyZ2V0KCkuX2JpdEZpZWxkKX0sdC5wcm90b3R5cGUuaXNQZW5kaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHMuY2FsbCh0aGlzLl90YXJnZXQoKSl9LHQucHJvdG90eXBlLmlzUmVqZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gby5jYWxsKHRoaXMuX3RhcmdldCgpKX0sdC5wcm90b3R5cGUuaXNGdWxmaWxsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gaS5jYWxsKHRoaXMuX3RhcmdldCgpKX0sdC5wcm90b3R5cGUuaXNSZXNvbHZlZD1mdW5jdGlvbigpe3JldHVybiBhLmNhbGwodGhpcy5fdGFyZ2V0KCkpfSx0LnByb3RvdHlwZS52YWx1ZT1mdW5jdGlvbigpe3JldHVybiBuLmNhbGwodGhpcy5fdGFyZ2V0KCkpfSx0LnByb3RvdHlwZS5yZWFzb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90YXJnZXQoKTtyZXR1cm4gdC5fdW5zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZCgpLHIuY2FsbCh0KX0sdC5wcm90b3R5cGUuX3ZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldHRsZWRWYWx1ZSgpfSx0LnByb3RvdHlwZS5fcmVhc29uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Vuc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQoKSx0aGlzLl9zZXR0bGVkVmFsdWUoKX0sdC5Qcm9taXNlSW5zcGVjdGlvbj1lfX0se31dLDMzOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gcih0LHIpe2lmKGwodCkpe2lmKHQgaW5zdGFuY2VvZiBlKXJldHVybiB0O3ZhciBpPW8odCk7aWYoaT09PXUpe3ImJnIuX3B1c2hDb250ZXh0KCk7dmFyIGM9ZS5yZWplY3QoaS5lKTtyZXR1cm4gciYmci5fcG9wQ29udGV4dCgpLGN9aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgaSl7aWYocyh0KSl7dmFyIGM9bmV3IGUobik7cmV0dXJuIHQuX3RoZW4oYy5fZnVsZmlsbCxjLl9yZWplY3Qsdm9pZCAwLGMsbnVsbCksY31yZXR1cm4gYSh0LGkscil9fXJldHVybiB0fWZ1bmN0aW9uIGkodCl7cmV0dXJuIHQudGhlbn1mdW5jdGlvbiBvKHQpe3RyeXtyZXR1cm4gaSh0KX1jYXRjaChlKXtyZXR1cm4gdS5lPWUsdX19ZnVuY3Rpb24gcyh0KXt0cnl7cmV0dXJuIGYuY2FsbCh0LFwiX3Byb21pc2UwXCIpfWNhdGNoKGUpe3JldHVybiExfX1mdW5jdGlvbiBhKHQscixpKXtmdW5jdGlvbiBvKHQpe2EmJihhLl9yZXNvbHZlQ2FsbGJhY2sodCksYT1udWxsKX1mdW5jdGlvbiBzKHQpe2EmJihhLl9yZWplY3RDYWxsYmFjayh0LGYsITApLGE9bnVsbCl9dmFyIGE9bmV3IGUobiksbD1hO2kmJmkuX3B1c2hDb250ZXh0KCksYS5fY2FwdHVyZVN0YWNrVHJhY2UoKSxpJiZpLl9wb3BDb250ZXh0KCk7dmFyIGY9ITAscD1jLnRyeUNhdGNoKHIpLmNhbGwodCxvLHMpO3JldHVybiBmPSExLGEmJnA9PT11JiYoYS5fcmVqZWN0Q2FsbGJhY2socC5lLCEwLCEwKSxhPW51bGwpLGx9dmFyIGM9dChcIi4vdXRpbFwiKSx1PWMuZXJyb3JPYmosbD1jLmlzT2JqZWN0LGY9e30uaGFzT3duUHJvcGVydHk7cmV0dXJuIHJ9fSx7XCIuL3V0aWxcIjozNn1dLDM0OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyKXtmdW5jdGlvbiBpKHQpe3RoaXMuaGFuZGxlPXR9ZnVuY3Rpb24gbyh0KXtyZXR1cm4gY2xlYXJUaW1lb3V0KHRoaXMuaGFuZGxlKSx0fWZ1bmN0aW9uIHModCl7dGhyb3cgY2xlYXJUaW1lb3V0KHRoaXMuaGFuZGxlKSx0fXZhciBhPXQoXCIuL3V0aWxcIiksYz1lLlRpbWVvdXRFcnJvcjtpLnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuaGFuZGxlKX07dmFyIHU9ZnVuY3Rpb24odCl7cmV0dXJuIGwoK3RoaXMpLnRoZW5SZXR1cm4odCl9LGw9ZS5kZWxheT1mdW5jdGlvbih0LG8pe3ZhciBzLGE7cmV0dXJuIHZvaWQgMCE9PW8/KHM9ZS5yZXNvbHZlKG8pLl90aGVuKHUsbnVsbCxudWxsLHQsdm9pZCAwKSxyLmNhbmNlbGxhdGlvbigpJiZvIGluc3RhbmNlb2YgZSYmcy5fc2V0T25DYW5jZWwobykpOihzPW5ldyBlKG4pLGE9c2V0VGltZW91dChmdW5jdGlvbigpe3MuX2Z1bGZpbGwoKX0sK3QpLHIuY2FuY2VsbGF0aW9uKCkmJnMuX3NldE9uQ2FuY2VsKG5ldyBpKGEpKSxzLl9jYXB0dXJlU3RhY2tUcmFjZSgpKSxzLl9zZXRBc3luY0d1YXJhbnRlZWQoKSxzfTtlLnByb3RvdHlwZS5kZWxheT1mdW5jdGlvbih0KXtyZXR1cm4gbCh0LHRoaXMpfTt2YXIgZj1mdW5jdGlvbih0LGUsbil7dmFyIHI7cj1cInN0cmluZ1wiIT10eXBlb2YgZT9lIGluc3RhbmNlb2YgRXJyb3I/ZTpuZXcgYyhcIm9wZXJhdGlvbiB0aW1lZCBvdXRcIik6bmV3IGMoZSksYS5tYXJrQXNPcmlnaW5hdGluZ0Zyb21SZWplY3Rpb24ociksdC5fYXR0YWNoRXh0cmFUcmFjZShyKSx0Ll9yZWplY3QociksbnVsbCE9biYmbi5jYW5jZWwoKX07ZS5wcm90b3R5cGUudGltZW91dD1mdW5jdGlvbih0LGUpe3Q9K3Q7dmFyIG4sYSxjPW5ldyBpKHNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLmlzUGVuZGluZygpJiZmKG4sZSxhKX0sdCkpO3JldHVybiByLmNhbmNlbGxhdGlvbigpPyhhPXRoaXMudGhlbigpLG49YS5fdGhlbihvLHMsdm9pZCAwLGMsdm9pZCAwKSxuLl9zZXRPbkNhbmNlbChjKSk6bj10aGlzLl90aGVuKG8scyx2b2lkIDAsYyx2b2lkIDApLG59fX0se1wiLi91dGlsXCI6MzZ9XSwzNTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlLG4scixpLG8scyl7ZnVuY3Rpb24gYSh0KXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgdH0sMCl9ZnVuY3Rpb24gYyh0KXt2YXIgZT1yKHQpO3JldHVybiBlIT09dCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5faXNEaXNwb3NhYmxlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Ll9nZXREaXNwb3NlciYmdC5faXNEaXNwb3NhYmxlKCkmJmUuX3NldERpc3Bvc2FibGUodC5fZ2V0RGlzcG9zZXIoKSksZX1mdW5jdGlvbiB1KHQsbil7ZnVuY3Rpb24gaSgpe2lmKHM+PXUpcmV0dXJuIGwuX2Z1bGZpbGwoKTt2YXIgbz1jKHRbcysrXSk7aWYobyBpbnN0YW5jZW9mIGUmJm8uX2lzRGlzcG9zYWJsZSgpKXt0cnl7bz1yKG8uX2dldERpc3Bvc2VyKCkudHJ5RGlzcG9zZShuKSx0LnByb21pc2UpfWNhdGNoKGYpe3JldHVybiBhKGYpfWlmKG8gaW5zdGFuY2VvZiBlKXJldHVybiBvLl90aGVuKGksYSxudWxsLG51bGwsbnVsbCl9aSgpfXZhciBzPTAsdT10Lmxlbmd0aCxsPW5ldyBlKG8pO3JldHVybiBpKCksbH1mdW5jdGlvbiBsKHQsZSxuKXt0aGlzLl9kYXRhPXQsdGhpcy5fcHJvbWlzZT1lLHRoaXMuX2NvbnRleHQ9bn1mdW5jdGlvbiBmKHQsZSxuKXt0aGlzLmNvbnN0cnVjdG9yJCh0LGUsbil9ZnVuY3Rpb24gcCh0KXtyZXR1cm4gbC5pc0Rpc3Bvc2VyKHQpPyh0aGlzLnJlc291cmNlc1t0aGlzLmluZGV4XS5fc2V0RGlzcG9zYWJsZSh0KSx0LnByb21pc2UoKSk6dH1mdW5jdGlvbiBoKHQpe3RoaXMubGVuZ3RoPXQsdGhpcy5wcm9taXNlPW51bGwsdGhpc1t0LTFdPW51bGx9dmFyIGQ9dChcIi4vdXRpbFwiKSxfPXQoXCIuL2Vycm9yc1wiKS5UeXBlRXJyb3Isdj10KFwiLi91dGlsXCIpLmluaGVyaXRzLHk9ZC5lcnJvck9iaixtPWQudHJ5Q2F0Y2gsZz17fTtsLnByb3RvdHlwZS5kYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9LGwucHJvdG90eXBlLnByb21pc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvbWlzZX0sbC5wcm90b3R5cGUucmVzb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9taXNlKCkuaXNGdWxmaWxsZWQoKT90aGlzLnByb21pc2UoKS52YWx1ZSgpOmd9LGwucHJvdG90eXBlLnRyeURpc3Bvc2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5yZXNvdXJjZSgpLG49dGhpcy5fY29udGV4dDt2b2lkIDAhPT1uJiZuLl9wdXNoQ29udGV4dCgpO3ZhciByPWUhPT1nP3RoaXMuZG9EaXNwb3NlKGUsdCk6bnVsbDtyZXR1cm4gdm9pZCAwIT09biYmbi5fcG9wQ29udGV4dCgpLHRoaXMuX3Byb21pc2UuX3Vuc2V0RGlzcG9zYWJsZSgpLHRoaXMuX2RhdGE9bnVsbCxyfSxsLmlzRGlzcG9zZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQucmVzb3VyY2UmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQudHJ5RGlzcG9zZX0sdihmLGwpLGYucHJvdG90eXBlLmRvRGlzcG9zZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZGF0YSgpO3JldHVybiBuLmNhbGwodCx0LGUpfSxoLnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMubGVuZ3RoLG49MDt0Pm47KytuKXt2YXIgcj10aGlzW25dO3IgaW5zdGFuY2VvZiBlJiZyLmNhbmNlbCgpfX0sZS51c2luZz1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg7aWYoMj50KXJldHVybiBuKFwieW91IG11c3QgcGFzcyBhdCBsZWFzdCAyIGFyZ3VtZW50cyB0byBQcm9taXNlLnVzaW5nXCIpO3ZhciBpPWFyZ3VtZW50c1t0LTFdO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGkpcmV0dXJuIG4oXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiK2QuY2xhc3NTdHJpbmcoaSkpO3ZhciBvLGE9ITA7Mj09PXQmJkFycmF5LmlzQXJyYXkoYXJndW1lbnRzWzBdKT8obz1hcmd1bWVudHNbMF0sdD1vLmxlbmd0aCxhPSExKToobz1hcmd1bWVudHMsdC0tKTtmb3IodmFyIGM9bmV3IGgodCksZj0wO3Q+ZjsrK2Ype3ZhciBfPW9bZl07aWYobC5pc0Rpc3Bvc2VyKF8pKXt2YXIgdj1fO189Xy5wcm9taXNlKCksXy5fc2V0RGlzcG9zYWJsZSh2KX1lbHNle3ZhciBnPXIoXyk7ZyBpbnN0YW5jZW9mIGUmJihfPWcuX3RoZW4ocCxudWxsLG51bGwse3Jlc291cmNlczpjLGluZGV4OmZ9LHZvaWQgMCkpfWNbZl09X31mb3IodmFyIGI9bmV3IEFycmF5KGMubGVuZ3RoKSxmPTA7ZjxiLmxlbmd0aDsrK2YpYltmXT1lLnJlc29sdmUoY1tmXSkucmVmbGVjdCgpO3ZhciB3PWUuYWxsKGIpLnRoZW4oZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDsrK2Upe3ZhciBuPXRbZV07aWYobi5pc1JlamVjdGVkKCkpcmV0dXJuIHkuZT1uLmVycm9yKCkseTtpZighbi5pc0Z1bGZpbGxlZCgpKXJldHVybiB2b2lkIHcuY2FuY2VsKCk7dFtlXT1uLnZhbHVlKCl9RS5fcHVzaENvbnRleHQoKSxpPW0oaSk7dmFyIHI9YT9pLmFwcGx5KHZvaWQgMCx0KTppKHQpLG89RS5fcG9wQ29udGV4dCgpO3JldHVybiBzLmNoZWNrRm9yZ290dGVuUmV0dXJucyhyLG8sXCJQcm9taXNlLnVzaW5nXCIsRSkscn0pLEU9dy5sYXN0bHkoZnVuY3Rpb24oKXt2YXIgdD1uZXcgZS5Qcm9taXNlSW5zcGVjdGlvbih3KTtyZXR1cm4gdShjLHQpfSk7cmV0dXJuIGMucHJvbWlzZT1FLEUuX3NldE9uQ2FuY2VsKGMpLEV9LGUucHJvdG90eXBlLl9zZXREaXNwb3NhYmxlPWZ1bmN0aW9uKHQpe3RoaXMuX2JpdEZpZWxkPTEzMTA3Mnx0aGlzLl9iaXRGaWVsZCx0aGlzLl9kaXNwb3Nlcj10fSxlLnByb3RvdHlwZS5faXNEaXNwb3NhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuKDEzMTA3MiZ0aGlzLl9iaXRGaWVsZCk+MH0sZS5wcm90b3R5cGUuX2dldERpc3Bvc2VyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rpc3Bvc2VyfSxlLnByb3RvdHlwZS5fdW5zZXREaXNwb3NhYmxlPWZ1bmN0aW9uKCl7dGhpcy5fYml0RmllbGQ9LTEzMTA3MyZ0aGlzLl9iaXRGaWVsZCx0aGlzLl9kaXNwb3Nlcj12b2lkIDB9LGUucHJvdG90eXBlLmRpc3Bvc2VyPWZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpcmV0dXJuIG5ldyBmKHQsdGhpcyxpKCkpO3Rocm93IG5ldyBffX19LHtcIi4vZXJyb3JzXCI6MTIsXCIuL3V0aWxcIjozNn1dLDM2OltmdW5jdGlvbih0LHIsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbygpe3RyeXt2YXIgdD1PO3JldHVybiBPPW51bGwsdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9Y2F0Y2goZSl7cmV0dXJuIFAuZT1lLFB9fWZ1bmN0aW9uIHModCl7cmV0dXJuIE89dCxvfWZ1bmN0aW9uIGEodCl7cmV0dXJuIG51bGw9PXR8fHQ9PT0hMHx8dD09PSExfHxcInN0cmluZ1wiPT10eXBlb2YgdHx8XCJudW1iZXJcIj09dHlwZW9mIHR9ZnVuY3Rpb24gYyh0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0fHxcIm9iamVjdFwiPT10eXBlb2YgdCYmbnVsbCE9PXR9ZnVuY3Rpb24gdSh0KXtyZXR1cm4gYSh0KT9uZXcgRXJyb3IobSh0KSk6dH1mdW5jdGlvbiBsKHQsZSl7dmFyIG4scj10Lmxlbmd0aCxpPW5ldyBBcnJheShyKzEpO2ZvcihuPTA7cj5uOysrbilpW25dPXRbbl07cmV0dXJuIGlbbl09ZSxpfWZ1bmN0aW9uIGYodCxlLG4pe2lmKCFULmlzRVM1KXJldHVybnt9Lmhhc093blByb3BlcnR5LmNhbGwodCxlKT90W2VdOnZvaWQgMDt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSk7cmV0dXJuIG51bGwhPXI/bnVsbD09ci5nZXQmJm51bGw9PXIuc2V0P3IudmFsdWU6bjp2b2lkIDB9ZnVuY3Rpb24gcCh0LGUsbil7aWYoYSh0KSlyZXR1cm4gdDt2YXIgcj17dmFsdWU6bixjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMH07cmV0dXJuIFQuZGVmaW5lUHJvcGVydHkodCxlLHIpLHR9ZnVuY3Rpb24gaCh0KXt0aHJvdyB0fWZ1bmN0aW9uIGQodCl7dHJ5e2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpe3ZhciBlPVQubmFtZXModC5wcm90b3R5cGUpLG49VC5pc0VTNSYmZS5sZW5ndGg+MSxyPWUubGVuZ3RoPjAmJiEoMT09PWUubGVuZ3RoJiZcImNvbnN0cnVjdG9yXCI9PT1lWzBdKSxpPUQudGVzdCh0K1wiXCIpJiZULm5hbWVzKHQpLmxlbmd0aD4wO2lmKG58fHJ8fGkpcmV0dXJuITB9cmV0dXJuITF9Y2F0Y2gobyl7cmV0dXJuITF9fWZ1bmN0aW9uIF8odCl7ZnVuY3Rpb24gZSgpe31lLnByb3RvdHlwZT10O2Zvcih2YXIgbj04O24tLTspbmV3IGU7cmV0dXJuIHR9ZnVuY3Rpb24gdih0KXtyZXR1cm4gVS50ZXN0KHQpfWZ1bmN0aW9uIHkodCxlLG4pe2Zvcih2YXIgcj1uZXcgQXJyYXkodCksaT0wO3Q+aTsrK2kpcltpXT1lK2krbjtyZXR1cm4gcn1mdW5jdGlvbiBtKHQpe3RyeXtyZXR1cm4gdCtcIlwifWNhdGNoKGUpe3JldHVyblwiW25vIHN0cmluZyByZXByZXNlbnRhdGlvbl1cIn19ZnVuY3Rpb24gZyh0KXtyZXR1cm4gbnVsbCE9PXQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZcInN0cmluZ1wiPT10eXBlb2YgdC5tZXNzYWdlJiZcInN0cmluZ1wiPT10eXBlb2YgdC5uYW1lfWZ1bmN0aW9uIGIodCl7dHJ5e3AodCxcImlzT3BlcmF0aW9uYWxcIiwhMCl9Y2F0Y2goZSl7fX1mdW5jdGlvbiB3KHQpe3JldHVybiBudWxsPT10PyExOnQgaW5zdGFuY2VvZiBFcnJvci5fX0JsdWViaXJkRXJyb3JUeXBlc19fLk9wZXJhdGlvbmFsRXJyb3J8fHQuaXNPcGVyYXRpb25hbD09PSEwfWZ1bmN0aW9uIEUodCl7cmV0dXJuIGcodCkmJlQucHJvcGVydHlJc1dyaXRhYmxlKHQsXCJzdGFja1wiKX1mdW5jdGlvbiBDKHQpe3JldHVybnt9LnRvU3RyaW5nLmNhbGwodCl9ZnVuY3Rpb24gayh0LGUsbil7Zm9yKHZhciByPVQubmFtZXModCksaT0wO2k8ci5sZW5ndGg7KytpKXt2YXIgbz1yW2ldO2lmKG4obykpdHJ5e1QuZGVmaW5lUHJvcGVydHkoZSxvLFQuZ2V0RGVzY3JpcHRvcih0LG8pKX1jYXRjaChzKXt9fX1mdW5jdGlvbiBqKHQsbil7cmV0dXJuIEI/ZS5lbnZbdF06bn1mdW5jdGlvbiB4KCl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJvbWlzZSl0cnl7dmFyIHQ9bmV3IFByb21pc2UoZnVuY3Rpb24oKXt9KTtpZihcIltvYmplY3QgUHJvbWlzZV1cIj09PXt9LnRvU3RyaW5nLmNhbGwodCkpcmV0dXJuIFByb21pc2V9Y2F0Y2goZSl7fX1mdW5jdGlvbiBGKHQsZSl7cmV0dXJuIHQuYmluZChlKX12YXIgVD10KFwiLi9lczVcIiksUz1cInVuZGVmaW5lZFwiPT10eXBlb2YgbmF2aWdhdG9yLFA9e2U6e319LE8sUj1cInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBuP246dm9pZCAwIT09dGhpcz90aGlzOm51bGwsQT1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXQsdGhpcy5jb25zdHJ1Y3RvciQ9ZTtmb3IodmFyIG4gaW4gZS5wcm90b3R5cGUpci5jYWxsKGUucHJvdG90eXBlLG4pJiZcIiRcIiE9PW4uY2hhckF0KG4ubGVuZ3RoLTEpJiYodGhpc1tuK1wiJFwiXT1lLnByb3RvdHlwZVtuXSl9dmFyIHI9e30uaGFzT3duUHJvcGVydHk7cmV0dXJuIG4ucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBuLHQucHJvdG90eXBlfSxJPWZ1bmN0aW9uKCl7dmFyIHQ9W0FycmF5LnByb3RvdHlwZSxPYmplY3QucHJvdG90eXBlLEZ1bmN0aW9uLnByb3RvdHlwZV0sZT1mdW5jdGlvbihlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoOysrbilpZih0W25dPT09ZSlyZXR1cm4hMDtyZXR1cm4hMX07aWYoVC5pc0VTNSl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgcj1bXSxpPU9iamVjdC5jcmVhdGUobnVsbCk7bnVsbCE9dCYmIWUodCk7KXt2YXIgbzt0cnl7bz1uKHQpfWNhdGNoKHMpe3JldHVybiByfWZvcih2YXIgYT0wO2E8by5sZW5ndGg7KythKXt2YXIgYz1vW2FdO2lmKCFpW2NdKXtpW2NdPSEwO3ZhciB1PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxjKTtudWxsIT11JiZudWxsPT11LmdldCYmbnVsbD09dS5zZXQmJnIucHVzaChjKX19dD1ULmdldFByb3RvdHlwZU9mKHQpfXJldHVybiByfX12YXIgcj17fS5oYXNPd25Qcm9wZXJ0eTtyZXR1cm4gZnVuY3Rpb24obil7aWYoZShuKSlyZXR1cm5bXTt2YXIgaT1bXTt0OmZvcih2YXIgbyBpbiBuKWlmKHIuY2FsbChuLG8pKWkucHVzaChvKTtlbHNle2Zvcih2YXIgcz0wO3M8dC5sZW5ndGg7KytzKWlmKHIuY2FsbCh0W3NdLG8pKWNvbnRpbnVlIHQ7aS5wdXNoKG8pfXJldHVybiBpfX0oKSxEPS90aGlzXFxzKlxcLlxccypcXFMrXFxzKj0vLFU9L15bYS16JF9dW2EteiRfMC05XSokL2ksTj1mdW5jdGlvbigpe3JldHVyblwic3RhY2tcImluIG5ldyBFcnJvcj9mdW5jdGlvbih0KXtyZXR1cm4gRSh0KT90Om5ldyBFcnJvcihtKHQpKX06ZnVuY3Rpb24odCl7aWYoRSh0KSlyZXR1cm4gdDt0cnl7dGhyb3cgbmV3IEVycm9yKG0odCkpfWNhdGNoKGUpe3JldHVybiBlfX19KCksTD1mdW5jdGlvbih0KXtyZXR1cm4gVC5pc0FycmF5KHQpP3Q6bnVsbH07aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yKXt2YXIgVj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBBcnJheS5mcm9tP2Z1bmN0aW9uKHQpe3JldHVybiBBcnJheS5mcm9tKHQpfTpmdW5jdGlvbih0KXtmb3IodmFyIGUsbj1bXSxyPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZT1yLm5leHQoKSkuZG9uZTspbi5wdXNoKGUudmFsdWUpO3JldHVybiBufTtMPWZ1bmN0aW9uKHQpe3JldHVybiBULmlzQXJyYXkodCk/dDpudWxsIT10JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0W1N5bWJvbC5pdGVyYXRvcl0/Vih0KTpudWxsfX12YXIgQj1cInVuZGVmaW5lZFwiIT10eXBlb2YgZSYmXCJbb2JqZWN0IHByb2Nlc3NdXCI9PT1DKGUpLnRvTG93ZXJDYXNlKCksTT17aXNDbGFzczpkLGlzSWRlbnRpZmllcjp2LGluaGVyaXRlZERhdGFLZXlzOkksZ2V0RGF0YVByb3BlcnR5T3JEZWZhdWx0OmYsdGhyb3dlcjpoLGlzQXJyYXk6VC5pc0FycmF5LGFzQXJyYXk6TCxub3RFbnVtZXJhYmxlUHJvcDpwLGlzUHJpbWl0aXZlOmEsaXNPYmplY3Q6Yyxpc0Vycm9yOmcsY2FuRXZhbHVhdGU6UyxlcnJvck9iajpQLHRyeUNhdGNoOnMsaW5oZXJpdHM6QSx3aXRoQXBwZW5kZWQ6bCxtYXliZVdyYXBBc0Vycm9yOnUsdG9GYXN0UHJvcGVydGllczpfLGZpbGxlZFJhbmdlOnksdG9TdHJpbmc6bSxjYW5BdHRhY2hUcmFjZTpFLGVuc3VyZUVycm9yT2JqZWN0Ok4sb3JpZ2luYXRlc0Zyb21SZWplY3Rpb246dyxtYXJrQXNPcmlnaW5hdGluZ0Zyb21SZWplY3Rpb246YixjbGFzc1N0cmluZzpDLGNvcHlEZXNjcmlwdG9yczprLGhhc0RldlRvb2xzOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBjaHJvbWUmJmNocm9tZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgY2hyb21lLmxvYWRUaW1lcyxpc05vZGU6QixlbnY6aixnbG9iYWw6UixnZXROYXRpdmVQcm9taXNlOngsZG9tYWluQmluZDpGfTtNLmlzUmVjZW50Tm9kZT1NLmlzTm9kZSYmZnVuY3Rpb24oKXt2YXIgdD1lLnZlcnNpb25zLm5vZGUuc3BsaXQoXCIuXCIpLm1hcChOdW1iZXIpO3JldHVybiAwPT09dFswXSYmdFsxXT4xMHx8dFswXT4wfSgpLE0uaXNOb2RlJiZNLnRvRmFzdFByb3BlcnRpZXMoZSk7dHJ5e3Rocm93IG5ldyBFcnJvcn1jYXRjaChIKXtNLmxhc3RMaW5lRXJyb3I9SH1yLmV4cG9ydHM9TX0se1wiLi9lczVcIjoxM31dfSx7fSxbNF0pKDQpfSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmbnVsbCE9PXdpbmRvdz93aW5kb3cuUD13aW5kb3cuUHJvbWlzZTpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmbnVsbCE9PXNlbGYmJihzZWxmLlA9c2VsZi5Qcm9taXNlKX0pLmNhbGwoZSxuKDQ4KSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpLG4oNDkpLnNldEltbWVkaWF0ZSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe2YmJnMmJihmPSExLHMubGVuZ3RoP2w9cy5jb25jYXQobCk6cD0tMSxsLmxlbmd0aCYmcigpKX1mdW5jdGlvbiByKCl7aWYoIWYpe3ZhciB0PWMobik7Zj0hMDtmb3IodmFyIGU9bC5sZW5ndGg7ZTspe2ZvcihzPWwsbD1bXTsrK3A8ZTspcyYmc1twXS5ydW4oKTtwPS0xLGU9bC5sZW5ndGh9cz1udWxsLGY9ITEsdSh0KX19ZnVuY3Rpb24gaSh0LGUpe3RoaXMuZnVuPXQsdGhpcy5hcnJheT1lfWZ1bmN0aW9uIG8oKXt9dmFyIHMsYT10LmV4cG9ydHM9e30sYz1zZXRUaW1lb3V0LHU9Y2xlYXJUaW1lb3V0LGw9W10sZj0hMSxwPS0xO2EubmV4dFRpY2s9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuLTFdPWFyZ3VtZW50c1tuXTtsLnB1c2gobmV3IGkodCxlKSksMSE9PWwubGVuZ3RofHxmfHxjKHIsMCl9LGkucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LGEudGl0bGU9XCJicm93c2VyXCIsYS5icm93c2VyPSEwLGEuZW52PXt9LGEuYXJndj1bXSxhLnZlcnNpb249XCJcIixhLnZlcnNpb25zPXt9LGEub249byxhLmFkZExpc3RlbmVyPW8sYS5vbmNlPW8sYS5vZmY9byxhLnJlbW92ZUxpc3RlbmVyPW8sYS5yZW1vdmVBbGxMaXN0ZW5lcnM9byxhLmVtaXQ9byxhLmJpbmRpbmc9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9LGEuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9LGEuY2hkaXI9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfSxhLnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKHQscil7ZnVuY3Rpb24gaSh0LGUpe3RoaXMuX2lkPXQsdGhpcy5fY2xlYXJGbj1lfXZhciBvPW4oNDgpLm5leHRUaWNrLHM9RnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLGM9e30sdT0wO2Uuc2V0VGltZW91dD1mdW5jdGlvbigpe3JldHVybiBuZXcgaShzLmNhbGwoc2V0VGltZW91dCx3aW5kb3csYXJndW1lbnRzKSxjbGVhclRpbWVvdXQpfSxlLnNldEludGVydmFsPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHMuY2FsbChzZXRJbnRlcnZhbCx3aW5kb3csYXJndW1lbnRzKSxjbGVhckludGVydmFsKX0sZS5jbGVhclRpbWVvdXQ9ZS5jbGVhckludGVydmFsPWZ1bmN0aW9uKHQpe3QuY2xvc2UoKX0saS5wcm90b3R5cGUudW5yZWY9aS5wcm90b3R5cGUucmVmPWZ1bmN0aW9uKCl7fSxpLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFyRm4uY2FsbCh3aW5kb3csdGhpcy5faWQpfSxlLmVucm9sbD1mdW5jdGlvbih0LGUpe2NsZWFyVGltZW91dCh0Ll9pZGxlVGltZW91dElkKSx0Ll9pZGxlVGltZW91dD1lfSxlLnVuZW5yb2xsPWZ1bmN0aW9uKHQpe2NsZWFyVGltZW91dCh0Ll9pZGxlVGltZW91dElkKSx0Ll9pZGxlVGltZW91dD0tMX0sZS5fdW5yZWZBY3RpdmU9ZS5hY3RpdmU9ZnVuY3Rpb24odCl7Y2xlYXJUaW1lb3V0KHQuX2lkbGVUaW1lb3V0SWQpO3ZhciBlPXQuX2lkbGVUaW1lb3V0O2U+PTAmJih0Ll9pZGxlVGltZW91dElkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0Ll9vblRpbWVvdXQmJnQuX29uVGltZW91dCgpfSxlKSl9LGUuc2V0SW1tZWRpYXRlPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dDpmdW5jdGlvbih0KXt2YXIgbj11Kysscj1hcmd1bWVudHMubGVuZ3RoPDI/ITE6YS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gY1tuXT0hMCxvKGZ1bmN0aW9uKCl7Y1tuXSYmKHI/dC5hcHBseShudWxsLHIpOnQuY2FsbChudWxsKSxlLmNsZWFySW1tZWRpYXRlKG4pKX0pLG59LGUuY2xlYXJJbW1lZGlhdGU9XCJmdW5jdGlvblwiPT10eXBlb2Ygcj9yOmZ1bmN0aW9uKHQpe2RlbGV0ZSBjW3RdfX0pLmNhbGwoZSxuKDQ5KS5zZXRJbW1lZGlhdGUsbig0OSkuY2xlYXJJbW1lZGlhdGUpfSxmdW5jdGlvbih0LGUsbil7dmFyIHIsaT1pfHxmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtpZighKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0fHxcInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiYvTVNJRSBbMS05XVxcLi8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkpe3ZhciBlPXQuZG9jdW1lbnQsbj1mdW5jdGlvbigpe3JldHVybiB0LlVSTHx8dC53ZWJraXRVUkx8fHR9LHI9ZS5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIsXCJhXCIpLGk9XCJkb3dubG9hZFwiaW4gcixvPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBNb3VzZUV2ZW50KFwiY2xpY2tcIik7dC5kaXNwYXRjaEV2ZW50KGUpfSxzPS9jb25zdHJ1Y3Rvci9pLnRlc3QodC5IVE1MRWxlbWVudCl8fHQuc2FmYXJpLGE9L0NyaU9TXFwvW1xcZF0rLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGM9ZnVuY3Rpb24oZSl7KHQuc2V0SW1tZWRpYXRlfHx0LnNldFRpbWVvdXQpKGZ1bmN0aW9uKCl7dGhyb3cgZX0sMCl9LHU9XCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIixsPTRlNCxmPWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKCl7XCJzdHJpbmdcIj09dHlwZW9mIHQ/bigpLnJldm9rZU9iamVjdFVSTCh0KTp0LnJlbW92ZSgpfTtzZXRUaW1lb3V0KGUsbCl9LHA9ZnVuY3Rpb24odCxlLG4pe2U9W10uY29uY2F0KGUpO2Zvcih2YXIgcj1lLmxlbmd0aDtyLS07KXt2YXIgaT10W1wib25cIitlW3JdXTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBpKXRyeXtpLmNhbGwodCxufHx0KX1jYXRjaChvKXtjKG8pfX19LGg9ZnVuY3Rpb24odCl7cmV0dXJuL15cXHMqKD86dGV4dFxcL1xcUyp8YXBwbGljYXRpb25cXC94bWx8XFxTKlxcL1xcUypcXCt4bWwpXFxzKjsuKmNoYXJzZXRcXHMqPVxccyp1dGYtOC9pLnRlc3QodC50eXBlKT9uZXcgQmxvYihbU3RyaW5nLmZyb21DaGFyQ29kZSg2NTI3OSksdF0se3R5cGU6dC50eXBlfSk6dH0sZD1mdW5jdGlvbihlLGMsbCl7bHx8KGU9aChlKSk7dmFyIGQsXz10aGlzLHY9ZS50eXBlLHk9dj09PXUsbT1mdW5jdGlvbigpe3AoXyxcIndyaXRlc3RhcnQgcHJvZ3Jlc3Mgd3JpdGUgd3JpdGVlbmRcIi5zcGxpdChcIiBcIikpfSxnPWZ1bmN0aW9uKCl7aWYoKGF8fHkmJnMpJiZ0LkZpbGVSZWFkZXIpe3ZhciByPW5ldyBGaWxlUmVhZGVyO3JldHVybiByLm9ubG9hZGVuZD1mdW5jdGlvbigpe3ZhciBlPWE/ci5yZXN1bHQ6ci5yZXN1bHQucmVwbGFjZSgvXmRhdGE6W147XSo7LyxcImRhdGE6YXR0YWNobWVudC9maWxlO1wiKSxuPXQub3BlbihlLFwiX2JsYW5rXCIpO258fCh0LmxvY2F0aW9uLmhyZWY9ZSksZT12b2lkIDAsXy5yZWFkeVN0YXRlPV8uRE9ORSxtKCl9LHIucmVhZEFzRGF0YVVSTChlKSx2b2lkKF8ucmVhZHlTdGF0ZT1fLklOSVQpfWlmKGR8fChkPW4oKS5jcmVhdGVPYmplY3RVUkwoZSkpLHkpdC5sb2NhdGlvbi5ocmVmPWQ7ZWxzZXt2YXIgaT10Lm9wZW4oZCxcIl9ibGFua1wiKTtpfHwodC5sb2NhdGlvbi5ocmVmPWQpfV8ucmVhZHlTdGF0ZT1fLkRPTkUsbSgpLGYoZCl9O3JldHVybiBfLnJlYWR5U3RhdGU9Xy5JTklULGk/KGQ9bigpLmNyZWF0ZU9iamVjdFVSTChlKSx2b2lkIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLmhyZWY9ZCxyLmRvd25sb2FkPWMsbyhyKSxtKCksZihkKSxfLnJlYWR5U3RhdGU9Xy5ET05FfSkpOnZvaWQgZygpfSxfPWQucHJvdG90eXBlLHY9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuZXcgZCh0LGV8fHQubmFtZXx8XCJkb3dubG9hZFwiLG4pfTtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiZuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYj9mdW5jdGlvbih0LGUsbil7cmV0dXJuIGU9ZXx8dC5uYW1lfHxcImRvd25sb2FkXCIsbnx8KHQ9aCh0KSksbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IodCxlKX06KF8uYWJvcnQ9ZnVuY3Rpb24oKXt9LF8ucmVhZHlTdGF0ZT1fLklOSVQ9MCxfLldSSVRJTkc9MSxfLkRPTkU9MixfLmVycm9yPV8ub253cml0ZXN0YXJ0PV8ub25wcm9ncmVzcz1fLm9ud3JpdGU9Xy5vbmFib3J0PV8ub25lcnJvcj1fLm9ud3JpdGVlbmQ9bnVsbCx2KX19KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmfHxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3d8fHRoaXMuY29udGVudCk7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJnQuZXhwb3J0cz90LmV4cG9ydHMuc2F2ZUFzPWk6bnVsbCE9PW4oNTEpJiZudWxsIT09big1MikmJihyPWZ1bmN0aW9uKCl7cmV0dXJuIGl9LmNhbGwoZSxuLGUsdCksISh2b2lkIDAhPT1yJiYodC5leHBvcnRzPXIpKSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiZGVmaW5lIGNhbm5vdCBiZSB1c2VkIGluZGlyZWN0XCIpfX0sZnVuY3Rpb24odCxlKXsoZnVuY3Rpb24oZSl7dC5leHBvcnRzPWV9KS5jYWxsKGUse30pfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17bmFtZTpcImVwdWItcHJlc3MtanNcIix2ZXJzaW9uOlwiMC41LjFcIixkZXNjcmlwdGlvbjpcIkphdmFzY3JpcHQgY2xpZW50IGZvciBidWlsZGluZyBib29rcyB3aXRoIEVwdWJQcmVzcy5cIixob21lcGFnZTpcImh0dHBzOi8vZ2l0aHViLmNvbS9oYXJvbGR0cmVlbi9lcHViLXByZXNzLWNsaWVudHMjcmVhZG1lXCIsYmFzZVVybDpcImh0dHBzOi8vZXB1Yi5wcmVzc1wiLG1haW46XCJidWlsZC9pbmRleC5qc1wiLGRpcmVjdG9yaWVzOnt0ZXN0czpcInRlc3RcIn0sc2NyaXB0czp7dGVzdDpcImV4cG9ydCBOT0RFX0VOVj10ZXN0ICYmIG9wZW4gaHR0cDovL2xvY2FsaG9zdDo1MDAxL3Rlc3RzICYmIHdlYnBhY2stZGV2LXNlcnZlclwiLHN0YXJ0OlwiZXhwb3J0IE5PREVfRU5WPWRldmVsb3BtZW50ICYmIHdlYnBhY2sgLS13YXRjaCAtLXByb2dyZXNzIC0tY29sb3JcIixidWlsZDpcImV4cG9ydCBOT0RFX0VOVj1kZXZlbG9wbWVudCAmJiB3ZWJwYWNrXCIsXCJidWlsZC1wcm9kXCI6XCJleHBvcnQgTk9ERV9FTlY9cHJvZHVjdGlvbiAmJiB3ZWJwYWNrIC0tb3B0aW1pemUtbWluaW1pemUgLS1vcHRpbWl6ZS1kZWR1cGVcIixwcmV2ZXJzaW9uOlwibnBtIHJ1bi1zY3JpcHQgYnVpbGQtcHJvZFwiLHByZXB1Ymxpc2g6XCJucG0gcnVuIGJ1aWxkLXByb2RcIn0scmVwb3NpdG9yeTp7dHlwZTpcImdpdFwiLHVybDpcImdpdCtodHRwczovL2dpdGh1Yi5jb20vaGFyb2xkdHJlZW4vZXB1Yi1wcmVzcy1jbGllbnRzLmdpdFwifSxrZXl3b3JkczpbXCJlcHViXCIsXCJwdWJsaXNoaW5nXCIsXCJwcm9kdWN0aXZpdHlcIixcImNsaWVudFwiLFwiZXB1YnByZXNzXCIsXCJlYm9va3NcIixcImNvbnRlbnRcIixcImV4dHJhY3Rpb25cIl0sYXV0aG9yOlwiRXB1YlByZXNzXCIsbGljZW5zZTpcIklTQ1wiLGJ1Z3M6e3VybDpcImh0dHBzOi8vZ2l0aHViLmNvbS9oYXJvbGR0cmVlbi9lcHViLXByZXNzLWNsaWVudHMvaXNzdWVzXCJ9LGRldkRlcGVuZGVuY2llczp7XCJiYWJlbC1jb3JlXCI6XCJeNi4xNy4wXCIsXCJiYWJlbC1sb2FkZXJcIjpcIl42LjIuNFwiLFwiYmFiZWwtcGx1Z2luLXRyYW5zZm9ybS1ydW50aW1lXCI6XCJeNi45LjBcIixcImJhYmVsLXByZXNldC1lczIwMTVcIjpcIl42LjkuMFwiLGNoYWk6XCJeMy41LjBcIixcImZldGNoLW1vY2tcIjpcIl41LjAuM1wiLG1vY2hhOlwiXjIuNS4zXCIsXCJtb2NoYS1sb2FkZXJcIjpcIl4xLjAuMFwiLHNpbm9uOlwiZ2l0K2h0dHBzOi8vZ2l0aHViLmNvbS9zaW5vbmpzL3Npbm9uLmdpdFwiLFwic2lub24tYXMtcHJvbWlzZWRcIjpcIl40LjAuMlwiLHdlYnBhY2s6XCJeMS4xMy4xXCJ9LGRlcGVuZGVuY2llczp7Ymx1ZWJpcmQ6XCJeMy40LjZcIixcImZpbGUtc2F2ZXJcIjpcIl4xLjMuM1wiLFwiaXNvbW9ycGhpYy1mZXRjaFwiOlwiXjIuMi4xXCIsXCJqc29uLWxvYWRlclwiOlwiXjAuNS40XCJ9fX0sZnVuY3Rpb24odCxuKXt0LmV4cG9ydHM9ZX1dKX0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2VwdWItcHJlc3MtanMvYnVpbGQvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA0MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCIvKmVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzKi9cbi8qIVxuICogalF1ZXJ5IEphdmFTY3JpcHQgTGlicmFyeSB2My4xLjBcbiAqIGh0dHBzOi8vanF1ZXJ5LmNvbS9cbiAqXG4gKiBJbmNsdWRlcyBTaXp6bGUuanNcbiAqIGh0dHBzOi8vc2l6emxlanMuY29tL1xuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIGh0dHBzOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogRGF0ZTogMjAxNi0wNy0wN1QyMTo0NFpcbiAqL1xuKCBmdW5jdGlvbiggZ2xvYmFsLCBmYWN0b3J5ICkge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGlmICggdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHQvLyBGb3IgQ29tbW9uSlMgYW5kIENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHdoZXJlIGEgcHJvcGVyIGB3aW5kb3dgXG5cdFx0Ly8gaXMgcHJlc2VudCwgZXhlY3V0ZSB0aGUgZmFjdG9yeSBhbmQgZ2V0IGpRdWVyeS5cblx0XHQvLyBGb3IgZW52aXJvbm1lbnRzIHRoYXQgZG8gbm90IGhhdmUgYSBgd2luZG93YCB3aXRoIGEgYGRvY3VtZW50YFxuXHRcdC8vIChzdWNoIGFzIE5vZGUuanMpLCBleHBvc2UgYSBmYWN0b3J5IGFzIG1vZHVsZS5leHBvcnRzLlxuXHRcdC8vIFRoaXMgYWNjZW50dWF0ZXMgdGhlIG5lZWQgZm9yIHRoZSBjcmVhdGlvbiBvZiBhIHJlYWwgYHdpbmRvd2AuXG5cdFx0Ly8gZS5nLiB2YXIgalF1ZXJ5ID0gcmVxdWlyZShcImpxdWVyeVwiKSh3aW5kb3cpO1xuXHRcdC8vIFNlZSB0aWNrZXQgIzE0NTQ5IGZvciBtb3JlIGluZm8uXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBnbG9iYWwuZG9jdW1lbnQgP1xuXHRcdFx0ZmFjdG9yeSggZ2xvYmFsLCB0cnVlICkgOlxuXHRcdFx0ZnVuY3Rpb24oIHcgKSB7XG5cdFx0XHRcdGlmICggIXcuZG9jdW1lbnQgKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCBcImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnRcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBmYWN0b3J5KCB3ICk7XG5cdFx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdGZhY3RvcnkoIGdsb2JhbCApO1xuXHR9XG5cbi8vIFBhc3MgdGhpcyBpZiB3aW5kb3cgaXMgbm90IGRlZmluZWQgeWV0XG59ICkoIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbiggd2luZG93LCBub0dsb2JhbCApIHtcblxuLy8gRWRnZSA8PSAxMiAtIDEzKywgRmlyZWZveCA8PTE4IC0gNDUrLCBJRSAxMCAtIDExLCBTYWZhcmkgNS4xIC0gOSssIGlPUyA2IC0gOS4xXG4vLyB0aHJvdyBleGNlcHRpb25zIHdoZW4gbm9uLXN0cmljdCBjb2RlIChlLmcuLCBBU1AuTkVUIDQuNSkgYWNjZXNzZXMgc3RyaWN0IG1vZGVcbi8vIGFyZ3VtZW50cy5jYWxsZWUuY2FsbGVyICh0cmFjLTEzMzM1KS4gQnV0IGFzIG9mIGpRdWVyeSAzLjAgKDIwMTYpLCBzdHJpY3QgbW9kZSBzaG91bGQgYmUgY29tbW9uXG4vLyBlbm91Z2ggdGhhdCBhbGwgc3VjaCBhdHRlbXB0cyBhcmUgZ3VhcmRlZCBpbiBhIHRyeSBibG9jay5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgYXJyID0gW107XG5cbnZhciBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDtcblxudmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuXG52YXIgc2xpY2UgPSBhcnIuc2xpY2U7XG5cbnZhciBjb25jYXQgPSBhcnIuY29uY2F0O1xuXG52YXIgcHVzaCA9IGFyci5wdXNoO1xuXG52YXIgaW5kZXhPZiA9IGFyci5pbmRleE9mO1xuXG52YXIgY2xhc3MydHlwZSA9IHt9O1xuXG52YXIgdG9TdHJpbmcgPSBjbGFzczJ0eXBlLnRvU3RyaW5nO1xuXG52YXIgaGFzT3duID0gY2xhc3MydHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxudmFyIGZuVG9TdHJpbmcgPSBoYXNPd24udG9TdHJpbmc7XG5cbnZhciBPYmplY3RGdW5jdGlvblN0cmluZyA9IGZuVG9TdHJpbmcuY2FsbCggT2JqZWN0ICk7XG5cbnZhciBzdXBwb3J0ID0ge307XG5cblxuXG5cdGZ1bmN0aW9uIERPTUV2YWwoIGNvZGUsIGRvYyApIHtcblx0XHRkb2MgPSBkb2MgfHwgZG9jdW1lbnQ7XG5cblx0XHR2YXIgc2NyaXB0ID0gZG9jLmNyZWF0ZUVsZW1lbnQoIFwic2NyaXB0XCIgKTtcblxuXHRcdHNjcmlwdC50ZXh0ID0gY29kZTtcblx0XHRkb2MuaGVhZC5hcHBlbmRDaGlsZCggc2NyaXB0ICkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggc2NyaXB0ICk7XG5cdH1cbi8qIGdsb2JhbCBTeW1ib2wgKi9cbi8vIERlZmluaW5nIHRoaXMgZ2xvYmFsIGluIC5lc2xpbnRyYyB3b3VsZCBjcmVhdGUgYSBkYW5nZXIgb2YgdXNpbmcgdGhlIGdsb2JhbFxuLy8gdW5ndWFyZGVkIGluIGFub3RoZXIgcGxhY2UsIGl0IHNlZW1zIHNhZmVyIHRvIGRlZmluZSBnbG9iYWwgb25seSBmb3IgdGhpcyBtb2R1bGVcblxuXG5cbnZhclxuXHR2ZXJzaW9uID0gXCIzLjEuMFwiLFxuXG5cdC8vIERlZmluZSBhIGxvY2FsIGNvcHkgb2YgalF1ZXJ5XG5cdGpRdWVyeSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcblxuXHRcdC8vIFRoZSBqUXVlcnkgb2JqZWN0IGlzIGFjdHVhbGx5IGp1c3QgdGhlIGluaXQgY29uc3RydWN0b3IgJ2VuaGFuY2VkJ1xuXHRcdC8vIE5lZWQgaW5pdCBpZiBqUXVlcnkgaXMgY2FsbGVkIChqdXN0IGFsbG93IGVycm9yIHRvIGJlIHRocm93biBpZiBub3QgaW5jbHVkZWQpXG5cdFx0cmV0dXJuIG5ldyBqUXVlcnkuZm4uaW5pdCggc2VsZWN0b3IsIGNvbnRleHQgKTtcblx0fSxcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHlcblx0Ly8gTWFrZSBzdXJlIHdlIHRyaW0gQk9NIGFuZCBOQlNQXG5cdHJ0cmltID0gL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLFxuXG5cdC8vIE1hdGNoZXMgZGFzaGVkIHN0cmluZyBmb3IgY2FtZWxpemluZ1xuXHRybXNQcmVmaXggPSAvXi1tcy0vLFxuXHRyZGFzaEFscGhhID0gLy0oW2Etel0pL2csXG5cblx0Ly8gVXNlZCBieSBqUXVlcnkuY2FtZWxDYXNlIGFzIGNhbGxiYWNrIHRvIHJlcGxhY2UoKVxuXHRmY2FtZWxDYXNlID0gZnVuY3Rpb24oIGFsbCwgbGV0dGVyICkge1xuXHRcdHJldHVybiBsZXR0ZXIudG9VcHBlckNhc2UoKTtcblx0fTtcblxualF1ZXJ5LmZuID0galF1ZXJ5LnByb3RvdHlwZSA9IHtcblxuXHQvLyBUaGUgY3VycmVudCB2ZXJzaW9uIG9mIGpRdWVyeSBiZWluZyB1c2VkXG5cdGpxdWVyeTogdmVyc2lvbixcblxuXHRjb25zdHJ1Y3RvcjogalF1ZXJ5LFxuXG5cdC8vIFRoZSBkZWZhdWx0IGxlbmd0aCBvZiBhIGpRdWVyeSBvYmplY3QgaXMgMFxuXHRsZW5ndGg6IDAsXG5cblx0dG9BcnJheTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNsaWNlLmNhbGwoIHRoaXMgKTtcblx0fSxcblxuXHQvLyBHZXQgdGhlIE50aCBlbGVtZW50IGluIHRoZSBtYXRjaGVkIGVsZW1lbnQgc2V0IE9SXG5cdC8vIEdldCB0aGUgd2hvbGUgbWF0Y2hlZCBlbGVtZW50IHNldCBhcyBhIGNsZWFuIGFycmF5XG5cdGdldDogZnVuY3Rpb24oIG51bSApIHtcblx0XHRyZXR1cm4gbnVtICE9IG51bGwgP1xuXG5cdFx0XHQvLyBSZXR1cm4ganVzdCB0aGUgb25lIGVsZW1lbnQgZnJvbSB0aGUgc2V0XG5cdFx0XHQoIG51bSA8IDAgPyB0aGlzWyBudW0gKyB0aGlzLmxlbmd0aCBdIDogdGhpc1sgbnVtIF0gKSA6XG5cblx0XHRcdC8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIGluIGEgY2xlYW4gYXJyYXlcblx0XHRcdHNsaWNlLmNhbGwoIHRoaXMgKTtcblx0fSxcblxuXHQvLyBUYWtlIGFuIGFycmF5IG9mIGVsZW1lbnRzIGFuZCBwdXNoIGl0IG9udG8gdGhlIHN0YWNrXG5cdC8vIChyZXR1cm5pbmcgdGhlIG5ldyBtYXRjaGVkIGVsZW1lbnQgc2V0KVxuXHRwdXNoU3RhY2s6IGZ1bmN0aW9uKCBlbGVtcyApIHtcblxuXHRcdC8vIEJ1aWxkIGEgbmV3IGpRdWVyeSBtYXRjaGVkIGVsZW1lbnQgc2V0XG5cdFx0dmFyIHJldCA9IGpRdWVyeS5tZXJnZSggdGhpcy5jb25zdHJ1Y3RvcigpLCBlbGVtcyApO1xuXG5cdFx0Ly8gQWRkIHRoZSBvbGQgb2JqZWN0IG9udG8gdGhlIHN0YWNrIChhcyBhIHJlZmVyZW5jZSlcblx0XHRyZXQucHJldk9iamVjdCA9IHRoaXM7XG5cblx0XHQvLyBSZXR1cm4gdGhlIG5ld2x5LWZvcm1lZCBlbGVtZW50IHNldFxuXHRcdHJldHVybiByZXQ7XG5cdH0sXG5cblx0Ly8gRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBldmVyeSBlbGVtZW50IGluIHRoZSBtYXRjaGVkIHNldC5cblx0ZWFjaDogZnVuY3Rpb24oIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiBqUXVlcnkuZWFjaCggdGhpcywgY2FsbGJhY2sgKTtcblx0fSxcblxuXHRtYXA6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeS5tYXAoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBpICkge1xuXHRcdFx0cmV0dXJuIGNhbGxiYWNrLmNhbGwoIGVsZW0sIGksIGVsZW0gKTtcblx0XHR9ICkgKTtcblx0fSxcblxuXHRzbGljZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBzbGljZS5hcHBseSggdGhpcywgYXJndW1lbnRzICkgKTtcblx0fSxcblxuXHRmaXJzdDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZXEoIDAgKTtcblx0fSxcblxuXHRsYXN0OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5lcSggLTEgKTtcblx0fSxcblxuXHRlcTogZnVuY3Rpb24oIGkgKSB7XG5cdFx0dmFyIGxlbiA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0aiA9ICtpICsgKCBpIDwgMCA/IGxlbiA6IDAgKTtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGogPj0gMCAmJiBqIDwgbGVuID8gWyB0aGlzWyBqIF0gXSA6IFtdICk7XG5cdH0sXG5cblx0ZW5kOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5wcmV2T2JqZWN0IHx8IHRoaXMuY29uc3RydWN0b3IoKTtcblx0fSxcblxuXHQvLyBGb3IgaW50ZXJuYWwgdXNlIG9ubHkuXG5cdC8vIEJlaGF2ZXMgbGlrZSBhbiBBcnJheSdzIG1ldGhvZCwgbm90IGxpa2UgYSBqUXVlcnkgbWV0aG9kLlxuXHRwdXNoOiBwdXNoLFxuXHRzb3J0OiBhcnIuc29ydCxcblx0c3BsaWNlOiBhcnIuc3BsaWNlXG59O1xuXG5qUXVlcnkuZXh0ZW5kID0galF1ZXJ5LmZuLmV4dGVuZCA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgb3B0aW9ucywgbmFtZSwgc3JjLCBjb3B5LCBjb3B5SXNBcnJheSwgY2xvbmUsXG5cdFx0dGFyZ2V0ID0gYXJndW1lbnRzWyAwIF0gfHwge30sXG5cdFx0aSA9IDEsXG5cdFx0bGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcblx0XHRkZWVwID0gZmFsc2U7XG5cblx0Ly8gSGFuZGxlIGEgZGVlcCBjb3B5IHNpdHVhdGlvblxuXHRpZiAoIHR5cGVvZiB0YXJnZXQgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdGRlZXAgPSB0YXJnZXQ7XG5cblx0XHQvLyBTa2lwIHRoZSBib29sZWFuIGFuZCB0aGUgdGFyZ2V0XG5cdFx0dGFyZ2V0ID0gYXJndW1lbnRzWyBpIF0gfHwge307XG5cdFx0aSsrO1xuXHR9XG5cblx0Ly8gSGFuZGxlIGNhc2Ugd2hlbiB0YXJnZXQgaXMgYSBzdHJpbmcgb3Igc29tZXRoaW5nIChwb3NzaWJsZSBpbiBkZWVwIGNvcHkpXG5cdGlmICggdHlwZW9mIHRhcmdldCAhPT0gXCJvYmplY3RcIiAmJiAhalF1ZXJ5LmlzRnVuY3Rpb24oIHRhcmdldCApICkge1xuXHRcdHRhcmdldCA9IHt9O1xuXHR9XG5cblx0Ly8gRXh0ZW5kIGpRdWVyeSBpdHNlbGYgaWYgb25seSBvbmUgYXJndW1lbnQgaXMgcGFzc2VkXG5cdGlmICggaSA9PT0gbGVuZ3RoICkge1xuXHRcdHRhcmdldCA9IHRoaXM7XG5cdFx0aS0tO1xuXHR9XG5cblx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cblx0XHQvLyBPbmx5IGRlYWwgd2l0aCBub24tbnVsbC91bmRlZmluZWQgdmFsdWVzXG5cdFx0aWYgKCAoIG9wdGlvbnMgPSBhcmd1bWVudHNbIGkgXSApICE9IG51bGwgKSB7XG5cblx0XHRcdC8vIEV4dGVuZCB0aGUgYmFzZSBvYmplY3Rcblx0XHRcdGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcblx0XHRcdFx0c3JjID0gdGFyZ2V0WyBuYW1lIF07XG5cdFx0XHRcdGNvcHkgPSBvcHRpb25zWyBuYW1lIF07XG5cblx0XHRcdFx0Ly8gUHJldmVudCBuZXZlci1lbmRpbmcgbG9vcFxuXHRcdFx0XHRpZiAoIHRhcmdldCA9PT0gY29weSApIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFJlY3Vyc2UgaWYgd2UncmUgbWVyZ2luZyBwbGFpbiBvYmplY3RzIG9yIGFycmF5c1xuXHRcdFx0XHRpZiAoIGRlZXAgJiYgY29weSAmJiAoIGpRdWVyeS5pc1BsYWluT2JqZWN0KCBjb3B5ICkgfHxcblx0XHRcdFx0XHQoIGNvcHlJc0FycmF5ID0galF1ZXJ5LmlzQXJyYXkoIGNvcHkgKSApICkgKSB7XG5cblx0XHRcdFx0XHRpZiAoIGNvcHlJc0FycmF5ICkge1xuXHRcdFx0XHRcdFx0Y29weUlzQXJyYXkgPSBmYWxzZTtcblx0XHRcdFx0XHRcdGNsb25lID0gc3JjICYmIGpRdWVyeS5pc0FycmF5KCBzcmMgKSA/IHNyYyA6IFtdO1xuXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNsb25lID0gc3JjICYmIGpRdWVyeS5pc1BsYWluT2JqZWN0KCBzcmMgKSA/IHNyYyA6IHt9O1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIE5ldmVyIG1vdmUgb3JpZ2luYWwgb2JqZWN0cywgY2xvbmUgdGhlbVxuXHRcdFx0XHRcdHRhcmdldFsgbmFtZSBdID0galF1ZXJ5LmV4dGVuZCggZGVlcCwgY2xvbmUsIGNvcHkgKTtcblxuXHRcdFx0XHQvLyBEb24ndCBicmluZyBpbiB1bmRlZmluZWQgdmFsdWVzXG5cdFx0XHRcdH0gZWxzZSBpZiAoIGNvcHkgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHR0YXJnZXRbIG5hbWUgXSA9IGNvcHk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBSZXR1cm4gdGhlIG1vZGlmaWVkIG9iamVjdFxuXHRyZXR1cm4gdGFyZ2V0O1xufTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdC8vIFVuaXF1ZSBmb3IgZWFjaCBjb3B5IG9mIGpRdWVyeSBvbiB0aGUgcGFnZVxuXHRleHBhbmRvOiBcImpRdWVyeVwiICsgKCB2ZXJzaW9uICsgTWF0aC5yYW5kb20oKSApLnJlcGxhY2UoIC9cXEQvZywgXCJcIiApLFxuXG5cdC8vIEFzc3VtZSBqUXVlcnkgaXMgcmVhZHkgd2l0aG91dCB0aGUgcmVhZHkgbW9kdWxlXG5cdGlzUmVhZHk6IHRydWUsXG5cblx0ZXJyb3I6IGZ1bmN0aW9uKCBtc2cgKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCBtc2cgKTtcblx0fSxcblxuXHRub29wOiBmdW5jdGlvbigpIHt9LFxuXG5cdGlzRnVuY3Rpb246IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS50eXBlKCBvYmogKSA9PT0gXCJmdW5jdGlvblwiO1xuXHR9LFxuXG5cdGlzQXJyYXk6IEFycmF5LmlzQXJyYXksXG5cblx0aXNXaW5kb3c6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0cmV0dXJuIG9iaiAhPSBudWxsICYmIG9iaiA9PT0gb2JqLndpbmRvdztcblx0fSxcblxuXHRpc051bWVyaWM6IGZ1bmN0aW9uKCBvYmogKSB7XG5cblx0XHQvLyBBcyBvZiBqUXVlcnkgMy4wLCBpc051bWVyaWMgaXMgbGltaXRlZCB0b1xuXHRcdC8vIHN0cmluZ3MgYW5kIG51bWJlcnMgKHByaW1pdGl2ZXMgb3Igb2JqZWN0cylcblx0XHQvLyB0aGF0IGNhbiBiZSBjb2VyY2VkIHRvIGZpbml0ZSBudW1iZXJzIChnaC0yNjYyKVxuXHRcdHZhciB0eXBlID0galF1ZXJ5LnR5cGUoIG9iaiApO1xuXHRcdHJldHVybiAoIHR5cGUgPT09IFwibnVtYmVyXCIgfHwgdHlwZSA9PT0gXCJzdHJpbmdcIiApICYmXG5cblx0XHRcdC8vIHBhcnNlRmxvYXQgTmFOcyBudW1lcmljLWNhc3QgZmFsc2UgcG9zaXRpdmVzIChcIlwiKVxuXHRcdFx0Ly8gLi4uYnV0IG1pc2ludGVycHJldHMgbGVhZGluZy1udW1iZXIgc3RyaW5ncywgcGFydGljdWxhcmx5IGhleCBsaXRlcmFscyAoXCIweC4uLlwiKVxuXHRcdFx0Ly8gc3VidHJhY3Rpb24gZm9yY2VzIGluZmluaXRpZXMgdG8gTmFOXG5cdFx0XHQhaXNOYU4oIG9iaiAtIHBhcnNlRmxvYXQoIG9iaiApICk7XG5cdH0sXG5cblx0aXNQbGFpbk9iamVjdDogZnVuY3Rpb24oIG9iaiApIHtcblx0XHR2YXIgcHJvdG8sIEN0b3I7XG5cblx0XHQvLyBEZXRlY3Qgb2J2aW91cyBuZWdhdGl2ZXNcblx0XHQvLyBVc2UgdG9TdHJpbmcgaW5zdGVhZCBvZiBqUXVlcnkudHlwZSB0byBjYXRjaCBob3N0IG9iamVjdHNcblx0XHRpZiAoICFvYmogfHwgdG9TdHJpbmcuY2FsbCggb2JqICkgIT09IFwiW29iamVjdCBPYmplY3RdXCIgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cHJvdG8gPSBnZXRQcm90byggb2JqICk7XG5cblx0XHQvLyBPYmplY3RzIHdpdGggbm8gcHJvdG90eXBlIChlLmcuLCBgT2JqZWN0LmNyZWF0ZSggbnVsbCApYCkgYXJlIHBsYWluXG5cdFx0aWYgKCAhcHJvdG8gKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBPYmplY3RzIHdpdGggcHJvdG90eXBlIGFyZSBwbGFpbiBpZmYgdGhleSB3ZXJlIGNvbnN0cnVjdGVkIGJ5IGEgZ2xvYmFsIE9iamVjdCBmdW5jdGlvblxuXHRcdEN0b3IgPSBoYXNPd24uY2FsbCggcHJvdG8sIFwiY29uc3RydWN0b3JcIiApICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuXHRcdHJldHVybiB0eXBlb2YgQ3RvciA9PT0gXCJmdW5jdGlvblwiICYmIGZuVG9TdHJpbmcuY2FsbCggQ3RvciApID09PSBPYmplY3RGdW5jdGlvblN0cmluZztcblx0fSxcblxuXHRpc0VtcHR5T2JqZWN0OiBmdW5jdGlvbiggb2JqICkge1xuXG5cdFx0LyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cblx0XHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2VzbGludC9lc2xpbnQvaXNzdWVzLzYxMjVcblx0XHR2YXIgbmFtZTtcblxuXHRcdGZvciAoIG5hbWUgaW4gb2JqICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHR0eXBlOiBmdW5jdGlvbiggb2JqICkge1xuXHRcdGlmICggb2JqID09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gb2JqICsgXCJcIjtcblx0XHR9XG5cblx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9Mi4zIG9ubHkgKGZ1bmN0aW9uaXNoIFJlZ0V4cClcblx0XHRyZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCIgP1xuXHRcdFx0Y2xhc3MydHlwZVsgdG9TdHJpbmcuY2FsbCggb2JqICkgXSB8fCBcIm9iamVjdFwiIDpcblx0XHRcdHR5cGVvZiBvYmo7XG5cdH0sXG5cblx0Ly8gRXZhbHVhdGVzIGEgc2NyaXB0IGluIGEgZ2xvYmFsIGNvbnRleHRcblx0Z2xvYmFsRXZhbDogZnVuY3Rpb24oIGNvZGUgKSB7XG5cdFx0RE9NRXZhbCggY29kZSApO1xuXHR9LFxuXG5cdC8vIENvbnZlcnQgZGFzaGVkIHRvIGNhbWVsQ2FzZTsgdXNlZCBieSB0aGUgY3NzIGFuZCBkYXRhIG1vZHVsZXNcblx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEsIEVkZ2UgMTIgLSAxM1xuXHQvLyBNaWNyb3NvZnQgZm9yZ290IHRvIGh1bXAgdGhlaXIgdmVuZG9yIHByZWZpeCAoIzk1NzIpXG5cdGNhbWVsQ2FzZTogZnVuY3Rpb24oIHN0cmluZyApIHtcblx0XHRyZXR1cm4gc3RyaW5nLnJlcGxhY2UoIHJtc1ByZWZpeCwgXCJtcy1cIiApLnJlcGxhY2UoIHJkYXNoQWxwaGEsIGZjYW1lbENhc2UgKTtcblx0fSxcblxuXHRub2RlTmFtZTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cdFx0cmV0dXJuIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cdH0sXG5cblx0ZWFjaDogZnVuY3Rpb24oIG9iaiwgY2FsbGJhY2sgKSB7XG5cdFx0dmFyIGxlbmd0aCwgaSA9IDA7XG5cblx0XHRpZiAoIGlzQXJyYXlMaWtlKCBvYmogKSApIHtcblx0XHRcdGxlbmd0aCA9IG9iai5sZW5ndGg7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBjYWxsYmFjay5jYWxsKCBvYmpbIGkgXSwgaSwgb2JqWyBpIF0gKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yICggaSBpbiBvYmogKSB7XG5cdFx0XHRcdGlmICggY2FsbGJhY2suY2FsbCggb2JqWyBpIF0sIGksIG9ialsgaSBdICkgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9iajtcblx0fSxcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHlcblx0dHJpbTogZnVuY3Rpb24oIHRleHQgKSB7XG5cdFx0cmV0dXJuIHRleHQgPT0gbnVsbCA/XG5cdFx0XHRcIlwiIDpcblx0XHRcdCggdGV4dCArIFwiXCIgKS5yZXBsYWNlKCBydHJpbSwgXCJcIiApO1xuXHR9LFxuXG5cdC8vIHJlc3VsdHMgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHlcblx0bWFrZUFycmF5OiBmdW5jdGlvbiggYXJyLCByZXN1bHRzICkge1xuXHRcdHZhciByZXQgPSByZXN1bHRzIHx8IFtdO1xuXG5cdFx0aWYgKCBhcnIgIT0gbnVsbCApIHtcblx0XHRcdGlmICggaXNBcnJheUxpa2UoIE9iamVjdCggYXJyICkgKSApIHtcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCByZXQsXG5cdFx0XHRcdFx0dHlwZW9mIGFyciA9PT0gXCJzdHJpbmdcIiA/XG5cdFx0XHRcdFx0WyBhcnIgXSA6IGFyclxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cHVzaC5jYWxsKCByZXQsIGFyciApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiByZXQ7XG5cdH0sXG5cblx0aW5BcnJheTogZnVuY3Rpb24oIGVsZW0sIGFyciwgaSApIHtcblx0XHRyZXR1cm4gYXJyID09IG51bGwgPyAtMSA6IGluZGV4T2YuY2FsbCggYXJyLCBlbGVtLCBpICk7XG5cdH0sXG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0bWVyZ2U6IGZ1bmN0aW9uKCBmaXJzdCwgc2Vjb25kICkge1xuXHRcdHZhciBsZW4gPSArc2Vjb25kLmxlbmd0aCxcblx0XHRcdGogPSAwLFxuXHRcdFx0aSA9IGZpcnN0Lmxlbmd0aDtcblxuXHRcdGZvciAoIDsgaiA8IGxlbjsgaisrICkge1xuXHRcdFx0Zmlyc3RbIGkrKyBdID0gc2Vjb25kWyBqIF07XG5cdFx0fVxuXG5cdFx0Zmlyc3QubGVuZ3RoID0gaTtcblxuXHRcdHJldHVybiBmaXJzdDtcblx0fSxcblxuXHRncmVwOiBmdW5jdGlvbiggZWxlbXMsIGNhbGxiYWNrLCBpbnZlcnQgKSB7XG5cdFx0dmFyIGNhbGxiYWNrSW52ZXJzZSxcblx0XHRcdG1hdGNoZXMgPSBbXSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0bGVuZ3RoID0gZWxlbXMubGVuZ3RoLFxuXHRcdFx0Y2FsbGJhY2tFeHBlY3QgPSAhaW52ZXJ0O1xuXG5cdFx0Ly8gR28gdGhyb3VnaCB0aGUgYXJyYXksIG9ubHkgc2F2aW5nIHRoZSBpdGVtc1xuXHRcdC8vIHRoYXQgcGFzcyB0aGUgdmFsaWRhdG9yIGZ1bmN0aW9uXG5cdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRjYWxsYmFja0ludmVyc2UgPSAhY2FsbGJhY2soIGVsZW1zWyBpIF0sIGkgKTtcblx0XHRcdGlmICggY2FsbGJhY2tJbnZlcnNlICE9PSBjYWxsYmFja0V4cGVjdCApIHtcblx0XHRcdFx0bWF0Y2hlcy5wdXNoKCBlbGVtc1sgaSBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1hdGNoZXM7XG5cdH0sXG5cblx0Ly8gYXJnIGlzIGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5XG5cdG1hcDogZnVuY3Rpb24oIGVsZW1zLCBjYWxsYmFjaywgYXJnICkge1xuXHRcdHZhciBsZW5ndGgsIHZhbHVlLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRyZXQgPSBbXTtcblxuXHRcdC8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCB0cmFuc2xhdGluZyBlYWNoIG9mIHRoZSBpdGVtcyB0byB0aGVpciBuZXcgdmFsdWVzXG5cdFx0aWYgKCBpc0FycmF5TGlrZSggZWxlbXMgKSApIHtcblx0XHRcdGxlbmd0aCA9IGVsZW1zLmxlbmd0aDtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHR2YWx1ZSA9IGNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpLCBhcmcgKTtcblxuXHRcdFx0XHRpZiAoIHZhbHVlICE9IG51bGwgKSB7XG5cdFx0XHRcdFx0cmV0LnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdC8vIEdvIHRocm91Z2ggZXZlcnkga2V5IG9uIHRoZSBvYmplY3QsXG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAoIGkgaW4gZWxlbXMgKSB7XG5cdFx0XHRcdHZhbHVlID0gY2FsbGJhY2soIGVsZW1zWyBpIF0sIGksIGFyZyApO1xuXG5cdFx0XHRcdGlmICggdmFsdWUgIT0gbnVsbCApIHtcblx0XHRcdFx0XHRyZXQucHVzaCggdmFsdWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcblx0XHRyZXR1cm4gY29uY2F0LmFwcGx5KCBbXSwgcmV0ICk7XG5cdH0sXG5cblx0Ly8gQSBnbG9iYWwgR1VJRCBjb3VudGVyIGZvciBvYmplY3RzXG5cdGd1aWQ6IDEsXG5cblx0Ly8gQmluZCBhIGZ1bmN0aW9uIHRvIGEgY29udGV4dCwgb3B0aW9uYWxseSBwYXJ0aWFsbHkgYXBwbHlpbmcgYW55XG5cdC8vIGFyZ3VtZW50cy5cblx0cHJveHk6IGZ1bmN0aW9uKCBmbiwgY29udGV4dCApIHtcblx0XHR2YXIgdG1wLCBhcmdzLCBwcm94eTtcblxuXHRcdGlmICggdHlwZW9mIGNvbnRleHQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHR0bXAgPSBmblsgY29udGV4dCBdO1xuXHRcdFx0Y29udGV4dCA9IGZuO1xuXHRcdFx0Zm4gPSB0bXA7XG5cdFx0fVxuXG5cdFx0Ly8gUXVpY2sgY2hlY2sgdG8gZGV0ZXJtaW5lIGlmIHRhcmdldCBpcyBjYWxsYWJsZSwgaW4gdGhlIHNwZWNcblx0XHQvLyB0aGlzIHRocm93cyBhIFR5cGVFcnJvciwgYnV0IHdlIHdpbGwganVzdCByZXR1cm4gdW5kZWZpbmVkLlxuXHRcdGlmICggIWpRdWVyeS5pc0Z1bmN0aW9uKCBmbiApICkge1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHQvLyBTaW11bGF0ZWQgYmluZFxuXHRcdGFyZ3MgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMsIDIgKTtcblx0XHRwcm94eSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGZuLmFwcGx5KCBjb250ZXh0IHx8IHRoaXMsIGFyZ3MuY29uY2F0KCBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSApICk7XG5cdFx0fTtcblxuXHRcdC8vIFNldCB0aGUgZ3VpZCBvZiB1bmlxdWUgaGFuZGxlciB0byB0aGUgc2FtZSBvZiBvcmlnaW5hbCBoYW5kbGVyLCBzbyBpdCBjYW4gYmUgcmVtb3ZlZFxuXHRcdHByb3h5Lmd1aWQgPSBmbi5ndWlkID0gZm4uZ3VpZCB8fCBqUXVlcnkuZ3VpZCsrO1xuXG5cdFx0cmV0dXJuIHByb3h5O1xuXHR9LFxuXG5cdG5vdzogRGF0ZS5ub3csXG5cblx0Ly8galF1ZXJ5LnN1cHBvcnQgaXMgbm90IHVzZWQgaW4gQ29yZSBidXQgb3RoZXIgcHJvamVjdHMgYXR0YWNoIHRoZWlyXG5cdC8vIHByb3BlcnRpZXMgdG8gaXQgc28gaXQgbmVlZHMgdG8gZXhpc3QuXG5cdHN1cHBvcnQ6IHN1cHBvcnRcbn0gKTtcblxuaWYgKCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgKSB7XG5cdGpRdWVyeS5mblsgU3ltYm9sLml0ZXJhdG9yIF0gPSBhcnJbIFN5bWJvbC5pdGVyYXRvciBdO1xufVxuXG4vLyBQb3B1bGF0ZSB0aGUgY2xhc3MydHlwZSBtYXBcbmpRdWVyeS5lYWNoKCBcIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sXCIuc3BsaXQoIFwiIFwiICksXG5mdW5jdGlvbiggaSwgbmFtZSApIHtcblx0Y2xhc3MydHlwZVsgXCJbb2JqZWN0IFwiICsgbmFtZSArIFwiXVwiIF0gPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG59ICk7XG5cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKCBvYmogKSB7XG5cblx0Ly8gU3VwcG9ydDogcmVhbCBpT1MgOC4yIG9ubHkgKG5vdCByZXByb2R1Y2libGUgaW4gc2ltdWxhdG9yKVxuXHQvLyBgaW5gIGNoZWNrIHVzZWQgdG8gcHJldmVudCBKSVQgZXJyb3IgKGdoLTIxNDUpXG5cdC8vIGhhc093biBpc24ndCB1c2VkIGhlcmUgZHVlIHRvIGZhbHNlIG5lZ2F0aXZlc1xuXHQvLyByZWdhcmRpbmcgTm9kZWxpc3QgbGVuZ3RoIGluIElFXG5cdHZhciBsZW5ndGggPSAhIW9iaiAmJiBcImxlbmd0aFwiIGluIG9iaiAmJiBvYmoubGVuZ3RoLFxuXHRcdHR5cGUgPSBqUXVlcnkudHlwZSggb2JqICk7XG5cblx0aWYgKCB0eXBlID09PSBcImZ1bmN0aW9uXCIgfHwgalF1ZXJ5LmlzV2luZG93KCBvYmogKSApIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRyZXR1cm4gdHlwZSA9PT0gXCJhcnJheVwiIHx8IGxlbmd0aCA9PT0gMCB8fFxuXHRcdHR5cGVvZiBsZW5ndGggPT09IFwibnVtYmVyXCIgJiYgbGVuZ3RoID4gMCAmJiAoIGxlbmd0aCAtIDEgKSBpbiBvYmo7XG59XG52YXIgU2l6emxlID1cbi8qIVxuICogU2l6emxlIENTUyBTZWxlY3RvciBFbmdpbmUgdjIuMy4wXG4gKiBodHRwczovL3NpenpsZWpzLmNvbS9cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogRGF0ZTogMjAxNi0wMS0wNFxuICovXG4oZnVuY3Rpb24oIHdpbmRvdyApIHtcblxudmFyIGksXG5cdHN1cHBvcnQsXG5cdEV4cHIsXG5cdGdldFRleHQsXG5cdGlzWE1MLFxuXHR0b2tlbml6ZSxcblx0Y29tcGlsZSxcblx0c2VsZWN0LFxuXHRvdXRlcm1vc3RDb250ZXh0LFxuXHRzb3J0SW5wdXQsXG5cdGhhc0R1cGxpY2F0ZSxcblxuXHQvLyBMb2NhbCBkb2N1bWVudCB2YXJzXG5cdHNldERvY3VtZW50LFxuXHRkb2N1bWVudCxcblx0ZG9jRWxlbSxcblx0ZG9jdW1lbnRJc0hUTUwsXG5cdHJidWdneVFTQSxcblx0cmJ1Z2d5TWF0Y2hlcyxcblx0bWF0Y2hlcyxcblx0Y29udGFpbnMsXG5cblx0Ly8gSW5zdGFuY2Utc3BlY2lmaWMgZGF0YVxuXHRleHBhbmRvID0gXCJzaXp6bGVcIiArIDEgKiBuZXcgRGF0ZSgpLFxuXHRwcmVmZXJyZWREb2MgPSB3aW5kb3cuZG9jdW1lbnQsXG5cdGRpcnJ1bnMgPSAwLFxuXHRkb25lID0gMCxcblx0Y2xhc3NDYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG5cdHRva2VuQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLFxuXHRjb21waWxlckNhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0c29ydE9yZGVyID0gZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHR9XG5cdFx0cmV0dXJuIDA7XG5cdH0sXG5cblx0Ly8gSW5zdGFuY2UgbWV0aG9kc1xuXHRoYXNPd24gPSAoe30pLmhhc093blByb3BlcnR5LFxuXHRhcnIgPSBbXSxcblx0cG9wID0gYXJyLnBvcCxcblx0cHVzaF9uYXRpdmUgPSBhcnIucHVzaCxcblx0cHVzaCA9IGFyci5wdXNoLFxuXHRzbGljZSA9IGFyci5zbGljZSxcblx0Ly8gVXNlIGEgc3RyaXBwZWQtZG93biBpbmRleE9mIGFzIGl0J3MgZmFzdGVyIHRoYW4gbmF0aXZlXG5cdC8vIGh0dHBzOi8vanNwZXJmLmNvbS90aG9yLWluZGV4b2YtdnMtZm9yLzVcblx0aW5kZXhPZiA9IGZ1bmN0aW9uKCBsaXN0LCBlbGVtICkge1xuXHRcdHZhciBpID0gMCxcblx0XHRcdGxlbiA9IGxpc3QubGVuZ3RoO1xuXHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0aWYgKCBsaXN0W2ldID09PSBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gaTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIC0xO1xuXHR9LFxuXG5cdGJvb2xlYW5zID0gXCJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZFwiLFxuXG5cdC8vIFJlZ3VsYXIgZXhwcmVzc2lvbnNcblxuXHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLXNlbGVjdG9ycy8jd2hpdGVzcGFjZVxuXHR3aGl0ZXNwYWNlID0gXCJbXFxcXHgyMFxcXFx0XFxcXHJcXFxcblxcXFxmXVwiLFxuXG5cdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL0NTUzIxL3N5bmRhdGEuaHRtbCN2YWx1ZS1kZWYtaWRlbnRpZmllclxuXHRpZGVudGlmaWVyID0gXCIoPzpcXFxcXFxcXC58W1xcXFx3LV18W15cXDAtXFxcXHhhMF0pK1wiLFxuXG5cdC8vIEF0dHJpYnV0ZSBzZWxlY3RvcnM6IGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jYXR0cmlidXRlLXNlbGVjdG9yc1xuXHRhdHRyaWJ1dGVzID0gXCJcXFxcW1wiICsgd2hpdGVzcGFjZSArIFwiKihcIiArIGlkZW50aWZpZXIgKyBcIikoPzpcIiArIHdoaXRlc3BhY2UgK1xuXHRcdC8vIE9wZXJhdG9yIChjYXB0dXJlIDIpXG5cdFx0XCIqKFsqXiR8IX5dPz0pXCIgKyB3aGl0ZXNwYWNlICtcblx0XHQvLyBcIkF0dHJpYnV0ZSB2YWx1ZXMgbXVzdCBiZSBDU1MgaWRlbnRpZmllcnMgW2NhcHR1cmUgNV0gb3Igc3RyaW5ncyBbY2FwdHVyZSAzIG9yIGNhcHR1cmUgNF1cIlxuXHRcdFwiKig/OicoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcInwoXCIgKyBpZGVudGlmaWVyICsgXCIpKXwpXCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcIipcXFxcXVwiLFxuXG5cdHBzZXVkb3MgPSBcIjooXCIgKyBpZGVudGlmaWVyICsgXCIpKD86XFxcXCgoXCIgK1xuXHRcdC8vIFRvIHJlZHVjZSB0aGUgbnVtYmVyIG9mIHNlbGVjdG9ycyBuZWVkaW5nIHRva2VuaXplIGluIHRoZSBwcmVGaWx0ZXIsIHByZWZlciBhcmd1bWVudHM6XG5cdFx0Ly8gMS4gcXVvdGVkIChjYXB0dXJlIDM7IGNhcHR1cmUgNCBvciBjYXB0dXJlIDUpXG5cdFx0XCIoJygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwiKXxcIiArXG5cdFx0Ly8gMi4gc2ltcGxlIChjYXB0dXJlIDYpXG5cdFx0XCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFwoKVtcXFxcXV18XCIgKyBhdHRyaWJ1dGVzICsgXCIpKil8XCIgK1xuXHRcdC8vIDMuIGFueXRoaW5nIGVsc2UgKGNhcHR1cmUgMilcblx0XHRcIi4qXCIgK1xuXHRcdFwiKVxcXFwpfClcIixcblxuXHQvLyBMZWFkaW5nIGFuZCBub24tZXNjYXBlZCB0cmFpbGluZyB3aGl0ZXNwYWNlLCBjYXB0dXJpbmcgc29tZSBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXJzIHByZWNlZGluZyB0aGUgbGF0dGVyXG5cdHJ3aGl0ZXNwYWNlID0gbmV3IFJlZ0V4cCggd2hpdGVzcGFjZSArIFwiK1wiLCBcImdcIiApLFxuXHRydHJpbSA9IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiK3woKD86XnxbXlxcXFxcXFxcXSkoPzpcXFxcXFxcXC4pKilcIiArIHdoaXRlc3BhY2UgKyBcIiskXCIsIFwiZ1wiICksXG5cblx0cmNvbW1hID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqLFwiICsgd2hpdGVzcGFjZSArIFwiKlwiICksXG5cdHJjb21iaW5hdG9ycyA9IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKihbPit+XXxcIiArIHdoaXRlc3BhY2UgKyBcIilcIiArIHdoaXRlc3BhY2UgKyBcIipcIiApLFxuXG5cdHJhdHRyaWJ1dGVRdW90ZXMgPSBuZXcgUmVnRXhwKCBcIj1cIiArIHdoaXRlc3BhY2UgKyBcIiooW15cXFxcXSdcXFwiXSo/KVwiICsgd2hpdGVzcGFjZSArIFwiKlxcXFxdXCIsIFwiZ1wiICksXG5cblx0cnBzZXVkbyA9IG5ldyBSZWdFeHAoIHBzZXVkb3MgKSxcblx0cmlkZW50aWZpZXIgPSBuZXcgUmVnRXhwKCBcIl5cIiArIGlkZW50aWZpZXIgKyBcIiRcIiApLFxuXG5cdG1hdGNoRXhwciA9IHtcblx0XHRcIklEXCI6IG5ldyBSZWdFeHAoIFwiXiMoXCIgKyBpZGVudGlmaWVyICsgXCIpXCIgKSxcblx0XHRcIkNMQVNTXCI6IG5ldyBSZWdFeHAoIFwiXlxcXFwuKFwiICsgaWRlbnRpZmllciArIFwiKVwiICksXG5cdFx0XCJUQUdcIjogbmV3IFJlZ0V4cCggXCJeKFwiICsgaWRlbnRpZmllciArIFwifFsqXSlcIiApLFxuXHRcdFwiQVRUUlwiOiBuZXcgUmVnRXhwKCBcIl5cIiArIGF0dHJpYnV0ZXMgKSxcblx0XHRcIlBTRVVET1wiOiBuZXcgUmVnRXhwKCBcIl5cIiArIHBzZXVkb3MgKSxcblx0XHRcIkNISUxEXCI6IG5ldyBSZWdFeHAoIFwiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFxcXChcIiArIHdoaXRlc3BhY2UgK1xuXHRcdFx0XCIqKGV2ZW58b2RkfCgoWystXXwpKFxcXFxkKilufClcIiArIHdoaXRlc3BhY2UgKyBcIiooPzooWystXXwpXCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcdFwiKihcXFxcZCspfCkpXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXCl8KVwiLCBcImlcIiApLFxuXHRcdFwiYm9vbFwiOiBuZXcgUmVnRXhwKCBcIl4oPzpcIiArIGJvb2xlYW5zICsgXCIpJFwiLCBcImlcIiApLFxuXHRcdC8vIEZvciB1c2UgaW4gbGlicmFyaWVzIGltcGxlbWVudGluZyAuaXMoKVxuXHRcdC8vIFdlIHVzZSB0aGlzIGZvciBQT1MgbWF0Y2hpbmcgaW4gYHNlbGVjdGBcblx0XHRcIm5lZWRzQ29udGV4dFwiOiBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcXFwoXCIgK1xuXHRcdFx0d2hpdGVzcGFjZSArIFwiKigoPzotXFxcXGQpP1xcXFxkKilcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcKXwpKD89W14tXXwkKVwiLCBcImlcIiApXG5cdH0sXG5cblx0cmlucHV0cyA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksXG5cdHJoZWFkZXIgPSAvXmhcXGQkL2ksXG5cblx0cm5hdGl2ZSA9IC9eW157XStcXHtcXHMqXFxbbmF0aXZlIFxcdy8sXG5cblx0Ly8gRWFzaWx5LXBhcnNlYWJsZS9yZXRyaWV2YWJsZSBJRCBvciBUQUcgb3IgQ0xBU1Mgc2VsZWN0b3JzXG5cdHJxdWlja0V4cHIgPSAvXig/OiMoW1xcdy1dKyl8KFxcdyspfFxcLihbXFx3LV0rKSkkLyxcblxuXHRyc2libGluZyA9IC9bK35dLyxcblxuXHQvLyBDU1MgZXNjYXBlc1xuXHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyMS9zeW5kYXRhLmh0bWwjZXNjYXBlZC1jaGFyYWN0ZXJzXG5cdHJ1bmVzY2FwZSA9IG5ldyBSZWdFeHAoIFwiXFxcXFxcXFwoW1xcXFxkYS1mXXsxLDZ9XCIgKyB3aGl0ZXNwYWNlICsgXCI/fChcIiArIHdoaXRlc3BhY2UgKyBcIil8LilcIiwgXCJpZ1wiICksXG5cdGZ1bmVzY2FwZSA9IGZ1bmN0aW9uKCBfLCBlc2NhcGVkLCBlc2NhcGVkV2hpdGVzcGFjZSApIHtcblx0XHR2YXIgaGlnaCA9IFwiMHhcIiArIGVzY2FwZWQgLSAweDEwMDAwO1xuXHRcdC8vIE5hTiBtZWFucyBub24tY29kZXBvaW50XG5cdFx0Ly8gU3VwcG9ydDogRmlyZWZveDwyNFxuXHRcdC8vIFdvcmthcm91bmQgZXJyb25lb3VzIG51bWVyaWMgaW50ZXJwcmV0YXRpb24gb2YgK1wiMHhcIlxuXHRcdHJldHVybiBoaWdoICE9PSBoaWdoIHx8IGVzY2FwZWRXaGl0ZXNwYWNlID9cblx0XHRcdGVzY2FwZWQgOlxuXHRcdFx0aGlnaCA8IDAgP1xuXHRcdFx0XHQvLyBCTVAgY29kZXBvaW50XG5cdFx0XHRcdFN0cmluZy5mcm9tQ2hhckNvZGUoIGhpZ2ggKyAweDEwMDAwICkgOlxuXHRcdFx0XHQvLyBTdXBwbGVtZW50YWwgUGxhbmUgY29kZXBvaW50IChzdXJyb2dhdGUgcGFpcilcblx0XHRcdFx0U3RyaW5nLmZyb21DaGFyQ29kZSggaGlnaCA+PiAxMCB8IDB4RDgwMCwgaGlnaCAmIDB4M0ZGIHwgMHhEQzAwICk7XG5cdH0sXG5cblx0Ly8gQ1NTIHN0cmluZy9pZGVudGlmaWVyIHNlcmlhbGl6YXRpb25cblx0Ly8gaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzc29tLyNjb21tb24tc2VyaWFsaXppbmctaWRpb21zXG5cdHJjc3Nlc2NhcGUgPSAvKFtcXDAtXFx4MWZcXHg3Zl18Xi0/XFxkKXxeLSR8W15cXHg4MC1cXHVGRkZGXFx3LV0vZyxcblx0ZmNzc2VzY2FwZSA9IGZ1bmN0aW9uKCBjaCwgYXNDb2RlUG9pbnQgKSB7XG5cdFx0aWYgKCBhc0NvZGVQb2ludCApIHtcblxuXHRcdFx0Ly8gVSswMDAwIE5VTEwgYmVjb21lcyBVK0ZGRkQgUkVQTEFDRU1FTlQgQ0hBUkFDVEVSXG5cdFx0XHRpZiAoIGNoID09PSBcIlxcMFwiICkge1xuXHRcdFx0XHRyZXR1cm4gXCJcXHVGRkZEXCI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENvbnRyb2wgY2hhcmFjdGVycyBhbmQgKGRlcGVuZGVudCB1cG9uIHBvc2l0aW9uKSBudW1iZXJzIGdldCBlc2NhcGVkIGFzIGNvZGUgcG9pbnRzXG5cdFx0XHRyZXR1cm4gY2guc2xpY2UoIDAsIC0xICkgKyBcIlxcXFxcIiArIGNoLmNoYXJDb2RlQXQoIGNoLmxlbmd0aCAtIDEgKS50b1N0cmluZyggMTYgKSArIFwiIFwiO1xuXHRcdH1cblxuXHRcdC8vIE90aGVyIHBvdGVudGlhbGx5LXNwZWNpYWwgQVNDSUkgY2hhcmFjdGVycyBnZXQgYmFja3NsYXNoLWVzY2FwZWRcblx0XHRyZXR1cm4gXCJcXFxcXCIgKyBjaDtcblx0fSxcblxuXHQvLyBVc2VkIGZvciBpZnJhbWVzXG5cdC8vIFNlZSBzZXREb2N1bWVudCgpXG5cdC8vIFJlbW92aW5nIHRoZSBmdW5jdGlvbiB3cmFwcGVyIGNhdXNlcyBhIFwiUGVybWlzc2lvbiBEZW5pZWRcIlxuXHQvLyBlcnJvciBpbiBJRVxuXHR1bmxvYWRIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG5cdFx0c2V0RG9jdW1lbnQoKTtcblx0fSxcblxuXHRkaXNhYmxlZEFuY2VzdG9yID0gYWRkQ29tYmluYXRvcihcblx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtLmRpc2FibGVkID09PSB0cnVlO1xuXHRcdH0sXG5cdFx0eyBkaXI6IFwicGFyZW50Tm9kZVwiLCBuZXh0OiBcImxlZ2VuZFwiIH1cblx0KTtcblxuLy8gT3B0aW1pemUgZm9yIHB1c2guYXBwbHkoIF8sIE5vZGVMaXN0IClcbnRyeSB7XG5cdHB1c2guYXBwbHkoXG5cdFx0KGFyciA9IHNsaWNlLmNhbGwoIHByZWZlcnJlZERvYy5jaGlsZE5vZGVzICkpLFxuXHRcdHByZWZlcnJlZERvYy5jaGlsZE5vZGVzXG5cdCk7XG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQ8NC4wXG5cdC8vIERldGVjdCBzaWxlbnRseSBmYWlsaW5nIHB1c2guYXBwbHlcblx0YXJyWyBwcmVmZXJyZWREb2MuY2hpbGROb2Rlcy5sZW5ndGggXS5ub2RlVHlwZTtcbn0gY2F0Y2ggKCBlICkge1xuXHRwdXNoID0geyBhcHBseTogYXJyLmxlbmd0aCA/XG5cblx0XHQvLyBMZXZlcmFnZSBzbGljZSBpZiBwb3NzaWJsZVxuXHRcdGZ1bmN0aW9uKCB0YXJnZXQsIGVscyApIHtcblx0XHRcdHB1c2hfbmF0aXZlLmFwcGx5KCB0YXJnZXQsIHNsaWNlLmNhbGwoZWxzKSApO1xuXHRcdH0gOlxuXG5cdFx0Ly8gU3VwcG9ydDogSUU8OVxuXHRcdC8vIE90aGVyd2lzZSBhcHBlbmQgZGlyZWN0bHlcblx0XHRmdW5jdGlvbiggdGFyZ2V0LCBlbHMgKSB7XG5cdFx0XHR2YXIgaiA9IHRhcmdldC5sZW5ndGgsXG5cdFx0XHRcdGkgPSAwO1xuXHRcdFx0Ly8gQ2FuJ3QgdHJ1c3QgTm9kZUxpc3QubGVuZ3RoXG5cdFx0XHR3aGlsZSAoICh0YXJnZXRbaisrXSA9IGVsc1tpKytdKSApIHt9XG5cdFx0XHR0YXJnZXQubGVuZ3RoID0gaiAtIDE7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBTaXp6bGUoIHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICkge1xuXHR2YXIgbSwgaSwgZWxlbSwgbmlkLCBtYXRjaCwgZ3JvdXBzLCBuZXdTZWxlY3Rvcixcblx0XHRuZXdDb250ZXh0ID0gY29udGV4dCAmJiBjb250ZXh0Lm93bmVyRG9jdW1lbnQsXG5cblx0XHQvLyBub2RlVHlwZSBkZWZhdWx0cyB0byA5LCBzaW5jZSBjb250ZXh0IGRlZmF1bHRzIHRvIGRvY3VtZW50XG5cdFx0bm9kZVR5cGUgPSBjb250ZXh0ID8gY29udGV4dC5ub2RlVHlwZSA6IDk7XG5cblx0cmVzdWx0cyA9IHJlc3VsdHMgfHwgW107XG5cblx0Ly8gUmV0dXJuIGVhcmx5IGZyb20gY2FsbHMgd2l0aCBpbnZhbGlkIHNlbGVjdG9yIG9yIGNvbnRleHRcblx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgfHwgIXNlbGVjdG9yIHx8XG5cdFx0bm9kZVR5cGUgIT09IDEgJiYgbm9kZVR5cGUgIT09IDkgJiYgbm9kZVR5cGUgIT09IDExICkge1xuXG5cdFx0cmV0dXJuIHJlc3VsdHM7XG5cdH1cblxuXHQvLyBUcnkgdG8gc2hvcnRjdXQgZmluZCBvcGVyYXRpb25zIChhcyBvcHBvc2VkIHRvIGZpbHRlcnMpIGluIEhUTUwgZG9jdW1lbnRzXG5cdGlmICggIXNlZWQgKSB7XG5cblx0XHRpZiAoICggY29udGV4dCA/IGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0IDogcHJlZmVycmVkRG9jICkgIT09IGRvY3VtZW50ICkge1xuXHRcdFx0c2V0RG9jdW1lbnQoIGNvbnRleHQgKTtcblx0XHR9XG5cdFx0Y29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7XG5cblx0XHRpZiAoIGRvY3VtZW50SXNIVE1MICkge1xuXG5cdFx0XHQvLyBJZiB0aGUgc2VsZWN0b3IgaXMgc3VmZmljaWVudGx5IHNpbXBsZSwgdHJ5IHVzaW5nIGEgXCJnZXQqQnkqXCIgRE9NIG1ldGhvZFxuXHRcdFx0Ly8gKGV4Y2VwdGluZyBEb2N1bWVudEZyYWdtZW50IGNvbnRleHQsIHdoZXJlIHRoZSBtZXRob2RzIGRvbid0IGV4aXN0KVxuXHRcdFx0aWYgKCBub2RlVHlwZSAhPT0gMTEgJiYgKG1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApKSApIHtcblxuXHRcdFx0XHQvLyBJRCBzZWxlY3RvclxuXHRcdFx0XHRpZiAoIChtID0gbWF0Y2hbMV0pICkge1xuXG5cdFx0XHRcdFx0Ly8gRG9jdW1lbnQgY29udGV4dFxuXHRcdFx0XHRcdGlmICggbm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIChlbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggbSApKSApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSwgT3BlcmEsIFdlYmtpdFxuXHRcdFx0XHRcdFx0XHQvLyBUT0RPOiBpZGVudGlmeSB2ZXJzaW9uc1xuXHRcdFx0XHRcdFx0XHQvLyBnZXRFbGVtZW50QnlJZCBjYW4gbWF0Y2ggZWxlbWVudHMgYnkgbmFtZSBpbnN0ZWFkIG9mIElEXG5cdFx0XHRcdFx0XHRcdGlmICggZWxlbS5pZCA9PT0gbSApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBFbGVtZW50IGNvbnRleHRcblx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSwgT3BlcmEsIFdlYmtpdFxuXHRcdFx0XHRcdFx0Ly8gVE9ETzogaWRlbnRpZnkgdmVyc2lvbnNcblx0XHRcdFx0XHRcdC8vIGdldEVsZW1lbnRCeUlkIGNhbiBtYXRjaCBlbGVtZW50cyBieSBuYW1lIGluc3RlYWQgb2YgSURcblx0XHRcdFx0XHRcdGlmICggbmV3Q29udGV4dCAmJiAoZWxlbSA9IG5ld0NvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIG0gKSkgJiZcblx0XHRcdFx0XHRcdFx0Y29udGFpbnMoIGNvbnRleHQsIGVsZW0gKSAmJlxuXHRcdFx0XHRcdFx0XHRlbGVtLmlkID09PSBtICkge1xuXG5cdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gVHlwZSBzZWxlY3RvclxuXHRcdFx0XHR9IGVsc2UgaWYgKCBtYXRjaFsyXSApIHtcblx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCBzZWxlY3RvciApICk7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cblx0XHRcdFx0Ly8gQ2xhc3Mgc2VsZWN0b3Jcblx0XHRcdFx0fSBlbHNlIGlmICggKG0gPSBtYXRjaFszXSkgJiYgc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICYmXG5cdFx0XHRcdFx0Y29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICkge1xuXG5cdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBtICkgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBUYWtlIGFkdmFudGFnZSBvZiBxdWVyeVNlbGVjdG9yQWxsXG5cdFx0XHRpZiAoIHN1cHBvcnQucXNhICYmXG5cdFx0XHRcdCFjb21waWxlckNhY2hlWyBzZWxlY3RvciArIFwiIFwiIF0gJiZcblx0XHRcdFx0KCFyYnVnZ3lRU0EgfHwgIXJidWdneVFTQS50ZXN0KCBzZWxlY3RvciApKSApIHtcblxuXHRcdFx0XHRpZiAoIG5vZGVUeXBlICE9PSAxICkge1xuXHRcdFx0XHRcdG5ld0NvbnRleHQgPSBjb250ZXh0O1xuXHRcdFx0XHRcdG5ld1NlbGVjdG9yID0gc2VsZWN0b3I7XG5cblx0XHRcdFx0Ly8gcVNBIGxvb2tzIG91dHNpZGUgRWxlbWVudCBjb250ZXh0LCB3aGljaCBpcyBub3Qgd2hhdCB3ZSB3YW50XG5cdFx0XHRcdC8vIFRoYW5rcyB0byBBbmRyZXcgRHVwb250IGZvciB0aGlzIHdvcmthcm91bmQgdGVjaG5pcXVlXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OFxuXHRcdFx0XHQvLyBFeGNsdWRlIG9iamVjdCBlbGVtZW50c1xuXHRcdFx0XHR9IGVsc2UgaWYgKCBjb250ZXh0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHRcdFx0XHQvLyBDYXB0dXJlIHRoZSBjb250ZXh0IElELCBzZXR0aW5nIGl0IGZpcnN0IGlmIG5lY2Vzc2FyeVxuXHRcdFx0XHRcdGlmICggKG5pZCA9IGNvbnRleHQuZ2V0QXR0cmlidXRlKCBcImlkXCIgKSkgKSB7XG5cdFx0XHRcdFx0XHRuaWQgPSBuaWQucmVwbGFjZSggcmNzc2VzY2FwZSwgZmNzc2VzY2FwZSApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0LnNldEF0dHJpYnV0ZSggXCJpZFwiLCAobmlkID0gZXhwYW5kbykgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBQcmVmaXggZXZlcnkgc2VsZWN0b3IgaW4gdGhlIGxpc3Rcblx0XHRcdFx0XHRncm91cHMgPSB0b2tlbml6ZSggc2VsZWN0b3IgKTtcblx0XHRcdFx0XHRpID0gZ3JvdXBzLmxlbmd0aDtcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdGdyb3Vwc1tpXSA9IFwiI1wiICsgbmlkICsgXCIgXCIgKyB0b1NlbGVjdG9yKCBncm91cHNbaV0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bmV3U2VsZWN0b3IgPSBncm91cHMuam9pbiggXCIsXCIgKTtcblxuXHRcdFx0XHRcdC8vIEV4cGFuZCBjb250ZXh0IGZvciBzaWJsaW5nIHNlbGVjdG9yc1xuXHRcdFx0XHRcdG5ld0NvbnRleHQgPSByc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fFxuXHRcdFx0XHRcdFx0Y29udGV4dDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggbmV3U2VsZWN0b3IgKSB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsXG5cdFx0XHRcdFx0XHRcdG5ld0NvbnRleHQucXVlcnlTZWxlY3RvckFsbCggbmV3U2VsZWN0b3IgKVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdH0gY2F0Y2ggKCBxc2FFcnJvciApIHtcblx0XHRcdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRcdFx0aWYgKCBuaWQgPT09IGV4cGFuZG8gKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRleHQucmVtb3ZlQXR0cmlidXRlKCBcImlkXCIgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBBbGwgb3RoZXJzXG5cdHJldHVybiBzZWxlY3QoIHNlbGVjdG9yLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApO1xufVxuXG4vKipcbiAqIENyZWF0ZSBrZXktdmFsdWUgY2FjaGVzIG9mIGxpbWl0ZWQgc2l6ZVxuICogQHJldHVybnMge2Z1bmN0aW9uKHN0cmluZywgb2JqZWN0KX0gUmV0dXJucyB0aGUgT2JqZWN0IGRhdGEgYWZ0ZXIgc3RvcmluZyBpdCBvbiBpdHNlbGYgd2l0aFxuICpcdHByb3BlcnR5IG5hbWUgdGhlIChzcGFjZS1zdWZmaXhlZCkgc3RyaW5nIGFuZCAoaWYgdGhlIGNhY2hlIGlzIGxhcmdlciB0aGFuIEV4cHIuY2FjaGVMZW5ndGgpXG4gKlx0ZGVsZXRpbmcgdGhlIG9sZGVzdCBlbnRyeVxuICovXG5mdW5jdGlvbiBjcmVhdGVDYWNoZSgpIHtcblx0dmFyIGtleXMgPSBbXTtcblxuXHRmdW5jdGlvbiBjYWNoZSgga2V5LCB2YWx1ZSApIHtcblx0XHQvLyBVc2UgKGtleSArIFwiIFwiKSB0byBhdm9pZCBjb2xsaXNpb24gd2l0aCBuYXRpdmUgcHJvdG90eXBlIHByb3BlcnRpZXMgKHNlZSBJc3N1ZSAjMTU3KVxuXHRcdGlmICgga2V5cy5wdXNoKCBrZXkgKyBcIiBcIiApID4gRXhwci5jYWNoZUxlbmd0aCApIHtcblx0XHRcdC8vIE9ubHkga2VlcCB0aGUgbW9zdCByZWNlbnQgZW50cmllc1xuXHRcdFx0ZGVsZXRlIGNhY2hlWyBrZXlzLnNoaWZ0KCkgXTtcblx0XHR9XG5cdFx0cmV0dXJuIChjYWNoZVsga2V5ICsgXCIgXCIgXSA9IHZhbHVlKTtcblx0fVxuXHRyZXR1cm4gY2FjaGU7XG59XG5cbi8qKlxuICogTWFyayBhIGZ1bmN0aW9uIGZvciBzcGVjaWFsIHVzZSBieSBTaXp6bGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBtYXJrXG4gKi9cbmZ1bmN0aW9uIG1hcmtGdW5jdGlvbiggZm4gKSB7XG5cdGZuWyBleHBhbmRvIF0gPSB0cnVlO1xuXHRyZXR1cm4gZm47XG59XG5cbi8qKlxuICogU3VwcG9ydCB0ZXN0aW5nIHVzaW5nIGFuIGVsZW1lbnRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFBhc3NlZCB0aGUgY3JlYXRlZCBlbGVtZW50IGFuZCByZXR1cm5zIGEgYm9vbGVhbiByZXN1bHRcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0KCBmbiApIHtcblx0dmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZpZWxkc2V0XCIpO1xuXG5cdHRyeSB7XG5cdFx0cmV0dXJuICEhZm4oIGVsICk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0gZmluYWxseSB7XG5cdFx0Ly8gUmVtb3ZlIGZyb20gaXRzIHBhcmVudCBieSBkZWZhdWx0XG5cdFx0aWYgKCBlbC5wYXJlbnROb2RlICkge1xuXHRcdFx0ZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggZWwgKTtcblx0XHR9XG5cdFx0Ly8gcmVsZWFzZSBtZW1vcnkgaW4gSUVcblx0XHRlbCA9IG51bGw7XG5cdH1cbn1cblxuLyoqXG4gKiBBZGRzIHRoZSBzYW1lIGhhbmRsZXIgZm9yIGFsbCBvZiB0aGUgc3BlY2lmaWVkIGF0dHJzXG4gKiBAcGFyYW0ge1N0cmluZ30gYXR0cnMgUGlwZS1zZXBhcmF0ZWQgbGlzdCBvZiBhdHRyaWJ1dGVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIFRoZSBtZXRob2QgdGhhdCB3aWxsIGJlIGFwcGxpZWRcbiAqL1xuZnVuY3Rpb24gYWRkSGFuZGxlKCBhdHRycywgaGFuZGxlciApIHtcblx0dmFyIGFyciA9IGF0dHJzLnNwbGl0KFwifFwiKSxcblx0XHRpID0gYXJyLmxlbmd0aDtcblxuXHR3aGlsZSAoIGktLSApIHtcblx0XHRFeHByLmF0dHJIYW5kbGVbIGFycltpXSBdID0gaGFuZGxlcjtcblx0fVxufVxuXG4vKipcbiAqIENoZWNrcyBkb2N1bWVudCBvcmRlciBvZiB0d28gc2libGluZ3NcbiAqIEBwYXJhbSB7RWxlbWVudH0gYVxuICogQHBhcmFtIHtFbGVtZW50fSBiXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBSZXR1cm5zIGxlc3MgdGhhbiAwIGlmIGEgcHJlY2VkZXMgYiwgZ3JlYXRlciB0aGFuIDAgaWYgYSBmb2xsb3dzIGJcbiAqL1xuZnVuY3Rpb24gc2libGluZ0NoZWNrKCBhLCBiICkge1xuXHR2YXIgY3VyID0gYiAmJiBhLFxuXHRcdGRpZmYgPSBjdXIgJiYgYS5ub2RlVHlwZSA9PT0gMSAmJiBiLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRhLnNvdXJjZUluZGV4IC0gYi5zb3VyY2VJbmRleDtcblxuXHQvLyBVc2UgSUUgc291cmNlSW5kZXggaWYgYXZhaWxhYmxlIG9uIGJvdGggbm9kZXNcblx0aWYgKCBkaWZmICkge1xuXHRcdHJldHVybiBkaWZmO1xuXHR9XG5cblx0Ly8gQ2hlY2sgaWYgYiBmb2xsb3dzIGFcblx0aWYgKCBjdXIgKSB7XG5cdFx0d2hpbGUgKCAoY3VyID0gY3VyLm5leHRTaWJsaW5nKSApIHtcblx0XHRcdGlmICggY3VyID09PSBiICkge1xuXHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGEgPyAxIDogLTE7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBpbnB1dCB0eXBlc1xuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5wdXRQc2V1ZG8oIHR5cGUgKSB7XG5cdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHR2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRyZXR1cm4gbmFtZSA9PT0gXCJpbnB1dFwiICYmIGVsZW0udHlwZSA9PT0gdHlwZTtcblx0fTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGJ1dHRvbnNcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJ1dHRvblBzZXVkbyggdHlwZSApIHtcblx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdHJldHVybiAobmFtZSA9PT0gXCJpbnB1dFwiIHx8IG5hbWUgPT09IFwiYnV0dG9uXCIpICYmIGVsZW0udHlwZSA9PT0gdHlwZTtcblx0fTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIDplbmFibGVkLzpkaXNhYmxlZFxuICogQHBhcmFtIHtCb29sZWFufSBkaXNhYmxlZCB0cnVlIGZvciA6ZGlzYWJsZWQ7IGZhbHNlIGZvciA6ZW5hYmxlZFxuICovXG5mdW5jdGlvbiBjcmVhdGVEaXNhYmxlZFBzZXVkbyggZGlzYWJsZWQgKSB7XG5cdC8vIEtub3duIDpkaXNhYmxlZCBmYWxzZSBwb3NpdGl2ZXM6XG5cdC8vIElFOiAqW2Rpc2FibGVkXTpub3QoYnV0dG9uLCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgb3B0Z3JvdXAsIG9wdGlvbiwgbWVudWl0ZW0sIGZpZWxkc2V0KVxuXHQvLyBub3QgSUU6IGZpZWxkc2V0W2Rpc2FibGVkXSA+IGxlZ2VuZDpudGgtb2YtdHlwZShuKzIpIDpjYW4tZGlzYWJsZVxuXHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHQvLyBDaGVjayBmb3JtIGVsZW1lbnRzIGFuZCBvcHRpb24gZWxlbWVudHMgZm9yIGV4cGxpY2l0IGRpc2FibGluZ1xuXHRcdHJldHVybiBcImxhYmVsXCIgaW4gZWxlbSAmJiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZCB8fFxuXHRcdFx0XCJmb3JtXCIgaW4gZWxlbSAmJiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZCB8fFxuXG5cdFx0XHQvLyBDaGVjayBub24tZGlzYWJsZWQgZm9ybSBlbGVtZW50cyBmb3IgZmllbGRzZXRbZGlzYWJsZWRdIGFuY2VzdG9yc1xuXHRcdFx0XCJmb3JtXCIgaW4gZWxlbSAmJiBlbGVtLmRpc2FibGVkID09PSBmYWxzZSAmJiAoXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFNi0xMStcblx0XHRcdFx0Ly8gQW5jZXN0cnkgaXMgY292ZXJlZCBmb3IgdXNcblx0XHRcdFx0ZWxlbS5pc0Rpc2FibGVkID09PSBkaXNhYmxlZCB8fFxuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSwgYXNzdW1lIGFueSBub24tPG9wdGlvbj4gdW5kZXIgZmllbGRzZXRbZGlzYWJsZWRdIGlzIGRpc2FibGVkXG5cdFx0XHRcdC8qIGpzaGludCAtVzAxOCAqL1xuXHRcdFx0XHRlbGVtLmlzRGlzYWJsZWQgIT09ICFkaXNhYmxlZCAmJlxuXHRcdFx0XHRcdChcImxhYmVsXCIgaW4gZWxlbSB8fCAhZGlzYWJsZWRBbmNlc3RvciggZWxlbSApKSAhPT0gZGlzYWJsZWRcblx0XHRcdCk7XG5cdH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBwb3NpdGlvbmFsc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZm4gKSB7XG5cdHJldHVybiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIGFyZ3VtZW50ICkge1xuXHRcdGFyZ3VtZW50ID0gK2FyZ3VtZW50O1xuXHRcdHJldHVybiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMgKSB7XG5cdFx0XHR2YXIgaixcblx0XHRcdFx0bWF0Y2hJbmRleGVzID0gZm4oIFtdLCBzZWVkLmxlbmd0aCwgYXJndW1lbnQgKSxcblx0XHRcdFx0aSA9IG1hdGNoSW5kZXhlcy5sZW5ndGg7XG5cblx0XHRcdC8vIE1hdGNoIGVsZW1lbnRzIGZvdW5kIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXhlc1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGlmICggc2VlZFsgKGogPSBtYXRjaEluZGV4ZXNbaV0pIF0gKSB7XG5cdFx0XHRcdFx0c2VlZFtqXSA9ICEobWF0Y2hlc1tqXSA9IHNlZWRbal0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xufVxuXG4vKipcbiAqIENoZWNrcyBhIG5vZGUgZm9yIHZhbGlkaXR5IGFzIGEgU2l6emxlIGNvbnRleHRcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3Q9fSBjb250ZXh0XG4gKiBAcmV0dXJucyB7RWxlbWVudHxPYmplY3R8Qm9vbGVhbn0gVGhlIGlucHV0IG5vZGUgaWYgYWNjZXB0YWJsZSwgb3RoZXJ3aXNlIGEgZmFsc3kgdmFsdWVcbiAqL1xuZnVuY3Rpb24gdGVzdENvbnRleHQoIGNvbnRleHQgKSB7XG5cdHJldHVybiBjb250ZXh0ICYmIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiICYmIGNvbnRleHQ7XG59XG5cbi8vIEV4cG9zZSBzdXBwb3J0IHZhcnMgZm9yIGNvbnZlbmllbmNlXG5zdXBwb3J0ID0gU2l6emxlLnN1cHBvcnQgPSB7fTtcblxuLyoqXG4gKiBEZXRlY3RzIFhNTCBub2Rlc1xuICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gZWxlbSBBbiBlbGVtZW50IG9yIGEgZG9jdW1lbnRcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmZiBlbGVtIGlzIGEgbm9uLUhUTUwgWE1MIG5vZGVcbiAqL1xuaXNYTUwgPSBTaXp6bGUuaXNYTUwgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0Ly8gZG9jdW1lbnRFbGVtZW50IGlzIHZlcmlmaWVkIGZvciBjYXNlcyB3aGVyZSBpdCBkb2Vzbid0IHlldCBleGlzdFxuXHQvLyAoc3VjaCBhcyBsb2FkaW5nIGlmcmFtZXMgaW4gSUUgLSAjNDgzMylcblx0dmFyIGRvY3VtZW50RWxlbWVudCA9IGVsZW0gJiYgKGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtKS5kb2N1bWVudEVsZW1lbnQ7XG5cdHJldHVybiBkb2N1bWVudEVsZW1lbnQgPyBkb2N1bWVudEVsZW1lbnQubm9kZU5hbWUgIT09IFwiSFRNTFwiIDogZmFsc2U7XG59O1xuXG4vKipcbiAqIFNldHMgZG9jdW1lbnQtcmVsYXRlZCB2YXJpYWJsZXMgb25jZSBiYXNlZCBvbiB0aGUgY3VycmVudCBkb2N1bWVudFxuICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gW2RvY10gQW4gZWxlbWVudCBvciBkb2N1bWVudCBvYmplY3QgdG8gdXNlIHRvIHNldCB0aGUgZG9jdW1lbnRcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGN1cnJlbnQgZG9jdW1lbnRcbiAqL1xuc2V0RG9jdW1lbnQgPSBTaXp6bGUuc2V0RG9jdW1lbnQgPSBmdW5jdGlvbiggbm9kZSApIHtcblx0dmFyIGhhc0NvbXBhcmUsIHN1YldpbmRvdyxcblx0XHRkb2MgPSBub2RlID8gbm9kZS5vd25lckRvY3VtZW50IHx8IG5vZGUgOiBwcmVmZXJyZWREb2M7XG5cblx0Ly8gUmV0dXJuIGVhcmx5IGlmIGRvYyBpcyBpbnZhbGlkIG9yIGFscmVhZHkgc2VsZWN0ZWRcblx0aWYgKCBkb2MgPT09IGRvY3VtZW50IHx8IGRvYy5ub2RlVHlwZSAhPT0gOSB8fCAhZG9jLmRvY3VtZW50RWxlbWVudCApIHtcblx0XHRyZXR1cm4gZG9jdW1lbnQ7XG5cdH1cblxuXHQvLyBVcGRhdGUgZ2xvYmFsIHZhcmlhYmxlc1xuXHRkb2N1bWVudCA9IGRvYztcblx0ZG9jRWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblx0ZG9jdW1lbnRJc0hUTUwgPSAhaXNYTUwoIGRvY3VtZW50ICk7XG5cblx0Ly8gU3VwcG9ydDogSUUgOS0xMSwgRWRnZVxuXHQvLyBBY2Nlc3NpbmcgaWZyYW1lIGRvY3VtZW50cyBhZnRlciB1bmxvYWQgdGhyb3dzIFwicGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvcnMgKGpRdWVyeSAjMTM5MzYpXG5cdGlmICggcHJlZmVycmVkRG9jICE9PSBkb2N1bWVudCAmJlxuXHRcdChzdWJXaW5kb3cgPSBkb2N1bWVudC5kZWZhdWx0VmlldykgJiYgc3ViV2luZG93LnRvcCAhPT0gc3ViV2luZG93ICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgMTEsIEVkZ2Vcblx0XHRpZiAoIHN1YldpbmRvdy5hZGRFdmVudExpc3RlbmVyICkge1xuXHRcdFx0c3ViV2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIFwidW5sb2FkXCIsIHVubG9hZEhhbmRsZXIsIGZhbHNlICk7XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA5IC0gMTAgb25seVxuXHRcdH0gZWxzZSBpZiAoIHN1YldpbmRvdy5hdHRhY2hFdmVudCApIHtcblx0XHRcdHN1YldpbmRvdy5hdHRhY2hFdmVudCggXCJvbnVubG9hZFwiLCB1bmxvYWRIYW5kbGVyICk7XG5cdFx0fVxuXHR9XG5cblx0LyogQXR0cmlidXRlc1xuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cblx0Ly8gU3VwcG9ydDogSUU8OFxuXHQvLyBWZXJpZnkgdGhhdCBnZXRBdHRyaWJ1dGUgcmVhbGx5IHJldHVybnMgYXR0cmlidXRlcyBhbmQgbm90IHByb3BlcnRpZXNcblx0Ly8gKGV4Y2VwdGluZyBJRTggYm9vbGVhbnMpXG5cdHN1cHBvcnQuYXR0cmlidXRlcyA9IGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0ZWwuY2xhc3NOYW1lID0gXCJpXCI7XG5cdFx0cmV0dXJuICFlbC5nZXRBdHRyaWJ1dGUoXCJjbGFzc05hbWVcIik7XG5cdH0pO1xuXG5cdC8qIGdldEVsZW1lbnQocylCeSpcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIENoZWNrIGlmIGdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKSByZXR1cm5zIG9ubHkgZWxlbWVudHNcblx0c3VwcG9ydC5nZXRFbGVtZW50c0J5VGFnTmFtZSA9IGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0ZWwuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoXCJcIikgKTtcblx0XHRyZXR1cm4gIWVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKS5sZW5ndGg7XG5cdH0pO1xuXG5cdC8vIFN1cHBvcnQ6IElFPDlcblx0c3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID0gcm5hdGl2ZS50ZXN0KCBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICk7XG5cblx0Ly8gU3VwcG9ydDogSUU8MTBcblx0Ly8gQ2hlY2sgaWYgZ2V0RWxlbWVudEJ5SWQgcmV0dXJucyBlbGVtZW50cyBieSBuYW1lXG5cdC8vIFRoZSBicm9rZW4gZ2V0RWxlbWVudEJ5SWQgbWV0aG9kcyBkb24ndCBwaWNrIHVwIHByb2dyYW1tYXRpY2FsbHktc2V0IG5hbWVzLFxuXHQvLyBzbyB1c2UgYSByb3VuZGFib3V0IGdldEVsZW1lbnRzQnlOYW1lIHRlc3Rcblx0c3VwcG9ydC5nZXRCeUlkID0gYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0XHRkb2NFbGVtLmFwcGVuZENoaWxkKCBlbCApLmlkID0gZXhwYW5kbztcblx0XHRyZXR1cm4gIWRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lIHx8ICFkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSggZXhwYW5kbyApLmxlbmd0aDtcblx0fSk7XG5cblx0Ly8gSUQgZmluZCBhbmQgZmlsdGVyXG5cdGlmICggc3VwcG9ydC5nZXRCeUlkICkge1xuXHRcdEV4cHIuZmluZFtcIklEXCJdID0gZnVuY3Rpb24oIGlkLCBjb250ZXh0ICkge1xuXHRcdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50QnlJZCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudElzSFRNTCApIHtcblx0XHRcdFx0dmFyIG0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKCBpZCApO1xuXHRcdFx0XHRyZXR1cm4gbSA/IFsgbSBdIDogW107XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRFeHByLmZpbHRlcltcIklEXCJdID0gZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZShcImlkXCIpID09PSBhdHRySWQ7XG5cdFx0XHR9O1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0Ly8gU3VwcG9ydDogSUU2Lzdcblx0XHQvLyBnZXRFbGVtZW50QnlJZCBpcyBub3QgcmVsaWFibGUgYXMgYSBmaW5kIHNob3J0Y3V0XG5cdFx0ZGVsZXRlIEV4cHIuZmluZFtcIklEXCJdO1xuXG5cdFx0RXhwci5maWx0ZXJbXCJJRFwiXSA9ICBmdW5jdGlvbiggaWQgKSB7XG5cdFx0XHR2YXIgYXR0cklkID0gaWQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIG5vZGUgPSB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGVOb2RlICE9PSBcInVuZGVmaW5lZFwiICYmXG5cdFx0XHRcdFx0ZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKFwiaWRcIik7XG5cdFx0XHRcdHJldHVybiBub2RlICYmIG5vZGUudmFsdWUgPT09IGF0dHJJZDtcblx0XHRcdH07XG5cdFx0fTtcblx0fVxuXG5cdC8vIFRhZ1xuXHRFeHByLmZpbmRbXCJUQUdcIl0gPSBzdXBwb3J0LmdldEVsZW1lbnRzQnlUYWdOYW1lID9cblx0XHRmdW5jdGlvbiggdGFnLCBjb250ZXh0ICkge1xuXHRcdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyApO1xuXG5cdFx0XHQvLyBEb2N1bWVudEZyYWdtZW50IG5vZGVzIGRvbid0IGhhdmUgZ0VCVE5cblx0XHRcdH0gZWxzZSBpZiAoIHN1cHBvcnQucXNhICkge1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCB0YWcgKTtcblx0XHRcdH1cblx0XHR9IDpcblxuXHRcdGZ1bmN0aW9uKCB0YWcsIGNvbnRleHQgKSB7XG5cdFx0XHR2YXIgZWxlbSxcblx0XHRcdFx0dG1wID0gW10sXG5cdFx0XHRcdGkgPSAwLFxuXHRcdFx0XHQvLyBCeSBoYXBweSBjb2luY2lkZW5jZSwgYSAoYnJva2VuKSBnRUJUTiBhcHBlYXJzIG9uIERvY3VtZW50RnJhZ21lbnQgbm9kZXMgdG9vXG5cdFx0XHRcdHJlc3VsdHMgPSBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgKTtcblxuXHRcdFx0Ly8gRmlsdGVyIG91dCBwb3NzaWJsZSBjb21tZW50c1xuXHRcdFx0aWYgKCB0YWcgPT09IFwiKlwiICkge1xuXHRcdFx0XHR3aGlsZSAoIChlbGVtID0gcmVzdWx0c1tpKytdKSApIHtcblx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdFx0XHR0bXAucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB0bXA7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHR9O1xuXG5cdC8vIENsYXNzXG5cdEV4cHIuZmluZFtcIkNMQVNTXCJdID0gc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICYmIGZ1bmN0aW9uKCBjbGFzc05hbWUsIGNvbnRleHQgKSB7XG5cdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50SXNIVE1MICkge1xuXHRcdFx0cmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggY2xhc3NOYW1lICk7XG5cdFx0fVxuXHR9O1xuXG5cdC8qIFFTQS9tYXRjaGVzU2VsZWN0b3Jcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIFFTQSBhbmQgbWF0Y2hlc1NlbGVjdG9yIHN1cHBvcnRcblxuXHQvLyBtYXRjaGVzU2VsZWN0b3IoOmFjdGl2ZSkgcmVwb3J0cyBmYWxzZSB3aGVuIHRydWUgKElFOS9PcGVyYSAxMS41KVxuXHRyYnVnZ3lNYXRjaGVzID0gW107XG5cblx0Ly8gcVNhKDpmb2N1cykgcmVwb3J0cyBmYWxzZSB3aGVuIHRydWUgKENocm9tZSAyMSlcblx0Ly8gV2UgYWxsb3cgdGhpcyBiZWNhdXNlIG9mIGEgYnVnIGluIElFOC85IHRoYXQgdGhyb3dzIGFuIGVycm9yXG5cdC8vIHdoZW5ldmVyIGBkb2N1bWVudC5hY3RpdmVFbGVtZW50YCBpcyBhY2Nlc3NlZCBvbiBhbiBpZnJhbWVcblx0Ly8gU28sIHdlIGFsbG93IDpmb2N1cyB0byBwYXNzIHRocm91Z2ggUVNBIGFsbCB0aGUgdGltZSB0byBhdm9pZCB0aGUgSUUgZXJyb3Jcblx0Ly8gU2VlIGh0dHBzOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMzM3OFxuXHRyYnVnZ3lRU0EgPSBbXTtcblxuXHRpZiAoIChzdXBwb3J0LnFzYSA9IHJuYXRpdmUudGVzdCggZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCApKSApIHtcblx0XHQvLyBCdWlsZCBRU0EgcmVnZXhcblx0XHQvLyBSZWdleCBzdHJhdGVneSBhZG9wdGVkIGZyb20gRGllZ28gUGVyaW5pXG5cdFx0YXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0XHRcdC8vIFNlbGVjdCBpcyBzZXQgdG8gZW1wdHkgc3RyaW5nIG9uIHB1cnBvc2Vcblx0XHRcdC8vIFRoaXMgaXMgdG8gdGVzdCBJRSdzIHRyZWF0bWVudCBvZiBub3QgZXhwbGljaXRseVxuXHRcdFx0Ly8gc2V0dGluZyBhIGJvb2xlYW4gY29udGVudCBhdHRyaWJ1dGUsXG5cdFx0XHQvLyBzaW5jZSBpdHMgcHJlc2VuY2Ugc2hvdWxkIGJlIGVub3VnaFxuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzEyMzU5XG5cdFx0XHRkb2NFbGVtLmFwcGVuZENoaWxkKCBlbCApLmlubmVySFRNTCA9IFwiPGEgaWQ9J1wiICsgZXhwYW5kbyArIFwiJz48L2E+XCIgK1xuXHRcdFx0XHRcIjxzZWxlY3QgaWQ9J1wiICsgZXhwYW5kbyArIFwiLVxcclxcXFwnIG1zYWxsb3djYXB0dXJlPScnPlwiICtcblx0XHRcdFx0XCI8b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PlwiO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRTgsIE9wZXJhIDExLTEyLjE2XG5cdFx0XHQvLyBOb3RoaW5nIHNob3VsZCBiZSBzZWxlY3RlZCB3aGVuIGVtcHR5IHN0cmluZ3MgZm9sbG93IF49IG9yICQ9IG9yICo9XG5cdFx0XHQvLyBUaGUgdGVzdCBhdHRyaWJ1dGUgbXVzdCBiZSB1bmtub3duIGluIE9wZXJhIGJ1dCBcInNhZmVcIiBmb3IgV2luUlRcblx0XHRcdC8vIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvaGg0NjUzODguYXNweCNhdHRyaWJ1dGVfc2VjdGlvblxuXHRcdFx0aWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKFwiW21zYWxsb3djYXB0dXJlXj0nJ11cIikubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJbKl4kXT1cIiArIHdoaXRlc3BhY2UgKyBcIiooPzonJ3xcXFwiXFxcIilcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRThcblx0XHRcdC8vIEJvb2xlYW4gYXR0cmlidXRlcyBhbmQgXCJ2YWx1ZVwiIGFyZSBub3QgdHJlYXRlZCBjb3JyZWN0bHlcblx0XHRcdGlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbc2VsZWN0ZWRdXCIpLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIiooPzp2YWx1ZXxcIiArIGJvb2xlYW5zICsgXCIpXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lPDI5LCBBbmRyb2lkPDQuNCwgU2FmYXJpPDcuMCssIGlPUzw3LjArLCBQaGFudG9tSlM8MS45LjgrXG5cdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIltpZH49XCIgKyBleHBhbmRvICsgXCItXVwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaChcIn49XCIpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBXZWJraXQvT3BlcmEgLSA6Y2hlY2tlZCBzaG91bGQgcmV0dXJuIHNlbGVjdGVkIG9wdGlvbiBlbGVtZW50c1xuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMS9SRUMtY3NzMy1zZWxlY3RvcnMtMjAxMTA5MjkvI2NoZWNrZWRcblx0XHRcdC8vIElFOCB0aHJvd3MgZXJyb3IgaGVyZSBhbmQgd2lsbCBub3Qgc2VlIGxhdGVyIHRlc3RzXG5cdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKFwiOmNoZWNrZWRcIikubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaChcIjpjaGVja2VkXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBTYWZhcmkgOCssIGlPUyA4K1xuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzNjg1MVxuXHRcdFx0Ly8gSW4tcGFnZSBgc2VsZWN0b3IjaWQgc2libGluZy1jb21iaW5hdG9yIHNlbGVjdG9yYCBmYWlsc1xuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggXCJhI1wiICsgZXhwYW5kbyArIFwiKypcIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCIuIy4rWyt+XVwiKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0XHRlbC5pbm5lckhUTUwgPSBcIjxhIGhyZWY9JycgZGlzYWJsZWQ9J2Rpc2FibGVkJz48L2E+XCIgK1xuXHRcdFx0XHRcIjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD5cIjtcblxuXHRcdFx0Ly8gU3VwcG9ydDogV2luZG93cyA4IE5hdGl2ZSBBcHBzXG5cdFx0XHQvLyBUaGUgdHlwZSBhbmQgbmFtZSBhdHRyaWJ1dGVzIGFyZSByZXN0cmljdGVkIGR1cmluZyAuaW5uZXJIVE1MIGFzc2lnbm1lbnRcblx0XHRcdHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcblx0XHRcdGlucHV0LnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIFwiaGlkZGVuXCIgKTtcblx0XHRcdGVsLmFwcGVuZENoaWxkKCBpbnB1dCApLnNldEF0dHJpYnV0ZSggXCJuYW1lXCIsIFwiRFwiICk7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOFxuXHRcdFx0Ly8gRW5mb3JjZSBjYXNlLXNlbnNpdGl2aXR5IG9mIG5hbWUgYXR0cmlidXRlXG5cdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbbmFtZT1kXVwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIm5hbWVcIiArIHdoaXRlc3BhY2UgKyBcIipbKl4kfCF+XT89XCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRkYgMy41IC0gOmVuYWJsZWQvOmRpc2FibGVkIGFuZCBoaWRkZW4gZWxlbWVudHMgKGhpZGRlbiBlbGVtZW50cyBhcmUgc3RpbGwgZW5hYmxlZClcblx0XHRcdC8vIElFOCB0aHJvd3MgZXJyb3IgaGVyZSBhbmQgd2lsbCBub3Qgc2VlIGxhdGVyIHRlc3RzXG5cdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZW5hYmxlZFwiKS5sZW5ndGggIT09IDIgKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIjplbmFibGVkXCIsIFwiOmRpc2FibGVkXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU5LTExK1xuXHRcdFx0Ly8gSUUncyA6ZGlzYWJsZWQgc2VsZWN0b3IgZG9lcyBub3QgcGljayB1cCB0aGUgY2hpbGRyZW4gb2YgZGlzYWJsZWQgZmllbGRzZXRzXG5cdFx0XHRkb2NFbGVtLmFwcGVuZENoaWxkKCBlbCApLmRpc2FibGVkID0gdHJ1ZTtcblx0XHRcdGlmICggZWwucXVlcnlTZWxlY3RvckFsbChcIjpkaXNhYmxlZFwiKS5sZW5ndGggIT09IDIgKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIjplbmFibGVkXCIsIFwiOmRpc2FibGVkXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gT3BlcmEgMTAtMTEgZG9lcyBub3QgdGhyb3cgb24gcG9zdC1jb21tYSBpbnZhbGlkIHBzZXVkb3Ncblx0XHRcdGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCIqLDp4XCIpO1xuXHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCIsLio6XCIpO1xuXHRcdH0pO1xuXHR9XG5cblx0aWYgKCAoc3VwcG9ydC5tYXRjaGVzU2VsZWN0b3IgPSBybmF0aXZlLnRlc3QoIChtYXRjaGVzID0gZG9jRWxlbS5tYXRjaGVzIHx8XG5cdFx0ZG9jRWxlbS53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm1vek1hdGNoZXNTZWxlY3RvciB8fFxuXHRcdGRvY0VsZW0ub01hdGNoZXNTZWxlY3RvciB8fFxuXHRcdGRvY0VsZW0ubXNNYXRjaGVzU2VsZWN0b3IpICkpICkge1xuXG5cdFx0YXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0XHRcdC8vIENoZWNrIHRvIHNlZSBpZiBpdCdzIHBvc3NpYmxlIHRvIGRvIG1hdGNoZXNTZWxlY3RvclxuXHRcdFx0Ly8gb24gYSBkaXNjb25uZWN0ZWQgbm9kZSAoSUUgOSlcblx0XHRcdHN1cHBvcnQuZGlzY29ubmVjdGVkTWF0Y2ggPSBtYXRjaGVzLmNhbGwoIGVsLCBcIipcIiApO1xuXG5cdFx0XHQvLyBUaGlzIHNob3VsZCBmYWlsIHdpdGggYW4gZXhjZXB0aW9uXG5cdFx0XHQvLyBHZWNrbyBkb2VzIG5vdCBlcnJvciwgcmV0dXJucyBmYWxzZSBpbnN0ZWFkXG5cdFx0XHRtYXRjaGVzLmNhbGwoIGVsLCBcIltzIT0nJ106eFwiICk7XG5cdFx0XHRyYnVnZ3lNYXRjaGVzLnB1c2goIFwiIT1cIiwgcHNldWRvcyApO1xuXHRcdH0pO1xuXHR9XG5cblx0cmJ1Z2d5UVNBID0gcmJ1Z2d5UVNBLmxlbmd0aCAmJiBuZXcgUmVnRXhwKCByYnVnZ3lRU0Euam9pbihcInxcIikgKTtcblx0cmJ1Z2d5TWF0Y2hlcyA9IHJidWdneU1hdGNoZXMubGVuZ3RoICYmIG5ldyBSZWdFeHAoIHJidWdneU1hdGNoZXMuam9pbihcInxcIikgKTtcblxuXHQvKiBDb250YWluc1xuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cdGhhc0NvbXBhcmUgPSBybmF0aXZlLnRlc3QoIGRvY0VsZW0uY29tcGFyZURvY3VtZW50UG9zaXRpb24gKTtcblxuXHQvLyBFbGVtZW50IGNvbnRhaW5zIGFub3RoZXJcblx0Ly8gUHVycG9zZWZ1bGx5IHNlbGYtZXhjbHVzaXZlXG5cdC8vIEFzIGluLCBhbiBlbGVtZW50IGRvZXMgbm90IGNvbnRhaW4gaXRzZWxmXG5cdGNvbnRhaW5zID0gaGFzQ29tcGFyZSB8fCBybmF0aXZlLnRlc3QoIGRvY0VsZW0uY29udGFpbnMgKSA/XG5cdFx0ZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0XHR2YXIgYWRvd24gPSBhLm5vZGVUeXBlID09PSA5ID8gYS5kb2N1bWVudEVsZW1lbnQgOiBhLFxuXHRcdFx0XHRidXAgPSBiICYmIGIucGFyZW50Tm9kZTtcblx0XHRcdHJldHVybiBhID09PSBidXAgfHwgISEoIGJ1cCAmJiBidXAubm9kZVR5cGUgPT09IDEgJiYgKFxuXHRcdFx0XHRhZG93bi5jb250YWlucyA/XG5cdFx0XHRcdFx0YWRvd24uY29udGFpbnMoIGJ1cCApIDpcblx0XHRcdFx0XHRhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICYmIGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGJ1cCApICYgMTZcblx0XHRcdCkpO1xuXHRcdH0gOlxuXHRcdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdFx0aWYgKCBiICkge1xuXHRcdFx0XHR3aGlsZSAoIChiID0gYi5wYXJlbnROb2RlKSApIHtcblx0XHRcdFx0XHRpZiAoIGIgPT09IGEgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9O1xuXG5cdC8qIFNvcnRpbmdcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIERvY3VtZW50IG9yZGVyIHNvcnRpbmdcblx0c29ydE9yZGVyID0gaGFzQ29tcGFyZSA/XG5cdGZ1bmN0aW9uKCBhLCBiICkge1xuXG5cdFx0Ly8gRmxhZyBmb3IgZHVwbGljYXRlIHJlbW92YWxcblx0XHRpZiAoIGEgPT09IGIgKSB7XG5cdFx0XHRoYXNEdXBsaWNhdGUgPSB0cnVlO1xuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fVxuXG5cdFx0Ly8gU29ydCBvbiBtZXRob2QgZXhpc3RlbmNlIGlmIG9ubHkgb25lIGlucHV0IGhhcyBjb21wYXJlRG9jdW1lbnRQb3NpdGlvblxuXHRcdHZhciBjb21wYXJlID0gIWEuY29tcGFyZURvY3VtZW50UG9zaXRpb24gLSAhYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtcblx0XHRpZiAoIGNvbXBhcmUgKSB7XG5cdFx0XHRyZXR1cm4gY29tcGFyZTtcblx0XHR9XG5cblx0XHQvLyBDYWxjdWxhdGUgcG9zaXRpb24gaWYgYm90aCBpbnB1dHMgYmVsb25nIHRvIHRoZSBzYW1lIGRvY3VtZW50XG5cdFx0Y29tcGFyZSA9ICggYS5vd25lckRvY3VtZW50IHx8IGEgKSA9PT0gKCBiLm93bmVyRG9jdW1lbnQgfHwgYiApID9cblx0XHRcdGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGIgKSA6XG5cblx0XHRcdC8vIE90aGVyd2lzZSB3ZSBrbm93IHRoZXkgYXJlIGRpc2Nvbm5lY3RlZFxuXHRcdFx0MTtcblxuXHRcdC8vIERpc2Nvbm5lY3RlZCBub2Rlc1xuXHRcdGlmICggY29tcGFyZSAmIDEgfHxcblx0XHRcdCghc3VwcG9ydC5zb3J0RGV0YWNoZWQgJiYgYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYSApID09PSBjb21wYXJlKSApIHtcblxuXHRcdFx0Ly8gQ2hvb3NlIHRoZSBmaXJzdCBlbGVtZW50IHRoYXQgaXMgcmVsYXRlZCB0byBvdXIgcHJlZmVycmVkIGRvY3VtZW50XG5cdFx0XHRpZiAoIGEgPT09IGRvY3VtZW50IHx8IGEub3duZXJEb2N1bWVudCA9PT0gcHJlZmVycmVkRG9jICYmIGNvbnRhaW5zKHByZWZlcnJlZERvYywgYSkgKSB7XG5cdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdH1cblx0XHRcdGlmICggYiA9PT0gZG9jdW1lbnQgfHwgYi5vd25lckRvY3VtZW50ID09PSBwcmVmZXJyZWREb2MgJiYgY29udGFpbnMocHJlZmVycmVkRG9jLCBiKSApIHtcblx0XHRcdFx0cmV0dXJuIDE7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE1haW50YWluIG9yaWdpbmFsIG9yZGVyXG5cdFx0XHRyZXR1cm4gc29ydElucHV0ID9cblx0XHRcdFx0KCBpbmRleE9mKCBzb3J0SW5wdXQsIGEgKSAtIGluZGV4T2YoIHNvcnRJbnB1dCwgYiApICkgOlxuXHRcdFx0XHQwO1xuXHRcdH1cblxuXHRcdHJldHVybiBjb21wYXJlICYgNCA/IC0xIDogMTtcblx0fSA6XG5cdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdC8vIEV4aXQgZWFybHkgaWYgdGhlIG5vZGVzIGFyZSBpZGVudGljYWxcblx0XHRpZiAoIGEgPT09IGIgKSB7XG5cdFx0XHRoYXNEdXBsaWNhdGUgPSB0cnVlO1xuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fVxuXG5cdFx0dmFyIGN1cixcblx0XHRcdGkgPSAwLFxuXHRcdFx0YXVwID0gYS5wYXJlbnROb2RlLFxuXHRcdFx0YnVwID0gYi5wYXJlbnROb2RlLFxuXHRcdFx0YXAgPSBbIGEgXSxcblx0XHRcdGJwID0gWyBiIF07XG5cblx0XHQvLyBQYXJlbnRsZXNzIG5vZGVzIGFyZSBlaXRoZXIgZG9jdW1lbnRzIG9yIGRpc2Nvbm5lY3RlZFxuXHRcdGlmICggIWF1cCB8fCAhYnVwICkge1xuXHRcdFx0cmV0dXJuIGEgPT09IGRvY3VtZW50ID8gLTEgOlxuXHRcdFx0XHRiID09PSBkb2N1bWVudCA/IDEgOlxuXHRcdFx0XHRhdXAgPyAtMSA6XG5cdFx0XHRcdGJ1cCA/IDEgOlxuXHRcdFx0XHRzb3J0SW5wdXQgP1xuXHRcdFx0XHQoIGluZGV4T2YoIHNvcnRJbnB1dCwgYSApIC0gaW5kZXhPZiggc29ydElucHV0LCBiICkgKSA6XG5cdFx0XHRcdDA7XG5cblx0XHQvLyBJZiB0aGUgbm9kZXMgYXJlIHNpYmxpbmdzLCB3ZSBjYW4gZG8gYSBxdWljayBjaGVja1xuXHRcdH0gZWxzZSBpZiAoIGF1cCA9PT0gYnVwICkge1xuXHRcdFx0cmV0dXJuIHNpYmxpbmdDaGVjayggYSwgYiApO1xuXHRcdH1cblxuXHRcdC8vIE90aGVyd2lzZSB3ZSBuZWVkIGZ1bGwgbGlzdHMgb2YgdGhlaXIgYW5jZXN0b3JzIGZvciBjb21wYXJpc29uXG5cdFx0Y3VyID0gYTtcblx0XHR3aGlsZSAoIChjdXIgPSBjdXIucGFyZW50Tm9kZSkgKSB7XG5cdFx0XHRhcC51bnNoaWZ0KCBjdXIgKTtcblx0XHR9XG5cdFx0Y3VyID0gYjtcblx0XHR3aGlsZSAoIChjdXIgPSBjdXIucGFyZW50Tm9kZSkgKSB7XG5cdFx0XHRicC51bnNoaWZ0KCBjdXIgKTtcblx0XHR9XG5cblx0XHQvLyBXYWxrIGRvd24gdGhlIHRyZWUgbG9va2luZyBmb3IgYSBkaXNjcmVwYW5jeVxuXHRcdHdoaWxlICggYXBbaV0gPT09IGJwW2ldICkge1xuXHRcdFx0aSsrO1xuXHRcdH1cblxuXHRcdHJldHVybiBpID9cblx0XHRcdC8vIERvIGEgc2libGluZyBjaGVjayBpZiB0aGUgbm9kZXMgaGF2ZSBhIGNvbW1vbiBhbmNlc3RvclxuXHRcdFx0c2libGluZ0NoZWNrKCBhcFtpXSwgYnBbaV0gKSA6XG5cblx0XHRcdC8vIE90aGVyd2lzZSBub2RlcyBpbiBvdXIgZG9jdW1lbnQgc29ydCBmaXJzdFxuXHRcdFx0YXBbaV0gPT09IHByZWZlcnJlZERvYyA/IC0xIDpcblx0XHRcdGJwW2ldID09PSBwcmVmZXJyZWREb2MgPyAxIDpcblx0XHRcdDA7XG5cdH07XG5cblx0cmV0dXJuIGRvY3VtZW50O1xufTtcblxuU2l6emxlLm1hdGNoZXMgPSBmdW5jdGlvbiggZXhwciwgZWxlbWVudHMgKSB7XG5cdHJldHVybiBTaXp6bGUoIGV4cHIsIG51bGwsIG51bGwsIGVsZW1lbnRzICk7XG59O1xuXG5TaXp6bGUubWF0Y2hlc1NlbGVjdG9yID0gZnVuY3Rpb24oIGVsZW0sIGV4cHIgKSB7XG5cdC8vIFNldCBkb2N1bWVudCB2YXJzIGlmIG5lZWRlZFxuXHRpZiAoICggZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0gKSAhPT0gZG9jdW1lbnQgKSB7XG5cdFx0c2V0RG9jdW1lbnQoIGVsZW0gKTtcblx0fVxuXG5cdC8vIE1ha2Ugc3VyZSB0aGF0IGF0dHJpYnV0ZSBzZWxlY3RvcnMgYXJlIHF1b3RlZFxuXHRleHByID0gZXhwci5yZXBsYWNlKCByYXR0cmlidXRlUXVvdGVzLCBcIj0nJDEnXVwiICk7XG5cblx0aWYgKCBzdXBwb3J0Lm1hdGNoZXNTZWxlY3RvciAmJiBkb2N1bWVudElzSFRNTCAmJlxuXHRcdCFjb21waWxlckNhY2hlWyBleHByICsgXCIgXCIgXSAmJlxuXHRcdCggIXJidWdneU1hdGNoZXMgfHwgIXJidWdneU1hdGNoZXMudGVzdCggZXhwciApICkgJiZcblx0XHQoICFyYnVnZ3lRU0EgICAgIHx8ICFyYnVnZ3lRU0EudGVzdCggZXhwciApICkgKSB7XG5cblx0XHR0cnkge1xuXHRcdFx0dmFyIHJldCA9IG1hdGNoZXMuY2FsbCggZWxlbSwgZXhwciApO1xuXG5cdFx0XHQvLyBJRSA5J3MgbWF0Y2hlc1NlbGVjdG9yIHJldHVybnMgZmFsc2Ugb24gZGlzY29ubmVjdGVkIG5vZGVzXG5cdFx0XHRpZiAoIHJldCB8fCBzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoIHx8XG5cdFx0XHRcdFx0Ly8gQXMgd2VsbCwgZGlzY29ubmVjdGVkIG5vZGVzIGFyZSBzYWlkIHRvIGJlIGluIGEgZG9jdW1lbnRcblx0XHRcdFx0XHQvLyBmcmFnbWVudCBpbiBJRSA5XG5cdFx0XHRcdFx0ZWxlbS5kb2N1bWVudCAmJiBlbGVtLmRvY3VtZW50Lm5vZGVUeXBlICE9PSAxMSApIHtcblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7fVxuXHR9XG5cblx0cmV0dXJuIFNpenpsZSggZXhwciwgZG9jdW1lbnQsIG51bGwsIFsgZWxlbSBdICkubGVuZ3RoID4gMDtcbn07XG5cblNpenpsZS5jb250YWlucyA9IGZ1bmN0aW9uKCBjb250ZXh0LCBlbGVtICkge1xuXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0aWYgKCAoIGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0ICkgIT09IGRvY3VtZW50ICkge1xuXHRcdHNldERvY3VtZW50KCBjb250ZXh0ICk7XG5cdH1cblx0cmV0dXJuIGNvbnRhaW5zKCBjb250ZXh0LCBlbGVtICk7XG59O1xuXG5TaXp6bGUuYXR0ciA9IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0aWYgKCAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtICkgIT09IGRvY3VtZW50ICkge1xuXHRcdHNldERvY3VtZW50KCBlbGVtICk7XG5cdH1cblxuXHR2YXIgZm4gPSBFeHByLmF0dHJIYW5kbGVbIG5hbWUudG9Mb3dlckNhc2UoKSBdLFxuXHRcdC8vIERvbid0IGdldCBmb29sZWQgYnkgT2JqZWN0LnByb3RvdHlwZSBwcm9wZXJ0aWVzIChqUXVlcnkgIzEzODA3KVxuXHRcdHZhbCA9IGZuICYmIGhhc093bi5jYWxsKCBFeHByLmF0dHJIYW5kbGUsIG5hbWUudG9Mb3dlckNhc2UoKSApID9cblx0XHRcdGZuKCBlbGVtLCBuYW1lLCAhZG9jdW1lbnRJc0hUTUwgKSA6XG5cdFx0XHR1bmRlZmluZWQ7XG5cblx0cmV0dXJuIHZhbCAhPT0gdW5kZWZpbmVkID9cblx0XHR2YWwgOlxuXHRcdHN1cHBvcnQuYXR0cmlidXRlcyB8fCAhZG9jdW1lbnRJc0hUTUwgP1xuXHRcdFx0ZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUgKSA6XG5cdFx0XHQodmFsID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKG5hbWUpKSAmJiB2YWwuc3BlY2lmaWVkID9cblx0XHRcdFx0dmFsLnZhbHVlIDpcblx0XHRcdFx0bnVsbDtcbn07XG5cblNpenpsZS5lc2NhcGUgPSBmdW5jdGlvbiggc2VsICkge1xuXHRyZXR1cm4gKHNlbCArIFwiXCIpLnJlcGxhY2UoIHJjc3Nlc2NhcGUsIGZjc3Nlc2NhcGUgKTtcbn07XG5cblNpenpsZS5lcnJvciA9IGZ1bmN0aW9uKCBtc2cgKSB7XG5cdHRocm93IG5ldyBFcnJvciggXCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiBcIiArIG1zZyApO1xufTtcblxuLyoqXG4gKiBEb2N1bWVudCBzb3J0aW5nIGFuZCByZW1vdmluZyBkdXBsaWNhdGVzXG4gKiBAcGFyYW0ge0FycmF5TGlrZX0gcmVzdWx0c1xuICovXG5TaXp6bGUudW5pcXVlU29ydCA9IGZ1bmN0aW9uKCByZXN1bHRzICkge1xuXHR2YXIgZWxlbSxcblx0XHRkdXBsaWNhdGVzID0gW10sXG5cdFx0aiA9IDAsXG5cdFx0aSA9IDA7XG5cblx0Ly8gVW5sZXNzIHdlICprbm93KiB3ZSBjYW4gZGV0ZWN0IGR1cGxpY2F0ZXMsIGFzc3VtZSB0aGVpciBwcmVzZW5jZVxuXHRoYXNEdXBsaWNhdGUgPSAhc3VwcG9ydC5kZXRlY3REdXBsaWNhdGVzO1xuXHRzb3J0SW5wdXQgPSAhc3VwcG9ydC5zb3J0U3RhYmxlICYmIHJlc3VsdHMuc2xpY2UoIDAgKTtcblx0cmVzdWx0cy5zb3J0KCBzb3J0T3JkZXIgKTtcblxuXHRpZiAoIGhhc0R1cGxpY2F0ZSApIHtcblx0XHR3aGlsZSAoIChlbGVtID0gcmVzdWx0c1tpKytdKSApIHtcblx0XHRcdGlmICggZWxlbSA9PT0gcmVzdWx0c1sgaSBdICkge1xuXHRcdFx0XHRqID0gZHVwbGljYXRlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0cmVzdWx0cy5zcGxpY2UoIGR1cGxpY2F0ZXNbIGogXSwgMSApO1xuXHRcdH1cblx0fVxuXG5cdC8vIENsZWFyIGlucHV0IGFmdGVyIHNvcnRpbmcgdG8gcmVsZWFzZSBvYmplY3RzXG5cdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L3NpenpsZS9wdWxsLzIyNVxuXHRzb3J0SW5wdXQgPSBudWxsO1xuXG5cdHJldHVybiByZXN1bHRzO1xufTtcblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIGZvciByZXRyaWV2aW5nIHRoZSB0ZXh0IHZhbHVlIG9mIGFuIGFycmF5IG9mIERPTSBub2Rlc1xuICogQHBhcmFtIHtBcnJheXxFbGVtZW50fSBlbGVtXG4gKi9cbmdldFRleHQgPSBTaXp6bGUuZ2V0VGV4dCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHR2YXIgbm9kZSxcblx0XHRyZXQgPSBcIlwiLFxuXHRcdGkgPSAwLFxuXHRcdG5vZGVUeXBlID0gZWxlbS5ub2RlVHlwZTtcblxuXHRpZiAoICFub2RlVHlwZSApIHtcblx0XHQvLyBJZiBubyBub2RlVHlwZSwgdGhpcyBpcyBleHBlY3RlZCB0byBiZSBhbiBhcnJheVxuXHRcdHdoaWxlICggKG5vZGUgPSBlbGVtW2krK10pICkge1xuXHRcdFx0Ly8gRG8gbm90IHRyYXZlcnNlIGNvbW1lbnQgbm9kZXNcblx0XHRcdHJldCArPSBnZXRUZXh0KCBub2RlICk7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKCBub2RlVHlwZSA9PT0gMSB8fCBub2RlVHlwZSA9PT0gOSB8fCBub2RlVHlwZSA9PT0gMTEgKSB7XG5cdFx0Ly8gVXNlIHRleHRDb250ZW50IGZvciBlbGVtZW50c1xuXHRcdC8vIGlubmVyVGV4dCB1c2FnZSByZW1vdmVkIGZvciBjb25zaXN0ZW5jeSBvZiBuZXcgbGluZXMgKGpRdWVyeSAjMTExNTMpXG5cdFx0aWYgKCB0eXBlb2YgZWxlbS50ZXh0Q29udGVudCA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiBlbGVtLnRleHRDb250ZW50O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBUcmF2ZXJzZSBpdHMgY2hpbGRyZW5cblx0XHRcdGZvciAoIGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7IGVsZW07IGVsZW0gPSBlbGVtLm5leHRTaWJsaW5nICkge1xuXHRcdFx0XHRyZXQgKz0gZ2V0VGV4dCggZWxlbSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDMgfHwgbm9kZVR5cGUgPT09IDQgKSB7XG5cdFx0cmV0dXJuIGVsZW0ubm9kZVZhbHVlO1xuXHR9XG5cdC8vIERvIG5vdCBpbmNsdWRlIGNvbW1lbnQgb3IgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiBub2Rlc1xuXG5cdHJldHVybiByZXQ7XG59O1xuXG5FeHByID0gU2l6emxlLnNlbGVjdG9ycyA9IHtcblxuXHQvLyBDYW4gYmUgYWRqdXN0ZWQgYnkgdGhlIHVzZXJcblx0Y2FjaGVMZW5ndGg6IDUwLFxuXG5cdGNyZWF0ZVBzZXVkbzogbWFya0Z1bmN0aW9uLFxuXG5cdG1hdGNoOiBtYXRjaEV4cHIsXG5cblx0YXR0ckhhbmRsZToge30sXG5cblx0ZmluZDoge30sXG5cblx0cmVsYXRpdmU6IHtcblx0XHRcIj5cIjogeyBkaXI6IFwicGFyZW50Tm9kZVwiLCBmaXJzdDogdHJ1ZSB9LFxuXHRcdFwiIFwiOiB7IGRpcjogXCJwYXJlbnROb2RlXCIgfSxcblx0XHRcIitcIjogeyBkaXI6IFwicHJldmlvdXNTaWJsaW5nXCIsIGZpcnN0OiB0cnVlIH0sXG5cdFx0XCJ+XCI6IHsgZGlyOiBcInByZXZpb3VzU2libGluZ1wiIH1cblx0fSxcblxuXHRwcmVGaWx0ZXI6IHtcblx0XHRcIkFUVFJcIjogZnVuY3Rpb24oIG1hdGNoICkge1xuXHRcdFx0bWF0Y2hbMV0gPSBtYXRjaFsxXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXG5cdFx0XHQvLyBNb3ZlIHRoZSBnaXZlbiB2YWx1ZSB0byBtYXRjaFszXSB3aGV0aGVyIHF1b3RlZCBvciB1bnF1b3RlZFxuXHRcdFx0bWF0Y2hbM10gPSAoIG1hdGNoWzNdIHx8IG1hdGNoWzRdIHx8IG1hdGNoWzVdIHx8IFwiXCIgKS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXG5cdFx0XHRpZiAoIG1hdGNoWzJdID09PSBcIn49XCIgKSB7XG5cdFx0XHRcdG1hdGNoWzNdID0gXCIgXCIgKyBtYXRjaFszXSArIFwiIFwiO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbWF0Y2guc2xpY2UoIDAsIDQgKTtcblx0XHR9LFxuXG5cdFx0XCJDSElMRFwiOiBmdW5jdGlvbiggbWF0Y2ggKSB7XG5cdFx0XHQvKiBtYXRjaGVzIGZyb20gbWF0Y2hFeHByW1wiQ0hJTERcIl1cblx0XHRcdFx0MSB0eXBlIChvbmx5fG50aHwuLi4pXG5cdFx0XHRcdDIgd2hhdCAoY2hpbGR8b2YtdHlwZSlcblx0XHRcdFx0MyBhcmd1bWVudCAoZXZlbnxvZGR8XFxkKnxcXGQqbihbKy1dXFxkKyk/fC4uLilcblx0XHRcdFx0NCB4bi1jb21wb25lbnQgb2YgeG4reSBhcmd1bWVudCAoWystXT9cXGQqbnwpXG5cdFx0XHRcdDUgc2lnbiBvZiB4bi1jb21wb25lbnRcblx0XHRcdFx0NiB4IG9mIHhuLWNvbXBvbmVudFxuXHRcdFx0XHQ3IHNpZ24gb2YgeS1jb21wb25lbnRcblx0XHRcdFx0OCB5IG9mIHktY29tcG9uZW50XG5cdFx0XHQqL1xuXHRcdFx0bWF0Y2hbMV0gPSBtYXRjaFsxXS50b0xvd2VyQ2FzZSgpO1xuXG5cdFx0XHRpZiAoIG1hdGNoWzFdLnNsaWNlKCAwLCAzICkgPT09IFwibnRoXCIgKSB7XG5cdFx0XHRcdC8vIG50aC0qIHJlcXVpcmVzIGFyZ3VtZW50XG5cdFx0XHRcdGlmICggIW1hdGNoWzNdICkge1xuXHRcdFx0XHRcdFNpenpsZS5lcnJvciggbWF0Y2hbMF0gKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIG51bWVyaWMgeCBhbmQgeSBwYXJhbWV0ZXJzIGZvciBFeHByLmZpbHRlci5DSElMRFxuXHRcdFx0XHQvLyByZW1lbWJlciB0aGF0IGZhbHNlL3RydWUgY2FzdCByZXNwZWN0aXZlbHkgdG8gMC8xXG5cdFx0XHRcdG1hdGNoWzRdID0gKyggbWF0Y2hbNF0gPyBtYXRjaFs1XSArIChtYXRjaFs2XSB8fCAxKSA6IDIgKiAoIG1hdGNoWzNdID09PSBcImV2ZW5cIiB8fCBtYXRjaFszXSA9PT0gXCJvZGRcIiApICk7XG5cdFx0XHRcdG1hdGNoWzVdID0gKyggKCBtYXRjaFs3XSArIG1hdGNoWzhdICkgfHwgbWF0Y2hbM10gPT09IFwib2RkXCIgKTtcblxuXHRcdFx0Ly8gb3RoZXIgdHlwZXMgcHJvaGliaXQgYXJndW1lbnRzXG5cdFx0XHR9IGVsc2UgaWYgKCBtYXRjaFszXSApIHtcblx0XHRcdFx0U2l6emxlLmVycm9yKCBtYXRjaFswXSApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbWF0Y2g7XG5cdFx0fSxcblxuXHRcdFwiUFNFVURPXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcblx0XHRcdHZhciBleGNlc3MsXG5cdFx0XHRcdHVucXVvdGVkID0gIW1hdGNoWzZdICYmIG1hdGNoWzJdO1xuXG5cdFx0XHRpZiAoIG1hdGNoRXhwcltcIkNISUxEXCJdLnRlc3QoIG1hdGNoWzBdICkgKSB7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBY2NlcHQgcXVvdGVkIGFyZ3VtZW50cyBhcy1pc1xuXHRcdFx0aWYgKCBtYXRjaFszXSApIHtcblx0XHRcdFx0bWF0Y2hbMl0gPSBtYXRjaFs0XSB8fCBtYXRjaFs1XSB8fCBcIlwiO1xuXG5cdFx0XHQvLyBTdHJpcCBleGNlc3MgY2hhcmFjdGVycyBmcm9tIHVucXVvdGVkIGFyZ3VtZW50c1xuXHRcdFx0fSBlbHNlIGlmICggdW5xdW90ZWQgJiYgcnBzZXVkby50ZXN0KCB1bnF1b3RlZCApICYmXG5cdFx0XHRcdC8vIEdldCBleGNlc3MgZnJvbSB0b2tlbml6ZSAocmVjdXJzaXZlbHkpXG5cdFx0XHRcdChleGNlc3MgPSB0b2tlbml6ZSggdW5xdW90ZWQsIHRydWUgKSkgJiZcblx0XHRcdFx0Ly8gYWR2YW5jZSB0byB0aGUgbmV4dCBjbG9zaW5nIHBhcmVudGhlc2lzXG5cdFx0XHRcdChleGNlc3MgPSB1bnF1b3RlZC5pbmRleE9mKCBcIilcIiwgdW5xdW90ZWQubGVuZ3RoIC0gZXhjZXNzICkgLSB1bnF1b3RlZC5sZW5ndGgpICkge1xuXG5cdFx0XHRcdC8vIGV4Y2VzcyBpcyBhIG5lZ2F0aXZlIGluZGV4XG5cdFx0XHRcdG1hdGNoWzBdID0gbWF0Y2hbMF0uc2xpY2UoIDAsIGV4Y2VzcyApO1xuXHRcdFx0XHRtYXRjaFsyXSA9IHVucXVvdGVkLnNsaWNlKCAwLCBleGNlc3MgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmV0dXJuIG9ubHkgY2FwdHVyZXMgbmVlZGVkIGJ5IHRoZSBwc2V1ZG8gZmlsdGVyIG1ldGhvZCAodHlwZSBhbmQgYXJndW1lbnQpXG5cdFx0XHRyZXR1cm4gbWF0Y2guc2xpY2UoIDAsIDMgKTtcblx0XHR9XG5cdH0sXG5cblx0ZmlsdGVyOiB7XG5cblx0XHRcIlRBR1wiOiBmdW5jdGlvbiggbm9kZU5hbWVTZWxlY3RvciApIHtcblx0XHRcdHZhciBub2RlTmFtZSA9IG5vZGVOYW1lU2VsZWN0b3IucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIG5vZGVOYW1lU2VsZWN0b3IgPT09IFwiKlwiID9cblx0XHRcdFx0ZnVuY3Rpb24oKSB7IHJldHVybiB0cnVlOyB9IDpcblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBub2RlTmFtZTtcblx0XHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0XCJDTEFTU1wiOiBmdW5jdGlvbiggY2xhc3NOYW1lICkge1xuXHRcdFx0dmFyIHBhdHRlcm4gPSBjbGFzc0NhY2hlWyBjbGFzc05hbWUgKyBcIiBcIiBdO1xuXG5cdFx0XHRyZXR1cm4gcGF0dGVybiB8fFxuXHRcdFx0XHQocGF0dGVybiA9IG5ldyBSZWdFeHAoIFwiKF58XCIgKyB3aGl0ZXNwYWNlICsgXCIpXCIgKyBjbGFzc05hbWUgKyBcIihcIiArIHdoaXRlc3BhY2UgKyBcInwkKVwiICkpICYmXG5cdFx0XHRcdGNsYXNzQ2FjaGUoIGNsYXNzTmFtZSwgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHBhdHRlcm4udGVzdCggdHlwZW9mIGVsZW0uY2xhc3NOYW1lID09PSBcInN0cmluZ1wiICYmIGVsZW0uY2xhc3NOYW1lIHx8IHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBlbGVtLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpIHx8IFwiXCIgKTtcblx0XHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdFwiQVRUUlwiOiBmdW5jdGlvbiggbmFtZSwgb3BlcmF0b3IsIGNoZWNrICkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgcmVzdWx0ID0gU2l6emxlLmF0dHIoIGVsZW0sIG5hbWUgKTtcblxuXHRcdFx0XHRpZiAoIHJlc3VsdCA9PSBudWxsICkge1xuXHRcdFx0XHRcdHJldHVybiBvcGVyYXRvciA9PT0gXCIhPVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggIW9wZXJhdG9yICkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmVzdWx0ICs9IFwiXCI7XG5cblx0XHRcdFx0cmV0dXJuIG9wZXJhdG9yID09PSBcIj1cIiA/IHJlc3VsdCA9PT0gY2hlY2sgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIiE9XCIgPyByZXN1bHQgIT09IGNoZWNrIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCJePVwiID8gY2hlY2sgJiYgcmVzdWx0LmluZGV4T2YoIGNoZWNrICkgPT09IDAgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIio9XCIgPyBjaGVjayAmJiByZXN1bHQuaW5kZXhPZiggY2hlY2sgKSA+IC0xIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIkPVwiID8gY2hlY2sgJiYgcmVzdWx0LnNsaWNlKCAtY2hlY2subGVuZ3RoICkgPT09IGNoZWNrIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCJ+PVwiID8gKCBcIiBcIiArIHJlc3VsdC5yZXBsYWNlKCByd2hpdGVzcGFjZSwgXCIgXCIgKSArIFwiIFwiICkuaW5kZXhPZiggY2hlY2sgKSA+IC0xIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCJ8PVwiID8gcmVzdWx0ID09PSBjaGVjayB8fCByZXN1bHQuc2xpY2UoIDAsIGNoZWNrLmxlbmd0aCArIDEgKSA9PT0gY2hlY2sgKyBcIi1cIiA6XG5cdFx0XHRcdFx0ZmFsc2U7XG5cdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRcIkNISUxEXCI6IGZ1bmN0aW9uKCB0eXBlLCB3aGF0LCBhcmd1bWVudCwgZmlyc3QsIGxhc3QgKSB7XG5cdFx0XHR2YXIgc2ltcGxlID0gdHlwZS5zbGljZSggMCwgMyApICE9PSBcIm50aFwiLFxuXHRcdFx0XHRmb3J3YXJkID0gdHlwZS5zbGljZSggLTQgKSAhPT0gXCJsYXN0XCIsXG5cdFx0XHRcdG9mVHlwZSA9IHdoYXQgPT09IFwib2YtdHlwZVwiO1xuXG5cdFx0XHRyZXR1cm4gZmlyc3QgPT09IDEgJiYgbGFzdCA9PT0gMCA/XG5cblx0XHRcdFx0Ly8gU2hvcnRjdXQgZm9yIDpudGgtKihuKVxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRyZXR1cm4gISFlbGVtLnBhcmVudE5vZGU7XG5cdFx0XHRcdH0gOlxuXG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHRcdFx0dmFyIGNhY2hlLCB1bmlxdWVDYWNoZSwgb3V0ZXJDYWNoZSwgbm9kZSwgbm9kZUluZGV4LCBzdGFydCxcblx0XHRcdFx0XHRcdGRpciA9IHNpbXBsZSAhPT0gZm9yd2FyZCA/IFwibmV4dFNpYmxpbmdcIiA6IFwicHJldmlvdXNTaWJsaW5nXCIsXG5cdFx0XHRcdFx0XHRwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGUsXG5cdFx0XHRcdFx0XHRuYW1lID0gb2ZUeXBlICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcblx0XHRcdFx0XHRcdHVzZUNhY2hlID0gIXhtbCAmJiAhb2ZUeXBlLFxuXHRcdFx0XHRcdFx0ZGlmZiA9IGZhbHNlO1xuXG5cdFx0XHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cblx0XHRcdFx0XHRcdC8vIDooZmlyc3R8bGFzdHxvbmx5KS0oY2hpbGR8b2YtdHlwZSlcblx0XHRcdFx0XHRcdGlmICggc2ltcGxlICkge1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoIGRpciApIHtcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbTtcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoIChub2RlID0gbm9kZVsgZGlyIF0pICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBvZlR5cGUgP1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUgOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVUeXBlID09PSAxICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0Ly8gUmV2ZXJzZSBkaXJlY3Rpb24gZm9yIDpvbmx5LSogKGlmIHdlIGhhdmVuJ3QgeWV0IGRvbmUgc28pXG5cdFx0XHRcdFx0XHRcdFx0c3RhcnQgPSBkaXIgPSB0eXBlID09PSBcIm9ubHlcIiAmJiAhc3RhcnQgJiYgXCJuZXh0U2libGluZ1wiO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRzdGFydCA9IFsgZm9yd2FyZCA/IHBhcmVudC5maXJzdENoaWxkIDogcGFyZW50Lmxhc3RDaGlsZCBdO1xuXG5cdFx0XHRcdFx0XHQvLyBub24teG1sIDpudGgtY2hpbGQoLi4uKSBzdG9yZXMgY2FjaGUgZGF0YSBvbiBgcGFyZW50YFxuXHRcdFx0XHRcdFx0aWYgKCBmb3J3YXJkICYmIHVzZUNhY2hlICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIFNlZWsgYGVsZW1gIGZyb20gYSBwcmV2aW91c2x5LWNhY2hlZCBpbmRleFxuXG5cdFx0XHRcdFx0XHRcdC8vIC4uLmluIGEgZ3ppcC1mcmllbmRseSB3YXlcblx0XHRcdFx0XHRcdFx0bm9kZSA9IHBhcmVudDtcblx0XHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IG5vZGVbIGV4cGFuZG8gXSB8fCAobm9kZVsgZXhwYW5kbyBdID0ge30pO1xuXG5cdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0KG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHRjYWNoZSA9IHVuaXF1ZUNhY2hlWyB0eXBlIF0gfHwgW107XG5cdFx0XHRcdFx0XHRcdG5vZGVJbmRleCA9IGNhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgY2FjaGVbIDEgXTtcblx0XHRcdFx0XHRcdFx0ZGlmZiA9IG5vZGVJbmRleCAmJiBjYWNoZVsgMiBdO1xuXHRcdFx0XHRcdFx0XHRub2RlID0gbm9kZUluZGV4ICYmIHBhcmVudC5jaGlsZE5vZGVzWyBub2RlSW5kZXggXTtcblxuXHRcdFx0XHRcdFx0XHR3aGlsZSAoIChub2RlID0gKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlWyBkaXIgXSB8fFxuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gRmFsbGJhY2sgdG8gc2Vla2luZyBgZWxlbWAgZnJvbSB0aGUgc3RhcnRcblx0XHRcdFx0XHRcdFx0XHQoZGlmZiA9IG5vZGVJbmRleCA9IDApIHx8IHN0YXJ0LnBvcCgpKSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFdoZW4gZm91bmQsIGNhY2hlIGluZGV4ZXMgb24gYHBhcmVudGAgYW5kIGJyZWFrXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBub2RlLm5vZGVUeXBlID09PSAxICYmICsrZGlmZiAmJiBub2RlID09PSBlbGVtICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGVbIHR5cGUgXSA9IFsgZGlycnVucywgbm9kZUluZGV4LCBkaWZmIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly8gVXNlIHByZXZpb3VzbHktY2FjaGVkIGVsZW1lbnQgaW5kZXggaWYgYXZhaWxhYmxlXG5cdFx0XHRcdFx0XHRcdGlmICggdXNlQ2FjaGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gLi4uaW4gYSBnemlwLWZyaWVuZGx5IHdheVxuXHRcdFx0XHRcdFx0XHRcdG5vZGUgPSBlbGVtO1xuXHRcdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHwgKG5vZGVbIGV4cGFuZG8gXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdFx0XHQvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gtMTcwOSlcblx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0KG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhY2hlID0gdW5pcXVlQ2FjaGVbIHR5cGUgXSB8fCBbXTtcblx0XHRcdFx0XHRcdFx0XHRub2RlSW5kZXggPSBjYWNoZVsgMCBdID09PSBkaXJydW5zICYmIGNhY2hlWyAxIF07XG5cdFx0XHRcdFx0XHRcdFx0ZGlmZiA9IG5vZGVJbmRleDtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdC8vIHhtbCA6bnRoLWNoaWxkKC4uLilcblx0XHRcdFx0XHRcdFx0Ly8gb3IgOm50aC1sYXN0LWNoaWxkKC4uLikgb3IgOm50aCgtbGFzdCk/LW9mLXR5cGUoLi4uKVxuXHRcdFx0XHRcdFx0XHRpZiAoIGRpZmYgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIFVzZSB0aGUgc2FtZSBsb29wIGFzIGFib3ZlIHRvIHNlZWsgYGVsZW1gIGZyb20gdGhlIHN0YXJ0XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKCAobm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVsgZGlyIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdChkaWZmID0gbm9kZUluZGV4ID0gMCkgfHwgc3RhcnQucG9wKCkpICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoICggb2ZUeXBlID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lIDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlVHlwZSA9PT0gMSApICYmXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCsrZGlmZiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBDYWNoZSB0aGUgaW5kZXggb2YgZWFjaCBlbmNvdW50ZXJlZCBlbGVtZW50XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggdXNlQ2FjaGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IG5vZGVbIGV4cGFuZG8gXSB8fCAobm9kZVsgZXhwYW5kbyBdID0ge30pO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPDkgb25seVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQob3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdID0ge30pO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGVbIHR5cGUgXSA9IFsgZGlycnVucywgZGlmZiBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBub2RlID09PSBlbGVtICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIEluY29ycG9yYXRlIHRoZSBvZmZzZXQsIHRoZW4gY2hlY2sgYWdhaW5zdCBjeWNsZSBzaXplXG5cdFx0XHRcdFx0XHRkaWZmIC09IGxhc3Q7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZGlmZiA9PT0gZmlyc3QgfHwgKCBkaWZmICUgZmlyc3QgPT09IDAgJiYgZGlmZiAvIGZpcnN0ID49IDAgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0fSxcblxuXHRcdFwiUFNFVURPXCI6IGZ1bmN0aW9uKCBwc2V1ZG8sIGFyZ3VtZW50ICkge1xuXHRcdFx0Ly8gcHNldWRvLWNsYXNzIG5hbWVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlXG5cdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI3BzZXVkby1jbGFzc2VzXG5cdFx0XHQvLyBQcmlvcml0aXplIGJ5IGNhc2Ugc2Vuc2l0aXZpdHkgaW4gY2FzZSBjdXN0b20gcHNldWRvcyBhcmUgYWRkZWQgd2l0aCB1cHBlcmNhc2UgbGV0dGVyc1xuXHRcdFx0Ly8gUmVtZW1iZXIgdGhhdCBzZXRGaWx0ZXJzIGluaGVyaXRzIGZyb20gcHNldWRvc1xuXHRcdFx0dmFyIGFyZ3MsXG5cdFx0XHRcdGZuID0gRXhwci5wc2V1ZG9zWyBwc2V1ZG8gXSB8fCBFeHByLnNldEZpbHRlcnNbIHBzZXVkby50b0xvd2VyQ2FzZSgpIF0gfHxcblx0XHRcdFx0XHRTaXp6bGUuZXJyb3IoIFwidW5zdXBwb3J0ZWQgcHNldWRvOiBcIiArIHBzZXVkbyApO1xuXG5cdFx0XHQvLyBUaGUgdXNlciBtYXkgdXNlIGNyZWF0ZVBzZXVkbyB0byBpbmRpY2F0ZSB0aGF0XG5cdFx0XHQvLyBhcmd1bWVudHMgYXJlIG5lZWRlZCB0byBjcmVhdGUgdGhlIGZpbHRlciBmdW5jdGlvblxuXHRcdFx0Ly8ganVzdCBhcyBTaXp6bGUgZG9lc1xuXHRcdFx0aWYgKCBmblsgZXhwYW5kbyBdICkge1xuXHRcdFx0XHRyZXR1cm4gZm4oIGFyZ3VtZW50ICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEJ1dCBtYWludGFpbiBzdXBwb3J0IGZvciBvbGQgc2lnbmF0dXJlc1xuXHRcdFx0aWYgKCBmbi5sZW5ndGggPiAxICkge1xuXHRcdFx0XHRhcmdzID0gWyBwc2V1ZG8sIHBzZXVkbywgXCJcIiwgYXJndW1lbnQgXTtcblx0XHRcdFx0cmV0dXJuIEV4cHIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eSggcHNldWRvLnRvTG93ZXJDYXNlKCkgKSA/XG5cdFx0XHRcdFx0bWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzICkge1xuXHRcdFx0XHRcdFx0dmFyIGlkeCxcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZCA9IGZuKCBzZWVkLCBhcmd1bWVudCApLFxuXHRcdFx0XHRcdFx0XHRpID0gbWF0Y2hlZC5sZW5ndGg7XG5cdFx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdFx0aWR4ID0gaW5kZXhPZiggc2VlZCwgbWF0Y2hlZFtpXSApO1xuXHRcdFx0XHRcdFx0XHRzZWVkWyBpZHggXSA9ICEoIG1hdGNoZXNbIGlkeCBdID0gbWF0Y2hlZFtpXSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pIDpcblx0XHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRcdHJldHVybiBmbiggZWxlbSwgMCwgYXJncyApO1xuXHRcdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBmbjtcblx0XHR9XG5cdH0sXG5cblx0cHNldWRvczoge1xuXHRcdC8vIFBvdGVudGlhbGx5IGNvbXBsZXggcHNldWRvc1xuXHRcdFwibm90XCI6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHQvLyBUcmltIHRoZSBzZWxlY3RvciBwYXNzZWQgdG8gY29tcGlsZVxuXHRcdFx0Ly8gdG8gYXZvaWQgdHJlYXRpbmcgbGVhZGluZyBhbmQgdHJhaWxpbmdcblx0XHRcdC8vIHNwYWNlcyBhcyBjb21iaW5hdG9yc1xuXHRcdFx0dmFyIGlucHV0ID0gW10sXG5cdFx0XHRcdHJlc3VsdHMgPSBbXSxcblx0XHRcdFx0bWF0Y2hlciA9IGNvbXBpbGUoIHNlbGVjdG9yLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSApO1xuXG5cdFx0XHRyZXR1cm4gbWF0Y2hlclsgZXhwYW5kbyBdID9cblx0XHRcdFx0bWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHRcdFx0dmFyIGVsZW0sXG5cdFx0XHRcdFx0XHR1bm1hdGNoZWQgPSBtYXRjaGVyKCBzZWVkLCBudWxsLCB4bWwsIFtdICksXG5cdFx0XHRcdFx0XHRpID0gc2VlZC5sZW5ndGg7XG5cblx0XHRcdFx0XHQvLyBNYXRjaCBlbGVtZW50cyB1bm1hdGNoZWQgYnkgYG1hdGNoZXJgXG5cdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRpZiAoIChlbGVtID0gdW5tYXRjaGVkW2ldKSApIHtcblx0XHRcdFx0XHRcdFx0c2VlZFtpXSA9ICEobWF0Y2hlc1tpXSA9IGVsZW0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSkgOlxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdGlucHV0WzBdID0gZWxlbTtcblx0XHRcdFx0XHRtYXRjaGVyKCBpbnB1dCwgbnVsbCwgeG1sLCByZXN1bHRzICk7XG5cdFx0XHRcdFx0Ly8gRG9uJ3Qga2VlcCB0aGUgZWxlbWVudCAoaXNzdWUgIzI5OSlcblx0XHRcdFx0XHRpbnB1dFswXSA9IG51bGw7XG5cdFx0XHRcdFx0cmV0dXJuICFyZXN1bHRzLnBvcCgpO1xuXHRcdFx0XHR9O1xuXHRcdH0pLFxuXG5cdFx0XCJoYXNcIjogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIFNpenpsZSggc2VsZWN0b3IsIGVsZW0gKS5sZW5ndGggPiAwO1xuXHRcdFx0fTtcblx0XHR9KSxcblxuXHRcdFwiY29udGFpbnNcIjogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRcdFx0dGV4dCA9IHRleHQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuICggZWxlbS50ZXh0Q29udGVudCB8fCBlbGVtLmlubmVyVGV4dCB8fCBnZXRUZXh0KCBlbGVtICkgKS5pbmRleE9mKCB0ZXh0ICkgPiAtMTtcblx0XHRcdH07XG5cdFx0fSksXG5cblx0XHQvLyBcIldoZXRoZXIgYW4gZWxlbWVudCBpcyByZXByZXNlbnRlZCBieSBhIDpsYW5nKCkgc2VsZWN0b3Jcblx0XHQvLyBpcyBiYXNlZCBzb2xlbHkgb24gdGhlIGVsZW1lbnQncyBsYW5ndWFnZSB2YWx1ZVxuXHRcdC8vIGJlaW5nIGVxdWFsIHRvIHRoZSBpZGVudGlmaWVyIEMsXG5cdFx0Ly8gb3IgYmVnaW5uaW5nIHdpdGggdGhlIGlkZW50aWZpZXIgQyBpbW1lZGlhdGVseSBmb2xsb3dlZCBieSBcIi1cIi5cblx0XHQvLyBUaGUgbWF0Y2hpbmcgb2YgQyBhZ2FpbnN0IHRoZSBlbGVtZW50J3MgbGFuZ3VhZ2UgdmFsdWUgaXMgcGVyZm9ybWVkIGNhc2UtaW5zZW5zaXRpdmVseS5cblx0XHQvLyBUaGUgaWRlbnRpZmllciBDIGRvZXMgbm90IGhhdmUgdG8gYmUgYSB2YWxpZCBsYW5ndWFnZSBuYW1lLlwiXG5cdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNsYW5nLXBzZXVkb1xuXHRcdFwibGFuZ1wiOiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBsYW5nICkge1xuXHRcdFx0Ly8gbGFuZyB2YWx1ZSBtdXN0IGJlIGEgdmFsaWQgaWRlbnRpZmllclxuXHRcdFx0aWYgKCAhcmlkZW50aWZpZXIudGVzdChsYW5nIHx8IFwiXCIpICkge1xuXHRcdFx0XHRTaXp6bGUuZXJyb3IoIFwidW5zdXBwb3J0ZWQgbGFuZzogXCIgKyBsYW5nICk7XG5cdFx0XHR9XG5cdFx0XHRsYW5nID0gbGFuZy5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciBlbGVtTGFuZztcblx0XHRcdFx0ZG8ge1xuXHRcdFx0XHRcdGlmICggKGVsZW1MYW5nID0gZG9jdW1lbnRJc0hUTUwgP1xuXHRcdFx0XHRcdFx0ZWxlbS5sYW5nIDpcblx0XHRcdFx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlKFwieG1sOmxhbmdcIikgfHwgZWxlbS5nZXRBdHRyaWJ1dGUoXCJsYW5nXCIpKSApIHtcblxuXHRcdFx0XHRcdFx0ZWxlbUxhbmcgPSBlbGVtTGFuZy50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW1MYW5nID09PSBsYW5nIHx8IGVsZW1MYW5nLmluZGV4T2YoIGxhbmcgKyBcIi1cIiApID09PSAwO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSB3aGlsZSAoIChlbGVtID0gZWxlbS5wYXJlbnROb2RlKSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH07XG5cdFx0fSksXG5cblx0XHQvLyBNaXNjZWxsYW5lb3VzXG5cdFx0XCJ0YXJnZXRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbiAmJiB3aW5kb3cubG9jYXRpb24uaGFzaDtcblx0XHRcdHJldHVybiBoYXNoICYmIGhhc2guc2xpY2UoIDEgKSA9PT0gZWxlbS5pZDtcblx0XHR9LFxuXG5cdFx0XCJyb290XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0gPT09IGRvY0VsZW07XG5cdFx0fSxcblxuXHRcdFwiZm9jdXNcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbSA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiAoIWRvY3VtZW50Lmhhc0ZvY3VzIHx8IGRvY3VtZW50Lmhhc0ZvY3VzKCkpICYmICEhKGVsZW0udHlwZSB8fCBlbGVtLmhyZWYgfHwgfmVsZW0udGFiSW5kZXgpO1xuXHRcdH0sXG5cblx0XHQvLyBCb29sZWFuIHByb3BlcnRpZXNcblx0XHRcImVuYWJsZWRcIjogY3JlYXRlRGlzYWJsZWRQc2V1ZG8oIGZhbHNlICksXG5cdFx0XCJkaXNhYmxlZFwiOiBjcmVhdGVEaXNhYmxlZFBzZXVkbyggdHJ1ZSApLFxuXG5cdFx0XCJjaGVja2VkXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0Ly8gSW4gQ1NTMywgOmNoZWNrZWQgc2hvdWxkIHJldHVybiBib3RoIGNoZWNrZWQgYW5kIHNlbGVjdGVkIGVsZW1lbnRzXG5cdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDExL1JFQy1jc3MzLXNlbGVjdG9ycy0yMDExMDkyOS8jY2hlY2tlZFxuXHRcdFx0dmFyIG5vZGVOYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIChub2RlTmFtZSA9PT0gXCJpbnB1dFwiICYmICEhZWxlbS5jaGVja2VkKSB8fCAobm9kZU5hbWUgPT09IFwib3B0aW9uXCIgJiYgISFlbGVtLnNlbGVjdGVkKTtcblx0XHR9LFxuXG5cdFx0XCJzZWxlY3RlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdC8vIEFjY2Vzc2luZyB0aGlzIHByb3BlcnR5IG1ha2VzIHNlbGVjdGVkLWJ5LWRlZmF1bHRcblx0XHRcdC8vIG9wdGlvbnMgaW4gU2FmYXJpIHdvcmsgcHJvcGVybHlcblx0XHRcdGlmICggZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRlbGVtLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGVsZW0uc2VsZWN0ZWQgPT09IHRydWU7XG5cdFx0fSxcblxuXHRcdC8vIENvbnRlbnRzXG5cdFx0XCJlbXB0eVwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jZW1wdHktcHNldWRvXG5cdFx0XHQvLyA6ZW1wdHkgaXMgbmVnYXRlZCBieSBlbGVtZW50ICgxKSBvciBjb250ZW50IG5vZGVzICh0ZXh0OiAzOyBjZGF0YTogNDsgZW50aXR5IHJlZjogNSksXG5cdFx0XHQvLyAgIGJ1dCBub3QgYnkgb3RoZXJzIChjb21tZW50OiA4OyBwcm9jZXNzaW5nIGluc3RydWN0aW9uOiA3OyBldGMuKVxuXHRcdFx0Ly8gbm9kZVR5cGUgPCA2IHdvcmtzIGJlY2F1c2UgYXR0cmlidXRlcyAoMikgZG8gbm90IGFwcGVhciBhcyBjaGlsZHJlblxuXHRcdFx0Zm9yICggZWxlbSA9IGVsZW0uZmlyc3RDaGlsZDsgZWxlbTsgZWxlbSA9IGVsZW0ubmV4dFNpYmxpbmcgKSB7XG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA8IDYgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0XCJwYXJlbnRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gIUV4cHIucHNldWRvc1tcImVtcHR5XCJdKCBlbGVtICk7XG5cdFx0fSxcblxuXHRcdC8vIEVsZW1lbnQvaW5wdXQgdHlwZXNcblx0XHRcImhlYWRlclwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiByaGVhZGVyLnRlc3QoIGVsZW0ubm9kZU5hbWUgKTtcblx0XHR9LFxuXG5cdFx0XCJpbnB1dFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiByaW5wdXRzLnRlc3QoIGVsZW0ubm9kZU5hbWUgKTtcblx0XHR9LFxuXG5cdFx0XCJidXR0b25cIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiBuYW1lID09PSBcImlucHV0XCIgJiYgZWxlbS50eXBlID09PSBcImJ1dHRvblwiIHx8IG5hbWUgPT09IFwiYnV0dG9uXCI7XG5cdFx0fSxcblxuXHRcdFwidGV4dFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHZhciBhdHRyO1xuXHRcdFx0cmV0dXJuIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJpbnB1dFwiICYmXG5cdFx0XHRcdGVsZW0udHlwZSA9PT0gXCJ0ZXh0XCIgJiZcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRTw4XG5cdFx0XHRcdC8vIE5ldyBIVE1MNSBhdHRyaWJ1dGUgdmFsdWVzIChlLmcuLCBcInNlYXJjaFwiKSBhcHBlYXIgd2l0aCBlbGVtLnR5cGUgPT09IFwidGV4dFwiXG5cdFx0XHRcdCggKGF0dHIgPSBlbGVtLmdldEF0dHJpYnV0ZShcInR5cGVcIikpID09IG51bGwgfHwgYXR0ci50b0xvd2VyQ2FzZSgpID09PSBcInRleHRcIiApO1xuXHRcdH0sXG5cblx0XHQvLyBQb3NpdGlvbi1pbi1jb2xsZWN0aW9uXG5cdFx0XCJmaXJzdFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIFsgMCBdO1xuXHRcdH0pLFxuXG5cdFx0XCJsYXN0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIFsgbGVuZ3RoIC0gMSBdO1xuXHRcdH0pLFxuXG5cdFx0XCJlcVwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7XG5cdFx0XHRyZXR1cm4gWyBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50IF07XG5cdFx0fSksXG5cblx0XHRcImV2ZW5cIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7XG5cdFx0XHR2YXIgaSA9IDA7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkgKz0gMiApIHtcblx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0fSksXG5cblx0XHRcIm9kZFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcblx0XHRcdHZhciBpID0gMTtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9KSxcblxuXHRcdFwibHRcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0dmFyIGkgPSBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50O1xuXHRcdFx0Zm9yICggOyAtLWkgPj0gMDsgKSB7XG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdH0pLFxuXG5cdFx0XCJndFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7XG5cdFx0XHR2YXIgaSA9IGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQ7XG5cdFx0XHRmb3IgKCA7ICsraSA8IGxlbmd0aDsgKSB7XG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdH0pXG5cdH1cbn07XG5cbkV4cHIucHNldWRvc1tcIm50aFwiXSA9IEV4cHIucHNldWRvc1tcImVxXCJdO1xuXG4vLyBBZGQgYnV0dG9uL2lucHV0IHR5cGUgcHNldWRvc1xuZm9yICggaSBpbiB7IHJhZGlvOiB0cnVlLCBjaGVja2JveDogdHJ1ZSwgZmlsZTogdHJ1ZSwgcGFzc3dvcmQ6IHRydWUsIGltYWdlOiB0cnVlIH0gKSB7XG5cdEV4cHIucHNldWRvc1sgaSBdID0gY3JlYXRlSW5wdXRQc2V1ZG8oIGkgKTtcbn1cbmZvciAoIGkgaW4geyBzdWJtaXQ6IHRydWUsIHJlc2V0OiB0cnVlIH0gKSB7XG5cdEV4cHIucHNldWRvc1sgaSBdID0gY3JlYXRlQnV0dG9uUHNldWRvKCBpICk7XG59XG5cbi8vIEVhc3kgQVBJIGZvciBjcmVhdGluZyBuZXcgc2V0RmlsdGVyc1xuZnVuY3Rpb24gc2V0RmlsdGVycygpIHt9XG5zZXRGaWx0ZXJzLnByb3RvdHlwZSA9IEV4cHIuZmlsdGVycyA9IEV4cHIucHNldWRvcztcbkV4cHIuc2V0RmlsdGVycyA9IG5ldyBzZXRGaWx0ZXJzKCk7XG5cbnRva2VuaXplID0gU2l6emxlLnRva2VuaXplID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBwYXJzZU9ubHkgKSB7XG5cdHZhciBtYXRjaGVkLCBtYXRjaCwgdG9rZW5zLCB0eXBlLFxuXHRcdHNvRmFyLCBncm91cHMsIHByZUZpbHRlcnMsXG5cdFx0Y2FjaGVkID0gdG9rZW5DYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdO1xuXG5cdGlmICggY2FjaGVkICkge1xuXHRcdHJldHVybiBwYXJzZU9ubHkgPyAwIDogY2FjaGVkLnNsaWNlKCAwICk7XG5cdH1cblxuXHRzb0ZhciA9IHNlbGVjdG9yO1xuXHRncm91cHMgPSBbXTtcblx0cHJlRmlsdGVycyA9IEV4cHIucHJlRmlsdGVyO1xuXG5cdHdoaWxlICggc29GYXIgKSB7XG5cblx0XHQvLyBDb21tYSBhbmQgZmlyc3QgcnVuXG5cdFx0aWYgKCAhbWF0Y2hlZCB8fCAobWF0Y2ggPSByY29tbWEuZXhlYyggc29GYXIgKSkgKSB7XG5cdFx0XHRpZiAoIG1hdGNoICkge1xuXHRcdFx0XHQvLyBEb24ndCBjb25zdW1lIHRyYWlsaW5nIGNvbW1hcyBhcyB2YWxpZFxuXHRcdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaFswXS5sZW5ndGggKSB8fCBzb0Zhcjtcblx0XHRcdH1cblx0XHRcdGdyb3Vwcy5wdXNoKCAodG9rZW5zID0gW10pICk7XG5cdFx0fVxuXG5cdFx0bWF0Y2hlZCA9IGZhbHNlO1xuXG5cdFx0Ly8gQ29tYmluYXRvcnNcblx0XHRpZiAoIChtYXRjaCA9IHJjb21iaW5hdG9ycy5leGVjKCBzb0ZhciApKSApIHtcblx0XHRcdG1hdGNoZWQgPSBtYXRjaC5zaGlmdCgpO1xuXHRcdFx0dG9rZW5zLnB1c2goe1xuXHRcdFx0XHR2YWx1ZTogbWF0Y2hlZCxcblx0XHRcdFx0Ly8gQ2FzdCBkZXNjZW5kYW50IGNvbWJpbmF0b3JzIHRvIHNwYWNlXG5cdFx0XHRcdHR5cGU6IG1hdGNoWzBdLnJlcGxhY2UoIHJ0cmltLCBcIiBcIiApXG5cdFx0XHR9KTtcblx0XHRcdHNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoZWQubGVuZ3RoICk7XG5cdFx0fVxuXG5cdFx0Ly8gRmlsdGVyc1xuXHRcdGZvciAoIHR5cGUgaW4gRXhwci5maWx0ZXIgKSB7XG5cdFx0XHRpZiAoIChtYXRjaCA9IG1hdGNoRXhwclsgdHlwZSBdLmV4ZWMoIHNvRmFyICkpICYmICghcHJlRmlsdGVyc1sgdHlwZSBdIHx8XG5cdFx0XHRcdChtYXRjaCA9IHByZUZpbHRlcnNbIHR5cGUgXSggbWF0Y2ggKSkpICkge1xuXHRcdFx0XHRtYXRjaGVkID0gbWF0Y2guc2hpZnQoKTtcblx0XHRcdFx0dG9rZW5zLnB1c2goe1xuXHRcdFx0XHRcdHZhbHVlOiBtYXRjaGVkLFxuXHRcdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdFx0bWF0Y2hlczogbWF0Y2hcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoZWQubGVuZ3RoICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCAhbWF0Y2hlZCApIHtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgbGVuZ3RoIG9mIHRoZSBpbnZhbGlkIGV4Y2Vzc1xuXHQvLyBpZiB3ZSdyZSBqdXN0IHBhcnNpbmdcblx0Ly8gT3RoZXJ3aXNlLCB0aHJvdyBhbiBlcnJvciBvciByZXR1cm4gdG9rZW5zXG5cdHJldHVybiBwYXJzZU9ubHkgP1xuXHRcdHNvRmFyLmxlbmd0aCA6XG5cdFx0c29GYXIgP1xuXHRcdFx0U2l6emxlLmVycm9yKCBzZWxlY3RvciApIDpcblx0XHRcdC8vIENhY2hlIHRoZSB0b2tlbnNcblx0XHRcdHRva2VuQ2FjaGUoIHNlbGVjdG9yLCBncm91cHMgKS5zbGljZSggMCApO1xufTtcblxuZnVuY3Rpb24gdG9TZWxlY3RvciggdG9rZW5zICkge1xuXHR2YXIgaSA9IDAsXG5cdFx0bGVuID0gdG9rZW5zLmxlbmd0aCxcblx0XHRzZWxlY3RvciA9IFwiXCI7XG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdHNlbGVjdG9yICs9IHRva2Vuc1tpXS52YWx1ZTtcblx0fVxuXHRyZXR1cm4gc2VsZWN0b3I7XG59XG5cbmZ1bmN0aW9uIGFkZENvbWJpbmF0b3IoIG1hdGNoZXIsIGNvbWJpbmF0b3IsIGJhc2UgKSB7XG5cdHZhciBkaXIgPSBjb21iaW5hdG9yLmRpcixcblx0XHRza2lwID0gY29tYmluYXRvci5uZXh0LFxuXHRcdGtleSA9IHNraXAgfHwgZGlyLFxuXHRcdGNoZWNrTm9uRWxlbWVudHMgPSBiYXNlICYmIGtleSA9PT0gXCJwYXJlbnROb2RlXCIsXG5cdFx0ZG9uZU5hbWUgPSBkb25lKys7XG5cblx0cmV0dXJuIGNvbWJpbmF0b3IuZmlyc3QgP1xuXHRcdC8vIENoZWNrIGFnYWluc3QgY2xvc2VzdCBhbmNlc3Rvci9wcmVjZWRpbmcgZWxlbWVudFxuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHR3aGlsZSAoIChlbGVtID0gZWxlbVsgZGlyIF0pICkge1xuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHtcblx0XHRcdFx0XHRyZXR1cm4gbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IDpcblxuXHRcdC8vIENoZWNrIGFnYWluc3QgYWxsIGFuY2VzdG9yL3ByZWNlZGluZyBlbGVtZW50c1xuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHR2YXIgb2xkQ2FjaGUsIHVuaXF1ZUNhY2hlLCBvdXRlckNhY2hlLFxuXHRcdFx0XHRuZXdDYWNoZSA9IFsgZGlycnVucywgZG9uZU5hbWUgXTtcblxuXHRcdFx0Ly8gV2UgY2FuJ3Qgc2V0IGFyYml0cmFyeSBkYXRhIG9uIFhNTCBub2Rlcywgc28gdGhleSBkb24ndCBiZW5lZml0IGZyb20gY29tYmluYXRvciBjYWNoaW5nXG5cdFx0XHRpZiAoIHhtbCApIHtcblx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IGVsZW1bIGRpciBdKSApIHtcblx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHtcblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IGVsZW1bIGRpciBdKSApIHtcblx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHtcblx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBlbGVtWyBleHBhbmRvIF0gfHwgKGVsZW1bIGV4cGFuZG8gXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPDkgb25seVxuXHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIGVsZW0udW5pcXVlSUQgXSB8fCAob3V0ZXJDYWNoZVsgZWxlbS51bmlxdWVJRCBdID0ge30pO1xuXG5cdFx0XHRcdFx0XHRpZiAoIHNraXAgJiYgc2tpcCA9PT0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICkge1xuXHRcdFx0XHRcdFx0XHRlbGVtID0gZWxlbVsgZGlyIF0gfHwgZWxlbTtcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIChvbGRDYWNoZSA9IHVuaXF1ZUNhY2hlWyBrZXkgXSkgJiZcblx0XHRcdFx0XHRcdFx0b2xkQ2FjaGVbIDAgXSA9PT0gZGlycnVucyAmJiBvbGRDYWNoZVsgMSBdID09PSBkb25lTmFtZSApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBBc3NpZ24gdG8gbmV3Q2FjaGUgc28gcmVzdWx0cyBiYWNrLXByb3BhZ2F0ZSB0byBwcmV2aW91cyBlbGVtZW50c1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gKG5ld0NhY2hlWyAyIF0gPSBvbGRDYWNoZVsgMiBdKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdC8vIFJldXNlIG5ld2NhY2hlIHNvIHJlc3VsdHMgYmFjay1wcm9wYWdhdGUgdG8gcHJldmlvdXMgZWxlbWVudHNcblx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGVbIGtleSBdID0gbmV3Q2FjaGU7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQSBtYXRjaCBtZWFucyB3ZSdyZSBkb25lOyBhIGZhaWwgbWVhbnMgd2UgaGF2ZSB0byBrZWVwIGNoZWNraW5nXG5cdFx0XHRcdFx0XHRcdGlmICggKG5ld0NhY2hlWyAyIF0gPSBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xufVxuXG5mdW5jdGlvbiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSB7XG5cdHJldHVybiBtYXRjaGVycy5sZW5ndGggPiAxID9cblx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0dmFyIGkgPSBtYXRjaGVycy5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0aWYgKCAhbWF0Y2hlcnNbaV0oIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSA6XG5cdFx0bWF0Y2hlcnNbMF07XG59XG5cbmZ1bmN0aW9uIG11bHRpcGxlQ29udGV4dHMoIHNlbGVjdG9yLCBjb250ZXh0cywgcmVzdWx0cyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGxlbiA9IGNvbnRleHRzLmxlbmd0aDtcblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0U2l6emxlKCBzZWxlY3RvciwgY29udGV4dHNbaV0sIHJlc3VsdHMgKTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0cztcbn1cblxuZnVuY3Rpb24gY29uZGVuc2UoIHVubWF0Y2hlZCwgbWFwLCBmaWx0ZXIsIGNvbnRleHQsIHhtbCApIHtcblx0dmFyIGVsZW0sXG5cdFx0bmV3VW5tYXRjaGVkID0gW10sXG5cdFx0aSA9IDAsXG5cdFx0bGVuID0gdW5tYXRjaGVkLmxlbmd0aCxcblx0XHRtYXBwZWQgPSBtYXAgIT0gbnVsbDtcblxuXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRpZiAoIChlbGVtID0gdW5tYXRjaGVkW2ldKSApIHtcblx0XHRcdGlmICggIWZpbHRlciB8fCBmaWx0ZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuXHRcdFx0XHRuZXdVbm1hdGNoZWQucHVzaCggZWxlbSApO1xuXHRcdFx0XHRpZiAoIG1hcHBlZCApIHtcblx0XHRcdFx0XHRtYXAucHVzaCggaSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIG5ld1VubWF0Y2hlZDtcbn1cblxuZnVuY3Rpb24gc2V0TWF0Y2hlciggcHJlRmlsdGVyLCBzZWxlY3RvciwgbWF0Y2hlciwgcG9zdEZpbHRlciwgcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yICkge1xuXHRpZiAoIHBvc3RGaWx0ZXIgJiYgIXBvc3RGaWx0ZXJbIGV4cGFuZG8gXSApIHtcblx0XHRwb3N0RmlsdGVyID0gc2V0TWF0Y2hlciggcG9zdEZpbHRlciApO1xuXHR9XG5cdGlmICggcG9zdEZpbmRlciAmJiAhcG9zdEZpbmRlclsgZXhwYW5kbyBdICkge1xuXHRcdHBvc3RGaW5kZXIgPSBzZXRNYXRjaGVyKCBwb3N0RmluZGVyLCBwb3N0U2VsZWN0b3IgKTtcblx0fVxuXHRyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCByZXN1bHRzLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0dmFyIHRlbXAsIGksIGVsZW0sXG5cdFx0XHRwcmVNYXAgPSBbXSxcblx0XHRcdHBvc3RNYXAgPSBbXSxcblx0XHRcdHByZWV4aXN0aW5nID0gcmVzdWx0cy5sZW5ndGgsXG5cblx0XHRcdC8vIEdldCBpbml0aWFsIGVsZW1lbnRzIGZyb20gc2VlZCBvciBjb250ZXh0XG5cdFx0XHRlbGVtcyA9IHNlZWQgfHwgbXVsdGlwbGVDb250ZXh0cyggc2VsZWN0b3IgfHwgXCIqXCIsIGNvbnRleHQubm9kZVR5cGUgPyBbIGNvbnRleHQgXSA6IGNvbnRleHQsIFtdICksXG5cblx0XHRcdC8vIFByZWZpbHRlciB0byBnZXQgbWF0Y2hlciBpbnB1dCwgcHJlc2VydmluZyBhIG1hcCBmb3Igc2VlZC1yZXN1bHRzIHN5bmNocm9uaXphdGlvblxuXHRcdFx0bWF0Y2hlckluID0gcHJlRmlsdGVyICYmICggc2VlZCB8fCAhc2VsZWN0b3IgKSA/XG5cdFx0XHRcdGNvbmRlbnNlKCBlbGVtcywgcHJlTWFwLCBwcmVGaWx0ZXIsIGNvbnRleHQsIHhtbCApIDpcblx0XHRcdFx0ZWxlbXMsXG5cblx0XHRcdG1hdGNoZXJPdXQgPSBtYXRjaGVyID9cblx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBhIHBvc3RGaW5kZXIsIG9yIGZpbHRlcmVkIHNlZWQsIG9yIG5vbi1zZWVkIHBvc3RGaWx0ZXIgb3IgcHJlZXhpc3RpbmcgcmVzdWx0cyxcblx0XHRcdFx0cG9zdEZpbmRlciB8fCAoIHNlZWQgPyBwcmVGaWx0ZXIgOiBwcmVleGlzdGluZyB8fCBwb3N0RmlsdGVyICkgP1xuXG5cdFx0XHRcdFx0Ly8gLi4uaW50ZXJtZWRpYXRlIHByb2Nlc3NpbmcgaXMgbmVjZXNzYXJ5XG5cdFx0XHRcdFx0W10gOlxuXG5cdFx0XHRcdFx0Ly8gLi4ub3RoZXJ3aXNlIHVzZSByZXN1bHRzIGRpcmVjdGx5XG5cdFx0XHRcdFx0cmVzdWx0cyA6XG5cdFx0XHRcdG1hdGNoZXJJbjtcblxuXHRcdC8vIEZpbmQgcHJpbWFyeSBtYXRjaGVzXG5cdFx0aWYgKCBtYXRjaGVyICkge1xuXHRcdFx0bWF0Y2hlciggbWF0Y2hlckluLCBtYXRjaGVyT3V0LCBjb250ZXh0LCB4bWwgKTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSBwb3N0RmlsdGVyXG5cdFx0aWYgKCBwb3N0RmlsdGVyICkge1xuXHRcdFx0dGVtcCA9IGNvbmRlbnNlKCBtYXRjaGVyT3V0LCBwb3N0TWFwICk7XG5cdFx0XHRwb3N0RmlsdGVyKCB0ZW1wLCBbXSwgY29udGV4dCwgeG1sICk7XG5cblx0XHRcdC8vIFVuLW1hdGNoIGZhaWxpbmcgZWxlbWVudHMgYnkgbW92aW5nIHRoZW0gYmFjayB0byBtYXRjaGVySW5cblx0XHRcdGkgPSB0ZW1wLmxlbmd0aDtcblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRpZiAoIChlbGVtID0gdGVtcFtpXSkgKSB7XG5cdFx0XHRcdFx0bWF0Y2hlck91dFsgcG9zdE1hcFtpXSBdID0gIShtYXRjaGVySW5bIHBvc3RNYXBbaV0gXSA9IGVsZW0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0aWYgKCBwb3N0RmluZGVyIHx8IHByZUZpbHRlciApIHtcblx0XHRcdFx0aWYgKCBwb3N0RmluZGVyICkge1xuXHRcdFx0XHRcdC8vIEdldCB0aGUgZmluYWwgbWF0Y2hlck91dCBieSBjb25kZW5zaW5nIHRoaXMgaW50ZXJtZWRpYXRlIGludG8gcG9zdEZpbmRlciBjb250ZXh0c1xuXHRcdFx0XHRcdHRlbXAgPSBbXTtcblx0XHRcdFx0XHRpID0gbWF0Y2hlck91dC5sZW5ndGg7XG5cdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRpZiAoIChlbGVtID0gbWF0Y2hlck91dFtpXSkgKSB7XG5cdFx0XHRcdFx0XHRcdC8vIFJlc3RvcmUgbWF0Y2hlckluIHNpbmNlIGVsZW0gaXMgbm90IHlldCBhIGZpbmFsIG1hdGNoXG5cdFx0XHRcdFx0XHRcdHRlbXAucHVzaCggKG1hdGNoZXJJbltpXSA9IGVsZW0pICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHBvc3RGaW5kZXIoIG51bGwsIChtYXRjaGVyT3V0ID0gW10pLCB0ZW1wLCB4bWwgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIE1vdmUgbWF0Y2hlZCBlbGVtZW50cyBmcm9tIHNlZWQgdG8gcmVzdWx0cyB0byBrZWVwIHRoZW0gc3luY2hyb25pemVkXG5cdFx0XHRcdGkgPSBtYXRjaGVyT3V0Lmxlbmd0aDtcblx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0aWYgKCAoZWxlbSA9IG1hdGNoZXJPdXRbaV0pICYmXG5cdFx0XHRcdFx0XHQodGVtcCA9IHBvc3RGaW5kZXIgPyBpbmRleE9mKCBzZWVkLCBlbGVtICkgOiBwcmVNYXBbaV0pID4gLTEgKSB7XG5cblx0XHRcdFx0XHRcdHNlZWRbdGVtcF0gPSAhKHJlc3VsdHNbdGVtcF0gPSBlbGVtKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdC8vIEFkZCBlbGVtZW50cyB0byByZXN1bHRzLCB0aHJvdWdoIHBvc3RGaW5kZXIgaWYgZGVmaW5lZFxuXHRcdH0gZWxzZSB7XG5cdFx0XHRtYXRjaGVyT3V0ID0gY29uZGVuc2UoXG5cdFx0XHRcdG1hdGNoZXJPdXQgPT09IHJlc3VsdHMgP1xuXHRcdFx0XHRcdG1hdGNoZXJPdXQuc3BsaWNlKCBwcmVleGlzdGluZywgbWF0Y2hlck91dC5sZW5ndGggKSA6XG5cdFx0XHRcdFx0bWF0Y2hlck91dFxuXHRcdFx0KTtcblx0XHRcdGlmICggcG9zdEZpbmRlciApIHtcblx0XHRcdFx0cG9zdEZpbmRlciggbnVsbCwgcmVzdWx0cywgbWF0Y2hlck91dCwgeG1sICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBtYXRjaGVyT3V0ICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcbn1cblxuZnVuY3Rpb24gbWF0Y2hlckZyb21Ub2tlbnMoIHRva2VucyApIHtcblx0dmFyIGNoZWNrQ29udGV4dCwgbWF0Y2hlciwgaixcblx0XHRsZW4gPSB0b2tlbnMubGVuZ3RoLFxuXHRcdGxlYWRpbmdSZWxhdGl2ZSA9IEV4cHIucmVsYXRpdmVbIHRva2Vuc1swXS50eXBlIF0sXG5cdFx0aW1wbGljaXRSZWxhdGl2ZSA9IGxlYWRpbmdSZWxhdGl2ZSB8fCBFeHByLnJlbGF0aXZlW1wiIFwiXSxcblx0XHRpID0gbGVhZGluZ1JlbGF0aXZlID8gMSA6IDAsXG5cblx0XHQvLyBUaGUgZm91bmRhdGlvbmFsIG1hdGNoZXIgZW5zdXJlcyB0aGF0IGVsZW1lbnRzIGFyZSByZWFjaGFibGUgZnJvbSB0b3AtbGV2ZWwgY29udGV4dChzKVxuXHRcdG1hdGNoQ29udGV4dCA9IGFkZENvbWJpbmF0b3IoIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0gPT09IGNoZWNrQ29udGV4dDtcblx0XHR9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVlICksXG5cdFx0bWF0Y2hBbnlDb250ZXh0ID0gYWRkQ29tYmluYXRvciggZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gaW5kZXhPZiggY2hlY2tDb250ZXh0LCBlbGVtICkgPiAtMTtcblx0XHR9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVlICksXG5cdFx0bWF0Y2hlcnMgPSBbIGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHR2YXIgcmV0ID0gKCAhbGVhZGluZ1JlbGF0aXZlICYmICggeG1sIHx8IGNvbnRleHQgIT09IG91dGVybW9zdENvbnRleHQgKSApIHx8IChcblx0XHRcdFx0KGNoZWNrQ29udGV4dCA9IGNvbnRleHQpLm5vZGVUeXBlID9cblx0XHRcdFx0XHRtYXRjaENvbnRleHQoIGVsZW0sIGNvbnRleHQsIHhtbCApIDpcblx0XHRcdFx0XHRtYXRjaEFueUNvbnRleHQoIGVsZW0sIGNvbnRleHQsIHhtbCApICk7XG5cdFx0XHQvLyBBdm9pZCBoYW5naW5nIG9udG8gZWxlbWVudCAoaXNzdWUgIzI5OSlcblx0XHRcdGNoZWNrQ29udGV4dCA9IG51bGw7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH0gXTtcblxuXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRpZiAoIChtYXRjaGVyID0gRXhwci5yZWxhdGl2ZVsgdG9rZW5zW2ldLnR5cGUgXSkgKSB7XG5cdFx0XHRtYXRjaGVycyA9IFsgYWRkQ29tYmluYXRvcihlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSwgbWF0Y2hlcikgXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bWF0Y2hlciA9IEV4cHIuZmlsdGVyWyB0b2tlbnNbaV0udHlwZSBdLmFwcGx5KCBudWxsLCB0b2tlbnNbaV0ubWF0Y2hlcyApO1xuXG5cdFx0XHQvLyBSZXR1cm4gc3BlY2lhbCB1cG9uIHNlZWluZyBhIHBvc2l0aW9uYWwgbWF0Y2hlclxuXHRcdFx0aWYgKCBtYXRjaGVyWyBleHBhbmRvIF0gKSB7XG5cdFx0XHRcdC8vIEZpbmQgdGhlIG5leHQgcmVsYXRpdmUgb3BlcmF0b3IgKGlmIGFueSkgZm9yIHByb3BlciBoYW5kbGluZ1xuXHRcdFx0XHRqID0gKytpO1xuXHRcdFx0XHRmb3IgKCA7IGogPCBsZW47IGorKyApIHtcblx0XHRcdFx0XHRpZiAoIEV4cHIucmVsYXRpdmVbIHRva2Vuc1tqXS50eXBlIF0gKSB7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHNldE1hdGNoZXIoXG5cdFx0XHRcdFx0aSA+IDEgJiYgZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICksXG5cdFx0XHRcdFx0aSA+IDEgJiYgdG9TZWxlY3Rvcihcblx0XHRcdFx0XHRcdC8vIElmIHRoZSBwcmVjZWRpbmcgdG9rZW4gd2FzIGEgZGVzY2VuZGFudCBjb21iaW5hdG9yLCBpbnNlcnQgYW4gaW1wbGljaXQgYW55LWVsZW1lbnQgYCpgXG5cdFx0XHRcdFx0XHR0b2tlbnMuc2xpY2UoIDAsIGkgLSAxICkuY29uY2F0KHsgdmFsdWU6IHRva2Vuc1sgaSAtIDIgXS50eXBlID09PSBcIiBcIiA/IFwiKlwiIDogXCJcIiB9KVxuXHRcdFx0XHRcdCkucmVwbGFjZSggcnRyaW0sIFwiJDFcIiApLFxuXHRcdFx0XHRcdG1hdGNoZXIsXG5cdFx0XHRcdFx0aSA8IGogJiYgbWF0Y2hlckZyb21Ub2tlbnMoIHRva2Vucy5zbGljZSggaSwgaiApICksXG5cdFx0XHRcdFx0aiA8IGxlbiAmJiBtYXRjaGVyRnJvbVRva2VucyggKHRva2VucyA9IHRva2Vucy5zbGljZSggaiApKSApLFxuXHRcdFx0XHRcdGogPCBsZW4gJiYgdG9TZWxlY3RvciggdG9rZW5zIClcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdG1hdGNoZXJzLnB1c2goIG1hdGNoZXIgKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyggZWxlbWVudE1hdGNoZXJzLCBzZXRNYXRjaGVycyApIHtcblx0dmFyIGJ5U2V0ID0gc2V0TWF0Y2hlcnMubGVuZ3RoID4gMCxcblx0XHRieUVsZW1lbnQgPSBlbGVtZW50TWF0Y2hlcnMubGVuZ3RoID4gMCxcblx0XHRzdXBlck1hdGNoZXIgPSBmdW5jdGlvbiggc2VlZCwgY29udGV4dCwgeG1sLCByZXN1bHRzLCBvdXRlcm1vc3QgKSB7XG5cdFx0XHR2YXIgZWxlbSwgaiwgbWF0Y2hlcixcblx0XHRcdFx0bWF0Y2hlZENvdW50ID0gMCxcblx0XHRcdFx0aSA9IFwiMFwiLFxuXHRcdFx0XHR1bm1hdGNoZWQgPSBzZWVkICYmIFtdLFxuXHRcdFx0XHRzZXRNYXRjaGVkID0gW10sXG5cdFx0XHRcdGNvbnRleHRCYWNrdXAgPSBvdXRlcm1vc3RDb250ZXh0LFxuXHRcdFx0XHQvLyBXZSBtdXN0IGFsd2F5cyBoYXZlIGVpdGhlciBzZWVkIGVsZW1lbnRzIG9yIG91dGVybW9zdCBjb250ZXh0XG5cdFx0XHRcdGVsZW1zID0gc2VlZCB8fCBieUVsZW1lbnQgJiYgRXhwci5maW5kW1wiVEFHXCJdKCBcIipcIiwgb3V0ZXJtb3N0ICksXG5cdFx0XHRcdC8vIFVzZSBpbnRlZ2VyIGRpcnJ1bnMgaWZmIHRoaXMgaXMgdGhlIG91dGVybW9zdCBtYXRjaGVyXG5cdFx0XHRcdGRpcnJ1bnNVbmlxdWUgPSAoZGlycnVucyArPSBjb250ZXh0QmFja3VwID09IG51bGwgPyAxIDogTWF0aC5yYW5kb20oKSB8fCAwLjEpLFxuXHRcdFx0XHRsZW4gPSBlbGVtcy5sZW5ndGg7XG5cblx0XHRcdGlmICggb3V0ZXJtb3N0ICkge1xuXHRcdFx0XHRvdXRlcm1vc3RDb250ZXh0ID0gY29udGV4dCA9PT0gZG9jdW1lbnQgfHwgY29udGV4dCB8fCBvdXRlcm1vc3Q7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCBlbGVtZW50cyBwYXNzaW5nIGVsZW1lbnRNYXRjaGVycyBkaXJlY3RseSB0byByZXN1bHRzXG5cdFx0XHQvLyBTdXBwb3J0OiBJRTw5LCBTYWZhcmlcblx0XHRcdC8vIFRvbGVyYXRlIE5vZGVMaXN0IHByb3BlcnRpZXMgKElFOiBcImxlbmd0aFwiOyBTYWZhcmk6IDxudW1iZXI+KSBtYXRjaGluZyBlbGVtZW50cyBieSBpZFxuXHRcdFx0Zm9yICggOyBpICE9PSBsZW4gJiYgKGVsZW0gPSBlbGVtc1tpXSkgIT0gbnVsbDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIGJ5RWxlbWVudCAmJiBlbGVtICkge1xuXHRcdFx0XHRcdGogPSAwO1xuXHRcdFx0XHRcdGlmICggIWNvbnRleHQgJiYgZWxlbS5vd25lckRvY3VtZW50ICE9PSBkb2N1bWVudCApIHtcblx0XHRcdFx0XHRcdHNldERvY3VtZW50KCBlbGVtICk7XG5cdFx0XHRcdFx0XHR4bWwgPSAhZG9jdW1lbnRJc0hUTUw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHdoaWxlICggKG1hdGNoZXIgPSBlbGVtZW50TWF0Y2hlcnNbaisrXSkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQgfHwgZG9jdW1lbnQsIHhtbCkgKSB7XG5cdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCBvdXRlcm1vc3QgKSB7XG5cdFx0XHRcdFx0XHRkaXJydW5zID0gZGlycnVuc1VuaXF1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBUcmFjayB1bm1hdGNoZWQgZWxlbWVudHMgZm9yIHNldCBmaWx0ZXJzXG5cdFx0XHRcdGlmICggYnlTZXQgKSB7XG5cdFx0XHRcdFx0Ly8gVGhleSB3aWxsIGhhdmUgZ29uZSB0aHJvdWdoIGFsbCBwb3NzaWJsZSBtYXRjaGVyc1xuXHRcdFx0XHRcdGlmICggKGVsZW0gPSAhbWF0Y2hlciAmJiBlbGVtKSApIHtcblx0XHRcdFx0XHRcdG1hdGNoZWRDb3VudC0tO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIExlbmd0aGVuIHRoZSBhcnJheSBmb3IgZXZlcnkgZWxlbWVudCwgbWF0Y2hlZCBvciBub3Rcblx0XHRcdFx0XHRpZiAoIHNlZWQgKSB7XG5cdFx0XHRcdFx0XHR1bm1hdGNoZWQucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBgaWAgaXMgbm93IHRoZSBjb3VudCBvZiBlbGVtZW50cyB2aXNpdGVkIGFib3ZlLCBhbmQgYWRkaW5nIGl0IHRvIGBtYXRjaGVkQ291bnRgXG5cdFx0XHQvLyBtYWtlcyB0aGUgbGF0dGVyIG5vbm5lZ2F0aXZlLlxuXHRcdFx0bWF0Y2hlZENvdW50ICs9IGk7XG5cblx0XHRcdC8vIEFwcGx5IHNldCBmaWx0ZXJzIHRvIHVubWF0Y2hlZCBlbGVtZW50c1xuXHRcdFx0Ly8gTk9URTogVGhpcyBjYW4gYmUgc2tpcHBlZCBpZiB0aGVyZSBhcmUgbm8gdW5tYXRjaGVkIGVsZW1lbnRzIChpLmUuLCBgbWF0Y2hlZENvdW50YFxuXHRcdFx0Ly8gZXF1YWxzIGBpYCksIHVubGVzcyB3ZSBkaWRuJ3QgdmlzaXQgX2FueV8gZWxlbWVudHMgaW4gdGhlIGFib3ZlIGxvb3AgYmVjYXVzZSB3ZSBoYXZlXG5cdFx0XHQvLyBubyBlbGVtZW50IG1hdGNoZXJzIGFuZCBubyBzZWVkLlxuXHRcdFx0Ly8gSW5jcmVtZW50aW5nIGFuIGluaXRpYWxseS1zdHJpbmcgXCIwXCIgYGlgIGFsbG93cyBgaWAgdG8gcmVtYWluIGEgc3RyaW5nIG9ubHkgaW4gdGhhdFxuXHRcdFx0Ly8gY2FzZSwgd2hpY2ggd2lsbCByZXN1bHQgaW4gYSBcIjAwXCIgYG1hdGNoZWRDb3VudGAgdGhhdCBkaWZmZXJzIGZyb20gYGlgIGJ1dCBpcyBhbHNvXG5cdFx0XHQvLyBudW1lcmljYWxseSB6ZXJvLlxuXHRcdFx0aWYgKCBieVNldCAmJiBpICE9PSBtYXRjaGVkQ291bnQgKSB7XG5cdFx0XHRcdGogPSAwO1xuXHRcdFx0XHR3aGlsZSAoIChtYXRjaGVyID0gc2V0TWF0Y2hlcnNbaisrXSkgKSB7XG5cdFx0XHRcdFx0bWF0Y2hlciggdW5tYXRjaGVkLCBzZXRNYXRjaGVkLCBjb250ZXh0LCB4bWwgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggc2VlZCApIHtcblx0XHRcdFx0XHQvLyBSZWludGVncmF0ZSBlbGVtZW50IG1hdGNoZXMgdG8gZWxpbWluYXRlIHRoZSBuZWVkIGZvciBzb3J0aW5nXG5cdFx0XHRcdFx0aWYgKCBtYXRjaGVkQ291bnQgPiAwICkge1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggISh1bm1hdGNoZWRbaV0gfHwgc2V0TWF0Y2hlZFtpXSkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2V0TWF0Y2hlZFtpXSA9IHBvcC5jYWxsKCByZXN1bHRzICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBEaXNjYXJkIGluZGV4IHBsYWNlaG9sZGVyIHZhbHVlcyB0byBnZXQgb25seSBhY3R1YWwgbWF0Y2hlc1xuXHRcdFx0XHRcdHNldE1hdGNoZWQgPSBjb25kZW5zZSggc2V0TWF0Y2hlZCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQWRkIG1hdGNoZXMgdG8gcmVzdWx0c1xuXHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBzZXRNYXRjaGVkICk7XG5cblx0XHRcdFx0Ly8gU2VlZGxlc3Mgc2V0IG1hdGNoZXMgc3VjY2VlZGluZyBtdWx0aXBsZSBzdWNjZXNzZnVsIG1hdGNoZXJzIHN0aXB1bGF0ZSBzb3J0aW5nXG5cdFx0XHRcdGlmICggb3V0ZXJtb3N0ICYmICFzZWVkICYmIHNldE1hdGNoZWQubGVuZ3RoID4gMCAmJlxuXHRcdFx0XHRcdCggbWF0Y2hlZENvdW50ICsgc2V0TWF0Y2hlcnMubGVuZ3RoICkgPiAxICkge1xuXG5cdFx0XHRcdFx0U2l6emxlLnVuaXF1ZVNvcnQoIHJlc3VsdHMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBPdmVycmlkZSBtYW5pcHVsYXRpb24gb2YgZ2xvYmFscyBieSBuZXN0ZWQgbWF0Y2hlcnNcblx0XHRcdGlmICggb3V0ZXJtb3N0ICkge1xuXHRcdFx0XHRkaXJydW5zID0gZGlycnVuc1VuaXF1ZTtcblx0XHRcdFx0b3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHRCYWNrdXA7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB1bm1hdGNoZWQ7XG5cdFx0fTtcblxuXHRyZXR1cm4gYnlTZXQgP1xuXHRcdG1hcmtGdW5jdGlvbiggc3VwZXJNYXRjaGVyICkgOlxuXHRcdHN1cGVyTWF0Y2hlcjtcbn1cblxuY29tcGlsZSA9IFNpenpsZS5jb21waWxlID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBtYXRjaCAvKiBJbnRlcm5hbCBVc2UgT25seSAqLyApIHtcblx0dmFyIGksXG5cdFx0c2V0TWF0Y2hlcnMgPSBbXSxcblx0XHRlbGVtZW50TWF0Y2hlcnMgPSBbXSxcblx0XHRjYWNoZWQgPSBjb21waWxlckNhY2hlWyBzZWxlY3RvciArIFwiIFwiIF07XG5cblx0aWYgKCAhY2FjaGVkICkge1xuXHRcdC8vIEdlbmVyYXRlIGEgZnVuY3Rpb24gb2YgcmVjdXJzaXZlIGZ1bmN0aW9ucyB0aGF0IGNhbiBiZSB1c2VkIHRvIGNoZWNrIGVhY2ggZWxlbWVudFxuXHRcdGlmICggIW1hdGNoICkge1xuXHRcdFx0bWF0Y2ggPSB0b2tlbml6ZSggc2VsZWN0b3IgKTtcblx0XHR9XG5cdFx0aSA9IG1hdGNoLmxlbmd0aDtcblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdGNhY2hlZCA9IG1hdGNoZXJGcm9tVG9rZW5zKCBtYXRjaFtpXSApO1xuXHRcdFx0aWYgKCBjYWNoZWRbIGV4cGFuZG8gXSApIHtcblx0XHRcdFx0c2V0TWF0Y2hlcnMucHVzaCggY2FjaGVkICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlbGVtZW50TWF0Y2hlcnMucHVzaCggY2FjaGVkICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ2FjaGUgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uXG5cdFx0Y2FjaGVkID0gY29tcGlsZXJDYWNoZSggc2VsZWN0b3IsIG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyggZWxlbWVudE1hdGNoZXJzLCBzZXRNYXRjaGVycyApICk7XG5cblx0XHQvLyBTYXZlIHNlbGVjdG9yIGFuZCB0b2tlbml6YXRpb25cblx0XHRjYWNoZWQuc2VsZWN0b3IgPSBzZWxlY3Rvcjtcblx0fVxuXHRyZXR1cm4gY2FjaGVkO1xufTtcblxuLyoqXG4gKiBBIGxvdy1sZXZlbCBzZWxlY3Rpb24gZnVuY3Rpb24gdGhhdCB3b3JrcyB3aXRoIFNpenpsZSdzIGNvbXBpbGVkXG4gKiAgc2VsZWN0b3IgZnVuY3Rpb25zXG4gKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gc2VsZWN0b3IgQSBzZWxlY3RvciBvciBhIHByZS1jb21waWxlZFxuICogIHNlbGVjdG9yIGZ1bmN0aW9uIGJ1aWx0IHdpdGggU2l6emxlLmNvbXBpbGVcbiAqIEBwYXJhbSB7RWxlbWVudH0gY29udGV4dFxuICogQHBhcmFtIHtBcnJheX0gW3Jlc3VsdHNdXG4gKiBAcGFyYW0ge0FycmF5fSBbc2VlZF0gQSBzZXQgb2YgZWxlbWVudHMgdG8gbWF0Y2ggYWdhaW5zdFxuICovXG5zZWxlY3QgPSBTaXp6bGUuc2VsZWN0ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICkge1xuXHR2YXIgaSwgdG9rZW5zLCB0b2tlbiwgdHlwZSwgZmluZCxcblx0XHRjb21waWxlZCA9IHR5cGVvZiBzZWxlY3RvciA9PT0gXCJmdW5jdGlvblwiICYmIHNlbGVjdG9yLFxuXHRcdG1hdGNoID0gIXNlZWQgJiYgdG9rZW5pemUoIChzZWxlY3RvciA9IGNvbXBpbGVkLnNlbGVjdG9yIHx8IHNlbGVjdG9yKSApO1xuXG5cdHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xuXG5cdC8vIFRyeSB0byBtaW5pbWl6ZSBvcGVyYXRpb25zIGlmIHRoZXJlIGlzIG9ubHkgb25lIHNlbGVjdG9yIGluIHRoZSBsaXN0IGFuZCBubyBzZWVkXG5cdC8vICh0aGUgbGF0dGVyIG9mIHdoaWNoIGd1YXJhbnRlZXMgdXMgY29udGV4dClcblx0aWYgKCBtYXRjaC5sZW5ndGggPT09IDEgKSB7XG5cblx0XHQvLyBSZWR1Y2UgY29udGV4dCBpZiB0aGUgbGVhZGluZyBjb21wb3VuZCBzZWxlY3RvciBpcyBhbiBJRFxuXHRcdHRva2VucyA9IG1hdGNoWzBdID0gbWF0Y2hbMF0uc2xpY2UoIDAgKTtcblx0XHRpZiAoIHRva2Vucy5sZW5ndGggPiAyICYmICh0b2tlbiA9IHRva2Vuc1swXSkudHlwZSA9PT0gXCJJRFwiICYmXG5cdFx0XHRcdHN1cHBvcnQuZ2V0QnlJZCAmJiBjb250ZXh0Lm5vZGVUeXBlID09PSA5ICYmIGRvY3VtZW50SXNIVE1MICYmXG5cdFx0XHRcdEV4cHIucmVsYXRpdmVbIHRva2Vuc1sxXS50eXBlIF0gKSB7XG5cblx0XHRcdGNvbnRleHQgPSAoIEV4cHIuZmluZFtcIklEXCJdKCB0b2tlbi5tYXRjaGVzWzBdLnJlcGxhY2UocnVuZXNjYXBlLCBmdW5lc2NhcGUpLCBjb250ZXh0ICkgfHwgW10gKVswXTtcblx0XHRcdGlmICggIWNvbnRleHQgKSB7XG5cdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXG5cdFx0XHQvLyBQcmVjb21waWxlZCBtYXRjaGVycyB3aWxsIHN0aWxsIHZlcmlmeSBhbmNlc3RyeSwgc28gc3RlcCB1cCBhIGxldmVsXG5cdFx0XHR9IGVsc2UgaWYgKCBjb21waWxlZCApIHtcblx0XHRcdFx0Y29udGV4dCA9IGNvbnRleHQucGFyZW50Tm9kZTtcblx0XHRcdH1cblxuXHRcdFx0c2VsZWN0b3IgPSBzZWxlY3Rvci5zbGljZSggdG9rZW5zLnNoaWZ0KCkudmFsdWUubGVuZ3RoICk7XG5cdFx0fVxuXG5cdFx0Ly8gRmV0Y2ggYSBzZWVkIHNldCBmb3IgcmlnaHQtdG8tbGVmdCBtYXRjaGluZ1xuXHRcdGkgPSBtYXRjaEV4cHJbXCJuZWVkc0NvbnRleHRcIl0udGVzdCggc2VsZWN0b3IgKSA/IDAgOiB0b2tlbnMubGVuZ3RoO1xuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0dG9rZW4gPSB0b2tlbnNbaV07XG5cblx0XHRcdC8vIEFib3J0IGlmIHdlIGhpdCBhIGNvbWJpbmF0b3Jcblx0XHRcdGlmICggRXhwci5yZWxhdGl2ZVsgKHR5cGUgPSB0b2tlbi50eXBlKSBdICkge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGlmICggKGZpbmQgPSBFeHByLmZpbmRbIHR5cGUgXSkgKSB7XG5cdFx0XHRcdC8vIFNlYXJjaCwgZXhwYW5kaW5nIGNvbnRleHQgZm9yIGxlYWRpbmcgc2libGluZyBjb21iaW5hdG9yc1xuXHRcdFx0XHRpZiAoIChzZWVkID0gZmluZChcblx0XHRcdFx0XHR0b2tlbi5tYXRjaGVzWzBdLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICksXG5cdFx0XHRcdFx0cnNpYmxpbmcudGVzdCggdG9rZW5zWzBdLnR5cGUgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHwgY29udGV4dFxuXHRcdFx0XHQpKSApIHtcblxuXHRcdFx0XHRcdC8vIElmIHNlZWQgaXMgZW1wdHkgb3Igbm8gdG9rZW5zIHJlbWFpbiwgd2UgY2FuIHJldHVybiBlYXJseVxuXHRcdFx0XHRcdHRva2Vucy5zcGxpY2UoIGksIDEgKTtcblx0XHRcdFx0XHRzZWxlY3RvciA9IHNlZWQubGVuZ3RoICYmIHRvU2VsZWN0b3IoIHRva2VucyApO1xuXHRcdFx0XHRcdGlmICggIXNlbGVjdG9yICkge1xuXHRcdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgc2VlZCApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBDb21waWxlIGFuZCBleGVjdXRlIGEgZmlsdGVyaW5nIGZ1bmN0aW9uIGlmIG9uZSBpcyBub3QgcHJvdmlkZWRcblx0Ly8gUHJvdmlkZSBgbWF0Y2hgIHRvIGF2b2lkIHJldG9rZW5pemF0aW9uIGlmIHdlIG1vZGlmaWVkIHRoZSBzZWxlY3RvciBhYm92ZVxuXHQoIGNvbXBpbGVkIHx8IGNvbXBpbGUoIHNlbGVjdG9yLCBtYXRjaCApICkoXG5cdFx0c2VlZCxcblx0XHRjb250ZXh0LFxuXHRcdCFkb2N1bWVudElzSFRNTCxcblx0XHRyZXN1bHRzLFxuXHRcdCFjb250ZXh0IHx8IHJzaWJsaW5nLnRlc3QoIHNlbGVjdG9yICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8IGNvbnRleHRcblx0KTtcblx0cmV0dXJuIHJlc3VsdHM7XG59O1xuXG4vLyBPbmUtdGltZSBhc3NpZ25tZW50c1xuXG4vLyBTb3J0IHN0YWJpbGl0eVxuc3VwcG9ydC5zb3J0U3RhYmxlID0gZXhwYW5kby5zcGxpdChcIlwiKS5zb3J0KCBzb3J0T3JkZXIgKS5qb2luKFwiXCIpID09PSBleHBhbmRvO1xuXG4vLyBTdXBwb3J0OiBDaHJvbWUgMTQtMzUrXG4vLyBBbHdheXMgYXNzdW1lIGR1cGxpY2F0ZXMgaWYgdGhleSBhcmVuJ3QgcGFzc2VkIHRvIHRoZSBjb21wYXJpc29uIGZ1bmN0aW9uXG5zdXBwb3J0LmRldGVjdER1cGxpY2F0ZXMgPSAhIWhhc0R1cGxpY2F0ZTtcblxuLy8gSW5pdGlhbGl6ZSBhZ2FpbnN0IHRoZSBkZWZhdWx0IGRvY3VtZW50XG5zZXREb2N1bWVudCgpO1xuXG4vLyBTdXBwb3J0OiBXZWJraXQ8NTM3LjMyIC0gU2FmYXJpIDYuMC4zL0Nocm9tZSAyNSAoZml4ZWQgaW4gQ2hyb21lIDI3KVxuLy8gRGV0YWNoZWQgbm9kZXMgY29uZm91bmRpbmdseSBmb2xsb3cgKmVhY2ggb3RoZXIqXG5zdXBwb3J0LnNvcnREZXRhY2hlZCA9IGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdC8vIFNob3VsZCByZXR1cm4gMSwgYnV0IHJldHVybnMgNCAoZm9sbG93aW5nKVxuXHRyZXR1cm4gZWwuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmaWVsZHNldFwiKSApICYgMTtcbn0pO1xuXG4vLyBTdXBwb3J0OiBJRTw4XG4vLyBQcmV2ZW50IGF0dHJpYnV0ZS9wcm9wZXJ0eSBcImludGVycG9sYXRpb25cIlxuLy8gaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczUzNjQyOSUyOFZTLjg1JTI5LmFzcHhcbmlmICggIWFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdGVsLmlubmVySFRNTCA9IFwiPGEgaHJlZj0nIyc+PC9hPlwiO1xuXHRyZXR1cm4gZWwuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpID09PSBcIiNcIiA7XG59KSApIHtcblx0YWRkSGFuZGxlKCBcInR5cGV8aHJlZnxoZWlnaHR8d2lkdGhcIiwgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdGlmICggIWlzWE1MICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwidHlwZVwiID8gMSA6IDIgKTtcblx0XHR9XG5cdH0pO1xufVxuXG4vLyBTdXBwb3J0OiBJRTw5XG4vLyBVc2UgZGVmYXVsdFZhbHVlIGluIHBsYWNlIG9mIGdldEF0dHJpYnV0ZShcInZhbHVlXCIpXG5pZiAoICFzdXBwb3J0LmF0dHJpYnV0ZXMgfHwgIWFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdGVsLmlubmVySFRNTCA9IFwiPGlucHV0Lz5cIjtcblx0ZWwuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiwgXCJcIiApO1xuXHRyZXR1cm4gZWwuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiApID09PSBcIlwiO1xufSkgKSB7XG5cdGFkZEhhbmRsZSggXCJ2YWx1ZVwiLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0aWYgKCAhaXNYTUwgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImlucHV0XCIgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5kZWZhdWx0VmFsdWU7XG5cdFx0fVxuXHR9KTtcbn1cblxuLy8gU3VwcG9ydDogSUU8OVxuLy8gVXNlIGdldEF0dHJpYnV0ZU5vZGUgdG8gZmV0Y2ggYm9vbGVhbnMgd2hlbiBnZXRBdHRyaWJ1dGUgbGllc1xuaWYgKCAhYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0cmV0dXJuIGVsLmdldEF0dHJpYnV0ZShcImRpc2FibGVkXCIpID09IG51bGw7XG59KSApIHtcblx0YWRkSGFuZGxlKCBib29sZWFucywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdHZhciB2YWw7XG5cdFx0aWYgKCAhaXNYTUwgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbVsgbmFtZSBdID09PSB0cnVlID8gbmFtZS50b0xvd2VyQ2FzZSgpIDpcblx0XHRcdFx0XHQodmFsID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKCBuYW1lICkpICYmIHZhbC5zcGVjaWZpZWQgP1xuXHRcdFx0XHRcdHZhbC52YWx1ZSA6XG5cdFx0XHRcdG51bGw7XG5cdFx0fVxuXHR9KTtcbn1cblxucmV0dXJuIFNpenpsZTtcblxufSkoIHdpbmRvdyApO1xuXG5cblxualF1ZXJ5LmZpbmQgPSBTaXp6bGU7XG5qUXVlcnkuZXhwciA9IFNpenpsZS5zZWxlY3RvcnM7XG5cbi8vIERlcHJlY2F0ZWRcbmpRdWVyeS5leHByWyBcIjpcIiBdID0galF1ZXJ5LmV4cHIucHNldWRvcztcbmpRdWVyeS51bmlxdWVTb3J0ID0galF1ZXJ5LnVuaXF1ZSA9IFNpenpsZS51bmlxdWVTb3J0O1xualF1ZXJ5LnRleHQgPSBTaXp6bGUuZ2V0VGV4dDtcbmpRdWVyeS5pc1hNTERvYyA9IFNpenpsZS5pc1hNTDtcbmpRdWVyeS5jb250YWlucyA9IFNpenpsZS5jb250YWlucztcbmpRdWVyeS5lc2NhcGVTZWxlY3RvciA9IFNpenpsZS5lc2NhcGU7XG5cblxuXG5cbnZhciBkaXIgPSBmdW5jdGlvbiggZWxlbSwgZGlyLCB1bnRpbCApIHtcblx0dmFyIG1hdGNoZWQgPSBbXSxcblx0XHR0cnVuY2F0ZSA9IHVudGlsICE9PSB1bmRlZmluZWQ7XG5cblx0d2hpbGUgKCAoIGVsZW0gPSBlbGVtWyBkaXIgXSApICYmIGVsZW0ubm9kZVR5cGUgIT09IDkgKSB7XG5cdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0aWYgKCB0cnVuY2F0ZSAmJiBqUXVlcnkoIGVsZW0gKS5pcyggdW50aWwgKSApIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRtYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIG1hdGNoZWQ7XG59O1xuXG5cbnZhciBzaWJsaW5ncyA9IGZ1bmN0aW9uKCBuLCBlbGVtICkge1xuXHR2YXIgbWF0Y2hlZCA9IFtdO1xuXG5cdGZvciAoIDsgbjsgbiA9IG4ubmV4dFNpYmxpbmcgKSB7XG5cdFx0aWYgKCBuLm5vZGVUeXBlID09PSAxICYmIG4gIT09IGVsZW0gKSB7XG5cdFx0XHRtYXRjaGVkLnB1c2goIG4gKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gbWF0Y2hlZDtcbn07XG5cblxudmFyIHJuZWVkc0NvbnRleHQgPSBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7XG5cbnZhciByc2luZ2xlVGFnID0gKCAvXjwoW2Etel1bXlxcL1xcMD46XFx4MjBcXHRcXHJcXG5cXGZdKilbXFx4MjBcXHRcXHJcXG5cXGZdKlxcLz8+KD86PFxcL1xcMT58KSQvaSApO1xuXG5cblxudmFyIHJpc1NpbXBsZSA9IC9eLlteOiNcXFtcXC4sXSokLztcblxuLy8gSW1wbGVtZW50IHRoZSBpZGVudGljYWwgZnVuY3Rpb25hbGl0eSBmb3IgZmlsdGVyIGFuZCBub3RcbmZ1bmN0aW9uIHdpbm5vdyggZWxlbWVudHMsIHF1YWxpZmllciwgbm90ICkge1xuXHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBxdWFsaWZpZXIgKSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSwgaSApIHtcblx0XHRcdHJldHVybiAhIXF1YWxpZmllci5jYWxsKCBlbGVtLCBpLCBlbGVtICkgIT09IG5vdDtcblx0XHR9ICk7XG5cblx0fVxuXG5cdGlmICggcXVhbGlmaWVyLm5vZGVUeXBlICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuICggZWxlbSA9PT0gcXVhbGlmaWVyICkgIT09IG5vdDtcblx0XHR9ICk7XG5cblx0fVxuXG5cdGlmICggdHlwZW9mIHF1YWxpZmllciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRpZiAoIHJpc1NpbXBsZS50ZXN0KCBxdWFsaWZpZXIgKSApIHtcblx0XHRcdHJldHVybiBqUXVlcnkuZmlsdGVyKCBxdWFsaWZpZXIsIGVsZW1lbnRzLCBub3QgKTtcblx0XHR9XG5cblx0XHRxdWFsaWZpZXIgPSBqUXVlcnkuZmlsdGVyKCBxdWFsaWZpZXIsIGVsZW1lbnRzICk7XG5cdH1cblxuXHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gKCBpbmRleE9mLmNhbGwoIHF1YWxpZmllciwgZWxlbSApID4gLTEgKSAhPT0gbm90ICYmIGVsZW0ubm9kZVR5cGUgPT09IDE7XG5cdH0gKTtcbn1cblxualF1ZXJ5LmZpbHRlciA9IGZ1bmN0aW9uKCBleHByLCBlbGVtcywgbm90ICkge1xuXHR2YXIgZWxlbSA9IGVsZW1zWyAwIF07XG5cblx0aWYgKCBub3QgKSB7XG5cdFx0ZXhwciA9IFwiOm5vdChcIiArIGV4cHIgKyBcIilcIjtcblx0fVxuXG5cdHJldHVybiBlbGVtcy5sZW5ndGggPT09IDEgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSA/XG5cdFx0alF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBlbGVtLCBleHByICkgPyBbIGVsZW0gXSA6IFtdIDpcblx0XHRqUXVlcnkuZmluZC5tYXRjaGVzKCBleHByLCBqUXVlcnkuZ3JlcCggZWxlbXMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0ubm9kZVR5cGUgPT09IDE7XG5cdFx0fSApICk7XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGZpbmQ6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR2YXIgaSwgcmV0LFxuXHRcdFx0bGVuID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRzZWxmID0gdGhpcztcblxuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqUXVlcnkoIHNlbGVjdG9yICkuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0XHRpZiAoIGpRdWVyeS5jb250YWlucyggc2VsZlsgaSBdLCB0aGlzICkgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gKSApO1xuXHRcdH1cblxuXHRcdHJldCA9IHRoaXMucHVzaFN0YWNrKCBbXSApO1xuXG5cdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdGpRdWVyeS5maW5kKCBzZWxlY3Rvciwgc2VsZlsgaSBdLCByZXQgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbGVuID4gMSA/IGpRdWVyeS51bmlxdWVTb3J0KCByZXQgKSA6IHJldDtcblx0fSxcblx0ZmlsdGVyOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCB3aW5ub3coIHRoaXMsIHNlbGVjdG9yIHx8IFtdLCBmYWxzZSApICk7XG5cdH0sXG5cdG5vdDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggd2lubm93KCB0aGlzLCBzZWxlY3RvciB8fCBbXSwgdHJ1ZSApICk7XG5cdH0sXG5cdGlzOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuICEhd2lubm93KFxuXHRcdFx0dGhpcyxcblxuXHRcdFx0Ly8gSWYgdGhpcyBpcyBhIHBvc2l0aW9uYWwvcmVsYXRpdmUgc2VsZWN0b3IsIGNoZWNrIG1lbWJlcnNoaXAgaW4gdGhlIHJldHVybmVkIHNldFxuXHRcdFx0Ly8gc28gJChcInA6Zmlyc3RcIikuaXMoXCJwOmxhc3RcIikgd29uJ3QgcmV0dXJuIHRydWUgZm9yIGEgZG9jIHdpdGggdHdvIFwicFwiLlxuXHRcdFx0dHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICYmIHJuZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3IgKSA/XG5cdFx0XHRcdGpRdWVyeSggc2VsZWN0b3IgKSA6XG5cdFx0XHRcdHNlbGVjdG9yIHx8IFtdLFxuXHRcdFx0ZmFsc2Vcblx0XHQpLmxlbmd0aDtcblx0fVxufSApO1xuXG5cbi8vIEluaXRpYWxpemUgYSBqUXVlcnkgb2JqZWN0XG5cblxuLy8gQSBjZW50cmFsIHJlZmVyZW5jZSB0byB0aGUgcm9vdCBqUXVlcnkoZG9jdW1lbnQpXG52YXIgcm9vdGpRdWVyeSxcblxuXHQvLyBBIHNpbXBsZSB3YXkgdG8gY2hlY2sgZm9yIEhUTUwgc3RyaW5nc1xuXHQvLyBQcmlvcml0aXplICNpZCBvdmVyIDx0YWc+IHRvIGF2b2lkIFhTUyB2aWEgbG9jYXRpb24uaGFzaCAoIzk1MjEpXG5cdC8vIFN0cmljdCBIVE1MIHJlY29nbml0aW9uICgjMTEyOTA6IG11c3Qgc3RhcnQgd2l0aCA8KVxuXHQvLyBTaG9ydGN1dCBzaW1wbGUgI2lkIGNhc2UgZm9yIHNwZWVkXG5cdHJxdWlja0V4cHIgPSAvXig/OlxccyooPFtcXHdcXFddKz4pW14+XSp8IyhbXFx3LV0rKSkkLyxcblxuXHRpbml0ID0galF1ZXJ5LmZuLmluaXQgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQsIHJvb3QgKSB7XG5cdFx0dmFyIG1hdGNoLCBlbGVtO1xuXG5cdFx0Ly8gSEFORExFOiAkKFwiXCIpLCAkKG51bGwpLCAkKHVuZGVmaW5lZCksICQoZmFsc2UpXG5cdFx0aWYgKCAhc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cblx0XHQvLyBNZXRob2QgaW5pdCgpIGFjY2VwdHMgYW4gYWx0ZXJuYXRlIHJvb3RqUXVlcnlcblx0XHQvLyBzbyBtaWdyYXRlIGNhbiBzdXBwb3J0IGpRdWVyeS5zdWIgKGdoLTIxMDEpXG5cdFx0cm9vdCA9IHJvb3QgfHwgcm9vdGpRdWVyeTtcblxuXHRcdC8vIEhhbmRsZSBIVE1MIHN0cmluZ3Ncblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGlmICggc2VsZWN0b3JbIDAgXSA9PT0gXCI8XCIgJiZcblx0XHRcdFx0c2VsZWN0b3JbIHNlbGVjdG9yLmxlbmd0aCAtIDEgXSA9PT0gXCI+XCIgJiZcblx0XHRcdFx0c2VsZWN0b3IubGVuZ3RoID49IDMgKSB7XG5cblx0XHRcdFx0Ly8gQXNzdW1lIHRoYXQgc3RyaW5ncyB0aGF0IHN0YXJ0IGFuZCBlbmQgd2l0aCA8PiBhcmUgSFRNTCBhbmQgc2tpcCB0aGUgcmVnZXggY2hlY2tcblx0XHRcdFx0bWF0Y2ggPSBbIG51bGwsIHNlbGVjdG9yLCBudWxsIF07XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYXRjaCBodG1sIG9yIG1ha2Ugc3VyZSBubyBjb250ZXh0IGlzIHNwZWNpZmllZCBmb3IgI2lkXG5cdFx0XHRpZiAoIG1hdGNoICYmICggbWF0Y2hbIDEgXSB8fCAhY29udGV4dCApICkge1xuXG5cdFx0XHRcdC8vIEhBTkRMRTogJChodG1sKSAtPiAkKGFycmF5KVxuXHRcdFx0XHRpZiAoIG1hdGNoWyAxIF0gKSB7XG5cdFx0XHRcdFx0Y29udGV4dCA9IGNvbnRleHQgaW5zdGFuY2VvZiBqUXVlcnkgPyBjb250ZXh0WyAwIF0gOiBjb250ZXh0O1xuXG5cdFx0XHRcdFx0Ly8gT3B0aW9uIHRvIHJ1biBzY3JpcHRzIGlzIHRydWUgZm9yIGJhY2stY29tcGF0XG5cdFx0XHRcdFx0Ly8gSW50ZW50aW9uYWxseSBsZXQgdGhlIGVycm9yIGJlIHRocm93biBpZiBwYXJzZUhUTUwgaXMgbm90IHByZXNlbnRcblx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIHRoaXMsIGpRdWVyeS5wYXJzZUhUTUwoXG5cdFx0XHRcdFx0XHRtYXRjaFsgMSBdLFxuXHRcdFx0XHRcdFx0Y29udGV4dCAmJiBjb250ZXh0Lm5vZGVUeXBlID8gY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgOiBkb2N1bWVudCxcblx0XHRcdFx0XHRcdHRydWVcblx0XHRcdFx0XHQpICk7XG5cblx0XHRcdFx0XHQvLyBIQU5ETEU6ICQoaHRtbCwgcHJvcHMpXG5cdFx0XHRcdFx0aWYgKCByc2luZ2xlVGFnLnRlc3QoIG1hdGNoWyAxIF0gKSAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29udGV4dCApICkge1xuXHRcdFx0XHRcdFx0Zm9yICggbWF0Y2ggaW4gY29udGV4dCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBQcm9wZXJ0aWVzIG9mIGNvbnRleHQgYXJlIGNhbGxlZCBhcyBtZXRob2RzIGlmIHBvc3NpYmxlXG5cdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHRoaXNbIG1hdGNoIF0gKSApIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzWyBtYXRjaCBdKCBjb250ZXh0WyBtYXRjaCBdICk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gLi4uYW5kIG90aGVyd2lzZSBzZXQgYXMgYXR0cmlidXRlc1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuYXR0ciggbWF0Y2gsIGNvbnRleHRbIG1hdGNoIF0gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0XHRcdC8vIEhBTkRMRTogJCgjaWQpXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBtYXRjaFsgMiBdICk7XG5cblx0XHRcdFx0XHRpZiAoIGVsZW0gKSB7XG5cblx0XHRcdFx0XHRcdC8vIEluamVjdCB0aGUgZWxlbWVudCBkaXJlY3RseSBpbnRvIHRoZSBqUXVlcnkgb2JqZWN0XG5cdFx0XHRcdFx0XHR0aGlzWyAwIF0gPSBlbGVtO1xuXHRcdFx0XHRcdFx0dGhpcy5sZW5ndGggPSAxO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fVxuXG5cdFx0XHQvLyBIQU5ETEU6ICQoZXhwciwgJCguLi4pKVxuXHRcdFx0fSBlbHNlIGlmICggIWNvbnRleHQgfHwgY29udGV4dC5qcXVlcnkgKSB7XG5cdFx0XHRcdHJldHVybiAoIGNvbnRleHQgfHwgcm9vdCApLmZpbmQoIHNlbGVjdG9yICk7XG5cblx0XHRcdC8vIEhBTkRMRTogJChleHByLCBjb250ZXh0KVxuXHRcdFx0Ly8gKHdoaWNoIGlzIGp1c3QgZXF1aXZhbGVudCB0bzogJChjb250ZXh0KS5maW5kKGV4cHIpXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5jb25zdHJ1Y3RvciggY29udGV4dCApLmZpbmQoIHNlbGVjdG9yICk7XG5cdFx0XHR9XG5cblx0XHQvLyBIQU5ETEU6ICQoRE9NRWxlbWVudClcblx0XHR9IGVsc2UgaWYgKCBzZWxlY3Rvci5ub2RlVHlwZSApIHtcblx0XHRcdHRoaXNbIDAgXSA9IHNlbGVjdG9yO1xuXHRcdFx0dGhpcy5sZW5ndGggPSAxO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cblx0XHQvLyBIQU5ETEU6ICQoZnVuY3Rpb24pXG5cdFx0Ly8gU2hvcnRjdXQgZm9yIGRvY3VtZW50IHJlYWR5XG5cdFx0fSBlbHNlIGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHNlbGVjdG9yICkgKSB7XG5cdFx0XHRyZXR1cm4gcm9vdC5yZWFkeSAhPT0gdW5kZWZpbmVkID9cblx0XHRcdFx0cm9vdC5yZWFkeSggc2VsZWN0b3IgKSA6XG5cblx0XHRcdFx0Ly8gRXhlY3V0ZSBpbW1lZGlhdGVseSBpZiByZWFkeSBpcyBub3QgcHJlc2VudFxuXHRcdFx0XHRzZWxlY3RvciggalF1ZXJ5ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGpRdWVyeS5tYWtlQXJyYXkoIHNlbGVjdG9yLCB0aGlzICk7XG5cdH07XG5cbi8vIEdpdmUgdGhlIGluaXQgZnVuY3Rpb24gdGhlIGpRdWVyeSBwcm90b3R5cGUgZm9yIGxhdGVyIGluc3RhbnRpYXRpb25cbmluaXQucHJvdG90eXBlID0galF1ZXJ5LmZuO1xuXG4vLyBJbml0aWFsaXplIGNlbnRyYWwgcmVmZXJlbmNlXG5yb290alF1ZXJ5ID0galF1ZXJ5KCBkb2N1bWVudCApO1xuXG5cbnZhciBycGFyZW50c3ByZXYgPSAvXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLyxcblxuXHQvLyBNZXRob2RzIGd1YXJhbnRlZWQgdG8gcHJvZHVjZSBhIHVuaXF1ZSBzZXQgd2hlbiBzdGFydGluZyBmcm9tIGEgdW5pcXVlIHNldFxuXHRndWFyYW50ZWVkVW5pcXVlID0ge1xuXHRcdGNoaWxkcmVuOiB0cnVlLFxuXHRcdGNvbnRlbnRzOiB0cnVlLFxuXHRcdG5leHQ6IHRydWUsXG5cdFx0cHJldjogdHJ1ZVxuXHR9O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGhhczogZnVuY3Rpb24oIHRhcmdldCApIHtcblx0XHR2YXIgdGFyZ2V0cyA9IGpRdWVyeSggdGFyZ2V0LCB0aGlzICksXG5cdFx0XHRsID0gdGFyZ2V0cy5sZW5ndGg7XG5cblx0XHRyZXR1cm4gdGhpcy5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGkgPSAwO1xuXHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIGpRdWVyeS5jb250YWlucyggdGhpcywgdGFyZ2V0c1sgaSBdICkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0Y2xvc2VzdDogZnVuY3Rpb24oIHNlbGVjdG9ycywgY29udGV4dCApIHtcblx0XHR2YXIgY3VyLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRsID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRtYXRjaGVkID0gW10sXG5cdFx0XHR0YXJnZXRzID0gdHlwZW9mIHNlbGVjdG9ycyAhPT0gXCJzdHJpbmdcIiAmJiBqUXVlcnkoIHNlbGVjdG9ycyApO1xuXG5cdFx0Ly8gUG9zaXRpb25hbCBzZWxlY3RvcnMgbmV2ZXIgbWF0Y2gsIHNpbmNlIHRoZXJlJ3Mgbm8gX3NlbGVjdGlvbl8gY29udGV4dFxuXHRcdGlmICggIXJuZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3JzICkgKSB7XG5cdFx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdGZvciAoIGN1ciA9IHRoaXNbIGkgXTsgY3VyICYmIGN1ciAhPT0gY29udGV4dDsgY3VyID0gY3VyLnBhcmVudE5vZGUgKSB7XG5cblx0XHRcdFx0XHQvLyBBbHdheXMgc2tpcCBkb2N1bWVudCBmcmFnbWVudHNcblx0XHRcdFx0XHRpZiAoIGN1ci5ub2RlVHlwZSA8IDExICYmICggdGFyZ2V0cyA/XG5cdFx0XHRcdFx0XHR0YXJnZXRzLmluZGV4KCBjdXIgKSA+IC0xIDpcblxuXHRcdFx0XHRcdFx0Ly8gRG9uJ3QgcGFzcyBub24tZWxlbWVudHMgdG8gU2l6emxlXG5cdFx0XHRcdFx0XHRjdXIubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0XHRcdFx0alF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBjdXIsIHNlbGVjdG9ycyApICkgKSB7XG5cblx0XHRcdFx0XHRcdG1hdGNoZWQucHVzaCggY3VyICk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIG1hdGNoZWQubGVuZ3RoID4gMSA/IGpRdWVyeS51bmlxdWVTb3J0KCBtYXRjaGVkICkgOiBtYXRjaGVkICk7XG5cdH0sXG5cblx0Ly8gRGV0ZXJtaW5lIHRoZSBwb3NpdGlvbiBvZiBhbiBlbGVtZW50IHdpdGhpbiB0aGUgc2V0XG5cdGluZGV4OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdC8vIE5vIGFyZ3VtZW50LCByZXR1cm4gaW5kZXggaW4gcGFyZW50XG5cdFx0aWYgKCAhZWxlbSApIHtcblx0XHRcdHJldHVybiAoIHRoaXNbIDAgXSAmJiB0aGlzWyAwIF0ucGFyZW50Tm9kZSApID8gdGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGggOiAtMTtcblx0XHR9XG5cblx0XHQvLyBJbmRleCBpbiBzZWxlY3RvclxuXHRcdGlmICggdHlwZW9mIGVsZW0gPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gaW5kZXhPZi5jYWxsKCBqUXVlcnkoIGVsZW0gKSwgdGhpc1sgMCBdICk7XG5cdFx0fVxuXG5cdFx0Ly8gTG9jYXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgZGVzaXJlZCBlbGVtZW50XG5cdFx0cmV0dXJuIGluZGV4T2YuY2FsbCggdGhpcyxcblxuXHRcdFx0Ly8gSWYgaXQgcmVjZWl2ZXMgYSBqUXVlcnkgb2JqZWN0LCB0aGUgZmlyc3QgZWxlbWVudCBpcyB1c2VkXG5cdFx0XHRlbGVtLmpxdWVyeSA/IGVsZW1bIDAgXSA6IGVsZW1cblx0XHQpO1xuXHR9LFxuXG5cdGFkZDogZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0ICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayhcblx0XHRcdGpRdWVyeS51bmlxdWVTb3J0KFxuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIHRoaXMuZ2V0KCksIGpRdWVyeSggc2VsZWN0b3IsIGNvbnRleHQgKSApXG5cdFx0XHQpXG5cdFx0KTtcblx0fSxcblxuXHRhZGRCYWNrOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHRoaXMuYWRkKCBzZWxlY3RvciA9PSBudWxsID9cblx0XHRcdHRoaXMucHJldk9iamVjdCA6IHRoaXMucHJldk9iamVjdC5maWx0ZXIoIHNlbGVjdG9yIClcblx0XHQpO1xuXHR9XG59ICk7XG5cbmZ1bmN0aW9uIHNpYmxpbmcoIGN1ciwgZGlyICkge1xuXHR3aGlsZSAoICggY3VyID0gY3VyWyBkaXIgXSApICYmIGN1ci5ub2RlVHlwZSAhPT0gMSApIHt9XG5cdHJldHVybiBjdXI7XG59XG5cbmpRdWVyeS5lYWNoKCB7XG5cdHBhcmVudDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0dmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcblx0XHRyZXR1cm4gcGFyZW50ICYmIHBhcmVudC5ub2RlVHlwZSAhPT0gMTEgPyBwYXJlbnQgOiBudWxsO1xuXHR9LFxuXHRwYXJlbnRzOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInBhcmVudE5vZGVcIiApO1xuXHR9LFxuXHRwYXJlbnRzVW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInBhcmVudE5vZGVcIiwgdW50aWwgKTtcblx0fSxcblx0bmV4dDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmcoIGVsZW0sIFwibmV4dFNpYmxpbmdcIiApO1xuXHR9LFxuXHRwcmV2OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gc2libGluZyggZWxlbSwgXCJwcmV2aW91c1NpYmxpbmdcIiApO1xuXHR9LFxuXHRuZXh0QWxsOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIgKTtcblx0fSxcblx0cHJldkFsbDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwcmV2aW91c1NpYmxpbmdcIiApO1xuXHR9LFxuXHRuZXh0VW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIsIHVudGlsICk7XG5cdH0sXG5cdHByZXZVbnRpbDogZnVuY3Rpb24oIGVsZW0sIGksIHVudGlsICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIsIHVudGlsICk7XG5cdH0sXG5cdHNpYmxpbmdzOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gc2libGluZ3MoICggZWxlbS5wYXJlbnROb2RlIHx8IHt9ICkuZmlyc3RDaGlsZCwgZWxlbSApO1xuXHR9LFxuXHRjaGlsZHJlbjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmdzKCBlbGVtLmZpcnN0Q2hpbGQgKTtcblx0fSxcblx0Y29udGVudHM6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBlbGVtLmNvbnRlbnREb2N1bWVudCB8fCBqUXVlcnkubWVyZ2UoIFtdLCBlbGVtLmNoaWxkTm9kZXMgKTtcblx0fVxufSwgZnVuY3Rpb24oIG5hbWUsIGZuICkge1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCB1bnRpbCwgc2VsZWN0b3IgKSB7XG5cdFx0dmFyIG1hdGNoZWQgPSBqUXVlcnkubWFwKCB0aGlzLCBmbiwgdW50aWwgKTtcblxuXHRcdGlmICggbmFtZS5zbGljZSggLTUgKSAhPT0gXCJVbnRpbFwiICkge1xuXHRcdFx0c2VsZWN0b3IgPSB1bnRpbDtcblx0XHR9XG5cblx0XHRpZiAoIHNlbGVjdG9yICYmIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdG1hdGNoZWQgPSBqUXVlcnkuZmlsdGVyKCBzZWxlY3RvciwgbWF0Y2hlZCApO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5sZW5ndGggPiAxICkge1xuXG5cdFx0XHQvLyBSZW1vdmUgZHVwbGljYXRlc1xuXHRcdFx0aWYgKCAhZ3VhcmFudGVlZFVuaXF1ZVsgbmFtZSBdICkge1xuXHRcdFx0XHRqUXVlcnkudW5pcXVlU29ydCggbWF0Y2hlZCApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZXZlcnNlIG9yZGVyIGZvciBwYXJlbnRzKiBhbmQgcHJldi1kZXJpdmF0aXZlc1xuXHRcdFx0aWYgKCBycGFyZW50c3ByZXYudGVzdCggbmFtZSApICkge1xuXHRcdFx0XHRtYXRjaGVkLnJldmVyc2UoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIG1hdGNoZWQgKTtcblx0fTtcbn0gKTtcbnZhciBybm90d2hpdGUgPSAoIC9cXFMrL2cgKTtcblxuXG5cbi8vIENvbnZlcnQgU3RyaW5nLWZvcm1hdHRlZCBvcHRpb25zIGludG8gT2JqZWN0LWZvcm1hdHRlZCBvbmVzXG5mdW5jdGlvbiBjcmVhdGVPcHRpb25zKCBvcHRpb25zICkge1xuXHR2YXIgb2JqZWN0ID0ge307XG5cdGpRdWVyeS5lYWNoKCBvcHRpb25zLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbXSwgZnVuY3Rpb24oIF8sIGZsYWcgKSB7XG5cdFx0b2JqZWN0WyBmbGFnIF0gPSB0cnVlO1xuXHR9ICk7XG5cdHJldHVybiBvYmplY3Q7XG59XG5cbi8qXG4gKiBDcmVhdGUgYSBjYWxsYmFjayBsaXN0IHVzaW5nIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVyczpcbiAqXG4gKlx0b3B0aW9uczogYW4gb3B0aW9uYWwgbGlzdCBvZiBzcGFjZS1zZXBhcmF0ZWQgb3B0aW9ucyB0aGF0IHdpbGwgY2hhbmdlIGhvd1xuICpcdFx0XHR0aGUgY2FsbGJhY2sgbGlzdCBiZWhhdmVzIG9yIGEgbW9yZSB0cmFkaXRpb25hbCBvcHRpb24gb2JqZWN0XG4gKlxuICogQnkgZGVmYXVsdCBhIGNhbGxiYWNrIGxpc3Qgd2lsbCBhY3QgbGlrZSBhbiBldmVudCBjYWxsYmFjayBsaXN0IGFuZCBjYW4gYmVcbiAqIFwiZmlyZWRcIiBtdWx0aXBsZSB0aW1lcy5cbiAqXG4gKiBQb3NzaWJsZSBvcHRpb25zOlxuICpcbiAqXHRvbmNlOlx0XHRcdHdpbGwgZW5zdXJlIHRoZSBjYWxsYmFjayBsaXN0IGNhbiBvbmx5IGJlIGZpcmVkIG9uY2UgKGxpa2UgYSBEZWZlcnJlZClcbiAqXG4gKlx0bWVtb3J5Olx0XHRcdHdpbGwga2VlcCB0cmFjayBvZiBwcmV2aW91cyB2YWx1ZXMgYW5kIHdpbGwgY2FsbCBhbnkgY2FsbGJhY2sgYWRkZWRcbiAqXHRcdFx0XHRcdGFmdGVyIHRoZSBsaXN0IGhhcyBiZWVuIGZpcmVkIHJpZ2h0IGF3YXkgd2l0aCB0aGUgbGF0ZXN0IFwibWVtb3JpemVkXCJcbiAqXHRcdFx0XHRcdHZhbHVlcyAobGlrZSBhIERlZmVycmVkKVxuICpcbiAqXHR1bmlxdWU6XHRcdFx0d2lsbCBlbnN1cmUgYSBjYWxsYmFjayBjYW4gb25seSBiZSBhZGRlZCBvbmNlIChubyBkdXBsaWNhdGUgaW4gdGhlIGxpc3QpXG4gKlxuICpcdHN0b3BPbkZhbHNlOlx0aW50ZXJydXB0IGNhbGxpbmdzIHdoZW4gYSBjYWxsYmFjayByZXR1cm5zIGZhbHNlXG4gKlxuICovXG5qUXVlcnkuQ2FsbGJhY2tzID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cblx0Ly8gQ29udmVydCBvcHRpb25zIGZyb20gU3RyaW5nLWZvcm1hdHRlZCB0byBPYmplY3QtZm9ybWF0dGVkIGlmIG5lZWRlZFxuXHQvLyAod2UgY2hlY2sgaW4gY2FjaGUgZmlyc3QpXG5cdG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIiA/XG5cdFx0Y3JlYXRlT3B0aW9ucyggb3B0aW9ucyApIDpcblx0XHRqUXVlcnkuZXh0ZW5kKCB7fSwgb3B0aW9ucyApO1xuXG5cdHZhciAvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCBpcyBjdXJyZW50bHkgZmlyaW5nXG5cdFx0ZmlyaW5nLFxuXG5cdFx0Ly8gTGFzdCBmaXJlIHZhbHVlIGZvciBub24tZm9yZ2V0dGFibGUgbGlzdHNcblx0XHRtZW1vcnksXG5cblx0XHQvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCB3YXMgYWxyZWFkeSBmaXJlZFxuXHRcdGZpcmVkLFxuXG5cdFx0Ly8gRmxhZyB0byBwcmV2ZW50IGZpcmluZ1xuXHRcdGxvY2tlZCxcblxuXHRcdC8vIEFjdHVhbCBjYWxsYmFjayBsaXN0XG5cdFx0bGlzdCA9IFtdLFxuXG5cdFx0Ly8gUXVldWUgb2YgZXhlY3V0aW9uIGRhdGEgZm9yIHJlcGVhdGFibGUgbGlzdHNcblx0XHRxdWV1ZSA9IFtdLFxuXG5cdFx0Ly8gSW5kZXggb2YgY3VycmVudGx5IGZpcmluZyBjYWxsYmFjayAobW9kaWZpZWQgYnkgYWRkL3JlbW92ZSBhcyBuZWVkZWQpXG5cdFx0ZmlyaW5nSW5kZXggPSAtMSxcblxuXHRcdC8vIEZpcmUgY2FsbGJhY2tzXG5cdFx0ZmlyZSA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBFbmZvcmNlIHNpbmdsZS1maXJpbmdcblx0XHRcdGxvY2tlZCA9IG9wdGlvbnMub25jZTtcblxuXHRcdFx0Ly8gRXhlY3V0ZSBjYWxsYmFja3MgZm9yIGFsbCBwZW5kaW5nIGV4ZWN1dGlvbnMsXG5cdFx0XHQvLyByZXNwZWN0aW5nIGZpcmluZ0luZGV4IG92ZXJyaWRlcyBhbmQgcnVudGltZSBjaGFuZ2VzXG5cdFx0XHRmaXJlZCA9IGZpcmluZyA9IHRydWU7XG5cdFx0XHRmb3IgKCA7IHF1ZXVlLmxlbmd0aDsgZmlyaW5nSW5kZXggPSAtMSApIHtcblx0XHRcdFx0bWVtb3J5ID0gcXVldWUuc2hpZnQoKTtcblx0XHRcdFx0d2hpbGUgKCArK2ZpcmluZ0luZGV4IDwgbGlzdC5sZW5ndGggKSB7XG5cblx0XHRcdFx0XHQvLyBSdW4gY2FsbGJhY2sgYW5kIGNoZWNrIGZvciBlYXJseSB0ZXJtaW5hdGlvblxuXHRcdFx0XHRcdGlmICggbGlzdFsgZmlyaW5nSW5kZXggXS5hcHBseSggbWVtb3J5WyAwIF0sIG1lbW9yeVsgMSBdICkgPT09IGZhbHNlICYmXG5cdFx0XHRcdFx0XHRvcHRpb25zLnN0b3BPbkZhbHNlICkge1xuXG5cdFx0XHRcdFx0XHQvLyBKdW1wIHRvIGVuZCBhbmQgZm9yZ2V0IHRoZSBkYXRhIHNvIC5hZGQgZG9lc24ndCByZS1maXJlXG5cdFx0XHRcdFx0XHRmaXJpbmdJbmRleCA9IGxpc3QubGVuZ3RoO1xuXHRcdFx0XHRcdFx0bWVtb3J5ID0gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEZvcmdldCB0aGUgZGF0YSBpZiB3ZSdyZSBkb25lIHdpdGggaXRcblx0XHRcdGlmICggIW9wdGlvbnMubWVtb3J5ICkge1xuXHRcdFx0XHRtZW1vcnkgPSBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0ZmlyaW5nID0gZmFsc2U7XG5cblx0XHRcdC8vIENsZWFuIHVwIGlmIHdlJ3JlIGRvbmUgZmlyaW5nIGZvciBnb29kXG5cdFx0XHRpZiAoIGxvY2tlZCApIHtcblxuXHRcdFx0XHQvLyBLZWVwIGFuIGVtcHR5IGxpc3QgaWYgd2UgaGF2ZSBkYXRhIGZvciBmdXR1cmUgYWRkIGNhbGxzXG5cdFx0XHRcdGlmICggbWVtb3J5ICkge1xuXHRcdFx0XHRcdGxpc3QgPSBbXTtcblxuXHRcdFx0XHQvLyBPdGhlcndpc2UsIHRoaXMgb2JqZWN0IGlzIHNwZW50XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bGlzdCA9IFwiXCI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0Ly8gQWN0dWFsIENhbGxiYWNrcyBvYmplY3Rcblx0XHRzZWxmID0ge1xuXG5cdFx0XHQvLyBBZGQgYSBjYWxsYmFjayBvciBhIGNvbGxlY3Rpb24gb2YgY2FsbGJhY2tzIHRvIHRoZSBsaXN0XG5cdFx0XHRhZGQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIGxpc3QgKSB7XG5cblx0XHRcdFx0XHQvLyBJZiB3ZSBoYXZlIG1lbW9yeSBmcm9tIGEgcGFzdCBydW4sIHdlIHNob3VsZCBmaXJlIGFmdGVyIGFkZGluZ1xuXHRcdFx0XHRcdGlmICggbWVtb3J5ICYmICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRmaXJpbmdJbmRleCA9IGxpc3QubGVuZ3RoIC0gMTtcblx0XHRcdFx0XHRcdHF1ZXVlLnB1c2goIG1lbW9yeSApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdCggZnVuY3Rpb24gYWRkKCBhcmdzICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5LmVhY2goIGFyZ3MsIGZ1bmN0aW9uKCBfLCBhcmcgKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGFyZyApICkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICggIW9wdGlvbnMudW5pcXVlIHx8ICFzZWxmLmhhcyggYXJnICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRsaXN0LnB1c2goIGFyZyApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmICggYXJnICYmIGFyZy5sZW5ndGggJiYgalF1ZXJ5LnR5cGUoIGFyZyApICE9PSBcInN0cmluZ1wiICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gSW5zcGVjdCByZWN1cnNpdmVseVxuXHRcdFx0XHRcdFx0XHRcdGFkZCggYXJnICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHR9ICkoIGFyZ3VtZW50cyApO1xuXG5cdFx0XHRcdFx0aWYgKCBtZW1vcnkgJiYgIWZpcmluZyApIHtcblx0XHRcdFx0XHRcdGZpcmUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBSZW1vdmUgYSBjYWxsYmFjayBmcm9tIHRoZSBsaXN0XG5cdFx0XHRyZW1vdmU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRqUXVlcnkuZWFjaCggYXJndW1lbnRzLCBmdW5jdGlvbiggXywgYXJnICkge1xuXHRcdFx0XHRcdHZhciBpbmRleDtcblx0XHRcdFx0XHR3aGlsZSAoICggaW5kZXggPSBqUXVlcnkuaW5BcnJheSggYXJnLCBsaXN0LCBpbmRleCApICkgPiAtMSApIHtcblx0XHRcdFx0XHRcdGxpc3Quc3BsaWNlKCBpbmRleCwgMSApO1xuXG5cdFx0XHRcdFx0XHQvLyBIYW5kbGUgZmlyaW5nIGluZGV4ZXNcblx0XHRcdFx0XHRcdGlmICggaW5kZXggPD0gZmlyaW5nSW5kZXggKSB7XG5cdFx0XHRcdFx0XHRcdGZpcmluZ0luZGV4LS07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gQ2hlY2sgaWYgYSBnaXZlbiBjYWxsYmFjayBpcyBpbiB0aGUgbGlzdC5cblx0XHRcdC8vIElmIG5vIGFyZ3VtZW50IGlzIGdpdmVuLCByZXR1cm4gd2hldGhlciBvciBub3QgbGlzdCBoYXMgY2FsbGJhY2tzIGF0dGFjaGVkLlxuXHRcdFx0aGFzOiBmdW5jdGlvbiggZm4gKSB7XG5cdFx0XHRcdHJldHVybiBmbiA/XG5cdFx0XHRcdFx0alF1ZXJ5LmluQXJyYXkoIGZuLCBsaXN0ICkgPiAtMSA6XG5cdFx0XHRcdFx0bGlzdC5sZW5ndGggPiAwO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gUmVtb3ZlIGFsbCBjYWxsYmFja3MgZnJvbSB0aGUgbGlzdFxuXHRcdFx0ZW1wdHk6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIGxpc3QgKSB7XG5cdFx0XHRcdFx0bGlzdCA9IFtdO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gRGlzYWJsZSAuZmlyZSBhbmQgLmFkZFxuXHRcdFx0Ly8gQWJvcnQgYW55IGN1cnJlbnQvcGVuZGluZyBleGVjdXRpb25zXG5cdFx0XHQvLyBDbGVhciBhbGwgY2FsbGJhY2tzIGFuZCB2YWx1ZXNcblx0XHRcdGRpc2FibGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRsb2NrZWQgPSBxdWV1ZSA9IFtdO1xuXHRcdFx0XHRsaXN0ID0gbWVtb3J5ID0gXCJcIjtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXHRcdFx0ZGlzYWJsZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gIWxpc3Q7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBEaXNhYmxlIC5maXJlXG5cdFx0XHQvLyBBbHNvIGRpc2FibGUgLmFkZCB1bmxlc3Mgd2UgaGF2ZSBtZW1vcnkgKHNpbmNlIGl0IHdvdWxkIGhhdmUgbm8gZWZmZWN0KVxuXHRcdFx0Ly8gQWJvcnQgYW55IHBlbmRpbmcgZXhlY3V0aW9uc1xuXHRcdFx0bG9jazogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGxvY2tlZCA9IHF1ZXVlID0gW107XG5cdFx0XHRcdGlmICggIW1lbW9yeSAmJiAhZmlyaW5nICkge1xuXHRcdFx0XHRcdGxpc3QgPSBtZW1vcnkgPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblx0XHRcdGxvY2tlZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAhIWxvY2tlZDtcblx0XHRcdH0sXG5cblx0XHRcdC8vIENhbGwgYWxsIGNhbGxiYWNrcyB3aXRoIHRoZSBnaXZlbiBjb250ZXh0IGFuZCBhcmd1bWVudHNcblx0XHRcdGZpcmVXaXRoOiBmdW5jdGlvbiggY29udGV4dCwgYXJncyApIHtcblx0XHRcdFx0aWYgKCAhbG9ja2VkICkge1xuXHRcdFx0XHRcdGFyZ3MgPSBhcmdzIHx8IFtdO1xuXHRcdFx0XHRcdGFyZ3MgPSBbIGNvbnRleHQsIGFyZ3Muc2xpY2UgPyBhcmdzLnNsaWNlKCkgOiBhcmdzIF07XG5cdFx0XHRcdFx0cXVldWUucHVzaCggYXJncyApO1xuXHRcdFx0XHRcdGlmICggIWZpcmluZyApIHtcblx0XHRcdFx0XHRcdGZpcmUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBDYWxsIGFsbCB0aGUgY2FsbGJhY2tzIHdpdGggdGhlIGdpdmVuIGFyZ3VtZW50c1xuXHRcdFx0ZmlyZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNlbGYuZmlyZVdpdGgoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIFRvIGtub3cgaWYgdGhlIGNhbGxiYWNrcyBoYXZlIGFscmVhZHkgYmVlbiBjYWxsZWQgYXQgbGVhc3Qgb25jZVxuXHRcdFx0ZmlyZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gISFmaXJlZDtcblx0XHRcdH1cblx0XHR9O1xuXG5cdHJldHVybiBzZWxmO1xufTtcblxuXG5mdW5jdGlvbiBJZGVudGl0eSggdiApIHtcblx0cmV0dXJuIHY7XG59XG5mdW5jdGlvbiBUaHJvd2VyKCBleCApIHtcblx0dGhyb3cgZXg7XG59XG5cbmZ1bmN0aW9uIGFkb3B0VmFsdWUoIHZhbHVlLCByZXNvbHZlLCByZWplY3QgKSB7XG5cdHZhciBtZXRob2Q7XG5cblx0dHJ5IHtcblxuXHRcdC8vIENoZWNrIGZvciBwcm9taXNlIGFzcGVjdCBmaXJzdCB0byBwcml2aWxlZ2Ugc3luY2hyb25vdXMgYmVoYXZpb3Jcblx0XHRpZiAoIHZhbHVlICYmIGpRdWVyeS5pc0Z1bmN0aW9uKCAoIG1ldGhvZCA9IHZhbHVlLnByb21pc2UgKSApICkge1xuXHRcdFx0bWV0aG9kLmNhbGwoIHZhbHVlICkuZG9uZSggcmVzb2x2ZSApLmZhaWwoIHJlamVjdCApO1xuXG5cdFx0Ly8gT3RoZXIgdGhlbmFibGVzXG5cdFx0fSBlbHNlIGlmICggdmFsdWUgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oICggbWV0aG9kID0gdmFsdWUudGhlbiApICkgKSB7XG5cdFx0XHRtZXRob2QuY2FsbCggdmFsdWUsIHJlc29sdmUsIHJlamVjdCApO1xuXG5cdFx0Ly8gT3RoZXIgbm9uLXRoZW5hYmxlc1xuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIG9ubHlcblx0XHRcdC8vIFN0cmljdCBtb2RlIGZ1bmN0aW9ucyBpbnZva2VkIHdpdGhvdXQgLmNhbGwvLmFwcGx5IGdldCBnbG9iYWwtb2JqZWN0IGNvbnRleHRcblx0XHRcdHJlc29sdmUuY2FsbCggdW5kZWZpbmVkLCB2YWx1ZSApO1xuXHRcdH1cblxuXHQvLyBGb3IgUHJvbWlzZXMvQSssIGNvbnZlcnQgZXhjZXB0aW9ucyBpbnRvIHJlamVjdGlvbnNcblx0Ly8gU2luY2UgalF1ZXJ5LndoZW4gZG9lc24ndCB1bndyYXAgdGhlbmFibGVzLCB3ZSBjYW4gc2tpcCB0aGUgZXh0cmEgY2hlY2tzIGFwcGVhcmluZyBpblxuXHQvLyBEZWZlcnJlZCN0aGVuIHRvIGNvbmRpdGlvbmFsbHkgc3VwcHJlc3MgcmVqZWN0aW9uLlxuXHR9IGNhdGNoICggdmFsdWUgKSB7XG5cblx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCBvbmx5XG5cdFx0Ly8gU3RyaWN0IG1vZGUgZnVuY3Rpb25zIGludm9rZWQgd2l0aG91dCAuY2FsbC8uYXBwbHkgZ2V0IGdsb2JhbC1vYmplY3QgY29udGV4dFxuXHRcdHJlamVjdC5jYWxsKCB1bmRlZmluZWQsIHZhbHVlICk7XG5cdH1cbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdERlZmVycmVkOiBmdW5jdGlvbiggZnVuYyApIHtcblx0XHR2YXIgdHVwbGVzID0gW1xuXG5cdFx0XHRcdC8vIGFjdGlvbiwgYWRkIGxpc3RlbmVyLCBjYWxsYmFja3MsXG5cdFx0XHRcdC8vIC4uLiAudGhlbiBoYW5kbGVycywgYXJndW1lbnQgaW5kZXgsIFtmaW5hbCBzdGF0ZV1cblx0XHRcdFx0WyBcIm5vdGlmeVwiLCBcInByb2dyZXNzXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwibWVtb3J5XCIgKSxcblx0XHRcdFx0XHRqUXVlcnkuQ2FsbGJhY2tzKCBcIm1lbW9yeVwiICksIDIgXSxcblx0XHRcdFx0WyBcInJlc29sdmVcIiwgXCJkb25lXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLFxuXHRcdFx0XHRcdGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLCAwLCBcInJlc29sdmVkXCIgXSxcblx0XHRcdFx0WyBcInJlamVjdFwiLCBcImZhaWxcIiwgalF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksXG5cdFx0XHRcdFx0alF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksIDEsIFwicmVqZWN0ZWRcIiBdXG5cdFx0XHRdLFxuXHRcdFx0c3RhdGUgPSBcInBlbmRpbmdcIixcblx0XHRcdHByb21pc2UgPSB7XG5cdFx0XHRcdHN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gc3RhdGU7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGFsd2F5czogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQuZG9uZSggYXJndW1lbnRzICkuZmFpbCggYXJndW1lbnRzICk7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwiY2F0Y2hcIjogZnVuY3Rpb24oIGZuICkge1xuXHRcdFx0XHRcdHJldHVybiBwcm9taXNlLnRoZW4oIG51bGwsIGZuICk7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gS2VlcCBwaXBlIGZvciBiYWNrLWNvbXBhdFxuXHRcdFx0XHRwaXBlOiBmdW5jdGlvbiggLyogZm5Eb25lLCBmbkZhaWwsIGZuUHJvZ3Jlc3MgKi8gKSB7XG5cdFx0XHRcdFx0dmFyIGZucyA9IGFyZ3VtZW50cztcblxuXHRcdFx0XHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoIGZ1bmN0aW9uKCBuZXdEZWZlciApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBpLCB0dXBsZSApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBNYXAgdHVwbGVzIChwcm9ncmVzcywgZG9uZSwgZmFpbCkgdG8gYXJndW1lbnRzIChkb25lLCBmYWlsLCBwcm9ncmVzcylcblx0XHRcdFx0XHRcdFx0dmFyIGZuID0galF1ZXJ5LmlzRnVuY3Rpb24oIGZuc1sgdHVwbGVbIDQgXSBdICkgJiYgZm5zWyB0dXBsZVsgNCBdIF07XG5cblx0XHRcdFx0XHRcdFx0Ly8gZGVmZXJyZWQucHJvZ3Jlc3MoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIubm90aWZ5IH0pXG5cdFx0XHRcdFx0XHRcdC8vIGRlZmVycmVkLmRvbmUoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIucmVzb2x2ZSB9KVxuXHRcdFx0XHRcdFx0XHQvLyBkZWZlcnJlZC5mYWlsKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLnJlamVjdCB9KVxuXHRcdFx0XHRcdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDEgXSBdKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgcmV0dXJuZWQgPSBmbiAmJiBmbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCByZXR1cm5lZCAmJiBqUXVlcnkuaXNGdW5jdGlvbiggcmV0dXJuZWQucHJvbWlzZSApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQucHJvbWlzZSgpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5wcm9ncmVzcyggbmV3RGVmZXIubm90aWZ5IClcblx0XHRcdFx0XHRcdFx0XHRcdFx0LmRvbmUoIG5ld0RlZmVyLnJlc29sdmUgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQuZmFpbCggbmV3RGVmZXIucmVqZWN0ICk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyWyB0dXBsZVsgMCBdICsgXCJXaXRoXCIgXShcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0Zm4gPyBbIHJldHVybmVkIF0gOiBhcmd1bWVudHNcblx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRmbnMgPSBudWxsO1xuXHRcdFx0XHRcdH0gKS5wcm9taXNlKCk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRoZW46IGZ1bmN0aW9uKCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgb25Qcm9ncmVzcyApIHtcblx0XHRcdFx0XHR2YXIgbWF4RGVwdGggPSAwO1xuXHRcdFx0XHRcdGZ1bmN0aW9uIHJlc29sdmUoIGRlcHRoLCBkZWZlcnJlZCwgaGFuZGxlciwgc3BlY2lhbCApIHtcblx0XHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0XHRcdFx0XHRcdGFyZ3MgPSBhcmd1bWVudHMsXG5cdFx0XHRcdFx0XHRcdFx0bWlnaHRUaHJvdyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHJldHVybmVkLCB0aGVuO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuM1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTlcblx0XHRcdFx0XHRcdFx0XHRcdC8vIElnbm9yZSBkb3VibGUtcmVzb2x1dGlvbiBhdHRlbXB0c1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBkZXB0aCA8IG1heERlcHRoICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkID0gaGFuZGxlci5hcHBseSggdGhhdCwgYXJncyApO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4xXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC00OFxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCByZXR1cm5lZCA9PT0gZGVmZXJyZWQucHJvbWlzZSgpICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCBcIlRoZW5hYmxlIHNlbGYtcmVzb2x1dGlvblwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb25zIDIuMy4zLjEsIDMuNVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTRcblx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTc1XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBSZXRyaWV2ZSBgdGhlbmAgb25seSBvbmNlXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGVuID0gcmV0dXJuZWQgJiZcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy40XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTY0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgY2hlY2sgb2JqZWN0cyBhbmQgZnVuY3Rpb25zIGZvciB0aGVuYWJpbGl0eVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQoIHR5cGVvZiByZXR1cm5lZCA9PT0gXCJvYmplY3RcIiB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGVvZiByZXR1cm5lZCA9PT0gXCJmdW5jdGlvblwiICkgJiZcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQudGhlbjtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGEgcmV0dXJuZWQgdGhlbmFibGVcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHRoZW4gKSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTcGVjaWFsIHByb2Nlc3NvcnMgKG5vdGlmeSkganVzdCB3YWl0IGZvciByZXNvbHV0aW9uXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggc3BlY2lhbCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGVuLmNhbGwoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgSWRlbnRpdHksIHNwZWNpYWwgKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgVGhyb3dlciwgc3BlY2lhbCApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBOb3JtYWwgcHJvY2Vzc29ycyAocmVzb2x2ZSkgYWxzbyBob29rIGludG8gcHJvZ3Jlc3Ncblx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIC4uLmFuZCBkaXNyZWdhcmQgb2xkZXIgcmVzb2x1dGlvbiB2YWx1ZXNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtYXhEZXB0aCsrO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhlbi5jYWxsKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LCBzcGVjaWFsICksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIFRocm93ZXIsIHNwZWNpYWwgKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgSWRlbnRpdHksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGggKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGFsbCBvdGhlciByZXR1cm5lZCB2YWx1ZXNcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBzdWJzdGl0dXRlIGhhbmRsZXJzIHBhc3Mgb24gY29udGV4dFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBhbmQgbXVsdGlwbGUgdmFsdWVzIChub24tc3BlYyBiZWhhdmlvcilcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBoYW5kbGVyICE9PSBJZGVudGl0eSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGF0ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFyZ3MgPSBbIHJldHVybmVkIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBQcm9jZXNzIHRoZSB2YWx1ZShzKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBEZWZhdWx0IHByb2Nlc3MgaXMgcmVzb2x2ZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQoIHNwZWNpYWwgfHwgZGVmZXJyZWQucmVzb2x2ZVdpdGggKSggdGhhdCwgYXJncyApO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0sXG5cblx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IG5vcm1hbCBwcm9jZXNzb3JzIChyZXNvbHZlKSBjYXRjaCBhbmQgcmVqZWN0IGV4Y2VwdGlvbnNcblx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzID0gc3BlY2lhbCA/XG5cdFx0XHRcdFx0XHRcdFx0XHRtaWdodFRocm93IDpcblx0XHRcdFx0XHRcdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1pZ2h0VGhyb3coKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LkRlZmVycmVkLmV4Y2VwdGlvbkhvb2soIGUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHByb2Nlc3Muc3RhY2tUcmFjZSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy40LjFcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC02MVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIElnbm9yZSBwb3N0LXJlc29sdXRpb24gZXhjZXB0aW9uc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggZGVwdGggKyAxID49IG1heERlcHRoICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IHN1YnN0aXR1dGUgaGFuZGxlcnMgcGFzcyBvbiBjb250ZXh0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBhbmQgbXVsdGlwbGUgdmFsdWVzIChub24tc3BlYyBiZWhhdmlvcilcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggaGFuZGxlciAhPT0gVGhyb3dlciApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhhdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXJncyA9IFsgZSBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3RXaXRoKCB0aGF0LCBhcmdzICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy4xXG5cdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTU3XG5cdFx0XHRcdFx0XHRcdC8vIFJlLXJlc29sdmUgcHJvbWlzZXMgaW1tZWRpYXRlbHkgdG8gZG9kZ2UgZmFsc2UgcmVqZWN0aW9uIGZyb21cblx0XHRcdFx0XHRcdFx0Ly8gc3Vic2VxdWVudCBlcnJvcnNcblx0XHRcdFx0XHRcdFx0aWYgKCBkZXB0aCApIHtcblx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzKCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBDYWxsIGFuIG9wdGlvbmFsIGhvb2sgdG8gcmVjb3JkIHRoZSBzdGFjaywgaW4gY2FzZSBvZiBleGNlcHRpb25cblx0XHRcdFx0XHRcdFx0XHQvLyBzaW5jZSBpdCdzIG90aGVyd2lzZSBsb3N0IHdoZW4gZXhlY3V0aW9uIGdvZXMgYXN5bmNcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5EZWZlcnJlZC5nZXRTdGFja0hvb2sgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzLnN0YWNrVHJhY2UgPSBqUXVlcnkuRGVmZXJyZWQuZ2V0U3RhY2tIb29rKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KCBwcm9jZXNzICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZCggZnVuY3Rpb24oIG5ld0RlZmVyICkge1xuXG5cdFx0XHRcdFx0XHQvLyBwcm9ncmVzc19oYW5kbGVycy5hZGQoIC4uLiApXG5cdFx0XHRcdFx0XHR0dXBsZXNbIDAgXVsgMyBdLmFkZChcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLFxuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5pc0Z1bmN0aW9uKCBvblByb2dyZXNzICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0b25Qcm9ncmVzcyA6XG5cdFx0XHRcdFx0XHRcdFx0XHRJZGVudGl0eSxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlci5ub3RpZnlXaXRoXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdC8vIGZ1bGZpbGxlZF9oYW5kbGVycy5hZGQoIC4uLiApXG5cdFx0XHRcdFx0XHR0dXBsZXNbIDEgXVsgMyBdLmFkZChcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLFxuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5pc0Z1bmN0aW9uKCBvbkZ1bGZpbGxlZCApID9cblx0XHRcdFx0XHRcdFx0XHRcdG9uRnVsZmlsbGVkIDpcblx0XHRcdFx0XHRcdFx0XHRcdElkZW50aXR5XG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdC8vIHJlamVjdGVkX2hhbmRsZXJzLmFkZCggLi4uIClcblx0XHRcdFx0XHRcdHR1cGxlc1sgMiBdWyAzIF0uYWRkKFxuXHRcdFx0XHRcdFx0XHRyZXNvbHZlKFxuXHRcdFx0XHRcdFx0XHRcdDAsXG5cdFx0XHRcdFx0XHRcdFx0bmV3RGVmZXIsXG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmlzRnVuY3Rpb24oIG9uUmVqZWN0ZWQgKSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRvblJlamVjdGVkIDpcblx0XHRcdFx0XHRcdFx0XHRcdFRocm93ZXJcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9ICkucHJvbWlzZSgpO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIEdldCBhIHByb21pc2UgZm9yIHRoaXMgZGVmZXJyZWRcblx0XHRcdFx0Ly8gSWYgb2JqIGlzIHByb3ZpZGVkLCB0aGUgcHJvbWlzZSBhc3BlY3QgaXMgYWRkZWQgdG8gdGhlIG9iamVjdFxuXHRcdFx0XHRwcm9taXNlOiBmdW5jdGlvbiggb2JqICkge1xuXHRcdFx0XHRcdHJldHVybiBvYmogIT0gbnVsbCA/IGpRdWVyeS5leHRlbmQoIG9iaiwgcHJvbWlzZSApIDogcHJvbWlzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGRlZmVycmVkID0ge307XG5cblx0XHQvLyBBZGQgbGlzdC1zcGVjaWZpYyBtZXRob2RzXG5cdFx0alF1ZXJ5LmVhY2goIHR1cGxlcywgZnVuY3Rpb24oIGksIHR1cGxlICkge1xuXHRcdFx0dmFyIGxpc3QgPSB0dXBsZVsgMiBdLFxuXHRcdFx0XHRzdGF0ZVN0cmluZyA9IHR1cGxlWyA1IF07XG5cblx0XHRcdC8vIHByb21pc2UucHJvZ3Jlc3MgPSBsaXN0LmFkZFxuXHRcdFx0Ly8gcHJvbWlzZS5kb25lID0gbGlzdC5hZGRcblx0XHRcdC8vIHByb21pc2UuZmFpbCA9IGxpc3QuYWRkXG5cdFx0XHRwcm9taXNlWyB0dXBsZVsgMSBdIF0gPSBsaXN0LmFkZDtcblxuXHRcdFx0Ly8gSGFuZGxlIHN0YXRlXG5cdFx0XHRpZiAoIHN0YXRlU3RyaW5nICkge1xuXHRcdFx0XHRsaXN0LmFkZChcblx0XHRcdFx0XHRmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdFx0Ly8gc3RhdGUgPSBcInJlc29sdmVkXCIgKGkuZS4sIGZ1bGZpbGxlZClcblx0XHRcdFx0XHRcdC8vIHN0YXRlID0gXCJyZWplY3RlZFwiXG5cdFx0XHRcdFx0XHRzdGF0ZSA9IHN0YXRlU3RyaW5nO1xuXHRcdFx0XHRcdH0sXG5cblx0XHRcdFx0XHQvLyByZWplY3RlZF9jYWxsYmFja3MuZGlzYWJsZVxuXHRcdFx0XHRcdC8vIGZ1bGZpbGxlZF9jYWxsYmFja3MuZGlzYWJsZVxuXHRcdFx0XHRcdHR1cGxlc1sgMyAtIGkgXVsgMiBdLmRpc2FibGUsXG5cblx0XHRcdFx0XHQvLyBwcm9ncmVzc19jYWxsYmFja3MubG9ja1xuXHRcdFx0XHRcdHR1cGxlc1sgMCBdWyAyIF0ubG9ja1xuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBwcm9ncmVzc19oYW5kbGVycy5maXJlXG5cdFx0XHQvLyBmdWxmaWxsZWRfaGFuZGxlcnMuZmlyZVxuXHRcdFx0Ly8gcmVqZWN0ZWRfaGFuZGxlcnMuZmlyZVxuXHRcdFx0bGlzdC5hZGQoIHR1cGxlWyAzIF0uZmlyZSApO1xuXG5cdFx0XHQvLyBkZWZlcnJlZC5ub3RpZnkgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQubm90aWZ5V2l0aCguLi4pIH1cblx0XHRcdC8vIGRlZmVycmVkLnJlc29sdmUgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQucmVzb2x2ZVdpdGgoLi4uKSB9XG5cdFx0XHQvLyBkZWZlcnJlZC5yZWplY3QgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQucmVqZWN0V2l0aCguLi4pIH1cblx0XHRcdGRlZmVycmVkWyB0dXBsZVsgMCBdIF0gPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdKCB0aGlzID09PSBkZWZlcnJlZCA/IHVuZGVmaW5lZCA6IHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH07XG5cblx0XHRcdC8vIGRlZmVycmVkLm5vdGlmeVdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHQvLyBkZWZlcnJlZC5yZXNvbHZlV2l0aCA9IGxpc3QuZmlyZVdpdGhcblx0XHRcdC8vIGRlZmVycmVkLnJlamVjdFdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDAgXSArIFwiV2l0aFwiIF0gPSBsaXN0LmZpcmVXaXRoO1xuXHRcdH0gKTtcblxuXHRcdC8vIE1ha2UgdGhlIGRlZmVycmVkIGEgcHJvbWlzZVxuXHRcdHByb21pc2UucHJvbWlzZSggZGVmZXJyZWQgKTtcblxuXHRcdC8vIENhbGwgZ2l2ZW4gZnVuYyBpZiBhbnlcblx0XHRpZiAoIGZ1bmMgKSB7XG5cdFx0XHRmdW5jLmNhbGwoIGRlZmVycmVkLCBkZWZlcnJlZCApO1xuXHRcdH1cblxuXHRcdC8vIEFsbCBkb25lIVxuXHRcdHJldHVybiBkZWZlcnJlZDtcblx0fSxcblxuXHQvLyBEZWZlcnJlZCBoZWxwZXJcblx0d2hlbjogZnVuY3Rpb24oIHNpbmdsZVZhbHVlICkge1xuXHRcdHZhclxuXG5cdFx0XHQvLyBjb3VudCBvZiB1bmNvbXBsZXRlZCBzdWJvcmRpbmF0ZXNcblx0XHRcdHJlbWFpbmluZyA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cblx0XHRcdC8vIGNvdW50IG9mIHVucHJvY2Vzc2VkIGFyZ3VtZW50c1xuXHRcdFx0aSA9IHJlbWFpbmluZyxcblxuXHRcdFx0Ly8gc3Vib3JkaW5hdGUgZnVsZmlsbG1lbnQgZGF0YVxuXHRcdFx0cmVzb2x2ZUNvbnRleHRzID0gQXJyYXkoIGkgKSxcblx0XHRcdHJlc29sdmVWYWx1ZXMgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSxcblxuXHRcdFx0Ly8gdGhlIG1hc3RlciBEZWZlcnJlZFxuXHRcdFx0bWFzdGVyID0galF1ZXJ5LkRlZmVycmVkKCksXG5cblx0XHRcdC8vIHN1Ym9yZGluYXRlIGNhbGxiYWNrIGZhY3Rvcnlcblx0XHRcdHVwZGF0ZUZ1bmMgPSBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0XHRyZXNvbHZlQ29udGV4dHNbIGkgXSA9IHRoaXM7XG5cdFx0XHRcdFx0cmVzb2x2ZVZhbHVlc1sgaSBdID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSA6IHZhbHVlO1xuXHRcdFx0XHRcdGlmICggISggLS1yZW1haW5pbmcgKSApIHtcblx0XHRcdFx0XHRcdG1hc3Rlci5yZXNvbHZlV2l0aCggcmVzb2x2ZUNvbnRleHRzLCByZXNvbHZlVmFsdWVzICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0fTtcblxuXHRcdC8vIFNpbmdsZS0gYW5kIGVtcHR5IGFyZ3VtZW50cyBhcmUgYWRvcHRlZCBsaWtlIFByb21pc2UucmVzb2x2ZVxuXHRcdGlmICggcmVtYWluaW5nIDw9IDEgKSB7XG5cdFx0XHRhZG9wdFZhbHVlKCBzaW5nbGVWYWx1ZSwgbWFzdGVyLmRvbmUoIHVwZGF0ZUZ1bmMoIGkgKSApLnJlc29sdmUsIG1hc3Rlci5yZWplY3QgKTtcblxuXHRcdFx0Ly8gVXNlIC50aGVuKCkgdG8gdW53cmFwIHNlY29uZGFyeSB0aGVuYWJsZXMgKGNmLiBnaC0zMDAwKVxuXHRcdFx0aWYgKCBtYXN0ZXIuc3RhdGUoKSA9PT0gXCJwZW5kaW5nXCIgfHxcblx0XHRcdFx0alF1ZXJ5LmlzRnVuY3Rpb24oIHJlc29sdmVWYWx1ZXNbIGkgXSAmJiByZXNvbHZlVmFsdWVzWyBpIF0udGhlbiApICkge1xuXG5cdFx0XHRcdHJldHVybiBtYXN0ZXIudGhlbigpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIE11bHRpcGxlIGFyZ3VtZW50cyBhcmUgYWdncmVnYXRlZCBsaWtlIFByb21pc2UuYWxsIGFycmF5IGVsZW1lbnRzXG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRhZG9wdFZhbHVlKCByZXNvbHZlVmFsdWVzWyBpIF0sIHVwZGF0ZUZ1bmMoIGkgKSwgbWFzdGVyLnJlamVjdCApO1xuXHRcdH1cblxuXHRcdHJldHVybiBtYXN0ZXIucHJvbWlzZSgpO1xuXHR9XG59ICk7XG5cblxuLy8gVGhlc2UgdXN1YWxseSBpbmRpY2F0ZSBhIHByb2dyYW1tZXIgbWlzdGFrZSBkdXJpbmcgZGV2ZWxvcG1lbnQsXG4vLyB3YXJuIGFib3V0IHRoZW0gQVNBUCByYXRoZXIgdGhhbiBzd2FsbG93aW5nIHRoZW0gYnkgZGVmYXVsdC5cbnZhciByZXJyb3JOYW1lcyA9IC9eKEV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSSlFcnJvciQvO1xuXG5qUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayA9IGZ1bmN0aW9uKCBlcnJvciwgc3RhY2sgKSB7XG5cblx0Ly8gU3VwcG9ydDogSUUgOCAtIDkgb25seVxuXHQvLyBDb25zb2xlIGV4aXN0cyB3aGVuIGRldiB0b29scyBhcmUgb3Blbiwgd2hpY2ggY2FuIGhhcHBlbiBhdCBhbnkgdGltZVxuXHRpZiAoIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLndhcm4gJiYgZXJyb3IgJiYgcmVycm9yTmFtZXMudGVzdCggZXJyb3IubmFtZSApICkge1xuXHRcdHdpbmRvdy5jb25zb2xlLndhcm4oIFwialF1ZXJ5LkRlZmVycmVkIGV4Y2VwdGlvbjogXCIgKyBlcnJvci5tZXNzYWdlLCBlcnJvci5zdGFjaywgc3RhY2sgKTtcblx0fVxufTtcblxuXG5cblxualF1ZXJ5LnJlYWR5RXhjZXB0aW9uID0gZnVuY3Rpb24oIGVycm9yICkge1xuXHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gKTtcbn07XG5cblxuXG5cbi8vIFRoZSBkZWZlcnJlZCB1c2VkIG9uIERPTSByZWFkeVxudmFyIHJlYWR5TGlzdCA9IGpRdWVyeS5EZWZlcnJlZCgpO1xuXG5qUXVlcnkuZm4ucmVhZHkgPSBmdW5jdGlvbiggZm4gKSB7XG5cblx0cmVhZHlMaXN0XG5cdFx0LnRoZW4oIGZuIClcblxuXHRcdC8vIFdyYXAgalF1ZXJ5LnJlYWR5RXhjZXB0aW9uIGluIGEgZnVuY3Rpb24gc28gdGhhdCB0aGUgbG9va3VwXG5cdFx0Ly8gaGFwcGVucyBhdCB0aGUgdGltZSBvZiBlcnJvciBoYW5kbGluZyBpbnN0ZWFkIG9mIGNhbGxiYWNrXG5cdFx0Ly8gcmVnaXN0cmF0aW9uLlxuXHRcdC5jYXRjaCggZnVuY3Rpb24oIGVycm9yICkge1xuXHRcdFx0alF1ZXJ5LnJlYWR5RXhjZXB0aW9uKCBlcnJvciApO1xuXHRcdH0gKTtcblxuXHRyZXR1cm4gdGhpcztcbn07XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHQvLyBJcyB0aGUgRE9NIHJlYWR5IHRvIGJlIHVzZWQ/IFNldCB0byB0cnVlIG9uY2UgaXQgb2NjdXJzLlxuXHRpc1JlYWR5OiBmYWxzZSxcblxuXHQvLyBBIGNvdW50ZXIgdG8gdHJhY2sgaG93IG1hbnkgaXRlbXMgdG8gd2FpdCBmb3IgYmVmb3JlXG5cdC8vIHRoZSByZWFkeSBldmVudCBmaXJlcy4gU2VlICM2NzgxXG5cdHJlYWR5V2FpdDogMSxcblxuXHQvLyBIb2xkIChvciByZWxlYXNlKSB0aGUgcmVhZHkgZXZlbnRcblx0aG9sZFJlYWR5OiBmdW5jdGlvbiggaG9sZCApIHtcblx0XHRpZiAoIGhvbGQgKSB7XG5cdFx0XHRqUXVlcnkucmVhZHlXYWl0Kys7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGpRdWVyeS5yZWFkeSggdHJ1ZSApO1xuXHRcdH1cblx0fSxcblxuXHQvLyBIYW5kbGUgd2hlbiB0aGUgRE9NIGlzIHJlYWR5XG5cdHJlYWR5OiBmdW5jdGlvbiggd2FpdCApIHtcblxuXHRcdC8vIEFib3J0IGlmIHRoZXJlIGFyZSBwZW5kaW5nIGhvbGRzIG9yIHdlJ3JlIGFscmVhZHkgcmVhZHlcblx0XHRpZiAoIHdhaXQgPT09IHRydWUgPyAtLWpRdWVyeS5yZWFkeVdhaXQgOiBqUXVlcnkuaXNSZWFkeSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBSZW1lbWJlciB0aGF0IHRoZSBET00gaXMgcmVhZHlcblx0XHRqUXVlcnkuaXNSZWFkeSA9IHRydWU7XG5cblx0XHQvLyBJZiBhIG5vcm1hbCBET00gUmVhZHkgZXZlbnQgZmlyZWQsIGRlY3JlbWVudCwgYW5kIHdhaXQgaWYgbmVlZCBiZVxuXHRcdGlmICggd2FpdCAhPT0gdHJ1ZSAmJiAtLWpRdWVyeS5yZWFkeVdhaXQgPiAwICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIElmIHRoZXJlIGFyZSBmdW5jdGlvbnMgYm91bmQsIHRvIGV4ZWN1dGVcblx0XHRyZWFkeUxpc3QucmVzb2x2ZVdpdGgoIGRvY3VtZW50LCBbIGpRdWVyeSBdICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LnJlYWR5LnRoZW4gPSByZWFkeUxpc3QudGhlbjtcblxuLy8gVGhlIHJlYWR5IGV2ZW50IGhhbmRsZXIgYW5kIHNlbGYgY2xlYW51cCBtZXRob2RcbmZ1bmN0aW9uIGNvbXBsZXRlZCgpIHtcblx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJET01Db250ZW50TG9hZGVkXCIsIGNvbXBsZXRlZCApO1xuXHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJsb2FkXCIsIGNvbXBsZXRlZCApO1xuXHRqUXVlcnkucmVhZHkoKTtcbn1cblxuLy8gQ2F0Y2ggY2FzZXMgd2hlcmUgJChkb2N1bWVudCkucmVhZHkoKSBpcyBjYWxsZWRcbi8vIGFmdGVyIHRoZSBicm93c2VyIGV2ZW50IGhhcyBhbHJlYWR5IG9jY3VycmVkLlxuLy8gU3VwcG9ydDogSUUgPD05IC0gMTAgb25seVxuLy8gT2xkZXIgSUUgc29tZXRpbWVzIHNpZ25hbHMgXCJpbnRlcmFjdGl2ZVwiIHRvbyBzb29uXG5pZiAoIGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIiB8fFxuXHQoIGRvY3VtZW50LnJlYWR5U3RhdGUgIT09IFwibG9hZGluZ1wiICYmICFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwgKSApIHtcblxuXHQvLyBIYW5kbGUgaXQgYXN5bmNocm9ub3VzbHkgdG8gYWxsb3cgc2NyaXB0cyB0aGUgb3Bwb3J0dW5pdHkgdG8gZGVsYXkgcmVhZHlcblx0d2luZG93LnNldFRpbWVvdXQoIGpRdWVyeS5yZWFkeSApO1xuXG59IGVsc2Uge1xuXG5cdC8vIFVzZSB0aGUgaGFuZHkgZXZlbnQgY2FsbGJhY2tcblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggXCJET01Db250ZW50TG9hZGVkXCIsIGNvbXBsZXRlZCApO1xuXG5cdC8vIEEgZmFsbGJhY2sgdG8gd2luZG93Lm9ubG9hZCwgdGhhdCB3aWxsIGFsd2F5cyB3b3JrXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBcImxvYWRcIiwgY29tcGxldGVkICk7XG59XG5cblxuXG5cbi8vIE11bHRpZnVuY3Rpb25hbCBtZXRob2QgdG8gZ2V0IGFuZCBzZXQgdmFsdWVzIG9mIGEgY29sbGVjdGlvblxuLy8gVGhlIHZhbHVlL3MgY2FuIG9wdGlvbmFsbHkgYmUgZXhlY3V0ZWQgaWYgaXQncyBhIGZ1bmN0aW9uXG52YXIgYWNjZXNzID0gZnVuY3Rpb24oIGVsZW1zLCBmbiwga2V5LCB2YWx1ZSwgY2hhaW5hYmxlLCBlbXB0eUdldCwgcmF3ICkge1xuXHR2YXIgaSA9IDAsXG5cdFx0bGVuID0gZWxlbXMubGVuZ3RoLFxuXHRcdGJ1bGsgPSBrZXkgPT0gbnVsbDtcblxuXHQvLyBTZXRzIG1hbnkgdmFsdWVzXG5cdGlmICggalF1ZXJ5LnR5cGUoIGtleSApID09PSBcIm9iamVjdFwiICkge1xuXHRcdGNoYWluYWJsZSA9IHRydWU7XG5cdFx0Zm9yICggaSBpbiBrZXkgKSB7XG5cdFx0XHRhY2Nlc3MoIGVsZW1zLCBmbiwgaSwga2V5WyBpIF0sIHRydWUsIGVtcHR5R2V0LCByYXcgKTtcblx0XHR9XG5cblx0Ly8gU2V0cyBvbmUgdmFsdWVcblx0fSBlbHNlIGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRjaGFpbmFibGUgPSB0cnVlO1xuXG5cdFx0aWYgKCAhalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyYXcgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGlmICggYnVsayApIHtcblxuXHRcdFx0Ly8gQnVsayBvcGVyYXRpb25zIHJ1biBhZ2FpbnN0IHRoZSBlbnRpcmUgc2V0XG5cdFx0XHRpZiAoIHJhdyApIHtcblx0XHRcdFx0Zm4uY2FsbCggZWxlbXMsIHZhbHVlICk7XG5cdFx0XHRcdGZuID0gbnVsbDtcblxuXHRcdFx0Ly8gLi4uZXhjZXB0IHdoZW4gZXhlY3V0aW5nIGZ1bmN0aW9uIHZhbHVlc1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YnVsayA9IGZuO1xuXHRcdFx0XHRmbiA9IGZ1bmN0aW9uKCBlbGVtLCBrZXksIHZhbHVlICkge1xuXHRcdFx0XHRcdHJldHVybiBidWxrLmNhbGwoIGpRdWVyeSggZWxlbSApLCB2YWx1ZSApO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggZm4gKSB7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0Zm4oXG5cdFx0XHRcdFx0ZWxlbXNbIGkgXSwga2V5LCByYXcgP1xuXHRcdFx0XHRcdHZhbHVlIDpcblx0XHRcdFx0XHR2YWx1ZS5jYWxsKCBlbGVtc1sgaSBdLCBpLCBmbiggZWxlbXNbIGkgXSwga2V5ICkgKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBjaGFpbmFibGUgP1xuXHRcdGVsZW1zIDpcblxuXHRcdC8vIEdldHNcblx0XHRidWxrID9cblx0XHRcdGZuLmNhbGwoIGVsZW1zICkgOlxuXHRcdFx0bGVuID8gZm4oIGVsZW1zWyAwIF0sIGtleSApIDogZW1wdHlHZXQ7XG59O1xudmFyIGFjY2VwdERhdGEgPSBmdW5jdGlvbiggb3duZXIgKSB7XG5cblx0Ly8gQWNjZXB0cyBvbmx5OlxuXHQvLyAgLSBOb2RlXG5cdC8vICAgIC0gTm9kZS5FTEVNRU5UX05PREVcblx0Ly8gICAgLSBOb2RlLkRPQ1VNRU5UX05PREVcblx0Ly8gIC0gT2JqZWN0XG5cdC8vICAgIC0gQW55XG5cdHJldHVybiBvd25lci5ub2RlVHlwZSA9PT0gMSB8fCBvd25lci5ub2RlVHlwZSA9PT0gOSB8fCAhKCArb3duZXIubm9kZVR5cGUgKTtcbn07XG5cblxuXG5cbmZ1bmN0aW9uIERhdGEoKSB7XG5cdHRoaXMuZXhwYW5kbyA9IGpRdWVyeS5leHBhbmRvICsgRGF0YS51aWQrKztcbn1cblxuRGF0YS51aWQgPSAxO1xuXG5EYXRhLnByb3RvdHlwZSA9IHtcblxuXHRjYWNoZTogZnVuY3Rpb24oIG93bmVyICkge1xuXG5cdFx0Ly8gQ2hlY2sgaWYgdGhlIG93bmVyIG9iamVjdCBhbHJlYWR5IGhhcyBhIGNhY2hlXG5cdFx0dmFyIHZhbHVlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXG5cdFx0Ly8gSWYgbm90LCBjcmVhdGUgb25lXG5cdFx0aWYgKCAhdmFsdWUgKSB7XG5cdFx0XHR2YWx1ZSA9IHt9O1xuXG5cdFx0XHQvLyBXZSBjYW4gYWNjZXB0IGRhdGEgZm9yIG5vbi1lbGVtZW50IG5vZGVzIGluIG1vZGVybiBicm93c2Vycyxcblx0XHRcdC8vIGJ1dCB3ZSBzaG91bGQgbm90LCBzZWUgIzgzMzUuXG5cdFx0XHQvLyBBbHdheXMgcmV0dXJuIGFuIGVtcHR5IG9iamVjdC5cblx0XHRcdGlmICggYWNjZXB0RGF0YSggb3duZXIgKSApIHtcblxuXHRcdFx0XHQvLyBJZiBpdCBpcyBhIG5vZGUgdW5saWtlbHkgdG8gYmUgc3RyaW5naWZ5LWVkIG9yIGxvb3BlZCBvdmVyXG5cdFx0XHRcdC8vIHVzZSBwbGFpbiBhc3NpZ25tZW50XG5cdFx0XHRcdGlmICggb3duZXIubm9kZVR5cGUgKSB7XG5cdFx0XHRcdFx0b3duZXJbIHRoaXMuZXhwYW5kbyBdID0gdmFsdWU7XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIHNlY3VyZSBpdCBpbiBhIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5XG5cdFx0XHRcdC8vIGNvbmZpZ3VyYWJsZSBtdXN0IGJlIHRydWUgdG8gYWxsb3cgdGhlIHByb3BlcnR5IHRvIGJlXG5cdFx0XHRcdC8vIGRlbGV0ZWQgd2hlbiBkYXRhIGlzIHJlbW92ZWRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoIG93bmVyLCB0aGlzLmV4cGFuZG8sIHtcblx0XHRcdFx0XHRcdHZhbHVlOiB2YWx1ZSxcblx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB2YWx1ZTtcblx0fSxcblx0c2V0OiBmdW5jdGlvbiggb3duZXIsIGRhdGEsIHZhbHVlICkge1xuXHRcdHZhciBwcm9wLFxuXHRcdFx0Y2FjaGUgPSB0aGlzLmNhY2hlKCBvd25lciApO1xuXG5cdFx0Ly8gSGFuZGxlOiBbIG93bmVyLCBrZXksIHZhbHVlIF0gYXJnc1xuXHRcdC8vIEFsd2F5cyB1c2UgY2FtZWxDYXNlIGtleSAoZ2gtMjI1Nylcblx0XHRpZiAoIHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0Y2FjaGVbIGpRdWVyeS5jYW1lbENhc2UoIGRhdGEgKSBdID0gdmFsdWU7XG5cblx0XHQvLyBIYW5kbGU6IFsgb3duZXIsIHsgcHJvcGVydGllcyB9IF0gYXJnc1xuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIENvcHkgdGhlIHByb3BlcnRpZXMgb25lLWJ5LW9uZSB0byB0aGUgY2FjaGUgb2JqZWN0XG5cdFx0XHRmb3IgKCBwcm9wIGluIGRhdGEgKSB7XG5cdFx0XHRcdGNhY2hlWyBqUXVlcnkuY2FtZWxDYXNlKCBwcm9wICkgXSA9IGRhdGFbIHByb3AgXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGNhY2hlO1xuXHR9LFxuXHRnZXQ6IGZ1bmN0aW9uKCBvd25lciwga2V5ICkge1xuXHRcdHJldHVybiBrZXkgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHR0aGlzLmNhY2hlKCBvd25lciApIDpcblxuXHRcdFx0Ly8gQWx3YXlzIHVzZSBjYW1lbENhc2Uga2V5IChnaC0yMjU3KVxuXHRcdFx0b3duZXJbIHRoaXMuZXhwYW5kbyBdICYmIG93bmVyWyB0aGlzLmV4cGFuZG8gXVsgalF1ZXJ5LmNhbWVsQ2FzZSgga2V5ICkgXTtcblx0fSxcblx0YWNjZXNzOiBmdW5jdGlvbiggb3duZXIsIGtleSwgdmFsdWUgKSB7XG5cblx0XHQvLyBJbiBjYXNlcyB3aGVyZSBlaXRoZXI6XG5cdFx0Ly9cblx0XHQvLyAgIDEuIE5vIGtleSB3YXMgc3BlY2lmaWVkXG5cdFx0Ly8gICAyLiBBIHN0cmluZyBrZXkgd2FzIHNwZWNpZmllZCwgYnV0IG5vIHZhbHVlIHByb3ZpZGVkXG5cdFx0Ly9cblx0XHQvLyBUYWtlIHRoZSBcInJlYWRcIiBwYXRoIGFuZCBhbGxvdyB0aGUgZ2V0IG1ldGhvZCB0byBkZXRlcm1pbmVcblx0XHQvLyB3aGljaCB2YWx1ZSB0byByZXR1cm4sIHJlc3BlY3RpdmVseSBlaXRoZXI6XG5cdFx0Ly9cblx0XHQvLyAgIDEuIFRoZSBlbnRpcmUgY2FjaGUgb2JqZWN0XG5cdFx0Ly8gICAyLiBUaGUgZGF0YSBzdG9yZWQgYXQgdGhlIGtleVxuXHRcdC8vXG5cdFx0aWYgKCBrZXkgPT09IHVuZGVmaW5lZCB8fFxuXHRcdFx0XHQoICgga2V5ICYmIHR5cGVvZiBrZXkgPT09IFwic3RyaW5nXCIgKSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkICkgKSB7XG5cblx0XHRcdHJldHVybiB0aGlzLmdldCggb3duZXIsIGtleSApO1xuXHRcdH1cblxuXHRcdC8vIFdoZW4gdGhlIGtleSBpcyBub3QgYSBzdHJpbmcsIG9yIGJvdGggYSBrZXkgYW5kIHZhbHVlXG5cdFx0Ly8gYXJlIHNwZWNpZmllZCwgc2V0IG9yIGV4dGVuZCAoZXhpc3Rpbmcgb2JqZWN0cykgd2l0aCBlaXRoZXI6XG5cdFx0Ly9cblx0XHQvLyAgIDEuIEFuIG9iamVjdCBvZiBwcm9wZXJ0aWVzXG5cdFx0Ly8gICAyLiBBIGtleSBhbmQgdmFsdWVcblx0XHQvL1xuXHRcdHRoaXMuc2V0KCBvd25lciwga2V5LCB2YWx1ZSApO1xuXG5cdFx0Ly8gU2luY2UgdGhlIFwic2V0XCIgcGF0aCBjYW4gaGF2ZSB0d28gcG9zc2libGUgZW50cnkgcG9pbnRzXG5cdFx0Ly8gcmV0dXJuIHRoZSBleHBlY3RlZCBkYXRhIGJhc2VkIG9uIHdoaWNoIHBhdGggd2FzIHRha2VuWypdXG5cdFx0cmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IGtleTtcblx0fSxcblx0cmVtb3ZlOiBmdW5jdGlvbiggb3duZXIsIGtleSApIHtcblx0XHR2YXIgaSxcblx0XHRcdGNhY2hlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXG5cdFx0aWYgKCBjYWNoZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICgga2V5ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdC8vIFN1cHBvcnQgYXJyYXkgb3Igc3BhY2Ugc2VwYXJhdGVkIHN0cmluZyBvZiBrZXlzXG5cdFx0XHRpZiAoIGpRdWVyeS5pc0FycmF5KCBrZXkgKSApIHtcblxuXHRcdFx0XHQvLyBJZiBrZXkgaXMgYW4gYXJyYXkgb2Yga2V5cy4uLlxuXHRcdFx0XHQvLyBXZSBhbHdheXMgc2V0IGNhbWVsQ2FzZSBrZXlzLCBzbyByZW1vdmUgdGhhdC5cblx0XHRcdFx0a2V5ID0ga2V5Lm1hcCggalF1ZXJ5LmNhbWVsQ2FzZSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0a2V5ID0galF1ZXJ5LmNhbWVsQ2FzZSgga2V5ICk7XG5cblx0XHRcdFx0Ly8gSWYgYSBrZXkgd2l0aCB0aGUgc3BhY2VzIGV4aXN0cywgdXNlIGl0LlxuXHRcdFx0XHQvLyBPdGhlcndpc2UsIGNyZWF0ZSBhbiBhcnJheSBieSBtYXRjaGluZyBub24td2hpdGVzcGFjZVxuXHRcdFx0XHRrZXkgPSBrZXkgaW4gY2FjaGUgP1xuXHRcdFx0XHRcdFsga2V5IF0gOlxuXHRcdFx0XHRcdCgga2V5Lm1hdGNoKCBybm90d2hpdGUgKSB8fCBbXSApO1xuXHRcdFx0fVxuXG5cdFx0XHRpID0ga2V5Lmxlbmd0aDtcblxuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGRlbGV0ZSBjYWNoZVsga2V5WyBpIF0gXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBSZW1vdmUgdGhlIGV4cGFuZG8gaWYgdGhlcmUncyBubyBtb3JlIGRhdGFcblx0XHRpZiAoIGtleSA9PT0gdW5kZWZpbmVkIHx8IGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBjYWNoZSApICkge1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1XG5cdFx0XHQvLyBXZWJraXQgJiBCbGluayBwZXJmb3JtYW5jZSBzdWZmZXJzIHdoZW4gZGVsZXRpbmcgcHJvcGVydGllc1xuXHRcdFx0Ly8gZnJvbSBET00gbm9kZXMsIHNvIHNldCB0byB1bmRlZmluZWQgaW5zdGVhZFxuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Mzc4NjA3IChidWcgcmVzdHJpY3RlZClcblx0XHRcdGlmICggb3duZXIubm9kZVR5cGUgKSB7XG5cdFx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSA9IHVuZGVmaW5lZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlbGV0ZSBvd25lclsgdGhpcy5leHBhbmRvIF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRoYXNEYXRhOiBmdW5jdGlvbiggb3duZXIgKSB7XG5cdFx0dmFyIGNhY2hlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXHRcdHJldHVybiBjYWNoZSAhPT0gdW5kZWZpbmVkICYmICFqUXVlcnkuaXNFbXB0eU9iamVjdCggY2FjaGUgKTtcblx0fVxufTtcbnZhciBkYXRhUHJpdiA9IG5ldyBEYXRhKCk7XG5cbnZhciBkYXRhVXNlciA9IG5ldyBEYXRhKCk7XG5cblxuXG4vL1x0SW1wbGVtZW50YXRpb24gU3VtbWFyeVxuLy9cbi8vXHQxLiBFbmZvcmNlIEFQSSBzdXJmYWNlIGFuZCBzZW1hbnRpYyBjb21wYXRpYmlsaXR5IHdpdGggMS45LnggYnJhbmNoXG4vL1x0Mi4gSW1wcm92ZSB0aGUgbW9kdWxlJ3MgbWFpbnRhaW5hYmlsaXR5IGJ5IHJlZHVjaW5nIHRoZSBzdG9yYWdlXG4vL1x0XHRwYXRocyB0byBhIHNpbmdsZSBtZWNoYW5pc20uXG4vL1x0My4gVXNlIHRoZSBzYW1lIHNpbmdsZSBtZWNoYW5pc20gdG8gc3VwcG9ydCBcInByaXZhdGVcIiBhbmQgXCJ1c2VyXCIgZGF0YS5cbi8vXHQ0LiBfTmV2ZXJfIGV4cG9zZSBcInByaXZhdGVcIiBkYXRhIHRvIHVzZXIgY29kZSAoVE9ETzogRHJvcCBfZGF0YSwgX3JlbW92ZURhdGEpXG4vL1x0NS4gQXZvaWQgZXhwb3NpbmcgaW1wbGVtZW50YXRpb24gZGV0YWlscyBvbiB1c2VyIG9iamVjdHMgKGVnLiBleHBhbmRvIHByb3BlcnRpZXMpXG4vL1x0Ni4gUHJvdmlkZSBhIGNsZWFyIHBhdGggZm9yIGltcGxlbWVudGF0aW9uIHVwZ3JhZGUgdG8gV2Vha01hcCBpbiAyMDE0XG5cbnZhciByYnJhY2UgPSAvXig/Olxce1tcXHdcXFddKlxcfXxcXFtbXFx3XFxXXSpcXF0pJC8sXG5cdHJtdWx0aURhc2ggPSAvW0EtWl0vZztcblxuZnVuY3Rpb24gZGF0YUF0dHIoIGVsZW0sIGtleSwgZGF0YSApIHtcblx0dmFyIG5hbWU7XG5cblx0Ly8gSWYgbm90aGluZyB3YXMgZm91bmQgaW50ZXJuYWxseSwgdHJ5IHRvIGZldGNoIGFueVxuXHQvLyBkYXRhIGZyb20gdGhlIEhUTUw1IGRhdGEtKiBhdHRyaWJ1dGVcblx0aWYgKCBkYXRhID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRuYW1lID0gXCJkYXRhLVwiICsga2V5LnJlcGxhY2UoIHJtdWx0aURhc2gsIFwiLSQmXCIgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdGRhdGEgPSBlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSApO1xuXG5cdFx0aWYgKCB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRhdGEgPSBkYXRhID09PSBcInRydWVcIiA/IHRydWUgOlxuXHRcdFx0XHRcdGRhdGEgPT09IFwiZmFsc2VcIiA/IGZhbHNlIDpcblx0XHRcdFx0XHRkYXRhID09PSBcIm51bGxcIiA/IG51bGwgOlxuXG5cdFx0XHRcdFx0Ly8gT25seSBjb252ZXJ0IHRvIGEgbnVtYmVyIGlmIGl0IGRvZXNuJ3QgY2hhbmdlIHRoZSBzdHJpbmdcblx0XHRcdFx0XHQrZGF0YSArIFwiXCIgPT09IGRhdGEgPyArZGF0YSA6XG5cdFx0XHRcdFx0cmJyYWNlLnRlc3QoIGRhdGEgKSA/IEpTT04ucGFyc2UoIGRhdGEgKSA6XG5cdFx0XHRcdFx0ZGF0YTtcblx0XHRcdH0gY2F0Y2ggKCBlICkge31cblxuXHRcdFx0Ly8gTWFrZSBzdXJlIHdlIHNldCB0aGUgZGF0YSBzbyBpdCBpc24ndCBjaGFuZ2VkIGxhdGVyXG5cdFx0XHRkYXRhVXNlci5zZXQoIGVsZW0sIGtleSwgZGF0YSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkYXRhID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gZGF0YTtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXHRoYXNEYXRhOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZGF0YVVzZXIuaGFzRGF0YSggZWxlbSApIHx8IGRhdGFQcml2Lmhhc0RhdGEoIGVsZW0gKTtcblx0fSxcblxuXHRkYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHtcblx0XHRyZXR1cm4gZGF0YVVzZXIuYWNjZXNzKCBlbGVtLCBuYW1lLCBkYXRhICk7XG5cdH0sXG5cblx0cmVtb3ZlRGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cdFx0ZGF0YVVzZXIucmVtb3ZlKCBlbGVtLCBuYW1lICk7XG5cdH0sXG5cblx0Ly8gVE9ETzogTm93IHRoYXQgYWxsIGNhbGxzIHRvIF9kYXRhIGFuZCBfcmVtb3ZlRGF0YSBoYXZlIGJlZW4gcmVwbGFjZWRcblx0Ly8gd2l0aCBkaXJlY3QgY2FsbHMgdG8gZGF0YVByaXYgbWV0aG9kcywgdGhlc2UgY2FuIGJlIGRlcHJlY2F0ZWQuXG5cdF9kYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHtcblx0XHRyZXR1cm4gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBuYW1lLCBkYXRhICk7XG5cdH0sXG5cblx0X3JlbW92ZURhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgbmFtZSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0ZGF0YTogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0dmFyIGksIG5hbWUsIGRhdGEsXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdLFxuXHRcdFx0YXR0cnMgPSBlbGVtICYmIGVsZW0uYXR0cmlidXRlcztcblxuXHRcdC8vIEdldHMgYWxsIHZhbHVlc1xuXHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRpZiAoIHRoaXMubGVuZ3RoICkge1xuXHRcdFx0XHRkYXRhID0gZGF0YVVzZXIuZ2V0KCBlbGVtICk7XG5cblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmICFkYXRhUHJpdi5nZXQoIGVsZW0sIFwiaGFzRGF0YUF0dHJzXCIgKSApIHtcblx0XHRcdFx0XHRpID0gYXR0cnMubGVuZ3RoO1xuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSAxMSBvbmx5XG5cdFx0XHRcdFx0XHQvLyBUaGUgYXR0cnMgZWxlbWVudHMgY2FuIGJlIG51bGwgKCMxNDg5NClcblx0XHRcdFx0XHRcdGlmICggYXR0cnNbIGkgXSApIHtcblx0XHRcdFx0XHRcdFx0bmFtZSA9IGF0dHJzWyBpIF0ubmFtZTtcblx0XHRcdFx0XHRcdFx0aWYgKCBuYW1lLmluZGV4T2YoIFwiZGF0YS1cIiApID09PSAwICkge1xuXHRcdFx0XHRcdFx0XHRcdG5hbWUgPSBqUXVlcnkuY2FtZWxDYXNlKCBuYW1lLnNsaWNlKCA1ICkgKTtcblx0XHRcdFx0XHRcdFx0XHRkYXRhQXR0ciggZWxlbSwgbmFtZSwgZGF0YVsgbmFtZSBdICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZGF0YVByaXYuc2V0KCBlbGVtLCBcImhhc0RhdGFBdHRyc1wiLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0fVxuXG5cdFx0Ly8gU2V0cyBtdWx0aXBsZSB2YWx1ZXNcblx0XHRpZiAoIHR5cGVvZiBrZXkgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZGF0YVVzZXIuc2V0KCB0aGlzLCBrZXkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgZGF0YTtcblxuXHRcdFx0Ly8gVGhlIGNhbGxpbmcgalF1ZXJ5IG9iamVjdCAoZWxlbWVudCBtYXRjaGVzKSBpcyBub3QgZW1wdHlcblx0XHRcdC8vIChhbmQgdGhlcmVmb3JlIGhhcyBhbiBlbGVtZW50IGFwcGVhcnMgYXQgdGhpc1sgMCBdKSBhbmQgdGhlXG5cdFx0XHQvLyBgdmFsdWVgIHBhcmFtZXRlciB3YXMgbm90IHVuZGVmaW5lZC4gQW4gZW1wdHkgalF1ZXJ5IG9iamVjdFxuXHRcdFx0Ly8gd2lsbCByZXN1bHQgaW4gYHVuZGVmaW5lZGAgZm9yIGVsZW0gPSB0aGlzWyAwIF0gd2hpY2ggd2lsbFxuXHRcdFx0Ly8gdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFuIGF0dGVtcHQgdG8gcmVhZCBhIGRhdGEgY2FjaGUgaXMgbWFkZS5cblx0XHRcdGlmICggZWxlbSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdC8vIEF0dGVtcHQgdG8gZ2V0IGRhdGEgZnJvbSB0aGUgY2FjaGVcblx0XHRcdFx0Ly8gVGhlIGtleSB3aWxsIGFsd2F5cyBiZSBjYW1lbENhc2VkIGluIERhdGFcblx0XHRcdFx0ZGF0YSA9IGRhdGFVc2VyLmdldCggZWxlbSwga2V5ICk7XG5cdFx0XHRcdGlmICggZGF0YSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQXR0ZW1wdCB0byBcImRpc2NvdmVyXCIgdGhlIGRhdGEgaW5cblx0XHRcdFx0Ly8gSFRNTDUgY3VzdG9tIGRhdGEtKiBhdHRyc1xuXHRcdFx0XHRkYXRhID0gZGF0YUF0dHIoIGVsZW0sIGtleSApO1xuXHRcdFx0XHRpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFdlIHRyaWVkIHJlYWxseSBoYXJkLCBidXQgdGhlIGRhdGEgZG9lc24ndCBleGlzdC5cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTZXQgdGhlIGRhdGEuLi5cblx0XHRcdHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0Ly8gV2UgYWx3YXlzIHN0b3JlIHRoZSBjYW1lbENhc2VkIGtleVxuXHRcdFx0XHRkYXRhVXNlci5zZXQoIHRoaXMsIGtleSwgdmFsdWUgKTtcblx0XHRcdH0gKTtcblx0XHR9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEsIG51bGwsIHRydWUgKTtcblx0fSxcblxuXHRyZW1vdmVEYXRhOiBmdW5jdGlvbigga2V5ICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0ZGF0YVVzZXIucmVtb3ZlKCB0aGlzLCBrZXkgKTtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cdHF1ZXVlOiBmdW5jdGlvbiggZWxlbSwgdHlwZSwgZGF0YSApIHtcblx0XHR2YXIgcXVldWU7XG5cblx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHR0eXBlID0gKCB0eXBlIHx8IFwiZnhcIiApICsgXCJxdWV1ZVwiO1xuXHRcdFx0cXVldWUgPSBkYXRhUHJpdi5nZXQoIGVsZW0sIHR5cGUgKTtcblxuXHRcdFx0Ly8gU3BlZWQgdXAgZGVxdWV1ZSBieSBnZXR0aW5nIG91dCBxdWlja2x5IGlmIHRoaXMgaXMganVzdCBhIGxvb2t1cFxuXHRcdFx0aWYgKCBkYXRhICkge1xuXHRcdFx0XHRpZiAoICFxdWV1ZSB8fCBqUXVlcnkuaXNBcnJheSggZGF0YSApICkge1xuXHRcdFx0XHRcdHF1ZXVlID0gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCB0eXBlLCBqUXVlcnkubWFrZUFycmF5KCBkYXRhICkgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBkYXRhICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBxdWV1ZSB8fCBbXTtcblx0XHR9XG5cdH0sXG5cblx0ZGVxdWV1ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGUgKSB7XG5cdFx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXG5cdFx0dmFyIHF1ZXVlID0galF1ZXJ5LnF1ZXVlKCBlbGVtLCB0eXBlICksXG5cdFx0XHRzdGFydExlbmd0aCA9IHF1ZXVlLmxlbmd0aCxcblx0XHRcdGZuID0gcXVldWUuc2hpZnQoKSxcblx0XHRcdGhvb2tzID0galF1ZXJ5Ll9xdWV1ZUhvb2tzKCBlbGVtLCB0eXBlICksXG5cdFx0XHRuZXh0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCBlbGVtLCB0eXBlICk7XG5cdFx0XHR9O1xuXG5cdFx0Ly8gSWYgdGhlIGZ4IHF1ZXVlIGlzIGRlcXVldWVkLCBhbHdheXMgcmVtb3ZlIHRoZSBwcm9ncmVzcyBzZW50aW5lbFxuXHRcdGlmICggZm4gPT09IFwiaW5wcm9ncmVzc1wiICkge1xuXHRcdFx0Zm4gPSBxdWV1ZS5zaGlmdCgpO1xuXHRcdFx0c3RhcnRMZW5ndGgtLTtcblx0XHR9XG5cblx0XHRpZiAoIGZuICkge1xuXG5cdFx0XHQvLyBBZGQgYSBwcm9ncmVzcyBzZW50aW5lbCB0byBwcmV2ZW50IHRoZSBmeCBxdWV1ZSBmcm9tIGJlaW5nXG5cdFx0XHQvLyBhdXRvbWF0aWNhbGx5IGRlcXVldWVkXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwiZnhcIiApIHtcblx0XHRcdFx0cXVldWUudW5zaGlmdCggXCJpbnByb2dyZXNzXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2xlYXIgdXAgdGhlIGxhc3QgcXVldWUgc3RvcCBmdW5jdGlvblxuXHRcdFx0ZGVsZXRlIGhvb2tzLnN0b3A7XG5cdFx0XHRmbi5jYWxsKCBlbGVtLCBuZXh0LCBob29rcyApO1xuXHRcdH1cblxuXHRcdGlmICggIXN0YXJ0TGVuZ3RoICYmIGhvb2tzICkge1xuXHRcdFx0aG9va3MuZW1wdHkuZmlyZSgpO1xuXHRcdH1cblx0fSxcblxuXHQvLyBOb3QgcHVibGljIC0gZ2VuZXJhdGUgYSBxdWV1ZUhvb2tzIG9iamVjdCwgb3IgcmV0dXJuIHRoZSBjdXJyZW50IG9uZVxuXHRfcXVldWVIb29rczogZnVuY3Rpb24oIGVsZW0sIHR5cGUgKSB7XG5cdFx0dmFyIGtleSA9IHR5cGUgKyBcInF1ZXVlSG9va3NcIjtcblx0XHRyZXR1cm4gZGF0YVByaXYuZ2V0KCBlbGVtLCBrZXkgKSB8fCBkYXRhUHJpdi5hY2Nlc3MoIGVsZW0sIGtleSwge1xuXHRcdFx0ZW1wdHk6IGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLmFkZCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgWyB0eXBlICsgXCJxdWV1ZVwiLCBrZXkgXSApO1xuXHRcdFx0fSApXG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0cXVldWU6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdHZhciBzZXR0ZXIgPSAyO1xuXG5cdFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGRhdGEgPSB0eXBlO1xuXHRcdFx0dHlwZSA9IFwiZnhcIjtcblx0XHRcdHNldHRlci0tO1xuXHRcdH1cblxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCA8IHNldHRlciApIHtcblx0XHRcdHJldHVybiBqUXVlcnkucXVldWUoIHRoaXNbIDAgXSwgdHlwZSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBkYXRhID09PSB1bmRlZmluZWQgP1xuXHRcdFx0dGhpcyA6XG5cdFx0XHR0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgcXVldWUgPSBqUXVlcnkucXVldWUoIHRoaXMsIHR5cGUsIGRhdGEgKTtcblxuXHRcdFx0XHQvLyBFbnN1cmUgYSBob29rcyBmb3IgdGhpcyBxdWV1ZVxuXHRcdFx0XHRqUXVlcnkuX3F1ZXVlSG9va3MoIHRoaXMsIHR5cGUgKTtcblxuXHRcdFx0XHRpZiAoIHR5cGUgPT09IFwiZnhcIiAmJiBxdWV1ZVsgMCBdICE9PSBcImlucHJvZ3Jlc3NcIiApIHtcblx0XHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdH0sXG5cdGRlcXVldWU6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcblx0XHR9ICk7XG5cdH0sXG5cdGNsZWFyUXVldWU6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdHJldHVybiB0aGlzLnF1ZXVlKCB0eXBlIHx8IFwiZnhcIiwgW10gKTtcblx0fSxcblxuXHQvLyBHZXQgYSBwcm9taXNlIHJlc29sdmVkIHdoZW4gcXVldWVzIG9mIGEgY2VydGFpbiB0eXBlXG5cdC8vIGFyZSBlbXB0aWVkIChmeCBpcyB0aGUgdHlwZSBieSBkZWZhdWx0KVxuXHRwcm9taXNlOiBmdW5jdGlvbiggdHlwZSwgb2JqICkge1xuXHRcdHZhciB0bXAsXG5cdFx0XHRjb3VudCA9IDEsXG5cdFx0XHRkZWZlciA9IGpRdWVyeS5EZWZlcnJlZCgpLFxuXHRcdFx0ZWxlbWVudHMgPSB0aGlzLFxuXHRcdFx0aSA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0cmVzb2x2ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoICEoIC0tY291bnQgKSApIHtcblx0XHRcdFx0XHRkZWZlci5yZXNvbHZlV2l0aCggZWxlbWVudHMsIFsgZWxlbWVudHMgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdG9iaiA9IHR5cGU7XG5cdFx0XHR0eXBlID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdHRtcCA9IGRhdGFQcml2LmdldCggZWxlbWVudHNbIGkgXSwgdHlwZSArIFwicXVldWVIb29rc1wiICk7XG5cdFx0XHRpZiAoIHRtcCAmJiB0bXAuZW1wdHkgKSB7XG5cdFx0XHRcdGNvdW50Kys7XG5cdFx0XHRcdHRtcC5lbXB0eS5hZGQoIHJlc29sdmUgKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmVzb2x2ZSgpO1xuXHRcdHJldHVybiBkZWZlci5wcm9taXNlKCBvYmogKTtcblx0fVxufSApO1xudmFyIHBudW0gPSAoIC9bKy1dPyg/OlxcZCpcXC58KVxcZCsoPzpbZUVdWystXT9cXGQrfCkvICkuc291cmNlO1xuXG52YXIgcmNzc051bSA9IG5ldyBSZWdFeHAoIFwiXig/OihbKy1dKT18KShcIiArIHBudW0gKyBcIikoW2EteiVdKikkXCIsIFwiaVwiICk7XG5cblxudmFyIGNzc0V4cGFuZCA9IFsgXCJUb3BcIiwgXCJSaWdodFwiLCBcIkJvdHRvbVwiLCBcIkxlZnRcIiBdO1xuXG52YXIgaXNIaWRkZW5XaXRoaW5UcmVlID0gZnVuY3Rpb24oIGVsZW0sIGVsICkge1xuXG5cdFx0Ly8gaXNIaWRkZW5XaXRoaW5UcmVlIG1pZ2h0IGJlIGNhbGxlZCBmcm9tIGpRdWVyeSNmaWx0ZXIgZnVuY3Rpb247XG5cdFx0Ly8gaW4gdGhhdCBjYXNlLCBlbGVtZW50IHdpbGwgYmUgc2Vjb25kIGFyZ3VtZW50XG5cdFx0ZWxlbSA9IGVsIHx8IGVsZW07XG5cblx0XHQvLyBJbmxpbmUgc3R5bGUgdHJ1bXBzIGFsbFxuXHRcdHJldHVybiBlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiIHx8XG5cdFx0XHRlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwiXCIgJiZcblxuXHRcdFx0Ly8gT3RoZXJ3aXNlLCBjaGVjayBjb21wdXRlZCBzdHlsZVxuXHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveCA8PTQzIC0gNDVcblx0XHRcdC8vIERpc2Nvbm5lY3RlZCBlbGVtZW50cyBjYW4gaGF2ZSBjb21wdXRlZCBkaXNwbGF5OiBub25lLCBzbyBmaXJzdCBjb25maXJtIHRoYXQgZWxlbSBpc1xuXHRcdFx0Ly8gaW4gdGhlIGRvY3VtZW50LlxuXHRcdFx0alF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKSAmJlxuXG5cdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApID09PSBcIm5vbmVcIjtcblx0fTtcblxudmFyIHN3YXAgPSBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgY2FsbGJhY2ssIGFyZ3MgKSB7XG5cdHZhciByZXQsIG5hbWUsXG5cdFx0b2xkID0ge307XG5cblx0Ly8gUmVtZW1iZXIgdGhlIG9sZCB2YWx1ZXMsIGFuZCBpbnNlcnQgdGhlIG5ldyBvbmVzXG5cdGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcblx0XHRvbGRbIG5hbWUgXSA9IGVsZW0uc3R5bGVbIG5hbWUgXTtcblx0XHRlbGVtLnN0eWxlWyBuYW1lIF0gPSBvcHRpb25zWyBuYW1lIF07XG5cdH1cblxuXHRyZXQgPSBjYWxsYmFjay5hcHBseSggZWxlbSwgYXJncyB8fCBbXSApO1xuXG5cdC8vIFJldmVydCB0aGUgb2xkIHZhbHVlc1xuXHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0ZWxlbS5zdHlsZVsgbmFtZSBdID0gb2xkWyBuYW1lIF07XG5cdH1cblxuXHRyZXR1cm4gcmV0O1xufTtcblxuXG5cblxuZnVuY3Rpb24gYWRqdXN0Q1NTKCBlbGVtLCBwcm9wLCB2YWx1ZVBhcnRzLCB0d2VlbiApIHtcblx0dmFyIGFkanVzdGVkLFxuXHRcdHNjYWxlID0gMSxcblx0XHRtYXhJdGVyYXRpb25zID0gMjAsXG5cdFx0Y3VycmVudFZhbHVlID0gdHdlZW4gP1xuXHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiB0d2Vlbi5jdXIoKTtcblx0XHRcdH0gOlxuXHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBqUXVlcnkuY3NzKCBlbGVtLCBwcm9wLCBcIlwiICk7XG5cdFx0XHR9LFxuXHRcdGluaXRpYWwgPSBjdXJyZW50VmFsdWUoKSxcblx0XHR1bml0ID0gdmFsdWVQYXJ0cyAmJiB2YWx1ZVBhcnRzWyAzIF0gfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gPyBcIlwiIDogXCJweFwiICksXG5cblx0XHQvLyBTdGFydGluZyB2YWx1ZSBjb21wdXRhdGlvbiBpcyByZXF1aXJlZCBmb3IgcG90ZW50aWFsIHVuaXQgbWlzbWF0Y2hlc1xuXHRcdGluaXRpYWxJblVuaXQgPSAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSB8fCB1bml0ICE9PSBcInB4XCIgJiYgK2luaXRpYWwgKSAmJlxuXHRcdFx0cmNzc051bS5leGVjKCBqUXVlcnkuY3NzKCBlbGVtLCBwcm9wICkgKTtcblxuXHRpZiAoIGluaXRpYWxJblVuaXQgJiYgaW5pdGlhbEluVW5pdFsgMyBdICE9PSB1bml0ICkge1xuXG5cdFx0Ly8gVHJ1c3QgdW5pdHMgcmVwb3J0ZWQgYnkgalF1ZXJ5LmNzc1xuXHRcdHVuaXQgPSB1bml0IHx8IGluaXRpYWxJblVuaXRbIDMgXTtcblxuXHRcdC8vIE1ha2Ugc3VyZSB3ZSB1cGRhdGUgdGhlIHR3ZWVuIHByb3BlcnRpZXMgbGF0ZXIgb25cblx0XHR2YWx1ZVBhcnRzID0gdmFsdWVQYXJ0cyB8fCBbXTtcblxuXHRcdC8vIEl0ZXJhdGl2ZWx5IGFwcHJveGltYXRlIGZyb20gYSBub256ZXJvIHN0YXJ0aW5nIHBvaW50XG5cdFx0aW5pdGlhbEluVW5pdCA9ICtpbml0aWFsIHx8IDE7XG5cblx0XHRkbyB7XG5cblx0XHRcdC8vIElmIHByZXZpb3VzIGl0ZXJhdGlvbiB6ZXJvZWQgb3V0LCBkb3VibGUgdW50aWwgd2UgZ2V0ICpzb21ldGhpbmcqLlxuXHRcdFx0Ly8gVXNlIHN0cmluZyBmb3IgZG91Ymxpbmcgc28gd2UgZG9uJ3QgYWNjaWRlbnRhbGx5IHNlZSBzY2FsZSBhcyB1bmNoYW5nZWQgYmVsb3dcblx0XHRcdHNjYWxlID0gc2NhbGUgfHwgXCIuNVwiO1xuXG5cdFx0XHQvLyBBZGp1c3QgYW5kIGFwcGx5XG5cdFx0XHRpbml0aWFsSW5Vbml0ID0gaW5pdGlhbEluVW5pdCAvIHNjYWxlO1xuXHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wLCBpbml0aWFsSW5Vbml0ICsgdW5pdCApO1xuXG5cdFx0Ly8gVXBkYXRlIHNjYWxlLCB0b2xlcmF0aW5nIHplcm8gb3IgTmFOIGZyb20gdHdlZW4uY3VyKClcblx0XHQvLyBCcmVhayB0aGUgbG9vcCBpZiBzY2FsZSBpcyB1bmNoYW5nZWQgb3IgcGVyZmVjdCwgb3IgaWYgd2UndmUganVzdCBoYWQgZW5vdWdoLlxuXHRcdH0gd2hpbGUgKFxuXHRcdFx0c2NhbGUgIT09ICggc2NhbGUgPSBjdXJyZW50VmFsdWUoKSAvIGluaXRpYWwgKSAmJiBzY2FsZSAhPT0gMSAmJiAtLW1heEl0ZXJhdGlvbnNcblx0XHQpO1xuXHR9XG5cblx0aWYgKCB2YWx1ZVBhcnRzICkge1xuXHRcdGluaXRpYWxJblVuaXQgPSAraW5pdGlhbEluVW5pdCB8fCAraW5pdGlhbCB8fCAwO1xuXG5cdFx0Ly8gQXBwbHkgcmVsYXRpdmUgb2Zmc2V0ICgrPS8tPSkgaWYgc3BlY2lmaWVkXG5cdFx0YWRqdXN0ZWQgPSB2YWx1ZVBhcnRzWyAxIF0gP1xuXHRcdFx0aW5pdGlhbEluVW5pdCArICggdmFsdWVQYXJ0c1sgMSBdICsgMSApICogdmFsdWVQYXJ0c1sgMiBdIDpcblx0XHRcdCt2YWx1ZVBhcnRzWyAyIF07XG5cdFx0aWYgKCB0d2VlbiApIHtcblx0XHRcdHR3ZWVuLnVuaXQgPSB1bml0O1xuXHRcdFx0dHdlZW4uc3RhcnQgPSBpbml0aWFsSW5Vbml0O1xuXHRcdFx0dHdlZW4uZW5kID0gYWRqdXN0ZWQ7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBhZGp1c3RlZDtcbn1cblxuXG52YXIgZGVmYXVsdERpc3BsYXlNYXAgPSB7fTtcblxuZnVuY3Rpb24gZ2V0RGVmYXVsdERpc3BsYXkoIGVsZW0gKSB7XG5cdHZhciB0ZW1wLFxuXHRcdGRvYyA9IGVsZW0ub3duZXJEb2N1bWVudCxcblx0XHRub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUsXG5cdFx0ZGlzcGxheSA9IGRlZmF1bHREaXNwbGF5TWFwWyBub2RlTmFtZSBdO1xuXG5cdGlmICggZGlzcGxheSApIHtcblx0XHRyZXR1cm4gZGlzcGxheTtcblx0fVxuXG5cdHRlbXAgPSBkb2MuYm9keS5hcHBlbmRDaGlsZCggZG9jLmNyZWF0ZUVsZW1lbnQoIG5vZGVOYW1lICkgKSxcblx0ZGlzcGxheSA9IGpRdWVyeS5jc3MoIHRlbXAsIFwiZGlzcGxheVwiICk7XG5cblx0dGVtcC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCB0ZW1wICk7XG5cblx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRkaXNwbGF5ID0gXCJibG9ja1wiO1xuXHR9XG5cdGRlZmF1bHREaXNwbGF5TWFwWyBub2RlTmFtZSBdID0gZGlzcGxheTtcblxuXHRyZXR1cm4gZGlzcGxheTtcbn1cblxuZnVuY3Rpb24gc2hvd0hpZGUoIGVsZW1lbnRzLCBzaG93ICkge1xuXHR2YXIgZGlzcGxheSwgZWxlbSxcblx0XHR2YWx1ZXMgPSBbXSxcblx0XHRpbmRleCA9IDAsXG5cdFx0bGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoO1xuXG5cdC8vIERldGVybWluZSBuZXcgZGlzcGxheSB2YWx1ZSBmb3IgZWxlbWVudHMgdGhhdCBuZWVkIHRvIGNoYW5nZVxuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGVsZW0gPSBlbGVtZW50c1sgaW5kZXggXTtcblx0XHRpZiAoICFlbGVtLnN0eWxlICkge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0ZGlzcGxheSA9IGVsZW0uc3R5bGUuZGlzcGxheTtcblx0XHRpZiAoIHNob3cgKSB7XG5cblx0XHRcdC8vIFNpbmNlIHdlIGZvcmNlIHZpc2liaWxpdHkgdXBvbiBjYXNjYWRlLWhpZGRlbiBlbGVtZW50cywgYW4gaW1tZWRpYXRlIChhbmQgc2xvdylcblx0XHRcdC8vIGNoZWNrIGlzIHJlcXVpcmVkIGluIHRoaXMgZmlyc3QgbG9vcCB1bmxlc3Mgd2UgaGF2ZSBhIG5vbmVtcHR5IGRpc3BsYXkgdmFsdWUgKGVpdGhlclxuXHRcdFx0Ly8gaW5saW5lIG9yIGFib3V0LXRvLWJlLXJlc3RvcmVkKVxuXHRcdFx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gZGF0YVByaXYuZ2V0KCBlbGVtLCBcImRpc3BsYXlcIiApIHx8IG51bGw7XG5cdFx0XHRcdGlmICggIXZhbHVlc1sgaW5kZXggXSApIHtcblx0XHRcdFx0XHRlbGVtLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJcIiAmJiBpc0hpZGRlbldpdGhpblRyZWUoIGVsZW0gKSApIHtcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gZ2V0RGVmYXVsdERpc3BsYXkoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKCBkaXNwbGF5ICE9PSBcIm5vbmVcIiApIHtcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gXCJub25lXCI7XG5cblx0XHRcdFx0Ly8gUmVtZW1iZXIgd2hhdCB3ZSdyZSBvdmVyd3JpdGluZ1xuXHRcdFx0XHRkYXRhUHJpdi5zZXQoIGVsZW0sIFwiZGlzcGxheVwiLCBkaXNwbGF5ICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gU2V0IHRoZSBkaXNwbGF5IG9mIHRoZSBlbGVtZW50cyBpbiBhIHNlY29uZCBsb29wIHRvIGF2b2lkIGNvbnN0YW50IHJlZmxvd1xuXHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGlmICggdmFsdWVzWyBpbmRleCBdICE9IG51bGwgKSB7XG5cdFx0XHRlbGVtZW50c1sgaW5kZXggXS5zdHlsZS5kaXNwbGF5ID0gdmFsdWVzWyBpbmRleCBdO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBlbGVtZW50cztcbn1cblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRzaG93OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc2hvd0hpZGUoIHRoaXMsIHRydWUgKTtcblx0fSxcblx0aGlkZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNob3dIaWRlKCB0aGlzICk7XG5cdH0sXG5cdHRvZ2dsZTogZnVuY3Rpb24oIHN0YXRlICkge1xuXHRcdGlmICggdHlwZW9mIHN0YXRlID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRcdHJldHVybiBzdGF0ZSA/IHRoaXMuc2hvdygpIDogdGhpcy5oaWRlKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIGlzSGlkZGVuV2l0aGluVHJlZSggdGhpcyApICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5zaG93KCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5oaWRlKCk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9XG59ICk7XG52YXIgcmNoZWNrYWJsZVR5cGUgPSAoIC9eKD86Y2hlY2tib3h8cmFkaW8pJC9pICk7XG5cbnZhciBydGFnTmFtZSA9ICggLzwoW2Etel1bXlxcL1xcMD5cXHgyMFxcdFxcclxcblxcZl0rKS9pICk7XG5cbnZhciByc2NyaXB0VHlwZSA9ICggL14kfFxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSApO1xuXG5cblxuLy8gV2UgaGF2ZSB0byBjbG9zZSB0aGVzZSB0YWdzIHRvIHN1cHBvcnQgWEhUTUwgKCMxMzIwMClcbnZhciB3cmFwTWFwID0ge1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdG9wdGlvbjogWyAxLCBcIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz5cIiwgXCI8L3NlbGVjdD5cIiBdLFxuXG5cdC8vIFhIVE1MIHBhcnNlcnMgZG8gbm90IG1hZ2ljYWxseSBpbnNlcnQgZWxlbWVudHMgaW4gdGhlXG5cdC8vIHNhbWUgd2F5IHRoYXQgdGFnIHNvdXAgcGFyc2VycyBkby4gU28gd2UgY2Fubm90IHNob3J0ZW5cblx0Ly8gdGhpcyBieSBvbWl0dGluZyA8dGJvZHk+IG9yIG90aGVyIHJlcXVpcmVkIGVsZW1lbnRzLlxuXHR0aGVhZDogWyAxLCBcIjx0YWJsZT5cIiwgXCI8L3RhYmxlPlwiIF0sXG5cdGNvbDogWyAyLCBcIjx0YWJsZT48Y29sZ3JvdXA+XCIsIFwiPC9jb2xncm91cD48L3RhYmxlPlwiIF0sXG5cdHRyOiBbIDIsIFwiPHRhYmxlPjx0Ym9keT5cIiwgXCI8L3Rib2R5PjwvdGFibGU+XCIgXSxcblx0dGQ6IFsgMywgXCI8dGFibGU+PHRib2R5Pjx0cj5cIiwgXCI8L3RyPjwvdGJvZHk+PC90YWJsZT5cIiBdLFxuXG5cdF9kZWZhdWx0OiBbIDAsIFwiXCIsIFwiXCIgXVxufTtcblxuLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbndyYXBNYXAub3B0Z3JvdXAgPSB3cmFwTWFwLm9wdGlvbjtcblxud3JhcE1hcC50Ym9keSA9IHdyYXBNYXAudGZvb3QgPSB3cmFwTWFwLmNvbGdyb3VwID0gd3JhcE1hcC5jYXB0aW9uID0gd3JhcE1hcC50aGVhZDtcbndyYXBNYXAudGggPSB3cmFwTWFwLnRkO1xuXG5cbmZ1bmN0aW9uIGdldEFsbCggY29udGV4dCwgdGFnICkge1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0Ly8gVXNlIHR5cGVvZiB0byBhdm9pZCB6ZXJvLWFyZ3VtZW50IG1ldGhvZCBpbnZvY2F0aW9uIG9uIGhvc3Qgb2JqZWN0cyAoIzE1MTUxKVxuXHR2YXIgcmV0ID0gdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgP1xuXHRcdFx0Y29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnIHx8IFwiKlwiICkgOlxuXHRcdFx0dHlwZW9mIGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCAhPT0gXCJ1bmRlZmluZWRcIiA/XG5cdFx0XHRcdGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCggdGFnIHx8IFwiKlwiICkgOlxuXHRcdFx0W107XG5cblx0cmV0dXJuIHRhZyA9PT0gdW5kZWZpbmVkIHx8IHRhZyAmJiBqUXVlcnkubm9kZU5hbWUoIGNvbnRleHQsIHRhZyApID9cblx0XHRqUXVlcnkubWVyZ2UoIFsgY29udGV4dCBdLCByZXQgKSA6XG5cdFx0cmV0O1xufVxuXG5cbi8vIE1hcmsgc2NyaXB0cyBhcyBoYXZpbmcgYWxyZWFkeSBiZWVuIGV2YWx1YXRlZFxuZnVuY3Rpb24gc2V0R2xvYmFsRXZhbCggZWxlbXMsIHJlZkVsZW1lbnRzICkge1xuXHR2YXIgaSA9IDAsXG5cdFx0bCA9IGVsZW1zLmxlbmd0aDtcblxuXHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0ZGF0YVByaXYuc2V0KFxuXHRcdFx0ZWxlbXNbIGkgXSxcblx0XHRcdFwiZ2xvYmFsRXZhbFwiLFxuXHRcdFx0IXJlZkVsZW1lbnRzIHx8IGRhdGFQcml2LmdldCggcmVmRWxlbWVudHNbIGkgXSwgXCJnbG9iYWxFdmFsXCIgKVxuXHRcdCk7XG5cdH1cbn1cblxuXG52YXIgcmh0bWwgPSAvPHwmIz9cXHcrOy87XG5cbmZ1bmN0aW9uIGJ1aWxkRnJhZ21lbnQoIGVsZW1zLCBjb250ZXh0LCBzY3JpcHRzLCBzZWxlY3Rpb24sIGlnbm9yZWQgKSB7XG5cdHZhciBlbGVtLCB0bXAsIHRhZywgd3JhcCwgY29udGFpbnMsIGosXG5cdFx0ZnJhZ21lbnQgPSBjb250ZXh0LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcblx0XHRub2RlcyA9IFtdLFxuXHRcdGkgPSAwLFxuXHRcdGwgPSBlbGVtcy5sZW5ndGg7XG5cblx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdGVsZW0gPSBlbGVtc1sgaSBdO1xuXG5cdFx0aWYgKCBlbGVtIHx8IGVsZW0gPT09IDAgKSB7XG5cblx0XHRcdC8vIEFkZCBub2RlcyBkaXJlY3RseVxuXHRcdFx0aWYgKCBqUXVlcnkudHlwZSggZWxlbSApID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdFx0XHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdGpRdWVyeS5tZXJnZSggbm9kZXMsIGVsZW0ubm9kZVR5cGUgPyBbIGVsZW0gXSA6IGVsZW0gKTtcblxuXHRcdFx0Ly8gQ29udmVydCBub24taHRtbCBpbnRvIGEgdGV4dCBub2RlXG5cdFx0XHR9IGVsc2UgaWYgKCAhcmh0bWwudGVzdCggZWxlbSApICkge1xuXHRcdFx0XHRub2Rlcy5wdXNoKCBjb250ZXh0LmNyZWF0ZVRleHROb2RlKCBlbGVtICkgKTtcblxuXHRcdFx0Ly8gQ29udmVydCBodG1sIGludG8gRE9NIG5vZGVzXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0bXAgPSB0bXAgfHwgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGNvbnRleHQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApICk7XG5cblx0XHRcdFx0Ly8gRGVzZXJpYWxpemUgYSBzdGFuZGFyZCByZXByZXNlbnRhdGlvblxuXHRcdFx0XHR0YWcgPSAoIHJ0YWdOYW1lLmV4ZWMoIGVsZW0gKSB8fCBbIFwiXCIsIFwiXCIgXSApWyAxIF0udG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0d3JhcCA9IHdyYXBNYXBbIHRhZyBdIHx8IHdyYXBNYXAuX2RlZmF1bHQ7XG5cdFx0XHRcdHRtcC5pbm5lckhUTUwgPSB3cmFwWyAxIF0gKyBqUXVlcnkuaHRtbFByZWZpbHRlciggZWxlbSApICsgd3JhcFsgMiBdO1xuXG5cdFx0XHRcdC8vIERlc2NlbmQgdGhyb3VnaCB3cmFwcGVycyB0byB0aGUgcmlnaHQgY29udGVudFxuXHRcdFx0XHRqID0gd3JhcFsgMCBdO1xuXHRcdFx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdFx0XHR0bXAgPSB0bXAubGFzdENoaWxkO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCBub2RlcywgdG1wLmNoaWxkTm9kZXMgKTtcblxuXHRcdFx0XHQvLyBSZW1lbWJlciB0aGUgdG9wLWxldmVsIGNvbnRhaW5lclxuXHRcdFx0XHR0bXAgPSBmcmFnbWVudC5maXJzdENoaWxkO1xuXG5cdFx0XHRcdC8vIEVuc3VyZSB0aGUgY3JlYXRlZCBub2RlcyBhcmUgb3JwaGFuZWQgKCMxMjM5Milcblx0XHRcdFx0dG1wLnRleHRDb250ZW50ID0gXCJcIjtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBSZW1vdmUgd3JhcHBlciBmcm9tIGZyYWdtZW50XG5cdGZyYWdtZW50LnRleHRDb250ZW50ID0gXCJcIjtcblxuXHRpID0gMDtcblx0d2hpbGUgKCAoIGVsZW0gPSBub2Rlc1sgaSsrIF0gKSApIHtcblxuXHRcdC8vIFNraXAgZWxlbWVudHMgYWxyZWFkeSBpbiB0aGUgY29udGV4dCBjb2xsZWN0aW9uICh0cmFjLTQwODcpXG5cdFx0aWYgKCBzZWxlY3Rpb24gJiYgalF1ZXJ5LmluQXJyYXkoIGVsZW0sIHNlbGVjdGlvbiApID4gLTEgKSB7XG5cdFx0XHRpZiAoIGlnbm9yZWQgKSB7XG5cdFx0XHRcdGlnbm9yZWQucHVzaCggZWxlbSApO1xuXHRcdFx0fVxuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0Y29udGFpbnMgPSBqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApO1xuXG5cdFx0Ly8gQXBwZW5kIHRvIGZyYWdtZW50XG5cdFx0dG1wID0gZ2V0QWxsKCBmcmFnbWVudC5hcHBlbmRDaGlsZCggZWxlbSApLCBcInNjcmlwdFwiICk7XG5cblx0XHQvLyBQcmVzZXJ2ZSBzY3JpcHQgZXZhbHVhdGlvbiBoaXN0b3J5XG5cdFx0aWYgKCBjb250YWlucyApIHtcblx0XHRcdHNldEdsb2JhbEV2YWwoIHRtcCApO1xuXHRcdH1cblxuXHRcdC8vIENhcHR1cmUgZXhlY3V0YWJsZXNcblx0XHRpZiAoIHNjcmlwdHMgKSB7XG5cdFx0XHRqID0gMDtcblx0XHRcdHdoaWxlICggKCBlbGVtID0gdG1wWyBqKysgXSApICkge1xuXHRcdFx0XHRpZiAoIHJzY3JpcHRUeXBlLnRlc3QoIGVsZW0udHlwZSB8fCBcIlwiICkgKSB7XG5cdFx0XHRcdFx0c2NyaXB0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZnJhZ21lbnQ7XG59XG5cblxuKCBmdW5jdGlvbigpIHtcblx0dmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuXHRcdGRpdiA9IGZyYWdtZW50LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkgKSxcblx0XHRpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApO1xuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHlcblx0Ly8gQ2hlY2sgc3RhdGUgbG9zdCBpZiB0aGUgbmFtZSBpcyBzZXQgKCMxMTIxNylcblx0Ly8gU3VwcG9ydDogV2luZG93cyBXZWIgQXBwcyAoV1dBKVxuXHQvLyBgbmFtZWAgYW5kIGB0eXBlYCBtdXN0IHVzZSAuc2V0QXR0cmlidXRlIGZvciBXV0EgKCMxNDkwMSlcblx0aW5wdXQuc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgXCJyYWRpb1wiICk7XG5cdGlucHV0LnNldEF0dHJpYnV0ZSggXCJjaGVja2VkXCIsIFwiY2hlY2tlZFwiICk7XG5cdGlucHV0LnNldEF0dHJpYnV0ZSggXCJuYW1lXCIsIFwidFwiICk7XG5cblx0ZGl2LmFwcGVuZENoaWxkKCBpbnB1dCApO1xuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjEgb25seVxuXHQvLyBPbGRlciBXZWJLaXQgZG9lc24ndCBjbG9uZSBjaGVja2VkIHN0YXRlIGNvcnJlY3RseSBpbiBmcmFnbWVudHNcblx0c3VwcG9ydC5jaGVja0Nsb25lID0gZGl2LmNsb25lTm9kZSggdHJ1ZSApLmNsb25lTm9kZSggdHJ1ZSApLmxhc3RDaGlsZC5jaGVja2VkO1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuXHQvLyBNYWtlIHN1cmUgdGV4dGFyZWEgKGFuZCBjaGVja2JveCkgZGVmYXVsdFZhbHVlIGlzIHByb3Blcmx5IGNsb25lZFxuXHRkaXYuaW5uZXJIVE1MID0gXCI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+XCI7XG5cdHN1cHBvcnQubm9DbG9uZUNoZWNrZWQgPSAhIWRpdi5jbG9uZU5vZGUoIHRydWUgKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlO1xufSApKCk7XG52YXIgZG9jdW1lbnRFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG5cblxudmFyXG5cdHJrZXlFdmVudCA9IC9ea2V5Lyxcblx0cm1vdXNlRXZlbnQgPSAvXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnV8ZHJhZ3xkcm9wKXxjbGljay8sXG5cdHJ0eXBlbmFtZXNwYWNlID0gL14oW14uXSopKD86XFwuKC4rKXwpLztcblxuZnVuY3Rpb24gcmV0dXJuVHJ1ZSgpIHtcblx0cmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHJldHVybkZhbHNlKCkge1xuXHRyZXR1cm4gZmFsc2U7XG59XG5cbi8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG4vLyBTZWUgIzEzMzkzIGZvciBtb3JlIGluZm9cbmZ1bmN0aW9uIHNhZmVBY3RpdmVFbGVtZW50KCkge1xuXHR0cnkge1xuXHRcdHJldHVybiBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuXHR9IGNhdGNoICggZXJyICkgeyB9XG59XG5cbmZ1bmN0aW9uIG9uKCBlbGVtLCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuLCBvbmUgKSB7XG5cdHZhciBvcmlnRm4sIHR5cGU7XG5cblx0Ly8gVHlwZXMgY2FuIGJlIGEgbWFwIG9mIHR5cGVzL2hhbmRsZXJzXG5cdGlmICggdHlwZW9mIHR5cGVzID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0Ly8gKCB0eXBlcy1PYmplY3QsIHNlbGVjdG9yLCBkYXRhIClcblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiApIHtcblxuXHRcdFx0Ly8gKCB0eXBlcy1PYmplY3QsIGRhdGEgKVxuXHRcdFx0ZGF0YSA9IGRhdGEgfHwgc2VsZWN0b3I7XG5cdFx0XHRzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0Zm9yICggdHlwZSBpbiB0eXBlcyApIHtcblx0XHRcdG9uKCBlbGVtLCB0eXBlLCBzZWxlY3RvciwgZGF0YSwgdHlwZXNbIHR5cGUgXSwgb25lICk7XG5cdFx0fVxuXHRcdHJldHVybiBlbGVtO1xuXHR9XG5cblx0aWYgKCBkYXRhID09IG51bGwgJiYgZm4gPT0gbnVsbCApIHtcblxuXHRcdC8vICggdHlwZXMsIGZuIClcblx0XHRmbiA9IHNlbGVjdG9yO1xuXHRcdGRhdGEgPSBzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0fSBlbHNlIGlmICggZm4gPT0gbnVsbCApIHtcblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblxuXHRcdFx0Ly8gKCB0eXBlcywgc2VsZWN0b3IsIGZuIClcblx0XHRcdGZuID0gZGF0YTtcblx0XHRcdGRhdGEgPSB1bmRlZmluZWQ7XG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gKCB0eXBlcywgZGF0YSwgZm4gKVxuXHRcdFx0Zm4gPSBkYXRhO1xuXHRcdFx0ZGF0YSA9IHNlbGVjdG9yO1xuXHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHR9XG5cdGlmICggZm4gPT09IGZhbHNlICkge1xuXHRcdGZuID0gcmV0dXJuRmFsc2U7XG5cdH0gZWxzZSBpZiAoICFmbiApIHtcblx0XHRyZXR1cm4gZWxlbTtcblx0fVxuXG5cdGlmICggb25lID09PSAxICkge1xuXHRcdG9yaWdGbiA9IGZuO1xuXHRcdGZuID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0XHQvLyBDYW4gdXNlIGFuIGVtcHR5IHNldCwgc2luY2UgZXZlbnQgY29udGFpbnMgdGhlIGluZm9cblx0XHRcdGpRdWVyeSgpLm9mZiggZXZlbnQgKTtcblx0XHRcdHJldHVybiBvcmlnRm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH07XG5cblx0XHQvLyBVc2Ugc2FtZSBndWlkIHNvIGNhbGxlciBjYW4gcmVtb3ZlIHVzaW5nIG9yaWdGblxuXHRcdGZuLmd1aWQgPSBvcmlnRm4uZ3VpZCB8fCAoIG9yaWdGbi5ndWlkID0galF1ZXJ5Lmd1aWQrKyApO1xuXHR9XG5cdHJldHVybiBlbGVtLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdGpRdWVyeS5ldmVudC5hZGQoIHRoaXMsIHR5cGVzLCBmbiwgZGF0YSwgc2VsZWN0b3IgKTtcblx0fSApO1xufVxuXG4vKlxuICogSGVscGVyIGZ1bmN0aW9ucyBmb3IgbWFuYWdpbmcgZXZlbnRzIC0tIG5vdCBwYXJ0IG9mIHRoZSBwdWJsaWMgaW50ZXJmYWNlLlxuICogUHJvcHMgdG8gRGVhbiBFZHdhcmRzJyBhZGRFdmVudCBsaWJyYXJ5IGZvciBtYW55IG9mIHRoZSBpZGVhcy5cbiAqL1xualF1ZXJ5LmV2ZW50ID0ge1xuXG5cdGdsb2JhbDoge30sXG5cblx0YWRkOiBmdW5jdGlvbiggZWxlbSwgdHlwZXMsIGhhbmRsZXIsIGRhdGEsIHNlbGVjdG9yICkge1xuXG5cdFx0dmFyIGhhbmRsZU9iakluLCBldmVudEhhbmRsZSwgdG1wLFxuXHRcdFx0ZXZlbnRzLCB0LCBoYW5kbGVPYmosXG5cdFx0XHRzcGVjaWFsLCBoYW5kbGVycywgdHlwZSwgbmFtZXNwYWNlcywgb3JpZ1R5cGUsXG5cdFx0XHRlbGVtRGF0YSA9IGRhdGFQcml2LmdldCggZWxlbSApO1xuXG5cdFx0Ly8gRG9uJ3QgYXR0YWNoIGV2ZW50cyB0byBub0RhdGEgb3IgdGV4dC9jb21tZW50IG5vZGVzIChidXQgYWxsb3cgcGxhaW4gb2JqZWN0cylcblx0XHRpZiAoICFlbGVtRGF0YSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBDYWxsZXIgY2FuIHBhc3MgaW4gYW4gb2JqZWN0IG9mIGN1c3RvbSBkYXRhIGluIGxpZXUgb2YgdGhlIGhhbmRsZXJcblx0XHRpZiAoIGhhbmRsZXIuaGFuZGxlciApIHtcblx0XHRcdGhhbmRsZU9iakluID0gaGFuZGxlcjtcblx0XHRcdGhhbmRsZXIgPSBoYW5kbGVPYmpJbi5oYW5kbGVyO1xuXHRcdFx0c2VsZWN0b3IgPSBoYW5kbGVPYmpJbi5zZWxlY3Rvcjtcblx0XHR9XG5cblx0XHQvLyBFbnN1cmUgdGhhdCBpbnZhbGlkIHNlbGVjdG9ycyB0aHJvdyBleGNlcHRpb25zIGF0IGF0dGFjaCB0aW1lXG5cdFx0Ly8gRXZhbHVhdGUgYWdhaW5zdCBkb2N1bWVudEVsZW1lbnQgaW4gY2FzZSBlbGVtIGlzIGEgbm9uLWVsZW1lbnQgbm9kZSAoZS5nLiwgZG9jdW1lbnQpXG5cdFx0aWYgKCBzZWxlY3RvciApIHtcblx0XHRcdGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggZG9jdW1lbnRFbGVtZW50LCBzZWxlY3RvciApO1xuXHRcdH1cblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBoYW5kbGVyIGhhcyBhIHVuaXF1ZSBJRCwgdXNlZCB0byBmaW5kL3JlbW92ZSBpdCBsYXRlclxuXHRcdGlmICggIWhhbmRsZXIuZ3VpZCApIHtcblx0XHRcdGhhbmRsZXIuZ3VpZCA9IGpRdWVyeS5ndWlkKys7XG5cdFx0fVxuXG5cdFx0Ly8gSW5pdCB0aGUgZWxlbWVudCdzIGV2ZW50IHN0cnVjdHVyZSBhbmQgbWFpbiBoYW5kbGVyLCBpZiB0aGlzIGlzIHRoZSBmaXJzdFxuXHRcdGlmICggISggZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzICkgKSB7XG5cdFx0XHRldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgPSB7fTtcblx0XHR9XG5cdFx0aWYgKCAhKCBldmVudEhhbmRsZSA9IGVsZW1EYXRhLmhhbmRsZSApICkge1xuXHRcdFx0ZXZlbnRIYW5kbGUgPSBlbGVtRGF0YS5oYW5kbGUgPSBmdW5jdGlvbiggZSApIHtcblxuXHRcdFx0XHQvLyBEaXNjYXJkIHRoZSBzZWNvbmQgZXZlbnQgb2YgYSBqUXVlcnkuZXZlbnQudHJpZ2dlcigpIGFuZFxuXHRcdFx0XHQvLyB3aGVuIGFuIGV2ZW50IGlzIGNhbGxlZCBhZnRlciBhIHBhZ2UgaGFzIHVubG9hZGVkXG5cdFx0XHRcdHJldHVybiB0eXBlb2YgalF1ZXJ5ICE9PSBcInVuZGVmaW5lZFwiICYmIGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgIT09IGUudHlwZSA/XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LmRpc3BhdGNoLmFwcGx5KCBlbGVtLCBhcmd1bWVudHMgKSA6IHVuZGVmaW5lZDtcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gSGFuZGxlIG11bHRpcGxlIGV2ZW50cyBzZXBhcmF0ZWQgYnkgYSBzcGFjZVxuXHRcdHR5cGVzID0gKCB0eXBlcyB8fCBcIlwiICkubWF0Y2goIHJub3R3aGl0ZSApIHx8IFsgXCJcIiBdO1xuXHRcdHQgPSB0eXBlcy5sZW5ndGg7XG5cdFx0d2hpbGUgKCB0LS0gKSB7XG5cdFx0XHR0bXAgPSBydHlwZW5hbWVzcGFjZS5leGVjKCB0eXBlc1sgdCBdICkgfHwgW107XG5cdFx0XHR0eXBlID0gb3JpZ1R5cGUgPSB0bXBbIDEgXTtcblx0XHRcdG5hbWVzcGFjZXMgPSAoIHRtcFsgMiBdIHx8IFwiXCIgKS5zcGxpdCggXCIuXCIgKS5zb3J0KCk7XG5cblx0XHRcdC8vIFRoZXJlICptdXN0KiBiZSBhIHR5cGUsIG5vIGF0dGFjaGluZyBuYW1lc3BhY2Utb25seSBoYW5kbGVyc1xuXHRcdFx0aWYgKCAhdHlwZSApIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIGV2ZW50IGNoYW5nZXMgaXRzIHR5cGUsIHVzZSB0aGUgc3BlY2lhbCBldmVudCBoYW5kbGVycyBmb3IgdGhlIGNoYW5nZWQgdHlwZVxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cblx0XHRcdC8vIElmIHNlbGVjdG9yIGRlZmluZWQsIGRldGVybWluZSBzcGVjaWFsIGV2ZW50IGFwaSB0eXBlLCBvdGhlcndpc2UgZ2l2ZW4gdHlwZVxuXHRcdFx0dHlwZSA9ICggc2VsZWN0b3IgPyBzcGVjaWFsLmRlbGVnYXRlVHlwZSA6IHNwZWNpYWwuYmluZFR5cGUgKSB8fCB0eXBlO1xuXG5cdFx0XHQvLyBVcGRhdGUgc3BlY2lhbCBiYXNlZCBvbiBuZXdseSByZXNldCB0eXBlXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblxuXHRcdFx0Ly8gaGFuZGxlT2JqIGlzIHBhc3NlZCB0byBhbGwgZXZlbnQgaGFuZGxlcnNcblx0XHRcdGhhbmRsZU9iaiA9IGpRdWVyeS5leHRlbmQoIHtcblx0XHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdFx0b3JpZ1R5cGU6IG9yaWdUeXBlLFxuXHRcdFx0XHRkYXRhOiBkYXRhLFxuXHRcdFx0XHRoYW5kbGVyOiBoYW5kbGVyLFxuXHRcdFx0XHRndWlkOiBoYW5kbGVyLmd1aWQsXG5cdFx0XHRcdHNlbGVjdG9yOiBzZWxlY3Rvcixcblx0XHRcdFx0bmVlZHNDb250ZXh0OiBzZWxlY3RvciAmJiBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3IgKSxcblx0XHRcdFx0bmFtZXNwYWNlOiBuYW1lc3BhY2VzLmpvaW4oIFwiLlwiIClcblx0XHRcdH0sIGhhbmRsZU9iakluICk7XG5cblx0XHRcdC8vIEluaXQgdGhlIGV2ZW50IGhhbmRsZXIgcXVldWUgaWYgd2UncmUgdGhlIGZpcnN0XG5cdFx0XHRpZiAoICEoIGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gKSApIHtcblx0XHRcdFx0aGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSA9IFtdO1xuXHRcdFx0XHRoYW5kbGVycy5kZWxlZ2F0ZUNvdW50ID0gMDtcblxuXHRcdFx0XHQvLyBPbmx5IHVzZSBhZGRFdmVudExpc3RlbmVyIGlmIHRoZSBzcGVjaWFsIGV2ZW50cyBoYW5kbGVyIHJldHVybnMgZmFsc2Vcblx0XHRcdFx0aWYgKCAhc3BlY2lhbC5zZXR1cCB8fFxuXHRcdFx0XHRcdHNwZWNpYWwuc2V0dXAuY2FsbCggZWxlbSwgZGF0YSwgbmFtZXNwYWNlcywgZXZlbnRIYW5kbGUgKSA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdFx0XHRpZiAoIGVsZW0uYWRkRXZlbnRMaXN0ZW5lciApIHtcblx0XHRcdFx0XHRcdGVsZW0uYWRkRXZlbnRMaXN0ZW5lciggdHlwZSwgZXZlbnRIYW5kbGUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBzcGVjaWFsLmFkZCApIHtcblx0XHRcdFx0c3BlY2lhbC5hZGQuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7XG5cblx0XHRcdFx0aWYgKCAhaGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCApIHtcblx0XHRcdFx0XHRoYW5kbGVPYmouaGFuZGxlci5ndWlkID0gaGFuZGxlci5ndWlkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCB0byB0aGUgZWxlbWVudCdzIGhhbmRsZXIgbGlzdCwgZGVsZWdhdGVzIGluIGZyb250XG5cdFx0XHRpZiAoIHNlbGVjdG9yICkge1xuXHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGhhbmRsZXJzLmRlbGVnYXRlQ291bnQrKywgMCwgaGFuZGxlT2JqICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRoYW5kbGVycy5wdXNoKCBoYW5kbGVPYmogKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gS2VlcCB0cmFjayBvZiB3aGljaCBldmVudHMgaGF2ZSBldmVyIGJlZW4gdXNlZCwgZm9yIGV2ZW50IG9wdGltaXphdGlvblxuXHRcdFx0alF1ZXJ5LmV2ZW50Lmdsb2JhbFsgdHlwZSBdID0gdHJ1ZTtcblx0XHR9XG5cblx0fSxcblxuXHQvLyBEZXRhY2ggYW4gZXZlbnQgb3Igc2V0IG9mIGV2ZW50cyBmcm9tIGFuIGVsZW1lbnRcblx0cmVtb3ZlOiBmdW5jdGlvbiggZWxlbSwgdHlwZXMsIGhhbmRsZXIsIHNlbGVjdG9yLCBtYXBwZWRUeXBlcyApIHtcblxuXHRcdHZhciBqLCBvcmlnQ291bnQsIHRtcCxcblx0XHRcdGV2ZW50cywgdCwgaGFuZGxlT2JqLFxuXHRcdFx0c3BlY2lhbCwgaGFuZGxlcnMsIHR5cGUsIG5hbWVzcGFjZXMsIG9yaWdUeXBlLFxuXHRcdFx0ZWxlbURhdGEgPSBkYXRhUHJpdi5oYXNEYXRhKCBlbGVtICkgJiYgZGF0YVByaXYuZ2V0KCBlbGVtICk7XG5cblx0XHRpZiAoICFlbGVtRGF0YSB8fCAhKCBldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBPbmNlIGZvciBlYWNoIHR5cGUubmFtZXNwYWNlIGluIHR5cGVzOyB0eXBlIG1heSBiZSBvbWl0dGVkXG5cdFx0dHlwZXMgPSAoIHR5cGVzIHx8IFwiXCIgKS5tYXRjaCggcm5vdHdoaXRlICkgfHwgWyBcIlwiIF07XG5cdFx0dCA9IHR5cGVzLmxlbmd0aDtcblx0XHR3aGlsZSAoIHQtLSApIHtcblx0XHRcdHRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWMoIHR5cGVzWyB0IF0gKSB8fCBbXTtcblx0XHRcdHR5cGUgPSBvcmlnVHlwZSA9IHRtcFsgMSBdO1xuXHRcdFx0bmFtZXNwYWNlcyA9ICggdG1wWyAyIF0gfHwgXCJcIiApLnNwbGl0KCBcIi5cIiApLnNvcnQoKTtcblxuXHRcdFx0Ly8gVW5iaW5kIGFsbCBldmVudHMgKG9uIHRoaXMgbmFtZXNwYWNlLCBpZiBwcm92aWRlZCkgZm9yIHRoZSBlbGVtZW50XG5cdFx0XHRpZiAoICF0eXBlICkge1xuXHRcdFx0XHRmb3IgKCB0eXBlIGluIGV2ZW50cyApIHtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCBlbGVtLCB0eXBlICsgdHlwZXNbIHQgXSwgaGFuZGxlciwgc2VsZWN0b3IsIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cdFx0XHR0eXBlID0gKCBzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSApIHx8IHR5cGU7XG5cdFx0XHRoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdIHx8IFtdO1xuXHRcdFx0dG1wID0gdG1wWyAyIF0gJiZcblx0XHRcdFx0bmV3IFJlZ0V4cCggXCIoXnxcXFxcLilcIiArIG5hbWVzcGFjZXMuam9pbiggXCJcXFxcLig/Oi4qXFxcXC58KVwiICkgKyBcIihcXFxcLnwkKVwiICk7XG5cblx0XHRcdC8vIFJlbW92ZSBtYXRjaGluZyBldmVudHNcblx0XHRcdG9yaWdDb3VudCA9IGogPSBoYW5kbGVycy5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdFx0aGFuZGxlT2JqID0gaGFuZGxlcnNbIGogXTtcblxuXHRcdFx0XHRpZiAoICggbWFwcGVkVHlwZXMgfHwgb3JpZ1R5cGUgPT09IGhhbmRsZU9iai5vcmlnVHlwZSApICYmXG5cdFx0XHRcdFx0KCAhaGFuZGxlciB8fCBoYW5kbGVyLmd1aWQgPT09IGhhbmRsZU9iai5ndWlkICkgJiZcblx0XHRcdFx0XHQoICF0bXAgfHwgdG1wLnRlc3QoIGhhbmRsZU9iai5uYW1lc3BhY2UgKSApICYmXG5cdFx0XHRcdFx0KCAhc2VsZWN0b3IgfHwgc2VsZWN0b3IgPT09IGhhbmRsZU9iai5zZWxlY3RvciB8fFxuXHRcdFx0XHRcdFx0c2VsZWN0b3IgPT09IFwiKipcIiAmJiBoYW5kbGVPYmouc2VsZWN0b3IgKSApIHtcblx0XHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGosIDEgKTtcblxuXHRcdFx0XHRcdGlmICggaGFuZGxlT2JqLnNlbGVjdG9yICkge1xuXHRcdFx0XHRcdFx0aGFuZGxlcnMuZGVsZWdhdGVDb3VudC0tO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIHNwZWNpYWwucmVtb3ZlICkge1xuXHRcdFx0XHRcdFx0c3BlY2lhbC5yZW1vdmUuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlbW92ZSBnZW5lcmljIGV2ZW50IGhhbmRsZXIgaWYgd2UgcmVtb3ZlZCBzb21ldGhpbmcgYW5kIG5vIG1vcmUgaGFuZGxlcnMgZXhpc3Rcblx0XHRcdC8vIChhdm9pZHMgcG90ZW50aWFsIGZvciBlbmRsZXNzIHJlY3Vyc2lvbiBkdXJpbmcgcmVtb3ZhbCBvZiBzcGVjaWFsIGV2ZW50IGhhbmRsZXJzKVxuXHRcdFx0aWYgKCBvcmlnQ291bnQgJiYgIWhhbmRsZXJzLmxlbmd0aCApIHtcblx0XHRcdFx0aWYgKCAhc3BlY2lhbC50ZWFyZG93biB8fFxuXHRcdFx0XHRcdHNwZWNpYWwudGVhcmRvd24uY2FsbCggZWxlbSwgbmFtZXNwYWNlcywgZWxlbURhdGEuaGFuZGxlICkgPT09IGZhbHNlICkge1xuXG5cdFx0XHRcdFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBlbGVtRGF0YS5oYW5kbGUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRlbGV0ZSBldmVudHNbIHR5cGUgXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBSZW1vdmUgZGF0YSBhbmQgdGhlIGV4cGFuZG8gaWYgaXQncyBubyBsb25nZXIgdXNlZFxuXHRcdGlmICggalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGV2ZW50cyApICkge1xuXHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBcImhhbmRsZSBldmVudHNcIiApO1xuXHRcdH1cblx0fSxcblxuXHRkaXNwYXRjaDogZnVuY3Rpb24oIG5hdGl2ZUV2ZW50ICkge1xuXG5cdFx0Ly8gTWFrZSBhIHdyaXRhYmxlIGpRdWVyeS5FdmVudCBmcm9tIHRoZSBuYXRpdmUgZXZlbnQgb2JqZWN0XG5cdFx0dmFyIGV2ZW50ID0galF1ZXJ5LmV2ZW50LmZpeCggbmF0aXZlRXZlbnQgKTtcblxuXHRcdHZhciBpLCBqLCByZXQsIG1hdGNoZWQsIGhhbmRsZU9iaiwgaGFuZGxlclF1ZXVlLFxuXHRcdFx0YXJncyA9IG5ldyBBcnJheSggYXJndW1lbnRzLmxlbmd0aCApLFxuXHRcdFx0aGFuZGxlcnMgPSAoIGRhdGFQcml2LmdldCggdGhpcywgXCJldmVudHNcIiApIHx8IHt9IClbIGV2ZW50LnR5cGUgXSB8fCBbXSxcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgZXZlbnQudHlwZSBdIHx8IHt9O1xuXG5cdFx0Ly8gVXNlIHRoZSBmaXgtZWQgalF1ZXJ5LkV2ZW50IHJhdGhlciB0aGFuIHRoZSAocmVhZC1vbmx5KSBuYXRpdmUgZXZlbnRcblx0XHRhcmdzWyAwIF0gPSBldmVudDtcblxuXHRcdGZvciAoIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrICkge1xuXHRcdFx0YXJnc1sgaSBdID0gYXJndW1lbnRzWyBpIF07XG5cdFx0fVxuXG5cdFx0ZXZlbnQuZGVsZWdhdGVUYXJnZXQgPSB0aGlzO1xuXG5cdFx0Ly8gQ2FsbCB0aGUgcHJlRGlzcGF0Y2ggaG9vayBmb3IgdGhlIG1hcHBlZCB0eXBlLCBhbmQgbGV0IGl0IGJhaWwgaWYgZGVzaXJlZFxuXHRcdGlmICggc3BlY2lhbC5wcmVEaXNwYXRjaCAmJiBzcGVjaWFsLnByZURpc3BhdGNoLmNhbGwoIHRoaXMsIGV2ZW50ICkgPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIERldGVybWluZSBoYW5kbGVyc1xuXHRcdGhhbmRsZXJRdWV1ZSA9IGpRdWVyeS5ldmVudC5oYW5kbGVycy5jYWxsKCB0aGlzLCBldmVudCwgaGFuZGxlcnMgKTtcblxuXHRcdC8vIFJ1biBkZWxlZ2F0ZXMgZmlyc3Q7IHRoZXkgbWF5IHdhbnQgdG8gc3RvcCBwcm9wYWdhdGlvbiBiZW5lYXRoIHVzXG5cdFx0aSA9IDA7XG5cdFx0d2hpbGUgKCAoIG1hdGNoZWQgPSBoYW5kbGVyUXVldWVbIGkrKyBdICkgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFx0XHRldmVudC5jdXJyZW50VGFyZ2V0ID0gbWF0Y2hlZC5lbGVtO1xuXG5cdFx0XHRqID0gMDtcblx0XHRcdHdoaWxlICggKCBoYW5kbGVPYmogPSBtYXRjaGVkLmhhbmRsZXJzWyBqKysgXSApICYmXG5cdFx0XHRcdCFldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXG5cdFx0XHRcdC8vIFRyaWdnZXJlZCBldmVudCBtdXN0IGVpdGhlciAxKSBoYXZlIG5vIG5hbWVzcGFjZSwgb3IgMikgaGF2ZSBuYW1lc3BhY2Uocylcblx0XHRcdFx0Ly8gYSBzdWJzZXQgb3IgZXF1YWwgdG8gdGhvc2UgaW4gdGhlIGJvdW5kIGV2ZW50IChib3RoIGNhbiBoYXZlIG5vIG5hbWVzcGFjZSkuXG5cdFx0XHRcdGlmICggIWV2ZW50LnJuYW1lc3BhY2UgfHwgZXZlbnQucm5hbWVzcGFjZS50ZXN0KCBoYW5kbGVPYmoubmFtZXNwYWNlICkgKSB7XG5cblx0XHRcdFx0XHRldmVudC5oYW5kbGVPYmogPSBoYW5kbGVPYmo7XG5cdFx0XHRcdFx0ZXZlbnQuZGF0YSA9IGhhbmRsZU9iai5kYXRhO1xuXG5cdFx0XHRcdFx0cmV0ID0gKCAoIGpRdWVyeS5ldmVudC5zcGVjaWFsWyBoYW5kbGVPYmoub3JpZ1R5cGUgXSB8fCB7fSApLmhhbmRsZSB8fFxuXHRcdFx0XHRcdFx0aGFuZGxlT2JqLmhhbmRsZXIgKS5hcHBseSggbWF0Y2hlZC5lbGVtLCBhcmdzICk7XG5cblx0XHRcdFx0XHRpZiAoIHJldCAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoIGV2ZW50LnJlc3VsdCA9IHJldCApID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsbCB0aGUgcG9zdERpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZVxuXHRcdGlmICggc3BlY2lhbC5wb3N0RGlzcGF0Y2ggKSB7XG5cdFx0XHRzcGVjaWFsLnBvc3REaXNwYXRjaC5jYWxsKCB0aGlzLCBldmVudCApO1xuXHRcdH1cblxuXHRcdHJldHVybiBldmVudC5yZXN1bHQ7XG5cdH0sXG5cblx0aGFuZGxlcnM6IGZ1bmN0aW9uKCBldmVudCwgaGFuZGxlcnMgKSB7XG5cdFx0dmFyIGksIG1hdGNoZXMsIHNlbCwgaGFuZGxlT2JqLFxuXHRcdFx0aGFuZGxlclF1ZXVlID0gW10sXG5cdFx0XHRkZWxlZ2F0ZUNvdW50ID0gaGFuZGxlcnMuZGVsZWdhdGVDb3VudCxcblx0XHRcdGN1ciA9IGV2ZW50LnRhcmdldDtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OVxuXHRcdC8vIEZpbmQgZGVsZWdhdGUgaGFuZGxlcnNcblx0XHQvLyBCbGFjay1ob2xlIFNWRyA8dXNlPiBpbnN0YW5jZSB0cmVlcyAoIzEzMTgwKVxuXHRcdC8vXG5cdFx0Ly8gU3VwcG9ydDogRmlyZWZveCA8PTQyXG5cdFx0Ly8gQXZvaWQgbm9uLWxlZnQtY2xpY2sgaW4gRkYgYnV0IGRvbid0IGJsb2NrIElFIHJhZGlvIGV2ZW50cyAoIzM4NjEsIGdoLTIzNDMpXG5cdFx0aWYgKCBkZWxlZ2F0ZUNvdW50ICYmIGN1ci5ub2RlVHlwZSAmJlxuXHRcdFx0KCBldmVudC50eXBlICE9PSBcImNsaWNrXCIgfHwgaXNOYU4oIGV2ZW50LmJ1dHRvbiApIHx8IGV2ZW50LmJ1dHRvbiA8IDEgKSApIHtcblxuXHRcdFx0Zm9yICggOyBjdXIgIT09IHRoaXM7IGN1ciA9IGN1ci5wYXJlbnROb2RlIHx8IHRoaXMgKSB7XG5cblx0XHRcdFx0Ly8gRG9uJ3QgY2hlY2sgbm9uLWVsZW1lbnRzICgjMTMyMDgpXG5cdFx0XHRcdC8vIERvbid0IHByb2Nlc3MgY2xpY2tzIG9uIGRpc2FibGVkIGVsZW1lbnRzICgjNjkxMSwgIzgxNjUsICMxMTM4MiwgIzExNzY0KVxuXHRcdFx0XHRpZiAoIGN1ci5ub2RlVHlwZSA9PT0gMSAmJiAoIGN1ci5kaXNhYmxlZCAhPT0gdHJ1ZSB8fCBldmVudC50eXBlICE9PSBcImNsaWNrXCIgKSApIHtcblx0XHRcdFx0XHRtYXRjaGVzID0gW107XG5cdFx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBkZWxlZ2F0ZUNvdW50OyBpKysgKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVPYmogPSBoYW5kbGVyc1sgaSBdO1xuXG5cdFx0XHRcdFx0XHQvLyBEb24ndCBjb25mbGljdCB3aXRoIE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAoIzEzMjAzKVxuXHRcdFx0XHRcdFx0c2VsID0gaGFuZGxlT2JqLnNlbGVjdG9yICsgXCIgXCI7XG5cblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlc1sgc2VsIF0gPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdFx0bWF0Y2hlc1sgc2VsIF0gPSBoYW5kbGVPYmoubmVlZHNDb250ZXh0ID9cblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIHNlbCwgdGhpcyApLmluZGV4KCBjdXIgKSA+IC0xIDpcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuZmluZCggc2VsLCB0aGlzLCBudWxsLCBbIGN1ciBdICkubGVuZ3RoO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVzWyBzZWwgXSApIHtcblx0XHRcdFx0XHRcdFx0bWF0Y2hlcy5wdXNoKCBoYW5kbGVPYmogKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCBtYXRjaGVzLmxlbmd0aCApIHtcblx0XHRcdFx0XHRcdGhhbmRsZXJRdWV1ZS5wdXNoKCB7IGVsZW06IGN1ciwgaGFuZGxlcnM6IG1hdGNoZXMgfSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEFkZCB0aGUgcmVtYWluaW5nIChkaXJlY3RseS1ib3VuZCkgaGFuZGxlcnNcblx0XHRpZiAoIGRlbGVnYXRlQ291bnQgPCBoYW5kbGVycy5sZW5ndGggKSB7XG5cdFx0XHRoYW5kbGVyUXVldWUucHVzaCggeyBlbGVtOiB0aGlzLCBoYW5kbGVyczogaGFuZGxlcnMuc2xpY2UoIGRlbGVnYXRlQ291bnQgKSB9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGhhbmRsZXJRdWV1ZTtcblx0fSxcblxuXHRhZGRQcm9wOiBmdW5jdGlvbiggbmFtZSwgaG9vayApIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoIGpRdWVyeS5FdmVudC5wcm90b3R5cGUsIG5hbWUsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cblx0XHRcdGdldDogalF1ZXJ5LmlzRnVuY3Rpb24oIGhvb2sgKSA/XG5cdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gaG9vayggdGhpcy5vcmlnaW5hbEV2ZW50ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IDpcblx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGlzLm9yaWdpbmFsRXZlbnQgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0aGlzLm9yaWdpbmFsRXZlbnRbIG5hbWUgXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cblx0XHRcdHNldDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoIHRoaXMsIG5hbWUsIHtcblx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZSxcblx0XHRcdFx0XHR2YWx1ZTogdmFsdWVcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRmaXg6IGZ1bmN0aW9uKCBvcmlnaW5hbEV2ZW50ICkge1xuXHRcdHJldHVybiBvcmlnaW5hbEV2ZW50WyBqUXVlcnkuZXhwYW5kbyBdID9cblx0XHRcdG9yaWdpbmFsRXZlbnQgOlxuXHRcdFx0bmV3IGpRdWVyeS5FdmVudCggb3JpZ2luYWxFdmVudCApO1xuXHR9LFxuXG5cdHNwZWNpYWw6IHtcblx0XHRsb2FkOiB7XG5cblx0XHRcdC8vIFByZXZlbnQgdHJpZ2dlcmVkIGltYWdlLmxvYWQgZXZlbnRzIGZyb20gYnViYmxpbmcgdG8gd2luZG93LmxvYWRcblx0XHRcdG5vQnViYmxlOiB0cnVlXG5cdFx0fSxcblx0XHRmb2N1czoge1xuXG5cdFx0XHQvLyBGaXJlIG5hdGl2ZSBldmVudCBpZiBwb3NzaWJsZSBzbyBibHVyL2ZvY3VzIHNlcXVlbmNlIGlzIGNvcnJlY3Rcblx0XHRcdHRyaWdnZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIHRoaXMgIT09IHNhZmVBY3RpdmVFbGVtZW50KCkgJiYgdGhpcy5mb2N1cyApIHtcblx0XHRcdFx0XHR0aGlzLmZvY3VzKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0ZGVsZWdhdGVUeXBlOiBcImZvY3VzaW5cIlxuXHRcdH0sXG5cdFx0Ymx1cjoge1xuXHRcdFx0dHJpZ2dlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggdGhpcyA9PT0gc2FmZUFjdGl2ZUVsZW1lbnQoKSAmJiB0aGlzLmJsdXIgKSB7XG5cdFx0XHRcdFx0dGhpcy5ibHVyKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0ZGVsZWdhdGVUeXBlOiBcImZvY3Vzb3V0XCJcblx0XHR9LFxuXHRcdGNsaWNrOiB7XG5cblx0XHRcdC8vIEZvciBjaGVja2JveCwgZmlyZSBuYXRpdmUgZXZlbnQgc28gY2hlY2tlZCBzdGF0ZSB3aWxsIGJlIHJpZ2h0XG5cdFx0XHR0cmlnZ2VyOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCB0aGlzLnR5cGUgPT09IFwiY2hlY2tib3hcIiAmJiB0aGlzLmNsaWNrICYmIGpRdWVyeS5ub2RlTmFtZSggdGhpcywgXCJpbnB1dFwiICkgKSB7XG5cdFx0XHRcdFx0dGhpcy5jbGljaygpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblxuXHRcdFx0Ly8gRm9yIGNyb3NzLWJyb3dzZXIgY29uc2lzdGVuY3ksIGRvbid0IGZpcmUgbmF0aXZlIC5jbGljaygpIG9uIGxpbmtzXG5cdFx0XHRfZGVmYXVsdDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRyZXR1cm4galF1ZXJ5Lm5vZGVOYW1lKCBldmVudC50YXJnZXQsIFwiYVwiICk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGJlZm9yZXVubG9hZDoge1xuXHRcdFx0cG9zdERpc3BhdGNoOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveCAyMCtcblx0XHRcdFx0Ly8gRmlyZWZveCBkb2Vzbid0IGFsZXJ0IGlmIHRoZSByZXR1cm5WYWx1ZSBmaWVsZCBpcyBub3Qgc2V0LlxuXHRcdFx0XHRpZiAoIGV2ZW50LnJlc3VsdCAhPT0gdW5kZWZpbmVkICYmIGV2ZW50Lm9yaWdpbmFsRXZlbnQgKSB7XG5cdFx0XHRcdFx0ZXZlbnQub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZSA9IGV2ZW50LnJlc3VsdDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufTtcblxualF1ZXJ5LnJlbW92ZUV2ZW50ID0gZnVuY3Rpb24oIGVsZW0sIHR5cGUsIGhhbmRsZSApIHtcblxuXHQvLyBUaGlzIFwiaWZcIiBpcyBuZWVkZWQgZm9yIHBsYWluIG9iamVjdHNcblx0aWYgKCBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIgKSB7XG5cdFx0ZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCB0eXBlLCBoYW5kbGUgKTtcblx0fVxufTtcblxualF1ZXJ5LkV2ZW50ID0gZnVuY3Rpb24oIHNyYywgcHJvcHMgKSB7XG5cblx0Ly8gQWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IHRoZSAnbmV3JyBrZXl3b3JkXG5cdGlmICggISggdGhpcyBpbnN0YW5jZW9mIGpRdWVyeS5FdmVudCApICkge1xuXHRcdHJldHVybiBuZXcgalF1ZXJ5LkV2ZW50KCBzcmMsIHByb3BzICk7XG5cdH1cblxuXHQvLyBFdmVudCBvYmplY3Rcblx0aWYgKCBzcmMgJiYgc3JjLnR5cGUgKSB7XG5cdFx0dGhpcy5vcmlnaW5hbEV2ZW50ID0gc3JjO1xuXHRcdHRoaXMudHlwZSA9IHNyYy50eXBlO1xuXG5cdFx0Ly8gRXZlbnRzIGJ1YmJsaW5nIHVwIHRoZSBkb2N1bWVudCBtYXkgaGF2ZSBiZWVuIG1hcmtlZCBhcyBwcmV2ZW50ZWRcblx0XHQvLyBieSBhIGhhbmRsZXIgbG93ZXIgZG93biB0aGUgdHJlZTsgcmVmbGVjdCB0aGUgY29ycmVjdCB2YWx1ZS5cblx0XHR0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IHNyYy5kZWZhdWx0UHJldmVudGVkIHx8XG5cdFx0XHRcdHNyYy5kZWZhdWx0UHJldmVudGVkID09PSB1bmRlZmluZWQgJiZcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9Mi4zIG9ubHlcblx0XHRcdFx0c3JjLnJldHVyblZhbHVlID09PSBmYWxzZSA/XG5cdFx0XHRyZXR1cm5UcnVlIDpcblx0XHRcdHJldHVybkZhbHNlO1xuXG5cdFx0Ly8gQ3JlYXRlIHRhcmdldCBwcm9wZXJ0aWVzXG5cdFx0Ly8gU3VwcG9ydDogU2FmYXJpIDw9NiAtIDcgb25seVxuXHRcdC8vIFRhcmdldCBzaG91bGQgbm90IGJlIGEgdGV4dCBub2RlICgjNTA0LCAjMTMxNDMpXG5cdFx0dGhpcy50YXJnZXQgPSAoIHNyYy50YXJnZXQgJiYgc3JjLnRhcmdldC5ub2RlVHlwZSA9PT0gMyApID9cblx0XHRcdHNyYy50YXJnZXQucGFyZW50Tm9kZSA6XG5cdFx0XHRzcmMudGFyZ2V0O1xuXG5cdFx0dGhpcy5jdXJyZW50VGFyZ2V0ID0gc3JjLmN1cnJlbnRUYXJnZXQ7XG5cdFx0dGhpcy5yZWxhdGVkVGFyZ2V0ID0gc3JjLnJlbGF0ZWRUYXJnZXQ7XG5cblx0Ly8gRXZlbnQgdHlwZVxuXHR9IGVsc2Uge1xuXHRcdHRoaXMudHlwZSA9IHNyYztcblx0fVxuXG5cdC8vIFB1dCBleHBsaWNpdGx5IHByb3ZpZGVkIHByb3BlcnRpZXMgb250byB0aGUgZXZlbnQgb2JqZWN0XG5cdGlmICggcHJvcHMgKSB7XG5cdFx0alF1ZXJ5LmV4dGVuZCggdGhpcywgcHJvcHMgKTtcblx0fVxuXG5cdC8vIENyZWF0ZSBhIHRpbWVzdGFtcCBpZiBpbmNvbWluZyBldmVudCBkb2Vzbid0IGhhdmUgb25lXG5cdHRoaXMudGltZVN0YW1wID0gc3JjICYmIHNyYy50aW1lU3RhbXAgfHwgalF1ZXJ5Lm5vdygpO1xuXG5cdC8vIE1hcmsgaXQgYXMgZml4ZWRcblx0dGhpc1sgalF1ZXJ5LmV4cGFuZG8gXSA9IHRydWU7XG59O1xuXG4vLyBqUXVlcnkuRXZlbnQgaXMgYmFzZWQgb24gRE9NMyBFdmVudHMgYXMgc3BlY2lmaWVkIGJ5IHRoZSBFQ01BU2NyaXB0IExhbmd1YWdlIEJpbmRpbmdcbi8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDAzL1dELURPTS1MZXZlbC0zLUV2ZW50cy0yMDAzMDMzMS9lY21hLXNjcmlwdC1iaW5kaW5nLmh0bWxcbmpRdWVyeS5FdmVudC5wcm90b3R5cGUgPSB7XG5cdGNvbnN0cnVjdG9yOiBqUXVlcnkuRXZlbnQsXG5cdGlzRGVmYXVsdFByZXZlbnRlZDogcmV0dXJuRmFsc2UsXG5cdGlzUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSxcblx0aXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6IHJldHVybkZhbHNlLFxuXHRpc1NpbXVsYXRlZDogZmFsc2UsXG5cblx0cHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuXG5cdFx0dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSByZXR1cm5UcnVlO1xuXG5cdFx0aWYgKCBlICYmICF0aGlzLmlzU2ltdWxhdGVkICkge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblx0fSxcblx0c3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblxuXHRcdHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlO1xuXG5cdFx0aWYgKCBlICYmICF0aGlzLmlzU2ltdWxhdGVkICkge1xuXHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHR9XG5cdH0sXG5cdHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG5cblx0XHR0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gcmV0dXJuVHJ1ZTtcblxuXHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5zdG9wUHJvcGFnYXRpb24oKTtcblx0fVxufTtcblxuLy8gSW5jbHVkZXMgYWxsIGNvbW1vbiBldmVudCBwcm9wcyBpbmNsdWRpbmcgS2V5RXZlbnQgYW5kIE1vdXNlRXZlbnQgc3BlY2lmaWMgcHJvcHNcbmpRdWVyeS5lYWNoKCB7XG5cdGFsdEtleTogdHJ1ZSxcblx0YnViYmxlczogdHJ1ZSxcblx0Y2FuY2VsYWJsZTogdHJ1ZSxcblx0Y2hhbmdlZFRvdWNoZXM6IHRydWUsXG5cdGN0cmxLZXk6IHRydWUsXG5cdGRldGFpbDogdHJ1ZSxcblx0ZXZlbnRQaGFzZTogdHJ1ZSxcblx0bWV0YUtleTogdHJ1ZSxcblx0cGFnZVg6IHRydWUsXG5cdHBhZ2VZOiB0cnVlLFxuXHRzaGlmdEtleTogdHJ1ZSxcblx0dmlldzogdHJ1ZSxcblx0XCJjaGFyXCI6IHRydWUsXG5cdGNoYXJDb2RlOiB0cnVlLFxuXHRrZXk6IHRydWUsXG5cdGtleUNvZGU6IHRydWUsXG5cdGJ1dHRvbjogdHJ1ZSxcblx0YnV0dG9uczogdHJ1ZSxcblx0Y2xpZW50WDogdHJ1ZSxcblx0Y2xpZW50WTogdHJ1ZSxcblx0b2Zmc2V0WDogdHJ1ZSxcblx0b2Zmc2V0WTogdHJ1ZSxcblx0cG9pbnRlcklkOiB0cnVlLFxuXHRwb2ludGVyVHlwZTogdHJ1ZSxcblx0c2NyZWVuWDogdHJ1ZSxcblx0c2NyZWVuWTogdHJ1ZSxcblx0dGFyZ2V0VG91Y2hlczogdHJ1ZSxcblx0dG9FbGVtZW50OiB0cnVlLFxuXHR0b3VjaGVzOiB0cnVlLFxuXG5cdHdoaWNoOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIGJ1dHRvbiA9IGV2ZW50LmJ1dHRvbjtcblxuXHRcdC8vIEFkZCB3aGljaCBmb3Iga2V5IGV2ZW50c1xuXHRcdGlmICggZXZlbnQud2hpY2ggPT0gbnVsbCAmJiBya2V5RXZlbnQudGVzdCggZXZlbnQudHlwZSApICkge1xuXHRcdFx0cmV0dXJuIGV2ZW50LmNoYXJDb2RlICE9IG51bGwgPyBldmVudC5jaGFyQ29kZSA6IGV2ZW50LmtleUNvZGU7XG5cdFx0fVxuXG5cdFx0Ly8gQWRkIHdoaWNoIGZvciBjbGljazogMSA9PT0gbGVmdDsgMiA9PT0gbWlkZGxlOyAzID09PSByaWdodFxuXHRcdGlmICggIWV2ZW50LndoaWNoICYmIGJ1dHRvbiAhPT0gdW5kZWZpbmVkICYmIHJtb3VzZUV2ZW50LnRlc3QoIGV2ZW50LnR5cGUgKSApIHtcblx0XHRcdHJldHVybiAoIGJ1dHRvbiAmIDEgPyAxIDogKCBidXR0b24gJiAyID8gMyA6ICggYnV0dG9uICYgNCA/IDIgOiAwICkgKSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBldmVudC53aGljaDtcblx0fVxufSwgalF1ZXJ5LmV2ZW50LmFkZFByb3AgKTtcblxuLy8gQ3JlYXRlIG1vdXNlZW50ZXIvbGVhdmUgZXZlbnRzIHVzaW5nIG1vdXNlb3Zlci9vdXQgYW5kIGV2ZW50LXRpbWUgY2hlY2tzXG4vLyBzbyB0aGF0IGV2ZW50IGRlbGVnYXRpb24gd29ya3MgaW4galF1ZXJ5LlxuLy8gRG8gdGhlIHNhbWUgZm9yIHBvaW50ZXJlbnRlci9wb2ludGVybGVhdmUgYW5kIHBvaW50ZXJvdmVyL3BvaW50ZXJvdXRcbi8vXG4vLyBTdXBwb3J0OiBTYWZhcmkgNyBvbmx5XG4vLyBTYWZhcmkgc2VuZHMgbW91c2VlbnRlciB0b28gb2Z0ZW47IHNlZTpcbi8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ3MDI1OFxuLy8gZm9yIHRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgYnVnIChpdCBleGlzdGVkIGluIG9sZGVyIENocm9tZSB2ZXJzaW9ucyBhcyB3ZWxsKS5cbmpRdWVyeS5lYWNoKCB7XG5cdG1vdXNlZW50ZXI6IFwibW91c2VvdmVyXCIsXG5cdG1vdXNlbGVhdmU6IFwibW91c2VvdXRcIixcblx0cG9pbnRlcmVudGVyOiBcInBvaW50ZXJvdmVyXCIsXG5cdHBvaW50ZXJsZWF2ZTogXCJwb2ludGVyb3V0XCJcbn0sIGZ1bmN0aW9uKCBvcmlnLCBmaXggKSB7XG5cdGpRdWVyeS5ldmVudC5zcGVjaWFsWyBvcmlnIF0gPSB7XG5cdFx0ZGVsZWdhdGVUeXBlOiBmaXgsXG5cdFx0YmluZFR5cGU6IGZpeCxcblxuXHRcdGhhbmRsZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0dmFyIHJldCxcblx0XHRcdFx0dGFyZ2V0ID0gdGhpcyxcblx0XHRcdFx0cmVsYXRlZCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQsXG5cdFx0XHRcdGhhbmRsZU9iaiA9IGV2ZW50LmhhbmRsZU9iajtcblxuXHRcdFx0Ly8gRm9yIG1vdXNlZW50ZXIvbGVhdmUgY2FsbCB0aGUgaGFuZGxlciBpZiByZWxhdGVkIGlzIG91dHNpZGUgdGhlIHRhcmdldC5cblx0XHRcdC8vIE5COiBObyByZWxhdGVkVGFyZ2V0IGlmIHRoZSBtb3VzZSBsZWZ0L2VudGVyZWQgdGhlIGJyb3dzZXIgd2luZG93XG5cdFx0XHRpZiAoICFyZWxhdGVkIHx8ICggcmVsYXRlZCAhPT0gdGFyZ2V0ICYmICFqUXVlcnkuY29udGFpbnMoIHRhcmdldCwgcmVsYXRlZCApICkgKSB7XG5cdFx0XHRcdGV2ZW50LnR5cGUgPSBoYW5kbGVPYmoub3JpZ1R5cGU7XG5cdFx0XHRcdHJldCA9IGhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0ZXZlbnQudHlwZSA9IGZpeDtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fVxuXHR9O1xufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cblx0b246IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiBvbiggdGhpcywgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApO1xuXHR9LFxuXHRvbmU6IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiBvbiggdGhpcywgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiwgMSApO1xuXHR9LFxuXHRvZmY6IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGZuICkge1xuXHRcdHZhciBoYW5kbGVPYmosIHR5cGU7XG5cdFx0aWYgKCB0eXBlcyAmJiB0eXBlcy5wcmV2ZW50RGVmYXVsdCAmJiB0eXBlcy5oYW5kbGVPYmogKSB7XG5cblx0XHRcdC8vICggZXZlbnQgKSAgZGlzcGF0Y2hlZCBqUXVlcnkuRXZlbnRcblx0XHRcdGhhbmRsZU9iaiA9IHR5cGVzLmhhbmRsZU9iajtcblx0XHRcdGpRdWVyeSggdHlwZXMuZGVsZWdhdGVUYXJnZXQgKS5vZmYoXG5cdFx0XHRcdGhhbmRsZU9iai5uYW1lc3BhY2UgP1xuXHRcdFx0XHRcdGhhbmRsZU9iai5vcmlnVHlwZSArIFwiLlwiICsgaGFuZGxlT2JqLm5hbWVzcGFjZSA6XG5cdFx0XHRcdFx0aGFuZGxlT2JqLm9yaWdUeXBlLFxuXHRcdFx0XHRoYW5kbGVPYmouc2VsZWN0b3IsXG5cdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyXG5cdFx0XHQpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHRcdGlmICggdHlwZW9mIHR5cGVzID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzLW9iamVjdCBbLCBzZWxlY3Rvcl0gKVxuXHRcdFx0Zm9yICggdHlwZSBpbiB0eXBlcyApIHtcblx0XHRcdFx0dGhpcy5vZmYoIHR5cGUsIHNlbGVjdG9yLCB0eXBlc1sgdHlwZSBdICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdFx0aWYgKCBzZWxlY3RvciA9PT0gZmFsc2UgfHwgdHlwZW9mIHNlbGVjdG9yID09PSBcImZ1bmN0aW9uXCIgKSB7XG5cblx0XHRcdC8vICggdHlwZXMgWywgZm5dIClcblx0XHRcdGZuID0gc2VsZWN0b3I7XG5cdFx0XHRzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0aWYgKCBmbiA9PT0gZmFsc2UgKSB7XG5cdFx0XHRmbiA9IHJldHVybkZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIHRoaXMsIHR5cGVzLCBmbiwgc2VsZWN0b3IgKTtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxuXG52YXJcblxuXHQvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5cblx0Ly8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lc2xpbnQvZXNsaW50L2lzc3Vlcy8zMjI5XG5cdHJ4aHRtbFRhZyA9IC88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFthLXpdW15cXC9cXDA+XFx4MjBcXHRcXHJcXG5cXGZdKilbXj5dKilcXC8+L2dpLFxuXG5cdC8qIGVzbGludC1lbmFibGUgKi9cblxuXHQvLyBTdXBwb3J0OiBJRSA8PTEwIC0gMTEsIEVkZ2UgMTIgLSAxM1xuXHQvLyBJbiBJRS9FZGdlIHVzaW5nIHJlZ2V4IGdyb3VwcyBoZXJlIGNhdXNlcyBzZXZlcmUgc2xvd2Rvd25zLlxuXHQvLyBTZWUgaHR0cHM6Ly9jb25uZWN0Lm1pY3Jvc29mdC5jb20vSUUvZmVlZGJhY2svZGV0YWlscy8xNzM2NTEyL1xuXHRybm9Jbm5lcmh0bWwgPSAvPHNjcmlwdHw8c3R5bGV8PGxpbmsvaSxcblxuXHQvLyBjaGVja2VkPVwiY2hlY2tlZFwiIG9yIGNoZWNrZWRcblx0cmNoZWNrZWQgPSAvY2hlY2tlZFxccyooPzpbXj1dfD1cXHMqLmNoZWNrZWQuKS9pLFxuXHRyc2NyaXB0VHlwZU1hc2tlZCA9IC9edHJ1ZVxcLyguKikvLFxuXHRyY2xlYW5TY3JpcHQgPSAvXlxccyo8ISg/OlxcW0NEQVRBXFxbfC0tKXwoPzpcXF1cXF18LS0pPlxccyokL2c7XG5cbmZ1bmN0aW9uIG1hbmlwdWxhdGlvblRhcmdldCggZWxlbSwgY29udGVudCApIHtcblx0aWYgKCBqUXVlcnkubm9kZU5hbWUoIGVsZW0sIFwidGFibGVcIiApICYmXG5cdFx0alF1ZXJ5Lm5vZGVOYW1lKCBjb250ZW50Lm5vZGVUeXBlICE9PSAxMSA/IGNvbnRlbnQgOiBjb250ZW50LmZpcnN0Q2hpbGQsIFwidHJcIiApICkge1xuXG5cdFx0cmV0dXJuIGVsZW0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwidGJvZHlcIiApWyAwIF0gfHwgZWxlbTtcblx0fVxuXG5cdHJldHVybiBlbGVtO1xufVxuXG4vLyBSZXBsYWNlL3Jlc3RvcmUgdGhlIHR5cGUgYXR0cmlidXRlIG9mIHNjcmlwdCBlbGVtZW50cyBmb3Igc2FmZSBET00gbWFuaXB1bGF0aW9uXG5mdW5jdGlvbiBkaXNhYmxlU2NyaXB0KCBlbGVtICkge1xuXHRlbGVtLnR5cGUgPSAoIGVsZW0uZ2V0QXR0cmlidXRlKCBcInR5cGVcIiApICE9PSBudWxsICkgKyBcIi9cIiArIGVsZW0udHlwZTtcblx0cmV0dXJuIGVsZW07XG59XG5mdW5jdGlvbiByZXN0b3JlU2NyaXB0KCBlbGVtICkge1xuXHR2YXIgbWF0Y2ggPSByc2NyaXB0VHlwZU1hc2tlZC5leGVjKCBlbGVtLnR5cGUgKTtcblxuXHRpZiAoIG1hdGNoICkge1xuXHRcdGVsZW0udHlwZSA9IG1hdGNoWyAxIF07XG5cdH0gZWxzZSB7XG5cdFx0ZWxlbS5yZW1vdmVBdHRyaWJ1dGUoIFwidHlwZVwiICk7XG5cdH1cblxuXHRyZXR1cm4gZWxlbTtcbn1cblxuZnVuY3Rpb24gY2xvbmVDb3B5RXZlbnQoIHNyYywgZGVzdCApIHtcblx0dmFyIGksIGwsIHR5cGUsIHBkYXRhT2xkLCBwZGF0YUN1ciwgdWRhdGFPbGQsIHVkYXRhQ3VyLCBldmVudHM7XG5cblx0aWYgKCBkZXN0Lm5vZGVUeXBlICE9PSAxICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIDEuIENvcHkgcHJpdmF0ZSBkYXRhOiBldmVudHMsIGhhbmRsZXJzLCBldGMuXG5cdGlmICggZGF0YVByaXYuaGFzRGF0YSggc3JjICkgKSB7XG5cdFx0cGRhdGFPbGQgPSBkYXRhUHJpdi5hY2Nlc3MoIHNyYyApO1xuXHRcdHBkYXRhQ3VyID0gZGF0YVByaXYuc2V0KCBkZXN0LCBwZGF0YU9sZCApO1xuXHRcdGV2ZW50cyA9IHBkYXRhT2xkLmV2ZW50cztcblxuXHRcdGlmICggZXZlbnRzICkge1xuXHRcdFx0ZGVsZXRlIHBkYXRhQ3VyLmhhbmRsZTtcblx0XHRcdHBkYXRhQ3VyLmV2ZW50cyA9IHt9O1xuXG5cdFx0XHRmb3IgKCB0eXBlIGluIGV2ZW50cyApIHtcblx0XHRcdFx0Zm9yICggaSA9IDAsIGwgPSBldmVudHNbIHR5cGUgXS5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LmFkZCggZGVzdCwgdHlwZSwgZXZlbnRzWyB0eXBlIF1bIGkgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gMi4gQ29weSB1c2VyIGRhdGFcblx0aWYgKCBkYXRhVXNlci5oYXNEYXRhKCBzcmMgKSApIHtcblx0XHR1ZGF0YU9sZCA9IGRhdGFVc2VyLmFjY2Vzcyggc3JjICk7XG5cdFx0dWRhdGFDdXIgPSBqUXVlcnkuZXh0ZW5kKCB7fSwgdWRhdGFPbGQgKTtcblxuXHRcdGRhdGFVc2VyLnNldCggZGVzdCwgdWRhdGFDdXIgKTtcblx0fVxufVxuXG4vLyBGaXggSUUgYnVncywgc2VlIHN1cHBvcnQgdGVzdHNcbmZ1bmN0aW9uIGZpeElucHV0KCBzcmMsIGRlc3QgKSB7XG5cdHZhciBub2RlTmFtZSA9IGRlc3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblxuXHQvLyBGYWlscyB0byBwZXJzaXN0IHRoZSBjaGVja2VkIHN0YXRlIG9mIGEgY2xvbmVkIGNoZWNrYm94IG9yIHJhZGlvIGJ1dHRvbi5cblx0aWYgKCBub2RlTmFtZSA9PT0gXCJpbnB1dFwiICYmIHJjaGVja2FibGVUeXBlLnRlc3QoIHNyYy50eXBlICkgKSB7XG5cdFx0ZGVzdC5jaGVja2VkID0gc3JjLmNoZWNrZWQ7XG5cblx0Ly8gRmFpbHMgdG8gcmV0dXJuIHRoZSBzZWxlY3RlZCBvcHRpb24gdG8gdGhlIGRlZmF1bHQgc2VsZWN0ZWQgc3RhdGUgd2hlbiBjbG9uaW5nIG9wdGlvbnNcblx0fSBlbHNlIGlmICggbm9kZU5hbWUgPT09IFwiaW5wdXRcIiB8fCBub2RlTmFtZSA9PT0gXCJ0ZXh0YXJlYVwiICkge1xuXHRcdGRlc3QuZGVmYXVsdFZhbHVlID0gc3JjLmRlZmF1bHRWYWx1ZTtcblx0fVxufVxuXG5mdW5jdGlvbiBkb21NYW5pcCggY29sbGVjdGlvbiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQgKSB7XG5cblx0Ly8gRmxhdHRlbiBhbnkgbmVzdGVkIGFycmF5c1xuXHRhcmdzID0gY29uY2F0LmFwcGx5KCBbXSwgYXJncyApO1xuXG5cdHZhciBmcmFnbWVudCwgZmlyc3QsIHNjcmlwdHMsIGhhc1NjcmlwdHMsIG5vZGUsIGRvYyxcblx0XHRpID0gMCxcblx0XHRsID0gY29sbGVjdGlvbi5sZW5ndGgsXG5cdFx0aU5vQ2xvbmUgPSBsIC0gMSxcblx0XHR2YWx1ZSA9IGFyZ3NbIDAgXSxcblx0XHRpc0Z1bmN0aW9uID0galF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICk7XG5cblx0Ly8gV2UgY2FuJ3QgY2xvbmVOb2RlIGZyYWdtZW50cyB0aGF0IGNvbnRhaW4gY2hlY2tlZCwgaW4gV2ViS2l0XG5cdGlmICggaXNGdW5jdGlvbiB8fFxuXHRcdFx0KCBsID4gMSAmJiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiZcblx0XHRcdFx0IXN1cHBvcnQuY2hlY2tDbG9uZSAmJiByY2hlY2tlZC50ZXN0KCB2YWx1ZSApICkgKSB7XG5cdFx0cmV0dXJuIGNvbGxlY3Rpb24uZWFjaCggZnVuY3Rpb24oIGluZGV4ICkge1xuXHRcdFx0dmFyIHNlbGYgPSBjb2xsZWN0aW9uLmVxKCBpbmRleCApO1xuXHRcdFx0aWYgKCBpc0Z1bmN0aW9uICkge1xuXHRcdFx0XHRhcmdzWyAwIF0gPSB2YWx1ZS5jYWxsKCB0aGlzLCBpbmRleCwgc2VsZi5odG1sKCkgKTtcblx0XHRcdH1cblx0XHRcdGRvbU1hbmlwKCBzZWxmLCBhcmdzLCBjYWxsYmFjaywgaWdub3JlZCApO1xuXHRcdH0gKTtcblx0fVxuXG5cdGlmICggbCApIHtcblx0XHRmcmFnbWVudCA9IGJ1aWxkRnJhZ21lbnQoIGFyZ3MsIGNvbGxlY3Rpb25bIDAgXS5vd25lckRvY3VtZW50LCBmYWxzZSwgY29sbGVjdGlvbiwgaWdub3JlZCApO1xuXHRcdGZpcnN0ID0gZnJhZ21lbnQuZmlyc3RDaGlsZDtcblxuXHRcdGlmICggZnJhZ21lbnQuY2hpbGROb2Rlcy5sZW5ndGggPT09IDEgKSB7XG5cdFx0XHRmcmFnbWVudCA9IGZpcnN0O1xuXHRcdH1cblxuXHRcdC8vIFJlcXVpcmUgZWl0aGVyIG5ldyBjb250ZW50IG9yIGFuIGludGVyZXN0IGluIGlnbm9yZWQgZWxlbWVudHMgdG8gaW52b2tlIHRoZSBjYWxsYmFja1xuXHRcdGlmICggZmlyc3QgfHwgaWdub3JlZCApIHtcblx0XHRcdHNjcmlwdHMgPSBqUXVlcnkubWFwKCBnZXRBbGwoIGZyYWdtZW50LCBcInNjcmlwdFwiICksIGRpc2FibGVTY3JpcHQgKTtcblx0XHRcdGhhc1NjcmlwdHMgPSBzY3JpcHRzLmxlbmd0aDtcblxuXHRcdFx0Ly8gVXNlIHRoZSBvcmlnaW5hbCBmcmFnbWVudCBmb3IgdGhlIGxhc3QgaXRlbVxuXHRcdFx0Ly8gaW5zdGVhZCBvZiB0aGUgZmlyc3QgYmVjYXVzZSBpdCBjYW4gZW5kIHVwXG5cdFx0XHQvLyBiZWluZyBlbXB0aWVkIGluY29ycmVjdGx5IGluIGNlcnRhaW4gc2l0dWF0aW9ucyAoIzgwNzApLlxuXHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRub2RlID0gZnJhZ21lbnQ7XG5cblx0XHRcdFx0aWYgKCBpICE9PSBpTm9DbG9uZSApIHtcblx0XHRcdFx0XHRub2RlID0galF1ZXJ5LmNsb25lKCBub2RlLCB0cnVlLCB0cnVlICk7XG5cblx0XHRcdFx0XHQvLyBLZWVwIHJlZmVyZW5jZXMgdG8gY2xvbmVkIHNjcmlwdHMgZm9yIGxhdGVyIHJlc3RvcmF0aW9uXG5cdFx0XHRcdFx0aWYgKCBoYXNTY3JpcHRzICkge1xuXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcblx0XHRcdFx0XHRcdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRcdFx0XHRcdGpRdWVyeS5tZXJnZSggc2NyaXB0cywgZ2V0QWxsKCBub2RlLCBcInNjcmlwdFwiICkgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjYWxsYmFjay5jYWxsKCBjb2xsZWN0aW9uWyBpIF0sIG5vZGUsIGkgKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBoYXNTY3JpcHRzICkge1xuXHRcdFx0XHRkb2MgPSBzY3JpcHRzWyBzY3JpcHRzLmxlbmd0aCAtIDEgXS5vd25lckRvY3VtZW50O1xuXG5cdFx0XHRcdC8vIFJlZW5hYmxlIHNjcmlwdHNcblx0XHRcdFx0alF1ZXJ5Lm1hcCggc2NyaXB0cywgcmVzdG9yZVNjcmlwdCApO1xuXG5cdFx0XHRcdC8vIEV2YWx1YXRlIGV4ZWN1dGFibGUgc2NyaXB0cyBvbiBmaXJzdCBkb2N1bWVudCBpbnNlcnRpb25cblx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBoYXNTY3JpcHRzOyBpKysgKSB7XG5cdFx0XHRcdFx0bm9kZSA9IHNjcmlwdHNbIGkgXTtcblx0XHRcdFx0XHRpZiAoIHJzY3JpcHRUeXBlLnRlc3QoIG5vZGUudHlwZSB8fCBcIlwiICkgJiZcblx0XHRcdFx0XHRcdCFkYXRhUHJpdi5hY2Nlc3MoIG5vZGUsIFwiZ2xvYmFsRXZhbFwiICkgJiZcblx0XHRcdFx0XHRcdGpRdWVyeS5jb250YWlucyggZG9jLCBub2RlICkgKSB7XG5cblx0XHRcdFx0XHRcdGlmICggbm9kZS5zcmMgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gT3B0aW9uYWwgQUpBWCBkZXBlbmRlbmN5LCBidXQgd29uJ3QgcnVuIHNjcmlwdHMgaWYgbm90IHByZXNlbnRcblx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuX2V2YWxVcmwgKSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5Ll9ldmFsVXJsKCBub2RlLnNyYyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRET01FdmFsKCBub2RlLnRleHRDb250ZW50LnJlcGxhY2UoIHJjbGVhblNjcmlwdCwgXCJcIiApLCBkb2MgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gY29sbGVjdGlvbjtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlKCBlbGVtLCBzZWxlY3Rvciwga2VlcERhdGEgKSB7XG5cdHZhciBub2RlLFxuXHRcdG5vZGVzID0gc2VsZWN0b3IgPyBqUXVlcnkuZmlsdGVyKCBzZWxlY3RvciwgZWxlbSApIDogZWxlbSxcblx0XHRpID0gMDtcblxuXHRmb3IgKCA7ICggbm9kZSA9IG5vZGVzWyBpIF0gKSAhPSBudWxsOyBpKysgKSB7XG5cdFx0aWYgKCAha2VlcERhdGEgJiYgbm9kZS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggbm9kZSApICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBub2RlLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRpZiAoIGtlZXBEYXRhICYmIGpRdWVyeS5jb250YWlucyggbm9kZS5vd25lckRvY3VtZW50LCBub2RlICkgKSB7XG5cdFx0XHRcdHNldEdsb2JhbEV2YWwoIGdldEFsbCggbm9kZSwgXCJzY3JpcHRcIiApICk7XG5cdFx0XHR9XG5cdFx0XHRub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIG5vZGUgKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZWxlbTtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXHRodG1sUHJlZmlsdGVyOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHRyZXR1cm4gaHRtbC5yZXBsYWNlKCByeGh0bWxUYWcsIFwiPCQxPjwvJDI+XCIgKTtcblx0fSxcblxuXHRjbG9uZTogZnVuY3Rpb24oIGVsZW0sIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICkge1xuXHRcdHZhciBpLCBsLCBzcmNFbGVtZW50cywgZGVzdEVsZW1lbnRzLFxuXHRcdFx0Y2xvbmUgPSBlbGVtLmNsb25lTm9kZSggdHJ1ZSApLFxuXHRcdFx0aW5QYWdlID0galF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKTtcblxuXHRcdC8vIEZpeCBJRSBjbG9uaW5nIGlzc3Vlc1xuXHRcdGlmICggIXN1cHBvcnQubm9DbG9uZUNoZWNrZWQgJiYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGVsZW0ubm9kZVR5cGUgPT09IDExICkgJiZcblx0XHRcdFx0IWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuXG5cdFx0XHQvLyBXZSBlc2NoZXcgU2l6emxlIGhlcmUgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnM6IGh0dHBzOi8vanNwZXJmLmNvbS9nZXRhbGwtdnMtc2l6emxlLzJcblx0XHRcdGRlc3RFbGVtZW50cyA9IGdldEFsbCggY2xvbmUgKTtcblx0XHRcdHNyY0VsZW1lbnRzID0gZ2V0QWxsKCBlbGVtICk7XG5cblx0XHRcdGZvciAoIGkgPSAwLCBsID0gc3JjRWxlbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRmaXhJbnB1dCggc3JjRWxlbWVudHNbIGkgXSwgZGVzdEVsZW1lbnRzWyBpIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDb3B5IHRoZSBldmVudHMgZnJvbSB0aGUgb3JpZ2luYWwgdG8gdGhlIGNsb25lXG5cdFx0aWYgKCBkYXRhQW5kRXZlbnRzICkge1xuXHRcdFx0aWYgKCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHRcdFx0c3JjRWxlbWVudHMgPSBzcmNFbGVtZW50cyB8fCBnZXRBbGwoIGVsZW0gKTtcblx0XHRcdFx0ZGVzdEVsZW1lbnRzID0gZGVzdEVsZW1lbnRzIHx8IGdldEFsbCggY2xvbmUgKTtcblxuXHRcdFx0XHRmb3IgKCBpID0gMCwgbCA9IHNyY0VsZW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0XHRjbG9uZUNvcHlFdmVudCggc3JjRWxlbWVudHNbIGkgXSwgZGVzdEVsZW1lbnRzWyBpIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y2xvbmVDb3B5RXZlbnQoIGVsZW0sIGNsb25lICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUHJlc2VydmUgc2NyaXB0IGV2YWx1YXRpb24gaGlzdG9yeVxuXHRcdGRlc3RFbGVtZW50cyA9IGdldEFsbCggY2xvbmUsIFwic2NyaXB0XCIgKTtcblx0XHRpZiAoIGRlc3RFbGVtZW50cy5sZW5ndGggPiAwICkge1xuXHRcdFx0c2V0R2xvYmFsRXZhbCggZGVzdEVsZW1lbnRzLCAhaW5QYWdlICYmIGdldEFsbCggZWxlbSwgXCJzY3JpcHRcIiApICk7XG5cdFx0fVxuXG5cdFx0Ly8gUmV0dXJuIHRoZSBjbG9uZWQgc2V0XG5cdFx0cmV0dXJuIGNsb25lO1xuXHR9LFxuXG5cdGNsZWFuRGF0YTogZnVuY3Rpb24oIGVsZW1zICkge1xuXHRcdHZhciBkYXRhLCBlbGVtLCB0eXBlLFxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRmb3IgKCA7ICggZWxlbSA9IGVsZW1zWyBpIF0gKSAhPT0gdW5kZWZpbmVkOyBpKysgKSB7XG5cdFx0XHRpZiAoIGFjY2VwdERhdGEoIGVsZW0gKSApIHtcblx0XHRcdFx0aWYgKCAoIGRhdGEgPSBlbGVtWyBkYXRhUHJpdi5leHBhbmRvIF0gKSApIHtcblx0XHRcdFx0XHRpZiAoIGRhdGEuZXZlbnRzICkge1xuXHRcdFx0XHRcdFx0Zm9yICggdHlwZSBpbiBkYXRhLmV2ZW50cyApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCBzcGVjaWFsWyB0eXBlIF0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnJlbW92ZSggZWxlbSwgdHlwZSApO1xuXG5cdFx0XHRcdFx0XHRcdC8vIFRoaXMgaXMgYSBzaG9ydGN1dCB0byBhdm9pZCBqUXVlcnkuZXZlbnQucmVtb3ZlJ3Mgb3ZlcmhlYWRcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkucmVtb3ZlRXZlbnQoIGVsZW0sIHR5cGUsIGRhdGEuaGFuZGxlICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1K1xuXHRcdFx0XHRcdC8vIEFzc2lnbiB1bmRlZmluZWQgaW5zdGVhZCBvZiB1c2luZyBkZWxldGUsIHNlZSBEYXRhI3JlbW92ZVxuXHRcdFx0XHRcdGVsZW1bIGRhdGFQcml2LmV4cGFuZG8gXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIGVsZW1bIGRhdGFVc2VyLmV4cGFuZG8gXSApIHtcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZSA8PTM1IC0gNDUrXG5cdFx0XHRcdFx0Ly8gQXNzaWduIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIHVzaW5nIGRlbGV0ZSwgc2VlIERhdGEjcmVtb3ZlXG5cdFx0XHRcdFx0ZWxlbVsgZGF0YVVzZXIuZXhwYW5kbyBdID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0ZGV0YWNoOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHJlbW92ZSggdGhpcywgc2VsZWN0b3IsIHRydWUgKTtcblx0fSxcblxuXHRyZW1vdmU6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gcmVtb3ZlKCB0aGlzLCBzZWxlY3RvciApO1xuXHR9LFxuXG5cdHRleHQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdGpRdWVyeS50ZXh0KCB0aGlzICkgOlxuXHRcdFx0XHR0aGlzLmVtcHR5KCkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnRleHRDb250ZW50ID0gdmFsdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggKTtcblx0fSxcblxuXHRhcHBlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHR2YXIgdGFyZ2V0ID0gbWFuaXB1bGF0aW9uVGFyZ2V0KCB0aGlzLCBlbGVtICk7XG5cdFx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZCggZWxlbSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRwcmVwZW5kOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0dmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCggdGhpcywgZWxlbSApO1xuXHRcdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0YXJnZXQuZmlyc3RDaGlsZCApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRiZWZvcmU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGlmICggdGhpcy5wYXJlbnROb2RlICkge1xuXHRcdFx0XHR0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0aGlzICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGFmdGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZWxlbSwgdGhpcy5uZXh0U2libGluZyApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRlbXB0eTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGVsZW0sXG5cdFx0XHRpID0gMDtcblxuXHRcdGZvciAoIDsgKCBlbGVtID0gdGhpc1sgaSBdICkgIT0gbnVsbDsgaSsrICkge1xuXHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXG5cdFx0XHRcdC8vIFByZXZlbnQgbWVtb3J5IGxlYWtzXG5cdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggZWxlbSwgZmFsc2UgKSApO1xuXG5cdFx0XHRcdC8vIFJlbW92ZSBhbnkgcmVtYWluaW5nIG5vZGVzXG5cdFx0XHRcdGVsZW0udGV4dENvbnRlbnQgPSBcIlwiO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdGNsb25lOiBmdW5jdGlvbiggZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKSB7XG5cdFx0ZGF0YUFuZEV2ZW50cyA9IGRhdGFBbmRFdmVudHMgPT0gbnVsbCA/IGZhbHNlIDogZGF0YUFuZEV2ZW50cztcblx0XHRkZWVwRGF0YUFuZEV2ZW50cyA9IGRlZXBEYXRhQW5kRXZlbnRzID09IG51bGwgPyBkYXRhQW5kRXZlbnRzIDogZGVlcERhdGFBbmRFdmVudHM7XG5cblx0XHRyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5jbG9uZSggdGhpcywgZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKTtcblx0XHR9ICk7XG5cdH0sXG5cblx0aHRtbDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciBlbGVtID0gdGhpc1sgMCBdIHx8IHt9LFxuXHRcdFx0XHRpID0gMCxcblx0XHRcdFx0bCA9IHRoaXMubGVuZ3RoO1xuXG5cdFx0XHRpZiAoIHZhbHVlID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0cmV0dXJuIGVsZW0uaW5uZXJIVE1MO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTZWUgaWYgd2UgY2FuIHRha2UgYSBzaG9ydGN1dCBhbmQganVzdCB1c2UgaW5uZXJIVE1MXG5cdFx0XHRpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiAhcm5vSW5uZXJodG1sLnRlc3QoIHZhbHVlICkgJiZcblx0XHRcdFx0IXdyYXBNYXBbICggcnRhZ05hbWUuZXhlYyggdmFsdWUgKSB8fCBbIFwiXCIsIFwiXCIgXSApWyAxIF0udG9Mb3dlckNhc2UoKSBdICkge1xuXG5cdFx0XHRcdHZhbHVlID0galF1ZXJ5Lmh0bWxQcmVmaWx0ZXIoIHZhbHVlICk7XG5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0XHRlbGVtID0gdGhpc1sgaSBdIHx8IHt9O1xuXG5cdFx0XHRcdFx0XHQvLyBSZW1vdmUgZWxlbWVudCBub2RlcyBhbmQgcHJldmVudCBtZW1vcnkgbGVha3Ncblx0XHRcdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBlbGVtLCBmYWxzZSApICk7XG5cdFx0XHRcdFx0XHRcdGVsZW0uaW5uZXJIVE1MID0gdmFsdWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZWxlbSA9IDA7XG5cblx0XHRcdFx0Ly8gSWYgdXNpbmcgaW5uZXJIVE1MIHRocm93cyBhbiBleGNlcHRpb24sIHVzZSB0aGUgZmFsbGJhY2sgbWV0aG9kXG5cdFx0XHRcdH0gY2F0Y2ggKCBlICkge31cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0XHR0aGlzLmVtcHR5KCkuYXBwZW5kKCB2YWx1ZSApO1xuXHRcdFx0fVxuXHRcdH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoICk7XG5cdH0sXG5cblx0cmVwbGFjZVdpdGg6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpZ25vcmVkID0gW107XG5cblx0XHQvLyBNYWtlIHRoZSBjaGFuZ2VzLCByZXBsYWNpbmcgZWFjaCBub24taWdub3JlZCBjb250ZXh0IGVsZW1lbnQgd2l0aCB0aGUgbmV3IGNvbnRlbnRcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlO1xuXG5cdFx0XHRpZiAoIGpRdWVyeS5pbkFycmF5KCB0aGlzLCBpZ25vcmVkICkgPCAwICkge1xuXHRcdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIHRoaXMgKSApO1xuXHRcdFx0XHRpZiAoIHBhcmVudCApIHtcblx0XHRcdFx0XHRwYXJlbnQucmVwbGFjZUNoaWxkKCBlbGVtLCB0aGlzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdC8vIEZvcmNlIGNhbGxiYWNrIGludm9jYXRpb25cblx0XHR9LCBpZ25vcmVkICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmVhY2goIHtcblx0YXBwZW5kVG86IFwiYXBwZW5kXCIsXG5cdHByZXBlbmRUbzogXCJwcmVwZW5kXCIsXG5cdGluc2VydEJlZm9yZTogXCJiZWZvcmVcIixcblx0aW5zZXJ0QWZ0ZXI6IFwiYWZ0ZXJcIixcblx0cmVwbGFjZUFsbDogXCJyZXBsYWNlV2l0aFwiXG59LCBmdW5jdGlvbiggbmFtZSwgb3JpZ2luYWwgKSB7XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHZhciBlbGVtcyxcblx0XHRcdHJldCA9IFtdLFxuXHRcdFx0aW5zZXJ0ID0galF1ZXJ5KCBzZWxlY3RvciApLFxuXHRcdFx0bGFzdCA9IGluc2VydC5sZW5ndGggLSAxLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRmb3IgKCA7IGkgPD0gbGFzdDsgaSsrICkge1xuXHRcdFx0ZWxlbXMgPSBpID09PSBsYXN0ID8gdGhpcyA6IHRoaXMuY2xvbmUoIHRydWUgKTtcblx0XHRcdGpRdWVyeSggaW5zZXJ0WyBpIF0gKVsgb3JpZ2luYWwgXSggZWxlbXMgKTtcblxuXHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHQvLyAuZ2V0KCkgYmVjYXVzZSBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRwdXNoLmFwcGx5KCByZXQsIGVsZW1zLmdldCgpICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCByZXQgKTtcblx0fTtcbn0gKTtcbnZhciBybWFyZ2luID0gKCAvXm1hcmdpbi8gKTtcblxudmFyIHJudW1ub25weCA9IG5ldyBSZWdFeHAoIFwiXihcIiArIHBudW0gKyBcIikoPyFweClbYS16JV0rJFwiLCBcImlcIiApO1xuXG52YXIgZ2V0U3R5bGVzID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHksIEZpcmVmb3ggPD0zMCAoIzE1MDk4LCAjMTQxNTApXG5cdFx0Ly8gSUUgdGhyb3dzIG9uIGVsZW1lbnRzIGNyZWF0ZWQgaW4gcG9wdXBzXG5cdFx0Ly8gRkYgbWVhbndoaWxlIHRocm93cyBvbiBmcmFtZSBlbGVtZW50cyB0aHJvdWdoIFwiZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZVwiXG5cdFx0dmFyIHZpZXcgPSBlbGVtLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG5cblx0XHRpZiAoICF2aWV3IHx8ICF2aWV3Lm9wZW5lciApIHtcblx0XHRcdHZpZXcgPSB3aW5kb3c7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSggZWxlbSApO1xuXHR9O1xuXG5cblxuKCBmdW5jdGlvbigpIHtcblxuXHQvLyBFeGVjdXRpbmcgYm90aCBwaXhlbFBvc2l0aW9uICYgYm94U2l6aW5nUmVsaWFibGUgdGVzdHMgcmVxdWlyZSBvbmx5IG9uZSBsYXlvdXRcblx0Ly8gc28gdGhleSdyZSBleGVjdXRlZCBhdCB0aGUgc2FtZSB0aW1lIHRvIHNhdmUgdGhlIHNlY29uZCBjb21wdXRhdGlvbi5cblx0ZnVuY3Rpb24gY29tcHV0ZVN0eWxlVGVzdHMoKSB7XG5cblx0XHQvLyBUaGlzIGlzIGEgc2luZ2xldG9uLCB3ZSBuZWVkIHRvIGV4ZWN1dGUgaXQgb25seSBvbmNlXG5cdFx0aWYgKCAhZGl2ICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGRpdi5zdHlsZS5jc3NUZXh0ID1cblx0XHRcdFwiYm94LXNpemluZzpib3JkZXItYm94O1wiICtcblx0XHRcdFwicG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztcIiArXG5cdFx0XHRcIm1hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7XCIgK1xuXHRcdFx0XCJ0b3A6MSU7d2lkdGg6NTAlXCI7XG5cdFx0ZGl2LmlubmVySFRNTCA9IFwiXCI7XG5cdFx0ZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKCBjb250YWluZXIgKTtcblxuXHRcdHZhciBkaXZTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCBkaXYgKTtcblx0XHRwaXhlbFBvc2l0aW9uVmFsID0gZGl2U3R5bGUudG9wICE9PSBcIjElXCI7XG5cblx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAtIDQuMyBvbmx5LCBGaXJlZm94IDw9MyAtIDQ0XG5cdFx0cmVsaWFibGVNYXJnaW5MZWZ0VmFsID0gZGl2U3R5bGUubWFyZ2luTGVmdCA9PT0gXCIycHhcIjtcblx0XHRib3hTaXppbmdSZWxpYWJsZVZhbCA9IGRpdlN0eWxlLndpZHRoID09PSBcIjRweFwiO1xuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seVxuXHRcdC8vIFNvbWUgc3R5bGVzIGNvbWUgYmFjayB3aXRoIHBlcmNlbnRhZ2UgdmFsdWVzLCBldmVuIHRob3VnaCB0aGV5IHNob3VsZG4ndFxuXHRcdGRpdi5zdHlsZS5tYXJnaW5SaWdodCA9IFwiNTAlXCI7XG5cdFx0cGl4ZWxNYXJnaW5SaWdodFZhbCA9IGRpdlN0eWxlLm1hcmdpblJpZ2h0ID09PSBcIjRweFwiO1xuXG5cdFx0ZG9jdW1lbnRFbGVtZW50LnJlbW92ZUNoaWxkKCBjb250YWluZXIgKTtcblxuXHRcdC8vIE51bGxpZnkgdGhlIGRpdiBzbyBpdCB3b3VsZG4ndCBiZSBzdG9yZWQgaW4gdGhlIG1lbW9yeSBhbmRcblx0XHQvLyBpdCB3aWxsIGFsc28gYmUgYSBzaWduIHRoYXQgY2hlY2tzIGFscmVhZHkgcGVyZm9ybWVkXG5cdFx0ZGl2ID0gbnVsbDtcblx0fVxuXG5cdHZhciBwaXhlbFBvc2l0aW9uVmFsLCBib3hTaXppbmdSZWxpYWJsZVZhbCwgcGl4ZWxNYXJnaW5SaWdodFZhbCwgcmVsaWFibGVNYXJnaW5MZWZ0VmFsLFxuXHRcdGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSxcblx0XHRkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICk7XG5cblx0Ly8gRmluaXNoIGVhcmx5IGluIGxpbWl0ZWQgKG5vbi1icm93c2VyKSBlbnZpcm9ubWVudHNcblx0aWYgKCAhZGl2LnN0eWxlICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0Ly8gU3R5bGUgb2YgY2xvbmVkIGVsZW1lbnQgYWZmZWN0cyBzb3VyY2UgZWxlbWVudCBjbG9uZWQgKCM4OTA4KVxuXHRkaXYuc3R5bGUuYmFja2dyb3VuZENsaXAgPSBcImNvbnRlbnQtYm94XCI7XG5cdGRpdi5jbG9uZU5vZGUoIHRydWUgKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9IFwiXCI7XG5cdHN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlID0gZGl2LnN0eWxlLmJhY2tncm91bmRDbGlwID09PSBcImNvbnRlbnQtYm94XCI7XG5cblx0Y29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBcImJvcmRlcjowO3dpZHRoOjhweDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHg7XCIgK1xuXHRcdFwicGFkZGluZzowO21hcmdpbi10b3A6MXB4O3Bvc2l0aW9uOmFic29sdXRlXCI7XG5cdGNvbnRhaW5lci5hcHBlbmRDaGlsZCggZGl2ICk7XG5cblx0alF1ZXJ5LmV4dGVuZCggc3VwcG9ydCwge1xuXHRcdHBpeGVsUG9zaXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcblx0XHRcdHJldHVybiBwaXhlbFBvc2l0aW9uVmFsO1xuXHRcdH0sXG5cdFx0Ym94U2l6aW5nUmVsaWFibGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcblx0XHRcdHJldHVybiBib3hTaXppbmdSZWxpYWJsZVZhbDtcblx0XHR9LFxuXHRcdHBpeGVsTWFyZ2luUmlnaHQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcblx0XHRcdHJldHVybiBwaXhlbE1hcmdpblJpZ2h0VmFsO1xuXHRcdH0sXG5cdFx0cmVsaWFibGVNYXJnaW5MZWZ0OiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gcmVsaWFibGVNYXJnaW5MZWZ0VmFsO1xuXHRcdH1cblx0fSApO1xufSApKCk7XG5cblxuZnVuY3Rpb24gY3VyQ1NTKCBlbGVtLCBuYW1lLCBjb21wdXRlZCApIHtcblx0dmFyIHdpZHRoLCBtaW5XaWR0aCwgbWF4V2lkdGgsIHJldCxcblx0XHRzdHlsZSA9IGVsZW0uc3R5bGU7XG5cblx0Y29tcHV0ZWQgPSBjb21wdXRlZCB8fCBnZXRTdHlsZXMoIGVsZW0gKTtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHQvLyBnZXRQcm9wZXJ0eVZhbHVlIGlzIG9ubHkgbmVlZGVkIGZvciAuY3NzKCdmaWx0ZXInKSAoIzEyNTM3KVxuXHRpZiAoIGNvbXB1dGVkICkge1xuXHRcdHJldCA9IGNvbXB1dGVkLmdldFByb3BlcnR5VmFsdWUoIG5hbWUgKSB8fCBjb21wdXRlZFsgbmFtZSBdO1xuXG5cdFx0aWYgKCByZXQgPT09IFwiXCIgJiYgIWpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICkgKSB7XG5cdFx0XHRyZXQgPSBqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUgKTtcblx0XHR9XG5cblx0XHQvLyBBIHRyaWJ1dGUgdG8gdGhlIFwiYXdlc29tZSBoYWNrIGJ5IERlYW4gRWR3YXJkc1wiXG5cdFx0Ly8gQW5kcm9pZCBCcm93c2VyIHJldHVybnMgcGVyY2VudGFnZSBmb3Igc29tZSB2YWx1ZXMsXG5cdFx0Ly8gYnV0IHdpZHRoIHNlZW1zIHRvIGJlIHJlbGlhYmx5IHBpeGVscy5cblx0XHQvLyBUaGlzIGlzIGFnYWluc3QgdGhlIENTU09NIGRyYWZ0IHNwZWM6XG5cdFx0Ly8gaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzc29tLyNyZXNvbHZlZC12YWx1ZXNcblx0XHRpZiAoICFzdXBwb3J0LnBpeGVsTWFyZ2luUmlnaHQoKSAmJiBybnVtbm9ucHgudGVzdCggcmV0ICkgJiYgcm1hcmdpbi50ZXN0KCBuYW1lICkgKSB7XG5cblx0XHRcdC8vIFJlbWVtYmVyIHRoZSBvcmlnaW5hbCB2YWx1ZXNcblx0XHRcdHdpZHRoID0gc3R5bGUud2lkdGg7XG5cdFx0XHRtaW5XaWR0aCA9IHN0eWxlLm1pbldpZHRoO1xuXHRcdFx0bWF4V2lkdGggPSBzdHlsZS5tYXhXaWR0aDtcblxuXHRcdFx0Ly8gUHV0IGluIHRoZSBuZXcgdmFsdWVzIHRvIGdldCBhIGNvbXB1dGVkIHZhbHVlIG91dFxuXHRcdFx0c3R5bGUubWluV2lkdGggPSBzdHlsZS5tYXhXaWR0aCA9IHN0eWxlLndpZHRoID0gcmV0O1xuXHRcdFx0cmV0ID0gY29tcHV0ZWQud2lkdGg7XG5cblx0XHRcdC8vIFJldmVydCB0aGUgY2hhbmdlZCB2YWx1ZXNcblx0XHRcdHN0eWxlLndpZHRoID0gd2lkdGg7XG5cdFx0XHRzdHlsZS5taW5XaWR0aCA9IG1pbldpZHRoO1xuXHRcdFx0c3R5bGUubWF4V2lkdGggPSBtYXhXaWR0aDtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmV0ICE9PSB1bmRlZmluZWQgP1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seVxuXHRcdC8vIElFIHJldHVybnMgekluZGV4IHZhbHVlIGFzIGFuIGludGVnZXIuXG5cdFx0cmV0ICsgXCJcIiA6XG5cdFx0cmV0O1xufVxuXG5cbmZ1bmN0aW9uIGFkZEdldEhvb2tJZiggY29uZGl0aW9uRm4sIGhvb2tGbiApIHtcblxuXHQvLyBEZWZpbmUgdGhlIGhvb2ssIHdlJ2xsIGNoZWNrIG9uIHRoZSBmaXJzdCBydW4gaWYgaXQncyByZWFsbHkgbmVlZGVkLlxuXHRyZXR1cm4ge1xuXHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIGNvbmRpdGlvbkZuKCkgKSB7XG5cblx0XHRcdFx0Ly8gSG9vayBub3QgbmVlZGVkIChvciBpdCdzIG5vdCBwb3NzaWJsZSB0byB1c2UgaXQgZHVlXG5cdFx0XHRcdC8vIHRvIG1pc3NpbmcgZGVwZW5kZW5jeSksIHJlbW92ZSBpdC5cblx0XHRcdFx0ZGVsZXRlIHRoaXMuZ2V0O1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIEhvb2sgbmVlZGVkOyByZWRlZmluZSBpdCBzbyB0aGF0IHRoZSBzdXBwb3J0IHRlc3QgaXMgbm90IGV4ZWN1dGVkIGFnYWluLlxuXHRcdFx0cmV0dXJuICggdGhpcy5nZXQgPSBob29rRm4gKS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fVxuXHR9O1xufVxuXG5cbnZhclxuXG5cdC8vIFN3YXBwYWJsZSBpZiBkaXNwbGF5IGlzIG5vbmUgb3Igc3RhcnRzIHdpdGggdGFibGVcblx0Ly8gZXhjZXB0IFwidGFibGVcIiwgXCJ0YWJsZS1jZWxsXCIsIG9yIFwidGFibGUtY2FwdGlvblwiXG5cdC8vIFNlZSBoZXJlIGZvciBkaXNwbGF5IHZhbHVlczogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9DU1MvZGlzcGxheVxuXHRyZGlzcGxheXN3YXAgPSAvXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sXG5cdGNzc1Nob3cgPSB7IHBvc2l0aW9uOiBcImFic29sdXRlXCIsIHZpc2liaWxpdHk6IFwiaGlkZGVuXCIsIGRpc3BsYXk6IFwiYmxvY2tcIiB9LFxuXHRjc3NOb3JtYWxUcmFuc2Zvcm0gPSB7XG5cdFx0bGV0dGVyU3BhY2luZzogXCIwXCIsXG5cdFx0Zm9udFdlaWdodDogXCI0MDBcIlxuXHR9LFxuXG5cdGNzc1ByZWZpeGVzID0gWyBcIldlYmtpdFwiLCBcIk1velwiLCBcIm1zXCIgXSxcblx0ZW1wdHlTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKS5zdHlsZTtcblxuLy8gUmV0dXJuIGEgY3NzIHByb3BlcnR5IG1hcHBlZCB0byBhIHBvdGVudGlhbGx5IHZlbmRvciBwcmVmaXhlZCBwcm9wZXJ0eVxuZnVuY3Rpb24gdmVuZG9yUHJvcE5hbWUoIG5hbWUgKSB7XG5cblx0Ly8gU2hvcnRjdXQgZm9yIG5hbWVzIHRoYXQgYXJlIG5vdCB2ZW5kb3IgcHJlZml4ZWRcblx0aWYgKCBuYW1lIGluIGVtcHR5U3R5bGUgKSB7XG5cdFx0cmV0dXJuIG5hbWU7XG5cdH1cblxuXHQvLyBDaGVjayBmb3IgdmVuZG9yIHByZWZpeGVkIG5hbWVzXG5cdHZhciBjYXBOYW1lID0gbmFtZVsgMCBdLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKCAxICksXG5cdFx0aSA9IGNzc1ByZWZpeGVzLmxlbmd0aDtcblxuXHR3aGlsZSAoIGktLSApIHtcblx0XHRuYW1lID0gY3NzUHJlZml4ZXNbIGkgXSArIGNhcE5hbWU7XG5cdFx0aWYgKCBuYW1lIGluIGVtcHR5U3R5bGUgKSB7XG5cdFx0XHRyZXR1cm4gbmFtZTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gc2V0UG9zaXRpdmVOdW1iZXIoIGVsZW0sIHZhbHVlLCBzdWJ0cmFjdCApIHtcblxuXHQvLyBBbnkgcmVsYXRpdmUgKCsvLSkgdmFsdWVzIGhhdmUgYWxyZWFkeSBiZWVuXG5cdC8vIG5vcm1hbGl6ZWQgYXQgdGhpcyBwb2ludFxuXHR2YXIgbWF0Y2hlcyA9IHJjc3NOdW0uZXhlYyggdmFsdWUgKTtcblx0cmV0dXJuIG1hdGNoZXMgP1xuXG5cdFx0Ly8gR3VhcmQgYWdhaW5zdCB1bmRlZmluZWQgXCJzdWJ0cmFjdFwiLCBlLmcuLCB3aGVuIHVzZWQgYXMgaW4gY3NzSG9va3Ncblx0XHRNYXRoLm1heCggMCwgbWF0Y2hlc1sgMiBdIC0gKCBzdWJ0cmFjdCB8fCAwICkgKSArICggbWF0Y2hlc1sgMyBdIHx8IFwicHhcIiApIDpcblx0XHR2YWx1ZTtcbn1cblxuZnVuY3Rpb24gYXVnbWVudFdpZHRoT3JIZWlnaHQoIGVsZW0sIG5hbWUsIGV4dHJhLCBpc0JvcmRlckJveCwgc3R5bGVzICkge1xuXHR2YXIgaSA9IGV4dHJhID09PSAoIGlzQm9yZGVyQm94ID8gXCJib3JkZXJcIiA6IFwiY29udGVudFwiICkgP1xuXG5cdFx0Ly8gSWYgd2UgYWxyZWFkeSBoYXZlIHRoZSByaWdodCBtZWFzdXJlbWVudCwgYXZvaWQgYXVnbWVudGF0aW9uXG5cdFx0NCA6XG5cblx0XHQvLyBPdGhlcndpc2UgaW5pdGlhbGl6ZSBmb3IgaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbCBwcm9wZXJ0aWVzXG5cdFx0bmFtZSA9PT0gXCJ3aWR0aFwiID8gMSA6IDAsXG5cblx0XHR2YWwgPSAwO1xuXG5cdGZvciAoIDsgaSA8IDQ7IGkgKz0gMiApIHtcblxuXHRcdC8vIEJvdGggYm94IG1vZGVscyBleGNsdWRlIG1hcmdpbiwgc28gYWRkIGl0IGlmIHdlIHdhbnQgaXRcblx0XHRpZiAoIGV4dHJhID09PSBcIm1hcmdpblwiICkge1xuXHRcdFx0dmFsICs9IGpRdWVyeS5jc3MoIGVsZW0sIGV4dHJhICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApO1xuXHRcdH1cblxuXHRcdGlmICggaXNCb3JkZXJCb3ggKSB7XG5cblx0XHRcdC8vIGJvcmRlci1ib3ggaW5jbHVkZXMgcGFkZGluZywgc28gcmVtb3ZlIGl0IGlmIHdlIHdhbnQgY29udGVudFxuXHRcdFx0aWYgKCBleHRyYSA9PT0gXCJjb250ZW50XCIgKSB7XG5cdFx0XHRcdHZhbCAtPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBhZGRpbmdcIiArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQXQgdGhpcyBwb2ludCwgZXh0cmEgaXNuJ3QgYm9yZGVyIG5vciBtYXJnaW4sIHNvIHJlbW92ZSBib3JkZXJcblx0XHRcdGlmICggZXh0cmEgIT09IFwibWFyZ2luXCIgKSB7XG5cdFx0XHRcdHZhbCAtPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kWyBpIF0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIEF0IHRoaXMgcG9pbnQsIGV4dHJhIGlzbid0IGNvbnRlbnQsIHNvIGFkZCBwYWRkaW5nXG5cdFx0XHR2YWwgKz0galF1ZXJ5LmNzcyggZWxlbSwgXCJwYWRkaW5nXCIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cblx0XHRcdC8vIEF0IHRoaXMgcG9pbnQsIGV4dHJhIGlzbid0IGNvbnRlbnQgbm9yIHBhZGRpbmcsIHNvIGFkZCBib3JkZXJcblx0XHRcdGlmICggZXh0cmEgIT09IFwicGFkZGluZ1wiICkge1xuXHRcdFx0XHR2YWwgKz0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3JkZXJcIiArIGNzc0V4cGFuZFsgaSBdICsgXCJXaWR0aFwiLCB0cnVlLCBzdHlsZXMgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdmFsO1xufVxuXG5mdW5jdGlvbiBnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSApIHtcblxuXHQvLyBTdGFydCB3aXRoIG9mZnNldCBwcm9wZXJ0eSwgd2hpY2ggaXMgZXF1aXZhbGVudCB0byB0aGUgYm9yZGVyLWJveCB2YWx1ZVxuXHR2YXIgdmFsLFxuXHRcdHZhbHVlSXNCb3JkZXJCb3ggPSB0cnVlLFxuXHRcdHN0eWxlcyA9IGdldFN0eWxlcyggZWxlbSApLFxuXHRcdGlzQm9yZGVyQm94ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIjtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0Ly8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYSBkaXNjb25uZWN0ZWQgbm9kZVxuXHQvLyBpbiBJRSB0aHJvd3MgYW4gZXJyb3IuXG5cdGlmICggZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCApIHtcblx0XHR2YWwgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpWyBuYW1lIF07XG5cdH1cblxuXHQvLyBTb21lIG5vbi1odG1sIGVsZW1lbnRzIHJldHVybiB1bmRlZmluZWQgZm9yIG9mZnNldFdpZHRoLCBzbyBjaGVjayBmb3IgbnVsbC91bmRlZmluZWRcblx0Ly8gc3ZnIC0gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NjQ5Mjg1XG5cdC8vIE1hdGhNTCAtIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTQ5MTY2OFxuXHRpZiAoIHZhbCA8PSAwIHx8IHZhbCA9PSBudWxsICkge1xuXG5cdFx0Ly8gRmFsbCBiYWNrIHRvIGNvbXB1dGVkIHRoZW4gdW5jb21wdXRlZCBjc3MgaWYgbmVjZXNzYXJ5XG5cdFx0dmFsID0gY3VyQ1NTKCBlbGVtLCBuYW1lLCBzdHlsZXMgKTtcblx0XHRpZiAoIHZhbCA8IDAgfHwgdmFsID09IG51bGwgKSB7XG5cdFx0XHR2YWwgPSBlbGVtLnN0eWxlWyBuYW1lIF07XG5cdFx0fVxuXG5cdFx0Ly8gQ29tcHV0ZWQgdW5pdCBpcyBub3QgcGl4ZWxzLiBTdG9wIGhlcmUgYW5kIHJldHVybi5cblx0XHRpZiAoIHJudW1ub25weC50ZXN0KCB2YWwgKSApIHtcblx0XHRcdHJldHVybiB2YWw7XG5cdFx0fVxuXG5cdFx0Ly8gQ2hlY2sgZm9yIHN0eWxlIGluIGNhc2UgYSBicm93c2VyIHdoaWNoIHJldHVybnMgdW5yZWxpYWJsZSB2YWx1ZXNcblx0XHQvLyBmb3IgZ2V0Q29tcHV0ZWRTdHlsZSBzaWxlbnRseSBmYWxscyBiYWNrIHRvIHRoZSByZWxpYWJsZSBlbGVtLnN0eWxlXG5cdFx0dmFsdWVJc0JvcmRlckJveCA9IGlzQm9yZGVyQm94ICYmXG5cdFx0XHQoIHN1cHBvcnQuYm94U2l6aW5nUmVsaWFibGUoKSB8fCB2YWwgPT09IGVsZW0uc3R5bGVbIG5hbWUgXSApO1xuXG5cdFx0Ly8gTm9ybWFsaXplIFwiXCIsIGF1dG8sIGFuZCBwcmVwYXJlIGZvciBleHRyYVxuXHRcdHZhbCA9IHBhcnNlRmxvYXQoIHZhbCApIHx8IDA7XG5cdH1cblxuXHQvLyBVc2UgdGhlIGFjdGl2ZSBib3gtc2l6aW5nIG1vZGVsIHRvIGFkZC9zdWJ0cmFjdCBpcnJlbGV2YW50IHN0eWxlc1xuXHRyZXR1cm4gKCB2YWwgK1xuXHRcdGF1Z21lbnRXaWR0aE9ySGVpZ2h0KFxuXHRcdFx0ZWxlbSxcblx0XHRcdG5hbWUsXG5cdFx0XHRleHRyYSB8fCAoIGlzQm9yZGVyQm94ID8gXCJib3JkZXJcIiA6IFwiY29udGVudFwiICksXG5cdFx0XHR2YWx1ZUlzQm9yZGVyQm94LFxuXHRcdFx0c3R5bGVzXG5cdFx0KVxuXHQpICsgXCJweFwiO1xufVxuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0Ly8gQWRkIGluIHN0eWxlIHByb3BlcnR5IGhvb2tzIGZvciBvdmVycmlkaW5nIHRoZSBkZWZhdWx0XG5cdC8vIGJlaGF2aW9yIG9mIGdldHRpbmcgYW5kIHNldHRpbmcgYSBzdHlsZSBwcm9wZXJ0eVxuXHRjc3NIb29rczoge1xuXHRcdG9wYWNpdHk6IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xuXHRcdFx0XHRpZiAoIGNvbXB1dGVkICkge1xuXG5cdFx0XHRcdFx0Ly8gV2Ugc2hvdWxkIGFsd2F5cyBnZXQgYSBudW1iZXIgYmFjayBmcm9tIG9wYWNpdHlcblx0XHRcdFx0XHR2YXIgcmV0ID0gY3VyQ1NTKCBlbGVtLCBcIm9wYWNpdHlcIiApO1xuXHRcdFx0XHRcdHJldHVybiByZXQgPT09IFwiXCIgPyBcIjFcIiA6IHJldDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHQvLyBEb24ndCBhdXRvbWF0aWNhbGx5IGFkZCBcInB4XCIgdG8gdGhlc2UgcG9zc2libHktdW5pdGxlc3MgcHJvcGVydGllc1xuXHRjc3NOdW1iZXI6IHtcblx0XHRcImFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50XCI6IHRydWUsXG5cdFx0XCJjb2x1bW5Db3VudFwiOiB0cnVlLFxuXHRcdFwiZmlsbE9wYWNpdHlcIjogdHJ1ZSxcblx0XHRcImZsZXhHcm93XCI6IHRydWUsXG5cdFx0XCJmbGV4U2hyaW5rXCI6IHRydWUsXG5cdFx0XCJmb250V2VpZ2h0XCI6IHRydWUsXG5cdFx0XCJsaW5lSGVpZ2h0XCI6IHRydWUsXG5cdFx0XCJvcGFjaXR5XCI6IHRydWUsXG5cdFx0XCJvcmRlclwiOiB0cnVlLFxuXHRcdFwib3JwaGFuc1wiOiB0cnVlLFxuXHRcdFwid2lkb3dzXCI6IHRydWUsXG5cdFx0XCJ6SW5kZXhcIjogdHJ1ZSxcblx0XHRcInpvb21cIjogdHJ1ZVxuXHR9LFxuXG5cdC8vIEFkZCBpbiBwcm9wZXJ0aWVzIHdob3NlIG5hbWVzIHlvdSB3aXNoIHRvIGZpeCBiZWZvcmVcblx0Ly8gc2V0dGluZyBvciBnZXR0aW5nIHRoZSB2YWx1ZVxuXHRjc3NQcm9wczoge1xuXHRcdFwiZmxvYXRcIjogXCJjc3NGbG9hdFwiXG5cdH0sXG5cblx0Ly8gR2V0IGFuZCBzZXQgdGhlIHN0eWxlIHByb3BlcnR5IG9uIGEgRE9NIE5vZGVcblx0c3R5bGU6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSwgZXh0cmEgKSB7XG5cblx0XHQvLyBEb24ndCBzZXQgc3R5bGVzIG9uIHRleHQgYW5kIGNvbW1lbnQgbm9kZXNcblx0XHRpZiAoICFlbGVtIHx8IGVsZW0ubm9kZVR5cGUgPT09IDMgfHwgZWxlbS5ub2RlVHlwZSA9PT0gOCB8fCAhZWxlbS5zdHlsZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWVcblx0XHR2YXIgcmV0LCB0eXBlLCBob29rcyxcblx0XHRcdG9yaWdOYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZSApLFxuXHRcdFx0c3R5bGUgPSBlbGVtLnN0eWxlO1xuXG5cdFx0bmFtZSA9IGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSB8fFxuXHRcdFx0KCBqUXVlcnkuY3NzUHJvcHNbIG9yaWdOYW1lIF0gPSB2ZW5kb3JQcm9wTmFtZSggb3JpZ05hbWUgKSB8fCBvcmlnTmFtZSApO1xuXG5cdFx0Ly8gR2V0cyBob29rIGZvciB0aGUgcHJlZml4ZWQgdmVyc2lvbiwgdGhlbiB1bnByZWZpeGVkIHZlcnNpb25cblx0XHRob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdIHx8IGpRdWVyeS5jc3NIb29rc1sgb3JpZ05hbWUgXTtcblxuXHRcdC8vIENoZWNrIGlmIHdlJ3JlIHNldHRpbmcgYSB2YWx1ZVxuXHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cblx0XHRcdC8vIENvbnZlcnQgXCIrPVwiIG9yIFwiLT1cIiB0byByZWxhdGl2ZSBudW1iZXJzICgjNzM0NSlcblx0XHRcdGlmICggdHlwZSA9PT0gXCJzdHJpbmdcIiAmJiAoIHJldCA9IHJjc3NOdW0uZXhlYyggdmFsdWUgKSApICYmIHJldFsgMSBdICkge1xuXHRcdFx0XHR2YWx1ZSA9IGFkanVzdENTUyggZWxlbSwgbmFtZSwgcmV0ICk7XG5cblx0XHRcdFx0Ly8gRml4ZXMgYnVnICM5MjM3XG5cdFx0XHRcdHR5cGUgPSBcIm51bWJlclwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYWtlIHN1cmUgdGhhdCBudWxsIGFuZCBOYU4gdmFsdWVzIGFyZW4ndCBzZXQgKCM3MTE2KVxuXHRcdFx0aWYgKCB2YWx1ZSA9PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBhIG51bWJlciB3YXMgcGFzc2VkIGluLCBhZGQgdGhlIHVuaXQgKGV4Y2VwdCBmb3IgY2VydGFpbiBDU1MgcHJvcGVydGllcylcblx0XHRcdGlmICggdHlwZSA9PT0gXCJudW1iZXJcIiApIHtcblx0XHRcdFx0dmFsdWUgKz0gcmV0ICYmIHJldFsgMyBdIHx8ICggalF1ZXJ5LmNzc051bWJlclsgb3JpZ05hbWUgXSA/IFwiXCIgOiBcInB4XCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gYmFja2dyb3VuZC0qIHByb3BzIGFmZmVjdCBvcmlnaW5hbCBjbG9uZSdzIHZhbHVlc1xuXHRcdFx0aWYgKCAhc3VwcG9ydC5jbGVhckNsb25lU3R5bGUgJiYgdmFsdWUgPT09IFwiXCIgJiYgbmFtZS5pbmRleE9mKCBcImJhY2tncm91bmRcIiApID09PSAwICkge1xuXHRcdFx0XHRzdHlsZVsgbmFtZSBdID0gXCJpbmhlcml0XCI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQsIHVzZSB0aGF0IHZhbHVlLCBvdGhlcndpc2UganVzdCBzZXQgdGhlIHNwZWNpZmllZCB2YWx1ZVxuXHRcdFx0aWYgKCAhaG9va3MgfHwgISggXCJzZXRcIiBpbiBob29rcyApIHx8XG5cdFx0XHRcdCggdmFsdWUgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBleHRyYSApICkgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRzdHlsZVsgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHR9XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkIGdldCB0aGUgbm9uLWNvbXB1dGVkIHZhbHVlIGZyb20gdGhlcmVcblx0XHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHQoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgZmFsc2UsIGV4dHJhICkgKSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE90aGVyd2lzZSBqdXN0IGdldCB0aGUgdmFsdWUgZnJvbSB0aGUgc3R5bGUgb2JqZWN0XG5cdFx0XHRyZXR1cm4gc3R5bGVbIG5hbWUgXTtcblx0XHR9XG5cdH0sXG5cblx0Y3NzOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZXh0cmEsIHN0eWxlcyApIHtcblx0XHR2YXIgdmFsLCBudW0sIGhvb2tzLFxuXHRcdFx0b3JpZ05hbWUgPSBqUXVlcnkuY2FtZWxDYXNlKCBuYW1lICk7XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWVcblx0XHRuYW1lID0galF1ZXJ5LmNzc1Byb3BzWyBvcmlnTmFtZSBdIHx8XG5cdFx0XHQoIGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSA9IHZlbmRvclByb3BOYW1lKCBvcmlnTmFtZSApIHx8IG9yaWdOYW1lICk7XG5cblx0XHQvLyBUcnkgcHJlZml4ZWQgbmFtZSBmb2xsb3dlZCBieSB0aGUgdW5wcmVmaXhlZCBuYW1lXG5cdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXSB8fCBqUXVlcnkuY3NzSG9va3NbIG9yaWdOYW1lIF07XG5cblx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkIGdldCB0aGUgY29tcHV0ZWQgdmFsdWUgZnJvbSB0aGVyZVxuXHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyApIHtcblx0XHRcdHZhbCA9IGhvb2tzLmdldCggZWxlbSwgdHJ1ZSwgZXh0cmEgKTtcblx0XHR9XG5cblx0XHQvLyBPdGhlcndpc2UsIGlmIGEgd2F5IHRvIGdldCB0aGUgY29tcHV0ZWQgdmFsdWUgZXhpc3RzLCB1c2UgdGhhdFxuXHRcdGlmICggdmFsID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR2YWwgPSBjdXJDU1MoIGVsZW0sIG5hbWUsIHN0eWxlcyApO1xuXHRcdH1cblxuXHRcdC8vIENvbnZlcnQgXCJub3JtYWxcIiB0byBjb21wdXRlZCB2YWx1ZVxuXHRcdGlmICggdmFsID09PSBcIm5vcm1hbFwiICYmIG5hbWUgaW4gY3NzTm9ybWFsVHJhbnNmb3JtICkge1xuXHRcdFx0dmFsID0gY3NzTm9ybWFsVHJhbnNmb3JtWyBuYW1lIF07XG5cdFx0fVxuXG5cdFx0Ly8gTWFrZSBudW1lcmljIGlmIGZvcmNlZCBvciBhIHF1YWxpZmllciB3YXMgcHJvdmlkZWQgYW5kIHZhbCBsb29rcyBudW1lcmljXG5cdFx0aWYgKCBleHRyYSA9PT0gXCJcIiB8fCBleHRyYSApIHtcblx0XHRcdG51bSA9IHBhcnNlRmxvYXQoIHZhbCApO1xuXHRcdFx0cmV0dXJuIGV4dHJhID09PSB0cnVlIHx8IGlzRmluaXRlKCBudW0gKSA/IG51bSB8fCAwIDogdmFsO1xuXHRcdH1cblx0XHRyZXR1cm4gdmFsO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5lYWNoKCBbIFwiaGVpZ2h0XCIsIFwid2lkdGhcIiBdLCBmdW5jdGlvbiggaSwgbmFtZSApIHtcblx0alF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gPSB7XG5cdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQsIGV4dHJhICkge1xuXHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblxuXHRcdFx0XHQvLyBDZXJ0YWluIGVsZW1lbnRzIGNhbiBoYXZlIGRpbWVuc2lvbiBpbmZvIGlmIHdlIGludmlzaWJseSBzaG93IHRoZW1cblx0XHRcdFx0Ly8gYnV0IGl0IG11c3QgaGF2ZSBhIGN1cnJlbnQgZGlzcGxheSBzdHlsZSB0aGF0IHdvdWxkIGJlbmVmaXRcblx0XHRcdFx0cmV0dXJuIHJkaXNwbGF5c3dhcC50ZXN0KCBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApICkgJiZcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA4K1xuXHRcdFx0XHRcdC8vIFRhYmxlIGNvbHVtbnMgaW4gU2FmYXJpIGhhdmUgbm9uLXplcm8gb2Zmc2V0V2lkdGggJiB6ZXJvXG5cdFx0XHRcdFx0Ly8gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggdW5sZXNzIGRpc3BsYXkgaXMgY2hhbmdlZC5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0XHRcdFx0XHQvLyBSdW5uaW5nIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBvbiBhIGRpc2Nvbm5lY3RlZCBub2RlXG5cdFx0XHRcdFx0Ly8gaW4gSUUgdGhyb3dzIGFuIGVycm9yLlxuXHRcdFx0XHRcdCggIWVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggfHwgIWVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKSA/XG5cdFx0XHRcdFx0XHRzd2FwKCBlbGVtLCBjc3NTaG93LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIG5hbWUsIGV4dHJhICk7XG5cdFx0XHRcdFx0XHR9ICkgOlxuXHRcdFx0XHRcdFx0Z2V0V2lkdGhPckhlaWdodCggZWxlbSwgbmFtZSwgZXh0cmEgKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIGV4dHJhICkge1xuXHRcdFx0dmFyIG1hdGNoZXMsXG5cdFx0XHRcdHN0eWxlcyA9IGV4dHJhICYmIGdldFN0eWxlcyggZWxlbSApLFxuXHRcdFx0XHRzdWJ0cmFjdCA9IGV4dHJhICYmIGF1Z21lbnRXaWR0aE9ySGVpZ2h0KFxuXHRcdFx0XHRcdGVsZW0sXG5cdFx0XHRcdFx0bmFtZSxcblx0XHRcdFx0XHRleHRyYSxcblx0XHRcdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBcImJveFNpemluZ1wiLCBmYWxzZSwgc3R5bGVzICkgPT09IFwiYm9yZGVyLWJveFwiLFxuXHRcdFx0XHRcdHN0eWxlc1xuXHRcdFx0XHQpO1xuXG5cdFx0XHQvLyBDb252ZXJ0IHRvIHBpeGVscyBpZiB2YWx1ZSBhZGp1c3RtZW50IGlzIG5lZWRlZFxuXHRcdFx0aWYgKCBzdWJ0cmFjdCAmJiAoIG1hdGNoZXMgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICkgKSAmJlxuXHRcdFx0XHQoIG1hdGNoZXNbIDMgXSB8fCBcInB4XCIgKSAhPT0gXCJweFwiICkge1xuXG5cdFx0XHRcdGVsZW0uc3R5bGVbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0XHR2YWx1ZSA9IGpRdWVyeS5jc3MoIGVsZW0sIG5hbWUgKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHNldFBvc2l0aXZlTnVtYmVyKCBlbGVtLCB2YWx1ZSwgc3VidHJhY3QgKTtcblx0XHR9XG5cdH07XG59ICk7XG5cbmpRdWVyeS5jc3NIb29rcy5tYXJnaW5MZWZ0ID0gYWRkR2V0SG9va0lmKCBzdXBwb3J0LnJlbGlhYmxlTWFyZ2luTGVmdCxcblx0ZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xuXHRcdGlmICggY29tcHV0ZWQgKSB7XG5cdFx0XHRyZXR1cm4gKCBwYXJzZUZsb2F0KCBjdXJDU1MoIGVsZW0sIFwibWFyZ2luTGVmdFwiICkgKSB8fFxuXHRcdFx0XHRlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgLVxuXHRcdFx0XHRcdHN3YXAoIGVsZW0sIHsgbWFyZ2luTGVmdDogMCB9LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG5cdFx0XHRcdFx0fSApXG5cdFx0XHRcdCkgKyBcInB4XCI7XG5cdFx0fVxuXHR9XG4pO1xuXG4vLyBUaGVzZSBob29rcyBhcmUgdXNlZCBieSBhbmltYXRlIHRvIGV4cGFuZCBwcm9wZXJ0aWVzXG5qUXVlcnkuZWFjaCgge1xuXHRtYXJnaW46IFwiXCIsXG5cdHBhZGRpbmc6IFwiXCIsXG5cdGJvcmRlcjogXCJXaWR0aFwiXG59LCBmdW5jdGlvbiggcHJlZml4LCBzdWZmaXggKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgcHJlZml4ICsgc3VmZml4IF0gPSB7XG5cdFx0ZXhwYW5kOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgaSA9IDAsXG5cdFx0XHRcdGV4cGFuZGVkID0ge30sXG5cblx0XHRcdFx0Ly8gQXNzdW1lcyBhIHNpbmdsZSBudW1iZXIgaWYgbm90IGEgc3RyaW5nXG5cdFx0XHRcdHBhcnRzID0gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiID8gdmFsdWUuc3BsaXQoIFwiIFwiICkgOiBbIHZhbHVlIF07XG5cblx0XHRcdGZvciAoIDsgaSA8IDQ7IGkrKyApIHtcblx0XHRcdFx0ZXhwYW5kZWRbIHByZWZpeCArIGNzc0V4cGFuZFsgaSBdICsgc3VmZml4IF0gPVxuXHRcdFx0XHRcdHBhcnRzWyBpIF0gfHwgcGFydHNbIGkgLSAyIF0gfHwgcGFydHNbIDAgXTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGV4cGFuZGVkO1xuXHRcdH1cblx0fTtcblxuXHRpZiAoICFybWFyZ2luLnRlc3QoIHByZWZpeCApICkge1xuXHRcdGpRdWVyeS5jc3NIb29rc1sgcHJlZml4ICsgc3VmZml4IF0uc2V0ID0gc2V0UG9zaXRpdmVOdW1iZXI7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRjc3M6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgc3R5bGVzLCBsZW4sXG5cdFx0XHRcdG1hcCA9IHt9LFxuXHRcdFx0XHRpID0gMDtcblxuXHRcdFx0aWYgKCBqUXVlcnkuaXNBcnJheSggbmFtZSApICkge1xuXHRcdFx0XHRzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKTtcblx0XHRcdFx0bGVuID0gbmFtZS5sZW5ndGg7XG5cblx0XHRcdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0bWFwWyBuYW1lWyBpIF0gXSA9IGpRdWVyeS5jc3MoIGVsZW0sIG5hbWVbIGkgXSwgZmFsc2UsIHN0eWxlcyApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIG1hcDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUsIHZhbHVlICkgOlxuXHRcdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBuYW1lICk7XG5cdFx0fSwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdH1cbn0gKTtcblxuXG5mdW5jdGlvbiBUd2VlbiggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcgKSB7XG5cdHJldHVybiBuZXcgVHdlZW4ucHJvdG90eXBlLmluaXQoIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nICk7XG59XG5qUXVlcnkuVHdlZW4gPSBUd2VlbjtcblxuVHdlZW4ucHJvdG90eXBlID0ge1xuXHRjb25zdHJ1Y3RvcjogVHdlZW4sXG5cdGluaXQ6IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZywgdW5pdCApIHtcblx0XHR0aGlzLmVsZW0gPSBlbGVtO1xuXHRcdHRoaXMucHJvcCA9IHByb3A7XG5cdFx0dGhpcy5lYXNpbmcgPSBlYXNpbmcgfHwgalF1ZXJ5LmVhc2luZy5fZGVmYXVsdDtcblx0XHR0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXHRcdHRoaXMuc3RhcnQgPSB0aGlzLm5vdyA9IHRoaXMuY3VyKCk7XG5cdFx0dGhpcy5lbmQgPSBlbmQ7XG5cdFx0dGhpcy51bml0ID0gdW5pdCB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSA/IFwiXCIgOiBcInB4XCIgKTtcblx0fSxcblx0Y3VyOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaG9va3MgPSBUd2Vlbi5wcm9wSG9va3NbIHRoaXMucHJvcCBdO1xuXG5cdFx0cmV0dXJuIGhvb2tzICYmIGhvb2tzLmdldCA/XG5cdFx0XHRob29rcy5nZXQoIHRoaXMgKSA6XG5cdFx0XHRUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KCB0aGlzICk7XG5cdH0sXG5cdHJ1bjogZnVuY3Rpb24oIHBlcmNlbnQgKSB7XG5cdFx0dmFyIGVhc2VkLFxuXHRcdFx0aG9va3MgPSBUd2Vlbi5wcm9wSG9va3NbIHRoaXMucHJvcCBdO1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gKSB7XG5cdFx0XHR0aGlzLnBvcyA9IGVhc2VkID0galF1ZXJ5LmVhc2luZ1sgdGhpcy5lYXNpbmcgXShcblx0XHRcdFx0cGVyY2VudCwgdGhpcy5vcHRpb25zLmR1cmF0aW9uICogcGVyY2VudCwgMCwgMSwgdGhpcy5vcHRpb25zLmR1cmF0aW9uXG5cdFx0XHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnBvcyA9IGVhc2VkID0gcGVyY2VudDtcblx0XHR9XG5cdFx0dGhpcy5ub3cgPSAoIHRoaXMuZW5kIC0gdGhpcy5zdGFydCApICogZWFzZWQgKyB0aGlzLnN0YXJ0O1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuc3RlcCApIHtcblx0XHRcdHRoaXMub3B0aW9ucy5zdGVwLmNhbGwoIHRoaXMuZWxlbSwgdGhpcy5ub3csIHRoaXMgKTtcblx0XHR9XG5cblx0XHRpZiAoIGhvb2tzICYmIGhvb2tzLnNldCApIHtcblx0XHRcdGhvb2tzLnNldCggdGhpcyApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KCB0aGlzICk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG59O1xuXG5Ud2Vlbi5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGUgPSBUd2Vlbi5wcm90b3R5cGU7XG5cblR3ZWVuLnByb3BIb29rcyA9IHtcblx0X2RlZmF1bHQ6IHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcblx0XHRcdHZhciByZXN1bHQ7XG5cblx0XHRcdC8vIFVzZSBhIHByb3BlcnR5IG9uIHRoZSBlbGVtZW50IGRpcmVjdGx5IHdoZW4gaXQgaXMgbm90IGEgRE9NIGVsZW1lbnQsXG5cdFx0XHQvLyBvciB3aGVuIHRoZXJlIGlzIG5vIG1hdGNoaW5nIHN0eWxlIHByb3BlcnR5IHRoYXQgZXhpc3RzLlxuXHRcdFx0aWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlICE9PSAxIHx8XG5cdFx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSAhPSBudWxsICYmIHR3ZWVuLmVsZW0uc3R5bGVbIHR3ZWVuLnByb3AgXSA9PSBudWxsICkge1xuXHRcdFx0XHRyZXR1cm4gdHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBQYXNzaW5nIGFuIGVtcHR5IHN0cmluZyBhcyBhIDNyZCBwYXJhbWV0ZXIgdG8gLmNzcyB3aWxsIGF1dG9tYXRpY2FsbHlcblx0XHRcdC8vIGF0dGVtcHQgYSBwYXJzZUZsb2F0IGFuZCBmYWxsYmFjayB0byBhIHN0cmluZyBpZiB0aGUgcGFyc2UgZmFpbHMuXG5cdFx0XHQvLyBTaW1wbGUgdmFsdWVzIHN1Y2ggYXMgXCIxMHB4XCIgYXJlIHBhcnNlZCB0byBGbG9hdDtcblx0XHRcdC8vIGNvbXBsZXggdmFsdWVzIHN1Y2ggYXMgXCJyb3RhdGUoMXJhZClcIiBhcmUgcmV0dXJuZWQgYXMtaXMuXG5cdFx0XHRyZXN1bHQgPSBqUXVlcnkuY3NzKCB0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCBcIlwiICk7XG5cblx0XHRcdC8vIEVtcHR5IHN0cmluZ3MsIG51bGwsIHVuZGVmaW5lZCBhbmQgXCJhdXRvXCIgYXJlIGNvbnZlcnRlZCB0byAwLlxuXHRcdFx0cmV0dXJuICFyZXN1bHQgfHwgcmVzdWx0ID09PSBcImF1dG9cIiA/IDAgOiByZXN1bHQ7XG5cdFx0fSxcblx0XHRzZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcblxuXHRcdFx0Ly8gVXNlIHN0ZXAgaG9vayBmb3IgYmFjayBjb21wYXQuXG5cdFx0XHQvLyBVc2UgY3NzSG9vayBpZiBpdHMgdGhlcmUuXG5cdFx0XHQvLyBVc2UgLnN0eWxlIGlmIGF2YWlsYWJsZSBhbmQgdXNlIHBsYWluIHByb3BlcnRpZXMgd2hlcmUgYXZhaWxhYmxlLlxuXHRcdFx0aWYgKCBqUXVlcnkuZnguc3RlcFsgdHdlZW4ucHJvcCBdICkge1xuXHRcdFx0XHRqUXVlcnkuZnguc3RlcFsgdHdlZW4ucHJvcCBdKCB0d2VlbiApO1xuXHRcdFx0fSBlbHNlIGlmICggdHdlZW4uZWxlbS5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0XHQoIHR3ZWVuLmVsZW0uc3R5bGVbIGpRdWVyeS5jc3NQcm9wc1sgdHdlZW4ucHJvcCBdIF0gIT0gbnVsbCB8fFxuXHRcdFx0XHRcdGpRdWVyeS5jc3NIb29rc1sgdHdlZW4ucHJvcCBdICkgKSB7XG5cdFx0XHRcdGpRdWVyeS5zdHlsZSggdHdlZW4uZWxlbSwgdHdlZW4ucHJvcCwgdHdlZW4ubm93ICsgdHdlZW4udW5pdCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdID0gdHdlZW4ubm93O1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufTtcblxuLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbi8vIFBhbmljIGJhc2VkIGFwcHJvYWNoIHRvIHNldHRpbmcgdGhpbmdzIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xuVHdlZW4ucHJvcEhvb2tzLnNjcm9sbFRvcCA9IFR3ZWVuLnByb3BIb29rcy5zY3JvbGxMZWZ0ID0ge1xuXHRzZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcblx0XHRpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgJiYgdHdlZW4uZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0dHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdID0gdHdlZW4ubm93O1xuXHRcdH1cblx0fVxufTtcblxualF1ZXJ5LmVhc2luZyA9IHtcblx0bGluZWFyOiBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gcDtcblx0fSxcblx0c3dpbmc6IGZ1bmN0aW9uKCBwICkge1xuXHRcdHJldHVybiAwLjUgLSBNYXRoLmNvcyggcCAqIE1hdGguUEkgKSAvIDI7XG5cdH0sXG5cdF9kZWZhdWx0OiBcInN3aW5nXCJcbn07XG5cbmpRdWVyeS5meCA9IFR3ZWVuLnByb3RvdHlwZS5pbml0O1xuXG4vLyBCYWNrIGNvbXBhdCA8MS44IGV4dGVuc2lvbiBwb2ludFxualF1ZXJ5LmZ4LnN0ZXAgPSB7fTtcblxuXG5cblxudmFyXG5cdGZ4Tm93LCB0aW1lcklkLFxuXHRyZnh0eXBlcyA9IC9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxcblx0cnJ1biA9IC9xdWV1ZUhvb2tzJC87XG5cbmZ1bmN0aW9uIHJhZigpIHtcblx0aWYgKCB0aW1lcklkICkge1xuXHRcdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoIHJhZiApO1xuXHRcdGpRdWVyeS5meC50aWNrKCk7XG5cdH1cbn1cblxuLy8gQW5pbWF0aW9ucyBjcmVhdGVkIHN5bmNocm9ub3VzbHkgd2lsbCBydW4gc3luY2hyb25vdXNseVxuZnVuY3Rpb24gY3JlYXRlRnhOb3coKSB7XG5cdHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRmeE5vdyA9IHVuZGVmaW5lZDtcblx0fSApO1xuXHRyZXR1cm4gKCBmeE5vdyA9IGpRdWVyeS5ub3coKSApO1xufVxuXG4vLyBHZW5lcmF0ZSBwYXJhbWV0ZXJzIHRvIGNyZWF0ZSBhIHN0YW5kYXJkIGFuaW1hdGlvblxuZnVuY3Rpb24gZ2VuRngoIHR5cGUsIGluY2x1ZGVXaWR0aCApIHtcblx0dmFyIHdoaWNoLFxuXHRcdGkgPSAwLFxuXHRcdGF0dHJzID0geyBoZWlnaHQ6IHR5cGUgfTtcblxuXHQvLyBJZiB3ZSBpbmNsdWRlIHdpZHRoLCBzdGVwIHZhbHVlIGlzIDEgdG8gZG8gYWxsIGNzc0V4cGFuZCB2YWx1ZXMsXG5cdC8vIG90aGVyd2lzZSBzdGVwIHZhbHVlIGlzIDIgdG8gc2tpcCBvdmVyIExlZnQgYW5kIFJpZ2h0XG5cdGluY2x1ZGVXaWR0aCA9IGluY2x1ZGVXaWR0aCA/IDEgOiAwO1xuXHRmb3IgKCA7IGkgPCA0OyBpICs9IDIgLSBpbmNsdWRlV2lkdGggKSB7XG5cdFx0d2hpY2ggPSBjc3NFeHBhbmRbIGkgXTtcblx0XHRhdHRyc1sgXCJtYXJnaW5cIiArIHdoaWNoIF0gPSBhdHRyc1sgXCJwYWRkaW5nXCIgKyB3aGljaCBdID0gdHlwZTtcblx0fVxuXG5cdGlmICggaW5jbHVkZVdpZHRoICkge1xuXHRcdGF0dHJzLm9wYWNpdHkgPSBhdHRycy53aWR0aCA9IHR5cGU7XG5cdH1cblxuXHRyZXR1cm4gYXR0cnM7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVR3ZWVuKCB2YWx1ZSwgcHJvcCwgYW5pbWF0aW9uICkge1xuXHR2YXIgdHdlZW4sXG5cdFx0Y29sbGVjdGlvbiA9ICggQW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0gfHwgW10gKS5jb25jYXQoIEFuaW1hdGlvbi50d2VlbmVyc1sgXCIqXCIgXSApLFxuXHRcdGluZGV4ID0gMCxcblx0XHRsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcblx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRpZiAoICggdHdlZW4gPSBjb2xsZWN0aW9uWyBpbmRleCBdLmNhbGwoIGFuaW1hdGlvbiwgcHJvcCwgdmFsdWUgKSApICkge1xuXG5cdFx0XHQvLyBXZSdyZSBkb25lIHdpdGggdGhpcyBwcm9wZXJ0eVxuXHRcdFx0cmV0dXJuIHR3ZWVuO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBkZWZhdWx0UHJlZmlsdGVyKCBlbGVtLCBwcm9wcywgb3B0cyApIHtcblx0dmFyIHByb3AsIHZhbHVlLCB0b2dnbGUsIGhvb2tzLCBvbGRmaXJlLCBwcm9wVHdlZW4sIHJlc3RvcmVEaXNwbGF5LCBkaXNwbGF5LFxuXHRcdGlzQm94ID0gXCJ3aWR0aFwiIGluIHByb3BzIHx8IFwiaGVpZ2h0XCIgaW4gcHJvcHMsXG5cdFx0YW5pbSA9IHRoaXMsXG5cdFx0b3JpZyA9IHt9LFxuXHRcdHN0eWxlID0gZWxlbS5zdHlsZSxcblx0XHRoaWRkZW4gPSBlbGVtLm5vZGVUeXBlICYmIGlzSGlkZGVuV2l0aGluVHJlZSggZWxlbSApLFxuXHRcdGRhdGFTaG93ID0gZGF0YVByaXYuZ2V0KCBlbGVtLCBcImZ4c2hvd1wiICk7XG5cblx0Ly8gUXVldWUtc2tpcHBpbmcgYW5pbWF0aW9ucyBoaWphY2sgdGhlIGZ4IGhvb2tzXG5cdGlmICggIW9wdHMucXVldWUgKSB7XG5cdFx0aG9va3MgPSBqUXVlcnkuX3F1ZXVlSG9va3MoIGVsZW0sIFwiZnhcIiApO1xuXHRcdGlmICggaG9va3MudW5xdWV1ZWQgPT0gbnVsbCApIHtcblx0XHRcdGhvb2tzLnVucXVldWVkID0gMDtcblx0XHRcdG9sZGZpcmUgPSBob29rcy5lbXB0eS5maXJlO1xuXHRcdFx0aG9va3MuZW1wdHkuZmlyZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoICFob29rcy51bnF1ZXVlZCApIHtcblx0XHRcdFx0XHRvbGRmaXJlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fVxuXHRcdGhvb2tzLnVucXVldWVkKys7XG5cblx0XHRhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIEVuc3VyZSB0aGUgY29tcGxldGUgaGFuZGxlciBpcyBjYWxsZWQgYmVmb3JlIHRoaXMgY29tcGxldGVzXG5cdFx0XHRhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGhvb2tzLnVucXVldWVkLS07XG5cdFx0XHRcdGlmICggIWpRdWVyeS5xdWV1ZSggZWxlbSwgXCJmeFwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRcdGhvb2tzLmVtcHR5LmZpcmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH0gKTtcblx0fVxuXG5cdC8vIERldGVjdCBzaG93L2hpZGUgYW5pbWF0aW9uc1xuXHRmb3IgKCBwcm9wIGluIHByb3BzICkge1xuXHRcdHZhbHVlID0gcHJvcHNbIHByb3AgXTtcblx0XHRpZiAoIHJmeHR5cGVzLnRlc3QoIHZhbHVlICkgKSB7XG5cdFx0XHRkZWxldGUgcHJvcHNbIHByb3AgXTtcblx0XHRcdHRvZ2dsZSA9IHRvZ2dsZSB8fCB2YWx1ZSA9PT0gXCJ0b2dnbGVcIjtcblx0XHRcdGlmICggdmFsdWUgPT09ICggaGlkZGVuID8gXCJoaWRlXCIgOiBcInNob3dcIiApICkge1xuXG5cdFx0XHRcdC8vIFByZXRlbmQgdG8gYmUgaGlkZGVuIGlmIHRoaXMgaXMgYSBcInNob3dcIiBhbmRcblx0XHRcdFx0Ly8gdGhlcmUgaXMgc3RpbGwgZGF0YSBmcm9tIGEgc3RvcHBlZCBzaG93L2hpZGVcblx0XHRcdFx0aWYgKCB2YWx1ZSA9PT0gXCJzaG93XCIgJiYgZGF0YVNob3cgJiYgZGF0YVNob3dbIHByb3AgXSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdGhpZGRlbiA9IHRydWU7XG5cblx0XHRcdFx0Ly8gSWdub3JlIGFsbCBvdGhlciBuby1vcCBzaG93L2hpZGUgZGF0YVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRvcmlnWyBwcm9wIF0gPSBkYXRhU2hvdyAmJiBkYXRhU2hvd1sgcHJvcCBdIHx8IGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCApO1xuXHRcdH1cblx0fVxuXG5cdC8vIEJhaWwgb3V0IGlmIHRoaXMgaXMgYSBuby1vcCBsaWtlIC5oaWRlKCkuaGlkZSgpXG5cdHByb3BUd2VlbiA9ICFqUXVlcnkuaXNFbXB0eU9iamVjdCggcHJvcHMgKTtcblx0aWYgKCAhcHJvcFR3ZWVuICYmIGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBvcmlnICkgKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gUmVzdHJpY3QgXCJvdmVyZmxvd1wiIGFuZCBcImRpc3BsYXlcIiBzdHlsZXMgZHVyaW5nIGJveCBhbmltYXRpb25zXG5cdGlmICggaXNCb3ggJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExLCBFZGdlIDEyIC0gMTNcblx0XHQvLyBSZWNvcmQgYWxsIDMgb3ZlcmZsb3cgYXR0cmlidXRlcyBiZWNhdXNlIElFIGRvZXMgbm90IGluZmVyIHRoZSBzaG9ydGhhbmRcblx0XHQvLyBmcm9tIGlkZW50aWNhbGx5LXZhbHVlZCBvdmVyZmxvd1ggYW5kIG92ZXJmbG93WVxuXHRcdG9wdHMub3ZlcmZsb3cgPSBbIHN0eWxlLm92ZXJmbG93LCBzdHlsZS5vdmVyZmxvd1gsIHN0eWxlLm92ZXJmbG93WSBdO1xuXG5cdFx0Ly8gSWRlbnRpZnkgYSBkaXNwbGF5IHR5cGUsIHByZWZlcnJpbmcgb2xkIHNob3cvaGlkZSBkYXRhIG92ZXIgdGhlIENTUyBjYXNjYWRlXG5cdFx0cmVzdG9yZURpc3BsYXkgPSBkYXRhU2hvdyAmJiBkYXRhU2hvdy5kaXNwbGF5O1xuXHRcdGlmICggcmVzdG9yZURpc3BsYXkgPT0gbnVsbCApIHtcblx0XHRcdHJlc3RvcmVEaXNwbGF5ID0gZGF0YVByaXYuZ2V0KCBlbGVtLCBcImRpc3BsYXlcIiApO1xuXHRcdH1cblx0XHRkaXNwbGF5ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKTtcblx0XHRpZiAoIGRpc3BsYXkgPT09IFwibm9uZVwiICkge1xuXHRcdFx0aWYgKCByZXN0b3JlRGlzcGxheSApIHtcblx0XHRcdFx0ZGlzcGxheSA9IHJlc3RvcmVEaXNwbGF5O1xuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQvLyBHZXQgbm9uZW1wdHkgdmFsdWUocykgYnkgdGVtcG9yYXJpbHkgZm9yY2luZyB2aXNpYmlsaXR5XG5cdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSwgdHJ1ZSApO1xuXHRcdFx0XHRyZXN0b3JlRGlzcGxheSA9IGVsZW0uc3R5bGUuZGlzcGxheSB8fCByZXN0b3JlRGlzcGxheTtcblx0XHRcdFx0ZGlzcGxheSA9IGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICk7XG5cdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEFuaW1hdGUgaW5saW5lIGVsZW1lbnRzIGFzIGlubGluZS1ibG9ja1xuXHRcdGlmICggZGlzcGxheSA9PT0gXCJpbmxpbmVcIiB8fCBkaXNwbGF5ID09PSBcImlubGluZS1ibG9ja1wiICYmIHJlc3RvcmVEaXNwbGF5ICE9IG51bGwgKSB7XG5cdFx0XHRpZiAoIGpRdWVyeS5jc3MoIGVsZW0sIFwiZmxvYXRcIiApID09PSBcIm5vbmVcIiApIHtcblxuXHRcdFx0XHQvLyBSZXN0b3JlIHRoZSBvcmlnaW5hbCBkaXNwbGF5IHZhbHVlIGF0IHRoZSBlbmQgb2YgcHVyZSBzaG93L2hpZGUgYW5pbWF0aW9uc1xuXHRcdFx0XHRpZiAoICFwcm9wVHdlZW4gKSB7XG5cdFx0XHRcdFx0YW5pbS5kb25lKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHN0eWxlLmRpc3BsYXkgPSByZXN0b3JlRGlzcGxheTtcblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0aWYgKCByZXN0b3JlRGlzcGxheSA9PSBudWxsICkge1xuXHRcdFx0XHRcdFx0ZGlzcGxheSA9IHN0eWxlLmRpc3BsYXk7XG5cdFx0XHRcdFx0XHRyZXN0b3JlRGlzcGxheSA9IGRpc3BsYXkgPT09IFwibm9uZVwiID8gXCJcIiA6IGRpc3BsYXk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmICggb3B0cy5vdmVyZmxvdyApIHtcblx0XHRzdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG5cdFx0YW5pbS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXHRcdFx0c3R5bGUub3ZlcmZsb3cgPSBvcHRzLm92ZXJmbG93WyAwIF07XG5cdFx0XHRzdHlsZS5vdmVyZmxvd1ggPSBvcHRzLm92ZXJmbG93WyAxIF07XG5cdFx0XHRzdHlsZS5vdmVyZmxvd1kgPSBvcHRzLm92ZXJmbG93WyAyIF07XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gSW1wbGVtZW50IHNob3cvaGlkZSBhbmltYXRpb25zXG5cdHByb3BUd2VlbiA9IGZhbHNlO1xuXHRmb3IgKCBwcm9wIGluIG9yaWcgKSB7XG5cblx0XHQvLyBHZW5lcmFsIHNob3cvaGlkZSBzZXR1cCBmb3IgdGhpcyBlbGVtZW50IGFuaW1hdGlvblxuXHRcdGlmICggIXByb3BUd2VlbiApIHtcblx0XHRcdGlmICggZGF0YVNob3cgKSB7XG5cdFx0XHRcdGlmICggXCJoaWRkZW5cIiBpbiBkYXRhU2hvdyApIHtcblx0XHRcdFx0XHRoaWRkZW4gPSBkYXRhU2hvdy5oaWRkZW47XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRhdGFTaG93ID0gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBcImZ4c2hvd1wiLCB7IGRpc3BsYXk6IHJlc3RvcmVEaXNwbGF5IH0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3RvcmUgaGlkZGVuL3Zpc2libGUgZm9yIHRvZ2dsZSBzbyBgLnN0b3AoKS50b2dnbGUoKWAgXCJyZXZlcnNlc1wiXG5cdFx0XHRpZiAoIHRvZ2dsZSApIHtcblx0XHRcdFx0ZGF0YVNob3cuaGlkZGVuID0gIWhpZGRlbjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2hvdyBlbGVtZW50cyBiZWZvcmUgYW5pbWF0aW5nIHRoZW1cblx0XHRcdGlmICggaGlkZGVuICkge1xuXHRcdFx0XHRzaG93SGlkZSggWyBlbGVtIF0sIHRydWUgKTtcblx0XHRcdH1cblxuXHRcdFx0LyogZXNsaW50LWRpc2FibGUgbm8tbG9vcC1mdW5jICovXG5cblx0XHRcdGFuaW0uZG9uZSggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8qIGVzbGludC1lbmFibGUgbm8tbG9vcC1mdW5jICovXG5cblx0XHRcdFx0Ly8gVGhlIGZpbmFsIHN0ZXAgb2YgYSBcImhpZGVcIiBhbmltYXRpb24gaXMgYWN0dWFsbHkgaGlkaW5nIHRoZSBlbGVtZW50XG5cdFx0XHRcdGlmICggIWhpZGRlbiApIHtcblx0XHRcdFx0XHRzaG93SGlkZSggWyBlbGVtIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIFwiZnhzaG93XCIgKTtcblx0XHRcdFx0Zm9yICggcHJvcCBpbiBvcmlnICkge1xuXHRcdFx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCwgb3JpZ1sgcHJvcCBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHQvLyBQZXItcHJvcGVydHkgc2V0dXBcblx0XHRwcm9wVHdlZW4gPSBjcmVhdGVUd2VlbiggaGlkZGVuID8gZGF0YVNob3dbIHByb3AgXSA6IDAsIHByb3AsIGFuaW0gKTtcblx0XHRpZiAoICEoIHByb3AgaW4gZGF0YVNob3cgKSApIHtcblx0XHRcdGRhdGFTaG93WyBwcm9wIF0gPSBwcm9wVHdlZW4uc3RhcnQ7XG5cdFx0XHRpZiAoIGhpZGRlbiApIHtcblx0XHRcdFx0cHJvcFR3ZWVuLmVuZCA9IHByb3BUd2Vlbi5zdGFydDtcblx0XHRcdFx0cHJvcFR3ZWVuLnN0YXJ0ID0gMDtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gcHJvcEZpbHRlciggcHJvcHMsIHNwZWNpYWxFYXNpbmcgKSB7XG5cdHZhciBpbmRleCwgbmFtZSwgZWFzaW5nLCB2YWx1ZSwgaG9va3M7XG5cblx0Ly8gY2FtZWxDYXNlLCBzcGVjaWFsRWFzaW5nIGFuZCBleHBhbmQgY3NzSG9vayBwYXNzXG5cdGZvciAoIGluZGV4IGluIHByb3BzICkge1xuXHRcdG5hbWUgPSBqUXVlcnkuY2FtZWxDYXNlKCBpbmRleCApO1xuXHRcdGVhc2luZyA9IHNwZWNpYWxFYXNpbmdbIG5hbWUgXTtcblx0XHR2YWx1ZSA9IHByb3BzWyBpbmRleCBdO1xuXHRcdGlmICggalF1ZXJ5LmlzQXJyYXkoIHZhbHVlICkgKSB7XG5cdFx0XHRlYXNpbmcgPSB2YWx1ZVsgMSBdO1xuXHRcdFx0dmFsdWUgPSBwcm9wc1sgaW5kZXggXSA9IHZhbHVlWyAwIF07XG5cdFx0fVxuXG5cdFx0aWYgKCBpbmRleCAhPT0gbmFtZSApIHtcblx0XHRcdHByb3BzWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdGRlbGV0ZSBwcm9wc1sgaW5kZXggXTtcblx0XHR9XG5cblx0XHRob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdO1xuXHRcdGlmICggaG9va3MgJiYgXCJleHBhbmRcIiBpbiBob29rcyApIHtcblx0XHRcdHZhbHVlID0gaG9va3MuZXhwYW5kKCB2YWx1ZSApO1xuXHRcdFx0ZGVsZXRlIHByb3BzWyBuYW1lIF07XG5cblx0XHRcdC8vIE5vdCBxdWl0ZSAkLmV4dGVuZCwgdGhpcyB3b24ndCBvdmVyd3JpdGUgZXhpc3Rpbmcga2V5cy5cblx0XHRcdC8vIFJldXNpbmcgJ2luZGV4JyBiZWNhdXNlIHdlIGhhdmUgdGhlIGNvcnJlY3QgXCJuYW1lXCJcblx0XHRcdGZvciAoIGluZGV4IGluIHZhbHVlICkge1xuXHRcdFx0XHRpZiAoICEoIGluZGV4IGluIHByb3BzICkgKSB7XG5cdFx0XHRcdFx0cHJvcHNbIGluZGV4IF0gPSB2YWx1ZVsgaW5kZXggXTtcblx0XHRcdFx0XHRzcGVjaWFsRWFzaW5nWyBpbmRleCBdID0gZWFzaW5nO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNwZWNpYWxFYXNpbmdbIG5hbWUgXSA9IGVhc2luZztcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gQW5pbWF0aW9uKCBlbGVtLCBwcm9wZXJ0aWVzLCBvcHRpb25zICkge1xuXHR2YXIgcmVzdWx0LFxuXHRcdHN0b3BwZWQsXG5cdFx0aW5kZXggPSAwLFxuXHRcdGxlbmd0aCA9IEFuaW1hdGlvbi5wcmVmaWx0ZXJzLmxlbmd0aCxcblx0XHRkZWZlcnJlZCA9IGpRdWVyeS5EZWZlcnJlZCgpLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIERvbid0IG1hdGNoIGVsZW0gaW4gdGhlIDphbmltYXRlZCBzZWxlY3RvclxuXHRcdFx0ZGVsZXRlIHRpY2suZWxlbTtcblx0XHR9ICksXG5cdFx0dGljayA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBzdG9wcGVkICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHR2YXIgY3VycmVudFRpbWUgPSBmeE5vdyB8fCBjcmVhdGVGeE5vdygpLFxuXHRcdFx0XHRyZW1haW5pbmcgPSBNYXRoLm1heCggMCwgYW5pbWF0aW9uLnN0YXJ0VGltZSArIGFuaW1hdGlvbi5kdXJhdGlvbiAtIGN1cnJlbnRUaW1lICksXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCAyLjMgb25seVxuXHRcdFx0XHQvLyBBcmNoYWljIGNyYXNoIGJ1ZyB3b24ndCBhbGxvdyB1cyB0byB1c2UgYDEgLSAoIDAuNSB8fCAwIClgICgjMTI0OTcpXG5cdFx0XHRcdHRlbXAgPSByZW1haW5pbmcgLyBhbmltYXRpb24uZHVyYXRpb24gfHwgMCxcblx0XHRcdFx0cGVyY2VudCA9IDEgLSB0ZW1wLFxuXHRcdFx0XHRpbmRleCA9IDAsXG5cdFx0XHRcdGxlbmd0aCA9IGFuaW1hdGlvbi50d2VlbnMubGVuZ3RoO1xuXG5cdFx0XHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0XHRhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggcGVyY2VudCApO1xuXHRcdFx0fVxuXG5cdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgcGVyY2VudCwgcmVtYWluaW5nIF0gKTtcblxuXHRcdFx0aWYgKCBwZXJjZW50IDwgMSAmJiBsZW5ndGggKSB7XG5cdFx0XHRcdHJldHVybiByZW1haW5pbmc7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggZWxlbSwgWyBhbmltYXRpb24gXSApO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRhbmltYXRpb24gPSBkZWZlcnJlZC5wcm9taXNlKCB7XG5cdFx0XHRlbGVtOiBlbGVtLFxuXHRcdFx0cHJvcHM6IGpRdWVyeS5leHRlbmQoIHt9LCBwcm9wZXJ0aWVzICksXG5cdFx0XHRvcHRzOiBqUXVlcnkuZXh0ZW5kKCB0cnVlLCB7XG5cdFx0XHRcdHNwZWNpYWxFYXNpbmc6IHt9LFxuXHRcdFx0XHRlYXNpbmc6IGpRdWVyeS5lYXNpbmcuX2RlZmF1bHRcblx0XHRcdH0sIG9wdGlvbnMgKSxcblx0XHRcdG9yaWdpbmFsUHJvcGVydGllczogcHJvcGVydGllcyxcblx0XHRcdG9yaWdpbmFsT3B0aW9uczogb3B0aW9ucyxcblx0XHRcdHN0YXJ0VGltZTogZnhOb3cgfHwgY3JlYXRlRnhOb3coKSxcblx0XHRcdGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuXHRcdFx0dHdlZW5zOiBbXSxcblx0XHRcdGNyZWF0ZVR3ZWVuOiBmdW5jdGlvbiggcHJvcCwgZW5kICkge1xuXHRcdFx0XHR2YXIgdHdlZW4gPSBqUXVlcnkuVHdlZW4oIGVsZW0sIGFuaW1hdGlvbi5vcHRzLCBwcm9wLCBlbmQsXG5cdFx0XHRcdFx0XHRhbmltYXRpb24ub3B0cy5zcGVjaWFsRWFzaW5nWyBwcm9wIF0gfHwgYW5pbWF0aW9uLm9wdHMuZWFzaW5nICk7XG5cdFx0XHRcdGFuaW1hdGlvbi50d2VlbnMucHVzaCggdHdlZW4gKTtcblx0XHRcdFx0cmV0dXJuIHR3ZWVuO1xuXHRcdFx0fSxcblx0XHRcdHN0b3A6IGZ1bmN0aW9uKCBnb3RvRW5kICkge1xuXHRcdFx0XHR2YXIgaW5kZXggPSAwLFxuXG5cdFx0XHRcdFx0Ly8gSWYgd2UgYXJlIGdvaW5nIHRvIHRoZSBlbmQsIHdlIHdhbnQgdG8gcnVuIGFsbCB0aGUgdHdlZW5zXG5cdFx0XHRcdFx0Ly8gb3RoZXJ3aXNlIHdlIHNraXAgdGhpcyBwYXJ0XG5cdFx0XHRcdFx0bGVuZ3RoID0gZ290b0VuZCA/IGFuaW1hdGlvbi50d2VlbnMubGVuZ3RoIDogMDtcblx0XHRcdFx0aWYgKCBzdG9wcGVkICkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHN0b3BwZWQgPSB0cnVlO1xuXHRcdFx0XHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0XHRcdGFuaW1hdGlvbi50d2VlbnNbIGluZGV4IF0ucnVuKCAxICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZXNvbHZlIHdoZW4gd2UgcGxheWVkIHRoZSBsYXN0IGZyYW1lOyBvdGhlcndpc2UsIHJlamVjdFxuXHRcdFx0XHRpZiAoIGdvdG9FbmQgKSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQubm90aWZ5V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIDEsIDAgXSApO1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgZ290b0VuZCBdICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIGdvdG9FbmQgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fVxuXHRcdH0gKSxcblx0XHRwcm9wcyA9IGFuaW1hdGlvbi5wcm9wcztcblxuXHRwcm9wRmlsdGVyKCBwcm9wcywgYW5pbWF0aW9uLm9wdHMuc3BlY2lhbEVhc2luZyApO1xuXG5cdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0cmVzdWx0ID0gQW5pbWF0aW9uLnByZWZpbHRlcnNbIGluZGV4IF0uY2FsbCggYW5pbWF0aW9uLCBlbGVtLCBwcm9wcywgYW5pbWF0aW9uLm9wdHMgKTtcblx0XHRpZiAoIHJlc3VsdCApIHtcblx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHJlc3VsdC5zdG9wICkgKSB7XG5cdFx0XHRcdGpRdWVyeS5fcXVldWVIb29rcyggYW5pbWF0aW9uLmVsZW0sIGFuaW1hdGlvbi5vcHRzLnF1ZXVlICkuc3RvcCA9XG5cdFx0XHRcdFx0alF1ZXJ5LnByb3h5KCByZXN1bHQuc3RvcCwgcmVzdWx0ICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblx0fVxuXG5cdGpRdWVyeS5tYXAoIHByb3BzLCBjcmVhdGVUd2VlbiwgYW5pbWF0aW9uICk7XG5cblx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggYW5pbWF0aW9uLm9wdHMuc3RhcnQgKSApIHtcblx0XHRhbmltYXRpb24ub3B0cy5zdGFydC5jYWxsKCBlbGVtLCBhbmltYXRpb24gKTtcblx0fVxuXG5cdGpRdWVyeS5meC50aW1lcihcblx0XHRqUXVlcnkuZXh0ZW5kKCB0aWNrLCB7XG5cdFx0XHRlbGVtOiBlbGVtLFxuXHRcdFx0YW5pbTogYW5pbWF0aW9uLFxuXHRcdFx0cXVldWU6IGFuaW1hdGlvbi5vcHRzLnF1ZXVlXG5cdFx0fSApXG5cdCk7XG5cblx0Ly8gYXR0YWNoIGNhbGxiYWNrcyBmcm9tIG9wdGlvbnNcblx0cmV0dXJuIGFuaW1hdGlvbi5wcm9ncmVzcyggYW5pbWF0aW9uLm9wdHMucHJvZ3Jlc3MgKVxuXHRcdC5kb25lKCBhbmltYXRpb24ub3B0cy5kb25lLCBhbmltYXRpb24ub3B0cy5jb21wbGV0ZSApXG5cdFx0LmZhaWwoIGFuaW1hdGlvbi5vcHRzLmZhaWwgKVxuXHRcdC5hbHdheXMoIGFuaW1hdGlvbi5vcHRzLmFsd2F5cyApO1xufVxuXG5qUXVlcnkuQW5pbWF0aW9uID0galF1ZXJ5LmV4dGVuZCggQW5pbWF0aW9uLCB7XG5cblx0dHdlZW5lcnM6IHtcblx0XHRcIipcIjogWyBmdW5jdGlvbiggcHJvcCwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgdHdlZW4gPSB0aGlzLmNyZWF0ZVR3ZWVuKCBwcm9wLCB2YWx1ZSApO1xuXHRcdFx0YWRqdXN0Q1NTKCB0d2Vlbi5lbGVtLCBwcm9wLCByY3NzTnVtLmV4ZWMoIHZhbHVlICksIHR3ZWVuICk7XG5cdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0fSBdXG5cdH0sXG5cblx0dHdlZW5lcjogZnVuY3Rpb24oIHByb3BzLCBjYWxsYmFjayApIHtcblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBwcm9wcyApICkge1xuXHRcdFx0Y2FsbGJhY2sgPSBwcm9wcztcblx0XHRcdHByb3BzID0gWyBcIipcIiBdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwcm9wcyA9IHByb3BzLm1hdGNoKCBybm90d2hpdGUgKTtcblx0XHR9XG5cblx0XHR2YXIgcHJvcCxcblx0XHRcdGluZGV4ID0gMCxcblx0XHRcdGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuXHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRwcm9wID0gcHJvcHNbIGluZGV4IF07XG5cdFx0XHRBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSA9IEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdIHx8IFtdO1xuXHRcdFx0QW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0udW5zaGlmdCggY2FsbGJhY2sgKTtcblx0XHR9XG5cdH0sXG5cblx0cHJlZmlsdGVyczogWyBkZWZhdWx0UHJlZmlsdGVyIF0sXG5cblx0cHJlZmlsdGVyOiBmdW5jdGlvbiggY2FsbGJhY2ssIHByZXBlbmQgKSB7XG5cdFx0aWYgKCBwcmVwZW5kICkge1xuXHRcdFx0QW5pbWF0aW9uLnByZWZpbHRlcnMudW5zaGlmdCggY2FsbGJhY2sgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0QW5pbWF0aW9uLnByZWZpbHRlcnMucHVzaCggY2FsbGJhY2sgKTtcblx0XHR9XG5cdH1cbn0gKTtcblxualF1ZXJ5LnNwZWVkID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGZuICkge1xuXHR2YXIgb3B0ID0gc3BlZWQgJiYgdHlwZW9mIHNwZWVkID09PSBcIm9iamVjdFwiID8galF1ZXJ5LmV4dGVuZCgge30sIHNwZWVkICkgOiB7XG5cdFx0Y29tcGxldGU6IGZuIHx8ICFmbiAmJiBlYXNpbmcgfHxcblx0XHRcdGpRdWVyeS5pc0Z1bmN0aW9uKCBzcGVlZCApICYmIHNwZWVkLFxuXHRcdGR1cmF0aW9uOiBzcGVlZCxcblx0XHRlYXNpbmc6IGZuICYmIGVhc2luZyB8fCBlYXNpbmcgJiYgIWpRdWVyeS5pc0Z1bmN0aW9uKCBlYXNpbmcgKSAmJiBlYXNpbmdcblx0fTtcblxuXHQvLyBHbyB0byB0aGUgZW5kIHN0YXRlIGlmIGZ4IGFyZSBvZmYgb3IgaWYgZG9jdW1lbnQgaXMgaGlkZGVuXG5cdGlmICggalF1ZXJ5LmZ4Lm9mZiB8fCBkb2N1bWVudC5oaWRkZW4gKSB7XG5cdFx0b3B0LmR1cmF0aW9uID0gMDtcblxuXHR9IGVsc2Uge1xuXHRcdG9wdC5kdXJhdGlvbiA9IHR5cGVvZiBvcHQuZHVyYXRpb24gPT09IFwibnVtYmVyXCIgP1xuXHRcdFx0b3B0LmR1cmF0aW9uIDogb3B0LmR1cmF0aW9uIGluIGpRdWVyeS5meC5zcGVlZHMgP1xuXHRcdFx0XHRqUXVlcnkuZnguc3BlZWRzWyBvcHQuZHVyYXRpb24gXSA6IGpRdWVyeS5meC5zcGVlZHMuX2RlZmF1bHQ7XG5cdH1cblxuXHQvLyBOb3JtYWxpemUgb3B0LnF1ZXVlIC0gdHJ1ZS91bmRlZmluZWQvbnVsbCAtPiBcImZ4XCJcblx0aWYgKCBvcHQucXVldWUgPT0gbnVsbCB8fCBvcHQucXVldWUgPT09IHRydWUgKSB7XG5cdFx0b3B0LnF1ZXVlID0gXCJmeFwiO1xuXHR9XG5cblx0Ly8gUXVldWVpbmdcblx0b3B0Lm9sZCA9IG9wdC5jb21wbGV0ZTtcblxuXHRvcHQuY29tcGxldGUgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBvcHQub2xkICkgKSB7XG5cdFx0XHRvcHQub2xkLmNhbGwoIHRoaXMgKTtcblx0XHR9XG5cblx0XHRpZiAoIG9wdC5xdWV1ZSApIHtcblx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCBvcHQucXVldWUgKTtcblx0XHR9XG5cdH07XG5cblx0cmV0dXJuIG9wdDtcbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0ZmFkZVRvOiBmdW5jdGlvbiggc3BlZWQsIHRvLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXG5cdFx0Ly8gU2hvdyBhbnkgaGlkZGVuIGVsZW1lbnRzIGFmdGVyIHNldHRpbmcgb3BhY2l0eSB0byAwXG5cdFx0cmV0dXJuIHRoaXMuZmlsdGVyKCBpc0hpZGRlbldpdGhpblRyZWUgKS5jc3MoIFwib3BhY2l0eVwiLCAwICkuc2hvdygpXG5cblx0XHRcdC8vIEFuaW1hdGUgdG8gdGhlIHZhbHVlIHNwZWNpZmllZFxuXHRcdFx0LmVuZCgpLmFuaW1hdGUoIHsgb3BhY2l0eTogdG8gfSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0fSxcblx0YW5pbWF0ZTogZnVuY3Rpb24oIHByb3AsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdHZhciBlbXB0eSA9IGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBwcm9wICksXG5cdFx0XHRvcHRhbGwgPSBqUXVlcnkuc3BlZWQoIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICksXG5cdFx0XHRkb0FuaW1hdGlvbiA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIE9wZXJhdGUgb24gYSBjb3B5IG9mIHByb3Agc28gcGVyLXByb3BlcnR5IGVhc2luZyB3b24ndCBiZSBsb3N0XG5cdFx0XHRcdHZhciBhbmltID0gQW5pbWF0aW9uKCB0aGlzLCBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcCApLCBvcHRhbGwgKTtcblxuXHRcdFx0XHQvLyBFbXB0eSBhbmltYXRpb25zLCBvciBmaW5pc2hpbmcgcmVzb2x2ZXMgaW1tZWRpYXRlbHlcblx0XHRcdFx0aWYgKCBlbXB0eSB8fCBkYXRhUHJpdi5nZXQoIHRoaXMsIFwiZmluaXNoXCIgKSApIHtcblx0XHRcdFx0XHRhbmltLnN0b3AoIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdGRvQW5pbWF0aW9uLmZpbmlzaCA9IGRvQW5pbWF0aW9uO1xuXG5cdFx0cmV0dXJuIGVtcHR5IHx8IG9wdGFsbC5xdWV1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0dGhpcy5lYWNoKCBkb0FuaW1hdGlvbiApIDpcblx0XHRcdHRoaXMucXVldWUoIG9wdGFsbC5xdWV1ZSwgZG9BbmltYXRpb24gKTtcblx0fSxcblx0c3RvcDogZnVuY3Rpb24oIHR5cGUsIGNsZWFyUXVldWUsIGdvdG9FbmQgKSB7XG5cdFx0dmFyIHN0b3BRdWV1ZSA9IGZ1bmN0aW9uKCBob29rcyApIHtcblx0XHRcdHZhciBzdG9wID0gaG9va3Muc3RvcDtcblx0XHRcdGRlbGV0ZSBob29rcy5zdG9wO1xuXHRcdFx0c3RvcCggZ290b0VuZCApO1xuXHRcdH07XG5cblx0XHRpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0Z290b0VuZCA9IGNsZWFyUXVldWU7XG5cdFx0XHRjbGVhclF1ZXVlID0gdHlwZTtcblx0XHRcdHR5cGUgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGlmICggY2xlYXJRdWV1ZSAmJiB0eXBlICE9PSBmYWxzZSApIHtcblx0XHRcdHRoaXMucXVldWUoIHR5cGUgfHwgXCJmeFwiLCBbXSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGRlcXVldWUgPSB0cnVlLFxuXHRcdFx0XHRpbmRleCA9IHR5cGUgIT0gbnVsbCAmJiB0eXBlICsgXCJxdWV1ZUhvb2tzXCIsXG5cdFx0XHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnMsXG5cdFx0XHRcdGRhdGEgPSBkYXRhUHJpdi5nZXQoIHRoaXMgKTtcblxuXHRcdFx0aWYgKCBpbmRleCApIHtcblx0XHRcdFx0aWYgKCBkYXRhWyBpbmRleCBdICYmIGRhdGFbIGluZGV4IF0uc3RvcCApIHtcblx0XHRcdFx0XHRzdG9wUXVldWUoIGRhdGFbIGluZGV4IF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yICggaW5kZXggaW4gZGF0YSApIHtcblx0XHRcdFx0XHRpZiAoIGRhdGFbIGluZGV4IF0gJiYgZGF0YVsgaW5kZXggXS5zdG9wICYmIHJydW4udGVzdCggaW5kZXggKSApIHtcblx0XHRcdFx0XHRcdHN0b3BRdWV1ZSggZGF0YVsgaW5kZXggXSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkge1xuXHRcdFx0XHRpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmXG5cdFx0XHRcdFx0KCB0eXBlID09IG51bGwgfHwgdGltZXJzWyBpbmRleCBdLnF1ZXVlID09PSB0eXBlICkgKSB7XG5cblx0XHRcdFx0XHR0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCBnb3RvRW5kICk7XG5cdFx0XHRcdFx0ZGVxdWV1ZSA9IGZhbHNlO1xuXHRcdFx0XHRcdHRpbWVycy5zcGxpY2UoIGluZGV4LCAxICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gU3RhcnQgdGhlIG5leHQgaW4gdGhlIHF1ZXVlIGlmIHRoZSBsYXN0IHN0ZXAgd2Fzbid0IGZvcmNlZC5cblx0XHRcdC8vIFRpbWVycyBjdXJyZW50bHkgd2lsbCBjYWxsIHRoZWlyIGNvbXBsZXRlIGNhbGxiYWNrcywgd2hpY2hcblx0XHRcdC8vIHdpbGwgZGVxdWV1ZSBidXQgb25seSBpZiB0aGV5IHdlcmUgZ290b0VuZC5cblx0XHRcdGlmICggZGVxdWV1ZSB8fCAhZ290b0VuZCApIHtcblx0XHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cdGZpbmlzaDogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0aWYgKCB0eXBlICE9PSBmYWxzZSApIHtcblx0XHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgaW5kZXgsXG5cdFx0XHRcdGRhdGEgPSBkYXRhUHJpdi5nZXQoIHRoaXMgKSxcblx0XHRcdFx0cXVldWUgPSBkYXRhWyB0eXBlICsgXCJxdWV1ZVwiIF0sXG5cdFx0XHRcdGhvb2tzID0gZGF0YVsgdHlwZSArIFwicXVldWVIb29rc1wiIF0sXG5cdFx0XHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnMsXG5cdFx0XHRcdGxlbmd0aCA9IHF1ZXVlID8gcXVldWUubGVuZ3RoIDogMDtcblxuXHRcdFx0Ly8gRW5hYmxlIGZpbmlzaGluZyBmbGFnIG9uIHByaXZhdGUgZGF0YVxuXHRcdFx0ZGF0YS5maW5pc2ggPSB0cnVlO1xuXG5cdFx0XHQvLyBFbXB0eSB0aGUgcXVldWUgZmlyc3Rcblx0XHRcdGpRdWVyeS5xdWV1ZSggdGhpcywgdHlwZSwgW10gKTtcblxuXHRcdFx0aWYgKCBob29rcyAmJiBob29rcy5zdG9wICkge1xuXHRcdFx0XHRob29rcy5zdG9wLmNhbGwoIHRoaXMsIHRydWUgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTG9vayBmb3IgYW55IGFjdGl2ZSBhbmltYXRpb25zLCBhbmQgZmluaXNoIHRoZW1cblx0XHRcdGZvciAoIGluZGV4ID0gdGltZXJzLmxlbmd0aDsgaW5kZXgtLTsgKSB7XG5cdFx0XHRcdGlmICggdGltZXJzWyBpbmRleCBdLmVsZW0gPT09IHRoaXMgJiYgdGltZXJzWyBpbmRleCBdLnF1ZXVlID09PSB0eXBlICkge1xuXHRcdFx0XHRcdHRpbWVyc1sgaW5kZXggXS5hbmltLnN0b3AoIHRydWUgKTtcblx0XHRcdFx0XHR0aW1lcnMuc3BsaWNlKCBpbmRleCwgMSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIExvb2sgZm9yIGFueSBhbmltYXRpb25zIGluIHRoZSBvbGQgcXVldWUgYW5kIGZpbmlzaCB0aGVtXG5cdFx0XHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0XHRpZiAoIHF1ZXVlWyBpbmRleCBdICYmIHF1ZXVlWyBpbmRleCBdLmZpbmlzaCApIHtcblx0XHRcdFx0XHRxdWV1ZVsgaW5kZXggXS5maW5pc2guY2FsbCggdGhpcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFR1cm4gb2ZmIGZpbmlzaGluZyBmbGFnXG5cdFx0XHRkZWxldGUgZGF0YS5maW5pc2g7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5lYWNoKCBbIFwidG9nZ2xlXCIsIFwic2hvd1wiLCBcImhpZGVcIiBdLCBmdW5jdGlvbiggaSwgbmFtZSApIHtcblx0dmFyIGNzc0ZuID0galF1ZXJ5LmZuWyBuYW1lIF07XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiBzcGVlZCA9PSBudWxsIHx8IHR5cGVvZiBzcGVlZCA9PT0gXCJib29sZWFuXCIgP1xuXHRcdFx0Y3NzRm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApIDpcblx0XHRcdHRoaXMuYW5pbWF0ZSggZ2VuRngoIG5hbWUsIHRydWUgKSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0fTtcbn0gKTtcblxuLy8gR2VuZXJhdGUgc2hvcnRjdXRzIGZvciBjdXN0b20gYW5pbWF0aW9uc1xualF1ZXJ5LmVhY2goIHtcblx0c2xpZGVEb3duOiBnZW5GeCggXCJzaG93XCIgKSxcblx0c2xpZGVVcDogZ2VuRngoIFwiaGlkZVwiICksXG5cdHNsaWRlVG9nZ2xlOiBnZW5GeCggXCJ0b2dnbGVcIiApLFxuXHRmYWRlSW46IHsgb3BhY2l0eTogXCJzaG93XCIgfSxcblx0ZmFkZU91dDogeyBvcGFjaXR5OiBcImhpZGVcIiB9LFxuXHRmYWRlVG9nZ2xlOiB7IG9wYWNpdHk6IFwidG9nZ2xlXCIgfVxufSwgZnVuY3Rpb24oIG5hbWUsIHByb3BzICkge1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4gdGhpcy5hbmltYXRlKCBwcm9wcywgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0fTtcbn0gKTtcblxualF1ZXJ5LnRpbWVycyA9IFtdO1xualF1ZXJ5LmZ4LnRpY2sgPSBmdW5jdGlvbigpIHtcblx0dmFyIHRpbWVyLFxuXHRcdGkgPSAwLFxuXHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnM7XG5cblx0ZnhOb3cgPSBqUXVlcnkubm93KCk7XG5cblx0Zm9yICggOyBpIDwgdGltZXJzLmxlbmd0aDsgaSsrICkge1xuXHRcdHRpbWVyID0gdGltZXJzWyBpIF07XG5cblx0XHQvLyBDaGVja3MgdGhlIHRpbWVyIGhhcyBub3QgYWxyZWFkeSBiZWVuIHJlbW92ZWRcblx0XHRpZiAoICF0aW1lcigpICYmIHRpbWVyc1sgaSBdID09PSB0aW1lciApIHtcblx0XHRcdHRpbWVycy5zcGxpY2UoIGktLSwgMSApO1xuXHRcdH1cblx0fVxuXG5cdGlmICggIXRpbWVycy5sZW5ndGggKSB7XG5cdFx0alF1ZXJ5LmZ4LnN0b3AoKTtcblx0fVxuXHRmeE5vdyA9IHVuZGVmaW5lZDtcbn07XG5cbmpRdWVyeS5meC50aW1lciA9IGZ1bmN0aW9uKCB0aW1lciApIHtcblx0alF1ZXJ5LnRpbWVycy5wdXNoKCB0aW1lciApO1xuXHRpZiAoIHRpbWVyKCkgKSB7XG5cdFx0alF1ZXJ5LmZ4LnN0YXJ0KCk7XG5cdH0gZWxzZSB7XG5cdFx0alF1ZXJ5LnRpbWVycy5wb3AoKTtcblx0fVxufTtcblxualF1ZXJ5LmZ4LmludGVydmFsID0gMTM7XG5qUXVlcnkuZnguc3RhcnQgPSBmdW5jdGlvbigpIHtcblx0aWYgKCAhdGltZXJJZCApIHtcblx0XHR0aW1lcklkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA/XG5cdFx0XHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCByYWYgKSA6XG5cdFx0XHR3aW5kb3cuc2V0SW50ZXJ2YWwoIGpRdWVyeS5meC50aWNrLCBqUXVlcnkuZnguaW50ZXJ2YWwgKTtcblx0fVxufTtcblxualF1ZXJ5LmZ4LnN0b3AgPSBmdW5jdGlvbigpIHtcblx0aWYgKCB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgKSB7XG5cdFx0d2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKCB0aW1lcklkICk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsZWFySW50ZXJ2YWwoIHRpbWVySWQgKTtcblx0fVxuXG5cdHRpbWVySWQgPSBudWxsO1xufTtcblxualF1ZXJ5LmZ4LnNwZWVkcyA9IHtcblx0c2xvdzogNjAwLFxuXHRmYXN0OiAyMDAsXG5cblx0Ly8gRGVmYXVsdCBzcGVlZFxuXHRfZGVmYXVsdDogNDAwXG59O1xuXG5cbi8vIEJhc2VkIG9mZiBvZiB0aGUgcGx1Z2luIGJ5IENsaW50IEhlbGZlcnMsIHdpdGggcGVybWlzc2lvbi5cbi8vIGh0dHBzOi8vd2ViLmFyY2hpdmUub3JnL3dlYi8yMDEwMDMyNDAxNDc0Ny9odHRwOi8vYmxpbmRzaWduYWxzLmNvbS9pbmRleC5waHAvMjAwOS8wNy9qcXVlcnktZGVsYXkvXG5qUXVlcnkuZm4uZGVsYXkgPSBmdW5jdGlvbiggdGltZSwgdHlwZSApIHtcblx0dGltZSA9IGpRdWVyeS5meCA/IGpRdWVyeS5meC5zcGVlZHNbIHRpbWUgXSB8fCB0aW1lIDogdGltZTtcblx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXG5cdHJldHVybiB0aGlzLnF1ZXVlKCB0eXBlLCBmdW5jdGlvbiggbmV4dCwgaG9va3MgKSB7XG5cdFx0dmFyIHRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCggbmV4dCwgdGltZSApO1xuXHRcdGhvb2tzLnN0b3AgPSBmdW5jdGlvbigpIHtcblx0XHRcdHdpbmRvdy5jbGVhclRpbWVvdXQoIHRpbWVvdXQgKTtcblx0XHR9O1xuXHR9ICk7XG59O1xuXG5cbiggZnVuY3Rpb24oKSB7XG5cdHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApLFxuXHRcdHNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwic2VsZWN0XCIgKSxcblx0XHRvcHQgPSBzZWxlY3QuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwib3B0aW9uXCIgKSApO1xuXG5cdGlucHV0LnR5cGUgPSBcImNoZWNrYm94XCI7XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMyBvbmx5XG5cdC8vIERlZmF1bHQgdmFsdWUgZm9yIGEgY2hlY2tib3ggc2hvdWxkIGJlIFwib25cIlxuXHRzdXBwb3J0LmNoZWNrT24gPSBpbnB1dC52YWx1ZSAhPT0gXCJcIjtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0Ly8gTXVzdCBhY2Nlc3Mgc2VsZWN0ZWRJbmRleCB0byBtYWtlIGRlZmF1bHQgb3B0aW9ucyBzZWxlY3Rcblx0c3VwcG9ydC5vcHRTZWxlY3RlZCA9IG9wdC5zZWxlY3RlZDtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0Ly8gQW4gaW5wdXQgbG9zZXMgaXRzIHZhbHVlIGFmdGVyIGJlY29taW5nIGEgcmFkaW9cblx0aW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKTtcblx0aW5wdXQudmFsdWUgPSBcInRcIjtcblx0aW5wdXQudHlwZSA9IFwicmFkaW9cIjtcblx0c3VwcG9ydC5yYWRpb1ZhbHVlID0gaW5wdXQudmFsdWUgPT09IFwidFwiO1xufSApKCk7XG5cblxudmFyIGJvb2xIb29rLFxuXHRhdHRySGFuZGxlID0galF1ZXJ5LmV4cHIuYXR0ckhhbmRsZTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRhdHRyOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgalF1ZXJ5LmF0dHIsIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuXHR9LFxuXG5cdHJlbW92ZUF0dHI6IGZ1bmN0aW9uKCBuYW1lICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LnJlbW92ZUF0dHIoIHRoaXMsIG5hbWUgKTtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXHRhdHRyOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7XG5cdFx0dmFyIHJldCwgaG9va3MsXG5cdFx0XHRuVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cblx0XHQvLyBEb24ndCBnZXQvc2V0IGF0dHJpYnV0ZXMgb24gdGV4dCwgY29tbWVudCBhbmQgYXR0cmlidXRlIG5vZGVzXG5cdFx0aWYgKCBuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBGYWxsYmFjayB0byBwcm9wIHdoZW4gYXR0cmlidXRlcyBhcmUgbm90IHN1cHBvcnRlZFxuXHRcdGlmICggdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlID09PSBcInVuZGVmaW5lZFwiICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5wcm9wKCBlbGVtLCBuYW1lLCB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdC8vIEF0dHJpYnV0ZSBob29rcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgbG93ZXJjYXNlIHZlcnNpb25cblx0XHQvLyBHcmFiIG5lY2Vzc2FyeSBob29rIGlmIG9uZSBpcyBkZWZpbmVkXG5cdFx0aWYgKCBuVHlwZSAhPT0gMSB8fCAhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7XG5cdFx0XHRob29rcyA9IGpRdWVyeS5hdHRySG9va3NbIG5hbWUudG9Mb3dlckNhc2UoKSBdIHx8XG5cdFx0XHRcdCggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC50ZXN0KCBuYW1lICkgPyBib29sSG9vayA6IHVuZGVmaW5lZCApO1xuXHRcdH1cblxuXHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGlmICggdmFsdWUgPT09IG51bGwgKSB7XG5cdFx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCBlbGVtLCBuYW1lICk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBob29rcyAmJiBcInNldFwiIGluIGhvb2tzICYmXG5cdFx0XHRcdCggcmV0ID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgbmFtZSApICkgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblxuXHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIG5hbWUsIHZhbHVlICsgXCJcIiApO1xuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblxuXHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgbmFtZSApICkgIT09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblxuXHRcdHJldCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIG5hbWUgKTtcblxuXHRcdC8vIE5vbi1leGlzdGVudCBhdHRyaWJ1dGVzIHJldHVybiBudWxsLCB3ZSBub3JtYWxpemUgdG8gdW5kZWZpbmVkXG5cdFx0cmV0dXJuIHJldCA9PSBudWxsID8gdW5kZWZpbmVkIDogcmV0O1xuXHR9LFxuXG5cdGF0dHJIb29rczoge1xuXHRcdHR5cGU6IHtcblx0XHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0XHRpZiAoICFzdXBwb3J0LnJhZGlvVmFsdWUgJiYgdmFsdWUgPT09IFwicmFkaW9cIiAmJlxuXHRcdFx0XHRcdGpRdWVyeS5ub2RlTmFtZSggZWxlbSwgXCJpbnB1dFwiICkgKSB7XG5cdFx0XHRcdFx0dmFyIHZhbCA9IGVsZW0udmFsdWU7XG5cdFx0XHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCB2YWx1ZSApO1xuXHRcdFx0XHRcdGlmICggdmFsICkge1xuXHRcdFx0XHRcdFx0ZWxlbS52YWx1ZSA9IHZhbDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdHJlbW92ZUF0dHI6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHR2YXIgbmFtZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0YXR0ck5hbWVzID0gdmFsdWUgJiYgdmFsdWUubWF0Y2goIHJub3R3aGl0ZSApO1xuXG5cdFx0aWYgKCBhdHRyTmFtZXMgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdHdoaWxlICggKCBuYW1lID0gYXR0ck5hbWVzWyBpKysgXSApICkge1xuXHRcdFx0XHRlbGVtLnJlbW92ZUF0dHJpYnV0ZSggbmFtZSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG4vLyBIb29rcyBmb3IgYm9vbGVhbiBhdHRyaWJ1dGVzXG5ib29sSG9vayA9IHtcblx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIG5hbWUgKSB7XG5cdFx0aWYgKCB2YWx1ZSA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdC8vIFJlbW92ZSBib29sZWFuIGF0dHJpYnV0ZXMgd2hlbiBzZXQgdG8gZmFsc2Vcblx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCBlbGVtLCBuYW1lICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lICk7XG5cdFx0fVxuXHRcdHJldHVybiBuYW1lO1xuXHR9XG59O1xuXG5qUXVlcnkuZWFjaCggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goIC9cXHcrL2cgKSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdHZhciBnZXR0ZXIgPSBhdHRySGFuZGxlWyBuYW1lIF0gfHwgalF1ZXJ5LmZpbmQuYXR0cjtcblxuXHRhdHRySGFuZGxlWyBuYW1lIF0gPSBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0dmFyIHJldCwgaGFuZGxlLFxuXHRcdFx0bG93ZXJjYXNlTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcblxuXHRcdGlmICggIWlzWE1MICkge1xuXG5cdFx0XHQvLyBBdm9pZCBhbiBpbmZpbml0ZSBsb29wIGJ5IHRlbXBvcmFyaWx5IHJlbW92aW5nIHRoaXMgZnVuY3Rpb24gZnJvbSB0aGUgZ2V0dGVyXG5cdFx0XHRoYW5kbGUgPSBhdHRySGFuZGxlWyBsb3dlcmNhc2VOYW1lIF07XG5cdFx0XHRhdHRySGFuZGxlWyBsb3dlcmNhc2VOYW1lIF0gPSByZXQ7XG5cdFx0XHRyZXQgPSBnZXR0ZXIoIGVsZW0sIG5hbWUsIGlzWE1MICkgIT0gbnVsbCA/XG5cdFx0XHRcdGxvd2VyY2FzZU5hbWUgOlxuXHRcdFx0XHRudWxsO1xuXHRcdFx0YXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdID0gaGFuZGxlO1xuXHRcdH1cblx0XHRyZXR1cm4gcmV0O1xuXHR9O1xufSApO1xuXG5cblxuXG52YXIgcmZvY3VzYWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksXG5cdHJjbGlja2FibGUgPSAvXig/OmF8YXJlYSkkL2k7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0cHJvcDogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGpRdWVyeS5wcm9wLCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgKTtcblx0fSxcblxuXHRyZW1vdmVQcm9wOiBmdW5jdGlvbiggbmFtZSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGRlbGV0ZSB0aGlzWyBqUXVlcnkucHJvcEZpeFsgbmFtZSBdIHx8IG5hbWUgXTtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXHRwcm9wOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7XG5cdFx0dmFyIHJldCwgaG9va3MsXG5cdFx0XHRuVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cblx0XHQvLyBEb24ndCBnZXQvc2V0IHByb3BlcnRpZXMgb24gdGV4dCwgY29tbWVudCBhbmQgYXR0cmlidXRlIG5vZGVzXG5cdFx0aWYgKCBuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIG5UeXBlICE9PSAxIHx8ICFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcblxuXHRcdFx0Ly8gRml4IG5hbWUgYW5kIGF0dGFjaCBob29rc1xuXHRcdFx0bmFtZSA9IGpRdWVyeS5wcm9wRml4WyBuYW1lIF0gfHwgbmFtZTtcblx0XHRcdGhvb2tzID0galF1ZXJ5LnByb3BIb29rc1sgbmFtZSBdO1xuXHRcdH1cblxuXHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGlmICggaG9va3MgJiYgXCJzZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHQoIHJldCA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIG5hbWUgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiAoIGVsZW1bIG5hbWUgXSA9IHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmICggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBuYW1lICkgKSAhPT0gbnVsbCApIHtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGVsZW1bIG5hbWUgXTtcblx0fSxcblxuXHRwcm9wSG9va3M6IHtcblx0XHR0YWJJbmRleDoge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG5cdFx0XHRcdC8vIGVsZW0udGFiSW5kZXggZG9lc24ndCBhbHdheXMgcmV0dXJuIHRoZVxuXHRcdFx0XHQvLyBjb3JyZWN0IHZhbHVlIHdoZW4gaXQgaGFzbid0IGJlZW4gZXhwbGljaXRseSBzZXRcblx0XHRcdFx0Ly8gaHR0cHM6Ly93ZWIuYXJjaGl2ZS5vcmcvd2ViLzIwMTQxMTE2MjMzMzQ3L2h0dHA6Ly9mbHVpZHByb2plY3Qub3JnL2Jsb2cvMjAwOC8wMS8wOS9nZXR0aW5nLXNldHRpbmctYW5kLXJlbW92aW5nLXRhYmluZGV4LXZhbHVlcy13aXRoLWphdmFzY3JpcHQvXG5cdFx0XHRcdC8vIFVzZSBwcm9wZXIgYXR0cmlidXRlIHJldHJpZXZhbCgjMTIwNzIpXG5cdFx0XHRcdHZhciB0YWJpbmRleCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIFwidGFiaW5kZXhcIiApO1xuXG5cdFx0XHRcdHJldHVybiB0YWJpbmRleCA/XG5cdFx0XHRcdFx0cGFyc2VJbnQoIHRhYmluZGV4LCAxMCApIDpcblx0XHRcdFx0XHRyZm9jdXNhYmxlLnRlc3QoIGVsZW0ubm9kZU5hbWUgKSB8fFxuXHRcdFx0XHRcdFx0cmNsaWNrYWJsZS50ZXN0KCBlbGVtLm5vZGVOYW1lICkgJiYgZWxlbS5ocmVmID9cblx0XHRcdFx0XHRcdFx0MCA6XG5cdFx0XHRcdFx0XHRcdC0xO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRwcm9wRml4OiB7XG5cdFx0XCJmb3JcIjogXCJodG1sRm9yXCIsXG5cdFx0XCJjbGFzc1wiOiBcImNsYXNzTmFtZVwiXG5cdH1cbn0gKTtcblxuLy8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG4vLyBBY2Nlc3NpbmcgdGhlIHNlbGVjdGVkSW5kZXggcHJvcGVydHlcbi8vIGZvcmNlcyB0aGUgYnJvd3NlciB0byByZXNwZWN0IHNldHRpbmcgc2VsZWN0ZWRcbi8vIG9uIHRoZSBvcHRpb25cbi8vIFRoZSBnZXR0ZXIgZW5zdXJlcyBhIGRlZmF1bHQgb3B0aW9uIGlzIHNlbGVjdGVkXG4vLyB3aGVuIGluIGFuIG9wdGdyb3VwXG5pZiAoICFzdXBwb3J0Lm9wdFNlbGVjdGVkICkge1xuXHRqUXVlcnkucHJvcEhvb2tzLnNlbGVjdGVkID0ge1xuXHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0aWYgKCBwYXJlbnQgJiYgcGFyZW50LnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHBhcmVudC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9LFxuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cdFx0XHRcdHBhcmVudC5zZWxlY3RlZEluZGV4O1xuXG5cdFx0XHRcdGlmICggcGFyZW50LnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdFx0cGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxualF1ZXJ5LmVhY2goIFtcblx0XCJ0YWJJbmRleFwiLFxuXHRcInJlYWRPbmx5XCIsXG5cdFwibWF4TGVuZ3RoXCIsXG5cdFwiY2VsbFNwYWNpbmdcIixcblx0XCJjZWxsUGFkZGluZ1wiLFxuXHRcInJvd1NwYW5cIixcblx0XCJjb2xTcGFuXCIsXG5cdFwidXNlTWFwXCIsXG5cdFwiZnJhbWVCb3JkZXJcIixcblx0XCJjb250ZW50RWRpdGFibGVcIlxuXSwgZnVuY3Rpb24oKSB7XG5cdGpRdWVyeS5wcm9wRml4WyB0aGlzLnRvTG93ZXJDYXNlKCkgXSA9IHRoaXM7XG59ICk7XG5cblxuXG5cbnZhciByY2xhc3MgPSAvW1xcdFxcclxcblxcZl0vZztcblxuZnVuY3Rpb24gZ2V0Q2xhc3MoIGVsZW0gKSB7XG5cdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSAmJiBlbGVtLmdldEF0dHJpYnV0ZSggXCJjbGFzc1wiICkgfHwgXCJcIjtcbn1cblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRhZGRDbGFzczogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBjbGFzc2VzLCBlbGVtLCBjdXIsIGN1clZhbHVlLCBjbGF6eiwgaiwgZmluYWxWYWx1ZSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBqICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5hZGRDbGFzcyggdmFsdWUuY2FsbCggdGhpcywgaiwgZ2V0Q2xhc3MoIHRoaXMgKSApICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgdmFsdWUgKSB7XG5cdFx0XHRjbGFzc2VzID0gdmFsdWUubWF0Y2goIHJub3R3aGl0ZSApIHx8IFtdO1xuXG5cdFx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRcdGN1clZhbHVlID0gZ2V0Q2xhc3MoIGVsZW0gKTtcblx0XHRcdFx0Y3VyID0gZWxlbS5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0XHRcdCggXCIgXCIgKyBjdXJWYWx1ZSArIFwiIFwiICkucmVwbGFjZSggcmNsYXNzLCBcIiBcIiApO1xuXG5cdFx0XHRcdGlmICggY3VyICkge1xuXHRcdFx0XHRcdGogPSAwO1xuXHRcdFx0XHRcdHdoaWxlICggKCBjbGF6eiA9IGNsYXNzZXNbIGorKyBdICkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGN1ci5pbmRleE9mKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIgKSA8IDAgKSB7XG5cdFx0XHRcdFx0XHRcdGN1ciArPSBjbGF6eiArIFwiIFwiO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIE9ubHkgYXNzaWduIGlmIGRpZmZlcmVudCB0byBhdm9pZCB1bm5lZWRlZCByZW5kZXJpbmcuXG5cdFx0XHRcdFx0ZmluYWxWYWx1ZSA9IGpRdWVyeS50cmltKCBjdXIgKTtcblx0XHRcdFx0XHRpZiAoIGN1clZhbHVlICE9PSBmaW5hbFZhbHVlICkge1xuXHRcdFx0XHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIiwgZmluYWxWYWx1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdHJlbW92ZUNsYXNzOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGNsYXNzZXMsIGVsZW0sIGN1ciwgY3VyVmFsdWUsIGNsYXp6LCBqLCBmaW5hbFZhbHVlLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGogKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnJlbW92ZUNsYXNzKCB2YWx1ZS5jYWxsKCB0aGlzLCBqLCBnZXRDbGFzcyggdGhpcyApICkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRpZiAoICFhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuYXR0ciggXCJjbGFzc1wiLCBcIlwiICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgdmFsdWUgKSB7XG5cdFx0XHRjbGFzc2VzID0gdmFsdWUubWF0Y2goIHJub3R3aGl0ZSApIHx8IFtdO1xuXG5cdFx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRcdGN1clZhbHVlID0gZ2V0Q2xhc3MoIGVsZW0gKTtcblxuXHRcdFx0XHQvLyBUaGlzIGV4cHJlc3Npb24gaXMgaGVyZSBmb3IgYmV0dGVyIGNvbXByZXNzaWJpbGl0eSAoc2VlIGFkZENsYXNzKVxuXHRcdFx0XHRjdXIgPSBlbGVtLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdFx0KCBcIiBcIiArIGN1clZhbHVlICsgXCIgXCIgKS5yZXBsYWNlKCByY2xhc3MsIFwiIFwiICk7XG5cblx0XHRcdFx0aWYgKCBjdXIgKSB7XG5cdFx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGNsYXp6ID0gY2xhc3Nlc1sgaisrIF0gKSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlICphbGwqIGluc3RhbmNlc1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBjdXIuaW5kZXhPZiggXCIgXCIgKyBjbGF6eiArIFwiIFwiICkgPiAtMSApIHtcblx0XHRcdFx0XHRcdFx0Y3VyID0gY3VyLnJlcGxhY2UoIFwiIFwiICsgY2xhenogKyBcIiBcIiwgXCIgXCIgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBPbmx5IGFzc2lnbiBpZiBkaWZmZXJlbnQgdG8gYXZvaWQgdW5uZWVkZWQgcmVuZGVyaW5nLlxuXHRcdFx0XHRcdGZpbmFsVmFsdWUgPSBqUXVlcnkudHJpbSggY3VyICk7XG5cdFx0XHRcdFx0aWYgKCBjdXJWYWx1ZSAhPT0gZmluYWxWYWx1ZSApIHtcblx0XHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBcImNsYXNzXCIsIGZpbmFsVmFsdWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHR0b2dnbGVDbGFzczogZnVuY3Rpb24oIHZhbHVlLCBzdGF0ZVZhbCApIHtcblx0XHR2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcblxuXHRcdGlmICggdHlwZW9mIHN0YXRlVmFsID09PSBcImJvb2xlYW5cIiAmJiB0eXBlID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIHN0YXRlVmFsID8gdGhpcy5hZGRDbGFzcyggdmFsdWUgKSA6IHRoaXMucmVtb3ZlQ2xhc3MoIHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS50b2dnbGVDbGFzcyhcblx0XHRcdFx0XHR2YWx1ZS5jYWxsKCB0aGlzLCBpLCBnZXRDbGFzcyggdGhpcyApLCBzdGF0ZVZhbCApLFxuXHRcdFx0XHRcdHN0YXRlVmFsXG5cdFx0XHRcdCk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgY2xhc3NOYW1lLCBpLCBzZWxmLCBjbGFzc05hbWVzO1xuXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHRcdFx0Ly8gVG9nZ2xlIGluZGl2aWR1YWwgY2xhc3MgbmFtZXNcblx0XHRcdFx0aSA9IDA7XG5cdFx0XHRcdHNlbGYgPSBqUXVlcnkoIHRoaXMgKTtcblx0XHRcdFx0Y2xhc3NOYW1lcyA9IHZhbHVlLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbXTtcblxuXHRcdFx0XHR3aGlsZSAoICggY2xhc3NOYW1lID0gY2xhc3NOYW1lc1sgaSsrIF0gKSApIHtcblxuXHRcdFx0XHRcdC8vIENoZWNrIGVhY2ggY2xhc3NOYW1lIGdpdmVuLCBzcGFjZSBzZXBhcmF0ZWQgbGlzdFxuXHRcdFx0XHRcdGlmICggc2VsZi5oYXNDbGFzcyggY2xhc3NOYW1lICkgKSB7XG5cdFx0XHRcdFx0XHRzZWxmLnJlbW92ZUNsYXNzKCBjbGFzc05hbWUgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c2VsZi5hZGRDbGFzcyggY2xhc3NOYW1lICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdC8vIFRvZ2dsZSB3aG9sZSBjbGFzcyBuYW1lXG5cdFx0XHR9IGVsc2UgaWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGUgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdFx0XHRjbGFzc05hbWUgPSBnZXRDbGFzcyggdGhpcyApO1xuXHRcdFx0XHRpZiAoIGNsYXNzTmFtZSApIHtcblxuXHRcdFx0XHRcdC8vIFN0b3JlIGNsYXNzTmFtZSBpZiBzZXRcblx0XHRcdFx0XHRkYXRhUHJpdi5zZXQoIHRoaXMsIFwiX19jbGFzc05hbWVfX1wiLCBjbGFzc05hbWUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIElmIHRoZSBlbGVtZW50IGhhcyBhIGNsYXNzIG5hbWUgb3IgaWYgd2UncmUgcGFzc2VkIGBmYWxzZWAsXG5cdFx0XHRcdC8vIHRoZW4gcmVtb3ZlIHRoZSB3aG9sZSBjbGFzc25hbWUgKGlmIHRoZXJlIHdhcyBvbmUsIHRoZSBhYm92ZSBzYXZlZCBpdCkuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSBicmluZyBiYWNrIHdoYXRldmVyIHdhcyBwcmV2aW91c2x5IHNhdmVkIChpZiBhbnl0aGluZyksXG5cdFx0XHRcdC8vIGZhbGxpbmcgYmFjayB0byB0aGUgZW1wdHkgc3RyaW5nIGlmIG5vdGhpbmcgd2FzIHN0b3JlZC5cblx0XHRcdFx0aWYgKCB0aGlzLnNldEF0dHJpYnV0ZSApIHtcblx0XHRcdFx0XHR0aGlzLnNldEF0dHJpYnV0ZSggXCJjbGFzc1wiLFxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lIHx8IHZhbHVlID09PSBmYWxzZSA/XG5cdFx0XHRcdFx0XHRcIlwiIDpcblx0XHRcdFx0XHRcdGRhdGFQcml2LmdldCggdGhpcywgXCJfX2NsYXNzTmFtZV9fXCIgKSB8fCBcIlwiXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRoYXNDbGFzczogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHZhciBjbGFzc05hbWUsIGVsZW0sXG5cdFx0XHRpID0gMDtcblxuXHRcdGNsYXNzTmFtZSA9IFwiIFwiICsgc2VsZWN0b3IgKyBcIiBcIjtcblx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0KCBcIiBcIiArIGdldENsYXNzKCBlbGVtICkgKyBcIiBcIiApLnJlcGxhY2UoIHJjbGFzcywgXCIgXCIgKVxuXHRcdFx0XHRcdC5pbmRleE9mKCBjbGFzc05hbWUgKSA+IC0xXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59ICk7XG5cblxuXG5cbnZhciBycmV0dXJuID0gL1xcci9nLFxuXHRyc3BhY2VzID0gL1tcXHgyMFxcdFxcclxcblxcZl0rL2c7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0dmFsOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGhvb2tzLCByZXQsIGlzRnVuY3Rpb24sXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdO1xuXG5cdFx0aWYgKCAhYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdGlmICggZWxlbSApIHtcblx0XHRcdFx0aG9va3MgPSBqUXVlcnkudmFsSG9va3NbIGVsZW0udHlwZSBdIHx8XG5cdFx0XHRcdFx0alF1ZXJ5LnZhbEhvb2tzWyBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTtcblxuXHRcdFx0XHRpZiAoIGhvb2tzICYmXG5cdFx0XHRcdFx0XCJnZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHRcdCggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBcInZhbHVlXCIgKSApICE9PSB1bmRlZmluZWRcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldCA9IGVsZW0udmFsdWU7XG5cblx0XHRcdFx0cmV0dXJuIHR5cGVvZiByZXQgPT09IFwic3RyaW5nXCIgP1xuXG5cdFx0XHRcdFx0Ly8gSGFuZGxlIG1vc3QgY29tbW9uIHN0cmluZyBjYXNlc1xuXHRcdFx0XHRcdHJldC5yZXBsYWNlKCBycmV0dXJuLCBcIlwiICkgOlxuXG5cdFx0XHRcdFx0Ly8gSGFuZGxlIGNhc2VzIHdoZXJlIHZhbHVlIGlzIG51bGwvdW5kZWYgb3IgbnVtYmVyXG5cdFx0XHRcdFx0cmV0ID09IG51bGwgPyBcIlwiIDogcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aXNGdW5jdGlvbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHR2YXIgdmFsO1xuXG5cdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgIT09IDEgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBpc0Z1bmN0aW9uICkge1xuXHRcdFx0XHR2YWwgPSB2YWx1ZS5jYWxsKCB0aGlzLCBpLCBqUXVlcnkoIHRoaXMgKS52YWwoKSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFsID0gdmFsdWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRyZWF0IG51bGwvdW5kZWZpbmVkIGFzIFwiXCI7IGNvbnZlcnQgbnVtYmVycyB0byBzdHJpbmdcblx0XHRcdGlmICggdmFsID09IG51bGwgKSB7XG5cdFx0XHRcdHZhbCA9IFwiXCI7XG5cblx0XHRcdH0gZWxzZSBpZiAoIHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdHZhbCArPSBcIlwiO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBqUXVlcnkuaXNBcnJheSggdmFsICkgKSB7XG5cdFx0XHRcdHZhbCA9IGpRdWVyeS5tYXAoIHZhbCwgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRcdHJldHVybiB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICsgXCJcIjtcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXG5cdFx0XHRob29rcyA9IGpRdWVyeS52YWxIb29rc1sgdGhpcy50eXBlIF0gfHwgalF1ZXJ5LnZhbEhvb2tzWyB0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTtcblxuXHRcdFx0Ly8gSWYgc2V0IHJldHVybnMgdW5kZWZpbmVkLCBmYWxsIGJhY2sgdG8gbm9ybWFsIHNldHRpbmdcblx0XHRcdGlmICggIWhvb2tzIHx8ICEoIFwic2V0XCIgaW4gaG9va3MgKSB8fCBob29rcy5zZXQoIHRoaXMsIHZhbCwgXCJ2YWx1ZVwiICkgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0dGhpcy52YWx1ZSA9IHZhbDtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXHR2YWxIb29rczoge1xuXHRcdG9wdGlvbjoge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0XHR2YXIgdmFsID0galF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgXCJ2YWx1ZVwiICk7XG5cdFx0XHRcdHJldHVybiB2YWwgIT0gbnVsbCA/XG5cdFx0XHRcdFx0dmFsIDpcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9MTAgLSAxMSBvbmx5XG5cdFx0XHRcdFx0Ly8gb3B0aW9uLnRleHQgdGhyb3dzIGV4Y2VwdGlvbnMgKCMxNDY4NiwgIzE0ODU4KVxuXHRcdFx0XHRcdC8vIFN0cmlwIGFuZCBjb2xsYXBzZSB3aGl0ZXNwYWNlXG5cdFx0XHRcdFx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jc3RyaXAtYW5kLWNvbGxhcHNlLXdoaXRlc3BhY2Vcblx0XHRcdFx0XHRqUXVlcnkudHJpbSggalF1ZXJ5LnRleHQoIGVsZW0gKSApLnJlcGxhY2UoIHJzcGFjZXMsIFwiIFwiICk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRzZWxlY3Q6IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciB2YWx1ZSwgb3B0aW9uLFxuXHRcdFx0XHRcdG9wdGlvbnMgPSBlbGVtLm9wdGlvbnMsXG5cdFx0XHRcdFx0aW5kZXggPSBlbGVtLnNlbGVjdGVkSW5kZXgsXG5cdFx0XHRcdFx0b25lID0gZWxlbS50eXBlID09PSBcInNlbGVjdC1vbmVcIixcblx0XHRcdFx0XHR2YWx1ZXMgPSBvbmUgPyBudWxsIDogW10sXG5cdFx0XHRcdFx0bWF4ID0gb25lID8gaW5kZXggKyAxIDogb3B0aW9ucy5sZW5ndGgsXG5cdFx0XHRcdFx0aSA9IGluZGV4IDwgMCA/XG5cdFx0XHRcdFx0XHRtYXggOlxuXHRcdFx0XHRcdFx0b25lID8gaW5kZXggOiAwO1xuXG5cdFx0XHRcdC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIHNlbGVjdGVkIG9wdGlvbnNcblx0XHRcdFx0Zm9yICggOyBpIDwgbWF4OyBpKysgKSB7XG5cdFx0XHRcdFx0b3B0aW9uID0gb3B0aW9uc1sgaSBdO1xuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHRcdFx0XHQvLyBJRTgtOSBkb2Vzbid0IHVwZGF0ZSBzZWxlY3RlZCBhZnRlciBmb3JtIHJlc2V0ICgjMjU1MSlcblx0XHRcdFx0XHRpZiAoICggb3B0aW9uLnNlbGVjdGVkIHx8IGkgPT09IGluZGV4ICkgJiZcblxuXHRcdFx0XHRcdFx0XHQvLyBEb24ndCByZXR1cm4gb3B0aW9ucyB0aGF0IGFyZSBkaXNhYmxlZCBvciBpbiBhIGRpc2FibGVkIG9wdGdyb3VwXG5cdFx0XHRcdFx0XHRcdCFvcHRpb24uZGlzYWJsZWQgJiZcblx0XHRcdFx0XHRcdFx0KCAhb3B0aW9uLnBhcmVudE5vZGUuZGlzYWJsZWQgfHxcblx0XHRcdFx0XHRcdFx0XHQhalF1ZXJ5Lm5vZGVOYW1lKCBvcHRpb24ucGFyZW50Tm9kZSwgXCJvcHRncm91cFwiICkgKSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gR2V0IHRoZSBzcGVjaWZpYyB2YWx1ZSBmb3IgdGhlIG9wdGlvblxuXHRcdFx0XHRcdFx0dmFsdWUgPSBqUXVlcnkoIG9wdGlvbiApLnZhbCgpO1xuXG5cdFx0XHRcdFx0XHQvLyBXZSBkb24ndCBuZWVkIGFuIGFycmF5IGZvciBvbmUgc2VsZWN0c1xuXHRcdFx0XHRcdFx0aWYgKCBvbmUgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gTXVsdGktU2VsZWN0cyByZXR1cm4gYW4gYXJyYXlcblx0XHRcdFx0XHRcdHZhbHVlcy5wdXNoKCB2YWx1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB2YWx1ZXM7XG5cdFx0XHR9LFxuXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdFx0dmFyIG9wdGlvblNldCwgb3B0aW9uLFxuXHRcdFx0XHRcdG9wdGlvbnMgPSBlbGVtLm9wdGlvbnMsXG5cdFx0XHRcdFx0dmFsdWVzID0galF1ZXJ5Lm1ha2VBcnJheSggdmFsdWUgKSxcblx0XHRcdFx0XHRpID0gb3B0aW9ucy5sZW5ndGg7XG5cblx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0b3B0aW9uID0gb3B0aW9uc1sgaSBdO1xuXG5cdFx0XHRcdFx0LyogZXNsaW50LWRpc2FibGUgbm8tY29uZC1hc3NpZ24gKi9cblxuXHRcdFx0XHRcdGlmICggb3B0aW9uLnNlbGVjdGVkID1cblx0XHRcdFx0XHRcdGpRdWVyeS5pbkFycmF5KCBqUXVlcnkudmFsSG9va3Mub3B0aW9uLmdldCggb3B0aW9uICksIHZhbHVlcyApID4gLTFcblx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdG9wdGlvblNldCA9IHRydWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0LyogZXNsaW50LWVuYWJsZSBuby1jb25kLWFzc2lnbiAqL1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gRm9yY2UgYnJvd3NlcnMgdG8gYmVoYXZlIGNvbnNpc3RlbnRseSB3aGVuIG5vbi1tYXRjaGluZyB2YWx1ZSBpcyBzZXRcblx0XHRcdFx0aWYgKCAhb3B0aW9uU2V0ICkge1xuXHRcdFx0XHRcdGVsZW0uc2VsZWN0ZWRJbmRleCA9IC0xO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB2YWx1ZXM7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59ICk7XG5cbi8vIFJhZGlvcyBhbmQgY2hlY2tib3hlcyBnZXR0ZXIvc2V0dGVyXG5qUXVlcnkuZWFjaCggWyBcInJhZGlvXCIsIFwiY2hlY2tib3hcIiBdLCBmdW5jdGlvbigpIHtcblx0alF1ZXJ5LnZhbEhvb2tzWyB0aGlzIF0gPSB7XG5cdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0XHRpZiAoIGpRdWVyeS5pc0FycmF5KCB2YWx1ZSApICkge1xuXHRcdFx0XHRyZXR1cm4gKCBlbGVtLmNoZWNrZWQgPSBqUXVlcnkuaW5BcnJheSggalF1ZXJ5KCBlbGVtICkudmFsKCksIHZhbHVlICkgPiAtMSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0aWYgKCAhc3VwcG9ydC5jaGVja09uICkge1xuXHRcdGpRdWVyeS52YWxIb29rc1sgdGhpcyBdLmdldCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCBcInZhbHVlXCIgKSA9PT0gbnVsbCA/IFwib25cIiA6IGVsZW0udmFsdWU7XG5cdFx0fTtcblx0fVxufSApO1xuXG5cblxuXG4vLyBSZXR1cm4galF1ZXJ5IGZvciBhdHRyaWJ1dGVzLW9ubHkgaW5jbHVzaW9uXG5cblxudmFyIHJmb2N1c01vcnBoID0gL14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvO1xuXG5qUXVlcnkuZXh0ZW5kKCBqUXVlcnkuZXZlbnQsIHtcblxuXHR0cmlnZ2VyOiBmdW5jdGlvbiggZXZlbnQsIGRhdGEsIGVsZW0sIG9ubHlIYW5kbGVycyApIHtcblxuXHRcdHZhciBpLCBjdXIsIHRtcCwgYnViYmxlVHlwZSwgb250eXBlLCBoYW5kbGUsIHNwZWNpYWwsXG5cdFx0XHRldmVudFBhdGggPSBbIGVsZW0gfHwgZG9jdW1lbnQgXSxcblx0XHRcdHR5cGUgPSBoYXNPd24uY2FsbCggZXZlbnQsIFwidHlwZVwiICkgPyBldmVudC50eXBlIDogZXZlbnQsXG5cdFx0XHRuYW1lc3BhY2VzID0gaGFzT3duLmNhbGwoIGV2ZW50LCBcIm5hbWVzcGFjZVwiICkgPyBldmVudC5uYW1lc3BhY2Uuc3BsaXQoIFwiLlwiICkgOiBbXTtcblxuXHRcdGN1ciA9IHRtcCA9IGVsZW0gPSBlbGVtIHx8IGRvY3VtZW50O1xuXG5cdFx0Ly8gRG9uJ3QgZG8gZXZlbnRzIG9uIHRleHQgYW5kIGNvbW1lbnQgbm9kZXNcblx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDMgfHwgZWxlbS5ub2RlVHlwZSA9PT0gOCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBmb2N1cy9ibHVyIG1vcnBocyB0byBmb2N1c2luL291dDsgZW5zdXJlIHdlJ3JlIG5vdCBmaXJpbmcgdGhlbSByaWdodCBub3dcblx0XHRpZiAoIHJmb2N1c01vcnBoLnRlc3QoIHR5cGUgKyBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlLmluZGV4T2YoIFwiLlwiICkgPiAtMSApIHtcblxuXHRcdFx0Ly8gTmFtZXNwYWNlZCB0cmlnZ2VyOyBjcmVhdGUgYSByZWdleHAgdG8gbWF0Y2ggZXZlbnQgdHlwZSBpbiBoYW5kbGUoKVxuXHRcdFx0bmFtZXNwYWNlcyA9IHR5cGUuc3BsaXQoIFwiLlwiICk7XG5cdFx0XHR0eXBlID0gbmFtZXNwYWNlcy5zaGlmdCgpO1xuXHRcdFx0bmFtZXNwYWNlcy5zb3J0KCk7XG5cdFx0fVxuXHRcdG9udHlwZSA9IHR5cGUuaW5kZXhPZiggXCI6XCIgKSA8IDAgJiYgXCJvblwiICsgdHlwZTtcblxuXHRcdC8vIENhbGxlciBjYW4gcGFzcyBpbiBhIGpRdWVyeS5FdmVudCBvYmplY3QsIE9iamVjdCwgb3IganVzdCBhbiBldmVudCB0eXBlIHN0cmluZ1xuXHRcdGV2ZW50ID0gZXZlbnRbIGpRdWVyeS5leHBhbmRvIF0gP1xuXHRcdFx0ZXZlbnQgOlxuXHRcdFx0bmV3IGpRdWVyeS5FdmVudCggdHlwZSwgdHlwZW9mIGV2ZW50ID09PSBcIm9iamVjdFwiICYmIGV2ZW50ICk7XG5cblx0XHQvLyBUcmlnZ2VyIGJpdG1hc2s6ICYgMSBmb3IgbmF0aXZlIGhhbmRsZXJzOyAmIDIgZm9yIGpRdWVyeSAoYWx3YXlzIHRydWUpXG5cdFx0ZXZlbnQuaXNUcmlnZ2VyID0gb25seUhhbmRsZXJzID8gMiA6IDM7XG5cdFx0ZXZlbnQubmFtZXNwYWNlID0gbmFtZXNwYWNlcy5qb2luKCBcIi5cIiApO1xuXHRcdGV2ZW50LnJuYW1lc3BhY2UgPSBldmVudC5uYW1lc3BhY2UgP1xuXHRcdFx0bmV3IFJlZ0V4cCggXCIoXnxcXFxcLilcIiArIG5hbWVzcGFjZXMuam9pbiggXCJcXFxcLig/Oi4qXFxcXC58KVwiICkgKyBcIihcXFxcLnwkKVwiICkgOlxuXHRcdFx0bnVsbDtcblxuXHRcdC8vIENsZWFuIHVwIHRoZSBldmVudCBpbiBjYXNlIGl0IGlzIGJlaW5nIHJldXNlZFxuXHRcdGV2ZW50LnJlc3VsdCA9IHVuZGVmaW5lZDtcblx0XHRpZiAoICFldmVudC50YXJnZXQgKSB7XG5cdFx0XHRldmVudC50YXJnZXQgPSBlbGVtO1xuXHRcdH1cblxuXHRcdC8vIENsb25lIGFueSBpbmNvbWluZyBkYXRhIGFuZCBwcmVwZW5kIHRoZSBldmVudCwgY3JlYXRpbmcgdGhlIGhhbmRsZXIgYXJnIGxpc3Rcblx0XHRkYXRhID0gZGF0YSA9PSBudWxsID9cblx0XHRcdFsgZXZlbnQgXSA6XG5cdFx0XHRqUXVlcnkubWFrZUFycmF5KCBkYXRhLCBbIGV2ZW50IF0gKTtcblxuXHRcdC8vIEFsbG93IHNwZWNpYWwgZXZlbnRzIHRvIGRyYXcgb3V0c2lkZSB0aGUgbGluZXNcblx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgc3BlY2lhbC50cmlnZ2VyICYmIHNwZWNpYWwudHJpZ2dlci5hcHBseSggZWxlbSwgZGF0YSApID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBEZXRlcm1pbmUgZXZlbnQgcHJvcGFnYXRpb24gcGF0aCBpbiBhZHZhbmNlLCBwZXIgVzNDIGV2ZW50cyBzcGVjICgjOTk1MSlcblx0XHQvLyBCdWJibGUgdXAgdG8gZG9jdW1lbnQsIHRoZW4gdG8gd2luZG93OyB3YXRjaCBmb3IgYSBnbG9iYWwgb3duZXJEb2N1bWVudCB2YXIgKCM5NzI0KVxuXHRcdGlmICggIW9ubHlIYW5kbGVycyAmJiAhc3BlY2lhbC5ub0J1YmJsZSAmJiAhalF1ZXJ5LmlzV2luZG93KCBlbGVtICkgKSB7XG5cblx0XHRcdGJ1YmJsZVR5cGUgPSBzcGVjaWFsLmRlbGVnYXRlVHlwZSB8fCB0eXBlO1xuXHRcdFx0aWYgKCAhcmZvY3VzTW9ycGgudGVzdCggYnViYmxlVHlwZSArIHR5cGUgKSApIHtcblx0XHRcdFx0Y3VyID0gY3VyLnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cdFx0XHRmb3IgKCA7IGN1cjsgY3VyID0gY3VyLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdGV2ZW50UGF0aC5wdXNoKCBjdXIgKTtcblx0XHRcdFx0dG1wID0gY3VyO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBPbmx5IGFkZCB3aW5kb3cgaWYgd2UgZ290IHRvIGRvY3VtZW50IChlLmcuLCBub3QgcGxhaW4gb2JqIG9yIGRldGFjaGVkIERPTSlcblx0XHRcdGlmICggdG1wID09PSAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudCApICkge1xuXHRcdFx0XHRldmVudFBhdGgucHVzaCggdG1wLmRlZmF1bHRWaWV3IHx8IHRtcC5wYXJlbnRXaW5kb3cgfHwgd2luZG93ICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gRmlyZSBoYW5kbGVycyBvbiB0aGUgZXZlbnQgcGF0aFxuXHRcdGkgPSAwO1xuXHRcdHdoaWxlICggKCBjdXIgPSBldmVudFBhdGhbIGkrKyBdICkgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cblx0XHRcdGV2ZW50LnR5cGUgPSBpID4gMSA/XG5cdFx0XHRcdGJ1YmJsZVR5cGUgOlxuXHRcdFx0XHRzcGVjaWFsLmJpbmRUeXBlIHx8IHR5cGU7XG5cblx0XHRcdC8vIGpRdWVyeSBoYW5kbGVyXG5cdFx0XHRoYW5kbGUgPSAoIGRhdGFQcml2LmdldCggY3VyLCBcImV2ZW50c1wiICkgfHwge30gKVsgZXZlbnQudHlwZSBdICYmXG5cdFx0XHRcdGRhdGFQcml2LmdldCggY3VyLCBcImhhbmRsZVwiICk7XG5cdFx0XHRpZiAoIGhhbmRsZSApIHtcblx0XHRcdFx0aGFuZGxlLmFwcGx5KCBjdXIsIGRhdGEgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTmF0aXZlIGhhbmRsZXJcblx0XHRcdGhhbmRsZSA9IG9udHlwZSAmJiBjdXJbIG9udHlwZSBdO1xuXHRcdFx0aWYgKCBoYW5kbGUgJiYgaGFuZGxlLmFwcGx5ICYmIGFjY2VwdERhdGEoIGN1ciApICkge1xuXHRcdFx0XHRldmVudC5yZXN1bHQgPSBoYW5kbGUuYXBwbHkoIGN1ciwgZGF0YSApO1xuXHRcdFx0XHRpZiAoIGV2ZW50LnJlc3VsdCA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRldmVudC50eXBlID0gdHlwZTtcblxuXHRcdC8vIElmIG5vYm9keSBwcmV2ZW50ZWQgdGhlIGRlZmF1bHQgYWN0aW9uLCBkbyBpdCBub3dcblx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgIWV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICkge1xuXG5cdFx0XHRpZiAoICggIXNwZWNpYWwuX2RlZmF1bHQgfHxcblx0XHRcdFx0c3BlY2lhbC5fZGVmYXVsdC5hcHBseSggZXZlbnRQYXRoLnBvcCgpLCBkYXRhICkgPT09IGZhbHNlICkgJiZcblx0XHRcdFx0YWNjZXB0RGF0YSggZWxlbSApICkge1xuXG5cdFx0XHRcdC8vIENhbGwgYSBuYXRpdmUgRE9NIG1ldGhvZCBvbiB0aGUgdGFyZ2V0IHdpdGggdGhlIHNhbWUgbmFtZSBhcyB0aGUgZXZlbnQuXG5cdFx0XHRcdC8vIERvbid0IGRvIGRlZmF1bHQgYWN0aW9ucyBvbiB3aW5kb3csIHRoYXQncyB3aGVyZSBnbG9iYWwgdmFyaWFibGVzIGJlICgjNjE3MClcblx0XHRcdFx0aWYgKCBvbnR5cGUgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oIGVsZW1bIHR5cGUgXSApICYmICFqUXVlcnkuaXNXaW5kb3coIGVsZW0gKSApIHtcblxuXHRcdFx0XHRcdC8vIERvbid0IHJlLXRyaWdnZXIgYW4gb25GT08gZXZlbnQgd2hlbiB3ZSBjYWxsIGl0cyBGT08oKSBtZXRob2Rcblx0XHRcdFx0XHR0bXAgPSBlbGVtWyBvbnR5cGUgXTtcblxuXHRcdFx0XHRcdGlmICggdG1wICkge1xuXHRcdFx0XHRcdFx0ZWxlbVsgb250eXBlIF0gPSBudWxsO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFByZXZlbnQgcmUtdHJpZ2dlcmluZyBvZiB0aGUgc2FtZSBldmVudCwgc2luY2Ugd2UgYWxyZWFkeSBidWJibGVkIGl0IGFib3ZlXG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCA9IHR5cGU7XG5cdFx0XHRcdFx0ZWxlbVsgdHlwZSBdKCk7XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmICggdG1wICkge1xuXHRcdFx0XHRcdFx0ZWxlbVsgb250eXBlIF0gPSB0bXA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGV2ZW50LnJlc3VsdDtcblx0fSxcblxuXHQvLyBQaWdneWJhY2sgb24gYSBkb25vciBldmVudCB0byBzaW11bGF0ZSBhIGRpZmZlcmVudCBvbmVcblx0Ly8gVXNlZCBvbmx5IGZvciBgZm9jdXMoaW4gfCBvdXQpYCBldmVudHNcblx0c2ltdWxhdGU6IGZ1bmN0aW9uKCB0eXBlLCBlbGVtLCBldmVudCApIHtcblx0XHR2YXIgZSA9IGpRdWVyeS5leHRlbmQoXG5cdFx0XHRuZXcgalF1ZXJ5LkV2ZW50KCksXG5cdFx0XHRldmVudCxcblx0XHRcdHtcblx0XHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdFx0aXNTaW11bGF0ZWQ6IHRydWVcblx0XHRcdH1cblx0XHQpO1xuXG5cdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIGUsIG51bGwsIGVsZW0gKTtcblx0fVxuXG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblxuXHR0cmlnZ2VyOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCB0eXBlLCBkYXRhLCB0aGlzICk7XG5cdFx0fSApO1xuXHR9LFxuXHR0cmlnZ2VySGFuZGxlcjogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7XG5cdFx0dmFyIGVsZW0gPSB0aGlzWyAwIF07XG5cdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5ldmVudC50cmlnZ2VyKCB0eXBlLCBkYXRhLCBlbGVtLCB0cnVlICk7XG5cdFx0fVxuXHR9XG59ICk7XG5cblxualF1ZXJ5LmVhY2goICggXCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgcmVzaXplIHNjcm9sbCBjbGljayBkYmxjbGljayBcIiArXG5cdFwibW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgXCIgK1xuXHRcImNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgY29udGV4dG1lbnVcIiApLnNwbGl0KCBcIiBcIiApLFxuXHRmdW5jdGlvbiggaSwgbmFtZSApIHtcblxuXHQvLyBIYW5kbGUgZXZlbnQgYmluZGluZ1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDAgP1xuXHRcdFx0dGhpcy5vbiggbmFtZSwgbnVsbCwgZGF0YSwgZm4gKSA6XG5cdFx0XHR0aGlzLnRyaWdnZXIoIG5hbWUgKTtcblx0fTtcbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRob3ZlcjogZnVuY3Rpb24oIGZuT3ZlciwgZm5PdXQgKSB7XG5cdFx0cmV0dXJuIHRoaXMubW91c2VlbnRlciggZm5PdmVyICkubW91c2VsZWF2ZSggZm5PdXQgfHwgZm5PdmVyICk7XG5cdH1cbn0gKTtcblxuXG5cblxuc3VwcG9ydC5mb2N1c2luID0gXCJvbmZvY3VzaW5cIiBpbiB3aW5kb3c7XG5cblxuLy8gU3VwcG9ydDogRmlyZWZveCA8PTQ0XG4vLyBGaXJlZm94IGRvZXNuJ3QgaGF2ZSBmb2N1cyhpbiB8IG91dCkgZXZlbnRzXG4vLyBSZWxhdGVkIHRpY2tldCAtIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY4Nzc4N1xuLy9cbi8vIFN1cHBvcnQ6IENocm9tZSA8PTQ4IC0gNDksIFNhZmFyaSA8PTkuMCAtIDkuMVxuLy8gZm9jdXMoaW4gfCBvdXQpIGV2ZW50cyBmaXJlIGFmdGVyIGZvY3VzICYgYmx1ciBldmVudHMsXG4vLyB3aGljaCBpcyBzcGVjIHZpb2xhdGlvbiAtIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy8jZXZlbnRzLWZvY3VzZXZlbnQtZXZlbnQtb3JkZXJcbi8vIFJlbGF0ZWQgdGlja2V0IC0gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ5ODU3XG5pZiAoICFzdXBwb3J0LmZvY3VzaW4gKSB7XG5cdGpRdWVyeS5lYWNoKCB7IGZvY3VzOiBcImZvY3VzaW5cIiwgYmx1cjogXCJmb2N1c291dFwiIH0sIGZ1bmN0aW9uKCBvcmlnLCBmaXggKSB7XG5cblx0XHQvLyBBdHRhY2ggYSBzaW5nbGUgY2FwdHVyaW5nIGhhbmRsZXIgb24gdGhlIGRvY3VtZW50IHdoaWxlIHNvbWVvbmUgd2FudHMgZm9jdXNpbi9mb2N1c291dFxuXHRcdHZhciBoYW5kbGVyID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnNpbXVsYXRlKCBmaXgsIGV2ZW50LnRhcmdldCwgalF1ZXJ5LmV2ZW50LmZpeCggZXZlbnQgKSApO1xuXHRcdH07XG5cblx0XHRqUXVlcnkuZXZlbnQuc3BlY2lhbFsgZml4IF0gPSB7XG5cdFx0XHRzZXR1cDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBkb2MgPSB0aGlzLm93bmVyRG9jdW1lbnQgfHwgdGhpcyxcblx0XHRcdFx0XHRhdHRhY2hlcyA9IGRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXggKTtcblxuXHRcdFx0XHRpZiAoICFhdHRhY2hlcyApIHtcblx0XHRcdFx0XHRkb2MuYWRkRXZlbnRMaXN0ZW5lciggb3JpZywgaGFuZGxlciwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXgsICggYXR0YWNoZXMgfHwgMCApICsgMSApO1xuXHRcdFx0fSxcblx0XHRcdHRlYXJkb3duOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGRvYyA9IHRoaXMub3duZXJEb2N1bWVudCB8fCB0aGlzLFxuXHRcdFx0XHRcdGF0dGFjaGVzID0gZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCApIC0gMTtcblxuXHRcdFx0XHRpZiAoICFhdHRhY2hlcyApIHtcblx0XHRcdFx0XHRkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lciggb3JpZywgaGFuZGxlciwgdHJ1ZSApO1xuXHRcdFx0XHRcdGRhdGFQcml2LnJlbW92ZSggZG9jLCBmaXggKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXgsIGF0dGFjaGVzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9ICk7XG59XG52YXIgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247XG5cbnZhciBub25jZSA9IGpRdWVyeS5ub3coKTtcblxudmFyIHJxdWVyeSA9ICggL1xcPy8gKTtcblxuXG5cbi8vIENyb3NzLWJyb3dzZXIgeG1sIHBhcnNpbmdcbmpRdWVyeS5wYXJzZVhNTCA9IGZ1bmN0aW9uKCBkYXRhICkge1xuXHR2YXIgeG1sO1xuXHRpZiAoICFkYXRhIHx8IHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Ly8gU3VwcG9ydDogSUUgOSAtIDExIG9ubHlcblx0Ly8gSUUgdGhyb3dzIG9uIHBhcnNlRnJvbVN0cmluZyB3aXRoIGludmFsaWQgaW5wdXQuXG5cdHRyeSB7XG5cdFx0eG1sID0gKCBuZXcgd2luZG93LkRPTVBhcnNlcigpICkucGFyc2VGcm9tU3RyaW5nKCBkYXRhLCBcInRleHQveG1sXCIgKTtcblx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0eG1sID0gdW5kZWZpbmVkO1xuXHR9XG5cblx0aWYgKCAheG1sIHx8IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJwYXJzZXJlcnJvclwiICkubGVuZ3RoICkge1xuXHRcdGpRdWVyeS5lcnJvciggXCJJbnZhbGlkIFhNTDogXCIgKyBkYXRhICk7XG5cdH1cblx0cmV0dXJuIHhtbDtcbn07XG5cblxudmFyXG5cdHJicmFja2V0ID0gL1xcW1xcXSQvLFxuXHRyQ1JMRiA9IC9cXHI/XFxuL2csXG5cdHJzdWJtaXR0ZXJUeXBlcyA9IC9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxcblx0cnN1Ym1pdHRhYmxlID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO1xuXG5mdW5jdGlvbiBidWlsZFBhcmFtcyggcHJlZml4LCBvYmosIHRyYWRpdGlvbmFsLCBhZGQgKSB7XG5cdHZhciBuYW1lO1xuXG5cdGlmICggalF1ZXJ5LmlzQXJyYXkoIG9iaiApICkge1xuXG5cdFx0Ly8gU2VyaWFsaXplIGFycmF5IGl0ZW0uXG5cdFx0alF1ZXJ5LmVhY2goIG9iaiwgZnVuY3Rpb24oIGksIHYgKSB7XG5cdFx0XHRpZiAoIHRyYWRpdGlvbmFsIHx8IHJicmFja2V0LnRlc3QoIHByZWZpeCApICkge1xuXG5cdFx0XHRcdC8vIFRyZWF0IGVhY2ggYXJyYXkgaXRlbSBhcyBhIHNjYWxhci5cblx0XHRcdFx0YWRkKCBwcmVmaXgsIHYgKTtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQvLyBJdGVtIGlzIG5vbi1zY2FsYXIgKGFycmF5IG9yIG9iamVjdCksIGVuY29kZSBpdHMgbnVtZXJpYyBpbmRleC5cblx0XHRcdFx0YnVpbGRQYXJhbXMoXG5cdFx0XHRcdFx0cHJlZml4ICsgXCJbXCIgKyAoIHR5cGVvZiB2ID09PSBcIm9iamVjdFwiICYmIHYgIT0gbnVsbCA/IGkgOiBcIlwiICkgKyBcIl1cIixcblx0XHRcdFx0XHR2LFxuXHRcdFx0XHRcdHRyYWRpdGlvbmFsLFxuXHRcdFx0XHRcdGFkZFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH0gKTtcblxuXHR9IGVsc2UgaWYgKCAhdHJhZGl0aW9uYWwgJiYgalF1ZXJ5LnR5cGUoIG9iaiApID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0Ly8gU2VyaWFsaXplIG9iamVjdCBpdGVtLlxuXHRcdGZvciAoIG5hbWUgaW4gb2JqICkge1xuXHRcdFx0YnVpbGRQYXJhbXMoIHByZWZpeCArIFwiW1wiICsgbmFtZSArIFwiXVwiLCBvYmpbIG5hbWUgXSwgdHJhZGl0aW9uYWwsIGFkZCApO1xuXHRcdH1cblxuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gU2VyaWFsaXplIHNjYWxhciBpdGVtLlxuXHRcdGFkZCggcHJlZml4LCBvYmogKTtcblx0fVxufVxuXG4vLyBTZXJpYWxpemUgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cyBvciBhIHNldCBvZlxuLy8ga2V5L3ZhbHVlcyBpbnRvIGEgcXVlcnkgc3RyaW5nXG5qUXVlcnkucGFyYW0gPSBmdW5jdGlvbiggYSwgdHJhZGl0aW9uYWwgKSB7XG5cdHZhciBwcmVmaXgsXG5cdFx0cyA9IFtdLFxuXHRcdGFkZCA9IGZ1bmN0aW9uKCBrZXksIHZhbHVlT3JGdW5jdGlvbiApIHtcblxuXHRcdFx0Ly8gSWYgdmFsdWUgaXMgYSBmdW5jdGlvbiwgaW52b2tlIGl0IGFuZCB1c2UgaXRzIHJldHVybiB2YWx1ZVxuXHRcdFx0dmFyIHZhbHVlID0galF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlT3JGdW5jdGlvbiApID9cblx0XHRcdFx0dmFsdWVPckZ1bmN0aW9uKCkgOlxuXHRcdFx0XHR2YWx1ZU9yRnVuY3Rpb247XG5cblx0XHRcdHNbIHMubGVuZ3RoIF0gPSBlbmNvZGVVUklDb21wb25lbnQoIGtleSApICsgXCI9XCIgK1xuXHRcdFx0XHRlbmNvZGVVUklDb21wb25lbnQoIHZhbHVlID09IG51bGwgPyBcIlwiIDogdmFsdWUgKTtcblx0XHR9O1xuXG5cdC8vIElmIGFuIGFycmF5IHdhcyBwYXNzZWQgaW4sIGFzc3VtZSB0aGF0IGl0IGlzIGFuIGFycmF5IG9mIGZvcm0gZWxlbWVudHMuXG5cdGlmICggalF1ZXJ5LmlzQXJyYXkoIGEgKSB8fCAoIGEuanF1ZXJ5ICYmICFqUXVlcnkuaXNQbGFpbk9iamVjdCggYSApICkgKSB7XG5cblx0XHQvLyBTZXJpYWxpemUgdGhlIGZvcm0gZWxlbWVudHNcblx0XHRqUXVlcnkuZWFjaCggYSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRhZGQoIHRoaXMubmFtZSwgdGhpcy52YWx1ZSApO1xuXHRcdH0gKTtcblxuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gSWYgdHJhZGl0aW9uYWwsIGVuY29kZSB0aGUgXCJvbGRcIiB3YXkgKHRoZSB3YXkgMS4zLjIgb3Igb2xkZXJcblx0XHQvLyBkaWQgaXQpLCBvdGhlcndpc2UgZW5jb2RlIHBhcmFtcyByZWN1cnNpdmVseS5cblx0XHRmb3IgKCBwcmVmaXggaW4gYSApIHtcblx0XHRcdGJ1aWxkUGFyYW1zKCBwcmVmaXgsIGFbIHByZWZpeCBdLCB0cmFkaXRpb25hbCwgYWRkICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmV0dXJuIHRoZSByZXN1bHRpbmcgc2VyaWFsaXphdGlvblxuXHRyZXR1cm4gcy5qb2luKCBcIiZcIiApO1xufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRzZXJpYWxpemU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBqUXVlcnkucGFyYW0oIHRoaXMuc2VyaWFsaXplQXJyYXkoKSApO1xuXHR9LFxuXHRzZXJpYWxpemVBcnJheTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gQ2FuIGFkZCBwcm9wSG9vayBmb3IgXCJlbGVtZW50c1wiIHRvIGZpbHRlciBvciBhZGQgZm9ybSBlbGVtZW50c1xuXHRcdFx0dmFyIGVsZW1lbnRzID0galF1ZXJ5LnByb3AoIHRoaXMsIFwiZWxlbWVudHNcIiApO1xuXHRcdFx0cmV0dXJuIGVsZW1lbnRzID8galF1ZXJ5Lm1ha2VBcnJheSggZWxlbWVudHMgKSA6IHRoaXM7XG5cdFx0fSApXG5cdFx0LmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgdHlwZSA9IHRoaXMudHlwZTtcblxuXHRcdFx0Ly8gVXNlIC5pcyggXCI6ZGlzYWJsZWRcIiApIHNvIHRoYXQgZmllbGRzZXRbZGlzYWJsZWRdIHdvcmtzXG5cdFx0XHRyZXR1cm4gdGhpcy5uYW1lICYmICFqUXVlcnkoIHRoaXMgKS5pcyggXCI6ZGlzYWJsZWRcIiApICYmXG5cdFx0XHRcdHJzdWJtaXR0YWJsZS50ZXN0KCB0aGlzLm5vZGVOYW1lICkgJiYgIXJzdWJtaXR0ZXJUeXBlcy50ZXN0KCB0eXBlICkgJiZcblx0XHRcdFx0KCB0aGlzLmNoZWNrZWQgfHwgIXJjaGVja2FibGVUeXBlLnRlc3QoIHR5cGUgKSApO1xuXHRcdH0gKVxuXHRcdC5tYXAoIGZ1bmN0aW9uKCBpLCBlbGVtICkge1xuXHRcdFx0dmFyIHZhbCA9IGpRdWVyeSggdGhpcyApLnZhbCgpO1xuXG5cdFx0XHRyZXR1cm4gdmFsID09IG51bGwgP1xuXHRcdFx0XHRudWxsIDpcblx0XHRcdFx0alF1ZXJ5LmlzQXJyYXkoIHZhbCApID9cblx0XHRcdFx0XHRqUXVlcnkubWFwKCB2YWwsIGZ1bmN0aW9uKCB2YWwgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4geyBuYW1lOiBlbGVtLm5hbWUsIHZhbHVlOiB2YWwucmVwbGFjZSggckNSTEYsIFwiXFxyXFxuXCIgKSB9O1xuXHRcdFx0XHRcdH0gKSA6XG5cdFx0XHRcdFx0eyBuYW1lOiBlbGVtLm5hbWUsIHZhbHVlOiB2YWwucmVwbGFjZSggckNSTEYsIFwiXFxyXFxuXCIgKSB9O1xuXHRcdH0gKS5nZXQoKTtcblx0fVxufSApO1xuXG5cbnZhclxuXHRyMjAgPSAvJTIwL2csXG5cdHJoYXNoID0gLyMuKiQvLFxuXHRydHMgPSAvKFs/Jl0pXz1bXiZdKi8sXG5cdHJoZWFkZXJzID0gL14oLio/KTpbIFxcdF0qKFteXFxyXFxuXSopJC9tZyxcblxuXHQvLyAjNzY1MywgIzgxMjUsICM4MTUyOiBsb2NhbCBwcm90b2NvbCBkZXRlY3Rpb25cblx0cmxvY2FsUHJvdG9jb2wgPSAvXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxcblx0cm5vQ29udGVudCA9IC9eKD86R0VUfEhFQUQpJC8sXG5cdHJwcm90b2NvbCA9IC9eXFwvXFwvLyxcblxuXHQvKiBQcmVmaWx0ZXJzXG5cdCAqIDEpIFRoZXkgYXJlIHVzZWZ1bCB0byBpbnRyb2R1Y2UgY3VzdG9tIGRhdGFUeXBlcyAoc2VlIGFqYXgvanNvbnAuanMgZm9yIGFuIGV4YW1wbGUpXG5cdCAqIDIpIFRoZXNlIGFyZSBjYWxsZWQ6XG5cdCAqICAgIC0gQkVGT1JFIGFza2luZyBmb3IgYSB0cmFuc3BvcnRcblx0ICogICAgLSBBRlRFUiBwYXJhbSBzZXJpYWxpemF0aW9uIChzLmRhdGEgaXMgYSBzdHJpbmcgaWYgcy5wcm9jZXNzRGF0YSBpcyB0cnVlKVxuXHQgKiAzKSBrZXkgaXMgdGhlIGRhdGFUeXBlXG5cdCAqIDQpIHRoZSBjYXRjaGFsbCBzeW1ib2wgXCIqXCIgY2FuIGJlIHVzZWRcblx0ICogNSkgZXhlY3V0aW9uIHdpbGwgc3RhcnQgd2l0aCB0cmFuc3BvcnQgZGF0YVR5cGUgYW5kIFRIRU4gY29udGludWUgZG93biB0byBcIipcIiBpZiBuZWVkZWRcblx0ICovXG5cdHByZWZpbHRlcnMgPSB7fSxcblxuXHQvKiBUcmFuc3BvcnRzIGJpbmRpbmdzXG5cdCAqIDEpIGtleSBpcyB0aGUgZGF0YVR5cGVcblx0ICogMikgdGhlIGNhdGNoYWxsIHN5bWJvbCBcIipcIiBjYW4gYmUgdXNlZFxuXHQgKiAzKSBzZWxlY3Rpb24gd2lsbCBzdGFydCB3aXRoIHRyYW5zcG9ydCBkYXRhVHlwZSBhbmQgVEhFTiBnbyB0byBcIipcIiBpZiBuZWVkZWRcblx0ICovXG5cdHRyYW5zcG9ydHMgPSB7fSxcblxuXHQvLyBBdm9pZCBjb21tZW50LXByb2xvZyBjaGFyIHNlcXVlbmNlICgjMTAwOTgpOyBtdXN0IGFwcGVhc2UgbGludCBhbmQgZXZhZGUgY29tcHJlc3Npb25cblx0YWxsVHlwZXMgPSBcIiovXCIuY29uY2F0KCBcIipcIiApLFxuXG5cdC8vIEFuY2hvciB0YWcgZm9yIHBhcnNpbmcgdGhlIGRvY3VtZW50IG9yaWdpblxuXHRvcmlnaW5BbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImFcIiApO1xuXHRvcmlnaW5BbmNob3IuaHJlZiA9IGxvY2F0aW9uLmhyZWY7XG5cbi8vIEJhc2UgXCJjb25zdHJ1Y3RvclwiIGZvciBqUXVlcnkuYWpheFByZWZpbHRlciBhbmQgalF1ZXJ5LmFqYXhUcmFuc3BvcnRcbmZ1bmN0aW9uIGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggc3RydWN0dXJlICkge1xuXG5cdC8vIGRhdGFUeXBlRXhwcmVzc2lvbiBpcyBvcHRpb25hbCBhbmQgZGVmYXVsdHMgdG8gXCIqXCJcblx0cmV0dXJuIGZ1bmN0aW9uKCBkYXRhVHlwZUV4cHJlc3Npb24sIGZ1bmMgKSB7XG5cblx0XHRpZiAoIHR5cGVvZiBkYXRhVHlwZUV4cHJlc3Npb24gIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRmdW5jID0gZGF0YVR5cGVFeHByZXNzaW9uO1xuXHRcdFx0ZGF0YVR5cGVFeHByZXNzaW9uID0gXCIqXCI7XG5cdFx0fVxuXG5cdFx0dmFyIGRhdGFUeXBlLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRkYXRhVHlwZXMgPSBkYXRhVHlwZUV4cHJlc3Npb24udG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdHdoaXRlICkgfHwgW107XG5cblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBmdW5jICkgKSB7XG5cblx0XHRcdC8vIEZvciBlYWNoIGRhdGFUeXBlIGluIHRoZSBkYXRhVHlwZUV4cHJlc3Npb25cblx0XHRcdHdoaWxlICggKCBkYXRhVHlwZSA9IGRhdGFUeXBlc1sgaSsrIF0gKSApIHtcblxuXHRcdFx0XHQvLyBQcmVwZW5kIGlmIHJlcXVlc3RlZFxuXHRcdFx0XHRpZiAoIGRhdGFUeXBlWyAwIF0gPT09IFwiK1wiICkge1xuXHRcdFx0XHRcdGRhdGFUeXBlID0gZGF0YVR5cGUuc2xpY2UoIDEgKSB8fCBcIipcIjtcblx0XHRcdFx0XHQoIHN0cnVjdHVyZVsgZGF0YVR5cGUgXSA9IHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSApLnVuc2hpZnQoIGZ1bmMgKTtcblxuXHRcdFx0XHQvLyBPdGhlcndpc2UgYXBwZW5kXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0KCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gPSBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10gKS5wdXNoKCBmdW5jICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vIEJhc2UgaW5zcGVjdGlvbiBmdW5jdGlvbiBmb3IgcHJlZmlsdGVycyBhbmQgdHJhbnNwb3J0c1xuZnVuY3Rpb24gaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHN0cnVjdHVyZSwgb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zLCBqcVhIUiApIHtcblxuXHR2YXIgaW5zcGVjdGVkID0ge30sXG5cdFx0c2Vla2luZ1RyYW5zcG9ydCA9ICggc3RydWN0dXJlID09PSB0cmFuc3BvcnRzICk7XG5cblx0ZnVuY3Rpb24gaW5zcGVjdCggZGF0YVR5cGUgKSB7XG5cdFx0dmFyIHNlbGVjdGVkO1xuXHRcdGluc3BlY3RlZFsgZGF0YVR5cGUgXSA9IHRydWU7XG5cdFx0alF1ZXJ5LmVhY2goIHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSwgZnVuY3Rpb24oIF8sIHByZWZpbHRlck9yRmFjdG9yeSApIHtcblx0XHRcdHZhciBkYXRhVHlwZU9yVHJhbnNwb3J0ID0gcHJlZmlsdGVyT3JGYWN0b3J5KCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMsIGpxWEhSICk7XG5cdFx0XHRpZiAoIHR5cGVvZiBkYXRhVHlwZU9yVHJhbnNwb3J0ID09PSBcInN0cmluZ1wiICYmXG5cdFx0XHRcdCFzZWVraW5nVHJhbnNwb3J0ICYmICFpbnNwZWN0ZWRbIGRhdGFUeXBlT3JUcmFuc3BvcnQgXSApIHtcblxuXHRcdFx0XHRvcHRpb25zLmRhdGFUeXBlcy51bnNoaWZ0KCBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7XG5cdFx0XHRcdGluc3BlY3QoIGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fSBlbHNlIGlmICggc2Vla2luZ1RyYW5zcG9ydCApIHtcblx0XHRcdFx0cmV0dXJuICEoIHNlbGVjdGVkID0gZGF0YVR5cGVPclRyYW5zcG9ydCApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0XHRyZXR1cm4gc2VsZWN0ZWQ7XG5cdH1cblxuXHRyZXR1cm4gaW5zcGVjdCggb3B0aW9ucy5kYXRhVHlwZXNbIDAgXSApIHx8ICFpbnNwZWN0ZWRbIFwiKlwiIF0gJiYgaW5zcGVjdCggXCIqXCIgKTtcbn1cblxuLy8gQSBzcGVjaWFsIGV4dGVuZCBmb3IgYWpheCBvcHRpb25zXG4vLyB0aGF0IHRha2VzIFwiZmxhdFwiIG9wdGlvbnMgKG5vdCB0byBiZSBkZWVwIGV4dGVuZGVkKVxuLy8gRml4ZXMgIzk4ODdcbmZ1bmN0aW9uIGFqYXhFeHRlbmQoIHRhcmdldCwgc3JjICkge1xuXHR2YXIga2V5LCBkZWVwLFxuXHRcdGZsYXRPcHRpb25zID0galF1ZXJ5LmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9ucyB8fCB7fTtcblxuXHRmb3IgKCBrZXkgaW4gc3JjICkge1xuXHRcdGlmICggc3JjWyBrZXkgXSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0KCBmbGF0T3B0aW9uc1sga2V5IF0gPyB0YXJnZXQgOiAoIGRlZXAgfHwgKCBkZWVwID0ge30gKSApIClbIGtleSBdID0gc3JjWyBrZXkgXTtcblx0XHR9XG5cdH1cblx0aWYgKCBkZWVwICkge1xuXHRcdGpRdWVyeS5leHRlbmQoIHRydWUsIHRhcmdldCwgZGVlcCApO1xuXHR9XG5cblx0cmV0dXJuIHRhcmdldDtcbn1cblxuLyogSGFuZGxlcyByZXNwb25zZXMgdG8gYW4gYWpheCByZXF1ZXN0OlxuICogLSBmaW5kcyB0aGUgcmlnaHQgZGF0YVR5cGUgKG1lZGlhdGVzIGJldHdlZW4gY29udGVudC10eXBlIGFuZCBleHBlY3RlZCBkYXRhVHlwZSlcbiAqIC0gcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyByZXNwb25zZVxuICovXG5mdW5jdGlvbiBhamF4SGFuZGxlUmVzcG9uc2VzKCBzLCBqcVhIUiwgcmVzcG9uc2VzICkge1xuXG5cdHZhciBjdCwgdHlwZSwgZmluYWxEYXRhVHlwZSwgZmlyc3REYXRhVHlwZSxcblx0XHRjb250ZW50cyA9IHMuY29udGVudHMsXG5cdFx0ZGF0YVR5cGVzID0gcy5kYXRhVHlwZXM7XG5cblx0Ly8gUmVtb3ZlIGF1dG8gZGF0YVR5cGUgYW5kIGdldCBjb250ZW50LXR5cGUgaW4gdGhlIHByb2Nlc3Ncblx0d2hpbGUgKCBkYXRhVHlwZXNbIDAgXSA9PT0gXCIqXCIgKSB7XG5cdFx0ZGF0YVR5cGVzLnNoaWZ0KCk7XG5cdFx0aWYgKCBjdCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0Y3QgPSBzLm1pbWVUeXBlIHx8IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCBcIkNvbnRlbnQtVHlwZVwiICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ2hlY2sgaWYgd2UncmUgZGVhbGluZyB3aXRoIGEga25vd24gY29udGVudC10eXBlXG5cdGlmICggY3QgKSB7XG5cdFx0Zm9yICggdHlwZSBpbiBjb250ZW50cyApIHtcblx0XHRcdGlmICggY29udGVudHNbIHR5cGUgXSAmJiBjb250ZW50c1sgdHlwZSBdLnRlc3QoIGN0ICkgKSB7XG5cdFx0XHRcdGRhdGFUeXBlcy51bnNoaWZ0KCB0eXBlICk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIENoZWNrIHRvIHNlZSBpZiB3ZSBoYXZlIGEgcmVzcG9uc2UgZm9yIHRoZSBleHBlY3RlZCBkYXRhVHlwZVxuXHRpZiAoIGRhdGFUeXBlc1sgMCBdIGluIHJlc3BvbnNlcyApIHtcblx0XHRmaW5hbERhdGFUeXBlID0gZGF0YVR5cGVzWyAwIF07XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBUcnkgY29udmVydGlibGUgZGF0YVR5cGVzXG5cdFx0Zm9yICggdHlwZSBpbiByZXNwb25zZXMgKSB7XG5cdFx0XHRpZiAoICFkYXRhVHlwZXNbIDAgXSB8fCBzLmNvbnZlcnRlcnNbIHR5cGUgKyBcIiBcIiArIGRhdGFUeXBlc1sgMCBdIF0gKSB7XG5cdFx0XHRcdGZpbmFsRGF0YVR5cGUgPSB0eXBlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGlmICggIWZpcnN0RGF0YVR5cGUgKSB7XG5cdFx0XHRcdGZpcnN0RGF0YVR5cGUgPSB0eXBlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIE9yIGp1c3QgdXNlIGZpcnN0IG9uZVxuXHRcdGZpbmFsRGF0YVR5cGUgPSBmaW5hbERhdGFUeXBlIHx8IGZpcnN0RGF0YVR5cGU7XG5cdH1cblxuXHQvLyBJZiB3ZSBmb3VuZCBhIGRhdGFUeXBlXG5cdC8vIFdlIGFkZCB0aGUgZGF0YVR5cGUgdG8gdGhlIGxpc3QgaWYgbmVlZGVkXG5cdC8vIGFuZCByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmcgcmVzcG9uc2Vcblx0aWYgKCBmaW5hbERhdGFUeXBlICkge1xuXHRcdGlmICggZmluYWxEYXRhVHlwZSAhPT0gZGF0YVR5cGVzWyAwIF0gKSB7XG5cdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggZmluYWxEYXRhVHlwZSApO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzcG9uc2VzWyBmaW5hbERhdGFUeXBlIF07XG5cdH1cbn1cblxuLyogQ2hhaW4gY29udmVyc2lvbnMgZ2l2ZW4gdGhlIHJlcXVlc3QgYW5kIHRoZSBvcmlnaW5hbCByZXNwb25zZVxuICogQWxzbyBzZXRzIHRoZSByZXNwb25zZVhYWCBmaWVsZHMgb24gdGhlIGpxWEhSIGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIGFqYXhDb252ZXJ0KCBzLCByZXNwb25zZSwganFYSFIsIGlzU3VjY2VzcyApIHtcblx0dmFyIGNvbnYyLCBjdXJyZW50LCBjb252LCB0bXAsIHByZXYsXG5cdFx0Y29udmVydGVycyA9IHt9LFxuXG5cdFx0Ly8gV29yayB3aXRoIGEgY29weSBvZiBkYXRhVHlwZXMgaW4gY2FzZSB3ZSBuZWVkIHRvIG1vZGlmeSBpdCBmb3IgY29udmVyc2lvblxuXHRcdGRhdGFUeXBlcyA9IHMuZGF0YVR5cGVzLnNsaWNlKCk7XG5cblx0Ly8gQ3JlYXRlIGNvbnZlcnRlcnMgbWFwIHdpdGggbG93ZXJjYXNlZCBrZXlzXG5cdGlmICggZGF0YVR5cGVzWyAxIF0gKSB7XG5cdFx0Zm9yICggY29udiBpbiBzLmNvbnZlcnRlcnMgKSB7XG5cdFx0XHRjb252ZXJ0ZXJzWyBjb252LnRvTG93ZXJDYXNlKCkgXSA9IHMuY29udmVydGVyc1sgY29udiBdO1xuXHRcdH1cblx0fVxuXG5cdGN1cnJlbnQgPSBkYXRhVHlwZXMuc2hpZnQoKTtcblxuXHQvLyBDb252ZXJ0IHRvIGVhY2ggc2VxdWVudGlhbCBkYXRhVHlwZVxuXHR3aGlsZSAoIGN1cnJlbnQgKSB7XG5cblx0XHRpZiAoIHMucmVzcG9uc2VGaWVsZHNbIGN1cnJlbnQgXSApIHtcblx0XHRcdGpxWEhSWyBzLnJlc3BvbnNlRmllbGRzWyBjdXJyZW50IF0gXSA9IHJlc3BvbnNlO1xuXHRcdH1cblxuXHRcdC8vIEFwcGx5IHRoZSBkYXRhRmlsdGVyIGlmIHByb3ZpZGVkXG5cdFx0aWYgKCAhcHJldiAmJiBpc1N1Y2Nlc3MgJiYgcy5kYXRhRmlsdGVyICkge1xuXHRcdFx0cmVzcG9uc2UgPSBzLmRhdGFGaWx0ZXIoIHJlc3BvbnNlLCBzLmRhdGFUeXBlICk7XG5cdFx0fVxuXG5cdFx0cHJldiA9IGN1cnJlbnQ7XG5cdFx0Y3VycmVudCA9IGRhdGFUeXBlcy5zaGlmdCgpO1xuXG5cdFx0aWYgKCBjdXJyZW50ICkge1xuXG5cdFx0XHQvLyBUaGVyZSdzIG9ubHkgd29yayB0byBkbyBpZiBjdXJyZW50IGRhdGFUeXBlIGlzIG5vbi1hdXRvXG5cdFx0XHRpZiAoIGN1cnJlbnQgPT09IFwiKlwiICkge1xuXG5cdFx0XHRcdGN1cnJlbnQgPSBwcmV2O1xuXG5cdFx0XHQvLyBDb252ZXJ0IHJlc3BvbnNlIGlmIHByZXYgZGF0YVR5cGUgaXMgbm9uLWF1dG8gYW5kIGRpZmZlcnMgZnJvbSBjdXJyZW50XG5cdFx0XHR9IGVsc2UgaWYgKCBwcmV2ICE9PSBcIipcIiAmJiBwcmV2ICE9PSBjdXJyZW50ICkge1xuXG5cdFx0XHRcdC8vIFNlZWsgYSBkaXJlY3QgY29udmVydGVyXG5cdFx0XHRcdGNvbnYgPSBjb252ZXJ0ZXJzWyBwcmV2ICsgXCIgXCIgKyBjdXJyZW50IF0gfHwgY29udmVydGVyc1sgXCIqIFwiICsgY3VycmVudCBdO1xuXG5cdFx0XHRcdC8vIElmIG5vbmUgZm91bmQsIHNlZWsgYSBwYWlyXG5cdFx0XHRcdGlmICggIWNvbnYgKSB7XG5cdFx0XHRcdFx0Zm9yICggY29udjIgaW4gY29udmVydGVycyApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSWYgY29udjIgb3V0cHV0cyBjdXJyZW50XG5cdFx0XHRcdFx0XHR0bXAgPSBjb252Mi5zcGxpdCggXCIgXCIgKTtcblx0XHRcdFx0XHRcdGlmICggdG1wWyAxIF0gPT09IGN1cnJlbnQgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gSWYgcHJldiBjYW4gYmUgY29udmVydGVkIHRvIGFjY2VwdGVkIGlucHV0XG5cdFx0XHRcdFx0XHRcdGNvbnYgPSBjb252ZXJ0ZXJzWyBwcmV2ICsgXCIgXCIgKyB0bXBbIDAgXSBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0Y29udmVydGVyc1sgXCIqIFwiICsgdG1wWyAwIF0gXTtcblx0XHRcdFx0XHRcdFx0aWYgKCBjb252ICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gQ29uZGVuc2UgZXF1aXZhbGVuY2UgY29udmVydGVyc1xuXHRcdFx0XHRcdFx0XHRcdGlmICggY29udiA9PT0gdHJ1ZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnYgPSBjb252ZXJ0ZXJzWyBjb252MiBdO1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCBpbnNlcnQgdGhlIGludGVybWVkaWF0ZSBkYXRhVHlwZVxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIGNvbnZlcnRlcnNbIGNvbnYyIF0gIT09IHRydWUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjdXJyZW50ID0gdG1wWyAwIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggdG1wWyAxIF0gKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBBcHBseSBjb252ZXJ0ZXIgKGlmIG5vdCBhbiBlcXVpdmFsZW5jZSlcblx0XHRcdFx0aWYgKCBjb252ICE9PSB0cnVlICkge1xuXG5cdFx0XHRcdFx0Ly8gVW5sZXNzIGVycm9ycyBhcmUgYWxsb3dlZCB0byBidWJibGUsIGNhdGNoIGFuZCByZXR1cm4gdGhlbVxuXHRcdFx0XHRcdGlmICggY29udiAmJiBzLnRocm93cyApIHtcblx0XHRcdFx0XHRcdHJlc3BvbnNlID0gY29udiggcmVzcG9uc2UgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0cmVzcG9uc2UgPSBjb252KCByZXNwb25zZSApO1xuXHRcdFx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdFx0c3RhdGU6IFwicGFyc2VyZXJyb3JcIixcblx0XHRcdFx0XHRcdFx0XHRlcnJvcjogY29udiA/IGUgOiBcIk5vIGNvbnZlcnNpb24gZnJvbSBcIiArIHByZXYgKyBcIiB0byBcIiArIGN1cnJlbnRcblx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4geyBzdGF0ZTogXCJzdWNjZXNzXCIsIGRhdGE6IHJlc3BvbnNlIH07XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHQvLyBDb3VudGVyIGZvciBob2xkaW5nIHRoZSBudW1iZXIgb2YgYWN0aXZlIHF1ZXJpZXNcblx0YWN0aXZlOiAwLFxuXG5cdC8vIExhc3QtTW9kaWZpZWQgaGVhZGVyIGNhY2hlIGZvciBuZXh0IHJlcXVlc3Rcblx0bGFzdE1vZGlmaWVkOiB7fSxcblx0ZXRhZzoge30sXG5cblx0YWpheFNldHRpbmdzOiB7XG5cdFx0dXJsOiBsb2NhdGlvbi5ocmVmLFxuXHRcdHR5cGU6IFwiR0VUXCIsXG5cdFx0aXNMb2NhbDogcmxvY2FsUHJvdG9jb2wudGVzdCggbG9jYXRpb24ucHJvdG9jb2wgKSxcblx0XHRnbG9iYWw6IHRydWUsXG5cdFx0cHJvY2Vzc0RhdGE6IHRydWUsXG5cdFx0YXN5bmM6IHRydWUsXG5cdFx0Y29udGVudFR5cGU6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04XCIsXG5cblx0XHQvKlxuXHRcdHRpbWVvdXQ6IDAsXG5cdFx0ZGF0YTogbnVsbCxcblx0XHRkYXRhVHlwZTogbnVsbCxcblx0XHR1c2VybmFtZTogbnVsbCxcblx0XHRwYXNzd29yZDogbnVsbCxcblx0XHRjYWNoZTogbnVsbCxcblx0XHR0aHJvd3M6IGZhbHNlLFxuXHRcdHRyYWRpdGlvbmFsOiBmYWxzZSxcblx0XHRoZWFkZXJzOiB7fSxcblx0XHQqL1xuXG5cdFx0YWNjZXB0czoge1xuXHRcdFx0XCIqXCI6IGFsbFR5cGVzLFxuXHRcdFx0dGV4dDogXCJ0ZXh0L3BsYWluXCIsXG5cdFx0XHRodG1sOiBcInRleHQvaHRtbFwiLFxuXHRcdFx0eG1sOiBcImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWxcIixcblx0XHRcdGpzb246IFwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0XCJcblx0XHR9LFxuXG5cdFx0Y29udGVudHM6IHtcblx0XHRcdHhtbDogL1xcYnhtbFxcYi8sXG5cdFx0XHRodG1sOiAvXFxiaHRtbC8sXG5cdFx0XHRqc29uOiAvXFxianNvblxcYi9cblx0XHR9LFxuXG5cdFx0cmVzcG9uc2VGaWVsZHM6IHtcblx0XHRcdHhtbDogXCJyZXNwb25zZVhNTFwiLFxuXHRcdFx0dGV4dDogXCJyZXNwb25zZVRleHRcIixcblx0XHRcdGpzb246IFwicmVzcG9uc2VKU09OXCJcblx0XHR9LFxuXG5cdFx0Ly8gRGF0YSBjb252ZXJ0ZXJzXG5cdFx0Ly8gS2V5cyBzZXBhcmF0ZSBzb3VyY2UgKG9yIGNhdGNoYWxsIFwiKlwiKSBhbmQgZGVzdGluYXRpb24gdHlwZXMgd2l0aCBhIHNpbmdsZSBzcGFjZVxuXHRcdGNvbnZlcnRlcnM6IHtcblxuXHRcdFx0Ly8gQ29udmVydCBhbnl0aGluZyB0byB0ZXh0XG5cdFx0XHRcIiogdGV4dFwiOiBTdHJpbmcsXG5cblx0XHRcdC8vIFRleHQgdG8gaHRtbCAodHJ1ZSA9IG5vIHRyYW5zZm9ybWF0aW9uKVxuXHRcdFx0XCJ0ZXh0IGh0bWxcIjogdHJ1ZSxcblxuXHRcdFx0Ly8gRXZhbHVhdGUgdGV4dCBhcyBhIGpzb24gZXhwcmVzc2lvblxuXHRcdFx0XCJ0ZXh0IGpzb25cIjogSlNPTi5wYXJzZSxcblxuXHRcdFx0Ly8gUGFyc2UgdGV4dCBhcyB4bWxcblx0XHRcdFwidGV4dCB4bWxcIjogalF1ZXJ5LnBhcnNlWE1MXG5cdFx0fSxcblxuXHRcdC8vIEZvciBvcHRpb25zIHRoYXQgc2hvdWxkbid0IGJlIGRlZXAgZXh0ZW5kZWQ6XG5cdFx0Ly8geW91IGNhbiBhZGQgeW91ciBvd24gY3VzdG9tIG9wdGlvbnMgaGVyZSBpZlxuXHRcdC8vIGFuZCB3aGVuIHlvdSBjcmVhdGUgb25lIHRoYXQgc2hvdWxkbid0IGJlXG5cdFx0Ly8gZGVlcCBleHRlbmRlZCAoc2VlIGFqYXhFeHRlbmQpXG5cdFx0ZmxhdE9wdGlvbnM6IHtcblx0XHRcdHVybDogdHJ1ZSxcblx0XHRcdGNvbnRleHQ6IHRydWVcblx0XHR9XG5cdH0sXG5cblx0Ly8gQ3JlYXRlcyBhIGZ1bGwgZmxlZGdlZCBzZXR0aW5ncyBvYmplY3QgaW50byB0YXJnZXRcblx0Ly8gd2l0aCBib3RoIGFqYXhTZXR0aW5ncyBhbmQgc2V0dGluZ3MgZmllbGRzLlxuXHQvLyBJZiB0YXJnZXQgaXMgb21pdHRlZCwgd3JpdGVzIGludG8gYWpheFNldHRpbmdzLlxuXHRhamF4U2V0dXA6IGZ1bmN0aW9uKCB0YXJnZXQsIHNldHRpbmdzICkge1xuXHRcdHJldHVybiBzZXR0aW5ncyA/XG5cblx0XHRcdC8vIEJ1aWxkaW5nIGEgc2V0dGluZ3Mgb2JqZWN0XG5cdFx0XHRhamF4RXh0ZW5kKCBhamF4RXh0ZW5kKCB0YXJnZXQsIGpRdWVyeS5hamF4U2V0dGluZ3MgKSwgc2V0dGluZ3MgKSA6XG5cblx0XHRcdC8vIEV4dGVuZGluZyBhamF4U2V0dGluZ3Ncblx0XHRcdGFqYXhFeHRlbmQoIGpRdWVyeS5hamF4U2V0dGluZ3MsIHRhcmdldCApO1xuXHR9LFxuXG5cdGFqYXhQcmVmaWx0ZXI6IGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggcHJlZmlsdGVycyApLFxuXHRhamF4VHJhbnNwb3J0OiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHRyYW5zcG9ydHMgKSxcblxuXHQvLyBNYWluIG1ldGhvZFxuXHRhamF4OiBmdW5jdGlvbiggdXJsLCBvcHRpb25zICkge1xuXG5cdFx0Ly8gSWYgdXJsIGlzIGFuIG9iamVjdCwgc2ltdWxhdGUgcHJlLTEuNSBzaWduYXR1cmVcblx0XHRpZiAoIHR5cGVvZiB1cmwgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0XHRvcHRpb25zID0gdXJsO1xuXHRcdFx0dXJsID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdC8vIEZvcmNlIG9wdGlvbnMgdG8gYmUgYW4gb2JqZWN0XG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0XHR2YXIgdHJhbnNwb3J0LFxuXG5cdFx0XHQvLyBVUkwgd2l0aG91dCBhbnRpLWNhY2hlIHBhcmFtXG5cdFx0XHRjYWNoZVVSTCxcblxuXHRcdFx0Ly8gUmVzcG9uc2UgaGVhZGVyc1xuXHRcdFx0cmVzcG9uc2VIZWFkZXJzU3RyaW5nLFxuXHRcdFx0cmVzcG9uc2VIZWFkZXJzLFxuXG5cdFx0XHQvLyB0aW1lb3V0IGhhbmRsZVxuXHRcdFx0dGltZW91dFRpbWVyLFxuXG5cdFx0XHQvLyBVcmwgY2xlYW51cCB2YXJcblx0XHRcdHVybEFuY2hvcixcblxuXHRcdFx0Ly8gUmVxdWVzdCBzdGF0ZSAoYmVjb21lcyBmYWxzZSB1cG9uIHNlbmQgYW5kIHRydWUgdXBvbiBjb21wbGV0aW9uKVxuXHRcdFx0Y29tcGxldGVkLFxuXG5cdFx0XHQvLyBUbyBrbm93IGlmIGdsb2JhbCBldmVudHMgYXJlIHRvIGJlIGRpc3BhdGNoZWRcblx0XHRcdGZpcmVHbG9iYWxzLFxuXG5cdFx0XHQvLyBMb29wIHZhcmlhYmxlXG5cdFx0XHRpLFxuXG5cdFx0XHQvLyB1bmNhY2hlZCBwYXJ0IG9mIHRoZSB1cmxcblx0XHRcdHVuY2FjaGVkLFxuXG5cdFx0XHQvLyBDcmVhdGUgdGhlIGZpbmFsIG9wdGlvbnMgb2JqZWN0XG5cdFx0XHRzID0galF1ZXJ5LmFqYXhTZXR1cCgge30sIG9wdGlvbnMgKSxcblxuXHRcdFx0Ly8gQ2FsbGJhY2tzIGNvbnRleHRcblx0XHRcdGNhbGxiYWNrQ29udGV4dCA9IHMuY29udGV4dCB8fCBzLFxuXG5cdFx0XHQvLyBDb250ZXh0IGZvciBnbG9iYWwgZXZlbnRzIGlzIGNhbGxiYWNrQ29udGV4dCBpZiBpdCBpcyBhIERPTSBub2RlIG9yIGpRdWVyeSBjb2xsZWN0aW9uXG5cdFx0XHRnbG9iYWxFdmVudENvbnRleHQgPSBzLmNvbnRleHQgJiZcblx0XHRcdFx0KCBjYWxsYmFja0NvbnRleHQubm9kZVR5cGUgfHwgY2FsbGJhY2tDb250ZXh0LmpxdWVyeSApID9cblx0XHRcdFx0XHRqUXVlcnkoIGNhbGxiYWNrQ29udGV4dCApIDpcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQsXG5cblx0XHRcdC8vIERlZmVycmVkc1xuXHRcdFx0ZGVmZXJyZWQgPSBqUXVlcnkuRGVmZXJyZWQoKSxcblx0XHRcdGNvbXBsZXRlRGVmZXJyZWQgPSBqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKSxcblxuXHRcdFx0Ly8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3Ncblx0XHRcdHN0YXR1c0NvZGUgPSBzLnN0YXR1c0NvZGUgfHwge30sXG5cblx0XHRcdC8vIEhlYWRlcnMgKHRoZXkgYXJlIHNlbnQgYWxsIGF0IG9uY2UpXG5cdFx0XHRyZXF1ZXN0SGVhZGVycyA9IHt9LFxuXHRcdFx0cmVxdWVzdEhlYWRlcnNOYW1lcyA9IHt9LFxuXG5cdFx0XHQvLyBEZWZhdWx0IGFib3J0IG1lc3NhZ2Vcblx0XHRcdHN0ckFib3J0ID0gXCJjYW5jZWxlZFwiLFxuXG5cdFx0XHQvLyBGYWtlIHhoclxuXHRcdFx0anFYSFIgPSB7XG5cdFx0XHRcdHJlYWR5U3RhdGU6IDAsXG5cblx0XHRcdFx0Ly8gQnVpbGRzIGhlYWRlcnMgaGFzaHRhYmxlIGlmIG5lZWRlZFxuXHRcdFx0XHRnZXRSZXNwb25zZUhlYWRlcjogZnVuY3Rpb24oIGtleSApIHtcblx0XHRcdFx0XHR2YXIgbWF0Y2g7XG5cdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdFx0XHRpZiAoICFyZXNwb25zZUhlYWRlcnMgKSB7XG5cdFx0XHRcdFx0XHRcdHJlc3BvbnNlSGVhZGVycyA9IHt9O1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoICggbWF0Y2ggPSByaGVhZGVycy5leGVjKCByZXNwb25zZUhlYWRlcnNTdHJpbmcgKSApICkge1xuXHRcdFx0XHRcdFx0XHRcdHJlc3BvbnNlSGVhZGVyc1sgbWF0Y2hbIDEgXS50b0xvd2VyQ2FzZSgpIF0gPSBtYXRjaFsgMiBdO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRtYXRjaCA9IHJlc3BvbnNlSGVhZGVyc1sga2V5LnRvTG93ZXJDYXNlKCkgXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIG1hdGNoID09IG51bGwgPyBudWxsIDogbWF0Y2g7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gUmF3IHN0cmluZ1xuXHRcdFx0XHRnZXRBbGxSZXNwb25zZUhlYWRlcnM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiBjb21wbGV0ZWQgPyByZXNwb25zZUhlYWRlcnNTdHJpbmcgOiBudWxsO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIENhY2hlcyB0aGUgaGVhZGVyXG5cdFx0XHRcdHNldFJlcXVlc3RIZWFkZXI6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRcdFx0XHRpZiAoIGNvbXBsZXRlZCA9PSBudWxsICkge1xuXHRcdFx0XHRcdFx0bmFtZSA9IHJlcXVlc3RIZWFkZXJzTmFtZXNbIG5hbWUudG9Mb3dlckNhc2UoKSBdID1cblx0XHRcdFx0XHRcdFx0cmVxdWVzdEhlYWRlcnNOYW1lc1sgbmFtZS50b0xvd2VyQ2FzZSgpIF0gfHwgbmFtZTtcblx0XHRcdFx0XHRcdHJlcXVlc3RIZWFkZXJzWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gT3ZlcnJpZGVzIHJlc3BvbnNlIGNvbnRlbnQtdHlwZSBoZWFkZXJcblx0XHRcdFx0b3ZlcnJpZGVNaW1lVHlwZTogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdHMubWltZVR5cGUgPSB0eXBlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xuXHRcdFx0XHRzdGF0dXNDb2RlOiBmdW5jdGlvbiggbWFwICkge1xuXHRcdFx0XHRcdHZhciBjb2RlO1xuXHRcdFx0XHRcdGlmICggbWFwICkge1xuXHRcdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gRXhlY3V0ZSB0aGUgYXBwcm9wcmlhdGUgY2FsbGJhY2tzXG5cdFx0XHRcdFx0XHRcdGpxWEhSLmFsd2F5cyggbWFwWyBqcVhIUi5zdGF0dXMgXSApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBMYXp5LWFkZCB0aGUgbmV3IGNhbGxiYWNrcyBpbiBhIHdheSB0aGF0IHByZXNlcnZlcyBvbGQgb25lc1xuXHRcdFx0XHRcdFx0XHRmb3IgKCBjb2RlIGluIG1hcCApIHtcblx0XHRcdFx0XHRcdFx0XHRzdGF0dXNDb2RlWyBjb2RlIF0gPSBbIHN0YXR1c0NvZGVbIGNvZGUgXSwgbWFwWyBjb2RlIF0gXTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBDYW5jZWwgdGhlIHJlcXVlc3Rcblx0XHRcdFx0YWJvcnQ6IGZ1bmN0aW9uKCBzdGF0dXNUZXh0ICkge1xuXHRcdFx0XHRcdHZhciBmaW5hbFRleHQgPSBzdGF0dXNUZXh0IHx8IHN0ckFib3J0O1xuXHRcdFx0XHRcdGlmICggdHJhbnNwb3J0ICkge1xuXHRcdFx0XHRcdFx0dHJhbnNwb3J0LmFib3J0KCBmaW5hbFRleHQgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZG9uZSggMCwgZmluYWxUZXh0ICk7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHQvLyBBdHRhY2ggZGVmZXJyZWRzXG5cdFx0ZGVmZXJyZWQucHJvbWlzZSgganFYSFIgKTtcblxuXHRcdC8vIEFkZCBwcm90b2NvbCBpZiBub3QgcHJvdmlkZWQgKHByZWZpbHRlcnMgbWlnaHQgZXhwZWN0IGl0KVxuXHRcdC8vIEhhbmRsZSBmYWxzeSB1cmwgaW4gdGhlIHNldHRpbmdzIG9iamVjdCAoIzEwMDkzOiBjb25zaXN0ZW5jeSB3aXRoIG9sZCBzaWduYXR1cmUpXG5cdFx0Ly8gV2UgYWxzbyB1c2UgdGhlIHVybCBwYXJhbWV0ZXIgaWYgYXZhaWxhYmxlXG5cdFx0cy51cmwgPSAoICggdXJsIHx8IHMudXJsIHx8IGxvY2F0aW9uLmhyZWYgKSArIFwiXCIgKVxuXHRcdFx0LnJlcGxhY2UoIHJwcm90b2NvbCwgbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKTtcblxuXHRcdC8vIEFsaWFzIG1ldGhvZCBvcHRpb24gdG8gdHlwZSBhcyBwZXIgdGlja2V0ICMxMjAwNFxuXHRcdHMudHlwZSA9IG9wdGlvbnMubWV0aG9kIHx8IG9wdGlvbnMudHlwZSB8fCBzLm1ldGhvZCB8fCBzLnR5cGU7XG5cblx0XHQvLyBFeHRyYWN0IGRhdGFUeXBlcyBsaXN0XG5cdFx0cy5kYXRhVHlwZXMgPSAoIHMuZGF0YVR5cGUgfHwgXCIqXCIgKS50b0xvd2VyQ2FzZSgpLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbIFwiXCIgXTtcblxuXHRcdC8vIEEgY3Jvc3MtZG9tYWluIHJlcXVlc3QgaXMgaW4gb3JkZXIgd2hlbiB0aGUgb3JpZ2luIGRvZXNuJ3QgbWF0Y2ggdGhlIGN1cnJlbnQgb3JpZ2luLlxuXHRcdGlmICggcy5jcm9zc0RvbWFpbiA9PSBudWxsICkge1xuXHRcdFx0dXJsQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJhXCIgKTtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgPD04IC0gMTEsIEVkZ2UgMTIgLSAxM1xuXHRcdFx0Ly8gSUUgdGhyb3dzIGV4Y2VwdGlvbiBvbiBhY2Nlc3NpbmcgdGhlIGhyZWYgcHJvcGVydHkgaWYgdXJsIGlzIG1hbGZvcm1lZCxcblx0XHRcdC8vIGUuZy4gaHR0cDovL2V4YW1wbGUuY29tOjgweC9cblx0XHRcdHRyeSB7XG5cdFx0XHRcdHVybEFuY2hvci5ocmVmID0gcy51cmw7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD04IC0gMTEgb25seVxuXHRcdFx0XHQvLyBBbmNob3IncyBob3N0IHByb3BlcnR5IGlzbid0IGNvcnJlY3RseSBzZXQgd2hlbiBzLnVybCBpcyByZWxhdGl2ZVxuXHRcdFx0XHR1cmxBbmNob3IuaHJlZiA9IHVybEFuY2hvci5ocmVmO1xuXHRcdFx0XHRzLmNyb3NzRG9tYWluID0gb3JpZ2luQW5jaG9yLnByb3RvY29sICsgXCIvL1wiICsgb3JpZ2luQW5jaG9yLmhvc3QgIT09XG5cdFx0XHRcdFx0dXJsQW5jaG9yLnByb3RvY29sICsgXCIvL1wiICsgdXJsQW5jaG9yLmhvc3Q7XG5cdFx0XHR9IGNhdGNoICggZSApIHtcblxuXHRcdFx0XHQvLyBJZiB0aGVyZSBpcyBhbiBlcnJvciBwYXJzaW5nIHRoZSBVUkwsIGFzc3VtZSBpdCBpcyBjcm9zc0RvbWFpbixcblx0XHRcdFx0Ly8gaXQgY2FuIGJlIHJlamVjdGVkIGJ5IHRoZSB0cmFuc3BvcnQgaWYgaXQgaXMgaW52YWxpZFxuXHRcdFx0XHRzLmNyb3NzRG9tYWluID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDb252ZXJ0IGRhdGEgaWYgbm90IGFscmVhZHkgYSBzdHJpbmdcblx0XHRpZiAoIHMuZGF0YSAmJiBzLnByb2Nlc3NEYXRhICYmIHR5cGVvZiBzLmRhdGEgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRzLmRhdGEgPSBqUXVlcnkucGFyYW0oIHMuZGF0YSwgcy50cmFkaXRpb25hbCApO1xuXHRcdH1cblxuXHRcdC8vIEFwcGx5IHByZWZpbHRlcnNcblx0XHRpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggcHJlZmlsdGVycywgcywgb3B0aW9ucywganFYSFIgKTtcblxuXHRcdC8vIElmIHJlcXVlc3Qgd2FzIGFib3J0ZWQgaW5zaWRlIGEgcHJlZmlsdGVyLCBzdG9wIHRoZXJlXG5cdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRyZXR1cm4ganFYSFI7XG5cdFx0fVxuXG5cdFx0Ly8gV2UgY2FuIGZpcmUgZ2xvYmFsIGV2ZW50cyBhcyBvZiBub3cgaWYgYXNrZWQgdG9cblx0XHQvLyBEb24ndCBmaXJlIGV2ZW50cyBpZiBqUXVlcnkuZXZlbnQgaXMgdW5kZWZpbmVkIGluIGFuIEFNRC11c2FnZSBzY2VuYXJpbyAoIzE1MTE4KVxuXHRcdGZpcmVHbG9iYWxzID0galF1ZXJ5LmV2ZW50ICYmIHMuZ2xvYmFsO1xuXG5cdFx0Ly8gV2F0Y2ggZm9yIGEgbmV3IHNldCBvZiByZXF1ZXN0c1xuXHRcdGlmICggZmlyZUdsb2JhbHMgJiYgalF1ZXJ5LmFjdGl2ZSsrID09PSAwICkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIFwiYWpheFN0YXJ0XCIgKTtcblx0XHR9XG5cblx0XHQvLyBVcHBlcmNhc2UgdGhlIHR5cGVcblx0XHRzLnR5cGUgPSBzLnR5cGUudG9VcHBlckNhc2UoKTtcblxuXHRcdC8vIERldGVybWluZSBpZiByZXF1ZXN0IGhhcyBjb250ZW50XG5cdFx0cy5oYXNDb250ZW50ID0gIXJub0NvbnRlbnQudGVzdCggcy50eXBlICk7XG5cblx0XHQvLyBTYXZlIHRoZSBVUkwgaW4gY2FzZSB3ZSdyZSB0b3lpbmcgd2l0aCB0aGUgSWYtTW9kaWZpZWQtU2luY2Vcblx0XHQvLyBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIgbGF0ZXIgb25cblx0XHQvLyBSZW1vdmUgaGFzaCB0byBzaW1wbGlmeSB1cmwgbWFuaXB1bGF0aW9uXG5cdFx0Y2FjaGVVUkwgPSBzLnVybC5yZXBsYWNlKCByaGFzaCwgXCJcIiApO1xuXG5cdFx0Ly8gTW9yZSBvcHRpb25zIGhhbmRsaW5nIGZvciByZXF1ZXN0cyB3aXRoIG5vIGNvbnRlbnRcblx0XHRpZiAoICFzLmhhc0NvbnRlbnQgKSB7XG5cblx0XHRcdC8vIFJlbWVtYmVyIHRoZSBoYXNoIHNvIHdlIGNhbiBwdXQgaXQgYmFja1xuXHRcdFx0dW5jYWNoZWQgPSBzLnVybC5zbGljZSggY2FjaGVVUkwubGVuZ3RoICk7XG5cblx0XHRcdC8vIElmIGRhdGEgaXMgYXZhaWxhYmxlLCBhcHBlbmQgZGF0YSB0byB1cmxcblx0XHRcdGlmICggcy5kYXRhICkge1xuXHRcdFx0XHRjYWNoZVVSTCArPSAoIHJxdWVyeS50ZXN0KCBjYWNoZVVSTCApID8gXCImXCIgOiBcIj9cIiApICsgcy5kYXRhO1xuXG5cdFx0XHRcdC8vICM5NjgyOiByZW1vdmUgZGF0YSBzbyB0aGF0IGl0J3Mgbm90IHVzZWQgaW4gYW4gZXZlbnR1YWwgcmV0cnlcblx0XHRcdFx0ZGVsZXRlIHMuZGF0YTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIGFudGktY2FjaGUgaW4gdW5jYWNoZWQgdXJsIGlmIG5lZWRlZFxuXHRcdFx0aWYgKCBzLmNhY2hlID09PSBmYWxzZSApIHtcblx0XHRcdFx0Y2FjaGVVUkwgPSBjYWNoZVVSTC5yZXBsYWNlKCBydHMsIFwiXCIgKTtcblx0XHRcdFx0dW5jYWNoZWQgPSAoIHJxdWVyeS50ZXN0KCBjYWNoZVVSTCApID8gXCImXCIgOiBcIj9cIiApICsgXCJfPVwiICsgKCBub25jZSsrICkgKyB1bmNhY2hlZDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUHV0IGhhc2ggYW5kIGFudGktY2FjaGUgb24gdGhlIFVSTCB0aGF0IHdpbGwgYmUgcmVxdWVzdGVkIChnaC0xNzMyKVxuXHRcdFx0cy51cmwgPSBjYWNoZVVSTCArIHVuY2FjaGVkO1xuXG5cdFx0Ly8gQ2hhbmdlICclMjAnIHRvICcrJyBpZiB0aGlzIGlzIGVuY29kZWQgZm9ybSBib2R5IGNvbnRlbnQgKGdoLTI2NTgpXG5cdFx0fSBlbHNlIGlmICggcy5kYXRhICYmIHMucHJvY2Vzc0RhdGEgJiZcblx0XHRcdCggcy5jb250ZW50VHlwZSB8fCBcIlwiICkuaW5kZXhPZiggXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiApID09PSAwICkge1xuXHRcdFx0cy5kYXRhID0gcy5kYXRhLnJlcGxhY2UoIHIyMCwgXCIrXCIgKTtcblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIElmLU1vZGlmaWVkLVNpbmNlIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciwgaWYgaW4gaWZNb2RpZmllZCBtb2RlLlxuXHRcdGlmICggcy5pZk1vZGlmaWVkICkge1xuXHRcdFx0aWYgKCBqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdICkge1xuXHRcdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIklmLU1vZGlmaWVkLVNpbmNlXCIsIGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gKTtcblx0XHRcdH1cblx0XHRcdGlmICggalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gKSB7XG5cdFx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiSWYtTm9uZS1NYXRjaFwiLCBqUXVlcnkuZXRhZ1sgY2FjaGVVUkwgXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFNldCB0aGUgY29ycmVjdCBoZWFkZXIsIGlmIGRhdGEgaXMgYmVpbmcgc2VudFxuXHRcdGlmICggcy5kYXRhICYmIHMuaGFzQ29udGVudCAmJiBzLmNvbnRlbnRUeXBlICE9PSBmYWxzZSB8fCBvcHRpb25zLmNvbnRlbnRUeXBlICkge1xuXHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJDb250ZW50LVR5cGVcIiwgcy5jb250ZW50VHlwZSApO1xuXHRcdH1cblxuXHRcdC8vIFNldCB0aGUgQWNjZXB0cyBoZWFkZXIgZm9yIHRoZSBzZXJ2ZXIsIGRlcGVuZGluZyBvbiB0aGUgZGF0YVR5cGVcblx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKFxuXHRcdFx0XCJBY2NlcHRcIixcblx0XHRcdHMuZGF0YVR5cGVzWyAwIF0gJiYgcy5hY2NlcHRzWyBzLmRhdGFUeXBlc1sgMCBdIF0gP1xuXHRcdFx0XHRzLmFjY2VwdHNbIHMuZGF0YVR5cGVzWyAwIF0gXSArXG5cdFx0XHRcdFx0KCBzLmRhdGFUeXBlc1sgMCBdICE9PSBcIipcIiA/IFwiLCBcIiArIGFsbFR5cGVzICsgXCI7IHE9MC4wMVwiIDogXCJcIiApIDpcblx0XHRcdFx0cy5hY2NlcHRzWyBcIipcIiBdXG5cdFx0KTtcblxuXHRcdC8vIENoZWNrIGZvciBoZWFkZXJzIG9wdGlvblxuXHRcdGZvciAoIGkgaW4gcy5oZWFkZXJzICkge1xuXHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggaSwgcy5oZWFkZXJzWyBpIF0gKTtcblx0XHR9XG5cblx0XHQvLyBBbGxvdyBjdXN0b20gaGVhZGVycy9taW1ldHlwZXMgYW5kIGVhcmx5IGFib3J0XG5cdFx0aWYgKCBzLmJlZm9yZVNlbmQgJiZcblx0XHRcdCggcy5iZWZvcmVTZW5kLmNhbGwoIGNhbGxiYWNrQ29udGV4dCwganFYSFIsIHMgKSA9PT0gZmFsc2UgfHwgY29tcGxldGVkICkgKSB7XG5cblx0XHRcdC8vIEFib3J0IGlmIG5vdCBkb25lIGFscmVhZHkgYW5kIHJldHVyblxuXHRcdFx0cmV0dXJuIGpxWEhSLmFib3J0KCk7XG5cdFx0fVxuXG5cdFx0Ly8gQWJvcnRpbmcgaXMgbm8gbG9uZ2VyIGEgY2FuY2VsbGF0aW9uXG5cdFx0c3RyQWJvcnQgPSBcImFib3J0XCI7XG5cblx0XHQvLyBJbnN0YWxsIGNhbGxiYWNrcyBvbiBkZWZlcnJlZHNcblx0XHRjb21wbGV0ZURlZmVycmVkLmFkZCggcy5jb21wbGV0ZSApO1xuXHRcdGpxWEhSLmRvbmUoIHMuc3VjY2VzcyApO1xuXHRcdGpxWEhSLmZhaWwoIHMuZXJyb3IgKTtcblxuXHRcdC8vIEdldCB0cmFuc3BvcnRcblx0XHR0cmFuc3BvcnQgPSBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggdHJhbnNwb3J0cywgcywgb3B0aW9ucywganFYSFIgKTtcblxuXHRcdC8vIElmIG5vIHRyYW5zcG9ydCwgd2UgYXV0by1hYm9ydFxuXHRcdGlmICggIXRyYW5zcG9ydCApIHtcblx0XHRcdGRvbmUoIC0xLCBcIk5vIFRyYW5zcG9ydFwiICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGpxWEhSLnJlYWR5U3RhdGUgPSAxO1xuXG5cdFx0XHQvLyBTZW5kIGdsb2JhbCBldmVudFxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIFwiYWpheFNlbmRcIiwgWyBqcVhIUiwgcyBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIHJlcXVlc3Qgd2FzIGFib3J0ZWQgaW5zaWRlIGFqYXhTZW5kLCBzdG9wIHRoZXJlXG5cdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdFx0cmV0dXJuIGpxWEhSO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUaW1lb3V0XG5cdFx0XHRpZiAoIHMuYXN5bmMgJiYgcy50aW1lb3V0ID4gMCApIHtcblx0XHRcdFx0dGltZW91dFRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGpxWEhSLmFib3J0KCBcInRpbWVvdXRcIiApO1xuXHRcdFx0XHR9LCBzLnRpbWVvdXQgKTtcblx0XHRcdH1cblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29tcGxldGVkID0gZmFsc2U7XG5cdFx0XHRcdHRyYW5zcG9ydC5zZW5kKCByZXF1ZXN0SGVhZGVycywgZG9uZSApO1xuXHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0Ly8gUmV0aHJvdyBwb3N0LWNvbXBsZXRpb24gZXhjZXB0aW9uc1xuXHRcdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUHJvcGFnYXRlIG90aGVycyBhcyByZXN1bHRzXG5cdFx0XHRcdGRvbmUoIC0xLCBlICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsbGJhY2sgZm9yIHdoZW4gZXZlcnl0aGluZyBpcyBkb25lXG5cdFx0ZnVuY3Rpb24gZG9uZSggc3RhdHVzLCBuYXRpdmVTdGF0dXNUZXh0LCByZXNwb25zZXMsIGhlYWRlcnMgKSB7XG5cdFx0XHR2YXIgaXNTdWNjZXNzLCBzdWNjZXNzLCBlcnJvciwgcmVzcG9uc2UsIG1vZGlmaWVkLFxuXHRcdFx0XHRzdGF0dXNUZXh0ID0gbmF0aXZlU3RhdHVzVGV4dDtcblxuXHRcdFx0Ly8gSWdub3JlIHJlcGVhdCBpbnZvY2F0aW9uc1xuXHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Y29tcGxldGVkID0gdHJ1ZTtcblxuXHRcdFx0Ly8gQ2xlYXIgdGltZW91dCBpZiBpdCBleGlzdHNcblx0XHRcdGlmICggdGltZW91dFRpbWVyICkge1xuXHRcdFx0XHR3aW5kb3cuY2xlYXJUaW1lb3V0KCB0aW1lb3V0VGltZXIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRGVyZWZlcmVuY2UgdHJhbnNwb3J0IGZvciBlYXJseSBnYXJiYWdlIGNvbGxlY3Rpb25cblx0XHRcdC8vIChubyBtYXR0ZXIgaG93IGxvbmcgdGhlIGpxWEhSIG9iamVjdCB3aWxsIGJlIHVzZWQpXG5cdFx0XHR0cmFuc3BvcnQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdC8vIENhY2hlIHJlc3BvbnNlIGhlYWRlcnNcblx0XHRcdHJlc3BvbnNlSGVhZGVyc1N0cmluZyA9IGhlYWRlcnMgfHwgXCJcIjtcblxuXHRcdFx0Ly8gU2V0IHJlYWR5U3RhdGVcblx0XHRcdGpxWEhSLnJlYWR5U3RhdGUgPSBzdGF0dXMgPiAwID8gNCA6IDA7XG5cblx0XHRcdC8vIERldGVybWluZSBpZiBzdWNjZXNzZnVsXG5cdFx0XHRpc1N1Y2Nlc3MgPSBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMCB8fCBzdGF0dXMgPT09IDMwNDtcblxuXHRcdFx0Ly8gR2V0IHJlc3BvbnNlIGRhdGFcblx0XHRcdGlmICggcmVzcG9uc2VzICkge1xuXHRcdFx0XHRyZXNwb25zZSA9IGFqYXhIYW5kbGVSZXNwb25zZXMoIHMsIGpxWEhSLCByZXNwb25zZXMgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29udmVydCBubyBtYXR0ZXIgd2hhdCAodGhhdCB3YXkgcmVzcG9uc2VYWFggZmllbGRzIGFyZSBhbHdheXMgc2V0KVxuXHRcdFx0cmVzcG9uc2UgPSBhamF4Q29udmVydCggcywgcmVzcG9uc2UsIGpxWEhSLCBpc1N1Y2Nlc3MgKTtcblxuXHRcdFx0Ly8gSWYgc3VjY2Vzc2Z1bCwgaGFuZGxlIHR5cGUgY2hhaW5pbmdcblx0XHRcdGlmICggaXNTdWNjZXNzICkge1xuXG5cdFx0XHRcdC8vIFNldCB0aGUgSWYtTW9kaWZpZWQtU2luY2UgYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyLCBpZiBpbiBpZk1vZGlmaWVkIG1vZGUuXG5cdFx0XHRcdGlmICggcy5pZk1vZGlmaWVkICkge1xuXHRcdFx0XHRcdG1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoIFwiTGFzdC1Nb2RpZmllZFwiICk7XG5cdFx0XHRcdFx0aWYgKCBtb2RpZmllZCApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bW9kaWZpZWQgPSBqcVhIUi5nZXRSZXNwb25zZUhlYWRlciggXCJldGFnXCIgKTtcblx0XHRcdFx0XHRpZiAoIG1vZGlmaWVkICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBpZiBubyBjb250ZW50XG5cdFx0XHRcdGlmICggc3RhdHVzID09PSAyMDQgfHwgcy50eXBlID09PSBcIkhFQURcIiApIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gXCJub2NvbnRlbnRcIjtcblxuXHRcdFx0XHQvLyBpZiBub3QgbW9kaWZpZWRcblx0XHRcdFx0fSBlbHNlIGlmICggc3RhdHVzID09PSAzMDQgKSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IFwibm90bW9kaWZpZWRcIjtcblxuXHRcdFx0XHQvLyBJZiB3ZSBoYXZlIGRhdGEsIGxldCdzIGNvbnZlcnQgaXRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gcmVzcG9uc2Uuc3RhdGU7XG5cdFx0XHRcdFx0c3VjY2VzcyA9IHJlc3BvbnNlLmRhdGE7XG5cdFx0XHRcdFx0ZXJyb3IgPSByZXNwb25zZS5lcnJvcjtcblx0XHRcdFx0XHRpc1N1Y2Nlc3MgPSAhZXJyb3I7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gRXh0cmFjdCBlcnJvciBmcm9tIHN0YXR1c1RleHQgYW5kIG5vcm1hbGl6ZSBmb3Igbm9uLWFib3J0c1xuXHRcdFx0XHRlcnJvciA9IHN0YXR1c1RleHQ7XG5cdFx0XHRcdGlmICggc3RhdHVzIHx8ICFzdGF0dXNUZXh0ICkge1xuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSBcImVycm9yXCI7XG5cdFx0XHRcdFx0aWYgKCBzdGF0dXMgPCAwICkge1xuXHRcdFx0XHRcdFx0c3RhdHVzID0gMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gU2V0IGRhdGEgZm9yIHRoZSBmYWtlIHhociBvYmplY3Rcblx0XHRcdGpxWEhSLnN0YXR1cyA9IHN0YXR1cztcblx0XHRcdGpxWEhSLnN0YXR1c1RleHQgPSAoIG5hdGl2ZVN0YXR1c1RleHQgfHwgc3RhdHVzVGV4dCApICsgXCJcIjtcblxuXHRcdFx0Ly8gU3VjY2Vzcy9FcnJvclxuXHRcdFx0aWYgKCBpc1N1Y2Nlc3MgKSB7XG5cdFx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBjYWxsYmFja0NvbnRleHQsIFsgc3VjY2Vzcywgc3RhdHVzVGV4dCwganFYSFIgXSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0LCBlcnJvciBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRqcVhIUi5zdGF0dXNDb2RlKCBzdGF0dXNDb2RlICk7XG5cdFx0XHRzdGF0dXNDb2RlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRpZiAoIGZpcmVHbG9iYWxzICkge1xuXHRcdFx0XHRnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggaXNTdWNjZXNzID8gXCJhamF4U3VjY2Vzc1wiIDogXCJhamF4RXJyb3JcIixcblx0XHRcdFx0XHRbIGpxWEhSLCBzLCBpc1N1Y2Nlc3MgPyBzdWNjZXNzIDogZXJyb3IgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb21wbGV0ZVxuXHRcdFx0Y29tcGxldGVEZWZlcnJlZC5maXJlV2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0IF0gKTtcblxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIFwiYWpheENvbXBsZXRlXCIsIFsganFYSFIsIHMgXSApO1xuXG5cdFx0XHRcdC8vIEhhbmRsZSB0aGUgZ2xvYmFsIEFKQVggY291bnRlclxuXHRcdFx0XHRpZiAoICEoIC0talF1ZXJ5LmFjdGl2ZSApICkge1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBcImFqYXhTdG9wXCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBqcVhIUjtcblx0fSxcblxuXHRnZXRKU09OOiBmdW5jdGlvbiggdXJsLCBkYXRhLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdldCggdXJsLCBkYXRhLCBjYWxsYmFjaywgXCJqc29uXCIgKTtcblx0fSxcblxuXHRnZXRTY3JpcHQ6IGZ1bmN0aW9uKCB1cmwsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ2V0KCB1cmwsIHVuZGVmaW5lZCwgY2FsbGJhY2ssIFwic2NyaXB0XCIgKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCggWyBcImdldFwiLCBcInBvc3RcIiBdLCBmdW5jdGlvbiggaSwgbWV0aG9kICkge1xuXHRqUXVlcnlbIG1ldGhvZCBdID0gZnVuY3Rpb24oIHVybCwgZGF0YSwgY2FsbGJhY2ssIHR5cGUgKSB7XG5cblx0XHQvLyBTaGlmdCBhcmd1bWVudHMgaWYgZGF0YSBhcmd1bWVudCB3YXMgb21pdHRlZFxuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGRhdGEgKSApIHtcblx0XHRcdHR5cGUgPSB0eXBlIHx8IGNhbGxiYWNrO1xuXHRcdFx0Y2FsbGJhY2sgPSBkYXRhO1xuXHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHQvLyBUaGUgdXJsIGNhbiBiZSBhbiBvcHRpb25zIG9iamVjdCAod2hpY2ggdGhlbiBtdXN0IGhhdmUgLnVybClcblx0XHRyZXR1cm4galF1ZXJ5LmFqYXgoIGpRdWVyeS5leHRlbmQoIHtcblx0XHRcdHVybDogdXJsLFxuXHRcdFx0dHlwZTogbWV0aG9kLFxuXHRcdFx0ZGF0YVR5cGU6IHR5cGUsXG5cdFx0XHRkYXRhOiBkYXRhLFxuXHRcdFx0c3VjY2VzczogY2FsbGJhY2tcblx0XHR9LCBqUXVlcnkuaXNQbGFpbk9iamVjdCggdXJsICkgJiYgdXJsICkgKTtcblx0fTtcbn0gKTtcblxuXG5qUXVlcnkuX2V2YWxVcmwgPSBmdW5jdGlvbiggdXJsICkge1xuXHRyZXR1cm4galF1ZXJ5LmFqYXgoIHtcblx0XHR1cmw6IHVybCxcblxuXHRcdC8vIE1ha2UgdGhpcyBleHBsaWNpdCwgc2luY2UgdXNlciBjYW4gb3ZlcnJpZGUgdGhpcyB0aHJvdWdoIGFqYXhTZXR1cCAoIzExMjY0KVxuXHRcdHR5cGU6IFwiR0VUXCIsXG5cdFx0ZGF0YVR5cGU6IFwic2NyaXB0XCIsXG5cdFx0Y2FjaGU6IHRydWUsXG5cdFx0YXN5bmM6IGZhbHNlLFxuXHRcdGdsb2JhbDogZmFsc2UsXG5cdFx0XCJ0aHJvd3NcIjogdHJ1ZVxuXHR9ICk7XG59O1xuXG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0d3JhcEFsbDogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0dmFyIHdyYXA7XG5cblx0XHRpZiAoIHRoaXNbIDAgXSApIHtcblx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGh0bWwgKSApIHtcblx0XHRcdFx0aHRtbCA9IGh0bWwuY2FsbCggdGhpc1sgMCBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRoZSBlbGVtZW50cyB0byB3cmFwIHRoZSB0YXJnZXQgYXJvdW5kXG5cdFx0XHR3cmFwID0galF1ZXJ5KCBodG1sLCB0aGlzWyAwIF0ub3duZXJEb2N1bWVudCApLmVxKCAwICkuY2xvbmUoIHRydWUgKTtcblxuXHRcdFx0aWYgKCB0aGlzWyAwIF0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0d3JhcC5pbnNlcnRCZWZvcmUoIHRoaXNbIDAgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHR3cmFwLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBlbGVtID0gdGhpcztcblxuXHRcdFx0XHR3aGlsZSAoIGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQgKSB7XG5cdFx0XHRcdFx0ZWxlbSA9IGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZWxlbTtcblx0XHRcdH0gKS5hcHBlbmQoIHRoaXMgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHR3cmFwSW5uZXI6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGh0bWwgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS53cmFwSW5uZXIoIGh0bWwuY2FsbCggdGhpcywgaSApICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IGpRdWVyeSggdGhpcyApLFxuXHRcdFx0XHRjb250ZW50cyA9IHNlbGYuY29udGVudHMoKTtcblxuXHRcdFx0aWYgKCBjb250ZW50cy5sZW5ndGggKSB7XG5cdFx0XHRcdGNvbnRlbnRzLndyYXBBbGwoIGh0bWwgKTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2VsZi5hcHBlbmQoIGh0bWwgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0d3JhcDogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0dmFyIGlzRnVuY3Rpb24gPSBqUXVlcnkuaXNGdW5jdGlvbiggaHRtbCApO1xuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRqUXVlcnkoIHRoaXMgKS53cmFwQWxsKCBpc0Z1bmN0aW9uID8gaHRtbC5jYWxsKCB0aGlzLCBpICkgOiBodG1sICk7XG5cdFx0fSApO1xuXHR9LFxuXG5cdHVud3JhcDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHRoaXMucGFyZW50KCBzZWxlY3RvciApLm5vdCggXCJib2R5XCIgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeSggdGhpcyApLnJlcGxhY2VXaXRoKCB0aGlzLmNoaWxkTm9kZXMgKTtcblx0XHR9ICk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cbn0gKTtcblxuXG5qUXVlcnkuZXhwci5wc2V1ZG9zLmhpZGRlbiA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRyZXR1cm4gIWpRdWVyeS5leHByLnBzZXVkb3MudmlzaWJsZSggZWxlbSApO1xufTtcbmpRdWVyeS5leHByLnBzZXVkb3MudmlzaWJsZSA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRyZXR1cm4gISEoIGVsZW0ub2Zmc2V0V2lkdGggfHwgZWxlbS5vZmZzZXRIZWlnaHQgfHwgZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCApO1xufTtcblxuXG5cblxualF1ZXJ5LmFqYXhTZXR0aW5ncy54aHIgPSBmdW5jdGlvbigpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpO1xuXHR9IGNhdGNoICggZSApIHt9XG59O1xuXG52YXIgeGhyU3VjY2Vzc1N0YXR1cyA9IHtcblxuXHRcdC8vIEZpbGUgcHJvdG9jb2wgYWx3YXlzIHlpZWxkcyBzdGF0dXMgY29kZSAwLCBhc3N1bWUgMjAwXG5cdFx0MDogMjAwLFxuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHQvLyAjMTQ1MDogc29tZXRpbWVzIElFIHJldHVybnMgMTIyMyB3aGVuIGl0IHNob3VsZCBiZSAyMDRcblx0XHQxMjIzOiAyMDRcblx0fSxcblx0eGhyU3VwcG9ydGVkID0galF1ZXJ5LmFqYXhTZXR0aW5ncy54aHIoKTtcblxuc3VwcG9ydC5jb3JzID0gISF4aHJTdXBwb3J0ZWQgJiYgKCBcIndpdGhDcmVkZW50aWFsc1wiIGluIHhoclN1cHBvcnRlZCApO1xuc3VwcG9ydC5hamF4ID0geGhyU3VwcG9ydGVkID0gISF4aHJTdXBwb3J0ZWQ7XG5cbmpRdWVyeS5hamF4VHJhbnNwb3J0KCBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0dmFyIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrO1xuXG5cdC8vIENyb3NzIGRvbWFpbiBvbmx5IGFsbG93ZWQgaWYgc3VwcG9ydGVkIHRocm91Z2ggWE1MSHR0cFJlcXVlc3Rcblx0aWYgKCBzdXBwb3J0LmNvcnMgfHwgeGhyU3VwcG9ydGVkICYmICFvcHRpb25zLmNyb3NzRG9tYWluICkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzZW5kOiBmdW5jdGlvbiggaGVhZGVycywgY29tcGxldGUgKSB7XG5cdFx0XHRcdHZhciBpLFxuXHRcdFx0XHRcdHhociA9IG9wdGlvbnMueGhyKCk7XG5cblx0XHRcdFx0eGhyLm9wZW4oXG5cdFx0XHRcdFx0b3B0aW9ucy50eXBlLFxuXHRcdFx0XHRcdG9wdGlvbnMudXJsLFxuXHRcdFx0XHRcdG9wdGlvbnMuYXN5bmMsXG5cdFx0XHRcdFx0b3B0aW9ucy51c2VybmFtZSxcblx0XHRcdFx0XHRvcHRpb25zLnBhc3N3b3JkXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0Ly8gQXBwbHkgY3VzdG9tIGZpZWxkcyBpZiBwcm92aWRlZFxuXHRcdFx0XHRpZiAoIG9wdGlvbnMueGhyRmllbGRzICkge1xuXHRcdFx0XHRcdGZvciAoIGkgaW4gb3B0aW9ucy54aHJGaWVsZHMgKSB7XG5cdFx0XHRcdFx0XHR4aHJbIGkgXSA9IG9wdGlvbnMueGhyRmllbGRzWyBpIF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gT3ZlcnJpZGUgbWltZSB0eXBlIGlmIG5lZWRlZFxuXHRcdFx0XHRpZiAoIG9wdGlvbnMubWltZVR5cGUgJiYgeGhyLm92ZXJyaWRlTWltZVR5cGUgKSB7XG5cdFx0XHRcdFx0eGhyLm92ZXJyaWRlTWltZVR5cGUoIG9wdGlvbnMubWltZVR5cGUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFgtUmVxdWVzdGVkLVdpdGggaGVhZGVyXG5cdFx0XHRcdC8vIEZvciBjcm9zcy1kb21haW4gcmVxdWVzdHMsIHNlZWluZyBhcyBjb25kaXRpb25zIGZvciBhIHByZWZsaWdodCBhcmVcblx0XHRcdFx0Ly8gYWtpbiB0byBhIGppZ3NhdyBwdXp6bGUsIHdlIHNpbXBseSBuZXZlciBzZXQgaXQgdG8gYmUgc3VyZS5cblx0XHRcdFx0Ly8gKGl0IGNhbiBhbHdheXMgYmUgc2V0IG9uIGEgcGVyLXJlcXVlc3QgYmFzaXMgb3IgZXZlbiB1c2luZyBhamF4U2V0dXApXG5cdFx0XHRcdC8vIEZvciBzYW1lLWRvbWFpbiByZXF1ZXN0cywgd29uJ3QgY2hhbmdlIGhlYWRlciBpZiBhbHJlYWR5IHByb3ZpZGVkLlxuXHRcdFx0XHRpZiAoICFvcHRpb25zLmNyb3NzRG9tYWluICYmICFoZWFkZXJzWyBcIlgtUmVxdWVzdGVkLVdpdGhcIiBdICkge1xuXHRcdFx0XHRcdGhlYWRlcnNbIFwiWC1SZXF1ZXN0ZWQtV2l0aFwiIF0gPSBcIlhNTEh0dHBSZXF1ZXN0XCI7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBTZXQgaGVhZGVyc1xuXHRcdFx0XHRmb3IgKCBpIGluIGhlYWRlcnMgKSB7XG5cdFx0XHRcdFx0eGhyLnNldFJlcXVlc3RIZWFkZXIoIGksIGhlYWRlcnNbIGkgXSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQ2FsbGJhY2tcblx0XHRcdFx0Y2FsbGJhY2sgPSBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0XHRjYWxsYmFjayA9IGVycm9yQ2FsbGJhY2sgPSB4aHIub25sb2FkID1cblx0XHRcdFx0XHRcdFx0XHR4aHIub25lcnJvciA9IHhoci5vbmFib3J0ID0geGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG5cblx0XHRcdFx0XHRcdFx0aWYgKCB0eXBlID09PSBcImFib3J0XCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0eGhyLmFib3J0KCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIHR5cGUgPT09IFwiZXJyb3JcIiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdFx0XHRcdFx0XHRcdFx0Ly8gT24gYSBtYW51YWwgbmF0aXZlIGFib3J0LCBJRTkgdGhyb3dzXG5cdFx0XHRcdFx0XHRcdFx0Ly8gZXJyb3JzIG9uIGFueSBwcm9wZXJ0eSBhY2Nlc3MgdGhhdCBpcyBub3QgcmVhZHlTdGF0ZVxuXHRcdFx0XHRcdFx0XHRcdGlmICggdHlwZW9mIHhoci5zdGF0dXMgIT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb21wbGV0ZSggMCwgXCJlcnJvclwiICk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbXBsZXRlKFxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIEZpbGU6IHByb3RvY29sIGFsd2F5cyB5aWVsZHMgc3RhdHVzIDA7IHNlZSAjODYwNSwgIzE0MjA3XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHhoci5zdGF0dXMsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHhoci5zdGF0dXNUZXh0XG5cdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRjb21wbGV0ZShcblx0XHRcdFx0XHRcdFx0XHRcdHhoclN1Y2Nlc3NTdGF0dXNbIHhoci5zdGF0dXMgXSB8fCB4aHIuc3RhdHVzLFxuXHRcdFx0XHRcdFx0XHRcdFx0eGhyLnN0YXR1c1RleHQsXG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBJRTkgaGFzIG5vIFhIUjIgYnV0IHRocm93cyBvbiBiaW5hcnkgKHRyYWMtMTE0MjYpXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBGb3IgWEhSMiBub24tdGV4dCwgbGV0IHRoZSBjYWxsZXIgaGFuZGxlIGl0IChnaC0yNDk4KVxuXHRcdFx0XHRcdFx0XHRcdFx0KCB4aHIucmVzcG9uc2VUeXBlIHx8IFwidGV4dFwiICkgIT09IFwidGV4dFwiICB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0dHlwZW9mIHhoci5yZXNwb25zZVRleHQgIT09IFwic3RyaW5nXCIgP1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR7IGJpbmFyeTogeGhyLnJlc3BvbnNlIH0gOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7IHRleHQ6IHhoci5yZXNwb25zZVRleHQgfSxcblx0XHRcdFx0XHRcdFx0XHRcdHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuXHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdC8vIExpc3RlbiB0byBldmVudHNcblx0XHRcdFx0eGhyLm9ubG9hZCA9IGNhbGxiYWNrKCk7XG5cdFx0XHRcdGVycm9yQ2FsbGJhY2sgPSB4aHIub25lcnJvciA9IGNhbGxiYWNrKCBcImVycm9yXCIgKTtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA5IG9ubHlcblx0XHRcdFx0Ly8gVXNlIG9ucmVhZHlzdGF0ZWNoYW5nZSB0byByZXBsYWNlIG9uYWJvcnRcblx0XHRcdFx0Ly8gdG8gaGFuZGxlIHVuY2F1Z2h0IGFib3J0c1xuXHRcdFx0XHRpZiAoIHhoci5vbmFib3J0ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0eGhyLm9uYWJvcnQgPSBlcnJvckNhbGxiYWNrO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdFx0Ly8gQ2hlY2sgcmVhZHlTdGF0ZSBiZWZvcmUgdGltZW91dCBhcyBpdCBjaGFuZ2VzXG5cdFx0XHRcdFx0XHRpZiAoIHhoci5yZWFkeVN0YXRlID09PSA0ICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIEFsbG93IG9uZXJyb3IgdG8gYmUgY2FsbGVkIGZpcnN0LFxuXHRcdFx0XHRcdFx0XHQvLyBidXQgdGhhdCB3aWxsIG5vdCBoYW5kbGUgYSBuYXRpdmUgYWJvcnRcblx0XHRcdFx0XHRcdFx0Ly8gQWxzbywgc2F2ZSBlcnJvckNhbGxiYWNrIHRvIGEgdmFyaWFibGVcblx0XHRcdFx0XHRcdFx0Ly8gYXMgeGhyLm9uZXJyb3IgY2Fubm90IGJlIGFjY2Vzc2VkXG5cdFx0XHRcdFx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZXJyb3JDYWxsYmFjaygpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBDcmVhdGUgdGhlIGFib3J0IGNhbGxiYWNrXG5cdFx0XHRcdGNhbGxiYWNrID0gY2FsbGJhY2soIFwiYWJvcnRcIiApO1xuXG5cdFx0XHRcdHRyeSB7XG5cblx0XHRcdFx0XHQvLyBEbyBzZW5kIHRoZSByZXF1ZXN0ICh0aGlzIG1heSByYWlzZSBhbiBleGNlcHRpb24pXG5cdFx0XHRcdFx0eGhyLnNlbmQoIG9wdGlvbnMuaGFzQ29udGVudCAmJiBvcHRpb25zLmRhdGEgfHwgbnVsbCApO1xuXHRcdFx0XHR9IGNhdGNoICggZSApIHtcblxuXHRcdFx0XHRcdC8vICMxNDY4MzogT25seSByZXRocm93IGlmIHRoaXMgaGFzbid0IGJlZW4gbm90aWZpZWQgYXMgYW4gZXJyb3IgeWV0XG5cdFx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdHRocm93IGU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXG5cdFx0XHRhYm9ydDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdH1cbn0gKTtcblxuXG5cblxuLy8gUHJldmVudCBhdXRvLWV4ZWN1dGlvbiBvZiBzY3JpcHRzIHdoZW4gbm8gZXhwbGljaXQgZGF0YVR5cGUgd2FzIHByb3ZpZGVkIChTZWUgZ2gtMjQzMilcbmpRdWVyeS5hamF4UHJlZmlsdGVyKCBmdW5jdGlvbiggcyApIHtcblx0aWYgKCBzLmNyb3NzRG9tYWluICkge1xuXHRcdHMuY29udGVudHMuc2NyaXB0ID0gZmFsc2U7XG5cdH1cbn0gKTtcblxuLy8gSW5zdGFsbCBzY3JpcHQgZGF0YVR5cGVcbmpRdWVyeS5hamF4U2V0dXAoIHtcblx0YWNjZXB0czoge1xuXHRcdHNjcmlwdDogXCJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIFwiICtcblx0XHRcdFwiYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0XCJcblx0fSxcblx0Y29udGVudHM6IHtcblx0XHRzY3JpcHQ6IC9cXGIoPzpqYXZhfGVjbWEpc2NyaXB0XFxiL1xuXHR9LFxuXHRjb252ZXJ0ZXJzOiB7XG5cdFx0XCJ0ZXh0IHNjcmlwdFwiOiBmdW5jdGlvbiggdGV4dCApIHtcblx0XHRcdGpRdWVyeS5nbG9iYWxFdmFsKCB0ZXh0ICk7XG5cdFx0XHRyZXR1cm4gdGV4dDtcblx0XHR9XG5cdH1cbn0gKTtcblxuLy8gSGFuZGxlIGNhY2hlJ3Mgc3BlY2lhbCBjYXNlIGFuZCBjcm9zc0RvbWFpblxualF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIFwic2NyaXB0XCIsIGZ1bmN0aW9uKCBzICkge1xuXHRpZiAoIHMuY2FjaGUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRzLmNhY2hlID0gZmFsc2U7XG5cdH1cblx0aWYgKCBzLmNyb3NzRG9tYWluICkge1xuXHRcdHMudHlwZSA9IFwiR0VUXCI7XG5cdH1cbn0gKTtcblxuLy8gQmluZCBzY3JpcHQgdGFnIGhhY2sgdHJhbnNwb3J0XG5qUXVlcnkuYWpheFRyYW5zcG9ydCggXCJzY3JpcHRcIiwgZnVuY3Rpb24oIHMgKSB7XG5cblx0Ly8gVGhpcyB0cmFuc3BvcnQgb25seSBkZWFscyB3aXRoIGNyb3NzIGRvbWFpbiByZXF1ZXN0c1xuXHRpZiAoIHMuY3Jvc3NEb21haW4gKSB7XG5cdFx0dmFyIHNjcmlwdCwgY2FsbGJhY2s7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHNlbmQ6IGZ1bmN0aW9uKCBfLCBjb21wbGV0ZSApIHtcblx0XHRcdFx0c2NyaXB0ID0galF1ZXJ5KCBcIjxzY3JpcHQ+XCIgKS5wcm9wKCB7XG5cdFx0XHRcdFx0Y2hhcnNldDogcy5zY3JpcHRDaGFyc2V0LFxuXHRcdFx0XHRcdHNyYzogcy51cmxcblx0XHRcdFx0fSApLm9uKFxuXHRcdFx0XHRcdFwibG9hZCBlcnJvclwiLFxuXHRcdFx0XHRcdGNhbGxiYWNrID0gZnVuY3Rpb24oIGV2dCApIHtcblx0XHRcdFx0XHRcdHNjcmlwdC5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdGNhbGxiYWNrID0gbnVsbDtcblx0XHRcdFx0XHRcdGlmICggZXZ0ICkge1xuXHRcdFx0XHRcdFx0XHRjb21wbGV0ZSggZXZ0LnR5cGUgPT09IFwiZXJyb3JcIiA/IDQwNCA6IDIwMCwgZXZ0LnR5cGUgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0Ly8gVXNlIG5hdGl2ZSBET00gbWFuaXB1bGF0aW9uIHRvIGF2b2lkIG91ciBkb21NYW5pcCBBSkFYIHRyaWNrZXJ5XG5cdFx0XHRcdGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoIHNjcmlwdFsgMCBdICk7XG5cdFx0XHR9LFxuXHRcdFx0YWJvcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9XG59ICk7XG5cblxuXG5cbnZhciBvbGRDYWxsYmFja3MgPSBbXSxcblx0cmpzb25wID0gLyg9KVxcPyg/PSZ8JCl8XFw/XFw/LztcblxuLy8gRGVmYXVsdCBqc29ucCBzZXR0aW5nc1xualF1ZXJ5LmFqYXhTZXR1cCgge1xuXHRqc29ucDogXCJjYWxsYmFja1wiLFxuXHRqc29ucENhbGxiYWNrOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgY2FsbGJhY2sgPSBvbGRDYWxsYmFja3MucG9wKCkgfHwgKCBqUXVlcnkuZXhwYW5kbyArIFwiX1wiICsgKCBub25jZSsrICkgKTtcblx0XHR0aGlzWyBjYWxsYmFjayBdID0gdHJ1ZTtcblx0XHRyZXR1cm4gY2FsbGJhY2s7XG5cdH1cbn0gKTtcblxuLy8gRGV0ZWN0LCBub3JtYWxpemUgb3B0aW9ucyBhbmQgaW5zdGFsbCBjYWxsYmFja3MgZm9yIGpzb25wIHJlcXVlc3RzXG5qUXVlcnkuYWpheFByZWZpbHRlciggXCJqc29uIGpzb25wXCIsIGZ1bmN0aW9uKCBzLCBvcmlnaW5hbFNldHRpbmdzLCBqcVhIUiApIHtcblxuXHR2YXIgY2FsbGJhY2tOYW1lLCBvdmVyd3JpdHRlbiwgcmVzcG9uc2VDb250YWluZXIsXG5cdFx0anNvblByb3AgPSBzLmpzb25wICE9PSBmYWxzZSAmJiAoIHJqc29ucC50ZXN0KCBzLnVybCApID9cblx0XHRcdFwidXJsXCIgOlxuXHRcdFx0dHlwZW9mIHMuZGF0YSA9PT0gXCJzdHJpbmdcIiAmJlxuXHRcdFx0XHQoIHMuY29udGVudFR5cGUgfHwgXCJcIiApXG5cdFx0XHRcdFx0LmluZGV4T2YoIFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIgKSA9PT0gMCAmJlxuXHRcdFx0XHRyanNvbnAudGVzdCggcy5kYXRhICkgJiYgXCJkYXRhXCJcblx0XHQpO1xuXG5cdC8vIEhhbmRsZSBpZmYgdGhlIGV4cGVjdGVkIGRhdGEgdHlwZSBpcyBcImpzb25wXCIgb3Igd2UgaGF2ZSBhIHBhcmFtZXRlciB0byBzZXRcblx0aWYgKCBqc29uUHJvcCB8fCBzLmRhdGFUeXBlc1sgMCBdID09PSBcImpzb25wXCIgKSB7XG5cblx0XHQvLyBHZXQgY2FsbGJhY2sgbmFtZSwgcmVtZW1iZXJpbmcgcHJlZXhpc3RpbmcgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIGl0XG5cdFx0Y2FsbGJhY2tOYW1lID0gcy5qc29ucENhbGxiYWNrID0galF1ZXJ5LmlzRnVuY3Rpb24oIHMuanNvbnBDYWxsYmFjayApID9cblx0XHRcdHMuanNvbnBDYWxsYmFjaygpIDpcblx0XHRcdHMuanNvbnBDYWxsYmFjaztcblxuXHRcdC8vIEluc2VydCBjYWxsYmFjayBpbnRvIHVybCBvciBmb3JtIGRhdGFcblx0XHRpZiAoIGpzb25Qcm9wICkge1xuXHRcdFx0c1sganNvblByb3AgXSA9IHNbIGpzb25Qcm9wIF0ucmVwbGFjZSggcmpzb25wLCBcIiQxXCIgKyBjYWxsYmFja05hbWUgKTtcblx0XHR9IGVsc2UgaWYgKCBzLmpzb25wICE9PSBmYWxzZSApIHtcblx0XHRcdHMudXJsICs9ICggcnF1ZXJ5LnRlc3QoIHMudXJsICkgPyBcIiZcIiA6IFwiP1wiICkgKyBzLmpzb25wICsgXCI9XCIgKyBjYWxsYmFja05hbWU7XG5cdFx0fVxuXG5cdFx0Ly8gVXNlIGRhdGEgY29udmVydGVyIHRvIHJldHJpZXZlIGpzb24gYWZ0ZXIgc2NyaXB0IGV4ZWN1dGlvblxuXHRcdHMuY29udmVydGVyc1sgXCJzY3JpcHQganNvblwiIF0gPSBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggIXJlc3BvbnNlQ29udGFpbmVyICkge1xuXHRcdFx0XHRqUXVlcnkuZXJyb3IoIGNhbGxiYWNrTmFtZSArIFwiIHdhcyBub3QgY2FsbGVkXCIgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXNwb25zZUNvbnRhaW5lclsgMCBdO1xuXHRcdH07XG5cblx0XHQvLyBGb3JjZSBqc29uIGRhdGFUeXBlXG5cdFx0cy5kYXRhVHlwZXNbIDAgXSA9IFwianNvblwiO1xuXG5cdFx0Ly8gSW5zdGFsbCBjYWxsYmFja1xuXHRcdG92ZXJ3cml0dGVuID0gd2luZG93WyBjYWxsYmFja05hbWUgXTtcblx0XHR3aW5kb3dbIGNhbGxiYWNrTmFtZSBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXNwb25zZUNvbnRhaW5lciA9IGFyZ3VtZW50cztcblx0XHR9O1xuXG5cdFx0Ly8gQ2xlYW4tdXAgZnVuY3Rpb24gKGZpcmVzIGFmdGVyIGNvbnZlcnRlcnMpXG5cdFx0anFYSFIuYWx3YXlzKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gSWYgcHJldmlvdXMgdmFsdWUgZGlkbid0IGV4aXN0IC0gcmVtb3ZlIGl0XG5cdFx0XHRpZiAoIG92ZXJ3cml0dGVuID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdGpRdWVyeSggd2luZG93ICkucmVtb3ZlUHJvcCggY2FsbGJhY2tOYW1lICk7XG5cblx0XHRcdC8vIE90aGVyd2lzZSByZXN0b3JlIHByZWV4aXN0aW5nIHZhbHVlXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR3aW5kb3dbIGNhbGxiYWNrTmFtZSBdID0gb3ZlcndyaXR0ZW47XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNhdmUgYmFjayBhcyBmcmVlXG5cdFx0XHRpZiAoIHNbIGNhbGxiYWNrTmFtZSBdICkge1xuXG5cdFx0XHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHJlLXVzaW5nIHRoZSBvcHRpb25zIGRvZXNuJ3Qgc2NyZXcgdGhpbmdzIGFyb3VuZFxuXHRcdFx0XHRzLmpzb25wQ2FsbGJhY2sgPSBvcmlnaW5hbFNldHRpbmdzLmpzb25wQ2FsbGJhY2s7XG5cblx0XHRcdFx0Ly8gU2F2ZSB0aGUgY2FsbGJhY2sgbmFtZSBmb3IgZnV0dXJlIHVzZVxuXHRcdFx0XHRvbGRDYWxsYmFja3MucHVzaCggY2FsbGJhY2tOYW1lICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENhbGwgaWYgaXQgd2FzIGEgZnVuY3Rpb24gYW5kIHdlIGhhdmUgYSByZXNwb25zZVxuXHRcdFx0aWYgKCByZXNwb25zZUNvbnRhaW5lciAmJiBqUXVlcnkuaXNGdW5jdGlvbiggb3ZlcndyaXR0ZW4gKSApIHtcblx0XHRcdFx0b3ZlcndyaXR0ZW4oIHJlc3BvbnNlQ29udGFpbmVyWyAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0cmVzcG9uc2VDb250YWluZXIgPSBvdmVyd3JpdHRlbiA9IHVuZGVmaW5lZDtcblx0XHR9ICk7XG5cblx0XHQvLyBEZWxlZ2F0ZSB0byBzY3JpcHRcblx0XHRyZXR1cm4gXCJzY3JpcHRcIjtcblx0fVxufSApO1xuXG5cblxuXG4vLyBTdXBwb3J0OiBTYWZhcmkgOCBvbmx5XG4vLyBJbiBTYWZhcmkgOCBkb2N1bWVudHMgY3JlYXRlZCB2aWEgZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50XG4vLyBjb2xsYXBzZSBzaWJsaW5nIGZvcm1zOiB0aGUgc2Vjb25kIG9uZSBiZWNvbWVzIGEgY2hpbGQgb2YgdGhlIGZpcnN0IG9uZS5cbi8vIEJlY2F1c2Ugb2YgdGhhdCwgdGhpcyBzZWN1cml0eSBtZWFzdXJlIGhhcyB0byBiZSBkaXNhYmxlZCBpbiBTYWZhcmkgOC5cbi8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzczMzdcbnN1cHBvcnQuY3JlYXRlSFRNTERvY3VtZW50ID0gKCBmdW5jdGlvbigpIHtcblx0dmFyIGJvZHkgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIFwiXCIgKS5ib2R5O1xuXHRib2R5LmlubmVySFRNTCA9IFwiPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT5cIjtcblx0cmV0dXJuIGJvZHkuY2hpbGROb2Rlcy5sZW5ndGggPT09IDI7XG59ICkoKTtcblxuXG4vLyBBcmd1bWVudCBcImRhdGFcIiBzaG91bGQgYmUgc3RyaW5nIG9mIGh0bWxcbi8vIGNvbnRleHQgKG9wdGlvbmFsKTogSWYgc3BlY2lmaWVkLCB0aGUgZnJhZ21lbnQgd2lsbCBiZSBjcmVhdGVkIGluIHRoaXMgY29udGV4dCxcbi8vIGRlZmF1bHRzIHRvIGRvY3VtZW50XG4vLyBrZWVwU2NyaXB0cyAob3B0aW9uYWwpOiBJZiB0cnVlLCB3aWxsIGluY2x1ZGUgc2NyaXB0cyBwYXNzZWQgaW4gdGhlIGh0bWwgc3RyaW5nXG5qUXVlcnkucGFyc2VIVE1MID0gZnVuY3Rpb24oIGRhdGEsIGNvbnRleHQsIGtlZXBTY3JpcHRzICkge1xuXHRpZiAoIHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdHJldHVybiBbXTtcblx0fVxuXHRpZiAoIHR5cGVvZiBjb250ZXh0ID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRrZWVwU2NyaXB0cyA9IGNvbnRleHQ7XG5cdFx0Y29udGV4dCA9IGZhbHNlO1xuXHR9XG5cblx0dmFyIGJhc2UsIHBhcnNlZCwgc2NyaXB0cztcblxuXHRpZiAoICFjb250ZXh0ICkge1xuXG5cdFx0Ly8gU3RvcCBzY3JpcHRzIG9yIGlubGluZSBldmVudCBoYW5kbGVycyBmcm9tIGJlaW5nIGV4ZWN1dGVkIGltbWVkaWF0ZWx5XG5cdFx0Ly8gYnkgdXNpbmcgZG9jdW1lbnQuaW1wbGVtZW50YXRpb25cblx0XHRpZiAoIHN1cHBvcnQuY3JlYXRlSFRNTERvY3VtZW50ICkge1xuXHRcdFx0Y29udGV4dCA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCggXCJcIiApO1xuXG5cdFx0XHQvLyBTZXQgdGhlIGJhc2UgaHJlZiBmb3IgdGhlIGNyZWF0ZWQgZG9jdW1lbnRcblx0XHRcdC8vIHNvIGFueSBwYXJzZWQgZWxlbWVudHMgd2l0aCBVUkxzXG5cdFx0XHQvLyBhcmUgYmFzZWQgb24gdGhlIGRvY3VtZW50J3MgVVJMIChnaC0yOTY1KVxuXHRcdFx0YmFzZSA9IGNvbnRleHQuY3JlYXRlRWxlbWVudCggXCJiYXNlXCIgKTtcblx0XHRcdGJhc2UuaHJlZiA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWY7XG5cdFx0XHRjb250ZXh0LmhlYWQuYXBwZW5kQ2hpbGQoIGJhc2UgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29udGV4dCA9IGRvY3VtZW50O1xuXHRcdH1cblx0fVxuXG5cdHBhcnNlZCA9IHJzaW5nbGVUYWcuZXhlYyggZGF0YSApO1xuXHRzY3JpcHRzID0gIWtlZXBTY3JpcHRzICYmIFtdO1xuXG5cdC8vIFNpbmdsZSB0YWdcblx0aWYgKCBwYXJzZWQgKSB7XG5cdFx0cmV0dXJuIFsgY29udGV4dC5jcmVhdGVFbGVtZW50KCBwYXJzZWRbIDEgXSApIF07XG5cdH1cblxuXHRwYXJzZWQgPSBidWlsZEZyYWdtZW50KCBbIGRhdGEgXSwgY29udGV4dCwgc2NyaXB0cyApO1xuXG5cdGlmICggc2NyaXB0cyAmJiBzY3JpcHRzLmxlbmd0aCApIHtcblx0XHRqUXVlcnkoIHNjcmlwdHMgKS5yZW1vdmUoKTtcblx0fVxuXG5cdHJldHVybiBqUXVlcnkubWVyZ2UoIFtdLCBwYXJzZWQuY2hpbGROb2RlcyApO1xufTtcblxuXG4vKipcbiAqIExvYWQgYSB1cmwgaW50byBhIHBhZ2VcbiAqL1xualF1ZXJ5LmZuLmxvYWQgPSBmdW5jdGlvbiggdXJsLCBwYXJhbXMsIGNhbGxiYWNrICkge1xuXHR2YXIgc2VsZWN0b3IsIHR5cGUsIHJlc3BvbnNlLFxuXHRcdHNlbGYgPSB0aGlzLFxuXHRcdG9mZiA9IHVybC5pbmRleE9mKCBcIiBcIiApO1xuXG5cdGlmICggb2ZmID4gLTEgKSB7XG5cdFx0c2VsZWN0b3IgPSBqUXVlcnkudHJpbSggdXJsLnNsaWNlKCBvZmYgKSApO1xuXHRcdHVybCA9IHVybC5zbGljZSggMCwgb2ZmICk7XG5cdH1cblxuXHQvLyBJZiBpdCdzIGEgZnVuY3Rpb25cblx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcGFyYW1zICkgKSB7XG5cblx0XHQvLyBXZSBhc3N1bWUgdGhhdCBpdCdzIHRoZSBjYWxsYmFja1xuXHRcdGNhbGxiYWNrID0gcGFyYW1zO1xuXHRcdHBhcmFtcyA9IHVuZGVmaW5lZDtcblxuXHQvLyBPdGhlcndpc2UsIGJ1aWxkIGEgcGFyYW0gc3RyaW5nXG5cdH0gZWxzZSBpZiAoIHBhcmFtcyAmJiB0eXBlb2YgcGFyYW1zID09PSBcIm9iamVjdFwiICkge1xuXHRcdHR5cGUgPSBcIlBPU1RcIjtcblx0fVxuXG5cdC8vIElmIHdlIGhhdmUgZWxlbWVudHMgdG8gbW9kaWZ5LCBtYWtlIHRoZSByZXF1ZXN0XG5cdGlmICggc2VsZi5sZW5ndGggPiAwICkge1xuXHRcdGpRdWVyeS5hamF4KCB7XG5cdFx0XHR1cmw6IHVybCxcblxuXHRcdFx0Ly8gSWYgXCJ0eXBlXCIgdmFyaWFibGUgaXMgdW5kZWZpbmVkLCB0aGVuIFwiR0VUXCIgbWV0aG9kIHdpbGwgYmUgdXNlZC5cblx0XHRcdC8vIE1ha2UgdmFsdWUgb2YgdGhpcyBmaWVsZCBleHBsaWNpdCBzaW5jZVxuXHRcdFx0Ly8gdXNlciBjYW4gb3ZlcnJpZGUgaXQgdGhyb3VnaCBhamF4U2V0dXAgbWV0aG9kXG5cdFx0XHR0eXBlOiB0eXBlIHx8IFwiR0VUXCIsXG5cdFx0XHRkYXRhVHlwZTogXCJodG1sXCIsXG5cdFx0XHRkYXRhOiBwYXJhbXNcblx0XHR9ICkuZG9uZSggZnVuY3Rpb24oIHJlc3BvbnNlVGV4dCApIHtcblxuXHRcdFx0Ly8gU2F2ZSByZXNwb25zZSBmb3IgdXNlIGluIGNvbXBsZXRlIGNhbGxiYWNrXG5cdFx0XHRyZXNwb25zZSA9IGFyZ3VtZW50cztcblxuXHRcdFx0c2VsZi5odG1sKCBzZWxlY3RvciA/XG5cblx0XHRcdFx0Ly8gSWYgYSBzZWxlY3RvciB3YXMgc3BlY2lmaWVkLCBsb2NhdGUgdGhlIHJpZ2h0IGVsZW1lbnRzIGluIGEgZHVtbXkgZGl2XG5cdFx0XHRcdC8vIEV4Y2x1ZGUgc2NyaXB0cyB0byBhdm9pZCBJRSAnUGVybWlzc2lvbiBEZW5pZWQnIGVycm9yc1xuXHRcdFx0XHRqUXVlcnkoIFwiPGRpdj5cIiApLmFwcGVuZCggalF1ZXJ5LnBhcnNlSFRNTCggcmVzcG9uc2VUZXh0ICkgKS5maW5kKCBzZWxlY3RvciApIDpcblxuXHRcdFx0XHQvLyBPdGhlcndpc2UgdXNlIHRoZSBmdWxsIHJlc3VsdFxuXHRcdFx0XHRyZXNwb25zZVRleHQgKTtcblxuXHRcdC8vIElmIHRoZSByZXF1ZXN0IHN1Y2NlZWRzLCB0aGlzIGZ1bmN0aW9uIGdldHMgXCJkYXRhXCIsIFwic3RhdHVzXCIsIFwianFYSFJcIlxuXHRcdC8vIGJ1dCB0aGV5IGFyZSBpZ25vcmVkIGJlY2F1c2UgcmVzcG9uc2Ugd2FzIHNldCBhYm92ZS5cblx0XHQvLyBJZiBpdCBmYWlscywgdGhpcyBmdW5jdGlvbiBnZXRzIFwianFYSFJcIiwgXCJzdGF0dXNcIiwgXCJlcnJvclwiXG5cdFx0fSApLmFsd2F5cyggY2FsbGJhY2sgJiYgZnVuY3Rpb24oIGpxWEhSLCBzdGF0dXMgKSB7XG5cdFx0XHRzZWxmLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjYWxsYmFjay5hcHBseSggdGhpcywgcmVzcG9uc2UgfHwgWyBqcVhIUi5yZXNwb25zZVRleHQsIHN0YXR1cywganFYSFIgXSApO1xuXHRcdFx0fSApO1xuXHRcdH0gKTtcblx0fVxuXG5cdHJldHVybiB0aGlzO1xufTtcblxuXG5cblxuLy8gQXR0YWNoIGEgYnVuY2ggb2YgZnVuY3Rpb25zIGZvciBoYW5kbGluZyBjb21tb24gQUpBWCBldmVudHNcbmpRdWVyeS5lYWNoKCBbXG5cdFwiYWpheFN0YXJ0XCIsXG5cdFwiYWpheFN0b3BcIixcblx0XCJhamF4Q29tcGxldGVcIixcblx0XCJhamF4RXJyb3JcIixcblx0XCJhamF4U3VjY2Vzc1wiLFxuXHRcImFqYXhTZW5kXCJcbl0sIGZ1bmN0aW9uKCBpLCB0eXBlICkge1xuXHRqUXVlcnkuZm5bIHR5cGUgXSA9IGZ1bmN0aW9uKCBmbiApIHtcblx0XHRyZXR1cm4gdGhpcy5vbiggdHlwZSwgZm4gKTtcblx0fTtcbn0gKTtcblxuXG5cblxualF1ZXJ5LmV4cHIucHNldWRvcy5hbmltYXRlZCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRyZXR1cm4galF1ZXJ5LmdyZXAoIGpRdWVyeS50aW1lcnMsIGZ1bmN0aW9uKCBmbiApIHtcblx0XHRyZXR1cm4gZWxlbSA9PT0gZm4uZWxlbTtcblx0fSApLmxlbmd0aDtcbn07XG5cblxuXG5cbi8qKlxuICogR2V0cyBhIHdpbmRvdyBmcm9tIGFuIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gZ2V0V2luZG93KCBlbGVtICkge1xuXHRyZXR1cm4galF1ZXJ5LmlzV2luZG93KCBlbGVtICkgPyBlbGVtIDogZWxlbS5ub2RlVHlwZSA9PT0gOSAmJiBlbGVtLmRlZmF1bHRWaWV3O1xufVxuXG5qUXVlcnkub2Zmc2V0ID0ge1xuXHRzZXRPZmZzZXQ6IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBpICkge1xuXHRcdHZhciBjdXJQb3NpdGlvbiwgY3VyTGVmdCwgY3VyQ1NTVG9wLCBjdXJUb3AsIGN1ck9mZnNldCwgY3VyQ1NTTGVmdCwgY2FsY3VsYXRlUG9zaXRpb24sXG5cdFx0XHRwb3NpdGlvbiA9IGpRdWVyeS5jc3MoIGVsZW0sIFwicG9zaXRpb25cIiApLFxuXHRcdFx0Y3VyRWxlbSA9IGpRdWVyeSggZWxlbSApLFxuXHRcdFx0cHJvcHMgPSB7fTtcblxuXHRcdC8vIFNldCBwb3NpdGlvbiBmaXJzdCwgaW4tY2FzZSB0b3AvbGVmdCBhcmUgc2V0IGV2ZW4gb24gc3RhdGljIGVsZW1cblx0XHRpZiAoIHBvc2l0aW9uID09PSBcInN0YXRpY1wiICkge1xuXHRcdFx0ZWxlbS5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcblx0XHR9XG5cblx0XHRjdXJPZmZzZXQgPSBjdXJFbGVtLm9mZnNldCgpO1xuXHRcdGN1ckNTU1RvcCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwidG9wXCIgKTtcblx0XHRjdXJDU1NMZWZ0ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJsZWZ0XCIgKTtcblx0XHRjYWxjdWxhdGVQb3NpdGlvbiA9ICggcG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIiB8fCBwb3NpdGlvbiA9PT0gXCJmaXhlZFwiICkgJiZcblx0XHRcdCggY3VyQ1NTVG9wICsgY3VyQ1NTTGVmdCApLmluZGV4T2YoIFwiYXV0b1wiICkgPiAtMTtcblxuXHRcdC8vIE5lZWQgdG8gYmUgYWJsZSB0byBjYWxjdWxhdGUgcG9zaXRpb24gaWYgZWl0aGVyXG5cdFx0Ly8gdG9wIG9yIGxlZnQgaXMgYXV0byBhbmQgcG9zaXRpb24gaXMgZWl0aGVyIGFic29sdXRlIG9yIGZpeGVkXG5cdFx0aWYgKCBjYWxjdWxhdGVQb3NpdGlvbiApIHtcblx0XHRcdGN1clBvc2l0aW9uID0gY3VyRWxlbS5wb3NpdGlvbigpO1xuXHRcdFx0Y3VyVG9wID0gY3VyUG9zaXRpb24udG9wO1xuXHRcdFx0Y3VyTGVmdCA9IGN1clBvc2l0aW9uLmxlZnQ7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y3VyVG9wID0gcGFyc2VGbG9hdCggY3VyQ1NTVG9wICkgfHwgMDtcblx0XHRcdGN1ckxlZnQgPSBwYXJzZUZsb2F0KCBjdXJDU1NMZWZ0ICkgfHwgMDtcblx0XHR9XG5cblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBvcHRpb25zICkgKSB7XG5cblx0XHRcdC8vIFVzZSBqUXVlcnkuZXh0ZW5kIGhlcmUgdG8gYWxsb3cgbW9kaWZpY2F0aW9uIG9mIGNvb3JkaW5hdGVzIGFyZ3VtZW50IChnaC0xODQ4KVxuXHRcdFx0b3B0aW9ucyA9IG9wdGlvbnMuY2FsbCggZWxlbSwgaSwgalF1ZXJ5LmV4dGVuZCgge30sIGN1ck9mZnNldCApICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBvcHRpb25zLnRvcCAhPSBudWxsICkge1xuXHRcdFx0cHJvcHMudG9wID0gKCBvcHRpb25zLnRvcCAtIGN1ck9mZnNldC50b3AgKSArIGN1clRvcDtcblx0XHR9XG5cdFx0aWYgKCBvcHRpb25zLmxlZnQgIT0gbnVsbCApIHtcblx0XHRcdHByb3BzLmxlZnQgPSAoIG9wdGlvbnMubGVmdCAtIGN1ck9mZnNldC5sZWZ0ICkgKyBjdXJMZWZ0O1xuXHRcdH1cblxuXHRcdGlmICggXCJ1c2luZ1wiIGluIG9wdGlvbnMgKSB7XG5cdFx0XHRvcHRpb25zLnVzaW5nLmNhbGwoIGVsZW0sIHByb3BzICk7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y3VyRWxlbS5jc3MoIHByb3BzICk7XG5cdFx0fVxuXHR9XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdG9mZnNldDogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cblx0XHQvLyBQcmVzZXJ2ZSBjaGFpbmluZyBmb3Igc2V0dGVyXG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIG9wdGlvbnMgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdHRoaXMgOlxuXHRcdFx0XHR0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRcdGpRdWVyeS5vZmZzZXQuc2V0T2Zmc2V0KCB0aGlzLCBvcHRpb25zLCBpICk7XG5cdFx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHR2YXIgZG9jRWxlbSwgd2luLCByZWN0LCBkb2MsXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdO1xuXG5cdFx0aWYgKCAhZWxlbSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0XHQvLyBSdW5uaW5nIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBvbiBhXG5cdFx0Ly8gZGlzY29ubmVjdGVkIG5vZGUgaW4gSUUgdGhyb3dzIGFuIGVycm9yXG5cdFx0aWYgKCAhZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiB7IHRvcDogMCwgbGVmdDogMCB9O1xuXHRcdH1cblxuXHRcdHJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0Ly8gTWFrZSBzdXJlIGVsZW1lbnQgaXMgbm90IGhpZGRlbiAoZGlzcGxheTogbm9uZSlcblx0XHRpZiAoIHJlY3Qud2lkdGggfHwgcmVjdC5oZWlnaHQgKSB7XG5cdFx0XHRkb2MgPSBlbGVtLm93bmVyRG9jdW1lbnQ7XG5cdFx0XHR3aW4gPSBnZXRXaW5kb3coIGRvYyApO1xuXHRcdFx0ZG9jRWxlbSA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG5cblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHRvcDogcmVjdC50b3AgKyB3aW4ucGFnZVlPZmZzZXQgLSBkb2NFbGVtLmNsaWVudFRvcCxcblx0XHRcdFx0bGVmdDogcmVjdC5sZWZ0ICsgd2luLnBhZ2VYT2Zmc2V0IC0gZG9jRWxlbS5jbGllbnRMZWZ0XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIFJldHVybiB6ZXJvcyBmb3IgZGlzY29ubmVjdGVkIGFuZCBoaWRkZW4gZWxlbWVudHMgKGdoLTIzMTApXG5cdFx0cmV0dXJuIHJlY3Q7XG5cdH0sXG5cblx0cG9zaXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggIXRoaXNbIDAgXSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgb2Zmc2V0UGFyZW50LCBvZmZzZXQsXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdLFxuXHRcdFx0cGFyZW50T2Zmc2V0ID0geyB0b3A6IDAsIGxlZnQ6IDAgfTtcblxuXHRcdC8vIEZpeGVkIGVsZW1lbnRzIGFyZSBvZmZzZXQgZnJvbSB3aW5kb3cgKHBhcmVudE9mZnNldCA9IHt0b3A6MCwgbGVmdDogMH0sXG5cdFx0Ly8gYmVjYXVzZSBpdCBpcyBpdHMgb25seSBvZmZzZXQgcGFyZW50XG5cdFx0aWYgKCBqUXVlcnkuY3NzKCBlbGVtLCBcInBvc2l0aW9uXCIgKSA9PT0gXCJmaXhlZFwiICkge1xuXG5cdFx0XHQvLyBBc3N1bWUgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGlzIHRoZXJlIHdoZW4gY29tcHV0ZWQgcG9zaXRpb24gaXMgZml4ZWRcblx0XHRcdG9mZnNldCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBHZXQgKnJlYWwqIG9mZnNldFBhcmVudFxuXHRcdFx0b2Zmc2V0UGFyZW50ID0gdGhpcy5vZmZzZXRQYXJlbnQoKTtcblxuXHRcdFx0Ly8gR2V0IGNvcnJlY3Qgb2Zmc2V0c1xuXHRcdFx0b2Zmc2V0ID0gdGhpcy5vZmZzZXQoKTtcblx0XHRcdGlmICggIWpRdWVyeS5ub2RlTmFtZSggb2Zmc2V0UGFyZW50WyAwIF0sIFwiaHRtbFwiICkgKSB7XG5cdFx0XHRcdHBhcmVudE9mZnNldCA9IG9mZnNldFBhcmVudC5vZmZzZXQoKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIG9mZnNldFBhcmVudCBib3JkZXJzXG5cdFx0XHRwYXJlbnRPZmZzZXQgPSB7XG5cdFx0XHRcdHRvcDogcGFyZW50T2Zmc2V0LnRvcCArIGpRdWVyeS5jc3MoIG9mZnNldFBhcmVudFsgMCBdLCBcImJvcmRlclRvcFdpZHRoXCIsIHRydWUgKSxcblx0XHRcdFx0bGVmdDogcGFyZW50T2Zmc2V0LmxlZnQgKyBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnRbIDAgXSwgXCJib3JkZXJMZWZ0V2lkdGhcIiwgdHJ1ZSApXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIFN1YnRyYWN0IHBhcmVudCBvZmZzZXRzIGFuZCBlbGVtZW50IG1hcmdpbnNcblx0XHRyZXR1cm4ge1xuXHRcdFx0dG9wOiBvZmZzZXQudG9wIC0gcGFyZW50T2Zmc2V0LnRvcCAtIGpRdWVyeS5jc3MoIGVsZW0sIFwibWFyZ2luVG9wXCIsIHRydWUgKSxcblx0XHRcdGxlZnQ6IG9mZnNldC5sZWZ0IC0gcGFyZW50T2Zmc2V0LmxlZnQgLSBqUXVlcnkuY3NzKCBlbGVtLCBcIm1hcmdpbkxlZnRcIiwgdHJ1ZSApXG5cdFx0fTtcblx0fSxcblxuXHQvLyBUaGlzIG1ldGhvZCB3aWxsIHJldHVybiBkb2N1bWVudEVsZW1lbnQgaW4gdGhlIGZvbGxvd2luZyBjYXNlczpcblx0Ly8gMSkgRm9yIHRoZSBlbGVtZW50IGluc2lkZSB0aGUgaWZyYW1lIHdpdGhvdXQgb2Zmc2V0UGFyZW50LCB0aGlzIG1ldGhvZCB3aWxsIHJldHVyblxuXHQvLyAgICBkb2N1bWVudEVsZW1lbnQgb2YgdGhlIHBhcmVudCB3aW5kb3dcblx0Ly8gMikgRm9yIHRoZSBoaWRkZW4gb3IgZGV0YWNoZWQgZWxlbWVudFxuXHQvLyAzKSBGb3IgYm9keSBvciBodG1sIGVsZW1lbnQsIGkuZS4gaW4gY2FzZSBvZiB0aGUgaHRtbCBub2RlIC0gaXQgd2lsbCByZXR1cm4gaXRzZWxmXG5cdC8vXG5cdC8vIGJ1dCB0aG9zZSBleGNlcHRpb25zIHdlcmUgbmV2ZXIgcHJlc2VudGVkIGFzIGEgcmVhbCBsaWZlIHVzZS1jYXNlc1xuXHQvLyBhbmQgbWlnaHQgYmUgY29uc2lkZXJlZCBhcyBtb3JlIHByZWZlcmFibGUgcmVzdWx0cy5cblx0Ly9cblx0Ly8gVGhpcyBsb2dpYywgaG93ZXZlciwgaXMgbm90IGd1YXJhbnRlZWQgYW5kIGNhbiBjaGFuZ2UgYXQgYW55IHBvaW50IGluIHRoZSBmdXR1cmVcblx0b2Zmc2V0UGFyZW50OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG9mZnNldFBhcmVudCA9IHRoaXMub2Zmc2V0UGFyZW50O1xuXG5cdFx0XHR3aGlsZSAoIG9mZnNldFBhcmVudCAmJiBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnQsIFwicG9zaXRpb25cIiApID09PSBcInN0YXRpY1wiICkge1xuXHRcdFx0XHRvZmZzZXRQYXJlbnQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0UGFyZW50O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gb2Zmc2V0UGFyZW50IHx8IGRvY3VtZW50RWxlbWVudDtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxuLy8gQ3JlYXRlIHNjcm9sbExlZnQgYW5kIHNjcm9sbFRvcCBtZXRob2RzXG5qUXVlcnkuZWFjaCggeyBzY3JvbGxMZWZ0OiBcInBhZ2VYT2Zmc2V0XCIsIHNjcm9sbFRvcDogXCJwYWdlWU9mZnNldFwiIH0sIGZ1bmN0aW9uKCBtZXRob2QsIHByb3AgKSB7XG5cdHZhciB0b3AgPSBcInBhZ2VZT2Zmc2V0XCIgPT09IHByb3A7XG5cblx0alF1ZXJ5LmZuWyBtZXRob2QgXSA9IGZ1bmN0aW9uKCB2YWwgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG1ldGhvZCwgdmFsICkge1xuXHRcdFx0dmFyIHdpbiA9IGdldFdpbmRvdyggZWxlbSApO1xuXG5cdFx0XHRpZiAoIHZhbCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRyZXR1cm4gd2luID8gd2luWyBwcm9wIF0gOiBlbGVtWyBtZXRob2QgXTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCB3aW4gKSB7XG5cdFx0XHRcdHdpbi5zY3JvbGxUbyhcblx0XHRcdFx0XHQhdG9wID8gdmFsIDogd2luLnBhZ2VYT2Zmc2V0LFxuXHRcdFx0XHRcdHRvcCA/IHZhbCA6IHdpbi5wYWdlWU9mZnNldFxuXHRcdFx0XHQpO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlbGVtWyBtZXRob2QgXSA9IHZhbDtcblx0XHRcdH1cblx0XHR9LCBtZXRob2QsIHZhbCwgYXJndW1lbnRzLmxlbmd0aCApO1xuXHR9O1xufSApO1xuXG4vLyBTdXBwb3J0OiBTYWZhcmkgPD03IC0gOS4xLCBDaHJvbWUgPD0zNyAtIDQ5XG4vLyBBZGQgdGhlIHRvcC9sZWZ0IGNzc0hvb2tzIHVzaW5nIGpRdWVyeS5mbi5wb3NpdGlvblxuLy8gV2Via2l0IGJ1ZzogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTI5MDg0XG4vLyBCbGluayBidWc6IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTU4OTM0N1xuLy8gZ2V0Q29tcHV0ZWRTdHlsZSByZXR1cm5zIHBlcmNlbnQgd2hlbiBzcGVjaWZpZWQgZm9yIHRvcC9sZWZ0L2JvdHRvbS9yaWdodDtcbi8vIHJhdGhlciB0aGFuIG1ha2UgdGhlIGNzcyBtb2R1bGUgZGVwZW5kIG9uIHRoZSBvZmZzZXQgbW9kdWxlLCBqdXN0IGNoZWNrIGZvciBpdCBoZXJlXG5qUXVlcnkuZWFjaCggWyBcInRvcFwiLCBcImxlZnRcIiBdLCBmdW5jdGlvbiggaSwgcHJvcCApIHtcblx0alF1ZXJ5LmNzc0hvb2tzWyBwcm9wIF0gPSBhZGRHZXRIb29rSWYoIHN1cHBvcnQucGl4ZWxQb3NpdGlvbixcblx0XHRmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7XG5cdFx0XHRpZiAoIGNvbXB1dGVkICkge1xuXHRcdFx0XHRjb21wdXRlZCA9IGN1ckNTUyggZWxlbSwgcHJvcCApO1xuXG5cdFx0XHRcdC8vIElmIGN1ckNTUyByZXR1cm5zIHBlcmNlbnRhZ2UsIGZhbGxiYWNrIHRvIG9mZnNldFxuXHRcdFx0XHRyZXR1cm4gcm51bW5vbnB4LnRlc3QoIGNvbXB1dGVkICkgP1xuXHRcdFx0XHRcdGpRdWVyeSggZWxlbSApLnBvc2l0aW9uKClbIHByb3AgXSArIFwicHhcIiA6XG5cdFx0XHRcdFx0Y29tcHV0ZWQ7XG5cdFx0XHR9XG5cdFx0fVxuXHQpO1xufSApO1xuXG5cbi8vIENyZWF0ZSBpbm5lckhlaWdodCwgaW5uZXJXaWR0aCwgaGVpZ2h0LCB3aWR0aCwgb3V0ZXJIZWlnaHQgYW5kIG91dGVyV2lkdGggbWV0aG9kc1xualF1ZXJ5LmVhY2goIHsgSGVpZ2h0OiBcImhlaWdodFwiLCBXaWR0aDogXCJ3aWR0aFwiIH0sIGZ1bmN0aW9uKCBuYW1lLCB0eXBlICkge1xuXHRqUXVlcnkuZWFjaCggeyBwYWRkaW5nOiBcImlubmVyXCIgKyBuYW1lLCBjb250ZW50OiB0eXBlLCBcIlwiOiBcIm91dGVyXCIgKyBuYW1lIH0sXG5cdFx0ZnVuY3Rpb24oIGRlZmF1bHRFeHRyYSwgZnVuY05hbWUgKSB7XG5cblx0XHQvLyBNYXJnaW4gaXMgb25seSBmb3Igb3V0ZXJIZWlnaHQsIG91dGVyV2lkdGhcblx0XHRqUXVlcnkuZm5bIGZ1bmNOYW1lIF0gPSBmdW5jdGlvbiggbWFyZ2luLCB2YWx1ZSApIHtcblx0XHRcdHZhciBjaGFpbmFibGUgPSBhcmd1bWVudHMubGVuZ3RoICYmICggZGVmYXVsdEV4dHJhIHx8IHR5cGVvZiBtYXJnaW4gIT09IFwiYm9vbGVhblwiICksXG5cdFx0XHRcdGV4dHJhID0gZGVmYXVsdEV4dHJhIHx8ICggbWFyZ2luID09PSB0cnVlIHx8IHZhbHVlID09PSB0cnVlID8gXCJtYXJnaW5cIiA6IFwiYm9yZGVyXCIgKTtcblxuXHRcdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIHR5cGUsIHZhbHVlICkge1xuXHRcdFx0XHR2YXIgZG9jO1xuXG5cdFx0XHRcdGlmICggalF1ZXJ5LmlzV2luZG93KCBlbGVtICkgKSB7XG5cblx0XHRcdFx0XHQvLyAkKCB3aW5kb3cgKS5vdXRlcldpZHRoL0hlaWdodCByZXR1cm4gdy9oIGluY2x1ZGluZyBzY3JvbGxiYXJzIChnaC0xNzI5KVxuXHRcdFx0XHRcdHJldHVybiBmdW5jTmFtZS5pbmRleE9mKCBcIm91dGVyXCIgKSA9PT0gMCA/XG5cdFx0XHRcdFx0XHRlbGVtWyBcImlubmVyXCIgKyBuYW1lIF0gOlxuXHRcdFx0XHRcdFx0ZWxlbS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbIFwiY2xpZW50XCIgKyBuYW1lIF07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBHZXQgZG9jdW1lbnQgd2lkdGggb3IgaGVpZ2h0XG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0XHRkb2MgPSBlbGVtLmRvY3VtZW50RWxlbWVudDtcblxuXHRcdFx0XHRcdC8vIEVpdGhlciBzY3JvbGxbV2lkdGgvSGVpZ2h0XSBvciBvZmZzZXRbV2lkdGgvSGVpZ2h0XSBvciBjbGllbnRbV2lkdGgvSGVpZ2h0XSxcblx0XHRcdFx0XHQvLyB3aGljaGV2ZXIgaXMgZ3JlYXRlc3Rcblx0XHRcdFx0XHRyZXR1cm4gTWF0aC5tYXgoXG5cdFx0XHRcdFx0XHRlbGVtLmJvZHlbIFwic2Nyb2xsXCIgKyBuYW1lIF0sIGRvY1sgXCJzY3JvbGxcIiArIG5hbWUgXSxcblx0XHRcdFx0XHRcdGVsZW0uYm9keVsgXCJvZmZzZXRcIiArIG5hbWUgXSwgZG9jWyBcIm9mZnNldFwiICsgbmFtZSBdLFxuXHRcdFx0XHRcdFx0ZG9jWyBcImNsaWVudFwiICsgbmFtZSBdXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID9cblxuXHRcdFx0XHRcdC8vIEdldCB3aWR0aCBvciBoZWlnaHQgb24gdGhlIGVsZW1lbnQsIHJlcXVlc3RpbmcgYnV0IG5vdCBmb3JjaW5nIHBhcnNlRmxvYXRcblx0XHRcdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCB0eXBlLCBleHRyYSApIDpcblxuXHRcdFx0XHRcdC8vIFNldCB3aWR0aCBvciBoZWlnaHQgb24gdGhlIGVsZW1lbnRcblx0XHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIHR5cGUsIHZhbHVlLCBleHRyYSApO1xuXHRcdFx0fSwgdHlwZSwgY2hhaW5hYmxlID8gbWFyZ2luIDogdW5kZWZpbmVkLCBjaGFpbmFibGUgKTtcblx0XHR9O1xuXHR9ICk7XG59ICk7XG5cblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXG5cdGJpbmQ6IGZ1bmN0aW9uKCB0eXBlcywgZGF0YSwgZm4gKSB7XG5cdFx0cmV0dXJuIHRoaXMub24oIHR5cGVzLCBudWxsLCBkYXRhLCBmbiApO1xuXHR9LFxuXHR1bmJpbmQ6IGZ1bmN0aW9uKCB0eXBlcywgZm4gKSB7XG5cdFx0cmV0dXJuIHRoaXMub2ZmKCB0eXBlcywgbnVsbCwgZm4gKTtcblx0fSxcblxuXHRkZWxlZ2F0ZTogZnVuY3Rpb24oIHNlbGVjdG9yLCB0eXBlcywgZGF0YSwgZm4gKSB7XG5cdFx0cmV0dXJuIHRoaXMub24oIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKTtcblx0fSxcblx0dW5kZWxlZ2F0ZTogZnVuY3Rpb24oIHNlbGVjdG9yLCB0eXBlcywgZm4gKSB7XG5cblx0XHQvLyAoIG5hbWVzcGFjZSApIG9yICggc2VsZWN0b3IsIHR5cGVzIFssIGZuXSApXG5cdFx0cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgP1xuXHRcdFx0dGhpcy5vZmYoIHNlbGVjdG9yLCBcIioqXCIgKSA6XG5cdFx0XHR0aGlzLm9mZiggdHlwZXMsIHNlbGVjdG9yIHx8IFwiKipcIiwgZm4gKTtcblx0fVxufSApO1xuXG5qUXVlcnkucGFyc2VKU09OID0gSlNPTi5wYXJzZTtcblxuXG5cblxuLy8gUmVnaXN0ZXIgYXMgYSBuYW1lZCBBTUQgbW9kdWxlLCBzaW5jZSBqUXVlcnkgY2FuIGJlIGNvbmNhdGVuYXRlZCB3aXRoIG90aGVyXG4vLyBmaWxlcyB0aGF0IG1heSB1c2UgZGVmaW5lLCBidXQgbm90IHZpYSBhIHByb3BlciBjb25jYXRlbmF0aW9uIHNjcmlwdCB0aGF0XG4vLyB1bmRlcnN0YW5kcyBhbm9ueW1vdXMgQU1EIG1vZHVsZXMuIEEgbmFtZWQgQU1EIGlzIHNhZmVzdCBhbmQgbW9zdCByb2J1c3Rcbi8vIHdheSB0byByZWdpc3Rlci4gTG93ZXJjYXNlIGpxdWVyeSBpcyB1c2VkIGJlY2F1c2UgQU1EIG1vZHVsZSBuYW1lcyBhcmVcbi8vIGRlcml2ZWQgZnJvbSBmaWxlIG5hbWVzLCBhbmQgalF1ZXJ5IGlzIG5vcm1hbGx5IGRlbGl2ZXJlZCBpbiBhIGxvd2VyY2FzZVxuLy8gZmlsZSBuYW1lLiBEbyB0aGlzIGFmdGVyIGNyZWF0aW5nIHRoZSBnbG9iYWwgc28gdGhhdCBpZiBhbiBBTUQgbW9kdWxlIHdhbnRzXG4vLyB0byBjYWxsIG5vQ29uZmxpY3QgdG8gaGlkZSB0aGlzIHZlcnNpb24gb2YgalF1ZXJ5LCBpdCB3aWxsIHdvcmsuXG5cbi8vIE5vdGUgdGhhdCBmb3IgbWF4aW11bSBwb3J0YWJpbGl0eSwgbGlicmFyaWVzIHRoYXQgYXJlIG5vdCBqUXVlcnkgc2hvdWxkXG4vLyBkZWNsYXJlIHRoZW1zZWx2ZXMgYXMgYW5vbnltb3VzIG1vZHVsZXMsIGFuZCBhdm9pZCBzZXR0aW5nIGEgZ2xvYmFsIGlmIGFuXG4vLyBBTUQgbG9hZGVyIGlzIHByZXNlbnQuIGpRdWVyeSBpcyBhIHNwZWNpYWwgY2FzZS4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZVxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2pyYnVya2UvcmVxdWlyZWpzL3dpa2kvVXBkYXRpbmctZXhpc3RpbmctbGlicmFyaWVzI3dpa2ktYW5vblxuXG5pZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXHRkZWZpbmUoIFwianF1ZXJ5XCIsIFtdLCBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4galF1ZXJ5O1xuXHR9ICk7XG59XG5cblxuXG5cblxudmFyXG5cblx0Ly8gTWFwIG92ZXIgalF1ZXJ5IGluIGNhc2Ugb2Ygb3ZlcndyaXRlXG5cdF9qUXVlcnkgPSB3aW5kb3cualF1ZXJ5LFxuXG5cdC8vIE1hcCBvdmVyIHRoZSAkIGluIGNhc2Ugb2Ygb3ZlcndyaXRlXG5cdF8kID0gd2luZG93LiQ7XG5cbmpRdWVyeS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oIGRlZXAgKSB7XG5cdGlmICggd2luZG93LiQgPT09IGpRdWVyeSApIHtcblx0XHR3aW5kb3cuJCA9IF8kO1xuXHR9XG5cblx0aWYgKCBkZWVwICYmIHdpbmRvdy5qUXVlcnkgPT09IGpRdWVyeSApIHtcblx0XHR3aW5kb3cualF1ZXJ5ID0gX2pRdWVyeTtcblx0fVxuXG5cdHJldHVybiBqUXVlcnk7XG59O1xuXG4vLyBFeHBvc2UgalF1ZXJ5IGFuZCAkIGlkZW50aWZpZXJzLCBldmVuIGluIEFNRFxuLy8gKCM3MTAyI2NvbW1lbnQ6MTAsIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5L3B1bGwvNTU3KVxuLy8gYW5kIENvbW1vbkpTIGZvciBicm93c2VyIGVtdWxhdG9ycyAoIzEzNTY2KVxuaWYgKCAhbm9HbG9iYWwgKSB7XG5cdHdpbmRvdy5qUXVlcnkgPSB3aW5kb3cuJCA9IGpRdWVyeTtcbn1cblxuXG5yZXR1cm4galF1ZXJ5O1xufSApO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vanF1ZXJ5L2Rpc3QvanF1ZXJ5LmpzXG4gKiogbW9kdWxlIGlkID0gNDNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwiLy8gdGhlIHdoYXR3Zy1mZXRjaCBwb2x5ZmlsbCBpbnN0YWxscyB0aGUgZmV0Y2goKSBmdW5jdGlvblxuLy8gb24gdGhlIGdsb2JhbCBvYmplY3QgKHdpbmRvdyBvciBzZWxmKVxuLy9cbi8vIFJldHVybiB0aGF0IGFzIHRoZSBleHBvcnQgZm9yIHVzZSBpbiBXZWJwYWNrLCBCcm93c2VyaWZ5IGV0Yy5cbnJlcXVpcmUoJ3doYXR3Zy1mZXRjaCcpO1xubW9kdWxlLmV4cG9ydHMgPSBzZWxmLmZldGNoLmJpbmQoc2VsZik7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9pc29tb3JwaGljLWZldGNoL2ZldGNoLW5wbS1icm93c2VyaWZ5LmpzXG4gKiogbW9kdWxlIGlkID0gNDRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwiaW1wb3J0IFByb21pc2UgZnJvbSAnYmx1ZWJpcmQnO1xuXG5jbGFzcyBCcm93c2VyIHtcbiAgICBzdGF0aWMgaXNWYWxpZFVybCh1cmwpIHtcbiAgICAgICAgbGV0IG1hdGNoZXNWYWxpZCA9IHRydWU7XG4gICAgICAgIGxldCBtYXRjaGVzSW52YWxpZCA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IGludmFsaWRSZWdleCA9IFsvXFwucGRmJC9pLCAvXFwuanBnJC9pLCAvXFwucG5nJC8sIC9cXC5naWYkL107XG4gICAgICAgIGNvbnN0IHZhbGlkUmVnZXggPSBbL15odHRwL107XG5cbiAgICAgICAgaW52YWxpZFJlZ2V4LmZvckVhY2goKHJlZ2V4KSA9PiB7XG4gICAgICAgICAgICBtYXRjaGVzSW52YWxpZCA9IG1hdGNoZXNJbnZhbGlkIHx8IHJlZ2V4LnRlc3QodXJsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhbGlkUmVnZXguZm9yRWFjaCgocmVnZXgpID0+IHtcbiAgICAgICAgICAgIG1hdGNoZXNWYWxpZCA9IG1hdGNoZXNWYWxpZCAmJiByZWdleC50ZXN0KHVybCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBtYXRjaGVzVmFsaWQgJiYgIW1hdGNoZXNJbnZhbGlkO1xuICAgIH1cblxuICAgIHN0YXRpYyBmaWx0ZXJVcmxzKHVybHMpIHtcbiAgICAgICAgcmV0dXJuICh1cmxzIHx8IFtdKS5maWx0ZXIoQnJvd3Nlci5pc1ZhbGlkVXJsKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaXNCYWNrZ3JvdW5kTXNnKHNlbmRlcikge1xuICAgICAgICByZXR1cm4gc2VuZGVyLnVybC5pbmRleE9mKCdwb3B1cCcpIDwgMDtcbiAgICB9XG5cbiAgICBzdGF0aWMgaXNQb3B1cE1zZyhzZW5kZXIpIHtcbiAgICAgICAgcmV0dXJuIHNlbmRlci51cmwuaW5kZXhPZigncG9wdXAnKSA+IC0xO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRDdXJyZW50V2luZG93VGFicygpIHtcbiAgICAgICAgbGV0IHByb21pc2U7XG4gICAgICAgIGlmIChjaHJvbWUpIHtcbiAgICAgICAgICAgIHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgY2hyb21lLndpbmRvd3MuZ2V0Q3VycmVudCh7IHBvcHVsYXRlOiB0cnVlIH0sIChjdXJyZW50V2luZG93KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50V2luZG93LnRhYnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdlYnNpdGVUYWJzID0gY3VycmVudFdpbmRvdy50YWJzLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGFiKSA9PiBCcm93c2VyLmlzVmFsaWRVcmwodGFiLnVybClcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHdlYnNpdGVUYWJzKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ05vIHRhYnMhJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4geyByZXNvbHZlKG51bGwpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0VGFic0h0bWwodGFicykge1xuICAgICAgICBjb25zdCBjb2RlID0gJ2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUwnO1xuICAgICAgICBjb25zdCBodG1sUHJvbWlzZXMgPSB0YWJzLm1hcCgodGFiKSA9PiB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNocm9tZS50YWJzLmV4ZWN1dGVTY3JpcHQodGFiLmlkLCB7IGNvZGUgfSwgKGh0bWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZFRhYiA9IHRhYjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh0bWwgJiYgaHRtbFswXSAmJiBodG1sWzBdLm1hdGNoKC9odG1sL2kpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkVGFiLmh0bWwgPSBodG1sWzBdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFRhYi5odG1sID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHVwZGF0ZWRUYWIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChodG1sUHJvbWlzZXMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRMb2NhbFN0b3JhZ2UoZmllbGRzKSB7XG4gICAgICAgIGxldCBwcm9taXNlO1xuICAgICAgICBpZiAoY2hyb21lKSB7XG4gICAgICAgICAgICBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoZmllbGRzLCAoc3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShzdGF0ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0TG9jYWxTdG9yYWdlKGtleVZhbHVlcykge1xuICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoa2V5VmFsdWVzKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2VuZE1lc3NhZ2UoLi4uYXJncykge1xuICAgICAgICBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSguLi5hcmdzKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgb25CYWNrZ3JvdW5kTWVzc2FnZShjYikge1xuICAgICAgICBjaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoKHJlcXVlc3QsIHNlbmRlcikgPT4ge1xuICAgICAgICAgICAgaWYgKEJyb3dzZXIuaXNCYWNrZ3JvdW5kTXNnKHNlbmRlcikpIHtcbiAgICAgICAgICAgICAgICBjYihyZXF1ZXN0LCBzZW5kZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgb25Gb3JlZ3JvdW5kTWVzc2FnZShjYikge1xuICAgICAgICBjaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoKHJlcXVlc3QsIHNlbmRlcikgPT4ge1xuICAgICAgICAgICAgaWYgKEJyb3dzZXIuaXNQb3B1cE1zZyhzZW5kZXIpKSB7XG4gICAgICAgICAgICAgICAgY2IocmVxdWVzdCwgc2VuZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGRvd25sb2FkKHBhcmFtcykge1xuICAgICAgICBsZXQgcHJvbWlzZTtcbiAgICAgICAgaWYgKGNocm9tZSkge1xuICAgICAgICAgICAgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBjaHJvbWUuZG93bmxvYWRzLmRvd25sb2FkKHBhcmFtcywgKGRvd25sb2FkSWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZG93bmxvYWRMaXN0ZW5lciA9IChkb3dubG9hZEluZm8pID0+IHsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvd25sb2FkSW5mby5pZCA9PT0gZG93bmxvYWRJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb3dubG9hZEluZm8uZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hyb21lLmRvd25sb2Fkcy5vbkNoYW5nZWQucmVtb3ZlTGlzdGVuZXIoZG93bmxvYWRMaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChkb3dubG9hZEluZm8uZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZG93bmxvYWRJbmZvLmVuZFRpbWUgfHwgZG93bmxvYWRJbmZvLnN0YXRlLmN1cnJlbnQgPT09ICdjb21wbGV0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hyb21lLmRvd25sb2Fkcy5vbkNoYW5nZWQucmVtb3ZlTGlzdGVuZXIoZG93bmxvYWRMaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNocm9tZS5kb3dubG9hZHMub25DaGFuZ2VkLmFkZExpc3RlbmVyKGRvd25sb2FkTGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuXG4gICAgc3RhdGljIGJhc2VVcmwoKSB7XG4gICAgICAgIHJldHVybiBjaHJvbWUucnVudGltZS5nZXRNYW5pZmVzdCgpLmhvbWVwYWdlX3VybDtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0TWFuaWZlc3QoKSB7XG4gICAgICAgIHJldHVybiBjaHJvbWUucnVudGltZS5nZXRNYW5pZmVzdCgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRFcnJvck1zZyhsb2NhdGlvbiwgeGhyKSB7XG4gICAgICAgIGxldCBtc2cgPSBsb2NhdGlvbiA/IGAke2xvY2F0aW9ufTogIGAgOiAnJztcblxuICAgICAgICBtc2cgKz0geGhyLnJlc3BvbnNlVGV4dCB8fFxuICAgICAgICAgICAgICAgIEJyb3dzZXIuRVJST1JfQ09ERVNbeGhyLnN0YXR1c1RleHRdIHx8XG4gICAgICAgICAgICAgICAgQnJvd3Nlci5FUlJPUl9DT0RFU1t4aHIuc3RhdHVzXSB8fFxuICAgICAgICAgICAgICAgIEJyb3dzZXIuRVJST1JfQ09ERVNbeGhyLmN1cnJlbnRdIHx8XG4gICAgICAgICAgICAgICAgJ1Vua25vd24nO1xuXG4gICAgICAgIHJldHVybiBtc2c7XG4gICAgfVxufVxuXG5Ccm93c2VyLkVSUk9SX0NPREVTID0ge1xuICAgIC8vIEJvb2sgQ3JlYXRlIEVycm9yc1xuICAgIDA6ICdTZXJ2ZXIgaXMgZG93bi4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nLFxuICAgIDQwMDogJ1RoZXJlIHdhcyBhIHByb2JsZW0gd2l0aCB0aGUgcmVxdWVzdC4gSXMgRXB1YlByZXNzIHVwIHRvIGRhdGU/JyxcbiAgICA0MDQ6ICdSZXNvdXJjZSBub3QgZm91bmQuJyxcbiAgICA1MDA6ICdVbmV4cGVjdGVkIHNlcnZlciBlcnJvci4nLFxuICAgIDUwMzogJ1NlcnZlciB0b29rIHRvbyBsb25nIHRvIHJlc3BvbmQuJyxcbiAgICB0aW1lb3V0OiAnUmVxdWVzdCB0b29rIHRvbyBsb25nIHRvIGNvbXBsZXRlLicsXG4gICAgZXJyb3I6IHVuZGVmaW5lZCxcbiAgICAvLyBEb3dubG9hZCBFcnJvcnNcbiAgICBTRVJWRVJfRkFJTEVEOiAnU2VydmVyIGVycm9yIHdoaWxlIGRvd25sb2FkaW5nLicsXG4gICAgU0VSVkVSX0JBRF9DT05URU5UOiAnQm9vayBjb3VsZCBub3QgYmUgZm91bmQnLFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBCcm93c2VyO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zY3JpcHRzL2Jyb3dzZXIuanNcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzXG4gKiogbW9kdWxlIGlkID0gNDdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzXG4gKiogbW9kdWxlIGlkID0gNDhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qc1xuICoqIG1vZHVsZSBpZCA9IDQ5XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHknKTtcbnZhciAkT2JqZWN0ID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdDtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyl7XG4gIHJldHVybiAkT2JqZWN0LmRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2MpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qc1xuICoqIG1vZHVsZSBpZCA9IDUwXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsInZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG4vLyAxOS4xLjIuNCAvIDE1LjIuMy42IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKVxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSwgJ09iamVjdCcsIHtkZWZpbmVQcm9wZXJ0eTogcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5LmpzXG4gKiogbW9kdWxlIGlkID0gNTFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwiLyogQHByZXNlcnZlXG4gKiBUaGUgTUlUIExpY2Vuc2UgKE1JVClcbiAqIFxuICogQ29weXJpZ2h0IChjKSAyMDEzLTIwMTUgUGV0a2EgQW50b25vdlxuICogXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKiBcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqIFxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICogXG4gKi9cbi8qKlxuICogYmx1ZWJpcmQgYnVpbGQgdmVyc2lvbiAzLjQuNlxuICogRmVhdHVyZXMgZW5hYmxlZDogY29yZSwgcmFjZSwgY2FsbF9nZXQsIGdlbmVyYXRvcnMsIG1hcCwgbm9kZWlmeSwgcHJvbWlzaWZ5LCBwcm9wcywgcmVkdWNlLCBzZXR0bGUsIHNvbWUsIHVzaW5nLCB0aW1lcnMsIGZpbHRlciwgYW55LCBlYWNoXG4qL1xuIWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgZjtcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P2Y9d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Zj1nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJihmPXNlbGYpLGYuUHJvbWlzZT1lKCl9fShmdW5jdGlvbigpe3ZhciBkZWZpbmUsbW9kdWxlLGV4cG9ydHM7cmV0dXJuIChmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgX2RlcmVxXz09XCJmdW5jdGlvblwiJiZfZGVyZXFfO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiBfZGVyZXFfPT1cImZ1bmN0aW9uXCImJl9kZXJlcV87Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlKSB7XG52YXIgU29tZVByb21pc2VBcnJheSA9IFByb21pc2UuX1NvbWVQcm9taXNlQXJyYXk7XG5mdW5jdGlvbiBhbnkocHJvbWlzZXMpIHtcbiAgICB2YXIgcmV0ID0gbmV3IFNvbWVQcm9taXNlQXJyYXkocHJvbWlzZXMpO1xuICAgIHZhciBwcm9taXNlID0gcmV0LnByb21pc2UoKTtcbiAgICByZXQuc2V0SG93TWFueSgxKTtcbiAgICByZXQuc2V0VW53cmFwKCk7XG4gICAgcmV0LmluaXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuUHJvbWlzZS5hbnkgPSBmdW5jdGlvbiAocHJvbWlzZXMpIHtcbiAgICByZXR1cm4gYW55KHByb21pc2VzKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmFueSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gYW55KHRoaXMpO1xufTtcblxufTtcblxufSx7fV0sMjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbnZhciBmaXJzdExpbmVFcnJvcjtcbnRyeSB7dGhyb3cgbmV3IEVycm9yKCk7IH0gY2F0Y2ggKGUpIHtmaXJzdExpbmVFcnJvciA9IGU7fVxudmFyIHNjaGVkdWxlID0gX2RlcmVxXyhcIi4vc2NoZWR1bGVcIik7XG52YXIgUXVldWUgPSBfZGVyZXFfKFwiLi9xdWV1ZVwiKTtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcblxuZnVuY3Rpb24gQXN5bmMoKSB7XG4gICAgdGhpcy5fY3VzdG9tU2NoZWR1bGVyID0gZmFsc2U7XG4gICAgdGhpcy5faXNUaWNrVXNlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2xhdGVRdWV1ZSA9IG5ldyBRdWV1ZSgxNik7XG4gICAgdGhpcy5fbm9ybWFsUXVldWUgPSBuZXcgUXVldWUoMTYpO1xuICAgIHRoaXMuX2hhdmVEcmFpbmVkUXVldWVzID0gZmFsc2U7XG4gICAgdGhpcy5fdHJhbXBvbGluZUVuYWJsZWQgPSB0cnVlO1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB0aGlzLmRyYWluUXVldWVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLl9kcmFpblF1ZXVlcygpO1xuICAgIH07XG4gICAgdGhpcy5fc2NoZWR1bGUgPSBzY2hlZHVsZTtcbn1cblxuQXN5bmMucHJvdG90eXBlLnNldFNjaGVkdWxlciA9IGZ1bmN0aW9uKGZuKSB7XG4gICAgdmFyIHByZXYgPSB0aGlzLl9zY2hlZHVsZTtcbiAgICB0aGlzLl9zY2hlZHVsZSA9IGZuO1xuICAgIHRoaXMuX2N1c3RvbVNjaGVkdWxlciA9IHRydWU7XG4gICAgcmV0dXJuIHByZXY7XG59O1xuXG5Bc3luYy5wcm90b3R5cGUuaGFzQ3VzdG9tU2NoZWR1bGVyID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1c3RvbVNjaGVkdWxlcjtcbn07XG5cbkFzeW5jLnByb3RvdHlwZS5lbmFibGVUcmFtcG9saW5lID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fdHJhbXBvbGluZUVuYWJsZWQgPSB0cnVlO1xufTtcblxuQXN5bmMucHJvdG90eXBlLmRpc2FibGVUcmFtcG9saW5lSWZOZWNlc3NhcnkgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodXRpbC5oYXNEZXZUb29scykge1xuICAgICAgICB0aGlzLl90cmFtcG9saW5lRW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cbn07XG5cbkFzeW5jLnByb3RvdHlwZS5oYXZlSXRlbXNRdWV1ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzVGlja1VzZWQgfHwgdGhpcy5faGF2ZURyYWluZWRRdWV1ZXM7XG59O1xuXG5cbkFzeW5jLnByb3RvdHlwZS5mYXRhbEVycm9yID0gZnVuY3Rpb24oZSwgaXNOb2RlKSB7XG4gICAgaWYgKGlzTm9kZSkge1xuICAgICAgICBwcm9jZXNzLnN0ZGVyci53cml0ZShcIkZhdGFsIFwiICsgKGUgaW5zdGFuY2VvZiBFcnJvciA/IGUuc3RhY2sgOiBlKSArXG4gICAgICAgICAgICBcIlxcblwiKTtcbiAgICAgICAgcHJvY2Vzcy5leGl0KDIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudGhyb3dMYXRlcihlKTtcbiAgICB9XG59O1xuXG5Bc3luYy5wcm90b3R5cGUudGhyb3dMYXRlciA9IGZ1bmN0aW9uKGZuLCBhcmcpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBhcmcgPSBmbjtcbiAgICAgICAgZm4gPSBmdW5jdGlvbiAoKSB7IHRocm93IGFyZzsgfTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBmbihhcmcpO1xuICAgICAgICB9LCAwKTtcbiAgICB9IGVsc2UgdHJ5IHtcbiAgICAgICAgdGhpcy5fc2NoZWR1bGUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBmbihhcmcpO1xuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGFzeW5jIHNjaGVkdWxlciBhdmFpbGFibGVcXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIEFzeW5jSW52b2tlTGF0ZXIoZm4sIHJlY2VpdmVyLCBhcmcpIHtcbiAgICB0aGlzLl9sYXRlUXVldWUucHVzaChmbiwgcmVjZWl2ZXIsIGFyZyk7XG4gICAgdGhpcy5fcXVldWVUaWNrKCk7XG59XG5cbmZ1bmN0aW9uIEFzeW5jSW52b2tlKGZuLCByZWNlaXZlciwgYXJnKSB7XG4gICAgdGhpcy5fbm9ybWFsUXVldWUucHVzaChmbiwgcmVjZWl2ZXIsIGFyZyk7XG4gICAgdGhpcy5fcXVldWVUaWNrKCk7XG59XG5cbmZ1bmN0aW9uIEFzeW5jU2V0dGxlUHJvbWlzZXMocHJvbWlzZSkge1xuICAgIHRoaXMuX25vcm1hbFF1ZXVlLl9wdXNoT25lKHByb21pc2UpO1xuICAgIHRoaXMuX3F1ZXVlVGljaygpO1xufVxuXG5pZiAoIXV0aWwuaGFzRGV2VG9vbHMpIHtcbiAgICBBc3luYy5wcm90b3R5cGUuaW52b2tlTGF0ZXIgPSBBc3luY0ludm9rZUxhdGVyO1xuICAgIEFzeW5jLnByb3RvdHlwZS5pbnZva2UgPSBBc3luY0ludm9rZTtcbiAgICBBc3luYy5wcm90b3R5cGUuc2V0dGxlUHJvbWlzZXMgPSBBc3luY1NldHRsZVByb21pc2VzO1xufSBlbHNlIHtcbiAgICBBc3luYy5wcm90b3R5cGUuaW52b2tlTGF0ZXIgPSBmdW5jdGlvbiAoZm4sIHJlY2VpdmVyLCBhcmcpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyYW1wb2xpbmVFbmFibGVkKSB7XG4gICAgICAgICAgICBBc3luY0ludm9rZUxhdGVyLmNhbGwodGhpcywgZm4sIHJlY2VpdmVyLCBhcmcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc2NoZWR1bGUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgZm4uY2FsbChyZWNlaXZlciwgYXJnKTtcbiAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgQXN5bmMucHJvdG90eXBlLmludm9rZSA9IGZ1bmN0aW9uIChmbiwgcmVjZWl2ZXIsIGFyZykge1xuICAgICAgICBpZiAodGhpcy5fdHJhbXBvbGluZUVuYWJsZWQpIHtcbiAgICAgICAgICAgIEFzeW5jSW52b2tlLmNhbGwodGhpcywgZm4sIHJlY2VpdmVyLCBhcmcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc2NoZWR1bGUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZm4uY2FsbChyZWNlaXZlciwgYXJnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIEFzeW5jLnByb3RvdHlwZS5zZXR0bGVQcm9taXNlcyA9IGZ1bmN0aW9uKHByb21pc2UpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyYW1wb2xpbmVFbmFibGVkKSB7XG4gICAgICAgICAgICBBc3luY1NldHRsZVByb21pc2VzLmNhbGwodGhpcywgcHJvbWlzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zY2hlZHVsZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlLl9zZXR0bGVQcm9taXNlcygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5Bc3luYy5wcm90b3R5cGUuaW52b2tlRmlyc3QgPSBmdW5jdGlvbiAoZm4sIHJlY2VpdmVyLCBhcmcpIHtcbiAgICB0aGlzLl9ub3JtYWxRdWV1ZS51bnNoaWZ0KGZuLCByZWNlaXZlciwgYXJnKTtcbiAgICB0aGlzLl9xdWV1ZVRpY2soKTtcbn07XG5cbkFzeW5jLnByb3RvdHlwZS5fZHJhaW5RdWV1ZSA9IGZ1bmN0aW9uKHF1ZXVlKSB7XG4gICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCgpID4gMCkge1xuICAgICAgICB2YXIgZm4gPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIGZuLl9zZXR0bGVQcm9taXNlcygpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlY2VpdmVyID0gcXVldWUuc2hpZnQoKTtcbiAgICAgICAgdmFyIGFyZyA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIGZuLmNhbGwocmVjZWl2ZXIsIGFyZyk7XG4gICAgfVxufTtcblxuQXN5bmMucHJvdG90eXBlLl9kcmFpblF1ZXVlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9kcmFpblF1ZXVlKHRoaXMuX25vcm1hbFF1ZXVlKTtcbiAgICB0aGlzLl9yZXNldCgpO1xuICAgIHRoaXMuX2hhdmVEcmFpbmVkUXVldWVzID0gdHJ1ZTtcbiAgICB0aGlzLl9kcmFpblF1ZXVlKHRoaXMuX2xhdGVRdWV1ZSk7XG59O1xuXG5Bc3luYy5wcm90b3R5cGUuX3F1ZXVlVGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuX2lzVGlja1VzZWQpIHtcbiAgICAgICAgdGhpcy5faXNUaWNrVXNlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX3NjaGVkdWxlKHRoaXMuZHJhaW5RdWV1ZXMpO1xuICAgIH1cbn07XG5cbkFzeW5jLnByb3RvdHlwZS5fcmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5faXNUaWNrVXNlZCA9IGZhbHNlO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBBc3luYztcbm1vZHVsZS5leHBvcnRzLmZpcnN0TGluZUVycm9yID0gZmlyc3RMaW5lRXJyb3I7XG5cbn0se1wiLi9xdWV1ZVwiOjI2LFwiLi9zY2hlZHVsZVwiOjI5LFwiLi91dGlsXCI6MzZ9XSwzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLCBJTlRFUk5BTCwgdHJ5Q29udmVydFRvUHJvbWlzZSwgZGVidWcpIHtcbnZhciBjYWxsZWRCaW5kID0gZmFsc2U7XG52YXIgcmVqZWN0VGhpcyA9IGZ1bmN0aW9uKF8sIGUpIHtcbiAgICB0aGlzLl9yZWplY3QoZSk7XG59O1xuXG52YXIgdGFyZ2V0UmVqZWN0ZWQgPSBmdW5jdGlvbihlLCBjb250ZXh0KSB7XG4gICAgY29udGV4dC5wcm9taXNlUmVqZWN0aW9uUXVldWVkID0gdHJ1ZTtcbiAgICBjb250ZXh0LmJpbmRpbmdQcm9taXNlLl90aGVuKHJlamVjdFRoaXMsIHJlamVjdFRoaXMsIG51bGwsIHRoaXMsIGUpO1xufTtcblxudmFyIGJpbmRpbmdSZXNvbHZlZCA9IGZ1bmN0aW9uKHRoaXNBcmcsIGNvbnRleHQpIHtcbiAgICBpZiAoKCh0aGlzLl9iaXRGaWVsZCAmIDUwMzk3MTg0KSA9PT0gMCkpIHtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZUNhbGxiYWNrKGNvbnRleHQudGFyZ2V0KTtcbiAgICB9XG59O1xuXG52YXIgYmluZGluZ1JlamVjdGVkID0gZnVuY3Rpb24oZSwgY29udGV4dCkge1xuICAgIGlmICghY29udGV4dC5wcm9taXNlUmVqZWN0aW9uUXVldWVkKSB0aGlzLl9yZWplY3QoZSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKHRoaXNBcmcpIHtcbiAgICBpZiAoIWNhbGxlZEJpbmQpIHtcbiAgICAgICAgY2FsbGVkQmluZCA9IHRydWU7XG4gICAgICAgIFByb21pc2UucHJvdG90eXBlLl9wcm9wYWdhdGVGcm9tID0gZGVidWcucHJvcGFnYXRlRnJvbUZ1bmN0aW9uKCk7XG4gICAgICAgIFByb21pc2UucHJvdG90eXBlLl9ib3VuZFZhbHVlID0gZGVidWcuYm91bmRWYWx1ZUZ1bmN0aW9uKCk7XG4gICAgfVxuICAgIHZhciBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHRoaXNBcmcpO1xuICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG4gICAgcmV0Ll9wcm9wYWdhdGVGcm9tKHRoaXMsIDEpO1xuICAgIHZhciB0YXJnZXQgPSB0aGlzLl90YXJnZXQoKTtcbiAgICByZXQuX3NldEJvdW5kVG8obWF5YmVQcm9taXNlKTtcbiAgICBpZiAobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICB2YXIgY29udGV4dCA9IHtcbiAgICAgICAgICAgIHByb21pc2VSZWplY3Rpb25RdWV1ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgcHJvbWlzZTogcmV0LFxuICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgICAgICBiaW5kaW5nUHJvbWlzZTogbWF5YmVQcm9taXNlXG4gICAgICAgIH07XG4gICAgICAgIHRhcmdldC5fdGhlbihJTlRFUk5BTCwgdGFyZ2V0UmVqZWN0ZWQsIHVuZGVmaW5lZCwgcmV0LCBjb250ZXh0KTtcbiAgICAgICAgbWF5YmVQcm9taXNlLl90aGVuKFxuICAgICAgICAgICAgYmluZGluZ1Jlc29sdmVkLCBiaW5kaW5nUmVqZWN0ZWQsIHVuZGVmaW5lZCwgcmV0LCBjb250ZXh0KTtcbiAgICAgICAgcmV0Ll9zZXRPbkNhbmNlbChtYXliZVByb21pc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldC5fcmVzb2x2ZUNhbGxiYWNrKHRhcmdldCk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fc2V0Qm91bmRUbyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICBpZiAob2JqICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCB8IDIwOTcxNTI7XG4gICAgICAgIHRoaXMuX2JvdW5kVG8gPSBvYmo7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCAmICh+MjA5NzE1Mik7XG4gICAgfVxufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2lzQm91bmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDIwOTcxNTIpID09PSAyMDk3MTUyO1xufTtcblxuUHJvbWlzZS5iaW5kID0gZnVuY3Rpb24gKHRoaXNBcmcsIHZhbHVlKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkuYmluZCh0aGlzQXJnKTtcbn07XG59O1xuXG59LHt9XSw0OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xudmFyIG9sZDtcbmlmICh0eXBlb2YgUHJvbWlzZSAhPT0gXCJ1bmRlZmluZWRcIikgb2xkID0gUHJvbWlzZTtcbmZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7XG4gICAgdHJ5IHsgaWYgKFByb21pc2UgPT09IGJsdWViaXJkKSBQcm9taXNlID0gb2xkOyB9XG4gICAgY2F0Y2ggKGUpIHt9XG4gICAgcmV0dXJuIGJsdWViaXJkO1xufVxudmFyIGJsdWViaXJkID0gX2RlcmVxXyhcIi4vcHJvbWlzZVwiKSgpO1xuYmx1ZWJpcmQubm9Db25mbGljdCA9IG5vQ29uZmxpY3Q7XG5tb2R1bGUuZXhwb3J0cyA9IGJsdWViaXJkO1xuXG59LHtcIi4vcHJvbWlzZVwiOjIyfV0sNTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbnZhciBjciA9IE9iamVjdC5jcmVhdGU7XG5pZiAoY3IpIHtcbiAgICB2YXIgY2FsbGVyQ2FjaGUgPSBjcihudWxsKTtcbiAgICB2YXIgZ2V0dGVyQ2FjaGUgPSBjcihudWxsKTtcbiAgICBjYWxsZXJDYWNoZVtcIiBzaXplXCJdID0gZ2V0dGVyQ2FjaGVbXCIgc2l6ZVwiXSA9IDA7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSkge1xudmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xudmFyIGNhbkV2YWx1YXRlID0gdXRpbC5jYW5FdmFsdWF0ZTtcbnZhciBpc0lkZW50aWZpZXIgPSB1dGlsLmlzSWRlbnRpZmllcjtcblxudmFyIGdldE1ldGhvZENhbGxlcjtcbnZhciBnZXRHZXR0ZXI7XG5pZiAoIXRydWUpIHtcbnZhciBtYWtlTWV0aG9kQ2FsbGVyID0gZnVuY3Rpb24gKG1ldGhvZE5hbWUpIHtcbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKFwiZW5zdXJlTWV0aG9kXCIsIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgICd1c2Ugc3RyaWN0JyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgIHZhciBsZW4gPSB0aGlzLmxlbmd0aDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgIGVuc3VyZU1ldGhvZChvYmosICdtZXRob2ROYW1lJyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgIHN3aXRjaChsZW4pIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgICAgICBjYXNlIDE6IHJldHVybiBvYmoubWV0aG9kTmFtZSh0aGlzWzBdKTsgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBvYmoubWV0aG9kTmFtZSh0aGlzWzBdLCB0aGlzWzFdKTsgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiBvYmoubWV0aG9kTmFtZSh0aGlzWzBdLCB0aGlzWzFdLCB0aGlzWzJdKTsgICAgXFxuXFxcbiAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBvYmoubWV0aG9kTmFtZSgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iai5tZXRob2ROYW1lLmFwcGx5KG9iaiwgdGhpcyk7ICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgfTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgXCIucmVwbGFjZSgvbWV0aG9kTmFtZS9nLCBtZXRob2ROYW1lKSkoZW5zdXJlTWV0aG9kKTtcbn07XG5cbnZhciBtYWtlR2V0dGVyID0gZnVuY3Rpb24gKHByb3BlcnR5TmFtZSkge1xuICAgIHJldHVybiBuZXcgRnVuY3Rpb24oXCJvYmpcIiwgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAndXNlIHN0cmljdCc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICByZXR1cm4gb2JqLnByb3BlcnR5TmFtZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICBcIi5yZXBsYWNlKFwicHJvcGVydHlOYW1lXCIsIHByb3BlcnR5TmFtZSkpO1xufTtcblxudmFyIGdldENvbXBpbGVkID0gZnVuY3Rpb24obmFtZSwgY29tcGlsZXIsIGNhY2hlKSB7XG4gICAgdmFyIHJldCA9IGNhY2hlW25hbWVdO1xuICAgIGlmICh0eXBlb2YgcmV0ICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgaWYgKCFpc0lkZW50aWZpZXIobmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldCA9IGNvbXBpbGVyKG5hbWUpO1xuICAgICAgICBjYWNoZVtuYW1lXSA9IHJldDtcbiAgICAgICAgY2FjaGVbXCIgc2l6ZVwiXSsrO1xuICAgICAgICBpZiAoY2FjaGVbXCIgc2l6ZVwiXSA+IDUxMikge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhjYWNoZSk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSBkZWxldGUgY2FjaGVba2V5c1tpXV07XG4gICAgICAgICAgICBjYWNoZVtcIiBzaXplXCJdID0ga2V5cy5sZW5ndGggLSAyNTY7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn07XG5cbmdldE1ldGhvZENhbGxlciA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICByZXR1cm4gZ2V0Q29tcGlsZWQobmFtZSwgbWFrZU1ldGhvZENhbGxlciwgY2FsbGVyQ2FjaGUpO1xufTtcblxuZ2V0R2V0dGVyID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiBnZXRDb21waWxlZChuYW1lLCBtYWtlR2V0dGVyLCBnZXR0ZXJDYWNoZSk7XG59O1xufVxuXG5mdW5jdGlvbiBlbnN1cmVNZXRob2Qob2JqLCBtZXRob2ROYW1lKSB7XG4gICAgdmFyIGZuO1xuICAgIGlmIChvYmogIT0gbnVsbCkgZm4gPSBvYmpbbWV0aG9kTmFtZV07XG4gICAgaWYgKHR5cGVvZiBmbiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gXCJPYmplY3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKG9iaikgKyBcIiBoYXMgbm8gbWV0aG9kICdcIiArXG4gICAgICAgICAgICB1dGlsLnRvU3RyaW5nKG1ldGhvZE5hbWUpICsgXCInXCI7XG4gICAgICAgIHRocm93IG5ldyBQcm9taXNlLlR5cGVFcnJvcihtZXNzYWdlKTtcbiAgICB9XG4gICAgcmV0dXJuIGZuO1xufVxuXG5mdW5jdGlvbiBjYWxsZXIob2JqKSB7XG4gICAgdmFyIG1ldGhvZE5hbWUgPSB0aGlzLnBvcCgpO1xuICAgIHZhciBmbiA9IGVuc3VyZU1ldGhvZChvYmosIG1ldGhvZE5hbWUpO1xuICAgIHJldHVybiBmbi5hcHBseShvYmosIHRoaXMpO1xufVxuUHJvbWlzZS5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChtZXRob2ROYW1lKSB7XG4gICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7O1xuICAgIGlmICghdHJ1ZSkge1xuICAgICAgICBpZiAoY2FuRXZhbHVhdGUpIHtcbiAgICAgICAgICAgIHZhciBtYXliZUNhbGxlciA9IGdldE1ldGhvZENhbGxlcihtZXRob2ROYW1lKTtcbiAgICAgICAgICAgIGlmIChtYXliZUNhbGxlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90aGVuKFxuICAgICAgICAgICAgICAgICAgICBtYXliZUNhbGxlciwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyZ3MsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXJncy5wdXNoKG1ldGhvZE5hbWUpO1xuICAgIHJldHVybiB0aGlzLl90aGVuKGNhbGxlciwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyZ3MsIHVuZGVmaW5lZCk7XG59O1xuXG5mdW5jdGlvbiBuYW1lZEdldHRlcihvYmopIHtcbiAgICByZXR1cm4gb2JqW3RoaXNdO1xufVxuZnVuY3Rpb24gaW5kZXhlZEdldHRlcihvYmopIHtcbiAgICB2YXIgaW5kZXggPSArdGhpcztcbiAgICBpZiAoaW5kZXggPCAwKSBpbmRleCA9IE1hdGgubWF4KDAsIGluZGV4ICsgb2JqLmxlbmd0aCk7XG4gICAgcmV0dXJuIG9ialtpbmRleF07XG59XG5Qcm9taXNlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAocHJvcGVydHlOYW1lKSB7XG4gICAgdmFyIGlzSW5kZXggPSAodHlwZW9mIHByb3BlcnR5TmFtZSA9PT0gXCJudW1iZXJcIik7XG4gICAgdmFyIGdldHRlcjtcbiAgICBpZiAoIWlzSW5kZXgpIHtcbiAgICAgICAgaWYgKGNhbkV2YWx1YXRlKSB7XG4gICAgICAgICAgICB2YXIgbWF5YmVHZXR0ZXIgPSBnZXRHZXR0ZXIocHJvcGVydHlOYW1lKTtcbiAgICAgICAgICAgIGdldHRlciA9IG1heWJlR2V0dGVyICE9PSBudWxsID8gbWF5YmVHZXR0ZXIgOiBuYW1lZEdldHRlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdldHRlciA9IG5hbWVkR2V0dGVyO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZ2V0dGVyID0gaW5kZXhlZEdldHRlcjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3RoZW4oZ2V0dGVyLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgcHJvcGVydHlOYW1lLCB1bmRlZmluZWQpO1xufTtcbn07XG5cbn0se1wiLi91dGlsXCI6MzZ9XSw2OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLCBQcm9taXNlQXJyYXksIGFwaVJlamVjdGlvbiwgZGVidWcpIHtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciB0cnlDYXRjaCA9IHV0aWwudHJ5Q2F0Y2g7XG52YXIgZXJyb3JPYmogPSB1dGlsLmVycm9yT2JqO1xudmFyIGFzeW5jID0gUHJvbWlzZS5fYXN5bmM7XG5cblByb21pc2UucHJvdG90eXBlW1wiYnJlYWtcIl0gPSBQcm9taXNlLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIWRlYnVnLmNhbmNlbGxhdGlvbigpKSByZXR1cm4gdGhpcy5fd2FybihcImNhbmNlbGxhdGlvbiBpcyBkaXNhYmxlZFwiKTtcblxuICAgIHZhciBwcm9taXNlID0gdGhpcztcbiAgICB2YXIgY2hpbGQgPSBwcm9taXNlO1xuICAgIHdoaWxlIChwcm9taXNlLl9pc0NhbmNlbGxhYmxlKCkpIHtcbiAgICAgICAgaWYgKCFwcm9taXNlLl9jYW5jZWxCeShjaGlsZCkpIHtcbiAgICAgICAgICAgIGlmIChjaGlsZC5faXNGb2xsb3dpbmcoKSkge1xuICAgICAgICAgICAgICAgIGNoaWxkLl9mb2xsb3dlZSgpLmNhbmNlbCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5fY2FuY2VsQnJhbmNoZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBhcmVudCA9IHByb21pc2UuX2NhbmNlbGxhdGlvblBhcmVudDtcbiAgICAgICAgaWYgKHBhcmVudCA9PSBudWxsIHx8ICFwYXJlbnQuX2lzQ2FuY2VsbGFibGUoKSkge1xuICAgICAgICAgICAgaWYgKHByb21pc2UuX2lzRm9sbG93aW5nKCkpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlLl9mb2xsb3dlZSgpLmNhbmNlbCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlLl9jYW5jZWxCcmFuY2hlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocHJvbWlzZS5faXNGb2xsb3dpbmcoKSkgcHJvbWlzZS5fZm9sbG93ZWUoKS5jYW5jZWwoKTtcbiAgICAgICAgICAgIHByb21pc2UuX3NldFdpbGxCZUNhbmNlbGxlZCgpO1xuICAgICAgICAgICAgY2hpbGQgPSBwcm9taXNlO1xuICAgICAgICAgICAgcHJvbWlzZSA9IHBhcmVudDtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cblByb21pc2UucHJvdG90eXBlLl9icmFuY2hIYXNDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9icmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsLS07XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fZW5vdWdoQnJhbmNoZXNIYXZlQ2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICB0aGlzLl9icmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsIDw9IDA7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fY2FuY2VsQnkgPSBmdW5jdGlvbihjYW5jZWxsZXIpIHtcbiAgICBpZiAoY2FuY2VsbGVyID09PSB0aGlzKSB7XG4gICAgICAgIHRoaXMuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwgPSAwO1xuICAgICAgICB0aGlzLl9pbnZva2VPbkNhbmNlbCgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9icmFuY2hIYXNDYW5jZWxsZWQoKTtcbiAgICAgICAgaWYgKHRoaXMuX2Vub3VnaEJyYW5jaGVzSGF2ZUNhbmNlbGxlZCgpKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnZva2VPbkNhbmNlbCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2NhbmNlbEJyYW5jaGVkID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX2Vub3VnaEJyYW5jaGVzSGF2ZUNhbmNlbGxlZCgpKSB7XG4gICAgICAgIHRoaXMuX2NhbmNlbCgpO1xuICAgIH1cbn07XG5cblByb21pc2UucHJvdG90eXBlLl9jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuX2lzQ2FuY2VsbGFibGUoKSkgcmV0dXJuO1xuICAgIHRoaXMuX3NldENhbmNlbGxlZCgpO1xuICAgIGFzeW5jLmludm9rZSh0aGlzLl9jYW5jZWxQcm9taXNlcywgdGhpcywgdW5kZWZpbmVkKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9jYW5jZWxQcm9taXNlcyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLl9sZW5ndGgoKSA+IDApIHRoaXMuX3NldHRsZVByb21pc2VzKCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fdW5zZXRPbkNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX29uQ2FuY2VsRmllbGQgPSB1bmRlZmluZWQ7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5faXNDYW5jZWxsYWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmlzUGVuZGluZygpICYmICF0aGlzLl9pc0NhbmNlbGxlZCgpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuaXNDYW5jZWxsYWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmlzUGVuZGluZygpICYmICF0aGlzLmlzQ2FuY2VsbGVkKCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fZG9JbnZva2VPbkNhbmNlbCA9IGZ1bmN0aW9uKG9uQ2FuY2VsQ2FsbGJhY2ssIGludGVybmFsT25seSkge1xuICAgIGlmICh1dGlsLmlzQXJyYXkob25DYW5jZWxDYWxsYmFjaykpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbkNhbmNlbENhbGxiYWNrLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLl9kb0ludm9rZU9uQ2FuY2VsKG9uQ2FuY2VsQ2FsbGJhY2tbaV0sIGludGVybmFsT25seSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9uQ2FuY2VsQ2FsbGJhY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodHlwZW9mIG9uQ2FuY2VsQ2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgaWYgKCFpbnRlcm5hbE9ubHkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZSA9IHRyeUNhdGNoKG9uQ2FuY2VsQ2FsbGJhY2spLmNhbGwodGhpcy5fYm91bmRWYWx1ZSgpKTtcbiAgICAgICAgICAgICAgICBpZiAoZSA9PT0gZXJyb3JPYmopIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXR0YWNoRXh0cmFUcmFjZShlLmUpO1xuICAgICAgICAgICAgICAgICAgICBhc3luYy50aHJvd0xhdGVyKGUuZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb25DYW5jZWxDYWxsYmFjay5fcmVzdWx0Q2FuY2VsbGVkKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2ludm9rZU9uQ2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9uQ2FuY2VsQ2FsbGJhY2sgPSB0aGlzLl9vbkNhbmNlbCgpO1xuICAgIHRoaXMuX3Vuc2V0T25DYW5jZWwoKTtcbiAgICBhc3luYy5pbnZva2UodGhpcy5fZG9JbnZva2VPbkNhbmNlbCwgdGhpcywgb25DYW5jZWxDYWxsYmFjayk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5faW52b2tlSW50ZXJuYWxPbkNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLl9pc0NhbmNlbGxhYmxlKCkpIHtcbiAgICAgICAgdGhpcy5fZG9JbnZva2VPbkNhbmNlbCh0aGlzLl9vbkNhbmNlbCgpLCB0cnVlKTtcbiAgICAgICAgdGhpcy5fdW5zZXRPbkNhbmNlbCgpO1xuICAgIH1cbn07XG5cblByb21pc2UucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmNhbmNlbCgpO1xufTtcblxufTtcblxufSx7XCIuL3V0aWxcIjozNn1dLDc6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKE5FWFRfRklMVEVSKSB7XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgZ2V0S2V5cyA9IF9kZXJlcV8oXCIuL2VzNVwiKS5rZXlzO1xudmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcbnZhciBlcnJvck9iaiA9IHV0aWwuZXJyb3JPYmo7XG5cbmZ1bmN0aW9uIGNhdGNoRmlsdGVyKGluc3RhbmNlcywgY2IsIHByb21pc2UpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgYm91bmRUbyA9IHByb21pc2UuX2JvdW5kVmFsdWUoKTtcbiAgICAgICAgcHJlZGljYXRlTG9vcDogZm9yICh2YXIgaSA9IDA7IGkgPCBpbnN0YW5jZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gaW5zdGFuY2VzW2ldO1xuXG4gICAgICAgICAgICBpZiAoaXRlbSA9PT0gRXJyb3IgfHxcbiAgICAgICAgICAgICAgICAoaXRlbSAhPSBudWxsICYmIGl0ZW0ucHJvdG90eXBlIGluc3RhbmNlb2YgRXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnlDYXRjaChjYikuY2FsbChib3VuZFRvLCBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpdGVtID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlc1ByZWRpY2F0ZSA9IHRyeUNhdGNoKGl0ZW0pLmNhbGwoYm91bmRUbywgZSk7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoZXNQcmVkaWNhdGUgPT09IGVycm9yT2JqKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaGVzUHJlZGljYXRlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2hlc1ByZWRpY2F0ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ5Q2F0Y2goY2IpLmNhbGwoYm91bmRUbywgZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh1dGlsLmlzT2JqZWN0KGUpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleXMgPSBnZXRLZXlzKGl0ZW0pO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwga2V5cy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tqXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW1ba2V5XSAhPSBlW2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIHByZWRpY2F0ZUxvb3A7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyeUNhdGNoKGNiKS5jYWxsKGJvdW5kVG8sIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBORVhUX0ZJTFRFUjtcbiAgICB9O1xufVxuXG5yZXR1cm4gY2F0Y2hGaWx0ZXI7XG59O1xuXG59LHtcIi4vZXM1XCI6MTMsXCIuL3V0aWxcIjozNn1dLDg6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UpIHtcbnZhciBsb25nU3RhY2tUcmFjZXMgPSBmYWxzZTtcbnZhciBjb250ZXh0U3RhY2sgPSBbXTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3Byb21pc2VDcmVhdGVkID0gZnVuY3Rpb24oKSB7fTtcblByb21pc2UucHJvdG90eXBlLl9wdXNoQ29udGV4dCA9IGZ1bmN0aW9uKCkge307XG5Qcm9taXNlLnByb3RvdHlwZS5fcG9wQ29udGV4dCA9IGZ1bmN0aW9uKCkge3JldHVybiBudWxsO307XG5Qcm9taXNlLl9wZWVrQ29udGV4dCA9IFByb21pc2UucHJvdG90eXBlLl9wZWVrQ29udGV4dCA9IGZ1bmN0aW9uKCkge307XG5cbmZ1bmN0aW9uIENvbnRleHQoKSB7XG4gICAgdGhpcy5fdHJhY2UgPSBuZXcgQ29udGV4dC5DYXB0dXJlZFRyYWNlKHBlZWtDb250ZXh0KCkpO1xufVxuQ29udGV4dC5wcm90b3R5cGUuX3B1c2hDb250ZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLl90cmFjZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX3RyYWNlLl9wcm9taXNlQ3JlYXRlZCA9IG51bGw7XG4gICAgICAgIGNvbnRleHRTdGFjay5wdXNoKHRoaXMuX3RyYWNlKTtcbiAgICB9XG59O1xuXG5Db250ZXh0LnByb3RvdHlwZS5fcG9wQ29udGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5fdHJhY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgdHJhY2UgPSBjb250ZXh0U3RhY2sucG9wKCk7XG4gICAgICAgIHZhciByZXQgPSB0cmFjZS5fcHJvbWlzZUNyZWF0ZWQ7XG4gICAgICAgIHRyYWNlLl9wcm9taXNlQ3JlYXRlZCA9IG51bGw7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufTtcblxuZnVuY3Rpb24gY3JlYXRlQ29udGV4dCgpIHtcbiAgICBpZiAobG9uZ1N0YWNrVHJhY2VzKSByZXR1cm4gbmV3IENvbnRleHQoKTtcbn1cblxuZnVuY3Rpb24gcGVla0NvbnRleHQoKSB7XG4gICAgdmFyIGxhc3RJbmRleCA9IGNvbnRleHRTdGFjay5sZW5ndGggLSAxO1xuICAgIGlmIChsYXN0SW5kZXggPj0gMCkge1xuICAgICAgICByZXR1cm4gY29udGV4dFN0YWNrW2xhc3RJbmRleF07XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5Db250ZXh0LkNhcHR1cmVkVHJhY2UgPSBudWxsO1xuQ29udGV4dC5jcmVhdGUgPSBjcmVhdGVDb250ZXh0O1xuQ29udGV4dC5kZWFjdGl2YXRlTG9uZ1N0YWNrVHJhY2VzID0gZnVuY3Rpb24oKSB7fTtcbkNvbnRleHQuYWN0aXZhdGVMb25nU3RhY2tUcmFjZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgUHJvbWlzZV9wdXNoQ29udGV4dCA9IFByb21pc2UucHJvdG90eXBlLl9wdXNoQ29udGV4dDtcbiAgICB2YXIgUHJvbWlzZV9wb3BDb250ZXh0ID0gUHJvbWlzZS5wcm90b3R5cGUuX3BvcENvbnRleHQ7XG4gICAgdmFyIFByb21pc2VfUGVla0NvbnRleHQgPSBQcm9taXNlLl9wZWVrQ29udGV4dDtcbiAgICB2YXIgUHJvbWlzZV9wZWVrQ29udGV4dCA9IFByb21pc2UucHJvdG90eXBlLl9wZWVrQ29udGV4dDtcbiAgICB2YXIgUHJvbWlzZV9wcm9taXNlQ3JlYXRlZCA9IFByb21pc2UucHJvdG90eXBlLl9wcm9taXNlQ3JlYXRlZDtcbiAgICBDb250ZXh0LmRlYWN0aXZhdGVMb25nU3RhY2tUcmFjZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX3B1c2hDb250ZXh0ID0gUHJvbWlzZV9wdXNoQ29udGV4dDtcbiAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX3BvcENvbnRleHQgPSBQcm9taXNlX3BvcENvbnRleHQ7XG4gICAgICAgIFByb21pc2UuX3BlZWtDb250ZXh0ID0gUHJvbWlzZV9QZWVrQ29udGV4dDtcbiAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX3BlZWtDb250ZXh0ID0gUHJvbWlzZV9wZWVrQ29udGV4dDtcbiAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX3Byb21pc2VDcmVhdGVkID0gUHJvbWlzZV9wcm9taXNlQ3JlYXRlZDtcbiAgICAgICAgbG9uZ1N0YWNrVHJhY2VzID0gZmFsc2U7XG4gICAgfTtcbiAgICBsb25nU3RhY2tUcmFjZXMgPSB0cnVlO1xuICAgIFByb21pc2UucHJvdG90eXBlLl9wdXNoQ29udGV4dCA9IENvbnRleHQucHJvdG90eXBlLl9wdXNoQ29udGV4dDtcbiAgICBQcm9taXNlLnByb3RvdHlwZS5fcG9wQ29udGV4dCA9IENvbnRleHQucHJvdG90eXBlLl9wb3BDb250ZXh0O1xuICAgIFByb21pc2UuX3BlZWtDb250ZXh0ID0gUHJvbWlzZS5wcm90b3R5cGUuX3BlZWtDb250ZXh0ID0gcGVla0NvbnRleHQ7XG4gICAgUHJvbWlzZS5wcm90b3R5cGUuX3Byb21pc2VDcmVhdGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjdHggPSB0aGlzLl9wZWVrQ29udGV4dCgpO1xuICAgICAgICBpZiAoY3R4ICYmIGN0eC5fcHJvbWlzZUNyZWF0ZWQgPT0gbnVsbCkgY3R4Ll9wcm9taXNlQ3JlYXRlZCA9IHRoaXM7XG4gICAgfTtcbn07XG5yZXR1cm4gQ29udGV4dDtcbn07XG5cbn0se31dLDk6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIENvbnRleHQpIHtcbnZhciBnZXREb21haW4gPSBQcm9taXNlLl9nZXREb21haW47XG52YXIgYXN5bmMgPSBQcm9taXNlLl9hc3luYztcbnZhciBXYXJuaW5nID0gX2RlcmVxXyhcIi4vZXJyb3JzXCIpLldhcm5pbmc7XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgY2FuQXR0YWNoVHJhY2UgPSB1dGlsLmNhbkF0dGFjaFRyYWNlO1xudmFyIHVuaGFuZGxlZFJlamVjdGlvbkhhbmRsZWQ7XG52YXIgcG9zc2libHlVbmhhbmRsZWRSZWplY3Rpb247XG52YXIgYmx1ZWJpcmRGcmFtZVBhdHRlcm4gPVxuICAgIC9bXFxcXFxcL11ibHVlYmlyZFtcXFxcXFwvXWpzW1xcXFxcXC9dKHJlbGVhc2V8ZGVidWd8aW5zdHJ1bWVudGVkKS87XG52YXIgbm9kZUZyYW1lUGF0dGVybiA9IC9cXCgoPzp0aW1lcnNcXC5qcyk6XFxkKzpcXGQrXFwpLztcbnZhciBwYXJzZUxpbmVQYXR0ZXJuID0gL1tcXC88XFwoXSguKz8pOihcXGQrKTooXFxkKylcXCk/XFxzKiQvO1xudmFyIHN0YWNrRnJhbWVQYXR0ZXJuID0gbnVsbDtcbnZhciBmb3JtYXRTdGFjayA9IG51bGw7XG52YXIgaW5kZW50U3RhY2tGcmFtZXMgPSBmYWxzZTtcbnZhciBwcmludFdhcm5pbmc7XG52YXIgZGVidWdnaW5nID0gISEodXRpbC5lbnYoXCJCTFVFQklSRF9ERUJVR1wiKSAhPSAwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAodHJ1ZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWwuZW52KFwiQkxVRUJJUkRfREVCVUdcIikgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICB1dGlsLmVudihcIk5PREVfRU5WXCIpID09PSBcImRldmVsb3BtZW50XCIpKTtcblxudmFyIHdhcm5pbmdzID0gISEodXRpbC5lbnYoXCJCTFVFQklSRF9XQVJOSU5HU1wiKSAhPSAwICYmXG4gICAgKGRlYnVnZ2luZyB8fCB1dGlsLmVudihcIkJMVUVCSVJEX1dBUk5JTkdTXCIpKSk7XG5cbnZhciBsb25nU3RhY2tUcmFjZXMgPSAhISh1dGlsLmVudihcIkJMVUVCSVJEX0xPTkdfU1RBQ0tfVFJBQ0VTXCIpICE9IDAgJiZcbiAgICAoZGVidWdnaW5nIHx8IHV0aWwuZW52KFwiQkxVRUJJUkRfTE9OR19TVEFDS19UUkFDRVNcIikpKTtcblxudmFyIHdGb3Jnb3R0ZW5SZXR1cm4gPSB1dGlsLmVudihcIkJMVUVCSVJEX1dfRk9SR09UVEVOX1JFVFVSTlwiKSAhPSAwICYmXG4gICAgKHdhcm5pbmdzIHx8ICEhdXRpbC5lbnYoXCJCTFVFQklSRF9XX0ZPUkdPVFRFTl9SRVRVUk5cIikpO1xuXG5Qcm9taXNlLnByb3RvdHlwZS5zdXBwcmVzc1VuaGFuZGxlZFJlamVjdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdGFyZ2V0ID0gdGhpcy5fdGFyZ2V0KCk7XG4gICAgdGFyZ2V0Ll9iaXRGaWVsZCA9ICgodGFyZ2V0Ll9iaXRGaWVsZCAmICh+MTA0ODU3NikpIHxcbiAgICAgICAgICAgICAgICAgICAgICA1MjQyODgpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2Vuc3VyZVBvc3NpYmxlUmVqZWN0aW9uSGFuZGxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoKHRoaXMuX2JpdEZpZWxkICYgNTI0Mjg4KSAhPT0gMCkgcmV0dXJuO1xuICAgIHRoaXMuX3NldFJlamVjdGlvbklzVW5oYW5kbGVkKCk7XG4gICAgYXN5bmMuaW52b2tlTGF0ZXIodGhpcy5fbm90aWZ5VW5oYW5kbGVkUmVqZWN0aW9uLCB0aGlzLCB1bmRlZmluZWQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX25vdGlmeVVuaGFuZGxlZFJlamVjdGlvbklzSGFuZGxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBmaXJlUmVqZWN0aW9uRXZlbnQoXCJyZWplY3Rpb25IYW5kbGVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlZCwgdW5kZWZpbmVkLCB0aGlzKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXRSZXR1cm5lZE5vblVuZGVmaW5lZCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCAyNjg0MzU0NTY7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fcmV0dXJuZWROb25VbmRlZmluZWQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgMjY4NDM1NDU2KSAhPT0gMDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9ub3RpZnlVbmhhbmRsZWRSZWplY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuX2lzUmVqZWN0aW9uVW5oYW5kbGVkKCkpIHtcbiAgICAgICAgdmFyIHJlYXNvbiA9IHRoaXMuX3NldHRsZWRWYWx1ZSgpO1xuICAgICAgICB0aGlzLl9zZXRVbmhhbmRsZWRSZWplY3Rpb25Jc05vdGlmaWVkKCk7XG4gICAgICAgIGZpcmVSZWplY3Rpb25FdmVudChcInVuaGFuZGxlZFJlamVjdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NzaWJseVVuaGFuZGxlZFJlamVjdGlvbiwgcmVhc29uLCB0aGlzKTtcbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fc2V0VW5oYW5kbGVkUmVqZWN0aW9uSXNOb3RpZmllZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgMjYyMTQ0O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3Vuc2V0VW5oYW5kbGVkUmVqZWN0aW9uSXNOb3RpZmllZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkICYgKH4yNjIxNDQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2lzVW5oYW5kbGVkUmVqZWN0aW9uTm90aWZpZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDI2MjE0NCkgPiAwO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldFJlamVjdGlvbklzVW5oYW5kbGVkID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCAxMDQ4NTc2O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3Vuc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCAmICh+MTA0ODU3Nik7XG4gICAgaWYgKHRoaXMuX2lzVW5oYW5kbGVkUmVqZWN0aW9uTm90aWZpZWQoKSkge1xuICAgICAgICB0aGlzLl91bnNldFVuaGFuZGxlZFJlamVjdGlvbklzTm90aWZpZWQoKTtcbiAgICAgICAgdGhpcy5fbm90aWZ5VW5oYW5kbGVkUmVqZWN0aW9uSXNIYW5kbGVkKCk7XG4gICAgfVxufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2lzUmVqZWN0aW9uVW5oYW5kbGVkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiAxMDQ4NTc2KSA+IDA7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fd2FybiA9IGZ1bmN0aW9uKG1lc3NhZ2UsIHNob3VsZFVzZU93blRyYWNlLCBwcm9taXNlKSB7XG4gICAgcmV0dXJuIHdhcm4obWVzc2FnZSwgc2hvdWxkVXNlT3duVHJhY2UsIHByb21pc2UgfHwgdGhpcyk7XG59O1xuXG5Qcm9taXNlLm9uUG9zc2libHlVbmhhbmRsZWRSZWplY3Rpb24gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICB2YXIgZG9tYWluID0gZ2V0RG9tYWluKCk7XG4gICAgcG9zc2libHlVbmhhbmRsZWRSZWplY3Rpb24gPVxuICAgICAgICB0eXBlb2YgZm4gPT09IFwiZnVuY3Rpb25cIiA/IChkb21haW4gPT09IG51bGwgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbiA6IHV0aWwuZG9tYWluQmluZChkb21haW4sIGZuKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xufTtcblxuUHJvbWlzZS5vblVuaGFuZGxlZFJlamVjdGlvbkhhbmRsZWQgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICB2YXIgZG9tYWluID0gZ2V0RG9tYWluKCk7XG4gICAgdW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlZCA9XG4gICAgICAgIHR5cGVvZiBmbiA9PT0gXCJmdW5jdGlvblwiID8gKGRvbWFpbiA9PT0gbnVsbCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZuIDogdXRpbC5kb21haW5CaW5kKGRvbWFpbiwgZm4pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG59O1xuXG52YXIgZGlzYWJsZUxvbmdTdGFja1RyYWNlcyA9IGZ1bmN0aW9uKCkge307XG5Qcm9taXNlLmxvbmdTdGFja1RyYWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoYXN5bmMuaGF2ZUl0ZW1zUXVldWVkKCkgJiYgIWNvbmZpZy5sb25nU3RhY2tUcmFjZXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IGVuYWJsZSBsb25nIHN0YWNrIHRyYWNlcyBhZnRlciBwcm9taXNlcyBoYXZlIGJlZW4gY3JlYXRlZFxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG4gICAgfVxuICAgIGlmICghY29uZmlnLmxvbmdTdGFja1RyYWNlcyAmJiBsb25nU3RhY2tUcmFjZXNJc1N1cHBvcnRlZCgpKSB7XG4gICAgICAgIHZhciBQcm9taXNlX2NhcHR1cmVTdGFja1RyYWNlID0gUHJvbWlzZS5wcm90b3R5cGUuX2NhcHR1cmVTdGFja1RyYWNlO1xuICAgICAgICB2YXIgUHJvbWlzZV9hdHRhY2hFeHRyYVRyYWNlID0gUHJvbWlzZS5wcm90b3R5cGUuX2F0dGFjaEV4dHJhVHJhY2U7XG4gICAgICAgIGNvbmZpZy5sb25nU3RhY2tUcmFjZXMgPSB0cnVlO1xuICAgICAgICBkaXNhYmxlTG9uZ1N0YWNrVHJhY2VzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoYXN5bmMuaGF2ZUl0ZW1zUXVldWVkKCkgJiYgIWNvbmZpZy5sb25nU3RhY2tUcmFjZXMpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgZW5hYmxlIGxvbmcgc3RhY2sgdHJhY2VzIGFmdGVyIHByb21pc2VzIGhhdmUgYmVlbiBjcmVhdGVkXFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFByb21pc2UucHJvdG90eXBlLl9jYXB0dXJlU3RhY2tUcmFjZSA9IFByb21pc2VfY2FwdHVyZVN0YWNrVHJhY2U7XG4gICAgICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fYXR0YWNoRXh0cmFUcmFjZSA9IFByb21pc2VfYXR0YWNoRXh0cmFUcmFjZTtcbiAgICAgICAgICAgIENvbnRleHQuZGVhY3RpdmF0ZUxvbmdTdGFja1RyYWNlcygpO1xuICAgICAgICAgICAgYXN5bmMuZW5hYmxlVHJhbXBvbGluZSgpO1xuICAgICAgICAgICAgY29uZmlnLmxvbmdTdGFja1RyYWNlcyA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fY2FwdHVyZVN0YWNrVHJhY2UgPSBsb25nU3RhY2tUcmFjZXNDYXB0dXJlU3RhY2tUcmFjZTtcbiAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX2F0dGFjaEV4dHJhVHJhY2UgPSBsb25nU3RhY2tUcmFjZXNBdHRhY2hFeHRyYVRyYWNlO1xuICAgICAgICBDb250ZXh0LmFjdGl2YXRlTG9uZ1N0YWNrVHJhY2VzKCk7XG4gICAgICAgIGFzeW5jLmRpc2FibGVUcmFtcG9saW5lSWZOZWNlc3NhcnkoKTtcbiAgICB9XG59O1xuXG5Qcm9taXNlLmhhc0xvbmdTdGFja1RyYWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY29uZmlnLmxvbmdTdGFja1RyYWNlcyAmJiBsb25nU3RhY2tUcmFjZXNJc1N1cHBvcnRlZCgpO1xufTtcblxudmFyIGZpcmVEb21FdmVudCA9IChmdW5jdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIEN1c3RvbUV2ZW50ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudChcIkN1c3RvbUV2ZW50XCIpO1xuICAgICAgICAgICAgdXRpbC5nbG9iYWwuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24obmFtZSwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZG9tRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQobmFtZS50b0xvd2VyQ2FzZSgpLCB7XG4gICAgICAgICAgICAgICAgICAgIGRldGFpbDogZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gIXV0aWwuZ2xvYmFsLmRpc3BhdGNoRXZlbnQoZG9tRXZlbnQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgRXZlbnQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gbmV3IEV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7XG4gICAgICAgICAgICB1dGlsLmdsb2JhbC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihuYW1lLCBldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBkb21FdmVudCA9IG5ldyBFdmVudChuYW1lLnRvTG93ZXJDYXNlKCksIHtcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRvbUV2ZW50LmRldGFpbCA9IGV2ZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiAhdXRpbC5nbG9iYWwuZGlzcGF0Y2hFdmVudChkb21FdmVudCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJDdXN0b21FdmVudFwiKTtcbiAgICAgICAgICAgIGV2ZW50LmluaXRDdXN0b21FdmVudChcInRlc3Rpbmd0aGVldmVudFwiLCBmYWxzZSwgdHJ1ZSwge30pO1xuICAgICAgICAgICAgdXRpbC5nbG9iYWwuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24obmFtZSwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZG9tRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIkN1c3RvbUV2ZW50XCIpO1xuICAgICAgICAgICAgICAgIGRvbUV2ZW50LmluaXRDdXN0b21FdmVudChuYW1lLnRvTG93ZXJDYXNlKCksIGZhbHNlLCB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBldmVudCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICF1dGlsLmdsb2JhbC5kaXNwYXRjaEV2ZW50KGRvbUV2ZW50KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG59KSgpO1xuXG52YXIgZmlyZUdsb2JhbEV2ZW50ID0gKGZ1bmN0aW9uKCkge1xuICAgIGlmICh1dGlsLmlzTm9kZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvY2Vzcy5lbWl0LmFwcGx5KHByb2Nlc3MsIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCF1dGlsLmdsb2JhbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgIHZhciBtZXRob2ROYW1lID0gXCJvblwiICsgbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdmFyIG1ldGhvZCA9IHV0aWwuZ2xvYmFsW21ldGhvZE5hbWVdO1xuICAgICAgICAgICAgaWYgKCFtZXRob2QpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIG1ldGhvZC5hcHBseSh1dGlsLmdsb2JhbCwgW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuICAgIH1cbn0pKCk7XG5cbmZ1bmN0aW9uIGdlbmVyYXRlUHJvbWlzZUxpZmVjeWNsZUV2ZW50T2JqZWN0KG5hbWUsIHByb21pc2UpIHtcbiAgICByZXR1cm4ge3Byb21pc2U6IHByb21pc2V9O1xufVxuXG52YXIgZXZlbnRUb09iamVjdEdlbmVyYXRvciA9IHtcbiAgICBwcm9taXNlQ3JlYXRlZDogZ2VuZXJhdGVQcm9taXNlTGlmZWN5Y2xlRXZlbnRPYmplY3QsXG4gICAgcHJvbWlzZUZ1bGZpbGxlZDogZ2VuZXJhdGVQcm9taXNlTGlmZWN5Y2xlRXZlbnRPYmplY3QsXG4gICAgcHJvbWlzZVJlamVjdGVkOiBnZW5lcmF0ZVByb21pc2VMaWZlY3ljbGVFdmVudE9iamVjdCxcbiAgICBwcm9taXNlUmVzb2x2ZWQ6IGdlbmVyYXRlUHJvbWlzZUxpZmVjeWNsZUV2ZW50T2JqZWN0LFxuICAgIHByb21pc2VDYW5jZWxsZWQ6IGdlbmVyYXRlUHJvbWlzZUxpZmVjeWNsZUV2ZW50T2JqZWN0LFxuICAgIHByb21pc2VDaGFpbmVkOiBmdW5jdGlvbihuYW1lLCBwcm9taXNlLCBjaGlsZCkge1xuICAgICAgICByZXR1cm4ge3Byb21pc2U6IHByb21pc2UsIGNoaWxkOiBjaGlsZH07XG4gICAgfSxcbiAgICB3YXJuaW5nOiBmdW5jdGlvbihuYW1lLCB3YXJuaW5nKSB7XG4gICAgICAgIHJldHVybiB7d2FybmluZzogd2FybmluZ307XG4gICAgfSxcbiAgICB1bmhhbmRsZWRSZWplY3Rpb246IGZ1bmN0aW9uIChuYW1lLCByZWFzb24sIHByb21pc2UpIHtcbiAgICAgICAgcmV0dXJuIHtyZWFzb246IHJlYXNvbiwgcHJvbWlzZTogcHJvbWlzZX07XG4gICAgfSxcbiAgICByZWplY3Rpb25IYW5kbGVkOiBnZW5lcmF0ZVByb21pc2VMaWZlY3ljbGVFdmVudE9iamVjdFxufTtcblxudmFyIGFjdGl2ZUZpcmVFdmVudCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdmFyIGdsb2JhbEV2ZW50RmlyZWQgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgICBnbG9iYWxFdmVudEZpcmVkID0gZmlyZUdsb2JhbEV2ZW50LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBhc3luYy50aHJvd0xhdGVyKGUpO1xuICAgICAgICBnbG9iYWxFdmVudEZpcmVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgZG9tRXZlbnRGaXJlZCA9IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICAgIGRvbUV2ZW50RmlyZWQgPSBmaXJlRG9tRXZlbnQobmFtZSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRUb09iamVjdEdlbmVyYXRvcltuYW1lXS5hcHBseShudWxsLCBhcmd1bWVudHMpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGFzeW5jLnRocm93TGF0ZXIoZSk7XG4gICAgICAgIGRvbUV2ZW50RmlyZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBkb21FdmVudEZpcmVkIHx8IGdsb2JhbEV2ZW50RmlyZWQ7XG59O1xuXG5Qcm9taXNlLmNvbmZpZyA9IGZ1bmN0aW9uKG9wdHMpIHtcbiAgICBvcHRzID0gT2JqZWN0KG9wdHMpO1xuICAgIGlmIChcImxvbmdTdGFja1RyYWNlc1wiIGluIG9wdHMpIHtcbiAgICAgICAgaWYgKG9wdHMubG9uZ1N0YWNrVHJhY2VzKSB7XG4gICAgICAgICAgICBQcm9taXNlLmxvbmdTdGFja1RyYWNlcygpO1xuICAgICAgICB9IGVsc2UgaWYgKCFvcHRzLmxvbmdTdGFja1RyYWNlcyAmJiBQcm9taXNlLmhhc0xvbmdTdGFja1RyYWNlcygpKSB7XG4gICAgICAgICAgICBkaXNhYmxlTG9uZ1N0YWNrVHJhY2VzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKFwid2FybmluZ3NcIiBpbiBvcHRzKSB7XG4gICAgICAgIHZhciB3YXJuaW5nc09wdGlvbiA9IG9wdHMud2FybmluZ3M7XG4gICAgICAgIGNvbmZpZy53YXJuaW5ncyA9ICEhd2FybmluZ3NPcHRpb247XG4gICAgICAgIHdGb3Jnb3R0ZW5SZXR1cm4gPSBjb25maWcud2FybmluZ3M7XG5cbiAgICAgICAgaWYgKHV0aWwuaXNPYmplY3Qod2FybmluZ3NPcHRpb24pKSB7XG4gICAgICAgICAgICBpZiAoXCJ3Rm9yZ290dGVuUmV0dXJuXCIgaW4gd2FybmluZ3NPcHRpb24pIHtcbiAgICAgICAgICAgICAgICB3Rm9yZ290dGVuUmV0dXJuID0gISF3YXJuaW5nc09wdGlvbi53Rm9yZ290dGVuUmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChcImNhbmNlbGxhdGlvblwiIGluIG9wdHMgJiYgb3B0cy5jYW5jZWxsYXRpb24gJiYgIWNvbmZpZy5jYW5jZWxsYXRpb24pIHtcbiAgICAgICAgaWYgKGFzeW5jLmhhdmVJdGVtc1F1ZXVlZCgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJjYW5ub3QgZW5hYmxlIGNhbmNlbGxhdGlvbiBhZnRlciBwcm9taXNlcyBhcmUgaW4gdXNlXCIpO1xuICAgICAgICB9XG4gICAgICAgIFByb21pc2UucHJvdG90eXBlLl9jbGVhckNhbmNlbGxhdGlvbkRhdGEgPVxuICAgICAgICAgICAgY2FuY2VsbGF0aW9uQ2xlYXJDYW5jZWxsYXRpb25EYXRhO1xuICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fcHJvcGFnYXRlRnJvbSA9IGNhbmNlbGxhdGlvblByb3BhZ2F0ZUZyb207XG4gICAgICAgIFByb21pc2UucHJvdG90eXBlLl9vbkNhbmNlbCA9IGNhbmNlbGxhdGlvbk9uQ2FuY2VsO1xuICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fc2V0T25DYW5jZWwgPSBjYW5jZWxsYXRpb25TZXRPbkNhbmNlbDtcbiAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX2F0dGFjaENhbmNlbGxhdGlvbkNhbGxiYWNrID1cbiAgICAgICAgICAgIGNhbmNlbGxhdGlvbkF0dGFjaENhbmNlbGxhdGlvbkNhbGxiYWNrO1xuICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fZXhlY3V0ZSA9IGNhbmNlbGxhdGlvbkV4ZWN1dGU7XG4gICAgICAgIHByb3BhZ2F0ZUZyb21GdW5jdGlvbiA9IGNhbmNlbGxhdGlvblByb3BhZ2F0ZUZyb207XG4gICAgICAgIGNvbmZpZy5jYW5jZWxsYXRpb24gPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoXCJtb25pdG9yaW5nXCIgaW4gb3B0cykge1xuICAgICAgICBpZiAob3B0cy5tb25pdG9yaW5nICYmICFjb25maWcubW9uaXRvcmluZykge1xuICAgICAgICAgICAgY29uZmlnLm1vbml0b3JpbmcgPSB0cnVlO1xuICAgICAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX2ZpcmVFdmVudCA9IGFjdGl2ZUZpcmVFdmVudDtcbiAgICAgICAgfSBlbHNlIGlmICghb3B0cy5tb25pdG9yaW5nICYmIGNvbmZpZy5tb25pdG9yaW5nKSB7XG4gICAgICAgICAgICBjb25maWcubW9uaXRvcmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX2ZpcmVFdmVudCA9IGRlZmF1bHRGaXJlRXZlbnQ7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5mdW5jdGlvbiBkZWZhdWx0RmlyZUV2ZW50KCkgeyByZXR1cm4gZmFsc2U7IH1cblxuUHJvbWlzZS5wcm90b3R5cGUuX2ZpcmVFdmVudCA9IGRlZmF1bHRGaXJlRXZlbnQ7XG5Qcm9taXNlLnByb3RvdHlwZS5fZXhlY3V0ZSA9IGZ1bmN0aW9uKGV4ZWN1dG9yLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICB0cnkge1xuICAgICAgICBleGVjdXRvcihyZXNvbHZlLCByZWplY3QpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxufTtcblByb21pc2UucHJvdG90eXBlLl9vbkNhbmNlbCA9IGZ1bmN0aW9uICgpIHt9O1xuUHJvbWlzZS5wcm90b3R5cGUuX3NldE9uQ2FuY2VsID0gZnVuY3Rpb24gKGhhbmRsZXIpIHsgOyB9O1xuUHJvbWlzZS5wcm90b3R5cGUuX2F0dGFjaENhbmNlbGxhdGlvbkNhbGxiYWNrID0gZnVuY3Rpb24ob25DYW5jZWwpIHtcbiAgICA7XG59O1xuUHJvbWlzZS5wcm90b3R5cGUuX2NhcHR1cmVTdGFja1RyYWNlID0gZnVuY3Rpb24gKCkge307XG5Qcm9taXNlLnByb3RvdHlwZS5fYXR0YWNoRXh0cmFUcmFjZSA9IGZ1bmN0aW9uICgpIHt9O1xuUHJvbWlzZS5wcm90b3R5cGUuX2NsZWFyQ2FuY2VsbGF0aW9uRGF0YSA9IGZ1bmN0aW9uKCkge307XG5Qcm9taXNlLnByb3RvdHlwZS5fcHJvcGFnYXRlRnJvbSA9IGZ1bmN0aW9uIChwYXJlbnQsIGZsYWdzKSB7XG4gICAgO1xuICAgIDtcbn07XG5cbmZ1bmN0aW9uIGNhbmNlbGxhdGlvbkV4ZWN1dGUoZXhlY3V0b3IsIHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciBwcm9taXNlID0gdGhpcztcbiAgICB0cnkge1xuICAgICAgICBleGVjdXRvcihyZXNvbHZlLCByZWplY3QsIGZ1bmN0aW9uKG9uQ2FuY2VsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9uQ2FuY2VsICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwib25DYW5jZWwgbXVzdCBiZSBhIGZ1bmN0aW9uLCBnb3Q6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWwudG9TdHJpbmcob25DYW5jZWwpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb21pc2UuX2F0dGFjaENhbmNlbGxhdGlvbkNhbGxiYWNrKG9uQ2FuY2VsKTtcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNhbmNlbGxhdGlvbkF0dGFjaENhbmNlbGxhdGlvbkNhbGxiYWNrKG9uQ2FuY2VsKSB7XG4gICAgaWYgKCF0aGlzLl9pc0NhbmNlbGxhYmxlKCkpIHJldHVybiB0aGlzO1xuXG4gICAgdmFyIHByZXZpb3VzT25DYW5jZWwgPSB0aGlzLl9vbkNhbmNlbCgpO1xuICAgIGlmIChwcmV2aW91c09uQ2FuY2VsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHV0aWwuaXNBcnJheShwcmV2aW91c09uQ2FuY2VsKSkge1xuICAgICAgICAgICAgcHJldmlvdXNPbkNhbmNlbC5wdXNoKG9uQ2FuY2VsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3NldE9uQ2FuY2VsKFtwcmV2aW91c09uQ2FuY2VsLCBvbkNhbmNlbF0pO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fc2V0T25DYW5jZWwob25DYW5jZWwpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY2FuY2VsbGF0aW9uT25DYW5jZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX29uQ2FuY2VsRmllbGQ7XG59XG5cbmZ1bmN0aW9uIGNhbmNlbGxhdGlvblNldE9uQ2FuY2VsKG9uQ2FuY2VsKSB7XG4gICAgdGhpcy5fb25DYW5jZWxGaWVsZCA9IG9uQ2FuY2VsO1xufVxuXG5mdW5jdGlvbiBjYW5jZWxsYXRpb25DbGVhckNhbmNlbGxhdGlvbkRhdGEoKSB7XG4gICAgdGhpcy5fY2FuY2VsbGF0aW9uUGFyZW50ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX29uQ2FuY2VsRmllbGQgPSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGNhbmNlbGxhdGlvblByb3BhZ2F0ZUZyb20ocGFyZW50LCBmbGFncykge1xuICAgIGlmICgoZmxhZ3MgJiAxKSAhPT0gMCkge1xuICAgICAgICB0aGlzLl9jYW5jZWxsYXRpb25QYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHZhciBicmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsID0gcGFyZW50Ll9icmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsO1xuICAgICAgICBpZiAoYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBicmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsID0gMDtcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnQuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwgPSBicmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsICsgMTtcbiAgICB9XG4gICAgaWYgKChmbGFncyAmIDIpICE9PSAwICYmIHBhcmVudC5faXNCb3VuZCgpKSB7XG4gICAgICAgIHRoaXMuX3NldEJvdW5kVG8ocGFyZW50Ll9ib3VuZFRvKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGJpbmRpbmdQcm9wYWdhdGVGcm9tKHBhcmVudCwgZmxhZ3MpIHtcbiAgICBpZiAoKGZsYWdzICYgMikgIT09IDAgJiYgcGFyZW50Ll9pc0JvdW5kKCkpIHtcbiAgICAgICAgdGhpcy5fc2V0Qm91bmRUbyhwYXJlbnQuX2JvdW5kVG8pO1xuICAgIH1cbn1cbnZhciBwcm9wYWdhdGVGcm9tRnVuY3Rpb24gPSBiaW5kaW5nUHJvcGFnYXRlRnJvbTtcblxuZnVuY3Rpb24gYm91bmRWYWx1ZUZ1bmN0aW9uKCkge1xuICAgIHZhciByZXQgPSB0aGlzLl9ib3VuZFRvO1xuICAgIGlmIChyZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAocmV0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgaWYgKHJldC5pc0Z1bGZpbGxlZCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldC52YWx1ZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGxvbmdTdGFja1RyYWNlc0NhcHR1cmVTdGFja1RyYWNlKCkge1xuICAgIHRoaXMuX3RyYWNlID0gbmV3IENhcHR1cmVkVHJhY2UodGhpcy5fcGVla0NvbnRleHQoKSk7XG59XG5cbmZ1bmN0aW9uIGxvbmdTdGFja1RyYWNlc0F0dGFjaEV4dHJhVHJhY2UoZXJyb3IsIGlnbm9yZVNlbGYpIHtcbiAgICBpZiAoY2FuQXR0YWNoVHJhY2UoZXJyb3IpKSB7XG4gICAgICAgIHZhciB0cmFjZSA9IHRoaXMuX3RyYWNlO1xuICAgICAgICBpZiAodHJhY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKGlnbm9yZVNlbGYpIHRyYWNlID0gdHJhY2UuX3BhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHJhY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdHJhY2UuYXR0YWNoRXh0cmFUcmFjZShlcnJvcik7XG4gICAgICAgIH0gZWxzZSBpZiAoIWVycm9yLl9fc3RhY2tDbGVhbmVkX18pIHtcbiAgICAgICAgICAgIHZhciBwYXJzZWQgPSBwYXJzZVN0YWNrQW5kTWVzc2FnZShlcnJvcik7XG4gICAgICAgICAgICB1dGlsLm5vdEVudW1lcmFibGVQcm9wKGVycm9yLCBcInN0YWNrXCIsXG4gICAgICAgICAgICAgICAgcGFyc2VkLm1lc3NhZ2UgKyBcIlxcblwiICsgcGFyc2VkLnN0YWNrLmpvaW4oXCJcXG5cIikpO1xuICAgICAgICAgICAgdXRpbC5ub3RFbnVtZXJhYmxlUHJvcChlcnJvciwgXCJfX3N0YWNrQ2xlYW5lZF9fXCIsIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjaGVja0ZvcmdvdHRlblJldHVybnMocmV0dXJuVmFsdWUsIHByb21pc2VDcmVhdGVkLCBuYW1lLCBwcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudCkge1xuICAgIGlmIChyZXR1cm5WYWx1ZSA9PT0gdW5kZWZpbmVkICYmIHByb21pc2VDcmVhdGVkICE9PSBudWxsICYmXG4gICAgICAgIHdGb3Jnb3R0ZW5SZXR1cm4pIHtcbiAgICAgICAgaWYgKHBhcmVudCAhPT0gdW5kZWZpbmVkICYmIHBhcmVudC5fcmV0dXJuZWROb25VbmRlZmluZWQoKSkgcmV0dXJuO1xuICAgICAgICBpZiAoKHByb21pc2UuX2JpdEZpZWxkICYgNjU1MzUpID09PSAwKSByZXR1cm47XG5cbiAgICAgICAgaWYgKG5hbWUpIG5hbWUgPSBuYW1lICsgXCIgXCI7XG4gICAgICAgIHZhciBoYW5kbGVyTGluZSA9IFwiXCI7XG4gICAgICAgIHZhciBjcmVhdG9yTGluZSA9IFwiXCI7XG4gICAgICAgIGlmIChwcm9taXNlQ3JlYXRlZC5fdHJhY2UpIHtcbiAgICAgICAgICAgIHZhciB0cmFjZUxpbmVzID0gcHJvbWlzZUNyZWF0ZWQuX3RyYWNlLnN0YWNrLnNwbGl0KFwiXFxuXCIpO1xuICAgICAgICAgICAgdmFyIHN0YWNrID0gY2xlYW5TdGFjayh0cmFjZUxpbmVzKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdGFjay5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgICAgIHZhciBsaW5lID0gc3RhY2tbaV07XG4gICAgICAgICAgICAgICAgaWYgKCFub2RlRnJhbWVQYXR0ZXJuLnRlc3QobGluZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmVNYXRjaGVzID0gbGluZS5tYXRjaChwYXJzZUxpbmVQYXR0ZXJuKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmVNYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyTGluZSAgPSBcImF0IFwiICsgbGluZU1hdGNoZXNbMV0gK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiOlwiICsgbGluZU1hdGNoZXNbMl0gKyBcIjpcIiArIGxpbmVNYXRjaGVzWzNdICsgXCIgXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciBmaXJzdFVzZXJMaW5lID0gc3RhY2tbMF07XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmFjZUxpbmVzLmxlbmd0aDsgKytpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNlTGluZXNbaV0gPT09IGZpcnN0VXNlckxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0b3JMaW5lID0gXCJcXG5cIiArIHRyYWNlTGluZXNbaSAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgbXNnID0gXCJhIHByb21pc2Ugd2FzIGNyZWF0ZWQgaW4gYSBcIiArIG5hbWUgK1xuICAgICAgICAgICAgXCJoYW5kbGVyIFwiICsgaGFuZGxlckxpbmUgKyBcImJ1dCB3YXMgbm90IHJldHVybmVkIGZyb20gaXQsIFwiICtcbiAgICAgICAgICAgIFwic2VlIGh0dHA6Ly9nb28uZ2wvclJxTVV3XCIgK1xuICAgICAgICAgICAgY3JlYXRvckxpbmU7XG4gICAgICAgIHByb21pc2UuX3dhcm4obXNnLCB0cnVlLCBwcm9taXNlQ3JlYXRlZCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkZXByZWNhdGVkKG5hbWUsIHJlcGxhY2VtZW50KSB7XG4gICAgdmFyIG1lc3NhZ2UgPSBuYW1lICtcbiAgICAgICAgXCIgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIHZlcnNpb24uXCI7XG4gICAgaWYgKHJlcGxhY2VtZW50KSBtZXNzYWdlICs9IFwiIFVzZSBcIiArIHJlcGxhY2VtZW50ICsgXCIgaW5zdGVhZC5cIjtcbiAgICByZXR1cm4gd2FybihtZXNzYWdlKTtcbn1cblxuZnVuY3Rpb24gd2FybihtZXNzYWdlLCBzaG91bGRVc2VPd25UcmFjZSwgcHJvbWlzZSkge1xuICAgIGlmICghY29uZmlnLndhcm5pbmdzKSByZXR1cm47XG4gICAgdmFyIHdhcm5pbmcgPSBuZXcgV2FybmluZyhtZXNzYWdlKTtcbiAgICB2YXIgY3R4O1xuICAgIGlmIChzaG91bGRVc2VPd25UcmFjZSkge1xuICAgICAgICBwcm9taXNlLl9hdHRhY2hFeHRyYVRyYWNlKHdhcm5pbmcpO1xuICAgIH0gZWxzZSBpZiAoY29uZmlnLmxvbmdTdGFja1RyYWNlcyAmJiAoY3R4ID0gUHJvbWlzZS5fcGVla0NvbnRleHQoKSkpIHtcbiAgICAgICAgY3R4LmF0dGFjaEV4dHJhVHJhY2Uod2FybmluZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHBhcnNlZCA9IHBhcnNlU3RhY2tBbmRNZXNzYWdlKHdhcm5pbmcpO1xuICAgICAgICB3YXJuaW5nLnN0YWNrID0gcGFyc2VkLm1lc3NhZ2UgKyBcIlxcblwiICsgcGFyc2VkLnN0YWNrLmpvaW4oXCJcXG5cIik7XG4gICAgfVxuXG4gICAgaWYgKCFhY3RpdmVGaXJlRXZlbnQoXCJ3YXJuaW5nXCIsIHdhcm5pbmcpKSB7XG4gICAgICAgIGZvcm1hdEFuZExvZ0Vycm9yKHdhcm5pbmcsIFwiXCIsIHRydWUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcmVjb25zdHJ1Y3RTdGFjayhtZXNzYWdlLCBzdGFja3MpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrcy5sZW5ndGggLSAxOyArK2kpIHtcbiAgICAgICAgc3RhY2tzW2ldLnB1c2goXCJGcm9tIHByZXZpb3VzIGV2ZW50OlwiKTtcbiAgICAgICAgc3RhY2tzW2ldID0gc3RhY2tzW2ldLmpvaW4oXCJcXG5cIik7XG4gICAgfVxuICAgIGlmIChpIDwgc3RhY2tzLmxlbmd0aCkge1xuICAgICAgICBzdGFja3NbaV0gPSBzdGFja3NbaV0uam9pbihcIlxcblwiKTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2UgKyBcIlxcblwiICsgc3RhY2tzLmpvaW4oXCJcXG5cIik7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUR1cGxpY2F0ZU9yRW1wdHlKdW1wcyhzdGFja3MpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrcy5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoc3RhY2tzW2ldLmxlbmd0aCA9PT0gMCB8fFxuICAgICAgICAgICAgKChpICsgMSA8IHN0YWNrcy5sZW5ndGgpICYmIHN0YWNrc1tpXVswXSA9PT0gc3RhY2tzW2krMV1bMF0pKSB7XG4gICAgICAgICAgICBzdGFja3Muc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgaS0tO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVDb21tb25Sb290cyhzdGFja3MpIHtcbiAgICB2YXIgY3VycmVudCA9IHN0YWNrc1swXTtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IHN0YWNrcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgcHJldiA9IHN0YWNrc1tpXTtcbiAgICAgICAgdmFyIGN1cnJlbnRMYXN0SW5kZXggPSBjdXJyZW50Lmxlbmd0aCAtIDE7XG4gICAgICAgIHZhciBjdXJyZW50TGFzdExpbmUgPSBjdXJyZW50W2N1cnJlbnRMYXN0SW5kZXhdO1xuICAgICAgICB2YXIgY29tbW9uUm9vdE1lZXRQb2ludCA9IC0xO1xuXG4gICAgICAgIGZvciAodmFyIGogPSBwcmV2Lmxlbmd0aCAtIDE7IGogPj0gMDsgLS1qKSB7XG4gICAgICAgICAgICBpZiAocHJldltqXSA9PT0gY3VycmVudExhc3RMaW5lKSB7XG4gICAgICAgICAgICAgICAgY29tbW9uUm9vdE1lZXRQb2ludCA9IGo7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBqID0gY29tbW9uUm9vdE1lZXRQb2ludDsgaiA+PSAwOyAtLWopIHtcbiAgICAgICAgICAgIHZhciBsaW5lID0gcHJldltqXTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50W2N1cnJlbnRMYXN0SW5kZXhdID09PSBsaW5lKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudC5wb3AoKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50TGFzdEluZGV4LS07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnQgPSBwcmV2O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY2xlYW5TdGFjayhzdGFjaykge1xuICAgIHZhciByZXQgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBsaW5lID0gc3RhY2tbaV07XG4gICAgICAgIHZhciBpc1RyYWNlTGluZSA9IFwiICAgIChObyBzdGFjayB0cmFjZSlcIiA9PT0gbGluZSB8fFxuICAgICAgICAgICAgc3RhY2tGcmFtZVBhdHRlcm4udGVzdChsaW5lKTtcbiAgICAgICAgdmFyIGlzSW50ZXJuYWxGcmFtZSA9IGlzVHJhY2VMaW5lICYmIHNob3VsZElnbm9yZShsaW5lKTtcbiAgICAgICAgaWYgKGlzVHJhY2VMaW5lICYmICFpc0ludGVybmFsRnJhbWUpIHtcbiAgICAgICAgICAgIGlmIChpbmRlbnRTdGFja0ZyYW1lcyAmJiBsaW5lLmNoYXJBdCgwKSAhPT0gXCIgXCIpIHtcbiAgICAgICAgICAgICAgICBsaW5lID0gXCIgICAgXCIgKyBsaW5lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0LnB1c2gobGluZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gc3RhY2tGcmFtZXNBc0FycmF5KGVycm9yKSB7XG4gICAgdmFyIHN0YWNrID0gZXJyb3Iuc3RhY2sucmVwbGFjZSgvXFxzKyQvZywgXCJcIikuc3BsaXQoXCJcXG5cIik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgbGluZSA9IHN0YWNrW2ldO1xuICAgICAgICBpZiAoXCIgICAgKE5vIHN0YWNrIHRyYWNlKVwiID09PSBsaW5lIHx8IHN0YWNrRnJhbWVQYXR0ZXJuLnRlc3QobGluZSkpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpID4gMCkge1xuICAgICAgICBzdGFjayA9IHN0YWNrLnNsaWNlKGkpO1xuICAgIH1cbiAgICByZXR1cm4gc3RhY2s7XG59XG5cbmZ1bmN0aW9uIHBhcnNlU3RhY2tBbmRNZXNzYWdlKGVycm9yKSB7XG4gICAgdmFyIHN0YWNrID0gZXJyb3Iuc3RhY2s7XG4gICAgdmFyIG1lc3NhZ2UgPSBlcnJvci50b1N0cmluZygpO1xuICAgIHN0YWNrID0gdHlwZW9mIHN0YWNrID09PSBcInN0cmluZ1wiICYmIHN0YWNrLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICA/IHN0YWNrRnJhbWVzQXNBcnJheShlcnJvcikgOiBbXCIgICAgKE5vIHN0YWNrIHRyYWNlKVwiXTtcbiAgICByZXR1cm4ge1xuICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICBzdGFjazogY2xlYW5TdGFjayhzdGFjaylcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBmb3JtYXRBbmRMb2dFcnJvcihlcnJvciwgdGl0bGUsIGlzU29mdCkge1xuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICB2YXIgbWVzc2FnZTtcbiAgICAgICAgaWYgKHV0aWwuaXNPYmplY3QoZXJyb3IpKSB7XG4gICAgICAgICAgICB2YXIgc3RhY2sgPSBlcnJvci5zdGFjaztcbiAgICAgICAgICAgIG1lc3NhZ2UgPSB0aXRsZSArIGZvcm1hdFN0YWNrKHN0YWNrLCBlcnJvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gdGl0bGUgKyBTdHJpbmcoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgcHJpbnRXYXJuaW5nID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHByaW50V2FybmluZyhtZXNzYWdlLCBpc1NvZnQpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25zb2xlLmxvZyA9PT0gXCJmdW5jdGlvblwiIHx8XG4gICAgICAgICAgICB0eXBlb2YgY29uc29sZS5sb2cgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBmaXJlUmVqZWN0aW9uRXZlbnQobmFtZSwgbG9jYWxIYW5kbGVyLCByZWFzb24sIHByb21pc2UpIHtcbiAgICB2YXIgbG9jYWxFdmVudEZpcmVkID0gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBsb2NhbEhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgbG9jYWxFdmVudEZpcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChuYW1lID09PSBcInJlamVjdGlvbkhhbmRsZWRcIikge1xuICAgICAgICAgICAgICAgIGxvY2FsSGFuZGxlcihwcm9taXNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9jYWxIYW5kbGVyKHJlYXNvbiwgcHJvbWlzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGFzeW5jLnRocm93TGF0ZXIoZSk7XG4gICAgfVxuXG4gICAgaWYgKG5hbWUgPT09IFwidW5oYW5kbGVkUmVqZWN0aW9uXCIpIHtcbiAgICAgICAgaWYgKCFhY3RpdmVGaXJlRXZlbnQobmFtZSwgcmVhc29uLCBwcm9taXNlKSAmJiAhbG9jYWxFdmVudEZpcmVkKSB7XG4gICAgICAgICAgICBmb3JtYXRBbmRMb2dFcnJvcihyZWFzb24sIFwiVW5oYW5kbGVkIHJlamVjdGlvbiBcIik7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBhY3RpdmVGaXJlRXZlbnQobmFtZSwgcHJvbWlzZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBmb3JtYXROb25FcnJvcihvYmopIHtcbiAgICB2YXIgc3RyO1xuICAgIGlmICh0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgc3RyID0gXCJbZnVuY3Rpb24gXCIgK1xuICAgICAgICAgICAgKG9iai5uYW1lIHx8IFwiYW5vbnltb3VzXCIpICtcbiAgICAgICAgICAgIFwiXVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHN0ciA9IG9iaiAmJiB0eXBlb2Ygb2JqLnRvU3RyaW5nID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgID8gb2JqLnRvU3RyaW5nKCkgOiB1dGlsLnRvU3RyaW5nKG9iaik7XG4gICAgICAgIHZhciBydXNlbGVzc1RvU3RyaW5nID0gL1xcW29iamVjdCBbYS16QS1aMC05JF9dK1xcXS87XG4gICAgICAgIGlmIChydXNlbGVzc1RvU3RyaW5nLnRlc3Qoc3RyKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgbmV3U3RyID0gSlNPTi5zdHJpbmdpZnkob2JqKTtcbiAgICAgICAgICAgICAgICBzdHIgPSBuZXdTdHI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaChlKSB7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgc3RyID0gXCIoZW1wdHkgYXJyYXkpXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIChcIig8XCIgKyBzbmlwKHN0cikgKyBcIj4sIG5vIHN0YWNrIHRyYWNlKVwiKTtcbn1cblxuZnVuY3Rpb24gc25pcChzdHIpIHtcbiAgICB2YXIgbWF4Q2hhcnMgPSA0MTtcbiAgICBpZiAoc3RyLmxlbmd0aCA8IG1heENoYXJzKSB7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIHJldHVybiBzdHIuc3Vic3RyKDAsIG1heENoYXJzIC0gMykgKyBcIi4uLlwiO1xufVxuXG5mdW5jdGlvbiBsb25nU3RhY2tUcmFjZXNJc1N1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gdHlwZW9mIGNhcHR1cmVTdGFja1RyYWNlID09PSBcImZ1bmN0aW9uXCI7XG59XG5cbnZhciBzaG91bGRJZ25vcmUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGZhbHNlOyB9O1xudmFyIHBhcnNlTGluZUluZm9SZWdleCA9IC9bXFwvPFxcKF0oW146XFwvXSspOihcXGQrKTooPzpcXGQrKVxcKT9cXHMqJC87XG5mdW5jdGlvbiBwYXJzZUxpbmVJbmZvKGxpbmUpIHtcbiAgICB2YXIgbWF0Y2hlcyA9IGxpbmUubWF0Y2gocGFyc2VMaW5lSW5mb1JlZ2V4KTtcbiAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZmlsZU5hbWU6IG1hdGNoZXNbMV0sXG4gICAgICAgICAgICBsaW5lOiBwYXJzZUludChtYXRjaGVzWzJdLCAxMClcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldEJvdW5kcyhmaXJzdExpbmVFcnJvciwgbGFzdExpbmVFcnJvcikge1xuICAgIGlmICghbG9uZ1N0YWNrVHJhY2VzSXNTdXBwb3J0ZWQoKSkgcmV0dXJuO1xuICAgIHZhciBmaXJzdFN0YWNrTGluZXMgPSBmaXJzdExpbmVFcnJvci5zdGFjay5zcGxpdChcIlxcblwiKTtcbiAgICB2YXIgbGFzdFN0YWNrTGluZXMgPSBsYXN0TGluZUVycm9yLnN0YWNrLnNwbGl0KFwiXFxuXCIpO1xuICAgIHZhciBmaXJzdEluZGV4ID0gLTE7XG4gICAgdmFyIGxhc3RJbmRleCA9IC0xO1xuICAgIHZhciBmaXJzdEZpbGVOYW1lO1xuICAgIHZhciBsYXN0RmlsZU5hbWU7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaXJzdFN0YWNrTGluZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHBhcnNlTGluZUluZm8oZmlyc3RTdGFja0xpbmVzW2ldKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgZmlyc3RGaWxlTmFtZSA9IHJlc3VsdC5maWxlTmFtZTtcbiAgICAgICAgICAgIGZpcnN0SW5kZXggPSByZXN1bHQubGluZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdFN0YWNrTGluZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHBhcnNlTGluZUluZm8obGFzdFN0YWNrTGluZXNbaV0pO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICBsYXN0RmlsZU5hbWUgPSByZXN1bHQuZmlsZU5hbWU7XG4gICAgICAgICAgICBsYXN0SW5kZXggPSByZXN1bHQubGluZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChmaXJzdEluZGV4IDwgMCB8fCBsYXN0SW5kZXggPCAwIHx8ICFmaXJzdEZpbGVOYW1lIHx8ICFsYXN0RmlsZU5hbWUgfHxcbiAgICAgICAgZmlyc3RGaWxlTmFtZSAhPT0gbGFzdEZpbGVOYW1lIHx8IGZpcnN0SW5kZXggPj0gbGFzdEluZGV4KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzaG91bGRJZ25vcmUgPSBmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgIGlmIChibHVlYmlyZEZyYW1lUGF0dGVybi50ZXN0KGxpbmUpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgdmFyIGluZm8gPSBwYXJzZUxpbmVJbmZvKGxpbmUpO1xuICAgICAgICBpZiAoaW5mbykge1xuICAgICAgICAgICAgaWYgKGluZm8uZmlsZU5hbWUgPT09IGZpcnN0RmlsZU5hbWUgJiZcbiAgICAgICAgICAgICAgICAoZmlyc3RJbmRleCA8PSBpbmZvLmxpbmUgJiYgaW5mby5saW5lIDw9IGxhc3RJbmRleCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gQ2FwdHVyZWRUcmFjZShwYXJlbnQpIHtcbiAgICB0aGlzLl9wYXJlbnQgPSBwYXJlbnQ7XG4gICAgdGhpcy5fcHJvbWlzZXNDcmVhdGVkID0gMDtcbiAgICB2YXIgbGVuZ3RoID0gdGhpcy5fbGVuZ3RoID0gMSArIChwYXJlbnQgPT09IHVuZGVmaW5lZCA/IDAgOiBwYXJlbnQuX2xlbmd0aCk7XG4gICAgY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgQ2FwdHVyZWRUcmFjZSk7XG4gICAgaWYgKGxlbmd0aCA+IDMyKSB0aGlzLnVuY3ljbGUoKTtcbn1cbnV0aWwuaW5oZXJpdHMoQ2FwdHVyZWRUcmFjZSwgRXJyb3IpO1xuQ29udGV4dC5DYXB0dXJlZFRyYWNlID0gQ2FwdHVyZWRUcmFjZTtcblxuQ2FwdHVyZWRUcmFjZS5wcm90b3R5cGUudW5jeWNsZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsZW5ndGggPSB0aGlzLl9sZW5ndGg7XG4gICAgaWYgKGxlbmd0aCA8IDIpIHJldHVybjtcbiAgICB2YXIgbm9kZXMgPSBbXTtcbiAgICB2YXIgc3RhY2tUb0luZGV4ID0ge307XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbm9kZSA9IHRoaXM7IG5vZGUgIT09IHVuZGVmaW5lZDsgKytpKSB7XG4gICAgICAgIG5vZGVzLnB1c2gobm9kZSk7XG4gICAgICAgIG5vZGUgPSBub2RlLl9wYXJlbnQ7XG4gICAgfVxuICAgIGxlbmd0aCA9IHRoaXMuX2xlbmd0aCA9IGk7XG4gICAgZm9yICh2YXIgaSA9IGxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBzdGFjayA9IG5vZGVzW2ldLnN0YWNrO1xuICAgICAgICBpZiAoc3RhY2tUb0luZGV4W3N0YWNrXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzdGFja1RvSW5kZXhbc3RhY2tdID0gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBjdXJyZW50U3RhY2sgPSBub2Rlc1tpXS5zdGFjaztcbiAgICAgICAgdmFyIGluZGV4ID0gc3RhY2tUb0luZGV4W2N1cnJlbnRTdGFja107XG4gICAgICAgIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkICYmIGluZGV4ICE9PSBpKSB7XG4gICAgICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgICAgbm9kZXNbaW5kZXggLSAxXS5fcGFyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIG5vZGVzW2luZGV4IC0gMV0uX2xlbmd0aCA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2Rlc1tpXS5fcGFyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgbm9kZXNbaV0uX2xlbmd0aCA9IDE7XG4gICAgICAgICAgICB2YXIgY3ljbGVFZGdlTm9kZSA9IGkgPiAwID8gbm9kZXNbaSAtIDFdIDogdGhpcztcblxuICAgICAgICAgICAgaWYgKGluZGV4IDwgbGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIGN5Y2xlRWRnZU5vZGUuX3BhcmVudCA9IG5vZGVzW2luZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgY3ljbGVFZGdlTm9kZS5fcGFyZW50LnVuY3ljbGUoKTtcbiAgICAgICAgICAgICAgICBjeWNsZUVkZ2VOb2RlLl9sZW5ndGggPVxuICAgICAgICAgICAgICAgICAgICBjeWNsZUVkZ2VOb2RlLl9wYXJlbnQuX2xlbmd0aCArIDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGN5Y2xlRWRnZU5vZGUuX3BhcmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBjeWNsZUVkZ2VOb2RlLl9sZW5ndGggPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGN1cnJlbnRDaGlsZExlbmd0aCA9IGN5Y2xlRWRnZU5vZGUuX2xlbmd0aCArIDE7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gaSAtIDI7IGogPj0gMDsgLS1qKSB7XG4gICAgICAgICAgICAgICAgbm9kZXNbal0uX2xlbmd0aCA9IGN1cnJlbnRDaGlsZExlbmd0aDtcbiAgICAgICAgICAgICAgICBjdXJyZW50Q2hpbGRMZW5ndGgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbkNhcHR1cmVkVHJhY2UucHJvdG90eXBlLmF0dGFjaEV4dHJhVHJhY2UgPSBmdW5jdGlvbihlcnJvcikge1xuICAgIGlmIChlcnJvci5fX3N0YWNrQ2xlYW5lZF9fKSByZXR1cm47XG4gICAgdGhpcy51bmN5Y2xlKCk7XG4gICAgdmFyIHBhcnNlZCA9IHBhcnNlU3RhY2tBbmRNZXNzYWdlKGVycm9yKTtcbiAgICB2YXIgbWVzc2FnZSA9IHBhcnNlZC5tZXNzYWdlO1xuICAgIHZhciBzdGFja3MgPSBbcGFyc2VkLnN0YWNrXTtcblxuICAgIHZhciB0cmFjZSA9IHRoaXM7XG4gICAgd2hpbGUgKHRyYWNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc3RhY2tzLnB1c2goY2xlYW5TdGFjayh0cmFjZS5zdGFjay5zcGxpdChcIlxcblwiKSkpO1xuICAgICAgICB0cmFjZSA9IHRyYWNlLl9wYXJlbnQ7XG4gICAgfVxuICAgIHJlbW92ZUNvbW1vblJvb3RzKHN0YWNrcyk7XG4gICAgcmVtb3ZlRHVwbGljYXRlT3JFbXB0eUp1bXBzKHN0YWNrcyk7XG4gICAgdXRpbC5ub3RFbnVtZXJhYmxlUHJvcChlcnJvciwgXCJzdGFja1wiLCByZWNvbnN0cnVjdFN0YWNrKG1lc3NhZ2UsIHN0YWNrcykpO1xuICAgIHV0aWwubm90RW51bWVyYWJsZVByb3AoZXJyb3IsIFwiX19zdGFja0NsZWFuZWRfX1wiLCB0cnVlKTtcbn07XG5cbnZhciBjYXB0dXJlU3RhY2tUcmFjZSA9IChmdW5jdGlvbiBzdGFja0RldGVjdGlvbigpIHtcbiAgICB2YXIgdjhzdGFja0ZyYW1lUGF0dGVybiA9IC9eXFxzKmF0XFxzKi87XG4gICAgdmFyIHY4c3RhY2tGb3JtYXR0ZXIgPSBmdW5jdGlvbihzdGFjaywgZXJyb3IpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzdGFjayA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHN0YWNrO1xuXG4gICAgICAgIGlmIChlcnJvci5uYW1lICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvcm1hdE5vbkVycm9yKGVycm9yKTtcbiAgICB9O1xuXG4gICAgaWYgKHR5cGVvZiBFcnJvci5zdGFja1RyYWNlTGltaXQgPT09IFwibnVtYmVyXCIgJiZcbiAgICAgICAgdHlwZW9mIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ICs9IDY7XG4gICAgICAgIHN0YWNrRnJhbWVQYXR0ZXJuID0gdjhzdGFja0ZyYW1lUGF0dGVybjtcbiAgICAgICAgZm9ybWF0U3RhY2sgPSB2OHN0YWNrRm9ybWF0dGVyO1xuICAgICAgICB2YXIgY2FwdHVyZVN0YWNrVHJhY2UgPSBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZTtcblxuICAgICAgICBzaG91bGRJZ25vcmUgPSBmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gYmx1ZWJpcmRGcmFtZVBhdHRlcm4udGVzdChsaW5lKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHJlY2VpdmVyLCBpZ25vcmVVbnRpbCkge1xuICAgICAgICAgICAgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ICs9IDY7XG4gICAgICAgICAgICBjYXB0dXJlU3RhY2tUcmFjZShyZWNlaXZlciwgaWdub3JlVW50aWwpO1xuICAgICAgICAgICAgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0IC09IDY7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoKTtcblxuICAgIGlmICh0eXBlb2YgZXJyLnN0YWNrID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgIGVyci5zdGFjay5zcGxpdChcIlxcblwiKVswXS5pbmRleE9mKFwic3RhY2tEZXRlY3Rpb25AXCIpID49IDApIHtcbiAgICAgICAgc3RhY2tGcmFtZVBhdHRlcm4gPSAvQC87XG4gICAgICAgIGZvcm1hdFN0YWNrID0gdjhzdGFja0Zvcm1hdHRlcjtcbiAgICAgICAgaW5kZW50U3RhY2tGcmFtZXMgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gY2FwdHVyZVN0YWNrVHJhY2Uobykge1xuICAgICAgICAgICAgby5zdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBoYXNTdGFja0FmdGVyVGhyb3c7XG4gICAgdHJ5IHsgdGhyb3cgbmV3IEVycm9yKCk7IH1cbiAgICBjYXRjaChlKSB7XG4gICAgICAgIGhhc1N0YWNrQWZ0ZXJUaHJvdyA9IChcInN0YWNrXCIgaW4gZSk7XG4gICAgfVxuICAgIGlmICghKFwic3RhY2tcIiBpbiBlcnIpICYmIGhhc1N0YWNrQWZ0ZXJUaHJvdyAmJlxuICAgICAgICB0eXBlb2YgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHN0YWNrRnJhbWVQYXR0ZXJuID0gdjhzdGFja0ZyYW1lUGF0dGVybjtcbiAgICAgICAgZm9ybWF0U3RhY2sgPSB2OHN0YWNrRm9ybWF0dGVyO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gY2FwdHVyZVN0YWNrVHJhY2Uobykge1xuICAgICAgICAgICAgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ICs9IDY7XG4gICAgICAgICAgICB0cnkgeyB0aHJvdyBuZXcgRXJyb3IoKTsgfVxuICAgICAgICAgICAgY2F0Y2goZSkgeyBvLnN0YWNrID0gZS5zdGFjazsgfVxuICAgICAgICAgICAgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0IC09IDY7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZm9ybWF0U3RhY2sgPSBmdW5jdGlvbihzdGFjaywgZXJyb3IpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzdGFjayA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHN0YWNrO1xuXG4gICAgICAgIGlmICgodHlwZW9mIGVycm9yID09PSBcIm9iamVjdFwiIHx8XG4gICAgICAgICAgICB0eXBlb2YgZXJyb3IgPT09IFwiZnVuY3Rpb25cIikgJiZcbiAgICAgICAgICAgIGVycm9yLm5hbWUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgZXJyb3IubWVzc2FnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3IudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm9ybWF0Tm9uRXJyb3IoZXJyb3IpO1xuICAgIH07XG5cbiAgICByZXR1cm4gbnVsbDtcblxufSkoW10pO1xuXG5pZiAodHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIGNvbnNvbGUud2FybiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHByaW50V2FybmluZyA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICB9O1xuICAgIGlmICh1dGlsLmlzTm9kZSAmJiBwcm9jZXNzLnN0ZGVyci5pc1RUWSkge1xuICAgICAgICBwcmludFdhcm5pbmcgPSBmdW5jdGlvbihtZXNzYWdlLCBpc1NvZnQpIHtcbiAgICAgICAgICAgIHZhciBjb2xvciA9IGlzU29mdCA/IFwiXFx1MDAxYlszM21cIiA6IFwiXFx1MDAxYlszMW1cIjtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybihjb2xvciArIG1lc3NhZ2UgKyBcIlxcdTAwMWJbMG1cXG5cIik7XG4gICAgICAgIH07XG4gICAgfSBlbHNlIGlmICghdXRpbC5pc05vZGUgJiYgdHlwZW9mIChuZXcgRXJyb3IoKS5zdGFjaykgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24obWVzc2FnZSwgaXNTb2Z0KSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCIlY1wiICsgbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU29mdCA/IFwiY29sb3I6IGRhcmtvcmFuZ2VcIiA6IFwiY29sb3I6IHJlZFwiKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbnZhciBjb25maWcgPSB7XG4gICAgd2FybmluZ3M6IHdhcm5pbmdzLFxuICAgIGxvbmdTdGFja1RyYWNlczogZmFsc2UsXG4gICAgY2FuY2VsbGF0aW9uOiBmYWxzZSxcbiAgICBtb25pdG9yaW5nOiBmYWxzZVxufTtcblxuaWYgKGxvbmdTdGFja1RyYWNlcykgUHJvbWlzZS5sb25nU3RhY2tUcmFjZXMoKTtcblxucmV0dXJuIHtcbiAgICBsb25nU3RhY2tUcmFjZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gY29uZmlnLmxvbmdTdGFja1RyYWNlcztcbiAgICB9LFxuICAgIHdhcm5pbmdzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZy53YXJuaW5ncztcbiAgICB9LFxuICAgIGNhbmNlbGxhdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBjb25maWcuY2FuY2VsbGF0aW9uO1xuICAgIH0sXG4gICAgbW9uaXRvcmluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBjb25maWcubW9uaXRvcmluZztcbiAgICB9LFxuICAgIHByb3BhZ2F0ZUZyb21GdW5jdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBwcm9wYWdhdGVGcm9tRnVuY3Rpb247XG4gICAgfSxcbiAgICBib3VuZFZhbHVlRnVuY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gYm91bmRWYWx1ZUZ1bmN0aW9uO1xuICAgIH0sXG4gICAgY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zOiBjaGVja0ZvcmdvdHRlblJldHVybnMsXG4gICAgc2V0Qm91bmRzOiBzZXRCb3VuZHMsXG4gICAgd2Fybjogd2FybixcbiAgICBkZXByZWNhdGVkOiBkZXByZWNhdGVkLFxuICAgIENhcHR1cmVkVHJhY2U6IENhcHR1cmVkVHJhY2UsXG4gICAgZmlyZURvbUV2ZW50OiBmaXJlRG9tRXZlbnQsXG4gICAgZmlyZUdsb2JhbEV2ZW50OiBmaXJlR2xvYmFsRXZlbnRcbn07XG59O1xuXG59LHtcIi4vZXJyb3JzXCI6MTIsXCIuL3V0aWxcIjozNn1dLDEwOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlKSB7XG5mdW5jdGlvbiByZXR1cm5lcigpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZTtcbn1cbmZ1bmN0aW9uIHRocm93ZXIoKSB7XG4gICAgdGhyb3cgdGhpcy5yZWFzb247XG59XG5cblByb21pc2UucHJvdG90eXBlW1wicmV0dXJuXCJdID1cblByb21pc2UucHJvdG90eXBlLnRoZW5SZXR1cm4gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB2YWx1ZS5zdXBwcmVzc1VuaGFuZGxlZFJlamVjdGlvbnMoKTtcbiAgICByZXR1cm4gdGhpcy5fdGhlbihcbiAgICAgICAgcmV0dXJuZXIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB7dmFsdWU6IHZhbHVlfSwgdW5kZWZpbmVkKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlW1widGhyb3dcIl0gPVxuUHJvbWlzZS5wcm90b3R5cGUudGhlblRocm93ID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHJldHVybiB0aGlzLl90aGVuKFxuICAgICAgICB0aHJvd2VyLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwge3JlYXNvbjogcmVhc29ufSwgdW5kZWZpbmVkKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmNhdGNoVGhyb3cgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPD0gMSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGhlbihcbiAgICAgICAgICAgIHVuZGVmaW5lZCwgdGhyb3dlciwgdW5kZWZpbmVkLCB7cmVhc29uOiByZWFzb259LCB1bmRlZmluZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBfcmVhc29uID0gYXJndW1lbnRzWzFdO1xuICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uKCkge3Rocm93IF9yZWFzb247fTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2F1Z2h0KHJlYXNvbiwgaGFuZGxlcik7XG4gICAgfVxufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2hSZXR1cm4gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHZhbHVlLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucygpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdGhlbihcbiAgICAgICAgICAgIHVuZGVmaW5lZCwgcmV0dXJuZXIsIHVuZGVmaW5lZCwge3ZhbHVlOiB2YWx1ZX0sIHVuZGVmaW5lZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIF92YWx1ZSA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgaWYgKF92YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIF92YWx1ZS5zdXBwcmVzc1VuaGFuZGxlZFJlamVjdGlvbnMoKTtcbiAgICAgICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbigpIHtyZXR1cm4gX3ZhbHVlO307XG4gICAgICAgIHJldHVybiB0aGlzLmNhdWdodCh2YWx1ZSwgaGFuZGxlcik7XG4gICAgfVxufTtcbn07XG5cbn0se31dLDExOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLCBJTlRFUk5BTCkge1xudmFyIFByb21pc2VSZWR1Y2UgPSBQcm9taXNlLnJlZHVjZTtcbnZhciBQcm9taXNlQWxsID0gUHJvbWlzZS5hbGw7XG5cbmZ1bmN0aW9uIHByb21pc2VBbGxUaGlzKCkge1xuICAgIHJldHVybiBQcm9taXNlQWxsKHRoaXMpO1xufVxuXG5mdW5jdGlvbiBQcm9taXNlTWFwU2VyaWVzKHByb21pc2VzLCBmbikge1xuICAgIHJldHVybiBQcm9taXNlUmVkdWNlKHByb21pc2VzLCBmbiwgSU5URVJOQUwsIElOVEVSTkFMKTtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUuZWFjaCA9IGZ1bmN0aW9uIChmbikge1xuICAgIHJldHVybiBQcm9taXNlUmVkdWNlKHRoaXMsIGZuLCBJTlRFUk5BTCwgMClcbiAgICAgICAgICAgICAgLl90aGVuKHByb21pc2VBbGxUaGlzLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdGhpcywgdW5kZWZpbmVkKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLm1hcFNlcmllcyA9IGZ1bmN0aW9uIChmbikge1xuICAgIHJldHVybiBQcm9taXNlUmVkdWNlKHRoaXMsIGZuLCBJTlRFUk5BTCwgSU5URVJOQUwpO1xufTtcblxuUHJvbWlzZS5lYWNoID0gZnVuY3Rpb24gKHByb21pc2VzLCBmbikge1xuICAgIHJldHVybiBQcm9taXNlUmVkdWNlKHByb21pc2VzLCBmbiwgSU5URVJOQUwsIDApXG4gICAgICAgICAgICAgIC5fdGhlbihwcm9taXNlQWxsVGhpcywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHByb21pc2VzLCB1bmRlZmluZWQpO1xufTtcblxuUHJvbWlzZS5tYXBTZXJpZXMgPSBQcm9taXNlTWFwU2VyaWVzO1xufTtcblxuXG59LHt9XSwxMjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbnZhciBlczUgPSBfZGVyZXFfKFwiLi9lczVcIik7XG52YXIgT2JqZWN0ZnJlZXplID0gZXM1LmZyZWV6ZTtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBpbmhlcml0cyA9IHV0aWwuaW5oZXJpdHM7XG52YXIgbm90RW51bWVyYWJsZVByb3AgPSB1dGlsLm5vdEVudW1lcmFibGVQcm9wO1xuXG5mdW5jdGlvbiBzdWJFcnJvcihuYW1lUHJvcGVydHksIGRlZmF1bHRNZXNzYWdlKSB7XG4gICAgZnVuY3Rpb24gU3ViRXJyb3IobWVzc2FnZSkge1xuICAgICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU3ViRXJyb3IpKSByZXR1cm4gbmV3IFN1YkVycm9yKG1lc3NhZ2UpO1xuICAgICAgICBub3RFbnVtZXJhYmxlUHJvcCh0aGlzLCBcIm1lc3NhZ2VcIixcbiAgICAgICAgICAgIHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiID8gbWVzc2FnZSA6IGRlZmF1bHRNZXNzYWdlKTtcbiAgICAgICAgbm90RW51bWVyYWJsZVByb3AodGhpcywgXCJuYW1lXCIsIG5hbWVQcm9wZXJ0eSk7XG4gICAgICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBFcnJvci5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGluaGVyaXRzKFN1YkVycm9yLCBFcnJvcik7XG4gICAgcmV0dXJuIFN1YkVycm9yO1xufVxuXG52YXIgX1R5cGVFcnJvciwgX1JhbmdlRXJyb3I7XG52YXIgV2FybmluZyA9IHN1YkVycm9yKFwiV2FybmluZ1wiLCBcIndhcm5pbmdcIik7XG52YXIgQ2FuY2VsbGF0aW9uRXJyb3IgPSBzdWJFcnJvcihcIkNhbmNlbGxhdGlvbkVycm9yXCIsIFwiY2FuY2VsbGF0aW9uIGVycm9yXCIpO1xudmFyIFRpbWVvdXRFcnJvciA9IHN1YkVycm9yKFwiVGltZW91dEVycm9yXCIsIFwidGltZW91dCBlcnJvclwiKTtcbnZhciBBZ2dyZWdhdGVFcnJvciA9IHN1YkVycm9yKFwiQWdncmVnYXRlRXJyb3JcIiwgXCJhZ2dyZWdhdGUgZXJyb3JcIik7XG50cnkge1xuICAgIF9UeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG4gICAgX1JhbmdlRXJyb3IgPSBSYW5nZUVycm9yO1xufSBjYXRjaChlKSB7XG4gICAgX1R5cGVFcnJvciA9IHN1YkVycm9yKFwiVHlwZUVycm9yXCIsIFwidHlwZSBlcnJvclwiKTtcbiAgICBfUmFuZ2VFcnJvciA9IHN1YkVycm9yKFwiUmFuZ2VFcnJvclwiLCBcInJhbmdlIGVycm9yXCIpO1xufVxuXG52YXIgbWV0aG9kcyA9IChcImpvaW4gcG9wIHB1c2ggc2hpZnQgdW5zaGlmdCBzbGljZSBmaWx0ZXIgZm9yRWFjaCBzb21lIFwiICtcbiAgICBcImV2ZXJ5IG1hcCBpbmRleE9mIGxhc3RJbmRleE9mIHJlZHVjZSByZWR1Y2VSaWdodCBzb3J0IHJldmVyc2VcIikuc3BsaXQoXCIgXCIpO1xuXG5mb3IgKHZhciBpID0gMDsgaSA8IG1ldGhvZHMubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAodHlwZW9mIEFycmF5LnByb3RvdHlwZVttZXRob2RzW2ldXSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIEFnZ3JlZ2F0ZUVycm9yLnByb3RvdHlwZVttZXRob2RzW2ldXSA9IEFycmF5LnByb3RvdHlwZVttZXRob2RzW2ldXTtcbiAgICB9XG59XG5cbmVzNS5kZWZpbmVQcm9wZXJ0eShBZ2dyZWdhdGVFcnJvci5wcm90b3R5cGUsIFwibGVuZ3RoXCIsIHtcbiAgICB2YWx1ZTogMCxcbiAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgIGVudW1lcmFibGU6IHRydWVcbn0pO1xuQWdncmVnYXRlRXJyb3IucHJvdG90eXBlW1wiaXNPcGVyYXRpb25hbFwiXSA9IHRydWU7XG52YXIgbGV2ZWwgPSAwO1xuQWdncmVnYXRlRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGluZGVudCA9IEFycmF5KGxldmVsICogNCArIDEpLmpvaW4oXCIgXCIpO1xuICAgIHZhciByZXQgPSBcIlxcblwiICsgaW5kZW50ICsgXCJBZ2dyZWdhdGVFcnJvciBvZjpcIiArIFwiXFxuXCI7XG4gICAgbGV2ZWwrKztcbiAgICBpbmRlbnQgPSBBcnJheShsZXZlbCAqIDQgKyAxKS5qb2luKFwiIFwiKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHN0ciA9IHRoaXNbaV0gPT09IHRoaXMgPyBcIltDaXJjdWxhciBBZ2dyZWdhdGVFcnJvcl1cIiA6IHRoaXNbaV0gKyBcIlwiO1xuICAgICAgICB2YXIgbGluZXMgPSBzdHIuc3BsaXQoXCJcXG5cIik7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGluZXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIGxpbmVzW2pdID0gaW5kZW50ICsgbGluZXNbal07XG4gICAgICAgIH1cbiAgICAgICAgc3RyID0gbGluZXMuam9pbihcIlxcblwiKTtcbiAgICAgICAgcmV0ICs9IHN0ciArIFwiXFxuXCI7XG4gICAgfVxuICAgIGxldmVsLS07XG4gICAgcmV0dXJuIHJldDtcbn07XG5cbmZ1bmN0aW9uIE9wZXJhdGlvbmFsRXJyb3IobWVzc2FnZSkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBPcGVyYXRpb25hbEVycm9yKSlcbiAgICAgICAgcmV0dXJuIG5ldyBPcGVyYXRpb25hbEVycm9yKG1lc3NhZ2UpO1xuICAgIG5vdEVudW1lcmFibGVQcm9wKHRoaXMsIFwibmFtZVwiLCBcIk9wZXJhdGlvbmFsRXJyb3JcIik7XG4gICAgbm90RW51bWVyYWJsZVByb3AodGhpcywgXCJtZXNzYWdlXCIsIG1lc3NhZ2UpO1xuICAgIHRoaXMuY2F1c2UgPSBtZXNzYWdlO1xuICAgIHRoaXNbXCJpc09wZXJhdGlvbmFsXCJdID0gdHJ1ZTtcblxuICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgbm90RW51bWVyYWJsZVByb3AodGhpcywgXCJtZXNzYWdlXCIsIG1lc3NhZ2UubWVzc2FnZSk7XG4gICAgICAgIG5vdEVudW1lcmFibGVQcm9wKHRoaXMsIFwic3RhY2tcIiwgbWVzc2FnZS5zdGFjayk7XG4gICAgfSBlbHNlIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTtcbiAgICB9XG5cbn1cbmluaGVyaXRzKE9wZXJhdGlvbmFsRXJyb3IsIEVycm9yKTtcblxudmFyIGVycm9yVHlwZXMgPSBFcnJvcltcIl9fQmx1ZWJpcmRFcnJvclR5cGVzX19cIl07XG5pZiAoIWVycm9yVHlwZXMpIHtcbiAgICBlcnJvclR5cGVzID0gT2JqZWN0ZnJlZXplKHtcbiAgICAgICAgQ2FuY2VsbGF0aW9uRXJyb3I6IENhbmNlbGxhdGlvbkVycm9yLFxuICAgICAgICBUaW1lb3V0RXJyb3I6IFRpbWVvdXRFcnJvcixcbiAgICAgICAgT3BlcmF0aW9uYWxFcnJvcjogT3BlcmF0aW9uYWxFcnJvcixcbiAgICAgICAgUmVqZWN0aW9uRXJyb3I6IE9wZXJhdGlvbmFsRXJyb3IsXG4gICAgICAgIEFnZ3JlZ2F0ZUVycm9yOiBBZ2dyZWdhdGVFcnJvclxuICAgIH0pO1xuICAgIGVzNS5kZWZpbmVQcm9wZXJ0eShFcnJvciwgXCJfX0JsdWViaXJkRXJyb3JUeXBlc19fXCIsIHtcbiAgICAgICAgdmFsdWU6IGVycm9yVHlwZXMsXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2VcbiAgICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgRXJyb3I6IEVycm9yLFxuICAgIFR5cGVFcnJvcjogX1R5cGVFcnJvcixcbiAgICBSYW5nZUVycm9yOiBfUmFuZ2VFcnJvcixcbiAgICBDYW5jZWxsYXRpb25FcnJvcjogZXJyb3JUeXBlcy5DYW5jZWxsYXRpb25FcnJvcixcbiAgICBPcGVyYXRpb25hbEVycm9yOiBlcnJvclR5cGVzLk9wZXJhdGlvbmFsRXJyb3IsXG4gICAgVGltZW91dEVycm9yOiBlcnJvclR5cGVzLlRpbWVvdXRFcnJvcixcbiAgICBBZ2dyZWdhdGVFcnJvcjogZXJyb3JUeXBlcy5BZ2dyZWdhdGVFcnJvcixcbiAgICBXYXJuaW5nOiBXYXJuaW5nXG59O1xuXG59LHtcIi4vZXM1XCI6MTMsXCIuL3V0aWxcIjozNn1dLDEzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciBpc0VTNSA9IChmdW5jdGlvbigpe1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIHJldHVybiB0aGlzID09PSB1bmRlZmluZWQ7XG59KSgpO1xuXG5pZiAoaXNFUzUpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgICAgZnJlZXplOiBPYmplY3QuZnJlZXplLFxuICAgICAgICBkZWZpbmVQcm9wZXJ0eTogT2JqZWN0LmRlZmluZVByb3BlcnR5LFxuICAgICAgICBnZXREZXNjcmlwdG9yOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICAgICAgICBrZXlzOiBPYmplY3Qua2V5cyxcbiAgICAgICAgbmFtZXM6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLFxuICAgICAgICBnZXRQcm90b3R5cGVPZjogT2JqZWN0LmdldFByb3RvdHlwZU9mLFxuICAgICAgICBpc0FycmF5OiBBcnJheS5pc0FycmF5LFxuICAgICAgICBpc0VTNTogaXNFUzUsXG4gICAgICAgIHByb3BlcnR5SXNXcml0YWJsZTogZnVuY3Rpb24ob2JqLCBwcm9wKSB7XG4gICAgICAgICAgICB2YXIgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBwcm9wKTtcbiAgICAgICAgICAgIHJldHVybiAhISghZGVzY3JpcHRvciB8fCBkZXNjcmlwdG9yLndyaXRhYmxlIHx8IGRlc2NyaXB0b3Iuc2V0KTtcbiAgICAgICAgfVxuICAgIH07XG59IGVsc2Uge1xuICAgIHZhciBoYXMgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbiAgICB2YXIgc3RyID0ge30udG9TdHJpbmc7XG4gICAgdmFyIHByb3RvID0ge30uY29uc3RydWN0b3IucHJvdG90eXBlO1xuXG4gICAgdmFyIE9iamVjdEtleXMgPSBmdW5jdGlvbiAobykge1xuICAgICAgICB2YXIgcmV0ID0gW107XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvKSB7XG4gICAgICAgICAgICBpZiAoaGFzLmNhbGwobywga2V5KSkge1xuICAgICAgICAgICAgICAgIHJldC5wdXNoKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuXG4gICAgdmFyIE9iamVjdEdldERlc2NyaXB0b3IgPSBmdW5jdGlvbihvLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIHt2YWx1ZTogb1trZXldfTtcbiAgICB9O1xuXG4gICAgdmFyIE9iamVjdERlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gKG8sIGtleSwgZGVzYykge1xuICAgICAgICBvW2tleV0gPSBkZXNjLnZhbHVlO1xuICAgICAgICByZXR1cm4gbztcbiAgICB9O1xuXG4gICAgdmFyIE9iamVjdEZyZWV6ZSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuXG4gICAgdmFyIE9iamVjdEdldFByb3RvdHlwZU9mID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdChvYmopLmNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIHByb3RvO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBBcnJheUlzQXJyYXkgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyLmNhbGwob2JqKSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgICAgaXNBcnJheTogQXJyYXlJc0FycmF5LFxuICAgICAgICBrZXlzOiBPYmplY3RLZXlzLFxuICAgICAgICBuYW1lczogT2JqZWN0S2V5cyxcbiAgICAgICAgZGVmaW5lUHJvcGVydHk6IE9iamVjdERlZmluZVByb3BlcnR5LFxuICAgICAgICBnZXREZXNjcmlwdG9yOiBPYmplY3RHZXREZXNjcmlwdG9yLFxuICAgICAgICBmcmVlemU6IE9iamVjdEZyZWV6ZSxcbiAgICAgICAgZ2V0UHJvdG90eXBlT2Y6IE9iamVjdEdldFByb3RvdHlwZU9mLFxuICAgICAgICBpc0VTNTogaXNFUzUsXG4gICAgICAgIHByb3BlcnR5SXNXcml0YWJsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbn0se31dLDE0OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLCBJTlRFUk5BTCkge1xudmFyIFByb21pc2VNYXAgPSBQcm9taXNlLm1hcDtcblxuUHJvbWlzZS5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24gKGZuLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIFByb21pc2VNYXAodGhpcywgZm4sIG9wdGlvbnMsIElOVEVSTkFMKTtcbn07XG5cblByb21pc2UuZmlsdGVyID0gZnVuY3Rpb24gKHByb21pc2VzLCBmbiwgb3B0aW9ucykge1xuICAgIHJldHVybiBQcm9taXNlTWFwKHByb21pc2VzLCBmbiwgb3B0aW9ucywgSU5URVJOQUwpO1xufTtcbn07XG5cbn0se31dLDE1OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLCB0cnlDb252ZXJ0VG9Qcm9taXNlKSB7XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgQ2FuY2VsbGF0aW9uRXJyb3IgPSBQcm9taXNlLkNhbmNlbGxhdGlvbkVycm9yO1xudmFyIGVycm9yT2JqID0gdXRpbC5lcnJvck9iajtcblxuZnVuY3Rpb24gUGFzc1Rocm91Z2hIYW5kbGVyQ29udGV4dChwcm9taXNlLCB0eXBlLCBoYW5kbGVyKSB7XG4gICAgdGhpcy5wcm9taXNlID0gcHJvbWlzZTtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMuaGFuZGxlciA9IGhhbmRsZXI7XG4gICAgdGhpcy5jYWxsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmNhbmNlbFByb21pc2UgPSBudWxsO1xufVxuXG5QYXNzVGhyb3VnaEhhbmRsZXJDb250ZXh0LnByb3RvdHlwZS5pc0ZpbmFsbHlIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gMDtcbn07XG5cbmZ1bmN0aW9uIEZpbmFsbHlIYW5kbGVyQ2FuY2VsUmVhY3Rpb24oZmluYWxseUhhbmRsZXIpIHtcbiAgICB0aGlzLmZpbmFsbHlIYW5kbGVyID0gZmluYWxseUhhbmRsZXI7XG59XG5cbkZpbmFsbHlIYW5kbGVyQ2FuY2VsUmVhY3Rpb24ucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcbiAgICBjaGVja0NhbmNlbCh0aGlzLmZpbmFsbHlIYW5kbGVyKTtcbn07XG5cbmZ1bmN0aW9uIGNoZWNrQ2FuY2VsKGN0eCwgcmVhc29uKSB7XG4gICAgaWYgKGN0eC5jYW5jZWxQcm9taXNlICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBjdHguY2FuY2VsUHJvbWlzZS5fcmVqZWN0KHJlYXNvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdHguY2FuY2VsUHJvbWlzZS5fY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmNhbmNlbFByb21pc2UgPSBudWxsO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBzdWNjZWVkKCkge1xuICAgIHJldHVybiBmaW5hbGx5SGFuZGxlci5jYWxsKHRoaXMsIHRoaXMucHJvbWlzZS5fdGFyZ2V0KCkuX3NldHRsZWRWYWx1ZSgpKTtcbn1cbmZ1bmN0aW9uIGZhaWwocmVhc29uKSB7XG4gICAgaWYgKGNoZWNrQ2FuY2VsKHRoaXMsIHJlYXNvbikpIHJldHVybjtcbiAgICBlcnJvck9iai5lID0gcmVhc29uO1xuICAgIHJldHVybiBlcnJvck9iajtcbn1cbmZ1bmN0aW9uIGZpbmFsbHlIYW5kbGVyKHJlYXNvbk9yVmFsdWUpIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXMucHJvbWlzZTtcbiAgICB2YXIgaGFuZGxlciA9IHRoaXMuaGFuZGxlcjtcblxuICAgIGlmICghdGhpcy5jYWxsZWQpIHtcbiAgICAgICAgdGhpcy5jYWxsZWQgPSB0cnVlO1xuICAgICAgICB2YXIgcmV0ID0gdGhpcy5pc0ZpbmFsbHlIYW5kbGVyKClcbiAgICAgICAgICAgID8gaGFuZGxlci5jYWxsKHByb21pc2UuX2JvdW5kVmFsdWUoKSlcbiAgICAgICAgICAgIDogaGFuZGxlci5jYWxsKHByb21pc2UuX2JvdW5kVmFsdWUoKSwgcmVhc29uT3JWYWx1ZSk7XG4gICAgICAgIGlmIChyZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcHJvbWlzZS5fc2V0UmV0dXJuZWROb25VbmRlZmluZWQoKTtcbiAgICAgICAgICAgIHZhciBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHJldCwgcHJvbWlzZSk7XG4gICAgICAgICAgICBpZiAobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbmNlbFByb21pc2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF5YmVQcm9taXNlLl9pc0NhbmNlbGxlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVhc29uID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQ2FuY2VsbGF0aW9uRXJyb3IoXCJsYXRlIGNhbmNlbGxhdGlvbiBvYnNlcnZlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2UuX2F0dGFjaEV4dHJhVHJhY2UocmVhc29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yT2JqLmUgPSByZWFzb247XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3JPYmo7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWF5YmVQcm9taXNlLmlzUGVuZGluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXliZVByb21pc2UuX2F0dGFjaENhbmNlbGxhdGlvbkNhbGxiYWNrKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBGaW5hbGx5SGFuZGxlckNhbmNlbFJlYWN0aW9uKHRoaXMpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbWF5YmVQcm9taXNlLl90aGVuKFxuICAgICAgICAgICAgICAgICAgICBzdWNjZWVkLCBmYWlsLCB1bmRlZmluZWQsIHRoaXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocHJvbWlzZS5pc1JlamVjdGVkKCkpIHtcbiAgICAgICAgY2hlY2tDYW5jZWwodGhpcyk7XG4gICAgICAgIGVycm9yT2JqLmUgPSByZWFzb25PclZhbHVlO1xuICAgICAgICByZXR1cm4gZXJyb3JPYmo7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY2hlY2tDYW5jZWwodGhpcyk7XG4gICAgICAgIHJldHVybiByZWFzb25PclZhbHVlO1xuICAgIH1cbn1cblxuUHJvbWlzZS5wcm90b3R5cGUuX3Bhc3NUaHJvdWdoID0gZnVuY3Rpb24oaGFuZGxlciwgdHlwZSwgc3VjY2VzcywgZmFpbCkge1xuICAgIGlmICh0eXBlb2YgaGFuZGxlciAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdGhpcy50aGVuKCk7XG4gICAgcmV0dXJuIHRoaXMuX3RoZW4oc3VjY2VzcyxcbiAgICAgICAgICAgICAgICAgICAgICBmYWlsLFxuICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICBuZXcgUGFzc1Rocm91Z2hIYW5kbGVyQ29udGV4dCh0aGlzLCB0eXBlLCBoYW5kbGVyKSxcbiAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUubGFzdGx5ID1cblByb21pc2UucHJvdG90eXBlW1wiZmluYWxseVwiXSA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Bhc3NUaHJvdWdoKGhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHlIYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbGx5SGFuZGxlcik7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS50YXAgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgIHJldHVybiB0aGlzLl9wYXNzVGhyb3VnaChoYW5kbGVyLCAxLCBmaW5hbGx5SGFuZGxlcik7XG59O1xuXG5yZXR1cm4gUGFzc1Rocm91Z2hIYW5kbGVyQ29udGV4dDtcbn07XG5cbn0se1wiLi91dGlsXCI6MzZ9XSwxNjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpUmVqZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBJTlRFUk5BTCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5Q29udmVydFRvUHJvbWlzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgUHJveHlhYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkZWJ1Zykge1xudmFyIGVycm9ycyA9IF9kZXJlcV8oXCIuL2Vycm9yc1wiKTtcbnZhciBUeXBlRXJyb3IgPSBlcnJvcnMuVHlwZUVycm9yO1xudmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xudmFyIGVycm9yT2JqID0gdXRpbC5lcnJvck9iajtcbnZhciB0cnlDYXRjaCA9IHV0aWwudHJ5Q2F0Y2g7XG52YXIgeWllbGRIYW5kbGVycyA9IFtdO1xuXG5mdW5jdGlvbiBwcm9taXNlRnJvbVlpZWxkSGFuZGxlcih2YWx1ZSwgeWllbGRIYW5kbGVycywgdHJhY2VQYXJlbnQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHlpZWxkSGFuZGxlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdHJhY2VQYXJlbnQuX3B1c2hDb250ZXh0KCk7XG4gICAgICAgIHZhciByZXN1bHQgPSB0cnlDYXRjaCh5aWVsZEhhbmRsZXJzW2ldKSh2YWx1ZSk7XG4gICAgICAgIHRyYWNlUGFyZW50Ll9wb3BDb250ZXh0KCk7XG4gICAgICAgIGlmIChyZXN1bHQgPT09IGVycm9yT2JqKSB7XG4gICAgICAgICAgICB0cmFjZVBhcmVudC5fcHVzaENvbnRleHQoKTtcbiAgICAgICAgICAgIHZhciByZXQgPSBQcm9taXNlLnJlamVjdChlcnJvck9iai5lKTtcbiAgICAgICAgICAgIHRyYWNlUGFyZW50Ll9wb3BDb250ZXh0KCk7XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHJlc3VsdCwgdHJhY2VQYXJlbnQpO1xuICAgICAgICBpZiAobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkgcmV0dXJuIG1heWJlUHJvbWlzZTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIFByb21pc2VTcGF3bihnZW5lcmF0b3JGdW5jdGlvbiwgcmVjZWl2ZXIsIHlpZWxkSGFuZGxlciwgc3RhY2spIHtcbiAgICBpZiAoZGVidWcuY2FuY2VsbGF0aW9uKCkpIHtcbiAgICAgICAgdmFyIGludGVybmFsID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgICAgICB2YXIgX2ZpbmFsbHlQcm9taXNlID0gdGhpcy5fZmluYWxseVByb21pc2UgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG4gICAgICAgIHRoaXMuX3Byb21pc2UgPSBpbnRlcm5hbC5sYXN0bHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gX2ZpbmFsbHlQcm9taXNlO1xuICAgICAgICB9KTtcbiAgICAgICAgaW50ZXJuYWwuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG4gICAgICAgIGludGVybmFsLl9zZXRPbkNhbmNlbCh0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuX3Byb21pc2UgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG4gICAgICAgIHByb21pc2UuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG4gICAgfVxuICAgIHRoaXMuX3N0YWNrID0gc3RhY2s7XG4gICAgdGhpcy5fZ2VuZXJhdG9yRnVuY3Rpb24gPSBnZW5lcmF0b3JGdW5jdGlvbjtcbiAgICB0aGlzLl9yZWNlaXZlciA9IHJlY2VpdmVyO1xuICAgIHRoaXMuX2dlbmVyYXRvciA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl95aWVsZEhhbmRsZXJzID0gdHlwZW9mIHlpZWxkSGFuZGxlciA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgID8gW3lpZWxkSGFuZGxlcl0uY29uY2F0KHlpZWxkSGFuZGxlcnMpXG4gICAgICAgIDogeWllbGRIYW5kbGVycztcbiAgICB0aGlzLl95aWVsZGVkUHJvbWlzZSA9IG51bGw7XG4gICAgdGhpcy5fY2FuY2VsbGF0aW9uUGhhc2UgPSBmYWxzZTtcbn1cbnV0aWwuaW5oZXJpdHMoUHJvbWlzZVNwYXduLCBQcm94eWFibGUpO1xuXG5Qcm9taXNlU3Bhd24ucHJvdG90eXBlLl9pc1Jlc29sdmVkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Byb21pc2UgPT09IG51bGw7XG59O1xuXG5Qcm9taXNlU3Bhd24ucHJvdG90eXBlLl9jbGVhbnVwID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fcHJvbWlzZSA9IHRoaXMuX2dlbmVyYXRvciA9IG51bGw7XG4gICAgaWYgKGRlYnVnLmNhbmNlbGxhdGlvbigpICYmIHRoaXMuX2ZpbmFsbHlQcm9taXNlICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX2ZpbmFsbHlQcm9taXNlLl9mdWxmaWxsKCk7XG4gICAgICAgIHRoaXMuX2ZpbmFsbHlQcm9taXNlID0gbnVsbDtcbiAgICB9XG59O1xuXG5Qcm9taXNlU3Bhd24ucHJvdG90eXBlLl9wcm9taXNlQ2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX2lzUmVzb2x2ZWQoKSkgcmV0dXJuO1xuICAgIHZhciBpbXBsZW1lbnRzUmV0dXJuID0gdHlwZW9mIHRoaXMuX2dlbmVyYXRvcltcInJldHVyblwiXSAhPT0gXCJ1bmRlZmluZWRcIjtcblxuICAgIHZhciByZXN1bHQ7XG4gICAgaWYgKCFpbXBsZW1lbnRzUmV0dXJuKSB7XG4gICAgICAgIHZhciByZWFzb24gPSBuZXcgUHJvbWlzZS5DYW5jZWxsYXRpb25FcnJvcihcbiAgICAgICAgICAgIFwiZ2VuZXJhdG9yIC5yZXR1cm4oKSBzZW50aW5lbFwiKTtcbiAgICAgICAgUHJvbWlzZS5jb3JvdXRpbmUucmV0dXJuU2VudGluZWwgPSByZWFzb247XG4gICAgICAgIHRoaXMuX3Byb21pc2UuX2F0dGFjaEV4dHJhVHJhY2UocmVhc29uKTtcbiAgICAgICAgdGhpcy5fcHJvbWlzZS5fcHVzaENvbnRleHQoKTtcbiAgICAgICAgcmVzdWx0ID0gdHJ5Q2F0Y2godGhpcy5fZ2VuZXJhdG9yW1widGhyb3dcIl0pLmNhbGwodGhpcy5fZ2VuZXJhdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uKTtcbiAgICAgICAgdGhpcy5fcHJvbWlzZS5fcG9wQ29udGV4dCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3Byb21pc2UuX3B1c2hDb250ZXh0KCk7XG4gICAgICAgIHJlc3VsdCA9IHRyeUNhdGNoKHRoaXMuX2dlbmVyYXRvcltcInJldHVyblwiXSkuY2FsbCh0aGlzLl9nZW5lcmF0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkKTtcbiAgICAgICAgdGhpcy5fcHJvbWlzZS5fcG9wQ29udGV4dCgpO1xuICAgIH1cbiAgICB0aGlzLl9jYW5jZWxsYXRpb25QaGFzZSA9IHRydWU7XG4gICAgdGhpcy5feWllbGRlZFByb21pc2UgPSBudWxsO1xuICAgIHRoaXMuX2NvbnRpbnVlKHJlc3VsdCk7XG59O1xuXG5Qcm9taXNlU3Bhd24ucHJvdG90eXBlLl9wcm9taXNlRnVsZmlsbGVkID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB0aGlzLl95aWVsZGVkUHJvbWlzZSA9IG51bGw7XG4gICAgdGhpcy5fcHJvbWlzZS5fcHVzaENvbnRleHQoKTtcbiAgICB2YXIgcmVzdWx0ID0gdHJ5Q2F0Y2godGhpcy5fZ2VuZXJhdG9yLm5leHQpLmNhbGwodGhpcy5fZ2VuZXJhdG9yLCB2YWx1ZSk7XG4gICAgdGhpcy5fcHJvbWlzZS5fcG9wQ29udGV4dCgpO1xuICAgIHRoaXMuX2NvbnRpbnVlKHJlc3VsdCk7XG59O1xuXG5Qcm9taXNlU3Bhd24ucHJvdG90eXBlLl9wcm9taXNlUmVqZWN0ZWQgPSBmdW5jdGlvbihyZWFzb24pIHtcbiAgICB0aGlzLl95aWVsZGVkUHJvbWlzZSA9IG51bGw7XG4gICAgdGhpcy5fcHJvbWlzZS5fYXR0YWNoRXh0cmFUcmFjZShyZWFzb24pO1xuICAgIHRoaXMuX3Byb21pc2UuX3B1c2hDb250ZXh0KCk7XG4gICAgdmFyIHJlc3VsdCA9IHRyeUNhdGNoKHRoaXMuX2dlbmVyYXRvcltcInRocm93XCJdKVxuICAgICAgICAuY2FsbCh0aGlzLl9nZW5lcmF0b3IsIHJlYXNvbik7XG4gICAgdGhpcy5fcHJvbWlzZS5fcG9wQ29udGV4dCgpO1xuICAgIHRoaXMuX2NvbnRpbnVlKHJlc3VsdCk7XG59O1xuXG5Qcm9taXNlU3Bhd24ucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5feWllbGRlZFByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5feWllbGRlZFByb21pc2U7XG4gICAgICAgIHRoaXMuX3lpZWxkZWRQcm9taXNlID0gbnVsbDtcbiAgICAgICAgcHJvbWlzZS5jYW5jZWwoKTtcbiAgICB9XG59O1xuXG5Qcm9taXNlU3Bhd24ucHJvdG90eXBlLnByb21pc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Byb21pc2U7XG59O1xuXG5Qcm9taXNlU3Bhd24ucHJvdG90eXBlLl9ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fZ2VuZXJhdG9yID0gdGhpcy5fZ2VuZXJhdG9yRnVuY3Rpb24uY2FsbCh0aGlzLl9yZWNlaXZlcik7XG4gICAgdGhpcy5fcmVjZWl2ZXIgPVxuICAgICAgICB0aGlzLl9nZW5lcmF0b3JGdW5jdGlvbiA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9wcm9taXNlRnVsZmlsbGVkKHVuZGVmaW5lZCk7XG59O1xuXG5Qcm9taXNlU3Bhd24ucHJvdG90eXBlLl9jb250aW51ZSA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXMuX3Byb21pc2U7XG4gICAgaWYgKHJlc3VsdCA9PT0gZXJyb3JPYmopIHtcbiAgICAgICAgdGhpcy5fY2xlYW51cCgpO1xuICAgICAgICBpZiAodGhpcy5fY2FuY2VsbGF0aW9uUGhhc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlLmNhbmNlbCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2UuX3JlamVjdENhbGxiYWNrKHJlc3VsdC5lLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgaWYgKHJlc3VsdC5kb25lID09PSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX2NsZWFudXAoKTtcbiAgICAgICAgaWYgKHRoaXMuX2NhbmNlbGxhdGlvblBoYXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZS5jYW5jZWwoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlLl9yZXNvbHZlQ2FsbGJhY2sodmFsdWUpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG1heWJlUHJvbWlzZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UodmFsdWUsIHRoaXMuX3Byb21pc2UpO1xuICAgICAgICBpZiAoIShtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSkge1xuICAgICAgICAgICAgbWF5YmVQcm9taXNlID1cbiAgICAgICAgICAgICAgICBwcm9taXNlRnJvbVlpZWxkSGFuZGxlcihtYXliZVByb21pc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5feWllbGRIYW5kbGVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcm9taXNlKTtcbiAgICAgICAgICAgIGlmIChtYXliZVByb21pc2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9taXNlUmVqZWN0ZWQoXG4gICAgICAgICAgICAgICAgICAgIG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkEgdmFsdWUgJXMgd2FzIHlpZWxkZWQgdGhhdCBjb3VsZCBub3QgYmUgdHJlYXRlZCBhcyBhIHByb21pc2VcXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXFx1MDAwYVwiLnJlcGxhY2UoXCIlc1wiLCB2YWx1ZSkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJGcm9tIGNvcm91dGluZTpcXHUwMDBhXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhY2suc3BsaXQoXCJcXG5cIikuc2xpY2UoMSwgLTcpLmpvaW4oXCJcXG5cIilcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1heWJlUHJvbWlzZSA9IG1heWJlUHJvbWlzZS5fdGFyZ2V0KCk7XG4gICAgICAgIHZhciBiaXRGaWVsZCA9IG1heWJlUHJvbWlzZS5fYml0RmllbGQ7XG4gICAgICAgIDtcbiAgICAgICAgaWYgKCgoYml0RmllbGQgJiA1MDM5NzE4NCkgPT09IDApKSB7XG4gICAgICAgICAgICB0aGlzLl95aWVsZGVkUHJvbWlzZSA9IG1heWJlUHJvbWlzZTtcbiAgICAgICAgICAgIG1heWJlUHJvbWlzZS5fcHJveHkodGhpcywgbnVsbCk7XG4gICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcbiAgICAgICAgICAgIFByb21pc2UuX2FzeW5jLmludm9rZShcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9taXNlRnVsZmlsbGVkLCB0aGlzLCBtYXliZVByb21pc2UuX3ZhbHVlKClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDE2Nzc3MjE2KSAhPT0gMCkpIHtcbiAgICAgICAgICAgIFByb21pc2UuX2FzeW5jLmludm9rZShcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9taXNlUmVqZWN0ZWQsIHRoaXMsIG1heWJlUHJvbWlzZS5fcmVhc29uKClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9taXNlQ2FuY2VsbGVkKCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5Qcm9taXNlLmNvcm91dGluZSA9IGZ1bmN0aW9uIChnZW5lcmF0b3JGdW5jdGlvbiwgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2YgZ2VuZXJhdG9yRnVuY3Rpb24gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiZ2VuZXJhdG9yRnVuY3Rpb24gbXVzdCBiZSBhIGZ1bmN0aW9uXFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcbiAgICB9XG4gICAgdmFyIHlpZWxkSGFuZGxlciA9IE9iamVjdChvcHRpb25zKS55aWVsZEhhbmRsZXI7XG4gICAgdmFyIFByb21pc2VTcGF3biQgPSBQcm9taXNlU3Bhd247XG4gICAgdmFyIHN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdlbmVyYXRvciA9IGdlbmVyYXRvckZ1bmN0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIHZhciBzcGF3biA9IG5ldyBQcm9taXNlU3Bhd24kKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB5aWVsZEhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrKTtcbiAgICAgICAgdmFyIHJldCA9IHNwYXduLnByb21pc2UoKTtcbiAgICAgICAgc3Bhd24uX2dlbmVyYXRvciA9IGdlbmVyYXRvcjtcbiAgICAgICAgc3Bhd24uX3Byb21pc2VGdWxmaWxsZWQodW5kZWZpbmVkKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xufTtcblxuUHJvbWlzZS5jb3JvdXRpbmUuYWRkWWllbGRIYW5kbGVyID0gZnVuY3Rpb24oZm4pIHtcbiAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKGZuKSk7XG4gICAgfVxuICAgIHlpZWxkSGFuZGxlcnMucHVzaChmbik7XG59O1xuXG5Qcm9taXNlLnNwYXduID0gZnVuY3Rpb24gKGdlbmVyYXRvckZ1bmN0aW9uKSB7XG4gICAgZGVidWcuZGVwcmVjYXRlZChcIlByb21pc2Uuc3Bhd24oKVwiLCBcIlByb21pc2UuY29yb3V0aW5lKClcIik7XG4gICAgaWYgKHR5cGVvZiBnZW5lcmF0b3JGdW5jdGlvbiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBhcGlSZWplY3Rpb24oXCJnZW5lcmF0b3JGdW5jdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb25cXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuICAgIH1cbiAgICB2YXIgc3Bhd24gPSBuZXcgUHJvbWlzZVNwYXduKGdlbmVyYXRvckZ1bmN0aW9uLCB0aGlzKTtcbiAgICB2YXIgcmV0ID0gc3Bhd24ucHJvbWlzZSgpO1xuICAgIHNwYXduLl9ydW4oUHJvbWlzZS5zcGF3bik7XG4gICAgcmV0dXJuIHJldDtcbn07XG59O1xuXG59LHtcIi4vZXJyb3JzXCI6MTIsXCIuL3V0aWxcIjozNn1dLDE3OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPVxuZnVuY3Rpb24oUHJvbWlzZSwgUHJvbWlzZUFycmF5LCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBJTlRFUk5BTCwgYXN5bmMsXG4gICAgICAgICBnZXREb21haW4pIHtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBjYW5FdmFsdWF0ZSA9IHV0aWwuY2FuRXZhbHVhdGU7XG52YXIgdHJ5Q2F0Y2ggPSB1dGlsLnRyeUNhdGNoO1xudmFyIGVycm9yT2JqID0gdXRpbC5lcnJvck9iajtcbnZhciByZWplY3Q7XG5cbmlmICghdHJ1ZSkge1xuaWYgKGNhbkV2YWx1YXRlKSB7XG4gICAgdmFyIHRoZW5DYWxsYmFjayA9IGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbihcInZhbHVlXCIsIFwiaG9sZGVyXCIsIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgJ3VzZSBzdHJpY3QnOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgaG9sZGVyLnBJbmRleCA9IHZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgaG9sZGVyLmNoZWNrRnVsZmlsbG1lbnQodGhpcyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgXCIucmVwbGFjZSgvSW5kZXgvZywgaSkpO1xuICAgIH07XG5cbiAgICB2YXIgcHJvbWlzZVNldHRlciA9IGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbihcInByb21pc2VcIiwgXCJob2xkZXJcIiwgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgJ3VzZSBzdHJpY3QnOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgaG9sZGVyLnBJbmRleCA9IHByb21pc2U7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgXCIucmVwbGFjZSgvSW5kZXgvZywgaSkpO1xuICAgIH07XG5cbiAgICB2YXIgZ2VuZXJhdGVIb2xkZXJDbGFzcyA9IGZ1bmN0aW9uKHRvdGFsKSB7XG4gICAgICAgIHZhciBwcm9wcyA9IG5ldyBBcnJheSh0b3RhbCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHByb3BzW2ldID0gXCJ0aGlzLnBcIiArIChpKzEpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhc3NpZ25tZW50ID0gcHJvcHMuam9pbihcIiA9IFwiKSArIFwiID0gbnVsbDtcIjtcbiAgICAgICAgdmFyIGNhbmNlbGxhdGlvbkNvZGU9IFwidmFyIHByb21pc2U7XFxuXCIgKyBwcm9wcy5tYXAoZnVuY3Rpb24ocHJvcCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgICAgICBwcm9taXNlID0gXCIgKyBwcm9wICsgXCI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIGlmIChwcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlLmNhbmNlbCgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgXCI7XG4gICAgICAgIH0pLmpvaW4oXCJcXG5cIik7XG4gICAgICAgIHZhciBwYXNzZWRBcmd1bWVudHMgPSBwcm9wcy5qb2luKFwiLCBcIik7XG4gICAgICAgIHZhciBuYW1lID0gXCJIb2xkZXIkXCIgKyB0b3RhbDtcblxuXG4gICAgICAgIHZhciBjb2RlID0gXCJyZXR1cm4gZnVuY3Rpb24odHJ5Q2F0Y2gsIGVycm9yT2JqLCBQcm9taXNlLCBhc3luYykgeyAgICBcXG5cXFxuICAgICAgICAgICAgJ3VzZSBzdHJpY3QnOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgZnVuY3Rpb24gW1RoZU5hbWVdKGZuKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIFtUaGVQcm9wZXJ0aWVzXSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIHRoaXMuZm4gPSBmbjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIHRoaXMuYXN5bmNOZWVkZWQgPSB0cnVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIHRoaXMubm93ID0gMDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgW1RoZU5hbWVdLnByb3RvdHlwZS5fY2FsbEZ1bmN0aW9uID0gZnVuY3Rpb24ocHJvbWlzZSkgeyAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIHByb21pc2UuX3B1c2hDb250ZXh0KCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIHZhciByZXQgPSB0cnlDYXRjaCh0aGlzLmZuKShbVGhlUGFzc2VkQXJndW1lbnRzXSk7ICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIHByb21pc2UuX3BvcENvbnRleHQoKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIGlmIChyZXQgPT09IGVycm9yT2JqKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlLl9yZWplY3RDYWxsYmFjayhyZXQuZSwgZmFsc2UpOyAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlLl9yZXNvbHZlQ2FsbGJhY2socmV0KTsgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgfTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgW1RoZU5hbWVdLnByb3RvdHlwZS5jaGVja0Z1bGZpbGxtZW50ID0gZnVuY3Rpb24ocHJvbWlzZSkgeyAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIHZhciBub3cgPSArK3RoaXMubm93OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIGlmIChub3cgPT09IFtUaGVUb3RhbF0pIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hc3luY05lZWRlZCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmMuaW52b2tlKHRoaXMuX2NhbGxGdW5jdGlvbiwgdGhpcywgcHJvbWlzZSk7ICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FsbEZ1bmN0aW9uKHByb21pc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgfTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgW1RoZU5hbWVdLnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7ICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIFtDYW5jZWxsYXRpb25Db2RlXSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgfTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgcmV0dXJuIFtUaGVOYW1lXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICB9KHRyeUNhdGNoLCBlcnJvck9iaiwgUHJvbWlzZSwgYXN5bmMpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICBcIjtcblxuICAgICAgICBjb2RlID0gY29kZS5yZXBsYWNlKC9cXFtUaGVOYW1lXFxdL2csIG5hbWUpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxbVGhlVG90YWxcXF0vZywgdG90YWwpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxbVGhlUGFzc2VkQXJndW1lbnRzXFxdL2csIHBhc3NlZEFyZ3VtZW50cylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXFtUaGVQcm9wZXJ0aWVzXFxdL2csIGFzc2lnbm1lbnQpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxbQ2FuY2VsbGF0aW9uQ29kZVxcXS9nLCBjYW5jZWxsYXRpb25Db2RlKTtcblxuICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKFwidHJ5Q2F0Y2hcIiwgXCJlcnJvck9ialwiLCBcIlByb21pc2VcIiwgXCJhc3luY1wiLCBjb2RlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRyeUNhdGNoLCBlcnJvck9iaiwgUHJvbWlzZSwgYXN5bmMpO1xuICAgIH07XG5cbiAgICB2YXIgaG9sZGVyQ2xhc3NlcyA9IFtdO1xuICAgIHZhciB0aGVuQ2FsbGJhY2tzID0gW107XG4gICAgdmFyIHByb21pc2VTZXR0ZXJzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDg7ICsraSkge1xuICAgICAgICBob2xkZXJDbGFzc2VzLnB1c2goZ2VuZXJhdGVIb2xkZXJDbGFzcyhpICsgMSkpO1xuICAgICAgICB0aGVuQ2FsbGJhY2tzLnB1c2godGhlbkNhbGxiYWNrKGkgKyAxKSk7XG4gICAgICAgIHByb21pc2VTZXR0ZXJzLnB1c2gocHJvbWlzZVNldHRlcihpICsgMSkpO1xuICAgIH1cblxuICAgIHJlamVjdCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgdGhpcy5fcmVqZWN0KHJlYXNvbik7XG4gICAgfTtcbn19XG5cblByb21pc2Uuam9pbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbGFzdCA9IGFyZ3VtZW50cy5sZW5ndGggLSAxO1xuICAgIHZhciBmbjtcbiAgICBpZiAobGFzdCA+IDAgJiYgdHlwZW9mIGFyZ3VtZW50c1tsYXN0XSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGZuID0gYXJndW1lbnRzW2xhc3RdO1xuICAgICAgICBpZiAoIXRydWUpIHtcbiAgICAgICAgICAgIGlmIChsYXN0IDw9IDggJiYgY2FuRXZhbHVhdGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgICAgICAgICAgICAgIHJldC5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgICAgICB2YXIgSG9sZGVyQ2xhc3MgPSBob2xkZXJDbGFzc2VzW2xhc3QgLSAxXTtcbiAgICAgICAgICAgICAgICB2YXIgaG9sZGVyID0gbmV3IEhvbGRlckNsYXNzKGZuKTtcbiAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2tzID0gdGhlbkNhbGxiYWNrcztcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKGFyZ3VtZW50c1tpXSwgcmV0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1heWJlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlUHJvbWlzZSA9IG1heWJlUHJvbWlzZS5fdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYml0RmllbGQgPSBtYXliZVByb21pc2UuX2JpdEZpZWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgoYml0RmllbGQgJiA1MDM5NzE4NCkgPT09IDApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlLl90aGVuKGNhbGxiYWNrc1tpXSwgcmVqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsIHJldCwgaG9sZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlU2V0dGVyc1tpXShtYXliZVByb21pc2UsIGhvbGRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9sZGVyLmFzeW5jTmVlZGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCgoYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzW2ldLmNhbGwocmV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlUHJvbWlzZS5fdmFsdWUoKSwgaG9sZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDE2Nzc3MjE2KSAhPT0gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXQuX3JlamVjdChtYXliZVByb21pc2UuX3JlYXNvbigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0Ll9jYW5jZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc1tpXS5jYWxsKHJldCwgbWF5YmVQcm9taXNlLCBob2xkZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFyZXQuX2lzRmF0ZVNlYWxlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChob2xkZXIuYXN5bmNOZWVkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkb21haW4gPSBnZXREb21haW4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb21haW4gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2xkZXIuZm4gPSB1dGlsLmRvbWFpbkJpbmQoZG9tYWluLCBob2xkZXIuZm4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldC5fc2V0QXN5bmNHdWFyYW50ZWVkKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldC5fc2V0T25DYW5jZWwoaG9sZGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTs7XG4gICAgaWYgKGZuKSBhcmdzLnBvcCgpO1xuICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZUFycmF5KGFyZ3MpLnByb21pc2UoKTtcbiAgICByZXR1cm4gZm4gIT09IHVuZGVmaW5lZCA/IHJldC5zcHJlYWQoZm4pIDogcmV0O1xufTtcblxufTtcblxufSx7XCIuL3V0aWxcIjozNn1dLDE4OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9taXNlQXJyYXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFwaVJlamVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5Q29udmVydFRvUHJvbWlzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgSU5URVJOQUwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKSB7XG52YXIgZ2V0RG9tYWluID0gUHJvbWlzZS5fZ2V0RG9tYWluO1xudmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xudmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcbnZhciBlcnJvck9iaiA9IHV0aWwuZXJyb3JPYmo7XG52YXIgYXN5bmMgPSBQcm9taXNlLl9hc3luYztcblxuZnVuY3Rpb24gTWFwcGluZ1Byb21pc2VBcnJheShwcm9taXNlcywgZm4sIGxpbWl0LCBfZmlsdGVyKSB7XG4gICAgdGhpcy5jb25zdHJ1Y3RvciQocHJvbWlzZXMpO1xuICAgIHRoaXMuX3Byb21pc2UuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG4gICAgdmFyIGRvbWFpbiA9IGdldERvbWFpbigpO1xuICAgIHRoaXMuX2NhbGxiYWNrID0gZG9tYWluID09PSBudWxsID8gZm4gOiB1dGlsLmRvbWFpbkJpbmQoZG9tYWluLCBmbik7XG4gICAgdGhpcy5fcHJlc2VydmVkVmFsdWVzID0gX2ZpbHRlciA9PT0gSU5URVJOQUxcbiAgICAgICAgPyBuZXcgQXJyYXkodGhpcy5sZW5ndGgoKSlcbiAgICAgICAgOiBudWxsO1xuICAgIHRoaXMuX2xpbWl0ID0gbGltaXQ7XG4gICAgdGhpcy5faW5GbGlnaHQgPSAwO1xuICAgIHRoaXMuX3F1ZXVlID0gW107XG4gICAgYXN5bmMuaW52b2tlKHRoaXMuX2FzeW5jSW5pdCwgdGhpcywgdW5kZWZpbmVkKTtcbn1cbnV0aWwuaW5oZXJpdHMoTWFwcGluZ1Byb21pc2VBcnJheSwgUHJvbWlzZUFycmF5KTtcblxuTWFwcGluZ1Byb21pc2VBcnJheS5wcm90b3R5cGUuX2FzeW5jSW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2luaXQkKHVuZGVmaW5lZCwgLTIpO1xufTtcblxuTWFwcGluZ1Byb21pc2VBcnJheS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAoKSB7fTtcblxuTWFwcGluZ1Byb21pc2VBcnJheS5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQgPSBmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG4gICAgdmFyIHZhbHVlcyA9IHRoaXMuX3ZhbHVlcztcbiAgICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGgoKTtcbiAgICB2YXIgcHJlc2VydmVkVmFsdWVzID0gdGhpcy5fcHJlc2VydmVkVmFsdWVzO1xuICAgIHZhciBsaW1pdCA9IHRoaXMuX2xpbWl0O1xuXG4gICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICBpbmRleCA9IChpbmRleCAqIC0xKSAtIDE7XG4gICAgICAgIHZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgaWYgKGxpbWl0ID49IDEpIHtcbiAgICAgICAgICAgIHRoaXMuX2luRmxpZ2h0LS07XG4gICAgICAgICAgICB0aGlzLl9kcmFpblF1ZXVlKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNSZXNvbHZlZCgpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChsaW1pdCA+PSAxICYmIHRoaXMuX2luRmxpZ2h0ID49IGxpbWl0KSB7XG4gICAgICAgICAgICB2YWx1ZXNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9xdWV1ZS5wdXNoKGluZGV4KTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJlc2VydmVkVmFsdWVzICE9PSBudWxsKSBwcmVzZXJ2ZWRWYWx1ZXNbaW5kZXhdID0gdmFsdWU7XG5cbiAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLl9wcm9taXNlO1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSB0aGlzLl9jYWxsYmFjaztcbiAgICAgICAgdmFyIHJlY2VpdmVyID0gcHJvbWlzZS5fYm91bmRWYWx1ZSgpO1xuICAgICAgICBwcm9taXNlLl9wdXNoQ29udGV4dCgpO1xuICAgICAgICB2YXIgcmV0ID0gdHJ5Q2F0Y2goY2FsbGJhY2spLmNhbGwocmVjZWl2ZXIsIHZhbHVlLCBpbmRleCwgbGVuZ3RoKTtcbiAgICAgICAgdmFyIHByb21pc2VDcmVhdGVkID0gcHJvbWlzZS5fcG9wQ29udGV4dCgpO1xuICAgICAgICBkZWJ1Zy5jaGVja0ZvcmdvdHRlblJldHVybnMoXG4gICAgICAgICAgICByZXQsXG4gICAgICAgICAgICBwcm9taXNlQ3JlYXRlZCxcbiAgICAgICAgICAgIHByZXNlcnZlZFZhbHVlcyAhPT0gbnVsbCA/IFwiUHJvbWlzZS5maWx0ZXJcIiA6IFwiUHJvbWlzZS5tYXBcIixcbiAgICAgICAgICAgIHByb21pc2VcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHJldCA9PT0gZXJyb3JPYmopIHtcbiAgICAgICAgICAgIHRoaXMuX3JlamVjdChyZXQuZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHJldCwgdGhpcy5fcHJvbWlzZSk7XG4gICAgICAgIGlmIChtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICBtYXliZVByb21pc2UgPSBtYXliZVByb21pc2UuX3RhcmdldCgpO1xuICAgICAgICAgICAgdmFyIGJpdEZpZWxkID0gbWF5YmVQcm9taXNlLl9iaXRGaWVsZDtcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIGlmICgoKGJpdEZpZWxkICYgNTAzOTcxODQpID09PSAwKSkge1xuICAgICAgICAgICAgICAgIGlmIChsaW1pdCA+PSAxKSB0aGlzLl9pbkZsaWdodCsrO1xuICAgICAgICAgICAgICAgIHZhbHVlc1tpbmRleF0gPSBtYXliZVByb21pc2U7XG4gICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlLl9wcm94eSh0aGlzLCAoaW5kZXggKyAxKSAqIC0xKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCgoYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDApKSB7XG4gICAgICAgICAgICAgICAgcmV0ID0gbWF5YmVQcm9taXNlLl92YWx1ZSgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMTY3NzcyMTYpICE9PSAwKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlamVjdChtYXliZVByb21pc2UuX3JlYXNvbigpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWVzW2luZGV4XSA9IHJldDtcbiAgICB9XG4gICAgdmFyIHRvdGFsUmVzb2x2ZWQgPSArK3RoaXMuX3RvdGFsUmVzb2x2ZWQ7XG4gICAgaWYgKHRvdGFsUmVzb2x2ZWQgPj0gbGVuZ3RoKSB7XG4gICAgICAgIGlmIChwcmVzZXJ2ZWRWYWx1ZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbHRlcih2YWx1ZXMsIHByZXNlcnZlZFZhbHVlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlKHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbk1hcHBpbmdQcm9taXNlQXJyYXkucHJvdG90eXBlLl9kcmFpblF1ZXVlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBxdWV1ZSA9IHRoaXMuX3F1ZXVlO1xuICAgIHZhciBsaW1pdCA9IHRoaXMuX2xpbWl0O1xuICAgIHZhciB2YWx1ZXMgPSB0aGlzLl92YWx1ZXM7XG4gICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDAgJiYgdGhpcy5faW5GbGlnaHQgPCBsaW1pdCkge1xuICAgICAgICBpZiAodGhpcy5faXNSZXNvbHZlZCgpKSByZXR1cm47XG4gICAgICAgIHZhciBpbmRleCA9IHF1ZXVlLnBvcCgpO1xuICAgICAgICB0aGlzLl9wcm9taXNlRnVsZmlsbGVkKHZhbHVlc1tpbmRleF0sIGluZGV4KTtcbiAgICB9XG59O1xuXG5NYXBwaW5nUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fZmlsdGVyID0gZnVuY3Rpb24gKGJvb2xlYW5zLCB2YWx1ZXMpIHtcbiAgICB2YXIgbGVuID0gdmFsdWVzLmxlbmd0aDtcbiAgICB2YXIgcmV0ID0gbmV3IEFycmF5KGxlbik7XG4gICAgdmFyIGogPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgaWYgKGJvb2xlYW5zW2ldKSByZXRbaisrXSA9IHZhbHVlc1tpXTtcbiAgICB9XG4gICAgcmV0Lmxlbmd0aCA9IGo7XG4gICAgdGhpcy5fcmVzb2x2ZShyZXQpO1xufTtcblxuTWFwcGluZ1Byb21pc2VBcnJheS5wcm90b3R5cGUucHJlc2VydmVkVmFsdWVzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9wcmVzZXJ2ZWRWYWx1ZXM7XG59O1xuXG5mdW5jdGlvbiBtYXAocHJvbWlzZXMsIGZuLCBvcHRpb25zLCBfZmlsdGVyKSB7XG4gICAgaWYgKHR5cGVvZiBmbiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBhcGlSZWplY3Rpb24oXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyhmbikpO1xuICAgIH1cblxuICAgIHZhciBsaW1pdCA9IDA7XG4gICAgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmNvbmN1cnJlbmN5ICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICAgICAgICAgICAgICBuZXcgVHlwZUVycm9yKFwiJ2NvbmN1cnJlbmN5JyBtdXN0IGJlIGEgbnVtYmVyIGJ1dCBpdCBpcyBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlsLmNsYXNzU3RyaW5nKG9wdGlvbnMuY29uY3VycmVuY3kpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW1pdCA9IG9wdGlvbnMuY29uY3VycmVuY3k7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm9wdGlvbnMgYXJndW1lbnQgbXVzdCBiZSBhbiBvYmplY3QgYnV0IGl0IGlzIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbC5jbGFzc1N0cmluZyhvcHRpb25zKSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxpbWl0ID0gdHlwZW9mIGxpbWl0ID09PSBcIm51bWJlclwiICYmXG4gICAgICAgIGlzRmluaXRlKGxpbWl0KSAmJiBsaW1pdCA+PSAxID8gbGltaXQgOiAwO1xuICAgIHJldHVybiBuZXcgTWFwcGluZ1Byb21pc2VBcnJheShwcm9taXNlcywgZm4sIGxpbWl0LCBfZmlsdGVyKS5wcm9taXNlKCk7XG59XG5cblByb21pc2UucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChmbiwgb3B0aW9ucykge1xuICAgIHJldHVybiBtYXAodGhpcywgZm4sIG9wdGlvbnMsIG51bGwpO1xufTtcblxuUHJvbWlzZS5tYXAgPSBmdW5jdGlvbiAocHJvbWlzZXMsIGZuLCBvcHRpb25zLCBfZmlsdGVyKSB7XG4gICAgcmV0dXJuIG1hcChwcm9taXNlcywgZm4sIG9wdGlvbnMsIF9maWx0ZXIpO1xufTtcblxuXG59O1xuXG59LHtcIi4vdXRpbFwiOjM2fV0sMTk6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9XG5mdW5jdGlvbihQcm9taXNlLCBJTlRFUk5BTCwgdHJ5Q29udmVydFRvUHJvbWlzZSwgYXBpUmVqZWN0aW9uLCBkZWJ1Zykge1xudmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xudmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcblxuUHJvbWlzZS5tZXRob2QgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFByb21pc2UuVHlwZUVycm9yKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZm4pKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJldCA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcbiAgICAgICAgcmV0Ll9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuICAgICAgICByZXQuX3B1c2hDb250ZXh0KCk7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRyeUNhdGNoKGZuKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB2YXIgcHJvbWlzZUNyZWF0ZWQgPSByZXQuX3BvcENvbnRleHQoKTtcbiAgICAgICAgZGVidWcuY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zKFxuICAgICAgICAgICAgdmFsdWUsIHByb21pc2VDcmVhdGVkLCBcIlByb21pc2UubWV0aG9kXCIsIHJldCk7XG4gICAgICAgIHJldC5fcmVzb2x2ZUZyb21TeW5jVmFsdWUodmFsdWUpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG59O1xuXG5Qcm9taXNlLmF0dGVtcHQgPSBQcm9taXNlW1widHJ5XCJdID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgaWYgKHR5cGVvZiBmbiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBhcGlSZWplY3Rpb24oXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyhmbikpO1xuICAgIH1cbiAgICB2YXIgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgIHJldC5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcbiAgICByZXQuX3B1c2hDb250ZXh0KCk7XG4gICAgdmFyIHZhbHVlO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBkZWJ1Zy5kZXByZWNhdGVkKFwiY2FsbGluZyBQcm9taXNlLnRyeSB3aXRoIG1vcmUgdGhhbiAxIGFyZ3VtZW50XCIpO1xuICAgICAgICB2YXIgYXJnID0gYXJndW1lbnRzWzFdO1xuICAgICAgICB2YXIgY3R4ID0gYXJndW1lbnRzWzJdO1xuICAgICAgICB2YWx1ZSA9IHV0aWwuaXNBcnJheShhcmcpID8gdHJ5Q2F0Y2goZm4pLmFwcGx5KGN0eCwgYXJnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdHJ5Q2F0Y2goZm4pLmNhbGwoY3R4LCBhcmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gdHJ5Q2F0Y2goZm4pKCk7XG4gICAgfVxuICAgIHZhciBwcm9taXNlQ3JlYXRlZCA9IHJldC5fcG9wQ29udGV4dCgpO1xuICAgIGRlYnVnLmNoZWNrRm9yZ290dGVuUmV0dXJucyhcbiAgICAgICAgdmFsdWUsIHByb21pc2VDcmVhdGVkLCBcIlByb21pc2UudHJ5XCIsIHJldCk7XG4gICAgcmV0Ll9yZXNvbHZlRnJvbVN5bmNWYWx1ZSh2YWx1ZSk7XG4gICAgcmV0dXJuIHJldDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9yZXNvbHZlRnJvbVN5bmNWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gdXRpbC5lcnJvck9iaikge1xuICAgICAgICB0aGlzLl9yZWplY3RDYWxsYmFjayh2YWx1ZS5lLCBmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZUNhbGxiYWNrKHZhbHVlLCB0cnVlKTtcbiAgICB9XG59O1xufTtcblxufSx7XCIuL3V0aWxcIjozNn1dLDIwOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xudmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xudmFyIG1heWJlV3JhcEFzRXJyb3IgPSB1dGlsLm1heWJlV3JhcEFzRXJyb3I7XG52YXIgZXJyb3JzID0gX2RlcmVxXyhcIi4vZXJyb3JzXCIpO1xudmFyIE9wZXJhdGlvbmFsRXJyb3IgPSBlcnJvcnMuT3BlcmF0aW9uYWxFcnJvcjtcbnZhciBlczUgPSBfZGVyZXFfKFwiLi9lczVcIik7XG5cbmZ1bmN0aW9uIGlzVW50eXBlZEVycm9yKG9iaikge1xuICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBFcnJvciAmJlxuICAgICAgICBlczUuZ2V0UHJvdG90eXBlT2Yob2JqKSA9PT0gRXJyb3IucHJvdG90eXBlO1xufVxuXG52YXIgckVycm9yS2V5ID0gL14oPzpuYW1lfG1lc3NhZ2V8c3RhY2t8Y2F1c2UpJC87XG5mdW5jdGlvbiB3cmFwQXNPcGVyYXRpb25hbEVycm9yKG9iaikge1xuICAgIHZhciByZXQ7XG4gICAgaWYgKGlzVW50eXBlZEVycm9yKG9iaikpIHtcbiAgICAgICAgcmV0ID0gbmV3IE9wZXJhdGlvbmFsRXJyb3Iob2JqKTtcbiAgICAgICAgcmV0Lm5hbWUgPSBvYmoubmFtZTtcbiAgICAgICAgcmV0Lm1lc3NhZ2UgPSBvYmoubWVzc2FnZTtcbiAgICAgICAgcmV0LnN0YWNrID0gb2JqLnN0YWNrO1xuICAgICAgICB2YXIga2V5cyA9IGVzNS5rZXlzKG9iaik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICBpZiAoIXJFcnJvcktleS50ZXN0KGtleSkpIHtcbiAgICAgICAgICAgICAgICByZXRba2V5XSA9IG9ialtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIHV0aWwubWFya0FzT3JpZ2luYXRpbmdGcm9tUmVqZWN0aW9uKG9iaik7XG4gICAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gbm9kZWJhY2tGb3JQcm9taXNlKHByb21pc2UsIG11bHRpQXJncykge1xuICAgIHJldHVybiBmdW5jdGlvbihlcnIsIHZhbHVlKSB7XG4gICAgICAgIGlmIChwcm9taXNlID09PSBudWxsKSByZXR1cm47XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHZhciB3cmFwcGVkID0gd3JhcEFzT3BlcmF0aW9uYWxFcnJvcihtYXliZVdyYXBBc0Vycm9yKGVycikpO1xuICAgICAgICAgICAgcHJvbWlzZS5fYXR0YWNoRXh0cmFUcmFjZSh3cmFwcGVkKTtcbiAgICAgICAgICAgIHByb21pc2UuX3JlamVjdCh3cmFwcGVkKTtcbiAgICAgICAgfSBlbHNlIGlmICghbXVsdGlBcmdzKSB7XG4gICAgICAgICAgICBwcm9taXNlLl9mdWxmaWxsKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpOztcbiAgICAgICAgICAgIHByb21pc2UuX2Z1bGZpbGwoYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcHJvbWlzZSA9IG51bGw7XG4gICAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBub2RlYmFja0ZvclByb21pc2U7XG5cbn0se1wiLi9lcnJvcnNcIjoxMixcIi4vZXM1XCI6MTMsXCIuL3V0aWxcIjozNn1dLDIxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlKSB7XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgYXN5bmMgPSBQcm9taXNlLl9hc3luYztcbnZhciB0cnlDYXRjaCA9IHV0aWwudHJ5Q2F0Y2g7XG52YXIgZXJyb3JPYmogPSB1dGlsLmVycm9yT2JqO1xuXG5mdW5jdGlvbiBzcHJlYWRBZGFwdGVyKHZhbCwgbm9kZWJhY2spIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gICAgaWYgKCF1dGlsLmlzQXJyYXkodmFsKSkgcmV0dXJuIHN1Y2Nlc3NBZGFwdGVyLmNhbGwocHJvbWlzZSwgdmFsLCBub2RlYmFjayk7XG4gICAgdmFyIHJldCA9XG4gICAgICAgIHRyeUNhdGNoKG5vZGViYWNrKS5hcHBseShwcm9taXNlLl9ib3VuZFZhbHVlKCksIFtudWxsXS5jb25jYXQodmFsKSk7XG4gICAgaWYgKHJldCA9PT0gZXJyb3JPYmopIHtcbiAgICAgICAgYXN5bmMudGhyb3dMYXRlcihyZXQuZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzdWNjZXNzQWRhcHRlcih2YWwsIG5vZGViYWNrKSB7XG4gICAgdmFyIHByb21pc2UgPSB0aGlzO1xuICAgIHZhciByZWNlaXZlciA9IHByb21pc2UuX2JvdW5kVmFsdWUoKTtcbiAgICB2YXIgcmV0ID0gdmFsID09PSB1bmRlZmluZWRcbiAgICAgICAgPyB0cnlDYXRjaChub2RlYmFjaykuY2FsbChyZWNlaXZlciwgbnVsbClcbiAgICAgICAgOiB0cnlDYXRjaChub2RlYmFjaykuY2FsbChyZWNlaXZlciwgbnVsbCwgdmFsKTtcbiAgICBpZiAocmV0ID09PSBlcnJvck9iaikge1xuICAgICAgICBhc3luYy50aHJvd0xhdGVyKHJldC5lKTtcbiAgICB9XG59XG5mdW5jdGlvbiBlcnJvckFkYXB0ZXIocmVhc29uLCBub2RlYmFjaykge1xuICAgIHZhciBwcm9taXNlID0gdGhpcztcbiAgICBpZiAoIXJlYXNvbikge1xuICAgICAgICB2YXIgbmV3UmVhc29uID0gbmV3IEVycm9yKHJlYXNvbiArIFwiXCIpO1xuICAgICAgICBuZXdSZWFzb24uY2F1c2UgPSByZWFzb247XG4gICAgICAgIHJlYXNvbiA9IG5ld1JlYXNvbjtcbiAgICB9XG4gICAgdmFyIHJldCA9IHRyeUNhdGNoKG5vZGViYWNrKS5jYWxsKHByb21pc2UuX2JvdW5kVmFsdWUoKSwgcmVhc29uKTtcbiAgICBpZiAocmV0ID09PSBlcnJvck9iaikge1xuICAgICAgICBhc3luYy50aHJvd0xhdGVyKHJldC5lKTtcbiAgICB9XG59XG5cblByb21pc2UucHJvdG90eXBlLmFzQ2FsbGJhY2sgPSBQcm9taXNlLnByb3RvdHlwZS5ub2RlaWZ5ID0gZnVuY3Rpb24gKG5vZGViYWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygbm9kZWJhY2sgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHZhciBhZGFwdGVyID0gc3VjY2Vzc0FkYXB0ZXI7XG4gICAgICAgIGlmIChvcHRpb25zICE9PSB1bmRlZmluZWQgJiYgT2JqZWN0KG9wdGlvbnMpLnNwcmVhZCkge1xuICAgICAgICAgICAgYWRhcHRlciA9IHNwcmVhZEFkYXB0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGhlbihcbiAgICAgICAgICAgIGFkYXB0ZXIsXG4gICAgICAgICAgICBlcnJvckFkYXB0ZXIsXG4gICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgbm9kZWJhY2tcbiAgICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59O1xufTtcblxufSx7XCIuL3V0aWxcIjozNn1dLDIyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbnZhciBtYWtlU2VsZlJlc29sdXRpb25FcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IFR5cGVFcnJvcihcImNpcmN1bGFyIHByb21pc2UgcmVzb2x1dGlvbiBjaGFpblxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG59O1xudmFyIHJlZmxlY3RIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlLlByb21pc2VJbnNwZWN0aW9uKHRoaXMuX3RhcmdldCgpKTtcbn07XG52YXIgYXBpUmVqZWN0aW9uID0gZnVuY3Rpb24obXNnKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IobXNnKSk7XG59O1xuZnVuY3Rpb24gUHJveHlhYmxlKCkge31cbnZhciBVTkRFRklORURfQklORElORyA9IHt9O1xudmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXG52YXIgZ2V0RG9tYWluO1xuaWYgKHV0aWwuaXNOb2RlKSB7XG4gICAgZ2V0RG9tYWluID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZXQgPSBwcm9jZXNzLmRvbWFpbjtcbiAgICAgICAgaWYgKHJldCA9PT0gdW5kZWZpbmVkKSByZXQgPSBudWxsO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG59IGVsc2Uge1xuICAgIGdldERvbWFpbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xufVxudXRpbC5ub3RFbnVtZXJhYmxlUHJvcChQcm9taXNlLCBcIl9nZXREb21haW5cIiwgZ2V0RG9tYWluKTtcblxudmFyIGVzNSA9IF9kZXJlcV8oXCIuL2VzNVwiKTtcbnZhciBBc3luYyA9IF9kZXJlcV8oXCIuL2FzeW5jXCIpO1xudmFyIGFzeW5jID0gbmV3IEFzeW5jKCk7XG5lczUuZGVmaW5lUHJvcGVydHkoUHJvbWlzZSwgXCJfYXN5bmNcIiwge3ZhbHVlOiBhc3luY30pO1xudmFyIGVycm9ycyA9IF9kZXJlcV8oXCIuL2Vycm9yc1wiKTtcbnZhciBUeXBlRXJyb3IgPSBQcm9taXNlLlR5cGVFcnJvciA9IGVycm9ycy5UeXBlRXJyb3I7XG5Qcm9taXNlLlJhbmdlRXJyb3IgPSBlcnJvcnMuUmFuZ2VFcnJvcjtcbnZhciBDYW5jZWxsYXRpb25FcnJvciA9IFByb21pc2UuQ2FuY2VsbGF0aW9uRXJyb3IgPSBlcnJvcnMuQ2FuY2VsbGF0aW9uRXJyb3I7XG5Qcm9taXNlLlRpbWVvdXRFcnJvciA9IGVycm9ycy5UaW1lb3V0RXJyb3I7XG5Qcm9taXNlLk9wZXJhdGlvbmFsRXJyb3IgPSBlcnJvcnMuT3BlcmF0aW9uYWxFcnJvcjtcblByb21pc2UuUmVqZWN0aW9uRXJyb3IgPSBlcnJvcnMuT3BlcmF0aW9uYWxFcnJvcjtcblByb21pc2UuQWdncmVnYXRlRXJyb3IgPSBlcnJvcnMuQWdncmVnYXRlRXJyb3I7XG52YXIgSU5URVJOQUwgPSBmdW5jdGlvbigpe307XG52YXIgQVBQTFkgPSB7fTtcbnZhciBORVhUX0ZJTFRFUiA9IHt9O1xudmFyIHRyeUNvbnZlcnRUb1Byb21pc2UgPSBfZGVyZXFfKFwiLi90aGVuYWJsZXNcIikoUHJvbWlzZSwgSU5URVJOQUwpO1xudmFyIFByb21pc2VBcnJheSA9XG4gICAgX2RlcmVxXyhcIi4vcHJvbWlzZV9hcnJheVwiKShQcm9taXNlLCBJTlRFUk5BTCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnlDb252ZXJ0VG9Qcm9taXNlLCBhcGlSZWplY3Rpb24sIFByb3h5YWJsZSk7XG52YXIgQ29udGV4dCA9IF9kZXJlcV8oXCIuL2NvbnRleHRcIikoUHJvbWlzZSk7XG4gLypqc2hpbnQgdW51c2VkOmZhbHNlKi9cbnZhciBjcmVhdGVDb250ZXh0ID0gQ29udGV4dC5jcmVhdGU7XG52YXIgZGVidWcgPSBfZGVyZXFfKFwiLi9kZWJ1Z2dhYmlsaXR5XCIpKFByb21pc2UsIENvbnRleHQpO1xudmFyIENhcHR1cmVkVHJhY2UgPSBkZWJ1Zy5DYXB0dXJlZFRyYWNlO1xudmFyIFBhc3NUaHJvdWdoSGFuZGxlckNvbnRleHQgPVxuICAgIF9kZXJlcV8oXCIuL2ZpbmFsbHlcIikoUHJvbWlzZSwgdHJ5Q29udmVydFRvUHJvbWlzZSk7XG52YXIgY2F0Y2hGaWx0ZXIgPSBfZGVyZXFfKFwiLi9jYXRjaF9maWx0ZXJcIikoTkVYVF9GSUxURVIpO1xudmFyIG5vZGViYWNrRm9yUHJvbWlzZSA9IF9kZXJlcV8oXCIuL25vZGViYWNrXCIpO1xudmFyIGVycm9yT2JqID0gdXRpbC5lcnJvck9iajtcbnZhciB0cnlDYXRjaCA9IHV0aWwudHJ5Q2F0Y2g7XG5mdW5jdGlvbiBjaGVjayhzZWxmLCBleGVjdXRvcikge1xuICAgIGlmICh0eXBlb2YgZXhlY3V0b3IgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZXhlY3V0b3IpKTtcbiAgICB9XG4gICAgaWYgKHNlbGYuY29uc3RydWN0b3IgIT09IFByb21pc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcInRoZSBwcm9taXNlIGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBpbnZva2VkIGRpcmVjdGx5XFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3IpIHtcbiAgICB0aGlzLl9iaXRGaWVsZCA9IDA7XG4gICAgdGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyMCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9yZWplY3Rpb25IYW5kbGVyMCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9wcm9taXNlMCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9yZWNlaXZlcjAgPSB1bmRlZmluZWQ7XG4gICAgaWYgKGV4ZWN1dG9yICE9PSBJTlRFUk5BTCkge1xuICAgICAgICBjaGVjayh0aGlzLCBleGVjdXRvcik7XG4gICAgICAgIHRoaXMuX3Jlc29sdmVGcm9tRXhlY3V0b3IoZXhlY3V0b3IpO1xuICAgIH1cbiAgICB0aGlzLl9wcm9taXNlQ3JlYXRlZCgpO1xuICAgIHRoaXMuX2ZpcmVFdmVudChcInByb21pc2VDcmVhdGVkXCIsIHRoaXMpO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IFByb21pc2VdXCI7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5jYXVnaHQgPSBQcm9taXNlLnByb3RvdHlwZVtcImNhdGNoXCJdID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgaWYgKGxlbiA+IDEpIHtcbiAgICAgICAgdmFyIGNhdGNoSW5zdGFuY2VzID0gbmV3IEFycmF5KGxlbiAtIDEpLFxuICAgICAgICAgICAgaiA9IDAsIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW4gLSAxOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgaWYgKHV0aWwuaXNPYmplY3QoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICBjYXRjaEluc3RhbmNlc1tqKytdID0gaXRlbTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwaVJlamVjdGlvbihcImV4cGVjdGluZyBhbiBvYmplY3QgYnV0IGdvdCBcIiArXG4gICAgICAgICAgICAgICAgICAgIFwiQSBjYXRjaCBzdGF0ZW1lbnQgcHJlZGljYXRlIFwiICsgdXRpbC5jbGFzc1N0cmluZyhpdGVtKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2hJbnN0YW5jZXMubGVuZ3RoID0gajtcbiAgICAgICAgZm4gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIHJldHVybiB0aGlzLnRoZW4odW5kZWZpbmVkLCBjYXRjaEZpbHRlcihjYXRjaEluc3RhbmNlcywgZm4sIHRoaXMpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudGhlbih1bmRlZmluZWQsIGZuKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnJlZmxlY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RoZW4ocmVmbGVjdEhhbmRsZXIsXG4gICAgICAgIHJlZmxlY3RIYW5kbGVyLCB1bmRlZmluZWQsIHRoaXMsIHVuZGVmaW5lZCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24gKGRpZEZ1bGZpbGwsIGRpZFJlamVjdCkge1xuICAgIGlmIChkZWJ1Zy53YXJuaW5ncygpICYmIGFyZ3VtZW50cy5sZW5ndGggPiAwICYmXG4gICAgICAgIHR5cGVvZiBkaWRGdWxmaWxsICE9PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgdHlwZW9mIGRpZFJlamVjdCAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHZhciBtc2cgPSBcIi50aGVuKCkgb25seSBhY2NlcHRzIGZ1bmN0aW9ucyBidXQgd2FzIHBhc3NlZDogXCIgK1xuICAgICAgICAgICAgICAgIHV0aWwuY2xhc3NTdHJpbmcoZGlkRnVsZmlsbCk7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgbXNnICs9IFwiLCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZGlkUmVqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl93YXJuKG1zZyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl90aGVuKGRpZEZ1bGZpbGwsIGRpZFJlamVjdCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5kb25lID0gZnVuY3Rpb24gKGRpZEZ1bGZpbGwsIGRpZFJlamVjdCkge1xuICAgIHZhciBwcm9taXNlID1cbiAgICAgICAgdGhpcy5fdGhlbihkaWRGdWxmaWxsLCBkaWRSZWplY3QsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgIHByb21pc2UuX3NldElzRmluYWwoKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnNwcmVhZCA9IGZ1bmN0aW9uIChmbikge1xuICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gYXBpUmVqZWN0aW9uKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZm4pKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYWxsKCkuX3RoZW4oZm4sIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBBUFBMWSwgdW5kZWZpbmVkKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmV0ID0ge1xuICAgICAgICBpc0Z1bGZpbGxlZDogZmFsc2UsXG4gICAgICAgIGlzUmVqZWN0ZWQ6IGZhbHNlLFxuICAgICAgICBmdWxmaWxsbWVudFZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgIHJlamVjdGlvblJlYXNvbjogdW5kZWZpbmVkXG4gICAgfTtcbiAgICBpZiAodGhpcy5pc0Z1bGZpbGxlZCgpKSB7XG4gICAgICAgIHJldC5mdWxmaWxsbWVudFZhbHVlID0gdGhpcy52YWx1ZSgpO1xuICAgICAgICByZXQuaXNGdWxmaWxsZWQgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodGhpcy5pc1JlamVjdGVkKCkpIHtcbiAgICAgICAgcmV0LnJlamVjdGlvblJlYXNvbiA9IHRoaXMucmVhc29uKCk7XG4gICAgICAgIHJldC5pc1JlamVjdGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5fd2FybihcIi5hbGwoKSB3YXMgcGFzc2VkIGFyZ3VtZW50cyBidXQgaXQgZG9lcyBub3QgdGFrZSBhbnlcIik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJvbWlzZUFycmF5KHRoaXMpLnByb21pc2UoKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgcmV0dXJuIHRoaXMuY2F1Z2h0KHV0aWwub3JpZ2luYXRlc0Zyb21SZWplY3Rpb24sIGZuKTtcbn07XG5cblByb21pc2UuZ2V0TmV3TGlicmFyeUNvcHkgPSBtb2R1bGUuZXhwb3J0cztcblxuUHJvbWlzZS5pcyA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgICByZXR1cm4gdmFsIGluc3RhbmNlb2YgUHJvbWlzZTtcbn07XG5cblByb21pc2UuZnJvbU5vZGUgPSBQcm9taXNlLmZyb21DYWxsYmFjayA9IGZ1bmN0aW9uKGZuKSB7XG4gICAgdmFyIHJldCA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcbiAgICByZXQuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG4gICAgdmFyIG11bHRpQXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gISFPYmplY3QoYXJndW1lbnRzWzFdKS5tdWx0aUFyZ3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZTtcbiAgICB2YXIgcmVzdWx0ID0gdHJ5Q2F0Y2goZm4pKG5vZGViYWNrRm9yUHJvbWlzZShyZXQsIG11bHRpQXJncykpO1xuICAgIGlmIChyZXN1bHQgPT09IGVycm9yT2JqKSB7XG4gICAgICAgIHJldC5fcmVqZWN0Q2FsbGJhY2socmVzdWx0LmUsIHRydWUpO1xuICAgIH1cbiAgICBpZiAoIXJldC5faXNGYXRlU2VhbGVkKCkpIHJldC5fc2V0QXN5bmNHdWFyYW50ZWVkKCk7XG4gICAgcmV0dXJuIHJldDtcbn07XG5cblByb21pc2UuYWxsID0gZnVuY3Rpb24gKHByb21pc2VzKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlQXJyYXkocHJvbWlzZXMpLnByb21pc2UoKTtcbn07XG5cblByb21pc2UuY2FzdCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICB2YXIgcmV0ID0gdHJ5Q29udmVydFRvUHJvbWlzZShvYmopO1xuICAgIGlmICghKHJldCBpbnN0YW5jZW9mIFByb21pc2UpKSB7XG4gICAgICAgIHJldCA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcbiAgICAgICAgcmV0Ll9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuICAgICAgICByZXQuX3NldEZ1bGZpbGxlZCgpO1xuICAgICAgICByZXQuX3JlamVjdGlvbkhhbmRsZXIwID0gb2JqO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufTtcblxuUHJvbWlzZS5yZXNvbHZlID0gUHJvbWlzZS5mdWxmaWxsZWQgPSBQcm9taXNlLmNhc3Q7XG5cblByb21pc2UucmVqZWN0ID0gUHJvbWlzZS5yZWplY3RlZCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICB2YXIgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgIHJldC5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcbiAgICByZXQuX3JlamVjdENhbGxiYWNrKHJlYXNvbiwgdHJ1ZSk7XG4gICAgcmV0dXJuIHJldDtcbn07XG5cblByb21pc2Uuc2V0U2NoZWR1bGVyID0gZnVuY3Rpb24oZm4pIHtcbiAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKGZuKSk7XG4gICAgfVxuICAgIHJldHVybiBhc3luYy5zZXRTY2hlZHVsZXIoZm4pO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3RoZW4gPSBmdW5jdGlvbiAoXG4gICAgZGlkRnVsZmlsbCxcbiAgICBkaWRSZWplY3QsXG4gICAgXywgICAgcmVjZWl2ZXIsXG4gICAgaW50ZXJuYWxEYXRhXG4pIHtcbiAgICB2YXIgaGF2ZUludGVybmFsRGF0YSA9IGludGVybmFsRGF0YSAhPT0gdW5kZWZpbmVkO1xuICAgIHZhciBwcm9taXNlID0gaGF2ZUludGVybmFsRGF0YSA/IGludGVybmFsRGF0YSA6IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcbiAgICB2YXIgdGFyZ2V0ID0gdGhpcy5fdGFyZ2V0KCk7XG4gICAgdmFyIGJpdEZpZWxkID0gdGFyZ2V0Ll9iaXRGaWVsZDtcblxuICAgIGlmICghaGF2ZUludGVybmFsRGF0YSkge1xuICAgICAgICBwcm9taXNlLl9wcm9wYWdhdGVGcm9tKHRoaXMsIDMpO1xuICAgICAgICBwcm9taXNlLl9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuICAgICAgICBpZiAocmVjZWl2ZXIgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKCh0aGlzLl9iaXRGaWVsZCAmIDIwOTcxNTIpICE9PSAwKSkge1xuICAgICAgICAgICAgaWYgKCEoKGJpdEZpZWxkICYgNTAzOTcxODQpID09PSAwKSkge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVyID0gdGhpcy5fYm91bmRWYWx1ZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlciA9IHRhcmdldCA9PT0gdGhpcyA/IHVuZGVmaW5lZCA6IHRoaXMuX2JvdW5kVG87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZUNoYWluZWRcIiwgdGhpcywgcHJvbWlzZSk7XG4gICAgfVxuXG4gICAgdmFyIGRvbWFpbiA9IGdldERvbWFpbigpO1xuICAgIGlmICghKChiaXRGaWVsZCAmIDUwMzk3MTg0KSA9PT0gMCkpIHtcbiAgICAgICAgdmFyIGhhbmRsZXIsIHZhbHVlLCBzZXR0bGVyID0gdGFyZ2V0Ll9zZXR0bGVQcm9taXNlQ3R4O1xuICAgICAgICBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdGFyZ2V0Ll9yZWplY3Rpb25IYW5kbGVyMDtcbiAgICAgICAgICAgIGhhbmRsZXIgPSBkaWRGdWxmaWxsO1xuICAgICAgICB9IGVsc2UgaWYgKCgoYml0RmllbGQgJiAxNjc3NzIxNikgIT09IDApKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRhcmdldC5fZnVsZmlsbG1lbnRIYW5kbGVyMDtcbiAgICAgICAgICAgIGhhbmRsZXIgPSBkaWRSZWplY3Q7XG4gICAgICAgICAgICB0YXJnZXQuX3Vuc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldHRsZXIgPSB0YXJnZXQuX3NldHRsZVByb21pc2VMYXRlQ2FuY2VsbGF0aW9uT2JzZXJ2ZXI7XG4gICAgICAgICAgICB2YWx1ZSA9IG5ldyBDYW5jZWxsYXRpb25FcnJvcihcImxhdGUgY2FuY2VsbGF0aW9uIG9ic2VydmVyXCIpO1xuICAgICAgICAgICAgdGFyZ2V0Ll9hdHRhY2hFeHRyYVRyYWNlKHZhbHVlKTtcbiAgICAgICAgICAgIGhhbmRsZXIgPSBkaWRSZWplY3Q7XG4gICAgICAgIH1cblxuICAgICAgICBhc3luYy5pbnZva2Uoc2V0dGxlciwgdGFyZ2V0LCB7XG4gICAgICAgICAgICBoYW5kbGVyOiBkb21haW4gPT09IG51bGwgPyBoYW5kbGVyXG4gICAgICAgICAgICAgICAgOiAodHlwZW9mIGhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICAgICAgICAgICAgICB1dGlsLmRvbWFpbkJpbmQoZG9tYWluLCBoYW5kbGVyKSksXG4gICAgICAgICAgICBwcm9taXNlOiBwcm9taXNlLFxuICAgICAgICAgICAgcmVjZWl2ZXI6IHJlY2VpdmVyLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldC5fYWRkQ2FsbGJhY2tzKGRpZEZ1bGZpbGwsIGRpZFJlamVjdCwgcHJvbWlzZSwgcmVjZWl2ZXIsIGRvbWFpbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb21pc2U7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fbGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9iaXRGaWVsZCAmIDY1NTM1O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2lzRmF0ZVNlYWxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgMTE3NTA2MDQ4KSAhPT0gMDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9pc0ZvbGxvd2luZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgNjcxMDg4NjQpID09PSA2NzEwODg2NDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXRMZW5ndGggPSBmdW5jdGlvbiAobGVuKSB7XG4gICAgdGhpcy5fYml0RmllbGQgPSAodGhpcy5fYml0RmllbGQgJiAtNjU1MzYpIHxcbiAgICAgICAgKGxlbiAmIDY1NTM1KTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXRGdWxmaWxsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCB8IDMzNTU0NDMyO1xuICAgIHRoaXMuX2ZpcmVFdmVudChcInByb21pc2VGdWxmaWxsZWRcIiwgdGhpcyk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fc2V0UmVqZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCB8IDE2Nzc3MjE2O1xuICAgIHRoaXMuX2ZpcmVFdmVudChcInByb21pc2VSZWplY3RlZFwiLCB0aGlzKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXRGb2xsb3dpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCB8IDY3MTA4ODY0O1xuICAgIHRoaXMuX2ZpcmVFdmVudChcInByb21pc2VSZXNvbHZlZFwiLCB0aGlzKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXRJc0ZpbmFsID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCA0MTk0MzA0O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2lzRmluYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDQxOTQzMDQpID4gMDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl91bnNldENhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgJiAofjY1NTM2KTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXRDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgNjU1MzY7XG4gICAgdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZUNhbmNlbGxlZFwiLCB0aGlzKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXRXaWxsQmVDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgODM4ODYwODtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXRBc3luY0d1YXJhbnRlZWQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoYXN5bmMuaGFzQ3VzdG9tU2NoZWR1bGVyKCkpIHJldHVybjtcbiAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgMTM0MjE3NzI4O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3JlY2VpdmVyQXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICB2YXIgcmV0ID0gaW5kZXggPT09IDAgPyB0aGlzLl9yZWNlaXZlcjAgOiB0aGlzW1xuICAgICAgICAgICAgaW5kZXggKiA0IC0gNCArIDNdO1xuICAgIGlmIChyZXQgPT09IFVOREVGSU5FRF9CSU5ESU5HKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIGlmIChyZXQgPT09IHVuZGVmaW5lZCAmJiB0aGlzLl9pc0JvdW5kKCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kVmFsdWUoKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9wcm9taXNlQXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpc1tcbiAgICAgICAgICAgIGluZGV4ICogNCAtIDQgKyAyXTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9mdWxmaWxsbWVudEhhbmRsZXJBdCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHJldHVybiB0aGlzW1xuICAgICAgICAgICAgaW5kZXggKiA0IC0gNCArIDBdO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3JlamVjdGlvbkhhbmRsZXJBdCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHJldHVybiB0aGlzW1xuICAgICAgICAgICAgaW5kZXggKiA0IC0gNCArIDFdO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2JvdW5kVmFsdWUgPSBmdW5jdGlvbigpIHt9O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fbWlncmF0ZUNhbGxiYWNrMCA9IGZ1bmN0aW9uIChmb2xsb3dlcikge1xuICAgIHZhciBiaXRGaWVsZCA9IGZvbGxvd2VyLl9iaXRGaWVsZDtcbiAgICB2YXIgZnVsZmlsbCA9IGZvbGxvd2VyLl9mdWxmaWxsbWVudEhhbmRsZXIwO1xuICAgIHZhciByZWplY3QgPSBmb2xsb3dlci5fcmVqZWN0aW9uSGFuZGxlcjA7XG4gICAgdmFyIHByb21pc2UgPSBmb2xsb3dlci5fcHJvbWlzZTA7XG4gICAgdmFyIHJlY2VpdmVyID0gZm9sbG93ZXIuX3JlY2VpdmVyQXQoMCk7XG4gICAgaWYgKHJlY2VpdmVyID09PSB1bmRlZmluZWQpIHJlY2VpdmVyID0gVU5ERUZJTkVEX0JJTkRJTkc7XG4gICAgdGhpcy5fYWRkQ2FsbGJhY2tzKGZ1bGZpbGwsIHJlamVjdCwgcHJvbWlzZSwgcmVjZWl2ZXIsIG51bGwpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX21pZ3JhdGVDYWxsYmFja0F0ID0gZnVuY3Rpb24gKGZvbGxvd2VyLCBpbmRleCkge1xuICAgIHZhciBmdWxmaWxsID0gZm9sbG93ZXIuX2Z1bGZpbGxtZW50SGFuZGxlckF0KGluZGV4KTtcbiAgICB2YXIgcmVqZWN0ID0gZm9sbG93ZXIuX3JlamVjdGlvbkhhbmRsZXJBdChpbmRleCk7XG4gICAgdmFyIHByb21pc2UgPSBmb2xsb3dlci5fcHJvbWlzZUF0KGluZGV4KTtcbiAgICB2YXIgcmVjZWl2ZXIgPSBmb2xsb3dlci5fcmVjZWl2ZXJBdChpbmRleCk7XG4gICAgaWYgKHJlY2VpdmVyID09PSB1bmRlZmluZWQpIHJlY2VpdmVyID0gVU5ERUZJTkVEX0JJTkRJTkc7XG4gICAgdGhpcy5fYWRkQ2FsbGJhY2tzKGZ1bGZpbGwsIHJlamVjdCwgcHJvbWlzZSwgcmVjZWl2ZXIsIG51bGwpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2FkZENhbGxiYWNrcyA9IGZ1bmN0aW9uIChcbiAgICBmdWxmaWxsLFxuICAgIHJlamVjdCxcbiAgICBwcm9taXNlLFxuICAgIHJlY2VpdmVyLFxuICAgIGRvbWFpblxuKSB7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5fbGVuZ3RoKCk7XG5cbiAgICBpZiAoaW5kZXggPj0gNjU1MzUgLSA0KSB7XG4gICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fc2V0TGVuZ3RoKDApO1xuICAgIH1cblxuICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICB0aGlzLl9wcm9taXNlMCA9IHByb21pc2U7XG4gICAgICAgIHRoaXMuX3JlY2VpdmVyMCA9IHJlY2VpdmVyO1xuICAgICAgICBpZiAodHlwZW9mIGZ1bGZpbGwgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyMCA9XG4gICAgICAgICAgICAgICAgZG9tYWluID09PSBudWxsID8gZnVsZmlsbCA6IHV0aWwuZG9tYWluQmluZChkb21haW4sIGZ1bGZpbGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgcmVqZWN0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwID1cbiAgICAgICAgICAgICAgICBkb21haW4gPT09IG51bGwgPyByZWplY3QgOiB1dGlsLmRvbWFpbkJpbmQoZG9tYWluLCByZWplY3QpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGJhc2UgPSBpbmRleCAqIDQgLSA0O1xuICAgICAgICB0aGlzW2Jhc2UgKyAyXSA9IHByb21pc2U7XG4gICAgICAgIHRoaXNbYmFzZSArIDNdID0gcmVjZWl2ZXI7XG4gICAgICAgIGlmICh0eXBlb2YgZnVsZmlsbCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aGlzW2Jhc2UgKyAwXSA9XG4gICAgICAgICAgICAgICAgZG9tYWluID09PSBudWxsID8gZnVsZmlsbCA6IHV0aWwuZG9tYWluQmluZChkb21haW4sIGZ1bGZpbGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgcmVqZWN0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRoaXNbYmFzZSArIDFdID1cbiAgICAgICAgICAgICAgICBkb21haW4gPT09IG51bGwgPyByZWplY3QgOiB1dGlsLmRvbWFpbkJpbmQoZG9tYWluLCByZWplY3QpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMuX3NldExlbmd0aChpbmRleCArIDEpO1xuICAgIHJldHVybiBpbmRleDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9wcm94eSA9IGZ1bmN0aW9uIChwcm94eWFibGUsIGFyZykge1xuICAgIHRoaXMuX2FkZENhbGxiYWNrcyh1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJnLCBwcm94eWFibGUsIG51bGwpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3Jlc29sdmVDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbHVlLCBzaG91bGRCaW5kKSB7XG4gICAgaWYgKCgodGhpcy5fYml0RmllbGQgJiAxMTc1MDYwNDgpICE9PSAwKSkgcmV0dXJuO1xuICAgIGlmICh2YWx1ZSA9PT0gdGhpcylcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlamVjdENhbGxiYWNrKG1ha2VTZWxmUmVzb2x1dGlvbkVycm9yKCksIGZhbHNlKTtcbiAgICB2YXIgbWF5YmVQcm9taXNlID0gdHJ5Q29udmVydFRvUHJvbWlzZSh2YWx1ZSwgdGhpcyk7XG4gICAgaWYgKCEobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkpIHJldHVybiB0aGlzLl9mdWxmaWxsKHZhbHVlKTtcblxuICAgIGlmIChzaG91bGRCaW5kKSB0aGlzLl9wcm9wYWdhdGVGcm9tKG1heWJlUHJvbWlzZSwgMik7XG5cbiAgICB2YXIgcHJvbWlzZSA9IG1heWJlUHJvbWlzZS5fdGFyZ2V0KCk7XG5cbiAgICBpZiAocHJvbWlzZSA9PT0gdGhpcykge1xuICAgICAgICB0aGlzLl9yZWplY3QobWFrZVNlbGZSZXNvbHV0aW9uRXJyb3IoKSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgYml0RmllbGQgPSBwcm9taXNlLl9iaXRGaWVsZDtcbiAgICBpZiAoKChiaXRGaWVsZCAmIDUwMzk3MTg0KSA9PT0gMCkpIHtcbiAgICAgICAgdmFyIGxlbiA9IHRoaXMuX2xlbmd0aCgpO1xuICAgICAgICBpZiAobGVuID4gMCkgcHJvbWlzZS5fbWlncmF0ZUNhbGxiYWNrMCh0aGlzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgcHJvbWlzZS5fbWlncmF0ZUNhbGxiYWNrQXQodGhpcywgaSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2V0Rm9sbG93aW5nKCk7XG4gICAgICAgIHRoaXMuX3NldExlbmd0aCgwKTtcbiAgICAgICAgdGhpcy5fc2V0Rm9sbG93ZWUocHJvbWlzZSk7XG4gICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMzM1NTQ0MzIpICE9PSAwKSkge1xuICAgICAgICB0aGlzLl9mdWxmaWxsKHByb21pc2UuX3ZhbHVlKCkpO1xuICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDE2Nzc3MjE2KSAhPT0gMCkpIHtcbiAgICAgICAgdGhpcy5fcmVqZWN0KHByb21pc2UuX3JlYXNvbigpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcmVhc29uID0gbmV3IENhbmNlbGxhdGlvbkVycm9yKFwibGF0ZSBjYW5jZWxsYXRpb24gb2JzZXJ2ZXJcIik7XG4gICAgICAgIHByb21pc2UuX2F0dGFjaEV4dHJhVHJhY2UocmVhc29uKTtcbiAgICAgICAgdGhpcy5fcmVqZWN0KHJlYXNvbik7XG4gICAgfVxufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3JlamVjdENhbGxiYWNrID1cbmZ1bmN0aW9uKHJlYXNvbiwgc3luY2hyb25vdXMsIGlnbm9yZU5vbkVycm9yV2FybmluZ3MpIHtcbiAgICB2YXIgdHJhY2UgPSB1dGlsLmVuc3VyZUVycm9yT2JqZWN0KHJlYXNvbik7XG4gICAgdmFyIGhhc1N0YWNrID0gdHJhY2UgPT09IHJlYXNvbjtcbiAgICBpZiAoIWhhc1N0YWNrICYmICFpZ25vcmVOb25FcnJvcldhcm5pbmdzICYmIGRlYnVnLndhcm5pbmdzKCkpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBcImEgcHJvbWlzZSB3YXMgcmVqZWN0ZWQgd2l0aCBhIG5vbi1lcnJvcjogXCIgK1xuICAgICAgICAgICAgdXRpbC5jbGFzc1N0cmluZyhyZWFzb24pO1xuICAgICAgICB0aGlzLl93YXJuKG1lc3NhZ2UsIHRydWUpO1xuICAgIH1cbiAgICB0aGlzLl9hdHRhY2hFeHRyYVRyYWNlKHRyYWNlLCBzeW5jaHJvbm91cyA/IGhhc1N0YWNrIDogZmFsc2UpO1xuICAgIHRoaXMuX3JlamVjdChyZWFzb24pO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3Jlc29sdmVGcm9tRXhlY3V0b3IgPSBmdW5jdGlvbiAoZXhlY3V0b3IpIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gICAgdGhpcy5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcbiAgICB0aGlzLl9wdXNoQ29udGV4dCgpO1xuICAgIHZhciBzeW5jaHJvbm91cyA9IHRydWU7XG4gICAgdmFyIHIgPSB0aGlzLl9leGVjdXRlKGV4ZWN1dG9yLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBwcm9taXNlLl9yZXNvbHZlQ2FsbGJhY2sodmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2socmVhc29uLCBzeW5jaHJvbm91cyk7XG4gICAgfSk7XG4gICAgc3luY2hyb25vdXMgPSBmYWxzZTtcbiAgICB0aGlzLl9wb3BDb250ZXh0KCk7XG5cbiAgICBpZiAociAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHByb21pc2UuX3JlamVjdENhbGxiYWNrKHIsIHRydWUpO1xuICAgIH1cbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlRnJvbUhhbmRsZXIgPSBmdW5jdGlvbiAoXG4gICAgaGFuZGxlciwgcmVjZWl2ZXIsIHZhbHVlLCBwcm9taXNlXG4pIHtcbiAgICB2YXIgYml0RmllbGQgPSBwcm9taXNlLl9iaXRGaWVsZDtcbiAgICBpZiAoKChiaXRGaWVsZCAmIDY1NTM2KSAhPT0gMCkpIHJldHVybjtcbiAgICBwcm9taXNlLl9wdXNoQ29udGV4dCgpO1xuICAgIHZhciB4O1xuICAgIGlmIChyZWNlaXZlciA9PT0gQVBQTFkpIHtcbiAgICAgICAgaWYgKCF2YWx1ZSB8fCB0eXBlb2YgdmFsdWUubGVuZ3RoICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICB4ID0gZXJyb3JPYmo7XG4gICAgICAgICAgICB4LmUgPSBuZXcgVHlwZUVycm9yKFwiY2Fubm90IC5zcHJlYWQoKSBhIG5vbi1hcnJheTogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbC5jbGFzc1N0cmluZyh2YWx1ZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeCA9IHRyeUNhdGNoKGhhbmRsZXIpLmFwcGx5KHRoaXMuX2JvdW5kVmFsdWUoKSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgeCA9IHRyeUNhdGNoKGhhbmRsZXIpLmNhbGwocmVjZWl2ZXIsIHZhbHVlKTtcbiAgICB9XG4gICAgdmFyIHByb21pc2VDcmVhdGVkID0gcHJvbWlzZS5fcG9wQ29udGV4dCgpO1xuICAgIGJpdEZpZWxkID0gcHJvbWlzZS5fYml0RmllbGQ7XG4gICAgaWYgKCgoYml0RmllbGQgJiA2NTUzNikgIT09IDApKSByZXR1cm47XG5cbiAgICBpZiAoeCA9PT0gTkVYVF9GSUxURVIpIHtcbiAgICAgICAgcHJvbWlzZS5fcmVqZWN0KHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKHggPT09IGVycm9yT2JqKSB7XG4gICAgICAgIHByb21pc2UuX3JlamVjdENhbGxiYWNrKHguZSwgZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGRlYnVnLmNoZWNrRm9yZ290dGVuUmV0dXJucyh4LCBwcm9taXNlQ3JlYXRlZCwgXCJcIiwgIHByb21pc2UsIHRoaXMpO1xuICAgICAgICBwcm9taXNlLl9yZXNvbHZlQ2FsbGJhY2soeCk7XG4gICAgfVxufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3RhcmdldCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXQgPSB0aGlzO1xuICAgIHdoaWxlIChyZXQuX2lzRm9sbG93aW5nKCkpIHJldCA9IHJldC5fZm9sbG93ZWUoKTtcbiAgICByZXR1cm4gcmV0O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2ZvbGxvd2VlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldEZvbGxvd2VlID0gZnVuY3Rpb24ocHJvbWlzZSkge1xuICAgIHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwID0gcHJvbWlzZTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlID0gZnVuY3Rpb24ocHJvbWlzZSwgaGFuZGxlciwgcmVjZWl2ZXIsIHZhbHVlKSB7XG4gICAgdmFyIGlzUHJvbWlzZSA9IHByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlO1xuICAgIHZhciBiaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkO1xuICAgIHZhciBhc3luY0d1YXJhbnRlZWQgPSAoKGJpdEZpZWxkICYgMTM0MjE3NzI4KSAhPT0gMCk7XG4gICAgaWYgKCgoYml0RmllbGQgJiA2NTUzNikgIT09IDApKSB7XG4gICAgICAgIGlmIChpc1Byb21pc2UpIHByb21pc2UuX2ludm9rZUludGVybmFsT25DYW5jZWwoKTtcblxuICAgICAgICBpZiAocmVjZWl2ZXIgaW5zdGFuY2VvZiBQYXNzVGhyb3VnaEhhbmRsZXJDb250ZXh0ICYmXG4gICAgICAgICAgICByZWNlaXZlci5pc0ZpbmFsbHlIYW5kbGVyKCkpIHtcbiAgICAgICAgICAgIHJlY2VpdmVyLmNhbmNlbFByb21pc2UgPSBwcm9taXNlO1xuICAgICAgICAgICAgaWYgKHRyeUNhdGNoKGhhbmRsZXIpLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA9PT0gZXJyb3JPYmopIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlLl9yZWplY3QoZXJyb3JPYmouZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaGFuZGxlciA9PT0gcmVmbGVjdEhhbmRsZXIpIHtcbiAgICAgICAgICAgIHByb21pc2UuX2Z1bGZpbGwocmVmbGVjdEhhbmRsZXIuY2FsbChyZWNlaXZlcikpO1xuICAgICAgICB9IGVsc2UgaWYgKHJlY2VpdmVyIGluc3RhbmNlb2YgUHJveHlhYmxlKSB7XG4gICAgICAgICAgICByZWNlaXZlci5fcHJvbWlzZUNhbmNlbGxlZChwcm9taXNlKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc1Byb21pc2UgfHwgcHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2VBcnJheSkge1xuICAgICAgICAgICAgcHJvbWlzZS5fY2FuY2VsKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWNlaXZlci5jYW5jZWwoKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBpZiAoIWlzUHJvbWlzZSkge1xuICAgICAgICAgICAgaGFuZGxlci5jYWxsKHJlY2VpdmVyLCB2YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoYXN5bmNHdWFyYW50ZWVkKSBwcm9taXNlLl9zZXRBc3luY0d1YXJhbnRlZWQoKTtcbiAgICAgICAgICAgIHRoaXMuX3NldHRsZVByb21pc2VGcm9tSGFuZGxlcihoYW5kbGVyLCByZWNlaXZlciwgdmFsdWUsIHByb21pc2UpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChyZWNlaXZlciBpbnN0YW5jZW9mIFByb3h5YWJsZSkge1xuICAgICAgICBpZiAoIXJlY2VpdmVyLl9pc1Jlc29sdmVkKCkpIHtcbiAgICAgICAgICAgIGlmICgoKGJpdEZpZWxkICYgMzM1NTQ0MzIpICE9PSAwKSkge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVyLl9wcm9taXNlRnVsZmlsbGVkKHZhbHVlLCBwcm9taXNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZXIuX3Byb21pc2VSZWplY3RlZCh2YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzUHJvbWlzZSkge1xuICAgICAgICBpZiAoYXN5bmNHdWFyYW50ZWVkKSBwcm9taXNlLl9zZXRBc3luY0d1YXJhbnRlZWQoKTtcbiAgICAgICAgaWYgKCgoYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDApKSB7XG4gICAgICAgICAgICBwcm9taXNlLl9mdWxmaWxsKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb21pc2UuX3JlamVjdCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fc2V0dGxlUHJvbWlzZUxhdGVDYW5jZWxsYXRpb25PYnNlcnZlciA9IGZ1bmN0aW9uKGN0eCkge1xuICAgIHZhciBoYW5kbGVyID0gY3R4LmhhbmRsZXI7XG4gICAgdmFyIHByb21pc2UgPSBjdHgucHJvbWlzZTtcbiAgICB2YXIgcmVjZWl2ZXIgPSBjdHgucmVjZWl2ZXI7XG4gICAgdmFyIHZhbHVlID0gY3R4LnZhbHVlO1xuICAgIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGlmICghKHByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSkge1xuICAgICAgICAgICAgaGFuZGxlci5jYWxsKHJlY2VpdmVyLCB2YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zZXR0bGVQcm9taXNlRnJvbUhhbmRsZXIoaGFuZGxlciwgcmVjZWl2ZXIsIHZhbHVlLCBwcm9taXNlKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAocHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgcHJvbWlzZS5fcmVqZWN0KHZhbHVlKTtcbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fc2V0dGxlUHJvbWlzZUN0eCA9IGZ1bmN0aW9uKGN0eCkge1xuICAgIHRoaXMuX3NldHRsZVByb21pc2UoY3R4LnByb21pc2UsIGN0eC5oYW5kbGVyLCBjdHgucmVjZWl2ZXIsIGN0eC52YWx1ZSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fc2V0dGxlUHJvbWlzZTAgPSBmdW5jdGlvbihoYW5kbGVyLCB2YWx1ZSwgYml0RmllbGQpIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXMuX3Byb21pc2UwO1xuICAgIHZhciByZWNlaXZlciA9IHRoaXMuX3JlY2VpdmVyQXQoMCk7XG4gICAgdGhpcy5fcHJvbWlzZTAgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fcmVjZWl2ZXIwID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3NldHRsZVByb21pc2UocHJvbWlzZSwgaGFuZGxlciwgcmVjZWl2ZXIsIHZhbHVlKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9jbGVhckNhbGxiYWNrRGF0YUF0SW5kZXggPSBmdW5jdGlvbihpbmRleCkge1xuICAgIHZhciBiYXNlID0gaW5kZXggKiA0IC0gNDtcbiAgICB0aGlzW2Jhc2UgKyAyXSA9XG4gICAgdGhpc1tiYXNlICsgM10gPVxuICAgIHRoaXNbYmFzZSArIDBdID1cbiAgICB0aGlzW2Jhc2UgKyAxXSA9IHVuZGVmaW5lZDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9mdWxmaWxsID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdmFyIGJpdEZpZWxkID0gdGhpcy5fYml0RmllbGQ7XG4gICAgaWYgKCgoYml0RmllbGQgJiAxMTc1MDYwNDgpID4+PiAxNikpIHJldHVybjtcbiAgICBpZiAodmFsdWUgPT09IHRoaXMpIHtcbiAgICAgICAgdmFyIGVyciA9IG1ha2VTZWxmUmVzb2x1dGlvbkVycm9yKCk7XG4gICAgICAgIHRoaXMuX2F0dGFjaEV4dHJhVHJhY2UoZXJyKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlamVjdChlcnIpO1xuICAgIH1cbiAgICB0aGlzLl9zZXRGdWxmaWxsZWQoKTtcbiAgICB0aGlzLl9yZWplY3Rpb25IYW5kbGVyMCA9IHZhbHVlO1xuXG4gICAgaWYgKChiaXRGaWVsZCAmIDY1NTM1KSA+IDApIHtcbiAgICAgICAgaWYgKCgoYml0RmllbGQgJiAxMzQyMTc3MjgpICE9PSAwKSkge1xuICAgICAgICAgICAgdGhpcy5fc2V0dGxlUHJvbWlzZXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFzeW5jLnNldHRsZVByb21pc2VzKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3JlamVjdCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICB2YXIgYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZDtcbiAgICBpZiAoKChiaXRGaWVsZCAmIDExNzUwNjA0OCkgPj4+IDE2KSkgcmV0dXJuO1xuICAgIHRoaXMuX3NldFJlamVjdGVkKCk7XG4gICAgdGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyMCA9IHJlYXNvbjtcblxuICAgIGlmICh0aGlzLl9pc0ZpbmFsKCkpIHtcbiAgICAgICAgcmV0dXJuIGFzeW5jLmZhdGFsRXJyb3IocmVhc29uLCB1dGlsLmlzTm9kZSk7XG4gICAgfVxuXG4gICAgaWYgKChiaXRGaWVsZCAmIDY1NTM1KSA+IDApIHtcbiAgICAgICAgYXN5bmMuc2V0dGxlUHJvbWlzZXModGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fZW5zdXJlUG9zc2libGVSZWplY3Rpb25IYW5kbGVkKCk7XG4gICAgfVxufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2Z1bGZpbGxQcm9taXNlcyA9IGZ1bmN0aW9uIChsZW4sIHZhbHVlKSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgaGFuZGxlciA9IHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlckF0KGkpO1xuICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuX3Byb21pc2VBdChpKTtcbiAgICAgICAgdmFyIHJlY2VpdmVyID0gdGhpcy5fcmVjZWl2ZXJBdChpKTtcbiAgICAgICAgdGhpcy5fY2xlYXJDYWxsYmFja0RhdGFBdEluZGV4KGkpO1xuICAgICAgICB0aGlzLl9zZXR0bGVQcm9taXNlKHByb21pc2UsIGhhbmRsZXIsIHJlY2VpdmVyLCB2YWx1ZSk7XG4gICAgfVxufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3JlamVjdFByb21pc2VzID0gZnVuY3Rpb24gKGxlbiwgcmVhc29uKSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgaGFuZGxlciA9IHRoaXMuX3JlamVjdGlvbkhhbmRsZXJBdChpKTtcbiAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLl9wcm9taXNlQXQoaSk7XG4gICAgICAgIHZhciByZWNlaXZlciA9IHRoaXMuX3JlY2VpdmVyQXQoaSk7XG4gICAgICAgIHRoaXMuX2NsZWFyQ2FsbGJhY2tEYXRhQXRJbmRleChpKTtcbiAgICAgICAgdGhpcy5fc2V0dGxlUHJvbWlzZShwcm9taXNlLCBoYW5kbGVyLCByZWNlaXZlciwgcmVhc29uKTtcbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fc2V0dGxlUHJvbWlzZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGJpdEZpZWxkID0gdGhpcy5fYml0RmllbGQ7XG4gICAgdmFyIGxlbiA9IChiaXRGaWVsZCAmIDY1NTM1KTtcblxuICAgIGlmIChsZW4gPiAwKSB7XG4gICAgICAgIGlmICgoKGJpdEZpZWxkICYgMTY4NDI3NTIpICE9PSAwKSkge1xuICAgICAgICAgICAgdmFyIHJlYXNvbiA9IHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlcjA7XG4gICAgICAgICAgICB0aGlzLl9zZXR0bGVQcm9taXNlMCh0aGlzLl9yZWplY3Rpb25IYW5kbGVyMCwgcmVhc29uLCBiaXRGaWVsZCk7XG4gICAgICAgICAgICB0aGlzLl9yZWplY3RQcm9taXNlcyhsZW4sIHJlYXNvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLl9yZWplY3Rpb25IYW5kbGVyMDtcbiAgICAgICAgICAgIHRoaXMuX3NldHRsZVByb21pc2UwKHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlcjAsIHZhbHVlLCBiaXRGaWVsZCk7XG4gICAgICAgICAgICB0aGlzLl9mdWxmaWxsUHJvbWlzZXMobGVuLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2V0TGVuZ3RoKDApO1xuICAgIH1cbiAgICB0aGlzLl9jbGVhckNhbmNlbGxhdGlvbkRhdGEoKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXR0bGVkVmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZDtcbiAgICBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwO1xuICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDE2Nzc3MjE2KSAhPT0gMCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlcjA7XG4gICAgfVxufTtcblxuZnVuY3Rpb24gZGVmZXJSZXNvbHZlKHYpIHt0aGlzLnByb21pc2UuX3Jlc29sdmVDYWxsYmFjayh2KTt9XG5mdW5jdGlvbiBkZWZlclJlamVjdCh2KSB7dGhpcy5wcm9taXNlLl9yZWplY3RDYWxsYmFjayh2LCBmYWxzZSk7fVxuXG5Qcm9taXNlLmRlZmVyID0gUHJvbWlzZS5wZW5kaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgZGVidWcuZGVwcmVjYXRlZChcIlByb21pc2UuZGVmZXJcIiwgXCJuZXcgUHJvbWlzZVwiKTtcbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwcm9taXNlOiBwcm9taXNlLFxuICAgICAgICByZXNvbHZlOiBkZWZlclJlc29sdmUsXG4gICAgICAgIHJlamVjdDogZGVmZXJSZWplY3RcbiAgICB9O1xufTtcblxudXRpbC5ub3RFbnVtZXJhYmxlUHJvcChQcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICAgICBcIl9tYWtlU2VsZlJlc29sdXRpb25FcnJvclwiLFxuICAgICAgICAgICAgICAgICAgICAgICBtYWtlU2VsZlJlc29sdXRpb25FcnJvcik7XG5cbl9kZXJlcV8oXCIuL21ldGhvZFwiKShQcm9taXNlLCBJTlRFUk5BTCwgdHJ5Q29udmVydFRvUHJvbWlzZSwgYXBpUmVqZWN0aW9uLFxuICAgIGRlYnVnKTtcbl9kZXJlcV8oXCIuL2JpbmRcIikoUHJvbWlzZSwgSU5URVJOQUwsIHRyeUNvbnZlcnRUb1Byb21pc2UsIGRlYnVnKTtcbl9kZXJlcV8oXCIuL2NhbmNlbFwiKShQcm9taXNlLCBQcm9taXNlQXJyYXksIGFwaVJlamVjdGlvbiwgZGVidWcpO1xuX2RlcmVxXyhcIi4vZGlyZWN0X3Jlc29sdmVcIikoUHJvbWlzZSk7XG5fZGVyZXFfKFwiLi9zeW5jaHJvbm91c19pbnNwZWN0aW9uXCIpKFByb21pc2UpO1xuX2RlcmVxXyhcIi4vam9pblwiKShcbiAgICBQcm9taXNlLCBQcm9taXNlQXJyYXksIHRyeUNvbnZlcnRUb1Byb21pc2UsIElOVEVSTkFMLCBhc3luYywgZ2V0RG9tYWluKTtcblByb21pc2UuUHJvbWlzZSA9IFByb21pc2U7XG5Qcm9taXNlLnZlcnNpb24gPSBcIjMuNC42XCI7XG5fZGVyZXFfKCcuL21hcC5qcycpKFByb21pc2UsIFByb21pc2VBcnJheSwgYXBpUmVqZWN0aW9uLCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBJTlRFUk5BTCwgZGVidWcpO1xuX2RlcmVxXygnLi9jYWxsX2dldC5qcycpKFByb21pc2UpO1xuX2RlcmVxXygnLi91c2luZy5qcycpKFByb21pc2UsIGFwaVJlamVjdGlvbiwgdHJ5Q29udmVydFRvUHJvbWlzZSwgY3JlYXRlQ29udGV4dCwgSU5URVJOQUwsIGRlYnVnKTtcbl9kZXJlcV8oJy4vdGltZXJzLmpzJykoUHJvbWlzZSwgSU5URVJOQUwsIGRlYnVnKTtcbl9kZXJlcV8oJy4vZ2VuZXJhdG9ycy5qcycpKFByb21pc2UsIGFwaVJlamVjdGlvbiwgSU5URVJOQUwsIHRyeUNvbnZlcnRUb1Byb21pc2UsIFByb3h5YWJsZSwgZGVidWcpO1xuX2RlcmVxXygnLi9ub2RlaWZ5LmpzJykoUHJvbWlzZSk7XG5fZGVyZXFfKCcuL3Byb21pc2lmeS5qcycpKFByb21pc2UsIElOVEVSTkFMKTtcbl9kZXJlcV8oJy4vcHJvcHMuanMnKShQcm9taXNlLCBQcm9taXNlQXJyYXksIHRyeUNvbnZlcnRUb1Byb21pc2UsIGFwaVJlamVjdGlvbik7XG5fZGVyZXFfKCcuL3JhY2UuanMnKShQcm9taXNlLCBJTlRFUk5BTCwgdHJ5Q29udmVydFRvUHJvbWlzZSwgYXBpUmVqZWN0aW9uKTtcbl9kZXJlcV8oJy4vcmVkdWNlLmpzJykoUHJvbWlzZSwgUHJvbWlzZUFycmF5LCBhcGlSZWplY3Rpb24sIHRyeUNvbnZlcnRUb1Byb21pc2UsIElOVEVSTkFMLCBkZWJ1Zyk7XG5fZGVyZXFfKCcuL3NldHRsZS5qcycpKFByb21pc2UsIFByb21pc2VBcnJheSwgZGVidWcpO1xuX2RlcmVxXygnLi9zb21lLmpzJykoUHJvbWlzZSwgUHJvbWlzZUFycmF5LCBhcGlSZWplY3Rpb24pO1xuX2RlcmVxXygnLi9maWx0ZXIuanMnKShQcm9taXNlLCBJTlRFUk5BTCk7XG5fZGVyZXFfKCcuL2VhY2guanMnKShQcm9taXNlLCBJTlRFUk5BTCk7XG5fZGVyZXFfKCcuL2FueS5qcycpKFByb21pc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgdXRpbC50b0Zhc3RQcm9wZXJ0aWVzKFByb21pc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgIHV0aWwudG9GYXN0UHJvcGVydGllcyhQcm9taXNlLnByb3RvdHlwZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICBmdW5jdGlvbiBmaWxsVHlwZXModmFsdWUpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIHZhciBwID0gbmV3IFByb21pc2UoSU5URVJOQUwpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICBwLl9mdWxmaWxsbWVudEhhbmRsZXIwID0gdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgcC5fcmVqZWN0aW9uSGFuZGxlcjAgPSB2YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIHAuX3Byb21pc2UwID0gdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICBwLl9yZWNlaXZlcjAgPSB2YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgLy8gQ29tcGxldGUgc2xhY2sgdHJhY2tpbmcsIG9wdCBvdXQgb2YgZmllbGQtdHlwZSB0cmFja2luZyBhbmQgICAgICAgICAgIFxuICAgIC8vIHN0YWJpbGl6ZSBtYXAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICBmaWxsVHlwZXMoe2E6IDF9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgZmlsbFR5cGVzKHtiOiAyfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgIGZpbGxUeXBlcyh7YzogM30pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICBmaWxsVHlwZXMoMSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgZmlsbFR5cGVzKGZ1bmN0aW9uKCl7fSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgIGZpbGxUeXBlcyh1bmRlZmluZWQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICBmaWxsVHlwZXMoZmFsc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgZmlsbFR5cGVzKG5ldyBQcm9taXNlKElOVEVSTkFMKSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgIGRlYnVnLnNldEJvdW5kcyhBc3luYy5maXJzdExpbmVFcnJvciwgdXRpbC5sYXN0TGluZUVycm9yKTsgICAgICAgICAgICAgICBcbiAgICByZXR1cm4gUHJvbWlzZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cbn07XG5cbn0se1wiLi9hbnkuanNcIjoxLFwiLi9hc3luY1wiOjIsXCIuL2JpbmRcIjozLFwiLi9jYWxsX2dldC5qc1wiOjUsXCIuL2NhbmNlbFwiOjYsXCIuL2NhdGNoX2ZpbHRlclwiOjcsXCIuL2NvbnRleHRcIjo4LFwiLi9kZWJ1Z2dhYmlsaXR5XCI6OSxcIi4vZGlyZWN0X3Jlc29sdmVcIjoxMCxcIi4vZWFjaC5qc1wiOjExLFwiLi9lcnJvcnNcIjoxMixcIi4vZXM1XCI6MTMsXCIuL2ZpbHRlci5qc1wiOjE0LFwiLi9maW5hbGx5XCI6MTUsXCIuL2dlbmVyYXRvcnMuanNcIjoxNixcIi4vam9pblwiOjE3LFwiLi9tYXAuanNcIjoxOCxcIi4vbWV0aG9kXCI6MTksXCIuL25vZGViYWNrXCI6MjAsXCIuL25vZGVpZnkuanNcIjoyMSxcIi4vcHJvbWlzZV9hcnJheVwiOjIzLFwiLi9wcm9taXNpZnkuanNcIjoyNCxcIi4vcHJvcHMuanNcIjoyNSxcIi4vcmFjZS5qc1wiOjI3LFwiLi9yZWR1Y2UuanNcIjoyOCxcIi4vc2V0dGxlLmpzXCI6MzAsXCIuL3NvbWUuanNcIjozMSxcIi4vc3luY2hyb25vdXNfaW5zcGVjdGlvblwiOjMyLFwiLi90aGVuYWJsZXNcIjozMyxcIi4vdGltZXJzLmpzXCI6MzQsXCIuL3VzaW5nLmpzXCI6MzUsXCIuL3V0aWxcIjozNn1dLDIzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLCBJTlRFUk5BTCwgdHJ5Q29udmVydFRvUHJvbWlzZSxcbiAgICBhcGlSZWplY3Rpb24sIFByb3h5YWJsZSkge1xudmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xudmFyIGlzQXJyYXkgPSB1dGlsLmlzQXJyYXk7XG5cbmZ1bmN0aW9uIHRvUmVzb2x1dGlvblZhbHVlKHZhbCkge1xuICAgIHN3aXRjaCh2YWwpIHtcbiAgICBjYXNlIC0yOiByZXR1cm4gW107XG4gICAgY2FzZSAtMzogcmV0dXJuIHt9O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gUHJvbWlzZUFycmF5KHZhbHVlcykge1xuICAgIHZhciBwcm9taXNlID0gdGhpcy5fcHJvbWlzZSA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcbiAgICBpZiAodmFsdWVzIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICBwcm9taXNlLl9wcm9wYWdhdGVGcm9tKHZhbHVlcywgMyk7XG4gICAgfVxuICAgIHByb21pc2UuX3NldE9uQ2FuY2VsKHRoaXMpO1xuICAgIHRoaXMuX3ZhbHVlcyA9IHZhbHVlcztcbiAgICB0aGlzLl9sZW5ndGggPSAwO1xuICAgIHRoaXMuX3RvdGFsUmVzb2x2ZWQgPSAwO1xuICAgIHRoaXMuX2luaXQodW5kZWZpbmVkLCAtMik7XG59XG51dGlsLmluaGVyaXRzKFByb21pc2VBcnJheSwgUHJveHlhYmxlKTtcblxuUHJvbWlzZUFycmF5LnByb3RvdHlwZS5sZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xlbmd0aDtcbn07XG5cblByb21pc2VBcnJheS5wcm90b3R5cGUucHJvbWlzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJvbWlzZTtcbn07XG5cblByb21pc2VBcnJheS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiBpbml0KF8sIHJlc29sdmVWYWx1ZUlmRW1wdHkpIHtcbiAgICB2YXIgdmFsdWVzID0gdHJ5Q29udmVydFRvUHJvbWlzZSh0aGlzLl92YWx1ZXMsIHRoaXMuX3Byb21pc2UpO1xuICAgIGlmICh2YWx1ZXMgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHZhbHVlcyA9IHZhbHVlcy5fdGFyZ2V0KCk7XG4gICAgICAgIHZhciBiaXRGaWVsZCA9IHZhbHVlcy5fYml0RmllbGQ7XG4gICAgICAgIDtcbiAgICAgICAgdGhpcy5fdmFsdWVzID0gdmFsdWVzO1xuXG4gICAgICAgIGlmICgoKGJpdEZpZWxkICYgNTAzOTcxODQpID09PSAwKSkge1xuICAgICAgICAgICAgdGhpcy5fcHJvbWlzZS5fc2V0QXN5bmNHdWFyYW50ZWVkKCk7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVzLl90aGVuKFxuICAgICAgICAgICAgICAgIGluaXQsXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVqZWN0LFxuICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgIHJlc29sdmVWYWx1ZUlmRW1wdHlcbiAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMzM1NTQ0MzIpICE9PSAwKSkge1xuICAgICAgICAgICAgdmFsdWVzID0gdmFsdWVzLl92YWx1ZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKCgoYml0RmllbGQgJiAxNjc3NzIxNikgIT09IDApKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVqZWN0KHZhbHVlcy5fcmVhc29uKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhbmNlbCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhbHVlcyA9IHV0aWwuYXNBcnJheSh2YWx1ZXMpO1xuICAgIGlmICh2YWx1ZXMgPT09IG51bGwpIHtcbiAgICAgICAgdmFyIGVyciA9IGFwaVJlamVjdGlvbihcbiAgICAgICAgICAgIFwiZXhwZWN0aW5nIGFuIGFycmF5IG9yIGFuIGl0ZXJhYmxlIG9iamVjdCBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyh2YWx1ZXMpKS5yZWFzb24oKTtcbiAgICAgICAgdGhpcy5fcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2soZXJyLCBmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBpZiAocmVzb2x2ZVZhbHVlSWZFbXB0eSA9PT0gLTUpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmVFbXB0eUFycmF5KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlKHRvUmVzb2x1dGlvblZhbHVlKHJlc29sdmVWYWx1ZUlmRW1wdHkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2l0ZXJhdGUodmFsdWVzKTtcbn07XG5cblByb21pc2VBcnJheS5wcm90b3R5cGUuX2l0ZXJhdGUgPSBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgICB2YXIgbGVuID0gdGhpcy5nZXRBY3R1YWxMZW5ndGgodmFsdWVzLmxlbmd0aCk7XG4gICAgdGhpcy5fbGVuZ3RoID0gbGVuO1xuICAgIHRoaXMuX3ZhbHVlcyA9IHRoaXMuc2hvdWxkQ29weVZhbHVlcygpID8gbmV3IEFycmF5KGxlbikgOiB0aGlzLl92YWx1ZXM7XG4gICAgdmFyIHJlc3VsdCA9IHRoaXMuX3Byb21pc2U7XG4gICAgdmFyIGlzUmVzb2x2ZWQgPSBmYWxzZTtcbiAgICB2YXIgYml0RmllbGQgPSBudWxsO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgdmFyIG1heWJlUHJvbWlzZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UodmFsdWVzW2ldLCByZXN1bHQpO1xuXG4gICAgICAgIGlmIChtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICBtYXliZVByb21pc2UgPSBtYXliZVByb21pc2UuX3RhcmdldCgpO1xuICAgICAgICAgICAgYml0RmllbGQgPSBtYXliZVByb21pc2UuX2JpdEZpZWxkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYml0RmllbGQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzUmVzb2x2ZWQpIHtcbiAgICAgICAgICAgIGlmIChiaXRGaWVsZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG1heWJlUHJvbWlzZS5zdXBwcmVzc1VuaGFuZGxlZFJlamVjdGlvbnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChiaXRGaWVsZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKCgoYml0RmllbGQgJiA1MDM5NzE4NCkgPT09IDApKSB7XG4gICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlLl9wcm94eSh0aGlzLCBpKTtcbiAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXNbaV0gPSBtYXliZVByb21pc2U7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCgoYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDApKSB7XG4gICAgICAgICAgICAgICAgaXNSZXNvbHZlZCA9IHRoaXMuX3Byb21pc2VGdWxmaWxsZWQobWF5YmVQcm9taXNlLl92YWx1ZSgpLCBpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDE2Nzc3MjE2KSAhPT0gMCkpIHtcbiAgICAgICAgICAgICAgICBpc1Jlc29sdmVkID0gdGhpcy5fcHJvbWlzZVJlamVjdGVkKG1heWJlUHJvbWlzZS5fcmVhc29uKCksIGkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpc1Jlc29sdmVkID0gdGhpcy5fcHJvbWlzZUNhbmNlbGxlZChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlzUmVzb2x2ZWQgPSB0aGlzLl9wcm9taXNlRnVsZmlsbGVkKG1heWJlUHJvbWlzZSwgaSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFpc1Jlc29sdmVkKSByZXN1bHQuX3NldEFzeW5jR3VhcmFudGVlZCgpO1xufTtcblxuUHJvbWlzZUFycmF5LnByb3RvdHlwZS5faXNSZXNvbHZlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWVzID09PSBudWxsO1xufTtcblxuUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcmVzb2x2ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHRoaXMuX3ZhbHVlcyA9IG51bGw7XG4gICAgdGhpcy5fcHJvbWlzZS5fZnVsZmlsbCh2YWx1ZSk7XG59O1xuXG5Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5faXNSZXNvbHZlZCgpIHx8ICF0aGlzLl9wcm9taXNlLl9pc0NhbmNlbGxhYmxlKCkpIHJldHVybjtcbiAgICB0aGlzLl92YWx1ZXMgPSBudWxsO1xuICAgIHRoaXMuX3Byb21pc2UuX2NhbmNlbCgpO1xufTtcblxuUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcmVqZWN0ID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHRoaXMuX3ZhbHVlcyA9IG51bGw7XG4gICAgdGhpcy5fcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2socmVhc29uLCBmYWxzZSk7XG59O1xuXG5Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9wcm9taXNlRnVsZmlsbGVkID0gZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xuICAgIHRoaXMuX3ZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcbiAgICB2YXIgdG90YWxSZXNvbHZlZCA9ICsrdGhpcy5fdG90YWxSZXNvbHZlZDtcbiAgICBpZiAodG90YWxSZXNvbHZlZCA+PSB0aGlzLl9sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZSh0aGlzLl92YWx1ZXMpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZUNhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2NhbmNlbCgpO1xuICAgIHJldHVybiB0cnVlO1xufTtcblxuUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZVJlamVjdGVkID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHRoaXMuX3RvdGFsUmVzb2x2ZWQrKztcbiAgICB0aGlzLl9yZWplY3QocmVhc29uKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cblByb21pc2VBcnJheS5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLl9pc1Jlc29sdmVkKCkpIHJldHVybjtcbiAgICB2YXIgdmFsdWVzID0gdGhpcy5fdmFsdWVzO1xuICAgIHRoaXMuX2NhbmNlbCgpO1xuICAgIGlmICh2YWx1ZXMgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHZhbHVlcy5jYW5jZWwoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlc1tpXSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbaV0uY2FuY2VsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5Qcm9taXNlQXJyYXkucHJvdG90eXBlLnNob3VsZENvcHlWYWx1ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5Qcm9taXNlQXJyYXkucHJvdG90eXBlLmdldEFjdHVhbExlbmd0aCA9IGZ1bmN0aW9uIChsZW4pIHtcbiAgICByZXR1cm4gbGVuO1xufTtcblxucmV0dXJuIFByb21pc2VBcnJheTtcbn07XG5cbn0se1wiLi91dGlsXCI6MzZ9XSwyNDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSwgSU5URVJOQUwpIHtcbnZhciBUSElTID0ge307XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgbm9kZWJhY2tGb3JQcm9taXNlID0gX2RlcmVxXyhcIi4vbm9kZWJhY2tcIik7XG52YXIgd2l0aEFwcGVuZGVkID0gdXRpbC53aXRoQXBwZW5kZWQ7XG52YXIgbWF5YmVXcmFwQXNFcnJvciA9IHV0aWwubWF5YmVXcmFwQXNFcnJvcjtcbnZhciBjYW5FdmFsdWF0ZSA9IHV0aWwuY2FuRXZhbHVhdGU7XG52YXIgVHlwZUVycm9yID0gX2RlcmVxXyhcIi4vZXJyb3JzXCIpLlR5cGVFcnJvcjtcbnZhciBkZWZhdWx0U3VmZml4ID0gXCJBc3luY1wiO1xudmFyIGRlZmF1bHRQcm9taXNpZmllZCA9IHtfX2lzUHJvbWlzaWZpZWRfXzogdHJ1ZX07XG52YXIgbm9Db3B5UHJvcHMgPSBbXG4gICAgXCJhcml0eVwiLCAgICBcImxlbmd0aFwiLFxuICAgIFwibmFtZVwiLFxuICAgIFwiYXJndW1lbnRzXCIsXG4gICAgXCJjYWxsZXJcIixcbiAgICBcImNhbGxlZVwiLFxuICAgIFwicHJvdG90eXBlXCIsXG4gICAgXCJfX2lzUHJvbWlzaWZpZWRfX1wiXG5dO1xudmFyIG5vQ29weVByb3BzUGF0dGVybiA9IG5ldyBSZWdFeHAoXCJeKD86XCIgKyBub0NvcHlQcm9wcy5qb2luKFwifFwiKSArIFwiKSRcIik7XG5cbnZhciBkZWZhdWx0RmlsdGVyID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB1dGlsLmlzSWRlbnRpZmllcihuYW1lKSAmJlxuICAgICAgICBuYW1lLmNoYXJBdCgwKSAhPT0gXCJfXCIgJiZcbiAgICAgICAgbmFtZSAhPT0gXCJjb25zdHJ1Y3RvclwiO1xufTtcblxuZnVuY3Rpb24gcHJvcHNGaWx0ZXIoa2V5KSB7XG4gICAgcmV0dXJuICFub0NvcHlQcm9wc1BhdHRlcm4udGVzdChrZXkpO1xufVxuXG5mdW5jdGlvbiBpc1Byb21pc2lmaWVkKGZuKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGZuLl9faXNQcm9taXNpZmllZF9fID09PSB0cnVlO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBoYXNQcm9taXNpZmllZChvYmosIGtleSwgc3VmZml4KSB7XG4gICAgdmFyIHZhbCA9IHV0aWwuZ2V0RGF0YVByb3BlcnR5T3JEZWZhdWx0KG9iaiwga2V5ICsgc3VmZml4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UHJvbWlzaWZpZWQpO1xuICAgIHJldHVybiB2YWwgPyBpc1Byb21pc2lmaWVkKHZhbCkgOiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGNoZWNrVmFsaWQocmV0LCBzdWZmaXgsIHN1ZmZpeFJlZ2V4cCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmV0Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgIHZhciBrZXkgPSByZXRbaV07XG4gICAgICAgIGlmIChzdWZmaXhSZWdleHAudGVzdChrZXkpKSB7XG4gICAgICAgICAgICB2YXIga2V5V2l0aG91dEFzeW5jU3VmZml4ID0ga2V5LnJlcGxhY2Uoc3VmZml4UmVnZXhwLCBcIlwiKTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcmV0Lmxlbmd0aDsgaiArPSAyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJldFtqXSA9PT0ga2V5V2l0aG91dEFzeW5jU3VmZml4KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcHJvbWlzaWZ5IGFuIEFQSSB0aGF0IGhhcyBub3JtYWwgbWV0aG9kcyB3aXRoICclcyctc3VmZml4XFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShcIiVzXCIsIHN1ZmZpeCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gcHJvbWlzaWZpYWJsZU1ldGhvZHMob2JqLCBzdWZmaXgsIHN1ZmZpeFJlZ2V4cCwgZmlsdGVyKSB7XG4gICAgdmFyIGtleXMgPSB1dGlsLmluaGVyaXRlZERhdGFLZXlzKG9iaik7XG4gICAgdmFyIHJldCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgdmFyIHZhbHVlID0gb2JqW2tleV07XG4gICAgICAgIHZhciBwYXNzZXNEZWZhdWx0RmlsdGVyID0gZmlsdGVyID09PSBkZWZhdWx0RmlsdGVyXG4gICAgICAgICAgICA/IHRydWUgOiBkZWZhdWx0RmlsdGVyKGtleSwgdmFsdWUsIG9iaik7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICAgICAgIWlzUHJvbWlzaWZpZWQodmFsdWUpICYmXG4gICAgICAgICAgICAhaGFzUHJvbWlzaWZpZWQob2JqLCBrZXksIHN1ZmZpeCkgJiZcbiAgICAgICAgICAgIGZpbHRlcihrZXksIHZhbHVlLCBvYmosIHBhc3Nlc0RlZmF1bHRGaWx0ZXIpKSB7XG4gICAgICAgICAgICByZXQucHVzaChrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjaGVja1ZhbGlkKHJldCwgc3VmZml4LCBzdWZmaXhSZWdleHApO1xuICAgIHJldHVybiByZXQ7XG59XG5cbnZhciBlc2NhcGVJZGVudFJlZ2V4ID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oWyRdKS8sIFwiXFxcXCRcIik7XG59O1xuXG52YXIgbWFrZU5vZGVQcm9taXNpZmllZEV2YWw7XG5pZiAoIXRydWUpIHtcbnZhciBzd2l0Y2hDYXNlQXJndW1lbnRPcmRlciA9IGZ1bmN0aW9uKGxpa2VseUFyZ3VtZW50Q291bnQpIHtcbiAgICB2YXIgcmV0ID0gW2xpa2VseUFyZ3VtZW50Q291bnRdO1xuICAgIHZhciBtaW4gPSBNYXRoLm1heCgwLCBsaWtlbHlBcmd1bWVudENvdW50IC0gMSAtIDMpO1xuICAgIGZvcih2YXIgaSA9IGxpa2VseUFyZ3VtZW50Q291bnQgLSAxOyBpID49IG1pbjsgLS1pKSB7XG4gICAgICAgIHJldC5wdXNoKGkpO1xuICAgIH1cbiAgICBmb3IodmFyIGkgPSBsaWtlbHlBcmd1bWVudENvdW50ICsgMTsgaSA8PSAzOyArK2kpIHtcbiAgICAgICAgcmV0LnB1c2goaSk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59O1xuXG52YXIgYXJndW1lbnRTZXF1ZW5jZSA9IGZ1bmN0aW9uKGFyZ3VtZW50Q291bnQpIHtcbiAgICByZXR1cm4gdXRpbC5maWxsZWRSYW5nZShhcmd1bWVudENvdW50LCBcIl9hcmdcIiwgXCJcIik7XG59O1xuXG52YXIgcGFyYW1ldGVyRGVjbGFyYXRpb24gPSBmdW5jdGlvbihwYXJhbWV0ZXJDb3VudCkge1xuICAgIHJldHVybiB1dGlsLmZpbGxlZFJhbmdlKFxuICAgICAgICBNYXRoLm1heChwYXJhbWV0ZXJDb3VudCwgMyksIFwiX2FyZ1wiLCBcIlwiKTtcbn07XG5cbnZhciBwYXJhbWV0ZXJDb3VudCA9IGZ1bmN0aW9uKGZuKSB7XG4gICAgaWYgKHR5cGVvZiBmbi5sZW5ndGggPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KE1hdGgubWluKGZuLmxlbmd0aCwgMTAyMyArIDEpLCAwKTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG59O1xuXG5tYWtlTm9kZVByb21pc2lmaWVkRXZhbCA9XG5mdW5jdGlvbihjYWxsYmFjaywgcmVjZWl2ZXIsIG9yaWdpbmFsTmFtZSwgZm4sIF8sIG11bHRpQXJncykge1xuICAgIHZhciBuZXdQYXJhbWV0ZXJDb3VudCA9IE1hdGgubWF4KDAsIHBhcmFtZXRlckNvdW50KGZuKSAtIDEpO1xuICAgIHZhciBhcmd1bWVudE9yZGVyID0gc3dpdGNoQ2FzZUFyZ3VtZW50T3JkZXIobmV3UGFyYW1ldGVyQ291bnQpO1xuICAgIHZhciBzaG91bGRQcm94eVRoaXMgPSB0eXBlb2YgY2FsbGJhY2sgPT09IFwic3RyaW5nXCIgfHwgcmVjZWl2ZXIgPT09IFRISVM7XG5cbiAgICBmdW5jdGlvbiBnZW5lcmF0ZUNhbGxGb3JBcmd1bWVudENvdW50KGNvdW50KSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRTZXF1ZW5jZShjb3VudCkuam9pbihcIiwgXCIpO1xuICAgICAgICB2YXIgY29tbWEgPSBjb3VudCA+IDAgPyBcIiwgXCIgOiBcIlwiO1xuICAgICAgICB2YXIgcmV0O1xuICAgICAgICBpZiAoc2hvdWxkUHJveHlUaGlzKSB7XG4gICAgICAgICAgICByZXQgPSBcInJldCA9IGNhbGxiYWNrLmNhbGwodGhpcywge3thcmdzfX0sIG5vZGViYWNrKTsgYnJlYWs7XFxuXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXQgPSByZWNlaXZlciA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBcInJldCA9IGNhbGxiYWNrKHt7YXJnc319LCBub2RlYmFjayk7IGJyZWFrO1xcblwiXG4gICAgICAgICAgICAgICAgOiBcInJldCA9IGNhbGxiYWNrLmNhbGwocmVjZWl2ZXIsIHt7YXJnc319LCBub2RlYmFjayk7IGJyZWFrO1xcblwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXQucmVwbGFjZShcInt7YXJnc319XCIsIGFyZ3MpLnJlcGxhY2UoXCIsIFwiLCBjb21tYSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVBcmd1bWVudFN3aXRjaENhc2UoKSB7XG4gICAgICAgIHZhciByZXQgPSBcIlwiO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50T3JkZXIubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHJldCArPSBcImNhc2UgXCIgKyBhcmd1bWVudE9yZGVyW2ldICtcIjpcIiArXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVDYWxsRm9yQXJndW1lbnRDb3VudChhcmd1bWVudE9yZGVyW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldCArPSBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICBkZWZhdWx0OiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkobGVuICsgMSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgdmFyIGkgPSAwOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgYXJnc1tpXSA9IG5vZGViYWNrOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgW0NvZGVGb3JDYWxsXSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgYnJlYWs7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICBcIi5yZXBsYWNlKFwiW0NvZGVGb3JDYWxsXVwiLCAoc2hvdWxkUHJveHlUaGlzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJyZXQgPSBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmdzKTtcXG5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwicmV0ID0gY2FsbGJhY2suYXBwbHkocmVjZWl2ZXIsIGFyZ3MpO1xcblwiKSk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgdmFyIGdldEZ1bmN0aW9uQ29kZSA9IHR5cGVvZiBjYWxsYmFjayA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IChcInRoaXMgIT0gbnVsbCA/IHRoaXNbJ1wiK2NhbGxiYWNrK1wiJ10gOiBmblwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiZm5cIjtcbiAgICB2YXIgYm9keSA9IFwiJ3VzZSBzdHJpY3QnOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgIHZhciByZXQgPSBmdW5jdGlvbiAoUGFyYW1ldGVycykgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAndXNlIHN0cmljdCc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBwcm9taXNlLl9jYXB0dXJlU3RhY2tUcmFjZSgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICB2YXIgbm9kZWJhY2sgPSBub2RlYmFja0ZvclByb21pc2UocHJvbWlzZSwgXCIgKyBtdWx0aUFyZ3MgKyBcIik7ICAgXFxuXFxcbiAgICAgICAgICAgIHZhciByZXQ7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IHRyeUNhdGNoKFtHZXRGdW5jdGlvbkNvZGVdKTsgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgIHN3aXRjaChsZW4pIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgICAgICBbQ29kZUZvclN3aXRjaENhc2VdICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgIGlmIChyZXQgPT09IGVycm9yT2JqKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgICAgICBwcm9taXNlLl9yZWplY3RDYWxsYmFjayhtYXliZVdyYXBBc0Vycm9yKHJldC5lKSwgdHJ1ZSwgdHJ1ZSk7XFxuXFxcbiAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgIGlmICghcHJvbWlzZS5faXNGYXRlU2VhbGVkKCkpIHByb21pc2UuX3NldEFzeW5jR3VhcmFudGVlZCgpOyAgICAgXFxuXFxcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgfTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgbm90RW51bWVyYWJsZVByb3AocmV0LCAnX19pc1Byb21pc2lmaWVkX18nLCB0cnVlKTsgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgcmV0dXJuIHJldDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICBcIi5yZXBsYWNlKFwiW0NvZGVGb3JTd2l0Y2hDYXNlXVwiLCBnZW5lcmF0ZUFyZ3VtZW50U3dpdGNoQ2FzZSgpKVxuICAgICAgICAucmVwbGFjZShcIltHZXRGdW5jdGlvbkNvZGVdXCIsIGdldEZ1bmN0aW9uQ29kZSk7XG4gICAgYm9keSA9IGJvZHkucmVwbGFjZShcIlBhcmFtZXRlcnNcIiwgcGFyYW1ldGVyRGVjbGFyYXRpb24obmV3UGFyYW1ldGVyQ291bnQpKTtcbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKFwiUHJvbWlzZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJyZWNlaXZlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ3aXRoQXBwZW5kZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibWF5YmVXcmFwQXNFcnJvclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJub2RlYmFja0ZvclByb21pc2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHJ5Q2F0Y2hcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZXJyb3JPYmpcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibm90RW51bWVyYWJsZVByb3BcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiSU5URVJOQUxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkpKFxuICAgICAgICAgICAgICAgICAgICBQcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICBmbixcbiAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXIsXG4gICAgICAgICAgICAgICAgICAgIHdpdGhBcHBlbmRlZCxcbiAgICAgICAgICAgICAgICAgICAgbWF5YmVXcmFwQXNFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgbm9kZWJhY2tGb3JQcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICB1dGlsLnRyeUNhdGNoLFxuICAgICAgICAgICAgICAgICAgICB1dGlsLmVycm9yT2JqLFxuICAgICAgICAgICAgICAgICAgICB1dGlsLm5vdEVudW1lcmFibGVQcm9wLFxuICAgICAgICAgICAgICAgICAgICBJTlRFUk5BTCk7XG59O1xufVxuXG5mdW5jdGlvbiBtYWtlTm9kZVByb21pc2lmaWVkQ2xvc3VyZShjYWxsYmFjaywgcmVjZWl2ZXIsIF8sIGZuLCBfXywgbXVsdGlBcmdzKSB7XG4gICAgdmFyIGRlZmF1bHRUaGlzID0gKGZ1bmN0aW9uKCkge3JldHVybiB0aGlzO30pKCk7XG4gICAgdmFyIG1ldGhvZCA9IGNhbGxiYWNrO1xuICAgIGlmICh0eXBlb2YgbWV0aG9kID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNhbGxiYWNrID0gZm47XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByb21pc2lmaWVkKCkge1xuICAgICAgICB2YXIgX3JlY2VpdmVyID0gcmVjZWl2ZXI7XG4gICAgICAgIGlmIChyZWNlaXZlciA9PT0gVEhJUykgX3JlY2VpdmVyID0gdGhpcztcbiAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG4gICAgICAgIHByb21pc2UuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG4gICAgICAgIHZhciBjYiA9IHR5cGVvZiBtZXRob2QgPT09IFwic3RyaW5nXCIgJiYgdGhpcyAhPT0gZGVmYXVsdFRoaXNcbiAgICAgICAgICAgID8gdGhpc1ttZXRob2RdIDogY2FsbGJhY2s7XG4gICAgICAgIHZhciBmbiA9IG5vZGViYWNrRm9yUHJvbWlzZShwcm9taXNlLCBtdWx0aUFyZ3MpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY2IuYXBwbHkoX3JlY2VpdmVyLCB3aXRoQXBwZW5kZWQoYXJndW1lbnRzLCBmbikpO1xuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIHByb21pc2UuX3JlamVjdENhbGxiYWNrKG1heWJlV3JhcEFzRXJyb3IoZSksIHRydWUsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcHJvbWlzZS5faXNGYXRlU2VhbGVkKCkpIHByb21pc2UuX3NldEFzeW5jR3VhcmFudGVlZCgpO1xuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gICAgdXRpbC5ub3RFbnVtZXJhYmxlUHJvcChwcm9taXNpZmllZCwgXCJfX2lzUHJvbWlzaWZpZWRfX1wiLCB0cnVlKTtcbiAgICByZXR1cm4gcHJvbWlzaWZpZWQ7XG59XG5cbnZhciBtYWtlTm9kZVByb21pc2lmaWVkID0gY2FuRXZhbHVhdGVcbiAgICA/IG1ha2VOb2RlUHJvbWlzaWZpZWRFdmFsXG4gICAgOiBtYWtlTm9kZVByb21pc2lmaWVkQ2xvc3VyZTtcblxuZnVuY3Rpb24gcHJvbWlzaWZ5QWxsKG9iaiwgc3VmZml4LCBmaWx0ZXIsIHByb21pc2lmaWVyLCBtdWx0aUFyZ3MpIHtcbiAgICB2YXIgc3VmZml4UmVnZXhwID0gbmV3IFJlZ0V4cChlc2NhcGVJZGVudFJlZ2V4KHN1ZmZpeCkgKyBcIiRcIik7XG4gICAgdmFyIG1ldGhvZHMgPVxuICAgICAgICBwcm9taXNpZmlhYmxlTWV0aG9kcyhvYmosIHN1ZmZpeCwgc3VmZml4UmVnZXhwLCBmaWx0ZXIpO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG1ldGhvZHMubGVuZ3RoOyBpIDwgbGVuOyBpKz0gMikge1xuICAgICAgICB2YXIga2V5ID0gbWV0aG9kc1tpXTtcbiAgICAgICAgdmFyIGZuID0gbWV0aG9kc1tpKzFdO1xuICAgICAgICB2YXIgcHJvbWlzaWZpZWRLZXkgPSBrZXkgKyBzdWZmaXg7XG4gICAgICAgIGlmIChwcm9taXNpZmllciA9PT0gbWFrZU5vZGVQcm9taXNpZmllZCkge1xuICAgICAgICAgICAgb2JqW3Byb21pc2lmaWVkS2V5XSA9XG4gICAgICAgICAgICAgICAgbWFrZU5vZGVQcm9taXNpZmllZChrZXksIFRISVMsIGtleSwgZm4sIHN1ZmZpeCwgbXVsdGlBcmdzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBwcm9taXNpZmllZCA9IHByb21pc2lmaWVyKGZuLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFrZU5vZGVQcm9taXNpZmllZChrZXksIFRISVMsIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbiwgc3VmZml4LCBtdWx0aUFyZ3MpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB1dGlsLm5vdEVudW1lcmFibGVQcm9wKHByb21pc2lmaWVkLCBcIl9faXNQcm9taXNpZmllZF9fXCIsIHRydWUpO1xuICAgICAgICAgICAgb2JqW3Byb21pc2lmaWVkS2V5XSA9IHByb21pc2lmaWVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIHV0aWwudG9GYXN0UHJvcGVydGllcyhvYmopO1xuICAgIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIHByb21pc2lmeShjYWxsYmFjaywgcmVjZWl2ZXIsIG11bHRpQXJncykge1xuICAgIHJldHVybiBtYWtlTm9kZVByb21pc2lmaWVkKGNhbGxiYWNrLCByZWNlaXZlciwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaywgbnVsbCwgbXVsdGlBcmdzKTtcbn1cblxuUHJvbWlzZS5wcm9taXNpZnkgPSBmdW5jdGlvbiAoZm4sIG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKGZuKSk7XG4gICAgfVxuICAgIGlmIChpc1Byb21pc2lmaWVkKGZuKSkge1xuICAgICAgICByZXR1cm4gZm47XG4gICAgfVxuICAgIG9wdGlvbnMgPSBPYmplY3Qob3B0aW9ucyk7XG4gICAgdmFyIHJlY2VpdmVyID0gb3B0aW9ucy5jb250ZXh0ID09PSB1bmRlZmluZWQgPyBUSElTIDogb3B0aW9ucy5jb250ZXh0O1xuICAgIHZhciBtdWx0aUFyZ3MgPSAhIW9wdGlvbnMubXVsdGlBcmdzO1xuICAgIHZhciByZXQgPSBwcm9taXNpZnkoZm4sIHJlY2VpdmVyLCBtdWx0aUFyZ3MpO1xuICAgIHV0aWwuY29weURlc2NyaXB0b3JzKGZuLCByZXQsIHByb3BzRmlsdGVyKTtcbiAgICByZXR1cm4gcmV0O1xufTtcblxuUHJvbWlzZS5wcm9taXNpZnlBbGwgPSBmdW5jdGlvbiAodGFyZ2V0LCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiB0YXJnZXQgIT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgdGFyZ2V0ICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJ0aGUgdGFyZ2V0IG9mIHByb21pc2lmeUFsbCBtdXN0IGJlIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uXFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcbiAgICB9XG4gICAgb3B0aW9ucyA9IE9iamVjdChvcHRpb25zKTtcbiAgICB2YXIgbXVsdGlBcmdzID0gISFvcHRpb25zLm11bHRpQXJncztcbiAgICB2YXIgc3VmZml4ID0gb3B0aW9ucy5zdWZmaXg7XG4gICAgaWYgKHR5cGVvZiBzdWZmaXggIT09IFwic3RyaW5nXCIpIHN1ZmZpeCA9IGRlZmF1bHRTdWZmaXg7XG4gICAgdmFyIGZpbHRlciA9IG9wdGlvbnMuZmlsdGVyO1xuICAgIGlmICh0eXBlb2YgZmlsdGVyICE9PSBcImZ1bmN0aW9uXCIpIGZpbHRlciA9IGRlZmF1bHRGaWx0ZXI7XG4gICAgdmFyIHByb21pc2lmaWVyID0gb3B0aW9ucy5wcm9taXNpZmllcjtcbiAgICBpZiAodHlwZW9mIHByb21pc2lmaWVyICE9PSBcImZ1bmN0aW9uXCIpIHByb21pc2lmaWVyID0gbWFrZU5vZGVQcm9taXNpZmllZDtcblxuICAgIGlmICghdXRpbC5pc0lkZW50aWZpZXIoc3VmZml4KSkge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInN1ZmZpeCBtdXN0IGJlIGEgdmFsaWQgaWRlbnRpZmllclxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG4gICAgfVxuXG4gICAgdmFyIGtleXMgPSB1dGlsLmluaGVyaXRlZERhdGFLZXlzKHRhcmdldCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRhcmdldFtrZXlzW2ldXTtcbiAgICAgICAgaWYgKGtleXNbaV0gIT09IFwiY29uc3RydWN0b3JcIiAmJlxuICAgICAgICAgICAgdXRpbC5pc0NsYXNzKHZhbHVlKSkge1xuICAgICAgICAgICAgcHJvbWlzaWZ5QWxsKHZhbHVlLnByb3RvdHlwZSwgc3VmZml4LCBmaWx0ZXIsIHByb21pc2lmaWVyLFxuICAgICAgICAgICAgICAgIG11bHRpQXJncyk7XG4gICAgICAgICAgICBwcm9taXNpZnlBbGwodmFsdWUsIHN1ZmZpeCwgZmlsdGVyLCBwcm9taXNpZmllciwgbXVsdGlBcmdzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNpZnlBbGwodGFyZ2V0LCBzdWZmaXgsIGZpbHRlciwgcHJvbWlzaWZpZXIsIG11bHRpQXJncyk7XG59O1xufTtcblxuXG59LHtcIi4vZXJyb3JzXCI6MTIsXCIuL25vZGViYWNrXCI6MjAsXCIuL3V0aWxcIjozNn1dLDI1OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihcbiAgICBQcm9taXNlLCBQcm9taXNlQXJyYXksIHRyeUNvbnZlcnRUb1Byb21pc2UsIGFwaVJlamVjdGlvbikge1xudmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xudmFyIGlzT2JqZWN0ID0gdXRpbC5pc09iamVjdDtcbnZhciBlczUgPSBfZGVyZXFfKFwiLi9lczVcIik7XG52YXIgRXM2TWFwO1xuaWYgKHR5cGVvZiBNYXAgPT09IFwiZnVuY3Rpb25cIikgRXM2TWFwID0gTWFwO1xuXG52YXIgbWFwVG9FbnRyaWVzID0gKGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIHNpemUgPSAwO1xuXG4gICAgZnVuY3Rpb24gZXh0cmFjdEVudHJ5KHZhbHVlLCBrZXkpIHtcbiAgICAgICAgdGhpc1tpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgdGhpc1tpbmRleCArIHNpemVdID0ga2V5O1xuICAgICAgICBpbmRleCsrO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiBtYXBUb0VudHJpZXMobWFwKSB7XG4gICAgICAgIHNpemUgPSBtYXAuc2l6ZTtcbiAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICB2YXIgcmV0ID0gbmV3IEFycmF5KG1hcC5zaXplICogMik7XG4gICAgICAgIG1hcC5mb3JFYWNoKGV4dHJhY3RFbnRyeSwgcmV0KTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xufSkoKTtcblxudmFyIGVudHJpZXNUb01hcCA9IGZ1bmN0aW9uKGVudHJpZXMpIHtcbiAgICB2YXIgcmV0ID0gbmV3IEVzNk1hcCgpO1xuICAgIHZhciBsZW5ndGggPSBlbnRyaWVzLmxlbmd0aCAvIDIgfCAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGtleSA9IGVudHJpZXNbbGVuZ3RoICsgaV07XG4gICAgICAgIHZhciB2YWx1ZSA9IGVudHJpZXNbaV07XG4gICAgICAgIHJldC5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59O1xuXG5mdW5jdGlvbiBQcm9wZXJ0aWVzUHJvbWlzZUFycmF5KG9iaikge1xuICAgIHZhciBpc01hcCA9IGZhbHNlO1xuICAgIHZhciBlbnRyaWVzO1xuICAgIGlmIChFczZNYXAgIT09IHVuZGVmaW5lZCAmJiBvYmogaW5zdGFuY2VvZiBFczZNYXApIHtcbiAgICAgICAgZW50cmllcyA9IG1hcFRvRW50cmllcyhvYmopO1xuICAgICAgICBpc01hcCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGtleXMgPSBlczUua2V5cyhvYmopO1xuICAgICAgICB2YXIgbGVuID0ga2V5cy5sZW5ndGg7XG4gICAgICAgIGVudHJpZXMgPSBuZXcgQXJyYXkobGVuICogMik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgICAgZW50cmllc1tpXSA9IG9ialtrZXldO1xuICAgICAgICAgICAgZW50cmllc1tpICsgbGVuXSA9IGtleTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmNvbnN0cnVjdG9yJChlbnRyaWVzKTtcbiAgICB0aGlzLl9pc01hcCA9IGlzTWFwO1xuICAgIHRoaXMuX2luaXQkKHVuZGVmaW5lZCwgLTMpO1xufVxudXRpbC5pbmhlcml0cyhQcm9wZXJ0aWVzUHJvbWlzZUFycmF5LCBQcm9taXNlQXJyYXkpO1xuXG5Qcm9wZXJ0aWVzUHJvbWlzZUFycmF5LnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uICgpIHt9O1xuXG5Qcm9wZXJ0aWVzUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZUZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcbiAgICB0aGlzLl92YWx1ZXNbaW5kZXhdID0gdmFsdWU7XG4gICAgdmFyIHRvdGFsUmVzb2x2ZWQgPSArK3RoaXMuX3RvdGFsUmVzb2x2ZWQ7XG4gICAgaWYgKHRvdGFsUmVzb2x2ZWQgPj0gdGhpcy5fbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWw7XG4gICAgICAgIGlmICh0aGlzLl9pc01hcCkge1xuICAgICAgICAgICAgdmFsID0gZW50cmllc1RvTWFwKHRoaXMuX3ZhbHVlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWwgPSB7fTtcbiAgICAgICAgICAgIHZhciBrZXlPZmZzZXQgPSB0aGlzLmxlbmd0aCgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMubGVuZ3RoKCk7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgICAgIHZhbFt0aGlzLl92YWx1ZXNbaSArIGtleU9mZnNldF1dID0gdGhpcy5fdmFsdWVzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Jlc29sdmUodmFsKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cblByb3BlcnRpZXNQcm9taXNlQXJyYXkucHJvdG90eXBlLnNob3VsZENvcHlWYWx1ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuUHJvcGVydGllc1Byb21pc2VBcnJheS5wcm90b3R5cGUuZ2V0QWN0dWFsTGVuZ3RoID0gZnVuY3Rpb24gKGxlbikge1xuICAgIHJldHVybiBsZW4gPj4gMTtcbn07XG5cbmZ1bmN0aW9uIHByb3BzKHByb21pc2VzKSB7XG4gICAgdmFyIHJldDtcbiAgICB2YXIgY2FzdFZhbHVlID0gdHJ5Q29udmVydFRvUHJvbWlzZShwcm9taXNlcyk7XG5cbiAgICBpZiAoIWlzT2JqZWN0KGNhc3RWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGFwaVJlamVjdGlvbihcImNhbm5vdCBhd2FpdCBwcm9wZXJ0aWVzIG9mIGEgbm9uLW9iamVjdFxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG4gICAgfSBlbHNlIGlmIChjYXN0VmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHJldCA9IGNhc3RWYWx1ZS5fdGhlbihcbiAgICAgICAgICAgIFByb21pc2UucHJvcHMsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0ID0gbmV3IFByb3BlcnRpZXNQcm9taXNlQXJyYXkoY2FzdFZhbHVlKS5wcm9taXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKGNhc3RWYWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgcmV0Ll9wcm9wYWdhdGVGcm9tKGNhc3RWYWx1ZSwgMik7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59XG5cblByb21pc2UucHJvdG90eXBlLnByb3BzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwcm9wcyh0aGlzKTtcbn07XG5cblByb21pc2UucHJvcHMgPSBmdW5jdGlvbiAocHJvbWlzZXMpIHtcbiAgICByZXR1cm4gcHJvcHMocHJvbWlzZXMpO1xufTtcbn07XG5cbn0se1wiLi9lczVcIjoxMyxcIi4vdXRpbFwiOjM2fV0sMjY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBhcnJheU1vdmUoc3JjLCBzcmNJbmRleCwgZHN0LCBkc3RJbmRleCwgbGVuKSB7XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBsZW47ICsraikge1xuICAgICAgICBkc3RbaiArIGRzdEluZGV4XSA9IHNyY1tqICsgc3JjSW5kZXhdO1xuICAgICAgICBzcmNbaiArIHNyY0luZGV4XSA9IHZvaWQgMDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIFF1ZXVlKGNhcGFjaXR5KSB7XG4gICAgdGhpcy5fY2FwYWNpdHkgPSBjYXBhY2l0eTtcbiAgICB0aGlzLl9sZW5ndGggPSAwO1xuICAgIHRoaXMuX2Zyb250ID0gMDtcbn1cblxuUXVldWUucHJvdG90eXBlLl93aWxsQmVPdmVyQ2FwYWNpdHkgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgIHJldHVybiB0aGlzLl9jYXBhY2l0eSA8IHNpemU7XG59O1xuXG5RdWV1ZS5wcm90b3R5cGUuX3B1c2hPbmUgPSBmdW5jdGlvbiAoYXJnKSB7XG4gICAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoKCk7XG4gICAgdGhpcy5fY2hlY2tDYXBhY2l0eShsZW5ndGggKyAxKTtcbiAgICB2YXIgaSA9ICh0aGlzLl9mcm9udCArIGxlbmd0aCkgJiAodGhpcy5fY2FwYWNpdHkgLSAxKTtcbiAgICB0aGlzW2ldID0gYXJnO1xuICAgIHRoaXMuX2xlbmd0aCA9IGxlbmd0aCArIDE7XG59O1xuXG5RdWV1ZS5wcm90b3R5cGUuX3Vuc2hpZnRPbmUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciBjYXBhY2l0eSA9IHRoaXMuX2NhcGFjaXR5O1xuICAgIHRoaXMuX2NoZWNrQ2FwYWNpdHkodGhpcy5sZW5ndGgoKSArIDEpO1xuICAgIHZhciBmcm9udCA9IHRoaXMuX2Zyb250O1xuICAgIHZhciBpID0gKCgoKCBmcm9udCAtIDEgKSAmXG4gICAgICAgICAgICAgICAgICAgICggY2FwYWNpdHkgLSAxKSApIF4gY2FwYWNpdHkgKSAtIGNhcGFjaXR5ICk7XG4gICAgdGhpc1tpXSA9IHZhbHVlO1xuICAgIHRoaXMuX2Zyb250ID0gaTtcbiAgICB0aGlzLl9sZW5ndGggPSB0aGlzLmxlbmd0aCgpICsgMTtcbn07XG5cblF1ZXVlLnByb3RvdHlwZS51bnNoaWZ0ID0gZnVuY3Rpb24oZm4sIHJlY2VpdmVyLCBhcmcpIHtcbiAgICB0aGlzLl91bnNoaWZ0T25lKGFyZyk7XG4gICAgdGhpcy5fdW5zaGlmdE9uZShyZWNlaXZlcik7XG4gICAgdGhpcy5fdW5zaGlmdE9uZShmbik7XG59O1xuXG5RdWV1ZS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChmbiwgcmVjZWl2ZXIsIGFyZykge1xuICAgIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aCgpICsgMztcbiAgICBpZiAodGhpcy5fd2lsbEJlT3ZlckNhcGFjaXR5KGxlbmd0aCkpIHtcbiAgICAgICAgdGhpcy5fcHVzaE9uZShmbik7XG4gICAgICAgIHRoaXMuX3B1c2hPbmUocmVjZWl2ZXIpO1xuICAgICAgICB0aGlzLl9wdXNoT25lKGFyZyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGogPSB0aGlzLl9mcm9udCArIGxlbmd0aCAtIDM7XG4gICAgdGhpcy5fY2hlY2tDYXBhY2l0eShsZW5ndGgpO1xuICAgIHZhciB3cmFwTWFzayA9IHRoaXMuX2NhcGFjaXR5IC0gMTtcbiAgICB0aGlzWyhqICsgMCkgJiB3cmFwTWFza10gPSBmbjtcbiAgICB0aGlzWyhqICsgMSkgJiB3cmFwTWFza10gPSByZWNlaXZlcjtcbiAgICB0aGlzWyhqICsgMikgJiB3cmFwTWFza10gPSBhcmc7XG4gICAgdGhpcy5fbGVuZ3RoID0gbGVuZ3RoO1xufTtcblxuUXVldWUucHJvdG90eXBlLnNoaWZ0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBmcm9udCA9IHRoaXMuX2Zyb250LFxuICAgICAgICByZXQgPSB0aGlzW2Zyb250XTtcblxuICAgIHRoaXNbZnJvbnRdID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX2Zyb250ID0gKGZyb250ICsgMSkgJiAodGhpcy5fY2FwYWNpdHkgLSAxKTtcbiAgICB0aGlzLl9sZW5ndGgtLTtcbiAgICByZXR1cm4gcmV0O1xufTtcblxuUXVldWUucHJvdG90eXBlLmxlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fbGVuZ3RoO1xufTtcblxuUXVldWUucHJvdG90eXBlLl9jaGVja0NhcGFjaXR5ID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgICBpZiAodGhpcy5fY2FwYWNpdHkgPCBzaXplKSB7XG4gICAgICAgIHRoaXMuX3Jlc2l6ZVRvKHRoaXMuX2NhcGFjaXR5IDw8IDEpO1xuICAgIH1cbn07XG5cblF1ZXVlLnByb3RvdHlwZS5fcmVzaXplVG8gPSBmdW5jdGlvbiAoY2FwYWNpdHkpIHtcbiAgICB2YXIgb2xkQ2FwYWNpdHkgPSB0aGlzLl9jYXBhY2l0eTtcbiAgICB0aGlzLl9jYXBhY2l0eSA9IGNhcGFjaXR5O1xuICAgIHZhciBmcm9udCA9IHRoaXMuX2Zyb250O1xuICAgIHZhciBsZW5ndGggPSB0aGlzLl9sZW5ndGg7XG4gICAgdmFyIG1vdmVJdGVtc0NvdW50ID0gKGZyb250ICsgbGVuZ3RoKSAmIChvbGRDYXBhY2l0eSAtIDEpO1xuICAgIGFycmF5TW92ZSh0aGlzLCAwLCB0aGlzLCBvbGRDYXBhY2l0eSwgbW92ZUl0ZW1zQ291bnQpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBRdWV1ZTtcblxufSx7fV0sMjc6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFxuICAgIFByb21pc2UsIElOVEVSTkFMLCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBhcGlSZWplY3Rpb24pIHtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcblxudmFyIHJhY2VMYXRlciA9IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbihhcnJheSkge1xuICAgICAgICByZXR1cm4gcmFjZShhcnJheSwgcHJvbWlzZSk7XG4gICAgfSk7XG59O1xuXG5mdW5jdGlvbiByYWNlKHByb21pc2VzLCBwYXJlbnQpIHtcbiAgICB2YXIgbWF5YmVQcm9taXNlID0gdHJ5Q29udmVydFRvUHJvbWlzZShwcm9taXNlcyk7XG5cbiAgICBpZiAobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICByZXR1cm4gcmFjZUxhdGVyKG1heWJlUHJvbWlzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcHJvbWlzZXMgPSB1dGlsLmFzQXJyYXkocHJvbWlzZXMpO1xuICAgICAgICBpZiAocHJvbWlzZXMgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gYXBpUmVqZWN0aW9uKFwiZXhwZWN0aW5nIGFuIGFycmF5IG9yIGFuIGl0ZXJhYmxlIG9iamVjdCBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyhwcm9taXNlcykpO1xuICAgIH1cblxuICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG4gICAgaWYgKHBhcmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldC5fcHJvcGFnYXRlRnJvbShwYXJlbnQsIDMpO1xuICAgIH1cbiAgICB2YXIgZnVsZmlsbCA9IHJldC5fZnVsZmlsbDtcbiAgICB2YXIgcmVqZWN0ID0gcmV0Ll9yZWplY3Q7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHByb21pc2VzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIHZhciB2YWwgPSBwcm9taXNlc1tpXTtcblxuICAgICAgICBpZiAodmFsID09PSB1bmRlZmluZWQgJiYgIShpIGluIHByb21pc2VzKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBQcm9taXNlLmNhc3QodmFsKS5fdGhlbihmdWxmaWxsLCByZWplY3QsIHVuZGVmaW5lZCwgcmV0LCBudWxsKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn1cblxuUHJvbWlzZS5yYWNlID0gZnVuY3Rpb24gKHByb21pc2VzKSB7XG4gICAgcmV0dXJuIHJhY2UocHJvbWlzZXMsIHVuZGVmaW5lZCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5yYWNlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiByYWNlKHRoaXMsIHVuZGVmaW5lZCk7XG59O1xuXG59O1xuXG59LHtcIi4vdXRpbFwiOjM2fV0sMjg6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFByb21pc2VBcnJheSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpUmVqZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0cnlDb252ZXJ0VG9Qcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBJTlRFUk5BTCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcpIHtcbnZhciBnZXREb21haW4gPSBQcm9taXNlLl9nZXREb21haW47XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgdHJ5Q2F0Y2ggPSB1dGlsLnRyeUNhdGNoO1xuXG5mdW5jdGlvbiBSZWR1Y3Rpb25Qcm9taXNlQXJyYXkocHJvbWlzZXMsIGZuLCBpbml0aWFsVmFsdWUsIF9lYWNoKSB7XG4gICAgdGhpcy5jb25zdHJ1Y3RvciQocHJvbWlzZXMpO1xuICAgIHZhciBkb21haW4gPSBnZXREb21haW4oKTtcbiAgICB0aGlzLl9mbiA9IGRvbWFpbiA9PT0gbnVsbCA/IGZuIDogdXRpbC5kb21haW5CaW5kKGRvbWFpbiwgZm4pO1xuICAgIGlmIChpbml0aWFsVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbml0aWFsVmFsdWUgPSBQcm9taXNlLnJlc29sdmUoaW5pdGlhbFZhbHVlKTtcbiAgICAgICAgaW5pdGlhbFZhbHVlLl9hdHRhY2hDYW5jZWxsYXRpb25DYWxsYmFjayh0aGlzKTtcbiAgICB9XG4gICAgdGhpcy5faW5pdGlhbFZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICAgIHRoaXMuX2N1cnJlbnRDYW5jZWxsYWJsZSA9IG51bGw7XG4gICAgaWYoX2VhY2ggPT09IElOVEVSTkFMKSB7XG4gICAgICAgIHRoaXMuX2VhY2hWYWx1ZXMgPSBBcnJheSh0aGlzLl9sZW5ndGgpO1xuICAgIH0gZWxzZSBpZiAoX2VhY2ggPT09IDApIHtcbiAgICAgICAgdGhpcy5fZWFjaFZhbHVlcyA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fZWFjaFZhbHVlcyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgdGhpcy5fcHJvbWlzZS5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcbiAgICB0aGlzLl9pbml0JCh1bmRlZmluZWQsIC01KTtcbn1cbnV0aWwuaW5oZXJpdHMoUmVkdWN0aW9uUHJvbWlzZUFycmF5LCBQcm9taXNlQXJyYXkpO1xuXG5SZWR1Y3Rpb25Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9nb3RBY2N1bSA9IGZ1bmN0aW9uKGFjY3VtKSB7XG4gICAgaWYgKHRoaXMuX2VhY2hWYWx1ZXMgIT09IHVuZGVmaW5lZCAmJiBcbiAgICAgICAgdGhpcy5fZWFjaFZhbHVlcyAhPT0gbnVsbCAmJiBcbiAgICAgICAgYWNjdW0gIT09IElOVEVSTkFMKSB7XG4gICAgICAgIHRoaXMuX2VhY2hWYWx1ZXMucHVzaChhY2N1bSk7XG4gICAgfVxufTtcblxuUmVkdWN0aW9uUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fZWFjaENvbXBsZXRlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAodGhpcy5fZWFjaFZhbHVlcyAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLl9lYWNoVmFsdWVzLnB1c2godmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fZWFjaFZhbHVlcztcbn07XG5cblJlZHVjdGlvblByb21pc2VBcnJheS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbigpIHt9O1xuXG5SZWR1Y3Rpb25Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9yZXNvbHZlRW1wdHlBcnJheSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX3Jlc29sdmUodGhpcy5fZWFjaFZhbHVlcyAhPT0gdW5kZWZpbmVkID8gdGhpcy5fZWFjaFZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5faW5pdGlhbFZhbHVlKTtcbn07XG5cblJlZHVjdGlvblByb21pc2VBcnJheS5wcm90b3R5cGUuc2hvdWxkQ29weVZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG5SZWR1Y3Rpb25Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9yZXNvbHZlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB0aGlzLl9wcm9taXNlLl9yZXNvbHZlQ2FsbGJhY2sodmFsdWUpO1xuICAgIHRoaXMuX3ZhbHVlcyA9IG51bGw7XG59O1xuXG5SZWR1Y3Rpb25Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQgPSBmdW5jdGlvbihzZW5kZXIpIHtcbiAgICBpZiAoc2VuZGVyID09PSB0aGlzLl9pbml0aWFsVmFsdWUpIHJldHVybiB0aGlzLl9jYW5jZWwoKTtcbiAgICBpZiAodGhpcy5faXNSZXNvbHZlZCgpKSByZXR1cm47XG4gICAgdGhpcy5fcmVzdWx0Q2FuY2VsbGVkJCgpO1xuICAgIGlmICh0aGlzLl9jdXJyZW50Q2FuY2VsbGFibGUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRDYW5jZWxsYWJsZS5jYW5jZWwoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2luaXRpYWxWYWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgdGhpcy5faW5pdGlhbFZhbHVlLmNhbmNlbCgpO1xuICAgIH1cbn07XG5cblJlZHVjdGlvblByb21pc2VBcnJheS5wcm90b3R5cGUuX2l0ZXJhdGUgPSBmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgdGhpcy5fdmFsdWVzID0gdmFsdWVzO1xuICAgIHZhciB2YWx1ZTtcbiAgICB2YXIgaTtcbiAgICB2YXIgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aDtcbiAgICBpZiAodGhpcy5faW5pdGlhbFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUgPSB0aGlzLl9pbml0aWFsVmFsdWU7XG4gICAgICAgIGkgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gUHJvbWlzZS5yZXNvbHZlKHZhbHVlc1swXSk7XG4gICAgICAgIGkgPSAxO1xuICAgIH1cblxuICAgIHRoaXMuX2N1cnJlbnRDYW5jZWxsYWJsZSA9IHZhbHVlO1xuXG4gICAgaWYgKCF2YWx1ZS5pc1JlamVjdGVkKCkpIHtcbiAgICAgICAgZm9yICg7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGN0eCA9IHtcbiAgICAgICAgICAgICAgICBhY2N1bTogbnVsbCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVzW2ldLFxuICAgICAgICAgICAgICAgIGluZGV4OiBpLFxuICAgICAgICAgICAgICAgIGxlbmd0aDogbGVuZ3RoLFxuICAgICAgICAgICAgICAgIGFycmF5OiB0aGlzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5fdGhlbihnb3RBY2N1bSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGN0eCwgdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLl9lYWNoVmFsdWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZVxuICAgICAgICAgICAgLl90aGVuKHRoaXMuX2VhY2hDb21wbGV0ZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHRoaXMsIHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIHZhbHVlLl90aGVuKGNvbXBsZXRlZCwgY29tcGxldGVkLCB1bmRlZmluZWQsIHZhbHVlLCB0aGlzKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnJlZHVjZSA9IGZ1bmN0aW9uIChmbiwgaW5pdGlhbFZhbHVlKSB7XG4gICAgcmV0dXJuIHJlZHVjZSh0aGlzLCBmbiwgaW5pdGlhbFZhbHVlLCBudWxsKTtcbn07XG5cblByb21pc2UucmVkdWNlID0gZnVuY3Rpb24gKHByb21pc2VzLCBmbiwgaW5pdGlhbFZhbHVlLCBfZWFjaCkge1xuICAgIHJldHVybiByZWR1Y2UocHJvbWlzZXMsIGZuLCBpbml0aWFsVmFsdWUsIF9lYWNoKTtcbn07XG5cbmZ1bmN0aW9uIGNvbXBsZXRlZCh2YWx1ZU9yUmVhc29uLCBhcnJheSkge1xuICAgIGlmICh0aGlzLmlzRnVsZmlsbGVkKCkpIHtcbiAgICAgICAgYXJyYXkuX3Jlc29sdmUodmFsdWVPclJlYXNvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYXJyYXkuX3JlamVjdCh2YWx1ZU9yUmVhc29uKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlZHVjZShwcm9taXNlcywgZm4sIGluaXRpYWxWYWx1ZSwgX2VhY2gpIHtcbiAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGFwaVJlamVjdGlvbihcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKGZuKSk7XG4gICAgfVxuICAgIHZhciBhcnJheSA9IG5ldyBSZWR1Y3Rpb25Qcm9taXNlQXJyYXkocHJvbWlzZXMsIGZuLCBpbml0aWFsVmFsdWUsIF9lYWNoKTtcbiAgICByZXR1cm4gYXJyYXkucHJvbWlzZSgpO1xufVxuXG5mdW5jdGlvbiBnb3RBY2N1bShhY2N1bSkge1xuICAgIHRoaXMuYWNjdW0gPSBhY2N1bTtcbiAgICB0aGlzLmFycmF5Ll9nb3RBY2N1bShhY2N1bSk7XG4gICAgdmFyIHZhbHVlID0gdHJ5Q29udmVydFRvUHJvbWlzZSh0aGlzLnZhbHVlLCB0aGlzLmFycmF5Ll9wcm9taXNlKTtcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHRoaXMuYXJyYXkuX2N1cnJlbnRDYW5jZWxsYWJsZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdmFsdWUuX3RoZW4oZ290VmFsdWUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0aGlzLCB1bmRlZmluZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBnb3RWYWx1ZS5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdvdFZhbHVlKHZhbHVlKSB7XG4gICAgdmFyIGFycmF5ID0gdGhpcy5hcnJheTtcbiAgICB2YXIgcHJvbWlzZSA9IGFycmF5Ll9wcm9taXNlO1xuICAgIHZhciBmbiA9IHRyeUNhdGNoKGFycmF5Ll9mbik7XG4gICAgcHJvbWlzZS5fcHVzaENvbnRleHQoKTtcbiAgICB2YXIgcmV0O1xuICAgIGlmIChhcnJheS5fZWFjaFZhbHVlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldCA9IGZuLmNhbGwocHJvbWlzZS5fYm91bmRWYWx1ZSgpLCB2YWx1ZSwgdGhpcy5pbmRleCwgdGhpcy5sZW5ndGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldCA9IGZuLmNhbGwocHJvbWlzZS5fYm91bmRWYWx1ZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY2N1bSwgdmFsdWUsIHRoaXMuaW5kZXgsIHRoaXMubGVuZ3RoKTtcbiAgICB9XG4gICAgaWYgKHJldCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgYXJyYXkuX2N1cnJlbnRDYW5jZWxsYWJsZSA9IHJldDtcbiAgICB9XG4gICAgdmFyIHByb21pc2VDcmVhdGVkID0gcHJvbWlzZS5fcG9wQ29udGV4dCgpO1xuICAgIGRlYnVnLmNoZWNrRm9yZ290dGVuUmV0dXJucyhcbiAgICAgICAgcmV0LFxuICAgICAgICBwcm9taXNlQ3JlYXRlZCxcbiAgICAgICAgYXJyYXkuX2VhY2hWYWx1ZXMgIT09IHVuZGVmaW5lZCA/IFwiUHJvbWlzZS5lYWNoXCIgOiBcIlByb21pc2UucmVkdWNlXCIsXG4gICAgICAgIHByb21pc2VcbiAgICApO1xuICAgIHJldHVybiByZXQ7XG59XG59O1xuXG59LHtcIi4vdXRpbFwiOjM2fV0sMjk6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgc2NoZWR1bGU7XG52YXIgbm9Bc3luY1NjaGVkdWxlciA9IGZ1bmN0aW9uKCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGFzeW5jIHNjaGVkdWxlciBhdmFpbGFibGVcXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xufTtcbnZhciBOYXRpdmVQcm9taXNlID0gdXRpbC5nZXROYXRpdmVQcm9taXNlKCk7XG5pZiAodXRpbC5pc05vZGUgJiYgdHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXIgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB2YXIgR2xvYmFsU2V0SW1tZWRpYXRlID0gZ2xvYmFsLnNldEltbWVkaWF0ZTtcbiAgICB2YXIgUHJvY2Vzc05leHRUaWNrID0gcHJvY2Vzcy5uZXh0VGljaztcbiAgICBzY2hlZHVsZSA9IHV0aWwuaXNSZWNlbnROb2RlXG4gICAgICAgICAgICAgICAgPyBmdW5jdGlvbihmbikgeyBHbG9iYWxTZXRJbW1lZGlhdGUuY2FsbChnbG9iYWwsIGZuKTsgfVxuICAgICAgICAgICAgICAgIDogZnVuY3Rpb24oZm4pIHsgUHJvY2Vzc05leHRUaWNrLmNhbGwocHJvY2VzcywgZm4pOyB9O1xufSBlbHNlIGlmICh0eXBlb2YgTmF0aXZlUHJvbWlzZSA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgICAgIHR5cGVvZiBOYXRpdmVQcm9taXNlLnJlc29sdmUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhciBuYXRpdmVQcm9taXNlID0gTmF0aXZlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgc2NoZWR1bGUgPSBmdW5jdGlvbihmbikge1xuICAgICAgICBuYXRpdmVQcm9taXNlLnRoZW4oZm4pO1xuICAgIH07XG59IGVsc2UgaWYgKCh0eXBlb2YgTXV0YXRpb25PYnNlcnZlciAhPT0gXCJ1bmRlZmluZWRcIikgJiZcbiAgICAgICAgICAhKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IgJiZcbiAgICAgICAgICAgICh3aW5kb3cubmF2aWdhdG9yLnN0YW5kYWxvbmUgfHwgd2luZG93LmNvcmRvdmEpKSkge1xuICAgIHNjaGVkdWxlID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdmFyIG9wdHMgPSB7YXR0cmlidXRlczogdHJ1ZX07XG4gICAgICAgIHZhciB0b2dnbGVTY2hlZHVsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGRpdjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB2YXIgbzIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGRpdi5jbGFzc0xpc3QudG9nZ2xlKFwiZm9vXCIpO1xuICAgICAgICAgICAgdG9nZ2xlU2NoZWR1bGVkID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICBvMi5vYnNlcnZlKGRpdjIsIG9wdHMpO1xuXG4gICAgICAgIHZhciBzY2hlZHVsZVRvZ2dsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHRvZ2dsZVNjaGVkdWxlZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRvZ2dsZVNjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgZGl2Mi5jbGFzc0xpc3QudG9nZ2xlKFwiZm9vXCIpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHNjaGVkdWxlKGZuKSB7XG4gICAgICAgICAgICB2YXIgbyA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIG8uZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG8ub2JzZXJ2ZShkaXYsIG9wdHMpO1xuICAgICAgICAgICAgc2NoZWR1bGVUb2dnbGUoKTtcbiAgICAgICAgfTtcbiAgICB9KSgpO1xufSBlbHNlIGlmICh0eXBlb2Ygc2V0SW1tZWRpYXRlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgc2NoZWR1bGUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgc2V0SW1tZWRpYXRlKGZuKTtcbiAgICB9O1xufSBlbHNlIGlmICh0eXBlb2Ygc2V0VGltZW91dCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHNjaGVkdWxlID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZm4sIDApO1xuICAgIH07XG59IGVsc2Uge1xuICAgIHNjaGVkdWxlID0gbm9Bc3luY1NjaGVkdWxlcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gc2NoZWR1bGU7XG5cbn0se1wiLi91dGlsXCI6MzZ9XSwzMDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID1cbiAgICBmdW5jdGlvbihQcm9taXNlLCBQcm9taXNlQXJyYXksIGRlYnVnKSB7XG52YXIgUHJvbWlzZUluc3BlY3Rpb24gPSBQcm9taXNlLlByb21pc2VJbnNwZWN0aW9uO1xudmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXG5mdW5jdGlvbiBTZXR0bGVkUHJvbWlzZUFycmF5KHZhbHVlcykge1xuICAgIHRoaXMuY29uc3RydWN0b3IkKHZhbHVlcyk7XG59XG51dGlsLmluaGVyaXRzKFNldHRsZWRQcm9taXNlQXJyYXksIFByb21pc2VBcnJheSk7XG5cblNldHRsZWRQcm9taXNlQXJyYXkucHJvdG90eXBlLl9wcm9taXNlUmVzb2x2ZWQgPSBmdW5jdGlvbiAoaW5kZXgsIGluc3BlY3Rpb24pIHtcbiAgICB0aGlzLl92YWx1ZXNbaW5kZXhdID0gaW5zcGVjdGlvbjtcbiAgICB2YXIgdG90YWxSZXNvbHZlZCA9ICsrdGhpcy5fdG90YWxSZXNvbHZlZDtcbiAgICBpZiAodG90YWxSZXNvbHZlZCA+PSB0aGlzLl9sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZSh0aGlzLl92YWx1ZXMpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuU2V0dGxlZFByb21pc2VBcnJheS5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQgPSBmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG4gICAgdmFyIHJldCA9IG5ldyBQcm9taXNlSW5zcGVjdGlvbigpO1xuICAgIHJldC5fYml0RmllbGQgPSAzMzU1NDQzMjtcbiAgICByZXQuX3NldHRsZWRWYWx1ZUZpZWxkID0gdmFsdWU7XG4gICAgcmV0dXJuIHRoaXMuX3Byb21pc2VSZXNvbHZlZChpbmRleCwgcmV0KTtcbn07XG5TZXR0bGVkUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZVJlamVjdGVkID0gZnVuY3Rpb24gKHJlYXNvbiwgaW5kZXgpIHtcbiAgICB2YXIgcmV0ID0gbmV3IFByb21pc2VJbnNwZWN0aW9uKCk7XG4gICAgcmV0Ll9iaXRGaWVsZCA9IDE2Nzc3MjE2O1xuICAgIHJldC5fc2V0dGxlZFZhbHVlRmllbGQgPSByZWFzb247XG4gICAgcmV0dXJuIHRoaXMuX3Byb21pc2VSZXNvbHZlZChpbmRleCwgcmV0KTtcbn07XG5cblByb21pc2Uuc2V0dGxlID0gZnVuY3Rpb24gKHByb21pc2VzKSB7XG4gICAgZGVidWcuZGVwcmVjYXRlZChcIi5zZXR0bGUoKVwiLCBcIi5yZWZsZWN0KClcIik7XG4gICAgcmV0dXJuIG5ldyBTZXR0bGVkUHJvbWlzZUFycmF5KHByb21pc2VzKS5wcm9taXNlKCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5zZXR0bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFByb21pc2Uuc2V0dGxlKHRoaXMpO1xufTtcbn07XG5cbn0se1wiLi91dGlsXCI6MzZ9XSwzMTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID1cbmZ1bmN0aW9uKFByb21pc2UsIFByb21pc2VBcnJheSwgYXBpUmVqZWN0aW9uKSB7XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgUmFuZ2VFcnJvciA9IF9kZXJlcV8oXCIuL2Vycm9yc1wiKS5SYW5nZUVycm9yO1xudmFyIEFnZ3JlZ2F0ZUVycm9yID0gX2RlcmVxXyhcIi4vZXJyb3JzXCIpLkFnZ3JlZ2F0ZUVycm9yO1xudmFyIGlzQXJyYXkgPSB1dGlsLmlzQXJyYXk7XG52YXIgQ0FOQ0VMTEFUSU9OID0ge307XG5cblxuZnVuY3Rpb24gU29tZVByb21pc2VBcnJheSh2YWx1ZXMpIHtcbiAgICB0aGlzLmNvbnN0cnVjdG9yJCh2YWx1ZXMpO1xuICAgIHRoaXMuX2hvd01hbnkgPSAwO1xuICAgIHRoaXMuX3Vud3JhcCA9IGZhbHNlO1xuICAgIHRoaXMuX2luaXRpYWxpemVkID0gZmFsc2U7XG59XG51dGlsLmluaGVyaXRzKFNvbWVQcm9taXNlQXJyYXksIFByb21pc2VBcnJheSk7XG5cblNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5faG93TWFueSA9PT0gMCkge1xuICAgICAgICB0aGlzLl9yZXNvbHZlKFtdKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9pbml0JCh1bmRlZmluZWQsIC01KTtcbiAgICB2YXIgaXNBcnJheVJlc29sdmVkID0gaXNBcnJheSh0aGlzLl92YWx1ZXMpO1xuICAgIGlmICghdGhpcy5faXNSZXNvbHZlZCgpICYmXG4gICAgICAgIGlzQXJyYXlSZXNvbHZlZCAmJlxuICAgICAgICB0aGlzLl9ob3dNYW55ID4gdGhpcy5fY2FuUG9zc2libHlGdWxmaWxsKCkpIHtcbiAgICAgICAgdGhpcy5fcmVqZWN0KHRoaXMuX2dldFJhbmdlRXJyb3IodGhpcy5sZW5ndGgoKSkpO1xuICAgIH1cbn07XG5cblNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIHRoaXMuX2luaXQoKTtcbn07XG5cblNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLnNldFVud3JhcCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl91bndyYXAgPSB0cnVlO1xufTtcblxuU29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuaG93TWFueSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5faG93TWFueTtcbn07XG5cblNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLnNldEhvd01hbnkgPSBmdW5jdGlvbiAoY291bnQpIHtcbiAgICB0aGlzLl9ob3dNYW55ID0gY291bnQ7XG59O1xuXG5Tb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZUZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHRoaXMuX2FkZEZ1bGZpbGxlZCh2YWx1ZSk7XG4gICAgaWYgKHRoaXMuX2Z1bGZpbGxlZCgpID09PSB0aGlzLmhvd01hbnkoKSkge1xuICAgICAgICB0aGlzLl92YWx1ZXMubGVuZ3RoID0gdGhpcy5ob3dNYW55KCk7XG4gICAgICAgIGlmICh0aGlzLmhvd01hbnkoKSA9PT0gMSAmJiB0aGlzLl91bndyYXApIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUodGhpcy5fdmFsdWVzWzBdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUodGhpcy5fdmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuXG59O1xuU29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuX3Byb21pc2VSZWplY3RlZCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICB0aGlzLl9hZGRSZWplY3RlZChyZWFzb24pO1xuICAgIHJldHVybiB0aGlzLl9jaGVja091dGNvbWUoKTtcbn07XG5cblNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9wcm9taXNlQ2FuY2VsbGVkID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLl92YWx1ZXMgaW5zdGFuY2VvZiBQcm9taXNlIHx8IHRoaXMuX3ZhbHVlcyA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYW5jZWwoKTtcbiAgICB9XG4gICAgdGhpcy5fYWRkUmVqZWN0ZWQoQ0FOQ0VMTEFUSU9OKTtcbiAgICByZXR1cm4gdGhpcy5fY2hlY2tPdXRjb21lKCk7XG59O1xuXG5Tb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fY2hlY2tPdXRjb21lID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuaG93TWFueSgpID4gdGhpcy5fY2FuUG9zc2libHlGdWxmaWxsKCkpIHtcbiAgICAgICAgdmFyIGUgPSBuZXcgQWdncmVnYXRlRXJyb3IoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMubGVuZ3RoKCk7IGkgPCB0aGlzLl92YWx1ZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl92YWx1ZXNbaV0gIT09IENBTkNFTExBVElPTikge1xuICAgICAgICAgICAgICAgIGUucHVzaCh0aGlzLl92YWx1ZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3JlamVjdChlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG5Tb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fZnVsZmlsbGVkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl90b3RhbFJlc29sdmVkO1xufTtcblxuU29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuX3JlamVjdGVkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZXMubGVuZ3RoIC0gdGhpcy5sZW5ndGgoKTtcbn07XG5cblNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9hZGRSZWplY3RlZCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICB0aGlzLl92YWx1ZXMucHVzaChyZWFzb24pO1xufTtcblxuU29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuX2FkZEZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHRoaXMuX3ZhbHVlc1t0aGlzLl90b3RhbFJlc29sdmVkKytdID0gdmFsdWU7XG59O1xuXG5Tb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fY2FuUG9zc2libHlGdWxmaWxsID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmxlbmd0aCgpIC0gdGhpcy5fcmVqZWN0ZWQoKTtcbn07XG5cblNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9nZXRSYW5nZUVycm9yID0gZnVuY3Rpb24gKGNvdW50KSB7XG4gICAgdmFyIG1lc3NhZ2UgPSBcIklucHV0IGFycmF5IG11c3QgY29udGFpbiBhdCBsZWFzdCBcIiArXG4gICAgICAgICAgICB0aGlzLl9ob3dNYW55ICsgXCIgaXRlbXMgYnV0IGNvbnRhaW5zIG9ubHkgXCIgKyBjb3VudCArIFwiIGl0ZW1zXCI7XG4gICAgcmV0dXJuIG5ldyBSYW5nZUVycm9yKG1lc3NhZ2UpO1xufTtcblxuU29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuX3Jlc29sdmVFbXB0eUFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX3JlamVjdCh0aGlzLl9nZXRSYW5nZUVycm9yKDApKTtcbn07XG5cbmZ1bmN0aW9uIHNvbWUocHJvbWlzZXMsIGhvd01hbnkpIHtcbiAgICBpZiAoKGhvd01hbnkgfCAwKSAhPT0gaG93TWFueSB8fCBob3dNYW55IDwgMCkge1xuICAgICAgICByZXR1cm4gYXBpUmVqZWN0aW9uKFwiZXhwZWN0aW5nIGEgcG9zaXRpdmUgaW50ZWdlclxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG4gICAgfVxuICAgIHZhciByZXQgPSBuZXcgU29tZVByb21pc2VBcnJheShwcm9taXNlcyk7XG4gICAgdmFyIHByb21pc2UgPSByZXQucHJvbWlzZSgpO1xuICAgIHJldC5zZXRIb3dNYW55KGhvd01hbnkpO1xuICAgIHJldC5pbml0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cblByb21pc2Uuc29tZSA9IGZ1bmN0aW9uIChwcm9taXNlcywgaG93TWFueSkge1xuICAgIHJldHVybiBzb21lKHByb21pc2VzLCBob3dNYW55KTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnNvbWUgPSBmdW5jdGlvbiAoaG93TWFueSkge1xuICAgIHJldHVybiBzb21lKHRoaXMsIGhvd01hbnkpO1xufTtcblxuUHJvbWlzZS5fU29tZVByb21pc2VBcnJheSA9IFNvbWVQcm9taXNlQXJyYXk7XG59O1xuXG59LHtcIi4vZXJyb3JzXCI6MTIsXCIuL3V0aWxcIjozNn1dLDMyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlKSB7XG5mdW5jdGlvbiBQcm9taXNlSW5zcGVjdGlvbihwcm9taXNlKSB7XG4gICAgaWYgKHByb21pc2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwcm9taXNlID0gcHJvbWlzZS5fdGFyZ2V0KCk7XG4gICAgICAgIHRoaXMuX2JpdEZpZWxkID0gcHJvbWlzZS5fYml0RmllbGQ7XG4gICAgICAgIHRoaXMuX3NldHRsZWRWYWx1ZUZpZWxkID0gcHJvbWlzZS5faXNGYXRlU2VhbGVkKClcbiAgICAgICAgICAgID8gcHJvbWlzZS5fc2V0dGxlZFZhbHVlKCkgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aGlzLl9iaXRGaWVsZCA9IDA7XG4gICAgICAgIHRoaXMuX3NldHRsZWRWYWx1ZUZpZWxkID0gdW5kZWZpbmVkO1xuICAgIH1cbn1cblxuUHJvbWlzZUluc3BlY3Rpb24ucHJvdG90eXBlLl9zZXR0bGVkVmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fc2V0dGxlZFZhbHVlRmllbGQ7XG59O1xuXG52YXIgdmFsdWUgPSBQcm9taXNlSW5zcGVjdGlvbi5wcm90b3R5cGUudmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLmlzRnVsZmlsbGVkKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImNhbm5vdCBnZXQgZnVsZmlsbG1lbnQgdmFsdWUgb2YgYSBub24tZnVsZmlsbGVkIHByb21pc2VcXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fc2V0dGxlZFZhbHVlKCk7XG59O1xuXG52YXIgcmVhc29uID0gUHJvbWlzZUluc3BlY3Rpb24ucHJvdG90eXBlLmVycm9yID1cblByb21pc2VJbnNwZWN0aW9uLnByb3RvdHlwZS5yZWFzb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLmlzUmVqZWN0ZWQoKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2Fubm90IGdldCByZWplY3Rpb24gcmVhc29uIG9mIGEgbm9uLXJlamVjdGVkIHByb21pc2VcXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fc2V0dGxlZFZhbHVlKCk7XG59O1xuXG52YXIgaXNGdWxmaWxsZWQgPSBQcm9taXNlSW5zcGVjdGlvbi5wcm90b3R5cGUuaXNGdWxmaWxsZWQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgMzM1NTQ0MzIpICE9PSAwO1xufTtcblxudmFyIGlzUmVqZWN0ZWQgPSBQcm9taXNlSW5zcGVjdGlvbi5wcm90b3R5cGUuaXNSZWplY3RlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgMTY3NzcyMTYpICE9PSAwO1xufTtcblxudmFyIGlzUGVuZGluZyA9IFByb21pc2VJbnNwZWN0aW9uLnByb3RvdHlwZS5pc1BlbmRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDUwMzk3MTg0KSA9PT0gMDtcbn07XG5cbnZhciBpc1Jlc29sdmVkID0gUHJvbWlzZUluc3BlY3Rpb24ucHJvdG90eXBlLmlzUmVzb2x2ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDUwMzMxNjQ4KSAhPT0gMDtcbn07XG5cblByb21pc2VJbnNwZWN0aW9uLnByb3RvdHlwZS5pc0NhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiA4NDU0MTQ0KSAhPT0gMDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9faXNDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgNjU1MzYpID09PSA2NTUzNjtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9pc0NhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl90YXJnZXQoKS5fX2lzQ2FuY2VsbGVkKCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5pc0NhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAodGhpcy5fdGFyZ2V0KCkuX2JpdEZpZWxkICYgODQ1NDE0NCkgIT09IDA7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5pc1BlbmRpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaXNQZW5kaW5nLmNhbGwodGhpcy5fdGFyZ2V0KCkpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuaXNSZWplY3RlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBpc1JlamVjdGVkLmNhbGwodGhpcy5fdGFyZ2V0KCkpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuaXNGdWxmaWxsZWQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaXNGdWxmaWxsZWQuY2FsbCh0aGlzLl90YXJnZXQoKSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5pc1Jlc29sdmVkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGlzUmVzb2x2ZWQuY2FsbCh0aGlzLl90YXJnZXQoKSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS52YWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB2YWx1ZS5jYWxsKHRoaXMuX3RhcmdldCgpKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnJlYXNvbiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0YXJnZXQgPSB0aGlzLl90YXJnZXQoKTtcbiAgICB0YXJnZXQuX3Vuc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQoKTtcbiAgICByZXR1cm4gcmVhc29uLmNhbGwodGFyZ2V0KTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl92YWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9zZXR0bGVkVmFsdWUoKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9yZWFzb24gPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl91bnNldFJlamVjdGlvbklzVW5oYW5kbGVkKCk7XG4gICAgcmV0dXJuIHRoaXMuX3NldHRsZWRWYWx1ZSgpO1xufTtcblxuUHJvbWlzZS5Qcm9taXNlSW5zcGVjdGlvbiA9IFByb21pc2VJbnNwZWN0aW9uO1xufTtcblxufSx7fV0sMzM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIElOVEVSTkFMKSB7XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgZXJyb3JPYmogPSB1dGlsLmVycm9yT2JqO1xudmFyIGlzT2JqZWN0ID0gdXRpbC5pc09iamVjdDtcblxuZnVuY3Rpb24gdHJ5Q29udmVydFRvUHJvbWlzZShvYmosIGNvbnRleHQpIHtcbiAgICBpZiAoaXNPYmplY3Qob2JqKSkge1xuICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgUHJvbWlzZSkgcmV0dXJuIG9iajtcbiAgICAgICAgdmFyIHRoZW4gPSBnZXRUaGVuKG9iaik7XG4gICAgICAgIGlmICh0aGVuID09PSBlcnJvck9iaikge1xuICAgICAgICAgICAgaWYgKGNvbnRleHQpIGNvbnRleHQuX3B1c2hDb250ZXh0KCk7XG4gICAgICAgICAgICB2YXIgcmV0ID0gUHJvbWlzZS5yZWplY3QodGhlbi5lKTtcbiAgICAgICAgICAgIGlmIChjb250ZXh0KSBjb250ZXh0Ll9wb3BDb250ZXh0KCk7XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGVuID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIGlmIChpc0FueUJsdWViaXJkUHJvbWlzZShvYmopKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJldCA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcbiAgICAgICAgICAgICAgICBvYmouX3RoZW4oXG4gICAgICAgICAgICAgICAgICAgIHJldC5fZnVsZmlsbCxcbiAgICAgICAgICAgICAgICAgICAgcmV0Ll9yZWplY3QsXG4gICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgcmV0LFxuICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRvVGhlbmFibGUob2JqLCB0aGVuLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBkb0dldFRoZW4ob2JqKSB7XG4gICAgcmV0dXJuIG9iai50aGVuO1xufVxuXG5mdW5jdGlvbiBnZXRUaGVuKG9iaikge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBkb0dldFRoZW4ob2JqKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGVycm9yT2JqLmUgPSBlO1xuICAgICAgICByZXR1cm4gZXJyb3JPYmo7XG4gICAgfVxufVxuXG52YXIgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuZnVuY3Rpb24gaXNBbnlCbHVlYmlyZFByb21pc2Uob2JqKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGhhc1Byb3AuY2FsbChvYmosIFwiX3Byb21pc2UwXCIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZG9UaGVuYWJsZSh4LCB0aGVuLCBjb250ZXh0KSB7XG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG4gICAgdmFyIHJldCA9IHByb21pc2U7XG4gICAgaWYgKGNvbnRleHQpIGNvbnRleHQuX3B1c2hDb250ZXh0KCk7XG4gICAgcHJvbWlzZS5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcbiAgICBpZiAoY29udGV4dCkgY29udGV4dC5fcG9wQ29udGV4dCgpO1xuICAgIHZhciBzeW5jaHJvbm91cyA9IHRydWU7XG4gICAgdmFyIHJlc3VsdCA9IHV0aWwudHJ5Q2F0Y2godGhlbikuY2FsbCh4LCByZXNvbHZlLCByZWplY3QpO1xuICAgIHN5bmNocm9ub3VzID0gZmFsc2U7XG5cbiAgICBpZiAocHJvbWlzZSAmJiByZXN1bHQgPT09IGVycm9yT2JqKSB7XG4gICAgICAgIHByb21pc2UuX3JlamVjdENhbGxiYWNrKHJlc3VsdC5lLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgcHJvbWlzZSA9IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzb2x2ZSh2YWx1ZSkge1xuICAgICAgICBpZiAoIXByb21pc2UpIHJldHVybjtcbiAgICAgICAgcHJvbWlzZS5fcmVzb2x2ZUNhbGxiYWNrKHZhbHVlKTtcbiAgICAgICAgcHJvbWlzZSA9IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVqZWN0KHJlYXNvbikge1xuICAgICAgICBpZiAoIXByb21pc2UpIHJldHVybjtcbiAgICAgICAgcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2socmVhc29uLCBzeW5jaHJvbm91cywgdHJ1ZSk7XG4gICAgICAgIHByb21pc2UgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuXG5yZXR1cm4gdHJ5Q29udmVydFRvUHJvbWlzZTtcbn07XG5cbn0se1wiLi91dGlsXCI6MzZ9XSwzNDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSwgSU5URVJOQUwsIGRlYnVnKSB7XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgVGltZW91dEVycm9yID0gUHJvbWlzZS5UaW1lb3V0RXJyb3I7XG5cbmZ1bmN0aW9uIEhhbmRsZVdyYXBwZXIoaGFuZGxlKSAge1xuICAgIHRoaXMuaGFuZGxlID0gaGFuZGxlO1xufVxuXG5IYW5kbGVXcmFwcGVyLnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuaGFuZGxlKTtcbn07XG5cbnZhciBhZnRlclZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIGRlbGF5KCt0aGlzKS50aGVuUmV0dXJuKHZhbHVlKTsgfTtcbnZhciBkZWxheSA9IFByb21pc2UuZGVsYXkgPSBmdW5jdGlvbiAobXMsIHZhbHVlKSB7XG4gICAgdmFyIHJldDtcbiAgICB2YXIgaGFuZGxlO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldCA9IFByb21pc2UucmVzb2x2ZSh2YWx1ZSlcbiAgICAgICAgICAgICAgICAuX3RoZW4oYWZ0ZXJWYWx1ZSwgbnVsbCwgbnVsbCwgbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgIGlmIChkZWJ1Zy5jYW5jZWxsYXRpb24oKSAmJiB2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldC5fc2V0T25DYW5jZWwodmFsdWUpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgICAgICBoYW5kbGUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyByZXQuX2Z1bGZpbGwoKTsgfSwgK21zKTtcbiAgICAgICAgaWYgKGRlYnVnLmNhbmNlbGxhdGlvbigpKSB7XG4gICAgICAgICAgICByZXQuX3NldE9uQ2FuY2VsKG5ldyBIYW5kbGVXcmFwcGVyKGhhbmRsZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldC5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcbiAgICB9XG4gICAgcmV0Ll9zZXRBc3luY0d1YXJhbnRlZWQoKTtcbiAgICByZXR1cm4gcmV0O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuZGVsYXkgPSBmdW5jdGlvbiAobXMpIHtcbiAgICByZXR1cm4gZGVsYXkobXMsIHRoaXMpO1xufTtcblxudmFyIGFmdGVyVGltZW91dCA9IGZ1bmN0aW9uIChwcm9taXNlLCBtZXNzYWdlLCBwYXJlbnQpIHtcbiAgICB2YXIgZXJyO1xuICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICBlcnIgPSBtZXNzYWdlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXJyID0gbmV3IFRpbWVvdXRFcnJvcihcIm9wZXJhdGlvbiB0aW1lZCBvdXRcIik7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBlcnIgPSBuZXcgVGltZW91dEVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbiAgICB1dGlsLm1hcmtBc09yaWdpbmF0aW5nRnJvbVJlamVjdGlvbihlcnIpO1xuICAgIHByb21pc2UuX2F0dGFjaEV4dHJhVHJhY2UoZXJyKTtcbiAgICBwcm9taXNlLl9yZWplY3QoZXJyKTtcblxuICAgIGlmIChwYXJlbnQgIT0gbnVsbCkge1xuICAgICAgICBwYXJlbnQuY2FuY2VsKCk7XG4gICAgfVxufTtcblxuZnVuY3Rpb24gc3VjY2Vzc0NsZWFyKHZhbHVlKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuaGFuZGxlKTtcbiAgICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGZhaWx1cmVDbGVhcihyZWFzb24pIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5oYW5kbGUpO1xuICAgIHRocm93IHJlYXNvbjtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUudGltZW91dCA9IGZ1bmN0aW9uIChtcywgbWVzc2FnZSkge1xuICAgIG1zID0gK21zO1xuICAgIHZhciByZXQsIHBhcmVudDtcblxuICAgIHZhciBoYW5kbGVXcmFwcGVyID0gbmV3IEhhbmRsZVdyYXBwZXIoc2V0VGltZW91dChmdW5jdGlvbiB0aW1lb3V0VGltZW91dCgpIHtcbiAgICAgICAgaWYgKHJldC5pc1BlbmRpbmcoKSkge1xuICAgICAgICAgICAgYWZ0ZXJUaW1lb3V0KHJldCwgbWVzc2FnZSwgcGFyZW50KTtcbiAgICAgICAgfVxuICAgIH0sIG1zKSk7XG5cbiAgICBpZiAoZGVidWcuY2FuY2VsbGF0aW9uKCkpIHtcbiAgICAgICAgcGFyZW50ID0gdGhpcy50aGVuKCk7XG4gICAgICAgIHJldCA9IHBhcmVudC5fdGhlbihzdWNjZXNzQ2xlYXIsIGZhaWx1cmVDbGVhcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsIGhhbmRsZVdyYXBwZXIsIHVuZGVmaW5lZCk7XG4gICAgICAgIHJldC5fc2V0T25DYW5jZWwoaGFuZGxlV3JhcHBlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0ID0gdGhpcy5fdGhlbihzdWNjZXNzQ2xlYXIsIGZhaWx1cmVDbGVhcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsIGhhbmRsZVdyYXBwZXIsIHVuZGVmaW5lZCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldDtcbn07XG5cbn07XG5cbn0se1wiLi91dGlsXCI6MzZ9XSwzNTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFByb21pc2UsIGFwaVJlamVjdGlvbiwgdHJ5Q29udmVydFRvUHJvbWlzZSxcbiAgICBjcmVhdGVDb250ZXh0LCBJTlRFUk5BTCwgZGVidWcpIHtcbiAgICB2YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG4gICAgdmFyIFR5cGVFcnJvciA9IF9kZXJlcV8oXCIuL2Vycm9yc1wiKS5UeXBlRXJyb3I7XG4gICAgdmFyIGluaGVyaXRzID0gX2RlcmVxXyhcIi4vdXRpbFwiKS5pbmhlcml0cztcbiAgICB2YXIgZXJyb3JPYmogPSB1dGlsLmVycm9yT2JqO1xuICAgIHZhciB0cnlDYXRjaCA9IHV0aWwudHJ5Q2F0Y2g7XG4gICAgdmFyIE5VTEwgPSB7fTtcblxuICAgIGZ1bmN0aW9uIHRocm93ZXIoZSkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgZTt9LCAwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYXN0UHJlc2VydmluZ0Rpc3Bvc2FibGUodGhlbmFibGUpIHtcbiAgICAgICAgdmFyIG1heWJlUHJvbWlzZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UodGhlbmFibGUpO1xuICAgICAgICBpZiAobWF5YmVQcm9taXNlICE9PSB0aGVuYWJsZSAmJlxuICAgICAgICAgICAgdHlwZW9mIHRoZW5hYmxlLl9pc0Rpc3Bvc2FibGUgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICAgICAgdHlwZW9mIHRoZW5hYmxlLl9nZXREaXNwb3NlciA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgICAgICB0aGVuYWJsZS5faXNEaXNwb3NhYmxlKCkpIHtcbiAgICAgICAgICAgIG1heWJlUHJvbWlzZS5fc2V0RGlzcG9zYWJsZSh0aGVuYWJsZS5fZ2V0RGlzcG9zZXIoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heWJlUHJvbWlzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzcG9zZShyZXNvdXJjZXMsIGluc3BlY3Rpb24pIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgbGVuID0gcmVzb3VyY2VzLmxlbmd0aDtcbiAgICAgICAgdmFyIHJldCA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcbiAgICAgICAgZnVuY3Rpb24gaXRlcmF0b3IoKSB7XG4gICAgICAgICAgICBpZiAoaSA+PSBsZW4pIHJldHVybiByZXQuX2Z1bGZpbGwoKTtcbiAgICAgICAgICAgIHZhciBtYXliZVByb21pc2UgPSBjYXN0UHJlc2VydmluZ0Rpc3Bvc2FibGUocmVzb3VyY2VzW2krK10pO1xuICAgICAgICAgICAgaWYgKG1heWJlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UgJiZcbiAgICAgICAgICAgICAgICBtYXliZVByb21pc2UuX2lzRGlzcG9zYWJsZSgpKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlID0gdHJ5Q29udmVydFRvUHJvbWlzZShcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlUHJvbWlzZS5fZ2V0RGlzcG9zZXIoKS50cnlEaXNwb3NlKGluc3BlY3Rpb24pLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VzLnByb21pc2UpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRocm93ZXIoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXliZVByb21pc2UuX3RoZW4oaXRlcmF0b3IsIHRocm93ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCwgbnVsbCwgbnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXRlcmF0b3IoKTtcbiAgICAgICAgfVxuICAgICAgICBpdGVyYXRvcigpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIERpc3Bvc2VyKGRhdGEsIHByb21pc2UsIGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMuX3Byb21pc2UgPSBwcm9taXNlO1xuICAgICAgICB0aGlzLl9jb250ZXh0ID0gY29udGV4dDtcbiAgICB9XG5cbiAgICBEaXNwb3Nlci5wcm90b3R5cGUuZGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gICAgfTtcblxuICAgIERpc3Bvc2VyLnByb3RvdHlwZS5wcm9taXNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJvbWlzZTtcbiAgICB9O1xuXG4gICAgRGlzcG9zZXIucHJvdG90eXBlLnJlc291cmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5wcm9taXNlKCkuaXNGdWxmaWxsZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZSgpLnZhbHVlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE5VTEw7XG4gICAgfTtcblxuICAgIERpc3Bvc2VyLnByb3RvdHlwZS50cnlEaXNwb3NlID0gZnVuY3Rpb24oaW5zcGVjdGlvbikge1xuICAgICAgICB2YXIgcmVzb3VyY2UgPSB0aGlzLnJlc291cmNlKCk7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5fY29udGV4dDtcbiAgICAgICAgaWYgKGNvbnRleHQgIT09IHVuZGVmaW5lZCkgY29udGV4dC5fcHVzaENvbnRleHQoKTtcbiAgICAgICAgdmFyIHJldCA9IHJlc291cmNlICE9PSBOVUxMXG4gICAgICAgICAgICA/IHRoaXMuZG9EaXNwb3NlKHJlc291cmNlLCBpbnNwZWN0aW9uKSA6IG51bGw7XG4gICAgICAgIGlmIChjb250ZXh0ICE9PSB1bmRlZmluZWQpIGNvbnRleHQuX3BvcENvbnRleHQoKTtcbiAgICAgICAgdGhpcy5fcHJvbWlzZS5fdW5zZXREaXNwb3NhYmxlKCk7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBudWxsO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG5cbiAgICBEaXNwb3Nlci5pc0Rpc3Bvc2VyID0gZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgcmV0dXJuIChkICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgZC5yZXNvdXJjZSA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIGQudHJ5RGlzcG9zZSA9PT0gXCJmdW5jdGlvblwiKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gRnVuY3Rpb25EaXNwb3NlcihmbiwgcHJvbWlzZSwgY29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnN0cnVjdG9yJChmbiwgcHJvbWlzZSwgY29udGV4dCk7XG4gICAgfVxuICAgIGluaGVyaXRzKEZ1bmN0aW9uRGlzcG9zZXIsIERpc3Bvc2VyKTtcblxuICAgIEZ1bmN0aW9uRGlzcG9zZXIucHJvdG90eXBlLmRvRGlzcG9zZSA9IGZ1bmN0aW9uIChyZXNvdXJjZSwgaW5zcGVjdGlvbikge1xuICAgICAgICB2YXIgZm4gPSB0aGlzLmRhdGEoKTtcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwocmVzb3VyY2UsIHJlc291cmNlLCBpbnNwZWN0aW9uKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gbWF5YmVVbndyYXBEaXNwb3Nlcih2YWx1ZSkge1xuICAgICAgICBpZiAoRGlzcG9zZXIuaXNEaXNwb3Nlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2VzW3RoaXMuaW5kZXhdLl9zZXREaXNwb3NhYmxlKHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5wcm9taXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIFJlc291cmNlTGlzdChsZW5ndGgpIHtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIHRoaXMucHJvbWlzZSA9IG51bGw7XG4gICAgICAgIHRoaXNbbGVuZ3RoLTFdID0gbnVsbDtcbiAgICB9XG5cbiAgICBSZXNvdXJjZUxpc3QucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXNbaV07XG4gICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBpdGVtLmNhbmNlbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIFByb21pc2UudXNpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuIDwgMikgcmV0dXJuIGFwaVJlamVjdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgIFwieW91IG11c3QgcGFzcyBhdCBsZWFzdCAyIGFyZ3VtZW50cyB0byBQcm9taXNlLnVzaW5nXCIpO1xuICAgICAgICB2YXIgZm4gPSBhcmd1bWVudHNbbGVuIC0gMV07XG4gICAgICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgcmV0dXJuIGFwaVJlamVjdGlvbihcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKGZuKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlucHV0O1xuICAgICAgICB2YXIgc3ByZWFkQXJncyA9IHRydWU7XG4gICAgICAgIGlmIChsZW4gPT09IDIgJiYgQXJyYXkuaXNBcnJheShhcmd1bWVudHNbMF0pKSB7XG4gICAgICAgICAgICBpbnB1dCA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIGxlbiA9IGlucHV0Lmxlbmd0aDtcbiAgICAgICAgICAgIHNwcmVhZEFyZ3MgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlucHV0ID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgbGVuLS07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc291cmNlcyA9IG5ldyBSZXNvdXJjZUxpc3QobGVuKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgdmFyIHJlc291cmNlID0gaW5wdXRbaV07XG4gICAgICAgICAgICBpZiAoRGlzcG9zZXIuaXNEaXNwb3NlcihyZXNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGlzcG9zZXIgPSByZXNvdXJjZTtcbiAgICAgICAgICAgICAgICByZXNvdXJjZSA9IHJlc291cmNlLnByb21pc2UoKTtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5fc2V0RGlzcG9zYWJsZShkaXNwb3Nlcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHJlc291cmNlKTtcbiAgICAgICAgICAgICAgICBpZiAobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXliZVByb21pc2UuX3RoZW4obWF5YmVVbndyYXBEaXNwb3NlciwgbnVsbCwgbnVsbCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlczogcmVzb3VyY2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBpXG4gICAgICAgICAgICAgICAgICAgIH0sIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzb3VyY2VzW2ldID0gcmVzb3VyY2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVmbGVjdGVkUmVzb3VyY2VzID0gbmV3IEFycmF5KHJlc291cmNlcy5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlZmxlY3RlZFJlc291cmNlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgcmVmbGVjdGVkUmVzb3VyY2VzW2ldID0gUHJvbWlzZS5yZXNvbHZlKHJlc291cmNlc1tpXSkucmVmbGVjdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlc3VsdFByb21pc2UgPSBQcm9taXNlLmFsbChyZWZsZWN0ZWRSZXNvdXJjZXMpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihpbnNwZWN0aW9ucykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5zcGVjdGlvbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluc3BlY3Rpb24gPSBpbnNwZWN0aW9uc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluc3BlY3Rpb24uaXNSZWplY3RlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvck9iai5lID0gaW5zcGVjdGlvbi5lcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yT2JqO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFpbnNwZWN0aW9uLmlzRnVsZmlsbGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFByb21pc2UuY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaW5zcGVjdGlvbnNbaV0gPSBpbnNwZWN0aW9uLnZhbHVlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByb21pc2UuX3B1c2hDb250ZXh0KCk7XG5cbiAgICAgICAgICAgICAgICBmbiA9IHRyeUNhdGNoKGZuKTtcbiAgICAgICAgICAgICAgICB2YXIgcmV0ID0gc3ByZWFkQXJnc1xuICAgICAgICAgICAgICAgICAgICA/IGZuLmFwcGx5KHVuZGVmaW5lZCwgaW5zcGVjdGlvbnMpIDogZm4oaW5zcGVjdGlvbnMpO1xuICAgICAgICAgICAgICAgIHZhciBwcm9taXNlQ3JlYXRlZCA9IHByb21pc2UuX3BvcENvbnRleHQoKTtcbiAgICAgICAgICAgICAgICBkZWJ1Zy5jaGVja0ZvcmdvdHRlblJldHVybnMoXG4gICAgICAgICAgICAgICAgICAgIHJldCwgcHJvbWlzZUNyZWF0ZWQsIFwiUHJvbWlzZS51c2luZ1wiLCBwcm9taXNlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHByb21pc2UgPSByZXN1bHRQcm9taXNlLmxhc3RseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBpbnNwZWN0aW9uID0gbmV3IFByb21pc2UuUHJvbWlzZUluc3BlY3Rpb24ocmVzdWx0UHJvbWlzZSk7XG4gICAgICAgICAgICByZXR1cm4gZGlzcG9zZShyZXNvdXJjZXMsIGluc3BlY3Rpb24pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVzb3VyY2VzLnByb21pc2UgPSBwcm9taXNlO1xuICAgICAgICBwcm9taXNlLl9zZXRPbkNhbmNlbChyZXNvdXJjZXMpO1xuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9O1xuXG4gICAgUHJvbWlzZS5wcm90b3R5cGUuX3NldERpc3Bvc2FibGUgPSBmdW5jdGlvbiAoZGlzcG9zZXIpIHtcbiAgICAgICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCB8IDEzMTA3MjtcbiAgICAgICAgdGhpcy5fZGlzcG9zZXIgPSBkaXNwb3NlcjtcbiAgICB9O1xuXG4gICAgUHJvbWlzZS5wcm90b3R5cGUuX2lzRGlzcG9zYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDEzMTA3MikgPiAwO1xuICAgIH07XG5cbiAgICBQcm9taXNlLnByb3RvdHlwZS5fZ2V0RGlzcG9zZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kaXNwb3NlcjtcbiAgICB9O1xuXG4gICAgUHJvbWlzZS5wcm90b3R5cGUuX3Vuc2V0RGlzcG9zYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCAmICh+MTMxMDcyKTtcbiAgICAgICAgdGhpcy5fZGlzcG9zZXIgPSB1bmRlZmluZWQ7XG4gICAgfTtcblxuICAgIFByb21pc2UucHJvdG90eXBlLmRpc3Bvc2VyID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZm4gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbkRpc3Bvc2VyKGZuLCB0aGlzLCBjcmVhdGVDb250ZXh0KCkpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICB9O1xuXG59O1xuXG59LHtcIi4vZXJyb3JzXCI6MTIsXCIuL3V0aWxcIjozNn1dLDM2OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xudmFyIGVzNSA9IF9kZXJlcV8oXCIuL2VzNVwiKTtcbnZhciBjYW5FdmFsdWF0ZSA9IHR5cGVvZiBuYXZpZ2F0b3IgPT0gXCJ1bmRlZmluZWRcIjtcblxudmFyIGVycm9yT2JqID0ge2U6IHt9fTtcbnZhciB0cnlDYXRjaFRhcmdldDtcbnZhciBnbG9iYWxPYmplY3QgPSB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOlxuICAgIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOlxuICAgIHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOlxuICAgIHRoaXMgIT09IHVuZGVmaW5lZCA/IHRoaXMgOiBudWxsO1xuXG5mdW5jdGlvbiB0cnlDYXRjaGVyKCkge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSB0cnlDYXRjaFRhcmdldDtcbiAgICAgICAgdHJ5Q2F0Y2hUYXJnZXQgPSBudWxsO1xuICAgICAgICByZXR1cm4gdGFyZ2V0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBlcnJvck9iai5lID0gZTtcbiAgICAgICAgcmV0dXJuIGVycm9yT2JqO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRyeUNhdGNoKGZuKSB7XG4gICAgdHJ5Q2F0Y2hUYXJnZXQgPSBmbjtcbiAgICByZXR1cm4gdHJ5Q2F0Y2hlcjtcbn1cblxudmFyIGluaGVyaXRzID0gZnVuY3Rpb24oQ2hpbGQsIFBhcmVudCkge1xuICAgIHZhciBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgICBmdW5jdGlvbiBUKCkge1xuICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gQ2hpbGQ7XG4gICAgICAgIHRoaXMuY29uc3RydWN0b3IkID0gUGFyZW50O1xuICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eU5hbWUgaW4gUGFyZW50LnByb3RvdHlwZSkge1xuICAgICAgICAgICAgaWYgKGhhc1Byb3AuY2FsbChQYXJlbnQucHJvdG90eXBlLCBwcm9wZXJ0eU5hbWUpICYmXG4gICAgICAgICAgICAgICAgcHJvcGVydHlOYW1lLmNoYXJBdChwcm9wZXJ0eU5hbWUubGVuZ3RoLTEpICE9PSBcIiRcIlxuICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aGlzW3Byb3BlcnR5TmFtZSArIFwiJFwiXSA9IFBhcmVudC5wcm90b3R5cGVbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBULnByb3RvdHlwZSA9IFBhcmVudC5wcm90b3R5cGU7XG4gICAgQ2hpbGQucHJvdG90eXBlID0gbmV3IFQoKTtcbiAgICByZXR1cm4gQ2hpbGQucHJvdG90eXBlO1xufTtcblxuXG5mdW5jdGlvbiBpc1ByaW1pdGl2ZSh2YWwpIHtcbiAgICByZXR1cm4gdmFsID09IG51bGwgfHwgdmFsID09PSB0cnVlIHx8IHZhbCA9PT0gZmFsc2UgfHxcbiAgICAgICAgdHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgdmFsID09PSBcIm51bWJlclwiO1xuXG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiIHx8XG4gICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gbWF5YmVXcmFwQXNFcnJvcihtYXliZUVycm9yKSB7XG4gICAgaWYgKCFpc1ByaW1pdGl2ZShtYXliZUVycm9yKSkgcmV0dXJuIG1heWJlRXJyb3I7XG5cbiAgICByZXR1cm4gbmV3IEVycm9yKHNhZmVUb1N0cmluZyhtYXliZUVycm9yKSk7XG59XG5cbmZ1bmN0aW9uIHdpdGhBcHBlbmRlZCh0YXJnZXQsIGFwcGVuZGVlKSB7XG4gICAgdmFyIGxlbiA9IHRhcmdldC5sZW5ndGg7XG4gICAgdmFyIHJldCA9IG5ldyBBcnJheShsZW4gKyAxKTtcbiAgICB2YXIgaTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgcmV0W2ldID0gdGFyZ2V0W2ldO1xuICAgIH1cbiAgICByZXRbaV0gPSBhcHBlbmRlZTtcbiAgICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBnZXREYXRhUHJvcGVydHlPckRlZmF1bHQob2JqLCBrZXksIGRlZmF1bHRWYWx1ZSkge1xuICAgIGlmIChlczUuaXNFUzUpIHtcbiAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KTtcblxuICAgICAgICBpZiAoZGVzYyAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVzYy5nZXQgPT0gbnVsbCAmJiBkZXNjLnNldCA9PSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8gZGVzYy52YWx1ZVxuICAgICAgICAgICAgICAgICAgICA6IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSA/IG9ialtrZXldIDogdW5kZWZpbmVkO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbm90RW51bWVyYWJsZVByb3Aob2JqLCBuYW1lLCB2YWx1ZSkge1xuICAgIGlmIChpc1ByaW1pdGl2ZShvYmopKSByZXR1cm4gb2JqO1xuICAgIHZhciBkZXNjcmlwdG9yID0ge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfTtcbiAgICBlczUuZGVmaW5lUHJvcGVydHkob2JqLCBuYW1lLCBkZXNjcmlwdG9yKTtcbiAgICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiB0aHJvd2VyKHIpIHtcbiAgICB0aHJvdyByO1xufVxuXG52YXIgaW5oZXJpdGVkRGF0YUtleXMgPSAoZnVuY3Rpb24oKSB7XG4gICAgdmFyIGV4Y2x1ZGVkUHJvdG90eXBlcyA9IFtcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLFxuICAgICAgICBPYmplY3QucHJvdG90eXBlLFxuICAgICAgICBGdW5jdGlvbi5wcm90b3R5cGVcbiAgICBdO1xuXG4gICAgdmFyIGlzRXhjbHVkZWRQcm90byA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4Y2x1ZGVkUHJvdG90eXBlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKGV4Y2x1ZGVkUHJvdG90eXBlc1tpXSA9PT0gdmFsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICBpZiAoZXM1LmlzRVM1KSB7XG4gICAgICAgIHZhciBnZXRLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgIHZhciByZXQgPSBbXTtcbiAgICAgICAgICAgIHZhciB2aXNpdGVkS2V5cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgICB3aGlsZSAob2JqICE9IG51bGwgJiYgIWlzRXhjbHVkZWRQcm90byhvYmopKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleXM7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAga2V5cyA9IGdldEtleXMob2JqKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZpc2l0ZWRLZXlzW2tleV0pIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB2aXNpdGVkS2V5c1trZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlc2MgIT0gbnVsbCAmJiBkZXNjLmdldCA9PSBudWxsICYmIGRlc2Muc2V0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldC5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb2JqID0gZXM1LmdldFByb3RvdHlwZU9mKG9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgIGlmIChpc0V4Y2x1ZGVkUHJvdG8ob2JqKSkgcmV0dXJuIFtdO1xuICAgICAgICAgICAgdmFyIHJldCA9IFtdO1xuXG4gICAgICAgICAgICAvKmpzaGludCBmb3JpbjpmYWxzZSAqL1xuICAgICAgICAgICAgZW51bWVyYXRpb246IGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzUHJvcC5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICByZXQucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhjbHVkZWRQcm90b3R5cGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzUHJvcC5jYWxsKGV4Y2x1ZGVkUHJvdG90eXBlc1tpXSwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIGVudW1lcmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldC5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfTtcbiAgICB9XG5cbn0pKCk7XG5cbnZhciB0aGlzQXNzaWdubWVudFBhdHRlcm4gPSAvdGhpc1xccypcXC5cXHMqXFxTK1xccyo9LztcbmZ1bmN0aW9uIGlzQ2xhc3MoZm4pIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGZuID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gZXM1Lm5hbWVzKGZuLnByb3RvdHlwZSk7XG5cbiAgICAgICAgICAgIHZhciBoYXNNZXRob2RzID0gZXM1LmlzRVM1ICYmIGtleXMubGVuZ3RoID4gMTtcbiAgICAgICAgICAgIHZhciBoYXNNZXRob2RzT3RoZXJUaGFuQ29uc3RydWN0b3IgPSBrZXlzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgICAhKGtleXMubGVuZ3RoID09PSAxICYmIGtleXNbMF0gPT09IFwiY29uc3RydWN0b3JcIik7XG4gICAgICAgICAgICB2YXIgaGFzVGhpc0Fzc2lnbm1lbnRBbmRTdGF0aWNNZXRob2RzID1cbiAgICAgICAgICAgICAgICB0aGlzQXNzaWdubWVudFBhdHRlcm4udGVzdChmbiArIFwiXCIpICYmIGVzNS5uYW1lcyhmbikubGVuZ3RoID4gMDtcblxuICAgICAgICAgICAgaWYgKGhhc01ldGhvZHMgfHwgaGFzTWV0aG9kc090aGVyVGhhbkNvbnN0cnVjdG9yIHx8XG4gICAgICAgICAgICAgICAgaGFzVGhpc0Fzc2lnbm1lbnRBbmRTdGF0aWNNZXRob2RzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdG9GYXN0UHJvcGVydGllcyhvYmopIHtcbiAgICAvKmpzaGludCAtVzAyNywtVzA1NSwtVzAzMSovXG4gICAgZnVuY3Rpb24gRmFrZUNvbnN0cnVjdG9yKCkge31cbiAgICBGYWtlQ29uc3RydWN0b3IucHJvdG90eXBlID0gb2JqO1xuICAgIHZhciBsID0gODtcbiAgICB3aGlsZSAobC0tKSBuZXcgRmFrZUNvbnN0cnVjdG9yKCk7XG4gICAgcmV0dXJuIG9iajtcbiAgICBldmFsKG9iaik7XG59XG5cbnZhciByaWRlbnQgPSAvXlthLXokX11bYS16JF8wLTldKiQvaTtcbmZ1bmN0aW9uIGlzSWRlbnRpZmllcihzdHIpIHtcbiAgICByZXR1cm4gcmlkZW50LnRlc3Qoc3RyKTtcbn1cblxuZnVuY3Rpb24gZmlsbGVkUmFuZ2UoY291bnQsIHByZWZpeCwgc3VmZml4KSB7XG4gICAgdmFyIHJldCA9IG5ldyBBcnJheShjb3VudCk7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IGNvdW50OyArK2kpIHtcbiAgICAgICAgcmV0W2ldID0gcHJlZml4ICsgaSArIHN1ZmZpeDtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gc2FmZVRvU3RyaW5nKG9iaikge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBvYmogKyBcIlwiO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIFwiW25vIHN0cmluZyByZXByZXNlbnRhdGlvbl1cIjtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzRXJyb3Iob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAhPT0gbnVsbCAmJlxuICAgICAgICAgICB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgIHR5cGVvZiBvYmoubWVzc2FnZSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICB0eXBlb2Ygb2JqLm5hbWUgPT09IFwic3RyaW5nXCI7XG59XG5cbmZ1bmN0aW9uIG1hcmtBc09yaWdpbmF0aW5nRnJvbVJlamVjdGlvbihlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgbm90RW51bWVyYWJsZVByb3AoZSwgXCJpc09wZXJhdGlvbmFsXCIsIHRydWUpO1xuICAgIH1cbiAgICBjYXRjaChpZ25vcmUpIHt9XG59XG5cbmZ1bmN0aW9uIG9yaWdpbmF0ZXNGcm9tUmVqZWN0aW9uKGUpIHtcbiAgICBpZiAoZSA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuICgoZSBpbnN0YW5jZW9mIEVycm9yW1wiX19CbHVlYmlyZEVycm9yVHlwZXNfX1wiXS5PcGVyYXRpb25hbEVycm9yKSB8fFxuICAgICAgICBlW1wiaXNPcGVyYXRpb25hbFwiXSA9PT0gdHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIGNhbkF0dGFjaFRyYWNlKG9iaikge1xuICAgIHJldHVybiBpc0Vycm9yKG9iaikgJiYgZXM1LnByb3BlcnR5SXNXcml0YWJsZShvYmosIFwic3RhY2tcIik7XG59XG5cbnZhciBlbnN1cmVFcnJvck9iamVjdCA9IChmdW5jdGlvbigpIHtcbiAgICBpZiAoIShcInN0YWNrXCIgaW4gbmV3IEVycm9yKCkpKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKGNhbkF0dGFjaFRyYWNlKHZhbHVlKSkgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgdHJ5IHt0aHJvdyBuZXcgRXJyb3Ioc2FmZVRvU3RyaW5nKHZhbHVlKSk7fVxuICAgICAgICAgICAgY2F0Y2goZXJyKSB7cmV0dXJuIGVycjt9XG4gICAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoY2FuQXR0YWNoVHJhY2UodmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKHNhZmVUb1N0cmluZyh2YWx1ZSkpO1xuICAgICAgICB9O1xuICAgIH1cbn0pKCk7XG5cbmZ1bmN0aW9uIGNsYXNzU3RyaW5nKG9iaikge1xuICAgIHJldHVybiB7fS50b1N0cmluZy5jYWxsKG9iaik7XG59XG5cbmZ1bmN0aW9uIGNvcHlEZXNjcmlwdG9ycyhmcm9tLCB0bywgZmlsdGVyKSB7XG4gICAgdmFyIGtleXMgPSBlczUubmFtZXMoZnJvbSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICBpZiAoZmlsdGVyKGtleSkpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZXM1LmRlZmluZVByb3BlcnR5KHRvLCBrZXksIGVzNS5nZXREZXNjcmlwdG9yKGZyb20sIGtleSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoaWdub3JlKSB7fVxuICAgICAgICB9XG4gICAgfVxufVxuXG52YXIgYXNBcnJheSA9IGZ1bmN0aW9uKHYpIHtcbiAgICBpZiAoZXM1LmlzQXJyYXkodikpIHtcbiAgICAgICAgcmV0dXJuIHY7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufTtcblxuaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgU3ltYm9sLml0ZXJhdG9yKSB7XG4gICAgdmFyIEFycmF5RnJvbSA9IHR5cGVvZiBBcnJheS5mcm9tID09PSBcImZ1bmN0aW9uXCIgPyBmdW5jdGlvbih2KSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHYpO1xuICAgIH0gOiBmdW5jdGlvbih2KSB7XG4gICAgICAgIHZhciByZXQgPSBbXTtcbiAgICAgICAgdmFyIGl0ID0gdltTeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgICAgIHZhciBpdFJlc3VsdDtcbiAgICAgICAgd2hpbGUgKCEoKGl0UmVzdWx0ID0gaXQubmV4dCgpKS5kb25lKSkge1xuICAgICAgICAgICAgcmV0LnB1c2goaXRSZXN1bHQudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcblxuICAgIGFzQXJyYXkgPSBmdW5jdGlvbih2KSB7XG4gICAgICAgIGlmIChlczUuaXNBcnJheSh2KSkge1xuICAgICAgICAgICAgcmV0dXJuIHY7XG4gICAgICAgIH0gZWxzZSBpZiAodiAhPSBudWxsICYmIHR5cGVvZiB2W1N5bWJvbC5pdGVyYXRvcl0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgcmV0dXJuIEFycmF5RnJvbSh2KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xufVxuXG52YXIgaXNOb2RlID0gdHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgY2xhc3NTdHJpbmcocHJvY2VzcykudG9Mb3dlckNhc2UoKSA9PT0gXCJbb2JqZWN0IHByb2Nlc3NdXCI7XG5cbmZ1bmN0aW9uIGVudihrZXksIGRlZikge1xuICAgIHJldHVybiBpc05vZGUgPyBwcm9jZXNzLmVudltrZXldIDogZGVmO1xufVxuXG5mdW5jdGlvbiBnZXROYXRpdmVQcm9taXNlKCkge1xuICAgIGlmICh0eXBlb2YgUHJvbWlzZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKCl7fSk7XG4gICAgICAgICAgICBpZiAoe30udG9TdHJpbmcuY2FsbChwcm9taXNlKSA9PT0gXCJbb2JqZWN0IFByb21pc2VdXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRvbWFpbkJpbmQoc2VsZiwgY2IpIHtcbiAgICByZXR1cm4gc2VsZi5iaW5kKGNiKTtcbn1cblxudmFyIHJldCA9IHtcbiAgICBpc0NsYXNzOiBpc0NsYXNzLFxuICAgIGlzSWRlbnRpZmllcjogaXNJZGVudGlmaWVyLFxuICAgIGluaGVyaXRlZERhdGFLZXlzOiBpbmhlcml0ZWREYXRhS2V5cyxcbiAgICBnZXREYXRhUHJvcGVydHlPckRlZmF1bHQ6IGdldERhdGFQcm9wZXJ0eU9yRGVmYXVsdCxcbiAgICB0aHJvd2VyOiB0aHJvd2VyLFxuICAgIGlzQXJyYXk6IGVzNS5pc0FycmF5LFxuICAgIGFzQXJyYXk6IGFzQXJyYXksXG4gICAgbm90RW51bWVyYWJsZVByb3A6IG5vdEVudW1lcmFibGVQcm9wLFxuICAgIGlzUHJpbWl0aXZlOiBpc1ByaW1pdGl2ZSxcbiAgICBpc09iamVjdDogaXNPYmplY3QsXG4gICAgaXNFcnJvcjogaXNFcnJvcixcbiAgICBjYW5FdmFsdWF0ZTogY2FuRXZhbHVhdGUsXG4gICAgZXJyb3JPYmo6IGVycm9yT2JqLFxuICAgIHRyeUNhdGNoOiB0cnlDYXRjaCxcbiAgICBpbmhlcml0czogaW5oZXJpdHMsXG4gICAgd2l0aEFwcGVuZGVkOiB3aXRoQXBwZW5kZWQsXG4gICAgbWF5YmVXcmFwQXNFcnJvcjogbWF5YmVXcmFwQXNFcnJvcixcbiAgICB0b0Zhc3RQcm9wZXJ0aWVzOiB0b0Zhc3RQcm9wZXJ0aWVzLFxuICAgIGZpbGxlZFJhbmdlOiBmaWxsZWRSYW5nZSxcbiAgICB0b1N0cmluZzogc2FmZVRvU3RyaW5nLFxuICAgIGNhbkF0dGFjaFRyYWNlOiBjYW5BdHRhY2hUcmFjZSxcbiAgICBlbnN1cmVFcnJvck9iamVjdDogZW5zdXJlRXJyb3JPYmplY3QsXG4gICAgb3JpZ2luYXRlc0Zyb21SZWplY3Rpb246IG9yaWdpbmF0ZXNGcm9tUmVqZWN0aW9uLFxuICAgIG1hcmtBc09yaWdpbmF0aW5nRnJvbVJlamVjdGlvbjogbWFya0FzT3JpZ2luYXRpbmdGcm9tUmVqZWN0aW9uLFxuICAgIGNsYXNzU3RyaW5nOiBjbGFzc1N0cmluZyxcbiAgICBjb3B5RGVzY3JpcHRvcnM6IGNvcHlEZXNjcmlwdG9ycyxcbiAgICBoYXNEZXZUb29sczogdHlwZW9mIGNocm9tZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBjaHJvbWUgJiZcbiAgICAgICAgICAgICAgICAgdHlwZW9mIGNocm9tZS5sb2FkVGltZXMgPT09IFwiZnVuY3Rpb25cIixcbiAgICBpc05vZGU6IGlzTm9kZSxcbiAgICBlbnY6IGVudixcbiAgICBnbG9iYWw6IGdsb2JhbE9iamVjdCxcbiAgICBnZXROYXRpdmVQcm9taXNlOiBnZXROYXRpdmVQcm9taXNlLFxuICAgIGRvbWFpbkJpbmQ6IGRvbWFpbkJpbmRcbn07XG5yZXQuaXNSZWNlbnROb2RlID0gcmV0LmlzTm9kZSAmJiAoZnVuY3Rpb24oKSB7XG4gICAgdmFyIHZlcnNpb24gPSBwcm9jZXNzLnZlcnNpb25zLm5vZGUuc3BsaXQoXCIuXCIpLm1hcChOdW1iZXIpO1xuICAgIHJldHVybiAodmVyc2lvblswXSA9PT0gMCAmJiB2ZXJzaW9uWzFdID4gMTApIHx8ICh2ZXJzaW9uWzBdID4gMCk7XG59KSgpO1xuXG5pZiAocmV0LmlzTm9kZSkgcmV0LnRvRmFzdFByb3BlcnRpZXMocHJvY2Vzcyk7XG5cbnRyeSB7dGhyb3cgbmV3IEVycm9yKCk7IH0gY2F0Y2ggKGUpIHtyZXQubGFzdExpbmVFcnJvciA9IGU7fVxubW9kdWxlLmV4cG9ydHMgPSByZXQ7XG5cbn0se1wiLi9lczVcIjoxM31dfSx7fSxbNF0pKDQpXG59KTsgICAgICAgICAgICAgICAgICAgIDtpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93ICE9PSBudWxsKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5QID0gd2luZG93LlByb21pc2U7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyAmJiBzZWxmICE9PSBudWxsKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLlAgPSBzZWxmLlByb21pc2U7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JsdWViaXJkL2pzL2Jyb3dzZXIvYmx1ZWJpcmQuanNcbiAqKiBtb2R1bGUgaWQgPSA1MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcHJvY2Vzcy9icm93c2VyLmpzXG4gKiogbW9kdWxlIGlkID0gNTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwidmFyIG5leHRUaWNrID0gcmVxdWlyZSgncHJvY2Vzcy9icm93c2VyLmpzJykubmV4dFRpY2s7XG52YXIgYXBwbHkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG52YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG52YXIgaW1tZWRpYXRlSWRzID0ge307XG52YXIgbmV4dEltbWVkaWF0ZUlkID0gMDtcblxuLy8gRE9NIEFQSXMsIGZvciBjb21wbGV0ZW5lc3NcblxuZXhwb3J0cy5zZXRUaW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldFRpbWVvdXQsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJUaW1lb3V0KTtcbn07XG5leHBvcnRzLnNldEludGVydmFsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldEludGVydmFsLCB3aW5kb3csIGFyZ3VtZW50cyksIGNsZWFySW50ZXJ2YWwpO1xufTtcbmV4cG9ydHMuY2xlYXJUaW1lb3V0ID1cbmV4cG9ydHMuY2xlYXJJbnRlcnZhbCA9IGZ1bmN0aW9uKHRpbWVvdXQpIHsgdGltZW91dC5jbG9zZSgpOyB9O1xuXG5mdW5jdGlvbiBUaW1lb3V0KGlkLCBjbGVhckZuKSB7XG4gIHRoaXMuX2lkID0gaWQ7XG4gIHRoaXMuX2NsZWFyRm4gPSBjbGVhckZuO1xufVxuVGltZW91dC5wcm90b3R5cGUudW5yZWYgPSBUaW1lb3V0LnByb3RvdHlwZS5yZWYgPSBmdW5jdGlvbigpIHt9O1xuVGltZW91dC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fY2xlYXJGbi5jYWxsKHdpbmRvdywgdGhpcy5faWQpO1xufTtcblxuLy8gRG9lcyBub3Qgc3RhcnQgdGhlIHRpbWUsIGp1c3Qgc2V0cyB1cCB0aGUgbWVtYmVycyBuZWVkZWQuXG5leHBvcnRzLmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0sIG1zZWNzKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSBtc2Vjcztcbn07XG5cbmV4cG9ydHMudW5lbnJvbGwgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSAtMTtcbn07XG5cbmV4cG9ydHMuX3VucmVmQWN0aXZlID0gZXhwb3J0cy5hY3RpdmUgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblxuICB2YXIgbXNlY3MgPSBpdGVtLl9pZGxlVGltZW91dDtcbiAgaWYgKG1zZWNzID49IDApIHtcbiAgICBpdGVtLl9pZGxlVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiBvblRpbWVvdXQoKSB7XG4gICAgICBpZiAoaXRlbS5fb25UaW1lb3V0KVxuICAgICAgICBpdGVtLl9vblRpbWVvdXQoKTtcbiAgICB9LCBtc2Vjcyk7XG4gIH1cbn07XG5cbi8vIFRoYXQncyBub3QgaG93IG5vZGUuanMgaW1wbGVtZW50cyBpdCBidXQgdGhlIGV4cG9zZWQgYXBpIGlzIHRoZSBzYW1lLlxuZXhwb3J0cy5zZXRJbW1lZGlhdGUgPSB0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSBcImZ1bmN0aW9uXCIgPyBzZXRJbW1lZGlhdGUgOiBmdW5jdGlvbihmbikge1xuICB2YXIgaWQgPSBuZXh0SW1tZWRpYXRlSWQrKztcbiAgdmFyIGFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoIDwgMiA/IGZhbHNlIDogc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuXG4gIGltbWVkaWF0ZUlkc1tpZF0gPSB0cnVlO1xuXG4gIG5leHRUaWNrKGZ1bmN0aW9uIG9uTmV4dFRpY2soKSB7XG4gICAgaWYgKGltbWVkaWF0ZUlkc1tpZF0pIHtcbiAgICAgIC8vIGZuLmNhbGwoKSBpcyBmYXN0ZXIgc28gd2Ugb3B0aW1pemUgZm9yIHRoZSBjb21tb24gdXNlLWNhc2VcbiAgICAgIC8vIEBzZWUgaHR0cDovL2pzcGVyZi5jb20vY2FsbC1hcHBseS1zZWd1XG4gICAgICBpZiAoYXJncykge1xuICAgICAgICBmbi5hcHBseShudWxsLCBhcmdzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZuLmNhbGwobnVsbCk7XG4gICAgICB9XG4gICAgICAvLyBQcmV2ZW50IGlkcyBmcm9tIGxlYWtpbmdcbiAgICAgIGV4cG9ydHMuY2xlYXJJbW1lZGlhdGUoaWQpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGlkO1xufTtcblxuZXhwb3J0cy5jbGVhckltbWVkaWF0ZSA9IHR5cGVvZiBjbGVhckltbWVkaWF0ZSA9PT0gXCJmdW5jdGlvblwiID8gY2xlYXJJbW1lZGlhdGUgOiBmdW5jdGlvbihpZCkge1xuICBkZWxldGUgaW1tZWRpYXRlSWRzW2lkXTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vdGltZXJzLWJyb3dzZXJpZnkvbWFpbi5qc1xuICoqIG1vZHVsZSBpZCA9IDU0XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsImltcG9ydCBFcHViUHJlc3MgZnJvbSAnZXB1Yi1wcmVzcy1qcyc7XG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuXG5pbXBvcnQgQnJvd3NlciBmcm9tICcuL2Jyb3dzZXInO1xuaW1wb3J0IFVJIGZyb20gJy4vdWknO1xuXG5jb25zdCBtYW5pZmVzdCA9IEJyb3dzZXIuZ2V0TWFuaWZlc3QoKTtcblxuLypcbkRvd25sb2FkIEZvcm1cbiovXG5cbiQoJyNzZWxlY3QtYWxsJykuY2xpY2soKCkgPT4ge1xuICAgICQoJ2lucHV0LmFydGljbGUtY2hlY2tib3gnKS5lYWNoKChpbmRleCwgY2hlY2tib3gpID0+IHtcbiAgICAgICAgJChjaGVja2JveCkucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuICAgIH0pO1xufSk7XG5cbiQoJyNzZWxlY3Qtbm9uZScpLmNsaWNrKCgpID0+IHtcbiAgICAkKCdpbnB1dC5hcnRpY2xlLWNoZWNrYm94JykuZWFjaCgoaW5kZXgsIGNoZWNrYm94KSA9PiB7XG4gICAgICAgICQoY2hlY2tib3gpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XG4gICAgfSk7XG59KTtcblxuJCgnI2Rvd25sb2FkJykuY2xpY2soKCkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGVkSXRlbXMgPSBbXTtcbiAgICAkKCdpbnB1dC5hcnRpY2xlLWNoZWNrYm94JykuZWFjaCgoaW5kZXgsIGNoZWNrYm94KSA9PiB7XG4gICAgICAgIGlmICgkKGNoZWNrYm94KS5wcm9wKCdjaGVja2VkJykpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkSXRlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgdXJsOiAkKGNoZWNrYm94KS5wcm9wKCd2YWx1ZScpLFxuICAgICAgICAgICAgICAgIGlkOiBOdW1iZXIoJChjaGVja2JveCkucHJvcCgnbmFtZScpKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cblxuICAgIGlmIChzZWxlY3RlZEl0ZW1zLmxlbmd0aCA8PSAwKSB7XG4gICAgICAgICQoJyNhbGVydC1tZXNzYWdlJykudGV4dCgnTm8gYXJ0aWNsZXMgc2VsZWN0ZWQhJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgQnJvd3Nlci5nZXRUYWJzSHRtbChzZWxlY3RlZEl0ZW1zKS50aGVuKChzZWN0aW9ucykgPT4ge1xuICAgICAgICAgICAgVUkuc2hvd1NlY3Rpb24oJyNkb3dubG9hZFNwaW5uZXInKTtcbiAgICAgICAgICAgIEJyb3dzZXIuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIGFjdGlvbjogJ2Rvd25sb2FkJyxcbiAgICAgICAgICAgICAgICBib29rOiB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKCcjYm9vay10aXRsZScpLnZhbCgpIHx8ICQoJyNib29rLXRpdGxlJykuYXR0cigncGxhY2Vob2xkZXInKSxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICQoJyNib29rLWRlc2NyaXB0aW9uJykudmFsKCkgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9ucyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgVUkuc2V0RXJyb3JNZXNzYWdlKGBDb3VsZCBub3QgZmluZCB0YWIgY29udGVudDogJHtlcnJvcn1gKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cblxuLypcblNldHRpbmdzIE1hbmFnZW1lbnRcbiovXG5cbmZ1bmN0aW9uIHNldEV4aXN0aW5nU2V0dGluZ3MoY2IpIHtcbiAgICBCcm93c2VyLmdldExvY2FsU3RvcmFnZShbJ2VtYWlsJywgJ2ZpbGV0eXBlJ10pLnRoZW4oKHN0YXRlKSA9PiB7XG4gICAgICAgICQoJyNzZXR0aW5ncy1lbWFpbC10ZXh0JykudmFsKHN0YXRlLmVtYWlsKTtcbiAgICAgICAgJCgnI3NldHRpbmdzLWZpbGV0eXBlLXNlbGVjdCcpLnZhbChzdGF0ZS5maWxldHlwZSk7XG4gICAgICAgIGNiKCk7XG4gICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIFVJLnNldEVycm9yTWVzc2FnZShgQ291bGQgbm90IGxvYWQgc2V0dGluZ3M6ICR7ZXJyb3J9YCk7XG4gICAgfSk7XG59XG5cbiQoJyNzZXR0aW5ncy1idG4nKS5jbGljaygoKSA9PiB7XG4gICAgc2V0RXhpc3RpbmdTZXR0aW5ncygoKSA9PiB7XG4gICAgICAgIFVJLnNob3dTZWN0aW9uKCcjc2V0dGluZ3NGb3JtJyk7XG4gICAgfSk7XG59KTtcblxuJCgnI3NldHRpbmdzLXNhdmUtYnRuJykuY2xpY2soKCkgPT4ge1xuICAgIEJyb3dzZXIuc2V0TG9jYWxTdG9yYWdlKHtcbiAgICAgICAgZW1haWw6ICQoJyNzZXR0aW5ncy1lbWFpbC10ZXh0JykudmFsKCksXG4gICAgICAgIGZpbGV0eXBlOiAkKCcjc2V0dGluZ3MtZmlsZXR5cGUtc2VsZWN0JykudmFsKCksXG4gICAgfSk7XG4gICAgVUkuc2hvd1NlY3Rpb24oJyNkb3dubG9hZEZvcm0nKTtcbn0pO1xuXG4kKCcjc2V0dGluZ3MtY2FuY2VsLWJ0bicpLmNsaWNrKCgpID0+IHtcbiAgICBVSS5zaG93U2VjdGlvbignI2Rvd25sb2FkRm9ybScpO1xufSk7XG5cbi8qXG5NZXNzYWdpbmdcbiovXG5cbkJyb3dzZXIub25CYWNrZ3JvdW5kTWVzc2FnZSgocmVxdWVzdCkgPT4ge1xuICAgIGlmIChyZXF1ZXN0LmFjdGlvbiA9PT0gJ2Rvd25sb2FkJykge1xuICAgICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09ICdjb21wbGV0ZScpIHtcbiAgICAgICAgICAgIFVJLnVwZGF0ZVN0YXR1cygxMDAsICdEb25lIScpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIFVJLnNob3dTZWN0aW9uKCcjZG93bmxvYWRTdWNjZXNzJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFVJLnNob3dTZWN0aW9uKCcjZG93bmxvYWRGYWlsZWQnKTtcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0LmVycm9yKSB7XG4gICAgICAgICAgICAgICAgVUkuc2V0RXJyb3JNZXNzYWdlKHJlcXVlc3QuZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChyZXF1ZXN0LmFjdGlvbiA9PT0gJ3B1Ymxpc2gnKSB7XG4gICAgICAgIFVJLnVwZGF0ZVN0YXR1cyhyZXF1ZXN0LnByb2dyZXNzLCByZXF1ZXN0Lm1lc3NhZ2UpO1xuICAgIH1cbn0pO1xuXG4vKlxuU3RhcnR1cFxuKi9cblxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcbiAgICBVSS5pbml0aWFsaXplVWkoKTtcbiAgICBCcm93c2VyLmdldExvY2FsU3RvcmFnZSgnZG93bmxvYWRTdGF0ZScpLnRoZW4oKHN0YXRlKSA9PiB7XG4gICAgICAgIGlmIChzdGF0ZS5kb3dubG9hZFN0YXRlKSB7XG4gICAgICAgICAgICBCcm93c2VyLmdldExvY2FsU3RvcmFnZSgncHVibGlzaFN0YXR1cycpLnRoZW4oKHB1Ymxpc2hTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IEpTT04ucGFyc2UocHVibGlzaFN0YXRlLnB1Ymxpc2hTdGF0dXMpO1xuICAgICAgICAgICAgICAgIFVJLnVwZGF0ZVN0YXR1cyhzdGF0dXMucHJvZ3Jlc3MsIHN0YXR1cy5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBVSS5zaG93U2VjdGlvbignI2Rvd25sb2FkU3Bpbm5lcicpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBFcHViUHJlc3MuY2hlY2tGb3JVcGRhdGVzKCdlcHViLXByZXNzLWNocm9tZScsIG1hbmlmZXN0LnZlcnNpb24pLnRoZW4oKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBVSS5zZXRBbGVydE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBVSS5zaG93U2VjdGlvbignI2Rvd25sb2FkRm9ybScpO1xuICAgICAgICAgICAgVUkuaW5pdGlhbGl6ZVRhYkxpc3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9KTtcbn07XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NjcmlwdHMvcG9wdXAuanNcbiAqKi8iLCJpbXBvcnQgQnJvd3NlciBmcm9tICcuL2Jyb3dzZXInO1xuXG5jbGFzcyBVSSB7XG4gICAgc3RhdGljIGluaXRpYWxpemVVaSgpIHtcbiAgICAgICAgbGV0IGRhdGUgPSBEYXRlKCk7XG4gICAgICAgIGRhdGUgPSBkYXRlLnNsaWNlKDAsIGRhdGUubWF0Y2goL1xcZHs0fS8pLmluZGV4ICsgNCk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib29rLXRpdGxlJykucGxhY2Vob2xkZXIgPSBgRXB1YlByZXNzIC0gJHtkYXRlfWA7XG4gICAgfVxuXG4gICAgc3RhdGljIHNldEVycm9yTWVzc2FnZShtc2cpIHtcbiAgICAgICAgJCgnI2ZhaWx1cmUtbWVzc2FnZScpLnRleHQobXNnKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2hvd1NlY3Rpb24oc2VjdGlvbikge1xuICAgICAgICBVSS5TRUNUSU9OU19TRUxFQ1RPUlMuZm9yRWFjaCgoc2VsZWN0b3IpID0+IHtcbiAgICAgICAgICAgIGlmIChzZWxlY3RvciA9PT0gc2VjdGlvbikge1xuICAgICAgICAgICAgICAgICQoc2VsZWN0b3IpLnNob3coKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJChzZWxlY3RvcikuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0QWxlcnRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgJCgnI2FsZXJ0LW1lc3NhZ2UnKS50ZXh0KG1lc3NhZ2UpO1xuICAgIH1cblxuICAgIHN0YXRpYyB1cGRhdGVTdGF0dXMocHJvZ3Jlc3MsIG1lc3NhZ2UpIHtcbiAgICAgICAgJCgnaDQjcHJvZ3Jlc3MtbXNnJykudGV4dChtZXNzYWdlKTtcbiAgICAgICAgaWYgKHByb2dyZXNzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRlVmFsdWVDaGFuZ2UoJCgncHJvZ3Jlc3MnKSwgcHJvZ3Jlc3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYW5pbWF0ZVZhbHVlQ2hhbmdlKCRlbCwgZmluYWxWYWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFuaW1hdGVGcm9tID0gKGN1cnJlbnRWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VmFsdWUgPT09IGZpbmFsVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmID0gY3VycmVudFZhbHVlIDwgZmluYWxWYWx1ZSA/IDEgOiAtMTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBkaWZmICsgY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAkZWwudmFsKG5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZUZyb20obmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGFuaW1hdGVGcm9tKCRlbC52YWwoKSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRDaGVja2JveChwcm9wcykge1xuICAgICAgICBjb25zdCBodG1sID0gYDxkaXYgY2xhc3M9XCJjaGVja2JveFwiPlxuICAgICAgICA8bGFiZWw+XG4gICAgICAgIDxpbnB1dCBjbGFzcz0nYXJ0aWNsZS1jaGVja2JveCcgdHlwZT1cImNoZWNrYm94XCIgdmFsdWU9XCIke3Byb3BzLnVybH1cIiBuYW1lPVwiJHtwcm9wcy5pZH1cIj5cbiAgICAgICAgPHNwYW4+JHtwcm9wcy50aXRsZX08L3NwYW4+XG4gICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDwvZGl2PmA7XG4gICAgICAgIHJldHVybiBodG1sO1xuICAgIH1cblxuICAgIHN0YXRpYyBpbml0aWFsaXplVGFiTGlzdCgpIHtcbiAgICAgICAgQnJvd3Nlci5nZXRDdXJyZW50V2luZG93VGFicygpLnRoZW4oKHRhYnMpID0+IHtcbiAgICAgICAgICAgIHRhYnMuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICAgICAgICAgICAgJCgnI3RhYi1saXN0JykuYXBwZW5kKFVJLmdldENoZWNrYm94KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRhYi50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB0YWIudXJsLFxuICAgICAgICAgICAgICAgICAgICBpZDogdGFiLmlkLFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIFVJLnNldEVycm9yTWVzc2FnZShgU2VhcmNoaW5nIHRhYnMgZmFpbGVkOiAke2Vycm9yfWApO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cblVJLlNFQ1RJT05TX1NFTEVDVE9SUyA9IFtcbiAgICAnI2Rvd25sb2FkRm9ybScsXG4gICAgJyNzZXR0aW5nc0Zvcm0nLFxuICAgICcjZG93bmxvYWRTcGlubmVyJyxcbiAgICAnI2Rvd25sb2FkU3VjY2VzcycsXG4gICAgJyNkb3dubG9hZEZhaWxlZCcsXG5dO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFVJO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zY3JpcHRzL3VpLmpzXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2VcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZS5qc1xuICoqIG1vZHVsZSBpZCA9IDU3XG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCJyZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZScpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczYucHJvbWlzZScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi9tb2R1bGVzL19jb3JlJykuUHJvbWlzZTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZS5qc1xuICoqIG1vZHVsZSBpZCA9IDU4XG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCIndXNlIHN0cmljdCc7XG52YXIgJGF0ICA9IHJlcXVpcmUoJy4vX3N0cmluZy1hdCcpKHRydWUpO1xuXG4vLyAyMS4xLjMuMjcgU3RyaW5nLnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5yZXF1aXJlKCcuL19pdGVyLWRlZmluZScpKFN0cmluZywgJ1N0cmluZycsIGZ1bmN0aW9uKGl0ZXJhdGVkKXtcbiAgdGhpcy5fdCA9IFN0cmluZyhpdGVyYXRlZCk7IC8vIHRhcmdldFxuICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuLy8gMjEuMS41LjIuMSAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24oKXtcbiAgdmFyIE8gICAgID0gdGhpcy5fdFxuICAgICwgaW5kZXggPSB0aGlzLl9pXG4gICAgLCBwb2ludDtcbiAgaWYoaW5kZXggPj0gTy5sZW5ndGgpcmV0dXJuIHt2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlfTtcbiAgcG9pbnQgPSAkYXQoTywgaW5kZXgpO1xuICB0aGlzLl9pICs9IHBvaW50Lmxlbmd0aDtcbiAgcmV0dXJuIHt2YWx1ZTogcG9pbnQsIGRvbmU6IGZhbHNlfTtcbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IuanNcbiAqKiBtb2R1bGUgaWQgPSA2MFxuICoqIG1vZHVsZSBjaHVua3MgPSAxXG4gKiovIiwidmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKVxuICAsIGRlZmluZWQgICA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbi8vIHRydWUgIC0+IFN0cmluZyNhdFxuLy8gZmFsc2UgLT4gU3RyaW5nI2NvZGVQb2ludEF0XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFRPX1NUUklORyl7XG4gIHJldHVybiBmdW5jdGlvbih0aGF0LCBwb3Mpe1xuICAgIHZhciBzID0gU3RyaW5nKGRlZmluZWQodGhhdCkpXG4gICAgICAsIGkgPSB0b0ludGVnZXIocG9zKVxuICAgICAgLCBsID0gcy5sZW5ndGhcbiAgICAgICwgYSwgYjtcbiAgICBpZihpIDwgMCB8fCBpID49IGwpcmV0dXJuIFRPX1NUUklORyA/ICcnIDogdW5kZWZpbmVkO1xuICAgIGEgPSBzLmNoYXJDb2RlQXQoaSk7XG4gICAgcmV0dXJuIGEgPCAweGQ4MDAgfHwgYSA+IDB4ZGJmZiB8fCBpICsgMSA9PT0gbCB8fCAoYiA9IHMuY2hhckNvZGVBdChpICsgMSkpIDwgMHhkYzAwIHx8IGIgPiAweGRmZmZcbiAgICAgID8gVE9fU1RSSU5HID8gcy5jaGFyQXQoaSkgOiBhXG4gICAgICA6IFRPX1NUUklORyA/IHMuc2xpY2UoaSwgaSArIDIpIDogKGEgLSAweGQ4MDAgPDwgMTApICsgKGIgLSAweGRjMDApICsgMHgxMDAwMDtcbiAgfTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3N0cmluZy1hdC5qc1xuICoqIG1vZHVsZSBpZCA9IDYxXG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCIndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSAgICAgICAgPSByZXF1aXJlKCcuL19saWJyYXJ5JylcbiAgLCAkZXhwb3J0ICAgICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgcmVkZWZpbmUgICAgICAgPSByZXF1aXJlKCcuL19yZWRlZmluZScpXG4gICwgaGlkZSAgICAgICAgICAgPSByZXF1aXJlKCcuL19oaWRlJylcbiAgLCBoYXMgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgSXRlcmF0b3JzICAgICAgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKVxuICAsICRpdGVyQ3JlYXRlICAgID0gcmVxdWlyZSgnLi9faXRlci1jcmVhdGUnKVxuICAsIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKVxuICAsIGdldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpXG4gICwgSVRFUkFUT1IgICAgICAgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKVxuICAsIEJVR0dZICAgICAgICAgID0gIShbXS5rZXlzICYmICduZXh0JyBpbiBbXS5rZXlzKCkpIC8vIFNhZmFyaSBoYXMgYnVnZ3kgaXRlcmF0b3JzIHcvbyBgbmV4dGBcbiAgLCBGRl9JVEVSQVRPUiAgICA9ICdAQGl0ZXJhdG9yJ1xuICAsIEtFWVMgICAgICAgICAgID0gJ2tleXMnXG4gICwgVkFMVUVTICAgICAgICAgPSAndmFsdWVzJztcblxudmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpe1xuICAkaXRlckNyZWF0ZShDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCk7XG4gIHZhciBnZXRNZXRob2QgPSBmdW5jdGlvbihraW5kKXtcbiAgICBpZighQlVHR1kgJiYga2luZCBpbiBwcm90bylyZXR1cm4gcHJvdG9ba2luZF07XG4gICAgc3dpdGNoKGtpbmQpe1xuICAgICAgY2FzZSBLRVlTOiByZXR1cm4gZnVuY3Rpb24ga2V5cygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgICAgY2FzZSBWQUxVRVM6IHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gIH07XG4gIHZhciBUQUcgICAgICAgID0gTkFNRSArICcgSXRlcmF0b3InXG4gICAgLCBERUZfVkFMVUVTID0gREVGQVVMVCA9PSBWQUxVRVNcbiAgICAsIFZBTFVFU19CVUcgPSBmYWxzZVxuICAgICwgcHJvdG8gICAgICA9IEJhc2UucHJvdG90eXBlXG4gICAgLCAkbmF0aXZlICAgID0gcHJvdG9bSVRFUkFUT1JdIHx8IHByb3RvW0ZGX0lURVJBVE9SXSB8fCBERUZBVUxUICYmIHByb3RvW0RFRkFVTFRdXG4gICAgLCAkZGVmYXVsdCAgID0gJG5hdGl2ZSB8fCBnZXRNZXRob2QoREVGQVVMVClcbiAgICAsICRlbnRyaWVzICAgPSBERUZBVUxUID8gIURFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZCgnZW50cmllcycpIDogdW5kZWZpbmVkXG4gICAgLCAkYW55TmF0aXZlID0gTkFNRSA9PSAnQXJyYXknID8gcHJvdG8uZW50cmllcyB8fCAkbmF0aXZlIDogJG5hdGl2ZVxuICAgICwgbWV0aG9kcywga2V5LCBJdGVyYXRvclByb3RvdHlwZTtcbiAgLy8gRml4IG5hdGl2ZVxuICBpZigkYW55TmF0aXZlKXtcbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKCRhbnlOYXRpdmUuY2FsbChuZXcgQmFzZSkpO1xuICAgIGlmKEl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlKXtcbiAgICAgIC8vIFNldCBAQHRvU3RyaW5nVGFnIHRvIG5hdGl2ZSBpdGVyYXRvcnNcbiAgICAgIHNldFRvU3RyaW5nVGFnKEl0ZXJhdG9yUHJvdG90eXBlLCBUQUcsIHRydWUpO1xuICAgICAgLy8gZml4IGZvciBzb21lIG9sZCBlbmdpbmVzXG4gICAgICBpZighTElCUkFSWSAmJiAhaGFzKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUikpaGlkZShJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuICAgIH1cbiAgfVxuICAvLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGXG4gIGlmKERFRl9WQUxVRVMgJiYgJG5hdGl2ZSAmJiAkbmF0aXZlLm5hbWUgIT09IFZBTFVFUyl7XG4gICAgVkFMVUVTX0JVRyA9IHRydWU7XG4gICAgJGRlZmF1bHQgPSBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuICRuYXRpdmUuY2FsbCh0aGlzKTsgfTtcbiAgfVxuICAvLyBEZWZpbmUgaXRlcmF0b3JcbiAgaWYoKCFMSUJSQVJZIHx8IEZPUkNFRCkgJiYgKEJVR0dZIHx8IFZBTFVFU19CVUcgfHwgIXByb3RvW0lURVJBVE9SXSkpe1xuICAgIGhpZGUocHJvdG8sIElURVJBVE9SLCAkZGVmYXVsdCk7XG4gIH1cbiAgLy8gUGx1ZyBmb3IgbGlicmFyeVxuICBJdGVyYXRvcnNbTkFNRV0gPSAkZGVmYXVsdDtcbiAgSXRlcmF0b3JzW1RBR10gID0gcmV0dXJuVGhpcztcbiAgaWYoREVGQVVMVCl7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIHZhbHVlczogIERFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChWQUxVRVMpLFxuICAgICAga2V5czogICAgSVNfU0VUICAgICA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKEtFWVMpLFxuICAgICAgZW50cmllczogJGVudHJpZXNcbiAgICB9O1xuICAgIGlmKEZPUkNFRClmb3Ioa2V5IGluIG1ldGhvZHMpe1xuICAgICAgaWYoIShrZXkgaW4gcHJvdG8pKXJlZGVmaW5lKHByb3RvLCBrZXksIG1ldGhvZHNba2V5XSk7XG4gICAgfSBlbHNlICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogKEJVR0dZIHx8IFZBTFVFU19CVUcpLCBOQU1FLCBtZXRob2RzKTtcbiAgfVxuICByZXR1cm4gbWV0aG9kcztcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGVmaW5lLmpzXG4gKiogbW9kdWxlIGlkID0gNjJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gdHJ1ZTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbGlicmFyeS5qc1xuICoqIG1vZHVsZSBpZCA9IDYzXG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcmVkZWZpbmUuanNcbiAqKiBtb2R1bGUgaWQgPSA2NFxuICoqIG1vZHVsZSBjaHVua3MgPSAxXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlcmF0b3JzLmpzXG4gKiogbW9kdWxlIGlkID0gNjVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsIid1c2Ugc3RyaWN0JztcbnZhciBjcmVhdGUgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKVxuICAsIGRlc2NyaXB0b3IgICAgID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpXG4gICwgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpXG4gICwgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcblxuLy8gMjUuMS4yLjEuMSAlSXRlcmF0b3JQcm90b3R5cGUlW0BAaXRlcmF0b3JdKClcbnJlcXVpcmUoJy4vX2hpZGUnKShJdGVyYXRvclByb3RvdHlwZSwgcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyksIGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzOyB9KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCl7XG4gIENvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSwge25leHQ6IGRlc2NyaXB0b3IoMSwgbmV4dCl9KTtcbiAgc2V0VG9TdHJpbmdUYWcoQ29uc3RydWN0b3IsIE5BTUUgKyAnIEl0ZXJhdG9yJyk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWNyZWF0ZS5qc1xuICoqIG1vZHVsZSBpZCA9IDY2XG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCIvLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbnZhciBhbk9iamVjdCAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgZFBzICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHBzJylcbiAgLCBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKVxuICAsIElFX1BST1RPICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpXG4gICwgRW1wdHkgICAgICAgPSBmdW5jdGlvbigpeyAvKiBlbXB0eSAqLyB9XG4gICwgUFJPVE9UWVBFICAgPSAncHJvdG90eXBlJztcblxuLy8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIGlmcmFtZSBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxudmFyIGNyZWF0ZURpY3QgPSBmdW5jdGlvbigpe1xuICAvLyBUaHJhc2gsIHdhc3RlIGFuZCBzb2RvbXk6IElFIEdDIGJ1Z1xuICB2YXIgaWZyYW1lID0gcmVxdWlyZSgnLi9fZG9tLWNyZWF0ZScpKCdpZnJhbWUnKVxuICAgICwgaSAgICAgID0gZW51bUJ1Z0tleXMubGVuZ3RoXG4gICAgLCBsdCAgICAgPSAnPCdcbiAgICAsIGd0ICAgICA9ICc+J1xuICAgICwgaWZyYW1lRG9jdW1lbnQ7XG4gIGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICByZXF1aXJlKCcuL19odG1sJykuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgaWZyYW1lLnNyYyA9ICdqYXZhc2NyaXB0Oic7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2NyaXB0LXVybFxuICAvLyBjcmVhdGVEaWN0ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuT2JqZWN0O1xuICAvLyBodG1sLnJlbW92ZUNoaWxkKGlmcmFtZSk7XG4gIGlmcmFtZURvY3VtZW50ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG4gIGlmcmFtZURvY3VtZW50Lm9wZW4oKTtcbiAgaWZyYW1lRG9jdW1lbnQud3JpdGUobHQgKyAnc2NyaXB0JyArIGd0ICsgJ2RvY3VtZW50LkY9T2JqZWN0JyArIGx0ICsgJy9zY3JpcHQnICsgZ3QpO1xuICBpZnJhbWVEb2N1bWVudC5jbG9zZSgpO1xuICBjcmVhdGVEaWN0ID0gaWZyYW1lRG9jdW1lbnQuRjtcbiAgd2hpbGUoaS0tKWRlbGV0ZSBjcmVhdGVEaWN0W1BST1RPVFlQRV1bZW51bUJ1Z0tleXNbaV1dO1xuICByZXR1cm4gY3JlYXRlRGljdCgpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIGNyZWF0ZShPLCBQcm9wZXJ0aWVzKXtcbiAgdmFyIHJlc3VsdDtcbiAgaWYoTyAhPT0gbnVsbCl7XG4gICAgRW1wdHlbUFJPVE9UWVBFXSA9IGFuT2JqZWN0KE8pO1xuICAgIHJlc3VsdCA9IG5ldyBFbXB0eTtcbiAgICBFbXB0eVtQUk9UT1RZUEVdID0gbnVsbDtcbiAgICAvLyBhZGQgXCJfX3Byb3RvX19cIiBmb3IgT2JqZWN0LmdldFByb3RvdHlwZU9mIHBvbHlmaWxsXG4gICAgcmVzdWx0W0lFX1BST1RPXSA9IE87XG4gIH0gZWxzZSByZXN1bHQgPSBjcmVhdGVEaWN0KCk7XG4gIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkUHMocmVzdWx0LCBQcm9wZXJ0aWVzKTtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWNyZWF0ZS5qc1xuICoqIG1vZHVsZSBpZCA9IDY3XG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCJ2YXIgZFAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKVxuICAsIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBnZXRLZXlzICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKXtcbiAgYW5PYmplY3QoTyk7XG4gIHZhciBrZXlzICAgPSBnZXRLZXlzKFByb3BlcnRpZXMpXG4gICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuICAgICwgaSA9IDBcbiAgICAsIFA7XG4gIHdoaWxlKGxlbmd0aCA+IGkpZFAuZihPLCBQID0ga2V5c1tpKytdLCBQcm9wZXJ0aWVzW1BdKTtcbiAgcmV0dXJuIE87XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHBzLmpzXG4gKiogbW9kdWxlIGlkID0gNjhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19odG1sLmpzXG4gKiogbW9kdWxlIGlkID0gNjlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsInZhciBkZWYgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mXG4gICwgaGFzID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBUQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgdGFnLCBzdGF0KXtcbiAgaWYoaXQgJiYgIWhhcyhpdCA9IHN0YXQgPyBpdCA6IGl0LnByb3RvdHlwZSwgVEFHKSlkZWYoaXQsIFRBRywge2NvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHRhZ30pO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXRvLXN0cmluZy10YWcuanNcbiAqKiBtb2R1bGUgaWQgPSA3MFxuICoqIG1vZHVsZSBjaHVua3MgPSAxXG4gKiovIiwidmFyIHN0b3JlICAgICAgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgnd2tzJylcbiAgLCB1aWQgICAgICAgID0gcmVxdWlyZSgnLi9fdWlkJylcbiAgLCBTeW1ib2wgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuU3ltYm9sXG4gICwgVVNFX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT0gJ2Z1bmN0aW9uJztcblxudmFyICRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lKXtcbiAgcmV0dXJuIHN0b3JlW25hbWVdIHx8IChzdG9yZVtuYW1lXSA9XG4gICAgVVNFX1NZTUJPTCAmJiBTeW1ib2xbbmFtZV0gfHwgKFVTRV9TWU1CT0wgPyBTeW1ib2wgOiB1aWQpKCdTeW1ib2wuJyArIG5hbWUpKTtcbn07XG5cbiRleHBvcnRzLnN0b3JlID0gc3RvcmU7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy5qc1xuICoqIG1vZHVsZSBpZCA9IDcxXG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCIvLyAxOS4xLjIuOSAvIDE1LjIuMy4yIE9iamVjdC5nZXRQcm90b3R5cGVPZihPKVxudmFyIGhhcyAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCB0b09iamVjdCAgICA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpXG4gICwgSUVfUFJPVE8gICAgPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJylcbiAgLCBPYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmdldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uKE8pe1xuICBPID0gdG9PYmplY3QoTyk7XG4gIGlmKGhhcyhPLCBJRV9QUk9UTykpcmV0dXJuIE9bSUVfUFJPVE9dO1xuICBpZih0eXBlb2YgTy5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmIE8gaW5zdGFuY2VvZiBPLmNvbnN0cnVjdG9yKXtcbiAgICByZXR1cm4gTy5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gIH0gcmV0dXJuIE8gaW5zdGFuY2VvZiBPYmplY3QgPyBPYmplY3RQcm90byA6IG51bGw7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ3BvLmpzXG4gKiogbW9kdWxlIGlkID0gNzJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsInJlcXVpcmUoJy4vZXM2LmFycmF5Lml0ZXJhdG9yJyk7XG52YXIgZ2xvYmFsICAgICAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgaGlkZSAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hpZGUnKVxuICAsIEl0ZXJhdG9ycyAgICAgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKVxuICAsIFRPX1NUUklOR19UQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKTtcblxuZm9yKHZhciBjb2xsZWN0aW9ucyA9IFsnTm9kZUxpc3QnLCAnRE9NVG9rZW5MaXN0JywgJ01lZGlhTGlzdCcsICdTdHlsZVNoZWV0TGlzdCcsICdDU1NSdWxlTGlzdCddLCBpID0gMDsgaSA8IDU7IGkrKyl7XG4gIHZhciBOQU1FICAgICAgID0gY29sbGVjdGlvbnNbaV1cbiAgICAsIENvbGxlY3Rpb24gPSBnbG9iYWxbTkFNRV1cbiAgICAsIHByb3RvICAgICAgPSBDb2xsZWN0aW9uICYmIENvbGxlY3Rpb24ucHJvdG90eXBlO1xuICBpZihwcm90byAmJiAhcHJvdG9bVE9fU1RSSU5HX1RBR10paGlkZShwcm90bywgVE9fU1RSSU5HX1RBRywgTkFNRSk7XG4gIEl0ZXJhdG9yc1tOQU1FXSA9IEl0ZXJhdG9ycy5BcnJheTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlLmpzXG4gKiogbW9kdWxlIGlkID0gNzNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsIid1c2Ugc3RyaWN0JztcbnZhciBhZGRUb1Vuc2NvcGFibGVzID0gcmVxdWlyZSgnLi9fYWRkLXRvLXVuc2NvcGFibGVzJylcbiAgLCBzdGVwICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faXRlci1zdGVwJylcbiAgLCBJdGVyYXRvcnMgICAgICAgID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJylcbiAgLCB0b0lPYmplY3QgICAgICAgID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xuXG4vLyAyMi4xLjMuNCBBcnJheS5wcm90b3R5cGUuZW50cmllcygpXG4vLyAyMi4xLjMuMTMgQXJyYXkucHJvdG90eXBlLmtleXMoKVxuLy8gMjIuMS4zLjI5IEFycmF5LnByb3RvdHlwZS52YWx1ZXMoKVxuLy8gMjIuMS4zLjMwIEFycmF5LnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2l0ZXItZGVmaW5lJykoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uKGl0ZXJhdGVkLCBraW5kKXtcbiAgdGhpcy5fdCA9IHRvSU9iamVjdChpdGVyYXRlZCk7IC8vIHRhcmdldFxuICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuICB0aGlzLl9rID0ga2luZDsgICAgICAgICAgICAgICAgLy8ga2luZFxuLy8gMjIuMS41LjIuMSAlQXJyYXlJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG59LCBmdW5jdGlvbigpe1xuICB2YXIgTyAgICAgPSB0aGlzLl90XG4gICAgLCBraW5kICA9IHRoaXMuX2tcbiAgICAsIGluZGV4ID0gdGhpcy5faSsrO1xuICBpZighTyB8fCBpbmRleCA+PSBPLmxlbmd0aCl7XG4gICAgdGhpcy5fdCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gc3RlcCgxKTtcbiAgfVxuICBpZihraW5kID09ICdrZXlzJyAgKXJldHVybiBzdGVwKDAsIGluZGV4KTtcbiAgaWYoa2luZCA9PSAndmFsdWVzJylyZXR1cm4gc3RlcCgwLCBPW2luZGV4XSk7XG4gIHJldHVybiBzdGVwKDAsIFtpbmRleCwgT1tpbmRleF1dKTtcbn0sICd2YWx1ZXMnKTtcblxuLy8gYXJndW1lbnRzTGlzdFtAQGl0ZXJhdG9yXSBpcyAlQXJyYXlQcm90b192YWx1ZXMlICg5LjQuNC42LCA5LjQuNC43KVxuSXRlcmF0b3JzLkFyZ3VtZW50cyA9IEl0ZXJhdG9ycy5BcnJheTtcblxuYWRkVG9VbnNjb3BhYmxlcygna2V5cycpO1xuYWRkVG9VbnNjb3BhYmxlcygndmFsdWVzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCdlbnRyaWVzJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yLmpzXG4gKiogbW9kdWxlIGlkID0gNzRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKXsgLyogZW1wdHkgKi8gfTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYWRkLXRvLXVuc2NvcGFibGVzLmpzXG4gKiogbW9kdWxlIGlkID0gNzVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZG9uZSwgdmFsdWUpe1xuICByZXR1cm4ge3ZhbHVlOiB2YWx1ZSwgZG9uZTogISFkb25lfTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItc3RlcC5qc1xuICoqIG1vZHVsZSBpZCA9IDc2XG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCIndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fbGlicmFyeScpXG4gICwgZ2xvYmFsICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBjdHggICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19jdHgnKVxuICAsIGNsYXNzb2YgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2NsYXNzb2YnKVxuICAsICRleHBvcnQgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgaXNPYmplY3QgICAgICAgICAgID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBhRnVuY3Rpb24gICAgICAgICAgPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJylcbiAgLCBhbkluc3RhbmNlICAgICAgICAgPSByZXF1aXJlKCcuL19hbi1pbnN0YW5jZScpXG4gICwgZm9yT2YgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZm9yLW9mJylcbiAgLCBzcGVjaWVzQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuL19zcGVjaWVzLWNvbnN0cnVjdG9yJylcbiAgLCB0YXNrICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL190YXNrJykuc2V0XG4gICwgbWljcm90YXNrICAgICAgICAgID0gcmVxdWlyZSgnLi9fbWljcm90YXNrJykoKVxuICAsIFBST01JU0UgICAgICAgICAgICA9ICdQcm9taXNlJ1xuICAsIFR5cGVFcnJvciAgICAgICAgICA9IGdsb2JhbC5UeXBlRXJyb3JcbiAgLCBwcm9jZXNzICAgICAgICAgICAgPSBnbG9iYWwucHJvY2Vzc1xuICAsICRQcm9taXNlICAgICAgICAgICA9IGdsb2JhbFtQUk9NSVNFXVxuICAsIHByb2Nlc3MgICAgICAgICAgICA9IGdsb2JhbC5wcm9jZXNzXG4gICwgaXNOb2RlICAgICAgICAgICAgID0gY2xhc3NvZihwcm9jZXNzKSA9PSAncHJvY2VzcydcbiAgLCBlbXB0eSAgICAgICAgICAgICAgPSBmdW5jdGlvbigpeyAvKiBlbXB0eSAqLyB9XG4gICwgSW50ZXJuYWwsIEdlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eSwgV3JhcHBlcjtcblxudmFyIFVTRV9OQVRJVkUgPSAhIWZ1bmN0aW9uKCl7XG4gIHRyeSB7XG4gICAgLy8gY29ycmVjdCBzdWJjbGFzc2luZyB3aXRoIEBAc3BlY2llcyBzdXBwb3J0XG4gICAgdmFyIHByb21pc2UgICAgID0gJFByb21pc2UucmVzb2x2ZSgxKVxuICAgICAgLCBGYWtlUHJvbWlzZSA9IChwcm9taXNlLmNvbnN0cnVjdG9yID0ge30pW3JlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyldID0gZnVuY3Rpb24oZXhlYyl7IGV4ZWMoZW1wdHksIGVtcHR5KTsgfTtcbiAgICAvLyB1bmhhbmRsZWQgcmVqZWN0aW9ucyB0cmFja2luZyBzdXBwb3J0LCBOb2RlSlMgUHJvbWlzZSB3aXRob3V0IGl0IGZhaWxzIEBAc3BlY2llcyB0ZXN0XG4gICAgcmV0dXJuIChpc05vZGUgfHwgdHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCA9PSAnZnVuY3Rpb24nKSAmJiBwcm9taXNlLnRoZW4oZW1wdHkpIGluc3RhbmNlb2YgRmFrZVByb21pc2U7XG4gIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbn0oKTtcblxuLy8gaGVscGVyc1xudmFyIHNhbWVDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKGEsIGIpe1xuICAvLyB3aXRoIGxpYnJhcnkgd3JhcHBlciBzcGVjaWFsIGNhc2VcbiAgcmV0dXJuIGEgPT09IGIgfHwgYSA9PT0gJFByb21pc2UgJiYgYiA9PT0gV3JhcHBlcjtcbn07XG52YXIgaXNUaGVuYWJsZSA9IGZ1bmN0aW9uKGl0KXtcbiAgdmFyIHRoZW47XG4gIHJldHVybiBpc09iamVjdChpdCkgJiYgdHlwZW9mICh0aGVuID0gaXQudGhlbikgPT0gJ2Z1bmN0aW9uJyA/IHRoZW4gOiBmYWxzZTtcbn07XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbihDKXtcbiAgcmV0dXJuIHNhbWVDb25zdHJ1Y3RvcigkUHJvbWlzZSwgQylcbiAgICA/IG5ldyBQcm9taXNlQ2FwYWJpbGl0eShDKVxuICAgIDogbmV3IEdlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eShDKTtcbn07XG52YXIgUHJvbWlzZUNhcGFiaWxpdHkgPSBHZW5lcmljUHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbihDKXtcbiAgdmFyIHJlc29sdmUsIHJlamVjdDtcbiAgdGhpcy5wcm9taXNlID0gbmV3IEMoZnVuY3Rpb24oJCRyZXNvbHZlLCAkJHJlamVjdCl7XG4gICAgaWYocmVzb2x2ZSAhPT0gdW5kZWZpbmVkIHx8IHJlamVjdCAhPT0gdW5kZWZpbmVkKXRocm93IFR5cGVFcnJvcignQmFkIFByb21pc2UgY29uc3RydWN0b3InKTtcbiAgICByZXNvbHZlID0gJCRyZXNvbHZlO1xuICAgIHJlamVjdCAgPSAkJHJlamVjdDtcbiAgfSk7XG4gIHRoaXMucmVzb2x2ZSA9IGFGdW5jdGlvbihyZXNvbHZlKTtcbiAgdGhpcy5yZWplY3QgID0gYUZ1bmN0aW9uKHJlamVjdCk7XG59O1xudmFyIHBlcmZvcm0gPSBmdW5jdGlvbihleGVjKXtcbiAgdHJ5IHtcbiAgICBleGVjKCk7XG4gIH0gY2F0Y2goZSl7XG4gICAgcmV0dXJuIHtlcnJvcjogZX07XG4gIH1cbn07XG52YXIgbm90aWZ5ID0gZnVuY3Rpb24ocHJvbWlzZSwgaXNSZWplY3Qpe1xuICBpZihwcm9taXNlLl9uKXJldHVybjtcbiAgcHJvbWlzZS5fbiA9IHRydWU7XG4gIHZhciBjaGFpbiA9IHByb21pc2UuX2M7XG4gIG1pY3JvdGFzayhmdW5jdGlvbigpe1xuICAgIHZhciB2YWx1ZSA9IHByb21pc2UuX3ZcbiAgICAgICwgb2sgICAgPSBwcm9taXNlLl9zID09IDFcbiAgICAgICwgaSAgICAgPSAwO1xuICAgIHZhciBydW4gPSBmdW5jdGlvbihyZWFjdGlvbil7XG4gICAgICB2YXIgaGFuZGxlciA9IG9rID8gcmVhY3Rpb24ub2sgOiByZWFjdGlvbi5mYWlsXG4gICAgICAgICwgcmVzb2x2ZSA9IHJlYWN0aW9uLnJlc29sdmVcbiAgICAgICAgLCByZWplY3QgID0gcmVhY3Rpb24ucmVqZWN0XG4gICAgICAgICwgZG9tYWluICA9IHJlYWN0aW9uLmRvbWFpblxuICAgICAgICAsIHJlc3VsdCwgdGhlbjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmKGhhbmRsZXIpe1xuICAgICAgICAgIGlmKCFvayl7XG4gICAgICAgICAgICBpZihwcm9taXNlLl9oID09IDIpb25IYW5kbGVVbmhhbmRsZWQocHJvbWlzZSk7XG4gICAgICAgICAgICBwcm9taXNlLl9oID0gMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoaGFuZGxlciA9PT0gdHJ1ZSlyZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmKGRvbWFpbilkb21haW4uZW50ZXIoKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IGhhbmRsZXIodmFsdWUpO1xuICAgICAgICAgICAgaWYoZG9tYWluKWRvbWFpbi5leGl0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKHJlc3VsdCA9PT0gcmVhY3Rpb24ucHJvbWlzZSl7XG4gICAgICAgICAgICByZWplY3QoVHlwZUVycm9yKCdQcm9taXNlLWNoYWluIGN5Y2xlJykpO1xuICAgICAgICAgIH0gZWxzZSBpZih0aGVuID0gaXNUaGVuYWJsZShyZXN1bHQpKXtcbiAgICAgICAgICAgIHRoZW4uY2FsbChyZXN1bHQsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSBlbHNlIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHJlamVjdCh2YWx1ZSk7XG4gICAgICB9IGNhdGNoKGUpe1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB3aGlsZShjaGFpbi5sZW5ndGggPiBpKXJ1bihjaGFpbltpKytdKTsgLy8gdmFyaWFibGUgbGVuZ3RoIC0gY2FuJ3QgdXNlIGZvckVhY2hcbiAgICBwcm9taXNlLl9jID0gW107XG4gICAgcHJvbWlzZS5fbiA9IGZhbHNlO1xuICAgIGlmKGlzUmVqZWN0ICYmICFwcm9taXNlLl9oKW9uVW5oYW5kbGVkKHByb21pc2UpO1xuICB9KTtcbn07XG52YXIgb25VbmhhbmRsZWQgPSBmdW5jdGlvbihwcm9taXNlKXtcbiAgdGFzay5jYWxsKGdsb2JhbCwgZnVuY3Rpb24oKXtcbiAgICB2YXIgdmFsdWUgPSBwcm9taXNlLl92XG4gICAgICAsIGFicnVwdCwgaGFuZGxlciwgY29uc29sZTtcbiAgICBpZihpc1VuaGFuZGxlZChwcm9taXNlKSl7XG4gICAgICBhYnJ1cHQgPSBwZXJmb3JtKGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmKGlzTm9kZSl7XG4gICAgICAgICAgcHJvY2Vzcy5lbWl0KCd1bmhhbmRsZWRSZWplY3Rpb24nLCB2YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgIH0gZWxzZSBpZihoYW5kbGVyID0gZ2xvYmFsLm9udW5oYW5kbGVkcmVqZWN0aW9uKXtcbiAgICAgICAgICBoYW5kbGVyKHtwcm9taXNlOiBwcm9taXNlLCByZWFzb246IHZhbHVlfSk7XG4gICAgICAgIH0gZWxzZSBpZigoY29uc29sZSA9IGdsb2JhbC5jb25zb2xlKSAmJiBjb25zb2xlLmVycm9yKXtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24nLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gQnJvd3NlcnMgc2hvdWxkIG5vdCB0cmlnZ2VyIGByZWplY3Rpb25IYW5kbGVkYCBldmVudCBpZiBpdCB3YXMgaGFuZGxlZCBoZXJlLCBOb2RlSlMgLSBzaG91bGRcbiAgICAgIHByb21pc2UuX2ggPSBpc05vZGUgfHwgaXNVbmhhbmRsZWQocHJvbWlzZSkgPyAyIDogMTtcbiAgICB9IHByb21pc2UuX2EgPSB1bmRlZmluZWQ7XG4gICAgaWYoYWJydXB0KXRocm93IGFicnVwdC5lcnJvcjtcbiAgfSk7XG59O1xudmFyIGlzVW5oYW5kbGVkID0gZnVuY3Rpb24ocHJvbWlzZSl7XG4gIGlmKHByb21pc2UuX2ggPT0gMSlyZXR1cm4gZmFsc2U7XG4gIHZhciBjaGFpbiA9IHByb21pc2UuX2EgfHwgcHJvbWlzZS5fY1xuICAgICwgaSAgICAgPSAwXG4gICAgLCByZWFjdGlvbjtcbiAgd2hpbGUoY2hhaW4ubGVuZ3RoID4gaSl7XG4gICAgcmVhY3Rpb24gPSBjaGFpbltpKytdO1xuICAgIGlmKHJlYWN0aW9uLmZhaWwgfHwgIWlzVW5oYW5kbGVkKHJlYWN0aW9uLnByb21pc2UpKXJldHVybiBmYWxzZTtcbiAgfSByZXR1cm4gdHJ1ZTtcbn07XG52YXIgb25IYW5kbGVVbmhhbmRsZWQgPSBmdW5jdGlvbihwcm9taXNlKXtcbiAgdGFzay5jYWxsKGdsb2JhbCwgZnVuY3Rpb24oKXtcbiAgICB2YXIgaGFuZGxlcjtcbiAgICBpZihpc05vZGUpe1xuICAgICAgcHJvY2Vzcy5lbWl0KCdyZWplY3Rpb25IYW5kbGVkJywgcHJvbWlzZSk7XG4gICAgfSBlbHNlIGlmKGhhbmRsZXIgPSBnbG9iYWwub25yZWplY3Rpb25oYW5kbGVkKXtcbiAgICAgIGhhbmRsZXIoe3Byb21pc2U6IHByb21pc2UsIHJlYXNvbjogcHJvbWlzZS5fdn0pO1xuICAgIH1cbiAgfSk7XG59O1xudmFyICRyZWplY3QgPSBmdW5jdGlvbih2YWx1ZSl7XG4gIHZhciBwcm9taXNlID0gdGhpcztcbiAgaWYocHJvbWlzZS5fZClyZXR1cm47XG4gIHByb21pc2UuX2QgPSB0cnVlO1xuICBwcm9taXNlID0gcHJvbWlzZS5fdyB8fCBwcm9taXNlOyAvLyB1bndyYXBcbiAgcHJvbWlzZS5fdiA9IHZhbHVlO1xuICBwcm9taXNlLl9zID0gMjtcbiAgaWYoIXByb21pc2UuX2EpcHJvbWlzZS5fYSA9IHByb21pc2UuX2Muc2xpY2UoKTtcbiAgbm90aWZ5KHByb21pc2UsIHRydWUpO1xufTtcbnZhciAkcmVzb2x2ZSA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgdmFyIHByb21pc2UgPSB0aGlzXG4gICAgLCB0aGVuO1xuICBpZihwcm9taXNlLl9kKXJldHVybjtcbiAgcHJvbWlzZS5fZCA9IHRydWU7XG4gIHByb21pc2UgPSBwcm9taXNlLl93IHx8IHByb21pc2U7IC8vIHVud3JhcFxuICB0cnkge1xuICAgIGlmKHByb21pc2UgPT09IHZhbHVlKXRocm93IFR5cGVFcnJvcihcIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmXCIpO1xuICAgIGlmKHRoZW4gPSBpc1RoZW5hYmxlKHZhbHVlKSl7XG4gICAgICBtaWNyb3Rhc2soZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIHdyYXBwZXIgPSB7X3c6IHByb21pc2UsIF9kOiBmYWxzZX07IC8vIHdyYXBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGVuLmNhbGwodmFsdWUsIGN0eCgkcmVzb2x2ZSwgd3JhcHBlciwgMSksIGN0eCgkcmVqZWN0LCB3cmFwcGVyLCAxKSk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgJHJlamVjdC5jYWxsKHdyYXBwZXIsIGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvbWlzZS5fdiA9IHZhbHVlO1xuICAgICAgcHJvbWlzZS5fcyA9IDE7XG4gICAgICBub3RpZnkocHJvbWlzZSwgZmFsc2UpO1xuICAgIH1cbiAgfSBjYXRjaChlKXtcbiAgICAkcmVqZWN0LmNhbGwoe193OiBwcm9taXNlLCBfZDogZmFsc2V9LCBlKTsgLy8gd3JhcFxuICB9XG59O1xuXG4vLyBjb25zdHJ1Y3RvciBwb2x5ZmlsbFxuaWYoIVVTRV9OQVRJVkUpe1xuICAvLyAyNS40LjMuMSBQcm9taXNlKGV4ZWN1dG9yKVxuICAkUHJvbWlzZSA9IGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3Ipe1xuICAgIGFuSW5zdGFuY2UodGhpcywgJFByb21pc2UsIFBST01JU0UsICdfaCcpO1xuICAgIGFGdW5jdGlvbihleGVjdXRvcik7XG4gICAgSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgICB0cnkge1xuICAgICAgZXhlY3V0b3IoY3R4KCRyZXNvbHZlLCB0aGlzLCAxKSwgY3R4KCRyZWplY3QsIHRoaXMsIDEpKTtcbiAgICB9IGNhdGNoKGVycil7XG4gICAgICAkcmVqZWN0LmNhbGwodGhpcywgZXJyKTtcbiAgICB9XG4gIH07XG4gIEludGVybmFsID0gZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcil7XG4gICAgdGhpcy5fYyA9IFtdOyAgICAgICAgICAgICAvLyA8LSBhd2FpdGluZyByZWFjdGlvbnNcbiAgICB0aGlzLl9hID0gdW5kZWZpbmVkOyAgICAgIC8vIDwtIGNoZWNrZWQgaW4gaXNVbmhhbmRsZWQgcmVhY3Rpb25zXG4gICAgdGhpcy5fcyA9IDA7ICAgICAgICAgICAgICAvLyA8LSBzdGF0ZVxuICAgIHRoaXMuX2QgPSBmYWxzZTsgICAgICAgICAgLy8gPC0gZG9uZVxuICAgIHRoaXMuX3YgPSB1bmRlZmluZWQ7ICAgICAgLy8gPC0gdmFsdWVcbiAgICB0aGlzLl9oID0gMDsgICAgICAgICAgICAgIC8vIDwtIHJlamVjdGlvbiBzdGF0ZSwgMCAtIGRlZmF1bHQsIDEgLSBoYW5kbGVkLCAyIC0gdW5oYW5kbGVkXG4gICAgdGhpcy5fbiA9IGZhbHNlOyAgICAgICAgICAvLyA8LSBub3RpZnlcbiAgfTtcbiAgSW50ZXJuYWwucHJvdG90eXBlID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUtYWxsJykoJFByb21pc2UucHJvdG90eXBlLCB7XG4gICAgLy8gMjUuNC41LjMgUHJvbWlzZS5wcm90b3R5cGUudGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZClcbiAgICB0aGVuOiBmdW5jdGlvbiB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKXtcbiAgICAgIHZhciByZWFjdGlvbiAgICA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KHNwZWNpZXNDb25zdHJ1Y3Rvcih0aGlzLCAkUHJvbWlzZSkpO1xuICAgICAgcmVhY3Rpb24ub2sgICAgID0gdHlwZW9mIG9uRnVsZmlsbGVkID09ICdmdW5jdGlvbicgPyBvbkZ1bGZpbGxlZCA6IHRydWU7XG4gICAgICByZWFjdGlvbi5mYWlsICAgPSB0eXBlb2Ygb25SZWplY3RlZCA9PSAnZnVuY3Rpb24nICYmIG9uUmVqZWN0ZWQ7XG4gICAgICByZWFjdGlvbi5kb21haW4gPSBpc05vZGUgPyBwcm9jZXNzLmRvbWFpbiA6IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX2MucHVzaChyZWFjdGlvbik7XG4gICAgICBpZih0aGlzLl9hKXRoaXMuX2EucHVzaChyZWFjdGlvbik7XG4gICAgICBpZih0aGlzLl9zKW5vdGlmeSh0aGlzLCBmYWxzZSk7XG4gICAgICByZXR1cm4gcmVhY3Rpb24ucHJvbWlzZTtcbiAgICB9LFxuICAgIC8vIDI1LjQuNS4xIFByb21pc2UucHJvdG90eXBlLmNhdGNoKG9uUmVqZWN0ZWQpXG4gICAgJ2NhdGNoJzogZnVuY3Rpb24ob25SZWplY3RlZCl7XG4gICAgICByZXR1cm4gdGhpcy50aGVuKHVuZGVmaW5lZCwgb25SZWplY3RlZCk7XG4gICAgfVxuICB9KTtcbiAgUHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbigpe1xuICAgIHZhciBwcm9taXNlICA9IG5ldyBJbnRlcm5hbDtcbiAgICB0aGlzLnByb21pc2UgPSBwcm9taXNlO1xuICAgIHRoaXMucmVzb2x2ZSA9IGN0eCgkcmVzb2x2ZSwgcHJvbWlzZSwgMSk7XG4gICAgdGhpcy5yZWplY3QgID0gY3R4KCRyZWplY3QsIHByb21pc2UsIDEpO1xuICB9O1xufVxuXG4kZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCB7UHJvbWlzZTogJFByb21pc2V9KTtcbnJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJykoJFByb21pc2UsIFBST01JU0UpO1xucmVxdWlyZSgnLi9fc2V0LXNwZWNpZXMnKShQUk9NSVNFKTtcbldyYXBwZXIgPSByZXF1aXJlKCcuL19jb3JlJylbUFJPTUlTRV07XG5cbi8vIHN0YXRpY3NcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIFBST01JU0UsIHtcbiAgLy8gMjUuNC40LjUgUHJvbWlzZS5yZWplY3QocilcbiAgcmVqZWN0OiBmdW5jdGlvbiByZWplY3Qocil7XG4gICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eSh0aGlzKVxuICAgICAgLCAkJHJlamVjdCAgID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgJCRyZWplY3Qocik7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxufSk7XG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqIChMSUJSQVJZIHx8ICFVU0VfTkFUSVZFKSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuNiBQcm9taXNlLnJlc29sdmUoeClcbiAgcmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZSh4KXtcbiAgICAvLyBpbnN0YW5jZW9mIGluc3RlYWQgb2YgaW50ZXJuYWwgc2xvdCBjaGVjayBiZWNhdXNlIHdlIHNob3VsZCBmaXggaXQgd2l0aG91dCByZXBsYWNlbWVudCBuYXRpdmUgUHJvbWlzZSBjb3JlXG4gICAgaWYoeCBpbnN0YW5jZW9mICRQcm9taXNlICYmIHNhbWVDb25zdHJ1Y3Rvcih4LmNvbnN0cnVjdG9yLCB0aGlzKSlyZXR1cm4geDtcbiAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KHRoaXMpXG4gICAgICAsICQkcmVzb2x2ZSAgPSBjYXBhYmlsaXR5LnJlc29sdmU7XG4gICAgJCRyZXNvbHZlKHgpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH1cbn0pO1xuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhKFVTRV9OQVRJVkUgJiYgcmVxdWlyZSgnLi9faXRlci1kZXRlY3QnKShmdW5jdGlvbihpdGVyKXtcbiAgJFByb21pc2UuYWxsKGl0ZXIpWydjYXRjaCddKGVtcHR5KTtcbn0pKSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuMSBQcm9taXNlLmFsbChpdGVyYWJsZSlcbiAgYWxsOiBmdW5jdGlvbiBhbGwoaXRlcmFibGUpe1xuICAgIHZhciBDICAgICAgICAgID0gdGhpc1xuICAgICAgLCBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoQylcbiAgICAgICwgcmVzb2x2ZSAgICA9IGNhcGFiaWxpdHkucmVzb2x2ZVxuICAgICAgLCByZWplY3QgICAgID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgdmFyIGFicnVwdCA9IHBlcmZvcm0oZnVuY3Rpb24oKXtcbiAgICAgIHZhciB2YWx1ZXMgICAgPSBbXVxuICAgICAgICAsIGluZGV4ICAgICA9IDBcbiAgICAgICAgLCByZW1haW5pbmcgPSAxO1xuICAgICAgZm9yT2YoaXRlcmFibGUsIGZhbHNlLCBmdW5jdGlvbihwcm9taXNlKXtcbiAgICAgICAgdmFyICRpbmRleCAgICAgICAgPSBpbmRleCsrXG4gICAgICAgICAgLCBhbHJlYWR5Q2FsbGVkID0gZmFsc2U7XG4gICAgICAgIHZhbHVlcy5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgIHJlbWFpbmluZysrO1xuICAgICAgICBDLnJlc29sdmUocHJvbWlzZSkudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgICAgaWYoYWxyZWFkeUNhbGxlZClyZXR1cm47XG4gICAgICAgICAgYWxyZWFkeUNhbGxlZCAgPSB0cnVlO1xuICAgICAgICAgIHZhbHVlc1skaW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgLS1yZW1haW5pbmcgfHwgcmVzb2x2ZSh2YWx1ZXMpO1xuICAgICAgICB9LCByZWplY3QpO1xuICAgICAgfSk7XG4gICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG4gICAgfSk7XG4gICAgaWYoYWJydXB0KXJlamVjdChhYnJ1cHQuZXJyb3IpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH0sXG4gIC8vIDI1LjQuNC40IFByb21pc2UucmFjZShpdGVyYWJsZSlcbiAgcmFjZTogZnVuY3Rpb24gcmFjZShpdGVyYWJsZSl7XG4gICAgdmFyIEMgICAgICAgICAgPSB0aGlzXG4gICAgICAsIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eShDKVxuICAgICAgLCByZWplY3QgICAgID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgdmFyIGFicnVwdCA9IHBlcmZvcm0oZnVuY3Rpb24oKXtcbiAgICAgIGZvck9mKGl0ZXJhYmxlLCBmYWxzZSwgZnVuY3Rpb24ocHJvbWlzZSl7XG4gICAgICAgIEMucmVzb2x2ZShwcm9taXNlKS50aGVuKGNhcGFiaWxpdHkucmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGlmKGFicnVwdClyZWplY3QoYWJydXB0LmVycm9yKTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYucHJvbWlzZS5qc1xuICoqIG1vZHVsZSBpZCA9IDc3XG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCIvLyBnZXR0aW5nIHRhZyBmcm9tIDE5LjEuMy42IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcoKVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpXG4gICwgVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJylcbiAgLy8gRVMzIHdyb25nIGhlcmVcbiAgLCBBUkcgPSBjb2YoZnVuY3Rpb24oKXsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA9PSAnQXJndW1lbnRzJztcblxuLy8gZmFsbGJhY2sgZm9yIElFMTEgU2NyaXB0IEFjY2VzcyBEZW5pZWQgZXJyb3JcbnZhciB0cnlHZXQgPSBmdW5jdGlvbihpdCwga2V5KXtcbiAgdHJ5IHtcbiAgICByZXR1cm4gaXRba2V5XTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHZhciBPLCBULCBCO1xuICByZXR1cm4gaXQgPT09IHVuZGVmaW5lZCA/ICdVbmRlZmluZWQnIDogaXQgPT09IG51bGwgPyAnTnVsbCdcbiAgICAvLyBAQHRvU3RyaW5nVGFnIGNhc2VcbiAgICA6IHR5cGVvZiAoVCA9IHRyeUdldChPID0gT2JqZWN0KGl0KSwgVEFHKSkgPT0gJ3N0cmluZycgPyBUXG4gICAgLy8gYnVpbHRpblRhZyBjYXNlXG4gICAgOiBBUkcgPyBjb2YoTylcbiAgICAvLyBFUzMgYXJndW1lbnRzIGZhbGxiYWNrXG4gICAgOiAoQiA9IGNvZihPKSkgPT0gJ09iamVjdCcgJiYgdHlwZW9mIE8uY2FsbGVlID09ICdmdW5jdGlvbicgPyAnQXJndW1lbnRzJyA6IEI7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jbGFzc29mLmpzXG4gKiogbW9kdWxlIGlkID0gNzhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIENvbnN0cnVjdG9yLCBuYW1lLCBmb3JiaWRkZW5GaWVsZCl7XG4gIGlmKCEoaXQgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikgfHwgKGZvcmJpZGRlbkZpZWxkICE9PSB1bmRlZmluZWQgJiYgZm9yYmlkZGVuRmllbGQgaW4gaXQpKXtcbiAgICB0aHJvdyBUeXBlRXJyb3IobmFtZSArICc6IGluY29ycmVjdCBpbnZvY2F0aW9uIScpO1xuICB9IHJldHVybiBpdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLWluc3RhbmNlLmpzXG4gKiogbW9kdWxlIGlkID0gNzlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsInZhciBjdHggICAgICAgICA9IHJlcXVpcmUoJy4vX2N0eCcpXG4gICwgY2FsbCAgICAgICAgPSByZXF1aXJlKCcuL19pdGVyLWNhbGwnKVxuICAsIGlzQXJyYXlJdGVyID0gcmVxdWlyZSgnLi9faXMtYXJyYXktaXRlcicpXG4gICwgYW5PYmplY3QgICAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIHRvTGVuZ3RoICAgID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJylcbiAgLCBnZXRJdGVyRm4gICA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJylcbiAgLCBCUkVBSyAgICAgICA9IHt9XG4gICwgUkVUVVJOICAgICAgPSB7fTtcbnZhciBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdGVyYWJsZSwgZW50cmllcywgZm4sIHRoYXQsIElURVJBVE9SKXtcbiAgdmFyIGl0ZXJGbiA9IElURVJBVE9SID8gZnVuY3Rpb24oKXsgcmV0dXJuIGl0ZXJhYmxlOyB9IDogZ2V0SXRlckZuKGl0ZXJhYmxlKVxuICAgICwgZiAgICAgID0gY3R4KGZuLCB0aGF0LCBlbnRyaWVzID8gMiA6IDEpXG4gICAgLCBpbmRleCAgPSAwXG4gICAgLCBsZW5ndGgsIHN0ZXAsIGl0ZXJhdG9yLCByZXN1bHQ7XG4gIGlmKHR5cGVvZiBpdGVyRm4gIT0gJ2Z1bmN0aW9uJyl0aHJvdyBUeXBlRXJyb3IoaXRlcmFibGUgKyAnIGlzIG5vdCBpdGVyYWJsZSEnKTtcbiAgLy8gZmFzdCBjYXNlIGZvciBhcnJheXMgd2l0aCBkZWZhdWx0IGl0ZXJhdG9yXG4gIGlmKGlzQXJyYXlJdGVyKGl0ZXJGbikpZm9yKGxlbmd0aCA9IHRvTGVuZ3RoKGl0ZXJhYmxlLmxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKXtcbiAgICByZXN1bHQgPSBlbnRyaWVzID8gZihhbk9iamVjdChzdGVwID0gaXRlcmFibGVbaW5kZXhdKVswXSwgc3RlcFsxXSkgOiBmKGl0ZXJhYmxlW2luZGV4XSk7XG4gICAgaWYocmVzdWx0ID09PSBCUkVBSyB8fCByZXN1bHQgPT09IFJFVFVSTilyZXR1cm4gcmVzdWx0O1xuICB9IGVsc2UgZm9yKGl0ZXJhdG9yID0gaXRlckZuLmNhbGwoaXRlcmFibGUpOyAhKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmU7ICl7XG4gICAgcmVzdWx0ID0gY2FsbChpdGVyYXRvciwgZiwgc3RlcC52YWx1ZSwgZW50cmllcyk7XG4gICAgaWYocmVzdWx0ID09PSBCUkVBSyB8fCByZXN1bHQgPT09IFJFVFVSTilyZXR1cm4gcmVzdWx0O1xuICB9XG59O1xuZXhwb3J0cy5CUkVBSyAgPSBCUkVBSztcbmV4cG9ydHMuUkVUVVJOID0gUkVUVVJOO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19mb3Itb2YuanNcbiAqKiBtb2R1bGUgaWQgPSA4MFxuICoqIG1vZHVsZSBjaHVua3MgPSAxXG4gKiovIiwiLy8gY2FsbCBzb21ldGhpbmcgb24gaXRlcmF0b3Igc3RlcCB3aXRoIHNhZmUgY2xvc2luZyBvbiBlcnJvclxudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0ZXJhdG9yLCBmbiwgdmFsdWUsIGVudHJpZXMpe1xuICB0cnkge1xuICAgIHJldHVybiBlbnRyaWVzID8gZm4oYW5PYmplY3QodmFsdWUpWzBdLCB2YWx1ZVsxXSkgOiBmbih2YWx1ZSk7XG4gIC8vIDcuNC42IEl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IsIGNvbXBsZXRpb24pXG4gIH0gY2F0Y2goZSl7XG4gICAgdmFyIHJldCA9IGl0ZXJhdG9yWydyZXR1cm4nXTtcbiAgICBpZihyZXQgIT09IHVuZGVmaW5lZClhbk9iamVjdChyZXQuY2FsbChpdGVyYXRvcikpO1xuICAgIHRocm93IGU7XG4gIH1cbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY2FsbC5qc1xuICoqIG1vZHVsZSBpZCA9IDgxXG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCIvLyBjaGVjayBvbiBkZWZhdWx0IEFycmF5IGl0ZXJhdG9yXG52YXIgSXRlcmF0b3JzICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICwgSVRFUkFUT1IgICA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpXG4gICwgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdCAhPT0gdW5kZWZpbmVkICYmIChJdGVyYXRvcnMuQXJyYXkgPT09IGl0IHx8IEFycmF5UHJvdG9bSVRFUkFUT1JdID09PSBpdCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS1pdGVyLmpzXG4gKiogbW9kdWxlIGlkID0gODJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsInZhciBjbGFzc29mICAgPSByZXF1aXJlKCcuL19jbGFzc29mJylcbiAgLCBJVEVSQVRPUiAgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKVxuICAsIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19jb3JlJykuZ2V0SXRlcmF0b3JNZXRob2QgPSBmdW5jdGlvbihpdCl7XG4gIGlmKGl0ICE9IHVuZGVmaW5lZClyZXR1cm4gaXRbSVRFUkFUT1JdXG4gICAgfHwgaXRbJ0BAaXRlcmF0b3InXVxuICAgIHx8IEl0ZXJhdG9yc1tjbGFzc29mKGl0KV07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZC5qc1xuICoqIG1vZHVsZSBpZCA9IDgzXG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCIvLyA3LjMuMjAgU3BlY2llc0NvbnN0cnVjdG9yKE8sIGRlZmF1bHRDb25zdHJ1Y3RvcilcbnZhciBhbk9iamVjdCAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKVxuICAsIFNQRUNJRVMgICA9IHJlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKE8sIEQpe1xuICB2YXIgQyA9IGFuT2JqZWN0KE8pLmNvbnN0cnVjdG9yLCBTO1xuICByZXR1cm4gQyA9PT0gdW5kZWZpbmVkIHx8IChTID0gYW5PYmplY3QoQylbU1BFQ0lFU10pID09IHVuZGVmaW5lZCA/IEQgOiBhRnVuY3Rpb24oUyk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zcGVjaWVzLWNvbnN0cnVjdG9yLmpzXG4gKiogbW9kdWxlIGlkID0gODRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsInZhciBjdHggICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19jdHgnKVxuICAsIGludm9rZSAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2ludm9rZScpXG4gICwgaHRtbCAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faHRtbCcpXG4gICwgY2VsICAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZG9tLWNyZWF0ZScpXG4gICwgZ2xvYmFsICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBwcm9jZXNzICAgICAgICAgICAgPSBnbG9iYWwucHJvY2Vzc1xuICAsIHNldFRhc2sgICAgICAgICAgICA9IGdsb2JhbC5zZXRJbW1lZGlhdGVcbiAgLCBjbGVhclRhc2sgICAgICAgICAgPSBnbG9iYWwuY2xlYXJJbW1lZGlhdGVcbiAgLCBNZXNzYWdlQ2hhbm5lbCAgICAgPSBnbG9iYWwuTWVzc2FnZUNoYW5uZWxcbiAgLCBjb3VudGVyICAgICAgICAgICAgPSAwXG4gICwgcXVldWUgICAgICAgICAgICAgID0ge31cbiAgLCBPTlJFQURZU1RBVEVDSEFOR0UgPSAnb25yZWFkeXN0YXRlY2hhbmdlJ1xuICAsIGRlZmVyLCBjaGFubmVsLCBwb3J0O1xudmFyIHJ1biA9IGZ1bmN0aW9uKCl7XG4gIHZhciBpZCA9ICt0aGlzO1xuICBpZihxdWV1ZS5oYXNPd25Qcm9wZXJ0eShpZCkpe1xuICAgIHZhciBmbiA9IHF1ZXVlW2lkXTtcbiAgICBkZWxldGUgcXVldWVbaWRdO1xuICAgIGZuKCk7XG4gIH1cbn07XG52YXIgbGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCl7XG4gIHJ1bi5jYWxsKGV2ZW50LmRhdGEpO1xufTtcbi8vIE5vZGUuanMgMC45KyAmIElFMTArIGhhcyBzZXRJbW1lZGlhdGUsIG90aGVyd2lzZTpcbmlmKCFzZXRUYXNrIHx8ICFjbGVhclRhc2spe1xuICBzZXRUYXNrID0gZnVuY3Rpb24gc2V0SW1tZWRpYXRlKGZuKXtcbiAgICB2YXIgYXJncyA9IFtdLCBpID0gMTtcbiAgICB3aGlsZShhcmd1bWVudHMubGVuZ3RoID4gaSlhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuICAgIHF1ZXVlWysrY291bnRlcl0gPSBmdW5jdGlvbigpe1xuICAgICAgaW52b2tlKHR5cGVvZiBmbiA9PSAnZnVuY3Rpb24nID8gZm4gOiBGdW5jdGlvbihmbiksIGFyZ3MpO1xuICAgIH07XG4gICAgZGVmZXIoY291bnRlcik7XG4gICAgcmV0dXJuIGNvdW50ZXI7XG4gIH07XG4gIGNsZWFyVGFzayA9IGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGlkKXtcbiAgICBkZWxldGUgcXVldWVbaWRdO1xuICB9O1xuICAvLyBOb2RlLmpzIDAuOC1cbiAgaWYocmVxdWlyZSgnLi9fY29mJykocHJvY2VzcykgPT0gJ3Byb2Nlc3MnKXtcbiAgICBkZWZlciA9IGZ1bmN0aW9uKGlkKXtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soY3R4KHJ1biwgaWQsIDEpKTtcbiAgICB9O1xuICAvLyBCcm93c2VycyB3aXRoIE1lc3NhZ2VDaGFubmVsLCBpbmNsdWRlcyBXZWJXb3JrZXJzXG4gIH0gZWxzZSBpZihNZXNzYWdlQ2hhbm5lbCl7XG4gICAgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbDtcbiAgICBwb3J0ICAgID0gY2hhbm5lbC5wb3J0MjtcbiAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGxpc3RlbmVyO1xuICAgIGRlZmVyID0gY3R4KHBvcnQucG9zdE1lc3NhZ2UsIHBvcnQsIDEpO1xuICAvLyBCcm93c2VycyB3aXRoIHBvc3RNZXNzYWdlLCBza2lwIFdlYldvcmtlcnNcbiAgLy8gSUU4IGhhcyBwb3N0TWVzc2FnZSwgYnV0IGl0J3Mgc3luYyAmIHR5cGVvZiBpdHMgcG9zdE1lc3NhZ2UgaXMgJ29iamVjdCdcbiAgfSBlbHNlIGlmKGdsb2JhbC5hZGRFdmVudExpc3RlbmVyICYmIHR5cGVvZiBwb3N0TWVzc2FnZSA9PSAnZnVuY3Rpb24nICYmICFnbG9iYWwuaW1wb3J0U2NyaXB0cyl7XG4gICAgZGVmZXIgPSBmdW5jdGlvbihpZCl7XG4gICAgICBnbG9iYWwucG9zdE1lc3NhZ2UoaWQgKyAnJywgJyonKTtcbiAgICB9O1xuICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgbGlzdGVuZXIsIGZhbHNlKTtcbiAgLy8gSUU4LVxuICB9IGVsc2UgaWYoT05SRUFEWVNUQVRFQ0hBTkdFIGluIGNlbCgnc2NyaXB0Jykpe1xuICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpe1xuICAgICAgaHRtbC5hcHBlbmRDaGlsZChjZWwoJ3NjcmlwdCcpKVtPTlJFQURZU1RBVEVDSEFOR0VdID0gZnVuY3Rpb24oKXtcbiAgICAgICAgaHRtbC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgcnVuLmNhbGwoaWQpO1xuICAgICAgfTtcbiAgICB9O1xuICAvLyBSZXN0IG9sZCBicm93c2Vyc1xuICB9IGVsc2Uge1xuICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpe1xuICAgICAgc2V0VGltZW91dChjdHgocnVuLCBpZCwgMSksIDApO1xuICAgIH07XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6ICAgc2V0VGFzayxcbiAgY2xlYXI6IGNsZWFyVGFza1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdGFzay5qc1xuICoqIG1vZHVsZSBpZCA9IDg1XG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCIvLyBmYXN0IGFwcGx5LCBodHRwOi8vanNwZXJmLmxua2l0LmNvbS9mYXN0LWFwcGx5LzVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4sIGFyZ3MsIHRoYXQpe1xuICB2YXIgdW4gPSB0aGF0ID09PSB1bmRlZmluZWQ7XG4gIHN3aXRjaChhcmdzLmxlbmd0aCl7XG4gICAgY2FzZSAwOiByZXR1cm4gdW4gPyBmbigpXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQpO1xuICAgIGNhc2UgMTogcmV0dXJuIHVuID8gZm4oYXJnc1swXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSk7XG4gICAgY2FzZSAyOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICBjYXNlIDM6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIGNhc2UgNDogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gIH0gcmV0dXJuICAgICAgICAgICAgICBmbi5hcHBseSh0aGF0LCBhcmdzKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2ludm9rZS5qc1xuICoqIG1vZHVsZSBpZCA9IDg2XG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCJ2YXIgZ2xvYmFsICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBtYWNyb3Rhc2sgPSByZXF1aXJlKCcuL190YXNrJykuc2V0XG4gICwgT2JzZXJ2ZXIgID0gZ2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgZ2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXJcbiAgLCBwcm9jZXNzICAgPSBnbG9iYWwucHJvY2Vzc1xuICAsIFByb21pc2UgICA9IGdsb2JhbC5Qcm9taXNlXG4gICwgaXNOb2RlICAgID0gcmVxdWlyZSgnLi9fY29mJykocHJvY2VzcykgPT0gJ3Byb2Nlc3MnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCl7XG4gIHZhciBoZWFkLCBsYXN0LCBub3RpZnk7XG5cbiAgdmFyIGZsdXNoID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgcGFyZW50LCBmbjtcbiAgICBpZihpc05vZGUgJiYgKHBhcmVudCA9IHByb2Nlc3MuZG9tYWluKSlwYXJlbnQuZXhpdCgpO1xuICAgIHdoaWxlKGhlYWQpe1xuICAgICAgZm4gICA9IGhlYWQuZm47XG4gICAgICBoZWFkID0gaGVhZC5uZXh0O1xuICAgICAgdHJ5IHtcbiAgICAgICAgZm4oKTtcbiAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIGlmKGhlYWQpbm90aWZ5KCk7XG4gICAgICAgIGVsc2UgbGFzdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9IGxhc3QgPSB1bmRlZmluZWQ7XG4gICAgaWYocGFyZW50KXBhcmVudC5lbnRlcigpO1xuICB9O1xuXG4gIC8vIE5vZGUuanNcbiAgaWYoaXNOb2RlKXtcbiAgICBub3RpZnkgPSBmdW5jdGlvbigpe1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhmbHVzaCk7XG4gICAgfTtcbiAgLy8gYnJvd3NlcnMgd2l0aCBNdXRhdGlvbk9ic2VydmVyXG4gIH0gZWxzZSBpZihPYnNlcnZlcil7XG4gICAgdmFyIHRvZ2dsZSA9IHRydWVcbiAgICAgICwgbm9kZSAgID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgIG5ldyBPYnNlcnZlcihmbHVzaCkub2JzZXJ2ZShub2RlLCB7Y2hhcmFjdGVyRGF0YTogdHJ1ZX0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ld1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uKCl7XG4gICAgICBub2RlLmRhdGEgPSB0b2dnbGUgPSAhdG9nZ2xlO1xuICAgIH07XG4gIC8vIGVudmlyb25tZW50cyB3aXRoIG1heWJlIG5vbi1jb21wbGV0ZWx5IGNvcnJlY3QsIGJ1dCBleGlzdGVudCBQcm9taXNlXG4gIH0gZWxzZSBpZihQcm9taXNlICYmIFByb21pc2UucmVzb2x2ZSl7XG4gICAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICBub3RpZnkgPSBmdW5jdGlvbigpe1xuICAgICAgcHJvbWlzZS50aGVuKGZsdXNoKTtcbiAgICB9O1xuICAvLyBmb3Igb3RoZXIgZW52aXJvbm1lbnRzIC0gbWFjcm90YXNrIGJhc2VkIG9uOlxuICAvLyAtIHNldEltbWVkaWF0ZVxuICAvLyAtIE1lc3NhZ2VDaGFubmVsXG4gIC8vIC0gd2luZG93LnBvc3RNZXNzYWdcbiAgLy8gLSBvbnJlYWR5c3RhdGVjaGFuZ2VcbiAgLy8gLSBzZXRUaW1lb3V0XG4gIH0gZWxzZSB7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24oKXtcbiAgICAgIC8vIHN0cmFuZ2UgSUUgKyB3ZWJwYWNrIGRldiBzZXJ2ZXIgYnVnIC0gdXNlIC5jYWxsKGdsb2JhbClcbiAgICAgIG1hY3JvdGFzay5jYWxsKGdsb2JhbCwgZmx1c2gpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24oZm4pe1xuICAgIHZhciB0YXNrID0ge2ZuOiBmbiwgbmV4dDogdW5kZWZpbmVkfTtcbiAgICBpZihsYXN0KWxhc3QubmV4dCA9IHRhc2s7XG4gICAgaWYoIWhlYWQpe1xuICAgICAgaGVhZCA9IHRhc2s7XG4gICAgICBub3RpZnkoKTtcbiAgICB9IGxhc3QgPSB0YXNrO1xuICB9O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbWljcm90YXNrLmpzXG4gKiogbW9kdWxlIGlkID0gODdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsInZhciBoaWRlID0gcmVxdWlyZSgnLi9faGlkZScpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih0YXJnZXQsIHNyYywgc2FmZSl7XG4gIGZvcih2YXIga2V5IGluIHNyYyl7XG4gICAgaWYoc2FmZSAmJiB0YXJnZXRba2V5XSl0YXJnZXRba2V5XSA9IHNyY1trZXldO1xuICAgIGVsc2UgaGlkZSh0YXJnZXQsIGtleSwgc3JjW2tleV0pO1xuICB9IHJldHVybiB0YXJnZXQ7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS1hbGwuanNcbiAqKiBtb2R1bGUgaWQgPSA4OFxuICoqIG1vZHVsZSBjaHVua3MgPSAxXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGdsb2JhbCAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBjb3JlICAgICAgICA9IHJlcXVpcmUoJy4vX2NvcmUnKVxuICAsIGRQICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJylcbiAgLCBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJylcbiAgLCBTUEVDSUVTICAgICA9IHJlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oS0VZKXtcbiAgdmFyIEMgPSB0eXBlb2YgY29yZVtLRVldID09ICdmdW5jdGlvbicgPyBjb3JlW0tFWV0gOiBnbG9iYWxbS0VZXTtcbiAgaWYoREVTQ1JJUFRPUlMgJiYgQyAmJiAhQ1tTUEVDSUVTXSlkUC5mKEMsIFNQRUNJRVMsIHtcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfVxuICB9KTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC1zcGVjaWVzLmpzXG4gKiogbW9kdWxlIGlkID0gODlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsInZhciBJVEVSQVRPUiAgICAgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKVxuICAsIFNBRkVfQ0xPU0lORyA9IGZhbHNlO1xuXG50cnkge1xuICB2YXIgcml0ZXIgPSBbN11bSVRFUkFUT1JdKCk7XG4gIHJpdGVyWydyZXR1cm4nXSA9IGZ1bmN0aW9uKCl7IFNBRkVfQ0xPU0lORyA9IHRydWU7IH07XG4gIEFycmF5LmZyb20ocml0ZXIsIGZ1bmN0aW9uKCl7IHRocm93IDI7IH0pO1xufSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMsIHNraXBDbG9zaW5nKXtcbiAgaWYoIXNraXBDbG9zaW5nICYmICFTQUZFX0NMT1NJTkcpcmV0dXJuIGZhbHNlO1xuICB2YXIgc2FmZSA9IGZhbHNlO1xuICB0cnkge1xuICAgIHZhciBhcnIgID0gWzddXG4gICAgICAsIGl0ZXIgPSBhcnJbSVRFUkFUT1JdKCk7XG4gICAgaXRlci5uZXh0ID0gZnVuY3Rpb24oKXsgcmV0dXJuIHtkb25lOiBzYWZlID0gdHJ1ZX07IH07XG4gICAgYXJyW0lURVJBVE9SXSA9IGZ1bmN0aW9uKCl7IHJldHVybiBpdGVyOyB9O1xuICAgIGV4ZWMoYXJyKTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuICByZXR1cm4gc2FmZTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGV0ZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gOTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=