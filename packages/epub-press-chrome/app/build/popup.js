!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}(function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(typeof t[e]){case"function":break;case"object":t[e]=function(e){var n=e.slice(1),r=t[e[0]];return function(t,e,i){r.apply(this,[t,e,i].concat(n))}}(t[e]);break;default:t[e]=t[t[e]]}return t}([function(t,e,n){n(1),t.exports=n(55)},function(t,e){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return v.iterable&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function s(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function a(t){var e=new FileReader;return e.readAsArrayBuffer(t),s(e)}function u(t){var e=new FileReader;return e.readAsText(t),s(e)}function c(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(v.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(v.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(t){if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob?(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(a)},this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var t=o(this);return t?t:Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(t){var e=t.toUpperCase();return _.indexOf(e)>-1?e:t}function f(t,e){e=e||{};var n=e.body;if(f.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,n||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=l(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function h(t){var e=new i,n=(t.getAllResponseHeaders()||"").trim().split("\n");return n.forEach(function(t){var n=t.trim().split(":"),r=n.shift().trim(),i=n.join(":").trim();e.append(r,i)}),e}function d(t,e){e||(e={}),this.type="default",this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof i?e.headers:new i(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var v={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};i.prototype.append=function(t,r){t=e(t),r=n(r);var i=this.map[t];i||(i=[],this.map[t]=i),i.push(r)},i.prototype["delete"]=function(t){delete this.map[e(t)]},i.prototype.get=function(t){var n=this.map[e(t)];return n?n[0]:null},i.prototype.getAll=function(t){return this.map[e(t)]||[]},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,r){this.map[e(t)]=[n(r)]},i.prototype.forEach=function(t,e){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){t.call(e,r,n,this)},this)},this)},i.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},i.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},i.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this)},c.call(f.prototype),c.call(d.prototype),d.prototype.clone=function(){return new d(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},d.error=function(){var t=new d(null,{status:0,statusText:""});return t.type="error",t};var y=[301,302,303,307,308];d.redirect=function(t,e){if(y.indexOf(e)===-1)throw new RangeError("Invalid status code");return new d(null,{status:e,headers:{location:t}})},t.Headers=i,t.Request=f,t.Response=d,t.fetch=function(t,e){return new Promise(function(n,r){function i(){return"responseURL"in s?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):void 0}var o;o=f.prototype.isPrototypeOf(t)&&!e?t:new f(t,e);var s=new XMLHttpRequest;s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:h(s),url:i()},e="response"in s?s.response:s.responseText;n(new d(e,t))},s.onerror=function(){r(new TypeError("Network request failed"))},s.ontimeout=function(){r(new TypeError("Network request failed"))},s.open(o.method,o.url,!0),"include"===o.credentials&&(s.withCredentials=!0),"responseType"in s&&v.blob&&(s.responseType="blob"),o.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),s.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},,,,function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},,,,function(t,e,n){var r=n(10),i=n(5),o=n(11),s=n(13),a="prototype",u=function(t,e,n){var c,l,f,p=t&u.F,h=t&u.G,d=t&u.S,v=t&u.P,_=t&u.B,y=t&u.W,m=h?i:i[e]||(i[e]={}),g=m[a],b=h?r:d?r[e]:(r[e]||{})[a];h&&(n=e);for(c in n)l=!p&&b&&void 0!==b[c],l&&c in m||(f=l?b[c]:n[c],m[c]=h&&"function"!=typeof b[c]?n[c]:_&&l?o(f,r):y&&b[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[a]=t[a],e}(f):v&&"function"==typeof f?o(Function.call,f):f,v&&((m.virtual||(m.virtual={}))[c]=f,t&u.R&&g&&!g[c]&&s(g,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(12);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(14),i=n(22);t.exports=n(18)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(15),i=n(17),o=n(21),s=Object.defineProperty;e.f=n(18)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(16);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(18)&&!n(19)(function(){return 7!=Object.defineProperty(n(20)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(19)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var r=n(16),i=n(10).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(16);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},,function(t,e,n){var r=n(25),i=n(38);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(26),i=n(27),o=n(31)(!1),s=n(35)("IE_PROTO");t.exports=function(t,e){var n,a=i(t),u=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(28),i=n(30);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(29);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(27),i=n(32),o=n(34);t.exports=function(t){return function(e,n,s){var a,u=r(e),c=i(u.length),l=o(s,c);if(t&&n!=n){for(;c>l;)if(a=u[l++],a!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(33),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(33),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(36)("keys"),i=n(37);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(10),i="__core-js_shared__",o=r[i]||(r[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},,,function(t,e,n){var r=n(30);t.exports=function(t){return Object(r(t))}},function(t,e,n){(function(e){!function(e,r){t.exports=r(n(44),n(45))}(this,function(t,e){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){n(1),t.exports=n(2)},function(e,n){e.exports=t},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){return"undefined"!=typeof window}function o(){if(j.DEBUG){var t;(t=console).log.apply(t,arguments)}}function s(t){if(!t.getId())throw new Error("Book has no id. Have you published?")}function a(t,e){if(i()){var r=void 0;r="function"==typeof File?new File([e],t):new Blob([e],{type:"application/octet-stream"}),(0,E.saveAs)(r,t)}else{var o=n(54);o.writeFileSync(t,e)}}function u(t){var e={title:t.title,description:t.description};return t.sections?e.sections=t.sections:e.urls=t.urls.slice(),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:(0,w["default"])(e)}}function c(t){return new C["default"](function(e,n){var r=function i(r){t.checkStatus().then(function(o){t.emit("statusUpdate",o),Number(o.progress)>=100?e(t):r>=j.CHECK_STATUS_LIMIT?n(new Error(j.ERROR_CODES[503])):setTimeout(i,j.POLL_RATE,r+1)})["catch"](n)};r(1)})}function l(t){var e=j.ERROR_CODES[t.status];if(t.status>=200&&t.status<300)return t;if(t.body)return t.json().then(function(t){var n=t.errors&&t.errors.length>0,r=n?t.errors[0].detail:e;return C["default"].reject(new Error(r))});var n=new Error(e);return C["default"].reject(n)}function f(t){var e=j.ERROR_CODES[t.message]||j.ERROR_CODES[t.name];return e?new Error(e):t}function p(t,e){var n=Number(e.minCompatible.replace(".","")),r=Number(t.replace(".",""));return n>r?e.message:null}function h(t){var e=["email","filetype"].map(function(e){return t[e]?e+"="+encodeURIComponent(t[e]):""}).filter(function(t){return t}).join("&");return e?"?"+e:""}var d=n(3),v=r(d),_=n(40),y=r(_),m=n(41),g=r(m),b=n(45),w=r(b),x=n(47),C=r(x),E=n(50),k=n(53),T=r(k),j=function(){function t(e){(0,y["default"])(this,t);var n=Date().slice(0,Date().match(/\d{4}/).index+4),r={title:"EpubPress - "+n,description:void 0,sections:void 0,urls:void 0,filetype:"epub"};this.bookData=(0,v["default"])({},r,e),this.events={}}return(0,g["default"])(t,null,[{key:"checkForUpdates",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"epub-press-js":arguments[0],n=arguments.length<=1||void 0===arguments[1]?t.getVersion():arguments[1];return new C["default"](function(r,i){fetch(t.getVersionUrl()).then(l).then(function(t){return t.json()}).then(function(t){var o=t.clients[e];o?r(p(n,o)):i(new Error("Version data for "+e+" not found."))})["catch"](function(t){var e=f(t);o("Version check failed",e),i(e)})})}},{key:"getPublishUrl",value:function(){return this.prototype.getPublishUrl()}},{key:"getVersionUrl",value:function(){return t.BASE_API+"/version"}},{key:"getVersion",value:function(){return t.VERSION}}]),(0,g["default"])(t,[{key:"on",value:function(t,e){return this.events[t]||(this.events[t]=[]),this.events[t].push(e),e}},{key:"emit",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];this.events[t]&&this.events[t].forEach(function(t){t.apply(void 0,n)})}},{key:"removeListener",value:function(t,e){if(this.events[t]){var n=this.events[t].indexOf(e);n>=0&&this.events[t].splice(n,1)}}},{key:"getUrls",value:function(){var t=[],e=this.bookData,n=e.urls,r=e.sections;return n?t=n.slice():r&&(t=r.map(function(t){return t.url})),t}},{key:"getFiletype",value:function(t){var e=t||this.bookData.filetype;return e?["mobi","epub"].find(function(t){return e.toLowerCase()===t})||"epub":"epub"}},{key:"getEmail",value:function(){return this.bookData.email}},{key:"getTitle",value:function(){return this.bookData.title}},{key:"getDescription",value:function(){return this.bookData.description}},{key:"getId",value:function(){return this.bookData.id}},{key:"getStatusUrl",value:function(){return t.getPublishUrl()+"/"+this.getId()+"/status"}},{key:"getPublishUrl",value:function(){return t.BASE_API+"/books"}},{key:"getDownloadUrl",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.getFiletype():arguments[0],e=h({filetype:t});return this.getPublishUrl()+"/"+this.getId()+"/download"+e}},{key:"getEmailUrl",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.getEmail():arguments[0],e=arguments.length<=1||void 0===arguments[1]?this.getFiletype():arguments[1],n=h({email:t,filetype:e});return this.getPublishUrl()+"/"+this.getId()+"/email"+n}},{key:"checkStatus",value:function(){var t=this;return new C["default"](function(e,n){fetch(t.getStatusUrl()).then(l).then(function(t){return t.json()}).then(function(t){e(t)})["catch"](function(t){var e=f(t);n(e)})})}},{key:"publish",value:function(){var t=this;return this.isPublishing?C["default"].reject(new Error("Publishing in progress")):this.getId()?C["default"].resolve(this.getId()):(this.isPublishing=!0,new C["default"](function(e,n){fetch(t.getPublishUrl(),u(t.bookData)).then(l).then(function(t){return t.json()}).then(function(n){var r=n.id;return t.bookData.id=r,c(t).then(function(){e(r)})})["catch"](function(e){t.isPublishing=!1;var r=f(e);o("EbupPress: Publish failed",r),n(r)})}))}},{key:"download",value:function(t){var e=this;return new C["default"](function(n,r){s(e),fetch(e.getDownloadUrl(t)).then(l).then(function(t){return t.blob?t.blob():t.buffer()}).then(function(r){var i=e.getTitle()+"."+(t||e.getFiletype());a(i,r),n()})["catch"](function(t){var e=f(t);o("EpubPress: Download failed",e),r(e)})})}},{key:"email",value:function(t,e){var n=this;return new C["default"](function(r,i){return t?(s(n),fetch(n.getEmailUrl(t,e)).then(l).then(function(){o("EpubPress: Book delivered."),r()})["catch"](function(t){var e=f(t);o("EpubPress: Email delivery failed."),i(e)})):i(new Error("EpubPress: No email provided."))})}}]),t}();j.BASE_URL=T["default"].baseUrl,j.BASE_API=j.BASE_URL+"/api/v1",j.VERSION=T["default"].version,j.POLL_RATE=3e3,j.CHECK_STATUS_LIMIT=40,j.ERROR_CODES={0:"Server is down. Please try again later.","Failed to fetch":"Server is down. Please try again later.",FetchError:"Server is down. Please try again later.",400:"There was a problem with the request. Is EpubPress up to date?",404:"Resource not found.",422:"Request contained invalid data.",500:"Unexpected server error.",503:"Server took too long to respond.",timeout:"Request took too long to complete.",error:void 0,SERVER_FAILED:"Server error while downloading.",SERVER_BAD_CONTENT:"Book could not be found"},t.exports=j},function(t,e,n){t.exports={"default":n(4),__esModule:!0}},function(t,e,n){n(5),t.exports=n(8).Object.assign},function(t,e,n){var r=n(6);r(r.S+r.F,"Object",{assign:n(21)})},function(t,e,n){var r=n(7),i=n(8),o=n(9),s=n(11),a="prototype",u=function(t,e,n){var c,l,f,p=t&u.F,h=t&u.G,d=t&u.S,v=t&u.P,_=t&u.B,y=t&u.W,m=h?i:i[e]||(i[e]={}),g=m[a],b=h?r:d?r[e]:(r[e]||{})[a];h&&(n=e);for(c in n)l=!p&&b&&void 0!==b[c],l&&c in m||(f=l?b[c]:n[c],m[c]=h&&"function"!=typeof b[c]?n[c]:_&&l?o(f,r):y&&b[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[a]=t[a],e}(f):v&&"function"==typeof f?o(Function.call,f):f,v&&((m.virtual||(m.virtual={}))[c]=f,t&u.R&&g&&!g[c]&&s(g,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(10);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(12),i=n(20);t.exports=n(16)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(13),i=n(15),o=n(19),s=Object.defineProperty;e.f=n(16)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(14);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(16)&&!n(17)(function(){return 7!=Object.defineProperty(n(18)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(17)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var r=n(14),i=n(7).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(14);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var r=n(22),i=n(37),o=n(38),s=n(39),a=n(26),u=Object.assign;t.exports=!u||n(17)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=s(t),u=arguments.length,c=1,l=i.f,f=o.f;u>c;)for(var p,h=a(arguments[c++]),d=l?r(h).concat(l(h)):r(h),v=d.length,_=0;v>_;)f.call(h,p=d[_++])&&(n[p]=h[p]);return n}:u},function(t,e,n){var r=n(23),i=n(36);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(24),i=n(25),o=n(29)(!1),s=n(33)("IE_PROTO");t.exports=function(t,e){var n,a=i(t),u=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(26),i=n(28);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(27);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(25),i=n(30),o=n(32);t.exports=function(t){return function(e,n,s){var a,u=r(e),c=i(u.length),l=o(s,c);if(t&&n!=n){for(;c>l;)if(a=u[l++],a!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(31),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(31),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),0>t?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(34)("keys"),i=n(35);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(7),i="__core-js_shared__",o=r[i]||(r[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(28);t.exports=function(t){return Object(r(t))}},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(42),o=r(i);e["default"]=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o["default"])(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){t.exports={"default":n(43),__esModule:!0}},function(t,e,n){n(44);var r=n(8).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(6);r(r.S+r.F*!n(16),"Object",{defineProperty:n(12).f})},function(t,e,n){t.exports={"default":n(46),__esModule:!0}},function(t,e,n){var r=n(8),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e,n){(function(e,n,r){/* @preserve
		 * The MIT License (MIT)
		 * 
		 * Copyright (c) 2013-2015 Petka Antonov
		 * 
		 * Permission is hereby granted, free of charge, to any person obtaining a copy
		 * of this software and associated documentation files (the "Software"), to deal
		 * in the Software without restriction, including without limitation the rights
		 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
		 * copies of the Software, and to permit persons to whom the Software is
		 * furnished to do so, subject to the following conditions:
		 * 
		 * The above copyright notice and this permission notice shall be included in
		 * all copies or substantial portions of the Software.
		 * 
		 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
		 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
		 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
		 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
		 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
		 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
		 * THE SOFTWARE.
		 * 
		 */
!function(e){t.exports=e()}(function(){return function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof _dereq_&&_dereq_;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return i(n?n:t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof _dereq_&&_dereq_,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){"use strict";e.exports=function(t){function e(t){var e=new n(t),r=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),r}var n=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(t,n,r){"use strict";function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new f(16),this._normalQueue=new f(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=l}function o(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function s(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function a(t){this._normalQueue._pushOne(t),this._queueTick()}var u;try{throw new Error}catch(c){u=c}var l=t("./schedule"),f=t("./queue"),p=t("./util");i.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){p.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},i.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(n){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},p.hasDevTools?(i.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?o.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},i.prototype.invoke=function(t,e,n){this._trampolineEnabled?s.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},i.prototype.settlePromises=function(t){this._trampolineEnabled?a.call(this,t):this._schedule(function(){t._settlePromises()})}):(i.prototype.invokeLater=o,i.prototype.invoke=s,i.prototype.settlePromises=a),i.prototype.invokeFirst=function(t,e,n){this._normalQueue.unshift(t,e,n),this._queueTick()},i.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),r=t.shift();e.call(n,r)}else e._settlePromises()}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},n.exports=i,n.exports.firstLineError=u},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},s=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},a=function(t,e){0===(50397184&this._bitField)&&this._resolveCallback(e.target)},u=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var c=n(o),l=new t(e);l._propagateFrom(this,1);var f=this._target();if(l._setBoundTo(c),c instanceof t){var p={promiseRejectionQueued:!1,promise:l,target:f,bindingPromise:c};f._then(e,s,void 0,l,p),c._then(a,u,void 0,l,p),l._setOnCancel(c)}else l._resolveCallback(f);return l},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e,n){"use strict";function r(){try{Promise===o&&(Promise=i)}catch(t){}return o}var i;"undefined"!=typeof Promise&&(i=Promise);var o=t("./promise")();o.noConflict=r,e.exports=o},{"./promise":22}],5:[function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}e.exports=function(e){function n(t,n){var r;if(null!=t&&(r=t[n]),"function"!=typeof r){var i="Object "+a.classString(t)+" has no method '"+a.toString(n)+"'";throw new e.TypeError(i)}return r}function r(t){var e=this.pop(),r=n(t,e);return r.apply(t,this)}function i(t){return t[this]}function o(t){var e=+this;return 0>e&&(e=Math.max(0,e+t.length)),t[e]}var s,a=t("./util"),u=a.canEvaluate;a.isIdentifier,e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(r,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e,n="number"==typeof t;if(n)e=o;else if(u){var r=s(t);e=null!==r?r:i}else e=i;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),s=o.tryCatch,a=o.errorObj,u=e._async;e.prototype["break"]=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=s(t).call(this._boundValue());r===a&&(this._attachExtraTrace(r.e),u.throwLater(r.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(e){function n(t,n,a){return function(u){var c=a._boundValue();t:for(var l=0;l<t.length;++l){var f=t[l];if(f===Error||null!=f&&f.prototype instanceof Error){if(u instanceof f)return o(n).call(c,u)}else if("function"==typeof f){var p=o(f).call(c,u);if(p===s)return p;if(p)return o(n).call(c,u)}else if(r.isObject(u)){for(var h=i(f),d=0;d<h.length;++d){var v=h[d];if(f[v]!=u[v])continue t}return o(n).call(c,u)}}return e}}var r=t("./util"),i=t("./es5").keys,o=r.tryCatch,s=r.errorObj;return n}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(t){function e(){this._trace=new e.CapturedTrace(r())}function n(){return i?new e:void 0}function r(){var t=o.length-1;return t>=0?o[t]:void 0}var i=!1,o=[];return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},e.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},e.prototype._popContext=function(){if(void 0!==this._trace){var t=o.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},e.CapturedTrace=null,e.create=n,e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var n=t.prototype._pushContext,o=t.prototype._popContext,s=t._peekContext,a=t.prototype._peekContext,u=t.prototype._promiseCreated;e.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=o,t._peekContext=s,t.prototype._peekContext=a,t.prototype._promiseCreated=u,i=!1},i=!0,t.prototype._pushContext=e.prototype._pushContext,t.prototype._popContext=e.prototype._popContext,t._peekContext=t.prototype._peekContext=r,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},e}},{}],9:[function(t,n,r){"use strict";n.exports=function(n,r){function i(t,e){return{promise:e}}function o(){return!1}function s(t,e,n){var r=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+M.toString(t));r._attachCancellationCallback(t)})}catch(i){return i}}function a(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?M.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function u(){return this._onCancelField}function c(t){this._onCancelField=t}function l(){this._cancellationParent=void 0,this._onCancelField=void 0}function f(t,e){if(0!==(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function p(t,e){0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function h(){var t=this._boundTo;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function d(){this._trace=new R(this._peekContext())}function v(t,e){if(B(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=E(t);M.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),M.notEnumerableProp(t,"__stackCleaned__",!0)}}}function _(t,e,n,r,i){if(void 0===t&&null!==e&&K){if(void 0!==i&&i._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var o="",s="";if(e._trace){for(var a=e._trace.stack.split("\n"),u=x(a),c=u.length-1;c>=0;--c){var l=u[c];if(!U.test(l)){var f=l.match(V);f&&(o="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(u.length>0)for(var p=u[0],c=0;c<a.length;++c)if(a[c]===p){c>0&&(s="\n"+a[c-1]);break}}var h="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+s;r._warn(h,!0,e)}}function y(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),m(n)}function m(t,e,r){if(st.warnings){var i,o=new H(t);if(e)r._attachExtraTrace(o);else if(st.longStackTraces&&(i=n._peekContext()))i.attachExtraTrace(o);else{var s=E(o);o.stack=s.message+"\n"+s.stack.join("\n")}et("warning",o)||k(o,"",!0)}}function g(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function b(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function w(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],s=-1,a=r.length-1;a>=0;--a)if(r[a]===o){s=a;break}for(var a=s;a>=0;--a){var u=r[a];if(e[i]!==u)break;e.pop(),i--}e=r}}function x(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||$.test(r),o=i&&rt(r);i&&!o&&(z&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function C(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||$.test(r))break}return n>0&&(e=e.slice(n)),e}function E(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?C(t):["    (No stack trace)"],{message:n,stack:x(e)}}function k(t,e,n){if("undefined"!=typeof console){var r;if(M.isObject(t)){var i=t.stack;r=e+W(i,t)}else r=e+String(t);"function"==typeof N?N(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function T(t,e,n,r){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(o){I.throwLater(o)}"unhandledRejection"===t?et(t,n,r)||i||k(n,"Unhandled rejection "):et(t,r)}function j(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"==typeof t.toString?t.toString():M.toString(t);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(e))try{var r=JSON.stringify(t);e=r}catch(i){}0===e.length&&(e="(empty array)")}return"(<"+F(e)+">, no stack trace)"}function F(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function S(){return"function"==typeof ot}function O(t){var e=t.match(it);return e?{fileName:e[1],line:parseInt(e[2],10)}:void 0}function P(t,e){if(S()){for(var n,r,i=t.stack.split("\n"),o=e.stack.split("\n"),s=-1,a=-1,u=0;u<i.length;++u){var c=O(i[u]);if(c){n=c.fileName,s=c.line;break}}for(var u=0;u<o.length;++u){var c=O(o[u]);if(c){r=c.fileName,a=c.line;break}}0>s||0>a||!n||!r||n!==r||s>=a||(rt=function(t){if(q.test(t))return!0;var e=O(t);return!!(e&&e.fileName===n&&s<=e.line&&e.line<=a)})}}function R(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);ot(this,R),e>32&&this.uncycle()}var A,D,N,L=n._getDomain,I=n._async,H=t("./errors").Warning,M=t("./util"),B=M.canAttachTrace,q=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,U=/\((?:timers\.js):\d+:\d+\)/,V=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,$=null,W=null,z=!1,Q=!(0==M.env("BLUEBIRD_DEBUG")),X=!(0==M.env("BLUEBIRD_WARNINGS")||!Q&&!M.env("BLUEBIRD_WARNINGS")),G=!(0==M.env("BLUEBIRD_LONG_STACK_TRACES")||!Q&&!M.env("BLUEBIRD_LONG_STACK_TRACES")),K=0!=M.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(X||!!M.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},n.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),I.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){T("rejectionHandled",A,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),T("unhandledRejection",D,t,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(t,e,n){return m(t,e,n||this)},n.onPossiblyUnhandledRejection=function(t){var e=L();D="function"==typeof t?null===e?t:M.domainBind(e,t):void 0},n.onUnhandledRejectionHandled=function(t){var e=L();A="function"==typeof t?null===e?t:M.domainBind(e,t):void 0};var J=function(){};n.longStackTraces=function(){if(I.haveItemsQueued()&&!st.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!st.longStackTraces&&S()){var t=n.prototype._captureStackTrace,e=n.prototype._attachExtraTrace;st.longStackTraces=!0,J=function(){if(I.haveItemsQueued()&&!st.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=t,n.prototype._attachExtraTrace=e,r.deactivateLongStackTraces(),I.enableTrampoline(),st.longStackTraces=!1},n.prototype._captureStackTrace=d,n.prototype._attachExtraTrace=v,r.activateLongStackTraces(),I.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return st.longStackTraces&&S()};var Y=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return M.global.dispatchEvent(t),function(t,e){var n=new CustomEvent(t.toLowerCase(),{detail:e,cancelable:!0});return!M.global.dispatchEvent(n)}}if("function"==typeof Event){var t=new Event("CustomEvent");return M.global.dispatchEvent(t),function(t,e){var n=new Event(t.toLowerCase(),{cancelable:!0});return n.detail=e,!M.global.dispatchEvent(n)}}var t=document.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),M.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!M.global.dispatchEvent(n)}}catch(e){}return function(){return!1}}(),Z=function(){return M.isNode?function(){return e.emit.apply(e,arguments)}:M.global?function(t){var e="on"+t.toLowerCase(),n=M.global[e];return!!n&&(n.apply(M.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),tt={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:i},et=function(t){var e=!1;try{e=Z.apply(null,arguments)}catch(n){I.throwLater(n),e=!0}var r=!1;try{r=Y(t,tt[t].apply(null,arguments))}catch(n){I.throwLater(n),r=!0}return r||e};n.config=function(t){if(t=Object(t),"longStackTraces"in t&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&J()),"warnings"in t){var e=t.warnings;st.warnings=!!e,K=st.warnings,M.isObject(e)&&"wForgottenReturn"in e&&(K=!!e.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!st.cancellation){if(I.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=l,n.prototype._propagateFrom=f,n.prototype._onCancel=u,n.prototype._setOnCancel=c,n.prototype._attachCancellationCallback=a,n.prototype._execute=s,nt=f,st.cancellation=!0}"monitoring"in t&&(t.monitoring&&!st.monitoring?(st.monitoring=!0,n.prototype._fireEvent=et):!t.monitoring&&st.monitoring&&(st.monitoring=!1,n.prototype._fireEvent=o))},n.prototype._fireEvent=o,n.prototype._execute=function(t,e,n){try{t(e,n)}catch(r){return r}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(t){},n.prototype._attachCancellationCallback=function(t){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(t,e){};var nt=p,rt=function(){return!1},it=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;M.inherits(R,Error),r.CapturedTrace=R,R.prototype.uncycle=function(){var t=this._length;if(!(2>t)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;t=this._length=r;for(var r=t-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;t>r;++r){var s=e[r].stack,a=n[s];if(void 0!==a&&a!==r){a>0&&(e[a-1]._parent=void 0,e[a-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var u=r>0?e[r-1]:this;t-1>a?(u._parent=e[a+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var c=u._length+1,l=r-2;l>=0;--l)e[l]._length=c,c++;return}}}},R.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=E(t),n=e.message,r=[e.stack],i=this;void 0!==i;)r.push(x(i.stack.split("\n"))),i=i._parent;w(r),b(r),M.notEnumerableProp(t,"stack",g(n,r)),M.notEnumerableProp(t,"__stackCleaned__",!0)}};var ot=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():j(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,$=t,W=e;var n=Error.captureStackTrace;return rt=function(t){return q.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return $=/@/,W=e,z=!0,function(t){t.stack=(new Error).stack};var i;try{throw new Error}catch(o){i="stack"in o}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(W=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?j(e):e.toString()},null):($=t,W=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(N=function(t){console.warn(t)},M.isNode&&e.stderr.isTTY?N=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:M.isNode||"string"!=typeof(new Error).stack||(N=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var st={warnings:X,longStackTraces:!1,cancellation:!1,monitoring:!1};return G&&n.longStackTraces(),{longStackTraces:function(){return st.longStackTraces},warnings:function(){return st.warnings},cancellation:function(){return st.cancellation},monitoring:function(){return st.monitoring},propagateFromFunction:function(){return nt},boundValueFunction:function(){return h},checkForgottenReturns:_,setBounds:P,warn:m,deprecated:y,CapturedTrace:R,fireDomEvent:Y,fireGlobalEvent:Z}}},{"./errors":12,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype["return"]=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype["throw"]=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1],r=function(){throw e};return this.caught(t,r)},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];r instanceof t&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,e){function n(){return o(this)}function r(t,n){return i(t,n,e,e)}var i=t.reduce,o=t.all;t.prototype.each=function(t){return i(this,t,e,0)._then(n,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,e,e)},t.each=function(t,r){return i(t,r,e,0)._then(n,void 0,void 0,t,void 0)},t.mapSeries=r}},{}],12:[function(t,e,n){"use strict";function r(t,e){function n(r){return this instanceof n?(f(this,"message","string"==typeof r?r:e),f(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return l(n,Error),n}function i(t){return this instanceof i?(f(this,"name","OperationalError"),f(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(f(this,"message",t.message),f(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(t)}var o,s,a=t("./es5"),u=a.freeze,c=t("./util"),l=c.inherits,f=c.notEnumerableProp,p=r("Warning","warning"),h=r("CancellationError","cancellation error"),d=r("TimeoutError","timeout error"),v=r("AggregateError","aggregate error");try{o=TypeError,s=RangeError}catch(_){o=r("TypeError","type error"),s=r("RangeError","range error")}for(var y="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<y.length;++m)"function"==typeof Array.prototype[y[m]]&&(v.prototype[y[m]]=Array.prototype[y[m]]);a.defineProperty(v.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),v.prototype.isOperational=!0;var g=0;v.prototype.toString=function(){var t=Array(4*g+1).join(" "),e="\n"+t+"AggregateError of:\n";g++,t=Array(4*g+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];r=i.join("\n"),e+=r+"\n"}return g--,e},l(i,Error);var b=Error.__BluebirdErrorTypes__;b||(b=u({CancellationError:h,TimeoutError:d,OperationalError:i,RejectionError:i,AggregateError:v}),a.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:o,RangeError:s,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:p}},{"./es5":13,"./util":36}],13:[function(t,e,n){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,s={}.constructor.prototype,a=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e},u=function(t,e){return{value:t[e]}},c=function(t,e,n){return t[e]=n.value,t},l=function(t){return t},f=function(t){try{return Object(t).constructor.prototype}catch(e){return s}},p=function(t){try{return"[object Array]"===o.call(t)}catch(e){return!1}};e.exports={isArray:p,keys:a,names:a,defineProperty:c,getDescriptor:u,freeze:l,getPrototypeOf:f,isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function i(t){this.finallyHandler=t}function o(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function s(){return u.call(this,this.promise._target()._settledValue())}function a(t){return o(this,t)?void 0:(f.e=t,f)}function u(t){var r=this.promise,u=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?u.call(r._boundValue()):u.call(r._boundValue(),t);if(void 0!==c){r._setReturnedNonUndefined();var p=n(c,r);if(p instanceof e){if(null!=this.cancelPromise){if(p._isCancelled()){var h=new l("late cancellation observer");return r._attachExtraTrace(h),f.e=h,f}p.isPending()&&p._attachCancellationCallback(new i(this))}return p._then(s,a,void 0,this,void 0)}}}return r.isRejected()?(o(this),f.e=t,f):(o(this),t)}var c=t("./util"),l=e.CancellationError,f=c.errorObj;return r.prototype.isFinallyHandler=function(){return 0===this.type},i.prototype._resultCancelled=function(){o(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,i){return"function"!=typeof t?this.then():this._then(n,i,void 0,new r(this,e,t),void 0)},e.prototype.lastly=e.prototype["finally"]=function(t){return this._passThrough(t,0,u,u)},e.prototype.tap=function(t){return this._passThrough(t,1,u)},r}},{"./util":36}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var s=h(n[o])(t);if(r._popContext(),s===p){r._pushContext();var a=e.reject(p.e);return r._popContext(),a}var u=i(s,r);if(u instanceof e)return u}return null}function u(t,n,i,o){if(s.cancellation()){var a=new e(r),u=this._finallyPromise=new e(r);this._promise=a.lastly(function(){return u}),a._captureStackTrace(),a._setOnCancel(this)}else{var c=this._promise=new e(r);c._captureStackTrace()}this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(d):d,this._yieldedPromise=null,this._cancellationPhase=!1}var c=t("./errors"),l=c.TypeError,f=t("./util"),p=f.errorObj,h=f.tryCatch,d=[];f.inherits(u,o),u.prototype._isResolved=function(){return null===this._promise},u.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},u.prototype._promiseCancelled=function(){if(!this._isResolved()){var t,n="undefined"!=typeof this._generator["return"];if(n)this._promise._pushContext(),t=h(this._generator["return"]).call(this._generator,void 0),this._promise._popContext();else{var r=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),t=h(this._generator["throw"]).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},u.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=h(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},u.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=h(this._generator["throw"]).call(this._generator,t);this._promise._popContext(),this._continue(e)},u.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},u.prototype.promise=function(){return this._promise},u.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},u.prototype._continue=function(t){var n=this._promise;if(t===p)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(t.done===!0)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(!(o instanceof e)&&(o=a(o,this._yieldHandlers,this._promise),null===o))return void this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",r)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var s=o._bitField;0===(50397184&s)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&s)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&s)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},e.coroutine=function(t,e){if("function"!=typeof t)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=u,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r((void 0),(void 0),n,i),s=o.promise();return o._generator=e,o._promiseFulfilled(void 0),s}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+f.classString(t));d.push(t)},e.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");
var r=new u(t,this),i=r.promise();return r._run(e.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){var a=t("./util");a.canEvaluate,a.tryCatch,a.errorObj,e.join=function(){var t,e=arguments.length-1;if(e>0&&"function"==typeof arguments[e]){t=arguments[e];var r}var i=[].slice.call(arguments);t&&i.pop();var r=new n(i).promise();return void 0!==t?r.spread(t):r}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,e,n,r){this.constructor$(t),this._promise._captureStackTrace();var i=c();this._callback=null===i?e:l.domainBind(i,e),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],h.invoke(this._asyncInit,this,void 0)}function u(t,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+l.classString(n));var s=0;if(void 0!==i){if("object"!=typeof i||null===i)return e.reject(new TypeError("options argument must be an object but it is "+l.classString(i)));if("number"!=typeof i.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(i.concurrency)));s=i.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new a(t,n,s,o).promise()}var c=e._getDomain,l=t("./util"),f=l.tryCatch,p=l.errorObj,h=e._async;l.inherits(a,n),a.prototype._asyncInit=function(){this._init$(void 0,-2)},a.prototype._init=function(){},a.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),a=this._preservedValues,u=this._limit;if(0>n){if(n=-1*n-1,r[n]=t,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return r[n]=t,this._queue.push(n),!1;null!==a&&(a[n]=t);var c=this._promise,l=this._callback,h=c._boundValue();c._pushContext();var d=f(l).call(h,t,n,o),v=c._popContext();if(s.checkForgottenReturns(d,v,null!==a?"Promise.filter":"Promise.map",c),d===p)return this._reject(d.e),!0;var _=i(d,this._promise);if(_ instanceof e){_=_._target();var y=_._bitField;if(0===(50397184&y))return u>=1&&this._inFlight++,r[n]=_,_._proxy(this,-1*(n+1)),!1;if(0===(33554432&y))return 0!==(16777216&y)?(this._reject(_._reason()),!0):(this._cancel(),!0);d=_._value()}r[n]=d}var m=++this._totalResolved;return m>=o&&(null!==a?this._filter(r,a):this._resolve(r),!0)},a.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},a.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;n>o;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},a.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return u(this,t,e,null)},e.map=function(t,e,n,r){return u(t,e,n,r)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var s=t("./util"),a=s.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+s.classString(t));return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var i=a(t).apply(this,arguments),s=r._popContext();return o.checkForgottenReturns(i,s,"Promise.method",r),r._resolveFromSyncValue(i),r}},e.attempt=e["try"]=function(t){if("function"!=typeof t)return i("expecting a function but got "+s.classString(t));var r=new e(n);r._captureStackTrace(),r._pushContext();var u;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],l=arguments[2];u=s.isArray(c)?a(t).apply(l,c):a(t).call(l,c)}else u=a(t)();var f=r._popContext();return o.checkForgottenReturns(u,f,"Promise.try",r),r._resolveFromSyncValue(u),r},e.prototype._resolveFromSyncValue=function(t){t===s.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";function r(t){return t instanceof Error&&l.getPrototypeOf(t)===Error.prototype}function i(t){var e;if(r(t)){e=new c(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var n=l.keys(t),i=0;i<n.length;++i){var o=n[i];f.test(o)||(e[o]=t[o])}return e}return s.markAsOriginatingFromRejection(t),t}function o(t,e){return function(n,r){if(null!==t){if(n){var o=i(a(n));t._attachExtraTrace(o),t._reject(o)}else if(e){var s=[].slice.call(arguments,1);t._fulfill(s)}else t._fulfill(r);t=null}}}var s=t("./util"),a=s.maybeWrapAsError,u=t("./errors"),c=u.OperationalError,l=t("./es5"),f=/^(?:name|message|stack|cause)$/;e.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){function n(t,e){var n=this;if(!o.isArray(t))return r.call(n,t,e);var i=a(e).apply(n._boundValue(),[null].concat(t));i===u&&s.throwLater(i.e)}function r(t,e){var n=this,r=n._boundValue(),i=void 0===t?a(e).call(r,null):a(e).call(r,null,t);i===u&&s.throwLater(i.e)}function i(t,e){var n=this;if(!t){var r=new Error(t+"");r.cause=t,t=r}var i=a(e).call(n._boundValue(),t);i===u&&s.throwLater(i.e)}var o=t("./util"),s=e._async,a=o.tryCatch,u=o.errorObj;e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var o=r;void 0!==e&&Object(e).spread&&(o=n),this._then(o,i,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,r){"use strict";n.exports=function(){function r(){}function i(t,e){if("function"!=typeof e)throw new g("expecting a function but got "+d.classString(e));if(t.constructor!==o)throw new g("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function o(t){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,t!==w&&(i(this,t),this._resolveFromExecutor(t)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function s(t){this.promise._resolveCallback(t)}function a(t){this.promise._rejectCallback(t,!1)}function u(t){var e=new o(w);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}var c,l=function(){return new g("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},f=function(){return new o.PromiseInspection(this._target())},p=function(t){return o.reject(new g(t))},h={},d=t("./util");c=d.isNode?function(){var t=e.domain;return void 0===t&&(t=null),t}:function(){return null},d.notEnumerableProp(o,"_getDomain",c);var v=t("./es5"),_=t("./async"),y=new _;v.defineProperty(o,"_async",{value:y});var m=t("./errors"),g=o.TypeError=m.TypeError;o.RangeError=m.RangeError;var b=o.CancellationError=m.CancellationError;o.TimeoutError=m.TimeoutError,o.OperationalError=m.OperationalError,o.RejectionError=m.OperationalError,o.AggregateError=m.AggregateError;var w=function(){},x={},C={},E=t("./thenables")(o,w),k=t("./promise_array")(o,w,E,p,r),T=t("./context")(o),j=T.create,F=t("./debuggability")(o,T),S=(F.CapturedTrace,t("./finally")(o,E)),O=t("./catch_filter")(C),P=t("./nodeback"),R=d.errorObj,A=d.tryCatch;return o.prototype.toString=function(){return"[object Promise]"},o.prototype.caught=o.prototype["catch"]=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),i=0;for(n=0;e-1>n;++n){var o=arguments[n];if(!d.isObject(o))return p("expecting an object but got A catch statement predicate "+d.classString(o));r[i++]=o}return r.length=i,t=arguments[n],this.then(void 0,O(r,t,this))}return this.then(void 0,t)},o.prototype.reflect=function(){return this._then(f,f,void 0,this,void 0)},o.prototype.then=function(t,e){if(F.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+d.classString(t);arguments.length>1&&(n+=", "+d.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},o.prototype.done=function(t,e){var n=this._then(t,e,void 0,void 0,void 0);n._setIsFinal()},o.prototype.spread=function(t){return"function"!=typeof t?p("expecting a function but got "+d.classString(t)):this.all()._then(t,void 0,void 0,x,void 0)},o.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},o.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new k(this).promise()},o.prototype.error=function(t){return this.caught(d.originatesFromRejection,t)},o.getNewLibraryCopy=n.exports,o.is=function(t){return t instanceof o},o.fromNode=o.fromCallback=function(t){var e=new o(w);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=A(t)(P(e,n));return r===R&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},o.all=function(t){return new k(t).promise()},o.cast=function(t){var e=E(t);return e instanceof o||(e=new o(w),e._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},o.resolve=o.fulfilled=o.cast,o.reject=o.rejected=function(t){var e=new o(w);return e._captureStackTrace(),e._rejectCallback(t,!0),e},o.setScheduler=function(t){if("function"!=typeof t)throw new g("expecting a function but got "+d.classString(t));return y.setScheduler(t)},o.prototype._then=function(t,e,n,r,i){var s=void 0!==i,a=s?i:new o(w),u=this._target(),l=u._bitField;s||(a._propagateFrom(this,3),a._captureStackTrace(),void 0===r&&0!==(2097152&this._bitField)&&(r=0!==(50397184&l)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,a));var f=c();if(0!==(50397184&l)){var p,h,v=u._settlePromiseCtx;0!==(33554432&l)?(h=u._rejectionHandler0,p=t):0!==(16777216&l)?(h=u._fulfillmentHandler0,p=e,u._unsetRejectionIsUnhandled()):(v=u._settlePromiseLateCancellationObserver,h=new b("late cancellation observer"),u._attachExtraTrace(h),p=e),y.invoke(v,u,{handler:null===f?p:"function"==typeof p&&d.domainBind(f,p),promise:a,receiver:r,value:h})}else u._addCallbacks(t,e,a,r,f);return a},o.prototype._length=function(){return 65535&this._bitField},o.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},o.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},o.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},o.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},o.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},o.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},o.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},o.prototype._isFinal=function(){return(4194304&this._bitField)>0},o.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},o.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},o.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},o.prototype._setAsyncGuaranteed=function(){y.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},o.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==h)return void 0===e&&this._isBound()?this._boundValue():e},o.prototype._promiseAt=function(t){return this[4*t-4+2]},o.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},o.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},o.prototype._boundValue=function(){},o.prototype._migrateCallback0=function(t){var e=(t._bitField,t._fulfillmentHandler0),n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=h),this._addCallbacks(e,n,r,i,null)},o.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=h),this._addCallbacks(n,r,i,o,null)},o.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=null===i?t:d.domainBind(i,t)),"function"==typeof e&&(this._rejectionHandler0=null===i?e:d.domainBind(i,e));else{var s=4*o-4;this[s+2]=n,this[s+3]=r,"function"==typeof t&&(this[s+0]=null===i?t:d.domainBind(i,t)),"function"==typeof e&&(this[s+1]=null===i?e:d.domainBind(i,e))}return this._setLength(o+1),o},o.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},o.prototype._resolveCallback=function(t,e){if(0===(117506048&this._bitField)){if(t===this)return this._rejectCallback(l(),!1);var n=E(t,this);if(!(n instanceof o))return this._fulfill(t);e&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(l());var i=r._bitField;if(0===(50397184&i)){var s=this._length();s>0&&r._migrateCallback0(this);for(var a=1;s>a;++a)r._migrateCallbackAt(this,a);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!==(33554432&i))this._fulfill(r._value());else if(0!==(16777216&i))this._reject(r._reason());else{var u=new b("late cancellation observer");r._attachExtraTrace(u),this._reject(u)}}},o.prototype._rejectCallback=function(t,e,n){var r=d.ensureErrorObject(t),i=r===t;if(!i&&!n&&F.warnings()){var o="a promise was rejected with a non-error: "+d.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,!!e&&i),this._reject(t)},o.prototype._resolveFromExecutor=function(t){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)},o.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0===(65536&i)){r._pushContext();var o;e===x?n&&"number"==typeof n.length?o=A(t).apply(this._boundValue(),n):(o=R,o.e=new g("cannot .spread() a non-array: "+d.classString(n))):o=A(t).call(e,n);var s=r._popContext();i=r._bitField,0===(65536&i)&&(o===C?r._reject(n):o===R?r._rejectCallback(o.e,!1):(F.checkForgottenReturns(o,s,"",r,this),r._resolveCallback(o)))}},o.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},o.prototype._followee=function(){return this._rejectionHandler0},o.prototype._setFollowee=function(t){this._rejectionHandler0=t},o.prototype._settlePromise=function(t,e,n,i){var s=t instanceof o,a=this._bitField,u=0!==(134217728&a);0!==(65536&a)?(s&&t._invokeInternalOnCancel(),n instanceof S&&n.isFinallyHandler()?(n.cancelPromise=t,A(e).call(n,i)===R&&t._reject(R.e)):e===f?t._fulfill(f.call(n)):n instanceof r?n._promiseCancelled(t):s||t instanceof k?t._cancel():n.cancel()):"function"==typeof e?s?(u&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,i,t)):e.call(n,i,t):n instanceof r?n._isResolved()||(0!==(33554432&a)?n._promiseFulfilled(i,t):n._promiseRejected(i,t)):s&&(u&&t._setAsyncGuaranteed(),0!==(33554432&a)?t._fulfill(i):t._reject(i))},o.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,i=t.value;"function"==typeof e?n instanceof o?this._settlePromiseFromHandler(e,r,i,n):e.call(r,i,n):n instanceof o&&n._reject(i)},o.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},o.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},o.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},o.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=l();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!==(134217728&e)?this._settlePromises():y.settlePromises(this))}},o.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16))return this._setRejected(),this._fulfillmentHandler0=t,this._isFinal()?y.fatalError(t,d.isNode):void((65535&e)>0?y.settlePromises(this):this._ensurePossibleRejectionHandled())},o.prototype._fulfillPromises=function(t,e){for(var n=1;t>n;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._rejectPromises=function(t,e){for(var n=1;t>n;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!==(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},o.prototype._settledValue=function(){var t=this._bitField;return 0!==(33554432&t)?this._rejectionHandler0:0!==(16777216&t)?this._fulfillmentHandler0:void 0},o.defer=o.pending=function(){F.deprecated("Promise.defer","new Promise");var t=new o(w);return{promise:t,resolve:s,reject:a}},d.notEnumerableProp(o,"_makeSelfResolutionError",l),t("./method")(o,w,E,p,F),t("./bind")(o,w,E,F),t("./cancel")(o,k,p,F),t("./direct_resolve")(o),t("./synchronous_inspection")(o),t("./join")(o,k,E,w,y,c),o.Promise=o,o.version="3.4.6",t("./map.js")(o,k,p,E,w,F),t("./call_get.js")(o),t("./using.js")(o,p,E,j,w,F),t("./timers.js")(o,w,F),t("./generators.js")(o,p,w,E,r,F),t("./nodeify.js")(o),t("./promisify.js")(o,w),t("./props.js")(o,k,E,p),t("./race.js")(o,w,E,p),t("./reduce.js")(o,k,p,E,w,F),t("./settle.js")(o,k,F),t("./some.js")(o,k,p),t("./filter.js")(o,w),t("./each.js")(o,w),t("./any.js")(o),d.toFastProperties(o),d.toFastProperties(o.prototype),u({a:1}),u({b:2}),u({c:3}),u(1),u(function(){}),u(void 0),u(!1),u(new o(w)),F.setBounds(_.firstLineError,d.lastLineError),o}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){function s(t){switch(t){case-2:return[];case-3:return{}}}function a(t){var r=this._promise=new e(n);t instanceof e&&r._propagateFrom(t,3),r._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var u=t("./util");return u.isArray,u.inherits(a,o),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function c(t,n){var o=r(this._values,this._promise);if(o instanceof e){o=o._target();var a=o._bitField;if(this._values=o,0===(50397184&a))return this._promise._setAsyncGuaranteed(),o._then(c,this._reject,void 0,this,n);if(0===(33554432&a))return 0!==(16777216&a)?this._reject(o._reason()):this._cancel();o=o._value()}if(o=u.asArray(o),null===o){var l=i("expecting an array or an iterable object but got "+u.classString(o)).reason();return void this._promise._rejectCallback(l,!1)}return 0===o.length?void(-5===n?this._resolveEmptyArray():this._resolve(s(n))):void this._iterate(o)},a.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,s=null,a=0;n>a;++a){var u=r(t[a],i);u instanceof e?(u=u._target(),s=u._bitField):s=null,o?null!==s&&u.suppressUnhandledRejections():null!==s?0===(50397184&s)?(u._proxy(this,a),this._values[a]=u):o=0!==(33554432&s)?this._promiseFulfilled(u._value(),a):0!==(16777216&s)?this._promiseRejected(u._reason(),a):this._promiseCancelled(a):o=this._promiseFulfilled(u,a)}o||i._setAsyncGuaranteed()},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},a.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},a.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},a.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(t){return t},a}},{"./util":36}],24:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t){return!x.test(t)}function i(t){try{return t.__isPromisified__===!0}catch(e){return!1}}function o(t,e,n){var r=h.getDataPropertyOrDefault(t,e+n,b);return!!r&&i(r)}function s(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),s=0;s<t.length;s+=2)if(t[s]===o)throw new m("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}function a(t,e,n,r){for(var a=h.inheritedDataKeys(t),u=[],c=0;c<a.length;++c){var l=a[c],f=t[l],p=r===C||C(l,f,t);"function"!=typeof f||i(f)||o(t,l,e)||!r(l,f,t,p)||u.push(l,f)}return s(u,e,n),u}function u(t,r,i,o,s,a){function u(){var i=r;r===p&&(i=this);var o=new e(n);o._captureStackTrace();var s="string"==typeof l&&this!==c?this[l]:t,u=d(o,a);try{s.apply(i,v(arguments,u))}catch(f){o._rejectCallback(_(f),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var c=function(){return this}(),l=t;return"string"==typeof l&&(t=o),h.notEnumerableProp(u,"__isPromisified__",!0),u}function c(t,e,n,r,i){for(var o=new RegExp(E(e)+"$"),s=a(t,e,o,n),u=0,c=s.length;c>u;u+=2){var l=s[u],f=s[u+1],d=l+e;if(r===k)t[d]=k(l,p,l,f,e,i);else{var v=r(f,function(){return k(l,p,l,f,e,i)});h.notEnumerableProp(v,"__isPromisified__",!0),t[d]=v}}return h.toFastProperties(t),t}function l(t,e,n){return k(t,e,void 0,t,null,n)}var f,p={},h=t("./util"),d=t("./nodeback"),v=h.withAppended,_=h.maybeWrapAsError,y=h.canEvaluate,m=t("./errors").TypeError,g="Async",b={__isPromisified__:!0},w=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],x=new RegExp("^(?:"+w.join("|")+")$"),C=function(t){return h.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t},E=function(t){return t.replace(/([$])/,"\\$")},k=y?f:u;e.promisify=function(t,e){if("function"!=typeof t)throw new m("expecting a function but got "+h.classString(t));if(i(t))return t;e=Object(e);var n=void 0===e.context?p:e.context,o=!!e.multiArgs,s=l(t,n,o);return h.copyDescriptors(t,s,r),s},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new m("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");e=Object(e);var n=!!e.multiArgs,r=e.suffix;"string"!=typeof r&&(r=g);var i=e.filter;"function"!=typeof i&&(i=C);var o=e.promisifier;if("function"!=typeof o&&(o=k),!h.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=h.inheritedDataKeys(t),a=0;a<s.length;++a){var u=t[s[a]];"constructor"!==s[a]&&h.isClass(u)&&(c(u.prototype,r,i,o,n),c(u,r,i,o,n))}return c(t,r,i,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t){var e,n=!1;if(void 0!==a&&t instanceof a)e=f(t),n=!0;else{var r=l.keys(t),i=r.length;e=new Array(2*i);for(var o=0;i>o;++o){var s=r[o];e[o]=t[s],e[o+i]=s}}this.constructor$(e),this._isMap=n,this._init$(void 0,-3)}function s(t){var n,s=r(t);return c(s)?(n=s instanceof e?s._then(e.props,void 0,void 0,void 0,void 0):new o(s).promise(),s instanceof e&&n._propagateFrom(s,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var a,u=t("./util"),c=u.isObject,l=t("./es5");"function"==typeof Map&&(a=Map);var f=function(){function t(t,r){this[e]=t,this[e+n]=r,e++}var e=0,n=0;return function(r){n=r.size,e=0;var i=new Array(2*r.size);return r.forEach(t,i),i}}(),p=function(t){for(var e=new a,n=t.length/2|0,r=0;n>r;++r){var i=t[n+r],o=t[r];e.set(i,o)}return e};u.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){var r;if(this._isMap)r=p(this._values);else{r={};for(var i=this.length(),o=0,s=this.length();s>o;++o)r[this._values[o+i]]=this._values[o]}return this._resolve(r),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return s(this)},e.props=function(t){return s(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o=0;i>o;++o)n[o+r]=t[o+e],t[o+e]=void 0}function i(t){this._capacity=t,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(t){return this._capacity<t},i.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},i.prototype._unshiftOne=function(t){var e=this._capacity;this._checkCapacity(this.length()+1);var n=this._front,r=(n-1&e-1^e)-e;this[r]=t,this._front=r,this._length=this.length()+1},i.prototype.unshift=function(t,e,n){this._unshiftOne(n),this._unshiftOne(e),this._unshiftOne(t)},i.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var n=this._front,i=this._length,o=n+i&e-1;r(this,0,this,e,o)},e.exports=i},{}],27:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t,o){var u=r(t);if(u instanceof e)return a(u);if(t=s.asArray(t),null===t)return i("expecting an array or an iterable object but got "+s.classString(t));var c=new e(n);void 0!==o&&c._propagateFrom(o,3);for(var l=c._fulfill,f=c._reject,p=0,h=t.length;h>p;++p){var d=t[p];(void 0!==d||p in t)&&e.cast(d)._then(l,f,void 0,c,null)}return c}var s=t("./util"),a=function(t){return t.then(function(e){return o(e,t)})};e.race=function(t){return o(t,void 0)},e.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,n,r,i){this.constructor$(t);var s=p();this._fn=null===s?n:h.domainBind(s,n),void 0!==r&&(r=e.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,i===o?this._eachValues=Array(this._length):0===i?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function u(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function c(t,e,n,i){if("function"!=typeof e)return r("expecting a function but got "+h.classString(e));var o=new a(t,e,n,i);return o.promise()}function l(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(f,void 0,void 0,this,void 0)):f.call(this,n)}function f(t){var n=this.array,r=n._promise,i=d(n._fn);r._pushContext();var o;o=void 0!==n._eachValues?i.call(r._boundValue(),t,this.index,this.length):i.call(r._boundValue(),this.accum,t,this.index,this.length),o instanceof e&&(n._currentCancellable=o);var a=r._popContext();return s.checkForgottenReturns(o,a,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),o}var p=e._getDomain,h=t("./util"),d=h.tryCatch;h.inherits(a,n),a.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==o&&this._eachValues.push(t)},a.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},a.prototype._init=function(){},a.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},a.prototype.shouldCopyValues=function(){return!1},a.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},a.prototype._resultCancelled=function(t){return t===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel()))},a.prototype._iterate=function(t){this._values=t;var n,r,i=t.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=e.resolve(t[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;i>r;++r){var o={accum:null,value:t[r],index:r,length:i,array:this};n=n._then(l,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(u,u,void 0,n,this)},e.prototype.reduce=function(t,e){return c(this,t,e,null)},e.reduce=function(t,e,n,r){return c(t,e,n,r)}}},{"./util":36}],29:[function(t,i,o){"use strict";var s,a=t("./util"),u=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},c=a.getNativePromise();if(a.isNode&&"undefined"==typeof MutationObserver){var l=n.setImmediate,f=e.nextTick;s=a.isRecentNode?function(t){l.call(n,t)}:function(t){f.call(e,t)}}else if("function"==typeof c&&"function"==typeof c.resolve){var p=c.resolve();s=function(t){p.then(t)}}else s="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof r?function(t){r(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:u:function(){var t=document.createElement("div"),e={attributes:!0},n=!1,r=document.createElement("div"),i=new MutationObserver(function(){t.classList.toggle("foo"),n=!1});i.observe(r,e);var o=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(t,e),o()}}();i.exports=s},{"./util":36}],30:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t)}var o=e.PromiseInspection,s=t("./util");s.inherits(i,n),i.prototype._promiseResolved=function(t,e){this._values[t]=e;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(t,e){var n=new o;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},i.prototype._promiseRejected=function(t,e){var n=new o;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return r.deprecated(".settle()",".reflect()"),new i(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||0>e)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(t),o=n.promise();return n.setHowMany(e),n.init(),o}var s=t("./util"),a=t("./errors").RangeError,u=t("./errors").AggregateError,c=s.isArray,l={};s.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=c(this._values);
!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(t){this._howMany=t},i.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new u,e=this.length();e<this._values.length;++e)this._values[e]!==l&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(t){this._values.push(t)},i.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new a(e)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return o(t,e)},e.prototype.some=function(t){return o(this,t)},e._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},s=e.prototype.isPending=function(){return 0===(50397184&this._bitField)},a=e.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},t.prototype.isPending=function(){return s.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return a.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,r){if(l(t)){if(t instanceof e)return t;var i=o(t);if(i===c){r&&r._pushContext();var u=e.reject(i.e);return r&&r._popContext(),u}if("function"==typeof i){if(s(t)){var u=new e(n);return t._then(u._fulfill,u._reject,void 0,u,null),u}return a(t,i,r)}}return t}function i(t){return t.then}function o(t){try{return i(t)}catch(e){return c.e=e,c}}function s(t){try{return f.call(t,"_promise0")}catch(e){return!1}}function a(t,r,i){function o(t){a&&(a._resolveCallback(t),a=null)}function s(t){a&&(a._rejectCallback(t,f,!0),a=null)}var a=new e(n),l=a;i&&i._pushContext(),a._captureStackTrace(),i&&i._popContext();var f=!0,p=u.tryCatch(r).call(t,o,s);return f=!1,a&&p===c&&(a._rejectCallback(p.e,!0,!0),a=null),l}var u=t("./util"),c=u.errorObj,l=u.isObject,f={}.hasOwnProperty;return r}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.handle=t}function o(t){return clearTimeout(this.handle),t}function s(t){throw clearTimeout(this.handle),t}var a=t("./util"),u=e.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(t){return l(+this).thenReturn(t)},l=e.delay=function(t,o){var s,a;return void 0!==o?(s=e.resolve(o)._then(c,null,null,t,void 0),r.cancellation()&&o instanceof e&&s._setOnCancel(o)):(s=new e(n),a=setTimeout(function(){s._fulfill()},+t),r.cancellation()&&s._setOnCancel(new i(a)),s._captureStackTrace()),s._setAsyncGuaranteed(),s};e.prototype.delay=function(t){return l(t,this)};var f=function(t,e,n){var r;r="string"!=typeof e?e instanceof Error?e:new u("operation timed out"):new u(e),a.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()};e.prototype.timeout=function(t,e){t=+t;var n,a,u=new i(setTimeout(function(){n.isPending()&&f(n,e,a)},t));return r.cancellation()?(a=this.then(),n=a._then(o,s,void 0,u,void 0),n._setOnCancel(u)):n=this._then(o,s,void 0,u,void 0),n}}},{"./util":36}],35:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t){setTimeout(function(){throw t},0)}function u(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function c(t,n){function i(){if(s>=c)return l._fulfill();var o=u(t[s++]);if(o instanceof e&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),t.promise)}catch(f){return a(f)}if(o instanceof e)return o._then(i,a,null,null,null)}i()}var s=0,c=t.length,l=new e(o);return i(),l}function l(t,e,n){this._data=t,this._promise=e,this._context=n}function f(t,e,n){this.constructor$(t,e,n)}function p(t){return l.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function h(t){this.length=t,this.promise=null,this[t-1]=null}var d=t("./util"),v=t("./errors").TypeError,_=t("./util").inherits,y=d.errorObj,m=d.tryCatch,g={};l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():g},l.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==g?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},l.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},_(f,l),f.prototype.doDispose=function(t,e){var n=this.data();return n.call(t,t,e)},h.prototype._resultCancelled=function(){for(var t=this.length,n=0;t>n;++n){var r=this[n];r instanceof e&&r.cancel()}},e.using=function(){var t=arguments.length;if(2>t)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[t-1];if("function"!=typeof i)return n("expecting a function but got "+d.classString(i));var o,a=!0;2===t&&Array.isArray(arguments[0])?(o=arguments[0],t=o.length,a=!1):(o=arguments,t--);for(var u=new h(t),f=0;t>f;++f){var v=o[f];if(l.isDisposer(v)){var _=v;v=v.promise(),v._setDisposable(_)}else{var g=r(v);g instanceof e&&(v=g._then(p,null,null,{resources:u,index:f},void 0))}u[f]=v}for(var b=new Array(u.length),f=0;f<b.length;++f)b[f]=e.resolve(u[f]).reflect();var w=e.all(b).then(function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return y.e=n.error(),y;if(!n.isFulfilled())return void w.cancel();t[e]=n.value()}x._pushContext(),i=m(i);var r=a?i.apply(void 0,t):i(t),o=x._popContext();return s.checkForgottenReturns(r,o,"Promise.using",x),r}),x=w.lastly(function(){var t=new e.PromiseInspection(w);return c(u,t)});return u.promise=x,x._setOnCancel(u),x},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new f(t,this,i());throw new v}}},{"./errors":12,"./util":36}],36:[function(t,r,i){"use strict";function o(){try{var t=F;return F=null,t.apply(this,arguments)}catch(e){return P.e=e,P}}function s(t){return F=t,o}function a(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function u(t){return"function"==typeof t||"object"==typeof t&&null!==t}function c(t){return a(t)?new Error(m(t)):t}function l(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;r>n;++n)i[n]=t[n];return i[n]=e,i}function f(t,e,n){if(!S.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function p(t,e,n){if(a(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return S.defineProperty(t,e,r),t}function h(t){throw t}function d(t){try{if("function"==typeof t){var e=S.names(t.prototype),n=S.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=N.test(t+"")&&S.names(t).length>0;if(n||r||i)return!0}return!1}catch(o){return!1}}function v(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t}function _(t){return L.test(t)}function y(t,e,n){for(var r=new Array(t),i=0;t>i;++i)r[i]=e+i+n;return r}function m(t){try{return t+""}catch(e){return"[no string representation]"}}function g(t){return null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function b(t){try{p(t,"isOperational",!0)}catch(e){}}function w(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||t.isOperational===!0)}function x(t){return g(t)&&S.propertyIsWritable(t,"stack")}function C(t){return{}.toString.call(t)}function E(t,e,n){for(var r=S.names(t),i=0;i<r.length;++i){var o=r[i];if(n(o))try{S.defineProperty(e,o,S.getDescriptor(t,o))}catch(s){}}}function k(t,n){return B?e.env[t]:n}function T(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(e){}}function j(t,e){return t.bind(e)}var F,S=t("./es5"),O="undefined"==typeof navigator,P={e:{}},R="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof n?n:void 0!==this?this:null,A=function(t,e){function n(){this.constructor=t,this.constructor$=e;for(var n in e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var r={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},D=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(S.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var r=[],i=Object.create(null);null!=t&&!e(t);){var o;try{o=n(t)}catch(s){return r}for(var a=0;a<o.length;++a){var u=o[a];if(!i[u]){i[u]=!0;var c=Object.getOwnPropertyDescriptor(t,u);null!=c&&null==c.get&&null==c.set&&r.push(u)}}t=S.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var i=[];t:for(var o in n)if(r.call(n,o))i.push(o);else{for(var s=0;s<t.length;++s)if(r.call(t[s],o))continue t;i.push(o)}return i}}(),N=/this\s*\.\s*\S+\s*=/,L=/^[a-z$_][a-z$_0-9]*$/i,I=function(){return"stack"in new Error?function(t){return x(t)?t:new Error(m(t))}:function(t){if(x(t))return t;try{throw new Error(m(t))}catch(e){return e}}}(),H=function(t){return S.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var M="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};H=function(t){return S.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?M(t):null}}var B="undefined"!=typeof e&&"[object process]"===C(e).toLowerCase(),q={isClass:d,isIdentifier:_,inheritedDataKeys:D,getDataPropertyOrDefault:f,thrower:h,isArray:S.isArray,asArray:H,notEnumerableProp:p,isPrimitive:a,isObject:u,isError:g,canEvaluate:O,errorObj:P,tryCatch:s,inherits:A,withAppended:l,maybeWrapAsError:c,toFastProperties:v,filledRange:y,toString:m,canAttachTrace:x,ensureErrorObject:I,originatesFromRejection:w,markAsOriginatingFromRejection:b,classString:C,copyDescriptors:E,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:B,env:k,global:R,getNativePromise:T,domainBind:j};q.isRecentNode=q.isNode&&function(){var t=e.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0}(),q.isNode&&q.toFastProperties(e);try{throw new Error}catch(U){q.lastLineError=U}r.exports=q},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(e,n(48),function(){return this}(),n(49).setImmediate)},function(t,e){function n(){f&&s&&(f=!1,s.length?l=s.concat(l):p=-1,l.length&&r())}function r(){if(!f){var t=u(n);f=!0;for(var e=l.length;e;){for(s=l,l=[];++p<e;)s&&s[p].run();p=-1,e=l.length}s=null,f=!1,c(t)}}function i(t,e){this.fun=t,this.array=e}function o(){}var s,a=t.exports={},u=setTimeout,c=clearTimeout,l=[],f=!1,p=-1;a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new i(t,e)),1!==l.length||f||u(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=o,a.addListener=o,a.once=o,a.off=o,a.removeListener=o,a.removeAllListeners=o,a.emit=o,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e,n){(function(t,r){function i(t,e){this._id=t,this._clearFn=e}var o=n(48).nextTick,s=Function.prototype.apply,a=Array.prototype.slice,u={},c=0;e.setTimeout=function(){return new i(s.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(s.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=c++,r=!(arguments.length<2)&&a.call(arguments,1);return u[n]=!0,o(function(){u[n]&&(r?t.apply(null,r):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof r?r:function(t){delete u[t]}}).call(e,n(49).setImmediate,n(49).clearImmediate)},function(t,e,n){var r,i=i||function(t){"use strict";if(!("undefined"==typeof t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,n=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},s=/constructor/i.test(t.HTMLElement)||t.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),u=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},c="application/octet-stream",l=4e4,f=function(t){var e=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};setTimeout(e,l)},p=function(t,e,n){e=[].concat(e);for(var r=e.length;r--;){var i=t["on"+e[r]];if("function"==typeof i)try{i.call(t,n||t)}catch(o){u(o)}}},h=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},d=function(e,u,l){l||(e=h(e));var d,v=this,_=e.type,y=_===c,m=function(){p(v,"writestart progress write writeend".split(" "))},g=function(){if((a||y&&s)&&t.FileReader){var r=new FileReader;return r.onloadend=function(){var e=a?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;"),n=t.open(e,"_blank");n||(t.location.href=e),e=void 0,v.readyState=v.DONE,m()},r.readAsDataURL(e),void(v.readyState=v.INIT)}if(d||(d=n().createObjectURL(e)),y)t.location.href=d;else{var i=t.open(d,"_blank");i||(t.location.href=d)}v.readyState=v.DONE,m(),f(d)};return v.readyState=v.INIT,i?(d=n().createObjectURL(e),void setTimeout(function(){r.href=d,r.download=u,o(r),m(),f(d),v.readyState=v.DONE})):void g()},v=d.prototype,_=function(t,e,n){return new d(t,e||t.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=h(t)),navigator.msSaveOrOpenBlob(t,e)}:(v.abort=function(){},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,_)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof t&&t.exports?t.exports.saveAs=i:null!==n(51)&&null!==n(52)&&(r=function(){return i}.call(e,n,e,t),!(void 0!==r&&(t.exports=r)))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e){t.exports={name:"epub-press-js",version:"0.5.1",description:"Javascript client for building books with EpubPress.",homepage:"https://github.com/haroldtreen/epub-press-clients#readme",baseUrl:"https://epub.press",main:"build/index.js",directories:{tests:"test"},scripts:{test:"export NODE_ENV=test && open http://localhost:5001/tests && webpack-dev-server",start:"export NODE_ENV=development && webpack --watch --progress --color",build:"export NODE_ENV=development && webpack","build-prod":"export NODE_ENV=production && webpack --optimize-minimize --optimize-dedupe",preversion:"npm run-script build-prod",prepublish:"npm run build-prod"},repository:{type:"git",url:"git+https://github.com/haroldtreen/epub-press-clients.git"},keywords:["epub","publishing","productivity","client","epubpress","ebooks","content","extraction"],author:"EpubPress",license:"ISC",bugs:{url:"https://github.com/haroldtreen/epub-press-clients/issues"},devDependencies:{"babel-core":"^6.17.0","babel-loader":"^6.2.4","babel-plugin-transform-runtime":"^6.9.0","babel-preset-es2015":"^6.9.0",chai:"^3.5.0","fetch-mock":"^5.0.3",mocha:"^2.5.3","mocha-loader":"^1.0.0",sinon:"git+https://github.com/sinonjs/sinon.git","sinon-as-promised":"^4.0.2",webpack:"^1.13.1"},dependencies:{bluebird:"^3.4.6","file-saver":"^1.3.3","isomorphic-fetch":"^2.2.1","json-loader":"^0.5.4"}}},function(t,n){t.exports=e}])})}).call(e,n(43))},function(t,e,n){var r,i;/*!
	 * jQuery JavaScript Library v3.1.0
	 * https://jquery.com/
	 *
	 * Includes Sizzle.js
	 * https://sizzlejs.com/
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license
	 * https://jquery.org/license
	 *
	 * Date: 2016-07-07T21:44Z
	 */
!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,o){"use strict";function s(t,e){e=e||rt;var n=e.createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}function a(t){var e=!!t&&"length"in t&&t.length,n=_t.type(t);return"function"!==n&&!_t.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function u(t,e,n){if(_t.isFunction(e))return _t.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return _t.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(Tt.test(e))return _t.filter(e,t,n);e=_t.filter(e,t)}return _t.grep(t,function(t){return ut.call(e,t)>-1!==n&&1===t.nodeType})}function c(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function l(t){var e={};return _t.each(t.match(Rt)||[],function(t,n){e[n]=!0}),e}function f(t){return t}function p(t){throw t}function h(t,e,n){var r;try{t&&_t.isFunction(r=t.promise)?r.call(t).done(e).fail(n):t&&_t.isFunction(r=t.then)?r.call(t,e,n):e.call(void 0,t)}catch(t){n.call(void 0,t)}}function d(){rt.removeEventListener("DOMContentLoaded",d),n.removeEventListener("load",d),_t.ready()}function v(){this.expando=_t.expando+v.uid++}function _(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(Bt,"-$&").toLowerCase(),n=t.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Mt.test(n)?JSON.parse(n):n)}catch(i){}Ht.set(t,e,n)}else n=void 0;return n}function y(t,e,n,r){var i,o=1,s=20,a=r?function(){return r.cur()}:function(){return _t.css(t,e,"")},u=a(),c=n&&n[3]||(_t.cssNumber[e]?"":"px"),l=(_t.cssNumber[e]||"px"!==c&&+u)&&Ut.exec(_t.css(t,e));if(l&&l[3]!==c){c=c||l[3],n=n||[],l=+u||1;do o=o||".5",l/=o,_t.style(t,e,l+c);while(o!==(o=a()/u)&&1!==o&&--s)}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}function m(t){var e,n=t.ownerDocument,r=t.nodeName,i=zt[r];return i?i:(e=n.body.appendChild(n.createElement(r)),i=_t.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),zt[r]=i,i)}function g(t,e){for(var n,r,i=[],o=0,s=t.length;o<s;o++)r=t[o],r.style&&(n=r.style.display,e?("none"===n&&(i[o]=It.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&$t(r)&&(i[o]=m(r))):"none"!==n&&(i[o]="none",It.set(r,"display",n)));for(o=0;o<s;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}function b(t,e){var n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&_t.nodeName(t,e)?_t.merge([t],n):n}function w(t,e){for(var n=0,r=t.length;n<r;n++)It.set(t[n],"globalEval",!e||It.get(e[n],"globalEval"))}function x(t,e,n,r,i){for(var o,s,a,u,c,l,f=e.createDocumentFragment(),p=[],h=0,d=t.length;h<d;h++)if(o=t[h],o||0===o)if("object"===_t.type(o))_t.merge(p,o.nodeType?[o]:o);else if(Jt.test(o)){for(s=s||f.appendChild(e.createElement("div")),a=(Xt.exec(o)||["",""])[1].toLowerCase(),u=Kt[a]||Kt._default,s.innerHTML=u[1]+_t.htmlPrefilter(o)+u[2],l=u[0];l--;)s=s.lastChild;_t.merge(p,s.childNodes),s=f.firstChild,s.textContent=""}else p.push(e.createTextNode(o));for(f.textContent="",h=0;o=p[h++];)if(r&&_t.inArray(o,r)>-1)i&&i.push(o);else if(c=_t.contains(o.ownerDocument,o),s=b(f.appendChild(o),"script"),c&&w(s),n)for(l=0;o=s[l++];)Gt.test(o.type||"")&&n.push(o);return f}function C(){return!0}function E(){return!1}function k(){try{return rt.activeElement}catch(t){}}function T(t,e,n,r,i,o){var s,a;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=void 0);for(a in e)T(t,a,n,r,e[a],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=E;else if(!i)return t;return 1===o&&(s=i,i=function(t){return _t().off(t),s.apply(this,arguments)},i.guid=s.guid||(s.guid=_t.guid++)),t.each(function(){_t.event.add(this,e,i,r,n)})}function j(t,e){return _t.nodeName(t,"table")&&_t.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t:t}function F(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function S(t){var e=oe.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function O(t,e){var n,r,i,o,s,a,u,c;if(1===e.nodeType){if(It.hasData(t)&&(o=It.access(t),s=It.set(e,o),c=o.events)){delete s.handle,s.events={};for(i in c)for(n=0,r=c[i].length;n<r;n++)_t.event.add(e,i,c[i][n])}Ht.hasData(t)&&(a=Ht.access(t),u=_t.extend({},a),Ht.set(e,u))}}function P(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Qt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function R(t,e,n,r){e=st.apply([],e);var i,o,a,u,c,l,f=0,p=t.length,h=p-1,d=e[0],v=_t.isFunction(d);if(v||p>1&&"string"==typeof d&&!dt.checkClone&&ie.test(d))return t.each(function(i){var o=t.eq(i);v&&(e[0]=d.call(this,i,o.html())),R(o,e,n,r)});if(p&&(i=x(e,t[0].ownerDocument,!1,t,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=_t.map(b(i,"script"),F),u=a.length;f<p;f++)c=i,f!==h&&(c=_t.clone(c,!0,!0),u&&_t.merge(a,b(c,"script"))),n.call(t[f],c,f);if(u)for(l=a[a.length-1].ownerDocument,_t.map(a,S),f=0;f<u;f++)c=a[f],Gt.test(c.type||"")&&!It.access(c,"globalEval")&&_t.contains(l,c)&&(c.src?_t._evalUrl&&_t._evalUrl(c.src):s(c.textContent.replace(se,""),l))}return t}function A(t,e,n){for(var r,i=e?_t.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||_t.cleanData(b(r)),r.parentNode&&(n&&_t.contains(r.ownerDocument,r)&&w(b(r,"script")),r.parentNode.removeChild(r));return t}function D(t,e,n){var r,i,o,s,a=t.style;return n=n||ce(t),n&&(s=n.getPropertyValue(e)||n[e],""!==s||_t.contains(t.ownerDocument,t)||(s=_t.style(t,e)),!dt.pixelMarginRight()&&ue.test(s)&&ae.test(e)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function N(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function L(t){if(t in de)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=he.length;n--;)if(t=he[n]+e,t in de)return t}function I(t,e,n){var r=Ut.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function H(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=_t.css(t,n+Vt[o],!0,i)),r?("content"===n&&(s-=_t.css(t,"padding"+Vt[o],!0,i)),"margin"!==n&&(s-=_t.css(t,"border"+Vt[o]+"Width",!0,i))):(s+=_t.css(t,"padding"+Vt[o],!0,i),"padding"!==n&&(s+=_t.css(t,"border"+Vt[o]+"Width",!0,i)));return s}function M(t,e,n){var r,i=!0,o=ce(t),s="border-box"===_t.css(t,"boxSizing",!1,o);if(t.getClientRects().length&&(r=t.getBoundingClientRect()[e]),r<=0||null==r){if(r=D(t,e,o),(r<0||null==r)&&(r=t.style[e]),ue.test(r))return r;i=s&&(dt.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+H(t,e,n||(s?"border":"content"),i,o)+"px"}function B(t,e,n,r,i){return new B.prototype.init(t,e,n,r,i)}function q(){_e&&(n.requestAnimationFrame(q),_t.fx.tick())}function U(){return n.setTimeout(function(){ve=void 0}),ve=_t.now()}function V(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)n=Vt[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function $(t,e,n){for(var r,i=(Q.tweeners[e]||[]).concat(Q.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,e,t))return r}function W(t,e,n){var r,i,o,s,a,u,c,l,f="width"in e||"height"in e,p=this,h={},d=t.style,v=t.nodeType&&$t(t),_=It.get(t,"fxshow");n.queue||(s=_t._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,p.always(function(){p.always(function(){s.unqueued--,_t.queue(t,"fx").length||s.empty.fire()})}));for(r in e)if(i=e[r],ye.test(i)){if(delete e[r],o=o||"toggle"===i,i===(v?"hide":"show")){if("show"!==i||!_||void 0===_[r])continue;v=!0}h[r]=_&&_[r]||_t.style(t,r)}if(u=!_t.isEmptyObject(e),u||!_t.isEmptyObject(h)){f&&1===t.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],c=_&&_.display,null==c&&(c=It.get(t,"display")),l=_t.css(t,"display"),"none"===l&&(c?l=c:(g([t],!0),c=t.style.display||c,l=_t.css(t,"display"),g([t]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===_t.css(t,"float")&&(u||(p.done(function(){d.display=c}),null==c&&(l=d.display,c="none"===l?"":l)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",p.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),u=!1;for(r in h)u||(_?"hidden"in _&&(v=_.hidden):_=It.access(t,"fxshow",{display:c}),o&&(_.hidden=!v),v&&g([t],!0),p.done(function(){v||g([t]),It.remove(t,"fxshow");for(r in h)_t.style(t,r,h[r])})),u=$(v?_[r]:0,r,p),r in _||(_[r]=u.start,v&&(u.end=u.start,u.start=0))}}function z(t,e){var n,r,i,o,s;for(n in t)if(r=_t.camelCase(n),i=e[r],o=t[n],_t.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),s=_t.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function Q(t,e,n){var r,i,o=0,s=Q.prefilters.length,a=_t.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=ve||U(),n=Math.max(0,c.startTime+c.duration-e),r=n/c.duration||0,o=1-r,s=0,u=c.tweens.length;s<u;s++)c.tweens[s].run(o);return a.notifyWith(t,[c,o,n]),o<1&&u?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:_t.extend({},e),opts:_t.extend(!0,{specialEasing:{},easing:_t.easing._default},n),originalProperties:e,originalOptions:n,startTime:ve||U(),duration:n.duration,tweens:[],createTween:function(e,n){var r=_t.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),l=c.props;for(z(l,c.opts.specialEasing);o<s;o++)if(r=Q.prefilters[o].call(c,t,l,c.opts))return _t.isFunction(r.stop)&&(_t._queueHooks(c.elem,c.opts.queue).stop=_t.proxy(r.stop,r)),r;return _t.map(l,$,c),_t.isFunction(c.opts.start)&&c.opts.start.call(t,c),_t.fx.timer(_t.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function X(t){return t.getAttribute&&t.getAttribute("class")||""}function G(t,e,n,r){var i;if(_t.isArray(e))_t.each(e,function(e,i){n||Oe.test(t)?r(t,i):G(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==_t.type(e))r(t,e);else for(i in e)G(t+"["+i+"]",e[i],n,r)}function K(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(Rt)||[];if(_t.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function J(t,e,n,r){function i(a){var u;return o[a]=!0,_t.each(t[a]||[],function(t,a){var c=a(e,n,r);return"string"!=typeof c||s||o[c]?s?!(u=c):void 0:(e.dataTypes.unshift(c),i(c),!1)}),u}var o={},s=t===Ue;return i(e.dataTypes[0])||!o["*"]&&i("*")}function Y(t,e){var n,r,i=_t.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&_t.extend(!0,t,r),t}function Z(t,e,n){for(var r,i,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}function tt(t,e,n,r){var i,o,s,a,u,c={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=c[u+" "+o]||c["* "+o],!s)for(i in c)if(a=i.split(" "),a[1]===o&&(s=c[u+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[i]:c[i]!==!0&&(o=a[0],l.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(f){return{state:"parsererror",error:s?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function et(t){return _t.isWindow(t)?t:9===t.nodeType&&t.defaultView}var nt=[],rt=n.document,it=Object.getPrototypeOf,ot=nt.slice,st=nt.concat,at=nt.push,ut=nt.indexOf,ct={},lt=ct.toString,ft=ct.hasOwnProperty,pt=ft.toString,ht=pt.call(Object),dt={},vt="3.1.0",_t=function(t,e){return new _t.fn.init(t,e)},yt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,mt=/^-ms-/,gt=/-([a-z])/g,bt=function(t,e){return e.toUpperCase()};_t.fn=_t.prototype={jquery:vt,constructor:_t,length:0,toArray:function(){return ot.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:ot.call(this)},pushStack:function(t){var e=_t.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return _t.each(this,t)},map:function(t){return this.pushStack(_t.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(ot.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:at,sort:nt.sort,splice:nt.splice},_t.extend=_t.fn.extend=function(){var t,e,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||_t.isFunction(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],r=t[e],s!==r&&(c&&r&&(_t.isPlainObject(r)||(i=_t.isArray(r)))?(i?(i=!1,o=n&&_t.isArray(n)?n:[]):o=n&&_t.isPlainObject(n)?n:{},s[e]=_t.extend(c,o,r)):void 0!==r&&(s[e]=r));return s},_t.extend({expando:"jQuery"+(vt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===_t.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=_t.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==lt.call(t))&&(!(e=it(t))||(n=ft.call(e,"constructor")&&e.constructor,"function"==typeof n&&pt.call(n)===ht))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ct[lt.call(t)]||"object":typeof t},globalEval:function(t){s(t)},camelCase:function(t){return t.replace(mt,"ms-").replace(gt,bt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,r=0;if(a(t))for(n=t.length;r<n&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(yt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(a(Object(t))?_t.merge(n,"string"==typeof t?[t]:t):at.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:ut.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r,i=[],o=0,s=t.length,a=!n;o<s;o++)r=!e(t[o],o),r!==a&&i.push(t[o]);return i},map:function(t,e,n){var r,i,o=0,s=[];if(a(t))for(r=t.length;o<r;o++)i=e(t[o],o,n),null!=i&&s.push(i);else for(o in t)i=e(t[o],o,n),null!=i&&s.push(i);return st.apply([],s)},guid:1,proxy:function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),_t.isFunction(t))return r=ot.call(arguments,2),i=function(){return t.apply(e||this,r.concat(ot.call(arguments)))},i.guid=t.guid=t.guid||_t.guid++,i},now:Date.now,support:dt}),"function"==typeof Symbol&&(_t.fn[Symbol.iterator]=nt[Symbol.iterator]),_t.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ct["[object "+e+"]"]=e.toLowerCase()});var wt=/*!
	 * Sizzle CSS Selector Engine v2.3.0
	 * https://sizzlejs.com/
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 *
	 * Date: 2016-01-04
	 */
function(t){function e(t,e,n,r){var i,o,s,a,u,c,l,p=e&&e.ownerDocument,d=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==d&&9!==d&&11!==d)return n;if(!r&&((e?e.ownerDocument||e:q)!==A&&R(e),e=e||A,N)){if(11!==d&&(u=yt.exec(t)))if(i=u[1]){if(9===d){if(!(s=e.getElementById(i)))return n;if(s.id===i)return n.push(s),n}else if(p&&(s=p.getElementById(i))&&M(e,s)&&s.id===i)return n.push(s),n}else{if(u[2])return Y.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&x.getElementsByClassName&&e.getElementsByClassName)return Y.apply(n,e.getElementsByClassName(i)),n}if(x.qsa&&!z[t+" "]&&(!L||!L.test(t))){if(1!==d)p=e,l=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(wt,xt):e.setAttribute("id",a=B),c=T(t),o=c.length;o--;)c[o]="#"+a+" "+h(c[o]);l=c.join(","),p=mt.test(t)&&f(e.parentNode)||e}if(l)try{return Y.apply(n,p.querySelectorAll(l)),n}catch(v){}finally{a===B&&e.removeAttribute("id")}}}return F(t.replace(at,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>C.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[B]=!0,t}function i(t){var e=A.createElement("fieldset");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=n.length;r--;)C.attrHandle[n[r]]=e}function s(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return function(e){return"label"in e&&e.disabled===t||"form"in e&&e.disabled===t||"form"in e&&e.disabled===!1&&(e.isDisabled===t||e.isDisabled!==!t&&("label"in e||!Et(e))!==t)}}function l(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function f(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function p(){}function h(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function d(t,e,n){var r=e.dir,i=e.next,o=i||r,s=n&&"parentNode"===o,a=V++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||s)return t(e,n,i)}:function(e,n,u){var c,l,f,p=[U,a];if(u){for(;e=e[r];)if((1===e.nodeType||s)&&t(e,n,u))return!0}else for(;e=e[r];)if(1===e.nodeType||s)if(f=e[B]||(e[B]={}),l=f[e.uniqueID]||(f[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((c=l[o])&&c[0]===U&&c[1]===a)return p[2]=c[2];if(l[o]=p,p[2]=t(e,n,u))return!0}}}function v(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function _(t,n,r){for(var i=0,o=n.length;i<o;i++)e(t,n[i],r);return r}function y(t,e,n,r,i){for(var o,s=[],a=0,u=t.length,c=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,r,i)||(s.push(o),c&&e.push(a)));return s}function m(t,e,n,i,o,s){return i&&!i[B]&&(i=m(i)),o&&!o[B]&&(o=m(o,s)),r(function(r,s,a,u){var c,l,f,p=[],h=[],d=s.length,v=r||_(e||"*",a.nodeType?[a]:a,[]),m=!t||!r&&e?v:y(v,p,t,a,u),g=n?o||(r?t:d||i)?[]:s:m;if(n&&n(m,g,a,u),i)for(c=y(g,h),i(c,[],a,u),l=c.length;l--;)(f=c[l])&&(g[h[l]]=!(m[h[l]]=f));if(r){if(o||t){if(o){for(c=[],l=g.length;l--;)(f=g[l])&&c.push(m[l]=f);o(null,g=[],c,u)}for(l=g.length;l--;)(f=g[l])&&(c=o?tt(r,f):p[l])>-1&&(r[c]=!(s[c]=f))}}else g=y(g===s?g.splice(d,g.length):g),o?o(null,s,g,u):Y.apply(s,g)})}function g(t){for(var e,n,r,i=t.length,o=C.relative[t[0].type],s=o||C.relative[" "],a=o?1:0,u=d(function(t){return t===e},s,!0),c=d(function(t){return tt(e,t)>-1},s,!0),l=[function(t,n,r){var i=!o&&(r||n!==S)||((e=n).nodeType?u(t,n,r):c(t,n,r));return e=null,i}];a<i;a++)if(n=C.relative[t[a].type])l=[d(v(l),n)];else{if(n=C.filter[t[a].type].apply(null,t[a].matches),n[B]){for(r=++a;r<i&&!C.relative[t[r].type];r++);return m(a>1&&v(l),a>1&&h(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),n,a<r&&g(t.slice(a,r)),r<i&&g(t=t.slice(r)),r<i&&h(t))}l.push(n)}return v(l)}function b(t,n){var i=n.length>0,o=t.length>0,s=function(r,s,a,u,c){var l,f,p,h=0,d="0",v=r&&[],_=[],m=S,g=r||o&&C.find.TAG("*",c),b=U+=null==m?1:Math.random()||.1,w=g.length;for(c&&(S=s===A||s||c);d!==w&&null!=(l=g[d]);d++){if(o&&l){for(f=0,s||l.ownerDocument===A||(R(l),a=!N);p=t[f++];)if(p(l,s||A,a)){u.push(l);break}c&&(U=b)}i&&((l=!p&&l)&&h--,r&&v.push(l))}if(h+=d,i&&d!==h){for(f=0;p=n[f++];)p(v,_,s,a);if(r){if(h>0)for(;d--;)v[d]||_[d]||(_[d]=K.call(u));_=y(_)}Y.apply(u,_),c&&!r&&_.length>0&&h+n.length>1&&e.uniqueSort(u)}return c&&(U=b,S=m),v};return i?r(s):s}var w,x,C,E,k,T,j,F,S,O,P,R,A,D,N,L,I,H,M,B="sizzle"+1*new Date,q=t.document,U=0,V=0,$=n(),W=n(),z=n(),Q=function(t,e){return t===e&&(P=!0),0},X={}.hasOwnProperty,G=[],K=G.pop,J=G.push,Y=G.push,Z=G.slice,tt=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",it="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",ot=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),lt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ft=new RegExp(ot),pt=new RegExp("^"+rt+"$"),ht={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},dt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,_t=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mt=/[+~]/,gt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),bt=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},wt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,xt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},Ct=function(){R()},Et=d(function(t){return t.disabled===!0},{dir:"parentNode",next:"legend"});try{Y.apply(G=Z.call(q.childNodes),q.childNodes),G[q.childNodes.length].nodeType}catch(kt){Y={apply:G.length?function(t,e){J.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}x=e.support={},k=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},R=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:q;return r!==A&&9===r.nodeType&&r.documentElement?(A=r,D=A.documentElement,N=!k(A),q!==A&&(n=A.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),x.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=i(function(t){return t.appendChild(A.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=_t.test(A.getElementsByClassName),x.getById=i(function(t){return D.appendChild(t).id=B,!A.getElementsByName||!A.getElementsByName(B).length}),x.getById?(C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&N){var n=e.getElementById(t);return n?[n]:[]}},C.filter.ID=function(t){var e=t.replace(gt,bt);return function(t){return t.getAttribute("id")===e}}):(delete C.find.ID,C.filter.ID=function(t){var e=t.replace(gt,bt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),C.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},C.find.CLASS=x.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&N)return e.getElementsByClassName(t)},I=[],L=[],(x.qsa=_t.test(A.querySelectorAll))&&(i(function(t){D.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+B+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||L.push(".#.+[+~]")}),i(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=A.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+nt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&L.push(":enabled",":disabled"),D.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(x.matchesSelector=_t.test(H=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&i(function(t){x.disconnectedMatch=H.call(t,"*"),H.call(t,"[s!='']:x"),I.push("!=",ot)}),L=L.length&&new RegExp(L.join("|")),I=I.length&&new RegExp(I.join("|")),e=_t.test(D.compareDocumentPosition),M=e||_t.test(D.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},Q=e?function(t,e){if(t===e)return P=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!x.sortDetached&&e.compareDocumentPosition(t)===n?t===A||t.ownerDocument===q&&M(q,t)?-1:e===A||e.ownerDocument===q&&M(q,e)?1:O?tt(O,t)-tt(O,e):0:4&n?-1:1)}:function(t,e){if(t===e)return P=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,a=[t],u=[e];if(!i||!o)return t===A?-1:e===A?1:i?-1:o?1:O?tt(O,t)-tt(O,e):0;if(i===o)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;a[r]===u[r];)r++;return r?s(a[r],u[r]):a[r]===q?-1:u[r]===q?1:0},A):A},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==A&&R(t),n=n.replace(lt,"='$1']"),x.matchesSelector&&N&&!z[n+" "]&&(!I||!I.test(n))&&(!L||!L.test(n)))try{var r=H.call(t,n);if(r||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,A,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==A&&R(t),M(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==A&&R(t);var n=C.attrHandle[e.toLowerCase()],r=n&&X.call(C.attrHandle,e.toLowerCase())?n(t,e,!N):void 0;return void 0!==r?r:x.attributes||!N?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.escape=function(t){return(t+"").replace(wt,xt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(P=!x.detectDuplicates,O=!x.sortStable&&t.slice(0),t.sort(Q),P){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return O=null,t},E=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=E(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=E(e);return n},C=e.selectors={cacheLength:50,createPseudo:r,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(gt,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(gt,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ht.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ft.test(n)&&(e=T(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(gt,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=$[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&$(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(st," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var c,l,f,p,h,d,v=o!==s?"nextSibling":"previousSibling",_=e.parentNode,y=a&&e.nodeName.toLowerCase(),m=!u&&!a,g=!1;if(_){if(o){for(;v;){for(p=e;p=p[v];)if(a?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;d=v="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?_.firstChild:_.lastChild],s&&m){for(p=_,f=p[B]||(p[B]={}),l=f[p.uniqueID]||(f[p.uniqueID]={}),c=l[t]||[],h=c[0]===U&&c[1],g=h&&c[2],p=h&&_.childNodes[h];p=++h&&p&&p[v]||(g=h=0)||d.pop();)if(1===p.nodeType&&++g&&p===e){l[t]=[U,h,g];break}}else if(m&&(p=e,f=p[B]||(p[B]={}),l=f[p.uniqueID]||(f[p.uniqueID]={}),c=l[t]||[],h=c[0]===U&&c[1],g=h),g===!1)for(;(p=++h&&p&&p[v]||(g=h=0)||d.pop())&&((a?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++g||(m&&(f=p[B]||(p[B]={}),l=f[p.uniqueID]||(f[p.uniqueID]={}),l[t]=[U,g]),p!==e)););return g-=i,g===r||g%r===0&&g/r>=0}}},PSEUDO:function(t,n){var i,o=C.pseudos[t]||C.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[B]?o(n):o.length>1?(i=[t,t,"",n],C.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),s=i.length;s--;)r=tt(t,i[s]),t[r]=!(e[r]=i[s])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=j(t.replace(at,"$1"));return i[B]?r(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(gt,bt),function(e){return(e.textContent||e.innerText||E(e)).indexOf(t)>-1}}),lang:r(function(t){return pt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(gt,bt).toLowerCase(),function(e){var n;do if(n=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===D},focus:function(t){return t===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:c(!1),disabled:c(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return vt.test(t.nodeName)},input:function(t){return dt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[n<0?n+e:n]}),even:l(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t}),gt:l(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}},C.pseudos.nth=C.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=u(w);return p.prototype=C.filters=C.pseudos,C.setFilters=new p,T=e.tokenize=function(t,n){var r,i,o,s,a,u,c,l=W[t+" "];if(l)return n?0:l.slice(0);for(a=t,u=[],c=C.preFilter;a;){r&&!(i=ut.exec(a))||(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=ct.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(at," ")}),a=a.slice(r.length));for(s in C.filter)!(i=ht[s].exec(a))||c[s]&&!(i=c[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?e.error(t):W(t,u).slice(0)},j=e.compile=function(t,e){var n,r=[],i=[],o=z[t+" "];if(!o){for(e||(e=T(t)),n=e.length;n--;)o=g(e[n]),o[B]?r.push(o):i.push(o);o=z(t,b(i,r)),o.selector=t}return o},F=e.select=function(t,e,n,r){var i,o,s,a,u,c="function"==typeof t&&t,l=!r&&T(t=c.selector||t);if(n=n||[],1===l.length){if(o=l[0]=l[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&x.getById&&9===e.nodeType&&N&&C.relative[o[1].type]){if(e=(C.find.ID(s.matches[0].replace(gt,bt),e)||[])[0],!e)return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=ht.needsContext.test(t)?0:o.length;i--&&(s=o[i],!C.relative[a=s.type]);)if((u=C.find[a])&&(r=u(s.matches[0].replace(gt,bt),mt.test(o[0].type)&&f(e.parentNode)||e))){if(o.splice(i,1),t=r.length&&h(o),!t)return Y.apply(n,r),n;break}}return(c||j(t,l))(r,e,!N,n,!e||mt.test(t)&&f(e.parentNode)||e),n},x.sortStable=B.split("").sort(Q).join("")===B,x.detectDuplicates=!!P,R(),x.sortDetached=i(function(t){return 1&t.compareDocumentPosition(A.createElement("fieldset"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var r;if(!n)return t[e]===!0?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(n);_t.find=wt,_t.expr=wt.selectors,_t.expr[":"]=_t.expr.pseudos,_t.uniqueSort=_t.unique=wt.uniqueSort,_t.text=wt.getText,_t.isXMLDoc=wt.isXML,_t.contains=wt.contains,_t.escapeSelector=wt.escape;var xt=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&_t(t).is(n))break;r.push(t)}return r},Ct=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},Et=_t.expr.match.needsContext,kt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Tt=/^.[^:#\[\.,]*$/;_t.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?_t.find.matchesSelector(r,t)?[r]:[]:_t.find.matches(t,_t.grep(e,function(t){return 1===t.nodeType}))},_t.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(_t(t).filter(function(){for(e=0;e<r;e++)if(_t.contains(i[e],this))return!0}));for(n=this.pushStack([]),e=0;e<r;e++)_t.find(t,i[e],n);return r>1?_t.uniqueSort(n):n},filter:function(t){return this.pushStack(u(this,t||[],!1))},not:function(t){return this.pushStack(u(this,t||[],!0))},is:function(t){return!!u(this,"string"==typeof t&&Et.test(t)?_t(t):t||[],!1).length}});var jt,Ft=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,St=_t.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||jt,"string"==typeof t){if(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Ft.exec(t),!r||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof _t?e[0]:e,_t.merge(this,_t.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:rt,!0)),kt.test(r[1])&&_t.isPlainObject(e))for(r in e)_t.isFunction(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return i=rt.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):_t.isFunction(t)?void 0!==n.ready?n.ready(t):t(_t):_t.makeArray(t,this)};St.prototype=_t.fn,jt=_t(rt);var Ot=/^(?:parents|prev(?:Until|All))/,Pt={children:!0,contents:!0,next:!0,prev:!0};_t.fn.extend({has:function(t){var e=_t(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(_t.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,i=this.length,o=[],s="string"!=typeof t&&_t(t);if(!Et.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&_t.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?_t.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?ut.call(_t(t),this[0]):ut.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(_t.uniqueSort(_t.merge(this.get(),_t(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),_t.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return xt(t,"parentNode")},parentsUntil:function(t,e,n){return xt(t,"parentNode",n)},next:function(t){return c(t,"nextSibling")},prev:function(t){return c(t,"previousSibling")},nextAll:function(t){return xt(t,"nextSibling")},prevAll:function(t){return xt(t,"previousSibling")},nextUntil:function(t,e,n){return xt(t,"nextSibling",n)},prevUntil:function(t,e,n){return xt(t,"previousSibling",n)},siblings:function(t){return Ct((t.parentNode||{}).firstChild,t)},children:function(t){return Ct(t.firstChild)},contents:function(t){return t.contentDocument||_t.merge([],t.childNodes)}},function(t,e){_t.fn[t]=function(n,r){var i=_t.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=_t.filter(r,i)),this.length>1&&(Pt[t]||_t.uniqueSort(i),Ot.test(t)&&i.reverse()),this.pushStack(i)}});var Rt=/\S+/g;_t.Callbacks=function(t){t="string"==typeof t?l(t):_t.extend({},t);var e,n,r,i,o=[],s=[],a=-1,u=function(){for(i=t.once,r=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)o[a].apply(n[0],n[1])===!1&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function r(e){_t.each(e,function(e,n){_t.isFunction(n)?t.unique&&c.has(n)||o.push(n):n&&n.length&&"string"!==_t.type(n)&&r(n)})}(arguments),n&&!e&&u()),this},remove:function(){return _t.each(arguments,function(t,e){for(var n;(n=_t.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(t){return t?_t.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},_t.extend({Deferred:function(t){var e=[["notify","progress",_t.Callbacks("memory"),_t.Callbacks("memory"),2],["resolve","done",_t.Callbacks("once memory"),_t.Callbacks("once memory"),0,"resolved"],["reject","fail",_t.Callbacks("once memory"),_t.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(t){return i.then(null,t)},pipe:function(){var t=arguments;return _t.Deferred(function(n){_t.each(e,function(e,r){var i=_t.isFunction(t[r[4]])&&t[r[4]];o[r[1]](function(){var t=i&&i.apply(this,arguments);t&&_t.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[t]:arguments)})}),t=null}).promise()},then:function(t,r,i){function o(t,e,r,i){return function(){var a=this,u=arguments,c=function(){var n,c;if(!(t<s)){if(n=r.apply(a,u),n===e.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,_t.isFunction(c)?i?c.call(n,o(s,e,f,i),o(s,e,p,i)):(s++,c.call(n,o(s,e,f,i),o(s,e,p,i),o(s,e,f,e.notifyWith))):(r!==f&&(a=void 0,u=[n]),(i||e.resolveWith)(a,u))}},l=i?c:function(){try{c()}catch(n){_t.Deferred.exceptionHook&&_t.Deferred.exceptionHook(n,l.stackTrace),t+1>=s&&(r!==p&&(a=void 0,u=[n]),e.rejectWith(a,u))}};t?l():(_t.Deferred.getStackHook&&(l.stackTrace=_t.Deferred.getStackHook()),n.setTimeout(l))}}var s=0;return _t.Deferred(function(n){e[0][3].add(o(0,n,_t.isFunction(i)?i:f,n.notifyWith)),e[1][3].add(o(0,n,_t.isFunction(t)?t:f)),e[2][3].add(o(0,n,_t.isFunction(r)?r:p))}).promise()},promise:function(t){return null!=t?_t.extend(t,i):i}},o={};return _t.each(e,function(t,n){var s=n[2],a=n[5];i[n[1]]=s.add,a&&s.add(function(){r=a},e[3-t][2].disable,e[0][2].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),i=ot.call(arguments),o=_t.Deferred(),s=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?ot.call(arguments):n,--e||o.resolveWith(r,i)}};if(e<=1&&(h(t,o.done(s(n)).resolve,o.reject),"pending"===o.state()||_t.isFunction(i[n]&&i[n].then)))return o.then();for(;n--;)h(i[n],s(n),o.reject);return o.promise()}});var At=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_t.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&At.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},_t.readyException=function(t){n.setTimeout(function(){throw t})};var Dt=_t.Deferred();_t.fn.ready=function(t){return Dt.then(t)["catch"](function(t){_t.readyException(t)}),this},_t.extend({isReady:!1,readyWait:1,holdReady:function(t){t?_t.readyWait++:_t.ready(!0)},ready:function(t){(t===!0?--_t.readyWait:_t.isReady)||(_t.isReady=!0,t!==!0&&--_t.readyWait>0||Dt.resolveWith(rt,[_t]))}}),_t.ready.then=Dt.then,"complete"===rt.readyState||"loading"!==rt.readyState&&!rt.documentElement.doScroll?n.setTimeout(_t.ready):(rt.addEventListener("DOMContentLoaded",d),n.addEventListener("load",d));var Nt=function(t,e,n,r,i,o,s){var a=0,u=t.length,c=null==n;if("object"===_t.type(n)){i=!0;for(a in n)Nt(t,e,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,_t.isFunction(r)||(s=!0),c&&(s?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(_t(t),n)})),e))for(;a<u;a++)e(t[a],n,s?r:r.call(t[a],a,e(t[a],n)));return i?t:c?e.call(t):u?e(t[0],n):o},Lt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};v.uid=1,v.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Lt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[_t.camelCase(e)]=n;else for(r in e)i[_t.camelCase(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][_t.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){_t.isArray(e)?e=e.map(_t.camelCase):(e=_t.camelCase(e),e=e in r?[e]:e.match(Rt)||[]),n=e.length;for(;n--;)delete r[e[n]]}(void 0===e||_t.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!_t.isEmptyObject(e)}};var It=new v,Ht=new v,Mt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Bt=/[A-Z]/g;_t.extend({hasData:function(t){return Ht.hasData(t)||It.hasData(t)},data:function(t,e,n){return Ht.access(t,e,n)},removeData:function(t,e){Ht.remove(t,e)},_data:function(t,e,n){return It.access(t,e,n)},_removeData:function(t,e){It.remove(t,e)}}),_t.fn.extend({data:function(t,e){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(i=Ht.get(o),1===o.nodeType&&!It.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=_t.camelCase(r.slice(5)),_(o,r,i[r])));It.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){Ht.set(this,t)}):Nt(this,function(e){var n;if(o&&void 0===e){if(n=Ht.get(o,t),void 0!==n)return n;if(n=_(o,t),void 0!==n)return n}else this.each(function(){Ht.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Ht.remove(this,t)})}}),_t.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=It.get(t,e),n&&(!r||_t.isArray(n)?r=It.access(t,e,_t.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=_t.queue(t,e),r=n.length,i=n.shift(),o=_t._queueHooks(t,e),s=function(){_t.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return It.get(t,n)||It.access(t,n,{empty:_t.Callbacks("once memory").add(function(){It.remove(t,[e+"queue",n])})})}}),_t.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?_t.queue(this[0],t):void 0===e?this:this.each(function(){var n=_t.queue(this,t,e);_t._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&_t.dequeue(this,t)})},dequeue:function(t){return this.each(function(){_t.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=_t.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=It.get(o[s],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(e)}});var qt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ut=new RegExp("^(?:([+-])=|)("+qt+")([a-z%]*)$","i"),Vt=["Top","Right","Bottom","Left"],$t=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&_t.contains(t.ownerDocument,t)&&"none"===_t.css(t,"display")},Wt=function(t,e,n,r){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=s[o];return i},zt={};_t.fn.extend({show:function(){return g(this,!0)},hide:function(){return g(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){$t(this)?_t(this).show():_t(this).hide()})}});var Qt=/^(?:checkbox|radio)$/i,Xt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Gt=/^$|\/(?:java|ecma)script/i,Kt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Kt.optgroup=Kt.option,Kt.tbody=Kt.tfoot=Kt.colgroup=Kt.caption=Kt.thead,Kt.th=Kt.td;var Jt=/<|&#?\w+;/;!function(){var t=rt.createDocumentFragment(),e=t.appendChild(rt.createElement("div")),n=rt.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),dt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",dt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue;
}();var Yt=rt.documentElement,Zt=/^key/,te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ee=/^([^.]*)(?:\.(.+)|)/;_t.event={global:{},add:function(t,e,n,r,i){var o,s,a,u,c,l,f,p,h,d,v,_=It.get(t);if(_)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&_t.find.matchesSelector(Yt,i),n.guid||(n.guid=_t.guid++),(u=_.events)||(u=_.events={}),(s=_.handle)||(s=_.handle=function(e){return"undefined"!=typeof _t&&_t.event.triggered!==e.type?_t.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Rt)||[""],c=e.length;c--;)a=ee.exec(e[c])||[],h=v=a[1],d=(a[2]||"").split(".").sort(),h&&(f=_t.event.special[h]||{},h=(i?f.delegateType:f.bindType)||h,f=_t.event.special[h]||{},l=_t.extend({type:h,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&_t.expr.match.needsContext.test(i),namespace:d.join(".")},o),(p=u[h])||(p=u[h]=[],p.delegateCount=0,f.setup&&f.setup.call(t,r,d,s)!==!1||t.addEventListener&&t.addEventListener(h,s)),f.add&&(f.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,l):p.push(l),_t.event.global[h]=!0)},remove:function(t,e,n,r,i){var o,s,a,u,c,l,f,p,h,d,v,_=It.hasData(t)&&It.get(t);if(_&&(u=_.events)){for(e=(e||"").match(Rt)||[""],c=e.length;c--;)if(a=ee.exec(e[c])||[],h=v=a[1],d=(a[2]||"").split(".").sort(),h){for(f=_t.event.special[h]||{},h=(r?f.delegateType:f.bindType)||h,p=u[h]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)l=p[o],!i&&v!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(p.splice(o,1),l.selector&&p.delegateCount--,f.remove&&f.remove.call(t,l));s&&!p.length&&(f.teardown&&f.teardown.call(t,d,_.handle)!==!1||_t.removeEvent(t,h,_.handle),delete u[h])}else for(h in u)_t.event.remove(t,h+e[c],n,r,!0);_t.isEmptyObject(u)&&It.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,s,a=_t.event.fix(t),u=new Array(arguments.length),c=(It.get(this,"events")||{})[a.type]||[],l=_t.event.special[a.type]||{};for(u[0]=a,e=1;e<arguments.length;e++)u[e]=arguments[e];if(a.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,a)!==!1){for(s=_t.event.handlers.call(this,a,c),e=0;(i=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,r=((_t.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u),void 0!==r&&(a.result=r)===!1&&(a.preventDefault(),a.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,r,i,o,s=[],a=e.delegateCount,u=t.target;if(a&&u.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==t.type)){for(r=[],n=0;n<a;n++)o=e[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?_t(i,this).index(u)>-1:_t.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},addProp:function(t,e){Object.defineProperty(_t.Event.prototype,t,{enumerable:!0,configurable:!0,get:_t.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[_t.expando]?t:new _t.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==k()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===k()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&_t.nodeName(this,"input"))return this.click(),!1},_default:function(t){return _t.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},_t.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},_t.Event=function(t,e){return this instanceof _t.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?C:E,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&_t.extend(this,e),this.timeStamp=t&&t.timeStamp||_t.now(),void(this[_t.expando]=!0)):new _t.Event(t,e)},_t.Event.prototype={constructor:_t.Event,isDefaultPrevented:E,isPropagationStopped:E,isImmediatePropagationStopped:E,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=C,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=C,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=C,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},_t.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Zt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&te.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},_t.event.addProp),_t.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){_t.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===r||_t.contains(r,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),_t.fn.extend({on:function(t,e,n,r){return T(this,t,e,n,r)},one:function(t,e,n,r){return T(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,_t(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=E),this.each(function(){_t.event.remove(this,t,n,e)})}});var ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,re=/<script|<style|<link/i,ie=/checked\s*(?:[^=]|=\s*.checked.)/i,oe=/^true\/(.*)/,se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;_t.extend({htmlPrefilter:function(t){return t.replace(ne,"<$1></$2>")},clone:function(t,e,n){var r,i,o,s,a=t.cloneNode(!0),u=_t.contains(t.ownerDocument,t);if(!(dt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||_t.isXMLDoc(t)))for(s=b(a),o=b(t),r=0,i=o.length;r<i;r++)P(o[r],s[r]);if(e)if(n)for(o=o||b(t),s=s||b(a),r=0,i=o.length;r<i;r++)O(o[r],s[r]);else O(t,a);return s=b(a,"script"),s.length>0&&w(s,!u&&b(t,"script")),a},cleanData:function(t){for(var e,n,r,i=_t.event.special,o=0;void 0!==(n=t[o]);o++)if(Lt(n)){if(e=n[It.expando]){if(e.events)for(r in e.events)i[r]?_t.event.remove(n,r):_t.removeEvent(n,r,e.handle);n[It.expando]=void 0}n[Ht.expando]&&(n[Ht.expando]=void 0)}}}),_t.fn.extend({detach:function(t){return A(this,t,!0)},remove:function(t){return A(this,t)},text:function(t){return Nt(this,function(t){return void 0===t?_t.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return R(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=j(this,t);e.appendChild(t)}})},prepend:function(){return R(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=j(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return R(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return R(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(_t.cleanData(b(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return _t.clone(this,t,e)})},html:function(t){return Nt(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!re.test(t)&&!Kt[(Xt.exec(t)||["",""])[1].toLowerCase()]){t=_t.htmlPrefilter(t);try{for(;n<r;n++)e=this[n]||{},1===e.nodeType&&(_t.cleanData(b(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return R(this,arguments,function(e){var n=this.parentNode;_t.inArray(this,t)<0&&(_t.cleanData(b(this)),n&&n.replaceChild(e,this))},t)}}),_t.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){_t.fn[t]=function(t){for(var n,r=[],i=_t(t),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),_t(i[s])[e](n),at.apply(r,n.get());return this.pushStack(r)}});var ae=/^margin/,ue=new RegExp("^("+qt+")(?!px)[a-z%]+$","i"),ce=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)};!function(){function t(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Yt.appendChild(s);var t=n.getComputedStyle(a);e="1%"!==t.top,o="2px"===t.marginLeft,r="4px"===t.width,a.style.marginRight="50%",i="4px"===t.marginRight,Yt.removeChild(s),a=null}}var e,r,i,o,s=rt.createElement("div"),a=rt.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",dt.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),_t.extend(dt,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return t(),r},pixelMarginRight:function(){return t(),i},reliableMarginLeft:function(){return t(),o}}))}();var le=/^(none|table(?!-c[ea]).+)/,fe={position:"absolute",visibility:"hidden",display:"block"},pe={letterSpacing:"0",fontWeight:"400"},he=["Webkit","Moz","ms"],de=rt.createElement("div").style;_t.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=D(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,s,a=_t.camelCase(e),u=t.style;return e=_t.cssProps[a]||(_t.cssProps[a]=L(a)||a),s=_t.cssHooks[e]||_t.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(i=s.get(t,!1,r))?i:u[e]:(o=typeof n,"string"===o&&(i=Ut.exec(n))&&i[1]&&(n=y(t,e,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(_t.cssNumber[a]?"":"px")),dt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,r))||(u[e]=n)),void 0)}},css:function(t,e,n,r){var i,o,s,a=_t.camelCase(e);return e=_t.cssProps[a]||(_t.cssProps[a]=L(a)||a),s=_t.cssHooks[e]||_t.cssHooks[a],s&&"get"in s&&(i=s.get(t,!0,n)),void 0===i&&(i=D(t,e,r)),"normal"===i&&e in pe&&(i=pe[e]),""===n||n?(o=parseFloat(i),n===!0||isFinite(o)?o||0:i):i}}),_t.each(["height","width"],function(t,e){_t.cssHooks[e]={get:function(t,n,r){if(n)return!le.test(_t.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?M(t,e,r):Wt(t,fe,function(){return M(t,e,r)})},set:function(t,n,r){var i,o=r&&ce(t),s=r&&H(t,e,r,"border-box"===_t.css(t,"boxSizing",!1,o),o);return s&&(i=Ut.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=_t.css(t,e)),I(t,n,s)}}}),_t.cssHooks.marginLeft=N(dt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(D(t,"marginLeft"))||t.getBoundingClientRect().left-Wt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),_t.each({margin:"",padding:"",border:"Width"},function(t,e){_t.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+Vt[r]+e]=o[r]||o[r-2]||o[0];return i}},ae.test(t)||(_t.cssHooks[t+e].set=I)}),_t.fn.extend({css:function(t,e){return Nt(this,function(t,e,n){var r,i,o={},s=0;if(_t.isArray(e)){for(r=ce(t),i=e.length;s<i;s++)o[e[s]]=_t.css(t,e[s],!1,r);return o}return void 0!==n?_t.style(t,e,n):_t.css(t,e)},t,e,arguments.length>1)}}),_t.Tween=B,B.prototype={constructor:B,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||_t.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(_t.cssNumber[n]?"":"px")},cur:function(){var t=B.propHooks[this.prop];return t&&t.get?t.get(this):B.propHooks._default.get(this)},run:function(t){var e,n=B.propHooks[this.prop];return this.options.duration?this.pos=e=_t.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=_t.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){_t.fx.step[t.prop]?_t.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[_t.cssProps[t.prop]]&&!_t.cssHooks[t.prop]?t.elem[t.prop]=t.now:_t.style(t.elem,t.prop,t.now+t.unit)}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},_t.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},_t.fx=B.prototype.init,_t.fx.step={};var ve,_e,ye=/^(?:toggle|show|hide)$/,me=/queueHooks$/;_t.Animation=_t.extend(Q,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return y(n.elem,t,Ut.exec(e),n),n}]},tweener:function(t,e){_t.isFunction(t)?(e=t,t=["*"]):t=t.match(Rt);for(var n,r=0,i=t.length;r<i;r++)n=t[r],Q.tweeners[n]=Q.tweeners[n]||[],Q.tweeners[n].unshift(e)},prefilters:[W],prefilter:function(t,e){e?Q.prefilters.unshift(t):Q.prefilters.push(t)}}),_t.speed=function(t,e,n){var r=t&&"object"==typeof t?_t.extend({},t):{complete:n||!n&&e||_t.isFunction(t)&&t,duration:t,easing:n&&e||e&&!_t.isFunction(e)&&e};return _t.fx.off||rt.hidden?r.duration=0:r.duration="number"==typeof r.duration?r.duration:r.duration in _t.fx.speeds?_t.fx.speeds[r.duration]:_t.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){_t.isFunction(r.old)&&r.old.call(this),r.queue&&_t.dequeue(this,r.queue)},r},_t.fn.extend({fadeTo:function(t,e,n,r){return this.filter($t).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=_t.isEmptyObject(t),o=_t.speed(e,n,r),s=function(){var e=Q(this,_t.extend({},t),o);(i||It.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=_t.timers,s=It.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&me.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||_t.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=It.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=_t.timers,s=r?r.length:0;for(n.finish=!0,_t.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),_t.each(["toggle","show","hide"],function(t,e){var n=_t.fn[e];_t.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(V(e,!0),t,r,i)}}),_t.each({slideDown:V("show"),slideUp:V("hide"),slideToggle:V("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){_t.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),_t.timers=[],_t.fx.tick=function(){var t,e=0,n=_t.timers;for(ve=_t.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||_t.fx.stop(),ve=void 0},_t.fx.timer=function(t){_t.timers.push(t),t()?_t.fx.start():_t.timers.pop()},_t.fx.interval=13,_t.fx.start=function(){_e||(_e=n.requestAnimationFrame?n.requestAnimationFrame(q):n.setInterval(_t.fx.tick,_t.fx.interval))},_t.fx.stop=function(){n.cancelAnimationFrame?n.cancelAnimationFrame(_e):n.clearInterval(_e),_e=null},_t.fx.speeds={slow:600,fast:200,_default:400},_t.fn.delay=function(t,e){return t=_t.fx?_t.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,r){var i=n.setTimeout(e,t);r.stop=function(){n.clearTimeout(i)}})},function(){var t=rt.createElement("input"),e=rt.createElement("select"),n=e.appendChild(rt.createElement("option"));t.type="checkbox",dt.checkOn=""!==t.value,dt.optSelected=n.selected,t=rt.createElement("input"),t.value="t",t.type="radio",dt.radioValue="t"===t.value}();var ge,be=_t.expr.attrHandle;_t.fn.extend({attr:function(t,e){return Nt(this,_t.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){_t.removeAttr(this,t)})}}),_t.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?_t.prop(t,e,n):(1===o&&_t.isXMLDoc(t)||(i=_t.attrHooks[e.toLowerCase()]||(_t.expr.match.bool.test(e)?ge:void 0)),void 0!==n?null===n?void _t.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=_t.find.attr(t,e),null==r?void 0:r))},attrHooks:{type:{set:function(t,e){if(!dt.radioValue&&"radio"===e&&_t.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(Rt);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),ge={set:function(t,e,n){return e===!1?_t.removeAttr(t,n):t.setAttribute(n,n),n}},_t.each(_t.expr.match.bool.source.match(/\w+/g),function(t,e){var n=be[e]||_t.find.attr;be[e]=function(t,e,r){var i,o,s=e.toLowerCase();return r||(o=be[s],be[s]=i,i=null!=n(t,e,r)?s:null,be[s]=o),i}});var we=/^(?:input|select|textarea|button)$/i,xe=/^(?:a|area)$/i;_t.fn.extend({prop:function(t,e){return Nt(this,_t.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[_t.propFix[t]||t]})}}),_t.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&_t.isXMLDoc(t)||(e=_t.propFix[e]||e,i=_t.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=_t.find.attr(t,"tabindex");return e?parseInt(e,10):we.test(t.nodeName)||xe.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),dt.optSelected||(_t.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),_t.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_t.propFix[this.toLowerCase()]=this});var Ce=/[\t\r\n\f]/g;_t.fn.extend({addClass:function(t){var e,n,r,i,o,s,a,u=0;if(_t.isFunction(t))return this.each(function(e){_t(this).addClass(t.call(this,e,X(this)))});if("string"==typeof t&&t)for(e=t.match(Rt)||[];n=this[u++];)if(i=X(n),r=1===n.nodeType&&(" "+i+" ").replace(Ce," ")){for(s=0;o=e[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");a=_t.trim(r),i!==a&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,r,i,o,s,a,u=0;if(_t.isFunction(t))return this.each(function(e){_t(this).removeClass(t.call(this,e,X(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Rt)||[];n=this[u++];)if(i=X(n),r=1===n.nodeType&&(" "+i+" ").replace(Ce," ")){for(s=0;o=e[s++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");a=_t.trim(r),i!==a&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):_t.isFunction(t)?this.each(function(n){_t(this).toggleClass(t.call(this,n,X(this),e),e)}):this.each(function(){var e,r,i,o;if("string"===n)for(r=0,i=_t(this),o=t.match(Rt)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==t&&"boolean"!==n||(e=X(this),e&&It.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":It.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+X(n)+" ").replace(Ce," ").indexOf(e)>-1)return!0;return!1}});var Ee=/\r/g,ke=/[\x20\t\r\n\f]+/g;_t.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=_t.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,_t(this).val()):t,null==i?i="":"number"==typeof i?i+="":_t.isArray(i)&&(i=_t.map(i,function(t){return null==t?"":t+""})),e=_t.valHooks[this.type]||_t.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return e=_t.valHooks[i.type]||_t.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(Ee,""):null==n?"":n)}}}),_t.extend({valHooks:{option:{get:function(t){var e=_t.find.attr(t,"value");return null!=e?e:_t.trim(_t.text(t)).replace(ke," ")}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type,s=o?null:[],a=o?i+1:r.length,u=i<0?a:o?i:0;u<a;u++)if(n=r[u],(n.selected||u===i)&&!n.disabled&&(!n.parentNode.disabled||!_t.nodeName(n.parentNode,"optgroup"))){if(e=_t(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=_t.makeArray(e),s=i.length;s--;)r=i[s],(r.selected=_t.inArray(_t.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),_t.each(["radio","checkbox"],function(){_t.valHooks[this]={set:function(t,e){if(_t.isArray(e))return t.checked=_t.inArray(_t(t).val(),e)>-1}},dt.checkOn||(_t.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Te=/^(?:focusinfocus|focusoutblur)$/;_t.extend(_t.event,{trigger:function(t,e,r,i){var o,s,a,u,c,l,f,p=[r||rt],h=ft.call(t,"type")?t.type:t,d=ft.call(t,"namespace")?t.namespace.split("."):[];if(s=a=r=r||rt,3!==r.nodeType&&8!==r.nodeType&&!Te.test(h+_t.event.triggered)&&(h.indexOf(".")>-1&&(d=h.split("."),h=d.shift(),d.sort()),c=h.indexOf(":")<0&&"on"+h,t=t[_t.expando]?t:new _t.Event(h,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=d.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=null==e?[t]:_t.makeArray(e,[t]),f=_t.event.special[h]||{},i||!f.trigger||f.trigger.apply(r,e)!==!1)){if(!i&&!f.noBubble&&!_t.isWindow(r)){for(u=f.delegateType||h,Te.test(u+h)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(r.ownerDocument||rt)&&p.push(a.defaultView||a.parentWindow||n)}for(o=0;(s=p[o++])&&!t.isPropagationStopped();)t.type=o>1?u:f.bindType||h,l=(It.get(s,"events")||{})[t.type]&&It.get(s,"handle"),l&&l.apply(s,e),l=c&&s[c],l&&l.apply&&Lt(s)&&(t.result=l.apply(s,e),t.result===!1&&t.preventDefault());return t.type=h,i||t.isDefaultPrevented()||f._default&&f._default.apply(p.pop(),e)!==!1||!Lt(r)||c&&_t.isFunction(r[h])&&!_t.isWindow(r)&&(a=r[c],a&&(r[c]=null),_t.event.triggered=h,r[h](),_t.event.triggered=void 0,a&&(r[c]=a)),t.result}},simulate:function(t,e,n){var r=_t.extend(new _t.Event,n,{type:t,isSimulated:!0});_t.event.trigger(r,null,e)}}),_t.fn.extend({trigger:function(t,e){return this.each(function(){_t.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return _t.event.trigger(t,e,n,!0)}}),_t.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){_t.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),_t.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),dt.focusin="onfocusin"in n,dt.focusin||_t.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){_t.event.simulate(e,t.target,_t.event.fix(t))};_t.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=It.access(r,e);i||r.addEventListener(t,n,!0),It.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=It.access(r,e)-1;i?It.access(r,e,i):(r.removeEventListener(t,n,!0),It.remove(r,e))}}});var je=n.location,Fe=_t.now(),Se=/\?/;_t.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(r){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||_t.error("Invalid XML: "+t),e};var Oe=/\[\]$/,Pe=/\r?\n/g,Re=/^(?:submit|button|image|reset|file)$/i,Ae=/^(?:input|select|textarea|keygen)/i;_t.param=function(t,e){var n,r=[],i=function(t,e){var n=_t.isFunction(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(_t.isArray(t)||t.jquery&&!_t.isPlainObject(t))_t.each(t,function(){i(this.name,this.value)});else for(n in t)G(n,t[n],e,i);return r.join("&")},_t.fn.extend({serialize:function(){return _t.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=_t.prop(this,"elements");return t?_t.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!_t(this).is(":disabled")&&Ae.test(this.nodeName)&&!Re.test(t)&&(this.checked||!Qt.test(t))}).map(function(t,e){var n=_t(this).val();return null==n?null:_t.isArray(n)?_t.map(n,function(t){return{name:e.name,value:t.replace(Pe,"\r\n")}}):{name:e.name,value:n.replace(Pe,"\r\n")}}).get()}});var De=/%20/g,Ne=/#.*$/,Le=/([?&])_=[^&]*/,Ie=/^(.*?):[ \t]*([^\r\n]*)$/gm,He=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Me=/^(?:GET|HEAD)$/,Be=/^\/\//,qe={},Ue={},Ve="*/".concat("*"),$e=rt.createElement("a");$e.href=je.href,_t.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:je.href,type:"GET",isLocal:He.test(je.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ve,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_t.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Y(Y(t,_t.ajaxSettings),e):Y(_t.ajaxSettings,t)},ajaxPrefilter:K(qe),ajaxTransport:K(Ue),ajax:function(t,e){function r(t,e,r,a){var c,p,h,b,w,x=e;l||(l=!0,u&&n.clearTimeout(u),i=void 0,s=a||"",C.readyState=t>0?4:0,c=t>=200&&t<300||304===t,r&&(b=Z(d,C,r)),b=tt(d,b,C,c),c?(d.ifModified&&(w=C.getResponseHeader("Last-Modified"),w&&(_t.lastModified[o]=w),w=C.getResponseHeader("etag"),w&&(_t.etag[o]=w)),204===t||"HEAD"===d.type?x="nocontent":304===t?x="notmodified":(x=b.state,p=b.data,h=b.error,c=!h)):(h=x,!t&&x||(x="error",t<0&&(t=0))),C.status=t,C.statusText=(e||x)+"",c?y.resolveWith(v,[p,x,C]):y.rejectWith(v,[C,x,h]),C.statusCode(g),g=void 0,f&&_.trigger(c?"ajaxSuccess":"ajaxError",[C,d,c?p:h]),m.fireWith(v,[C,x]),f&&(_.trigger("ajaxComplete",[C,d]),--_t.active||_t.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,o,s,a,u,c,l,f,p,h,d=_t.ajaxSetup({},e),v=d.context||d,_=d.context&&(v.nodeType||v.jquery)?_t(v):_t.event,y=_t.Deferred(),m=_t.Callbacks("once memory"),g=d.statusCode||{},b={},w={},x="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(l){if(!a)for(a={};e=Ie.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return l?s:null},setRequestHeader:function(t,e){return null==l&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==l&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)C.always(t[C.status]);else for(e in t)g[e]=[g[e],t[e]];return this},abort:function(t){var e=t||x;return i&&i.abort(e),r(0,e),this}};if(y.promise(C),d.url=((t||d.url||je.href)+"").replace(Be,je.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(Rt)||[""],null==d.crossDomain){c=rt.createElement("a");try{c.href=d.url,c.href=c.href,d.crossDomain=$e.protocol+"//"+$e.host!=c.protocol+"//"+c.host}catch(E){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=_t.param(d.data,d.traditional)),J(qe,d,e,C),l)return C;f=_t.event&&d.global,f&&0===_t.active++&&_t.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Me.test(d.type),o=d.url.replace(Ne,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(De,"+")):(h=d.url.slice(o.length),d.data&&(o+=(Se.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(o=o.replace(Le,""),h=(Se.test(o)?"&":"?")+"_="+Fe++ +h),d.url=o+h),d.ifModified&&(_t.lastModified[o]&&C.setRequestHeader("If-Modified-Since",_t.lastModified[o]),_t.etag[o]&&C.setRequestHeader("If-None-Match",_t.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||e.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ve+"; q=0.01":""):d.accepts["*"]);for(p in d.headers)C.setRequestHeader(p,d.headers[p]);if(d.beforeSend&&(d.beforeSend.call(v,C,d)===!1||l))return C.abort();if(x="abort",m.add(d.complete),C.done(d.success),C.fail(d.error),i=J(Ue,d,e,C)){if(C.readyState=1,f&&_.trigger("ajaxSend",[C,d]),l)return C;d.async&&d.timeout>0&&(u=n.setTimeout(function(){C.abort("timeout")},d.timeout));try{l=!1,i.send(b,r)}catch(E){if(l)throw E;r(-1,E)}}else r(-1,"No Transport");return C},getJSON:function(t,e,n){return _t.get(t,e,n,"json")},getScript:function(t,e){return _t.get(t,void 0,e,"script")}}),_t.each(["get","post"],function(t,e){_t[e]=function(t,n,r,i){return _t.isFunction(n)&&(i=i||r,r=n,n=void 0),_t.ajax(_t.extend({url:t,type:e,dataType:i,data:n,success:r},_t.isPlainObject(t)&&t))}}),_t._evalUrl=function(t){return _t.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},_t.fn.extend({wrapAll:function(t){var e;return this[0]&&(_t.isFunction(t)&&(t=t.call(this[0])),e=_t(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return _t.isFunction(t)?this.each(function(e){_t(this).wrapInner(t.call(this,e))}):this.each(function(){var e=_t(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=_t.isFunction(t);return this.each(function(n){_t(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){_t(this).replaceWith(this.childNodes)}),this}}),_t.expr.pseudos.hidden=function(t){return!_t.expr.pseudos.visible(t)},_t.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},_t.ajaxSettings.xhr=function(){
try{return new n.XMLHttpRequest}catch(t){}};var We={0:200,1223:204},ze=_t.ajaxSettings.xhr();dt.cors=!!ze&&"withCredentials"in ze,dt.ajax=ze=!!ze,_t.ajaxTransport(function(t){var e,r;if(dt.cors||ze&&!t.crossDomain)return{send:function(i,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(s in i)a.setRequestHeader(s,i[s]);e=function(t){return function(){e&&(e=r=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(We[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),r=a.onerror=e("error"),void 0!==a.onabort?a.onabort=r:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){e&&r()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(u){if(e)throw u}},abort:function(){e&&e()}}}),_t.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),_t.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return _t.globalEval(t),t}}}),_t.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),_t.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=_t("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),rt.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Qe=[],Xe=/(=)\?(?=&|$)|\?\?/;_t.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Qe.pop()||_t.expando+"_"+Fe++;return this[t]=!0,t}}),_t.ajaxPrefilter("json jsonp",function(t,e,r){var i,o,s,a=t.jsonp!==!1&&(Xe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xe.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=_t.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Xe,"$1"+i):t.jsonp!==!1&&(t.url+=(Se.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||_t.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=n[i],n[i]=function(){s=arguments},r.always(function(){void 0===o?_t(n).removeProp(i):n[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,Qe.push(i)),s&&_t.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),dt.createHTMLDocument=function(){var t=rt.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),_t.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var r,i,o;return e||(dt.createHTMLDocument?(e=rt.implementation.createHTMLDocument(""),r=e.createElement("base"),r.href=rt.location.href,e.head.appendChild(r)):e=rt),i=kt.exec(t),o=!n&&[],i?[e.createElement(i[1])]:(i=x([t],e,o),o&&o.length&&_t(o).remove(),_t.merge([],i.childNodes))},_t.fn.load=function(t,e,n){var r,i,o,s=this,a=t.indexOf(" ");return a>-1&&(r=_t.trim(t.slice(a)),t=t.slice(0,a)),_t.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),s.length>0&&_t.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(r?_t("<div>").append(_t.parseHTML(t)).find(r):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},_t.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){_t.fn[e]=function(t){return this.on(e,t)}}),_t.expr.pseudos.animated=function(t){return _t.grep(_t.timers,function(e){return t===e.elem}).length},_t.offset={setOffset:function(t,e,n){var r,i,o,s,a,u,c,l=_t.css(t,"position"),f=_t(t),p={};"static"===l&&(t.style.position="relative"),a=f.offset(),o=_t.css(t,"top"),u=_t.css(t,"left"),c=("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1,c?(r=f.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),_t.isFunction(e)&&(e=e.call(t,n,_t.extend({},a))),null!=e.top&&(p.top=e.top-a.top+s),null!=e.left&&(p.left=e.left-a.left+i),"using"in e?e.using.call(t,p):f.css(p)}},_t.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){_t.offset.setOffset(this,t,e)});var e,n,r,i,o=this[0];if(o)return o.getClientRects().length?(r=o.getBoundingClientRect(),r.width||r.height?(i=o.ownerDocument,n=et(i),e=i.documentElement,{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r):{top:0,left:0}},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===_t.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),_t.nodeName(t[0],"html")||(r=t.offset()),r={top:r.top+_t.css(t[0],"borderTopWidth",!0),left:r.left+_t.css(t[0],"borderLeftWidth",!0)}),{top:e.top-r.top-_t.css(n,"marginTop",!0),left:e.left-r.left-_t.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===_t.css(t,"position");)t=t.offsetParent;return t||Yt})}}),_t.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;_t.fn[t]=function(r){return Nt(this,function(t,r,i){var o=et(t);return void 0===i?o?o[e]:t[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i)},t,r,arguments.length)}}),_t.each(["top","left"],function(t,e){_t.cssHooks[e]=N(dt.pixelPosition,function(t,n){if(n)return n=D(t,e),ue.test(n)?_t(t).position()[e]+"px":n})}),_t.each({Height:"height",Width:"width"},function(t,e){_t.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){_t.fn[r]=function(i,o){var s=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||o===!0?"margin":"border");return Nt(this,function(e,n,i){var o;return _t.isWindow(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?_t.css(e,n,a):_t.style(e,n,i,a)},e,s?i:void 0,s)}})}),_t.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),_t.parseJSON=JSON.parse,r=[],i=function(){return _t}.apply(e,r),!(void 0!==i&&(t.exports=i));var Ge=n.jQuery,Ke=n.$;return _t.noConflict=function(t){return n.$===_t&&(n.$=Ke),t&&n.jQuery===_t&&(n.jQuery=Ge),_t},o||(n.jQuery=n.$=_t),_t})},function(t,e,n){n(1),t.exports=self.fetch.bind(self)},function(t,e){},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=n(47),o=r(i),s=n(48),a=r(s),u=n(52),c=r(u),l=function(){function t(){(0,o["default"])(this,t)}return(0,a["default"])(t,null,[{key:"isValidUrl",value:function(t){var e=!0,n=!1,r=[/\.pdf$/i,/\.jpg$/i,/\.png$/,/\.gif$/],i=[/^http/];return r.forEach(function(e){n=n||e.test(t)}),i.forEach(function(n){e=e&&n.test(t)}),e&&!n}},{key:"filterUrls",value:function(e){return(e||[]).filter(t.isValidUrl)}},{key:"isBackgroundMsg",value:function(t){return t.url.indexOf("background_page")>-1}},{key:"isPopupMsg",value:function(t){return t.url.indexOf("popup")>-1}},{key:"getCurrentWindowTabs",value:function(){var e=void 0;return e=chrome?new c["default"](function(e,n){chrome.windows.getCurrent({populate:!0},function(r){if(r.tabs){var i=r.tabs.filter(function(e){return t.isValidUrl(e.url)});e(i)}else n(new Error("No tabs!"))})}):new c["default"](function(t){t(null)})}},{key:"getTabsHtml",value:function(t){var e="document.documentElement.outerHTML",n=t.map(function(t){return new c["default"](function(n){chrome.tabs.executeScript(t.id,{code:e},function(e){var r=t;e&&e[0]&&e[0].match(/html/i)?r.html=e[0]:r.html=null,n(r)})})});return c["default"].all(n)}},{key:"getLocalStorage",value:function(t){var e=void 0;return chrome&&(e=new c["default"](function(e){chrome.storage.local.get(t,function(t){e(t)})})),e}},{key:"setLocalStorage",value:function(t){chrome.storage.local.set(t)}},{key:"sendMessage",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];chrome.runtime.sendMessage.apply(chrome.runtime,e)}},{key:"onBackgroundMessage",value:function(e){chrome.runtime.onMessage.addListener(function(n,r){t.isBackgroundMsg(r)&&e(n,r)})}},{key:"onForegroundMessage",value:function(e){chrome.runtime.onMessage.addListener(function(n,r){t.isPopupMsg(r)&&e(n,r)})}},{key:"download",value:function(t){var e=void 0;return chrome&&(e=new c["default"](function(e,n){chrome.downloads.download(t,function(t){var r=chrome.downloads.onChanged.addListener(function(i){i.id===t&&(i.error?(console.log(i.error),chrome.downloads.onChanged.removeListener(r),n(i.error)):i.endTime&&(console.log("end time: ",i.endTime),chrome.downloads.onChanged.removeListener(r),e(i.endTime)))})})})),e}},{key:"baseUrl",value:function(){return chrome.runtime.getManifest().homepage_url}},{key:"getManifest",value:function(){return chrome.runtime.getManifest()}},{key:"getErrorMsg",value:function(e,n){var r=e?e+":  ":"";return r+=n.responseText||t.ERROR_CODES[n.statusText]||t.ERROR_CODES[n.status]||t.ERROR_CODES[n.current]||"Unknown"}}]),t}();l.ERROR_CODES={0:"Server is down. Please try again later.",400:"There was a problem with the request. Is EpubPress up to date?",404:"Resource not found.",500:"Unexpected server error.",503:"Server took too long to respond.",timeout:"Request took too long to complete.",error:void 0,SERVER_FAILED:"Server error while downloading.",SERVER_BAD_CONTENT:"Book could not be found"},t.exports=l},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(49),o=r(i);e["default"]=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o["default"])(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){t.exports={"default":n(50),__esModule:!0}},function(t,e,n){n(51);var r=n(5).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(9);r(r.S+r.F*!n(18),"Object",{defineProperty:n(14).f})},function(t,e,n){(function(e,n,r){/* @preserve
	 * The MIT License (MIT)
	 * 
	 * Copyright (c) 2013-2015 Petka Antonov
	 * 
	 * Permission is hereby granted, free of charge, to any person obtaining a copy
	 * of this software and associated documentation files (the "Software"), to deal
	 * in the Software without restriction, including without limitation the rights
	 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 * copies of the Software, and to permit persons to whom the Software is
	 * furnished to do so, subject to the following conditions:
	 * 
	 * The above copyright notice and this permission notice shall be included in
	 * all copies or substantial portions of the Software.
	 * 
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
	 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	 * THE SOFTWARE.
	 * 
	 */
!function(e){t.exports=e()}(function(){var t,i,o;return function s(t,e,n){function r(o,a){if(!e[o]){if(!t[o]){var u="function"==typeof _dereq_&&_dereq_;if(!a&&u)return u(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=e[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return r(n?n:e)},l,l.exports,s,t,e,n)}return e[o].exports}for(var i="function"==typeof _dereq_&&_dereq_,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,n){"use strict";e.exports=function(t){function e(t){var e=new n(t),r=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),r}var n=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(t,n,r){"use strict";function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new f(16),this._normalQueue=new f(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=l}function o(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function s(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function a(t){this._normalQueue._pushOne(t),this._queueTick()}var u;try{throw new Error}catch(c){u=c}var l=t("./schedule"),f=t("./queue"),p=t("./util");i.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){p.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},i.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(n){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},p.hasDevTools?(i.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?o.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},i.prototype.invoke=function(t,e,n){this._trampolineEnabled?s.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},i.prototype.settlePromises=function(t){this._trampolineEnabled?a.call(this,t):this._schedule(function(){t._settlePromises()})}):(i.prototype.invokeLater=o,i.prototype.invoke=s,i.prototype.settlePromises=a),i.prototype.invokeFirst=function(t,e,n){this._normalQueue.unshift(t,e,n),this._queueTick()},i.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),r=t.shift();e.call(n,r)}else e._settlePromises()}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},n.exports=i,n.exports.firstLineError=u},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},s=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},a=function(t,e){0===(50397184&this._bitField)&&this._resolveCallback(e.target)},u=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var c=n(o),l=new t(e);l._propagateFrom(this,1);var f=this._target();if(l._setBoundTo(c),c instanceof t){var p={promiseRejectionQueued:!1,promise:l,target:f,bindingPromise:c};f._then(e,s,void 0,l,p),c._then(a,u,void 0,l,p),l._setOnCancel(c)}else l._resolveCallback(f);return l},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=this._bitField&-2097153},t.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e,n){"use strict";function r(){try{Promise===o&&(Promise=i)}catch(t){}return o}var i;"undefined"!=typeof Promise&&(i=Promise);var o=t("./promise")();o.noConflict=r,e.exports=o},{"./promise":22}],5:[function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}e.exports=function(e){function n(t,n){var r;if(null!=t&&(r=t[n]),"function"!=typeof r){var i="Object "+a.classString(t)+" has no method '"+a.toString(n)+"'";throw new e.TypeError(i)}return r}function r(t){var e=this.pop(),r=n(t,e);return r.apply(t,this)}function i(t){return t[this]}function o(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}var s,a=t("./util"),u=a.canEvaluate;a.isIdentifier;e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(r,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e,n="number"==typeof t;if(n)e=o;else if(u){var r=s(t);e=null!==r?r:i}else e=i;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),s=o.tryCatch,a=o.errorObj,u=e._async;e.prototype["break"]=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=s(t).call(this._boundValue());r===a&&(this._attachExtraTrace(r.e),u.throwLater(r.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(e){function n(t,n,a){return function(u){var c=a._boundValue();t:for(var l=0;l<t.length;++l){var f=t[l];if(f===Error||null!=f&&f.prototype instanceof Error){if(u instanceof f)return o(n).call(c,u)}else if("function"==typeof f){var p=o(f).call(c,u);if(p===s)return p;if(p)return o(n).call(c,u)}else if(r.isObject(u)){for(var h=i(f),d=0;d<h.length;++d){var v=h[d];if(f[v]!=u[v])continue t}return o(n).call(c,u)}}return e}}var r=t("./util"),i=t("./es5").keys,o=r.tryCatch,s=r.errorObj;return n}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(t){function e(){this._trace=new e.CapturedTrace(r())}function n(){if(i)return new e}function r(){var t=o.length-1;if(t>=0)return o[t]}var i=!1,o=[];return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},e.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},e.prototype._popContext=function(){if(void 0!==this._trace){var t=o.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},e.CapturedTrace=null,e.create=n,e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var n=t.prototype._pushContext,o=t.prototype._popContext,s=t._peekContext,a=t.prototype._peekContext,u=t.prototype._promiseCreated;e.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=o,t._peekContext=s,t.prototype._peekContext=a,t.prototype._promiseCreated=u,i=!1},i=!0,t.prototype._pushContext=e.prototype._pushContext,t.prototype._popContext=e.prototype._popContext,t._peekContext=t.prototype._peekContext=r,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},e}},{}],9:[function(t,n,r){"use strict";n.exports=function(n,r){function i(t,e){return{promise:e}}function o(){return!1}function s(t,e,n){var r=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+M.toString(t));r._attachCancellationCallback(t)})}catch(i){return i}}function a(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?M.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function u(){return this._onCancelField}function c(t){this._onCancelField=t}function l(){this._cancellationParent=void 0,this._onCancelField=void 0}function f(t,e){if(0!==(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function p(t,e){0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function h(){var t=this._boundTo;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function d(){this._trace=new R(this._peekContext())}function v(t,e){if(B(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=E(t);M.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),M.notEnumerableProp(t,"__stackCleaned__",!0)}}}function _(t,e,n,r,i){if(void 0===t&&null!==e&&K){if(void 0!==i&&i._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var o="",s="";if(e._trace){for(var a=e._trace.stack.split("\n"),u=x(a),c=u.length-1;c>=0;--c){var l=u[c];if(!U.test(l)){var f=l.match(V);f&&(o="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(u.length>0)for(var p=u[0],c=0;c<a.length;++c)if(a[c]===p){c>0&&(s="\n"+a[c-1]);break}}var h="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+s;r._warn(h,!0,e)}}function y(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),m(n)}function m(t,e,r){if(st.warnings){var i,o=new H(t);if(e)r._attachExtraTrace(o);else if(st.longStackTraces&&(i=n._peekContext()))i.attachExtraTrace(o);else{var s=E(o);o.stack=s.message+"\n"+s.stack.join("\n")}et("warning",o)||k(o,"",!0)}}function g(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function b(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function w(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],s=-1,a=r.length-1;a>=0;--a)if(r[a]===o){s=a;break}for(var a=s;a>=0;--a){var u=r[a];if(e[i]!==u)break;e.pop(),i--}e=r}}function x(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||$.test(r),o=i&&rt(r);i&&!o&&(z&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function C(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||$.test(r))break}return n>0&&(e=e.slice(n)),e}function E(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?C(t):["    (No stack trace)"],{message:n,stack:x(e)}}function k(t,e,n){if("undefined"!=typeof console){var r;if(M.isObject(t)){var i=t.stack;r=e+W(i,t)}else r=e+String(t);"function"==typeof N?N(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function T(t,e,n,r){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(o){I.throwLater(o)}"unhandledRejection"===t?et(t,n,r)||i||k(n,"Unhandled rejection "):et(t,r)}function j(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"==typeof t.toString?t.toString():M.toString(t);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(e))try{var r=JSON.stringify(t);e=r}catch(i){}0===e.length&&(e="(empty array)")}return"(<"+F(e)+">, no stack trace)"}function F(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function S(){return"function"==typeof ot}function O(t){var e=t.match(it);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function P(t,e){if(S()){for(var n,r,i=t.stack.split("\n"),o=e.stack.split("\n"),s=-1,a=-1,u=0;u<i.length;++u){var c=O(i[u]);if(c){n=c.fileName,s=c.line;break}}for(var u=0;u<o.length;++u){var c=O(o[u]);if(c){r=c.fileName,a=c.line;break}}s<0||a<0||!n||!r||n!==r||s>=a||(rt=function(t){if(q.test(t))return!0;var e=O(t);return!!(e&&e.fileName===n&&s<=e.line&&e.line<=a)})}}function R(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);ot(this,R),e>32&&this.uncycle()}var A,D,N,L=n._getDomain,I=n._async,H=t("./errors").Warning,M=t("./util"),B=M.canAttachTrace,q=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,U=/\((?:timers\.js):\d+:\d+\)/,V=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,$=null,W=null,z=!1,Q=!(0==M.env("BLUEBIRD_DEBUG")),X=!(0==M.env("BLUEBIRD_WARNINGS")||!Q&&!M.env("BLUEBIRD_WARNINGS")),G=!(0==M.env("BLUEBIRD_LONG_STACK_TRACES")||!Q&&!M.env("BLUEBIRD_LONG_STACK_TRACES")),K=0!=M.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(X||!!M.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=t._bitField&-1048577|524288},n.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),I.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){T("rejectionHandled",A,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),T("unhandledRejection",D,t,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(t,e,n){return m(t,e,n||this)},n.onPossiblyUnhandledRejection=function(t){var e=L();D="function"==typeof t?null===e?t:M.domainBind(e,t):void 0},n.onUnhandledRejectionHandled=function(t){var e=L();A="function"==typeof t?null===e?t:M.domainBind(e,t):void 0};var J=function(){};n.longStackTraces=function(){if(I.haveItemsQueued()&&!st.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!st.longStackTraces&&S()){var t=n.prototype._captureStackTrace,e=n.prototype._attachExtraTrace;st.longStackTraces=!0,J=function(){if(I.haveItemsQueued()&&!st.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=t,n.prototype._attachExtraTrace=e,r.deactivateLongStackTraces(),I.enableTrampoline(),st.longStackTraces=!1},n.prototype._captureStackTrace=d,n.prototype._attachExtraTrace=v,r.activateLongStackTraces(),I.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return st.longStackTraces&&S()};var Y=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return M.global.dispatchEvent(t),function(t,e){var n=new CustomEvent(t.toLowerCase(),{detail:e,cancelable:!0});return!M.global.dispatchEvent(n)}}if("function"==typeof Event){var t=new Event("CustomEvent");return M.global.dispatchEvent(t),function(t,e){var n=new Event(t.toLowerCase(),{cancelable:!0});return n.detail=e,!M.global.dispatchEvent(n)}}var t=document.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),M.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!M.global.dispatchEvent(n)}}catch(e){}return function(){return!1}}(),Z=function(){return M.isNode?function(){return e.emit.apply(e,arguments)}:M.global?function(t){var e="on"+t.toLowerCase(),n=M.global[e];return!!n&&(n.apply(M.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),tt={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:i},et=function(t){var e=!1;try{e=Z.apply(null,arguments)}catch(n){I.throwLater(n),e=!0}var r=!1;try{r=Y(t,tt[t].apply(null,arguments))}catch(n){I.throwLater(n),r=!0}return r||e};n.config=function(t){if(t=Object(t),"longStackTraces"in t&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&J()),"warnings"in t){var e=t.warnings;st.warnings=!!e,K=st.warnings,M.isObject(e)&&"wForgottenReturn"in e&&(K=!!e.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!st.cancellation){if(I.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=l,n.prototype._propagateFrom=f,n.prototype._onCancel=u,n.prototype._setOnCancel=c,n.prototype._attachCancellationCallback=a,n.prototype._execute=s,nt=f,st.cancellation=!0}"monitoring"in t&&(t.monitoring&&!st.monitoring?(st.monitoring=!0,n.prototype._fireEvent=et):!t.monitoring&&st.monitoring&&(st.monitoring=!1,n.prototype._fireEvent=o))},n.prototype._fireEvent=o,n.prototype._execute=function(t,e,n){try{t(e,n)}catch(r){return r}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(t){},n.prototype._attachCancellationCallback=function(t){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(t,e){};var nt=p,rt=function(){return!1},it=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;M.inherits(R,Error),r.CapturedTrace=R,R.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;t=this._length=r;for(var r=t-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;r<t;++r){var s=e[r].stack,a=n[s];if(void 0!==a&&a!==r){a>0&&(e[a-1]._parent=void 0,e[a-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var u=r>0?e[r-1]:this;a<t-1?(u._parent=e[a+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var c=u._length+1,l=r-2;l>=0;--l)e[l]._length=c,c++;return}}}},R.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=E(t),n=e.message,r=[e.stack],i=this;void 0!==i;)r.push(x(i.stack.split("\n"))),i=i._parent;w(r),b(r),M.notEnumerableProp(t,"stack",g(n,r)),M.notEnumerableProp(t,"__stackCleaned__",!0)}};var ot=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():j(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,$=t,W=e;var n=Error.captureStackTrace;return rt=function(t){return q.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return $=/@/,W=e,z=!0,function(t){t.stack=(new Error).stack};var i;try{throw new Error}catch(o){i="stack"in o}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(W=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?j(e):e.toString()},null):($=t,W=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(N=function(t){console.warn(t)},M.isNode&&e.stderr.isTTY?N=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:M.isNode||"string"!=typeof(new Error).stack||(N=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var st={warnings:X,longStackTraces:!1,cancellation:!1,monitoring:!1};return G&&n.longStackTraces(),{longStackTraces:function(){return st.longStackTraces},warnings:function(){return st.warnings},cancellation:function(){return st.cancellation},monitoring:function(){return st.monitoring},propagateFromFunction:function(){return nt},boundValueFunction:function(){return h},checkForgottenReturns:_,setBounds:P,warn:m,deprecated:y,CapturedTrace:R,fireDomEvent:Y,fireGlobalEvent:Z}}},{"./errors":12,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype["return"]=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype["throw"]=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1],r=function(){throw e};return this.caught(t,r)},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];r instanceof t&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,e){function n(){return o(this)}function r(t,n){return i(t,n,e,e)}var i=t.reduce,o=t.all;t.prototype.each=function(t){return i(this,t,e,0)._then(n,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,e,e)},t.each=function(t,r){return i(t,r,e,0)._then(n,void 0,void 0,t,void 0)},t.mapSeries=r}},{}],12:[function(t,e,n){"use strict";function r(t,e){function n(r){return this instanceof n?(f(this,"message","string"==typeof r?r:e),f(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return l(n,Error),n}function i(t){return this instanceof i?(f(this,"name","OperationalError"),f(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(f(this,"message",t.message),f(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(t)}var o,s,a=t("./es5"),u=a.freeze,c=t("./util"),l=c.inherits,f=c.notEnumerableProp,p=r("Warning","warning"),h=r("CancellationError","cancellation error"),d=r("TimeoutError","timeout error"),v=r("AggregateError","aggregate error");try{o=TypeError,s=RangeError}catch(_){o=r("TypeError","type error"),s=r("RangeError","range error")}for(var y="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<y.length;++m)"function"==typeof Array.prototype[y[m]]&&(v.prototype[y[m]]=Array.prototype[y[m]]);a.defineProperty(v.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),v.prototype.isOperational=!0;var g=0;v.prototype.toString=function(){var t=Array(4*g+1).join(" "),e="\n"+t+"AggregateError of:\n";g++,t=Array(4*g+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];r=i.join("\n"),e+=r+"\n"}return g--,e},l(i,Error);var b=Error.__BluebirdErrorTypes__;b||(b=u({CancellationError:h,TimeoutError:d,OperationalError:i,RejectionError:i,AggregateError:v}),a.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:o,RangeError:s,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:p}},{"./es5":13,"./util":36}],13:[function(t,e,n){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,s={}.constructor.prototype,a=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e},u=function(t,e){return{value:t[e]}},c=function(t,e,n){return t[e]=n.value,t},l=function(t){return t},f=function(t){try{return Object(t).constructor.prototype}catch(e){return s}},p=function(t){try{return"[object Array]"===o.call(t)}catch(e){return!1}};e.exports={isArray:p,keys:a,names:a,defineProperty:c,getDescriptor:u,freeze:l,getPrototypeOf:f,isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function i(t){this.finallyHandler=t}function o(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function s(){return u.call(this,this.promise._target()._settledValue())}function a(t){if(!o(this,t))return f.e=t,f}function u(t){var r=this.promise,u=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?u.call(r._boundValue()):u.call(r._boundValue(),t);if(void 0!==c){r._setReturnedNonUndefined();var p=n(c,r);if(p instanceof e){if(null!=this.cancelPromise){if(p._isCancelled()){var h=new l("late cancellation observer");return r._attachExtraTrace(h),f.e=h,f}p.isPending()&&p._attachCancellationCallback(new i(this))}return p._then(s,a,void 0,this,void 0)}}}return r.isRejected()?(o(this),f.e=t,f):(o(this),t)}var c=t("./util"),l=e.CancellationError,f=c.errorObj;return r.prototype.isFinallyHandler=function(){return 0===this.type},i.prototype._resultCancelled=function(){o(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,i){return"function"!=typeof t?this.then():this._then(n,i,void 0,new r(this,e,t),void 0)},e.prototype.lastly=e.prototype["finally"]=function(t){return this._passThrough(t,0,u,u)},e.prototype.tap=function(t){return this._passThrough(t,1,u)},r}},{"./util":36}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var s=h(n[o])(t);if(r._popContext(),s===p){r._pushContext();var a=e.reject(p.e);return r._popContext(),a}var u=i(s,r);if(u instanceof e)return u}return null}function u(t,n,i,o){if(s.cancellation()){var a=new e(r),u=this._finallyPromise=new e(r);this._promise=a.lastly(function(){return u}),a._captureStackTrace(),a._setOnCancel(this)}else{var c=this._promise=new e(r);c._captureStackTrace()}this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(d):d,this._yieldedPromise=null,this._cancellationPhase=!1}var c=t("./errors"),l=c.TypeError,f=t("./util"),p=f.errorObj,h=f.tryCatch,d=[];f.inherits(u,o),u.prototype._isResolved=function(){return null===this._promise},u.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},u.prototype._promiseCancelled=function(){if(!this._isResolved()){var t,n="undefined"!=typeof this._generator["return"];if(n)this._promise._pushContext(),t=h(this._generator["return"]).call(this._generator,void 0),this._promise._popContext();else{var r=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),t=h(this._generator["throw"]).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},u.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=h(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},u.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=h(this._generator["throw"]).call(this._generator,t);this._promise._popContext(),this._continue(e)},u.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},u.prototype.promise=function(){return this._promise},u.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},u.prototype._continue=function(t){var n=this._promise;if(t===p)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(t.done===!0)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(!(o instanceof e)&&(o=a(o,this._yieldHandlers,this._promise),null===o))return void this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",r)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var s=o._bitField;0===(50397184&s)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&s)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&s)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},e.coroutine=function(t,e){if("function"!=typeof t)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=u,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r((void 0),(void 0),n,i),s=o.promise();return o._generator=e,o._promiseFulfilled(void 0),s}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+f.classString(t));d.push(t)},e.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");
var r=new u(t,this),i=r.promise();return r._run(e.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){var a=t("./util");a.canEvaluate,a.tryCatch,a.errorObj;e.join=function(){var t,e=arguments.length-1;if(e>0&&"function"==typeof arguments[e]){t=arguments[e];var r}var i=[].slice.call(arguments);t&&i.pop();var r=new n(i).promise();return void 0!==t?r.spread(t):r}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,e,n,r){this.constructor$(t),this._promise._captureStackTrace();var i=c();this._callback=null===i?e:l.domainBind(i,e),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],h.invoke(this._asyncInit,this,void 0)}function u(t,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+l.classString(n));var s=0;if(void 0!==i){if("object"!=typeof i||null===i)return e.reject(new TypeError("options argument must be an object but it is "+l.classString(i)));if("number"!=typeof i.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(i.concurrency)));s=i.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new a(t,n,s,o).promise()}var c=e._getDomain,l=t("./util"),f=l.tryCatch,p=l.errorObj,h=e._async;l.inherits(a,n),a.prototype._asyncInit=function(){this._init$(void 0,-2)},a.prototype._init=function(){},a.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),a=this._preservedValues,u=this._limit;if(n<0){if(n=n*-1-1,r[n]=t,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return r[n]=t,this._queue.push(n),!1;null!==a&&(a[n]=t);var c=this._promise,l=this._callback,h=c._boundValue();c._pushContext();var d=f(l).call(h,t,n,o),v=c._popContext();if(s.checkForgottenReturns(d,v,null!==a?"Promise.filter":"Promise.map",c),d===p)return this._reject(d.e),!0;var _=i(d,this._promise);if(_ instanceof e){_=_._target();var y=_._bitField;if(0===(50397184&y))return u>=1&&this._inFlight++,r[n]=_,_._proxy(this,(n+1)*-1),!1;if(0===(33554432&y))return 0!==(16777216&y)?(this._reject(_._reason()),!0):(this._cancel(),!0);d=_._value()}r[n]=d}var m=++this._totalResolved;return m>=o&&(null!==a?this._filter(r,a):this._resolve(r),!0)},a.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},a.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;o<n;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},a.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return u(this,t,e,null)},e.map=function(t,e,n,r){return u(t,e,n,r)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var s=t("./util"),a=s.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+s.classString(t));return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var i=a(t).apply(this,arguments),s=r._popContext();return o.checkForgottenReturns(i,s,"Promise.method",r),r._resolveFromSyncValue(i),r}},e.attempt=e["try"]=function(t){if("function"!=typeof t)return i("expecting a function but got "+s.classString(t));var r=new e(n);r._captureStackTrace(),r._pushContext();var u;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],l=arguments[2];u=s.isArray(c)?a(t).apply(l,c):a(t).call(l,c)}else u=a(t)();var f=r._popContext();return o.checkForgottenReturns(u,f,"Promise.try",r),r._resolveFromSyncValue(u),r},e.prototype._resolveFromSyncValue=function(t){t===s.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";function r(t){return t instanceof Error&&l.getPrototypeOf(t)===Error.prototype}function i(t){var e;if(r(t)){e=new c(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var n=l.keys(t),i=0;i<n.length;++i){var o=n[i];f.test(o)||(e[o]=t[o])}return e}return s.markAsOriginatingFromRejection(t),t}function o(t,e){return function(n,r){if(null!==t){if(n){var o=i(a(n));t._attachExtraTrace(o),t._reject(o)}else if(e){var s=[].slice.call(arguments,1);t._fulfill(s)}else t._fulfill(r);t=null}}}var s=t("./util"),a=s.maybeWrapAsError,u=t("./errors"),c=u.OperationalError,l=t("./es5"),f=/^(?:name|message|stack|cause)$/;e.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){function n(t,e){var n=this;if(!o.isArray(t))return r.call(n,t,e);var i=a(e).apply(n._boundValue(),[null].concat(t));i===u&&s.throwLater(i.e)}function r(t,e){var n=this,r=n._boundValue(),i=void 0===t?a(e).call(r,null):a(e).call(r,null,t);i===u&&s.throwLater(i.e)}function i(t,e){var n=this;if(!t){var r=new Error(t+"");r.cause=t,t=r}var i=a(e).call(n._boundValue(),t);i===u&&s.throwLater(i.e)}var o=t("./util"),s=e._async,a=o.tryCatch,u=o.errorObj;e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var o=r;void 0!==e&&Object(e).spread&&(o=n),this._then(o,i,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,r){"use strict";n.exports=function(){function r(){}function i(t,e){if("function"!=typeof e)throw new g("expecting a function but got "+d.classString(e));if(t.constructor!==o)throw new g("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function o(t){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,t!==w&&(i(this,t),this._resolveFromExecutor(t)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function s(t){this.promise._resolveCallback(t)}function a(t){this.promise._rejectCallback(t,!1)}function u(t){var e=new o(w);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}var c,l=function(){return new g("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},f=function(){return new o.PromiseInspection(this._target())},p=function(t){return o.reject(new g(t))},h={},d=t("./util");c=d.isNode?function(){var t=e.domain;return void 0===t&&(t=null),t}:function(){return null},d.notEnumerableProp(o,"_getDomain",c);var v=t("./es5"),_=t("./async"),y=new _;v.defineProperty(o,"_async",{value:y});var m=t("./errors"),g=o.TypeError=m.TypeError;o.RangeError=m.RangeError;var b=o.CancellationError=m.CancellationError;o.TimeoutError=m.TimeoutError,o.OperationalError=m.OperationalError,o.RejectionError=m.OperationalError,o.AggregateError=m.AggregateError;var w=function(){},x={},C={},E=t("./thenables")(o,w),k=t("./promise_array")(o,w,E,p,r),T=t("./context")(o),j=T.create,F=t("./debuggability")(o,T),S=(F.CapturedTrace,t("./finally")(o,E)),O=t("./catch_filter")(C),P=t("./nodeback"),R=d.errorObj,A=d.tryCatch;return o.prototype.toString=function(){return"[object Promise]"},o.prototype.caught=o.prototype["catch"]=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),i=0;for(n=0;n<e-1;++n){var o=arguments[n];if(!d.isObject(o))return p("expecting an object but got A catch statement predicate "+d.classString(o));r[i++]=o}return r.length=i,t=arguments[n],this.then(void 0,O(r,t,this))}return this.then(void 0,t)},o.prototype.reflect=function(){return this._then(f,f,void 0,this,void 0)},o.prototype.then=function(t,e){if(F.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+d.classString(t);arguments.length>1&&(n+=", "+d.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},o.prototype.done=function(t,e){var n=this._then(t,e,void 0,void 0,void 0);n._setIsFinal()},o.prototype.spread=function(t){return"function"!=typeof t?p("expecting a function but got "+d.classString(t)):this.all()._then(t,void 0,void 0,x,void 0)},o.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},o.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new k(this).promise()},o.prototype.error=function(t){return this.caught(d.originatesFromRejection,t)},o.getNewLibraryCopy=n.exports,o.is=function(t){return t instanceof o},o.fromNode=o.fromCallback=function(t){var e=new o(w);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=A(t)(P(e,n));return r===R&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},o.all=function(t){return new k(t).promise()},o.cast=function(t){var e=E(t);return e instanceof o||(e=new o(w),e._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},o.resolve=o.fulfilled=o.cast,o.reject=o.rejected=function(t){var e=new o(w);return e._captureStackTrace(),e._rejectCallback(t,!0),e},o.setScheduler=function(t){if("function"!=typeof t)throw new g("expecting a function but got "+d.classString(t));return y.setScheduler(t)},o.prototype._then=function(t,e,n,r,i){var s=void 0!==i,a=s?i:new o(w),u=this._target(),l=u._bitField;s||(a._propagateFrom(this,3),a._captureStackTrace(),void 0===r&&0!==(2097152&this._bitField)&&(r=0!==(50397184&l)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,a));var f=c();if(0!==(50397184&l)){var p,h,v=u._settlePromiseCtx;0!==(33554432&l)?(h=u._rejectionHandler0,p=t):0!==(16777216&l)?(h=u._fulfillmentHandler0,p=e,u._unsetRejectionIsUnhandled()):(v=u._settlePromiseLateCancellationObserver,h=new b("late cancellation observer"),u._attachExtraTrace(h),p=e),y.invoke(v,u,{handler:null===f?p:"function"==typeof p&&d.domainBind(f,p),promise:a,receiver:r,value:h})}else u._addCallbacks(t,e,a,r,f);return a},o.prototype._length=function(){return 65535&this._bitField},o.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},o.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},o.prototype._setLength=function(t){this._bitField=this._bitField&-65536|65535&t},o.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},o.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},o.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},o.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},o.prototype._isFinal=function(){return(4194304&this._bitField)>0},o.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},o.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},o.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},o.prototype._setAsyncGuaranteed=function(){y.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},o.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==h)return void 0===e&&this._isBound()?this._boundValue():e},o.prototype._promiseAt=function(t){return this[4*t-4+2]},o.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},o.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},o.prototype._boundValue=function(){},o.prototype._migrateCallback0=function(t){var e=(t._bitField,t._fulfillmentHandler0),n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=h),this._addCallbacks(e,n,r,i,null)},o.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=h),this._addCallbacks(n,r,i,o,null)},o.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=null===i?t:d.domainBind(i,t)),"function"==typeof e&&(this._rejectionHandler0=null===i?e:d.domainBind(i,e));else{var s=4*o-4;this[s+2]=n,this[s+3]=r,"function"==typeof t&&(this[s+0]=null===i?t:d.domainBind(i,t)),"function"==typeof e&&(this[s+1]=null===i?e:d.domainBind(i,e))}return this._setLength(o+1),o},o.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},o.prototype._resolveCallback=function(t,e){if(0===(117506048&this._bitField)){if(t===this)return this._rejectCallback(l(),!1);var n=E(t,this);if(!(n instanceof o))return this._fulfill(t);e&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(l());var i=r._bitField;if(0===(50397184&i)){var s=this._length();s>0&&r._migrateCallback0(this);for(var a=1;a<s;++a)r._migrateCallbackAt(this,a);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!==(33554432&i))this._fulfill(r._value());else if(0!==(16777216&i))this._reject(r._reason());else{var u=new b("late cancellation observer");r._attachExtraTrace(u),this._reject(u)}}},o.prototype._rejectCallback=function(t,e,n){var r=d.ensureErrorObject(t),i=r===t;if(!i&&!n&&F.warnings()){var o="a promise was rejected with a non-error: "+d.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,!!e&&i),this._reject(t)},o.prototype._resolveFromExecutor=function(t){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)},o.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0===(65536&i)){r._pushContext();var o;e===x?n&&"number"==typeof n.length?o=A(t).apply(this._boundValue(),n):(o=R,o.e=new g("cannot .spread() a non-array: "+d.classString(n))):o=A(t).call(e,n);var s=r._popContext();i=r._bitField,0===(65536&i)&&(o===C?r._reject(n):o===R?r._rejectCallback(o.e,!1):(F.checkForgottenReturns(o,s,"",r,this),r._resolveCallback(o)))}},o.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},o.prototype._followee=function(){return this._rejectionHandler0},o.prototype._setFollowee=function(t){this._rejectionHandler0=t},o.prototype._settlePromise=function(t,e,n,i){var s=t instanceof o,a=this._bitField,u=0!==(134217728&a);0!==(65536&a)?(s&&t._invokeInternalOnCancel(),n instanceof S&&n.isFinallyHandler()?(n.cancelPromise=t,A(e).call(n,i)===R&&t._reject(R.e)):e===f?t._fulfill(f.call(n)):n instanceof r?n._promiseCancelled(t):s||t instanceof k?t._cancel():n.cancel()):"function"==typeof e?s?(u&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,i,t)):e.call(n,i,t):n instanceof r?n._isResolved()||(0!==(33554432&a)?n._promiseFulfilled(i,t):n._promiseRejected(i,t)):s&&(u&&t._setAsyncGuaranteed(),0!==(33554432&a)?t._fulfill(i):t._reject(i))},o.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,i=t.value;"function"==typeof e?n instanceof o?this._settlePromiseFromHandler(e,r,i,n):e.call(r,i,n):n instanceof o&&n._reject(i)},o.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},o.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},o.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},o.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=l();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!==(134217728&e)?this._settlePromises():y.settlePromises(this))}},o.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16))return this._setRejected(),this._fulfillmentHandler0=t,this._isFinal()?y.fatalError(t,d.isNode):void((65535&e)>0?y.settlePromises(this):this._ensurePossibleRejectionHandled())},o.prototype._fulfillPromises=function(t,e){for(var n=1;n<t;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._rejectPromises=function(t,e){for(var n=1;n<t;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!==(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},o.prototype._settledValue=function(){var t=this._bitField;return 0!==(33554432&t)?this._rejectionHandler0:0!==(16777216&t)?this._fulfillmentHandler0:void 0},o.defer=o.pending=function(){F.deprecated("Promise.defer","new Promise");var t=new o(w);return{promise:t,resolve:s,reject:a}},d.notEnumerableProp(o,"_makeSelfResolutionError",l),t("./method")(o,w,E,p,F),t("./bind")(o,w,E,F),t("./cancel")(o,k,p,F),t("./direct_resolve")(o),t("./synchronous_inspection")(o),t("./join")(o,k,E,w,y,c),o.Promise=o,o.version="3.4.6",t("./map.js")(o,k,p,E,w,F),t("./call_get.js")(o),t("./using.js")(o,p,E,j,w,F),t("./timers.js")(o,w,F),t("./generators.js")(o,p,w,E,r,F),t("./nodeify.js")(o),t("./promisify.js")(o,w),t("./props.js")(o,k,E,p),t("./race.js")(o,w,E,p),t("./reduce.js")(o,k,p,E,w,F),t("./settle.js")(o,k,F),t("./some.js")(o,k,p),t("./filter.js")(o,w),t("./each.js")(o,w),t("./any.js")(o),d.toFastProperties(o),d.toFastProperties(o.prototype),u({a:1}),u({b:2}),u({c:3}),u(1),u(function(){}),u(void 0),u(!1),u(new o(w)),F.setBounds(_.firstLineError,d.lastLineError),o}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){function s(t){switch(t){case-2:return[];case-3:return{}}}function a(t){var r=this._promise=new e(n);t instanceof e&&r._propagateFrom(t,3),r._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var u=t("./util");u.isArray;return u.inherits(a,o),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function c(t,n){var o=r(this._values,this._promise);if(o instanceof e){o=o._target();var a=o._bitField;if(this._values=o,0===(50397184&a))return this._promise._setAsyncGuaranteed(),o._then(c,this._reject,void 0,this,n);if(0===(33554432&a))return 0!==(16777216&a)?this._reject(o._reason()):this._cancel();o=o._value()}if(o=u.asArray(o),null===o){var l=i("expecting an array or an iterable object but got "+u.classString(o)).reason();return void this._promise._rejectCallback(l,!1)}return 0===o.length?void(n===-5?this._resolveEmptyArray():this._resolve(s(n))):void this._iterate(o)},a.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,s=null,a=0;a<n;++a){var u=r(t[a],i);u instanceof e?(u=u._target(),s=u._bitField):s=null,o?null!==s&&u.suppressUnhandledRejections():null!==s?0===(50397184&s)?(u._proxy(this,a),this._values[a]=u):o=0!==(33554432&s)?this._promiseFulfilled(u._value(),a):0!==(16777216&s)?this._promiseRejected(u._reason(),a):this._promiseCancelled(a):o=this._promiseFulfilled(u,a)}o||i._setAsyncGuaranteed()},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},a.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},a.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},a.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(t){return t},a}},{"./util":36}],24:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t){return!x.test(t)}function i(t){try{return t.__isPromisified__===!0}catch(e){return!1}}function o(t,e,n){var r=h.getDataPropertyOrDefault(t,e+n,b);return!!r&&i(r)}function s(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),s=0;s<t.length;s+=2)if(t[s]===o)throw new m("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}function a(t,e,n,r){for(var a=h.inheritedDataKeys(t),u=[],c=0;c<a.length;++c){var l=a[c],f=t[l],p=r===C||C(l,f,t);"function"!=typeof f||i(f)||o(t,l,e)||!r(l,f,t,p)||u.push(l,f)}return s(u,e,n),u}function u(t,r,i,o,s,a){function u(){var i=r;r===p&&(i=this);var o=new e(n);o._captureStackTrace();var s="string"==typeof l&&this!==c?this[l]:t,u=d(o,a);try{s.apply(i,v(arguments,u))}catch(f){o._rejectCallback(_(f),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var c=function(){return this}(),l=t;return"string"==typeof l&&(t=o),h.notEnumerableProp(u,"__isPromisified__",!0),u}function c(t,e,n,r,i){for(var o=new RegExp(E(e)+"$"),s=a(t,e,o,n),u=0,c=s.length;u<c;u+=2){var l=s[u],f=s[u+1],d=l+e;if(r===k)t[d]=k(l,p,l,f,e,i);else{var v=r(f,function(){return k(l,p,l,f,e,i)});h.notEnumerableProp(v,"__isPromisified__",!0),t[d]=v}}return h.toFastProperties(t),t}function l(t,e,n){return k(t,e,void 0,t,null,n)}var f,p={},h=t("./util"),d=t("./nodeback"),v=h.withAppended,_=h.maybeWrapAsError,y=h.canEvaluate,m=t("./errors").TypeError,g="Async",b={__isPromisified__:!0},w=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],x=new RegExp("^(?:"+w.join("|")+")$"),C=function(t){return h.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t},E=function(t){return t.replace(/([$])/,"\\$")},k=y?f:u;e.promisify=function(t,e){if("function"!=typeof t)throw new m("expecting a function but got "+h.classString(t));if(i(t))return t;e=Object(e);var n=void 0===e.context?p:e.context,o=!!e.multiArgs,s=l(t,n,o);return h.copyDescriptors(t,s,r),s},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new m("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");e=Object(e);var n=!!e.multiArgs,r=e.suffix;"string"!=typeof r&&(r=g);var i=e.filter;"function"!=typeof i&&(i=C);var o=e.promisifier;if("function"!=typeof o&&(o=k),!h.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=h.inheritedDataKeys(t),a=0;a<s.length;++a){var u=t[s[a]];"constructor"!==s[a]&&h.isClass(u)&&(c(u.prototype,r,i,o,n),c(u,r,i,o,n))}return c(t,r,i,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t){var e,n=!1;if(void 0!==a&&t instanceof a)e=f(t),n=!0;else{var r=l.keys(t),i=r.length;e=new Array(2*i);for(var o=0;o<i;++o){var s=r[o];e[o]=t[s],e[o+i]=s}}this.constructor$(e),this._isMap=n,this._init$(void 0,-3)}function s(t){var n,s=r(t);return c(s)?(n=s instanceof e?s._then(e.props,void 0,void 0,void 0,void 0):new o(s).promise(),s instanceof e&&n._propagateFrom(s,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var a,u=t("./util"),c=u.isObject,l=t("./es5");"function"==typeof Map&&(a=Map);var f=function(){function t(t,r){this[e]=t,this[e+n]=r,e++}var e=0,n=0;return function(r){n=r.size,e=0;var i=new Array(2*r.size);return r.forEach(t,i),i}}(),p=function(t){for(var e=new a,n=t.length/2|0,r=0;r<n;++r){var i=t[n+r],o=t[r];e.set(i,o)}return e};u.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){var r;if(this._isMap)r=p(this._values);else{r={};for(var i=this.length(),o=0,s=this.length();o<s;++o)r[this._values[o+i]]=this._values[o]}return this._resolve(r),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return s(this)},e.props=function(t){return s(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o=0;o<i;++o)n[o+r]=t[o+e],t[o+e]=void 0}function i(t){this._capacity=t,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(t){return this._capacity<t},i.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},i.prototype._unshiftOne=function(t){var e=this._capacity;this._checkCapacity(this.length()+1);var n=this._front,r=(n-1&e-1^e)-e;this[r]=t,this._front=r,this._length=this.length()+1},i.prototype.unshift=function(t,e,n){this._unshiftOne(n),this._unshiftOne(e),this._unshiftOne(t)},i.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var n=this._front,i=this._length,o=n+i&e-1;r(this,0,this,e,o)},e.exports=i},{}],27:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t,o){var u=r(t);if(u instanceof e)return a(u);if(t=s.asArray(t),null===t)return i("expecting an array or an iterable object but got "+s.classString(t));var c=new e(n);void 0!==o&&c._propagateFrom(o,3);for(var l=c._fulfill,f=c._reject,p=0,h=t.length;p<h;++p){var d=t[p];(void 0!==d||p in t)&&e.cast(d)._then(l,f,void 0,c,null)}return c}var s=t("./util"),a=function(t){return t.then(function(e){return o(e,t)})};e.race=function(t){return o(t,void 0)},e.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,n,r,i){this.constructor$(t);var s=p();this._fn=null===s?n:h.domainBind(s,n),void 0!==r&&(r=e.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,i===o?this._eachValues=Array(this._length):0===i?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function u(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function c(t,e,n,i){if("function"!=typeof e)return r("expecting a function but got "+h.classString(e));var o=new a(t,e,n,i);return o.promise()}function l(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(f,void 0,void 0,this,void 0)):f.call(this,n)}function f(t){var n=this.array,r=n._promise,i=d(n._fn);r._pushContext();var o;o=void 0!==n._eachValues?i.call(r._boundValue(),t,this.index,this.length):i.call(r._boundValue(),this.accum,t,this.index,this.length),o instanceof e&&(n._currentCancellable=o);var a=r._popContext();return s.checkForgottenReturns(o,a,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),o}var p=e._getDomain,h=t("./util"),d=h.tryCatch;h.inherits(a,n),a.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==o&&this._eachValues.push(t)},a.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},a.prototype._init=function(){},a.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},a.prototype.shouldCopyValues=function(){return!1},a.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},a.prototype._resultCancelled=function(t){return t===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel()))},a.prototype._iterate=function(t){this._values=t;var n,r,i=t.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=e.resolve(t[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r){var o={accum:null,value:t[r],index:r,length:i,array:this};n=n._then(l,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(u,u,void 0,n,this)},e.prototype.reduce=function(t,e){return c(this,t,e,null)},e.reduce=function(t,e,n,r){return c(t,e,n,r)}}},{"./util":36}],29:[function(t,i,o){"use strict";var s,a=t("./util"),u=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},c=a.getNativePromise();if(a.isNode&&"undefined"==typeof MutationObserver){var l=n.setImmediate,f=e.nextTick;s=a.isRecentNode?function(t){l.call(n,t)}:function(t){f.call(e,t)}}else if("function"==typeof c&&"function"==typeof c.resolve){var p=c.resolve();s=function(t){p.then(t)}}else s="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof r?function(t){r(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:u:function(){var t=document.createElement("div"),e={attributes:!0},n=!1,r=document.createElement("div"),i=new MutationObserver(function(){t.classList.toggle("foo"),n=!1});i.observe(r,e);var o=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(t,e),o()}}();i.exports=s},{"./util":36}],30:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t)}var o=e.PromiseInspection,s=t("./util");s.inherits(i,n),i.prototype._promiseResolved=function(t,e){this._values[t]=e;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(t,e){var n=new o;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},i.prototype._promiseRejected=function(t,e){var n=new o;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return r.deprecated(".settle()",".reflect()"),new i(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||e<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(t),o=n.promise();return n.setHowMany(e),n.init(),o}var s=t("./util"),a=t("./errors").RangeError,u=t("./errors").AggregateError,c=s.isArray,l={};s.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=c(this._values);
!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(t){this._howMany=t},i.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new u,e=this.length();e<this._values.length;++e)this._values[e]!==l&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(t){this._values.push(t)},i.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new a(e)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return o(t,e)},e.prototype.some=function(t){return o(this,t)},e._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},s=e.prototype.isPending=function(){return 0===(50397184&this._bitField)},a=e.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},t.prototype.isPending=function(){return s.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return a.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,r){if(l(t)){if(t instanceof e)return t;var i=o(t);if(i===c){r&&r._pushContext();var u=e.reject(i.e);return r&&r._popContext(),u}if("function"==typeof i){if(s(t)){var u=new e(n);return t._then(u._fulfill,u._reject,void 0,u,null),u}return a(t,i,r)}}return t}function i(t){return t.then}function o(t){try{return i(t)}catch(e){return c.e=e,c}}function s(t){try{return f.call(t,"_promise0")}catch(e){return!1}}function a(t,r,i){function o(t){a&&(a._resolveCallback(t),a=null)}function s(t){a&&(a._rejectCallback(t,f,!0),a=null)}var a=new e(n),l=a;i&&i._pushContext(),a._captureStackTrace(),i&&i._popContext();var f=!0,p=u.tryCatch(r).call(t,o,s);return f=!1,a&&p===c&&(a._rejectCallback(p.e,!0,!0),a=null),l}var u=t("./util"),c=u.errorObj,l=u.isObject,f={}.hasOwnProperty;return r}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.handle=t}function o(t){return clearTimeout(this.handle),t}function s(t){throw clearTimeout(this.handle),t}var a=t("./util"),u=e.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(t){return l(+this).thenReturn(t)},l=e.delay=function(t,o){var s,a;return void 0!==o?(s=e.resolve(o)._then(c,null,null,t,void 0),r.cancellation()&&o instanceof e&&s._setOnCancel(o)):(s=new e(n),a=setTimeout(function(){s._fulfill()},+t),r.cancellation()&&s._setOnCancel(new i(a)),s._captureStackTrace()),s._setAsyncGuaranteed(),s};e.prototype.delay=function(t){return l(t,this)};var f=function(t,e,n){var r;r="string"!=typeof e?e instanceof Error?e:new u("operation timed out"):new u(e),a.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()};e.prototype.timeout=function(t,e){t=+t;var n,a,u=new i(setTimeout(function(){n.isPending()&&f(n,e,a)},t));return r.cancellation()?(a=this.then(),n=a._then(o,s,void 0,u,void 0),n._setOnCancel(u)):n=this._then(o,s,void 0,u,void 0),n}}},{"./util":36}],35:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t){setTimeout(function(){throw t},0)}function u(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function c(t,n){function i(){if(s>=c)return l._fulfill();var o=u(t[s++]);if(o instanceof e&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),t.promise)}catch(f){return a(f)}if(o instanceof e)return o._then(i,a,null,null,null)}i()}var s=0,c=t.length,l=new e(o);return i(),l}function l(t,e,n){this._data=t,this._promise=e,this._context=n}function f(t,e,n){this.constructor$(t,e,n)}function p(t){return l.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function h(t){this.length=t,this.promise=null,this[t-1]=null}var d=t("./util"),v=t("./errors").TypeError,_=t("./util").inherits,y=d.errorObj,m=d.tryCatch,g={};l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():g},l.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==g?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},l.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},_(f,l),f.prototype.doDispose=function(t,e){var n=this.data();return n.call(t,t,e)},h.prototype._resultCancelled=function(){for(var t=this.length,n=0;n<t;++n){var r=this[n];r instanceof e&&r.cancel()}},e.using=function(){var t=arguments.length;if(t<2)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[t-1];if("function"!=typeof i)return n("expecting a function but got "+d.classString(i));var o,a=!0;2===t&&Array.isArray(arguments[0])?(o=arguments[0],t=o.length,a=!1):(o=arguments,t--);for(var u=new h(t),f=0;f<t;++f){var v=o[f];if(l.isDisposer(v)){var _=v;v=v.promise(),v._setDisposable(_)}else{var g=r(v);g instanceof e&&(v=g._then(p,null,null,{resources:u,index:f},void 0))}u[f]=v}for(var b=new Array(u.length),f=0;f<b.length;++f)b[f]=e.resolve(u[f]).reflect();var w=e.all(b).then(function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return y.e=n.error(),y;if(!n.isFulfilled())return void w.cancel();t[e]=n.value()}x._pushContext(),i=m(i);var r=a?i.apply(void 0,t):i(t),o=x._popContext();return s.checkForgottenReturns(r,o,"Promise.using",x),r}),x=w.lastly(function(){var t=new e.PromiseInspection(w);return c(u,t)});return u.promise=x,x._setOnCancel(u),x},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new f(t,this,i());throw new v}}},{"./errors":12,"./util":36}],36:[function(t,r,i){"use strict";function o(){try{var t=P;return P=null,t.apply(this,arguments)}catch(e){return O.e=e,O}}function s(t){return P=t,o}function a(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function u(t){return"function"==typeof t||"object"==typeof t&&null!==t}function c(t){return a(t)?new Error(m(t)):t}function l(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=t[n];return i[n]=e,i}function f(t,e,n){if(!F.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function p(t,e,n){if(a(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return F.defineProperty(t,e,r),t}function h(t){throw t}function d(t){try{if("function"==typeof t){var e=F.names(t.prototype),n=F.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=N.test(t+"")&&F.names(t).length>0;if(n||r||i)return!0}return!1}catch(o){return!1}}function v(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t}function _(t){return L.test(t)}function y(t,e,n){for(var r=new Array(t),i=0;i<t;++i)r[i]=e+i+n;return r}function m(t){try{return t+""}catch(e){return"[no string representation]"}}function g(t){return null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function b(t){try{p(t,"isOperational",!0)}catch(e){}}function w(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||t.isOperational===!0)}function x(t){return g(t)&&F.propertyIsWritable(t,"stack")}function C(t){return{}.toString.call(t)}function E(t,e,n){for(var r=F.names(t),i=0;i<r.length;++i){var o=r[i];if(n(o))try{F.defineProperty(e,o,F.getDescriptor(t,o))}catch(s){}}}function k(t,n){return B?e.env[t]:n}function T(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(e){}}function j(t,e){return t.bind(e)}var F=t("./es5"),S="undefined"==typeof navigator,O={e:{}},P,R="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof n?n:void 0!==this?this:null,A=function(t,e){function n(){this.constructor=t,this.constructor$=e;for(var n in e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var r={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},D=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(F.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var r=[],i=Object.create(null);null!=t&&!e(t);){var o;try{o=n(t)}catch(s){return r}for(var a=0;a<o.length;++a){var u=o[a];if(!i[u]){i[u]=!0;var c=Object.getOwnPropertyDescriptor(t,u);null!=c&&null==c.get&&null==c.set&&r.push(u)}}t=F.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var i=[];t:for(var o in n)if(r.call(n,o))i.push(o);else{for(var s=0;s<t.length;++s)if(r.call(t[s],o))continue t;i.push(o)}return i}}(),N=/this\s*\.\s*\S+\s*=/,L=/^[a-z$_][a-z$_0-9]*$/i,I=function(){return"stack"in new Error?function(t){return x(t)?t:new Error(m(t))}:function(t){if(x(t))return t;try{throw new Error(m(t))}catch(e){return e}}}(),H=function(t){return F.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var M="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};H=function(t){return F.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?M(t):null}}var B="undefined"!=typeof e&&"[object process]"===C(e).toLowerCase(),q={isClass:d,isIdentifier:_,inheritedDataKeys:D,getDataPropertyOrDefault:f,thrower:h,isArray:F.isArray,asArray:H,notEnumerableProp:p,isPrimitive:a,isObject:u,isError:g,canEvaluate:S,errorObj:O,tryCatch:s,inherits:A,withAppended:l,maybeWrapAsError:c,toFastProperties:v,filledRange:y,toString:m,canAttachTrace:x,ensureErrorObject:I,originatesFromRejection:w,markAsOriginatingFromRejection:b,classString:C,copyDescriptors:E,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:B,env:k,global:R,getNativePromise:T,domainBind:j};q.isRecentNode=q.isNode&&function(){var t=e.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0}(),q.isNode&&q.toFastProperties(e);try{throw new Error}catch(U){q.lastLineError=U}r.exports=q},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(e,n(53),function(){return this}(),n(54).setImmediate)},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function s(){v&&h&&(v=!1,h.length?d=h.concat(d):_=-1,d.length&&a())}function a(){if(!v){var t=i(s);v=!0;for(var e=d.length;e;){for(h=d,d=[];++_<e;)h&&h[_].run();_=-1,e=d.length}h=null,v=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,f,p=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var h,d=[],v=!1,_=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||v||i(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e,n){(function(t,r){function i(t,e){this._id=t,this._clearFn=e}var o=n(53).nextTick,s=Function.prototype.apply,a=Array.prototype.slice,u={},c=0;e.setTimeout=function(){return new i(s.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(s.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=c++,r=!(arguments.length<2)&&a.call(arguments,1);return u[n]=!0,o(function(){u[n]&&(r?t.apply(null,r):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof r?r:function(t){delete u[t]}}).call(e,n(54).setImmediate,n(54).clearImmediate)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){l["default"].getLocalStorage(["email","filetype"]).then(function(e){(0,u["default"])("#settings-email-text").val(e.email),(0,u["default"])("#settings-filetype-select").val(e.filetype),t()})["catch"](function(t){p["default"].setErrorMessage("Could not load settings: "+t)})}var o=n(42),s=r(o),a=n(43),u=r(a),c=n(46),l=r(c),f=n(56),p=r(f),h=l["default"].getManifest();(0,u["default"])("#select-all").click(function(){(0,u["default"])("input.article-checkbox").each(function(t,e){(0,u["default"])(e).prop("checked",!0)})}),(0,u["default"])("#select-none").click(function(){(0,u["default"])("input.article-checkbox").each(function(t,e){(0,u["default"])(e).prop("checked",!1)})}),(0,u["default"])("#download").click(function(){var t=[];(0,u["default"])("input.article-checkbox").each(function(e,n){(0,u["default"])(n).prop("checked")&&t.push({url:(0,u["default"])(n).prop("value"),id:Number((0,u["default"])(n).prop("name"))})}),t.length<=0?(0,u["default"])("#alert-message").text("No articles selected!"):l["default"].getTabsHtml(t).then(function(t){p["default"].showSection("#downloadSpinner"),l["default"].sendMessage(null,{action:"download",book:{title:(0,u["default"])("#book-title").val()||void 0,description:(0,u["default"])("#book-description").val()||void 0,sections:t}})})["catch"](function(t){p["default"].setErrorMessage("Could not find tab content: "+t)})}),(0,u["default"])("#settings-btn").click(function(){i(function(){p["default"].showSection("#settingsForm")})}),(0,u["default"])("#settings-save-btn").click(function(){l["default"].setLocalStorage({email:(0,u["default"])("#settings-email-text").val(),filetype:(0,u["default"])("#settings-filetype-select").val()}),p["default"].showSection("#downloadForm")}),(0,u["default"])("#settings-cancel-btn").click(function(){p["default"].showSection("#downloadForm")}),l["default"].onBackgroundMessage(function(t){"download"===t.action?"complete"===t.status?p["default"].updateStatus(100,"Done!").then(function(){p["default"].showSection("#downloadSuccess")}):(p["default"].showSection("#downloadFailed"),t.error&&p["default"].setErrorMessage(t.error)):"publish"===t.action&&p["default"].updateStatus(t.progress,t.message)}),window.onload=function(){p["default"].initializeUi(),l["default"].getLocalStorage("downloadState").then(function(t){return t.downloadState?l["default"].getLocalStorage("publishStatus").then(function(t){var e=JSON.parse(t.publishStatus);p["default"].updateStatus(e.progress,e.message),p["default"].showSection("#downloadSpinner")}):(s["default"].checkForUpdates("epub-press-chrome",h.version).then(function(t){t&&p["default"].setAlertMessage(t)}),p["default"].showSection("#downloadForm"),p["default"].initializeTabList()),null})}},function(t,e,n){(function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=n(57),o=r(i),s=n(47),a=r(s),u=n(48),c=r(u),l=n(46),f=r(l),p=function(){function t(){(0,a["default"])(this,t)}return(0,c["default"])(t,null,[{key:"initializeUi",value:function(){var t=Date();t=t.slice(0,t.match(/\d{4}/).index+4),document.getElementById("book-title").placeholder="EpubPress - "+t}},{key:"setErrorMessage",value:function(t){e("#failure-message").text(t)}},{key:"showSection",value:function(n){t.SECTIONS_SELECTORS.forEach(function(t){t===n?e(t).show():e(t).hide()})}},{key:"setAlertMessage",value:function(t){e("#alert-message").text(t)}},{key:"updateStatus",value:function(t,n){return e("h4#progress-msg").text(n),t?this.animateValueChange(e("progress"),t):o["default"].resolve()}},{key:"animateValueChange",value:function(t,e){return new o["default"](function(n){var r=function i(r){requestAnimationFrame(function(){if(r===e)return void setTimeout(n,300);var o=r<e?1:-1,s=o+r;t.val(s),i(s)})};r(t.val())})}},{key:"getCheckbox",value:function(t){var e='<div class="checkbox">\n        <label>\n        <input class=\'article-checkbox\' type="checkbox" value="'+t.url+'" name="'+t.id+'">\n        <span>'+t.title+"</span>\n        </label>\n        </div>";return e}},{key:"initializeTabList",value:function(){f["default"].getCurrentWindowTabs().then(function(n){n.forEach(function(n){e("#tab-list").append(t.getCheckbox({title:n.title,url:n.url,id:n.id}))})})["catch"](function(e){t.setErrorMessage("Searching tabs failed: "+e)})}}]),t}();p.SECTIONS_SELECTORS=["#downloadForm","#settingsForm","#downloadSpinner","#downloadSuccess","#downloadFailed"],t.exports=p}).call(e,n(43))},function(t,e,n){t.exports={"default":n(58),__esModule:!0}},function(t,e,n){n(59),n(60),n(73),n(77),t.exports=n(5).Promise},45,function(t,e,n){"use strict";var r=n(61)(!0);n(62)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(33),i=n(30);t.exports=function(t){return function(e,n){var o,s,a=String(i(e)),u=r(n),c=a.length;return u<0||u>=c?t?"":void 0:(o=a.charCodeAt(u),o<55296||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):o:t?a.slice(u,u+2):(o-55296<<10)+(s-56320)+65536)}}},function(t,e,n){"use strict";var r=n(63),i=n(9),o=n(64),s=n(13),a=n(26),u=n(65),c=n(66),l=n(70),f=n(72),p=n(71)("iterator"),h=!([].keys&&"next"in[].keys()),d="@@iterator",v="keys",_="values",y=function(){return this};t.exports=function(t,e,n,m,g,b,w){c(n,e,m);var x,C,E,k=function(t){if(!h&&t in S)return S[t];switch(t){case v:return function(){return new n(this,t)};case _:return function(){return new n(this,t)}}return function(){return new n(this,t)}},T=e+" Iterator",j=g==_,F=!1,S=t.prototype,O=S[p]||S[d]||g&&S[g],P=O||k(g),R=g?j?k("entries"):P:void 0,A="Array"==e?S.entries||O:O;if(A&&(E=f(A.call(new t)),E!==Object.prototype&&(l(E,T,!0),r||a(E,p)||s(E,p,y))),j&&O&&O.name!==_&&(F=!0,P=function(){return O.call(this)}),r&&!w||!h&&!F&&S[p]||s(S,p,P),u[e]=P,u[T]=y,g)if(x={values:j?P:k(_),keys:b?P:k(v),entries:R},w)for(C in x)C in S||o(S,C,x[C]);else i(i.P+i.F*(h||F),e,x);return x}},function(t,e){t.exports=!0},function(t,e,n){t.exports=n(13)},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(67),i=n(22),o=n(70),s={};n(13)(s,n(71)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(15),i=n(68),o=n(38),s=n(35)("IE_PROTO"),a=function(){},u="prototype",c=function(){var t,e=n(20)("iframe"),r=o.length,i="<",s=">";for(e.style.display="none",n(69).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+s+"document.F=Object"+i+"/script"+s),t.close(),c=t.F;r--;)delete c[u][o[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[u]=r(t),n=new a,a[u]=null,n[s]=t):n=c(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(14),i=n(15),o=n(24);t.exports=n(18)?Object.defineProperties:function(t,e){i(t);for(var n,s=o(e),a=s.length,u=0;a>u;)r.f(t,n=s[u++],e[n]);return t}},function(t,e,n){t.exports=n(10).document&&document.documentElement},function(t,e,n){var r=n(14).f,i=n(26),o=n(71)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(36)("wks"),i=n(37),o=n(10).Symbol,s="function"==typeof o,a=t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))};a.store=r},function(t,e,n){var r=n(26),i=n(41),o=n(35)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){n(74);for(var r=n(10),i=n(13),o=n(65),s=n(71)("toStringTag"),a=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var c=a[u],l=r[c],f=l&&l.prototype;f&&!f[s]&&i(f,s,c),o[c]=o.Array}},function(t,e,n){"use strict";var r=n(75),i=n(76),o=n(65),s=n(27);t.exports=n(62)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r,i,o,s=n(63),a=n(10),u=n(11),c=n(78),l=n(9),f=n(16),p=n(12),h=n(79),d=n(80),v=n(84),_=n(85).set,y=n(87)(),m="Promise",g=a.TypeError,b=a.process,w=a[m],b=a.process,x="process"==c(b),C=function(){},E=!!function(){try{var t=w.resolve(1),e=(t.constructor={})[n(71)("species")]=function(t){t(C,C)};return(x||"function"==typeof PromiseRejectionEvent)&&t.then(C)instanceof e}catch(r){}}(),k=function(t,e){return t===e||t===w&&e===o},T=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},j=function(t){return k(w,t)?new F(t):new i(t)},F=i=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw g("Bad Promise constructor");e=t,n=r}),this.resolve=p(e),this.reject=p(n)},S=function(t){try{t()}catch(e){return{error:e}}},O=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var r=t._v,i=1==t._s,o=0,s=function(e){var n,o,s=i?e.ok:e.fail,a=e.resolve,u=e.reject,c=e.domain;try{s?(i||(2==t._h&&A(t),t._h=1),s===!0?n=r:(c&&c.enter(),n=s(r),c&&c.exit()),n===e.promise?u(g("Promise-chain cycle")):(o=T(n))?o.call(n,a,u):a(n)):u(r)}catch(l){u(l)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&P(t)})}},P=function(t){_.call(a,function(){var e,n,r,i=t._v;if(R(t)&&(e=S(function(){x?b.emit("unhandledRejection",i,t):(n=a.onunhandledrejection)?n({promise:t,reason:i}):(r=a.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=x||R(t)?2:1),t._a=void 0,e)throw e.error})},R=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,r=0;n.length>r;)if(e=n[r++],e.fail||!R(e.promise))return!1;return!0},A=function(t){_.call(a,function(){var e;x?b.emit("rejectionHandled",t):(e=a.onrejectionhandled)&&e({promise:t,reason:t._v})})},D=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),O(e,!0))},N=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw g("Promise can't be resolved itself");(e=T(t))?y(function(){var r={_w:n,_d:!1};try{e.call(t,u(N,r,1),u(D,r,1))}catch(i){D.call(r,i)}}):(n._v=t,n._s=1,O(n,!1))}catch(r){D.call({_w:n,_d:!1},r)}}};E||(w=function(t){h(this,w,m,"_h"),p(t),r.call(this);try{t(u(N,this,1),u(D,this,1))}catch(e){D.call(this,e)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(88)(w.prototype,{then:function(t,e){var n=j(v(this,w));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=x?b.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&O(this,!1),n.promise},"catch":function(t){return this.then(void 0,t)}}),F=function(){var t=new r;this.promise=t,this.resolve=u(N,t,1),this.reject=u(D,t,1)}),l(l.G+l.W+l.F*!E,{Promise:w}),n(70)(w,m),n(89)(m),o=n(5)[m],l(l.S+l.F*!E,m,{reject:function(t){var e=j(this),n=e.reject;return n(t),e.promise}}),l(l.S+l.F*(s||!E),m,{resolve:function(t){if(t instanceof w&&k(t.constructor,this))return t;var e=j(this),n=e.resolve;return n(t),e.promise}}),l(l.S+l.F*!(E&&n(90)(function(t){w.all(t)["catch"](C)})),m,{all:function(t){var e=this,n=j(e),r=n.resolve,i=n.reject,o=S(function(){var n=[],o=0,s=1;d(t,!1,function(t){var a=o++,u=!1;n.push(void 0),s++,e.resolve(t).then(function(t){u||(u=!0,n[a]=t,--s||r(n))},i)}),--s||r(n)});return o&&i(o.error),n.promise},race:function(t){var e=this,n=j(e),r=n.reject,i=S(function(){d(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i&&r(i.error),n.promise}})},function(t,e,n){var r=n(29),i=n(71)("toStringTag"),o="Arguments"==r(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(11),i=n(81),o=n(82),s=n(15),a=n(32),u=n(83),c={},l={},e=t.exports=function(t,e,n,f,p){var h,d,v,_,y=p?function(){return t}:u(t),m=r(n,f,e?2:1),g=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(o(y)){for(h=a(t.length);h>g;g++)if(_=e?m(s(d=t[g])[0],d[1]):m(t[g]),_===c||_===l)return _}else for(v=y.call(t);!(d=v.next()).done;)if(_=i(v,m,d.value,e),_===c||_===l)return _};e.BREAK=c,e.RETURN=l},function(t,e,n){var r=n(15);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(o){var s=t["return"];throw void 0!==s&&r(s.call(t)),o}}},function(t,e,n){var r=n(65),i=n(71)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(78),i=n(71)("iterator"),o=n(65);t.exports=n(5).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(15),i=n(12),o=n(71)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||void 0==(n=r(s)[o])?e:i(n)}},function(t,e,n){var r,i,o,s=n(11),a=n(86),u=n(69),c=n(20),l=n(10),f=l.process,p=l.setImmediate,h=l.clearImmediate,d=l.MessageChannel,v=0,_={},y="onreadystatechange",m=function(){var t=+this;if(_.hasOwnProperty(t)){var e=_[t];delete _[t],e()}},g=function(t){m.call(t.data)};p&&h||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return _[++v]=function(){a("function"==typeof t?t:Function(t),e)},r(v),v},h=function(t){delete _[t]},"process"==n(29)(f)?r=function(t){f.nextTick(s(m,t,1))}:d?(i=new d,o=i.port2,i.port1.onmessage=g,r=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",g,!1)):r=y in c("script")?function(t){u.appendChild(c("script"))[y]=function(){u.removeChild(this),m.call(t)}}:function(t){setTimeout(s(m,t,1),0)}),t.exports={set:p,clear:h}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(10),i=n(85).set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,u="process"==n(29)(s);t.exports=function(){var t,e,n,c=function(){var r,i;for(u&&(r=s.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(o){throw t?n():e=void 0,o}}e=void 0,r&&r.enter()};if(u)n=function(){s.nextTick(c)};else if(o){var l=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}else if(a&&a.resolve){var p=a.resolve();n=function(){p.then(c)}}else n=function(){i.call(r,c)};return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){var r=n(13);t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},function(t,e,n){"use strict";var r=n(10),i=n(5),o=n(14),s=n(18),a=n(71)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t];s&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(71)("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(s){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},t(o)}catch(a){}return n}}]));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcG9wdXAuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIGJjYTgzMTNjMWUwNDc0YzFhNmQ5PzlkZjEiLCJ3ZWJwYWNrOi8vLy4vfi93aGF0d2ctZmV0Y2gvZmV0Y2guanM/MWMyMCIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb3JlLmpzPzFiNjIiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZXhwb3J0LmpzP2VjZTIiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZ2xvYmFsLmpzPzc3YWEiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3R4LmpzP2NlMDAiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYS1mdW5jdGlvbi5qcz9kNTNlIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hpZGUuanM/YTZkYSIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHAuanM/NDExNiIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1vYmplY3QuanM/MGRhMyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1vYmplY3QuanM/MjRjOCIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pZTgtZG9tLWRlZmluZS5qcz9iZDFmIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Rlc2NyaXB0b3JzLmpzPzcwNTEiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZmFpbHMuanM/OTM1ZCIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kb20tY3JlYXRlLmpzP2FiNDQiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tcHJpbWl0aXZlLmpzPzQ5YTQiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcHJvcGVydHktZGVzYy5qcz8xZTg2Iiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLmpzP2Y1YmMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMtaW50ZXJuYWwuanM/ZmNlYSIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oYXMuanM/ZDg1MCIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pb2JqZWN0LmpzPzY5NDYiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faW9iamVjdC5qcz81Y2Y5Iiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvZi5qcz80OGVhIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RlZmluZWQuanM/NDVkMyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hcnJheS1pbmNsdWRlcy5qcz82MTk5Iiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWxlbmd0aC5qcz82MmE3Iiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWludGVnZXIuanM/ZjY1ZiIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbmRleC5qcz85ZmQ0Iiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC1rZXkuanM/MmE2YyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQuanM/N2I2YyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191aWQuanM/ZThjZCIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWJ1Zy1rZXlzLmpzPzc1OTgiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tb2JqZWN0LmpzP2I1YzAiLCJ3ZWJwYWNrOi8vLy4vfi9lcHViLXByZXNzLWpzL2J1aWxkL2luZGV4LmpzP2JmMzEiLCJ3ZWJwYWNrOi8vLy4vfi9qcXVlcnkvZGlzdC9qcXVlcnkuanM/MjdkOSIsIndlYnBhY2s6Ly8vLi9+L2lzb21vcnBoaWMtZmV0Y2gvZmV0Y2gtbnBtLWJyb3dzZXJpZnkuanM/NzcyMyIsIndlYnBhY2s6Ly8vLi9hcHAvc2NyaXB0cy9icm93c2VyLmpzPzAwMWEiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanM/MjFhZiIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qcz8xZGZlIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanM/NWY3MCIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzP2I3ZDgiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eS5qcz9jODJjIiwid2VicGFjazovLy8uL34vYmx1ZWJpcmQvanMvYnJvd3Nlci9ibHVlYmlyZC5qcz9lMzY2Iiwid2VicGFjazovLy8uL34vcHJvY2Vzcy9icm93c2VyLmpzPzgyZTQiLCJ3ZWJwYWNrOi8vLy4vfi90aW1lcnMtYnJvd3NlcmlmeS9tYWluLmpzP2IwODgiLCJ3ZWJwYWNrOi8vLy4vYXBwL3NjcmlwdHMvcG9wdXAuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL3NjcmlwdHMvdWkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zdHJpbmctYXQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbGlicmFyeS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyYXRvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWNyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHBzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2h0bWwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXRvLXN0cmluZy10YWcuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1ncG8uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FkZC10by11bnNjb3BhYmxlcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLXN0ZXAuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYucHJvbWlzZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jbGFzc29mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLWluc3RhbmNlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Zvci1vZi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWNhbGwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtYXJyYXktaXRlci5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zcGVjaWVzLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Rhc2suanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faW52b2tlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX21pY3JvdGFzay5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS1hbGwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXNwZWNpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZXRlY3QuanMiXSwibmFtZXMiOlsibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJleHBvcnRzIiwibW9kdWxlIiwiaWQiLCJsb2FkZWQiLCJjYWxsIiwibSIsImMiLCJwIiwiaSIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiX20iLCJhcmdzIiwic2xpY2UiLCJmbiIsImEiLCJiIiwiYXBwbHkiLCJ0aGlzIiwiY29uY2F0Iiwic2VsZiIsIm5vcm1hbGl6ZU5hbWUiLCJuYW1lIiwiU3RyaW5nIiwidGVzdCIsIlR5cGVFcnJvciIsInRvTG93ZXJDYXNlIiwibm9ybWFsaXplVmFsdWUiLCJ2YWx1ZSIsIml0ZXJhdG9yRm9yIiwiaXRlbXMiLCJpdGVyYXRvciIsIm5leHQiLCJzaGlmdCIsImRvbmUiLCJ1bmRlZmluZWQiLCJzdXBwb3J0IiwiaXRlcmFibGUiLCJTeW1ib2wiLCJIZWFkZXJzIiwiaGVhZGVycyIsIm1hcCIsImZvckVhY2giLCJhcHBlbmQiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiY29uc3VtZWQiLCJib2R5IiwiYm9keVVzZWQiLCJQcm9taXNlIiwicmVqZWN0IiwiZmlsZVJlYWRlclJlYWR5IiwicmVhZGVyIiwicmVzb2x2ZSIsIm9ubG9hZCIsInJlc3VsdCIsIm9uZXJyb3IiLCJlcnJvciIsInJlYWRCbG9iQXNBcnJheUJ1ZmZlciIsImJsb2IiLCJGaWxlUmVhZGVyIiwicmVhZEFzQXJyYXlCdWZmZXIiLCJyZWFkQmxvYkFzVGV4dCIsInJlYWRBc1RleHQiLCJCb2R5IiwiX2luaXRCb2R5IiwiX2JvZHlJbml0IiwiX2JvZHlUZXh0IiwiQmxvYiIsImlzUHJvdG90eXBlT2YiLCJfYm9keUJsb2IiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiX2JvZHlGb3JtRGF0YSIsInNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInRvU3RyaW5nIiwiYXJyYXlCdWZmZXIiLCJBcnJheUJ1ZmZlciIsIkVycm9yIiwiZ2V0Iiwic2V0IiwidHlwZSIsInJlamVjdGVkIiwidGhlbiIsInRleHQiLCJkZWNvZGUiLCJqc29uIiwiSlNPTiIsInBhcnNlIiwibm9ybWFsaXplTWV0aG9kIiwibWV0aG9kIiwidXBjYXNlZCIsInRvVXBwZXJDYXNlIiwibWV0aG9kcyIsImluZGV4T2YiLCJSZXF1ZXN0IiwiaW5wdXQiLCJvcHRpb25zIiwidXJsIiwiY3JlZGVudGlhbHMiLCJtb2RlIiwicmVmZXJyZXIiLCJmb3JtIiwidHJpbSIsInNwbGl0IiwiYnl0ZXMiLCJyZXBsYWNlIiwiam9pbiIsImRlY29kZVVSSUNvbXBvbmVudCIsInhociIsImhlYWQiLCJwYWlycyIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsImhlYWRlciIsImtleSIsIlJlc3BvbnNlIiwiYm9keUluaXQiLCJzdGF0dXMiLCJvayIsInN0YXR1c1RleHQiLCJmZXRjaCIsImUiLCJsaXN0IiwicHVzaCIsInZhbHVlcyIsImdldEFsbCIsImhhcyIsImNhbGxiYWNrIiwidGhpc0FyZyIsImtleXMiLCJlbnRyaWVzIiwiY2xvbmUiLCJyZXNwb25zZSIsInJlZGlyZWN0U3RhdHVzZXMiLCJyZWRpcmVjdCIsIlJhbmdlRXJyb3IiLCJsb2NhdGlvbiIsImluaXQiLCJyZXNwb25zZVVSTCIsImdldFJlc3BvbnNlSGVhZGVyIiwicmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0IiwicmVzcG9uc2VUZXh0Iiwib250aW1lb3V0Iiwib3BlbiIsIndpdGhDcmVkZW50aWFscyIsInJlc3BvbnNlVHlwZSIsInNldFJlcXVlc3RIZWFkZXIiLCJzZW5kIiwicG9seWZpbGwiLCJjb3JlIiwidmVyc2lvbiIsIl9fZSIsImdsb2JhbCIsImN0eCIsImhpZGUiLCJQUk9UT1RZUEUiLCIkZXhwb3J0Iiwic291cmNlIiwib3duIiwib3V0IiwiSVNfRk9SQ0VEIiwiRiIsIklTX0dMT0JBTCIsIkciLCJJU19TVEFUSUMiLCJTIiwiSVNfUFJPVE8iLCJQIiwiSVNfQklORCIsIkIiLCJJU19XUkFQIiwiVyIsImV4cFByb3RvIiwidGFyZ2V0IiwiQyIsImFyZ3VtZW50cyIsImxlbmd0aCIsIkZ1bmN0aW9uIiwidmlydHVhbCIsIlIiLCJVIiwid2luZG93IiwiTWF0aCIsIl9fZyIsImFGdW5jdGlvbiIsInRoYXQiLCJpdCIsImRQIiwiY3JlYXRlRGVzYyIsIm9iamVjdCIsImYiLCJhbk9iamVjdCIsIklFOF9ET01fREVGSU5FIiwidG9QcmltaXRpdmUiLCJkZWZpbmVQcm9wZXJ0eSIsIk8iLCJBdHRyaWJ1dGVzIiwiaXNPYmplY3QiLCJleGVjIiwiZG9jdW1lbnQiLCJpcyIsImNyZWF0ZUVsZW1lbnQiLCJ2YWwiLCJ2YWx1ZU9mIiwiYml0bWFwIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiJGtleXMiLCJlbnVtQnVnS2V5cyIsInRvSU9iamVjdCIsImFycmF5SW5kZXhPZiIsIklFX1BST1RPIiwibmFtZXMiLCJJT2JqZWN0IiwiZGVmaW5lZCIsImNvZiIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwidG9MZW5ndGgiLCJ0b0luZGV4IiwiSVNfSU5DTFVERVMiLCIkdGhpcyIsImVsIiwiZnJvbUluZGV4IiwiaW5kZXgiLCJ0b0ludGVnZXIiLCJtaW4iLCJjZWlsIiwiZmxvb3IiLCJpc05hTiIsIm1heCIsInNoYXJlZCIsInVpZCIsIlNIQVJFRCIsInN0b3JlIiwicHgiLCJyYW5kb20iLCIkIiwidCIsInIiLCJuIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJvIiwiREVCVUciLCJjb25zb2xlIiwibG9nIiwicyIsImdldElkIiwiRmlsZSIsImsiLCJzYXZlQXMiLCJ3cml0ZUZpbGVTeW5jIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInNlY3Rpb25zIiwidXJscyIsIkFjY2VwdCIsIkNvbnRlbnQtVHlwZSIsInciLCJ1IiwiY2hlY2tTdGF0dXMiLCJlbWl0IiwiTnVtYmVyIiwicHJvZ3Jlc3MiLCJDSEVDS19TVEFUVVNfTElNSVQiLCJFUlJPUl9DT0RFUyIsInNldFRpbWVvdXQiLCJQT0xMX1JBVEUiLCJsIiwiZXJyb3JzIiwiZGV0YWlsIiwibWVzc2FnZSIsIm1pbkNvbXBhdGlibGUiLCJoIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZmlsdGVyIiwiZCIsIl8iLCJ2IiwieSIsImciLCJFIiwiaiIsIngiLCJEYXRlIiwibWF0Y2giLCJmaWxldHlwZSIsImJvb2tEYXRhIiwiZXZlbnRzIiwiZ2V0VmVyc2lvbiIsImdldFZlcnNpb25VcmwiLCJjbGllbnRzIiwiZ2V0UHVibGlzaFVybCIsIkJBU0VfQVBJIiwiVkVSU0lPTiIsIkFycmF5Iiwic3BsaWNlIiwiZmluZCIsImVtYWlsIiwiZ2V0RmlsZXR5cGUiLCJnZXRFbWFpbCIsImdldFN0YXR1c1VybCIsImlzUHVibGlzaGluZyIsImdldERvd25sb2FkVXJsIiwiYnVmZmVyIiwiZ2V0VGl0bGUiLCJnZXRFbWFpbFVybCIsIkJBU0VfVVJMIiwiYmFzZVVybCIsIjAiLCJGYWlsZWQgdG8gZmV0Y2giLCJGZXRjaEVycm9yIiwiNDAwIiwiNDA0IiwiNDIyIiwiNTAwIiwiNTAzIiwidGltZW91dCIsIlNFUlZFUl9GQUlMRUQiLCJTRVJWRVJfQkFEX0NPTlRFTlQiLCJhc3NpZ24iLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJzdHJpbmdpZnkiLCJfZGVyZXFfIiwiY29kZSIsIjEiLCJwcm9taXNlIiwic2V0SG93TWFueSIsInNldFVud3JhcCIsIl9Tb21lUHJvbWlzZUFycmF5IiwiYW55IiwiMiIsIl9jdXN0b21TY2hlZHVsZXIiLCJfaXNUaWNrVXNlZCIsIl9sYXRlUXVldWUiLCJfbm9ybWFsUXVldWUiLCJfaGF2ZURyYWluZWRRdWV1ZXMiLCJfdHJhbXBvbGluZUVuYWJsZWQiLCJkcmFpblF1ZXVlcyIsIl9kcmFpblF1ZXVlcyIsIl9zY2hlZHVsZSIsIl9xdWV1ZVRpY2siLCJfcHVzaE9uZSIsInNldFNjaGVkdWxlciIsImhhc0N1c3RvbVNjaGVkdWxlciIsImVuYWJsZVRyYW1wb2xpbmUiLCJkaXNhYmxlVHJhbXBvbGluZUlmTmVjZXNzYXJ5IiwiaGFzRGV2VG9vbHMiLCJoYXZlSXRlbXNRdWV1ZWQiLCJmYXRhbEVycm9yIiwic3RkZXJyIiwid3JpdGUiLCJzdGFjayIsImV4aXQiLCJ0aHJvd0xhdGVyIiwiaW52b2tlTGF0ZXIiLCJpbnZva2UiLCJzZXR0bGVQcm9taXNlcyIsIl9zZXR0bGVQcm9taXNlcyIsImludm9rZUZpcnN0IiwidW5zaGlmdCIsIl9kcmFpblF1ZXVlIiwiX3Jlc2V0IiwiZmlyc3RMaW5lRXJyb3IiLCIuL3F1ZXVlIiwiLi9zY2hlZHVsZSIsIi4vdXRpbCIsIjMiLCJfcmVqZWN0IiwicHJvbWlzZVJlamVjdGlvblF1ZXVlZCIsImJpbmRpbmdQcm9taXNlIiwiX3RoZW4iLCJfYml0RmllbGQiLCJfcmVzb2x2ZUNhbGxiYWNrIiwiYmluZCIsIl9wcm9wYWdhdGVGcm9tIiwicHJvcGFnYXRlRnJvbUZ1bmN0aW9uIiwiX2JvdW5kVmFsdWUiLCJib3VuZFZhbHVlRnVuY3Rpb24iLCJfdGFyZ2V0IiwiX3NldEJvdW5kVG8iLCJfc2V0T25DYW5jZWwiLCJfYm91bmRUbyIsIl9pc0JvdW5kIiwiNCIsIm5vQ29uZmxpY3QiLCIuL3Byb21pc2UiLCI1IiwiY3JlYXRlIiwiY2xhc3NTdHJpbmciLCJwb3AiLCJjYW5FdmFsdWF0ZSIsImlzSWRlbnRpZmllciIsIjYiLCJ0cnlDYXRjaCIsImVycm9yT2JqIiwiX2FzeW5jIiwiY2FuY2VsIiwiY2FuY2VsbGF0aW9uIiwiX3dhcm4iLCJfaXNDYW5jZWxsYWJsZSIsIl9jYW5jZWxCeSIsIl9pc0ZvbGxvd2luZyIsIl9mb2xsb3dlZSIsIl9jYW5jZWxCcmFuY2hlZCIsIl9jYW5jZWxsYXRpb25QYXJlbnQiLCJfc2V0V2lsbEJlQ2FuY2VsbGVkIiwiX2JyYW5jaEhhc0NhbmNlbGxlZCIsIl9icmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsIiwiX2Vub3VnaEJyYW5jaGVzSGF2ZUNhbmNlbGxlZCIsIl9pbnZva2VPbkNhbmNlbCIsIl9jYW5jZWwiLCJfc2V0Q2FuY2VsbGVkIiwiX2NhbmNlbFByb21pc2VzIiwiX2xlbmd0aCIsIl91bnNldE9uQ2FuY2VsIiwiX29uQ2FuY2VsRmllbGQiLCJpc1BlbmRpbmciLCJfaXNDYW5jZWxsZWQiLCJpc0NhbmNlbGxhYmxlIiwiaXNDYW5jZWxsZWQiLCJfZG9JbnZva2VPbkNhbmNlbCIsImlzQXJyYXkiLCJfYXR0YWNoRXh0cmFUcmFjZSIsIl9yZXN1bHRDYW5jZWxsZWQiLCJfb25DYW5jZWwiLCJfaW52b2tlSW50ZXJuYWxPbkNhbmNlbCIsIjciLCIuL2VzNSIsIjgiLCJfdHJhY2UiLCJDYXB0dXJlZFRyYWNlIiwiX3Byb21pc2VDcmVhdGVkIiwiX3B1c2hDb250ZXh0IiwiX3BvcENvbnRleHQiLCJfcGVla0NvbnRleHQiLCJkZWFjdGl2YXRlTG9uZ1N0YWNrVHJhY2VzIiwiYWN0aXZhdGVMb25nU3RhY2tUcmFjZXMiLCI5IiwiViIsIl9hdHRhY2hDYW5jZWxsYXRpb25DYWxsYmFjayIsImlzRnVsZmlsbGVkIiwiX3BhcmVudCIsImF0dGFjaEV4dHJhVHJhY2UiLCJfX3N0YWNrQ2xlYW5lZF9fIiwibm90RW51bWVyYWJsZVByb3AiLCJLIiwiX3JldHVybmVkTm9uVW5kZWZpbmVkIiwiSCIsInEiLCJzdCIsIndhcm5pbmdzIiwiTCIsImxvbmdTdGFja1RyYWNlcyIsImV0IiwiUSIsInJ0IiwieiIsImNoYXJBdCIsIkQiLCJOIiwiVCIsInN1YnN0ciIsIm90IiwiZmlsZU5hbWUiLCJsaW5lIiwicGFyc2VJbnQiLCJNIiwiX3Byb21pc2VzQ3JlYXRlZCIsInVuY3ljbGUiLCJBIiwiSSIsIl9nZXREb21haW4iLCJXYXJuaW5nIiwiY2FuQXR0YWNoVHJhY2UiLCJlbnYiLCJYIiwic3VwcHJlc3NVbmhhbmRsZWRSZWplY3Rpb25zIiwiX2Vuc3VyZVBvc3NpYmxlUmVqZWN0aW9uSGFuZGxlZCIsIl9zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZCIsIl9ub3RpZnlVbmhhbmRsZWRSZWplY3Rpb24iLCJfbm90aWZ5VW5oYW5kbGVkUmVqZWN0aW9uSXNIYW5kbGVkIiwiX3NldFJldHVybmVkTm9uVW5kZWZpbmVkIiwiX2lzUmVqZWN0aW9uVW5oYW5kbGVkIiwiX3NldHRsZWRWYWx1ZSIsIl9zZXRVbmhhbmRsZWRSZWplY3Rpb25Jc05vdGlmaWVkIiwiX3Vuc2V0VW5oYW5kbGVkUmVqZWN0aW9uSXNOb3RpZmllZCIsIl9pc1VuaGFuZGxlZFJlamVjdGlvbk5vdGlmaWVkIiwiX3Vuc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQiLCJvblBvc3NpYmx5VW5oYW5kbGVkUmVqZWN0aW9uIiwiZG9tYWluQmluZCIsIm9uVW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlZCIsIkoiLCJfY2FwdHVyZVN0YWNrVHJhY2UiLCJoYXNMb25nU3RhY2tUcmFjZXMiLCJZIiwiQ3VzdG9tRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiY2FuY2VsYWJsZSIsIkV2ZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0Q3VzdG9tRXZlbnQiLCJaIiwiaXNOb2RlIiwidHQiLCJwcm9taXNlQ3JlYXRlZCIsInByb21pc2VGdWxmaWxsZWQiLCJwcm9taXNlUmVqZWN0ZWQiLCJwcm9taXNlUmVzb2x2ZWQiLCJwcm9taXNlQ2FuY2VsbGVkIiwicHJvbWlzZUNoYWluZWQiLCJjaGlsZCIsIndhcm5pbmciLCJ1bmhhbmRsZWRSZWplY3Rpb24iLCJyZWFzb24iLCJyZWplY3Rpb25IYW5kbGVkIiwiY29uZmlnIiwid0ZvcmdvdHRlblJldHVybiIsIl9jbGVhckNhbmNlbGxhdGlvbkRhdGEiLCJfZXhlY3V0ZSIsIm50IiwibW9uaXRvcmluZyIsIl9maXJlRXZlbnQiLCJpbmhlcml0cyIsInN0YWNrVHJhY2VMaW1pdCIsImNhcHR1cmVTdGFja1RyYWNlIiwid2FybiIsImlzVFRZIiwiY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zIiwic2V0Qm91bmRzIiwiZGVwcmVjYXRlZCIsImZpcmVEb21FdmVudCIsImZpcmVHbG9iYWxFdmVudCIsIi4vZXJyb3JzIiwiMTAiLCJ0aGVuUmV0dXJuIiwidGhlblRocm93IiwiY2F0Y2hUaHJvdyIsImNhdWdodCIsImNhdGNoUmV0dXJuIiwiMTEiLCJyZWR1Y2UiLCJhbGwiLCJlYWNoIiwibWFwU2VyaWVzIiwiMTIiLCJjb25zdHJ1Y3RvciIsImNhdXNlIiwiaXNPcGVyYXRpb25hbCIsImZyZWV6ZSIsIl9fQmx1ZWJpcmRFcnJvclR5cGVzX18iLCJDYW5jZWxsYXRpb25FcnJvciIsIlRpbWVvdXRFcnJvciIsIk9wZXJhdGlvbmFsRXJyb3IiLCJSZWplY3Rpb25FcnJvciIsIkFnZ3JlZ2F0ZUVycm9yIiwiMTMiLCJnZXREZXNjcmlwdG9yIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZ2V0UHJvdG90eXBlT2YiLCJpc0VTNSIsInByb3BlcnR5SXNXcml0YWJsZSIsIjE0IiwiMTUiLCJoYW5kbGVyIiwiY2FsbGVkIiwiY2FuY2VsUHJvbWlzZSIsImZpbmFsbHlIYW5kbGVyIiwiaXNGaW5hbGx5SGFuZGxlciIsImlzUmVqZWN0ZWQiLCJfcGFzc1Rocm91Z2giLCJsYXN0bHkiLCJ0YXAiLCIxNiIsIl9maW5hbGx5UHJvbWlzZSIsIl9wcm9taXNlIiwiX3N0YWNrIiwiX2dlbmVyYXRvckZ1bmN0aW9uIiwiX3JlY2VpdmVyIiwiX2dlbmVyYXRvciIsIl95aWVsZEhhbmRsZXJzIiwiX3lpZWxkZWRQcm9taXNlIiwiX2NhbmNlbGxhdGlvblBoYXNlIiwiX2lzUmVzb2x2ZWQiLCJfY2xlYW51cCIsIl9mdWxmaWxsIiwiX3Byb21pc2VDYW5jZWxsZWQiLCJjb3JvdXRpbmUiLCJyZXR1cm5TZW50aW5lbCIsIl9jb250aW51ZSIsIl9wcm9taXNlRnVsZmlsbGVkIiwiX3Byb21pc2VSZWplY3RlZCIsIl9ydW4iLCJfcmVqZWN0Q2FsbGJhY2siLCJfcHJveHkiLCJfdmFsdWUiLCJfcmVhc29uIiwieWllbGRIYW5kbGVyIiwiYWRkWWllbGRIYW5kbGVyIiwic3Bhd24iLCIxNyIsInNwcmVhZCIsIjE4IiwiY29uc3RydWN0b3IkIiwiX2NhbGxiYWNrIiwiX3ByZXNlcnZlZFZhbHVlcyIsIl9saW1pdCIsIl9pbkZsaWdodCIsIl9xdWV1ZSIsIl9hc3luY0luaXQiLCJjb25jdXJyZW5jeSIsImlzRmluaXRlIiwiX2luaXQkIiwiX2luaXQiLCJfdmFsdWVzIiwiX3RvdGFsUmVzb2x2ZWQiLCJfZmlsdGVyIiwiX3Jlc29sdmUiLCJwcmVzZXJ2ZWRWYWx1ZXMiLCIxOSIsIl9yZXNvbHZlRnJvbVN5bmNWYWx1ZSIsImF0dGVtcHQiLCIyMCIsIm1hcmtBc09yaWdpbmF0aW5nRnJvbVJlamVjdGlvbiIsIm1heWJlV3JhcEFzRXJyb3IiLCIyMSIsImFzQ2FsbGJhY2siLCJub2RlaWZ5IiwiMjIiLCJfZnVsZmlsbG1lbnRIYW5kbGVyMCIsIl9yZWplY3Rpb25IYW5kbGVyMCIsIl9wcm9taXNlMCIsIl9yZWNlaXZlcjAiLCJfcmVzb2x2ZUZyb21FeGVjdXRvciIsIlByb21pc2VJbnNwZWN0aW9uIiwiZG9tYWluIiwicmVmbGVjdCIsIl9zZXRJc0ZpbmFsIiwidG9KU09OIiwiZnVsZmlsbG1lbnRWYWx1ZSIsInJlamVjdGlvblJlYXNvbiIsIm9yaWdpbmF0ZXNGcm9tUmVqZWN0aW9uIiwiZ2V0TmV3TGlicmFyeUNvcHkiLCJmcm9tTm9kZSIsImZyb21DYWxsYmFjayIsIm11bHRpQXJncyIsIl9pc0ZhdGVTZWFsZWQiLCJfc2V0QXN5bmNHdWFyYW50ZWVkIiwiY2FzdCIsIl9zZXRGdWxmaWxsZWQiLCJmdWxmaWxsZWQiLCJfc2V0dGxlUHJvbWlzZUN0eCIsIl9zZXR0bGVQcm9taXNlTGF0ZUNhbmNlbGxhdGlvbk9ic2VydmVyIiwicmVjZWl2ZXIiLCJfYWRkQ2FsbGJhY2tzIiwiX3NldExlbmd0aCIsIl9zZXRSZWplY3RlZCIsIl9zZXRGb2xsb3dpbmciLCJfaXNGaW5hbCIsIl91bnNldENhbmNlbGxlZCIsIl9yZWNlaXZlckF0IiwiX3Byb21pc2VBdCIsIl9mdWxmaWxsbWVudEhhbmRsZXJBdCIsIl9yZWplY3Rpb25IYW5kbGVyQXQiLCJfbWlncmF0ZUNhbGxiYWNrMCIsIl9taWdyYXRlQ2FsbGJhY2tBdCIsIl9zZXRGb2xsb3dlZSIsImVuc3VyZUVycm9yT2JqZWN0IiwiX3NldHRsZVByb21pc2VGcm9tSGFuZGxlciIsIl9zZXR0bGVQcm9taXNlIiwiX3NldHRsZVByb21pc2UwIiwiX2NsZWFyQ2FsbGJhY2tEYXRhQXRJbmRleCIsIl9mdWxmaWxsUHJvbWlzZXMiLCJfcmVqZWN0UHJvbWlzZXMiLCJkZWZlciIsInBlbmRpbmciLCJ0b0Zhc3RQcm9wZXJ0aWVzIiwibGFzdExpbmVFcnJvciIsIi4vYW55LmpzIiwiLi9hc3luYyIsIi4vYmluZCIsIi4vY2FsbF9nZXQuanMiLCIuL2NhbmNlbCIsIi4vY2F0Y2hfZmlsdGVyIiwiLi9jb250ZXh0IiwiLi9kZWJ1Z2dhYmlsaXR5IiwiLi9kaXJlY3RfcmVzb2x2ZSIsIi4vZWFjaC5qcyIsIi4vZmlsdGVyLmpzIiwiLi9maW5hbGx5IiwiLi9nZW5lcmF0b3JzLmpzIiwiLi9qb2luIiwiLi9tYXAuanMiLCIuL21ldGhvZCIsIi4vbm9kZWJhY2siLCIuL25vZGVpZnkuanMiLCIuL3Byb21pc2VfYXJyYXkiLCIuL3Byb21pc2lmeS5qcyIsIi4vcHJvcHMuanMiLCIuL3JhY2UuanMiLCIuL3JlZHVjZS5qcyIsIi4vc2V0dGxlLmpzIiwiLi9zb21lLmpzIiwiLi9zeW5jaHJvbm91c19pbnNwZWN0aW9uIiwiLi90aGVuYWJsZXMiLCIuL3RpbWVycy5qcyIsIi4vdXNpbmcuanMiLCIyMyIsImFzQXJyYXkiLCJfcmVzb2x2ZUVtcHR5QXJyYXkiLCJfaXRlcmF0ZSIsImdldEFjdHVhbExlbmd0aCIsInNob3VsZENvcHlWYWx1ZXMiLCIyNCIsIl9faXNQcm9taXNpZmllZF9fIiwiZ2V0RGF0YVByb3BlcnR5T3JEZWZhdWx0IiwiaW5oZXJpdGVkRGF0YUtleXMiLCJSZWdFeHAiLCJ3aXRoQXBwZW5kZWQiLCJwcm9taXNpZnkiLCJjb250ZXh0IiwiY29weURlc2NyaXB0b3JzIiwicHJvbWlzaWZ5QWxsIiwic3VmZml4IiwicHJvbWlzaWZpZXIiLCJpc0NsYXNzIiwiMjUiLCJfaXNNYXAiLCJwcm9wcyIsIk1hcCIsInNpemUiLCIyNiIsIl9jYXBhY2l0eSIsIl9mcm9udCIsIl93aWxsQmVPdmVyQ2FwYWNpdHkiLCJfY2hlY2tDYXBhY2l0eSIsIl91bnNoaWZ0T25lIiwiX3Jlc2l6ZVRvIiwiMjciLCJyYWNlIiwiMjgiLCJfZm4iLCJfaW5pdGlhbFZhbHVlIiwiX2N1cnJlbnRDYW5jZWxsYWJsZSIsIl9lYWNoVmFsdWVzIiwiYWNjdW0iLCJhcnJheSIsIl9nb3RBY2N1bSIsIl9lYWNoQ29tcGxldGUiLCJfcmVzdWx0Q2FuY2VsbGVkJCIsIjI5IiwiZ2V0TmF0aXZlUHJvbWlzZSIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJzZXRJbW1lZGlhdGUiLCJuZXh0VGljayIsImlzUmVjZW50Tm9kZSIsIm5hdmlnYXRvciIsInN0YW5kYWxvbmUiLCJjb3Jkb3ZhIiwiYXR0cmlidXRlcyIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIm9ic2VydmUiLCJkaXNjb25uZWN0IiwiMzAiLCJfcHJvbWlzZVJlc29sdmVkIiwiX3NldHRsZWRWYWx1ZUZpZWxkIiwic2V0dGxlIiwiMzEiLCJfaG93TWFueSIsIl91bndyYXAiLCJfaW5pdGlhbGl6ZWQiLCJfY2FuUG9zc2libHlGdWxmaWxsIiwiX2dldFJhbmdlRXJyb3IiLCJob3dNYW55IiwiX2FkZEZ1bGZpbGxlZCIsIl9mdWxmaWxsZWQiLCJfYWRkUmVqZWN0ZWQiLCJfY2hlY2tPdXRjb21lIiwiX3JlamVjdGVkIiwic29tZSIsIjMyIiwiaXNSZXNvbHZlZCIsIl9faXNDYW5jZWxsZWQiLCIzMyIsIjM0IiwiaGFuZGxlIiwiY2xlYXJUaW1lb3V0IiwiZGVsYXkiLCIzNSIsIl9pc0Rpc3Bvc2FibGUiLCJfZ2V0RGlzcG9zZXIiLCJfc2V0RGlzcG9zYWJsZSIsInRyeURpc3Bvc2UiLCJfZGF0YSIsIl9jb250ZXh0IiwiaXNEaXNwb3NlciIsInJlc291cmNlcyIsImRhdGEiLCJyZXNvdXJjZSIsImRvRGlzcG9zZSIsIl91bnNldERpc3Bvc2FibGUiLCJ1c2luZyIsIl9kaXNwb3NlciIsImRpc3Bvc2VyIiwiMzYiLCJmcm9tIiwidGhyb3dlciIsImlzUHJpbWl0aXZlIiwiaXNFcnJvciIsImZpbGxlZFJhbmdlIiwiY2hyb21lIiwibG9hZFRpbWVzIiwidmVyc2lvbnMiLCJub2RlIiwicnVuIiwiZnVuIiwiYnJvd3NlciIsImFyZ3YiLCJvbiIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwidW1hc2siLCJfaWQiLCJfY2xlYXJGbiIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImNsb3NlIiwidW5yZWYiLCJyZWYiLCJlbnJvbGwiLCJfaWRsZVRpbWVvdXRJZCIsIl9pZGxlVGltZW91dCIsInVuZW5yb2xsIiwiX3VucmVmQWN0aXZlIiwiYWN0aXZlIiwiX29uVGltZW91dCIsImNsZWFySW1tZWRpYXRlIiwidXNlckFnZW50IiwiVVJMIiwid2Via2l0VVJMIiwiY3JlYXRlRWxlbWVudE5TIiwiTW91c2VFdmVudCIsIkhUTUxFbGVtZW50Iiwic2FmYXJpIiwicmV2b2tlT2JqZWN0VVJMIiwicmVtb3ZlIiwiZnJvbUNoYXJDb2RlIiwib25sb2FkZW5kIiwiaHJlZiIsInJlYWR5U3RhdGUiLCJET05FIiwicmVhZEFzRGF0YVVSTCIsIklOSVQiLCJjcmVhdGVPYmplY3RVUkwiLCJkb3dubG9hZCIsIm1zU2F2ZU9yT3BlbkJsb2IiLCJhYm9ydCIsIldSSVRJTkciLCJvbndyaXRlc3RhcnQiLCJvbnByb2dyZXNzIiwib253cml0ZSIsIm9uYWJvcnQiLCJvbndyaXRlZW5kIiwiY29udGVudCIsImhvbWVwYWdlIiwibWFpbiIsImRpcmVjdG9yaWVzIiwidGVzdHMiLCJzY3JpcHRzIiwic3RhcnQiLCJidWlsZCIsImJ1aWxkLXByb2QiLCJwcmV2ZXJzaW9uIiwicHJlcHVibGlzaCIsInJlcG9zaXRvcnkiLCJrZXl3b3JkcyIsImF1dGhvciIsImxpY2Vuc2UiLCJidWdzIiwiZGV2RGVwZW5kZW5jaWVzIiwiYmFiZWwtY29yZSIsImJhYmVsLWxvYWRlciIsImJhYmVsLXBsdWdpbi10cmFuc2Zvcm0tcnVudGltZSIsImJhYmVsLXByZXNldC1lczIwMTUiLCJjaGFpIiwiZmV0Y2gtbW9jayIsIm1vY2hhIiwibW9jaGEtbG9hZGVyIiwic2lub24iLCJzaW5vbi1hcy1wcm9taXNlZCIsIndlYnBhY2siLCJkZXBlbmRlbmNpZXMiLCJibHVlYmlyZCIsImZpbGUtc2F2ZXIiLCJpc29tb3JwaGljLWZldGNoIiwianNvbi1sb2FkZXIiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJmYWN0b3J5Iiwibm9HbG9iYWwiLCJET01FdmFsIiwiZG9jIiwic2NyaXB0IiwiYXBwZW5kQ2hpbGQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJpc0FycmF5TGlrZSIsIm9iaiIsImpRdWVyeSIsImlzV2luZG93Iiwid2lubm93IiwiZWxlbWVudHMiLCJxdWFsaWZpZXIiLCJub3QiLCJpc0Z1bmN0aW9uIiwiZ3JlcCIsImVsZW0iLCJub2RlVHlwZSIsInJpc1NpbXBsZSIsInNpYmxpbmciLCJjdXIiLCJkaXIiLCJjcmVhdGVPcHRpb25zIiwicm5vdHdoaXRlIiwiZmxhZyIsIklkZW50aXR5IiwiVGhyb3dlciIsImV4IiwiYWRvcHRWYWx1ZSIsImZhaWwiLCJjb21wbGV0ZWQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVhZHkiLCJEYXRhIiwiZXhwYW5kbyIsImRhdGFBdHRyIiwicm11bHRpRGFzaCIsImdldEF0dHJpYnV0ZSIsInJicmFjZSIsImRhdGFVc2VyIiwiYWRqdXN0Q1NTIiwicHJvcCIsInZhbHVlUGFydHMiLCJ0d2VlbiIsImFkanVzdGVkIiwic2NhbGUiLCJtYXhJdGVyYXRpb25zIiwiY3VycmVudFZhbHVlIiwiY3NzIiwiaW5pdGlhbCIsInVuaXQiLCJjc3NOdW1iZXIiLCJpbml0aWFsSW5Vbml0IiwicmNzc051bSIsInN0eWxlIiwiZW5kIiwiZ2V0RGVmYXVsdERpc3BsYXkiLCJ0ZW1wIiwib3duZXJEb2N1bWVudCIsIm5vZGVOYW1lIiwiZGlzcGxheSIsImRlZmF1bHREaXNwbGF5TWFwIiwic2hvd0hpZGUiLCJzaG93IiwiZGF0YVByaXYiLCJpc0hpZGRlbldpdGhpblRyZWUiLCJ0YWciLCJyZXQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJtZXJnZSIsInNldEdsb2JhbEV2YWwiLCJlbGVtcyIsInJlZkVsZW1lbnRzIiwiYnVpbGRGcmFnbWVudCIsInNlbGVjdGlvbiIsImlnbm9yZWQiLCJ0bXAiLCJ3cmFwIiwiY29udGFpbnMiLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJub2RlcyIsInJodG1sIiwicnRhZ05hbWUiLCJ3cmFwTWFwIiwiX2RlZmF1bHQiLCJpbm5lckhUTUwiLCJodG1sUHJlZmlsdGVyIiwibGFzdENoaWxkIiwiY2hpbGROb2RlcyIsImZpcnN0Q2hpbGQiLCJ0ZXh0Q29udGVudCIsImNyZWF0ZVRleHROb2RlIiwiaW5BcnJheSIsInJzY3JpcHRUeXBlIiwicmV0dXJuVHJ1ZSIsInJldHVybkZhbHNlIiwic2FmZUFjdGl2ZUVsZW1lbnQiLCJhY3RpdmVFbGVtZW50IiwiZXJyIiwidHlwZXMiLCJzZWxlY3RvciIsIm9uZSIsIm9yaWdGbiIsImV2ZW50IiwiZ3VpZCIsImFkZCIsIm1hbmlwdWxhdGlvblRhcmdldCIsImRpc2FibGVTY3JpcHQiLCJyZXN0b3JlU2NyaXB0IiwicnNjcmlwdFR5cGVNYXNrZWQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjbG9uZUNvcHlFdmVudCIsInNyYyIsImRlc3QiLCJwZGF0YU9sZCIsInBkYXRhQ3VyIiwidWRhdGFPbGQiLCJ1ZGF0YUN1ciIsImhhc0RhdGEiLCJhY2Nlc3MiLCJleHRlbmQiLCJmaXhJbnB1dCIsInJjaGVja2FibGVUeXBlIiwiY2hlY2tlZCIsImRlZmF1bHRWYWx1ZSIsImRvbU1hbmlwIiwiY29sbGVjdGlvbiIsImZpcnN0IiwiaGFzU2NyaXB0cyIsImlOb0Nsb25lIiwiY2hlY2tDbG9uZSIsInJjaGVja2VkIiwiZXEiLCJodG1sIiwiX2V2YWxVcmwiLCJyY2xlYW5TY3JpcHQiLCJrZWVwRGF0YSIsImNsZWFuRGF0YSIsImN1ckNTUyIsImNvbXB1dGVkIiwid2lkdGgiLCJtaW5XaWR0aCIsIm1heFdpZHRoIiwiZ2V0U3R5bGVzIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInBpeGVsTWFyZ2luUmlnaHQiLCJybnVtbm9ucHgiLCJybWFyZ2luIiwiYWRkR2V0SG9va0lmIiwiY29uZGl0aW9uRm4iLCJob29rRm4iLCJ2ZW5kb3JQcm9wTmFtZSIsImVtcHR5U3R5bGUiLCJjYXBOYW1lIiwiY3NzUHJlZml4ZXMiLCJzZXRQb3NpdGl2ZU51bWJlciIsInN1YnRyYWN0IiwibWF0Y2hlcyIsImF1Z21lbnRXaWR0aE9ySGVpZ2h0IiwiZXh0cmEiLCJpc0JvcmRlckJveCIsInN0eWxlcyIsImNzc0V4cGFuZCIsImdldFdpZHRoT3JIZWlnaHQiLCJ2YWx1ZUlzQm9yZGVyQm94IiwiZ2V0Q2xpZW50UmVjdHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJib3hTaXppbmdSZWxpYWJsZSIsInBhcnNlRmxvYXQiLCJUd2VlbiIsImVhc2luZyIsInJhZiIsInRpbWVySWQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJmeCIsInRpY2siLCJjcmVhdGVGeE5vdyIsImZ4Tm93Iiwibm93IiwiZ2VuRngiLCJpbmNsdWRlV2lkdGgiLCJ3aGljaCIsImF0dHJzIiwiaGVpZ2h0Iiwib3BhY2l0eSIsImNyZWF0ZVR3ZWVuIiwiYW5pbWF0aW9uIiwiQW5pbWF0aW9uIiwidHdlZW5lcnMiLCJkZWZhdWx0UHJlZmlsdGVyIiwib3B0cyIsImhvb2tzIiwib2xkZmlyZSIsInByb3BUd2VlbiIsInJlc3RvcmVEaXNwbGF5IiwiaXNCb3giLCJhbmltIiwib3JpZyIsImhpZGRlbiIsImRhdGFTaG93IiwicXVldWUiLCJfcXVldWVIb29rcyIsInVucXVldWVkIiwiZW1wdHkiLCJmaXJlIiwiYWx3YXlzIiwicmZ4dHlwZXMiLCJpc0VtcHR5T2JqZWN0Iiwib3ZlcmZsb3ciLCJvdmVyZmxvd1giLCJvdmVyZmxvd1kiLCJwcm9wRmlsdGVyIiwic3BlY2lhbEVhc2luZyIsImNhbWVsQ2FzZSIsImNzc0hvb2tzIiwiZXhwYW5kIiwicHJvcGVydGllcyIsInN0b3BwZWQiLCJwcmVmaWx0ZXJzIiwiZGVmZXJyZWQiLCJEZWZlcnJlZCIsImN1cnJlbnRUaW1lIiwicmVtYWluaW5nIiwic3RhcnRUaW1lIiwiZHVyYXRpb24iLCJwZXJjZW50IiwidHdlZW5zIiwibm90aWZ5V2l0aCIsInJlc29sdmVXaXRoIiwib3JpZ2luYWxQcm9wZXJ0aWVzIiwib3JpZ2luYWxPcHRpb25zIiwic3RvcCIsImdvdG9FbmQiLCJyZWplY3RXaXRoIiwicHJveHkiLCJ0aW1lciIsImNvbXBsZXRlIiwiZ2V0Q2xhc3MiLCJidWlsZFBhcmFtcyIsInByZWZpeCIsInRyYWRpdGlvbmFsIiwicmJyYWNrZXQiLCJhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMiLCJzdHJ1Y3R1cmUiLCJkYXRhVHlwZUV4cHJlc3Npb24iLCJmdW5jIiwiZGF0YVR5cGUiLCJkYXRhVHlwZXMiLCJpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyIsImpxWEhSIiwiaW5zcGVjdCIsInNlbGVjdGVkIiwiaW5zcGVjdGVkIiwicHJlZmlsdGVyT3JGYWN0b3J5IiwiZGF0YVR5cGVPclRyYW5zcG9ydCIsInNlZWtpbmdUcmFuc3BvcnQiLCJ0cmFuc3BvcnRzIiwiYWpheEV4dGVuZCIsImRlZXAiLCJmbGF0T3B0aW9ucyIsImFqYXhTZXR0aW5ncyIsImFqYXhIYW5kbGVSZXNwb25zZXMiLCJyZXNwb25zZXMiLCJjdCIsImZpbmFsRGF0YVR5cGUiLCJmaXJzdERhdGFUeXBlIiwiY29udGVudHMiLCJtaW1lVHlwZSIsImNvbnZlcnRlcnMiLCJhamF4Q29udmVydCIsImlzU3VjY2VzcyIsImNvbnYyIiwiY3VycmVudCIsImNvbnYiLCJwcmV2IiwicmVzcG9uc2VGaWVsZHMiLCJkYXRhRmlsdGVyIiwic3RhdGUiLCJnZXRXaW5kb3ciLCJkZWZhdWx0VmlldyIsImFyciIsImdldFByb3RvIiwiY2xhc3MydHlwZSIsImhhc093biIsImZuVG9TdHJpbmciLCJPYmplY3RGdW5jdGlvblN0cmluZyIsInJ0cmltIiwicm1zUHJlZml4IiwicmRhc2hBbHBoYSIsImZjYW1lbENhc2UiLCJsZXR0ZXIiLCJqcXVlcnkiLCJ0b0FycmF5IiwibnVtIiwicHVzaFN0YWNrIiwicHJldk9iamVjdCIsImxhc3QiLCJsZW4iLCJzb3J0IiwiY29weSIsImNvcHlJc0FycmF5IiwiaXNQbGFpbk9iamVjdCIsImlzUmVhZHkiLCJtc2ciLCJub29wIiwiaXNOdW1lcmljIiwicHJvdG8iLCJDdG9yIiwiZ2xvYmFsRXZhbCIsInN0cmluZyIsIm1ha2VBcnJheSIsInJlc3VsdHMiLCJzZWNvbmQiLCJpbnZlcnQiLCJjYWxsYmFja0ludmVyc2UiLCJjYWxsYmFja0V4cGVjdCIsImFyZyIsIlNpenpsZSIsInNlZWQiLCJuaWQiLCJncm91cHMiLCJuZXdTZWxlY3RvciIsIm5ld0NvbnRleHQiLCJwcmVmZXJyZWREb2MiLCJzZXREb2N1bWVudCIsImRvY3VtZW50SXNIVE1MIiwicnF1aWNrRXhwciIsImdldEVsZW1lbnRCeUlkIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInFzYSIsImNvbXBpbGVyQ2FjaGUiLCJyYnVnZ3lRU0EiLCJyY3NzZXNjYXBlIiwiZmNzc2VzY2FwZSIsInNldEF0dHJpYnV0ZSIsInRva2VuaXplIiwidG9TZWxlY3RvciIsInJzaWJsaW5nIiwidGVzdENvbnRleHQiLCJxc2FFcnJvciIsInNlbGVjdCIsImNyZWF0ZUNhY2hlIiwiY2FjaGUiLCJFeHByIiwiY2FjaGVMZW5ndGgiLCJtYXJrRnVuY3Rpb24iLCJhc3NlcnQiLCJhZGRIYW5kbGUiLCJhdHRySGFuZGxlIiwic2libGluZ0NoZWNrIiwiZGlmZiIsInNvdXJjZUluZGV4IiwibmV4dFNpYmxpbmciLCJjcmVhdGVJbnB1dFBzZXVkbyIsImNyZWF0ZUJ1dHRvblBzZXVkbyIsImNyZWF0ZURpc2FibGVkUHNldWRvIiwiZGlzYWJsZWQiLCJpc0Rpc2FibGVkIiwiZGlzYWJsZWRBbmNlc3RvciIsImNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8iLCJhcmd1bWVudCIsIm1hdGNoSW5kZXhlcyIsInNldEZpbHRlcnMiLCJ0b2tlbnMiLCJhZGRDb21iaW5hdG9yIiwibWF0Y2hlciIsImNvbWJpbmF0b3IiLCJiYXNlIiwic2tpcCIsImNoZWNrTm9uRWxlbWVudHMiLCJkb25lTmFtZSIsInhtbCIsIm9sZENhY2hlIiwidW5pcXVlQ2FjaGUiLCJvdXRlckNhY2hlIiwibmV3Q2FjaGUiLCJkaXJydW5zIiwidW5pcXVlSUQiLCJlbGVtZW50TWF0Y2hlciIsIm1hdGNoZXJzIiwibXVsdGlwbGVDb250ZXh0cyIsImNvbnRleHRzIiwiY29uZGVuc2UiLCJ1bm1hdGNoZWQiLCJuZXdVbm1hdGNoZWQiLCJtYXBwZWQiLCJzZXRNYXRjaGVyIiwicHJlRmlsdGVyIiwicG9zdEZpbHRlciIsInBvc3RGaW5kZXIiLCJwb3N0U2VsZWN0b3IiLCJwcmVNYXAiLCJwb3N0TWFwIiwicHJlZXhpc3RpbmciLCJtYXRjaGVySW4iLCJtYXRjaGVyT3V0IiwibWF0Y2hlckZyb21Ub2tlbnMiLCJjaGVja0NvbnRleHQiLCJsZWFkaW5nUmVsYXRpdmUiLCJyZWxhdGl2ZSIsImltcGxpY2l0UmVsYXRpdmUiLCJtYXRjaENvbnRleHQiLCJtYXRjaEFueUNvbnRleHQiLCJvdXRlcm1vc3RDb250ZXh0IiwibWF0Y2hlckZyb21Hcm91cE1hdGNoZXJzIiwiZWxlbWVudE1hdGNoZXJzIiwic2V0TWF0Y2hlcnMiLCJieVNldCIsImJ5RWxlbWVudCIsInN1cGVyTWF0Y2hlciIsIm91dGVybW9zdCIsIm1hdGNoZWRDb3VudCIsInNldE1hdGNoZWQiLCJjb250ZXh0QmFja3VwIiwiZGlycnVuc1VuaXF1ZSIsInVuaXF1ZVNvcnQiLCJnZXRUZXh0IiwiaXNYTUwiLCJjb21waWxlIiwic29ydElucHV0IiwiaGFzRHVwbGljYXRlIiwiZG9jRWxlbSIsInJidWdneU1hdGNoZXMiLCJjbGFzc0NhY2hlIiwidG9rZW5DYWNoZSIsInNvcnRPcmRlciIsInB1c2hfbmF0aXZlIiwiYm9vbGVhbnMiLCJ3aGl0ZXNwYWNlIiwiaWRlbnRpZmllciIsInBzZXVkb3MiLCJyd2hpdGVzcGFjZSIsInJjb21tYSIsInJjb21iaW5hdG9ycyIsInJhdHRyaWJ1dGVRdW90ZXMiLCJycHNldWRvIiwicmlkZW50aWZpZXIiLCJtYXRjaEV4cHIiLCJJRCIsIkNMQVNTIiwiVEFHIiwiQVRUUiIsIlBTRVVETyIsIkNISUxEIiwiYm9vbCIsIm5lZWRzQ29udGV4dCIsInJpbnB1dHMiLCJyaGVhZGVyIiwicm5hdGl2ZSIsInJ1bmVzY2FwZSIsImZ1bmVzY2FwZSIsImVzY2FwZWQiLCJlc2NhcGVkV2hpdGVzcGFjZSIsImhpZ2giLCJjaCIsImFzQ29kZVBvaW50IiwiY2hhckNvZGVBdCIsInVubG9hZEhhbmRsZXIiLCJlbHMiLCJkb2N1bWVudEVsZW1lbnQiLCJoYXNDb21wYXJlIiwic3ViV2luZG93IiwidG9wIiwiYWRkRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50IiwiY2xhc3NOYW1lIiwiY3JlYXRlQ29tbWVudCIsImdldEJ5SWQiLCJnZXRFbGVtZW50c0J5TmFtZSIsImF0dHJJZCIsImdldEF0dHJpYnV0ZU5vZGUiLCJtYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJvTWF0Y2hlc1NlbGVjdG9yIiwibXNNYXRjaGVzU2VsZWN0b3IiLCJkaXNjb25uZWN0ZWRNYXRjaCIsImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIiwiYWRvd24iLCJidXAiLCJjb21wYXJlIiwic29ydERldGFjaGVkIiwiYXVwIiwiYXAiLCJicCIsImV4cHIiLCJhdHRyIiwic3BlY2lmaWVkIiwiZXNjYXBlIiwic2VsIiwiZHVwbGljYXRlcyIsImRldGVjdER1cGxpY2F0ZXMiLCJzb3J0U3RhYmxlIiwibm9kZVZhbHVlIiwic2VsZWN0b3JzIiwiY3JlYXRlUHNldWRvIiwiPiIsIiAiLCIrIiwifiIsImV4Y2VzcyIsInVucXVvdGVkIiwibm9kZU5hbWVTZWxlY3RvciIsInBhdHRlcm4iLCJvcGVyYXRvciIsImNoZWNrIiwid2hhdCIsInNpbXBsZSIsImZvcndhcmQiLCJvZlR5cGUiLCJub2RlSW5kZXgiLCJwYXJlbnQiLCJ1c2VDYWNoZSIsInBzZXVkbyIsImlkeCIsIm1hdGNoZWQiLCJpbm5lclRleHQiLCJsYW5nIiwiZWxlbUxhbmciLCJoYXNoIiwicm9vdCIsImZvY3VzIiwiaGFzRm9jdXMiLCJ0YWJJbmRleCIsImVuYWJsZWQiLCJzZWxlY3RlZEluZGV4IiwiYnV0dG9uIiwiZXZlbiIsIm9kZCIsImx0IiwiZ3QiLCJyYWRpbyIsImNoZWNrYm94IiwiZmlsZSIsInBhc3N3b3JkIiwiaW1hZ2UiLCJzdWJtaXQiLCJyZXNldCIsImZpbHRlcnMiLCJwYXJzZU9ubHkiLCJzb0ZhciIsInByZUZpbHRlcnMiLCJjYWNoZWQiLCJ0b2tlbiIsImNvbXBpbGVkIiwidW5pcXVlIiwiaXNYTUxEb2MiLCJlc2NhcGVTZWxlY3RvciIsInVudGlsIiwidHJ1bmNhdGUiLCJzaWJsaW5ncyIsInJuZWVkc0NvbnRleHQiLCJyc2luZ2xlVGFnIiwicm9vdGpRdWVyeSIsInBhcnNlSFRNTCIsInJwYXJlbnRzcHJldiIsImd1YXJhbnRlZWRVbmlxdWUiLCJjaGlsZHJlbiIsInRhcmdldHMiLCJjbG9zZXN0IiwicHJldkFsbCIsImFkZEJhY2siLCJwYXJlbnRzIiwicGFyZW50c1VudGlsIiwibmV4dEFsbCIsIm5leHRVbnRpbCIsInByZXZVbnRpbCIsImNvbnRlbnREb2N1bWVudCIsInJldmVyc2UiLCJDYWxsYmFja3MiLCJmaXJpbmciLCJtZW1vcnkiLCJmaXJlZCIsImxvY2tlZCIsImZpcmluZ0luZGV4Iiwic3RvcE9uRmFsc2UiLCJkaXNhYmxlIiwibG9jayIsImZpcmVXaXRoIiwidHVwbGVzIiwiY2F0Y2giLCJwaXBlIiwiZm5zIiwibmV3RGVmZXIiLCJ0dXBsZSIsInJldHVybmVkIiwibm90aWZ5Iiwib25GdWxmaWxsZWQiLCJvblJlamVjdGVkIiwib25Qcm9ncmVzcyIsImRlcHRoIiwic3BlY2lhbCIsIm1pZ2h0VGhyb3ciLCJtYXhEZXB0aCIsInByb2Nlc3MiLCJleGNlcHRpb25Ib29rIiwic3RhY2tUcmFjZSIsImdldFN0YWNrSG9vayIsInN0YXRlU3RyaW5nIiwid2hlbiIsInNpbmdsZVZhbHVlIiwicmVzb2x2ZUNvbnRleHRzIiwicmVzb2x2ZVZhbHVlcyIsIm1hc3RlciIsInVwZGF0ZUZ1bmMiLCJyZXJyb3JOYW1lcyIsInJlYWR5RXhjZXB0aW9uIiwicmVhZHlMaXN0IiwicmVhZHlXYWl0IiwiaG9sZFJlYWR5IiwiaG9sZCIsIndhaXQiLCJkb1Njcm9sbCIsImNoYWluYWJsZSIsImVtcHR5R2V0IiwicmF3IiwiYnVsayIsImFjY2VwdERhdGEiLCJvd25lciIsInJlbW92ZURhdGEiLCJfcmVtb3ZlRGF0YSIsImRlcXVldWUiLCJzdGFydExlbmd0aCIsInNldHRlciIsImNsZWFyUXVldWUiLCJjb3VudCIsInBudW0iLCJzd2FwIiwib2xkIiwib3B0aW9uIiwidGhlYWQiLCJjb2wiLCJ0ciIsInRkIiwib3B0Z3JvdXAiLCJ0Ym9keSIsInRmb290IiwiY29sZ3JvdXAiLCJjYXB0aW9uIiwidGgiLCJkaXYiLCJjbG9uZU5vZGUiLCJub0Nsb25lQ2hlY2tlZCIsInJrZXlFdmVudCIsInJtb3VzZUV2ZW50IiwicnR5cGVuYW1lc3BhY2UiLCJoYW5kbGVPYmpJbiIsImV2ZW50SGFuZGxlIiwiaGFuZGxlT2JqIiwiaGFuZGxlcnMiLCJuYW1lc3BhY2VzIiwib3JpZ1R5cGUiLCJlbGVtRGF0YSIsInRyaWdnZXJlZCIsImRpc3BhdGNoIiwiZGVsZWdhdGVUeXBlIiwiYmluZFR5cGUiLCJuYW1lc3BhY2UiLCJkZWxlZ2F0ZUNvdW50Iiwic2V0dXAiLCJtYXBwZWRUeXBlcyIsIm9yaWdDb3VudCIsInRlYXJkb3duIiwicmVtb3ZlRXZlbnQiLCJuYXRpdmVFdmVudCIsImhhbmRsZXJRdWV1ZSIsImZpeCIsImRlbGVnYXRlVGFyZ2V0IiwicHJlRGlzcGF0Y2giLCJpc1Byb3BhZ2F0aW9uU3RvcHBlZCIsImN1cnJlbnRUYXJnZXQiLCJpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCIsInJuYW1lc3BhY2UiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsInBvc3REaXNwYXRjaCIsImFkZFByb3AiLCJob29rIiwib3JpZ2luYWxFdmVudCIsImxvYWQiLCJub0J1YmJsZSIsInRyaWdnZXIiLCJibHVyIiwiY2xpY2siLCJiZWZvcmV1bmxvYWQiLCJyZXR1cm5WYWx1ZSIsImlzRGVmYXVsdFByZXZlbnRlZCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJyZWxhdGVkVGFyZ2V0IiwidGltZVN0YW1wIiwiaXNTaW11bGF0ZWQiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJhbHRLZXkiLCJidWJibGVzIiwiY2hhbmdlZFRvdWNoZXMiLCJjdHJsS2V5IiwiZXZlbnRQaGFzZSIsIm1ldGFLZXkiLCJwYWdlWCIsInBhZ2VZIiwic2hpZnRLZXkiLCJ2aWV3IiwiY2hhciIsImNoYXJDb2RlIiwia2V5Q29kZSIsImJ1dHRvbnMiLCJjbGllbnRYIiwiY2xpZW50WSIsIm9mZnNldFgiLCJvZmZzZXRZIiwicG9pbnRlcklkIiwicG9pbnRlclR5cGUiLCJzY3JlZW5YIiwic2NyZWVuWSIsInRhcmdldFRvdWNoZXMiLCJ0b0VsZW1lbnQiLCJ0b3VjaGVzIiwibW91c2VlbnRlciIsIm1vdXNlbGVhdmUiLCJwb2ludGVyZW50ZXIiLCJwb2ludGVybGVhdmUiLCJyZWxhdGVkIiwicnhodG1sVGFnIiwicm5vSW5uZXJodG1sIiwiZGF0YUFuZEV2ZW50cyIsImRlZXBEYXRhQW5kRXZlbnRzIiwic3JjRWxlbWVudHMiLCJkZXN0RWxlbWVudHMiLCJpblBhZ2UiLCJkZXRhY2giLCJwcmVwZW5kIiwiaW5zZXJ0QmVmb3JlIiwiYmVmb3JlIiwiYWZ0ZXIiLCJyZXBsYWNlV2l0aCIsInJlcGxhY2VDaGlsZCIsImFwcGVuZFRvIiwicHJlcGVuZFRvIiwiaW5zZXJ0QWZ0ZXIiLCJyZXBsYWNlQWxsIiwib3JpZ2luYWwiLCJpbnNlcnQiLCJvcGVuZXIiLCJnZXRDb21wdXRlZFN0eWxlIiwiY29tcHV0ZVN0eWxlVGVzdHMiLCJjc3NUZXh0IiwiY29udGFpbmVyIiwiZGl2U3R5bGUiLCJwaXhlbFBvc2l0aW9uVmFsIiwicmVsaWFibGVNYXJnaW5MZWZ0VmFsIiwibWFyZ2luTGVmdCIsImJveFNpemluZ1JlbGlhYmxlVmFsIiwibWFyZ2luUmlnaHQiLCJwaXhlbE1hcmdpblJpZ2h0VmFsIiwiYmFja2dyb3VuZENsaXAiLCJjbGVhckNsb25lU3R5bGUiLCJwaXhlbFBvc2l0aW9uIiwicmVsaWFibGVNYXJnaW5MZWZ0IiwicmRpc3BsYXlzd2FwIiwiY3NzU2hvdyIsInBvc2l0aW9uIiwidmlzaWJpbGl0eSIsImNzc05vcm1hbFRyYW5zZm9ybSIsImxldHRlclNwYWNpbmciLCJmb250V2VpZ2h0IiwiYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQiLCJjb2x1bW5Db3VudCIsImZpbGxPcGFjaXR5IiwiZmxleEdyb3ciLCJmbGV4U2hyaW5rIiwibGluZUhlaWdodCIsIm9yZGVyIiwib3JwaGFucyIsIndpZG93cyIsInpJbmRleCIsInpvb20iLCJjc3NQcm9wcyIsImZsb2F0Iiwib3JpZ05hbWUiLCJsZWZ0IiwibWFyZ2luIiwicGFkZGluZyIsImJvcmRlciIsImV4cGFuZGVkIiwicGFydHMiLCJwcm9wSG9va3MiLCJlYXNlZCIsInBvcyIsInN0ZXAiLCJzY3JvbGxUb3AiLCJzY3JvbGxMZWZ0IiwibGluZWFyIiwic3dpbmciLCJjb3MiLCJQSSIsInJydW4iLCIqIiwidHdlZW5lciIsInByZWZpbHRlciIsInNwZWVkIiwib3B0Iiwic3BlZWRzIiwiZmFkZVRvIiwidG8iLCJhbmltYXRlIiwib3B0YWxsIiwiZG9BbmltYXRpb24iLCJmaW5pc2giLCJzdG9wUXVldWUiLCJ0aW1lcnMiLCJjc3NGbiIsInNsaWRlRG93biIsInNsaWRlVXAiLCJzbGlkZVRvZ2dsZSIsImZhZGVJbiIsImZhZGVPdXQiLCJmYWRlVG9nZ2xlIiwiaW50ZXJ2YWwiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsInNsb3ciLCJmYXN0IiwidGltZSIsImNoZWNrT24iLCJvcHRTZWxlY3RlZCIsInJhZGlvVmFsdWUiLCJib29sSG9vayIsInJlbW92ZUF0dHIiLCJuVHlwZSIsImF0dHJIb29rcyIsImF0dHJOYW1lcyIsImdldHRlciIsImxvd2VyY2FzZU5hbWUiLCJyZm9jdXNhYmxlIiwicmNsaWNrYWJsZSIsInJlbW92ZVByb3AiLCJwcm9wRml4IiwidGFiaW5kZXgiLCJmb3IiLCJjbGFzcyIsInJjbGFzcyIsImFkZENsYXNzIiwiY2xhc3NlcyIsImN1clZhbHVlIiwiY2xhenoiLCJmaW5hbFZhbHVlIiwicmVtb3ZlQ2xhc3MiLCJ0b2dnbGVDbGFzcyIsInN0YXRlVmFsIiwiY2xhc3NOYW1lcyIsImhhc0NsYXNzIiwicnJldHVybiIsInJzcGFjZXMiLCJ2YWxIb29rcyIsIm9wdGlvblNldCIsInJmb2N1c01vcnBoIiwib25seUhhbmRsZXJzIiwiYnViYmxlVHlwZSIsIm9udHlwZSIsImV2ZW50UGF0aCIsImlzVHJpZ2dlciIsInBhcmVudFdpbmRvdyIsInNpbXVsYXRlIiwidHJpZ2dlckhhbmRsZXIiLCJob3ZlciIsImZuT3ZlciIsImZuT3V0IiwiZm9jdXNpbiIsImF0dGFjaGVzIiwibm9uY2UiLCJycXVlcnkiLCJwYXJzZVhNTCIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsInJDUkxGIiwicnN1Ym1pdHRlclR5cGVzIiwicnN1Ym1pdHRhYmxlIiwicGFyYW0iLCJ2YWx1ZU9yRnVuY3Rpb24iLCJzZXJpYWxpemUiLCJzZXJpYWxpemVBcnJheSIsInIyMCIsInJoYXNoIiwicnRzIiwicmhlYWRlcnMiLCJybG9jYWxQcm90b2NvbCIsInJub0NvbnRlbnQiLCJycHJvdG9jb2wiLCJhbGxUeXBlcyIsIm9yaWdpbkFuY2hvciIsImxhc3RNb2RpZmllZCIsImV0YWciLCJpc0xvY2FsIiwicHJvdG9jb2wiLCJwcm9jZXNzRGF0YSIsImFzeW5jIiwiY29udGVudFR5cGUiLCJhY2NlcHRzIiwiKiB0ZXh0IiwidGV4dCBodG1sIiwidGV4dCBqc29uIiwidGV4dCB4bWwiLCJhamF4U2V0dXAiLCJzZXR0aW5ncyIsImFqYXhQcmVmaWx0ZXIiLCJhamF4VHJhbnNwb3J0IiwiYWpheCIsIm5hdGl2ZVN0YXR1c1RleHQiLCJzdWNjZXNzIiwibW9kaWZpZWQiLCJ0aW1lb3V0VGltZXIiLCJ0cmFuc3BvcnQiLCJyZXNwb25zZUhlYWRlcnNTdHJpbmciLCJpZk1vZGlmaWVkIiwiY2FjaGVVUkwiLCJjYWxsYmFja0NvbnRleHQiLCJzdGF0dXNDb2RlIiwiZmlyZUdsb2JhbHMiLCJnbG9iYWxFdmVudENvbnRleHQiLCJjb21wbGV0ZURlZmVycmVkIiwicmVzcG9uc2VIZWFkZXJzIiwidXJsQW5jaG9yIiwidW5jYWNoZWQiLCJyZXF1ZXN0SGVhZGVycyIsInJlcXVlc3RIZWFkZXJzTmFtZXMiLCJzdHJBYm9ydCIsIm92ZXJyaWRlTWltZVR5cGUiLCJmaW5hbFRleHQiLCJjcm9zc0RvbWFpbiIsImhvc3QiLCJoYXNDb250ZW50IiwiYmVmb3JlU2VuZCIsImdldEpTT04iLCJnZXRTY3JpcHQiLCJ0aHJvd3MiLCJ3cmFwQWxsIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJ3cmFwSW5uZXIiLCJ1bndyYXAiLCJ2aXNpYmxlIiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJ4aHJTdWNjZXNzU3RhdHVzIiwiMTIyMyIsInhoclN1cHBvcnRlZCIsImNvcnMiLCJlcnJvckNhbGxiYWNrIiwidXNlcm5hbWUiLCJ4aHJGaWVsZHMiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJiaW5hcnkiLCJ0ZXh0IHNjcmlwdCIsImNoYXJzZXQiLCJzY3JpcHRDaGFyc2V0IiwiZXZ0Iiwib2xkQ2FsbGJhY2tzIiwicmpzb25wIiwianNvbnAiLCJqc29ucENhbGxiYWNrIiwib3JpZ2luYWxTZXR0aW5ncyIsImNhbGxiYWNrTmFtZSIsIm92ZXJ3cml0dGVuIiwicmVzcG9uc2VDb250YWluZXIiLCJqc29uUHJvcCIsImNyZWF0ZUhUTUxEb2N1bWVudCIsImltcGxlbWVudGF0aW9uIiwia2VlcFNjcmlwdHMiLCJwYXJzZWQiLCJwYXJhbXMiLCJhbmltYXRlZCIsIm9mZnNldCIsInNldE9mZnNldCIsImN1clBvc2l0aW9uIiwiY3VyTGVmdCIsImN1ckNTU1RvcCIsImN1clRvcCIsImN1ck9mZnNldCIsImN1ckNTU0xlZnQiLCJjYWxjdWxhdGVQb3NpdGlvbiIsImN1ckVsZW0iLCJ3aW4iLCJyZWN0IiwicGFnZVlPZmZzZXQiLCJjbGllbnRUb3AiLCJwYWdlWE9mZnNldCIsImNsaWVudExlZnQiLCJvZmZzZXRQYXJlbnQiLCJwYXJlbnRPZmZzZXQiLCJzY3JvbGxUbyIsIkhlaWdodCIsIldpZHRoIiwiIiwiZGVmYXVsdEV4dHJhIiwiZnVuY05hbWUiLCJ1bmJpbmQiLCJkZWxlZ2F0ZSIsInVuZGVsZWdhdGUiLCJwYXJzZUpTT04iLCJfalF1ZXJ5IiwiXyQiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX2NsYXNzQ2FsbENoZWNrMiIsIl9jbGFzc0NhbGxDaGVjazMiLCJfY3JlYXRlQ2xhc3MyIiwiX2NyZWF0ZUNsYXNzMyIsIl9ibHVlYmlyZCIsIl9ibHVlYmlyZDIiLCJCcm93c2VyIiwibWF0Y2hlc1ZhbGlkIiwibWF0Y2hlc0ludmFsaWQiLCJpbnZhbGlkUmVnZXgiLCJ2YWxpZFJlZ2V4IiwicmVnZXgiLCJpc1ZhbGlkVXJsIiwic2VuZGVyIiwid2luZG93cyIsImdldEN1cnJlbnQiLCJwb3B1bGF0ZSIsImN1cnJlbnRXaW5kb3ciLCJ0YWJzIiwid2Vic2l0ZVRhYnMiLCJ0YWIiLCJodG1sUHJvbWlzZXMiLCJleGVjdXRlU2NyaXB0IiwidXBkYXRlZFRhYiIsImZpZWxkcyIsInN0b3JhZ2UiLCJsb2NhbCIsImtleVZhbHVlcyIsIl9sZW4iLCJfa2V5IiwicnVudGltZSIsInNlbmRNZXNzYWdlIiwiY2IiLCJvbk1lc3NhZ2UiLCJpc0JhY2tncm91bmRNc2ciLCJpc1BvcHVwTXNnIiwiZG93bmxvYWRzIiwiZG93bmxvYWRJZCIsImRvd25sb2FkTGlzdGVuZXIiLCJvbkNoYW5nZWQiLCJkb3dubG9hZEluZm8iLCJlbmRUaW1lIiwiZ2V0TWFuaWZlc3QiLCJob21lcGFnZV91cmwiLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiX2RlZmluZVByb3BlcnR5IiwiX2RlZmluZVByb3BlcnR5MiIsImRlZmluZVByb3BlcnRpZXMiLCJkZXNjcmlwdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiJE9iamVjdCIsImRlc2MiLCJkZWZpbmUiLCJwcm9taXNlcyIsIlNvbWVQcm9taXNlQXJyYXkiLCJBc3luYyIsIlF1ZXVlIiwic2NoZWR1bGUiLCJBc3luY0ludm9rZUxhdGVyIiwiQXN5bmNJbnZva2UiLCJBc3luY1NldHRsZVByb21pc2VzIiwidXRpbCIsIklOVEVSTkFMIiwidHJ5Q29udmVydFRvUHJvbWlzZSIsImRlYnVnIiwiY2FsbGVkQmluZCIsInJlamVjdFRoaXMiLCJ0YXJnZXRSZWplY3RlZCIsImJpbmRpbmdSZXNvbHZlZCIsImJpbmRpbmdSZWplY3RlZCIsIm1heWJlUHJvbWlzZSIsImNyIiwiY2FsbGVyQ2FjaGUiLCJnZXR0ZXJDYWNoZSIsImVuc3VyZU1ldGhvZCIsIm1ldGhvZE5hbWUiLCJjYWxsZXIiLCJuYW1lZEdldHRlciIsImluZGV4ZWRHZXR0ZXIiLCJnZXRHZXR0ZXIiLCJwcm9wZXJ0eU5hbWUiLCJpc0luZGV4IiwibWF5YmVHZXR0ZXIiLCJQcm9taXNlQXJyYXkiLCJhcGlSZWplY3Rpb24iLCJjYW5jZWxsZXIiLCJvbkNhbmNlbENhbGxiYWNrIiwiaW50ZXJuYWxPbmx5IiwiTkVYVF9GSUxURVIiLCJjYXRjaEZpbHRlciIsImluc3RhbmNlcyIsImJvdW5kVG8iLCJwcmVkaWNhdGVMb29wIiwiaXRlbSIsIm1hdGNoZXNQcmVkaWNhdGUiLCJnZXRLZXlzIiwiQ29udGV4dCIsInBlZWtDb250ZXh0IiwiY3JlYXRlQ29udGV4dCIsImxhc3RJbmRleCIsImNvbnRleHRTdGFjayIsInRyYWNlIiwiUHJvbWlzZV9wdXNoQ29udGV4dCIsIlByb21pc2VfcG9wQ29udGV4dCIsIlByb21pc2VfUGVla0NvbnRleHQiLCJQcm9taXNlX3BlZWtDb250ZXh0IiwiUHJvbWlzZV9wcm9taXNlQ3JlYXRlZCIsImdlbmVyYXRlUHJvbWlzZUxpZmVjeWNsZUV2ZW50T2JqZWN0IiwiZGVmYXVsdEZpcmVFdmVudCIsImNhbmNlbGxhdGlvbkV4ZWN1dGUiLCJleGVjdXRvciIsIm9uQ2FuY2VsIiwiY2FuY2VsbGF0aW9uQXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2siLCJwcmV2aW91c09uQ2FuY2VsIiwiY2FuY2VsbGF0aW9uT25DYW5jZWwiLCJjYW5jZWxsYXRpb25TZXRPbkNhbmNlbCIsImNhbmNlbGxhdGlvbkNsZWFyQ2FuY2VsbGF0aW9uRGF0YSIsImNhbmNlbGxhdGlvblByb3BhZ2F0ZUZyb20iLCJmbGFncyIsImJyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwiLCJiaW5kaW5nUHJvcGFnYXRlRnJvbSIsImxvbmdTdGFja1RyYWNlc0NhcHR1cmVTdGFja1RyYWNlIiwibG9uZ1N0YWNrVHJhY2VzQXR0YWNoRXh0cmFUcmFjZSIsImlnbm9yZVNlbGYiLCJwYXJzZVN0YWNrQW5kTWVzc2FnZSIsImhhbmRsZXJMaW5lIiwiY3JlYXRvckxpbmUiLCJ0cmFjZUxpbmVzIiwiY2xlYW5TdGFjayIsIm5vZGVGcmFtZVBhdHRlcm4iLCJsaW5lTWF0Y2hlcyIsInBhcnNlTGluZVBhdHRlcm4iLCJmaXJzdFVzZXJMaW5lIiwicmVwbGFjZW1lbnQiLCJzaG91bGRVc2VPd25UcmFjZSIsImFjdGl2ZUZpcmVFdmVudCIsImZvcm1hdEFuZExvZ0Vycm9yIiwicmVjb25zdHJ1Y3RTdGFjayIsInN0YWNrcyIsInJlbW92ZUR1cGxpY2F0ZU9yRW1wdHlKdW1wcyIsInJlbW92ZUNvbW1vblJvb3RzIiwiY3VycmVudExhc3RJbmRleCIsImN1cnJlbnRMYXN0TGluZSIsImNvbW1vblJvb3RNZWV0UG9pbnQiLCJpc1RyYWNlTGluZSIsInN0YWNrRnJhbWVQYXR0ZXJuIiwiaXNJbnRlcm5hbEZyYW1lIiwic2hvdWxkSWdub3JlIiwiaW5kZW50U3RhY2tGcmFtZXMiLCJzdGFja0ZyYW1lc0FzQXJyYXkiLCJpc1NvZnQiLCJmb3JtYXRTdGFjayIsInByaW50V2FybmluZyIsImZpcmVSZWplY3Rpb25FdmVudCIsImxvY2FsSGFuZGxlciIsImxvY2FsRXZlbnRGaXJlZCIsImZvcm1hdE5vbkVycm9yIiwic3RyIiwicnVzZWxlc3NUb1N0cmluZyIsIm5ld1N0ciIsInNuaXAiLCJtYXhDaGFycyIsImxvbmdTdGFja1RyYWNlc0lzU3VwcG9ydGVkIiwicGFyc2VMaW5lSW5mbyIsInBhcnNlTGluZUluZm9SZWdleCIsImZpcnN0RmlsZU5hbWUiLCJsYXN0RmlsZU5hbWUiLCJmaXJzdFN0YWNrTGluZXMiLCJsYXN0U3RhY2tMaW5lcyIsImZpcnN0SW5kZXgiLCJibHVlYmlyZEZyYW1lUGF0dGVybiIsImluZm8iLCJ1bmhhbmRsZWRSZWplY3Rpb25IYW5kbGVkIiwicG9zc2libHlVbmhhbmRsZWRSZWplY3Rpb24iLCJnZXREb21haW4iLCJkZWJ1Z2dpbmciLCJkaXNhYmxlTG9uZ1N0YWNrVHJhY2VzIiwiUHJvbWlzZV9jYXB0dXJlU3RhY2tUcmFjZSIsIlByb21pc2VfYXR0YWNoRXh0cmFUcmFjZSIsImRvbUV2ZW50IiwiZXZlbnRUb09iamVjdEdlbmVyYXRvciIsImdsb2JhbEV2ZW50RmlyZWQiLCJkb21FdmVudEZpcmVkIiwid2FybmluZ3NPcHRpb24iLCJzdGFja1RvSW5kZXgiLCJjdXJyZW50U3RhY2siLCJjeWNsZUVkZ2VOb2RlIiwiY3VycmVudENoaWxkTGVuZ3RoIiwidjhzdGFja0ZyYW1lUGF0dGVybiIsInY4c3RhY2tGb3JtYXR0ZXIiLCJpZ25vcmVVbnRpbCIsImhhc1N0YWNrQWZ0ZXJUaHJvdyIsImNvbG9yIiwicmV0dXJuZXIiLCJwcm9taXNlQWxsVGhpcyIsIlByb21pc2VBbGwiLCJQcm9taXNlTWFwU2VyaWVzIiwiUHJvbWlzZVJlZHVjZSIsInN1YkVycm9yIiwibmFtZVByb3BlcnR5IiwiZGVmYXVsdE1lc3NhZ2UiLCJTdWJFcnJvciIsIl9UeXBlRXJyb3IiLCJfUmFuZ2VFcnJvciIsImVzNSIsIk9iamVjdGZyZWV6ZSIsImxldmVsIiwiaW5kZW50IiwibGluZXMiLCJlcnJvclR5cGVzIiwiT2JqZWN0S2V5cyIsIk9iamVjdEdldERlc2NyaXB0b3IiLCJPYmplY3REZWZpbmVQcm9wZXJ0eSIsIk9iamVjdEZyZWV6ZSIsIk9iamVjdEdldFByb3RvdHlwZU9mIiwiQXJyYXlJc0FycmF5IiwiUHJvbWlzZU1hcCIsIlBhc3NUaHJvdWdoSGFuZGxlckNvbnRleHQiLCJGaW5hbGx5SGFuZGxlckNhbmNlbFJlYWN0aW9uIiwiY2hlY2tDYW5jZWwiLCJzdWNjZWVkIiwicmVhc29uT3JWYWx1ZSIsIlByb3h5YWJsZSIsInByb21pc2VGcm9tWWllbGRIYW5kbGVyIiwieWllbGRIYW5kbGVycyIsInRyYWNlUGFyZW50IiwiUHJvbWlzZVNwYXduIiwiZ2VuZXJhdG9yRnVuY3Rpb24iLCJpbnRlcm5hbCIsImltcGxlbWVudHNSZXR1cm4iLCJiaXRGaWVsZCIsIlByb21pc2VTcGF3biQiLCJnZW5lcmF0b3IiLCJNYXBwaW5nUHJvbWlzZUFycmF5IiwibGltaXQiLCJ0b3RhbFJlc29sdmVkIiwiaXNVbnR5cGVkRXJyb3IiLCJ3cmFwQXNPcGVyYXRpb25hbEVycm9yIiwickVycm9yS2V5Iiwibm9kZWJhY2tGb3JQcm9taXNlIiwid3JhcHBlZCIsInNwcmVhZEFkYXB0ZXIiLCJub2RlYmFjayIsInN1Y2Nlc3NBZGFwdGVyIiwiZXJyb3JBZGFwdGVyIiwibmV3UmVhc29uIiwiYWRhcHRlciIsImRlZmVyUmVzb2x2ZSIsImRlZmVyUmVqZWN0IiwiZmlsbFR5cGVzIiwibWFrZVNlbGZSZXNvbHV0aW9uRXJyb3IiLCJyZWZsZWN0SGFuZGxlciIsIlVOREVGSU5FRF9CSU5ESU5HIiwiQVBQTFkiLCJjYXRjaEluc3RhbmNlcyIsImRpZEZ1bGZpbGwiLCJkaWRSZWplY3QiLCJpbnRlcm5hbERhdGEiLCJoYXZlSW50ZXJuYWxEYXRhIiwic2V0dGxlciIsImZvbGxvd2VyIiwiZnVsZmlsbCIsInByb3h5YWJsZSIsInNob3VsZEJpbmQiLCJzeW5jaHJvbm91cyIsImlnbm9yZU5vbkVycm9yV2FybmluZ3MiLCJoYXNTdGFjayIsImlzUHJvbWlzZSIsImFzeW5jR3VhcmFudGVlZCIsInRvUmVzb2x1dGlvblZhbHVlIiwicmVzb2x2ZVZhbHVlSWZFbXB0eSIsInByb3BzRmlsdGVyIiwibm9Db3B5UHJvcHNQYXR0ZXJuIiwiaXNQcm9taXNpZmllZCIsImhhc1Byb21pc2lmaWVkIiwiZGVmYXVsdFByb21pc2lmaWVkIiwiY2hlY2tWYWxpZCIsInN1ZmZpeFJlZ2V4cCIsImtleVdpdGhvdXRBc3luY1N1ZmZpeCIsInByb21pc2lmaWFibGVNZXRob2RzIiwicGFzc2VzRGVmYXVsdEZpbHRlciIsImRlZmF1bHRGaWx0ZXIiLCJtYWtlTm9kZVByb21pc2lmaWVkQ2xvc3VyZSIsIl9fIiwicHJvbWlzaWZpZWQiLCJUSElTIiwiZGVmYXVsdFRoaXMiLCJlc2NhcGVJZGVudFJlZ2V4IiwicHJvbWlzaWZpZWRLZXkiLCJtYWtlTm9kZVByb21pc2lmaWVkIiwibWFrZU5vZGVQcm9taXNpZmllZEV2YWwiLCJkZWZhdWx0U3VmZml4Iiwibm9Db3B5UHJvcHMiLCJQcm9wZXJ0aWVzUHJvbWlzZUFycmF5IiwiaXNNYXAiLCJFczZNYXAiLCJtYXBUb0VudHJpZXMiLCJjYXN0VmFsdWUiLCJleHRyYWN0RW50cnkiLCJlbnRyaWVzVG9NYXAiLCJrZXlPZmZzZXQiLCJhcnJheU1vdmUiLCJzcmNJbmRleCIsImRzdCIsImRzdEluZGV4IiwiY2FwYWNpdHkiLCJmcm9udCIsIndyYXBNYXNrIiwib2xkQ2FwYWNpdHkiLCJtb3ZlSXRlbXNDb3VudCIsInJhY2VMYXRlciIsIlJlZHVjdGlvblByb21pc2VBcnJheSIsImluaXRpYWxWYWx1ZSIsIl9lYWNoIiwidmFsdWVPclJlYXNvbiIsImdvdEFjY3VtIiwiZ290VmFsdWUiLCJub0FzeW5jU2NoZWR1bGVyIiwiTmF0aXZlUHJvbWlzZSIsIkdsb2JhbFNldEltbWVkaWF0ZSIsIlByb2Nlc3NOZXh0VGljayIsIm5hdGl2ZVByb21pc2UiLCJ0b2dnbGVTY2hlZHVsZWQiLCJkaXYyIiwibzIiLCJzY2hlZHVsZVRvZ2dsZSIsIlNldHRsZWRQcm9taXNlQXJyYXkiLCJpbnNwZWN0aW9uIiwiQ0FOQ0VMTEFUSU9OIiwiaXNBcnJheVJlc29sdmVkIiwiZ2V0VGhlbiIsImlzQW55Qmx1ZWJpcmRQcm9taXNlIiwiZG9UaGVuYWJsZSIsImRvR2V0VGhlbiIsImhhc1Byb3AiLCJIYW5kbGVXcmFwcGVyIiwic3VjY2Vzc0NsZWFyIiwiZmFpbHVyZUNsZWFyIiwiYWZ0ZXJWYWx1ZSIsIm1zIiwiYWZ0ZXJUaW1lb3V0IiwiaGFuZGxlV3JhcHBlciIsImNhc3RQcmVzZXJ2aW5nRGlzcG9zYWJsZSIsInRoZW5hYmxlIiwiZGlzcG9zZSIsIkRpc3Bvc2VyIiwiRnVuY3Rpb25EaXNwb3NlciIsIm1heWJlVW53cmFwRGlzcG9zZXIiLCJSZXNvdXJjZUxpc3QiLCJOVUxMIiwic3ByZWFkQXJncyIsInJlZmxlY3RlZFJlc291cmNlcyIsInJlc3VsdFByb21pc2UiLCJpbnNwZWN0aW9ucyIsInRyeUNhdGNoZXIiLCJ0cnlDYXRjaFRhcmdldCIsIm1heWJlRXJyb3IiLCJzYWZlVG9TdHJpbmciLCJhcHBlbmRlZSIsImhhc01ldGhvZHMiLCJoYXNNZXRob2RzT3RoZXJUaGFuQ29uc3RydWN0b3IiLCJoYXNUaGlzQXNzaWdubWVudEFuZFN0YXRpY01ldGhvZHMiLCJ0aGlzQXNzaWdubWVudFBhdHRlcm4iLCJGYWtlQ29uc3RydWN0b3IiLCJyaWRlbnQiLCJpZ25vcmUiLCJkZWYiLCJnbG9iYWxPYmplY3QiLCJDaGlsZCIsIlBhcmVudCIsImV4Y2x1ZGVkUHJvdG90eXBlcyIsImlzRXhjbHVkZWRQcm90byIsInZpc2l0ZWRLZXlzIiwiZW51bWVyYXRpb24iLCJBcnJheUZyb20iLCJpdFJlc3VsdCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImNhY2hlZFNldFRpbWVvdXQiLCJydW5DbGVhclRpbWVvdXQiLCJtYXJrZXIiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpbmluZyIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlSW5kZXgiLCJkcmFpblF1ZXVlIiwiSXRlbSIsIlRpbWVvdXQiLCJjbGVhckZuIiwiaW1tZWRpYXRlSWRzIiwibmV4dEltbWVkaWF0ZUlkIiwibXNlY3MiLCJzZXRFeGlzdGluZ1NldHRpbmdzIiwiX2Jyb3dzZXIyIiwiZ2V0TG9jYWxTdG9yYWdlIiwiX2pxdWVyeTIiLCJfdWkyIiwic2V0RXJyb3JNZXNzYWdlIiwiX2VwdWJQcmVzc0pzIiwiX2VwdWJQcmVzc0pzMiIsIl9qcXVlcnkiLCJfYnJvd3NlciIsIl91aSIsIm1hbmlmZXN0Iiwic2VsZWN0ZWRJdGVtcyIsImdldFRhYnNIdG1sIiwic2hvd1NlY3Rpb24iLCJhY3Rpb24iLCJib29rIiwic2V0TG9jYWxTdG9yYWdlIiwib25CYWNrZ3JvdW5kTWVzc2FnZSIsInVwZGF0ZVN0YXR1cyIsImluaXRpYWxpemVVaSIsImRvd25sb2FkU3RhdGUiLCJwdWJsaXNoU3RhdGUiLCJwdWJsaXNoU3RhdHVzIiwiY2hlY2tGb3JVcGRhdGVzIiwic2V0QWxlcnRNZXNzYWdlIiwiaW5pdGlhbGl6ZVRhYkxpc3QiLCJfcHJvbWlzZTIiLCJVSSIsImRhdGUiLCJwbGFjZWhvbGRlciIsInNlY3Rpb24iLCJTRUNUSU9OU19TRUxFQ1RPUlMiLCJhbmltYXRlVmFsdWVDaGFuZ2UiLCIkZWwiLCJhbmltYXRlRnJvbSIsIm5ld1ZhbHVlIiwiZ2V0Q3VycmVudFdpbmRvd1RhYnMiLCJnZXRDaGVja2JveCIsIiRhdCIsIml0ZXJhdGVkIiwiX3QiLCJfaSIsInBvaW50IiwiVE9fU1RSSU5HIiwiTElCUkFSWSIsInJlZGVmaW5lIiwiSXRlcmF0b3JzIiwiJGl0ZXJDcmVhdGUiLCJzZXRUb1N0cmluZ1RhZyIsIklURVJBVE9SIiwiQlVHR1kiLCJGRl9JVEVSQVRPUiIsIktFWVMiLCJWQUxVRVMiLCJyZXR1cm5UaGlzIiwiQmFzZSIsIk5BTUUiLCJERUZBVUxUIiwiSVNfU0VUIiwiRk9SQ0VEIiwiSXRlcmF0b3JQcm90b3R5cGUiLCJnZXRNZXRob2QiLCJraW5kIiwiREVGX1ZBTFVFUyIsIlZBTFVFU19CVUciLCIkbmF0aXZlIiwiJGRlZmF1bHQiLCIkZW50cmllcyIsIiRhbnlOYXRpdmUiLCJkUHMiLCJFbXB0eSIsImNyZWF0ZURpY3QiLCJpZnJhbWVEb2N1bWVudCIsImlmcmFtZSIsImNvbnRlbnRXaW5kb3ciLCJQcm9wZXJ0aWVzIiwic3RhdCIsIlVTRV9TWU1CT0wiLCIkZXhwb3J0cyIsInRvT2JqZWN0IiwiT2JqZWN0UHJvdG8iLCJUT19TVFJJTkdfVEFHIiwiY29sbGVjdGlvbnMiLCJDb2xsZWN0aW9uIiwiYWRkVG9VbnNjb3BhYmxlcyIsIl9rIiwiQXJndW1lbnRzIiwiSW50ZXJuYWwiLCJHZW5lcmljUHJvbWlzZUNhcGFiaWxpdHkiLCJXcmFwcGVyIiwiY2xhc3NvZiIsImFuSW5zdGFuY2UiLCJmb3JPZiIsInNwZWNpZXNDb25zdHJ1Y3RvciIsInRhc2siLCJtaWNyb3Rhc2siLCJQUk9NSVNFIiwiJFByb21pc2UiLCJVU0VfTkFUSVZFIiwiRmFrZVByb21pc2UiLCJQcm9taXNlUmVqZWN0aW9uRXZlbnQiLCJzYW1lQ29uc3RydWN0b3IiLCJpc1RoZW5hYmxlIiwibmV3UHJvbWlzZUNhcGFiaWxpdHkiLCJQcm9taXNlQ2FwYWJpbGl0eSIsIiQkcmVzb2x2ZSIsIiQkcmVqZWN0IiwicGVyZm9ybSIsImlzUmVqZWN0IiwiX24iLCJjaGFpbiIsIl9jIiwiX3YiLCJfcyIsInJlYWN0aW9uIiwiX2giLCJvbkhhbmRsZVVuaGFuZGxlZCIsImVudGVyIiwib25VbmhhbmRsZWQiLCJhYnJ1cHQiLCJpc1VuaGFuZGxlZCIsIm9udW5oYW5kbGVkcmVqZWN0aW9uIiwiX2EiLCJvbnJlamVjdGlvbmhhbmRsZWQiLCIkcmVqZWN0IiwiX2QiLCJfdyIsIiRyZXNvbHZlIiwid3JhcHBlciIsImNhcGFiaWxpdHkiLCJpdGVyIiwiJGluZGV4IiwiYWxyZWFkeUNhbGxlZCIsIkFSRyIsInRyeUdldCIsImNhbGxlZSIsImZvcmJpZGRlbkZpZWxkIiwiaXNBcnJheUl0ZXIiLCJnZXRJdGVyRm4iLCJCUkVBSyIsIlJFVFVSTiIsIml0ZXJGbiIsIkFycmF5UHJvdG8iLCJnZXRJdGVyYXRvck1ldGhvZCIsIlNQRUNJRVMiLCJjaGFubmVsIiwicG9ydCIsImNlbCIsInNldFRhc2siLCJjbGVhclRhc2siLCJNZXNzYWdlQ2hhbm5lbCIsImNvdW50ZXIiLCJPTlJFQURZU1RBVEVDSEFOR0UiLCJsaXN0ZW5lciIsInBvcnQyIiwicG9ydDEiLCJvbm1lc3NhZ2UiLCJwb3N0TWVzc2FnZSIsImltcG9ydFNjcmlwdHMiLCJjbGVhciIsInVuIiwibWFjcm90YXNrIiwiT2JzZXJ2ZXIiLCJXZWJLaXRNdXRhdGlvbk9ic2VydmVyIiwiZmx1c2giLCJjaGFyYWN0ZXJEYXRhIiwic2FmZSIsIkRFU0NSSVBUT1JTIiwiS0VZIiwiU0FGRV9DTE9TSU5HIiwicml0ZXIiLCJza2lwQ2xvc2luZyJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsR0NJbkIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFFLE9BR0EsSUFBQUMsR0FBQUYsRUFBQUQsSUFDQUUsV0FDQUUsR0FBQUosRUFDQUssUUFBQSxFQVVB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LFFBQUEsU0FBQXdNLEVBQUF3dUUsR0FDQSxJQUFBQSxJQUFBRixFQUFBLFFBQ0EsSUFBQUgsSUFBQSxDQUNBLEtBQ0EsR0FBQW53QyxJQUFBLEdBQ0ErdEMsRUFBQS90QyxFQUFBOG9DLElBQ0FpRixHQUFBdDJFLEtBQUEsV0FBMkIsT0FBU0UsS0FBQXc0RSxHQUFBLElBQ3BDbndDLEVBQUE4b0MsR0FBQSxXQUErQixNQUFBaUYsSUFDL0IvckUsRUFBQWcrQixHQUNHLE1BQUE5aUMsSUFDSCxNQUFBaXpFIiwiZmlsZSI6InBvcHVwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovICgoZnVuY3Rpb24obW9kdWxlcykge1xuXHQvLyBDaGVjayBhbGwgbW9kdWxlcyBmb3IgZGVkdXBsaWNhdGVkIG1vZHVsZXNcblx0Zm9yKHZhciBpIGluIG1vZHVsZXMpIHtcblx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kdWxlcywgaSkpIHtcblx0XHRcdHN3aXRjaCh0eXBlb2YgbW9kdWxlc1tpXSkge1xuXHRcdFx0Y2FzZSBcImZ1bmN0aW9uXCI6IGJyZWFrO1xuXHRcdFx0Y2FzZSBcIm9iamVjdFwiOlxuXHRcdFx0XHQvLyBNb2R1bGUgY2FuIGJlIGNyZWF0ZWQgZnJvbSBhIHRlbXBsYXRlXG5cdFx0XHRcdG1vZHVsZXNbaV0gPSAoZnVuY3Rpb24oX20pIHtcblx0XHRcdFx0XHR2YXIgYXJncyA9IF9tLnNsaWNlKDEpLCBmbiA9IG1vZHVsZXNbX21bMF1dO1xuXHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbiAoYSxiLGMpIHtcblx0XHRcdFx0XHRcdGZuLmFwcGx5KHRoaXMsIFthLGIsY10uY29uY2F0KGFyZ3MpKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9KG1vZHVsZXNbaV0pKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHQvLyBNb2R1bGUgaXMgYSBjb3B5IG9mIGFub3RoZXIgbW9kdWxlXG5cdFx0XHRcdG1vZHVsZXNbaV0gPSBtb2R1bGVzW21vZHVsZXNbaV1dO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIG1vZHVsZXM7XG59KFtcbi8qIDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NSk7XG5cblxuLyoqKi8gfSxcbi8qIDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdChmdW5jdGlvbihzZWxmKSB7XG5cdCAgJ3VzZSBzdHJpY3QnO1xuXHRcblx0ICBpZiAoc2VsZi5mZXRjaCkge1xuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHRcblx0ICB2YXIgc3VwcG9ydCA9IHtcblx0ICAgIHNlYXJjaFBhcmFtczogJ1VSTFNlYXJjaFBhcmFtcycgaW4gc2VsZixcblx0ICAgIGl0ZXJhYmxlOiAnU3ltYm9sJyBpbiBzZWxmICYmICdpdGVyYXRvcicgaW4gU3ltYm9sLFxuXHQgICAgYmxvYjogJ0ZpbGVSZWFkZXInIGluIHNlbGYgJiYgJ0Jsb2InIGluIHNlbGYgJiYgKGZ1bmN0aW9uKCkge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIG5ldyBCbG9iKClcblx0ICAgICAgICByZXR1cm4gdHJ1ZVxuXHQgICAgICB9IGNhdGNoKGUpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2Vcblx0ICAgICAgfVxuXHQgICAgfSkoKSxcblx0ICAgIGZvcm1EYXRhOiAnRm9ybURhdGEnIGluIHNlbGYsXG5cdCAgICBhcnJheUJ1ZmZlcjogJ0FycmF5QnVmZmVyJyBpbiBzZWxmXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBub3JtYWxpemVOYW1lKG5hbWUpIHtcblx0ICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcblx0ICAgICAgbmFtZSA9IFN0cmluZyhuYW1lKVxuXHQgICAgfVxuXHQgICAgaWYgKC9bXmEtejAtOVxcLSMkJSYnKisuXFxeX2B8fl0vaS50ZXN0KG5hbWUpKSB7XG5cdCAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgY2hhcmFjdGVyIGluIGhlYWRlciBmaWVsZCBuYW1lJylcblx0ICAgIH1cblx0ICAgIHJldHVybiBuYW1lLnRvTG93ZXJDYXNlKClcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG5cdCAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuXHQgICAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSlcblx0ICAgIH1cblx0ICAgIHJldHVybiB2YWx1ZVxuXHQgIH1cblx0XG5cdCAgLy8gQnVpbGQgYSBkZXN0cnVjdGl2ZSBpdGVyYXRvciBmb3IgdGhlIHZhbHVlIGxpc3Rcblx0ICBmdW5jdGlvbiBpdGVyYXRvckZvcihpdGVtcykge1xuXHQgICAgdmFyIGl0ZXJhdG9yID0ge1xuXHQgICAgICBuZXh0OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgdmFsdWUgPSBpdGVtcy5zaGlmdCgpXG5cdCAgICAgICAgcmV0dXJuIHtkb25lOiB2YWx1ZSA9PT0gdW5kZWZpbmVkLCB2YWx1ZTogdmFsdWV9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuXHQgICAgICBpdGVyYXRvcltTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIGl0ZXJhdG9yXG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gaXRlcmF0b3Jcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIEhlYWRlcnMoaGVhZGVycykge1xuXHQgICAgdGhpcy5tYXAgPSB7fVxuXHRcblx0ICAgIGlmIChoZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuXHQgICAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcblx0ICAgICAgICB0aGlzLmFwcGVuZChuYW1lLCB2YWx1ZSlcblx0ICAgICAgfSwgdGhpcylcblx0XG5cdCAgICB9IGVsc2UgaWYgKGhlYWRlcnMpIHtcblx0ICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG5cdCAgICAgICAgdGhpcy5hcHBlbmQobmFtZSwgaGVhZGVyc1tuYW1lXSlcblx0ICAgICAgfSwgdGhpcylcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIEhlYWRlcnMucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG5cdCAgICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKVxuXHQgICAgdmFsdWUgPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSlcblx0ICAgIHZhciBsaXN0ID0gdGhpcy5tYXBbbmFtZV1cblx0ICAgIGlmICghbGlzdCkge1xuXHQgICAgICBsaXN0ID0gW11cblx0ICAgICAgdGhpcy5tYXBbbmFtZV0gPSBsaXN0XG5cdCAgICB9XG5cdCAgICBsaXN0LnB1c2godmFsdWUpXG5cdCAgfVxuXHRcblx0ICBIZWFkZXJzLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBmdW5jdGlvbihuYW1lKSB7XG5cdCAgICBkZWxldGUgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV1cblx0ICB9XG5cdFxuXHQgIEhlYWRlcnMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgIHZhciB2YWx1ZXMgPSB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXVxuXHQgICAgcmV0dXJuIHZhbHVlcyA/IHZhbHVlc1swXSA6IG51bGxcblx0ICB9XG5cdFxuXHQgIEhlYWRlcnMucHJvdG90eXBlLmdldEFsbCA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgIHJldHVybiB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXSB8fCBbXVxuXHQgIH1cblx0XG5cdCAgSGVhZGVycy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24obmFtZSkge1xuXHQgICAgcmV0dXJuIHRoaXMubWFwLmhhc093blByb3BlcnR5KG5vcm1hbGl6ZU5hbWUobmFtZSkpXG5cdCAgfVxuXHRcblx0ICBIZWFkZXJzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuXHQgICAgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV0gPSBbbm9ybWFsaXplVmFsdWUodmFsdWUpXVxuXHQgIH1cblx0XG5cdCAgSGVhZGVycy5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG5cdCAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzLm1hcCkuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG5cdCAgICAgIHRoaXMubWFwW25hbWVdLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHZhbHVlLCBuYW1lLCB0aGlzKVxuXHQgICAgICB9LCB0aGlzKVxuXHQgICAgfSwgdGhpcylcblx0ICB9XG5cdFxuXHQgIEhlYWRlcnMucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciBpdGVtcyA9IFtdXG5cdCAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHsgaXRlbXMucHVzaChuYW1lKSB9KVxuXHQgICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuXHQgIH1cblx0XG5cdCAgSGVhZGVycy5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgaXRlbXMgPSBbXVxuXHQgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7IGl0ZW1zLnB1c2godmFsdWUpIH0pXG5cdCAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG5cdCAgfVxuXHRcblx0ICBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgaXRlbXMgPSBbXVxuXHQgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7IGl0ZW1zLnB1c2goW25hbWUsIHZhbHVlXSkgfSlcblx0ICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcblx0ICB9XG5cdFxuXHQgIGlmIChzdXBwb3J0Lml0ZXJhYmxlKSB7XG5cdCAgICBIZWFkZXJzLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gSGVhZGVycy5wcm90b3R5cGUuZW50cmllc1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY29uc3VtZWQoYm9keSkge1xuXHQgICAgaWYgKGJvZHkuYm9keVVzZWQpIHtcblx0ICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpKVxuXHQgICAgfVxuXHQgICAgYm9keS5ib2R5VXNlZCA9IHRydWVcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpIHtcblx0ICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdClcblx0ICAgICAgfVxuXHQgICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJlamVjdChyZWFkZXIuZXJyb3IpXG5cdCAgICAgIH1cblx0ICAgIH0pXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiByZWFkQmxvYkFzQXJyYXlCdWZmZXIoYmxvYikge1xuXHQgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcblx0ICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKVxuXHQgICAgcmV0dXJuIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiByZWFkQmxvYkFzVGV4dChibG9iKSB7XG5cdCAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuXHQgICAgcmVhZGVyLnJlYWRBc1RleHQoYmxvYilcblx0ICAgIHJldHVybiBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gQm9keSgpIHtcblx0ICAgIHRoaXMuYm9keVVzZWQgPSBmYWxzZVxuXHRcblx0ICAgIHRoaXMuX2luaXRCb2R5ID0gZnVuY3Rpb24oYm9keSkge1xuXHQgICAgICB0aGlzLl9ib2R5SW5pdCA9IGJvZHlcblx0ICAgICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keVxuXHQgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYmxvYiAmJiBCbG9iLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG5cdCAgICAgICAgdGhpcy5fYm9keUJsb2IgPSBib2R5XG5cdCAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5mb3JtRGF0YSAmJiBGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuXHQgICAgICAgIHRoaXMuX2JvZHlGb3JtRGF0YSA9IGJvZHlcblx0ICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcblx0ICAgICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHkudG9TdHJpbmcoKVxuXHQgICAgICB9IGVsc2UgaWYgKCFib2R5KSB7XG5cdCAgICAgICAgdGhpcy5fYm9keVRleHQgPSAnJ1xuXHQgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgQXJyYXlCdWZmZXIucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcblx0ICAgICAgICAvLyBPbmx5IHN1cHBvcnQgQXJyYXlCdWZmZXJzIGZvciBQT1NUIG1ldGhvZC5cblx0ICAgICAgICAvLyBSZWNlaXZpbmcgQXJyYXlCdWZmZXJzIGhhcHBlbnMgdmlhIEJsb2JzLCBpbnN0ZWFkLlxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcigndW5zdXBwb3J0ZWQgQm9keUluaXQgdHlwZScpXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICghdGhpcy5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykpIHtcblx0ICAgICAgICBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04Jylcblx0ICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlCbG9iICYmIHRoaXMuX2JvZHlCbG9iLnR5cGUpIHtcblx0ICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsIHRoaXMuX2JvZHlCbG9iLnR5cGUpXG5cdCAgICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcblx0ICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcpXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHN1cHBvcnQuYmxvYikge1xuXHQgICAgICB0aGlzLmJsb2IgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuXHQgICAgICAgIGlmIChyZWplY3RlZCkge1xuXHQgICAgICAgICAgcmV0dXJuIHJlamVjdGVkXG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcblx0ICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUJsb2IpXG5cdCAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcblx0ICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iJylcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keVRleHRdKSlcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMuYXJyYXlCdWZmZXIgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5ibG9iKCkudGhlbihyZWFkQmxvYkFzQXJyYXlCdWZmZXIpXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMudGV4dCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG5cdCAgICAgICAgaWYgKHJlamVjdGVkKSB7XG5cdCAgICAgICAgICByZXR1cm4gcmVqZWN0ZWRcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuXHQgICAgICAgICAgcmV0dXJuIHJlYWRCbG9iQXNUZXh0KHRoaXMuX2JvZHlCbG9iKVxuXHQgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgdGV4dCcpXG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keVRleHQpXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aGlzLnRleHQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuXHQgICAgICAgIHJldHVybiByZWplY3RlZCA/IHJlamVjdGVkIDogUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHN1cHBvcnQuZm9ybURhdGEpIHtcblx0ICAgICAgdGhpcy5mb3JtRGF0YSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKGRlY29kZSlcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMuanNvbiA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihKU09OLnBhcnNlKVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB0aGlzXG5cdCAgfVxuXHRcblx0ICAvLyBIVFRQIG1ldGhvZHMgd2hvc2UgY2FwaXRhbGl6YXRpb24gc2hvdWxkIGJlIG5vcm1hbGl6ZWRcblx0ICB2YXIgbWV0aG9kcyA9IFsnREVMRVRFJywgJ0dFVCcsICdIRUFEJywgJ09QVElPTlMnLCAnUE9TVCcsICdQVVQnXVxuXHRcblx0ICBmdW5jdGlvbiBub3JtYWxpemVNZXRob2QobWV0aG9kKSB7XG5cdCAgICB2YXIgdXBjYXNlZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpXG5cdCAgICByZXR1cm4gKG1ldGhvZHMuaW5kZXhPZih1cGNhc2VkKSA+IC0xKSA/IHVwY2FzZWQgOiBtZXRob2Rcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIFJlcXVlc3QoaW5wdXQsIG9wdGlvbnMpIHtcblx0ICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG5cdCAgICB2YXIgYm9keSA9IG9wdGlvbnMuYm9keVxuXHQgICAgaWYgKFJlcXVlc3QucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoaW5wdXQpKSB7XG5cdCAgICAgIGlmIChpbnB1dC5ib2R5VXNlZCkge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpXG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy51cmwgPSBpbnB1dC51cmxcblx0ICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGlucHV0LmNyZWRlbnRpYWxzXG5cdCAgICAgIGlmICghb3B0aW9ucy5oZWFkZXJzKSB7XG5cdCAgICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5wdXQuaGVhZGVycylcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLm1ldGhvZCA9IGlucHV0Lm1ldGhvZFxuXHQgICAgICB0aGlzLm1vZGUgPSBpbnB1dC5tb2RlXG5cdCAgICAgIGlmICghYm9keSkge1xuXHQgICAgICAgIGJvZHkgPSBpbnB1dC5fYm9keUluaXRcblx0ICAgICAgICBpbnB1dC5ib2R5VXNlZCA9IHRydWVcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdGhpcy51cmwgPSBpbnB1dFxuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMuY3JlZGVudGlhbHMgPSBvcHRpb25zLmNyZWRlbnRpYWxzIHx8IHRoaXMuY3JlZGVudGlhbHMgfHwgJ29taXQnXG5cdCAgICBpZiAob3B0aW9ucy5oZWFkZXJzIHx8ICF0aGlzLmhlYWRlcnMpIHtcblx0ICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuXHQgICAgfVxuXHQgICAgdGhpcy5tZXRob2QgPSBub3JtYWxpemVNZXRob2Qob3B0aW9ucy5tZXRob2QgfHwgdGhpcy5tZXRob2QgfHwgJ0dFVCcpXG5cdCAgICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgfHwgdGhpcy5tb2RlIHx8IG51bGxcblx0ICAgIHRoaXMucmVmZXJyZXIgPSBudWxsXG5cdFxuXHQgICAgaWYgKCh0aGlzLm1ldGhvZCA9PT0gJ0dFVCcgfHwgdGhpcy5tZXRob2QgPT09ICdIRUFEJykgJiYgYm9keSkge1xuXHQgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCb2R5IG5vdCBhbGxvd2VkIGZvciBHRVQgb3IgSEVBRCByZXF1ZXN0cycpXG5cdCAgICB9XG5cdCAgICB0aGlzLl9pbml0Qm9keShib2R5KVxuXHQgIH1cblx0XG5cdCAgUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiBuZXcgUmVxdWVzdCh0aGlzKVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gZGVjb2RlKGJvZHkpIHtcblx0ICAgIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKClcblx0ICAgIGJvZHkudHJpbSgpLnNwbGl0KCcmJykuZm9yRWFjaChmdW5jdGlvbihieXRlcykge1xuXHQgICAgICBpZiAoYnl0ZXMpIHtcblx0ICAgICAgICB2YXIgc3BsaXQgPSBieXRlcy5zcGxpdCgnPScpXG5cdCAgICAgICAgdmFyIG5hbWUgPSBzcGxpdC5zaGlmdCgpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG5cdCAgICAgICAgdmFyIHZhbHVlID0gc3BsaXQuam9pbignPScpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG5cdCAgICAgICAgZm9ybS5hcHBlbmQoZGVjb2RlVVJJQ29tcG9uZW50KG5hbWUpLCBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpKVxuXHQgICAgICB9XG5cdCAgICB9KVxuXHQgICAgcmV0dXJuIGZvcm1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGhlYWRlcnMoeGhyKSB7XG5cdCAgICB2YXIgaGVhZCA9IG5ldyBIZWFkZXJzKClcblx0ICAgIHZhciBwYWlycyA9ICh4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkgfHwgJycpLnRyaW0oKS5zcGxpdCgnXFxuJylcblx0ICAgIHBhaXJzLmZvckVhY2goZnVuY3Rpb24oaGVhZGVyKSB7XG5cdCAgICAgIHZhciBzcGxpdCA9IGhlYWRlci50cmltKCkuc3BsaXQoJzonKVxuXHQgICAgICB2YXIga2V5ID0gc3BsaXQuc2hpZnQoKS50cmltKClcblx0ICAgICAgdmFyIHZhbHVlID0gc3BsaXQuam9pbignOicpLnRyaW0oKVxuXHQgICAgICBoZWFkLmFwcGVuZChrZXksIHZhbHVlKVxuXHQgICAgfSlcblx0ICAgIHJldHVybiBoZWFkXG5cdCAgfVxuXHRcblx0ICBCb2R5LmNhbGwoUmVxdWVzdC5wcm90b3R5cGUpXG5cdFxuXHQgIGZ1bmN0aW9uIFJlc3BvbnNlKGJvZHlJbml0LCBvcHRpb25zKSB7XG5cdCAgICBpZiAoIW9wdGlvbnMpIHtcblx0ICAgICAgb3B0aW9ucyA9IHt9XG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy50eXBlID0gJ2RlZmF1bHQnXG5cdCAgICB0aGlzLnN0YXR1cyA9IG9wdGlvbnMuc3RhdHVzXG5cdCAgICB0aGlzLm9rID0gdGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwXG5cdCAgICB0aGlzLnN0YXR1c1RleHQgPSBvcHRpb25zLnN0YXR1c1RleHRcblx0ICAgIHRoaXMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMgPyBvcHRpb25zLmhlYWRlcnMgOiBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG5cdCAgICB0aGlzLnVybCA9IG9wdGlvbnMudXJsIHx8ICcnXG5cdCAgICB0aGlzLl9pbml0Qm9keShib2R5SW5pdClcblx0ICB9XG5cdFxuXHQgIEJvZHkuY2FsbChSZXNwb25zZS5wcm90b3R5cGUpXG5cdFxuXHQgIFJlc3BvbnNlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIG5ldyBSZXNwb25zZSh0aGlzLl9ib2R5SW5pdCwge1xuXHQgICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuXHQgICAgICBzdGF0dXNUZXh0OiB0aGlzLnN0YXR1c1RleHQsXG5cdCAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHRoaXMuaGVhZGVycyksXG5cdCAgICAgIHVybDogdGhpcy51cmxcblx0ICAgIH0pXG5cdCAgfVxuXHRcblx0ICBSZXNwb25zZS5lcnJvciA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IDAsIHN0YXR1c1RleHQ6ICcnfSlcblx0ICAgIHJlc3BvbnNlLnR5cGUgPSAnZXJyb3InXG5cdCAgICByZXR1cm4gcmVzcG9uc2Vcblx0ICB9XG5cdFxuXHQgIHZhciByZWRpcmVjdFN0YXR1c2VzID0gWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XVxuXHRcblx0ICBSZXNwb25zZS5yZWRpcmVjdCA9IGZ1bmN0aW9uKHVybCwgc3RhdHVzKSB7XG5cdCAgICBpZiAocmVkaXJlY3RTdGF0dXNlcy5pbmRleE9mKHN0YXR1cykgPT09IC0xKSB7XG5cdCAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHN0YXR1cyBjb2RlJylcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IHN0YXR1cywgaGVhZGVyczoge2xvY2F0aW9uOiB1cmx9fSlcblx0ICB9XG5cdFxuXHQgIHNlbGYuSGVhZGVycyA9IEhlYWRlcnNcblx0ICBzZWxmLlJlcXVlc3QgPSBSZXF1ZXN0XG5cdCAgc2VsZi5SZXNwb25zZSA9IFJlc3BvbnNlXG5cdFxuXHQgIHNlbGYuZmV0Y2ggPSBmdW5jdGlvbihpbnB1dCwgaW5pdCkge1xuXHQgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICB2YXIgcmVxdWVzdFxuXHQgICAgICBpZiAoUmVxdWVzdC5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihpbnB1dCkgJiYgIWluaXQpIHtcblx0ICAgICAgICByZXF1ZXN0ID0gaW5wdXRcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoaW5wdXQsIGluaXQpXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuXHRcblx0ICAgICAgZnVuY3Rpb24gcmVzcG9uc2VVUkwoKSB7XG5cdCAgICAgICAgaWYgKCdyZXNwb25zZVVSTCcgaW4geGhyKSB7XG5cdCAgICAgICAgICByZXR1cm4geGhyLnJlc3BvbnNlVVJMXG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyBBdm9pZCBzZWN1cml0eSB3YXJuaW5ncyBvbiBnZXRSZXNwb25zZUhlYWRlciB3aGVuIG5vdCBhbGxvd2VkIGJ5IENPUlNcblx0ICAgICAgICBpZiAoL15YLVJlcXVlc3QtVVJMOi9tLnRlc3QoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSkge1xuXHQgICAgICAgICAgcmV0dXJuIHhoci5nZXRSZXNwb25zZUhlYWRlcignWC1SZXF1ZXN0LVVSTCcpXG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm5cblx0ICAgICAgfVxuXHRcblx0ICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBvcHRpb25zID0ge1xuXHQgICAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzLFxuXHQgICAgICAgICAgc3RhdHVzVGV4dDogeGhyLnN0YXR1c1RleHQsXG5cdCAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKHhociksXG5cdCAgICAgICAgICB1cmw6IHJlc3BvbnNlVVJMKClcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGJvZHkgPSAncmVzcG9uc2UnIGluIHhociA/IHhoci5yZXNwb25zZSA6IHhoci5yZXNwb25zZVRleHRcblx0ICAgICAgICByZXNvbHZlKG5ldyBSZXNwb25zZShib2R5LCBvcHRpb25zKSlcblx0ICAgICAgfVxuXHRcblx0ICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuXHQgICAgICB9XG5cdFxuXHQgICAgICB4aHIub250aW1lb3V0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcblx0ICAgICAgfVxuXHRcblx0ICAgICAgeGhyLm9wZW4ocmVxdWVzdC5tZXRob2QsIHJlcXVlc3QudXJsLCB0cnVlKVxuXHRcblx0ICAgICAgaWYgKHJlcXVlc3QuY3JlZGVudGlhbHMgPT09ICdpbmNsdWRlJykge1xuXHQgICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICgncmVzcG9uc2VUeXBlJyBpbiB4aHIgJiYgc3VwcG9ydC5ibG9iKSB7XG5cdCAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJ1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXF1ZXN0LmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuXHQgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKG5hbWUsIHZhbHVlKVxuXHQgICAgICB9KVxuXHRcblx0ICAgICAgeGhyLnNlbmQodHlwZW9mIHJlcXVlc3QuX2JvZHlJbml0ID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiByZXF1ZXN0Ll9ib2R5SW5pdClcblx0ICAgIH0pXG5cdCAgfVxuXHQgIHNlbGYuZmV0Y2gucG9seWZpbGwgPSB0cnVlXG5cdH0pKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzKTtcblxuXG4vKioqLyB9LFxuLyogMiAqLyxcbi8qIDMgKi8sXG4vKiA0ICovLFxuLyogNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0dmFyIGNvcmUgPSBtb2R1bGUuZXhwb3J0cyA9IHt2ZXJzaW9uOiAnMi40LjAnfTtcblx0aWYodHlwZW9mIF9fZSA9PSAnbnVtYmVyJylfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cbi8qKiovIH0sXG4vKiA2ICovLFxuLyogNyAqLyxcbi8qIDggKi8sXG4vKiA5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgZ2xvYmFsICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMClcblx0ICAsIGNvcmUgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNSlcblx0ICAsIGN0eCAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpXG5cdCAgLCBoaWRlICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKVxuXHQgICwgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG5cdFxuXHR2YXIgJGV4cG9ydCA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHNvdXJjZSl7XG5cdCAgdmFyIElTX0ZPUkNFRCA9IHR5cGUgJiAkZXhwb3J0LkZcblx0ICAgICwgSVNfR0xPQkFMID0gdHlwZSAmICRleHBvcnQuR1xuXHQgICAgLCBJU19TVEFUSUMgPSB0eXBlICYgJGV4cG9ydC5TXG5cdCAgICAsIElTX1BST1RPICA9IHR5cGUgJiAkZXhwb3J0LlBcblx0ICAgICwgSVNfQklORCAgID0gdHlwZSAmICRleHBvcnQuQlxuXHQgICAgLCBJU19XUkFQICAgPSB0eXBlICYgJGV4cG9ydC5XXG5cdCAgICAsIGV4cG9ydHMgICA9IElTX0dMT0JBTCA/IGNvcmUgOiBjb3JlW25hbWVdIHx8IChjb3JlW25hbWVdID0ge30pXG5cdCAgICAsIGV4cFByb3RvICA9IGV4cG9ydHNbUFJPVE9UWVBFXVxuXHQgICAgLCB0YXJnZXQgICAgPSBJU19HTE9CQUwgPyBnbG9iYWwgOiBJU19TVEFUSUMgPyBnbG9iYWxbbmFtZV0gOiAoZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdXG5cdCAgICAsIGtleSwgb3duLCBvdXQ7XG5cdCAgaWYoSVNfR0xPQkFMKXNvdXJjZSA9IG5hbWU7XG5cdCAgZm9yKGtleSBpbiBzb3VyY2Upe1xuXHQgICAgLy8gY29udGFpbnMgaW4gbmF0aXZlXG5cdCAgICBvd24gPSAhSVNfRk9SQ0VEICYmIHRhcmdldCAmJiB0YXJnZXRba2V5XSAhPT0gdW5kZWZpbmVkO1xuXHQgICAgaWYob3duICYmIGtleSBpbiBleHBvcnRzKWNvbnRpbnVlO1xuXHQgICAgLy8gZXhwb3J0IG5hdGl2ZSBvciBwYXNzZWRcblx0ICAgIG91dCA9IG93biA/IHRhcmdldFtrZXldIDogc291cmNlW2tleV07XG5cdCAgICAvLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXNcblx0ICAgIGV4cG9ydHNba2V5XSA9IElTX0dMT0JBTCAmJiB0eXBlb2YgdGFyZ2V0W2tleV0gIT0gJ2Z1bmN0aW9uJyA/IHNvdXJjZVtrZXldXG5cdCAgICAvLyBiaW5kIHRpbWVycyB0byBnbG9iYWwgZm9yIGNhbGwgZnJvbSBleHBvcnQgY29udGV4dFxuXHQgICAgOiBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbClcblx0ICAgIC8vIHdyYXAgZ2xvYmFsIGNvbnN0cnVjdG9ycyBmb3IgcHJldmVudCBjaGFuZ2UgdGhlbSBpbiBsaWJyYXJ5XG5cdCAgICA6IElTX1dSQVAgJiYgdGFyZ2V0W2tleV0gPT0gb3V0ID8gKGZ1bmN0aW9uKEMpe1xuXHQgICAgICB2YXIgRiA9IGZ1bmN0aW9uKGEsIGIsIGMpe1xuXHQgICAgICAgIGlmKHRoaXMgaW5zdGFuY2VvZiBDKXtcblx0ICAgICAgICAgIHN3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtcblx0ICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEM7XG5cdCAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG5ldyBDKGEpO1xuXHQgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBuZXcgQyhhLCBiKTtcblx0ICAgICAgICAgIH0gcmV0dXJuIG5ldyBDKGEsIGIsIGMpO1xuXHQgICAgICAgIH0gcmV0dXJuIEMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgfTtcblx0ICAgICAgRltQUk9UT1RZUEVdID0gQ1tQUk9UT1RZUEVdO1xuXHQgICAgICByZXR1cm4gRjtcblx0ICAgIC8vIG1ha2Ugc3RhdGljIHZlcnNpb25zIGZvciBwcm90b3R5cGUgbWV0aG9kc1xuXHQgICAgfSkob3V0KSA6IElTX1BST1RPICYmIHR5cGVvZiBvdXQgPT0gJ2Z1bmN0aW9uJyA/IGN0eChGdW5jdGlvbi5jYWxsLCBvdXQpIDogb3V0O1xuXHQgICAgLy8gZXhwb3J0IHByb3RvIG1ldGhvZHMgdG8gY29yZS4lQ09OU1RSVUNUT1IlLm1ldGhvZHMuJU5BTUUlXG5cdCAgICBpZihJU19QUk9UTyl7XG5cdCAgICAgIChleHBvcnRzLnZpcnR1YWwgfHwgKGV4cG9ydHMudmlydHVhbCA9IHt9KSlba2V5XSA9IG91dDtcblx0ICAgICAgLy8gZXhwb3J0IHByb3RvIG1ldGhvZHMgdG8gY29yZS4lQ09OU1RSVUNUT1IlLnByb3RvdHlwZS4lTkFNRSVcblx0ICAgICAgaWYodHlwZSAmICRleHBvcnQuUiAmJiBleHBQcm90byAmJiAhZXhwUHJvdG9ba2V5XSloaWRlKGV4cFByb3RvLCBrZXksIG91dCk7XG5cdCAgICB9XG5cdCAgfVxuXHR9O1xuXHQvLyB0eXBlIGJpdG1hcFxuXHQkZXhwb3J0LkYgPSAxOyAgIC8vIGZvcmNlZFxuXHQkZXhwb3J0LkcgPSAyOyAgIC8vIGdsb2JhbFxuXHQkZXhwb3J0LlMgPSA0OyAgIC8vIHN0YXRpY1xuXHQkZXhwb3J0LlAgPSA4OyAgIC8vIHByb3RvXG5cdCRleHBvcnQuQiA9IDE2OyAgLy8gYmluZFxuXHQkZXhwb3J0LlcgPSAzMjsgIC8vIHdyYXBcblx0JGV4cG9ydC5VID0gNjQ7ICAvLyBzYWZlXG5cdCRleHBvcnQuUiA9IDEyODsgLy8gcmVhbCBwcm90byBtZXRob2QgZm9yIGBsaWJyYXJ5YCBcblx0bW9kdWxlLmV4cG9ydHMgPSAkZXhwb3J0O1xuXG4vKioqLyB9LFxuLyogMTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG5cdHZhciBnbG9iYWwgPSBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lk1hdGggPT0gTWF0aFxuXHQgID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0aWYodHlwZW9mIF9fZyA9PSAnbnVtYmVyJylfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuLyoqKi8gfSxcbi8qIDExICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcblx0dmFyIGFGdW5jdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuLCB0aGF0LCBsZW5ndGgpe1xuXHQgIGFGdW5jdGlvbihmbik7XG5cdCAgaWYodGhhdCA9PT0gdW5kZWZpbmVkKXJldHVybiBmbjtcblx0ICBzd2l0Y2gobGVuZ3RoKXtcblx0ICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uKGEpe1xuXHQgICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhKTtcblx0ICAgIH07XG5cdCAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbihhLCBiKXtcblx0ICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYik7XG5cdCAgICB9O1xuXHQgICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24oYSwgYiwgYyl7XG5cdCAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIsIGMpO1xuXHQgICAgfTtcblx0ICB9XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKC8qIC4uLmFyZ3MgKi8pe1xuXHQgICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG5cdCAgfTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICBpZih0eXBlb2YgaXQgIT0gJ2Z1bmN0aW9uJyl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xuXHQgIHJldHVybiBpdDtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgZFAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpXG5cdCAgLCBjcmVhdGVEZXNjID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCkgPyBmdW5jdGlvbihvYmplY3QsIGtleSwgdmFsdWUpe1xuXHQgIHJldHVybiBkUC5mKG9iamVjdCwga2V5LCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG5cdH0gOiBmdW5jdGlvbihvYmplY3QsIGtleSwgdmFsdWUpe1xuXHQgIG9iamVjdFtrZXldID0gdmFsdWU7XG5cdCAgcmV0dXJuIG9iamVjdDtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgYW5PYmplY3QgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KVxuXHQgICwgSUU4X0RPTV9ERUZJTkUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KVxuXHQgICwgdG9QcmltaXRpdmUgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKVxuXHQgICwgZFAgICAgICAgICAgICAgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG5cdFxuXHRleHBvcnRzLmYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpe1xuXHQgIGFuT2JqZWN0KE8pO1xuXHQgIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcblx0ICBhbk9iamVjdChBdHRyaWJ1dGVzKTtcblx0ICBpZihJRThfRE9NX0RFRklORSl0cnkge1xuXHQgICAgcmV0dXJuIGRQKE8sIFAsIEF0dHJpYnV0ZXMpO1xuXHQgIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cblx0ICBpZignZ2V0JyBpbiBBdHRyaWJ1dGVzIHx8ICdzZXQnIGluIEF0dHJpYnV0ZXMpdGhyb3cgVHlwZUVycm9yKCdBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCEnKTtcblx0ICBpZigndmFsdWUnIGluIEF0dHJpYnV0ZXMpT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG5cdCAgcmV0dXJuIE87XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIGlmKCFpc09iamVjdChpdCkpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYW4gb2JqZWN0IScpO1xuXHQgIHJldHVybiBpdDtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gdHlwZW9mIGl0ID09PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogdHlwZW9mIGl0ID09PSAnZnVuY3Rpb24nO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gIV9fd2VicGFja19yZXF1aXJlX18oMTgpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KShmdW5jdGlvbigpe1xuXHQgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX3JlcXVpcmVfXygyMCkoJ2RpdicpLCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiA3OyB9fSkuYSAhPSA3O1xuXHR9KTtcblxuLyoqKi8gfSxcbi8qIDE4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBUaGFuaydzIElFOCBmb3IgaGlzIGZ1bm55IGRlZmluZVByb3BlcnR5XG5cdG1vZHVsZS5leHBvcnRzID0gIV9fd2VicGFja19yZXF1aXJlX18oMTkpKGZ1bmN0aW9uKCl7XG5cdCAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gNzsgfX0pLmEgIT0gNztcblx0fSk7XG5cbi8qKiovIH0sXG4vKiAxOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihleGVjKXtcblx0ICB0cnkge1xuXHQgICAgcmV0dXJuICEhZXhlYygpO1xuXHQgIH0gY2F0Y2goZSl7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNilcblx0ICAsIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCkuZG9jdW1lbnRcblx0ICAvLyBpbiBvbGQgSUUgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgaXMgJ29iamVjdCdcblx0ICAsIGlzID0gaXNPYmplY3QoZG9jdW1lbnQpICYmIGlzT2JqZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gaXMgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGl0KSA6IHt9O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDcuMS4xIFRvUHJpbWl0aXZlKGlucHV0IFssIFByZWZlcnJlZFR5cGVdKVxuXHR2YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcblx0Ly8gaW5zdGVhZCBvZiB0aGUgRVM2IHNwZWMgdmVyc2lvbiwgd2UgZGlkbid0IGltcGxlbWVudCBAQHRvUHJpbWl0aXZlIGNhc2Vcblx0Ly8gYW5kIHRoZSBzZWNvbmQgYXJndW1lbnQgLSBmbGFnIC0gcHJlZmVycmVkIHR5cGUgaXMgYSBzdHJpbmdcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgUyl7XG5cdCAgaWYoIWlzT2JqZWN0KGl0KSlyZXR1cm4gaXQ7XG5cdCAgdmFyIGZuLCB2YWw7XG5cdCAgaWYoUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuXHQgIGlmKHR5cGVvZiAoZm4gPSBpdC52YWx1ZU9mKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcblx0ICBpZighUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuXHQgIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDIyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGJpdG1hcCwgdmFsdWUpe1xuXHQgIHJldHVybiB7XG5cdCAgICBlbnVtZXJhYmxlICA6ICEoYml0bWFwICYgMSksXG5cdCAgICBjb25maWd1cmFibGU6ICEoYml0bWFwICYgMiksXG5cdCAgICB3cml0YWJsZSAgICA6ICEoYml0bWFwICYgNCksXG5cdCAgICB2YWx1ZSAgICAgICA6IHZhbHVlXG5cdCAgfTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDIzICovLFxuLyogMjQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDE5LjEuMi4xNCAvIDE1LjIuMy4xNCBPYmplY3Qua2V5cyhPKVxuXHR2YXIgJGtleXMgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KVxuXHQgICwgZW51bUJ1Z0tleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24ga2V5cyhPKXtcblx0ICByZXR1cm4gJGtleXMoTywgZW51bUJ1Z0tleXMpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBoYXMgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KVxuXHQgICwgdG9JT2JqZWN0ICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNylcblx0ICAsIGFycmF5SW5kZXhPZiA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpKGZhbHNlKVxuXHQgICwgSUVfUFJPVE8gICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSkoJ0lFX1BST1RPJyk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iamVjdCwgbmFtZXMpe1xuXHQgIHZhciBPICAgICAgPSB0b0lPYmplY3Qob2JqZWN0KVxuXHQgICAgLCBpICAgICAgPSAwXG5cdCAgICAsIHJlc3VsdCA9IFtdXG5cdCAgICAsIGtleTtcblx0ICBmb3Ioa2V5IGluIE8paWYoa2V5ICE9IElFX1BST1RPKWhhcyhPLCBrZXkpICYmIHJlc3VsdC5wdXNoKGtleSk7XG5cdCAgLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5c1xuXHQgIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpaWYoaGFzKE8sIGtleSA9IG5hbWVzW2krK10pKXtcblx0ICAgIH5hcnJheUluZGV4T2YocmVzdWx0LCBrZXkpIHx8IHJlc3VsdC5wdXNoKGtleSk7XG5cdCAgfVxuXHQgIHJldHVybiByZXN1bHQ7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0dmFyIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIGtleSl7XG5cdCAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoaXQsIGtleSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gdG8gaW5kZXhlZCBvYmplY3QsIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzXG5cdHZhciBJT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOClcblx0ICAsIGRlZmluZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIElPYmplY3QoZGVmaW5lZChpdCkpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzXG5cdHZhciBjb2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKSA/IE9iamVjdCA6IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gY29mKGl0KSA9PSAnU3RyaW5nJyA/IGl0LnNwbGl0KCcnKSA6IE9iamVjdChpdCk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0dmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gdG9TdHJpbmcuY2FsbChpdCkuc2xpY2UoOCwgLTEpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIDcuMi4xIFJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIGlmKGl0ID09IHVuZGVmaW5lZCl0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgXCIgKyBpdCk7XG5cdCAgcmV0dXJuIGl0O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGZhbHNlIC0+IEFycmF5I2luZGV4T2Zcblx0Ly8gdHJ1ZSAgLT4gQXJyYXkjaW5jbHVkZXNcblx0dmFyIHRvSU9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpXG5cdCAgLCB0b0xlbmd0aCAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKVxuXHQgICwgdG9JbmRleCAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNCk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oSVNfSU5DTFVERVMpe1xuXHQgIHJldHVybiBmdW5jdGlvbigkdGhpcywgZWwsIGZyb21JbmRleCl7XG5cdCAgICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KCR0aGlzKVxuXHQgICAgICAsIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKVxuXHQgICAgICAsIGluZGV4ICA9IHRvSW5kZXgoZnJvbUluZGV4LCBsZW5ndGgpXG5cdCAgICAgICwgdmFsdWU7XG5cdCAgICAvLyBBcnJheSNpbmNsdWRlcyB1c2VzIFNhbWVWYWx1ZVplcm8gZXF1YWxpdHkgYWxnb3JpdGhtXG5cdCAgICBpZihJU19JTkNMVURFUyAmJiBlbCAhPSBlbCl3aGlsZShsZW5ndGggPiBpbmRleCl7XG5cdCAgICAgIHZhbHVlID0gT1tpbmRleCsrXTtcblx0ICAgICAgaWYodmFsdWUgIT0gdmFsdWUpcmV0dXJuIHRydWU7XG5cdCAgICAvLyBBcnJheSN0b0luZGV4IGlnbm9yZXMgaG9sZXMsIEFycmF5I2luY2x1ZGVzIC0gbm90XG5cdCAgICB9IGVsc2UgZm9yKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKylpZihJU19JTkNMVURFUyB8fCBpbmRleCBpbiBPKXtcblx0ICAgICAgaWYoT1tpbmRleF0gPT09IGVsKXJldHVybiBJU19JTkNMVURFUyB8fCBpbmRleCB8fCAwO1xuXHQgICAgfSByZXR1cm4gIUlTX0lOQ0xVREVTICYmIC0xO1xuXHQgIH07XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gNy4xLjE1IFRvTGVuZ3RoXG5cdHZhciB0b0ludGVnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKVxuXHQgICwgbWluICAgICAgID0gTWF0aC5taW47XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiBpdCA+IDAgPyBtaW4odG9JbnRlZ2VyKGl0KSwgMHgxZmZmZmZmZmZmZmZmZikgOiAwOyAvLyBwb3coMiwgNTMpIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG5cdH07XG5cbi8qKiovIH0sXG4vKiAzMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gNy4xLjQgVG9JbnRlZ2VyXG5cdHZhciBjZWlsICA9IE1hdGguY2VpbFxuXHQgICwgZmxvb3IgPSBNYXRoLmZsb29yO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDM0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgdG9JbnRlZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMylcblx0ICAsIG1heCAgICAgICA9IE1hdGgubWF4XG5cdCAgLCBtaW4gICAgICAgPSBNYXRoLm1pbjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpbmRleCwgbGVuZ3RoKXtcblx0ICBpbmRleCA9IHRvSW50ZWdlcihpbmRleCk7XG5cdCAgcmV0dXJuIGluZGV4IDwgMCA/IG1heChpbmRleCArIGxlbmd0aCwgMCkgOiBtaW4oaW5kZXgsIGxlbmd0aCk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIHNoYXJlZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzYpKCdrZXlzJylcblx0ICAsIHVpZCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG5cdCAgcmV0dXJuIHNoYXJlZFtrZXldIHx8IChzaGFyZWRba2V5XSA9IHVpZChrZXkpKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDM2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMClcblx0ICAsIFNIQVJFRCA9ICdfX2NvcmUtanNfc2hhcmVkX18nXG5cdCAgLCBzdG9yZSAgPSBnbG9iYWxbU0hBUkVEXSB8fCAoZ2xvYmFsW1NIQVJFRF0gPSB7fSk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcblx0ICByZXR1cm4gc3RvcmVba2V5XSB8fCAoc3RvcmVba2V5XSA9IHt9KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDM3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHR2YXIgaWQgPSAwXG5cdCAgLCBweCA9IE1hdGgucmFuZG9tKCk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcblx0ICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIElFIDgtIGRvbid0IGVudW0gYnVnIGtleXNcblx0bW9kdWxlLmV4cG9ydHMgPSAoXG5cdCAgJ2NvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZidcblx0KS5zcGxpdCgnLCcpO1xuXG4vKioqLyB9LFxuLyogMzkgKi8sXG4vKiA0MCAqLyxcbi8qIDQxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpXG5cdHZhciBkZWZpbmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbigkKSB7IWZ1bmN0aW9uKHQsZSl7IHRydWU/bW9kdWxlLmV4cG9ydHM9ZShfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KSxfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KSk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJpc29tb3JwaGljLWZldGNoXCIsXCJmc1wiXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLkVwdWJQcmVzcz1lKHJlcXVpcmUoXCJpc29tb3JwaGljLWZldGNoXCIpLHJlcXVpcmUoXCJmc1wiKSk6dC5FcHViUHJlc3M9ZSh0W1wiaXNvbW9ycGhpYy1mZXRjaFwiXSx0LmZzKX0odGhpcyxmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe2lmKG5bcl0pcmV0dXJuIG5bcl0uZXhwb3J0czt2YXIgaT1uW3JdPXtleHBvcnRzOnt9LGlkOnIsbG9hZGVkOiExfTtyZXR1cm4gdFtyXS5jYWxsKGkuZXhwb3J0cyxpLGkuZXhwb3J0cyxlKSxpLmxvYWRlZD0hMCxpLmV4cG9ydHN9dmFyIG49e307cmV0dXJuIGUubT10LGUuYz1uLGUucD1cIlwiLGUoMCl9KFtmdW5jdGlvbih0LGUsbil7bigxKSx0LmV4cG9ydHM9bigyKX0sZnVuY3Rpb24oZSxuKXtlLmV4cG9ydHM9dH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1mdW5jdGlvbiBpKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvd31mdW5jdGlvbiBvKCl7aWYoRi5ERUJVRyl7dmFyIHQ7KHQ9Y29uc29sZSkubG9nLmFwcGx5KHQsYXJndW1lbnRzKX19ZnVuY3Rpb24gcyh0KXtpZighdC5nZXRJZCgpKXRocm93IG5ldyBFcnJvcihcIkJvb2sgaGFzIG5vIGlkLiBIYXZlIHlvdSBwdWJsaXNoZWQ/XCIpfWZ1bmN0aW9uIGEodCxlKXtpZihpKCkpe3ZhciByPXZvaWQgMDtyPVwiZnVuY3Rpb25cIj09dHlwZW9mIEZpbGU/bmV3IEZpbGUoW2VdLHQpOm5ldyBCbG9iKFtlXSx7dHlwZTpcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwifSksKDAsay5zYXZlQXMpKHIsdCl9ZWxzZXt2YXIgbz1uKDU0KTtvLndyaXRlRmlsZVN5bmModCxlKX19ZnVuY3Rpb24gYyh0KXt2YXIgZT17dGl0bGU6dC50aXRsZSxkZXNjcmlwdGlvbjp0LmRlc2NyaXB0aW9ufTtyZXR1cm4gdC5zZWN0aW9ucz9lLnNlY3Rpb25zPXQuc2VjdGlvbnM6ZS51cmxzPXQudXJscy5zbGljZSgpLHttZXRob2Q6XCJQT1NUXCIsaGVhZGVyczp7QWNjZXB0OlwiYXBwbGljYXRpb24vanNvblwiLFwiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGJvZHk6KDAsd1tcImRlZmF1bHRcIl0pKGUpfX1mdW5jdGlvbiB1KHQpe3JldHVybiBuZXcgQ1tcImRlZmF1bHRcIl0oZnVuY3Rpb24oZSxuKXt2YXIgcj1mdW5jdGlvbiBpKHIpe3QuY2hlY2tTdGF0dXMoKS50aGVuKGZ1bmN0aW9uKG8pe3QuZW1pdChcInN0YXR1c1VwZGF0ZVwiLG8pLE51bWJlcihvLnByb2dyZXNzKT49MTAwP2UodCk6cj49Ri5DSEVDS19TVEFUVVNfTElNSVQ/bihuZXcgRXJyb3IoRi5FUlJPUl9DT0RFU1s1MDNdKSk6c2V0VGltZW91dChpLEYuUE9MTF9SQVRFLHIrMSl9KVtcImNhdGNoXCJdKG4pfTtyKDEpfSl9ZnVuY3Rpb24gbCh0KXt2YXIgZT1GLkVSUk9SX0NPREVTW3Quc3RhdHVzXTtpZih0LnN0YXR1cz49MjAwJiZ0LnN0YXR1czwzMDApcmV0dXJuIHQ7aWYodC5ib2R5KXJldHVybiB0Lmpzb24oKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBuPXQuZXJyb3JzJiZ0LmVycm9ycy5sZW5ndGg+MCxyPW4/dC5lcnJvcnNbMF0uZGV0YWlsOmU7cmV0dXJuIENbXCJkZWZhdWx0XCJdLnJlamVjdChuZXcgRXJyb3IocikpfSk7dmFyIG49bmV3IEVycm9yKGUpO3JldHVybiBDW1wiZGVmYXVsdFwiXS5yZWplY3Qobil9ZnVuY3Rpb24gZih0KXt2YXIgZT1GLkVSUk9SX0NPREVTW3QubWVzc2FnZV18fEYuRVJST1JfQ09ERVNbdC5uYW1lXTtyZXR1cm4gZT9uZXcgRXJyb3IoZSk6dH1mdW5jdGlvbiBwKHQsZSl7dmFyIG49TnVtYmVyKGUubWluQ29tcGF0aWJsZS5yZXBsYWNlKFwiLlwiLFwiXCIpKSxyPU51bWJlcih0LnJlcGxhY2UoXCIuXCIsXCJcIikpO3JldHVybiBuPnI/ZS5tZXNzYWdlOm51bGx9ZnVuY3Rpb24gaCh0KXt2YXIgZT1bXCJlbWFpbFwiLFwiZmlsZXR5cGVcIl0ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdP2UrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KHRbZV0pOlwiXCJ9KS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHR9KS5qb2luKFwiJlwiKTtyZXR1cm4gZT9cIj9cIitlOlwiXCJ9dmFyIGQ9bigzKSxfPXIoZCksdj1uKDQwKSx5PXIodiksbT1uKDQxKSxnPXIobSksYj1uKDQ1KSx3PXIoYiksRT1uKDQ3KSxDPXIoRSksaz1uKDUwKSxqPW4oNTMpLHg9cihqKSxGPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXsoMCx5W1wiZGVmYXVsdFwiXSkodGhpcyx0KTt2YXIgbj1EYXRlKCkuc2xpY2UoMCxEYXRlKCkubWF0Y2goL1xcZHs0fS8pLmluZGV4KzQpLHI9e3RpdGxlOlwiRXB1YlByZXNzIC0gXCIrbixkZXNjcmlwdGlvbjp2b2lkIDAsc2VjdGlvbnM6dm9pZCAwLHVybHM6dm9pZCAwLGZpbGV0eXBlOlwiZXB1YlwifTt0aGlzLmJvb2tEYXRhPSgwLF9bXCJkZWZhdWx0XCJdKSh7fSxyLGUpLHRoaXMuZXZlbnRzPXt9fXJldHVybigwLGdbXCJkZWZhdWx0XCJdKSh0LG51bGwsW3trZXk6XCJjaGVja0ZvclVwZGF0ZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTB8fHZvaWQgMD09PWFyZ3VtZW50c1swXT9cImVwdWItcHJlc3MtanNcIjphcmd1bWVudHNbMF0sbj1hcmd1bWVudHMubGVuZ3RoPD0xfHx2b2lkIDA9PT1hcmd1bWVudHNbMV0/dC5nZXRWZXJzaW9uKCk6YXJndW1lbnRzWzFdO3JldHVybiBuZXcgQ1tcImRlZmF1bHRcIl0oZnVuY3Rpb24ocixpKXtmZXRjaCh0LmdldFZlcnNpb25VcmwoKSkudGhlbihsKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmpzb24oKX0pLnRoZW4oZnVuY3Rpb24odCl7dmFyIG89dC5jbGllbnRzW2VdO28/cihwKG4sbykpOmkobmV3IEVycm9yKFwiVmVyc2lvbiBkYXRhIGZvciBcIitlK1wiIG5vdCBmb3VuZC5cIikpfSlbXCJjYXRjaFwiXShmdW5jdGlvbih0KXt2YXIgZT1mKHQpO28oXCJWZXJzaW9uIGNoZWNrIGZhaWxlZFwiLGUpLGkoZSl9KX0pfX0se2tleTpcImdldFB1Ymxpc2hVcmxcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3RvdHlwZS5nZXRQdWJsaXNoVXJsKCl9fSx7a2V5OlwiZ2V0VmVyc2lvblVybFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHQuQkFTRV9BUEkrXCIvdmVyc2lvblwifX0se2tleTpcImdldFZlcnNpb25cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0LlZFUlNJT059fV0pLCgwLGdbXCJkZWZhdWx0XCJdKSh0LFt7a2V5Olwib25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmV2ZW50c1t0XXx8KHRoaXMuZXZlbnRzW3RdPVtdKSx0aGlzLmV2ZW50c1t0XS5wdXNoKGUpLGV9fSx7a2V5OlwiZW1pdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLG49QXJyYXkoZT4xP2UtMTowKSxyPTE7ZT5yO3IrKyluW3ItMV09YXJndW1lbnRzW3JdO3RoaXMuZXZlbnRzW3RdJiZ0aGlzLmV2ZW50c1t0XS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuYXBwbHkodm9pZCAwLG4pfSl9fSx7a2V5OlwicmVtb3ZlTGlzdGVuZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHRoaXMuZXZlbnRzW3RdKXt2YXIgbj10aGlzLmV2ZW50c1t0XS5pbmRleE9mKGUpO24+PTAmJnRoaXMuZXZlbnRzW3RdLnNwbGljZShuLDEpfX19LHtrZXk6XCJnZXRVcmxzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1bXSxlPXRoaXMuYm9va0RhdGEsbj1lLnVybHMscj1lLnNlY3Rpb25zO3JldHVybiBuP3Q9bi5zbGljZSgpOnImJih0PXIubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnVybH0pKSx0fX0se2tleTpcImdldEZpbGV0eXBlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dHx8dGhpcy5ib29rRGF0YS5maWxldHlwZTtyZXR1cm4gZT9bXCJtb2JpXCIsXCJlcHViXCJdLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuIGUudG9Mb3dlckNhc2UoKT09PXR9KXx8XCJlcHViXCI6XCJlcHViXCJ9fSx7a2V5OlwiZ2V0RW1haWxcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvb2tEYXRhLmVtYWlsfX0se2tleTpcImdldFRpdGxlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib29rRGF0YS50aXRsZX19LHtrZXk6XCJnZXREZXNjcmlwdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9va0RhdGEuZGVzY3JpcHRpb259fSx7a2V5OlwiZ2V0SWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvb2tEYXRhLmlkfX0se2tleTpcImdldFN0YXR1c1VybFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHQuZ2V0UHVibGlzaFVybCgpK1wiL1wiK3RoaXMuZ2V0SWQoKStcIi9zdGF0dXNcIn19LHtrZXk6XCJnZXRQdWJsaXNoVXJsXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5CQVNFX0FQSStcIi9ib29rc1wifX0se2tleTpcImdldERvd25sb2FkVXJsXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPD0wfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/dGhpcy5nZXRGaWxldHlwZSgpOmFyZ3VtZW50c1swXSxlPWgoe2ZpbGV0eXBlOnR9KTtyZXR1cm4gdGhpcy5nZXRQdWJsaXNoVXJsKCkrXCIvXCIrdGhpcy5nZXRJZCgpK1wiL2Rvd25sb2FkXCIrZX19LHtrZXk6XCJnZXRFbWFpbFVybFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aDw9MHx8dm9pZCAwPT09YXJndW1lbnRzWzBdP3RoaXMuZ2V0RW1haWwoKTphcmd1bWVudHNbMF0sZT1hcmd1bWVudHMubGVuZ3RoPD0xfHx2b2lkIDA9PT1hcmd1bWVudHNbMV0/dGhpcy5nZXRGaWxldHlwZSgpOmFyZ3VtZW50c1sxXSxuPWgoe2VtYWlsOnQsZmlsZXR5cGU6ZX0pO3JldHVybiB0aGlzLmdldFB1Ymxpc2hVcmwoKStcIi9cIit0aGlzLmdldElkKCkrXCIvZW1haWxcIitufX0se2tleTpcImNoZWNrU3RhdHVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBuZXcgQ1tcImRlZmF1bHRcIl0oZnVuY3Rpb24oZSxuKXtmZXRjaCh0LmdldFN0YXR1c1VybCgpKS50aGVuKGwpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQuanNvbigpfSkudGhlbihmdW5jdGlvbih0KXtlKHQpfSlbXCJjYXRjaFwiXShmdW5jdGlvbih0KXt2YXIgZT1mKHQpO24oZSl9KX0pfX0se2tleTpcInB1Ymxpc2hcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuaXNQdWJsaXNoaW5nP0NbXCJkZWZhdWx0XCJdLnJlamVjdChuZXcgRXJyb3IoXCJQdWJsaXNoaW5nIGluIHByb2dyZXNzXCIpKTp0aGlzLmdldElkKCk/Q1tcImRlZmF1bHRcIl0ucmVzb2x2ZSh0aGlzLmdldElkKCkpOih0aGlzLmlzUHVibGlzaGluZz0hMCxuZXcgQ1tcImRlZmF1bHRcIl0oZnVuY3Rpb24oZSxuKXtmZXRjaCh0LmdldFB1Ymxpc2hVcmwoKSxjKHQuYm9va0RhdGEpKS50aGVuKGwpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQuanNvbigpfSkudGhlbihmdW5jdGlvbihuKXt2YXIgcj1uLmlkO3JldHVybiB0LmJvb2tEYXRhLmlkPXIsdSh0KS50aGVuKGZ1bmN0aW9uKCl7ZShyKX0pfSlbXCJjYXRjaFwiXShmdW5jdGlvbihlKXt0LmlzUHVibGlzaGluZz0hMTt2YXIgcj1mKGUpO28oXCJFYnVwUHJlc3M6IFB1Ymxpc2ggZmFpbGVkXCIsciksbihyKX0pfSkpfX0se2tleTpcImRvd25sb2FkXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IENbXCJkZWZhdWx0XCJdKGZ1bmN0aW9uKG4scil7cyhlKSxmZXRjaChlLmdldERvd25sb2FkVXJsKHQpKS50aGVuKGwpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQuYmxvYj90LmJsb2IoKTp0LmJ1ZmZlcigpfSkudGhlbihmdW5jdGlvbihyKXt2YXIgaT1lLmdldFRpdGxlKCkrXCIuXCIrKHR8fGUuZ2V0RmlsZXR5cGUoKSk7YShpLHIpLG4oKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24odCl7dmFyIGU9Zih0KTtvKFwiRXB1YlByZXNzOiBEb3dubG9hZCBmYWlsZWRcIixlKSxyKGUpfSl9KX19LHtrZXk6XCJlbWFpbFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gbmV3IENbXCJkZWZhdWx0XCJdKGZ1bmN0aW9uKHIsaSl7cmV0dXJuIHQ/KHMobiksZmV0Y2gobi5nZXRFbWFpbFVybCh0LGUpKS50aGVuKGwpLnRoZW4oZnVuY3Rpb24oKXtvKFwiRXB1YlByZXNzOiBCb29rIGRlbGl2ZXJlZC5cIikscigpfSlbXCJjYXRjaFwiXShmdW5jdGlvbih0KXt2YXIgZT1mKHQpO28oXCJFcHViUHJlc3M6IEVtYWlsIGRlbGl2ZXJ5IGZhaWxlZC5cIiksaShlKX0pKTppKG5ldyBFcnJvcihcIkVwdWJQcmVzczogTm8gZW1haWwgcHJvdmlkZWQuXCIpKX0pfX1dKSx0fSgpO0YuQkFTRV9VUkw9eFtcImRlZmF1bHRcIl0uYmFzZVVybCxGLkJBU0VfQVBJPUYuQkFTRV9VUkwrXCIvYXBpL3YxXCIsRi5WRVJTSU9OPXhbXCJkZWZhdWx0XCJdLnZlcnNpb24sRi5QT0xMX1JBVEU9M2UzLEYuQ0hFQ0tfU1RBVFVTX0xJTUlUPTQwLEYuRVJST1JfQ09ERVM9ezA6XCJTZXJ2ZXIgaXMgZG93bi4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cIixcIkZhaWxlZCB0byBmZXRjaFwiOlwiU2VydmVyIGlzIGRvd24uIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuXCIsRmV0Y2hFcnJvcjpcIlNlcnZlciBpcyBkb3duLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlwiLDQwMDpcIlRoZXJlIHdhcyBhIHByb2JsZW0gd2l0aCB0aGUgcmVxdWVzdC4gSXMgRXB1YlByZXNzIHVwIHRvIGRhdGU/XCIsNDA0OlwiUmVzb3VyY2Ugbm90IGZvdW5kLlwiLDQyMjpcIlJlcXVlc3QgY29udGFpbmVkIGludmFsaWQgZGF0YS5cIiw1MDA6XCJVbmV4cGVjdGVkIHNlcnZlciBlcnJvci5cIiw1MDM6XCJTZXJ2ZXIgdG9vayB0b28gbG9uZyB0byByZXNwb25kLlwiLHRpbWVvdXQ6XCJSZXF1ZXN0IHRvb2sgdG9vIGxvbmcgdG8gY29tcGxldGUuXCIsZXJyb3I6dm9pZCAwLFNFUlZFUl9GQUlMRUQ6XCJTZXJ2ZXIgZXJyb3Igd2hpbGUgZG93bmxvYWRpbmcuXCIsU0VSVkVSX0JBRF9DT05URU5UOlwiQm9vayBjb3VsZCBub3QgYmUgZm91bmRcIn0sdC5leHBvcnRzPUZ9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9e1wiZGVmYXVsdFwiOm4oNCksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKHQsZSxuKXtuKDUpLHQuZXhwb3J0cz1uKDgpLk9iamVjdC5hc3NpZ259LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDYpO3Ioci5TK3IuRixcIk9iamVjdFwiLHthc3NpZ246bigyMSl9KX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNyksaT1uKDgpLG89big5KSxzPW4oMTEpLGE9XCJwcm90b3R5cGVcIixjPWZ1bmN0aW9uKHQsZSxuKXt2YXIgdSxsLGYscD10JmMuRixoPXQmYy5HLGQ9dCZjLlMsXz10JmMuUCx2PXQmYy5CLHk9dCZjLlcsbT1oP2k6aVtlXXx8KGlbZV09e30pLGc9bVthXSxiPWg/cjpkP3JbZV06KHJbZV18fHt9KVthXTtoJiYobj1lKTtmb3IodSBpbiBuKWw9IXAmJmImJnZvaWQgMCE9PWJbdV0sbCYmdSBpbiBtfHwoZj1sP2JbdV06blt1XSxtW3VdPWgmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGJbdV0/blt1XTp2JiZsP28oZixyKTp5JiZiW3VdPT1mP2Z1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKGUsbixyKXtpZih0aGlzIGluc3RhbmNlb2YgdCl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IHQ7Y2FzZSAxOnJldHVybiBuZXcgdChlKTtjYXNlIDI6cmV0dXJuIG5ldyB0KGUsbil9cmV0dXJuIG5ldyB0KGUsbixyKX1yZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiBlW2FdPXRbYV0sZX0oZik6XyYmXCJmdW5jdGlvblwiPT10eXBlb2YgZj9vKEZ1bmN0aW9uLmNhbGwsZik6ZixfJiYoKG0udmlydHVhbHx8KG0udmlydHVhbD17fSkpW3VdPWYsdCZjLlImJmcmJiFnW3VdJiZzKGcsdSxmKSkpfTtjLkY9MSxjLkc9MixjLlM9NCxjLlA9OCxjLkI9MTYsYy5XPTMyLGMuVT02NCxjLlI9MTI4LHQuZXhwb3J0cz1jfSxmdW5jdGlvbih0LGUpe3ZhciBuPXQuZXhwb3J0cz1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcIm51bWJlclwiPT10eXBlb2YgX19nJiYoX19nPW4pfSxmdW5jdGlvbih0LGUpe3ZhciBuPXQuZXhwb3J0cz17dmVyc2lvbjpcIjIuNC4wXCJ9O1wibnVtYmVyXCI9PXR5cGVvZiBfX2UmJihfX2U9bil9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEwKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe2lmKHIodCksdm9pZCAwPT09ZSlyZXR1cm4gdDtzd2l0Y2gobil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gdC5jYWxsKGUsbil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24obixyKXtyZXR1cm4gdC5jYWxsKGUsbixyKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihuLHIsaSl7cmV0dXJuIHQuY2FsbChlLG4scixpKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgVHlwZUVycm9yKHQrXCIgaXMgbm90IGEgZnVuY3Rpb24hXCIpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTIpLGk9bigyMCk7dC5leHBvcnRzPW4oMTYpP2Z1bmN0aW9uKHQsZSxuKXtyZXR1cm4gci5mKHQsZSxpKDEsbikpfTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbZV09bix0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTMpLGk9bigxNSksbz1uKDE5KSxzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtlLmY9bigxNik/T2JqZWN0LmRlZmluZVByb3BlcnR5OmZ1bmN0aW9uKHQsZSxuKXtpZihyKHQpLGU9byhlLCEwKSxyKG4pLGkpdHJ5e3JldHVybiBzKHQsZSxuKX1jYXRjaChhKXt9aWYoXCJnZXRcImluIG58fFwic2V0XCJpbiBuKXRocm93IFR5cGVFcnJvcihcIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIVwiKTtyZXR1cm5cInZhbHVlXCJpbiBuJiYodFtlXT1uLnZhbHVlKSx0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTQpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZighcih0KSl0aHJvdyBUeXBlRXJyb3IodCtcIiBpcyBub3QgYW4gb2JqZWN0IVwiKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0P251bGwhPT10OlwiZnVuY3Rpb25cIj09dHlwZW9mIHR9fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPSFuKDE2KSYmIW4oMTcpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuKDE4KShcImRpdlwiKSxcImFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPSFuKDE3KShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiEhdCgpfWNhdGNoKGUpe3JldHVybiEwfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE0KSxpPW4oNykuZG9jdW1lbnQsbz1yKGkpJiZyKGkuY3JlYXRlRWxlbWVudCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBvP2kuY3JlYXRlRWxlbWVudCh0KTp7fX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE0KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZighcih0KSlyZXR1cm4gdDt2YXIgbixpO2lmKGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mKG49dC50b1N0cmluZykmJiFyKGk9bi5jYWxsKHQpKSlyZXR1cm4gaTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZihuPXQudmFsdWVPZikmJiFyKGk9bi5jYWxsKHQpKSlyZXR1cm4gaTtpZighZSYmXCJmdW5jdGlvblwiPT10eXBlb2Yobj10LnRvU3RyaW5nKSYmIXIoaT1uLmNhbGwodCkpKXJldHVybiBpO3Rocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJue2VudW1lcmFibGU6ISgxJnQpLGNvbmZpZ3VyYWJsZTohKDImdCksd3JpdGFibGU6ISg0JnQpLHZhbHVlOmV9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMjIpLGk9bigzNyksbz1uKDM4KSxzPW4oMzkpLGE9bigyNiksYz1PYmplY3QuYXNzaWduO3QuZXhwb3J0cz0hY3x8bigxNykoZnVuY3Rpb24oKXt2YXIgdD17fSxlPXt9LG49U3ltYm9sKCkscj1cImFiY2RlZmdoaWprbG1ub3BxcnN0XCI7cmV0dXJuIHRbbl09NyxyLnNwbGl0KFwiXCIpLmZvckVhY2goZnVuY3Rpb24odCl7ZVt0XT10fSksNyE9Yyh7fSx0KVtuXXx8T2JqZWN0LmtleXMoYyh7fSxlKSkuam9pbihcIlwiKSE9cn0pP2Z1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXModCksYz1hcmd1bWVudHMubGVuZ3RoLHU9MSxsPWkuZixmPW8uZjtjPnU7KWZvcih2YXIgcCxoPWEoYXJndW1lbnRzW3UrK10pLGQ9bD9yKGgpLmNvbmNhdChsKGgpKTpyKGgpLF89ZC5sZW5ndGgsdj0wO18+djspZi5jYWxsKGgscD1kW3YrK10pJiYobltwXT1oW3BdKTtyZXR1cm4gbn06Y30sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjMpLGk9bigzNik7dC5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbih0KXtyZXR1cm4gcih0LGkpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjQpLGk9bigyNSksbz1uKDI5KSghMSkscz1uKDMzKShcIklFX1BST1RPXCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLGE9aSh0KSxjPTAsdT1bXTtmb3IobiBpbiBhKW4hPXMmJnIoYSxuKSYmdS5wdXNoKG4pO2Zvcig7ZS5sZW5ndGg+YzspcihhLG49ZVtjKytdKSYmKH5vKHUsbil8fHUucHVzaChuKSk7cmV0dXJuIHV9fSxmdW5jdGlvbih0LGUpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBuLmNhbGwodCxlKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI2KSxpPW4oMjgpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gcihpKHQpKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI3KTt0LmV4cG9ydHM9T2JqZWN0KFwielwiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24odCl7cmV0dXJuXCJTdHJpbmdcIj09cih0KT90LnNwbGl0KFwiXCIpOk9iamVjdCh0KX19LGZ1bmN0aW9uKHQsZSl7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuLmNhbGwodCkuc2xpY2UoOCwtMSl9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZih2b2lkIDA9PXQpdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiK3QpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjUpLGk9bigzMCksbz1uKDMyKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixzKXt2YXIgYSxjPXIoZSksdT1pKGMubGVuZ3RoKSxsPW8ocyx1KTtpZih0JiZuIT1uKXtmb3IoO3U+bDspaWYoYT1jW2wrK10sYSE9YSlyZXR1cm4hMH1lbHNlIGZvcig7dT5sO2wrKylpZigodHx8bCBpbiBjKSYmY1tsXT09PW4pcmV0dXJuIHR8fGx8fDA7cmV0dXJuIXQmJi0xfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMxKSxpPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdD4wP2kocih0KSw5MDA3MTk5MjU0NzQwOTkxKTowfX0sZnVuY3Rpb24odCxlKXt2YXIgbj1NYXRoLmNlaWwscj1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaXNOYU4odD0rdCk/MDoodD4wP3I6bikodCl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzMSksaT1NYXRoLm1heCxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiB0PXIodCksMD50P2kodCtlLDApOm8odCxlKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDM0KShcImtleXNcIiksaT1uKDM1KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHJbdF18fChyW3RdPWkodCkpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNyksaT1cIl9fY29yZS1qc19zaGFyZWRfX1wiLG89cltpXXx8KHJbaV09e30pO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gb1t0XXx8KG9bdF09e30pfX0sZnVuY3Rpb24odCxlKXt2YXIgbj0wLHI9TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuXCJTeW1ib2woXCIuY29uY2F0KHZvaWQgMD09PXQ/XCJcIjp0LFwiKV9cIiwoKytuK3IpLnRvU3RyaW5nKDM2KSl9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZlwiLnNwbGl0KFwiLFwiKX0sZnVuY3Rpb24odCxlKXtlLmY9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30sZnVuY3Rpb24odCxlKXtlLmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI4KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChyKHQpKX19LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7ZS5fX2VzTW9kdWxlPSEwLGVbXCJkZWZhdWx0XCJdPWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZS5fX2VzTW9kdWxlPSEwO3ZhciBpPW4oNDIpLG89cihpKTtlW1wiZGVmYXVsdFwiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksKDAsb1tcImRlZmF1bHRcIl0pKHQsci5rZXkscil9fXJldHVybiBmdW5jdGlvbihlLG4scil7cmV0dXJuIG4mJnQoZS5wcm90b3R5cGUsbiksciYmdChlLHIpLGV9fSgpfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPXtcImRlZmF1bHRcIjpuKDQzKSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24odCxlLG4pe24oNDQpO3ZhciByPW4oOCkuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHIuZGVmaW5lUHJvcGVydHkodCxlLG4pfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNik7cihyLlMrci5GKiFuKDE2KSxcIk9iamVjdFwiLHtkZWZpbmVQcm9wZXJ0eTpuKDEyKS5mfSl9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9e1wiZGVmYXVsdFwiOm4oNDYpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big4KSxpPXIuSlNPTnx8KHIuSlNPTj17c3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBpLnN0cmluZ2lmeS5hcHBseShpLGFyZ3VtZW50cyl9fSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKGUsbixyKXsvKiBAcHJlc2VydmVcblx0XHQgKiBUaGUgTUlUIExpY2Vuc2UgKE1JVClcblx0XHQgKiBcblx0XHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNSBQZXRrYSBBbnRvbm92XG5cdFx0ICogXG5cdFx0ICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuXHRcdCAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcblx0XHQgKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG5cdFx0ICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuXHRcdCAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuXHRcdCAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cdFx0ICogXG5cdFx0ICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cblx0XHQgKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblx0XHQgKiBcblx0XHQgKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG5cdFx0ICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG5cdFx0ICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuXHRcdCAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcblx0XHQgKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuXHRcdCAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cblx0XHQgKiBUSEUgU09GVFdBUkUuXG5cdFx0ICogXG5cdFx0ICovXG5cdCFmdW5jdGlvbihlKXt0LmV4cG9ydHM9ZSgpfShmdW5jdGlvbigpe3ZhciB0LGksbztyZXR1cm4gZnVuY3Rpb24gcyh0LGUsbil7ZnVuY3Rpb24gcihvLGEpe2lmKCFlW29dKXtpZighdFtvXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgX2RlcmVxXyYmX2RlcmVxXztpZighYSYmYylyZXR1cm4gYyhvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciB1PW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgdS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLHV9dmFyIGw9ZVtvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiByKG4/bjplKX0sbCxsLmV4cG9ydHMscyx0LGUsbil9cmV0dXJuIGVbb10uZXhwb3J0c31mb3IodmFyIGk9XCJmdW5jdGlvblwiPT10eXBlb2YgX2RlcmVxXyYmX2RlcmVxXyxvPTA7bzxuLmxlbmd0aDtvKyspcihuW29dKTtyZXR1cm4gcn0oezE6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgZT1uZXcgbih0KSxyPWUucHJvbWlzZSgpO3JldHVybiBlLnNldEhvd01hbnkoMSksZS5zZXRVbndyYXAoKSxlLmluaXQoKSxyfXZhciBuPXQuX1NvbWVQcm9taXNlQXJyYXk7dC5hbnk9ZnVuY3Rpb24odCl7cmV0dXJuIGUodCl9LHQucHJvdG90eXBlLmFueT1mdW5jdGlvbigpe3JldHVybiBlKHRoaXMpfX19LHt9XSwyOltmdW5jdGlvbih0LG4scil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSgpe3RoaXMuX2N1c3RvbVNjaGVkdWxlcj0hMSx0aGlzLl9pc1RpY2tVc2VkPSExLHRoaXMuX2xhdGVRdWV1ZT1uZXcgZigxNiksdGhpcy5fbm9ybWFsUXVldWU9bmV3IGYoMTYpLHRoaXMuX2hhdmVEcmFpbmVkUXVldWVzPSExLHRoaXMuX3RyYW1wb2xpbmVFbmFibGVkPSEwO3ZhciB0PXRoaXM7dGhpcy5kcmFpblF1ZXVlcz1mdW5jdGlvbigpe3QuX2RyYWluUXVldWVzKCl9LHRoaXMuX3NjaGVkdWxlPWx9ZnVuY3Rpb24gbyh0LGUsbil7dGhpcy5fbGF0ZVF1ZXVlLnB1c2godCxlLG4pLHRoaXMuX3F1ZXVlVGljaygpfWZ1bmN0aW9uIHModCxlLG4pe3RoaXMuX25vcm1hbFF1ZXVlLnB1c2godCxlLG4pLHRoaXMuX3F1ZXVlVGljaygpfWZ1bmN0aW9uIGEodCl7dGhpcy5fbm9ybWFsUXVldWUuX3B1c2hPbmUodCksdGhpcy5fcXVldWVUaWNrKCl9dmFyIGM7dHJ5e3Rocm93IG5ldyBFcnJvcn1jYXRjaCh1KXtjPXV9dmFyIGw9dChcIi4vc2NoZWR1bGVcIiksZj10KFwiLi9xdWV1ZVwiKSxwPXQoXCIuL3V0aWxcIik7aS5wcm90b3R5cGUuc2V0U2NoZWR1bGVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3NjaGVkdWxlO3JldHVybiB0aGlzLl9zY2hlZHVsZT10LHRoaXMuX2N1c3RvbVNjaGVkdWxlcj0hMCxlfSxpLnByb3RvdHlwZS5oYXNDdXN0b21TY2hlZHVsZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VzdG9tU2NoZWR1bGVyfSxpLnByb3RvdHlwZS5lbmFibGVUcmFtcG9saW5lPWZ1bmN0aW9uKCl7dGhpcy5fdHJhbXBvbGluZUVuYWJsZWQ9ITB9LGkucHJvdG90eXBlLmRpc2FibGVUcmFtcG9saW5lSWZOZWNlc3Nhcnk9ZnVuY3Rpb24oKXtwLmhhc0RldlRvb2xzJiYodGhpcy5fdHJhbXBvbGluZUVuYWJsZWQ9ITEpfSxpLnByb3RvdHlwZS5oYXZlSXRlbXNRdWV1ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNUaWNrVXNlZHx8dGhpcy5faGF2ZURyYWluZWRRdWV1ZXN9LGkucHJvdG90eXBlLmZhdGFsRXJyb3I9ZnVuY3Rpb24odCxuKXtuPyhlLnN0ZGVyci53cml0ZShcIkZhdGFsIFwiKyh0IGluc3RhbmNlb2YgRXJyb3I/dC5zdGFjazp0KStcIlxcblwiKSxlLmV4aXQoMikpOnRoaXMudGhyb3dMYXRlcih0KX0saS5wcm90b3R5cGUudGhyb3dMYXRlcj1mdW5jdGlvbih0LGUpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoJiYoZT10LHQ9ZnVuY3Rpb24oKXt0aHJvdyBlfSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNldFRpbWVvdXQpc2V0VGltZW91dChmdW5jdGlvbigpe3QoZSl9LDApO2Vsc2UgdHJ5e3RoaXMuX3NjaGVkdWxlKGZ1bmN0aW9uKCl7dChlKX0pfWNhdGNoKG4pe3Rocm93IG5ldyBFcnJvcihcIk5vIGFzeW5jIHNjaGVkdWxlciBhdmFpbGFibGVcXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXCIpfX0scC5oYXNEZXZUb29scz8oaS5wcm90b3R5cGUuaW52b2tlTGF0ZXI9ZnVuY3Rpb24odCxlLG4pe3RoaXMuX3RyYW1wb2xpbmVFbmFibGVkP28uY2FsbCh0aGlzLHQsZSxuKTp0aGlzLl9zY2hlZHVsZShmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0LmNhbGwoZSxuKX0sMTAwKX0pfSxpLnByb3RvdHlwZS5pbnZva2U9ZnVuY3Rpb24odCxlLG4pe3RoaXMuX3RyYW1wb2xpbmVFbmFibGVkP3MuY2FsbCh0aGlzLHQsZSxuKTp0aGlzLl9zY2hlZHVsZShmdW5jdGlvbigpe3QuY2FsbChlLG4pfSl9LGkucHJvdG90eXBlLnNldHRsZVByb21pc2VzPWZ1bmN0aW9uKHQpe3RoaXMuX3RyYW1wb2xpbmVFbmFibGVkP2EuY2FsbCh0aGlzLHQpOnRoaXMuX3NjaGVkdWxlKGZ1bmN0aW9uKCl7dC5fc2V0dGxlUHJvbWlzZXMoKX0pfSk6KGkucHJvdG90eXBlLmludm9rZUxhdGVyPW8saS5wcm90b3R5cGUuaW52b2tlPXMsaS5wcm90b3R5cGUuc2V0dGxlUHJvbWlzZXM9YSksaS5wcm90b3R5cGUuaW52b2tlRmlyc3Q9ZnVuY3Rpb24odCxlLG4pe3RoaXMuX25vcm1hbFF1ZXVlLnVuc2hpZnQodCxlLG4pLHRoaXMuX3F1ZXVlVGljaygpfSxpLnByb3RvdHlwZS5fZHJhaW5RdWV1ZT1mdW5jdGlvbih0KXtmb3IoO3QubGVuZ3RoKCk+MDspe3ZhciBlPXQuc2hpZnQoKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXt2YXIgbj10LnNoaWZ0KCkscj10LnNoaWZ0KCk7ZS5jYWxsKG4scil9ZWxzZSBlLl9zZXR0bGVQcm9taXNlcygpfX0saS5wcm90b3R5cGUuX2RyYWluUXVldWVzPWZ1bmN0aW9uKCl7dGhpcy5fZHJhaW5RdWV1ZSh0aGlzLl9ub3JtYWxRdWV1ZSksdGhpcy5fcmVzZXQoKSx0aGlzLl9oYXZlRHJhaW5lZFF1ZXVlcz0hMCx0aGlzLl9kcmFpblF1ZXVlKHRoaXMuX2xhdGVRdWV1ZSl9LGkucHJvdG90eXBlLl9xdWV1ZVRpY2s9ZnVuY3Rpb24oKXt0aGlzLl9pc1RpY2tVc2VkfHwodGhpcy5faXNUaWNrVXNlZD0hMCx0aGlzLl9zY2hlZHVsZSh0aGlzLmRyYWluUXVldWVzKSl9LGkucHJvdG90eXBlLl9yZXNldD1mdW5jdGlvbigpe3RoaXMuX2lzVGlja1VzZWQ9ITF9LG4uZXhwb3J0cz1pLG4uZXhwb3J0cy5maXJzdExpbmVFcnJvcj1jfSx7XCIuL3F1ZXVlXCI6MjYsXCIuL3NjaGVkdWxlXCI6MjksXCIuL3V0aWxcIjozNn1dLDM6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9ITEsbz1mdW5jdGlvbih0LGUpe3RoaXMuX3JlamVjdChlKX0scz1mdW5jdGlvbih0LGUpe2UucHJvbWlzZVJlamVjdGlvblF1ZXVlZD0hMCxlLmJpbmRpbmdQcm9taXNlLl90aGVuKG8sbyxudWxsLHRoaXMsdCl9LGE9ZnVuY3Rpb24odCxlKXswPT09KDUwMzk3MTg0JnRoaXMuX2JpdEZpZWxkKSYmdGhpcy5fcmVzb2x2ZUNhbGxiYWNrKGUudGFyZ2V0KX0sYz1mdW5jdGlvbih0LGUpe2UucHJvbWlzZVJlamVjdGlvblF1ZXVlZHx8dGhpcy5fcmVqZWN0KHQpfTt0LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKG8pe2l8fChpPSEwLHQucHJvdG90eXBlLl9wcm9wYWdhdGVGcm9tPXIucHJvcGFnYXRlRnJvbUZ1bmN0aW9uKCksdC5wcm90b3R5cGUuX2JvdW5kVmFsdWU9ci5ib3VuZFZhbHVlRnVuY3Rpb24oKSk7dmFyIHU9bihvKSxsPW5ldyB0KGUpO2wuX3Byb3BhZ2F0ZUZyb20odGhpcywxKTt2YXIgZj10aGlzLl90YXJnZXQoKTtpZihsLl9zZXRCb3VuZFRvKHUpLHUgaW5zdGFuY2VvZiB0KXt2YXIgcD17cHJvbWlzZVJlamVjdGlvblF1ZXVlZDohMSxwcm9taXNlOmwsdGFyZ2V0OmYsYmluZGluZ1Byb21pc2U6dX07Zi5fdGhlbihlLHMsdm9pZCAwLGwscCksdS5fdGhlbihhLGMsdm9pZCAwLGwscCksbC5fc2V0T25DYW5jZWwodSl9ZWxzZSBsLl9yZXNvbHZlQ2FsbGJhY2soZik7cmV0dXJuIGx9LHQucHJvdG90eXBlLl9zZXRCb3VuZFRvPWZ1bmN0aW9uKHQpe3ZvaWQgMCE9PXQ/KHRoaXMuX2JpdEZpZWxkPTIwOTcxNTJ8dGhpcy5fYml0RmllbGQsdGhpcy5fYm91bmRUbz10KTp0aGlzLl9iaXRGaWVsZD0tMjA5NzE1MyZ0aGlzLl9iaXRGaWVsZH0sdC5wcm90b3R5cGUuX2lzQm91bmQ9ZnVuY3Rpb24oKXtyZXR1cm4gMjA5NzE1Mj09PSgyMDk3MTUyJnRoaXMuX2JpdEZpZWxkKX0sdC5iaW5kPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQucmVzb2x2ZShuKS5iaW5kKGUpfX19LHt9XSw0OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcigpe3RyeXtQcm9taXNlPT09byYmKFByb21pc2U9aSl9Y2F0Y2godCl7fXJldHVybiBvfXZhciBpO1widW5kZWZpbmVkXCIhPXR5cGVvZiBQcm9taXNlJiYoaT1Qcm9taXNlKTt2YXIgbz10KFwiLi9wcm9taXNlXCIpKCk7by5ub0NvbmZsaWN0PXIsZS5leHBvcnRzPW99LHtcIi4vcHJvbWlzZVwiOjIyfV0sNTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPU9iamVjdC5jcmVhdGU7aWYocil7dmFyIGk9cihudWxsKSxvPXIobnVsbCk7aVtcIiBzaXplXCJdPW9bXCIgc2l6ZVwiXT0wfWUuZXhwb3J0cz1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKHQsbil7dmFyIHI7aWYobnVsbCE9dCYmKHI9dFtuXSksXCJmdW5jdGlvblwiIT10eXBlb2Ygcil7dmFyIGk9XCJPYmplY3QgXCIrYS5jbGFzc1N0cmluZyh0KStcIiBoYXMgbm8gbWV0aG9kICdcIithLnRvU3RyaW5nKG4pK1wiJ1wiO3Rocm93IG5ldyBlLlR5cGVFcnJvcihpKX1yZXR1cm4gcn1mdW5jdGlvbiByKHQpe3ZhciBlPXRoaXMucG9wKCkscj1uKHQsZSk7cmV0dXJuIHIuYXBwbHkodCx0aGlzKX1mdW5jdGlvbiBpKHQpe3JldHVybiB0W3RoaXNdfWZ1bmN0aW9uIG8odCl7dmFyIGU9K3RoaXM7cmV0dXJuIDA+ZSYmKGU9TWF0aC5tYXgoMCxlK3QubGVuZ3RoKSksdFtlXX12YXIgcyxhPXQoXCIuL3V0aWxcIiksYz1hLmNhbkV2YWx1YXRlO2EuaXNJZGVudGlmaWVyO2UucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24odCl7dmFyIGU9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGUucHVzaCh0KSx0aGlzLl90aGVuKHIsdm9pZCAwLHZvaWQgMCxlLHZvaWQgMCl9LGUucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXt2YXIgZSxuPVwibnVtYmVyXCI9PXR5cGVvZiB0O2lmKG4pZT1vO2Vsc2UgaWYoYyl7dmFyIHI9cyh0KTtlPW51bGwhPT1yP3I6aX1lbHNlIGU9aTtyZXR1cm4gdGhpcy5fdGhlbihlLHZvaWQgMCx2b2lkIDAsdCx2b2lkIDApfX19LHtcIi4vdXRpbFwiOjM2fV0sNjpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlLG4scixpKXt2YXIgbz10KFwiLi91dGlsXCIpLHM9by50cnlDYXRjaCxhPW8uZXJyb3JPYmosYz1lLl9hc3luYztlLnByb3RvdHlwZVtcImJyZWFrXCJdPWUucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbigpe2lmKCFpLmNhbmNlbGxhdGlvbigpKXJldHVybiB0aGlzLl93YXJuKFwiY2FuY2VsbGF0aW9uIGlzIGRpc2FibGVkXCIpO2Zvcih2YXIgdD10aGlzLGU9dDt0Ll9pc0NhbmNlbGxhYmxlKCk7KXtpZighdC5fY2FuY2VsQnkoZSkpe2UuX2lzRm9sbG93aW5nKCk/ZS5fZm9sbG93ZWUoKS5jYW5jZWwoKTplLl9jYW5jZWxCcmFuY2hlZCgpO2JyZWFrfXZhciBuPXQuX2NhbmNlbGxhdGlvblBhcmVudDtpZihudWxsPT1ufHwhbi5faXNDYW5jZWxsYWJsZSgpKXt0Ll9pc0ZvbGxvd2luZygpP3QuX2ZvbGxvd2VlKCkuY2FuY2VsKCk6dC5fY2FuY2VsQnJhbmNoZWQoKTticmVha310Ll9pc0ZvbGxvd2luZygpJiZ0Ll9mb2xsb3dlZSgpLmNhbmNlbCgpLHQuX3NldFdpbGxCZUNhbmNlbGxlZCgpLGU9dCx0PW59fSxlLnByb3RvdHlwZS5fYnJhbmNoSGFzQ2FuY2VsbGVkPWZ1bmN0aW9uKCl7dGhpcy5fYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbC0tfSxlLnByb3RvdHlwZS5fZW5vdWdoQnJhbmNoZXNIYXZlQ2FuY2VsbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWx8fHRoaXMuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWw8PTB9LGUucHJvdG90eXBlLl9jYW5jZWxCeT1mdW5jdGlvbih0KXtyZXR1cm4gdD09PXRoaXM/KHRoaXMuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWw9MCx0aGlzLl9pbnZva2VPbkNhbmNlbCgpLCEwKToodGhpcy5fYnJhbmNoSGFzQ2FuY2VsbGVkKCksdGhpcy5fZW5vdWdoQnJhbmNoZXNIYXZlQ2FuY2VsbGVkKCk/KHRoaXMuX2ludm9rZU9uQ2FuY2VsKCksITApOiExKX0sZS5wcm90b3R5cGUuX2NhbmNlbEJyYW5jaGVkPWZ1bmN0aW9uKCl7dGhpcy5fZW5vdWdoQnJhbmNoZXNIYXZlQ2FuY2VsbGVkKCkmJnRoaXMuX2NhbmNlbCgpfSxlLnByb3RvdHlwZS5fY2FuY2VsPWZ1bmN0aW9uKCl7dGhpcy5faXNDYW5jZWxsYWJsZSgpJiYodGhpcy5fc2V0Q2FuY2VsbGVkKCksYy5pbnZva2UodGhpcy5fY2FuY2VsUHJvbWlzZXMsdGhpcyx2b2lkIDApKX0sZS5wcm90b3R5cGUuX2NhbmNlbFByb21pc2VzPWZ1bmN0aW9uKCl7dGhpcy5fbGVuZ3RoKCk+MCYmdGhpcy5fc2V0dGxlUHJvbWlzZXMoKX0sZS5wcm90b3R5cGUuX3Vuc2V0T25DYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLl9vbkNhbmNlbEZpZWxkPXZvaWQgMH0sZS5wcm90b3R5cGUuX2lzQ2FuY2VsbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1BlbmRpbmcoKSYmIXRoaXMuX2lzQ2FuY2VsbGVkKCl9LGUucHJvdG90eXBlLmlzQ2FuY2VsbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1BlbmRpbmcoKSYmIXRoaXMuaXNDYW5jZWxsZWQoKX0sZS5wcm90b3R5cGUuX2RvSW52b2tlT25DYW5jZWw9ZnVuY3Rpb24odCxlKXtpZihvLmlzQXJyYXkodCkpZm9yKHZhciBuPTA7bjx0Lmxlbmd0aDsrK24pdGhpcy5fZG9JbnZva2VPbkNhbmNlbCh0W25dLGUpO2Vsc2UgaWYodm9pZCAwIT09dClpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KXtpZighZSl7dmFyIHI9cyh0KS5jYWxsKHRoaXMuX2JvdW5kVmFsdWUoKSk7cj09PWEmJih0aGlzLl9hdHRhY2hFeHRyYVRyYWNlKHIuZSksYy50aHJvd0xhdGVyKHIuZSkpfX1lbHNlIHQuX3Jlc3VsdENhbmNlbGxlZCh0aGlzKX0sZS5wcm90b3R5cGUuX2ludm9rZU9uQ2FuY2VsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fb25DYW5jZWwoKTt0aGlzLl91bnNldE9uQ2FuY2VsKCksYy5pbnZva2UodGhpcy5fZG9JbnZva2VPbkNhbmNlbCx0aGlzLHQpfSxlLnByb3RvdHlwZS5faW52b2tlSW50ZXJuYWxPbkNhbmNlbD1mdW5jdGlvbigpe3RoaXMuX2lzQ2FuY2VsbGFibGUoKSYmKHRoaXMuX2RvSW52b2tlT25DYW5jZWwodGhpcy5fb25DYW5jZWwoKSwhMCksdGhpcy5fdW5zZXRPbkNhbmNlbCgpKX0sZS5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZD1mdW5jdGlvbigpe3RoaXMuY2FuY2VsKCl9fX0se1wiLi91dGlsXCI6MzZ9XSw3OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4odCxuLGEpe3JldHVybiBmdW5jdGlvbihjKXt2YXIgdT1hLl9ib3VuZFZhbHVlKCk7dDpmb3IodmFyIGw9MDtsPHQubGVuZ3RoOysrbCl7dmFyIGY9dFtsXTtpZihmPT09RXJyb3J8fG51bGwhPWYmJmYucHJvdG90eXBlIGluc3RhbmNlb2YgRXJyb3Ipe2lmKGMgaW5zdGFuY2VvZiBmKXJldHVybiBvKG4pLmNhbGwodSxjKX1lbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGYpe3ZhciBwPW8oZikuY2FsbCh1LGMpO2lmKHA9PT1zKXJldHVybiBwO2lmKHApcmV0dXJuIG8obikuY2FsbCh1LGMpfWVsc2UgaWYoci5pc09iamVjdChjKSl7Zm9yKHZhciBoPWkoZiksZD0wO2Q8aC5sZW5ndGg7KytkKXt2YXIgXz1oW2RdO2lmKGZbX10hPWNbX10pY29udGludWUgdH1yZXR1cm4gbyhuKS5jYWxsKHUsYyl9fXJldHVybiBlfX12YXIgcj10KFwiLi91dGlsXCIpLGk9dChcIi4vZXM1XCIpLmtleXMsbz1yLnRyeUNhdGNoLHM9ci5lcnJvck9iajtyZXR1cm4gbn19LHtcIi4vZXM1XCI6MTMsXCIuL3V0aWxcIjozNn1dLDg6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3RoaXMuX3RyYWNlPW5ldyBlLkNhcHR1cmVkVHJhY2UocigpKX1mdW5jdGlvbiBuKCl7cmV0dXJuIGk/bmV3IGU6dm9pZCAwfWZ1bmN0aW9uIHIoKXt2YXIgdD1vLmxlbmd0aC0xO3JldHVybiB0Pj0wP29bdF06dm9pZCAwfXZhciBpPSExLG89W107cmV0dXJuIHQucHJvdG90eXBlLl9wcm9taXNlQ3JlYXRlZD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuX3B1c2hDb250ZXh0PWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5fcG9wQ29udGV4dD1mdW5jdGlvbigpe3JldHVybiBudWxsfSx0Ll9wZWVrQ29udGV4dD10LnByb3RvdHlwZS5fcGVla0NvbnRleHQ9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLl9wdXNoQ29udGV4dD1mdW5jdGlvbigpe3ZvaWQgMCE9PXRoaXMuX3RyYWNlJiYodGhpcy5fdHJhY2UuX3Byb21pc2VDcmVhdGVkPW51bGwsby5wdXNoKHRoaXMuX3RyYWNlKSl9LGUucHJvdG90eXBlLl9wb3BDb250ZXh0PWZ1bmN0aW9uKCl7aWYodm9pZCAwIT09dGhpcy5fdHJhY2Upe3ZhciB0PW8ucG9wKCksZT10Ll9wcm9taXNlQ3JlYXRlZDtyZXR1cm4gdC5fcHJvbWlzZUNyZWF0ZWQ9bnVsbCxlfXJldHVybiBudWxsfSxlLkNhcHR1cmVkVHJhY2U9bnVsbCxlLmNyZWF0ZT1uLGUuZGVhY3RpdmF0ZUxvbmdTdGFja1RyYWNlcz1mdW5jdGlvbigpe30sZS5hY3RpdmF0ZUxvbmdTdGFja1RyYWNlcz1mdW5jdGlvbigpe3ZhciBuPXQucHJvdG90eXBlLl9wdXNoQ29udGV4dCxvPXQucHJvdG90eXBlLl9wb3BDb250ZXh0LHM9dC5fcGVla0NvbnRleHQsYT10LnByb3RvdHlwZS5fcGVla0NvbnRleHQsYz10LnByb3RvdHlwZS5fcHJvbWlzZUNyZWF0ZWQ7ZS5kZWFjdGl2YXRlTG9uZ1N0YWNrVHJhY2VzPWZ1bmN0aW9uKCl7dC5wcm90b3R5cGUuX3B1c2hDb250ZXh0PW4sdC5wcm90b3R5cGUuX3BvcENvbnRleHQ9byx0Ll9wZWVrQ29udGV4dD1zLHQucHJvdG90eXBlLl9wZWVrQ29udGV4dD1hLHQucHJvdG90eXBlLl9wcm9taXNlQ3JlYXRlZD1jLGk9ITF9LGk9ITAsdC5wcm90b3R5cGUuX3B1c2hDb250ZXh0PWUucHJvdG90eXBlLl9wdXNoQ29udGV4dCx0LnByb3RvdHlwZS5fcG9wQ29udGV4dD1lLnByb3RvdHlwZS5fcG9wQ29udGV4dCx0Ll9wZWVrQ29udGV4dD10LnByb3RvdHlwZS5fcGVla0NvbnRleHQ9cix0LnByb3RvdHlwZS5fcHJvbWlzZUNyZWF0ZWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wZWVrQ29udGV4dCgpO3QmJm51bGw9PXQuX3Byb21pc2VDcmVhdGVkJiYodC5fcHJvbWlzZUNyZWF0ZWQ9dGhpcyl9fSxlfX0se31dLDk6W2Z1bmN0aW9uKHQsbixyKXtcInVzZSBzdHJpY3RcIjtuLmV4cG9ydHM9ZnVuY3Rpb24obixyKXtmdW5jdGlvbiBpKHQsZSl7cmV0dXJue3Byb21pc2U6ZX19ZnVuY3Rpb24gbygpe3JldHVybiExfWZ1bmN0aW9uIHModCxlLG4pe3ZhciByPXRoaXM7dHJ5e3QoZSxuLGZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm9uQ2FuY2VsIG11c3QgYmUgYSBmdW5jdGlvbiwgZ290OiBcIitWLnRvU3RyaW5nKHQpKTtyLl9hdHRhY2hDYW5jZWxsYXRpb25DYWxsYmFjayh0KX0pfWNhdGNoKGkpe3JldHVybiBpfX1mdW5jdGlvbiBhKHQpe2lmKCF0aGlzLl9pc0NhbmNlbGxhYmxlKCkpcmV0dXJuIHRoaXM7dmFyIGU9dGhpcy5fb25DYW5jZWwoKTt2b2lkIDAhPT1lP1YuaXNBcnJheShlKT9lLnB1c2godCk6dGhpcy5fc2V0T25DYW5jZWwoW2UsdF0pOnRoaXMuX3NldE9uQ2FuY2VsKHQpfWZ1bmN0aW9uIGMoKXtyZXR1cm4gdGhpcy5fb25DYW5jZWxGaWVsZH1mdW5jdGlvbiB1KHQpe3RoaXMuX29uQ2FuY2VsRmllbGQ9dH1mdW5jdGlvbiBsKCl7dGhpcy5fY2FuY2VsbGF0aW9uUGFyZW50PXZvaWQgMCx0aGlzLl9vbkNhbmNlbEZpZWxkPXZvaWQgMH1mdW5jdGlvbiBmKHQsZSl7aWYoMCE9PSgxJmUpKXt0aGlzLl9jYW5jZWxsYXRpb25QYXJlbnQ9dDt2YXIgbj10Ll9icmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsO3ZvaWQgMD09PW4mJihuPTApLHQuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWw9bisxfTAhPT0oMiZlKSYmdC5faXNCb3VuZCgpJiZ0aGlzLl9zZXRCb3VuZFRvKHQuX2JvdW5kVG8pfWZ1bmN0aW9uIHAodCxlKXswIT09KDImZSkmJnQuX2lzQm91bmQoKSYmdGhpcy5fc2V0Qm91bmRUbyh0Ll9ib3VuZFRvKX1mdW5jdGlvbiBoKCl7dmFyIHQ9dGhpcy5fYm91bmRUbztyZXR1cm4gdm9pZCAwIT09dCYmdCBpbnN0YW5jZW9mIG4/dC5pc0Z1bGZpbGxlZCgpP3QudmFsdWUoKTp2b2lkIDA6dH1mdW5jdGlvbiBkKCl7dGhpcy5fdHJhY2U9bmV3IFIodGhpcy5fcGVla0NvbnRleHQoKSl9ZnVuY3Rpb24gXyh0LGUpe2lmKEIodCkpe3ZhciBuPXRoaXMuX3RyYWNlO2lmKHZvaWQgMCE9PW4mJmUmJihuPW4uX3BhcmVudCksdm9pZCAwIT09biluLmF0dGFjaEV4dHJhVHJhY2UodCk7ZWxzZSBpZighdC5fX3N0YWNrQ2xlYW5lZF9fKXt2YXIgcj1rKHQpO1Yubm90RW51bWVyYWJsZVByb3AodCxcInN0YWNrXCIsci5tZXNzYWdlK1wiXFxuXCIrci5zdGFjay5qb2luKFwiXFxuXCIpKSxWLm5vdEVudW1lcmFibGVQcm9wKHQsXCJfX3N0YWNrQ2xlYW5lZF9fXCIsITApfX19ZnVuY3Rpb24gdih0LGUsbixyLGkpe2lmKHZvaWQgMD09PXQmJm51bGwhPT1lJiZLKXtpZih2b2lkIDAhPT1pJiZpLl9yZXR1cm5lZE5vblVuZGVmaW5lZCgpKXJldHVybjtpZigwPT09KDY1NTM1JnIuX2JpdEZpZWxkKSlyZXR1cm47biYmKG4rPVwiIFwiKTt2YXIgbz1cIlwiLHM9XCJcIjtpZihlLl90cmFjZSl7Zm9yKHZhciBhPWUuX3RyYWNlLnN0YWNrLnNwbGl0KFwiXFxuXCIpLGM9RShhKSx1PWMubGVuZ3RoLTE7dT49MDstLXUpe3ZhciBsPWNbdV07aWYoIUgudGVzdChsKSl7dmFyIGY9bC5tYXRjaChxKTtmJiYobz1cImF0IFwiK2ZbMV0rXCI6XCIrZlsyXStcIjpcIitmWzNdK1wiIFwiKTticmVha319aWYoYy5sZW5ndGg+MClmb3IodmFyIHA9Y1swXSx1PTA7dTxhLmxlbmd0aDsrK3UpaWYoYVt1XT09PXApe3U+MCYmKHM9XCJcXG5cIithW3UtMV0pO2JyZWFrfX12YXIgaD1cImEgcHJvbWlzZSB3YXMgY3JlYXRlZCBpbiBhIFwiK24rXCJoYW5kbGVyIFwiK28rXCJidXQgd2FzIG5vdCByZXR1cm5lZCBmcm9tIGl0LCBzZWUgaHR0cDovL2dvby5nbC9yUnFNVXdcIitzO3IuX3dhcm4oaCwhMCxlKX19ZnVuY3Rpb24geSh0LGUpe3ZhciBuPXQrXCIgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIHZlcnNpb24uXCI7cmV0dXJuIGUmJihuKz1cIiBVc2UgXCIrZStcIiBpbnN0ZWFkLlwiKSxtKG4pfWZ1bmN0aW9uIG0odCxlLHIpe2lmKHN0Lndhcm5pbmdzKXt2YXIgaSxvPW5ldyBMKHQpO2lmKGUpci5fYXR0YWNoRXh0cmFUcmFjZShvKTtlbHNlIGlmKHN0LmxvbmdTdGFja1RyYWNlcyYmKGk9bi5fcGVla0NvbnRleHQoKSkpaS5hdHRhY2hFeHRyYVRyYWNlKG8pO2Vsc2V7dmFyIHM9ayhvKTtvLnN0YWNrPXMubWVzc2FnZStcIlxcblwiK3Muc3RhY2suam9pbihcIlxcblwiKX1ldChcIndhcm5pbmdcIixvKXx8aihvLFwiXCIsITApfX1mdW5jdGlvbiBnKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aC0xOysrbillW25dLnB1c2goXCJGcm9tIHByZXZpb3VzIGV2ZW50OlwiKSxlW25dPWVbbl0uam9pbihcIlxcblwiKTtyZXR1cm4gbjxlLmxlbmd0aCYmKGVbbl09ZVtuXS5qb2luKFwiXFxuXCIpKSx0K1wiXFxuXCIrZS5qb2luKFwiXFxuXCIpfWZ1bmN0aW9uIGIodCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDsrK2UpKDA9PT10W2VdLmxlbmd0aHx8ZSsxPHQubGVuZ3RoJiZ0W2VdWzBdPT09dFtlKzFdWzBdKSYmKHQuc3BsaWNlKGUsMSksZS0tKX1mdW5jdGlvbiB3KHQpe2Zvcih2YXIgZT10WzBdLG49MTtuPHQubGVuZ3RoOysrbil7Zm9yKHZhciByPXRbbl0saT1lLmxlbmd0aC0xLG89ZVtpXSxzPS0xLGE9ci5sZW5ndGgtMTthPj0wOy0tYSlpZihyW2FdPT09byl7cz1hO2JyZWFrfWZvcih2YXIgYT1zO2E+PTA7LS1hKXt2YXIgYz1yW2FdO2lmKGVbaV0hPT1jKWJyZWFrO2UucG9wKCksaS0tfWU9cn19ZnVuY3Rpb24gRSh0KXtmb3IodmFyIGU9W10sbj0wO248dC5sZW5ndGg7KytuKXt2YXIgcj10W25dLGk9XCIgICAgKE5vIHN0YWNrIHRyYWNlKVwiPT09cnx8US50ZXN0KHIpLG89aSYmcnQocik7aSYmIW8mJih6JiZcIiBcIiE9PXIuY2hhckF0KDApJiYocj1cIiAgICBcIityKSxlLnB1c2gocikpfXJldHVybiBlfWZ1bmN0aW9uIEModCl7Zm9yKHZhciBlPXQuc3RhY2sucmVwbGFjZSgvXFxzKyQvZyxcIlwiKS5zcGxpdChcIlxcblwiKSxuPTA7bjxlLmxlbmd0aDsrK24pe3ZhciByPWVbbl07aWYoXCIgICAgKE5vIHN0YWNrIHRyYWNlKVwiPT09cnx8US50ZXN0KHIpKWJyZWFrfXJldHVybiBuPjAmJihlPWUuc2xpY2UobikpLGV9ZnVuY3Rpb24gayh0KXt2YXIgZT10LnN0YWNrLG49dC50b1N0cmluZygpO3JldHVybiBlPVwic3RyaW5nXCI9PXR5cGVvZiBlJiZlLmxlbmd0aD4wP0ModCk6W1wiICAgIChObyBzdGFjayB0cmFjZSlcIl0se21lc3NhZ2U6bixzdGFjazpFKGUpfX1mdW5jdGlvbiBqKHQsZSxuKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSl7dmFyIHI7aWYoVi5pc09iamVjdCh0KSl7dmFyIGk9dC5zdGFjaztyPWUrJChpLHQpfWVsc2Ugcj1lK1N0cmluZyh0KTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBEP0QocixuKTpcImZ1bmN0aW9uXCIhPXR5cGVvZiBjb25zb2xlLmxvZyYmXCJvYmplY3RcIiE9dHlwZW9mIGNvbnNvbGUubG9nfHxjb25zb2xlLmxvZyhyKX19ZnVuY3Rpb24geCh0LGUsbixyKXt2YXIgaT0hMTt0cnl7XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKGk9ITAsXCJyZWplY3Rpb25IYW5kbGVkXCI9PT10P2Uocik6ZShuLHIpKX1jYXRjaChvKXtOLnRocm93TGF0ZXIobyl9XCJ1bmhhbmRsZWRSZWplY3Rpb25cIj09PXQ/ZXQodCxuLHIpfHxpfHxqKG4sXCJVbmhhbmRsZWQgcmVqZWN0aW9uIFwiKTpldCh0LHIpfWZ1bmN0aW9uIEYodCl7dmFyIGU7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdCllPVwiW2Z1bmN0aW9uIFwiKyh0Lm5hbWV8fFwiYW5vbnltb3VzXCIpK1wiXVwiO2Vsc2V7ZT10JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnRvU3RyaW5nP3QudG9TdHJpbmcoKTpWLnRvU3RyaW5nKHQpO3ZhciBuPS9cXFtvYmplY3QgW2EtekEtWjAtOSRfXStcXF0vO2lmKG4udGVzdChlKSl0cnl7dmFyIHI9SlNPTi5zdHJpbmdpZnkodCk7ZT1yfWNhdGNoKGkpe30wPT09ZS5sZW5ndGgmJihlPVwiKGVtcHR5IGFycmF5KVwiKX1yZXR1cm5cIig8XCIrVChlKStcIj4sIG5vIHN0YWNrIHRyYWNlKVwifWZ1bmN0aW9uIFQodCl7dmFyIGU9NDE7cmV0dXJuIHQubGVuZ3RoPGU/dDp0LnN1YnN0cigwLGUtMykrXCIuLi5cIn1mdW5jdGlvbiBTKCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygb3R9ZnVuY3Rpb24gUCh0KXt2YXIgZT10Lm1hdGNoKGl0KTtyZXR1cm4gZT97ZmlsZU5hbWU6ZVsxXSxsaW5lOnBhcnNlSW50KGVbMl0sMTApfTp2b2lkIDB9ZnVuY3Rpb24gTyh0LGUpe2lmKFMoKSl7Zm9yKHZhciBuLHIsaT10LnN0YWNrLnNwbGl0KFwiXFxuXCIpLG89ZS5zdGFjay5zcGxpdChcIlxcblwiKSxzPS0xLGE9LTEsYz0wO2M8aS5sZW5ndGg7KytjKXt2YXIgdT1QKGlbY10pO2lmKHUpe249dS5maWxlTmFtZSxzPXUubGluZTticmVha319Zm9yKHZhciBjPTA7YzxvLmxlbmd0aDsrK2Mpe3ZhciB1PVAob1tjXSk7aWYodSl7cj11LmZpbGVOYW1lLGE9dS5saW5lO2JyZWFrfX0wPnN8fDA+YXx8IW58fCFyfHxuIT09cnx8cz49YXx8KHJ0PWZ1bmN0aW9uKHQpe2lmKE0udGVzdCh0KSlyZXR1cm4hMDt2YXIgZT1QKHQpO3JldHVybiEhKGUmJmUuZmlsZU5hbWU9PT1uJiZzPD1lLmxpbmUmJmUubGluZTw9YSl9KX19ZnVuY3Rpb24gUih0KXt0aGlzLl9wYXJlbnQ9dCx0aGlzLl9wcm9taXNlc0NyZWF0ZWQ9MDt2YXIgZT10aGlzLl9sZW5ndGg9MSsodm9pZCAwPT09dD8wOnQuX2xlbmd0aCk7b3QodGhpcyxSKSxlPjMyJiZ0aGlzLnVuY3ljbGUoKX12YXIgQSxJLEQsVT1uLl9nZXREb21haW4sTj1uLl9hc3luYyxMPXQoXCIuL2Vycm9yc1wiKS5XYXJuaW5nLFY9dChcIi4vdXRpbFwiKSxCPVYuY2FuQXR0YWNoVHJhY2UsTT0vW1xcXFxcXC9dYmx1ZWJpcmRbXFxcXFxcL11qc1tcXFxcXFwvXShyZWxlYXNlfGRlYnVnfGluc3RydW1lbnRlZCkvLEg9L1xcKCg/OnRpbWVyc1xcLmpzKTpcXGQrOlxcZCtcXCkvLHE9L1tcXC88XFwoXSguKz8pOihcXGQrKTooXFxkKylcXCk/XFxzKiQvLFE9bnVsbCwkPW51bGwsej0hMSxHPSEoMD09Vi5lbnYoXCJCTFVFQklSRF9ERUJVR1wiKSksVz0hKDA9PVYuZW52KFwiQkxVRUJJUkRfV0FSTklOR1NcIil8fCFHJiYhVi5lbnYoXCJCTFVFQklSRF9XQVJOSU5HU1wiKSksWD0hKDA9PVYuZW52KFwiQkxVRUJJUkRfTE9OR19TVEFDS19UUkFDRVNcIil8fCFHJiYhVi5lbnYoXCJCTFVFQklSRF9MT05HX1NUQUNLX1RSQUNFU1wiKSksSz0wIT1WLmVudihcIkJMVUVCSVJEX1dfRk9SR09UVEVOX1JFVFVSTlwiKSYmKFd8fCEhVi5lbnYoXCJCTFVFQklSRF9XX0ZPUkdPVFRFTl9SRVRVUk5cIikpO24ucHJvdG90eXBlLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3RhcmdldCgpO3QuX2JpdEZpZWxkPS0xMDQ4NTc3JnQuX2JpdEZpZWxkfDUyNDI4OH0sbi5wcm90b3R5cGUuX2Vuc3VyZVBvc3NpYmxlUmVqZWN0aW9uSGFuZGxlZD1mdW5jdGlvbigpezA9PT0oNTI0Mjg4JnRoaXMuX2JpdEZpZWxkKSYmKHRoaXMuX3NldFJlamVjdGlvbklzVW5oYW5kbGVkKCksTi5pbnZva2VMYXRlcih0aGlzLl9ub3RpZnlVbmhhbmRsZWRSZWplY3Rpb24sdGhpcyx2b2lkIDApKX0sbi5wcm90b3R5cGUuX25vdGlmeVVuaGFuZGxlZFJlamVjdGlvbklzSGFuZGxlZD1mdW5jdGlvbigpe3goXCJyZWplY3Rpb25IYW5kbGVkXCIsQSx2b2lkIDAsdGhpcyl9LG4ucHJvdG90eXBlLl9zZXRSZXR1cm5lZE5vblVuZGVmaW5lZD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPTI2ODQzNTQ1Nnx0aGlzLl9iaXRGaWVsZH0sbi5wcm90b3R5cGUuX3JldHVybmVkTm9uVW5kZWZpbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIDAhPT0oMjY4NDM1NDU2JnRoaXMuX2JpdEZpZWxkKX0sbi5wcm90b3R5cGUuX25vdGlmeVVuaGFuZGxlZFJlamVjdGlvbj1mdW5jdGlvbigpe2lmKHRoaXMuX2lzUmVqZWN0aW9uVW5oYW5kbGVkKCkpe3ZhciB0PXRoaXMuX3NldHRsZWRWYWx1ZSgpO3RoaXMuX3NldFVuaGFuZGxlZFJlamVjdGlvbklzTm90aWZpZWQoKSx4KFwidW5oYW5kbGVkUmVqZWN0aW9uXCIsSSx0LHRoaXMpfX0sbi5wcm90b3R5cGUuX3NldFVuaGFuZGxlZFJlamVjdGlvbklzTm90aWZpZWQ9ZnVuY3Rpb24oKXt0aGlzLl9iaXRGaWVsZD0yNjIxNDR8dGhpcy5fYml0RmllbGR9LG4ucHJvdG90eXBlLl91bnNldFVuaGFuZGxlZFJlamVjdGlvbklzTm90aWZpZWQ9ZnVuY3Rpb24oKXt0aGlzLl9iaXRGaWVsZD0tMjYyMTQ1JnRoaXMuX2JpdEZpZWxkfSxuLnByb3RvdHlwZS5faXNVbmhhbmRsZWRSZWplY3Rpb25Ob3RpZmllZD1mdW5jdGlvbigpe3JldHVybigyNjIxNDQmdGhpcy5fYml0RmllbGQpPjB9LG4ucHJvdG90eXBlLl9zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPTEwNDg1NzZ8dGhpcy5fYml0RmllbGR9LG4ucHJvdG90eXBlLl91bnNldFJlamVjdGlvbklzVW5oYW5kbGVkPWZ1bmN0aW9uKCl7dGhpcy5fYml0RmllbGQ9LTEwNDg1NzcmdGhpcy5fYml0RmllbGQsdGhpcy5faXNVbmhhbmRsZWRSZWplY3Rpb25Ob3RpZmllZCgpJiYodGhpcy5fdW5zZXRVbmhhbmRsZWRSZWplY3Rpb25Jc05vdGlmaWVkKCksdGhpcy5fbm90aWZ5VW5oYW5kbGVkUmVqZWN0aW9uSXNIYW5kbGVkKCkpfSxuLnByb3RvdHlwZS5faXNSZWplY3Rpb25VbmhhbmRsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4oMTA0ODU3NiZ0aGlzLl9iaXRGaWVsZCk+MH0sbi5wcm90b3R5cGUuX3dhcm49ZnVuY3Rpb24odCxlLG4pe3JldHVybiBtKHQsZSxufHx0aGlzKX0sbi5vblBvc3NpYmx5VW5oYW5kbGVkUmVqZWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPVUoKTtJPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/bnVsbD09PWU/dDpWLmRvbWFpbkJpbmQoZSx0KTp2b2lkIDB9LG4ub25VbmhhbmRsZWRSZWplY3Rpb25IYW5kbGVkPWZ1bmN0aW9uKHQpe3ZhciBlPVUoKTtBPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/bnVsbD09PWU/dDpWLmRvbWFpbkJpbmQoZSx0KTp2b2lkIDB9O3ZhciBKPWZ1bmN0aW9uKCl7fTtuLmxvbmdTdGFja1RyYWNlcz1mdW5jdGlvbigpe2lmKE4uaGF2ZUl0ZW1zUXVldWVkKCkmJiFzdC5sb25nU3RhY2tUcmFjZXMpdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IGVuYWJsZSBsb25nIHN0YWNrIHRyYWNlcyBhZnRlciBwcm9taXNlcyBoYXZlIGJlZW4gY3JlYXRlZFxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIik7aWYoIXN0LmxvbmdTdGFja1RyYWNlcyYmUygpKXt2YXIgdD1uLnByb3RvdHlwZS5fY2FwdHVyZVN0YWNrVHJhY2UsZT1uLnByb3RvdHlwZS5fYXR0YWNoRXh0cmFUcmFjZTtzdC5sb25nU3RhY2tUcmFjZXM9ITAsSj1mdW5jdGlvbigpe2lmKE4uaGF2ZUl0ZW1zUXVldWVkKCkmJiFzdC5sb25nU3RhY2tUcmFjZXMpdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IGVuYWJsZSBsb25nIHN0YWNrIHRyYWNlcyBhZnRlciBwcm9taXNlcyBoYXZlIGJlZW4gY3JlYXRlZFxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIik7bi5wcm90b3R5cGUuX2NhcHR1cmVTdGFja1RyYWNlPXQsbi5wcm90b3R5cGUuX2F0dGFjaEV4dHJhVHJhY2U9ZSxyLmRlYWN0aXZhdGVMb25nU3RhY2tUcmFjZXMoKSxOLmVuYWJsZVRyYW1wb2xpbmUoKSxzdC5sb25nU3RhY2tUcmFjZXM9ITF9LG4ucHJvdG90eXBlLl9jYXB0dXJlU3RhY2tUcmFjZT1kLG4ucHJvdG90eXBlLl9hdHRhY2hFeHRyYVRyYWNlPV8sci5hY3RpdmF0ZUxvbmdTdGFja1RyYWNlcygpLE4uZGlzYWJsZVRyYW1wb2xpbmVJZk5lY2Vzc2FyeSgpfX0sbi5oYXNMb25nU3RhY2tUcmFjZXM9ZnVuY3Rpb24oKXtyZXR1cm4gc3QubG9uZ1N0YWNrVHJhY2VzJiZTKCl9O3ZhciBZPWZ1bmN0aW9uKCl7dHJ5e2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIEN1c3RvbUV2ZW50KXt2YXIgdD1uZXcgQ3VzdG9tRXZlbnQoXCJDdXN0b21FdmVudFwiKTtyZXR1cm4gVi5nbG9iYWwuZGlzcGF0Y2hFdmVudCh0KSxmdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBDdXN0b21FdmVudCh0LnRvTG93ZXJDYXNlKCkse2RldGFpbDplLGNhbmNlbGFibGU6ITB9KTtyZXR1cm4hVi5nbG9iYWwuZGlzcGF0Y2hFdmVudChuKX19aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgRXZlbnQpe3ZhciB0PW5ldyBFdmVudChcIkN1c3RvbUV2ZW50XCIpO3JldHVybiBWLmdsb2JhbC5kaXNwYXRjaEV2ZW50KHQpLGZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IEV2ZW50KHQudG9Mb3dlckNhc2UoKSx7Y2FuY2VsYWJsZTohMH0pO3JldHVybiBuLmRldGFpbD1lLCFWLmdsb2JhbC5kaXNwYXRjaEV2ZW50KG4pfX12YXIgdD1kb2N1bWVudC5jcmVhdGVFdmVudChcIkN1c3RvbUV2ZW50XCIpO3JldHVybiB0LmluaXRDdXN0b21FdmVudChcInRlc3Rpbmd0aGVldmVudFwiLCExLCEwLHt9KSxWLmdsb2JhbC5kaXNwYXRjaEV2ZW50KHQpLGZ1bmN0aW9uKHQsZSl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJDdXN0b21FdmVudFwiKTtyZXR1cm4gbi5pbml0Q3VzdG9tRXZlbnQodC50b0xvd2VyQ2FzZSgpLCExLCEwLGUpLCFWLmdsb2JhbC5kaXNwYXRjaEV2ZW50KG4pfX1jYXRjaChlKXt9cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuITF9fSgpLFo9ZnVuY3Rpb24oKXtyZXR1cm4gVi5pc05vZGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5lbWl0LmFwcGx5KGUsYXJndW1lbnRzKX06Vi5nbG9iYWw/ZnVuY3Rpb24odCl7dmFyIGU9XCJvblwiK3QudG9Mb3dlckNhc2UoKSxuPVYuZ2xvYmFsW2VdO3JldHVybiBuPyhuLmFwcGx5KFYuZ2xvYmFsLFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKSwhMCk6ITF9OmZ1bmN0aW9uKCl7cmV0dXJuITF9fSgpLHR0PXtwcm9taXNlQ3JlYXRlZDppLHByb21pc2VGdWxmaWxsZWQ6aSxwcm9taXNlUmVqZWN0ZWQ6aSxwcm9taXNlUmVzb2x2ZWQ6aSxwcm9taXNlQ2FuY2VsbGVkOmkscHJvbWlzZUNoYWluZWQ6ZnVuY3Rpb24odCxlLG4pe3JldHVybntwcm9taXNlOmUsY2hpbGQ6bn19LHdhcm5pbmc6ZnVuY3Rpb24odCxlKXtyZXR1cm57d2FybmluZzplfX0sdW5oYW5kbGVkUmVqZWN0aW9uOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm57cmVhc29uOmUscHJvbWlzZTpufX0scmVqZWN0aW9uSGFuZGxlZDppfSxldD1mdW5jdGlvbih0KXt2YXIgZT0hMTt0cnl7ZT1aLmFwcGx5KG51bGwsYXJndW1lbnRzKX1jYXRjaChuKXtOLnRocm93TGF0ZXIobiksZT0hMH12YXIgcj0hMTt0cnl7cj1ZKHQsdHRbdF0uYXBwbHkobnVsbCxhcmd1bWVudHMpKX1jYXRjaChuKXtOLnRocm93TGF0ZXIobikscj0hMH1yZXR1cm4gcnx8ZX07bi5jb25maWc9ZnVuY3Rpb24odCl7aWYodD1PYmplY3QodCksXCJsb25nU3RhY2tUcmFjZXNcImluIHQmJih0LmxvbmdTdGFja1RyYWNlcz9uLmxvbmdTdGFja1RyYWNlcygpOiF0LmxvbmdTdGFja1RyYWNlcyYmbi5oYXNMb25nU3RhY2tUcmFjZXMoKSYmSigpKSxcIndhcm5pbmdzXCJpbiB0KXt2YXIgZT10Lndhcm5pbmdzO3N0Lndhcm5pbmdzPSEhZSxLPXN0Lndhcm5pbmdzLFYuaXNPYmplY3QoZSkmJlwid0ZvcmdvdHRlblJldHVyblwiaW4gZSYmKEs9ISFlLndGb3Jnb3R0ZW5SZXR1cm4pfWlmKFwiY2FuY2VsbGF0aW9uXCJpbiB0JiZ0LmNhbmNlbGxhdGlvbiYmIXN0LmNhbmNlbGxhdGlvbil7aWYoTi5oYXZlSXRlbXNRdWV1ZWQoKSl0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgZW5hYmxlIGNhbmNlbGxhdGlvbiBhZnRlciBwcm9taXNlcyBhcmUgaW4gdXNlXCIpO24ucHJvdG90eXBlLl9jbGVhckNhbmNlbGxhdGlvbkRhdGE9bCxuLnByb3RvdHlwZS5fcHJvcGFnYXRlRnJvbT1mLG4ucHJvdG90eXBlLl9vbkNhbmNlbD1jLG4ucHJvdG90eXBlLl9zZXRPbkNhbmNlbD11LG4ucHJvdG90eXBlLl9hdHRhY2hDYW5jZWxsYXRpb25DYWxsYmFjaz1hLG4ucHJvdG90eXBlLl9leGVjdXRlPXMsbnQ9ZixzdC5jYW5jZWxsYXRpb249ITB9XCJtb25pdG9yaW5nXCJpbiB0JiYodC5tb25pdG9yaW5nJiYhc3QubW9uaXRvcmluZz8oc3QubW9uaXRvcmluZz0hMCxuLnByb3RvdHlwZS5fZmlyZUV2ZW50PWV0KTohdC5tb25pdG9yaW5nJiZzdC5tb25pdG9yaW5nJiYoc3QubW9uaXRvcmluZz0hMSxuLnByb3RvdHlwZS5fZmlyZUV2ZW50PW8pKX0sbi5wcm90b3R5cGUuX2ZpcmVFdmVudD1vLG4ucHJvdG90eXBlLl9leGVjdXRlPWZ1bmN0aW9uKHQsZSxuKXt0cnl7dChlLG4pfWNhdGNoKHIpe3JldHVybiByfX0sbi5wcm90b3R5cGUuX29uQ2FuY2VsPWZ1bmN0aW9uKCl7fSxuLnByb3RvdHlwZS5fc2V0T25DYW5jZWw9ZnVuY3Rpb24odCl7fSxuLnByb3RvdHlwZS5fYXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2s9ZnVuY3Rpb24odCl7fSxuLnByb3RvdHlwZS5fY2FwdHVyZVN0YWNrVHJhY2U9ZnVuY3Rpb24oKXt9LG4ucHJvdG90eXBlLl9hdHRhY2hFeHRyYVRyYWNlPWZ1bmN0aW9uKCl7fSxuLnByb3RvdHlwZS5fY2xlYXJDYW5jZWxsYXRpb25EYXRhPWZ1bmN0aW9uKCl7fSxuLnByb3RvdHlwZS5fcHJvcGFnYXRlRnJvbT1mdW5jdGlvbih0LGUpe307dmFyIG50PXAscnQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0saXQ9L1tcXC88XFwoXShbXjpcXC9dKyk6KFxcZCspOig/OlxcZCspXFwpP1xccyokLztWLmluaGVyaXRzKFIsRXJyb3IpLHIuQ2FwdHVyZWRUcmFjZT1SLFIucHJvdG90eXBlLnVuY3ljbGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9sZW5ndGg7aWYoISgyPnQpKXtmb3IodmFyIGU9W10sbj17fSxyPTAsaT10aGlzO3ZvaWQgMCE9PWk7KytyKWUucHVzaChpKSxpPWkuX3BhcmVudDt0PXRoaXMuX2xlbmd0aD1yO2Zvcih2YXIgcj10LTE7cj49MDstLXIpe3ZhciBvPWVbcl0uc3RhY2s7dm9pZCAwPT09bltvXSYmKG5bb109cil9Zm9yKHZhciByPTA7dD5yOysrcil7dmFyIHM9ZVtyXS5zdGFjayxhPW5bc107aWYodm9pZCAwIT09YSYmYSE9PXIpe2E+MCYmKGVbYS0xXS5fcGFyZW50PXZvaWQgMCxlW2EtMV0uX2xlbmd0aD0xKSxlW3JdLl9wYXJlbnQ9dm9pZCAwLGVbcl0uX2xlbmd0aD0xO3ZhciBjPXI+MD9lW3ItMV06dGhpczt0LTE+YT8oYy5fcGFyZW50PWVbYSsxXSxjLl9wYXJlbnQudW5jeWNsZSgpLGMuX2xlbmd0aD1jLl9wYXJlbnQuX2xlbmd0aCsxKTooYy5fcGFyZW50PXZvaWQgMCxjLl9sZW5ndGg9MSk7Zm9yKHZhciB1PWMuX2xlbmd0aCsxLGw9ci0yO2w+PTA7LS1sKWVbbF0uX2xlbmd0aD11LHUrKztyZXR1cm59fX19LFIucHJvdG90eXBlLmF0dGFjaEV4dHJhVHJhY2U9ZnVuY3Rpb24odCl7aWYoIXQuX19zdGFja0NsZWFuZWRfXyl7dGhpcy51bmN5Y2xlKCk7Zm9yKHZhciBlPWsodCksbj1lLm1lc3NhZ2Uscj1bZS5zdGFja10saT10aGlzO3ZvaWQgMCE9PWk7KXIucHVzaChFKGkuc3RhY2suc3BsaXQoXCJcXG5cIikpKSxpPWkuX3BhcmVudDt3KHIpLGIociksVi5ub3RFbnVtZXJhYmxlUHJvcCh0LFwic3RhY2tcIixnKG4scikpLFYubm90RW51bWVyYWJsZVByb3AodCxcIl9fc3RhY2tDbGVhbmVkX19cIiwhMCl9fTt2YXIgb3Q9ZnVuY3Rpb24oKXt2YXIgdD0vXlxccyphdFxccyovLGU9ZnVuY3Rpb24odCxlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD90OnZvaWQgMCE9PWUubmFtZSYmdm9pZCAwIT09ZS5tZXNzYWdlP2UudG9TdHJpbmcoKTpGKGUpfTtpZihcIm51bWJlclwiPT10eXBlb2YgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSl7RXJyb3Iuc3RhY2tUcmFjZUxpbWl0Kz02LFE9dCwkPWU7dmFyIG49RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2U7cmV0dXJuIHJ0PWZ1bmN0aW9uKHQpe3JldHVybiBNLnRlc3QodCl9LGZ1bmN0aW9uKHQsZSl7RXJyb3Iuc3RhY2tUcmFjZUxpbWl0Kz02LG4odCxlKSxFcnJvci5zdGFja1RyYWNlTGltaXQtPTZ9fXZhciByPW5ldyBFcnJvcjtpZihcInN0cmluZ1wiPT10eXBlb2Ygci5zdGFjayYmci5zdGFjay5zcGxpdChcIlxcblwiKVswXS5pbmRleE9mKFwic3RhY2tEZXRlY3Rpb25AXCIpPj0wKXJldHVybiBRPS9ALywkPWUsej0hMCxmdW5jdGlvbih0KXt0LnN0YWNrPShuZXcgRXJyb3IpLnN0YWNrfTt2YXIgaTt0cnl7dGhyb3cgbmV3IEVycm9yfWNhdGNoKG8pe2k9XCJzdGFja1wiaW4gb31yZXR1cm5cInN0YWNrXCJpbiByfHwhaXx8XCJudW1iZXJcIiE9dHlwZW9mIEVycm9yLnN0YWNrVHJhY2VMaW1pdD8oJD1mdW5jdGlvbih0LGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGV8fHZvaWQgMD09PWUubmFtZXx8dm9pZCAwPT09ZS5tZXNzYWdlP0YoZSk6ZS50b1N0cmluZygpfSxudWxsKTooUT10LCQ9ZSxmdW5jdGlvbih0KXtFcnJvci5zdGFja1RyYWNlTGltaXQrPTY7dHJ5e3Rocm93IG5ldyBFcnJvcn1jYXRjaChlKXt0LnN0YWNrPWUuc3RhY2t9RXJyb3Iuc3RhY2tUcmFjZUxpbWl0LT02fSl9KFtdKTtcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUud2FybiYmKEQ9ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKHQpfSxWLmlzTm9kZSYmZS5zdGRlcnIuaXNUVFk/RD1mdW5jdGlvbih0LGUpe3ZhciBuPWU/XCJcdTAwMWJbMzNtXCI6XCJcdTAwMWJbMzFtXCI7Y29uc29sZS53YXJuKG4rdCtcIlx1MDAxYlswbVxcblwiKX06Vi5pc05vZGV8fFwic3RyaW5nXCIhPXR5cGVvZihuZXcgRXJyb3IpLnN0YWNrfHwoRD1mdW5jdGlvbih0LGUpe2NvbnNvbGUud2FybihcIiVjXCIrdCxlP1wiY29sb3I6IGRhcmtvcmFuZ2VcIjpcImNvbG9yOiByZWRcIil9KSk7dmFyIHN0PXt3YXJuaW5nczpXLGxvbmdTdGFja1RyYWNlczohMSxjYW5jZWxsYXRpb246ITEsbW9uaXRvcmluZzohMX07cmV0dXJuIFgmJm4ubG9uZ1N0YWNrVHJhY2VzKCkse2xvbmdTdGFja1RyYWNlczpmdW5jdGlvbigpe3JldHVybiBzdC5sb25nU3RhY2tUcmFjZXN9LHdhcm5pbmdzOmZ1bmN0aW9uKCl7cmV0dXJuIHN0Lndhcm5pbmdzfSxjYW5jZWxsYXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gc3QuY2FuY2VsbGF0aW9ufSxtb25pdG9yaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHN0Lm1vbml0b3Jpbmd9LHByb3BhZ2F0ZUZyb21GdW5jdGlvbjpmdW5jdGlvbigpe3JldHVybiBudH0sYm91bmRWYWx1ZUZ1bmN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGh9LGNoZWNrRm9yZ290dGVuUmV0dXJuczp2LHNldEJvdW5kczpPLHdhcm46bSxkZXByZWNhdGVkOnksQ2FwdHVyZWRUcmFjZTpSLGZpcmVEb21FdmVudDpZLGZpcmVHbG9iYWxFdmVudDpafX19LHtcIi4vZXJyb3JzXCI6MTIsXCIuL3V0aWxcIjozNn1dLDEwOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gdGhpcy52YWx1ZX1mdW5jdGlvbiBuKCl7dGhyb3cgdGhpcy5yZWFzb259dC5wcm90b3R5cGVbXCJyZXR1cm5cIl09dC5wcm90b3R5cGUudGhlblJldHVybj1mdW5jdGlvbihuKXtyZXR1cm4gbiBpbnN0YW5jZW9mIHQmJm4uc3VwcHJlc3NVbmhhbmRsZWRSZWplY3Rpb25zKCksdGhpcy5fdGhlbihlLHZvaWQgMCx2b2lkIDAse3ZhbHVlOm59LHZvaWQgMCl9LHQucHJvdG90eXBlW1widGhyb3dcIl09dC5wcm90b3R5cGUudGhlblRocm93PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl90aGVuKG4sdm9pZCAwLHZvaWQgMCx7cmVhc29uOnR9LHZvaWQgMCl9LHQucHJvdG90eXBlLmNhdGNoVGhyb3c9ZnVuY3Rpb24odCl7aWYoYXJndW1lbnRzLmxlbmd0aDw9MSlyZXR1cm4gdGhpcy5fdGhlbih2b2lkIDAsbix2b2lkIDAse3JlYXNvbjp0fSx2b2lkIDApO3ZhciBlPWFyZ3VtZW50c1sxXSxyPWZ1bmN0aW9uKCl7dGhyb3cgZX07cmV0dXJuIHRoaXMuY2F1Z2h0KHQscil9LHQucHJvdG90eXBlLmNhdGNoUmV0dXJuPWZ1bmN0aW9uKG4pe2lmKGFyZ3VtZW50cy5sZW5ndGg8PTEpcmV0dXJuIG4gaW5zdGFuY2VvZiB0JiZuLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucygpLHRoaXMuX3RoZW4odm9pZCAwLGUsdm9pZCAwLHt2YWx1ZTpufSx2b2lkIDApO3ZhciByPWFyZ3VtZW50c1sxXTtyIGluc3RhbmNlb2YgdCYmci5zdXBwcmVzc1VuaGFuZGxlZFJlamVjdGlvbnMoKTt2YXIgaT1mdW5jdGlvbigpe3JldHVybiByfTtyZXR1cm4gdGhpcy5jYXVnaHQobixpKX19fSx7fV0sMTE6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7cmV0dXJuIG8odGhpcyl9ZnVuY3Rpb24gcih0LG4pe3JldHVybiBpKHQsbixlLGUpfXZhciBpPXQucmVkdWNlLG89dC5hbGw7dC5wcm90b3R5cGUuZWFjaD1mdW5jdGlvbih0KXtyZXR1cm4gaSh0aGlzLHQsZSwwKS5fdGhlbihuLHZvaWQgMCx2b2lkIDAsdGhpcyx2b2lkIDApfSx0LnByb3RvdHlwZS5tYXBTZXJpZXM9ZnVuY3Rpb24odCl7cmV0dXJuIGkodGhpcyx0LGUsZSl9LHQuZWFjaD1mdW5jdGlvbih0LHIpe3JldHVybiBpKHQscixlLDApLl90aGVuKG4sdm9pZCAwLHZvaWQgMCx0LHZvaWQgMCl9LHQubWFwU2VyaWVzPXJ9fSx7fV0sMTI6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7ZnVuY3Rpb24gbihyKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIG4/KGYodGhpcyxcIm1lc3NhZ2VcIixcInN0cmluZ1wiPT10eXBlb2Ygcj9yOmUpLGYodGhpcyxcIm5hbWVcIix0KSx2b2lkKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlP0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsdGhpcy5jb25zdHJ1Y3Rvcik6RXJyb3IuY2FsbCh0aGlzKSkpOm5ldyBuKHIpfXJldHVybiBsKG4sRXJyb3IpLG59ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGk/KGYodGhpcyxcIm5hbWVcIixcIk9wZXJhdGlvbmFsRXJyb3JcIiksZih0aGlzLFwibWVzc2FnZVwiLHQpLHRoaXMuY2F1c2U9dCx0aGlzLmlzT3BlcmF0aW9uYWw9ITAsdm9pZCh0IGluc3RhbmNlb2YgRXJyb3I/KGYodGhpcyxcIm1lc3NhZ2VcIix0Lm1lc3NhZ2UpLGYodGhpcyxcInN0YWNrXCIsdC5zdGFjaykpOkVycm9yLmNhcHR1cmVTdGFja1RyYWNlJiZFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLHRoaXMuY29uc3RydWN0b3IpKSk6bmV3IGkodCl9dmFyIG8scyxhPXQoXCIuL2VzNVwiKSxjPWEuZnJlZXplLHU9dChcIi4vdXRpbFwiKSxsPXUuaW5oZXJpdHMsZj11Lm5vdEVudW1lcmFibGVQcm9wLHA9cihcIldhcm5pbmdcIixcIndhcm5pbmdcIiksaD1yKFwiQ2FuY2VsbGF0aW9uRXJyb3JcIixcImNhbmNlbGxhdGlvbiBlcnJvclwiKSxkPXIoXCJUaW1lb3V0RXJyb3JcIixcInRpbWVvdXQgZXJyb3JcIiksXz1yKFwiQWdncmVnYXRlRXJyb3JcIixcImFnZ3JlZ2F0ZSBlcnJvclwiKTt0cnl7bz1UeXBlRXJyb3Iscz1SYW5nZUVycm9yfWNhdGNoKHYpe289cihcIlR5cGVFcnJvclwiLFwidHlwZSBlcnJvclwiKSxzPXIoXCJSYW5nZUVycm9yXCIsXCJyYW5nZSBlcnJvclwiKX1mb3IodmFyIHk9XCJqb2luIHBvcCBwdXNoIHNoaWZ0IHVuc2hpZnQgc2xpY2UgZmlsdGVyIGZvckVhY2ggc29tZSBldmVyeSBtYXAgaW5kZXhPZiBsYXN0SW5kZXhPZiByZWR1Y2UgcmVkdWNlUmlnaHQgc29ydCByZXZlcnNlXCIuc3BsaXQoXCIgXCIpLG09MDttPHkubGVuZ3RoOysrbSlcImZ1bmN0aW9uXCI9PXR5cGVvZiBBcnJheS5wcm90b3R5cGVbeVttXV0mJihfLnByb3RvdHlwZVt5W21dXT1BcnJheS5wcm90b3R5cGVbeVttXV0pO2EuZGVmaW5lUHJvcGVydHkoXy5wcm90b3R5cGUsXCJsZW5ndGhcIix7dmFsdWU6MCxjb25maWd1cmFibGU6ITEsd3JpdGFibGU6ITAsZW51bWVyYWJsZTohMH0pLF8ucHJvdG90eXBlLmlzT3BlcmF0aW9uYWw9ITA7dmFyIGc9MDtfLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0PUFycmF5KDQqZysxKS5qb2luKFwiIFwiKSxlPVwiXFxuXCIrdCtcIkFnZ3JlZ2F0ZUVycm9yIG9mOlxcblwiO2crKyx0PUFycmF5KDQqZysxKS5qb2luKFwiIFwiKTtmb3IodmFyIG49MDtuPHRoaXMubGVuZ3RoOysrbil7Zm9yKHZhciByPXRoaXNbbl09PT10aGlzP1wiW0NpcmN1bGFyIEFnZ3JlZ2F0ZUVycm9yXVwiOnRoaXNbbl0rXCJcIixpPXIuc3BsaXQoXCJcXG5cIiksbz0wO288aS5sZW5ndGg7KytvKWlbb109dCtpW29dO3I9aS5qb2luKFwiXFxuXCIpLGUrPXIrXCJcXG5cIn1yZXR1cm4gZy0tLGV9LGwoaSxFcnJvcik7dmFyIGI9RXJyb3IuX19CbHVlYmlyZEVycm9yVHlwZXNfXztifHwoYj1jKHtDYW5jZWxsYXRpb25FcnJvcjpoLFRpbWVvdXRFcnJvcjpkLE9wZXJhdGlvbmFsRXJyb3I6aSxSZWplY3Rpb25FcnJvcjppLEFnZ3JlZ2F0ZUVycm9yOl99KSxhLmRlZmluZVByb3BlcnR5KEVycm9yLFwiX19CbHVlYmlyZEVycm9yVHlwZXNfX1wiLHt2YWx1ZTpiLHdyaXRhYmxlOiExLGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiExfSkpLGUuZXhwb3J0cz17RXJyb3I6RXJyb3IsVHlwZUVycm9yOm8sUmFuZ2VFcnJvcjpzLENhbmNlbGxhdGlvbkVycm9yOmIuQ2FuY2VsbGF0aW9uRXJyb3IsT3BlcmF0aW9uYWxFcnJvcjpiLk9wZXJhdGlvbmFsRXJyb3IsVGltZW91dEVycm9yOmIuVGltZW91dEVycm9yLEFnZ3JlZ2F0ZUVycm9yOmIuQWdncmVnYXRlRXJyb3IsV2FybmluZzpwfX0se1wiLi9lczVcIjoxMyxcIi4vdXRpbFwiOjM2fV0sMTM6W2Z1bmN0aW9uKHQsZSxuKXt2YXIgcj1mdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3JldHVybiB2b2lkIDA9PT10aGlzfSgpO2lmKHIpZS5leHBvcnRzPXtmcmVlemU6T2JqZWN0LmZyZWV6ZSxkZWZpbmVQcm9wZXJ0eTpPYmplY3QuZGVmaW5lUHJvcGVydHksZ2V0RGVzY3JpcHRvcjpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLGtleXM6T2JqZWN0LmtleXMsbmFtZXM6T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMsZ2V0UHJvdG90eXBlT2Y6T2JqZWN0LmdldFByb3RvdHlwZU9mLGlzQXJyYXk6QXJyYXkuaXNBcnJheSxpc0VTNTpyLHByb3BlcnR5SXNXcml0YWJsZTpmdW5jdGlvbih0LGUpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKTtyZXR1cm4hKG4mJiFuLndyaXRhYmxlJiYhbi5zZXQpfX07ZWxzZXt2YXIgaT17fS5oYXNPd25Qcm9wZXJ0eSxvPXt9LnRvU3RyaW5nLHM9e30uY29uc3RydWN0b3IucHJvdG90eXBlLGE9ZnVuY3Rpb24odCl7dmFyIGU9W107Zm9yKHZhciBuIGluIHQpaS5jYWxsKHQsbikmJmUucHVzaChuKTtyZXR1cm4gZX0sYz1mdW5jdGlvbih0LGUpe3JldHVybnt2YWx1ZTp0W2VdfX0sdT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbZV09bi52YWx1ZSx0fSxsPWZ1bmN0aW9uKHQpe3JldHVybiB0fSxmPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gT2JqZWN0KHQpLmNvbnN0cnVjdG9yLnByb3RvdHlwZX1jYXRjaChlKXtyZXR1cm4gc319LHA9ZnVuY3Rpb24odCl7dHJ5e3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PW8uY2FsbCh0KX1jYXRjaChlKXtyZXR1cm4hMX19O2UuZXhwb3J0cz17aXNBcnJheTpwLGtleXM6YSxuYW1lczphLGRlZmluZVByb3BlcnR5OnUsZ2V0RGVzY3JpcHRvcjpjLGZyZWV6ZTpsLGdldFByb3RvdHlwZU9mOmYsaXNFUzU6cixwcm9wZXJ0eUlzV3JpdGFibGU6ZnVuY3Rpb24oKXtyZXR1cm4hMH19fX0se31dLDE0OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5tYXA7dC5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKHQscil7cmV0dXJuIG4odGhpcyx0LHIsZSl9LHQuZmlsdGVyPWZ1bmN0aW9uKHQscixpKXtyZXR1cm4gbih0LHIsaSxlKX19fSx7fV0sMTU6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiByKHQsZSxuKXt0aGlzLnByb21pc2U9dCx0aGlzLnR5cGU9ZSx0aGlzLmhhbmRsZXI9bix0aGlzLmNhbGxlZD0hMSx0aGlzLmNhbmNlbFByb21pc2U9bnVsbH1mdW5jdGlvbiBpKHQpe3RoaXMuZmluYWxseUhhbmRsZXI9dH1mdW5jdGlvbiBvKHQsZSl7cmV0dXJuIG51bGwhPXQuY2FuY2VsUHJvbWlzZT8oYXJndW1lbnRzLmxlbmd0aD4xP3QuY2FuY2VsUHJvbWlzZS5fcmVqZWN0KGUpOnQuY2FuY2VsUHJvbWlzZS5fY2FuY2VsKCksdC5jYW5jZWxQcm9taXNlPW51bGwsITApOiExfWZ1bmN0aW9uIHMoKXtyZXR1cm4gYy5jYWxsKHRoaXMsdGhpcy5wcm9taXNlLl90YXJnZXQoKS5fc2V0dGxlZFZhbHVlKCkpfWZ1bmN0aW9uIGEodCl7cmV0dXJuIG8odGhpcyx0KT92b2lkIDA6KGYuZT10LGYpfWZ1bmN0aW9uIGModCl7dmFyIHI9dGhpcy5wcm9taXNlLGM9dGhpcy5oYW5kbGVyO2lmKCF0aGlzLmNhbGxlZCl7dGhpcy5jYWxsZWQ9ITA7dmFyIHU9dGhpcy5pc0ZpbmFsbHlIYW5kbGVyKCk/Yy5jYWxsKHIuX2JvdW5kVmFsdWUoKSk6Yy5jYWxsKHIuX2JvdW5kVmFsdWUoKSx0KTtpZih2b2lkIDAhPT11KXtyLl9zZXRSZXR1cm5lZE5vblVuZGVmaW5lZCgpO3ZhciBwPW4odSxyKTtpZihwIGluc3RhbmNlb2YgZSl7aWYobnVsbCE9dGhpcy5jYW5jZWxQcm9taXNlKXtpZihwLl9pc0NhbmNlbGxlZCgpKXt2YXIgaD1uZXcgbChcImxhdGUgY2FuY2VsbGF0aW9uIG9ic2VydmVyXCIpO3JldHVybiByLl9hdHRhY2hFeHRyYVRyYWNlKGgpLGYuZT1oLGZ9cC5pc1BlbmRpbmcoKSYmcC5fYXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2sobmV3IGkodGhpcykpfXJldHVybiBwLl90aGVuKHMsYSx2b2lkIDAsdGhpcyx2b2lkIDApfX19cmV0dXJuIHIuaXNSZWplY3RlZCgpPyhvKHRoaXMpLGYuZT10LGYpOihvKHRoaXMpLHQpfXZhciB1PXQoXCIuL3V0aWxcIiksbD1lLkNhbmNlbGxhdGlvbkVycm9yLGY9dS5lcnJvck9iajtyZXR1cm4gci5wcm90b3R5cGUuaXNGaW5hbGx5SGFuZGxlcj1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy50eXBlfSxpLnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkPWZ1bmN0aW9uKCl7byh0aGlzLmZpbmFsbHlIYW5kbGVyKX0sZS5wcm90b3R5cGUuX3Bhc3NUaHJvdWdoPWZ1bmN0aW9uKHQsZSxuLGkpe3JldHVyblwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/dGhpcy50aGVuKCk6dGhpcy5fdGhlbihuLGksdm9pZCAwLG5ldyByKHRoaXMsZSx0KSx2b2lkIDApfSxlLnByb3RvdHlwZS5sYXN0bHk9ZS5wcm90b3R5cGVbXCJmaW5hbGx5XCJdPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9wYXNzVGhyb3VnaCh0LDAsYyxjKX0sZS5wcm90b3R5cGUudGFwPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9wYXNzVGhyb3VnaCh0LDEsYyl9LHJ9fSx7XCIuL3V0aWxcIjozNn1dLDE2OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyLGksbyxzKXtmdW5jdGlvbiBhKHQsbixyKXtmb3IodmFyIG89MDtvPG4ubGVuZ3RoOysrbyl7ci5fcHVzaENvbnRleHQoKTt2YXIgcz1oKG5bb10pKHQpO2lmKHIuX3BvcENvbnRleHQoKSxzPT09cCl7ci5fcHVzaENvbnRleHQoKTt2YXIgYT1lLnJlamVjdChwLmUpO3JldHVybiByLl9wb3BDb250ZXh0KCksYX12YXIgYz1pKHMscik7aWYoYyBpbnN0YW5jZW9mIGUpcmV0dXJuIGN9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYyh0LG4saSxvKXtpZihzLmNhbmNlbGxhdGlvbigpKXt2YXIgYT1uZXcgZShyKSxjPXRoaXMuX2ZpbmFsbHlQcm9taXNlPW5ldyBlKHIpO3RoaXMuX3Byb21pc2U9YS5sYXN0bHkoZnVuY3Rpb24oKXtyZXR1cm4gY30pLGEuX2NhcHR1cmVTdGFja1RyYWNlKCksYS5fc2V0T25DYW5jZWwodGhpcyl9ZWxzZXt2YXIgdT10aGlzLl9wcm9taXNlPW5ldyBlKHIpO3UuX2NhcHR1cmVTdGFja1RyYWNlKCl9dGhpcy5fc3RhY2s9byx0aGlzLl9nZW5lcmF0b3JGdW5jdGlvbj10LHRoaXMuX3JlY2VpdmVyPW4sdGhpcy5fZ2VuZXJhdG9yPXZvaWQgMCx0aGlzLl95aWVsZEhhbmRsZXJzPVwiZnVuY3Rpb25cIj09dHlwZW9mIGk/W2ldLmNvbmNhdChkKTpkLHRoaXMuX3lpZWxkZWRQcm9taXNlPW51bGwsdGhpcy5fY2FuY2VsbGF0aW9uUGhhc2U9ITF9dmFyIHU9dChcIi4vZXJyb3JzXCIpLGw9dS5UeXBlRXJyb3IsZj10KFwiLi91dGlsXCIpLHA9Zi5lcnJvck9iaixoPWYudHJ5Q2F0Y2gsZD1bXTtmLmluaGVyaXRzKGMsbyksYy5wcm90b3R5cGUuX2lzUmVzb2x2ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuX3Byb21pc2V9LGMucHJvdG90eXBlLl9jbGVhbnVwPWZ1bmN0aW9uKCl7dGhpcy5fcHJvbWlzZT10aGlzLl9nZW5lcmF0b3I9bnVsbCxzLmNhbmNlbGxhdGlvbigpJiZudWxsIT09dGhpcy5fZmluYWxseVByb21pc2UmJih0aGlzLl9maW5hbGx5UHJvbWlzZS5fZnVsZmlsbCgpLHRoaXMuX2ZpbmFsbHlQcm9taXNlPW51bGwpfSxjLnByb3RvdHlwZS5fcHJvbWlzZUNhbmNlbGxlZD1mdW5jdGlvbigpe2lmKCF0aGlzLl9pc1Jlc29sdmVkKCkpe3ZhciB0LG49XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMuX2dlbmVyYXRvcltcInJldHVyblwiXTtpZihuKXRoaXMuX3Byb21pc2UuX3B1c2hDb250ZXh0KCksdD1oKHRoaXMuX2dlbmVyYXRvcltcInJldHVyblwiXSkuY2FsbCh0aGlzLl9nZW5lcmF0b3Isdm9pZCAwKSx0aGlzLl9wcm9taXNlLl9wb3BDb250ZXh0KCk7ZWxzZXt2YXIgcj1uZXcgZS5DYW5jZWxsYXRpb25FcnJvcihcImdlbmVyYXRvciAucmV0dXJuKCkgc2VudGluZWxcIik7ZS5jb3JvdXRpbmUucmV0dXJuU2VudGluZWw9cix0aGlzLl9wcm9taXNlLl9hdHRhY2hFeHRyYVRyYWNlKHIpLHRoaXMuX3Byb21pc2UuX3B1c2hDb250ZXh0KCksdD1oKHRoaXMuX2dlbmVyYXRvcltcInRocm93XCJdKS5jYWxsKHRoaXMuX2dlbmVyYXRvcixyKSx0aGlzLl9wcm9taXNlLl9wb3BDb250ZXh0KCl9dGhpcy5fY2FuY2VsbGF0aW9uUGhhc2U9ITAsdGhpcy5feWllbGRlZFByb21pc2U9bnVsbCx0aGlzLl9jb250aW51ZSh0KX19LGMucHJvdG90eXBlLl9wcm9taXNlRnVsZmlsbGVkPWZ1bmN0aW9uKHQpe3RoaXMuX3lpZWxkZWRQcm9taXNlPW51bGwsdGhpcy5fcHJvbWlzZS5fcHVzaENvbnRleHQoKTt2YXIgZT1oKHRoaXMuX2dlbmVyYXRvci5uZXh0KS5jYWxsKHRoaXMuX2dlbmVyYXRvcix0KTt0aGlzLl9wcm9taXNlLl9wb3BDb250ZXh0KCksdGhpcy5fY29udGludWUoZSl9LGMucHJvdG90eXBlLl9wcm9taXNlUmVqZWN0ZWQ9ZnVuY3Rpb24odCl7dGhpcy5feWllbGRlZFByb21pc2U9bnVsbCx0aGlzLl9wcm9taXNlLl9hdHRhY2hFeHRyYVRyYWNlKHQpLHRoaXMuX3Byb21pc2UuX3B1c2hDb250ZXh0KCk7dmFyIGU9aCh0aGlzLl9nZW5lcmF0b3JbXCJ0aHJvd1wiXSkuY2FsbCh0aGlzLl9nZW5lcmF0b3IsdCk7dGhpcy5fcHJvbWlzZS5fcG9wQ29udGV4dCgpLHRoaXMuX2NvbnRpbnVlKGUpfSxjLnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkPWZ1bmN0aW9uKCl7aWYodGhpcy5feWllbGRlZFByb21pc2UgaW5zdGFuY2VvZiBlKXt2YXIgdD10aGlzLl95aWVsZGVkUHJvbWlzZTt0aGlzLl95aWVsZGVkUHJvbWlzZT1udWxsLHQuY2FuY2VsKCl9fSxjLnByb3RvdHlwZS5wcm9taXNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb21pc2V9LGMucHJvdG90eXBlLl9ydW49ZnVuY3Rpb24oKXt0aGlzLl9nZW5lcmF0b3I9dGhpcy5fZ2VuZXJhdG9yRnVuY3Rpb24uY2FsbCh0aGlzLl9yZWNlaXZlciksdGhpcy5fcmVjZWl2ZXI9dGhpcy5fZ2VuZXJhdG9yRnVuY3Rpb249dm9pZCAwLHRoaXMuX3Byb21pc2VGdWxmaWxsZWQodm9pZCAwKX0sYy5wcm90b3R5cGUuX2NvbnRpbnVlPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuX3Byb21pc2U7aWYodD09PXApcmV0dXJuIHRoaXMuX2NsZWFudXAoKSx0aGlzLl9jYW5jZWxsYXRpb25QaGFzZT9uLmNhbmNlbCgpOm4uX3JlamVjdENhbGxiYWNrKHQuZSwhMSk7dmFyIHI9dC52YWx1ZTtpZih0LmRvbmU9PT0hMClyZXR1cm4gdGhpcy5fY2xlYW51cCgpLHRoaXMuX2NhbmNlbGxhdGlvblBoYXNlP24uY2FuY2VsKCk6bi5fcmVzb2x2ZUNhbGxiYWNrKHIpO3ZhciBvPWkocix0aGlzLl9wcm9taXNlKTtpZighKG8gaW5zdGFuY2VvZiBlKSYmKG89YShvLHRoaXMuX3lpZWxkSGFuZGxlcnMsdGhpcy5fcHJvbWlzZSksbnVsbD09PW8pKXJldHVybiB2b2lkIHRoaXMuX3Byb21pc2VSZWplY3RlZChuZXcgbChcIkEgdmFsdWUgJXMgd2FzIHlpZWxkZWQgdGhhdCBjb3VsZCBub3QgYmUgdHJlYXRlZCBhcyBhIHByb21pc2VcXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXFxuXCIucmVwbGFjZShcIiVzXCIscikrXCJGcm9tIGNvcm91dGluZTpcXG5cIit0aGlzLl9zdGFjay5zcGxpdChcIlxcblwiKS5zbGljZSgxLC03KS5qb2luKFwiXFxuXCIpKSk7bz1vLl90YXJnZXQoKTt2YXIgcz1vLl9iaXRGaWVsZDswPT09KDUwMzk3MTg0JnMpPyh0aGlzLl95aWVsZGVkUHJvbWlzZT1vLG8uX3Byb3h5KHRoaXMsbnVsbCkpOjAhPT0oMzM1NTQ0MzImcyk/ZS5fYXN5bmMuaW52b2tlKHRoaXMuX3Byb21pc2VGdWxmaWxsZWQsdGhpcyxvLl92YWx1ZSgpKTowIT09KDE2Nzc3MjE2JnMpP2UuX2FzeW5jLmludm9rZSh0aGlzLl9wcm9taXNlUmVqZWN0ZWQsdGhpcyxvLl9yZWFzb24oKSk6dGhpcy5fcHJvbWlzZUNhbmNlbGxlZCgpfSxlLmNvcm91dGluZT1mdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IGwoXCJnZW5lcmF0b3JGdW5jdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb25cXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXCIpO3ZhciBuPU9iamVjdChlKS55aWVsZEhhbmRsZXIscj1jLGk9KG5ldyBFcnJvcikuc3RhY2s7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyksbz1uZXcgcih2b2lkIDAsdm9pZCAwLG4saSkscz1vLnByb21pc2UoKTtyZXR1cm4gby5fZ2VuZXJhdG9yPWUsby5fcHJvbWlzZUZ1bGZpbGxlZCh2b2lkIDApLHN9fSxlLmNvcm91dGluZS5hZGRZaWVsZEhhbmRsZXI9ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgbChcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIrZi5jbGFzc1N0cmluZyh0KSk7ZC5wdXNoKHQpfSxlLnNwYXduPWZ1bmN0aW9uKHQpe2lmKHMuZGVwcmVjYXRlZChcIlByb21pc2Uuc3Bhd24oKVwiLFwiUHJvbWlzZS5jb3JvdXRpbmUoKVwiKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXJldHVybiBuKFwiZ2VuZXJhdG9yRnVuY3Rpb24gbXVzdCBiZSBhIGZ1bmN0aW9uXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKTtcblx0dmFyIHI9bmV3IGModCx0aGlzKSxpPXIucHJvbWlzZSgpO3JldHVybiByLl9ydW4oZS5zcGF3biksaX19fSx7XCIuL2Vycm9yc1wiOjEyLFwiLi91dGlsXCI6MzZ9XSwxNzpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlLG4scixpLG8scyl7dmFyIGE9dChcIi4vdXRpbFwiKTthLmNhbkV2YWx1YXRlLGEudHJ5Q2F0Y2gsYS5lcnJvck9iajtlLmpvaW49ZnVuY3Rpb24oKXt2YXIgdCxlPWFyZ3VtZW50cy5sZW5ndGgtMTtpZihlPjAmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGFyZ3VtZW50c1tlXSl7dD1hcmd1bWVudHNbZV07dmFyIHJ9dmFyIGk9W10uc2xpY2UuY2FsbChhcmd1bWVudHMpO3QmJmkucG9wKCk7dmFyIHI9bmV3IG4oaSkucHJvbWlzZSgpO3JldHVybiB2b2lkIDAhPT10P3Iuc3ByZWFkKHQpOnJ9fX0se1wiLi91dGlsXCI6MzZ9XSwxODpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlLG4scixpLG8scyl7ZnVuY3Rpb24gYSh0LGUsbixyKXt0aGlzLmNvbnN0cnVjdG9yJCh0KSx0aGlzLl9wcm9taXNlLl9jYXB0dXJlU3RhY2tUcmFjZSgpO3ZhciBpPXUoKTt0aGlzLl9jYWxsYmFjaz1udWxsPT09aT9lOmwuZG9tYWluQmluZChpLGUpLHRoaXMuX3ByZXNlcnZlZFZhbHVlcz1yPT09bz9uZXcgQXJyYXkodGhpcy5sZW5ndGgoKSk6bnVsbCx0aGlzLl9saW1pdD1uLHRoaXMuX2luRmxpZ2h0PTAsdGhpcy5fcXVldWU9W10saC5pbnZva2UodGhpcy5fYXN5bmNJbml0LHRoaXMsdm9pZCAwKX1mdW5jdGlvbiBjKHQsbixpLG8pe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4pcmV0dXJuIHIoXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiK2wuY2xhc3NTdHJpbmcobikpO3ZhciBzPTA7aWYodm9pZCAwIT09aSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGl8fG51bGw9PT1pKXJldHVybiBlLnJlamVjdChuZXcgVHlwZUVycm9yKFwib3B0aW9ucyBhcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdCBidXQgaXQgaXMgXCIrbC5jbGFzc1N0cmluZyhpKSkpO2lmKFwibnVtYmVyXCIhPXR5cGVvZiBpLmNvbmN1cnJlbmN5KXJldHVybiBlLnJlamVjdChuZXcgVHlwZUVycm9yKFwiJ2NvbmN1cnJlbmN5JyBtdXN0IGJlIGEgbnVtYmVyIGJ1dCBpdCBpcyBcIitsLmNsYXNzU3RyaW5nKGkuY29uY3VycmVuY3kpKSk7cz1pLmNvbmN1cnJlbmN5fXJldHVybiBzPVwibnVtYmVyXCI9PXR5cGVvZiBzJiZpc0Zpbml0ZShzKSYmcz49MT9zOjAsbmV3IGEodCxuLHMsbykucHJvbWlzZSgpfXZhciB1PWUuX2dldERvbWFpbixsPXQoXCIuL3V0aWxcIiksZj1sLnRyeUNhdGNoLHA9bC5lcnJvck9iaixoPWUuX2FzeW5jO2wuaW5oZXJpdHMoYSxuKSxhLnByb3RvdHlwZS5fYXN5bmNJbml0PWZ1bmN0aW9uKCl7dGhpcy5faW5pdCQodm9pZCAwLC0yKX0sYS5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXt9LGEucHJvdG90eXBlLl9wcm9taXNlRnVsZmlsbGVkPWZ1bmN0aW9uKHQsbil7dmFyIHI9dGhpcy5fdmFsdWVzLG89dGhpcy5sZW5ndGgoKSxhPXRoaXMuX3ByZXNlcnZlZFZhbHVlcyxjPXRoaXMuX2xpbWl0O2lmKDA+bil7aWYobj0tMSpuLTEscltuXT10LGM+PTEmJih0aGlzLl9pbkZsaWdodC0tLHRoaXMuX2RyYWluUXVldWUoKSx0aGlzLl9pc1Jlc29sdmVkKCkpKXJldHVybiEwfWVsc2V7aWYoYz49MSYmdGhpcy5faW5GbGlnaHQ+PWMpcmV0dXJuIHJbbl09dCx0aGlzLl9xdWV1ZS5wdXNoKG4pLCExO251bGwhPT1hJiYoYVtuXT10KTt2YXIgdT10aGlzLl9wcm9taXNlLGw9dGhpcy5fY2FsbGJhY2ssaD11Ll9ib3VuZFZhbHVlKCk7dS5fcHVzaENvbnRleHQoKTt2YXIgZD1mKGwpLmNhbGwoaCx0LG4sbyksXz11Ll9wb3BDb250ZXh0KCk7aWYocy5jaGVja0ZvcmdvdHRlblJldHVybnMoZCxfLG51bGwhPT1hP1wiUHJvbWlzZS5maWx0ZXJcIjpcIlByb21pc2UubWFwXCIsdSksZD09PXApcmV0dXJuIHRoaXMuX3JlamVjdChkLmUpLCEwO3ZhciB2PWkoZCx0aGlzLl9wcm9taXNlKTtpZih2IGluc3RhbmNlb2YgZSl7dj12Ll90YXJnZXQoKTt2YXIgeT12Ll9iaXRGaWVsZDtpZigwPT09KDUwMzk3MTg0JnkpKXJldHVybiBjPj0xJiZ0aGlzLl9pbkZsaWdodCsrLHJbbl09dix2Ll9wcm94eSh0aGlzLC0xKihuKzEpKSwhMTtpZigwPT09KDMzNTU0NDMyJnkpKXJldHVybiAwIT09KDE2Nzc3MjE2JnkpPyh0aGlzLl9yZWplY3Qodi5fcmVhc29uKCkpLCEwKToodGhpcy5fY2FuY2VsKCksITApO2Q9di5fdmFsdWUoKX1yW25dPWR9dmFyIG09Kyt0aGlzLl90b3RhbFJlc29sdmVkO3JldHVybiBtPj1vPyhudWxsIT09YT90aGlzLl9maWx0ZXIocixhKTp0aGlzLl9yZXNvbHZlKHIpLCEwKTohMX0sYS5wcm90b3R5cGUuX2RyYWluUXVldWU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fcXVldWUsZT10aGlzLl9saW1pdCxuPXRoaXMuX3ZhbHVlczt0Lmxlbmd0aD4wJiZ0aGlzLl9pbkZsaWdodDxlOyl7aWYodGhpcy5faXNSZXNvbHZlZCgpKXJldHVybjt2YXIgcj10LnBvcCgpO3RoaXMuX3Byb21pc2VGdWxmaWxsZWQobltyXSxyKX19LGEucHJvdG90eXBlLl9maWx0ZXI9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ZS5sZW5ndGgscj1uZXcgQXJyYXkobiksaT0wLG89MDtuPm87KytvKXRbb10mJihyW2krK109ZVtvXSk7ci5sZW5ndGg9aSx0aGlzLl9yZXNvbHZlKHIpfSxhLnByb3RvdHlwZS5wcmVzZXJ2ZWRWYWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJlc2VydmVkVmFsdWVzfSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYyh0aGlzLHQsZSxudWxsKX0sZS5tYXA9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIGModCxlLG4scil9fX0se1wiLi91dGlsXCI6MzZ9XSwxOTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlLG4scixpLG8pe3ZhciBzPXQoXCIuL3V0aWxcIiksYT1zLnRyeUNhdGNoO2UubWV0aG9kPWZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IGUuVHlwZUVycm9yKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIitzLmNsYXNzU3RyaW5nKHQpKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcj1uZXcgZShuKTtyLl9jYXB0dXJlU3RhY2tUcmFjZSgpLHIuX3B1c2hDb250ZXh0KCk7dmFyIGk9YSh0KS5hcHBseSh0aGlzLGFyZ3VtZW50cykscz1yLl9wb3BDb250ZXh0KCk7cmV0dXJuIG8uY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zKGkscyxcIlByb21pc2UubWV0aG9kXCIsciksci5fcmVzb2x2ZUZyb21TeW5jVmFsdWUoaSkscn19LGUuYXR0ZW1wdD1lW1widHJ5XCJdPWZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpcmV0dXJuIGkoXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiK3MuY2xhc3NTdHJpbmcodCkpO3ZhciByPW5ldyBlKG4pO3IuX2NhcHR1cmVTdGFja1RyYWNlKCksci5fcHVzaENvbnRleHQoKTt2YXIgYztpZihhcmd1bWVudHMubGVuZ3RoPjEpe28uZGVwcmVjYXRlZChcImNhbGxpbmcgUHJvbWlzZS50cnkgd2l0aCBtb3JlIHRoYW4gMSBhcmd1bWVudFwiKTt2YXIgdT1hcmd1bWVudHNbMV0sbD1hcmd1bWVudHNbMl07Yz1zLmlzQXJyYXkodSk/YSh0KS5hcHBseShsLHUpOmEodCkuY2FsbChsLHUpfWVsc2UgYz1hKHQpKCk7dmFyIGY9ci5fcG9wQ29udGV4dCgpO3JldHVybiBvLmNoZWNrRm9yZ290dGVuUmV0dXJucyhjLGYsXCJQcm9taXNlLnRyeVwiLHIpLHIuX3Jlc29sdmVGcm9tU3luY1ZhbHVlKGMpLHJ9LGUucHJvdG90eXBlLl9yZXNvbHZlRnJvbVN5bmNWYWx1ZT1mdW5jdGlvbih0KXt0PT09cy5lcnJvck9iaj90aGlzLl9yZWplY3RDYWxsYmFjayh0LmUsITEpOnRoaXMuX3Jlc29sdmVDYWxsYmFjayh0LCEwKX19fSx7XCIuL3V0aWxcIjozNn1dLDIwOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEVycm9yJiZsLmdldFByb3RvdHlwZU9mKHQpPT09RXJyb3IucHJvdG90eXBlfWZ1bmN0aW9uIGkodCl7dmFyIGU7aWYocih0KSl7ZT1uZXcgdSh0KSxlLm5hbWU9dC5uYW1lLGUubWVzc2FnZT10Lm1lc3NhZ2UsZS5zdGFjaz10LnN0YWNrO2Zvcih2YXIgbj1sLmtleXModCksaT0wO2k8bi5sZW5ndGg7KytpKXt2YXIgbz1uW2ldO2YudGVzdChvKXx8KGVbb109dFtvXSl9cmV0dXJuIGV9cmV0dXJuIHMubWFya0FzT3JpZ2luYXRpbmdGcm9tUmVqZWN0aW9uKHQpLHR9ZnVuY3Rpb24gbyh0LGUpe3JldHVybiBmdW5jdGlvbihuLHIpe2lmKG51bGwhPT10KXtpZihuKXt2YXIgbz1pKGEobikpO3QuX2F0dGFjaEV4dHJhVHJhY2UobyksdC5fcmVqZWN0KG8pfWVsc2UgaWYoZSl7dmFyIHM9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7dC5fZnVsZmlsbChzKX1lbHNlIHQuX2Z1bGZpbGwocik7dD1udWxsfX19dmFyIHM9dChcIi4vdXRpbFwiKSxhPXMubWF5YmVXcmFwQXNFcnJvcixjPXQoXCIuL2Vycm9yc1wiKSx1PWMuT3BlcmF0aW9uYWxFcnJvcixsPXQoXCIuL2VzNVwiKSxmPS9eKD86bmFtZXxtZXNzYWdlfHN0YWNrfGNhdXNlKSQvO2UuZXhwb3J0cz1vfSx7XCIuL2Vycm9yc1wiOjEyLFwiLi9lczVcIjoxMyxcIi4vdXRpbFwiOjM2fV0sMjE6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbih0LGUpe3ZhciBuPXRoaXM7aWYoIW8uaXNBcnJheSh0KSlyZXR1cm4gci5jYWxsKG4sdCxlKTt2YXIgaT1hKGUpLmFwcGx5KG4uX2JvdW5kVmFsdWUoKSxbbnVsbF0uY29uY2F0KHQpKTtpPT09YyYmcy50aHJvd0xhdGVyKGkuZSl9ZnVuY3Rpb24gcih0LGUpe3ZhciBuPXRoaXMscj1uLl9ib3VuZFZhbHVlKCksaT12b2lkIDA9PT10P2EoZSkuY2FsbChyLG51bGwpOmEoZSkuY2FsbChyLG51bGwsdCk7aT09PWMmJnMudGhyb3dMYXRlcihpLmUpfWZ1bmN0aW9uIGkodCxlKXt2YXIgbj10aGlzO2lmKCF0KXt2YXIgcj1uZXcgRXJyb3IodCtcIlwiKTtyLmNhdXNlPXQsdD1yfXZhciBpPWEoZSkuY2FsbChuLl9ib3VuZFZhbHVlKCksdCk7aT09PWMmJnMudGhyb3dMYXRlcihpLmUpfXZhciBvPXQoXCIuL3V0aWxcIikscz1lLl9hc3luYyxhPW8udHJ5Q2F0Y2gsYz1vLmVycm9yT2JqO2UucHJvdG90eXBlLmFzQ2FsbGJhY2s9ZS5wcm90b3R5cGUubm9kZWlmeT1mdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpe3ZhciBvPXI7dm9pZCAwIT09ZSYmT2JqZWN0KGUpLnNwcmVhZCYmKG89biksdGhpcy5fdGhlbihvLGksdm9pZCAwLHRoaXMsdCl9cmV0dXJuIHRoaXN9fX0se1wiLi91dGlsXCI6MzZ9XSwyMjpbZnVuY3Rpb24odCxuLHIpe1widXNlIHN0cmljdFwiO24uZXhwb3J0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIHIoKXt9ZnVuY3Rpb24gaSh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IGcoXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiK2QuY2xhc3NTdHJpbmcoZSkpO2lmKHQuY29uc3RydWN0b3IhPT1vKXRocm93IG5ldyBnKFwidGhlIHByb21pc2UgY29uc3RydWN0b3IgY2Fubm90IGJlIGludm9rZWQgZGlyZWN0bHlcXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXCIpfWZ1bmN0aW9uIG8odCl7dGhpcy5fYml0RmllbGQ9MCx0aGlzLl9mdWxmaWxsbWVudEhhbmRsZXIwPXZvaWQgMCx0aGlzLl9yZWplY3Rpb25IYW5kbGVyMD12b2lkIDAsdGhpcy5fcHJvbWlzZTA9dm9pZCAwLHRoaXMuX3JlY2VpdmVyMD12b2lkIDAsdCE9PXcmJihpKHRoaXMsdCksdGhpcy5fcmVzb2x2ZUZyb21FeGVjdXRvcih0KSksdGhpcy5fcHJvbWlzZUNyZWF0ZWQoKSx0aGlzLl9maXJlRXZlbnQoXCJwcm9taXNlQ3JlYXRlZFwiLHRoaXMpfWZ1bmN0aW9uIHModCl7dGhpcy5wcm9taXNlLl9yZXNvbHZlQ2FsbGJhY2sodCl9ZnVuY3Rpb24gYSh0KXt0aGlzLnByb21pc2UuX3JlamVjdENhbGxiYWNrKHQsITEpfWZ1bmN0aW9uIGModCl7dmFyIGU9bmV3IG8odyk7ZS5fZnVsZmlsbG1lbnRIYW5kbGVyMD10LGUuX3JlamVjdGlvbkhhbmRsZXIwPXQsZS5fcHJvbWlzZTA9dCxlLl9yZWNlaXZlcjA9dH12YXIgdSxsPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBnKFwiY2lyY3VsYXIgcHJvbWlzZSByZXNvbHV0aW9uIGNoYWluXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKX0sZj1mdW5jdGlvbigpe3JldHVybiBuZXcgby5Qcm9taXNlSW5zcGVjdGlvbih0aGlzLl90YXJnZXQoKSl9LHA9ZnVuY3Rpb24odCl7cmV0dXJuIG8ucmVqZWN0KG5ldyBnKHQpKX0saD17fSxkPXQoXCIuL3V0aWxcIik7dT1kLmlzTm9kZT9mdW5jdGlvbigpe3ZhciB0PWUuZG9tYWluO3JldHVybiB2b2lkIDA9PT10JiYodD1udWxsKSx0fTpmdW5jdGlvbigpe3JldHVybiBudWxsfSxkLm5vdEVudW1lcmFibGVQcm9wKG8sXCJfZ2V0RG9tYWluXCIsdSk7dmFyIF89dChcIi4vZXM1XCIpLHY9dChcIi4vYXN5bmNcIikseT1uZXcgdjtfLmRlZmluZVByb3BlcnR5KG8sXCJfYXN5bmNcIix7dmFsdWU6eX0pO3ZhciBtPXQoXCIuL2Vycm9yc1wiKSxnPW8uVHlwZUVycm9yPW0uVHlwZUVycm9yO28uUmFuZ2VFcnJvcj1tLlJhbmdlRXJyb3I7dmFyIGI9by5DYW5jZWxsYXRpb25FcnJvcj1tLkNhbmNlbGxhdGlvbkVycm9yO28uVGltZW91dEVycm9yPW0uVGltZW91dEVycm9yLG8uT3BlcmF0aW9uYWxFcnJvcj1tLk9wZXJhdGlvbmFsRXJyb3Isby5SZWplY3Rpb25FcnJvcj1tLk9wZXJhdGlvbmFsRXJyb3Isby5BZ2dyZWdhdGVFcnJvcj1tLkFnZ3JlZ2F0ZUVycm9yO3ZhciB3PWZ1bmN0aW9uKCl7fSxFPXt9LEM9e30saz10KFwiLi90aGVuYWJsZXNcIikobyx3KSxqPXQoXCIuL3Byb21pc2VfYXJyYXlcIikobyx3LGsscCxyKSx4PXQoXCIuL2NvbnRleHRcIikobyksRj14LmNyZWF0ZSxUPXQoXCIuL2RlYnVnZ2FiaWxpdHlcIikobyx4KSxTPShULkNhcHR1cmVkVHJhY2UsdChcIi4vZmluYWxseVwiKShvLGspKSxQPXQoXCIuL2NhdGNoX2ZpbHRlclwiKShDKSxPPXQoXCIuL25vZGViYWNrXCIpLFI9ZC5lcnJvck9iaixBPWQudHJ5Q2F0Y2g7cmV0dXJuIG8ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IFByb21pc2VdXCJ9LG8ucHJvdG90eXBlLmNhdWdodD1vLnByb3RvdHlwZVtcImNhdGNoXCJdPWZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg7aWYoZT4xKXt2YXIgbixyPW5ldyBBcnJheShlLTEpLGk9MDtmb3Iobj0wO2UtMT5uOysrbil7dmFyIG89YXJndW1lbnRzW25dO2lmKCFkLmlzT2JqZWN0KG8pKXJldHVybiBwKFwiZXhwZWN0aW5nIGFuIG9iamVjdCBidXQgZ290IEEgY2F0Y2ggc3RhdGVtZW50IHByZWRpY2F0ZSBcIitkLmNsYXNzU3RyaW5nKG8pKTtyW2krK109b31yZXR1cm4gci5sZW5ndGg9aSx0PWFyZ3VtZW50c1tuXSx0aGlzLnRoZW4odm9pZCAwLFAocix0LHRoaXMpKX1yZXR1cm4gdGhpcy50aGVuKHZvaWQgMCx0KX0sby5wcm90b3R5cGUucmVmbGVjdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90aGVuKGYsZix2b2lkIDAsdGhpcyx2b2lkIDApfSxvLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKHQsZSl7aWYoVC53YXJuaW5ncygpJiZhcmd1bWVudHMubGVuZ3RoPjAmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpe3ZhciBuPVwiLnRoZW4oKSBvbmx5IGFjY2VwdHMgZnVuY3Rpb25zIGJ1dCB3YXMgcGFzc2VkOiBcIitkLmNsYXNzU3RyaW5nKHQpO2FyZ3VtZW50cy5sZW5ndGg+MSYmKG4rPVwiLCBcIitkLmNsYXNzU3RyaW5nKGUpKSx0aGlzLl93YXJuKG4pfXJldHVybiB0aGlzLl90aGVuKHQsZSx2b2lkIDAsdm9pZCAwLHZvaWQgMCl9LG8ucHJvdG90eXBlLmRvbmU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl90aGVuKHQsZSx2b2lkIDAsdm9pZCAwLHZvaWQgMCk7bi5fc2V0SXNGaW5hbCgpfSxvLnByb3RvdHlwZS5zcHJlYWQ9ZnVuY3Rpb24odCl7cmV0dXJuXCJmdW5jdGlvblwiIT10eXBlb2YgdD9wKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIitkLmNsYXNzU3RyaW5nKHQpKTp0aGlzLmFsbCgpLl90aGVuKHQsdm9pZCAwLHZvaWQgMCxFLHZvaWQgMCl9LG8ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciB0PXtpc0Z1bGZpbGxlZDohMSxpc1JlamVjdGVkOiExLGZ1bGZpbGxtZW50VmFsdWU6dm9pZCAwLHJlamVjdGlvblJlYXNvbjp2b2lkIDB9O3JldHVybiB0aGlzLmlzRnVsZmlsbGVkKCk/KHQuZnVsZmlsbG1lbnRWYWx1ZT10aGlzLnZhbHVlKCksdC5pc0Z1bGZpbGxlZD0hMCk6dGhpcy5pc1JlamVjdGVkKCkmJih0LnJlamVjdGlvblJlYXNvbj10aGlzLnJlYXNvbigpLHQuaXNSZWplY3RlZD0hMCksdH0sby5wcm90b3R5cGUuYWxsPWZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MCYmdGhpcy5fd2FybihcIi5hbGwoKSB3YXMgcGFzc2VkIGFyZ3VtZW50cyBidXQgaXQgZG9lcyBub3QgdGFrZSBhbnlcIiksbmV3IGoodGhpcykucHJvbWlzZSgpfSxvLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jYXVnaHQoZC5vcmlnaW5hdGVzRnJvbVJlamVjdGlvbix0KX0sby5nZXROZXdMaWJyYXJ5Q29weT1uLmV4cG9ydHMsby5pcz1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIG99LG8uZnJvbU5vZGU9by5mcm9tQ2FsbGJhY2s9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IG8odyk7ZS5fY2FwdHVyZVN0YWNrVHJhY2UoKTt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjE/ISFPYmplY3QoYXJndW1lbnRzWzFdKS5tdWx0aUFyZ3M6ITEscj1BKHQpKE8oZSxuKSk7cmV0dXJuIHI9PT1SJiZlLl9yZWplY3RDYWxsYmFjayhyLmUsITApLGUuX2lzRmF0ZVNlYWxlZCgpfHxlLl9zZXRBc3luY0d1YXJhbnRlZWQoKSxlfSxvLmFsbD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGoodCkucHJvbWlzZSgpfSxvLmNhc3Q9ZnVuY3Rpb24odCl7dmFyIGU9ayh0KTtyZXR1cm4gZSBpbnN0YW5jZW9mIG98fChlPW5ldyBvKHcpLGUuX2NhcHR1cmVTdGFja1RyYWNlKCksZS5fc2V0RnVsZmlsbGVkKCksZS5fcmVqZWN0aW9uSGFuZGxlcjA9dCksZX0sby5yZXNvbHZlPW8uZnVsZmlsbGVkPW8uY2FzdCxvLnJlamVjdD1vLnJlamVjdGVkPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBvKHcpO3JldHVybiBlLl9jYXB0dXJlU3RhY2tUcmFjZSgpLGUuX3JlamVjdENhbGxiYWNrKHQsITApLGV9LG8uc2V0U2NoZWR1bGVyPWZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IGcoXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiK2QuY2xhc3NTdHJpbmcodCkpO3JldHVybiB5LnNldFNjaGVkdWxlcih0KX0sby5wcm90b3R5cGUuX3RoZW49ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgcz12b2lkIDAhPT1pLGE9cz9pOm5ldyBvKHcpLGM9dGhpcy5fdGFyZ2V0KCksbD1jLl9iaXRGaWVsZDtzfHwoYS5fcHJvcGFnYXRlRnJvbSh0aGlzLDMpLGEuX2NhcHR1cmVTdGFja1RyYWNlKCksdm9pZCAwPT09ciYmMCE9PSgyMDk3MTUyJnRoaXMuX2JpdEZpZWxkKSYmKHI9MCE9PSg1MDM5NzE4NCZsKT90aGlzLl9ib3VuZFZhbHVlKCk6Yz09PXRoaXM/dm9pZCAwOnRoaXMuX2JvdW5kVG8pLHRoaXMuX2ZpcmVFdmVudChcInByb21pc2VDaGFpbmVkXCIsdGhpcyxhKSk7dmFyIGY9dSgpO2lmKDAhPT0oNTAzOTcxODQmbCkpe3ZhciBwLGgsXz1jLl9zZXR0bGVQcm9taXNlQ3R4OzAhPT0oMzM1NTQ0MzImbCk/KGg9Yy5fcmVqZWN0aW9uSGFuZGxlcjAscD10KTowIT09KDE2Nzc3MjE2JmwpPyhoPWMuX2Z1bGZpbGxtZW50SGFuZGxlcjAscD1lLGMuX3Vuc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQoKSk6KF89Yy5fc2V0dGxlUHJvbWlzZUxhdGVDYW5jZWxsYXRpb25PYnNlcnZlcixoPW5ldyBiKFwibGF0ZSBjYW5jZWxsYXRpb24gb2JzZXJ2ZXJcIiksYy5fYXR0YWNoRXh0cmFUcmFjZShoKSxwPWUpLHkuaW52b2tlKF8sYyx7aGFuZGxlcjpudWxsPT09Zj9wOlwiZnVuY3Rpb25cIj09dHlwZW9mIHAmJmQuZG9tYWluQmluZChmLHApLHByb21pc2U6YSxyZWNlaXZlcjpyLHZhbHVlOmh9KX1lbHNlIGMuX2FkZENhbGxiYWNrcyh0LGUsYSxyLGYpO3JldHVybiBhfSxvLnByb3RvdHlwZS5fbGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIDY1NTM1JnRoaXMuX2JpdEZpZWxkfSxvLnByb3RvdHlwZS5faXNGYXRlU2VhbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIDAhPT0oMTE3NTA2MDQ4JnRoaXMuX2JpdEZpZWxkKX0sby5wcm90b3R5cGUuX2lzRm9sbG93aW5nPWZ1bmN0aW9uKCl7cmV0dXJuIDY3MTA4ODY0PT09KDY3MTA4ODY0JnRoaXMuX2JpdEZpZWxkKX0sby5wcm90b3R5cGUuX3NldExlbmd0aD1mdW5jdGlvbih0KXt0aGlzLl9iaXRGaWVsZD0tNjU1MzYmdGhpcy5fYml0RmllbGR8NjU1MzUmdH0sby5wcm90b3R5cGUuX3NldEZ1bGZpbGxlZD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPTMzNTU0NDMyfHRoaXMuX2JpdEZpZWxkLHRoaXMuX2ZpcmVFdmVudChcInByb21pc2VGdWxmaWxsZWRcIix0aGlzKX0sby5wcm90b3R5cGUuX3NldFJlamVjdGVkPWZ1bmN0aW9uKCl7dGhpcy5fYml0RmllbGQ9MTY3NzcyMTZ8dGhpcy5fYml0RmllbGQsdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZVJlamVjdGVkXCIsdGhpcyl9LG8ucHJvdG90eXBlLl9zZXRGb2xsb3dpbmc9ZnVuY3Rpb24oKXt0aGlzLl9iaXRGaWVsZD02NzEwODg2NHx0aGlzLl9iaXRGaWVsZCx0aGlzLl9maXJlRXZlbnQoXCJwcm9taXNlUmVzb2x2ZWRcIix0aGlzKX0sby5wcm90b3R5cGUuX3NldElzRmluYWw9ZnVuY3Rpb24oKXt0aGlzLl9iaXRGaWVsZD00MTk0MzA0fHRoaXMuX2JpdEZpZWxkfSxvLnByb3RvdHlwZS5faXNGaW5hbD1mdW5jdGlvbigpe3JldHVybig0MTk0MzA0JnRoaXMuX2JpdEZpZWxkKT4wfSxvLnByb3RvdHlwZS5fdW5zZXRDYW5jZWxsZWQ9ZnVuY3Rpb24oKXt0aGlzLl9iaXRGaWVsZD0tNjU1MzcmdGhpcy5fYml0RmllbGR9LG8ucHJvdG90eXBlLl9zZXRDYW5jZWxsZWQ9ZnVuY3Rpb24oKXt0aGlzLl9iaXRGaWVsZD02NTUzNnx0aGlzLl9iaXRGaWVsZCx0aGlzLl9maXJlRXZlbnQoXCJwcm9taXNlQ2FuY2VsbGVkXCIsdGhpcyl9LG8ucHJvdG90eXBlLl9zZXRXaWxsQmVDYW5jZWxsZWQ9ZnVuY3Rpb24oKXt0aGlzLl9iaXRGaWVsZD04Mzg4NjA4fHRoaXMuX2JpdEZpZWxkfSxvLnByb3RvdHlwZS5fc2V0QXN5bmNHdWFyYW50ZWVkPWZ1bmN0aW9uKCl7eS5oYXNDdXN0b21TY2hlZHVsZXIoKXx8KHRoaXMuX2JpdEZpZWxkPTEzNDIxNzcyOHx0aGlzLl9iaXRGaWVsZCl9LG8ucHJvdG90eXBlLl9yZWNlaXZlckF0PWZ1bmN0aW9uKHQpe3ZhciBlPTA9PT10P3RoaXMuX3JlY2VpdmVyMDp0aGlzWzQqdC00KzNdO2lmKGUhPT1oKXJldHVybiB2b2lkIDA9PT1lJiZ0aGlzLl9pc0JvdW5kKCk/dGhpcy5fYm91bmRWYWx1ZSgpOmV9LG8ucHJvdG90eXBlLl9wcm9taXNlQXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbNCp0LTQrMl19LG8ucHJvdG90eXBlLl9mdWxmaWxsbWVudEhhbmRsZXJBdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpc1s0KnQtNCswXX0sby5wcm90b3R5cGUuX3JlamVjdGlvbkhhbmRsZXJBdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpc1s0KnQtNCsxXX0sby5wcm90b3R5cGUuX2JvdW5kVmFsdWU9ZnVuY3Rpb24oKXt9LG8ucHJvdG90eXBlLl9taWdyYXRlQ2FsbGJhY2swPWZ1bmN0aW9uKHQpe3ZhciBlPSh0Ll9iaXRGaWVsZCx0Ll9mdWxmaWxsbWVudEhhbmRsZXIwKSxuPXQuX3JlamVjdGlvbkhhbmRsZXIwLHI9dC5fcHJvbWlzZTAsaT10Ll9yZWNlaXZlckF0KDApO3ZvaWQgMD09PWkmJihpPWgpLHRoaXMuX2FkZENhbGxiYWNrcyhlLG4scixpLG51bGwpfSxvLnByb3RvdHlwZS5fbWlncmF0ZUNhbGxiYWNrQXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10Ll9mdWxmaWxsbWVudEhhbmRsZXJBdChlKSxyPXQuX3JlamVjdGlvbkhhbmRsZXJBdChlKSxpPXQuX3Byb21pc2VBdChlKSxvPXQuX3JlY2VpdmVyQXQoZSk7dm9pZCAwPT09byYmKG89aCksdGhpcy5fYWRkQ2FsbGJhY2tzKG4scixpLG8sbnVsbCl9LG8ucHJvdG90eXBlLl9hZGRDYWxsYmFja3M9ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbz10aGlzLl9sZW5ndGgoKTtpZihvPj02NTUzMSYmKG89MCx0aGlzLl9zZXRMZW5ndGgoMCkpLDA9PT1vKXRoaXMuX3Byb21pc2UwPW4sdGhpcy5fcmVjZWl2ZXIwPXIsXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlcjA9bnVsbD09PWk/dDpkLmRvbWFpbkJpbmQoaSx0KSksXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwPW51bGw9PT1pP2U6ZC5kb21haW5CaW5kKGksZSkpO2Vsc2V7dmFyIHM9NCpvLTQ7dGhpc1tzKzJdPW4sdGhpc1tzKzNdPXIsXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKHRoaXNbcyswXT1udWxsPT09aT90OmQuZG9tYWluQmluZChpLHQpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYodGhpc1tzKzFdPW51bGw9PT1pP2U6ZC5kb21haW5CaW5kKGksZSkpfXJldHVybiB0aGlzLl9zZXRMZW5ndGgobysxKSxvfSxvLnByb3RvdHlwZS5fcHJveHk9ZnVuY3Rpb24odCxlKXt0aGlzLl9hZGRDYWxsYmFja3Modm9pZCAwLHZvaWQgMCxlLHQsbnVsbCl9LG8ucHJvdG90eXBlLl9yZXNvbHZlQ2FsbGJhY2s9ZnVuY3Rpb24odCxlKXtpZigwPT09KDExNzUwNjA0OCZ0aGlzLl9iaXRGaWVsZCkpe2lmKHQ9PT10aGlzKXJldHVybiB0aGlzLl9yZWplY3RDYWxsYmFjayhsKCksITEpO3ZhciBuPWsodCx0aGlzKTtpZighKG4gaW5zdGFuY2VvZiBvKSlyZXR1cm4gdGhpcy5fZnVsZmlsbCh0KTtlJiZ0aGlzLl9wcm9wYWdhdGVGcm9tKG4sMik7dmFyIHI9bi5fdGFyZ2V0KCk7aWYocj09PXRoaXMpcmV0dXJuIHZvaWQgdGhpcy5fcmVqZWN0KGwoKSk7dmFyIGk9ci5fYml0RmllbGQ7aWYoMD09PSg1MDM5NzE4NCZpKSl7dmFyIHM9dGhpcy5fbGVuZ3RoKCk7cz4wJiZyLl9taWdyYXRlQ2FsbGJhY2swKHRoaXMpO2Zvcih2YXIgYT0xO3M+YTsrK2Epci5fbWlncmF0ZUNhbGxiYWNrQXQodGhpcyxhKTt0aGlzLl9zZXRGb2xsb3dpbmcoKSx0aGlzLl9zZXRMZW5ndGgoMCksdGhpcy5fc2V0Rm9sbG93ZWUocil9ZWxzZSBpZigwIT09KDMzNTU0NDMyJmkpKXRoaXMuX2Z1bGZpbGwoci5fdmFsdWUoKSk7ZWxzZSBpZigwIT09KDE2Nzc3MjE2JmkpKXRoaXMuX3JlamVjdChyLl9yZWFzb24oKSk7ZWxzZXt2YXIgYz1uZXcgYihcImxhdGUgY2FuY2VsbGF0aW9uIG9ic2VydmVyXCIpO3IuX2F0dGFjaEV4dHJhVHJhY2UoYyksdGhpcy5fcmVqZWN0KGMpfX19LG8ucHJvdG90eXBlLl9yZWplY3RDYWxsYmFjaz1mdW5jdGlvbih0LGUsbil7dmFyIHI9ZC5lbnN1cmVFcnJvck9iamVjdCh0KSxpPXI9PT10O2lmKCFpJiYhbiYmVC53YXJuaW5ncygpKXt2YXIgbz1cImEgcHJvbWlzZSB3YXMgcmVqZWN0ZWQgd2l0aCBhIG5vbi1lcnJvcjogXCIrZC5jbGFzc1N0cmluZyh0KTt0aGlzLl93YXJuKG8sITApfXRoaXMuX2F0dGFjaEV4dHJhVHJhY2UocixlP2k6ITEpLHRoaXMuX3JlamVjdCh0KX0sby5wcm90b3R5cGUuX3Jlc29sdmVGcm9tRXhlY3V0b3I9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLl9jYXB0dXJlU3RhY2tUcmFjZSgpLHRoaXMuX3B1c2hDb250ZXh0KCk7dmFyIG49ITAscj10aGlzLl9leGVjdXRlKHQsZnVuY3Rpb24odCl7ZS5fcmVzb2x2ZUNhbGxiYWNrKHQpfSxmdW5jdGlvbih0KXtlLl9yZWplY3RDYWxsYmFjayh0LG4pfSk7bj0hMSx0aGlzLl9wb3BDb250ZXh0KCksdm9pZCAwIT09ciYmZS5fcmVqZWN0Q2FsbGJhY2sociwhMCl9LG8ucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlRnJvbUhhbmRsZXI9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9ci5fYml0RmllbGQ7aWYoMD09PSg2NTUzNiZpKSl7ci5fcHVzaENvbnRleHQoKTt2YXIgbztlPT09RT9uJiZcIm51bWJlclwiPT10eXBlb2Ygbi5sZW5ndGg/bz1BKHQpLmFwcGx5KHRoaXMuX2JvdW5kVmFsdWUoKSxuKToobz1SLG8uZT1uZXcgZyhcImNhbm5vdCAuc3ByZWFkKCkgYSBub24tYXJyYXk6IFwiK2QuY2xhc3NTdHJpbmcobikpKTpvPUEodCkuY2FsbChlLG4pO3ZhciBzPXIuX3BvcENvbnRleHQoKTtpPXIuX2JpdEZpZWxkLDA9PT0oNjU1MzYmaSkmJihvPT09Qz9yLl9yZWplY3Qobik6bz09PVI/ci5fcmVqZWN0Q2FsbGJhY2soby5lLCExKTooVC5jaGVja0ZvcmdvdHRlblJldHVybnMobyxzLFwiXCIscix0aGlzKSxyLl9yZXNvbHZlQ2FsbGJhY2sobykpKX19LG8ucHJvdG90eXBlLl90YXJnZXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpczt0Ll9pc0ZvbGxvd2luZygpOyl0PXQuX2ZvbGxvd2VlKCk7cmV0dXJuIHR9LG8ucHJvdG90eXBlLl9mb2xsb3dlZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWplY3Rpb25IYW5kbGVyMH0sby5wcm90b3R5cGUuX3NldEZvbGxvd2VlPWZ1bmN0aW9uKHQpe3RoaXMuX3JlamVjdGlvbkhhbmRsZXIwPXR9LG8ucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciBzPXQgaW5zdGFuY2VvZiBvLGE9dGhpcy5fYml0RmllbGQsYz0wIT09KDEzNDIxNzcyOCZhKTswIT09KDY1NTM2JmEpPyhzJiZ0Ll9pbnZva2VJbnRlcm5hbE9uQ2FuY2VsKCksbiBpbnN0YW5jZW9mIFMmJm4uaXNGaW5hbGx5SGFuZGxlcigpPyhuLmNhbmNlbFByb21pc2U9dCxBKGUpLmNhbGwobixpKT09PVImJnQuX3JlamVjdChSLmUpKTplPT09Zj90Ll9mdWxmaWxsKGYuY2FsbChuKSk6biBpbnN0YW5jZW9mIHI/bi5fcHJvbWlzZUNhbmNlbGxlZCh0KTpzfHx0IGluc3RhbmNlb2Ygaj90Ll9jYW5jZWwoKTpuLmNhbmNlbCgpKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBlP3M/KGMmJnQuX3NldEFzeW5jR3VhcmFudGVlZCgpLHRoaXMuX3NldHRsZVByb21pc2VGcm9tSGFuZGxlcihlLG4saSx0KSk6ZS5jYWxsKG4saSx0KTpuIGluc3RhbmNlb2Ygcj9uLl9pc1Jlc29sdmVkKCl8fCgwIT09KDMzNTU0NDMyJmEpP24uX3Byb21pc2VGdWxmaWxsZWQoaSx0KTpuLl9wcm9taXNlUmVqZWN0ZWQoaSx0KSk6cyYmKGMmJnQuX3NldEFzeW5jR3VhcmFudGVlZCgpLDAhPT0oMzM1NTQ0MzImYSk/dC5fZnVsZmlsbChpKTp0Ll9yZWplY3QoaSkpfSxvLnByb3RvdHlwZS5fc2V0dGxlUHJvbWlzZUxhdGVDYW5jZWxsYXRpb25PYnNlcnZlcj1mdW5jdGlvbih0KXt2YXIgZT10LmhhbmRsZXIsbj10LnByb21pc2Uscj10LnJlY2VpdmVyLGk9dC52YWx1ZTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlP24gaW5zdGFuY2VvZiBvP3RoaXMuX3NldHRsZVByb21pc2VGcm9tSGFuZGxlcihlLHIsaSxuKTplLmNhbGwocixpLG4pOm4gaW5zdGFuY2VvZiBvJiZuLl9yZWplY3QoaSl9LG8ucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlQ3R4PWZ1bmN0aW9uKHQpe3RoaXMuX3NldHRsZVByb21pc2UodC5wcm9taXNlLHQuaGFuZGxlcix0LnJlY2VpdmVyLHQudmFsdWUpfSxvLnByb3RvdHlwZS5fc2V0dGxlUHJvbWlzZTA9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuX3Byb21pc2UwLGk9dGhpcy5fcmVjZWl2ZXJBdCgwKTt0aGlzLl9wcm9taXNlMD12b2lkIDAsdGhpcy5fcmVjZWl2ZXIwPXZvaWQgMCx0aGlzLl9zZXR0bGVQcm9taXNlKHIsdCxpLGUpfSxvLnByb3RvdHlwZS5fY2xlYXJDYWxsYmFja0RhdGFBdEluZGV4PWZ1bmN0aW9uKHQpe3ZhciBlPTQqdC00O3RoaXNbZSsyXT10aGlzW2UrM109dGhpc1tlKzBdPXRoaXNbZSsxXT12b2lkIDB9LG8ucHJvdG90eXBlLl9mdWxmaWxsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2JpdEZpZWxkO2lmKCEoKDExNzUwNjA0OCZlKT4+PjE2KSl7aWYodD09PXRoaXMpe3ZhciBuPWwoKTtyZXR1cm4gdGhpcy5fYXR0YWNoRXh0cmFUcmFjZShuKSx0aGlzLl9yZWplY3Qobil9dGhpcy5fc2V0RnVsZmlsbGVkKCksdGhpcy5fcmVqZWN0aW9uSGFuZGxlcjA9dCwoNjU1MzUmZSk+MCYmKDAhPT0oMTM0MjE3NzI4JmUpP3RoaXMuX3NldHRsZVByb21pc2VzKCk6eS5zZXR0bGVQcm9taXNlcyh0aGlzKSl9fSxvLnByb3RvdHlwZS5fcmVqZWN0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2JpdEZpZWxkO2lmKCEoKDExNzUwNjA0OCZlKT4+PjE2KSlyZXR1cm4gdGhpcy5fc2V0UmVqZWN0ZWQoKSx0aGlzLl9mdWxmaWxsbWVudEhhbmRsZXIwPXQsdGhpcy5faXNGaW5hbCgpP3kuZmF0YWxFcnJvcih0LGQuaXNOb2RlKTp2b2lkKCg2NTUzNSZlKT4wP3kuc2V0dGxlUHJvbWlzZXModGhpcyk6dGhpcy5fZW5zdXJlUG9zc2libGVSZWplY3Rpb25IYW5kbGVkKCkpfSxvLnByb3RvdHlwZS5fZnVsZmlsbFByb21pc2VzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTE7dD5uO24rKyl7dmFyIHI9dGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyQXQobiksaT10aGlzLl9wcm9taXNlQXQobiksbz10aGlzLl9yZWNlaXZlckF0KG4pO3RoaXMuX2NsZWFyQ2FsbGJhY2tEYXRhQXRJbmRleChuKSx0aGlzLl9zZXR0bGVQcm9taXNlKGkscixvLGUpfX0sby5wcm90b3R5cGUuX3JlamVjdFByb21pc2VzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTE7dD5uO24rKyl7dmFyIHI9dGhpcy5fcmVqZWN0aW9uSGFuZGxlckF0KG4pLGk9dGhpcy5fcHJvbWlzZUF0KG4pLG89dGhpcy5fcmVjZWl2ZXJBdChuKTt0aGlzLl9jbGVhckNhbGxiYWNrRGF0YUF0SW5kZXgobiksdGhpcy5fc2V0dGxlUHJvbWlzZShpLHIsbyxlKX19LG8ucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2JpdEZpZWxkLGU9NjU1MzUmdDtpZihlPjApe2lmKDAhPT0oMTY4NDI3NTImdCkpe3ZhciBuPXRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlcjA7dGhpcy5fc2V0dGxlUHJvbWlzZTAodGhpcy5fcmVqZWN0aW9uSGFuZGxlcjAsbix0KSx0aGlzLl9yZWplY3RQcm9taXNlcyhlLG4pfWVsc2V7dmFyIHI9dGhpcy5fcmVqZWN0aW9uSGFuZGxlcjA7dGhpcy5fc2V0dGxlUHJvbWlzZTAodGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyMCxyLHQpLHRoaXMuX2Z1bGZpbGxQcm9taXNlcyhlLHIpfXRoaXMuX3NldExlbmd0aCgwKX10aGlzLl9jbGVhckNhbmNlbGxhdGlvbkRhdGEoKX0sby5wcm90b3R5cGUuX3NldHRsZWRWYWx1ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2JpdEZpZWxkO3JldHVybiAwIT09KDMzNTU0NDMyJnQpP3RoaXMuX3JlamVjdGlvbkhhbmRsZXIwOjAhPT0oMTY3NzcyMTYmdCk/dGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyMDp2b2lkIDB9LG8uZGVmZXI9by5wZW5kaW5nPWZ1bmN0aW9uKCl7VC5kZXByZWNhdGVkKFwiUHJvbWlzZS5kZWZlclwiLFwibmV3IFByb21pc2VcIik7dmFyIHQ9bmV3IG8odyk7cmV0dXJue3Byb21pc2U6dCxyZXNvbHZlOnMscmVqZWN0OmF9fSxkLm5vdEVudW1lcmFibGVQcm9wKG8sXCJfbWFrZVNlbGZSZXNvbHV0aW9uRXJyb3JcIixsKSx0KFwiLi9tZXRob2RcIikobyx3LGsscCxUKSx0KFwiLi9iaW5kXCIpKG8sdyxrLFQpLHQoXCIuL2NhbmNlbFwiKShvLGoscCxUKSx0KFwiLi9kaXJlY3RfcmVzb2x2ZVwiKShvKSx0KFwiLi9zeW5jaHJvbm91c19pbnNwZWN0aW9uXCIpKG8pLHQoXCIuL2pvaW5cIikobyxqLGssdyx5LHUpLG8uUHJvbWlzZT1vLG8udmVyc2lvbj1cIjMuNC42XCIsdChcIi4vbWFwLmpzXCIpKG8saixwLGssdyxUKSx0KFwiLi9jYWxsX2dldC5qc1wiKShvKSx0KFwiLi91c2luZy5qc1wiKShvLHAsayxGLHcsVCksdChcIi4vdGltZXJzLmpzXCIpKG8sdyxUKSx0KFwiLi9nZW5lcmF0b3JzLmpzXCIpKG8scCx3LGsscixUKSx0KFwiLi9ub2RlaWZ5LmpzXCIpKG8pLHQoXCIuL3Byb21pc2lmeS5qc1wiKShvLHcpLHQoXCIuL3Byb3BzLmpzXCIpKG8saixrLHApLHQoXCIuL3JhY2UuanNcIikobyx3LGsscCksdChcIi4vcmVkdWNlLmpzXCIpKG8saixwLGssdyxUKSx0KFwiLi9zZXR0bGUuanNcIikobyxqLFQpLHQoXCIuL3NvbWUuanNcIikobyxqLHApLHQoXCIuL2ZpbHRlci5qc1wiKShvLHcpLHQoXCIuL2VhY2guanNcIikobyx3KSx0KFwiLi9hbnkuanNcIikobyksZC50b0Zhc3RQcm9wZXJ0aWVzKG8pLGQudG9GYXN0UHJvcGVydGllcyhvLnByb3RvdHlwZSksYyh7YToxfSksYyh7YjoyfSksYyh7YzozfSksYygxKSxjKGZ1bmN0aW9uKCl7fSksYyh2b2lkIDApLGMoITEpLGMobmV3IG8odykpLFQuc2V0Qm91bmRzKHYuZmlyc3RMaW5lRXJyb3IsZC5sYXN0TGluZUVycm9yKSxvfX0se1wiLi9hbnkuanNcIjoxLFwiLi9hc3luY1wiOjIsXCIuL2JpbmRcIjozLFwiLi9jYWxsX2dldC5qc1wiOjUsXCIuL2NhbmNlbFwiOjYsXCIuL2NhdGNoX2ZpbHRlclwiOjcsXCIuL2NvbnRleHRcIjo4LFwiLi9kZWJ1Z2dhYmlsaXR5XCI6OSxcIi4vZGlyZWN0X3Jlc29sdmVcIjoxMCxcIi4vZWFjaC5qc1wiOjExLFwiLi9lcnJvcnNcIjoxMixcIi4vZXM1XCI6MTMsXCIuL2ZpbHRlci5qc1wiOjE0LFwiLi9maW5hbGx5XCI6MTUsXCIuL2dlbmVyYXRvcnMuanNcIjoxNixcIi4vam9pblwiOjE3LFwiLi9tYXAuanNcIjoxOCxcIi4vbWV0aG9kXCI6MTksXCIuL25vZGViYWNrXCI6MjAsXCIuL25vZGVpZnkuanNcIjoyMSxcIi4vcHJvbWlzZV9hcnJheVwiOjIzLFwiLi9wcm9taXNpZnkuanNcIjoyNCxcIi4vcHJvcHMuanNcIjoyNSxcIi4vcmFjZS5qc1wiOjI3LFwiLi9yZWR1Y2UuanNcIjoyOCxcIi4vc2V0dGxlLmpzXCI6MzAsXCIuL3NvbWUuanNcIjozMSxcIi4vc3luY2hyb25vdXNfaW5zcGVjdGlvblwiOjMyLFwiLi90aGVuYWJsZXNcIjozMyxcIi4vdGltZXJzLmpzXCI6MzQsXCIuL3VzaW5nLmpzXCI6MzUsXCIuL3V0aWxcIjozNn1dLDIzOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyLGksbyl7ZnVuY3Rpb24gcyh0KXtzd2l0Y2godCl7Y2FzZS0yOnJldHVybltdO2Nhc2UtMzpyZXR1cm57fX19ZnVuY3Rpb24gYSh0KXt2YXIgcj10aGlzLl9wcm9taXNlPW5ldyBlKG4pO3QgaW5zdGFuY2VvZiBlJiZyLl9wcm9wYWdhdGVGcm9tKHQsMyksci5fc2V0T25DYW5jZWwodGhpcyksdGhpcy5fdmFsdWVzPXQsdGhpcy5fbGVuZ3RoPTAsdGhpcy5fdG90YWxSZXNvbHZlZD0wLHRoaXMuX2luaXQodm9pZCAwLC0yKX12YXIgYz10KFwiLi91dGlsXCIpO2MuaXNBcnJheTtyZXR1cm4gYy5pbmhlcml0cyhhLG8pLGEucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sZW5ndGh9LGEucHJvdG90eXBlLnByb21pc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvbWlzZX0sYS5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24gdSh0LG4pe3ZhciBvPXIodGhpcy5fdmFsdWVzLHRoaXMuX3Byb21pc2UpO2lmKG8gaW5zdGFuY2VvZiBlKXtvPW8uX3RhcmdldCgpO3ZhciBhPW8uX2JpdEZpZWxkO2lmKHRoaXMuX3ZhbHVlcz1vLDA9PT0oNTAzOTcxODQmYSkpcmV0dXJuIHRoaXMuX3Byb21pc2UuX3NldEFzeW5jR3VhcmFudGVlZCgpLG8uX3RoZW4odSx0aGlzLl9yZWplY3Qsdm9pZCAwLHRoaXMsbik7aWYoMD09PSgzMzU1NDQzMiZhKSlyZXR1cm4gMCE9PSgxNjc3NzIxNiZhKT90aGlzLl9yZWplY3Qoby5fcmVhc29uKCkpOnRoaXMuX2NhbmNlbCgpO289by5fdmFsdWUoKX1pZihvPWMuYXNBcnJheShvKSxudWxsPT09byl7dmFyIGw9aShcImV4cGVjdGluZyBhbiBhcnJheSBvciBhbiBpdGVyYWJsZSBvYmplY3QgYnV0IGdvdCBcIitjLmNsYXNzU3RyaW5nKG8pKS5yZWFzb24oKTtyZXR1cm4gdm9pZCB0aGlzLl9wcm9taXNlLl9yZWplY3RDYWxsYmFjayhsLCExKX1yZXR1cm4gMD09PW8ubGVuZ3RoP3ZvaWQoLTU9PT1uP3RoaXMuX3Jlc29sdmVFbXB0eUFycmF5KCk6dGhpcy5fcmVzb2x2ZShzKG4pKSk6dm9pZCB0aGlzLl9pdGVyYXRlKG8pfSxhLnByb3RvdHlwZS5faXRlcmF0ZT1mdW5jdGlvbih0KXt2YXIgbj10aGlzLmdldEFjdHVhbExlbmd0aCh0Lmxlbmd0aCk7dGhpcy5fbGVuZ3RoPW4sdGhpcy5fdmFsdWVzPXRoaXMuc2hvdWxkQ29weVZhbHVlcygpP25ldyBBcnJheShuKTp0aGlzLl92YWx1ZXM7Zm9yKHZhciBpPXRoaXMuX3Byb21pc2Usbz0hMSxzPW51bGwsYT0wO24+YTsrK2Epe3ZhciBjPXIodFthXSxpKTtjIGluc3RhbmNlb2YgZT8oYz1jLl90YXJnZXQoKSxzPWMuX2JpdEZpZWxkKTpzPW51bGwsbz9udWxsIT09cyYmYy5zdXBwcmVzc1VuaGFuZGxlZFJlamVjdGlvbnMoKTpudWxsIT09cz8wPT09KDUwMzk3MTg0JnMpPyhjLl9wcm94eSh0aGlzLGEpLHRoaXMuX3ZhbHVlc1thXT1jKTpvPTAhPT0oMzM1NTQ0MzImcyk/dGhpcy5fcHJvbWlzZUZ1bGZpbGxlZChjLl92YWx1ZSgpLGEpOjAhPT0oMTY3NzcyMTYmcyk/dGhpcy5fcHJvbWlzZVJlamVjdGVkKGMuX3JlYXNvbigpLGEpOnRoaXMuX3Byb21pc2VDYW5jZWxsZWQoYSk6bz10aGlzLl9wcm9taXNlRnVsZmlsbGVkKGMsYSl9b3x8aS5fc2V0QXN5bmNHdWFyYW50ZWVkKCl9LGEucHJvdG90eXBlLl9pc1Jlc29sdmVkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLl92YWx1ZXN9LGEucHJvdG90eXBlLl9yZXNvbHZlPWZ1bmN0aW9uKHQpe3RoaXMuX3ZhbHVlcz1udWxsLHRoaXMuX3Byb21pc2UuX2Z1bGZpbGwodCl9LGEucHJvdG90eXBlLl9jYW5jZWw9ZnVuY3Rpb24oKXshdGhpcy5faXNSZXNvbHZlZCgpJiZ0aGlzLl9wcm9taXNlLl9pc0NhbmNlbGxhYmxlKCkmJih0aGlzLl92YWx1ZXM9bnVsbCx0aGlzLl9wcm9taXNlLl9jYW5jZWwoKSl9LGEucHJvdG90eXBlLl9yZWplY3Q9ZnVuY3Rpb24odCl7dGhpcy5fdmFsdWVzPW51bGwsdGhpcy5fcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2sodCwhMSl9LGEucHJvdG90eXBlLl9wcm9taXNlRnVsZmlsbGVkPWZ1bmN0aW9uKHQsZSl7dGhpcy5fdmFsdWVzW2VdPXQ7dmFyIG49Kyt0aGlzLl90b3RhbFJlc29sdmVkO3JldHVybiBuPj10aGlzLl9sZW5ndGg/KHRoaXMuX3Jlc29sdmUodGhpcy5fdmFsdWVzKSwhMCk6ITF9LGEucHJvdG90eXBlLl9wcm9taXNlQ2FuY2VsbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhbmNlbCgpLCEwfSxhLnByb3RvdHlwZS5fcHJvbWlzZVJlamVjdGVkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl90b3RhbFJlc29sdmVkKyssdGhpcy5fcmVqZWN0KHQpLCEwfSxhLnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2lzUmVzb2x2ZWQoKSl7dmFyIHQ9dGhpcy5fdmFsdWVzO2lmKHRoaXMuX2NhbmNlbCgpLHQgaW5zdGFuY2VvZiBlKXQuY2FuY2VsKCk7ZWxzZSBmb3IodmFyIG49MDtuPHQubGVuZ3RoOysrbil0W25daW5zdGFuY2VvZiBlJiZ0W25dLmNhbmNlbCgpfX0sYS5wcm90b3R5cGUuc2hvdWxkQ29weVZhbHVlcz1mdW5jdGlvbigpe3JldHVybiEwfSxhLnByb3RvdHlwZS5nZXRBY3R1YWxMZW5ndGg9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGF9fSx7XCIuL3V0aWxcIjozNn1dLDI0OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gcih0KXtyZXR1cm4hRS50ZXN0KHQpfWZ1bmN0aW9uIGkodCl7dHJ5e3JldHVybiB0Ll9faXNQcm9taXNpZmllZF9fPT09ITB9Y2F0Y2goZSl7cmV0dXJuITF9fWZ1bmN0aW9uIG8odCxlLG4pe3ZhciByPWguZ2V0RGF0YVByb3BlcnR5T3JEZWZhdWx0KHQsZStuLGIpO3JldHVybiByP2kocik6ITF9ZnVuY3Rpb24gcyh0LGUsbil7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKz0yKXt2YXIgaT10W3JdO2lmKG4udGVzdChpKSlmb3IodmFyIG89aS5yZXBsYWNlKG4sXCJcIikscz0wO3M8dC5sZW5ndGg7cys9MilpZih0W3NdPT09byl0aHJvdyBuZXcgbShcIkNhbm5vdCBwcm9taXNpZnkgYW4gQVBJIHRoYXQgaGFzIG5vcm1hbCBtZXRob2RzIHdpdGggJyVzJy1zdWZmaXhcXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXCIucmVwbGFjZShcIiVzXCIsZSkpfX1mdW5jdGlvbiBhKHQsZSxuLHIpe2Zvcih2YXIgYT1oLmluaGVyaXRlZERhdGFLZXlzKHQpLGM9W10sdT0wO3U8YS5sZW5ndGg7Kyt1KXt2YXIgbD1hW3VdLGY9dFtsXSxwPXI9PT1DPyEwOkMobCxmLHQpO1wiZnVuY3Rpb25cIiE9dHlwZW9mIGZ8fGkoZil8fG8odCxsLGUpfHwhcihsLGYsdCxwKXx8Yy5wdXNoKGwsZil9cmV0dXJuIHMoYyxlLG4pLGN9ZnVuY3Rpb24gYyh0LHIsaSxvLHMsYSl7ZnVuY3Rpb24gYygpe3ZhciBpPXI7cj09PXAmJihpPXRoaXMpO3ZhciBvPW5ldyBlKG4pO28uX2NhcHR1cmVTdGFja1RyYWNlKCk7dmFyIHM9XCJzdHJpbmdcIj09dHlwZW9mIGwmJnRoaXMhPT11P3RoaXNbbF06dCxjPWQobyxhKTt0cnl7cy5hcHBseShpLF8oYXJndW1lbnRzLGMpKX1jYXRjaChmKXtvLl9yZWplY3RDYWxsYmFjayh2KGYpLCEwLCEwKX1yZXR1cm4gby5faXNGYXRlU2VhbGVkKCl8fG8uX3NldEFzeW5jR3VhcmFudGVlZCgpLG99dmFyIHU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSxsPXQ7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGwmJih0PW8pLGgubm90RW51bWVyYWJsZVByb3AoYyxcIl9faXNQcm9taXNpZmllZF9fXCIsITApLGN9ZnVuY3Rpb24gdSh0LGUsbixyLGkpe2Zvcih2YXIgbz1uZXcgUmVnRXhwKGsoZSkrXCIkXCIpLHM9YSh0LGUsbyxuKSxjPTAsdT1zLmxlbmd0aDt1PmM7Yys9Mil7dmFyIGw9c1tjXSxmPXNbYysxXSxkPWwrZTtpZihyPT09ail0W2RdPWoobCxwLGwsZixlLGkpO2Vsc2V7dmFyIF89cihmLGZ1bmN0aW9uKCl7cmV0dXJuIGoobCxwLGwsZixlLGkpfSk7aC5ub3RFbnVtZXJhYmxlUHJvcChfLFwiX19pc1Byb21pc2lmaWVkX19cIiwhMCksdFtkXT1ffX1yZXR1cm4gaC50b0Zhc3RQcm9wZXJ0aWVzKHQpLHR9ZnVuY3Rpb24gbCh0LGUsbil7cmV0dXJuIGoodCxlLHZvaWQgMCx0LG51bGwsbil9dmFyIGYscD17fSxoPXQoXCIuL3V0aWxcIiksZD10KFwiLi9ub2RlYmFja1wiKSxfPWgud2l0aEFwcGVuZGVkLHY9aC5tYXliZVdyYXBBc0Vycm9yLHk9aC5jYW5FdmFsdWF0ZSxtPXQoXCIuL2Vycm9yc1wiKS5UeXBlRXJyb3IsZz1cIkFzeW5jXCIsYj17X19pc1Byb21pc2lmaWVkX186ITB9LHc9W1wiYXJpdHlcIixcImxlbmd0aFwiLFwibmFtZVwiLFwiYXJndW1lbnRzXCIsXCJjYWxsZXJcIixcImNhbGxlZVwiLFwicHJvdG90eXBlXCIsXCJfX2lzUHJvbWlzaWZpZWRfX1wiXSxFPW5ldyBSZWdFeHAoXCJeKD86XCIrdy5qb2luKFwifFwiKStcIikkXCIpLEM9ZnVuY3Rpb24odCl7cmV0dXJuIGguaXNJZGVudGlmaWVyKHQpJiZcIl9cIiE9PXQuY2hhckF0KDApJiZcImNvbnN0cnVjdG9yXCIhPT10fSxrPWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoLyhbJF0pLyxcIlxcXFwkXCIpfSxqPXk/ZjpjO2UucHJvbWlzaWZ5PWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgbShcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIraC5jbGFzc1N0cmluZyh0KSk7aWYoaSh0KSlyZXR1cm4gdDtlPU9iamVjdChlKTt2YXIgbj12b2lkIDA9PT1lLmNvbnRleHQ/cDplLmNvbnRleHQsbz0hIWUubXVsdGlBcmdzLHM9bCh0LG4sbyk7cmV0dXJuIGguY29weURlc2NyaXB0b3JzKHQscyxyKSxzfSxlLnByb21pc2lmeUFsbD1mdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJlwib2JqZWN0XCIhPXR5cGVvZiB0KXRocm93IG5ldyBtKFwidGhlIHRhcmdldCBvZiBwcm9taXNpZnlBbGwgbXVzdCBiZSBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvblxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIik7ZT1PYmplY3QoZSk7dmFyIG49ISFlLm11bHRpQXJncyxyPWUuc3VmZml4O1wic3RyaW5nXCIhPXR5cGVvZiByJiYocj1nKTt2YXIgaT1lLmZpbHRlcjtcImZ1bmN0aW9uXCIhPXR5cGVvZiBpJiYoaT1DKTt2YXIgbz1lLnByb21pc2lmaWVyO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG8mJihvPWopLCFoLmlzSWRlbnRpZmllcihyKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInN1ZmZpeCBtdXN0IGJlIGEgdmFsaWQgaWRlbnRpZmllclxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIik7Zm9yKHZhciBzPWguaW5oZXJpdGVkRGF0YUtleXModCksYT0wO2E8cy5sZW5ndGg7KythKXt2YXIgYz10W3NbYV1dO1wiY29uc3RydWN0b3JcIiE9PXNbYV0mJmguaXNDbGFzcyhjKSYmKHUoYy5wcm90b3R5cGUscixpLG8sbiksdShjLHIsaSxvLG4pKX1yZXR1cm4gdSh0LHIsaSxvLG4pfX19LHtcIi4vZXJyb3JzXCI6MTIsXCIuL25vZGViYWNrXCI6MjAsXCIuL3V0aWxcIjozNn1dLDI1OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyLGkpe2Z1bmN0aW9uIG8odCl7dmFyIGUsbj0hMTtpZih2b2lkIDAhPT1hJiZ0IGluc3RhbmNlb2YgYSllPWYodCksbj0hMDtlbHNle3ZhciByPWwua2V5cyh0KSxpPXIubGVuZ3RoO2U9bmV3IEFycmF5KDIqaSk7Zm9yKHZhciBvPTA7aT5vOysrbyl7dmFyIHM9cltvXTtlW29dPXRbc10sZVtvK2ldPXN9fXRoaXMuY29uc3RydWN0b3IkKGUpLHRoaXMuX2lzTWFwPW4sdGhpcy5faW5pdCQodm9pZCAwLC0zKX1mdW5jdGlvbiBzKHQpe3ZhciBuLHM9cih0KTtyZXR1cm4gdShzKT8obj1zIGluc3RhbmNlb2YgZT9zLl90aGVuKGUucHJvcHMsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwKTpuZXcgbyhzKS5wcm9taXNlKCkscyBpbnN0YW5jZW9mIGUmJm4uX3Byb3BhZ2F0ZUZyb20ocywyKSxuKTppKFwiY2Fubm90IGF3YWl0IHByb3BlcnRpZXMgb2YgYSBub24tb2JqZWN0XFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKX12YXIgYSxjPXQoXCIuL3V0aWxcIiksdT1jLmlzT2JqZWN0LGw9dChcIi4vZXM1XCIpO1wiZnVuY3Rpb25cIj09dHlwZW9mIE1hcCYmKGE9TWFwKTt2YXIgZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxyKXt0aGlzW2VdPXQsdGhpc1tlK25dPXIsZSsrfXZhciBlPTAsbj0wO3JldHVybiBmdW5jdGlvbihyKXtuPXIuc2l6ZSxlPTA7dmFyIGk9bmV3IEFycmF5KDIqci5zaXplKTtyZXR1cm4gci5mb3JFYWNoKHQsaSksaX19KCkscD1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IGEsbj10Lmxlbmd0aC8yfDAscj0wO24+cjsrK3Ipe3ZhciBpPXRbbityXSxvPXRbcl07ZS5zZXQoaSxvKX1yZXR1cm4gZX07Yy5pbmhlcml0cyhvLG4pLG8ucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKCl7fSxvLnByb3RvdHlwZS5fcHJvbWlzZUZ1bGZpbGxlZD1mdW5jdGlvbih0LGUpe3RoaXMuX3ZhbHVlc1tlXT10O3ZhciBuPSsrdGhpcy5fdG90YWxSZXNvbHZlZDtpZihuPj10aGlzLl9sZW5ndGgpe3ZhciByO2lmKHRoaXMuX2lzTWFwKXI9cCh0aGlzLl92YWx1ZXMpO2Vsc2V7cj17fTtmb3IodmFyIGk9dGhpcy5sZW5ndGgoKSxvPTAscz10aGlzLmxlbmd0aCgpO3M+bzsrK28pclt0aGlzLl92YWx1ZXNbbytpXV09dGhpcy5fdmFsdWVzW29dfXJldHVybiB0aGlzLl9yZXNvbHZlKHIpLCEwfXJldHVybiExfSxvLnByb3RvdHlwZS5zaG91bGRDb3B5VmFsdWVzPWZ1bmN0aW9uKCl7cmV0dXJuITF9LG8ucHJvdG90eXBlLmdldEFjdHVhbExlbmd0aD1mdW5jdGlvbih0KXtyZXR1cm4gdD4+MX0sZS5wcm90b3R5cGUucHJvcHM9ZnVuY3Rpb24oKXtyZXR1cm4gcyh0aGlzKX0sZS5wcm9wcz1mdW5jdGlvbih0KXtyZXR1cm4gcyh0KX19fSx7XCIuL2VzNVwiOjEzLFwiLi91dGlsXCI6MzZ9XSwyNjpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlLG4scixpKXtmb3IodmFyIG89MDtpPm87KytvKW5bbytyXT10W28rZV0sdFtvK2VdPXZvaWQgMH1mdW5jdGlvbiBpKHQpe3RoaXMuX2NhcGFjaXR5PXQsdGhpcy5fbGVuZ3RoPTAsdGhpcy5fZnJvbnQ9MH1pLnByb3RvdHlwZS5fd2lsbEJlT3ZlckNhcGFjaXR5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jYXBhY2l0eTx0fSxpLnByb3RvdHlwZS5fcHVzaE9uZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmxlbmd0aCgpO3RoaXMuX2NoZWNrQ2FwYWNpdHkoZSsxKTt2YXIgbj10aGlzLl9mcm9udCtlJnRoaXMuX2NhcGFjaXR5LTE7dGhpc1tuXT10LHRoaXMuX2xlbmd0aD1lKzF9LGkucHJvdG90eXBlLl91bnNoaWZ0T25lPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2NhcGFjaXR5O3RoaXMuX2NoZWNrQ2FwYWNpdHkodGhpcy5sZW5ndGgoKSsxKTt2YXIgbj10aGlzLl9mcm9udCxyPShuLTEmZS0xXmUpLWU7dGhpc1tyXT10LHRoaXMuX2Zyb250PXIsdGhpcy5fbGVuZ3RoPXRoaXMubGVuZ3RoKCkrMX0saS5wcm90b3R5cGUudW5zaGlmdD1mdW5jdGlvbih0LGUsbil7dGhpcy5fdW5zaGlmdE9uZShuKSx0aGlzLl91bnNoaWZ0T25lKGUpLHRoaXMuX3Vuc2hpZnRPbmUodCl9LGkucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMubGVuZ3RoKCkrMztpZih0aGlzLl93aWxsQmVPdmVyQ2FwYWNpdHkocikpcmV0dXJuIHRoaXMuX3B1c2hPbmUodCksdGhpcy5fcHVzaE9uZShlKSx2b2lkIHRoaXMuX3B1c2hPbmUobik7dmFyIGk9dGhpcy5fZnJvbnQrci0zO3RoaXMuX2NoZWNrQ2FwYWNpdHkocik7dmFyIG89dGhpcy5fY2FwYWNpdHktMTt0aGlzW2krMCZvXT10LHRoaXNbaSsxJm9dPWUsdGhpc1tpKzImb109bix0aGlzLl9sZW5ndGg9cn0saS5wcm90b3R5cGUuc2hpZnQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9mcm9udCxlPXRoaXNbdF07cmV0dXJuIHRoaXNbdF09dm9pZCAwLHRoaXMuX2Zyb250PXQrMSZ0aGlzLl9jYXBhY2l0eS0xLHRoaXMuX2xlbmd0aC0tLGV9LGkucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sZW5ndGh9LGkucHJvdG90eXBlLl9jaGVja0NhcGFjaXR5PWZ1bmN0aW9uKHQpe3RoaXMuX2NhcGFjaXR5PHQmJnRoaXMuX3Jlc2l6ZVRvKHRoaXMuX2NhcGFjaXR5PDwxKX0saS5wcm90b3R5cGUuX3Jlc2l6ZVRvPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2NhcGFjaXR5O3RoaXMuX2NhcGFjaXR5PXQ7dmFyIG49dGhpcy5fZnJvbnQsaT10aGlzLl9sZW5ndGgsbz1uK2kmZS0xO3IodGhpcywwLHRoaXMsZSxvKX0sZS5leHBvcnRzPWl9LHt9XSwyNzpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlLG4scixpKXtmdW5jdGlvbiBvKHQsbyl7dmFyIGM9cih0KTtpZihjIGluc3RhbmNlb2YgZSlyZXR1cm4gYShjKTtpZih0PXMuYXNBcnJheSh0KSxudWxsPT09dClyZXR1cm4gaShcImV4cGVjdGluZyBhbiBhcnJheSBvciBhbiBpdGVyYWJsZSBvYmplY3QgYnV0IGdvdCBcIitzLmNsYXNzU3RyaW5nKHQpKTt2YXIgdT1uZXcgZShuKTt2b2lkIDAhPT1vJiZ1Ll9wcm9wYWdhdGVGcm9tKG8sMyk7Zm9yKHZhciBsPXUuX2Z1bGZpbGwsZj11Ll9yZWplY3QscD0wLGg9dC5sZW5ndGg7aD5wOysrcCl7dmFyIGQ9dFtwXTsodm9pZCAwIT09ZHx8cCBpbiB0KSYmZS5jYXN0KGQpLl90aGVuKGwsZix2b2lkIDAsdSxudWxsKX1yZXR1cm4gdX12YXIgcz10KFwiLi91dGlsXCIpLGE9ZnVuY3Rpb24odCl7cmV0dXJuIHQudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gbyhlLHQpfSl9O2UucmFjZT1mdW5jdGlvbih0KXtyZXR1cm4gbyh0LHZvaWQgMCl9LGUucHJvdG90eXBlLnJhY2U9ZnVuY3Rpb24oKXtyZXR1cm4gbyh0aGlzLHZvaWQgMCl9fX0se1wiLi91dGlsXCI6MzZ9XSwyODpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlLG4scixpLG8scyl7ZnVuY3Rpb24gYSh0LG4scixpKXt0aGlzLmNvbnN0cnVjdG9yJCh0KTt2YXIgcz1wKCk7dGhpcy5fZm49bnVsbD09PXM/bjpoLmRvbWFpbkJpbmQocyxuKSx2b2lkIDAhPT1yJiYocj1lLnJlc29sdmUociksci5fYXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2sodGhpcykpLHRoaXMuX2luaXRpYWxWYWx1ZT1yLHRoaXMuX2N1cnJlbnRDYW5jZWxsYWJsZT1udWxsLGk9PT1vP3RoaXMuX2VhY2hWYWx1ZXM9QXJyYXkodGhpcy5fbGVuZ3RoKTowPT09aT90aGlzLl9lYWNoVmFsdWVzPW51bGw6dGhpcy5fZWFjaFZhbHVlcz12b2lkIDAsdGhpcy5fcHJvbWlzZS5fY2FwdHVyZVN0YWNrVHJhY2UoKSx0aGlzLl9pbml0JCh2b2lkIDAsLTUpfWZ1bmN0aW9uIGModCxlKXt0aGlzLmlzRnVsZmlsbGVkKCk/ZS5fcmVzb2x2ZSh0KTplLl9yZWplY3QodCl9ZnVuY3Rpb24gdSh0LGUsbixpKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXJldHVybiByKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIitoLmNsYXNzU3RyaW5nKGUpKTt2YXIgbz1uZXcgYSh0LGUsbixpKTtyZXR1cm4gby5wcm9taXNlKCl9ZnVuY3Rpb24gbCh0KXt0aGlzLmFjY3VtPXQsdGhpcy5hcnJheS5fZ290QWNjdW0odCk7dmFyIG49aSh0aGlzLnZhbHVlLHRoaXMuYXJyYXkuX3Byb21pc2UpO3JldHVybiBuIGluc3RhbmNlb2YgZT8odGhpcy5hcnJheS5fY3VycmVudENhbmNlbGxhYmxlPW4sbi5fdGhlbihmLHZvaWQgMCx2b2lkIDAsdGhpcyx2b2lkIDApKTpmLmNhbGwodGhpcyxuKX1mdW5jdGlvbiBmKHQpe3ZhciBuPXRoaXMuYXJyYXkscj1uLl9wcm9taXNlLGk9ZChuLl9mbik7ci5fcHVzaENvbnRleHQoKTt2YXIgbztvPXZvaWQgMCE9PW4uX2VhY2hWYWx1ZXM/aS5jYWxsKHIuX2JvdW5kVmFsdWUoKSx0LHRoaXMuaW5kZXgsdGhpcy5sZW5ndGgpOmkuY2FsbChyLl9ib3VuZFZhbHVlKCksdGhpcy5hY2N1bSx0LHRoaXMuaW5kZXgsdGhpcy5sZW5ndGgpLG8gaW5zdGFuY2VvZiBlJiYobi5fY3VycmVudENhbmNlbGxhYmxlPW8pO3ZhciBhPXIuX3BvcENvbnRleHQoKTtyZXR1cm4gcy5jaGVja0ZvcmdvdHRlblJldHVybnMobyxhLHZvaWQgMCE9PW4uX2VhY2hWYWx1ZXM/XCJQcm9taXNlLmVhY2hcIjpcIlByb21pc2UucmVkdWNlXCIsciksb312YXIgcD1lLl9nZXREb21haW4saD10KFwiLi91dGlsXCIpLGQ9aC50cnlDYXRjaDtoLmluaGVyaXRzKGEsbiksYS5wcm90b3R5cGUuX2dvdEFjY3VtPWZ1bmN0aW9uKHQpe3ZvaWQgMCE9PXRoaXMuX2VhY2hWYWx1ZXMmJm51bGwhPT10aGlzLl9lYWNoVmFsdWVzJiZ0IT09byYmdGhpcy5fZWFjaFZhbHVlcy5wdXNoKHQpfSxhLnByb3RvdHlwZS5fZWFjaENvbXBsZXRlPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT09dGhpcy5fZWFjaFZhbHVlcyYmdGhpcy5fZWFjaFZhbHVlcy5wdXNoKHQpLHRoaXMuX2VhY2hWYWx1ZXN9LGEucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKCl7fSxhLnByb3RvdHlwZS5fcmVzb2x2ZUVtcHR5QXJyYXk9ZnVuY3Rpb24oKXt0aGlzLl9yZXNvbHZlKHZvaWQgMCE9PXRoaXMuX2VhY2hWYWx1ZXM/dGhpcy5fZWFjaFZhbHVlczp0aGlzLl9pbml0aWFsVmFsdWUpfSxhLnByb3RvdHlwZS5zaG91bGRDb3B5VmFsdWVzPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGEucHJvdG90eXBlLl9yZXNvbHZlPWZ1bmN0aW9uKHQpe3RoaXMuX3Byb21pc2UuX3Jlc29sdmVDYWxsYmFjayh0KSx0aGlzLl92YWx1ZXM9bnVsbH0sYS5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZD1mdW5jdGlvbih0KXtyZXR1cm4gdD09PXRoaXMuX2luaXRpYWxWYWx1ZT90aGlzLl9jYW5jZWwoKTp2b2lkKHRoaXMuX2lzUmVzb2x2ZWQoKXx8KHRoaXMuX3Jlc3VsdENhbmNlbGxlZCQoKSx0aGlzLl9jdXJyZW50Q2FuY2VsbGFibGUgaW5zdGFuY2VvZiBlJiZ0aGlzLl9jdXJyZW50Q2FuY2VsbGFibGUuY2FuY2VsKCksdGhpcy5faW5pdGlhbFZhbHVlIGluc3RhbmNlb2YgZSYmdGhpcy5faW5pdGlhbFZhbHVlLmNhbmNlbCgpKSl9LGEucHJvdG90eXBlLl9pdGVyYXRlPWZ1bmN0aW9uKHQpe3RoaXMuX3ZhbHVlcz10O3ZhciBuLHIsaT10Lmxlbmd0aDtpZih2b2lkIDAhPT10aGlzLl9pbml0aWFsVmFsdWU/KG49dGhpcy5faW5pdGlhbFZhbHVlLHI9MCk6KG49ZS5yZXNvbHZlKHRbMF0pLHI9MSksdGhpcy5fY3VycmVudENhbmNlbGxhYmxlPW4sIW4uaXNSZWplY3RlZCgpKWZvcig7aT5yOysrcil7dmFyIG89e2FjY3VtOm51bGwsdmFsdWU6dFtyXSxpbmRleDpyLGxlbmd0aDppLGFycmF5OnRoaXN9O249bi5fdGhlbihsLHZvaWQgMCx2b2lkIDAsbyx2b2lkIDApfXZvaWQgMCE9PXRoaXMuX2VhY2hWYWx1ZXMmJihuPW4uX3RoZW4odGhpcy5fZWFjaENvbXBsZXRlLHZvaWQgMCx2b2lkIDAsdGhpcyx2b2lkIDApKSxuLl90aGVuKGMsYyx2b2lkIDAsbix0aGlzKX0sZS5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHUodGhpcyx0LGUsbnVsbCl9LGUucmVkdWNlPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB1KHQsZSxuLHIpfX19LHtcIi4vdXRpbFwiOjM2fV0sMjk6W2Z1bmN0aW9uKHQsaSxvKXtcInVzZSBzdHJpY3RcIjt2YXIgcyxhPXQoXCIuL3V0aWxcIiksYz1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcIk5vIGFzeW5jIHNjaGVkdWxlciBhdmFpbGFibGVcXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXCIpfSx1PWEuZ2V0TmF0aXZlUHJvbWlzZSgpO2lmKGEuaXNOb2RlJiZcInVuZGVmaW5lZFwiPT10eXBlb2YgTXV0YXRpb25PYnNlcnZlcil7dmFyIGw9bi5zZXRJbW1lZGlhdGUsZj1lLm5leHRUaWNrO3M9YS5pc1JlY2VudE5vZGU/ZnVuY3Rpb24odCl7bC5jYWxsKG4sdCl9OmZ1bmN0aW9uKHQpe2YuY2FsbChlLHQpfX1lbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHUucmVzb2x2ZSl7dmFyIHA9dS5yZXNvbHZlKCk7cz1mdW5jdGlvbih0KXtwLnRoZW4odCl9fWVsc2Ugcz1cInVuZGVmaW5lZFwiPT10eXBlb2YgTXV0YXRpb25PYnNlcnZlcnx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lm5hdmlnYXRvciYmKHdpbmRvdy5uYXZpZ2F0b3Iuc3RhbmRhbG9uZXx8d2luZG93LmNvcmRvdmEpP1widW5kZWZpbmVkXCIhPXR5cGVvZiByP2Z1bmN0aW9uKHQpe3IodCl9OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZXRUaW1lb3V0P2Z1bmN0aW9uKHQpe3NldFRpbWVvdXQodCwwKX06YzpmdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZT17YXR0cmlidXRlczohMH0sbj0hMSxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksaT1uZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpe3QuY2xhc3NMaXN0LnRvZ2dsZShcImZvb1wiKSxuPSExfSk7aS5vYnNlcnZlKHIsZSk7dmFyIG89ZnVuY3Rpb24oKXtufHwobj0hMCxyLmNsYXNzTGlzdC50b2dnbGUoXCJmb29cIikpfTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIHI9bmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oKXtyLmRpc2Nvbm5lY3QoKSxuKCl9KTtyLm9ic2VydmUodCxlKSxvKCl9fSgpO2kuZXhwb3J0cz1zfSx7XCIuL3V0aWxcIjozNn1dLDMwOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyKXtmdW5jdGlvbiBpKHQpe3RoaXMuY29uc3RydWN0b3IkKHQpfXZhciBvPWUuUHJvbWlzZUluc3BlY3Rpb24scz10KFwiLi91dGlsXCIpO3MuaW5oZXJpdHMoaSxuKSxpLnByb3RvdHlwZS5fcHJvbWlzZVJlc29sdmVkPWZ1bmN0aW9uKHQsZSl7dGhpcy5fdmFsdWVzW3RdPWU7dmFyIG49Kyt0aGlzLl90b3RhbFJlc29sdmVkO3JldHVybiBuPj10aGlzLl9sZW5ndGg/KHRoaXMuX3Jlc29sdmUodGhpcy5fdmFsdWVzKSwhMCk6ITF9LGkucHJvdG90eXBlLl9wcm9taXNlRnVsZmlsbGVkPWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IG87cmV0dXJuIG4uX2JpdEZpZWxkPTMzNTU0NDMyLG4uX3NldHRsZWRWYWx1ZUZpZWxkPXQsdGhpcy5fcHJvbWlzZVJlc29sdmVkKGUsbil9LGkucHJvdG90eXBlLl9wcm9taXNlUmVqZWN0ZWQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgbztyZXR1cm4gbi5fYml0RmllbGQ9MTY3NzcyMTYsbi5fc2V0dGxlZFZhbHVlRmllbGQ9dCx0aGlzLl9wcm9taXNlUmVzb2x2ZWQoZSxuKX0sZS5zZXR0bGU9ZnVuY3Rpb24odCl7cmV0dXJuIHIuZGVwcmVjYXRlZChcIi5zZXR0bGUoKVwiLFwiLnJlZmxlY3QoKVwiKSxuZXcgaSh0KS5wcm9taXNlKCl9LGUucHJvdG90eXBlLnNldHRsZT1mdW5jdGlvbigpe3JldHVybiBlLnNldHRsZSh0aGlzKX19fSx7XCIuL3V0aWxcIjozNn1dLDMxOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyKXtmdW5jdGlvbiBpKHQpe3RoaXMuY29uc3RydWN0b3IkKHQpLHRoaXMuX2hvd01hbnk9MCx0aGlzLl91bndyYXA9ITEsdGhpcy5faW5pdGlhbGl6ZWQ9ITF9ZnVuY3Rpb24gbyh0LGUpe2lmKCgwfGUpIT09ZXx8MD5lKXJldHVybiByKFwiZXhwZWN0aW5nIGEgcG9zaXRpdmUgaW50ZWdlclxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIik7dmFyIG49bmV3IGkodCksbz1uLnByb21pc2UoKTtyZXR1cm4gbi5zZXRIb3dNYW55KGUpLG4uaW5pdCgpLG99dmFyIHM9dChcIi4vdXRpbFwiKSxhPXQoXCIuL2Vycm9yc1wiKS5SYW5nZUVycm9yLGM9dChcIi4vZXJyb3JzXCIpLkFnZ3JlZ2F0ZUVycm9yLHU9cy5pc0FycmF5LGw9e307cy5pbmhlcml0cyhpLG4pLGkucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKCl7aWYodGhpcy5faW5pdGlhbGl6ZWQpe2lmKDA9PT10aGlzLl9ob3dNYW55KXJldHVybiB2b2lkIHRoaXMuX3Jlc29sdmUoW10pO3RoaXMuX2luaXQkKHZvaWQgMCwtNSk7dmFyIHQ9dSh0aGlzLl92YWx1ZXMpO1xuXHQhdGhpcy5faXNSZXNvbHZlZCgpJiZ0JiZ0aGlzLl9ob3dNYW55PnRoaXMuX2NhblBvc3NpYmx5RnVsZmlsbCgpJiZ0aGlzLl9yZWplY3QodGhpcy5fZ2V0UmFuZ2VFcnJvcih0aGlzLmxlbmd0aCgpKSl9fSxpLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5faW5pdGlhbGl6ZWQ9ITAsdGhpcy5faW5pdCgpfSxpLnByb3RvdHlwZS5zZXRVbndyYXA9ZnVuY3Rpb24oKXt0aGlzLl91bndyYXA9ITB9LGkucHJvdG90eXBlLmhvd01hbnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faG93TWFueX0saS5wcm90b3R5cGUuc2V0SG93TWFueT1mdW5jdGlvbih0KXt0aGlzLl9ob3dNYW55PXR9LGkucHJvdG90eXBlLl9wcm9taXNlRnVsZmlsbGVkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9hZGRGdWxmaWxsZWQodCksdGhpcy5fZnVsZmlsbGVkKCk9PT10aGlzLmhvd01hbnkoKT8odGhpcy5fdmFsdWVzLmxlbmd0aD10aGlzLmhvd01hbnkoKSwxPT09dGhpcy5ob3dNYW55KCkmJnRoaXMuX3Vud3JhcD90aGlzLl9yZXNvbHZlKHRoaXMuX3ZhbHVlc1swXSk6dGhpcy5fcmVzb2x2ZSh0aGlzLl92YWx1ZXMpLCEwKTohMX0saS5wcm90b3R5cGUuX3Byb21pc2VSZWplY3RlZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYWRkUmVqZWN0ZWQodCksdGhpcy5fY2hlY2tPdXRjb21lKCl9LGkucHJvdG90eXBlLl9wcm9taXNlQ2FuY2VsbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlcyBpbnN0YW5jZW9mIGV8fG51bGw9PXRoaXMuX3ZhbHVlcz90aGlzLl9jYW5jZWwoKToodGhpcy5fYWRkUmVqZWN0ZWQobCksdGhpcy5fY2hlY2tPdXRjb21lKCkpfSxpLnByb3RvdHlwZS5fY2hlY2tPdXRjb21lPWZ1bmN0aW9uKCl7aWYodGhpcy5ob3dNYW55KCk+dGhpcy5fY2FuUG9zc2libHlGdWxmaWxsKCkpe2Zvcih2YXIgdD1uZXcgYyxlPXRoaXMubGVuZ3RoKCk7ZTx0aGlzLl92YWx1ZXMubGVuZ3RoOysrZSl0aGlzLl92YWx1ZXNbZV0hPT1sJiZ0LnB1c2godGhpcy5fdmFsdWVzW2VdKTtyZXR1cm4gdC5sZW5ndGg+MD90aGlzLl9yZWplY3QodCk6dGhpcy5fY2FuY2VsKCksITB9cmV0dXJuITF9LGkucHJvdG90eXBlLl9mdWxmaWxsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdG90YWxSZXNvbHZlZH0saS5wcm90b3R5cGUuX3JlamVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlcy5sZW5ndGgtdGhpcy5sZW5ndGgoKX0saS5wcm90b3R5cGUuX2FkZFJlamVjdGVkPWZ1bmN0aW9uKHQpe3RoaXMuX3ZhbHVlcy5wdXNoKHQpfSxpLnByb3RvdHlwZS5fYWRkRnVsZmlsbGVkPWZ1bmN0aW9uKHQpe3RoaXMuX3ZhbHVlc1t0aGlzLl90b3RhbFJlc29sdmVkKytdPXR9LGkucHJvdG90eXBlLl9jYW5Qb3NzaWJseUZ1bGZpbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGgoKS10aGlzLl9yZWplY3RlZCgpfSxpLnByb3RvdHlwZS5fZ2V0UmFuZ2VFcnJvcj1mdW5jdGlvbih0KXt2YXIgZT1cIklucHV0IGFycmF5IG11c3QgY29udGFpbiBhdCBsZWFzdCBcIit0aGlzLl9ob3dNYW55K1wiIGl0ZW1zIGJ1dCBjb250YWlucyBvbmx5IFwiK3QrXCIgaXRlbXNcIjtyZXR1cm4gbmV3IGEoZSl9LGkucHJvdG90eXBlLl9yZXNvbHZlRW1wdHlBcnJheT1mdW5jdGlvbigpe3RoaXMuX3JlamVjdCh0aGlzLl9nZXRSYW5nZUVycm9yKDApKX0sZS5zb21lPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG8odCxlKX0sZS5wcm90b3R5cGUuc29tZT1mdW5jdGlvbih0KXtyZXR1cm4gbyh0aGlzLHQpfSxlLl9Tb21lUHJvbWlzZUFycmF5PWl9fSx7XCIuL2Vycm9yc1wiOjEyLFwiLi91dGlsXCI6MzZ9XSwzMjpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZvaWQgMCE9PXQ/KHQ9dC5fdGFyZ2V0KCksdGhpcy5fYml0RmllbGQ9dC5fYml0RmllbGQsdGhpcy5fc2V0dGxlZFZhbHVlRmllbGQ9dC5faXNGYXRlU2VhbGVkKCk/dC5fc2V0dGxlZFZhbHVlKCk6dm9pZCAwKToodGhpcy5fYml0RmllbGQ9MCx0aGlzLl9zZXR0bGVkVmFsdWVGaWVsZD12b2lkIDApfWUucHJvdG90eXBlLl9zZXR0bGVkVmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0dGxlZFZhbHVlRmllbGR9O3ZhciBuPWUucHJvdG90eXBlLnZhbHVlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNGdWxmaWxsZWQoKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2Fubm90IGdldCBmdWxmaWxsbWVudCB2YWx1ZSBvZiBhIG5vbi1mdWxmaWxsZWQgcHJvbWlzZVxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIik7cmV0dXJuIHRoaXMuX3NldHRsZWRWYWx1ZSgpfSxyPWUucHJvdG90eXBlLmVycm9yPWUucHJvdG90eXBlLnJlYXNvbj1mdW5jdGlvbigpe2lmKCF0aGlzLmlzUmVqZWN0ZWQoKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2Fubm90IGdldCByZWplY3Rpb24gcmVhc29uIG9mIGEgbm9uLXJlamVjdGVkIHByb21pc2VcXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXCIpO3JldHVybiB0aGlzLl9zZXR0bGVkVmFsdWUoKX0saT1lLnByb3RvdHlwZS5pc0Z1bGZpbGxlZD1mdW5jdGlvbigpe3JldHVybiAwIT09KDMzNTU0NDMyJnRoaXMuX2JpdEZpZWxkKX0sbz1lLnByb3RvdHlwZS5pc1JlamVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIDAhPT0oMTY3NzcyMTYmdGhpcy5fYml0RmllbGQpfSxzPWUucHJvdG90eXBlLmlzUGVuZGluZz1mdW5jdGlvbigpe3JldHVybiAwPT09KDUwMzk3MTg0JnRoaXMuX2JpdEZpZWxkKX0sYT1lLnByb3RvdHlwZS5pc1Jlc29sdmVkPWZ1bmN0aW9uKCl7cmV0dXJuIDAhPT0oNTAzMzE2NDgmdGhpcy5fYml0RmllbGQpfTtlLnByb3RvdHlwZS5pc0NhbmNlbGxlZD1mdW5jdGlvbigpe3JldHVybiAwIT09KDg0NTQxNDQmdGhpcy5fYml0RmllbGQpfSx0LnByb3RvdHlwZS5fX2lzQ2FuY2VsbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIDY1NTM2PT09KDY1NTM2JnRoaXMuX2JpdEZpZWxkKX0sdC5wcm90b3R5cGUuX2lzQ2FuY2VsbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RhcmdldCgpLl9faXNDYW5jZWxsZWQoKX0sdC5wcm90b3R5cGUuaXNDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PSg4NDU0MTQ0JnRoaXMuX3RhcmdldCgpLl9iaXRGaWVsZCl9LHQucHJvdG90eXBlLmlzUGVuZGluZz1mdW5jdGlvbigpe3JldHVybiBzLmNhbGwodGhpcy5fdGFyZ2V0KCkpfSx0LnByb3RvdHlwZS5pc1JlamVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG8uY2FsbCh0aGlzLl90YXJnZXQoKSl9LHQucHJvdG90eXBlLmlzRnVsZmlsbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIGkuY2FsbCh0aGlzLl90YXJnZXQoKSl9LHQucHJvdG90eXBlLmlzUmVzb2x2ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gYS5jYWxsKHRoaXMuX3RhcmdldCgpKX0sdC5wcm90b3R5cGUudmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gbi5jYWxsKHRoaXMuX3RhcmdldCgpKX0sdC5wcm90b3R5cGUucmVhc29uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdGFyZ2V0KCk7cmV0dXJuIHQuX3Vuc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQoKSxyLmNhbGwodCl9LHQucHJvdG90eXBlLl92YWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXR0bGVkVmFsdWUoKX0sdC5wcm90b3R5cGUuX3JlYXNvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91bnNldFJlamVjdGlvbklzVW5oYW5kbGVkKCksdGhpcy5fc2V0dGxlZFZhbHVlKCl9LHQuUHJvbWlzZUluc3BlY3Rpb249ZX19LHt9XSwzMzpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlLG4pe2Z1bmN0aW9uIHIodCxyKXtpZihsKHQpKXtpZih0IGluc3RhbmNlb2YgZSlyZXR1cm4gdDt2YXIgaT1vKHQpO2lmKGk9PT11KXtyJiZyLl9wdXNoQ29udGV4dCgpO3ZhciBjPWUucmVqZWN0KGkuZSk7cmV0dXJuIHImJnIuX3BvcENvbnRleHQoKSxjfWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGkpe2lmKHModCkpe3ZhciBjPW5ldyBlKG4pO3JldHVybiB0Ll90aGVuKGMuX2Z1bGZpbGwsYy5fcmVqZWN0LHZvaWQgMCxjLG51bGwpLGN9cmV0dXJuIGEodCxpLHIpfX1yZXR1cm4gdH1mdW5jdGlvbiBpKHQpe3JldHVybiB0LnRoZW59ZnVuY3Rpb24gbyh0KXt0cnl7cmV0dXJuIGkodCl9Y2F0Y2goZSl7cmV0dXJuIHUuZT1lLHV9fWZ1bmN0aW9uIHModCl7dHJ5e3JldHVybiBmLmNhbGwodCxcIl9wcm9taXNlMFwiKX1jYXRjaChlKXtyZXR1cm4hMX19ZnVuY3Rpb24gYSh0LHIsaSl7ZnVuY3Rpb24gbyh0KXthJiYoYS5fcmVzb2x2ZUNhbGxiYWNrKHQpLGE9bnVsbCl9ZnVuY3Rpb24gcyh0KXthJiYoYS5fcmVqZWN0Q2FsbGJhY2sodCxmLCEwKSxhPW51bGwpfXZhciBhPW5ldyBlKG4pLGw9YTtpJiZpLl9wdXNoQ29udGV4dCgpLGEuX2NhcHR1cmVTdGFja1RyYWNlKCksaSYmaS5fcG9wQ29udGV4dCgpO3ZhciBmPSEwLHA9Yy50cnlDYXRjaChyKS5jYWxsKHQsbyxzKTtyZXR1cm4gZj0hMSxhJiZwPT09dSYmKGEuX3JlamVjdENhbGxiYWNrKHAuZSwhMCwhMCksYT1udWxsKSxsfXZhciBjPXQoXCIuL3V0aWxcIiksdT1jLmVycm9yT2JqLGw9Yy5pc09iamVjdCxmPXt9Lmhhc093blByb3BlcnR5O3JldHVybiByfX0se1wiLi91dGlsXCI6MzZ9XSwzNDpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlLG4scil7ZnVuY3Rpb24gaSh0KXt0aGlzLmhhbmRsZT10fWZ1bmN0aW9uIG8odCl7cmV0dXJuIGNsZWFyVGltZW91dCh0aGlzLmhhbmRsZSksdH1mdW5jdGlvbiBzKHQpe3Rocm93IGNsZWFyVGltZW91dCh0aGlzLmhhbmRsZSksdH12YXIgYT10KFwiLi91dGlsXCIpLGM9ZS5UaW1lb3V0RXJyb3I7aS5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLmhhbmRsZSl9O3ZhciB1PWZ1bmN0aW9uKHQpe3JldHVybiBsKCt0aGlzKS50aGVuUmV0dXJuKHQpfSxsPWUuZGVsYXk9ZnVuY3Rpb24odCxvKXt2YXIgcyxhO3JldHVybiB2b2lkIDAhPT1vPyhzPWUucmVzb2x2ZShvKS5fdGhlbih1LG51bGwsbnVsbCx0LHZvaWQgMCksci5jYW5jZWxsYXRpb24oKSYmbyBpbnN0YW5jZW9mIGUmJnMuX3NldE9uQ2FuY2VsKG8pKToocz1uZXcgZShuKSxhPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtzLl9mdWxmaWxsKCl9LCt0KSxyLmNhbmNlbGxhdGlvbigpJiZzLl9zZXRPbkNhbmNlbChuZXcgaShhKSkscy5fY2FwdHVyZVN0YWNrVHJhY2UoKSkscy5fc2V0QXN5bmNHdWFyYW50ZWVkKCksc307ZS5wcm90b3R5cGUuZGVsYXk9ZnVuY3Rpb24odCl7cmV0dXJuIGwodCx0aGlzKX07dmFyIGY9ZnVuY3Rpb24odCxlLG4pe3ZhciByO3I9XCJzdHJpbmdcIiE9dHlwZW9mIGU/ZSBpbnN0YW5jZW9mIEVycm9yP2U6bmV3IGMoXCJvcGVyYXRpb24gdGltZWQgb3V0XCIpOm5ldyBjKGUpLGEubWFya0FzT3JpZ2luYXRpbmdGcm9tUmVqZWN0aW9uKHIpLHQuX2F0dGFjaEV4dHJhVHJhY2UociksdC5fcmVqZWN0KHIpLG51bGwhPW4mJm4uY2FuY2VsKCl9O2UucHJvdG90eXBlLnRpbWVvdXQ9ZnVuY3Rpb24odCxlKXt0PSt0O3ZhciBuLGEsYz1uZXcgaShzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5pc1BlbmRpbmcoKSYmZihuLGUsYSl9LHQpKTtyZXR1cm4gci5jYW5jZWxsYXRpb24oKT8oYT10aGlzLnRoZW4oKSxuPWEuX3RoZW4obyxzLHZvaWQgMCxjLHZvaWQgMCksbi5fc2V0T25DYW5jZWwoYykpOm49dGhpcy5fdGhlbihvLHMsdm9pZCAwLGMsdm9pZCAwKSxufX19LHtcIi4vdXRpbFwiOjM2fV0sMzU6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIsaSxvLHMpe2Z1bmN0aW9uIGEodCl7c2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IHR9LDApfWZ1bmN0aW9uIGModCl7dmFyIGU9cih0KTtyZXR1cm4gZSE9PXQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuX2lzRGlzcG9zYWJsZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5fZ2V0RGlzcG9zZXImJnQuX2lzRGlzcG9zYWJsZSgpJiZlLl9zZXREaXNwb3NhYmxlKHQuX2dldERpc3Bvc2VyKCkpLGV9ZnVuY3Rpb24gdSh0LG4pe2Z1bmN0aW9uIGkoKXtpZihzPj11KXJldHVybiBsLl9mdWxmaWxsKCk7dmFyIG89Yyh0W3MrK10pO2lmKG8gaW5zdGFuY2VvZiBlJiZvLl9pc0Rpc3Bvc2FibGUoKSl7dHJ5e289cihvLl9nZXREaXNwb3NlcigpLnRyeURpc3Bvc2UobiksdC5wcm9taXNlKX1jYXRjaChmKXtyZXR1cm4gYShmKX1pZihvIGluc3RhbmNlb2YgZSlyZXR1cm4gby5fdGhlbihpLGEsbnVsbCxudWxsLG51bGwpfWkoKX12YXIgcz0wLHU9dC5sZW5ndGgsbD1uZXcgZShvKTtyZXR1cm4gaSgpLGx9ZnVuY3Rpb24gbCh0LGUsbil7dGhpcy5fZGF0YT10LHRoaXMuX3Byb21pc2U9ZSx0aGlzLl9jb250ZXh0PW59ZnVuY3Rpb24gZih0LGUsbil7dGhpcy5jb25zdHJ1Y3RvciQodCxlLG4pfWZ1bmN0aW9uIHAodCl7cmV0dXJuIGwuaXNEaXNwb3Nlcih0KT8odGhpcy5yZXNvdXJjZXNbdGhpcy5pbmRleF0uX3NldERpc3Bvc2FibGUodCksdC5wcm9taXNlKCkpOnR9ZnVuY3Rpb24gaCh0KXt0aGlzLmxlbmd0aD10LHRoaXMucHJvbWlzZT1udWxsLHRoaXNbdC0xXT1udWxsfXZhciBkPXQoXCIuL3V0aWxcIiksXz10KFwiLi9lcnJvcnNcIikuVHlwZUVycm9yLHY9dChcIi4vdXRpbFwiKS5pbmhlcml0cyx5PWQuZXJyb3JPYmosbT1kLnRyeUNhdGNoLGc9e307bC5wcm90b3R5cGUuZGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfSxsLnByb3RvdHlwZS5wcm9taXNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb21pc2V9LGwucHJvdG90eXBlLnJlc291cmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvbWlzZSgpLmlzRnVsZmlsbGVkKCk/dGhpcy5wcm9taXNlKCkudmFsdWUoKTpnfSxsLnByb3RvdHlwZS50cnlEaXNwb3NlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucmVzb3VyY2UoKSxuPXRoaXMuX2NvbnRleHQ7dm9pZCAwIT09biYmbi5fcHVzaENvbnRleHQoKTt2YXIgcj1lIT09Zz90aGlzLmRvRGlzcG9zZShlLHQpOm51bGw7cmV0dXJuIHZvaWQgMCE9PW4mJm4uX3BvcENvbnRleHQoKSx0aGlzLl9wcm9taXNlLl91bnNldERpc3Bvc2FibGUoKSx0aGlzLl9kYXRhPW51bGwscn0sbC5pc0Rpc3Bvc2VyPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT10JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnJlc291cmNlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnRyeURpc3Bvc2V9LHYoZixsKSxmLnByb3RvdHlwZS5kb0Rpc3Bvc2U9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmRhdGEoKTtyZXR1cm4gbi5jYWxsKHQsdCxlKX0saC5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmxlbmd0aCxuPTA7dD5uOysrbil7dmFyIHI9dGhpc1tuXTtyIGluc3RhbmNlb2YgZSYmci5jYW5jZWwoKX19LGUudXNpbmc9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoO2lmKDI+dClyZXR1cm4gbihcInlvdSBtdXN0IHBhc3MgYXQgbGVhc3QgMiBhcmd1bWVudHMgdG8gUHJvbWlzZS51c2luZ1wiKTt2YXIgaT1hcmd1bWVudHNbdC0xXTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBpKXJldHVybiBuKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIitkLmNsYXNzU3RyaW5nKGkpKTt2YXIgbyxhPSEwOzI9PT10JiZBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSk/KG89YXJndW1lbnRzWzBdLHQ9by5sZW5ndGgsYT0hMSk6KG89YXJndW1lbnRzLHQtLSk7Zm9yKHZhciBjPW5ldyBoKHQpLGY9MDt0PmY7KytmKXt2YXIgXz1vW2ZdO2lmKGwuaXNEaXNwb3NlcihfKSl7dmFyIHY9XztfPV8ucHJvbWlzZSgpLF8uX3NldERpc3Bvc2FibGUodil9ZWxzZXt2YXIgZz1yKF8pO2cgaW5zdGFuY2VvZiBlJiYoXz1nLl90aGVuKHAsbnVsbCxudWxsLHtyZXNvdXJjZXM6YyxpbmRleDpmfSx2b2lkIDApKX1jW2ZdPV99Zm9yKHZhciBiPW5ldyBBcnJheShjLmxlbmd0aCksZj0wO2Y8Yi5sZW5ndGg7KytmKWJbZl09ZS5yZXNvbHZlKGNbZl0pLnJlZmxlY3QoKTt2YXIgdz1lLmFsbChiKS50aGVuKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7KytlKXt2YXIgbj10W2VdO2lmKG4uaXNSZWplY3RlZCgpKXJldHVybiB5LmU9bi5lcnJvcigpLHk7aWYoIW4uaXNGdWxmaWxsZWQoKSlyZXR1cm4gdm9pZCB3LmNhbmNlbCgpO3RbZV09bi52YWx1ZSgpfUUuX3B1c2hDb250ZXh0KCksaT1tKGkpO3ZhciByPWE/aS5hcHBseSh2b2lkIDAsdCk6aSh0KSxvPUUuX3BvcENvbnRleHQoKTtyZXR1cm4gcy5jaGVja0ZvcmdvdHRlblJldHVybnMocixvLFwiUHJvbWlzZS51c2luZ1wiLEUpLHJ9KSxFPXcubGFzdGx5KGZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGUuUHJvbWlzZUluc3BlY3Rpb24odyk7cmV0dXJuIHUoYyx0KX0pO3JldHVybiBjLnByb21pc2U9RSxFLl9zZXRPbkNhbmNlbChjKSxFfSxlLnByb3RvdHlwZS5fc2V0RGlzcG9zYWJsZT1mdW5jdGlvbih0KXt0aGlzLl9iaXRGaWVsZD0xMzEwNzJ8dGhpcy5fYml0RmllbGQsdGhpcy5fZGlzcG9zZXI9dH0sZS5wcm90b3R5cGUuX2lzRGlzcG9zYWJsZT1mdW5jdGlvbigpe3JldHVybigxMzEwNzImdGhpcy5fYml0RmllbGQpPjB9LGUucHJvdG90eXBlLl9nZXREaXNwb3Nlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaXNwb3Nlcn0sZS5wcm90b3R5cGUuX3Vuc2V0RGlzcG9zYWJsZT1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPS0xMzEwNzMmdGhpcy5fYml0RmllbGQsdGhpcy5fZGlzcG9zZXI9dm9pZCAwfSxlLnByb3RvdHlwZS5kaXNwb3Nlcj1mdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KXJldHVybiBuZXcgZih0LHRoaXMsaSgpKTt0aHJvdyBuZXcgX319fSx7XCIuL2Vycm9yc1wiOjEyLFwiLi91dGlsXCI6MzZ9XSwzNjpbZnVuY3Rpb24odCxyLGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oKXt0cnl7dmFyIHQ9TztyZXR1cm4gTz1udWxsLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfWNhdGNoKGUpe3JldHVybiBQLmU9ZSxQfX1mdW5jdGlvbiBzKHQpe3JldHVybiBPPXQsb31mdW5jdGlvbiBhKHQpe3JldHVybiBudWxsPT10fHx0PT09ITB8fHQ9PT0hMXx8XCJzdHJpbmdcIj09dHlwZW9mIHR8fFwibnVtYmVyXCI9PXR5cGVvZiB0fWZ1bmN0aW9uIGModCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdHx8XCJvYmplY3RcIj09dHlwZW9mIHQmJm51bGwhPT10fWZ1bmN0aW9uIHUodCl7cmV0dXJuIGEodCk/bmV3IEVycm9yKG0odCkpOnR9ZnVuY3Rpb24gbCh0LGUpe3ZhciBuLHI9dC5sZW5ndGgsaT1uZXcgQXJyYXkocisxKTtmb3Iobj0wO3I+bjsrK24paVtuXT10W25dO3JldHVybiBpW25dPWUsaX1mdW5jdGlvbiBmKHQsZSxuKXtpZighVC5pc0VTNSlyZXR1cm57fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSk/dFtlXTp2b2lkIDA7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpO3JldHVybiBudWxsIT1yP251bGw9PXIuZ2V0JiZudWxsPT1yLnNldD9yLnZhbHVlOm46dm9pZCAwfWZ1bmN0aW9uIHAodCxlLG4pe2lmKGEodCkpcmV0dXJuIHQ7dmFyIHI9e3ZhbHVlOm4sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITB9O3JldHVybiBULmRlZmluZVByb3BlcnR5KHQsZSxyKSx0fWZ1bmN0aW9uIGgodCl7dGhyb3cgdH1mdW5jdGlvbiBkKHQpe3RyeXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KXt2YXIgZT1ULm5hbWVzKHQucHJvdG90eXBlKSxuPVQuaXNFUzUmJmUubGVuZ3RoPjEscj1lLmxlbmd0aD4wJiYhKDE9PT1lLmxlbmd0aCYmXCJjb25zdHJ1Y3RvclwiPT09ZVswXSksaT1ELnRlc3QodCtcIlwiKSYmVC5uYW1lcyh0KS5sZW5ndGg+MDtpZihufHxyfHxpKXJldHVybiEwfXJldHVybiExfWNhdGNoKG8pe3JldHVybiExfX1mdW5jdGlvbiBfKHQpe2Z1bmN0aW9uIGUoKXt9ZS5wcm90b3R5cGU9dDtmb3IodmFyIG49ODtuLS07KW5ldyBlO3JldHVybiB0fWZ1bmN0aW9uIHYodCl7cmV0dXJuIFUudGVzdCh0KX1mdW5jdGlvbiB5KHQsZSxuKXtmb3IodmFyIHI9bmV3IEFycmF5KHQpLGk9MDt0Pmk7KytpKXJbaV09ZStpK247cmV0dXJuIHJ9ZnVuY3Rpb24gbSh0KXt0cnl7cmV0dXJuIHQrXCJcIn1jYXRjaChlKXtyZXR1cm5cIltubyBzdHJpbmcgcmVwcmVzZW50YXRpb25dXCJ9fWZ1bmN0aW9uIGcodCl7cmV0dXJuIG51bGwhPT10JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmXCJzdHJpbmdcIj09dHlwZW9mIHQubWVzc2FnZSYmXCJzdHJpbmdcIj09dHlwZW9mIHQubmFtZX1mdW5jdGlvbiBiKHQpe3RyeXtwKHQsXCJpc09wZXJhdGlvbmFsXCIsITApfWNhdGNoKGUpe319ZnVuY3Rpb24gdyh0KXtyZXR1cm4gbnVsbD09dD8hMTp0IGluc3RhbmNlb2YgRXJyb3IuX19CbHVlYmlyZEVycm9yVHlwZXNfXy5PcGVyYXRpb25hbEVycm9yfHx0LmlzT3BlcmF0aW9uYWw9PT0hMH1mdW5jdGlvbiBFKHQpe3JldHVybiBnKHQpJiZULnByb3BlcnR5SXNXcml0YWJsZSh0LFwic3RhY2tcIil9ZnVuY3Rpb24gQyh0KXtyZXR1cm57fS50b1N0cmluZy5jYWxsKHQpfWZ1bmN0aW9uIGsodCxlLG4pe2Zvcih2YXIgcj1ULm5hbWVzKHQpLGk9MDtpPHIubGVuZ3RoOysraSl7dmFyIG89cltpXTtpZihuKG8pKXRyeXtULmRlZmluZVByb3BlcnR5KGUsbyxULmdldERlc2NyaXB0b3IodCxvKSl9Y2F0Y2gocyl7fX19ZnVuY3Rpb24gaih0LG4pe3JldHVybiBCP2UuZW52W3RdOm59ZnVuY3Rpb24geCgpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb21pc2UpdHJ5e3ZhciB0PW5ldyBQcm9taXNlKGZ1bmN0aW9uKCl7fSk7aWYoXCJbb2JqZWN0IFByb21pc2VdXCI9PT17fS50b1N0cmluZy5jYWxsKHQpKXJldHVybiBQcm9taXNlfWNhdGNoKGUpe319ZnVuY3Rpb24gRih0LGUpe3JldHVybiB0LmJpbmQoZSl9dmFyIFQ9dChcIi4vZXM1XCIpLFM9XCJ1bmRlZmluZWRcIj09dHlwZW9mIG5hdmlnYXRvcixQPXtlOnt9fSxPLFI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2Ygbj9uOnZvaWQgMCE9PXRoaXM/dGhpczpudWxsLEE9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10LHRoaXMuY29uc3RydWN0b3IkPWU7Zm9yKHZhciBuIGluIGUucHJvdG90eXBlKXIuY2FsbChlLnByb3RvdHlwZSxuKSYmXCIkXCIhPT1uLmNoYXJBdChuLmxlbmd0aC0xKSYmKHRoaXNbbitcIiRcIl09ZS5wcm90b3R5cGVbbl0pfXZhciByPXt9Lmhhc093blByb3BlcnR5O3JldHVybiBuLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgbix0LnByb3RvdHlwZX0sST1mdW5jdGlvbigpe3ZhciB0PVtBcnJheS5wcm90b3R5cGUsT2JqZWN0LnByb3RvdHlwZSxGdW5jdGlvbi5wcm90b3R5cGVdLGU9ZnVuY3Rpb24oZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDsrK24paWYodFtuXT09PWUpcmV0dXJuITA7cmV0dXJuITF9O2lmKFQuaXNFUzUpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO3JldHVybiBmdW5jdGlvbih0KXtmb3IodmFyIHI9W10saT1PYmplY3QuY3JlYXRlKG51bGwpO251bGwhPXQmJiFlKHQpOyl7dmFyIG87dHJ5e289bih0KX1jYXRjaChzKXtyZXR1cm4gcn1mb3IodmFyIGE9MDthPG8ubGVuZ3RoOysrYSl7dmFyIGM9b1thXTtpZighaVtjXSl7aVtjXT0hMDt2YXIgdT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsYyk7bnVsbCE9dSYmbnVsbD09dS5nZXQmJm51bGw9PXUuc2V0JiZyLnB1c2goYyl9fXQ9VC5nZXRQcm90b3R5cGVPZih0KX1yZXR1cm4gcn19dmFyIHI9e30uaGFzT3duUHJvcGVydHk7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKGUobikpcmV0dXJuW107dmFyIGk9W107dDpmb3IodmFyIG8gaW4gbilpZihyLmNhbGwobixvKSlpLnB1c2gobyk7ZWxzZXtmb3IodmFyIHM9MDtzPHQubGVuZ3RoOysrcylpZihyLmNhbGwodFtzXSxvKSljb250aW51ZSB0O2kucHVzaChvKX1yZXR1cm4gaX19KCksRD0vdGhpc1xccypcXC5cXHMqXFxTK1xccyo9LyxVPS9eW2EteiRfXVthLXokXzAtOV0qJC9pLE49ZnVuY3Rpb24oKXtyZXR1cm5cInN0YWNrXCJpbiBuZXcgRXJyb3I/ZnVuY3Rpb24odCl7cmV0dXJuIEUodCk/dDpuZXcgRXJyb3IobSh0KSl9OmZ1bmN0aW9uKHQpe2lmKEUodCkpcmV0dXJuIHQ7dHJ5e3Rocm93IG5ldyBFcnJvcihtKHQpKX1jYXRjaChlKXtyZXR1cm4gZX19fSgpLEw9ZnVuY3Rpb24odCl7cmV0dXJuIFQuaXNBcnJheSh0KT90Om51bGx9O2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcil7dmFyIFY9XCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXkuZnJvbT9mdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuZnJvbSh0KX06ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49W10scj10W1N5bWJvbC5pdGVyYXRvcl0oKTshKGU9ci5uZXh0KCkpLmRvbmU7KW4ucHVzaChlLnZhbHVlKTtyZXR1cm4gbn07TD1mdW5jdGlvbih0KXtyZXR1cm4gVC5pc0FycmF5KHQpP3Q6bnVsbCE9dCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdFtTeW1ib2wuaXRlcmF0b3JdP1YodCk6bnVsbH19dmFyIEI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUmJlwiW29iamVjdCBwcm9jZXNzXVwiPT09QyhlKS50b0xvd2VyQ2FzZSgpLE09e2lzQ2xhc3M6ZCxpc0lkZW50aWZpZXI6dixpbmhlcml0ZWREYXRhS2V5czpJLGdldERhdGFQcm9wZXJ0eU9yRGVmYXVsdDpmLHRocm93ZXI6aCxpc0FycmF5OlQuaXNBcnJheSxhc0FycmF5Okwsbm90RW51bWVyYWJsZVByb3A6cCxpc1ByaW1pdGl2ZTphLGlzT2JqZWN0OmMsaXNFcnJvcjpnLGNhbkV2YWx1YXRlOlMsZXJyb3JPYmo6UCx0cnlDYXRjaDpzLGluaGVyaXRzOkEsd2l0aEFwcGVuZGVkOmwsbWF5YmVXcmFwQXNFcnJvcjp1LHRvRmFzdFByb3BlcnRpZXM6XyxmaWxsZWRSYW5nZTp5LHRvU3RyaW5nOm0sY2FuQXR0YWNoVHJhY2U6RSxlbnN1cmVFcnJvck9iamVjdDpOLG9yaWdpbmF0ZXNGcm9tUmVqZWN0aW9uOncsbWFya0FzT3JpZ2luYXRpbmdGcm9tUmVqZWN0aW9uOmIsY2xhc3NTdHJpbmc6Qyxjb3B5RGVzY3JpcHRvcnM6ayxoYXNEZXZUb29sczpcInVuZGVmaW5lZFwiIT10eXBlb2YgY2hyb21lJiZjaHJvbWUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGNocm9tZS5sb2FkVGltZXMsaXNOb2RlOkIsZW52OmosZ2xvYmFsOlIsZ2V0TmF0aXZlUHJvbWlzZTp4LGRvbWFpbkJpbmQ6Rn07TS5pc1JlY2VudE5vZGU9TS5pc05vZGUmJmZ1bmN0aW9uKCl7dmFyIHQ9ZS52ZXJzaW9ucy5ub2RlLnNwbGl0KFwiLlwiKS5tYXAoTnVtYmVyKTtyZXR1cm4gMD09PXRbMF0mJnRbMV0+MTB8fHRbMF0+MH0oKSxNLmlzTm9kZSYmTS50b0Zhc3RQcm9wZXJ0aWVzKGUpO3RyeXt0aHJvdyBuZXcgRXJyb3J9Y2F0Y2goSCl7TS5sYXN0TGluZUVycm9yPUh9ci5leHBvcnRzPU19LHtcIi4vZXM1XCI6MTN9XX0se30sWzRdKSg0KX0pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJm51bGwhPT13aW5kb3c/d2luZG93LlA9d2luZG93LlByb21pc2U6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJm51bGwhPT1zZWxmJiYoc2VsZi5QPXNlbGYuUHJvbWlzZSl9KS5jYWxsKGUsbig0OCksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSxuKDQ5KS5zZXRJbW1lZGlhdGUpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXtmJiZzJiYoZj0hMSxzLmxlbmd0aD9sPXMuY29uY2F0KGwpOnA9LTEsbC5sZW5ndGgmJnIoKSl9ZnVuY3Rpb24gcigpe2lmKCFmKXt2YXIgdD1jKG4pO2Y9ITA7Zm9yKHZhciBlPWwubGVuZ3RoO2U7KXtmb3Iocz1sLGw9W107KytwPGU7KXMmJnNbcF0ucnVuKCk7cD0tMSxlPWwubGVuZ3RofXM9bnVsbCxmPSExLHUodCl9fWZ1bmN0aW9uIGkodCxlKXt0aGlzLmZ1bj10LHRoaXMuYXJyYXk9ZX1mdW5jdGlvbiBvKCl7fXZhciBzLGE9dC5leHBvcnRzPXt9LGM9c2V0VGltZW91dCx1PWNsZWFyVGltZW91dCxsPVtdLGY9ITEscD0tMTthLm5leHRUaWNrPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbi0xXT1hcmd1bWVudHNbbl07bC5wdXNoKG5ldyBpKHQsZSkpLDEhPT1sLmxlbmd0aHx8Znx8YyhyLDApfSxpLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxhLnRpdGxlPVwiYnJvd3NlclwiLGEuYnJvd3Nlcj0hMCxhLmVudj17fSxhLmFyZ3Y9W10sYS52ZXJzaW9uPVwiXCIsYS52ZXJzaW9ucz17fSxhLm9uPW8sYS5hZGRMaXN0ZW5lcj1vLGEub25jZT1vLGEub2ZmPW8sYS5yZW1vdmVMaXN0ZW5lcj1vLGEucmVtb3ZlQWxsTGlzdGVuZXJzPW8sYS5lbWl0PW8sYS5iaW5kaW5nPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkXCIpfSxhLmN3ZD1mdW5jdGlvbigpe3JldHVyblwiL1wifSxhLmNoZGlyPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX0sYS51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbih0LHIpe2Z1bmN0aW9uIGkodCxlKXt0aGlzLl9pZD10LHRoaXMuX2NsZWFyRm49ZX12YXIgbz1uKDQ4KS5uZXh0VGljayxzPUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSxhPUFycmF5LnByb3RvdHlwZS5zbGljZSxjPXt9LHU9MDtlLnNldFRpbWVvdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkocy5jYWxsKHNldFRpbWVvdXQsd2luZG93LGFyZ3VtZW50cyksY2xlYXJUaW1lb3V0KX0sZS5zZXRJbnRlcnZhbD1mdW5jdGlvbigpe3JldHVybiBuZXcgaShzLmNhbGwoc2V0SW50ZXJ2YWwsd2luZG93LGFyZ3VtZW50cyksY2xlYXJJbnRlcnZhbCl9LGUuY2xlYXJUaW1lb3V0PWUuY2xlYXJJbnRlcnZhbD1mdW5jdGlvbih0KXt0LmNsb3NlKCl9LGkucHJvdG90eXBlLnVucmVmPWkucHJvdG90eXBlLnJlZj1mdW5jdGlvbigpe30saS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckZuLmNhbGwod2luZG93LHRoaXMuX2lkKX0sZS5lbnJvbGw9ZnVuY3Rpb24odCxlKXtjbGVhclRpbWVvdXQodC5faWRsZVRpbWVvdXRJZCksdC5faWRsZVRpbWVvdXQ9ZX0sZS51bmVucm9sbD1mdW5jdGlvbih0KXtjbGVhclRpbWVvdXQodC5faWRsZVRpbWVvdXRJZCksdC5faWRsZVRpbWVvdXQ9LTF9LGUuX3VucmVmQWN0aXZlPWUuYWN0aXZlPWZ1bmN0aW9uKHQpe2NsZWFyVGltZW91dCh0Ll9pZGxlVGltZW91dElkKTt2YXIgZT10Ll9pZGxlVGltZW91dDtlPj0wJiYodC5faWRsZVRpbWVvdXRJZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5fb25UaW1lb3V0JiZ0Ll9vblRpbWVvdXQoKX0sZSkpfSxlLnNldEltbWVkaWF0ZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q6ZnVuY3Rpb24odCl7dmFyIG49dSsrLHI9YXJndW1lbnRzLmxlbmd0aDwyPyExOmEuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGNbbl09ITAsbyhmdW5jdGlvbigpe2Nbbl0mJihyP3QuYXBwbHkobnVsbCxyKTp0LmNhbGwobnVsbCksZS5jbGVhckltbWVkaWF0ZShuKSl9KSxufSxlLmNsZWFySW1tZWRpYXRlPVwiZnVuY3Rpb25cIj09dHlwZW9mIHI/cjpmdW5jdGlvbih0KXtkZWxldGUgY1t0XX19KS5jYWxsKGUsbig0OSkuc2V0SW1tZWRpYXRlLG4oNDkpLmNsZWFySW1tZWRpYXRlKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByLGk9aXx8ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7aWYoIShcInVuZGVmaW5lZFwiPT10eXBlb2YgdHx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmL01TSUUgWzEtOV1cXC4vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpKXt2YXIgZT10LmRvY3VtZW50LG49ZnVuY3Rpb24oKXtyZXR1cm4gdC5VUkx8fHQud2Via2l0VVJMfHx0fSxyPWUuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLFwiYVwiKSxpPVwiZG93bmxvYWRcImluIHIsbz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgTW91c2VFdmVudChcImNsaWNrXCIpO3QuZGlzcGF0Y2hFdmVudChlKX0scz0vY29uc3RydWN0b3IvaS50ZXN0KHQuSFRNTEVsZW1lbnQpfHx0LnNhZmFyaSxhPS9DcmlPU1xcL1tcXGRdKy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxjPWZ1bmN0aW9uKGUpeyh0LnNldEltbWVkaWF0ZXx8dC5zZXRUaW1lb3V0KShmdW5jdGlvbigpe3Rocm93IGV9LDApfSx1PVwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIsbD00ZTQsZj1mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbigpe1wic3RyaW5nXCI9PXR5cGVvZiB0P24oKS5yZXZva2VPYmplY3RVUkwodCk6dC5yZW1vdmUoKX07c2V0VGltZW91dChlLGwpfSxwPWZ1bmN0aW9uKHQsZSxuKXtlPVtdLmNvbmNhdChlKTtmb3IodmFyIHI9ZS5sZW5ndGg7ci0tOyl7dmFyIGk9dFtcIm9uXCIrZVtyXV07aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgaSl0cnl7aS5jYWxsKHQsbnx8dCl9Y2F0Y2gobyl7YyhvKX19fSxoPWZ1bmN0aW9uKHQpe3JldHVybi9eXFxzKig/OnRleHRcXC9cXFMqfGFwcGxpY2F0aW9uXFwveG1sfFxcUypcXC9cXFMqXFwreG1sKVxccyo7LipjaGFyc2V0XFxzKj1cXHMqdXRmLTgvaS50ZXN0KHQudHlwZSk/bmV3IEJsb2IoW1N0cmluZy5mcm9tQ2hhckNvZGUoNjUyNzkpLHRdLHt0eXBlOnQudHlwZX0pOnR9LGQ9ZnVuY3Rpb24oZSxjLGwpe2x8fChlPWgoZSkpO3ZhciBkLF89dGhpcyx2PWUudHlwZSx5PXY9PT11LG09ZnVuY3Rpb24oKXtwKF8sXCJ3cml0ZXN0YXJ0IHByb2dyZXNzIHdyaXRlIHdyaXRlZW5kXCIuc3BsaXQoXCIgXCIpKX0sZz1mdW5jdGlvbigpe2lmKChhfHx5JiZzKSYmdC5GaWxlUmVhZGVyKXt2YXIgcj1uZXcgRmlsZVJlYWRlcjtyZXR1cm4gci5vbmxvYWRlbmQ9ZnVuY3Rpb24oKXt2YXIgZT1hP3IucmVzdWx0OnIucmVzdWx0LnJlcGxhY2UoL15kYXRhOlteO10qOy8sXCJkYXRhOmF0dGFjaG1lbnQvZmlsZTtcIiksbj10Lm9wZW4oZSxcIl9ibGFua1wiKTtufHwodC5sb2NhdGlvbi5ocmVmPWUpLGU9dm9pZCAwLF8ucmVhZHlTdGF0ZT1fLkRPTkUsbSgpfSxyLnJlYWRBc0RhdGFVUkwoZSksdm9pZChfLnJlYWR5U3RhdGU9Xy5JTklUKX1pZihkfHwoZD1uKCkuY3JlYXRlT2JqZWN0VVJMKGUpKSx5KXQubG9jYXRpb24uaHJlZj1kO2Vsc2V7dmFyIGk9dC5vcGVuKGQsXCJfYmxhbmtcIik7aXx8KHQubG9jYXRpb24uaHJlZj1kKX1fLnJlYWR5U3RhdGU9Xy5ET05FLG0oKSxmKGQpfTtyZXR1cm4gXy5yZWFkeVN0YXRlPV8uSU5JVCxpPyhkPW4oKS5jcmVhdGVPYmplY3RVUkwoZSksdm9pZCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5ocmVmPWQsci5kb3dubG9hZD1jLG8ociksbSgpLGYoZCksXy5yZWFkeVN0YXRlPV8uRE9ORX0pKTp2b2lkIGcoKX0sXz1kLnByb3RvdHlwZSx2PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IGQodCxlfHx0Lm5hbWV8fFwiZG93bmxvYWRcIixuKX07cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2I/ZnVuY3Rpb24odCxlLG4pe3JldHVybiBlPWV8fHQubmFtZXx8XCJkb3dubG9hZFwiLG58fCh0PWgodCkpLG5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKHQsZSl9OihfLmFib3J0PWZ1bmN0aW9uKCl7fSxfLnJlYWR5U3RhdGU9Xy5JTklUPTAsXy5XUklUSU5HPTEsXy5ET05FPTIsXy5lcnJvcj1fLm9ud3JpdGVzdGFydD1fLm9ucHJvZ3Jlc3M9Xy5vbndyaXRlPV8ub25hYm9ydD1fLm9uZXJyb3I9Xy5vbndyaXRlZW5kPW51bGwsdil9fShcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZnx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93fHx0aGlzLmNvbnRlbnQpO1widW5kZWZpbmVkXCIhPXR5cGVvZiB0JiZ0LmV4cG9ydHM/dC5leHBvcnRzLnNhdmVBcz1pOm51bGwhPT1uKDUxKSYmbnVsbCE9PW4oNTIpJiYocj1mdW5jdGlvbigpe3JldHVybiBpfS5jYWxsKGUsbixlLHQpLCEodm9pZCAwIT09ciYmKHQuZXhwb3J0cz1yKSkpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcImRlZmluZSBjYW5ub3QgYmUgdXNlZCBpbmRpcmVjdFwiKX19LGZ1bmN0aW9uKHQsZSl7KGZ1bmN0aW9uKGUpe3QuZXhwb3J0cz1lfSkuY2FsbChlLHt9KX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e25hbWU6XCJlcHViLXByZXNzLWpzXCIsdmVyc2lvbjpcIjAuNS4xXCIsZGVzY3JpcHRpb246XCJKYXZhc2NyaXB0IGNsaWVudCBmb3IgYnVpbGRpbmcgYm9va3Mgd2l0aCBFcHViUHJlc3MuXCIsaG9tZXBhZ2U6XCJodHRwczovL2dpdGh1Yi5jb20vaGFyb2xkdHJlZW4vZXB1Yi1wcmVzcy1jbGllbnRzI3JlYWRtZVwiLGJhc2VVcmw6XCJodHRwczovL2VwdWIucHJlc3NcIixtYWluOlwiYnVpbGQvaW5kZXguanNcIixkaXJlY3Rvcmllczp7dGVzdHM6XCJ0ZXN0XCJ9LHNjcmlwdHM6e3Rlc3Q6XCJleHBvcnQgTk9ERV9FTlY9dGVzdCAmJiBvcGVuIGh0dHA6Ly9sb2NhbGhvc3Q6NTAwMS90ZXN0cyAmJiB3ZWJwYWNrLWRldi1zZXJ2ZXJcIixzdGFydDpcImV4cG9ydCBOT0RFX0VOVj1kZXZlbG9wbWVudCAmJiB3ZWJwYWNrIC0td2F0Y2ggLS1wcm9ncmVzcyAtLWNvbG9yXCIsYnVpbGQ6XCJleHBvcnQgTk9ERV9FTlY9ZGV2ZWxvcG1lbnQgJiYgd2VicGFja1wiLFwiYnVpbGQtcHJvZFwiOlwiZXhwb3J0IE5PREVfRU5WPXByb2R1Y3Rpb24gJiYgd2VicGFjayAtLW9wdGltaXplLW1pbmltaXplIC0tb3B0aW1pemUtZGVkdXBlXCIscHJldmVyc2lvbjpcIm5wbSBydW4tc2NyaXB0IGJ1aWxkLXByb2RcIixwcmVwdWJsaXNoOlwibnBtIHJ1biBidWlsZC1wcm9kXCJ9LHJlcG9zaXRvcnk6e3R5cGU6XCJnaXRcIix1cmw6XCJnaXQraHR0cHM6Ly9naXRodWIuY29tL2hhcm9sZHRyZWVuL2VwdWItcHJlc3MtY2xpZW50cy5naXRcIn0sa2V5d29yZHM6W1wiZXB1YlwiLFwicHVibGlzaGluZ1wiLFwicHJvZHVjdGl2aXR5XCIsXCJjbGllbnRcIixcImVwdWJwcmVzc1wiLFwiZWJvb2tzXCIsXCJjb250ZW50XCIsXCJleHRyYWN0aW9uXCJdLGF1dGhvcjpcIkVwdWJQcmVzc1wiLGxpY2Vuc2U6XCJJU0NcIixidWdzOnt1cmw6XCJodHRwczovL2dpdGh1Yi5jb20vaGFyb2xkdHJlZW4vZXB1Yi1wcmVzcy1jbGllbnRzL2lzc3Vlc1wifSxkZXZEZXBlbmRlbmNpZXM6e1wiYmFiZWwtY29yZVwiOlwiXjYuMTcuMFwiLFwiYmFiZWwtbG9hZGVyXCI6XCJeNi4yLjRcIixcImJhYmVsLXBsdWdpbi10cmFuc2Zvcm0tcnVudGltZVwiOlwiXjYuOS4wXCIsXCJiYWJlbC1wcmVzZXQtZXMyMDE1XCI6XCJeNi45LjBcIixjaGFpOlwiXjMuNS4wXCIsXCJmZXRjaC1tb2NrXCI6XCJeNS4wLjNcIixtb2NoYTpcIl4yLjUuM1wiLFwibW9jaGEtbG9hZGVyXCI6XCJeMS4wLjBcIixzaW5vbjpcImdpdCtodHRwczovL2dpdGh1Yi5jb20vc2lub25qcy9zaW5vbi5naXRcIixcInNpbm9uLWFzLXByb21pc2VkXCI6XCJeNC4wLjJcIix3ZWJwYWNrOlwiXjEuMTMuMVwifSxkZXBlbmRlbmNpZXM6e2JsdWViaXJkOlwiXjMuNC42XCIsXCJmaWxlLXNhdmVyXCI6XCJeMS4zLjNcIixcImlzb21vcnBoaWMtZmV0Y2hcIjpcIl4yLjIuMVwiLFwianNvbi1sb2FkZXJcIjpcIl4wLjUuNFwifX19LGZ1bmN0aW9uKHQsbil7dC5leHBvcnRzPWV9XSl9KTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNDMpKSlcblxuLyoqKi8gfSxcbi8qIDQzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187Lyplc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyovXG5cdC8qIVxuXHQgKiBqUXVlcnkgSmF2YVNjcmlwdCBMaWJyYXJ5IHYzLjEuMFxuXHQgKiBodHRwczovL2pxdWVyeS5jb20vXG5cdCAqXG5cdCAqIEluY2x1ZGVzIFNpenpsZS5qc1xuXHQgKiBodHRwczovL3NpenpsZWpzLmNvbS9cblx0ICpcblx0ICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcblx0ICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG5cdCAqIGh0dHBzOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG5cdCAqXG5cdCAqIERhdGU6IDIwMTYtMDctMDdUMjE6NDRaXG5cdCAqL1xuXHQoIGZ1bmN0aW9uKCBnbG9iYWwsIGZhY3RvcnkgKSB7XG5cdFxuXHRcdFwidXNlIHN0cmljdFwiO1xuXHRcblx0XHRpZiAoIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSBcIm9iamVjdFwiICkge1xuXHRcblx0XHRcdC8vIEZvciBDb21tb25KUyBhbmQgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgd2hlcmUgYSBwcm9wZXIgYHdpbmRvd2Bcblx0XHRcdC8vIGlzIHByZXNlbnQsIGV4ZWN1dGUgdGhlIGZhY3RvcnkgYW5kIGdldCBqUXVlcnkuXG5cdFx0XHQvLyBGb3IgZW52aXJvbm1lbnRzIHRoYXQgZG8gbm90IGhhdmUgYSBgd2luZG93YCB3aXRoIGEgYGRvY3VtZW50YFxuXHRcdFx0Ly8gKHN1Y2ggYXMgTm9kZS5qcyksIGV4cG9zZSBhIGZhY3RvcnkgYXMgbW9kdWxlLmV4cG9ydHMuXG5cdFx0XHQvLyBUaGlzIGFjY2VudHVhdGVzIHRoZSBuZWVkIGZvciB0aGUgY3JlYXRpb24gb2YgYSByZWFsIGB3aW5kb3dgLlxuXHRcdFx0Ly8gZS5nLiB2YXIgalF1ZXJ5ID0gcmVxdWlyZShcImpxdWVyeVwiKSh3aW5kb3cpO1xuXHRcdFx0Ly8gU2VlIHRpY2tldCAjMTQ1NDkgZm9yIG1vcmUgaW5mby5cblx0XHRcdG1vZHVsZS5leHBvcnRzID0gZ2xvYmFsLmRvY3VtZW50ID9cblx0XHRcdFx0ZmFjdG9yeSggZ2xvYmFsLCB0cnVlICkgOlxuXHRcdFx0XHRmdW5jdGlvbiggdyApIHtcblx0XHRcdFx0XHRpZiAoICF3LmRvY3VtZW50ICkge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCBcImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnRcIiApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gZmFjdG9yeSggdyApO1xuXHRcdFx0XHR9O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRmYWN0b3J5KCBnbG9iYWwgKTtcblx0XHR9XG5cdFxuXHQvLyBQYXNzIHRoaXMgaWYgd2luZG93IGlzIG5vdCBkZWZpbmVkIHlldFxuXHR9ICkoIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbiggd2luZG93LCBub0dsb2JhbCApIHtcblx0XG5cdC8vIEVkZ2UgPD0gMTIgLSAxMyssIEZpcmVmb3ggPD0xOCAtIDQ1KywgSUUgMTAgLSAxMSwgU2FmYXJpIDUuMSAtIDkrLCBpT1MgNiAtIDkuMVxuXHQvLyB0aHJvdyBleGNlcHRpb25zIHdoZW4gbm9uLXN0cmljdCBjb2RlIChlLmcuLCBBU1AuTkVUIDQuNSkgYWNjZXNzZXMgc3RyaWN0IG1vZGVcblx0Ly8gYXJndW1lbnRzLmNhbGxlZS5jYWxsZXIgKHRyYWMtMTMzMzUpLiBCdXQgYXMgb2YgalF1ZXJ5IDMuMCAoMjAxNiksIHN0cmljdCBtb2RlIHNob3VsZCBiZSBjb21tb25cblx0Ly8gZW5vdWdoIHRoYXQgYWxsIHN1Y2ggYXR0ZW1wdHMgYXJlIGd1YXJkZWQgaW4gYSB0cnkgYmxvY2suXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIGFyciA9IFtdO1xuXHRcblx0dmFyIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50O1xuXHRcblx0dmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuXHRcblx0dmFyIHNsaWNlID0gYXJyLnNsaWNlO1xuXHRcblx0dmFyIGNvbmNhdCA9IGFyci5jb25jYXQ7XG5cdFxuXHR2YXIgcHVzaCA9IGFyci5wdXNoO1xuXHRcblx0dmFyIGluZGV4T2YgPSBhcnIuaW5kZXhPZjtcblx0XG5cdHZhciBjbGFzczJ0eXBlID0ge307XG5cdFxuXHR2YXIgdG9TdHJpbmcgPSBjbGFzczJ0eXBlLnRvU3RyaW5nO1xuXHRcblx0dmFyIGhhc093biA9IGNsYXNzMnR5cGUuaGFzT3duUHJvcGVydHk7XG5cdFxuXHR2YXIgZm5Ub1N0cmluZyA9IGhhc093bi50b1N0cmluZztcblx0XG5cdHZhciBPYmplY3RGdW5jdGlvblN0cmluZyA9IGZuVG9TdHJpbmcuY2FsbCggT2JqZWN0ICk7XG5cdFxuXHR2YXIgc3VwcG9ydCA9IHt9O1xuXHRcblx0XG5cdFxuXHRcdGZ1bmN0aW9uIERPTUV2YWwoIGNvZGUsIGRvYyApIHtcblx0XHRcdGRvYyA9IGRvYyB8fCBkb2N1bWVudDtcblx0XG5cdFx0XHR2YXIgc2NyaXB0ID0gZG9jLmNyZWF0ZUVsZW1lbnQoIFwic2NyaXB0XCIgKTtcblx0XG5cdFx0XHRzY3JpcHQudGV4dCA9IGNvZGU7XG5cdFx0XHRkb2MuaGVhZC5hcHBlbmRDaGlsZCggc2NyaXB0ICkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggc2NyaXB0ICk7XG5cdFx0fVxuXHQvKiBnbG9iYWwgU3ltYm9sICovXG5cdC8vIERlZmluaW5nIHRoaXMgZ2xvYmFsIGluIC5lc2xpbnRyYyB3b3VsZCBjcmVhdGUgYSBkYW5nZXIgb2YgdXNpbmcgdGhlIGdsb2JhbFxuXHQvLyB1bmd1YXJkZWQgaW4gYW5vdGhlciBwbGFjZSwgaXQgc2VlbXMgc2FmZXIgdG8gZGVmaW5lIGdsb2JhbCBvbmx5IGZvciB0aGlzIG1vZHVsZVxuXHRcblx0XG5cdFxuXHR2YXJcblx0XHR2ZXJzaW9uID0gXCIzLjEuMFwiLFxuXHRcblx0XHQvLyBEZWZpbmUgYSBsb2NhbCBjb3B5IG9mIGpRdWVyeVxuXHRcdGpRdWVyeSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcblx0XG5cdFx0XHQvLyBUaGUgalF1ZXJ5IG9iamVjdCBpcyBhY3R1YWxseSBqdXN0IHRoZSBpbml0IGNvbnN0cnVjdG9yICdlbmhhbmNlZCdcblx0XHRcdC8vIE5lZWQgaW5pdCBpZiBqUXVlcnkgaXMgY2FsbGVkIChqdXN0IGFsbG93IGVycm9yIHRvIGJlIHRocm93biBpZiBub3QgaW5jbHVkZWQpXG5cdFx0XHRyZXR1cm4gbmV3IGpRdWVyeS5mbi5pbml0KCBzZWxlY3RvciwgY29udGV4dCApO1xuXHRcdH0sXG5cdFxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seVxuXHRcdC8vIE1ha2Ugc3VyZSB3ZSB0cmltIEJPTSBhbmQgTkJTUFxuXHRcdHJ0cmltID0gL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLFxuXHRcblx0XHQvLyBNYXRjaGVzIGRhc2hlZCBzdHJpbmcgZm9yIGNhbWVsaXppbmdcblx0XHRybXNQcmVmaXggPSAvXi1tcy0vLFxuXHRcdHJkYXNoQWxwaGEgPSAvLShbYS16XSkvZyxcblx0XG5cdFx0Ly8gVXNlZCBieSBqUXVlcnkuY2FtZWxDYXNlIGFzIGNhbGxiYWNrIHRvIHJlcGxhY2UoKVxuXHRcdGZjYW1lbENhc2UgPSBmdW5jdGlvbiggYWxsLCBsZXR0ZXIgKSB7XG5cdFx0XHRyZXR1cm4gbGV0dGVyLnRvVXBwZXJDYXNlKCk7XG5cdFx0fTtcblx0XG5cdGpRdWVyeS5mbiA9IGpRdWVyeS5wcm90b3R5cGUgPSB7XG5cdFxuXHRcdC8vIFRoZSBjdXJyZW50IHZlcnNpb24gb2YgalF1ZXJ5IGJlaW5nIHVzZWRcblx0XHRqcXVlcnk6IHZlcnNpb24sXG5cdFxuXHRcdGNvbnN0cnVjdG9yOiBqUXVlcnksXG5cdFxuXHRcdC8vIFRoZSBkZWZhdWx0IGxlbmd0aCBvZiBhIGpRdWVyeSBvYmplY3QgaXMgMFxuXHRcdGxlbmd0aDogMCxcblx0XG5cdFx0dG9BcnJheTogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gc2xpY2UuY2FsbCggdGhpcyApO1xuXHRcdH0sXG5cdFxuXHRcdC8vIEdldCB0aGUgTnRoIGVsZW1lbnQgaW4gdGhlIG1hdGNoZWQgZWxlbWVudCBzZXQgT1Jcblx0XHQvLyBHZXQgdGhlIHdob2xlIG1hdGNoZWQgZWxlbWVudCBzZXQgYXMgYSBjbGVhbiBhcnJheVxuXHRcdGdldDogZnVuY3Rpb24oIG51bSApIHtcblx0XHRcdHJldHVybiBudW0gIT0gbnVsbCA/XG5cdFxuXHRcdFx0XHQvLyBSZXR1cm4ganVzdCB0aGUgb25lIGVsZW1lbnQgZnJvbSB0aGUgc2V0XG5cdFx0XHRcdCggbnVtIDwgMCA/IHRoaXNbIG51bSArIHRoaXMubGVuZ3RoIF0gOiB0aGlzWyBudW0gXSApIDpcblx0XG5cdFx0XHRcdC8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIGluIGEgY2xlYW4gYXJyYXlcblx0XHRcdFx0c2xpY2UuY2FsbCggdGhpcyApO1xuXHRcdH0sXG5cdFxuXHRcdC8vIFRha2UgYW4gYXJyYXkgb2YgZWxlbWVudHMgYW5kIHB1c2ggaXQgb250byB0aGUgc3RhY2tcblx0XHQvLyAocmV0dXJuaW5nIHRoZSBuZXcgbWF0Y2hlZCBlbGVtZW50IHNldClcblx0XHRwdXNoU3RhY2s6IGZ1bmN0aW9uKCBlbGVtcyApIHtcblx0XG5cdFx0XHQvLyBCdWlsZCBhIG5ldyBqUXVlcnkgbWF0Y2hlZCBlbGVtZW50IHNldFxuXHRcdFx0dmFyIHJldCA9IGpRdWVyeS5tZXJnZSggdGhpcy5jb25zdHJ1Y3RvcigpLCBlbGVtcyApO1xuXHRcblx0XHRcdC8vIEFkZCB0aGUgb2xkIG9iamVjdCBvbnRvIHRoZSBzdGFjayAoYXMgYSByZWZlcmVuY2UpXG5cdFx0XHRyZXQucHJldk9iamVjdCA9IHRoaXM7XG5cdFxuXHRcdFx0Ly8gUmV0dXJuIHRoZSBuZXdseS1mb3JtZWQgZWxlbWVudCBzZXRcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fSxcblx0XG5cdFx0Ly8gRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBldmVyeSBlbGVtZW50IGluIHRoZSBtYXRjaGVkIHNldC5cblx0XHRlYWNoOiBmdW5jdGlvbiggY2FsbGJhY2sgKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmVhY2goIHRoaXMsIGNhbGxiYWNrICk7XG5cdFx0fSxcblx0XG5cdFx0bWFwOiBmdW5jdGlvbiggY2FsbGJhY2sgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeS5tYXAoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBpICkge1xuXHRcdFx0XHRyZXR1cm4gY2FsbGJhY2suY2FsbCggZWxlbSwgaSwgZWxlbSApO1xuXHRcdFx0fSApICk7XG5cdFx0fSxcblx0XG5cdFx0c2xpY2U6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBzbGljZS5hcHBseSggdGhpcywgYXJndW1lbnRzICkgKTtcblx0XHR9LFxuXHRcblx0XHRmaXJzdDogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lcSggMCApO1xuXHRcdH0sXG5cdFxuXHRcdGxhc3Q6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZXEoIC0xICk7XG5cdFx0fSxcblx0XG5cdFx0ZXE6IGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0dmFyIGxlbiA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0XHRqID0gK2kgKyAoIGkgPCAwID8gbGVuIDogMCApO1xuXHRcdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqID49IDAgJiYgaiA8IGxlbiA/IFsgdGhpc1sgaiBdIF0gOiBbXSApO1xuXHRcdH0sXG5cdFxuXHRcdGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wcmV2T2JqZWN0IHx8IHRoaXMuY29uc3RydWN0b3IoKTtcblx0XHR9LFxuXHRcblx0XHQvLyBGb3IgaW50ZXJuYWwgdXNlIG9ubHkuXG5cdFx0Ly8gQmVoYXZlcyBsaWtlIGFuIEFycmF5J3MgbWV0aG9kLCBub3QgbGlrZSBhIGpRdWVyeSBtZXRob2QuXG5cdFx0cHVzaDogcHVzaCxcblx0XHRzb3J0OiBhcnIuc29ydCxcblx0XHRzcGxpY2U6IGFyci5zcGxpY2Vcblx0fTtcblx0XG5cdGpRdWVyeS5leHRlbmQgPSBqUXVlcnkuZm4uZXh0ZW5kID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG9wdGlvbnMsIG5hbWUsIHNyYywgY29weSwgY29weUlzQXJyYXksIGNsb25lLFxuXHRcdFx0dGFyZ2V0ID0gYXJndW1lbnRzWyAwIF0gfHwge30sXG5cdFx0XHRpID0gMSxcblx0XHRcdGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdFx0XHRkZWVwID0gZmFsc2U7XG5cdFxuXHRcdC8vIEhhbmRsZSBhIGRlZXAgY29weSBzaXR1YXRpb25cblx0XHRpZiAoIHR5cGVvZiB0YXJnZXQgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdFx0ZGVlcCA9IHRhcmdldDtcblx0XG5cdFx0XHQvLyBTa2lwIHRoZSBib29sZWFuIGFuZCB0aGUgdGFyZ2V0XG5cdFx0XHR0YXJnZXQgPSBhcmd1bWVudHNbIGkgXSB8fCB7fTtcblx0XHRcdGkrKztcblx0XHR9XG5cdFxuXHRcdC8vIEhhbmRsZSBjYXNlIHdoZW4gdGFyZ2V0IGlzIGEgc3RyaW5nIG9yIHNvbWV0aGluZyAocG9zc2libGUgaW4gZGVlcCBjb3B5KVxuXHRcdGlmICggdHlwZW9mIHRhcmdldCAhPT0gXCJvYmplY3RcIiAmJiAhalF1ZXJ5LmlzRnVuY3Rpb24oIHRhcmdldCApICkge1xuXHRcdFx0dGFyZ2V0ID0ge307XG5cdFx0fVxuXHRcblx0XHQvLyBFeHRlbmQgalF1ZXJ5IGl0c2VsZiBpZiBvbmx5IG9uZSBhcmd1bWVudCBpcyBwYXNzZWRcblx0XHRpZiAoIGkgPT09IGxlbmd0aCApIHtcblx0XHRcdHRhcmdldCA9IHRoaXM7XG5cdFx0XHRpLS07XG5cdFx0fVxuXHRcblx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XG5cdFx0XHQvLyBPbmx5IGRlYWwgd2l0aCBub24tbnVsbC91bmRlZmluZWQgdmFsdWVzXG5cdFx0XHRpZiAoICggb3B0aW9ucyA9IGFyZ3VtZW50c1sgaSBdICkgIT0gbnVsbCApIHtcblx0XG5cdFx0XHRcdC8vIEV4dGVuZCB0aGUgYmFzZSBvYmplY3Rcblx0XHRcdFx0Zm9yICggbmFtZSBpbiBvcHRpb25zICkge1xuXHRcdFx0XHRcdHNyYyA9IHRhcmdldFsgbmFtZSBdO1xuXHRcdFx0XHRcdGNvcHkgPSBvcHRpb25zWyBuYW1lIF07XG5cdFxuXHRcdFx0XHRcdC8vIFByZXZlbnQgbmV2ZXItZW5kaW5nIGxvb3Bcblx0XHRcdFx0XHRpZiAoIHRhcmdldCA9PT0gY29weSApIHtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gUmVjdXJzZSBpZiB3ZSdyZSBtZXJnaW5nIHBsYWluIG9iamVjdHMgb3IgYXJyYXlzXG5cdFx0XHRcdFx0aWYgKCBkZWVwICYmIGNvcHkgJiYgKCBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29weSApIHx8XG5cdFx0XHRcdFx0XHQoIGNvcHlJc0FycmF5ID0galF1ZXJ5LmlzQXJyYXkoIGNvcHkgKSApICkgKSB7XG5cdFxuXHRcdFx0XHRcdFx0aWYgKCBjb3B5SXNBcnJheSApIHtcblx0XHRcdFx0XHRcdFx0Y29weUlzQXJyYXkgPSBmYWxzZTtcblx0XHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmMgJiYgalF1ZXJ5LmlzQXJyYXkoIHNyYyApID8gc3JjIDogW107XG5cdFxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmMgJiYgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIHNyYyApID8gc3JjIDoge307XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0Ly8gTmV2ZXIgbW92ZSBvcmlnaW5hbCBvYmplY3RzLCBjbG9uZSB0aGVtXG5cdFx0XHRcdFx0XHR0YXJnZXRbIG5hbWUgXSA9IGpRdWVyeS5leHRlbmQoIGRlZXAsIGNsb25lLCBjb3B5ICk7XG5cdFxuXHRcdFx0XHRcdC8vIERvbid0IGJyaW5nIGluIHVuZGVmaW5lZCB2YWx1ZXNcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCBjb3B5ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0XHR0YXJnZXRbIG5hbWUgXSA9IGNvcHk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHQvLyBSZXR1cm4gdGhlIG1vZGlmaWVkIG9iamVjdFxuXHRcdHJldHVybiB0YXJnZXQ7XG5cdH07XG5cdFxuXHRqUXVlcnkuZXh0ZW5kKCB7XG5cdFxuXHRcdC8vIFVuaXF1ZSBmb3IgZWFjaCBjb3B5IG9mIGpRdWVyeSBvbiB0aGUgcGFnZVxuXHRcdGV4cGFuZG86IFwialF1ZXJ5XCIgKyAoIHZlcnNpb24gKyBNYXRoLnJhbmRvbSgpICkucmVwbGFjZSggL1xcRC9nLCBcIlwiICksXG5cdFxuXHRcdC8vIEFzc3VtZSBqUXVlcnkgaXMgcmVhZHkgd2l0aG91dCB0aGUgcmVhZHkgbW9kdWxlXG5cdFx0aXNSZWFkeTogdHJ1ZSxcblx0XG5cdFx0ZXJyb3I6IGZ1bmN0aW9uKCBtc2cgKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoIG1zZyApO1xuXHRcdH0sXG5cdFxuXHRcdG5vb3A6IGZ1bmN0aW9uKCkge30sXG5cdFxuXHRcdGlzRnVuY3Rpb246IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LnR5cGUoIG9iaiApID09PSBcImZ1bmN0aW9uXCI7XG5cdFx0fSxcblx0XG5cdFx0aXNBcnJheTogQXJyYXkuaXNBcnJheSxcblx0XG5cdFx0aXNXaW5kb3c6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0XHRyZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqID09PSBvYmoud2luZG93O1xuXHRcdH0sXG5cdFxuXHRcdGlzTnVtZXJpYzogZnVuY3Rpb24oIG9iaiApIHtcblx0XG5cdFx0XHQvLyBBcyBvZiBqUXVlcnkgMy4wLCBpc051bWVyaWMgaXMgbGltaXRlZCB0b1xuXHRcdFx0Ly8gc3RyaW5ncyBhbmQgbnVtYmVycyAocHJpbWl0aXZlcyBvciBvYmplY3RzKVxuXHRcdFx0Ly8gdGhhdCBjYW4gYmUgY29lcmNlZCB0byBmaW5pdGUgbnVtYmVycyAoZ2gtMjY2Milcblx0XHRcdHZhciB0eXBlID0galF1ZXJ5LnR5cGUoIG9iaiApO1xuXHRcdFx0cmV0dXJuICggdHlwZSA9PT0gXCJudW1iZXJcIiB8fCB0eXBlID09PSBcInN0cmluZ1wiICkgJiZcblx0XG5cdFx0XHRcdC8vIHBhcnNlRmxvYXQgTmFOcyBudW1lcmljLWNhc3QgZmFsc2UgcG9zaXRpdmVzIChcIlwiKVxuXHRcdFx0XHQvLyAuLi5idXQgbWlzaW50ZXJwcmV0cyBsZWFkaW5nLW51bWJlciBzdHJpbmdzLCBwYXJ0aWN1bGFybHkgaGV4IGxpdGVyYWxzIChcIjB4Li4uXCIpXG5cdFx0XHRcdC8vIHN1YnRyYWN0aW9uIGZvcmNlcyBpbmZpbml0aWVzIHRvIE5hTlxuXHRcdFx0XHQhaXNOYU4oIG9iaiAtIHBhcnNlRmxvYXQoIG9iaiApICk7XG5cdFx0fSxcblx0XG5cdFx0aXNQbGFpbk9iamVjdDogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRcdHZhciBwcm90bywgQ3Rvcjtcblx0XG5cdFx0XHQvLyBEZXRlY3Qgb2J2aW91cyBuZWdhdGl2ZXNcblx0XHRcdC8vIFVzZSB0b1N0cmluZyBpbnN0ZWFkIG9mIGpRdWVyeS50eXBlIHRvIGNhdGNoIGhvc3Qgb2JqZWN0c1xuXHRcdFx0aWYgKCAhb2JqIHx8IHRvU3RyaW5nLmNhbGwoIG9iaiApICE9PSBcIltvYmplY3QgT2JqZWN0XVwiICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cHJvdG8gPSBnZXRQcm90byggb2JqICk7XG5cdFxuXHRcdFx0Ly8gT2JqZWN0cyB3aXRoIG5vIHByb3RvdHlwZSAoZS5nLiwgYE9iamVjdC5jcmVhdGUoIG51bGwgKWApIGFyZSBwbGFpblxuXHRcdFx0aWYgKCAhcHJvdG8gKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIE9iamVjdHMgd2l0aCBwcm90b3R5cGUgYXJlIHBsYWluIGlmZiB0aGV5IHdlcmUgY29uc3RydWN0ZWQgYnkgYSBnbG9iYWwgT2JqZWN0IGZ1bmN0aW9uXG5cdFx0XHRDdG9yID0gaGFzT3duLmNhbGwoIHByb3RvLCBcImNvbnN0cnVjdG9yXCIgKSAmJiBwcm90by5jb25zdHJ1Y3Rvcjtcblx0XHRcdHJldHVybiB0eXBlb2YgQ3RvciA9PT0gXCJmdW5jdGlvblwiICYmIGZuVG9TdHJpbmcuY2FsbCggQ3RvciApID09PSBPYmplY3RGdW5jdGlvblN0cmluZztcblx0XHR9LFxuXHRcblx0XHRpc0VtcHR5T2JqZWN0OiBmdW5jdGlvbiggb2JqICkge1xuXHRcblx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5cdFx0XHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2VzbGludC9lc2xpbnQvaXNzdWVzLzYxMjVcblx0XHRcdHZhciBuYW1lO1xuXHRcblx0XHRcdGZvciAoIG5hbWUgaW4gb2JqICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9LFxuXHRcblx0XHR0eXBlOiBmdW5jdGlvbiggb2JqICkge1xuXHRcdFx0aWYgKCBvYmogPT0gbnVsbCApIHtcblx0XHRcdFx0cmV0dXJuIG9iaiArIFwiXCI7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTIuMyBvbmx5IChmdW5jdGlvbmlzaCBSZWdFeHApXG5cdFx0XHRyZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCIgP1xuXHRcdFx0XHRjbGFzczJ0eXBlWyB0b1N0cmluZy5jYWxsKCBvYmogKSBdIHx8IFwib2JqZWN0XCIgOlxuXHRcdFx0XHR0eXBlb2Ygb2JqO1xuXHRcdH0sXG5cdFxuXHRcdC8vIEV2YWx1YXRlcyBhIHNjcmlwdCBpbiBhIGdsb2JhbCBjb250ZXh0XG5cdFx0Z2xvYmFsRXZhbDogZnVuY3Rpb24oIGNvZGUgKSB7XG5cdFx0XHRET01FdmFsKCBjb2RlICk7XG5cdFx0fSxcblx0XG5cdFx0Ly8gQ29udmVydCBkYXNoZWQgdG8gY2FtZWxDYXNlOyB1c2VkIGJ5IHRoZSBjc3MgYW5kIGRhdGEgbW9kdWxlc1xuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExLCBFZGdlIDEyIC0gMTNcblx0XHQvLyBNaWNyb3NvZnQgZm9yZ290IHRvIGh1bXAgdGhlaXIgdmVuZG9yIHByZWZpeCAoIzk1NzIpXG5cdFx0Y2FtZWxDYXNlOiBmdW5jdGlvbiggc3RyaW5nICkge1xuXHRcdFx0cmV0dXJuIHN0cmluZy5yZXBsYWNlKCBybXNQcmVmaXgsIFwibXMtXCIgKS5yZXBsYWNlKCByZGFzaEFscGhhLCBmY2FtZWxDYXNlICk7XG5cdFx0fSxcblx0XG5cdFx0bm9kZU5hbWU6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdFx0cmV0dXJuIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0fSxcblx0XG5cdFx0ZWFjaDogZnVuY3Rpb24oIG9iaiwgY2FsbGJhY2sgKSB7XG5cdFx0XHR2YXIgbGVuZ3RoLCBpID0gMDtcblx0XG5cdFx0XHRpZiAoIGlzQXJyYXlMaWtlKCBvYmogKSApIHtcblx0XHRcdFx0bGVuZ3RoID0gb2JqLmxlbmd0aDtcblx0XHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBjYWxsYmFjay5jYWxsKCBvYmpbIGkgXSwgaSwgb2JqWyBpIF0gKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZvciAoIGkgaW4gb2JqICkge1xuXHRcdFx0XHRcdGlmICggY2FsbGJhY2suY2FsbCggb2JqWyBpIF0sIGksIG9ialsgaSBdICkgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIG9iajtcblx0XHR9LFxuXHRcblx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHlcblx0XHR0cmltOiBmdW5jdGlvbiggdGV4dCApIHtcblx0XHRcdHJldHVybiB0ZXh0ID09IG51bGwgP1xuXHRcdFx0XHRcIlwiIDpcblx0XHRcdFx0KCB0ZXh0ICsgXCJcIiApLnJlcGxhY2UoIHJ0cmltLCBcIlwiICk7XG5cdFx0fSxcblx0XG5cdFx0Ly8gcmVzdWx0cyBpcyBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seVxuXHRcdG1ha2VBcnJheTogZnVuY3Rpb24oIGFyciwgcmVzdWx0cyApIHtcblx0XHRcdHZhciByZXQgPSByZXN1bHRzIHx8IFtdO1xuXHRcblx0XHRcdGlmICggYXJyICE9IG51bGwgKSB7XG5cdFx0XHRcdGlmICggaXNBcnJheUxpa2UoIE9iamVjdCggYXJyICkgKSApIHtcblx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIHJldCxcblx0XHRcdFx0XHRcdHR5cGVvZiBhcnIgPT09IFwic3RyaW5nXCIgP1xuXHRcdFx0XHRcdFx0WyBhcnIgXSA6IGFyclxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cHVzaC5jYWxsKCByZXQsIGFyciApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9LFxuXHRcblx0XHRpbkFycmF5OiBmdW5jdGlvbiggZWxlbSwgYXJyLCBpICkge1xuXHRcdFx0cmV0dXJuIGFyciA9PSBudWxsID8gLTEgOiBpbmRleE9mLmNhbGwoIGFyciwgZWxlbSwgaSApO1xuXHRcdH0sXG5cdFxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRtZXJnZTogZnVuY3Rpb24oIGZpcnN0LCBzZWNvbmQgKSB7XG5cdFx0XHR2YXIgbGVuID0gK3NlY29uZC5sZW5ndGgsXG5cdFx0XHRcdGogPSAwLFxuXHRcdFx0XHRpID0gZmlyc3QubGVuZ3RoO1xuXHRcblx0XHRcdGZvciAoIDsgaiA8IGxlbjsgaisrICkge1xuXHRcdFx0XHRmaXJzdFsgaSsrIF0gPSBzZWNvbmRbIGogXTtcblx0XHRcdH1cblx0XG5cdFx0XHRmaXJzdC5sZW5ndGggPSBpO1xuXHRcblx0XHRcdHJldHVybiBmaXJzdDtcblx0XHR9LFxuXHRcblx0XHRncmVwOiBmdW5jdGlvbiggZWxlbXMsIGNhbGxiYWNrLCBpbnZlcnQgKSB7XG5cdFx0XHR2YXIgY2FsbGJhY2tJbnZlcnNlLFxuXHRcdFx0XHRtYXRjaGVzID0gW10sXG5cdFx0XHRcdGkgPSAwLFxuXHRcdFx0XHRsZW5ndGggPSBlbGVtcy5sZW5ndGgsXG5cdFx0XHRcdGNhbGxiYWNrRXhwZWN0ID0gIWludmVydDtcblx0XG5cdFx0XHQvLyBHbyB0aHJvdWdoIHRoZSBhcnJheSwgb25seSBzYXZpbmcgdGhlIGl0ZW1zXG5cdFx0XHQvLyB0aGF0IHBhc3MgdGhlIHZhbGlkYXRvciBmdW5jdGlvblxuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdGNhbGxiYWNrSW52ZXJzZSA9ICFjYWxsYmFjayggZWxlbXNbIGkgXSwgaSApO1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrSW52ZXJzZSAhPT0gY2FsbGJhY2tFeHBlY3QgKSB7XG5cdFx0XHRcdFx0bWF0Y2hlcy5wdXNoKCBlbGVtc1sgaSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gbWF0Y2hlcztcblx0XHR9LFxuXHRcblx0XHQvLyBhcmcgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHlcblx0XHRtYXA6IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ssIGFyZyApIHtcblx0XHRcdHZhciBsZW5ndGgsIHZhbHVlLFxuXHRcdFx0XHRpID0gMCxcblx0XHRcdFx0cmV0ID0gW107XG5cdFxuXHRcdFx0Ly8gR28gdGhyb3VnaCB0aGUgYXJyYXksIHRyYW5zbGF0aW5nIGVhY2ggb2YgdGhlIGl0ZW1zIHRvIHRoZWlyIG5ldyB2YWx1ZXNcblx0XHRcdGlmICggaXNBcnJheUxpa2UoIGVsZW1zICkgKSB7XG5cdFx0XHRcdGxlbmd0aCA9IGVsZW1zLmxlbmd0aDtcblx0XHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSBjYWxsYmFjayggZWxlbXNbIGkgXSwgaSwgYXJnICk7XG5cdFxuXHRcdFx0XHRcdGlmICggdmFsdWUgIT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdHJldC5wdXNoKCB2YWx1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcblx0XHRcdC8vIEdvIHRocm91Z2ggZXZlcnkga2V5IG9uIHRoZSBvYmplY3QsXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmb3IgKCBpIGluIGVsZW1zICkge1xuXHRcdFx0XHRcdHZhbHVlID0gY2FsbGJhY2soIGVsZW1zWyBpIF0sIGksIGFyZyApO1xuXHRcblx0XHRcdFx0XHRpZiAoIHZhbHVlICE9IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRyZXQucHVzaCggdmFsdWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHQvLyBGbGF0dGVuIGFueSBuZXN0ZWQgYXJyYXlzXG5cdFx0XHRyZXR1cm4gY29uY2F0LmFwcGx5KCBbXSwgcmV0ICk7XG5cdFx0fSxcblx0XG5cdFx0Ly8gQSBnbG9iYWwgR1VJRCBjb3VudGVyIGZvciBvYmplY3RzXG5cdFx0Z3VpZDogMSxcblx0XG5cdFx0Ly8gQmluZCBhIGZ1bmN0aW9uIHRvIGEgY29udGV4dCwgb3B0aW9uYWxseSBwYXJ0aWFsbHkgYXBwbHlpbmcgYW55XG5cdFx0Ly8gYXJndW1lbnRzLlxuXHRcdHByb3h5OiBmdW5jdGlvbiggZm4sIGNvbnRleHQgKSB7XG5cdFx0XHR2YXIgdG1wLCBhcmdzLCBwcm94eTtcblx0XG5cdFx0XHRpZiAoIHR5cGVvZiBjb250ZXh0ID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHR0bXAgPSBmblsgY29udGV4dCBdO1xuXHRcdFx0XHRjb250ZXh0ID0gZm47XG5cdFx0XHRcdGZuID0gdG1wO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFF1aWNrIGNoZWNrIHRvIGRldGVybWluZSBpZiB0YXJnZXQgaXMgY2FsbGFibGUsIGluIHRoZSBzcGVjXG5cdFx0XHQvLyB0aGlzIHRocm93cyBhIFR5cGVFcnJvciwgYnV0IHdlIHdpbGwganVzdCByZXR1cm4gdW5kZWZpbmVkLlxuXHRcdFx0aWYgKCAhalF1ZXJ5LmlzRnVuY3Rpb24oIGZuICkgKSB7XG5cdFx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gU2ltdWxhdGVkIGJpbmRcblx0XHRcdGFyZ3MgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMsIDIgKTtcblx0XHRcdHByb3h5ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBmbi5hcHBseSggY29udGV4dCB8fCB0aGlzLCBhcmdzLmNvbmNhdCggc2xpY2UuY2FsbCggYXJndW1lbnRzICkgKSApO1xuXHRcdFx0fTtcblx0XG5cdFx0XHQvLyBTZXQgdGhlIGd1aWQgb2YgdW5pcXVlIGhhbmRsZXIgdG8gdGhlIHNhbWUgb2Ygb3JpZ2luYWwgaGFuZGxlciwgc28gaXQgY2FuIGJlIHJlbW92ZWRcblx0XHRcdHByb3h5Lmd1aWQgPSBmbi5ndWlkID0gZm4uZ3VpZCB8fCBqUXVlcnkuZ3VpZCsrO1xuXHRcblx0XHRcdHJldHVybiBwcm94eTtcblx0XHR9LFxuXHRcblx0XHRub3c6IERhdGUubm93LFxuXHRcblx0XHQvLyBqUXVlcnkuc3VwcG9ydCBpcyBub3QgdXNlZCBpbiBDb3JlIGJ1dCBvdGhlciBwcm9qZWN0cyBhdHRhY2ggdGhlaXJcblx0XHQvLyBwcm9wZXJ0aWVzIHRvIGl0IHNvIGl0IG5lZWRzIHRvIGV4aXN0LlxuXHRcdHN1cHBvcnQ6IHN1cHBvcnRcblx0fSApO1xuXHRcblx0aWYgKCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgKSB7XG5cdFx0alF1ZXJ5LmZuWyBTeW1ib2wuaXRlcmF0b3IgXSA9IGFyclsgU3ltYm9sLml0ZXJhdG9yIF07XG5cdH1cblx0XG5cdC8vIFBvcHVsYXRlIHRoZSBjbGFzczJ0eXBlIG1hcFxuXHRqUXVlcnkuZWFjaCggXCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbFwiLnNwbGl0KCBcIiBcIiApLFxuXHRmdW5jdGlvbiggaSwgbmFtZSApIHtcblx0XHRjbGFzczJ0eXBlWyBcIltvYmplY3QgXCIgKyBuYW1lICsgXCJdXCIgXSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcblx0fSApO1xuXHRcblx0ZnVuY3Rpb24gaXNBcnJheUxpa2UoIG9iaiApIHtcblx0XG5cdFx0Ly8gU3VwcG9ydDogcmVhbCBpT1MgOC4yIG9ubHkgKG5vdCByZXByb2R1Y2libGUgaW4gc2ltdWxhdG9yKVxuXHRcdC8vIGBpbmAgY2hlY2sgdXNlZCB0byBwcmV2ZW50IEpJVCBlcnJvciAoZ2gtMjE0NSlcblx0XHQvLyBoYXNPd24gaXNuJ3QgdXNlZCBoZXJlIGR1ZSB0byBmYWxzZSBuZWdhdGl2ZXNcblx0XHQvLyByZWdhcmRpbmcgTm9kZWxpc3QgbGVuZ3RoIGluIElFXG5cdFx0dmFyIGxlbmd0aCA9ICEhb2JqICYmIFwibGVuZ3RoXCIgaW4gb2JqICYmIG9iai5sZW5ndGgsXG5cdFx0XHR0eXBlID0galF1ZXJ5LnR5cGUoIG9iaiApO1xuXHRcblx0XHRpZiAoIHR5cGUgPT09IFwiZnVuY3Rpb25cIiB8fCBqUXVlcnkuaXNXaW5kb3coIG9iaiApICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XG5cdFx0cmV0dXJuIHR5cGUgPT09IFwiYXJyYXlcIiB8fCBsZW5ndGggPT09IDAgfHxcblx0XHRcdHR5cGVvZiBsZW5ndGggPT09IFwibnVtYmVyXCIgJiYgbGVuZ3RoID4gMCAmJiAoIGxlbmd0aCAtIDEgKSBpbiBvYmo7XG5cdH1cblx0dmFyIFNpenpsZSA9XG5cdC8qIVxuXHQgKiBTaXp6bGUgQ1NTIFNlbGVjdG9yIEVuZ2luZSB2Mi4zLjBcblx0ICogaHR0cHM6Ly9zaXp6bGVqcy5jb20vXG5cdCAqXG5cdCAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG5cdCAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuXHQgKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG5cdCAqXG5cdCAqIERhdGU6IDIwMTYtMDEtMDRcblx0ICovXG5cdChmdW5jdGlvbiggd2luZG93ICkge1xuXHRcblx0dmFyIGksXG5cdFx0c3VwcG9ydCxcblx0XHRFeHByLFxuXHRcdGdldFRleHQsXG5cdFx0aXNYTUwsXG5cdFx0dG9rZW5pemUsXG5cdFx0Y29tcGlsZSxcblx0XHRzZWxlY3QsXG5cdFx0b3V0ZXJtb3N0Q29udGV4dCxcblx0XHRzb3J0SW5wdXQsXG5cdFx0aGFzRHVwbGljYXRlLFxuXHRcblx0XHQvLyBMb2NhbCBkb2N1bWVudCB2YXJzXG5cdFx0c2V0RG9jdW1lbnQsXG5cdFx0ZG9jdW1lbnQsXG5cdFx0ZG9jRWxlbSxcblx0XHRkb2N1bWVudElzSFRNTCxcblx0XHRyYnVnZ3lRU0EsXG5cdFx0cmJ1Z2d5TWF0Y2hlcyxcblx0XHRtYXRjaGVzLFxuXHRcdGNvbnRhaW5zLFxuXHRcblx0XHQvLyBJbnN0YW5jZS1zcGVjaWZpYyBkYXRhXG5cdFx0ZXhwYW5kbyA9IFwic2l6emxlXCIgKyAxICogbmV3IERhdGUoKSxcblx0XHRwcmVmZXJyZWREb2MgPSB3aW5kb3cuZG9jdW1lbnQsXG5cdFx0ZGlycnVucyA9IDAsXG5cdFx0ZG9uZSA9IDAsXG5cdFx0Y2xhc3NDYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG5cdFx0dG9rZW5DYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG5cdFx0Y29tcGlsZXJDYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG5cdFx0c29ydE9yZGVyID0gZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0XHRpZiAoIGEgPT09IGIgKSB7XG5cdFx0XHRcdGhhc0R1cGxpY2F0ZSA9IHRydWU7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9LFxuXHRcblx0XHQvLyBJbnN0YW5jZSBtZXRob2RzXG5cdFx0aGFzT3duID0gKHt9KS5oYXNPd25Qcm9wZXJ0eSxcblx0XHRhcnIgPSBbXSxcblx0XHRwb3AgPSBhcnIucG9wLFxuXHRcdHB1c2hfbmF0aXZlID0gYXJyLnB1c2gsXG5cdFx0cHVzaCA9IGFyci5wdXNoLFxuXHRcdHNsaWNlID0gYXJyLnNsaWNlLFxuXHRcdC8vIFVzZSBhIHN0cmlwcGVkLWRvd24gaW5kZXhPZiBhcyBpdCdzIGZhc3RlciB0aGFuIG5hdGl2ZVxuXHRcdC8vIGh0dHBzOi8vanNwZXJmLmNvbS90aG9yLWluZGV4b2YtdnMtZm9yLzVcblx0XHRpbmRleE9mID0gZnVuY3Rpb24oIGxpc3QsIGVsZW0gKSB7XG5cdFx0XHR2YXIgaSA9IDAsXG5cdFx0XHRcdGxlbiA9IGxpc3QubGVuZ3RoO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdGlmICggbGlzdFtpXSA9PT0gZWxlbSApIHtcblx0XHRcdFx0XHRyZXR1cm4gaTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIC0xO1xuXHRcdH0sXG5cdFxuXHRcdGJvb2xlYW5zID0gXCJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZFwiLFxuXHRcblx0XHQvLyBSZWd1bGFyIGV4cHJlc3Npb25zXG5cdFxuXHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtc2VsZWN0b3JzLyN3aGl0ZXNwYWNlXG5cdFx0d2hpdGVzcGFjZSA9IFwiW1xcXFx4MjBcXFxcdFxcXFxyXFxcXG5cXFxcZl1cIixcblx0XG5cdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMjEvc3luZGF0YS5odG1sI3ZhbHVlLWRlZi1pZGVudGlmaWVyXG5cdFx0aWRlbnRpZmllciA9IFwiKD86XFxcXFxcXFwufFtcXFxcdy1dfFteXFwwLVxcXFx4YTBdKStcIixcblx0XG5cdFx0Ly8gQXR0cmlidXRlIHNlbGVjdG9yczogaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNhdHRyaWJ1dGUtc2VsZWN0b3JzXG5cdFx0YXR0cmlidXRlcyA9IFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIiooXCIgKyBpZGVudGlmaWVyICsgXCIpKD86XCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcdC8vIE9wZXJhdG9yIChjYXB0dXJlIDIpXG5cdFx0XHRcIiooWypeJHwhfl0/PSlcIiArIHdoaXRlc3BhY2UgK1xuXHRcdFx0Ly8gXCJBdHRyaWJ1dGUgdmFsdWVzIG11c3QgYmUgQ1NTIGlkZW50aWZpZXJzIFtjYXB0dXJlIDVdIG9yIHN0cmluZ3MgW2NhcHR1cmUgMyBvciBjYXB0dXJlIDRdXCJcblx0XHRcdFwiKig/OicoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcInwoXCIgKyBpZGVudGlmaWVyICsgXCIpKXwpXCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcdFwiKlxcXFxdXCIsXG5cdFxuXHRcdHBzZXVkb3MgPSBcIjooXCIgKyBpZGVudGlmaWVyICsgXCIpKD86XFxcXCgoXCIgK1xuXHRcdFx0Ly8gVG8gcmVkdWNlIHRoZSBudW1iZXIgb2Ygc2VsZWN0b3JzIG5lZWRpbmcgdG9rZW5pemUgaW4gdGhlIHByZUZpbHRlciwgcHJlZmVyIGFyZ3VtZW50czpcblx0XHRcdC8vIDEuIHF1b3RlZCAoY2FwdHVyZSAzOyBjYXB0dXJlIDQgb3IgY2FwdHVyZSA1KVxuXHRcdFx0XCIoJygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwiKXxcIiArXG5cdFx0XHQvLyAyLiBzaW1wbGUgKGNhcHR1cmUgNilcblx0XHRcdFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcKClbXFxcXF1dfFwiICsgYXR0cmlidXRlcyArIFwiKSopfFwiICtcblx0XHRcdC8vIDMuIGFueXRoaW5nIGVsc2UgKGNhcHR1cmUgMilcblx0XHRcdFwiLipcIiArXG5cdFx0XHRcIilcXFxcKXwpXCIsXG5cdFxuXHRcdC8vIExlYWRpbmcgYW5kIG5vbi1lc2NhcGVkIHRyYWlsaW5nIHdoaXRlc3BhY2UsIGNhcHR1cmluZyBzb21lIG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlcnMgcHJlY2VkaW5nIHRoZSBsYXR0ZXJcblx0XHRyd2hpdGVzcGFjZSA9IG5ldyBSZWdFeHAoIHdoaXRlc3BhY2UgKyBcIitcIiwgXCJnXCIgKSxcblx0XHRydHJpbSA9IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiK3woKD86XnxbXlxcXFxcXFxcXSkoPzpcXFxcXFxcXC4pKilcIiArIHdoaXRlc3BhY2UgKyBcIiskXCIsIFwiZ1wiICksXG5cdFxuXHRcdHJjb21tYSA9IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKixcIiArIHdoaXRlc3BhY2UgKyBcIipcIiApLFxuXHRcdHJjb21iaW5hdG9ycyA9IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKihbPit+XXxcIiArIHdoaXRlc3BhY2UgKyBcIilcIiArIHdoaXRlc3BhY2UgKyBcIipcIiApLFxuXHRcblx0XHRyYXR0cmlidXRlUXVvdGVzID0gbmV3IFJlZ0V4cCggXCI9XCIgKyB3aGl0ZXNwYWNlICsgXCIqKFteXFxcXF0nXFxcIl0qPylcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcXVwiLCBcImdcIiApLFxuXHRcblx0XHRycHNldWRvID0gbmV3IFJlZ0V4cCggcHNldWRvcyApLFxuXHRcdHJpZGVudGlmaWVyID0gbmV3IFJlZ0V4cCggXCJeXCIgKyBpZGVudGlmaWVyICsgXCIkXCIgKSxcblx0XG5cdFx0bWF0Y2hFeHByID0ge1xuXHRcdFx0XCJJRFwiOiBuZXcgUmVnRXhwKCBcIl4jKFwiICsgaWRlbnRpZmllciArIFwiKVwiICksXG5cdFx0XHRcIkNMQVNTXCI6IG5ldyBSZWdFeHAoIFwiXlxcXFwuKFwiICsgaWRlbnRpZmllciArIFwiKVwiICksXG5cdFx0XHRcIlRBR1wiOiBuZXcgUmVnRXhwKCBcIl4oXCIgKyBpZGVudGlmaWVyICsgXCJ8WypdKVwiICksXG5cdFx0XHRcIkFUVFJcIjogbmV3IFJlZ0V4cCggXCJeXCIgKyBhdHRyaWJ1dGVzICksXG5cdFx0XHRcIlBTRVVET1wiOiBuZXcgUmVnRXhwKCBcIl5cIiArIHBzZXVkb3MgKSxcblx0XHRcdFwiQ0hJTERcIjogbmV3IFJlZ0V4cCggXCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXFxcKFwiICsgd2hpdGVzcGFjZSArXG5cdFx0XHRcdFwiKihldmVufG9kZHwoKFsrLV18KShcXFxcZCopbnwpXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86KFsrLV18KVwiICsgd2hpdGVzcGFjZSArXG5cdFx0XHRcdFwiKihcXFxcZCspfCkpXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXCl8KVwiLCBcImlcIiApLFxuXHRcdFx0XCJib29sXCI6IG5ldyBSZWdFeHAoIFwiXig/OlwiICsgYm9vbGVhbnMgKyBcIikkXCIsIFwiaVwiICksXG5cdFx0XHQvLyBGb3IgdXNlIGluIGxpYnJhcmllcyBpbXBsZW1lbnRpbmcgLmlzKClcblx0XHRcdC8vIFdlIHVzZSB0aGlzIGZvciBQT1MgbWF0Y2hpbmcgaW4gYHNlbGVjdGBcblx0XHRcdFwibmVlZHNDb250ZXh0XCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFxcXChcIiArXG5cdFx0XHRcdHdoaXRlc3BhY2UgKyBcIiooKD86LVxcXFxkKT9cXFxcZCopXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXCl8KSg/PVteLV18JClcIiwgXCJpXCIgKVxuXHRcdH0sXG5cdFxuXHRcdHJpbnB1dHMgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFxuXHRcdHJoZWFkZXIgPSAvXmhcXGQkL2ksXG5cdFxuXHRcdHJuYXRpdmUgPSAvXltee10rXFx7XFxzKlxcW25hdGl2ZSBcXHcvLFxuXHRcblx0XHQvLyBFYXNpbHktcGFyc2VhYmxlL3JldHJpZXZhYmxlIElEIG9yIFRBRyBvciBDTEFTUyBzZWxlY3RvcnNcblx0XHRycXVpY2tFeHByID0gL14oPzojKFtcXHctXSspfChcXHcrKXxcXC4oW1xcdy1dKykpJC8sXG5cdFxuXHRcdHJzaWJsaW5nID0gL1srfl0vLFxuXHRcblx0XHQvLyBDU1MgZXNjYXBlc1xuXHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL0NTUzIxL3N5bmRhdGEuaHRtbCNlc2NhcGVkLWNoYXJhY3RlcnNcblx0XHRydW5lc2NhcGUgPSBuZXcgUmVnRXhwKCBcIlxcXFxcXFxcKFtcXFxcZGEtZl17MSw2fVwiICsgd2hpdGVzcGFjZSArIFwiP3woXCIgKyB3aGl0ZXNwYWNlICsgXCIpfC4pXCIsIFwiaWdcIiApLFxuXHRcdGZ1bmVzY2FwZSA9IGZ1bmN0aW9uKCBfLCBlc2NhcGVkLCBlc2NhcGVkV2hpdGVzcGFjZSApIHtcblx0XHRcdHZhciBoaWdoID0gXCIweFwiICsgZXNjYXBlZCAtIDB4MTAwMDA7XG5cdFx0XHQvLyBOYU4gbWVhbnMgbm9uLWNvZGVwb2ludFxuXHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveDwyNFxuXHRcdFx0Ly8gV29ya2Fyb3VuZCBlcnJvbmVvdXMgbnVtZXJpYyBpbnRlcnByZXRhdGlvbiBvZiArXCIweFwiXG5cdFx0XHRyZXR1cm4gaGlnaCAhPT0gaGlnaCB8fCBlc2NhcGVkV2hpdGVzcGFjZSA/XG5cdFx0XHRcdGVzY2FwZWQgOlxuXHRcdFx0XHRoaWdoIDwgMCA/XG5cdFx0XHRcdFx0Ly8gQk1QIGNvZGVwb2ludFxuXHRcdFx0XHRcdFN0cmluZy5mcm9tQ2hhckNvZGUoIGhpZ2ggKyAweDEwMDAwICkgOlxuXHRcdFx0XHRcdC8vIFN1cHBsZW1lbnRhbCBQbGFuZSBjb2RlcG9pbnQgKHN1cnJvZ2F0ZSBwYWlyKVxuXHRcdFx0XHRcdFN0cmluZy5mcm9tQ2hhckNvZGUoIGhpZ2ggPj4gMTAgfCAweEQ4MDAsIGhpZ2ggJiAweDNGRiB8IDB4REMwMCApO1xuXHRcdH0sXG5cdFxuXHRcdC8vIENTUyBzdHJpbmcvaWRlbnRpZmllciBzZXJpYWxpemF0aW9uXG5cdFx0Ly8gaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzc29tLyNjb21tb24tc2VyaWFsaXppbmctaWRpb21zXG5cdFx0cmNzc2VzY2FwZSA9IC8oW1xcMC1cXHgxZlxceDdmXXxeLT9cXGQpfF4tJHxbXlxceDgwLVxcdUZGRkZcXHctXS9nLFxuXHRcdGZjc3Nlc2NhcGUgPSBmdW5jdGlvbiggY2gsIGFzQ29kZVBvaW50ICkge1xuXHRcdFx0aWYgKCBhc0NvZGVQb2ludCApIHtcblx0XG5cdFx0XHRcdC8vIFUrMDAwMCBOVUxMIGJlY29tZXMgVStGRkZEIFJFUExBQ0VNRU5UIENIQVJBQ1RFUlxuXHRcdFx0XHRpZiAoIGNoID09PSBcIlxcMFwiICkge1xuXHRcdFx0XHRcdHJldHVybiBcIlxcdUZGRkRcIjtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gQ29udHJvbCBjaGFyYWN0ZXJzIGFuZCAoZGVwZW5kZW50IHVwb24gcG9zaXRpb24pIG51bWJlcnMgZ2V0IGVzY2FwZWQgYXMgY29kZSBwb2ludHNcblx0XHRcdFx0cmV0dXJuIGNoLnNsaWNlKCAwLCAtMSApICsgXCJcXFxcXCIgKyBjaC5jaGFyQ29kZUF0KCBjaC5sZW5ndGggLSAxICkudG9TdHJpbmcoIDE2ICkgKyBcIiBcIjtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBPdGhlciBwb3RlbnRpYWxseS1zcGVjaWFsIEFTQ0lJIGNoYXJhY3RlcnMgZ2V0IGJhY2tzbGFzaC1lc2NhcGVkXG5cdFx0XHRyZXR1cm4gXCJcXFxcXCIgKyBjaDtcblx0XHR9LFxuXHRcblx0XHQvLyBVc2VkIGZvciBpZnJhbWVzXG5cdFx0Ly8gU2VlIHNldERvY3VtZW50KClcblx0XHQvLyBSZW1vdmluZyB0aGUgZnVuY3Rpb24gd3JhcHBlciBjYXVzZXMgYSBcIlBlcm1pc3Npb24gRGVuaWVkXCJcblx0XHQvLyBlcnJvciBpbiBJRVxuXHRcdHVubG9hZEhhbmRsZXIgPSBmdW5jdGlvbigpIHtcblx0XHRcdHNldERvY3VtZW50KCk7XG5cdFx0fSxcblx0XG5cdFx0ZGlzYWJsZWRBbmNlc3RvciA9IGFkZENvbWJpbmF0b3IoXG5cdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IHRydWU7XG5cdFx0XHR9LFxuXHRcdFx0eyBkaXI6IFwicGFyZW50Tm9kZVwiLCBuZXh0OiBcImxlZ2VuZFwiIH1cblx0XHQpO1xuXHRcblx0Ly8gT3B0aW1pemUgZm9yIHB1c2guYXBwbHkoIF8sIE5vZGVMaXN0IClcblx0dHJ5IHtcblx0XHRwdXNoLmFwcGx5KFxuXHRcdFx0KGFyciA9IHNsaWNlLmNhbGwoIHByZWZlcnJlZERvYy5jaGlsZE5vZGVzICkpLFxuXHRcdFx0cHJlZmVycmVkRG9jLmNoaWxkTm9kZXNcblx0XHQpO1xuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQ8NC4wXG5cdFx0Ly8gRGV0ZWN0IHNpbGVudGx5IGZhaWxpbmcgcHVzaC5hcHBseVxuXHRcdGFyclsgcHJlZmVycmVkRG9jLmNoaWxkTm9kZXMubGVuZ3RoIF0ubm9kZVR5cGU7XG5cdH0gY2F0Y2ggKCBlICkge1xuXHRcdHB1c2ggPSB7IGFwcGx5OiBhcnIubGVuZ3RoID9cblx0XG5cdFx0XHQvLyBMZXZlcmFnZSBzbGljZSBpZiBwb3NzaWJsZVxuXHRcdFx0ZnVuY3Rpb24oIHRhcmdldCwgZWxzICkge1xuXHRcdFx0XHRwdXNoX25hdGl2ZS5hcHBseSggdGFyZ2V0LCBzbGljZS5jYWxsKGVscykgKTtcblx0XHRcdH0gOlxuXHRcblx0XHRcdC8vIFN1cHBvcnQ6IElFPDlcblx0XHRcdC8vIE90aGVyd2lzZSBhcHBlbmQgZGlyZWN0bHlcblx0XHRcdGZ1bmN0aW9uKCB0YXJnZXQsIGVscyApIHtcblx0XHRcdFx0dmFyIGogPSB0YXJnZXQubGVuZ3RoLFxuXHRcdFx0XHRcdGkgPSAwO1xuXHRcdFx0XHQvLyBDYW4ndCB0cnVzdCBOb2RlTGlzdC5sZW5ndGhcblx0XHRcdFx0d2hpbGUgKCAodGFyZ2V0W2orK10gPSBlbHNbaSsrXSkgKSB7fVxuXHRcdFx0XHR0YXJnZXQubGVuZ3RoID0gaiAtIDE7XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gU2l6emxlKCBzZWxlY3RvciwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApIHtcblx0XHR2YXIgbSwgaSwgZWxlbSwgbmlkLCBtYXRjaCwgZ3JvdXBzLCBuZXdTZWxlY3Rvcixcblx0XHRcdG5ld0NvbnRleHQgPSBjb250ZXh0ICYmIGNvbnRleHQub3duZXJEb2N1bWVudCxcblx0XG5cdFx0XHQvLyBub2RlVHlwZSBkZWZhdWx0cyB0byA5LCBzaW5jZSBjb250ZXh0IGRlZmF1bHRzIHRvIGRvY3VtZW50XG5cdFx0XHRub2RlVHlwZSA9IGNvbnRleHQgPyBjb250ZXh0Lm5vZGVUeXBlIDogOTtcblx0XG5cdFx0cmVzdWx0cyA9IHJlc3VsdHMgfHwgW107XG5cdFxuXHRcdC8vIFJldHVybiBlYXJseSBmcm9tIGNhbGxzIHdpdGggaW52YWxpZCBzZWxlY3RvciBvciBjb250ZXh0XG5cdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgfHwgIXNlbGVjdG9yIHx8XG5cdFx0XHRub2RlVHlwZSAhPT0gMSAmJiBub2RlVHlwZSAhPT0gOSAmJiBub2RlVHlwZSAhPT0gMTEgKSB7XG5cdFxuXHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0fVxuXHRcblx0XHQvLyBUcnkgdG8gc2hvcnRjdXQgZmluZCBvcGVyYXRpb25zIChhcyBvcHBvc2VkIHRvIGZpbHRlcnMpIGluIEhUTUwgZG9jdW1lbnRzXG5cdFx0aWYgKCAhc2VlZCApIHtcblx0XG5cdFx0XHRpZiAoICggY29udGV4dCA/IGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0IDogcHJlZmVycmVkRG9jICkgIT09IGRvY3VtZW50ICkge1xuXHRcdFx0XHRzZXREb2N1bWVudCggY29udGV4dCApO1xuXHRcdFx0fVxuXHRcdFx0Y29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7XG5cdFxuXHRcdFx0aWYgKCBkb2N1bWVudElzSFRNTCApIHtcblx0XG5cdFx0XHRcdC8vIElmIHRoZSBzZWxlY3RvciBpcyBzdWZmaWNpZW50bHkgc2ltcGxlLCB0cnkgdXNpbmcgYSBcImdldCpCeSpcIiBET00gbWV0aG9kXG5cdFx0XHRcdC8vIChleGNlcHRpbmcgRG9jdW1lbnRGcmFnbWVudCBjb250ZXh0LCB3aGVyZSB0aGUgbWV0aG9kcyBkb24ndCBleGlzdClcblx0XHRcdFx0aWYgKCBub2RlVHlwZSAhPT0gMTEgJiYgKG1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApKSApIHtcblx0XG5cdFx0XHRcdFx0Ly8gSUQgc2VsZWN0b3Jcblx0XHRcdFx0XHRpZiAoIChtID0gbWF0Y2hbMV0pICkge1xuXHRcblx0XHRcdFx0XHRcdC8vIERvY3VtZW50IGNvbnRleHRcblx0XHRcdFx0XHRcdGlmICggbm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggKGVsZW0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKCBtICkpICkge1xuXHRcblx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSwgT3BlcmEsIFdlYmtpdFxuXHRcdFx0XHRcdFx0XHRcdC8vIFRPRE86IGlkZW50aWZ5IHZlcnNpb25zXG5cdFx0XHRcdFx0XHRcdFx0Ly8gZ2V0RWxlbWVudEJ5SWQgY2FuIG1hdGNoIGVsZW1lbnRzIGJ5IG5hbWUgaW5zdGVhZCBvZiBJRFxuXHRcdFx0XHRcdFx0XHRcdGlmICggZWxlbS5pZCA9PT0gbSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0Ly8gRWxlbWVudCBjb250ZXh0XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUsIE9wZXJhLCBXZWJraXRcblx0XHRcdFx0XHRcdFx0Ly8gVE9ETzogaWRlbnRpZnkgdmVyc2lvbnNcblx0XHRcdFx0XHRcdFx0Ly8gZ2V0RWxlbWVudEJ5SWQgY2FuIG1hdGNoIGVsZW1lbnRzIGJ5IG5hbWUgaW5zdGVhZCBvZiBJRFxuXHRcdFx0XHRcdFx0XHRpZiAoIG5ld0NvbnRleHQgJiYgKGVsZW0gPSBuZXdDb250ZXh0LmdldEVsZW1lbnRCeUlkKCBtICkpICYmXG5cdFx0XHRcdFx0XHRcdFx0Y29udGFpbnMoIGNvbnRleHQsIGVsZW0gKSAmJlxuXHRcdFx0XHRcdFx0XHRcdGVsZW0uaWQgPT09IG0gKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIFR5cGUgc2VsZWN0b3Jcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCBtYXRjaFsyXSApIHtcblx0XHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHNlbGVjdG9yICkgKTtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcblx0XHRcdFx0XHQvLyBDbGFzcyBzZWxlY3RvclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIChtID0gbWF0Y2hbM10pICYmIHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAmJlxuXHRcdFx0XHRcdFx0Y29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICkge1xuXHRcblx0XHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggbSApICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFRha2UgYWR2YW50YWdlIG9mIHF1ZXJ5U2VsZWN0b3JBbGxcblx0XHRcdFx0aWYgKCBzdXBwb3J0LnFzYSAmJlxuXHRcdFx0XHRcdCFjb21waWxlckNhY2hlWyBzZWxlY3RvciArIFwiIFwiIF0gJiZcblx0XHRcdFx0XHQoIXJidWdneVFTQSB8fCAhcmJ1Z2d5UVNBLnRlc3QoIHNlbGVjdG9yICkpICkge1xuXHRcblx0XHRcdFx0XHRpZiAoIG5vZGVUeXBlICE9PSAxICkge1xuXHRcdFx0XHRcdFx0bmV3Q29udGV4dCA9IGNvbnRleHQ7XG5cdFx0XHRcdFx0XHRuZXdTZWxlY3RvciA9IHNlbGVjdG9yO1xuXHRcblx0XHRcdFx0XHQvLyBxU0EgbG9va3Mgb3V0c2lkZSBFbGVtZW50IGNvbnRleHQsIHdoaWNoIGlzIG5vdCB3aGF0IHdlIHdhbnRcblx0XHRcdFx0XHQvLyBUaGFua3MgdG8gQW5kcmV3IER1cG9udCBmb3IgdGhpcyB3b3JrYXJvdW5kIHRlY2huaXF1ZVxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OFxuXHRcdFx0XHRcdC8vIEV4Y2x1ZGUgb2JqZWN0IGVsZW1lbnRzXG5cdFx0XHRcdFx0fSBlbHNlIGlmICggY29udGV4dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSBcIm9iamVjdFwiICkge1xuXHRcblx0XHRcdFx0XHRcdC8vIENhcHR1cmUgdGhlIGNvbnRleHQgSUQsIHNldHRpbmcgaXQgZmlyc3QgaWYgbmVjZXNzYXJ5XG5cdFx0XHRcdFx0XHRpZiAoIChuaWQgPSBjb250ZXh0LmdldEF0dHJpYnV0ZSggXCJpZFwiICkpICkge1xuXHRcdFx0XHRcdFx0XHRuaWQgPSBuaWQucmVwbGFjZSggcmNzc2VzY2FwZSwgZmNzc2VzY2FwZSApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Y29udGV4dC5zZXRBdHRyaWJ1dGUoIFwiaWRcIiwgKG5pZCA9IGV4cGFuZG8pICk7XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0Ly8gUHJlZml4IGV2ZXJ5IHNlbGVjdG9yIGluIHRoZSBsaXN0XG5cdFx0XHRcdFx0XHRncm91cHMgPSB0b2tlbml6ZSggc2VsZWN0b3IgKTtcblx0XHRcdFx0XHRcdGkgPSBncm91cHMubGVuZ3RoO1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRcdGdyb3Vwc1tpXSA9IFwiI1wiICsgbmlkICsgXCIgXCIgKyB0b1NlbGVjdG9yKCBncm91cHNbaV0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdG5ld1NlbGVjdG9yID0gZ3JvdXBzLmpvaW4oIFwiLFwiICk7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gRXhwYW5kIGNvbnRleHQgZm9yIHNpYmxpbmcgc2VsZWN0b3JzXG5cdFx0XHRcdFx0XHRuZXdDb250ZXh0ID0gcnNpYmxpbmcudGVzdCggc2VsZWN0b3IgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHxcblx0XHRcdFx0XHRcdFx0Y29udGV4dDtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdGlmICggbmV3U2VsZWN0b3IgKSB7XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLFxuXHRcdFx0XHRcdFx0XHRcdG5ld0NvbnRleHQucXVlcnlTZWxlY3RvckFsbCggbmV3U2VsZWN0b3IgKVxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKCBxc2FFcnJvciApIHtcblx0XHRcdFx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdFx0XHRcdGlmICggbmlkID09PSBleHBhbmRvICkge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQucmVtb3ZlQXR0cmlidXRlKCBcImlkXCIgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0Ly8gQWxsIG90aGVyc1xuXHRcdHJldHVybiBzZWxlY3QoIHNlbGVjdG9yLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlIGtleS12YWx1ZSBjYWNoZXMgb2YgbGltaXRlZCBzaXplXG5cdCAqIEByZXR1cm5zIHtmdW5jdGlvbihzdHJpbmcsIG9iamVjdCl9IFJldHVybnMgdGhlIE9iamVjdCBkYXRhIGFmdGVyIHN0b3JpbmcgaXQgb24gaXRzZWxmIHdpdGhcblx0ICpcdHByb3BlcnR5IG5hbWUgdGhlIChzcGFjZS1zdWZmaXhlZCkgc3RyaW5nIGFuZCAoaWYgdGhlIGNhY2hlIGlzIGxhcmdlciB0aGFuIEV4cHIuY2FjaGVMZW5ndGgpXG5cdCAqXHRkZWxldGluZyB0aGUgb2xkZXN0IGVudHJ5XG5cdCAqL1xuXHRmdW5jdGlvbiBjcmVhdGVDYWNoZSgpIHtcblx0XHR2YXIga2V5cyA9IFtdO1xuXHRcblx0XHRmdW5jdGlvbiBjYWNoZSgga2V5LCB2YWx1ZSApIHtcblx0XHRcdC8vIFVzZSAoa2V5ICsgXCIgXCIpIHRvIGF2b2lkIGNvbGxpc2lvbiB3aXRoIG5hdGl2ZSBwcm90b3R5cGUgcHJvcGVydGllcyAoc2VlIElzc3VlICMxNTcpXG5cdFx0XHRpZiAoIGtleXMucHVzaCgga2V5ICsgXCIgXCIgKSA+IEV4cHIuY2FjaGVMZW5ndGggKSB7XG5cdFx0XHRcdC8vIE9ubHkga2VlcCB0aGUgbW9zdCByZWNlbnQgZW50cmllc1xuXHRcdFx0XHRkZWxldGUgY2FjaGVbIGtleXMuc2hpZnQoKSBdO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIChjYWNoZVsga2V5ICsgXCIgXCIgXSA9IHZhbHVlKTtcblx0XHR9XG5cdFx0cmV0dXJuIGNhY2hlO1xuXHR9XG5cdFxuXHQvKipcblx0ICogTWFyayBhIGZ1bmN0aW9uIGZvciBzcGVjaWFsIHVzZSBieSBTaXp6bGVcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIG1hcmtcblx0ICovXG5cdGZ1bmN0aW9uIG1hcmtGdW5jdGlvbiggZm4gKSB7XG5cdFx0Zm5bIGV4cGFuZG8gXSA9IHRydWU7XG5cdFx0cmV0dXJuIGZuO1xuXHR9XG5cdFxuXHQvKipcblx0ICogU3VwcG9ydCB0ZXN0aW5nIHVzaW5nIGFuIGVsZW1lbnRcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gUGFzc2VkIHRoZSBjcmVhdGVkIGVsZW1lbnQgYW5kIHJldHVybnMgYSBib29sZWFuIHJlc3VsdFxuXHQgKi9cblx0ZnVuY3Rpb24gYXNzZXJ0KCBmbiApIHtcblx0XHR2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZmllbGRzZXRcIik7XG5cdFxuXHRcdHRyeSB7XG5cdFx0XHRyZXR1cm4gISFmbiggZWwgKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSBmaW5hbGx5IHtcblx0XHRcdC8vIFJlbW92ZSBmcm9tIGl0cyBwYXJlbnQgYnkgZGVmYXVsdFxuXHRcdFx0aWYgKCBlbC5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBlbCApO1xuXHRcdFx0fVxuXHRcdFx0Ly8gcmVsZWFzZSBtZW1vcnkgaW4gSUVcblx0XHRcdGVsID0gbnVsbDtcblx0XHR9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBBZGRzIHRoZSBzYW1lIGhhbmRsZXIgZm9yIGFsbCBvZiB0aGUgc3BlY2lmaWVkIGF0dHJzXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBhdHRycyBQaXBlLXNlcGFyYXRlZCBsaXN0IG9mIGF0dHJpYnV0ZXNcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciBUaGUgbWV0aG9kIHRoYXQgd2lsbCBiZSBhcHBsaWVkXG5cdCAqL1xuXHRmdW5jdGlvbiBhZGRIYW5kbGUoIGF0dHJzLCBoYW5kbGVyICkge1xuXHRcdHZhciBhcnIgPSBhdHRycy5zcGxpdChcInxcIiksXG5cdFx0XHRpID0gYXJyLmxlbmd0aDtcblx0XG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRFeHByLmF0dHJIYW5kbGVbIGFycltpXSBdID0gaGFuZGxlcjtcblx0XHR9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBDaGVja3MgZG9jdW1lbnQgb3JkZXIgb2YgdHdvIHNpYmxpbmdzXG5cdCAqIEBwYXJhbSB7RWxlbWVudH0gYVxuXHQgKiBAcGFyYW0ge0VsZW1lbnR9IGJcblx0ICogQHJldHVybnMge051bWJlcn0gUmV0dXJucyBsZXNzIHRoYW4gMCBpZiBhIHByZWNlZGVzIGIsIGdyZWF0ZXIgdGhhbiAwIGlmIGEgZm9sbG93cyBiXG5cdCAqL1xuXHRmdW5jdGlvbiBzaWJsaW5nQ2hlY2soIGEsIGIgKSB7XG5cdFx0dmFyIGN1ciA9IGIgJiYgYSxcblx0XHRcdGRpZmYgPSBjdXIgJiYgYS5ub2RlVHlwZSA9PT0gMSAmJiBiLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdGEuc291cmNlSW5kZXggLSBiLnNvdXJjZUluZGV4O1xuXHRcblx0XHQvLyBVc2UgSUUgc291cmNlSW5kZXggaWYgYXZhaWxhYmxlIG9uIGJvdGggbm9kZXNcblx0XHRpZiAoIGRpZmYgKSB7XG5cdFx0XHRyZXR1cm4gZGlmZjtcblx0XHR9XG5cdFxuXHRcdC8vIENoZWNrIGlmIGIgZm9sbG93cyBhXG5cdFx0aWYgKCBjdXIgKSB7XG5cdFx0XHR3aGlsZSAoIChjdXIgPSBjdXIubmV4dFNpYmxpbmcpICkge1xuXHRcdFx0XHRpZiAoIGN1ciA9PT0gYiApIHtcblx0XHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdHJldHVybiBhID8gMSA6IC0xO1xuXHR9XG5cdFxuXHQvKipcblx0ICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBpbnB1dCB0eXBlc1xuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuXHQgKi9cblx0ZnVuY3Rpb24gY3JlYXRlSW5wdXRQc2V1ZG8oIHR5cGUgKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRyZXR1cm4gbmFtZSA9PT0gXCJpbnB1dFwiICYmIGVsZW0udHlwZSA9PT0gdHlwZTtcblx0XHR9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBidXR0b25zXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG5cdCAqL1xuXHRmdW5jdGlvbiBjcmVhdGVCdXR0b25Qc2V1ZG8oIHR5cGUgKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRyZXR1cm4gKG5hbWUgPT09IFwiaW5wdXRcIiB8fCBuYW1lID09PSBcImJ1dHRvblwiKSAmJiBlbGVtLnR5cGUgPT09IHR5cGU7XG5cdFx0fTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgOmVuYWJsZWQvOmRpc2FibGVkXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gZGlzYWJsZWQgdHJ1ZSBmb3IgOmRpc2FibGVkOyBmYWxzZSBmb3IgOmVuYWJsZWRcblx0ICovXG5cdGZ1bmN0aW9uIGNyZWF0ZURpc2FibGVkUHNldWRvKCBkaXNhYmxlZCApIHtcblx0XHQvLyBLbm93biA6ZGlzYWJsZWQgZmFsc2UgcG9zaXRpdmVzOlxuXHRcdC8vIElFOiAqW2Rpc2FibGVkXTpub3QoYnV0dG9uLCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgb3B0Z3JvdXAsIG9wdGlvbiwgbWVudWl0ZW0sIGZpZWxkc2V0KVxuXHRcdC8vIG5vdCBJRTogZmllbGRzZXRbZGlzYWJsZWRdID4gbGVnZW5kOm50aC1vZi10eXBlKG4rMikgOmNhbi1kaXNhYmxlXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcblx0XHRcdC8vIENoZWNrIGZvcm0gZWxlbWVudHMgYW5kIG9wdGlvbiBlbGVtZW50cyBmb3IgZXhwbGljaXQgZGlzYWJsaW5nXG5cdFx0XHRyZXR1cm4gXCJsYWJlbFwiIGluIGVsZW0gJiYgZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQgfHxcblx0XHRcdFx0XCJmb3JtXCIgaW4gZWxlbSAmJiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZCB8fFxuXHRcblx0XHRcdFx0Ly8gQ2hlY2sgbm9uLWRpc2FibGVkIGZvcm0gZWxlbWVudHMgZm9yIGZpZWxkc2V0W2Rpc2FibGVkXSBhbmNlc3RvcnNcblx0XHRcdFx0XCJmb3JtXCIgaW4gZWxlbSAmJiBlbGVtLmRpc2FibGVkID09PSBmYWxzZSAmJiAoXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUU2LTExK1xuXHRcdFx0XHRcdC8vIEFuY2VzdHJ5IGlzIGNvdmVyZWQgZm9yIHVzXG5cdFx0XHRcdFx0ZWxlbS5pc0Rpc2FibGVkID09PSBkaXNhYmxlZCB8fFxuXHRcblx0XHRcdFx0XHQvLyBPdGhlcndpc2UsIGFzc3VtZSBhbnkgbm9uLTxvcHRpb24+IHVuZGVyIGZpZWxkc2V0W2Rpc2FibGVkXSBpcyBkaXNhYmxlZFxuXHRcdFx0XHRcdC8qIGpzaGludCAtVzAxOCAqL1xuXHRcdFx0XHRcdGVsZW0uaXNEaXNhYmxlZCAhPT0gIWRpc2FibGVkICYmXG5cdFx0XHRcdFx0XHQoXCJsYWJlbFwiIGluIGVsZW0gfHwgIWRpc2FibGVkQW5jZXN0b3IoIGVsZW0gKSkgIT09IGRpc2FibGVkXG5cdFx0XHRcdCk7XG5cdFx0fTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgcG9zaXRpb25hbHNcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cblx0ICovXG5cdGZ1bmN0aW9uIGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZuICkge1xuXHRcdHJldHVybiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIGFyZ3VtZW50ICkge1xuXHRcdFx0YXJndW1lbnQgPSArYXJndW1lbnQ7XG5cdFx0XHRyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzICkge1xuXHRcdFx0XHR2YXIgaixcblx0XHRcdFx0XHRtYXRjaEluZGV4ZXMgPSBmbiggW10sIHNlZWQubGVuZ3RoLCBhcmd1bWVudCApLFxuXHRcdFx0XHRcdGkgPSBtYXRjaEluZGV4ZXMubGVuZ3RoO1xuXHRcblx0XHRcdFx0Ly8gTWF0Y2ggZWxlbWVudHMgZm91bmQgYXQgdGhlIHNwZWNpZmllZCBpbmRleGVzXG5cdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdGlmICggc2VlZFsgKGogPSBtYXRjaEluZGV4ZXNbaV0pIF0gKSB7XG5cdFx0XHRcdFx0XHRzZWVkW2pdID0gIShtYXRjaGVzW2pdID0gc2VlZFtqXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIENoZWNrcyBhIG5vZGUgZm9yIHZhbGlkaXR5IGFzIGEgU2l6emxlIGNvbnRleHRcblx0ICogQHBhcmFtIHtFbGVtZW50fE9iamVjdD19IGNvbnRleHRcblx0ICogQHJldHVybnMge0VsZW1lbnR8T2JqZWN0fEJvb2xlYW59IFRoZSBpbnB1dCBub2RlIGlmIGFjY2VwdGFibGUsIG90aGVyd2lzZSBhIGZhbHN5IHZhbHVlXG5cdCAqL1xuXHRmdW5jdGlvbiB0ZXN0Q29udGV4dCggY29udGV4dCApIHtcblx0XHRyZXR1cm4gY29udGV4dCAmJiB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBjb250ZXh0O1xuXHR9XG5cdFxuXHQvLyBFeHBvc2Ugc3VwcG9ydCB2YXJzIGZvciBjb252ZW5pZW5jZVxuXHRzdXBwb3J0ID0gU2l6emxlLnN1cHBvcnQgPSB7fTtcblx0XG5cdC8qKlxuXHQgKiBEZXRlY3RzIFhNTCBub2Rlc1xuXHQgKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSBlbGVtIEFuIGVsZW1lbnQgb3IgYSBkb2N1bWVudFxuXHQgKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZmYgZWxlbSBpcyBhIG5vbi1IVE1MIFhNTCBub2RlXG5cdCAqL1xuXHRpc1hNTCA9IFNpenpsZS5pc1hNTCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdC8vIGRvY3VtZW50RWxlbWVudCBpcyB2ZXJpZmllZCBmb3IgY2FzZXMgd2hlcmUgaXQgZG9lc24ndCB5ZXQgZXhpc3Rcblx0XHQvLyAoc3VjaCBhcyBsb2FkaW5nIGlmcmFtZXMgaW4gSUUgLSAjNDgzMylcblx0XHR2YXIgZG9jdW1lbnRFbGVtZW50ID0gZWxlbSAmJiAoZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0pLmRvY3VtZW50RWxlbWVudDtcblx0XHRyZXR1cm4gZG9jdW1lbnRFbGVtZW50ID8gZG9jdW1lbnRFbGVtZW50Lm5vZGVOYW1lICE9PSBcIkhUTUxcIiA6IGZhbHNlO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNldHMgZG9jdW1lbnQtcmVsYXRlZCB2YXJpYWJsZXMgb25jZSBiYXNlZCBvbiB0aGUgY3VycmVudCBkb2N1bWVudFxuXHQgKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSBbZG9jXSBBbiBlbGVtZW50IG9yIGRvY3VtZW50IG9iamVjdCB0byB1c2UgdG8gc2V0IHRoZSBkb2N1bWVudFxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjdXJyZW50IGRvY3VtZW50XG5cdCAqL1xuXHRzZXREb2N1bWVudCA9IFNpenpsZS5zZXREb2N1bWVudCA9IGZ1bmN0aW9uKCBub2RlICkge1xuXHRcdHZhciBoYXNDb21wYXJlLCBzdWJXaW5kb3csXG5cdFx0XHRkb2MgPSBub2RlID8gbm9kZS5vd25lckRvY3VtZW50IHx8IG5vZGUgOiBwcmVmZXJyZWREb2M7XG5cdFxuXHRcdC8vIFJldHVybiBlYXJseSBpZiBkb2MgaXMgaW52YWxpZCBvciBhbHJlYWR5IHNlbGVjdGVkXG5cdFx0aWYgKCBkb2MgPT09IGRvY3VtZW50IHx8IGRvYy5ub2RlVHlwZSAhPT0gOSB8fCAhZG9jLmRvY3VtZW50RWxlbWVudCApIHtcblx0XHRcdHJldHVybiBkb2N1bWVudDtcblx0XHR9XG5cdFxuXHRcdC8vIFVwZGF0ZSBnbG9iYWwgdmFyaWFibGVzXG5cdFx0ZG9jdW1lbnQgPSBkb2M7XG5cdFx0ZG9jRWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblx0XHRkb2N1bWVudElzSFRNTCA9ICFpc1hNTCggZG9jdW1lbnQgKTtcblx0XG5cdFx0Ly8gU3VwcG9ydDogSUUgOS0xMSwgRWRnZVxuXHRcdC8vIEFjY2Vzc2luZyBpZnJhbWUgZG9jdW1lbnRzIGFmdGVyIHVubG9hZCB0aHJvd3MgXCJwZXJtaXNzaW9uIGRlbmllZFwiIGVycm9ycyAoalF1ZXJ5ICMxMzkzNilcblx0XHRpZiAoIHByZWZlcnJlZERvYyAhPT0gZG9jdW1lbnQgJiZcblx0XHRcdChzdWJXaW5kb3cgPSBkb2N1bWVudC5kZWZhdWx0VmlldykgJiYgc3ViV2luZG93LnRvcCAhPT0gc3ViV2luZG93ICkge1xuXHRcblx0XHRcdC8vIFN1cHBvcnQ6IElFIDExLCBFZGdlXG5cdFx0XHRpZiAoIHN1YldpbmRvdy5hZGRFdmVudExpc3RlbmVyICkge1xuXHRcdFx0XHRzdWJXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggXCJ1bmxvYWRcIiwgdW5sb2FkSGFuZGxlciwgZmFsc2UgKTtcblx0XG5cdFx0XHQvLyBTdXBwb3J0OiBJRSA5IC0gMTAgb25seVxuXHRcdFx0fSBlbHNlIGlmICggc3ViV2luZG93LmF0dGFjaEV2ZW50ICkge1xuXHRcdFx0XHRzdWJXaW5kb3cuYXR0YWNoRXZlbnQoIFwib251bmxvYWRcIiwgdW5sb2FkSGFuZGxlciApO1xuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0LyogQXR0cmlidXRlc1xuXHRcdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblx0XG5cdFx0Ly8gU3VwcG9ydDogSUU8OFxuXHRcdC8vIFZlcmlmeSB0aGF0IGdldEF0dHJpYnV0ZSByZWFsbHkgcmV0dXJucyBhdHRyaWJ1dGVzIGFuZCBub3QgcHJvcGVydGllc1xuXHRcdC8vIChleGNlcHRpbmcgSUU4IGJvb2xlYW5zKVxuXHRcdHN1cHBvcnQuYXR0cmlidXRlcyA9IGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0XHRlbC5jbGFzc05hbWUgPSBcImlcIjtcblx0XHRcdHJldHVybiAhZWwuZ2V0QXR0cmlidXRlKFwiY2xhc3NOYW1lXCIpO1xuXHRcdH0pO1xuXHRcblx0XHQvKiBnZXRFbGVtZW50KHMpQnkqXG5cdFx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXHRcblx0XHQvLyBDaGVjayBpZiBnZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikgcmV0dXJucyBvbmx5IGVsZW1lbnRzXG5cdFx0c3VwcG9ydC5nZXRFbGVtZW50c0J5VGFnTmFtZSA9IGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0XHRlbC5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlQ29tbWVudChcIlwiKSApO1xuXHRcdFx0cmV0dXJuICFlbC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikubGVuZ3RoO1xuXHRcdH0pO1xuXHRcblx0XHQvLyBTdXBwb3J0OiBJRTw5XG5cdFx0c3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID0gcm5hdGl2ZS50ZXN0KCBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICk7XG5cdFxuXHRcdC8vIFN1cHBvcnQ6IElFPDEwXG5cdFx0Ly8gQ2hlY2sgaWYgZ2V0RWxlbWVudEJ5SWQgcmV0dXJucyBlbGVtZW50cyBieSBuYW1lXG5cdFx0Ly8gVGhlIGJyb2tlbiBnZXRFbGVtZW50QnlJZCBtZXRob2RzIGRvbid0IHBpY2sgdXAgcHJvZ3JhbW1hdGljYWxseS1zZXQgbmFtZXMsXG5cdFx0Ly8gc28gdXNlIGEgcm91bmRhYm91dCBnZXRFbGVtZW50c0J5TmFtZSB0ZXN0XG5cdFx0c3VwcG9ydC5nZXRCeUlkID0gYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0XHRcdGRvY0VsZW0uYXBwZW5kQ2hpbGQoIGVsICkuaWQgPSBleHBhbmRvO1xuXHRcdFx0cmV0dXJuICFkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSB8fCAhZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIGV4cGFuZG8gKS5sZW5ndGg7XG5cdFx0fSk7XG5cdFxuXHRcdC8vIElEIGZpbmQgYW5kIGZpbHRlclxuXHRcdGlmICggc3VwcG9ydC5nZXRCeUlkICkge1xuXHRcdFx0RXhwci5maW5kW1wiSURcIl0gPSBmdW5jdGlvbiggaWQsIGNvbnRleHQgKSB7XG5cdFx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnRJc0hUTUwgKSB7XG5cdFx0XHRcdFx0dmFyIG0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKCBpZCApO1xuXHRcdFx0XHRcdHJldHVybiBtID8gWyBtIF0gOiBbXTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdEV4cHIuZmlsdGVyW1wiSURcIl0gPSBmdW5jdGlvbiggaWQgKSB7XG5cdFx0XHRcdHZhciBhdHRySWQgPSBpZC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKFwiaWRcIikgPT09IGF0dHJJZDtcblx0XHRcdFx0fTtcblx0XHRcdH07XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIFN1cHBvcnQ6IElFNi83XG5cdFx0XHQvLyBnZXRFbGVtZW50QnlJZCBpcyBub3QgcmVsaWFibGUgYXMgYSBmaW5kIHNob3J0Y3V0XG5cdFx0XHRkZWxldGUgRXhwci5maW5kW1wiSURcIl07XG5cdFxuXHRcdFx0RXhwci5maWx0ZXJbXCJJRFwiXSA9ICBmdW5jdGlvbiggaWQgKSB7XG5cdFx0XHRcdHZhciBhdHRySWQgPSBpZC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0dmFyIG5vZGUgPSB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGVOb2RlICE9PSBcInVuZGVmaW5lZFwiICYmXG5cdFx0XHRcdFx0XHRlbGVtLmdldEF0dHJpYnV0ZU5vZGUoXCJpZFwiKTtcblx0XHRcdFx0XHRyZXR1cm4gbm9kZSAmJiBub2RlLnZhbHVlID09PSBhdHRySWQ7XG5cdFx0XHRcdH07XG5cdFx0XHR9O1xuXHRcdH1cblx0XG5cdFx0Ly8gVGFnXG5cdFx0RXhwci5maW5kW1wiVEFHXCJdID0gc3VwcG9ydC5nZXRFbGVtZW50c0J5VGFnTmFtZSA/XG5cdFx0XHRmdW5jdGlvbiggdGFnLCBjb250ZXh0ICkge1xuXHRcdFx0XHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiICkge1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgKTtcblx0XG5cdFx0XHRcdC8vIERvY3VtZW50RnJhZ21lbnQgbm9kZXMgZG9uJ3QgaGF2ZSBnRUJUTlxuXHRcdFx0XHR9IGVsc2UgaWYgKCBzdXBwb3J0LnFzYSApIHtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCB0YWcgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSA6XG5cdFxuXHRcdFx0ZnVuY3Rpb24oIHRhZywgY29udGV4dCApIHtcblx0XHRcdFx0dmFyIGVsZW0sXG5cdFx0XHRcdFx0dG1wID0gW10sXG5cdFx0XHRcdFx0aSA9IDAsXG5cdFx0XHRcdFx0Ly8gQnkgaGFwcHkgY29pbmNpZGVuY2UsIGEgKGJyb2tlbikgZ0VCVE4gYXBwZWFycyBvbiBEb2N1bWVudEZyYWdtZW50IG5vZGVzIHRvb1xuXHRcdFx0XHRcdHJlc3VsdHMgPSBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgKTtcblx0XG5cdFx0XHRcdC8vIEZpbHRlciBvdXQgcG9zc2libGUgY29tbWVudHNcblx0XHRcdFx0aWYgKCB0YWcgPT09IFwiKlwiICkge1xuXHRcdFx0XHRcdHdoaWxlICggKGVsZW0gPSByZXN1bHRzW2krK10pICkge1xuXHRcdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0XHRcdFx0XHR0bXAucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0cmV0dXJuIHRtcDtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdH07XG5cdFxuXHRcdC8vIENsYXNzXG5cdFx0RXhwci5maW5kW1wiQ0xBU1NcIl0gPSBzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgJiYgZnVuY3Rpb24oIGNsYXNzTmFtZSwgY29udGV4dCApIHtcblx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudElzSFRNTCApIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggY2xhc3NOYW1lICk7XG5cdFx0XHR9XG5cdFx0fTtcblx0XG5cdFx0LyogUVNBL21hdGNoZXNTZWxlY3RvclxuXHRcdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblx0XG5cdFx0Ly8gUVNBIGFuZCBtYXRjaGVzU2VsZWN0b3Igc3VwcG9ydFxuXHRcblx0XHQvLyBtYXRjaGVzU2VsZWN0b3IoOmFjdGl2ZSkgcmVwb3J0cyBmYWxzZSB3aGVuIHRydWUgKElFOS9PcGVyYSAxMS41KVxuXHRcdHJidWdneU1hdGNoZXMgPSBbXTtcblx0XG5cdFx0Ly8gcVNhKDpmb2N1cykgcmVwb3J0cyBmYWxzZSB3aGVuIHRydWUgKENocm9tZSAyMSlcblx0XHQvLyBXZSBhbGxvdyB0aGlzIGJlY2F1c2Ugb2YgYSBidWcgaW4gSUU4LzkgdGhhdCB0aHJvd3MgYW4gZXJyb3Jcblx0XHQvLyB3aGVuZXZlciBgZG9jdW1lbnQuYWN0aXZlRWxlbWVudGAgaXMgYWNjZXNzZWQgb24gYW4gaWZyYW1lXG5cdFx0Ly8gU28sIHdlIGFsbG93IDpmb2N1cyB0byBwYXNzIHRocm91Z2ggUVNBIGFsbCB0aGUgdGltZSB0byBhdm9pZCB0aGUgSUUgZXJyb3Jcblx0XHQvLyBTZWUgaHR0cHM6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzEzMzc4XG5cdFx0cmJ1Z2d5UVNBID0gW107XG5cdFxuXHRcdGlmICggKHN1cHBvcnQucXNhID0gcm5hdGl2ZS50ZXN0KCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsICkpICkge1xuXHRcdFx0Ly8gQnVpbGQgUVNBIHJlZ2V4XG5cdFx0XHQvLyBSZWdleCBzdHJhdGVneSBhZG9wdGVkIGZyb20gRGllZ28gUGVyaW5pXG5cdFx0XHRhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRcdFx0XHQvLyBTZWxlY3QgaXMgc2V0IHRvIGVtcHR5IHN0cmluZyBvbiBwdXJwb3NlXG5cdFx0XHRcdC8vIFRoaXMgaXMgdG8gdGVzdCBJRSdzIHRyZWF0bWVudCBvZiBub3QgZXhwbGljaXRseVxuXHRcdFx0XHQvLyBzZXR0aW5nIGEgYm9vbGVhbiBjb250ZW50IGF0dHJpYnV0ZSxcblx0XHRcdFx0Ly8gc2luY2UgaXRzIHByZXNlbmNlIHNob3VsZCBiZSBlbm91Z2hcblx0XHRcdFx0Ly8gaHR0cHM6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzEyMzU5XG5cdFx0XHRcdGRvY0VsZW0uYXBwZW5kQ2hpbGQoIGVsICkuaW5uZXJIVE1MID0gXCI8YSBpZD0nXCIgKyBleHBhbmRvICsgXCInPjwvYT5cIiArXG5cdFx0XHRcdFx0XCI8c2VsZWN0IGlkPSdcIiArIGV4cGFuZG8gKyBcIi1cXHJcXFxcJyBtc2FsbG93Y2FwdHVyZT0nJz5cIiArXG5cdFx0XHRcdFx0XCI8b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PlwiO1xuXHRcblx0XHRcdFx0Ly8gU3VwcG9ydDogSUU4LCBPcGVyYSAxMS0xMi4xNlxuXHRcdFx0XHQvLyBOb3RoaW5nIHNob3VsZCBiZSBzZWxlY3RlZCB3aGVuIGVtcHR5IHN0cmluZ3MgZm9sbG93IF49IG9yICQ9IG9yICo9XG5cdFx0XHRcdC8vIFRoZSB0ZXN0IGF0dHJpYnV0ZSBtdXN0IGJlIHVua25vd24gaW4gT3BlcmEgYnV0IFwic2FmZVwiIGZvciBXaW5SVFxuXHRcdFx0XHQvLyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2hoNDY1Mzg4LmFzcHgjYXR0cmlidXRlX3NlY3Rpb25cblx0XHRcdFx0aWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKFwiW21zYWxsb3djYXB0dXJlXj0nJ11cIikubGVuZ3RoICkge1xuXHRcdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIlsqXiRdPVwiICsgd2hpdGVzcGFjZSArIFwiKig/OicnfFxcXCJcXFwiKVwiICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFOFxuXHRcdFx0XHQvLyBCb29sZWFuIGF0dHJpYnV0ZXMgYW5kIFwidmFsdWVcIiBhcmUgbm90IHRyZWF0ZWQgY29ycmVjdGx5XG5cdFx0XHRcdGlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbc2VsZWN0ZWRdXCIpLmxlbmd0aCApIHtcblx0XHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJcXFxcW1wiICsgd2hpdGVzcGFjZSArIFwiKig/OnZhbHVlfFwiICsgYm9vbGVhbnMgKyBcIilcIiApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWU8MjksIEFuZHJvaWQ8NC40LCBTYWZhcmk8Ny4wKywgaU9TPDcuMCssIFBoYW50b21KUzwxLjkuOCtcblx0XHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggXCJbaWR+PVwiICsgZXhwYW5kbyArIFwiLV1cIiApLmxlbmd0aCApIHtcblx0XHRcdFx0XHRyYnVnZ3lRU0EucHVzaChcIn49XCIpO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBXZWJraXQvT3BlcmEgLSA6Y2hlY2tlZCBzaG91bGQgcmV0dXJuIHNlbGVjdGVkIG9wdGlvbiBlbGVtZW50c1xuXHRcdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDExL1JFQy1jc3MzLXNlbGVjdG9ycy0yMDExMDkyOS8jY2hlY2tlZFxuXHRcdFx0XHQvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0c1xuXHRcdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKFwiOmNoZWNrZWRcIikubGVuZ3RoICkge1xuXHRcdFx0XHRcdHJidWdneVFTQS5wdXNoKFwiOmNoZWNrZWRcIik7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA4KywgaU9TIDgrXG5cdFx0XHRcdC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzY4NTFcblx0XHRcdFx0Ly8gSW4tcGFnZSBgc2VsZWN0b3IjaWQgc2libGluZy1jb21iaW5hdG9yIHNlbGVjdG9yYCBmYWlsc1xuXHRcdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCBcImEjXCIgKyBleHBhbmRvICsgXCIrKlwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRcdHJidWdneVFTQS5wdXNoKFwiLiMuK1srfl1cIik7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcblx0XHRcdGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0XHRcdGVsLmlubmVySFRNTCA9IFwiPGEgaHJlZj0nJyBkaXNhYmxlZD0nZGlzYWJsZWQnPjwvYT5cIiArXG5cdFx0XHRcdFx0XCI8c2VsZWN0IGRpc2FibGVkPSdkaXNhYmxlZCc+PG9wdGlvbi8+PC9zZWxlY3Q+XCI7XG5cdFxuXHRcdFx0XHQvLyBTdXBwb3J0OiBXaW5kb3dzIDggTmF0aXZlIEFwcHNcblx0XHRcdFx0Ly8gVGhlIHR5cGUgYW5kIG5hbWUgYXR0cmlidXRlcyBhcmUgcmVzdHJpY3RlZCBkdXJpbmcgLmlubmVySFRNTCBhc3NpZ25tZW50XG5cdFx0XHRcdHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcblx0XHRcdFx0aW5wdXQuc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgXCJoaWRkZW5cIiApO1xuXHRcdFx0XHRlbC5hcHBlbmRDaGlsZCggaW5wdXQgKS5zZXRBdHRyaWJ1dGUoIFwibmFtZVwiLCBcIkRcIiApO1xuXHRcblx0XHRcdFx0Ly8gU3VwcG9ydDogSUU4XG5cdFx0XHRcdC8vIEVuZm9yY2UgY2FzZS1zZW5zaXRpdml0eSBvZiBuYW1lIGF0dHJpYnV0ZVxuXHRcdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbbmFtZT1kXVwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwibmFtZVwiICsgd2hpdGVzcGFjZSArIFwiKlsqXiR8IX5dPz1cIiApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBGRiAzLjUgLSA6ZW5hYmxlZC86ZGlzYWJsZWQgYW5kIGhpZGRlbiBlbGVtZW50cyAoaGlkZGVuIGVsZW1lbnRzIGFyZSBzdGlsbCBlbmFibGVkKVxuXHRcdFx0XHQvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0c1xuXHRcdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZW5hYmxlZFwiKS5sZW5ndGggIT09IDIgKSB7XG5cdFx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiOmVuYWJsZWRcIiwgXCI6ZGlzYWJsZWRcIiApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRTktMTErXG5cdFx0XHRcdC8vIElFJ3MgOmRpc2FibGVkIHNlbGVjdG9yIGRvZXMgbm90IHBpY2sgdXAgdGhlIGNoaWxkcmVuIG9mIGRpc2FibGVkIGZpZWxkc2V0c1xuXHRcdFx0XHRkb2NFbGVtLmFwcGVuZENoaWxkKCBlbCApLmRpc2FibGVkID0gdHJ1ZTtcblx0XHRcdFx0aWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKFwiOmRpc2FibGVkXCIpLmxlbmd0aCAhPT0gMiApIHtcblx0XHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCI6ZW5hYmxlZFwiLCBcIjpkaXNhYmxlZFwiICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIE9wZXJhIDEwLTExIGRvZXMgbm90IHRocm93IG9uIHBvc3QtY29tbWEgaW52YWxpZCBwc2V1ZG9zXG5cdFx0XHRcdGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCIqLDp4XCIpO1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaChcIiwuKjpcIik7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFxuXHRcdGlmICggKHN1cHBvcnQubWF0Y2hlc1NlbGVjdG9yID0gcm5hdGl2ZS50ZXN0KCAobWF0Y2hlcyA9IGRvY0VsZW0ubWF0Y2hlcyB8fFxuXHRcdFx0ZG9jRWxlbS53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRcdGRvY0VsZW0ubW96TWF0Y2hlc1NlbGVjdG9yIHx8XG5cdFx0XHRkb2NFbGVtLm9NYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRcdGRvY0VsZW0ubXNNYXRjaGVzU2VsZWN0b3IpICkpICkge1xuXHRcblx0XHRcdGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0XHRcdC8vIENoZWNrIHRvIHNlZSBpZiBpdCdzIHBvc3NpYmxlIHRvIGRvIG1hdGNoZXNTZWxlY3RvclxuXHRcdFx0XHQvLyBvbiBhIGRpc2Nvbm5lY3RlZCBub2RlIChJRSA5KVxuXHRcdFx0XHRzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoID0gbWF0Y2hlcy5jYWxsKCBlbCwgXCIqXCIgKTtcblx0XG5cdFx0XHRcdC8vIFRoaXMgc2hvdWxkIGZhaWwgd2l0aCBhbiBleGNlcHRpb25cblx0XHRcdFx0Ly8gR2Vja28gZG9lcyBub3QgZXJyb3IsIHJldHVybnMgZmFsc2UgaW5zdGVhZFxuXHRcdFx0XHRtYXRjaGVzLmNhbGwoIGVsLCBcIltzIT0nJ106eFwiICk7XG5cdFx0XHRcdHJidWdneU1hdGNoZXMucHVzaCggXCIhPVwiLCBwc2V1ZG9zICk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFxuXHRcdHJidWdneVFTQSA9IHJidWdneVFTQS5sZW5ndGggJiYgbmV3IFJlZ0V4cCggcmJ1Z2d5UVNBLmpvaW4oXCJ8XCIpICk7XG5cdFx0cmJ1Z2d5TWF0Y2hlcyA9IHJidWdneU1hdGNoZXMubGVuZ3RoICYmIG5ldyBSZWdFeHAoIHJidWdneU1hdGNoZXMuam9pbihcInxcIikgKTtcblx0XG5cdFx0LyogQ29udGFpbnNcblx0XHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cdFx0aGFzQ29tcGFyZSA9IHJuYXRpdmUudGVzdCggZG9jRWxlbS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiApO1xuXHRcblx0XHQvLyBFbGVtZW50IGNvbnRhaW5zIGFub3RoZXJcblx0XHQvLyBQdXJwb3NlZnVsbHkgc2VsZi1leGNsdXNpdmVcblx0XHQvLyBBcyBpbiwgYW4gZWxlbWVudCBkb2VzIG5vdCBjb250YWluIGl0c2VsZlxuXHRcdGNvbnRhaW5zID0gaGFzQ29tcGFyZSB8fCBybmF0aXZlLnRlc3QoIGRvY0VsZW0uY29udGFpbnMgKSA/XG5cdFx0XHRmdW5jdGlvbiggYSwgYiApIHtcblx0XHRcdFx0dmFyIGFkb3duID0gYS5ub2RlVHlwZSA9PT0gOSA/IGEuZG9jdW1lbnRFbGVtZW50IDogYSxcblx0XHRcdFx0XHRidXAgPSBiICYmIGIucGFyZW50Tm9kZTtcblx0XHRcdFx0cmV0dXJuIGEgPT09IGJ1cCB8fCAhISggYnVwICYmIGJ1cC5ub2RlVHlwZSA9PT0gMSAmJiAoXG5cdFx0XHRcdFx0YWRvd24uY29udGFpbnMgP1xuXHRcdFx0XHRcdFx0YWRvd24uY29udGFpbnMoIGJ1cCApIDpcblx0XHRcdFx0XHRcdGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24gJiYgYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYnVwICkgJiAxNlxuXHRcdFx0XHQpKTtcblx0XHRcdH0gOlxuXHRcdFx0ZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0XHRcdGlmICggYiApIHtcblx0XHRcdFx0XHR3aGlsZSAoIChiID0gYi5wYXJlbnROb2RlKSApIHtcblx0XHRcdFx0XHRcdGlmICggYiA9PT0gYSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH07XG5cdFxuXHRcdC8qIFNvcnRpbmdcblx0XHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cdFxuXHRcdC8vIERvY3VtZW50IG9yZGVyIHNvcnRpbmdcblx0XHRzb3J0T3JkZXIgPSBoYXNDb21wYXJlID9cblx0XHRmdW5jdGlvbiggYSwgYiApIHtcblx0XG5cdFx0XHQvLyBGbGFnIGZvciBkdXBsaWNhdGUgcmVtb3ZhbFxuXHRcdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0XHRoYXNEdXBsaWNhdGUgPSB0cnVlO1xuXHRcdFx0XHRyZXR1cm4gMDtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBTb3J0IG9uIG1ldGhvZCBleGlzdGVuY2UgaWYgb25seSBvbmUgaW5wdXQgaGFzIGNvbXBhcmVEb2N1bWVudFBvc2l0aW9uXG5cdFx0XHR2YXIgY29tcGFyZSA9ICFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIC0gIWIuY29tcGFyZURvY3VtZW50UG9zaXRpb247XG5cdFx0XHRpZiAoIGNvbXBhcmUgKSB7XG5cdFx0XHRcdHJldHVybiBjb21wYXJlO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIENhbGN1bGF0ZSBwb3NpdGlvbiBpZiBib3RoIGlucHV0cyBiZWxvbmcgdG8gdGhlIHNhbWUgZG9jdW1lbnRcblx0XHRcdGNvbXBhcmUgPSAoIGEub3duZXJEb2N1bWVudCB8fCBhICkgPT09ICggYi5vd25lckRvY3VtZW50IHx8IGIgKSA/XG5cdFx0XHRcdGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGIgKSA6XG5cdFxuXHRcdFx0XHQvLyBPdGhlcndpc2Ugd2Uga25vdyB0aGV5IGFyZSBkaXNjb25uZWN0ZWRcblx0XHRcdFx0MTtcblx0XG5cdFx0XHQvLyBEaXNjb25uZWN0ZWQgbm9kZXNcblx0XHRcdGlmICggY29tcGFyZSAmIDEgfHxcblx0XHRcdFx0KCFzdXBwb3J0LnNvcnREZXRhY2hlZCAmJiBiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBhICkgPT09IGNvbXBhcmUpICkge1xuXHRcblx0XHRcdFx0Ly8gQ2hvb3NlIHRoZSBmaXJzdCBlbGVtZW50IHRoYXQgaXMgcmVsYXRlZCB0byBvdXIgcHJlZmVycmVkIGRvY3VtZW50XG5cdFx0XHRcdGlmICggYSA9PT0gZG9jdW1lbnQgfHwgYS5vd25lckRvY3VtZW50ID09PSBwcmVmZXJyZWREb2MgJiYgY29udGFpbnMocHJlZmVycmVkRG9jLCBhKSApIHtcblx0XHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBiID09PSBkb2N1bWVudCB8fCBiLm93bmVyRG9jdW1lbnQgPT09IHByZWZlcnJlZERvYyAmJiBjb250YWlucyhwcmVmZXJyZWREb2MsIGIpICkge1xuXHRcdFx0XHRcdHJldHVybiAxO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBNYWludGFpbiBvcmlnaW5hbCBvcmRlclxuXHRcdFx0XHRyZXR1cm4gc29ydElucHV0ID9cblx0XHRcdFx0XHQoIGluZGV4T2YoIHNvcnRJbnB1dCwgYSApIC0gaW5kZXhPZiggc29ydElucHV0LCBiICkgKSA6XG5cdFx0XHRcdFx0MDtcblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gY29tcGFyZSAmIDQgPyAtMSA6IDE7XG5cdFx0fSA6XG5cdFx0ZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0XHQvLyBFeGl0IGVhcmx5IGlmIHRoZSBub2RlcyBhcmUgaWRlbnRpY2FsXG5cdFx0XHRpZiAoIGEgPT09IGIgKSB7XG5cdFx0XHRcdGhhc0R1cGxpY2F0ZSA9IHRydWU7XG5cdFx0XHRcdHJldHVybiAwO1xuXHRcdFx0fVxuXHRcblx0XHRcdHZhciBjdXIsXG5cdFx0XHRcdGkgPSAwLFxuXHRcdFx0XHRhdXAgPSBhLnBhcmVudE5vZGUsXG5cdFx0XHRcdGJ1cCA9IGIucGFyZW50Tm9kZSxcblx0XHRcdFx0YXAgPSBbIGEgXSxcblx0XHRcdFx0YnAgPSBbIGIgXTtcblx0XG5cdFx0XHQvLyBQYXJlbnRsZXNzIG5vZGVzIGFyZSBlaXRoZXIgZG9jdW1lbnRzIG9yIGRpc2Nvbm5lY3RlZFxuXHRcdFx0aWYgKCAhYXVwIHx8ICFidXAgKSB7XG5cdFx0XHRcdHJldHVybiBhID09PSBkb2N1bWVudCA/IC0xIDpcblx0XHRcdFx0XHRiID09PSBkb2N1bWVudCA/IDEgOlxuXHRcdFx0XHRcdGF1cCA/IC0xIDpcblx0XHRcdFx0XHRidXAgPyAxIDpcblx0XHRcdFx0XHRzb3J0SW5wdXQgP1xuXHRcdFx0XHRcdCggaW5kZXhPZiggc29ydElucHV0LCBhICkgLSBpbmRleE9mKCBzb3J0SW5wdXQsIGIgKSApIDpcblx0XHRcdFx0XHQwO1xuXHRcblx0XHRcdC8vIElmIHRoZSBub2RlcyBhcmUgc2libGluZ3MsIHdlIGNhbiBkbyBhIHF1aWNrIGNoZWNrXG5cdFx0XHR9IGVsc2UgaWYgKCBhdXAgPT09IGJ1cCApIHtcblx0XHRcdFx0cmV0dXJuIHNpYmxpbmdDaGVjayggYSwgYiApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIE90aGVyd2lzZSB3ZSBuZWVkIGZ1bGwgbGlzdHMgb2YgdGhlaXIgYW5jZXN0b3JzIGZvciBjb21wYXJpc29uXG5cdFx0XHRjdXIgPSBhO1xuXHRcdFx0d2hpbGUgKCAoY3VyID0gY3VyLnBhcmVudE5vZGUpICkge1xuXHRcdFx0XHRhcC51bnNoaWZ0KCBjdXIgKTtcblx0XHRcdH1cblx0XHRcdGN1ciA9IGI7XG5cdFx0XHR3aGlsZSAoIChjdXIgPSBjdXIucGFyZW50Tm9kZSkgKSB7XG5cdFx0XHRcdGJwLnVuc2hpZnQoIGN1ciApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFdhbGsgZG93biB0aGUgdHJlZSBsb29raW5nIGZvciBhIGRpc2NyZXBhbmN5XG5cdFx0XHR3aGlsZSAoIGFwW2ldID09PSBicFtpXSApIHtcblx0XHRcdFx0aSsrO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiBpID9cblx0XHRcdFx0Ly8gRG8gYSBzaWJsaW5nIGNoZWNrIGlmIHRoZSBub2RlcyBoYXZlIGEgY29tbW9uIGFuY2VzdG9yXG5cdFx0XHRcdHNpYmxpbmdDaGVjayggYXBbaV0sIGJwW2ldICkgOlxuXHRcblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIG5vZGVzIGluIG91ciBkb2N1bWVudCBzb3J0IGZpcnN0XG5cdFx0XHRcdGFwW2ldID09PSBwcmVmZXJyZWREb2MgPyAtMSA6XG5cdFx0XHRcdGJwW2ldID09PSBwcmVmZXJyZWREb2MgPyAxIDpcblx0XHRcdFx0MDtcblx0XHR9O1xuXHRcblx0XHRyZXR1cm4gZG9jdW1lbnQ7XG5cdH07XG5cdFxuXHRTaXp6bGUubWF0Y2hlcyA9IGZ1bmN0aW9uKCBleHByLCBlbGVtZW50cyApIHtcblx0XHRyZXR1cm4gU2l6emxlKCBleHByLCBudWxsLCBudWxsLCBlbGVtZW50cyApO1xuXHR9O1xuXHRcblx0U2l6emxlLm1hdGNoZXNTZWxlY3RvciA9IGZ1bmN0aW9uKCBlbGVtLCBleHByICkge1xuXHRcdC8vIFNldCBkb2N1bWVudCB2YXJzIGlmIG5lZWRlZFxuXHRcdGlmICggKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSApICE9PSBkb2N1bWVudCApIHtcblx0XHRcdHNldERvY3VtZW50KCBlbGVtICk7XG5cdFx0fVxuXHRcblx0XHQvLyBNYWtlIHN1cmUgdGhhdCBhdHRyaWJ1dGUgc2VsZWN0b3JzIGFyZSBxdW90ZWRcblx0XHRleHByID0gZXhwci5yZXBsYWNlKCByYXR0cmlidXRlUXVvdGVzLCBcIj0nJDEnXVwiICk7XG5cdFxuXHRcdGlmICggc3VwcG9ydC5tYXRjaGVzU2VsZWN0b3IgJiYgZG9jdW1lbnRJc0hUTUwgJiZcblx0XHRcdCFjb21waWxlckNhY2hlWyBleHByICsgXCIgXCIgXSAmJlxuXHRcdFx0KCAhcmJ1Z2d5TWF0Y2hlcyB8fCAhcmJ1Z2d5TWF0Y2hlcy50ZXN0KCBleHByICkgKSAmJlxuXHRcdFx0KCAhcmJ1Z2d5UVNBICAgICB8fCAhcmJ1Z2d5UVNBLnRlc3QoIGV4cHIgKSApICkge1xuXHRcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHZhciByZXQgPSBtYXRjaGVzLmNhbGwoIGVsZW0sIGV4cHIgKTtcblx0XG5cdFx0XHRcdC8vIElFIDkncyBtYXRjaGVzU2VsZWN0b3IgcmV0dXJucyBmYWxzZSBvbiBkaXNjb25uZWN0ZWQgbm9kZXNcblx0XHRcdFx0aWYgKCByZXQgfHwgc3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaCB8fFxuXHRcdFx0XHRcdFx0Ly8gQXMgd2VsbCwgZGlzY29ubmVjdGVkIG5vZGVzIGFyZSBzYWlkIHRvIGJlIGluIGEgZG9jdW1lbnRcblx0XHRcdFx0XHRcdC8vIGZyYWdtZW50IGluIElFIDlcblx0XHRcdFx0XHRcdGVsZW0uZG9jdW1lbnQgJiYgZWxlbS5kb2N1bWVudC5ub2RlVHlwZSAhPT0gMTEgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCAoZSkge31cblx0XHR9XG5cdFxuXHRcdHJldHVybiBTaXp6bGUoIGV4cHIsIGRvY3VtZW50LCBudWxsLCBbIGVsZW0gXSApLmxlbmd0aCA+IDA7XG5cdH07XG5cdFxuXHRTaXp6bGUuY29udGFpbnMgPSBmdW5jdGlvbiggY29udGV4dCwgZWxlbSApIHtcblx0XHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0XHRpZiAoICggY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgKSAhPT0gZG9jdW1lbnQgKSB7XG5cdFx0XHRzZXREb2N1bWVudCggY29udGV4dCApO1xuXHRcdH1cblx0XHRyZXR1cm4gY29udGFpbnMoIGNvbnRleHQsIGVsZW0gKTtcblx0fTtcblx0XG5cdFNpenpsZS5hdHRyID0gZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cdFx0Ly8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG5cdFx0aWYgKCAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtICkgIT09IGRvY3VtZW50ICkge1xuXHRcdFx0c2V0RG9jdW1lbnQoIGVsZW0gKTtcblx0XHR9XG5cdFxuXHRcdHZhciBmbiA9IEV4cHIuYXR0ckhhbmRsZVsgbmFtZS50b0xvd2VyQ2FzZSgpIF0sXG5cdFx0XHQvLyBEb24ndCBnZXQgZm9vbGVkIGJ5IE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAoalF1ZXJ5ICMxMzgwNylcblx0XHRcdHZhbCA9IGZuICYmIGhhc093bi5jYWxsKCBFeHByLmF0dHJIYW5kbGUsIG5hbWUudG9Mb3dlckNhc2UoKSApID9cblx0XHRcdFx0Zm4oIGVsZW0sIG5hbWUsICFkb2N1bWVudElzSFRNTCApIDpcblx0XHRcdFx0dW5kZWZpbmVkO1xuXHRcblx0XHRyZXR1cm4gdmFsICE9PSB1bmRlZmluZWQgP1xuXHRcdFx0dmFsIDpcblx0XHRcdHN1cHBvcnQuYXR0cmlidXRlcyB8fCAhZG9jdW1lbnRJc0hUTUwgP1xuXHRcdFx0XHRlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSApIDpcblx0XHRcdFx0KHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZShuYW1lKSkgJiYgdmFsLnNwZWNpZmllZCA/XG5cdFx0XHRcdFx0dmFsLnZhbHVlIDpcblx0XHRcdFx0XHRudWxsO1xuXHR9O1xuXHRcblx0U2l6emxlLmVzY2FwZSA9IGZ1bmN0aW9uKCBzZWwgKSB7XG5cdFx0cmV0dXJuIChzZWwgKyBcIlwiKS5yZXBsYWNlKCByY3NzZXNjYXBlLCBmY3NzZXNjYXBlICk7XG5cdH07XG5cdFxuXHRTaXp6bGUuZXJyb3IgPSBmdW5jdGlvbiggbXNnICkge1xuXHRcdHRocm93IG5ldyBFcnJvciggXCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiBcIiArIG1zZyApO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIERvY3VtZW50IHNvcnRpbmcgYW5kIHJlbW92aW5nIGR1cGxpY2F0ZXNcblx0ICogQHBhcmFtIHtBcnJheUxpa2V9IHJlc3VsdHNcblx0ICovXG5cdFNpenpsZS51bmlxdWVTb3J0ID0gZnVuY3Rpb24oIHJlc3VsdHMgKSB7XG5cdFx0dmFyIGVsZW0sXG5cdFx0XHRkdXBsaWNhdGVzID0gW10sXG5cdFx0XHRqID0gMCxcblx0XHRcdGkgPSAwO1xuXHRcblx0XHQvLyBVbmxlc3Mgd2UgKmtub3cqIHdlIGNhbiBkZXRlY3QgZHVwbGljYXRlcywgYXNzdW1lIHRoZWlyIHByZXNlbmNlXG5cdFx0aGFzRHVwbGljYXRlID0gIXN1cHBvcnQuZGV0ZWN0RHVwbGljYXRlcztcblx0XHRzb3J0SW5wdXQgPSAhc3VwcG9ydC5zb3J0U3RhYmxlICYmIHJlc3VsdHMuc2xpY2UoIDAgKTtcblx0XHRyZXN1bHRzLnNvcnQoIHNvcnRPcmRlciApO1xuXHRcblx0XHRpZiAoIGhhc0R1cGxpY2F0ZSApIHtcblx0XHRcdHdoaWxlICggKGVsZW0gPSByZXN1bHRzW2krK10pICkge1xuXHRcdFx0XHRpZiAoIGVsZW0gPT09IHJlc3VsdHNbIGkgXSApIHtcblx0XHRcdFx0XHRqID0gZHVwbGljYXRlcy5wdXNoKCBpICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0XHRyZXN1bHRzLnNwbGljZSggZHVwbGljYXRlc1sgaiBdLCAxICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHQvLyBDbGVhciBpbnB1dCBhZnRlciBzb3J0aW5nIHRvIHJlbGVhc2Ugb2JqZWN0c1xuXHRcdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L3NpenpsZS9wdWxsLzIyNVxuXHRcdHNvcnRJbnB1dCA9IG51bGw7XG5cdFxuXHRcdHJldHVybiByZXN1bHRzO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFV0aWxpdHkgZnVuY3Rpb24gZm9yIHJldHJpZXZpbmcgdGhlIHRleHQgdmFsdWUgb2YgYW4gYXJyYXkgb2YgRE9NIG5vZGVzXG5cdCAqIEBwYXJhbSB7QXJyYXl8RWxlbWVudH0gZWxlbVxuXHQgKi9cblx0Z2V0VGV4dCA9IFNpenpsZS5nZXRUZXh0ID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0dmFyIG5vZGUsXG5cdFx0XHRyZXQgPSBcIlwiLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRub2RlVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cdFxuXHRcdGlmICggIW5vZGVUeXBlICkge1xuXHRcdFx0Ly8gSWYgbm8gbm9kZVR5cGUsIHRoaXMgaXMgZXhwZWN0ZWQgdG8gYmUgYW4gYXJyYXlcblx0XHRcdHdoaWxlICggKG5vZGUgPSBlbGVtW2krK10pICkge1xuXHRcdFx0XHQvLyBEbyBub3QgdHJhdmVyc2UgY29tbWVudCBub2Rlc1xuXHRcdFx0XHRyZXQgKz0gZ2V0VGV4dCggbm9kZSApO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoIG5vZGVUeXBlID09PSAxIHx8IG5vZGVUeXBlID09PSA5IHx8IG5vZGVUeXBlID09PSAxMSApIHtcblx0XHRcdC8vIFVzZSB0ZXh0Q29udGVudCBmb3IgZWxlbWVudHNcblx0XHRcdC8vIGlubmVyVGV4dCB1c2FnZSByZW1vdmVkIGZvciBjb25zaXN0ZW5jeSBvZiBuZXcgbGluZXMgKGpRdWVyeSAjMTExNTMpXG5cdFx0XHRpZiAoIHR5cGVvZiBlbGVtLnRleHRDb250ZW50ID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbS50ZXh0Q29udGVudDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIFRyYXZlcnNlIGl0cyBjaGlsZHJlblxuXHRcdFx0XHRmb3IgKCBlbGVtID0gZWxlbS5maXJzdENoaWxkOyBlbGVtOyBlbGVtID0gZWxlbS5uZXh0U2libGluZyApIHtcblx0XHRcdFx0XHRyZXQgKz0gZ2V0VGV4dCggZWxlbSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDMgfHwgbm9kZVR5cGUgPT09IDQgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5ub2RlVmFsdWU7XG5cdFx0fVxuXHRcdC8vIERvIG5vdCBpbmNsdWRlIGNvbW1lbnQgb3IgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiBub2Rlc1xuXHRcblx0XHRyZXR1cm4gcmV0O1xuXHR9O1xuXHRcblx0RXhwciA9IFNpenpsZS5zZWxlY3RvcnMgPSB7XG5cdFxuXHRcdC8vIENhbiBiZSBhZGp1c3RlZCBieSB0aGUgdXNlclxuXHRcdGNhY2hlTGVuZ3RoOiA1MCxcblx0XG5cdFx0Y3JlYXRlUHNldWRvOiBtYXJrRnVuY3Rpb24sXG5cdFxuXHRcdG1hdGNoOiBtYXRjaEV4cHIsXG5cdFxuXHRcdGF0dHJIYW5kbGU6IHt9LFxuXHRcblx0XHRmaW5kOiB7fSxcblx0XG5cdFx0cmVsYXRpdmU6IHtcblx0XHRcdFwiPlwiOiB7IGRpcjogXCJwYXJlbnROb2RlXCIsIGZpcnN0OiB0cnVlIH0sXG5cdFx0XHRcIiBcIjogeyBkaXI6IFwicGFyZW50Tm9kZVwiIH0sXG5cdFx0XHRcIitcIjogeyBkaXI6IFwicHJldmlvdXNTaWJsaW5nXCIsIGZpcnN0OiB0cnVlIH0sXG5cdFx0XHRcIn5cIjogeyBkaXI6IFwicHJldmlvdXNTaWJsaW5nXCIgfVxuXHRcdH0sXG5cdFxuXHRcdHByZUZpbHRlcjoge1xuXHRcdFx0XCJBVFRSXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcblx0XHRcdFx0bWF0Y2hbMV0gPSBtYXRjaFsxXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXHRcblx0XHRcdFx0Ly8gTW92ZSB0aGUgZ2l2ZW4gdmFsdWUgdG8gbWF0Y2hbM10gd2hldGhlciBxdW90ZWQgb3IgdW5xdW90ZWRcblx0XHRcdFx0bWF0Y2hbM10gPSAoIG1hdGNoWzNdIHx8IG1hdGNoWzRdIHx8IG1hdGNoWzVdIHx8IFwiXCIgKS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXHRcblx0XHRcdFx0aWYgKCBtYXRjaFsyXSA9PT0gXCJ+PVwiICkge1xuXHRcdFx0XHRcdG1hdGNoWzNdID0gXCIgXCIgKyBtYXRjaFszXSArIFwiIFwiO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRyZXR1cm4gbWF0Y2guc2xpY2UoIDAsIDQgKTtcblx0XHRcdH0sXG5cdFxuXHRcdFx0XCJDSElMRFwiOiBmdW5jdGlvbiggbWF0Y2ggKSB7XG5cdFx0XHRcdC8qIG1hdGNoZXMgZnJvbSBtYXRjaEV4cHJbXCJDSElMRFwiXVxuXHRcdFx0XHRcdDEgdHlwZSAob25seXxudGh8Li4uKVxuXHRcdFx0XHRcdDIgd2hhdCAoY2hpbGR8b2YtdHlwZSlcblx0XHRcdFx0XHQzIGFyZ3VtZW50IChldmVufG9kZHxcXGQqfFxcZCpuKFsrLV1cXGQrKT98Li4uKVxuXHRcdFx0XHRcdDQgeG4tY29tcG9uZW50IG9mIHhuK3kgYXJndW1lbnQgKFsrLV0/XFxkKm58KVxuXHRcdFx0XHRcdDUgc2lnbiBvZiB4bi1jb21wb25lbnRcblx0XHRcdFx0XHQ2IHggb2YgeG4tY29tcG9uZW50XG5cdFx0XHRcdFx0NyBzaWduIG9mIHktY29tcG9uZW50XG5cdFx0XHRcdFx0OCB5IG9mIHktY29tcG9uZW50XG5cdFx0XHRcdCovXG5cdFx0XHRcdG1hdGNoWzFdID0gbWF0Y2hbMV0udG9Mb3dlckNhc2UoKTtcblx0XG5cdFx0XHRcdGlmICggbWF0Y2hbMV0uc2xpY2UoIDAsIDMgKSA9PT0gXCJudGhcIiApIHtcblx0XHRcdFx0XHQvLyBudGgtKiByZXF1aXJlcyBhcmd1bWVudFxuXHRcdFx0XHRcdGlmICggIW1hdGNoWzNdICkge1xuXHRcdFx0XHRcdFx0U2l6emxlLmVycm9yKCBtYXRjaFswXSApO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gbnVtZXJpYyB4IGFuZCB5IHBhcmFtZXRlcnMgZm9yIEV4cHIuZmlsdGVyLkNISUxEXG5cdFx0XHRcdFx0Ly8gcmVtZW1iZXIgdGhhdCBmYWxzZS90cnVlIGNhc3QgcmVzcGVjdGl2ZWx5IHRvIDAvMVxuXHRcdFx0XHRcdG1hdGNoWzRdID0gKyggbWF0Y2hbNF0gPyBtYXRjaFs1XSArIChtYXRjaFs2XSB8fCAxKSA6IDIgKiAoIG1hdGNoWzNdID09PSBcImV2ZW5cIiB8fCBtYXRjaFszXSA9PT0gXCJvZGRcIiApICk7XG5cdFx0XHRcdFx0bWF0Y2hbNV0gPSArKCAoIG1hdGNoWzddICsgbWF0Y2hbOF0gKSB8fCBtYXRjaFszXSA9PT0gXCJvZGRcIiApO1xuXHRcblx0XHRcdFx0Ly8gb3RoZXIgdHlwZXMgcHJvaGliaXQgYXJndW1lbnRzXG5cdFx0XHRcdH0gZWxzZSBpZiAoIG1hdGNoWzNdICkge1xuXHRcdFx0XHRcdFNpenpsZS5lcnJvciggbWF0Y2hbMF0gKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0cmV0dXJuIG1hdGNoO1xuXHRcdFx0fSxcblx0XG5cdFx0XHRcIlBTRVVET1wiOiBmdW5jdGlvbiggbWF0Y2ggKSB7XG5cdFx0XHRcdHZhciBleGNlc3MsXG5cdFx0XHRcdFx0dW5xdW90ZWQgPSAhbWF0Y2hbNl0gJiYgbWF0Y2hbMl07XG5cdFxuXHRcdFx0XHRpZiAoIG1hdGNoRXhwcltcIkNISUxEXCJdLnRlc3QoIG1hdGNoWzBdICkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIEFjY2VwdCBxdW90ZWQgYXJndW1lbnRzIGFzLWlzXG5cdFx0XHRcdGlmICggbWF0Y2hbM10gKSB7XG5cdFx0XHRcdFx0bWF0Y2hbMl0gPSBtYXRjaFs0XSB8fCBtYXRjaFs1XSB8fCBcIlwiO1xuXHRcblx0XHRcdFx0Ly8gU3RyaXAgZXhjZXNzIGNoYXJhY3RlcnMgZnJvbSB1bnF1b3RlZCBhcmd1bWVudHNcblx0XHRcdFx0fSBlbHNlIGlmICggdW5xdW90ZWQgJiYgcnBzZXVkby50ZXN0KCB1bnF1b3RlZCApICYmXG5cdFx0XHRcdFx0Ly8gR2V0IGV4Y2VzcyBmcm9tIHRva2VuaXplIChyZWN1cnNpdmVseSlcblx0XHRcdFx0XHQoZXhjZXNzID0gdG9rZW5pemUoIHVucXVvdGVkLCB0cnVlICkpICYmXG5cdFx0XHRcdFx0Ly8gYWR2YW5jZSB0byB0aGUgbmV4dCBjbG9zaW5nIHBhcmVudGhlc2lzXG5cdFx0XHRcdFx0KGV4Y2VzcyA9IHVucXVvdGVkLmluZGV4T2YoIFwiKVwiLCB1bnF1b3RlZC5sZW5ndGggLSBleGNlc3MgKSAtIHVucXVvdGVkLmxlbmd0aCkgKSB7XG5cdFxuXHRcdFx0XHRcdC8vIGV4Y2VzcyBpcyBhIG5lZ2F0aXZlIGluZGV4XG5cdFx0XHRcdFx0bWF0Y2hbMF0gPSBtYXRjaFswXS5zbGljZSggMCwgZXhjZXNzICk7XG5cdFx0XHRcdFx0bWF0Y2hbMl0gPSB1bnF1b3RlZC5zbGljZSggMCwgZXhjZXNzICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFJldHVybiBvbmx5IGNhcHR1cmVzIG5lZWRlZCBieSB0aGUgcHNldWRvIGZpbHRlciBtZXRob2QgKHR5cGUgYW5kIGFyZ3VtZW50KVxuXHRcdFx0XHRyZXR1cm4gbWF0Y2guc2xpY2UoIDAsIDMgKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRmaWx0ZXI6IHtcblx0XG5cdFx0XHRcIlRBR1wiOiBmdW5jdGlvbiggbm9kZU5hbWVTZWxlY3RvciApIHtcblx0XHRcdFx0dmFyIG5vZGVOYW1lID0gbm9kZU5hbWVTZWxlY3Rvci5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdHJldHVybiBub2RlTmFtZVNlbGVjdG9yID09PSBcIipcIiA/XG5cdFx0XHRcdFx0ZnVuY3Rpb24oKSB7IHJldHVybiB0cnVlOyB9IDpcblx0XHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbm9kZU5hbWU7XG5cdFx0XHRcdFx0fTtcblx0XHRcdH0sXG5cdFxuXHRcdFx0XCJDTEFTU1wiOiBmdW5jdGlvbiggY2xhc3NOYW1lICkge1xuXHRcdFx0XHR2YXIgcGF0dGVybiA9IGNsYXNzQ2FjaGVbIGNsYXNzTmFtZSArIFwiIFwiIF07XG5cdFxuXHRcdFx0XHRyZXR1cm4gcGF0dGVybiB8fFxuXHRcdFx0XHRcdChwYXR0ZXJuID0gbmV3IFJlZ0V4cCggXCIoXnxcIiArIHdoaXRlc3BhY2UgKyBcIilcIiArIGNsYXNzTmFtZSArIFwiKFwiICsgd2hpdGVzcGFjZSArIFwifCQpXCIgKSkgJiZcblx0XHRcdFx0XHRjbGFzc0NhY2hlKCBjbGFzc05hbWUsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHBhdHRlcm4udGVzdCggdHlwZW9mIGVsZW0uY2xhc3NOYW1lID09PSBcInN0cmluZ1wiICYmIGVsZW0uY2xhc3NOYW1lIHx8IHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBlbGVtLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpIHx8IFwiXCIgKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFxuXHRcdFx0XCJBVFRSXCI6IGZ1bmN0aW9uKCBuYW1lLCBvcGVyYXRvciwgY2hlY2sgKSB7XG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHR2YXIgcmVzdWx0ID0gU2l6emxlLmF0dHIoIGVsZW0sIG5hbWUgKTtcblx0XG5cdFx0XHRcdFx0aWYgKCByZXN1bHQgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdHJldHVybiBvcGVyYXRvciA9PT0gXCIhPVwiO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoICFvcGVyYXRvciApIHtcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0cmVzdWx0ICs9IFwiXCI7XG5cdFxuXHRcdFx0XHRcdHJldHVybiBvcGVyYXRvciA9PT0gXCI9XCIgPyByZXN1bHQgPT09IGNoZWNrIDpcblx0XHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIiE9XCIgPyByZXN1bHQgIT09IGNoZWNrIDpcblx0XHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIl49XCIgPyBjaGVjayAmJiByZXN1bHQuaW5kZXhPZiggY2hlY2sgKSA9PT0gMCA6XG5cdFx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIqPVwiID8gY2hlY2sgJiYgcmVzdWx0LmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XG5cdFx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIkPVwiID8gY2hlY2sgJiYgcmVzdWx0LnNsaWNlKCAtY2hlY2subGVuZ3RoICkgPT09IGNoZWNrIDpcblx0XHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIn49XCIgPyAoIFwiIFwiICsgcmVzdWx0LnJlcGxhY2UoIHJ3aGl0ZXNwYWNlLCBcIiBcIiApICsgXCIgXCIgKS5pbmRleE9mKCBjaGVjayApID4gLTEgOlxuXHRcdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwifD1cIiA/IHJlc3VsdCA9PT0gY2hlY2sgfHwgcmVzdWx0LnNsaWNlKCAwLCBjaGVjay5sZW5ndGggKyAxICkgPT09IGNoZWNrICsgXCItXCIgOlxuXHRcdFx0XHRcdFx0ZmFsc2U7XG5cdFx0XHRcdH07XG5cdFx0XHR9LFxuXHRcblx0XHRcdFwiQ0hJTERcIjogZnVuY3Rpb24oIHR5cGUsIHdoYXQsIGFyZ3VtZW50LCBmaXJzdCwgbGFzdCApIHtcblx0XHRcdFx0dmFyIHNpbXBsZSA9IHR5cGUuc2xpY2UoIDAsIDMgKSAhPT0gXCJudGhcIixcblx0XHRcdFx0XHRmb3J3YXJkID0gdHlwZS5zbGljZSggLTQgKSAhPT0gXCJsYXN0XCIsXG5cdFx0XHRcdFx0b2ZUeXBlID0gd2hhdCA9PT0gXCJvZi10eXBlXCI7XG5cdFxuXHRcdFx0XHRyZXR1cm4gZmlyc3QgPT09IDEgJiYgbGFzdCA9PT0gMCA/XG5cdFxuXHRcdFx0XHRcdC8vIFNob3J0Y3V0IGZvciA6bnRoLSoobilcblx0XHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRcdHJldHVybiAhIWVsZW0ucGFyZW50Tm9kZTtcblx0XHRcdFx0XHR9IDpcblx0XG5cdFx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdFx0XHRcdHZhciBjYWNoZSwgdW5pcXVlQ2FjaGUsIG91dGVyQ2FjaGUsIG5vZGUsIG5vZGVJbmRleCwgc3RhcnQsXG5cdFx0XHRcdFx0XHRcdGRpciA9IHNpbXBsZSAhPT0gZm9yd2FyZCA/IFwibmV4dFNpYmxpbmdcIiA6IFwicHJldmlvdXNTaWJsaW5nXCIsXG5cdFx0XHRcdFx0XHRcdHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZSxcblx0XHRcdFx0XHRcdFx0bmFtZSA9IG9mVHlwZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksXG5cdFx0XHRcdFx0XHRcdHVzZUNhY2hlID0gIXhtbCAmJiAhb2ZUeXBlLFxuXHRcdFx0XHRcdFx0XHRkaWZmID0gZmFsc2U7XG5cdFxuXHRcdFx0XHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHQvLyA6KGZpcnN0fGxhc3R8b25seSktKGNoaWxkfG9mLXR5cGUpXG5cdFx0XHRcdFx0XHRcdGlmICggc2ltcGxlICkge1xuXHRcdFx0XHRcdFx0XHRcdHdoaWxlICggZGlyICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0bm9kZSA9IGVsZW07XG5cdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoIChub2RlID0gbm9kZVsgZGlyIF0pICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIG9mVHlwZSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lIDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVUeXBlID09PSAxICkge1xuXHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdC8vIFJldmVyc2UgZGlyZWN0aW9uIGZvciA6b25seS0qIChpZiB3ZSBoYXZlbid0IHlldCBkb25lIHNvKVxuXHRcdFx0XHRcdFx0XHRcdFx0c3RhcnQgPSBkaXIgPSB0eXBlID09PSBcIm9ubHlcIiAmJiAhc3RhcnQgJiYgXCJuZXh0U2libGluZ1wiO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdFx0c3RhcnQgPSBbIGZvcndhcmQgPyBwYXJlbnQuZmlyc3RDaGlsZCA6IHBhcmVudC5sYXN0Q2hpbGQgXTtcblx0XG5cdFx0XHRcdFx0XHRcdC8vIG5vbi14bWwgOm50aC1jaGlsZCguLi4pIHN0b3JlcyBjYWNoZSBkYXRhIG9uIGBwYXJlbnRgXG5cdFx0XHRcdFx0XHRcdGlmICggZm9yd2FyZCAmJiB1c2VDYWNoZSApIHtcblx0XG5cdFx0XHRcdFx0XHRcdFx0Ly8gU2VlayBgZWxlbWAgZnJvbSBhIHByZXZpb3VzbHktY2FjaGVkIGluZGV4XG5cdFxuXHRcdFx0XHRcdFx0XHRcdC8vIC4uLmluIGEgZ3ppcC1mcmllbmRseSB3YXlcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gcGFyZW50O1xuXHRcdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHwgKG5vZGVbIGV4cGFuZG8gXSA9IHt9KTtcblx0XG5cdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPDkgb25seVxuXHRcdFx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHQob3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdID0ge30pO1xuXHRcblx0XHRcdFx0XHRcdFx0XHRjYWNoZSA9IHVuaXF1ZUNhY2hlWyB0eXBlIF0gfHwgW107XG5cdFx0XHRcdFx0XHRcdFx0bm9kZUluZGV4ID0gY2FjaGVbIDAgXSA9PT0gZGlycnVucyAmJiBjYWNoZVsgMSBdO1xuXHRcdFx0XHRcdFx0XHRcdGRpZmYgPSBub2RlSW5kZXggJiYgY2FjaGVbIDIgXTtcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gbm9kZUluZGV4ICYmIHBhcmVudC5jaGlsZE5vZGVzWyBub2RlSW5kZXggXTtcblx0XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKCAobm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVsgZGlyIF0gfHxcblx0XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBGYWxsYmFjayB0byBzZWVraW5nIGBlbGVtYCBmcm9tIHRoZSBzdGFydFxuXHRcdFx0XHRcdFx0XHRcdFx0KGRpZmYgPSBub2RlSW5kZXggPSAwKSB8fCBzdGFydC5wb3AoKSkgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gV2hlbiBmb3VuZCwgY2FjaGUgaW5kZXhlcyBvbiBgcGFyZW50YCBhbmQgYnJlYWtcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggbm9kZS5ub2RlVHlwZSA9PT0gMSAmJiArK2RpZmYgJiYgbm9kZSA9PT0gZWxlbSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGVbIHR5cGUgXSA9IFsgZGlycnVucywgbm9kZUluZGV4LCBkaWZmIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gVXNlIHByZXZpb3VzbHktY2FjaGVkIGVsZW1lbnQgaW5kZXggaWYgYXZhaWxhYmxlXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCB1c2VDYWNoZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdC8vIC4uLmluIGEgZ3ppcC1mcmllbmRseSB3YXlcblx0XHRcdFx0XHRcdFx0XHRcdG5vZGUgPSBlbGVtO1xuXHRcdFx0XHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IG5vZGVbIGV4cGFuZG8gXSB8fCAobm9kZVsgZXhwYW5kbyBdID0ge30pO1xuXHRcblx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdFx0KG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSA9IHt9KTtcblx0XG5cdFx0XHRcdFx0XHRcdFx0XHRjYWNoZSA9IHVuaXF1ZUNhY2hlWyB0eXBlIF0gfHwgW107XG5cdFx0XHRcdFx0XHRcdFx0XHRub2RlSW5kZXggPSBjYWNoZVsgMCBdID09PSBkaXJydW5zICYmIGNhY2hlWyAxIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRkaWZmID0gbm9kZUluZGV4O1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRcdFx0Ly8geG1sIDpudGgtY2hpbGQoLi4uKVxuXHRcdFx0XHRcdFx0XHRcdC8vIG9yIDpudGgtbGFzdC1jaGlsZCguLi4pIG9yIDpudGgoLWxhc3QpPy1vZi10eXBlKC4uLilcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGRpZmYgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gVXNlIHRoZSBzYW1lIGxvb3AgYXMgYWJvdmUgdG8gc2VlayBgZWxlbWAgZnJvbSB0aGUgc3RhcnRcblx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlICggKG5vZGUgPSArK25vZGVJbmRleCAmJiBub2RlICYmIG5vZGVbIGRpciBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHRcdChkaWZmID0gbm9kZUluZGV4ID0gMCkgfHwgc3RhcnQucG9wKCkpICkge1xuXHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCAoIG9mVHlwZSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lIDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVUeXBlID09PSAxICkgJiZcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQrK2RpZmYgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIENhY2hlIHRoZSBpbmRleCBvZiBlYWNoIGVuY291bnRlcmVkIGVsZW1lbnRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHVzZUNhY2hlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IG5vZGVbIGV4cGFuZG8gXSB8fCAobm9kZVsgZXhwYW5kbyBdID0ge30pO1xuXHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSA9IHt9KTtcblx0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZVsgdHlwZSBdID0gWyBkaXJydW5zLCBkaWZmIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIG5vZGUgPT09IGVsZW0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRcdC8vIEluY29ycG9yYXRlIHRoZSBvZmZzZXQsIHRoZW4gY2hlY2sgYWdhaW5zdCBjeWNsZSBzaXplXG5cdFx0XHRcdFx0XHRcdGRpZmYgLT0gbGFzdDtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGRpZmYgPT09IGZpcnN0IHx8ICggZGlmZiAlIGZpcnN0ID09PSAwICYmIGRpZmYgLyBmaXJzdCA+PSAwICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdH0sXG5cdFxuXHRcdFx0XCJQU0VVRE9cIjogZnVuY3Rpb24oIHBzZXVkbywgYXJndW1lbnQgKSB7XG5cdFx0XHRcdC8vIHBzZXVkby1jbGFzcyBuYW1lcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZVxuXHRcdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI3BzZXVkby1jbGFzc2VzXG5cdFx0XHRcdC8vIFByaW9yaXRpemUgYnkgY2FzZSBzZW5zaXRpdml0eSBpbiBjYXNlIGN1c3RvbSBwc2V1ZG9zIGFyZSBhZGRlZCB3aXRoIHVwcGVyY2FzZSBsZXR0ZXJzXG5cdFx0XHRcdC8vIFJlbWVtYmVyIHRoYXQgc2V0RmlsdGVycyBpbmhlcml0cyBmcm9tIHBzZXVkb3Ncblx0XHRcdFx0dmFyIGFyZ3MsXG5cdFx0XHRcdFx0Zm4gPSBFeHByLnBzZXVkb3NbIHBzZXVkbyBdIHx8IEV4cHIuc2V0RmlsdGVyc1sgcHNldWRvLnRvTG93ZXJDYXNlKCkgXSB8fFxuXHRcdFx0XHRcdFx0U2l6emxlLmVycm9yKCBcInVuc3VwcG9ydGVkIHBzZXVkbzogXCIgKyBwc2V1ZG8gKTtcblx0XG5cdFx0XHRcdC8vIFRoZSB1c2VyIG1heSB1c2UgY3JlYXRlUHNldWRvIHRvIGluZGljYXRlIHRoYXRcblx0XHRcdFx0Ly8gYXJndW1lbnRzIGFyZSBuZWVkZWQgdG8gY3JlYXRlIHRoZSBmaWx0ZXIgZnVuY3Rpb25cblx0XHRcdFx0Ly8ganVzdCBhcyBTaXp6bGUgZG9lc1xuXHRcdFx0XHRpZiAoIGZuWyBleHBhbmRvIF0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZuKCBhcmd1bWVudCApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBCdXQgbWFpbnRhaW4gc3VwcG9ydCBmb3Igb2xkIHNpZ25hdHVyZXNcblx0XHRcdFx0aWYgKCBmbi5sZW5ndGggPiAxICkge1xuXHRcdFx0XHRcdGFyZ3MgPSBbIHBzZXVkbywgcHNldWRvLCBcIlwiLCBhcmd1bWVudCBdO1xuXHRcdFx0XHRcdHJldHVybiBFeHByLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoIHBzZXVkby50b0xvd2VyQ2FzZSgpICkgP1xuXHRcdFx0XHRcdFx0bWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzICkge1xuXHRcdFx0XHRcdFx0XHR2YXIgaWR4LFxuXHRcdFx0XHRcdFx0XHRcdG1hdGNoZWQgPSBmbiggc2VlZCwgYXJndW1lbnQgKSxcblx0XHRcdFx0XHRcdFx0XHRpID0gbWF0Y2hlZC5sZW5ndGg7XG5cdFx0XHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0XHRcdGlkeCA9IGluZGV4T2YoIHNlZWQsIG1hdGNoZWRbaV0gKTtcblx0XHRcdFx0XHRcdFx0XHRzZWVkWyBpZHggXSA9ICEoIG1hdGNoZXNbIGlkeCBdID0gbWF0Y2hlZFtpXSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KSA6XG5cdFx0XHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZuKCBlbGVtLCAwLCBhcmdzICk7XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRyZXR1cm4gZm47XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0cHNldWRvczoge1xuXHRcdFx0Ly8gUG90ZW50aWFsbHkgY29tcGxleCBwc2V1ZG9zXG5cdFx0XHRcIm5vdFwiOiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdFx0XHQvLyBUcmltIHRoZSBzZWxlY3RvciBwYXNzZWQgdG8gY29tcGlsZVxuXHRcdFx0XHQvLyB0byBhdm9pZCB0cmVhdGluZyBsZWFkaW5nIGFuZCB0cmFpbGluZ1xuXHRcdFx0XHQvLyBzcGFjZXMgYXMgY29tYmluYXRvcnNcblx0XHRcdFx0dmFyIGlucHV0ID0gW10sXG5cdFx0XHRcdFx0cmVzdWx0cyA9IFtdLFxuXHRcdFx0XHRcdG1hdGNoZXIgPSBjb21waWxlKCBzZWxlY3Rvci5yZXBsYWNlKCBydHJpbSwgXCIkMVwiICkgKTtcblx0XG5cdFx0XHRcdHJldHVybiBtYXRjaGVyWyBleHBhbmRvIF0gP1xuXHRcdFx0XHRcdG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcywgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdFx0dmFyIGVsZW0sXG5cdFx0XHRcdFx0XHRcdHVubWF0Y2hlZCA9IG1hdGNoZXIoIHNlZWQsIG51bGwsIHhtbCwgW10gKSxcblx0XHRcdFx0XHRcdFx0aSA9IHNlZWQubGVuZ3RoO1xuXHRcblx0XHRcdFx0XHRcdC8vIE1hdGNoIGVsZW1lbnRzIHVubWF0Y2hlZCBieSBgbWF0Y2hlcmBcblx0XHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoIChlbGVtID0gdW5tYXRjaGVkW2ldKSApIHtcblx0XHRcdFx0XHRcdFx0XHRzZWVkW2ldID0gIShtYXRjaGVzW2ldID0gZWxlbSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KSA6XG5cdFx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdFx0XHRcdGlucHV0WzBdID0gZWxlbTtcblx0XHRcdFx0XHRcdG1hdGNoZXIoIGlucHV0LCBudWxsLCB4bWwsIHJlc3VsdHMgKTtcblx0XHRcdFx0XHRcdC8vIERvbid0IGtlZXAgdGhlIGVsZW1lbnQgKGlzc3VlICMyOTkpXG5cdFx0XHRcdFx0XHRpbnB1dFswXSA9IG51bGw7XG5cdFx0XHRcdFx0XHRyZXR1cm4gIXJlc3VsdHMucG9wKCk7XG5cdFx0XHRcdFx0fTtcblx0XHRcdH0pLFxuXHRcblx0XHRcdFwiaGFzXCI6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRyZXR1cm4gU2l6emxlKCBzZWxlY3RvciwgZWxlbSApLmxlbmd0aCA+IDA7XG5cdFx0XHRcdH07XG5cdFx0XHR9KSxcblx0XG5cdFx0XHRcImNvbnRhaW5zXCI6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiggdGV4dCApIHtcblx0XHRcdFx0dGV4dCA9IHRleHQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHJldHVybiAoIGVsZW0udGV4dENvbnRlbnQgfHwgZWxlbS5pbm5lclRleHQgfHwgZ2V0VGV4dCggZWxlbSApICkuaW5kZXhPZiggdGV4dCApID4gLTE7XG5cdFx0XHRcdH07XG5cdFx0XHR9KSxcblx0XG5cdFx0XHQvLyBcIldoZXRoZXIgYW4gZWxlbWVudCBpcyByZXByZXNlbnRlZCBieSBhIDpsYW5nKCkgc2VsZWN0b3Jcblx0XHRcdC8vIGlzIGJhc2VkIHNvbGVseSBvbiB0aGUgZWxlbWVudCdzIGxhbmd1YWdlIHZhbHVlXG5cdFx0XHQvLyBiZWluZyBlcXVhbCB0byB0aGUgaWRlbnRpZmllciBDLFxuXHRcdFx0Ly8gb3IgYmVnaW5uaW5nIHdpdGggdGhlIGlkZW50aWZpZXIgQyBpbW1lZGlhdGVseSBmb2xsb3dlZCBieSBcIi1cIi5cblx0XHRcdC8vIFRoZSBtYXRjaGluZyBvZiBDIGFnYWluc3QgdGhlIGVsZW1lbnQncyBsYW5ndWFnZSB2YWx1ZSBpcyBwZXJmb3JtZWQgY2FzZS1pbnNlbnNpdGl2ZWx5LlxuXHRcdFx0Ly8gVGhlIGlkZW50aWZpZXIgQyBkb2VzIG5vdCBoYXZlIHRvIGJlIGEgdmFsaWQgbGFuZ3VhZ2UgbmFtZS5cIlxuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNsYW5nLXBzZXVkb1xuXHRcdFx0XCJsYW5nXCI6IG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIGxhbmcgKSB7XG5cdFx0XHRcdC8vIGxhbmcgdmFsdWUgbXVzdCBiZSBhIHZhbGlkIGlkZW50aWZpZXJcblx0XHRcdFx0aWYgKCAhcmlkZW50aWZpZXIudGVzdChsYW5nIHx8IFwiXCIpICkge1xuXHRcdFx0XHRcdFNpenpsZS5lcnJvciggXCJ1bnN1cHBvcnRlZCBsYW5nOiBcIiArIGxhbmcgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRsYW5nID0gbGFuZy5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHR2YXIgZWxlbUxhbmc7XG5cdFx0XHRcdFx0ZG8ge1xuXHRcdFx0XHRcdFx0aWYgKCAoZWxlbUxhbmcgPSBkb2N1bWVudElzSFRNTCA/XG5cdFx0XHRcdFx0XHRcdGVsZW0ubGFuZyA6XG5cdFx0XHRcdFx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlKFwieG1sOmxhbmdcIikgfHwgZWxlbS5nZXRBdHRyaWJ1dGUoXCJsYW5nXCIpKSApIHtcblx0XG5cdFx0XHRcdFx0XHRcdGVsZW1MYW5nID0gZWxlbUxhbmcudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGVsZW1MYW5nID09PSBsYW5nIHx8IGVsZW1MYW5nLmluZGV4T2YoIGxhbmcgKyBcIi1cIiApID09PSAwO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gd2hpbGUgKCAoZWxlbSA9IGVsZW0ucGFyZW50Tm9kZSkgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fTtcblx0XHRcdH0pLFxuXHRcblx0XHRcdC8vIE1pc2NlbGxhbmVvdXNcblx0XHRcdFwidGFyZ2V0XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbiAmJiB3aW5kb3cubG9jYXRpb24uaGFzaDtcblx0XHRcdFx0cmV0dXJuIGhhc2ggJiYgaGFzaC5zbGljZSggMSApID09PSBlbGVtLmlkO1xuXHRcdFx0fSxcblx0XG5cdFx0XHRcInJvb3RcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtID09PSBkb2NFbGVtO1xuXHRcdFx0fSxcblx0XG5cdFx0XHRcImZvY3VzXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbSA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiAoIWRvY3VtZW50Lmhhc0ZvY3VzIHx8IGRvY3VtZW50Lmhhc0ZvY3VzKCkpICYmICEhKGVsZW0udHlwZSB8fCBlbGVtLmhyZWYgfHwgfmVsZW0udGFiSW5kZXgpO1xuXHRcdFx0fSxcblx0XG5cdFx0XHQvLyBCb29sZWFuIHByb3BlcnRpZXNcblx0XHRcdFwiZW5hYmxlZFwiOiBjcmVhdGVEaXNhYmxlZFBzZXVkbyggZmFsc2UgKSxcblx0XHRcdFwiZGlzYWJsZWRcIjogY3JlYXRlRGlzYWJsZWRQc2V1ZG8oIHRydWUgKSxcblx0XG5cdFx0XHRcImNoZWNrZWRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdC8vIEluIENTUzMsIDpjaGVja2VkIHNob3VsZCByZXR1cm4gYm90aCBjaGVja2VkIGFuZCBzZWxlY3RlZCBlbGVtZW50c1xuXHRcdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDExL1JFQy1jc3MzLXNlbGVjdG9ycy0yMDExMDkyOS8jY2hlY2tlZFxuXHRcdFx0XHR2YXIgbm9kZU5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdHJldHVybiAobm9kZU5hbWUgPT09IFwiaW5wdXRcIiAmJiAhIWVsZW0uY2hlY2tlZCkgfHwgKG5vZGVOYW1lID09PSBcIm9wdGlvblwiICYmICEhZWxlbS5zZWxlY3RlZCk7XG5cdFx0XHR9LFxuXHRcblx0XHRcdFwic2VsZWN0ZWRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdC8vIEFjY2Vzc2luZyB0aGlzIHByb3BlcnR5IG1ha2VzIHNlbGVjdGVkLWJ5LWRlZmF1bHRcblx0XHRcdFx0Ly8gb3B0aW9ucyBpbiBTYWZhcmkgd29yayBwcm9wZXJseVxuXHRcdFx0XHRpZiAoIGVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0XHRlbGVtLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0cmV0dXJuIGVsZW0uc2VsZWN0ZWQgPT09IHRydWU7XG5cdFx0XHR9LFxuXHRcblx0XHRcdC8vIENvbnRlbnRzXG5cdFx0XHRcImVtcHR5XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2VtcHR5LXBzZXVkb1xuXHRcdFx0XHQvLyA6ZW1wdHkgaXMgbmVnYXRlZCBieSBlbGVtZW50ICgxKSBvciBjb250ZW50IG5vZGVzICh0ZXh0OiAzOyBjZGF0YTogNDsgZW50aXR5IHJlZjogNSksXG5cdFx0XHRcdC8vICAgYnV0IG5vdCBieSBvdGhlcnMgKGNvbW1lbnQ6IDg7IHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb246IDc7IGV0Yy4pXG5cdFx0XHRcdC8vIG5vZGVUeXBlIDwgNiB3b3JrcyBiZWNhdXNlIGF0dHJpYnV0ZXMgKDIpIGRvIG5vdCBhcHBlYXIgYXMgY2hpbGRyZW5cblx0XHRcdFx0Zm9yICggZWxlbSA9IGVsZW0uZmlyc3RDaGlsZDsgZWxlbTsgZWxlbSA9IGVsZW0ubmV4dFNpYmxpbmcgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlIDwgNiApIHtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9LFxuXHRcblx0XHRcdFwicGFyZW50XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gIUV4cHIucHNldWRvc1tcImVtcHR5XCJdKCBlbGVtICk7XG5cdFx0XHR9LFxuXHRcblx0XHRcdC8vIEVsZW1lbnQvaW5wdXQgdHlwZXNcblx0XHRcdFwiaGVhZGVyXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gcmhlYWRlci50ZXN0KCBlbGVtLm5vZGVOYW1lICk7XG5cdFx0XHR9LFxuXHRcblx0XHRcdFwiaW5wdXRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiByaW5wdXRzLnRlc3QoIGVsZW0ubm9kZU5hbWUgKTtcblx0XHRcdH0sXG5cdFxuXHRcdFx0XCJidXR0b25cIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHRyZXR1cm4gbmFtZSA9PT0gXCJpbnB1dFwiICYmIGVsZW0udHlwZSA9PT0gXCJidXR0b25cIiB8fCBuYW1lID09PSBcImJ1dHRvblwiO1xuXHRcdFx0fSxcblx0XG5cdFx0XHRcInRleHRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciBhdHRyO1xuXHRcdFx0XHRyZXR1cm4gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImlucHV0XCIgJiZcblx0XHRcdFx0XHRlbGVtLnR5cGUgPT09IFwidGV4dFwiICYmXG5cdFxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFPDhcblx0XHRcdFx0XHQvLyBOZXcgSFRNTDUgYXR0cmlidXRlIHZhbHVlcyAoZS5nLiwgXCJzZWFyY2hcIikgYXBwZWFyIHdpdGggZWxlbS50eXBlID09PSBcInRleHRcIlxuXHRcdFx0XHRcdCggKGF0dHIgPSBlbGVtLmdldEF0dHJpYnV0ZShcInR5cGVcIikpID09IG51bGwgfHwgYXR0ci50b0xvd2VyQ2FzZSgpID09PSBcInRleHRcIiApO1xuXHRcdFx0fSxcblx0XG5cdFx0XHQvLyBQb3NpdGlvbi1pbi1jb2xsZWN0aW9uXG5cdFx0XHRcImZpcnN0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBbIDAgXTtcblx0XHRcdH0pLFxuXHRcblx0XHRcdFwibGFzdFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcblx0XHRcdFx0cmV0dXJuIFsgbGVuZ3RoIC0gMSBdO1xuXHRcdFx0fSksXG5cdFxuXHRcdFx0XCJlcVwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7XG5cdFx0XHRcdHJldHVybiBbIGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQgXTtcblx0XHRcdH0pLFxuXHRcblx0XHRcdFwiZXZlblwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcblx0XHRcdFx0dmFyIGkgPSAwO1xuXHRcdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkgKz0gMiApIHtcblx0XHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0XHR9KSxcblx0XG5cdFx0XHRcIm9kZFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcblx0XHRcdFx0dmFyIGkgPSAxO1xuXHRcdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkgKz0gMiApIHtcblx0XHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0XHR9KSxcblx0XG5cdFx0XHRcImx0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcblx0XHRcdFx0dmFyIGkgPSBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50O1xuXHRcdFx0XHRmb3IgKCA7IC0taSA+PSAwOyApIHtcblx0XHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0XHR9KSxcblx0XG5cdFx0XHRcImd0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcblx0XHRcdFx0dmFyIGkgPSBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50O1xuXHRcdFx0XHRmb3IgKCA7ICsraSA8IGxlbmd0aDsgKSB7XG5cdFx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdFx0fSlcblx0XHR9XG5cdH07XG5cdFxuXHRFeHByLnBzZXVkb3NbXCJudGhcIl0gPSBFeHByLnBzZXVkb3NbXCJlcVwiXTtcblx0XG5cdC8vIEFkZCBidXR0b24vaW5wdXQgdHlwZSBwc2V1ZG9zXG5cdGZvciAoIGkgaW4geyByYWRpbzogdHJ1ZSwgY2hlY2tib3g6IHRydWUsIGZpbGU6IHRydWUsIHBhc3N3b3JkOiB0cnVlLCBpbWFnZTogdHJ1ZSB9ICkge1xuXHRcdEV4cHIucHNldWRvc1sgaSBdID0gY3JlYXRlSW5wdXRQc2V1ZG8oIGkgKTtcblx0fVxuXHRmb3IgKCBpIGluIHsgc3VibWl0OiB0cnVlLCByZXNldDogdHJ1ZSB9ICkge1xuXHRcdEV4cHIucHNldWRvc1sgaSBdID0gY3JlYXRlQnV0dG9uUHNldWRvKCBpICk7XG5cdH1cblx0XG5cdC8vIEVhc3kgQVBJIGZvciBjcmVhdGluZyBuZXcgc2V0RmlsdGVyc1xuXHRmdW5jdGlvbiBzZXRGaWx0ZXJzKCkge31cblx0c2V0RmlsdGVycy5wcm90b3R5cGUgPSBFeHByLmZpbHRlcnMgPSBFeHByLnBzZXVkb3M7XG5cdEV4cHIuc2V0RmlsdGVycyA9IG5ldyBzZXRGaWx0ZXJzKCk7XG5cdFxuXHR0b2tlbml6ZSA9IFNpenpsZS50b2tlbml6ZSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgcGFyc2VPbmx5ICkge1xuXHRcdHZhciBtYXRjaGVkLCBtYXRjaCwgdG9rZW5zLCB0eXBlLFxuXHRcdFx0c29GYXIsIGdyb3VwcywgcHJlRmlsdGVycyxcblx0XHRcdGNhY2hlZCA9IHRva2VuQ2FjaGVbIHNlbGVjdG9yICsgXCIgXCIgXTtcblx0XG5cdFx0aWYgKCBjYWNoZWQgKSB7XG5cdFx0XHRyZXR1cm4gcGFyc2VPbmx5ID8gMCA6IGNhY2hlZC5zbGljZSggMCApO1xuXHRcdH1cblx0XG5cdFx0c29GYXIgPSBzZWxlY3Rvcjtcblx0XHRncm91cHMgPSBbXTtcblx0XHRwcmVGaWx0ZXJzID0gRXhwci5wcmVGaWx0ZXI7XG5cdFxuXHRcdHdoaWxlICggc29GYXIgKSB7XG5cdFxuXHRcdFx0Ly8gQ29tbWEgYW5kIGZpcnN0IHJ1blxuXHRcdFx0aWYgKCAhbWF0Y2hlZCB8fCAobWF0Y2ggPSByY29tbWEuZXhlYyggc29GYXIgKSkgKSB7XG5cdFx0XHRcdGlmICggbWF0Y2ggKSB7XG5cdFx0XHRcdFx0Ly8gRG9uJ3QgY29uc3VtZSB0cmFpbGluZyBjb21tYXMgYXMgdmFsaWRcblx0XHRcdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaFswXS5sZW5ndGggKSB8fCBzb0Zhcjtcblx0XHRcdFx0fVxuXHRcdFx0XHRncm91cHMucHVzaCggKHRva2VucyA9IFtdKSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdG1hdGNoZWQgPSBmYWxzZTtcblx0XG5cdFx0XHQvLyBDb21iaW5hdG9yc1xuXHRcdFx0aWYgKCAobWF0Y2ggPSByY29tYmluYXRvcnMuZXhlYyggc29GYXIgKSkgKSB7XG5cdFx0XHRcdG1hdGNoZWQgPSBtYXRjaC5zaGlmdCgpO1xuXHRcdFx0XHR0b2tlbnMucHVzaCh7XG5cdFx0XHRcdFx0dmFsdWU6IG1hdGNoZWQsXG5cdFx0XHRcdFx0Ly8gQ2FzdCBkZXNjZW5kYW50IGNvbWJpbmF0b3JzIHRvIHNwYWNlXG5cdFx0XHRcdFx0dHlwZTogbWF0Y2hbMF0ucmVwbGFjZSggcnRyaW0sIFwiIFwiIClcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoZWQubGVuZ3RoICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gRmlsdGVyc1xuXHRcdFx0Zm9yICggdHlwZSBpbiBFeHByLmZpbHRlciApIHtcblx0XHRcdFx0aWYgKCAobWF0Y2ggPSBtYXRjaEV4cHJbIHR5cGUgXS5leGVjKCBzb0ZhciApKSAmJiAoIXByZUZpbHRlcnNbIHR5cGUgXSB8fFxuXHRcdFx0XHRcdChtYXRjaCA9IHByZUZpbHRlcnNbIHR5cGUgXSggbWF0Y2ggKSkpICkge1xuXHRcdFx0XHRcdG1hdGNoZWQgPSBtYXRjaC5zaGlmdCgpO1xuXHRcdFx0XHRcdHRva2Vucy5wdXNoKHtcblx0XHRcdFx0XHRcdHZhbHVlOiBtYXRjaGVkLFxuXHRcdFx0XHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdFx0XHRcdG1hdGNoZXM6IG1hdGNoXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0c29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hlZC5sZW5ndGggKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggIW1hdGNoZWQgKSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0Ly8gUmV0dXJuIHRoZSBsZW5ndGggb2YgdGhlIGludmFsaWQgZXhjZXNzXG5cdFx0Ly8gaWYgd2UncmUganVzdCBwYXJzaW5nXG5cdFx0Ly8gT3RoZXJ3aXNlLCB0aHJvdyBhbiBlcnJvciBvciByZXR1cm4gdG9rZW5zXG5cdFx0cmV0dXJuIHBhcnNlT25seSA/XG5cdFx0XHRzb0Zhci5sZW5ndGggOlxuXHRcdFx0c29GYXIgP1xuXHRcdFx0XHRTaXp6bGUuZXJyb3IoIHNlbGVjdG9yICkgOlxuXHRcdFx0XHQvLyBDYWNoZSB0aGUgdG9rZW5zXG5cdFx0XHRcdHRva2VuQ2FjaGUoIHNlbGVjdG9yLCBncm91cHMgKS5zbGljZSggMCApO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gdG9TZWxlY3RvciggdG9rZW5zICkge1xuXHRcdHZhciBpID0gMCxcblx0XHRcdGxlbiA9IHRva2Vucy5sZW5ndGgsXG5cdFx0XHRzZWxlY3RvciA9IFwiXCI7XG5cdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRzZWxlY3RvciArPSB0b2tlbnNbaV0udmFsdWU7XG5cdFx0fVxuXHRcdHJldHVybiBzZWxlY3Rvcjtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYWRkQ29tYmluYXRvciggbWF0Y2hlciwgY29tYmluYXRvciwgYmFzZSApIHtcblx0XHR2YXIgZGlyID0gY29tYmluYXRvci5kaXIsXG5cdFx0XHRza2lwID0gY29tYmluYXRvci5uZXh0LFxuXHRcdFx0a2V5ID0gc2tpcCB8fCBkaXIsXG5cdFx0XHRjaGVja05vbkVsZW1lbnRzID0gYmFzZSAmJiBrZXkgPT09IFwicGFyZW50Tm9kZVwiLFxuXHRcdFx0ZG9uZU5hbWUgPSBkb25lKys7XG5cdFxuXHRcdHJldHVybiBjb21iaW5hdG9yLmZpcnN0ID9cblx0XHRcdC8vIENoZWNrIGFnYWluc3QgY2xvc2VzdCBhbmNlc3Rvci9wcmVjZWRpbmcgZWxlbWVudFxuXHRcdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IGVsZW1bIGRpciBdKSApIHtcblx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHtcblx0XHRcdFx0XHRcdHJldHVybiBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gOlxuXHRcblx0XHRcdC8vIENoZWNrIGFnYWluc3QgYWxsIGFuY2VzdG9yL3ByZWNlZGluZyBlbGVtZW50c1xuXHRcdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdFx0dmFyIG9sZENhY2hlLCB1bmlxdWVDYWNoZSwgb3V0ZXJDYWNoZSxcblx0XHRcdFx0XHRuZXdDYWNoZSA9IFsgZGlycnVucywgZG9uZU5hbWUgXTtcblx0XG5cdFx0XHRcdC8vIFdlIGNhbid0IHNldCBhcmJpdHJhcnkgZGF0YSBvbiBYTUwgbm9kZXMsIHNvIHRoZXkgZG9uJ3QgYmVuZWZpdCBmcm9tIGNvbWJpbmF0b3IgY2FjaGluZ1xuXHRcdFx0XHRpZiAoIHhtbCApIHtcblx0XHRcdFx0XHR3aGlsZSAoIChlbGVtID0gZWxlbVsgZGlyIF0pICkge1xuXHRcdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IGVsZW1bIGRpciBdKSApIHtcblx0XHRcdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzICkge1xuXHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gZWxlbVsgZXhwYW5kbyBdIHx8IChlbGVtWyBleHBhbmRvIF0gPSB7fSk7XG5cdFxuXHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIGVsZW0udW5pcXVlSUQgXSB8fCAob3V0ZXJDYWNoZVsgZWxlbS51bmlxdWVJRCBdID0ge30pO1xuXHRcblx0XHRcdFx0XHRcdFx0aWYgKCBza2lwICYmIHNraXAgPT09IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSApIHtcblx0XHRcdFx0XHRcdFx0XHRlbGVtID0gZWxlbVsgZGlyIF0gfHwgZWxlbTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmICggKG9sZENhY2hlID0gdW5pcXVlQ2FjaGVbIGtleSBdKSAmJlxuXHRcdFx0XHRcdFx0XHRcdG9sZENhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgb2xkQ2FjaGVbIDEgXSA9PT0gZG9uZU5hbWUgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdC8vIEFzc2lnbiB0byBuZXdDYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIChuZXdDYWNoZVsgMiBdID0gb2xkQ2FjaGVbIDIgXSk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gUmV1c2UgbmV3Y2FjaGUgc28gcmVzdWx0cyBiYWNrLXByb3BhZ2F0ZSB0byBwcmV2aW91cyBlbGVtZW50c1xuXHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyBrZXkgXSA9IG5ld0NhY2hlO1xuXHRcblx0XHRcdFx0XHRcdFx0XHQvLyBBIG1hdGNoIG1lYW5zIHdlJ3JlIGRvbmU7IGEgZmFpbCBtZWFucyB3ZSBoYXZlIHRvIGtlZXAgY2hlY2tpbmdcblx0XHRcdFx0XHRcdFx0XHRpZiAoIChuZXdDYWNoZVsgMiBdID0gbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICkpICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSB7XG5cdFx0cmV0dXJuIG1hdGNoZXJzLmxlbmd0aCA+IDEgP1xuXHRcdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdFx0dmFyIGkgPSBtYXRjaGVycy5sZW5ndGg7XG5cdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdGlmICggIW1hdGNoZXJzW2ldKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9IDpcblx0XHRcdG1hdGNoZXJzWzBdO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtdWx0aXBsZUNvbnRleHRzKCBzZWxlY3RvciwgY29udGV4dHMsIHJlc3VsdHMgKSB7XG5cdFx0dmFyIGkgPSAwLFxuXHRcdFx0bGVuID0gY29udGV4dHMubGVuZ3RoO1xuXHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0U2l6emxlKCBzZWxlY3RvciwgY29udGV4dHNbaV0sIHJlc3VsdHMgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdHM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNvbmRlbnNlKCB1bm1hdGNoZWQsIG1hcCwgZmlsdGVyLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0dmFyIGVsZW0sXG5cdFx0XHRuZXdVbm1hdGNoZWQgPSBbXSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0bGVuID0gdW5tYXRjaGVkLmxlbmd0aCxcblx0XHRcdG1hcHBlZCA9IG1hcCAhPSBudWxsO1xuXHRcblx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdGlmICggKGVsZW0gPSB1bm1hdGNoZWRbaV0pICkge1xuXHRcdFx0XHRpZiAoICFmaWx0ZXIgfHwgZmlsdGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0XHRuZXdVbm1hdGNoZWQucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdGlmICggbWFwcGVkICkge1xuXHRcdFx0XHRcdFx0bWFwLnB1c2goIGkgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdHJldHVybiBuZXdVbm1hdGNoZWQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNldE1hdGNoZXIoIHByZUZpbHRlciwgc2VsZWN0b3IsIG1hdGNoZXIsIHBvc3RGaWx0ZXIsIHBvc3RGaW5kZXIsIHBvc3RTZWxlY3RvciApIHtcblx0XHRpZiAoIHBvc3RGaWx0ZXIgJiYgIXBvc3RGaWx0ZXJbIGV4cGFuZG8gXSApIHtcblx0XHRcdHBvc3RGaWx0ZXIgPSBzZXRNYXRjaGVyKCBwb3N0RmlsdGVyICk7XG5cdFx0fVxuXHRcdGlmICggcG9zdEZpbmRlciAmJiAhcG9zdEZpbmRlclsgZXhwYW5kbyBdICkge1xuXHRcdFx0cG9zdEZpbmRlciA9IHNldE1hdGNoZXIoIHBvc3RGaW5kZXIsIHBvc3RTZWxlY3RvciApO1xuXHRcdH1cblx0XHRyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCByZXN1bHRzLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHR2YXIgdGVtcCwgaSwgZWxlbSxcblx0XHRcdFx0cHJlTWFwID0gW10sXG5cdFx0XHRcdHBvc3RNYXAgPSBbXSxcblx0XHRcdFx0cHJlZXhpc3RpbmcgPSByZXN1bHRzLmxlbmd0aCxcblx0XG5cdFx0XHRcdC8vIEdldCBpbml0aWFsIGVsZW1lbnRzIGZyb20gc2VlZCBvciBjb250ZXh0XG5cdFx0XHRcdGVsZW1zID0gc2VlZCB8fCBtdWx0aXBsZUNvbnRleHRzKCBzZWxlY3RvciB8fCBcIipcIiwgY29udGV4dC5ub2RlVHlwZSA/IFsgY29udGV4dCBdIDogY29udGV4dCwgW10gKSxcblx0XG5cdFx0XHRcdC8vIFByZWZpbHRlciB0byBnZXQgbWF0Y2hlciBpbnB1dCwgcHJlc2VydmluZyBhIG1hcCBmb3Igc2VlZC1yZXN1bHRzIHN5bmNocm9uaXphdGlvblxuXHRcdFx0XHRtYXRjaGVySW4gPSBwcmVGaWx0ZXIgJiYgKCBzZWVkIHx8ICFzZWxlY3RvciApID9cblx0XHRcdFx0XHRjb25kZW5zZSggZWxlbXMsIHByZU1hcCwgcHJlRmlsdGVyLCBjb250ZXh0LCB4bWwgKSA6XG5cdFx0XHRcdFx0ZWxlbXMsXG5cdFxuXHRcdFx0XHRtYXRjaGVyT3V0ID0gbWF0Y2hlciA/XG5cdFx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBhIHBvc3RGaW5kZXIsIG9yIGZpbHRlcmVkIHNlZWQsIG9yIG5vbi1zZWVkIHBvc3RGaWx0ZXIgb3IgcHJlZXhpc3RpbmcgcmVzdWx0cyxcblx0XHRcdFx0XHRwb3N0RmluZGVyIHx8ICggc2VlZCA/IHByZUZpbHRlciA6IHByZWV4aXN0aW5nIHx8IHBvc3RGaWx0ZXIgKSA/XG5cdFxuXHRcdFx0XHRcdFx0Ly8gLi4uaW50ZXJtZWRpYXRlIHByb2Nlc3NpbmcgaXMgbmVjZXNzYXJ5XG5cdFx0XHRcdFx0XHRbXSA6XG5cdFxuXHRcdFx0XHRcdFx0Ly8gLi4ub3RoZXJ3aXNlIHVzZSByZXN1bHRzIGRpcmVjdGx5XG5cdFx0XHRcdFx0XHRyZXN1bHRzIDpcblx0XHRcdFx0XHRtYXRjaGVySW47XG5cdFxuXHRcdFx0Ly8gRmluZCBwcmltYXJ5IG1hdGNoZXNcblx0XHRcdGlmICggbWF0Y2hlciApIHtcblx0XHRcdFx0bWF0Y2hlciggbWF0Y2hlckluLCBtYXRjaGVyT3V0LCBjb250ZXh0LCB4bWwgKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBBcHBseSBwb3N0RmlsdGVyXG5cdFx0XHRpZiAoIHBvc3RGaWx0ZXIgKSB7XG5cdFx0XHRcdHRlbXAgPSBjb25kZW5zZSggbWF0Y2hlck91dCwgcG9zdE1hcCApO1xuXHRcdFx0XHRwb3N0RmlsdGVyKCB0ZW1wLCBbXSwgY29udGV4dCwgeG1sICk7XG5cdFxuXHRcdFx0XHQvLyBVbi1tYXRjaCBmYWlsaW5nIGVsZW1lbnRzIGJ5IG1vdmluZyB0aGVtIGJhY2sgdG8gbWF0Y2hlckluXG5cdFx0XHRcdGkgPSB0ZW1wLmxlbmd0aDtcblx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0aWYgKCAoZWxlbSA9IHRlbXBbaV0pICkge1xuXHRcdFx0XHRcdFx0bWF0Y2hlck91dFsgcG9zdE1hcFtpXSBdID0gIShtYXRjaGVySW5bIHBvc3RNYXBbaV0gXSA9IGVsZW0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggc2VlZCApIHtcblx0XHRcdFx0aWYgKCBwb3N0RmluZGVyIHx8IHByZUZpbHRlciApIHtcblx0XHRcdFx0XHRpZiAoIHBvc3RGaW5kZXIgKSB7XG5cdFx0XHRcdFx0XHQvLyBHZXQgdGhlIGZpbmFsIG1hdGNoZXJPdXQgYnkgY29uZGVuc2luZyB0aGlzIGludGVybWVkaWF0ZSBpbnRvIHBvc3RGaW5kZXIgY29udGV4dHNcblx0XHRcdFx0XHRcdHRlbXAgPSBbXTtcblx0XHRcdFx0XHRcdGkgPSBtYXRjaGVyT3V0Lmxlbmd0aDtcblx0XHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoIChlbGVtID0gbWF0Y2hlck91dFtpXSkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gUmVzdG9yZSBtYXRjaGVySW4gc2luY2UgZWxlbSBpcyBub3QgeWV0IGEgZmluYWwgbWF0Y2hcblx0XHRcdFx0XHRcdFx0XHR0ZW1wLnB1c2goIChtYXRjaGVySW5baV0gPSBlbGVtKSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRwb3N0RmluZGVyKCBudWxsLCAobWF0Y2hlck91dCA9IFtdKSwgdGVtcCwgeG1sICk7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBNb3ZlIG1hdGNoZWQgZWxlbWVudHMgZnJvbSBzZWVkIHRvIHJlc3VsdHMgdG8ga2VlcCB0aGVtIHN5bmNocm9uaXplZFxuXHRcdFx0XHRcdGkgPSBtYXRjaGVyT3V0Lmxlbmd0aDtcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdGlmICggKGVsZW0gPSBtYXRjaGVyT3V0W2ldKSAmJlxuXHRcdFx0XHRcdFx0XHQodGVtcCA9IHBvc3RGaW5kZXIgPyBpbmRleE9mKCBzZWVkLCBlbGVtICkgOiBwcmVNYXBbaV0pID4gLTEgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRzZWVkW3RlbXBdID0gIShyZXN1bHRzW3RlbXBdID0gZWxlbSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0Ly8gQWRkIGVsZW1lbnRzIHRvIHJlc3VsdHMsIHRocm91Z2ggcG9zdEZpbmRlciBpZiBkZWZpbmVkXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRtYXRjaGVyT3V0ID0gY29uZGVuc2UoXG5cdFx0XHRcdFx0bWF0Y2hlck91dCA9PT0gcmVzdWx0cyA/XG5cdFx0XHRcdFx0XHRtYXRjaGVyT3V0LnNwbGljZSggcHJlZXhpc3RpbmcsIG1hdGNoZXJPdXQubGVuZ3RoICkgOlxuXHRcdFx0XHRcdFx0bWF0Y2hlck91dFxuXHRcdFx0XHQpO1xuXHRcdFx0XHRpZiAoIHBvc3RGaW5kZXIgKSB7XG5cdFx0XHRcdFx0cG9zdEZpbmRlciggbnVsbCwgcmVzdWx0cywgbWF0Y2hlck91dCwgeG1sICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgbWF0Y2hlck91dCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMgKSB7XG5cdFx0dmFyIGNoZWNrQ29udGV4dCwgbWF0Y2hlciwgaixcblx0XHRcdGxlbiA9IHRva2Vucy5sZW5ndGgsXG5cdFx0XHRsZWFkaW5nUmVsYXRpdmUgPSBFeHByLnJlbGF0aXZlWyB0b2tlbnNbMF0udHlwZSBdLFxuXHRcdFx0aW1wbGljaXRSZWxhdGl2ZSA9IGxlYWRpbmdSZWxhdGl2ZSB8fCBFeHByLnJlbGF0aXZlW1wiIFwiXSxcblx0XHRcdGkgPSBsZWFkaW5nUmVsYXRpdmUgPyAxIDogMCxcblx0XG5cdFx0XHQvLyBUaGUgZm91bmRhdGlvbmFsIG1hdGNoZXIgZW5zdXJlcyB0aGF0IGVsZW1lbnRzIGFyZSByZWFjaGFibGUgZnJvbSB0b3AtbGV2ZWwgY29udGV4dChzKVxuXHRcdFx0bWF0Y2hDb250ZXh0ID0gYWRkQ29tYmluYXRvciggZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtID09PSBjaGVja0NvbnRleHQ7XG5cdFx0XHR9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVlICksXG5cdFx0XHRtYXRjaEFueUNvbnRleHQgPSBhZGRDb21iaW5hdG9yKCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIGluZGV4T2YoIGNoZWNrQ29udGV4dCwgZWxlbSApID4gLTE7XG5cdFx0XHR9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVlICksXG5cdFx0XHRtYXRjaGVycyA9IFsgZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdFx0dmFyIHJldCA9ICggIWxlYWRpbmdSZWxhdGl2ZSAmJiAoIHhtbCB8fCBjb250ZXh0ICE9PSBvdXRlcm1vc3RDb250ZXh0ICkgKSB8fCAoXG5cdFx0XHRcdFx0KGNoZWNrQ29udGV4dCA9IGNvbnRleHQpLm5vZGVUeXBlID9cblx0XHRcdFx0XHRcdG1hdGNoQ29udGV4dCggZWxlbSwgY29udGV4dCwgeG1sICkgOlxuXHRcdFx0XHRcdFx0bWF0Y2hBbnlDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSApO1xuXHRcdFx0XHQvLyBBdm9pZCBoYW5naW5nIG9udG8gZWxlbWVudCAoaXNzdWUgIzI5OSlcblx0XHRcdFx0Y2hlY2tDb250ZXh0ID0gbnVsbDtcblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH0gXTtcblx0XG5cdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRpZiAoIChtYXRjaGVyID0gRXhwci5yZWxhdGl2ZVsgdG9rZW5zW2ldLnR5cGUgXSkgKSB7XG5cdFx0XHRcdG1hdGNoZXJzID0gWyBhZGRDb21iaW5hdG9yKGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApLCBtYXRjaGVyKSBdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bWF0Y2hlciA9IEV4cHIuZmlsdGVyWyB0b2tlbnNbaV0udHlwZSBdLmFwcGx5KCBudWxsLCB0b2tlbnNbaV0ubWF0Y2hlcyApO1xuXHRcblx0XHRcdFx0Ly8gUmV0dXJuIHNwZWNpYWwgdXBvbiBzZWVpbmcgYSBwb3NpdGlvbmFsIG1hdGNoZXJcblx0XHRcdFx0aWYgKCBtYXRjaGVyWyBleHBhbmRvIF0gKSB7XG5cdFx0XHRcdFx0Ly8gRmluZCB0aGUgbmV4dCByZWxhdGl2ZSBvcGVyYXRvciAoaWYgYW55KSBmb3IgcHJvcGVyIGhhbmRsaW5nXG5cdFx0XHRcdFx0aiA9ICsraTtcblx0XHRcdFx0XHRmb3IgKCA7IGogPCBsZW47IGorKyApIHtcblx0XHRcdFx0XHRcdGlmICggRXhwci5yZWxhdGl2ZVsgdG9rZW5zW2pdLnR5cGUgXSApIHtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBzZXRNYXRjaGVyKFxuXHRcdFx0XHRcdFx0aSA+IDEgJiYgZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICksXG5cdFx0XHRcdFx0XHRpID4gMSAmJiB0b1NlbGVjdG9yKFxuXHRcdFx0XHRcdFx0XHQvLyBJZiB0aGUgcHJlY2VkaW5nIHRva2VuIHdhcyBhIGRlc2NlbmRhbnQgY29tYmluYXRvciwgaW5zZXJ0IGFuIGltcGxpY2l0IGFueS1lbGVtZW50IGAqYFxuXHRcdFx0XHRcdFx0XHR0b2tlbnMuc2xpY2UoIDAsIGkgLSAxICkuY29uY2F0KHsgdmFsdWU6IHRva2Vuc1sgaSAtIDIgXS50eXBlID09PSBcIiBcIiA/IFwiKlwiIDogXCJcIiB9KVxuXHRcdFx0XHRcdFx0KS5yZXBsYWNlKCBydHJpbSwgXCIkMVwiICksXG5cdFx0XHRcdFx0XHRtYXRjaGVyLFxuXHRcdFx0XHRcdFx0aSA8IGogJiYgbWF0Y2hlckZyb21Ub2tlbnMoIHRva2Vucy5zbGljZSggaSwgaiApICksXG5cdFx0XHRcdFx0XHRqIDwgbGVuICYmIG1hdGNoZXJGcm9tVG9rZW5zKCAodG9rZW5zID0gdG9rZW5zLnNsaWNlKCBqICkpICksXG5cdFx0XHRcdFx0XHRqIDwgbGVuICYmIHRvU2VsZWN0b3IoIHRva2VucyApXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRtYXRjaGVycy5wdXNoKCBtYXRjaGVyICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyggZWxlbWVudE1hdGNoZXJzLCBzZXRNYXRjaGVycyApIHtcblx0XHR2YXIgYnlTZXQgPSBzZXRNYXRjaGVycy5sZW5ndGggPiAwLFxuXHRcdFx0YnlFbGVtZW50ID0gZWxlbWVudE1hdGNoZXJzLmxlbmd0aCA+IDAsXG5cdFx0XHRzdXBlck1hdGNoZXIgPSBmdW5jdGlvbiggc2VlZCwgY29udGV4dCwgeG1sLCByZXN1bHRzLCBvdXRlcm1vc3QgKSB7XG5cdFx0XHRcdHZhciBlbGVtLCBqLCBtYXRjaGVyLFxuXHRcdFx0XHRcdG1hdGNoZWRDb3VudCA9IDAsXG5cdFx0XHRcdFx0aSA9IFwiMFwiLFxuXHRcdFx0XHRcdHVubWF0Y2hlZCA9IHNlZWQgJiYgW10sXG5cdFx0XHRcdFx0c2V0TWF0Y2hlZCA9IFtdLFxuXHRcdFx0XHRcdGNvbnRleHRCYWNrdXAgPSBvdXRlcm1vc3RDb250ZXh0LFxuXHRcdFx0XHRcdC8vIFdlIG11c3QgYWx3YXlzIGhhdmUgZWl0aGVyIHNlZWQgZWxlbWVudHMgb3Igb3V0ZXJtb3N0IGNvbnRleHRcblx0XHRcdFx0XHRlbGVtcyA9IHNlZWQgfHwgYnlFbGVtZW50ICYmIEV4cHIuZmluZFtcIlRBR1wiXSggXCIqXCIsIG91dGVybW9zdCApLFxuXHRcdFx0XHRcdC8vIFVzZSBpbnRlZ2VyIGRpcnJ1bnMgaWZmIHRoaXMgaXMgdGhlIG91dGVybW9zdCBtYXRjaGVyXG5cdFx0XHRcdFx0ZGlycnVuc1VuaXF1ZSA9IChkaXJydW5zICs9IGNvbnRleHRCYWNrdXAgPT0gbnVsbCA/IDEgOiBNYXRoLnJhbmRvbSgpIHx8IDAuMSksXG5cdFx0XHRcdFx0bGVuID0gZWxlbXMubGVuZ3RoO1xuXHRcblx0XHRcdFx0aWYgKCBvdXRlcm1vc3QgKSB7XG5cdFx0XHRcdFx0b3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHQgPT09IGRvY3VtZW50IHx8IGNvbnRleHQgfHwgb3V0ZXJtb3N0O1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBBZGQgZWxlbWVudHMgcGFzc2luZyBlbGVtZW50TWF0Y2hlcnMgZGlyZWN0bHkgdG8gcmVzdWx0c1xuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRTw5LCBTYWZhcmlcblx0XHRcdFx0Ly8gVG9sZXJhdGUgTm9kZUxpc3QgcHJvcGVydGllcyAoSUU6IFwibGVuZ3RoXCI7IFNhZmFyaTogPG51bWJlcj4pIG1hdGNoaW5nIGVsZW1lbnRzIGJ5IGlkXG5cdFx0XHRcdGZvciAoIDsgaSAhPT0gbGVuICYmIChlbGVtID0gZWxlbXNbaV0pICE9IG51bGw7IGkrKyApIHtcblx0XHRcdFx0XHRpZiAoIGJ5RWxlbWVudCAmJiBlbGVtICkge1xuXHRcdFx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdFx0XHRpZiAoICFjb250ZXh0ICYmIGVsZW0ub3duZXJEb2N1bWVudCAhPT0gZG9jdW1lbnQgKSB7XG5cdFx0XHRcdFx0XHRcdHNldERvY3VtZW50KCBlbGVtICk7XG5cdFx0XHRcdFx0XHRcdHhtbCA9ICFkb2N1bWVudElzSFRNTDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHdoaWxlICggKG1hdGNoZXIgPSBlbGVtZW50TWF0Y2hlcnNbaisrXSkgKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggbWF0Y2hlciggZWxlbSwgY29udGV4dCB8fCBkb2N1bWVudCwgeG1sKSApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKCBvdXRlcm1vc3QgKSB7XG5cdFx0XHRcdFx0XHRcdGRpcnJ1bnMgPSBkaXJydW5zVW5pcXVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gVHJhY2sgdW5tYXRjaGVkIGVsZW1lbnRzIGZvciBzZXQgZmlsdGVyc1xuXHRcdFx0XHRcdGlmICggYnlTZXQgKSB7XG5cdFx0XHRcdFx0XHQvLyBUaGV5IHdpbGwgaGF2ZSBnb25lIHRocm91Z2ggYWxsIHBvc3NpYmxlIG1hdGNoZXJzXG5cdFx0XHRcdFx0XHRpZiAoIChlbGVtID0gIW1hdGNoZXIgJiYgZWxlbSkgKSB7XG5cdFx0XHRcdFx0XHRcdG1hdGNoZWRDb3VudC0tO1xuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdC8vIExlbmd0aGVuIHRoZSBhcnJheSBmb3IgZXZlcnkgZWxlbWVudCwgbWF0Y2hlZCBvciBub3Rcblx0XHRcdFx0XHRcdGlmICggc2VlZCApIHtcblx0XHRcdFx0XHRcdFx0dW5tYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIGBpYCBpcyBub3cgdGhlIGNvdW50IG9mIGVsZW1lbnRzIHZpc2l0ZWQgYWJvdmUsIGFuZCBhZGRpbmcgaXQgdG8gYG1hdGNoZWRDb3VudGBcblx0XHRcdFx0Ly8gbWFrZXMgdGhlIGxhdHRlciBub25uZWdhdGl2ZS5cblx0XHRcdFx0bWF0Y2hlZENvdW50ICs9IGk7XG5cdFxuXHRcdFx0XHQvLyBBcHBseSBzZXQgZmlsdGVycyB0byB1bm1hdGNoZWQgZWxlbWVudHNcblx0XHRcdFx0Ly8gTk9URTogVGhpcyBjYW4gYmUgc2tpcHBlZCBpZiB0aGVyZSBhcmUgbm8gdW5tYXRjaGVkIGVsZW1lbnRzIChpLmUuLCBgbWF0Y2hlZENvdW50YFxuXHRcdFx0XHQvLyBlcXVhbHMgYGlgKSwgdW5sZXNzIHdlIGRpZG4ndCB2aXNpdCBfYW55XyBlbGVtZW50cyBpbiB0aGUgYWJvdmUgbG9vcCBiZWNhdXNlIHdlIGhhdmVcblx0XHRcdFx0Ly8gbm8gZWxlbWVudCBtYXRjaGVycyBhbmQgbm8gc2VlZC5cblx0XHRcdFx0Ly8gSW5jcmVtZW50aW5nIGFuIGluaXRpYWxseS1zdHJpbmcgXCIwXCIgYGlgIGFsbG93cyBgaWAgdG8gcmVtYWluIGEgc3RyaW5nIG9ubHkgaW4gdGhhdFxuXHRcdFx0XHQvLyBjYXNlLCB3aGljaCB3aWxsIHJlc3VsdCBpbiBhIFwiMDBcIiBgbWF0Y2hlZENvdW50YCB0aGF0IGRpZmZlcnMgZnJvbSBgaWAgYnV0IGlzIGFsc29cblx0XHRcdFx0Ly8gbnVtZXJpY2FsbHkgemVyby5cblx0XHRcdFx0aWYgKCBieVNldCAmJiBpICE9PSBtYXRjaGVkQ291bnQgKSB7XG5cdFx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdFx0d2hpbGUgKCAobWF0Y2hlciA9IHNldE1hdGNoZXJzW2orK10pICkge1xuXHRcdFx0XHRcdFx0bWF0Y2hlciggdW5tYXRjaGVkLCBzZXRNYXRjaGVkLCBjb250ZXh0LCB4bWwgKTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdGlmICggc2VlZCApIHtcblx0XHRcdFx0XHRcdC8vIFJlaW50ZWdyYXRlIGVsZW1lbnQgbWF0Y2hlcyB0byBlbGltaW5hdGUgdGhlIG5lZWQgZm9yIHNvcnRpbmdcblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlZENvdW50ID4gMCApIHtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCAhKHVubWF0Y2hlZFtpXSB8fCBzZXRNYXRjaGVkW2ldKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHNldE1hdGNoZWRbaV0gPSBwb3AuY2FsbCggcmVzdWx0cyApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdC8vIERpc2NhcmQgaW5kZXggcGxhY2Vob2xkZXIgdmFsdWVzIHRvIGdldCBvbmx5IGFjdHVhbCBtYXRjaGVzXG5cdFx0XHRcdFx0XHRzZXRNYXRjaGVkID0gY29uZGVuc2UoIHNldE1hdGNoZWQgKTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIEFkZCBtYXRjaGVzIHRvIHJlc3VsdHNcblx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBzZXRNYXRjaGVkICk7XG5cdFxuXHRcdFx0XHRcdC8vIFNlZWRsZXNzIHNldCBtYXRjaGVzIHN1Y2NlZWRpbmcgbXVsdGlwbGUgc3VjY2Vzc2Z1bCBtYXRjaGVycyBzdGlwdWxhdGUgc29ydGluZ1xuXHRcdFx0XHRcdGlmICggb3V0ZXJtb3N0ICYmICFzZWVkICYmIHNldE1hdGNoZWQubGVuZ3RoID4gMCAmJlxuXHRcdFx0XHRcdFx0KCBtYXRjaGVkQ291bnQgKyBzZXRNYXRjaGVycy5sZW5ndGggKSA+IDEgKSB7XG5cdFxuXHRcdFx0XHRcdFx0U2l6emxlLnVuaXF1ZVNvcnQoIHJlc3VsdHMgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIE92ZXJyaWRlIG1hbmlwdWxhdGlvbiBvZiBnbG9iYWxzIGJ5IG5lc3RlZCBtYXRjaGVyc1xuXHRcdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0XHRkaXJydW5zID0gZGlycnVuc1VuaXF1ZTtcblx0XHRcdFx0XHRvdXRlcm1vc3RDb250ZXh0ID0gY29udGV4dEJhY2t1cDtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0cmV0dXJuIHVubWF0Y2hlZDtcblx0XHRcdH07XG5cdFxuXHRcdHJldHVybiBieVNldCA/XG5cdFx0XHRtYXJrRnVuY3Rpb24oIHN1cGVyTWF0Y2hlciApIDpcblx0XHRcdHN1cGVyTWF0Y2hlcjtcblx0fVxuXHRcblx0Y29tcGlsZSA9IFNpenpsZS5jb21waWxlID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBtYXRjaCAvKiBJbnRlcm5hbCBVc2UgT25seSAqLyApIHtcblx0XHR2YXIgaSxcblx0XHRcdHNldE1hdGNoZXJzID0gW10sXG5cdFx0XHRlbGVtZW50TWF0Y2hlcnMgPSBbXSxcblx0XHRcdGNhY2hlZCA9IGNvbXBpbGVyQ2FjaGVbIHNlbGVjdG9yICsgXCIgXCIgXTtcblx0XG5cdFx0aWYgKCAhY2FjaGVkICkge1xuXHRcdFx0Ly8gR2VuZXJhdGUgYSBmdW5jdGlvbiBvZiByZWN1cnNpdmUgZnVuY3Rpb25zIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2hlY2sgZWFjaCBlbGVtZW50XG5cdFx0XHRpZiAoICFtYXRjaCApIHtcblx0XHRcdFx0bWF0Y2ggPSB0b2tlbml6ZSggc2VsZWN0b3IgKTtcblx0XHRcdH1cblx0XHRcdGkgPSBtYXRjaC5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0Y2FjaGVkID0gbWF0Y2hlckZyb21Ub2tlbnMoIG1hdGNoW2ldICk7XG5cdFx0XHRcdGlmICggY2FjaGVkWyBleHBhbmRvIF0gKSB7XG5cdFx0XHRcdFx0c2V0TWF0Y2hlcnMucHVzaCggY2FjaGVkICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZWxlbWVudE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gQ2FjaGUgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uXG5cdFx0XHRjYWNoZWQgPSBjb21waWxlckNhY2hlKCBzZWxlY3RvciwgbWF0Y2hlckZyb21Hcm91cE1hdGNoZXJzKCBlbGVtZW50TWF0Y2hlcnMsIHNldE1hdGNoZXJzICkgKTtcblx0XG5cdFx0XHQvLyBTYXZlIHNlbGVjdG9yIGFuZCB0b2tlbml6YXRpb25cblx0XHRcdGNhY2hlZC5zZWxlY3RvciA9IHNlbGVjdG9yO1xuXHRcdH1cblx0XHRyZXR1cm4gY2FjaGVkO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEEgbG93LWxldmVsIHNlbGVjdGlvbiBmdW5jdGlvbiB0aGF0IHdvcmtzIHdpdGggU2l6emxlJ3MgY29tcGlsZWRcblx0ICogIHNlbGVjdG9yIGZ1bmN0aW9uc1xuXHQgKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gc2VsZWN0b3IgQSBzZWxlY3RvciBvciBhIHByZS1jb21waWxlZFxuXHQgKiAgc2VsZWN0b3IgZnVuY3Rpb24gYnVpbHQgd2l0aCBTaXp6bGUuY29tcGlsZVxuXHQgKiBAcGFyYW0ge0VsZW1lbnR9IGNvbnRleHRcblx0ICogQHBhcmFtIHtBcnJheX0gW3Jlc3VsdHNdXG5cdCAqIEBwYXJhbSB7QXJyYXl9IFtzZWVkXSBBIHNldCBvZiBlbGVtZW50cyB0byBtYXRjaCBhZ2FpbnN0XG5cdCAqL1xuXHRzZWxlY3QgPSBTaXp6bGUuc2VsZWN0ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICkge1xuXHRcdHZhciBpLCB0b2tlbnMsIHRva2VuLCB0eXBlLCBmaW5kLFxuXHRcdFx0Y29tcGlsZWQgPSB0eXBlb2Ygc2VsZWN0b3IgPT09IFwiZnVuY3Rpb25cIiAmJiBzZWxlY3Rvcixcblx0XHRcdG1hdGNoID0gIXNlZWQgJiYgdG9rZW5pemUoIChzZWxlY3RvciA9IGNvbXBpbGVkLnNlbGVjdG9yIHx8IHNlbGVjdG9yKSApO1xuXHRcblx0XHRyZXN1bHRzID0gcmVzdWx0cyB8fCBbXTtcblx0XG5cdFx0Ly8gVHJ5IHRvIG1pbmltaXplIG9wZXJhdGlvbnMgaWYgdGhlcmUgaXMgb25seSBvbmUgc2VsZWN0b3IgaW4gdGhlIGxpc3QgYW5kIG5vIHNlZWRcblx0XHQvLyAodGhlIGxhdHRlciBvZiB3aGljaCBndWFyYW50ZWVzIHVzIGNvbnRleHQpXG5cdFx0aWYgKCBtYXRjaC5sZW5ndGggPT09IDEgKSB7XG5cdFxuXHRcdFx0Ly8gUmVkdWNlIGNvbnRleHQgaWYgdGhlIGxlYWRpbmcgY29tcG91bmQgc2VsZWN0b3IgaXMgYW4gSURcblx0XHRcdHRva2VucyA9IG1hdGNoWzBdID0gbWF0Y2hbMF0uc2xpY2UoIDAgKTtcblx0XHRcdGlmICggdG9rZW5zLmxlbmd0aCA+IDIgJiYgKHRva2VuID0gdG9rZW5zWzBdKS50eXBlID09PSBcIklEXCIgJiZcblx0XHRcdFx0XHRzdXBwb3J0LmdldEJ5SWQgJiYgY29udGV4dC5ub2RlVHlwZSA9PT0gOSAmJiBkb2N1bWVudElzSFRNTCAmJlxuXHRcdFx0XHRcdEV4cHIucmVsYXRpdmVbIHRva2Vuc1sxXS50eXBlIF0gKSB7XG5cdFxuXHRcdFx0XHRjb250ZXh0ID0gKCBFeHByLmZpbmRbXCJJRFwiXSggdG9rZW4ubWF0Y2hlc1swXS5yZXBsYWNlKHJ1bmVzY2FwZSwgZnVuZXNjYXBlKSwgY29udGV4dCApIHx8IFtdIClbMF07XG5cdFx0XHRcdGlmICggIWNvbnRleHQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFxuXHRcdFx0XHQvLyBQcmVjb21waWxlZCBtYXRjaGVycyB3aWxsIHN0aWxsIHZlcmlmeSBhbmNlc3RyeSwgc28gc3RlcCB1cCBhIGxldmVsXG5cdFx0XHRcdH0gZWxzZSBpZiAoIGNvbXBpbGVkICkge1xuXHRcdFx0XHRcdGNvbnRleHQgPSBjb250ZXh0LnBhcmVudE5vZGU7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHNlbGVjdG9yID0gc2VsZWN0b3Iuc2xpY2UoIHRva2Vucy5zaGlmdCgpLnZhbHVlLmxlbmd0aCApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEZldGNoIGEgc2VlZCBzZXQgZm9yIHJpZ2h0LXRvLWxlZnQgbWF0Y2hpbmdcblx0XHRcdGkgPSBtYXRjaEV4cHJbXCJuZWVkc0NvbnRleHRcIl0udGVzdCggc2VsZWN0b3IgKSA/IDAgOiB0b2tlbnMubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdHRva2VuID0gdG9rZW5zW2ldO1xuXHRcblx0XHRcdFx0Ly8gQWJvcnQgaWYgd2UgaGl0IGEgY29tYmluYXRvclxuXHRcdFx0XHRpZiAoIEV4cHIucmVsYXRpdmVbICh0eXBlID0gdG9rZW4udHlwZSkgXSApIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIChmaW5kID0gRXhwci5maW5kWyB0eXBlIF0pICkge1xuXHRcdFx0XHRcdC8vIFNlYXJjaCwgZXhwYW5kaW5nIGNvbnRleHQgZm9yIGxlYWRpbmcgc2libGluZyBjb21iaW5hdG9yc1xuXHRcdFx0XHRcdGlmICggKHNlZWQgPSBmaW5kKFxuXHRcdFx0XHRcdFx0dG9rZW4ubWF0Y2hlc1swXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLFxuXHRcdFx0XHRcdFx0cnNpYmxpbmcudGVzdCggdG9rZW5zWzBdLnR5cGUgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHwgY29udGV4dFxuXHRcdFx0XHRcdCkpICkge1xuXHRcblx0XHRcdFx0XHRcdC8vIElmIHNlZWQgaXMgZW1wdHkgb3Igbm8gdG9rZW5zIHJlbWFpbiwgd2UgY2FuIHJldHVybiBlYXJseVxuXHRcdFx0XHRcdFx0dG9rZW5zLnNwbGljZSggaSwgMSApO1xuXHRcdFx0XHRcdFx0c2VsZWN0b3IgPSBzZWVkLmxlbmd0aCAmJiB0b1NlbGVjdG9yKCB0b2tlbnMgKTtcblx0XHRcdFx0XHRcdGlmICggIXNlbGVjdG9yICkge1xuXHRcdFx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBzZWVkICk7XG5cdFx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0Ly8gQ29tcGlsZSBhbmQgZXhlY3V0ZSBhIGZpbHRlcmluZyBmdW5jdGlvbiBpZiBvbmUgaXMgbm90IHByb3ZpZGVkXG5cdFx0Ly8gUHJvdmlkZSBgbWF0Y2hgIHRvIGF2b2lkIHJldG9rZW5pemF0aW9uIGlmIHdlIG1vZGlmaWVkIHRoZSBzZWxlY3RvciBhYm92ZVxuXHRcdCggY29tcGlsZWQgfHwgY29tcGlsZSggc2VsZWN0b3IsIG1hdGNoICkgKShcblx0XHRcdHNlZWQsXG5cdFx0XHRjb250ZXh0LFxuXHRcdFx0IWRvY3VtZW50SXNIVE1MLFxuXHRcdFx0cmVzdWx0cyxcblx0XHRcdCFjb250ZXh0IHx8IHJzaWJsaW5nLnRlc3QoIHNlbGVjdG9yICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8IGNvbnRleHRcblx0XHQpO1xuXHRcdHJldHVybiByZXN1bHRzO1xuXHR9O1xuXHRcblx0Ly8gT25lLXRpbWUgYXNzaWdubWVudHNcblx0XG5cdC8vIFNvcnQgc3RhYmlsaXR5XG5cdHN1cHBvcnQuc29ydFN0YWJsZSA9IGV4cGFuZG8uc3BsaXQoXCJcIikuc29ydCggc29ydE9yZGVyICkuam9pbihcIlwiKSA9PT0gZXhwYW5kbztcblx0XG5cdC8vIFN1cHBvcnQ6IENocm9tZSAxNC0zNStcblx0Ly8gQWx3YXlzIGFzc3VtZSBkdXBsaWNhdGVzIGlmIHRoZXkgYXJlbid0IHBhc3NlZCB0byB0aGUgY29tcGFyaXNvbiBmdW5jdGlvblxuXHRzdXBwb3J0LmRldGVjdER1cGxpY2F0ZXMgPSAhIWhhc0R1cGxpY2F0ZTtcblx0XG5cdC8vIEluaXRpYWxpemUgYWdhaW5zdCB0aGUgZGVmYXVsdCBkb2N1bWVudFxuXHRzZXREb2N1bWVudCgpO1xuXHRcblx0Ly8gU3VwcG9ydDogV2Via2l0PDUzNy4zMiAtIFNhZmFyaSA2LjAuMy9DaHJvbWUgMjUgKGZpeGVkIGluIENocm9tZSAyNylcblx0Ly8gRGV0YWNoZWQgbm9kZXMgY29uZm91bmRpbmdseSBmb2xsb3cgKmVhY2ggb3RoZXIqXG5cdHN1cHBvcnQuc29ydERldGFjaGVkID0gYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0XHQvLyBTaG91bGQgcmV0dXJuIDEsIGJ1dCByZXR1cm5zIDQgKGZvbGxvd2luZylcblx0XHRyZXR1cm4gZWwuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmaWVsZHNldFwiKSApICYgMTtcblx0fSk7XG5cdFxuXHQvLyBTdXBwb3J0OiBJRTw4XG5cdC8vIFByZXZlbnQgYXR0cmlidXRlL3Byb3BlcnR5IFwiaW50ZXJwb2xhdGlvblwiXG5cdC8vIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXM1MzY0MjklMjhWUy44NSUyOS5hc3B4XG5cdGlmICggIWFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0ZWwuaW5uZXJIVE1MID0gXCI8YSBocmVmPScjJz48L2E+XCI7XG5cdFx0cmV0dXJuIGVsLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSA9PT0gXCIjXCIgO1xuXHR9KSApIHtcblx0XHRhZGRIYW5kbGUoIFwidHlwZXxocmVmfGhlaWdodHx3aWR0aFwiLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0XHRpZiAoICFpc1hNTCApIHtcblx0XHRcdFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwidHlwZVwiID8gMSA6IDIgKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXHRcblx0Ly8gU3VwcG9ydDogSUU8OVxuXHQvLyBVc2UgZGVmYXVsdFZhbHVlIGluIHBsYWNlIG9mIGdldEF0dHJpYnV0ZShcInZhbHVlXCIpXG5cdGlmICggIXN1cHBvcnQuYXR0cmlidXRlcyB8fCAhYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0XHRlbC5pbm5lckhUTUwgPSBcIjxpbnB1dC8+XCI7XG5cdFx0ZWwuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiwgXCJcIiApO1xuXHRcdHJldHVybiBlbC5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiICkgPT09IFwiXCI7XG5cdH0pICkge1xuXHRcdGFkZEhhbmRsZSggXCJ2YWx1ZVwiLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0XHRpZiAoICFpc1hNTCAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiaW5wdXRcIiApIHtcblx0XHRcdFx0cmV0dXJuIGVsZW0uZGVmYXVsdFZhbHVlO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cdFxuXHQvLyBTdXBwb3J0OiBJRTw5XG5cdC8vIFVzZSBnZXRBdHRyaWJ1dGVOb2RlIHRvIGZldGNoIGJvb2xlYW5zIHdoZW4gZ2V0QXR0cmlidXRlIGxpZXNcblx0aWYgKCAhYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0XHRyZXR1cm4gZWwuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIikgPT0gbnVsbDtcblx0fSkgKSB7XG5cdFx0YWRkSGFuZGxlKCBib29sZWFucywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdFx0dmFyIHZhbDtcblx0XHRcdGlmICggIWlzWE1MICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbVsgbmFtZSBdID09PSB0cnVlID8gbmFtZS50b0xvd2VyQ2FzZSgpIDpcblx0XHRcdFx0XHRcdCh2YWwgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoIG5hbWUgKSkgJiYgdmFsLnNwZWNpZmllZCA/XG5cdFx0XHRcdFx0XHR2YWwudmFsdWUgOlxuXHRcdFx0XHRcdG51bGw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblx0XG5cdHJldHVybiBTaXp6bGU7XG5cdFxuXHR9KSggd2luZG93ICk7XG5cdFxuXHRcblx0XG5cdGpRdWVyeS5maW5kID0gU2l6emxlO1xuXHRqUXVlcnkuZXhwciA9IFNpenpsZS5zZWxlY3RvcnM7XG5cdFxuXHQvLyBEZXByZWNhdGVkXG5cdGpRdWVyeS5leHByWyBcIjpcIiBdID0galF1ZXJ5LmV4cHIucHNldWRvcztcblx0alF1ZXJ5LnVuaXF1ZVNvcnQgPSBqUXVlcnkudW5pcXVlID0gU2l6emxlLnVuaXF1ZVNvcnQ7XG5cdGpRdWVyeS50ZXh0ID0gU2l6emxlLmdldFRleHQ7XG5cdGpRdWVyeS5pc1hNTERvYyA9IFNpenpsZS5pc1hNTDtcblx0alF1ZXJ5LmNvbnRhaW5zID0gU2l6emxlLmNvbnRhaW5zO1xuXHRqUXVlcnkuZXNjYXBlU2VsZWN0b3IgPSBTaXp6bGUuZXNjYXBlO1xuXHRcblx0XG5cdFxuXHRcblx0dmFyIGRpciA9IGZ1bmN0aW9uKCBlbGVtLCBkaXIsIHVudGlsICkge1xuXHRcdHZhciBtYXRjaGVkID0gW10sXG5cdFx0XHR0cnVuY2F0ZSA9IHVudGlsICE9PSB1bmRlZmluZWQ7XG5cdFxuXHRcdHdoaWxlICggKCBlbGVtID0gZWxlbVsgZGlyIF0gKSAmJiBlbGVtLm5vZGVUeXBlICE9PSA5ICkge1xuXHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0XHRpZiAoIHRydW5jYXRlICYmIGpRdWVyeSggZWxlbSApLmlzKCB1bnRpbCApICkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG1hdGNoZWQucHVzaCggZWxlbSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gbWF0Y2hlZDtcblx0fTtcblx0XG5cdFxuXHR2YXIgc2libGluZ3MgPSBmdW5jdGlvbiggbiwgZWxlbSApIHtcblx0XHR2YXIgbWF0Y2hlZCA9IFtdO1xuXHRcblx0XHRmb3IgKCA7IG47IG4gPSBuLm5leHRTaWJsaW5nICkge1xuXHRcdFx0aWYgKCBuLm5vZGVUeXBlID09PSAxICYmIG4gIT09IGVsZW0gKSB7XG5cdFx0XHRcdG1hdGNoZWQucHVzaCggbiApO1xuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0cmV0dXJuIG1hdGNoZWQ7XG5cdH07XG5cdFxuXHRcblx0dmFyIHJuZWVkc0NvbnRleHQgPSBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7XG5cdFxuXHR2YXIgcnNpbmdsZVRhZyA9ICggL148KFthLXpdW15cXC9cXDA+OlxceDIwXFx0XFxyXFxuXFxmXSopW1xceDIwXFx0XFxyXFxuXFxmXSpcXC8/Pig/OjxcXC9cXDE+fCkkL2kgKTtcblx0XG5cdFxuXHRcblx0dmFyIHJpc1NpbXBsZSA9IC9eLlteOiNcXFtcXC4sXSokLztcblx0XG5cdC8vIEltcGxlbWVudCB0aGUgaWRlbnRpY2FsIGZ1bmN0aW9uYWxpdHkgZm9yIGZpbHRlciBhbmQgbm90XG5cdGZ1bmN0aW9uIHdpbm5vdyggZWxlbWVudHMsIHF1YWxpZmllciwgbm90ICkge1xuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHF1YWxpZmllciApICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0sIGkgKSB7XG5cdFx0XHRcdHJldHVybiAhIXF1YWxpZmllci5jYWxsKCBlbGVtLCBpLCBlbGVtICkgIT09IG5vdDtcblx0XHRcdH0gKTtcblx0XG5cdFx0fVxuXHRcblx0XHRpZiAoIHF1YWxpZmllci5ub2RlVHlwZSApIHtcblx0XHRcdHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gKCBlbGVtID09PSBxdWFsaWZpZXIgKSAhPT0gbm90O1xuXHRcdFx0fSApO1xuXHRcblx0XHR9XG5cdFxuXHRcdGlmICggdHlwZW9mIHF1YWxpZmllciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGlmICggcmlzU2ltcGxlLnRlc3QoIHF1YWxpZmllciApICkge1xuXHRcdFx0XHRyZXR1cm4galF1ZXJ5LmZpbHRlciggcXVhbGlmaWVyLCBlbGVtZW50cywgbm90ICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cXVhbGlmaWVyID0galF1ZXJ5LmZpbHRlciggcXVhbGlmaWVyLCBlbGVtZW50cyApO1xuXHRcdH1cblx0XG5cdFx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gKCBpbmRleE9mLmNhbGwoIHF1YWxpZmllciwgZWxlbSApID4gLTEgKSAhPT0gbm90ICYmIGVsZW0ubm9kZVR5cGUgPT09IDE7XG5cdFx0fSApO1xuXHR9XG5cdFxuXHRqUXVlcnkuZmlsdGVyID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1zLCBub3QgKSB7XG5cdFx0dmFyIGVsZW0gPSBlbGVtc1sgMCBdO1xuXHRcblx0XHRpZiAoIG5vdCApIHtcblx0XHRcdGV4cHIgPSBcIjpub3QoXCIgKyBleHByICsgXCIpXCI7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gZWxlbXMubGVuZ3RoID09PSAxICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgP1xuXHRcdFx0alF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBlbGVtLCBleHByICkgPyBbIGVsZW0gXSA6IFtdIDpcblx0XHRcdGpRdWVyeS5maW5kLm1hdGNoZXMoIGV4cHIsIGpRdWVyeS5ncmVwKCBlbGVtcywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtLm5vZGVUeXBlID09PSAxO1xuXHRcdFx0fSApICk7XG5cdH07XG5cdFxuXHRqUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdFx0ZmluZDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdFx0dmFyIGksIHJldCxcblx0XHRcdFx0bGVuID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRcdHNlbGYgPSB0aGlzO1xuXHRcblx0XHRcdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeSggc2VsZWN0b3IgKS5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5jb250YWlucyggc2VsZlsgaSBdLCB0aGlzICkgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0ID0gdGhpcy5wdXNoU3RhY2soIFtdICk7XG5cdFxuXHRcdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0alF1ZXJ5LmZpbmQoIHNlbGVjdG9yLCBzZWxmWyBpIF0sIHJldCApO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiBsZW4gPiAxID8galF1ZXJ5LnVuaXF1ZVNvcnQoIHJldCApIDogcmV0O1xuXHRcdH0sXG5cdFx0ZmlsdGVyOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHdpbm5vdyggdGhpcywgc2VsZWN0b3IgfHwgW10sIGZhbHNlICkgKTtcblx0XHR9LFxuXHRcdG5vdDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCB3aW5ub3coIHRoaXMsIHNlbGVjdG9yIHx8IFtdLCB0cnVlICkgKTtcblx0XHR9LFxuXHRcdGlzOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gISF3aW5ub3coXG5cdFx0XHRcdHRoaXMsXG5cdFxuXHRcdFx0XHQvLyBJZiB0aGlzIGlzIGEgcG9zaXRpb25hbC9yZWxhdGl2ZSBzZWxlY3RvciwgY2hlY2sgbWVtYmVyc2hpcCBpbiB0aGUgcmV0dXJuZWQgc2V0XG5cdFx0XHRcdC8vIHNvICQoXCJwOmZpcnN0XCIpLmlzKFwicDpsYXN0XCIpIHdvbid0IHJldHVybiB0cnVlIGZvciBhIGRvYyB3aXRoIHR3byBcInBcIi5cblx0XHRcdFx0dHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICYmIHJuZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3IgKSA/XG5cdFx0XHRcdFx0alF1ZXJ5KCBzZWxlY3RvciApIDpcblx0XHRcdFx0XHRzZWxlY3RvciB8fCBbXSxcblx0XHRcdFx0ZmFsc2Vcblx0XHRcdCkubGVuZ3RoO1xuXHRcdH1cblx0fSApO1xuXHRcblx0XG5cdC8vIEluaXRpYWxpemUgYSBqUXVlcnkgb2JqZWN0XG5cdFxuXHRcblx0Ly8gQSBjZW50cmFsIHJlZmVyZW5jZSB0byB0aGUgcm9vdCBqUXVlcnkoZG9jdW1lbnQpXG5cdHZhciByb290alF1ZXJ5LFxuXHRcblx0XHQvLyBBIHNpbXBsZSB3YXkgdG8gY2hlY2sgZm9yIEhUTUwgc3RyaW5nc1xuXHRcdC8vIFByaW9yaXRpemUgI2lkIG92ZXIgPHRhZz4gdG8gYXZvaWQgWFNTIHZpYSBsb2NhdGlvbi5oYXNoICgjOTUyMSlcblx0XHQvLyBTdHJpY3QgSFRNTCByZWNvZ25pdGlvbiAoIzExMjkwOiBtdXN0IHN0YXJ0IHdpdGggPClcblx0XHQvLyBTaG9ydGN1dCBzaW1wbGUgI2lkIGNhc2UgZm9yIHNwZWVkXG5cdFx0cnF1aWNrRXhwciA9IC9eKD86XFxzKig8W1xcd1xcV10rPilbXj5dKnwjKFtcXHctXSspKSQvLFxuXHRcblx0XHRpbml0ID0galF1ZXJ5LmZuLmluaXQgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQsIHJvb3QgKSB7XG5cdFx0XHR2YXIgbWF0Y2gsIGVsZW07XG5cdFxuXHRcdFx0Ly8gSEFORExFOiAkKFwiXCIpLCAkKG51bGwpLCAkKHVuZGVmaW5lZCksICQoZmFsc2UpXG5cdFx0XHRpZiAoICFzZWxlY3RvciApIHtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gTWV0aG9kIGluaXQoKSBhY2NlcHRzIGFuIGFsdGVybmF0ZSByb290alF1ZXJ5XG5cdFx0XHQvLyBzbyBtaWdyYXRlIGNhbiBzdXBwb3J0IGpRdWVyeS5zdWIgKGdoLTIxMDEpXG5cdFx0XHRyb290ID0gcm9vdCB8fCByb290alF1ZXJ5O1xuXHRcblx0XHRcdC8vIEhhbmRsZSBIVE1MIHN0cmluZ3Ncblx0XHRcdGlmICggdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRpZiAoIHNlbGVjdG9yWyAwIF0gPT09IFwiPFwiICYmXG5cdFx0XHRcdFx0c2VsZWN0b3JbIHNlbGVjdG9yLmxlbmd0aCAtIDEgXSA9PT0gXCI+XCIgJiZcblx0XHRcdFx0XHRzZWxlY3Rvci5sZW5ndGggPj0gMyApIHtcblx0XG5cdFx0XHRcdFx0Ly8gQXNzdW1lIHRoYXQgc3RyaW5ncyB0aGF0IHN0YXJ0IGFuZCBlbmQgd2l0aCA8PiBhcmUgSFRNTCBhbmQgc2tpcCB0aGUgcmVnZXggY2hlY2tcblx0XHRcdFx0XHRtYXRjaCA9IFsgbnVsbCwgc2VsZWN0b3IsIG51bGwgXTtcblx0XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bWF0Y2ggPSBycXVpY2tFeHByLmV4ZWMoIHNlbGVjdG9yICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIE1hdGNoIGh0bWwgb3IgbWFrZSBzdXJlIG5vIGNvbnRleHQgaXMgc3BlY2lmaWVkIGZvciAjaWRcblx0XHRcdFx0aWYgKCBtYXRjaCAmJiAoIG1hdGNoWyAxIF0gfHwgIWNvbnRleHQgKSApIHtcblx0XG5cdFx0XHRcdFx0Ly8gSEFORExFOiAkKGh0bWwpIC0+ICQoYXJyYXkpXG5cdFx0XHRcdFx0aWYgKCBtYXRjaFsgMSBdICkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCA9IGNvbnRleHQgaW5zdGFuY2VvZiBqUXVlcnkgPyBjb250ZXh0WyAwIF0gOiBjb250ZXh0O1xuXHRcblx0XHRcdFx0XHRcdC8vIE9wdGlvbiB0byBydW4gc2NyaXB0cyBpcyB0cnVlIGZvciBiYWNrLWNvbXBhdFxuXHRcdFx0XHRcdFx0Ly8gSW50ZW50aW9uYWxseSBsZXQgdGhlIGVycm9yIGJlIHRocm93biBpZiBwYXJzZUhUTUwgaXMgbm90IHByZXNlbnRcblx0XHRcdFx0XHRcdGpRdWVyeS5tZXJnZSggdGhpcywgalF1ZXJ5LnBhcnNlSFRNTChcblx0XHRcdFx0XHRcdFx0bWF0Y2hbIDEgXSxcblx0XHRcdFx0XHRcdFx0Y29udGV4dCAmJiBjb250ZXh0Lm5vZGVUeXBlID8gY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgOiBkb2N1bWVudCxcblx0XHRcdFx0XHRcdFx0dHJ1ZVxuXHRcdFx0XHRcdFx0KSApO1xuXHRcblx0XHRcdFx0XHRcdC8vIEhBTkRMRTogJChodG1sLCBwcm9wcylcblx0XHRcdFx0XHRcdGlmICggcnNpbmdsZVRhZy50ZXN0KCBtYXRjaFsgMSBdICkgJiYgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGNvbnRleHQgKSApIHtcblx0XHRcdFx0XHRcdFx0Zm9yICggbWF0Y2ggaW4gY29udGV4dCApIHtcblx0XG5cdFx0XHRcdFx0XHRcdFx0Ly8gUHJvcGVydGllcyBvZiBjb250ZXh0IGFyZSBjYWxsZWQgYXMgbWV0aG9kcyBpZiBwb3NzaWJsZVxuXHRcdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHRoaXNbIG1hdGNoIF0gKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXNbIG1hdGNoIF0oIGNvbnRleHRbIG1hdGNoIF0gKTtcblx0XG5cdFx0XHRcdFx0XHRcdFx0Ly8gLi4uYW5kIG90aGVyd2lzZSBzZXQgYXMgYXR0cmlidXRlc1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmF0dHIoIG1hdGNoLCBjb250ZXh0WyBtYXRjaCBdICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFxuXHRcdFx0XHRcdC8vIEhBTkRMRTogJCgjaWQpXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggbWF0Y2hbIDIgXSApO1xuXHRcblx0XHRcdFx0XHRcdGlmICggZWxlbSApIHtcblx0XG5cdFx0XHRcdFx0XHRcdC8vIEluamVjdCB0aGUgZWxlbWVudCBkaXJlY3RseSBpbnRvIHRoZSBqUXVlcnkgb2JqZWN0XG5cdFx0XHRcdFx0XHRcdHRoaXNbIDAgXSA9IGVsZW07XG5cdFx0XHRcdFx0XHRcdHRoaXMubGVuZ3RoID0gMTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIEhBTkRMRTogJChleHByLCAkKC4uLikpXG5cdFx0XHRcdH0gZWxzZSBpZiAoICFjb250ZXh0IHx8IGNvbnRleHQuanF1ZXJ5ICkge1xuXHRcdFx0XHRcdHJldHVybiAoIGNvbnRleHQgfHwgcm9vdCApLmZpbmQoIHNlbGVjdG9yICk7XG5cdFxuXHRcdFx0XHQvLyBIQU5ETEU6ICQoZXhwciwgY29udGV4dClcblx0XHRcdFx0Ly8gKHdoaWNoIGlzIGp1c3QgZXF1aXZhbGVudCB0bzogJChjb250ZXh0KS5maW5kKGV4cHIpXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuY29uc3RydWN0b3IoIGNvbnRleHQgKS5maW5kKCBzZWxlY3RvciApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0Ly8gSEFORExFOiAkKERPTUVsZW1lbnQpXG5cdFx0XHR9IGVsc2UgaWYgKCBzZWxlY3Rvci5ub2RlVHlwZSApIHtcblx0XHRcdFx0dGhpc1sgMCBdID0gc2VsZWN0b3I7XG5cdFx0XHRcdHRoaXMubGVuZ3RoID0gMTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFxuXHRcdFx0Ly8gSEFORExFOiAkKGZ1bmN0aW9uKVxuXHRcdFx0Ly8gU2hvcnRjdXQgZm9yIGRvY3VtZW50IHJlYWR5XG5cdFx0XHR9IGVsc2UgaWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggc2VsZWN0b3IgKSApIHtcblx0XHRcdFx0cmV0dXJuIHJvb3QucmVhZHkgIT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdFx0cm9vdC5yZWFkeSggc2VsZWN0b3IgKSA6XG5cdFxuXHRcdFx0XHRcdC8vIEV4ZWN1dGUgaW1tZWRpYXRlbHkgaWYgcmVhZHkgaXMgbm90IHByZXNlbnRcblx0XHRcdFx0XHRzZWxlY3RvciggalF1ZXJ5ICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIGpRdWVyeS5tYWtlQXJyYXkoIHNlbGVjdG9yLCB0aGlzICk7XG5cdFx0fTtcblx0XG5cdC8vIEdpdmUgdGhlIGluaXQgZnVuY3Rpb24gdGhlIGpRdWVyeSBwcm90b3R5cGUgZm9yIGxhdGVyIGluc3RhbnRpYXRpb25cblx0aW5pdC5wcm90b3R5cGUgPSBqUXVlcnkuZm47XG5cdFxuXHQvLyBJbml0aWFsaXplIGNlbnRyYWwgcmVmZXJlbmNlXG5cdHJvb3RqUXVlcnkgPSBqUXVlcnkoIGRvY3VtZW50ICk7XG5cdFxuXHRcblx0dmFyIHJwYXJlbnRzcHJldiA9IC9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLFxuXHRcblx0XHQvLyBNZXRob2RzIGd1YXJhbnRlZWQgdG8gcHJvZHVjZSBhIHVuaXF1ZSBzZXQgd2hlbiBzdGFydGluZyBmcm9tIGEgdW5pcXVlIHNldFxuXHRcdGd1YXJhbnRlZWRVbmlxdWUgPSB7XG5cdFx0XHRjaGlsZHJlbjogdHJ1ZSxcblx0XHRcdGNvbnRlbnRzOiB0cnVlLFxuXHRcdFx0bmV4dDogdHJ1ZSxcblx0XHRcdHByZXY6IHRydWVcblx0XHR9O1xuXHRcblx0alF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRcdGhhczogZnVuY3Rpb24oIHRhcmdldCApIHtcblx0XHRcdHZhciB0YXJnZXRzID0galF1ZXJ5KCB0YXJnZXQsIHRoaXMgKSxcblx0XHRcdFx0bCA9IHRhcmdldHMubGVuZ3RoO1xuXHRcblx0XHRcdHJldHVybiB0aGlzLmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBpID0gMDtcblx0XHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdGlmICggalF1ZXJ5LmNvbnRhaW5zKCB0aGlzLCB0YXJnZXRzWyBpIF0gKSApIHtcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH0sXG5cdFxuXHRcdGNsb3Nlc3Q6IGZ1bmN0aW9uKCBzZWxlY3RvcnMsIGNvbnRleHQgKSB7XG5cdFx0XHR2YXIgY3VyLFxuXHRcdFx0XHRpID0gMCxcblx0XHRcdFx0bCA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0XHRtYXRjaGVkID0gW10sXG5cdFx0XHRcdHRhcmdldHMgPSB0eXBlb2Ygc2VsZWN0b3JzICE9PSBcInN0cmluZ1wiICYmIGpRdWVyeSggc2VsZWN0b3JzICk7XG5cdFxuXHRcdFx0Ly8gUG9zaXRpb25hbCBzZWxlY3RvcnMgbmV2ZXIgbWF0Y2gsIHNpbmNlIHRoZXJlJ3Mgbm8gX3NlbGVjdGlvbl8gY29udGV4dFxuXHRcdFx0aWYgKCAhcm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvcnMgKSApIHtcblx0XHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdGZvciAoIGN1ciA9IHRoaXNbIGkgXTsgY3VyICYmIGN1ciAhPT0gY29udGV4dDsgY3VyID0gY3VyLnBhcmVudE5vZGUgKSB7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gQWx3YXlzIHNraXAgZG9jdW1lbnQgZnJhZ21lbnRzXG5cdFx0XHRcdFx0XHRpZiAoIGN1ci5ub2RlVHlwZSA8IDExICYmICggdGFyZ2V0cyA/XG5cdFx0XHRcdFx0XHRcdHRhcmdldHMuaW5kZXgoIGN1ciApID4gLTEgOlxuXHRcblx0XHRcdFx0XHRcdFx0Ly8gRG9uJ3QgcGFzcyBub24tZWxlbWVudHMgdG8gU2l6emxlXG5cdFx0XHRcdFx0XHRcdGN1ci5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggY3VyLCBzZWxlY3RvcnMgKSApICkge1xuXHRcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZC5wdXNoKCBjdXIgKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBtYXRjaGVkLmxlbmd0aCA+IDEgPyBqUXVlcnkudW5pcXVlU29ydCggbWF0Y2hlZCApIDogbWF0Y2hlZCApO1xuXHRcdH0sXG5cdFxuXHRcdC8vIERldGVybWluZSB0aGUgcG9zaXRpb24gb2YgYW4gZWxlbWVudCB3aXRoaW4gdGhlIHNldFxuXHRcdGluZGV4OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XG5cdFx0XHQvLyBObyBhcmd1bWVudCwgcmV0dXJuIGluZGV4IGluIHBhcmVudFxuXHRcdFx0aWYgKCAhZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuICggdGhpc1sgMCBdICYmIHRoaXNbIDAgXS5wYXJlbnROb2RlICkgPyB0aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aCA6IC0xO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEluZGV4IGluIHNlbGVjdG9yXG5cdFx0XHRpZiAoIHR5cGVvZiBlbGVtID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRyZXR1cm4gaW5kZXhPZi5jYWxsKCBqUXVlcnkoIGVsZW0gKSwgdGhpc1sgMCBdICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gTG9jYXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgZGVzaXJlZCBlbGVtZW50XG5cdFx0XHRyZXR1cm4gaW5kZXhPZi5jYWxsKCB0aGlzLFxuXHRcblx0XHRcdFx0Ly8gSWYgaXQgcmVjZWl2ZXMgYSBqUXVlcnkgb2JqZWN0LCB0aGUgZmlyc3QgZWxlbWVudCBpcyB1c2VkXG5cdFx0XHRcdGVsZW0uanF1ZXJ5ID8gZWxlbVsgMCBdIDogZWxlbVxuXHRcdFx0KTtcblx0XHR9LFxuXHRcblx0XHRhZGQ6IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcblx0XHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayhcblx0XHRcdFx0alF1ZXJ5LnVuaXF1ZVNvcnQoXG5cdFx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCB0aGlzLmdldCgpLCBqUXVlcnkoIHNlbGVjdG9yLCBjb250ZXh0ICkgKVxuXHRcdFx0XHQpXG5cdFx0XHQpO1xuXHRcdH0sXG5cdFxuXHRcdGFkZEJhY2s6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRcdHJldHVybiB0aGlzLmFkZCggc2VsZWN0b3IgPT0gbnVsbCA/XG5cdFx0XHRcdHRoaXMucHJldk9iamVjdCA6IHRoaXMucHJldk9iamVjdC5maWx0ZXIoIHNlbGVjdG9yIClcblx0XHRcdCk7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRmdW5jdGlvbiBzaWJsaW5nKCBjdXIsIGRpciApIHtcblx0XHR3aGlsZSAoICggY3VyID0gY3VyWyBkaXIgXSApICYmIGN1ci5ub2RlVHlwZSAhPT0gMSApIHt9XG5cdFx0cmV0dXJuIGN1cjtcblx0fVxuXHRcblx0alF1ZXJ5LmVhY2goIHtcblx0XHRwYXJlbnQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcblx0XHRcdHJldHVybiBwYXJlbnQgJiYgcGFyZW50Lm5vZGVUeXBlICE9PSAxMSA/IHBhcmVudCA6IG51bGw7XG5cdFx0fSxcblx0XHRwYXJlbnRzOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBkaXIoIGVsZW0sIFwicGFyZW50Tm9kZVwiICk7XG5cdFx0fSxcblx0XHRwYXJlbnRzVW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcblx0XHRcdHJldHVybiBkaXIoIGVsZW0sIFwicGFyZW50Tm9kZVwiLCB1bnRpbCApO1xuXHRcdH0sXG5cdFx0bmV4dDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gc2libGluZyggZWxlbSwgXCJuZXh0U2libGluZ1wiICk7XG5cdFx0fSxcblx0XHRwcmV2OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBzaWJsaW5nKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiICk7XG5cdFx0fSxcblx0XHRuZXh0QWxsOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBkaXIoIGVsZW0sIFwibmV4dFNpYmxpbmdcIiApO1xuXHRcdH0sXG5cdFx0cHJldkFsbDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiICk7XG5cdFx0fSxcblx0XHRuZXh0VW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcblx0XHRcdHJldHVybiBkaXIoIGVsZW0sIFwibmV4dFNpYmxpbmdcIiwgdW50aWwgKTtcblx0XHR9LFxuXHRcdHByZXZVbnRpbDogZnVuY3Rpb24oIGVsZW0sIGksIHVudGlsICkge1xuXHRcdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwcmV2aW91c1NpYmxpbmdcIiwgdW50aWwgKTtcblx0XHR9LFxuXHRcdHNpYmxpbmdzOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBzaWJsaW5ncyggKCBlbGVtLnBhcmVudE5vZGUgfHwge30gKS5maXJzdENoaWxkLCBlbGVtICk7XG5cdFx0fSxcblx0XHRjaGlsZHJlbjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gc2libGluZ3MoIGVsZW0uZmlyc3RDaGlsZCApO1xuXHRcdH0sXG5cdFx0Y29udGVudHM6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uY29udGVudERvY3VtZW50IHx8IGpRdWVyeS5tZXJnZSggW10sIGVsZW0uY2hpbGROb2RlcyApO1xuXHRcdH1cblx0fSwgZnVuY3Rpb24oIG5hbWUsIGZuICkge1xuXHRcdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHVudGlsLCBzZWxlY3RvciApIHtcblx0XHRcdHZhciBtYXRjaGVkID0galF1ZXJ5Lm1hcCggdGhpcywgZm4sIHVudGlsICk7XG5cdFxuXHRcdFx0aWYgKCBuYW1lLnNsaWNlKCAtNSApICE9PSBcIlVudGlsXCIgKSB7XG5cdFx0XHRcdHNlbGVjdG9yID0gdW50aWw7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCBzZWxlY3RvciAmJiB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdG1hdGNoZWQgPSBqUXVlcnkuZmlsdGVyKCBzZWxlY3RvciwgbWF0Y2hlZCApO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggdGhpcy5sZW5ndGggPiAxICkge1xuXHRcblx0XHRcdFx0Ly8gUmVtb3ZlIGR1cGxpY2F0ZXNcblx0XHRcdFx0aWYgKCAhZ3VhcmFudGVlZFVuaXF1ZVsgbmFtZSBdICkge1xuXHRcdFx0XHRcdGpRdWVyeS51bmlxdWVTb3J0KCBtYXRjaGVkICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFJldmVyc2Ugb3JkZXIgZm9yIHBhcmVudHMqIGFuZCBwcmV2LWRlcml2YXRpdmVzXG5cdFx0XHRcdGlmICggcnBhcmVudHNwcmV2LnRlc3QoIG5hbWUgKSApIHtcblx0XHRcdFx0XHRtYXRjaGVkLnJldmVyc2UoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggbWF0Y2hlZCApO1xuXHRcdH07XG5cdH0gKTtcblx0dmFyIHJub3R3aGl0ZSA9ICggL1xcUysvZyApO1xuXHRcblx0XG5cdFxuXHQvLyBDb252ZXJ0IFN0cmluZy1mb3JtYXR0ZWQgb3B0aW9ucyBpbnRvIE9iamVjdC1mb3JtYXR0ZWQgb25lc1xuXHRmdW5jdGlvbiBjcmVhdGVPcHRpb25zKCBvcHRpb25zICkge1xuXHRcdHZhciBvYmplY3QgPSB7fTtcblx0XHRqUXVlcnkuZWFjaCggb3B0aW9ucy5tYXRjaCggcm5vdHdoaXRlICkgfHwgW10sIGZ1bmN0aW9uKCBfLCBmbGFnICkge1xuXHRcdFx0b2JqZWN0WyBmbGFnIF0gPSB0cnVlO1xuXHRcdH0gKTtcblx0XHRyZXR1cm4gb2JqZWN0O1xuXHR9XG5cdFxuXHQvKlxuXHQgKiBDcmVhdGUgYSBjYWxsYmFjayBsaXN0IHVzaW5nIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVyczpcblx0ICpcblx0ICpcdG9wdGlvbnM6IGFuIG9wdGlvbmFsIGxpc3Qgb2Ygc3BhY2Utc2VwYXJhdGVkIG9wdGlvbnMgdGhhdCB3aWxsIGNoYW5nZSBob3dcblx0ICpcdFx0XHR0aGUgY2FsbGJhY2sgbGlzdCBiZWhhdmVzIG9yIGEgbW9yZSB0cmFkaXRpb25hbCBvcHRpb24gb2JqZWN0XG5cdCAqXG5cdCAqIEJ5IGRlZmF1bHQgYSBjYWxsYmFjayBsaXN0IHdpbGwgYWN0IGxpa2UgYW4gZXZlbnQgY2FsbGJhY2sgbGlzdCBhbmQgY2FuIGJlXG5cdCAqIFwiZmlyZWRcIiBtdWx0aXBsZSB0aW1lcy5cblx0ICpcblx0ICogUG9zc2libGUgb3B0aW9uczpcblx0ICpcblx0ICpcdG9uY2U6XHRcdFx0d2lsbCBlbnN1cmUgdGhlIGNhbGxiYWNrIGxpc3QgY2FuIG9ubHkgYmUgZmlyZWQgb25jZSAobGlrZSBhIERlZmVycmVkKVxuXHQgKlxuXHQgKlx0bWVtb3J5Olx0XHRcdHdpbGwga2VlcCB0cmFjayBvZiBwcmV2aW91cyB2YWx1ZXMgYW5kIHdpbGwgY2FsbCBhbnkgY2FsbGJhY2sgYWRkZWRcblx0ICpcdFx0XHRcdFx0YWZ0ZXIgdGhlIGxpc3QgaGFzIGJlZW4gZmlyZWQgcmlnaHQgYXdheSB3aXRoIHRoZSBsYXRlc3QgXCJtZW1vcml6ZWRcIlxuXHQgKlx0XHRcdFx0XHR2YWx1ZXMgKGxpa2UgYSBEZWZlcnJlZClcblx0ICpcblx0ICpcdHVuaXF1ZTpcdFx0XHR3aWxsIGVuc3VyZSBhIGNhbGxiYWNrIGNhbiBvbmx5IGJlIGFkZGVkIG9uY2UgKG5vIGR1cGxpY2F0ZSBpbiB0aGUgbGlzdClcblx0ICpcblx0ICpcdHN0b3BPbkZhbHNlOlx0aW50ZXJydXB0IGNhbGxpbmdzIHdoZW4gYSBjYWxsYmFjayByZXR1cm5zIGZhbHNlXG5cdCAqXG5cdCAqL1xuXHRqUXVlcnkuQ2FsbGJhY2tzID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdFxuXHRcdC8vIENvbnZlcnQgb3B0aW9ucyBmcm9tIFN0cmluZy1mb3JtYXR0ZWQgdG8gT2JqZWN0LWZvcm1hdHRlZCBpZiBuZWVkZWRcblx0XHQvLyAod2UgY2hlY2sgaW4gY2FjaGUgZmlyc3QpXG5cdFx0b3B0aW9ucyA9IHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiID9cblx0XHRcdGNyZWF0ZU9wdGlvbnMoIG9wdGlvbnMgKSA6XG5cdFx0XHRqUXVlcnkuZXh0ZW5kKCB7fSwgb3B0aW9ucyApO1xuXHRcblx0XHR2YXIgLy8gRmxhZyB0byBrbm93IGlmIGxpc3QgaXMgY3VycmVudGx5IGZpcmluZ1xuXHRcdFx0ZmlyaW5nLFxuXHRcblx0XHRcdC8vIExhc3QgZmlyZSB2YWx1ZSBmb3Igbm9uLWZvcmdldHRhYmxlIGxpc3RzXG5cdFx0XHRtZW1vcnksXG5cdFxuXHRcdFx0Ly8gRmxhZyB0byBrbm93IGlmIGxpc3Qgd2FzIGFscmVhZHkgZmlyZWRcblx0XHRcdGZpcmVkLFxuXHRcblx0XHRcdC8vIEZsYWcgdG8gcHJldmVudCBmaXJpbmdcblx0XHRcdGxvY2tlZCxcblx0XG5cdFx0XHQvLyBBY3R1YWwgY2FsbGJhY2sgbGlzdFxuXHRcdFx0bGlzdCA9IFtdLFxuXHRcblx0XHRcdC8vIFF1ZXVlIG9mIGV4ZWN1dGlvbiBkYXRhIGZvciByZXBlYXRhYmxlIGxpc3RzXG5cdFx0XHRxdWV1ZSA9IFtdLFxuXHRcblx0XHRcdC8vIEluZGV4IG9mIGN1cnJlbnRseSBmaXJpbmcgY2FsbGJhY2sgKG1vZGlmaWVkIGJ5IGFkZC9yZW1vdmUgYXMgbmVlZGVkKVxuXHRcdFx0ZmlyaW5nSW5kZXggPSAtMSxcblx0XG5cdFx0XHQvLyBGaXJlIGNhbGxiYWNrc1xuXHRcdFx0ZmlyZSA9IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0Ly8gRW5mb3JjZSBzaW5nbGUtZmlyaW5nXG5cdFx0XHRcdGxvY2tlZCA9IG9wdGlvbnMub25jZTtcblx0XG5cdFx0XHRcdC8vIEV4ZWN1dGUgY2FsbGJhY2tzIGZvciBhbGwgcGVuZGluZyBleGVjdXRpb25zLFxuXHRcdFx0XHQvLyByZXNwZWN0aW5nIGZpcmluZ0luZGV4IG92ZXJyaWRlcyBhbmQgcnVudGltZSBjaGFuZ2VzXG5cdFx0XHRcdGZpcmVkID0gZmlyaW5nID0gdHJ1ZTtcblx0XHRcdFx0Zm9yICggOyBxdWV1ZS5sZW5ndGg7IGZpcmluZ0luZGV4ID0gLTEgKSB7XG5cdFx0XHRcdFx0bWVtb3J5ID0gcXVldWUuc2hpZnQoKTtcblx0XHRcdFx0XHR3aGlsZSAoICsrZmlyaW5nSW5kZXggPCBsaXN0Lmxlbmd0aCApIHtcblx0XG5cdFx0XHRcdFx0XHQvLyBSdW4gY2FsbGJhY2sgYW5kIGNoZWNrIGZvciBlYXJseSB0ZXJtaW5hdGlvblxuXHRcdFx0XHRcdFx0aWYgKCBsaXN0WyBmaXJpbmdJbmRleCBdLmFwcGx5KCBtZW1vcnlbIDAgXSwgbWVtb3J5WyAxIF0gKSA9PT0gZmFsc2UgJiZcblx0XHRcdFx0XHRcdFx0b3B0aW9ucy5zdG9wT25GYWxzZSApIHtcblx0XG5cdFx0XHRcdFx0XHRcdC8vIEp1bXAgdG8gZW5kIGFuZCBmb3JnZXQgdGhlIGRhdGEgc28gLmFkZCBkb2Vzbid0IHJlLWZpcmVcblx0XHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aDtcblx0XHRcdFx0XHRcdFx0bWVtb3J5ID0gZmFsc2U7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBGb3JnZXQgdGhlIGRhdGEgaWYgd2UncmUgZG9uZSB3aXRoIGl0XG5cdFx0XHRcdGlmICggIW9wdGlvbnMubWVtb3J5ICkge1xuXHRcdFx0XHRcdG1lbW9yeSA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRmaXJpbmcgPSBmYWxzZTtcblx0XG5cdFx0XHRcdC8vIENsZWFuIHVwIGlmIHdlJ3JlIGRvbmUgZmlyaW5nIGZvciBnb29kXG5cdFx0XHRcdGlmICggbG9ja2VkICkge1xuXHRcblx0XHRcdFx0XHQvLyBLZWVwIGFuIGVtcHR5IGxpc3QgaWYgd2UgaGF2ZSBkYXRhIGZvciBmdXR1cmUgYWRkIGNhbGxzXG5cdFx0XHRcdFx0aWYgKCBtZW1vcnkgKSB7XG5cdFx0XHRcdFx0XHRsaXN0ID0gW107XG5cdFxuXHRcdFx0XHRcdC8vIE90aGVyd2lzZSwgdGhpcyBvYmplY3QgaXMgc3BlbnRcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0bGlzdCA9IFwiXCI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcblx0XHRcdC8vIEFjdHVhbCBDYWxsYmFja3Mgb2JqZWN0XG5cdFx0XHRzZWxmID0ge1xuXHRcblx0XHRcdFx0Ly8gQWRkIGEgY2FsbGJhY2sgb3IgYSBjb2xsZWN0aW9uIG9mIGNhbGxiYWNrcyB0byB0aGUgbGlzdFxuXHRcdFx0XHRhZGQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggbGlzdCApIHtcblx0XG5cdFx0XHRcdFx0XHQvLyBJZiB3ZSBoYXZlIG1lbW9yeSBmcm9tIGEgcGFzdCBydW4sIHdlIHNob3VsZCBmaXJlIGFmdGVyIGFkZGluZ1xuXHRcdFx0XHRcdFx0aWYgKCBtZW1vcnkgJiYgIWZpcmluZyApIHtcblx0XHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aCAtIDE7XG5cdFx0XHRcdFx0XHRcdHF1ZXVlLnB1c2goIG1lbW9yeSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdCggZnVuY3Rpb24gYWRkKCBhcmdzICkge1xuXHRcdFx0XHRcdFx0XHRqUXVlcnkuZWFjaCggYXJncywgZnVuY3Rpb24oIF8sIGFyZyApIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBhcmcgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggIW9wdGlvbnMudW5pcXVlIHx8ICFzZWxmLmhhcyggYXJnICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGxpc3QucHVzaCggYXJnICk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmICggYXJnICYmIGFyZy5sZW5ndGggJiYgalF1ZXJ5LnR5cGUoIGFyZyApICE9PSBcInN0cmluZ1wiICkge1xuXHRcblx0XHRcdFx0XHRcdFx0XHRcdC8vIEluc3BlY3QgcmVjdXJzaXZlbHlcblx0XHRcdFx0XHRcdFx0XHRcdGFkZCggYXJnICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHR9ICkoIGFyZ3VtZW50cyApO1xuXHRcblx0XHRcdFx0XHRcdGlmICggbWVtb3J5ICYmICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRcdGZpcmUoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHQvLyBSZW1vdmUgYSBjYWxsYmFjayBmcm9tIHRoZSBsaXN0XG5cdFx0XHRcdHJlbW92ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmVhY2goIGFyZ3VtZW50cywgZnVuY3Rpb24oIF8sIGFyZyApIHtcblx0XHRcdFx0XHRcdHZhciBpbmRleDtcblx0XHRcdFx0XHRcdHdoaWxlICggKCBpbmRleCA9IGpRdWVyeS5pbkFycmF5KCBhcmcsIGxpc3QsIGluZGV4ICkgKSA+IC0xICkge1xuXHRcdFx0XHRcdFx0XHRsaXN0LnNwbGljZSggaW5kZXgsIDEgKTtcblx0XG5cdFx0XHRcdFx0XHRcdC8vIEhhbmRsZSBmaXJpbmcgaW5kZXhlc1xuXHRcdFx0XHRcdFx0XHRpZiAoIGluZGV4IDw9IGZpcmluZ0luZGV4ICkge1xuXHRcdFx0XHRcdFx0XHRcdGZpcmluZ0luZGV4LS07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHQvLyBDaGVjayBpZiBhIGdpdmVuIGNhbGxiYWNrIGlzIGluIHRoZSBsaXN0LlxuXHRcdFx0XHQvLyBJZiBubyBhcmd1bWVudCBpcyBnaXZlbiwgcmV0dXJuIHdoZXRoZXIgb3Igbm90IGxpc3QgaGFzIGNhbGxiYWNrcyBhdHRhY2hlZC5cblx0XHRcdFx0aGFzOiBmdW5jdGlvbiggZm4gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZuID9cblx0XHRcdFx0XHRcdGpRdWVyeS5pbkFycmF5KCBmbiwgbGlzdCApID4gLTEgOlxuXHRcdFx0XHRcdFx0bGlzdC5sZW5ndGggPiAwO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0Ly8gUmVtb3ZlIGFsbCBjYWxsYmFja3MgZnJvbSB0aGUgbGlzdFxuXHRcdFx0XHRlbXB0eTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCBsaXN0ICkge1xuXHRcdFx0XHRcdFx0bGlzdCA9IFtdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8vIERpc2FibGUgLmZpcmUgYW5kIC5hZGRcblx0XHRcdFx0Ly8gQWJvcnQgYW55IGN1cnJlbnQvcGVuZGluZyBleGVjdXRpb25zXG5cdFx0XHRcdC8vIENsZWFyIGFsbCBjYWxsYmFja3MgYW5kIHZhbHVlc1xuXHRcdFx0XHRkaXNhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRsb2NrZWQgPSBxdWV1ZSA9IFtdO1xuXHRcdFx0XHRcdGxpc3QgPSBtZW1vcnkgPSBcIlwiO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRkaXNhYmxlZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuICFsaXN0O1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0Ly8gRGlzYWJsZSAuZmlyZVxuXHRcdFx0XHQvLyBBbHNvIGRpc2FibGUgLmFkZCB1bmxlc3Mgd2UgaGF2ZSBtZW1vcnkgKHNpbmNlIGl0IHdvdWxkIGhhdmUgbm8gZWZmZWN0KVxuXHRcdFx0XHQvLyBBYm9ydCBhbnkgcGVuZGluZyBleGVjdXRpb25zXG5cdFx0XHRcdGxvY2s6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGxvY2tlZCA9IHF1ZXVlID0gW107XG5cdFx0XHRcdFx0aWYgKCAhbWVtb3J5ICYmICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRsaXN0ID0gbWVtb3J5ID0gXCJcIjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGxvY2tlZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuICEhbG9ja2VkO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0Ly8gQ2FsbCBhbGwgY2FsbGJhY2tzIHdpdGggdGhlIGdpdmVuIGNvbnRleHQgYW5kIGFyZ3VtZW50c1xuXHRcdFx0XHRmaXJlV2l0aDogZnVuY3Rpb24oIGNvbnRleHQsIGFyZ3MgKSB7XG5cdFx0XHRcdFx0aWYgKCAhbG9ja2VkICkge1xuXHRcdFx0XHRcdFx0YXJncyA9IGFyZ3MgfHwgW107XG5cdFx0XHRcdFx0XHRhcmdzID0gWyBjb250ZXh0LCBhcmdzLnNsaWNlID8gYXJncy5zbGljZSgpIDogYXJncyBdO1xuXHRcdFx0XHRcdFx0cXVldWUucHVzaCggYXJncyApO1xuXHRcdFx0XHRcdFx0aWYgKCAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0XHRmaXJlKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0Ly8gQ2FsbCBhbGwgdGhlIGNhbGxiYWNrcyB3aXRoIHRoZSBnaXZlbiBhcmd1bWVudHNcblx0XHRcdFx0ZmlyZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0c2VsZi5maXJlV2l0aCggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHQvLyBUbyBrbm93IGlmIHRoZSBjYWxsYmFja3MgaGF2ZSBhbHJlYWR5IGJlZW4gY2FsbGVkIGF0IGxlYXN0IG9uY2Vcblx0XHRcdFx0ZmlyZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiAhIWZpcmVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcblx0XHRyZXR1cm4gc2VsZjtcblx0fTtcblx0XG5cdFxuXHRmdW5jdGlvbiBJZGVudGl0eSggdiApIHtcblx0XHRyZXR1cm4gdjtcblx0fVxuXHRmdW5jdGlvbiBUaHJvd2VyKCBleCApIHtcblx0XHR0aHJvdyBleDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYWRvcHRWYWx1ZSggdmFsdWUsIHJlc29sdmUsIHJlamVjdCApIHtcblx0XHR2YXIgbWV0aG9kO1xuXHRcblx0XHR0cnkge1xuXHRcblx0XHRcdC8vIENoZWNrIGZvciBwcm9taXNlIGFzcGVjdCBmaXJzdCB0byBwcml2aWxlZ2Ugc3luY2hyb25vdXMgYmVoYXZpb3Jcblx0XHRcdGlmICggdmFsdWUgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oICggbWV0aG9kID0gdmFsdWUucHJvbWlzZSApICkgKSB7XG5cdFx0XHRcdG1ldGhvZC5jYWxsKCB2YWx1ZSApLmRvbmUoIHJlc29sdmUgKS5mYWlsKCByZWplY3QgKTtcblx0XG5cdFx0XHQvLyBPdGhlciB0aGVuYWJsZXNcblx0XHRcdH0gZWxzZSBpZiAoIHZhbHVlICYmIGpRdWVyeS5pc0Z1bmN0aW9uKCAoIG1ldGhvZCA9IHZhbHVlLnRoZW4gKSApICkge1xuXHRcdFx0XHRtZXRob2QuY2FsbCggdmFsdWUsIHJlc29sdmUsIHJlamVjdCApO1xuXHRcblx0XHRcdC8vIE90aGVyIG5vbi10aGVuYWJsZXNcblx0XHRcdH0gZWxzZSB7XG5cdFxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCBvbmx5XG5cdFx0XHRcdC8vIFN0cmljdCBtb2RlIGZ1bmN0aW9ucyBpbnZva2VkIHdpdGhvdXQgLmNhbGwvLmFwcGx5IGdldCBnbG9iYWwtb2JqZWN0IGNvbnRleHRcblx0XHRcdFx0cmVzb2x2ZS5jYWxsKCB1bmRlZmluZWQsIHZhbHVlICk7XG5cdFx0XHR9XG5cdFxuXHRcdC8vIEZvciBQcm9taXNlcy9BKywgY29udmVydCBleGNlcHRpb25zIGludG8gcmVqZWN0aW9uc1xuXHRcdC8vIFNpbmNlIGpRdWVyeS53aGVuIGRvZXNuJ3QgdW53cmFwIHRoZW5hYmxlcywgd2UgY2FuIHNraXAgdGhlIGV4dHJhIGNoZWNrcyBhcHBlYXJpbmcgaW5cblx0XHQvLyBEZWZlcnJlZCN0aGVuIHRvIGNvbmRpdGlvbmFsbHkgc3VwcHJlc3MgcmVqZWN0aW9uLlxuXHRcdH0gY2F0Y2ggKCB2YWx1ZSApIHtcblx0XG5cdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCBvbmx5XG5cdFx0XHQvLyBTdHJpY3QgbW9kZSBmdW5jdGlvbnMgaW52b2tlZCB3aXRob3V0IC5jYWxsLy5hcHBseSBnZXQgZ2xvYmFsLW9iamVjdCBjb250ZXh0XG5cdFx0XHRyZWplY3QuY2FsbCggdW5kZWZpbmVkLCB2YWx1ZSApO1xuXHRcdH1cblx0fVxuXHRcblx0alF1ZXJ5LmV4dGVuZCgge1xuXHRcblx0XHREZWZlcnJlZDogZnVuY3Rpb24oIGZ1bmMgKSB7XG5cdFx0XHR2YXIgdHVwbGVzID0gW1xuXHRcblx0XHRcdFx0XHQvLyBhY3Rpb24sIGFkZCBsaXN0ZW5lciwgY2FsbGJhY2tzLFxuXHRcdFx0XHRcdC8vIC4uLiAudGhlbiBoYW5kbGVycywgYXJndW1lbnQgaW5kZXgsIFtmaW5hbCBzdGF0ZV1cblx0XHRcdFx0XHRbIFwibm90aWZ5XCIsIFwicHJvZ3Jlc3NcIiwgalF1ZXJ5LkNhbGxiYWNrcyggXCJtZW1vcnlcIiApLFxuXHRcdFx0XHRcdFx0alF1ZXJ5LkNhbGxiYWNrcyggXCJtZW1vcnlcIiApLCAyIF0sXG5cdFx0XHRcdFx0WyBcInJlc29sdmVcIiwgXCJkb25lXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLFxuXHRcdFx0XHRcdFx0alF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksIDAsIFwicmVzb2x2ZWRcIiBdLFxuXHRcdFx0XHRcdFsgXCJyZWplY3RcIiwgXCJmYWlsXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLFxuXHRcdFx0XHRcdFx0alF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksIDEsIFwicmVqZWN0ZWRcIiBdXG5cdFx0XHRcdF0sXG5cdFx0XHRcdHN0YXRlID0gXCJwZW5kaW5nXCIsXG5cdFx0XHRcdHByb21pc2UgPSB7XG5cdFx0XHRcdFx0c3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHN0YXRlO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0YWx3YXlzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGRlZmVycmVkLmRvbmUoIGFyZ3VtZW50cyApLmZhaWwoIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcImNhdGNoXCI6IGZ1bmN0aW9uKCBmbiApIHtcblx0XHRcdFx0XHRcdHJldHVybiBwcm9taXNlLnRoZW4oIG51bGwsIGZuICk7XG5cdFx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdFx0Ly8gS2VlcCBwaXBlIGZvciBiYWNrLWNvbXBhdFxuXHRcdFx0XHRcdHBpcGU6IGZ1bmN0aW9uKCAvKiBmbkRvbmUsIGZuRmFpbCwgZm5Qcm9ncmVzcyAqLyApIHtcblx0XHRcdFx0XHRcdHZhciBmbnMgPSBhcmd1bWVudHM7XG5cdFxuXHRcdFx0XHRcdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZCggZnVuY3Rpb24oIG5ld0RlZmVyICkge1xuXHRcdFx0XHRcdFx0XHRqUXVlcnkuZWFjaCggdHVwbGVzLCBmdW5jdGlvbiggaSwgdHVwbGUgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdC8vIE1hcCB0dXBsZXMgKHByb2dyZXNzLCBkb25lLCBmYWlsKSB0byBhcmd1bWVudHMgKGRvbmUsIGZhaWwsIHByb2dyZXNzKVxuXHRcdFx0XHRcdFx0XHRcdHZhciBmbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCBmbnNbIHR1cGxlWyA0IF0gXSApICYmIGZuc1sgdHVwbGVbIDQgXSBdO1xuXHRcblx0XHRcdFx0XHRcdFx0XHQvLyBkZWZlcnJlZC5wcm9ncmVzcyhmdW5jdGlvbigpIHsgYmluZCB0byBuZXdEZWZlciBvciBuZXdEZWZlci5ub3RpZnkgfSlcblx0XHRcdFx0XHRcdFx0XHQvLyBkZWZlcnJlZC5kb25lKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLnJlc29sdmUgfSlcblx0XHRcdFx0XHRcdFx0XHQvLyBkZWZlcnJlZC5mYWlsKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLnJlamVjdCB9KVxuXHRcdFx0XHRcdFx0XHRcdGRlZmVycmVkWyB0dXBsZVsgMSBdIF0oIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHJldHVybmVkID0gZm4gJiYgZm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCByZXR1cm5lZCAmJiBqUXVlcnkuaXNGdW5jdGlvbiggcmV0dXJuZWQucHJvbWlzZSApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZC5wcm9taXNlKClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQucHJvZ3Jlc3MoIG5ld0RlZmVyLm5vdGlmeSApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0LmRvbmUoIG5ld0RlZmVyLnJlc29sdmUgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC5mYWlsKCBuZXdEZWZlci5yZWplY3QgKTtcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyWyB0dXBsZVsgMCBdICsgXCJXaXRoXCIgXShcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZuID8gWyByZXR1cm5lZCBdIDogYXJndW1lbnRzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdGZucyA9IG51bGw7XG5cdFx0XHRcdFx0XHR9ICkucHJvbWlzZSgpO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0dGhlbjogZnVuY3Rpb24oIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBvblByb2dyZXNzICkge1xuXHRcdFx0XHRcdFx0dmFyIG1heERlcHRoID0gMDtcblx0XHRcdFx0XHRcdGZ1bmN0aW9uIHJlc29sdmUoIGRlcHRoLCBkZWZlcnJlZCwgaGFuZGxlciwgc3BlY2lhbCApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdFx0XHRcdFx0XHRcdGFyZ3MgPSBhcmd1bWVudHMsXG5cdFx0XHRcdFx0XHRcdFx0XHRtaWdodFRocm93ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciByZXR1cm5lZCwgdGhlbjtcblx0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy4zXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTU5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIElnbm9yZSBkb3VibGUtcmVzb2x1dGlvbiBhdHRlbXB0c1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGRlcHRoIDwgbWF4RGVwdGggKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZCA9IGhhbmRsZXIuYXBwbHkoIHRoYXQsIGFyZ3MgKTtcblx0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjFcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNDhcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCByZXR1cm5lZCA9PT0gZGVmZXJyZWQucHJvbWlzZSgpICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoIFwiVGhlbmFibGUgc2VsZi1yZXNvbHV0aW9uXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbnMgMi4zLjMuMSwgMy41XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTU0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTc1XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFJldHJpZXZlIGB0aGVuYCBvbmx5IG9uY2Vcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhlbiA9IHJldHVybmVkICYmXG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC02NFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgY2hlY2sgb2JqZWN0cyBhbmQgZnVuY3Rpb25zIGZvciB0aGVuYWJpbGl0eVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCggdHlwZW9mIHJldHVybmVkID09PSBcIm9iamVjdFwiIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlb2YgcmV0dXJuZWQgPT09IFwiZnVuY3Rpb25cIiApICYmXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQudGhlbjtcblx0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIEhhbmRsZSBhIHJldHVybmVkIHRoZW5hYmxlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHRoZW4gKSApIHtcblx0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3BlY2lhbCBwcm9jZXNzb3JzIChub3RpZnkpIGp1c3Qgd2FpdCBmb3IgcmVzb2x1dGlvblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggc3BlY2lhbCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoZW4uY2FsbChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgSWRlbnRpdHksIHNwZWNpYWwgKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBUaHJvd2VyLCBzcGVjaWFsIClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE5vcm1hbCBwcm9jZXNzb3JzIChyZXNvbHZlKSBhbHNvIGhvb2sgaW50byBwcm9ncmVzc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gLi4uYW5kIGRpc3JlZ2FyZCBvbGRlciByZXNvbHV0aW9uIHZhbHVlc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWF4RGVwdGgrKztcblx0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGVuLmNhbGwoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LCBzcGVjaWFsICksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgVGhyb3dlciwgc3BlY2lhbCApLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGggKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBIYW5kbGUgYWxsIG90aGVyIHJldHVybmVkIHZhbHVlc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IHN1YnN0aXR1dGUgaGFuZGxlcnMgcGFzcyBvbiBjb250ZXh0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gYW5kIG11bHRpcGxlIHZhbHVlcyAobm9uLXNwZWMgYmVoYXZpb3IpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBoYW5kbGVyICE9PSBJZGVudGl0eSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoYXQgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcmdzID0gWyByZXR1cm5lZCBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gUHJvY2VzcyB0aGUgdmFsdWUocylcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBEZWZhdWx0IHByb2Nlc3MgaXMgcmVzb2x2ZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCggc3BlY2lhbCB8fCBkZWZlcnJlZC5yZXNvbHZlV2l0aCApKCB0aGF0LCBhcmdzICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBub3JtYWwgcHJvY2Vzc29ycyAocmVzb2x2ZSkgY2F0Y2ggYW5kIHJlamVjdCBleGNlcHRpb25zXG5cdFx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzID0gc3BlY2lhbCA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1pZ2h0VGhyb3cgOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWlnaHRUaHJvdygpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5LkRlZmVycmVkLmV4Y2VwdGlvbkhvb2sgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rKCBlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHByb2Nlc3Muc3RhY2tUcmFjZSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy40LjFcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTYxXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBJZ25vcmUgcG9zdC1yZXNvbHV0aW9uIGV4Y2VwdGlvbnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggZGVwdGggKyAxID49IG1heERlcHRoICkge1xuXHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBzdWJzdGl0dXRlIGhhbmRsZXJzIHBhc3Mgb24gY29udGV4dFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBhbmQgbXVsdGlwbGUgdmFsdWVzIChub24tc3BlYyBiZWhhdmlvcilcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBoYW5kbGVyICE9PSBUaHJvd2VyICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoYXQgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXJncyA9IFsgZSBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3RXaXRoKCB0aGF0LCBhcmdzICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcblx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuMVxuXHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTU3XG5cdFx0XHRcdFx0XHRcdFx0Ly8gUmUtcmVzb2x2ZSBwcm9taXNlcyBpbW1lZGlhdGVseSB0byBkb2RnZSBmYWxzZSByZWplY3Rpb24gZnJvbVxuXHRcdFx0XHRcdFx0XHRcdC8vIHN1YnNlcXVlbnQgZXJyb3JzXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBkZXB0aCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHByb2Nlc3MoKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcblx0XHRcdFx0XHRcdFx0XHRcdC8vIENhbGwgYW4gb3B0aW9uYWwgaG9vayB0byByZWNvcmQgdGhlIHN0YWNrLCBpbiBjYXNlIG9mIGV4Y2VwdGlvblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gc2luY2UgaXQncyBvdGhlcndpc2UgbG9zdCB3aGVuIGV4ZWN1dGlvbiBnb2VzIGFzeW5jXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5EZWZlcnJlZC5nZXRTdGFja0hvb2sgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHByb2Nlc3Muc3RhY2tUcmFjZSA9IGpRdWVyeS5EZWZlcnJlZC5nZXRTdGFja0hvb2soKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KCBwcm9jZXNzICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoIGZ1bmN0aW9uKCBuZXdEZWZlciApIHtcblx0XG5cdFx0XHRcdFx0XHRcdC8vIHByb2dyZXNzX2hhbmRsZXJzLmFkZCggLi4uIClcblx0XHRcdFx0XHRcdFx0dHVwbGVzWyAwIF1bIDMgXS5hZGQoXG5cdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0XHRcdDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlcixcblx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5pc0Z1bmN0aW9uKCBvblByb2dyZXNzICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRvblByb2dyZXNzIDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0SWRlbnRpdHksXG5cdFx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlci5ub3RpZnlXaXRoXG5cdFx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gZnVsZmlsbGVkX2hhbmRsZXJzLmFkZCggLi4uIClcblx0XHRcdFx0XHRcdFx0dHVwbGVzWyAxIF1bIDMgXS5hZGQoXG5cdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0XHRcdDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlcixcblx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5pc0Z1bmN0aW9uKCBvbkZ1bGZpbGxlZCApID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0b25GdWxmaWxsZWQgOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRJZGVudGl0eVxuXHRcdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdFx0KTtcblx0XG5cdFx0XHRcdFx0XHRcdC8vIHJlamVjdGVkX2hhbmRsZXJzLmFkZCggLi4uIClcblx0XHRcdFx0XHRcdFx0dHVwbGVzWyAyIF1bIDMgXS5hZGQoXG5cdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0XHRcdDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlcixcblx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5pc0Z1bmN0aW9uKCBvblJlamVjdGVkICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRvblJlamVjdGVkIDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0VGhyb3dlclxuXHRcdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdH0gKS5wcm9taXNlKCk7XG5cdFx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdFx0Ly8gR2V0IGEgcHJvbWlzZSBmb3IgdGhpcyBkZWZlcnJlZFxuXHRcdFx0XHRcdC8vIElmIG9iaiBpcyBwcm92aWRlZCwgdGhlIHByb21pc2UgYXNwZWN0IGlzIGFkZGVkIHRvIHRoZSBvYmplY3Rcblx0XHRcdFx0XHRwcm9taXNlOiBmdW5jdGlvbiggb2JqICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIG9iaiAhPSBudWxsID8galF1ZXJ5LmV4dGVuZCggb2JqLCBwcm9taXNlICkgOiBwcm9taXNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0ZGVmZXJyZWQgPSB7fTtcblx0XG5cdFx0XHQvLyBBZGQgbGlzdC1zcGVjaWZpYyBtZXRob2RzXG5cdFx0XHRqUXVlcnkuZWFjaCggdHVwbGVzLCBmdW5jdGlvbiggaSwgdHVwbGUgKSB7XG5cdFx0XHRcdHZhciBsaXN0ID0gdHVwbGVbIDIgXSxcblx0XHRcdFx0XHRzdGF0ZVN0cmluZyA9IHR1cGxlWyA1IF07XG5cdFxuXHRcdFx0XHQvLyBwcm9taXNlLnByb2dyZXNzID0gbGlzdC5hZGRcblx0XHRcdFx0Ly8gcHJvbWlzZS5kb25lID0gbGlzdC5hZGRcblx0XHRcdFx0Ly8gcHJvbWlzZS5mYWlsID0gbGlzdC5hZGRcblx0XHRcdFx0cHJvbWlzZVsgdHVwbGVbIDEgXSBdID0gbGlzdC5hZGQ7XG5cdFxuXHRcdFx0XHQvLyBIYW5kbGUgc3RhdGVcblx0XHRcdFx0aWYgKCBzdGF0ZVN0cmluZyApIHtcblx0XHRcdFx0XHRsaXN0LmFkZChcblx0XHRcdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gc3RhdGUgPSBcInJlc29sdmVkXCIgKGkuZS4sIGZ1bGZpbGxlZClcblx0XHRcdFx0XHRcdFx0Ly8gc3RhdGUgPSBcInJlamVjdGVkXCJcblx0XHRcdFx0XHRcdFx0c3RhdGUgPSBzdGF0ZVN0cmluZztcblx0XHRcdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHRcdFx0Ly8gcmVqZWN0ZWRfY2FsbGJhY2tzLmRpc2FibGVcblx0XHRcdFx0XHRcdC8vIGZ1bGZpbGxlZF9jYWxsYmFja3MuZGlzYWJsZVxuXHRcdFx0XHRcdFx0dHVwbGVzWyAzIC0gaSBdWyAyIF0uZGlzYWJsZSxcblx0XG5cdFx0XHRcdFx0XHQvLyBwcm9ncmVzc19jYWxsYmFja3MubG9ja1xuXHRcdFx0XHRcdFx0dHVwbGVzWyAwIF1bIDIgXS5sb2NrXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gcHJvZ3Jlc3NfaGFuZGxlcnMuZmlyZVxuXHRcdFx0XHQvLyBmdWxmaWxsZWRfaGFuZGxlcnMuZmlyZVxuXHRcdFx0XHQvLyByZWplY3RlZF9oYW5kbGVycy5maXJlXG5cdFx0XHRcdGxpc3QuYWRkKCB0dXBsZVsgMyBdLmZpcmUgKTtcblx0XG5cdFx0XHRcdC8vIGRlZmVycmVkLm5vdGlmeSA9IGZ1bmN0aW9uKCkgeyBkZWZlcnJlZC5ub3RpZnlXaXRoKC4uLikgfVxuXHRcdFx0XHQvLyBkZWZlcnJlZC5yZXNvbHZlID0gZnVuY3Rpb24oKSB7IGRlZmVycmVkLnJlc29sdmVXaXRoKC4uLikgfVxuXHRcdFx0XHQvLyBkZWZlcnJlZC5yZWplY3QgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQucmVqZWN0V2l0aCguLi4pIH1cblx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gXSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGRlZmVycmVkWyB0dXBsZVsgMCBdICsgXCJXaXRoXCIgXSggdGhpcyA9PT0gZGVmZXJyZWQgPyB1bmRlZmluZWQgOiB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fTtcblx0XG5cdFx0XHRcdC8vIGRlZmVycmVkLm5vdGlmeVdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHRcdC8vIGRlZmVycmVkLnJlc29sdmVXaXRoID0gbGlzdC5maXJlV2l0aFxuXHRcdFx0XHQvLyBkZWZlcnJlZC5yZWplY3RXaXRoID0gbGlzdC5maXJlV2l0aFxuXHRcdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDAgXSArIFwiV2l0aFwiIF0gPSBsaXN0LmZpcmVXaXRoO1xuXHRcdFx0fSApO1xuXHRcblx0XHRcdC8vIE1ha2UgdGhlIGRlZmVycmVkIGEgcHJvbWlzZVxuXHRcdFx0cHJvbWlzZS5wcm9taXNlKCBkZWZlcnJlZCApO1xuXHRcblx0XHRcdC8vIENhbGwgZ2l2ZW4gZnVuYyBpZiBhbnlcblx0XHRcdGlmICggZnVuYyApIHtcblx0XHRcdFx0ZnVuYy5jYWxsKCBkZWZlcnJlZCwgZGVmZXJyZWQgKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBBbGwgZG9uZSFcblx0XHRcdHJldHVybiBkZWZlcnJlZDtcblx0XHR9LFxuXHRcblx0XHQvLyBEZWZlcnJlZCBoZWxwZXJcblx0XHR3aGVuOiBmdW5jdGlvbiggc2luZ2xlVmFsdWUgKSB7XG5cdFx0XHR2YXJcblx0XG5cdFx0XHRcdC8vIGNvdW50IG9mIHVuY29tcGxldGVkIHN1Ym9yZGluYXRlc1xuXHRcdFx0XHRyZW1haW5pbmcgPSBhcmd1bWVudHMubGVuZ3RoLFxuXHRcblx0XHRcdFx0Ly8gY291bnQgb2YgdW5wcm9jZXNzZWQgYXJndW1lbnRzXG5cdFx0XHRcdGkgPSByZW1haW5pbmcsXG5cdFxuXHRcdFx0XHQvLyBzdWJvcmRpbmF0ZSBmdWxmaWxsbWVudCBkYXRhXG5cdFx0XHRcdHJlc29sdmVDb250ZXh0cyA9IEFycmF5KCBpICksXG5cdFx0XHRcdHJlc29sdmVWYWx1ZXMgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSxcblx0XG5cdFx0XHRcdC8vIHRoZSBtYXN0ZXIgRGVmZXJyZWRcblx0XHRcdFx0bWFzdGVyID0galF1ZXJ5LkRlZmVycmVkKCksXG5cdFxuXHRcdFx0XHQvLyBzdWJvcmRpbmF0ZSBjYWxsYmFjayBmYWN0b3J5XG5cdFx0XHRcdHVwZGF0ZUZ1bmMgPSBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRcdFx0cmVzb2x2ZUNvbnRleHRzWyBpIF0gPSB0aGlzO1xuXHRcdFx0XHRcdFx0cmVzb2x2ZVZhbHVlc1sgaSBdID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSA6IHZhbHVlO1xuXHRcdFx0XHRcdFx0aWYgKCAhKCAtLXJlbWFpbmluZyApICkge1xuXHRcdFx0XHRcdFx0XHRtYXN0ZXIucmVzb2x2ZVdpdGgoIHJlc29sdmVDb250ZXh0cywgcmVzb2x2ZVZhbHVlcyApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH07XG5cdFxuXHRcdFx0Ly8gU2luZ2xlLSBhbmQgZW1wdHkgYXJndW1lbnRzIGFyZSBhZG9wdGVkIGxpa2UgUHJvbWlzZS5yZXNvbHZlXG5cdFx0XHRpZiAoIHJlbWFpbmluZyA8PSAxICkge1xuXHRcdFx0XHRhZG9wdFZhbHVlKCBzaW5nbGVWYWx1ZSwgbWFzdGVyLmRvbmUoIHVwZGF0ZUZ1bmMoIGkgKSApLnJlc29sdmUsIG1hc3Rlci5yZWplY3QgKTtcblx0XG5cdFx0XHRcdC8vIFVzZSAudGhlbigpIHRvIHVud3JhcCBzZWNvbmRhcnkgdGhlbmFibGVzIChjZi4gZ2gtMzAwMClcblx0XHRcdFx0aWYgKCBtYXN0ZXIuc3RhdGUoKSA9PT0gXCJwZW5kaW5nXCIgfHxcblx0XHRcdFx0XHRqUXVlcnkuaXNGdW5jdGlvbiggcmVzb2x2ZVZhbHVlc1sgaSBdICYmIHJlc29sdmVWYWx1ZXNbIGkgXS50aGVuICkgKSB7XG5cdFxuXHRcdFx0XHRcdHJldHVybiBtYXN0ZXIudGhlbigpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gTXVsdGlwbGUgYXJndW1lbnRzIGFyZSBhZ2dyZWdhdGVkIGxpa2UgUHJvbWlzZS5hbGwgYXJyYXkgZWxlbWVudHNcblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRhZG9wdFZhbHVlKCByZXNvbHZlVmFsdWVzWyBpIF0sIHVwZGF0ZUZ1bmMoIGkgKSwgbWFzdGVyLnJlamVjdCApO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiBtYXN0ZXIucHJvbWlzZSgpO1xuXHRcdH1cblx0fSApO1xuXHRcblx0XG5cdC8vIFRoZXNlIHVzdWFsbHkgaW5kaWNhdGUgYSBwcm9ncmFtbWVyIG1pc3Rha2UgZHVyaW5nIGRldmVsb3BtZW50LFxuXHQvLyB3YXJuIGFib3V0IHRoZW0gQVNBUCByYXRoZXIgdGhhbiBzd2FsbG93aW5nIHRoZW0gYnkgZGVmYXVsdC5cblx0dmFyIHJlcnJvck5hbWVzID0gL14oRXZhbHxJbnRlcm5hbHxSYW5nZXxSZWZlcmVuY2V8U3ludGF4fFR5cGV8VVJJKUVycm9yJC87XG5cdFxuXHRqUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayA9IGZ1bmN0aW9uKCBlcnJvciwgc3RhY2sgKSB7XG5cdFxuXHRcdC8vIFN1cHBvcnQ6IElFIDggLSA5IG9ubHlcblx0XHQvLyBDb25zb2xlIGV4aXN0cyB3aGVuIGRldiB0b29scyBhcmUgb3Blbiwgd2hpY2ggY2FuIGhhcHBlbiBhdCBhbnkgdGltZVxuXHRcdGlmICggd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUud2FybiAmJiBlcnJvciAmJiByZXJyb3JOYW1lcy50ZXN0KCBlcnJvci5uYW1lICkgKSB7XG5cdFx0XHR3aW5kb3cuY29uc29sZS53YXJuKCBcImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246IFwiICsgZXJyb3IubWVzc2FnZSwgZXJyb3Iuc3RhY2ssIHN0YWNrICk7XG5cdFx0fVxuXHR9O1xuXHRcblx0XG5cdFxuXHRcblx0alF1ZXJ5LnJlYWR5RXhjZXB0aW9uID0gZnVuY3Rpb24oIGVycm9yICkge1xuXHRcdHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH0gKTtcblx0fTtcblx0XG5cdFxuXHRcblx0XG5cdC8vIFRoZSBkZWZlcnJlZCB1c2VkIG9uIERPTSByZWFkeVxuXHR2YXIgcmVhZHlMaXN0ID0galF1ZXJ5LkRlZmVycmVkKCk7XG5cdFxuXHRqUXVlcnkuZm4ucmVhZHkgPSBmdW5jdGlvbiggZm4gKSB7XG5cdFxuXHRcdHJlYWR5TGlzdFxuXHRcdFx0LnRoZW4oIGZuIClcblx0XG5cdFx0XHQvLyBXcmFwIGpRdWVyeS5yZWFkeUV4Y2VwdGlvbiBpbiBhIGZ1bmN0aW9uIHNvIHRoYXQgdGhlIGxvb2t1cFxuXHRcdFx0Ly8gaGFwcGVucyBhdCB0aGUgdGltZSBvZiBlcnJvciBoYW5kbGluZyBpbnN0ZWFkIG9mIGNhbGxiYWNrXG5cdFx0XHQvLyByZWdpc3RyYXRpb24uXG5cdFx0XHQuY2F0Y2goIGZ1bmN0aW9uKCBlcnJvciApIHtcblx0XHRcdFx0alF1ZXJ5LnJlYWR5RXhjZXB0aW9uKCBlcnJvciApO1xuXHRcdFx0fSApO1xuXHRcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblx0XG5cdGpRdWVyeS5leHRlbmQoIHtcblx0XG5cdFx0Ly8gSXMgdGhlIERPTSByZWFkeSB0byBiZSB1c2VkPyBTZXQgdG8gdHJ1ZSBvbmNlIGl0IG9jY3Vycy5cblx0XHRpc1JlYWR5OiBmYWxzZSxcblx0XG5cdFx0Ly8gQSBjb3VudGVyIHRvIHRyYWNrIGhvdyBtYW55IGl0ZW1zIHRvIHdhaXQgZm9yIGJlZm9yZVxuXHRcdC8vIHRoZSByZWFkeSBldmVudCBmaXJlcy4gU2VlICM2NzgxXG5cdFx0cmVhZHlXYWl0OiAxLFxuXHRcblx0XHQvLyBIb2xkIChvciByZWxlYXNlKSB0aGUgcmVhZHkgZXZlbnRcblx0XHRob2xkUmVhZHk6IGZ1bmN0aW9uKCBob2xkICkge1xuXHRcdFx0aWYgKCBob2xkICkge1xuXHRcdFx0XHRqUXVlcnkucmVhZHlXYWl0Kys7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRqUXVlcnkucmVhZHkoIHRydWUgKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHQvLyBIYW5kbGUgd2hlbiB0aGUgRE9NIGlzIHJlYWR5XG5cdFx0cmVhZHk6IGZ1bmN0aW9uKCB3YWl0ICkge1xuXHRcblx0XHRcdC8vIEFib3J0IGlmIHRoZXJlIGFyZSBwZW5kaW5nIGhvbGRzIG9yIHdlJ3JlIGFscmVhZHkgcmVhZHlcblx0XHRcdGlmICggd2FpdCA9PT0gdHJ1ZSA/IC0talF1ZXJ5LnJlYWR5V2FpdCA6IGpRdWVyeS5pc1JlYWR5ICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gUmVtZW1iZXIgdGhhdCB0aGUgRE9NIGlzIHJlYWR5XG5cdFx0XHRqUXVlcnkuaXNSZWFkeSA9IHRydWU7XG5cdFxuXHRcdFx0Ly8gSWYgYSBub3JtYWwgRE9NIFJlYWR5IGV2ZW50IGZpcmVkLCBkZWNyZW1lbnQsIGFuZCB3YWl0IGlmIG5lZWQgYmVcblx0XHRcdGlmICggd2FpdCAhPT0gdHJ1ZSAmJiAtLWpRdWVyeS5yZWFkeVdhaXQgPiAwICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gSWYgdGhlcmUgYXJlIGZ1bmN0aW9ucyBib3VuZCwgdG8gZXhlY3V0ZVxuXHRcdFx0cmVhZHlMaXN0LnJlc29sdmVXaXRoKCBkb2N1bWVudCwgWyBqUXVlcnkgXSApO1xuXHRcdH1cblx0fSApO1xuXHRcblx0alF1ZXJ5LnJlYWR5LnRoZW4gPSByZWFkeUxpc3QudGhlbjtcblx0XG5cdC8vIFRoZSByZWFkeSBldmVudCBoYW5kbGVyIGFuZCBzZWxmIGNsZWFudXAgbWV0aG9kXG5cdGZ1bmN0aW9uIGNvbXBsZXRlZCgpIHtcblx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCBcIkRPTUNvbnRlbnRMb2FkZWRcIiwgY29tcGxldGVkICk7XG5cdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwibG9hZFwiLCBjb21wbGV0ZWQgKTtcblx0XHRqUXVlcnkucmVhZHkoKTtcblx0fVxuXHRcblx0Ly8gQ2F0Y2ggY2FzZXMgd2hlcmUgJChkb2N1bWVudCkucmVhZHkoKSBpcyBjYWxsZWRcblx0Ly8gYWZ0ZXIgdGhlIGJyb3dzZXIgZXZlbnQgaGFzIGFscmVhZHkgb2NjdXJyZWQuXG5cdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDEwIG9ubHlcblx0Ly8gT2xkZXIgSUUgc29tZXRpbWVzIHNpZ25hbHMgXCJpbnRlcmFjdGl2ZVwiIHRvbyBzb29uXG5cdGlmICggZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiIHx8XG5cdFx0KCBkb2N1bWVudC5yZWFkeVN0YXRlICE9PSBcImxvYWRpbmdcIiAmJiAhZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsICkgKSB7XG5cdFxuXHRcdC8vIEhhbmRsZSBpdCBhc3luY2hyb25vdXNseSB0byBhbGxvdyBzY3JpcHRzIHRoZSBvcHBvcnR1bml0eSB0byBkZWxheSByZWFkeVxuXHRcdHdpbmRvdy5zZXRUaW1lb3V0KCBqUXVlcnkucmVhZHkgKTtcblx0XG5cdH0gZWxzZSB7XG5cdFxuXHRcdC8vIFVzZSB0aGUgaGFuZHkgZXZlbnQgY2FsbGJhY2tcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCBcIkRPTUNvbnRlbnRMb2FkZWRcIiwgY29tcGxldGVkICk7XG5cdFxuXHRcdC8vIEEgZmFsbGJhY2sgdG8gd2luZG93Lm9ubG9hZCwgdGhhdCB3aWxsIGFsd2F5cyB3b3JrXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIFwibG9hZFwiLCBjb21wbGV0ZWQgKTtcblx0fVxuXHRcblx0XG5cdFxuXHRcblx0Ly8gTXVsdGlmdW5jdGlvbmFsIG1ldGhvZCB0byBnZXQgYW5kIHNldCB2YWx1ZXMgb2YgYSBjb2xsZWN0aW9uXG5cdC8vIFRoZSB2YWx1ZS9zIGNhbiBvcHRpb25hbGx5IGJlIGV4ZWN1dGVkIGlmIGl0J3MgYSBmdW5jdGlvblxuXHR2YXIgYWNjZXNzID0gZnVuY3Rpb24oIGVsZW1zLCBmbiwga2V5LCB2YWx1ZSwgY2hhaW5hYmxlLCBlbXB0eUdldCwgcmF3ICkge1xuXHRcdHZhciBpID0gMCxcblx0XHRcdGxlbiA9IGVsZW1zLmxlbmd0aCxcblx0XHRcdGJ1bGsgPSBrZXkgPT0gbnVsbDtcblx0XG5cdFx0Ly8gU2V0cyBtYW55IHZhbHVlc1xuXHRcdGlmICggalF1ZXJ5LnR5cGUoIGtleSApID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0Y2hhaW5hYmxlID0gdHJ1ZTtcblx0XHRcdGZvciAoIGkgaW4ga2V5ICkge1xuXHRcdFx0XHRhY2Nlc3MoIGVsZW1zLCBmbiwgaSwga2V5WyBpIF0sIHRydWUsIGVtcHR5R2V0LCByYXcgKTtcblx0XHRcdH1cblx0XG5cdFx0Ly8gU2V0cyBvbmUgdmFsdWVcblx0XHR9IGVsc2UgaWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0Y2hhaW5hYmxlID0gdHJ1ZTtcblx0XG5cdFx0XHRpZiAoICFqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdFx0cmF3ID0gdHJ1ZTtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIGJ1bGsgKSB7XG5cdFxuXHRcdFx0XHQvLyBCdWxrIG9wZXJhdGlvbnMgcnVuIGFnYWluc3QgdGhlIGVudGlyZSBzZXRcblx0XHRcdFx0aWYgKCByYXcgKSB7XG5cdFx0XHRcdFx0Zm4uY2FsbCggZWxlbXMsIHZhbHVlICk7XG5cdFx0XHRcdFx0Zm4gPSBudWxsO1xuXHRcblx0XHRcdFx0Ly8gLi4uZXhjZXB0IHdoZW4gZXhlY3V0aW5nIGZ1bmN0aW9uIHZhbHVlc1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGJ1bGsgPSBmbjtcblx0XHRcdFx0XHRmbiA9IGZ1bmN0aW9uKCBlbGVtLCBrZXksIHZhbHVlICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGJ1bGsuY2FsbCggalF1ZXJ5KCBlbGVtICksIHZhbHVlICk7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggZm4gKSB7XG5cdFx0XHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0XHRcdGZuKFxuXHRcdFx0XHRcdFx0ZWxlbXNbIGkgXSwga2V5LCByYXcgP1xuXHRcdFx0XHRcdFx0dmFsdWUgOlxuXHRcdFx0XHRcdFx0dmFsdWUuY2FsbCggZWxlbXNbIGkgXSwgaSwgZm4oIGVsZW1zWyBpIF0sIGtleSApIClcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gY2hhaW5hYmxlID9cblx0XHRcdGVsZW1zIDpcblx0XG5cdFx0XHQvLyBHZXRzXG5cdFx0XHRidWxrID9cblx0XHRcdFx0Zm4uY2FsbCggZWxlbXMgKSA6XG5cdFx0XHRcdGxlbiA/IGZuKCBlbGVtc1sgMCBdLCBrZXkgKSA6IGVtcHR5R2V0O1xuXHR9O1xuXHR2YXIgYWNjZXB0RGF0YSA9IGZ1bmN0aW9uKCBvd25lciApIHtcblx0XG5cdFx0Ly8gQWNjZXB0cyBvbmx5OlxuXHRcdC8vICAtIE5vZGVcblx0XHQvLyAgICAtIE5vZGUuRUxFTUVOVF9OT0RFXG5cdFx0Ly8gICAgLSBOb2RlLkRPQ1VNRU5UX05PREVcblx0XHQvLyAgLSBPYmplY3Rcblx0XHQvLyAgICAtIEFueVxuXHRcdHJldHVybiBvd25lci5ub2RlVHlwZSA9PT0gMSB8fCBvd25lci5ub2RlVHlwZSA9PT0gOSB8fCAhKCArb3duZXIubm9kZVR5cGUgKTtcblx0fTtcblx0XG5cdFxuXHRcblx0XG5cdGZ1bmN0aW9uIERhdGEoKSB7XG5cdFx0dGhpcy5leHBhbmRvID0galF1ZXJ5LmV4cGFuZG8gKyBEYXRhLnVpZCsrO1xuXHR9XG5cdFxuXHREYXRhLnVpZCA9IDE7XG5cdFxuXHREYXRhLnByb3RvdHlwZSA9IHtcblx0XG5cdFx0Y2FjaGU6IGZ1bmN0aW9uKCBvd25lciApIHtcblx0XG5cdFx0XHQvLyBDaGVjayBpZiB0aGUgb3duZXIgb2JqZWN0IGFscmVhZHkgaGFzIGEgY2FjaGVcblx0XHRcdHZhciB2YWx1ZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblx0XG5cdFx0XHQvLyBJZiBub3QsIGNyZWF0ZSBvbmVcblx0XHRcdGlmICggIXZhbHVlICkge1xuXHRcdFx0XHR2YWx1ZSA9IHt9O1xuXHRcblx0XHRcdFx0Ly8gV2UgY2FuIGFjY2VwdCBkYXRhIGZvciBub24tZWxlbWVudCBub2RlcyBpbiBtb2Rlcm4gYnJvd3NlcnMsXG5cdFx0XHRcdC8vIGJ1dCB3ZSBzaG91bGQgbm90LCBzZWUgIzgzMzUuXG5cdFx0XHRcdC8vIEFsd2F5cyByZXR1cm4gYW4gZW1wdHkgb2JqZWN0LlxuXHRcdFx0XHRpZiAoIGFjY2VwdERhdGEoIG93bmVyICkgKSB7XG5cdFxuXHRcdFx0XHRcdC8vIElmIGl0IGlzIGEgbm9kZSB1bmxpa2VseSB0byBiZSBzdHJpbmdpZnktZWQgb3IgbG9vcGVkIG92ZXJcblx0XHRcdFx0XHQvLyB1c2UgcGxhaW4gYXNzaWdubWVudFxuXHRcdFx0XHRcdGlmICggb3duZXIubm9kZVR5cGUgKSB7XG5cdFx0XHRcdFx0XHRvd25lclsgdGhpcy5leHBhbmRvIF0gPSB2YWx1ZTtcblx0XG5cdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlIHNlY3VyZSBpdCBpbiBhIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5XG5cdFx0XHRcdFx0Ly8gY29uZmlndXJhYmxlIG11c3QgYmUgdHJ1ZSB0byBhbGxvdyB0aGUgcHJvcGVydHkgdG8gYmVcblx0XHRcdFx0XHQvLyBkZWxldGVkIHdoZW4gZGF0YSBpcyByZW1vdmVkXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSggb3duZXIsIHRoaXMuZXhwYW5kbywge1xuXHRcdFx0XHRcdFx0XHR2YWx1ZTogdmFsdWUsXG5cdFx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9LFxuXHRcdHNldDogZnVuY3Rpb24oIG93bmVyLCBkYXRhLCB2YWx1ZSApIHtcblx0XHRcdHZhciBwcm9wLFxuXHRcdFx0XHRjYWNoZSA9IHRoaXMuY2FjaGUoIG93bmVyICk7XG5cdFxuXHRcdFx0Ly8gSGFuZGxlOiBbIG93bmVyLCBrZXksIHZhbHVlIF0gYXJnc1xuXHRcdFx0Ly8gQWx3YXlzIHVzZSBjYW1lbENhc2Uga2V5IChnaC0yMjU3KVxuXHRcdFx0aWYgKCB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0Y2FjaGVbIGpRdWVyeS5jYW1lbENhc2UoIGRhdGEgKSBdID0gdmFsdWU7XG5cdFxuXHRcdFx0Ly8gSGFuZGxlOiBbIG93bmVyLCB7IHByb3BlcnRpZXMgfSBdIGFyZ3Ncblx0XHRcdH0gZWxzZSB7XG5cdFxuXHRcdFx0XHQvLyBDb3B5IHRoZSBwcm9wZXJ0aWVzIG9uZS1ieS1vbmUgdG8gdGhlIGNhY2hlIG9iamVjdFxuXHRcdFx0XHRmb3IgKCBwcm9wIGluIGRhdGEgKSB7XG5cdFx0XHRcdFx0Y2FjaGVbIGpRdWVyeS5jYW1lbENhc2UoIHByb3AgKSBdID0gZGF0YVsgcHJvcCBdO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gY2FjaGU7XG5cdFx0fSxcblx0XHRnZXQ6IGZ1bmN0aW9uKCBvd25lciwga2V5ICkge1xuXHRcdFx0cmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkID9cblx0XHRcdFx0dGhpcy5jYWNoZSggb3duZXIgKSA6XG5cdFxuXHRcdFx0XHQvLyBBbHdheXMgdXNlIGNhbWVsQ2FzZSBrZXkgKGdoLTIyNTcpXG5cdFx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSAmJiBvd25lclsgdGhpcy5leHBhbmRvIF1bIGpRdWVyeS5jYW1lbENhc2UoIGtleSApIF07XG5cdFx0fSxcblx0XHRhY2Nlc3M6IGZ1bmN0aW9uKCBvd25lciwga2V5LCB2YWx1ZSApIHtcblx0XG5cdFx0XHQvLyBJbiBjYXNlcyB3aGVyZSBlaXRoZXI6XG5cdFx0XHQvL1xuXHRcdFx0Ly8gICAxLiBObyBrZXkgd2FzIHNwZWNpZmllZFxuXHRcdFx0Ly8gICAyLiBBIHN0cmluZyBrZXkgd2FzIHNwZWNpZmllZCwgYnV0IG5vIHZhbHVlIHByb3ZpZGVkXG5cdFx0XHQvL1xuXHRcdFx0Ly8gVGFrZSB0aGUgXCJyZWFkXCIgcGF0aCBhbmQgYWxsb3cgdGhlIGdldCBtZXRob2QgdG8gZGV0ZXJtaW5lXG5cdFx0XHQvLyB3aGljaCB2YWx1ZSB0byByZXR1cm4sIHJlc3BlY3RpdmVseSBlaXRoZXI6XG5cdFx0XHQvL1xuXHRcdFx0Ly8gICAxLiBUaGUgZW50aXJlIGNhY2hlIG9iamVjdFxuXHRcdFx0Ly8gICAyLiBUaGUgZGF0YSBzdG9yZWQgYXQgdGhlIGtleVxuXHRcdFx0Ly9cblx0XHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgfHxcblx0XHRcdFx0XHQoICgga2V5ICYmIHR5cGVvZiBrZXkgPT09IFwic3RyaW5nXCIgKSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkICkgKSB7XG5cdFxuXHRcdFx0XHRyZXR1cm4gdGhpcy5nZXQoIG93bmVyLCBrZXkgKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBXaGVuIHRoZSBrZXkgaXMgbm90IGEgc3RyaW5nLCBvciBib3RoIGEga2V5IGFuZCB2YWx1ZVxuXHRcdFx0Ly8gYXJlIHNwZWNpZmllZCwgc2V0IG9yIGV4dGVuZCAoZXhpc3Rpbmcgb2JqZWN0cykgd2l0aCBlaXRoZXI6XG5cdFx0XHQvL1xuXHRcdFx0Ly8gICAxLiBBbiBvYmplY3Qgb2YgcHJvcGVydGllc1xuXHRcdFx0Ly8gICAyLiBBIGtleSBhbmQgdmFsdWVcblx0XHRcdC8vXG5cdFx0XHR0aGlzLnNldCggb3duZXIsIGtleSwgdmFsdWUgKTtcblx0XG5cdFx0XHQvLyBTaW5jZSB0aGUgXCJzZXRcIiBwYXRoIGNhbiBoYXZlIHR3byBwb3NzaWJsZSBlbnRyeSBwb2ludHNcblx0XHRcdC8vIHJldHVybiB0aGUgZXhwZWN0ZWQgZGF0YSBiYXNlZCBvbiB3aGljaCBwYXRoIHdhcyB0YWtlblsqXVxuXHRcdFx0cmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IGtleTtcblx0XHR9LFxuXHRcdHJlbW92ZTogZnVuY3Rpb24oIG93bmVyLCBrZXkgKSB7XG5cdFx0XHR2YXIgaSxcblx0XHRcdFx0Y2FjaGUgPSBvd25lclsgdGhpcy5leHBhbmRvIF07XG5cdFxuXHRcdFx0aWYgKCBjYWNoZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCBrZXkgIT09IHVuZGVmaW5lZCApIHtcblx0XG5cdFx0XHRcdC8vIFN1cHBvcnQgYXJyYXkgb3Igc3BhY2Ugc2VwYXJhdGVkIHN0cmluZyBvZiBrZXlzXG5cdFx0XHRcdGlmICggalF1ZXJ5LmlzQXJyYXkoIGtleSApICkge1xuXHRcblx0XHRcdFx0XHQvLyBJZiBrZXkgaXMgYW4gYXJyYXkgb2Yga2V5cy4uLlxuXHRcdFx0XHRcdC8vIFdlIGFsd2F5cyBzZXQgY2FtZWxDYXNlIGtleXMsIHNvIHJlbW92ZSB0aGF0LlxuXHRcdFx0XHRcdGtleSA9IGtleS5tYXAoIGpRdWVyeS5jYW1lbENhc2UgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRrZXkgPSBqUXVlcnkuY2FtZWxDYXNlKCBrZXkgKTtcblx0XG5cdFx0XHRcdFx0Ly8gSWYgYSBrZXkgd2l0aCB0aGUgc3BhY2VzIGV4aXN0cywgdXNlIGl0LlxuXHRcdFx0XHRcdC8vIE90aGVyd2lzZSwgY3JlYXRlIGFuIGFycmF5IGJ5IG1hdGNoaW5nIG5vbi13aGl0ZXNwYWNlXG5cdFx0XHRcdFx0a2V5ID0ga2V5IGluIGNhY2hlID9cblx0XHRcdFx0XHRcdFsga2V5IF0gOlxuXHRcdFx0XHRcdFx0KCBrZXkubWF0Y2goIHJub3R3aGl0ZSApIHx8IFtdICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGkgPSBrZXkubGVuZ3RoO1xuXHRcblx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0ZGVsZXRlIGNhY2hlWyBrZXlbIGkgXSBdO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gUmVtb3ZlIHRoZSBleHBhbmRvIGlmIHRoZXJlJ3Mgbm8gbW9yZSBkYXRhXG5cdFx0XHRpZiAoIGtleSA9PT0gdW5kZWZpbmVkIHx8IGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBjYWNoZSApICkge1xuXHRcblx0XHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NVxuXHRcdFx0XHQvLyBXZWJraXQgJiBCbGluayBwZXJmb3JtYW5jZSBzdWZmZXJzIHdoZW4gZGVsZXRpbmcgcHJvcGVydGllc1xuXHRcdFx0XHQvLyBmcm9tIERPTSBub2Rlcywgc28gc2V0IHRvIHVuZGVmaW5lZCBpbnN0ZWFkXG5cdFx0XHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTM3ODYwNyAoYnVnIHJlc3RyaWN0ZWQpXG5cdFx0XHRcdGlmICggb3duZXIubm9kZVR5cGUgKSB7XG5cdFx0XHRcdFx0b3duZXJbIHRoaXMuZXhwYW5kbyBdID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRlbGV0ZSBvd25lclsgdGhpcy5leHBhbmRvIF07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdGhhc0RhdGE6IGZ1bmN0aW9uKCBvd25lciApIHtcblx0XHRcdHZhciBjYWNoZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblx0XHRcdHJldHVybiBjYWNoZSAhPT0gdW5kZWZpbmVkICYmICFqUXVlcnkuaXNFbXB0eU9iamVjdCggY2FjaGUgKTtcblx0XHR9XG5cdH07XG5cdHZhciBkYXRhUHJpdiA9IG5ldyBEYXRhKCk7XG5cdFxuXHR2YXIgZGF0YVVzZXIgPSBuZXcgRGF0YSgpO1xuXHRcblx0XG5cdFxuXHQvL1x0SW1wbGVtZW50YXRpb24gU3VtbWFyeVxuXHQvL1xuXHQvL1x0MS4gRW5mb3JjZSBBUEkgc3VyZmFjZSBhbmQgc2VtYW50aWMgY29tcGF0aWJpbGl0eSB3aXRoIDEuOS54IGJyYW5jaFxuXHQvL1x0Mi4gSW1wcm92ZSB0aGUgbW9kdWxlJ3MgbWFpbnRhaW5hYmlsaXR5IGJ5IHJlZHVjaW5nIHRoZSBzdG9yYWdlXG5cdC8vXHRcdHBhdGhzIHRvIGEgc2luZ2xlIG1lY2hhbmlzbS5cblx0Ly9cdDMuIFVzZSB0aGUgc2FtZSBzaW5nbGUgbWVjaGFuaXNtIHRvIHN1cHBvcnQgXCJwcml2YXRlXCIgYW5kIFwidXNlclwiIGRhdGEuXG5cdC8vXHQ0LiBfTmV2ZXJfIGV4cG9zZSBcInByaXZhdGVcIiBkYXRhIHRvIHVzZXIgY29kZSAoVE9ETzogRHJvcCBfZGF0YSwgX3JlbW92ZURhdGEpXG5cdC8vXHQ1LiBBdm9pZCBleHBvc2luZyBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzIG9uIHVzZXIgb2JqZWN0cyAoZWcuIGV4cGFuZG8gcHJvcGVydGllcylcblx0Ly9cdDYuIFByb3ZpZGUgYSBjbGVhciBwYXRoIGZvciBpbXBsZW1lbnRhdGlvbiB1cGdyYWRlIHRvIFdlYWtNYXAgaW4gMjAxNFxuXHRcblx0dmFyIHJicmFjZSA9IC9eKD86XFx7W1xcd1xcV10qXFx9fFxcW1tcXHdcXFddKlxcXSkkLyxcblx0XHRybXVsdGlEYXNoID0gL1tBLVpdL2c7XG5cdFxuXHRmdW5jdGlvbiBkYXRhQXR0ciggZWxlbSwga2V5LCBkYXRhICkge1xuXHRcdHZhciBuYW1lO1xuXHRcblx0XHQvLyBJZiBub3RoaW5nIHdhcyBmb3VuZCBpbnRlcm5hbGx5LCB0cnkgdG8gZmV0Y2ggYW55XG5cdFx0Ly8gZGF0YSBmcm9tIHRoZSBIVE1MNSBkYXRhLSogYXR0cmlidXRlXG5cdFx0aWYgKCBkYXRhID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdG5hbWUgPSBcImRhdGEtXCIgKyBrZXkucmVwbGFjZSggcm11bHRpRGFzaCwgXCItJCZcIiApLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRkYXRhID0gZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUgKTtcblx0XG5cdFx0XHRpZiAoIHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGRhdGEgPSBkYXRhID09PSBcInRydWVcIiA/IHRydWUgOlxuXHRcdFx0XHRcdFx0ZGF0YSA9PT0gXCJmYWxzZVwiID8gZmFsc2UgOlxuXHRcdFx0XHRcdFx0ZGF0YSA9PT0gXCJudWxsXCIgPyBudWxsIDpcblx0XG5cdFx0XHRcdFx0XHQvLyBPbmx5IGNvbnZlcnQgdG8gYSBudW1iZXIgaWYgaXQgZG9lc24ndCBjaGFuZ2UgdGhlIHN0cmluZ1xuXHRcdFx0XHRcdFx0K2RhdGEgKyBcIlwiID09PSBkYXRhID8gK2RhdGEgOlxuXHRcdFx0XHRcdFx0cmJyYWNlLnRlc3QoIGRhdGEgKSA/IEpTT04ucGFyc2UoIGRhdGEgKSA6XG5cdFx0XHRcdFx0XHRkYXRhO1xuXHRcdFx0XHR9IGNhdGNoICggZSApIHt9XG5cdFxuXHRcdFx0XHQvLyBNYWtlIHN1cmUgd2Ugc2V0IHRoZSBkYXRhIHNvIGl0IGlzbid0IGNoYW5nZWQgbGF0ZXJcblx0XHRcdFx0ZGF0YVVzZXIuc2V0KCBlbGVtLCBrZXksIGRhdGEgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRhdGEgPSB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBkYXRhO1xuXHR9XG5cdFxuXHRqUXVlcnkuZXh0ZW5kKCB7XG5cdFx0aGFzRGF0YTogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZGF0YVVzZXIuaGFzRGF0YSggZWxlbSApIHx8IGRhdGFQcml2Lmhhc0RhdGEoIGVsZW0gKTtcblx0XHR9LFxuXHRcblx0XHRkYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHtcblx0XHRcdHJldHVybiBkYXRhVXNlci5hY2Nlc3MoIGVsZW0sIG5hbWUsIGRhdGEgKTtcblx0XHR9LFxuXHRcblx0XHRyZW1vdmVEYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcblx0XHRcdGRhdGFVc2VyLnJlbW92ZSggZWxlbSwgbmFtZSApO1xuXHRcdH0sXG5cdFxuXHRcdC8vIFRPRE86IE5vdyB0aGF0IGFsbCBjYWxscyB0byBfZGF0YSBhbmQgX3JlbW92ZURhdGEgaGF2ZSBiZWVuIHJlcGxhY2VkXG5cdFx0Ly8gd2l0aCBkaXJlY3QgY2FsbHMgdG8gZGF0YVByaXYgbWV0aG9kcywgdGhlc2UgY2FuIGJlIGRlcHJlY2F0ZWQuXG5cdFx0X2RhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBkYXRhICkge1xuXHRcdFx0cmV0dXJuIGRhdGFQcml2LmFjY2VzcyggZWxlbSwgbmFtZSwgZGF0YSApO1xuXHRcdH0sXG5cdFxuXHRcdF9yZW1vdmVEYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcblx0XHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgbmFtZSApO1xuXHRcdH1cblx0fSApO1xuXHRcblx0alF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRcdGRhdGE6IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdFx0dmFyIGksIG5hbWUsIGRhdGEsXG5cdFx0XHRcdGVsZW0gPSB0aGlzWyAwIF0sXG5cdFx0XHRcdGF0dHJzID0gZWxlbSAmJiBlbGVtLmF0dHJpYnV0ZXM7XG5cdFxuXHRcdFx0Ly8gR2V0cyBhbGwgdmFsdWVzXG5cdFx0XHRpZiAoIGtleSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRpZiAoIHRoaXMubGVuZ3RoICkge1xuXHRcdFx0XHRcdGRhdGEgPSBkYXRhVXNlci5nZXQoIGVsZW0gKTtcblx0XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmICFkYXRhUHJpdi5nZXQoIGVsZW0sIFwiaGFzRGF0YUF0dHJzXCIgKSApIHtcblx0XHRcdFx0XHRcdGkgPSBhdHRycy5sZW5ndGg7XG5cdFx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XG5cdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDExIG9ubHlcblx0XHRcdFx0XHRcdFx0Ly8gVGhlIGF0dHJzIGVsZW1lbnRzIGNhbiBiZSBudWxsICgjMTQ4OTQpXG5cdFx0XHRcdFx0XHRcdGlmICggYXR0cnNbIGkgXSApIHtcblx0XHRcdFx0XHRcdFx0XHRuYW1lID0gYXR0cnNbIGkgXS5uYW1lO1xuXHRcdFx0XHRcdFx0XHRcdGlmICggbmFtZS5pbmRleE9mKCBcImRhdGEtXCIgKSA9PT0gMCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdG5hbWUgPSBqUXVlcnkuY2FtZWxDYXNlKCBuYW1lLnNsaWNlKCA1ICkgKTtcblx0XHRcdFx0XHRcdFx0XHRcdGRhdGFBdHRyKCBlbGVtLCBuYW1lLCBkYXRhWyBuYW1lIF0gKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGRhdGFQcml2LnNldCggZWxlbSwgXCJoYXNEYXRhQXR0cnNcIiwgdHJ1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gU2V0cyBtdWx0aXBsZSB2YWx1ZXNcblx0XHRcdGlmICggdHlwZW9mIGtleSA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ZGF0YVVzZXIuc2V0KCB0aGlzLCBrZXkgKTtcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0dmFyIGRhdGE7XG5cdFxuXHRcdFx0XHQvLyBUaGUgY2FsbGluZyBqUXVlcnkgb2JqZWN0IChlbGVtZW50IG1hdGNoZXMpIGlzIG5vdCBlbXB0eVxuXHRcdFx0XHQvLyAoYW5kIHRoZXJlZm9yZSBoYXMgYW4gZWxlbWVudCBhcHBlYXJzIGF0IHRoaXNbIDAgXSkgYW5kIHRoZVxuXHRcdFx0XHQvLyBgdmFsdWVgIHBhcmFtZXRlciB3YXMgbm90IHVuZGVmaW5lZC4gQW4gZW1wdHkgalF1ZXJ5IG9iamVjdFxuXHRcdFx0XHQvLyB3aWxsIHJlc3VsdCBpbiBgdW5kZWZpbmVkYCBmb3IgZWxlbSA9IHRoaXNbIDAgXSB3aGljaCB3aWxsXG5cdFx0XHRcdC8vIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhbiBhdHRlbXB0IHRvIHJlYWQgYSBkYXRhIGNhY2hlIGlzIG1hZGUuXG5cdFx0XHRcdGlmICggZWxlbSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcblx0XHRcdFx0XHQvLyBBdHRlbXB0IHRvIGdldCBkYXRhIGZyb20gdGhlIGNhY2hlXG5cdFx0XHRcdFx0Ly8gVGhlIGtleSB3aWxsIGFsd2F5cyBiZSBjYW1lbENhc2VkIGluIERhdGFcblx0XHRcdFx0XHRkYXRhID0gZGF0YVVzZXIuZ2V0KCBlbGVtLCBrZXkgKTtcblx0XHRcdFx0XHRpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gQXR0ZW1wdCB0byBcImRpc2NvdmVyXCIgdGhlIGRhdGEgaW5cblx0XHRcdFx0XHQvLyBIVE1MNSBjdXN0b20gZGF0YS0qIGF0dHJzXG5cdFx0XHRcdFx0ZGF0YSA9IGRhdGFBdHRyKCBlbGVtLCBrZXkgKTtcblx0XHRcdFx0XHRpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gV2UgdHJpZWQgcmVhbGx5IGhhcmQsIGJ1dCB0aGUgZGF0YSBkb2Vzbid0IGV4aXN0LlxuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gU2V0IHRoZSBkYXRhLi4uXG5cdFx0XHRcdHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHRcdC8vIFdlIGFsd2F5cyBzdG9yZSB0aGUgY2FtZWxDYXNlZCBrZXlcblx0XHRcdFx0XHRkYXRhVXNlci5zZXQoIHRoaXMsIGtleSwgdmFsdWUgKTtcblx0XHRcdFx0fSApO1xuXHRcdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxLCBudWxsLCB0cnVlICk7XG5cdFx0fSxcblx0XG5cdFx0cmVtb3ZlRGF0YTogZnVuY3Rpb24oIGtleSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRkYXRhVXNlci5yZW1vdmUoIHRoaXMsIGtleSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblx0fSApO1xuXHRcblx0XG5cdGpRdWVyeS5leHRlbmQoIHtcblx0XHRxdWV1ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGUsIGRhdGEgKSB7XG5cdFx0XHR2YXIgcXVldWU7XG5cdFxuXHRcdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0XHR0eXBlID0gKCB0eXBlIHx8IFwiZnhcIiApICsgXCJxdWV1ZVwiO1xuXHRcdFx0XHRxdWV1ZSA9IGRhdGFQcml2LmdldCggZWxlbSwgdHlwZSApO1xuXHRcblx0XHRcdFx0Ly8gU3BlZWQgdXAgZGVxdWV1ZSBieSBnZXR0aW5nIG91dCBxdWlja2x5IGlmIHRoaXMgaXMganVzdCBhIGxvb2t1cFxuXHRcdFx0XHRpZiAoIGRhdGEgKSB7XG5cdFx0XHRcdFx0aWYgKCAhcXVldWUgfHwgalF1ZXJ5LmlzQXJyYXkoIGRhdGEgKSApIHtcblx0XHRcdFx0XHRcdHF1ZXVlID0gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCB0eXBlLCBqUXVlcnkubWFrZUFycmF5KCBkYXRhICkgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cXVldWUucHVzaCggZGF0YSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gcXVldWUgfHwgW107XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0ZGVxdWV1ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGUgKSB7XG5cdFx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cdFxuXHRcdFx0dmFyIHF1ZXVlID0galF1ZXJ5LnF1ZXVlKCBlbGVtLCB0eXBlICksXG5cdFx0XHRcdHN0YXJ0TGVuZ3RoID0gcXVldWUubGVuZ3RoLFxuXHRcdFx0XHRmbiA9IHF1ZXVlLnNoaWZ0KCksXG5cdFx0XHRcdGhvb2tzID0galF1ZXJ5Ll9xdWV1ZUhvb2tzKCBlbGVtLCB0eXBlICksXG5cdFx0XHRcdG5leHQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggZWxlbSwgdHlwZSApO1xuXHRcdFx0XHR9O1xuXHRcblx0XHRcdC8vIElmIHRoZSBmeCBxdWV1ZSBpcyBkZXF1ZXVlZCwgYWx3YXlzIHJlbW92ZSB0aGUgcHJvZ3Jlc3Mgc2VudGluZWxcblx0XHRcdGlmICggZm4gPT09IFwiaW5wcm9ncmVzc1wiICkge1xuXHRcdFx0XHRmbiA9IHF1ZXVlLnNoaWZ0KCk7XG5cdFx0XHRcdHN0YXJ0TGVuZ3RoLS07XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCBmbiApIHtcblx0XG5cdFx0XHRcdC8vIEFkZCBhIHByb2dyZXNzIHNlbnRpbmVsIHRvIHByZXZlbnQgdGhlIGZ4IHF1ZXVlIGZyb20gYmVpbmdcblx0XHRcdFx0Ly8gYXV0b21hdGljYWxseSBkZXF1ZXVlZFxuXHRcdFx0XHRpZiAoIHR5cGUgPT09IFwiZnhcIiApIHtcblx0XHRcdFx0XHRxdWV1ZS51bnNoaWZ0KCBcImlucHJvZ3Jlc3NcIiApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBDbGVhciB1cCB0aGUgbGFzdCBxdWV1ZSBzdG9wIGZ1bmN0aW9uXG5cdFx0XHRcdGRlbGV0ZSBob29rcy5zdG9wO1xuXHRcdFx0XHRmbi5jYWxsKCBlbGVtLCBuZXh0LCBob29rcyApO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggIXN0YXJ0TGVuZ3RoICYmIGhvb2tzICkge1xuXHRcdFx0XHRob29rcy5lbXB0eS5maXJlKCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0Ly8gTm90IHB1YmxpYyAtIGdlbmVyYXRlIGEgcXVldWVIb29rcyBvYmplY3QsIG9yIHJldHVybiB0aGUgY3VycmVudCBvbmVcblx0XHRfcXVldWVIb29rczogZnVuY3Rpb24oIGVsZW0sIHR5cGUgKSB7XG5cdFx0XHR2YXIga2V5ID0gdHlwZSArIFwicXVldWVIb29rc1wiO1xuXHRcdFx0cmV0dXJuIGRhdGFQcml2LmdldCggZWxlbSwga2V5ICkgfHwgZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBrZXksIHtcblx0XHRcdFx0ZW1wdHk6IGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLmFkZCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBbIHR5cGUgKyBcInF1ZXVlXCIsIGtleSBdICk7XG5cdFx0XHRcdH0gKVxuXHRcdFx0fSApO1xuXHRcdH1cblx0fSApO1xuXHRcblx0alF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRcdHF1ZXVlOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcblx0XHRcdHZhciBzZXR0ZXIgPSAyO1xuXHRcblx0XHRcdGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdGRhdGEgPSB0eXBlO1xuXHRcdFx0XHR0eXBlID0gXCJmeFwiO1xuXHRcdFx0XHRzZXR0ZXItLTtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPCBzZXR0ZXIgKSB7XG5cdFx0XHRcdHJldHVybiBqUXVlcnkucXVldWUoIHRoaXNbIDAgXSwgdHlwZSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiBkYXRhID09PSB1bmRlZmluZWQgP1xuXHRcdFx0XHR0aGlzIDpcblx0XHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgcXVldWUgPSBqUXVlcnkucXVldWUoIHRoaXMsIHR5cGUsIGRhdGEgKTtcblx0XG5cdFx0XHRcdFx0Ly8gRW5zdXJlIGEgaG9va3MgZm9yIHRoaXMgcXVldWVcblx0XHRcdFx0XHRqUXVlcnkuX3F1ZXVlSG9va3MoIHRoaXMsIHR5cGUgKTtcblx0XG5cdFx0XHRcdFx0aWYgKCB0eXBlID09PSBcImZ4XCIgJiYgcXVldWVbIDAgXSAhPT0gXCJpbnByb2dyZXNzXCIgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdH0sXG5cdFx0ZGVxdWV1ZTogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcblx0XHRcdH0gKTtcblx0XHR9LFxuXHRcdGNsZWFyUXVldWU6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdFx0cmV0dXJuIHRoaXMucXVldWUoIHR5cGUgfHwgXCJmeFwiLCBbXSApO1xuXHRcdH0sXG5cdFxuXHRcdC8vIEdldCBhIHByb21pc2UgcmVzb2x2ZWQgd2hlbiBxdWV1ZXMgb2YgYSBjZXJ0YWluIHR5cGVcblx0XHQvLyBhcmUgZW1wdGllZCAoZnggaXMgdGhlIHR5cGUgYnkgZGVmYXVsdClcblx0XHRwcm9taXNlOiBmdW5jdGlvbiggdHlwZSwgb2JqICkge1xuXHRcdFx0dmFyIHRtcCxcblx0XHRcdFx0Y291bnQgPSAxLFxuXHRcdFx0XHRkZWZlciA9IGpRdWVyeS5EZWZlcnJlZCgpLFxuXHRcdFx0XHRlbGVtZW50cyA9IHRoaXMsXG5cdFx0XHRcdGkgPSB0aGlzLmxlbmd0aCxcblx0XHRcdFx0cmVzb2x2ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggISggLS1jb3VudCApICkge1xuXHRcdFx0XHRcdFx0ZGVmZXIucmVzb2x2ZVdpdGgoIGVsZW1lbnRzLCBbIGVsZW1lbnRzIF0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFxuXHRcdFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0b2JqID0gdHlwZTtcblx0XHRcdFx0dHlwZSA9IHVuZGVmaW5lZDtcblx0XHRcdH1cblx0XHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblx0XG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0dG1wID0gZGF0YVByaXYuZ2V0KCBlbGVtZW50c1sgaSBdLCB0eXBlICsgXCJxdWV1ZUhvb2tzXCIgKTtcblx0XHRcdFx0aWYgKCB0bXAgJiYgdG1wLmVtcHR5ICkge1xuXHRcdFx0XHRcdGNvdW50Kys7XG5cdFx0XHRcdFx0dG1wLmVtcHR5LmFkZCggcmVzb2x2ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXNvbHZlKCk7XG5cdFx0XHRyZXR1cm4gZGVmZXIucHJvbWlzZSggb2JqICk7XG5cdFx0fVxuXHR9ICk7XG5cdHZhciBwbnVtID0gKCAvWystXT8oPzpcXGQqXFwufClcXGQrKD86W2VFXVsrLV0/XFxkK3wpLyApLnNvdXJjZTtcblx0XG5cdHZhciByY3NzTnVtID0gbmV3IFJlZ0V4cCggXCJeKD86KFsrLV0pPXwpKFwiICsgcG51bSArIFwiKShbYS16JV0qKSRcIiwgXCJpXCIgKTtcblx0XG5cdFxuXHR2YXIgY3NzRXhwYW5kID0gWyBcIlRvcFwiLCBcIlJpZ2h0XCIsIFwiQm90dG9tXCIsIFwiTGVmdFwiIF07XG5cdFxuXHR2YXIgaXNIaWRkZW5XaXRoaW5UcmVlID0gZnVuY3Rpb24oIGVsZW0sIGVsICkge1xuXHRcblx0XHRcdC8vIGlzSGlkZGVuV2l0aGluVHJlZSBtaWdodCBiZSBjYWxsZWQgZnJvbSBqUXVlcnkjZmlsdGVyIGZ1bmN0aW9uO1xuXHRcdFx0Ly8gaW4gdGhhdCBjYXNlLCBlbGVtZW50IHdpbGwgYmUgc2Vjb25kIGFyZ3VtZW50XG5cdFx0XHRlbGVtID0gZWwgfHwgZWxlbTtcblx0XG5cdFx0XHQvLyBJbmxpbmUgc3R5bGUgdHJ1bXBzIGFsbFxuXHRcdFx0cmV0dXJuIGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJub25lXCIgfHxcblx0XHRcdFx0ZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcIlwiICYmXG5cdFxuXHRcdFx0XHQvLyBPdGhlcndpc2UsIGNoZWNrIGNvbXB1dGVkIHN0eWxlXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00MyAtIDQ1XG5cdFx0XHRcdC8vIERpc2Nvbm5lY3RlZCBlbGVtZW50cyBjYW4gaGF2ZSBjb21wdXRlZCBkaXNwbGF5OiBub25lLCBzbyBmaXJzdCBjb25maXJtIHRoYXQgZWxlbSBpc1xuXHRcdFx0XHQvLyBpbiB0aGUgZG9jdW1lbnQuXG5cdFx0XHRcdGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICkgJiZcblx0XG5cdFx0XHRcdGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICkgPT09IFwibm9uZVwiO1xuXHRcdH07XG5cdFxuXHR2YXIgc3dhcCA9IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBjYWxsYmFjaywgYXJncyApIHtcblx0XHR2YXIgcmV0LCBuYW1lLFxuXHRcdFx0b2xkID0ge307XG5cdFxuXHRcdC8vIFJlbWVtYmVyIHRoZSBvbGQgdmFsdWVzLCBhbmQgaW5zZXJ0IHRoZSBuZXcgb25lc1xuXHRcdGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcblx0XHRcdG9sZFsgbmFtZSBdID0gZWxlbS5zdHlsZVsgbmFtZSBdO1xuXHRcdFx0ZWxlbS5zdHlsZVsgbmFtZSBdID0gb3B0aW9uc1sgbmFtZSBdO1xuXHRcdH1cblx0XG5cdFx0cmV0ID0gY2FsbGJhY2suYXBwbHkoIGVsZW0sIGFyZ3MgfHwgW10gKTtcblx0XG5cdFx0Ly8gUmV2ZXJ0IHRoZSBvbGQgdmFsdWVzXG5cdFx0Zm9yICggbmFtZSBpbiBvcHRpb25zICkge1xuXHRcdFx0ZWxlbS5zdHlsZVsgbmFtZSBdID0gb2xkWyBuYW1lIF07XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gcmV0O1xuXHR9O1xuXHRcblx0XG5cdFxuXHRcblx0ZnVuY3Rpb24gYWRqdXN0Q1NTKCBlbGVtLCBwcm9wLCB2YWx1ZVBhcnRzLCB0d2VlbiApIHtcblx0XHR2YXIgYWRqdXN0ZWQsXG5cdFx0XHRzY2FsZSA9IDEsXG5cdFx0XHRtYXhJdGVyYXRpb25zID0gMjAsXG5cdFx0XHRjdXJyZW50VmFsdWUgPSB0d2VlbiA/XG5cdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiB0d2Vlbi5jdXIoKTtcblx0XHRcdFx0fSA6XG5cdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiBqUXVlcnkuY3NzKCBlbGVtLCBwcm9wLCBcIlwiICk7XG5cdFx0XHRcdH0sXG5cdFx0XHRpbml0aWFsID0gY3VycmVudFZhbHVlKCksXG5cdFx0XHR1bml0ID0gdmFsdWVQYXJ0cyAmJiB2YWx1ZVBhcnRzWyAzIF0gfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gPyBcIlwiIDogXCJweFwiICksXG5cdFxuXHRcdFx0Ly8gU3RhcnRpbmcgdmFsdWUgY29tcHV0YXRpb24gaXMgcmVxdWlyZWQgZm9yIHBvdGVudGlhbCB1bml0IG1pc21hdGNoZXNcblx0XHRcdGluaXRpYWxJblVuaXQgPSAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSB8fCB1bml0ICE9PSBcInB4XCIgJiYgK2luaXRpYWwgKSAmJlxuXHRcdFx0XHRyY3NzTnVtLmV4ZWMoIGpRdWVyeS5jc3MoIGVsZW0sIHByb3AgKSApO1xuXHRcblx0XHRpZiAoIGluaXRpYWxJblVuaXQgJiYgaW5pdGlhbEluVW5pdFsgMyBdICE9PSB1bml0ICkge1xuXHRcblx0XHRcdC8vIFRydXN0IHVuaXRzIHJlcG9ydGVkIGJ5IGpRdWVyeS5jc3Ncblx0XHRcdHVuaXQgPSB1bml0IHx8IGluaXRpYWxJblVuaXRbIDMgXTtcblx0XG5cdFx0XHQvLyBNYWtlIHN1cmUgd2UgdXBkYXRlIHRoZSB0d2VlbiBwcm9wZXJ0aWVzIGxhdGVyIG9uXG5cdFx0XHR2YWx1ZVBhcnRzID0gdmFsdWVQYXJ0cyB8fCBbXTtcblx0XG5cdFx0XHQvLyBJdGVyYXRpdmVseSBhcHByb3hpbWF0ZSBmcm9tIGEgbm9uemVybyBzdGFydGluZyBwb2ludFxuXHRcdFx0aW5pdGlhbEluVW5pdCA9ICtpbml0aWFsIHx8IDE7XG5cdFxuXHRcdFx0ZG8ge1xuXHRcblx0XHRcdFx0Ly8gSWYgcHJldmlvdXMgaXRlcmF0aW9uIHplcm9lZCBvdXQsIGRvdWJsZSB1bnRpbCB3ZSBnZXQgKnNvbWV0aGluZyouXG5cdFx0XHRcdC8vIFVzZSBzdHJpbmcgZm9yIGRvdWJsaW5nIHNvIHdlIGRvbid0IGFjY2lkZW50YWxseSBzZWUgc2NhbGUgYXMgdW5jaGFuZ2VkIGJlbG93XG5cdFx0XHRcdHNjYWxlID0gc2NhbGUgfHwgXCIuNVwiO1xuXHRcblx0XHRcdFx0Ly8gQWRqdXN0IGFuZCBhcHBseVxuXHRcdFx0XHRpbml0aWFsSW5Vbml0ID0gaW5pdGlhbEluVW5pdCAvIHNjYWxlO1xuXHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AsIGluaXRpYWxJblVuaXQgKyB1bml0ICk7XG5cdFxuXHRcdFx0Ly8gVXBkYXRlIHNjYWxlLCB0b2xlcmF0aW5nIHplcm8gb3IgTmFOIGZyb20gdHdlZW4uY3VyKClcblx0XHRcdC8vIEJyZWFrIHRoZSBsb29wIGlmIHNjYWxlIGlzIHVuY2hhbmdlZCBvciBwZXJmZWN0LCBvciBpZiB3ZSd2ZSBqdXN0IGhhZCBlbm91Z2guXG5cdFx0XHR9IHdoaWxlIChcblx0XHRcdFx0c2NhbGUgIT09ICggc2NhbGUgPSBjdXJyZW50VmFsdWUoKSAvIGluaXRpYWwgKSAmJiBzY2FsZSAhPT0gMSAmJiAtLW1heEl0ZXJhdGlvbnNcblx0XHRcdCk7XG5cdFx0fVxuXHRcblx0XHRpZiAoIHZhbHVlUGFydHMgKSB7XG5cdFx0XHRpbml0aWFsSW5Vbml0ID0gK2luaXRpYWxJblVuaXQgfHwgK2luaXRpYWwgfHwgMDtcblx0XG5cdFx0XHQvLyBBcHBseSByZWxhdGl2ZSBvZmZzZXQgKCs9Ly09KSBpZiBzcGVjaWZpZWRcblx0XHRcdGFkanVzdGVkID0gdmFsdWVQYXJ0c1sgMSBdID9cblx0XHRcdFx0aW5pdGlhbEluVW5pdCArICggdmFsdWVQYXJ0c1sgMSBdICsgMSApICogdmFsdWVQYXJ0c1sgMiBdIDpcblx0XHRcdFx0K3ZhbHVlUGFydHNbIDIgXTtcblx0XHRcdGlmICggdHdlZW4gKSB7XG5cdFx0XHRcdHR3ZWVuLnVuaXQgPSB1bml0O1xuXHRcdFx0XHR0d2Vlbi5zdGFydCA9IGluaXRpYWxJblVuaXQ7XG5cdFx0XHRcdHR3ZWVuLmVuZCA9IGFkanVzdGVkO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gYWRqdXN0ZWQ7XG5cdH1cblx0XG5cdFxuXHR2YXIgZGVmYXVsdERpc3BsYXlNYXAgPSB7fTtcblx0XG5cdGZ1bmN0aW9uIGdldERlZmF1bHREaXNwbGF5KCBlbGVtICkge1xuXHRcdHZhciB0ZW1wLFxuXHRcdFx0ZG9jID0gZWxlbS5vd25lckRvY3VtZW50LFxuXHRcdFx0bm9kZU5hbWUgPSBlbGVtLm5vZGVOYW1lLFxuXHRcdFx0ZGlzcGxheSA9IGRlZmF1bHREaXNwbGF5TWFwWyBub2RlTmFtZSBdO1xuXHRcblx0XHRpZiAoIGRpc3BsYXkgKSB7XG5cdFx0XHRyZXR1cm4gZGlzcGxheTtcblx0XHR9XG5cdFxuXHRcdHRlbXAgPSBkb2MuYm9keS5hcHBlbmRDaGlsZCggZG9jLmNyZWF0ZUVsZW1lbnQoIG5vZGVOYW1lICkgKSxcblx0XHRkaXNwbGF5ID0galF1ZXJ5LmNzcyggdGVtcCwgXCJkaXNwbGF5XCIgKTtcblx0XG5cdFx0dGVtcC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCB0ZW1wICk7XG5cdFxuXHRcdGlmICggZGlzcGxheSA9PT0gXCJub25lXCIgKSB7XG5cdFx0XHRkaXNwbGF5ID0gXCJibG9ja1wiO1xuXHRcdH1cblx0XHRkZWZhdWx0RGlzcGxheU1hcFsgbm9kZU5hbWUgXSA9IGRpc3BsYXk7XG5cdFxuXHRcdHJldHVybiBkaXNwbGF5O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzaG93SGlkZSggZWxlbWVudHMsIHNob3cgKSB7XG5cdFx0dmFyIGRpc3BsYXksIGVsZW0sXG5cdFx0XHR2YWx1ZXMgPSBbXSxcblx0XHRcdGluZGV4ID0gMCxcblx0XHRcdGxlbmd0aCA9IGVsZW1lbnRzLmxlbmd0aDtcblx0XG5cdFx0Ly8gRGV0ZXJtaW5lIG5ldyBkaXNwbGF5IHZhbHVlIGZvciBlbGVtZW50cyB0aGF0IG5lZWQgdG8gY2hhbmdlXG5cdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdGVsZW0gPSBlbGVtZW50c1sgaW5kZXggXTtcblx0XHRcdGlmICggIWVsZW0uc3R5bGUgKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcblx0XHRcdGRpc3BsYXkgPSBlbGVtLnN0eWxlLmRpc3BsYXk7XG5cdFx0XHRpZiAoIHNob3cgKSB7XG5cdFxuXHRcdFx0XHQvLyBTaW5jZSB3ZSBmb3JjZSB2aXNpYmlsaXR5IHVwb24gY2FzY2FkZS1oaWRkZW4gZWxlbWVudHMsIGFuIGltbWVkaWF0ZSAoYW5kIHNsb3cpXG5cdFx0XHRcdC8vIGNoZWNrIGlzIHJlcXVpcmVkIGluIHRoaXMgZmlyc3QgbG9vcCB1bmxlc3Mgd2UgaGF2ZSBhIG5vbmVtcHR5IGRpc3BsYXkgdmFsdWUgKGVpdGhlclxuXHRcdFx0XHQvLyBpbmxpbmUgb3IgYWJvdXQtdG8tYmUtcmVzdG9yZWQpXG5cdFx0XHRcdGlmICggZGlzcGxheSA9PT0gXCJub25lXCIgKSB7XG5cdFx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gZGF0YVByaXYuZ2V0KCBlbGVtLCBcImRpc3BsYXlcIiApIHx8IG51bGw7XG5cdFx0XHRcdFx0aWYgKCAhdmFsdWVzWyBpbmRleCBdICkge1xuXHRcdFx0XHRcdFx0ZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwiXCIgJiYgaXNIaWRkZW5XaXRoaW5UcmVlKCBlbGVtICkgKSB7XG5cdFx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gZ2V0RGVmYXVsdERpc3BsYXkoIGVsZW0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKCBkaXNwbGF5ICE9PSBcIm5vbmVcIiApIHtcblx0XHRcdFx0XHR2YWx1ZXNbIGluZGV4IF0gPSBcIm5vbmVcIjtcblx0XG5cdFx0XHRcdFx0Ly8gUmVtZW1iZXIgd2hhdCB3ZSdyZSBvdmVyd3JpdGluZ1xuXHRcdFx0XHRcdGRhdGFQcml2LnNldCggZWxlbSwgXCJkaXNwbGF5XCIsIGRpc3BsYXkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0Ly8gU2V0IHRoZSBkaXNwbGF5IG9mIHRoZSBlbGVtZW50cyBpbiBhIHNlY29uZCBsb29wIHRvIGF2b2lkIGNvbnN0YW50IHJlZmxvd1xuXHRcdGZvciAoIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRpZiAoIHZhbHVlc1sgaW5kZXggXSAhPSBudWxsICkge1xuXHRcdFx0XHRlbGVtZW50c1sgaW5kZXggXS5zdHlsZS5kaXNwbGF5ID0gdmFsdWVzWyBpbmRleCBdO1xuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0cmV0dXJuIGVsZW1lbnRzO1xuXHR9XG5cdFxuXHRqUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdFx0c2hvdzogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gc2hvd0hpZGUoIHRoaXMsIHRydWUgKTtcblx0XHR9LFxuXHRcdGhpZGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHNob3dIaWRlKCB0aGlzICk7XG5cdFx0fSxcblx0XHR0b2dnbGU6IGZ1bmN0aW9uKCBzdGF0ZSApIHtcblx0XHRcdGlmICggdHlwZW9mIHN0YXRlID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRcdFx0cmV0dXJuIHN0YXRlID8gdGhpcy5zaG93KCkgOiB0aGlzLmhpZGUoKTtcblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBpc0hpZGRlbldpdGhpblRyZWUoIHRoaXMgKSApIHtcblx0XHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5zaG93KCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuaGlkZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fVxuXHR9ICk7XG5cdHZhciByY2hlY2thYmxlVHlwZSA9ICggL14oPzpjaGVja2JveHxyYWRpbykkL2kgKTtcblx0XG5cdHZhciBydGFnTmFtZSA9ICggLzwoW2Etel1bXlxcL1xcMD5cXHgyMFxcdFxcclxcblxcZl0rKS9pICk7XG5cdFxuXHR2YXIgcnNjcmlwdFR5cGUgPSAoIC9eJHxcXC8oPzpqYXZhfGVjbWEpc2NyaXB0L2kgKTtcblx0XG5cdFxuXHRcblx0Ly8gV2UgaGF2ZSB0byBjbG9zZSB0aGVzZSB0YWdzIHRvIHN1cHBvcnQgWEhUTUwgKCMxMzIwMClcblx0dmFyIHdyYXBNYXAgPSB7XG5cdFxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdFx0b3B0aW9uOiBbIDEsIFwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPlwiLCBcIjwvc2VsZWN0PlwiIF0sXG5cdFxuXHRcdC8vIFhIVE1MIHBhcnNlcnMgZG8gbm90IG1hZ2ljYWxseSBpbnNlcnQgZWxlbWVudHMgaW4gdGhlXG5cdFx0Ly8gc2FtZSB3YXkgdGhhdCB0YWcgc291cCBwYXJzZXJzIGRvLiBTbyB3ZSBjYW5ub3Qgc2hvcnRlblxuXHRcdC8vIHRoaXMgYnkgb21pdHRpbmcgPHRib2R5PiBvciBvdGhlciByZXF1aXJlZCBlbGVtZW50cy5cblx0XHR0aGVhZDogWyAxLCBcIjx0YWJsZT5cIiwgXCI8L3RhYmxlPlwiIF0sXG5cdFx0Y29sOiBbIDIsIFwiPHRhYmxlPjxjb2xncm91cD5cIiwgXCI8L2NvbGdyb3VwPjwvdGFibGU+XCIgXSxcblx0XHR0cjogWyAyLCBcIjx0YWJsZT48dGJvZHk+XCIsIFwiPC90Ym9keT48L3RhYmxlPlwiIF0sXG5cdFx0dGQ6IFsgMywgXCI8dGFibGU+PHRib2R5Pjx0cj5cIiwgXCI8L3RyPjwvdGJvZHk+PC90YWJsZT5cIiBdLFxuXHRcblx0XHRfZGVmYXVsdDogWyAwLCBcIlwiLCBcIlwiIF1cblx0fTtcblx0XG5cdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdHdyYXBNYXAub3B0Z3JvdXAgPSB3cmFwTWFwLm9wdGlvbjtcblx0XG5cdHdyYXBNYXAudGJvZHkgPSB3cmFwTWFwLnRmb290ID0gd3JhcE1hcC5jb2xncm91cCA9IHdyYXBNYXAuY2FwdGlvbiA9IHdyYXBNYXAudGhlYWQ7XG5cdHdyYXBNYXAudGggPSB3cmFwTWFwLnRkO1xuXHRcblx0XG5cdGZ1bmN0aW9uIGdldEFsbCggY29udGV4dCwgdGFnICkge1xuXHRcblx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG5cdFx0Ly8gVXNlIHR5cGVvZiB0byBhdm9pZCB6ZXJvLWFyZ3VtZW50IG1ldGhvZCBpbnZvY2F0aW9uIG9uIGhvc3Qgb2JqZWN0cyAoIzE1MTUxKVxuXHRcdHZhciByZXQgPSB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiA/XG5cdFx0XHRcdGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyB8fCBcIipcIiApIDpcblx0XHRcdFx0dHlwZW9mIGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCAhPT0gXCJ1bmRlZmluZWRcIiA/XG5cdFx0XHRcdFx0Y29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCB0YWcgfHwgXCIqXCIgKSA6XG5cdFx0XHRcdFtdO1xuXHRcblx0XHRyZXR1cm4gdGFnID09PSB1bmRlZmluZWQgfHwgdGFnICYmIGpRdWVyeS5ub2RlTmFtZSggY29udGV4dCwgdGFnICkgP1xuXHRcdFx0alF1ZXJ5Lm1lcmdlKCBbIGNvbnRleHQgXSwgcmV0ICkgOlxuXHRcdFx0cmV0O1xuXHR9XG5cdFxuXHRcblx0Ly8gTWFyayBzY3JpcHRzIGFzIGhhdmluZyBhbHJlYWR5IGJlZW4gZXZhbHVhdGVkXG5cdGZ1bmN0aW9uIHNldEdsb2JhbEV2YWwoIGVsZW1zLCByZWZFbGVtZW50cyApIHtcblx0XHR2YXIgaSA9IDAsXG5cdFx0XHRsID0gZWxlbXMubGVuZ3RoO1xuXHRcblx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRkYXRhUHJpdi5zZXQoXG5cdFx0XHRcdGVsZW1zWyBpIF0sXG5cdFx0XHRcdFwiZ2xvYmFsRXZhbFwiLFxuXHRcdFx0XHQhcmVmRWxlbWVudHMgfHwgZGF0YVByaXYuZ2V0KCByZWZFbGVtZW50c1sgaSBdLCBcImdsb2JhbEV2YWxcIiApXG5cdFx0XHQpO1xuXHRcdH1cblx0fVxuXHRcblx0XG5cdHZhciByaHRtbCA9IC88fCYjP1xcdys7Lztcblx0XG5cdGZ1bmN0aW9uIGJ1aWxkRnJhZ21lbnQoIGVsZW1zLCBjb250ZXh0LCBzY3JpcHRzLCBzZWxlY3Rpb24sIGlnbm9yZWQgKSB7XG5cdFx0dmFyIGVsZW0sIHRtcCwgdGFnLCB3cmFwLCBjb250YWlucywgaixcblx0XHRcdGZyYWdtZW50ID0gY29udGV4dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG5cdFx0XHRub2RlcyA9IFtdLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRsID0gZWxlbXMubGVuZ3RoO1xuXHRcblx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRlbGVtID0gZWxlbXNbIGkgXTtcblx0XG5cdFx0XHRpZiAoIGVsZW0gfHwgZWxlbSA9PT0gMCApIHtcblx0XG5cdFx0XHRcdC8vIEFkZCBub2RlcyBkaXJlY3RseVxuXHRcdFx0XHRpZiAoIGpRdWVyeS50eXBlKCBlbGVtICkgPT09IFwib2JqZWN0XCIgKSB7XG5cdFxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdFx0XHRcdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIG5vZGVzLCBlbGVtLm5vZGVUeXBlID8gWyBlbGVtIF0gOiBlbGVtICk7XG5cdFxuXHRcdFx0XHQvLyBDb252ZXJ0IG5vbi1odG1sIGludG8gYSB0ZXh0IG5vZGVcblx0XHRcdFx0fSBlbHNlIGlmICggIXJodG1sLnRlc3QoIGVsZW0gKSApIHtcblx0XHRcdFx0XHRub2Rlcy5wdXNoKCBjb250ZXh0LmNyZWF0ZVRleHROb2RlKCBlbGVtICkgKTtcblx0XG5cdFx0XHRcdC8vIENvbnZlcnQgaHRtbCBpbnRvIERPTSBub2Rlc1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRtcCA9IHRtcCB8fCBmcmFnbWVudC5hcHBlbmRDaGlsZCggY29udGV4dC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkgKTtcblx0XG5cdFx0XHRcdFx0Ly8gRGVzZXJpYWxpemUgYSBzdGFuZGFyZCByZXByZXNlbnRhdGlvblxuXHRcdFx0XHRcdHRhZyA9ICggcnRhZ05hbWUuZXhlYyggZWxlbSApIHx8IFsgXCJcIiwgXCJcIiBdIClbIDEgXS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHRcdHdyYXAgPSB3cmFwTWFwWyB0YWcgXSB8fCB3cmFwTWFwLl9kZWZhdWx0O1xuXHRcdFx0XHRcdHRtcC5pbm5lckhUTUwgPSB3cmFwWyAxIF0gKyBqUXVlcnkuaHRtbFByZWZpbHRlciggZWxlbSApICsgd3JhcFsgMiBdO1xuXHRcblx0XHRcdFx0XHQvLyBEZXNjZW5kIHRocm91Z2ggd3JhcHBlcnMgdG8gdGhlIHJpZ2h0IGNvbnRlbnRcblx0XHRcdFx0XHRqID0gd3JhcFsgMCBdO1xuXHRcdFx0XHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0XHRcdFx0dG1wID0gdG1wLmxhc3RDaGlsZDtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdFx0XHRcdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIG5vZGVzLCB0bXAuY2hpbGROb2RlcyApO1xuXHRcblx0XHRcdFx0XHQvLyBSZW1lbWJlciB0aGUgdG9wLWxldmVsIGNvbnRhaW5lclxuXHRcdFx0XHRcdHRtcCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cdFxuXHRcdFx0XHRcdC8vIEVuc3VyZSB0aGUgY3JlYXRlZCBub2RlcyBhcmUgb3JwaGFuZWQgKCMxMjM5Milcblx0XHRcdFx0XHR0bXAudGV4dENvbnRlbnQgPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHQvLyBSZW1vdmUgd3JhcHBlciBmcm9tIGZyYWdtZW50XG5cdFx0ZnJhZ21lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuXHRcblx0XHRpID0gMDtcblx0XHR3aGlsZSAoICggZWxlbSA9IG5vZGVzWyBpKysgXSApICkge1xuXHRcblx0XHRcdC8vIFNraXAgZWxlbWVudHMgYWxyZWFkeSBpbiB0aGUgY29udGV4dCBjb2xsZWN0aW9uICh0cmFjLTQwODcpXG5cdFx0XHRpZiAoIHNlbGVjdGlvbiAmJiBqUXVlcnkuaW5BcnJheSggZWxlbSwgc2VsZWN0aW9uICkgPiAtMSApIHtcblx0XHRcdFx0aWYgKCBpZ25vcmVkICkge1xuXHRcdFx0XHRcdGlnbm9yZWQucHVzaCggZWxlbSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcblx0XHRcdGNvbnRhaW5zID0galF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKTtcblx0XG5cdFx0XHQvLyBBcHBlbmQgdG8gZnJhZ21lbnRcblx0XHRcdHRtcCA9IGdldEFsbCggZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGVsZW0gKSwgXCJzY3JpcHRcIiApO1xuXHRcblx0XHRcdC8vIFByZXNlcnZlIHNjcmlwdCBldmFsdWF0aW9uIGhpc3Rvcnlcblx0XHRcdGlmICggY29udGFpbnMgKSB7XG5cdFx0XHRcdHNldEdsb2JhbEV2YWwoIHRtcCApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIENhcHR1cmUgZXhlY3V0YWJsZXNcblx0XHRcdGlmICggc2NyaXB0cyApIHtcblx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdHdoaWxlICggKCBlbGVtID0gdG1wWyBqKysgXSApICkge1xuXHRcdFx0XHRcdGlmICggcnNjcmlwdFR5cGUudGVzdCggZWxlbS50eXBlIHx8IFwiXCIgKSApIHtcblx0XHRcdFx0XHRcdHNjcmlwdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0cmV0dXJuIGZyYWdtZW50O1xuXHR9XG5cdFxuXHRcblx0KCBmdW5jdGlvbigpIHtcblx0XHR2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG5cdFx0XHRkaXYgPSBmcmFnbWVudC5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApICksXG5cdFx0XHRpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApO1xuXHRcblx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAtIDQuMyBvbmx5XG5cdFx0Ly8gQ2hlY2sgc3RhdGUgbG9zdCBpZiB0aGUgbmFtZSBpcyBzZXQgKCMxMTIxNylcblx0XHQvLyBTdXBwb3J0OiBXaW5kb3dzIFdlYiBBcHBzIChXV0EpXG5cdFx0Ly8gYG5hbWVgIGFuZCBgdHlwZWAgbXVzdCB1c2UgLnNldEF0dHJpYnV0ZSBmb3IgV1dBICgjMTQ5MDEpXG5cdFx0aW5wdXQuc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgXCJyYWRpb1wiICk7XG5cdFx0aW5wdXQuc2V0QXR0cmlidXRlKCBcImNoZWNrZWRcIiwgXCJjaGVja2VkXCIgKTtcblx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwibmFtZVwiLCBcInRcIiApO1xuXHRcblx0XHRkaXYuYXBwZW5kQ2hpbGQoIGlucHV0ICk7XG5cdFxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjEgb25seVxuXHRcdC8vIE9sZGVyIFdlYktpdCBkb2Vzbid0IGNsb25lIGNoZWNrZWQgc3RhdGUgY29ycmVjdGx5IGluIGZyYWdtZW50c1xuXHRcdHN1cHBvcnQuY2hlY2tDbG9uZSA9IGRpdi5jbG9uZU5vZGUoIHRydWUgKS5jbG9uZU5vZGUoIHRydWUgKS5sYXN0Q2hpbGQuY2hlY2tlZDtcblx0XG5cdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdFx0Ly8gTWFrZSBzdXJlIHRleHRhcmVhIChhbmQgY2hlY2tib3gpIGRlZmF1bHRWYWx1ZSBpcyBwcm9wZXJseSBjbG9uZWRcblx0XHRkaXYuaW5uZXJIVE1MID0gXCI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+XCI7XG5cdFx0c3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCA9ICEhZGl2LmNsb25lTm9kZSggdHJ1ZSApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWU7XG5cdH0gKSgpO1xuXHR2YXIgZG9jdW1lbnRFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXHRcblx0XG5cdFxuXHR2YXJcblx0XHRya2V5RXZlbnQgPSAvXmtleS8sXG5cdFx0cm1vdXNlRXZlbnQgPSAvXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnV8ZHJhZ3xkcm9wKXxjbGljay8sXG5cdFx0cnR5cGVuYW1lc3BhY2UgPSAvXihbXi5dKikoPzpcXC4oLispfCkvO1xuXHRcblx0ZnVuY3Rpb24gcmV0dXJuVHJ1ZSgpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmV0dXJuRmFsc2UoKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdFxuXHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHQvLyBTZWUgIzEzMzkzIGZvciBtb3JlIGluZm9cblx0ZnVuY3Rpb24gc2FmZUFjdGl2ZUVsZW1lbnQoKSB7XG5cdFx0dHJ5IHtcblx0XHRcdHJldHVybiBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuXHRcdH0gY2F0Y2ggKCBlcnIgKSB7IH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gb24oIGVsZW0sIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIG9uZSApIHtcblx0XHR2YXIgb3JpZ0ZuLCB0eXBlO1xuXHRcblx0XHQvLyBUeXBlcyBjYW4gYmUgYSBtYXAgb2YgdHlwZXMvaGFuZGxlcnNcblx0XHRpZiAoIHR5cGVvZiB0eXBlcyA9PT0gXCJvYmplY3RcIiApIHtcblx0XG5cdFx0XHQvLyAoIHR5cGVzLU9iamVjdCwgc2VsZWN0b3IsIGRhdGEgKVxuXHRcdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgKSB7XG5cdFxuXHRcdFx0XHQvLyAoIHR5cGVzLU9iamVjdCwgZGF0YSApXG5cdFx0XHRcdGRhdGEgPSBkYXRhIHx8IHNlbGVjdG9yO1xuXHRcdFx0XHRzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XHRcdH1cblx0XHRcdGZvciAoIHR5cGUgaW4gdHlwZXMgKSB7XG5cdFx0XHRcdG9uKCBlbGVtLCB0eXBlLCBzZWxlY3RvciwgZGF0YSwgdHlwZXNbIHR5cGUgXSwgb25lICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZWxlbTtcblx0XHR9XG5cdFxuXHRcdGlmICggZGF0YSA9PSBudWxsICYmIGZuID09IG51bGwgKSB7XG5cdFxuXHRcdFx0Ly8gKCB0eXBlcywgZm4gKVxuXHRcdFx0Zm4gPSBzZWxlY3Rvcjtcblx0XHRcdGRhdGEgPSBzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XHR9IGVsc2UgaWYgKCBmbiA9PSBudWxsICkge1xuXHRcdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XG5cdFxuXHRcdFx0XHQvLyAoIHR5cGVzLCBzZWxlY3RvciwgZm4gKVxuXHRcdFx0XHRmbiA9IGRhdGE7XG5cdFx0XHRcdGRhdGEgPSB1bmRlZmluZWQ7XG5cdFx0XHR9IGVsc2Uge1xuXHRcblx0XHRcdFx0Ly8gKCB0eXBlcywgZGF0YSwgZm4gKVxuXHRcdFx0XHRmbiA9IGRhdGE7XG5cdFx0XHRcdGRhdGEgPSBzZWxlY3Rvcjtcblx0XHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmICggZm4gPT09IGZhbHNlICkge1xuXHRcdFx0Zm4gPSByZXR1cm5GYWxzZTtcblx0XHR9IGVsc2UgaWYgKCAhZm4gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbTtcblx0XHR9XG5cdFxuXHRcdGlmICggb25lID09PSAxICkge1xuXHRcdFx0b3JpZ0ZuID0gZm47XG5cdFx0XHRmbiA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XG5cdFx0XHRcdC8vIENhbiB1c2UgYW4gZW1wdHkgc2V0LCBzaW5jZSBldmVudCBjb250YWlucyB0aGUgaW5mb1xuXHRcdFx0XHRqUXVlcnkoKS5vZmYoIGV2ZW50ICk7XG5cdFx0XHRcdHJldHVybiBvcmlnRm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0fTtcblx0XG5cdFx0XHQvLyBVc2Ugc2FtZSBndWlkIHNvIGNhbGxlciBjYW4gcmVtb3ZlIHVzaW5nIG9yaWdGblxuXHRcdFx0Zm4uZ3VpZCA9IG9yaWdGbi5ndWlkIHx8ICggb3JpZ0ZuLmd1aWQgPSBqUXVlcnkuZ3VpZCsrICk7XG5cdFx0fVxuXHRcdHJldHVybiBlbGVtLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LmFkZCggdGhpcywgdHlwZXMsIGZuLCBkYXRhLCBzZWxlY3RvciApO1xuXHRcdH0gKTtcblx0fVxuXHRcblx0Lypcblx0ICogSGVscGVyIGZ1bmN0aW9ucyBmb3IgbWFuYWdpbmcgZXZlbnRzIC0tIG5vdCBwYXJ0IG9mIHRoZSBwdWJsaWMgaW50ZXJmYWNlLlxuXHQgKiBQcm9wcyB0byBEZWFuIEVkd2FyZHMnIGFkZEV2ZW50IGxpYnJhcnkgZm9yIG1hbnkgb2YgdGhlIGlkZWFzLlxuXHQgKi9cblx0alF1ZXJ5LmV2ZW50ID0ge1xuXHRcblx0XHRnbG9iYWw6IHt9LFxuXHRcblx0XHRhZGQ6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlcywgaGFuZGxlciwgZGF0YSwgc2VsZWN0b3IgKSB7XG5cdFxuXHRcdFx0dmFyIGhhbmRsZU9iakluLCBldmVudEhhbmRsZSwgdG1wLFxuXHRcdFx0XHRldmVudHMsIHQsIGhhbmRsZU9iaixcblx0XHRcdFx0c3BlY2lhbCwgaGFuZGxlcnMsIHR5cGUsIG5hbWVzcGFjZXMsIG9yaWdUeXBlLFxuXHRcdFx0XHRlbGVtRGF0YSA9IGRhdGFQcml2LmdldCggZWxlbSApO1xuXHRcblx0XHRcdC8vIERvbid0IGF0dGFjaCBldmVudHMgdG8gbm9EYXRhIG9yIHRleHQvY29tbWVudCBub2RlcyAoYnV0IGFsbG93IHBsYWluIG9iamVjdHMpXG5cdFx0XHRpZiAoICFlbGVtRGF0YSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIENhbGxlciBjYW4gcGFzcyBpbiBhbiBvYmplY3Qgb2YgY3VzdG9tIGRhdGEgaW4gbGlldSBvZiB0aGUgaGFuZGxlclxuXHRcdFx0aWYgKCBoYW5kbGVyLmhhbmRsZXIgKSB7XG5cdFx0XHRcdGhhbmRsZU9iakluID0gaGFuZGxlcjtcblx0XHRcdFx0aGFuZGxlciA9IGhhbmRsZU9iakluLmhhbmRsZXI7XG5cdFx0XHRcdHNlbGVjdG9yID0gaGFuZGxlT2JqSW4uc2VsZWN0b3I7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gRW5zdXJlIHRoYXQgaW52YWxpZCBzZWxlY3RvcnMgdGhyb3cgZXhjZXB0aW9ucyBhdCBhdHRhY2ggdGltZVxuXHRcdFx0Ly8gRXZhbHVhdGUgYWdhaW5zdCBkb2N1bWVudEVsZW1lbnQgaW4gY2FzZSBlbGVtIGlzIGEgbm9uLWVsZW1lbnQgbm9kZSAoZS5nLiwgZG9jdW1lbnQpXG5cdFx0XHRpZiAoIHNlbGVjdG9yICkge1xuXHRcdFx0XHRqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoIGRvY3VtZW50RWxlbWVudCwgc2VsZWN0b3IgKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBNYWtlIHN1cmUgdGhhdCB0aGUgaGFuZGxlciBoYXMgYSB1bmlxdWUgSUQsIHVzZWQgdG8gZmluZC9yZW1vdmUgaXQgbGF0ZXJcblx0XHRcdGlmICggIWhhbmRsZXIuZ3VpZCApIHtcblx0XHRcdFx0aGFuZGxlci5ndWlkID0galF1ZXJ5Lmd1aWQrKztcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBJbml0IHRoZSBlbGVtZW50J3MgZXZlbnQgc3RydWN0dXJlIGFuZCBtYWluIGhhbmRsZXIsIGlmIHRoaXMgaXMgdGhlIGZpcnN0XG5cdFx0XHRpZiAoICEoIGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyApICkge1xuXHRcdFx0XHRldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgPSB7fTtcblx0XHRcdH1cblx0XHRcdGlmICggISggZXZlbnRIYW5kbGUgPSBlbGVtRGF0YS5oYW5kbGUgKSApIHtcblx0XHRcdFx0ZXZlbnRIYW5kbGUgPSBlbGVtRGF0YS5oYW5kbGUgPSBmdW5jdGlvbiggZSApIHtcblx0XG5cdFx0XHRcdFx0Ly8gRGlzY2FyZCB0aGUgc2Vjb25kIGV2ZW50IG9mIGEgalF1ZXJ5LmV2ZW50LnRyaWdnZXIoKSBhbmRcblx0XHRcdFx0XHQvLyB3aGVuIGFuIGV2ZW50IGlzIGNhbGxlZCBhZnRlciBhIHBhZ2UgaGFzIHVubG9hZGVkXG5cdFx0XHRcdFx0cmV0dXJuIHR5cGVvZiBqUXVlcnkgIT09IFwidW5kZWZpbmVkXCIgJiYgalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCAhPT0gZS50eXBlID9cblx0XHRcdFx0XHRcdGpRdWVyeS5ldmVudC5kaXNwYXRjaC5hcHBseSggZWxlbSwgYXJndW1lbnRzICkgOiB1bmRlZmluZWQ7XG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gSGFuZGxlIG11bHRpcGxlIGV2ZW50cyBzZXBhcmF0ZWQgYnkgYSBzcGFjZVxuXHRcdFx0dHlwZXMgPSAoIHR5cGVzIHx8IFwiXCIgKS5tYXRjaCggcm5vdHdoaXRlICkgfHwgWyBcIlwiIF07XG5cdFx0XHR0ID0gdHlwZXMubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCB0LS0gKSB7XG5cdFx0XHRcdHRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWMoIHR5cGVzWyB0IF0gKSB8fCBbXTtcblx0XHRcdFx0dHlwZSA9IG9yaWdUeXBlID0gdG1wWyAxIF07XG5cdFx0XHRcdG5hbWVzcGFjZXMgPSAoIHRtcFsgMiBdIHx8IFwiXCIgKS5zcGxpdCggXCIuXCIgKS5zb3J0KCk7XG5cdFxuXHRcdFx0XHQvLyBUaGVyZSAqbXVzdCogYmUgYSB0eXBlLCBubyBhdHRhY2hpbmcgbmFtZXNwYWNlLW9ubHkgaGFuZGxlcnNcblx0XHRcdFx0aWYgKCAhdHlwZSApIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gSWYgZXZlbnQgY2hhbmdlcyBpdHMgdHlwZSwgdXNlIHRoZSBzcGVjaWFsIGV2ZW50IGhhbmRsZXJzIGZvciB0aGUgY2hhbmdlZCB0eXBlXG5cdFx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXHRcblx0XHRcdFx0Ly8gSWYgc2VsZWN0b3IgZGVmaW5lZCwgZGV0ZXJtaW5lIHNwZWNpYWwgZXZlbnQgYXBpIHR5cGUsIG90aGVyd2lzZSBnaXZlbiB0eXBlXG5cdFx0XHRcdHR5cGUgPSAoIHNlbGVjdG9yID8gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgOiBzcGVjaWFsLmJpbmRUeXBlICkgfHwgdHlwZTtcblx0XG5cdFx0XHRcdC8vIFVwZGF0ZSBzcGVjaWFsIGJhc2VkIG9uIG5ld2x5IHJlc2V0IHR5cGVcblx0XHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cdFxuXHRcdFx0XHQvLyBoYW5kbGVPYmogaXMgcGFzc2VkIHRvIGFsbCBldmVudCBoYW5kbGVyc1xuXHRcdFx0XHRoYW5kbGVPYmogPSBqUXVlcnkuZXh0ZW5kKCB7XG5cdFx0XHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdFx0XHRvcmlnVHlwZTogb3JpZ1R5cGUsXG5cdFx0XHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdFx0XHRoYW5kbGVyOiBoYW5kbGVyLFxuXHRcdFx0XHRcdGd1aWQ6IGhhbmRsZXIuZ3VpZCxcblx0XHRcdFx0XHRzZWxlY3Rvcjogc2VsZWN0b3IsXG5cdFx0XHRcdFx0bmVlZHNDb250ZXh0OiBzZWxlY3RvciAmJiBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3IgKSxcblx0XHRcdFx0XHRuYW1lc3BhY2U6IG5hbWVzcGFjZXMuam9pbiggXCIuXCIgKVxuXHRcdFx0XHR9LCBoYW5kbGVPYmpJbiApO1xuXHRcblx0XHRcdFx0Ly8gSW5pdCB0aGUgZXZlbnQgaGFuZGxlciBxdWV1ZSBpZiB3ZSdyZSB0aGUgZmlyc3Rcblx0XHRcdFx0aWYgKCAhKCBoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdICkgKSB7XG5cdFx0XHRcdFx0aGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSA9IFtdO1xuXHRcdFx0XHRcdGhhbmRsZXJzLmRlbGVnYXRlQ291bnQgPSAwO1xuXHRcblx0XHRcdFx0XHQvLyBPbmx5IHVzZSBhZGRFdmVudExpc3RlbmVyIGlmIHRoZSBzcGVjaWFsIGV2ZW50cyBoYW5kbGVyIHJldHVybnMgZmFsc2Vcblx0XHRcdFx0XHRpZiAoICFzcGVjaWFsLnNldHVwIHx8XG5cdFx0XHRcdFx0XHRzcGVjaWFsLnNldHVwLmNhbGwoIGVsZW0sIGRhdGEsIG5hbWVzcGFjZXMsIGV2ZW50SGFuZGxlICkgPT09IGZhbHNlICkge1xuXHRcblx0XHRcdFx0XHRcdGlmICggZWxlbS5hZGRFdmVudExpc3RlbmVyICkge1xuXHRcdFx0XHRcdFx0XHRlbGVtLmFkZEV2ZW50TGlzdGVuZXIoIHR5cGUsIGV2ZW50SGFuZGxlICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRpZiAoIHNwZWNpYWwuYWRkICkge1xuXHRcdFx0XHRcdHNwZWNpYWwuYWRkLmNhbGwoIGVsZW0sIGhhbmRsZU9iaiApO1xuXHRcblx0XHRcdFx0XHRpZiAoICFoYW5kbGVPYmouaGFuZGxlci5ndWlkICkge1xuXHRcdFx0XHRcdFx0aGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCA9IGhhbmRsZXIuZ3VpZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIEFkZCB0byB0aGUgZWxlbWVudCdzIGhhbmRsZXIgbGlzdCwgZGVsZWdhdGVzIGluIGZyb250XG5cdFx0XHRcdGlmICggc2VsZWN0b3IgKSB7XG5cdFx0XHRcdFx0aGFuZGxlcnMuc3BsaWNlKCBoYW5kbGVycy5kZWxlZ2F0ZUNvdW50KyssIDAsIGhhbmRsZU9iaiApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGhhbmRsZXJzLnB1c2goIGhhbmRsZU9iaiApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBLZWVwIHRyYWNrIG9mIHdoaWNoIGV2ZW50cyBoYXZlIGV2ZXIgYmVlbiB1c2VkLCBmb3IgZXZlbnQgb3B0aW1pemF0aW9uXG5cdFx0XHRcdGpRdWVyeS5ldmVudC5nbG9iYWxbIHR5cGUgXSA9IHRydWU7XG5cdFx0XHR9XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8vIERldGFjaCBhbiBldmVudCBvciBzZXQgb2YgZXZlbnRzIGZyb20gYW4gZWxlbWVudFxuXHRcdHJlbW92ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGVzLCBoYW5kbGVyLCBzZWxlY3RvciwgbWFwcGVkVHlwZXMgKSB7XG5cdFxuXHRcdFx0dmFyIGosIG9yaWdDb3VudCwgdG1wLFxuXHRcdFx0XHRldmVudHMsIHQsIGhhbmRsZU9iaixcblx0XHRcdFx0c3BlY2lhbCwgaGFuZGxlcnMsIHR5cGUsIG5hbWVzcGFjZXMsIG9yaWdUeXBlLFxuXHRcdFx0XHRlbGVtRGF0YSA9IGRhdGFQcml2Lmhhc0RhdGEoIGVsZW0gKSAmJiBkYXRhUHJpdi5nZXQoIGVsZW0gKTtcblx0XG5cdFx0XHRpZiAoICFlbGVtRGF0YSB8fCAhKCBldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgKSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIE9uY2UgZm9yIGVhY2ggdHlwZS5uYW1lc3BhY2UgaW4gdHlwZXM7IHR5cGUgbWF5IGJlIG9taXR0ZWRcblx0XHRcdHR5cGVzID0gKCB0eXBlcyB8fCBcIlwiICkubWF0Y2goIHJub3R3aGl0ZSApIHx8IFsgXCJcIiBdO1xuXHRcdFx0dCA9IHR5cGVzLmxlbmd0aDtcblx0XHRcdHdoaWxlICggdC0tICkge1xuXHRcdFx0XHR0bXAgPSBydHlwZW5hbWVzcGFjZS5leGVjKCB0eXBlc1sgdCBdICkgfHwgW107XG5cdFx0XHRcdHR5cGUgPSBvcmlnVHlwZSA9IHRtcFsgMSBdO1xuXHRcdFx0XHRuYW1lc3BhY2VzID0gKCB0bXBbIDIgXSB8fCBcIlwiICkuc3BsaXQoIFwiLlwiICkuc29ydCgpO1xuXHRcblx0XHRcdFx0Ly8gVW5iaW5kIGFsbCBldmVudHMgKG9uIHRoaXMgbmFtZXNwYWNlLCBpZiBwcm92aWRlZCkgZm9yIHRoZSBlbGVtZW50XG5cdFx0XHRcdGlmICggIXR5cGUgKSB7XG5cdFx0XHRcdFx0Zm9yICggdHlwZSBpbiBldmVudHMgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCBlbGVtLCB0eXBlICsgdHlwZXNbIHQgXSwgaGFuZGxlciwgc2VsZWN0b3IsIHRydWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXHRcdFx0XHR0eXBlID0gKCBzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSApIHx8IHR5cGU7XG5cdFx0XHRcdGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gfHwgW107XG5cdFx0XHRcdHRtcCA9IHRtcFsgMiBdICYmXG5cdFx0XHRcdFx0bmV3IFJlZ0V4cCggXCIoXnxcXFxcLilcIiArIG5hbWVzcGFjZXMuam9pbiggXCJcXFxcLig/Oi4qXFxcXC58KVwiICkgKyBcIihcXFxcLnwkKVwiICk7XG5cdFxuXHRcdFx0XHQvLyBSZW1vdmUgbWF0Y2hpbmcgZXZlbnRzXG5cdFx0XHRcdG9yaWdDb3VudCA9IGogPSBoYW5kbGVycy5sZW5ndGg7XG5cdFx0XHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0XHRcdGhhbmRsZU9iaiA9IGhhbmRsZXJzWyBqIF07XG5cdFxuXHRcdFx0XHRcdGlmICggKCBtYXBwZWRUeXBlcyB8fCBvcmlnVHlwZSA9PT0gaGFuZGxlT2JqLm9yaWdUeXBlICkgJiZcblx0XHRcdFx0XHRcdCggIWhhbmRsZXIgfHwgaGFuZGxlci5ndWlkID09PSBoYW5kbGVPYmouZ3VpZCApICYmXG5cdFx0XHRcdFx0XHQoICF0bXAgfHwgdG1wLnRlc3QoIGhhbmRsZU9iai5uYW1lc3BhY2UgKSApICYmXG5cdFx0XHRcdFx0XHQoICFzZWxlY3RvciB8fCBzZWxlY3RvciA9PT0gaGFuZGxlT2JqLnNlbGVjdG9yIHx8XG5cdFx0XHRcdFx0XHRcdHNlbGVjdG9yID09PSBcIioqXCIgJiYgaGFuZGxlT2JqLnNlbGVjdG9yICkgKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGosIDEgKTtcblx0XG5cdFx0XHRcdFx0XHRpZiAoIGhhbmRsZU9iai5zZWxlY3RvciApIHtcblx0XHRcdFx0XHRcdFx0aGFuZGxlcnMuZGVsZWdhdGVDb3VudC0tO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKCBzcGVjaWFsLnJlbW92ZSApIHtcblx0XHRcdFx0XHRcdFx0c3BlY2lhbC5yZW1vdmUuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBSZW1vdmUgZ2VuZXJpYyBldmVudCBoYW5kbGVyIGlmIHdlIHJlbW92ZWQgc29tZXRoaW5nIGFuZCBubyBtb3JlIGhhbmRsZXJzIGV4aXN0XG5cdFx0XHRcdC8vIChhdm9pZHMgcG90ZW50aWFsIGZvciBlbmRsZXNzIHJlY3Vyc2lvbiBkdXJpbmcgcmVtb3ZhbCBvZiBzcGVjaWFsIGV2ZW50IGhhbmRsZXJzKVxuXHRcdFx0XHRpZiAoIG9yaWdDb3VudCAmJiAhaGFuZGxlcnMubGVuZ3RoICkge1xuXHRcdFx0XHRcdGlmICggIXNwZWNpYWwudGVhcmRvd24gfHxcblx0XHRcdFx0XHRcdHNwZWNpYWwudGVhcmRvd24uY2FsbCggZWxlbSwgbmFtZXNwYWNlcywgZWxlbURhdGEuaGFuZGxlICkgPT09IGZhbHNlICkge1xuXHRcblx0XHRcdFx0XHRcdGpRdWVyeS5yZW1vdmVFdmVudCggZWxlbSwgdHlwZSwgZWxlbURhdGEuaGFuZGxlICk7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRkZWxldGUgZXZlbnRzWyB0eXBlIF07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHQvLyBSZW1vdmUgZGF0YSBhbmQgdGhlIGV4cGFuZG8gaWYgaXQncyBubyBsb25nZXIgdXNlZFxuXHRcdFx0aWYgKCBqUXVlcnkuaXNFbXB0eU9iamVjdCggZXZlbnRzICkgKSB7XG5cdFx0XHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgXCJoYW5kbGUgZXZlbnRzXCIgKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRkaXNwYXRjaDogZnVuY3Rpb24oIG5hdGl2ZUV2ZW50ICkge1xuXHRcblx0XHRcdC8vIE1ha2UgYSB3cml0YWJsZSBqUXVlcnkuRXZlbnQgZnJvbSB0aGUgbmF0aXZlIGV2ZW50IG9iamVjdFxuXHRcdFx0dmFyIGV2ZW50ID0galF1ZXJ5LmV2ZW50LmZpeCggbmF0aXZlRXZlbnQgKTtcblx0XG5cdFx0XHR2YXIgaSwgaiwgcmV0LCBtYXRjaGVkLCBoYW5kbGVPYmosIGhhbmRsZXJRdWV1ZSxcblx0XHRcdFx0YXJncyA9IG5ldyBBcnJheSggYXJndW1lbnRzLmxlbmd0aCApLFxuXHRcdFx0XHRoYW5kbGVycyA9ICggZGF0YVByaXYuZ2V0KCB0aGlzLCBcImV2ZW50c1wiICkgfHwge30gKVsgZXZlbnQudHlwZSBdIHx8IFtdLFxuXHRcdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGV2ZW50LnR5cGUgXSB8fCB7fTtcblx0XG5cdFx0XHQvLyBVc2UgdGhlIGZpeC1lZCBqUXVlcnkuRXZlbnQgcmF0aGVyIHRoYW4gdGhlIChyZWFkLW9ubHkpIG5hdGl2ZSBldmVudFxuXHRcdFx0YXJnc1sgMCBdID0gZXZlbnQ7XG5cdFxuXHRcdFx0Zm9yICggaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdGFyZ3NbIGkgXSA9IGFyZ3VtZW50c1sgaSBdO1xuXHRcdFx0fVxuXHRcblx0XHRcdGV2ZW50LmRlbGVnYXRlVGFyZ2V0ID0gdGhpcztcblx0XG5cdFx0XHQvLyBDYWxsIHRoZSBwcmVEaXNwYXRjaCBob29rIGZvciB0aGUgbWFwcGVkIHR5cGUsIGFuZCBsZXQgaXQgYmFpbCBpZiBkZXNpcmVkXG5cdFx0XHRpZiAoIHNwZWNpYWwucHJlRGlzcGF0Y2ggJiYgc3BlY2lhbC5wcmVEaXNwYXRjaC5jYWxsKCB0aGlzLCBldmVudCApID09PSBmYWxzZSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIERldGVybWluZSBoYW5kbGVyc1xuXHRcdFx0aGFuZGxlclF1ZXVlID0galF1ZXJ5LmV2ZW50LmhhbmRsZXJzLmNhbGwoIHRoaXMsIGV2ZW50LCBoYW5kbGVycyApO1xuXHRcblx0XHRcdC8vIFJ1biBkZWxlZ2F0ZXMgZmlyc3Q7IHRoZXkgbWF5IHdhbnQgdG8gc3RvcCBwcm9wYWdhdGlvbiBiZW5lYXRoIHVzXG5cdFx0XHRpID0gMDtcblx0XHRcdHdoaWxlICggKCBtYXRjaGVkID0gaGFuZGxlclF1ZXVlWyBpKysgXSApICYmICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXHRcdFx0XHRldmVudC5jdXJyZW50VGFyZ2V0ID0gbWF0Y2hlZC5lbGVtO1xuXHRcblx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdHdoaWxlICggKCBoYW5kbGVPYmogPSBtYXRjaGVkLmhhbmRsZXJzWyBqKysgXSApICYmXG5cdFx0XHRcdFx0IWV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFxuXHRcdFx0XHRcdC8vIFRyaWdnZXJlZCBldmVudCBtdXN0IGVpdGhlciAxKSBoYXZlIG5vIG5hbWVzcGFjZSwgb3IgMikgaGF2ZSBuYW1lc3BhY2Uocylcblx0XHRcdFx0XHQvLyBhIHN1YnNldCBvciBlcXVhbCB0byB0aG9zZSBpbiB0aGUgYm91bmQgZXZlbnQgKGJvdGggY2FuIGhhdmUgbm8gbmFtZXNwYWNlKS5cblx0XHRcdFx0XHRpZiAoICFldmVudC5ybmFtZXNwYWNlIHx8IGV2ZW50LnJuYW1lc3BhY2UudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkge1xuXHRcblx0XHRcdFx0XHRcdGV2ZW50LmhhbmRsZU9iaiA9IGhhbmRsZU9iajtcblx0XHRcdFx0XHRcdGV2ZW50LmRhdGEgPSBoYW5kbGVPYmouZGF0YTtcblx0XG5cdFx0XHRcdFx0XHRyZXQgPSAoICggalF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGhhbmRsZU9iai5vcmlnVHlwZSBdIHx8IHt9ICkuaGFuZGxlIHx8XG5cdFx0XHRcdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyICkuYXBwbHkoIG1hdGNoZWQuZWxlbSwgYXJncyApO1xuXHRcblx0XHRcdFx0XHRcdGlmICggcmV0ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggKCBldmVudC5yZXN1bHQgPSByZXQgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdC8vIENhbGwgdGhlIHBvc3REaXNwYXRjaCBob29rIGZvciB0aGUgbWFwcGVkIHR5cGVcblx0XHRcdGlmICggc3BlY2lhbC5wb3N0RGlzcGF0Y2ggKSB7XG5cdFx0XHRcdHNwZWNpYWwucG9zdERpc3BhdGNoLmNhbGwoIHRoaXMsIGV2ZW50ICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIGV2ZW50LnJlc3VsdDtcblx0XHR9LFxuXHRcblx0XHRoYW5kbGVyczogZnVuY3Rpb24oIGV2ZW50LCBoYW5kbGVycyApIHtcblx0XHRcdHZhciBpLCBtYXRjaGVzLCBzZWwsIGhhbmRsZU9iaixcblx0XHRcdFx0aGFuZGxlclF1ZXVlID0gW10sXG5cdFx0XHRcdGRlbGVnYXRlQ291bnQgPSBoYW5kbGVycy5kZWxlZ2F0ZUNvdW50LFxuXHRcdFx0XHRjdXIgPSBldmVudC50YXJnZXQ7XG5cdFxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05XG5cdFx0XHQvLyBGaW5kIGRlbGVnYXRlIGhhbmRsZXJzXG5cdFx0XHQvLyBCbGFjay1ob2xlIFNWRyA8dXNlPiBpbnN0YW5jZSB0cmVlcyAoIzEzMTgwKVxuXHRcdFx0Ly9cblx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00MlxuXHRcdFx0Ly8gQXZvaWQgbm9uLWxlZnQtY2xpY2sgaW4gRkYgYnV0IGRvbid0IGJsb2NrIElFIHJhZGlvIGV2ZW50cyAoIzM4NjEsIGdoLTIzNDMpXG5cdFx0XHRpZiAoIGRlbGVnYXRlQ291bnQgJiYgY3VyLm5vZGVUeXBlICYmXG5cdFx0XHRcdCggZXZlbnQudHlwZSAhPT0gXCJjbGlja1wiIHx8IGlzTmFOKCBldmVudC5idXR0b24gKSB8fCBldmVudC5idXR0b24gPCAxICkgKSB7XG5cdFxuXHRcdFx0XHRmb3IgKCA7IGN1ciAhPT0gdGhpczsgY3VyID0gY3VyLnBhcmVudE5vZGUgfHwgdGhpcyApIHtcblx0XG5cdFx0XHRcdFx0Ly8gRG9uJ3QgY2hlY2sgbm9uLWVsZW1lbnRzICgjMTMyMDgpXG5cdFx0XHRcdFx0Ly8gRG9uJ3QgcHJvY2VzcyBjbGlja3Mgb24gZGlzYWJsZWQgZWxlbWVudHMgKCM2OTExLCAjODE2NSwgIzExMzgyLCAjMTE3NjQpXG5cdFx0XHRcdFx0aWYgKCBjdXIubm9kZVR5cGUgPT09IDEgJiYgKCBjdXIuZGlzYWJsZWQgIT09IHRydWUgfHwgZXZlbnQudHlwZSAhPT0gXCJjbGlja1wiICkgKSB7XG5cdFx0XHRcdFx0XHRtYXRjaGVzID0gW107XG5cdFx0XHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IGRlbGVnYXRlQ291bnQ7IGkrKyApIHtcblx0XHRcdFx0XHRcdFx0aGFuZGxlT2JqID0gaGFuZGxlcnNbIGkgXTtcblx0XG5cdFx0XHRcdFx0XHRcdC8vIERvbid0IGNvbmZsaWN0IHdpdGggT2JqZWN0LnByb3RvdHlwZSBwcm9wZXJ0aWVzICgjMTMyMDMpXG5cdFx0XHRcdFx0XHRcdHNlbCA9IGhhbmRsZU9iai5zZWxlY3RvciArIFwiIFwiO1xuXHRcblx0XHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVzWyBzZWwgXSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdFx0XHRcdG1hdGNoZXNbIHNlbCBdID0gaGFuZGxlT2JqLm5lZWRzQ29udGV4dCA/XG5cdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIHNlbCwgdGhpcyApLmluZGV4KCBjdXIgKSA+IC0xIDpcblx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5maW5kKCBzZWwsIHRoaXMsIG51bGwsIFsgY3VyIF0gKS5sZW5ndGg7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVzWyBzZWwgXSApIHtcblx0XHRcdFx0XHRcdFx0XHRtYXRjaGVzLnB1c2goIGhhbmRsZU9iaiApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXMubGVuZ3RoICkge1xuXHRcdFx0XHRcdFx0XHRoYW5kbGVyUXVldWUucHVzaCggeyBlbGVtOiBjdXIsIGhhbmRsZXJzOiBtYXRjaGVzIH0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHQvLyBBZGQgdGhlIHJlbWFpbmluZyAoZGlyZWN0bHktYm91bmQpIGhhbmRsZXJzXG5cdFx0XHRpZiAoIGRlbGVnYXRlQ291bnQgPCBoYW5kbGVycy5sZW5ndGggKSB7XG5cdFx0XHRcdGhhbmRsZXJRdWV1ZS5wdXNoKCB7IGVsZW06IHRoaXMsIGhhbmRsZXJzOiBoYW5kbGVycy5zbGljZSggZGVsZWdhdGVDb3VudCApIH0gKTtcblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gaGFuZGxlclF1ZXVlO1xuXHRcdH0sXG5cdFxuXHRcdGFkZFByb3A6IGZ1bmN0aW9uKCBuYW1lLCBob29rICkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCBqUXVlcnkuRXZlbnQucHJvdG90eXBlLCBuYW1lLCB7XG5cdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XG5cdFx0XHRcdGdldDogalF1ZXJ5LmlzRnVuY3Rpb24oIGhvb2sgKSA/XG5cdFx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoIHRoaXMub3JpZ2luYWxFdmVudCApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gaG9vayggdGhpcy5vcmlnaW5hbEV2ZW50ICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSA6XG5cdFx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoIHRoaXMub3JpZ2luYWxFdmVudCApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50WyBuYW1lIF07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdHNldDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSggdGhpcywgbmFtZSwge1xuXHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdFx0dmFsdWU6IHZhbHVlXG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fSxcblx0XG5cdFx0Zml4OiBmdW5jdGlvbiggb3JpZ2luYWxFdmVudCApIHtcblx0XHRcdHJldHVybiBvcmlnaW5hbEV2ZW50WyBqUXVlcnkuZXhwYW5kbyBdID9cblx0XHRcdFx0b3JpZ2luYWxFdmVudCA6XG5cdFx0XHRcdG5ldyBqUXVlcnkuRXZlbnQoIG9yaWdpbmFsRXZlbnQgKTtcblx0XHR9LFxuXHRcblx0XHRzcGVjaWFsOiB7XG5cdFx0XHRsb2FkOiB7XG5cdFxuXHRcdFx0XHQvLyBQcmV2ZW50IHRyaWdnZXJlZCBpbWFnZS5sb2FkIGV2ZW50cyBmcm9tIGJ1YmJsaW5nIHRvIHdpbmRvdy5sb2FkXG5cdFx0XHRcdG5vQnViYmxlOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0Zm9jdXM6IHtcblx0XG5cdFx0XHRcdC8vIEZpcmUgbmF0aXZlIGV2ZW50IGlmIHBvc3NpYmxlIHNvIGJsdXIvZm9jdXMgc2VxdWVuY2UgaXMgY29ycmVjdFxuXHRcdFx0XHR0cmlnZ2VyOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoIHRoaXMgIT09IHNhZmVBY3RpdmVFbGVtZW50KCkgJiYgdGhpcy5mb2N1cyApIHtcblx0XHRcdFx0XHRcdHRoaXMuZm9jdXMoKTtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGRlbGVnYXRlVHlwZTogXCJmb2N1c2luXCJcblx0XHRcdH0sXG5cdFx0XHRibHVyOiB7XG5cdFx0XHRcdHRyaWdnZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcyA9PT0gc2FmZUFjdGl2ZUVsZW1lbnQoKSAmJiB0aGlzLmJsdXIgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmJsdXIoKTtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGRlbGVnYXRlVHlwZTogXCJmb2N1c291dFwiXG5cdFx0XHR9LFxuXHRcdFx0Y2xpY2s6IHtcblx0XG5cdFx0XHRcdC8vIEZvciBjaGVja2JveCwgZmlyZSBuYXRpdmUgZXZlbnQgc28gY2hlY2tlZCBzdGF0ZSB3aWxsIGJlIHJpZ2h0XG5cdFx0XHRcdHRyaWdnZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy50eXBlID09PSBcImNoZWNrYm94XCIgJiYgdGhpcy5jbGljayAmJiBqUXVlcnkubm9kZU5hbWUoIHRoaXMsIFwiaW5wdXRcIiApICkge1xuXHRcdFx0XHRcdFx0dGhpcy5jbGljaygpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdC8vIEZvciBjcm9zcy1icm93c2VyIGNvbnNpc3RlbmN5LCBkb24ndCBmaXJlIG5hdGl2ZSAuY2xpY2soKSBvbiBsaW5rc1xuXHRcdFx0XHRfZGVmYXVsdDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRcdHJldHVybiBqUXVlcnkubm9kZU5hbWUoIGV2ZW50LnRhcmdldCwgXCJhXCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XG5cdFx0XHRiZWZvcmV1bmxvYWQ6IHtcblx0XHRcdFx0cG9zdERpc3BhdGNoOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggMjArXG5cdFx0XHRcdFx0Ly8gRmlyZWZveCBkb2Vzbid0IGFsZXJ0IGlmIHRoZSByZXR1cm5WYWx1ZSBmaWVsZCBpcyBub3Qgc2V0LlxuXHRcdFx0XHRcdGlmICggZXZlbnQucmVzdWx0ICE9PSB1bmRlZmluZWQgJiYgZXZlbnQub3JpZ2luYWxFdmVudCApIHtcblx0XHRcdFx0XHRcdGV2ZW50Lm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWUgPSBldmVudC5yZXN1bHQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRcblx0alF1ZXJ5LnJlbW92ZUV2ZW50ID0gZnVuY3Rpb24oIGVsZW0sIHR5cGUsIGhhbmRsZSApIHtcblx0XG5cdFx0Ly8gVGhpcyBcImlmXCIgaXMgbmVlZGVkIGZvciBwbGFpbiBvYmplY3RzXG5cdFx0aWYgKCBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIgKSB7XG5cdFx0XHRlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoIHR5cGUsIGhhbmRsZSApO1xuXHRcdH1cblx0fTtcblx0XG5cdGpRdWVyeS5FdmVudCA9IGZ1bmN0aW9uKCBzcmMsIHByb3BzICkge1xuXHRcblx0XHQvLyBBbGxvdyBpbnN0YW50aWF0aW9uIHdpdGhvdXQgdGhlICduZXcnIGtleXdvcmRcblx0XHRpZiAoICEoIHRoaXMgaW5zdGFuY2VvZiBqUXVlcnkuRXZlbnQgKSApIHtcblx0XHRcdHJldHVybiBuZXcgalF1ZXJ5LkV2ZW50KCBzcmMsIHByb3BzICk7XG5cdFx0fVxuXHRcblx0XHQvLyBFdmVudCBvYmplY3Rcblx0XHRpZiAoIHNyYyAmJiBzcmMudHlwZSApIHtcblx0XHRcdHRoaXMub3JpZ2luYWxFdmVudCA9IHNyYztcblx0XHRcdHRoaXMudHlwZSA9IHNyYy50eXBlO1xuXHRcblx0XHRcdC8vIEV2ZW50cyBidWJibGluZyB1cCB0aGUgZG9jdW1lbnQgbWF5IGhhdmUgYmVlbiBtYXJrZWQgYXMgcHJldmVudGVkXG5cdFx0XHQvLyBieSBhIGhhbmRsZXIgbG93ZXIgZG93biB0aGUgdHJlZTsgcmVmbGVjdCB0aGUgY29ycmVjdCB2YWx1ZS5cblx0XHRcdHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gc3JjLmRlZmF1bHRQcmV2ZW50ZWQgfHxcblx0XHRcdFx0XHRzcmMuZGVmYXVsdFByZXZlbnRlZCA9PT0gdW5kZWZpbmVkICYmXG5cdFxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD0yLjMgb25seVxuXHRcdFx0XHRcdHNyYy5yZXR1cm5WYWx1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0XHRyZXR1cm5UcnVlIDpcblx0XHRcdFx0cmV0dXJuRmFsc2U7XG5cdFxuXHRcdFx0Ly8gQ3JlYXRlIHRhcmdldCBwcm9wZXJ0aWVzXG5cdFx0XHQvLyBTdXBwb3J0OiBTYWZhcmkgPD02IC0gNyBvbmx5XG5cdFx0XHQvLyBUYXJnZXQgc2hvdWxkIG5vdCBiZSBhIHRleHQgbm9kZSAoIzUwNCwgIzEzMTQzKVxuXHRcdFx0dGhpcy50YXJnZXQgPSAoIHNyYy50YXJnZXQgJiYgc3JjLnRhcmdldC5ub2RlVHlwZSA9PT0gMyApID9cblx0XHRcdFx0c3JjLnRhcmdldC5wYXJlbnROb2RlIDpcblx0XHRcdFx0c3JjLnRhcmdldDtcblx0XG5cdFx0XHR0aGlzLmN1cnJlbnRUYXJnZXQgPSBzcmMuY3VycmVudFRhcmdldDtcblx0XHRcdHRoaXMucmVsYXRlZFRhcmdldCA9IHNyYy5yZWxhdGVkVGFyZ2V0O1xuXHRcblx0XHQvLyBFdmVudCB0eXBlXG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMudHlwZSA9IHNyYztcblx0XHR9XG5cdFxuXHRcdC8vIFB1dCBleHBsaWNpdGx5IHByb3ZpZGVkIHByb3BlcnRpZXMgb250byB0aGUgZXZlbnQgb2JqZWN0XG5cdFx0aWYgKCBwcm9wcyApIHtcblx0XHRcdGpRdWVyeS5leHRlbmQoIHRoaXMsIHByb3BzICk7XG5cdFx0fVxuXHRcblx0XHQvLyBDcmVhdGUgYSB0aW1lc3RhbXAgaWYgaW5jb21pbmcgZXZlbnQgZG9lc24ndCBoYXZlIG9uZVxuXHRcdHRoaXMudGltZVN0YW1wID0gc3JjICYmIHNyYy50aW1lU3RhbXAgfHwgalF1ZXJ5Lm5vdygpO1xuXHRcblx0XHQvLyBNYXJrIGl0IGFzIGZpeGVkXG5cdFx0dGhpc1sgalF1ZXJ5LmV4cGFuZG8gXSA9IHRydWU7XG5cdH07XG5cdFxuXHQvLyBqUXVlcnkuRXZlbnQgaXMgYmFzZWQgb24gRE9NMyBFdmVudHMgYXMgc3BlY2lmaWVkIGJ5IHRoZSBFQ01BU2NyaXB0IExhbmd1YWdlIEJpbmRpbmdcblx0Ly8gaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDMvV0QtRE9NLUxldmVsLTMtRXZlbnRzLTIwMDMwMzMxL2VjbWEtc2NyaXB0LWJpbmRpbmcuaHRtbFxuXHRqUXVlcnkuRXZlbnQucHJvdG90eXBlID0ge1xuXHRcdGNvbnN0cnVjdG9yOiBqUXVlcnkuRXZlbnQsXG5cdFx0aXNEZWZhdWx0UHJldmVudGVkOiByZXR1cm5GYWxzZSxcblx0XHRpc1Byb3BhZ2F0aW9uU3RvcHBlZDogcmV0dXJuRmFsc2UsXG5cdFx0aXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6IHJldHVybkZhbHNlLFxuXHRcdGlzU2ltdWxhdGVkOiBmYWxzZSxcblx0XG5cdFx0cHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG5cdFxuXHRcdFx0dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSByZXR1cm5UcnVlO1xuXHRcblx0XHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0c3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuXHRcblx0XHRcdHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlO1xuXHRcblx0XHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblx0XG5cdFx0XHR0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gcmV0dXJuVHJ1ZTtcblx0XG5cdFx0XHRpZiAoIGUgJiYgIXRoaXMuaXNTaW11bGF0ZWQgKSB7XG5cdFx0XHRcdGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0dGhpcy5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHR9XG5cdH07XG5cdFxuXHQvLyBJbmNsdWRlcyBhbGwgY29tbW9uIGV2ZW50IHByb3BzIGluY2x1ZGluZyBLZXlFdmVudCBhbmQgTW91c2VFdmVudCBzcGVjaWZpYyBwcm9wc1xuXHRqUXVlcnkuZWFjaCgge1xuXHRcdGFsdEtleTogdHJ1ZSxcblx0XHRidWJibGVzOiB0cnVlLFxuXHRcdGNhbmNlbGFibGU6IHRydWUsXG5cdFx0Y2hhbmdlZFRvdWNoZXM6IHRydWUsXG5cdFx0Y3RybEtleTogdHJ1ZSxcblx0XHRkZXRhaWw6IHRydWUsXG5cdFx0ZXZlbnRQaGFzZTogdHJ1ZSxcblx0XHRtZXRhS2V5OiB0cnVlLFxuXHRcdHBhZ2VYOiB0cnVlLFxuXHRcdHBhZ2VZOiB0cnVlLFxuXHRcdHNoaWZ0S2V5OiB0cnVlLFxuXHRcdHZpZXc6IHRydWUsXG5cdFx0XCJjaGFyXCI6IHRydWUsXG5cdFx0Y2hhckNvZGU6IHRydWUsXG5cdFx0a2V5OiB0cnVlLFxuXHRcdGtleUNvZGU6IHRydWUsXG5cdFx0YnV0dG9uOiB0cnVlLFxuXHRcdGJ1dHRvbnM6IHRydWUsXG5cdFx0Y2xpZW50WDogdHJ1ZSxcblx0XHRjbGllbnRZOiB0cnVlLFxuXHRcdG9mZnNldFg6IHRydWUsXG5cdFx0b2Zmc2V0WTogdHJ1ZSxcblx0XHRwb2ludGVySWQ6IHRydWUsXG5cdFx0cG9pbnRlclR5cGU6IHRydWUsXG5cdFx0c2NyZWVuWDogdHJ1ZSxcblx0XHRzY3JlZW5ZOiB0cnVlLFxuXHRcdHRhcmdldFRvdWNoZXM6IHRydWUsXG5cdFx0dG9FbGVtZW50OiB0cnVlLFxuXHRcdHRvdWNoZXM6IHRydWUsXG5cdFxuXHRcdHdoaWNoOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHR2YXIgYnV0dG9uID0gZXZlbnQuYnV0dG9uO1xuXHRcblx0XHRcdC8vIEFkZCB3aGljaCBmb3Iga2V5IGV2ZW50c1xuXHRcdFx0aWYgKCBldmVudC53aGljaCA9PSBudWxsICYmIHJrZXlFdmVudC50ZXN0KCBldmVudC50eXBlICkgKSB7XG5cdFx0XHRcdHJldHVybiBldmVudC5jaGFyQ29kZSAhPSBudWxsID8gZXZlbnQuY2hhckNvZGUgOiBldmVudC5rZXlDb2RlO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEFkZCB3aGljaCBmb3IgY2xpY2s6IDEgPT09IGxlZnQ7IDIgPT09IG1pZGRsZTsgMyA9PT0gcmlnaHRcblx0XHRcdGlmICggIWV2ZW50LndoaWNoICYmIGJ1dHRvbiAhPT0gdW5kZWZpbmVkICYmIHJtb3VzZUV2ZW50LnRlc3QoIGV2ZW50LnR5cGUgKSApIHtcblx0XHRcdFx0cmV0dXJuICggYnV0dG9uICYgMSA/IDEgOiAoIGJ1dHRvbiAmIDIgPyAzIDogKCBidXR0b24gJiA0ID8gMiA6IDAgKSApICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIGV2ZW50LndoaWNoO1xuXHRcdH1cblx0fSwgalF1ZXJ5LmV2ZW50LmFkZFByb3AgKTtcblx0XG5cdC8vIENyZWF0ZSBtb3VzZWVudGVyL2xlYXZlIGV2ZW50cyB1c2luZyBtb3VzZW92ZXIvb3V0IGFuZCBldmVudC10aW1lIGNoZWNrc1xuXHQvLyBzbyB0aGF0IGV2ZW50IGRlbGVnYXRpb24gd29ya3MgaW4galF1ZXJ5LlxuXHQvLyBEbyB0aGUgc2FtZSBmb3IgcG9pbnRlcmVudGVyL3BvaW50ZXJsZWF2ZSBhbmQgcG9pbnRlcm92ZXIvcG9pbnRlcm91dFxuXHQvL1xuXHQvLyBTdXBwb3J0OiBTYWZhcmkgNyBvbmx5XG5cdC8vIFNhZmFyaSBzZW5kcyBtb3VzZWVudGVyIHRvbyBvZnRlbjsgc2VlOlxuXHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NzAyNThcblx0Ly8gZm9yIHRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgYnVnIChpdCBleGlzdGVkIGluIG9sZGVyIENocm9tZSB2ZXJzaW9ucyBhcyB3ZWxsKS5cblx0alF1ZXJ5LmVhY2goIHtcblx0XHRtb3VzZWVudGVyOiBcIm1vdXNlb3ZlclwiLFxuXHRcdG1vdXNlbGVhdmU6IFwibW91c2VvdXRcIixcblx0XHRwb2ludGVyZW50ZXI6IFwicG9pbnRlcm92ZXJcIixcblx0XHRwb2ludGVybGVhdmU6IFwicG9pbnRlcm91dFwiXG5cdH0sIGZ1bmN0aW9uKCBvcmlnLCBmaXggKSB7XG5cdFx0alF1ZXJ5LmV2ZW50LnNwZWNpYWxbIG9yaWcgXSA9IHtcblx0XHRcdGRlbGVnYXRlVHlwZTogZml4LFxuXHRcdFx0YmluZFR5cGU6IGZpeCxcblx0XG5cdFx0XHRoYW5kbGU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0dmFyIHJldCxcblx0XHRcdFx0XHR0YXJnZXQgPSB0aGlzLFxuXHRcdFx0XHRcdHJlbGF0ZWQgPSBldmVudC5yZWxhdGVkVGFyZ2V0LFxuXHRcdFx0XHRcdGhhbmRsZU9iaiA9IGV2ZW50LmhhbmRsZU9iajtcblx0XG5cdFx0XHRcdC8vIEZvciBtb3VzZWVudGVyL2xlYXZlIGNhbGwgdGhlIGhhbmRsZXIgaWYgcmVsYXRlZCBpcyBvdXRzaWRlIHRoZSB0YXJnZXQuXG5cdFx0XHRcdC8vIE5COiBObyByZWxhdGVkVGFyZ2V0IGlmIHRoZSBtb3VzZSBsZWZ0L2VudGVyZWQgdGhlIGJyb3dzZXIgd2luZG93XG5cdFx0XHRcdGlmICggIXJlbGF0ZWQgfHwgKCByZWxhdGVkICE9PSB0YXJnZXQgJiYgIWpRdWVyeS5jb250YWlucyggdGFyZ2V0LCByZWxhdGVkICkgKSApIHtcblx0XHRcdFx0XHRldmVudC50eXBlID0gaGFuZGxlT2JqLm9yaWdUeXBlO1xuXHRcdFx0XHRcdHJldCA9IGhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0XHRldmVudC50eXBlID0gZml4O1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cdFx0fTtcblx0fSApO1xuXHRcblx0alF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRcblx0XHRvbjogZnVuY3Rpb24oIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKSB7XG5cdFx0XHRyZXR1cm4gb24oIHRoaXMsIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKTtcblx0XHR9LFxuXHRcdG9uZTogZnVuY3Rpb24oIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKSB7XG5cdFx0XHRyZXR1cm4gb24oIHRoaXMsIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIDEgKTtcblx0XHR9LFxuXHRcdG9mZjogZnVuY3Rpb24oIHR5cGVzLCBzZWxlY3RvciwgZm4gKSB7XG5cdFx0XHR2YXIgaGFuZGxlT2JqLCB0eXBlO1xuXHRcdFx0aWYgKCB0eXBlcyAmJiB0eXBlcy5wcmV2ZW50RGVmYXVsdCAmJiB0eXBlcy5oYW5kbGVPYmogKSB7XG5cdFxuXHRcdFx0XHQvLyAoIGV2ZW50ICkgIGRpc3BhdGNoZWQgalF1ZXJ5LkV2ZW50XG5cdFx0XHRcdGhhbmRsZU9iaiA9IHR5cGVzLmhhbmRsZU9iajtcblx0XHRcdFx0alF1ZXJ5KCB0eXBlcy5kZWxlZ2F0ZVRhcmdldCApLm9mZihcblx0XHRcdFx0XHRoYW5kbGVPYmoubmFtZXNwYWNlID9cblx0XHRcdFx0XHRcdGhhbmRsZU9iai5vcmlnVHlwZSArIFwiLlwiICsgaGFuZGxlT2JqLm5hbWVzcGFjZSA6XG5cdFx0XHRcdFx0XHRoYW5kbGVPYmoub3JpZ1R5cGUsXG5cdFx0XHRcdFx0aGFuZGxlT2JqLnNlbGVjdG9yLFxuXHRcdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyXG5cdFx0XHRcdCk7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCB0eXBlb2YgdHlwZXMgPT09IFwib2JqZWN0XCIgKSB7XG5cdFxuXHRcdFx0XHQvLyAoIHR5cGVzLW9iamVjdCBbLCBzZWxlY3Rvcl0gKVxuXHRcdFx0XHRmb3IgKCB0eXBlIGluIHR5cGVzICkge1xuXHRcdFx0XHRcdHRoaXMub2ZmKCB0eXBlLCBzZWxlY3RvciwgdHlwZXNbIHR5cGUgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBzZWxlY3RvciA9PT0gZmFsc2UgfHwgdHlwZW9mIHNlbGVjdG9yID09PSBcImZ1bmN0aW9uXCIgKSB7XG5cdFxuXHRcdFx0XHQvLyAoIHR5cGVzIFssIGZuXSApXG5cdFx0XHRcdGZuID0gc2VsZWN0b3I7XG5cdFx0XHRcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBmbiA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdGZuID0gcmV0dXJuRmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5LmV2ZW50LnJlbW92ZSggdGhpcywgdHlwZXMsIGZuLCBzZWxlY3RvciApO1xuXHRcdFx0fSApO1xuXHRcdH1cblx0fSApO1xuXHRcblx0XG5cdHZhclxuXHRcblx0XHQvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5cdFxuXHRcdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZXNsaW50L2VzbGludC9pc3N1ZXMvMzIyOVxuXHRcdHJ4aHRtbFRhZyA9IC88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFthLXpdW15cXC9cXDA+XFx4MjBcXHRcXHJcXG5cXGZdKilbXj5dKilcXC8+L2dpLFxuXHRcblx0XHQvKiBlc2xpbnQtZW5hYmxlICovXG5cdFxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9MTAgLSAxMSwgRWRnZSAxMiAtIDEzXG5cdFx0Ly8gSW4gSUUvRWRnZSB1c2luZyByZWdleCBncm91cHMgaGVyZSBjYXVzZXMgc2V2ZXJlIHNsb3dkb3ducy5cblx0XHQvLyBTZWUgaHR0cHM6Ly9jb25uZWN0Lm1pY3Jvc29mdC5jb20vSUUvZmVlZGJhY2svZGV0YWlscy8xNzM2NTEyL1xuXHRcdHJub0lubmVyaHRtbCA9IC88c2NyaXB0fDxzdHlsZXw8bGluay9pLFxuXHRcblx0XHQvLyBjaGVja2VkPVwiY2hlY2tlZFwiIG9yIGNoZWNrZWRcblx0XHRyY2hlY2tlZCA9IC9jaGVja2VkXFxzKig/OltePV18PVxccyouY2hlY2tlZC4pL2ksXG5cdFx0cnNjcmlwdFR5cGVNYXNrZWQgPSAvXnRydWVcXC8oLiopLyxcblx0XHRyY2xlYW5TY3JpcHQgPSAvXlxccyo8ISg/OlxcW0NEQVRBXFxbfC0tKXwoPzpcXF1cXF18LS0pPlxccyokL2c7XG5cdFxuXHRmdW5jdGlvbiBtYW5pcHVsYXRpb25UYXJnZXQoIGVsZW0sIGNvbnRlbnQgKSB7XG5cdFx0aWYgKCBqUXVlcnkubm9kZU5hbWUoIGVsZW0sIFwidGFibGVcIiApICYmXG5cdFx0XHRqUXVlcnkubm9kZU5hbWUoIGNvbnRlbnQubm9kZVR5cGUgIT09IDExID8gY29udGVudCA6IGNvbnRlbnQuZmlyc3RDaGlsZCwgXCJ0clwiICkgKSB7XG5cdFxuXHRcdFx0cmV0dXJuIGVsZW0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwidGJvZHlcIiApWyAwIF0gfHwgZWxlbTtcblx0XHR9XG5cdFxuXHRcdHJldHVybiBlbGVtO1xuXHR9XG5cdFxuXHQvLyBSZXBsYWNlL3Jlc3RvcmUgdGhlIHR5cGUgYXR0cmlidXRlIG9mIHNjcmlwdCBlbGVtZW50cyBmb3Igc2FmZSBET00gbWFuaXB1bGF0aW9uXG5cdGZ1bmN0aW9uIGRpc2FibGVTY3JpcHQoIGVsZW0gKSB7XG5cdFx0ZWxlbS50eXBlID0gKCBlbGVtLmdldEF0dHJpYnV0ZSggXCJ0eXBlXCIgKSAhPT0gbnVsbCApICsgXCIvXCIgKyBlbGVtLnR5cGU7XG5cdFx0cmV0dXJuIGVsZW07XG5cdH1cblx0ZnVuY3Rpb24gcmVzdG9yZVNjcmlwdCggZWxlbSApIHtcblx0XHR2YXIgbWF0Y2ggPSByc2NyaXB0VHlwZU1hc2tlZC5leGVjKCBlbGVtLnR5cGUgKTtcblx0XG5cdFx0aWYgKCBtYXRjaCApIHtcblx0XHRcdGVsZW0udHlwZSA9IG1hdGNoWyAxIF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVsZW0ucmVtb3ZlQXR0cmlidXRlKCBcInR5cGVcIiApO1xuXHRcdH1cblx0XG5cdFx0cmV0dXJuIGVsZW07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNsb25lQ29weUV2ZW50KCBzcmMsIGRlc3QgKSB7XG5cdFx0dmFyIGksIGwsIHR5cGUsIHBkYXRhT2xkLCBwZGF0YUN1ciwgdWRhdGFPbGQsIHVkYXRhQ3VyLCBldmVudHM7XG5cdFxuXHRcdGlmICggZGVzdC5ub2RlVHlwZSAhPT0gMSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFxuXHRcdC8vIDEuIENvcHkgcHJpdmF0ZSBkYXRhOiBldmVudHMsIGhhbmRsZXJzLCBldGMuXG5cdFx0aWYgKCBkYXRhUHJpdi5oYXNEYXRhKCBzcmMgKSApIHtcblx0XHRcdHBkYXRhT2xkID0gZGF0YVByaXYuYWNjZXNzKCBzcmMgKTtcblx0XHRcdHBkYXRhQ3VyID0gZGF0YVByaXYuc2V0KCBkZXN0LCBwZGF0YU9sZCApO1xuXHRcdFx0ZXZlbnRzID0gcGRhdGFPbGQuZXZlbnRzO1xuXHRcblx0XHRcdGlmICggZXZlbnRzICkge1xuXHRcdFx0XHRkZWxldGUgcGRhdGFDdXIuaGFuZGxlO1xuXHRcdFx0XHRwZGF0YUN1ci5ldmVudHMgPSB7fTtcblx0XG5cdFx0XHRcdGZvciAoIHR5cGUgaW4gZXZlbnRzICkge1xuXHRcdFx0XHRcdGZvciAoIGkgPSAwLCBsID0gZXZlbnRzWyB0eXBlIF0ubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LmFkZCggZGVzdCwgdHlwZSwgZXZlbnRzWyB0eXBlIF1bIGkgXSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0Ly8gMi4gQ29weSB1c2VyIGRhdGFcblx0XHRpZiAoIGRhdGFVc2VyLmhhc0RhdGEoIHNyYyApICkge1xuXHRcdFx0dWRhdGFPbGQgPSBkYXRhVXNlci5hY2Nlc3MoIHNyYyApO1xuXHRcdFx0dWRhdGFDdXIgPSBqUXVlcnkuZXh0ZW5kKCB7fSwgdWRhdGFPbGQgKTtcblx0XG5cdFx0XHRkYXRhVXNlci5zZXQoIGRlc3QsIHVkYXRhQ3VyICk7XG5cdFx0fVxuXHR9XG5cdFxuXHQvLyBGaXggSUUgYnVncywgc2VlIHN1cHBvcnQgdGVzdHNcblx0ZnVuY3Rpb24gZml4SW5wdXQoIHNyYywgZGVzdCApIHtcblx0XHR2YXIgbm9kZU5hbWUgPSBkZXN0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFxuXHRcdC8vIEZhaWxzIHRvIHBlcnNpc3QgdGhlIGNoZWNrZWQgc3RhdGUgb2YgYSBjbG9uZWQgY2hlY2tib3ggb3IgcmFkaW8gYnV0dG9uLlxuXHRcdGlmICggbm9kZU5hbWUgPT09IFwiaW5wdXRcIiAmJiByY2hlY2thYmxlVHlwZS50ZXN0KCBzcmMudHlwZSApICkge1xuXHRcdFx0ZGVzdC5jaGVja2VkID0gc3JjLmNoZWNrZWQ7XG5cdFxuXHRcdC8vIEZhaWxzIHRvIHJldHVybiB0aGUgc2VsZWN0ZWQgb3B0aW9uIHRvIHRoZSBkZWZhdWx0IHNlbGVjdGVkIHN0YXRlIHdoZW4gY2xvbmluZyBvcHRpb25zXG5cdFx0fSBlbHNlIGlmICggbm9kZU5hbWUgPT09IFwiaW5wdXRcIiB8fCBub2RlTmFtZSA9PT0gXCJ0ZXh0YXJlYVwiICkge1xuXHRcdFx0ZGVzdC5kZWZhdWx0VmFsdWUgPSBzcmMuZGVmYXVsdFZhbHVlO1xuXHRcdH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZG9tTWFuaXAoIGNvbGxlY3Rpb24sIGFyZ3MsIGNhbGxiYWNrLCBpZ25vcmVkICkge1xuXHRcblx0XHQvLyBGbGF0dGVuIGFueSBuZXN0ZWQgYXJyYXlzXG5cdFx0YXJncyA9IGNvbmNhdC5hcHBseSggW10sIGFyZ3MgKTtcblx0XG5cdFx0dmFyIGZyYWdtZW50LCBmaXJzdCwgc2NyaXB0cywgaGFzU2NyaXB0cywgbm9kZSwgZG9jLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRsID0gY29sbGVjdGlvbi5sZW5ndGgsXG5cdFx0XHRpTm9DbG9uZSA9IGwgLSAxLFxuXHRcdFx0dmFsdWUgPSBhcmdzWyAwIF0sXG5cdFx0XHRpc0Z1bmN0aW9uID0galF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICk7XG5cdFxuXHRcdC8vIFdlIGNhbid0IGNsb25lTm9kZSBmcmFnbWVudHMgdGhhdCBjb250YWluIGNoZWNrZWQsIGluIFdlYktpdFxuXHRcdGlmICggaXNGdW5jdGlvbiB8fFxuXHRcdFx0XHQoIGwgPiAxICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJlxuXHRcdFx0XHRcdCFzdXBwb3J0LmNoZWNrQ2xvbmUgJiYgcmNoZWNrZWQudGVzdCggdmFsdWUgKSApICkge1xuXHRcdFx0cmV0dXJuIGNvbGxlY3Rpb24uZWFjaCggZnVuY3Rpb24oIGluZGV4ICkge1xuXHRcdFx0XHR2YXIgc2VsZiA9IGNvbGxlY3Rpb24uZXEoIGluZGV4ICk7XG5cdFx0XHRcdGlmICggaXNGdW5jdGlvbiApIHtcblx0XHRcdFx0XHRhcmdzWyAwIF0gPSB2YWx1ZS5jYWxsKCB0aGlzLCBpbmRleCwgc2VsZi5odG1sKCkgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRkb21NYW5pcCggc2VsZiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cdFxuXHRcdGlmICggbCApIHtcblx0XHRcdGZyYWdtZW50ID0gYnVpbGRGcmFnbWVudCggYXJncywgY29sbGVjdGlvblsgMCBdLm93bmVyRG9jdW1lbnQsIGZhbHNlLCBjb2xsZWN0aW9uLCBpZ25vcmVkICk7XG5cdFx0XHRmaXJzdCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cdFxuXHRcdFx0aWYgKCBmcmFnbWVudC5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMSApIHtcblx0XHRcdFx0ZnJhZ21lbnQgPSBmaXJzdDtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBSZXF1aXJlIGVpdGhlciBuZXcgY29udGVudCBvciBhbiBpbnRlcmVzdCBpbiBpZ25vcmVkIGVsZW1lbnRzIHRvIGludm9rZSB0aGUgY2FsbGJhY2tcblx0XHRcdGlmICggZmlyc3QgfHwgaWdub3JlZCApIHtcblx0XHRcdFx0c2NyaXB0cyA9IGpRdWVyeS5tYXAoIGdldEFsbCggZnJhZ21lbnQsIFwic2NyaXB0XCIgKSwgZGlzYWJsZVNjcmlwdCApO1xuXHRcdFx0XHRoYXNTY3JpcHRzID0gc2NyaXB0cy5sZW5ndGg7XG5cdFxuXHRcdFx0XHQvLyBVc2UgdGhlIG9yaWdpbmFsIGZyYWdtZW50IGZvciB0aGUgbGFzdCBpdGVtXG5cdFx0XHRcdC8vIGluc3RlYWQgb2YgdGhlIGZpcnN0IGJlY2F1c2UgaXQgY2FuIGVuZCB1cFxuXHRcdFx0XHQvLyBiZWluZyBlbXB0aWVkIGluY29ycmVjdGx5IGluIGNlcnRhaW4gc2l0dWF0aW9ucyAoIzgwNzApLlxuXHRcdFx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0bm9kZSA9IGZyYWdtZW50O1xuXHRcblx0XHRcdFx0XHRpZiAoIGkgIT09IGlOb0Nsb25lICkge1xuXHRcdFx0XHRcdFx0bm9kZSA9IGpRdWVyeS5jbG9uZSggbm9kZSwgdHJ1ZSwgdHJ1ZSApO1xuXHRcblx0XHRcdFx0XHRcdC8vIEtlZXAgcmVmZXJlbmNlcyB0byBjbG9uZWQgc2NyaXB0cyBmb3IgbGF0ZXIgcmVzdG9yYXRpb25cblx0XHRcdFx0XHRcdGlmICggaGFzU2NyaXB0cyApIHtcblx0XG5cdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdFx0XHRcdFx0XHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdFx0XHRcdGpRdWVyeS5tZXJnZSggc2NyaXB0cywgZ2V0QWxsKCBub2RlLCBcInNjcmlwdFwiICkgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwoIGNvbGxlY3Rpb25bIGkgXSwgbm9kZSwgaSApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRpZiAoIGhhc1NjcmlwdHMgKSB7XG5cdFx0XHRcdFx0ZG9jID0gc2NyaXB0c1sgc2NyaXB0cy5sZW5ndGggLSAxIF0ub3duZXJEb2N1bWVudDtcblx0XG5cdFx0XHRcdFx0Ly8gUmVlbmFibGUgc2NyaXB0c1xuXHRcdFx0XHRcdGpRdWVyeS5tYXAoIHNjcmlwdHMsIHJlc3RvcmVTY3JpcHQgKTtcblx0XG5cdFx0XHRcdFx0Ly8gRXZhbHVhdGUgZXhlY3V0YWJsZSBzY3JpcHRzIG9uIGZpcnN0IGRvY3VtZW50IGluc2VydGlvblxuXHRcdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgaGFzU2NyaXB0czsgaSsrICkge1xuXHRcdFx0XHRcdFx0bm9kZSA9IHNjcmlwdHNbIGkgXTtcblx0XHRcdFx0XHRcdGlmICggcnNjcmlwdFR5cGUudGVzdCggbm9kZS50eXBlIHx8IFwiXCIgKSAmJlxuXHRcdFx0XHRcdFx0XHQhZGF0YVByaXYuYWNjZXNzKCBub2RlLCBcImdsb2JhbEV2YWxcIiApICYmXG5cdFx0XHRcdFx0XHRcdGpRdWVyeS5jb250YWlucyggZG9jLCBub2RlICkgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRpZiAoIG5vZGUuc3JjICkge1xuXHRcblx0XHRcdFx0XHRcdFx0XHQvLyBPcHRpb25hbCBBSkFYIGRlcGVuZGVuY3ksIGJ1dCB3b24ndCBydW4gc2NyaXB0cyBpZiBub3QgcHJlc2VudFxuXHRcdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5Ll9ldmFsVXJsICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5Ll9ldmFsVXJsKCBub2RlLnNyYyApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRET01FdmFsKCBub2RlLnRleHRDb250ZW50LnJlcGxhY2UoIHJjbGVhblNjcmlwdCwgXCJcIiApLCBkb2MgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0cmV0dXJuIGNvbGxlY3Rpb247XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlbW92ZSggZWxlbSwgc2VsZWN0b3IsIGtlZXBEYXRhICkge1xuXHRcdHZhciBub2RlLFxuXHRcdFx0bm9kZXMgPSBzZWxlY3RvciA/IGpRdWVyeS5maWx0ZXIoIHNlbGVjdG9yLCBlbGVtICkgOiBlbGVtLFxuXHRcdFx0aSA9IDA7XG5cdFxuXHRcdGZvciAoIDsgKCBub2RlID0gbm9kZXNbIGkgXSApICE9IG51bGw7IGkrKyApIHtcblx0XHRcdGlmICggIWtlZXBEYXRhICYmIG5vZGUubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggbm9kZSApICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCBub2RlLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdGlmICgga2VlcERhdGEgJiYgalF1ZXJ5LmNvbnRhaW5zKCBub2RlLm93bmVyRG9jdW1lbnQsIG5vZGUgKSApIHtcblx0XHRcdFx0XHRzZXRHbG9iYWxFdmFsKCBnZXRBbGwoIG5vZGUsIFwic2NyaXB0XCIgKSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggbm9kZSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0cmV0dXJuIGVsZW07XG5cdH1cblx0XG5cdGpRdWVyeS5leHRlbmQoIHtcblx0XHRodG1sUHJlZmlsdGVyOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHRcdHJldHVybiBodG1sLnJlcGxhY2UoIHJ4aHRtbFRhZywgXCI8JDE+PC8kMj5cIiApO1xuXHRcdH0sXG5cdFxuXHRcdGNsb25lOiBmdW5jdGlvbiggZWxlbSwgZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKSB7XG5cdFx0XHR2YXIgaSwgbCwgc3JjRWxlbWVudHMsIGRlc3RFbGVtZW50cyxcblx0XHRcdFx0Y2xvbmUgPSBlbGVtLmNsb25lTm9kZSggdHJ1ZSApLFxuXHRcdFx0XHRpblBhZ2UgPSBqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApO1xuXHRcblx0XHRcdC8vIEZpeCBJRSBjbG9uaW5nIGlzc3Vlc1xuXHRcdFx0aWYgKCAhc3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCAmJiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgZWxlbS5ub2RlVHlwZSA9PT0gMTEgKSAmJlxuXHRcdFx0XHRcdCFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcblx0XG5cdFx0XHRcdC8vIFdlIGVzY2hldyBTaXp6bGUgaGVyZSBmb3IgcGVyZm9ybWFuY2UgcmVhc29uczogaHR0cHM6Ly9qc3BlcmYuY29tL2dldGFsbC12cy1zaXp6bGUvMlxuXHRcdFx0XHRkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lICk7XG5cdFx0XHRcdHNyY0VsZW1lbnRzID0gZ2V0QWxsKCBlbGVtICk7XG5cdFxuXHRcdFx0XHRmb3IgKCBpID0gMCwgbCA9IHNyY0VsZW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0XHRmaXhJbnB1dCggc3JjRWxlbWVudHNbIGkgXSwgZGVzdEVsZW1lbnRzWyBpIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdC8vIENvcHkgdGhlIGV2ZW50cyBmcm9tIHRoZSBvcmlnaW5hbCB0byB0aGUgY2xvbmVcblx0XHRcdGlmICggZGF0YUFuZEV2ZW50cyApIHtcblx0XHRcdFx0aWYgKCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHRcdFx0XHRzcmNFbGVtZW50cyA9IHNyY0VsZW1lbnRzIHx8IGdldEFsbCggZWxlbSApO1xuXHRcdFx0XHRcdGRlc3RFbGVtZW50cyA9IGRlc3RFbGVtZW50cyB8fCBnZXRBbGwoIGNsb25lICk7XG5cdFxuXHRcdFx0XHRcdGZvciAoIGkgPSAwLCBsID0gc3JjRWxlbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdFx0Y2xvbmVDb3B5RXZlbnQoIHNyY0VsZW1lbnRzWyBpIF0sIGRlc3RFbGVtZW50c1sgaSBdICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNsb25lQ29weUV2ZW50KCBlbGVtLCBjbG9uZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gUHJlc2VydmUgc2NyaXB0IGV2YWx1YXRpb24gaGlzdG9yeVxuXHRcdFx0ZGVzdEVsZW1lbnRzID0gZ2V0QWxsKCBjbG9uZSwgXCJzY3JpcHRcIiApO1xuXHRcdFx0aWYgKCBkZXN0RWxlbWVudHMubGVuZ3RoID4gMCApIHtcblx0XHRcdFx0c2V0R2xvYmFsRXZhbCggZGVzdEVsZW1lbnRzLCAhaW5QYWdlICYmIGdldEFsbCggZWxlbSwgXCJzY3JpcHRcIiApICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gUmV0dXJuIHRoZSBjbG9uZWQgc2V0XG5cdFx0XHRyZXR1cm4gY2xvbmU7XG5cdFx0fSxcblx0XG5cdFx0Y2xlYW5EYXRhOiBmdW5jdGlvbiggZWxlbXMgKSB7XG5cdFx0XHR2YXIgZGF0YSwgZWxlbSwgdHlwZSxcblx0XHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsLFxuXHRcdFx0XHRpID0gMDtcblx0XG5cdFx0XHRmb3IgKCA7ICggZWxlbSA9IGVsZW1zWyBpIF0gKSAhPT0gdW5kZWZpbmVkOyBpKysgKSB7XG5cdFx0XHRcdGlmICggYWNjZXB0RGF0YSggZWxlbSApICkge1xuXHRcdFx0XHRcdGlmICggKCBkYXRhID0gZWxlbVsgZGF0YVByaXYuZXhwYW5kbyBdICkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGRhdGEuZXZlbnRzICkge1xuXHRcdFx0XHRcdFx0XHRmb3IgKCB0eXBlIGluIGRhdGEuZXZlbnRzICkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICggc3BlY2lhbFsgdHlwZSBdICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnJlbW92ZSggZWxlbSwgdHlwZSApO1xuXHRcblx0XHRcdFx0XHRcdFx0XHQvLyBUaGlzIGlzIGEgc2hvcnRjdXQgdG8gYXZvaWQgalF1ZXJ5LmV2ZW50LnJlbW92ZSdzIG92ZXJoZWFkXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5yZW1vdmVFdmVudCggZWxlbSwgdHlwZSwgZGF0YS5oYW5kbGUgKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1K1xuXHRcdFx0XHRcdFx0Ly8gQXNzaWduIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIHVzaW5nIGRlbGV0ZSwgc2VlIERhdGEjcmVtb3ZlXG5cdFx0XHRcdFx0XHRlbGVtWyBkYXRhUHJpdi5leHBhbmRvIF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggZWxlbVsgZGF0YVVzZXIuZXhwYW5kbyBdICkge1xuXHRcblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZSA8PTM1IC0gNDUrXG5cdFx0XHRcdFx0XHQvLyBBc3NpZ24gdW5kZWZpbmVkIGluc3RlYWQgb2YgdXNpbmcgZGVsZXRlLCBzZWUgRGF0YSNyZW1vdmVcblx0XHRcdFx0XHRcdGVsZW1bIGRhdGFVc2VyLmV4cGFuZG8gXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0gKTtcblx0XG5cdGpRdWVyeS5mbi5leHRlbmQoIHtcblx0XHRkZXRhY2g6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRcdHJldHVybiByZW1vdmUoIHRoaXMsIHNlbGVjdG9yLCB0cnVlICk7XG5cdFx0fSxcblx0XG5cdFx0cmVtb3ZlOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gcmVtb3ZlKCB0aGlzLCBzZWxlY3RvciApO1xuXHRcdH0sXG5cdFxuXHRcdHRleHQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0cmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRcdGpRdWVyeS50ZXh0KCB0aGlzICkgOlxuXHRcdFx0XHRcdHRoaXMuZW1wdHkoKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHRcdFx0XHR0aGlzLnRleHRDb250ZW50ID0gdmFsdWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggKTtcblx0XHR9LFxuXHRcblx0XHRhcHBlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0XHR2YXIgdGFyZ2V0ID0gbWFuaXB1bGF0aW9uVGFyZ2V0KCB0aGlzLCBlbGVtICk7XG5cdFx0XHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKCBlbGVtICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9LFxuXHRcblx0XHRwcmVwZW5kOiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0dmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCggdGhpcywgZWxlbSApO1xuXHRcdFx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoIGVsZW0sIHRhcmdldC5maXJzdENoaWxkICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9LFxuXHRcblx0XHRiZWZvcmU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRpZiAoIHRoaXMucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0XHR0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0aGlzICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9LFxuXHRcblx0XHRhZnRlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdGlmICggdGhpcy5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRcdHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIGVsZW0sIHRoaXMubmV4dFNpYmxpbmcgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH0sXG5cdFxuXHRcdGVtcHR5OiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBlbGVtLFxuXHRcdFx0XHRpID0gMDtcblx0XG5cdFx0XHRmb3IgKCA7ICggZWxlbSA9IHRoaXNbIGkgXSApICE9IG51bGw7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcblx0XHRcdFx0XHQvLyBQcmV2ZW50IG1lbW9yeSBsZWFrc1xuXHRcdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggZWxlbSwgZmFsc2UgKSApO1xuXHRcblx0XHRcdFx0XHQvLyBSZW1vdmUgYW55IHJlbWFpbmluZyBub2Rlc1xuXHRcdFx0XHRcdGVsZW0udGV4dENvbnRlbnQgPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XG5cdFx0Y2xvbmU6IGZ1bmN0aW9uKCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHRcdGRhdGFBbmRFdmVudHMgPSBkYXRhQW5kRXZlbnRzID09IG51bGwgPyBmYWxzZSA6IGRhdGFBbmRFdmVudHM7XG5cdFx0XHRkZWVwRGF0YUFuZEV2ZW50cyA9IGRlZXBEYXRhQW5kRXZlbnRzID09IG51bGwgPyBkYXRhQW5kRXZlbnRzIDogZGVlcERhdGFBbmRFdmVudHM7XG5cdFxuXHRcdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIGpRdWVyeS5jbG9uZSggdGhpcywgZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKTtcblx0XHRcdH0gKTtcblx0XHR9LFxuXHRcblx0XHRodG1sOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRcdHZhciBlbGVtID0gdGhpc1sgMCBdIHx8IHt9LFxuXHRcdFx0XHRcdGkgPSAwLFxuXHRcdFx0XHRcdGwgPSB0aGlzLmxlbmd0aDtcblx0XG5cdFx0XHRcdGlmICggdmFsdWUgPT09IHVuZGVmaW5lZCAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0XHRcdHJldHVybiBlbGVtLmlubmVySFRNTDtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gU2VlIGlmIHdlIGNhbiB0YWtlIGEgc2hvcnRjdXQgYW5kIGp1c3QgdXNlIGlubmVySFRNTFxuXHRcdFx0XHRpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiAhcm5vSW5uZXJodG1sLnRlc3QoIHZhbHVlICkgJiZcblx0XHRcdFx0XHQhd3JhcE1hcFsgKCBydGFnTmFtZS5leGVjKCB2YWx1ZSApIHx8IFsgXCJcIiwgXCJcIiBdIClbIDEgXS50b0xvd2VyQ2FzZSgpIF0gKSB7XG5cdFxuXHRcdFx0XHRcdHZhbHVlID0galF1ZXJ5Lmh0bWxQcmVmaWx0ZXIoIHZhbHVlICk7XG5cdFxuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0XHRcdGVsZW0gPSB0aGlzWyBpIF0gfHwge307XG5cdFxuXHRcdFx0XHRcdFx0XHQvLyBSZW1vdmUgZWxlbWVudCBub2RlcyBhbmQgcHJldmVudCBtZW1vcnkgbGVha3Ncblx0XHRcdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggZWxlbSwgZmFsc2UgKSApO1xuXHRcdFx0XHRcdFx0XHRcdGVsZW0uaW5uZXJIVE1MID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRlbGVtID0gMDtcblx0XG5cdFx0XHRcdFx0Ly8gSWYgdXNpbmcgaW5uZXJIVE1MIHRocm93cyBhbiBleGNlcHRpb24sIHVzZSB0aGUgZmFsbGJhY2sgbWV0aG9kXG5cdFx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7fVxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRcdFx0dGhpcy5lbXB0eSgpLmFwcGVuZCggdmFsdWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggKTtcblx0XHR9LFxuXHRcblx0XHRyZXBsYWNlV2l0aDogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgaWdub3JlZCA9IFtdO1xuXHRcblx0XHRcdC8vIE1ha2UgdGhlIGNoYW5nZXMsIHJlcGxhY2luZyBlYWNoIG5vbi1pZ25vcmVkIGNvbnRleHQgZWxlbWVudCB3aXRoIHRoZSBuZXcgY29udGVudFxuXHRcdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlO1xuXHRcblx0XHRcdFx0aWYgKCBqUXVlcnkuaW5BcnJheSggdGhpcywgaWdub3JlZCApIDwgMCApIHtcblx0XHRcdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIHRoaXMgKSApO1xuXHRcdFx0XHRcdGlmICggcGFyZW50ICkge1xuXHRcdFx0XHRcdFx0cGFyZW50LnJlcGxhY2VDaGlsZCggZWxlbSwgdGhpcyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcblx0XHRcdC8vIEZvcmNlIGNhbGxiYWNrIGludm9jYXRpb25cblx0XHRcdH0sIGlnbm9yZWQgKTtcblx0XHR9XG5cdH0gKTtcblx0XG5cdGpRdWVyeS5lYWNoKCB7XG5cdFx0YXBwZW5kVG86IFwiYXBwZW5kXCIsXG5cdFx0cHJlcGVuZFRvOiBcInByZXBlbmRcIixcblx0XHRpbnNlcnRCZWZvcmU6IFwiYmVmb3JlXCIsXG5cdFx0aW5zZXJ0QWZ0ZXI6IFwiYWZ0ZXJcIixcblx0XHRyZXBsYWNlQWxsOiBcInJlcGxhY2VXaXRoXCJcblx0fSwgZnVuY3Rpb24oIG5hbWUsIG9yaWdpbmFsICkge1xuXHRcdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdFx0dmFyIGVsZW1zLFxuXHRcdFx0XHRyZXQgPSBbXSxcblx0XHRcdFx0aW5zZXJ0ID0galF1ZXJ5KCBzZWxlY3RvciApLFxuXHRcdFx0XHRsYXN0ID0gaW5zZXJ0Lmxlbmd0aCAtIDEsXG5cdFx0XHRcdGkgPSAwO1xuXHRcblx0XHRcdGZvciAoIDsgaSA8PSBsYXN0OyBpKysgKSB7XG5cdFx0XHRcdGVsZW1zID0gaSA9PT0gbGFzdCA/IHRoaXMgOiB0aGlzLmNsb25lKCB0cnVlICk7XG5cdFx0XHRcdGpRdWVyeSggaW5zZXJ0WyBpIF0gKVsgb3JpZ2luYWwgXSggZWxlbXMgKTtcblx0XG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdFx0XHQvLyAuZ2V0KCkgYmVjYXVzZSBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdHB1c2guYXBwbHkoIHJldCwgZWxlbXMuZ2V0KCkgKTtcblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHJldCApO1xuXHRcdH07XG5cdH0gKTtcblx0dmFyIHJtYXJnaW4gPSAoIC9ebWFyZ2luLyApO1xuXHRcblx0dmFyIHJudW1ub25weCA9IG5ldyBSZWdFeHAoIFwiXihcIiArIHBudW0gKyBcIikoPyFweClbYS16JV0rJFwiLCBcImlcIiApO1xuXHRcblx0dmFyIGdldFN0eWxlcyA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcblx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seSwgRmlyZWZveCA8PTMwICgjMTUwOTgsICMxNDE1MClcblx0XHRcdC8vIElFIHRocm93cyBvbiBlbGVtZW50cyBjcmVhdGVkIGluIHBvcHVwc1xuXHRcdFx0Ly8gRkYgbWVhbndoaWxlIHRocm93cyBvbiBmcmFtZSBlbGVtZW50cyB0aHJvdWdoIFwiZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZVwiXG5cdFx0XHR2YXIgdmlldyA9IGVsZW0ub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldztcblx0XG5cdFx0XHRpZiAoICF2aWV3IHx8ICF2aWV3Lm9wZW5lciApIHtcblx0XHRcdFx0dmlldyA9IHdpbmRvdztcblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gdmlldy5nZXRDb21wdXRlZFN0eWxlKCBlbGVtICk7XG5cdFx0fTtcblx0XG5cdFxuXHRcblx0KCBmdW5jdGlvbigpIHtcblx0XG5cdFx0Ly8gRXhlY3V0aW5nIGJvdGggcGl4ZWxQb3NpdGlvbiAmIGJveFNpemluZ1JlbGlhYmxlIHRlc3RzIHJlcXVpcmUgb25seSBvbmUgbGF5b3V0XG5cdFx0Ly8gc28gdGhleSdyZSBleGVjdXRlZCBhdCB0aGUgc2FtZSB0aW1lIHRvIHNhdmUgdGhlIHNlY29uZCBjb21wdXRhdGlvbi5cblx0XHRmdW5jdGlvbiBjb21wdXRlU3R5bGVUZXN0cygpIHtcblx0XG5cdFx0XHQvLyBUaGlzIGlzIGEgc2luZ2xldG9uLCB3ZSBuZWVkIHRvIGV4ZWN1dGUgaXQgb25seSBvbmNlXG5cdFx0XHRpZiAoICFkaXYgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHRkaXYuc3R5bGUuY3NzVGV4dCA9XG5cdFx0XHRcdFwiYm94LXNpemluZzpib3JkZXItYm94O1wiICtcblx0XHRcdFx0XCJwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO1wiICtcblx0XHRcdFx0XCJtYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4O1wiICtcblx0XHRcdFx0XCJ0b3A6MSU7d2lkdGg6NTAlXCI7XG5cdFx0XHRkaXYuaW5uZXJIVE1MID0gXCJcIjtcblx0XHRcdGRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZCggY29udGFpbmVyICk7XG5cdFxuXHRcdFx0dmFyIGRpdlN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoIGRpdiApO1xuXHRcdFx0cGl4ZWxQb3NpdGlvblZhbCA9IGRpdlN0eWxlLnRvcCAhPT0gXCIxJVwiO1xuXHRcblx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHksIEZpcmVmb3ggPD0zIC0gNDRcblx0XHRcdHJlbGlhYmxlTWFyZ2luTGVmdFZhbCA9IGRpdlN0eWxlLm1hcmdpbkxlZnQgPT09IFwiMnB4XCI7XG5cdFx0XHRib3hTaXppbmdSZWxpYWJsZVZhbCA9IGRpdlN0eWxlLndpZHRoID09PSBcIjRweFwiO1xuXHRcblx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHlcblx0XHRcdC8vIFNvbWUgc3R5bGVzIGNvbWUgYmFjayB3aXRoIHBlcmNlbnRhZ2UgdmFsdWVzLCBldmVuIHRob3VnaCB0aGV5IHNob3VsZG4ndFxuXHRcdFx0ZGl2LnN0eWxlLm1hcmdpblJpZ2h0ID0gXCI1MCVcIjtcblx0XHRcdHBpeGVsTWFyZ2luUmlnaHRWYWwgPSBkaXZTdHlsZS5tYXJnaW5SaWdodCA9PT0gXCI0cHhcIjtcblx0XG5cdFx0XHRkb2N1bWVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoIGNvbnRhaW5lciApO1xuXHRcblx0XHRcdC8vIE51bGxpZnkgdGhlIGRpdiBzbyBpdCB3b3VsZG4ndCBiZSBzdG9yZWQgaW4gdGhlIG1lbW9yeSBhbmRcblx0XHRcdC8vIGl0IHdpbGwgYWxzbyBiZSBhIHNpZ24gdGhhdCBjaGVja3MgYWxyZWFkeSBwZXJmb3JtZWRcblx0XHRcdGRpdiA9IG51bGw7XG5cdFx0fVxuXHRcblx0XHR2YXIgcGl4ZWxQb3NpdGlvblZhbCwgYm94U2l6aW5nUmVsaWFibGVWYWwsIHBpeGVsTWFyZ2luUmlnaHRWYWwsIHJlbGlhYmxlTWFyZ2luTGVmdFZhbCxcblx0XHRcdGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSxcblx0XHRcdGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcblx0XG5cdFx0Ly8gRmluaXNoIGVhcmx5IGluIGxpbWl0ZWQgKG5vbi1icm93c2VyKSBlbnZpcm9ubWVudHNcblx0XHRpZiAoICFkaXYuc3R5bGUgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcblx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG5cdFx0Ly8gU3R5bGUgb2YgY2xvbmVkIGVsZW1lbnQgYWZmZWN0cyBzb3VyY2UgZWxlbWVudCBjbG9uZWQgKCM4OTA4KVxuXHRcdGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9IFwiY29udGVudC1ib3hcIjtcblx0XHRkaXYuY2xvbmVOb2RlKCB0cnVlICkuc3R5bGUuYmFja2dyb3VuZENsaXAgPSBcIlwiO1xuXHRcdHN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlID0gZGl2LnN0eWxlLmJhY2tncm91bmRDbGlwID09PSBcImNvbnRlbnQtYm94XCI7XG5cdFxuXHRcdGNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gXCJib3JkZXI6MDt3aWR0aDo4cHg7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4O1wiICtcblx0XHRcdFwicGFkZGluZzowO21hcmdpbi10b3A6MXB4O3Bvc2l0aW9uOmFic29sdXRlXCI7XG5cdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKCBkaXYgKTtcblx0XG5cdFx0alF1ZXJ5LmV4dGVuZCggc3VwcG9ydCwge1xuXHRcdFx0cGl4ZWxQb3NpdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRcdHJldHVybiBwaXhlbFBvc2l0aW9uVmFsO1xuXHRcdFx0fSxcblx0XHRcdGJveFNpemluZ1JlbGlhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcblx0XHRcdFx0cmV0dXJuIGJveFNpemluZ1JlbGlhYmxlVmFsO1xuXHRcdFx0fSxcblx0XHRcdHBpeGVsTWFyZ2luUmlnaHQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0XHRyZXR1cm4gcGl4ZWxNYXJnaW5SaWdodFZhbDtcblx0XHRcdH0sXG5cdFx0XHRyZWxpYWJsZU1hcmdpbkxlZnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0XHRyZXR1cm4gcmVsaWFibGVNYXJnaW5MZWZ0VmFsO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSApKCk7XG5cdFxuXHRcblx0ZnVuY3Rpb24gY3VyQ1NTKCBlbGVtLCBuYW1lLCBjb21wdXRlZCApIHtcblx0XHR2YXIgd2lkdGgsIG1pbldpZHRoLCBtYXhXaWR0aCwgcmV0LFxuXHRcdFx0c3R5bGUgPSBlbGVtLnN0eWxlO1xuXHRcblx0XHRjb21wdXRlZCA9IGNvbXB1dGVkIHx8IGdldFN0eWxlcyggZWxlbSApO1xuXHRcblx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRcdC8vIGdldFByb3BlcnR5VmFsdWUgaXMgb25seSBuZWVkZWQgZm9yIC5jc3MoJ2ZpbHRlcicpICgjMTI1MzcpXG5cdFx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRcdHJldCA9IGNvbXB1dGVkLmdldFByb3BlcnR5VmFsdWUoIG5hbWUgKSB8fCBjb21wdXRlZFsgbmFtZSBdO1xuXHRcblx0XHRcdGlmICggcmV0ID09PSBcIlwiICYmICFqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApICkge1xuXHRcdFx0XHRyZXQgPSBqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUgKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBBIHRyaWJ1dGUgdG8gdGhlIFwiYXdlc29tZSBoYWNrIGJ5IERlYW4gRWR3YXJkc1wiXG5cdFx0XHQvLyBBbmRyb2lkIEJyb3dzZXIgcmV0dXJucyBwZXJjZW50YWdlIGZvciBzb21lIHZhbHVlcyxcblx0XHRcdC8vIGJ1dCB3aWR0aCBzZWVtcyB0byBiZSByZWxpYWJseSBwaXhlbHMuXG5cdFx0XHQvLyBUaGlzIGlzIGFnYWluc3QgdGhlIENTU09NIGRyYWZ0IHNwZWM6XG5cdFx0XHQvLyBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3Nzb20vI3Jlc29sdmVkLXZhbHVlc1xuXHRcdFx0aWYgKCAhc3VwcG9ydC5waXhlbE1hcmdpblJpZ2h0KCkgJiYgcm51bW5vbnB4LnRlc3QoIHJldCApICYmIHJtYXJnaW4udGVzdCggbmFtZSApICkge1xuXHRcblx0XHRcdFx0Ly8gUmVtZW1iZXIgdGhlIG9yaWdpbmFsIHZhbHVlc1xuXHRcdFx0XHR3aWR0aCA9IHN0eWxlLndpZHRoO1xuXHRcdFx0XHRtaW5XaWR0aCA9IHN0eWxlLm1pbldpZHRoO1xuXHRcdFx0XHRtYXhXaWR0aCA9IHN0eWxlLm1heFdpZHRoO1xuXHRcblx0XHRcdFx0Ly8gUHV0IGluIHRoZSBuZXcgdmFsdWVzIHRvIGdldCBhIGNvbXB1dGVkIHZhbHVlIG91dFxuXHRcdFx0XHRzdHlsZS5taW5XaWR0aCA9IHN0eWxlLm1heFdpZHRoID0gc3R5bGUud2lkdGggPSByZXQ7XG5cdFx0XHRcdHJldCA9IGNvbXB1dGVkLndpZHRoO1xuXHRcblx0XHRcdFx0Ly8gUmV2ZXJ0IHRoZSBjaGFuZ2VkIHZhbHVlc1xuXHRcdFx0XHRzdHlsZS53aWR0aCA9IHdpZHRoO1xuXHRcdFx0XHRzdHlsZS5taW5XaWR0aCA9IG1pbldpZHRoO1xuXHRcdFx0XHRzdHlsZS5tYXhXaWR0aCA9IG1heFdpZHRoO1xuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0cmV0dXJuIHJldCAhPT0gdW5kZWZpbmVkID9cblx0XG5cdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG5cdFx0XHQvLyBJRSByZXR1cm5zIHpJbmRleCB2YWx1ZSBhcyBhbiBpbnRlZ2VyLlxuXHRcdFx0cmV0ICsgXCJcIiA6XG5cdFx0XHRyZXQ7XG5cdH1cblx0XG5cdFxuXHRmdW5jdGlvbiBhZGRHZXRIb29rSWYoIGNvbmRpdGlvbkZuLCBob29rRm4gKSB7XG5cdFxuXHRcdC8vIERlZmluZSB0aGUgaG9vaywgd2UnbGwgY2hlY2sgb24gdGhlIGZpcnN0IHJ1biBpZiBpdCdzIHJlYWxseSBuZWVkZWQuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggY29uZGl0aW9uRm4oKSApIHtcblx0XG5cdFx0XHRcdFx0Ly8gSG9vayBub3QgbmVlZGVkIChvciBpdCdzIG5vdCBwb3NzaWJsZSB0byB1c2UgaXQgZHVlXG5cdFx0XHRcdFx0Ly8gdG8gbWlzc2luZyBkZXBlbmRlbmN5KSwgcmVtb3ZlIGl0LlxuXHRcdFx0XHRcdGRlbGV0ZSB0aGlzLmdldDtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIEhvb2sgbmVlZGVkOyByZWRlZmluZSBpdCBzbyB0aGF0IHRoZSBzdXBwb3J0IHRlc3QgaXMgbm90IGV4ZWN1dGVkIGFnYWluLlxuXHRcdFx0XHRyZXR1cm4gKCB0aGlzLmdldCA9IGhvb2tGbiApLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cdFxuXHRcblx0dmFyXG5cdFxuXHRcdC8vIFN3YXBwYWJsZSBpZiBkaXNwbGF5IGlzIG5vbmUgb3Igc3RhcnRzIHdpdGggdGFibGVcblx0XHQvLyBleGNlcHQgXCJ0YWJsZVwiLCBcInRhYmxlLWNlbGxcIiwgb3IgXCJ0YWJsZS1jYXB0aW9uXCJcblx0XHQvLyBTZWUgaGVyZSBmb3IgZGlzcGxheSB2YWx1ZXM6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvQ1NTL2Rpc3BsYXlcblx0XHRyZGlzcGxheXN3YXAgPSAvXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sXG5cdFx0Y3NzU2hvdyA9IHsgcG9zaXRpb246IFwiYWJzb2x1dGVcIiwgdmlzaWJpbGl0eTogXCJoaWRkZW5cIiwgZGlzcGxheTogXCJibG9ja1wiIH0sXG5cdFx0Y3NzTm9ybWFsVHJhbnNmb3JtID0ge1xuXHRcdFx0bGV0dGVyU3BhY2luZzogXCIwXCIsXG5cdFx0XHRmb250V2VpZ2h0OiBcIjQwMFwiXG5cdFx0fSxcblx0XG5cdFx0Y3NzUHJlZml4ZXMgPSBbIFwiV2Via2l0XCIsIFwiTW96XCIsIFwibXNcIiBdLFxuXHRcdGVtcHR5U3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkuc3R5bGU7XG5cdFxuXHQvLyBSZXR1cm4gYSBjc3MgcHJvcGVydHkgbWFwcGVkIHRvIGEgcG90ZW50aWFsbHkgdmVuZG9yIHByZWZpeGVkIHByb3BlcnR5XG5cdGZ1bmN0aW9uIHZlbmRvclByb3BOYW1lKCBuYW1lICkge1xuXHRcblx0XHQvLyBTaG9ydGN1dCBmb3IgbmFtZXMgdGhhdCBhcmUgbm90IHZlbmRvciBwcmVmaXhlZFxuXHRcdGlmICggbmFtZSBpbiBlbXB0eVN0eWxlICkge1xuXHRcdFx0cmV0dXJuIG5hbWU7XG5cdFx0fVxuXHRcblx0XHQvLyBDaGVjayBmb3IgdmVuZG9yIHByZWZpeGVkIG5hbWVzXG5cdFx0dmFyIGNhcE5hbWUgPSBuYW1lWyAwIF0udG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoIDEgKSxcblx0XHRcdGkgPSBjc3NQcmVmaXhlcy5sZW5ndGg7XG5cdFxuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0bmFtZSA9IGNzc1ByZWZpeGVzWyBpIF0gKyBjYXBOYW1lO1xuXHRcdFx0aWYgKCBuYW1lIGluIGVtcHR5U3R5bGUgKSB7XG5cdFx0XHRcdHJldHVybiBuYW1lO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gc2V0UG9zaXRpdmVOdW1iZXIoIGVsZW0sIHZhbHVlLCBzdWJ0cmFjdCApIHtcblx0XG5cdFx0Ly8gQW55IHJlbGF0aXZlICgrLy0pIHZhbHVlcyBoYXZlIGFscmVhZHkgYmVlblxuXHRcdC8vIG5vcm1hbGl6ZWQgYXQgdGhpcyBwb2ludFxuXHRcdHZhciBtYXRjaGVzID0gcmNzc051bS5leGVjKCB2YWx1ZSApO1xuXHRcdHJldHVybiBtYXRjaGVzID9cblx0XG5cdFx0XHQvLyBHdWFyZCBhZ2FpbnN0IHVuZGVmaW5lZCBcInN1YnRyYWN0XCIsIGUuZy4sIHdoZW4gdXNlZCBhcyBpbiBjc3NIb29rc1xuXHRcdFx0TWF0aC5tYXgoIDAsIG1hdGNoZXNbIDIgXSAtICggc3VidHJhY3QgfHwgMCApICkgKyAoIG1hdGNoZXNbIDMgXSB8fCBcInB4XCIgKSA6XG5cdFx0XHR2YWx1ZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYXVnbWVudFdpZHRoT3JIZWlnaHQoIGVsZW0sIG5hbWUsIGV4dHJhLCBpc0JvcmRlckJveCwgc3R5bGVzICkge1xuXHRcdHZhciBpID0gZXh0cmEgPT09ICggaXNCb3JkZXJCb3ggPyBcImJvcmRlclwiIDogXCJjb250ZW50XCIgKSA/XG5cdFxuXHRcdFx0Ly8gSWYgd2UgYWxyZWFkeSBoYXZlIHRoZSByaWdodCBtZWFzdXJlbWVudCwgYXZvaWQgYXVnbWVudGF0aW9uXG5cdFx0XHQ0IDpcblx0XG5cdFx0XHQvLyBPdGhlcndpc2UgaW5pdGlhbGl6ZSBmb3IgaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbCBwcm9wZXJ0aWVzXG5cdFx0XHRuYW1lID09PSBcIndpZHRoXCIgPyAxIDogMCxcblx0XG5cdFx0XHR2YWwgPSAwO1xuXHRcblx0XHRmb3IgKCA7IGkgPCA0OyBpICs9IDIgKSB7XG5cdFxuXHRcdFx0Ly8gQm90aCBib3ggbW9kZWxzIGV4Y2x1ZGUgbWFyZ2luLCBzbyBhZGQgaXQgaWYgd2Ugd2FudCBpdFxuXHRcdFx0aWYgKCBleHRyYSA9PT0gXCJtYXJnaW5cIiApIHtcblx0XHRcdFx0dmFsICs9IGpRdWVyeS5jc3MoIGVsZW0sIGV4dHJhICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggaXNCb3JkZXJCb3ggKSB7XG5cdFxuXHRcdFx0XHQvLyBib3JkZXItYm94IGluY2x1ZGVzIHBhZGRpbmcsIHNvIHJlbW92ZSBpdCBpZiB3ZSB3YW50IGNvbnRlbnRcblx0XHRcdFx0aWYgKCBleHRyYSA9PT0gXCJjb250ZW50XCIgKSB7XG5cdFx0XHRcdFx0dmFsIC09IGpRdWVyeS5jc3MoIGVsZW0sIFwicGFkZGluZ1wiICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBBdCB0aGlzIHBvaW50LCBleHRyYSBpc24ndCBib3JkZXIgbm9yIG1hcmdpbiwgc28gcmVtb3ZlIGJvcmRlclxuXHRcdFx0XHRpZiAoIGV4dHJhICE9PSBcIm1hcmdpblwiICkge1xuXHRcdFx0XHRcdHZhbCAtPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kWyBpIF0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcblx0XHRcdFx0Ly8gQXQgdGhpcyBwb2ludCwgZXh0cmEgaXNuJ3QgY29udGVudCwgc28gYWRkIHBhZGRpbmdcblx0XHRcdFx0dmFsICs9IGpRdWVyeS5jc3MoIGVsZW0sIFwicGFkZGluZ1wiICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApO1xuXHRcblx0XHRcdFx0Ly8gQXQgdGhpcyBwb2ludCwgZXh0cmEgaXNuJ3QgY29udGVudCBub3IgcGFkZGluZywgc28gYWRkIGJvcmRlclxuXHRcdFx0XHRpZiAoIGV4dHJhICE9PSBcInBhZGRpbmdcIiApIHtcblx0XHRcdFx0XHR2YWwgKz0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3JkZXJcIiArIGNzc0V4cGFuZFsgaSBdICsgXCJXaWR0aFwiLCB0cnVlLCBzdHlsZXMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0cmV0dXJuIHZhbDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0V2lkdGhPckhlaWdodCggZWxlbSwgbmFtZSwgZXh0cmEgKSB7XG5cdFxuXHRcdC8vIFN0YXJ0IHdpdGggb2Zmc2V0IHByb3BlcnR5LCB3aGljaCBpcyBlcXVpdmFsZW50IHRvIHRoZSBib3JkZXItYm94IHZhbHVlXG5cdFx0dmFyIHZhbCxcblx0XHRcdHZhbHVlSXNCb3JkZXJCb3ggPSB0cnVlLFxuXHRcdFx0c3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICksXG5cdFx0XHRpc0JvcmRlckJveCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm94U2l6aW5nXCIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gXCJib3JkZXItYm94XCI7XG5cdFxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuXHRcdC8vIFJ1bm5pbmcgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IG9uIGEgZGlzY29ubmVjdGVkIG5vZGVcblx0XHQvLyBpbiBJRSB0aHJvd3MgYW4gZXJyb3IuXG5cdFx0aWYgKCBlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoICkge1xuXHRcdFx0dmFsID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVsgbmFtZSBdO1xuXHRcdH1cblx0XG5cdFx0Ly8gU29tZSBub24taHRtbCBlbGVtZW50cyByZXR1cm4gdW5kZWZpbmVkIGZvciBvZmZzZXRXaWR0aCwgc28gY2hlY2sgZm9yIG51bGwvdW5kZWZpbmVkXG5cdFx0Ly8gc3ZnIC0gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NjQ5Mjg1XG5cdFx0Ly8gTWF0aE1MIC0gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NDkxNjY4XG5cdFx0aWYgKCB2YWwgPD0gMCB8fCB2YWwgPT0gbnVsbCApIHtcblx0XG5cdFx0XHQvLyBGYWxsIGJhY2sgdG8gY29tcHV0ZWQgdGhlbiB1bmNvbXB1dGVkIGNzcyBpZiBuZWNlc3Nhcnlcblx0XHRcdHZhbCA9IGN1ckNTUyggZWxlbSwgbmFtZSwgc3R5bGVzICk7XG5cdFx0XHRpZiAoIHZhbCA8IDAgfHwgdmFsID09IG51bGwgKSB7XG5cdFx0XHRcdHZhbCA9IGVsZW0uc3R5bGVbIG5hbWUgXTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBDb21wdXRlZCB1bml0IGlzIG5vdCBwaXhlbHMuIFN0b3AgaGVyZSBhbmQgcmV0dXJuLlxuXHRcdFx0aWYgKCBybnVtbm9ucHgudGVzdCggdmFsICkgKSB7XG5cdFx0XHRcdHJldHVybiB2YWw7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gQ2hlY2sgZm9yIHN0eWxlIGluIGNhc2UgYSBicm93c2VyIHdoaWNoIHJldHVybnMgdW5yZWxpYWJsZSB2YWx1ZXNcblx0XHRcdC8vIGZvciBnZXRDb21wdXRlZFN0eWxlIHNpbGVudGx5IGZhbGxzIGJhY2sgdG8gdGhlIHJlbGlhYmxlIGVsZW0uc3R5bGVcblx0XHRcdHZhbHVlSXNCb3JkZXJCb3ggPSBpc0JvcmRlckJveCAmJlxuXHRcdFx0XHQoIHN1cHBvcnQuYm94U2l6aW5nUmVsaWFibGUoKSB8fCB2YWwgPT09IGVsZW0uc3R5bGVbIG5hbWUgXSApO1xuXHRcblx0XHRcdC8vIE5vcm1hbGl6ZSBcIlwiLCBhdXRvLCBhbmQgcHJlcGFyZSBmb3IgZXh0cmFcblx0XHRcdHZhbCA9IHBhcnNlRmxvYXQoIHZhbCApIHx8IDA7XG5cdFx0fVxuXHRcblx0XHQvLyBVc2UgdGhlIGFjdGl2ZSBib3gtc2l6aW5nIG1vZGVsIHRvIGFkZC9zdWJ0cmFjdCBpcnJlbGV2YW50IHN0eWxlc1xuXHRcdHJldHVybiAoIHZhbCArXG5cdFx0XHRhdWdtZW50V2lkdGhPckhlaWdodChcblx0XHRcdFx0ZWxlbSxcblx0XHRcdFx0bmFtZSxcblx0XHRcdFx0ZXh0cmEgfHwgKCBpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIiApLFxuXHRcdFx0XHR2YWx1ZUlzQm9yZGVyQm94LFxuXHRcdFx0XHRzdHlsZXNcblx0XHRcdClcblx0XHQpICsgXCJweFwiO1xuXHR9XG5cdFxuXHRqUXVlcnkuZXh0ZW5kKCB7XG5cdFxuXHRcdC8vIEFkZCBpbiBzdHlsZSBwcm9wZXJ0eSBob29rcyBmb3Igb3ZlcnJpZGluZyB0aGUgZGVmYXVsdFxuXHRcdC8vIGJlaGF2aW9yIG9mIGdldHRpbmcgYW5kIHNldHRpbmcgYSBzdHlsZSBwcm9wZXJ0eVxuXHRcdGNzc0hvb2tzOiB7XG5cdFx0XHRvcGFjaXR5OiB7XG5cdFx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xuXHRcdFx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gV2Ugc2hvdWxkIGFsd2F5cyBnZXQgYSBudW1iZXIgYmFjayBmcm9tIG9wYWNpdHlcblx0XHRcdFx0XHRcdHZhciByZXQgPSBjdXJDU1MoIGVsZW0sIFwib3BhY2l0eVwiICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmV0ID09PSBcIlwiID8gXCIxXCIgOiByZXQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0Ly8gRG9uJ3QgYXV0b21hdGljYWxseSBhZGQgXCJweFwiIHRvIHRoZXNlIHBvc3NpYmx5LXVuaXRsZXNzIHByb3BlcnRpZXNcblx0XHRjc3NOdW1iZXI6IHtcblx0XHRcdFwiYW5pbWF0aW9uSXRlcmF0aW9uQ291bnRcIjogdHJ1ZSxcblx0XHRcdFwiY29sdW1uQ291bnRcIjogdHJ1ZSxcblx0XHRcdFwiZmlsbE9wYWNpdHlcIjogdHJ1ZSxcblx0XHRcdFwiZmxleEdyb3dcIjogdHJ1ZSxcblx0XHRcdFwiZmxleFNocmlua1wiOiB0cnVlLFxuXHRcdFx0XCJmb250V2VpZ2h0XCI6IHRydWUsXG5cdFx0XHRcImxpbmVIZWlnaHRcIjogdHJ1ZSxcblx0XHRcdFwib3BhY2l0eVwiOiB0cnVlLFxuXHRcdFx0XCJvcmRlclwiOiB0cnVlLFxuXHRcdFx0XCJvcnBoYW5zXCI6IHRydWUsXG5cdFx0XHRcIndpZG93c1wiOiB0cnVlLFxuXHRcdFx0XCJ6SW5kZXhcIjogdHJ1ZSxcblx0XHRcdFwiem9vbVwiOiB0cnVlXG5cdFx0fSxcblx0XG5cdFx0Ly8gQWRkIGluIHByb3BlcnRpZXMgd2hvc2UgbmFtZXMgeW91IHdpc2ggdG8gZml4IGJlZm9yZVxuXHRcdC8vIHNldHRpbmcgb3IgZ2V0dGluZyB0aGUgdmFsdWVcblx0XHRjc3NQcm9wczoge1xuXHRcdFx0XCJmbG9hdFwiOiBcImNzc0Zsb2F0XCJcblx0XHR9LFxuXHRcblx0XHQvLyBHZXQgYW5kIHNldCB0aGUgc3R5bGUgcHJvcGVydHkgb24gYSBET00gTm9kZVxuXHRcdHN0eWxlOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUsIGV4dHJhICkge1xuXHRcblx0XHRcdC8vIERvbid0IHNldCBzdHlsZXMgb24gdGV4dCBhbmQgY29tbWVudCBub2Rlc1xuXHRcdFx0aWYgKCAhZWxlbSB8fCBlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggfHwgIWVsZW0uc3R5bGUgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWVcblx0XHRcdHZhciByZXQsIHR5cGUsIGhvb2tzLFxuXHRcdFx0XHRvcmlnTmFtZSA9IGpRdWVyeS5jYW1lbENhc2UoIG5hbWUgKSxcblx0XHRcdFx0c3R5bGUgPSBlbGVtLnN0eWxlO1xuXHRcblx0XHRcdG5hbWUgPSBqUXVlcnkuY3NzUHJvcHNbIG9yaWdOYW1lIF0gfHxcblx0XHRcdFx0KCBqUXVlcnkuY3NzUHJvcHNbIG9yaWdOYW1lIF0gPSB2ZW5kb3JQcm9wTmFtZSggb3JpZ05hbWUgKSB8fCBvcmlnTmFtZSApO1xuXHRcblx0XHRcdC8vIEdldHMgaG9vayBmb3IgdGhlIHByZWZpeGVkIHZlcnNpb24sIHRoZW4gdW5wcmVmaXhlZCB2ZXJzaW9uXG5cdFx0XHRob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdIHx8IGpRdWVyeS5jc3NIb29rc1sgb3JpZ05hbWUgXTtcblx0XG5cdFx0XHQvLyBDaGVjayBpZiB3ZSdyZSBzZXR0aW5nIGEgdmFsdWVcblx0XHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0dHlwZSA9IHR5cGVvZiB2YWx1ZTtcblx0XG5cdFx0XHRcdC8vIENvbnZlcnQgXCIrPVwiIG9yIFwiLT1cIiB0byByZWxhdGl2ZSBudW1iZXJzICgjNzM0NSlcblx0XHRcdFx0aWYgKCB0eXBlID09PSBcInN0cmluZ1wiICYmICggcmV0ID0gcmNzc051bS5leGVjKCB2YWx1ZSApICkgJiYgcmV0WyAxIF0gKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSBhZGp1c3RDU1MoIGVsZW0sIG5hbWUsIHJldCApO1xuXHRcblx0XHRcdFx0XHQvLyBGaXhlcyBidWcgIzkyMzdcblx0XHRcdFx0XHR0eXBlID0gXCJudW1iZXJcIjtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gTWFrZSBzdXJlIHRoYXQgbnVsbCBhbmQgTmFOIHZhbHVlcyBhcmVuJ3Qgc2V0ICgjNzExNilcblx0XHRcdFx0aWYgKCB2YWx1ZSA9PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZSApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIElmIGEgbnVtYmVyIHdhcyBwYXNzZWQgaW4sIGFkZCB0aGUgdW5pdCAoZXhjZXB0IGZvciBjZXJ0YWluIENTUyBwcm9wZXJ0aWVzKVxuXHRcdFx0XHRpZiAoIHR5cGUgPT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdFx0dmFsdWUgKz0gcmV0ICYmIHJldFsgMyBdIHx8ICggalF1ZXJ5LmNzc051bWJlclsgb3JpZ05hbWUgXSA/IFwiXCIgOiBcInB4XCIgKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gYmFja2dyb3VuZC0qIHByb3BzIGFmZmVjdCBvcmlnaW5hbCBjbG9uZSdzIHZhbHVlc1xuXHRcdFx0XHRpZiAoICFzdXBwb3J0LmNsZWFyQ2xvbmVTdHlsZSAmJiB2YWx1ZSA9PT0gXCJcIiAmJiBuYW1lLmluZGV4T2YoIFwiYmFja2dyb3VuZFwiICkgPT09IDAgKSB7XG5cdFx0XHRcdFx0c3R5bGVbIG5hbWUgXSA9IFwiaW5oZXJpdFwiO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkLCB1c2UgdGhhdCB2YWx1ZSwgb3RoZXJ3aXNlIGp1c3Qgc2V0IHRoZSBzcGVjaWZpZWQgdmFsdWVcblx0XHRcdFx0aWYgKCAhaG9va3MgfHwgISggXCJzZXRcIiBpbiBob29rcyApIHx8XG5cdFx0XHRcdFx0KCB2YWx1ZSA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIGV4dHJhICkgKSAhPT0gdW5kZWZpbmVkICkge1xuXHRcblx0XHRcdFx0XHRzdHlsZVsgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHR9IGVsc2Uge1xuXHRcblx0XHRcdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIG5vbi1jb21wdXRlZCB2YWx1ZSBmcm9tIHRoZXJlXG5cdFx0XHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHRcdCggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBmYWxzZSwgZXh0cmEgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cdFxuXHRcdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIE90aGVyd2lzZSBqdXN0IGdldCB0aGUgdmFsdWUgZnJvbSB0aGUgc3R5bGUgb2JqZWN0XG5cdFx0XHRcdHJldHVybiBzdHlsZVsgbmFtZSBdO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdGNzczogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGV4dHJhLCBzdHlsZXMgKSB7XG5cdFx0XHR2YXIgdmFsLCBudW0sIGhvb2tzLFxuXHRcdFx0XHRvcmlnTmFtZSA9IGpRdWVyeS5jYW1lbENhc2UoIG5hbWUgKTtcblx0XG5cdFx0XHQvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWVcblx0XHRcdG5hbWUgPSBqUXVlcnkuY3NzUHJvcHNbIG9yaWdOYW1lIF0gfHxcblx0XHRcdFx0KCBqUXVlcnkuY3NzUHJvcHNbIG9yaWdOYW1lIF0gPSB2ZW5kb3JQcm9wTmFtZSggb3JpZ05hbWUgKSB8fCBvcmlnTmFtZSApO1xuXHRcblx0XHRcdC8vIFRyeSBwcmVmaXhlZCBuYW1lIGZvbGxvd2VkIGJ5IHRoZSB1bnByZWZpeGVkIG5hbWVcblx0XHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gfHwgalF1ZXJ5LmNzc0hvb2tzWyBvcmlnTmFtZSBdO1xuXHRcblx0XHRcdC8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQgZ2V0IHRoZSBjb21wdXRlZCB2YWx1ZSBmcm9tIHRoZXJlXG5cdFx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgKSB7XG5cdFx0XHRcdHZhbCA9IGhvb2tzLmdldCggZWxlbSwgdHJ1ZSwgZXh0cmEgKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBPdGhlcndpc2UsIGlmIGEgd2F5IHRvIGdldCB0aGUgY29tcHV0ZWQgdmFsdWUgZXhpc3RzLCB1c2UgdGhhdFxuXHRcdFx0aWYgKCB2YWwgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0dmFsID0gY3VyQ1NTKCBlbGVtLCBuYW1lLCBzdHlsZXMgKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBDb252ZXJ0IFwibm9ybWFsXCIgdG8gY29tcHV0ZWQgdmFsdWVcblx0XHRcdGlmICggdmFsID09PSBcIm5vcm1hbFwiICYmIG5hbWUgaW4gY3NzTm9ybWFsVHJhbnNmb3JtICkge1xuXHRcdFx0XHR2YWwgPSBjc3NOb3JtYWxUcmFuc2Zvcm1bIG5hbWUgXTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBNYWtlIG51bWVyaWMgaWYgZm9yY2VkIG9yIGEgcXVhbGlmaWVyIHdhcyBwcm92aWRlZCBhbmQgdmFsIGxvb2tzIG51bWVyaWNcblx0XHRcdGlmICggZXh0cmEgPT09IFwiXCIgfHwgZXh0cmEgKSB7XG5cdFx0XHRcdG51bSA9IHBhcnNlRmxvYXQoIHZhbCApO1xuXHRcdFx0XHRyZXR1cm4gZXh0cmEgPT09IHRydWUgfHwgaXNGaW5pdGUoIG51bSApID8gbnVtIHx8IDAgOiB2YWw7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdmFsO1xuXHRcdH1cblx0fSApO1xuXHRcblx0alF1ZXJ5LmVhY2goIFsgXCJoZWlnaHRcIiwgXCJ3aWR0aFwiIF0sIGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHRcdGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdID0ge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQsIGV4dHJhICkge1xuXHRcdFx0XHRpZiAoIGNvbXB1dGVkICkge1xuXHRcblx0XHRcdFx0XHQvLyBDZXJ0YWluIGVsZW1lbnRzIGNhbiBoYXZlIGRpbWVuc2lvbiBpbmZvIGlmIHdlIGludmlzaWJseSBzaG93IHRoZW1cblx0XHRcdFx0XHQvLyBidXQgaXQgbXVzdCBoYXZlIGEgY3VycmVudCBkaXNwbGF5IHN0eWxlIHRoYXQgd291bGQgYmVuZWZpdFxuXHRcdFx0XHRcdHJldHVybiByZGlzcGxheXN3YXAudGVzdCggalF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSApICYmXG5cdFxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogU2FmYXJpIDgrXG5cdFx0XHRcdFx0XHQvLyBUYWJsZSBjb2x1bW5zIGluIFNhZmFyaSBoYXZlIG5vbi16ZXJvIG9mZnNldFdpZHRoICYgemVyb1xuXHRcdFx0XHRcdFx0Ly8gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggdW5sZXNzIGRpc3BsYXkgaXMgY2hhbmdlZC5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuXHRcdFx0XHRcdFx0Ly8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYSBkaXNjb25uZWN0ZWQgbm9kZVxuXHRcdFx0XHRcdFx0Ly8gaW4gSUUgdGhyb3dzIGFuIGVycm9yLlxuXHRcdFx0XHRcdFx0KCAhZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCB8fCAhZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCApID9cblx0XHRcdFx0XHRcdFx0c3dhcCggZWxlbSwgY3NzU2hvdywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIG5hbWUsIGV4dHJhICk7XG5cdFx0XHRcdFx0XHRcdH0gKSA6XG5cdFx0XHRcdFx0XHRcdGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIG5hbWUsIGV4dHJhICk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFxuXHRcdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIGV4dHJhICkge1xuXHRcdFx0XHR2YXIgbWF0Y2hlcyxcblx0XHRcdFx0XHRzdHlsZXMgPSBleHRyYSAmJiBnZXRTdHlsZXMoIGVsZW0gKSxcblx0XHRcdFx0XHRzdWJ0cmFjdCA9IGV4dHJhICYmIGF1Z21lbnRXaWR0aE9ySGVpZ2h0KFxuXHRcdFx0XHRcdFx0ZWxlbSxcblx0XHRcdFx0XHRcdG5hbWUsXG5cdFx0XHRcdFx0XHRleHRyYSxcblx0XHRcdFx0XHRcdGpRdWVyeS5jc3MoIGVsZW0sIFwiYm94U2l6aW5nXCIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gXCJib3JkZXItYm94XCIsXG5cdFx0XHRcdFx0XHRzdHlsZXNcblx0XHRcdFx0XHQpO1xuXHRcblx0XHRcdFx0Ly8gQ29udmVydCB0byBwaXhlbHMgaWYgdmFsdWUgYWRqdXN0bWVudCBpcyBuZWVkZWRcblx0XHRcdFx0aWYgKCBzdWJ0cmFjdCAmJiAoIG1hdGNoZXMgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICkgKSAmJlxuXHRcdFx0XHRcdCggbWF0Y2hlc1sgMyBdIHx8IFwicHhcIiApICE9PSBcInB4XCIgKSB7XG5cdFxuXHRcdFx0XHRcdGVsZW0uc3R5bGVbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0XHRcdHZhbHVlID0galF1ZXJ5LmNzcyggZWxlbSwgbmFtZSApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRyZXR1cm4gc2V0UG9zaXRpdmVOdW1iZXIoIGVsZW0sIHZhbHVlLCBzdWJ0cmFjdCApO1xuXHRcdFx0fVxuXHRcdH07XG5cdH0gKTtcblx0XG5cdGpRdWVyeS5jc3NIb29rcy5tYXJnaW5MZWZ0ID0gYWRkR2V0SG9va0lmKCBzdXBwb3J0LnJlbGlhYmxlTWFyZ2luTGVmdCxcblx0XHRmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7XG5cdFx0XHRpZiAoIGNvbXB1dGVkICkge1xuXHRcdFx0XHRyZXR1cm4gKCBwYXJzZUZsb2F0KCBjdXJDU1MoIGVsZW0sIFwibWFyZ2luTGVmdFwiICkgKSB8fFxuXHRcdFx0XHRcdGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCAtXG5cdFx0XHRcdFx0XHRzd2FwKCBlbGVtLCB7IG1hcmdpbkxlZnQ6IDAgfSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG5cdFx0XHRcdFx0XHR9IClcblx0XHRcdFx0XHQpICsgXCJweFwiO1xuXHRcdFx0fVxuXHRcdH1cblx0KTtcblx0XG5cdC8vIFRoZXNlIGhvb2tzIGFyZSB1c2VkIGJ5IGFuaW1hdGUgdG8gZXhwYW5kIHByb3BlcnRpZXNcblx0alF1ZXJ5LmVhY2goIHtcblx0XHRtYXJnaW46IFwiXCIsXG5cdFx0cGFkZGluZzogXCJcIixcblx0XHRib3JkZXI6IFwiV2lkdGhcIlxuXHR9LCBmdW5jdGlvbiggcHJlZml4LCBzdWZmaXggKSB7XG5cdFx0alF1ZXJ5LmNzc0hvb2tzWyBwcmVmaXggKyBzdWZmaXggXSA9IHtcblx0XHRcdGV4cGFuZDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHR2YXIgaSA9IDAsXG5cdFx0XHRcdFx0ZXhwYW5kZWQgPSB7fSxcblx0XG5cdFx0XHRcdFx0Ly8gQXNzdW1lcyBhIHNpbmdsZSBudW1iZXIgaWYgbm90IGEgc3RyaW5nXG5cdFx0XHRcdFx0cGFydHMgPSB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyB2YWx1ZS5zcGxpdCggXCIgXCIgKSA6IFsgdmFsdWUgXTtcblx0XG5cdFx0XHRcdGZvciAoIDsgaSA8IDQ7IGkrKyApIHtcblx0XHRcdFx0XHRleHBhbmRlZFsgcHJlZml4ICsgY3NzRXhwYW5kWyBpIF0gKyBzdWZmaXggXSA9XG5cdFx0XHRcdFx0XHRwYXJ0c1sgaSBdIHx8IHBhcnRzWyBpIC0gMiBdIHx8IHBhcnRzWyAwIF07XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHJldHVybiBleHBhbmRlZDtcblx0XHRcdH1cblx0XHR9O1xuXHRcblx0XHRpZiAoICFybWFyZ2luLnRlc3QoIHByZWZpeCApICkge1xuXHRcdFx0alF1ZXJ5LmNzc0hvb2tzWyBwcmVmaXggKyBzdWZmaXggXS5zZXQgPSBzZXRQb3NpdGl2ZU51bWJlcjtcblx0XHR9XG5cdH0gKTtcblx0XG5cdGpRdWVyeS5mbi5leHRlbmQoIHtcblx0XHRjc3M6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHtcblx0XHRcdFx0dmFyIHN0eWxlcywgbGVuLFxuXHRcdFx0XHRcdG1hcCA9IHt9LFxuXHRcdFx0XHRcdGkgPSAwO1xuXHRcblx0XHRcdFx0aWYgKCBqUXVlcnkuaXNBcnJheSggbmFtZSApICkge1xuXHRcdFx0XHRcdHN0eWxlcyA9IGdldFN0eWxlcyggZWxlbSApO1xuXHRcdFx0XHRcdGxlbiA9IG5hbWUubGVuZ3RoO1xuXHRcblx0XHRcdFx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0XHRcdG1hcFsgbmFtZVsgaSBdIF0gPSBqUXVlcnkuY3NzKCBlbGVtLCBuYW1lWyBpIF0sIGZhbHNlLCBzdHlsZXMgKTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdHJldHVybiBtYXA7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkID9cblx0XHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUsIHZhbHVlICkgOlxuXHRcdFx0XHRcdGpRdWVyeS5jc3MoIGVsZW0sIG5hbWUgKTtcblx0XHRcdH0sIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuXHRcdH1cblx0fSApO1xuXHRcblx0XG5cdGZ1bmN0aW9uIFR3ZWVuKCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZyApIHtcblx0XHRyZXR1cm4gbmV3IFR3ZWVuLnByb3RvdHlwZS5pbml0KCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZyApO1xuXHR9XG5cdGpRdWVyeS5Ud2VlbiA9IFR3ZWVuO1xuXHRcblx0VHdlZW4ucHJvdG90eXBlID0ge1xuXHRcdGNvbnN0cnVjdG9yOiBUd2Vlbixcblx0XHRpbml0OiBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcsIHVuaXQgKSB7XG5cdFx0XHR0aGlzLmVsZW0gPSBlbGVtO1xuXHRcdFx0dGhpcy5wcm9wID0gcHJvcDtcblx0XHRcdHRoaXMuZWFzaW5nID0gZWFzaW5nIHx8IGpRdWVyeS5lYXNpbmcuX2RlZmF1bHQ7XG5cdFx0XHR0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXHRcdFx0dGhpcy5zdGFydCA9IHRoaXMubm93ID0gdGhpcy5jdXIoKTtcblx0XHRcdHRoaXMuZW5kID0gZW5kO1xuXHRcdFx0dGhpcy51bml0ID0gdW5pdCB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSA/IFwiXCIgOiBcInB4XCIgKTtcblx0XHR9LFxuXHRcdGN1cjogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgaG9va3MgPSBUd2Vlbi5wcm9wSG9va3NbIHRoaXMucHJvcCBdO1xuXHRcblx0XHRcdHJldHVybiBob29rcyAmJiBob29rcy5nZXQgP1xuXHRcdFx0XHRob29rcy5nZXQoIHRoaXMgKSA6XG5cdFx0XHRcdFR3ZWVuLnByb3BIb29rcy5fZGVmYXVsdC5nZXQoIHRoaXMgKTtcblx0XHR9LFxuXHRcdHJ1bjogZnVuY3Rpb24oIHBlcmNlbnQgKSB7XG5cdFx0XHR2YXIgZWFzZWQsXG5cdFx0XHRcdGhvb2tzID0gVHdlZW4ucHJvcEhvb2tzWyB0aGlzLnByb3AgXTtcblx0XG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5kdXJhdGlvbiApIHtcblx0XHRcdFx0dGhpcy5wb3MgPSBlYXNlZCA9IGpRdWVyeS5lYXNpbmdbIHRoaXMuZWFzaW5nIF0oXG5cdFx0XHRcdFx0cGVyY2VudCwgdGhpcy5vcHRpb25zLmR1cmF0aW9uICogcGVyY2VudCwgMCwgMSwgdGhpcy5vcHRpb25zLmR1cmF0aW9uXG5cdFx0XHRcdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnBvcyA9IGVhc2VkID0gcGVyY2VudDtcblx0XHRcdH1cblx0XHRcdHRoaXMubm93ID0gKCB0aGlzLmVuZCAtIHRoaXMuc3RhcnQgKSAqIGVhc2VkICsgdGhpcy5zdGFydDtcblx0XG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5zdGVwICkge1xuXHRcdFx0XHR0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKCB0aGlzLmVsZW0sIHRoaXMubm93LCB0aGlzICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCBob29rcyAmJiBob29rcy5zZXQgKSB7XG5cdFx0XHRcdGhvb2tzLnNldCggdGhpcyApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0VHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LnNldCggdGhpcyApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9O1xuXHRcblx0VHdlZW4ucHJvdG90eXBlLmluaXQucHJvdG90eXBlID0gVHdlZW4ucHJvdG90eXBlO1xuXHRcblx0VHdlZW4ucHJvcEhvb2tzID0ge1xuXHRcdF9kZWZhdWx0OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcblx0XHRcdFx0dmFyIHJlc3VsdDtcblx0XG5cdFx0XHRcdC8vIFVzZSBhIHByb3BlcnR5IG9uIHRoZSBlbGVtZW50IGRpcmVjdGx5IHdoZW4gaXQgaXMgbm90IGEgRE9NIGVsZW1lbnQsXG5cdFx0XHRcdC8vIG9yIHdoZW4gdGhlcmUgaXMgbm8gbWF0Y2hpbmcgc3R5bGUgcHJvcGVydHkgdGhhdCBleGlzdHMuXG5cdFx0XHRcdGlmICggdHdlZW4uZWxlbS5ub2RlVHlwZSAhPT0gMSB8fFxuXHRcdFx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSAhPSBudWxsICYmIHR3ZWVuLmVsZW0uc3R5bGVbIHR3ZWVuLnByb3AgXSA9PSBudWxsICkge1xuXHRcdFx0XHRcdHJldHVybiB0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF07XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFBhc3NpbmcgYW4gZW1wdHkgc3RyaW5nIGFzIGEgM3JkIHBhcmFtZXRlciB0byAuY3NzIHdpbGwgYXV0b21hdGljYWxseVxuXHRcdFx0XHQvLyBhdHRlbXB0IGEgcGFyc2VGbG9hdCBhbmQgZmFsbGJhY2sgdG8gYSBzdHJpbmcgaWYgdGhlIHBhcnNlIGZhaWxzLlxuXHRcdFx0XHQvLyBTaW1wbGUgdmFsdWVzIHN1Y2ggYXMgXCIxMHB4XCIgYXJlIHBhcnNlZCB0byBGbG9hdDtcblx0XHRcdFx0Ly8gY29tcGxleCB2YWx1ZXMgc3VjaCBhcyBcInJvdGF0ZSgxcmFkKVwiIGFyZSByZXR1cm5lZCBhcy1pcy5cblx0XHRcdFx0cmVzdWx0ID0galF1ZXJ5LmNzcyggdHdlZW4uZWxlbSwgdHdlZW4ucHJvcCwgXCJcIiApO1xuXHRcblx0XHRcdFx0Ly8gRW1wdHkgc3RyaW5ncywgbnVsbCwgdW5kZWZpbmVkIGFuZCBcImF1dG9cIiBhcmUgY29udmVydGVkIHRvIDAuXG5cdFx0XHRcdHJldHVybiAhcmVzdWx0IHx8IHJlc3VsdCA9PT0gXCJhdXRvXCIgPyAwIDogcmVzdWx0O1xuXHRcdFx0fSxcblx0XHRcdHNldDogZnVuY3Rpb24oIHR3ZWVuICkge1xuXHRcblx0XHRcdFx0Ly8gVXNlIHN0ZXAgaG9vayBmb3IgYmFjayBjb21wYXQuXG5cdFx0XHRcdC8vIFVzZSBjc3NIb29rIGlmIGl0cyB0aGVyZS5cblx0XHRcdFx0Ly8gVXNlIC5zdHlsZSBpZiBhdmFpbGFibGUgYW5kIHVzZSBwbGFpbiBwcm9wZXJ0aWVzIHdoZXJlIGF2YWlsYWJsZS5cblx0XHRcdFx0aWYgKCBqUXVlcnkuZnguc3RlcFsgdHdlZW4ucHJvcCBdICkge1xuXHRcdFx0XHRcdGpRdWVyeS5meC5zdGVwWyB0d2Vlbi5wcm9wIF0oIHR3ZWVuICk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0XHQoIHR3ZWVuLmVsZW0uc3R5bGVbIGpRdWVyeS5jc3NQcm9wc1sgdHdlZW4ucHJvcCBdIF0gIT0gbnVsbCB8fFxuXHRcdFx0XHRcdFx0alF1ZXJ5LmNzc0hvb2tzWyB0d2Vlbi5wcm9wIF0gKSApIHtcblx0XHRcdFx0XHRqUXVlcnkuc3R5bGUoIHR3ZWVuLmVsZW0sIHR3ZWVuLnByb3AsIHR3ZWVuLm5vdyArIHR3ZWVuLnVuaXQgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gPSB0d2Vlbi5ub3c7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdFxuXHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHQvLyBQYW5pYyBiYXNlZCBhcHByb2FjaCB0byBzZXR0aW5nIHRoaW5ncyBvbiBkaXNjb25uZWN0ZWQgbm9kZXNcblx0VHdlZW4ucHJvcEhvb2tzLnNjcm9sbFRvcCA9IFR3ZWVuLnByb3BIb29rcy5zY3JvbGxMZWZ0ID0ge1xuXHRcdHNldDogZnVuY3Rpb24oIHR3ZWVuICkge1xuXHRcdFx0aWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlICYmIHR3ZWVuLmVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0dHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdID0gdHdlZW4ubm93O1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0XG5cdGpRdWVyeS5lYXNpbmcgPSB7XG5cdFx0bGluZWFyOiBmdW5jdGlvbiggcCApIHtcblx0XHRcdHJldHVybiBwO1xuXHRcdH0sXG5cdFx0c3dpbmc6IGZ1bmN0aW9uKCBwICkge1xuXHRcdFx0cmV0dXJuIDAuNSAtIE1hdGguY29zKCBwICogTWF0aC5QSSApIC8gMjtcblx0XHR9LFxuXHRcdF9kZWZhdWx0OiBcInN3aW5nXCJcblx0fTtcblx0XG5cdGpRdWVyeS5meCA9IFR3ZWVuLnByb3RvdHlwZS5pbml0O1xuXHRcblx0Ly8gQmFjayBjb21wYXQgPDEuOCBleHRlbnNpb24gcG9pbnRcblx0alF1ZXJ5LmZ4LnN0ZXAgPSB7fTtcblx0XG5cdFxuXHRcblx0XG5cdHZhclxuXHRcdGZ4Tm93LCB0aW1lcklkLFxuXHRcdHJmeHR5cGVzID0gL14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLFxuXHRcdHJydW4gPSAvcXVldWVIb29rcyQvO1xuXHRcblx0ZnVuY3Rpb24gcmFmKCkge1xuXHRcdGlmICggdGltZXJJZCApIHtcblx0XHRcdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoIHJhZiApO1xuXHRcdFx0alF1ZXJ5LmZ4LnRpY2soKTtcblx0XHR9XG5cdH1cblx0XG5cdC8vIEFuaW1hdGlvbnMgY3JlYXRlZCBzeW5jaHJvbm91c2x5IHdpbGwgcnVuIHN5bmNocm9ub3VzbHlcblx0ZnVuY3Rpb24gY3JlYXRlRnhOb3coKSB7XG5cdFx0d2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0ZnhOb3cgPSB1bmRlZmluZWQ7XG5cdFx0fSApO1xuXHRcdHJldHVybiAoIGZ4Tm93ID0galF1ZXJ5Lm5vdygpICk7XG5cdH1cblx0XG5cdC8vIEdlbmVyYXRlIHBhcmFtZXRlcnMgdG8gY3JlYXRlIGEgc3RhbmRhcmQgYW5pbWF0aW9uXG5cdGZ1bmN0aW9uIGdlbkZ4KCB0eXBlLCBpbmNsdWRlV2lkdGggKSB7XG5cdFx0dmFyIHdoaWNoLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRhdHRycyA9IHsgaGVpZ2h0OiB0eXBlIH07XG5cdFxuXHRcdC8vIElmIHdlIGluY2x1ZGUgd2lkdGgsIHN0ZXAgdmFsdWUgaXMgMSB0byBkbyBhbGwgY3NzRXhwYW5kIHZhbHVlcyxcblx0XHQvLyBvdGhlcndpc2Ugc3RlcCB2YWx1ZSBpcyAyIHRvIHNraXAgb3ZlciBMZWZ0IGFuZCBSaWdodFxuXHRcdGluY2x1ZGVXaWR0aCA9IGluY2x1ZGVXaWR0aCA/IDEgOiAwO1xuXHRcdGZvciAoIDsgaSA8IDQ7IGkgKz0gMiAtIGluY2x1ZGVXaWR0aCApIHtcblx0XHRcdHdoaWNoID0gY3NzRXhwYW5kWyBpIF07XG5cdFx0XHRhdHRyc1sgXCJtYXJnaW5cIiArIHdoaWNoIF0gPSBhdHRyc1sgXCJwYWRkaW5nXCIgKyB3aGljaCBdID0gdHlwZTtcblx0XHR9XG5cdFxuXHRcdGlmICggaW5jbHVkZVdpZHRoICkge1xuXHRcdFx0YXR0cnMub3BhY2l0eSA9IGF0dHJzLndpZHRoID0gdHlwZTtcblx0XHR9XG5cdFxuXHRcdHJldHVybiBhdHRycztcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlVHdlZW4oIHZhbHVlLCBwcm9wLCBhbmltYXRpb24gKSB7XG5cdFx0dmFyIHR3ZWVuLFxuXHRcdFx0Y29sbGVjdGlvbiA9ICggQW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0gfHwgW10gKS5jb25jYXQoIEFuaW1hdGlvbi50d2VlbmVyc1sgXCIqXCIgXSApLFxuXHRcdFx0aW5kZXggPSAwLFxuXHRcdFx0bGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGg7XG5cdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdGlmICggKCB0d2VlbiA9IGNvbGxlY3Rpb25bIGluZGV4IF0uY2FsbCggYW5pbWF0aW9uLCBwcm9wLCB2YWx1ZSApICkgKSB7XG5cdFxuXHRcdFx0XHQvLyBXZSdyZSBkb25lIHdpdGggdGhpcyBwcm9wZXJ0eVxuXHRcdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBkZWZhdWx0UHJlZmlsdGVyKCBlbGVtLCBwcm9wcywgb3B0cyApIHtcblx0XHR2YXIgcHJvcCwgdmFsdWUsIHRvZ2dsZSwgaG9va3MsIG9sZGZpcmUsIHByb3BUd2VlbiwgcmVzdG9yZURpc3BsYXksIGRpc3BsYXksXG5cdFx0XHRpc0JveCA9IFwid2lkdGhcIiBpbiBwcm9wcyB8fCBcImhlaWdodFwiIGluIHByb3BzLFxuXHRcdFx0YW5pbSA9IHRoaXMsXG5cdFx0XHRvcmlnID0ge30sXG5cdFx0XHRzdHlsZSA9IGVsZW0uc3R5bGUsXG5cdFx0XHRoaWRkZW4gPSBlbGVtLm5vZGVUeXBlICYmIGlzSGlkZGVuV2l0aGluVHJlZSggZWxlbSApLFxuXHRcdFx0ZGF0YVNob3cgPSBkYXRhUHJpdi5nZXQoIGVsZW0sIFwiZnhzaG93XCIgKTtcblx0XG5cdFx0Ly8gUXVldWUtc2tpcHBpbmcgYW5pbWF0aW9ucyBoaWphY2sgdGhlIGZ4IGhvb2tzXG5cdFx0aWYgKCAhb3B0cy5xdWV1ZSApIHtcblx0XHRcdGhvb2tzID0galF1ZXJ5Ll9xdWV1ZUhvb2tzKCBlbGVtLCBcImZ4XCIgKTtcblx0XHRcdGlmICggaG9va3MudW5xdWV1ZWQgPT0gbnVsbCApIHtcblx0XHRcdFx0aG9va3MudW5xdWV1ZWQgPSAwO1xuXHRcdFx0XHRvbGRmaXJlID0gaG9va3MuZW1wdHkuZmlyZTtcblx0XHRcdFx0aG9va3MuZW1wdHkuZmlyZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggIWhvb2tzLnVucXVldWVkICkge1xuXHRcdFx0XHRcdFx0b2xkZmlyZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdGhvb2tzLnVucXVldWVkKys7XG5cdFxuXHRcdFx0YW5pbS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0Ly8gRW5zdXJlIHRoZSBjb21wbGV0ZSBoYW5kbGVyIGlzIGNhbGxlZCBiZWZvcmUgdGhpcyBjb21wbGV0ZXNcblx0XHRcdFx0YW5pbS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGhvb2tzLnVucXVldWVkLS07XG5cdFx0XHRcdFx0aWYgKCAhalF1ZXJ5LnF1ZXVlKCBlbGVtLCBcImZ4XCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdFx0XHRob29rcy5lbXB0eS5maXJlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXHRcblx0XHQvLyBEZXRlY3Qgc2hvdy9oaWRlIGFuaW1hdGlvbnNcblx0XHRmb3IgKCBwcm9wIGluIHByb3BzICkge1xuXHRcdFx0dmFsdWUgPSBwcm9wc1sgcHJvcCBdO1xuXHRcdFx0aWYgKCByZnh0eXBlcy50ZXN0KCB2YWx1ZSApICkge1xuXHRcdFx0XHRkZWxldGUgcHJvcHNbIHByb3AgXTtcblx0XHRcdFx0dG9nZ2xlID0gdG9nZ2xlIHx8IHZhbHVlID09PSBcInRvZ2dsZVwiO1xuXHRcdFx0XHRpZiAoIHZhbHVlID09PSAoIGhpZGRlbiA/IFwiaGlkZVwiIDogXCJzaG93XCIgKSApIHtcblx0XG5cdFx0XHRcdFx0Ly8gUHJldGVuZCB0byBiZSBoaWRkZW4gaWYgdGhpcyBpcyBhIFwic2hvd1wiIGFuZFxuXHRcdFx0XHRcdC8vIHRoZXJlIGlzIHN0aWxsIGRhdGEgZnJvbSBhIHN0b3BwZWQgc2hvdy9oaWRlXG5cdFx0XHRcdFx0aWYgKCB2YWx1ZSA9PT0gXCJzaG93XCIgJiYgZGF0YVNob3cgJiYgZGF0YVNob3dbIHByb3AgXSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdFx0aGlkZGVuID0gdHJ1ZTtcblx0XG5cdFx0XHRcdFx0Ly8gSWdub3JlIGFsbCBvdGhlciBuby1vcCBzaG93L2hpZGUgZGF0YVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0b3JpZ1sgcHJvcCBdID0gZGF0YVNob3cgJiYgZGF0YVNob3dbIHByb3AgXSB8fCBqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AgKTtcblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdC8vIEJhaWwgb3V0IGlmIHRoaXMgaXMgYSBuby1vcCBsaWtlIC5oaWRlKCkuaGlkZSgpXG5cdFx0cHJvcFR3ZWVuID0gIWpRdWVyeS5pc0VtcHR5T2JqZWN0KCBwcm9wcyApO1xuXHRcdGlmICggIXByb3BUd2VlbiAmJiBqUXVlcnkuaXNFbXB0eU9iamVjdCggb3JpZyApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XG5cdFx0Ly8gUmVzdHJpY3QgXCJvdmVyZmxvd1wiIGFuZCBcImRpc3BsYXlcIiBzdHlsZXMgZHVyaW5nIGJveCBhbmltYXRpb25zXG5cdFx0aWYgKCBpc0JveCAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcblx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExLCBFZGdlIDEyIC0gMTNcblx0XHRcdC8vIFJlY29yZCBhbGwgMyBvdmVyZmxvdyBhdHRyaWJ1dGVzIGJlY2F1c2UgSUUgZG9lcyBub3QgaW5mZXIgdGhlIHNob3J0aGFuZFxuXHRcdFx0Ly8gZnJvbSBpZGVudGljYWxseS12YWx1ZWQgb3ZlcmZsb3dYIGFuZCBvdmVyZmxvd1lcblx0XHRcdG9wdHMub3ZlcmZsb3cgPSBbIHN0eWxlLm92ZXJmbG93LCBzdHlsZS5vdmVyZmxvd1gsIHN0eWxlLm92ZXJmbG93WSBdO1xuXHRcblx0XHRcdC8vIElkZW50aWZ5IGEgZGlzcGxheSB0eXBlLCBwcmVmZXJyaW5nIG9sZCBzaG93L2hpZGUgZGF0YSBvdmVyIHRoZSBDU1MgY2FzY2FkZVxuXHRcdFx0cmVzdG9yZURpc3BsYXkgPSBkYXRhU2hvdyAmJiBkYXRhU2hvdy5kaXNwbGF5O1xuXHRcdFx0aWYgKCByZXN0b3JlRGlzcGxheSA9PSBudWxsICkge1xuXHRcdFx0XHRyZXN0b3JlRGlzcGxheSA9IGRhdGFQcml2LmdldCggZWxlbSwgXCJkaXNwbGF5XCIgKTtcblx0XHRcdH1cblx0XHRcdGRpc3BsYXkgPSBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApO1xuXHRcdFx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRcdFx0aWYgKCByZXN0b3JlRGlzcGxheSApIHtcblx0XHRcdFx0XHRkaXNwbGF5ID0gcmVzdG9yZURpc3BsYXk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFxuXHRcdFx0XHRcdC8vIEdldCBub25lbXB0eSB2YWx1ZShzKSBieSB0ZW1wb3JhcmlseSBmb3JjaW5nIHZpc2liaWxpdHlcblx0XHRcdFx0XHRzaG93SGlkZSggWyBlbGVtIF0sIHRydWUgKTtcblx0XHRcdFx0XHRyZXN0b3JlRGlzcGxheSA9IGVsZW0uc3R5bGUuZGlzcGxheSB8fCByZXN0b3JlRGlzcGxheTtcblx0XHRcdFx0XHRkaXNwbGF5ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKTtcblx0XHRcdFx0XHRzaG93SGlkZSggWyBlbGVtIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEFuaW1hdGUgaW5saW5lIGVsZW1lbnRzIGFzIGlubGluZS1ibG9ja1xuXHRcdFx0aWYgKCBkaXNwbGF5ID09PSBcImlubGluZVwiIHx8IGRpc3BsYXkgPT09IFwiaW5saW5lLWJsb2NrXCIgJiYgcmVzdG9yZURpc3BsYXkgIT0gbnVsbCApIHtcblx0XHRcdFx0aWYgKCBqUXVlcnkuY3NzKCBlbGVtLCBcImZsb2F0XCIgKSA9PT0gXCJub25lXCIgKSB7XG5cdFxuXHRcdFx0XHRcdC8vIFJlc3RvcmUgdGhlIG9yaWdpbmFsIGRpc3BsYXkgdmFsdWUgYXQgdGhlIGVuZCBvZiBwdXJlIHNob3cvaGlkZSBhbmltYXRpb25zXG5cdFx0XHRcdFx0aWYgKCAhcHJvcFR3ZWVuICkge1xuXHRcdFx0XHRcdFx0YW5pbS5kb25lKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0c3R5bGUuZGlzcGxheSA9IHJlc3RvcmVEaXNwbGF5O1xuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0aWYgKCByZXN0b3JlRGlzcGxheSA9PSBudWxsICkge1xuXHRcdFx0XHRcdFx0XHRkaXNwbGF5ID0gc3R5bGUuZGlzcGxheTtcblx0XHRcdFx0XHRcdFx0cmVzdG9yZURpc3BsYXkgPSBkaXNwbGF5ID09PSBcIm5vbmVcIiA/IFwiXCIgOiBkaXNwbGF5O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRzdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0aWYgKCBvcHRzLm92ZXJmbG93ICkge1xuXHRcdFx0c3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuXHRcdFx0YW5pbS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzdHlsZS5vdmVyZmxvdyA9IG9wdHMub3ZlcmZsb3dbIDAgXTtcblx0XHRcdFx0c3R5bGUub3ZlcmZsb3dYID0gb3B0cy5vdmVyZmxvd1sgMSBdO1xuXHRcdFx0XHRzdHlsZS5vdmVyZmxvd1kgPSBvcHRzLm92ZXJmbG93WyAyIF07XG5cdFx0XHR9ICk7XG5cdFx0fVxuXHRcblx0XHQvLyBJbXBsZW1lbnQgc2hvdy9oaWRlIGFuaW1hdGlvbnNcblx0XHRwcm9wVHdlZW4gPSBmYWxzZTtcblx0XHRmb3IgKCBwcm9wIGluIG9yaWcgKSB7XG5cdFxuXHRcdFx0Ly8gR2VuZXJhbCBzaG93L2hpZGUgc2V0dXAgZm9yIHRoaXMgZWxlbWVudCBhbmltYXRpb25cblx0XHRcdGlmICggIXByb3BUd2VlbiApIHtcblx0XHRcdFx0aWYgKCBkYXRhU2hvdyApIHtcblx0XHRcdFx0XHRpZiAoIFwiaGlkZGVuXCIgaW4gZGF0YVNob3cgKSB7XG5cdFx0XHRcdFx0XHRoaWRkZW4gPSBkYXRhU2hvdy5oaWRkZW47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRhdGFTaG93ID0gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBcImZ4c2hvd1wiLCB7IGRpc3BsYXk6IHJlc3RvcmVEaXNwbGF5IH0gKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gU3RvcmUgaGlkZGVuL3Zpc2libGUgZm9yIHRvZ2dsZSBzbyBgLnN0b3AoKS50b2dnbGUoKWAgXCJyZXZlcnNlc1wiXG5cdFx0XHRcdGlmICggdG9nZ2xlICkge1xuXHRcdFx0XHRcdGRhdGFTaG93LmhpZGRlbiA9ICFoaWRkZW47XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFNob3cgZWxlbWVudHMgYmVmb3JlIGFuaW1hdGluZyB0aGVtXG5cdFx0XHRcdGlmICggaGlkZGVuICkge1xuXHRcdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvKiBlc2xpbnQtZGlzYWJsZSBuby1sb29wLWZ1bmMgKi9cblx0XG5cdFx0XHRcdGFuaW0uZG9uZSggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHQvKiBlc2xpbnQtZW5hYmxlIG5vLWxvb3AtZnVuYyAqL1xuXHRcblx0XHRcdFx0XHQvLyBUaGUgZmluYWwgc3RlcCBvZiBhIFwiaGlkZVwiIGFuaW1hdGlvbiBpcyBhY3R1YWxseSBoaWRpbmcgdGhlIGVsZW1lbnRcblx0XHRcdFx0XHRpZiAoICFoaWRkZW4gKSB7XG5cdFx0XHRcdFx0XHRzaG93SGlkZSggWyBlbGVtIF0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBcImZ4c2hvd1wiICk7XG5cdFx0XHRcdFx0Zm9yICggcHJvcCBpbiBvcmlnICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wLCBvcmlnWyBwcm9wIF0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBQZXItcHJvcGVydHkgc2V0dXBcblx0XHRcdHByb3BUd2VlbiA9IGNyZWF0ZVR3ZWVuKCBoaWRkZW4gPyBkYXRhU2hvd1sgcHJvcCBdIDogMCwgcHJvcCwgYW5pbSApO1xuXHRcdFx0aWYgKCAhKCBwcm9wIGluIGRhdGFTaG93ICkgKSB7XG5cdFx0XHRcdGRhdGFTaG93WyBwcm9wIF0gPSBwcm9wVHdlZW4uc3RhcnQ7XG5cdFx0XHRcdGlmICggaGlkZGVuICkge1xuXHRcdFx0XHRcdHByb3BUd2Vlbi5lbmQgPSBwcm9wVHdlZW4uc3RhcnQ7XG5cdFx0XHRcdFx0cHJvcFR3ZWVuLnN0YXJ0ID0gMDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gcHJvcEZpbHRlciggcHJvcHMsIHNwZWNpYWxFYXNpbmcgKSB7XG5cdFx0dmFyIGluZGV4LCBuYW1lLCBlYXNpbmcsIHZhbHVlLCBob29rcztcblx0XG5cdFx0Ly8gY2FtZWxDYXNlLCBzcGVjaWFsRWFzaW5nIGFuZCBleHBhbmQgY3NzSG9vayBwYXNzXG5cdFx0Zm9yICggaW5kZXggaW4gcHJvcHMgKSB7XG5cdFx0XHRuYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggaW5kZXggKTtcblx0XHRcdGVhc2luZyA9IHNwZWNpYWxFYXNpbmdbIG5hbWUgXTtcblx0XHRcdHZhbHVlID0gcHJvcHNbIGluZGV4IF07XG5cdFx0XHRpZiAoIGpRdWVyeS5pc0FycmF5KCB2YWx1ZSApICkge1xuXHRcdFx0XHRlYXNpbmcgPSB2YWx1ZVsgMSBdO1xuXHRcdFx0XHR2YWx1ZSA9IHByb3BzWyBpbmRleCBdID0gdmFsdWVbIDAgXTtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIGluZGV4ICE9PSBuYW1lICkge1xuXHRcdFx0XHRwcm9wc1sgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHRcdGRlbGV0ZSBwcm9wc1sgaW5kZXggXTtcblx0XHRcdH1cblx0XG5cdFx0XHRob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdO1xuXHRcdFx0aWYgKCBob29rcyAmJiBcImV4cGFuZFwiIGluIGhvb2tzICkge1xuXHRcdFx0XHR2YWx1ZSA9IGhvb2tzLmV4cGFuZCggdmFsdWUgKTtcblx0XHRcdFx0ZGVsZXRlIHByb3BzWyBuYW1lIF07XG5cdFxuXHRcdFx0XHQvLyBOb3QgcXVpdGUgJC5leHRlbmQsIHRoaXMgd29uJ3Qgb3ZlcndyaXRlIGV4aXN0aW5nIGtleXMuXG5cdFx0XHRcdC8vIFJldXNpbmcgJ2luZGV4JyBiZWNhdXNlIHdlIGhhdmUgdGhlIGNvcnJlY3QgXCJuYW1lXCJcblx0XHRcdFx0Zm9yICggaW5kZXggaW4gdmFsdWUgKSB7XG5cdFx0XHRcdFx0aWYgKCAhKCBpbmRleCBpbiBwcm9wcyApICkge1xuXHRcdFx0XHRcdFx0cHJvcHNbIGluZGV4IF0gPSB2YWx1ZVsgaW5kZXggXTtcblx0XHRcdFx0XHRcdHNwZWNpYWxFYXNpbmdbIGluZGV4IF0gPSBlYXNpbmc7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzcGVjaWFsRWFzaW5nWyBuYW1lIF0gPSBlYXNpbmc7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBBbmltYXRpb24oIGVsZW0sIHByb3BlcnRpZXMsIG9wdGlvbnMgKSB7XG5cdFx0dmFyIHJlc3VsdCxcblx0XHRcdHN0b3BwZWQsXG5cdFx0XHRpbmRleCA9IDAsXG5cdFx0XHRsZW5ndGggPSBBbmltYXRpb24ucHJlZmlsdGVycy5sZW5ndGgsXG5cdFx0XHRkZWZlcnJlZCA9IGpRdWVyeS5EZWZlcnJlZCgpLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHQvLyBEb24ndCBtYXRjaCBlbGVtIGluIHRoZSA6YW5pbWF0ZWQgc2VsZWN0b3Jcblx0XHRcdFx0ZGVsZXRlIHRpY2suZWxlbTtcblx0XHRcdH0gKSxcblx0XHRcdHRpY2sgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBzdG9wcGVkICkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHR2YXIgY3VycmVudFRpbWUgPSBmeE5vdyB8fCBjcmVhdGVGeE5vdygpLFxuXHRcdFx0XHRcdHJlbWFpbmluZyA9IE1hdGgubWF4KCAwLCBhbmltYXRpb24uc3RhcnRUaW1lICsgYW5pbWF0aW9uLmR1cmF0aW9uIC0gY3VycmVudFRpbWUgKSxcblx0XG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCAyLjMgb25seVxuXHRcdFx0XHRcdC8vIEFyY2hhaWMgY3Jhc2ggYnVnIHdvbid0IGFsbG93IHVzIHRvIHVzZSBgMSAtICggMC41IHx8IDAgKWAgKCMxMjQ5Nylcblx0XHRcdFx0XHR0ZW1wID0gcmVtYWluaW5nIC8gYW5pbWF0aW9uLmR1cmF0aW9uIHx8IDAsXG5cdFx0XHRcdFx0cGVyY2VudCA9IDEgLSB0ZW1wLFxuXHRcdFx0XHRcdGluZGV4ID0gMCxcblx0XHRcdFx0XHRsZW5ndGggPSBhbmltYXRpb24udHdlZW5zLmxlbmd0aDtcblx0XG5cdFx0XHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRcdFx0YW5pbWF0aW9uLnR3ZWVuc1sgaW5kZXggXS5ydW4oIHBlcmNlbnQgKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0ZGVmZXJyZWQubm90aWZ5V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIHBlcmNlbnQsIHJlbWFpbmluZyBdICk7XG5cdFxuXHRcdFx0XHRpZiAoIHBlcmNlbnQgPCAxICYmIGxlbmd0aCApIHtcblx0XHRcdFx0XHRyZXR1cm4gcmVtYWluaW5nO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiBdICk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0YW5pbWF0aW9uID0gZGVmZXJyZWQucHJvbWlzZSgge1xuXHRcdFx0XHRlbGVtOiBlbGVtLFxuXHRcdFx0XHRwcm9wczogalF1ZXJ5LmV4dGVuZCgge30sIHByb3BlcnRpZXMgKSxcblx0XHRcdFx0b3B0czogalF1ZXJ5LmV4dGVuZCggdHJ1ZSwge1xuXHRcdFx0XHRcdHNwZWNpYWxFYXNpbmc6IHt9LFxuXHRcdFx0XHRcdGVhc2luZzogalF1ZXJ5LmVhc2luZy5fZGVmYXVsdFxuXHRcdFx0XHR9LCBvcHRpb25zICksXG5cdFx0XHRcdG9yaWdpbmFsUHJvcGVydGllczogcHJvcGVydGllcyxcblx0XHRcdFx0b3JpZ2luYWxPcHRpb25zOiBvcHRpb25zLFxuXHRcdFx0XHRzdGFydFRpbWU6IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksXG5cdFx0XHRcdGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuXHRcdFx0XHR0d2VlbnM6IFtdLFxuXHRcdFx0XHRjcmVhdGVUd2VlbjogZnVuY3Rpb24oIHByb3AsIGVuZCApIHtcblx0XHRcdFx0XHR2YXIgdHdlZW4gPSBqUXVlcnkuVHdlZW4oIGVsZW0sIGFuaW1hdGlvbi5vcHRzLCBwcm9wLCBlbmQsXG5cdFx0XHRcdFx0XHRcdGFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmdbIHByb3AgXSB8fCBhbmltYXRpb24ub3B0cy5lYXNpbmcgKTtcblx0XHRcdFx0XHRhbmltYXRpb24udHdlZW5zLnB1c2goIHR3ZWVuICk7XG5cdFx0XHRcdFx0cmV0dXJuIHR3ZWVuO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRzdG9wOiBmdW5jdGlvbiggZ290b0VuZCApIHtcblx0XHRcdFx0XHR2YXIgaW5kZXggPSAwLFxuXHRcblx0XHRcdFx0XHRcdC8vIElmIHdlIGFyZSBnb2luZyB0byB0aGUgZW5kLCB3ZSB3YW50IHRvIHJ1biBhbGwgdGhlIHR3ZWVuc1xuXHRcdFx0XHRcdFx0Ly8gb3RoZXJ3aXNlIHdlIHNraXAgdGhpcyBwYXJ0XG5cdFx0XHRcdFx0XHRsZW5ndGggPSBnb3RvRW5kID8gYW5pbWF0aW9uLnR3ZWVucy5sZW5ndGggOiAwO1xuXHRcdFx0XHRcdGlmICggc3RvcHBlZCApIHtcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRzdG9wcGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0XHRcdFx0YW5pbWF0aW9uLnR3ZWVuc1sgaW5kZXggXS5ydW4oIDEgKTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIFJlc29sdmUgd2hlbiB3ZSBwbGF5ZWQgdGhlIGxhc3QgZnJhbWU7IG90aGVyd2lzZSwgcmVqZWN0XG5cdFx0XHRcdFx0aWYgKCBnb3RvRW5kICkge1xuXHRcdFx0XHRcdFx0ZGVmZXJyZWQubm90aWZ5V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIDEsIDAgXSApO1xuXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBnb3RvRW5kIF0gKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIGdvdG9FbmQgXSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fVxuXHRcdFx0fSApLFxuXHRcdFx0cHJvcHMgPSBhbmltYXRpb24ucHJvcHM7XG5cdFxuXHRcdHByb3BGaWx0ZXIoIHByb3BzLCBhbmltYXRpb24ub3B0cy5zcGVjaWFsRWFzaW5nICk7XG5cdFxuXHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRyZXN1bHQgPSBBbmltYXRpb24ucHJlZmlsdGVyc1sgaW5kZXggXS5jYWxsKCBhbmltYXRpb24sIGVsZW0sIHByb3BzLCBhbmltYXRpb24ub3B0cyApO1xuXHRcdFx0aWYgKCByZXN1bHQgKSB7XG5cdFx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHJlc3VsdC5zdG9wICkgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5Ll9xdWV1ZUhvb2tzKCBhbmltYXRpb24uZWxlbSwgYW5pbWF0aW9uLm9wdHMucXVldWUgKS5zdG9wID1cblx0XHRcdFx0XHRcdGpRdWVyeS5wcm94eSggcmVzdWx0LnN0b3AsIHJlc3VsdCApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRqUXVlcnkubWFwKCBwcm9wcywgY3JlYXRlVHdlZW4sIGFuaW1hdGlvbiApO1xuXHRcblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBhbmltYXRpb24ub3B0cy5zdGFydCApICkge1xuXHRcdFx0YW5pbWF0aW9uLm9wdHMuc3RhcnQuY2FsbCggZWxlbSwgYW5pbWF0aW9uICk7XG5cdFx0fVxuXHRcblx0XHRqUXVlcnkuZngudGltZXIoXG5cdFx0XHRqUXVlcnkuZXh0ZW5kKCB0aWNrLCB7XG5cdFx0XHRcdGVsZW06IGVsZW0sXG5cdFx0XHRcdGFuaW06IGFuaW1hdGlvbixcblx0XHRcdFx0cXVldWU6IGFuaW1hdGlvbi5vcHRzLnF1ZXVlXG5cdFx0XHR9IClcblx0XHQpO1xuXHRcblx0XHQvLyBhdHRhY2ggY2FsbGJhY2tzIGZyb20gb3B0aW9uc1xuXHRcdHJldHVybiBhbmltYXRpb24ucHJvZ3Jlc3MoIGFuaW1hdGlvbi5vcHRzLnByb2dyZXNzIClcblx0XHRcdC5kb25lKCBhbmltYXRpb24ub3B0cy5kb25lLCBhbmltYXRpb24ub3B0cy5jb21wbGV0ZSApXG5cdFx0XHQuZmFpbCggYW5pbWF0aW9uLm9wdHMuZmFpbCApXG5cdFx0XHQuYWx3YXlzKCBhbmltYXRpb24ub3B0cy5hbHdheXMgKTtcblx0fVxuXHRcblx0alF1ZXJ5LkFuaW1hdGlvbiA9IGpRdWVyeS5leHRlbmQoIEFuaW1hdGlvbiwge1xuXHRcblx0XHR0d2VlbmVyczoge1xuXHRcdFx0XCIqXCI6IFsgZnVuY3Rpb24oIHByb3AsIHZhbHVlICkge1xuXHRcdFx0XHR2YXIgdHdlZW4gPSB0aGlzLmNyZWF0ZVR3ZWVuKCBwcm9wLCB2YWx1ZSApO1xuXHRcdFx0XHRhZGp1c3RDU1MoIHR3ZWVuLmVsZW0sIHByb3AsIHJjc3NOdW0uZXhlYyggdmFsdWUgKSwgdHdlZW4gKTtcblx0XHRcdFx0cmV0dXJuIHR3ZWVuO1xuXHRcdFx0fSBdXG5cdFx0fSxcblx0XG5cdFx0dHdlZW5lcjogZnVuY3Rpb24oIHByb3BzLCBjYWxsYmFjayApIHtcblx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHByb3BzICkgKSB7XG5cdFx0XHRcdGNhbGxiYWNrID0gcHJvcHM7XG5cdFx0XHRcdHByb3BzID0gWyBcIipcIiBdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cHJvcHMgPSBwcm9wcy5tYXRjaCggcm5vdHdoaXRlICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0dmFyIHByb3AsXG5cdFx0XHRcdGluZGV4ID0gMCxcblx0XHRcdFx0bGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXHRcblx0XHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRcdHByb3AgPSBwcm9wc1sgaW5kZXggXTtcblx0XHRcdFx0QW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0gPSBBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSB8fCBbXTtcblx0XHRcdFx0QW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0udW5zaGlmdCggY2FsbGJhY2sgKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRwcmVmaWx0ZXJzOiBbIGRlZmF1bHRQcmVmaWx0ZXIgXSxcblx0XG5cdFx0cHJlZmlsdGVyOiBmdW5jdGlvbiggY2FsbGJhY2ssIHByZXBlbmQgKSB7XG5cdFx0XHRpZiAoIHByZXBlbmQgKSB7XG5cdFx0XHRcdEFuaW1hdGlvbi5wcmVmaWx0ZXJzLnVuc2hpZnQoIGNhbGxiYWNrICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRBbmltYXRpb24ucHJlZmlsdGVycy5wdXNoKCBjYWxsYmFjayApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSApO1xuXHRcblx0alF1ZXJ5LnNwZWVkID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGZuICkge1xuXHRcdHZhciBvcHQgPSBzcGVlZCAmJiB0eXBlb2Ygc3BlZWQgPT09IFwib2JqZWN0XCIgPyBqUXVlcnkuZXh0ZW5kKCB7fSwgc3BlZWQgKSA6IHtcblx0XHRcdGNvbXBsZXRlOiBmbiB8fCAhZm4gJiYgZWFzaW5nIHx8XG5cdFx0XHRcdGpRdWVyeS5pc0Z1bmN0aW9uKCBzcGVlZCApICYmIHNwZWVkLFxuXHRcdFx0ZHVyYXRpb246IHNwZWVkLFxuXHRcdFx0ZWFzaW5nOiBmbiAmJiBlYXNpbmcgfHwgZWFzaW5nICYmICFqUXVlcnkuaXNGdW5jdGlvbiggZWFzaW5nICkgJiYgZWFzaW5nXG5cdFx0fTtcblx0XG5cdFx0Ly8gR28gdG8gdGhlIGVuZCBzdGF0ZSBpZiBmeCBhcmUgb2ZmIG9yIGlmIGRvY3VtZW50IGlzIGhpZGRlblxuXHRcdGlmICggalF1ZXJ5LmZ4Lm9mZiB8fCBkb2N1bWVudC5oaWRkZW4gKSB7XG5cdFx0XHRvcHQuZHVyYXRpb24gPSAwO1xuXHRcblx0XHR9IGVsc2Uge1xuXHRcdFx0b3B0LmR1cmF0aW9uID0gdHlwZW9mIG9wdC5kdXJhdGlvbiA9PT0gXCJudW1iZXJcIiA/XG5cdFx0XHRcdG9wdC5kdXJhdGlvbiA6IG9wdC5kdXJhdGlvbiBpbiBqUXVlcnkuZnguc3BlZWRzID9cblx0XHRcdFx0XHRqUXVlcnkuZnguc3BlZWRzWyBvcHQuZHVyYXRpb24gXSA6IGpRdWVyeS5meC5zcGVlZHMuX2RlZmF1bHQ7XG5cdFx0fVxuXHRcblx0XHQvLyBOb3JtYWxpemUgb3B0LnF1ZXVlIC0gdHJ1ZS91bmRlZmluZWQvbnVsbCAtPiBcImZ4XCJcblx0XHRpZiAoIG9wdC5xdWV1ZSA9PSBudWxsIHx8IG9wdC5xdWV1ZSA9PT0gdHJ1ZSApIHtcblx0XHRcdG9wdC5xdWV1ZSA9IFwiZnhcIjtcblx0XHR9XG5cdFxuXHRcdC8vIFF1ZXVlaW5nXG5cdFx0b3B0Lm9sZCA9IG9wdC5jb21wbGV0ZTtcblx0XG5cdFx0b3B0LmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBvcHQub2xkICkgKSB7XG5cdFx0XHRcdG9wdC5vbGQuY2FsbCggdGhpcyApO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggb3B0LnF1ZXVlICkge1xuXHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgb3B0LnF1ZXVlICk7XG5cdFx0XHR9XG5cdFx0fTtcblx0XG5cdFx0cmV0dXJuIG9wdDtcblx0fTtcblx0XG5cdGpRdWVyeS5mbi5leHRlbmQoIHtcblx0XHRmYWRlVG86IGZ1bmN0aW9uKCBzcGVlZCwgdG8sIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdFxuXHRcdFx0Ly8gU2hvdyBhbnkgaGlkZGVuIGVsZW1lbnRzIGFmdGVyIHNldHRpbmcgb3BhY2l0eSB0byAwXG5cdFx0XHRyZXR1cm4gdGhpcy5maWx0ZXIoIGlzSGlkZGVuV2l0aGluVHJlZSApLmNzcyggXCJvcGFjaXR5XCIsIDAgKS5zaG93KClcblx0XG5cdFx0XHRcdC8vIEFuaW1hdGUgdG8gdGhlIHZhbHVlIHNwZWNpZmllZFxuXHRcdFx0XHQuZW5kKCkuYW5pbWF0ZSggeyBvcGFjaXR5OiB0byB9LCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApO1xuXHRcdH0sXG5cdFx0YW5pbWF0ZTogZnVuY3Rpb24oIHByb3AsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdFx0dmFyIGVtcHR5ID0galF1ZXJ5LmlzRW1wdHlPYmplY3QoIHByb3AgKSxcblx0XHRcdFx0b3B0YWxsID0galF1ZXJ5LnNwZWVkKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApLFxuXHRcdFx0XHRkb0FuaW1hdGlvbiA9IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0XHQvLyBPcGVyYXRlIG9uIGEgY29weSBvZiBwcm9wIHNvIHBlci1wcm9wZXJ0eSBlYXNpbmcgd29uJ3QgYmUgbG9zdFxuXHRcdFx0XHRcdHZhciBhbmltID0gQW5pbWF0aW9uKCB0aGlzLCBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcCApLCBvcHRhbGwgKTtcblx0XG5cdFx0XHRcdFx0Ly8gRW1wdHkgYW5pbWF0aW9ucywgb3IgZmluaXNoaW5nIHJlc29sdmVzIGltbWVkaWF0ZWx5XG5cdFx0XHRcdFx0aWYgKCBlbXB0eSB8fCBkYXRhUHJpdi5nZXQoIHRoaXMsIFwiZmluaXNoXCIgKSApIHtcblx0XHRcdFx0XHRcdGFuaW0uc3RvcCggdHJ1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdFx0ZG9BbmltYXRpb24uZmluaXNoID0gZG9BbmltYXRpb247XG5cdFxuXHRcdFx0cmV0dXJuIGVtcHR5IHx8IG9wdGFsbC5xdWV1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0XHR0aGlzLmVhY2goIGRvQW5pbWF0aW9uICkgOlxuXHRcdFx0XHR0aGlzLnF1ZXVlKCBvcHRhbGwucXVldWUsIGRvQW5pbWF0aW9uICk7XG5cdFx0fSxcblx0XHRzdG9wOiBmdW5jdGlvbiggdHlwZSwgY2xlYXJRdWV1ZSwgZ290b0VuZCApIHtcblx0XHRcdHZhciBzdG9wUXVldWUgPSBmdW5jdGlvbiggaG9va3MgKSB7XG5cdFx0XHRcdHZhciBzdG9wID0gaG9va3Muc3RvcDtcblx0XHRcdFx0ZGVsZXRlIGhvb2tzLnN0b3A7XG5cdFx0XHRcdHN0b3AoIGdvdG9FbmQgKTtcblx0XHRcdH07XG5cdFxuXHRcdFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0Z290b0VuZCA9IGNsZWFyUXVldWU7XG5cdFx0XHRcdGNsZWFyUXVldWUgPSB0eXBlO1xuXHRcdFx0XHR0eXBlID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBjbGVhclF1ZXVlICYmIHR5cGUgIT09IGZhbHNlICkge1xuXHRcdFx0XHR0aGlzLnF1ZXVlKCB0eXBlIHx8IFwiZnhcIiwgW10gKTtcblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGRlcXVldWUgPSB0cnVlLFxuXHRcdFx0XHRcdGluZGV4ID0gdHlwZSAhPSBudWxsICYmIHR5cGUgKyBcInF1ZXVlSG9va3NcIixcblx0XHRcdFx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzLFxuXHRcdFx0XHRcdGRhdGEgPSBkYXRhUHJpdi5nZXQoIHRoaXMgKTtcblx0XG5cdFx0XHRcdGlmICggaW5kZXggKSB7XG5cdFx0XHRcdFx0aWYgKCBkYXRhWyBpbmRleCBdICYmIGRhdGFbIGluZGV4IF0uc3RvcCApIHtcblx0XHRcdFx0XHRcdHN0b3BRdWV1ZSggZGF0YVsgaW5kZXggXSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRmb3IgKCBpbmRleCBpbiBkYXRhICkge1xuXHRcdFx0XHRcdFx0aWYgKCBkYXRhWyBpbmRleCBdICYmIGRhdGFbIGluZGV4IF0uc3RvcCAmJiBycnVuLnRlc3QoIGluZGV4ICkgKSB7XG5cdFx0XHRcdFx0XHRcdHN0b3BRdWV1ZSggZGF0YVsgaW5kZXggXSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Zm9yICggaW5kZXggPSB0aW1lcnMubGVuZ3RoOyBpbmRleC0tOyApIHtcblx0XHRcdFx0XHRpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmXG5cdFx0XHRcdFx0XHQoIHR5cGUgPT0gbnVsbCB8fCB0aW1lcnNbIGluZGV4IF0ucXVldWUgPT09IHR5cGUgKSApIHtcblx0XG5cdFx0XHRcdFx0XHR0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCBnb3RvRW5kICk7XG5cdFx0XHRcdFx0XHRkZXF1ZXVlID0gZmFsc2U7XG5cdFx0XHRcdFx0XHR0aW1lcnMuc3BsaWNlKCBpbmRleCwgMSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gU3RhcnQgdGhlIG5leHQgaW4gdGhlIHF1ZXVlIGlmIHRoZSBsYXN0IHN0ZXAgd2Fzbid0IGZvcmNlZC5cblx0XHRcdFx0Ly8gVGltZXJzIGN1cnJlbnRseSB3aWxsIGNhbGwgdGhlaXIgY29tcGxldGUgY2FsbGJhY2tzLCB3aGljaFxuXHRcdFx0XHQvLyB3aWxsIGRlcXVldWUgYnV0IG9ubHkgaWYgdGhleSB3ZXJlIGdvdG9FbmQuXG5cdFx0XHRcdGlmICggZGVxdWV1ZSB8fCAhZ290b0VuZCApIHtcblx0XHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fSxcblx0XHRmaW5pc2g6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdFx0aWYgKCB0eXBlICE9PSBmYWxzZSApIHtcblx0XHRcdFx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBpbmRleCxcblx0XHRcdFx0XHRkYXRhID0gZGF0YVByaXYuZ2V0KCB0aGlzICksXG5cdFx0XHRcdFx0cXVldWUgPSBkYXRhWyB0eXBlICsgXCJxdWV1ZVwiIF0sXG5cdFx0XHRcdFx0aG9va3MgPSBkYXRhWyB0eXBlICsgXCJxdWV1ZUhvb2tzXCIgXSxcblx0XHRcdFx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzLFxuXHRcdFx0XHRcdGxlbmd0aCA9IHF1ZXVlID8gcXVldWUubGVuZ3RoIDogMDtcblx0XG5cdFx0XHRcdC8vIEVuYWJsZSBmaW5pc2hpbmcgZmxhZyBvbiBwcml2YXRlIGRhdGFcblx0XHRcdFx0ZGF0YS5maW5pc2ggPSB0cnVlO1xuXHRcblx0XHRcdFx0Ly8gRW1wdHkgdGhlIHF1ZXVlIGZpcnN0XG5cdFx0XHRcdGpRdWVyeS5xdWV1ZSggdGhpcywgdHlwZSwgW10gKTtcblx0XG5cdFx0XHRcdGlmICggaG9va3MgJiYgaG9va3Muc3RvcCApIHtcblx0XHRcdFx0XHRob29rcy5zdG9wLmNhbGwoIHRoaXMsIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gTG9vayBmb3IgYW55IGFjdGl2ZSBhbmltYXRpb25zLCBhbmQgZmluaXNoIHRoZW1cblx0XHRcdFx0Zm9yICggaW5kZXggPSB0aW1lcnMubGVuZ3RoOyBpbmRleC0tOyApIHtcblx0XHRcdFx0XHRpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmIHRpbWVyc1sgaW5kZXggXS5xdWV1ZSA9PT0gdHlwZSApIHtcblx0XHRcdFx0XHRcdHRpbWVyc1sgaW5kZXggXS5hbmltLnN0b3AoIHRydWUgKTtcblx0XHRcdFx0XHRcdHRpbWVycy5zcGxpY2UoIGluZGV4LCAxICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBMb29rIGZvciBhbnkgYW5pbWF0aW9ucyBpbiB0aGUgb2xkIHF1ZXVlIGFuZCBmaW5pc2ggdGhlbVxuXHRcdFx0XHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0XHRcdGlmICggcXVldWVbIGluZGV4IF0gJiYgcXVldWVbIGluZGV4IF0uZmluaXNoICkge1xuXHRcdFx0XHRcdFx0cXVldWVbIGluZGV4IF0uZmluaXNoLmNhbGwoIHRoaXMgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFR1cm4gb2ZmIGZpbmlzaGluZyBmbGFnXG5cdFx0XHRcdGRlbGV0ZSBkYXRhLmZpbmlzaDtcblx0XHRcdH0gKTtcblx0XHR9XG5cdH0gKTtcblx0XG5cdGpRdWVyeS5lYWNoKCBbIFwidG9nZ2xlXCIsIFwic2hvd1wiLCBcImhpZGVcIiBdLCBmdW5jdGlvbiggaSwgbmFtZSApIHtcblx0XHR2YXIgY3NzRm4gPSBqUXVlcnkuZm5bIG5hbWUgXTtcblx0XHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHRcdHJldHVybiBzcGVlZCA9PSBudWxsIHx8IHR5cGVvZiBzcGVlZCA9PT0gXCJib29sZWFuXCIgP1xuXHRcdFx0XHRjc3NGbi5hcHBseSggdGhpcywgYXJndW1lbnRzICkgOlxuXHRcdFx0XHR0aGlzLmFuaW1hdGUoIGdlbkZ4KCBuYW1lLCB0cnVlICksIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdFx0fTtcblx0fSApO1xuXHRcblx0Ly8gR2VuZXJhdGUgc2hvcnRjdXRzIGZvciBjdXN0b20gYW5pbWF0aW9uc1xuXHRqUXVlcnkuZWFjaCgge1xuXHRcdHNsaWRlRG93bjogZ2VuRngoIFwic2hvd1wiICksXG5cdFx0c2xpZGVVcDogZ2VuRngoIFwiaGlkZVwiICksXG5cdFx0c2xpZGVUb2dnbGU6IGdlbkZ4KCBcInRvZ2dsZVwiICksXG5cdFx0ZmFkZUluOiB7IG9wYWNpdHk6IFwic2hvd1wiIH0sXG5cdFx0ZmFkZU91dDogeyBvcGFjaXR5OiBcImhpZGVcIiB9LFxuXHRcdGZhZGVUb2dnbGU6IHsgb3BhY2l0eTogXCJ0b2dnbGVcIiB9XG5cdH0sIGZ1bmN0aW9uKCBuYW1lLCBwcm9wcyApIHtcblx0XHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHRcdHJldHVybiB0aGlzLmFuaW1hdGUoIHByb3BzLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApO1xuXHRcdH07XG5cdH0gKTtcblx0XG5cdGpRdWVyeS50aW1lcnMgPSBbXTtcblx0alF1ZXJ5LmZ4LnRpY2sgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGltZXIsXG5cdFx0XHRpID0gMCxcblx0XHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnM7XG5cdFxuXHRcdGZ4Tm93ID0galF1ZXJ5Lm5vdygpO1xuXHRcblx0XHRmb3IgKCA7IGkgPCB0aW1lcnMubGVuZ3RoOyBpKysgKSB7XG5cdFx0XHR0aW1lciA9IHRpbWVyc1sgaSBdO1xuXHRcblx0XHRcdC8vIENoZWNrcyB0aGUgdGltZXIgaGFzIG5vdCBhbHJlYWR5IGJlZW4gcmVtb3ZlZFxuXHRcdFx0aWYgKCAhdGltZXIoKSAmJiB0aW1lcnNbIGkgXSA9PT0gdGltZXIgKSB7XG5cdFx0XHRcdHRpbWVycy5zcGxpY2UoIGktLSwgMSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0aWYgKCAhdGltZXJzLmxlbmd0aCApIHtcblx0XHRcdGpRdWVyeS5meC5zdG9wKCk7XG5cdFx0fVxuXHRcdGZ4Tm93ID0gdW5kZWZpbmVkO1xuXHR9O1xuXHRcblx0alF1ZXJ5LmZ4LnRpbWVyID0gZnVuY3Rpb24oIHRpbWVyICkge1xuXHRcdGpRdWVyeS50aW1lcnMucHVzaCggdGltZXIgKTtcblx0XHRpZiAoIHRpbWVyKCkgKSB7XG5cdFx0XHRqUXVlcnkuZnguc3RhcnQoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0alF1ZXJ5LnRpbWVycy5wb3AoKTtcblx0XHR9XG5cdH07XG5cdFxuXHRqUXVlcnkuZnguaW50ZXJ2YWwgPSAxMztcblx0alF1ZXJ5LmZ4LnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCAhdGltZXJJZCApIHtcblx0XHRcdHRpbWVySWQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID9cblx0XHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSggcmFmICkgOlxuXHRcdFx0XHR3aW5kb3cuc2V0SW50ZXJ2YWwoIGpRdWVyeS5meC50aWNrLCBqUXVlcnkuZnguaW50ZXJ2YWwgKTtcblx0XHR9XG5cdH07XG5cdFxuXHRqUXVlcnkuZnguc3RvcCA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lICkge1xuXHRcdFx0d2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKCB0aW1lcklkICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHdpbmRvdy5jbGVhckludGVydmFsKCB0aW1lcklkICk7XG5cdFx0fVxuXHRcblx0XHR0aW1lcklkID0gbnVsbDtcblx0fTtcblx0XG5cdGpRdWVyeS5meC5zcGVlZHMgPSB7XG5cdFx0c2xvdzogNjAwLFxuXHRcdGZhc3Q6IDIwMCxcblx0XG5cdFx0Ly8gRGVmYXVsdCBzcGVlZFxuXHRcdF9kZWZhdWx0OiA0MDBcblx0fTtcblx0XG5cdFxuXHQvLyBCYXNlZCBvZmYgb2YgdGhlIHBsdWdpbiBieSBDbGludCBIZWxmZXJzLCB3aXRoIHBlcm1pc3Npb24uXG5cdC8vIGh0dHBzOi8vd2ViLmFyY2hpdmUub3JnL3dlYi8yMDEwMDMyNDAxNDc0Ny9odHRwOi8vYmxpbmRzaWduYWxzLmNvbS9pbmRleC5waHAvMjAwOS8wNy9qcXVlcnktZGVsYXkvXG5cdGpRdWVyeS5mbi5kZWxheSA9IGZ1bmN0aW9uKCB0aW1lLCB0eXBlICkge1xuXHRcdHRpbWUgPSBqUXVlcnkuZnggPyBqUXVlcnkuZnguc3BlZWRzWyB0aW1lIF0gfHwgdGltZSA6IHRpbWU7XG5cdFx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXHRcblx0XHRyZXR1cm4gdGhpcy5xdWV1ZSggdHlwZSwgZnVuY3Rpb24oIG5leHQsIGhvb2tzICkge1xuXHRcdFx0dmFyIHRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCggbmV4dCwgdGltZSApO1xuXHRcdFx0aG9va3Muc3RvcCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR3aW5kb3cuY2xlYXJUaW1lb3V0KCB0aW1lb3V0ICk7XG5cdFx0XHR9O1xuXHRcdH0gKTtcblx0fTtcblx0XG5cdFxuXHQoIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApLFxuXHRcdFx0c2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJzZWxlY3RcIiApLFxuXHRcdFx0b3B0ID0gc2VsZWN0LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcIm9wdGlvblwiICkgKTtcblx0XG5cdFx0aW5wdXQudHlwZSA9IFwiY2hlY2tib3hcIjtcblx0XG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMyBvbmx5XG5cdFx0Ly8gRGVmYXVsdCB2YWx1ZSBmb3IgYSBjaGVja2JveCBzaG91bGQgYmUgXCJvblwiXG5cdFx0c3VwcG9ydC5jaGVja09uID0gaW5wdXQudmFsdWUgIT09IFwiXCI7XG5cdFxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuXHRcdC8vIE11c3QgYWNjZXNzIHNlbGVjdGVkSW5kZXggdG8gbWFrZSBkZWZhdWx0IG9wdGlvbnMgc2VsZWN0XG5cdFx0c3VwcG9ydC5vcHRTZWxlY3RlZCA9IG9wdC5zZWxlY3RlZDtcblx0XG5cdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdFx0Ly8gQW4gaW5wdXQgbG9zZXMgaXRzIHZhbHVlIGFmdGVyIGJlY29taW5nIGEgcmFkaW9cblx0XHRpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApO1xuXHRcdGlucHV0LnZhbHVlID0gXCJ0XCI7XG5cdFx0aW5wdXQudHlwZSA9IFwicmFkaW9cIjtcblx0XHRzdXBwb3J0LnJhZGlvVmFsdWUgPSBpbnB1dC52YWx1ZSA9PT0gXCJ0XCI7XG5cdH0gKSgpO1xuXHRcblx0XG5cdHZhciBib29sSG9vayxcblx0XHRhdHRySGFuZGxlID0galF1ZXJ5LmV4cHIuYXR0ckhhbmRsZTtcblx0XG5cdGpRdWVyeS5mbi5leHRlbmQoIHtcblx0XHRhdHRyOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBqUXVlcnkuYXR0ciwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdFx0fSxcblx0XG5cdFx0cmVtb3ZlQXR0cjogZnVuY3Rpb24oIG5hbWUgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5LnJlbW92ZUF0dHIoIHRoaXMsIG5hbWUgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cdH0gKTtcblx0XG5cdGpRdWVyeS5leHRlbmQoIHtcblx0XHRhdHRyOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgcmV0LCBob29rcyxcblx0XHRcdFx0blR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuXHRcblx0XHRcdC8vIERvbid0IGdldC9zZXQgYXR0cmlidXRlcyBvbiB0ZXh0LCBjb21tZW50IGFuZCBhdHRyaWJ1dGUgbm9kZXNcblx0XHRcdGlmICggblR5cGUgPT09IDMgfHwgblR5cGUgPT09IDggfHwgblR5cGUgPT09IDIgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBGYWxsYmFjayB0byBwcm9wIHdoZW4gYXR0cmlidXRlcyBhcmUgbm90IHN1cHBvcnRlZFxuXHRcdFx0aWYgKCB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUgPT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0XHRcdHJldHVybiBqUXVlcnkucHJvcCggZWxlbSwgbmFtZSwgdmFsdWUgKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBBdHRyaWJ1dGUgaG9va3MgYXJlIGRldGVybWluZWQgYnkgdGhlIGxvd2VyY2FzZSB2ZXJzaW9uXG5cdFx0XHQvLyBHcmFiIG5lY2Vzc2FyeSBob29rIGlmIG9uZSBpcyBkZWZpbmVkXG5cdFx0XHRpZiAoIG5UeXBlICE9PSAxIHx8ICFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcblx0XHRcdFx0aG9va3MgPSBqUXVlcnkuYXR0ckhvb2tzWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSB8fFxuXHRcdFx0XHRcdCggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC50ZXN0KCBuYW1lICkgPyBib29sSG9vayA6IHVuZGVmaW5lZCApO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0aWYgKCB2YWx1ZSA9PT0gbnVsbCApIHtcblx0XHRcdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggZWxlbSwgbmFtZSApO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0aWYgKCBob29rcyAmJiBcInNldFwiIGluIGhvb2tzICYmXG5cdFx0XHRcdFx0KCByZXQgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBuYW1lICkgKSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCB2YWx1ZSArIFwiXCIgKTtcblx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgbmFtZSApICkgIT09IG51bGwgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0ID0galF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgbmFtZSApO1xuXHRcblx0XHRcdC8vIE5vbi1leGlzdGVudCBhdHRyaWJ1dGVzIHJldHVybiBudWxsLCB3ZSBub3JtYWxpemUgdG8gdW5kZWZpbmVkXG5cdFx0XHRyZXR1cm4gcmV0ID09IG51bGwgPyB1bmRlZmluZWQgOiByZXQ7XG5cdFx0fSxcblx0XG5cdFx0YXR0ckhvb2tzOiB7XG5cdFx0XHR0eXBlOiB7XG5cdFx0XHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0XHRcdGlmICggIXN1cHBvcnQucmFkaW9WYWx1ZSAmJiB2YWx1ZSA9PT0gXCJyYWRpb1wiICYmXG5cdFx0XHRcdFx0XHRqUXVlcnkubm9kZU5hbWUoIGVsZW0sIFwiaW5wdXRcIiApICkge1xuXHRcdFx0XHRcdFx0dmFyIHZhbCA9IGVsZW0udmFsdWU7XG5cdFx0XHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIHZhbHVlICk7XG5cdFx0XHRcdFx0XHRpZiAoIHZhbCApIHtcblx0XHRcdFx0XHRcdFx0ZWxlbS52YWx1ZSA9IHZhbDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRyZW1vdmVBdHRyOiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgbmFtZSxcblx0XHRcdFx0aSA9IDAsXG5cdFx0XHRcdGF0dHJOYW1lcyA9IHZhbHVlICYmIHZhbHVlLm1hdGNoKCBybm90d2hpdGUgKTtcblx0XG5cdFx0XHRpZiAoIGF0dHJOYW1lcyAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0XHR3aGlsZSAoICggbmFtZSA9IGF0dHJOYW1lc1sgaSsrIF0gKSApIHtcblx0XHRcdFx0XHRlbGVtLnJlbW92ZUF0dHJpYnV0ZSggbmFtZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHQvLyBIb29rcyBmb3IgYm9vbGVhbiBhdHRyaWJ1dGVzXG5cdGJvb2xIb29rID0ge1xuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBuYW1lICkge1xuXHRcdFx0aWYgKCB2YWx1ZSA9PT0gZmFsc2UgKSB7XG5cdFxuXHRcdFx0XHQvLyBSZW1vdmUgYm9vbGVhbiBhdHRyaWJ1dGVzIHdoZW4gc2V0IHRvIGZhbHNlXG5cdFx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCBlbGVtLCBuYW1lICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggbmFtZSwgbmFtZSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG5hbWU7XG5cdFx0fVxuXHR9O1xuXHRcblx0alF1ZXJ5LmVhY2goIGpRdWVyeS5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKCAvXFx3Ky9nICksIGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHRcdHZhciBnZXR0ZXIgPSBhdHRySGFuZGxlWyBuYW1lIF0gfHwgalF1ZXJ5LmZpbmQuYXR0cjtcblx0XG5cdFx0YXR0ckhhbmRsZVsgbmFtZSBdID0gZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdFx0dmFyIHJldCwgaGFuZGxlLFxuXHRcdFx0XHRsb3dlcmNhc2VOYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcblx0XHRcdGlmICggIWlzWE1MICkge1xuXHRcblx0XHRcdFx0Ly8gQXZvaWQgYW4gaW5maW5pdGUgbG9vcCBieSB0ZW1wb3JhcmlseSByZW1vdmluZyB0aGlzIGZ1bmN0aW9uIGZyb20gdGhlIGdldHRlclxuXHRcdFx0XHRoYW5kbGUgPSBhdHRySGFuZGxlWyBsb3dlcmNhc2VOYW1lIF07XG5cdFx0XHRcdGF0dHJIYW5kbGVbIGxvd2VyY2FzZU5hbWUgXSA9IHJldDtcblx0XHRcdFx0cmV0ID0gZ2V0dGVyKCBlbGVtLCBuYW1lLCBpc1hNTCApICE9IG51bGwgP1xuXHRcdFx0XHRcdGxvd2VyY2FzZU5hbWUgOlxuXHRcdFx0XHRcdG51bGw7XG5cdFx0XHRcdGF0dHJIYW5kbGVbIGxvd2VyY2FzZU5hbWUgXSA9IGhhbmRsZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fTtcblx0fSApO1xuXHRcblx0XG5cdFxuXHRcblx0dmFyIHJmb2N1c2FibGUgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFxuXHRcdHJjbGlja2FibGUgPSAvXig/OmF8YXJlYSkkL2k7XG5cdFxuXHRqUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdFx0cHJvcDogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgalF1ZXJ5LnByb3AsIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuXHRcdH0sXG5cdFxuXHRcdHJlbW92ZVByb3A6IGZ1bmN0aW9uKCBuYW1lICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRlbGV0ZSB0aGlzWyBqUXVlcnkucHJvcEZpeFsgbmFtZSBdIHx8IG5hbWUgXTtcblx0XHRcdH0gKTtcblx0XHR9XG5cdH0gKTtcblx0XG5cdGpRdWVyeS5leHRlbmQoIHtcblx0XHRwcm9wOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgcmV0LCBob29rcyxcblx0XHRcdFx0blR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuXHRcblx0XHRcdC8vIERvbid0IGdldC9zZXQgcHJvcGVydGllcyBvbiB0ZXh0LCBjb21tZW50IGFuZCBhdHRyaWJ1dGUgbm9kZXNcblx0XHRcdGlmICggblR5cGUgPT09IDMgfHwgblR5cGUgPT09IDggfHwgblR5cGUgPT09IDIgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIG5UeXBlICE9PSAxIHx8ICFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcblx0XG5cdFx0XHRcdC8vIEZpeCBuYW1lIGFuZCBhdHRhY2ggaG9va3Ncblx0XHRcdFx0bmFtZSA9IGpRdWVyeS5wcm9wRml4WyBuYW1lIF0gfHwgbmFtZTtcblx0XHRcdFx0aG9va3MgPSBqUXVlcnkucHJvcEhvb2tzWyBuYW1lIF07XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRpZiAoIGhvb2tzICYmIFwic2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0XHQoIHJldCA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIG5hbWUgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0cmV0dXJuICggZWxlbVsgbmFtZSBdID0gdmFsdWUgKTtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiYgKCByZXQgPSBob29rcy5nZXQoIGVsZW0sIG5hbWUgKSApICE9PSBudWxsICkge1xuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiBlbGVtWyBuYW1lIF07XG5cdFx0fSxcblx0XG5cdFx0cHJvcEhvb2tzOiB7XG5cdFx0XHR0YWJJbmRleDoge1xuXHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG5cdFx0XHRcdFx0Ly8gZWxlbS50YWJJbmRleCBkb2Vzbid0IGFsd2F5cyByZXR1cm4gdGhlXG5cdFx0XHRcdFx0Ly8gY29ycmVjdCB2YWx1ZSB3aGVuIGl0IGhhc24ndCBiZWVuIGV4cGxpY2l0bHkgc2V0XG5cdFx0XHRcdFx0Ly8gaHR0cHM6Ly93ZWIuYXJjaGl2ZS5vcmcvd2ViLzIwMTQxMTE2MjMzMzQ3L2h0dHA6Ly9mbHVpZHByb2plY3Qub3JnL2Jsb2cvMjAwOC8wMS8wOS9nZXR0aW5nLXNldHRpbmctYW5kLXJlbW92aW5nLXRhYmluZGV4LXZhbHVlcy13aXRoLWphdmFzY3JpcHQvXG5cdFx0XHRcdFx0Ly8gVXNlIHByb3BlciBhdHRyaWJ1dGUgcmV0cmlldmFsKCMxMjA3Milcblx0XHRcdFx0XHR2YXIgdGFiaW5kZXggPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBcInRhYmluZGV4XCIgKTtcblx0XG5cdFx0XHRcdFx0cmV0dXJuIHRhYmluZGV4ID9cblx0XHRcdFx0XHRcdHBhcnNlSW50KCB0YWJpbmRleCwgMTAgKSA6XG5cdFx0XHRcdFx0XHRyZm9jdXNhYmxlLnRlc3QoIGVsZW0ubm9kZU5hbWUgKSB8fFxuXHRcdFx0XHRcdFx0XHRyY2xpY2thYmxlLnRlc3QoIGVsZW0ubm9kZU5hbWUgKSAmJiBlbGVtLmhyZWYgP1xuXHRcdFx0XHRcdFx0XHRcdDAgOlxuXHRcdFx0XHRcdFx0XHRcdC0xO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0cHJvcEZpeDoge1xuXHRcdFx0XCJmb3JcIjogXCJodG1sRm9yXCIsXG5cdFx0XHRcImNsYXNzXCI6IFwiY2xhc3NOYW1lXCJcblx0XHR9XG5cdH0gKTtcblx0XG5cdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuXHQvLyBBY2Nlc3NpbmcgdGhlIHNlbGVjdGVkSW5kZXggcHJvcGVydHlcblx0Ly8gZm9yY2VzIHRoZSBicm93c2VyIHRvIHJlc3BlY3Qgc2V0dGluZyBzZWxlY3RlZFxuXHQvLyBvbiB0aGUgb3B0aW9uXG5cdC8vIFRoZSBnZXR0ZXIgZW5zdXJlcyBhIGRlZmF1bHQgb3B0aW9uIGlzIHNlbGVjdGVkXG5cdC8vIHdoZW4gaW4gYW4gb3B0Z3JvdXBcblx0aWYgKCAhc3VwcG9ydC5vcHRTZWxlY3RlZCApIHtcblx0XHRqUXVlcnkucHJvcEhvb2tzLnNlbGVjdGVkID0ge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcblx0XHRcdFx0aWYgKCBwYXJlbnQgJiYgcGFyZW50LnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdFx0cGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH0sXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0XHRpZiAoIHBhcmVudCApIHtcblx0XHRcdFx0XHRwYXJlbnQuc2VsZWN0ZWRJbmRleDtcblx0XG5cdFx0XHRcdFx0aWYgKCBwYXJlbnQucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0XHRcdHBhcmVudC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxuXHRcblx0alF1ZXJ5LmVhY2goIFtcblx0XHRcInRhYkluZGV4XCIsXG5cdFx0XCJyZWFkT25seVwiLFxuXHRcdFwibWF4TGVuZ3RoXCIsXG5cdFx0XCJjZWxsU3BhY2luZ1wiLFxuXHRcdFwiY2VsbFBhZGRpbmdcIixcblx0XHRcInJvd1NwYW5cIixcblx0XHRcImNvbFNwYW5cIixcblx0XHRcInVzZU1hcFwiLFxuXHRcdFwiZnJhbWVCb3JkZXJcIixcblx0XHRcImNvbnRlbnRFZGl0YWJsZVwiXG5cdF0sIGZ1bmN0aW9uKCkge1xuXHRcdGpRdWVyeS5wcm9wRml4WyB0aGlzLnRvTG93ZXJDYXNlKCkgXSA9IHRoaXM7XG5cdH0gKTtcblx0XG5cdFxuXHRcblx0XG5cdHZhciByY2xhc3MgPSAvW1xcdFxcclxcblxcZl0vZztcblx0XG5cdGZ1bmN0aW9uIGdldENsYXNzKCBlbGVtICkge1xuXHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSAmJiBlbGVtLmdldEF0dHJpYnV0ZSggXCJjbGFzc1wiICkgfHwgXCJcIjtcblx0fVxuXHRcblx0alF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRcdGFkZENsYXNzOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgY2xhc3NlcywgZWxlbSwgY3VyLCBjdXJWYWx1ZSwgY2xhenosIGosIGZpbmFsVmFsdWUsXG5cdFx0XHRcdGkgPSAwO1xuXHRcblx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBqICkge1xuXHRcdFx0XHRcdGpRdWVyeSggdGhpcyApLmFkZENsYXNzKCB2YWx1ZS5jYWxsKCB0aGlzLCBqLCBnZXRDbGFzcyggdGhpcyApICkgKTtcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIHZhbHVlICkge1xuXHRcdFx0XHRjbGFzc2VzID0gdmFsdWUubWF0Y2goIHJub3R3aGl0ZSApIHx8IFtdO1xuXHRcblx0XHRcdFx0d2hpbGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkge1xuXHRcdFx0XHRcdGN1clZhbHVlID0gZ2V0Q2xhc3MoIGVsZW0gKTtcblx0XHRcdFx0XHRjdXIgPSBlbGVtLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdFx0XHQoIFwiIFwiICsgY3VyVmFsdWUgKyBcIiBcIiApLnJlcGxhY2UoIHJjbGFzcywgXCIgXCIgKTtcblx0XG5cdFx0XHRcdFx0aWYgKCBjdXIgKSB7XG5cdFx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHRcdHdoaWxlICggKCBjbGF6eiA9IGNsYXNzZXNbIGorKyBdICkgKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggY3VyLmluZGV4T2YoIFwiIFwiICsgY2xhenogKyBcIiBcIiApIDwgMCApIHtcblx0XHRcdFx0XHRcdFx0XHRjdXIgKz0gY2xhenogKyBcIiBcIjtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdC8vIE9ubHkgYXNzaWduIGlmIGRpZmZlcmVudCB0byBhdm9pZCB1bm5lZWRlZCByZW5kZXJpbmcuXG5cdFx0XHRcdFx0XHRmaW5hbFZhbHVlID0galF1ZXJ5LnRyaW0oIGN1ciApO1xuXHRcdFx0XHRcdFx0aWYgKCBjdXJWYWx1ZSAhPT0gZmluYWxWYWx1ZSApIHtcblx0XHRcdFx0XHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIiwgZmluYWxWYWx1ZSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFxuXHRcdHJlbW92ZUNsYXNzOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgY2xhc3NlcywgZWxlbSwgY3VyLCBjdXJWYWx1ZSwgY2xhenosIGosIGZpbmFsVmFsdWUsXG5cdFx0XHRcdGkgPSAwO1xuXHRcblx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBqICkge1xuXHRcdFx0XHRcdGpRdWVyeSggdGhpcyApLnJlbW92ZUNsYXNzKCB2YWx1ZS5jYWxsKCB0aGlzLCBqLCBnZXRDbGFzcyggdGhpcyApICkgKTtcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggIWFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmF0dHIoIFwiY2xhc3NcIiwgXCJcIiApO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIHZhbHVlICkge1xuXHRcdFx0XHRjbGFzc2VzID0gdmFsdWUubWF0Y2goIHJub3R3aGl0ZSApIHx8IFtdO1xuXHRcblx0XHRcdFx0d2hpbGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkge1xuXHRcdFx0XHRcdGN1clZhbHVlID0gZ2V0Q2xhc3MoIGVsZW0gKTtcblx0XG5cdFx0XHRcdFx0Ly8gVGhpcyBleHByZXNzaW9uIGlzIGhlcmUgZm9yIGJldHRlciBjb21wcmVzc2liaWxpdHkgKHNlZSBhZGRDbGFzcylcblx0XHRcdFx0XHRjdXIgPSBlbGVtLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdFx0XHQoIFwiIFwiICsgY3VyVmFsdWUgKyBcIiBcIiApLnJlcGxhY2UoIHJjbGFzcywgXCIgXCIgKTtcblx0XG5cdFx0XHRcdFx0aWYgKCBjdXIgKSB7XG5cdFx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHRcdHdoaWxlICggKCBjbGF6eiA9IGNsYXNzZXNbIGorKyBdICkgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHQvLyBSZW1vdmUgKmFsbCogaW5zdGFuY2VzXG5cdFx0XHRcdFx0XHRcdHdoaWxlICggY3VyLmluZGV4T2YoIFwiIFwiICsgY2xhenogKyBcIiBcIiApID4gLTEgKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y3VyID0gY3VyLnJlcGxhY2UoIFwiIFwiICsgY2xhenogKyBcIiBcIiwgXCIgXCIgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdC8vIE9ubHkgYXNzaWduIGlmIGRpZmZlcmVudCB0byBhdm9pZCB1bm5lZWRlZCByZW5kZXJpbmcuXG5cdFx0XHRcdFx0XHRmaW5hbFZhbHVlID0galF1ZXJ5LnRyaW0oIGN1ciApO1xuXHRcdFx0XHRcdFx0aWYgKCBjdXJWYWx1ZSAhPT0gZmluYWxWYWx1ZSApIHtcblx0XHRcdFx0XHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIiwgZmluYWxWYWx1ZSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFxuXHRcdHRvZ2dsZUNsYXNzOiBmdW5jdGlvbiggdmFsdWUsIHN0YXRlVmFsICkge1xuXHRcdFx0dmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cdFxuXHRcdFx0aWYgKCB0eXBlb2Ygc3RhdGVWYWwgPT09IFwiYm9vbGVhblwiICYmIHR5cGUgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdHJldHVybiBzdGF0ZVZhbCA/IHRoaXMuYWRkQ2xhc3MoIHZhbHVlICkgOiB0aGlzLnJlbW92ZUNsYXNzKCB2YWx1ZSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRcdGpRdWVyeSggdGhpcyApLnRvZ2dsZUNsYXNzKFxuXHRcdFx0XHRcdFx0dmFsdWUuY2FsbCggdGhpcywgaSwgZ2V0Q2xhc3MoIHRoaXMgKSwgc3RhdGVWYWwgKSxcblx0XHRcdFx0XHRcdHN0YXRlVmFsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgY2xhc3NOYW1lLCBpLCBzZWxmLCBjbGFzc05hbWVzO1xuXHRcblx0XHRcdFx0aWYgKCB0eXBlID09PSBcInN0cmluZ1wiICkge1xuXHRcblx0XHRcdFx0XHQvLyBUb2dnbGUgaW5kaXZpZHVhbCBjbGFzcyBuYW1lc1xuXHRcdFx0XHRcdGkgPSAwO1xuXHRcdFx0XHRcdHNlbGYgPSBqUXVlcnkoIHRoaXMgKTtcblx0XHRcdFx0XHRjbGFzc05hbWVzID0gdmFsdWUubWF0Y2goIHJub3R3aGl0ZSApIHx8IFtdO1xuXHRcblx0XHRcdFx0XHR3aGlsZSAoICggY2xhc3NOYW1lID0gY2xhc3NOYW1lc1sgaSsrIF0gKSApIHtcblx0XG5cdFx0XHRcdFx0XHQvLyBDaGVjayBlYWNoIGNsYXNzTmFtZSBnaXZlbiwgc3BhY2Ugc2VwYXJhdGVkIGxpc3Rcblx0XHRcdFx0XHRcdGlmICggc2VsZi5oYXNDbGFzcyggY2xhc3NOYW1lICkgKSB7XG5cdFx0XHRcdFx0XHRcdHNlbGYucmVtb3ZlQ2xhc3MoIGNsYXNzTmFtZSApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0c2VsZi5hZGRDbGFzcyggY2xhc3NOYW1lICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gVG9nZ2xlIHdob2xlIGNsYXNzIG5hbWVcblx0XHRcdFx0fSBlbHNlIGlmICggdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB0eXBlID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRcdFx0XHRjbGFzc05hbWUgPSBnZXRDbGFzcyggdGhpcyApO1xuXHRcdFx0XHRcdGlmICggY2xhc3NOYW1lICkge1xuXHRcblx0XHRcdFx0XHRcdC8vIFN0b3JlIGNsYXNzTmFtZSBpZiBzZXRcblx0XHRcdFx0XHRcdGRhdGFQcml2LnNldCggdGhpcywgXCJfX2NsYXNzTmFtZV9fXCIsIGNsYXNzTmFtZSApO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gSWYgdGhlIGVsZW1lbnQgaGFzIGEgY2xhc3MgbmFtZSBvciBpZiB3ZSdyZSBwYXNzZWQgYGZhbHNlYCxcblx0XHRcdFx0XHQvLyB0aGVuIHJlbW92ZSB0aGUgd2hvbGUgY2xhc3NuYW1lIChpZiB0aGVyZSB3YXMgb25lLCB0aGUgYWJvdmUgc2F2ZWQgaXQpLlxuXHRcdFx0XHRcdC8vIE90aGVyd2lzZSBicmluZyBiYWNrIHdoYXRldmVyIHdhcyBwcmV2aW91c2x5IHNhdmVkIChpZiBhbnl0aGluZyksXG5cdFx0XHRcdFx0Ly8gZmFsbGluZyBiYWNrIHRvIHRoZSBlbXB0eSBzdHJpbmcgaWYgbm90aGluZyB3YXMgc3RvcmVkLlxuXHRcdFx0XHRcdGlmICggdGhpcy5zZXRBdHRyaWJ1dGUgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnNldEF0dHJpYnV0ZSggXCJjbGFzc1wiLFxuXHRcdFx0XHRcdFx0XHRjbGFzc05hbWUgfHwgdmFsdWUgPT09IGZhbHNlID9cblx0XHRcdFx0XHRcdFx0XCJcIiA6XG5cdFx0XHRcdFx0XHRcdGRhdGFQcml2LmdldCggdGhpcywgXCJfX2NsYXNzTmFtZV9fXCIgKSB8fCBcIlwiXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH0sXG5cdFxuXHRcdGhhc0NsYXNzOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHR2YXIgY2xhc3NOYW1lLCBlbGVtLFxuXHRcdFx0XHRpID0gMDtcblx0XG5cdFx0XHRjbGFzc05hbWUgPSBcIiBcIiArIHNlbGVjdG9yICsgXCIgXCI7XG5cdFx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0XHRcdCggXCIgXCIgKyBnZXRDbGFzcyggZWxlbSApICsgXCIgXCIgKS5yZXBsYWNlKCByY2xhc3MsIFwiIFwiIClcblx0XHRcdFx0XHRcdC5pbmRleE9mKCBjbGFzc05hbWUgKSA+IC0xXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fSApO1xuXHRcblx0XG5cdFxuXHRcblx0dmFyIHJyZXR1cm4gPSAvXFxyL2csXG5cdFx0cnNwYWNlcyA9IC9bXFx4MjBcXHRcXHJcXG5cXGZdKy9nO1xuXHRcblx0alF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRcdHZhbDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGhvb2tzLCByZXQsIGlzRnVuY3Rpb24sXG5cdFx0XHRcdGVsZW0gPSB0aGlzWyAwIF07XG5cdFxuXHRcdFx0aWYgKCAhYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0XHRcdGhvb2tzID0galF1ZXJ5LnZhbEhvb2tzWyBlbGVtLnR5cGUgXSB8fFxuXHRcdFx0XHRcdFx0alF1ZXJ5LnZhbEhvb2tzWyBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTtcblx0XG5cdFx0XHRcdFx0aWYgKCBob29rcyAmJlxuXHRcdFx0XHRcdFx0XCJnZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHRcdFx0KCByZXQgPSBob29rcy5nZXQoIGVsZW0sIFwidmFsdWVcIiApICkgIT09IHVuZGVmaW5lZFxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdHJldCA9IGVsZW0udmFsdWU7XG5cdFxuXHRcdFx0XHRcdHJldHVybiB0eXBlb2YgcmV0ID09PSBcInN0cmluZ1wiID9cblx0XG5cdFx0XHRcdFx0XHQvLyBIYW5kbGUgbW9zdCBjb21tb24gc3RyaW5nIGNhc2VzXG5cdFx0XHRcdFx0XHRyZXQucmVwbGFjZSggcnJldHVybiwgXCJcIiApIDpcblx0XG5cdFx0XHRcdFx0XHQvLyBIYW5kbGUgY2FzZXMgd2hlcmUgdmFsdWUgaXMgbnVsbC91bmRlZiBvciBudW1iZXJcblx0XHRcdFx0XHRcdHJldCA9PSBudWxsID8gXCJcIiA6IHJldDtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlzRnVuY3Rpb24gPSBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKTtcblx0XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0dmFyIHZhbDtcblx0XG5cdFx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSAhPT0gMSApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGlmICggaXNGdW5jdGlvbiApIHtcblx0XHRcdFx0XHR2YWwgPSB2YWx1ZS5jYWxsKCB0aGlzLCBpLCBqUXVlcnkoIHRoaXMgKS52YWwoKSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHZhbCA9IHZhbHVlO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBUcmVhdCBudWxsL3VuZGVmaW5lZCBhcyBcIlwiOyBjb252ZXJ0IG51bWJlcnMgdG8gc3RyaW5nXG5cdFx0XHRcdGlmICggdmFsID09IG51bGwgKSB7XG5cdFx0XHRcdFx0dmFsID0gXCJcIjtcblx0XG5cdFx0XHRcdH0gZWxzZSBpZiAoIHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdFx0dmFsICs9IFwiXCI7XG5cdFxuXHRcdFx0XHR9IGVsc2UgaWYgKCBqUXVlcnkuaXNBcnJheSggdmFsICkgKSB7XG5cdFx0XHRcdFx0dmFsID0galF1ZXJ5Lm1hcCggdmFsLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSArIFwiXCI7XG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRob29rcyA9IGpRdWVyeS52YWxIb29rc1sgdGhpcy50eXBlIF0gfHwgalF1ZXJ5LnZhbEhvb2tzWyB0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTtcblx0XG5cdFx0XHRcdC8vIElmIHNldCByZXR1cm5zIHVuZGVmaW5lZCwgZmFsbCBiYWNrIHRvIG5vcm1hbCBzZXR0aW5nXG5cdFx0XHRcdGlmICggIWhvb2tzIHx8ICEoIFwic2V0XCIgaW4gaG9va3MgKSB8fCBob29rcy5zZXQoIHRoaXMsIHZhbCwgXCJ2YWx1ZVwiICkgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHR0aGlzLnZhbHVlID0gdmFsO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRqUXVlcnkuZXh0ZW5kKCB7XG5cdFx0dmFsSG9va3M6IHtcblx0XHRcdG9wdGlvbjoge1xuXHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcblx0XHRcdFx0XHR2YXIgdmFsID0galF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgXCJ2YWx1ZVwiICk7XG5cdFx0XHRcdFx0cmV0dXJuIHZhbCAhPSBudWxsID9cblx0XHRcdFx0XHRcdHZhbCA6XG5cdFxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD0xMCAtIDExIG9ubHlcblx0XHRcdFx0XHRcdC8vIG9wdGlvbi50ZXh0IHRocm93cyBleGNlcHRpb25zICgjMTQ2ODYsICMxNDg1OClcblx0XHRcdFx0XHRcdC8vIFN0cmlwIGFuZCBjb2xsYXBzZSB3aGl0ZXNwYWNlXG5cdFx0XHRcdFx0XHQvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNzdHJpcC1hbmQtY29sbGFwc2Utd2hpdGVzcGFjZVxuXHRcdFx0XHRcdFx0alF1ZXJ5LnRyaW0oIGpRdWVyeS50ZXh0KCBlbGVtICkgKS5yZXBsYWNlKCByc3BhY2VzLCBcIiBcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0c2VsZWN0OiB7XG5cdFx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0dmFyIHZhbHVlLCBvcHRpb24sXG5cdFx0XHRcdFx0XHRvcHRpb25zID0gZWxlbS5vcHRpb25zLFxuXHRcdFx0XHRcdFx0aW5kZXggPSBlbGVtLnNlbGVjdGVkSW5kZXgsXG5cdFx0XHRcdFx0XHRvbmUgPSBlbGVtLnR5cGUgPT09IFwic2VsZWN0LW9uZVwiLFxuXHRcdFx0XHRcdFx0dmFsdWVzID0gb25lID8gbnVsbCA6IFtdLFxuXHRcdFx0XHRcdFx0bWF4ID0gb25lID8gaW5kZXggKyAxIDogb3B0aW9ucy5sZW5ndGgsXG5cdFx0XHRcdFx0XHRpID0gaW5kZXggPCAwID9cblx0XHRcdFx0XHRcdFx0bWF4IDpcblx0XHRcdFx0XHRcdFx0b25lID8gaW5kZXggOiAwO1xuXHRcblx0XHRcdFx0XHQvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBzZWxlY3RlZCBvcHRpb25zXG5cdFx0XHRcdFx0Zm9yICggOyBpIDwgbWF4OyBpKysgKSB7XG5cdFx0XHRcdFx0XHRvcHRpb24gPSBvcHRpb25zWyBpIF07XG5cdFxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHRcdFx0XHRcdC8vIElFOC05IGRvZXNuJ3QgdXBkYXRlIHNlbGVjdGVkIGFmdGVyIGZvcm0gcmVzZXQgKCMyNTUxKVxuXHRcdFx0XHRcdFx0aWYgKCAoIG9wdGlvbi5zZWxlY3RlZCB8fCBpID09PSBpbmRleCApICYmXG5cdFxuXHRcdFx0XHRcdFx0XHRcdC8vIERvbid0IHJldHVybiBvcHRpb25zIHRoYXQgYXJlIGRpc2FibGVkIG9yIGluIGEgZGlzYWJsZWQgb3B0Z3JvdXBcblx0XHRcdFx0XHRcdFx0XHQhb3B0aW9uLmRpc2FibGVkICYmXG5cdFx0XHRcdFx0XHRcdFx0KCAhb3B0aW9uLnBhcmVudE5vZGUuZGlzYWJsZWQgfHxcblx0XHRcdFx0XHRcdFx0XHRcdCFqUXVlcnkubm9kZU5hbWUoIG9wdGlvbi5wYXJlbnROb2RlLCBcIm9wdGdyb3VwXCIgKSApICkge1xuXHRcblx0XHRcdFx0XHRcdFx0Ly8gR2V0IHRoZSBzcGVjaWZpYyB2YWx1ZSBmb3IgdGhlIG9wdGlvblxuXHRcdFx0XHRcdFx0XHR2YWx1ZSA9IGpRdWVyeSggb3B0aW9uICkudmFsKCk7XG5cdFxuXHRcdFx0XHRcdFx0XHQvLyBXZSBkb24ndCBuZWVkIGFuIGFycmF5IGZvciBvbmUgc2VsZWN0c1xuXHRcdFx0XHRcdFx0XHRpZiAoIG9uZSApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRcdC8vIE11bHRpLVNlbGVjdHMgcmV0dXJuIGFuIGFycmF5XG5cdFx0XHRcdFx0XHRcdHZhbHVlcy5wdXNoKCB2YWx1ZSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0cmV0dXJuIHZhbHVlcztcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0XHRcdHZhciBvcHRpb25TZXQsIG9wdGlvbixcblx0XHRcdFx0XHRcdG9wdGlvbnMgPSBlbGVtLm9wdGlvbnMsXG5cdFx0XHRcdFx0XHR2YWx1ZXMgPSBqUXVlcnkubWFrZUFycmF5KCB2YWx1ZSApLFxuXHRcdFx0XHRcdFx0aSA9IG9wdGlvbnMubGVuZ3RoO1xuXHRcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdG9wdGlvbiA9IG9wdGlvbnNbIGkgXTtcblx0XG5cdFx0XHRcdFx0XHQvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25kLWFzc2lnbiAqL1xuXHRcblx0XHRcdFx0XHRcdGlmICggb3B0aW9uLnNlbGVjdGVkID1cblx0XHRcdFx0XHRcdFx0alF1ZXJ5LmluQXJyYXkoIGpRdWVyeS52YWxIb29rcy5vcHRpb24uZ2V0KCBvcHRpb24gKSwgdmFsdWVzICkgPiAtMVxuXHRcdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRcdG9wdGlvblNldCA9IHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0LyogZXNsaW50LWVuYWJsZSBuby1jb25kLWFzc2lnbiAqL1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gRm9yY2UgYnJvd3NlcnMgdG8gYmVoYXZlIGNvbnNpc3RlbnRseSB3aGVuIG5vbi1tYXRjaGluZyB2YWx1ZSBpcyBzZXRcblx0XHRcdFx0XHRpZiAoICFvcHRpb25TZXQgKSB7XG5cdFx0XHRcdFx0XHRlbGVtLnNlbGVjdGVkSW5kZXggPSAtMTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHZhbHVlcztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSApO1xuXHRcblx0Ly8gUmFkaW9zIGFuZCBjaGVja2JveGVzIGdldHRlci9zZXR0ZXJcblx0alF1ZXJ5LmVhY2goIFsgXCJyYWRpb1wiLCBcImNoZWNrYm94XCIgXSwgZnVuY3Rpb24oKSB7XG5cdFx0alF1ZXJ5LnZhbEhvb2tzWyB0aGlzIF0gPSB7XG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdFx0aWYgKCBqUXVlcnkuaXNBcnJheSggdmFsdWUgKSApIHtcblx0XHRcdFx0XHRyZXR1cm4gKCBlbGVtLmNoZWNrZWQgPSBqUXVlcnkuaW5BcnJheSggalF1ZXJ5KCBlbGVtICkudmFsKCksIHZhbHVlICkgPiAtMSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRpZiAoICFzdXBwb3J0LmNoZWNrT24gKSB7XG5cdFx0XHRqUXVlcnkudmFsSG9va3NbIHRoaXMgXS5nZXQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCBcInZhbHVlXCIgKSA9PT0gbnVsbCA/IFwib25cIiA6IGVsZW0udmFsdWU7XG5cdFx0XHR9O1xuXHRcdH1cblx0fSApO1xuXHRcblx0XG5cdFxuXHRcblx0Ly8gUmV0dXJuIGpRdWVyeSBmb3IgYXR0cmlidXRlcy1vbmx5IGluY2x1c2lvblxuXHRcblx0XG5cdHZhciByZm9jdXNNb3JwaCA9IC9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLztcblx0XG5cdGpRdWVyeS5leHRlbmQoIGpRdWVyeS5ldmVudCwge1xuXHRcblx0XHR0cmlnZ2VyOiBmdW5jdGlvbiggZXZlbnQsIGRhdGEsIGVsZW0sIG9ubHlIYW5kbGVycyApIHtcblx0XG5cdFx0XHR2YXIgaSwgY3VyLCB0bXAsIGJ1YmJsZVR5cGUsIG9udHlwZSwgaGFuZGxlLCBzcGVjaWFsLFxuXHRcdFx0XHRldmVudFBhdGggPSBbIGVsZW0gfHwgZG9jdW1lbnQgXSxcblx0XHRcdFx0dHlwZSA9IGhhc093bi5jYWxsKCBldmVudCwgXCJ0eXBlXCIgKSA/IGV2ZW50LnR5cGUgOiBldmVudCxcblx0XHRcdFx0bmFtZXNwYWNlcyA9IGhhc093bi5jYWxsKCBldmVudCwgXCJuYW1lc3BhY2VcIiApID8gZXZlbnQubmFtZXNwYWNlLnNwbGl0KCBcIi5cIiApIDogW107XG5cdFxuXHRcdFx0Y3VyID0gdG1wID0gZWxlbSA9IGVsZW0gfHwgZG9jdW1lbnQ7XG5cdFxuXHRcdFx0Ly8gRG9uJ3QgZG8gZXZlbnRzIG9uIHRleHQgYW5kIGNvbW1lbnQgbm9kZXNcblx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMyB8fCBlbGVtLm5vZGVUeXBlID09PSA4ICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gZm9jdXMvYmx1ciBtb3JwaHMgdG8gZm9jdXNpbi9vdXQ7IGVuc3VyZSB3ZSdyZSBub3QgZmlyaW5nIHRoZW0gcmlnaHQgbm93XG5cdFx0XHRpZiAoIHJmb2N1c01vcnBoLnRlc3QoIHR5cGUgKyBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkICkgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIHR5cGUuaW5kZXhPZiggXCIuXCIgKSA+IC0xICkge1xuXHRcblx0XHRcdFx0Ly8gTmFtZXNwYWNlZCB0cmlnZ2VyOyBjcmVhdGUgYSByZWdleHAgdG8gbWF0Y2ggZXZlbnQgdHlwZSBpbiBoYW5kbGUoKVxuXHRcdFx0XHRuYW1lc3BhY2VzID0gdHlwZS5zcGxpdCggXCIuXCIgKTtcblx0XHRcdFx0dHlwZSA9IG5hbWVzcGFjZXMuc2hpZnQoKTtcblx0XHRcdFx0bmFtZXNwYWNlcy5zb3J0KCk7XG5cdFx0XHR9XG5cdFx0XHRvbnR5cGUgPSB0eXBlLmluZGV4T2YoIFwiOlwiICkgPCAwICYmIFwib25cIiArIHR5cGU7XG5cdFxuXHRcdFx0Ly8gQ2FsbGVyIGNhbiBwYXNzIGluIGEgalF1ZXJ5LkV2ZW50IG9iamVjdCwgT2JqZWN0LCBvciBqdXN0IGFuIGV2ZW50IHR5cGUgc3RyaW5nXG5cdFx0XHRldmVudCA9IGV2ZW50WyBqUXVlcnkuZXhwYW5kbyBdID9cblx0XHRcdFx0ZXZlbnQgOlxuXHRcdFx0XHRuZXcgalF1ZXJ5LkV2ZW50KCB0eXBlLCB0eXBlb2YgZXZlbnQgPT09IFwib2JqZWN0XCIgJiYgZXZlbnQgKTtcblx0XG5cdFx0XHQvLyBUcmlnZ2VyIGJpdG1hc2s6ICYgMSBmb3IgbmF0aXZlIGhhbmRsZXJzOyAmIDIgZm9yIGpRdWVyeSAoYWx3YXlzIHRydWUpXG5cdFx0XHRldmVudC5pc1RyaWdnZXIgPSBvbmx5SGFuZGxlcnMgPyAyIDogMztcblx0XHRcdGV2ZW50Lm5hbWVzcGFjZSA9IG5hbWVzcGFjZXMuam9pbiggXCIuXCIgKTtcblx0XHRcdGV2ZW50LnJuYW1lc3BhY2UgPSBldmVudC5uYW1lc3BhY2UgP1xuXHRcdFx0XHRuZXcgUmVnRXhwKCBcIihefFxcXFwuKVwiICsgbmFtZXNwYWNlcy5qb2luKCBcIlxcXFwuKD86LipcXFxcLnwpXCIgKSArIFwiKFxcXFwufCQpXCIgKSA6XG5cdFx0XHRcdG51bGw7XG5cdFxuXHRcdFx0Ly8gQ2xlYW4gdXAgdGhlIGV2ZW50IGluIGNhc2UgaXQgaXMgYmVpbmcgcmV1c2VkXG5cdFx0XHRldmVudC5yZXN1bHQgPSB1bmRlZmluZWQ7XG5cdFx0XHRpZiAoICFldmVudC50YXJnZXQgKSB7XG5cdFx0XHRcdGV2ZW50LnRhcmdldCA9IGVsZW07XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gQ2xvbmUgYW55IGluY29taW5nIGRhdGEgYW5kIHByZXBlbmQgdGhlIGV2ZW50LCBjcmVhdGluZyB0aGUgaGFuZGxlciBhcmcgbGlzdFxuXHRcdFx0ZGF0YSA9IGRhdGEgPT0gbnVsbCA/XG5cdFx0XHRcdFsgZXZlbnQgXSA6XG5cdFx0XHRcdGpRdWVyeS5tYWtlQXJyYXkoIGRhdGEsIFsgZXZlbnQgXSApO1xuXHRcblx0XHRcdC8vIEFsbG93IHNwZWNpYWwgZXZlbnRzIHRvIGRyYXcgb3V0c2lkZSB0aGUgbGluZXNcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXHRcdFx0aWYgKCAhb25seUhhbmRsZXJzICYmIHNwZWNpYWwudHJpZ2dlciAmJiBzcGVjaWFsLnRyaWdnZXIuYXBwbHkoIGVsZW0sIGRhdGEgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBEZXRlcm1pbmUgZXZlbnQgcHJvcGFnYXRpb24gcGF0aCBpbiBhZHZhbmNlLCBwZXIgVzNDIGV2ZW50cyBzcGVjICgjOTk1MSlcblx0XHRcdC8vIEJ1YmJsZSB1cCB0byBkb2N1bWVudCwgdGhlbiB0byB3aW5kb3c7IHdhdGNoIGZvciBhIGdsb2JhbCBvd25lckRvY3VtZW50IHZhciAoIzk3MjQpXG5cdFx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgIXNwZWNpYWwubm9CdWJibGUgJiYgIWpRdWVyeS5pc1dpbmRvdyggZWxlbSApICkge1xuXHRcblx0XHRcdFx0YnViYmxlVHlwZSA9IHNwZWNpYWwuZGVsZWdhdGVUeXBlIHx8IHR5cGU7XG5cdFx0XHRcdGlmICggIXJmb2N1c01vcnBoLnRlc3QoIGJ1YmJsZVR5cGUgKyB0eXBlICkgKSB7XG5cdFx0XHRcdFx0Y3VyID0gY3VyLnBhcmVudE5vZGU7XG5cdFx0XHRcdH1cblx0XHRcdFx0Zm9yICggOyBjdXI7IGN1ciA9IGN1ci5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRcdGV2ZW50UGF0aC5wdXNoKCBjdXIgKTtcblx0XHRcdFx0XHR0bXAgPSBjdXI7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIE9ubHkgYWRkIHdpbmRvdyBpZiB3ZSBnb3QgdG8gZG9jdW1lbnQgKGUuZy4sIG5vdCBwbGFpbiBvYmogb3IgZGV0YWNoZWQgRE9NKVxuXHRcdFx0XHRpZiAoIHRtcCA9PT0gKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZG9jdW1lbnQgKSApIHtcblx0XHRcdFx0XHRldmVudFBhdGgucHVzaCggdG1wLmRlZmF1bHRWaWV3IHx8IHRtcC5wYXJlbnRXaW5kb3cgfHwgd2luZG93ICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHQvLyBGaXJlIGhhbmRsZXJzIG9uIHRoZSBldmVudCBwYXRoXG5cdFx0XHRpID0gMDtcblx0XHRcdHdoaWxlICggKCBjdXIgPSBldmVudFBhdGhbIGkrKyBdICkgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFxuXHRcdFx0XHRldmVudC50eXBlID0gaSA+IDEgP1xuXHRcdFx0XHRcdGJ1YmJsZVR5cGUgOlxuXHRcdFx0XHRcdHNwZWNpYWwuYmluZFR5cGUgfHwgdHlwZTtcblx0XG5cdFx0XHRcdC8vIGpRdWVyeSBoYW5kbGVyXG5cdFx0XHRcdGhhbmRsZSA9ICggZGF0YVByaXYuZ2V0KCBjdXIsIFwiZXZlbnRzXCIgKSB8fCB7fSApWyBldmVudC50eXBlIF0gJiZcblx0XHRcdFx0XHRkYXRhUHJpdi5nZXQoIGN1ciwgXCJoYW5kbGVcIiApO1xuXHRcdFx0XHRpZiAoIGhhbmRsZSApIHtcblx0XHRcdFx0XHRoYW5kbGUuYXBwbHkoIGN1ciwgZGF0YSApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBOYXRpdmUgaGFuZGxlclxuXHRcdFx0XHRoYW5kbGUgPSBvbnR5cGUgJiYgY3VyWyBvbnR5cGUgXTtcblx0XHRcdFx0aWYgKCBoYW5kbGUgJiYgaGFuZGxlLmFwcGx5ICYmIGFjY2VwdERhdGEoIGN1ciApICkge1xuXHRcdFx0XHRcdGV2ZW50LnJlc3VsdCA9IGhhbmRsZS5hcHBseSggY3VyLCBkYXRhICk7XG5cdFx0XHRcdFx0aWYgKCBldmVudC5yZXN1bHQgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGV2ZW50LnR5cGUgPSB0eXBlO1xuXHRcblx0XHRcdC8vIElmIG5vYm9keSBwcmV2ZW50ZWQgdGhlIGRlZmF1bHQgYWN0aW9uLCBkbyBpdCBub3dcblx0XHRcdGlmICggIW9ubHlIYW5kbGVycyAmJiAhZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgKSB7XG5cdFxuXHRcdFx0XHRpZiAoICggIXNwZWNpYWwuX2RlZmF1bHQgfHxcblx0XHRcdFx0XHRzcGVjaWFsLl9kZWZhdWx0LmFwcGx5KCBldmVudFBhdGgucG9wKCksIGRhdGEgKSA9PT0gZmFsc2UgKSAmJlxuXHRcdFx0XHRcdGFjY2VwdERhdGEoIGVsZW0gKSApIHtcblx0XG5cdFx0XHRcdFx0Ly8gQ2FsbCBhIG5hdGl2ZSBET00gbWV0aG9kIG9uIHRoZSB0YXJnZXQgd2l0aCB0aGUgc2FtZSBuYW1lIGFzIHRoZSBldmVudC5cblx0XHRcdFx0XHQvLyBEb24ndCBkbyBkZWZhdWx0IGFjdGlvbnMgb24gd2luZG93LCB0aGF0J3Mgd2hlcmUgZ2xvYmFsIHZhcmlhYmxlcyBiZSAoIzYxNzApXG5cdFx0XHRcdFx0aWYgKCBvbnR5cGUgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oIGVsZW1bIHR5cGUgXSApICYmICFqUXVlcnkuaXNXaW5kb3coIGVsZW0gKSApIHtcblx0XG5cdFx0XHRcdFx0XHQvLyBEb24ndCByZS10cmlnZ2VyIGFuIG9uRk9PIGV2ZW50IHdoZW4gd2UgY2FsbCBpdHMgRk9PKCkgbWV0aG9kXG5cdFx0XHRcdFx0XHR0bXAgPSBlbGVtWyBvbnR5cGUgXTtcblx0XG5cdFx0XHRcdFx0XHRpZiAoIHRtcCApIHtcblx0XHRcdFx0XHRcdFx0ZWxlbVsgb250eXBlIF0gPSBudWxsO1xuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdC8vIFByZXZlbnQgcmUtdHJpZ2dlcmluZyBvZiB0aGUgc2FtZSBldmVudCwgc2luY2Ugd2UgYWxyZWFkeSBidWJibGVkIGl0IGFib3ZlXG5cdFx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlcmVkID0gdHlwZTtcblx0XHRcdFx0XHRcdGVsZW1bIHR5cGUgXSgpO1xuXHRcdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCA9IHVuZGVmaW5lZDtcblx0XG5cdFx0XHRcdFx0XHRpZiAoIHRtcCApIHtcblx0XHRcdFx0XHRcdFx0ZWxlbVsgb250eXBlIF0gPSB0bXA7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIGV2ZW50LnJlc3VsdDtcblx0XHR9LFxuXHRcblx0XHQvLyBQaWdneWJhY2sgb24gYSBkb25vciBldmVudCB0byBzaW11bGF0ZSBhIGRpZmZlcmVudCBvbmVcblx0XHQvLyBVc2VkIG9ubHkgZm9yIGBmb2N1cyhpbiB8IG91dClgIGV2ZW50c1xuXHRcdHNpbXVsYXRlOiBmdW5jdGlvbiggdHlwZSwgZWxlbSwgZXZlbnQgKSB7XG5cdFx0XHR2YXIgZSA9IGpRdWVyeS5leHRlbmQoXG5cdFx0XHRcdG5ldyBqUXVlcnkuRXZlbnQoKSxcblx0XHRcdFx0ZXZlbnQsXG5cdFx0XHRcdHtcblx0XHRcdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0XHRcdGlzU2ltdWxhdGVkOiB0cnVlXG5cdFx0XHRcdH1cblx0XHRcdCk7XG5cdFxuXHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIGUsIG51bGwsIGVsZW0gKTtcblx0XHR9XG5cdFxuXHR9ICk7XG5cdFxuXHRqUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdFxuXHRcdHRyaWdnZXI6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCB0eXBlLCBkYXRhLCB0aGlzICk7XG5cdFx0XHR9ICk7XG5cdFx0fSxcblx0XHR0cmlnZ2VySGFuZGxlcjogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7XG5cdFx0XHR2YXIgZWxlbSA9IHRoaXNbIDAgXTtcblx0XHRcdGlmICggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIGpRdWVyeS5ldmVudC50cmlnZ2VyKCB0eXBlLCBkYXRhLCBlbGVtLCB0cnVlICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRcblx0alF1ZXJ5LmVhY2goICggXCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgcmVzaXplIHNjcm9sbCBjbGljayBkYmxjbGljayBcIiArXG5cdFx0XCJtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBcIiArXG5cdFx0XCJjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGNvbnRleHRtZW51XCIgKS5zcGxpdCggXCIgXCIgKSxcblx0XHRmdW5jdGlvbiggaSwgbmFtZSApIHtcblx0XG5cdFx0Ly8gSGFuZGxlIGV2ZW50IGJpbmRpbmdcblx0XHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBkYXRhLCBmbiApIHtcblx0XHRcdHJldHVybiBhcmd1bWVudHMubGVuZ3RoID4gMCA/XG5cdFx0XHRcdHRoaXMub24oIG5hbWUsIG51bGwsIGRhdGEsIGZuICkgOlxuXHRcdFx0XHR0aGlzLnRyaWdnZXIoIG5hbWUgKTtcblx0XHR9O1xuXHR9ICk7XG5cdFxuXHRqUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdFx0aG92ZXI6IGZ1bmN0aW9uKCBmbk92ZXIsIGZuT3V0ICkge1xuXHRcdFx0cmV0dXJuIHRoaXMubW91c2VlbnRlciggZm5PdmVyICkubW91c2VsZWF2ZSggZm5PdXQgfHwgZm5PdmVyICk7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRcblx0XG5cdFxuXHRzdXBwb3J0LmZvY3VzaW4gPSBcIm9uZm9jdXNpblwiIGluIHdpbmRvdztcblx0XG5cdFxuXHQvLyBTdXBwb3J0OiBGaXJlZm94IDw9NDRcblx0Ly8gRmlyZWZveCBkb2Vzbid0IGhhdmUgZm9jdXMoaW4gfCBvdXQpIGV2ZW50c1xuXHQvLyBSZWxhdGVkIHRpY2tldCAtIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY4Nzc4N1xuXHQvL1xuXHQvLyBTdXBwb3J0OiBDaHJvbWUgPD00OCAtIDQ5LCBTYWZhcmkgPD05LjAgLSA5LjFcblx0Ly8gZm9jdXMoaW4gfCBvdXQpIGV2ZW50cyBmaXJlIGFmdGVyIGZvY3VzICYgYmx1ciBldmVudHMsXG5cdC8vIHdoaWNoIGlzIHNwZWMgdmlvbGF0aW9uIC0gaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLyNldmVudHMtZm9jdXNldmVudC1ldmVudC1vcmRlclxuXHQvLyBSZWxhdGVkIHRpY2tldCAtIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ0OTg1N1xuXHRpZiAoICFzdXBwb3J0LmZvY3VzaW4gKSB7XG5cdFx0alF1ZXJ5LmVhY2goIHsgZm9jdXM6IFwiZm9jdXNpblwiLCBibHVyOiBcImZvY3Vzb3V0XCIgfSwgZnVuY3Rpb24oIG9yaWcsIGZpeCApIHtcblx0XG5cdFx0XHQvLyBBdHRhY2ggYSBzaW5nbGUgY2FwdHVyaW5nIGhhbmRsZXIgb24gdGhlIGRvY3VtZW50IHdoaWxlIHNvbWVvbmUgd2FudHMgZm9jdXNpbi9mb2N1c291dFxuXHRcdFx0dmFyIGhhbmRsZXIgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdGpRdWVyeS5ldmVudC5zaW11bGF0ZSggZml4LCBldmVudC50YXJnZXQsIGpRdWVyeS5ldmVudC5maXgoIGV2ZW50ICkgKTtcblx0XHRcdH07XG5cdFxuXHRcdFx0alF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGZpeCBdID0ge1xuXHRcdFx0XHRzZXR1cDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dmFyIGRvYyA9IHRoaXMub3duZXJEb2N1bWVudCB8fCB0aGlzLFxuXHRcdFx0XHRcdFx0YXR0YWNoZXMgPSBkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4ICk7XG5cdFxuXHRcdFx0XHRcdGlmICggIWF0dGFjaGVzICkge1xuXHRcdFx0XHRcdFx0ZG9jLmFkZEV2ZW50TGlzdGVuZXIoIG9yaWcsIGhhbmRsZXIsIHRydWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCwgKCBhdHRhY2hlcyB8fCAwICkgKyAxICk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRlYXJkb3duOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgZG9jID0gdGhpcy5vd25lckRvY3VtZW50IHx8IHRoaXMsXG5cdFx0XHRcdFx0XHRhdHRhY2hlcyA9IGRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXggKSAtIDE7XG5cdFxuXHRcdFx0XHRcdGlmICggIWF0dGFjaGVzICkge1xuXHRcdFx0XHRcdFx0ZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoIG9yaWcsIGhhbmRsZXIsIHRydWUgKTtcblx0XHRcdFx0XHRcdGRhdGFQcml2LnJlbW92ZSggZG9jLCBmaXggKTtcblx0XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXgsIGF0dGFjaGVzICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH0gKTtcblx0fVxuXHR2YXIgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247XG5cdFxuXHR2YXIgbm9uY2UgPSBqUXVlcnkubm93KCk7XG5cdFxuXHR2YXIgcnF1ZXJ5ID0gKCAvXFw/LyApO1xuXHRcblx0XG5cdFxuXHQvLyBDcm9zcy1icm93c2VyIHhtbCBwYXJzaW5nXG5cdGpRdWVyeS5wYXJzZVhNTCA9IGZ1bmN0aW9uKCBkYXRhICkge1xuXHRcdHZhciB4bWw7XG5cdFx0aWYgKCAhZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0XG5cdFx0Ly8gU3VwcG9ydDogSUUgOSAtIDExIG9ubHlcblx0XHQvLyBJRSB0aHJvd3Mgb24gcGFyc2VGcm9tU3RyaW5nIHdpdGggaW52YWxpZCBpbnB1dC5cblx0XHR0cnkge1xuXHRcdFx0eG1sID0gKCBuZXcgd2luZG93LkRPTVBhcnNlcigpICkucGFyc2VGcm9tU3RyaW5nKCBkYXRhLCBcInRleHQveG1sXCIgKTtcblx0XHR9IGNhdGNoICggZSApIHtcblx0XHRcdHhtbCA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFxuXHRcdGlmICggIXhtbCB8fCB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwicGFyc2VyZXJyb3JcIiApLmxlbmd0aCApIHtcblx0XHRcdGpRdWVyeS5lcnJvciggXCJJbnZhbGlkIFhNTDogXCIgKyBkYXRhICk7XG5cdFx0fVxuXHRcdHJldHVybiB4bWw7XG5cdH07XG5cdFxuXHRcblx0dmFyXG5cdFx0cmJyYWNrZXQgPSAvXFxbXFxdJC8sXG5cdFx0ckNSTEYgPSAvXFxyP1xcbi9nLFxuXHRcdHJzdWJtaXR0ZXJUeXBlcyA9IC9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxcblx0XHRyc3VibWl0dGFibGUgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7XG5cdFxuXHRmdW5jdGlvbiBidWlsZFBhcmFtcyggcHJlZml4LCBvYmosIHRyYWRpdGlvbmFsLCBhZGQgKSB7XG5cdFx0dmFyIG5hbWU7XG5cdFxuXHRcdGlmICggalF1ZXJ5LmlzQXJyYXkoIG9iaiApICkge1xuXHRcblx0XHRcdC8vIFNlcmlhbGl6ZSBhcnJheSBpdGVtLlxuXHRcdFx0alF1ZXJ5LmVhY2goIG9iaiwgZnVuY3Rpb24oIGksIHYgKSB7XG5cdFx0XHRcdGlmICggdHJhZGl0aW9uYWwgfHwgcmJyYWNrZXQudGVzdCggcHJlZml4ICkgKSB7XG5cdFxuXHRcdFx0XHRcdC8vIFRyZWF0IGVhY2ggYXJyYXkgaXRlbSBhcyBhIHNjYWxhci5cblx0XHRcdFx0XHRhZGQoIHByZWZpeCwgdiApO1xuXHRcblx0XHRcdFx0fSBlbHNlIHtcblx0XG5cdFx0XHRcdFx0Ly8gSXRlbSBpcyBub24tc2NhbGFyIChhcnJheSBvciBvYmplY3QpLCBlbmNvZGUgaXRzIG51bWVyaWMgaW5kZXguXG5cdFx0XHRcdFx0YnVpbGRQYXJhbXMoXG5cdFx0XHRcdFx0XHRwcmVmaXggKyBcIltcIiArICggdHlwZW9mIHYgPT09IFwib2JqZWN0XCIgJiYgdiAhPSBudWxsID8gaSA6IFwiXCIgKSArIFwiXVwiLFxuXHRcdFx0XHRcdFx0dixcblx0XHRcdFx0XHRcdHRyYWRpdGlvbmFsLFxuXHRcdFx0XHRcdFx0YWRkXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcblx0XHR9IGVsc2UgaWYgKCAhdHJhZGl0aW9uYWwgJiYgalF1ZXJ5LnR5cGUoIG9iaiApID09PSBcIm9iamVjdFwiICkge1xuXHRcblx0XHRcdC8vIFNlcmlhbGl6ZSBvYmplY3QgaXRlbS5cblx0XHRcdGZvciAoIG5hbWUgaW4gb2JqICkge1xuXHRcdFx0XHRidWlsZFBhcmFtcyggcHJlZml4ICsgXCJbXCIgKyBuYW1lICsgXCJdXCIsIG9ialsgbmFtZSBdLCB0cmFkaXRpb25hbCwgYWRkICk7XG5cdFx0XHR9XG5cdFxuXHRcdH0gZWxzZSB7XG5cdFxuXHRcdFx0Ly8gU2VyaWFsaXplIHNjYWxhciBpdGVtLlxuXHRcdFx0YWRkKCBwcmVmaXgsIG9iaiApO1xuXHRcdH1cblx0fVxuXHRcblx0Ly8gU2VyaWFsaXplIGFuIGFycmF5IG9mIGZvcm0gZWxlbWVudHMgb3IgYSBzZXQgb2Zcblx0Ly8ga2V5L3ZhbHVlcyBpbnRvIGEgcXVlcnkgc3RyaW5nXG5cdGpRdWVyeS5wYXJhbSA9IGZ1bmN0aW9uKCBhLCB0cmFkaXRpb25hbCApIHtcblx0XHR2YXIgcHJlZml4LFxuXHRcdFx0cyA9IFtdLFxuXHRcdFx0YWRkID0gZnVuY3Rpb24oIGtleSwgdmFsdWVPckZ1bmN0aW9uICkge1xuXHRcblx0XHRcdFx0Ly8gSWYgdmFsdWUgaXMgYSBmdW5jdGlvbiwgaW52b2tlIGl0IGFuZCB1c2UgaXRzIHJldHVybiB2YWx1ZVxuXHRcdFx0XHR2YXIgdmFsdWUgPSBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWVPckZ1bmN0aW9uICkgP1xuXHRcdFx0XHRcdHZhbHVlT3JGdW5jdGlvbigpIDpcblx0XHRcdFx0XHR2YWx1ZU9yRnVuY3Rpb247XG5cdFxuXHRcdFx0XHRzWyBzLmxlbmd0aCBdID0gZW5jb2RlVVJJQ29tcG9uZW50KCBrZXkgKSArIFwiPVwiICtcblx0XHRcdFx0XHRlbmNvZGVVUklDb21wb25lbnQoIHZhbHVlID09IG51bGwgPyBcIlwiIDogdmFsdWUgKTtcblx0XHRcdH07XG5cdFxuXHRcdC8vIElmIGFuIGFycmF5IHdhcyBwYXNzZWQgaW4sIGFzc3VtZSB0aGF0IGl0IGlzIGFuIGFycmF5IG9mIGZvcm0gZWxlbWVudHMuXG5cdFx0aWYgKCBqUXVlcnkuaXNBcnJheSggYSApIHx8ICggYS5qcXVlcnkgJiYgIWpRdWVyeS5pc1BsYWluT2JqZWN0KCBhICkgKSApIHtcblx0XG5cdFx0XHQvLyBTZXJpYWxpemUgdGhlIGZvcm0gZWxlbWVudHNcblx0XHRcdGpRdWVyeS5lYWNoKCBhLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0YWRkKCB0aGlzLm5hbWUsIHRoaXMudmFsdWUgKTtcblx0XHRcdH0gKTtcblx0XG5cdFx0fSBlbHNlIHtcblx0XG5cdFx0XHQvLyBJZiB0cmFkaXRpb25hbCwgZW5jb2RlIHRoZSBcIm9sZFwiIHdheSAodGhlIHdheSAxLjMuMiBvciBvbGRlclxuXHRcdFx0Ly8gZGlkIGl0KSwgb3RoZXJ3aXNlIGVuY29kZSBwYXJhbXMgcmVjdXJzaXZlbHkuXG5cdFx0XHRmb3IgKCBwcmVmaXggaW4gYSApIHtcblx0XHRcdFx0YnVpbGRQYXJhbXMoIHByZWZpeCwgYVsgcHJlZml4IF0sIHRyYWRpdGlvbmFsLCBhZGQgKTtcblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdC8vIFJldHVybiB0aGUgcmVzdWx0aW5nIHNlcmlhbGl6YXRpb25cblx0XHRyZXR1cm4gcy5qb2luKCBcIiZcIiApO1xuXHR9O1xuXHRcblx0alF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRcdHNlcmlhbGl6ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LnBhcmFtKCB0aGlzLnNlcmlhbGl6ZUFycmF5KCkgKTtcblx0XHR9LFxuXHRcdHNlcmlhbGl6ZUFycmF5OiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB0aGlzLm1hcCggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHQvLyBDYW4gYWRkIHByb3BIb29rIGZvciBcImVsZW1lbnRzXCIgdG8gZmlsdGVyIG9yIGFkZCBmb3JtIGVsZW1lbnRzXG5cdFx0XHRcdHZhciBlbGVtZW50cyA9IGpRdWVyeS5wcm9wKCB0aGlzLCBcImVsZW1lbnRzXCIgKTtcblx0XHRcdFx0cmV0dXJuIGVsZW1lbnRzID8galF1ZXJ5Lm1ha2VBcnJheSggZWxlbWVudHMgKSA6IHRoaXM7XG5cdFx0XHR9IClcblx0XHRcdC5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgdHlwZSA9IHRoaXMudHlwZTtcblx0XG5cdFx0XHRcdC8vIFVzZSAuaXMoIFwiOmRpc2FibGVkXCIgKSBzbyB0aGF0IGZpZWxkc2V0W2Rpc2FibGVkXSB3b3Jrc1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5uYW1lICYmICFqUXVlcnkoIHRoaXMgKS5pcyggXCI6ZGlzYWJsZWRcIiApICYmXG5cdFx0XHRcdFx0cnN1Ym1pdHRhYmxlLnRlc3QoIHRoaXMubm9kZU5hbWUgKSAmJiAhcnN1Ym1pdHRlclR5cGVzLnRlc3QoIHR5cGUgKSAmJlxuXHRcdFx0XHRcdCggdGhpcy5jaGVja2VkIHx8ICFyY2hlY2thYmxlVHlwZS50ZXN0KCB0eXBlICkgKTtcblx0XHRcdH0gKVxuXHRcdFx0Lm1hcCggZnVuY3Rpb24oIGksIGVsZW0gKSB7XG5cdFx0XHRcdHZhciB2YWwgPSBqUXVlcnkoIHRoaXMgKS52YWwoKTtcblx0XG5cdFx0XHRcdHJldHVybiB2YWwgPT0gbnVsbCA/XG5cdFx0XHRcdFx0bnVsbCA6XG5cdFx0XHRcdFx0alF1ZXJ5LmlzQXJyYXkoIHZhbCApID9cblx0XHRcdFx0XHRcdGpRdWVyeS5tYXAoIHZhbCwgZnVuY3Rpb24oIHZhbCApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcIlxcclxcblwiICkgfTtcblx0XHRcdFx0XHRcdH0gKSA6XG5cdFx0XHRcdFx0XHR7IG5hbWU6IGVsZW0ubmFtZSwgdmFsdWU6IHZhbC5yZXBsYWNlKCByQ1JMRiwgXCJcXHJcXG5cIiApIH07XG5cdFx0XHR9ICkuZ2V0KCk7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRcblx0dmFyXG5cdFx0cjIwID0gLyUyMC9nLFxuXHRcdHJoYXNoID0gLyMuKiQvLFxuXHRcdHJ0cyA9IC8oWz8mXSlfPVteJl0qLyxcblx0XHRyaGVhZGVycyA9IC9eKC4qPyk6WyBcXHRdKihbXlxcclxcbl0qKSQvbWcsXG5cdFxuXHRcdC8vICM3NjUzLCAjODEyNSwgIzgxNTI6IGxvY2FsIHByb3RvY29sIGRldGVjdGlvblxuXHRcdHJsb2NhbFByb3RvY29sID0gL14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8sXG5cdFx0cm5vQ29udGVudCA9IC9eKD86R0VUfEhFQUQpJC8sXG5cdFx0cnByb3RvY29sID0gL15cXC9cXC8vLFxuXHRcblx0XHQvKiBQcmVmaWx0ZXJzXG5cdFx0ICogMSkgVGhleSBhcmUgdXNlZnVsIHRvIGludHJvZHVjZSBjdXN0b20gZGF0YVR5cGVzIChzZWUgYWpheC9qc29ucC5qcyBmb3IgYW4gZXhhbXBsZSlcblx0XHQgKiAyKSBUaGVzZSBhcmUgY2FsbGVkOlxuXHRcdCAqICAgIC0gQkVGT1JFIGFza2luZyBmb3IgYSB0cmFuc3BvcnRcblx0XHQgKiAgICAtIEFGVEVSIHBhcmFtIHNlcmlhbGl6YXRpb24gKHMuZGF0YSBpcyBhIHN0cmluZyBpZiBzLnByb2Nlc3NEYXRhIGlzIHRydWUpXG5cdFx0ICogMykga2V5IGlzIHRoZSBkYXRhVHlwZVxuXHRcdCAqIDQpIHRoZSBjYXRjaGFsbCBzeW1ib2wgXCIqXCIgY2FuIGJlIHVzZWRcblx0XHQgKiA1KSBleGVjdXRpb24gd2lsbCBzdGFydCB3aXRoIHRyYW5zcG9ydCBkYXRhVHlwZSBhbmQgVEhFTiBjb250aW51ZSBkb3duIHRvIFwiKlwiIGlmIG5lZWRlZFxuXHRcdCAqL1xuXHRcdHByZWZpbHRlcnMgPSB7fSxcblx0XG5cdFx0LyogVHJhbnNwb3J0cyBiaW5kaW5nc1xuXHRcdCAqIDEpIGtleSBpcyB0aGUgZGF0YVR5cGVcblx0XHQgKiAyKSB0aGUgY2F0Y2hhbGwgc3ltYm9sIFwiKlwiIGNhbiBiZSB1c2VkXG5cdFx0ICogMykgc2VsZWN0aW9uIHdpbGwgc3RhcnQgd2l0aCB0cmFuc3BvcnQgZGF0YVR5cGUgYW5kIFRIRU4gZ28gdG8gXCIqXCIgaWYgbmVlZGVkXG5cdFx0ICovXG5cdFx0dHJhbnNwb3J0cyA9IHt9LFxuXHRcblx0XHQvLyBBdm9pZCBjb21tZW50LXByb2xvZyBjaGFyIHNlcXVlbmNlICgjMTAwOTgpOyBtdXN0IGFwcGVhc2UgbGludCBhbmQgZXZhZGUgY29tcHJlc3Npb25cblx0XHRhbGxUeXBlcyA9IFwiKi9cIi5jb25jYXQoIFwiKlwiICksXG5cdFxuXHRcdC8vIEFuY2hvciB0YWcgZm9yIHBhcnNpbmcgdGhlIGRvY3VtZW50IG9yaWdpblxuXHRcdG9yaWdpbkFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiYVwiICk7XG5cdFx0b3JpZ2luQW5jaG9yLmhyZWYgPSBsb2NhdGlvbi5ocmVmO1xuXHRcblx0Ly8gQmFzZSBcImNvbnN0cnVjdG9yXCIgZm9yIGpRdWVyeS5hamF4UHJlZmlsdGVyIGFuZCBqUXVlcnkuYWpheFRyYW5zcG9ydFxuXHRmdW5jdGlvbiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHN0cnVjdHVyZSApIHtcblx0XG5cdFx0Ly8gZGF0YVR5cGVFeHByZXNzaW9uIGlzIG9wdGlvbmFsIGFuZCBkZWZhdWx0cyB0byBcIipcIlxuXHRcdHJldHVybiBmdW5jdGlvbiggZGF0YVR5cGVFeHByZXNzaW9uLCBmdW5jICkge1xuXHRcblx0XHRcdGlmICggdHlwZW9mIGRhdGFUeXBlRXhwcmVzc2lvbiAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0ZnVuYyA9IGRhdGFUeXBlRXhwcmVzc2lvbjtcblx0XHRcdFx0ZGF0YVR5cGVFeHByZXNzaW9uID0gXCIqXCI7XG5cdFx0XHR9XG5cdFxuXHRcdFx0dmFyIGRhdGFUeXBlLFxuXHRcdFx0XHRpID0gMCxcblx0XHRcdFx0ZGF0YVR5cGVzID0gZGF0YVR5cGVFeHByZXNzaW9uLnRvTG93ZXJDYXNlKCkubWF0Y2goIHJub3R3aGl0ZSApIHx8IFtdO1xuXHRcblx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGZ1bmMgKSApIHtcblx0XG5cdFx0XHRcdC8vIEZvciBlYWNoIGRhdGFUeXBlIGluIHRoZSBkYXRhVHlwZUV4cHJlc3Npb25cblx0XHRcdFx0d2hpbGUgKCAoIGRhdGFUeXBlID0gZGF0YVR5cGVzWyBpKysgXSApICkge1xuXHRcblx0XHRcdFx0XHQvLyBQcmVwZW5kIGlmIHJlcXVlc3RlZFxuXHRcdFx0XHRcdGlmICggZGF0YVR5cGVbIDAgXSA9PT0gXCIrXCIgKSB7XG5cdFx0XHRcdFx0XHRkYXRhVHlwZSA9IGRhdGFUeXBlLnNsaWNlKCAxICkgfHwgXCIqXCI7XG5cdFx0XHRcdFx0XHQoIHN0cnVjdHVyZVsgZGF0YVR5cGUgXSA9IHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSApLnVuc2hpZnQoIGZ1bmMgKTtcblx0XG5cdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlIGFwcGVuZFxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQoIHN0cnVjdHVyZVsgZGF0YVR5cGUgXSA9IHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSApLnB1c2goIGZ1bmMgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cdFxuXHQvLyBCYXNlIGluc3BlY3Rpb24gZnVuY3Rpb24gZm9yIHByZWZpbHRlcnMgYW5kIHRyYW5zcG9ydHNcblx0ZnVuY3Rpb24gaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHN0cnVjdHVyZSwgb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zLCBqcVhIUiApIHtcblx0XG5cdFx0dmFyIGluc3BlY3RlZCA9IHt9LFxuXHRcdFx0c2Vla2luZ1RyYW5zcG9ydCA9ICggc3RydWN0dXJlID09PSB0cmFuc3BvcnRzICk7XG5cdFxuXHRcdGZ1bmN0aW9uIGluc3BlY3QoIGRhdGFUeXBlICkge1xuXHRcdFx0dmFyIHNlbGVjdGVkO1xuXHRcdFx0aW5zcGVjdGVkWyBkYXRhVHlwZSBdID0gdHJ1ZTtcblx0XHRcdGpRdWVyeS5lYWNoKCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10sIGZ1bmN0aW9uKCBfLCBwcmVmaWx0ZXJPckZhY3RvcnkgKSB7XG5cdFx0XHRcdHZhciBkYXRhVHlwZU9yVHJhbnNwb3J0ID0gcHJlZmlsdGVyT3JGYWN0b3J5KCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMsIGpxWEhSICk7XG5cdFx0XHRcdGlmICggdHlwZW9mIGRhdGFUeXBlT3JUcmFuc3BvcnQgPT09IFwic3RyaW5nXCIgJiZcblx0XHRcdFx0XHQhc2Vla2luZ1RyYW5zcG9ydCAmJiAhaW5zcGVjdGVkWyBkYXRhVHlwZU9yVHJhbnNwb3J0IF0gKSB7XG5cdFxuXHRcdFx0XHRcdG9wdGlvbnMuZGF0YVR5cGVzLnVuc2hpZnQoIGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcblx0XHRcdFx0XHRpbnNwZWN0KCBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCBzZWVraW5nVHJhbnNwb3J0ICkge1xuXHRcdFx0XHRcdHJldHVybiAhKCBzZWxlY3RlZCA9IGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdFx0cmV0dXJuIHNlbGVjdGVkO1xuXHRcdH1cblx0XG5cdFx0cmV0dXJuIGluc3BlY3QoIG9wdGlvbnMuZGF0YVR5cGVzWyAwIF0gKSB8fCAhaW5zcGVjdGVkWyBcIipcIiBdICYmIGluc3BlY3QoIFwiKlwiICk7XG5cdH1cblx0XG5cdC8vIEEgc3BlY2lhbCBleHRlbmQgZm9yIGFqYXggb3B0aW9uc1xuXHQvLyB0aGF0IHRha2VzIFwiZmxhdFwiIG9wdGlvbnMgKG5vdCB0byBiZSBkZWVwIGV4dGVuZGVkKVxuXHQvLyBGaXhlcyAjOTg4N1xuXHRmdW5jdGlvbiBhamF4RXh0ZW5kKCB0YXJnZXQsIHNyYyApIHtcblx0XHR2YXIga2V5LCBkZWVwLFxuXHRcdFx0ZmxhdE9wdGlvbnMgPSBqUXVlcnkuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zIHx8IHt9O1xuXHRcblx0XHRmb3IgKCBrZXkgaW4gc3JjICkge1xuXHRcdFx0aWYgKCBzcmNbIGtleSBdICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdCggZmxhdE9wdGlvbnNbIGtleSBdID8gdGFyZ2V0IDogKCBkZWVwIHx8ICggZGVlcCA9IHt9ICkgKSApWyBrZXkgXSA9IHNyY1sga2V5IF07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmICggZGVlcCApIHtcblx0XHRcdGpRdWVyeS5leHRlbmQoIHRydWUsIHRhcmdldCwgZGVlcCApO1xuXHRcdH1cblx0XG5cdFx0cmV0dXJuIHRhcmdldDtcblx0fVxuXHRcblx0LyogSGFuZGxlcyByZXNwb25zZXMgdG8gYW4gYWpheCByZXF1ZXN0OlxuXHQgKiAtIGZpbmRzIHRoZSByaWdodCBkYXRhVHlwZSAobWVkaWF0ZXMgYmV0d2VlbiBjb250ZW50LXR5cGUgYW5kIGV4cGVjdGVkIGRhdGFUeXBlKVxuXHQgKiAtIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgcmVzcG9uc2Vcblx0ICovXG5cdGZ1bmN0aW9uIGFqYXhIYW5kbGVSZXNwb25zZXMoIHMsIGpxWEhSLCByZXNwb25zZXMgKSB7XG5cdFxuXHRcdHZhciBjdCwgdHlwZSwgZmluYWxEYXRhVHlwZSwgZmlyc3REYXRhVHlwZSxcblx0XHRcdGNvbnRlbnRzID0gcy5jb250ZW50cyxcblx0XHRcdGRhdGFUeXBlcyA9IHMuZGF0YVR5cGVzO1xuXHRcblx0XHQvLyBSZW1vdmUgYXV0byBkYXRhVHlwZSBhbmQgZ2V0IGNvbnRlbnQtdHlwZSBpbiB0aGUgcHJvY2Vzc1xuXHRcdHdoaWxlICggZGF0YVR5cGVzWyAwIF0gPT09IFwiKlwiICkge1xuXHRcdFx0ZGF0YVR5cGVzLnNoaWZ0KCk7XG5cdFx0XHRpZiAoIGN0ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdGN0ID0gcy5taW1lVHlwZSB8fCBqcVhIUi5nZXRSZXNwb25zZUhlYWRlciggXCJDb250ZW50LVR5cGVcIiApO1xuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0Ly8gQ2hlY2sgaWYgd2UncmUgZGVhbGluZyB3aXRoIGEga25vd24gY29udGVudC10eXBlXG5cdFx0aWYgKCBjdCApIHtcblx0XHRcdGZvciAoIHR5cGUgaW4gY29udGVudHMgKSB7XG5cdFx0XHRcdGlmICggY29udGVudHNbIHR5cGUgXSAmJiBjb250ZW50c1sgdHlwZSBdLnRlc3QoIGN0ICkgKSB7XG5cdFx0XHRcdFx0ZGF0YVR5cGVzLnVuc2hpZnQoIHR5cGUgKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0Ly8gQ2hlY2sgdG8gc2VlIGlmIHdlIGhhdmUgYSByZXNwb25zZSBmb3IgdGhlIGV4cGVjdGVkIGRhdGFUeXBlXG5cdFx0aWYgKCBkYXRhVHlwZXNbIDAgXSBpbiByZXNwb25zZXMgKSB7XG5cdFx0XHRmaW5hbERhdGFUeXBlID0gZGF0YVR5cGVzWyAwIF07XG5cdFx0fSBlbHNlIHtcblx0XG5cdFx0XHQvLyBUcnkgY29udmVydGlibGUgZGF0YVR5cGVzXG5cdFx0XHRmb3IgKCB0eXBlIGluIHJlc3BvbnNlcyApIHtcblx0XHRcdFx0aWYgKCAhZGF0YVR5cGVzWyAwIF0gfHwgcy5jb252ZXJ0ZXJzWyB0eXBlICsgXCIgXCIgKyBkYXRhVHlwZXNbIDAgXSBdICkge1xuXHRcdFx0XHRcdGZpbmFsRGF0YVR5cGUgPSB0eXBlO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggIWZpcnN0RGF0YVR5cGUgKSB7XG5cdFx0XHRcdFx0Zmlyc3REYXRhVHlwZSA9IHR5cGU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHQvLyBPciBqdXN0IHVzZSBmaXJzdCBvbmVcblx0XHRcdGZpbmFsRGF0YVR5cGUgPSBmaW5hbERhdGFUeXBlIHx8IGZpcnN0RGF0YVR5cGU7XG5cdFx0fVxuXHRcblx0XHQvLyBJZiB3ZSBmb3VuZCBhIGRhdGFUeXBlXG5cdFx0Ly8gV2UgYWRkIHRoZSBkYXRhVHlwZSB0byB0aGUgbGlzdCBpZiBuZWVkZWRcblx0XHQvLyBhbmQgcmV0dXJuIHRoZSBjb3JyZXNwb25kaW5nIHJlc3BvbnNlXG5cdFx0aWYgKCBmaW5hbERhdGFUeXBlICkge1xuXHRcdFx0aWYgKCBmaW5hbERhdGFUeXBlICE9PSBkYXRhVHlwZXNbIDAgXSApIHtcblx0XHRcdFx0ZGF0YVR5cGVzLnVuc2hpZnQoIGZpbmFsRGF0YVR5cGUgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXNwb25zZXNbIGZpbmFsRGF0YVR5cGUgXTtcblx0XHR9XG5cdH1cblx0XG5cdC8qIENoYWluIGNvbnZlcnNpb25zIGdpdmVuIHRoZSByZXF1ZXN0IGFuZCB0aGUgb3JpZ2luYWwgcmVzcG9uc2Vcblx0ICogQWxzbyBzZXRzIHRoZSByZXNwb25zZVhYWCBmaWVsZHMgb24gdGhlIGpxWEhSIGluc3RhbmNlXG5cdCAqL1xuXHRmdW5jdGlvbiBhamF4Q29udmVydCggcywgcmVzcG9uc2UsIGpxWEhSLCBpc1N1Y2Nlc3MgKSB7XG5cdFx0dmFyIGNvbnYyLCBjdXJyZW50LCBjb252LCB0bXAsIHByZXYsXG5cdFx0XHRjb252ZXJ0ZXJzID0ge30sXG5cdFxuXHRcdFx0Ly8gV29yayB3aXRoIGEgY29weSBvZiBkYXRhVHlwZXMgaW4gY2FzZSB3ZSBuZWVkIHRvIG1vZGlmeSBpdCBmb3IgY29udmVyc2lvblxuXHRcdFx0ZGF0YVR5cGVzID0gcy5kYXRhVHlwZXMuc2xpY2UoKTtcblx0XG5cdFx0Ly8gQ3JlYXRlIGNvbnZlcnRlcnMgbWFwIHdpdGggbG93ZXJjYXNlZCBrZXlzXG5cdFx0aWYgKCBkYXRhVHlwZXNbIDEgXSApIHtcblx0XHRcdGZvciAoIGNvbnYgaW4gcy5jb252ZXJ0ZXJzICkge1xuXHRcdFx0XHRjb252ZXJ0ZXJzWyBjb252LnRvTG93ZXJDYXNlKCkgXSA9IHMuY29udmVydGVyc1sgY29udiBdO1xuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0Y3VycmVudCA9IGRhdGFUeXBlcy5zaGlmdCgpO1xuXHRcblx0XHQvLyBDb252ZXJ0IHRvIGVhY2ggc2VxdWVudGlhbCBkYXRhVHlwZVxuXHRcdHdoaWxlICggY3VycmVudCApIHtcblx0XG5cdFx0XHRpZiAoIHMucmVzcG9uc2VGaWVsZHNbIGN1cnJlbnQgXSApIHtcblx0XHRcdFx0anFYSFJbIHMucmVzcG9uc2VGaWVsZHNbIGN1cnJlbnQgXSBdID0gcmVzcG9uc2U7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gQXBwbHkgdGhlIGRhdGFGaWx0ZXIgaWYgcHJvdmlkZWRcblx0XHRcdGlmICggIXByZXYgJiYgaXNTdWNjZXNzICYmIHMuZGF0YUZpbHRlciApIHtcblx0XHRcdFx0cmVzcG9uc2UgPSBzLmRhdGFGaWx0ZXIoIHJlc3BvbnNlLCBzLmRhdGFUeXBlICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cHJldiA9IGN1cnJlbnQ7XG5cdFx0XHRjdXJyZW50ID0gZGF0YVR5cGVzLnNoaWZ0KCk7XG5cdFxuXHRcdFx0aWYgKCBjdXJyZW50ICkge1xuXHRcblx0XHRcdFx0Ly8gVGhlcmUncyBvbmx5IHdvcmsgdG8gZG8gaWYgY3VycmVudCBkYXRhVHlwZSBpcyBub24tYXV0b1xuXHRcdFx0XHRpZiAoIGN1cnJlbnQgPT09IFwiKlwiICkge1xuXHRcblx0XHRcdFx0XHRjdXJyZW50ID0gcHJldjtcblx0XG5cdFx0XHRcdC8vIENvbnZlcnQgcmVzcG9uc2UgaWYgcHJldiBkYXRhVHlwZSBpcyBub24tYXV0byBhbmQgZGlmZmVycyBmcm9tIGN1cnJlbnRcblx0XHRcdFx0fSBlbHNlIGlmICggcHJldiAhPT0gXCIqXCIgJiYgcHJldiAhPT0gY3VycmVudCApIHtcblx0XG5cdFx0XHRcdFx0Ly8gU2VlayBhIGRpcmVjdCBjb252ZXJ0ZXJcblx0XHRcdFx0XHRjb252ID0gY29udmVydGVyc1sgcHJldiArIFwiIFwiICsgY3VycmVudCBdIHx8IGNvbnZlcnRlcnNbIFwiKiBcIiArIGN1cnJlbnQgXTtcblx0XG5cdFx0XHRcdFx0Ly8gSWYgbm9uZSBmb3VuZCwgc2VlayBhIHBhaXJcblx0XHRcdFx0XHRpZiAoICFjb252ICkge1xuXHRcdFx0XHRcdFx0Zm9yICggY29udjIgaW4gY29udmVydGVycyApIHtcblx0XG5cdFx0XHRcdFx0XHRcdC8vIElmIGNvbnYyIG91dHB1dHMgY3VycmVudFxuXHRcdFx0XHRcdFx0XHR0bXAgPSBjb252Mi5zcGxpdCggXCIgXCIgKTtcblx0XHRcdFx0XHRcdFx0aWYgKCB0bXBbIDEgXSA9PT0gY3VycmVudCApIHtcblx0XG5cdFx0XHRcdFx0XHRcdFx0Ly8gSWYgcHJldiBjYW4gYmUgY29udmVydGVkIHRvIGFjY2VwdGVkIGlucHV0XG5cdFx0XHRcdFx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIHByZXYgKyBcIiBcIiArIHRtcFsgMCBdIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnZlcnRlcnNbIFwiKiBcIiArIHRtcFsgMCBdIF07XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBjb252ICkge1xuXHRcblx0XHRcdFx0XHRcdFx0XHRcdC8vIENvbmRlbnNlIGVxdWl2YWxlbmNlIGNvbnZlcnRlcnNcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggY29udiA9PT0gdHJ1ZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIGNvbnYyIF07XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCBpbnNlcnQgdGhlIGludGVybWVkaWF0ZSBkYXRhVHlwZVxuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmICggY29udmVydGVyc1sgY29udjIgXSAhPT0gdHJ1ZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y3VycmVudCA9IHRtcFsgMCBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggdG1wWyAxIF0gKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gQXBwbHkgY29udmVydGVyIChpZiBub3QgYW4gZXF1aXZhbGVuY2UpXG5cdFx0XHRcdFx0aWYgKCBjb252ICE9PSB0cnVlICkge1xuXHRcblx0XHRcdFx0XHRcdC8vIFVubGVzcyBlcnJvcnMgYXJlIGFsbG93ZWQgdG8gYnViYmxlLCBjYXRjaCBhbmQgcmV0dXJuIHRoZW1cblx0XHRcdFx0XHRcdGlmICggY29udiAmJiBzLnRocm93cyApIHtcblx0XHRcdFx0XHRcdFx0cmVzcG9uc2UgPSBjb252KCByZXNwb25zZSApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRyZXNwb25zZSA9IGNvbnYoIHJlc3BvbnNlICk7XG5cdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRzdGF0ZTogXCJwYXJzZXJlcnJvclwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGNvbnYgPyBlIDogXCJObyBjb252ZXJzaW9uIGZyb20gXCIgKyBwcmV2ICsgXCIgdG8gXCIgKyBjdXJyZW50XG5cdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0cmV0dXJuIHsgc3RhdGU6IFwic3VjY2Vzc1wiLCBkYXRhOiByZXNwb25zZSB9O1xuXHR9XG5cdFxuXHRqUXVlcnkuZXh0ZW5kKCB7XG5cdFxuXHRcdC8vIENvdW50ZXIgZm9yIGhvbGRpbmcgdGhlIG51bWJlciBvZiBhY3RpdmUgcXVlcmllc1xuXHRcdGFjdGl2ZTogMCxcblx0XG5cdFx0Ly8gTGFzdC1Nb2RpZmllZCBoZWFkZXIgY2FjaGUgZm9yIG5leHQgcmVxdWVzdFxuXHRcdGxhc3RNb2RpZmllZDoge30sXG5cdFx0ZXRhZzoge30sXG5cdFxuXHRcdGFqYXhTZXR0aW5nczoge1xuXHRcdFx0dXJsOiBsb2NhdGlvbi5ocmVmLFxuXHRcdFx0dHlwZTogXCJHRVRcIixcblx0XHRcdGlzTG9jYWw6IHJsb2NhbFByb3RvY29sLnRlc3QoIGxvY2F0aW9uLnByb3RvY29sICksXG5cdFx0XHRnbG9iYWw6IHRydWUsXG5cdFx0XHRwcm9jZXNzRGF0YTogdHJ1ZSxcblx0XHRcdGFzeW5jOiB0cnVlLFxuXHRcdFx0Y29udGVudFR5cGU6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04XCIsXG5cdFxuXHRcdFx0Lypcblx0XHRcdHRpbWVvdXQ6IDAsXG5cdFx0XHRkYXRhOiBudWxsLFxuXHRcdFx0ZGF0YVR5cGU6IG51bGwsXG5cdFx0XHR1c2VybmFtZTogbnVsbCxcblx0XHRcdHBhc3N3b3JkOiBudWxsLFxuXHRcdFx0Y2FjaGU6IG51bGwsXG5cdFx0XHR0aHJvd3M6IGZhbHNlLFxuXHRcdFx0dHJhZGl0aW9uYWw6IGZhbHNlLFxuXHRcdFx0aGVhZGVyczoge30sXG5cdFx0XHQqL1xuXHRcblx0XHRcdGFjY2VwdHM6IHtcblx0XHRcdFx0XCIqXCI6IGFsbFR5cGVzLFxuXHRcdFx0XHR0ZXh0OiBcInRleHQvcGxhaW5cIixcblx0XHRcdFx0aHRtbDogXCJ0ZXh0L2h0bWxcIixcblx0XHRcdFx0eG1sOiBcImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWxcIixcblx0XHRcdFx0anNvbjogXCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHRcIlxuXHRcdFx0fSxcblx0XG5cdFx0XHRjb250ZW50czoge1xuXHRcdFx0XHR4bWw6IC9cXGJ4bWxcXGIvLFxuXHRcdFx0XHRodG1sOiAvXFxiaHRtbC8sXG5cdFx0XHRcdGpzb246IC9cXGJqc29uXFxiL1xuXHRcdFx0fSxcblx0XG5cdFx0XHRyZXNwb25zZUZpZWxkczoge1xuXHRcdFx0XHR4bWw6IFwicmVzcG9uc2VYTUxcIixcblx0XHRcdFx0dGV4dDogXCJyZXNwb25zZVRleHRcIixcblx0XHRcdFx0anNvbjogXCJyZXNwb25zZUpTT05cIlxuXHRcdFx0fSxcblx0XG5cdFx0XHQvLyBEYXRhIGNvbnZlcnRlcnNcblx0XHRcdC8vIEtleXMgc2VwYXJhdGUgc291cmNlIChvciBjYXRjaGFsbCBcIipcIikgYW5kIGRlc3RpbmF0aW9uIHR5cGVzIHdpdGggYSBzaW5nbGUgc3BhY2Vcblx0XHRcdGNvbnZlcnRlcnM6IHtcblx0XG5cdFx0XHRcdC8vIENvbnZlcnQgYW55dGhpbmcgdG8gdGV4dFxuXHRcdFx0XHRcIiogdGV4dFwiOiBTdHJpbmcsXG5cdFxuXHRcdFx0XHQvLyBUZXh0IHRvIGh0bWwgKHRydWUgPSBubyB0cmFuc2Zvcm1hdGlvbilcblx0XHRcdFx0XCJ0ZXh0IGh0bWxcIjogdHJ1ZSxcblx0XG5cdFx0XHRcdC8vIEV2YWx1YXRlIHRleHQgYXMgYSBqc29uIGV4cHJlc3Npb25cblx0XHRcdFx0XCJ0ZXh0IGpzb25cIjogSlNPTi5wYXJzZSxcblx0XG5cdFx0XHRcdC8vIFBhcnNlIHRleHQgYXMgeG1sXG5cdFx0XHRcdFwidGV4dCB4bWxcIjogalF1ZXJ5LnBhcnNlWE1MXG5cdFx0XHR9LFxuXHRcblx0XHRcdC8vIEZvciBvcHRpb25zIHRoYXQgc2hvdWxkbid0IGJlIGRlZXAgZXh0ZW5kZWQ6XG5cdFx0XHQvLyB5b3UgY2FuIGFkZCB5b3VyIG93biBjdXN0b20gb3B0aW9ucyBoZXJlIGlmXG5cdFx0XHQvLyBhbmQgd2hlbiB5b3UgY3JlYXRlIG9uZSB0aGF0IHNob3VsZG4ndCBiZVxuXHRcdFx0Ly8gZGVlcCBleHRlbmRlZCAoc2VlIGFqYXhFeHRlbmQpXG5cdFx0XHRmbGF0T3B0aW9uczoge1xuXHRcdFx0XHR1cmw6IHRydWUsXG5cdFx0XHRcdGNvbnRleHQ6IHRydWVcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHQvLyBDcmVhdGVzIGEgZnVsbCBmbGVkZ2VkIHNldHRpbmdzIG9iamVjdCBpbnRvIHRhcmdldFxuXHRcdC8vIHdpdGggYm90aCBhamF4U2V0dGluZ3MgYW5kIHNldHRpbmdzIGZpZWxkcy5cblx0XHQvLyBJZiB0YXJnZXQgaXMgb21pdHRlZCwgd3JpdGVzIGludG8gYWpheFNldHRpbmdzLlxuXHRcdGFqYXhTZXR1cDogZnVuY3Rpb24oIHRhcmdldCwgc2V0dGluZ3MgKSB7XG5cdFx0XHRyZXR1cm4gc2V0dGluZ3MgP1xuXHRcblx0XHRcdFx0Ly8gQnVpbGRpbmcgYSBzZXR0aW5ncyBvYmplY3Rcblx0XHRcdFx0YWpheEV4dGVuZCggYWpheEV4dGVuZCggdGFyZ2V0LCBqUXVlcnkuYWpheFNldHRpbmdzICksIHNldHRpbmdzICkgOlxuXHRcblx0XHRcdFx0Ly8gRXh0ZW5kaW5nIGFqYXhTZXR0aW5nc1xuXHRcdFx0XHRhamF4RXh0ZW5kKCBqUXVlcnkuYWpheFNldHRpbmdzLCB0YXJnZXQgKTtcblx0XHR9LFxuXHRcblx0XHRhamF4UHJlZmlsdGVyOiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHByZWZpbHRlcnMgKSxcblx0XHRhamF4VHJhbnNwb3J0OiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHRyYW5zcG9ydHMgKSxcblx0XG5cdFx0Ly8gTWFpbiBtZXRob2Rcblx0XHRhamF4OiBmdW5jdGlvbiggdXJsLCBvcHRpb25zICkge1xuXHRcblx0XHRcdC8vIElmIHVybCBpcyBhbiBvYmplY3QsIHNpbXVsYXRlIHByZS0xLjUgc2lnbmF0dXJlXG5cdFx0XHRpZiAoIHR5cGVvZiB1cmwgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0XHRcdG9wdGlvbnMgPSB1cmw7XG5cdFx0XHRcdHVybCA9IHVuZGVmaW5lZDtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBGb3JjZSBvcHRpb25zIHRvIGJlIGFuIG9iamVjdFxuXHRcdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdFxuXHRcdFx0dmFyIHRyYW5zcG9ydCxcblx0XG5cdFx0XHRcdC8vIFVSTCB3aXRob3V0IGFudGktY2FjaGUgcGFyYW1cblx0XHRcdFx0Y2FjaGVVUkwsXG5cdFxuXHRcdFx0XHQvLyBSZXNwb25zZSBoZWFkZXJzXG5cdFx0XHRcdHJlc3BvbnNlSGVhZGVyc1N0cmluZyxcblx0XHRcdFx0cmVzcG9uc2VIZWFkZXJzLFxuXHRcblx0XHRcdFx0Ly8gdGltZW91dCBoYW5kbGVcblx0XHRcdFx0dGltZW91dFRpbWVyLFxuXHRcblx0XHRcdFx0Ly8gVXJsIGNsZWFudXAgdmFyXG5cdFx0XHRcdHVybEFuY2hvcixcblx0XG5cdFx0XHRcdC8vIFJlcXVlc3Qgc3RhdGUgKGJlY29tZXMgZmFsc2UgdXBvbiBzZW5kIGFuZCB0cnVlIHVwb24gY29tcGxldGlvbilcblx0XHRcdFx0Y29tcGxldGVkLFxuXHRcblx0XHRcdFx0Ly8gVG8ga25vdyBpZiBnbG9iYWwgZXZlbnRzIGFyZSB0byBiZSBkaXNwYXRjaGVkXG5cdFx0XHRcdGZpcmVHbG9iYWxzLFxuXHRcblx0XHRcdFx0Ly8gTG9vcCB2YXJpYWJsZVxuXHRcdFx0XHRpLFxuXHRcblx0XHRcdFx0Ly8gdW5jYWNoZWQgcGFydCBvZiB0aGUgdXJsXG5cdFx0XHRcdHVuY2FjaGVkLFxuXHRcblx0XHRcdFx0Ly8gQ3JlYXRlIHRoZSBmaW5hbCBvcHRpb25zIG9iamVjdFxuXHRcdFx0XHRzID0galF1ZXJ5LmFqYXhTZXR1cCgge30sIG9wdGlvbnMgKSxcblx0XG5cdFx0XHRcdC8vIENhbGxiYWNrcyBjb250ZXh0XG5cdFx0XHRcdGNhbGxiYWNrQ29udGV4dCA9IHMuY29udGV4dCB8fCBzLFxuXHRcblx0XHRcdFx0Ly8gQ29udGV4dCBmb3IgZ2xvYmFsIGV2ZW50cyBpcyBjYWxsYmFja0NvbnRleHQgaWYgaXQgaXMgYSBET00gbm9kZSBvciBqUXVlcnkgY29sbGVjdGlvblxuXHRcdFx0XHRnbG9iYWxFdmVudENvbnRleHQgPSBzLmNvbnRleHQgJiZcblx0XHRcdFx0XHQoIGNhbGxiYWNrQ29udGV4dC5ub2RlVHlwZSB8fCBjYWxsYmFja0NvbnRleHQuanF1ZXJ5ICkgP1xuXHRcdFx0XHRcdFx0alF1ZXJ5KCBjYWxsYmFja0NvbnRleHQgKSA6XG5cdFx0XHRcdFx0XHRqUXVlcnkuZXZlbnQsXG5cdFxuXHRcdFx0XHQvLyBEZWZlcnJlZHNcblx0XHRcdFx0ZGVmZXJyZWQgPSBqUXVlcnkuRGVmZXJyZWQoKSxcblx0XHRcdFx0Y29tcGxldGVEZWZlcnJlZCA9IGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLFxuXHRcblx0XHRcdFx0Ly8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3Ncblx0XHRcdFx0c3RhdHVzQ29kZSA9IHMuc3RhdHVzQ29kZSB8fCB7fSxcblx0XG5cdFx0XHRcdC8vIEhlYWRlcnMgKHRoZXkgYXJlIHNlbnQgYWxsIGF0IG9uY2UpXG5cdFx0XHRcdHJlcXVlc3RIZWFkZXJzID0ge30sXG5cdFx0XHRcdHJlcXVlc3RIZWFkZXJzTmFtZXMgPSB7fSxcblx0XG5cdFx0XHRcdC8vIERlZmF1bHQgYWJvcnQgbWVzc2FnZVxuXHRcdFx0XHRzdHJBYm9ydCA9IFwiY2FuY2VsZWRcIixcblx0XG5cdFx0XHRcdC8vIEZha2UgeGhyXG5cdFx0XHRcdGpxWEhSID0ge1xuXHRcdFx0XHRcdHJlYWR5U3RhdGU6IDAsXG5cdFxuXHRcdFx0XHRcdC8vIEJ1aWxkcyBoZWFkZXJzIGhhc2h0YWJsZSBpZiBuZWVkZWRcblx0XHRcdFx0XHRnZXRSZXNwb25zZUhlYWRlcjogZnVuY3Rpb24oIGtleSApIHtcblx0XHRcdFx0XHRcdHZhciBtYXRjaDtcblx0XHRcdFx0XHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoICFyZXNwb25zZUhlYWRlcnMgKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmVzcG9uc2VIZWFkZXJzID0ge307XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKCAoIG1hdGNoID0gcmhlYWRlcnMuZXhlYyggcmVzcG9uc2VIZWFkZXJzU3RyaW5nICkgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJlc3BvbnNlSGVhZGVyc1sgbWF0Y2hbIDEgXS50b0xvd2VyQ2FzZSgpIF0gPSBtYXRjaFsgMiBdO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRtYXRjaCA9IHJlc3BvbnNlSGVhZGVyc1sga2V5LnRvTG93ZXJDYXNlKCkgXTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJldHVybiBtYXRjaCA9PSBudWxsID8gbnVsbCA6IG1hdGNoO1xuXHRcdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHRcdC8vIFJhdyBzdHJpbmdcblx0XHRcdFx0XHRnZXRBbGxSZXNwb25zZUhlYWRlcnM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbXBsZXRlZCA/IHJlc3BvbnNlSGVhZGVyc1N0cmluZyA6IG51bGw7XG5cdFx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdFx0Ly8gQ2FjaGVzIHRoZSBoZWFkZXJcblx0XHRcdFx0XHRzZXRSZXF1ZXN0SGVhZGVyOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGNvbXBsZXRlZCA9PSBudWxsICkge1xuXHRcdFx0XHRcdFx0XHRuYW1lID0gcmVxdWVzdEhlYWRlcnNOYW1lc1sgbmFtZS50b0xvd2VyQ2FzZSgpIF0gPVxuXHRcdFx0XHRcdFx0XHRcdHJlcXVlc3RIZWFkZXJzTmFtZXNbIG5hbWUudG9Mb3dlckNhc2UoKSBdIHx8IG5hbWU7XG5cdFx0XHRcdFx0XHRcdHJlcXVlc3RIZWFkZXJzWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHRcdC8vIE92ZXJyaWRlcyByZXNwb25zZSBjb250ZW50LXR5cGUgaGVhZGVyXG5cdFx0XHRcdFx0b3ZlcnJpZGVNaW1lVHlwZTogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGNvbXBsZXRlZCA9PSBudWxsICkge1xuXHRcdFx0XHRcdFx0XHRzLm1pbWVUeXBlID0gdHlwZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRcdFx0c3RhdHVzQ29kZTogZnVuY3Rpb24oIG1hcCApIHtcblx0XHRcdFx0XHRcdHZhciBjb2RlO1xuXHRcdFx0XHRcdFx0aWYgKCBtYXAgKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggY29tcGxldGVkICkge1xuXHRcblx0XHRcdFx0XHRcdFx0XHQvLyBFeGVjdXRlIHRoZSBhcHByb3ByaWF0ZSBjYWxsYmFja3Ncblx0XHRcdFx0XHRcdFx0XHRqcVhIUi5hbHdheXMoIG1hcFsganFYSFIuc3RhdHVzIF0gKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XG5cdFx0XHRcdFx0XHRcdFx0Ly8gTGF6eS1hZGQgdGhlIG5ldyBjYWxsYmFja3MgaW4gYSB3YXkgdGhhdCBwcmVzZXJ2ZXMgb2xkIG9uZXNcblx0XHRcdFx0XHRcdFx0XHRmb3IgKCBjb2RlIGluIG1hcCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHN0YXR1c0NvZGVbIGNvZGUgXSA9IFsgc3RhdHVzQ29kZVsgY29kZSBdLCBtYXBbIGNvZGUgXSBdO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdFx0Ly8gQ2FuY2VsIHRoZSByZXF1ZXN0XG5cdFx0XHRcdFx0YWJvcnQ6IGZ1bmN0aW9uKCBzdGF0dXNUZXh0ICkge1xuXHRcdFx0XHRcdFx0dmFyIGZpbmFsVGV4dCA9IHN0YXR1c1RleHQgfHwgc3RyQWJvcnQ7XG5cdFx0XHRcdFx0XHRpZiAoIHRyYW5zcG9ydCApIHtcblx0XHRcdFx0XHRcdFx0dHJhbnNwb3J0LmFib3J0KCBmaW5hbFRleHQgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGRvbmUoIDAsIGZpbmFsVGV4dCApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcblx0XHRcdC8vIEF0dGFjaCBkZWZlcnJlZHNcblx0XHRcdGRlZmVycmVkLnByb21pc2UoIGpxWEhSICk7XG5cdFxuXHRcdFx0Ly8gQWRkIHByb3RvY29sIGlmIG5vdCBwcm92aWRlZCAocHJlZmlsdGVycyBtaWdodCBleHBlY3QgaXQpXG5cdFx0XHQvLyBIYW5kbGUgZmFsc3kgdXJsIGluIHRoZSBzZXR0aW5ncyBvYmplY3QgKCMxMDA5MzogY29uc2lzdGVuY3kgd2l0aCBvbGQgc2lnbmF0dXJlKVxuXHRcdFx0Ly8gV2UgYWxzbyB1c2UgdGhlIHVybCBwYXJhbWV0ZXIgaWYgYXZhaWxhYmxlXG5cdFx0XHRzLnVybCA9ICggKCB1cmwgfHwgcy51cmwgfHwgbG9jYXRpb24uaHJlZiApICsgXCJcIiApXG5cdFx0XHRcdC5yZXBsYWNlKCBycHJvdG9jb2wsIGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICk7XG5cdFxuXHRcdFx0Ly8gQWxpYXMgbWV0aG9kIG9wdGlvbiB0byB0eXBlIGFzIHBlciB0aWNrZXQgIzEyMDA0XG5cdFx0XHRzLnR5cGUgPSBvcHRpb25zLm1ldGhvZCB8fCBvcHRpb25zLnR5cGUgfHwgcy5tZXRob2QgfHwgcy50eXBlO1xuXHRcblx0XHRcdC8vIEV4dHJhY3QgZGF0YVR5cGVzIGxpc3Rcblx0XHRcdHMuZGF0YVR5cGVzID0gKCBzLmRhdGFUeXBlIHx8IFwiKlwiICkudG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdHdoaXRlICkgfHwgWyBcIlwiIF07XG5cdFxuXHRcdFx0Ly8gQSBjcm9zcy1kb21haW4gcmVxdWVzdCBpcyBpbiBvcmRlciB3aGVuIHRoZSBvcmlnaW4gZG9lc24ndCBtYXRjaCB0aGUgY3VycmVudCBvcmlnaW4uXG5cdFx0XHRpZiAoIHMuY3Jvc3NEb21haW4gPT0gbnVsbCApIHtcblx0XHRcdFx0dXJsQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJhXCIgKTtcblx0XG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OCAtIDExLCBFZGdlIDEyIC0gMTNcblx0XHRcdFx0Ly8gSUUgdGhyb3dzIGV4Y2VwdGlvbiBvbiBhY2Nlc3NpbmcgdGhlIGhyZWYgcHJvcGVydHkgaWYgdXJsIGlzIG1hbGZvcm1lZCxcblx0XHRcdFx0Ly8gZS5nLiBodHRwOi8vZXhhbXBsZS5jb206ODB4L1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHVybEFuY2hvci5ocmVmID0gcy51cmw7XG5cdFxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OCAtIDExIG9ubHlcblx0XHRcdFx0XHQvLyBBbmNob3IncyBob3N0IHByb3BlcnR5IGlzbid0IGNvcnJlY3RseSBzZXQgd2hlbiBzLnVybCBpcyByZWxhdGl2ZVxuXHRcdFx0XHRcdHVybEFuY2hvci5ocmVmID0gdXJsQW5jaG9yLmhyZWY7XG5cdFx0XHRcdFx0cy5jcm9zc0RvbWFpbiA9IG9yaWdpbkFuY2hvci5wcm90b2NvbCArIFwiLy9cIiArIG9yaWdpbkFuY2hvci5ob3N0ICE9PVxuXHRcdFx0XHRcdFx0dXJsQW5jaG9yLnByb3RvY29sICsgXCIvL1wiICsgdXJsQW5jaG9yLmhvc3Q7XG5cdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXHRcblx0XHRcdFx0XHQvLyBJZiB0aGVyZSBpcyBhbiBlcnJvciBwYXJzaW5nIHRoZSBVUkwsIGFzc3VtZSBpdCBpcyBjcm9zc0RvbWFpbixcblx0XHRcdFx0XHQvLyBpdCBjYW4gYmUgcmVqZWN0ZWQgYnkgdGhlIHRyYW5zcG9ydCBpZiBpdCBpcyBpbnZhbGlkXG5cdFx0XHRcdFx0cy5jcm9zc0RvbWFpbiA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHQvLyBDb252ZXJ0IGRhdGEgaWYgbm90IGFscmVhZHkgYSBzdHJpbmdcblx0XHRcdGlmICggcy5kYXRhICYmIHMucHJvY2Vzc0RhdGEgJiYgdHlwZW9mIHMuZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0cy5kYXRhID0galF1ZXJ5LnBhcmFtKCBzLmRhdGEsIHMudHJhZGl0aW9uYWwgKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBBcHBseSBwcmVmaWx0ZXJzXG5cdFx0XHRpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggcHJlZmlsdGVycywgcywgb3B0aW9ucywganFYSFIgKTtcblx0XG5cdFx0XHQvLyBJZiByZXF1ZXN0IHdhcyBhYm9ydGVkIGluc2lkZSBhIHByZWZpbHRlciwgc3RvcCB0aGVyZVxuXHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdHJldHVybiBqcVhIUjtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBXZSBjYW4gZmlyZSBnbG9iYWwgZXZlbnRzIGFzIG9mIG5vdyBpZiBhc2tlZCB0b1xuXHRcdFx0Ly8gRG9uJ3QgZmlyZSBldmVudHMgaWYgalF1ZXJ5LmV2ZW50IGlzIHVuZGVmaW5lZCBpbiBhbiBBTUQtdXNhZ2Ugc2NlbmFyaW8gKCMxNTExOClcblx0XHRcdGZpcmVHbG9iYWxzID0galF1ZXJ5LmV2ZW50ICYmIHMuZ2xvYmFsO1xuXHRcblx0XHRcdC8vIFdhdGNoIGZvciBhIG5ldyBzZXQgb2YgcmVxdWVzdHNcblx0XHRcdGlmICggZmlyZUdsb2JhbHMgJiYgalF1ZXJ5LmFjdGl2ZSsrID09PSAwICkge1xuXHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggXCJhamF4U3RhcnRcIiApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFVwcGVyY2FzZSB0aGUgdHlwZVxuXHRcdFx0cy50eXBlID0gcy50eXBlLnRvVXBwZXJDYXNlKCk7XG5cdFxuXHRcdFx0Ly8gRGV0ZXJtaW5lIGlmIHJlcXVlc3QgaGFzIGNvbnRlbnRcblx0XHRcdHMuaGFzQ29udGVudCA9ICFybm9Db250ZW50LnRlc3QoIHMudHlwZSApO1xuXHRcblx0XHRcdC8vIFNhdmUgdGhlIFVSTCBpbiBjYXNlIHdlJ3JlIHRveWluZyB3aXRoIHRoZSBJZi1Nb2RpZmllZC1TaW5jZVxuXHRcdFx0Ly8gYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyIGxhdGVyIG9uXG5cdFx0XHQvLyBSZW1vdmUgaGFzaCB0byBzaW1wbGlmeSB1cmwgbWFuaXB1bGF0aW9uXG5cdFx0XHRjYWNoZVVSTCA9IHMudXJsLnJlcGxhY2UoIHJoYXNoLCBcIlwiICk7XG5cdFxuXHRcdFx0Ly8gTW9yZSBvcHRpb25zIGhhbmRsaW5nIGZvciByZXF1ZXN0cyB3aXRoIG5vIGNvbnRlbnRcblx0XHRcdGlmICggIXMuaGFzQ29udGVudCApIHtcblx0XG5cdFx0XHRcdC8vIFJlbWVtYmVyIHRoZSBoYXNoIHNvIHdlIGNhbiBwdXQgaXQgYmFja1xuXHRcdFx0XHR1bmNhY2hlZCA9IHMudXJsLnNsaWNlKCBjYWNoZVVSTC5sZW5ndGggKTtcblx0XG5cdFx0XHRcdC8vIElmIGRhdGEgaXMgYXZhaWxhYmxlLCBhcHBlbmQgZGF0YSB0byB1cmxcblx0XHRcdFx0aWYgKCBzLmRhdGEgKSB7XG5cdFx0XHRcdFx0Y2FjaGVVUkwgKz0gKCBycXVlcnkudGVzdCggY2FjaGVVUkwgKSA/IFwiJlwiIDogXCI/XCIgKSArIHMuZGF0YTtcblx0XG5cdFx0XHRcdFx0Ly8gIzk2ODI6IHJlbW92ZSBkYXRhIHNvIHRoYXQgaXQncyBub3QgdXNlZCBpbiBhbiBldmVudHVhbCByZXRyeVxuXHRcdFx0XHRcdGRlbGV0ZSBzLmRhdGE7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIEFkZCBhbnRpLWNhY2hlIGluIHVuY2FjaGVkIHVybCBpZiBuZWVkZWRcblx0XHRcdFx0aWYgKCBzLmNhY2hlID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRjYWNoZVVSTCA9IGNhY2hlVVJMLnJlcGxhY2UoIHJ0cywgXCJcIiApO1xuXHRcdFx0XHRcdHVuY2FjaGVkID0gKCBycXVlcnkudGVzdCggY2FjaGVVUkwgKSA/IFwiJlwiIDogXCI/XCIgKSArIFwiXz1cIiArICggbm9uY2UrKyApICsgdW5jYWNoZWQ7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFB1dCBoYXNoIGFuZCBhbnRpLWNhY2hlIG9uIHRoZSBVUkwgdGhhdCB3aWxsIGJlIHJlcXVlc3RlZCAoZ2gtMTczMilcblx0XHRcdFx0cy51cmwgPSBjYWNoZVVSTCArIHVuY2FjaGVkO1xuXHRcblx0XHRcdC8vIENoYW5nZSAnJTIwJyB0byAnKycgaWYgdGhpcyBpcyBlbmNvZGVkIGZvcm0gYm9keSBjb250ZW50IChnaC0yNjU4KVxuXHRcdFx0fSBlbHNlIGlmICggcy5kYXRhICYmIHMucHJvY2Vzc0RhdGEgJiZcblx0XHRcdFx0KCBzLmNvbnRlbnRUeXBlIHx8IFwiXCIgKS5pbmRleE9mKCBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiICkgPT09IDAgKSB7XG5cdFx0XHRcdHMuZGF0YSA9IHMuZGF0YS5yZXBsYWNlKCByMjAsIFwiK1wiICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gU2V0IHRoZSBJZi1Nb2RpZmllZC1TaW5jZSBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIsIGlmIGluIGlmTW9kaWZpZWQgbW9kZS5cblx0XHRcdGlmICggcy5pZk1vZGlmaWVkICkge1xuXHRcdFx0XHRpZiAoIGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gKSB7XG5cdFx0XHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJJZi1Nb2RpZmllZC1TaW5jZVwiLCBqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBqUXVlcnkuZXRhZ1sgY2FjaGVVUkwgXSApIHtcblx0XHRcdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIklmLU5vbmUtTWF0Y2hcIiwgalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFNldCB0aGUgY29ycmVjdCBoZWFkZXIsIGlmIGRhdGEgaXMgYmVpbmcgc2VudFxuXHRcdFx0aWYgKCBzLmRhdGEgJiYgcy5oYXNDb250ZW50ICYmIHMuY29udGVudFR5cGUgIT09IGZhbHNlIHx8IG9wdGlvbnMuY29udGVudFR5cGUgKSB7XG5cdFx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiQ29udGVudC1UeXBlXCIsIHMuY29udGVudFR5cGUgKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBTZXQgdGhlIEFjY2VwdHMgaGVhZGVyIGZvciB0aGUgc2VydmVyLCBkZXBlbmRpbmcgb24gdGhlIGRhdGFUeXBlXG5cdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKFxuXHRcdFx0XHRcIkFjY2VwdFwiLFxuXHRcdFx0XHRzLmRhdGFUeXBlc1sgMCBdICYmIHMuYWNjZXB0c1sgcy5kYXRhVHlwZXNbIDAgXSBdID9cblx0XHRcdFx0XHRzLmFjY2VwdHNbIHMuZGF0YVR5cGVzWyAwIF0gXSArXG5cdFx0XHRcdFx0XHQoIHMuZGF0YVR5cGVzWyAwIF0gIT09IFwiKlwiID8gXCIsIFwiICsgYWxsVHlwZXMgKyBcIjsgcT0wLjAxXCIgOiBcIlwiICkgOlxuXHRcdFx0XHRcdHMuYWNjZXB0c1sgXCIqXCIgXVxuXHRcdFx0KTtcblx0XG5cdFx0XHQvLyBDaGVjayBmb3IgaGVhZGVycyBvcHRpb25cblx0XHRcdGZvciAoIGkgaW4gcy5oZWFkZXJzICkge1xuXHRcdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBpLCBzLmhlYWRlcnNbIGkgXSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEFsbG93IGN1c3RvbSBoZWFkZXJzL21pbWV0eXBlcyBhbmQgZWFybHkgYWJvcnRcblx0XHRcdGlmICggcy5iZWZvcmVTZW5kICYmXG5cdFx0XHRcdCggcy5iZWZvcmVTZW5kLmNhbGwoIGNhbGxiYWNrQ29udGV4dCwganFYSFIsIHMgKSA9PT0gZmFsc2UgfHwgY29tcGxldGVkICkgKSB7XG5cdFxuXHRcdFx0XHQvLyBBYm9ydCBpZiBub3QgZG9uZSBhbHJlYWR5IGFuZCByZXR1cm5cblx0XHRcdFx0cmV0dXJuIGpxWEhSLmFib3J0KCk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gQWJvcnRpbmcgaXMgbm8gbG9uZ2VyIGEgY2FuY2VsbGF0aW9uXG5cdFx0XHRzdHJBYm9ydCA9IFwiYWJvcnRcIjtcblx0XG5cdFx0XHQvLyBJbnN0YWxsIGNhbGxiYWNrcyBvbiBkZWZlcnJlZHNcblx0XHRcdGNvbXBsZXRlRGVmZXJyZWQuYWRkKCBzLmNvbXBsZXRlICk7XG5cdFx0XHRqcVhIUi5kb25lKCBzLnN1Y2Nlc3MgKTtcblx0XHRcdGpxWEhSLmZhaWwoIHMuZXJyb3IgKTtcblx0XG5cdFx0XHQvLyBHZXQgdHJhbnNwb3J0XG5cdFx0XHR0cmFuc3BvcnQgPSBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggdHJhbnNwb3J0cywgcywgb3B0aW9ucywganFYSFIgKTtcblx0XG5cdFx0XHQvLyBJZiBubyB0cmFuc3BvcnQsIHdlIGF1dG8tYWJvcnRcblx0XHRcdGlmICggIXRyYW5zcG9ydCApIHtcblx0XHRcdFx0ZG9uZSggLTEsIFwiTm8gVHJhbnNwb3J0XCIgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGpxWEhSLnJlYWR5U3RhdGUgPSAxO1xuXHRcblx0XHRcdFx0Ly8gU2VuZCBnbG9iYWwgZXZlbnRcblx0XHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0XHRnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggXCJhamF4U2VuZFwiLCBbIGpxWEhSLCBzIF0gKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gSWYgcmVxdWVzdCB3YXMgYWJvcnRlZCBpbnNpZGUgYWpheFNlbmQsIHN0b3AgdGhlcmVcblx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGpxWEhSO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBUaW1lb3V0XG5cdFx0XHRcdGlmICggcy5hc3luYyAmJiBzLnRpbWVvdXQgPiAwICkge1xuXHRcdFx0XHRcdHRpbWVvdXRUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGpxWEhSLmFib3J0KCBcInRpbWVvdXRcIiApO1xuXHRcdFx0XHRcdH0sIHMudGltZW91dCApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGNvbXBsZXRlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdHRyYW5zcG9ydC5zZW5kKCByZXF1ZXN0SGVhZGVycywgZG9uZSApO1xuXHRcdFx0XHR9IGNhdGNoICggZSApIHtcblx0XG5cdFx0XHRcdFx0Ly8gUmV0aHJvdyBwb3N0LWNvbXBsZXRpb24gZXhjZXB0aW9uc1xuXHRcdFx0XHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0XHRcdFx0dGhyb3cgZTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIFByb3BhZ2F0ZSBvdGhlcnMgYXMgcmVzdWx0c1xuXHRcdFx0XHRcdGRvbmUoIC0xLCBlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHQvLyBDYWxsYmFjayBmb3Igd2hlbiBldmVyeXRoaW5nIGlzIGRvbmVcblx0XHRcdGZ1bmN0aW9uIGRvbmUoIHN0YXR1cywgbmF0aXZlU3RhdHVzVGV4dCwgcmVzcG9uc2VzLCBoZWFkZXJzICkge1xuXHRcdFx0XHR2YXIgaXNTdWNjZXNzLCBzdWNjZXNzLCBlcnJvciwgcmVzcG9uc2UsIG1vZGlmaWVkLFxuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSBuYXRpdmVTdGF0dXNUZXh0O1xuXHRcblx0XHRcdFx0Ly8gSWdub3JlIHJlcGVhdCBpbnZvY2F0aW9uc1xuXHRcdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGNvbXBsZXRlZCA9IHRydWU7XG5cdFxuXHRcdFx0XHQvLyBDbGVhciB0aW1lb3V0IGlmIGl0IGV4aXN0c1xuXHRcdFx0XHRpZiAoIHRpbWVvdXRUaW1lciApIHtcblx0XHRcdFx0XHR3aW5kb3cuY2xlYXJUaW1lb3V0KCB0aW1lb3V0VGltZXIgKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gRGVyZWZlcmVuY2UgdHJhbnNwb3J0IGZvciBlYXJseSBnYXJiYWdlIGNvbGxlY3Rpb25cblx0XHRcdFx0Ly8gKG5vIG1hdHRlciBob3cgbG9uZyB0aGUganFYSFIgb2JqZWN0IHdpbGwgYmUgdXNlZClcblx0XHRcdFx0dHJhbnNwb3J0ID0gdW5kZWZpbmVkO1xuXHRcblx0XHRcdFx0Ly8gQ2FjaGUgcmVzcG9uc2UgaGVhZGVyc1xuXHRcdFx0XHRyZXNwb25zZUhlYWRlcnNTdHJpbmcgPSBoZWFkZXJzIHx8IFwiXCI7XG5cdFxuXHRcdFx0XHQvLyBTZXQgcmVhZHlTdGF0ZVxuXHRcdFx0XHRqcVhIUi5yZWFkeVN0YXRlID0gc3RhdHVzID4gMCA/IDQgOiAwO1xuXHRcblx0XHRcdFx0Ly8gRGV0ZXJtaW5lIGlmIHN1Y2Nlc3NmdWxcblx0XHRcdFx0aXNTdWNjZXNzID0gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDAgfHwgc3RhdHVzID09PSAzMDQ7XG5cdFxuXHRcdFx0XHQvLyBHZXQgcmVzcG9uc2UgZGF0YVxuXHRcdFx0XHRpZiAoIHJlc3BvbnNlcyApIHtcblx0XHRcdFx0XHRyZXNwb25zZSA9IGFqYXhIYW5kbGVSZXNwb25zZXMoIHMsIGpxWEhSLCByZXNwb25zZXMgKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gQ29udmVydCBubyBtYXR0ZXIgd2hhdCAodGhhdCB3YXkgcmVzcG9uc2VYWFggZmllbGRzIGFyZSBhbHdheXMgc2V0KVxuXHRcdFx0XHRyZXNwb25zZSA9IGFqYXhDb252ZXJ0KCBzLCByZXNwb25zZSwganFYSFIsIGlzU3VjY2VzcyApO1xuXHRcblx0XHRcdFx0Ly8gSWYgc3VjY2Vzc2Z1bCwgaGFuZGxlIHR5cGUgY2hhaW5pbmdcblx0XHRcdFx0aWYgKCBpc1N1Y2Nlc3MgKSB7XG5cdFxuXHRcdFx0XHRcdC8vIFNldCB0aGUgSWYtTW9kaWZpZWQtU2luY2UgYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyLCBpZiBpbiBpZk1vZGlmaWVkIG1vZGUuXG5cdFx0XHRcdFx0aWYgKCBzLmlmTW9kaWZpZWQgKSB7XG5cdFx0XHRcdFx0XHRtb2RpZmllZCA9IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCBcIkxhc3QtTW9kaWZpZWRcIiApO1xuXHRcdFx0XHRcdFx0aWYgKCBtb2RpZmllZCApIHtcblx0XHRcdFx0XHRcdFx0alF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSA9IG1vZGlmaWVkO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0bW9kaWZpZWQgPSBqcVhIUi5nZXRSZXNwb25zZUhlYWRlciggXCJldGFnXCIgKTtcblx0XHRcdFx0XHRcdGlmICggbW9kaWZpZWQgKSB7XG5cdFx0XHRcdFx0XHRcdGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdID0gbW9kaWZpZWQ7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBpZiBubyBjb250ZW50XG5cdFx0XHRcdFx0aWYgKCBzdGF0dXMgPT09IDIwNCB8fCBzLnR5cGUgPT09IFwiSEVBRFwiICkge1xuXHRcdFx0XHRcdFx0c3RhdHVzVGV4dCA9IFwibm9jb250ZW50XCI7XG5cdFxuXHRcdFx0XHRcdC8vIGlmIG5vdCBtb2RpZmllZFxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIHN0YXR1cyA9PT0gMzA0ICkge1xuXHRcdFx0XHRcdFx0c3RhdHVzVGV4dCA9IFwibm90bW9kaWZpZWRcIjtcblx0XG5cdFx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBkYXRhLCBsZXQncyBjb252ZXJ0IGl0XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHN0YXR1c1RleHQgPSByZXNwb25zZS5zdGF0ZTtcblx0XHRcdFx0XHRcdHN1Y2Nlc3MgPSByZXNwb25zZS5kYXRhO1xuXHRcdFx0XHRcdFx0ZXJyb3IgPSByZXNwb25zZS5lcnJvcjtcblx0XHRcdFx0XHRcdGlzU3VjY2VzcyA9ICFlcnJvcjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFxuXHRcdFx0XHRcdC8vIEV4dHJhY3QgZXJyb3IgZnJvbSBzdGF0dXNUZXh0IGFuZCBub3JtYWxpemUgZm9yIG5vbi1hYm9ydHNcblx0XHRcdFx0XHRlcnJvciA9IHN0YXR1c1RleHQ7XG5cdFx0XHRcdFx0aWYgKCBzdGF0dXMgfHwgIXN0YXR1c1RleHQgKSB7XG5cdFx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gXCJlcnJvclwiO1xuXHRcdFx0XHRcdFx0aWYgKCBzdGF0dXMgPCAwICkge1xuXHRcdFx0XHRcdFx0XHRzdGF0dXMgPSAwO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gU2V0IGRhdGEgZm9yIHRoZSBmYWtlIHhociBvYmplY3Rcblx0XHRcdFx0anFYSFIuc3RhdHVzID0gc3RhdHVzO1xuXHRcdFx0XHRqcVhIUi5zdGF0dXNUZXh0ID0gKCBuYXRpdmVTdGF0dXNUZXh0IHx8IHN0YXR1c1RleHQgKSArIFwiXCI7XG5cdFxuXHRcdFx0XHQvLyBTdWNjZXNzL0Vycm9yXG5cdFx0XHRcdGlmICggaXNTdWNjZXNzICkge1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBjYWxsYmFja0NvbnRleHQsIFsgc3VjY2Vzcywgc3RhdHVzVGV4dCwganFYSFIgXSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdFdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBqcVhIUiwgc3RhdHVzVGV4dCwgZXJyb3IgXSApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xuXHRcdFx0XHRqcVhIUi5zdGF0dXNDb2RlKCBzdGF0dXNDb2RlICk7XG5cdFx0XHRcdHN0YXR1c0NvZGUgPSB1bmRlZmluZWQ7XG5cdFxuXHRcdFx0XHRpZiAoIGZpcmVHbG9iYWxzICkge1xuXHRcdFx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBpc1N1Y2Nlc3MgPyBcImFqYXhTdWNjZXNzXCIgOiBcImFqYXhFcnJvclwiLFxuXHRcdFx0XHRcdFx0WyBqcVhIUiwgcywgaXNTdWNjZXNzID8gc3VjY2VzcyA6IGVycm9yIF0gKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gQ29tcGxldGVcblx0XHRcdFx0Y29tcGxldGVEZWZlcnJlZC5maXJlV2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0IF0gKTtcblx0XG5cdFx0XHRcdGlmICggZmlyZUdsb2JhbHMgKSB7XG5cdFx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIFwiYWpheENvbXBsZXRlXCIsIFsganFYSFIsIHMgXSApO1xuXHRcblx0XHRcdFx0XHQvLyBIYW5kbGUgdGhlIGdsb2JhbCBBSkFYIGNvdW50ZXJcblx0XHRcdFx0XHRpZiAoICEoIC0talF1ZXJ5LmFjdGl2ZSApICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIFwiYWpheFN0b3BcIiApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiBqcVhIUjtcblx0XHR9LFxuXHRcblx0XHRnZXRKU09OOiBmdW5jdGlvbiggdXJsLCBkYXRhLCBjYWxsYmFjayApIHtcblx0XHRcdHJldHVybiBqUXVlcnkuZ2V0KCB1cmwsIGRhdGEsIGNhbGxiYWNrLCBcImpzb25cIiApO1xuXHRcdH0sXG5cdFxuXHRcdGdldFNjcmlwdDogZnVuY3Rpb24oIHVybCwgY2FsbGJhY2sgKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmdldCggdXJsLCB1bmRlZmluZWQsIGNhbGxiYWNrLCBcInNjcmlwdFwiICk7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRqUXVlcnkuZWFjaCggWyBcImdldFwiLCBcInBvc3RcIiBdLCBmdW5jdGlvbiggaSwgbWV0aG9kICkge1xuXHRcdGpRdWVyeVsgbWV0aG9kIF0gPSBmdW5jdGlvbiggdXJsLCBkYXRhLCBjYWxsYmFjaywgdHlwZSApIHtcblx0XG5cdFx0XHQvLyBTaGlmdCBhcmd1bWVudHMgaWYgZGF0YSBhcmd1bWVudCB3YXMgb21pdHRlZFxuXHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggZGF0YSApICkge1xuXHRcdFx0XHR0eXBlID0gdHlwZSB8fCBjYWxsYmFjaztcblx0XHRcdFx0Y2FsbGJhY2sgPSBkYXRhO1xuXHRcdFx0XHRkYXRhID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFRoZSB1cmwgY2FuIGJlIGFuIG9wdGlvbnMgb2JqZWN0ICh3aGljaCB0aGVuIG11c3QgaGF2ZSAudXJsKVxuXHRcdFx0cmV0dXJuIGpRdWVyeS5hamF4KCBqUXVlcnkuZXh0ZW5kKCB7XG5cdFx0XHRcdHVybDogdXJsLFxuXHRcdFx0XHR0eXBlOiBtZXRob2QsXG5cdFx0XHRcdGRhdGFUeXBlOiB0eXBlLFxuXHRcdFx0XHRkYXRhOiBkYXRhLFxuXHRcdFx0XHRzdWNjZXNzOiBjYWxsYmFja1xuXHRcdFx0fSwgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIHVybCApICYmIHVybCApICk7XG5cdFx0fTtcblx0fSApO1xuXHRcblx0XG5cdGpRdWVyeS5fZXZhbFVybCA9IGZ1bmN0aW9uKCB1cmwgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5hamF4KCB7XG5cdFx0XHR1cmw6IHVybCxcblx0XG5cdFx0XHQvLyBNYWtlIHRoaXMgZXhwbGljaXQsIHNpbmNlIHVzZXIgY2FuIG92ZXJyaWRlIHRoaXMgdGhyb3VnaCBhamF4U2V0dXAgKCMxMTI2NClcblx0XHRcdHR5cGU6IFwiR0VUXCIsXG5cdFx0XHRkYXRhVHlwZTogXCJzY3JpcHRcIixcblx0XHRcdGNhY2hlOiB0cnVlLFxuXHRcdFx0YXN5bmM6IGZhbHNlLFxuXHRcdFx0Z2xvYmFsOiBmYWxzZSxcblx0XHRcdFwidGhyb3dzXCI6IHRydWVcblx0XHR9ICk7XG5cdH07XG5cdFxuXHRcblx0alF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRcdHdyYXBBbGw6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdFx0dmFyIHdyYXA7XG5cdFxuXHRcdFx0aWYgKCB0aGlzWyAwIF0gKSB7XG5cdFx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGh0bWwgKSApIHtcblx0XHRcdFx0XHRodG1sID0gaHRtbC5jYWxsKCB0aGlzWyAwIF0gKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gVGhlIGVsZW1lbnRzIHRvIHdyYXAgdGhlIHRhcmdldCBhcm91bmRcblx0XHRcdFx0d3JhcCA9IGpRdWVyeSggaHRtbCwgdGhpc1sgMCBdLm93bmVyRG9jdW1lbnQgKS5lcSggMCApLmNsb25lKCB0cnVlICk7XG5cdFxuXHRcdFx0XHRpZiAoIHRoaXNbIDAgXS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRcdHdyYXAuaW5zZXJ0QmVmb3JlKCB0aGlzWyAwIF0gKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0d3JhcC5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciBlbGVtID0gdGhpcztcblx0XG5cdFx0XHRcdFx0d2hpbGUgKCBlbGVtLmZpcnN0RWxlbWVudENoaWxkICkge1xuXHRcdFx0XHRcdFx0ZWxlbSA9IGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQ7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRyZXR1cm4gZWxlbTtcblx0XHRcdFx0fSApLmFwcGVuZCggdGhpcyApO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFxuXHRcdHdyYXBJbm5lcjogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBodG1sICkgKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRcdGpRdWVyeSggdGhpcyApLndyYXBJbm5lciggaHRtbC5jYWxsKCB0aGlzLCBpICkgKTtcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgc2VsZiA9IGpRdWVyeSggdGhpcyApLFxuXHRcdFx0XHRcdGNvbnRlbnRzID0gc2VsZi5jb250ZW50cygpO1xuXHRcblx0XHRcdFx0aWYgKCBjb250ZW50cy5sZW5ndGggKSB7XG5cdFx0XHRcdFx0Y29udGVudHMud3JhcEFsbCggaHRtbCApO1xuXHRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzZWxmLmFwcGVuZCggaHRtbCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fSxcblx0XG5cdFx0d3JhcDogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0XHR2YXIgaXNGdW5jdGlvbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCBodG1sICk7XG5cdFxuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLndyYXBBbGwoIGlzRnVuY3Rpb24gPyBodG1sLmNhbGwoIHRoaXMsIGkgKSA6IGh0bWwgKTtcblx0XHRcdH0gKTtcblx0XHR9LFxuXHRcblx0XHR1bndyYXA6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRcdHRoaXMucGFyZW50KCBzZWxlY3RvciApLm5vdCggXCJib2R5XCIgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkucmVwbGFjZVdpdGgoIHRoaXMuY2hpbGROb2RlcyApO1xuXHRcdFx0fSApO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRcblx0alF1ZXJ5LmV4cHIucHNldWRvcy5oaWRkZW4gPSBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gIWpRdWVyeS5leHByLnBzZXVkb3MudmlzaWJsZSggZWxlbSApO1xuXHR9O1xuXHRqUXVlcnkuZXhwci5wc2V1ZG9zLnZpc2libGUgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gISEoIGVsZW0ub2Zmc2V0V2lkdGggfHwgZWxlbS5vZmZzZXRIZWlnaHQgfHwgZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCApO1xuXHR9O1xuXHRcblx0XG5cdFxuXHRcblx0alF1ZXJ5LmFqYXhTZXR0aW5ncy54aHIgPSBmdW5jdGlvbigpIHtcblx0XHR0cnkge1xuXHRcdFx0cmV0dXJuIG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QoKTtcblx0XHR9IGNhdGNoICggZSApIHt9XG5cdH07XG5cdFxuXHR2YXIgeGhyU3VjY2Vzc1N0YXR1cyA9IHtcblx0XG5cdFx0XHQvLyBGaWxlIHByb3RvY29sIGFsd2F5cyB5aWVsZHMgc3RhdHVzIGNvZGUgMCwgYXNzdW1lIDIwMFxuXHRcdFx0MDogMjAwLFxuXHRcblx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdFx0XHQvLyAjMTQ1MDogc29tZXRpbWVzIElFIHJldHVybnMgMTIyMyB3aGVuIGl0IHNob3VsZCBiZSAyMDRcblx0XHRcdDEyMjM6IDIwNFxuXHRcdH0sXG5cdFx0eGhyU3VwcG9ydGVkID0galF1ZXJ5LmFqYXhTZXR0aW5ncy54aHIoKTtcblx0XG5cdHN1cHBvcnQuY29ycyA9ICEheGhyU3VwcG9ydGVkICYmICggXCJ3aXRoQ3JlZGVudGlhbHNcIiBpbiB4aHJTdXBwb3J0ZWQgKTtcblx0c3VwcG9ydC5hamF4ID0geGhyU3VwcG9ydGVkID0gISF4aHJTdXBwb3J0ZWQ7XG5cdFxuXHRqUXVlcnkuYWpheFRyYW5zcG9ydCggZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdFx0dmFyIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrO1xuXHRcblx0XHQvLyBDcm9zcyBkb21haW4gb25seSBhbGxvd2VkIGlmIHN1cHBvcnRlZCB0aHJvdWdoIFhNTEh0dHBSZXF1ZXN0XG5cdFx0aWYgKCBzdXBwb3J0LmNvcnMgfHwgeGhyU3VwcG9ydGVkICYmICFvcHRpb25zLmNyb3NzRG9tYWluICkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c2VuZDogZnVuY3Rpb24oIGhlYWRlcnMsIGNvbXBsZXRlICkge1xuXHRcdFx0XHRcdHZhciBpLFxuXHRcdFx0XHRcdFx0eGhyID0gb3B0aW9ucy54aHIoKTtcblx0XG5cdFx0XHRcdFx0eGhyLm9wZW4oXG5cdFx0XHRcdFx0XHRvcHRpb25zLnR5cGUsXG5cdFx0XHRcdFx0XHRvcHRpb25zLnVybCxcblx0XHRcdFx0XHRcdG9wdGlvbnMuYXN5bmMsXG5cdFx0XHRcdFx0XHRvcHRpb25zLnVzZXJuYW1lLFxuXHRcdFx0XHRcdFx0b3B0aW9ucy5wYXNzd29yZFxuXHRcdFx0XHRcdCk7XG5cdFxuXHRcdFx0XHRcdC8vIEFwcGx5IGN1c3RvbSBmaWVsZHMgaWYgcHJvdmlkZWRcblx0XHRcdFx0XHRpZiAoIG9wdGlvbnMueGhyRmllbGRzICkge1xuXHRcdFx0XHRcdFx0Zm9yICggaSBpbiBvcHRpb25zLnhockZpZWxkcyApIHtcblx0XHRcdFx0XHRcdFx0eGhyWyBpIF0gPSBvcHRpb25zLnhockZpZWxkc1sgaSBdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gT3ZlcnJpZGUgbWltZSB0eXBlIGlmIG5lZWRlZFxuXHRcdFx0XHRcdGlmICggb3B0aW9ucy5taW1lVHlwZSAmJiB4aHIub3ZlcnJpZGVNaW1lVHlwZSApIHtcblx0XHRcdFx0XHRcdHhoci5vdmVycmlkZU1pbWVUeXBlKCBvcHRpb25zLm1pbWVUeXBlICk7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBYLVJlcXVlc3RlZC1XaXRoIGhlYWRlclxuXHRcdFx0XHRcdC8vIEZvciBjcm9zcy1kb21haW4gcmVxdWVzdHMsIHNlZWluZyBhcyBjb25kaXRpb25zIGZvciBhIHByZWZsaWdodCBhcmVcblx0XHRcdFx0XHQvLyBha2luIHRvIGEgamlnc2F3IHB1enpsZSwgd2Ugc2ltcGx5IG5ldmVyIHNldCBpdCB0byBiZSBzdXJlLlxuXHRcdFx0XHRcdC8vIChpdCBjYW4gYWx3YXlzIGJlIHNldCBvbiBhIHBlci1yZXF1ZXN0IGJhc2lzIG9yIGV2ZW4gdXNpbmcgYWpheFNldHVwKVxuXHRcdFx0XHRcdC8vIEZvciBzYW1lLWRvbWFpbiByZXF1ZXN0cywgd29uJ3QgY2hhbmdlIGhlYWRlciBpZiBhbHJlYWR5IHByb3ZpZGVkLlxuXHRcdFx0XHRcdGlmICggIW9wdGlvbnMuY3Jvc3NEb21haW4gJiYgIWhlYWRlcnNbIFwiWC1SZXF1ZXN0ZWQtV2l0aFwiIF0gKSB7XG5cdFx0XHRcdFx0XHRoZWFkZXJzWyBcIlgtUmVxdWVzdGVkLVdpdGhcIiBdID0gXCJYTUxIdHRwUmVxdWVzdFwiO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gU2V0IGhlYWRlcnNcblx0XHRcdFx0XHRmb3IgKCBpIGluIGhlYWRlcnMgKSB7XG5cdFx0XHRcdFx0XHR4aHIuc2V0UmVxdWVzdEhlYWRlciggaSwgaGVhZGVyc1sgaSBdICk7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBDYWxsYmFja1xuXHRcdFx0XHRcdGNhbGxiYWNrID0gZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrID0geGhyLm9ubG9hZCA9XG5cdFx0XHRcdFx0XHRcdFx0XHR4aHIub25lcnJvciA9IHhoci5vbmFib3J0ID0geGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdGlmICggdHlwZSA9PT0gXCJhYm9ydFwiICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0eGhyLmFib3J0KCk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmICggdHlwZSA9PT0gXCJlcnJvclwiICkge1xuXHRcblx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBPbiBhIG1hbnVhbCBuYXRpdmUgYWJvcnQsIElFOSB0aHJvd3Ncblx0XHRcdFx0XHRcdFx0XHRcdC8vIGVycm9ycyBvbiBhbnkgcHJvcGVydHkgYWNjZXNzIHRoYXQgaXMgbm90IHJlYWR5U3RhdGVcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggdHlwZW9mIHhoci5zdGF0dXMgIT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbXBsZXRlKCAwLCBcImVycm9yXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbXBsZXRlKFxuXHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBGaWxlOiBwcm90b2NvbCBhbHdheXMgeWllbGRzIHN0YXR1cyAwOyBzZWUgIzg2MDUsICMxNDIwN1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHhoci5zdGF0dXMsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0eGhyLnN0YXR1c1RleHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29tcGxldGUoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHhoclN1Y2Nlc3NTdGF0dXNbIHhoci5zdGF0dXMgXSB8fCB4aHIuc3RhdHVzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzVGV4dCxcblx0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIElFOSBoYXMgbm8gWEhSMiBidXQgdGhyb3dzIG9uIGJpbmFyeSAodHJhYy0xMTQyNilcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gRm9yIFhIUjIgbm9uLXRleHQsIGxldCB0aGUgY2FsbGVyIGhhbmRsZSBpdCAoZ2gtMjQ5OClcblx0XHRcdFx0XHRcdFx0XHRcdFx0KCB4aHIucmVzcG9uc2VUeXBlIHx8IFwidGV4dFwiICkgIT09IFwidGV4dFwiICB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlb2YgeGhyLnJlc3BvbnNlVGV4dCAhPT0gXCJzdHJpbmdcIiA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0eyBiaW5hcnk6IHhoci5yZXNwb25zZSB9IDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7IHRleHQ6IHhoci5yZXNwb25zZVRleHQgfSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0eGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG5cdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9O1xuXHRcblx0XHRcdFx0XHQvLyBMaXN0ZW4gdG8gZXZlbnRzXG5cdFx0XHRcdFx0eGhyLm9ubG9hZCA9IGNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0ZXJyb3JDYWxsYmFjayA9IHhoci5vbmVycm9yID0gY2FsbGJhY2soIFwiZXJyb3JcIiApO1xuXHRcblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA5IG9ubHlcblx0XHRcdFx0XHQvLyBVc2Ugb25yZWFkeXN0YXRlY2hhbmdlIHRvIHJlcGxhY2Ugb25hYm9ydFxuXHRcdFx0XHRcdC8vIHRvIGhhbmRsZSB1bmNhdWdodCBhYm9ydHNcblx0XHRcdFx0XHRpZiAoIHhoci5vbmFib3J0ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0XHR4aHIub25hYm9ydCA9IGVycm9yQ2FsbGJhY2s7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdFx0XHRcdC8vIENoZWNrIHJlYWR5U3RhdGUgYmVmb3JlIHRpbWVvdXQgYXMgaXQgY2hhbmdlc1xuXHRcdFx0XHRcdFx0XHRpZiAoIHhoci5yZWFkeVN0YXRlID09PSA0ICkge1xuXHRcblx0XHRcdFx0XHRcdFx0XHQvLyBBbGxvdyBvbmVycm9yIHRvIGJlIGNhbGxlZCBmaXJzdCxcblx0XHRcdFx0XHRcdFx0XHQvLyBidXQgdGhhdCB3aWxsIG5vdCBoYW5kbGUgYSBuYXRpdmUgYWJvcnRcblx0XHRcdFx0XHRcdFx0XHQvLyBBbHNvLCBzYXZlIGVycm9yQ2FsbGJhY2sgdG8gYSB2YXJpYWJsZVxuXHRcdFx0XHRcdFx0XHRcdC8vIGFzIHhoci5vbmVycm9yIGNhbm5vdCBiZSBhY2Nlc3NlZFxuXHRcdFx0XHRcdFx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGVycm9yQ2FsbGJhY2soKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBDcmVhdGUgdGhlIGFib3J0IGNhbGxiYWNrXG5cdFx0XHRcdFx0Y2FsbGJhY2sgPSBjYWxsYmFjayggXCJhYm9ydFwiICk7XG5cdFxuXHRcdFx0XHRcdHRyeSB7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gRG8gc2VuZCB0aGUgcmVxdWVzdCAodGhpcyBtYXkgcmFpc2UgYW4gZXhjZXB0aW9uKVxuXHRcdFx0XHRcdFx0eGhyLnNlbmQoIG9wdGlvbnMuaGFzQ29udGVudCAmJiBvcHRpb25zLmRhdGEgfHwgbnVsbCApO1xuXHRcdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXHRcblx0XHRcdFx0XHRcdC8vICMxNDY4MzogT25seSByZXRocm93IGlmIHRoaXMgaGFzbid0IGJlZW4gbm90aWZpZWQgYXMgYW4gZXJyb3IgeWV0XG5cdFx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdGFib3J0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHRcblx0XG5cdFxuXHQvLyBQcmV2ZW50IGF1dG8tZXhlY3V0aW9uIG9mIHNjcmlwdHMgd2hlbiBubyBleHBsaWNpdCBkYXRhVHlwZSB3YXMgcHJvdmlkZWQgKFNlZSBnaC0yNDMyKVxuXHRqUXVlcnkuYWpheFByZWZpbHRlciggZnVuY3Rpb24oIHMgKSB7XG5cdFx0aWYgKCBzLmNyb3NzRG9tYWluICkge1xuXHRcdFx0cy5jb250ZW50cy5zY3JpcHQgPSBmYWxzZTtcblx0XHR9XG5cdH0gKTtcblx0XG5cdC8vIEluc3RhbGwgc2NyaXB0IGRhdGFUeXBlXG5cdGpRdWVyeS5hamF4U2V0dXAoIHtcblx0XHRhY2NlcHRzOiB7XG5cdFx0XHRzY3JpcHQ6IFwidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBcIiArXG5cdFx0XHRcdFwiYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0XCJcblx0XHR9LFxuXHRcdGNvbnRlbnRzOiB7XG5cdFx0XHRzY3JpcHQ6IC9cXGIoPzpqYXZhfGVjbWEpc2NyaXB0XFxiL1xuXHRcdH0sXG5cdFx0Y29udmVydGVyczoge1xuXHRcdFx0XCJ0ZXh0IHNjcmlwdFwiOiBmdW5jdGlvbiggdGV4dCApIHtcblx0XHRcdFx0alF1ZXJ5Lmdsb2JhbEV2YWwoIHRleHQgKTtcblx0XHRcdFx0cmV0dXJuIHRleHQ7XG5cdFx0XHR9XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHQvLyBIYW5kbGUgY2FjaGUncyBzcGVjaWFsIGNhc2UgYW5kIGNyb3NzRG9tYWluXG5cdGpRdWVyeS5hamF4UHJlZmlsdGVyKCBcInNjcmlwdFwiLCBmdW5jdGlvbiggcyApIHtcblx0XHRpZiAoIHMuY2FjaGUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHMuY2FjaGUgPSBmYWxzZTtcblx0XHR9XG5cdFx0aWYgKCBzLmNyb3NzRG9tYWluICkge1xuXHRcdFx0cy50eXBlID0gXCJHRVRcIjtcblx0XHR9XG5cdH0gKTtcblx0XG5cdC8vIEJpbmQgc2NyaXB0IHRhZyBoYWNrIHRyYW5zcG9ydFxuXHRqUXVlcnkuYWpheFRyYW5zcG9ydCggXCJzY3JpcHRcIiwgZnVuY3Rpb24oIHMgKSB7XG5cdFxuXHRcdC8vIFRoaXMgdHJhbnNwb3J0IG9ubHkgZGVhbHMgd2l0aCBjcm9zcyBkb21haW4gcmVxdWVzdHNcblx0XHRpZiAoIHMuY3Jvc3NEb21haW4gKSB7XG5cdFx0XHR2YXIgc2NyaXB0LCBjYWxsYmFjaztcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHNlbmQ6IGZ1bmN0aW9uKCBfLCBjb21wbGV0ZSApIHtcblx0XHRcdFx0XHRzY3JpcHQgPSBqUXVlcnkoIFwiPHNjcmlwdD5cIiApLnByb3AoIHtcblx0XHRcdFx0XHRcdGNoYXJzZXQ6IHMuc2NyaXB0Q2hhcnNldCxcblx0XHRcdFx0XHRcdHNyYzogcy51cmxcblx0XHRcdFx0XHR9ICkub24oXG5cdFx0XHRcdFx0XHRcImxvYWQgZXJyb3JcIixcblx0XHRcdFx0XHRcdGNhbGxiYWNrID0gZnVuY3Rpb24oIGV2dCApIHtcblx0XHRcdFx0XHRcdFx0c2NyaXB0LnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0XHRjYWxsYmFjayA9IG51bGw7XG5cdFx0XHRcdFx0XHRcdGlmICggZXZ0ICkge1xuXHRcdFx0XHRcdFx0XHRcdGNvbXBsZXRlKCBldnQudHlwZSA9PT0gXCJlcnJvclwiID8gNDA0IDogMjAwLCBldnQudHlwZSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0KTtcblx0XG5cdFx0XHRcdFx0Ly8gVXNlIG5hdGl2ZSBET00gbWFuaXB1bGF0aW9uIHRvIGF2b2lkIG91ciBkb21NYW5pcCBBSkFYIHRyaWNrZXJ5XG5cdFx0XHRcdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCggc2NyaXB0WyAwIF0gKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0YWJvcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9XG5cdH0gKTtcblx0XG5cdFxuXHRcblx0XG5cdHZhciBvbGRDYWxsYmFja3MgPSBbXSxcblx0XHRyanNvbnAgPSAvKD0pXFw/KD89JnwkKXxcXD9cXD8vO1xuXHRcblx0Ly8gRGVmYXVsdCBqc29ucCBzZXR0aW5nc1xuXHRqUXVlcnkuYWpheFNldHVwKCB7XG5cdFx0anNvbnA6IFwiY2FsbGJhY2tcIixcblx0XHRqc29ucENhbGxiYWNrOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBjYWxsYmFjayA9IG9sZENhbGxiYWNrcy5wb3AoKSB8fCAoIGpRdWVyeS5leHBhbmRvICsgXCJfXCIgKyAoIG5vbmNlKysgKSApO1xuXHRcdFx0dGhpc1sgY2FsbGJhY2sgXSA9IHRydWU7XG5cdFx0XHRyZXR1cm4gY2FsbGJhY2s7XG5cdFx0fVxuXHR9ICk7XG5cdFxuXHQvLyBEZXRlY3QsIG5vcm1hbGl6ZSBvcHRpb25zIGFuZCBpbnN0YWxsIGNhbGxiYWNrcyBmb3IganNvbnAgcmVxdWVzdHNcblx0alF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIFwianNvbiBqc29ucFwiLCBmdW5jdGlvbiggcywgb3JpZ2luYWxTZXR0aW5ncywganFYSFIgKSB7XG5cdFxuXHRcdHZhciBjYWxsYmFja05hbWUsIG92ZXJ3cml0dGVuLCByZXNwb25zZUNvbnRhaW5lcixcblx0XHRcdGpzb25Qcm9wID0gcy5qc29ucCAhPT0gZmFsc2UgJiYgKCByanNvbnAudGVzdCggcy51cmwgKSA/XG5cdFx0XHRcdFwidXJsXCIgOlxuXHRcdFx0XHR0eXBlb2Ygcy5kYXRhID09PSBcInN0cmluZ1wiICYmXG5cdFx0XHRcdFx0KCBzLmNvbnRlbnRUeXBlIHx8IFwiXCIgKVxuXHRcdFx0XHRcdFx0LmluZGV4T2YoIFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIgKSA9PT0gMCAmJlxuXHRcdFx0XHRcdHJqc29ucC50ZXN0KCBzLmRhdGEgKSAmJiBcImRhdGFcIlxuXHRcdFx0KTtcblx0XG5cdFx0Ly8gSGFuZGxlIGlmZiB0aGUgZXhwZWN0ZWQgZGF0YSB0eXBlIGlzIFwianNvbnBcIiBvciB3ZSBoYXZlIGEgcGFyYW1ldGVyIHRvIHNldFxuXHRcdGlmICgganNvblByb3AgfHwgcy5kYXRhVHlwZXNbIDAgXSA9PT0gXCJqc29ucFwiICkge1xuXHRcblx0XHRcdC8vIEdldCBjYWxsYmFjayBuYW1lLCByZW1lbWJlcmluZyBwcmVleGlzdGluZyB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggaXRcblx0XHRcdGNhbGxiYWNrTmFtZSA9IHMuanNvbnBDYWxsYmFjayA9IGpRdWVyeS5pc0Z1bmN0aW9uKCBzLmpzb25wQ2FsbGJhY2sgKSA/XG5cdFx0XHRcdHMuanNvbnBDYWxsYmFjaygpIDpcblx0XHRcdFx0cy5qc29ucENhbGxiYWNrO1xuXHRcblx0XHRcdC8vIEluc2VydCBjYWxsYmFjayBpbnRvIHVybCBvciBmb3JtIGRhdGFcblx0XHRcdGlmICgganNvblByb3AgKSB7XG5cdFx0XHRcdHNbIGpzb25Qcm9wIF0gPSBzWyBqc29uUHJvcCBdLnJlcGxhY2UoIHJqc29ucCwgXCIkMVwiICsgY2FsbGJhY2tOYW1lICk7XG5cdFx0XHR9IGVsc2UgaWYgKCBzLmpzb25wICE9PSBmYWxzZSApIHtcblx0XHRcdFx0cy51cmwgKz0gKCBycXVlcnkudGVzdCggcy51cmwgKSA/IFwiJlwiIDogXCI/XCIgKSArIHMuanNvbnAgKyBcIj1cIiArIGNhbGxiYWNrTmFtZTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBVc2UgZGF0YSBjb252ZXJ0ZXIgdG8gcmV0cmlldmUganNvbiBhZnRlciBzY3JpcHQgZXhlY3V0aW9uXG5cdFx0XHRzLmNvbnZlcnRlcnNbIFwic2NyaXB0IGpzb25cIiBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggIXJlc3BvbnNlQ29udGFpbmVyICkge1xuXHRcdFx0XHRcdGpRdWVyeS5lcnJvciggY2FsbGJhY2tOYW1lICsgXCIgd2FzIG5vdCBjYWxsZWRcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiByZXNwb25zZUNvbnRhaW5lclsgMCBdO1xuXHRcdFx0fTtcblx0XG5cdFx0XHQvLyBGb3JjZSBqc29uIGRhdGFUeXBlXG5cdFx0XHRzLmRhdGFUeXBlc1sgMCBdID0gXCJqc29uXCI7XG5cdFxuXHRcdFx0Ly8gSW5zdGFsbCBjYWxsYmFja1xuXHRcdFx0b3ZlcndyaXR0ZW4gPSB3aW5kb3dbIGNhbGxiYWNrTmFtZSBdO1xuXHRcdFx0d2luZG93WyBjYWxsYmFja05hbWUgXSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXNwb25zZUNvbnRhaW5lciA9IGFyZ3VtZW50cztcblx0XHRcdH07XG5cdFxuXHRcdFx0Ly8gQ2xlYW4tdXAgZnVuY3Rpb24gKGZpcmVzIGFmdGVyIGNvbnZlcnRlcnMpXG5cdFx0XHRqcVhIUi5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0Ly8gSWYgcHJldmlvdXMgdmFsdWUgZGlkbid0IGV4aXN0IC0gcmVtb3ZlIGl0XG5cdFx0XHRcdGlmICggb3ZlcndyaXR0ZW4gPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRqUXVlcnkoIHdpbmRvdyApLnJlbW92ZVByb3AoIGNhbGxiYWNrTmFtZSApO1xuXHRcblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIHJlc3RvcmUgcHJlZXhpc3RpbmcgdmFsdWVcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR3aW5kb3dbIGNhbGxiYWNrTmFtZSBdID0gb3ZlcndyaXR0ZW47XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFNhdmUgYmFjayBhcyBmcmVlXG5cdFx0XHRcdGlmICggc1sgY2FsbGJhY2tOYW1lIF0gKSB7XG5cdFxuXHRcdFx0XHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHJlLXVzaW5nIHRoZSBvcHRpb25zIGRvZXNuJ3Qgc2NyZXcgdGhpbmdzIGFyb3VuZFxuXHRcdFx0XHRcdHMuanNvbnBDYWxsYmFjayA9IG9yaWdpbmFsU2V0dGluZ3MuanNvbnBDYWxsYmFjaztcblx0XG5cdFx0XHRcdFx0Ly8gU2F2ZSB0aGUgY2FsbGJhY2sgbmFtZSBmb3IgZnV0dXJlIHVzZVxuXHRcdFx0XHRcdG9sZENhbGxiYWNrcy5wdXNoKCBjYWxsYmFja05hbWUgKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gQ2FsbCBpZiBpdCB3YXMgYSBmdW5jdGlvbiBhbmQgd2UgaGF2ZSBhIHJlc3BvbnNlXG5cdFx0XHRcdGlmICggcmVzcG9uc2VDb250YWluZXIgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oIG92ZXJ3cml0dGVuICkgKSB7XG5cdFx0XHRcdFx0b3ZlcndyaXR0ZW4oIHJlc3BvbnNlQ29udGFpbmVyWyAwIF0gKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0cmVzcG9uc2VDb250YWluZXIgPSBvdmVyd3JpdHRlbiA9IHVuZGVmaW5lZDtcblx0XHRcdH0gKTtcblx0XG5cdFx0XHQvLyBEZWxlZ2F0ZSB0byBzY3JpcHRcblx0XHRcdHJldHVybiBcInNjcmlwdFwiO1xuXHRcdH1cblx0fSApO1xuXHRcblx0XG5cdFxuXHRcblx0Ly8gU3VwcG9ydDogU2FmYXJpIDggb25seVxuXHQvLyBJbiBTYWZhcmkgOCBkb2N1bWVudHMgY3JlYXRlZCB2aWEgZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50XG5cdC8vIGNvbGxhcHNlIHNpYmxpbmcgZm9ybXM6IHRoZSBzZWNvbmQgb25lIGJlY29tZXMgYSBjaGlsZCBvZiB0aGUgZmlyc3Qgb25lLlxuXHQvLyBCZWNhdXNlIG9mIHRoYXQsIHRoaXMgc2VjdXJpdHkgbWVhc3VyZSBoYXMgdG8gYmUgZGlzYWJsZWQgaW4gU2FmYXJpIDguXG5cdC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzczMzdcblx0c3VwcG9ydC5jcmVhdGVIVE1MRG9jdW1lbnQgPSAoIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBib2R5ID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCBcIlwiICkuYm9keTtcblx0XHRib2R5LmlubmVySFRNTCA9IFwiPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT5cIjtcblx0XHRyZXR1cm4gYm9keS5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMjtcblx0fSApKCk7XG5cdFxuXHRcblx0Ly8gQXJndW1lbnQgXCJkYXRhXCIgc2hvdWxkIGJlIHN0cmluZyBvZiBodG1sXG5cdC8vIGNvbnRleHQgKG9wdGlvbmFsKTogSWYgc3BlY2lmaWVkLCB0aGUgZnJhZ21lbnQgd2lsbCBiZSBjcmVhdGVkIGluIHRoaXMgY29udGV4dCxcblx0Ly8gZGVmYXVsdHMgdG8gZG9jdW1lbnRcblx0Ly8ga2VlcFNjcmlwdHMgKG9wdGlvbmFsKTogSWYgdHJ1ZSwgd2lsbCBpbmNsdWRlIHNjcmlwdHMgcGFzc2VkIGluIHRoZSBodG1sIHN0cmluZ1xuXHRqUXVlcnkucGFyc2VIVE1MID0gZnVuY3Rpb24oIGRhdGEsIGNvbnRleHQsIGtlZXBTY3JpcHRzICkge1xuXHRcdGlmICggdHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gW107XG5cdFx0fVxuXHRcdGlmICggdHlwZW9mIGNvbnRleHQgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdFx0a2VlcFNjcmlwdHMgPSBjb250ZXh0O1xuXHRcdFx0Y29udGV4dCA9IGZhbHNlO1xuXHRcdH1cblx0XG5cdFx0dmFyIGJhc2UsIHBhcnNlZCwgc2NyaXB0cztcblx0XG5cdFx0aWYgKCAhY29udGV4dCApIHtcblx0XG5cdFx0XHQvLyBTdG9wIHNjcmlwdHMgb3IgaW5saW5lIGV2ZW50IGhhbmRsZXJzIGZyb20gYmVpbmcgZXhlY3V0ZWQgaW1tZWRpYXRlbHlcblx0XHRcdC8vIGJ5IHVzaW5nIGRvY3VtZW50LmltcGxlbWVudGF0aW9uXG5cdFx0XHRpZiAoIHN1cHBvcnQuY3JlYXRlSFRNTERvY3VtZW50ICkge1xuXHRcdFx0XHRjb250ZXh0ID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCBcIlwiICk7XG5cdFxuXHRcdFx0XHQvLyBTZXQgdGhlIGJhc2UgaHJlZiBmb3IgdGhlIGNyZWF0ZWQgZG9jdW1lbnRcblx0XHRcdFx0Ly8gc28gYW55IHBhcnNlZCBlbGVtZW50cyB3aXRoIFVSTHNcblx0XHRcdFx0Ly8gYXJlIGJhc2VkIG9uIHRoZSBkb2N1bWVudCdzIFVSTCAoZ2gtMjk2NSlcblx0XHRcdFx0YmFzZSA9IGNvbnRleHQuY3JlYXRlRWxlbWVudCggXCJiYXNlXCIgKTtcblx0XHRcdFx0YmFzZS5ocmVmID0gZG9jdW1lbnQubG9jYXRpb24uaHJlZjtcblx0XHRcdFx0Y29udGV4dC5oZWFkLmFwcGVuZENoaWxkKCBiYXNlICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb250ZXh0ID0gZG9jdW1lbnQ7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRwYXJzZWQgPSByc2luZ2xlVGFnLmV4ZWMoIGRhdGEgKTtcblx0XHRzY3JpcHRzID0gIWtlZXBTY3JpcHRzICYmIFtdO1xuXHRcblx0XHQvLyBTaW5nbGUgdGFnXG5cdFx0aWYgKCBwYXJzZWQgKSB7XG5cdFx0XHRyZXR1cm4gWyBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoIHBhcnNlZFsgMSBdICkgXTtcblx0XHR9XG5cdFxuXHRcdHBhcnNlZCA9IGJ1aWxkRnJhZ21lbnQoIFsgZGF0YSBdLCBjb250ZXh0LCBzY3JpcHRzICk7XG5cdFxuXHRcdGlmICggc2NyaXB0cyAmJiBzY3JpcHRzLmxlbmd0aCApIHtcblx0XHRcdGpRdWVyeSggc2NyaXB0cyApLnJlbW92ZSgpO1xuXHRcdH1cblx0XG5cdFx0cmV0dXJuIGpRdWVyeS5tZXJnZSggW10sIHBhcnNlZC5jaGlsZE5vZGVzICk7XG5cdH07XG5cdFxuXHRcblx0LyoqXG5cdCAqIExvYWQgYSB1cmwgaW50byBhIHBhZ2Vcblx0ICovXG5cdGpRdWVyeS5mbi5sb2FkID0gZnVuY3Rpb24oIHVybCwgcGFyYW1zLCBjYWxsYmFjayApIHtcblx0XHR2YXIgc2VsZWN0b3IsIHR5cGUsIHJlc3BvbnNlLFxuXHRcdFx0c2VsZiA9IHRoaXMsXG5cdFx0XHRvZmYgPSB1cmwuaW5kZXhPZiggXCIgXCIgKTtcblx0XG5cdFx0aWYgKCBvZmYgPiAtMSApIHtcblx0XHRcdHNlbGVjdG9yID0galF1ZXJ5LnRyaW0oIHVybC5zbGljZSggb2ZmICkgKTtcblx0XHRcdHVybCA9IHVybC5zbGljZSggMCwgb2ZmICk7XG5cdFx0fVxuXHRcblx0XHQvLyBJZiBpdCdzIGEgZnVuY3Rpb25cblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBwYXJhbXMgKSApIHtcblx0XG5cdFx0XHQvLyBXZSBhc3N1bWUgdGhhdCBpdCdzIHRoZSBjYWxsYmFja1xuXHRcdFx0Y2FsbGJhY2sgPSBwYXJhbXM7XG5cdFx0XHRwYXJhbXMgPSB1bmRlZmluZWQ7XG5cdFxuXHRcdC8vIE90aGVyd2lzZSwgYnVpbGQgYSBwYXJhbSBzdHJpbmdcblx0XHR9IGVsc2UgaWYgKCBwYXJhbXMgJiYgdHlwZW9mIHBhcmFtcyA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRcdHR5cGUgPSBcIlBPU1RcIjtcblx0XHR9XG5cdFxuXHRcdC8vIElmIHdlIGhhdmUgZWxlbWVudHMgdG8gbW9kaWZ5LCBtYWtlIHRoZSByZXF1ZXN0XG5cdFx0aWYgKCBzZWxmLmxlbmd0aCA+IDAgKSB7XG5cdFx0XHRqUXVlcnkuYWpheCgge1xuXHRcdFx0XHR1cmw6IHVybCxcblx0XG5cdFx0XHRcdC8vIElmIFwidHlwZVwiIHZhcmlhYmxlIGlzIHVuZGVmaW5lZCwgdGhlbiBcIkdFVFwiIG1ldGhvZCB3aWxsIGJlIHVzZWQuXG5cdFx0XHRcdC8vIE1ha2UgdmFsdWUgb2YgdGhpcyBmaWVsZCBleHBsaWNpdCBzaW5jZVxuXHRcdFx0XHQvLyB1c2VyIGNhbiBvdmVycmlkZSBpdCB0aHJvdWdoIGFqYXhTZXR1cCBtZXRob2Rcblx0XHRcdFx0dHlwZTogdHlwZSB8fCBcIkdFVFwiLFxuXHRcdFx0XHRkYXRhVHlwZTogXCJodG1sXCIsXG5cdFx0XHRcdGRhdGE6IHBhcmFtc1xuXHRcdFx0fSApLmRvbmUoIGZ1bmN0aW9uKCByZXNwb25zZVRleHQgKSB7XG5cdFxuXHRcdFx0XHQvLyBTYXZlIHJlc3BvbnNlIGZvciB1c2UgaW4gY29tcGxldGUgY2FsbGJhY2tcblx0XHRcdFx0cmVzcG9uc2UgPSBhcmd1bWVudHM7XG5cdFxuXHRcdFx0XHRzZWxmLmh0bWwoIHNlbGVjdG9yID9cblx0XG5cdFx0XHRcdFx0Ly8gSWYgYSBzZWxlY3RvciB3YXMgc3BlY2lmaWVkLCBsb2NhdGUgdGhlIHJpZ2h0IGVsZW1lbnRzIGluIGEgZHVtbXkgZGl2XG5cdFx0XHRcdFx0Ly8gRXhjbHVkZSBzY3JpcHRzIHRvIGF2b2lkIElFICdQZXJtaXNzaW9uIERlbmllZCcgZXJyb3JzXG5cdFx0XHRcdFx0alF1ZXJ5KCBcIjxkaXY+XCIgKS5hcHBlbmQoIGpRdWVyeS5wYXJzZUhUTUwoIHJlc3BvbnNlVGV4dCApICkuZmluZCggc2VsZWN0b3IgKSA6XG5cdFxuXHRcdFx0XHRcdC8vIE90aGVyd2lzZSB1c2UgdGhlIGZ1bGwgcmVzdWx0XG5cdFx0XHRcdFx0cmVzcG9uc2VUZXh0ICk7XG5cdFxuXHRcdFx0Ly8gSWYgdGhlIHJlcXVlc3Qgc3VjY2VlZHMsIHRoaXMgZnVuY3Rpb24gZ2V0cyBcImRhdGFcIiwgXCJzdGF0dXNcIiwgXCJqcVhIUlwiXG5cdFx0XHQvLyBidXQgdGhleSBhcmUgaWdub3JlZCBiZWNhdXNlIHJlc3BvbnNlIHdhcyBzZXQgYWJvdmUuXG5cdFx0XHQvLyBJZiBpdCBmYWlscywgdGhpcyBmdW5jdGlvbiBnZXRzIFwianFYSFJcIiwgXCJzdGF0dXNcIiwgXCJlcnJvclwiXG5cdFx0XHR9ICkuYWx3YXlzKCBjYWxsYmFjayAmJiBmdW5jdGlvbigganFYSFIsIHN0YXR1cyApIHtcblx0XHRcdFx0c2VsZi5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRjYWxsYmFjay5hcHBseSggdGhpcywgcmVzcG9uc2UgfHwgWyBqcVhIUi5yZXNwb25zZVRleHQsIHN0YXR1cywganFYSFIgXSApO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblx0XG5cdFxuXHRcblx0XG5cdC8vIEF0dGFjaCBhIGJ1bmNoIG9mIGZ1bmN0aW9ucyBmb3IgaGFuZGxpbmcgY29tbW9uIEFKQVggZXZlbnRzXG5cdGpRdWVyeS5lYWNoKCBbXG5cdFx0XCJhamF4U3RhcnRcIixcblx0XHRcImFqYXhTdG9wXCIsXG5cdFx0XCJhamF4Q29tcGxldGVcIixcblx0XHRcImFqYXhFcnJvclwiLFxuXHRcdFwiYWpheFN1Y2Nlc3NcIixcblx0XHRcImFqYXhTZW5kXCJcblx0XSwgZnVuY3Rpb24oIGksIHR5cGUgKSB7XG5cdFx0alF1ZXJ5LmZuWyB0eXBlIF0gPSBmdW5jdGlvbiggZm4gKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5vbiggdHlwZSwgZm4gKTtcblx0XHR9O1xuXHR9ICk7XG5cdFxuXHRcblx0XG5cdFxuXHRqUXVlcnkuZXhwci5wc2V1ZG9zLmFuaW1hdGVkID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5ncmVwKCBqUXVlcnkudGltZXJzLCBmdW5jdGlvbiggZm4gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbSA9PT0gZm4uZWxlbTtcblx0XHR9ICkubGVuZ3RoO1xuXHR9O1xuXHRcblx0XG5cdFxuXHRcblx0LyoqXG5cdCAqIEdldHMgYSB3aW5kb3cgZnJvbSBhbiBlbGVtZW50XG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRXaW5kb3coIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5pc1dpbmRvdyggZWxlbSApID8gZWxlbSA6IGVsZW0ubm9kZVR5cGUgPT09IDkgJiYgZWxlbS5kZWZhdWx0Vmlldztcblx0fVxuXHRcblx0alF1ZXJ5Lm9mZnNldCA9IHtcblx0XHRzZXRPZmZzZXQ6IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBpICkge1xuXHRcdFx0dmFyIGN1clBvc2l0aW9uLCBjdXJMZWZ0LCBjdXJDU1NUb3AsIGN1clRvcCwgY3VyT2Zmc2V0LCBjdXJDU1NMZWZ0LCBjYWxjdWxhdGVQb3NpdGlvbixcblx0XHRcdFx0cG9zaXRpb24gPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBvc2l0aW9uXCIgKSxcblx0XHRcdFx0Y3VyRWxlbSA9IGpRdWVyeSggZWxlbSApLFxuXHRcdFx0XHRwcm9wcyA9IHt9O1xuXHRcblx0XHRcdC8vIFNldCBwb3NpdGlvbiBmaXJzdCwgaW4tY2FzZSB0b3AvbGVmdCBhcmUgc2V0IGV2ZW4gb24gc3RhdGljIGVsZW1cblx0XHRcdGlmICggcG9zaXRpb24gPT09IFwic3RhdGljXCIgKSB7XG5cdFx0XHRcdGVsZW0uc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Y3VyT2Zmc2V0ID0gY3VyRWxlbS5vZmZzZXQoKTtcblx0XHRcdGN1ckNTU1RvcCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwidG9wXCIgKTtcblx0XHRcdGN1ckNTU0xlZnQgPSBqUXVlcnkuY3NzKCBlbGVtLCBcImxlZnRcIiApO1xuXHRcdFx0Y2FsY3VsYXRlUG9zaXRpb24gPSAoIHBvc2l0aW9uID09PSBcImFic29sdXRlXCIgfHwgcG9zaXRpb24gPT09IFwiZml4ZWRcIiApICYmXG5cdFx0XHRcdCggY3VyQ1NTVG9wICsgY3VyQ1NTTGVmdCApLmluZGV4T2YoIFwiYXV0b1wiICkgPiAtMTtcblx0XG5cdFx0XHQvLyBOZWVkIHRvIGJlIGFibGUgdG8gY2FsY3VsYXRlIHBvc2l0aW9uIGlmIGVpdGhlclxuXHRcdFx0Ly8gdG9wIG9yIGxlZnQgaXMgYXV0byBhbmQgcG9zaXRpb24gaXMgZWl0aGVyIGFic29sdXRlIG9yIGZpeGVkXG5cdFx0XHRpZiAoIGNhbGN1bGF0ZVBvc2l0aW9uICkge1xuXHRcdFx0XHRjdXJQb3NpdGlvbiA9IGN1ckVsZW0ucG9zaXRpb24oKTtcblx0XHRcdFx0Y3VyVG9wID0gY3VyUG9zaXRpb24udG9wO1xuXHRcdFx0XHRjdXJMZWZ0ID0gY3VyUG9zaXRpb24ubGVmdDtcblx0XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjdXJUb3AgPSBwYXJzZUZsb2F0KCBjdXJDU1NUb3AgKSB8fCAwO1xuXHRcdFx0XHRjdXJMZWZ0ID0gcGFyc2VGbG9hdCggY3VyQ1NTTGVmdCApIHx8IDA7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggb3B0aW9ucyApICkge1xuXHRcblx0XHRcdFx0Ly8gVXNlIGpRdWVyeS5leHRlbmQgaGVyZSB0byBhbGxvdyBtb2RpZmljYXRpb24gb2YgY29vcmRpbmF0ZXMgYXJndW1lbnQgKGdoLTE4NDgpXG5cdFx0XHRcdG9wdGlvbnMgPSBvcHRpb25zLmNhbGwoIGVsZW0sIGksIGpRdWVyeS5leHRlbmQoIHt9LCBjdXJPZmZzZXQgKSApO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggb3B0aW9ucy50b3AgIT0gbnVsbCApIHtcblx0XHRcdFx0cHJvcHMudG9wID0gKCBvcHRpb25zLnRvcCAtIGN1ck9mZnNldC50b3AgKSArIGN1clRvcDtcblx0XHRcdH1cblx0XHRcdGlmICggb3B0aW9ucy5sZWZ0ICE9IG51bGwgKSB7XG5cdFx0XHRcdHByb3BzLmxlZnQgPSAoIG9wdGlvbnMubGVmdCAtIGN1ck9mZnNldC5sZWZ0ICkgKyBjdXJMZWZ0O1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggXCJ1c2luZ1wiIGluIG9wdGlvbnMgKSB7XG5cdFx0XHRcdG9wdGlvbnMudXNpbmcuY2FsbCggZWxlbSwgcHJvcHMgKTtcblx0XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjdXJFbGVtLmNzcyggcHJvcHMgKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdFxuXHRqUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdFx0b2Zmc2V0OiBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0XG5cdFx0XHQvLyBQcmVzZXJ2ZSBjaGFpbmluZyBmb3Igc2V0dGVyXG5cdFx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHRcdHJldHVybiBvcHRpb25zID09PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRcdHRoaXMgOlxuXHRcdFx0XHRcdHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkub2Zmc2V0LnNldE9mZnNldCggdGhpcywgb3B0aW9ucywgaSApO1xuXHRcdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XG5cdFx0XHR2YXIgZG9jRWxlbSwgd2luLCByZWN0LCBkb2MsXG5cdFx0XHRcdGVsZW0gPSB0aGlzWyAwIF07XG5cdFxuXHRcdFx0aWYgKCAhZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuXHRcdFx0Ly8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYVxuXHRcdFx0Ly8gZGlzY29ubmVjdGVkIG5vZGUgaW4gSUUgdGhyb3dzIGFuIGVycm9yXG5cdFx0XHRpZiAoICFlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoICkge1xuXHRcdFx0XHRyZXR1cm4geyB0b3A6IDAsIGxlZnQ6IDAgfTtcblx0XHRcdH1cblx0XG5cdFx0XHRyZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XG5cdFx0XHQvLyBNYWtlIHN1cmUgZWxlbWVudCBpcyBub3QgaGlkZGVuIChkaXNwbGF5OiBub25lKVxuXHRcdFx0aWYgKCByZWN0LndpZHRoIHx8IHJlY3QuaGVpZ2h0ICkge1xuXHRcdFx0XHRkb2MgPSBlbGVtLm93bmVyRG9jdW1lbnQ7XG5cdFx0XHRcdHdpbiA9IGdldFdpbmRvdyggZG9jICk7XG5cdFx0XHRcdGRvY0VsZW0gPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuXHRcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHR0b3A6IHJlY3QudG9wICsgd2luLnBhZ2VZT2Zmc2V0IC0gZG9jRWxlbS5jbGllbnRUb3AsXG5cdFx0XHRcdFx0bGVmdDogcmVjdC5sZWZ0ICsgd2luLnBhZ2VYT2Zmc2V0IC0gZG9jRWxlbS5jbGllbnRMZWZ0XG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gUmV0dXJuIHplcm9zIGZvciBkaXNjb25uZWN0ZWQgYW5kIGhpZGRlbiBlbGVtZW50cyAoZ2gtMjMxMClcblx0XHRcdHJldHVybiByZWN0O1xuXHRcdH0sXG5cdFxuXHRcdHBvc2l0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggIXRoaXNbIDAgXSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdHZhciBvZmZzZXRQYXJlbnQsIG9mZnNldCxcblx0XHRcdFx0ZWxlbSA9IHRoaXNbIDAgXSxcblx0XHRcdFx0cGFyZW50T2Zmc2V0ID0geyB0b3A6IDAsIGxlZnQ6IDAgfTtcblx0XG5cdFx0XHQvLyBGaXhlZCBlbGVtZW50cyBhcmUgb2Zmc2V0IGZyb20gd2luZG93IChwYXJlbnRPZmZzZXQgPSB7dG9wOjAsIGxlZnQ6IDB9LFxuXHRcdFx0Ly8gYmVjYXVzZSBpdCBpcyBpdHMgb25seSBvZmZzZXQgcGFyZW50XG5cdFx0XHRpZiAoIGpRdWVyeS5jc3MoIGVsZW0sIFwicG9zaXRpb25cIiApID09PSBcImZpeGVkXCIgKSB7XG5cdFxuXHRcdFx0XHQvLyBBc3N1bWUgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGlzIHRoZXJlIHdoZW4gY29tcHV0ZWQgcG9zaXRpb24gaXMgZml4ZWRcblx0XHRcdFx0b2Zmc2V0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XG5cdFx0XHR9IGVsc2Uge1xuXHRcblx0XHRcdFx0Ly8gR2V0ICpyZWFsKiBvZmZzZXRQYXJlbnRcblx0XHRcdFx0b2Zmc2V0UGFyZW50ID0gdGhpcy5vZmZzZXRQYXJlbnQoKTtcblx0XG5cdFx0XHRcdC8vIEdldCBjb3JyZWN0IG9mZnNldHNcblx0XHRcdFx0b2Zmc2V0ID0gdGhpcy5vZmZzZXQoKTtcblx0XHRcdFx0aWYgKCAhalF1ZXJ5Lm5vZGVOYW1lKCBvZmZzZXRQYXJlbnRbIDAgXSwgXCJodG1sXCIgKSApIHtcblx0XHRcdFx0XHRwYXJlbnRPZmZzZXQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0KCk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIEFkZCBvZmZzZXRQYXJlbnQgYm9yZGVyc1xuXHRcdFx0XHRwYXJlbnRPZmZzZXQgPSB7XG5cdFx0XHRcdFx0dG9wOiBwYXJlbnRPZmZzZXQudG9wICsgalF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50WyAwIF0sIFwiYm9yZGVyVG9wV2lkdGhcIiwgdHJ1ZSApLFxuXHRcdFx0XHRcdGxlZnQ6IHBhcmVudE9mZnNldC5sZWZ0ICsgalF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50WyAwIF0sIFwiYm9yZGVyTGVmdFdpZHRoXCIsIHRydWUgKVxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIFN1YnRyYWN0IHBhcmVudCBvZmZzZXRzIGFuZCBlbGVtZW50IG1hcmdpbnNcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHRvcDogb2Zmc2V0LnRvcCAtIHBhcmVudE9mZnNldC50b3AgLSBqUXVlcnkuY3NzKCBlbGVtLCBcIm1hcmdpblRvcFwiLCB0cnVlICksXG5cdFx0XHRcdGxlZnQ6IG9mZnNldC5sZWZ0IC0gcGFyZW50T2Zmc2V0LmxlZnQgLSBqUXVlcnkuY3NzKCBlbGVtLCBcIm1hcmdpbkxlZnRcIiwgdHJ1ZSApXG5cdFx0XHR9O1xuXHRcdH0sXG5cdFxuXHRcdC8vIFRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIGRvY3VtZW50RWxlbWVudCBpbiB0aGUgZm9sbG93aW5nIGNhc2VzOlxuXHRcdC8vIDEpIEZvciB0aGUgZWxlbWVudCBpbnNpZGUgdGhlIGlmcmFtZSB3aXRob3V0IG9mZnNldFBhcmVudCwgdGhpcyBtZXRob2Qgd2lsbCByZXR1cm5cblx0XHQvLyAgICBkb2N1bWVudEVsZW1lbnQgb2YgdGhlIHBhcmVudCB3aW5kb3dcblx0XHQvLyAyKSBGb3IgdGhlIGhpZGRlbiBvciBkZXRhY2hlZCBlbGVtZW50XG5cdFx0Ly8gMykgRm9yIGJvZHkgb3IgaHRtbCBlbGVtZW50LCBpLmUuIGluIGNhc2Ugb2YgdGhlIGh0bWwgbm9kZSAtIGl0IHdpbGwgcmV0dXJuIGl0c2VsZlxuXHRcdC8vXG5cdFx0Ly8gYnV0IHRob3NlIGV4Y2VwdGlvbnMgd2VyZSBuZXZlciBwcmVzZW50ZWQgYXMgYSByZWFsIGxpZmUgdXNlLWNhc2VzXG5cdFx0Ly8gYW5kIG1pZ2h0IGJlIGNvbnNpZGVyZWQgYXMgbW9yZSBwcmVmZXJhYmxlIHJlc3VsdHMuXG5cdFx0Ly9cblx0XHQvLyBUaGlzIGxvZ2ljLCBob3dldmVyLCBpcyBub3QgZ3VhcmFudGVlZCBhbmQgY2FuIGNoYW5nZSBhdCBhbnkgcG9pbnQgaW4gdGhlIGZ1dHVyZVxuXHRcdG9mZnNldFBhcmVudDogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgb2Zmc2V0UGFyZW50ID0gdGhpcy5vZmZzZXRQYXJlbnQ7XG5cdFxuXHRcdFx0XHR3aGlsZSAoIG9mZnNldFBhcmVudCAmJiBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnQsIFwicG9zaXRpb25cIiApID09PSBcInN0YXRpY1wiICkge1xuXHRcdFx0XHRcdG9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHJldHVybiBvZmZzZXRQYXJlbnQgfHwgZG9jdW1lbnRFbGVtZW50O1xuXHRcdFx0fSApO1xuXHRcdH1cblx0fSApO1xuXHRcblx0Ly8gQ3JlYXRlIHNjcm9sbExlZnQgYW5kIHNjcm9sbFRvcCBtZXRob2RzXG5cdGpRdWVyeS5lYWNoKCB7IHNjcm9sbExlZnQ6IFwicGFnZVhPZmZzZXRcIiwgc2Nyb2xsVG9wOiBcInBhZ2VZT2Zmc2V0XCIgfSwgZnVuY3Rpb24oIG1ldGhvZCwgcHJvcCApIHtcblx0XHR2YXIgdG9wID0gXCJwYWdlWU9mZnNldFwiID09PSBwcm9wO1xuXHRcblx0XHRqUXVlcnkuZm5bIG1ldGhvZCBdID0gZnVuY3Rpb24oIHZhbCApIHtcblx0XHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBtZXRob2QsIHZhbCApIHtcblx0XHRcdFx0dmFyIHdpbiA9IGdldFdpbmRvdyggZWxlbSApO1xuXHRcblx0XHRcdFx0aWYgKCB2YWwgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gd2luID8gd2luWyBwcm9wIF0gOiBlbGVtWyBtZXRob2QgXTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0aWYgKCB3aW4gKSB7XG5cdFx0XHRcdFx0d2luLnNjcm9sbFRvKFxuXHRcdFx0XHRcdFx0IXRvcCA/IHZhbCA6IHdpbi5wYWdlWE9mZnNldCxcblx0XHRcdFx0XHRcdHRvcCA/IHZhbCA6IHdpbi5wYWdlWU9mZnNldFxuXHRcdFx0XHRcdCk7XG5cdFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGVsZW1bIG1ldGhvZCBdID0gdmFsO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBtZXRob2QsIHZhbCwgYXJndW1lbnRzLmxlbmd0aCApO1xuXHRcdH07XG5cdH0gKTtcblx0XG5cdC8vIFN1cHBvcnQ6IFNhZmFyaSA8PTcgLSA5LjEsIENocm9tZSA8PTM3IC0gNDlcblx0Ly8gQWRkIHRoZSB0b3AvbGVmdCBjc3NIb29rcyB1c2luZyBqUXVlcnkuZm4ucG9zaXRpb25cblx0Ly8gV2Via2l0IGJ1ZzogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTI5MDg0XG5cdC8vIEJsaW5rIGJ1ZzogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NTg5MzQ3XG5cdC8vIGdldENvbXB1dGVkU3R5bGUgcmV0dXJucyBwZXJjZW50IHdoZW4gc3BlY2lmaWVkIGZvciB0b3AvbGVmdC9ib3R0b20vcmlnaHQ7XG5cdC8vIHJhdGhlciB0aGFuIG1ha2UgdGhlIGNzcyBtb2R1bGUgZGVwZW5kIG9uIHRoZSBvZmZzZXQgbW9kdWxlLCBqdXN0IGNoZWNrIGZvciBpdCBoZXJlXG5cdGpRdWVyeS5lYWNoKCBbIFwidG9wXCIsIFwibGVmdFwiIF0sIGZ1bmN0aW9uKCBpLCBwcm9wICkge1xuXHRcdGpRdWVyeS5jc3NIb29rc1sgcHJvcCBdID0gYWRkR2V0SG9va0lmKCBzdXBwb3J0LnBpeGVsUG9zaXRpb24sXG5cdFx0XHRmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7XG5cdFx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cdFx0XHRcdFx0Y29tcHV0ZWQgPSBjdXJDU1MoIGVsZW0sIHByb3AgKTtcblx0XG5cdFx0XHRcdFx0Ly8gSWYgY3VyQ1NTIHJldHVybnMgcGVyY2VudGFnZSwgZmFsbGJhY2sgdG8gb2Zmc2V0XG5cdFx0XHRcdFx0cmV0dXJuIHJudW1ub25weC50ZXN0KCBjb21wdXRlZCApID9cblx0XHRcdFx0XHRcdGpRdWVyeSggZWxlbSApLnBvc2l0aW9uKClbIHByb3AgXSArIFwicHhcIiA6XG5cdFx0XHRcdFx0XHRjb21wdXRlZDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdCk7XG5cdH0gKTtcblx0XG5cdFxuXHQvLyBDcmVhdGUgaW5uZXJIZWlnaHQsIGlubmVyV2lkdGgsIGhlaWdodCwgd2lkdGgsIG91dGVySGVpZ2h0IGFuZCBvdXRlcldpZHRoIG1ldGhvZHNcblx0alF1ZXJ5LmVhY2goIHsgSGVpZ2h0OiBcImhlaWdodFwiLCBXaWR0aDogXCJ3aWR0aFwiIH0sIGZ1bmN0aW9uKCBuYW1lLCB0eXBlICkge1xuXHRcdGpRdWVyeS5lYWNoKCB7IHBhZGRpbmc6IFwiaW5uZXJcIiArIG5hbWUsIGNvbnRlbnQ6IHR5cGUsIFwiXCI6IFwib3V0ZXJcIiArIG5hbWUgfSxcblx0XHRcdGZ1bmN0aW9uKCBkZWZhdWx0RXh0cmEsIGZ1bmNOYW1lICkge1xuXHRcblx0XHRcdC8vIE1hcmdpbiBpcyBvbmx5IGZvciBvdXRlckhlaWdodCwgb3V0ZXJXaWR0aFxuXHRcdFx0alF1ZXJ5LmZuWyBmdW5jTmFtZSBdID0gZnVuY3Rpb24oIG1hcmdpbiwgdmFsdWUgKSB7XG5cdFx0XHRcdHZhciBjaGFpbmFibGUgPSBhcmd1bWVudHMubGVuZ3RoICYmICggZGVmYXVsdEV4dHJhIHx8IHR5cGVvZiBtYXJnaW4gIT09IFwiYm9vbGVhblwiICksXG5cdFx0XHRcdFx0ZXh0cmEgPSBkZWZhdWx0RXh0cmEgfHwgKCBtYXJnaW4gPT09IHRydWUgfHwgdmFsdWUgPT09IHRydWUgPyBcIm1hcmdpblwiIDogXCJib3JkZXJcIiApO1xuXHRcblx0XHRcdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIHR5cGUsIHZhbHVlICkge1xuXHRcdFx0XHRcdHZhciBkb2M7XG5cdFxuXHRcdFx0XHRcdGlmICggalF1ZXJ5LmlzV2luZG93KCBlbGVtICkgKSB7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gJCggd2luZG93ICkub3V0ZXJXaWR0aC9IZWlnaHQgcmV0dXJuIHcvaCBpbmNsdWRpbmcgc2Nyb2xsYmFycyAoZ2gtMTcyOSlcblx0XHRcdFx0XHRcdHJldHVybiBmdW5jTmFtZS5pbmRleE9mKCBcIm91dGVyXCIgKSA9PT0gMCA/XG5cdFx0XHRcdFx0XHRcdGVsZW1bIFwiaW5uZXJcIiArIG5hbWUgXSA6XG5cdFx0XHRcdFx0XHRcdGVsZW0uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyBcImNsaWVudFwiICsgbmFtZSBdO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gR2V0IGRvY3VtZW50IHdpZHRoIG9yIGhlaWdodFxuXHRcdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0XHRcdGRvYyA9IGVsZW0uZG9jdW1lbnRFbGVtZW50O1xuXHRcblx0XHRcdFx0XHRcdC8vIEVpdGhlciBzY3JvbGxbV2lkdGgvSGVpZ2h0XSBvciBvZmZzZXRbV2lkdGgvSGVpZ2h0XSBvciBjbGllbnRbV2lkdGgvSGVpZ2h0XSxcblx0XHRcdFx0XHRcdC8vIHdoaWNoZXZlciBpcyBncmVhdGVzdFxuXHRcdFx0XHRcdFx0cmV0dXJuIE1hdGgubWF4KFxuXHRcdFx0XHRcdFx0XHRlbGVtLmJvZHlbIFwic2Nyb2xsXCIgKyBuYW1lIF0sIGRvY1sgXCJzY3JvbGxcIiArIG5hbWUgXSxcblx0XHRcdFx0XHRcdFx0ZWxlbS5ib2R5WyBcIm9mZnNldFwiICsgbmFtZSBdLCBkb2NbIFwib2Zmc2V0XCIgKyBuYW1lIF0sXG5cdFx0XHRcdFx0XHRcdGRvY1sgXCJjbGllbnRcIiArIG5hbWUgXVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID9cblx0XG5cdFx0XHRcdFx0XHQvLyBHZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50LCByZXF1ZXN0aW5nIGJ1dCBub3QgZm9yY2luZyBwYXJzZUZsb2F0XG5cdFx0XHRcdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCB0eXBlLCBleHRyYSApIDpcblx0XG5cdFx0XHRcdFx0XHQvLyBTZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50XG5cdFx0XHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIHR5cGUsIHZhbHVlLCBleHRyYSApO1xuXHRcdFx0XHR9LCB0eXBlLCBjaGFpbmFibGUgPyBtYXJnaW4gOiB1bmRlZmluZWQsIGNoYWluYWJsZSApO1xuXHRcdFx0fTtcblx0XHR9ICk7XG5cdH0gKTtcblx0XG5cdFxuXHRqUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdFxuXHRcdGJpbmQ6IGZ1bmN0aW9uKCB0eXBlcywgZGF0YSwgZm4gKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5vbiggdHlwZXMsIG51bGwsIGRhdGEsIGZuICk7XG5cdFx0fSxcblx0XHR1bmJpbmQ6IGZ1bmN0aW9uKCB0eXBlcywgZm4gKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5vZmYoIHR5cGVzLCBudWxsLCBmbiApO1xuXHRcdH0sXG5cdFxuXHRcdGRlbGVnYXRlOiBmdW5jdGlvbiggc2VsZWN0b3IsIHR5cGVzLCBkYXRhLCBmbiApIHtcblx0XHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICk7XG5cdFx0fSxcblx0XHR1bmRlbGVnYXRlOiBmdW5jdGlvbiggc2VsZWN0b3IsIHR5cGVzLCBmbiApIHtcblx0XG5cdFx0XHQvLyAoIG5hbWVzcGFjZSApIG9yICggc2VsZWN0b3IsIHR5cGVzIFssIGZuXSApXG5cdFx0XHRyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/XG5cdFx0XHRcdHRoaXMub2ZmKCBzZWxlY3RvciwgXCIqKlwiICkgOlxuXHRcdFx0XHR0aGlzLm9mZiggdHlwZXMsIHNlbGVjdG9yIHx8IFwiKipcIiwgZm4gKTtcblx0XHR9XG5cdH0gKTtcblx0XG5cdGpRdWVyeS5wYXJzZUpTT04gPSBKU09OLnBhcnNlO1xuXHRcblx0XG5cdFxuXHRcblx0Ly8gUmVnaXN0ZXIgYXMgYSBuYW1lZCBBTUQgbW9kdWxlLCBzaW5jZSBqUXVlcnkgY2FuIGJlIGNvbmNhdGVuYXRlZCB3aXRoIG90aGVyXG5cdC8vIGZpbGVzIHRoYXQgbWF5IHVzZSBkZWZpbmUsIGJ1dCBub3QgdmlhIGEgcHJvcGVyIGNvbmNhdGVuYXRpb24gc2NyaXB0IHRoYXRcblx0Ly8gdW5kZXJzdGFuZHMgYW5vbnltb3VzIEFNRCBtb2R1bGVzLiBBIG5hbWVkIEFNRCBpcyBzYWZlc3QgYW5kIG1vc3Qgcm9idXN0XG5cdC8vIHdheSB0byByZWdpc3Rlci4gTG93ZXJjYXNlIGpxdWVyeSBpcyB1c2VkIGJlY2F1c2UgQU1EIG1vZHVsZSBuYW1lcyBhcmVcblx0Ly8gZGVyaXZlZCBmcm9tIGZpbGUgbmFtZXMsIGFuZCBqUXVlcnkgaXMgbm9ybWFsbHkgZGVsaXZlcmVkIGluIGEgbG93ZXJjYXNlXG5cdC8vIGZpbGUgbmFtZS4gRG8gdGhpcyBhZnRlciBjcmVhdGluZyB0aGUgZ2xvYmFsIHNvIHRoYXQgaWYgYW4gQU1EIG1vZHVsZSB3YW50c1xuXHQvLyB0byBjYWxsIG5vQ29uZmxpY3QgdG8gaGlkZSB0aGlzIHZlcnNpb24gb2YgalF1ZXJ5LCBpdCB3aWxsIHdvcmsuXG5cdFxuXHQvLyBOb3RlIHRoYXQgZm9yIG1heGltdW0gcG9ydGFiaWxpdHksIGxpYnJhcmllcyB0aGF0IGFyZSBub3QgalF1ZXJ5IHNob3VsZFxuXHQvLyBkZWNsYXJlIHRoZW1zZWx2ZXMgYXMgYW5vbnltb3VzIG1vZHVsZXMsIGFuZCBhdm9pZCBzZXR0aW5nIGEgZ2xvYmFsIGlmIGFuXG5cdC8vIEFNRCBsb2FkZXIgaXMgcHJlc2VudC4galF1ZXJ5IGlzIGEgc3BlY2lhbCBjYXNlLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlXG5cdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qcmJ1cmtlL3JlcXVpcmVqcy93aWtpL1VwZGF0aW5nLWV4aXN0aW5nLWxpYnJhcmllcyN3aWtpLWFub25cblx0XG5cdGlmICggdHJ1ZSApIHtcblx0XHQhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBqUXVlcnk7XG5cdFx0fS5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHR9XG5cdFxuXHRcblx0XG5cdFxuXHRcblx0dmFyXG5cdFxuXHRcdC8vIE1hcCBvdmVyIGpRdWVyeSBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxuXHRcdF9qUXVlcnkgPSB3aW5kb3cualF1ZXJ5LFxuXHRcblx0XHQvLyBNYXAgb3ZlciB0aGUgJCBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxuXHRcdF8kID0gd2luZG93LiQ7XG5cdFxuXHRqUXVlcnkubm9Db25mbGljdCA9IGZ1bmN0aW9uKCBkZWVwICkge1xuXHRcdGlmICggd2luZG93LiQgPT09IGpRdWVyeSApIHtcblx0XHRcdHdpbmRvdy4kID0gXyQ7XG5cdFx0fVxuXHRcblx0XHRpZiAoIGRlZXAgJiYgd2luZG93LmpRdWVyeSA9PT0galF1ZXJ5ICkge1xuXHRcdFx0d2luZG93LmpRdWVyeSA9IF9qUXVlcnk7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4galF1ZXJ5O1xuXHR9O1xuXHRcblx0Ly8gRXhwb3NlIGpRdWVyeSBhbmQgJCBpZGVudGlmaWVycywgZXZlbiBpbiBBTURcblx0Ly8gKCM3MTAyI2NvbW1lbnQ6MTAsIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5L3B1bGwvNTU3KVxuXHQvLyBhbmQgQ29tbW9uSlMgZm9yIGJyb3dzZXIgZW11bGF0b3JzICgjMTM1NjYpXG5cdGlmICggIW5vR2xvYmFsICkge1xuXHRcdHdpbmRvdy5qUXVlcnkgPSB3aW5kb3cuJCA9IGpRdWVyeTtcblx0fVxuXHRcblx0XG5cdHJldHVybiBqUXVlcnk7XG5cdH0gKTtcblxuXG4vKioqLyB9LFxuLyogNDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHRoZSB3aGF0d2ctZmV0Y2ggcG9seWZpbGwgaW5zdGFsbHMgdGhlIGZldGNoKCkgZnVuY3Rpb25cblx0Ly8gb24gdGhlIGdsb2JhbCBvYmplY3QgKHdpbmRvdyBvciBzZWxmKVxuXHQvL1xuXHQvLyBSZXR1cm4gdGhhdCBhcyB0aGUgZXhwb3J0IGZvciB1c2UgaW4gV2VicGFjaywgQnJvd3NlcmlmeSBldGMuXG5cdF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdG1vZHVsZS5leHBvcnRzID0gc2VsZi5mZXRjaC5iaW5kKHNlbGYpO1xuXG5cbi8qKiovIH0sXG4vKiA0NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblxuXG4vKioqLyB9LFxuLyogNDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0dmFyIF9ibHVlYmlyZCA9IF9fd2VicGFja19yZXF1aXJlX18oNTIpO1xuXHRcblx0dmFyIF9ibHVlYmlyZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ibHVlYmlyZCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIEJyb3dzZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBCcm93c2VyKCkge1xuXHQgICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIEJyb3dzZXIpO1xuXHQgICAgfVxuXHRcblx0ICAgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKEJyb3dzZXIsIG51bGwsIFt7XG5cdCAgICAgICAga2V5OiAnaXNWYWxpZFVybCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzVmFsaWRVcmwodXJsKSB7XG5cdCAgICAgICAgICAgIHZhciBtYXRjaGVzVmFsaWQgPSB0cnVlO1xuXHQgICAgICAgICAgICB2YXIgbWF0Y2hlc0ludmFsaWQgPSBmYWxzZTtcblx0XG5cdCAgICAgICAgICAgIHZhciBpbnZhbGlkUmVnZXggPSBbL1xcLnBkZiQvaSwgL1xcLmpwZyQvaSwgL1xcLnBuZyQvLCAvXFwuZ2lmJC9dO1xuXHQgICAgICAgICAgICB2YXIgdmFsaWRSZWdleCA9IFsvXmh0dHAvXTtcblx0XG5cdCAgICAgICAgICAgIGludmFsaWRSZWdleC5mb3JFYWNoKGZ1bmN0aW9uIChyZWdleCkge1xuXHQgICAgICAgICAgICAgICAgbWF0Y2hlc0ludmFsaWQgPSBtYXRjaGVzSW52YWxpZCB8fCByZWdleC50ZXN0KHVybCk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB2YWxpZFJlZ2V4LmZvckVhY2goZnVuY3Rpb24gKHJlZ2V4KSB7XG5cdCAgICAgICAgICAgICAgICBtYXRjaGVzVmFsaWQgPSBtYXRjaGVzVmFsaWQgJiYgcmVnZXgudGVzdCh1cmwpO1xuXHQgICAgICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBtYXRjaGVzVmFsaWQgJiYgIW1hdGNoZXNJbnZhbGlkO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdmaWx0ZXJVcmxzJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZmlsdGVyVXJscyh1cmxzKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAodXJscyB8fCBbXSkuZmlsdGVyKEJyb3dzZXIuaXNWYWxpZFVybCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2lzQmFja2dyb3VuZE1zZycsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzQmFja2dyb3VuZE1zZyhzZW5kZXIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHNlbmRlci51cmwuaW5kZXhPZignYmFja2dyb3VuZF9wYWdlJykgPiAtMTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaXNQb3B1cE1zZycsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzUG9wdXBNc2coc2VuZGVyKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBzZW5kZXIudXJsLmluZGV4T2YoJ3BvcHVwJykgPiAtMTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZ2V0Q3VycmVudFdpbmRvd1RhYnMnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDdXJyZW50V2luZG93VGFicygpIHtcblx0ICAgICAgICAgICAgdmFyIHByb21pc2UgPSB2b2lkIDA7XG5cdCAgICAgICAgICAgIGlmIChjaHJvbWUpIHtcblx0ICAgICAgICAgICAgICAgIHByb21pc2UgPSBuZXcgX2JsdWViaXJkMi5kZWZhdWx0KGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgICAgICAgICBjaHJvbWUud2luZG93cy5nZXRDdXJyZW50KHsgcG9wdWxhdGU6IHRydWUgfSwgZnVuY3Rpb24gKGN1cnJlbnRXaW5kb3cpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRXaW5kb3cudGFicykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdlYnNpdGVUYWJzID0gY3VycmVudFdpbmRvdy50YWJzLmZpbHRlcihmdW5jdGlvbiAodGFiKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJyb3dzZXIuaXNWYWxpZFVybCh0YWIudXJsKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh3ZWJzaXRlVGFicyk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdObyB0YWJzIScpKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBwcm9taXNlID0gbmV3IF9ibHVlYmlyZDIuZGVmYXVsdChmdW5jdGlvbiAocmVzb2x2ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZ2V0VGFic0h0bWwnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUYWJzSHRtbCh0YWJzKSB7XG5cdCAgICAgICAgICAgIHZhciBjb2RlID0gJ2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUwnO1xuXHQgICAgICAgICAgICB2YXIgaHRtbFByb21pc2VzID0gdGFicy5tYXAoZnVuY3Rpb24gKHRhYikge1xuXHQgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBfYmx1ZWJpcmQyLmRlZmF1bHQoZnVuY3Rpb24gKHJlc29sdmUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBjaHJvbWUudGFicy5leGVjdXRlU2NyaXB0KHRhYi5pZCwgeyBjb2RlOiBjb2RlIH0sIGZ1bmN0aW9uIChodG1sKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVkVGFiID0gdGFiO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaHRtbCAmJiBodG1sWzBdICYmIGh0bWxbMF0ubWF0Y2goL2h0bWwvaSkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRUYWIuaHRtbCA9IGh0bWxbMF07XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkVGFiLmh0bWwgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodXBkYXRlZFRhYik7XG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gX2JsdWViaXJkMi5kZWZhdWx0LmFsbChodG1sUHJvbWlzZXMpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdnZXRMb2NhbFN0b3JhZ2UnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMb2NhbFN0b3JhZ2UoZmllbGRzKSB7XG5cdCAgICAgICAgICAgIHZhciBwcm9taXNlID0gdm9pZCAwO1xuXHQgICAgICAgICAgICBpZiAoY2hyb21lKSB7XG5cdCAgICAgICAgICAgICAgICBwcm9taXNlID0gbmV3IF9ibHVlYmlyZDIuZGVmYXVsdChmdW5jdGlvbiAocmVzb2x2ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldChmaWVsZHMsIGZ1bmN0aW9uIChzdGF0ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHN0YXRlKTtcblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdzZXRMb2NhbFN0b3JhZ2UnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRMb2NhbFN0b3JhZ2Uoa2V5VmFsdWVzKSB7XG5cdCAgICAgICAgICAgIGNocm9tZS5zdG9yYWdlLmxvY2FsLnNldChrZXlWYWx1ZXMpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdzZW5kTWVzc2FnZScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNlbmRNZXNzYWdlKCkge1xuXHQgICAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgY2hyb21lLnJ1bnRpbWUuc2VuZE1lc3NhZ2UuYXBwbHkoY2hyb21lLnJ1bnRpbWUsIGFyZ3MpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdvbkJhY2tncm91bmRNZXNzYWdlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25CYWNrZ3JvdW5kTWVzc2FnZShjYikge1xuXHQgICAgICAgICAgICBjaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoZnVuY3Rpb24gKHJlcXVlc3QsIHNlbmRlcikge1xuXHQgICAgICAgICAgICAgICAgaWYgKEJyb3dzZXIuaXNCYWNrZ3JvdW5kTXNnKHNlbmRlcikpIHtcblx0ICAgICAgICAgICAgICAgICAgICBjYihyZXF1ZXN0LCBzZW5kZXIpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnb25Gb3JlZ3JvdW5kTWVzc2FnZScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uRm9yZWdyb3VuZE1lc3NhZ2UoY2IpIHtcblx0ICAgICAgICAgICAgY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKGZ1bmN0aW9uIChyZXF1ZXN0LCBzZW5kZXIpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChCcm93c2VyLmlzUG9wdXBNc2coc2VuZGVyKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGNiKHJlcXVlc3QsIHNlbmRlcik7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdkb3dubG9hZCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRvd25sb2FkKHBhcmFtcykge1xuXHQgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IHZvaWQgMDtcblx0ICAgICAgICAgICAgaWYgKGNocm9tZSkge1xuXHQgICAgICAgICAgICAgICAgcHJvbWlzZSA9IG5ldyBfYmx1ZWJpcmQyLmRlZmF1bHQoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGNocm9tZS5kb3dubG9hZHMuZG93bmxvYWQocGFyYW1zLCBmdW5jdGlvbiAoZG93bmxvYWRJZCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZG93bmxvYWRMaXN0ZW5lciA9IGNocm9tZS5kb3dubG9hZHMub25DaGFuZ2VkLmFkZExpc3RlbmVyKGZ1bmN0aW9uIChkb3dubG9hZEluZm8pIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb3dubG9hZEluZm8uaWQgPT09IGRvd25sb2FkSWQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG93bmxvYWRJbmZvLmVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRvd25sb2FkSW5mby5lcnJvcik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNocm9tZS5kb3dubG9hZHMub25DaGFuZ2VkLnJlbW92ZUxpc3RlbmVyKGRvd25sb2FkTGlzdGVuZXIpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZG93bmxvYWRJbmZvLmVycm9yKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRvd25sb2FkSW5mby5lbmRUaW1lKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlbmQgdGltZTogJywgZG93bmxvYWRJbmZvLmVuZFRpbWUpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHJvbWUuZG93bmxvYWRzLm9uQ2hhbmdlZC5yZW1vdmVMaXN0ZW5lcihkb3dubG9hZExpc3RlbmVyKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShkb3dubG9hZEluZm8uZW5kVGltZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdiYXNlVXJsJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYmFzZVVybCgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGNocm9tZS5ydW50aW1lLmdldE1hbmlmZXN0KCkuaG9tZXBhZ2VfdXJsO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdnZXRNYW5pZmVzdCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1hbmlmZXN0KCkge1xuXHQgICAgICAgICAgICByZXR1cm4gY2hyb21lLnJ1bnRpbWUuZ2V0TWFuaWZlc3QoKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZ2V0RXJyb3JNc2cnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRFcnJvck1zZyhsb2NhdGlvbiwgeGhyKSB7XG5cdCAgICAgICAgICAgIHZhciBtc2cgPSBsb2NhdGlvbiA/IGxvY2F0aW9uICsgJzogICcgOiAnJztcblx0XG5cdCAgICAgICAgICAgIG1zZyArPSB4aHIucmVzcG9uc2VUZXh0IHx8IEJyb3dzZXIuRVJST1JfQ09ERVNbeGhyLnN0YXR1c1RleHRdIHx8IEJyb3dzZXIuRVJST1JfQ09ERVNbeGhyLnN0YXR1c10gfHwgQnJvd3Nlci5FUlJPUl9DT0RFU1t4aHIuY3VycmVudF0gfHwgJ1Vua25vd24nO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIG1zZztcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdCAgICByZXR1cm4gQnJvd3Nlcjtcblx0fSgpO1xuXHRcblx0QnJvd3Nlci5FUlJPUl9DT0RFUyA9IHtcblx0ICAgIC8vIEJvb2sgQ3JlYXRlIEVycm9yc1xuXHQgICAgMDogJ1NlcnZlciBpcyBkb3duLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicsXG5cdCAgICA0MDA6ICdUaGVyZSB3YXMgYSBwcm9ibGVtIHdpdGggdGhlIHJlcXVlc3QuIElzIEVwdWJQcmVzcyB1cCB0byBkYXRlPycsXG5cdCAgICA0MDQ6ICdSZXNvdXJjZSBub3QgZm91bmQuJyxcblx0ICAgIDUwMDogJ1VuZXhwZWN0ZWQgc2VydmVyIGVycm9yLicsXG5cdCAgICA1MDM6ICdTZXJ2ZXIgdG9vayB0b28gbG9uZyB0byByZXNwb25kLicsXG5cdCAgICB0aW1lb3V0OiAnUmVxdWVzdCB0b29rIHRvbyBsb25nIHRvIGNvbXBsZXRlLicsXG5cdCAgICBlcnJvcjogdW5kZWZpbmVkLFxuXHQgICAgLy8gRG93bmxvYWQgRXJyb3JzXG5cdCAgICBTRVJWRVJfRkFJTEVEOiAnU2VydmVyIGVycm9yIHdoaWxlIGRvd25sb2FkaW5nLicsXG5cdCAgICBTRVJWRVJfQkFEX0NPTlRFTlQ6ICdCb29rIGNvdWxkIG5vdCBiZSBmb3VuZCdcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gQnJvd3NlcjtcblxuLyoqKi8gfSxcbi8qIDQ3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG5cdCAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcblx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG5cdCAgfVxuXHR9O1xuXG4vKioqLyB9LFxuLyogNDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcblx0ICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuXHQgICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG5cdCAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG5cdCAgICAgICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcblx0ICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG5cdCAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcblx0ICAgIHJldHVybiBDb25zdHJ1Y3Rvcjtcblx0ICB9O1xuXHR9KCk7XG5cbi8qKiovIH0sXG4vKiA0OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9LFxuLyogNTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oNTEpO1xuXHR2YXIgJE9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNSkuT2JqZWN0O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2Mpe1xuXHQgIHJldHVybiAkT2JqZWN0LmRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2MpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciAkZXhwb3J0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0Ly8gMTkuMS4yLjQgLyAxNS4yLjMuNiBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcblx0JGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhX193ZWJwYWNrX3JlcXVpcmVfXygxOCksICdPYmplY3QnLCB7ZGVmaW5lUHJvcGVydHk6IF9fd2VicGFja19yZXF1aXJlX18oMTQpLmZ9KTtcblxuLyoqKi8gfSxcbi8qIDUyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2VzcywgZ2xvYmFsLCBzZXRJbW1lZGlhdGUpIHsvKiBAcHJlc2VydmVcblx0ICogVGhlIE1JVCBMaWNlbnNlIChNSVQpXG5cdCAqIFxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNSBQZXRrYSBBbnRvbm92XG5cdCAqIFxuXHQgKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG5cdCAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcblx0ICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuXHQgKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG5cdCAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuXHQgKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXHQgKiBcblx0ICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cblx0ICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cdCAqIFxuXHQgKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG5cdCAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuXHQgKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5cdCAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcblx0ICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcblx0ICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuXHQgKiBUSEUgU09GVFdBUkUuXG5cdCAqIFxuXHQgKi9cblx0LyoqXG5cdCAqIGJsdWViaXJkIGJ1aWxkIHZlcnNpb24gMy40LjZcblx0ICogRmVhdHVyZXMgZW5hYmxlZDogY29yZSwgcmFjZSwgY2FsbF9nZXQsIGdlbmVyYXRvcnMsIG1hcCwgbm9kZWlmeSwgcHJvbWlzaWZ5LCBwcm9wcywgcmVkdWNlLCBzZXR0bGUsIHNvbWUsIHVzaW5nLCB0aW1lcnMsIGZpbHRlciwgYW55LCBlYWNoXG5cdCovXG5cdCFmdW5jdGlvbihlKXtpZih0cnVlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgZjtcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P2Y9d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Zj1nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJihmPXNlbGYpLGYuUHJvbWlzZT1lKCl9fShmdW5jdGlvbigpe3ZhciBkZWZpbmUsbW9kdWxlLGV4cG9ydHM7cmV0dXJuIChmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgX2RlcmVxXz09XCJmdW5jdGlvblwiJiZfZGVyZXFfO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiBfZGVyZXFfPT1cImZ1bmN0aW9uXCImJl9kZXJlcV87Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSkge1xuXHR2YXIgU29tZVByb21pc2VBcnJheSA9IFByb21pc2UuX1NvbWVQcm9taXNlQXJyYXk7XG5cdGZ1bmN0aW9uIGFueShwcm9taXNlcykge1xuXHQgICAgdmFyIHJldCA9IG5ldyBTb21lUHJvbWlzZUFycmF5KHByb21pc2VzKTtcblx0ICAgIHZhciBwcm9taXNlID0gcmV0LnByb21pc2UoKTtcblx0ICAgIHJldC5zZXRIb3dNYW55KDEpO1xuXHQgICAgcmV0LnNldFVud3JhcCgpO1xuXHQgICAgcmV0LmluaXQoKTtcblx0ICAgIHJldHVybiBwcm9taXNlO1xuXHR9XG5cdFxuXHRQcm9taXNlLmFueSA9IGZ1bmN0aW9uIChwcm9taXNlcykge1xuXHQgICAgcmV0dXJuIGFueShwcm9taXNlcyk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5hbnkgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gYW55KHRoaXMpO1xuXHR9O1xuXHRcblx0fTtcblx0XG5cdH0se31dLDI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIGZpcnN0TGluZUVycm9yO1xuXHR0cnkge3Rocm93IG5ldyBFcnJvcigpOyB9IGNhdGNoIChlKSB7Zmlyc3RMaW5lRXJyb3IgPSBlO31cblx0dmFyIHNjaGVkdWxlID0gX2RlcmVxXyhcIi4vc2NoZWR1bGVcIik7XG5cdHZhciBRdWV1ZSA9IF9kZXJlcV8oXCIuL3F1ZXVlXCIpO1xuXHR2YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cdFxuXHRmdW5jdGlvbiBBc3luYygpIHtcblx0ICAgIHRoaXMuX2N1c3RvbVNjaGVkdWxlciA9IGZhbHNlO1xuXHQgICAgdGhpcy5faXNUaWNrVXNlZCA9IGZhbHNlO1xuXHQgICAgdGhpcy5fbGF0ZVF1ZXVlID0gbmV3IFF1ZXVlKDE2KTtcblx0ICAgIHRoaXMuX25vcm1hbFF1ZXVlID0gbmV3IFF1ZXVlKDE2KTtcblx0ICAgIHRoaXMuX2hhdmVEcmFpbmVkUXVldWVzID0gZmFsc2U7XG5cdCAgICB0aGlzLl90cmFtcG9saW5lRW5hYmxlZCA9IHRydWU7XG5cdCAgICB2YXIgc2VsZiA9IHRoaXM7XG5cdCAgICB0aGlzLmRyYWluUXVldWVzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHNlbGYuX2RyYWluUXVldWVzKCk7XG5cdCAgICB9O1xuXHQgICAgdGhpcy5fc2NoZWR1bGUgPSBzY2hlZHVsZTtcblx0fVxuXHRcblx0QXN5bmMucHJvdG90eXBlLnNldFNjaGVkdWxlciA9IGZ1bmN0aW9uKGZuKSB7XG5cdCAgICB2YXIgcHJldiA9IHRoaXMuX3NjaGVkdWxlO1xuXHQgICAgdGhpcy5fc2NoZWR1bGUgPSBmbjtcblx0ICAgIHRoaXMuX2N1c3RvbVNjaGVkdWxlciA9IHRydWU7XG5cdCAgICByZXR1cm4gcHJldjtcblx0fTtcblx0XG5cdEFzeW5jLnByb3RvdHlwZS5oYXNDdXN0b21TY2hlZHVsZXIgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiB0aGlzLl9jdXN0b21TY2hlZHVsZXI7XG5cdH07XG5cdFxuXHRBc3luYy5wcm90b3R5cGUuZW5hYmxlVHJhbXBvbGluZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdGhpcy5fdHJhbXBvbGluZUVuYWJsZWQgPSB0cnVlO1xuXHR9O1xuXHRcblx0QXN5bmMucHJvdG90eXBlLmRpc2FibGVUcmFtcG9saW5lSWZOZWNlc3NhcnkgPSBmdW5jdGlvbigpIHtcblx0ICAgIGlmICh1dGlsLmhhc0RldlRvb2xzKSB7XG5cdCAgICAgICAgdGhpcy5fdHJhbXBvbGluZUVuYWJsZWQgPSBmYWxzZTtcblx0ICAgIH1cblx0fTtcblx0XG5cdEFzeW5jLnByb3RvdHlwZS5oYXZlSXRlbXNRdWV1ZWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5faXNUaWNrVXNlZCB8fCB0aGlzLl9oYXZlRHJhaW5lZFF1ZXVlcztcblx0fTtcblx0XG5cdFxuXHRBc3luYy5wcm90b3R5cGUuZmF0YWxFcnJvciA9IGZ1bmN0aW9uKGUsIGlzTm9kZSkge1xuXHQgICAgaWYgKGlzTm9kZSkge1xuXHQgICAgICAgIHByb2Nlc3Muc3RkZXJyLndyaXRlKFwiRmF0YWwgXCIgKyAoZSBpbnN0YW5jZW9mIEVycm9yID8gZS5zdGFjayA6IGUpICtcblx0ICAgICAgICAgICAgXCJcXG5cIik7XG5cdCAgICAgICAgcHJvY2Vzcy5leGl0KDIpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLnRocm93TGF0ZXIoZSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRBc3luYy5wcm90b3R5cGUudGhyb3dMYXRlciA9IGZ1bmN0aW9uKGZuLCBhcmcpIHtcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG5cdCAgICAgICAgYXJnID0gZm47XG5cdCAgICAgICAgZm4gPSBmdW5jdGlvbiAoKSB7IHRocm93IGFyZzsgfTtcblx0ICAgIH1cblx0ICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHQgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIGZuKGFyZyk7XG5cdCAgICAgICAgfSwgMCk7XG5cdCAgICB9IGVsc2UgdHJ5IHtcblx0ICAgICAgICB0aGlzLl9zY2hlZHVsZShmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgZm4oYXJnKTtcblx0ICAgICAgICB9KTtcblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBhc3luYyBzY2hlZHVsZXIgYXZhaWxhYmxlXFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdGZ1bmN0aW9uIEFzeW5jSW52b2tlTGF0ZXIoZm4sIHJlY2VpdmVyLCBhcmcpIHtcblx0ICAgIHRoaXMuX2xhdGVRdWV1ZS5wdXNoKGZuLCByZWNlaXZlciwgYXJnKTtcblx0ICAgIHRoaXMuX3F1ZXVlVGljaygpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBBc3luY0ludm9rZShmbiwgcmVjZWl2ZXIsIGFyZykge1xuXHQgICAgdGhpcy5fbm9ybWFsUXVldWUucHVzaChmbiwgcmVjZWl2ZXIsIGFyZyk7XG5cdCAgICB0aGlzLl9xdWV1ZVRpY2soKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gQXN5bmNTZXR0bGVQcm9taXNlcyhwcm9taXNlKSB7XG5cdCAgICB0aGlzLl9ub3JtYWxRdWV1ZS5fcHVzaE9uZShwcm9taXNlKTtcblx0ICAgIHRoaXMuX3F1ZXVlVGljaygpO1xuXHR9XG5cdFxuXHRpZiAoIXV0aWwuaGFzRGV2VG9vbHMpIHtcblx0ICAgIEFzeW5jLnByb3RvdHlwZS5pbnZva2VMYXRlciA9IEFzeW5jSW52b2tlTGF0ZXI7XG5cdCAgICBBc3luYy5wcm90b3R5cGUuaW52b2tlID0gQXN5bmNJbnZva2U7XG5cdCAgICBBc3luYy5wcm90b3R5cGUuc2V0dGxlUHJvbWlzZXMgPSBBc3luY1NldHRsZVByb21pc2VzO1xuXHR9IGVsc2Uge1xuXHQgICAgQXN5bmMucHJvdG90eXBlLmludm9rZUxhdGVyID0gZnVuY3Rpb24gKGZuLCByZWNlaXZlciwgYXJnKSB7XG5cdCAgICAgICAgaWYgKHRoaXMuX3RyYW1wb2xpbmVFbmFibGVkKSB7XG5cdCAgICAgICAgICAgIEFzeW5jSW52b2tlTGF0ZXIuY2FsbCh0aGlzLCBmbiwgcmVjZWl2ZXIsIGFyZyk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdGhpcy5fc2NoZWR1bGUoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGZuLmNhbGwocmVjZWl2ZXIsIGFyZyk7XG5cdCAgICAgICAgICAgICAgICB9LCAxMDApO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIEFzeW5jLnByb3RvdHlwZS5pbnZva2UgPSBmdW5jdGlvbiAoZm4sIHJlY2VpdmVyLCBhcmcpIHtcblx0ICAgICAgICBpZiAodGhpcy5fdHJhbXBvbGluZUVuYWJsZWQpIHtcblx0ICAgICAgICAgICAgQXN5bmNJbnZva2UuY2FsbCh0aGlzLCBmbiwgcmVjZWl2ZXIsIGFyZyk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdGhpcy5fc2NoZWR1bGUoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICBmbi5jYWxsKHJlY2VpdmVyLCBhcmcpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIEFzeW5jLnByb3RvdHlwZS5zZXR0bGVQcm9taXNlcyA9IGZ1bmN0aW9uKHByb21pc2UpIHtcblx0ICAgICAgICBpZiAodGhpcy5fdHJhbXBvbGluZUVuYWJsZWQpIHtcblx0ICAgICAgICAgICAgQXN5bmNTZXR0bGVQcm9taXNlcy5jYWxsKHRoaXMsIHByb21pc2UpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHRoaXMuX3NjaGVkdWxlKGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgcHJvbWlzZS5fc2V0dGxlUHJvbWlzZXMoKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0fVxuXHRcblx0QXN5bmMucHJvdG90eXBlLmludm9rZUZpcnN0ID0gZnVuY3Rpb24gKGZuLCByZWNlaXZlciwgYXJnKSB7XG5cdCAgICB0aGlzLl9ub3JtYWxRdWV1ZS51bnNoaWZ0KGZuLCByZWNlaXZlciwgYXJnKTtcblx0ICAgIHRoaXMuX3F1ZXVlVGljaygpO1xuXHR9O1xuXHRcblx0QXN5bmMucHJvdG90eXBlLl9kcmFpblF1ZXVlID0gZnVuY3Rpb24ocXVldWUpIHtcblx0ICAgIHdoaWxlIChxdWV1ZS5sZW5ndGgoKSA+IDApIHtcblx0ICAgICAgICB2YXIgZm4gPSBxdWV1ZS5zaGlmdCgpO1xuXHQgICAgICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgICAgICBmbi5fc2V0dGxlUHJvbWlzZXMoKTtcblx0ICAgICAgICAgICAgY29udGludWU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciByZWNlaXZlciA9IHF1ZXVlLnNoaWZ0KCk7XG5cdCAgICAgICAgdmFyIGFyZyA9IHF1ZXVlLnNoaWZ0KCk7XG5cdCAgICAgICAgZm4uY2FsbChyZWNlaXZlciwgYXJnKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdEFzeW5jLnByb3RvdHlwZS5fZHJhaW5RdWV1ZXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aGlzLl9kcmFpblF1ZXVlKHRoaXMuX25vcm1hbFF1ZXVlKTtcblx0ICAgIHRoaXMuX3Jlc2V0KCk7XG5cdCAgICB0aGlzLl9oYXZlRHJhaW5lZFF1ZXVlcyA9IHRydWU7XG5cdCAgICB0aGlzLl9kcmFpblF1ZXVlKHRoaXMuX2xhdGVRdWV1ZSk7XG5cdH07XG5cdFxuXHRBc3luYy5wcm90b3R5cGUuX3F1ZXVlVGljayA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICghdGhpcy5faXNUaWNrVXNlZCkge1xuXHQgICAgICAgIHRoaXMuX2lzVGlja1VzZWQgPSB0cnVlO1xuXHQgICAgICAgIHRoaXMuX3NjaGVkdWxlKHRoaXMuZHJhaW5RdWV1ZXMpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0QXN5bmMucHJvdG90eXBlLl9yZXNldCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuX2lzVGlja1VzZWQgPSBmYWxzZTtcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gQXN5bmM7XG5cdG1vZHVsZS5leHBvcnRzLmZpcnN0TGluZUVycm9yID0gZmlyc3RMaW5lRXJyb3I7XG5cdFxuXHR9LHtcIi4vcXVldWVcIjoyNixcIi4vc2NoZWR1bGVcIjoyOSxcIi4vdXRpbFwiOjM2fV0sMzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIElOVEVSTkFMLCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBkZWJ1Zykge1xuXHR2YXIgY2FsbGVkQmluZCA9IGZhbHNlO1xuXHR2YXIgcmVqZWN0VGhpcyA9IGZ1bmN0aW9uKF8sIGUpIHtcblx0ICAgIHRoaXMuX3JlamVjdChlKTtcblx0fTtcblx0XG5cdHZhciB0YXJnZXRSZWplY3RlZCA9IGZ1bmN0aW9uKGUsIGNvbnRleHQpIHtcblx0ICAgIGNvbnRleHQucHJvbWlzZVJlamVjdGlvblF1ZXVlZCA9IHRydWU7XG5cdCAgICBjb250ZXh0LmJpbmRpbmdQcm9taXNlLl90aGVuKHJlamVjdFRoaXMsIHJlamVjdFRoaXMsIG51bGwsIHRoaXMsIGUpO1xuXHR9O1xuXHRcblx0dmFyIGJpbmRpbmdSZXNvbHZlZCA9IGZ1bmN0aW9uKHRoaXNBcmcsIGNvbnRleHQpIHtcblx0ICAgIGlmICgoKHRoaXMuX2JpdEZpZWxkICYgNTAzOTcxODQpID09PSAwKSkge1xuXHQgICAgICAgIHRoaXMuX3Jlc29sdmVDYWxsYmFjayhjb250ZXh0LnRhcmdldCk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHR2YXIgYmluZGluZ1JlamVjdGVkID0gZnVuY3Rpb24oZSwgY29udGV4dCkge1xuXHQgICAgaWYgKCFjb250ZXh0LnByb21pc2VSZWplY3Rpb25RdWV1ZWQpIHRoaXMuX3JlamVjdChlKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAodGhpc0FyZykge1xuXHQgICAgaWYgKCFjYWxsZWRCaW5kKSB7XG5cdCAgICAgICAgY2FsbGVkQmluZCA9IHRydWU7XG5cdCAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX3Byb3BhZ2F0ZUZyb20gPSBkZWJ1Zy5wcm9wYWdhdGVGcm9tRnVuY3Rpb24oKTtcblx0ICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fYm91bmRWYWx1ZSA9IGRlYnVnLmJvdW5kVmFsdWVGdW5jdGlvbigpO1xuXHQgICAgfVxuXHQgICAgdmFyIG1heWJlUHJvbWlzZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UodGhpc0FyZyk7XG5cdCAgICB2YXIgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuXHQgICAgcmV0Ll9wcm9wYWdhdGVGcm9tKHRoaXMsIDEpO1xuXHQgICAgdmFyIHRhcmdldCA9IHRoaXMuX3RhcmdldCgpO1xuXHQgICAgcmV0Ll9zZXRCb3VuZFRvKG1heWJlUHJvbWlzZSk7XG5cdCAgICBpZiAobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuXHQgICAgICAgIHZhciBjb250ZXh0ID0ge1xuXHQgICAgICAgICAgICBwcm9taXNlUmVqZWN0aW9uUXVldWVkOiBmYWxzZSxcblx0ICAgICAgICAgICAgcHJvbWlzZTogcmV0LFxuXHQgICAgICAgICAgICB0YXJnZXQ6IHRhcmdldCxcblx0ICAgICAgICAgICAgYmluZGluZ1Byb21pc2U6IG1heWJlUHJvbWlzZVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgdGFyZ2V0Ll90aGVuKElOVEVSTkFMLCB0YXJnZXRSZWplY3RlZCwgdW5kZWZpbmVkLCByZXQsIGNvbnRleHQpO1xuXHQgICAgICAgIG1heWJlUHJvbWlzZS5fdGhlbihcblx0ICAgICAgICAgICAgYmluZGluZ1Jlc29sdmVkLCBiaW5kaW5nUmVqZWN0ZWQsIHVuZGVmaW5lZCwgcmV0LCBjb250ZXh0KTtcblx0ICAgICAgICByZXQuX3NldE9uQ2FuY2VsKG1heWJlUHJvbWlzZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldC5fcmVzb2x2ZUNhbGxiYWNrKHRhcmdldCk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmV0O1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3NldEJvdW5kVG8gPSBmdW5jdGlvbiAob2JqKSB7XG5cdCAgICBpZiAob2JqICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgMjA5NzE1Mjtcblx0ICAgICAgICB0aGlzLl9ib3VuZFRvID0gb2JqO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkICYgKH4yMDk3MTUyKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9pc0JvdW5kID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDIwOTcxNTIpID09PSAyMDk3MTUyO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5iaW5kID0gZnVuY3Rpb24gKHRoaXNBcmcsIHZhbHVlKSB7XG5cdCAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS5iaW5kKHRoaXNBcmcpO1xuXHR9O1xuXHR9O1xuXHRcblx0fSx7fV0sNDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgb2xkO1xuXHRpZiAodHlwZW9mIFByb21pc2UgIT09IFwidW5kZWZpbmVkXCIpIG9sZCA9IFByb21pc2U7XG5cdGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7XG5cdCAgICB0cnkgeyBpZiAoUHJvbWlzZSA9PT0gYmx1ZWJpcmQpIFByb21pc2UgPSBvbGQ7IH1cblx0ICAgIGNhdGNoIChlKSB7fVxuXHQgICAgcmV0dXJuIGJsdWViaXJkO1xuXHR9XG5cdHZhciBibHVlYmlyZCA9IF9kZXJlcV8oXCIuL3Byb21pc2VcIikoKTtcblx0Ymx1ZWJpcmQubm9Db25mbGljdCA9IG5vQ29uZmxpY3Q7XG5cdG1vZHVsZS5leHBvcnRzID0gYmx1ZWJpcmQ7XG5cdFxuXHR9LHtcIi4vcHJvbWlzZVwiOjIyfV0sNTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgY3IgPSBPYmplY3QuY3JlYXRlO1xuXHRpZiAoY3IpIHtcblx0ICAgIHZhciBjYWxsZXJDYWNoZSA9IGNyKG51bGwpO1xuXHQgICAgdmFyIGdldHRlckNhY2hlID0gY3IobnVsbCk7XG5cdCAgICBjYWxsZXJDYWNoZVtcIiBzaXplXCJdID0gZ2V0dGVyQ2FjaGVbXCIgc2l6ZVwiXSA9IDA7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSkge1xuXHR2YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cdHZhciBjYW5FdmFsdWF0ZSA9IHV0aWwuY2FuRXZhbHVhdGU7XG5cdHZhciBpc0lkZW50aWZpZXIgPSB1dGlsLmlzSWRlbnRpZmllcjtcblx0XG5cdHZhciBnZXRNZXRob2RDYWxsZXI7XG5cdHZhciBnZXRHZXR0ZXI7XG5cdGlmIChmYWxzZSkge1xuXHR2YXIgbWFrZU1ldGhvZENhbGxlciA9IGZ1bmN0aW9uIChtZXRob2ROYW1lKSB7XG5cdCAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKFwiZW5zdXJlTWV0aG9kXCIsIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAndXNlIHN0cmljdCcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIHZhciBsZW4gPSB0aGlzLmxlbmd0aDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgZW5zdXJlTWV0aG9kKG9iaiwgJ21ldGhvZE5hbWUnKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICBzd2l0Y2gobGVuKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICBjYXNlIDE6IHJldHVybiBvYmoubWV0aG9kTmFtZSh0aGlzWzBdKTsgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG9iai5tZXRob2ROYW1lKHRoaXNbMF0sIHRoaXNbMV0pOyAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgY2FzZSAzOiByZXR1cm4gb2JqLm1ldGhvZE5hbWUodGhpc1swXSwgdGhpc1sxXSwgdGhpc1syXSk7ICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBvYmoubWV0aG9kTmFtZSgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmoubWV0aG9kTmFtZS5hcHBseShvYmosIHRoaXMpOyAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICB9OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgIFwiLnJlcGxhY2UoL21ldGhvZE5hbWUvZywgbWV0aG9kTmFtZSkpKGVuc3VyZU1ldGhvZCk7XG5cdH07XG5cdFxuXHR2YXIgbWFrZUdldHRlciA9IGZ1bmN0aW9uIChwcm9wZXJ0eU5hbWUpIHtcblx0ICAgIHJldHVybiBuZXcgRnVuY3Rpb24oXCJvYmpcIiwgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICd1c2Ugc3RyaWN0JzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgcmV0dXJuIG9iai5wcm9wZXJ0eU5hbWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICBcIi5yZXBsYWNlKFwicHJvcGVydHlOYW1lXCIsIHByb3BlcnR5TmFtZSkpO1xuXHR9O1xuXHRcblx0dmFyIGdldENvbXBpbGVkID0gZnVuY3Rpb24obmFtZSwgY29tcGlsZXIsIGNhY2hlKSB7XG5cdCAgICB2YXIgcmV0ID0gY2FjaGVbbmFtZV07XG5cdCAgICBpZiAodHlwZW9mIHJldCAhPT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgaWYgKCFpc0lkZW50aWZpZXIobmFtZSkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldCA9IGNvbXBpbGVyKG5hbWUpO1xuXHQgICAgICAgIGNhY2hlW25hbWVdID0gcmV0O1xuXHQgICAgICAgIGNhY2hlW1wiIHNpemVcIl0rKztcblx0ICAgICAgICBpZiAoY2FjaGVbXCIgc2l6ZVwiXSA+IDUxMikge1xuXHQgICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGNhY2hlKTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7ICsraSkgZGVsZXRlIGNhY2hlW2tleXNbaV1dO1xuXHQgICAgICAgICAgICBjYWNoZVtcIiBzaXplXCJdID0ga2V5cy5sZW5ndGggLSAyNTY7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJldDtcblx0fTtcblx0XG5cdGdldE1ldGhvZENhbGxlciA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgIHJldHVybiBnZXRDb21waWxlZChuYW1lLCBtYWtlTWV0aG9kQ2FsbGVyLCBjYWxsZXJDYWNoZSk7XG5cdH07XG5cdFxuXHRnZXRHZXR0ZXIgPSBmdW5jdGlvbihuYW1lKSB7XG5cdCAgICByZXR1cm4gZ2V0Q29tcGlsZWQobmFtZSwgbWFrZUdldHRlciwgZ2V0dGVyQ2FjaGUpO1xuXHR9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBlbnN1cmVNZXRob2Qob2JqLCBtZXRob2ROYW1lKSB7XG5cdCAgICB2YXIgZm47XG5cdCAgICBpZiAob2JqICE9IG51bGwpIGZuID0gb2JqW21ldGhvZE5hbWVdO1xuXHQgICAgaWYgKHR5cGVvZiBmbiAhPT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgdmFyIG1lc3NhZ2UgPSBcIk9iamVjdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcob2JqKSArIFwiIGhhcyBubyBtZXRob2QgJ1wiICtcblx0ICAgICAgICAgICAgdXRpbC50b1N0cmluZyhtZXRob2ROYW1lKSArIFwiJ1wiO1xuXHQgICAgICAgIHRocm93IG5ldyBQcm9taXNlLlR5cGVFcnJvcihtZXNzYWdlKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBmbjtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY2FsbGVyKG9iaikge1xuXHQgICAgdmFyIG1ldGhvZE5hbWUgPSB0aGlzLnBvcCgpO1xuXHQgICAgdmFyIGZuID0gZW5zdXJlTWV0aG9kKG9iaiwgbWV0aG9kTmFtZSk7XG5cdCAgICByZXR1cm4gZm4uYXBwbHkob2JqLCB0aGlzKTtcblx0fVxuXHRQcm9taXNlLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKG1ldGhvZE5hbWUpIHtcblx0ICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpOztcblx0ICAgIGlmIChmYWxzZSkge1xuXHQgICAgICAgIGlmIChjYW5FdmFsdWF0ZSkge1xuXHQgICAgICAgICAgICB2YXIgbWF5YmVDYWxsZXIgPSBnZXRNZXRob2RDYWxsZXIobWV0aG9kTmFtZSk7XG5cdCAgICAgICAgICAgIGlmIChtYXliZUNhbGxlciAhPT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RoZW4oXG5cdCAgICAgICAgICAgICAgICAgICAgbWF5YmVDYWxsZXIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcmdzLCB1bmRlZmluZWQpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgYXJncy5wdXNoKG1ldGhvZE5hbWUpO1xuXHQgICAgcmV0dXJuIHRoaXMuX3RoZW4oY2FsbGVyLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJncywgdW5kZWZpbmVkKTtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIG5hbWVkR2V0dGVyKG9iaikge1xuXHQgICAgcmV0dXJuIG9ialt0aGlzXTtcblx0fVxuXHRmdW5jdGlvbiBpbmRleGVkR2V0dGVyKG9iaikge1xuXHQgICAgdmFyIGluZGV4ID0gK3RoaXM7XG5cdCAgICBpZiAoaW5kZXggPCAwKSBpbmRleCA9IE1hdGgubWF4KDAsIGluZGV4ICsgb2JqLmxlbmd0aCk7XG5cdCAgICByZXR1cm4gb2JqW2luZGV4XTtcblx0fVxuXHRQcm9taXNlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAocHJvcGVydHlOYW1lKSB7XG5cdCAgICB2YXIgaXNJbmRleCA9ICh0eXBlb2YgcHJvcGVydHlOYW1lID09PSBcIm51bWJlclwiKTtcblx0ICAgIHZhciBnZXR0ZXI7XG5cdCAgICBpZiAoIWlzSW5kZXgpIHtcblx0ICAgICAgICBpZiAoY2FuRXZhbHVhdGUpIHtcblx0ICAgICAgICAgICAgdmFyIG1heWJlR2V0dGVyID0gZ2V0R2V0dGVyKHByb3BlcnR5TmFtZSk7XG5cdCAgICAgICAgICAgIGdldHRlciA9IG1heWJlR2V0dGVyICE9PSBudWxsID8gbWF5YmVHZXR0ZXIgOiBuYW1lZEdldHRlcjtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBnZXR0ZXIgPSBuYW1lZEdldHRlcjtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGdldHRlciA9IGluZGV4ZWRHZXR0ZXI7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdGhpcy5fdGhlbihnZXR0ZXIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBwcm9wZXJ0eU5hbWUsIHVuZGVmaW5lZCk7XG5cdH07XG5cdH07XG5cdFxuXHR9LHtcIi4vdXRpbFwiOjM2fV0sNjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIFByb21pc2VBcnJheSwgYXBpUmVqZWN0aW9uLCBkZWJ1Zykge1xuXHR2YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cdHZhciB0cnlDYXRjaCA9IHV0aWwudHJ5Q2F0Y2g7XG5cdHZhciBlcnJvck9iaiA9IHV0aWwuZXJyb3JPYmo7XG5cdHZhciBhc3luYyA9IFByb21pc2UuX2FzeW5jO1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGVbXCJicmVha1wiXSA9IFByb21pc2UucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgaWYgKCFkZWJ1Zy5jYW5jZWxsYXRpb24oKSkgcmV0dXJuIHRoaXMuX3dhcm4oXCJjYW5jZWxsYXRpb24gaXMgZGlzYWJsZWRcIik7XG5cdFxuXHQgICAgdmFyIHByb21pc2UgPSB0aGlzO1xuXHQgICAgdmFyIGNoaWxkID0gcHJvbWlzZTtcblx0ICAgIHdoaWxlIChwcm9taXNlLl9pc0NhbmNlbGxhYmxlKCkpIHtcblx0ICAgICAgICBpZiAoIXByb21pc2UuX2NhbmNlbEJ5KGNoaWxkKSkge1xuXHQgICAgICAgICAgICBpZiAoY2hpbGQuX2lzRm9sbG93aW5nKCkpIHtcblx0ICAgICAgICAgICAgICAgIGNoaWxkLl9mb2xsb3dlZSgpLmNhbmNlbCgpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgY2hpbGQuX2NhbmNlbEJyYW5jaGVkKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgcGFyZW50ID0gcHJvbWlzZS5fY2FuY2VsbGF0aW9uUGFyZW50O1xuXHQgICAgICAgIGlmIChwYXJlbnQgPT0gbnVsbCB8fCAhcGFyZW50Ll9pc0NhbmNlbGxhYmxlKCkpIHtcblx0ICAgICAgICAgICAgaWYgKHByb21pc2UuX2lzRm9sbG93aW5nKCkpIHtcblx0ICAgICAgICAgICAgICAgIHByb21pc2UuX2ZvbGxvd2VlKCkuY2FuY2VsKCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBwcm9taXNlLl9jYW5jZWxCcmFuY2hlZCgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGlmIChwcm9taXNlLl9pc0ZvbGxvd2luZygpKSBwcm9taXNlLl9mb2xsb3dlZSgpLmNhbmNlbCgpO1xuXHQgICAgICAgICAgICBwcm9taXNlLl9zZXRXaWxsQmVDYW5jZWxsZWQoKTtcblx0ICAgICAgICAgICAgY2hpbGQgPSBwcm9taXNlO1xuXHQgICAgICAgICAgICBwcm9taXNlID0gcGFyZW50O1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9icmFuY2hIYXNDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcblx0ICAgIHRoaXMuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwtLTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9lbm91Z2hCcmFuY2hlc0hhdmVDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiB0aGlzLl9icmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsID09PSB1bmRlZmluZWQgfHxcblx0ICAgICAgICAgICB0aGlzLl9icmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsIDw9IDA7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fY2FuY2VsQnkgPSBmdW5jdGlvbihjYW5jZWxsZXIpIHtcblx0ICAgIGlmIChjYW5jZWxsZXIgPT09IHRoaXMpIHtcblx0ICAgICAgICB0aGlzLl9icmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsID0gMDtcblx0ICAgICAgICB0aGlzLl9pbnZva2VPbkNhbmNlbCgpO1xuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLl9icmFuY2hIYXNDYW5jZWxsZWQoKTtcblx0ICAgICAgICBpZiAodGhpcy5fZW5vdWdoQnJhbmNoZXNIYXZlQ2FuY2VsbGVkKCkpIHtcblx0ICAgICAgICAgICAgdGhpcy5faW52b2tlT25DYW5jZWwoKTtcblx0ICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2NhbmNlbEJyYW5jaGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICBpZiAodGhpcy5fZW5vdWdoQnJhbmNoZXNIYXZlQ2FuY2VsbGVkKCkpIHtcblx0ICAgICAgICB0aGlzLl9jYW5jZWwoKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9jYW5jZWwgPSBmdW5jdGlvbigpIHtcblx0ICAgIGlmICghdGhpcy5faXNDYW5jZWxsYWJsZSgpKSByZXR1cm47XG5cdCAgICB0aGlzLl9zZXRDYW5jZWxsZWQoKTtcblx0ICAgIGFzeW5jLmludm9rZSh0aGlzLl9jYW5jZWxQcm9taXNlcywgdGhpcywgdW5kZWZpbmVkKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9jYW5jZWxQcm9taXNlcyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgaWYgKHRoaXMuX2xlbmd0aCgpID4gMCkgdGhpcy5fc2V0dGxlUHJvbWlzZXMoKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl91bnNldE9uQ2FuY2VsID0gZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLl9vbkNhbmNlbEZpZWxkID0gdW5kZWZpbmVkO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2lzQ2FuY2VsbGFibGUgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiB0aGlzLmlzUGVuZGluZygpICYmICF0aGlzLl9pc0NhbmNlbGxlZCgpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuaXNDYW5jZWxsYWJsZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuaXNQZW5kaW5nKCkgJiYgIXRoaXMuaXNDYW5jZWxsZWQoKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9kb0ludm9rZU9uQ2FuY2VsID0gZnVuY3Rpb24ob25DYW5jZWxDYWxsYmFjaywgaW50ZXJuYWxPbmx5KSB7XG5cdCAgICBpZiAodXRpbC5pc0FycmF5KG9uQ2FuY2VsQ2FsbGJhY2spKSB7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbkNhbmNlbENhbGxiYWNrLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX2RvSW52b2tlT25DYW5jZWwob25DYW5jZWxDYWxsYmFja1tpXSwgaW50ZXJuYWxPbmx5KTtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKG9uQ2FuY2VsQ2FsbGJhY2sgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIGlmICh0eXBlb2Ygb25DYW5jZWxDYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgIGlmICghaW50ZXJuYWxPbmx5KSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZSA9IHRyeUNhdGNoKG9uQ2FuY2VsQ2FsbGJhY2spLmNhbGwodGhpcy5fYm91bmRWYWx1ZSgpKTtcblx0ICAgICAgICAgICAgICAgIGlmIChlID09PSBlcnJvck9iaikge1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuX2F0dGFjaEV4dHJhVHJhY2UoZS5lKTtcblx0ICAgICAgICAgICAgICAgICAgICBhc3luYy50aHJvd0xhdGVyKGUuZSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBvbkNhbmNlbENhbGxiYWNrLl9yZXN1bHRDYW5jZWxsZWQodGhpcyk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2ludm9rZU9uQ2FuY2VsID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgb25DYW5jZWxDYWxsYmFjayA9IHRoaXMuX29uQ2FuY2VsKCk7XG5cdCAgICB0aGlzLl91bnNldE9uQ2FuY2VsKCk7XG5cdCAgICBhc3luYy5pbnZva2UodGhpcy5fZG9JbnZva2VPbkNhbmNlbCwgdGhpcywgb25DYW5jZWxDYWxsYmFjayk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5faW52b2tlSW50ZXJuYWxPbkNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgaWYgKHRoaXMuX2lzQ2FuY2VsbGFibGUoKSkge1xuXHQgICAgICAgIHRoaXMuX2RvSW52b2tlT25DYW5jZWwodGhpcy5fb25DYW5jZWwoKSwgdHJ1ZSk7XG5cdCAgICAgICAgdGhpcy5fdW5zZXRPbkNhbmNlbCgpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdGhpcy5jYW5jZWwoKTtcblx0fTtcblx0XG5cdH07XG5cdFxuXHR9LHtcIi4vdXRpbFwiOjM2fV0sNzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKE5FWFRfRklMVEVSKSB7XG5cdHZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcblx0dmFyIGdldEtleXMgPSBfZGVyZXFfKFwiLi9lczVcIikua2V5cztcblx0dmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcblx0dmFyIGVycm9yT2JqID0gdXRpbC5lcnJvck9iajtcblx0XG5cdGZ1bmN0aW9uIGNhdGNoRmlsdGVyKGluc3RhbmNlcywgY2IsIHByb21pc2UpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbihlKSB7XG5cdCAgICAgICAgdmFyIGJvdW5kVG8gPSBwcm9taXNlLl9ib3VuZFZhbHVlKCk7XG5cdCAgICAgICAgcHJlZGljYXRlTG9vcDogZm9yICh2YXIgaSA9IDA7IGkgPCBpbnN0YW5jZXMubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICAgICAgdmFyIGl0ZW0gPSBpbnN0YW5jZXNbaV07XG5cdFxuXHQgICAgICAgICAgICBpZiAoaXRlbSA9PT0gRXJyb3IgfHxcblx0ICAgICAgICAgICAgICAgIChpdGVtICE9IG51bGwgJiYgaXRlbS5wcm90b3R5cGUgaW5zdGFuY2VvZiBFcnJvcikpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgaXRlbSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnlDYXRjaChjYikuY2FsbChib3VuZFRvLCBlKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaXRlbSA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlc1ByZWRpY2F0ZSA9IHRyeUNhdGNoKGl0ZW0pLmNhbGwoYm91bmRUbywgZSk7XG5cdCAgICAgICAgICAgICAgICBpZiAobWF0Y2hlc1ByZWRpY2F0ZSA9PT0gZXJyb3JPYmopIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlc1ByZWRpY2F0ZTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2hlc1ByZWRpY2F0ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnlDYXRjaChjYikuY2FsbChib3VuZFRvLCBlKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSBlbHNlIGlmICh1dGlsLmlzT2JqZWN0KGUpKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIga2V5cyA9IGdldEtleXMoaXRlbSk7XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGtleXMubGVuZ3RoOyArK2opIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tqXTtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbVtrZXldICE9IGVba2V5XSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBwcmVkaWNhdGVMb29wO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHJldHVybiB0cnlDYXRjaChjYikuY2FsbChib3VuZFRvLCBlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gTkVYVF9GSUxURVI7XG5cdCAgICB9O1xuXHR9XG5cdFxuXHRyZXR1cm4gY2F0Y2hGaWx0ZXI7XG5cdH07XG5cdFxuXHR9LHtcIi4vZXM1XCI6MTMsXCIuL3V0aWxcIjozNn1dLDg6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlKSB7XG5cdHZhciBsb25nU3RhY2tUcmFjZXMgPSBmYWxzZTtcblx0dmFyIGNvbnRleHRTdGFjayA9IFtdO1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3Byb21pc2VDcmVhdGVkID0gZnVuY3Rpb24oKSB7fTtcblx0UHJvbWlzZS5wcm90b3R5cGUuX3B1c2hDb250ZXh0ID0gZnVuY3Rpb24oKSB7fTtcblx0UHJvbWlzZS5wcm90b3R5cGUuX3BvcENvbnRleHQgPSBmdW5jdGlvbigpIHtyZXR1cm4gbnVsbDt9O1xuXHRQcm9taXNlLl9wZWVrQ29udGV4dCA9IFByb21pc2UucHJvdG90eXBlLl9wZWVrQ29udGV4dCA9IGZ1bmN0aW9uKCkge307XG5cdFxuXHRmdW5jdGlvbiBDb250ZXh0KCkge1xuXHQgICAgdGhpcy5fdHJhY2UgPSBuZXcgQ29udGV4dC5DYXB0dXJlZFRyYWNlKHBlZWtDb250ZXh0KCkpO1xuXHR9XG5cdENvbnRleHQucHJvdG90eXBlLl9wdXNoQ29udGV4dCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICh0aGlzLl90cmFjZSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdGhpcy5fdHJhY2UuX3Byb21pc2VDcmVhdGVkID0gbnVsbDtcblx0ICAgICAgICBjb250ZXh0U3RhY2sucHVzaCh0aGlzLl90cmFjZSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRDb250ZXh0LnByb3RvdHlwZS5fcG9wQ29udGV4dCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICh0aGlzLl90cmFjZSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHRyYWNlID0gY29udGV4dFN0YWNrLnBvcCgpO1xuXHQgICAgICAgIHZhciByZXQgPSB0cmFjZS5fcHJvbWlzZUNyZWF0ZWQ7XG5cdCAgICAgICAgdHJhY2UuX3Byb21pc2VDcmVhdGVkID0gbnVsbDtcblx0ICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG51bGw7XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVDb250ZXh0KCkge1xuXHQgICAgaWYgKGxvbmdTdGFja1RyYWNlcykgcmV0dXJuIG5ldyBDb250ZXh0KCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHBlZWtDb250ZXh0KCkge1xuXHQgICAgdmFyIGxhc3RJbmRleCA9IGNvbnRleHRTdGFjay5sZW5ndGggLSAxO1xuXHQgICAgaWYgKGxhc3RJbmRleCA+PSAwKSB7XG5cdCAgICAgICAgcmV0dXJuIGNvbnRleHRTdGFja1tsYXN0SW5kZXhdO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHVuZGVmaW5lZDtcblx0fVxuXHRDb250ZXh0LkNhcHR1cmVkVHJhY2UgPSBudWxsO1xuXHRDb250ZXh0LmNyZWF0ZSA9IGNyZWF0ZUNvbnRleHQ7XG5cdENvbnRleHQuZGVhY3RpdmF0ZUxvbmdTdGFja1RyYWNlcyA9IGZ1bmN0aW9uKCkge307XG5cdENvbnRleHQuYWN0aXZhdGVMb25nU3RhY2tUcmFjZXMgPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciBQcm9taXNlX3B1c2hDb250ZXh0ID0gUHJvbWlzZS5wcm90b3R5cGUuX3B1c2hDb250ZXh0O1xuXHQgICAgdmFyIFByb21pc2VfcG9wQ29udGV4dCA9IFByb21pc2UucHJvdG90eXBlLl9wb3BDb250ZXh0O1xuXHQgICAgdmFyIFByb21pc2VfUGVla0NvbnRleHQgPSBQcm9taXNlLl9wZWVrQ29udGV4dDtcblx0ICAgIHZhciBQcm9taXNlX3BlZWtDb250ZXh0ID0gUHJvbWlzZS5wcm90b3R5cGUuX3BlZWtDb250ZXh0O1xuXHQgICAgdmFyIFByb21pc2VfcHJvbWlzZUNyZWF0ZWQgPSBQcm9taXNlLnByb3RvdHlwZS5fcHJvbWlzZUNyZWF0ZWQ7XG5cdCAgICBDb250ZXh0LmRlYWN0aXZhdGVMb25nU3RhY2tUcmFjZXMgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fcHVzaENvbnRleHQgPSBQcm9taXNlX3B1c2hDb250ZXh0O1xuXHQgICAgICAgIFByb21pc2UucHJvdG90eXBlLl9wb3BDb250ZXh0ID0gUHJvbWlzZV9wb3BDb250ZXh0O1xuXHQgICAgICAgIFByb21pc2UuX3BlZWtDb250ZXh0ID0gUHJvbWlzZV9QZWVrQ29udGV4dDtcblx0ICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fcGVla0NvbnRleHQgPSBQcm9taXNlX3BlZWtDb250ZXh0O1xuXHQgICAgICAgIFByb21pc2UucHJvdG90eXBlLl9wcm9taXNlQ3JlYXRlZCA9IFByb21pc2VfcHJvbWlzZUNyZWF0ZWQ7XG5cdCAgICAgICAgbG9uZ1N0YWNrVHJhY2VzID0gZmFsc2U7XG5cdCAgICB9O1xuXHQgICAgbG9uZ1N0YWNrVHJhY2VzID0gdHJ1ZTtcblx0ICAgIFByb21pc2UucHJvdG90eXBlLl9wdXNoQ29udGV4dCA9IENvbnRleHQucHJvdG90eXBlLl9wdXNoQ29udGV4dDtcblx0ICAgIFByb21pc2UucHJvdG90eXBlLl9wb3BDb250ZXh0ID0gQ29udGV4dC5wcm90b3R5cGUuX3BvcENvbnRleHQ7XG5cdCAgICBQcm9taXNlLl9wZWVrQ29udGV4dCA9IFByb21pc2UucHJvdG90eXBlLl9wZWVrQ29udGV4dCA9IHBlZWtDb250ZXh0O1xuXHQgICAgUHJvbWlzZS5wcm90b3R5cGUuX3Byb21pc2VDcmVhdGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIGN0eCA9IHRoaXMuX3BlZWtDb250ZXh0KCk7XG5cdCAgICAgICAgaWYgKGN0eCAmJiBjdHguX3Byb21pc2VDcmVhdGVkID09IG51bGwpIGN0eC5fcHJvbWlzZUNyZWF0ZWQgPSB0aGlzO1xuXHQgICAgfTtcblx0fTtcblx0cmV0dXJuIENvbnRleHQ7XG5cdH07XG5cdFxuXHR9LHt9XSw5OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSwgQ29udGV4dCkge1xuXHR2YXIgZ2V0RG9tYWluID0gUHJvbWlzZS5fZ2V0RG9tYWluO1xuXHR2YXIgYXN5bmMgPSBQcm9taXNlLl9hc3luYztcblx0dmFyIFdhcm5pbmcgPSBfZGVyZXFfKFwiLi9lcnJvcnNcIikuV2FybmluZztcblx0dmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXHR2YXIgY2FuQXR0YWNoVHJhY2UgPSB1dGlsLmNhbkF0dGFjaFRyYWNlO1xuXHR2YXIgdW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlZDtcblx0dmFyIHBvc3NpYmx5VW5oYW5kbGVkUmVqZWN0aW9uO1xuXHR2YXIgYmx1ZWJpcmRGcmFtZVBhdHRlcm4gPVxuXHQgICAgL1tcXFxcXFwvXWJsdWViaXJkW1xcXFxcXC9danNbXFxcXFxcL10ocmVsZWFzZXxkZWJ1Z3xpbnN0cnVtZW50ZWQpLztcblx0dmFyIG5vZGVGcmFtZVBhdHRlcm4gPSAvXFwoKD86dGltZXJzXFwuanMpOlxcZCs6XFxkK1xcKS87XG5cdHZhciBwYXJzZUxpbmVQYXR0ZXJuID0gL1tcXC88XFwoXSguKz8pOihcXGQrKTooXFxkKylcXCk/XFxzKiQvO1xuXHR2YXIgc3RhY2tGcmFtZVBhdHRlcm4gPSBudWxsO1xuXHR2YXIgZm9ybWF0U3RhY2sgPSBudWxsO1xuXHR2YXIgaW5kZW50U3RhY2tGcmFtZXMgPSBmYWxzZTtcblx0dmFyIHByaW50V2FybmluZztcblx0dmFyIGRlYnVnZ2luZyA9ICEhKHV0aWwuZW52KFwiQkxVRUJJUkRfREVCVUdcIikgIT0gMCAmJlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAodHJ1ZSB8fFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbC5lbnYoXCJCTFVFQklSRF9ERUJVR1wiKSB8fFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbC5lbnYoXCJOT0RFX0VOVlwiKSA9PT0gXCJkZXZlbG9wbWVudFwiKSk7XG5cdFxuXHR2YXIgd2FybmluZ3MgPSAhISh1dGlsLmVudihcIkJMVUVCSVJEX1dBUk5JTkdTXCIpICE9IDAgJiZcblx0ICAgIChkZWJ1Z2dpbmcgfHwgdXRpbC5lbnYoXCJCTFVFQklSRF9XQVJOSU5HU1wiKSkpO1xuXHRcblx0dmFyIGxvbmdTdGFja1RyYWNlcyA9ICEhKHV0aWwuZW52KFwiQkxVRUJJUkRfTE9OR19TVEFDS19UUkFDRVNcIikgIT0gMCAmJlxuXHQgICAgKGRlYnVnZ2luZyB8fCB1dGlsLmVudihcIkJMVUVCSVJEX0xPTkdfU1RBQ0tfVFJBQ0VTXCIpKSk7XG5cdFxuXHR2YXIgd0ZvcmdvdHRlblJldHVybiA9IHV0aWwuZW52KFwiQkxVRUJJUkRfV19GT1JHT1RURU5fUkVUVVJOXCIpICE9IDAgJiZcblx0ICAgICh3YXJuaW5ncyB8fCAhIXV0aWwuZW52KFwiQkxVRUJJUkRfV19GT1JHT1RURU5fUkVUVVJOXCIpKTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIHRhcmdldCA9IHRoaXMuX3RhcmdldCgpO1xuXHQgICAgdGFyZ2V0Ll9iaXRGaWVsZCA9ICgodGFyZ2V0Ll9iaXRGaWVsZCAmICh+MTA0ODU3NikpIHxcblx0ICAgICAgICAgICAgICAgICAgICAgIDUyNDI4OCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fZW5zdXJlUG9zc2libGVSZWplY3Rpb25IYW5kbGVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKCh0aGlzLl9iaXRGaWVsZCAmIDUyNDI4OCkgIT09IDApIHJldHVybjtcblx0ICAgIHRoaXMuX3NldFJlamVjdGlvbklzVW5oYW5kbGVkKCk7XG5cdCAgICBhc3luYy5pbnZva2VMYXRlcih0aGlzLl9ub3RpZnlVbmhhbmRsZWRSZWplY3Rpb24sIHRoaXMsIHVuZGVmaW5lZCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fbm90aWZ5VW5oYW5kbGVkUmVqZWN0aW9uSXNIYW5kbGVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgZmlyZVJlamVjdGlvbkV2ZW50KFwicmVqZWN0aW9uSGFuZGxlZFwiLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlZCwgdW5kZWZpbmVkLCB0aGlzKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9zZXRSZXR1cm5lZE5vblVuZGVmaW5lZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCB8IDI2ODQzNTQ1Njtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9yZXR1cm5lZE5vblVuZGVmaW5lZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDI2ODQzNTQ1NikgIT09IDA7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fbm90aWZ5VW5oYW5kbGVkUmVqZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHRoaXMuX2lzUmVqZWN0aW9uVW5oYW5kbGVkKCkpIHtcblx0ICAgICAgICB2YXIgcmVhc29uID0gdGhpcy5fc2V0dGxlZFZhbHVlKCk7XG5cdCAgICAgICAgdGhpcy5fc2V0VW5oYW5kbGVkUmVqZWN0aW9uSXNOb3RpZmllZCgpO1xuXHQgICAgICAgIGZpcmVSZWplY3Rpb25FdmVudChcInVuaGFuZGxlZFJlamVjdGlvblwiLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmx5VW5oYW5kbGVkUmVqZWN0aW9uLCByZWFzb24sIHRoaXMpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3NldFVuaGFuZGxlZFJlamVjdGlvbklzTm90aWZpZWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgMjYyMTQ0O1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3Vuc2V0VW5oYW5kbGVkUmVqZWN0aW9uSXNOb3RpZmllZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgJiAofjI2MjE0NCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5faXNVbmhhbmRsZWRSZWplY3Rpb25Ob3RpZmllZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiAyNjIxNDQpID4gMDtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCAxMDQ4NTc2O1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3Vuc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkICYgKH4xMDQ4NTc2KTtcblx0ICAgIGlmICh0aGlzLl9pc1VuaGFuZGxlZFJlamVjdGlvbk5vdGlmaWVkKCkpIHtcblx0ICAgICAgICB0aGlzLl91bnNldFVuaGFuZGxlZFJlamVjdGlvbklzTm90aWZpZWQoKTtcblx0ICAgICAgICB0aGlzLl9ub3RpZnlVbmhhbmRsZWRSZWplY3Rpb25Jc0hhbmRsZWQoKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9pc1JlamVjdGlvblVuaGFuZGxlZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiAxMDQ4NTc2KSA+IDA7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fd2FybiA9IGZ1bmN0aW9uKG1lc3NhZ2UsIHNob3VsZFVzZU93blRyYWNlLCBwcm9taXNlKSB7XG5cdCAgICByZXR1cm4gd2FybihtZXNzYWdlLCBzaG91bGRVc2VPd25UcmFjZSwgcHJvbWlzZSB8fCB0aGlzKTtcblx0fTtcblx0XG5cdFByb21pc2Uub25Qb3NzaWJseVVuaGFuZGxlZFJlamVjdGlvbiA9IGZ1bmN0aW9uIChmbikge1xuXHQgICAgdmFyIGRvbWFpbiA9IGdldERvbWFpbigpO1xuXHQgICAgcG9zc2libHlVbmhhbmRsZWRSZWplY3Rpb24gPVxuXHQgICAgICAgIHR5cGVvZiBmbiA9PT0gXCJmdW5jdGlvblwiID8gKGRvbWFpbiA9PT0gbnVsbCA/XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm4gOiB1dGlsLmRvbWFpbkJpbmQoZG9tYWluLCBmbikpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5vblVuaGFuZGxlZFJlamVjdGlvbkhhbmRsZWQgPSBmdW5jdGlvbiAoZm4pIHtcblx0ICAgIHZhciBkb21haW4gPSBnZXREb21haW4oKTtcblx0ICAgIHVuaGFuZGxlZFJlamVjdGlvbkhhbmRsZWQgPVxuXHQgICAgICAgIHR5cGVvZiBmbiA9PT0gXCJmdW5jdGlvblwiID8gKGRvbWFpbiA9PT0gbnVsbCA/XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm4gOiB1dGlsLmRvbWFpbkJpbmQoZG9tYWluLCBmbikpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuXHR9O1xuXHRcblx0dmFyIGRpc2FibGVMb25nU3RhY2tUcmFjZXMgPSBmdW5jdGlvbigpIHt9O1xuXHRQcm9taXNlLmxvbmdTdGFja1RyYWNlcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmIChhc3luYy5oYXZlSXRlbXNRdWV1ZWQoKSAmJiAhY29uZmlnLmxvbmdTdGFja1RyYWNlcykge1xuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNhbm5vdCBlbmFibGUgbG9uZyBzdGFjayB0cmFjZXMgYWZ0ZXIgcHJvbWlzZXMgaGF2ZSBiZWVuIGNyZWF0ZWRcXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuXHQgICAgfVxuXHQgICAgaWYgKCFjb25maWcubG9uZ1N0YWNrVHJhY2VzICYmIGxvbmdTdGFja1RyYWNlc0lzU3VwcG9ydGVkKCkpIHtcblx0ICAgICAgICB2YXIgUHJvbWlzZV9jYXB0dXJlU3RhY2tUcmFjZSA9IFByb21pc2UucHJvdG90eXBlLl9jYXB0dXJlU3RhY2tUcmFjZTtcblx0ICAgICAgICB2YXIgUHJvbWlzZV9hdHRhY2hFeHRyYVRyYWNlID0gUHJvbWlzZS5wcm90b3R5cGUuX2F0dGFjaEV4dHJhVHJhY2U7XG5cdCAgICAgICAgY29uZmlnLmxvbmdTdGFja1RyYWNlcyA9IHRydWU7XG5cdCAgICAgICAgZGlzYWJsZUxvbmdTdGFja1RyYWNlcyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICBpZiAoYXN5bmMuaGF2ZUl0ZW1zUXVldWVkKCkgJiYgIWNvbmZpZy5sb25nU3RhY2tUcmFjZXMpIHtcblx0ICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNhbm5vdCBlbmFibGUgbG9uZyBzdGFjayB0cmFjZXMgYWZ0ZXIgcHJvbWlzZXMgaGF2ZSBiZWVuIGNyZWF0ZWRcXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIFByb21pc2UucHJvdG90eXBlLl9jYXB0dXJlU3RhY2tUcmFjZSA9IFByb21pc2VfY2FwdHVyZVN0YWNrVHJhY2U7XG5cdCAgICAgICAgICAgIFByb21pc2UucHJvdG90eXBlLl9hdHRhY2hFeHRyYVRyYWNlID0gUHJvbWlzZV9hdHRhY2hFeHRyYVRyYWNlO1xuXHQgICAgICAgICAgICBDb250ZXh0LmRlYWN0aXZhdGVMb25nU3RhY2tUcmFjZXMoKTtcblx0ICAgICAgICAgICAgYXN5bmMuZW5hYmxlVHJhbXBvbGluZSgpO1xuXHQgICAgICAgICAgICBjb25maWcubG9uZ1N0YWNrVHJhY2VzID0gZmFsc2U7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fY2FwdHVyZVN0YWNrVHJhY2UgPSBsb25nU3RhY2tUcmFjZXNDYXB0dXJlU3RhY2tUcmFjZTtcblx0ICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fYXR0YWNoRXh0cmFUcmFjZSA9IGxvbmdTdGFja1RyYWNlc0F0dGFjaEV4dHJhVHJhY2U7XG5cdCAgICAgICAgQ29udGV4dC5hY3RpdmF0ZUxvbmdTdGFja1RyYWNlcygpO1xuXHQgICAgICAgIGFzeW5jLmRpc2FibGVUcmFtcG9saW5lSWZOZWNlc3NhcnkoKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdFByb21pc2UuaGFzTG9uZ1N0YWNrVHJhY2VzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIGNvbmZpZy5sb25nU3RhY2tUcmFjZXMgJiYgbG9uZ1N0YWNrVHJhY2VzSXNTdXBwb3J0ZWQoKTtcblx0fTtcblx0XG5cdHZhciBmaXJlRG9tRXZlbnQgPSAoZnVuY3Rpb24oKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGlmICh0eXBlb2YgQ3VzdG9tRXZlbnQgPT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgICAgICB2YXIgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXCJDdXN0b21FdmVudFwiKTtcblx0ICAgICAgICAgICAgdXRpbC5nbG9iYWwuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cdCAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihuYW1lLCBldmVudCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGRvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KG5hbWUudG9Mb3dlckNhc2UoKSwge1xuXHQgICAgICAgICAgICAgICAgICAgIGRldGFpbDogZXZlbnQsXG5cdCAgICAgICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gIXV0aWwuZ2xvYmFsLmRpc3BhdGNoRXZlbnQoZG9tRXZlbnQpO1xuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIEV2ZW50ID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgdmFyIGV2ZW50ID0gbmV3IEV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7XG5cdCAgICAgICAgICAgIHV0aWwuZ2xvYmFsLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXHQgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24obmFtZSwgZXZlbnQpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBkb21FdmVudCA9IG5ldyBFdmVudChuYW1lLnRvTG93ZXJDYXNlKCksIHtcblx0ICAgICAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIGRvbUV2ZW50LmRldGFpbCA9IGV2ZW50O1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuICF1dGlsLmdsb2JhbC5kaXNwYXRjaEV2ZW50KGRvbUV2ZW50KTtcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB2YXIgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIkN1c3RvbUV2ZW50XCIpO1xuXHQgICAgICAgICAgICBldmVudC5pbml0Q3VzdG9tRXZlbnQoXCJ0ZXN0aW5ndGhlZXZlbnRcIiwgZmFsc2UsIHRydWUsIHt9KTtcblx0ICAgICAgICAgICAgdXRpbC5nbG9iYWwuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cdCAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihuYW1lLCBldmVudCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGRvbUV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJDdXN0b21FdmVudFwiKTtcblx0ICAgICAgICAgICAgICAgIGRvbUV2ZW50LmluaXRDdXN0b21FdmVudChuYW1lLnRvTG93ZXJDYXNlKCksIGZhbHNlLCB0cnVlLFxuXHQgICAgICAgICAgICAgICAgICAgIGV2ZW50KTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiAhdXRpbC5nbG9iYWwuZGlzcGF0Y2hFdmVudChkb21FdmVudCk7XG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZSkge31cblx0ICAgIHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9O1xuXHR9KSgpO1xuXHRcblx0dmFyIGZpcmVHbG9iYWxFdmVudCA9IChmdW5jdGlvbigpIHtcblx0ICAgIGlmICh1dGlsLmlzTm9kZSkge1xuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3MuZW1pdC5hcHBseShwcm9jZXNzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgIH07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlmICghdXRpbC5nbG9iYWwpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24obmFtZSkge1xuXHQgICAgICAgICAgICB2YXIgbWV0aG9kTmFtZSA9IFwib25cIiArIG5hbWUudG9Mb3dlckNhc2UoKTtcblx0ICAgICAgICAgICAgdmFyIG1ldGhvZCA9IHV0aWwuZ2xvYmFsW21ldGhvZE5hbWVdO1xuXHQgICAgICAgICAgICBpZiAoIW1ldGhvZCkgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgICBtZXRob2QuYXBwbHkodXRpbC5nbG9iYWwsIFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG5cdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdH0pKCk7XG5cdFxuXHRmdW5jdGlvbiBnZW5lcmF0ZVByb21pc2VMaWZlY3ljbGVFdmVudE9iamVjdChuYW1lLCBwcm9taXNlKSB7XG5cdCAgICByZXR1cm4ge3Byb21pc2U6IHByb21pc2V9O1xuXHR9XG5cdFxuXHR2YXIgZXZlbnRUb09iamVjdEdlbmVyYXRvciA9IHtcblx0ICAgIHByb21pc2VDcmVhdGVkOiBnZW5lcmF0ZVByb21pc2VMaWZlY3ljbGVFdmVudE9iamVjdCxcblx0ICAgIHByb21pc2VGdWxmaWxsZWQ6IGdlbmVyYXRlUHJvbWlzZUxpZmVjeWNsZUV2ZW50T2JqZWN0LFxuXHQgICAgcHJvbWlzZVJlamVjdGVkOiBnZW5lcmF0ZVByb21pc2VMaWZlY3ljbGVFdmVudE9iamVjdCxcblx0ICAgIHByb21pc2VSZXNvbHZlZDogZ2VuZXJhdGVQcm9taXNlTGlmZWN5Y2xlRXZlbnRPYmplY3QsXG5cdCAgICBwcm9taXNlQ2FuY2VsbGVkOiBnZW5lcmF0ZVByb21pc2VMaWZlY3ljbGVFdmVudE9iamVjdCxcblx0ICAgIHByb21pc2VDaGFpbmVkOiBmdW5jdGlvbihuYW1lLCBwcm9taXNlLCBjaGlsZCkge1xuXHQgICAgICAgIHJldHVybiB7cHJvbWlzZTogcHJvbWlzZSwgY2hpbGQ6IGNoaWxkfTtcblx0ICAgIH0sXG5cdCAgICB3YXJuaW5nOiBmdW5jdGlvbihuYW1lLCB3YXJuaW5nKSB7XG5cdCAgICAgICAgcmV0dXJuIHt3YXJuaW5nOiB3YXJuaW5nfTtcblx0ICAgIH0sXG5cdCAgICB1bmhhbmRsZWRSZWplY3Rpb246IGZ1bmN0aW9uIChuYW1lLCByZWFzb24sIHByb21pc2UpIHtcblx0ICAgICAgICByZXR1cm4ge3JlYXNvbjogcmVhc29uLCBwcm9taXNlOiBwcm9taXNlfTtcblx0ICAgIH0sXG5cdCAgICByZWplY3Rpb25IYW5kbGVkOiBnZW5lcmF0ZVByb21pc2VMaWZlY3ljbGVFdmVudE9iamVjdFxuXHR9O1xuXHRcblx0dmFyIGFjdGl2ZUZpcmVFdmVudCA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgICB2YXIgZ2xvYmFsRXZlbnRGaXJlZCA9IGZhbHNlO1xuXHQgICAgdHJ5IHtcblx0ICAgICAgICBnbG9iYWxFdmVudEZpcmVkID0gZmlyZUdsb2JhbEV2ZW50LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgYXN5bmMudGhyb3dMYXRlcihlKTtcblx0ICAgICAgICBnbG9iYWxFdmVudEZpcmVkID0gdHJ1ZTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgZG9tRXZlbnRGaXJlZCA9IGZhbHNlO1xuXHQgICAgdHJ5IHtcblx0ICAgICAgICBkb21FdmVudEZpcmVkID0gZmlyZURvbUV2ZW50KG5hbWUsXG5cdCAgICAgICAgICAgICAgICAgICAgZXZlbnRUb09iamVjdEdlbmVyYXRvcltuYW1lXS5hcHBseShudWxsLCBhcmd1bWVudHMpKTtcblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICBhc3luYy50aHJvd0xhdGVyKGUpO1xuXHQgICAgICAgIGRvbUV2ZW50RmlyZWQgPSB0cnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBkb21FdmVudEZpcmVkIHx8IGdsb2JhbEV2ZW50RmlyZWQ7XG5cdH07XG5cdFxuXHRQcm9taXNlLmNvbmZpZyA9IGZ1bmN0aW9uKG9wdHMpIHtcblx0ICAgIG9wdHMgPSBPYmplY3Qob3B0cyk7XG5cdCAgICBpZiAoXCJsb25nU3RhY2tUcmFjZXNcIiBpbiBvcHRzKSB7XG5cdCAgICAgICAgaWYgKG9wdHMubG9uZ1N0YWNrVHJhY2VzKSB7XG5cdCAgICAgICAgICAgIFByb21pc2UubG9uZ1N0YWNrVHJhY2VzKCk7XG5cdCAgICAgICAgfSBlbHNlIGlmICghb3B0cy5sb25nU3RhY2tUcmFjZXMgJiYgUHJvbWlzZS5oYXNMb25nU3RhY2tUcmFjZXMoKSkge1xuXHQgICAgICAgICAgICBkaXNhYmxlTG9uZ1N0YWNrVHJhY2VzKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgaWYgKFwid2FybmluZ3NcIiBpbiBvcHRzKSB7XG5cdCAgICAgICAgdmFyIHdhcm5pbmdzT3B0aW9uID0gb3B0cy53YXJuaW5ncztcblx0ICAgICAgICBjb25maWcud2FybmluZ3MgPSAhIXdhcm5pbmdzT3B0aW9uO1xuXHQgICAgICAgIHdGb3Jnb3R0ZW5SZXR1cm4gPSBjb25maWcud2FybmluZ3M7XG5cdFxuXHQgICAgICAgIGlmICh1dGlsLmlzT2JqZWN0KHdhcm5pbmdzT3B0aW9uKSkge1xuXHQgICAgICAgICAgICBpZiAoXCJ3Rm9yZ290dGVuUmV0dXJuXCIgaW4gd2FybmluZ3NPcHRpb24pIHtcblx0ICAgICAgICAgICAgICAgIHdGb3Jnb3R0ZW5SZXR1cm4gPSAhIXdhcm5pbmdzT3B0aW9uLndGb3Jnb3R0ZW5SZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBpZiAoXCJjYW5jZWxsYXRpb25cIiBpbiBvcHRzICYmIG9wdHMuY2FuY2VsbGF0aW9uICYmICFjb25maWcuY2FuY2VsbGF0aW9uKSB7XG5cdCAgICAgICAgaWYgKGFzeW5jLmhhdmVJdGVtc1F1ZXVlZCgpKSB7XG5cdCAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcblx0ICAgICAgICAgICAgICAgIFwiY2Fubm90IGVuYWJsZSBjYW5jZWxsYXRpb24gYWZ0ZXIgcHJvbWlzZXMgYXJlIGluIHVzZVwiKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX2NsZWFyQ2FuY2VsbGF0aW9uRGF0YSA9XG5cdCAgICAgICAgICAgIGNhbmNlbGxhdGlvbkNsZWFyQ2FuY2VsbGF0aW9uRGF0YTtcblx0ICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fcHJvcGFnYXRlRnJvbSA9IGNhbmNlbGxhdGlvblByb3BhZ2F0ZUZyb207XG5cdCAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX29uQ2FuY2VsID0gY2FuY2VsbGF0aW9uT25DYW5jZWw7XG5cdCAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX3NldE9uQ2FuY2VsID0gY2FuY2VsbGF0aW9uU2V0T25DYW5jZWw7XG5cdCAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX2F0dGFjaENhbmNlbGxhdGlvbkNhbGxiYWNrID1cblx0ICAgICAgICAgICAgY2FuY2VsbGF0aW9uQXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2s7XG5cdCAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX2V4ZWN1dGUgPSBjYW5jZWxsYXRpb25FeGVjdXRlO1xuXHQgICAgICAgIHByb3BhZ2F0ZUZyb21GdW5jdGlvbiA9IGNhbmNlbGxhdGlvblByb3BhZ2F0ZUZyb207XG5cdCAgICAgICAgY29uZmlnLmNhbmNlbGxhdGlvbiA9IHRydWU7XG5cdCAgICB9XG5cdCAgICBpZiAoXCJtb25pdG9yaW5nXCIgaW4gb3B0cykge1xuXHQgICAgICAgIGlmIChvcHRzLm1vbml0b3JpbmcgJiYgIWNvbmZpZy5tb25pdG9yaW5nKSB7XG5cdCAgICAgICAgICAgIGNvbmZpZy5tb25pdG9yaW5nID0gdHJ1ZTtcblx0ICAgICAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX2ZpcmVFdmVudCA9IGFjdGl2ZUZpcmVFdmVudDtcblx0ICAgICAgICB9IGVsc2UgaWYgKCFvcHRzLm1vbml0b3JpbmcgJiYgY29uZmlnLm1vbml0b3JpbmcpIHtcblx0ICAgICAgICAgICAgY29uZmlnLm1vbml0b3JpbmcgPSBmYWxzZTtcblx0ICAgICAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX2ZpcmVFdmVudCA9IGRlZmF1bHRGaXJlRXZlbnQ7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gZGVmYXVsdEZpcmVFdmVudCgpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fZmlyZUV2ZW50ID0gZGVmYXVsdEZpcmVFdmVudDtcblx0UHJvbWlzZS5wcm90b3R5cGUuX2V4ZWN1dGUgPSBmdW5jdGlvbihleGVjdXRvciwgcmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGV4ZWN1dG9yKHJlc29sdmUsIHJlamVjdCk7XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgcmV0dXJuIGU7XG5cdCAgICB9XG5cdH07XG5cdFByb21pc2UucHJvdG90eXBlLl9vbkNhbmNlbCA9IGZ1bmN0aW9uICgpIHt9O1xuXHRQcm9taXNlLnByb3RvdHlwZS5fc2V0T25DYW5jZWwgPSBmdW5jdGlvbiAoaGFuZGxlcikgeyA7IH07XG5cdFByb21pc2UucHJvdG90eXBlLl9hdHRhY2hDYW5jZWxsYXRpb25DYWxsYmFjayA9IGZ1bmN0aW9uKG9uQ2FuY2VsKSB7XG5cdCAgICA7XG5cdH07XG5cdFByb21pc2UucHJvdG90eXBlLl9jYXB0dXJlU3RhY2tUcmFjZSA9IGZ1bmN0aW9uICgpIHt9O1xuXHRQcm9taXNlLnByb3RvdHlwZS5fYXR0YWNoRXh0cmFUcmFjZSA9IGZ1bmN0aW9uICgpIHt9O1xuXHRQcm9taXNlLnByb3RvdHlwZS5fY2xlYXJDYW5jZWxsYXRpb25EYXRhID0gZnVuY3Rpb24oKSB7fTtcblx0UHJvbWlzZS5wcm90b3R5cGUuX3Byb3BhZ2F0ZUZyb20gPSBmdW5jdGlvbiAocGFyZW50LCBmbGFncykge1xuXHQgICAgO1xuXHQgICAgO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gY2FuY2VsbGF0aW9uRXhlY3V0ZShleGVjdXRvciwgcmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGV4ZWN1dG9yKHJlc29sdmUsIHJlamVjdCwgZnVuY3Rpb24ob25DYW5jZWwpIHtcblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiBvbkNhbmNlbCAhPT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwib25DYW5jZWwgbXVzdCBiZSBhIGZ1bmN0aW9uLCBnb3Q6IFwiICtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbC50b1N0cmluZyhvbkNhbmNlbCkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHByb21pc2UuX2F0dGFjaENhbmNlbGxhdGlvbkNhbGxiYWNrKG9uQ2FuY2VsKTtcblx0ICAgICAgICB9KTtcblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICByZXR1cm4gZTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gY2FuY2VsbGF0aW9uQXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2sob25DYW5jZWwpIHtcblx0ICAgIGlmICghdGhpcy5faXNDYW5jZWxsYWJsZSgpKSByZXR1cm4gdGhpcztcblx0XG5cdCAgICB2YXIgcHJldmlvdXNPbkNhbmNlbCA9IHRoaXMuX29uQ2FuY2VsKCk7XG5cdCAgICBpZiAocHJldmlvdXNPbkNhbmNlbCAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgaWYgKHV0aWwuaXNBcnJheShwcmV2aW91c09uQ2FuY2VsKSkge1xuXHQgICAgICAgICAgICBwcmV2aW91c09uQ2FuY2VsLnB1c2gob25DYW5jZWwpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHRoaXMuX3NldE9uQ2FuY2VsKFtwcmV2aW91c09uQ2FuY2VsLCBvbkNhbmNlbF0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5fc2V0T25DYW5jZWwob25DYW5jZWwpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBjYW5jZWxsYXRpb25PbkNhbmNlbCgpIHtcblx0ICAgIHJldHVybiB0aGlzLl9vbkNhbmNlbEZpZWxkO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjYW5jZWxsYXRpb25TZXRPbkNhbmNlbChvbkNhbmNlbCkge1xuXHQgICAgdGhpcy5fb25DYW5jZWxGaWVsZCA9IG9uQ2FuY2VsO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjYW5jZWxsYXRpb25DbGVhckNhbmNlbGxhdGlvbkRhdGEoKSB7XG5cdCAgICB0aGlzLl9jYW5jZWxsYXRpb25QYXJlbnQgPSB1bmRlZmluZWQ7XG5cdCAgICB0aGlzLl9vbkNhbmNlbEZpZWxkID0gdW5kZWZpbmVkO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjYW5jZWxsYXRpb25Qcm9wYWdhdGVGcm9tKHBhcmVudCwgZmxhZ3MpIHtcblx0ICAgIGlmICgoZmxhZ3MgJiAxKSAhPT0gMCkge1xuXHQgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvblBhcmVudCA9IHBhcmVudDtcblx0ICAgICAgICB2YXIgYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbCA9IHBhcmVudC5fYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbDtcblx0ICAgICAgICBpZiAoYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgIGJyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwgPSAwO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBwYXJlbnQuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwgPSBicmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsICsgMTtcblx0ICAgIH1cblx0ICAgIGlmICgoZmxhZ3MgJiAyKSAhPT0gMCAmJiBwYXJlbnQuX2lzQm91bmQoKSkge1xuXHQgICAgICAgIHRoaXMuX3NldEJvdW5kVG8ocGFyZW50Ll9ib3VuZFRvKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gYmluZGluZ1Byb3BhZ2F0ZUZyb20ocGFyZW50LCBmbGFncykge1xuXHQgICAgaWYgKChmbGFncyAmIDIpICE9PSAwICYmIHBhcmVudC5faXNCb3VuZCgpKSB7XG5cdCAgICAgICAgdGhpcy5fc2V0Qm91bmRUbyhwYXJlbnQuX2JvdW5kVG8pO1xuXHQgICAgfVxuXHR9XG5cdHZhciBwcm9wYWdhdGVGcm9tRnVuY3Rpb24gPSBiaW5kaW5nUHJvcGFnYXRlRnJvbTtcblx0XG5cdGZ1bmN0aW9uIGJvdW5kVmFsdWVGdW5jdGlvbigpIHtcblx0ICAgIHZhciByZXQgPSB0aGlzLl9ib3VuZFRvO1xuXHQgICAgaWYgKHJldCAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgaWYgKHJldCBpbnN0YW5jZW9mIFByb21pc2UpIHtcblx0ICAgICAgICAgICAgaWYgKHJldC5pc0Z1bGZpbGxlZCgpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gcmV0LnZhbHVlKCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJldDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbG9uZ1N0YWNrVHJhY2VzQ2FwdHVyZVN0YWNrVHJhY2UoKSB7XG5cdCAgICB0aGlzLl90cmFjZSA9IG5ldyBDYXB0dXJlZFRyYWNlKHRoaXMuX3BlZWtDb250ZXh0KCkpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBsb25nU3RhY2tUcmFjZXNBdHRhY2hFeHRyYVRyYWNlKGVycm9yLCBpZ25vcmVTZWxmKSB7XG5cdCAgICBpZiAoY2FuQXR0YWNoVHJhY2UoZXJyb3IpKSB7XG5cdCAgICAgICAgdmFyIHRyYWNlID0gdGhpcy5fdHJhY2U7XG5cdCAgICAgICAgaWYgKHRyYWNlICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgaWYgKGlnbm9yZVNlbGYpIHRyYWNlID0gdHJhY2UuX3BhcmVudDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKHRyYWNlICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgdHJhY2UuYXR0YWNoRXh0cmFUcmFjZShlcnJvcik7XG5cdCAgICAgICAgfSBlbHNlIGlmICghZXJyb3IuX19zdGFja0NsZWFuZWRfXykge1xuXHQgICAgICAgICAgICB2YXIgcGFyc2VkID0gcGFyc2VTdGFja0FuZE1lc3NhZ2UoZXJyb3IpO1xuXHQgICAgICAgICAgICB1dGlsLm5vdEVudW1lcmFibGVQcm9wKGVycm9yLCBcInN0YWNrXCIsXG5cdCAgICAgICAgICAgICAgICBwYXJzZWQubWVzc2FnZSArIFwiXFxuXCIgKyBwYXJzZWQuc3RhY2suam9pbihcIlxcblwiKSk7XG5cdCAgICAgICAgICAgIHV0aWwubm90RW51bWVyYWJsZVByb3AoZXJyb3IsIFwiX19zdGFja0NsZWFuZWRfX1wiLCB0cnVlKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNoZWNrRm9yZ290dGVuUmV0dXJucyhyZXR1cm5WYWx1ZSwgcHJvbWlzZUNyZWF0ZWQsIG5hbWUsIHByb21pc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQpIHtcblx0ICAgIGlmIChyZXR1cm5WYWx1ZSA9PT0gdW5kZWZpbmVkICYmIHByb21pc2VDcmVhdGVkICE9PSBudWxsICYmXG5cdCAgICAgICAgd0ZvcmdvdHRlblJldHVybikge1xuXHQgICAgICAgIGlmIChwYXJlbnQgIT09IHVuZGVmaW5lZCAmJiBwYXJlbnQuX3JldHVybmVkTm9uVW5kZWZpbmVkKCkpIHJldHVybjtcblx0ICAgICAgICBpZiAoKHByb21pc2UuX2JpdEZpZWxkICYgNjU1MzUpID09PSAwKSByZXR1cm47XG5cdFxuXHQgICAgICAgIGlmIChuYW1lKSBuYW1lID0gbmFtZSArIFwiIFwiO1xuXHQgICAgICAgIHZhciBoYW5kbGVyTGluZSA9IFwiXCI7XG5cdCAgICAgICAgdmFyIGNyZWF0b3JMaW5lID0gXCJcIjtcblx0ICAgICAgICBpZiAocHJvbWlzZUNyZWF0ZWQuX3RyYWNlKSB7XG5cdCAgICAgICAgICAgIHZhciB0cmFjZUxpbmVzID0gcHJvbWlzZUNyZWF0ZWQuX3RyYWNlLnN0YWNrLnNwbGl0KFwiXFxuXCIpO1xuXHQgICAgICAgICAgICB2YXIgc3RhY2sgPSBjbGVhblN0YWNrKHRyYWNlTGluZXMpO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gc3RhY2subGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBsaW5lID0gc3RhY2tbaV07XG5cdCAgICAgICAgICAgICAgICBpZiAoIW5vZGVGcmFtZVBhdHRlcm4udGVzdChsaW5lKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBsaW5lTWF0Y2hlcyA9IGxpbmUubWF0Y2gocGFyc2VMaW5lUGF0dGVybik7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmVNYXRjaGVzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXJMaW5lICA9IFwiYXQgXCIgKyBsaW5lTWF0Y2hlc1sxXSArXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjpcIiArIGxpbmVNYXRjaGVzWzJdICsgXCI6XCIgKyBsaW5lTWF0Y2hlc1szXSArIFwiIFwiO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgaWYgKHN0YWNrLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgICAgIHZhciBmaXJzdFVzZXJMaW5lID0gc3RhY2tbMF07XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyYWNlTGluZXMubGVuZ3RoOyArK2kpIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNlTGluZXNbaV0gPT09IGZpcnN0VXNlckxpbmUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdG9yTGluZSA9IFwiXFxuXCIgKyB0cmFjZUxpbmVzW2kgLSAxXTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBtc2cgPSBcImEgcHJvbWlzZSB3YXMgY3JlYXRlZCBpbiBhIFwiICsgbmFtZSArXG5cdCAgICAgICAgICAgIFwiaGFuZGxlciBcIiArIGhhbmRsZXJMaW5lICsgXCJidXQgd2FzIG5vdCByZXR1cm5lZCBmcm9tIGl0LCBcIiArXG5cdCAgICAgICAgICAgIFwic2VlIGh0dHA6Ly9nb28uZ2wvclJxTVV3XCIgK1xuXHQgICAgICAgICAgICBjcmVhdG9yTGluZTtcblx0ICAgICAgICBwcm9taXNlLl93YXJuKG1zZywgdHJ1ZSwgcHJvbWlzZUNyZWF0ZWQpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBkZXByZWNhdGVkKG5hbWUsIHJlcGxhY2VtZW50KSB7XG5cdCAgICB2YXIgbWVzc2FnZSA9IG5hbWUgK1xuXHQgICAgICAgIFwiIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSB2ZXJzaW9uLlwiO1xuXHQgICAgaWYgKHJlcGxhY2VtZW50KSBtZXNzYWdlICs9IFwiIFVzZSBcIiArIHJlcGxhY2VtZW50ICsgXCIgaW5zdGVhZC5cIjtcblx0ICAgIHJldHVybiB3YXJuKG1lc3NhZ2UpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB3YXJuKG1lc3NhZ2UsIHNob3VsZFVzZU93blRyYWNlLCBwcm9taXNlKSB7XG5cdCAgICBpZiAoIWNvbmZpZy53YXJuaW5ncykgcmV0dXJuO1xuXHQgICAgdmFyIHdhcm5pbmcgPSBuZXcgV2FybmluZyhtZXNzYWdlKTtcblx0ICAgIHZhciBjdHg7XG5cdCAgICBpZiAoc2hvdWxkVXNlT3duVHJhY2UpIHtcblx0ICAgICAgICBwcm9taXNlLl9hdHRhY2hFeHRyYVRyYWNlKHdhcm5pbmcpO1xuXHQgICAgfSBlbHNlIGlmIChjb25maWcubG9uZ1N0YWNrVHJhY2VzICYmIChjdHggPSBQcm9taXNlLl9wZWVrQ29udGV4dCgpKSkge1xuXHQgICAgICAgIGN0eC5hdHRhY2hFeHRyYVRyYWNlKHdhcm5pbmcpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgcGFyc2VkID0gcGFyc2VTdGFja0FuZE1lc3NhZ2Uod2FybmluZyk7XG5cdCAgICAgICAgd2FybmluZy5zdGFjayA9IHBhcnNlZC5tZXNzYWdlICsgXCJcXG5cIiArIHBhcnNlZC5zdGFjay5qb2luKFwiXFxuXCIpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICghYWN0aXZlRmlyZUV2ZW50KFwid2FybmluZ1wiLCB3YXJuaW5nKSkge1xuXHQgICAgICAgIGZvcm1hdEFuZExvZ0Vycm9yKHdhcm5pbmcsIFwiXCIsIHRydWUpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWNvbnN0cnVjdFN0YWNrKG1lc3NhZ2UsIHN0YWNrcykge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFja3MubGVuZ3RoIC0gMTsgKytpKSB7XG5cdCAgICAgICAgc3RhY2tzW2ldLnB1c2goXCJGcm9tIHByZXZpb3VzIGV2ZW50OlwiKTtcblx0ICAgICAgICBzdGFja3NbaV0gPSBzdGFja3NbaV0uam9pbihcIlxcblwiKTtcblx0ICAgIH1cblx0ICAgIGlmIChpIDwgc3RhY2tzLmxlbmd0aCkge1xuXHQgICAgICAgIHN0YWNrc1tpXSA9IHN0YWNrc1tpXS5qb2luKFwiXFxuXCIpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG1lc3NhZ2UgKyBcIlxcblwiICsgc3RhY2tzLmpvaW4oXCJcXG5cIik7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlbW92ZUR1cGxpY2F0ZU9yRW1wdHlKdW1wcyhzdGFja3MpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2tzLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgaWYgKHN0YWNrc1tpXS5sZW5ndGggPT09IDAgfHxcblx0ICAgICAgICAgICAgKChpICsgMSA8IHN0YWNrcy5sZW5ndGgpICYmIHN0YWNrc1tpXVswXSA9PT0gc3RhY2tzW2krMV1bMF0pKSB7XG5cdCAgICAgICAgICAgIHN0YWNrcy5zcGxpY2UoaSwgMSk7XG5cdCAgICAgICAgICAgIGktLTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlbW92ZUNvbW1vblJvb3RzKHN0YWNrcykge1xuXHQgICAgdmFyIGN1cnJlbnQgPSBzdGFja3NbMF07XG5cdCAgICBmb3IgKHZhciBpID0gMTsgaSA8IHN0YWNrcy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgIHZhciBwcmV2ID0gc3RhY2tzW2ldO1xuXHQgICAgICAgIHZhciBjdXJyZW50TGFzdEluZGV4ID0gY3VycmVudC5sZW5ndGggLSAxO1xuXHQgICAgICAgIHZhciBjdXJyZW50TGFzdExpbmUgPSBjdXJyZW50W2N1cnJlbnRMYXN0SW5kZXhdO1xuXHQgICAgICAgIHZhciBjb21tb25Sb290TWVldFBvaW50ID0gLTE7XG5cdFxuXHQgICAgICAgIGZvciAodmFyIGogPSBwcmV2Lmxlbmd0aCAtIDE7IGogPj0gMDsgLS1qKSB7XG5cdCAgICAgICAgICAgIGlmIChwcmV2W2pdID09PSBjdXJyZW50TGFzdExpbmUpIHtcblx0ICAgICAgICAgICAgICAgIGNvbW1vblJvb3RNZWV0UG9pbnQgPSBqO1xuXHQgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGZvciAodmFyIGogPSBjb21tb25Sb290TWVldFBvaW50OyBqID49IDA7IC0taikge1xuXHQgICAgICAgICAgICB2YXIgbGluZSA9IHByZXZbal07XG5cdCAgICAgICAgICAgIGlmIChjdXJyZW50W2N1cnJlbnRMYXN0SW5kZXhdID09PSBsaW5lKSB7XG5cdCAgICAgICAgICAgICAgICBjdXJyZW50LnBvcCgpO1xuXHQgICAgICAgICAgICAgICAgY3VycmVudExhc3RJbmRleC0tO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgY3VycmVudCA9IHByZXY7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNsZWFuU3RhY2soc3RhY2spIHtcblx0ICAgIHZhciByZXQgPSBbXTtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICB2YXIgbGluZSA9IHN0YWNrW2ldO1xuXHQgICAgICAgIHZhciBpc1RyYWNlTGluZSA9IFwiICAgIChObyBzdGFjayB0cmFjZSlcIiA9PT0gbGluZSB8fFxuXHQgICAgICAgICAgICBzdGFja0ZyYW1lUGF0dGVybi50ZXN0KGxpbmUpO1xuXHQgICAgICAgIHZhciBpc0ludGVybmFsRnJhbWUgPSBpc1RyYWNlTGluZSAmJiBzaG91bGRJZ25vcmUobGluZSk7XG5cdCAgICAgICAgaWYgKGlzVHJhY2VMaW5lICYmICFpc0ludGVybmFsRnJhbWUpIHtcblx0ICAgICAgICAgICAgaWYgKGluZGVudFN0YWNrRnJhbWVzICYmIGxpbmUuY2hhckF0KDApICE9PSBcIiBcIikge1xuXHQgICAgICAgICAgICAgICAgbGluZSA9IFwiICAgIFwiICsgbGluZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXQucHVzaChsaW5lKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmV0O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzdGFja0ZyYW1lc0FzQXJyYXkoZXJyb3IpIHtcblx0ICAgIHZhciBzdGFjayA9IGVycm9yLnN0YWNrLnJlcGxhY2UoL1xccyskL2csIFwiXCIpLnNwbGl0KFwiXFxuXCIpO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgIHZhciBsaW5lID0gc3RhY2tbaV07XG5cdCAgICAgICAgaWYgKFwiICAgIChObyBzdGFjayB0cmFjZSlcIiA9PT0gbGluZSB8fCBzdGFja0ZyYW1lUGF0dGVybi50ZXN0KGxpbmUpKSB7XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGlmIChpID4gMCkge1xuXHQgICAgICAgIHN0YWNrID0gc3RhY2suc2xpY2UoaSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gc3RhY2s7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHBhcnNlU3RhY2tBbmRNZXNzYWdlKGVycm9yKSB7XG5cdCAgICB2YXIgc3RhY2sgPSBlcnJvci5zdGFjaztcblx0ICAgIHZhciBtZXNzYWdlID0gZXJyb3IudG9TdHJpbmcoKTtcblx0ICAgIHN0YWNrID0gdHlwZW9mIHN0YWNrID09PSBcInN0cmluZ1wiICYmIHN0YWNrLmxlbmd0aCA+IDBcblx0ICAgICAgICAgICAgICAgID8gc3RhY2tGcmFtZXNBc0FycmF5KGVycm9yKSA6IFtcIiAgICAoTm8gc3RhY2sgdHJhY2UpXCJdO1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuXHQgICAgICAgIHN0YWNrOiBjbGVhblN0YWNrKHN0YWNrKVxuXHQgICAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZm9ybWF0QW5kTG9nRXJyb3IoZXJyb3IsIHRpdGxlLCBpc1NvZnQpIHtcblx0ICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHQgICAgICAgIHZhciBtZXNzYWdlO1xuXHQgICAgICAgIGlmICh1dGlsLmlzT2JqZWN0KGVycm9yKSkge1xuXHQgICAgICAgICAgICB2YXIgc3RhY2sgPSBlcnJvci5zdGFjaztcblx0ICAgICAgICAgICAgbWVzc2FnZSA9IHRpdGxlICsgZm9ybWF0U3RhY2soc3RhY2ssIGVycm9yKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBtZXNzYWdlID0gdGl0bGUgKyBTdHJpbmcoZXJyb3IpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAodHlwZW9mIHByaW50V2FybmluZyA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgIHByaW50V2FybmluZyhtZXNzYWdlLCBpc1NvZnQpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbnNvbGUubG9nID09PSBcImZ1bmN0aW9uXCIgfHxcblx0ICAgICAgICAgICAgdHlwZW9mIGNvbnNvbGUubG9nID09PSBcIm9iamVjdFwiKSB7XG5cdCAgICAgICAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZmlyZVJlamVjdGlvbkV2ZW50KG5hbWUsIGxvY2FsSGFuZGxlciwgcmVhc29uLCBwcm9taXNlKSB7XG5cdCAgICB2YXIgbG9jYWxFdmVudEZpcmVkID0gZmFsc2U7XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGlmICh0eXBlb2YgbG9jYWxIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgbG9jYWxFdmVudEZpcmVkID0gdHJ1ZTtcblx0ICAgICAgICAgICAgaWYgKG5hbWUgPT09IFwicmVqZWN0aW9uSGFuZGxlZFwiKSB7XG5cdCAgICAgICAgICAgICAgICBsb2NhbEhhbmRsZXIocHJvbWlzZSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBsb2NhbEhhbmRsZXIocmVhc29uLCBwcm9taXNlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICBhc3luYy50aHJvd0xhdGVyKGUpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChuYW1lID09PSBcInVuaGFuZGxlZFJlamVjdGlvblwiKSB7XG5cdCAgICAgICAgaWYgKCFhY3RpdmVGaXJlRXZlbnQobmFtZSwgcmVhc29uLCBwcm9taXNlKSAmJiAhbG9jYWxFdmVudEZpcmVkKSB7XG5cdCAgICAgICAgICAgIGZvcm1hdEFuZExvZ0Vycm9yKHJlYXNvbiwgXCJVbmhhbmRsZWQgcmVqZWN0aW9uIFwiKTtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGFjdGl2ZUZpcmVFdmVudChuYW1lLCBwcm9taXNlKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZm9ybWF0Tm9uRXJyb3Iob2JqKSB7XG5cdCAgICB2YXIgc3RyO1xuXHQgICAgaWYgKHR5cGVvZiBvYmogPT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgIHN0ciA9IFwiW2Z1bmN0aW9uIFwiICtcblx0ICAgICAgICAgICAgKG9iai5uYW1lIHx8IFwiYW5vbnltb3VzXCIpICtcblx0ICAgICAgICAgICAgXCJdXCI7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHN0ciA9IG9iaiAmJiB0eXBlb2Ygb2JqLnRvU3RyaW5nID09PSBcImZ1bmN0aW9uXCJcblx0ICAgICAgICAgICAgPyBvYmoudG9TdHJpbmcoKSA6IHV0aWwudG9TdHJpbmcob2JqKTtcblx0ICAgICAgICB2YXIgcnVzZWxlc3NUb1N0cmluZyA9IC9cXFtvYmplY3QgW2EtekEtWjAtOSRfXStcXF0vO1xuXHQgICAgICAgIGlmIChydXNlbGVzc1RvU3RyaW5nLnRlc3Qoc3RyKSkge1xuXHQgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgdmFyIG5ld1N0ciA9IEpTT04uc3RyaW5naWZ5KG9iaik7XG5cdCAgICAgICAgICAgICAgICBzdHIgPSBuZXdTdHI7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgY2F0Y2goZSkge1xuXHRcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoc3RyLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICAgICAgICBzdHIgPSBcIihlbXB0eSBhcnJheSlcIjtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gKFwiKDxcIiArIHNuaXAoc3RyKSArIFwiPiwgbm8gc3RhY2sgdHJhY2UpXCIpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzbmlwKHN0cikge1xuXHQgICAgdmFyIG1heENoYXJzID0gNDE7XG5cdCAgICBpZiAoc3RyLmxlbmd0aCA8IG1heENoYXJzKSB7XG5cdCAgICAgICAgcmV0dXJuIHN0cjtcblx0ICAgIH1cblx0ICAgIHJldHVybiBzdHIuc3Vic3RyKDAsIG1heENoYXJzIC0gMykgKyBcIi4uLlwiO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBsb25nU3RhY2tUcmFjZXNJc1N1cHBvcnRlZCgpIHtcblx0ICAgIHJldHVybiB0eXBlb2YgY2FwdHVyZVN0YWNrVHJhY2UgPT09IFwiZnVuY3Rpb25cIjtcblx0fVxuXHRcblx0dmFyIHNob3VsZElnbm9yZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gZmFsc2U7IH07XG5cdHZhciBwYXJzZUxpbmVJbmZvUmVnZXggPSAvW1xcLzxcXChdKFteOlxcL10rKTooXFxkKyk6KD86XFxkKylcXCk/XFxzKiQvO1xuXHRmdW5jdGlvbiBwYXJzZUxpbmVJbmZvKGxpbmUpIHtcblx0ICAgIHZhciBtYXRjaGVzID0gbGluZS5tYXRjaChwYXJzZUxpbmVJbmZvUmVnZXgpO1xuXHQgICAgaWYgKG1hdGNoZXMpIHtcblx0ICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICBmaWxlTmFtZTogbWF0Y2hlc1sxXSxcblx0ICAgICAgICAgICAgbGluZTogcGFyc2VJbnQobWF0Y2hlc1syXSwgMTApXG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gc2V0Qm91bmRzKGZpcnN0TGluZUVycm9yLCBsYXN0TGluZUVycm9yKSB7XG5cdCAgICBpZiAoIWxvbmdTdGFja1RyYWNlc0lzU3VwcG9ydGVkKCkpIHJldHVybjtcblx0ICAgIHZhciBmaXJzdFN0YWNrTGluZXMgPSBmaXJzdExpbmVFcnJvci5zdGFjay5zcGxpdChcIlxcblwiKTtcblx0ICAgIHZhciBsYXN0U3RhY2tMaW5lcyA9IGxhc3RMaW5lRXJyb3Iuc3RhY2suc3BsaXQoXCJcXG5cIik7XG5cdCAgICB2YXIgZmlyc3RJbmRleCA9IC0xO1xuXHQgICAgdmFyIGxhc3RJbmRleCA9IC0xO1xuXHQgICAgdmFyIGZpcnN0RmlsZU5hbWU7XG5cdCAgICB2YXIgbGFzdEZpbGVOYW1lO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaXJzdFN0YWNrTGluZXMubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gcGFyc2VMaW5lSW5mbyhmaXJzdFN0YWNrTGluZXNbaV0pO1xuXHQgICAgICAgIGlmIChyZXN1bHQpIHtcblx0ICAgICAgICAgICAgZmlyc3RGaWxlTmFtZSA9IHJlc3VsdC5maWxlTmFtZTtcblx0ICAgICAgICAgICAgZmlyc3RJbmRleCA9IHJlc3VsdC5saW5lO1xuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RTdGFja0xpbmVzLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgdmFyIHJlc3VsdCA9IHBhcnNlTGluZUluZm8obGFzdFN0YWNrTGluZXNbaV0pO1xuXHQgICAgICAgIGlmIChyZXN1bHQpIHtcblx0ICAgICAgICAgICAgbGFzdEZpbGVOYW1lID0gcmVzdWx0LmZpbGVOYW1lO1xuXHQgICAgICAgICAgICBsYXN0SW5kZXggPSByZXN1bHQubGluZTtcblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgaWYgKGZpcnN0SW5kZXggPCAwIHx8IGxhc3RJbmRleCA8IDAgfHwgIWZpcnN0RmlsZU5hbWUgfHwgIWxhc3RGaWxlTmFtZSB8fFxuXHQgICAgICAgIGZpcnN0RmlsZU5hbWUgIT09IGxhc3RGaWxlTmFtZSB8fCBmaXJzdEluZGV4ID49IGxhc3RJbmRleCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBzaG91bGRJZ25vcmUgPSBmdW5jdGlvbihsaW5lKSB7XG5cdCAgICAgICAgaWYgKGJsdWViaXJkRnJhbWVQYXR0ZXJuLnRlc3QobGluZSkpIHJldHVybiB0cnVlO1xuXHQgICAgICAgIHZhciBpbmZvID0gcGFyc2VMaW5lSW5mbyhsaW5lKTtcblx0ICAgICAgICBpZiAoaW5mbykge1xuXHQgICAgICAgICAgICBpZiAoaW5mby5maWxlTmFtZSA9PT0gZmlyc3RGaWxlTmFtZSAmJlxuXHQgICAgICAgICAgICAgICAgKGZpcnN0SW5kZXggPD0gaW5mby5saW5lICYmIGluZm8ubGluZSA8PSBsYXN0SW5kZXgpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBDYXB0dXJlZFRyYWNlKHBhcmVudCkge1xuXHQgICAgdGhpcy5fcGFyZW50ID0gcGFyZW50O1xuXHQgICAgdGhpcy5fcHJvbWlzZXNDcmVhdGVkID0gMDtcblx0ICAgIHZhciBsZW5ndGggPSB0aGlzLl9sZW5ndGggPSAxICsgKHBhcmVudCA9PT0gdW5kZWZpbmVkID8gMCA6IHBhcmVudC5fbGVuZ3RoKTtcblx0ICAgIGNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIENhcHR1cmVkVHJhY2UpO1xuXHQgICAgaWYgKGxlbmd0aCA+IDMyKSB0aGlzLnVuY3ljbGUoKTtcblx0fVxuXHR1dGlsLmluaGVyaXRzKENhcHR1cmVkVHJhY2UsIEVycm9yKTtcblx0Q29udGV4dC5DYXB0dXJlZFRyYWNlID0gQ2FwdHVyZWRUcmFjZTtcblx0XG5cdENhcHR1cmVkVHJhY2UucHJvdG90eXBlLnVuY3ljbGUgPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciBsZW5ndGggPSB0aGlzLl9sZW5ndGg7XG5cdCAgICBpZiAobGVuZ3RoIDwgMikgcmV0dXJuO1xuXHQgICAgdmFyIG5vZGVzID0gW107XG5cdCAgICB2YXIgc3RhY2tUb0luZGV4ID0ge307XG5cdFxuXHQgICAgZm9yICh2YXIgaSA9IDAsIG5vZGUgPSB0aGlzOyBub2RlICE9PSB1bmRlZmluZWQ7ICsraSkge1xuXHQgICAgICAgIG5vZGVzLnB1c2gobm9kZSk7XG5cdCAgICAgICAgbm9kZSA9IG5vZGUuX3BhcmVudDtcblx0ICAgIH1cblx0ICAgIGxlbmd0aCA9IHRoaXMuX2xlbmd0aCA9IGk7XG5cdCAgICBmb3IgKHZhciBpID0gbGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcblx0ICAgICAgICB2YXIgc3RhY2sgPSBub2Rlc1tpXS5zdGFjaztcblx0ICAgICAgICBpZiAoc3RhY2tUb0luZGV4W3N0YWNrXSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgIHN0YWNrVG9JbmRleFtzdGFja10gPSBpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICB2YXIgY3VycmVudFN0YWNrID0gbm9kZXNbaV0uc3RhY2s7XG5cdCAgICAgICAgdmFyIGluZGV4ID0gc3RhY2tUb0luZGV4W2N1cnJlbnRTdGFja107XG5cdCAgICAgICAgaWYgKGluZGV4ICE9PSB1bmRlZmluZWQgJiYgaW5kZXggIT09IGkpIHtcblx0ICAgICAgICAgICAgaWYgKGluZGV4ID4gMCkge1xuXHQgICAgICAgICAgICAgICAgbm9kZXNbaW5kZXggLSAxXS5fcGFyZW50ID0gdW5kZWZpbmVkO1xuXHQgICAgICAgICAgICAgICAgbm9kZXNbaW5kZXggLSAxXS5fbGVuZ3RoID0gMTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBub2Rlc1tpXS5fcGFyZW50ID0gdW5kZWZpbmVkO1xuXHQgICAgICAgICAgICBub2Rlc1tpXS5fbGVuZ3RoID0gMTtcblx0ICAgICAgICAgICAgdmFyIGN5Y2xlRWRnZU5vZGUgPSBpID4gMCA/IG5vZGVzW2kgLSAxXSA6IHRoaXM7XG5cdFxuXHQgICAgICAgICAgICBpZiAoaW5kZXggPCBsZW5ndGggLSAxKSB7XG5cdCAgICAgICAgICAgICAgICBjeWNsZUVkZ2VOb2RlLl9wYXJlbnQgPSBub2Rlc1tpbmRleCArIDFdO1xuXHQgICAgICAgICAgICAgICAgY3ljbGVFZGdlTm9kZS5fcGFyZW50LnVuY3ljbGUoKTtcblx0ICAgICAgICAgICAgICAgIGN5Y2xlRWRnZU5vZGUuX2xlbmd0aCA9XG5cdCAgICAgICAgICAgICAgICAgICAgY3ljbGVFZGdlTm9kZS5fcGFyZW50Ll9sZW5ndGggKyAxO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgY3ljbGVFZGdlTm9kZS5fcGFyZW50ID0gdW5kZWZpbmVkO1xuXHQgICAgICAgICAgICAgICAgY3ljbGVFZGdlTm9kZS5fbGVuZ3RoID0gMTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB2YXIgY3VycmVudENoaWxkTGVuZ3RoID0gY3ljbGVFZGdlTm9kZS5fbGVuZ3RoICsgMTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaiA9IGkgLSAyOyBqID49IDA7IC0taikge1xuXHQgICAgICAgICAgICAgICAgbm9kZXNbal0uX2xlbmd0aCA9IGN1cnJlbnRDaGlsZExlbmd0aDtcblx0ICAgICAgICAgICAgICAgIGN1cnJlbnRDaGlsZExlbmd0aCsrO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH07XG5cdFxuXHRDYXB0dXJlZFRyYWNlLnByb3RvdHlwZS5hdHRhY2hFeHRyYVRyYWNlID0gZnVuY3Rpb24oZXJyb3IpIHtcblx0ICAgIGlmIChlcnJvci5fX3N0YWNrQ2xlYW5lZF9fKSByZXR1cm47XG5cdCAgICB0aGlzLnVuY3ljbGUoKTtcblx0ICAgIHZhciBwYXJzZWQgPSBwYXJzZVN0YWNrQW5kTWVzc2FnZShlcnJvcik7XG5cdCAgICB2YXIgbWVzc2FnZSA9IHBhcnNlZC5tZXNzYWdlO1xuXHQgICAgdmFyIHN0YWNrcyA9IFtwYXJzZWQuc3RhY2tdO1xuXHRcblx0ICAgIHZhciB0cmFjZSA9IHRoaXM7XG5cdCAgICB3aGlsZSAodHJhY2UgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHN0YWNrcy5wdXNoKGNsZWFuU3RhY2sodHJhY2Uuc3RhY2suc3BsaXQoXCJcXG5cIikpKTtcblx0ICAgICAgICB0cmFjZSA9IHRyYWNlLl9wYXJlbnQ7XG5cdCAgICB9XG5cdCAgICByZW1vdmVDb21tb25Sb290cyhzdGFja3MpO1xuXHQgICAgcmVtb3ZlRHVwbGljYXRlT3JFbXB0eUp1bXBzKHN0YWNrcyk7XG5cdCAgICB1dGlsLm5vdEVudW1lcmFibGVQcm9wKGVycm9yLCBcInN0YWNrXCIsIHJlY29uc3RydWN0U3RhY2sobWVzc2FnZSwgc3RhY2tzKSk7XG5cdCAgICB1dGlsLm5vdEVudW1lcmFibGVQcm9wKGVycm9yLCBcIl9fc3RhY2tDbGVhbmVkX19cIiwgdHJ1ZSk7XG5cdH07XG5cdFxuXHR2YXIgY2FwdHVyZVN0YWNrVHJhY2UgPSAoZnVuY3Rpb24gc3RhY2tEZXRlY3Rpb24oKSB7XG5cdCAgICB2YXIgdjhzdGFja0ZyYW1lUGF0dGVybiA9IC9eXFxzKmF0XFxzKi87XG5cdCAgICB2YXIgdjhzdGFja0Zvcm1hdHRlciA9IGZ1bmN0aW9uKHN0YWNrLCBlcnJvcikge1xuXHQgICAgICAgIGlmICh0eXBlb2Ygc3RhY2sgPT09IFwic3RyaW5nXCIpIHJldHVybiBzdGFjaztcblx0XG5cdCAgICAgICAgaWYgKGVycm9yLm5hbWUgIT09IHVuZGVmaW5lZCAmJlxuXHQgICAgICAgICAgICBlcnJvci5tZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGVycm9yLnRvU3RyaW5nKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBmb3JtYXROb25FcnJvcihlcnJvcik7XG5cdCAgICB9O1xuXHRcblx0ICAgIGlmICh0eXBlb2YgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ID09PSBcIm51bWJlclwiICYmXG5cdCAgICAgICAgdHlwZW9mIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICBFcnJvci5zdGFja1RyYWNlTGltaXQgKz0gNjtcblx0ICAgICAgICBzdGFja0ZyYW1lUGF0dGVybiA9IHY4c3RhY2tGcmFtZVBhdHRlcm47XG5cdCAgICAgICAgZm9ybWF0U3RhY2sgPSB2OHN0YWNrRm9ybWF0dGVyO1xuXHQgICAgICAgIHZhciBjYXB0dXJlU3RhY2tUcmFjZSA9IEVycm9yLmNhcHR1cmVTdGFja1RyYWNlO1xuXHRcblx0ICAgICAgICBzaG91bGRJZ25vcmUgPSBmdW5jdGlvbihsaW5lKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBibHVlYmlyZEZyYW1lUGF0dGVybi50ZXN0KGxpbmUpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHJlY2VpdmVyLCBpZ25vcmVVbnRpbCkge1xuXHQgICAgICAgICAgICBFcnJvci5zdGFja1RyYWNlTGltaXQgKz0gNjtcblx0ICAgICAgICAgICAgY2FwdHVyZVN0YWNrVHJhY2UocmVjZWl2ZXIsIGlnbm9yZVVudGlsKTtcblx0ICAgICAgICAgICAgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0IC09IDY7XG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0ICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoKTtcblx0XG5cdCAgICBpZiAodHlwZW9mIGVyci5zdGFjayA9PT0gXCJzdHJpbmdcIiAmJlxuXHQgICAgICAgIGVyci5zdGFjay5zcGxpdChcIlxcblwiKVswXS5pbmRleE9mKFwic3RhY2tEZXRlY3Rpb25AXCIpID49IDApIHtcblx0ICAgICAgICBzdGFja0ZyYW1lUGF0dGVybiA9IC9ALztcblx0ICAgICAgICBmb3JtYXRTdGFjayA9IHY4c3RhY2tGb3JtYXR0ZXI7XG5cdCAgICAgICAgaW5kZW50U3RhY2tGcmFtZXMgPSB0cnVlO1xuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbiBjYXB0dXJlU3RhY2tUcmFjZShvKSB7XG5cdCAgICAgICAgICAgIG8uc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBoYXNTdGFja0FmdGVyVGhyb3c7XG5cdCAgICB0cnkgeyB0aHJvdyBuZXcgRXJyb3IoKTsgfVxuXHQgICAgY2F0Y2goZSkge1xuXHQgICAgICAgIGhhc1N0YWNrQWZ0ZXJUaHJvdyA9IChcInN0YWNrXCIgaW4gZSk7XG5cdCAgICB9XG5cdCAgICBpZiAoIShcInN0YWNrXCIgaW4gZXJyKSAmJiBoYXNTdGFja0FmdGVyVGhyb3cgJiZcblx0ICAgICAgICB0eXBlb2YgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ID09PSBcIm51bWJlclwiKSB7XG5cdCAgICAgICAgc3RhY2tGcmFtZVBhdHRlcm4gPSB2OHN0YWNrRnJhbWVQYXR0ZXJuO1xuXHQgICAgICAgIGZvcm1hdFN0YWNrID0gdjhzdGFja0Zvcm1hdHRlcjtcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24gY2FwdHVyZVN0YWNrVHJhY2Uobykge1xuXHQgICAgICAgICAgICBFcnJvci5zdGFja1RyYWNlTGltaXQgKz0gNjtcblx0ICAgICAgICAgICAgdHJ5IHsgdGhyb3cgbmV3IEVycm9yKCk7IH1cblx0ICAgICAgICAgICAgY2F0Y2goZSkgeyBvLnN0YWNrID0gZS5zdGFjazsgfVxuXHQgICAgICAgICAgICBFcnJvci5zdGFja1RyYWNlTGltaXQgLT0gNjtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHRcblx0ICAgIGZvcm1hdFN0YWNrID0gZnVuY3Rpb24oc3RhY2ssIGVycm9yKSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBzdGFjayA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHN0YWNrO1xuXHRcblx0ICAgICAgICBpZiAoKHR5cGVvZiBlcnJvciA9PT0gXCJvYmplY3RcIiB8fFxuXHQgICAgICAgICAgICB0eXBlb2YgZXJyb3IgPT09IFwiZnVuY3Rpb25cIikgJiZcblx0ICAgICAgICAgICAgZXJyb3IubmFtZSAhPT0gdW5kZWZpbmVkICYmXG5cdCAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICByZXR1cm4gZXJyb3IudG9TdHJpbmcoKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGZvcm1hdE5vbkVycm9yKGVycm9yKTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIG51bGw7XG5cdFxuXHR9KShbXSk7XG5cdFxuXHRpZiAodHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIGNvbnNvbGUud2FybiAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHQgICAgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcblx0ICAgICAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG5cdCAgICB9O1xuXHQgICAgaWYgKHV0aWwuaXNOb2RlICYmIHByb2Nlc3Muc3RkZXJyLmlzVFRZKSB7XG5cdCAgICAgICAgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24obWVzc2FnZSwgaXNTb2Z0KSB7XG5cdCAgICAgICAgICAgIHZhciBjb2xvciA9IGlzU29mdCA/IFwiXFx1MDAxYlszM21cIiA6IFwiXFx1MDAxYlszMW1cIjtcblx0ICAgICAgICAgICAgY29uc29sZS53YXJuKGNvbG9yICsgbWVzc2FnZSArIFwiXFx1MDAxYlswbVxcblwiKTtcblx0ICAgICAgICB9O1xuXHQgICAgfSBlbHNlIGlmICghdXRpbC5pc05vZGUgJiYgdHlwZW9mIChuZXcgRXJyb3IoKS5zdGFjaykgPT09IFwic3RyaW5nXCIpIHtcblx0ICAgICAgICBwcmludFdhcm5pbmcgPSBmdW5jdGlvbihtZXNzYWdlLCBpc1NvZnQpIHtcblx0ICAgICAgICAgICAgY29uc29sZS53YXJuKFwiJWNcIiArIG1lc3NhZ2UsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlzU29mdCA/IFwiY29sb3I6IGRhcmtvcmFuZ2VcIiA6IFwiY29sb3I6IHJlZFwiKTtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHR9XG5cdFxuXHR2YXIgY29uZmlnID0ge1xuXHQgICAgd2FybmluZ3M6IHdhcm5pbmdzLFxuXHQgICAgbG9uZ1N0YWNrVHJhY2VzOiBmYWxzZSxcblx0ICAgIGNhbmNlbGxhdGlvbjogZmFsc2UsXG5cdCAgICBtb25pdG9yaW5nOiBmYWxzZVxuXHR9O1xuXHRcblx0aWYgKGxvbmdTdGFja1RyYWNlcykgUHJvbWlzZS5sb25nU3RhY2tUcmFjZXMoKTtcblx0XG5cdHJldHVybiB7XG5cdCAgICBsb25nU3RhY2tUcmFjZXM6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBjb25maWcubG9uZ1N0YWNrVHJhY2VzO1xuXHQgICAgfSxcblx0ICAgIHdhcm5pbmdzOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gY29uZmlnLndhcm5pbmdzO1xuXHQgICAgfSxcblx0ICAgIGNhbmNlbGxhdGlvbjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIGNvbmZpZy5jYW5jZWxsYXRpb247XG5cdCAgICB9LFxuXHQgICAgbW9uaXRvcmluZzogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIGNvbmZpZy5tb25pdG9yaW5nO1xuXHQgICAgfSxcblx0ICAgIHByb3BhZ2F0ZUZyb21GdW5jdGlvbjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIHByb3BhZ2F0ZUZyb21GdW5jdGlvbjtcblx0ICAgIH0sXG5cdCAgICBib3VuZFZhbHVlRnVuY3Rpb246IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBib3VuZFZhbHVlRnVuY3Rpb247XG5cdCAgICB9LFxuXHQgICAgY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zOiBjaGVja0ZvcmdvdHRlblJldHVybnMsXG5cdCAgICBzZXRCb3VuZHM6IHNldEJvdW5kcyxcblx0ICAgIHdhcm46IHdhcm4sXG5cdCAgICBkZXByZWNhdGVkOiBkZXByZWNhdGVkLFxuXHQgICAgQ2FwdHVyZWRUcmFjZTogQ2FwdHVyZWRUcmFjZSxcblx0ICAgIGZpcmVEb21FdmVudDogZmlyZURvbUV2ZW50LFxuXHQgICAgZmlyZUdsb2JhbEV2ZW50OiBmaXJlR2xvYmFsRXZlbnRcblx0fTtcblx0fTtcblx0XG5cdH0se1wiLi9lcnJvcnNcIjoxMixcIi4vdXRpbFwiOjM2fV0sMTA6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlKSB7XG5cdGZ1bmN0aW9uIHJldHVybmVyKCkge1xuXHQgICAgcmV0dXJuIHRoaXMudmFsdWU7XG5cdH1cblx0ZnVuY3Rpb24gdGhyb3dlcigpIHtcblx0ICAgIHRocm93IHRoaXMucmVhc29uO1xuXHR9XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZVtcInJldHVyblwiXSA9XG5cdFByb21pc2UucHJvdG90eXBlLnRoZW5SZXR1cm4gPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHZhbHVlLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucygpO1xuXHQgICAgcmV0dXJuIHRoaXMuX3RoZW4oXG5cdCAgICAgICAgcmV0dXJuZXIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB7dmFsdWU6IHZhbHVlfSwgdW5kZWZpbmVkKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlW1widGhyb3dcIl0gPVxuXHRQcm9taXNlLnByb3RvdHlwZS50aGVuVGhyb3cgPSBmdW5jdGlvbiAocmVhc29uKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fdGhlbihcblx0ICAgICAgICB0aHJvd2VyLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwge3JlYXNvbjogcmVhc29ufSwgdW5kZWZpbmVkKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLmNhdGNoVGhyb3cgPSBmdW5jdGlvbiAocmVhc29uKSB7XG5cdCAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8PSAxKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX3RoZW4oXG5cdCAgICAgICAgICAgIHVuZGVmaW5lZCwgdGhyb3dlciwgdW5kZWZpbmVkLCB7cmVhc29uOiByZWFzb259LCB1bmRlZmluZWQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgX3JlYXNvbiA9IGFyZ3VtZW50c1sxXTtcblx0ICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uKCkge3Rocm93IF9yZWFzb247fTtcblx0ICAgICAgICByZXR1cm4gdGhpcy5jYXVnaHQocmVhc29uLCBoYW5kbGVyKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLmNhdGNoUmV0dXJuID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8PSAxKSB7XG5cdCAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkgdmFsdWUuc3VwcHJlc3NVbmhhbmRsZWRSZWplY3Rpb25zKCk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX3RoZW4oXG5cdCAgICAgICAgICAgIHVuZGVmaW5lZCwgcmV0dXJuZXIsIHVuZGVmaW5lZCwge3ZhbHVlOiB2YWx1ZX0sIHVuZGVmaW5lZCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciBfdmFsdWUgPSBhcmd1bWVudHNbMV07XG5cdCAgICAgICAgaWYgKF92YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIF92YWx1ZS5zdXBwcmVzc1VuaGFuZGxlZFJlamVjdGlvbnMoKTtcblx0ICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uKCkge3JldHVybiBfdmFsdWU7fTtcblx0ICAgICAgICByZXR1cm4gdGhpcy5jYXVnaHQodmFsdWUsIGhhbmRsZXIpO1xuXHQgICAgfVxuXHR9O1xuXHR9O1xuXHRcblx0fSx7fV0sMTE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLCBJTlRFUk5BTCkge1xuXHR2YXIgUHJvbWlzZVJlZHVjZSA9IFByb21pc2UucmVkdWNlO1xuXHR2YXIgUHJvbWlzZUFsbCA9IFByb21pc2UuYWxsO1xuXHRcblx0ZnVuY3Rpb24gcHJvbWlzZUFsbFRoaXMoKSB7XG5cdCAgICByZXR1cm4gUHJvbWlzZUFsbCh0aGlzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gUHJvbWlzZU1hcFNlcmllcyhwcm9taXNlcywgZm4pIHtcblx0ICAgIHJldHVybiBQcm9taXNlUmVkdWNlKHByb21pc2VzLCBmbiwgSU5URVJOQUwsIElOVEVSTkFMKTtcblx0fVxuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuZWFjaCA9IGZ1bmN0aW9uIChmbikge1xuXHQgICAgcmV0dXJuIFByb21pc2VSZWR1Y2UodGhpcywgZm4sIElOVEVSTkFMLCAwKVxuXHQgICAgICAgICAgICAgIC5fdGhlbihwcm9taXNlQWxsVGhpcywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHRoaXMsIHVuZGVmaW5lZCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5tYXBTZXJpZXMgPSBmdW5jdGlvbiAoZm4pIHtcblx0ICAgIHJldHVybiBQcm9taXNlUmVkdWNlKHRoaXMsIGZuLCBJTlRFUk5BTCwgSU5URVJOQUwpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5lYWNoID0gZnVuY3Rpb24gKHByb21pc2VzLCBmbikge1xuXHQgICAgcmV0dXJuIFByb21pc2VSZWR1Y2UocHJvbWlzZXMsIGZuLCBJTlRFUk5BTCwgMClcblx0ICAgICAgICAgICAgICAuX3RoZW4ocHJvbWlzZUFsbFRoaXMsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBwcm9taXNlcywgdW5kZWZpbmVkKTtcblx0fTtcblx0XG5cdFByb21pc2UubWFwU2VyaWVzID0gUHJvbWlzZU1hcFNlcmllcztcblx0fTtcblx0XG5cdFxuXHR9LHt9XSwxMjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgZXM1ID0gX2RlcmVxXyhcIi4vZXM1XCIpO1xuXHR2YXIgT2JqZWN0ZnJlZXplID0gZXM1LmZyZWV6ZTtcblx0dmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXHR2YXIgaW5oZXJpdHMgPSB1dGlsLmluaGVyaXRzO1xuXHR2YXIgbm90RW51bWVyYWJsZVByb3AgPSB1dGlsLm5vdEVudW1lcmFibGVQcm9wO1xuXHRcblx0ZnVuY3Rpb24gc3ViRXJyb3IobmFtZVByb3BlcnR5LCBkZWZhdWx0TWVzc2FnZSkge1xuXHQgICAgZnVuY3Rpb24gU3ViRXJyb3IobWVzc2FnZSkge1xuXHQgICAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTdWJFcnJvcikpIHJldHVybiBuZXcgU3ViRXJyb3IobWVzc2FnZSk7XG5cdCAgICAgICAgbm90RW51bWVyYWJsZVByb3AodGhpcywgXCJtZXNzYWdlXCIsXG5cdCAgICAgICAgICAgIHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiID8gbWVzc2FnZSA6IGRlZmF1bHRNZXNzYWdlKTtcblx0ICAgICAgICBub3RFbnVtZXJhYmxlUHJvcCh0aGlzLCBcIm5hbWVcIiwgbmFtZVByb3BlcnR5KTtcblx0ICAgICAgICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcblx0ICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgRXJyb3IuY2FsbCh0aGlzKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBpbmhlcml0cyhTdWJFcnJvciwgRXJyb3IpO1xuXHQgICAgcmV0dXJuIFN1YkVycm9yO1xuXHR9XG5cdFxuXHR2YXIgX1R5cGVFcnJvciwgX1JhbmdlRXJyb3I7XG5cdHZhciBXYXJuaW5nID0gc3ViRXJyb3IoXCJXYXJuaW5nXCIsIFwid2FybmluZ1wiKTtcblx0dmFyIENhbmNlbGxhdGlvbkVycm9yID0gc3ViRXJyb3IoXCJDYW5jZWxsYXRpb25FcnJvclwiLCBcImNhbmNlbGxhdGlvbiBlcnJvclwiKTtcblx0dmFyIFRpbWVvdXRFcnJvciA9IHN1YkVycm9yKFwiVGltZW91dEVycm9yXCIsIFwidGltZW91dCBlcnJvclwiKTtcblx0dmFyIEFnZ3JlZ2F0ZUVycm9yID0gc3ViRXJyb3IoXCJBZ2dyZWdhdGVFcnJvclwiLCBcImFnZ3JlZ2F0ZSBlcnJvclwiKTtcblx0dHJ5IHtcblx0ICAgIF9UeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cdCAgICBfUmFuZ2VFcnJvciA9IFJhbmdlRXJyb3I7XG5cdH0gY2F0Y2goZSkge1xuXHQgICAgX1R5cGVFcnJvciA9IHN1YkVycm9yKFwiVHlwZUVycm9yXCIsIFwidHlwZSBlcnJvclwiKTtcblx0ICAgIF9SYW5nZUVycm9yID0gc3ViRXJyb3IoXCJSYW5nZUVycm9yXCIsIFwicmFuZ2UgZXJyb3JcIik7XG5cdH1cblx0XG5cdHZhciBtZXRob2RzID0gKFwiam9pbiBwb3AgcHVzaCBzaGlmdCB1bnNoaWZ0IHNsaWNlIGZpbHRlciBmb3JFYWNoIHNvbWUgXCIgK1xuXHQgICAgXCJldmVyeSBtYXAgaW5kZXhPZiBsYXN0SW5kZXhPZiByZWR1Y2UgcmVkdWNlUmlnaHQgc29ydCByZXZlcnNlXCIpLnNwbGl0KFwiIFwiKTtcblx0XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbWV0aG9kcy5sZW5ndGg7ICsraSkge1xuXHQgICAgaWYgKHR5cGVvZiBBcnJheS5wcm90b3R5cGVbbWV0aG9kc1tpXV0gPT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgIEFnZ3JlZ2F0ZUVycm9yLnByb3RvdHlwZVttZXRob2RzW2ldXSA9IEFycmF5LnByb3RvdHlwZVttZXRob2RzW2ldXTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZXM1LmRlZmluZVByb3BlcnR5KEFnZ3JlZ2F0ZUVycm9yLnByb3RvdHlwZSwgXCJsZW5ndGhcIiwge1xuXHQgICAgdmFsdWU6IDAsXG5cdCAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuXHQgICAgd3JpdGFibGU6IHRydWUsXG5cdCAgICBlbnVtZXJhYmxlOiB0cnVlXG5cdH0pO1xuXHRBZ2dyZWdhdGVFcnJvci5wcm90b3R5cGVbXCJpc09wZXJhdGlvbmFsXCJdID0gdHJ1ZTtcblx0dmFyIGxldmVsID0gMDtcblx0QWdncmVnYXRlRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgaW5kZW50ID0gQXJyYXkobGV2ZWwgKiA0ICsgMSkuam9pbihcIiBcIik7XG5cdCAgICB2YXIgcmV0ID0gXCJcXG5cIiArIGluZGVudCArIFwiQWdncmVnYXRlRXJyb3Igb2Y6XCIgKyBcIlxcblwiO1xuXHQgICAgbGV2ZWwrKztcblx0ICAgIGluZGVudCA9IEFycmF5KGxldmVsICogNCArIDEpLmpvaW4oXCIgXCIpO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgdmFyIHN0ciA9IHRoaXNbaV0gPT09IHRoaXMgPyBcIltDaXJjdWxhciBBZ2dyZWdhdGVFcnJvcl1cIiA6IHRoaXNbaV0gKyBcIlwiO1xuXHQgICAgICAgIHZhciBsaW5lcyA9IHN0ci5zcGxpdChcIlxcblwiKTtcblx0ICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxpbmVzLmxlbmd0aDsgKytqKSB7XG5cdCAgICAgICAgICAgIGxpbmVzW2pdID0gaW5kZW50ICsgbGluZXNbal07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHN0ciA9IGxpbmVzLmpvaW4oXCJcXG5cIik7XG5cdCAgICAgICAgcmV0ICs9IHN0ciArIFwiXFxuXCI7XG5cdCAgICB9XG5cdCAgICBsZXZlbC0tO1xuXHQgICAgcmV0dXJuIHJldDtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIE9wZXJhdGlvbmFsRXJyb3IobWVzc2FnZSkge1xuXHQgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE9wZXJhdGlvbmFsRXJyb3IpKVxuXHQgICAgICAgIHJldHVybiBuZXcgT3BlcmF0aW9uYWxFcnJvcihtZXNzYWdlKTtcblx0ICAgIG5vdEVudW1lcmFibGVQcm9wKHRoaXMsIFwibmFtZVwiLCBcIk9wZXJhdGlvbmFsRXJyb3JcIik7XG5cdCAgICBub3RFbnVtZXJhYmxlUHJvcCh0aGlzLCBcIm1lc3NhZ2VcIiwgbWVzc2FnZSk7XG5cdCAgICB0aGlzLmNhdXNlID0gbWVzc2FnZTtcblx0ICAgIHRoaXNbXCJpc09wZXJhdGlvbmFsXCJdID0gdHJ1ZTtcblx0XG5cdCAgICBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdCAgICAgICAgbm90RW51bWVyYWJsZVByb3AodGhpcywgXCJtZXNzYWdlXCIsIG1lc3NhZ2UubWVzc2FnZSk7XG5cdCAgICAgICAgbm90RW51bWVyYWJsZVByb3AodGhpcywgXCJzdGFja1wiLCBtZXNzYWdlLnN0YWNrKTtcblx0ICAgIH0gZWxzZSBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcblx0ICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTtcblx0ICAgIH1cblx0XG5cdH1cblx0aW5oZXJpdHMoT3BlcmF0aW9uYWxFcnJvciwgRXJyb3IpO1xuXHRcblx0dmFyIGVycm9yVHlwZXMgPSBFcnJvcltcIl9fQmx1ZWJpcmRFcnJvclR5cGVzX19cIl07XG5cdGlmICghZXJyb3JUeXBlcykge1xuXHQgICAgZXJyb3JUeXBlcyA9IE9iamVjdGZyZWV6ZSh7XG5cdCAgICAgICAgQ2FuY2VsbGF0aW9uRXJyb3I6IENhbmNlbGxhdGlvbkVycm9yLFxuXHQgICAgICAgIFRpbWVvdXRFcnJvcjogVGltZW91dEVycm9yLFxuXHQgICAgICAgIE9wZXJhdGlvbmFsRXJyb3I6IE9wZXJhdGlvbmFsRXJyb3IsXG5cdCAgICAgICAgUmVqZWN0aW9uRXJyb3I6IE9wZXJhdGlvbmFsRXJyb3IsXG5cdCAgICAgICAgQWdncmVnYXRlRXJyb3I6IEFnZ3JlZ2F0ZUVycm9yXG5cdCAgICB9KTtcblx0ICAgIGVzNS5kZWZpbmVQcm9wZXJ0eShFcnJvciwgXCJfX0JsdWViaXJkRXJyb3JUeXBlc19fXCIsIHtcblx0ICAgICAgICB2YWx1ZTogZXJyb3JUeXBlcyxcblx0ICAgICAgICB3cml0YWJsZTogZmFsc2UsXG5cdCAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG5cdCAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZVxuXHQgICAgfSk7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgICAgRXJyb3I6IEVycm9yLFxuXHQgICAgVHlwZUVycm9yOiBfVHlwZUVycm9yLFxuXHQgICAgUmFuZ2VFcnJvcjogX1JhbmdlRXJyb3IsXG5cdCAgICBDYW5jZWxsYXRpb25FcnJvcjogZXJyb3JUeXBlcy5DYW5jZWxsYXRpb25FcnJvcixcblx0ICAgIE9wZXJhdGlvbmFsRXJyb3I6IGVycm9yVHlwZXMuT3BlcmF0aW9uYWxFcnJvcixcblx0ICAgIFRpbWVvdXRFcnJvcjogZXJyb3JUeXBlcy5UaW1lb3V0RXJyb3IsXG5cdCAgICBBZ2dyZWdhdGVFcnJvcjogZXJyb3JUeXBlcy5BZ2dyZWdhdGVFcnJvcixcblx0ICAgIFdhcm5pbmc6IFdhcm5pbmdcblx0fTtcblx0XG5cdH0se1wiLi9lczVcIjoxMyxcIi4vdXRpbFwiOjM2fV0sMTM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHR2YXIgaXNFUzUgPSAoZnVuY3Rpb24oKXtcblx0ICAgIFwidXNlIHN0cmljdFwiO1xuXHQgICAgcmV0dXJuIHRoaXMgPT09IHVuZGVmaW5lZDtcblx0fSkoKTtcblx0XG5cdGlmIChpc0VTNSkge1xuXHQgICAgbW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgICAgICAgZnJlZXplOiBPYmplY3QuZnJlZXplLFxuXHQgICAgICAgIGRlZmluZVByb3BlcnR5OiBPYmplY3QuZGVmaW5lUHJvcGVydHksXG5cdCAgICAgICAgZ2V0RGVzY3JpcHRvcjogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixcblx0ICAgICAgICBrZXlzOiBPYmplY3Qua2V5cyxcblx0ICAgICAgICBuYW1lczogT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMsXG5cdCAgICAgICAgZ2V0UHJvdG90eXBlT2Y6IE9iamVjdC5nZXRQcm90b3R5cGVPZixcblx0ICAgICAgICBpc0FycmF5OiBBcnJheS5pc0FycmF5LFxuXHQgICAgICAgIGlzRVM1OiBpc0VTNSxcblx0ICAgICAgICBwcm9wZXJ0eUlzV3JpdGFibGU6IGZ1bmN0aW9uKG9iaiwgcHJvcCkge1xuXHQgICAgICAgICAgICB2YXIgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBwcm9wKTtcblx0ICAgICAgICAgICAgcmV0dXJuICEhKCFkZXNjcmlwdG9yIHx8IGRlc2NyaXB0b3Iud3JpdGFibGUgfHwgZGVzY3JpcHRvci5zZXQpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdH0gZWxzZSB7XG5cdCAgICB2YXIgaGFzID0ge30uaGFzT3duUHJvcGVydHk7XG5cdCAgICB2YXIgc3RyID0ge30udG9TdHJpbmc7XG5cdCAgICB2YXIgcHJvdG8gPSB7fS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cdFxuXHQgICAgdmFyIE9iamVjdEtleXMgPSBmdW5jdGlvbiAobykge1xuXHQgICAgICAgIHZhciByZXQgPSBbXTtcblx0ICAgICAgICBmb3IgKHZhciBrZXkgaW4gbykge1xuXHQgICAgICAgICAgICBpZiAoaGFzLmNhbGwobywga2V5KSkge1xuXHQgICAgICAgICAgICAgICAgcmV0LnB1c2goa2V5KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgfTtcblx0XG5cdCAgICB2YXIgT2JqZWN0R2V0RGVzY3JpcHRvciA9IGZ1bmN0aW9uKG8sIGtleSkge1xuXHQgICAgICAgIHJldHVybiB7dmFsdWU6IG9ba2V5XX07XG5cdCAgICB9O1xuXHRcblx0ICAgIHZhciBPYmplY3REZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIChvLCBrZXksIGRlc2MpIHtcblx0ICAgICAgICBvW2tleV0gPSBkZXNjLnZhbHVlO1xuXHQgICAgICAgIHJldHVybiBvO1xuXHQgICAgfTtcblx0XG5cdCAgICB2YXIgT2JqZWN0RnJlZXplID0gZnVuY3Rpb24gKG9iaikge1xuXHQgICAgICAgIHJldHVybiBvYmo7XG5cdCAgICB9O1xuXHRcblx0ICAgIHZhciBPYmplY3RHZXRQcm90b3R5cGVPZiA9IGZ1bmN0aW9uIChvYmopIHtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICByZXR1cm4gT2JqZWN0KG9iaikuY29uc3RydWN0b3IucHJvdG90eXBlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBjYXRjaCAoZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gcHJvdG87XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICB2YXIgQXJyYXlJc0FycmF5ID0gZnVuY3Rpb24gKG9iaikge1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIHJldHVybiBzdHIuY2FsbChvYmopID09PSBcIltvYmplY3QgQXJyYXldXCI7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGNhdGNoKGUpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgbW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgICAgICAgaXNBcnJheTogQXJyYXlJc0FycmF5LFxuXHQgICAgICAgIGtleXM6IE9iamVjdEtleXMsXG5cdCAgICAgICAgbmFtZXM6IE9iamVjdEtleXMsXG5cdCAgICAgICAgZGVmaW5lUHJvcGVydHk6IE9iamVjdERlZmluZVByb3BlcnR5LFxuXHQgICAgICAgIGdldERlc2NyaXB0b3I6IE9iamVjdEdldERlc2NyaXB0b3IsXG5cdCAgICAgICAgZnJlZXplOiBPYmplY3RGcmVlemUsXG5cdCAgICAgICAgZ2V0UHJvdG90eXBlT2Y6IE9iamVjdEdldFByb3RvdHlwZU9mLFxuXHQgICAgICAgIGlzRVM1OiBpc0VTNSxcblx0ICAgICAgICBwcm9wZXJ0eUlzV3JpdGFibGU6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHR9XG5cdFxuXHR9LHt9XSwxNDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIElOVEVSTkFMKSB7XG5cdHZhciBQcm9taXNlTWFwID0gUHJvbWlzZS5tYXA7XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbiAoZm4sIG9wdGlvbnMpIHtcblx0ICAgIHJldHVybiBQcm9taXNlTWFwKHRoaXMsIGZuLCBvcHRpb25zLCBJTlRFUk5BTCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLmZpbHRlciA9IGZ1bmN0aW9uIChwcm9taXNlcywgZm4sIG9wdGlvbnMpIHtcblx0ICAgIHJldHVybiBQcm9taXNlTWFwKHByb21pc2VzLCBmbiwgb3B0aW9ucywgSU5URVJOQUwpO1xuXHR9O1xuXHR9O1xuXHRcblx0fSx7fV0sMTU6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLCB0cnlDb252ZXJ0VG9Qcm9taXNlKSB7XG5cdHZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcblx0dmFyIENhbmNlbGxhdGlvbkVycm9yID0gUHJvbWlzZS5DYW5jZWxsYXRpb25FcnJvcjtcblx0dmFyIGVycm9yT2JqID0gdXRpbC5lcnJvck9iajtcblx0XG5cdGZ1bmN0aW9uIFBhc3NUaHJvdWdoSGFuZGxlckNvbnRleHQocHJvbWlzZSwgdHlwZSwgaGFuZGxlcikge1xuXHQgICAgdGhpcy5wcm9taXNlID0gcHJvbWlzZTtcblx0ICAgIHRoaXMudHlwZSA9IHR5cGU7XG5cdCAgICB0aGlzLmhhbmRsZXIgPSBoYW5kbGVyO1xuXHQgICAgdGhpcy5jYWxsZWQgPSBmYWxzZTtcblx0ICAgIHRoaXMuY2FuY2VsUHJvbWlzZSA9IG51bGw7XG5cdH1cblx0XG5cdFBhc3NUaHJvdWdoSGFuZGxlckNvbnRleHQucHJvdG90eXBlLmlzRmluYWxseUhhbmRsZXIgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiB0aGlzLnR5cGUgPT09IDA7XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBGaW5hbGx5SGFuZGxlckNhbmNlbFJlYWN0aW9uKGZpbmFsbHlIYW5kbGVyKSB7XG5cdCAgICB0aGlzLmZpbmFsbHlIYW5kbGVyID0gZmluYWxseUhhbmRsZXI7XG5cdH1cblx0XG5cdEZpbmFsbHlIYW5kbGVyQ2FuY2VsUmVhY3Rpb24ucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcblx0ICAgIGNoZWNrQ2FuY2VsKHRoaXMuZmluYWxseUhhbmRsZXIpO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gY2hlY2tDYW5jZWwoY3R4LCByZWFzb24pIHtcblx0ICAgIGlmIChjdHguY2FuY2VsUHJvbWlzZSAhPSBudWxsKSB7XG5cdCAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG5cdCAgICAgICAgICAgIGN0eC5jYW5jZWxQcm9taXNlLl9yZWplY3QocmVhc29uKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBjdHguY2FuY2VsUHJvbWlzZS5fY2FuY2VsKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGN0eC5jYW5jZWxQcm9taXNlID0gbnVsbDtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBmYWxzZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc3VjY2VlZCgpIHtcblx0ICAgIHJldHVybiBmaW5hbGx5SGFuZGxlci5jYWxsKHRoaXMsIHRoaXMucHJvbWlzZS5fdGFyZ2V0KCkuX3NldHRsZWRWYWx1ZSgpKTtcblx0fVxuXHRmdW5jdGlvbiBmYWlsKHJlYXNvbikge1xuXHQgICAgaWYgKGNoZWNrQ2FuY2VsKHRoaXMsIHJlYXNvbikpIHJldHVybjtcblx0ICAgIGVycm9yT2JqLmUgPSByZWFzb247XG5cdCAgICByZXR1cm4gZXJyb3JPYmo7XG5cdH1cblx0ZnVuY3Rpb24gZmluYWxseUhhbmRsZXIocmVhc29uT3JWYWx1ZSkge1xuXHQgICAgdmFyIHByb21pc2UgPSB0aGlzLnByb21pc2U7XG5cdCAgICB2YXIgaGFuZGxlciA9IHRoaXMuaGFuZGxlcjtcblx0XG5cdCAgICBpZiAoIXRoaXMuY2FsbGVkKSB7XG5cdCAgICAgICAgdGhpcy5jYWxsZWQgPSB0cnVlO1xuXHQgICAgICAgIHZhciByZXQgPSB0aGlzLmlzRmluYWxseUhhbmRsZXIoKVxuXHQgICAgICAgICAgICA/IGhhbmRsZXIuY2FsbChwcm9taXNlLl9ib3VuZFZhbHVlKCkpXG5cdCAgICAgICAgICAgIDogaGFuZGxlci5jYWxsKHByb21pc2UuX2JvdW5kVmFsdWUoKSwgcmVhc29uT3JWYWx1ZSk7XG5cdCAgICAgICAgaWYgKHJldCAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgIHByb21pc2UuX3NldFJldHVybmVkTm9uVW5kZWZpbmVkKCk7XG5cdCAgICAgICAgICAgIHZhciBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHJldCwgcHJvbWlzZSk7XG5cdCAgICAgICAgICAgIGlmIChtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW5jZWxQcm9taXNlICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAobWF5YmVQcm9taXNlLl9pc0NhbmNlbGxlZCgpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWFzb24gPVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENhbmNlbGxhdGlvbkVycm9yKFwibGF0ZSBjYW5jZWxsYXRpb24gb2JzZXJ2ZXJcIik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2UuX2F0dGFjaEV4dHJhVHJhY2UocmVhc29uKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JPYmouZSA9IHJlYXNvbjtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yT2JqO1xuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWF5YmVQcm9taXNlLmlzUGVuZGluZygpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlUHJvbWlzZS5fYXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2soXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgRmluYWxseUhhbmRsZXJDYW5jZWxSZWFjdGlvbih0aGlzKSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG1heWJlUHJvbWlzZS5fdGhlbihcblx0ICAgICAgICAgICAgICAgICAgICBzdWNjZWVkLCBmYWlsLCB1bmRlZmluZWQsIHRoaXMsIHVuZGVmaW5lZCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHByb21pc2UuaXNSZWplY3RlZCgpKSB7XG5cdCAgICAgICAgY2hlY2tDYW5jZWwodGhpcyk7XG5cdCAgICAgICAgZXJyb3JPYmouZSA9IHJlYXNvbk9yVmFsdWU7XG5cdCAgICAgICAgcmV0dXJuIGVycm9yT2JqO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBjaGVja0NhbmNlbCh0aGlzKTtcblx0ICAgICAgICByZXR1cm4gcmVhc29uT3JWYWx1ZTtcblx0ICAgIH1cblx0fVxuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3Bhc3NUaHJvdWdoID0gZnVuY3Rpb24oaGFuZGxlciwgdHlwZSwgc3VjY2VzcywgZmFpbCkge1xuXHQgICAgaWYgKHR5cGVvZiBoYW5kbGVyICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0aGlzLnRoZW4oKTtcblx0ICAgIHJldHVybiB0aGlzLl90aGVuKHN1Y2Nlc3MsXG5cdCAgICAgICAgICAgICAgICAgICAgICBmYWlsLFxuXHQgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuXHQgICAgICAgICAgICAgICAgICAgICAgbmV3IFBhc3NUaHJvdWdoSGFuZGxlckNvbnRleHQodGhpcywgdHlwZSwgaGFuZGxlciksXG5cdCAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUubGFzdGx5ID1cblx0UHJvbWlzZS5wcm90b3R5cGVbXCJmaW5hbGx5XCJdID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcblx0ICAgIHJldHVybiB0aGlzLl9wYXNzVGhyb3VnaChoYW5kbGVyLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxseUhhbmRsZXIsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxseUhhbmRsZXIpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUudGFwID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcblx0ICAgIHJldHVybiB0aGlzLl9wYXNzVGhyb3VnaChoYW5kbGVyLCAxLCBmaW5hbGx5SGFuZGxlcik7XG5cdH07XG5cdFxuXHRyZXR1cm4gUGFzc1Rocm91Z2hIYW5kbGVyQ29udGV4dDtcblx0fTtcblx0XG5cdH0se1wiLi91dGlsXCI6MzZ9XSwxNjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpUmVqZWN0aW9uLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgIElOVEVSTkFMLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeUNvbnZlcnRUb1Byb21pc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgUHJveHlhYmxlLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKSB7XG5cdHZhciBlcnJvcnMgPSBfZGVyZXFfKFwiLi9lcnJvcnNcIik7XG5cdHZhciBUeXBlRXJyb3IgPSBlcnJvcnMuVHlwZUVycm9yO1xuXHR2YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cdHZhciBlcnJvck9iaiA9IHV0aWwuZXJyb3JPYmo7XG5cdHZhciB0cnlDYXRjaCA9IHV0aWwudHJ5Q2F0Y2g7XG5cdHZhciB5aWVsZEhhbmRsZXJzID0gW107XG5cdFxuXHRmdW5jdGlvbiBwcm9taXNlRnJvbVlpZWxkSGFuZGxlcih2YWx1ZSwgeWllbGRIYW5kbGVycywgdHJhY2VQYXJlbnQpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeWllbGRIYW5kbGVycy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgIHRyYWNlUGFyZW50Ll9wdXNoQ29udGV4dCgpO1xuXHQgICAgICAgIHZhciByZXN1bHQgPSB0cnlDYXRjaCh5aWVsZEhhbmRsZXJzW2ldKSh2YWx1ZSk7XG5cdCAgICAgICAgdHJhY2VQYXJlbnQuX3BvcENvbnRleHQoKTtcblx0ICAgICAgICBpZiAocmVzdWx0ID09PSBlcnJvck9iaikge1xuXHQgICAgICAgICAgICB0cmFjZVBhcmVudC5fcHVzaENvbnRleHQoKTtcblx0ICAgICAgICAgICAgdmFyIHJldCA9IFByb21pc2UucmVqZWN0KGVycm9yT2JqLmUpO1xuXHQgICAgICAgICAgICB0cmFjZVBhcmVudC5fcG9wQ29udGV4dCgpO1xuXHQgICAgICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gdHJ5Q29udmVydFRvUHJvbWlzZShyZXN1bHQsIHRyYWNlUGFyZW50KTtcblx0ICAgICAgICBpZiAobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkgcmV0dXJuIG1heWJlUHJvbWlzZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBudWxsO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBQcm9taXNlU3Bhd24oZ2VuZXJhdG9yRnVuY3Rpb24sIHJlY2VpdmVyLCB5aWVsZEhhbmRsZXIsIHN0YWNrKSB7XG5cdCAgICBpZiAoZGVidWcuY2FuY2VsbGF0aW9uKCkpIHtcblx0ICAgICAgICB2YXIgaW50ZXJuYWwgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG5cdCAgICAgICAgdmFyIF9maW5hbGx5UHJvbWlzZSA9IHRoaXMuX2ZpbmFsbHlQcm9taXNlID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuXHQgICAgICAgIHRoaXMuX3Byb21pc2UgPSBpbnRlcm5hbC5sYXN0bHkoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfZmluYWxseVByb21pc2U7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgaW50ZXJuYWwuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG5cdCAgICAgICAgaW50ZXJuYWwuX3NldE9uQ2FuY2VsKHRoaXMpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuX3Byb21pc2UgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG5cdCAgICAgICAgcHJvbWlzZS5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcblx0ICAgIH1cblx0ICAgIHRoaXMuX3N0YWNrID0gc3RhY2s7XG5cdCAgICB0aGlzLl9nZW5lcmF0b3JGdW5jdGlvbiA9IGdlbmVyYXRvckZ1bmN0aW9uO1xuXHQgICAgdGhpcy5fcmVjZWl2ZXIgPSByZWNlaXZlcjtcblx0ICAgIHRoaXMuX2dlbmVyYXRvciA9IHVuZGVmaW5lZDtcblx0ICAgIHRoaXMuX3lpZWxkSGFuZGxlcnMgPSB0eXBlb2YgeWllbGRIYW5kbGVyID09PSBcImZ1bmN0aW9uXCJcblx0ICAgICAgICA/IFt5aWVsZEhhbmRsZXJdLmNvbmNhdCh5aWVsZEhhbmRsZXJzKVxuXHQgICAgICAgIDogeWllbGRIYW5kbGVycztcblx0ICAgIHRoaXMuX3lpZWxkZWRQcm9taXNlID0gbnVsbDtcblx0ICAgIHRoaXMuX2NhbmNlbGxhdGlvblBoYXNlID0gZmFsc2U7XG5cdH1cblx0dXRpbC5pbmhlcml0cyhQcm9taXNlU3Bhd24sIFByb3h5YWJsZSk7XG5cdFxuXHRQcm9taXNlU3Bhd24ucHJvdG90eXBlLl9pc1Jlc29sdmVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fcHJvbWlzZSA9PT0gbnVsbDtcblx0fTtcblx0XG5cdFByb21pc2VTcGF3bi5wcm90b3R5cGUuX2NsZWFudXAgPSBmdW5jdGlvbigpIHtcblx0ICAgIHRoaXMuX3Byb21pc2UgPSB0aGlzLl9nZW5lcmF0b3IgPSBudWxsO1xuXHQgICAgaWYgKGRlYnVnLmNhbmNlbGxhdGlvbigpICYmIHRoaXMuX2ZpbmFsbHlQcm9taXNlICE9PSBudWxsKSB7XG5cdCAgICAgICAgdGhpcy5fZmluYWxseVByb21pc2UuX2Z1bGZpbGwoKTtcblx0ICAgICAgICB0aGlzLl9maW5hbGx5UHJvbWlzZSA9IG51bGw7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRQcm9taXNlU3Bhd24ucHJvdG90eXBlLl9wcm9taXNlQ2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICBpZiAodGhpcy5faXNSZXNvbHZlZCgpKSByZXR1cm47XG5cdCAgICB2YXIgaW1wbGVtZW50c1JldHVybiA9IHR5cGVvZiB0aGlzLl9nZW5lcmF0b3JbXCJyZXR1cm5cIl0gIT09IFwidW5kZWZpbmVkXCI7XG5cdFxuXHQgICAgdmFyIHJlc3VsdDtcblx0ICAgIGlmICghaW1wbGVtZW50c1JldHVybikge1xuXHQgICAgICAgIHZhciByZWFzb24gPSBuZXcgUHJvbWlzZS5DYW5jZWxsYXRpb25FcnJvcihcblx0ICAgICAgICAgICAgXCJnZW5lcmF0b3IgLnJldHVybigpIHNlbnRpbmVsXCIpO1xuXHQgICAgICAgIFByb21pc2UuY29yb3V0aW5lLnJldHVyblNlbnRpbmVsID0gcmVhc29uO1xuXHQgICAgICAgIHRoaXMuX3Byb21pc2UuX2F0dGFjaEV4dHJhVHJhY2UocmVhc29uKTtcblx0ICAgICAgICB0aGlzLl9wcm9taXNlLl9wdXNoQ29udGV4dCgpO1xuXHQgICAgICAgIHJlc3VsdCA9IHRyeUNhdGNoKHRoaXMuX2dlbmVyYXRvcltcInRocm93XCJdKS5jYWxsKHRoaXMuX2dlbmVyYXRvcixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uKTtcblx0ICAgICAgICB0aGlzLl9wcm9taXNlLl9wb3BDb250ZXh0KCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuX3Byb21pc2UuX3B1c2hDb250ZXh0KCk7XG5cdCAgICAgICAgcmVzdWx0ID0gdHJ5Q2F0Y2godGhpcy5fZ2VuZXJhdG9yW1wicmV0dXJuXCJdKS5jYWxsKHRoaXMuX2dlbmVyYXRvcixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCk7XG5cdCAgICAgICAgdGhpcy5fcHJvbWlzZS5fcG9wQ29udGV4dCgpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5fY2FuY2VsbGF0aW9uUGhhc2UgPSB0cnVlO1xuXHQgICAgdGhpcy5feWllbGRlZFByb21pc2UgPSBudWxsO1xuXHQgICAgdGhpcy5fY29udGludWUocmVzdWx0KTtcblx0fTtcblx0XG5cdFByb21pc2VTcGF3bi5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgdGhpcy5feWllbGRlZFByb21pc2UgPSBudWxsO1xuXHQgICAgdGhpcy5fcHJvbWlzZS5fcHVzaENvbnRleHQoKTtcblx0ICAgIHZhciByZXN1bHQgPSB0cnlDYXRjaCh0aGlzLl9nZW5lcmF0b3IubmV4dCkuY2FsbCh0aGlzLl9nZW5lcmF0b3IsIHZhbHVlKTtcblx0ICAgIHRoaXMuX3Byb21pc2UuX3BvcENvbnRleHQoKTtcblx0ICAgIHRoaXMuX2NvbnRpbnVlKHJlc3VsdCk7XG5cdH07XG5cdFxuXHRQcm9taXNlU3Bhd24ucHJvdG90eXBlLl9wcm9taXNlUmVqZWN0ZWQgPSBmdW5jdGlvbihyZWFzb24pIHtcblx0ICAgIHRoaXMuX3lpZWxkZWRQcm9taXNlID0gbnVsbDtcblx0ICAgIHRoaXMuX3Byb21pc2UuX2F0dGFjaEV4dHJhVHJhY2UocmVhc29uKTtcblx0ICAgIHRoaXMuX3Byb21pc2UuX3B1c2hDb250ZXh0KCk7XG5cdCAgICB2YXIgcmVzdWx0ID0gdHJ5Q2F0Y2godGhpcy5fZ2VuZXJhdG9yW1widGhyb3dcIl0pXG5cdCAgICAgICAgLmNhbGwodGhpcy5fZ2VuZXJhdG9yLCByZWFzb24pO1xuXHQgICAgdGhpcy5fcHJvbWlzZS5fcG9wQ29udGV4dCgpO1xuXHQgICAgdGhpcy5fY29udGludWUocmVzdWx0KTtcblx0fTtcblx0XG5cdFByb21pc2VTcGF3bi5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgaWYgKHRoaXMuX3lpZWxkZWRQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5feWllbGRlZFByb21pc2U7XG5cdCAgICAgICAgdGhpcy5feWllbGRlZFByb21pc2UgPSBudWxsO1xuXHQgICAgICAgIHByb21pc2UuY2FuY2VsKCk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRQcm9taXNlU3Bhd24ucHJvdG90eXBlLnByb21pc2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fcHJvbWlzZTtcblx0fTtcblx0XG5cdFByb21pc2VTcGF3bi5wcm90b3R5cGUuX3J1biA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuX2dlbmVyYXRvciA9IHRoaXMuX2dlbmVyYXRvckZ1bmN0aW9uLmNhbGwodGhpcy5fcmVjZWl2ZXIpO1xuXHQgICAgdGhpcy5fcmVjZWl2ZXIgPVxuXHQgICAgICAgIHRoaXMuX2dlbmVyYXRvckZ1bmN0aW9uID0gdW5kZWZpbmVkO1xuXHQgICAgdGhpcy5fcHJvbWlzZUZ1bGZpbGxlZCh1bmRlZmluZWQpO1xuXHR9O1xuXHRcblx0UHJvbWlzZVNwYXduLnByb3RvdHlwZS5fY29udGludWUgPSBmdW5jdGlvbiAocmVzdWx0KSB7XG5cdCAgICB2YXIgcHJvbWlzZSA9IHRoaXMuX3Byb21pc2U7XG5cdCAgICBpZiAocmVzdWx0ID09PSBlcnJvck9iaikge1xuXHQgICAgICAgIHRoaXMuX2NsZWFudXAoKTtcblx0ICAgICAgICBpZiAodGhpcy5fY2FuY2VsbGF0aW9uUGhhc2UpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHByb21pc2UuY2FuY2VsKCk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHByb21pc2UuX3JlamVjdENhbGxiYWNrKHJlc3VsdC5lLCBmYWxzZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcblx0ICAgIGlmIChyZXN1bHQuZG9uZSA9PT0gdHJ1ZSkge1xuXHQgICAgICAgIHRoaXMuX2NsZWFudXAoKTtcblx0ICAgICAgICBpZiAodGhpcy5fY2FuY2VsbGF0aW9uUGhhc2UpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHByb21pc2UuY2FuY2VsKCk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHByb21pc2UuX3Jlc29sdmVDYWxsYmFjayh2YWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gdHJ5Q29udmVydFRvUHJvbWlzZSh2YWx1ZSwgdGhpcy5fcHJvbWlzZSk7XG5cdCAgICAgICAgaWYgKCEobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkpIHtcblx0ICAgICAgICAgICAgbWF5YmVQcm9taXNlID1cblx0ICAgICAgICAgICAgICAgIHByb21pc2VGcm9tWWllbGRIYW5kbGVyKG1heWJlUHJvbWlzZSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3lpZWxkSGFuZGxlcnMsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcm9taXNlKTtcblx0ICAgICAgICAgICAgaWYgKG1heWJlUHJvbWlzZSA9PT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5fcHJvbWlzZVJlamVjdGVkKFxuXHQgICAgICAgICAgICAgICAgICAgIG5ldyBUeXBlRXJyb3IoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIFwiQSB2YWx1ZSAlcyB3YXMgeWllbGRlZCB0aGF0IGNvdWxkIG5vdCBiZSB0cmVhdGVkIGFzIGEgcHJvbWlzZVxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcXHUwMDBhXCIucmVwbGFjZShcIiVzXCIsIHZhbHVlKSArXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIFwiRnJvbSBjb3JvdXRpbmU6XFx1MDAwYVwiICtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhY2suc3BsaXQoXCJcXG5cIikuc2xpY2UoMSwgLTcpLmpvaW4oXCJcXG5cIilcblx0ICAgICAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIG1heWJlUHJvbWlzZSA9IG1heWJlUHJvbWlzZS5fdGFyZ2V0KCk7XG5cdCAgICAgICAgdmFyIGJpdEZpZWxkID0gbWF5YmVQcm9taXNlLl9iaXRGaWVsZDtcblx0ICAgICAgICA7XG5cdCAgICAgICAgaWYgKCgoYml0RmllbGQgJiA1MDM5NzE4NCkgPT09IDApKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX3lpZWxkZWRQcm9taXNlID0gbWF5YmVQcm9taXNlO1xuXHQgICAgICAgICAgICBtYXliZVByb21pc2UuX3Byb3h5KHRoaXMsIG51bGwpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcblx0ICAgICAgICAgICAgUHJvbWlzZS5fYXN5bmMuaW52b2tlKFxuXHQgICAgICAgICAgICAgICAgdGhpcy5fcHJvbWlzZUZ1bGZpbGxlZCwgdGhpcywgbWF5YmVQcm9taXNlLl92YWx1ZSgpXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMTY3NzcyMTYpICE9PSAwKSkge1xuXHQgICAgICAgICAgICBQcm9taXNlLl9hc3luYy5pbnZva2UoXG5cdCAgICAgICAgICAgICAgICB0aGlzLl9wcm9taXNlUmVqZWN0ZWQsIHRoaXMsIG1heWJlUHJvbWlzZS5fcmVhc29uKClcblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB0aGlzLl9wcm9taXNlQ2FuY2VsbGVkKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9O1xuXHRcblx0UHJvbWlzZS5jb3JvdXRpbmUgPSBmdW5jdGlvbiAoZ2VuZXJhdG9yRnVuY3Rpb24sIG9wdGlvbnMpIHtcblx0ICAgIGlmICh0eXBlb2YgZ2VuZXJhdG9yRnVuY3Rpb24gIT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJnZW5lcmF0b3JGdW5jdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb25cXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuXHQgICAgfVxuXHQgICAgdmFyIHlpZWxkSGFuZGxlciA9IE9iamVjdChvcHRpb25zKS55aWVsZEhhbmRsZXI7XG5cdCAgICB2YXIgUHJvbWlzZVNwYXduJCA9IFByb21pc2VTcGF3bjtcblx0ICAgIHZhciBzdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgZ2VuZXJhdG9yID0gZ2VuZXJhdG9yRnVuY3Rpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgICB2YXIgc3Bhd24gPSBuZXcgUHJvbWlzZVNwYXduJCh1bmRlZmluZWQsIHVuZGVmaW5lZCwgeWllbGRIYW5kbGVyLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrKTtcblx0ICAgICAgICB2YXIgcmV0ID0gc3Bhd24ucHJvbWlzZSgpO1xuXHQgICAgICAgIHNwYXduLl9nZW5lcmF0b3IgPSBnZW5lcmF0b3I7XG5cdCAgICAgICAgc3Bhd24uX3Byb21pc2VGdWxmaWxsZWQodW5kZWZpbmVkKTtcblx0ICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgfTtcblx0fTtcblx0XG5cdFByb21pc2UuY29yb3V0aW5lLmFkZFlpZWxkSGFuZGxlciA9IGZ1bmN0aW9uKGZuKSB7XG5cdCAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZm4pKTtcblx0ICAgIH1cblx0ICAgIHlpZWxkSGFuZGxlcnMucHVzaChmbik7XG5cdH07XG5cdFxuXHRQcm9taXNlLnNwYXduID0gZnVuY3Rpb24gKGdlbmVyYXRvckZ1bmN0aW9uKSB7XG5cdCAgICBkZWJ1Zy5kZXByZWNhdGVkKFwiUHJvbWlzZS5zcGF3bigpXCIsIFwiUHJvbWlzZS5jb3JvdXRpbmUoKVwiKTtcblx0ICAgIGlmICh0eXBlb2YgZ2VuZXJhdG9yRnVuY3Rpb24gIT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgIHJldHVybiBhcGlSZWplY3Rpb24oXCJnZW5lcmF0b3JGdW5jdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb25cXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuXHQgICAgfVxuXHQgICAgdmFyIHNwYXduID0gbmV3IFByb21pc2VTcGF3bihnZW5lcmF0b3JGdW5jdGlvbiwgdGhpcyk7XG5cdCAgICB2YXIgcmV0ID0gc3Bhd24ucHJvbWlzZSgpO1xuXHQgICAgc3Bhd24uX3J1bihQcm9taXNlLnNwYXduKTtcblx0ICAgIHJldHVybiByZXQ7XG5cdH07XG5cdH07XG5cdFxuXHR9LHtcIi4vZXJyb3JzXCI6MTIsXCIuL3V0aWxcIjozNn1dLDE3OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID1cblx0ZnVuY3Rpb24oUHJvbWlzZSwgUHJvbWlzZUFycmF5LCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBJTlRFUk5BTCwgYXN5bmMsXG5cdCAgICAgICAgIGdldERvbWFpbikge1xuXHR2YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cdHZhciBjYW5FdmFsdWF0ZSA9IHV0aWwuY2FuRXZhbHVhdGU7XG5cdHZhciB0cnlDYXRjaCA9IHV0aWwudHJ5Q2F0Y2g7XG5cdHZhciBlcnJvck9iaiA9IHV0aWwuZXJyb3JPYmo7XG5cdHZhciByZWplY3Q7XG5cdFxuXHRpZiAoZmFsc2UpIHtcblx0aWYgKGNhbkV2YWx1YXRlKSB7XG5cdCAgICB2YXIgdGhlbkNhbGxiYWNrID0gZnVuY3Rpb24oaSkge1xuXHQgICAgICAgIHJldHVybiBuZXcgRnVuY3Rpb24oXCJ2YWx1ZVwiLCBcImhvbGRlclwiLCBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgJ3VzZSBzdHJpY3QnOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICBob2xkZXIucEluZGV4ID0gdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIGhvbGRlci5jaGVja0Z1bGZpbGxtZW50KHRoaXMpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgXCIucmVwbGFjZSgvSW5kZXgvZywgaSkpO1xuXHQgICAgfTtcblx0XG5cdCAgICB2YXIgcHJvbWlzZVNldHRlciA9IGZ1bmN0aW9uKGkpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKFwicHJvbWlzZVwiLCBcImhvbGRlclwiLCBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICd1c2Ugc3RyaWN0JzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgaG9sZGVyLnBJbmRleCA9IHByb21pc2U7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICBcIi5yZXBsYWNlKC9JbmRleC9nLCBpKSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHZhciBnZW5lcmF0ZUhvbGRlckNsYXNzID0gZnVuY3Rpb24odG90YWwpIHtcblx0ICAgICAgICB2YXIgcHJvcHMgPSBuZXcgQXJyYXkodG90YWwpO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICAgICAgcHJvcHNbaV0gPSBcInRoaXMucFwiICsgKGkrMSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBhc3NpZ25tZW50ID0gcHJvcHMuam9pbihcIiA9IFwiKSArIFwiID0gbnVsbDtcIjtcblx0ICAgICAgICB2YXIgY2FuY2VsbGF0aW9uQ29kZT0gXCJ2YXIgcHJvbWlzZTtcXG5cIiArIHByb3BzLm1hcChmdW5jdGlvbihwcm9wKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICBwcm9taXNlID0gXCIgKyBwcm9wICsgXCI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgaWYgKHByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5jYW5jZWwoKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICBcIjtcblx0ICAgICAgICB9KS5qb2luKFwiXFxuXCIpO1xuXHQgICAgICAgIHZhciBwYXNzZWRBcmd1bWVudHMgPSBwcm9wcy5qb2luKFwiLCBcIik7XG5cdCAgICAgICAgdmFyIG5hbWUgPSBcIkhvbGRlciRcIiArIHRvdGFsO1xuXHRcblx0XG5cdCAgICAgICAgdmFyIGNvZGUgPSBcInJldHVybiBmdW5jdGlvbih0cnlDYXRjaCwgZXJyb3JPYmosIFByb21pc2UsIGFzeW5jKSB7ICAgIFxcblxcXG5cdCAgICAgICAgICAgICd1c2Ugc3RyaWN0JzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgZnVuY3Rpb24gW1RoZU5hbWVdKGZuKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgW1RoZVByb3BlcnRpZXNdICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICB0aGlzLmZuID0gZm47ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgIHRoaXMuYXN5bmNOZWVkZWQgPSB0cnVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgdGhpcy5ub3cgPSAwOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICBbVGhlTmFtZV0ucHJvdG90eXBlLl9jYWxsRnVuY3Rpb24gPSBmdW5jdGlvbihwcm9taXNlKSB7ICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICBwcm9taXNlLl9wdXNoQ29udGV4dCgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgIHZhciByZXQgPSB0cnlDYXRjaCh0aGlzLmZuKShbVGhlUGFzc2VkQXJndW1lbnRzXSk7ICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgcHJvbWlzZS5fcG9wQ29udGV4dCgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICBpZiAocmV0ID09PSBlcnJvck9iaikgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgICAgICBwcm9taXNlLl9yZWplY3RDYWxsYmFjayhyZXQuZSwgZmFsc2UpOyAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5fcmVzb2x2ZUNhbGxiYWNrKHJldCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICB9OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgW1RoZU5hbWVdLnByb3RvdHlwZS5jaGVja0Z1bGZpbGxtZW50ID0gZnVuY3Rpb24ocHJvbWlzZSkgeyAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgdmFyIG5vdyA9ICsrdGhpcy5ub3c7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICBpZiAobm93ID09PSBbVGhlVG90YWxdKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hc3luY05lZWRlZCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBhc3luYy5pbnZva2UodGhpcy5fY2FsbEZ1bmN0aW9uLCB0aGlzLCBwcm9taXNlKTsgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FsbEZ1bmN0aW9uKHByb21pc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICB9OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgW1RoZU5hbWVdLnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7ICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICAgW0NhbmNlbGxhdGlvbkNvZGVdICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIH07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICByZXR1cm4gW1RoZU5hbWVdOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgfSh0cnlDYXRjaCwgZXJyb3JPYmosIFByb21pc2UsIGFzeW5jKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICBcIjtcblx0XG5cdCAgICAgICAgY29kZSA9IGNvZGUucmVwbGFjZSgvXFxbVGhlTmFtZVxcXS9nLCBuYW1lKVxuXHQgICAgICAgICAgICAucmVwbGFjZSgvXFxbVGhlVG90YWxcXF0vZywgdG90YWwpXG5cdCAgICAgICAgICAgIC5yZXBsYWNlKC9cXFtUaGVQYXNzZWRBcmd1bWVudHNcXF0vZywgcGFzc2VkQXJndW1lbnRzKVxuXHQgICAgICAgICAgICAucmVwbGFjZSgvXFxbVGhlUHJvcGVydGllc1xcXS9nLCBhc3NpZ25tZW50KVxuXHQgICAgICAgICAgICAucmVwbGFjZSgvXFxbQ2FuY2VsbGF0aW9uQ29kZVxcXS9nLCBjYW5jZWxsYXRpb25Db2RlKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbihcInRyeUNhdGNoXCIsIFwiZXJyb3JPYmpcIiwgXCJQcm9taXNlXCIsIFwiYXN5bmNcIiwgY29kZSlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRyeUNhdGNoLCBlcnJvck9iaiwgUHJvbWlzZSwgYXN5bmMpO1xuXHQgICAgfTtcblx0XG5cdCAgICB2YXIgaG9sZGVyQ2xhc3NlcyA9IFtdO1xuXHQgICAgdmFyIHRoZW5DYWxsYmFja3MgPSBbXTtcblx0ICAgIHZhciBwcm9taXNlU2V0dGVycyA9IFtdO1xuXHRcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgODsgKytpKSB7XG5cdCAgICAgICAgaG9sZGVyQ2xhc3Nlcy5wdXNoKGdlbmVyYXRlSG9sZGVyQ2xhc3MoaSArIDEpKTtcblx0ICAgICAgICB0aGVuQ2FsbGJhY2tzLnB1c2godGhlbkNhbGxiYWNrKGkgKyAxKSk7XG5cdCAgICAgICAgcHJvbWlzZVNldHRlcnMucHVzaChwcm9taXNlU2V0dGVyKGkgKyAxKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmVqZWN0ID0gZnVuY3Rpb24gKHJlYXNvbikge1xuXHQgICAgICAgIHRoaXMuX3JlamVjdChyZWFzb24pO1xuXHQgICAgfTtcblx0fX1cblx0XG5cdFByb21pc2Uuam9pbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBsYXN0ID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7XG5cdCAgICB2YXIgZm47XG5cdCAgICBpZiAobGFzdCA+IDAgJiYgdHlwZW9mIGFyZ3VtZW50c1tsYXN0XSA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgZm4gPSBhcmd1bWVudHNbbGFzdF07XG5cdCAgICAgICAgaWYgKGZhbHNlKSB7XG5cdCAgICAgICAgICAgIGlmIChsYXN0IDw9IDggJiYgY2FuRXZhbHVhdGUpIHtcblx0ICAgICAgICAgICAgICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG5cdCAgICAgICAgICAgICAgICByZXQuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG5cdCAgICAgICAgICAgICAgICB2YXIgSG9sZGVyQ2xhc3MgPSBob2xkZXJDbGFzc2VzW2xhc3QgLSAxXTtcblx0ICAgICAgICAgICAgICAgIHZhciBob2xkZXIgPSBuZXcgSG9sZGVyQ2xhc3MoZm4pO1xuXHQgICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrcyA9IHRoZW5DYWxsYmFja3M7XG5cdFxuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0OyArK2kpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gdHJ5Q29udmVydFRvUHJvbWlzZShhcmd1bWVudHNbaV0sIHJldCk7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKG1heWJlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlID0gbWF5YmVQcm9taXNlLl90YXJnZXQoKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJpdEZpZWxkID0gbWF5YmVQcm9taXNlLl9iaXRGaWVsZDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKChiaXRGaWVsZCAmIDUwMzk3MTg0KSA9PT0gMCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlUHJvbWlzZS5fdGhlbihjYWxsYmFja3NbaV0sIHJlamVjdCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsIHJldCwgaG9sZGVyKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2VTZXR0ZXJzW2ldKG1heWJlUHJvbWlzZSwgaG9sZGVyKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvbGRlci5hc3luY05lZWRlZCA9IGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCgoYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDApKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3NbaV0uY2FsbChyZXQsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXliZVByb21pc2UuX3ZhbHVlKCksIGhvbGRlcik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDE2Nzc3MjE2KSAhPT0gMCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldC5fcmVqZWN0KG1heWJlUHJvbWlzZS5fcmVhc29uKCkpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0Ll9jYW5jZWwoKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc1tpXS5jYWxsKHJldCwgbWF5YmVQcm9taXNlLCBob2xkZXIpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICBpZiAoIXJldC5faXNGYXRlU2VhbGVkKCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoaG9sZGVyLmFzeW5jTmVlZGVkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkb21haW4gPSBnZXREb21haW4oKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvbWFpbiAhPT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9sZGVyLmZuID0gdXRpbC5kb21haW5CaW5kKGRvbWFpbiwgaG9sZGVyLmZuKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICByZXQuX3NldEFzeW5jR3VhcmFudGVlZCgpO1xuXHQgICAgICAgICAgICAgICAgICAgIHJldC5fc2V0T25DYW5jZWwoaG9sZGVyKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTs7XG5cdCAgICBpZiAoZm4pIGFyZ3MucG9wKCk7XG5cdCAgICB2YXIgcmV0ID0gbmV3IFByb21pc2VBcnJheShhcmdzKS5wcm9taXNlKCk7XG5cdCAgICByZXR1cm4gZm4gIT09IHVuZGVmaW5lZCA/IHJldC5zcHJlYWQoZm4pIDogcmV0O1xuXHR9O1xuXHRcblx0fTtcblx0XG5cdH0se1wiLi91dGlsXCI6MzZ9XSwxODpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvbWlzZUFycmF5LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaVJlamVjdGlvbixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICB0cnlDb252ZXJ0VG9Qcm9taXNlLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgIElOVEVSTkFMLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKSB7XG5cdHZhciBnZXREb21haW4gPSBQcm9taXNlLl9nZXREb21haW47XG5cdHZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcblx0dmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcblx0dmFyIGVycm9yT2JqID0gdXRpbC5lcnJvck9iajtcblx0dmFyIGFzeW5jID0gUHJvbWlzZS5fYXN5bmM7XG5cdFxuXHRmdW5jdGlvbiBNYXBwaW5nUHJvbWlzZUFycmF5KHByb21pc2VzLCBmbiwgbGltaXQsIF9maWx0ZXIpIHtcblx0ICAgIHRoaXMuY29uc3RydWN0b3IkKHByb21pc2VzKTtcblx0ICAgIHRoaXMuX3Byb21pc2UuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG5cdCAgICB2YXIgZG9tYWluID0gZ2V0RG9tYWluKCk7XG5cdCAgICB0aGlzLl9jYWxsYmFjayA9IGRvbWFpbiA9PT0gbnVsbCA/IGZuIDogdXRpbC5kb21haW5CaW5kKGRvbWFpbiwgZm4pO1xuXHQgICAgdGhpcy5fcHJlc2VydmVkVmFsdWVzID0gX2ZpbHRlciA9PT0gSU5URVJOQUxcblx0ICAgICAgICA/IG5ldyBBcnJheSh0aGlzLmxlbmd0aCgpKVxuXHQgICAgICAgIDogbnVsbDtcblx0ICAgIHRoaXMuX2xpbWl0ID0gbGltaXQ7XG5cdCAgICB0aGlzLl9pbkZsaWdodCA9IDA7XG5cdCAgICB0aGlzLl9xdWV1ZSA9IFtdO1xuXHQgICAgYXN5bmMuaW52b2tlKHRoaXMuX2FzeW5jSW5pdCwgdGhpcywgdW5kZWZpbmVkKTtcblx0fVxuXHR1dGlsLmluaGVyaXRzKE1hcHBpbmdQcm9taXNlQXJyYXksIFByb21pc2VBcnJheSk7XG5cdFxuXHRNYXBwaW5nUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fYXN5bmNJbml0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLl9pbml0JCh1bmRlZmluZWQsIC0yKTtcblx0fTtcblx0XG5cdE1hcHBpbmdQcm9taXNlQXJyYXkucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24gKCkge307XG5cdFxuXHRNYXBwaW5nUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZUZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcblx0ICAgIHZhciB2YWx1ZXMgPSB0aGlzLl92YWx1ZXM7XG5cdCAgICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGgoKTtcblx0ICAgIHZhciBwcmVzZXJ2ZWRWYWx1ZXMgPSB0aGlzLl9wcmVzZXJ2ZWRWYWx1ZXM7XG5cdCAgICB2YXIgbGltaXQgPSB0aGlzLl9saW1pdDtcblx0XG5cdCAgICBpZiAoaW5kZXggPCAwKSB7XG5cdCAgICAgICAgaW5kZXggPSAoaW5kZXggKiAtMSkgLSAxO1xuXHQgICAgICAgIHZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcblx0ICAgICAgICBpZiAobGltaXQgPj0gMSkge1xuXHQgICAgICAgICAgICB0aGlzLl9pbkZsaWdodC0tO1xuXHQgICAgICAgICAgICB0aGlzLl9kcmFpblF1ZXVlKCk7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLl9pc1Jlc29sdmVkKCkpIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKGxpbWl0ID49IDEgJiYgdGhpcy5faW5GbGlnaHQgPj0gbGltaXQpIHtcblx0ICAgICAgICAgICAgdmFsdWVzW2luZGV4XSA9IHZhbHVlO1xuXHQgICAgICAgICAgICB0aGlzLl9xdWV1ZS5wdXNoKGluZGV4KTtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAocHJlc2VydmVkVmFsdWVzICE9PSBudWxsKSBwcmVzZXJ2ZWRWYWx1ZXNbaW5kZXhdID0gdmFsdWU7XG5cdFxuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5fcHJvbWlzZTtcblx0ICAgICAgICB2YXIgY2FsbGJhY2sgPSB0aGlzLl9jYWxsYmFjaztcblx0ICAgICAgICB2YXIgcmVjZWl2ZXIgPSBwcm9taXNlLl9ib3VuZFZhbHVlKCk7XG5cdCAgICAgICAgcHJvbWlzZS5fcHVzaENvbnRleHQoKTtcblx0ICAgICAgICB2YXIgcmV0ID0gdHJ5Q2F0Y2goY2FsbGJhY2spLmNhbGwocmVjZWl2ZXIsIHZhbHVlLCBpbmRleCwgbGVuZ3RoKTtcblx0ICAgICAgICB2YXIgcHJvbWlzZUNyZWF0ZWQgPSBwcm9taXNlLl9wb3BDb250ZXh0KCk7XG5cdCAgICAgICAgZGVidWcuY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zKFxuXHQgICAgICAgICAgICByZXQsXG5cdCAgICAgICAgICAgIHByb21pc2VDcmVhdGVkLFxuXHQgICAgICAgICAgICBwcmVzZXJ2ZWRWYWx1ZXMgIT09IG51bGwgPyBcIlByb21pc2UuZmlsdGVyXCIgOiBcIlByb21pc2UubWFwXCIsXG5cdCAgICAgICAgICAgIHByb21pc2Vcblx0ICAgICAgICApO1xuXHQgICAgICAgIGlmIChyZXQgPT09IGVycm9yT2JqKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX3JlamVjdChyZXQuZSk7XG5cdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIG1heWJlUHJvbWlzZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UocmV0LCB0aGlzLl9wcm9taXNlKTtcblx0ICAgICAgICBpZiAobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuXHQgICAgICAgICAgICBtYXliZVByb21pc2UgPSBtYXliZVByb21pc2UuX3RhcmdldCgpO1xuXHQgICAgICAgICAgICB2YXIgYml0RmllbGQgPSBtYXliZVByb21pc2UuX2JpdEZpZWxkO1xuXHQgICAgICAgICAgICA7XG5cdCAgICAgICAgICAgIGlmICgoKGJpdEZpZWxkICYgNTAzOTcxODQpID09PSAwKSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKGxpbWl0ID49IDEpIHRoaXMuX2luRmxpZ2h0Kys7XG5cdCAgICAgICAgICAgICAgICB2YWx1ZXNbaW5kZXhdID0gbWF5YmVQcm9taXNlO1xuXHQgICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlLl9wcm94eSh0aGlzLCAoaW5kZXggKyAxKSAqIC0xKTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMzM1NTQ0MzIpICE9PSAwKSkge1xuXHQgICAgICAgICAgICAgICAgcmV0ID0gbWF5YmVQcm9taXNlLl92YWx1ZSgpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKCgoYml0RmllbGQgJiAxNjc3NzIxNikgIT09IDApKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLl9yZWplY3QobWF5YmVQcm9taXNlLl9yZWFzb24oKSk7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuX2NhbmNlbCgpO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFsdWVzW2luZGV4XSA9IHJldDtcblx0ICAgIH1cblx0ICAgIHZhciB0b3RhbFJlc29sdmVkID0gKyt0aGlzLl90b3RhbFJlc29sdmVkO1xuXHQgICAgaWYgKHRvdGFsUmVzb2x2ZWQgPj0gbGVuZ3RoKSB7XG5cdCAgICAgICAgaWYgKHByZXNlcnZlZFZhbHVlcyAhPT0gbnVsbCkge1xuXHQgICAgICAgICAgICB0aGlzLl9maWx0ZXIodmFsdWVzLCBwcmVzZXJ2ZWRWYWx1ZXMpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUodmFsdWVzKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdH07XG5cdFxuXHRNYXBwaW5nUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fZHJhaW5RdWV1ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBxdWV1ZSA9IHRoaXMuX3F1ZXVlO1xuXHQgICAgdmFyIGxpbWl0ID0gdGhpcy5fbGltaXQ7XG5cdCAgICB2YXIgdmFsdWVzID0gdGhpcy5fdmFsdWVzO1xuXHQgICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDAgJiYgdGhpcy5faW5GbGlnaHQgPCBsaW1pdCkge1xuXHQgICAgICAgIGlmICh0aGlzLl9pc1Jlc29sdmVkKCkpIHJldHVybjtcblx0ICAgICAgICB2YXIgaW5kZXggPSBxdWV1ZS5wb3AoKTtcblx0ICAgICAgICB0aGlzLl9wcm9taXNlRnVsZmlsbGVkKHZhbHVlc1tpbmRleF0sIGluZGV4KTtcblx0ICAgIH1cblx0fTtcblx0XG5cdE1hcHBpbmdQcm9taXNlQXJyYXkucHJvdG90eXBlLl9maWx0ZXIgPSBmdW5jdGlvbiAoYm9vbGVhbnMsIHZhbHVlcykge1xuXHQgICAgdmFyIGxlbiA9IHZhbHVlcy5sZW5ndGg7XG5cdCAgICB2YXIgcmV0ID0gbmV3IEFycmF5KGxlbik7XG5cdCAgICB2YXIgaiA9IDA7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG5cdCAgICAgICAgaWYgKGJvb2xlYW5zW2ldKSByZXRbaisrXSA9IHZhbHVlc1tpXTtcblx0ICAgIH1cblx0ICAgIHJldC5sZW5ndGggPSBqO1xuXHQgICAgdGhpcy5fcmVzb2x2ZShyZXQpO1xuXHR9O1xuXHRcblx0TWFwcGluZ1Byb21pc2VBcnJheS5wcm90b3R5cGUucHJlc2VydmVkVmFsdWVzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX3ByZXNlcnZlZFZhbHVlcztcblx0fTtcblx0XG5cdGZ1bmN0aW9uIG1hcChwcm9taXNlcywgZm4sIG9wdGlvbnMsIF9maWx0ZXIpIHtcblx0ICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgIHJldHVybiBhcGlSZWplY3Rpb24oXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyhmbikpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBsaW1pdCA9IDA7XG5cdCAgICBpZiAob3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMgIT09IG51bGwpIHtcblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmNvbmN1cnJlbmN5ICE9PSBcIm51bWJlclwiKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG5cdCAgICAgICAgICAgICAgICAgICAgbmV3IFR5cGVFcnJvcihcIidjb25jdXJyZW5jeScgbXVzdCBiZSBhIG51bWJlciBidXQgaXQgaXMgXCIgK1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlsLmNsYXNzU3RyaW5nKG9wdGlvbnMuY29uY3VycmVuY3kpKSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgbGltaXQgPSBvcHRpb25zLmNvbmN1cnJlbmN5O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJvcHRpb25zIGFyZ3VtZW50IG11c3QgYmUgYW4gb2JqZWN0IGJ1dCBpdCBpcyBcIiArXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbC5jbGFzc1N0cmluZyhvcHRpb25zKSkpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGxpbWl0ID0gdHlwZW9mIGxpbWl0ID09PSBcIm51bWJlclwiICYmXG5cdCAgICAgICAgaXNGaW5pdGUobGltaXQpICYmIGxpbWl0ID49IDEgPyBsaW1pdCA6IDA7XG5cdCAgICByZXR1cm4gbmV3IE1hcHBpbmdQcm9taXNlQXJyYXkocHJvbWlzZXMsIGZuLCBsaW1pdCwgX2ZpbHRlcikucHJvbWlzZSgpO1xuXHR9XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoZm4sIG9wdGlvbnMpIHtcblx0ICAgIHJldHVybiBtYXAodGhpcywgZm4sIG9wdGlvbnMsIG51bGwpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5tYXAgPSBmdW5jdGlvbiAocHJvbWlzZXMsIGZuLCBvcHRpb25zLCBfZmlsdGVyKSB7XG5cdCAgICByZXR1cm4gbWFwKHByb21pc2VzLCBmbiwgb3B0aW9ucywgX2ZpbHRlcik7XG5cdH07XG5cdFxuXHRcblx0fTtcblx0XG5cdH0se1wiLi91dGlsXCI6MzZ9XSwxOTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9XG5cdGZ1bmN0aW9uKFByb21pc2UsIElOVEVSTkFMLCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBhcGlSZWplY3Rpb24sIGRlYnVnKSB7XG5cdHZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcblx0dmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcblx0XG5cdFByb21pc2UubWV0aG9kID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgUHJvbWlzZS5UeXBlRXJyb3IoXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyhmbikpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuXHQgICAgICAgIHJldC5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcblx0ICAgICAgICByZXQuX3B1c2hDb250ZXh0KCk7XG5cdCAgICAgICAgdmFyIHZhbHVlID0gdHJ5Q2F0Y2goZm4pLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgdmFyIHByb21pc2VDcmVhdGVkID0gcmV0Ll9wb3BDb250ZXh0KCk7XG5cdCAgICAgICAgZGVidWcuY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zKFxuXHQgICAgICAgICAgICB2YWx1ZSwgcHJvbWlzZUNyZWF0ZWQsIFwiUHJvbWlzZS5tZXRob2RcIiwgcmV0KTtcblx0ICAgICAgICByZXQuX3Jlc29sdmVGcm9tU3luY1ZhbHVlKHZhbHVlKTtcblx0ICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgfTtcblx0fTtcblx0XG5cdFByb21pc2UuYXR0ZW1wdCA9IFByb21pc2VbXCJ0cnlcIl0gPSBmdW5jdGlvbiAoZm4pIHtcblx0ICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgIHJldHVybiBhcGlSZWplY3Rpb24oXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyhmbikpO1xuXHQgICAgfVxuXHQgICAgdmFyIHJldCA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcblx0ICAgIHJldC5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcblx0ICAgIHJldC5fcHVzaENvbnRleHQoKTtcblx0ICAgIHZhciB2YWx1ZTtcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuXHQgICAgICAgIGRlYnVnLmRlcHJlY2F0ZWQoXCJjYWxsaW5nIFByb21pc2UudHJ5IHdpdGggbW9yZSB0aGFuIDEgYXJndW1lbnRcIik7XG5cdCAgICAgICAgdmFyIGFyZyA9IGFyZ3VtZW50c1sxXTtcblx0ICAgICAgICB2YXIgY3R4ID0gYXJndW1lbnRzWzJdO1xuXHQgICAgICAgIHZhbHVlID0gdXRpbC5pc0FycmF5KGFyZykgPyB0cnlDYXRjaChmbikuYXBwbHkoY3R4LCBhcmcpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRyeUNhdGNoKGZuKS5jYWxsKGN0eCwgYXJnKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFsdWUgPSB0cnlDYXRjaChmbikoKTtcblx0ICAgIH1cblx0ICAgIHZhciBwcm9taXNlQ3JlYXRlZCA9IHJldC5fcG9wQ29udGV4dCgpO1xuXHQgICAgZGVidWcuY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zKFxuXHQgICAgICAgIHZhbHVlLCBwcm9taXNlQ3JlYXRlZCwgXCJQcm9taXNlLnRyeVwiLCByZXQpO1xuXHQgICAgcmV0Ll9yZXNvbHZlRnJvbVN5bmNWYWx1ZSh2YWx1ZSk7XG5cdCAgICByZXR1cm4gcmV0O1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3Jlc29sdmVGcm9tU3luY1ZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICBpZiAodmFsdWUgPT09IHV0aWwuZXJyb3JPYmopIHtcblx0ICAgICAgICB0aGlzLl9yZWplY3RDYWxsYmFjayh2YWx1ZS5lLCBmYWxzZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuX3Jlc29sdmVDYWxsYmFjayh2YWx1ZSwgdHJ1ZSk7XG5cdCAgICB9XG5cdH07XG5cdH07XG5cdFxuXHR9LHtcIi4vdXRpbFwiOjM2fV0sMjA6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXHR2YXIgbWF5YmVXcmFwQXNFcnJvciA9IHV0aWwubWF5YmVXcmFwQXNFcnJvcjtcblx0dmFyIGVycm9ycyA9IF9kZXJlcV8oXCIuL2Vycm9yc1wiKTtcblx0dmFyIE9wZXJhdGlvbmFsRXJyb3IgPSBlcnJvcnMuT3BlcmF0aW9uYWxFcnJvcjtcblx0dmFyIGVzNSA9IF9kZXJlcV8oXCIuL2VzNVwiKTtcblx0XG5cdGZ1bmN0aW9uIGlzVW50eXBlZEVycm9yKG9iaikge1xuXHQgICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIEVycm9yICYmXG5cdCAgICAgICAgZXM1LmdldFByb3RvdHlwZU9mKG9iaikgPT09IEVycm9yLnByb3RvdHlwZTtcblx0fVxuXHRcblx0dmFyIHJFcnJvcktleSA9IC9eKD86bmFtZXxtZXNzYWdlfHN0YWNrfGNhdXNlKSQvO1xuXHRmdW5jdGlvbiB3cmFwQXNPcGVyYXRpb25hbEVycm9yKG9iaikge1xuXHQgICAgdmFyIHJldDtcblx0ICAgIGlmIChpc1VudHlwZWRFcnJvcihvYmopKSB7XG5cdCAgICAgICAgcmV0ID0gbmV3IE9wZXJhdGlvbmFsRXJyb3Iob2JqKTtcblx0ICAgICAgICByZXQubmFtZSA9IG9iai5uYW1lO1xuXHQgICAgICAgIHJldC5tZXNzYWdlID0gb2JqLm1lc3NhZ2U7XG5cdCAgICAgICAgcmV0LnN0YWNrID0gb2JqLnN0YWNrO1xuXHQgICAgICAgIHZhciBrZXlzID0gZXM1LmtleXMob2JqKTtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG5cdCAgICAgICAgICAgIGlmICghckVycm9yS2V5LnRlc3Qoa2V5KSkge1xuXHQgICAgICAgICAgICAgICAgcmV0W2tleV0gPSBvYmpba2V5XTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgfVxuXHQgICAgdXRpbC5tYXJrQXNPcmlnaW5hdGluZ0Zyb21SZWplY3Rpb24ob2JqKTtcblx0ICAgIHJldHVybiBvYmo7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG5vZGViYWNrRm9yUHJvbWlzZShwcm9taXNlLCBtdWx0aUFyZ3MpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbihlcnIsIHZhbHVlKSB7XG5cdCAgICAgICAgaWYgKHByb21pc2UgPT09IG51bGwpIHJldHVybjtcblx0ICAgICAgICBpZiAoZXJyKSB7XG5cdCAgICAgICAgICAgIHZhciB3cmFwcGVkID0gd3JhcEFzT3BlcmF0aW9uYWxFcnJvcihtYXliZVdyYXBBc0Vycm9yKGVycikpO1xuXHQgICAgICAgICAgICBwcm9taXNlLl9hdHRhY2hFeHRyYVRyYWNlKHdyYXBwZWQpO1xuXHQgICAgICAgICAgICBwcm9taXNlLl9yZWplY3Qod3JhcHBlZCk7XG5cdCAgICAgICAgfSBlbHNlIGlmICghbXVsdGlBcmdzKSB7XG5cdCAgICAgICAgICAgIHByb21pc2UuX2Z1bGZpbGwodmFsdWUpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpOztcblx0ICAgICAgICAgICAgcHJvbWlzZS5fZnVsZmlsbChhcmdzKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcHJvbWlzZSA9IG51bGw7XG5cdCAgICB9O1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IG5vZGViYWNrRm9yUHJvbWlzZTtcblx0XG5cdH0se1wiLi9lcnJvcnNcIjoxMixcIi4vZXM1XCI6MTMsXCIuL3V0aWxcIjozNn1dLDIxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSkge1xuXHR2YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cdHZhciBhc3luYyA9IFByb21pc2UuX2FzeW5jO1xuXHR2YXIgdHJ5Q2F0Y2ggPSB1dGlsLnRyeUNhdGNoO1xuXHR2YXIgZXJyb3JPYmogPSB1dGlsLmVycm9yT2JqO1xuXHRcblx0ZnVuY3Rpb24gc3ByZWFkQWRhcHRlcih2YWwsIG5vZGViYWNrKSB7XG5cdCAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG5cdCAgICBpZiAoIXV0aWwuaXNBcnJheSh2YWwpKSByZXR1cm4gc3VjY2Vzc0FkYXB0ZXIuY2FsbChwcm9taXNlLCB2YWwsIG5vZGViYWNrKTtcblx0ICAgIHZhciByZXQgPVxuXHQgICAgICAgIHRyeUNhdGNoKG5vZGViYWNrKS5hcHBseShwcm9taXNlLl9ib3VuZFZhbHVlKCksIFtudWxsXS5jb25jYXQodmFsKSk7XG5cdCAgICBpZiAocmV0ID09PSBlcnJvck9iaikge1xuXHQgICAgICAgIGFzeW5jLnRocm93TGF0ZXIocmV0LmUpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBzdWNjZXNzQWRhcHRlcih2YWwsIG5vZGViYWNrKSB7XG5cdCAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG5cdCAgICB2YXIgcmVjZWl2ZXIgPSBwcm9taXNlLl9ib3VuZFZhbHVlKCk7XG5cdCAgICB2YXIgcmV0ID0gdmFsID09PSB1bmRlZmluZWRcblx0ICAgICAgICA/IHRyeUNhdGNoKG5vZGViYWNrKS5jYWxsKHJlY2VpdmVyLCBudWxsKVxuXHQgICAgICAgIDogdHJ5Q2F0Y2gobm9kZWJhY2spLmNhbGwocmVjZWl2ZXIsIG51bGwsIHZhbCk7XG5cdCAgICBpZiAocmV0ID09PSBlcnJvck9iaikge1xuXHQgICAgICAgIGFzeW5jLnRocm93TGF0ZXIocmV0LmUpO1xuXHQgICAgfVxuXHR9XG5cdGZ1bmN0aW9uIGVycm9yQWRhcHRlcihyZWFzb24sIG5vZGViYWNrKSB7XG5cdCAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG5cdCAgICBpZiAoIXJlYXNvbikge1xuXHQgICAgICAgIHZhciBuZXdSZWFzb24gPSBuZXcgRXJyb3IocmVhc29uICsgXCJcIik7XG5cdCAgICAgICAgbmV3UmVhc29uLmNhdXNlID0gcmVhc29uO1xuXHQgICAgICAgIHJlYXNvbiA9IG5ld1JlYXNvbjtcblx0ICAgIH1cblx0ICAgIHZhciByZXQgPSB0cnlDYXRjaChub2RlYmFjaykuY2FsbChwcm9taXNlLl9ib3VuZFZhbHVlKCksIHJlYXNvbik7XG5cdCAgICBpZiAocmV0ID09PSBlcnJvck9iaikge1xuXHQgICAgICAgIGFzeW5jLnRocm93TGF0ZXIocmV0LmUpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5hc0NhbGxiYWNrID0gUHJvbWlzZS5wcm90b3R5cGUubm9kZWlmeSA9IGZ1bmN0aW9uIChub2RlYmFjayxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucykge1xuXHQgICAgaWYgKHR5cGVvZiBub2RlYmFjayA9PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICB2YXIgYWRhcHRlciA9IHN1Y2Nlc3NBZGFwdGVyO1xuXHQgICAgICAgIGlmIChvcHRpb25zICE9PSB1bmRlZmluZWQgJiYgT2JqZWN0KG9wdGlvbnMpLnNwcmVhZCkge1xuXHQgICAgICAgICAgICBhZGFwdGVyID0gc3ByZWFkQWRhcHRlcjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdGhpcy5fdGhlbihcblx0ICAgICAgICAgICAgYWRhcHRlcixcblx0ICAgICAgICAgICAgZXJyb3JBZGFwdGVyLFxuXHQgICAgICAgICAgICB1bmRlZmluZWQsXG5cdCAgICAgICAgICAgIHRoaXMsXG5cdCAgICAgICAgICAgIG5vZGViYWNrXG5cdCAgICAgICAgKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB0aGlzO1xuXHR9O1xuXHR9O1xuXHRcblx0fSx7XCIuL3V0aWxcIjozNn1dLDIyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdHZhciBtYWtlU2VsZlJlc29sdXRpb25FcnJvciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBuZXcgVHlwZUVycm9yKFwiY2lyY3VsYXIgcHJvbWlzZSByZXNvbHV0aW9uIGNoYWluXFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcblx0fTtcblx0dmFyIHJlZmxlY3RIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gbmV3IFByb21pc2UuUHJvbWlzZUluc3BlY3Rpb24odGhpcy5fdGFyZ2V0KCkpO1xuXHR9O1xuXHR2YXIgYXBpUmVqZWN0aW9uID0gZnVuY3Rpb24obXNnKSB7XG5cdCAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcihtc2cpKTtcblx0fTtcblx0ZnVuY3Rpb24gUHJveHlhYmxlKCkge31cblx0dmFyIFVOREVGSU5FRF9CSU5ESU5HID0ge307XG5cdHZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcblx0XG5cdHZhciBnZXREb21haW47XG5cdGlmICh1dGlsLmlzTm9kZSkge1xuXHQgICAgZ2V0RG9tYWluID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHJldCA9IHByb2Nlc3MuZG9tYWluO1xuXHQgICAgICAgIGlmIChyZXQgPT09IHVuZGVmaW5lZCkgcmV0ID0gbnVsbDtcblx0ICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgfTtcblx0fSBlbHNlIHtcblx0ICAgIGdldERvbWFpbiA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfTtcblx0fVxuXHR1dGlsLm5vdEVudW1lcmFibGVQcm9wKFByb21pc2UsIFwiX2dldERvbWFpblwiLCBnZXREb21haW4pO1xuXHRcblx0dmFyIGVzNSA9IF9kZXJlcV8oXCIuL2VzNVwiKTtcblx0dmFyIEFzeW5jID0gX2RlcmVxXyhcIi4vYXN5bmNcIik7XG5cdHZhciBhc3luYyA9IG5ldyBBc3luYygpO1xuXHRlczUuZGVmaW5lUHJvcGVydHkoUHJvbWlzZSwgXCJfYXN5bmNcIiwge3ZhbHVlOiBhc3luY30pO1xuXHR2YXIgZXJyb3JzID0gX2RlcmVxXyhcIi4vZXJyb3JzXCIpO1xuXHR2YXIgVHlwZUVycm9yID0gUHJvbWlzZS5UeXBlRXJyb3IgPSBlcnJvcnMuVHlwZUVycm9yO1xuXHRQcm9taXNlLlJhbmdlRXJyb3IgPSBlcnJvcnMuUmFuZ2VFcnJvcjtcblx0dmFyIENhbmNlbGxhdGlvbkVycm9yID0gUHJvbWlzZS5DYW5jZWxsYXRpb25FcnJvciA9IGVycm9ycy5DYW5jZWxsYXRpb25FcnJvcjtcblx0UHJvbWlzZS5UaW1lb3V0RXJyb3IgPSBlcnJvcnMuVGltZW91dEVycm9yO1xuXHRQcm9taXNlLk9wZXJhdGlvbmFsRXJyb3IgPSBlcnJvcnMuT3BlcmF0aW9uYWxFcnJvcjtcblx0UHJvbWlzZS5SZWplY3Rpb25FcnJvciA9IGVycm9ycy5PcGVyYXRpb25hbEVycm9yO1xuXHRQcm9taXNlLkFnZ3JlZ2F0ZUVycm9yID0gZXJyb3JzLkFnZ3JlZ2F0ZUVycm9yO1xuXHR2YXIgSU5URVJOQUwgPSBmdW5jdGlvbigpe307XG5cdHZhciBBUFBMWSA9IHt9O1xuXHR2YXIgTkVYVF9GSUxURVIgPSB7fTtcblx0dmFyIHRyeUNvbnZlcnRUb1Byb21pc2UgPSBfZGVyZXFfKFwiLi90aGVuYWJsZXNcIikoUHJvbWlzZSwgSU5URVJOQUwpO1xuXHR2YXIgUHJvbWlzZUFycmF5ID1cblx0ICAgIF9kZXJlcV8oXCIuL3Byb21pc2VfYXJyYXlcIikoUHJvbWlzZSwgSU5URVJOQUwsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnlDb252ZXJ0VG9Qcm9taXNlLCBhcGlSZWplY3Rpb24sIFByb3h5YWJsZSk7XG5cdHZhciBDb250ZXh0ID0gX2RlcmVxXyhcIi4vY29udGV4dFwiKShQcm9taXNlKTtcblx0IC8qanNoaW50IHVudXNlZDpmYWxzZSovXG5cdHZhciBjcmVhdGVDb250ZXh0ID0gQ29udGV4dC5jcmVhdGU7XG5cdHZhciBkZWJ1ZyA9IF9kZXJlcV8oXCIuL2RlYnVnZ2FiaWxpdHlcIikoUHJvbWlzZSwgQ29udGV4dCk7XG5cdHZhciBDYXB0dXJlZFRyYWNlID0gZGVidWcuQ2FwdHVyZWRUcmFjZTtcblx0dmFyIFBhc3NUaHJvdWdoSGFuZGxlckNvbnRleHQgPVxuXHQgICAgX2RlcmVxXyhcIi4vZmluYWxseVwiKShQcm9taXNlLCB0cnlDb252ZXJ0VG9Qcm9taXNlKTtcblx0dmFyIGNhdGNoRmlsdGVyID0gX2RlcmVxXyhcIi4vY2F0Y2hfZmlsdGVyXCIpKE5FWFRfRklMVEVSKTtcblx0dmFyIG5vZGViYWNrRm9yUHJvbWlzZSA9IF9kZXJlcV8oXCIuL25vZGViYWNrXCIpO1xuXHR2YXIgZXJyb3JPYmogPSB1dGlsLmVycm9yT2JqO1xuXHR2YXIgdHJ5Q2F0Y2ggPSB1dGlsLnRyeUNhdGNoO1xuXHRmdW5jdGlvbiBjaGVjayhzZWxmLCBleGVjdXRvcikge1xuXHQgICAgaWYgKHR5cGVvZiBleGVjdXRvciAhPT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKGV4ZWN1dG9yKSk7XG5cdCAgICB9XG5cdCAgICBpZiAoc2VsZi5jb25zdHJ1Y3RvciAhPT0gUHJvbWlzZSkge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJ0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgaW52b2tlZCBkaXJlY3RseVxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3IpIHtcblx0ICAgIHRoaXMuX2JpdEZpZWxkID0gMDtcblx0ICAgIHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlcjAgPSB1bmRlZmluZWQ7XG5cdCAgICB0aGlzLl9yZWplY3Rpb25IYW5kbGVyMCA9IHVuZGVmaW5lZDtcblx0ICAgIHRoaXMuX3Byb21pc2UwID0gdW5kZWZpbmVkO1xuXHQgICAgdGhpcy5fcmVjZWl2ZXIwID0gdW5kZWZpbmVkO1xuXHQgICAgaWYgKGV4ZWN1dG9yICE9PSBJTlRFUk5BTCkge1xuXHQgICAgICAgIGNoZWNrKHRoaXMsIGV4ZWN1dG9yKTtcblx0ICAgICAgICB0aGlzLl9yZXNvbHZlRnJvbUV4ZWN1dG9yKGV4ZWN1dG9yKTtcblx0ICAgIH1cblx0ICAgIHRoaXMuX3Byb21pc2VDcmVhdGVkKCk7XG5cdCAgICB0aGlzLl9maXJlRXZlbnQoXCJwcm9taXNlQ3JlYXRlZFwiLCB0aGlzKTtcblx0fVxuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gXCJbb2JqZWN0IFByb21pc2VdXCI7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5jYXVnaHQgPSBQcm9taXNlLnByb3RvdHlwZVtcImNhdGNoXCJdID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcblx0ICAgIGlmIChsZW4gPiAxKSB7XG5cdCAgICAgICAgdmFyIGNhdGNoSW5zdGFuY2VzID0gbmV3IEFycmF5KGxlbiAtIDEpLFxuXHQgICAgICAgICAgICBqID0gMCwgaTtcblx0ICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuIC0gMTsgKytpKSB7XG5cdCAgICAgICAgICAgIHZhciBpdGVtID0gYXJndW1lbnRzW2ldO1xuXHQgICAgICAgICAgICBpZiAodXRpbC5pc09iamVjdChpdGVtKSkge1xuXHQgICAgICAgICAgICAgICAgY2F0Y2hJbnN0YW5jZXNbaisrXSA9IGl0ZW07XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gYXBpUmVqZWN0aW9uKFwiZXhwZWN0aW5nIGFuIG9iamVjdCBidXQgZ290IFwiICtcblx0ICAgICAgICAgICAgICAgICAgICBcIkEgY2F0Y2ggc3RhdGVtZW50IHByZWRpY2F0ZSBcIiArIHV0aWwuY2xhc3NTdHJpbmcoaXRlbSkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGNhdGNoSW5zdGFuY2VzLmxlbmd0aCA9IGo7XG5cdCAgICAgICAgZm4gPSBhcmd1bWVudHNbaV07XG5cdCAgICAgICAgcmV0dXJuIHRoaXMudGhlbih1bmRlZmluZWQsIGNhdGNoRmlsdGVyKGNhdGNoSW5zdGFuY2VzLCBmbiwgdGhpcykpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXMudGhlbih1bmRlZmluZWQsIGZuKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLnJlZmxlY3QgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fdGhlbihyZWZsZWN0SGFuZGxlcixcblx0ICAgICAgICByZWZsZWN0SGFuZGxlciwgdW5kZWZpbmVkLCB0aGlzLCB1bmRlZmluZWQpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uIChkaWRGdWxmaWxsLCBkaWRSZWplY3QpIHtcblx0ICAgIGlmIChkZWJ1Zy53YXJuaW5ncygpICYmIGFyZ3VtZW50cy5sZW5ndGggPiAwICYmXG5cdCAgICAgICAgdHlwZW9mIGRpZEZ1bGZpbGwgIT09IFwiZnVuY3Rpb25cIiAmJlxuXHQgICAgICAgIHR5cGVvZiBkaWRSZWplY3QgIT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgIHZhciBtc2cgPSBcIi50aGVuKCkgb25seSBhY2NlcHRzIGZ1bmN0aW9ucyBidXQgd2FzIHBhc3NlZDogXCIgK1xuXHQgICAgICAgICAgICAgICAgdXRpbC5jbGFzc1N0cmluZyhkaWRGdWxmaWxsKTtcblx0ICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcblx0ICAgICAgICAgICAgbXNnICs9IFwiLCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZGlkUmVqZWN0KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdGhpcy5fd2Fybihtc2cpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXMuX3RoZW4oZGlkRnVsZmlsbCwgZGlkUmVqZWN0LCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLmRvbmUgPSBmdW5jdGlvbiAoZGlkRnVsZmlsbCwgZGlkUmVqZWN0KSB7XG5cdCAgICB2YXIgcHJvbWlzZSA9XG5cdCAgICAgICAgdGhpcy5fdGhlbihkaWRGdWxmaWxsLCBkaWRSZWplY3QsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuXHQgICAgcHJvbWlzZS5fc2V0SXNGaW5hbCgpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuc3ByZWFkID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICByZXR1cm4gYXBpUmVqZWN0aW9uKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZm4pKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB0aGlzLmFsbCgpLl90aGVuKGZuLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgQVBQTFksIHVuZGVmaW5lZCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgcmV0ID0ge1xuXHQgICAgICAgIGlzRnVsZmlsbGVkOiBmYWxzZSxcblx0ICAgICAgICBpc1JlamVjdGVkOiBmYWxzZSxcblx0ICAgICAgICBmdWxmaWxsbWVudFZhbHVlOiB1bmRlZmluZWQsXG5cdCAgICAgICAgcmVqZWN0aW9uUmVhc29uOiB1bmRlZmluZWRcblx0ICAgIH07XG5cdCAgICBpZiAodGhpcy5pc0Z1bGZpbGxlZCgpKSB7XG5cdCAgICAgICAgcmV0LmZ1bGZpbGxtZW50VmFsdWUgPSB0aGlzLnZhbHVlKCk7XG5cdCAgICAgICAgcmV0LmlzRnVsZmlsbGVkID0gdHJ1ZTtcblx0ICAgIH0gZWxzZSBpZiAodGhpcy5pc1JlamVjdGVkKCkpIHtcblx0ICAgICAgICByZXQucmVqZWN0aW9uUmVhc29uID0gdGhpcy5yZWFzb24oKTtcblx0ICAgICAgICByZXQuaXNSZWplY3RlZCA9IHRydWU7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmV0O1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuYWxsID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgdGhpcy5fd2FybihcIi5hbGwoKSB3YXMgcGFzc2VkIGFyZ3VtZW50cyBidXQgaXQgZG9lcyBub3QgdGFrZSBhbnlcIik7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbmV3IFByb21pc2VBcnJheSh0aGlzKS5wcm9taXNlKCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChmbikge1xuXHQgICAgcmV0dXJuIHRoaXMuY2F1Z2h0KHV0aWwub3JpZ2luYXRlc0Zyb21SZWplY3Rpb24sIGZuKTtcblx0fTtcblx0XG5cdFByb21pc2UuZ2V0TmV3TGlicmFyeUNvcHkgPSBtb2R1bGUuZXhwb3J0cztcblx0XG5cdFByb21pc2UuaXMgPSBmdW5jdGlvbiAodmFsKSB7XG5cdCAgICByZXR1cm4gdmFsIGluc3RhbmNlb2YgUHJvbWlzZTtcblx0fTtcblx0XG5cdFByb21pc2UuZnJvbU5vZGUgPSBQcm9taXNlLmZyb21DYWxsYmFjayA9IGZ1bmN0aW9uKGZuKSB7XG5cdCAgICB2YXIgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuXHQgICAgcmV0Ll9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuXHQgICAgdmFyIG11bHRpQXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gISFPYmplY3QoYXJndW1lbnRzWzFdKS5tdWx0aUFyZ3Ncblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlO1xuXHQgICAgdmFyIHJlc3VsdCA9IHRyeUNhdGNoKGZuKShub2RlYmFja0ZvclByb21pc2UocmV0LCBtdWx0aUFyZ3MpKTtcblx0ICAgIGlmIChyZXN1bHQgPT09IGVycm9yT2JqKSB7XG5cdCAgICAgICAgcmV0Ll9yZWplY3RDYWxsYmFjayhyZXN1bHQuZSwgdHJ1ZSk7XG5cdCAgICB9XG5cdCAgICBpZiAoIXJldC5faXNGYXRlU2VhbGVkKCkpIHJldC5fc2V0QXN5bmNHdWFyYW50ZWVkKCk7XG5cdCAgICByZXR1cm4gcmV0O1xuXHR9O1xuXHRcblx0UHJvbWlzZS5hbGwgPSBmdW5jdGlvbiAocHJvbWlzZXMpIHtcblx0ICAgIHJldHVybiBuZXcgUHJvbWlzZUFycmF5KHByb21pc2VzKS5wcm9taXNlKCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLmNhc3QgPSBmdW5jdGlvbiAob2JqKSB7XG5cdCAgICB2YXIgcmV0ID0gdHJ5Q29udmVydFRvUHJvbWlzZShvYmopO1xuXHQgICAgaWYgKCEocmV0IGluc3RhbmNlb2YgUHJvbWlzZSkpIHtcblx0ICAgICAgICByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG5cdCAgICAgICAgcmV0Ll9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuXHQgICAgICAgIHJldC5fc2V0RnVsZmlsbGVkKCk7XG5cdCAgICAgICAgcmV0Ll9yZWplY3Rpb25IYW5kbGVyMCA9IG9iajtcblx0ICAgIH1cblx0ICAgIHJldHVybiByZXQ7XG5cdH07XG5cdFxuXHRQcm9taXNlLnJlc29sdmUgPSBQcm9taXNlLmZ1bGZpbGxlZCA9IFByb21pc2UuY2FzdDtcblx0XG5cdFByb21pc2UucmVqZWN0ID0gUHJvbWlzZS5yZWplY3RlZCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcblx0ICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG5cdCAgICByZXQuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG5cdCAgICByZXQuX3JlamVjdENhbGxiYWNrKHJlYXNvbiwgdHJ1ZSk7XG5cdCAgICByZXR1cm4gcmV0O1xuXHR9O1xuXHRcblx0UHJvbWlzZS5zZXRTY2hlZHVsZXIgPSBmdW5jdGlvbihmbikge1xuXHQgICAgaWYgKHR5cGVvZiBmbiAhPT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKGZuKSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gYXN5bmMuc2V0U2NoZWR1bGVyKGZuKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl90aGVuID0gZnVuY3Rpb24gKFxuXHQgICAgZGlkRnVsZmlsbCxcblx0ICAgIGRpZFJlamVjdCxcblx0ICAgIF8sICAgIHJlY2VpdmVyLFxuXHQgICAgaW50ZXJuYWxEYXRhXG5cdCkge1xuXHQgICAgdmFyIGhhdmVJbnRlcm5hbERhdGEgPSBpbnRlcm5hbERhdGEgIT09IHVuZGVmaW5lZDtcblx0ICAgIHZhciBwcm9taXNlID0gaGF2ZUludGVybmFsRGF0YSA/IGludGVybmFsRGF0YSA6IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcblx0ICAgIHZhciB0YXJnZXQgPSB0aGlzLl90YXJnZXQoKTtcblx0ICAgIHZhciBiaXRGaWVsZCA9IHRhcmdldC5fYml0RmllbGQ7XG5cdFxuXHQgICAgaWYgKCFoYXZlSW50ZXJuYWxEYXRhKSB7XG5cdCAgICAgICAgcHJvbWlzZS5fcHJvcGFnYXRlRnJvbSh0aGlzLCAzKTtcblx0ICAgICAgICBwcm9taXNlLl9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuXHQgICAgICAgIGlmIChyZWNlaXZlciA9PT0gdW5kZWZpbmVkICYmXG5cdCAgICAgICAgICAgICgodGhpcy5fYml0RmllbGQgJiAyMDk3MTUyKSAhPT0gMCkpIHtcblx0ICAgICAgICAgICAgaWYgKCEoKGJpdEZpZWxkICYgNTAzOTcxODQpID09PSAwKSkge1xuXHQgICAgICAgICAgICAgICAgcmVjZWl2ZXIgPSB0aGlzLl9ib3VuZFZhbHVlKCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICByZWNlaXZlciA9IHRhcmdldCA9PT0gdGhpcyA/IHVuZGVmaW5lZCA6IHRoaXMuX2JvdW5kVG87XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZUNoYWluZWRcIiwgdGhpcywgcHJvbWlzZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGRvbWFpbiA9IGdldERvbWFpbigpO1xuXHQgICAgaWYgKCEoKGJpdEZpZWxkICYgNTAzOTcxODQpID09PSAwKSkge1xuXHQgICAgICAgIHZhciBoYW5kbGVyLCB2YWx1ZSwgc2V0dGxlciA9IHRhcmdldC5fc2V0dGxlUHJvbWlzZUN0eDtcblx0ICAgICAgICBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcblx0ICAgICAgICAgICAgdmFsdWUgPSB0YXJnZXQuX3JlamVjdGlvbkhhbmRsZXIwO1xuXHQgICAgICAgICAgICBoYW5kbGVyID0gZGlkRnVsZmlsbDtcblx0ICAgICAgICB9IGVsc2UgaWYgKCgoYml0RmllbGQgJiAxNjc3NzIxNikgIT09IDApKSB7XG5cdCAgICAgICAgICAgIHZhbHVlID0gdGFyZ2V0Ll9mdWxmaWxsbWVudEhhbmRsZXIwO1xuXHQgICAgICAgICAgICBoYW5kbGVyID0gZGlkUmVqZWN0O1xuXHQgICAgICAgICAgICB0YXJnZXQuX3Vuc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQoKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBzZXR0bGVyID0gdGFyZ2V0Ll9zZXR0bGVQcm9taXNlTGF0ZUNhbmNlbGxhdGlvbk9ic2VydmVyO1xuXHQgICAgICAgICAgICB2YWx1ZSA9IG5ldyBDYW5jZWxsYXRpb25FcnJvcihcImxhdGUgY2FuY2VsbGF0aW9uIG9ic2VydmVyXCIpO1xuXHQgICAgICAgICAgICB0YXJnZXQuX2F0dGFjaEV4dHJhVHJhY2UodmFsdWUpO1xuXHQgICAgICAgICAgICBoYW5kbGVyID0gZGlkUmVqZWN0O1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgYXN5bmMuaW52b2tlKHNldHRsZXIsIHRhcmdldCwge1xuXHQgICAgICAgICAgICBoYW5kbGVyOiBkb21haW4gPT09IG51bGwgPyBoYW5kbGVyXG5cdCAgICAgICAgICAgICAgICA6ICh0eXBlb2YgaGFuZGxlciA9PT0gXCJmdW5jdGlvblwiICYmXG5cdCAgICAgICAgICAgICAgICAgICAgdXRpbC5kb21haW5CaW5kKGRvbWFpbiwgaGFuZGxlcikpLFxuXHQgICAgICAgICAgICBwcm9taXNlOiBwcm9taXNlLFxuXHQgICAgICAgICAgICByZWNlaXZlcjogcmVjZWl2ZXIsXG5cdCAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuXHQgICAgICAgIH0pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB0YXJnZXQuX2FkZENhbGxiYWNrcyhkaWRGdWxmaWxsLCBkaWRSZWplY3QsIHByb21pc2UsIHJlY2VpdmVyLCBkb21haW4pO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBwcm9taXNlO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2xlbmd0aCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLl9iaXRGaWVsZCAmIDY1NTM1O1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2lzRmF0ZVNlYWxlZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiAxMTc1MDYwNDgpICE9PSAwO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2lzRm9sbG93aW5nID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDY3MTA4ODY0KSA9PT0gNjcxMDg4NjQ7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fc2V0TGVuZ3RoID0gZnVuY3Rpb24gKGxlbikge1xuXHQgICAgdGhpcy5fYml0RmllbGQgPSAodGhpcy5fYml0RmllbGQgJiAtNjU1MzYpIHxcblx0ICAgICAgICAobGVuICYgNjU1MzUpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3NldEZ1bGZpbGxlZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCAzMzU1NDQzMjtcblx0ICAgIHRoaXMuX2ZpcmVFdmVudChcInByb21pc2VGdWxmaWxsZWRcIiwgdGhpcyk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fc2V0UmVqZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgMTY3NzcyMTY7XG5cdCAgICB0aGlzLl9maXJlRXZlbnQoXCJwcm9taXNlUmVqZWN0ZWRcIiwgdGhpcyk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fc2V0Rm9sbG93aW5nID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCB8IDY3MTA4ODY0O1xuXHQgICAgdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZVJlc29sdmVkXCIsIHRoaXMpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3NldElzRmluYWwgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgNDE5NDMwNDtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9pc0ZpbmFsID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDQxOTQzMDQpID4gMDtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl91bnNldENhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCAmICh+NjU1MzYpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3NldENhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCB8IDY1NTM2O1xuXHQgICAgdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZUNhbmNlbGxlZFwiLCB0aGlzKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9zZXRXaWxsQmVDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcblx0ICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCA4Mzg4NjA4O1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3NldEFzeW5jR3VhcmFudGVlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgaWYgKGFzeW5jLmhhc0N1c3RvbVNjaGVkdWxlcigpKSByZXR1cm47XG5cdCAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgMTM0MjE3NzI4O1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3JlY2VpdmVyQXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcblx0ICAgIHZhciByZXQgPSBpbmRleCA9PT0gMCA/IHRoaXMuX3JlY2VpdmVyMCA6IHRoaXNbXG5cdCAgICAgICAgICAgIGluZGV4ICogNCAtIDQgKyAzXTtcblx0ICAgIGlmIChyZXQgPT09IFVOREVGSU5FRF9CSU5ESU5HKSB7XG5cdCAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcblx0ICAgIH0gZWxzZSBpZiAocmV0ID09PSB1bmRlZmluZWQgJiYgdGhpcy5faXNCb3VuZCgpKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kVmFsdWUoKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiByZXQ7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fcHJvbWlzZUF0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG5cdCAgICByZXR1cm4gdGhpc1tcblx0ICAgICAgICAgICAgaW5kZXggKiA0IC0gNCArIDJdO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2Z1bGZpbGxtZW50SGFuZGxlckF0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG5cdCAgICByZXR1cm4gdGhpc1tcblx0ICAgICAgICAgICAgaW5kZXggKiA0IC0gNCArIDBdO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3JlamVjdGlvbkhhbmRsZXJBdCA9IGZ1bmN0aW9uIChpbmRleCkge1xuXHQgICAgcmV0dXJuIHRoaXNbXG5cdCAgICAgICAgICAgIGluZGV4ICogNCAtIDQgKyAxXTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9ib3VuZFZhbHVlID0gZnVuY3Rpb24oKSB7fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9taWdyYXRlQ2FsbGJhY2swID0gZnVuY3Rpb24gKGZvbGxvd2VyKSB7XG5cdCAgICB2YXIgYml0RmllbGQgPSBmb2xsb3dlci5fYml0RmllbGQ7XG5cdCAgICB2YXIgZnVsZmlsbCA9IGZvbGxvd2VyLl9mdWxmaWxsbWVudEhhbmRsZXIwO1xuXHQgICAgdmFyIHJlamVjdCA9IGZvbGxvd2VyLl9yZWplY3Rpb25IYW5kbGVyMDtcblx0ICAgIHZhciBwcm9taXNlID0gZm9sbG93ZXIuX3Byb21pc2UwO1xuXHQgICAgdmFyIHJlY2VpdmVyID0gZm9sbG93ZXIuX3JlY2VpdmVyQXQoMCk7XG5cdCAgICBpZiAocmVjZWl2ZXIgPT09IHVuZGVmaW5lZCkgcmVjZWl2ZXIgPSBVTkRFRklORURfQklORElORztcblx0ICAgIHRoaXMuX2FkZENhbGxiYWNrcyhmdWxmaWxsLCByZWplY3QsIHByb21pc2UsIHJlY2VpdmVyLCBudWxsKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9taWdyYXRlQ2FsbGJhY2tBdCA9IGZ1bmN0aW9uIChmb2xsb3dlciwgaW5kZXgpIHtcblx0ICAgIHZhciBmdWxmaWxsID0gZm9sbG93ZXIuX2Z1bGZpbGxtZW50SGFuZGxlckF0KGluZGV4KTtcblx0ICAgIHZhciByZWplY3QgPSBmb2xsb3dlci5fcmVqZWN0aW9uSGFuZGxlckF0KGluZGV4KTtcblx0ICAgIHZhciBwcm9taXNlID0gZm9sbG93ZXIuX3Byb21pc2VBdChpbmRleCk7XG5cdCAgICB2YXIgcmVjZWl2ZXIgPSBmb2xsb3dlci5fcmVjZWl2ZXJBdChpbmRleCk7XG5cdCAgICBpZiAocmVjZWl2ZXIgPT09IHVuZGVmaW5lZCkgcmVjZWl2ZXIgPSBVTkRFRklORURfQklORElORztcblx0ICAgIHRoaXMuX2FkZENhbGxiYWNrcyhmdWxmaWxsLCByZWplY3QsIHByb21pc2UsIHJlY2VpdmVyLCBudWxsKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9hZGRDYWxsYmFja3MgPSBmdW5jdGlvbiAoXG5cdCAgICBmdWxmaWxsLFxuXHQgICAgcmVqZWN0LFxuXHQgICAgcHJvbWlzZSxcblx0ICAgIHJlY2VpdmVyLFxuXHQgICAgZG9tYWluXG5cdCkge1xuXHQgICAgdmFyIGluZGV4ID0gdGhpcy5fbGVuZ3RoKCk7XG5cdFxuXHQgICAgaWYgKGluZGV4ID49IDY1NTM1IC0gNCkge1xuXHQgICAgICAgIGluZGV4ID0gMDtcblx0ICAgICAgICB0aGlzLl9zZXRMZW5ndGgoMCk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGluZGV4ID09PSAwKSB7XG5cdCAgICAgICAgdGhpcy5fcHJvbWlzZTAgPSBwcm9taXNlO1xuXHQgICAgICAgIHRoaXMuX3JlY2VpdmVyMCA9IHJlY2VpdmVyO1xuXHQgICAgICAgIGlmICh0eXBlb2YgZnVsZmlsbCA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlcjAgPVxuXHQgICAgICAgICAgICAgICAgZG9tYWluID09PSBudWxsID8gZnVsZmlsbCA6IHV0aWwuZG9tYWluQmluZChkb21haW4sIGZ1bGZpbGwpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAodHlwZW9mIHJlamVjdCA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwID1cblx0ICAgICAgICAgICAgICAgIGRvbWFpbiA9PT0gbnVsbCA/IHJlamVjdCA6IHV0aWwuZG9tYWluQmluZChkb21haW4sIHJlamVjdCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgYmFzZSA9IGluZGV4ICogNCAtIDQ7XG5cdCAgICAgICAgdGhpc1tiYXNlICsgMl0gPSBwcm9taXNlO1xuXHQgICAgICAgIHRoaXNbYmFzZSArIDNdID0gcmVjZWl2ZXI7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBmdWxmaWxsID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgdGhpc1tiYXNlICsgMF0gPVxuXHQgICAgICAgICAgICAgICAgZG9tYWluID09PSBudWxsID8gZnVsZmlsbCA6IHV0aWwuZG9tYWluQmluZChkb21haW4sIGZ1bGZpbGwpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAodHlwZW9mIHJlamVjdCA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgIHRoaXNbYmFzZSArIDFdID1cblx0ICAgICAgICAgICAgICAgIGRvbWFpbiA9PT0gbnVsbCA/IHJlamVjdCA6IHV0aWwuZG9tYWluQmluZChkb21haW4sIHJlamVjdCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgdGhpcy5fc2V0TGVuZ3RoKGluZGV4ICsgMSk7XG5cdCAgICByZXR1cm4gaW5kZXg7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fcHJveHkgPSBmdW5jdGlvbiAocHJveHlhYmxlLCBhcmcpIHtcblx0ICAgIHRoaXMuX2FkZENhbGxiYWNrcyh1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJnLCBwcm94eWFibGUsIG51bGwpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3Jlc29sdmVDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbHVlLCBzaG91bGRCaW5kKSB7XG5cdCAgICBpZiAoKCh0aGlzLl9iaXRGaWVsZCAmIDExNzUwNjA0OCkgIT09IDApKSByZXR1cm47XG5cdCAgICBpZiAodmFsdWUgPT09IHRoaXMpXG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX3JlamVjdENhbGxiYWNrKG1ha2VTZWxmUmVzb2x1dGlvbkVycm9yKCksIGZhbHNlKTtcblx0ICAgIHZhciBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHZhbHVlLCB0aGlzKTtcblx0ICAgIGlmICghKG1heWJlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpKSByZXR1cm4gdGhpcy5fZnVsZmlsbCh2YWx1ZSk7XG5cdFxuXHQgICAgaWYgKHNob3VsZEJpbmQpIHRoaXMuX3Byb3BhZ2F0ZUZyb20obWF5YmVQcm9taXNlLCAyKTtcblx0XG5cdCAgICB2YXIgcHJvbWlzZSA9IG1heWJlUHJvbWlzZS5fdGFyZ2V0KCk7XG5cdFxuXHQgICAgaWYgKHByb21pc2UgPT09IHRoaXMpIHtcblx0ICAgICAgICB0aGlzLl9yZWplY3QobWFrZVNlbGZSZXNvbHV0aW9uRXJyb3IoKSk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBiaXRGaWVsZCA9IHByb21pc2UuX2JpdEZpZWxkO1xuXHQgICAgaWYgKCgoYml0RmllbGQgJiA1MDM5NzE4NCkgPT09IDApKSB7XG5cdCAgICAgICAgdmFyIGxlbiA9IHRoaXMuX2xlbmd0aCgpO1xuXHQgICAgICAgIGlmIChsZW4gPiAwKSBwcm9taXNlLl9taWdyYXRlQ2FsbGJhY2swKHRoaXMpO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuOyArK2kpIHtcblx0ICAgICAgICAgICAgcHJvbWlzZS5fbWlncmF0ZUNhbGxiYWNrQXQodGhpcywgaSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHRoaXMuX3NldEZvbGxvd2luZygpO1xuXHQgICAgICAgIHRoaXMuX3NldExlbmd0aCgwKTtcblx0ICAgICAgICB0aGlzLl9zZXRGb2xsb3dlZShwcm9taXNlKTtcblx0ICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcblx0ICAgICAgICB0aGlzLl9mdWxmaWxsKHByb21pc2UuX3ZhbHVlKCkpO1xuXHQgICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMTY3NzcyMTYpICE9PSAwKSkge1xuXHQgICAgICAgIHRoaXMuX3JlamVjdChwcm9taXNlLl9yZWFzb24oKSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciByZWFzb24gPSBuZXcgQ2FuY2VsbGF0aW9uRXJyb3IoXCJsYXRlIGNhbmNlbGxhdGlvbiBvYnNlcnZlclwiKTtcblx0ICAgICAgICBwcm9taXNlLl9hdHRhY2hFeHRyYVRyYWNlKHJlYXNvbik7XG5cdCAgICAgICAgdGhpcy5fcmVqZWN0KHJlYXNvbik7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fcmVqZWN0Q2FsbGJhY2sgPVxuXHRmdW5jdGlvbihyZWFzb24sIHN5bmNocm9ub3VzLCBpZ25vcmVOb25FcnJvcldhcm5pbmdzKSB7XG5cdCAgICB2YXIgdHJhY2UgPSB1dGlsLmVuc3VyZUVycm9yT2JqZWN0KHJlYXNvbik7XG5cdCAgICB2YXIgaGFzU3RhY2sgPSB0cmFjZSA9PT0gcmVhc29uO1xuXHQgICAgaWYgKCFoYXNTdGFjayAmJiAhaWdub3JlTm9uRXJyb3JXYXJuaW5ncyAmJiBkZWJ1Zy53YXJuaW5ncygpKSB7XG5cdCAgICAgICAgdmFyIG1lc3NhZ2UgPSBcImEgcHJvbWlzZSB3YXMgcmVqZWN0ZWQgd2l0aCBhIG5vbi1lcnJvcjogXCIgK1xuXHQgICAgICAgICAgICB1dGlsLmNsYXNzU3RyaW5nKHJlYXNvbik7XG5cdCAgICAgICAgdGhpcy5fd2FybihtZXNzYWdlLCB0cnVlKTtcblx0ICAgIH1cblx0ICAgIHRoaXMuX2F0dGFjaEV4dHJhVHJhY2UodHJhY2UsIHN5bmNocm9ub3VzID8gaGFzU3RhY2sgOiBmYWxzZSk7XG5cdCAgICB0aGlzLl9yZWplY3QocmVhc29uKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9yZXNvbHZlRnJvbUV4ZWN1dG9yID0gZnVuY3Rpb24gKGV4ZWN1dG9yKSB7XG5cdCAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG5cdCAgICB0aGlzLl9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuXHQgICAgdGhpcy5fcHVzaENvbnRleHQoKTtcblx0ICAgIHZhciBzeW5jaHJvbm91cyA9IHRydWU7XG5cdCAgICB2YXIgciA9IHRoaXMuX2V4ZWN1dGUoZXhlY3V0b3IsIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgcHJvbWlzZS5fcmVzb2x2ZUNhbGxiYWNrKHZhbHVlKTtcblx0ICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcblx0ICAgICAgICBwcm9taXNlLl9yZWplY3RDYWxsYmFjayhyZWFzb24sIHN5bmNocm9ub3VzKTtcblx0ICAgIH0pO1xuXHQgICAgc3luY2hyb25vdXMgPSBmYWxzZTtcblx0ICAgIHRoaXMuX3BvcENvbnRleHQoKTtcblx0XG5cdCAgICBpZiAociAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2sociwgdHJ1ZSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fc2V0dGxlUHJvbWlzZUZyb21IYW5kbGVyID0gZnVuY3Rpb24gKFxuXHQgICAgaGFuZGxlciwgcmVjZWl2ZXIsIHZhbHVlLCBwcm9taXNlXG5cdCkge1xuXHQgICAgdmFyIGJpdEZpZWxkID0gcHJvbWlzZS5fYml0RmllbGQ7XG5cdCAgICBpZiAoKChiaXRGaWVsZCAmIDY1NTM2KSAhPT0gMCkpIHJldHVybjtcblx0ICAgIHByb21pc2UuX3B1c2hDb250ZXh0KCk7XG5cdCAgICB2YXIgeDtcblx0ICAgIGlmIChyZWNlaXZlciA9PT0gQVBQTFkpIHtcblx0ICAgICAgICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZS5sZW5ndGggIT09IFwibnVtYmVyXCIpIHtcblx0ICAgICAgICAgICAgeCA9IGVycm9yT2JqO1xuXHQgICAgICAgICAgICB4LmUgPSBuZXcgVHlwZUVycm9yKFwiY2Fubm90IC5zcHJlYWQoKSBhIG5vbi1hcnJheTogXCIgK1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlsLmNsYXNzU3RyaW5nKHZhbHVlKSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgeCA9IHRyeUNhdGNoKGhhbmRsZXIpLmFwcGx5KHRoaXMuX2JvdW5kVmFsdWUoKSwgdmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgeCA9IHRyeUNhdGNoKGhhbmRsZXIpLmNhbGwocmVjZWl2ZXIsIHZhbHVlKTtcblx0ICAgIH1cblx0ICAgIHZhciBwcm9taXNlQ3JlYXRlZCA9IHByb21pc2UuX3BvcENvbnRleHQoKTtcblx0ICAgIGJpdEZpZWxkID0gcHJvbWlzZS5fYml0RmllbGQ7XG5cdCAgICBpZiAoKChiaXRGaWVsZCAmIDY1NTM2KSAhPT0gMCkpIHJldHVybjtcblx0XG5cdCAgICBpZiAoeCA9PT0gTkVYVF9GSUxURVIpIHtcblx0ICAgICAgICBwcm9taXNlLl9yZWplY3QodmFsdWUpO1xuXHQgICAgfSBlbHNlIGlmICh4ID09PSBlcnJvck9iaikge1xuXHQgICAgICAgIHByb21pc2UuX3JlamVjdENhbGxiYWNrKHguZSwgZmFsc2UpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBkZWJ1Zy5jaGVja0ZvcmdvdHRlblJldHVybnMoeCwgcHJvbWlzZUNyZWF0ZWQsIFwiXCIsICBwcm9taXNlLCB0aGlzKTtcblx0ICAgICAgICBwcm9taXNlLl9yZXNvbHZlQ2FsbGJhY2soeCk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fdGFyZ2V0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgcmV0ID0gdGhpcztcblx0ICAgIHdoaWxlIChyZXQuX2lzRm9sbG93aW5nKCkpIHJldCA9IHJldC5fZm9sbG93ZWUoKTtcblx0ICAgIHJldHVybiByZXQ7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fZm9sbG93ZWUgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiB0aGlzLl9yZWplY3Rpb25IYW5kbGVyMDtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9zZXRGb2xsb3dlZSA9IGZ1bmN0aW9uKHByb21pc2UpIHtcblx0ICAgIHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwID0gcHJvbWlzZTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlID0gZnVuY3Rpb24ocHJvbWlzZSwgaGFuZGxlciwgcmVjZWl2ZXIsIHZhbHVlKSB7XG5cdCAgICB2YXIgaXNQcm9taXNlID0gcHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2U7XG5cdCAgICB2YXIgYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZDtcblx0ICAgIHZhciBhc3luY0d1YXJhbnRlZWQgPSAoKGJpdEZpZWxkICYgMTM0MjE3NzI4KSAhPT0gMCk7XG5cdCAgICBpZiAoKChiaXRGaWVsZCAmIDY1NTM2KSAhPT0gMCkpIHtcblx0ICAgICAgICBpZiAoaXNQcm9taXNlKSBwcm9taXNlLl9pbnZva2VJbnRlcm5hbE9uQ2FuY2VsKCk7XG5cdFxuXHQgICAgICAgIGlmIChyZWNlaXZlciBpbnN0YW5jZW9mIFBhc3NUaHJvdWdoSGFuZGxlckNvbnRleHQgJiZcblx0ICAgICAgICAgICAgcmVjZWl2ZXIuaXNGaW5hbGx5SGFuZGxlcigpKSB7XG5cdCAgICAgICAgICAgIHJlY2VpdmVyLmNhbmNlbFByb21pc2UgPSBwcm9taXNlO1xuXHQgICAgICAgICAgICBpZiAodHJ5Q2F0Y2goaGFuZGxlcikuY2FsbChyZWNlaXZlciwgdmFsdWUpID09PSBlcnJvck9iaikge1xuXHQgICAgICAgICAgICAgICAgcHJvbWlzZS5fcmVqZWN0KGVycm9yT2JqLmUpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIGlmIChoYW5kbGVyID09PSByZWZsZWN0SGFuZGxlcikge1xuXHQgICAgICAgICAgICBwcm9taXNlLl9mdWxmaWxsKHJlZmxlY3RIYW5kbGVyLmNhbGwocmVjZWl2ZXIpKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKHJlY2VpdmVyIGluc3RhbmNlb2YgUHJveHlhYmxlKSB7XG5cdCAgICAgICAgICAgIHJlY2VpdmVyLl9wcm9taXNlQ2FuY2VsbGVkKHByb21pc2UpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoaXNQcm9taXNlIHx8IHByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlQXJyYXkpIHtcblx0ICAgICAgICAgICAgcHJvbWlzZS5fY2FuY2VsKCk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmVjZWl2ZXIuY2FuY2VsKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgaWYgKCFpc1Byb21pc2UpIHtcblx0ICAgICAgICAgICAgaGFuZGxlci5jYWxsKHJlY2VpdmVyLCB2YWx1ZSwgcHJvbWlzZSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaWYgKGFzeW5jR3VhcmFudGVlZCkgcHJvbWlzZS5fc2V0QXN5bmNHdWFyYW50ZWVkKCk7XG5cdCAgICAgICAgICAgIHRoaXMuX3NldHRsZVByb21pc2VGcm9tSGFuZGxlcihoYW5kbGVyLCByZWNlaXZlciwgdmFsdWUsIHByb21pc2UpO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAocmVjZWl2ZXIgaW5zdGFuY2VvZiBQcm94eWFibGUpIHtcblx0ICAgICAgICBpZiAoIXJlY2VpdmVyLl9pc1Jlc29sdmVkKCkpIHtcblx0ICAgICAgICAgICAgaWYgKCgoYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDApKSB7XG5cdCAgICAgICAgICAgICAgICByZWNlaXZlci5fcHJvbWlzZUZ1bGZpbGxlZCh2YWx1ZSwgcHJvbWlzZSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICByZWNlaXZlci5fcHJvbWlzZVJlamVjdGVkKHZhbHVlLCBwcm9taXNlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAoaXNQcm9taXNlKSB7XG5cdCAgICAgICAgaWYgKGFzeW5jR3VhcmFudGVlZCkgcHJvbWlzZS5fc2V0QXN5bmNHdWFyYW50ZWVkKCk7XG5cdCAgICAgICAgaWYgKCgoYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDApKSB7XG5cdCAgICAgICAgICAgIHByb21pc2UuX2Z1bGZpbGwodmFsdWUpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHByb21pc2UuX3JlamVjdCh2YWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3NldHRsZVByb21pc2VMYXRlQ2FuY2VsbGF0aW9uT2JzZXJ2ZXIgPSBmdW5jdGlvbihjdHgpIHtcblx0ICAgIHZhciBoYW5kbGVyID0gY3R4LmhhbmRsZXI7XG5cdCAgICB2YXIgcHJvbWlzZSA9IGN0eC5wcm9taXNlO1xuXHQgICAgdmFyIHJlY2VpdmVyID0gY3R4LnJlY2VpdmVyO1xuXHQgICAgdmFyIHZhbHVlID0gY3R4LnZhbHVlO1xuXHQgICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICBpZiAoIShwcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkpIHtcblx0ICAgICAgICAgICAgaGFuZGxlci5jYWxsKHJlY2VpdmVyLCB2YWx1ZSwgcHJvbWlzZSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdGhpcy5fc2V0dGxlUHJvbWlzZUZyb21IYW5kbGVyKGhhbmRsZXIsIHJlY2VpdmVyLCB2YWx1ZSwgcHJvbWlzZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIGlmIChwcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuXHQgICAgICAgIHByb21pc2UuX3JlamVjdCh2YWx1ZSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fc2V0dGxlUHJvbWlzZUN0eCA9IGZ1bmN0aW9uKGN0eCkge1xuXHQgICAgdGhpcy5fc2V0dGxlUHJvbWlzZShjdHgucHJvbWlzZSwgY3R4LmhhbmRsZXIsIGN0eC5yZWNlaXZlciwgY3R4LnZhbHVlKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlMCA9IGZ1bmN0aW9uKGhhbmRsZXIsIHZhbHVlLCBiaXRGaWVsZCkge1xuXHQgICAgdmFyIHByb21pc2UgPSB0aGlzLl9wcm9taXNlMDtcblx0ICAgIHZhciByZWNlaXZlciA9IHRoaXMuX3JlY2VpdmVyQXQoMCk7XG5cdCAgICB0aGlzLl9wcm9taXNlMCA9IHVuZGVmaW5lZDtcblx0ICAgIHRoaXMuX3JlY2VpdmVyMCA9IHVuZGVmaW5lZDtcblx0ICAgIHRoaXMuX3NldHRsZVByb21pc2UocHJvbWlzZSwgaGFuZGxlciwgcmVjZWl2ZXIsIHZhbHVlKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9jbGVhckNhbGxiYWNrRGF0YUF0SW5kZXggPSBmdW5jdGlvbihpbmRleCkge1xuXHQgICAgdmFyIGJhc2UgPSBpbmRleCAqIDQgLSA0O1xuXHQgICAgdGhpc1tiYXNlICsgMl0gPVxuXHQgICAgdGhpc1tiYXNlICsgM10gPVxuXHQgICAgdGhpc1tiYXNlICsgMF0gPVxuXHQgICAgdGhpc1tiYXNlICsgMV0gPSB1bmRlZmluZWQ7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fZnVsZmlsbCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgdmFyIGJpdEZpZWxkID0gdGhpcy5fYml0RmllbGQ7XG5cdCAgICBpZiAoKChiaXRGaWVsZCAmIDExNzUwNjA0OCkgPj4+IDE2KSkgcmV0dXJuO1xuXHQgICAgaWYgKHZhbHVlID09PSB0aGlzKSB7XG5cdCAgICAgICAgdmFyIGVyciA9IG1ha2VTZWxmUmVzb2x1dGlvbkVycm9yKCk7XG5cdCAgICAgICAgdGhpcy5fYXR0YWNoRXh0cmFUcmFjZShlcnIpO1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9yZWplY3QoZXJyKTtcblx0ICAgIH1cblx0ICAgIHRoaXMuX3NldEZ1bGZpbGxlZCgpO1xuXHQgICAgdGhpcy5fcmVqZWN0aW9uSGFuZGxlcjAgPSB2YWx1ZTtcblx0XG5cdCAgICBpZiAoKGJpdEZpZWxkICYgNjU1MzUpID4gMCkge1xuXHQgICAgICAgIGlmICgoKGJpdEZpZWxkICYgMTM0MjE3NzI4KSAhPT0gMCkpIHtcblx0ICAgICAgICAgICAgdGhpcy5fc2V0dGxlUHJvbWlzZXMoKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBhc3luYy5zZXR0bGVQcm9taXNlcyh0aGlzKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fcmVqZWN0ID0gZnVuY3Rpb24gKHJlYXNvbikge1xuXHQgICAgdmFyIGJpdEZpZWxkID0gdGhpcy5fYml0RmllbGQ7XG5cdCAgICBpZiAoKChiaXRGaWVsZCAmIDExNzUwNjA0OCkgPj4+IDE2KSkgcmV0dXJuO1xuXHQgICAgdGhpcy5fc2V0UmVqZWN0ZWQoKTtcblx0ICAgIHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlcjAgPSByZWFzb247XG5cdFxuXHQgICAgaWYgKHRoaXMuX2lzRmluYWwoKSkge1xuXHQgICAgICAgIHJldHVybiBhc3luYy5mYXRhbEVycm9yKHJlYXNvbiwgdXRpbC5pc05vZGUpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICgoYml0RmllbGQgJiA2NTUzNSkgPiAwKSB7XG5cdCAgICAgICAgYXN5bmMuc2V0dGxlUHJvbWlzZXModGhpcyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuX2Vuc3VyZVBvc3NpYmxlUmVqZWN0aW9uSGFuZGxlZCgpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX2Z1bGZpbGxQcm9taXNlcyA9IGZ1bmN0aW9uIChsZW4sIHZhbHVlKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGhhbmRsZXIgPSB0aGlzLl9mdWxmaWxsbWVudEhhbmRsZXJBdChpKTtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuX3Byb21pc2VBdChpKTtcblx0ICAgICAgICB2YXIgcmVjZWl2ZXIgPSB0aGlzLl9yZWNlaXZlckF0KGkpO1xuXHQgICAgICAgIHRoaXMuX2NsZWFyQ2FsbGJhY2tEYXRhQXRJbmRleChpKTtcblx0ICAgICAgICB0aGlzLl9zZXR0bGVQcm9taXNlKHByb21pc2UsIGhhbmRsZXIsIHJlY2VpdmVyLCB2YWx1ZSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fcmVqZWN0UHJvbWlzZXMgPSBmdW5jdGlvbiAobGVuLCByZWFzb24pIHtcblx0ICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgICAgICB2YXIgaGFuZGxlciA9IHRoaXMuX3JlamVjdGlvbkhhbmRsZXJBdChpKTtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuX3Byb21pc2VBdChpKTtcblx0ICAgICAgICB2YXIgcmVjZWl2ZXIgPSB0aGlzLl9yZWNlaXZlckF0KGkpO1xuXHQgICAgICAgIHRoaXMuX2NsZWFyQ2FsbGJhY2tEYXRhQXRJbmRleChpKTtcblx0ICAgICAgICB0aGlzLl9zZXR0bGVQcm9taXNlKHByb21pc2UsIGhhbmRsZXIsIHJlY2VpdmVyLCByZWFzb24pO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3NldHRsZVByb21pc2VzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIGJpdEZpZWxkID0gdGhpcy5fYml0RmllbGQ7XG5cdCAgICB2YXIgbGVuID0gKGJpdEZpZWxkICYgNjU1MzUpO1xuXHRcblx0ICAgIGlmIChsZW4gPiAwKSB7XG5cdCAgICAgICAgaWYgKCgoYml0RmllbGQgJiAxNjg0Mjc1MikgIT09IDApKSB7XG5cdCAgICAgICAgICAgIHZhciByZWFzb24gPSB0aGlzLl9mdWxmaWxsbWVudEhhbmRsZXIwO1xuXHQgICAgICAgICAgICB0aGlzLl9zZXR0bGVQcm9taXNlMCh0aGlzLl9yZWplY3Rpb25IYW5kbGVyMCwgcmVhc29uLCBiaXRGaWVsZCk7XG5cdCAgICAgICAgICAgIHRoaXMuX3JlamVjdFByb21pc2VzKGxlbiwgcmVhc29uKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLl9yZWplY3Rpb25IYW5kbGVyMDtcblx0ICAgICAgICAgICAgdGhpcy5fc2V0dGxlUHJvbWlzZTAodGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyMCwgdmFsdWUsIGJpdEZpZWxkKTtcblx0ICAgICAgICAgICAgdGhpcy5fZnVsZmlsbFByb21pc2VzKGxlbiwgdmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0aGlzLl9zZXRMZW5ndGgoMCk7XG5cdCAgICB9XG5cdCAgICB0aGlzLl9jbGVhckNhbmNlbGxhdGlvbkRhdGEoKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9zZXR0bGVkVmFsdWUgPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciBiaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkO1xuXHQgICAgaWYgKCgoYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDApKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwO1xuXHQgICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMTY3NzcyMTYpICE9PSAwKSkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9mdWxmaWxsbWVudEhhbmRsZXIwO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gZGVmZXJSZXNvbHZlKHYpIHt0aGlzLnByb21pc2UuX3Jlc29sdmVDYWxsYmFjayh2KTt9XG5cdGZ1bmN0aW9uIGRlZmVyUmVqZWN0KHYpIHt0aGlzLnByb21pc2UuX3JlamVjdENhbGxiYWNrKHYsIGZhbHNlKTt9XG5cdFxuXHRQcm9taXNlLmRlZmVyID0gUHJvbWlzZS5wZW5kaW5nID0gZnVuY3Rpb24oKSB7XG5cdCAgICBkZWJ1Zy5kZXByZWNhdGVkKFwiUHJvbWlzZS5kZWZlclwiLCBcIm5ldyBQcm9taXNlXCIpO1xuXHQgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIHByb21pc2U6IHByb21pc2UsXG5cdCAgICAgICAgcmVzb2x2ZTogZGVmZXJSZXNvbHZlLFxuXHQgICAgICAgIHJlamVjdDogZGVmZXJSZWplY3Rcblx0ICAgIH07XG5cdH07XG5cdFxuXHR1dGlsLm5vdEVudW1lcmFibGVQcm9wKFByb21pc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgXCJfbWFrZVNlbGZSZXNvbHV0aW9uRXJyb3JcIixcblx0ICAgICAgICAgICAgICAgICAgICAgICBtYWtlU2VsZlJlc29sdXRpb25FcnJvcik7XG5cdFxuXHRfZGVyZXFfKFwiLi9tZXRob2RcIikoUHJvbWlzZSwgSU5URVJOQUwsIHRyeUNvbnZlcnRUb1Byb21pc2UsIGFwaVJlamVjdGlvbixcblx0ICAgIGRlYnVnKTtcblx0X2RlcmVxXyhcIi4vYmluZFwiKShQcm9taXNlLCBJTlRFUk5BTCwgdHJ5Q29udmVydFRvUHJvbWlzZSwgZGVidWcpO1xuXHRfZGVyZXFfKFwiLi9jYW5jZWxcIikoUHJvbWlzZSwgUHJvbWlzZUFycmF5LCBhcGlSZWplY3Rpb24sIGRlYnVnKTtcblx0X2RlcmVxXyhcIi4vZGlyZWN0X3Jlc29sdmVcIikoUHJvbWlzZSk7XG5cdF9kZXJlcV8oXCIuL3N5bmNocm9ub3VzX2luc3BlY3Rpb25cIikoUHJvbWlzZSk7XG5cdF9kZXJlcV8oXCIuL2pvaW5cIikoXG5cdCAgICBQcm9taXNlLCBQcm9taXNlQXJyYXksIHRyeUNvbnZlcnRUb1Byb21pc2UsIElOVEVSTkFMLCBhc3luYywgZ2V0RG9tYWluKTtcblx0UHJvbWlzZS5Qcm9taXNlID0gUHJvbWlzZTtcblx0UHJvbWlzZS52ZXJzaW9uID0gXCIzLjQuNlwiO1xuXHRfZGVyZXFfKCcuL21hcC5qcycpKFByb21pc2UsIFByb21pc2VBcnJheSwgYXBpUmVqZWN0aW9uLCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBJTlRFUk5BTCwgZGVidWcpO1xuXHRfZGVyZXFfKCcuL2NhbGxfZ2V0LmpzJykoUHJvbWlzZSk7XG5cdF9kZXJlcV8oJy4vdXNpbmcuanMnKShQcm9taXNlLCBhcGlSZWplY3Rpb24sIHRyeUNvbnZlcnRUb1Byb21pc2UsIGNyZWF0ZUNvbnRleHQsIElOVEVSTkFMLCBkZWJ1Zyk7XG5cdF9kZXJlcV8oJy4vdGltZXJzLmpzJykoUHJvbWlzZSwgSU5URVJOQUwsIGRlYnVnKTtcblx0X2RlcmVxXygnLi9nZW5lcmF0b3JzLmpzJykoUHJvbWlzZSwgYXBpUmVqZWN0aW9uLCBJTlRFUk5BTCwgdHJ5Q29udmVydFRvUHJvbWlzZSwgUHJveHlhYmxlLCBkZWJ1Zyk7XG5cdF9kZXJlcV8oJy4vbm9kZWlmeS5qcycpKFByb21pc2UpO1xuXHRfZGVyZXFfKCcuL3Byb21pc2lmeS5qcycpKFByb21pc2UsIElOVEVSTkFMKTtcblx0X2RlcmVxXygnLi9wcm9wcy5qcycpKFByb21pc2UsIFByb21pc2VBcnJheSwgdHJ5Q29udmVydFRvUHJvbWlzZSwgYXBpUmVqZWN0aW9uKTtcblx0X2RlcmVxXygnLi9yYWNlLmpzJykoUHJvbWlzZSwgSU5URVJOQUwsIHRyeUNvbnZlcnRUb1Byb21pc2UsIGFwaVJlamVjdGlvbik7XG5cdF9kZXJlcV8oJy4vcmVkdWNlLmpzJykoUHJvbWlzZSwgUHJvbWlzZUFycmF5LCBhcGlSZWplY3Rpb24sIHRyeUNvbnZlcnRUb1Byb21pc2UsIElOVEVSTkFMLCBkZWJ1Zyk7XG5cdF9kZXJlcV8oJy4vc2V0dGxlLmpzJykoUHJvbWlzZSwgUHJvbWlzZUFycmF5LCBkZWJ1Zyk7XG5cdF9kZXJlcV8oJy4vc29tZS5qcycpKFByb21pc2UsIFByb21pc2VBcnJheSwgYXBpUmVqZWN0aW9uKTtcblx0X2RlcmVxXygnLi9maWx0ZXIuanMnKShQcm9taXNlLCBJTlRFUk5BTCk7XG5cdF9kZXJlcV8oJy4vZWFjaC5qcycpKFByb21pc2UsIElOVEVSTkFMKTtcblx0X2RlcmVxXygnLi9hbnkuanMnKShQcm9taXNlKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICB1dGlsLnRvRmFzdFByb3BlcnRpZXMoUHJvbWlzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICB1dGlsLnRvRmFzdFByb3BlcnRpZXMoUHJvbWlzZS5wcm90b3R5cGUpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICBmdW5jdGlvbiBmaWxsVHlwZXModmFsdWUpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICAgICAgdmFyIHAgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICAgICAgcC5fZnVsZmlsbG1lbnRIYW5kbGVyMCA9IHZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICAgICAgcC5fcmVqZWN0aW9uSGFuZGxlcjAgPSB2YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICAgICAgcC5fcHJvbWlzZTAgPSB2YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICAgICAgcC5fcmVjZWl2ZXIwID0gdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICAvLyBDb21wbGV0ZSBzbGFjayB0cmFja2luZywgb3B0IG91dCBvZiBmaWVsZC10eXBlIHRyYWNraW5nIGFuZCAgICAgICAgICAgXG5cdCAgICAvLyBzdGFiaWxpemUgbWFwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICBmaWxsVHlwZXMoe2E6IDF9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICBmaWxsVHlwZXMoe2I6IDJ9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICBmaWxsVHlwZXMoe2M6IDN9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICBmaWxsVHlwZXMoMSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICBmaWxsVHlwZXMoZnVuY3Rpb24oKXt9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICBmaWxsVHlwZXModW5kZWZpbmVkKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICBmaWxsVHlwZXMoZmFsc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICBmaWxsVHlwZXMobmV3IFByb21pc2UoSU5URVJOQUwpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdCAgICBkZWJ1Zy5zZXRCb3VuZHMoQXN5bmMuZmlyc3RMaW5lRXJyb3IsIHV0aWwubGFzdExpbmVFcnJvcik7ICAgICAgICAgICAgICAgXG5cdCAgICByZXR1cm4gUHJvbWlzZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cdFxuXHR9O1xuXHRcblx0fSx7XCIuL2FueS5qc1wiOjEsXCIuL2FzeW5jXCI6MixcIi4vYmluZFwiOjMsXCIuL2NhbGxfZ2V0LmpzXCI6NSxcIi4vY2FuY2VsXCI6NixcIi4vY2F0Y2hfZmlsdGVyXCI6NyxcIi4vY29udGV4dFwiOjgsXCIuL2RlYnVnZ2FiaWxpdHlcIjo5LFwiLi9kaXJlY3RfcmVzb2x2ZVwiOjEwLFwiLi9lYWNoLmpzXCI6MTEsXCIuL2Vycm9yc1wiOjEyLFwiLi9lczVcIjoxMyxcIi4vZmlsdGVyLmpzXCI6MTQsXCIuL2ZpbmFsbHlcIjoxNSxcIi4vZ2VuZXJhdG9ycy5qc1wiOjE2LFwiLi9qb2luXCI6MTcsXCIuL21hcC5qc1wiOjE4LFwiLi9tZXRob2RcIjoxOSxcIi4vbm9kZWJhY2tcIjoyMCxcIi4vbm9kZWlmeS5qc1wiOjIxLFwiLi9wcm9taXNlX2FycmF5XCI6MjMsXCIuL3Byb21pc2lmeS5qc1wiOjI0LFwiLi9wcm9wcy5qc1wiOjI1LFwiLi9yYWNlLmpzXCI6MjcsXCIuL3JlZHVjZS5qc1wiOjI4LFwiLi9zZXR0bGUuanNcIjozMCxcIi4vc29tZS5qc1wiOjMxLFwiLi9zeW5jaHJvbm91c19pbnNwZWN0aW9uXCI6MzIsXCIuL3RoZW5hYmxlc1wiOjMzLFwiLi90aW1lcnMuanNcIjozNCxcIi4vdXNpbmcuanNcIjozNSxcIi4vdXRpbFwiOjM2fV0sMjM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLCBJTlRFUk5BTCwgdHJ5Q29udmVydFRvUHJvbWlzZSxcblx0ICAgIGFwaVJlamVjdGlvbiwgUHJveHlhYmxlKSB7XG5cdHZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcblx0dmFyIGlzQXJyYXkgPSB1dGlsLmlzQXJyYXk7XG5cdFxuXHRmdW5jdGlvbiB0b1Jlc29sdXRpb25WYWx1ZSh2YWwpIHtcblx0ICAgIHN3aXRjaCh2YWwpIHtcblx0ICAgIGNhc2UgLTI6IHJldHVybiBbXTtcblx0ICAgIGNhc2UgLTM6IHJldHVybiB7fTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gUHJvbWlzZUFycmF5KHZhbHVlcykge1xuXHQgICAgdmFyIHByb21pc2UgPSB0aGlzLl9wcm9taXNlID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuXHQgICAgaWYgKHZhbHVlcyBpbnN0YW5jZW9mIFByb21pc2UpIHtcblx0ICAgICAgICBwcm9taXNlLl9wcm9wYWdhdGVGcm9tKHZhbHVlcywgMyk7XG5cdCAgICB9XG5cdCAgICBwcm9taXNlLl9zZXRPbkNhbmNlbCh0aGlzKTtcblx0ICAgIHRoaXMuX3ZhbHVlcyA9IHZhbHVlcztcblx0ICAgIHRoaXMuX2xlbmd0aCA9IDA7XG5cdCAgICB0aGlzLl90b3RhbFJlc29sdmVkID0gMDtcblx0ICAgIHRoaXMuX2luaXQodW5kZWZpbmVkLCAtMik7XG5cdH1cblx0dXRpbC5pbmhlcml0cyhQcm9taXNlQXJyYXksIFByb3h5YWJsZSk7XG5cdFxuXHRQcm9taXNlQXJyYXkucHJvdG90eXBlLmxlbmd0aCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLl9sZW5ndGg7XG5cdH07XG5cdFxuXHRQcm9taXNlQXJyYXkucHJvdG90eXBlLnByb21pc2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fcHJvbWlzZTtcblx0fTtcblx0XG5cdFByb21pc2VBcnJheS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiBpbml0KF8sIHJlc29sdmVWYWx1ZUlmRW1wdHkpIHtcblx0ICAgIHZhciB2YWx1ZXMgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHRoaXMuX3ZhbHVlcywgdGhpcy5fcHJvbWlzZSk7XG5cdCAgICBpZiAodmFsdWVzIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuXHQgICAgICAgIHZhbHVlcyA9IHZhbHVlcy5fdGFyZ2V0KCk7XG5cdCAgICAgICAgdmFyIGJpdEZpZWxkID0gdmFsdWVzLl9iaXRGaWVsZDtcblx0ICAgICAgICA7XG5cdCAgICAgICAgdGhpcy5fdmFsdWVzID0gdmFsdWVzO1xuXHRcblx0ICAgICAgICBpZiAoKChiaXRGaWVsZCAmIDUwMzk3MTg0KSA9PT0gMCkpIHtcblx0ICAgICAgICAgICAgdGhpcy5fcHJvbWlzZS5fc2V0QXN5bmNHdWFyYW50ZWVkKCk7XG5cdCAgICAgICAgICAgIHJldHVybiB2YWx1ZXMuX3RoZW4oXG5cdCAgICAgICAgICAgICAgICBpbml0LFxuXHQgICAgICAgICAgICAgICAgdGhpcy5fcmVqZWN0LFxuXHQgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuXHQgICAgICAgICAgICAgICAgdGhpcyxcblx0ICAgICAgICAgICAgICAgIHJlc29sdmVWYWx1ZUlmRW1wdHlcblx0ICAgICAgICAgICApO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcblx0ICAgICAgICAgICAgdmFsdWVzID0gdmFsdWVzLl92YWx1ZSgpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDE2Nzc3MjE2KSAhPT0gMCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlamVjdCh2YWx1ZXMuX3JlYXNvbigpKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FuY2VsKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgdmFsdWVzID0gdXRpbC5hc0FycmF5KHZhbHVlcyk7XG5cdCAgICBpZiAodmFsdWVzID09PSBudWxsKSB7XG5cdCAgICAgICAgdmFyIGVyciA9IGFwaVJlamVjdGlvbihcblx0ICAgICAgICAgICAgXCJleHBlY3RpbmcgYW4gYXJyYXkgb3IgYW4gaXRlcmFibGUgb2JqZWN0IGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKHZhbHVlcykpLnJlYXNvbigpO1xuXHQgICAgICAgIHRoaXMuX3Byb21pc2UuX3JlamVjdENhbGxiYWNrKGVyciwgZmFsc2UpO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAodmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICAgIGlmIChyZXNvbHZlVmFsdWVJZkVtcHR5ID09PSAtNSkge1xuXHQgICAgICAgICAgICB0aGlzLl9yZXNvbHZlRW1wdHlBcnJheSgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSh0b1Jlc29sdXRpb25WYWx1ZShyZXNvbHZlVmFsdWVJZkVtcHR5KSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHRoaXMuX2l0ZXJhdGUodmFsdWVzKTtcblx0fTtcblx0XG5cdFByb21pc2VBcnJheS5wcm90b3R5cGUuX2l0ZXJhdGUgPSBmdW5jdGlvbih2YWx1ZXMpIHtcblx0ICAgIHZhciBsZW4gPSB0aGlzLmdldEFjdHVhbExlbmd0aCh2YWx1ZXMubGVuZ3RoKTtcblx0ICAgIHRoaXMuX2xlbmd0aCA9IGxlbjtcblx0ICAgIHRoaXMuX3ZhbHVlcyA9IHRoaXMuc2hvdWxkQ29weVZhbHVlcygpID8gbmV3IEFycmF5KGxlbikgOiB0aGlzLl92YWx1ZXM7XG5cdCAgICB2YXIgcmVzdWx0ID0gdGhpcy5fcHJvbWlzZTtcblx0ICAgIHZhciBpc1Jlc29sdmVkID0gZmFsc2U7XG5cdCAgICB2YXIgYml0RmllbGQgPSBudWxsO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuXHQgICAgICAgIHZhciBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHZhbHVlc1tpXSwgcmVzdWx0KTtcblx0XG5cdCAgICAgICAgaWYgKG1heWJlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcblx0ICAgICAgICAgICAgbWF5YmVQcm9taXNlID0gbWF5YmVQcm9taXNlLl90YXJnZXQoKTtcblx0ICAgICAgICAgICAgYml0RmllbGQgPSBtYXliZVByb21pc2UuX2JpdEZpZWxkO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGJpdEZpZWxkID0gbnVsbDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChpc1Jlc29sdmVkKSB7XG5cdCAgICAgICAgICAgIGlmIChiaXRGaWVsZCAhPT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucygpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIGlmIChiaXRGaWVsZCAhPT0gbnVsbCkge1xuXHQgICAgICAgICAgICBpZiAoKChiaXRGaWVsZCAmIDUwMzk3MTg0KSA9PT0gMCkpIHtcblx0ICAgICAgICAgICAgICAgIG1heWJlUHJvbWlzZS5fcHJveHkodGhpcywgaSk7XG5cdCAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXNbaV0gPSBtYXliZVByb21pc2U7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcblx0ICAgICAgICAgICAgICAgIGlzUmVzb2x2ZWQgPSB0aGlzLl9wcm9taXNlRnVsZmlsbGVkKG1heWJlUHJvbWlzZS5fdmFsdWUoKSwgaSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDE2Nzc3MjE2KSAhPT0gMCkpIHtcblx0ICAgICAgICAgICAgICAgIGlzUmVzb2x2ZWQgPSB0aGlzLl9wcm9taXNlUmVqZWN0ZWQobWF5YmVQcm9taXNlLl9yZWFzb24oKSwgaSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBpc1Jlc29sdmVkID0gdGhpcy5fcHJvbWlzZUNhbmNlbGxlZChpKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGlzUmVzb2x2ZWQgPSB0aGlzLl9wcm9taXNlRnVsZmlsbGVkKG1heWJlUHJvbWlzZSwgaSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgaWYgKCFpc1Jlc29sdmVkKSByZXN1bHQuX3NldEFzeW5jR3VhcmFudGVlZCgpO1xuXHR9O1xuXHRcblx0UHJvbWlzZUFycmF5LnByb3RvdHlwZS5faXNSZXNvbHZlZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLl92YWx1ZXMgPT09IG51bGw7XG5cdH07XG5cdFxuXHRQcm9taXNlQXJyYXkucHJvdG90eXBlLl9yZXNvbHZlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICB0aGlzLl92YWx1ZXMgPSBudWxsO1xuXHQgICAgdGhpcy5fcHJvbWlzZS5fZnVsZmlsbCh2YWx1ZSk7XG5cdH07XG5cdFxuXHRQcm9taXNlQXJyYXkucHJvdG90eXBlLl9jYW5jZWwgPSBmdW5jdGlvbigpIHtcblx0ICAgIGlmICh0aGlzLl9pc1Jlc29sdmVkKCkgfHwgIXRoaXMuX3Byb21pc2UuX2lzQ2FuY2VsbGFibGUoKSkgcmV0dXJuO1xuXHQgICAgdGhpcy5fdmFsdWVzID0gbnVsbDtcblx0ICAgIHRoaXMuX3Byb21pc2UuX2NhbmNlbCgpO1xuXHR9O1xuXHRcblx0UHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcmVqZWN0ID0gZnVuY3Rpb24gKHJlYXNvbikge1xuXHQgICAgdGhpcy5fdmFsdWVzID0gbnVsbDtcblx0ICAgIHRoaXMuX3Byb21pc2UuX3JlamVjdENhbGxiYWNrKHJlYXNvbiwgZmFsc2UpO1xuXHR9O1xuXHRcblx0UHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZUZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcblx0ICAgIHRoaXMuX3ZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcblx0ICAgIHZhciB0b3RhbFJlc29sdmVkID0gKyt0aGlzLl90b3RhbFJlc29sdmVkO1xuXHQgICAgaWYgKHRvdGFsUmVzb2x2ZWQgPj0gdGhpcy5fbGVuZ3RoKSB7XG5cdCAgICAgICAgdGhpcy5fcmVzb2x2ZSh0aGlzLl92YWx1ZXMpO1xuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHR9O1xuXHRcblx0UHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZUNhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdGhpcy5fY2FuY2VsKCk7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0fTtcblx0XG5cdFByb21pc2VBcnJheS5wcm90b3R5cGUuX3Byb21pc2VSZWplY3RlZCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcblx0ICAgIHRoaXMuX3RvdGFsUmVzb2x2ZWQrKztcblx0ICAgIHRoaXMuX3JlamVjdChyZWFzb24pO1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdH07XG5cdFxuXHRQcm9taXNlQXJyYXkucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcblx0ICAgIGlmICh0aGlzLl9pc1Jlc29sdmVkKCkpIHJldHVybjtcblx0ICAgIHZhciB2YWx1ZXMgPSB0aGlzLl92YWx1ZXM7XG5cdCAgICB0aGlzLl9jYW5jZWwoKTtcblx0ICAgIGlmICh2YWx1ZXMgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG5cdCAgICAgICAgdmFsdWVzLmNhbmNlbCgpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgICAgICBpZiAodmFsdWVzW2ldIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuXHQgICAgICAgICAgICAgICAgdmFsdWVzW2ldLmNhbmNlbCgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9O1xuXHRcblx0UHJvbWlzZUFycmF5LnByb3RvdHlwZS5zaG91bGRDb3B5VmFsdWVzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdH07XG5cdFxuXHRQcm9taXNlQXJyYXkucHJvdG90eXBlLmdldEFjdHVhbExlbmd0aCA9IGZ1bmN0aW9uIChsZW4pIHtcblx0ICAgIHJldHVybiBsZW47XG5cdH07XG5cdFxuXHRyZXR1cm4gUHJvbWlzZUFycmF5O1xuXHR9O1xuXHRcblx0fSx7XCIuL3V0aWxcIjozNn1dLDI0OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSwgSU5URVJOQUwpIHtcblx0dmFyIFRISVMgPSB7fTtcblx0dmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXHR2YXIgbm9kZWJhY2tGb3JQcm9taXNlID0gX2RlcmVxXyhcIi4vbm9kZWJhY2tcIik7XG5cdHZhciB3aXRoQXBwZW5kZWQgPSB1dGlsLndpdGhBcHBlbmRlZDtcblx0dmFyIG1heWJlV3JhcEFzRXJyb3IgPSB1dGlsLm1heWJlV3JhcEFzRXJyb3I7XG5cdHZhciBjYW5FdmFsdWF0ZSA9IHV0aWwuY2FuRXZhbHVhdGU7XG5cdHZhciBUeXBlRXJyb3IgPSBfZGVyZXFfKFwiLi9lcnJvcnNcIikuVHlwZUVycm9yO1xuXHR2YXIgZGVmYXVsdFN1ZmZpeCA9IFwiQXN5bmNcIjtcblx0dmFyIGRlZmF1bHRQcm9taXNpZmllZCA9IHtfX2lzUHJvbWlzaWZpZWRfXzogdHJ1ZX07XG5cdHZhciBub0NvcHlQcm9wcyA9IFtcblx0ICAgIFwiYXJpdHlcIiwgICAgXCJsZW5ndGhcIixcblx0ICAgIFwibmFtZVwiLFxuXHQgICAgXCJhcmd1bWVudHNcIixcblx0ICAgIFwiY2FsbGVyXCIsXG5cdCAgICBcImNhbGxlZVwiLFxuXHQgICAgXCJwcm90b3R5cGVcIixcblx0ICAgIFwiX19pc1Byb21pc2lmaWVkX19cIlxuXHRdO1xuXHR2YXIgbm9Db3B5UHJvcHNQYXR0ZXJuID0gbmV3IFJlZ0V4cChcIl4oPzpcIiArIG5vQ29weVByb3BzLmpvaW4oXCJ8XCIpICsgXCIpJFwiKTtcblx0XG5cdHZhciBkZWZhdWx0RmlsdGVyID0gZnVuY3Rpb24obmFtZSkge1xuXHQgICAgcmV0dXJuIHV0aWwuaXNJZGVudGlmaWVyKG5hbWUpICYmXG5cdCAgICAgICAgbmFtZS5jaGFyQXQoMCkgIT09IFwiX1wiICYmXG5cdCAgICAgICAgbmFtZSAhPT0gXCJjb25zdHJ1Y3RvclwiO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gcHJvcHNGaWx0ZXIoa2V5KSB7XG5cdCAgICByZXR1cm4gIW5vQ29weVByb3BzUGF0dGVybi50ZXN0KGtleSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzUHJvbWlzaWZpZWQoZm4pIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgICAgcmV0dXJuIGZuLl9faXNQcm9taXNpZmllZF9fID09PSB0cnVlO1xuXHQgICAgfVxuXHQgICAgY2F0Y2ggKGUpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGhhc1Byb21pc2lmaWVkKG9iaiwga2V5LCBzdWZmaXgpIHtcblx0ICAgIHZhciB2YWwgPSB1dGlsLmdldERhdGFQcm9wZXJ0eU9yRGVmYXVsdChvYmosIGtleSArIHN1ZmZpeCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UHJvbWlzaWZpZWQpO1xuXHQgICAgcmV0dXJuIHZhbCA/IGlzUHJvbWlzaWZpZWQodmFsKSA6IGZhbHNlO1xuXHR9XG5cdGZ1bmN0aW9uIGNoZWNrVmFsaWQocmV0LCBzdWZmaXgsIHN1ZmZpeFJlZ2V4cCkge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXQubGVuZ3RoOyBpICs9IDIpIHtcblx0ICAgICAgICB2YXIga2V5ID0gcmV0W2ldO1xuXHQgICAgICAgIGlmIChzdWZmaXhSZWdleHAudGVzdChrZXkpKSB7XG5cdCAgICAgICAgICAgIHZhciBrZXlXaXRob3V0QXN5bmNTdWZmaXggPSBrZXkucmVwbGFjZShzdWZmaXhSZWdleHAsIFwiXCIpO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJldC5sZW5ndGg7IGogKz0gMikge1xuXHQgICAgICAgICAgICAgICAgaWYgKHJldFtqXSA9PT0ga2V5V2l0aG91dEFzeW5jU3VmZml4KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBwcm9taXNpZnkgYW4gQVBJIHRoYXQgaGFzIG5vcm1hbCBtZXRob2RzIHdpdGggJyVzJy1zdWZmaXhcXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCJcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoXCIlc1wiLCBzdWZmaXgpKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gcHJvbWlzaWZpYWJsZU1ldGhvZHMob2JqLCBzdWZmaXgsIHN1ZmZpeFJlZ2V4cCwgZmlsdGVyKSB7XG5cdCAgICB2YXIga2V5cyA9IHV0aWwuaW5oZXJpdGVkRGF0YUtleXMob2JqKTtcblx0ICAgIHZhciByZXQgPSBbXTtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuXHQgICAgICAgIHZhciB2YWx1ZSA9IG9ialtrZXldO1xuXHQgICAgICAgIHZhciBwYXNzZXNEZWZhdWx0RmlsdGVyID0gZmlsdGVyID09PSBkZWZhdWx0RmlsdGVyXG5cdCAgICAgICAgICAgID8gdHJ1ZSA6IGRlZmF1bHRGaWx0ZXIoa2V5LCB2YWx1ZSwgb2JqKTtcblx0ICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIgJiZcblx0ICAgICAgICAgICAgIWlzUHJvbWlzaWZpZWQodmFsdWUpICYmXG5cdCAgICAgICAgICAgICFoYXNQcm9taXNpZmllZChvYmosIGtleSwgc3VmZml4KSAmJlxuXHQgICAgICAgICAgICBmaWx0ZXIoa2V5LCB2YWx1ZSwgb2JqLCBwYXNzZXNEZWZhdWx0RmlsdGVyKSkge1xuXHQgICAgICAgICAgICByZXQucHVzaChrZXksIHZhbHVlKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBjaGVja1ZhbGlkKHJldCwgc3VmZml4LCBzdWZmaXhSZWdleHApO1xuXHQgICAgcmV0dXJuIHJldDtcblx0fVxuXHRcblx0dmFyIGVzY2FwZUlkZW50UmVnZXggPSBmdW5jdGlvbihzdHIpIHtcblx0ICAgIHJldHVybiBzdHIucmVwbGFjZSgvKFskXSkvLCBcIlxcXFwkXCIpO1xuXHR9O1xuXHRcblx0dmFyIG1ha2VOb2RlUHJvbWlzaWZpZWRFdmFsO1xuXHRpZiAoZmFsc2UpIHtcblx0dmFyIHN3aXRjaENhc2VBcmd1bWVudE9yZGVyID0gZnVuY3Rpb24obGlrZWx5QXJndW1lbnRDb3VudCkge1xuXHQgICAgdmFyIHJldCA9IFtsaWtlbHlBcmd1bWVudENvdW50XTtcblx0ICAgIHZhciBtaW4gPSBNYXRoLm1heCgwLCBsaWtlbHlBcmd1bWVudENvdW50IC0gMSAtIDMpO1xuXHQgICAgZm9yKHZhciBpID0gbGlrZWx5QXJndW1lbnRDb3VudCAtIDE7IGkgPj0gbWluOyAtLWkpIHtcblx0ICAgICAgICByZXQucHVzaChpKTtcblx0ICAgIH1cblx0ICAgIGZvcih2YXIgaSA9IGxpa2VseUFyZ3VtZW50Q291bnQgKyAxOyBpIDw9IDM7ICsraSkge1xuXHQgICAgICAgIHJldC5wdXNoKGkpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJldDtcblx0fTtcblx0XG5cdHZhciBhcmd1bWVudFNlcXVlbmNlID0gZnVuY3Rpb24oYXJndW1lbnRDb3VudCkge1xuXHQgICAgcmV0dXJuIHV0aWwuZmlsbGVkUmFuZ2UoYXJndW1lbnRDb3VudCwgXCJfYXJnXCIsIFwiXCIpO1xuXHR9O1xuXHRcblx0dmFyIHBhcmFtZXRlckRlY2xhcmF0aW9uID0gZnVuY3Rpb24ocGFyYW1ldGVyQ291bnQpIHtcblx0ICAgIHJldHVybiB1dGlsLmZpbGxlZFJhbmdlKFxuXHQgICAgICAgIE1hdGgubWF4KHBhcmFtZXRlckNvdW50LCAzKSwgXCJfYXJnXCIsIFwiXCIpO1xuXHR9O1xuXHRcblx0dmFyIHBhcmFtZXRlckNvdW50ID0gZnVuY3Rpb24oZm4pIHtcblx0ICAgIGlmICh0eXBlb2YgZm4ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7XG5cdCAgICAgICAgcmV0dXJuIE1hdGgubWF4KE1hdGgubWluKGZuLmxlbmd0aCwgMTAyMyArIDEpLCAwKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiAwO1xuXHR9O1xuXHRcblx0bWFrZU5vZGVQcm9taXNpZmllZEV2YWwgPVxuXHRmdW5jdGlvbihjYWxsYmFjaywgcmVjZWl2ZXIsIG9yaWdpbmFsTmFtZSwgZm4sIF8sIG11bHRpQXJncykge1xuXHQgICAgdmFyIG5ld1BhcmFtZXRlckNvdW50ID0gTWF0aC5tYXgoMCwgcGFyYW1ldGVyQ291bnQoZm4pIC0gMSk7XG5cdCAgICB2YXIgYXJndW1lbnRPcmRlciA9IHN3aXRjaENhc2VBcmd1bWVudE9yZGVyKG5ld1BhcmFtZXRlckNvdW50KTtcblx0ICAgIHZhciBzaG91bGRQcm94eVRoaXMgPSB0eXBlb2YgY2FsbGJhY2sgPT09IFwic3RyaW5nXCIgfHwgcmVjZWl2ZXIgPT09IFRISVM7XG5cdFxuXHQgICAgZnVuY3Rpb24gZ2VuZXJhdGVDYWxsRm9yQXJndW1lbnRDb3VudChjb3VudCkge1xuXHQgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRTZXF1ZW5jZShjb3VudCkuam9pbihcIiwgXCIpO1xuXHQgICAgICAgIHZhciBjb21tYSA9IGNvdW50ID4gMCA/IFwiLCBcIiA6IFwiXCI7XG5cdCAgICAgICAgdmFyIHJldDtcblx0ICAgICAgICBpZiAoc2hvdWxkUHJveHlUaGlzKSB7XG5cdCAgICAgICAgICAgIHJldCA9IFwicmV0ID0gY2FsbGJhY2suY2FsbCh0aGlzLCB7e2FyZ3N9fSwgbm9kZWJhY2spOyBicmVhaztcXG5cIjtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXQgPSByZWNlaXZlciA9PT0gdW5kZWZpbmVkXG5cdCAgICAgICAgICAgICAgICA/IFwicmV0ID0gY2FsbGJhY2soe3thcmdzfX0sIG5vZGViYWNrKTsgYnJlYWs7XFxuXCJcblx0ICAgICAgICAgICAgICAgIDogXCJyZXQgPSBjYWxsYmFjay5jYWxsKHJlY2VpdmVyLCB7e2FyZ3N9fSwgbm9kZWJhY2spOyBicmVhaztcXG5cIjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHJldC5yZXBsYWNlKFwie3thcmdzfX1cIiwgYXJncykucmVwbGFjZShcIiwgXCIsIGNvbW1hKTtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiBnZW5lcmF0ZUFyZ3VtZW50U3dpdGNoQ2FzZSgpIHtcblx0ICAgICAgICB2YXIgcmV0ID0gXCJcIjtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50T3JkZXIubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICAgICAgcmV0ICs9IFwiY2FzZSBcIiArIGFyZ3VtZW50T3JkZXJbaV0gK1wiOlwiICtcblx0ICAgICAgICAgICAgICAgIGdlbmVyYXRlQ2FsbEZvckFyZ3VtZW50Q291bnQoYXJndW1lbnRPcmRlcltpXSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXQgKz0gXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICBkZWZhdWx0OiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICB2YXIgYXJncyA9IG5ldyBBcnJheShsZW4gKyAxKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIHZhciBpID0gMDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgYXJnc1tpXSA9IG5vZGViYWNrOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICBbQ29kZUZvckNhbGxdICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIGJyZWFrOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICBcIi5yZXBsYWNlKFwiW0NvZGVGb3JDYWxsXVwiLCAoc2hvdWxkUHJveHlUaGlzXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcInJldCA9IGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3MpO1xcblwiXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcInJldCA9IGNhbGxiYWNrLmFwcGx5KHJlY2VpdmVyLCBhcmdzKTtcXG5cIikpO1xuXHQgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGdldEZ1bmN0aW9uQ29kZSA9IHR5cGVvZiBjYWxsYmFjayA9PT0gXCJzdHJpbmdcIlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKFwidGhpcyAhPSBudWxsID8gdGhpc1snXCIrY2FsbGJhY2srXCInXSA6IGZuXCIpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcImZuXCI7XG5cdCAgICB2YXIgYm9keSA9IFwiJ3VzZSBzdHJpY3QnOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgdmFyIHJldCA9IGZ1bmN0aW9uIChQYXJhbWV0ZXJzKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgJ3VzZSBzdHJpY3QnOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoSU5URVJOQUwpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgcHJvbWlzZS5fY2FwdHVyZVN0YWNrVHJhY2UoKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICB2YXIgbm9kZWJhY2sgPSBub2RlYmFja0ZvclByb21pc2UocHJvbWlzZSwgXCIgKyBtdWx0aUFyZ3MgKyBcIik7ICAgXFxuXFxcblx0ICAgICAgICAgICAgdmFyIHJldDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSB0cnlDYXRjaChbR2V0RnVuY3Rpb25Db2RlXSk7ICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIHN3aXRjaChsZW4pIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgIFtDb2RlRm9yU3dpdGNoQ2FzZV0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIGlmIChyZXQgPT09IGVycm9yT2JqKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICAgICAgICAgIHByb21pc2UuX3JlamVjdENhbGxiYWNrKG1heWJlV3JhcEFzRXJyb3IocmV0LmUpLCB0cnVlLCB0cnVlKTtcXG5cXFxuXHQgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgICAgIGlmICghcHJvbWlzZS5faXNGYXRlU2VhbGVkKCkpIHByb21pc2UuX3NldEFzeW5jR3VhcmFudGVlZCgpOyAgICAgXFxuXFxcblx0ICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgICAgIH07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG5cdCAgICAgICAgbm90RW51bWVyYWJsZVByb3AocmV0LCAnX19pc1Byb21pc2lmaWVkX18nLCB0cnVlKTsgICAgICAgICAgICAgICAgICAgXFxuXFxcblx0ICAgICAgICByZXR1cm4gcmV0OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuXHQgICAgXCIucmVwbGFjZShcIltDb2RlRm9yU3dpdGNoQ2FzZV1cIiwgZ2VuZXJhdGVBcmd1bWVudFN3aXRjaENhc2UoKSlcblx0ICAgICAgICAucmVwbGFjZShcIltHZXRGdW5jdGlvbkNvZGVdXCIsIGdldEZ1bmN0aW9uQ29kZSk7XG5cdCAgICBib2R5ID0gYm9keS5yZXBsYWNlKFwiUGFyYW1ldGVyc1wiLCBwYXJhbWV0ZXJEZWNsYXJhdGlvbihuZXdQYXJhbWV0ZXJDb3VudCkpO1xuXHQgICAgcmV0dXJuIG5ldyBGdW5jdGlvbihcIlByb21pc2VcIixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgXCJmblwiLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBcInJlY2VpdmVyXCIsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIFwid2l0aEFwcGVuZGVkXCIsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIFwibWF5YmVXcmFwQXNFcnJvclwiLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBcIm5vZGViYWNrRm9yUHJvbWlzZVwiLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBcInRyeUNhdGNoXCIsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIFwiZXJyb3JPYmpcIixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgXCJub3RFbnVtZXJhYmxlUHJvcFwiLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBcIklOVEVSTkFMXCIsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkpKFxuXHQgICAgICAgICAgICAgICAgICAgIFByb21pc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgZm4sXG5cdCAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXIsXG5cdCAgICAgICAgICAgICAgICAgICAgd2l0aEFwcGVuZGVkLFxuXHQgICAgICAgICAgICAgICAgICAgIG1heWJlV3JhcEFzRXJyb3IsXG5cdCAgICAgICAgICAgICAgICAgICAgbm9kZWJhY2tGb3JQcm9taXNlLFxuXHQgICAgICAgICAgICAgICAgICAgIHV0aWwudHJ5Q2F0Y2gsXG5cdCAgICAgICAgICAgICAgICAgICAgdXRpbC5lcnJvck9iaixcblx0ICAgICAgICAgICAgICAgICAgICB1dGlsLm5vdEVudW1lcmFibGVQcm9wLFxuXHQgICAgICAgICAgICAgICAgICAgIElOVEVSTkFMKTtcblx0fTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWFrZU5vZGVQcm9taXNpZmllZENsb3N1cmUoY2FsbGJhY2ssIHJlY2VpdmVyLCBfLCBmbiwgX18sIG11bHRpQXJncykge1xuXHQgICAgdmFyIGRlZmF1bHRUaGlzID0gKGZ1bmN0aW9uKCkge3JldHVybiB0aGlzO30pKCk7XG5cdCAgICB2YXIgbWV0aG9kID0gY2FsbGJhY2s7XG5cdCAgICBpZiAodHlwZW9mIG1ldGhvZCA9PT0gXCJzdHJpbmdcIikge1xuXHQgICAgICAgIGNhbGxiYWNrID0gZm47XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBwcm9taXNpZmllZCgpIHtcblx0ICAgICAgICB2YXIgX3JlY2VpdmVyID0gcmVjZWl2ZXI7XG5cdCAgICAgICAgaWYgKHJlY2VpdmVyID09PSBUSElTKSBfcmVjZWl2ZXIgPSB0aGlzO1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuXHQgICAgICAgIHByb21pc2UuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG5cdCAgICAgICAgdmFyIGNiID0gdHlwZW9mIG1ldGhvZCA9PT0gXCJzdHJpbmdcIiAmJiB0aGlzICE9PSBkZWZhdWx0VGhpc1xuXHQgICAgICAgICAgICA/IHRoaXNbbWV0aG9kXSA6IGNhbGxiYWNrO1xuXHQgICAgICAgIHZhciBmbiA9IG5vZGViYWNrRm9yUHJvbWlzZShwcm9taXNlLCBtdWx0aUFyZ3MpO1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIGNiLmFwcGx5KF9yZWNlaXZlciwgd2l0aEFwcGVuZGVkKGFyZ3VtZW50cywgZm4pKTtcblx0ICAgICAgICB9IGNhdGNoKGUpIHtcblx0ICAgICAgICAgICAgcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2sobWF5YmVXcmFwQXNFcnJvcihlKSwgdHJ1ZSwgdHJ1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICghcHJvbWlzZS5faXNGYXRlU2VhbGVkKCkpIHByb21pc2UuX3NldEFzeW5jR3VhcmFudGVlZCgpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgICAgdXRpbC5ub3RFbnVtZXJhYmxlUHJvcChwcm9taXNpZmllZCwgXCJfX2lzUHJvbWlzaWZpZWRfX1wiLCB0cnVlKTtcblx0ICAgIHJldHVybiBwcm9taXNpZmllZDtcblx0fVxuXHRcblx0dmFyIG1ha2VOb2RlUHJvbWlzaWZpZWQgPSBjYW5FdmFsdWF0ZVxuXHQgICAgPyBtYWtlTm9kZVByb21pc2lmaWVkRXZhbFxuXHQgICAgOiBtYWtlTm9kZVByb21pc2lmaWVkQ2xvc3VyZTtcblx0XG5cdGZ1bmN0aW9uIHByb21pc2lmeUFsbChvYmosIHN1ZmZpeCwgZmlsdGVyLCBwcm9taXNpZmllciwgbXVsdGlBcmdzKSB7XG5cdCAgICB2YXIgc3VmZml4UmVnZXhwID0gbmV3IFJlZ0V4cChlc2NhcGVJZGVudFJlZ2V4KHN1ZmZpeCkgKyBcIiRcIik7XG5cdCAgICB2YXIgbWV0aG9kcyA9XG5cdCAgICAgICAgcHJvbWlzaWZpYWJsZU1ldGhvZHMob2JqLCBzdWZmaXgsIHN1ZmZpeFJlZ2V4cCwgZmlsdGVyKTtcblx0XG5cdCAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbWV0aG9kcy5sZW5ndGg7IGkgPCBsZW47IGkrPSAyKSB7XG5cdCAgICAgICAgdmFyIGtleSA9IG1ldGhvZHNbaV07XG5cdCAgICAgICAgdmFyIGZuID0gbWV0aG9kc1tpKzFdO1xuXHQgICAgICAgIHZhciBwcm9taXNpZmllZEtleSA9IGtleSArIHN1ZmZpeDtcblx0ICAgICAgICBpZiAocHJvbWlzaWZpZXIgPT09IG1ha2VOb2RlUHJvbWlzaWZpZWQpIHtcblx0ICAgICAgICAgICAgb2JqW3Byb21pc2lmaWVkS2V5XSA9XG5cdCAgICAgICAgICAgICAgICBtYWtlTm9kZVByb21pc2lmaWVkKGtleSwgVEhJUywga2V5LCBmbiwgc3VmZml4LCBtdWx0aUFyZ3MpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHZhciBwcm9taXNpZmllZCA9IHByb21pc2lmaWVyKGZuLCBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBtYWtlTm9kZVByb21pc2lmaWVkKGtleSwgVEhJUywga2V5LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm4sIHN1ZmZpeCwgbXVsdGlBcmdzKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIHV0aWwubm90RW51bWVyYWJsZVByb3AocHJvbWlzaWZpZWQsIFwiX19pc1Byb21pc2lmaWVkX19cIiwgdHJ1ZSk7XG5cdCAgICAgICAgICAgIG9ialtwcm9taXNpZmllZEtleV0gPSBwcm9taXNpZmllZDtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICB1dGlsLnRvRmFzdFByb3BlcnRpZXMob2JqKTtcblx0ICAgIHJldHVybiBvYmo7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHByb21pc2lmeShjYWxsYmFjaywgcmVjZWl2ZXIsIG11bHRpQXJncykge1xuXHQgICAgcmV0dXJuIG1ha2VOb2RlUHJvbWlzaWZpZWQoY2FsbGJhY2ssIHJlY2VpdmVyLCB1bmRlZmluZWQsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2ssIG51bGwsIG11bHRpQXJncyk7XG5cdH1cblx0XG5cdFByb21pc2UucHJvbWlzaWZ5ID0gZnVuY3Rpb24gKGZuLCBvcHRpb25zKSB7XG5cdCAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZm4pKTtcblx0ICAgIH1cblx0ICAgIGlmIChpc1Byb21pc2lmaWVkKGZuKSkge1xuXHQgICAgICAgIHJldHVybiBmbjtcblx0ICAgIH1cblx0ICAgIG9wdGlvbnMgPSBPYmplY3Qob3B0aW9ucyk7XG5cdCAgICB2YXIgcmVjZWl2ZXIgPSBvcHRpb25zLmNvbnRleHQgPT09IHVuZGVmaW5lZCA/IFRISVMgOiBvcHRpb25zLmNvbnRleHQ7XG5cdCAgICB2YXIgbXVsdGlBcmdzID0gISFvcHRpb25zLm11bHRpQXJncztcblx0ICAgIHZhciByZXQgPSBwcm9taXNpZnkoZm4sIHJlY2VpdmVyLCBtdWx0aUFyZ3MpO1xuXHQgICAgdXRpbC5jb3B5RGVzY3JpcHRvcnMoZm4sIHJldCwgcHJvcHNGaWx0ZXIpO1xuXHQgICAgcmV0dXJuIHJldDtcblx0fTtcblx0XG5cdFByb21pc2UucHJvbWlzaWZ5QWxsID0gZnVuY3Rpb24gKHRhcmdldCwgb3B0aW9ucykge1xuXHQgICAgaWYgKHR5cGVvZiB0YXJnZXQgIT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgdGFyZ2V0ICE9PSBcIm9iamVjdFwiKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcInRoZSB0YXJnZXQgb2YgcHJvbWlzaWZ5QWxsIG11c3QgYmUgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb25cXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuXHQgICAgfVxuXHQgICAgb3B0aW9ucyA9IE9iamVjdChvcHRpb25zKTtcblx0ICAgIHZhciBtdWx0aUFyZ3MgPSAhIW9wdGlvbnMubXVsdGlBcmdzO1xuXHQgICAgdmFyIHN1ZmZpeCA9IG9wdGlvbnMuc3VmZml4O1xuXHQgICAgaWYgKHR5cGVvZiBzdWZmaXggIT09IFwic3RyaW5nXCIpIHN1ZmZpeCA9IGRlZmF1bHRTdWZmaXg7XG5cdCAgICB2YXIgZmlsdGVyID0gb3B0aW9ucy5maWx0ZXI7XG5cdCAgICBpZiAodHlwZW9mIGZpbHRlciAhPT0gXCJmdW5jdGlvblwiKSBmaWx0ZXIgPSBkZWZhdWx0RmlsdGVyO1xuXHQgICAgdmFyIHByb21pc2lmaWVyID0gb3B0aW9ucy5wcm9taXNpZmllcjtcblx0ICAgIGlmICh0eXBlb2YgcHJvbWlzaWZpZXIgIT09IFwiZnVuY3Rpb25cIikgcHJvbWlzaWZpZXIgPSBtYWtlTm9kZVByb21pc2lmaWVkO1xuXHRcblx0ICAgIGlmICghdXRpbC5pc0lkZW50aWZpZXIoc3VmZml4KSkge1xuXHQgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwic3VmZml4IG11c3QgYmUgYSB2YWxpZCBpZGVudGlmaWVyXFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIga2V5cyA9IHV0aWwuaW5oZXJpdGVkRGF0YUtleXModGFyZ2V0KTtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgIHZhciB2YWx1ZSA9IHRhcmdldFtrZXlzW2ldXTtcblx0ICAgICAgICBpZiAoa2V5c1tpXSAhPT0gXCJjb25zdHJ1Y3RvclwiICYmXG5cdCAgICAgICAgICAgIHV0aWwuaXNDbGFzcyh2YWx1ZSkpIHtcblx0ICAgICAgICAgICAgcHJvbWlzaWZ5QWxsKHZhbHVlLnByb3RvdHlwZSwgc3VmZml4LCBmaWx0ZXIsIHByb21pc2lmaWVyLFxuXHQgICAgICAgICAgICAgICAgbXVsdGlBcmdzKTtcblx0ICAgICAgICAgICAgcHJvbWlzaWZ5QWxsKHZhbHVlLCBzdWZmaXgsIGZpbHRlciwgcHJvbWlzaWZpZXIsIG11bHRpQXJncyk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBwcm9taXNpZnlBbGwodGFyZ2V0LCBzdWZmaXgsIGZpbHRlciwgcHJvbWlzaWZpZXIsIG11bHRpQXJncyk7XG5cdH07XG5cdH07XG5cdFxuXHRcblx0fSx7XCIuL2Vycm9yc1wiOjEyLFwiLi9ub2RlYmFja1wiOjIwLFwiLi91dGlsXCI6MzZ9XSwyNTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFxuXHQgICAgUHJvbWlzZSwgUHJvbWlzZUFycmF5LCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBhcGlSZWplY3Rpb24pIHtcblx0dmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXHR2YXIgaXNPYmplY3QgPSB1dGlsLmlzT2JqZWN0O1xuXHR2YXIgZXM1ID0gX2RlcmVxXyhcIi4vZXM1XCIpO1xuXHR2YXIgRXM2TWFwO1xuXHRpZiAodHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiKSBFczZNYXAgPSBNYXA7XG5cdFxuXHR2YXIgbWFwVG9FbnRyaWVzID0gKGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGluZGV4ID0gMDtcblx0ICAgIHZhciBzaXplID0gMDtcblx0XG5cdCAgICBmdW5jdGlvbiBleHRyYWN0RW50cnkodmFsdWUsIGtleSkge1xuXHQgICAgICAgIHRoaXNbaW5kZXhdID0gdmFsdWU7XG5cdCAgICAgICAgdGhpc1tpbmRleCArIHNpemVdID0ga2V5O1xuXHQgICAgICAgIGluZGV4Kys7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIG1hcFRvRW50cmllcyhtYXApIHtcblx0ICAgICAgICBzaXplID0gbWFwLnNpemU7XG5cdCAgICAgICAgaW5kZXggPSAwO1xuXHQgICAgICAgIHZhciByZXQgPSBuZXcgQXJyYXkobWFwLnNpemUgKiAyKTtcblx0ICAgICAgICBtYXAuZm9yRWFjaChleHRyYWN0RW50cnksIHJldCk7XG5cdCAgICAgICAgcmV0dXJuIHJldDtcblx0ICAgIH07XG5cdH0pKCk7XG5cdFxuXHR2YXIgZW50cmllc1RvTWFwID0gZnVuY3Rpb24oZW50cmllcykge1xuXHQgICAgdmFyIHJldCA9IG5ldyBFczZNYXAoKTtcblx0ICAgIHZhciBsZW5ndGggPSBlbnRyaWVzLmxlbmd0aCAvIDIgfCAwO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuXHQgICAgICAgIHZhciBrZXkgPSBlbnRyaWVzW2xlbmd0aCArIGldO1xuXHQgICAgICAgIHZhciB2YWx1ZSA9IGVudHJpZXNbaV07XG5cdCAgICAgICAgcmV0LnNldChrZXksIHZhbHVlKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiByZXQ7XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBQcm9wZXJ0aWVzUHJvbWlzZUFycmF5KG9iaikge1xuXHQgICAgdmFyIGlzTWFwID0gZmFsc2U7XG5cdCAgICB2YXIgZW50cmllcztcblx0ICAgIGlmIChFczZNYXAgIT09IHVuZGVmaW5lZCAmJiBvYmogaW5zdGFuY2VvZiBFczZNYXApIHtcblx0ICAgICAgICBlbnRyaWVzID0gbWFwVG9FbnRyaWVzKG9iaik7XG5cdCAgICAgICAgaXNNYXAgPSB0cnVlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIga2V5cyA9IGVzNS5rZXlzKG9iaik7XG5cdCAgICAgICAgdmFyIGxlbiA9IGtleXMubGVuZ3RoO1xuXHQgICAgICAgIGVudHJpZXMgPSBuZXcgQXJyYXkobGVuICogMik7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuXHQgICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblx0ICAgICAgICAgICAgZW50cmllc1tpXSA9IG9ialtrZXldO1xuXHQgICAgICAgICAgICBlbnRyaWVzW2kgKyBsZW5dID0ga2V5O1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHRoaXMuY29uc3RydWN0b3IkKGVudHJpZXMpO1xuXHQgICAgdGhpcy5faXNNYXAgPSBpc01hcDtcblx0ICAgIHRoaXMuX2luaXQkKHVuZGVmaW5lZCwgLTMpO1xuXHR9XG5cdHV0aWwuaW5oZXJpdHMoUHJvcGVydGllc1Byb21pc2VBcnJheSwgUHJvbWlzZUFycmF5KTtcblx0XG5cdFByb3BlcnRpZXNQcm9taXNlQXJyYXkucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24gKCkge307XG5cdFxuXHRQcm9wZXJ0aWVzUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZUZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcblx0ICAgIHRoaXMuX3ZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcblx0ICAgIHZhciB0b3RhbFJlc29sdmVkID0gKyt0aGlzLl90b3RhbFJlc29sdmVkO1xuXHQgICAgaWYgKHRvdGFsUmVzb2x2ZWQgPj0gdGhpcy5fbGVuZ3RoKSB7XG5cdCAgICAgICAgdmFyIHZhbDtcblx0ICAgICAgICBpZiAodGhpcy5faXNNYXApIHtcblx0ICAgICAgICAgICAgdmFsID0gZW50cmllc1RvTWFwKHRoaXMuX3ZhbHVlcyk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdmFsID0ge307XG5cdCAgICAgICAgICAgIHZhciBrZXlPZmZzZXQgPSB0aGlzLmxlbmd0aCgpO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5sZW5ndGgoKTsgaSA8IGxlbjsgKytpKSB7XG5cdCAgICAgICAgICAgICAgICB2YWxbdGhpcy5fdmFsdWVzW2kgKyBrZXlPZmZzZXRdXSA9IHRoaXMuX3ZhbHVlc1tpXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICB0aGlzLl9yZXNvbHZlKHZhbCk7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdH07XG5cdFxuXHRQcm9wZXJ0aWVzUHJvbWlzZUFycmF5LnByb3RvdHlwZS5zaG91bGRDb3B5VmFsdWVzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHR9O1xuXHRcblx0UHJvcGVydGllc1Byb21pc2VBcnJheS5wcm90b3R5cGUuZ2V0QWN0dWFsTGVuZ3RoID0gZnVuY3Rpb24gKGxlbikge1xuXHQgICAgcmV0dXJuIGxlbiA+PiAxO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gcHJvcHMocHJvbWlzZXMpIHtcblx0ICAgIHZhciByZXQ7XG5cdCAgICB2YXIgY2FzdFZhbHVlID0gdHJ5Q29udmVydFRvUHJvbWlzZShwcm9taXNlcyk7XG5cdFxuXHQgICAgaWYgKCFpc09iamVjdChjYXN0VmFsdWUpKSB7XG5cdCAgICAgICAgcmV0dXJuIGFwaVJlamVjdGlvbihcImNhbm5vdCBhd2FpdCBwcm9wZXJ0aWVzIG9mIGEgbm9uLW9iamVjdFxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG5cdCAgICB9IGVsc2UgaWYgKGNhc3RWYWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcblx0ICAgICAgICByZXQgPSBjYXN0VmFsdWUuX3RoZW4oXG5cdCAgICAgICAgICAgIFByb21pc2UucHJvcHMsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldCA9IG5ldyBQcm9wZXJ0aWVzUHJvbWlzZUFycmF5KGNhc3RWYWx1ZSkucHJvbWlzZSgpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChjYXN0VmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG5cdCAgICAgICAgcmV0Ll9wcm9wYWdhdGVGcm9tKGNhc3RWYWx1ZSwgMik7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmV0O1xuXHR9XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5wcm9wcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBwcm9wcyh0aGlzKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvcHMgPSBmdW5jdGlvbiAocHJvbWlzZXMpIHtcblx0ICAgIHJldHVybiBwcm9wcyhwcm9taXNlcyk7XG5cdH07XG5cdH07XG5cdFxuXHR9LHtcIi4vZXM1XCI6MTMsXCIuL3V0aWxcIjozNn1dLDI2OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdGZ1bmN0aW9uIGFycmF5TW92ZShzcmMsIHNyY0luZGV4LCBkc3QsIGRzdEluZGV4LCBsZW4pIHtcblx0ICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGVuOyArK2opIHtcblx0ICAgICAgICBkc3RbaiArIGRzdEluZGV4XSA9IHNyY1tqICsgc3JjSW5kZXhdO1xuXHQgICAgICAgIHNyY1tqICsgc3JjSW5kZXhdID0gdm9pZCAwO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBRdWV1ZShjYXBhY2l0eSkge1xuXHQgICAgdGhpcy5fY2FwYWNpdHkgPSBjYXBhY2l0eTtcblx0ICAgIHRoaXMuX2xlbmd0aCA9IDA7XG5cdCAgICB0aGlzLl9mcm9udCA9IDA7XG5cdH1cblx0XG5cdFF1ZXVlLnByb3RvdHlwZS5fd2lsbEJlT3ZlckNhcGFjaXR5ID0gZnVuY3Rpb24gKHNpemUpIHtcblx0ICAgIHJldHVybiB0aGlzLl9jYXBhY2l0eSA8IHNpemU7XG5cdH07XG5cdFxuXHRRdWV1ZS5wcm90b3R5cGUuX3B1c2hPbmUgPSBmdW5jdGlvbiAoYXJnKSB7XG5cdCAgICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGgoKTtcblx0ICAgIHRoaXMuX2NoZWNrQ2FwYWNpdHkobGVuZ3RoICsgMSk7XG5cdCAgICB2YXIgaSA9ICh0aGlzLl9mcm9udCArIGxlbmd0aCkgJiAodGhpcy5fY2FwYWNpdHkgLSAxKTtcblx0ICAgIHRoaXNbaV0gPSBhcmc7XG5cdCAgICB0aGlzLl9sZW5ndGggPSBsZW5ndGggKyAxO1xuXHR9O1xuXHRcblx0UXVldWUucHJvdG90eXBlLl91bnNoaWZ0T25lID0gZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgIHZhciBjYXBhY2l0eSA9IHRoaXMuX2NhcGFjaXR5O1xuXHQgICAgdGhpcy5fY2hlY2tDYXBhY2l0eSh0aGlzLmxlbmd0aCgpICsgMSk7XG5cdCAgICB2YXIgZnJvbnQgPSB0aGlzLl9mcm9udDtcblx0ICAgIHZhciBpID0gKCgoKCBmcm9udCAtIDEgKSAmXG5cdCAgICAgICAgICAgICAgICAgICAgKCBjYXBhY2l0eSAtIDEpICkgXiBjYXBhY2l0eSApIC0gY2FwYWNpdHkgKTtcblx0ICAgIHRoaXNbaV0gPSB2YWx1ZTtcblx0ICAgIHRoaXMuX2Zyb250ID0gaTtcblx0ICAgIHRoaXMuX2xlbmd0aCA9IHRoaXMubGVuZ3RoKCkgKyAxO1xuXHR9O1xuXHRcblx0UXVldWUucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbihmbiwgcmVjZWl2ZXIsIGFyZykge1xuXHQgICAgdGhpcy5fdW5zaGlmdE9uZShhcmcpO1xuXHQgICAgdGhpcy5fdW5zaGlmdE9uZShyZWNlaXZlcik7XG5cdCAgICB0aGlzLl91bnNoaWZ0T25lKGZuKTtcblx0fTtcblx0XG5cdFF1ZXVlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGZuLCByZWNlaXZlciwgYXJnKSB7XG5cdCAgICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGgoKSArIDM7XG5cdCAgICBpZiAodGhpcy5fd2lsbEJlT3ZlckNhcGFjaXR5KGxlbmd0aCkpIHtcblx0ICAgICAgICB0aGlzLl9wdXNoT25lKGZuKTtcblx0ICAgICAgICB0aGlzLl9wdXNoT25lKHJlY2VpdmVyKTtcblx0ICAgICAgICB0aGlzLl9wdXNoT25lKGFyZyk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIGogPSB0aGlzLl9mcm9udCArIGxlbmd0aCAtIDM7XG5cdCAgICB0aGlzLl9jaGVja0NhcGFjaXR5KGxlbmd0aCk7XG5cdCAgICB2YXIgd3JhcE1hc2sgPSB0aGlzLl9jYXBhY2l0eSAtIDE7XG5cdCAgICB0aGlzWyhqICsgMCkgJiB3cmFwTWFza10gPSBmbjtcblx0ICAgIHRoaXNbKGogKyAxKSAmIHdyYXBNYXNrXSA9IHJlY2VpdmVyO1xuXHQgICAgdGhpc1soaiArIDIpICYgd3JhcE1hc2tdID0gYXJnO1xuXHQgICAgdGhpcy5fbGVuZ3RoID0gbGVuZ3RoO1xuXHR9O1xuXHRcblx0UXVldWUucHJvdG90eXBlLnNoaWZ0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIGZyb250ID0gdGhpcy5fZnJvbnQsXG5cdCAgICAgICAgcmV0ID0gdGhpc1tmcm9udF07XG5cdFxuXHQgICAgdGhpc1tmcm9udF0gPSB1bmRlZmluZWQ7XG5cdCAgICB0aGlzLl9mcm9udCA9IChmcm9udCArIDEpICYgKHRoaXMuX2NhcGFjaXR5IC0gMSk7XG5cdCAgICB0aGlzLl9sZW5ndGgtLTtcblx0ICAgIHJldHVybiByZXQ7XG5cdH07XG5cdFxuXHRRdWV1ZS5wcm90b3R5cGUubGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX2xlbmd0aDtcblx0fTtcblx0XG5cdFF1ZXVlLnByb3RvdHlwZS5fY2hlY2tDYXBhY2l0eSA9IGZ1bmN0aW9uIChzaXplKSB7XG5cdCAgICBpZiAodGhpcy5fY2FwYWNpdHkgPCBzaXplKSB7XG5cdCAgICAgICAgdGhpcy5fcmVzaXplVG8odGhpcy5fY2FwYWNpdHkgPDwgMSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRRdWV1ZS5wcm90b3R5cGUuX3Jlc2l6ZVRvID0gZnVuY3Rpb24gKGNhcGFjaXR5KSB7XG5cdCAgICB2YXIgb2xkQ2FwYWNpdHkgPSB0aGlzLl9jYXBhY2l0eTtcblx0ICAgIHRoaXMuX2NhcGFjaXR5ID0gY2FwYWNpdHk7XG5cdCAgICB2YXIgZnJvbnQgPSB0aGlzLl9mcm9udDtcblx0ICAgIHZhciBsZW5ndGggPSB0aGlzLl9sZW5ndGg7XG5cdCAgICB2YXIgbW92ZUl0ZW1zQ291bnQgPSAoZnJvbnQgKyBsZW5ndGgpICYgKG9sZENhcGFjaXR5IC0gMSk7XG5cdCAgICBhcnJheU1vdmUodGhpcywgMCwgdGhpcywgb2xkQ2FwYWNpdHksIG1vdmVJdGVtc0NvdW50KTtcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gUXVldWU7XG5cdFxuXHR9LHt9XSwyNzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFxuXHQgICAgUHJvbWlzZSwgSU5URVJOQUwsIHRyeUNvbnZlcnRUb1Byb21pc2UsIGFwaVJlamVjdGlvbikge1xuXHR2YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cdFxuXHR2YXIgcmFjZUxhdGVyID0gZnVuY3Rpb24gKHByb21pc2UpIHtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24oYXJyYXkpIHtcblx0ICAgICAgICByZXR1cm4gcmFjZShhcnJheSwgcHJvbWlzZSk7XG5cdCAgICB9KTtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIHJhY2UocHJvbWlzZXMsIHBhcmVudCkge1xuXHQgICAgdmFyIG1heWJlUHJvbWlzZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UocHJvbWlzZXMpO1xuXHRcblx0ICAgIGlmIChtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG5cdCAgICAgICAgcmV0dXJuIHJhY2VMYXRlcihtYXliZVByb21pc2UpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBwcm9taXNlcyA9IHV0aWwuYXNBcnJheShwcm9taXNlcyk7XG5cdCAgICAgICAgaWYgKHByb21pc2VzID09PSBudWxsKVxuXHQgICAgICAgICAgICByZXR1cm4gYXBpUmVqZWN0aW9uKFwiZXhwZWN0aW5nIGFuIGFycmF5IG9yIGFuIGl0ZXJhYmxlIG9iamVjdCBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyhwcm9taXNlcykpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG5cdCAgICBpZiAocGFyZW50ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICByZXQuX3Byb3BhZ2F0ZUZyb20ocGFyZW50LCAzKTtcblx0ICAgIH1cblx0ICAgIHZhciBmdWxmaWxsID0gcmV0Ll9mdWxmaWxsO1xuXHQgICAgdmFyIHJlamVjdCA9IHJldC5fcmVqZWN0O1xuXHQgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHByb21pc2VzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG5cdCAgICAgICAgdmFyIHZhbCA9IHByb21pc2VzW2ldO1xuXHRcblx0ICAgICAgICBpZiAodmFsID09PSB1bmRlZmluZWQgJiYgIShpIGluIHByb21pc2VzKSkge1xuXHQgICAgICAgICAgICBjb250aW51ZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIFByb21pc2UuY2FzdCh2YWwpLl90aGVuKGZ1bGZpbGwsIHJlamVjdCwgdW5kZWZpbmVkLCByZXQsIG51bGwpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJldDtcblx0fVxuXHRcblx0UHJvbWlzZS5yYWNlID0gZnVuY3Rpb24gKHByb21pc2VzKSB7XG5cdCAgICByZXR1cm4gcmFjZShwcm9taXNlcywgdW5kZWZpbmVkKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLnJhY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gcmFjZSh0aGlzLCB1bmRlZmluZWQpO1xuXHR9O1xuXHRcblx0fTtcblx0XG5cdH0se1wiLi91dGlsXCI6MzZ9XSwyODpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvbWlzZUFycmF5LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaVJlamVjdGlvbixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICB0cnlDb252ZXJ0VG9Qcm9taXNlLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgIElOVEVSTkFMLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKSB7XG5cdHZhciBnZXREb21haW4gPSBQcm9taXNlLl9nZXREb21haW47XG5cdHZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcblx0dmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcblx0XG5cdGZ1bmN0aW9uIFJlZHVjdGlvblByb21pc2VBcnJheShwcm9taXNlcywgZm4sIGluaXRpYWxWYWx1ZSwgX2VhY2gpIHtcblx0ICAgIHRoaXMuY29uc3RydWN0b3IkKHByb21pc2VzKTtcblx0ICAgIHZhciBkb21haW4gPSBnZXREb21haW4oKTtcblx0ICAgIHRoaXMuX2ZuID0gZG9tYWluID09PSBudWxsID8gZm4gOiB1dGlsLmRvbWFpbkJpbmQoZG9tYWluLCBmbik7XG5cdCAgICBpZiAoaW5pdGlhbFZhbHVlICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICBpbml0aWFsVmFsdWUgPSBQcm9taXNlLnJlc29sdmUoaW5pdGlhbFZhbHVlKTtcblx0ICAgICAgICBpbml0aWFsVmFsdWUuX2F0dGFjaENhbmNlbGxhdGlvbkNhbGxiYWNrKHRoaXMpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5faW5pdGlhbFZhbHVlID0gaW5pdGlhbFZhbHVlO1xuXHQgICAgdGhpcy5fY3VycmVudENhbmNlbGxhYmxlID0gbnVsbDtcblx0ICAgIGlmKF9lYWNoID09PSBJTlRFUk5BTCkge1xuXHQgICAgICAgIHRoaXMuX2VhY2hWYWx1ZXMgPSBBcnJheSh0aGlzLl9sZW5ndGgpO1xuXHQgICAgfSBlbHNlIGlmIChfZWFjaCA9PT0gMCkge1xuXHQgICAgICAgIHRoaXMuX2VhY2hWYWx1ZXMgPSBudWxsO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLl9lYWNoVmFsdWVzID0gdW5kZWZpbmVkO1xuXHQgICAgfVxuXHQgICAgdGhpcy5fcHJvbWlzZS5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcblx0ICAgIHRoaXMuX2luaXQkKHVuZGVmaW5lZCwgLTUpO1xuXHR9XG5cdHV0aWwuaW5oZXJpdHMoUmVkdWN0aW9uUHJvbWlzZUFycmF5LCBQcm9taXNlQXJyYXkpO1xuXHRcblx0UmVkdWN0aW9uUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fZ290QWNjdW0gPSBmdW5jdGlvbihhY2N1bSkge1xuXHQgICAgaWYgKHRoaXMuX2VhY2hWYWx1ZXMgIT09IHVuZGVmaW5lZCAmJiBcblx0ICAgICAgICB0aGlzLl9lYWNoVmFsdWVzICE9PSBudWxsICYmIFxuXHQgICAgICAgIGFjY3VtICE9PSBJTlRFUk5BTCkge1xuXHQgICAgICAgIHRoaXMuX2VhY2hWYWx1ZXMucHVzaChhY2N1bSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRSZWR1Y3Rpb25Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9lYWNoQ29tcGxldGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgaWYgKHRoaXMuX2VhY2hWYWx1ZXMgIT09IG51bGwpIHtcblx0ICAgICAgICB0aGlzLl9lYWNoVmFsdWVzLnB1c2godmFsdWUpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXMuX2VhY2hWYWx1ZXM7XG5cdH07XG5cdFxuXHRSZWR1Y3Rpb25Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24oKSB7fTtcblx0XG5cdFJlZHVjdGlvblByb21pc2VBcnJheS5wcm90b3R5cGUuX3Jlc29sdmVFbXB0eUFycmF5ID0gZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLl9yZXNvbHZlKHRoaXMuX2VhY2hWYWx1ZXMgIT09IHVuZGVmaW5lZCA/IHRoaXMuX2VhY2hWYWx1ZXNcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5faW5pdGlhbFZhbHVlKTtcblx0fTtcblx0XG5cdFJlZHVjdGlvblByb21pc2VBcnJheS5wcm90b3R5cGUuc2hvdWxkQ29weVZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0fTtcblx0XG5cdFJlZHVjdGlvblByb21pc2VBcnJheS5wcm90b3R5cGUuX3Jlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgdGhpcy5fcHJvbWlzZS5fcmVzb2x2ZUNhbGxiYWNrKHZhbHVlKTtcblx0ICAgIHRoaXMuX3ZhbHVlcyA9IG51bGw7XG5cdH07XG5cdFxuXHRSZWR1Y3Rpb25Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQgPSBmdW5jdGlvbihzZW5kZXIpIHtcblx0ICAgIGlmIChzZW5kZXIgPT09IHRoaXMuX2luaXRpYWxWYWx1ZSkgcmV0dXJuIHRoaXMuX2NhbmNlbCgpO1xuXHQgICAgaWYgKHRoaXMuX2lzUmVzb2x2ZWQoKSkgcmV0dXJuO1xuXHQgICAgdGhpcy5fcmVzdWx0Q2FuY2VsbGVkJCgpO1xuXHQgICAgaWYgKHRoaXMuX2N1cnJlbnRDYW5jZWxsYWJsZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcblx0ICAgICAgICB0aGlzLl9jdXJyZW50Q2FuY2VsbGFibGUuY2FuY2VsKCk7XG5cdCAgICB9XG5cdCAgICBpZiAodGhpcy5faW5pdGlhbFZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuXHQgICAgICAgIHRoaXMuX2luaXRpYWxWYWx1ZS5jYW5jZWwoKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdFJlZHVjdGlvblByb21pc2VBcnJheS5wcm90b3R5cGUuX2l0ZXJhdGUgPSBmdW5jdGlvbiAodmFsdWVzKSB7XG5cdCAgICB0aGlzLl92YWx1ZXMgPSB2YWx1ZXM7XG5cdCAgICB2YXIgdmFsdWU7XG5cdCAgICB2YXIgaTtcblx0ICAgIHZhciBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuXHQgICAgaWYgKHRoaXMuX2luaXRpYWxWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFsdWUgPSB0aGlzLl9pbml0aWFsVmFsdWU7XG5cdCAgICAgICAgaSA9IDA7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhbHVlID0gUHJvbWlzZS5yZXNvbHZlKHZhbHVlc1swXSk7XG5cdCAgICAgICAgaSA9IDE7XG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy5fY3VycmVudENhbmNlbGxhYmxlID0gdmFsdWU7XG5cdFxuXHQgICAgaWYgKCF2YWx1ZS5pc1JlamVjdGVkKCkpIHtcblx0ICAgICAgICBmb3IgKDsgaSA8IGxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgICAgIHZhciBjdHggPSB7XG5cdCAgICAgICAgICAgICAgICBhY2N1bTogbnVsbCxcblx0ICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZXNbaV0sXG5cdCAgICAgICAgICAgICAgICBpbmRleDogaSxcblx0ICAgICAgICAgICAgICAgIGxlbmd0aDogbGVuZ3RoLFxuXHQgICAgICAgICAgICAgICAgYXJyYXk6IHRoaXNcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5fdGhlbihnb3RBY2N1bSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGN0eCwgdW5kZWZpbmVkKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHRoaXMuX2VhY2hWYWx1ZXMgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhbHVlID0gdmFsdWVcblx0ICAgICAgICAgICAgLl90aGVuKHRoaXMuX2VhY2hDb21wbGV0ZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHRoaXMsIHVuZGVmaW5lZCk7XG5cdCAgICB9XG5cdCAgICB2YWx1ZS5fdGhlbihjb21wbGV0ZWQsIGNvbXBsZXRlZCwgdW5kZWZpbmVkLCB2YWx1ZSwgdGhpcyk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5yZWR1Y2UgPSBmdW5jdGlvbiAoZm4sIGluaXRpYWxWYWx1ZSkge1xuXHQgICAgcmV0dXJuIHJlZHVjZSh0aGlzLCBmbiwgaW5pdGlhbFZhbHVlLCBudWxsKTtcblx0fTtcblx0XG5cdFByb21pc2UucmVkdWNlID0gZnVuY3Rpb24gKHByb21pc2VzLCBmbiwgaW5pdGlhbFZhbHVlLCBfZWFjaCkge1xuXHQgICAgcmV0dXJuIHJlZHVjZShwcm9taXNlcywgZm4sIGluaXRpYWxWYWx1ZSwgX2VhY2gpO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gY29tcGxldGVkKHZhbHVlT3JSZWFzb24sIGFycmF5KSB7XG5cdCAgICBpZiAodGhpcy5pc0Z1bGZpbGxlZCgpKSB7XG5cdCAgICAgICAgYXJyYXkuX3Jlc29sdmUodmFsdWVPclJlYXNvbik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGFycmF5Ll9yZWplY3QodmFsdWVPclJlYXNvbik7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlZHVjZShwcm9taXNlcywgZm4sIGluaXRpYWxWYWx1ZSwgX2VhY2gpIHtcblx0ICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgIHJldHVybiBhcGlSZWplY3Rpb24oXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyhmbikpO1xuXHQgICAgfVxuXHQgICAgdmFyIGFycmF5ID0gbmV3IFJlZHVjdGlvblByb21pc2VBcnJheShwcm9taXNlcywgZm4sIGluaXRpYWxWYWx1ZSwgX2VhY2gpO1xuXHQgICAgcmV0dXJuIGFycmF5LnByb21pc2UoKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ290QWNjdW0oYWNjdW0pIHtcblx0ICAgIHRoaXMuYWNjdW0gPSBhY2N1bTtcblx0ICAgIHRoaXMuYXJyYXkuX2dvdEFjY3VtKGFjY3VtKTtcblx0ICAgIHZhciB2YWx1ZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UodGhpcy52YWx1ZSwgdGhpcy5hcnJheS5fcHJvbWlzZSk7XG5cdCAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG5cdCAgICAgICAgdGhpcy5hcnJheS5fY3VycmVudENhbmNlbGxhYmxlID0gdmFsdWU7XG5cdCAgICAgICAgcmV0dXJuIHZhbHVlLl90aGVuKGdvdFZhbHVlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdGhpcywgdW5kZWZpbmVkKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGdvdFZhbHVlLmNhbGwodGhpcywgdmFsdWUpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBnb3RWYWx1ZSh2YWx1ZSkge1xuXHQgICAgdmFyIGFycmF5ID0gdGhpcy5hcnJheTtcblx0ICAgIHZhciBwcm9taXNlID0gYXJyYXkuX3Byb21pc2U7XG5cdCAgICB2YXIgZm4gPSB0cnlDYXRjaChhcnJheS5fZm4pO1xuXHQgICAgcHJvbWlzZS5fcHVzaENvbnRleHQoKTtcblx0ICAgIHZhciByZXQ7XG5cdCAgICBpZiAoYXJyYXkuX2VhY2hWYWx1ZXMgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHJldCA9IGZuLmNhbGwocHJvbWlzZS5fYm91bmRWYWx1ZSgpLCB2YWx1ZSwgdGhpcy5pbmRleCwgdGhpcy5sZW5ndGgpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXQgPSBmbi5jYWxsKHByb21pc2UuX2JvdW5kVmFsdWUoKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY2N1bSwgdmFsdWUsIHRoaXMuaW5kZXgsIHRoaXMubGVuZ3RoKTtcblx0ICAgIH1cblx0ICAgIGlmIChyZXQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG5cdCAgICAgICAgYXJyYXkuX2N1cnJlbnRDYW5jZWxsYWJsZSA9IHJldDtcblx0ICAgIH1cblx0ICAgIHZhciBwcm9taXNlQ3JlYXRlZCA9IHByb21pc2UuX3BvcENvbnRleHQoKTtcblx0ICAgIGRlYnVnLmNoZWNrRm9yZ290dGVuUmV0dXJucyhcblx0ICAgICAgICByZXQsXG5cdCAgICAgICAgcHJvbWlzZUNyZWF0ZWQsXG5cdCAgICAgICAgYXJyYXkuX2VhY2hWYWx1ZXMgIT09IHVuZGVmaW5lZCA/IFwiUHJvbWlzZS5lYWNoXCIgOiBcIlByb21pc2UucmVkdWNlXCIsXG5cdCAgICAgICAgcHJvbWlzZVxuXHQgICAgKTtcblx0ICAgIHJldHVybiByZXQ7XG5cdH1cblx0fTtcblx0XG5cdH0se1wiLi91dGlsXCI6MzZ9XSwyOTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cdHZhciBzY2hlZHVsZTtcblx0dmFyIG5vQXN5bmNTY2hlZHVsZXIgPSBmdW5jdGlvbigpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGFzeW5jIHNjaGVkdWxlciBhdmFpbGFibGVcXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuXHR9O1xuXHR2YXIgTmF0aXZlUHJvbWlzZSA9IHV0aWwuZ2V0TmF0aXZlUHJvbWlzZSgpO1xuXHRpZiAodXRpbC5pc05vZGUgJiYgdHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXIgPT09IFwidW5kZWZpbmVkXCIpIHtcblx0ICAgIHZhciBHbG9iYWxTZXRJbW1lZGlhdGUgPSBnbG9iYWwuc2V0SW1tZWRpYXRlO1xuXHQgICAgdmFyIFByb2Nlc3NOZXh0VGljayA9IHByb2Nlc3MubmV4dFRpY2s7XG5cdCAgICBzY2hlZHVsZSA9IHV0aWwuaXNSZWNlbnROb2RlXG5cdCAgICAgICAgICAgICAgICA/IGZ1bmN0aW9uKGZuKSB7IEdsb2JhbFNldEltbWVkaWF0ZS5jYWxsKGdsb2JhbCwgZm4pOyB9XG5cdCAgICAgICAgICAgICAgICA6IGZ1bmN0aW9uKGZuKSB7IFByb2Nlc3NOZXh0VGljay5jYWxsKHByb2Nlc3MsIGZuKTsgfTtcblx0fSBlbHNlIGlmICh0eXBlb2YgTmF0aXZlUHJvbWlzZSA9PT0gXCJmdW5jdGlvblwiICYmXG5cdCAgICAgICAgICAgdHlwZW9mIE5hdGl2ZVByb21pc2UucmVzb2x2ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICB2YXIgbmF0aXZlUHJvbWlzZSA9IE5hdGl2ZVByb21pc2UucmVzb2x2ZSgpO1xuXHQgICAgc2NoZWR1bGUgPSBmdW5jdGlvbihmbikge1xuXHQgICAgICAgIG5hdGl2ZVByb21pc2UudGhlbihmbik7XG5cdCAgICB9O1xuXHR9IGVsc2UgaWYgKCh0eXBlb2YgTXV0YXRpb25PYnNlcnZlciAhPT0gXCJ1bmRlZmluZWRcIikgJiZcblx0ICAgICAgICAgICEodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuXHQgICAgICAgICAgICB3aW5kb3cubmF2aWdhdG9yICYmXG5cdCAgICAgICAgICAgICh3aW5kb3cubmF2aWdhdG9yLnN0YW5kYWxvbmUgfHwgd2luZG93LmNvcmRvdmEpKSkge1xuXHQgICAgc2NoZWR1bGUgPSAoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdCAgICAgICAgdmFyIG9wdHMgPSB7YXR0cmlidXRlczogdHJ1ZX07XG5cdCAgICAgICAgdmFyIHRvZ2dsZVNjaGVkdWxlZCA9IGZhbHNlO1xuXHQgICAgICAgIHZhciBkaXYyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0ICAgICAgICB2YXIgbzIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgZGl2LmNsYXNzTGlzdC50b2dnbGUoXCJmb29cIik7XG5cdCAgICAgICAgICAgIHRvZ2dsZVNjaGVkdWxlZCA9IGZhbHNlO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIG8yLm9ic2VydmUoZGl2Miwgb3B0cyk7XG5cdFxuXHQgICAgICAgIHZhciBzY2hlZHVsZVRvZ2dsZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICBpZiAodG9nZ2xlU2NoZWR1bGVkKSByZXR1cm47XG5cdCAgICAgICAgICAgICAgICB0b2dnbGVTY2hlZHVsZWQgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgZGl2Mi5jbGFzc0xpc3QudG9nZ2xlKFwiZm9vXCIpO1xuXHQgICAgICAgICAgICB9O1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHNjaGVkdWxlKGZuKSB7XG5cdCAgICAgICAgICAgIHZhciBvID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICBvLmRpc2Nvbm5lY3QoKTtcblx0ICAgICAgICAgICAgICAgIGZuKCk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICBvLm9ic2VydmUoZGl2LCBvcHRzKTtcblx0ICAgICAgICAgICAgc2NoZWR1bGVUb2dnbGUoKTtcblx0ICAgICAgICB9O1xuXHQgICAgfSkoKTtcblx0fSBlbHNlIGlmICh0eXBlb2Ygc2V0SW1tZWRpYXRlICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdCAgICBzY2hlZHVsZSA9IGZ1bmN0aW9uIChmbikge1xuXHQgICAgICAgIHNldEltbWVkaWF0ZShmbik7XG5cdCAgICB9O1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdCAgICBzY2hlZHVsZSA9IGZ1bmN0aW9uIChmbikge1xuXHQgICAgICAgIHNldFRpbWVvdXQoZm4sIDApO1xuXHQgICAgfTtcblx0fSBlbHNlIHtcblx0ICAgIHNjaGVkdWxlID0gbm9Bc3luY1NjaGVkdWxlcjtcblx0fVxuXHRtb2R1bGUuZXhwb3J0cyA9IHNjaGVkdWxlO1xuXHRcblx0fSx7XCIuL3V0aWxcIjozNn1dLDMwOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID1cblx0ICAgIGZ1bmN0aW9uKFByb21pc2UsIFByb21pc2VBcnJheSwgZGVidWcpIHtcblx0dmFyIFByb21pc2VJbnNwZWN0aW9uID0gUHJvbWlzZS5Qcm9taXNlSW5zcGVjdGlvbjtcblx0dmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXHRcblx0ZnVuY3Rpb24gU2V0dGxlZFByb21pc2VBcnJheSh2YWx1ZXMpIHtcblx0ICAgIHRoaXMuY29uc3RydWN0b3IkKHZhbHVlcyk7XG5cdH1cblx0dXRpbC5pbmhlcml0cyhTZXR0bGVkUHJvbWlzZUFycmF5LCBQcm9taXNlQXJyYXkpO1xuXHRcblx0U2V0dGxlZFByb21pc2VBcnJheS5wcm90b3R5cGUuX3Byb21pc2VSZXNvbHZlZCA9IGZ1bmN0aW9uIChpbmRleCwgaW5zcGVjdGlvbikge1xuXHQgICAgdGhpcy5fdmFsdWVzW2luZGV4XSA9IGluc3BlY3Rpb247XG5cdCAgICB2YXIgdG90YWxSZXNvbHZlZCA9ICsrdGhpcy5fdG90YWxSZXNvbHZlZDtcblx0ICAgIGlmICh0b3RhbFJlc29sdmVkID49IHRoaXMuX2xlbmd0aCkge1xuXHQgICAgICAgIHRoaXMuX3Jlc29sdmUodGhpcy5fdmFsdWVzKTtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBmYWxzZTtcblx0fTtcblx0XG5cdFNldHRsZWRQcm9taXNlQXJyYXkucHJvdG90eXBlLl9wcm9taXNlRnVsZmlsbGVkID0gZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xuXHQgICAgdmFyIHJldCA9IG5ldyBQcm9taXNlSW5zcGVjdGlvbigpO1xuXHQgICAgcmV0Ll9iaXRGaWVsZCA9IDMzNTU0NDMyO1xuXHQgICAgcmV0Ll9zZXR0bGVkVmFsdWVGaWVsZCA9IHZhbHVlO1xuXHQgICAgcmV0dXJuIHRoaXMuX3Byb21pc2VSZXNvbHZlZChpbmRleCwgcmV0KTtcblx0fTtcblx0U2V0dGxlZFByb21pc2VBcnJheS5wcm90b3R5cGUuX3Byb21pc2VSZWplY3RlZCA9IGZ1bmN0aW9uIChyZWFzb24sIGluZGV4KSB7XG5cdCAgICB2YXIgcmV0ID0gbmV3IFByb21pc2VJbnNwZWN0aW9uKCk7XG5cdCAgICByZXQuX2JpdEZpZWxkID0gMTY3NzcyMTY7XG5cdCAgICByZXQuX3NldHRsZWRWYWx1ZUZpZWxkID0gcmVhc29uO1xuXHQgICAgcmV0dXJuIHRoaXMuX3Byb21pc2VSZXNvbHZlZChpbmRleCwgcmV0KTtcblx0fTtcblx0XG5cdFByb21pc2Uuc2V0dGxlID0gZnVuY3Rpb24gKHByb21pc2VzKSB7XG5cdCAgICBkZWJ1Zy5kZXByZWNhdGVkKFwiLnNldHRsZSgpXCIsIFwiLnJlZmxlY3QoKVwiKTtcblx0ICAgIHJldHVybiBuZXcgU2V0dGxlZFByb21pc2VBcnJheShwcm9taXNlcykucHJvbWlzZSgpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuc2V0dGxlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFByb21pc2Uuc2V0dGxlKHRoaXMpO1xuXHR9O1xuXHR9O1xuXHRcblx0fSx7XCIuL3V0aWxcIjozNn1dLDMxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID1cblx0ZnVuY3Rpb24oUHJvbWlzZSwgUHJvbWlzZUFycmF5LCBhcGlSZWplY3Rpb24pIHtcblx0dmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXHR2YXIgUmFuZ2VFcnJvciA9IF9kZXJlcV8oXCIuL2Vycm9yc1wiKS5SYW5nZUVycm9yO1xuXHR2YXIgQWdncmVnYXRlRXJyb3IgPSBfZGVyZXFfKFwiLi9lcnJvcnNcIikuQWdncmVnYXRlRXJyb3I7XG5cdHZhciBpc0FycmF5ID0gdXRpbC5pc0FycmF5O1xuXHR2YXIgQ0FOQ0VMTEFUSU9OID0ge307XG5cdFxuXHRcblx0ZnVuY3Rpb24gU29tZVByb21pc2VBcnJheSh2YWx1ZXMpIHtcblx0ICAgIHRoaXMuY29uc3RydWN0b3IkKHZhbHVlcyk7XG5cdCAgICB0aGlzLl9ob3dNYW55ID0gMDtcblx0ICAgIHRoaXMuX3Vud3JhcCA9IGZhbHNlO1xuXHQgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSBmYWxzZTtcblx0fVxuXHR1dGlsLmluaGVyaXRzKFNvbWVQcm9taXNlQXJyYXksIFByb21pc2VBcnJheSk7XG5cdFxuXHRTb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICghdGhpcy5faW5pdGlhbGl6ZWQpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBpZiAodGhpcy5faG93TWFueSA9PT0gMCkge1xuXHQgICAgICAgIHRoaXMuX3Jlc29sdmUoW10pO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHRoaXMuX2luaXQkKHVuZGVmaW5lZCwgLTUpO1xuXHQgICAgdmFyIGlzQXJyYXlSZXNvbHZlZCA9IGlzQXJyYXkodGhpcy5fdmFsdWVzKTtcblx0ICAgIGlmICghdGhpcy5faXNSZXNvbHZlZCgpICYmXG5cdCAgICAgICAgaXNBcnJheVJlc29sdmVkICYmXG5cdCAgICAgICAgdGhpcy5faG93TWFueSA+IHRoaXMuX2NhblBvc3NpYmx5RnVsZmlsbCgpKSB7XG5cdCAgICAgICAgdGhpcy5fcmVqZWN0KHRoaXMuX2dldFJhbmdlRXJyb3IodGhpcy5sZW5ndGgoKSkpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0U29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcblx0ICAgIHRoaXMuX2luaXQoKTtcblx0fTtcblx0XG5cdFNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLnNldFVud3JhcCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuX3Vud3JhcCA9IHRydWU7XG5cdH07XG5cdFxuXHRTb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5ob3dNYW55ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX2hvd01hbnk7XG5cdH07XG5cdFxuXHRTb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5zZXRIb3dNYW55ID0gZnVuY3Rpb24gKGNvdW50KSB7XG5cdCAgICB0aGlzLl9ob3dNYW55ID0gY291bnQ7XG5cdH07XG5cdFxuXHRTb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZUZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgdGhpcy5fYWRkRnVsZmlsbGVkKHZhbHVlKTtcblx0ICAgIGlmICh0aGlzLl9mdWxmaWxsZWQoKSA9PT0gdGhpcy5ob3dNYW55KCkpIHtcblx0ICAgICAgICB0aGlzLl92YWx1ZXMubGVuZ3RoID0gdGhpcy5ob3dNYW55KCk7XG5cdCAgICAgICAgaWYgKHRoaXMuaG93TWFueSgpID09PSAxICYmIHRoaXMuX3Vud3JhcCkge1xuXHQgICAgICAgICAgICB0aGlzLl9yZXNvbHZlKHRoaXMuX3ZhbHVlc1swXSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSh0aGlzLl92YWx1ZXMpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBmYWxzZTtcblx0XG5cdH07XG5cdFNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9wcm9taXNlUmVqZWN0ZWQgPSBmdW5jdGlvbiAocmVhc29uKSB7XG5cdCAgICB0aGlzLl9hZGRSZWplY3RlZChyZWFzb24pO1xuXHQgICAgcmV0dXJuIHRoaXMuX2NoZWNrT3V0Y29tZSgpO1xuXHR9O1xuXHRcblx0U29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuX3Byb21pc2VDYW5jZWxsZWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAodGhpcy5fdmFsdWVzIGluc3RhbmNlb2YgUHJvbWlzZSB8fCB0aGlzLl92YWx1ZXMgPT0gbnVsbCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9jYW5jZWwoKTtcblx0ICAgIH1cblx0ICAgIHRoaXMuX2FkZFJlamVjdGVkKENBTkNFTExBVElPTik7XG5cdCAgICByZXR1cm4gdGhpcy5fY2hlY2tPdXRjb21lKCk7XG5cdH07XG5cdFxuXHRTb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fY2hlY2tPdXRjb21lID0gZnVuY3Rpb24oKSB7XG5cdCAgICBpZiAodGhpcy5ob3dNYW55KCkgPiB0aGlzLl9jYW5Qb3NzaWJseUZ1bGZpbGwoKSkge1xuXHQgICAgICAgIHZhciBlID0gbmV3IEFnZ3JlZ2F0ZUVycm9yKCk7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMubGVuZ3RoKCk7IGkgPCB0aGlzLl92YWx1ZXMubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICAgICAgaWYgKHRoaXMuX3ZhbHVlc1tpXSAhPT0gQ0FOQ0VMTEFUSU9OKSB7XG5cdCAgICAgICAgICAgICAgICBlLnB1c2godGhpcy5fdmFsdWVzW2ldKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoZS5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX3JlamVjdChlKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB0aGlzLl9jYW5jZWwoKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdH07XG5cdFxuXHRTb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fZnVsZmlsbGVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX3RvdGFsUmVzb2x2ZWQ7XG5cdH07XG5cdFxuXHRTb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcmVqZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fdmFsdWVzLmxlbmd0aCAtIHRoaXMubGVuZ3RoKCk7XG5cdH07XG5cdFxuXHRTb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fYWRkUmVqZWN0ZWQgPSBmdW5jdGlvbiAocmVhc29uKSB7XG5cdCAgICB0aGlzLl92YWx1ZXMucHVzaChyZWFzb24pO1xuXHR9O1xuXHRcblx0U29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuX2FkZEZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgdGhpcy5fdmFsdWVzW3RoaXMuX3RvdGFsUmVzb2x2ZWQrK10gPSB2YWx1ZTtcblx0fTtcblx0XG5cdFNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9jYW5Qb3NzaWJseUZ1bGZpbGwgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5sZW5ndGgoKSAtIHRoaXMuX3JlamVjdGVkKCk7XG5cdH07XG5cdFxuXHRTb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fZ2V0UmFuZ2VFcnJvciA9IGZ1bmN0aW9uIChjb3VudCkge1xuXHQgICAgdmFyIG1lc3NhZ2UgPSBcIklucHV0IGFycmF5IG11c3QgY29udGFpbiBhdCBsZWFzdCBcIiArXG5cdCAgICAgICAgICAgIHRoaXMuX2hvd01hbnkgKyBcIiBpdGVtcyBidXQgY29udGFpbnMgb25seSBcIiArIGNvdW50ICsgXCIgaXRlbXNcIjtcblx0ICAgIHJldHVybiBuZXcgUmFuZ2VFcnJvcihtZXNzYWdlKTtcblx0fTtcblx0XG5cdFNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9yZXNvbHZlRW1wdHlBcnJheSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuX3JlamVjdCh0aGlzLl9nZXRSYW5nZUVycm9yKDApKTtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIHNvbWUocHJvbWlzZXMsIGhvd01hbnkpIHtcblx0ICAgIGlmICgoaG93TWFueSB8IDApICE9PSBob3dNYW55IHx8IGhvd01hbnkgPCAwKSB7XG5cdCAgICAgICAgcmV0dXJuIGFwaVJlamVjdGlvbihcImV4cGVjdGluZyBhIHBvc2l0aXZlIGludGVnZXJcXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuXHQgICAgfVxuXHQgICAgdmFyIHJldCA9IG5ldyBTb21lUHJvbWlzZUFycmF5KHByb21pc2VzKTtcblx0ICAgIHZhciBwcm9taXNlID0gcmV0LnByb21pc2UoKTtcblx0ICAgIHJldC5zZXRIb3dNYW55KGhvd01hbnkpO1xuXHQgICAgcmV0LmluaXQoKTtcblx0ICAgIHJldHVybiBwcm9taXNlO1xuXHR9XG5cdFxuXHRQcm9taXNlLnNvbWUgPSBmdW5jdGlvbiAocHJvbWlzZXMsIGhvd01hbnkpIHtcblx0ICAgIHJldHVybiBzb21lKHByb21pc2VzLCBob3dNYW55KTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLnNvbWUgPSBmdW5jdGlvbiAoaG93TWFueSkge1xuXHQgICAgcmV0dXJuIHNvbWUodGhpcywgaG93TWFueSk7XG5cdH07XG5cdFxuXHRQcm9taXNlLl9Tb21lUHJvbWlzZUFycmF5ID0gU29tZVByb21pc2VBcnJheTtcblx0fTtcblx0XG5cdH0se1wiLi9lcnJvcnNcIjoxMixcIi4vdXRpbFwiOjM2fV0sMzI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlKSB7XG5cdGZ1bmN0aW9uIFByb21pc2VJbnNwZWN0aW9uKHByb21pc2UpIHtcblx0ICAgIGlmIChwcm9taXNlICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICBwcm9taXNlID0gcHJvbWlzZS5fdGFyZ2V0KCk7XG5cdCAgICAgICAgdGhpcy5fYml0RmllbGQgPSBwcm9taXNlLl9iaXRGaWVsZDtcblx0ICAgICAgICB0aGlzLl9zZXR0bGVkVmFsdWVGaWVsZCA9IHByb21pc2UuX2lzRmF0ZVNlYWxlZCgpXG5cdCAgICAgICAgICAgID8gcHJvbWlzZS5fc2V0dGxlZFZhbHVlKCkgOiB1bmRlZmluZWQ7XG5cdCAgICB9XG5cdCAgICBlbHNlIHtcblx0ICAgICAgICB0aGlzLl9iaXRGaWVsZCA9IDA7XG5cdCAgICAgICAgdGhpcy5fc2V0dGxlZFZhbHVlRmllbGQgPSB1bmRlZmluZWQ7XG5cdCAgICB9XG5cdH1cblx0XG5cdFByb21pc2VJbnNwZWN0aW9uLnByb3RvdHlwZS5fc2V0dGxlZFZhbHVlID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fc2V0dGxlZFZhbHVlRmllbGQ7XG5cdH07XG5cdFxuXHR2YXIgdmFsdWUgPSBQcm9taXNlSW5zcGVjdGlvbi5wcm90b3R5cGUudmFsdWUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAoIXRoaXMuaXNGdWxmaWxsZWQoKSkge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJjYW5ub3QgZ2V0IGZ1bGZpbGxtZW50IHZhbHVlIG9mIGEgbm9uLWZ1bGZpbGxlZCBwcm9taXNlXFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB0aGlzLl9zZXR0bGVkVmFsdWUoKTtcblx0fTtcblx0XG5cdHZhciByZWFzb24gPSBQcm9taXNlSW5zcGVjdGlvbi5wcm90b3R5cGUuZXJyb3IgPVxuXHRQcm9taXNlSW5zcGVjdGlvbi5wcm90b3R5cGUucmVhc29uID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKCF0aGlzLmlzUmVqZWN0ZWQoKSkge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJjYW5ub3QgZ2V0IHJlamVjdGlvbiByZWFzb24gb2YgYSBub24tcmVqZWN0ZWQgcHJvbWlzZVxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdGhpcy5fc2V0dGxlZFZhbHVlKCk7XG5cdH07XG5cdFxuXHR2YXIgaXNGdWxmaWxsZWQgPSBQcm9taXNlSW5zcGVjdGlvbi5wcm90b3R5cGUuaXNGdWxmaWxsZWQgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDA7XG5cdH07XG5cdFxuXHR2YXIgaXNSZWplY3RlZCA9IFByb21pc2VJbnNwZWN0aW9uLnByb3RvdHlwZS5pc1JlamVjdGVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDE2Nzc3MjE2KSAhPT0gMDtcblx0fTtcblx0XG5cdHZhciBpc1BlbmRpbmcgPSBQcm9taXNlSW5zcGVjdGlvbi5wcm90b3R5cGUuaXNQZW5kaW5nID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDUwMzk3MTg0KSA9PT0gMDtcblx0fTtcblx0XG5cdHZhciBpc1Jlc29sdmVkID0gUHJvbWlzZUluc3BlY3Rpb24ucHJvdG90eXBlLmlzUmVzb2x2ZWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgNTAzMzE2NDgpICE9PSAwO1xuXHR9O1xuXHRcblx0UHJvbWlzZUluc3BlY3Rpb24ucHJvdG90eXBlLmlzQ2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgODQ1NDE0NCkgIT09IDA7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fX2lzQ2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgNjU1MzYpID09PSA2NTUzNjtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLl9pc0NhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX3RhcmdldCgpLl9faXNDYW5jZWxsZWQoKTtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLmlzQ2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gKHRoaXMuX3RhcmdldCgpLl9iaXRGaWVsZCAmIDg0NTQxNDQpICE9PSAwO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuaXNQZW5kaW5nID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gaXNQZW5kaW5nLmNhbGwodGhpcy5fdGFyZ2V0KCkpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuaXNSZWplY3RlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIGlzUmVqZWN0ZWQuY2FsbCh0aGlzLl90YXJnZXQoKSk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5pc0Z1bGZpbGxlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIGlzRnVsZmlsbGVkLmNhbGwodGhpcy5fdGFyZ2V0KCkpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuaXNSZXNvbHZlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIGlzUmVzb2x2ZWQuY2FsbCh0aGlzLl90YXJnZXQoKSk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS52YWx1ZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIHZhbHVlLmNhbGwodGhpcy5fdGFyZ2V0KCkpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUucmVhc29uID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgdGFyZ2V0ID0gdGhpcy5fdGFyZ2V0KCk7XG5cdCAgICB0YXJnZXQuX3Vuc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQoKTtcblx0ICAgIHJldHVybiByZWFzb24uY2FsbCh0YXJnZXQpO1xuXHR9O1xuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUuX3ZhbHVlID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fc2V0dGxlZFZhbHVlKCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLnByb3RvdHlwZS5fcmVhc29uID0gZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLl91bnNldFJlamVjdGlvbklzVW5oYW5kbGVkKCk7XG5cdCAgICByZXR1cm4gdGhpcy5fc2V0dGxlZFZhbHVlKCk7XG5cdH07XG5cdFxuXHRQcm9taXNlLlByb21pc2VJbnNwZWN0aW9uID0gUHJvbWlzZUluc3BlY3Rpb247XG5cdH07XG5cdFxuXHR9LHt9XSwzMzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIElOVEVSTkFMKSB7XG5cdHZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcblx0dmFyIGVycm9yT2JqID0gdXRpbC5lcnJvck9iajtcblx0dmFyIGlzT2JqZWN0ID0gdXRpbC5pc09iamVjdDtcblx0XG5cdGZ1bmN0aW9uIHRyeUNvbnZlcnRUb1Byb21pc2Uob2JqLCBjb250ZXh0KSB7XG5cdCAgICBpZiAoaXNPYmplY3Qob2JqKSkge1xuXHQgICAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBQcm9taXNlKSByZXR1cm4gb2JqO1xuXHQgICAgICAgIHZhciB0aGVuID0gZ2V0VGhlbihvYmopO1xuXHQgICAgICAgIGlmICh0aGVuID09PSBlcnJvck9iaikge1xuXHQgICAgICAgICAgICBpZiAoY29udGV4dCkgY29udGV4dC5fcHVzaENvbnRleHQoKTtcblx0ICAgICAgICAgICAgdmFyIHJldCA9IFByb21pc2UucmVqZWN0KHRoZW4uZSk7XG5cdCAgICAgICAgICAgIGlmIChjb250ZXh0KSBjb250ZXh0Ll9wb3BDb250ZXh0KCk7XG5cdCAgICAgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhlbiA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgIGlmIChpc0FueUJsdWViaXJkUHJvbWlzZShvYmopKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuXHQgICAgICAgICAgICAgICAgb2JqLl90aGVuKFxuXHQgICAgICAgICAgICAgICAgICAgIHJldC5fZnVsZmlsbCxcblx0ICAgICAgICAgICAgICAgICAgICByZXQuX3JlamVjdCxcblx0ICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG5cdCAgICAgICAgICAgICAgICAgICAgcmV0LFxuXHQgICAgICAgICAgICAgICAgICAgIG51bGxcblx0ICAgICAgICAgICAgICAgICk7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBkb1RoZW5hYmxlKG9iaiwgdGhlbiwgY29udGV4dCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIG9iajtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZG9HZXRUaGVuKG9iaikge1xuXHQgICAgcmV0dXJuIG9iai50aGVuO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRUaGVuKG9iaikge1xuXHQgICAgdHJ5IHtcblx0ICAgICAgICByZXR1cm4gZG9HZXRUaGVuKG9iaik7XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgZXJyb3JPYmouZSA9IGU7XG5cdCAgICAgICAgcmV0dXJuIGVycm9yT2JqO1xuXHQgICAgfVxuXHR9XG5cdFxuXHR2YXIgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXHRmdW5jdGlvbiBpc0FueUJsdWViaXJkUHJvbWlzZShvYmopIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgICAgcmV0dXJuIGhhc1Byb3AuY2FsbChvYmosIFwiX3Byb21pc2UwXCIpO1xuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZG9UaGVuYWJsZSh4LCB0aGVuLCBjb250ZXh0KSB7XG5cdCAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcblx0ICAgIHZhciByZXQgPSBwcm9taXNlO1xuXHQgICAgaWYgKGNvbnRleHQpIGNvbnRleHQuX3B1c2hDb250ZXh0KCk7XG5cdCAgICBwcm9taXNlLl9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuXHQgICAgaWYgKGNvbnRleHQpIGNvbnRleHQuX3BvcENvbnRleHQoKTtcblx0ICAgIHZhciBzeW5jaHJvbm91cyA9IHRydWU7XG5cdCAgICB2YXIgcmVzdWx0ID0gdXRpbC50cnlDYXRjaCh0aGVuKS5jYWxsKHgsIHJlc29sdmUsIHJlamVjdCk7XG5cdCAgICBzeW5jaHJvbm91cyA9IGZhbHNlO1xuXHRcblx0ICAgIGlmIChwcm9taXNlICYmIHJlc3VsdCA9PT0gZXJyb3JPYmopIHtcblx0ICAgICAgICBwcm9taXNlLl9yZWplY3RDYWxsYmFjayhyZXN1bHQuZSwgdHJ1ZSwgdHJ1ZSk7XG5cdCAgICAgICAgcHJvbWlzZSA9IG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gcmVzb2x2ZSh2YWx1ZSkge1xuXHQgICAgICAgIGlmICghcHJvbWlzZSkgcmV0dXJuO1xuXHQgICAgICAgIHByb21pc2UuX3Jlc29sdmVDYWxsYmFjayh2YWx1ZSk7XG5cdCAgICAgICAgcHJvbWlzZSA9IG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gcmVqZWN0KHJlYXNvbikge1xuXHQgICAgICAgIGlmICghcHJvbWlzZSkgcmV0dXJuO1xuXHQgICAgICAgIHByb21pc2UuX3JlamVjdENhbGxiYWNrKHJlYXNvbiwgc3luY2hyb25vdXMsIHRydWUpO1xuXHQgICAgICAgIHByb21pc2UgPSBudWxsO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJldDtcblx0fVxuXHRcblx0cmV0dXJuIHRyeUNvbnZlcnRUb1Byb21pc2U7XG5cdH07XG5cdFxuXHR9LHtcIi4vdXRpbFwiOjM2fV0sMzQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLCBJTlRFUk5BTCwgZGVidWcpIHtcblx0dmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXHR2YXIgVGltZW91dEVycm9yID0gUHJvbWlzZS5UaW1lb3V0RXJyb3I7XG5cdFxuXHRmdW5jdGlvbiBIYW5kbGVXcmFwcGVyKGhhbmRsZSkgIHtcblx0ICAgIHRoaXMuaGFuZGxlID0gaGFuZGxlO1xuXHR9XG5cdFxuXHRIYW5kbGVXcmFwcGVyLnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICBjbGVhclRpbWVvdXQodGhpcy5oYW5kbGUpO1xuXHR9O1xuXHRcblx0dmFyIGFmdGVyVmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gZGVsYXkoK3RoaXMpLnRoZW5SZXR1cm4odmFsdWUpOyB9O1xuXHR2YXIgZGVsYXkgPSBQcm9taXNlLmRlbGF5ID0gZnVuY3Rpb24gKG1zLCB2YWx1ZSkge1xuXHQgICAgdmFyIHJldDtcblx0ICAgIHZhciBoYW5kbGU7XG5cdCAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHJldCA9IFByb21pc2UucmVzb2x2ZSh2YWx1ZSlcblx0ICAgICAgICAgICAgICAgIC5fdGhlbihhZnRlclZhbHVlLCBudWxsLCBudWxsLCBtcywgdW5kZWZpbmVkKTtcblx0ICAgICAgICBpZiAoZGVidWcuY2FuY2VsbGF0aW9uKCkgJiYgdmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG5cdCAgICAgICAgICAgIHJldC5fc2V0T25DYW5jZWwodmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuXHQgICAgICAgIGhhbmRsZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IHJldC5fZnVsZmlsbCgpOyB9LCArbXMpO1xuXHQgICAgICAgIGlmIChkZWJ1Zy5jYW5jZWxsYXRpb24oKSkge1xuXHQgICAgICAgICAgICByZXQuX3NldE9uQ2FuY2VsKG5ldyBIYW5kbGVXcmFwcGVyKGhhbmRsZSkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXQuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG5cdCAgICB9XG5cdCAgICByZXQuX3NldEFzeW5jR3VhcmFudGVlZCgpO1xuXHQgICAgcmV0dXJuIHJldDtcblx0fTtcblx0XG5cdFByb21pc2UucHJvdG90eXBlLmRlbGF5ID0gZnVuY3Rpb24gKG1zKSB7XG5cdCAgICByZXR1cm4gZGVsYXkobXMsIHRoaXMpO1xuXHR9O1xuXHRcblx0dmFyIGFmdGVyVGltZW91dCA9IGZ1bmN0aW9uIChwcm9taXNlLCBtZXNzYWdlLCBwYXJlbnQpIHtcblx0ICAgIHZhciBlcnI7XG5cdCAgICBpZiAodHlwZW9mIG1lc3NhZ2UgIT09IFwic3RyaW5nXCIpIHtcblx0ICAgICAgICBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdCAgICAgICAgICAgIGVyciA9IG1lc3NhZ2U7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgZXJyID0gbmV3IFRpbWVvdXRFcnJvcihcIm9wZXJhdGlvbiB0aW1lZCBvdXRcIik7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBlcnIgPSBuZXcgVGltZW91dEVycm9yKG1lc3NhZ2UpO1xuXHQgICAgfVxuXHQgICAgdXRpbC5tYXJrQXNPcmlnaW5hdGluZ0Zyb21SZWplY3Rpb24oZXJyKTtcblx0ICAgIHByb21pc2UuX2F0dGFjaEV4dHJhVHJhY2UoZXJyKTtcblx0ICAgIHByb21pc2UuX3JlamVjdChlcnIpO1xuXHRcblx0ICAgIGlmIChwYXJlbnQgIT0gbnVsbCkge1xuXHQgICAgICAgIHBhcmVudC5jYW5jZWwoKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdGZ1bmN0aW9uIHN1Y2Nlc3NDbGVhcih2YWx1ZSkge1xuXHQgICAgY2xlYXJUaW1lb3V0KHRoaXMuaGFuZGxlKTtcblx0ICAgIHJldHVybiB2YWx1ZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZmFpbHVyZUNsZWFyKHJlYXNvbikge1xuXHQgICAgY2xlYXJUaW1lb3V0KHRoaXMuaGFuZGxlKTtcblx0ICAgIHRocm93IHJlYXNvbjtcblx0fVxuXHRcblx0UHJvbWlzZS5wcm90b3R5cGUudGltZW91dCA9IGZ1bmN0aW9uIChtcywgbWVzc2FnZSkge1xuXHQgICAgbXMgPSArbXM7XG5cdCAgICB2YXIgcmV0LCBwYXJlbnQ7XG5cdFxuXHQgICAgdmFyIGhhbmRsZVdyYXBwZXIgPSBuZXcgSGFuZGxlV3JhcHBlcihzZXRUaW1lb3V0KGZ1bmN0aW9uIHRpbWVvdXRUaW1lb3V0KCkge1xuXHQgICAgICAgIGlmIChyZXQuaXNQZW5kaW5nKCkpIHtcblx0ICAgICAgICAgICAgYWZ0ZXJUaW1lb3V0KHJldCwgbWVzc2FnZSwgcGFyZW50KTtcblx0ICAgICAgICB9XG5cdCAgICB9LCBtcykpO1xuXHRcblx0ICAgIGlmIChkZWJ1Zy5jYW5jZWxsYXRpb24oKSkge1xuXHQgICAgICAgIHBhcmVudCA9IHRoaXMudGhlbigpO1xuXHQgICAgICAgIHJldCA9IHBhcmVudC5fdGhlbihzdWNjZXNzQ2xlYXIsIGZhaWx1cmVDbGVhcixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCwgaGFuZGxlV3JhcHBlciwgdW5kZWZpbmVkKTtcblx0ICAgICAgICByZXQuX3NldE9uQ2FuY2VsKGhhbmRsZVdyYXBwZXIpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXQgPSB0aGlzLl90aGVuKHN1Y2Nlc3NDbGVhciwgZmFpbHVyZUNsZWFyLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLCBoYW5kbGVXcmFwcGVyLCB1bmRlZmluZWQpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiByZXQ7XG5cdH07XG5cdFxuXHR9O1xuXHRcblx0fSx7XCIuL3V0aWxcIjozNn1dLDM1OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFByb21pc2UsIGFwaVJlamVjdGlvbiwgdHJ5Q29udmVydFRvUHJvbWlzZSxcblx0ICAgIGNyZWF0ZUNvbnRleHQsIElOVEVSTkFMLCBkZWJ1Zykge1xuXHQgICAgdmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXHQgICAgdmFyIFR5cGVFcnJvciA9IF9kZXJlcV8oXCIuL2Vycm9yc1wiKS5UeXBlRXJyb3I7XG5cdCAgICB2YXIgaW5oZXJpdHMgPSBfZGVyZXFfKFwiLi91dGlsXCIpLmluaGVyaXRzO1xuXHQgICAgdmFyIGVycm9yT2JqID0gdXRpbC5lcnJvck9iajtcblx0ICAgIHZhciB0cnlDYXRjaCA9IHV0aWwudHJ5Q2F0Y2g7XG5cdCAgICB2YXIgTlVMTCA9IHt9O1xuXHRcblx0ICAgIGZ1bmN0aW9uIHRocm93ZXIoZSkge1xuXHQgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyBlO30sIDApO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIGNhc3RQcmVzZXJ2aW5nRGlzcG9zYWJsZSh0aGVuYWJsZSkge1xuXHQgICAgICAgIHZhciBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHRoZW5hYmxlKTtcblx0ICAgICAgICBpZiAobWF5YmVQcm9taXNlICE9PSB0aGVuYWJsZSAmJlxuXHQgICAgICAgICAgICB0eXBlb2YgdGhlbmFibGUuX2lzRGlzcG9zYWJsZSA9PT0gXCJmdW5jdGlvblwiICYmXG5cdCAgICAgICAgICAgIHR5cGVvZiB0aGVuYWJsZS5fZ2V0RGlzcG9zZXIgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHQgICAgICAgICAgICB0aGVuYWJsZS5faXNEaXNwb3NhYmxlKCkpIHtcblx0ICAgICAgICAgICAgbWF5YmVQcm9taXNlLl9zZXREaXNwb3NhYmxlKHRoZW5hYmxlLl9nZXREaXNwb3NlcigpKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIG1heWJlUHJvbWlzZTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGRpc3Bvc2UocmVzb3VyY2VzLCBpbnNwZWN0aW9uKSB7XG5cdCAgICAgICAgdmFyIGkgPSAwO1xuXHQgICAgICAgIHZhciBsZW4gPSByZXNvdXJjZXMubGVuZ3RoO1xuXHQgICAgICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG5cdCAgICAgICAgZnVuY3Rpb24gaXRlcmF0b3IoKSB7XG5cdCAgICAgICAgICAgIGlmIChpID49IGxlbikgcmV0dXJuIHJldC5fZnVsZmlsbCgpO1xuXHQgICAgICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gY2FzdFByZXNlcnZpbmdEaXNwb3NhYmxlKHJlc291cmNlc1tpKytdKTtcblx0ICAgICAgICAgICAgaWYgKG1heWJlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UgJiZcblx0ICAgICAgICAgICAgICAgIG1heWJlUHJvbWlzZS5faXNEaXNwb3NhYmxlKCkpIHtcblx0ICAgICAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlID0gdHJ5Q29udmVydFRvUHJvbWlzZShcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlLl9nZXREaXNwb3NlcigpLnRyeURpc3Bvc2UoaW5zcGVjdGlvbiksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlcy5wcm9taXNlKTtcblx0ICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhyb3dlcihlKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGlmIChtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1heWJlUHJvbWlzZS5fdGhlbihpdGVyYXRvciwgdGhyb3dlcixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsIG51bGwsIG51bGwpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGl0ZXJhdG9yKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGl0ZXJhdG9yKCk7XG5cdCAgICAgICAgcmV0dXJuIHJldDtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiBEaXNwb3NlcihkYXRhLCBwcm9taXNlLCBjb250ZXh0KSB7XG5cdCAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XG5cdCAgICAgICAgdGhpcy5fcHJvbWlzZSA9IHByb21pc2U7XG5cdCAgICAgICAgdGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgRGlzcG9zZXIucHJvdG90eXBlLmRhdGEgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGE7XG5cdCAgICB9O1xuXHRcblx0ICAgIERpc3Bvc2VyLnByb3RvdHlwZS5wcm9taXNlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9wcm9taXNlO1xuXHQgICAgfTtcblx0XG5cdCAgICBEaXNwb3Nlci5wcm90b3R5cGUucmVzb3VyY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgaWYgKHRoaXMucHJvbWlzZSgpLmlzRnVsZmlsbGVkKCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZSgpLnZhbHVlKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBOVUxMO1xuXHQgICAgfTtcblx0XG5cdCAgICBEaXNwb3Nlci5wcm90b3R5cGUudHJ5RGlzcG9zZSA9IGZ1bmN0aW9uKGluc3BlY3Rpb24pIHtcblx0ICAgICAgICB2YXIgcmVzb3VyY2UgPSB0aGlzLnJlc291cmNlKCk7XG5cdCAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLl9jb250ZXh0O1xuXHQgICAgICAgIGlmIChjb250ZXh0ICE9PSB1bmRlZmluZWQpIGNvbnRleHQuX3B1c2hDb250ZXh0KCk7XG5cdCAgICAgICAgdmFyIHJldCA9IHJlc291cmNlICE9PSBOVUxMXG5cdCAgICAgICAgICAgID8gdGhpcy5kb0Rpc3Bvc2UocmVzb3VyY2UsIGluc3BlY3Rpb24pIDogbnVsbDtcblx0ICAgICAgICBpZiAoY29udGV4dCAhPT0gdW5kZWZpbmVkKSBjb250ZXh0Ll9wb3BDb250ZXh0KCk7XG5cdCAgICAgICAgdGhpcy5fcHJvbWlzZS5fdW5zZXREaXNwb3NhYmxlKCk7XG5cdCAgICAgICAgdGhpcy5fZGF0YSA9IG51bGw7XG5cdCAgICAgICAgcmV0dXJuIHJldDtcblx0ICAgIH07XG5cdFxuXHQgICAgRGlzcG9zZXIuaXNEaXNwb3NlciA9IGZ1bmN0aW9uIChkKSB7XG5cdCAgICAgICAgcmV0dXJuIChkICE9IG51bGwgJiZcblx0ICAgICAgICAgICAgICAgIHR5cGVvZiBkLnJlc291cmNlID09PSBcImZ1bmN0aW9uXCIgJiZcblx0ICAgICAgICAgICAgICAgIHR5cGVvZiBkLnRyeURpc3Bvc2UgPT09IFwiZnVuY3Rpb25cIik7XG5cdCAgICB9O1xuXHRcblx0ICAgIGZ1bmN0aW9uIEZ1bmN0aW9uRGlzcG9zZXIoZm4sIHByb21pc2UsIGNvbnRleHQpIHtcblx0ICAgICAgICB0aGlzLmNvbnN0cnVjdG9yJChmbiwgcHJvbWlzZSwgY29udGV4dCk7XG5cdCAgICB9XG5cdCAgICBpbmhlcml0cyhGdW5jdGlvbkRpc3Bvc2VyLCBEaXNwb3Nlcik7XG5cdFxuXHQgICAgRnVuY3Rpb25EaXNwb3Nlci5wcm90b3R5cGUuZG9EaXNwb3NlID0gZnVuY3Rpb24gKHJlc291cmNlLCBpbnNwZWN0aW9uKSB7XG5cdCAgICAgICAgdmFyIGZuID0gdGhpcy5kYXRhKCk7XG5cdCAgICAgICAgcmV0dXJuIGZuLmNhbGwocmVzb3VyY2UsIHJlc291cmNlLCBpbnNwZWN0aW9uKTtcblx0ICAgIH07XG5cdFxuXHQgICAgZnVuY3Rpb24gbWF5YmVVbndyYXBEaXNwb3Nlcih2YWx1ZSkge1xuXHQgICAgICAgIGlmIChEaXNwb3Nlci5pc0Rpc3Bvc2VyKHZhbHVlKSkge1xuXHQgICAgICAgICAgICB0aGlzLnJlc291cmNlc1t0aGlzLmluZGV4XS5fc2V0RGlzcG9zYWJsZSh2YWx1ZSk7XG5cdCAgICAgICAgICAgIHJldHVybiB2YWx1ZS5wcm9taXNlKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB2YWx1ZTtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiBSZXNvdXJjZUxpc3QobGVuZ3RoKSB7XG5cdCAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG5cdCAgICAgICAgdGhpcy5wcm9taXNlID0gbnVsbDtcblx0ICAgICAgICB0aGlzW2xlbmd0aC0xXSA9IG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgUmVzb3VyY2VMaXN0LnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcblx0ICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzW2ldO1xuXHQgICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFByb21pc2UpIHtcblx0ICAgICAgICAgICAgICAgIGl0ZW0uY2FuY2VsKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIFByb21pc2UudXNpbmcgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cdCAgICAgICAgaWYgKGxlbiA8IDIpIHJldHVybiBhcGlSZWplY3Rpb24oXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIFwieW91IG11c3QgcGFzcyBhdCBsZWFzdCAyIGFyZ3VtZW50cyB0byBQcm9taXNlLnVzaW5nXCIpO1xuXHQgICAgICAgIHZhciBmbiA9IGFyZ3VtZW50c1tsZW4gLSAxXTtcblx0ICAgICAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGFwaVJlamVjdGlvbihcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKGZuKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBpbnB1dDtcblx0ICAgICAgICB2YXIgc3ByZWFkQXJncyA9IHRydWU7XG5cdCAgICAgICAgaWYgKGxlbiA9PT0gMiAmJiBBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSkpIHtcblx0ICAgICAgICAgICAgaW5wdXQgPSBhcmd1bWVudHNbMF07XG5cdCAgICAgICAgICAgIGxlbiA9IGlucHV0Lmxlbmd0aDtcblx0ICAgICAgICAgICAgc3ByZWFkQXJncyA9IGZhbHNlO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGlucHV0ID0gYXJndW1lbnRzO1xuXHQgICAgICAgICAgICBsZW4tLTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIHJlc291cmNlcyA9IG5ldyBSZXNvdXJjZUxpc3QobGVuKTtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG5cdCAgICAgICAgICAgIHZhciByZXNvdXJjZSA9IGlucHV0W2ldO1xuXHQgICAgICAgICAgICBpZiAoRGlzcG9zZXIuaXNEaXNwb3NlcihyZXNvdXJjZSkpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBkaXNwb3NlciA9IHJlc291cmNlO1xuXHQgICAgICAgICAgICAgICAgcmVzb3VyY2UgPSByZXNvdXJjZS5wcm9taXNlKCk7XG5cdCAgICAgICAgICAgICAgICByZXNvdXJjZS5fc2V0RGlzcG9zYWJsZShkaXNwb3Nlcik7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gdHJ5Q29udmVydFRvUHJvbWlzZShyZXNvdXJjZSk7XG5cdCAgICAgICAgICAgICAgICBpZiAobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJlc291cmNlID1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlLl90aGVuKG1heWJlVW53cmFwRGlzcG9zZXIsIG51bGwsIG51bGwsIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlczogcmVzb3VyY2VzLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGlcblx0ICAgICAgICAgICAgICAgICAgICB9LCB1bmRlZmluZWQpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJlc291cmNlc1tpXSA9IHJlc291cmNlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIHJlZmxlY3RlZFJlc291cmNlcyA9IG5ldyBBcnJheShyZXNvdXJjZXMubGVuZ3RoKTtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlZmxlY3RlZFJlc291cmNlcy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgICAgICByZWZsZWN0ZWRSZXNvdXJjZXNbaV0gPSBQcm9taXNlLnJlc29sdmUocmVzb3VyY2VzW2ldKS5yZWZsZWN0KCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgcmVzdWx0UHJvbWlzZSA9IFByb21pc2UuYWxsKHJlZmxlY3RlZFJlc291cmNlcylcblx0ICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oaW5zcGVjdGlvbnMpIHtcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5zcGVjdGlvbnMubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgaW5zcGVjdGlvbiA9IGluc3BlY3Rpb25zW2ldO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChpbnNwZWN0aW9uLmlzUmVqZWN0ZWQoKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBlcnJvck9iai5lID0gaW5zcGVjdGlvbi5lcnJvcigpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3JPYmo7XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghaW5zcGVjdGlvbi5pc0Z1bGZpbGxlZCgpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFByb21pc2UuY2FuY2VsKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgaW5zcGVjdGlvbnNbaV0gPSBpbnNwZWN0aW9uLnZhbHVlKCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBwcm9taXNlLl9wdXNoQ29udGV4dCgpO1xuXHRcblx0ICAgICAgICAgICAgICAgIGZuID0gdHJ5Q2F0Y2goZm4pO1xuXHQgICAgICAgICAgICAgICAgdmFyIHJldCA9IHNwcmVhZEFyZ3Ncblx0ICAgICAgICAgICAgICAgICAgICA/IGZuLmFwcGx5KHVuZGVmaW5lZCwgaW5zcGVjdGlvbnMpIDogZm4oaW5zcGVjdGlvbnMpO1xuXHQgICAgICAgICAgICAgICAgdmFyIHByb21pc2VDcmVhdGVkID0gcHJvbWlzZS5fcG9wQ29udGV4dCgpO1xuXHQgICAgICAgICAgICAgICAgZGVidWcuY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zKFxuXHQgICAgICAgICAgICAgICAgICAgIHJldCwgcHJvbWlzZUNyZWF0ZWQsIFwiUHJvbWlzZS51c2luZ1wiLCBwcm9taXNlKTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICAgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHJlc3VsdFByb21pc2UubGFzdGx5KGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICB2YXIgaW5zcGVjdGlvbiA9IG5ldyBQcm9taXNlLlByb21pc2VJbnNwZWN0aW9uKHJlc3VsdFByb21pc2UpO1xuXHQgICAgICAgICAgICByZXR1cm4gZGlzcG9zZShyZXNvdXJjZXMsIGluc3BlY3Rpb24pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHJlc291cmNlcy5wcm9taXNlID0gcHJvbWlzZTtcblx0ICAgICAgICBwcm9taXNlLl9zZXRPbkNhbmNlbChyZXNvdXJjZXMpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfTtcblx0XG5cdCAgICBQcm9taXNlLnByb3RvdHlwZS5fc2V0RGlzcG9zYWJsZSA9IGZ1bmN0aW9uIChkaXNwb3Nlcikge1xuXHQgICAgICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCAxMzEwNzI7XG5cdCAgICAgICAgdGhpcy5fZGlzcG9zZXIgPSBkaXNwb3Nlcjtcblx0ICAgIH07XG5cdFxuXHQgICAgUHJvbWlzZS5wcm90b3R5cGUuX2lzRGlzcG9zYWJsZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgMTMxMDcyKSA+IDA7XG5cdCAgICB9O1xuXHRcblx0ICAgIFByb21pc2UucHJvdG90eXBlLl9nZXREaXNwb3NlciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fZGlzcG9zZXI7XG5cdCAgICB9O1xuXHRcblx0ICAgIFByb21pc2UucHJvdG90eXBlLl91bnNldERpc3Bvc2FibGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCAmICh+MTMxMDcyKTtcblx0ICAgICAgICB0aGlzLl9kaXNwb3NlciA9IHVuZGVmaW5lZDtcblx0ICAgIH07XG5cdFxuXHQgICAgUHJvbWlzZS5wcm90b3R5cGUuZGlzcG9zZXIgPSBmdW5jdGlvbiAoZm4pIHtcblx0ICAgICAgICBpZiAodHlwZW9mIGZuID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbkRpc3Bvc2VyKGZuLCB0aGlzLCBjcmVhdGVDb250ZXh0KCkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG5cdCAgICB9O1xuXHRcblx0fTtcblx0XG5cdH0se1wiLi9lcnJvcnNcIjoxMixcIi4vdXRpbFwiOjM2fV0sMzY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIGVzNSA9IF9kZXJlcV8oXCIuL2VzNVwiKTtcblx0dmFyIGNhbkV2YWx1YXRlID0gdHlwZW9mIG5hdmlnYXRvciA9PSBcInVuZGVmaW5lZFwiO1xuXHRcblx0dmFyIGVycm9yT2JqID0ge2U6IHt9fTtcblx0dmFyIHRyeUNhdGNoVGFyZ2V0O1xuXHR2YXIgZ2xvYmFsT2JqZWN0ID0gdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDpcblx0ICAgIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOlxuXHQgICAgdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6XG5cdCAgICB0aGlzICE9PSB1bmRlZmluZWQgPyB0aGlzIDogbnVsbDtcblx0XG5cdGZ1bmN0aW9uIHRyeUNhdGNoZXIoKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICAgIHZhciB0YXJnZXQgPSB0cnlDYXRjaFRhcmdldDtcblx0ICAgICAgICB0cnlDYXRjaFRhcmdldCA9IG51bGw7XG5cdCAgICAgICAgcmV0dXJuIHRhcmdldC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIGVycm9yT2JqLmUgPSBlO1xuXHQgICAgICAgIHJldHVybiBlcnJvck9iajtcblx0ICAgIH1cblx0fVxuXHRmdW5jdGlvbiB0cnlDYXRjaChmbikge1xuXHQgICAgdHJ5Q2F0Y2hUYXJnZXQgPSBmbjtcblx0ICAgIHJldHVybiB0cnlDYXRjaGVyO1xuXHR9XG5cdFxuXHR2YXIgaW5oZXJpdHMgPSBmdW5jdGlvbihDaGlsZCwgUGFyZW50KSB7XG5cdCAgICB2YXIgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXHRcblx0ICAgIGZ1bmN0aW9uIFQoKSB7XG5cdCAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IENoaWxkO1xuXHQgICAgICAgIHRoaXMuY29uc3RydWN0b3IkID0gUGFyZW50O1xuXHQgICAgICAgIGZvciAodmFyIHByb3BlcnR5TmFtZSBpbiBQYXJlbnQucHJvdG90eXBlKSB7XG5cdCAgICAgICAgICAgIGlmIChoYXNQcm9wLmNhbGwoUGFyZW50LnByb3RvdHlwZSwgcHJvcGVydHlOYW1lKSAmJlxuXHQgICAgICAgICAgICAgICAgcHJvcGVydHlOYW1lLmNoYXJBdChwcm9wZXJ0eU5hbWUubGVuZ3RoLTEpICE9PSBcIiRcIlxuXHQgICAgICAgICAgICkge1xuXHQgICAgICAgICAgICAgICAgdGhpc1twcm9wZXJ0eU5hbWUgKyBcIiRcIl0gPSBQYXJlbnQucHJvdG90eXBlW3Byb3BlcnR5TmFtZV07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBULnByb3RvdHlwZSA9IFBhcmVudC5wcm90b3R5cGU7XG5cdCAgICBDaGlsZC5wcm90b3R5cGUgPSBuZXcgVCgpO1xuXHQgICAgcmV0dXJuIENoaWxkLnByb3RvdHlwZTtcblx0fTtcblx0XG5cdFxuXHRmdW5jdGlvbiBpc1ByaW1pdGl2ZSh2YWwpIHtcblx0ICAgIHJldHVybiB2YWwgPT0gbnVsbCB8fCB2YWwgPT09IHRydWUgfHwgdmFsID09PSBmYWxzZSB8fFxuXHQgICAgICAgIHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIjtcblx0XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG5cdCAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIgfHxcblx0ICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGw7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1heWJlV3JhcEFzRXJyb3IobWF5YmVFcnJvcikge1xuXHQgICAgaWYgKCFpc1ByaW1pdGl2ZShtYXliZUVycm9yKSkgcmV0dXJuIG1heWJlRXJyb3I7XG5cdFxuXHQgICAgcmV0dXJuIG5ldyBFcnJvcihzYWZlVG9TdHJpbmcobWF5YmVFcnJvcikpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB3aXRoQXBwZW5kZWQodGFyZ2V0LCBhcHBlbmRlZSkge1xuXHQgICAgdmFyIGxlbiA9IHRhcmdldC5sZW5ndGg7XG5cdCAgICB2YXIgcmV0ID0gbmV3IEFycmF5KGxlbiArIDEpO1xuXHQgICAgdmFyIGk7XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcblx0ICAgICAgICByZXRbaV0gPSB0YXJnZXRbaV07XG5cdCAgICB9XG5cdCAgICByZXRbaV0gPSBhcHBlbmRlZTtcblx0ICAgIHJldHVybiByZXQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldERhdGFQcm9wZXJ0eU9yRGVmYXVsdChvYmosIGtleSwgZGVmYXVsdFZhbHVlKSB7XG5cdCAgICBpZiAoZXM1LmlzRVM1KSB7XG5cdCAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KTtcblx0XG5cdCAgICAgICAgaWYgKGRlc2MgIT0gbnVsbCkge1xuXHQgICAgICAgICAgICByZXR1cm4gZGVzYy5nZXQgPT0gbnVsbCAmJiBkZXNjLnNldCA9PSBudWxsXG5cdCAgICAgICAgICAgICAgICAgICAgPyBkZXNjLnZhbHVlXG5cdCAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0VmFsdWU7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4ge30uaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkgPyBvYmpba2V5XSA6IHVuZGVmaW5lZDtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gbm90RW51bWVyYWJsZVByb3Aob2JqLCBuYW1lLCB2YWx1ZSkge1xuXHQgICAgaWYgKGlzUHJpbWl0aXZlKG9iaikpIHJldHVybiBvYmo7XG5cdCAgICB2YXIgZGVzY3JpcHRvciA9IHtcblx0ICAgICAgICB2YWx1ZTogdmFsdWUsXG5cdCAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuXHQgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuXHQgICAgICAgIHdyaXRhYmxlOiB0cnVlXG5cdCAgICB9O1xuXHQgICAgZXM1LmRlZmluZVByb3BlcnR5KG9iaiwgbmFtZSwgZGVzY3JpcHRvcik7XG5cdCAgICByZXR1cm4gb2JqO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB0aHJvd2VyKHIpIHtcblx0ICAgIHRocm93IHI7XG5cdH1cblx0XG5cdHZhciBpbmhlcml0ZWREYXRhS2V5cyA9IChmdW5jdGlvbigpIHtcblx0ICAgIHZhciBleGNsdWRlZFByb3RvdHlwZXMgPSBbXG5cdCAgICAgICAgQXJyYXkucHJvdG90eXBlLFxuXHQgICAgICAgIE9iamVjdC5wcm90b3R5cGUsXG5cdCAgICAgICAgRnVuY3Rpb24ucHJvdG90eXBlXG5cdCAgICBdO1xuXHRcblx0ICAgIHZhciBpc0V4Y2x1ZGVkUHJvdG8gPSBmdW5jdGlvbih2YWwpIHtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4Y2x1ZGVkUHJvdG90eXBlcy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgICAgICBpZiAoZXhjbHVkZWRQcm90b3R5cGVzW2ldID09PSB2YWwpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH07XG5cdFxuXHQgICAgaWYgKGVzNS5pc0VTNSkge1xuXHQgICAgICAgIHZhciBnZXRLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuXHQgICAgICAgICAgICB2YXIgcmV0ID0gW107XG5cdCAgICAgICAgICAgIHZhciB2aXNpdGVkS2V5cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdCAgICAgICAgICAgIHdoaWxlIChvYmogIT0gbnVsbCAmJiAhaXNFeGNsdWRlZFByb3RvKG9iaikpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBrZXlzO1xuXHQgICAgICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgICAgICBrZXlzID0gZ2V0S2V5cyhvYmopO1xuXHQgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAodmlzaXRlZEtleXNba2V5XSkgY29udGludWU7XG5cdCAgICAgICAgICAgICAgICAgICAgdmlzaXRlZEtleXNba2V5XSA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KTtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoZGVzYyAhPSBudWxsICYmIGRlc2MuZ2V0ID09IG51bGwgJiYgZGVzYy5zZXQgPT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXQucHVzaChrZXkpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIG9iaiA9IGVzNS5nZXRQcm90b3R5cGVPZihvYmopO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICAgICAgfTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgICAgICAgIGlmIChpc0V4Y2x1ZGVkUHJvdG8ob2JqKSkgcmV0dXJuIFtdO1xuXHQgICAgICAgICAgICB2YXIgcmV0ID0gW107XG5cdFxuXHQgICAgICAgICAgICAvKmpzaGludCBmb3JpbjpmYWxzZSAqL1xuXHQgICAgICAgICAgICBlbnVtZXJhdGlvbjogZm9yICh2YXIga2V5IGluIG9iaikge1xuXHQgICAgICAgICAgICAgICAgaWYgKGhhc1Byb3AuY2FsbChvYmosIGtleSkpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXQucHVzaChrZXkpO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4Y2x1ZGVkUHJvdG90eXBlcy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzUHJvcC5jYWxsKGV4Y2x1ZGVkUHJvdG90eXBlc1tpXSwga2V5KSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgZW51bWVyYXRpb247XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2goa2V5KTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdFxuXHR9KSgpO1xuXHRcblx0dmFyIHRoaXNBc3NpZ25tZW50UGF0dGVybiA9IC90aGlzXFxzKlxcLlxccypcXFMrXFxzKj0vO1xuXHRmdW5jdGlvbiBpc0NsYXNzKGZuKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGlmICh0eXBlb2YgZm4gPT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgICAgICB2YXIga2V5cyA9IGVzNS5uYW1lcyhmbi5wcm90b3R5cGUpO1xuXHRcblx0ICAgICAgICAgICAgdmFyIGhhc01ldGhvZHMgPSBlczUuaXNFUzUgJiYga2V5cy5sZW5ndGggPiAxO1xuXHQgICAgICAgICAgICB2YXIgaGFzTWV0aG9kc090aGVyVGhhbkNvbnN0cnVjdG9yID0ga2V5cy5sZW5ndGggPiAwICYmXG5cdCAgICAgICAgICAgICAgICAhKGtleXMubGVuZ3RoID09PSAxICYmIGtleXNbMF0gPT09IFwiY29uc3RydWN0b3JcIik7XG5cdCAgICAgICAgICAgIHZhciBoYXNUaGlzQXNzaWdubWVudEFuZFN0YXRpY01ldGhvZHMgPVxuXHQgICAgICAgICAgICAgICAgdGhpc0Fzc2lnbm1lbnRQYXR0ZXJuLnRlc3QoZm4gKyBcIlwiKSAmJiBlczUubmFtZXMoZm4pLmxlbmd0aCA+IDA7XG5cdFxuXHQgICAgICAgICAgICBpZiAoaGFzTWV0aG9kcyB8fCBoYXNNZXRob2RzT3RoZXJUaGFuQ29uc3RydWN0b3IgfHxcblx0ICAgICAgICAgICAgICAgIGhhc1RoaXNBc3NpZ25tZW50QW5kU3RhdGljTWV0aG9kcykge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gdG9GYXN0UHJvcGVydGllcyhvYmopIHtcblx0ICAgIC8qanNoaW50IC1XMDI3LC1XMDU1LC1XMDMxKi9cblx0ICAgIGZ1bmN0aW9uIEZha2VDb25zdHJ1Y3RvcigpIHt9XG5cdCAgICBGYWtlQ29uc3RydWN0b3IucHJvdG90eXBlID0gb2JqO1xuXHQgICAgdmFyIGwgPSA4O1xuXHQgICAgd2hpbGUgKGwtLSkgbmV3IEZha2VDb25zdHJ1Y3RvcigpO1xuXHQgICAgcmV0dXJuIG9iajtcblx0ICAgIGV2YWwob2JqKTtcblx0fVxuXHRcblx0dmFyIHJpZGVudCA9IC9eW2EteiRfXVthLXokXzAtOV0qJC9pO1xuXHRmdW5jdGlvbiBpc0lkZW50aWZpZXIoc3RyKSB7XG5cdCAgICByZXR1cm4gcmlkZW50LnRlc3Qoc3RyKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZmlsbGVkUmFuZ2UoY291bnQsIHByZWZpeCwgc3VmZml4KSB7XG5cdCAgICB2YXIgcmV0ID0gbmV3IEFycmF5KGNvdW50KTtcblx0ICAgIGZvcih2YXIgaSA9IDA7IGkgPCBjb3VudDsgKytpKSB7XG5cdCAgICAgICAgcmV0W2ldID0gcHJlZml4ICsgaSArIHN1ZmZpeDtcblx0ICAgIH1cblx0ICAgIHJldHVybiByZXQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNhZmVUb1N0cmluZyhvYmopIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgICAgcmV0dXJuIG9iaiArIFwiXCI7XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgcmV0dXJuIFwiW25vIHN0cmluZyByZXByZXNlbnRhdGlvbl1cIjtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNFcnJvcihvYmopIHtcblx0ICAgIHJldHVybiBvYmogIT09IG51bGwgJiZcblx0ICAgICAgICAgICB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiICYmXG5cdCAgICAgICAgICAgdHlwZW9mIG9iai5tZXNzYWdlID09PSBcInN0cmluZ1wiICYmXG5cdCAgICAgICAgICAgdHlwZW9mIG9iai5uYW1lID09PSBcInN0cmluZ1wiO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYXJrQXNPcmlnaW5hdGluZ0Zyb21SZWplY3Rpb24oZSkge1xuXHQgICAgdHJ5IHtcblx0ICAgICAgICBub3RFbnVtZXJhYmxlUHJvcChlLCBcImlzT3BlcmF0aW9uYWxcIiwgdHJ1ZSk7XG5cdCAgICB9XG5cdCAgICBjYXRjaChpZ25vcmUpIHt9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG9yaWdpbmF0ZXNGcm9tUmVqZWN0aW9uKGUpIHtcblx0ICAgIGlmIChlID09IG51bGwpIHJldHVybiBmYWxzZTtcblx0ICAgIHJldHVybiAoKGUgaW5zdGFuY2VvZiBFcnJvcltcIl9fQmx1ZWJpcmRFcnJvclR5cGVzX19cIl0uT3BlcmF0aW9uYWxFcnJvcikgfHxcblx0ICAgICAgICBlW1wiaXNPcGVyYXRpb25hbFwiXSA9PT0gdHJ1ZSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNhbkF0dGFjaFRyYWNlKG9iaikge1xuXHQgICAgcmV0dXJuIGlzRXJyb3Iob2JqKSAmJiBlczUucHJvcGVydHlJc1dyaXRhYmxlKG9iaiwgXCJzdGFja1wiKTtcblx0fVxuXHRcblx0dmFyIGVuc3VyZUVycm9yT2JqZWN0ID0gKGZ1bmN0aW9uKCkge1xuXHQgICAgaWYgKCEoXCJzdGFja1wiIGluIG5ldyBFcnJvcigpKSkge1xuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgICAgICBpZiAoY2FuQXR0YWNoVHJhY2UodmFsdWUpKSByZXR1cm4gdmFsdWU7XG5cdCAgICAgICAgICAgIHRyeSB7dGhyb3cgbmV3IEVycm9yKHNhZmVUb1N0cmluZyh2YWx1ZSkpO31cblx0ICAgICAgICAgICAgY2F0Y2goZXJyKSB7cmV0dXJuIGVycjt9XG5cdCAgICAgICAgfTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgICAgIGlmIChjYW5BdHRhY2hUcmFjZSh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcblx0ICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihzYWZlVG9TdHJpbmcodmFsdWUpKTtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHR9KSgpO1xuXHRcblx0ZnVuY3Rpb24gY2xhc3NTdHJpbmcob2JqKSB7XG5cdCAgICByZXR1cm4ge30udG9TdHJpbmcuY2FsbChvYmopO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjb3B5RGVzY3JpcHRvcnMoZnJvbSwgdG8sIGZpbHRlcikge1xuXHQgICAgdmFyIGtleXMgPSBlczUubmFtZXMoZnJvbSk7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblx0ICAgICAgICBpZiAoZmlsdGVyKGtleSkpIHtcblx0ICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgIGVzNS5kZWZpbmVQcm9wZXJ0eSh0bywga2V5LCBlczUuZ2V0RGVzY3JpcHRvcihmcm9tLCBrZXkpKTtcblx0ICAgICAgICAgICAgfSBjYXRjaCAoaWdub3JlKSB7fVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fVxuXHRcblx0dmFyIGFzQXJyYXkgPSBmdW5jdGlvbih2KSB7XG5cdCAgICBpZiAoZXM1LmlzQXJyYXkodikpIHtcblx0ICAgICAgICByZXR1cm4gdjtcblx0ICAgIH1cblx0ICAgIHJldHVybiBudWxsO1xuXHR9O1xuXHRcblx0aWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgU3ltYm9sLml0ZXJhdG9yKSB7XG5cdCAgICB2YXIgQXJyYXlGcm9tID0gdHlwZW9mIEFycmF5LmZyb20gPT09IFwiZnVuY3Rpb25cIiA/IGZ1bmN0aW9uKHYpIHtcblx0ICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh2KTtcblx0ICAgIH0gOiBmdW5jdGlvbih2KSB7XG5cdCAgICAgICAgdmFyIHJldCA9IFtdO1xuXHQgICAgICAgIHZhciBpdCA9IHZbU3ltYm9sLml0ZXJhdG9yXSgpO1xuXHQgICAgICAgIHZhciBpdFJlc3VsdDtcblx0ICAgICAgICB3aGlsZSAoISgoaXRSZXN1bHQgPSBpdC5uZXh0KCkpLmRvbmUpKSB7XG5cdCAgICAgICAgICAgIHJldC5wdXNoKGl0UmVzdWx0LnZhbHVlKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHJldDtcblx0ICAgIH07XG5cdFxuXHQgICAgYXNBcnJheSA9IGZ1bmN0aW9uKHYpIHtcblx0ICAgICAgICBpZiAoZXM1LmlzQXJyYXkodikpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHY7XG5cdCAgICAgICAgfSBlbHNlIGlmICh2ICE9IG51bGwgJiYgdHlwZW9mIHZbU3ltYm9sLml0ZXJhdG9yXSA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBBcnJheUZyb20odik7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfTtcblx0fVxuXHRcblx0dmFyIGlzTm9kZSA9IHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiICYmXG5cdCAgICAgICAgY2xhc3NTdHJpbmcocHJvY2VzcykudG9Mb3dlckNhc2UoKSA9PT0gXCJbb2JqZWN0IHByb2Nlc3NdXCI7XG5cdFxuXHRmdW5jdGlvbiBlbnYoa2V5LCBkZWYpIHtcblx0ICAgIHJldHVybiBpc05vZGUgPyBwcm9jZXNzLmVudltrZXldIDogZGVmO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXROYXRpdmVQcm9taXNlKCkge1xuXHQgICAgaWYgKHR5cGVvZiBQcm9taXNlID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKCl7fSk7XG5cdCAgICAgICAgICAgIGlmICh7fS50b1N0cmluZy5jYWxsKHByb21pc2UpID09PSBcIltvYmplY3QgUHJvbWlzZV1cIikge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2U7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9IGNhdGNoIChlKSB7fVxuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBkb21haW5CaW5kKHNlbGYsIGNiKSB7XG5cdCAgICByZXR1cm4gc2VsZi5iaW5kKGNiKTtcblx0fVxuXHRcblx0dmFyIHJldCA9IHtcblx0ICAgIGlzQ2xhc3M6IGlzQ2xhc3MsXG5cdCAgICBpc0lkZW50aWZpZXI6IGlzSWRlbnRpZmllcixcblx0ICAgIGluaGVyaXRlZERhdGFLZXlzOiBpbmhlcml0ZWREYXRhS2V5cyxcblx0ICAgIGdldERhdGFQcm9wZXJ0eU9yRGVmYXVsdDogZ2V0RGF0YVByb3BlcnR5T3JEZWZhdWx0LFxuXHQgICAgdGhyb3dlcjogdGhyb3dlcixcblx0ICAgIGlzQXJyYXk6IGVzNS5pc0FycmF5LFxuXHQgICAgYXNBcnJheTogYXNBcnJheSxcblx0ICAgIG5vdEVudW1lcmFibGVQcm9wOiBub3RFbnVtZXJhYmxlUHJvcCxcblx0ICAgIGlzUHJpbWl0aXZlOiBpc1ByaW1pdGl2ZSxcblx0ICAgIGlzT2JqZWN0OiBpc09iamVjdCxcblx0ICAgIGlzRXJyb3I6IGlzRXJyb3IsXG5cdCAgICBjYW5FdmFsdWF0ZTogY2FuRXZhbHVhdGUsXG5cdCAgICBlcnJvck9iajogZXJyb3JPYmosXG5cdCAgICB0cnlDYXRjaDogdHJ5Q2F0Y2gsXG5cdCAgICBpbmhlcml0czogaW5oZXJpdHMsXG5cdCAgICB3aXRoQXBwZW5kZWQ6IHdpdGhBcHBlbmRlZCxcblx0ICAgIG1heWJlV3JhcEFzRXJyb3I6IG1heWJlV3JhcEFzRXJyb3IsXG5cdCAgICB0b0Zhc3RQcm9wZXJ0aWVzOiB0b0Zhc3RQcm9wZXJ0aWVzLFxuXHQgICAgZmlsbGVkUmFuZ2U6IGZpbGxlZFJhbmdlLFxuXHQgICAgdG9TdHJpbmc6IHNhZmVUb1N0cmluZyxcblx0ICAgIGNhbkF0dGFjaFRyYWNlOiBjYW5BdHRhY2hUcmFjZSxcblx0ICAgIGVuc3VyZUVycm9yT2JqZWN0OiBlbnN1cmVFcnJvck9iamVjdCxcblx0ICAgIG9yaWdpbmF0ZXNGcm9tUmVqZWN0aW9uOiBvcmlnaW5hdGVzRnJvbVJlamVjdGlvbixcblx0ICAgIG1hcmtBc09yaWdpbmF0aW5nRnJvbVJlamVjdGlvbjogbWFya0FzT3JpZ2luYXRpbmdGcm9tUmVqZWN0aW9uLFxuXHQgICAgY2xhc3NTdHJpbmc6IGNsYXNzU3RyaW5nLFxuXHQgICAgY29weURlc2NyaXB0b3JzOiBjb3B5RGVzY3JpcHRvcnMsXG5cdCAgICBoYXNEZXZUb29sczogdHlwZW9mIGNocm9tZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBjaHJvbWUgJiZcblx0ICAgICAgICAgICAgICAgICB0eXBlb2YgY2hyb21lLmxvYWRUaW1lcyA9PT0gXCJmdW5jdGlvblwiLFxuXHQgICAgaXNOb2RlOiBpc05vZGUsXG5cdCAgICBlbnY6IGVudixcblx0ICAgIGdsb2JhbDogZ2xvYmFsT2JqZWN0LFxuXHQgICAgZ2V0TmF0aXZlUHJvbWlzZTogZ2V0TmF0aXZlUHJvbWlzZSxcblx0ICAgIGRvbWFpbkJpbmQ6IGRvbWFpbkJpbmRcblx0fTtcblx0cmV0LmlzUmVjZW50Tm9kZSA9IHJldC5pc05vZGUgJiYgKGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIHZlcnNpb24gPSBwcm9jZXNzLnZlcnNpb25zLm5vZGUuc3BsaXQoXCIuXCIpLm1hcChOdW1iZXIpO1xuXHQgICAgcmV0dXJuICh2ZXJzaW9uWzBdID09PSAwICYmIHZlcnNpb25bMV0gPiAxMCkgfHwgKHZlcnNpb25bMF0gPiAwKTtcblx0fSkoKTtcblx0XG5cdGlmIChyZXQuaXNOb2RlKSByZXQudG9GYXN0UHJvcGVydGllcyhwcm9jZXNzKTtcblx0XG5cdHRyeSB7dGhyb3cgbmV3IEVycm9yKCk7IH0gY2F0Y2ggKGUpIHtyZXQubGFzdExpbmVFcnJvciA9IGU7fVxuXHRtb2R1bGUuZXhwb3J0cyA9IHJldDtcblx0XG5cdH0se1wiLi9lczVcIjoxM31dfSx7fSxbNF0pKDQpXG5cdH0pOyAgICAgICAgICAgICAgICAgICAgO2lmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cgIT09IG51bGwpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LlAgPSB3aW5kb3cuUHJvbWlzZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnICYmIHNlbGYgIT09IG51bGwpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuUCA9IHNlbGYuUHJvbWlzZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKSwgKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSgpKSwgX193ZWJwYWNrX3JlcXVpcmVfXyg1NCkuc2V0SW1tZWRpYXRlKSlcblxuLyoqKi8gfSxcbi8qIDUzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcblx0dmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXHRcblx0Ly8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG5cdC8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuXHQvLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG5cdC8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cdFxuXHR2YXIgY2FjaGVkU2V0VGltZW91dDtcblx0dmFyIGNhY2hlZENsZWFyVGltZW91dDtcblx0XG5cdGZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcblx0fVxuXHRmdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG5cdH1cblx0KGZ1bmN0aW9uICgpIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuXHQgICAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcblx0ICAgIH1cblx0ICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG5cdCAgICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG5cdCAgICB9XG5cdH0gKCkpXG5cdGZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG5cdCAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuXHQgICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuXHQgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG5cdCAgICB9XG5cdCAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuXHQgICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG5cdCAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG5cdCAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcblx0ICAgIH1cblx0ICAgIHRyeSB7XG5cdCAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuXHQgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG5cdCAgICB9IGNhdGNoKGUpe1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG5cdCAgICAgICAgfSBjYXRjaChlKXtcblx0ICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3Jcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdFxuXHR9XG5cdGZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcblx0ICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuXHQgICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuXHQgICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcblx0ICAgIH1cblx0ICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcblx0ICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuXHQgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcblx0ICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG5cdCAgICB9XG5cdCAgICB0cnkge1xuXHQgICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3Ncblx0ICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG5cdCAgICB9IGNhdGNoIChlKXtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuXHQgICAgICAgIH0gY2F0Y2ggKGUpe1xuXHQgICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cblx0ICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHRcblx0XG5cdH1cblx0dmFyIHF1ZXVlID0gW107XG5cdHZhciBkcmFpbmluZyA9IGZhbHNlO1xuXHR2YXIgY3VycmVudFF1ZXVlO1xuXHR2YXIgcXVldWVJbmRleCA9IC0xO1xuXHRcblx0ZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuXHQgICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgZHJhaW5pbmcgPSBmYWxzZTtcblx0ICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuXHQgICAgfVxuXHQgICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuXHQgICAgICAgIGRyYWluUXVldWUoKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcblx0ICAgIGlmIChkcmFpbmluZykge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuXHQgICAgZHJhaW5pbmcgPSB0cnVlO1xuXHRcblx0ICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cdCAgICB3aGlsZShsZW4pIHtcblx0ICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcblx0ICAgICAgICBxdWV1ZSA9IFtdO1xuXHQgICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcblx0ICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuXHQgICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcblx0ICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cdCAgICB9XG5cdCAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuXHQgICAgZHJhaW5pbmcgPSBmYWxzZTtcblx0ICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0fVxuXHRcblx0cHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcblx0ICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG5cdCAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuXHQgICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5cdGZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuXHQgICAgdGhpcy5mdW4gPSBmdW47XG5cdCAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG5cdH1cblx0SXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG5cdH07XG5cdHByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5cdHByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5cdHByb2Nlc3MuZW52ID0ge307XG5cdHByb2Nlc3MuYXJndiA9IFtdO1xuXHRwcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcblx0cHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHRwcm9jZXNzLm9uID0gbm9vcDtcblx0cHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3Mub25jZSA9IG5vb3A7XG5cdHByb2Nlc3Mub2ZmID0gbm9vcDtcblx0cHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcblx0cHJvY2Vzcy5lbWl0ID0gbm9vcDtcblx0XG5cdHByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG5cdH07XG5cdFxuXHRwcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xuXHRwcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcblx0fTtcblx0cHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG4vKioqLyB9LFxuLyogNTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihzZXRJbW1lZGlhdGUsIGNsZWFySW1tZWRpYXRlKSB7dmFyIG5leHRUaWNrID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MykubmV4dFRpY2s7XG5cdHZhciBhcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtcblx0dmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXHR2YXIgaW1tZWRpYXRlSWRzID0ge307XG5cdHZhciBuZXh0SW1tZWRpYXRlSWQgPSAwO1xuXHRcblx0Ly8gRE9NIEFQSXMsIGZvciBjb21wbGV0ZW5lc3Ncblx0XG5cdGV4cG9ydHMuc2V0VGltZW91dCA9IGZ1bmN0aW9uKCkge1xuXHQgIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldFRpbWVvdXQsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJUaW1lb3V0KTtcblx0fTtcblx0ZXhwb3J0cy5zZXRJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xuXHQgIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldEludGVydmFsLCB3aW5kb3csIGFyZ3VtZW50cyksIGNsZWFySW50ZXJ2YWwpO1xuXHR9O1xuXHRleHBvcnRzLmNsZWFyVGltZW91dCA9XG5cdGV4cG9ydHMuY2xlYXJJbnRlcnZhbCA9IGZ1bmN0aW9uKHRpbWVvdXQpIHsgdGltZW91dC5jbG9zZSgpOyB9O1xuXHRcblx0ZnVuY3Rpb24gVGltZW91dChpZCwgY2xlYXJGbikge1xuXHQgIHRoaXMuX2lkID0gaWQ7XG5cdCAgdGhpcy5fY2xlYXJGbiA9IGNsZWFyRm47XG5cdH1cblx0VGltZW91dC5wcm90b3R5cGUudW5yZWYgPSBUaW1lb3V0LnByb3RvdHlwZS5yZWYgPSBmdW5jdGlvbigpIHt9O1xuXHRUaW1lb3V0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuXHQgIHRoaXMuX2NsZWFyRm4uY2FsbCh3aW5kb3csIHRoaXMuX2lkKTtcblx0fTtcblx0XG5cdC8vIERvZXMgbm90IHN0YXJ0IHRoZSB0aW1lLCBqdXN0IHNldHMgdXAgdGhlIG1lbWJlcnMgbmVlZGVkLlxuXHRleHBvcnRzLmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0sIG1zZWNzKSB7XG5cdCAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXHQgIGl0ZW0uX2lkbGVUaW1lb3V0ID0gbXNlY3M7XG5cdH07XG5cdFxuXHRleHBvcnRzLnVuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSkge1xuXHQgIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblx0ICBpdGVtLl9pZGxlVGltZW91dCA9IC0xO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5fdW5yZWZBY3RpdmUgPSBleHBvcnRzLmFjdGl2ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcblx0ICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG5cdFxuXHQgIHZhciBtc2VjcyA9IGl0ZW0uX2lkbGVUaW1lb3V0O1xuXHQgIGlmIChtc2VjcyA+PSAwKSB7XG5cdCAgICBpdGVtLl9pZGxlVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiBvblRpbWVvdXQoKSB7XG5cdCAgICAgIGlmIChpdGVtLl9vblRpbWVvdXQpXG5cdCAgICAgICAgaXRlbS5fb25UaW1lb3V0KCk7XG5cdCAgICB9LCBtc2Vjcyk7XG5cdCAgfVxuXHR9O1xuXHRcblx0Ly8gVGhhdCdzIG5vdCBob3cgbm9kZS5qcyBpbXBsZW1lbnRzIGl0IGJ1dCB0aGUgZXhwb3NlZCBhcGkgaXMgdGhlIHNhbWUuXG5cdGV4cG9ydHMuc2V0SW1tZWRpYXRlID0gdHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gXCJmdW5jdGlvblwiID8gc2V0SW1tZWRpYXRlIDogZnVuY3Rpb24oZm4pIHtcblx0ICB2YXIgaWQgPSBuZXh0SW1tZWRpYXRlSWQrKztcblx0ICB2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPCAyID8gZmFsc2UgOiBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cdFxuXHQgIGltbWVkaWF0ZUlkc1tpZF0gPSB0cnVlO1xuXHRcblx0ICBuZXh0VGljayhmdW5jdGlvbiBvbk5leHRUaWNrKCkge1xuXHQgICAgaWYgKGltbWVkaWF0ZUlkc1tpZF0pIHtcblx0ICAgICAgLy8gZm4uY2FsbCgpIGlzIGZhc3RlciBzbyB3ZSBvcHRpbWl6ZSBmb3IgdGhlIGNvbW1vbiB1c2UtY2FzZVxuXHQgICAgICAvLyBAc2VlIGh0dHA6Ly9qc3BlcmYuY29tL2NhbGwtYXBwbHktc2VndVxuXHQgICAgICBpZiAoYXJncykge1xuXHQgICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGZuLmNhbGwobnVsbCk7XG5cdCAgICAgIH1cblx0ICAgICAgLy8gUHJldmVudCBpZHMgZnJvbSBsZWFraW5nXG5cdCAgICAgIGV4cG9ydHMuY2xlYXJJbW1lZGlhdGUoaWQpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICByZXR1cm4gaWQ7XG5cdH07XG5cdFxuXHRleHBvcnRzLmNsZWFySW1tZWRpYXRlID0gdHlwZW9mIGNsZWFySW1tZWRpYXRlID09PSBcImZ1bmN0aW9uXCIgPyBjbGVhckltbWVkaWF0ZSA6IGZ1bmN0aW9uKGlkKSB7XG5cdCAgZGVsZXRlIGltbWVkaWF0ZUlkc1tpZF07XG5cdH07XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDU0KS5zZXRJbW1lZGlhdGUsIF9fd2VicGFja19yZXF1aXJlX18oNTQpLmNsZWFySW1tZWRpYXRlKSlcblxuLyoqKi8gfSxcbi8qIDU1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX2VwdWJQcmVzc0pzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7XG5cdFxuXHR2YXIgX2VwdWJQcmVzc0pzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VwdWJQcmVzc0pzKTtcblx0XG5cdHZhciBfanF1ZXJ5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cdFxuXHR2YXIgX2pxdWVyeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9qcXVlcnkpO1xuXHRcblx0dmFyIF9icm93c2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nik7XG5cdFxuXHR2YXIgX2Jyb3dzZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnJvd3Nlcik7XG5cdFxuXHR2YXIgX3VpID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nik7XG5cdFxuXHR2YXIgX3VpMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VpKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgbWFuaWZlc3QgPSBfYnJvd3NlcjIuZGVmYXVsdC5nZXRNYW5pZmVzdCgpO1xuXHRcblx0Lypcblx0RG93bmxvYWQgRm9ybVxuXHQqL1xuXHRcblx0KDAsIF9qcXVlcnkyLmRlZmF1bHQpKCcjc2VsZWN0LWFsbCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcblx0ICAgICgwLCBfanF1ZXJ5Mi5kZWZhdWx0KSgnaW5wdXQuYXJ0aWNsZS1jaGVja2JveCcpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBjaGVja2JveCkge1xuXHQgICAgICAgICgwLCBfanF1ZXJ5Mi5kZWZhdWx0KShjaGVja2JveCkucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuXHQgICAgfSk7XG5cdH0pO1xuXHRcblx0KDAsIF9qcXVlcnkyLmRlZmF1bHQpKCcjc2VsZWN0LW5vbmUnKS5jbGljayhmdW5jdGlvbiAoKSB7XG5cdCAgICAoMCwgX2pxdWVyeTIuZGVmYXVsdCkoJ2lucHV0LmFydGljbGUtY2hlY2tib3gnKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgY2hlY2tib3gpIHtcblx0ICAgICAgICAoMCwgX2pxdWVyeTIuZGVmYXVsdCkoY2hlY2tib3gpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XG5cdCAgICB9KTtcblx0fSk7XG5cdFxuXHQoMCwgX2pxdWVyeTIuZGVmYXVsdCkoJyNkb3dubG9hZCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBzZWxlY3RlZEl0ZW1zID0gW107XG5cdCAgICAoMCwgX2pxdWVyeTIuZGVmYXVsdCkoJ2lucHV0LmFydGljbGUtY2hlY2tib3gnKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgY2hlY2tib3gpIHtcblx0ICAgICAgICBpZiAoKDAsIF9qcXVlcnkyLmRlZmF1bHQpKGNoZWNrYm94KS5wcm9wKCdjaGVja2VkJykpIHtcblx0ICAgICAgICAgICAgc2VsZWN0ZWRJdGVtcy5wdXNoKHtcblx0ICAgICAgICAgICAgICAgIHVybDogKDAsIF9qcXVlcnkyLmRlZmF1bHQpKGNoZWNrYm94KS5wcm9wKCd2YWx1ZScpLFxuXHQgICAgICAgICAgICAgICAgaWQ6IE51bWJlcigoMCwgX2pxdWVyeTIuZGVmYXVsdCkoY2hlY2tib3gpLnByb3AoJ25hbWUnKSlcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cdFxuXHQgICAgaWYgKHNlbGVjdGVkSXRlbXMubGVuZ3RoIDw9IDApIHtcblx0ICAgICAgICAoMCwgX2pxdWVyeTIuZGVmYXVsdCkoJyNhbGVydC1tZXNzYWdlJykudGV4dCgnTm8gYXJ0aWNsZXMgc2VsZWN0ZWQhJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIF9icm93c2VyMi5kZWZhdWx0LmdldFRhYnNIdG1sKHNlbGVjdGVkSXRlbXMpLnRoZW4oZnVuY3Rpb24gKHNlY3Rpb25zKSB7XG5cdCAgICAgICAgICAgIF91aTIuZGVmYXVsdC5zaG93U2VjdGlvbignI2Rvd25sb2FkU3Bpbm5lcicpO1xuXHQgICAgICAgICAgICBfYnJvd3NlcjIuZGVmYXVsdC5zZW5kTWVzc2FnZShudWxsLCB7XG5cdCAgICAgICAgICAgICAgICBhY3Rpb246ICdkb3dubG9hZCcsXG5cdCAgICAgICAgICAgICAgICBib29rOiB7XG5cdCAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICgwLCBfanF1ZXJ5Mi5kZWZhdWx0KSgnI2Jvb2stdGl0bGUnKS52YWwoKSB8fCB1bmRlZmluZWQsXG5cdCAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICgwLCBfanF1ZXJ5Mi5kZWZhdWx0KSgnI2Jvb2stZGVzY3JpcHRpb24nKS52YWwoKSB8fCB1bmRlZmluZWQsXG5cdCAgICAgICAgICAgICAgICAgICAgc2VjdGlvbnM6IHNlY3Rpb25zXG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgICAgICAgICBfdWkyLmRlZmF1bHQuc2V0RXJyb3JNZXNzYWdlKCdDb3VsZCBub3QgZmluZCB0YWIgY29udGVudDogJyArIGVycm9yKTtcblx0ICAgICAgICB9KTtcblx0ICAgIH1cblx0fSk7XG5cdFxuXHQvKlxuXHRTZXR0aW5ncyBNYW5hZ2VtZW50XG5cdCovXG5cdFxuXHRmdW5jdGlvbiBzZXRFeGlzdGluZ1NldHRpbmdzKGNiKSB7XG5cdCAgICBfYnJvd3NlcjIuZGVmYXVsdC5nZXRMb2NhbFN0b3JhZ2UoWydlbWFpbCcsICdmaWxldHlwZSddKS50aGVuKGZ1bmN0aW9uIChzdGF0ZSkge1xuXHQgICAgICAgICgwLCBfanF1ZXJ5Mi5kZWZhdWx0KSgnI3NldHRpbmdzLWVtYWlsLXRleHQnKS52YWwoc3RhdGUuZW1haWwpO1xuXHQgICAgICAgICgwLCBfanF1ZXJ5Mi5kZWZhdWx0KSgnI3NldHRpbmdzLWZpbGV0eXBlLXNlbGVjdCcpLnZhbChzdGF0ZS5maWxldHlwZSk7XG5cdCAgICAgICAgY2IoKTtcblx0ICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgICAgIF91aTIuZGVmYXVsdC5zZXRFcnJvck1lc3NhZ2UoJ0NvdWxkIG5vdCBsb2FkIHNldHRpbmdzOiAnICsgZXJyb3IpO1xuXHQgICAgfSk7XG5cdH1cblx0XG5cdCgwLCBfanF1ZXJ5Mi5kZWZhdWx0KSgnI3NldHRpbmdzLWJ0bicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcblx0ICAgIHNldEV4aXN0aW5nU2V0dGluZ3MoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIF91aTIuZGVmYXVsdC5zaG93U2VjdGlvbignI3NldHRpbmdzRm9ybScpO1xuXHQgICAgfSk7XG5cdH0pO1xuXHRcblx0KDAsIF9qcXVlcnkyLmRlZmF1bHQpKCcjc2V0dGluZ3Mtc2F2ZS1idG4nKS5jbGljayhmdW5jdGlvbiAoKSB7XG5cdCAgICBfYnJvd3NlcjIuZGVmYXVsdC5zZXRMb2NhbFN0b3JhZ2Uoe1xuXHQgICAgICAgIGVtYWlsOiAoMCwgX2pxdWVyeTIuZGVmYXVsdCkoJyNzZXR0aW5ncy1lbWFpbC10ZXh0JykudmFsKCksXG5cdCAgICAgICAgZmlsZXR5cGU6ICgwLCBfanF1ZXJ5Mi5kZWZhdWx0KSgnI3NldHRpbmdzLWZpbGV0eXBlLXNlbGVjdCcpLnZhbCgpXG5cdCAgICB9KTtcblx0ICAgIF91aTIuZGVmYXVsdC5zaG93U2VjdGlvbignI2Rvd25sb2FkRm9ybScpO1xuXHR9KTtcblx0XG5cdCgwLCBfanF1ZXJ5Mi5kZWZhdWx0KSgnI3NldHRpbmdzLWNhbmNlbC1idG4nKS5jbGljayhmdW5jdGlvbiAoKSB7XG5cdCAgICBfdWkyLmRlZmF1bHQuc2hvd1NlY3Rpb24oJyNkb3dubG9hZEZvcm0nKTtcblx0fSk7XG5cdFxuXHQvKlxuXHRNZXNzYWdpbmdcblx0Ki9cblx0XG5cdF9icm93c2VyMi5kZWZhdWx0Lm9uQmFja2dyb3VuZE1lc3NhZ2UoZnVuY3Rpb24gKHJlcXVlc3QpIHtcblx0ICAgIGlmIChyZXF1ZXN0LmFjdGlvbiA9PT0gJ2Rvd25sb2FkJykge1xuXHQgICAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gJ2NvbXBsZXRlJykge1xuXHQgICAgICAgICAgICBfdWkyLmRlZmF1bHQudXBkYXRlU3RhdHVzKDEwMCwgJ0RvbmUhJykudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICBfdWkyLmRlZmF1bHQuc2hvd1NlY3Rpb24oJyNkb3dubG9hZFN1Y2Nlc3MnKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgX3VpMi5kZWZhdWx0LnNob3dTZWN0aW9uKCcjZG93bmxvYWRGYWlsZWQnKTtcblx0ICAgICAgICAgICAgaWYgKHJlcXVlc3QuZXJyb3IpIHtcblx0ICAgICAgICAgICAgICAgIF91aTIuZGVmYXVsdC5zZXRFcnJvck1lc3NhZ2UocmVxdWVzdC5lcnJvcik7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKHJlcXVlc3QuYWN0aW9uID09PSAncHVibGlzaCcpIHtcblx0ICAgICAgICBfdWkyLmRlZmF1bHQudXBkYXRlU3RhdHVzKHJlcXVlc3QucHJvZ3Jlc3MsIHJlcXVlc3QubWVzc2FnZSk7XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0Lypcblx0U3RhcnR1cFxuXHQqL1xuXHRcblx0d2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIF91aTIuZGVmYXVsdC5pbml0aWFsaXplVWkoKTtcblx0ICAgIF9icm93c2VyMi5kZWZhdWx0LmdldExvY2FsU3RvcmFnZSgnZG93bmxvYWRTdGF0ZScpLnRoZW4oZnVuY3Rpb24gKHN0YXRlKSB7XG5cdCAgICAgICAgaWYgKHN0YXRlLmRvd25sb2FkU3RhdGUpIHtcblx0ICAgICAgICAgICAgX2Jyb3dzZXIyLmRlZmF1bHQuZ2V0TG9jYWxTdG9yYWdlKCdwdWJsaXNoU3RhdHVzJykudGhlbihmdW5jdGlvbiAocHVibGlzaFN0YXRlKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgc3RhdHVzID0gSlNPTi5wYXJzZShwdWJsaXNoU3RhdGUucHVibGlzaFN0YXR1cyk7XG5cdCAgICAgICAgICAgICAgICBfdWkyLmRlZmF1bHQudXBkYXRlU3RhdHVzKHN0YXR1cy5wcm9ncmVzcywgc3RhdHVzLm1lc3NhZ2UpO1xuXHQgICAgICAgICAgICAgICAgX3VpMi5kZWZhdWx0LnNob3dTZWN0aW9uKCcjZG93bmxvYWRTcGlubmVyJyk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIF9lcHViUHJlc3NKczIuZGVmYXVsdC5jaGVja0ZvclVwZGF0ZXMoJ2VwdWItcHJlc3MtY2hyb21lJywgbWFuaWZlc3QudmVyc2lvbikudGhlbihmdW5jdGlvbiAobWVzc2FnZSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UpIHtcblx0ICAgICAgICAgICAgICAgICAgICBfdWkyLmRlZmF1bHQuc2V0QWxlcnRNZXNzYWdlKG1lc3NhZ2UpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgX3VpMi5kZWZhdWx0LnNob3dTZWN0aW9uKCcjZG93bmxvYWRGb3JtJyk7XG5cdCAgICAgICAgICAgIF91aTIuZGVmYXVsdC5pbml0aWFsaXplVGFiTGlzdCgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbigkKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIF9wcm9taXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nyk7XG5cdFxuXHR2YXIgX3Byb21pc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvbWlzZSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdHZhciBfYnJvd3NlciA9IF9fd2VicGFja19yZXF1aXJlX18oNDYpO1xuXHRcblx0dmFyIF9icm93c2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Jyb3dzZXIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBVSSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIFVJKCkge1xuXHQgICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFVJKTtcblx0ICAgIH1cblx0XG5cdCAgICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShVSSwgbnVsbCwgW3tcblx0ICAgICAgICBrZXk6ICdpbml0aWFsaXplVWknLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplVWkoKSB7XG5cdCAgICAgICAgICAgIHZhciBkYXRlID0gRGF0ZSgpO1xuXHQgICAgICAgICAgICBkYXRlID0gZGF0ZS5zbGljZSgwLCBkYXRlLm1hdGNoKC9cXGR7NH0vKS5pbmRleCArIDQpO1xuXHQgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm9vay10aXRsZScpLnBsYWNlaG9sZGVyID0gJ0VwdWJQcmVzcyAtICcgKyBkYXRlO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdzZXRFcnJvck1lc3NhZ2UnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRFcnJvck1lc3NhZ2UobXNnKSB7XG5cdCAgICAgICAgICAgICQoJyNmYWlsdXJlLW1lc3NhZ2UnKS50ZXh0KG1zZyk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3Nob3dTZWN0aW9uJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd1NlY3Rpb24oc2VjdGlvbikge1xuXHQgICAgICAgICAgICBVSS5TRUNUSU9OU19TRUxFQ1RPUlMuZm9yRWFjaChmdW5jdGlvbiAoc2VsZWN0b3IpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChzZWxlY3RvciA9PT0gc2VjdGlvbikge1xuXHQgICAgICAgICAgICAgICAgICAgICQoc2VsZWN0b3IpLnNob3coKTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgJChzZWxlY3RvcikuaGlkZSgpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnc2V0QWxlcnRNZXNzYWdlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0QWxlcnRNZXNzYWdlKG1lc3NhZ2UpIHtcblx0ICAgICAgICAgICAgJCgnI2FsZXJ0LW1lc3NhZ2UnKS50ZXh0KG1lc3NhZ2UpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICd1cGRhdGVTdGF0dXMnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVTdGF0dXMocHJvZ3Jlc3MsIG1lc3NhZ2UpIHtcblx0ICAgICAgICAgICAgJCgnaDQjcHJvZ3Jlc3MtbXNnJykudGV4dChtZXNzYWdlKTtcblx0ICAgICAgICAgICAgaWYgKHByb2dyZXNzKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRlVmFsdWVDaGFuZ2UoJCgncHJvZ3Jlc3MnKSwgcHJvZ3Jlc3MpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBfcHJvbWlzZTIuZGVmYXVsdC5yZXNvbHZlKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2FuaW1hdGVWYWx1ZUNoYW5nZScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFuaW1hdGVWYWx1ZUNoYW5nZSgkZWwsIGZpbmFsVmFsdWUpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG5ldyBfcHJvbWlzZTIuZGVmYXVsdChmdW5jdGlvbiAocmVzb2x2ZSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGFuaW1hdGVGcm9tID0gZnVuY3Rpb24gYW5pbWF0ZUZyb20oY3VycmVudFZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZSA9PT0gZmluYWxWYWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChyZXNvbHZlLCAzMDApO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaWZmID0gY3VycmVudFZhbHVlIDwgZmluYWxWYWx1ZSA/IDEgOiAtMTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1ZhbHVlID0gZGlmZiArIGN1cnJlbnRWYWx1ZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgJGVsLnZhbChuZXdWYWx1ZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGVGcm9tKG5ld1ZhbHVlKTtcblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgICAgICBhbmltYXRlRnJvbSgkZWwudmFsKCkpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZ2V0Q2hlY2tib3gnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDaGVja2JveChwcm9wcykge1xuXHQgICAgICAgICAgICB2YXIgaHRtbCA9ICc8ZGl2IGNsYXNzPVwiY2hlY2tib3hcIj5cXG4gICAgICAgIDxsYWJlbD5cXG4gICAgICAgIDxpbnB1dCBjbGFzcz1cXCdhcnRpY2xlLWNoZWNrYm94XFwnIHR5cGU9XCJjaGVja2JveFwiIHZhbHVlPVwiJyArIHByb3BzLnVybCArICdcIiBuYW1lPVwiJyArIHByb3BzLmlkICsgJ1wiPlxcbiAgICAgICAgPHNwYW4+JyArIHByb3BzLnRpdGxlICsgJzwvc3Bhbj5cXG4gICAgICAgIDwvbGFiZWw+XFxuICAgICAgICA8L2Rpdj4nO1xuXHQgICAgICAgICAgICByZXR1cm4gaHRtbDtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaW5pdGlhbGl6ZVRhYkxpc3QnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplVGFiTGlzdCgpIHtcblx0ICAgICAgICAgICAgX2Jyb3dzZXIyLmRlZmF1bHQuZ2V0Q3VycmVudFdpbmRvd1RhYnMoKS50aGVuKGZ1bmN0aW9uICh0YWJzKSB7XG5cdCAgICAgICAgICAgICAgICB0YWJzLmZvckVhY2goZnVuY3Rpb24gKHRhYikge1xuXHQgICAgICAgICAgICAgICAgICAgICQoJyN0YWItbGlzdCcpLmFwcGVuZChVSS5nZXRDaGVja2JveCh7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0YWIudGl0bGUsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdGFiLnVybCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHRhYi5pZFxuXHQgICAgICAgICAgICAgICAgICAgIH0pKTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgICAgICAgICAgICAgIFVJLnNldEVycm9yTWVzc2FnZSgnU2VhcmNoaW5nIHRhYnMgZmFpbGVkOiAnICsgZXJyb3IpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdCAgICByZXR1cm4gVUk7XG5cdH0oKTtcblx0XG5cdFVJLlNFQ1RJT05TX1NFTEVDVE9SUyA9IFsnI2Rvd25sb2FkRm9ybScsICcjc2V0dGluZ3NGb3JtJywgJyNkb3dubG9hZFNwaW5uZXInLCAnI2Rvd25sb2FkU3VjY2VzcycsICcjZG93bmxvYWRGYWlsZWQnXTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gVUk7XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKSkpXG5cbi8qKiovIH0sXG4vKiA1NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4KSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9LFxuLyogNTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oNTkpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYwKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg3Myk7XG5cdF9fd2VicGFja19yZXF1aXJlX18oNzcpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNSkuUHJvbWlzZTtcblxuLyoqKi8gfSxcbi8qIDU5ICovXG40NSxcbi8qIDYwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdHZhciAkYXQgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MSkodHJ1ZSk7XG5cdFxuXHQvLyAyMS4xLjMuMjcgU3RyaW5nLnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5cdF9fd2VicGFja19yZXF1aXJlX18oNjIpKFN0cmluZywgJ1N0cmluZycsIGZ1bmN0aW9uKGl0ZXJhdGVkKXtcblx0ICB0aGlzLl90ID0gU3RyaW5nKGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG5cdCAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcblx0Ly8gMjEuMS41LjIuMSAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxuXHR9LCBmdW5jdGlvbigpe1xuXHQgIHZhciBPICAgICA9IHRoaXMuX3Rcblx0ICAgICwgaW5kZXggPSB0aGlzLl9pXG5cdCAgICAsIHBvaW50O1xuXHQgIGlmKGluZGV4ID49IE8ubGVuZ3RoKXJldHVybiB7dmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZX07XG5cdCAgcG9pbnQgPSAkYXQoTywgaW5kZXgpO1xuXHQgIHRoaXMuX2kgKz0gcG9pbnQubGVuZ3RoO1xuXHQgIHJldHVybiB7dmFsdWU6IHBvaW50LCBkb25lOiBmYWxzZX07XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogNjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciB0b0ludGVnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKVxuXHQgICwgZGVmaW5lZCAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XG5cdC8vIHRydWUgIC0+IFN0cmluZyNhdFxuXHQvLyBmYWxzZSAtPiBTdHJpbmcjY29kZVBvaW50QXRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihUT19TVFJJTkcpe1xuXHQgIHJldHVybiBmdW5jdGlvbih0aGF0LCBwb3Mpe1xuXHQgICAgdmFyIHMgPSBTdHJpbmcoZGVmaW5lZCh0aGF0KSlcblx0ICAgICAgLCBpID0gdG9JbnRlZ2VyKHBvcylcblx0ICAgICAgLCBsID0gcy5sZW5ndGhcblx0ICAgICAgLCBhLCBiO1xuXHQgICAgaWYoaSA8IDAgfHwgaSA+PSBsKXJldHVybiBUT19TVFJJTkcgPyAnJyA6IHVuZGVmaW5lZDtcblx0ICAgIGEgPSBzLmNoYXJDb2RlQXQoaSk7XG5cdCAgICByZXR1cm4gYSA8IDB4ZDgwMCB8fCBhID4gMHhkYmZmIHx8IGkgKyAxID09PSBsIHx8IChiID0gcy5jaGFyQ29kZUF0KGkgKyAxKSkgPCAweGRjMDAgfHwgYiA+IDB4ZGZmZlxuXHQgICAgICA/IFRPX1NUUklORyA/IHMuY2hhckF0KGkpIDogYVxuXHQgICAgICA6IFRPX1NUUklORyA/IHMuc2xpY2UoaSwgaSArIDIpIDogKGEgLSAweGQ4MDAgPDwgMTApICsgKGIgLSAweGRjMDApICsgMHgxMDAwMDtcblx0ICB9O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNjIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0dmFyIExJQlJBUlkgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Mylcblx0ICAsICRleHBvcnQgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KVxuXHQgICwgcmVkZWZpbmUgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY0KVxuXHQgICwgaGlkZSAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKVxuXHQgICwgaGFzICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KVxuXHQgICwgSXRlcmF0b3JzICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1KVxuXHQgICwgJGl0ZXJDcmVhdGUgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2KVxuXHQgICwgc2V0VG9TdHJpbmdUYWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwKVxuXHQgICwgZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyKVxuXHQgICwgSVRFUkFUT1IgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKSgnaXRlcmF0b3InKVxuXHQgICwgQlVHR1kgICAgICAgICAgPSAhKFtdLmtleXMgJiYgJ25leHQnIGluIFtdLmtleXMoKSkgLy8gU2FmYXJpIGhhcyBidWdneSBpdGVyYXRvcnMgdy9vIGBuZXh0YFxuXHQgICwgRkZfSVRFUkFUT1IgICAgPSAnQEBpdGVyYXRvcidcblx0ICAsIEtFWVMgICAgICAgICAgID0gJ2tleXMnXG5cdCAgLCBWQUxVRVMgICAgICAgICA9ICd2YWx1ZXMnO1xuXHRcblx0dmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQmFzZSwgTkFNRSwgQ29uc3RydWN0b3IsIG5leHQsIERFRkFVTFQsIElTX1NFVCwgRk9SQ0VEKXtcblx0ICAkaXRlckNyZWF0ZShDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCk7XG5cdCAgdmFyIGdldE1ldGhvZCA9IGZ1bmN0aW9uKGtpbmQpe1xuXHQgICAgaWYoIUJVR0dZICYmIGtpbmQgaW4gcHJvdG8pcmV0dXJuIHByb3RvW2tpbmRdO1xuXHQgICAgc3dpdGNoKGtpbmQpe1xuXHQgICAgICBjYXNlIEtFWVM6IHJldHVybiBmdW5jdGlvbiBrZXlzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG5cdCAgICAgIGNhc2UgVkFMVUVTOiByZXR1cm4gZnVuY3Rpb24gdmFsdWVzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG5cdCAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG5cdCAgfTtcblx0ICB2YXIgVEFHICAgICAgICA9IE5BTUUgKyAnIEl0ZXJhdG9yJ1xuXHQgICAgLCBERUZfVkFMVUVTID0gREVGQVVMVCA9PSBWQUxVRVNcblx0ICAgICwgVkFMVUVTX0JVRyA9IGZhbHNlXG5cdCAgICAsIHByb3RvICAgICAgPSBCYXNlLnByb3RvdHlwZVxuXHQgICAgLCAkbmF0aXZlICAgID0gcHJvdG9bSVRFUkFUT1JdIHx8IHByb3RvW0ZGX0lURVJBVE9SXSB8fCBERUZBVUxUICYmIHByb3RvW0RFRkFVTFRdXG5cdCAgICAsICRkZWZhdWx0ICAgPSAkbmF0aXZlIHx8IGdldE1ldGhvZChERUZBVUxUKVxuXHQgICAgLCAkZW50cmllcyAgID0gREVGQVVMVCA/ICFERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoJ2VudHJpZXMnKSA6IHVuZGVmaW5lZFxuXHQgICAgLCAkYW55TmF0aXZlID0gTkFNRSA9PSAnQXJyYXknID8gcHJvdG8uZW50cmllcyB8fCAkbmF0aXZlIDogJG5hdGl2ZVxuXHQgICAgLCBtZXRob2RzLCBrZXksIEl0ZXJhdG9yUHJvdG90eXBlO1xuXHQgIC8vIEZpeCBuYXRpdmVcblx0ICBpZigkYW55TmF0aXZlKXtcblx0ICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YoJGFueU5hdGl2ZS5jYWxsKG5ldyBCYXNlKSk7XG5cdCAgICBpZihJdGVyYXRvclByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSl7XG5cdCAgICAgIC8vIFNldCBAQHRvU3RyaW5nVGFnIHRvIG5hdGl2ZSBpdGVyYXRvcnNcblx0ICAgICAgc2V0VG9TdHJpbmdUYWcoSXRlcmF0b3JQcm90b3R5cGUsIFRBRywgdHJ1ZSk7XG5cdCAgICAgIC8vIGZpeCBmb3Igc29tZSBvbGQgZW5naW5lc1xuXHQgICAgICBpZighTElCUkFSWSAmJiAhaGFzKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUikpaGlkZShJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuXHQgICAgfVxuXHQgIH1cblx0ICAvLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGXG5cdCAgaWYoREVGX1ZBTFVFUyAmJiAkbmF0aXZlICYmICRuYXRpdmUubmFtZSAhPT0gVkFMVUVTKXtcblx0ICAgIFZBTFVFU19CVUcgPSB0cnVlO1xuXHQgICAgJGRlZmF1bHQgPSBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuICRuYXRpdmUuY2FsbCh0aGlzKTsgfTtcblx0ICB9XG5cdCAgLy8gRGVmaW5lIGl0ZXJhdG9yXG5cdCAgaWYoKCFMSUJSQVJZIHx8IEZPUkNFRCkgJiYgKEJVR0dZIHx8IFZBTFVFU19CVUcgfHwgIXByb3RvW0lURVJBVE9SXSkpe1xuXHQgICAgaGlkZShwcm90bywgSVRFUkFUT1IsICRkZWZhdWx0KTtcblx0ICB9XG5cdCAgLy8gUGx1ZyBmb3IgbGlicmFyeVxuXHQgIEl0ZXJhdG9yc1tOQU1FXSA9ICRkZWZhdWx0O1xuXHQgIEl0ZXJhdG9yc1tUQUddICA9IHJldHVyblRoaXM7XG5cdCAgaWYoREVGQVVMVCl7XG5cdCAgICBtZXRob2RzID0ge1xuXHQgICAgICB2YWx1ZXM6ICBERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoVkFMVUVTKSxcblx0ICAgICAga2V5czogICAgSVNfU0VUICAgICA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKEtFWVMpLFxuXHQgICAgICBlbnRyaWVzOiAkZW50cmllc1xuXHQgICAgfTtcblx0ICAgIGlmKEZPUkNFRClmb3Ioa2V5IGluIG1ldGhvZHMpe1xuXHQgICAgICBpZighKGtleSBpbiBwcm90bykpcmVkZWZpbmUocHJvdG8sIGtleSwgbWV0aG9kc1trZXldKTtcblx0ICAgIH0gZWxzZSAkZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIChCVUdHWSB8fCBWQUxVRVNfQlVHKSwgTkFNRSwgbWV0aG9kcyk7XG5cdCAgfVxuXHQgIHJldHVybiBtZXRob2RzO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNjMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gdHJ1ZTtcblxuLyoqKi8gfSxcbi8qIDY0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXG4vKioqLyB9LFxuLyogNjUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8qKiovIH0sXG4vKiA2NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgY3JlYXRlICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KVxuXHQgICwgZGVzY3JpcHRvciAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKVxuXHQgICwgc2V0VG9TdHJpbmdUYWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwKVxuXHQgICwgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcblx0XG5cdC8vIDI1LjEuMi4xLjEgJUl0ZXJhdG9yUHJvdG90eXBlJVtAQGl0ZXJhdG9yXSgpXG5cdF9fd2VicGFja19yZXF1aXJlX18oMTMpKEl0ZXJhdG9yUHJvdG90eXBlLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKSgnaXRlcmF0b3InKSwgZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXM7IH0pO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCl7XG5cdCAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlLCB7bmV4dDogZGVzY3JpcHRvcigxLCBuZXh0KX0pO1xuXHQgIHNldFRvU3RyaW5nVGFnKENvbnN0cnVjdG9yLCBOQU1FICsgJyBJdGVyYXRvcicpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNjcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuXHR2YXIgYW5PYmplY3QgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KVxuXHQgICwgZFBzICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KVxuXHQgICwgZW51bUJ1Z0tleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KVxuXHQgICwgSUVfUFJPVE8gICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KSgnSUVfUFJPVE8nKVxuXHQgICwgRW1wdHkgICAgICAgPSBmdW5jdGlvbigpeyAvKiBlbXB0eSAqLyB9XG5cdCAgLCBQUk9UT1RZUEUgICA9ICdwcm90b3R5cGUnO1xuXHRcblx0Ly8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIGlmcmFtZSBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxuXHR2YXIgY3JlYXRlRGljdCA9IGZ1bmN0aW9uKCl7XG5cdCAgLy8gVGhyYXNoLCB3YXN0ZSBhbmQgc29kb215OiBJRSBHQyBidWdcblx0ICB2YXIgaWZyYW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCkoJ2lmcmFtZScpXG5cdCAgICAsIGkgICAgICA9IGVudW1CdWdLZXlzLmxlbmd0aFxuXHQgICAgLCBsdCAgICAgPSAnPCdcblx0ICAgICwgZ3QgICAgID0gJz4nXG5cdCAgICAsIGlmcmFtZURvY3VtZW50O1xuXHQgIGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHQgIF9fd2VicGFja19yZXF1aXJlX18oNjkpLmFwcGVuZENoaWxkKGlmcmFtZSk7XG5cdCAgaWZyYW1lLnNyYyA9ICdqYXZhc2NyaXB0Oic7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2NyaXB0LXVybFxuXHQgIC8vIGNyZWF0ZURpY3QgPSBpZnJhbWUuY29udGVudFdpbmRvdy5PYmplY3Q7XG5cdCAgLy8gaHRtbC5yZW1vdmVDaGlsZChpZnJhbWUpO1xuXHQgIGlmcmFtZURvY3VtZW50ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG5cdCAgaWZyYW1lRG9jdW1lbnQub3BlbigpO1xuXHQgIGlmcmFtZURvY3VtZW50LndyaXRlKGx0ICsgJ3NjcmlwdCcgKyBndCArICdkb2N1bWVudC5GPU9iamVjdCcgKyBsdCArICcvc2NyaXB0JyArIGd0KTtcblx0ICBpZnJhbWVEb2N1bWVudC5jbG9zZSgpO1xuXHQgIGNyZWF0ZURpY3QgPSBpZnJhbWVEb2N1bWVudC5GO1xuXHQgIHdoaWxlKGktLSlkZWxldGUgY3JlYXRlRGljdFtQUk9UT1RZUEVdW2VudW1CdWdLZXlzW2ldXTtcblx0ICByZXR1cm4gY3JlYXRlRGljdCgpO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIGNyZWF0ZShPLCBQcm9wZXJ0aWVzKXtcblx0ICB2YXIgcmVzdWx0O1xuXHQgIGlmKE8gIT09IG51bGwpe1xuXHQgICAgRW1wdHlbUFJPVE9UWVBFXSA9IGFuT2JqZWN0KE8pO1xuXHQgICAgcmVzdWx0ID0gbmV3IEVtcHR5O1xuXHQgICAgRW1wdHlbUFJPVE9UWVBFXSA9IG51bGw7XG5cdCAgICAvLyBhZGQgXCJfX3Byb3RvX19cIiBmb3IgT2JqZWN0LmdldFByb3RvdHlwZU9mIHBvbHlmaWxsXG5cdCAgICByZXN1bHRbSUVfUFJPVE9dID0gTztcblx0ICB9IGVsc2UgcmVzdWx0ID0gY3JlYXRlRGljdCgpO1xuXHQgIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkUHMocmVzdWx0LCBQcm9wZXJ0aWVzKTtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogNjggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBkUCAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpXG5cdCAgLCBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpXG5cdCAgLCBnZXRLZXlzICA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKXtcblx0ICBhbk9iamVjdChPKTtcblx0ICB2YXIga2V5cyAgID0gZ2V0S2V5cyhQcm9wZXJ0aWVzKVxuXHQgICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuXHQgICAgLCBpID0gMFxuXHQgICAgLCBQO1xuXHQgIHdoaWxlKGxlbmd0aCA+IGkpZFAuZihPLCBQID0ga2V5c1tpKytdLCBQcm9wZXJ0aWVzW1BdKTtcblx0ICByZXR1cm4gTztcblx0fTtcblxuLyoqKi8gfSxcbi8qIDY5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTApLmRvY3VtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuLyoqKi8gfSxcbi8qIDcwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgZGVmID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCkuZlxuXHQgICwgaGFzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNilcblx0ICAsIFRBRyA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpKCd0b1N0cmluZ1RhZycpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgdGFnLCBzdGF0KXtcblx0ICBpZihpdCAmJiAhaGFzKGl0ID0gc3RhdCA/IGl0IDogaXQucHJvdG90eXBlLCBUQUcpKWRlZihpdCwgVEFHLCB7Y29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogdGFnfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA3MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIHN0b3JlICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KSgnd2tzJylcblx0ICAsIHVpZCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KVxuXHQgICwgU3ltYm9sICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTApLlN5bWJvbFxuXHQgICwgVVNFX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT0gJ2Z1bmN0aW9uJztcblx0XG5cdHZhciAkZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obmFtZSl7XG5cdCAgcmV0dXJuIHN0b3JlW25hbWVdIHx8IChzdG9yZVtuYW1lXSA9XG5cdCAgICBVU0VfU1lNQk9MICYmIFN5bWJvbFtuYW1lXSB8fCAoVVNFX1NZTUJPTCA/IFN5bWJvbCA6IHVpZCkoJ1N5bWJvbC4nICsgbmFtZSkpO1xuXHR9O1xuXHRcblx0JGV4cG9ydHMuc3RvcmUgPSBzdG9yZTtcblxuLyoqKi8gfSxcbi8qIDcyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyAxOS4xLjIuOSAvIDE1LjIuMy4yIE9iamVjdC5nZXRQcm90b3R5cGVPZihPKVxuXHR2YXIgaGFzICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KVxuXHQgICwgdG9PYmplY3QgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKVxuXHQgICwgSUVfUFJPVE8gICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KSgnSUVfUFJPVE8nKVxuXHQgICwgT2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24oTyl7XG5cdCAgTyA9IHRvT2JqZWN0KE8pO1xuXHQgIGlmKGhhcyhPLCBJRV9QUk9UTykpcmV0dXJuIE9bSUVfUFJPVE9dO1xuXHQgIGlmKHR5cGVvZiBPLmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgTyBpbnN0YW5jZW9mIE8uY29uc3RydWN0b3Ipe1xuXHQgICAgcmV0dXJuIE8uY29uc3RydWN0b3IucHJvdG90eXBlO1xuXHQgIH0gcmV0dXJuIE8gaW5zdGFuY2VvZiBPYmplY3QgPyBPYmplY3RQcm90byA6IG51bGw7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA3MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg3NCk7XG5cdHZhciBnbG9iYWwgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMClcblx0ICAsIGhpZGUgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKVxuXHQgICwgSXRlcmF0b3JzICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNjUpXG5cdCAgLCBUT19TVFJJTkdfVEFHID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MSkoJ3RvU3RyaW5nVGFnJyk7XG5cdFxuXHRmb3IodmFyIGNvbGxlY3Rpb25zID0gWydOb2RlTGlzdCcsICdET01Ub2tlbkxpc3QnLCAnTWVkaWFMaXN0JywgJ1N0eWxlU2hlZXRMaXN0JywgJ0NTU1J1bGVMaXN0J10sIGkgPSAwOyBpIDwgNTsgaSsrKXtcblx0ICB2YXIgTkFNRSAgICAgICA9IGNvbGxlY3Rpb25zW2ldXG5cdCAgICAsIENvbGxlY3Rpb24gPSBnbG9iYWxbTkFNRV1cblx0ICAgICwgcHJvdG8gICAgICA9IENvbGxlY3Rpb24gJiYgQ29sbGVjdGlvbi5wcm90b3R5cGU7XG5cdCAgaWYocHJvdG8gJiYgIXByb3RvW1RPX1NUUklOR19UQUddKWhpZGUocHJvdG8sIFRPX1NUUklOR19UQUcsIE5BTUUpO1xuXHQgIEl0ZXJhdG9yc1tOQU1FXSA9IEl0ZXJhdG9ycy5BcnJheTtcblx0fVxuXG4vKioqLyB9LFxuLyogNzQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0dmFyIGFkZFRvVW5zY29wYWJsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1KVxuXHQgICwgc3RlcCAgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNzYpXG5cdCAgLCBJdGVyYXRvcnMgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NSlcblx0ICAsIHRvSU9iamVjdCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTtcblx0XG5cdC8vIDIyLjEuMy40IEFycmF5LnByb3RvdHlwZS5lbnRyaWVzKClcblx0Ly8gMjIuMS4zLjEzIEFycmF5LnByb3RvdHlwZS5rZXlzKClcblx0Ly8gMjIuMS4zLjI5IEFycmF5LnByb3RvdHlwZS52YWx1ZXMoKVxuXHQvLyAyMi4xLjMuMzAgQXJyYXkucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYyKShBcnJheSwgJ0FycmF5JywgZnVuY3Rpb24oaXRlcmF0ZWQsIGtpbmQpe1xuXHQgIHRoaXMuX3QgPSB0b0lPYmplY3QoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcblx0ICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuXHQgIHRoaXMuX2sgPSBraW5kOyAgICAgICAgICAgICAgICAvLyBraW5kXG5cdC8vIDIyLjEuNS4yLjEgJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxuXHR9LCBmdW5jdGlvbigpe1xuXHQgIHZhciBPICAgICA9IHRoaXMuX3Rcblx0ICAgICwga2luZCAgPSB0aGlzLl9rXG5cdCAgICAsIGluZGV4ID0gdGhpcy5faSsrO1xuXHQgIGlmKCFPIHx8IGluZGV4ID49IE8ubGVuZ3RoKXtcblx0ICAgIHRoaXMuX3QgPSB1bmRlZmluZWQ7XG5cdCAgICByZXR1cm4gc3RlcCgxKTtcblx0ICB9XG5cdCAgaWYoa2luZCA9PSAna2V5cycgIClyZXR1cm4gc3RlcCgwLCBpbmRleCk7XG5cdCAgaWYoa2luZCA9PSAndmFsdWVzJylyZXR1cm4gc3RlcCgwLCBPW2luZGV4XSk7XG5cdCAgcmV0dXJuIHN0ZXAoMCwgW2luZGV4LCBPW2luZGV4XV0pO1xuXHR9LCAndmFsdWVzJyk7XG5cdFxuXHQvLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyUgKDkuNC40LjYsIDkuNC40LjcpXG5cdEl0ZXJhdG9ycy5Bcmd1bWVudHMgPSBJdGVyYXRvcnMuQXJyYXk7XG5cdFxuXHRhZGRUb1Vuc2NvcGFibGVzKCdrZXlzJyk7XG5cdGFkZFRvVW5zY29wYWJsZXMoJ3ZhbHVlcycpO1xuXHRhZGRUb1Vuc2NvcGFibGVzKCdlbnRyaWVzJyk7XG5cbi8qKiovIH0sXG4vKiA3NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpeyAvKiBlbXB0eSAqLyB9O1xuXG4vKioqLyB9LFxuLyogNzYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZG9uZSwgdmFsdWUpe1xuXHQgIHJldHVybiB7dmFsdWU6IHZhbHVlLCBkb25lOiAhIWRvbmV9O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNzcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0dmFyIExJQlJBUlkgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNjMpXG5cdCAgLCBnbG9iYWwgICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKVxuXHQgICwgY3R4ICAgICAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSlcblx0ICAsIGNsYXNzb2YgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNzgpXG5cdCAgLCAkZXhwb3J0ICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpXG5cdCAgLCBpc09iamVjdCAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KVxuXHQgICwgYUZ1bmN0aW9uICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMilcblx0ICAsIGFuSW5zdGFuY2UgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNzkpXG5cdCAgLCBmb3JPZiAgICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgwKVxuXHQgICwgc3BlY2llc0NvbnN0cnVjdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NClcblx0ICAsIHRhc2sgICAgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oODUpLnNldFxuXHQgICwgbWljcm90YXNrICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NykoKVxuXHQgICwgUFJPTUlTRSAgICAgICAgICAgID0gJ1Byb21pc2UnXG5cdCAgLCBUeXBlRXJyb3IgICAgICAgICAgPSBnbG9iYWwuVHlwZUVycm9yXG5cdCAgLCBwcm9jZXNzICAgICAgICAgICAgPSBnbG9iYWwucHJvY2Vzc1xuXHQgICwgJFByb21pc2UgICAgICAgICAgID0gZ2xvYmFsW1BST01JU0VdXG5cdCAgLCBwcm9jZXNzICAgICAgICAgICAgPSBnbG9iYWwucHJvY2Vzc1xuXHQgICwgaXNOb2RlICAgICAgICAgICAgID0gY2xhc3NvZihwcm9jZXNzKSA9PSAncHJvY2Vzcydcblx0ICAsIGVtcHR5ICAgICAgICAgICAgICA9IGZ1bmN0aW9uKCl7IC8qIGVtcHR5ICovIH1cblx0ICAsIEludGVybmFsLCBHZW5lcmljUHJvbWlzZUNhcGFiaWxpdHksIFdyYXBwZXI7XG5cdFxuXHR2YXIgVVNFX05BVElWRSA9ICEhZnVuY3Rpb24oKXtcblx0ICB0cnkge1xuXHQgICAgLy8gY29ycmVjdCBzdWJjbGFzc2luZyB3aXRoIEBAc3BlY2llcyBzdXBwb3J0XG5cdCAgICB2YXIgcHJvbWlzZSAgICAgPSAkUHJvbWlzZS5yZXNvbHZlKDEpXG5cdCAgICAgICwgRmFrZVByb21pc2UgPSAocHJvbWlzZS5jb25zdHJ1Y3RvciA9IHt9KVtfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKSgnc3BlY2llcycpXSA9IGZ1bmN0aW9uKGV4ZWMpeyBleGVjKGVtcHR5LCBlbXB0eSk7IH07XG5cdCAgICAvLyB1bmhhbmRsZWQgcmVqZWN0aW9ucyB0cmFja2luZyBzdXBwb3J0LCBOb2RlSlMgUHJvbWlzZSB3aXRob3V0IGl0IGZhaWxzIEBAc3BlY2llcyB0ZXN0XG5cdCAgICByZXR1cm4gKGlzTm9kZSB8fCB0eXBlb2YgUHJvbWlzZVJlamVjdGlvbkV2ZW50ID09ICdmdW5jdGlvbicpICYmIHByb21pc2UudGhlbihlbXB0eSkgaW5zdGFuY2VvZiBGYWtlUHJvbWlzZTtcblx0ICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG5cdH0oKTtcblx0XG5cdC8vIGhlbHBlcnNcblx0dmFyIHNhbWVDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKGEsIGIpe1xuXHQgIC8vIHdpdGggbGlicmFyeSB3cmFwcGVyIHNwZWNpYWwgY2FzZVxuXHQgIHJldHVybiBhID09PSBiIHx8IGEgPT09ICRQcm9taXNlICYmIGIgPT09IFdyYXBwZXI7XG5cdH07XG5cdHZhciBpc1RoZW5hYmxlID0gZnVuY3Rpb24oaXQpe1xuXHQgIHZhciB0aGVuO1xuXHQgIHJldHVybiBpc09iamVjdChpdCkgJiYgdHlwZW9mICh0aGVuID0gaXQudGhlbikgPT0gJ2Z1bmN0aW9uJyA/IHRoZW4gOiBmYWxzZTtcblx0fTtcblx0dmFyIG5ld1Byb21pc2VDYXBhYmlsaXR5ID0gZnVuY3Rpb24oQyl7XG5cdCAgcmV0dXJuIHNhbWVDb25zdHJ1Y3RvcigkUHJvbWlzZSwgQylcblx0ICAgID8gbmV3IFByb21pc2VDYXBhYmlsaXR5KEMpXG5cdCAgICA6IG5ldyBHZW5lcmljUHJvbWlzZUNhcGFiaWxpdHkoQyk7XG5cdH07XG5cdHZhciBQcm9taXNlQ2FwYWJpbGl0eSA9IEdlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uKEMpe1xuXHQgIHZhciByZXNvbHZlLCByZWplY3Q7XG5cdCAgdGhpcy5wcm9taXNlID0gbmV3IEMoZnVuY3Rpb24oJCRyZXNvbHZlLCAkJHJlamVjdCl7XG5cdCAgICBpZihyZXNvbHZlICE9PSB1bmRlZmluZWQgfHwgcmVqZWN0ICE9PSB1bmRlZmluZWQpdGhyb3cgVHlwZUVycm9yKCdCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvcicpO1xuXHQgICAgcmVzb2x2ZSA9ICQkcmVzb2x2ZTtcblx0ICAgIHJlamVjdCAgPSAkJHJlamVjdDtcblx0ICB9KTtcblx0ICB0aGlzLnJlc29sdmUgPSBhRnVuY3Rpb24ocmVzb2x2ZSk7XG5cdCAgdGhpcy5yZWplY3QgID0gYUZ1bmN0aW9uKHJlamVjdCk7XG5cdH07XG5cdHZhciBwZXJmb3JtID0gZnVuY3Rpb24oZXhlYyl7XG5cdCAgdHJ5IHtcblx0ICAgIGV4ZWMoKTtcblx0ICB9IGNhdGNoKGUpe1xuXHQgICAgcmV0dXJuIHtlcnJvcjogZX07XG5cdCAgfVxuXHR9O1xuXHR2YXIgbm90aWZ5ID0gZnVuY3Rpb24ocHJvbWlzZSwgaXNSZWplY3Qpe1xuXHQgIGlmKHByb21pc2UuX24pcmV0dXJuO1xuXHQgIHByb21pc2UuX24gPSB0cnVlO1xuXHQgIHZhciBjaGFpbiA9IHByb21pc2UuX2M7XG5cdCAgbWljcm90YXNrKGZ1bmN0aW9uKCl7XG5cdCAgICB2YXIgdmFsdWUgPSBwcm9taXNlLl92XG5cdCAgICAgICwgb2sgICAgPSBwcm9taXNlLl9zID09IDFcblx0ICAgICAgLCBpICAgICA9IDA7XG5cdCAgICB2YXIgcnVuID0gZnVuY3Rpb24ocmVhY3Rpb24pe1xuXHQgICAgICB2YXIgaGFuZGxlciA9IG9rID8gcmVhY3Rpb24ub2sgOiByZWFjdGlvbi5mYWlsXG5cdCAgICAgICAgLCByZXNvbHZlID0gcmVhY3Rpb24ucmVzb2x2ZVxuXHQgICAgICAgICwgcmVqZWN0ICA9IHJlYWN0aW9uLnJlamVjdFxuXHQgICAgICAgICwgZG9tYWluICA9IHJlYWN0aW9uLmRvbWFpblxuXHQgICAgICAgICwgcmVzdWx0LCB0aGVuO1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIGlmKGhhbmRsZXIpe1xuXHQgICAgICAgICAgaWYoIW9rKXtcblx0ICAgICAgICAgICAgaWYocHJvbWlzZS5faCA9PSAyKW9uSGFuZGxlVW5oYW5kbGVkKHByb21pc2UpO1xuXHQgICAgICAgICAgICBwcm9taXNlLl9oID0gMTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGlmKGhhbmRsZXIgPT09IHRydWUpcmVzdWx0ID0gdmFsdWU7XG5cdCAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgaWYoZG9tYWluKWRvbWFpbi5lbnRlcigpO1xuXHQgICAgICAgICAgICByZXN1bHQgPSBoYW5kbGVyKHZhbHVlKTtcblx0ICAgICAgICAgICAgaWYoZG9tYWluKWRvbWFpbi5leGl0KCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBpZihyZXN1bHQgPT09IHJlYWN0aW9uLnByb21pc2Upe1xuXHQgICAgICAgICAgICByZWplY3QoVHlwZUVycm9yKCdQcm9taXNlLWNoYWluIGN5Y2xlJykpO1xuXHQgICAgICAgICAgfSBlbHNlIGlmKHRoZW4gPSBpc1RoZW5hYmxlKHJlc3VsdCkpe1xuXHQgICAgICAgICAgICB0aGVuLmNhbGwocmVzdWx0LCByZXNvbHZlLCByZWplY3QpO1xuXHQgICAgICAgICAgfSBlbHNlIHJlc29sdmUocmVzdWx0KTtcblx0ICAgICAgICB9IGVsc2UgcmVqZWN0KHZhbHVlKTtcblx0ICAgICAgfSBjYXRjaChlKXtcblx0ICAgICAgICByZWplY3QoZSk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgICB3aGlsZShjaGFpbi5sZW5ndGggPiBpKXJ1bihjaGFpbltpKytdKTsgLy8gdmFyaWFibGUgbGVuZ3RoIC0gY2FuJ3QgdXNlIGZvckVhY2hcblx0ICAgIHByb21pc2UuX2MgPSBbXTtcblx0ICAgIHByb21pc2UuX24gPSBmYWxzZTtcblx0ICAgIGlmKGlzUmVqZWN0ICYmICFwcm9taXNlLl9oKW9uVW5oYW5kbGVkKHByb21pc2UpO1xuXHQgIH0pO1xuXHR9O1xuXHR2YXIgb25VbmhhbmRsZWQgPSBmdW5jdGlvbihwcm9taXNlKXtcblx0ICB0YXNrLmNhbGwoZ2xvYmFsLCBmdW5jdGlvbigpe1xuXHQgICAgdmFyIHZhbHVlID0gcHJvbWlzZS5fdlxuXHQgICAgICAsIGFicnVwdCwgaGFuZGxlciwgY29uc29sZTtcblx0ICAgIGlmKGlzVW5oYW5kbGVkKHByb21pc2UpKXtcblx0ICAgICAgYWJydXB0ID0gcGVyZm9ybShmdW5jdGlvbigpe1xuXHQgICAgICAgIGlmKGlzTm9kZSl7XG5cdCAgICAgICAgICBwcm9jZXNzLmVtaXQoJ3VuaGFuZGxlZFJlamVjdGlvbicsIHZhbHVlLCBwcm9taXNlKTtcblx0ICAgICAgICB9IGVsc2UgaWYoaGFuZGxlciA9IGdsb2JhbC5vbnVuaGFuZGxlZHJlamVjdGlvbil7XG5cdCAgICAgICAgICBoYW5kbGVyKHtwcm9taXNlOiBwcm9taXNlLCByZWFzb246IHZhbHVlfSk7XG5cdCAgICAgICAgfSBlbHNlIGlmKChjb25zb2xlID0gZ2xvYmFsLmNvbnNvbGUpICYmIGNvbnNvbGUuZXJyb3Ipe1xuXHQgICAgICAgICAgY29uc29sZS5lcnJvcignVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uJywgdmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICAgIC8vIEJyb3dzZXJzIHNob3VsZCBub3QgdHJpZ2dlciBgcmVqZWN0aW9uSGFuZGxlZGAgZXZlbnQgaWYgaXQgd2FzIGhhbmRsZWQgaGVyZSwgTm9kZUpTIC0gc2hvdWxkXG5cdCAgICAgIHByb21pc2UuX2ggPSBpc05vZGUgfHwgaXNVbmhhbmRsZWQocHJvbWlzZSkgPyAyIDogMTtcblx0ICAgIH0gcHJvbWlzZS5fYSA9IHVuZGVmaW5lZDtcblx0ICAgIGlmKGFicnVwdCl0aHJvdyBhYnJ1cHQuZXJyb3I7XG5cdCAgfSk7XG5cdH07XG5cdHZhciBpc1VuaGFuZGxlZCA9IGZ1bmN0aW9uKHByb21pc2Upe1xuXHQgIGlmKHByb21pc2UuX2ggPT0gMSlyZXR1cm4gZmFsc2U7XG5cdCAgdmFyIGNoYWluID0gcHJvbWlzZS5fYSB8fCBwcm9taXNlLl9jXG5cdCAgICAsIGkgICAgID0gMFxuXHQgICAgLCByZWFjdGlvbjtcblx0ICB3aGlsZShjaGFpbi5sZW5ndGggPiBpKXtcblx0ICAgIHJlYWN0aW9uID0gY2hhaW5baSsrXTtcblx0ICAgIGlmKHJlYWN0aW9uLmZhaWwgfHwgIWlzVW5oYW5kbGVkKHJlYWN0aW9uLnByb21pc2UpKXJldHVybiBmYWxzZTtcblx0ICB9IHJldHVybiB0cnVlO1xuXHR9O1xuXHR2YXIgb25IYW5kbGVVbmhhbmRsZWQgPSBmdW5jdGlvbihwcm9taXNlKXtcblx0ICB0YXNrLmNhbGwoZ2xvYmFsLCBmdW5jdGlvbigpe1xuXHQgICAgdmFyIGhhbmRsZXI7XG5cdCAgICBpZihpc05vZGUpe1xuXHQgICAgICBwcm9jZXNzLmVtaXQoJ3JlamVjdGlvbkhhbmRsZWQnLCBwcm9taXNlKTtcblx0ICAgIH0gZWxzZSBpZihoYW5kbGVyID0gZ2xvYmFsLm9ucmVqZWN0aW9uaGFuZGxlZCl7XG5cdCAgICAgIGhhbmRsZXIoe3Byb21pc2U6IHByb21pc2UsIHJlYXNvbjogcHJvbWlzZS5fdn0pO1xuXHQgICAgfVxuXHQgIH0pO1xuXHR9O1xuXHR2YXIgJHJlamVjdCA9IGZ1bmN0aW9uKHZhbHVlKXtcblx0ICB2YXIgcHJvbWlzZSA9IHRoaXM7XG5cdCAgaWYocHJvbWlzZS5fZClyZXR1cm47XG5cdCAgcHJvbWlzZS5fZCA9IHRydWU7XG5cdCAgcHJvbWlzZSA9IHByb21pc2UuX3cgfHwgcHJvbWlzZTsgLy8gdW53cmFwXG5cdCAgcHJvbWlzZS5fdiA9IHZhbHVlO1xuXHQgIHByb21pc2UuX3MgPSAyO1xuXHQgIGlmKCFwcm9taXNlLl9hKXByb21pc2UuX2EgPSBwcm9taXNlLl9jLnNsaWNlKCk7XG5cdCAgbm90aWZ5KHByb21pc2UsIHRydWUpO1xuXHR9O1xuXHR2YXIgJHJlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSl7XG5cdCAgdmFyIHByb21pc2UgPSB0aGlzXG5cdCAgICAsIHRoZW47XG5cdCAgaWYocHJvbWlzZS5fZClyZXR1cm47XG5cdCAgcHJvbWlzZS5fZCA9IHRydWU7XG5cdCAgcHJvbWlzZSA9IHByb21pc2UuX3cgfHwgcHJvbWlzZTsgLy8gdW53cmFwXG5cdCAgdHJ5IHtcblx0ICAgIGlmKHByb21pc2UgPT09IHZhbHVlKXRocm93IFR5cGVFcnJvcihcIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmXCIpO1xuXHQgICAgaWYodGhlbiA9IGlzVGhlbmFibGUodmFsdWUpKXtcblx0ICAgICAgbWljcm90YXNrKGZ1bmN0aW9uKCl7XG5cdCAgICAgICAgdmFyIHdyYXBwZXIgPSB7X3c6IHByb21pc2UsIF9kOiBmYWxzZX07IC8vIHdyYXBcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgdGhlbi5jYWxsKHZhbHVlLCBjdHgoJHJlc29sdmUsIHdyYXBwZXIsIDEpLCBjdHgoJHJlamVjdCwgd3JhcHBlciwgMSkpO1xuXHQgICAgICAgIH0gY2F0Y2goZSl7XG5cdCAgICAgICAgICAkcmVqZWN0LmNhbGwod3JhcHBlciwgZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHByb21pc2UuX3YgPSB2YWx1ZTtcblx0ICAgICAgcHJvbWlzZS5fcyA9IDE7XG5cdCAgICAgIG5vdGlmeShwcm9taXNlLCBmYWxzZSk7XG5cdCAgICB9XG5cdCAgfSBjYXRjaChlKXtcblx0ICAgICRyZWplY3QuY2FsbCh7X3c6IHByb21pc2UsIF9kOiBmYWxzZX0sIGUpOyAvLyB3cmFwXG5cdCAgfVxuXHR9O1xuXHRcblx0Ly8gY29uc3RydWN0b3IgcG9seWZpbGxcblx0aWYoIVVTRV9OQVRJVkUpe1xuXHQgIC8vIDI1LjQuMy4xIFByb21pc2UoZXhlY3V0b3IpXG5cdCAgJFByb21pc2UgPSBmdW5jdGlvbiBQcm9taXNlKGV4ZWN1dG9yKXtcblx0ICAgIGFuSW5zdGFuY2UodGhpcywgJFByb21pc2UsIFBST01JU0UsICdfaCcpO1xuXHQgICAgYUZ1bmN0aW9uKGV4ZWN1dG9yKTtcblx0ICAgIEludGVybmFsLmNhbGwodGhpcyk7XG5cdCAgICB0cnkge1xuXHQgICAgICBleGVjdXRvcihjdHgoJHJlc29sdmUsIHRoaXMsIDEpLCBjdHgoJHJlamVjdCwgdGhpcywgMSkpO1xuXHQgICAgfSBjYXRjaChlcnIpe1xuXHQgICAgICAkcmVqZWN0LmNhbGwodGhpcywgZXJyKTtcblx0ICAgIH1cblx0ICB9O1xuXHQgIEludGVybmFsID0gZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcil7XG5cdCAgICB0aGlzLl9jID0gW107ICAgICAgICAgICAgIC8vIDwtIGF3YWl0aW5nIHJlYWN0aW9uc1xuXHQgICAgdGhpcy5fYSA9IHVuZGVmaW5lZDsgICAgICAvLyA8LSBjaGVja2VkIGluIGlzVW5oYW5kbGVkIHJlYWN0aW9uc1xuXHQgICAgdGhpcy5fcyA9IDA7ICAgICAgICAgICAgICAvLyA8LSBzdGF0ZVxuXHQgICAgdGhpcy5fZCA9IGZhbHNlOyAgICAgICAgICAvLyA8LSBkb25lXG5cdCAgICB0aGlzLl92ID0gdW5kZWZpbmVkOyAgICAgIC8vIDwtIHZhbHVlXG5cdCAgICB0aGlzLl9oID0gMDsgICAgICAgICAgICAgIC8vIDwtIHJlamVjdGlvbiBzdGF0ZSwgMCAtIGRlZmF1bHQsIDEgLSBoYW5kbGVkLCAyIC0gdW5oYW5kbGVkXG5cdCAgICB0aGlzLl9uID0gZmFsc2U7ICAgICAgICAgIC8vIDwtIG5vdGlmeVxuXHQgIH07XG5cdCAgSW50ZXJuYWwucHJvdG90eXBlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OCkoJFByb21pc2UucHJvdG90eXBlLCB7XG5cdCAgICAvLyAyNS40LjUuMyBQcm9taXNlLnByb3RvdHlwZS50aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKVxuXHQgICAgdGhlbjogZnVuY3Rpb24gdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCl7XG5cdCAgICAgIHZhciByZWFjdGlvbiAgICA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KHNwZWNpZXNDb25zdHJ1Y3Rvcih0aGlzLCAkUHJvbWlzZSkpO1xuXHQgICAgICByZWFjdGlvbi5vayAgICAgPSB0eXBlb2Ygb25GdWxmaWxsZWQgPT0gJ2Z1bmN0aW9uJyA/IG9uRnVsZmlsbGVkIDogdHJ1ZTtcblx0ICAgICAgcmVhY3Rpb24uZmFpbCAgID0gdHlwZW9mIG9uUmVqZWN0ZWQgPT0gJ2Z1bmN0aW9uJyAmJiBvblJlamVjdGVkO1xuXHQgICAgICByZWFjdGlvbi5kb21haW4gPSBpc05vZGUgPyBwcm9jZXNzLmRvbWFpbiA6IHVuZGVmaW5lZDtcblx0ICAgICAgdGhpcy5fYy5wdXNoKHJlYWN0aW9uKTtcblx0ICAgICAgaWYodGhpcy5fYSl0aGlzLl9hLnB1c2gocmVhY3Rpb24pO1xuXHQgICAgICBpZih0aGlzLl9zKW5vdGlmeSh0aGlzLCBmYWxzZSk7XG5cdCAgICAgIHJldHVybiByZWFjdGlvbi5wcm9taXNlO1xuXHQgICAgfSxcblx0ICAgIC8vIDI1LjQuNS4xIFByb21pc2UucHJvdG90eXBlLmNhdGNoKG9uUmVqZWN0ZWQpXG5cdCAgICAnY2F0Y2gnOiBmdW5jdGlvbihvblJlamVjdGVkKXtcblx0ICAgICAgcmV0dXJuIHRoaXMudGhlbih1bmRlZmluZWQsIG9uUmVqZWN0ZWQpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgIFByb21pc2VDYXBhYmlsaXR5ID0gZnVuY3Rpb24oKXtcblx0ICAgIHZhciBwcm9taXNlICA9IG5ldyBJbnRlcm5hbDtcblx0ICAgIHRoaXMucHJvbWlzZSA9IHByb21pc2U7XG5cdCAgICB0aGlzLnJlc29sdmUgPSBjdHgoJHJlc29sdmUsIHByb21pc2UsIDEpO1xuXHQgICAgdGhpcy5yZWplY3QgID0gY3R4KCRyZWplY3QsIHByb21pc2UsIDEpO1xuXHQgIH07XG5cdH1cblx0XG5cdCRleHBvcnQoJGV4cG9ydC5HICsgJGV4cG9ydC5XICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIHtQcm9taXNlOiAkUHJvbWlzZX0pO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDcwKSgkUHJvbWlzZSwgUFJPTUlTRSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18oODkpKFBST01JU0UpO1xuXHRXcmFwcGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KVtQUk9NSVNFXTtcblx0XG5cdC8vIHN0YXRpY3Ncblx0JGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgUFJPTUlTRSwge1xuXHQgIC8vIDI1LjQuNC41IFByb21pc2UucmVqZWN0KHIpXG5cdCAgcmVqZWN0OiBmdW5jdGlvbiByZWplY3Qocil7XG5cdCAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KHRoaXMpXG5cdCAgICAgICwgJCRyZWplY3QgICA9IGNhcGFiaWxpdHkucmVqZWN0O1xuXHQgICAgJCRyZWplY3Qocik7XG5cdCAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuXHQgIH1cblx0fSk7XG5cdCRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogKExJQlJBUlkgfHwgIVVTRV9OQVRJVkUpLCBQUk9NSVNFLCB7XG5cdCAgLy8gMjUuNC40LjYgUHJvbWlzZS5yZXNvbHZlKHgpXG5cdCAgcmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZSh4KXtcblx0ICAgIC8vIGluc3RhbmNlb2YgaW5zdGVhZCBvZiBpbnRlcm5hbCBzbG90IGNoZWNrIGJlY2F1c2Ugd2Ugc2hvdWxkIGZpeCBpdCB3aXRob3V0IHJlcGxhY2VtZW50IG5hdGl2ZSBQcm9taXNlIGNvcmVcblx0ICAgIGlmKHggaW5zdGFuY2VvZiAkUHJvbWlzZSAmJiBzYW1lQ29uc3RydWN0b3IoeC5jb25zdHJ1Y3RvciwgdGhpcykpcmV0dXJuIHg7XG5cdCAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KHRoaXMpXG5cdCAgICAgICwgJCRyZXNvbHZlICA9IGNhcGFiaWxpdHkucmVzb2x2ZTtcblx0ICAgICQkcmVzb2x2ZSh4KTtcblx0ICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG5cdCAgfVxuXHR9KTtcblx0JGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhKFVTRV9OQVRJVkUgJiYgX193ZWJwYWNrX3JlcXVpcmVfXyg5MCkoZnVuY3Rpb24oaXRlcil7XG5cdCAgJFByb21pc2UuYWxsKGl0ZXIpWydjYXRjaCddKGVtcHR5KTtcblx0fSkpLCBQUk9NSVNFLCB7XG5cdCAgLy8gMjUuNC40LjEgUHJvbWlzZS5hbGwoaXRlcmFibGUpXG5cdCAgYWxsOiBmdW5jdGlvbiBhbGwoaXRlcmFibGUpe1xuXHQgICAgdmFyIEMgICAgICAgICAgPSB0aGlzXG5cdCAgICAgICwgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KEMpXG5cdCAgICAgICwgcmVzb2x2ZSAgICA9IGNhcGFiaWxpdHkucmVzb2x2ZVxuXHQgICAgICAsIHJlamVjdCAgICAgPSBjYXBhYmlsaXR5LnJlamVjdDtcblx0ICAgIHZhciBhYnJ1cHQgPSBwZXJmb3JtKGZ1bmN0aW9uKCl7XG5cdCAgICAgIHZhciB2YWx1ZXMgICAgPSBbXVxuXHQgICAgICAgICwgaW5kZXggICAgID0gMFxuXHQgICAgICAgICwgcmVtYWluaW5nID0gMTtcblx0ICAgICAgZm9yT2YoaXRlcmFibGUsIGZhbHNlLCBmdW5jdGlvbihwcm9taXNlKXtcblx0ICAgICAgICB2YXIgJGluZGV4ICAgICAgICA9IGluZGV4Kytcblx0ICAgICAgICAgICwgYWxyZWFkeUNhbGxlZCA9IGZhbHNlO1xuXHQgICAgICAgIHZhbHVlcy5wdXNoKHVuZGVmaW5lZCk7XG5cdCAgICAgICAgcmVtYWluaW5nKys7XG5cdCAgICAgICAgQy5yZXNvbHZlKHByb21pc2UpLnRoZW4oZnVuY3Rpb24odmFsdWUpe1xuXHQgICAgICAgICAgaWYoYWxyZWFkeUNhbGxlZClyZXR1cm47XG5cdCAgICAgICAgICBhbHJlYWR5Q2FsbGVkICA9IHRydWU7XG5cdCAgICAgICAgICB2YWx1ZXNbJGluZGV4XSA9IHZhbHVlO1xuXHQgICAgICAgICAgLS1yZW1haW5pbmcgfHwgcmVzb2x2ZSh2YWx1ZXMpO1xuXHQgICAgICAgIH0sIHJlamVjdCk7XG5cdCAgICAgIH0pO1xuXHQgICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG5cdCAgICB9KTtcblx0ICAgIGlmKGFicnVwdClyZWplY3QoYWJydXB0LmVycm9yKTtcblx0ICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG5cdCAgfSxcblx0ICAvLyAyNS40LjQuNCBQcm9taXNlLnJhY2UoaXRlcmFibGUpXG5cdCAgcmFjZTogZnVuY3Rpb24gcmFjZShpdGVyYWJsZSl7XG5cdCAgICB2YXIgQyAgICAgICAgICA9IHRoaXNcblx0ICAgICAgLCBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoQylcblx0ICAgICAgLCByZWplY3QgICAgID0gY2FwYWJpbGl0eS5yZWplY3Q7XG5cdCAgICB2YXIgYWJydXB0ID0gcGVyZm9ybShmdW5jdGlvbigpe1xuXHQgICAgICBmb3JPZihpdGVyYWJsZSwgZmFsc2UsIGZ1bmN0aW9uKHByb21pc2Upe1xuXHQgICAgICAgIEMucmVzb2x2ZShwcm9taXNlKS50aGVuKGNhcGFiaWxpdHkucmVzb2x2ZSwgcmVqZWN0KTtcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICAgIGlmKGFicnVwdClyZWplY3QoYWJydXB0LmVycm9yKTtcblx0ICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG5cdCAgfVxuXHR9KTtcblxuLyoqKi8gfSxcbi8qIDc4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBnZXR0aW5nIHRhZyBmcm9tIDE5LjEuMy42IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcoKVxuXHR2YXIgY29mID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSlcblx0ICAsIFRBRyA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpKCd0b1N0cmluZ1RhZycpXG5cdCAgLy8gRVMzIHdyb25nIGhlcmVcblx0ICAsIEFSRyA9IGNvZihmdW5jdGlvbigpeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID09ICdBcmd1bWVudHMnO1xuXHRcblx0Ly8gZmFsbGJhY2sgZm9yIElFMTEgU2NyaXB0IEFjY2VzcyBEZW5pZWQgZXJyb3Jcblx0dmFyIHRyeUdldCA9IGZ1bmN0aW9uKGl0LCBrZXkpe1xuXHQgIHRyeSB7XG5cdCAgICByZXR1cm4gaXRba2V5XTtcblx0ICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICB2YXIgTywgVCwgQjtcblx0ICByZXR1cm4gaXQgPT09IHVuZGVmaW5lZCA/ICdVbmRlZmluZWQnIDogaXQgPT09IG51bGwgPyAnTnVsbCdcblx0ICAgIC8vIEBAdG9TdHJpbmdUYWcgY2FzZVxuXHQgICAgOiB0eXBlb2YgKFQgPSB0cnlHZXQoTyA9IE9iamVjdChpdCksIFRBRykpID09ICdzdHJpbmcnID8gVFxuXHQgICAgLy8gYnVpbHRpblRhZyBjYXNlXG5cdCAgICA6IEFSRyA/IGNvZihPKVxuXHQgICAgLy8gRVMzIGFyZ3VtZW50cyBmYWxsYmFja1xuXHQgICAgOiAoQiA9IGNvZihPKSkgPT0gJ09iamVjdCcgJiYgdHlwZW9mIE8uY2FsbGVlID09ICdmdW5jdGlvbicgPyAnQXJndW1lbnRzJyA6IEI7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA3OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgQ29uc3RydWN0b3IsIG5hbWUsIGZvcmJpZGRlbkZpZWxkKXtcblx0ICBpZighKGl0IGluc3RhbmNlb2YgQ29uc3RydWN0b3IpIHx8IChmb3JiaWRkZW5GaWVsZCAhPT0gdW5kZWZpbmVkICYmIGZvcmJpZGRlbkZpZWxkIGluIGl0KSl7XG5cdCAgICB0aHJvdyBUeXBlRXJyb3IobmFtZSArICc6IGluY29ycmVjdCBpbnZvY2F0aW9uIScpO1xuXHQgIH0gcmV0dXJuIGl0O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogODAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBjdHggICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpXG5cdCAgLCBjYWxsICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oODEpXG5cdCAgLCBpc0FycmF5SXRlciA9IF9fd2VicGFja19yZXF1aXJlX18oODIpXG5cdCAgLCBhbk9iamVjdCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpXG5cdCAgLCB0b0xlbmd0aCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpXG5cdCAgLCBnZXRJdGVyRm4gICA9IF9fd2VicGFja19yZXF1aXJlX18oODMpXG5cdCAgLCBCUkVBSyAgICAgICA9IHt9XG5cdCAgLCBSRVRVUk4gICAgICA9IHt9O1xuXHR2YXIgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXRlcmFibGUsIGVudHJpZXMsIGZuLCB0aGF0LCBJVEVSQVRPUil7XG5cdCAgdmFyIGl0ZXJGbiA9IElURVJBVE9SID8gZnVuY3Rpb24oKXsgcmV0dXJuIGl0ZXJhYmxlOyB9IDogZ2V0SXRlckZuKGl0ZXJhYmxlKVxuXHQgICAgLCBmICAgICAgPSBjdHgoZm4sIHRoYXQsIGVudHJpZXMgPyAyIDogMSlcblx0ICAgICwgaW5kZXggID0gMFxuXHQgICAgLCBsZW5ndGgsIHN0ZXAsIGl0ZXJhdG9yLCByZXN1bHQ7XG5cdCAgaWYodHlwZW9mIGl0ZXJGbiAhPSAnZnVuY3Rpb24nKXRocm93IFR5cGVFcnJvcihpdGVyYWJsZSArICcgaXMgbm90IGl0ZXJhYmxlIScpO1xuXHQgIC8vIGZhc3QgY2FzZSBmb3IgYXJyYXlzIHdpdGggZGVmYXVsdCBpdGVyYXRvclxuXHQgIGlmKGlzQXJyYXlJdGVyKGl0ZXJGbikpZm9yKGxlbmd0aCA9IHRvTGVuZ3RoKGl0ZXJhYmxlLmxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKXtcblx0ICAgIHJlc3VsdCA9IGVudHJpZXMgPyBmKGFuT2JqZWN0KHN0ZXAgPSBpdGVyYWJsZVtpbmRleF0pWzBdLCBzdGVwWzFdKSA6IGYoaXRlcmFibGVbaW5kZXhdKTtcblx0ICAgIGlmKHJlc3VsdCA9PT0gQlJFQUsgfHwgcmVzdWx0ID09PSBSRVRVUk4pcmV0dXJuIHJlc3VsdDtcblx0ICB9IGVsc2UgZm9yKGl0ZXJhdG9yID0gaXRlckZuLmNhbGwoaXRlcmFibGUpOyAhKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmU7ICl7XG5cdCAgICByZXN1bHQgPSBjYWxsKGl0ZXJhdG9yLCBmLCBzdGVwLnZhbHVlLCBlbnRyaWVzKTtcblx0ICAgIGlmKHJlc3VsdCA9PT0gQlJFQUsgfHwgcmVzdWx0ID09PSBSRVRVUk4pcmV0dXJuIHJlc3VsdDtcblx0ICB9XG5cdH07XG5cdGV4cG9ydHMuQlJFQUsgID0gQlJFQUs7XG5cdGV4cG9ydHMuUkVUVVJOID0gUkVUVVJOO1xuXG4vKioqLyB9LFxuLyogODEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGNhbGwgc29tZXRoaW5nIG9uIGl0ZXJhdG9yIHN0ZXAgd2l0aCBzYWZlIGNsb3Npbmcgb24gZXJyb3Jcblx0dmFyIGFuT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXRlcmF0b3IsIGZuLCB2YWx1ZSwgZW50cmllcyl7XG5cdCAgdHJ5IHtcblx0ICAgIHJldHVybiBlbnRyaWVzID8gZm4oYW5PYmplY3QodmFsdWUpWzBdLCB2YWx1ZVsxXSkgOiBmbih2YWx1ZSk7XG5cdCAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbilcblx0ICB9IGNhdGNoKGUpe1xuXHQgICAgdmFyIHJldCA9IGl0ZXJhdG9yWydyZXR1cm4nXTtcblx0ICAgIGlmKHJldCAhPT0gdW5kZWZpbmVkKWFuT2JqZWN0KHJldC5jYWxsKGl0ZXJhdG9yKSk7XG5cdCAgICB0aHJvdyBlO1xuXHQgIH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDgyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBjaGVjayBvbiBkZWZhdWx0IEFycmF5IGl0ZXJhdG9yXG5cdHZhciBJdGVyYXRvcnMgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NSlcblx0ICAsIElURVJBVE9SICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKSgnaXRlcmF0b3InKVxuXHQgICwgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiBpdCAhPT0gdW5kZWZpbmVkICYmIChJdGVyYXRvcnMuQXJyYXkgPT09IGl0IHx8IEFycmF5UHJvdG9bSVRFUkFUT1JdID09PSBpdCk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA4MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGNsYXNzb2YgICA9IF9fd2VicGFja19yZXF1aXJlX18oNzgpXG5cdCAgLCBJVEVSQVRPUiAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKSgnaXRlcmF0b3InKVxuXHQgICwgSXRlcmF0b3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NSk7XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KS5nZXRJdGVyYXRvck1ldGhvZCA9IGZ1bmN0aW9uKGl0KXtcblx0ICBpZihpdCAhPSB1bmRlZmluZWQpcmV0dXJuIGl0W0lURVJBVE9SXVxuXHQgICAgfHwgaXRbJ0BAaXRlcmF0b3InXVxuXHQgICAgfHwgSXRlcmF0b3JzW2NsYXNzb2YoaXQpXTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDg0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyA3LjMuMjAgU3BlY2llc0NvbnN0cnVjdG9yKE8sIGRlZmF1bHRDb25zdHJ1Y3Rvcilcblx0dmFyIGFuT2JqZWN0ICA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpXG5cdCAgLCBhRnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKVxuXHQgICwgU1BFQ0lFUyAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MSkoJ3NwZWNpZXMnKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihPLCBEKXtcblx0ICB2YXIgQyA9IGFuT2JqZWN0KE8pLmNvbnN0cnVjdG9yLCBTO1xuXHQgIHJldHVybiBDID09PSB1bmRlZmluZWQgfHwgKFMgPSBhbk9iamVjdChDKVtTUEVDSUVTXSkgPT0gdW5kZWZpbmVkID8gRCA6IGFGdW5jdGlvbihTKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDg1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgY3R4ICAgICAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSlcblx0ICAsIGludm9rZSAgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oODYpXG5cdCAgLCBodG1sICAgICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5KVxuXHQgICwgY2VsICAgICAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMClcblx0ICAsIGdsb2JhbCAgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTApXG5cdCAgLCBwcm9jZXNzICAgICAgICAgICAgPSBnbG9iYWwucHJvY2Vzc1xuXHQgICwgc2V0VGFzayAgICAgICAgICAgID0gZ2xvYmFsLnNldEltbWVkaWF0ZVxuXHQgICwgY2xlYXJUYXNrICAgICAgICAgID0gZ2xvYmFsLmNsZWFySW1tZWRpYXRlXG5cdCAgLCBNZXNzYWdlQ2hhbm5lbCAgICAgPSBnbG9iYWwuTWVzc2FnZUNoYW5uZWxcblx0ICAsIGNvdW50ZXIgICAgICAgICAgICA9IDBcblx0ICAsIHF1ZXVlICAgICAgICAgICAgICA9IHt9XG5cdCAgLCBPTlJFQURZU1RBVEVDSEFOR0UgPSAnb25yZWFkeXN0YXRlY2hhbmdlJ1xuXHQgICwgZGVmZXIsIGNoYW5uZWwsIHBvcnQ7XG5cdHZhciBydW4gPSBmdW5jdGlvbigpe1xuXHQgIHZhciBpZCA9ICt0aGlzO1xuXHQgIGlmKHF1ZXVlLmhhc093blByb3BlcnR5KGlkKSl7XG5cdCAgICB2YXIgZm4gPSBxdWV1ZVtpZF07XG5cdCAgICBkZWxldGUgcXVldWVbaWRdO1xuXHQgICAgZm4oKTtcblx0ICB9XG5cdH07XG5cdHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50KXtcblx0ICBydW4uY2FsbChldmVudC5kYXRhKTtcblx0fTtcblx0Ly8gTm9kZS5qcyAwLjkrICYgSUUxMCsgaGFzIHNldEltbWVkaWF0ZSwgb3RoZXJ3aXNlOlxuXHRpZighc2V0VGFzayB8fCAhY2xlYXJUYXNrKXtcblx0ICBzZXRUYXNrID0gZnVuY3Rpb24gc2V0SW1tZWRpYXRlKGZuKXtcblx0ICAgIHZhciBhcmdzID0gW10sIGkgPSAxO1xuXHQgICAgd2hpbGUoYXJndW1lbnRzLmxlbmd0aCA+IGkpYXJncy5wdXNoKGFyZ3VtZW50c1tpKytdKTtcblx0ICAgIHF1ZXVlWysrY291bnRlcl0gPSBmdW5jdGlvbigpe1xuXHQgICAgICBpbnZva2UodHlwZW9mIGZuID09ICdmdW5jdGlvbicgPyBmbiA6IEZ1bmN0aW9uKGZuKSwgYXJncyk7XG5cdCAgICB9O1xuXHQgICAgZGVmZXIoY291bnRlcik7XG5cdCAgICByZXR1cm4gY291bnRlcjtcblx0ICB9O1xuXHQgIGNsZWFyVGFzayA9IGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGlkKXtcblx0ICAgIGRlbGV0ZSBxdWV1ZVtpZF07XG5cdCAgfTtcblx0ICAvLyBOb2RlLmpzIDAuOC1cblx0ICBpZihfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KShwcm9jZXNzKSA9PSAncHJvY2Vzcycpe1xuXHQgICAgZGVmZXIgPSBmdW5jdGlvbihpZCl7XG5cdCAgICAgIHByb2Nlc3MubmV4dFRpY2soY3R4KHJ1biwgaWQsIDEpKTtcblx0ICAgIH07XG5cdCAgLy8gQnJvd3NlcnMgd2l0aCBNZXNzYWdlQ2hhbm5lbCwgaW5jbHVkZXMgV2ViV29ya2Vyc1xuXHQgIH0gZWxzZSBpZihNZXNzYWdlQ2hhbm5lbCl7XG5cdCAgICBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsO1xuXHQgICAgcG9ydCAgICA9IGNoYW5uZWwucG9ydDI7XG5cdCAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGxpc3RlbmVyO1xuXHQgICAgZGVmZXIgPSBjdHgocG9ydC5wb3N0TWVzc2FnZSwgcG9ydCwgMSk7XG5cdCAgLy8gQnJvd3NlcnMgd2l0aCBwb3N0TWVzc2FnZSwgc2tpcCBXZWJXb3JrZXJzXG5cdCAgLy8gSUU4IGhhcyBwb3N0TWVzc2FnZSwgYnV0IGl0J3Mgc3luYyAmIHR5cGVvZiBpdHMgcG9zdE1lc3NhZ2UgaXMgJ29iamVjdCdcblx0ICB9IGVsc2UgaWYoZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIgJiYgdHlwZW9mIHBvc3RNZXNzYWdlID09ICdmdW5jdGlvbicgJiYgIWdsb2JhbC5pbXBvcnRTY3JpcHRzKXtcblx0ICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpe1xuXHQgICAgICBnbG9iYWwucG9zdE1lc3NhZ2UoaWQgKyAnJywgJyonKTtcblx0ICAgIH07XG5cdCAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGxpc3RlbmVyLCBmYWxzZSk7XG5cdCAgLy8gSUU4LVxuXHQgIH0gZWxzZSBpZihPTlJFQURZU1RBVEVDSEFOR0UgaW4gY2VsKCdzY3JpcHQnKSl7XG5cdCAgICBkZWZlciA9IGZ1bmN0aW9uKGlkKXtcblx0ICAgICAgaHRtbC5hcHBlbmRDaGlsZChjZWwoJ3NjcmlwdCcpKVtPTlJFQURZU1RBVEVDSEFOR0VdID0gZnVuY3Rpb24oKXtcblx0ICAgICAgICBodG1sLnJlbW92ZUNoaWxkKHRoaXMpO1xuXHQgICAgICAgIHJ1bi5jYWxsKGlkKTtcblx0ICAgICAgfTtcblx0ICAgIH07XG5cdCAgLy8gUmVzdCBvbGQgYnJvd3NlcnNcblx0ICB9IGVsc2Uge1xuXHQgICAgZGVmZXIgPSBmdW5jdGlvbihpZCl7XG5cdCAgICAgIHNldFRpbWVvdXQoY3R4KHJ1biwgaWQsIDEpLCAwKTtcblx0ICAgIH07XG5cdCAgfVxuXHR9XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIHNldDogICBzZXRUYXNrLFxuXHQgIGNsZWFyOiBjbGVhclRhc2tcblx0fTtcblxuLyoqKi8gfSxcbi8qIDg2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBmYXN0IGFwcGx5LCBodHRwOi8vanNwZXJmLmxua2l0LmNvbS9mYXN0LWFwcGx5LzVcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihmbiwgYXJncywgdGhhdCl7XG5cdCAgdmFyIHVuID0gdGhhdCA9PT0gdW5kZWZpbmVkO1xuXHQgIHN3aXRjaChhcmdzLmxlbmd0aCl7XG5cdCAgICBjYXNlIDA6IHJldHVybiB1biA/IGZuKClcblx0ICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0KTtcblx0ICAgIGNhc2UgMTogcmV0dXJuIHVuID8gZm4oYXJnc1swXSlcblx0ICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdKTtcblx0ICAgIGNhc2UgMjogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSlcblx0ICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdKTtcblx0ICAgIGNhc2UgMzogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSlcblx0ICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcblx0ICAgIGNhc2UgNDogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSlcblx0ICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKTtcblx0ICB9IHJldHVybiAgICAgICAgICAgICAgZm4uYXBwbHkodGhhdCwgYXJncyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA4NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGdsb2JhbCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTApXG5cdCAgLCBtYWNyb3Rhc2sgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg1KS5zZXRcblx0ICAsIE9ic2VydmVyICA9IGdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyXG5cdCAgLCBwcm9jZXNzICAgPSBnbG9iYWwucHJvY2Vzc1xuXHQgICwgUHJvbWlzZSAgID0gZ2xvYmFsLlByb21pc2Vcblx0ICAsIGlzTm9kZSAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpKHByb2Nlc3MpID09ICdwcm9jZXNzJztcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKXtcblx0ICB2YXIgaGVhZCwgbGFzdCwgbm90aWZ5O1xuXHRcblx0ICB2YXIgZmx1c2ggPSBmdW5jdGlvbigpe1xuXHQgICAgdmFyIHBhcmVudCwgZm47XG5cdCAgICBpZihpc05vZGUgJiYgKHBhcmVudCA9IHByb2Nlc3MuZG9tYWluKSlwYXJlbnQuZXhpdCgpO1xuXHQgICAgd2hpbGUoaGVhZCl7XG5cdCAgICAgIGZuICAgPSBoZWFkLmZuO1xuXHQgICAgICBoZWFkID0gaGVhZC5uZXh0O1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIGZuKCk7XG5cdCAgICAgIH0gY2F0Y2goZSl7XG5cdCAgICAgICAgaWYoaGVhZClub3RpZnkoKTtcblx0ICAgICAgICBlbHNlIGxhc3QgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgdGhyb3cgZTtcblx0ICAgICAgfVxuXHQgICAgfSBsYXN0ID0gdW5kZWZpbmVkO1xuXHQgICAgaWYocGFyZW50KXBhcmVudC5lbnRlcigpO1xuXHQgIH07XG5cdFxuXHQgIC8vIE5vZGUuanNcblx0ICBpZihpc05vZGUpe1xuXHQgICAgbm90aWZ5ID0gZnVuY3Rpb24oKXtcblx0ICAgICAgcHJvY2Vzcy5uZXh0VGljayhmbHVzaCk7XG5cdCAgICB9O1xuXHQgIC8vIGJyb3dzZXJzIHdpdGggTXV0YXRpb25PYnNlcnZlclxuXHQgIH0gZWxzZSBpZihPYnNlcnZlcil7XG5cdCAgICB2YXIgdG9nZ2xlID0gdHJ1ZVxuXHQgICAgICAsIG5vZGUgICA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcblx0ICAgIG5ldyBPYnNlcnZlcihmbHVzaCkub2JzZXJ2ZShub2RlLCB7Y2hhcmFjdGVyRGF0YTogdHJ1ZX0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ld1xuXHQgICAgbm90aWZ5ID0gZnVuY3Rpb24oKXtcblx0ICAgICAgbm9kZS5kYXRhID0gdG9nZ2xlID0gIXRvZ2dsZTtcblx0ICAgIH07XG5cdCAgLy8gZW52aXJvbm1lbnRzIHdpdGggbWF5YmUgbm9uLWNvbXBsZXRlbHkgY29ycmVjdCwgYnV0IGV4aXN0ZW50IFByb21pc2Vcblx0ICB9IGVsc2UgaWYoUHJvbWlzZSAmJiBQcm9taXNlLnJlc29sdmUpe1xuXHQgICAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcblx0ICAgIG5vdGlmeSA9IGZ1bmN0aW9uKCl7XG5cdCAgICAgIHByb21pc2UudGhlbihmbHVzaCk7XG5cdCAgICB9O1xuXHQgIC8vIGZvciBvdGhlciBlbnZpcm9ubWVudHMgLSBtYWNyb3Rhc2sgYmFzZWQgb246XG5cdCAgLy8gLSBzZXRJbW1lZGlhdGVcblx0ICAvLyAtIE1lc3NhZ2VDaGFubmVsXG5cdCAgLy8gLSB3aW5kb3cucG9zdE1lc3NhZ1xuXHQgIC8vIC0gb25yZWFkeXN0YXRlY2hhbmdlXG5cdCAgLy8gLSBzZXRUaW1lb3V0XG5cdCAgfSBlbHNlIHtcblx0ICAgIG5vdGlmeSA9IGZ1bmN0aW9uKCl7XG5cdCAgICAgIC8vIHN0cmFuZ2UgSUUgKyB3ZWJwYWNrIGRldiBzZXJ2ZXIgYnVnIC0gdXNlIC5jYWxsKGdsb2JhbClcblx0ICAgICAgbWFjcm90YXNrLmNhbGwoZ2xvYmFsLCBmbHVzaCk7XG5cdCAgICB9O1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKGZuKXtcblx0ICAgIHZhciB0YXNrID0ge2ZuOiBmbiwgbmV4dDogdW5kZWZpbmVkfTtcblx0ICAgIGlmKGxhc3QpbGFzdC5uZXh0ID0gdGFzaztcblx0ICAgIGlmKCFoZWFkKXtcblx0ICAgICAgaGVhZCA9IHRhc2s7XG5cdCAgICAgIG5vdGlmeSgpO1xuXHQgICAgfSBsYXN0ID0gdGFzaztcblx0ICB9O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogODggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBoaWRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odGFyZ2V0LCBzcmMsIHNhZmUpe1xuXHQgIGZvcih2YXIga2V5IGluIHNyYyl7XG5cdCAgICBpZihzYWZlICYmIHRhcmdldFtrZXldKXRhcmdldFtrZXldID0gc3JjW2tleV07XG5cdCAgICBlbHNlIGhpZGUodGFyZ2V0LCBrZXksIHNyY1trZXldKTtcblx0ICB9IHJldHVybiB0YXJnZXQ7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA4OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgZ2xvYmFsICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKVxuXHQgICwgY29yZSAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpXG5cdCAgLCBkUCAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpXG5cdCAgLCBERVNDUklQVE9SUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpXG5cdCAgLCBTUEVDSUVTICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpKCdzcGVjaWVzJyk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEtFWSl7XG5cdCAgdmFyIEMgPSB0eXBlb2YgY29yZVtLRVldID09ICdmdW5jdGlvbicgPyBjb3JlW0tFWV0gOiBnbG9iYWxbS0VZXTtcblx0ICBpZihERVNDUklQVE9SUyAmJiBDICYmICFDW1NQRUNJRVNdKWRQLmYoQywgU1BFQ0lFUywge1xuXHQgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuXHQgICAgZ2V0OiBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfVxuXHQgIH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogOTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBJVEVSQVRPUiAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKSgnaXRlcmF0b3InKVxuXHQgICwgU0FGRV9DTE9TSU5HID0gZmFsc2U7XG5cdFxuXHR0cnkge1xuXHQgIHZhciByaXRlciA9IFs3XVtJVEVSQVRPUl0oKTtcblx0ICByaXRlclsncmV0dXJuJ10gPSBmdW5jdGlvbigpeyBTQUZFX0NMT1NJTkcgPSB0cnVlOyB9O1xuXHQgIEFycmF5LmZyb20ocml0ZXIsIGZ1bmN0aW9uKCl7IHRocm93IDI7IH0pO1xuXHR9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMsIHNraXBDbG9zaW5nKXtcblx0ICBpZighc2tpcENsb3NpbmcgJiYgIVNBRkVfQ0xPU0lORylyZXR1cm4gZmFsc2U7XG5cdCAgdmFyIHNhZmUgPSBmYWxzZTtcblx0ICB0cnkge1xuXHQgICAgdmFyIGFyciAgPSBbN11cblx0ICAgICAgLCBpdGVyID0gYXJyW0lURVJBVE9SXSgpO1xuXHQgICAgaXRlci5uZXh0ID0gZnVuY3Rpb24oKXsgcmV0dXJuIHtkb25lOiBzYWZlID0gdHJ1ZX07IH07XG5cdCAgICBhcnJbSVRFUkFUT1JdID0gZnVuY3Rpb24oKXsgcmV0dXJuIGl0ZXI7IH07XG5cdCAgICBleGVjKGFycik7XG5cdCAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuXHQgIHJldHVybiBzYWZlO1xuXHR9O1xuXG4vKioqLyB9XG4vKioqKioqLyBdKSkpO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHBvcHVwLmpzXG4gKiovIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL2Jvb3RzdHJhcCBiY2E4MzEzYzFlMDQ3NGMxYTZkOVxuICoqLyIsIihmdW5jdGlvbihzZWxmKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBpZiAoc2VsZi5mZXRjaCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgdmFyIHN1cHBvcnQgPSB7XG4gICAgc2VhcmNoUGFyYW1zOiAnVVJMU2VhcmNoUGFyYW1zJyBpbiBzZWxmLFxuICAgIGl0ZXJhYmxlOiAnU3ltYm9sJyBpbiBzZWxmICYmICdpdGVyYXRvcicgaW4gU3ltYm9sLFxuICAgIGJsb2I6ICdGaWxlUmVhZGVyJyBpbiBzZWxmICYmICdCbG9iJyBpbiBzZWxmICYmIChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ldyBCbG9iKClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9KSgpLFxuICAgIGZvcm1EYXRhOiAnRm9ybURhdGEnIGluIHNlbGYsXG4gICAgYXJyYXlCdWZmZXI6ICdBcnJheUJ1ZmZlcicgaW4gc2VsZlxuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplTmFtZShuYW1lKSB7XG4gICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgICAgbmFtZSA9IFN0cmluZyhuYW1lKVxuICAgIH1cbiAgICBpZiAoL1teYS16MC05XFwtIyQlJicqKy5cXF5fYHx+XS9pLnRlc3QobmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgY2hhcmFjdGVyIGluIGhlYWRlciBmaWVsZCBuYW1lJylcbiAgICB9XG4gICAgcmV0dXJuIG5hbWUudG9Mb3dlckNhc2UoKVxuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpXG4gICAgfVxuICAgIHJldHVybiB2YWx1ZVxuICB9XG5cbiAgLy8gQnVpbGQgYSBkZXN0cnVjdGl2ZSBpdGVyYXRvciBmb3IgdGhlIHZhbHVlIGxpc3RcbiAgZnVuY3Rpb24gaXRlcmF0b3JGb3IoaXRlbXMpIHtcbiAgICB2YXIgaXRlcmF0b3IgPSB7XG4gICAgICBuZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gaXRlbXMuc2hpZnQoKVxuICAgICAgICByZXR1cm4ge2RvbmU6IHZhbHVlID09PSB1bmRlZmluZWQsIHZhbHVlOiB2YWx1ZX1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgICAgaXRlcmF0b3JbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaXRlcmF0b3JcbiAgfVxuXG4gIGZ1bmN0aW9uIEhlYWRlcnMoaGVhZGVycykge1xuICAgIHRoaXMubWFwID0ge31cblxuICAgIGlmIChoZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIHZhbHVlKVxuICAgICAgfSwgdGhpcylcblxuICAgIH0gZWxzZSBpZiAoaGVhZGVycykge1xuICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIGhlYWRlcnNbbmFtZV0pXG4gICAgICB9LCB0aGlzKVxuICAgIH1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcbiAgICB2YWx1ZSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxuICAgIHZhciBsaXN0ID0gdGhpcy5tYXBbbmFtZV1cbiAgICBpZiAoIWxpc3QpIHtcbiAgICAgIGxpc3QgPSBbXVxuICAgICAgdGhpcy5tYXBbbmFtZV0gPSBsaXN0XG4gICAgfVxuICAgIGxpc3QucHVzaCh2YWx1ZSlcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlWydkZWxldGUnXSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgdmFsdWVzID0gdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV1cbiAgICByZXR1cm4gdmFsdWVzID8gdmFsdWVzWzBdIDogbnVsbFxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZ2V0QWxsID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXSB8fCBbXVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShub3JtYWxpemVOYW1lKG5hbWUpKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXSA9IFtub3JtYWxpemVWYWx1ZSh2YWx1ZSldXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzLm1hcCkuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICB0aGlzLm1hcFtuYW1lXS5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWUsIG5hbWUsIHRoaXMpXG4gICAgICB9LCB0aGlzKVxuICAgIH0sIHRoaXMpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW11cbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHsgaXRlbXMucHVzaChuYW1lKSB9KVxuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7IGl0ZW1zLnB1c2godmFsdWUpIH0pXG4gICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7IGl0ZW1zLnB1c2goW25hbWUsIHZhbHVlXSkgfSlcbiAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG4gIH1cblxuICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgIEhlYWRlcnMucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzXG4gIH1cblxuICBmdW5jdGlvbiBjb25zdW1lZChib2R5KSB7XG4gICAgaWYgKGJvZHkuYm9keVVzZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKSlcbiAgICB9XG4gICAgYm9keS5ib2R5VXNlZCA9IHRydWVcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdClcbiAgICAgIH1cbiAgICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChyZWFkZXIuZXJyb3IpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNBcnJheUJ1ZmZlcihibG9iKSB7XG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYilcbiAgICByZXR1cm4gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNUZXh0KGJsb2IpIHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICAgIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IpXG4gICAgcmV0dXJuIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gIH1cblxuICBmdW5jdGlvbiBCb2R5KCkge1xuICAgIHRoaXMuYm9keVVzZWQgPSBmYWxzZVxuXG4gICAgdGhpcy5faW5pdEJvZHkgPSBmdW5jdGlvbihib2R5KSB7XG4gICAgICB0aGlzLl9ib2R5SW5pdCA9IGJvZHlcbiAgICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYmxvYiAmJiBCbG9iLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlCbG9iID0gYm9keVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmZvcm1EYXRhICYmIEZvcm1EYXRhLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlGb3JtRGF0YSA9IGJvZHlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keS50b1N0cmluZygpXG4gICAgICB9IGVsc2UgaWYgKCFib2R5KSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gJydcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiBBcnJheUJ1ZmZlci5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICAvLyBPbmx5IHN1cHBvcnQgQXJyYXlCdWZmZXJzIGZvciBQT1NUIG1ldGhvZC5cbiAgICAgICAgLy8gUmVjZWl2aW5nIEFycmF5QnVmZmVycyBoYXBwZW5zIHZpYSBCbG9icywgaW5zdGVhZC5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndW5zdXBwb3J0ZWQgQm9keUluaXQgdHlwZScpXG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICd0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLTgnKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlCbG9iICYmIHRoaXMuX2JvZHlCbG9iLnR5cGUpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCB0aGlzLl9ib2R5QmxvYi50eXBlKVxuICAgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5ibG9iKSB7XG4gICAgICB0aGlzLmJsb2IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlCbG9iKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5VGV4dF0pKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYXJyYXlCdWZmZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmxvYigpLnRoZW4ocmVhZEJsb2JBc0FycmF5QnVmZmVyKVxuICAgICAgfVxuXG4gICAgICB0aGlzLnRleHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgICByZXR1cm4gcmVhZEJsb2JBc1RleHQodGhpcy5fYm9keUJsb2IpXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIHRleHQnKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keVRleHQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy50ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgICAgIHJldHVybiByZWplY3RlZCA/IHJlamVjdGVkIDogUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXBwb3J0LmZvcm1EYXRhKSB7XG4gICAgICB0aGlzLmZvcm1EYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKGRlY29kZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmpzb24gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKEpTT04ucGFyc2UpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8vIEhUVFAgbWV0aG9kcyB3aG9zZSBjYXBpdGFsaXphdGlvbiBzaG91bGQgYmUgbm9ybWFsaXplZFxuICB2YXIgbWV0aG9kcyA9IFsnREVMRVRFJywgJ0dFVCcsICdIRUFEJywgJ09QVElPTlMnLCAnUE9TVCcsICdQVVQnXVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZU1ldGhvZChtZXRob2QpIHtcbiAgICB2YXIgdXBjYXNlZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpXG4gICAgcmV0dXJuIChtZXRob2RzLmluZGV4T2YodXBjYXNlZCkgPiAtMSkgPyB1cGNhc2VkIDogbWV0aG9kXG4gIH1cblxuICBmdW5jdGlvbiBSZXF1ZXN0KGlucHV0LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgICB2YXIgYm9keSA9IG9wdGlvbnMuYm9keVxuICAgIGlmIChSZXF1ZXN0LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGlucHV0KSkge1xuICAgICAgaWYgKGlucHV0LmJvZHlVc2VkKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpXG4gICAgICB9XG4gICAgICB0aGlzLnVybCA9IGlucHV0LnVybFxuICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGlucHV0LmNyZWRlbnRpYWxzXG4gICAgICBpZiAoIW9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhpbnB1dC5oZWFkZXJzKVxuICAgICAgfVxuICAgICAgdGhpcy5tZXRob2QgPSBpbnB1dC5tZXRob2RcbiAgICAgIHRoaXMubW9kZSA9IGlucHV0Lm1vZGVcbiAgICAgIGlmICghYm9keSkge1xuICAgICAgICBib2R5ID0gaW5wdXQuX2JvZHlJbml0XG4gICAgICAgIGlucHV0LmJvZHlVc2VkID0gdHJ1ZVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVybCA9IGlucHV0XG4gICAgfVxuXG4gICAgdGhpcy5jcmVkZW50aWFscyA9IG9wdGlvbnMuY3JlZGVudGlhbHMgfHwgdGhpcy5jcmVkZW50aWFscyB8fCAnb21pdCdcbiAgICBpZiAob3B0aW9ucy5oZWFkZXJzIHx8ICF0aGlzLmhlYWRlcnMpIHtcbiAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgICB9XG4gICAgdGhpcy5tZXRob2QgPSBub3JtYWxpemVNZXRob2Qob3B0aW9ucy5tZXRob2QgfHwgdGhpcy5tZXRob2QgfHwgJ0dFVCcpXG4gICAgdGhpcy5tb2RlID0gb3B0aW9ucy5tb2RlIHx8IHRoaXMubW9kZSB8fCBudWxsXG4gICAgdGhpcy5yZWZlcnJlciA9IG51bGxcblxuICAgIGlmICgodGhpcy5tZXRob2QgPT09ICdHRVQnIHx8IHRoaXMubWV0aG9kID09PSAnSEVBRCcpICYmIGJvZHkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0JvZHkgbm90IGFsbG93ZWQgZm9yIEdFVCBvciBIRUFEIHJlcXVlc3RzJylcbiAgICB9XG4gICAgdGhpcy5faW5pdEJvZHkoYm9keSlcbiAgfVxuXG4gIFJlcXVlc3QucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBSZXF1ZXN0KHRoaXMpXG4gIH1cblxuICBmdW5jdGlvbiBkZWNvZGUoYm9keSkge1xuICAgIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKClcbiAgICBib2R5LnRyaW0oKS5zcGxpdCgnJicpLmZvckVhY2goZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIGlmIChieXRlcykge1xuICAgICAgICB2YXIgc3BsaXQgPSBieXRlcy5zcGxpdCgnPScpXG4gICAgICAgIHZhciBuYW1lID0gc3BsaXQuc2hpZnQoKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuICAgICAgICB2YXIgdmFsdWUgPSBzcGxpdC5qb2luKCc9JykucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgZm9ybS5hcHBlbmQoZGVjb2RlVVJJQ29tcG9uZW50KG5hbWUpLCBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIGZvcm1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhlYWRlcnMoeGhyKSB7XG4gICAgdmFyIGhlYWQgPSBuZXcgSGVhZGVycygpXG4gICAgdmFyIHBhaXJzID0gKHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSB8fCAnJykudHJpbSgpLnNwbGl0KCdcXG4nKVxuICAgIHBhaXJzLmZvckVhY2goZnVuY3Rpb24oaGVhZGVyKSB7XG4gICAgICB2YXIgc3BsaXQgPSBoZWFkZXIudHJpbSgpLnNwbGl0KCc6JylcbiAgICAgIHZhciBrZXkgPSBzcGxpdC5zaGlmdCgpLnRyaW0oKVxuICAgICAgdmFyIHZhbHVlID0gc3BsaXQuam9pbignOicpLnRyaW0oKVxuICAgICAgaGVhZC5hcHBlbmQoa2V5LCB2YWx1ZSlcbiAgICB9KVxuICAgIHJldHVybiBoZWFkXG4gIH1cblxuICBCb2R5LmNhbGwoUmVxdWVzdC5wcm90b3R5cGUpXG5cbiAgZnVuY3Rpb24gUmVzcG9uc2UoYm9keUluaXQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSB7fVxuICAgIH1cblxuICAgIHRoaXMudHlwZSA9ICdkZWZhdWx0J1xuICAgIHRoaXMuc3RhdHVzID0gb3B0aW9ucy5zdGF0dXNcbiAgICB0aGlzLm9rID0gdGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwXG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gb3B0aW9ucy5zdGF0dXNUZXh0XG4gICAgdGhpcy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycyA/IG9wdGlvbnMuaGVhZGVycyA6IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgICB0aGlzLnVybCA9IG9wdGlvbnMudXJsIHx8ICcnXG4gICAgdGhpcy5faW5pdEJvZHkoYm9keUluaXQpXG4gIH1cblxuICBCb2R5LmNhbGwoUmVzcG9uc2UucHJvdG90eXBlKVxuXG4gIFJlc3BvbnNlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UodGhpcy5fYm9keUluaXQsIHtcbiAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgICBzdGF0dXNUZXh0OiB0aGlzLnN0YXR1c1RleHQsXG4gICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh0aGlzLmhlYWRlcnMpLFxuICAgICAgdXJsOiB0aGlzLnVybFxuICAgIH0pXG4gIH1cblxuICBSZXNwb25zZS5lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXNwb25zZSA9IG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiAwLCBzdGF0dXNUZXh0OiAnJ30pXG4gICAgcmVzcG9uc2UudHlwZSA9ICdlcnJvcidcbiAgICByZXR1cm4gcmVzcG9uc2VcbiAgfVxuXG4gIHZhciByZWRpcmVjdFN0YXR1c2VzID0gWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XVxuXG4gIFJlc3BvbnNlLnJlZGlyZWN0ID0gZnVuY3Rpb24odXJsLCBzdGF0dXMpIHtcbiAgICBpZiAocmVkaXJlY3RTdGF0dXNlcy5pbmRleE9mKHN0YXR1cykgPT09IC0xKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCBzdGF0dXMgY29kZScpXG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiBzdGF0dXMsIGhlYWRlcnM6IHtsb2NhdGlvbjogdXJsfX0pXG4gIH1cblxuICBzZWxmLkhlYWRlcnMgPSBIZWFkZXJzXG4gIHNlbGYuUmVxdWVzdCA9IFJlcXVlc3RcbiAgc2VsZi5SZXNwb25zZSA9IFJlc3BvbnNlXG5cbiAgc2VsZi5mZXRjaCA9IGZ1bmN0aW9uKGlucHV0LCBpbml0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlcXVlc3RcbiAgICAgIGlmIChSZXF1ZXN0LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGlucHV0KSAmJiAhaW5pdCkge1xuICAgICAgICByZXF1ZXN0ID0gaW5wdXRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcXVlc3QgPSBuZXcgUmVxdWVzdChpbnB1dCwgaW5pdClcbiAgICAgIH1cblxuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG5cbiAgICAgIGZ1bmN0aW9uIHJlc3BvbnNlVVJMKCkge1xuICAgICAgICBpZiAoJ3Jlc3BvbnNlVVJMJyBpbiB4aHIpIHtcbiAgICAgICAgICByZXR1cm4geGhyLnJlc3BvbnNlVVJMXG4gICAgICAgIH1cblxuICAgICAgICAvLyBBdm9pZCBzZWN1cml0eSB3YXJuaW5ncyBvbiBnZXRSZXNwb25zZUhlYWRlciB3aGVuIG5vdCBhbGxvd2VkIGJ5IENPUlNcbiAgICAgICAgaWYgKC9eWC1SZXF1ZXN0LVVSTDovbS50ZXN0KHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpIHtcbiAgICAgICAgICByZXR1cm4geGhyLmdldFJlc3BvbnNlSGVhZGVyKCdYLVJlcXVlc3QtVVJMJylcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgIHN0YXR1czogeGhyLnN0YXR1cyxcbiAgICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKHhociksXG4gICAgICAgICAgdXJsOiByZXNwb25zZVVSTCgpXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJvZHkgPSAncmVzcG9uc2UnIGluIHhociA/IHhoci5yZXNwb25zZSA6IHhoci5yZXNwb25zZVRleHRcbiAgICAgICAgcmVzb2x2ZShuZXcgUmVzcG9uc2UoYm9keSwgb3B0aW9ucykpXG4gICAgICB9XG5cbiAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG4gICAgICB9XG5cbiAgICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9wZW4ocmVxdWVzdC5tZXRob2QsIHJlcXVlc3QudXJsLCB0cnVlKVxuXG4gICAgICBpZiAocmVxdWVzdC5jcmVkZW50aWFscyA9PT0gJ2luY2x1ZGUnKSB7XG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlXG4gICAgICB9XG5cbiAgICAgIGlmICgncmVzcG9uc2VUeXBlJyBpbiB4aHIgJiYgc3VwcG9ydC5ibG9iKSB7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYidcbiAgICAgIH1cblxuICAgICAgcmVxdWVzdC5oZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgdmFsdWUpXG4gICAgICB9KVxuXG4gICAgICB4aHIuc2VuZCh0eXBlb2YgcmVxdWVzdC5fYm9keUluaXQgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IHJlcXVlc3QuX2JvZHlJbml0KVxuICAgIH0pXG4gIH1cbiAgc2VsZi5mZXRjaC5wb2x5ZmlsbCA9IHRydWVcbn0pKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzKTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3doYXR3Zy1mZXRjaC9mZXRjaC5qc1xuICoqIG1vZHVsZSBpZCA9IDFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwidmFyIGNvcmUgPSBtb2R1bGUuZXhwb3J0cyA9IHt2ZXJzaW9uOiAnMi40LjAnfTtcbmlmKHR5cGVvZiBfX2UgPT0gJ251bWJlcicpX19lID0gY29yZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb3JlLmpzXG4gKiogbW9kdWxlIGlkID0gNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCJ2YXIgZ2xvYmFsICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBjb3JlICAgICAgPSByZXF1aXJlKCcuL19jb3JlJylcbiAgLCBjdHggICAgICAgPSByZXF1aXJlKCcuL19jdHgnKVxuICAsIGhpZGUgICAgICA9IHJlcXVpcmUoJy4vX2hpZGUnKVxuICAsIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG52YXIgJGV4cG9ydCA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHNvdXJjZSl7XG4gIHZhciBJU19GT1JDRUQgPSB0eXBlICYgJGV4cG9ydC5GXG4gICAgLCBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HXG4gICAgLCBJU19TVEFUSUMgPSB0eXBlICYgJGV4cG9ydC5TXG4gICAgLCBJU19QUk9UTyAgPSB0eXBlICYgJGV4cG9ydC5QXG4gICAgLCBJU19CSU5EICAgPSB0eXBlICYgJGV4cG9ydC5CXG4gICAgLCBJU19XUkFQICAgPSB0eXBlICYgJGV4cG9ydC5XXG4gICAgLCBleHBvcnRzICAgPSBJU19HTE9CQUwgPyBjb3JlIDogY29yZVtuYW1lXSB8fCAoY29yZVtuYW1lXSA9IHt9KVxuICAgICwgZXhwUHJvdG8gID0gZXhwb3J0c1tQUk9UT1RZUEVdXG4gICAgLCB0YXJnZXQgICAgPSBJU19HTE9CQUwgPyBnbG9iYWwgOiBJU19TVEFUSUMgPyBnbG9iYWxbbmFtZV0gOiAoZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdXG4gICAgLCBrZXksIG93biwgb3V0O1xuICBpZihJU19HTE9CQUwpc291cmNlID0gbmFtZTtcbiAgZm9yKGtleSBpbiBzb3VyY2Upe1xuICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWQ7XG4gICAgaWYob3duICYmIGtleSBpbiBleHBvcnRzKWNvbnRpbnVlO1xuICAgIC8vIGV4cG9ydCBuYXRpdmUgb3IgcGFzc2VkXG4gICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcbiAgICAvLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXNcbiAgICBleHBvcnRzW2tleV0gPSBJU19HTE9CQUwgJiYgdHlwZW9mIHRhcmdldFtrZXldICE9ICdmdW5jdGlvbicgPyBzb3VyY2Vba2V5XVxuICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG4gICAgOiBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbClcbiAgICAvLyB3cmFwIGdsb2JhbCBjb25zdHJ1Y3RvcnMgZm9yIHByZXZlbnQgY2hhbmdlIHRoZW0gaW4gbGlicmFyeVxuICAgIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24oQyl7XG4gICAgICB2YXIgRiA9IGZ1bmN0aW9uKGEsIGIsIGMpe1xuICAgICAgICBpZih0aGlzIGluc3RhbmNlb2YgQyl7XG4gICAgICAgICAgc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe1xuICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEM7XG4gICAgICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgQyhhKTtcbiAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDKGEsIGIpO1xuICAgICAgICAgIH0gcmV0dXJuIG5ldyBDKGEsIGIsIGMpO1xuICAgICAgICB9IHJldHVybiBDLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgICAgRltQUk9UT1RZUEVdID0gQ1tQUk9UT1RZUEVdO1xuICAgICAgcmV0dXJuIEY7XG4gICAgLy8gbWFrZSBzdGF0aWMgdmVyc2lvbnMgZm9yIHByb3RvdHlwZSBtZXRob2RzXG4gICAgfSkob3V0KSA6IElTX1BST1RPICYmIHR5cGVvZiBvdXQgPT0gJ2Z1bmN0aW9uJyA/IGN0eChGdW5jdGlvbi5jYWxsLCBvdXQpIDogb3V0O1xuICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5tZXRob2RzLiVOQU1FJVxuICAgIGlmKElTX1BST1RPKXtcbiAgICAgIChleHBvcnRzLnZpcnR1YWwgfHwgKGV4cG9ydHMudmlydHVhbCA9IHt9KSlba2V5XSA9IG91dDtcbiAgICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5wcm90b3R5cGUuJU5BTUUlXG4gICAgICBpZih0eXBlICYgJGV4cG9ydC5SICYmIGV4cFByb3RvICYmICFleHBQcm90b1trZXldKWhpZGUoZXhwUHJvdG8sIGtleSwgb3V0KTtcbiAgICB9XG4gIH1cbn07XG4vLyB0eXBlIGJpdG1hcFxuJGV4cG9ydC5GID0gMTsgICAvLyBmb3JjZWRcbiRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG4kZXhwb3J0LlMgPSA0OyAgIC8vIHN0YXRpY1xuJGV4cG9ydC5QID0gODsgICAvLyBwcm90b1xuJGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG4kZXhwb3J0LlcgPSAzMjsgIC8vIHdyYXBcbiRleHBvcnQuVSA9IDY0OyAgLy8gc2FmZVxuJGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgIFxubW9kdWxlLmV4cG9ydHMgPSAkZXhwb3J0O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19leHBvcnQuanNcbiAqKiBtb2R1bGUgaWQgPSA5XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG52YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGhcbiAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGYgOiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuaWYodHlwZW9mIF9fZyA9PSAnbnVtYmVyJylfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZ2xvYmFsLmpzXG4gKiogbW9kdWxlIGlkID0gMTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwiLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG52YXIgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi9fYS1mdW5jdGlvbicpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihmbiwgdGhhdCwgbGVuZ3RoKXtcbiAgYUZ1bmN0aW9uKGZuKTtcbiAgaWYodGhhdCA9PT0gdW5kZWZpbmVkKXJldHVybiBmbjtcbiAgc3dpdGNoKGxlbmd0aCl7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24oYSl7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhKTtcbiAgICB9O1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uKGEsIGIpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYik7XG4gICAgfTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbihhLCBiLCBjKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIsIGMpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uKC8qIC4uLmFyZ3MgKi8pe1xuICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICB9O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3R4LmpzXG4gKiogbW9kdWxlIGlkID0gMTFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKHR5cGVvZiBpdCAhPSAnZnVuY3Rpb24nKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG4gIHJldHVybiBpdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2EtZnVuY3Rpb24uanNcbiAqKiBtb2R1bGUgaWQgPSAxMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCJ2YXIgZFAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpXG4gICwgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG4gIHJldHVybiBkUC5mKG9iamVjdCwga2V5LCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG59IDogZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXtcbiAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgcmV0dXJuIG9iamVjdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hpZGUuanNcbiAqKiBtb2R1bGUgaWQgPSAxM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCJ2YXIgYW5PYmplY3QgICAgICAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIElFOF9ET01fREVGSU5FID0gcmVxdWlyZSgnLi9faWU4LWRvbS1kZWZpbmUnKVxuICAsIHRvUHJpbWl0aXZlICAgID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJylcbiAgLCBkUCAgICAgICAgICAgICA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpe1xuICBhbk9iamVjdChPKTtcbiAgUCA9IHRvUHJpbWl0aXZlKFAsIHRydWUpO1xuICBhbk9iamVjdChBdHRyaWJ1dGVzKTtcbiAgaWYoSUU4X0RPTV9ERUZJTkUpdHJ5IHtcbiAgICByZXR1cm4gZFAoTywgUCwgQXR0cmlidXRlcyk7XG4gIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbiAgaWYoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKXRocm93IFR5cGVFcnJvcignQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhJyk7XG4gIGlmKCd2YWx1ZScgaW4gQXR0cmlidXRlcylPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcbiAgcmV0dXJuIE87XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHAuanNcbiAqKiBtb2R1bGUgaWQgPSAxNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICBpZighaXNPYmplY3QoaXQpKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGFuIG9iamVjdCEnKTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYW4tb2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiB0eXBlb2YgaXQgPT09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbic7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1vYmplY3QuanNcbiAqKiBtb2R1bGUgaWQgPSAxNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpICYmICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVxdWlyZSgnLi9fZG9tLWNyZWF0ZScpKCdkaXYnKSwgJ2EnLCB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gNzsgfX0pLmEgIT0gNztcbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pZTgtZG9tLWRlZmluZS5qc1xuICoqIG1vZHVsZSBpZCA9IDE3XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsIi8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcbm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gNzsgfX0pLmEgIT0gNztcbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZXNjcmlwdG9ycy5qc1xuICoqIG1vZHVsZSBpZCA9IDE4XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYyl7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZXhlYygpO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19mYWlscy5qc1xuICoqIG1vZHVsZSBpZCA9IDE5XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpXG4gICwgZG9jdW1lbnQgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5kb2N1bWVudFxuICAvLyBpbiBvbGQgSUUgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgaXMgJ29iamVjdCdcbiAgLCBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXMgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGl0KSA6IHt9O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZG9tLWNyZWF0ZS5qc1xuICoqIG1vZHVsZSBpZCA9IDIwXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsIi8vIDcuMS4xIFRvUHJpbWl0aXZlKGlucHV0IFssIFByZWZlcnJlZFR5cGVdKVxudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG4vLyBpbnN0ZWFkIG9mIHRoZSBFUzYgc3BlYyB2ZXJzaW9uLCB3ZSBkaWRuJ3QgaW1wbGVtZW50IEBAdG9QcmltaXRpdmUgY2FzZVxuLy8gYW5kIHRoZSBzZWNvbmQgYXJndW1lbnQgLSBmbGFnIC0gcHJlZmVycmVkIHR5cGUgaXMgYSBzdHJpbmdcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIFMpe1xuICBpZighaXNPYmplY3QoaXQpKXJldHVybiBpdDtcbiAgdmFyIGZuLCB2YWw7XG4gIGlmKFMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcbiAgaWYodHlwZW9mIChmbiA9IGl0LnZhbHVlT2YpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuICBpZighUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuICB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1wcmltaXRpdmUuanNcbiAqKiBtb2R1bGUgaWQgPSAyMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGJpdG1hcCwgdmFsdWUpe1xuICByZXR1cm4ge1xuICAgIGVudW1lcmFibGUgIDogIShiaXRtYXAgJiAxKSxcbiAgICBjb25maWd1cmFibGU6ICEoYml0bWFwICYgMiksXG4gICAgd3JpdGFibGUgICAgOiAhKGJpdG1hcCAmIDQpLFxuICAgIHZhbHVlICAgICAgIDogdmFsdWVcbiAgfTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Byb3BlcnR5LWRlc2MuanNcbiAqKiBtb2R1bGUgaWQgPSAyMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCIvLyAxOS4xLjIuMTQgLyAxNS4yLjMuMTQgT2JqZWN0LmtleXMoTylcbnZhciAka2V5cyAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJylcbiAgLCBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiBrZXlzKE8pe1xuICByZXR1cm4gJGtleXMoTywgZW51bUJ1Z0tleXMpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMuanNcbiAqKiBtb2R1bGUgaWQgPSAyNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCJ2YXIgaGFzICAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCB0b0lPYmplY3QgICAgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcbiAgLCBhcnJheUluZGV4T2YgPSByZXF1aXJlKCcuL19hcnJheS1pbmNsdWRlcycpKGZhbHNlKVxuICAsIElFX1BST1RPICAgICA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmplY3QsIG5hbWVzKXtcbiAgdmFyIE8gICAgICA9IHRvSU9iamVjdChvYmplY3QpXG4gICAgLCBpICAgICAgPSAwXG4gICAgLCByZXN1bHQgPSBbXVxuICAgICwga2V5O1xuICBmb3Ioa2V5IGluIE8paWYoa2V5ICE9IElFX1BST1RPKWhhcyhPLCBrZXkpICYmIHJlc3VsdC5wdXNoKGtleSk7XG4gIC8vIERvbid0IGVudW0gYnVnICYgaGlkZGVuIGtleXNcbiAgd2hpbGUobmFtZXMubGVuZ3RoID4gaSlpZihoYXMoTywga2V5ID0gbmFtZXNbaSsrXSkpe1xuICAgIH5hcnJheUluZGV4T2YocmVzdWx0LCBrZXkpIHx8IHJlc3VsdC5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLWludGVybmFsLmpzXG4gKiogbW9kdWxlIGlkID0gMjVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwidmFyIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBrZXkpe1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hhcy5qc1xuICoqIG1vZHVsZSBpZCA9IDI2XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsIi8vIHRvIGluZGV4ZWQgb2JqZWN0LCB0b09iamVjdCB3aXRoIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xudmFyIElPYmplY3QgPSByZXF1aXJlKCcuL19pb2JqZWN0JylcbiAgLCBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBJT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWlvYmplY3QuanNcbiAqKiBtb2R1bGUgaWQgPSAyN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCIvLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5nc1xudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKSA/IE9iamVjdCA6IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGNvZihpdCkgPT0gJ1N0cmluZycgPyBpdC5zcGxpdCgnJykgOiBPYmplY3QoaXQpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faW9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDI4XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsInZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvZi5qc1xuICoqIG1vZHVsZSBpZCA9IDI5XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsIi8vIDcuMi4xIFJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoaXQgPT0gdW5kZWZpbmVkKXRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZGVmaW5lZC5qc1xuICoqIG1vZHVsZSBpZCA9IDMwXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsIi8vIGZhbHNlIC0+IEFycmF5I2luZGV4T2Zcbi8vIHRydWUgIC0+IEFycmF5I2luY2x1ZGVzXG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgdG9MZW5ndGggID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJylcbiAgLCB0b0luZGV4ICAgPSByZXF1aXJlKCcuL190by1pbmRleCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihJU19JTkNMVURFUyl7XG4gIHJldHVybiBmdW5jdGlvbigkdGhpcywgZWwsIGZyb21JbmRleCl7XG4gICAgdmFyIE8gICAgICA9IHRvSU9iamVjdCgkdGhpcylcbiAgICAgICwgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpXG4gICAgICAsIGluZGV4ICA9IHRvSW5kZXgoZnJvbUluZGV4LCBsZW5ndGgpXG4gICAgICAsIHZhbHVlO1xuICAgIC8vIEFycmF5I2luY2x1ZGVzIHVzZXMgU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG1cbiAgICBpZihJU19JTkNMVURFUyAmJiBlbCAhPSBlbCl3aGlsZShsZW5ndGggPiBpbmRleCl7XG4gICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG4gICAgICBpZih2YWx1ZSAhPSB2YWx1ZSlyZXR1cm4gdHJ1ZTtcbiAgICAvLyBBcnJheSN0b0luZGV4IGlnbm9yZXMgaG9sZXMsIEFycmF5I2luY2x1ZGVzIC0gbm90XG4gICAgfSBlbHNlIGZvcig7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspaWYoSVNfSU5DTFVERVMgfHwgaW5kZXggaW4gTyl7XG4gICAgICBpZihPW2luZGV4XSA9PT0gZWwpcmV0dXJuIElTX0lOQ0xVREVTIHx8IGluZGV4IHx8IDA7XG4gICAgfSByZXR1cm4gIUlTX0lOQ0xVREVTICYmIC0xO1xuICB9O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYXJyYXktaW5jbHVkZXMuanNcbiAqKiBtb2R1bGUgaWQgPSAzMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCIvLyA3LjEuMTUgVG9MZW5ndGhcbnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJylcbiAgLCBtaW4gICAgICAgPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQgPiAwID8gbWluKHRvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDsgLy8gcG93KDIsIDUzKSAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tbGVuZ3RoLmpzXG4gKiogbW9kdWxlIGlkID0gMzJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwiLy8gNy4xLjQgVG9JbnRlZ2VyXG52YXIgY2VpbCAgPSBNYXRoLmNlaWxcbiAgLCBmbG9vciA9IE1hdGguZmxvb3I7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGlzTmFOKGl0ID0gK2l0KSA/IDAgOiAoaXQgPiAwID8gZmxvb3IgOiBjZWlsKShpdCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbnRlZ2VyLmpzXG4gKiogbW9kdWxlIGlkID0gMzNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwidmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKVxuICAsIG1heCAgICAgICA9IE1hdGgubWF4XG4gICwgbWluICAgICAgID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGluZGV4LCBsZW5ndGgpe1xuICBpbmRleCA9IHRvSW50ZWdlcihpbmRleCk7XG4gIHJldHVybiBpbmRleCA8IDAgPyBtYXgoaW5kZXggKyBsZW5ndGgsIDApIDogbWluKGluZGV4LCBsZW5ndGgpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAzNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCJ2YXIgc2hhcmVkID0gcmVxdWlyZSgnLi9fc2hhcmVkJykoJ2tleXMnKVxuICAsIHVpZCAgICA9IHJlcXVpcmUoJy4vX3VpZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICByZXR1cm4gc2hhcmVkW2tleV0gfHwgKHNoYXJlZFtrZXldID0gdWlkKGtleSkpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLWtleS5qc1xuICoqIG1vZHVsZSBpZCA9IDM1XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIFNIQVJFRCA9ICdfX2NvcmUtanNfc2hhcmVkX18nXG4gICwgc3RvcmUgID0gZ2xvYmFsW1NIQVJFRF0gfHwgKGdsb2JhbFtTSEFSRURdID0ge30pO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICByZXR1cm4gc3RvcmVba2V5XSB8fCAoc3RvcmVba2V5XSA9IHt9KTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC5qc1xuICoqIG1vZHVsZSBpZCA9IDM2XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsInZhciBpZCA9IDBcbiAgLCBweCA9IE1hdGgucmFuZG9tKCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG4gIHJldHVybiAnU3ltYm9sKCcuY29uY2F0KGtleSA9PT0gdW5kZWZpbmVkID8gJycgOiBrZXksICcpXycsICgrK2lkICsgcHgpLnRvU3RyaW5nKDM2KSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191aWQuanNcbiAqKiBtb2R1bGUgaWQgPSAzN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCIvLyBJRSA4LSBkb24ndCBlbnVtIGJ1ZyBrZXlzXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgJ2NvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZidcbikuc3BsaXQoJywnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1idWcta2V5cy5qc1xuICoqIG1vZHVsZSBpZCA9IDM4XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsIi8vIDcuMS4xMyBUb09iamVjdChhcmd1bWVudClcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tb2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gNDFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwiIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZShyZXF1aXJlKFwiaXNvbW9ycGhpYy1mZXRjaFwiKSxyZXF1aXJlKFwiZnNcIikpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiaXNvbW9ycGhpYy1mZXRjaFwiLFwiZnNcIl0sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5FcHViUHJlc3M9ZShyZXF1aXJlKFwiaXNvbW9ycGhpYy1mZXRjaFwiKSxyZXF1aXJlKFwiZnNcIikpOnQuRXB1YlByZXNzPWUodFtcImlzb21vcnBoaWMtZmV0Y2hcIl0sdC5mcyl9KHRoaXMsZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyKXtpZihuW3JdKXJldHVybiBuW3JdLmV4cG9ydHM7dmFyIGk9bltyXT17ZXhwb3J0czp7fSxpZDpyLGxvYWRlZDohMX07cmV0dXJuIHRbcl0uY2FsbChpLmV4cG9ydHMsaSxpLmV4cG9ydHMsZSksaS5sb2FkZWQ9ITAsaS5leHBvcnRzfXZhciBuPXt9O3JldHVybiBlLm09dCxlLmM9bixlLnA9XCJcIixlKDApfShbZnVuY3Rpb24odCxlLG4pe24oMSksdC5leHBvcnRzPW4oMil9LGZ1bmN0aW9uKGUsbil7ZS5leHBvcnRzPXR9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gaSgpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3d9ZnVuY3Rpb24gbygpe2lmKEYuREVCVUcpe3ZhciB0Oyh0PWNvbnNvbGUpLmxvZy5hcHBseSh0LGFyZ3VtZW50cyl9fWZ1bmN0aW9uIHModCl7aWYoIXQuZ2V0SWQoKSl0aHJvdyBuZXcgRXJyb3IoXCJCb29rIGhhcyBubyBpZC4gSGF2ZSB5b3UgcHVibGlzaGVkP1wiKX1mdW5jdGlvbiBhKHQsZSl7aWYoaSgpKXt2YXIgcj12b2lkIDA7cj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBGaWxlP25ldyBGaWxlKFtlXSx0KTpuZXcgQmxvYihbZV0se3R5cGU6XCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIn0pLCgwLGsuc2F2ZUFzKShyLHQpfWVsc2V7dmFyIG89big1NCk7by53cml0ZUZpbGVTeW5jKHQsZSl9fWZ1bmN0aW9uIGModCl7dmFyIGU9e3RpdGxlOnQudGl0bGUsZGVzY3JpcHRpb246dC5kZXNjcmlwdGlvbn07cmV0dXJuIHQuc2VjdGlvbnM/ZS5zZWN0aW9ucz10LnNlY3Rpb25zOmUudXJscz10LnVybHMuc2xpY2UoKSx7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e0FjY2VwdDpcImFwcGxpY2F0aW9uL2pzb25cIixcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5OigwLHdbXCJkZWZhdWx0XCJdKShlKX19ZnVuY3Rpb24gdSh0KXtyZXR1cm4gbmV3IENbXCJkZWZhdWx0XCJdKGZ1bmN0aW9uKGUsbil7dmFyIHI9ZnVuY3Rpb24gaShyKXt0LmNoZWNrU3RhdHVzKCkudGhlbihmdW5jdGlvbihvKXt0LmVtaXQoXCJzdGF0dXNVcGRhdGVcIixvKSxOdW1iZXIoby5wcm9ncmVzcyk+PTEwMD9lKHQpOnI+PUYuQ0hFQ0tfU1RBVFVTX0xJTUlUP24obmV3IEVycm9yKEYuRVJST1JfQ09ERVNbNTAzXSkpOnNldFRpbWVvdXQoaSxGLlBPTExfUkFURSxyKzEpfSlbXCJjYXRjaFwiXShuKX07cigxKX0pfWZ1bmN0aW9uIGwodCl7dmFyIGU9Ri5FUlJPUl9DT0RFU1t0LnN0YXR1c107aWYodC5zdGF0dXM+PTIwMCYmdC5zdGF0dXM8MzAwKXJldHVybiB0O2lmKHQuYm9keSlyZXR1cm4gdC5qc29uKCkudGhlbihmdW5jdGlvbih0KXt2YXIgbj10LmVycm9ycyYmdC5lcnJvcnMubGVuZ3RoPjAscj1uP3QuZXJyb3JzWzBdLmRldGFpbDplO3JldHVybiBDW1wiZGVmYXVsdFwiXS5yZWplY3QobmV3IEVycm9yKHIpKX0pO3ZhciBuPW5ldyBFcnJvcihlKTtyZXR1cm4gQ1tcImRlZmF1bHRcIl0ucmVqZWN0KG4pfWZ1bmN0aW9uIGYodCl7dmFyIGU9Ri5FUlJPUl9DT0RFU1t0Lm1lc3NhZ2VdfHxGLkVSUk9SX0NPREVTW3QubmFtZV07cmV0dXJuIGU/bmV3IEVycm9yKGUpOnR9ZnVuY3Rpb24gcCh0LGUpe3ZhciBuPU51bWJlcihlLm1pbkNvbXBhdGlibGUucmVwbGFjZShcIi5cIixcIlwiKSkscj1OdW1iZXIodC5yZXBsYWNlKFwiLlwiLFwiXCIpKTtyZXR1cm4gbj5yP2UubWVzc2FnZTpudWxsfWZ1bmN0aW9uIGgodCl7dmFyIGU9W1wiZW1haWxcIixcImZpbGV0eXBlXCJdLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXT9lK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudCh0W2VdKTpcIlwifSkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkuam9pbihcIiZcIik7cmV0dXJuIGU/XCI/XCIrZTpcIlwifXZhciBkPW4oMyksXz1yKGQpLHY9big0MCkseT1yKHYpLG09big0MSksZz1yKG0pLGI9big0NSksdz1yKGIpLEU9big0NyksQz1yKEUpLGs9big1MCksaj1uKDUzKSx4PXIoaiksRj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7KDAseVtcImRlZmF1bHRcIl0pKHRoaXMsdCk7dmFyIG49RGF0ZSgpLnNsaWNlKDAsRGF0ZSgpLm1hdGNoKC9cXGR7NH0vKS5pbmRleCs0KSxyPXt0aXRsZTpcIkVwdWJQcmVzcyAtIFwiK24sZGVzY3JpcHRpb246dm9pZCAwLHNlY3Rpb25zOnZvaWQgMCx1cmxzOnZvaWQgMCxmaWxldHlwZTpcImVwdWJcIn07dGhpcy5ib29rRGF0YT0oMCxfW1wiZGVmYXVsdFwiXSkoe30scixlKSx0aGlzLmV2ZW50cz17fX1yZXR1cm4oMCxnW1wiZGVmYXVsdFwiXSkodCxudWxsLFt7a2V5OlwiY2hlY2tGb3JVcGRhdGVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPD0wfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/XCJlcHViLXByZXNzLWpzXCI6YXJndW1lbnRzWzBdLG49YXJndW1lbnRzLmxlbmd0aDw9MXx8dm9pZCAwPT09YXJndW1lbnRzWzFdP3QuZ2V0VmVyc2lvbigpOmFyZ3VtZW50c1sxXTtyZXR1cm4gbmV3IENbXCJkZWZhdWx0XCJdKGZ1bmN0aW9uKHIsaSl7ZmV0Y2godC5nZXRWZXJzaW9uVXJsKCkpLnRoZW4obCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdC5qc29uKCl9KS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBvPXQuY2xpZW50c1tlXTtvP3IocChuLG8pKTppKG5ldyBFcnJvcihcIlZlcnNpb24gZGF0YSBmb3IgXCIrZStcIiBub3QgZm91bmQuXCIpKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24odCl7dmFyIGU9Zih0KTtvKFwiVmVyc2lvbiBjaGVjayBmYWlsZWRcIixlKSxpKGUpfSl9KX19LHtrZXk6XCJnZXRQdWJsaXNoVXJsXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm90b3R5cGUuZ2V0UHVibGlzaFVybCgpfX0se2tleTpcImdldFZlcnNpb25VcmxcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0LkJBU0VfQVBJK1wiL3ZlcnNpb25cIn19LHtrZXk6XCJnZXRWZXJzaW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5WRVJTSU9OfX1dKSwoMCxnW1wiZGVmYXVsdFwiXSkodCxbe2tleTpcIm9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5ldmVudHNbdF18fCh0aGlzLmV2ZW50c1t0XT1bXSksdGhpcy5ldmVudHNbdF0ucHVzaChlKSxlfX0se2tleTpcImVtaXRcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxuPUFycmF5KGU+MT9lLTE6MCkscj0xO2U+cjtyKyspbltyLTFdPWFyZ3VtZW50c1tyXTt0aGlzLmV2ZW50c1t0XSYmdGhpcy5ldmVudHNbdF0uZm9yRWFjaChmdW5jdGlvbih0KXt0LmFwcGx5KHZvaWQgMCxuKX0pfX0se2tleTpcInJlbW92ZUxpc3RlbmVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0aGlzLmV2ZW50c1t0XSl7dmFyIG49dGhpcy5ldmVudHNbdF0uaW5kZXhPZihlKTtuPj0wJiZ0aGlzLmV2ZW50c1t0XS5zcGxpY2UobiwxKX19fSx7a2V5OlwiZ2V0VXJsc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9W10sZT10aGlzLmJvb2tEYXRhLG49ZS51cmxzLHI9ZS5zZWN0aW9ucztyZXR1cm4gbj90PW4uc2xpY2UoKTpyJiYodD1yLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC51cmx9KSksdH19LHtrZXk6XCJnZXRGaWxldHlwZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXR8fHRoaXMuYm9va0RhdGEuZmlsZXR5cGU7cmV0dXJuIGU/W1wibW9iaVwiLFwiZXB1YlwiXS5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiBlLnRvTG93ZXJDYXNlKCk9PT10fSl8fFwiZXB1YlwiOlwiZXB1YlwifX0se2tleTpcImdldEVtYWlsXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib29rRGF0YS5lbWFpbH19LHtrZXk6XCJnZXRUaXRsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9va0RhdGEudGl0bGV9fSx7a2V5OlwiZ2V0RGVzY3JpcHRpb25cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvb2tEYXRhLmRlc2NyaXB0aW9ufX0se2tleTpcImdldElkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib29rRGF0YS5pZH19LHtrZXk6XCJnZXRTdGF0dXNVcmxcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0LmdldFB1Ymxpc2hVcmwoKStcIi9cIit0aGlzLmdldElkKCkrXCIvc3RhdHVzXCJ9fSx7a2V5OlwiZ2V0UHVibGlzaFVybFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHQuQkFTRV9BUEkrXCIvYm9va3NcIn19LHtrZXk6XCJnZXREb3dubG9hZFVybFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aDw9MHx8dm9pZCAwPT09YXJndW1lbnRzWzBdP3RoaXMuZ2V0RmlsZXR5cGUoKTphcmd1bWVudHNbMF0sZT1oKHtmaWxldHlwZTp0fSk7cmV0dXJuIHRoaXMuZ2V0UHVibGlzaFVybCgpK1wiL1wiK3RoaXMuZ2V0SWQoKStcIi9kb3dubG9hZFwiK2V9fSx7a2V5OlwiZ2V0RW1haWxVcmxcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg8PTB8fHZvaWQgMD09PWFyZ3VtZW50c1swXT90aGlzLmdldEVtYWlsKCk6YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzLmxlbmd0aDw9MXx8dm9pZCAwPT09YXJndW1lbnRzWzFdP3RoaXMuZ2V0RmlsZXR5cGUoKTphcmd1bWVudHNbMV0sbj1oKHtlbWFpbDp0LGZpbGV0eXBlOmV9KTtyZXR1cm4gdGhpcy5nZXRQdWJsaXNoVXJsKCkrXCIvXCIrdGhpcy5nZXRJZCgpK1wiL2VtYWlsXCIrbn19LHtrZXk6XCJjaGVja1N0YXR1c1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IENbXCJkZWZhdWx0XCJdKGZ1bmN0aW9uKGUsbil7ZmV0Y2godC5nZXRTdGF0dXNVcmwoKSkudGhlbihsKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmpzb24oKX0pLnRoZW4oZnVuY3Rpb24odCl7ZSh0KX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24odCl7dmFyIGU9Zih0KTtuKGUpfSl9KX19LHtrZXk6XCJwdWJsaXNoXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLmlzUHVibGlzaGluZz9DW1wiZGVmYXVsdFwiXS5yZWplY3QobmV3IEVycm9yKFwiUHVibGlzaGluZyBpbiBwcm9ncmVzc1wiKSk6dGhpcy5nZXRJZCgpP0NbXCJkZWZhdWx0XCJdLnJlc29sdmUodGhpcy5nZXRJZCgpKToodGhpcy5pc1B1Ymxpc2hpbmc9ITAsbmV3IENbXCJkZWZhdWx0XCJdKGZ1bmN0aW9uKGUsbil7ZmV0Y2godC5nZXRQdWJsaXNoVXJsKCksYyh0LmJvb2tEYXRhKSkudGhlbihsKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmpzb24oKX0pLnRoZW4oZnVuY3Rpb24obil7dmFyIHI9bi5pZDtyZXR1cm4gdC5ib29rRGF0YS5pZD1yLHUodCkudGhlbihmdW5jdGlvbigpe2Uocil9KX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oZSl7dC5pc1B1Ymxpc2hpbmc9ITE7dmFyIHI9ZihlKTtvKFwiRWJ1cFByZXNzOiBQdWJsaXNoIGZhaWxlZFwiLHIpLG4ocil9KX0pKX19LHtrZXk6XCJkb3dubG9hZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBDW1wiZGVmYXVsdFwiXShmdW5jdGlvbihuLHIpe3MoZSksZmV0Y2goZS5nZXREb3dubG9hZFVybCh0KSkudGhlbihsKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0LmJsb2I/dC5ibG9iKCk6dC5idWZmZXIoKX0pLnRoZW4oZnVuY3Rpb24ocil7dmFyIGk9ZS5nZXRUaXRsZSgpK1wiLlwiKyh0fHxlLmdldEZpbGV0eXBlKCkpO2EoaSxyKSxuKCl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKHQpe3ZhciBlPWYodCk7byhcIkVwdWJQcmVzczogRG93bmxvYWQgZmFpbGVkXCIsZSkscihlKX0pfSl9fSx7a2V5OlwiZW1haWxcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBDW1wiZGVmYXVsdFwiXShmdW5jdGlvbihyLGkpe3JldHVybiB0PyhzKG4pLGZldGNoKG4uZ2V0RW1haWxVcmwodCxlKSkudGhlbihsKS50aGVuKGZ1bmN0aW9uKCl7byhcIkVwdWJQcmVzczogQm9vayBkZWxpdmVyZWQuXCIpLHIoKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24odCl7dmFyIGU9Zih0KTtvKFwiRXB1YlByZXNzOiBFbWFpbCBkZWxpdmVyeSBmYWlsZWQuXCIpLGkoZSl9KSk6aShuZXcgRXJyb3IoXCJFcHViUHJlc3M6IE5vIGVtYWlsIHByb3ZpZGVkLlwiKSl9KX19XSksdH0oKTtGLkJBU0VfVVJMPXhbXCJkZWZhdWx0XCJdLmJhc2VVcmwsRi5CQVNFX0FQST1GLkJBU0VfVVJMK1wiL2FwaS92MVwiLEYuVkVSU0lPTj14W1wiZGVmYXVsdFwiXS52ZXJzaW9uLEYuUE9MTF9SQVRFPTNlMyxGLkNIRUNLX1NUQVRVU19MSU1JVD00MCxGLkVSUk9SX0NPREVTPXswOlwiU2VydmVyIGlzIGRvd24uIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuXCIsXCJGYWlsZWQgdG8gZmV0Y2hcIjpcIlNlcnZlciBpcyBkb3duLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlwiLEZldGNoRXJyb3I6XCJTZXJ2ZXIgaXMgZG93bi4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cIiw0MDA6XCJUaGVyZSB3YXMgYSBwcm9ibGVtIHdpdGggdGhlIHJlcXVlc3QuIElzIEVwdWJQcmVzcyB1cCB0byBkYXRlP1wiLDQwNDpcIlJlc291cmNlIG5vdCBmb3VuZC5cIiw0MjI6XCJSZXF1ZXN0IGNvbnRhaW5lZCBpbnZhbGlkIGRhdGEuXCIsNTAwOlwiVW5leHBlY3RlZCBzZXJ2ZXIgZXJyb3IuXCIsNTAzOlwiU2VydmVyIHRvb2sgdG9vIGxvbmcgdG8gcmVzcG9uZC5cIix0aW1lb3V0OlwiUmVxdWVzdCB0b29rIHRvbyBsb25nIHRvIGNvbXBsZXRlLlwiLGVycm9yOnZvaWQgMCxTRVJWRVJfRkFJTEVEOlwiU2VydmVyIGVycm9yIHdoaWxlIGRvd25sb2FkaW5nLlwiLFNFUlZFUl9CQURfQ09OVEVOVDpcIkJvb2sgY291bGQgbm90IGJlIGZvdW5kXCJ9LHQuZXhwb3J0cz1GfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPXtcImRlZmF1bHRcIjpuKDQpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbih0LGUsbil7big1KSx0LmV4cG9ydHM9big4KS5PYmplY3QuYXNzaWdufSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big2KTtyKHIuUytyLkYsXCJPYmplY3RcIix7YXNzaWduOm4oMjEpfSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDcpLGk9big4KSxvPW4oOSkscz1uKDExKSxhPVwicHJvdG90eXBlXCIsYz1mdW5jdGlvbih0LGUsbil7dmFyIHUsbCxmLHA9dCZjLkYsaD10JmMuRyxkPXQmYy5TLF89dCZjLlAsdj10JmMuQix5PXQmYy5XLG09aD9pOmlbZV18fChpW2VdPXt9KSxnPW1bYV0sYj1oP3I6ZD9yW2VdOihyW2VdfHx7fSlbYV07aCYmKG49ZSk7Zm9yKHUgaW4gbilsPSFwJiZiJiZ2b2lkIDAhPT1iW3VdLGwmJnUgaW4gbXx8KGY9bD9iW3VdOm5bdV0sbVt1XT1oJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBiW3VdP25bdV06diYmbD9vKGYscik6eSYmYlt1XT09Zj9mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbihlLG4scil7aWYodGhpcyBpbnN0YW5jZW9mIHQpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyB0O2Nhc2UgMTpyZXR1cm4gbmV3IHQoZSk7Y2FzZSAyOnJldHVybiBuZXcgdChlLG4pfXJldHVybiBuZXcgdChlLG4scil9cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gZVthXT10W2FdLGV9KGYpOl8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIGY/byhGdW5jdGlvbi5jYWxsLGYpOmYsXyYmKChtLnZpcnR1YWx8fChtLnZpcnR1YWw9e30pKVt1XT1mLHQmYy5SJiZnJiYhZ1t1XSYmcyhnLHUsZikpKX07Yy5GPTEsYy5HPTIsYy5TPTQsYy5QPTgsYy5CPTE2LGMuVz0zMixjLlU9NjQsYy5SPTEyOCx0LmV4cG9ydHM9Y30sZnVuY3Rpb24odCxlKXt2YXIgbj10LmV4cG9ydHM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XCJudW1iZXJcIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0sZnVuY3Rpb24odCxlKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246XCIyLjQuMFwifTtcIm51bWJlclwiPT10eXBlb2YgX19lJiYoX19lPW4pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtpZihyKHQpLHZvaWQgMD09PWUpcmV0dXJuIHQ7c3dpdGNoKG4pe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQuY2FsbChlLG4pfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIHQuY2FsbChlLG4scil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24obixyLGkpe3JldHVybiB0LmNhbGwoZSxuLHIsaSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcih0K1wiIGlzIG5vdCBhIGZ1bmN0aW9uIVwiKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEyKSxpPW4oMjApO3QuZXhwb3J0cz1uKDE2KT9mdW5jdGlvbih0LGUsbil7cmV0dXJuIHIuZih0LGUsaSgxLG4pKX06ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0W2VdPW4sdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEzKSxpPW4oMTUpLG89bigxOSkscz1PYmplY3QuZGVmaW5lUHJvcGVydHk7ZS5mPW4oMTYpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbih0LGUsbil7aWYocih0KSxlPW8oZSwhMCkscihuKSxpKXRyeXtyZXR1cm4gcyh0LGUsbil9Y2F0Y2goYSl7fWlmKFwiZ2V0XCJpbiBufHxcInNldFwiaW4gbil0aHJvdyBUeXBlRXJyb3IoXCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCFcIik7cmV0dXJuXCJ2YWx1ZVwiaW4gbiYmKHRbZV09bi52YWx1ZSksdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE0KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoIXIodCkpdGhyb3cgVHlwZUVycm9yKHQrXCIgaXMgbm90IGFuIG9iamVjdCFcIik7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdD9udWxsIT09dDpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0fX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz0hbigxNikmJiFuKDE3KShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkobigxOCkoXCJkaXZcIiksXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz0hbigxNykoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LFwiYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4hIXQoKX1jYXRjaChlKXtyZXR1cm4hMH19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNCksaT1uKDcpLmRvY3VtZW50LG89cihpKSYmcihpLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbz9pLmNyZWF0ZUVsZW1lbnQodCk6e319fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoIXIodCkpcmV0dXJuIHQ7dmFyIG4saTtpZihlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZihuPXQudG9TdHJpbmcpJiYhcihpPW4uY2FsbCh0KSkpcmV0dXJuIGk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2Yobj10LnZhbHVlT2YpJiYhcihpPW4uY2FsbCh0KSkpcmV0dXJuIGk7aWYoIWUmJlwiZnVuY3Rpb25cIj09dHlwZW9mKG49dC50b1N0cmluZykmJiFyKGk9bi5jYWxsKHQpKSlyZXR1cm4gaTt0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIil9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybntlbnVtZXJhYmxlOiEoMSZ0KSxjb25maWd1cmFibGU6ISgyJnQpLHdyaXRhYmxlOiEoNCZ0KSx2YWx1ZTplfX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDIyKSxpPW4oMzcpLG89bigzOCkscz1uKDM5KSxhPW4oMjYpLGM9T2JqZWN0LmFzc2lnbjt0LmV4cG9ydHM9IWN8fG4oMTcpKGZ1bmN0aW9uKCl7dmFyIHQ9e30sZT17fSxuPVN5bWJvbCgpLHI9XCJhYmNkZWZnaGlqa2xtbm9wcXJzdFwiO3JldHVybiB0W25dPTcsci5zcGxpdChcIlwiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2VbdF09dH0pLDchPWMoe30sdClbbl18fE9iamVjdC5rZXlzKGMoe30sZSkpLmpvaW4oXCJcIikhPXJ9KT9mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1zKHQpLGM9YXJndW1lbnRzLmxlbmd0aCx1PTEsbD1pLmYsZj1vLmY7Yz51Oylmb3IodmFyIHAsaD1hKGFyZ3VtZW50c1t1KytdKSxkPWw/cihoKS5jb25jYXQobChoKSk6cihoKSxfPWQubGVuZ3RoLHY9MDtfPnY7KWYuY2FsbChoLHA9ZFt2KytdKSYmKG5bcF09aFtwXSk7cmV0dXJuIG59OmN9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIzKSxpPW4oMzYpO3QuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24odCl7cmV0dXJuIHIodCxpKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI0KSxpPW4oMjUpLG89bigyOSkoITEpLHM9bigzMykoXCJJRV9QUk9UT1wiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbixhPWkodCksYz0wLHU9W107Zm9yKG4gaW4gYSluIT1zJiZyKGEsbikmJnUucHVzaChuKTtmb3IoO2UubGVuZ3RoPmM7KXIoYSxuPWVbYysrXSkmJih+byh1LG4pfHx1LnB1c2gobikpO3JldHVybiB1fX0sZnVuY3Rpb24odCxlKXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbi5jYWxsKHQsZSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyNiksaT1uKDI4KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHIoaSh0KSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyNyk7dC5leHBvcnRzPU9iamVjdChcInpcIikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKHQpe3JldHVyblwiU3RyaW5nXCI9PXIodCk/dC5zcGxpdChcIlwiKTpPYmplY3QodCl9fSxmdW5jdGlvbih0LGUpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbi5jYWxsKHQpLnNsaWNlKDgsLTEpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT10KXRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIit0KTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI1KSxpPW4oMzApLG89bigzMik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4scyl7dmFyIGEsYz1yKGUpLHU9aShjLmxlbmd0aCksbD1vKHMsdSk7aWYodCYmbiE9bil7Zm9yKDt1Pmw7KWlmKGE9Y1tsKytdLGEhPWEpcmV0dXJuITB9ZWxzZSBmb3IoO3U+bDtsKyspaWYoKHR8fGwgaW4gYykmJmNbbF09PT1uKXJldHVybiB0fHxsfHwwO3JldHVybiF0JiYtMX19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzMSksaT1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQ+MD9pKHIodCksOTAwNzE5OTI1NDc0MDk5MSk6MH19LGZ1bmN0aW9uKHQsZSl7dmFyIG49TWF0aC5jZWlsLHI9TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGlzTmFOKHQ9K3QpPzA6KHQ+MD9yOm4pKHQpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzEpLGk9TWF0aC5tYXgsbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD1yKHQpLDA+dD9pKHQrZSwwKTpvKHQsZSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzNCkoXCJrZXlzXCIpLGk9bigzNSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByW3RdfHwoclt0XT1pKHQpKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDcpLGk9XCJfX2NvcmUtanNfc2hhcmVkX19cIixvPXJbaV18fChyW2ldPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG9bdF18fChvW3RdPXt9KX19LGZ1bmN0aW9uKHQsZSl7dmFyIG49MCxyPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVyblwiU3ltYm9sKFwiLmNvbmNhdCh2b2lkIDA9PT10P1wiXCI6dCxcIilfXCIsKCsrbityKS50b1N0cmluZygzNikpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCJjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2ZcIi5zcGxpdChcIixcIil9LGZ1bmN0aW9uKHQsZSl7ZS5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHN9LGZ1bmN0aW9uKHQsZSl7ZS5mPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyOCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qocih0KSl9fSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO2UuX19lc01vZHVsZT0hMCxlW1wiZGVmYXVsdFwiXT1mdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWUuX19lc01vZHVsZT0hMDt2YXIgaT1uKDQyKSxvPXIoaSk7ZVtcImRlZmF1bHRcIl09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLCgwLG9bXCJkZWZhdWx0XCJdKSh0LHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLHImJnQoZSxyKSxlfX0oKX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz17XCJkZWZhdWx0XCI6big0MyksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKHQsZSxuKXtuKDQ0KTt2YXIgcj1uKDgpLk9iamVjdDt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiByLmRlZmluZVByb3BlcnR5KHQsZSxuKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDYpO3Ioci5TK3IuRiohbigxNiksXCJPYmplY3RcIix7ZGVmaW5lUHJvcGVydHk6bigxMikuZn0pfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPXtcImRlZmF1bHRcIjpuKDQ2KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oOCksaT1yLkpTT058fChyLkpTT049e3N0cmluZ2lmeTpKU09OLnN0cmluZ2lmeX0pO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaS5zdHJpbmdpZnkuYXBwbHkoaSxhcmd1bWVudHMpfX0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbihlLG4scil7LyogQHByZXNlcnZlXG5cdCAqIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuXHQgKiBcblx0ICogQ29weXJpZ2h0IChjKSAyMDEzLTIwMTUgUGV0a2EgQW50b25vdlxuXHQgKiBcblx0ICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuXHQgKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG5cdCAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcblx0ICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuXHQgKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcblx0ICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblx0ICogXG5cdCAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG5cdCAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXHQgKiBcblx0ICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuXHQgKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcblx0ICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuXHQgKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG5cdCAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG5cdCAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cblx0ICogVEhFIFNPRlRXQVJFLlxuXHQgKiBcblx0ICovXG4hZnVuY3Rpb24oZSl7dC5leHBvcnRzPWUoKX0oZnVuY3Rpb24oKXt2YXIgdCxpLG87cmV0dXJuIGZ1bmN0aW9uIHModCxlLG4pe2Z1bmN0aW9uIHIobyxhKXtpZighZVtvXSl7aWYoIXRbb10pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIF9kZXJlcV8mJl9kZXJlcV87aWYoIWEmJmMpcmV0dXJuIGMobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgdT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IHUuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIix1fXZhciBsPWVbb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcihuP246ZSl9LGwsbC5leHBvcnRzLHMsdCxlLG4pfXJldHVybiBlW29dLmV4cG9ydHN9Zm9yKHZhciBpPVwiZnVuY3Rpb25cIj09dHlwZW9mIF9kZXJlcV8mJl9kZXJlcV8sbz0wO288bi5sZW5ndGg7bysrKXIobltvXSk7cmV0dXJuIHJ9KHsxOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIGU9bmV3IG4odCkscj1lLnByb21pc2UoKTtyZXR1cm4gZS5zZXRIb3dNYW55KDEpLGUuc2V0VW53cmFwKCksZS5pbml0KCkscn12YXIgbj10Ll9Tb21lUHJvbWlzZUFycmF5O3QuYW55PWZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfSx0LnByb3RvdHlwZS5hbnk9ZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzKX19fSx7fV0sMjpbZnVuY3Rpb24odCxuLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoKXt0aGlzLl9jdXN0b21TY2hlZHVsZXI9ITEsdGhpcy5faXNUaWNrVXNlZD0hMSx0aGlzLl9sYXRlUXVldWU9bmV3IGYoMTYpLHRoaXMuX25vcm1hbFF1ZXVlPW5ldyBmKDE2KSx0aGlzLl9oYXZlRHJhaW5lZFF1ZXVlcz0hMSx0aGlzLl90cmFtcG9saW5lRW5hYmxlZD0hMDt2YXIgdD10aGlzO3RoaXMuZHJhaW5RdWV1ZXM9ZnVuY3Rpb24oKXt0Ll9kcmFpblF1ZXVlcygpfSx0aGlzLl9zY2hlZHVsZT1sfWZ1bmN0aW9uIG8odCxlLG4pe3RoaXMuX2xhdGVRdWV1ZS5wdXNoKHQsZSxuKSx0aGlzLl9xdWV1ZVRpY2soKX1mdW5jdGlvbiBzKHQsZSxuKXt0aGlzLl9ub3JtYWxRdWV1ZS5wdXNoKHQsZSxuKSx0aGlzLl9xdWV1ZVRpY2soKX1mdW5jdGlvbiBhKHQpe3RoaXMuX25vcm1hbFF1ZXVlLl9wdXNoT25lKHQpLHRoaXMuX3F1ZXVlVGljaygpfXZhciBjO3RyeXt0aHJvdyBuZXcgRXJyb3J9Y2F0Y2godSl7Yz11fXZhciBsPXQoXCIuL3NjaGVkdWxlXCIpLGY9dChcIi4vcXVldWVcIikscD10KFwiLi91dGlsXCIpO2kucHJvdG90eXBlLnNldFNjaGVkdWxlcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zY2hlZHVsZTtyZXR1cm4gdGhpcy5fc2NoZWR1bGU9dCx0aGlzLl9jdXN0b21TY2hlZHVsZXI9ITAsZX0saS5wcm90b3R5cGUuaGFzQ3VzdG9tU2NoZWR1bGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1c3RvbVNjaGVkdWxlcn0saS5wcm90b3R5cGUuZW5hYmxlVHJhbXBvbGluZT1mdW5jdGlvbigpe3RoaXMuX3RyYW1wb2xpbmVFbmFibGVkPSEwfSxpLnByb3RvdHlwZS5kaXNhYmxlVHJhbXBvbGluZUlmTmVjZXNzYXJ5PWZ1bmN0aW9uKCl7cC5oYXNEZXZUb29scyYmKHRoaXMuX3RyYW1wb2xpbmVFbmFibGVkPSExKX0saS5wcm90b3R5cGUuaGF2ZUl0ZW1zUXVldWVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzVGlja1VzZWR8fHRoaXMuX2hhdmVEcmFpbmVkUXVldWVzfSxpLnByb3RvdHlwZS5mYXRhbEVycm9yPWZ1bmN0aW9uKHQsbil7bj8oZS5zdGRlcnIud3JpdGUoXCJGYXRhbCBcIisodCBpbnN0YW5jZW9mIEVycm9yP3Quc3RhY2s6dCkrXCJcXG5cIiksZS5leGl0KDIpKTp0aGlzLnRocm93TGF0ZXIodCl9LGkucHJvdG90eXBlLnRocm93TGF0ZXI9ZnVuY3Rpb24odCxlKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCYmKGU9dCx0PWZ1bmN0aW9uKCl7dGhyb3cgZX0pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZXRUaW1lb3V0KXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0KGUpfSwwKTtlbHNlIHRyeXt0aGlzLl9zY2hlZHVsZShmdW5jdGlvbigpe3QoZSl9KX1jYXRjaChuKXt0aHJvdyBuZXcgRXJyb3IoXCJObyBhc3luYyBzY2hlZHVsZXIgYXZhaWxhYmxlXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKX19LHAuaGFzRGV2VG9vbHM/KGkucHJvdG90eXBlLmludm9rZUxhdGVyPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl90cmFtcG9saW5lRW5hYmxlZD9vLmNhbGwodGhpcyx0LGUsbik6dGhpcy5fc2NoZWR1bGUoZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5jYWxsKGUsbil9LDEwMCl9KX0saS5wcm90b3R5cGUuaW52b2tlPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl90cmFtcG9saW5lRW5hYmxlZD9zLmNhbGwodGhpcyx0LGUsbik6dGhpcy5fc2NoZWR1bGUoZnVuY3Rpb24oKXt0LmNhbGwoZSxuKX0pfSxpLnByb3RvdHlwZS5zZXR0bGVQcm9taXNlcz1mdW5jdGlvbih0KXt0aGlzLl90cmFtcG9saW5lRW5hYmxlZD9hLmNhbGwodGhpcyx0KTp0aGlzLl9zY2hlZHVsZShmdW5jdGlvbigpe3QuX3NldHRsZVByb21pc2VzKCl9KX0pOihpLnByb3RvdHlwZS5pbnZva2VMYXRlcj1vLGkucHJvdG90eXBlLmludm9rZT1zLGkucHJvdG90eXBlLnNldHRsZVByb21pc2VzPWEpLGkucHJvdG90eXBlLmludm9rZUZpcnN0PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl9ub3JtYWxRdWV1ZS51bnNoaWZ0KHQsZSxuKSx0aGlzLl9xdWV1ZVRpY2soKX0saS5wcm90b3R5cGUuX2RyYWluUXVldWU9ZnVuY3Rpb24odCl7Zm9yKDt0Lmxlbmd0aCgpPjA7KXt2YXIgZT10LnNoaWZ0KCk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZSl7dmFyIG49dC5zaGlmdCgpLHI9dC5zaGlmdCgpO2UuY2FsbChuLHIpfWVsc2UgZS5fc2V0dGxlUHJvbWlzZXMoKX19LGkucHJvdG90eXBlLl9kcmFpblF1ZXVlcz1mdW5jdGlvbigpe3RoaXMuX2RyYWluUXVldWUodGhpcy5fbm9ybWFsUXVldWUpLHRoaXMuX3Jlc2V0KCksdGhpcy5faGF2ZURyYWluZWRRdWV1ZXM9ITAsdGhpcy5fZHJhaW5RdWV1ZSh0aGlzLl9sYXRlUXVldWUpfSxpLnByb3RvdHlwZS5fcXVldWVUaWNrPWZ1bmN0aW9uKCl7dGhpcy5faXNUaWNrVXNlZHx8KHRoaXMuX2lzVGlja1VzZWQ9ITAsdGhpcy5fc2NoZWR1bGUodGhpcy5kcmFpblF1ZXVlcykpfSxpLnByb3RvdHlwZS5fcmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9pc1RpY2tVc2VkPSExfSxuLmV4cG9ydHM9aSxuLmV4cG9ydHMuZmlyc3RMaW5lRXJyb3I9Y30se1wiLi9xdWV1ZVwiOjI2LFwiLi9zY2hlZHVsZVwiOjI5LFwiLi91dGlsXCI6MzZ9XSwzOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPSExLG89ZnVuY3Rpb24odCxlKXt0aGlzLl9yZWplY3QoZSl9LHM9ZnVuY3Rpb24odCxlKXtlLnByb21pc2VSZWplY3Rpb25RdWV1ZWQ9ITAsZS5iaW5kaW5nUHJvbWlzZS5fdGhlbihvLG8sbnVsbCx0aGlzLHQpfSxhPWZ1bmN0aW9uKHQsZSl7MD09PSg1MDM5NzE4NCZ0aGlzLl9iaXRGaWVsZCkmJnRoaXMuX3Jlc29sdmVDYWxsYmFjayhlLnRhcmdldCl9LGM9ZnVuY3Rpb24odCxlKXtlLnByb21pc2VSZWplY3Rpb25RdWV1ZWR8fHRoaXMuX3JlamVjdCh0KX07dC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihvKXtpfHwoaT0hMCx0LnByb3RvdHlwZS5fcHJvcGFnYXRlRnJvbT1yLnByb3BhZ2F0ZUZyb21GdW5jdGlvbigpLHQucHJvdG90eXBlLl9ib3VuZFZhbHVlPXIuYm91bmRWYWx1ZUZ1bmN0aW9uKCkpO3ZhciB1PW4obyksbD1uZXcgdChlKTtsLl9wcm9wYWdhdGVGcm9tKHRoaXMsMSk7dmFyIGY9dGhpcy5fdGFyZ2V0KCk7aWYobC5fc2V0Qm91bmRUbyh1KSx1IGluc3RhbmNlb2YgdCl7dmFyIHA9e3Byb21pc2VSZWplY3Rpb25RdWV1ZWQ6ITEscHJvbWlzZTpsLHRhcmdldDpmLGJpbmRpbmdQcm9taXNlOnV9O2YuX3RoZW4oZSxzLHZvaWQgMCxsLHApLHUuX3RoZW4oYSxjLHZvaWQgMCxsLHApLGwuX3NldE9uQ2FuY2VsKHUpfWVsc2UgbC5fcmVzb2x2ZUNhbGxiYWNrKGYpO3JldHVybiBsfSx0LnByb3RvdHlwZS5fc2V0Qm91bmRUbz1mdW5jdGlvbih0KXt2b2lkIDAhPT10Pyh0aGlzLl9iaXRGaWVsZD0yMDk3MTUyfHRoaXMuX2JpdEZpZWxkLHRoaXMuX2JvdW5kVG89dCk6dGhpcy5fYml0RmllbGQ9LTIwOTcxNTMmdGhpcy5fYml0RmllbGR9LHQucHJvdG90eXBlLl9pc0JvdW5kPWZ1bmN0aW9uKCl7cmV0dXJuIDIwOTcxNTI9PT0oMjA5NzE1MiZ0aGlzLl9iaXRGaWVsZCl9LHQuYmluZD1mdW5jdGlvbihlLG4pe3JldHVybiB0LnJlc29sdmUobikuYmluZChlKX19fSx7fV0sNDpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoKXt0cnl7UHJvbWlzZT09PW8mJihQcm9taXNlPWkpfWNhdGNoKHQpe31yZXR1cm4gb312YXIgaTtcInVuZGVmaW5lZFwiIT10eXBlb2YgUHJvbWlzZSYmKGk9UHJvbWlzZSk7dmFyIG89dChcIi4vcHJvbWlzZVwiKSgpO28ubm9Db25mbGljdD1yLGUuZXhwb3J0cz1vfSx7XCIuL3Byb21pc2VcIjoyMn1dLDU6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1PYmplY3QuY3JlYXRlO2lmKHIpe3ZhciBpPXIobnVsbCksbz1yKG51bGwpO2lbXCIgc2l6ZVwiXT1vW1wiIHNpemVcIl09MH1lLmV4cG9ydHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbih0LG4pe3ZhciByO2lmKG51bGwhPXQmJihyPXRbbl0pLFwiZnVuY3Rpb25cIiE9dHlwZW9mIHIpe3ZhciBpPVwiT2JqZWN0IFwiK2EuY2xhc3NTdHJpbmcodCkrXCIgaGFzIG5vIG1ldGhvZCAnXCIrYS50b1N0cmluZyhuKStcIidcIjt0aHJvdyBuZXcgZS5UeXBlRXJyb3IoaSl9cmV0dXJuIHJ9ZnVuY3Rpb24gcih0KXt2YXIgZT10aGlzLnBvcCgpLHI9bih0LGUpO3JldHVybiByLmFwcGx5KHQsdGhpcyl9ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdFt0aGlzXX1mdW5jdGlvbiBvKHQpe3ZhciBlPSt0aGlzO3JldHVybiAwPmUmJihlPU1hdGgubWF4KDAsZSt0Lmxlbmd0aCkpLHRbZV19dmFyIHMsYT10KFwiLi91dGlsXCIpLGM9YS5jYW5FdmFsdWF0ZTthLmlzSWRlbnRpZmllcjtlLnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKHQpe3ZhciBlPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBlLnB1c2godCksdGhpcy5fdGhlbihyLHZvaWQgMCx2b2lkIDAsZSx2b2lkIDApfSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7dmFyIGUsbj1cIm51bWJlclwiPT10eXBlb2YgdDtpZihuKWU9bztlbHNlIGlmKGMpe3ZhciByPXModCk7ZT1udWxsIT09cj9yOml9ZWxzZSBlPWk7cmV0dXJuIHRoaXMuX3RoZW4oZSx2b2lkIDAsdm9pZCAwLHQsdm9pZCAwKX19fSx7XCIuL3V0aWxcIjozNn1dLDY6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIsaSl7dmFyIG89dChcIi4vdXRpbFwiKSxzPW8udHJ5Q2F0Y2gsYT1vLmVycm9yT2JqLGM9ZS5fYXN5bmM7ZS5wcm90b3R5cGVbXCJicmVha1wiXT1lLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXtpZighaS5jYW5jZWxsYXRpb24oKSlyZXR1cm4gdGhpcy5fd2FybihcImNhbmNlbGxhdGlvbiBpcyBkaXNhYmxlZFwiKTtmb3IodmFyIHQ9dGhpcyxlPXQ7dC5faXNDYW5jZWxsYWJsZSgpOyl7aWYoIXQuX2NhbmNlbEJ5KGUpKXtlLl9pc0ZvbGxvd2luZygpP2UuX2ZvbGxvd2VlKCkuY2FuY2VsKCk6ZS5fY2FuY2VsQnJhbmNoZWQoKTticmVha312YXIgbj10Ll9jYW5jZWxsYXRpb25QYXJlbnQ7aWYobnVsbD09bnx8IW4uX2lzQ2FuY2VsbGFibGUoKSl7dC5faXNGb2xsb3dpbmcoKT90Ll9mb2xsb3dlZSgpLmNhbmNlbCgpOnQuX2NhbmNlbEJyYW5jaGVkKCk7YnJlYWt9dC5faXNGb2xsb3dpbmcoKSYmdC5fZm9sbG93ZWUoKS5jYW5jZWwoKSx0Ll9zZXRXaWxsQmVDYW5jZWxsZWQoKSxlPXQsdD1ufX0sZS5wcm90b3R5cGUuX2JyYW5jaEhhc0NhbmNlbGxlZD1mdW5jdGlvbigpe3RoaXMuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwtLX0sZS5wcm90b3R5cGUuX2Vub3VnaEJyYW5jaGVzSGF2ZUNhbmNlbGxlZD1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10aGlzLl9icmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsfHx0aGlzLl9icmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsPD0wfSxlLnByb3RvdHlwZS5fY2FuY2VsQnk9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT10aGlzPyh0aGlzLl9icmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsPTAsdGhpcy5faW52b2tlT25DYW5jZWwoKSwhMCk6KHRoaXMuX2JyYW5jaEhhc0NhbmNlbGxlZCgpLHRoaXMuX2Vub3VnaEJyYW5jaGVzSGF2ZUNhbmNlbGxlZCgpPyh0aGlzLl9pbnZva2VPbkNhbmNlbCgpLCEwKTohMSl9LGUucHJvdG90eXBlLl9jYW5jZWxCcmFuY2hlZD1mdW5jdGlvbigpe3RoaXMuX2Vub3VnaEJyYW5jaGVzSGF2ZUNhbmNlbGxlZCgpJiZ0aGlzLl9jYW5jZWwoKX0sZS5wcm90b3R5cGUuX2NhbmNlbD1mdW5jdGlvbigpe3RoaXMuX2lzQ2FuY2VsbGFibGUoKSYmKHRoaXMuX3NldENhbmNlbGxlZCgpLGMuaW52b2tlKHRoaXMuX2NhbmNlbFByb21pc2VzLHRoaXMsdm9pZCAwKSl9LGUucHJvdG90eXBlLl9jYW5jZWxQcm9taXNlcz1mdW5jdGlvbigpe3RoaXMuX2xlbmd0aCgpPjAmJnRoaXMuX3NldHRsZVByb21pc2VzKCl9LGUucHJvdG90eXBlLl91bnNldE9uQ2FuY2VsPWZ1bmN0aW9uKCl7dGhpcy5fb25DYW5jZWxGaWVsZD12b2lkIDB9LGUucHJvdG90eXBlLl9pc0NhbmNlbGxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNQZW5kaW5nKCkmJiF0aGlzLl9pc0NhbmNlbGxlZCgpfSxlLnByb3RvdHlwZS5pc0NhbmNlbGxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNQZW5kaW5nKCkmJiF0aGlzLmlzQ2FuY2VsbGVkKCl9LGUucHJvdG90eXBlLl9kb0ludm9rZU9uQ2FuY2VsPWZ1bmN0aW9uKHQsZSl7aWYoby5pc0FycmF5KHQpKWZvcih2YXIgbj0wO248dC5sZW5ndGg7KytuKXRoaXMuX2RvSW52b2tlT25DYW5jZWwodFtuXSxlKTtlbHNlIGlmKHZvaWQgMCE9PXQpaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdCl7aWYoIWUpe3ZhciByPXModCkuY2FsbCh0aGlzLl9ib3VuZFZhbHVlKCkpO3I9PT1hJiYodGhpcy5fYXR0YWNoRXh0cmFUcmFjZShyLmUpLGMudGhyb3dMYXRlcihyLmUpKX19ZWxzZSB0Ll9yZXN1bHRDYW5jZWxsZWQodGhpcyl9LGUucHJvdG90eXBlLl9pbnZva2VPbkNhbmNlbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX29uQ2FuY2VsKCk7dGhpcy5fdW5zZXRPbkNhbmNlbCgpLGMuaW52b2tlKHRoaXMuX2RvSW52b2tlT25DYW5jZWwsdGhpcyx0KX0sZS5wcm90b3R5cGUuX2ludm9rZUludGVybmFsT25DYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLl9pc0NhbmNlbGxhYmxlKCkmJih0aGlzLl9kb0ludm9rZU9uQ2FuY2VsKHRoaXMuX29uQ2FuY2VsKCksITApLHRoaXMuX3Vuc2V0T25DYW5jZWwoKSl9LGUucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQ9ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbCgpfX19LHtcIi4vdXRpbFwiOjM2fV0sNzpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKHQsbixhKXtyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIHU9YS5fYm91bmRWYWx1ZSgpO3Q6Zm9yKHZhciBsPTA7bDx0Lmxlbmd0aDsrK2wpe3ZhciBmPXRbbF07aWYoZj09PUVycm9yfHxudWxsIT1mJiZmLnByb3RvdHlwZSBpbnN0YW5jZW9mIEVycm9yKXtpZihjIGluc3RhbmNlb2YgZilyZXR1cm4gbyhuKS5jYWxsKHUsYyl9ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBmKXt2YXIgcD1vKGYpLmNhbGwodSxjKTtpZihwPT09cylyZXR1cm4gcDtpZihwKXJldHVybiBvKG4pLmNhbGwodSxjKX1lbHNlIGlmKHIuaXNPYmplY3QoYykpe2Zvcih2YXIgaD1pKGYpLGQ9MDtkPGgubGVuZ3RoOysrZCl7dmFyIF89aFtkXTtpZihmW19dIT1jW19dKWNvbnRpbnVlIHR9cmV0dXJuIG8obikuY2FsbCh1LGMpfX1yZXR1cm4gZX19dmFyIHI9dChcIi4vdXRpbFwiKSxpPXQoXCIuL2VzNVwiKS5rZXlzLG89ci50cnlDYXRjaCxzPXIuZXJyb3JPYmo7cmV0dXJuIG59fSx7XCIuL2VzNVwiOjEzLFwiLi91dGlsXCI6MzZ9XSw4OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0aGlzLl90cmFjZT1uZXcgZS5DYXB0dXJlZFRyYWNlKHIoKSl9ZnVuY3Rpb24gbigpe3JldHVybiBpP25ldyBlOnZvaWQgMH1mdW5jdGlvbiByKCl7dmFyIHQ9by5sZW5ndGgtMTtyZXR1cm4gdD49MD9vW3RdOnZvaWQgMH12YXIgaT0hMSxvPVtdO3JldHVybiB0LnByb3RvdHlwZS5fcHJvbWlzZUNyZWF0ZWQ9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLl9wdXNoQ29udGV4dD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuX3BvcENvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sdC5fcGVla0NvbnRleHQ9dC5wcm90b3R5cGUuX3BlZWtDb250ZXh0PWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5fcHVzaENvbnRleHQ9ZnVuY3Rpb24oKXt2b2lkIDAhPT10aGlzLl90cmFjZSYmKHRoaXMuX3RyYWNlLl9wcm9taXNlQ3JlYXRlZD1udWxsLG8ucHVzaCh0aGlzLl90cmFjZSkpfSxlLnByb3RvdHlwZS5fcG9wQ29udGV4dD1mdW5jdGlvbigpe2lmKHZvaWQgMCE9PXRoaXMuX3RyYWNlKXt2YXIgdD1vLnBvcCgpLGU9dC5fcHJvbWlzZUNyZWF0ZWQ7cmV0dXJuIHQuX3Byb21pc2VDcmVhdGVkPW51bGwsZX1yZXR1cm4gbnVsbH0sZS5DYXB0dXJlZFRyYWNlPW51bGwsZS5jcmVhdGU9bixlLmRlYWN0aXZhdGVMb25nU3RhY2tUcmFjZXM9ZnVuY3Rpb24oKXt9LGUuYWN0aXZhdGVMb25nU3RhY2tUcmFjZXM9ZnVuY3Rpb24oKXt2YXIgbj10LnByb3RvdHlwZS5fcHVzaENvbnRleHQsbz10LnByb3RvdHlwZS5fcG9wQ29udGV4dCxzPXQuX3BlZWtDb250ZXh0LGE9dC5wcm90b3R5cGUuX3BlZWtDb250ZXh0LGM9dC5wcm90b3R5cGUuX3Byb21pc2VDcmVhdGVkO2UuZGVhY3RpdmF0ZUxvbmdTdGFja1RyYWNlcz1mdW5jdGlvbigpe3QucHJvdG90eXBlLl9wdXNoQ29udGV4dD1uLHQucHJvdG90eXBlLl9wb3BDb250ZXh0PW8sdC5fcGVla0NvbnRleHQ9cyx0LnByb3RvdHlwZS5fcGVla0NvbnRleHQ9YSx0LnByb3RvdHlwZS5fcHJvbWlzZUNyZWF0ZWQ9YyxpPSExfSxpPSEwLHQucHJvdG90eXBlLl9wdXNoQ29udGV4dD1lLnByb3RvdHlwZS5fcHVzaENvbnRleHQsdC5wcm90b3R5cGUuX3BvcENvbnRleHQ9ZS5wcm90b3R5cGUuX3BvcENvbnRleHQsdC5fcGVla0NvbnRleHQ9dC5wcm90b3R5cGUuX3BlZWtDb250ZXh0PXIsdC5wcm90b3R5cGUuX3Byb21pc2VDcmVhdGVkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcGVla0NvbnRleHQoKTt0JiZudWxsPT10Ll9wcm9taXNlQ3JlYXRlZCYmKHQuX3Byb21pc2VDcmVhdGVkPXRoaXMpfX0sZX19LHt9XSw5OltmdW5jdGlvbih0LG4scil7XCJ1c2Ugc3RyaWN0XCI7bi5leHBvcnRzPWZ1bmN0aW9uKG4scil7ZnVuY3Rpb24gaSh0LGUpe3JldHVybntwcm9taXNlOmV9fWZ1bmN0aW9uIG8oKXtyZXR1cm4hMX1mdW5jdGlvbiBzKHQsZSxuKXt2YXIgcj10aGlzO3RyeXt0KGUsbixmdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJvbkNhbmNlbCBtdXN0IGJlIGEgZnVuY3Rpb24sIGdvdDogXCIrVi50b1N0cmluZyh0KSk7ci5fYXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2sodCl9KX1jYXRjaChpKXtyZXR1cm4gaX19ZnVuY3Rpb24gYSh0KXtpZighdGhpcy5faXNDYW5jZWxsYWJsZSgpKXJldHVybiB0aGlzO3ZhciBlPXRoaXMuX29uQ2FuY2VsKCk7dm9pZCAwIT09ZT9WLmlzQXJyYXkoZSk/ZS5wdXNoKHQpOnRoaXMuX3NldE9uQ2FuY2VsKFtlLHRdKTp0aGlzLl9zZXRPbkNhbmNlbCh0KX1mdW5jdGlvbiBjKCl7cmV0dXJuIHRoaXMuX29uQ2FuY2VsRmllbGR9ZnVuY3Rpb24gdSh0KXt0aGlzLl9vbkNhbmNlbEZpZWxkPXR9ZnVuY3Rpb24gbCgpe3RoaXMuX2NhbmNlbGxhdGlvblBhcmVudD12b2lkIDAsdGhpcy5fb25DYW5jZWxGaWVsZD12b2lkIDB9ZnVuY3Rpb24gZih0LGUpe2lmKDAhPT0oMSZlKSl7dGhpcy5fY2FuY2VsbGF0aW9uUGFyZW50PXQ7dmFyIG49dC5fYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbDt2b2lkIDA9PT1uJiYobj0wKSx0Ll9icmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsPW4rMX0wIT09KDImZSkmJnQuX2lzQm91bmQoKSYmdGhpcy5fc2V0Qm91bmRUbyh0Ll9ib3VuZFRvKX1mdW5jdGlvbiBwKHQsZSl7MCE9PSgyJmUpJiZ0Ll9pc0JvdW5kKCkmJnRoaXMuX3NldEJvdW5kVG8odC5fYm91bmRUbyl9ZnVuY3Rpb24gaCgpe3ZhciB0PXRoaXMuX2JvdW5kVG87cmV0dXJuIHZvaWQgMCE9PXQmJnQgaW5zdGFuY2VvZiBuP3QuaXNGdWxmaWxsZWQoKT90LnZhbHVlKCk6dm9pZCAwOnR9ZnVuY3Rpb24gZCgpe3RoaXMuX3RyYWNlPW5ldyBSKHRoaXMuX3BlZWtDb250ZXh0KCkpfWZ1bmN0aW9uIF8odCxlKXtpZihCKHQpKXt2YXIgbj10aGlzLl90cmFjZTtpZih2b2lkIDAhPT1uJiZlJiYobj1uLl9wYXJlbnQpLHZvaWQgMCE9PW4pbi5hdHRhY2hFeHRyYVRyYWNlKHQpO2Vsc2UgaWYoIXQuX19zdGFja0NsZWFuZWRfXyl7dmFyIHI9ayh0KTtWLm5vdEVudW1lcmFibGVQcm9wKHQsXCJzdGFja1wiLHIubWVzc2FnZStcIlxcblwiK3Iuc3RhY2suam9pbihcIlxcblwiKSksVi5ub3RFbnVtZXJhYmxlUHJvcCh0LFwiX19zdGFja0NsZWFuZWRfX1wiLCEwKX19fWZ1bmN0aW9uIHYodCxlLG4scixpKXtpZih2b2lkIDA9PT10JiZudWxsIT09ZSYmSyl7aWYodm9pZCAwIT09aSYmaS5fcmV0dXJuZWROb25VbmRlZmluZWQoKSlyZXR1cm47aWYoMD09PSg2NTUzNSZyLl9iaXRGaWVsZCkpcmV0dXJuO24mJihuKz1cIiBcIik7dmFyIG89XCJcIixzPVwiXCI7aWYoZS5fdHJhY2Upe2Zvcih2YXIgYT1lLl90cmFjZS5zdGFjay5zcGxpdChcIlxcblwiKSxjPUUoYSksdT1jLmxlbmd0aC0xO3U+PTA7LS11KXt2YXIgbD1jW3VdO2lmKCFILnRlc3QobCkpe3ZhciBmPWwubWF0Y2gocSk7ZiYmKG89XCJhdCBcIitmWzFdK1wiOlwiK2ZbMl0rXCI6XCIrZlszXStcIiBcIik7YnJlYWt9fWlmKGMubGVuZ3RoPjApZm9yKHZhciBwPWNbMF0sdT0wO3U8YS5sZW5ndGg7Kyt1KWlmKGFbdV09PT1wKXt1PjAmJihzPVwiXFxuXCIrYVt1LTFdKTticmVha319dmFyIGg9XCJhIHByb21pc2Ugd2FzIGNyZWF0ZWQgaW4gYSBcIituK1wiaGFuZGxlciBcIitvK1wiYnV0IHdhcyBub3QgcmV0dXJuZWQgZnJvbSBpdCwgc2VlIGh0dHA6Ly9nb28uZ2wvclJxTVV3XCIrcztyLl93YXJuKGgsITAsZSl9fWZ1bmN0aW9uIHkodCxlKXt2YXIgbj10K1wiIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSB2ZXJzaW9uLlwiO3JldHVybiBlJiYobis9XCIgVXNlIFwiK2UrXCIgaW5zdGVhZC5cIiksbShuKX1mdW5jdGlvbiBtKHQsZSxyKXtpZihzdC53YXJuaW5ncyl7dmFyIGksbz1uZXcgTCh0KTtpZihlKXIuX2F0dGFjaEV4dHJhVHJhY2Uobyk7ZWxzZSBpZihzdC5sb25nU3RhY2tUcmFjZXMmJihpPW4uX3BlZWtDb250ZXh0KCkpKWkuYXR0YWNoRXh0cmFUcmFjZShvKTtlbHNle3ZhciBzPWsobyk7by5zdGFjaz1zLm1lc3NhZ2UrXCJcXG5cIitzLnN0YWNrLmpvaW4oXCJcXG5cIil9ZXQoXCJ3YXJuaW5nXCIsbyl8fGoobyxcIlwiLCEwKX19ZnVuY3Rpb24gZyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGgtMTsrK24pZVtuXS5wdXNoKFwiRnJvbSBwcmV2aW91cyBldmVudDpcIiksZVtuXT1lW25dLmpvaW4oXCJcXG5cIik7cmV0dXJuIG48ZS5sZW5ndGgmJihlW25dPWVbbl0uam9pbihcIlxcblwiKSksdCtcIlxcblwiK2Uuam9pbihcIlxcblwiKX1mdW5jdGlvbiBiKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7KytlKSgwPT09dFtlXS5sZW5ndGh8fGUrMTx0Lmxlbmd0aCYmdFtlXVswXT09PXRbZSsxXVswXSkmJih0LnNwbGljZShlLDEpLGUtLSl9ZnVuY3Rpb24gdyh0KXtmb3IodmFyIGU9dFswXSxuPTE7bjx0Lmxlbmd0aDsrK24pe2Zvcih2YXIgcj10W25dLGk9ZS5sZW5ndGgtMSxvPWVbaV0scz0tMSxhPXIubGVuZ3RoLTE7YT49MDstLWEpaWYoclthXT09PW8pe3M9YTticmVha31mb3IodmFyIGE9czthPj0wOy0tYSl7dmFyIGM9clthXTtpZihlW2ldIT09YylicmVhaztlLnBvcCgpLGktLX1lPXJ9fWZ1bmN0aW9uIEUodCl7Zm9yKHZhciBlPVtdLG49MDtuPHQubGVuZ3RoOysrbil7dmFyIHI9dFtuXSxpPVwiICAgIChObyBzdGFjayB0cmFjZSlcIj09PXJ8fFEudGVzdChyKSxvPWkmJnJ0KHIpO2kmJiFvJiYoeiYmXCIgXCIhPT1yLmNoYXJBdCgwKSYmKHI9XCIgICAgXCIrciksZS5wdXNoKHIpKX1yZXR1cm4gZX1mdW5jdGlvbiBDKHQpe2Zvcih2YXIgZT10LnN0YWNrLnJlcGxhY2UoL1xccyskL2csXCJcIikuc3BsaXQoXCJcXG5cIiksbj0wO248ZS5sZW5ndGg7KytuKXt2YXIgcj1lW25dO2lmKFwiICAgIChObyBzdGFjayB0cmFjZSlcIj09PXJ8fFEudGVzdChyKSlicmVha31yZXR1cm4gbj4wJiYoZT1lLnNsaWNlKG4pKSxlfWZ1bmN0aW9uIGsodCl7dmFyIGU9dC5zdGFjayxuPXQudG9TdHJpbmcoKTtyZXR1cm4gZT1cInN0cmluZ1wiPT10eXBlb2YgZSYmZS5sZW5ndGg+MD9DKHQpOltcIiAgICAoTm8gc3RhY2sgdHJhY2UpXCJdLHttZXNzYWdlOm4sc3RhY2s6RShlKX19ZnVuY3Rpb24gaih0LGUsbil7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUpe3ZhciByO2lmKFYuaXNPYmplY3QodCkpe3ZhciBpPXQuc3RhY2s7cj1lKyQoaSx0KX1lbHNlIHI9ZStTdHJpbmcodCk7XCJmdW5jdGlvblwiPT10eXBlb2YgRD9EKHIsbik6XCJmdW5jdGlvblwiIT10eXBlb2YgY29uc29sZS5sb2cmJlwib2JqZWN0XCIhPXR5cGVvZiBjb25zb2xlLmxvZ3x8Y29uc29sZS5sb2cocil9fWZ1bmN0aW9uIHgodCxlLG4scil7dmFyIGk9ITE7dHJ5e1wiZnVuY3Rpb25cIj09dHlwZW9mIGUmJihpPSEwLFwicmVqZWN0aW9uSGFuZGxlZFwiPT09dD9lKHIpOmUobixyKSl9Y2F0Y2gobyl7Ti50aHJvd0xhdGVyKG8pfVwidW5oYW5kbGVkUmVqZWN0aW9uXCI9PT10P2V0KHQsbixyKXx8aXx8aihuLFwiVW5oYW5kbGVkIHJlamVjdGlvbiBcIik6ZXQodCxyKX1mdW5jdGlvbiBGKHQpe3ZhciBlO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpZT1cIltmdW5jdGlvbiBcIisodC5uYW1lfHxcImFub255bW91c1wiKStcIl1cIjtlbHNle2U9dCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC50b1N0cmluZz90LnRvU3RyaW5nKCk6Vi50b1N0cmluZyh0KTt2YXIgbj0vXFxbb2JqZWN0IFthLXpBLVowLTkkX10rXFxdLztpZihuLnRlc3QoZSkpdHJ5e3ZhciByPUpTT04uc3RyaW5naWZ5KHQpO2U9cn1jYXRjaChpKXt9MD09PWUubGVuZ3RoJiYoZT1cIihlbXB0eSBhcnJheSlcIil9cmV0dXJuXCIoPFwiK1QoZSkrXCI+LCBubyBzdGFjayB0cmFjZSlcIn1mdW5jdGlvbiBUKHQpe3ZhciBlPTQxO3JldHVybiB0Lmxlbmd0aDxlP3Q6dC5zdWJzdHIoMCxlLTMpK1wiLi4uXCJ9ZnVuY3Rpb24gUygpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG90fWZ1bmN0aW9uIFAodCl7dmFyIGU9dC5tYXRjaChpdCk7cmV0dXJuIGU/e2ZpbGVOYW1lOmVbMV0sbGluZTpwYXJzZUludChlWzJdLDEwKX06dm9pZCAwfWZ1bmN0aW9uIE8odCxlKXtpZihTKCkpe2Zvcih2YXIgbixyLGk9dC5zdGFjay5zcGxpdChcIlxcblwiKSxvPWUuc3RhY2suc3BsaXQoXCJcXG5cIikscz0tMSxhPS0xLGM9MDtjPGkubGVuZ3RoOysrYyl7dmFyIHU9UChpW2NdKTtpZih1KXtuPXUuZmlsZU5hbWUscz11LmxpbmU7YnJlYWt9fWZvcih2YXIgYz0wO2M8by5sZW5ndGg7KytjKXt2YXIgdT1QKG9bY10pO2lmKHUpe3I9dS5maWxlTmFtZSxhPXUubGluZTticmVha319MD5zfHwwPmF8fCFufHwhcnx8biE9PXJ8fHM+PWF8fChydD1mdW5jdGlvbih0KXtpZihNLnRlc3QodCkpcmV0dXJuITA7dmFyIGU9UCh0KTtyZXR1cm4hIShlJiZlLmZpbGVOYW1lPT09biYmczw9ZS5saW5lJiZlLmxpbmU8PWEpfSl9fWZ1bmN0aW9uIFIodCl7dGhpcy5fcGFyZW50PXQsdGhpcy5fcHJvbWlzZXNDcmVhdGVkPTA7dmFyIGU9dGhpcy5fbGVuZ3RoPTErKHZvaWQgMD09PXQ/MDp0Ll9sZW5ndGgpO290KHRoaXMsUiksZT4zMiYmdGhpcy51bmN5Y2xlKCl9dmFyIEEsSSxELFU9bi5fZ2V0RG9tYWluLE49bi5fYXN5bmMsTD10KFwiLi9lcnJvcnNcIikuV2FybmluZyxWPXQoXCIuL3V0aWxcIiksQj1WLmNhbkF0dGFjaFRyYWNlLE09L1tcXFxcXFwvXWJsdWViaXJkW1xcXFxcXC9danNbXFxcXFxcL10ocmVsZWFzZXxkZWJ1Z3xpbnN0cnVtZW50ZWQpLyxIPS9cXCgoPzp0aW1lcnNcXC5qcyk6XFxkKzpcXGQrXFwpLyxxPS9bXFwvPFxcKF0oLis/KTooXFxkKyk6KFxcZCspXFwpP1xccyokLyxRPW51bGwsJD1udWxsLHo9ITEsRz0hKDA9PVYuZW52KFwiQkxVRUJJUkRfREVCVUdcIikpLFc9ISgwPT1WLmVudihcIkJMVUVCSVJEX1dBUk5JTkdTXCIpfHwhRyYmIVYuZW52KFwiQkxVRUJJUkRfV0FSTklOR1NcIikpLFg9ISgwPT1WLmVudihcIkJMVUVCSVJEX0xPTkdfU1RBQ0tfVFJBQ0VTXCIpfHwhRyYmIVYuZW52KFwiQkxVRUJJUkRfTE9OR19TVEFDS19UUkFDRVNcIikpLEs9MCE9Vi5lbnYoXCJCTFVFQklSRF9XX0ZPUkdPVFRFTl9SRVRVUk5cIikmJihXfHwhIVYuZW52KFwiQkxVRUJJUkRfV19GT1JHT1RURU5fUkVUVVJOXCIpKTtuLnByb3RvdHlwZS5zdXBwcmVzc1VuaGFuZGxlZFJlamVjdGlvbnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90YXJnZXQoKTt0Ll9iaXRGaWVsZD0tMTA0ODU3NyZ0Ll9iaXRGaWVsZHw1MjQyODh9LG4ucHJvdG90eXBlLl9lbnN1cmVQb3NzaWJsZVJlamVjdGlvbkhhbmRsZWQ9ZnVuY3Rpb24oKXswPT09KDUyNDI4OCZ0aGlzLl9iaXRGaWVsZCkmJih0aGlzLl9zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZCgpLE4uaW52b2tlTGF0ZXIodGhpcy5fbm90aWZ5VW5oYW5kbGVkUmVqZWN0aW9uLHRoaXMsdm9pZCAwKSl9LG4ucHJvdG90eXBlLl9ub3RpZnlVbmhhbmRsZWRSZWplY3Rpb25Jc0hhbmRsZWQ9ZnVuY3Rpb24oKXt4KFwicmVqZWN0aW9uSGFuZGxlZFwiLEEsdm9pZCAwLHRoaXMpfSxuLnByb3RvdHlwZS5fc2V0UmV0dXJuZWROb25VbmRlZmluZWQ9ZnVuY3Rpb24oKXt0aGlzLl9iaXRGaWVsZD0yNjg0MzU0NTZ8dGhpcy5fYml0RmllbGR9LG4ucHJvdG90eXBlLl9yZXR1cm5lZE5vblVuZGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiAwIT09KDI2ODQzNTQ1NiZ0aGlzLl9iaXRGaWVsZCl9LG4ucHJvdG90eXBlLl9ub3RpZnlVbmhhbmRsZWRSZWplY3Rpb249ZnVuY3Rpb24oKXtpZih0aGlzLl9pc1JlamVjdGlvblVuaGFuZGxlZCgpKXt2YXIgdD10aGlzLl9zZXR0bGVkVmFsdWUoKTt0aGlzLl9zZXRVbmhhbmRsZWRSZWplY3Rpb25Jc05vdGlmaWVkKCkseChcInVuaGFuZGxlZFJlamVjdGlvblwiLEksdCx0aGlzKX19LG4ucHJvdG90eXBlLl9zZXRVbmhhbmRsZWRSZWplY3Rpb25Jc05vdGlmaWVkPWZ1bmN0aW9uKCl7dGhpcy5fYml0RmllbGQ9MjYyMTQ0fHRoaXMuX2JpdEZpZWxkfSxuLnByb3RvdHlwZS5fdW5zZXRVbmhhbmRsZWRSZWplY3Rpb25Jc05vdGlmaWVkPWZ1bmN0aW9uKCl7dGhpcy5fYml0RmllbGQ9LTI2MjE0NSZ0aGlzLl9iaXRGaWVsZH0sbi5wcm90b3R5cGUuX2lzVW5oYW5kbGVkUmVqZWN0aW9uTm90aWZpZWQ9ZnVuY3Rpb24oKXtyZXR1cm4oMjYyMTQ0JnRoaXMuX2JpdEZpZWxkKT4wfSxuLnByb3RvdHlwZS5fc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQ9ZnVuY3Rpb24oKXt0aGlzLl9iaXRGaWVsZD0xMDQ4NTc2fHRoaXMuX2JpdEZpZWxkfSxuLnByb3RvdHlwZS5fdW5zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPS0xMDQ4NTc3JnRoaXMuX2JpdEZpZWxkLHRoaXMuX2lzVW5oYW5kbGVkUmVqZWN0aW9uTm90aWZpZWQoKSYmKHRoaXMuX3Vuc2V0VW5oYW5kbGVkUmVqZWN0aW9uSXNOb3RpZmllZCgpLHRoaXMuX25vdGlmeVVuaGFuZGxlZFJlamVjdGlvbklzSGFuZGxlZCgpKX0sbi5wcm90b3R5cGUuX2lzUmVqZWN0aW9uVW5oYW5kbGVkPWZ1bmN0aW9uKCl7cmV0dXJuKDEwNDg1NzYmdGhpcy5fYml0RmllbGQpPjB9LG4ucHJvdG90eXBlLl93YXJuPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbSh0LGUsbnx8dGhpcyl9LG4ub25Qb3NzaWJseVVuaGFuZGxlZFJlamVjdGlvbj1mdW5jdGlvbih0KXt2YXIgZT1VKCk7ST1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P251bGw9PT1lP3Q6Vi5kb21haW5CaW5kKGUsdCk6dm9pZCAwfSxuLm9uVW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlZD1mdW5jdGlvbih0KXt2YXIgZT1VKCk7QT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P251bGw9PT1lP3Q6Vi5kb21haW5CaW5kKGUsdCk6dm9pZCAwfTt2YXIgSj1mdW5jdGlvbigpe307bi5sb25nU3RhY2tUcmFjZXM9ZnVuY3Rpb24oKXtpZihOLmhhdmVJdGVtc1F1ZXVlZCgpJiYhc3QubG9uZ1N0YWNrVHJhY2VzKXRocm93IG5ldyBFcnJvcihcImNhbm5vdCBlbmFibGUgbG9uZyBzdGFjayB0cmFjZXMgYWZ0ZXIgcHJvbWlzZXMgaGF2ZSBiZWVuIGNyZWF0ZWRcXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXCIpO2lmKCFzdC5sb25nU3RhY2tUcmFjZXMmJlMoKSl7dmFyIHQ9bi5wcm90b3R5cGUuX2NhcHR1cmVTdGFja1RyYWNlLGU9bi5wcm90b3R5cGUuX2F0dGFjaEV4dHJhVHJhY2U7c3QubG9uZ1N0YWNrVHJhY2VzPSEwLEo9ZnVuY3Rpb24oKXtpZihOLmhhdmVJdGVtc1F1ZXVlZCgpJiYhc3QubG9uZ1N0YWNrVHJhY2VzKXRocm93IG5ldyBFcnJvcihcImNhbm5vdCBlbmFibGUgbG9uZyBzdGFjayB0cmFjZXMgYWZ0ZXIgcHJvbWlzZXMgaGF2ZSBiZWVuIGNyZWF0ZWRcXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXCIpO24ucHJvdG90eXBlLl9jYXB0dXJlU3RhY2tUcmFjZT10LG4ucHJvdG90eXBlLl9hdHRhY2hFeHRyYVRyYWNlPWUsci5kZWFjdGl2YXRlTG9uZ1N0YWNrVHJhY2VzKCksTi5lbmFibGVUcmFtcG9saW5lKCksc3QubG9uZ1N0YWNrVHJhY2VzPSExfSxuLnByb3RvdHlwZS5fY2FwdHVyZVN0YWNrVHJhY2U9ZCxuLnByb3RvdHlwZS5fYXR0YWNoRXh0cmFUcmFjZT1fLHIuYWN0aXZhdGVMb25nU3RhY2tUcmFjZXMoKSxOLmRpc2FibGVUcmFtcG9saW5lSWZOZWNlc3NhcnkoKX19LG4uaGFzTG9uZ1N0YWNrVHJhY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHN0LmxvbmdTdGFja1RyYWNlcyYmUygpfTt2YXIgWT1mdW5jdGlvbigpe3RyeXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBDdXN0b21FdmVudCl7dmFyIHQ9bmV3IEN1c3RvbUV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7cmV0dXJuIFYuZ2xvYmFsLmRpc3BhdGNoRXZlbnQodCksZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgQ3VzdG9tRXZlbnQodC50b0xvd2VyQ2FzZSgpLHtkZXRhaWw6ZSxjYW5jZWxhYmxlOiEwfSk7cmV0dXJuIVYuZ2xvYmFsLmRpc3BhdGNoRXZlbnQobil9fWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIEV2ZW50KXt2YXIgdD1uZXcgRXZlbnQoXCJDdXN0b21FdmVudFwiKTtyZXR1cm4gVi5nbG9iYWwuZGlzcGF0Y2hFdmVudCh0KSxmdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBFdmVudCh0LnRvTG93ZXJDYXNlKCkse2NhbmNlbGFibGU6ITB9KTtyZXR1cm4gbi5kZXRhaWw9ZSwhVi5nbG9iYWwuZGlzcGF0Y2hFdmVudChuKX19dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJDdXN0b21FdmVudFwiKTtyZXR1cm4gdC5pbml0Q3VzdG9tRXZlbnQoXCJ0ZXN0aW5ndGhlZXZlbnRcIiwhMSwhMCx7fSksVi5nbG9iYWwuZGlzcGF0Y2hFdmVudCh0KSxmdW5jdGlvbih0LGUpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7cmV0dXJuIG4uaW5pdEN1c3RvbUV2ZW50KHQudG9Mb3dlckNhc2UoKSwhMSwhMCxlKSwhVi5nbG9iYWwuZGlzcGF0Y2hFdmVudChuKX19Y2F0Y2goZSl7fXJldHVybiBmdW5jdGlvbigpe3JldHVybiExfX0oKSxaPWZ1bmN0aW9uKCl7cmV0dXJuIFYuaXNOb2RlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZW1pdC5hcHBseShlLGFyZ3VtZW50cyl9OlYuZ2xvYmFsP2Z1bmN0aW9uKHQpe3ZhciBlPVwib25cIit0LnRvTG93ZXJDYXNlKCksbj1WLmdsb2JhbFtlXTtyZXR1cm4gbj8obi5hcHBseShWLmdsb2JhbCxbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSksITApOiExfTpmdW5jdGlvbigpe3JldHVybiExfX0oKSx0dD17cHJvbWlzZUNyZWF0ZWQ6aSxwcm9taXNlRnVsZmlsbGVkOmkscHJvbWlzZVJlamVjdGVkOmkscHJvbWlzZVJlc29sdmVkOmkscHJvbWlzZUNhbmNlbGxlZDppLHByb21pc2VDaGFpbmVkOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm57cHJvbWlzZTplLGNoaWxkOm59fSx3YXJuaW5nOmZ1bmN0aW9uKHQsZSl7cmV0dXJue3dhcm5pbmc6ZX19LHVuaGFuZGxlZFJlamVjdGlvbjpmdW5jdGlvbih0LGUsbil7cmV0dXJue3JlYXNvbjplLHByb21pc2U6bn19LHJlamVjdGlvbkhhbmRsZWQ6aX0sZXQ9ZnVuY3Rpb24odCl7dmFyIGU9ITE7dHJ5e2U9Wi5hcHBseShudWxsLGFyZ3VtZW50cyl9Y2F0Y2gobil7Ti50aHJvd0xhdGVyKG4pLGU9ITB9dmFyIHI9ITE7dHJ5e3I9WSh0LHR0W3RdLmFwcGx5KG51bGwsYXJndW1lbnRzKSl9Y2F0Y2gobil7Ti50aHJvd0xhdGVyKG4pLHI9ITB9cmV0dXJuIHJ8fGV9O24uY29uZmlnPWZ1bmN0aW9uKHQpe2lmKHQ9T2JqZWN0KHQpLFwibG9uZ1N0YWNrVHJhY2VzXCJpbiB0JiYodC5sb25nU3RhY2tUcmFjZXM/bi5sb25nU3RhY2tUcmFjZXMoKTohdC5sb25nU3RhY2tUcmFjZXMmJm4uaGFzTG9uZ1N0YWNrVHJhY2VzKCkmJkooKSksXCJ3YXJuaW5nc1wiaW4gdCl7dmFyIGU9dC53YXJuaW5ncztzdC53YXJuaW5ncz0hIWUsSz1zdC53YXJuaW5ncyxWLmlzT2JqZWN0KGUpJiZcIndGb3Jnb3R0ZW5SZXR1cm5cImluIGUmJihLPSEhZS53Rm9yZ290dGVuUmV0dXJuKX1pZihcImNhbmNlbGxhdGlvblwiaW4gdCYmdC5jYW5jZWxsYXRpb24mJiFzdC5jYW5jZWxsYXRpb24pe2lmKE4uaGF2ZUl0ZW1zUXVldWVkKCkpdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IGVuYWJsZSBjYW5jZWxsYXRpb24gYWZ0ZXIgcHJvbWlzZXMgYXJlIGluIHVzZVwiKTtuLnByb3RvdHlwZS5fY2xlYXJDYW5jZWxsYXRpb25EYXRhPWwsbi5wcm90b3R5cGUuX3Byb3BhZ2F0ZUZyb209ZixuLnByb3RvdHlwZS5fb25DYW5jZWw9YyxuLnByb3RvdHlwZS5fc2V0T25DYW5jZWw9dSxuLnByb3RvdHlwZS5fYXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2s9YSxuLnByb3RvdHlwZS5fZXhlY3V0ZT1zLG50PWYsc3QuY2FuY2VsbGF0aW9uPSEwfVwibW9uaXRvcmluZ1wiaW4gdCYmKHQubW9uaXRvcmluZyYmIXN0Lm1vbml0b3Jpbmc/KHN0Lm1vbml0b3Jpbmc9ITAsbi5wcm90b3R5cGUuX2ZpcmVFdmVudD1ldCk6IXQubW9uaXRvcmluZyYmc3QubW9uaXRvcmluZyYmKHN0Lm1vbml0b3Jpbmc9ITEsbi5wcm90b3R5cGUuX2ZpcmVFdmVudD1vKSl9LG4ucHJvdG90eXBlLl9maXJlRXZlbnQ9byxuLnByb3RvdHlwZS5fZXhlY3V0ZT1mdW5jdGlvbih0LGUsbil7dHJ5e3QoZSxuKX1jYXRjaChyKXtyZXR1cm4gcn19LG4ucHJvdG90eXBlLl9vbkNhbmNlbD1mdW5jdGlvbigpe30sbi5wcm90b3R5cGUuX3NldE9uQ2FuY2VsPWZ1bmN0aW9uKHQpe30sbi5wcm90b3R5cGUuX2F0dGFjaENhbmNlbGxhdGlvbkNhbGxiYWNrPWZ1bmN0aW9uKHQpe30sbi5wcm90b3R5cGUuX2NhcHR1cmVTdGFja1RyYWNlPWZ1bmN0aW9uKCl7fSxuLnByb3RvdHlwZS5fYXR0YWNoRXh0cmFUcmFjZT1mdW5jdGlvbigpe30sbi5wcm90b3R5cGUuX2NsZWFyQ2FuY2VsbGF0aW9uRGF0YT1mdW5jdGlvbigpe30sbi5wcm90b3R5cGUuX3Byb3BhZ2F0ZUZyb209ZnVuY3Rpb24odCxlKXt9O3ZhciBudD1wLHJ0PWZ1bmN0aW9uKCl7cmV0dXJuITF9LGl0PS9bXFwvPFxcKF0oW146XFwvXSspOihcXGQrKTooPzpcXGQrKVxcKT9cXHMqJC87Vi5pbmhlcml0cyhSLEVycm9yKSxyLkNhcHR1cmVkVHJhY2U9UixSLnByb3RvdHlwZS51bmN5Y2xlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbGVuZ3RoO2lmKCEoMj50KSl7Zm9yKHZhciBlPVtdLG49e30scj0wLGk9dGhpczt2b2lkIDAhPT1pOysrcillLnB1c2goaSksaT1pLl9wYXJlbnQ7dD10aGlzLl9sZW5ndGg9cjtmb3IodmFyIHI9dC0xO3I+PTA7LS1yKXt2YXIgbz1lW3JdLnN0YWNrO3ZvaWQgMD09PW5bb10mJihuW29dPXIpfWZvcih2YXIgcj0wO3Q+cjsrK3Ipe3ZhciBzPWVbcl0uc3RhY2ssYT1uW3NdO2lmKHZvaWQgMCE9PWEmJmEhPT1yKXthPjAmJihlW2EtMV0uX3BhcmVudD12b2lkIDAsZVthLTFdLl9sZW5ndGg9MSksZVtyXS5fcGFyZW50PXZvaWQgMCxlW3JdLl9sZW5ndGg9MTt2YXIgYz1yPjA/ZVtyLTFdOnRoaXM7dC0xPmE/KGMuX3BhcmVudD1lW2ErMV0sYy5fcGFyZW50LnVuY3ljbGUoKSxjLl9sZW5ndGg9Yy5fcGFyZW50Ll9sZW5ndGgrMSk6KGMuX3BhcmVudD12b2lkIDAsYy5fbGVuZ3RoPTEpO2Zvcih2YXIgdT1jLl9sZW5ndGgrMSxsPXItMjtsPj0wOy0tbCllW2xdLl9sZW5ndGg9dSx1Kys7cmV0dXJufX19fSxSLnByb3RvdHlwZS5hdHRhY2hFeHRyYVRyYWNlPWZ1bmN0aW9uKHQpe2lmKCF0Ll9fc3RhY2tDbGVhbmVkX18pe3RoaXMudW5jeWNsZSgpO2Zvcih2YXIgZT1rKHQpLG49ZS5tZXNzYWdlLHI9W2Uuc3RhY2tdLGk9dGhpczt2b2lkIDAhPT1pOylyLnB1c2goRShpLnN0YWNrLnNwbGl0KFwiXFxuXCIpKSksaT1pLl9wYXJlbnQ7dyhyKSxiKHIpLFYubm90RW51bWVyYWJsZVByb3AodCxcInN0YWNrXCIsZyhuLHIpKSxWLm5vdEVudW1lcmFibGVQcm9wKHQsXCJfX3N0YWNrQ2xlYW5lZF9fXCIsITApfX07dmFyIG90PWZ1bmN0aW9uKCl7dmFyIHQ9L15cXHMqYXRcXHMqLyxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/dDp2b2lkIDAhPT1lLm5hbWUmJnZvaWQgMCE9PWUubWVzc2FnZT9lLnRvU3RyaW5nKCk6RihlKX07aWYoXCJudW1iZXJcIj09dHlwZW9mIEVycm9yLnN0YWNrVHJhY2VMaW1pdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2Upe0Vycm9yLnN0YWNrVHJhY2VMaW1pdCs9NixRPXQsJD1lO3ZhciBuPUVycm9yLmNhcHR1cmVTdGFja1RyYWNlO3JldHVybiBydD1mdW5jdGlvbih0KXtyZXR1cm4gTS50ZXN0KHQpfSxmdW5jdGlvbih0LGUpe0Vycm9yLnN0YWNrVHJhY2VMaW1pdCs9NixuKHQsZSksRXJyb3Iuc3RhY2tUcmFjZUxpbWl0LT02fX12YXIgcj1uZXcgRXJyb3I7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHIuc3RhY2smJnIuc3RhY2suc3BsaXQoXCJcXG5cIilbMF0uaW5kZXhPZihcInN0YWNrRGV0ZWN0aW9uQFwiKT49MClyZXR1cm4gUT0vQC8sJD1lLHo9ITAsZnVuY3Rpb24odCl7dC5zdGFjaz0obmV3IEVycm9yKS5zdGFja307dmFyIGk7dHJ5e3Rocm93IG5ldyBFcnJvcn1jYXRjaChvKXtpPVwic3RhY2tcImluIG99cmV0dXJuXCJzdGFja1wiaW4gcnx8IWl8fFwibnVtYmVyXCIhPXR5cGVvZiBFcnJvci5zdGFja1RyYWNlTGltaXQ/KCQ9ZnVuY3Rpb24odCxlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD90Olwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlfHx2b2lkIDA9PT1lLm5hbWV8fHZvaWQgMD09PWUubWVzc2FnZT9GKGUpOmUudG9TdHJpbmcoKX0sbnVsbCk6KFE9dCwkPWUsZnVuY3Rpb24odCl7RXJyb3Iuc3RhY2tUcmFjZUxpbWl0Kz02O3RyeXt0aHJvdyBuZXcgRXJyb3J9Y2F0Y2goZSl7dC5zdGFjaz1lLnN0YWNrfUVycm9yLnN0YWNrVHJhY2VMaW1pdC09Nn0pfShbXSk7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlLndhcm4mJihEPWZ1bmN0aW9uKHQpe2NvbnNvbGUud2Fybih0KX0sVi5pc05vZGUmJmUuc3RkZXJyLmlzVFRZP0Q9ZnVuY3Rpb24odCxlKXt2YXIgbj1lP1wiXHUwMDFiWzMzbVwiOlwiXHUwMDFiWzMxbVwiO2NvbnNvbGUud2FybihuK3QrXCJcdTAwMWJbMG1cXG5cIil9OlYuaXNOb2RlfHxcInN0cmluZ1wiIT10eXBlb2YobmV3IEVycm9yKS5zdGFja3x8KEQ9ZnVuY3Rpb24odCxlKXtjb25zb2xlLndhcm4oXCIlY1wiK3QsZT9cImNvbG9yOiBkYXJrb3JhbmdlXCI6XCJjb2xvcjogcmVkXCIpfSkpO3ZhciBzdD17d2FybmluZ3M6Vyxsb25nU3RhY2tUcmFjZXM6ITEsY2FuY2VsbGF0aW9uOiExLG1vbml0b3Jpbmc6ITF9O3JldHVybiBYJiZuLmxvbmdTdGFja1RyYWNlcygpLHtsb25nU3RhY2tUcmFjZXM6ZnVuY3Rpb24oKXtyZXR1cm4gc3QubG9uZ1N0YWNrVHJhY2VzfSx3YXJuaW5nczpmdW5jdGlvbigpe3JldHVybiBzdC53YXJuaW5nc30sY2FuY2VsbGF0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHN0LmNhbmNlbGxhdGlvbn0sbW9uaXRvcmluZzpmdW5jdGlvbigpe3JldHVybiBzdC5tb25pdG9yaW5nfSxwcm9wYWdhdGVGcm9tRnVuY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gbnR9LGJvdW5kVmFsdWVGdW5jdGlvbjpmdW5jdGlvbigpe3JldHVybiBofSxjaGVja0ZvcmdvdHRlblJldHVybnM6dixzZXRCb3VuZHM6Tyx3YXJuOm0sZGVwcmVjYXRlZDp5LENhcHR1cmVkVHJhY2U6UixmaXJlRG9tRXZlbnQ6WSxmaXJlR2xvYmFsRXZlbnQ6Wn19fSx7XCIuL2Vycm9yc1wiOjEyLFwiLi91dGlsXCI6MzZ9XSwxMDpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIHRoaXMudmFsdWV9ZnVuY3Rpb24gbigpe3Rocm93IHRoaXMucmVhc29ufXQucHJvdG90eXBlW1wicmV0dXJuXCJdPXQucHJvdG90eXBlLnRoZW5SZXR1cm49ZnVuY3Rpb24obil7cmV0dXJuIG4gaW5zdGFuY2VvZiB0JiZuLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucygpLHRoaXMuX3RoZW4oZSx2b2lkIDAsdm9pZCAwLHt2YWx1ZTpufSx2b2lkIDApfSx0LnByb3RvdHlwZVtcInRocm93XCJdPXQucHJvdG90eXBlLnRoZW5UaHJvdz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdGhlbihuLHZvaWQgMCx2b2lkIDAse3JlYXNvbjp0fSx2b2lkIDApfSx0LnByb3RvdHlwZS5jYXRjaFRocm93PWZ1bmN0aW9uKHQpe2lmKGFyZ3VtZW50cy5sZW5ndGg8PTEpcmV0dXJuIHRoaXMuX3RoZW4odm9pZCAwLG4sdm9pZCAwLHtyZWFzb246dH0sdm9pZCAwKTt2YXIgZT1hcmd1bWVudHNbMV0scj1mdW5jdGlvbigpe3Rocm93IGV9O3JldHVybiB0aGlzLmNhdWdodCh0LHIpfSx0LnByb3RvdHlwZS5jYXRjaFJldHVybj1mdW5jdGlvbihuKXtpZihhcmd1bWVudHMubGVuZ3RoPD0xKXJldHVybiBuIGluc3RhbmNlb2YgdCYmbi5zdXBwcmVzc1VuaGFuZGxlZFJlamVjdGlvbnMoKSx0aGlzLl90aGVuKHZvaWQgMCxlLHZvaWQgMCx7dmFsdWU6bn0sdm9pZCAwKTt2YXIgcj1hcmd1bWVudHNbMV07ciBpbnN0YW5jZW9mIHQmJnIuc3VwcHJlc3NVbmhhbmRsZWRSZWplY3Rpb25zKCk7dmFyIGk9ZnVuY3Rpb24oKXtyZXR1cm4gcn07cmV0dXJuIHRoaXMuY2F1Z2h0KG4saSl9fX0se31dLDExOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3JldHVybiBvKHRoaXMpfWZ1bmN0aW9uIHIodCxuKXtyZXR1cm4gaSh0LG4sZSxlKX12YXIgaT10LnJlZHVjZSxvPXQuYWxsO3QucHJvdG90eXBlLmVhY2g9ZnVuY3Rpb24odCl7cmV0dXJuIGkodGhpcyx0LGUsMCkuX3RoZW4obix2b2lkIDAsdm9pZCAwLHRoaXMsdm9pZCAwKX0sdC5wcm90b3R5cGUubWFwU2VyaWVzPWZ1bmN0aW9uKHQpe3JldHVybiBpKHRoaXMsdCxlLGUpfSx0LmVhY2g9ZnVuY3Rpb24odCxyKXtyZXR1cm4gaSh0LHIsZSwwKS5fdGhlbihuLHZvaWQgMCx2b2lkIDAsdCx2b2lkIDApfSx0Lm1hcFNlcmllcz1yfX0se31dLDEyOltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe2Z1bmN0aW9uIG4ocil7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBuPyhmKHRoaXMsXCJtZXNzYWdlXCIsXCJzdHJpbmdcIj09dHlwZW9mIHI/cjplKSxmKHRoaXMsXCJuYW1lXCIsdCksdm9pZChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT9FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLHRoaXMuY29uc3RydWN0b3IpOkVycm9yLmNhbGwodGhpcykpKTpuZXcgbihyKX1yZXR1cm4gbChuLEVycm9yKSxufWZ1bmN0aW9uIGkodCl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBpPyhmKHRoaXMsXCJuYW1lXCIsXCJPcGVyYXRpb25hbEVycm9yXCIpLGYodGhpcyxcIm1lc3NhZ2VcIix0KSx0aGlzLmNhdXNlPXQsdGhpcy5pc09wZXJhdGlvbmFsPSEwLHZvaWQodCBpbnN0YW5jZW9mIEVycm9yPyhmKHRoaXMsXCJtZXNzYWdlXCIsdC5tZXNzYWdlKSxmKHRoaXMsXCJzdGFja1wiLHQuc3RhY2spKTpFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSYmRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyx0aGlzLmNvbnN0cnVjdG9yKSkpOm5ldyBpKHQpfXZhciBvLHMsYT10KFwiLi9lczVcIiksYz1hLmZyZWV6ZSx1PXQoXCIuL3V0aWxcIiksbD11LmluaGVyaXRzLGY9dS5ub3RFbnVtZXJhYmxlUHJvcCxwPXIoXCJXYXJuaW5nXCIsXCJ3YXJuaW5nXCIpLGg9cihcIkNhbmNlbGxhdGlvbkVycm9yXCIsXCJjYW5jZWxsYXRpb24gZXJyb3JcIiksZD1yKFwiVGltZW91dEVycm9yXCIsXCJ0aW1lb3V0IGVycm9yXCIpLF89cihcIkFnZ3JlZ2F0ZUVycm9yXCIsXCJhZ2dyZWdhdGUgZXJyb3JcIik7dHJ5e289VHlwZUVycm9yLHM9UmFuZ2VFcnJvcn1jYXRjaCh2KXtvPXIoXCJUeXBlRXJyb3JcIixcInR5cGUgZXJyb3JcIikscz1yKFwiUmFuZ2VFcnJvclwiLFwicmFuZ2UgZXJyb3JcIil9Zm9yKHZhciB5PVwiam9pbiBwb3AgcHVzaCBzaGlmdCB1bnNoaWZ0IHNsaWNlIGZpbHRlciBmb3JFYWNoIHNvbWUgZXZlcnkgbWFwIGluZGV4T2YgbGFzdEluZGV4T2YgcmVkdWNlIHJlZHVjZVJpZ2h0IHNvcnQgcmV2ZXJzZVwiLnNwbGl0KFwiIFwiKSxtPTA7bTx5Lmxlbmd0aDsrK20pXCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXkucHJvdG90eXBlW3lbbV1dJiYoXy5wcm90b3R5cGVbeVttXV09QXJyYXkucHJvdG90eXBlW3lbbV1dKTthLmRlZmluZVByb3BlcnR5KF8ucHJvdG90eXBlLFwibGVuZ3RoXCIse3ZhbHVlOjAsY29uZmlndXJhYmxlOiExLHdyaXRhYmxlOiEwLGVudW1lcmFibGU6ITB9KSxfLnByb3RvdHlwZS5pc09wZXJhdGlvbmFsPSEwO3ZhciBnPTA7Xy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgdD1BcnJheSg0KmcrMSkuam9pbihcIiBcIiksZT1cIlxcblwiK3QrXCJBZ2dyZWdhdGVFcnJvciBvZjpcXG5cIjtnKyssdD1BcnJheSg0KmcrMSkuam9pbihcIiBcIik7Zm9yKHZhciBuPTA7bjx0aGlzLmxlbmd0aDsrK24pe2Zvcih2YXIgcj10aGlzW25dPT09dGhpcz9cIltDaXJjdWxhciBBZ2dyZWdhdGVFcnJvcl1cIjp0aGlzW25dK1wiXCIsaT1yLnNwbGl0KFwiXFxuXCIpLG89MDtvPGkubGVuZ3RoOysrbylpW29dPXQraVtvXTtyPWkuam9pbihcIlxcblwiKSxlKz1yK1wiXFxuXCJ9cmV0dXJuIGctLSxlfSxsKGksRXJyb3IpO3ZhciBiPUVycm9yLl9fQmx1ZWJpcmRFcnJvclR5cGVzX187Ynx8KGI9Yyh7Q2FuY2VsbGF0aW9uRXJyb3I6aCxUaW1lb3V0RXJyb3I6ZCxPcGVyYXRpb25hbEVycm9yOmksUmVqZWN0aW9uRXJyb3I6aSxBZ2dyZWdhdGVFcnJvcjpffSksYS5kZWZpbmVQcm9wZXJ0eShFcnJvcixcIl9fQmx1ZWJpcmRFcnJvclR5cGVzX19cIix7dmFsdWU6Yix3cml0YWJsZTohMSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMX0pKSxlLmV4cG9ydHM9e0Vycm9yOkVycm9yLFR5cGVFcnJvcjpvLFJhbmdlRXJyb3I6cyxDYW5jZWxsYXRpb25FcnJvcjpiLkNhbmNlbGxhdGlvbkVycm9yLE9wZXJhdGlvbmFsRXJyb3I6Yi5PcGVyYXRpb25hbEVycm9yLFRpbWVvdXRFcnJvcjpiLlRpbWVvdXRFcnJvcixBZ2dyZWdhdGVFcnJvcjpiLkFnZ3JlZ2F0ZUVycm9yLFdhcm5pbmc6cH19LHtcIi4vZXM1XCI6MTMsXCIuL3V0aWxcIjozNn1dLDEzOltmdW5jdGlvbih0LGUsbil7dmFyIHI9ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdm9pZCAwPT09dGhpc30oKTtpZihyKWUuZXhwb3J0cz17ZnJlZXplOk9iamVjdC5mcmVlemUsZGVmaW5lUHJvcGVydHk6T2JqZWN0LmRlZmluZVByb3BlcnR5LGdldERlc2NyaXB0b3I6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixrZXlzOk9iamVjdC5rZXlzLG5hbWVzOk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLGdldFByb3RvdHlwZU9mOk9iamVjdC5nZXRQcm90b3R5cGVPZixpc0FycmF5OkFycmF5LmlzQXJyYXksaXNFUzU6cixwcm9wZXJ0eUlzV3JpdGFibGU6ZnVuY3Rpb24odCxlKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSk7cmV0dXJuIShuJiYhbi53cml0YWJsZSYmIW4uc2V0KX19O2Vsc2V7dmFyIGk9e30uaGFzT3duUHJvcGVydHksbz17fS50b1N0cmluZyxzPXt9LmNvbnN0cnVjdG9yLnByb3RvdHlwZSxhPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO2Zvcih2YXIgbiBpbiB0KWkuY2FsbCh0LG4pJiZlLnB1c2gobik7cmV0dXJuIGV9LGM9ZnVuY3Rpb24odCxlKXtyZXR1cm57dmFsdWU6dFtlXX19LHU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0W2VdPW4udmFsdWUsdH0sbD1mdW5jdGlvbih0KXtyZXR1cm4gdH0sZj1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIE9iamVjdCh0KS5jb25zdHJ1Y3Rvci5wcm90b3R5cGV9Y2F0Y2goZSl7cmV0dXJuIHN9fSxwPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1vLmNhbGwodCl9Y2F0Y2goZSl7cmV0dXJuITF9fTtlLmV4cG9ydHM9e2lzQXJyYXk6cCxrZXlzOmEsbmFtZXM6YSxkZWZpbmVQcm9wZXJ0eTp1LGdldERlc2NyaXB0b3I6YyxmcmVlemU6bCxnZXRQcm90b3R5cGVPZjpmLGlzRVM1OnIscHJvcGVydHlJc1dyaXRhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuITB9fX19LHt9XSwxNDpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuPXQubWFwO3QucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbih0LHIpe3JldHVybiBuKHRoaXMsdCxyLGUpfSx0LmZpbHRlcj1mdW5jdGlvbih0LHIsaSl7cmV0dXJuIG4odCxyLGksZSl9fX0se31dLDE1OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gcih0LGUsbil7dGhpcy5wcm9taXNlPXQsdGhpcy50eXBlPWUsdGhpcy5oYW5kbGVyPW4sdGhpcy5jYWxsZWQ9ITEsdGhpcy5jYW5jZWxQcm9taXNlPW51bGx9ZnVuY3Rpb24gaSh0KXt0aGlzLmZpbmFsbHlIYW5kbGVyPXR9ZnVuY3Rpb24gbyh0LGUpe3JldHVybiBudWxsIT10LmNhbmNlbFByb21pc2U/KGFyZ3VtZW50cy5sZW5ndGg+MT90LmNhbmNlbFByb21pc2UuX3JlamVjdChlKTp0LmNhbmNlbFByb21pc2UuX2NhbmNlbCgpLHQuY2FuY2VsUHJvbWlzZT1udWxsLCEwKTohMX1mdW5jdGlvbiBzKCl7cmV0dXJuIGMuY2FsbCh0aGlzLHRoaXMucHJvbWlzZS5fdGFyZ2V0KCkuX3NldHRsZWRWYWx1ZSgpKX1mdW5jdGlvbiBhKHQpe3JldHVybiBvKHRoaXMsdCk/dm9pZCAwOihmLmU9dCxmKX1mdW5jdGlvbiBjKHQpe3ZhciByPXRoaXMucHJvbWlzZSxjPXRoaXMuaGFuZGxlcjtpZighdGhpcy5jYWxsZWQpe3RoaXMuY2FsbGVkPSEwO3ZhciB1PXRoaXMuaXNGaW5hbGx5SGFuZGxlcigpP2MuY2FsbChyLl9ib3VuZFZhbHVlKCkpOmMuY2FsbChyLl9ib3VuZFZhbHVlKCksdCk7aWYodm9pZCAwIT09dSl7ci5fc2V0UmV0dXJuZWROb25VbmRlZmluZWQoKTt2YXIgcD1uKHUscik7aWYocCBpbnN0YW5jZW9mIGUpe2lmKG51bGwhPXRoaXMuY2FuY2VsUHJvbWlzZSl7aWYocC5faXNDYW5jZWxsZWQoKSl7dmFyIGg9bmV3IGwoXCJsYXRlIGNhbmNlbGxhdGlvbiBvYnNlcnZlclwiKTtyZXR1cm4gci5fYXR0YWNoRXh0cmFUcmFjZShoKSxmLmU9aCxmfXAuaXNQZW5kaW5nKCkmJnAuX2F0dGFjaENhbmNlbGxhdGlvbkNhbGxiYWNrKG5ldyBpKHRoaXMpKX1yZXR1cm4gcC5fdGhlbihzLGEsdm9pZCAwLHRoaXMsdm9pZCAwKX19fXJldHVybiByLmlzUmVqZWN0ZWQoKT8obyh0aGlzKSxmLmU9dCxmKToobyh0aGlzKSx0KX12YXIgdT10KFwiLi91dGlsXCIpLGw9ZS5DYW5jZWxsYXRpb25FcnJvcixmPXUuZXJyb3JPYmo7cmV0dXJuIHIucHJvdG90eXBlLmlzRmluYWxseUhhbmRsZXI9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMudHlwZX0saS5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZD1mdW5jdGlvbigpe28odGhpcy5maW5hbGx5SGFuZGxlcil9LGUucHJvdG90eXBlLl9wYXNzVGhyb3VnaD1mdW5jdGlvbih0LGUsbixpKXtyZXR1cm5cImZ1bmN0aW9uXCIhPXR5cGVvZiB0P3RoaXMudGhlbigpOnRoaXMuX3RoZW4obixpLHZvaWQgMCxuZXcgcih0aGlzLGUsdCksdm9pZCAwKX0sZS5wcm90b3R5cGUubGFzdGx5PWUucHJvdG90eXBlW1wiZmluYWxseVwiXT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcGFzc1Rocm91Z2godCwwLGMsYyl9LGUucHJvdG90eXBlLnRhcD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcGFzc1Rocm91Z2godCwxLGMpfSxyfX0se1wiLi91dGlsXCI6MzZ9XSwxNjpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlLG4scixpLG8scyl7ZnVuY3Rpb24gYSh0LG4scil7Zm9yKHZhciBvPTA7bzxuLmxlbmd0aDsrK28pe3IuX3B1c2hDb250ZXh0KCk7dmFyIHM9aChuW29dKSh0KTtpZihyLl9wb3BDb250ZXh0KCkscz09PXApe3IuX3B1c2hDb250ZXh0KCk7dmFyIGE9ZS5yZWplY3QocC5lKTtyZXR1cm4gci5fcG9wQ29udGV4dCgpLGF9dmFyIGM9aShzLHIpO2lmKGMgaW5zdGFuY2VvZiBlKXJldHVybiBjfXJldHVybiBudWxsfWZ1bmN0aW9uIGModCxuLGksbyl7aWYocy5jYW5jZWxsYXRpb24oKSl7dmFyIGE9bmV3IGUociksYz10aGlzLl9maW5hbGx5UHJvbWlzZT1uZXcgZShyKTt0aGlzLl9wcm9taXNlPWEubGFzdGx5KGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSxhLl9jYXB0dXJlU3RhY2tUcmFjZSgpLGEuX3NldE9uQ2FuY2VsKHRoaXMpfWVsc2V7dmFyIHU9dGhpcy5fcHJvbWlzZT1uZXcgZShyKTt1Ll9jYXB0dXJlU3RhY2tUcmFjZSgpfXRoaXMuX3N0YWNrPW8sdGhpcy5fZ2VuZXJhdG9yRnVuY3Rpb249dCx0aGlzLl9yZWNlaXZlcj1uLHRoaXMuX2dlbmVyYXRvcj12b2lkIDAsdGhpcy5feWllbGRIYW5kbGVycz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBpP1tpXS5jb25jYXQoZCk6ZCx0aGlzLl95aWVsZGVkUHJvbWlzZT1udWxsLHRoaXMuX2NhbmNlbGxhdGlvblBoYXNlPSExfXZhciB1PXQoXCIuL2Vycm9yc1wiKSxsPXUuVHlwZUVycm9yLGY9dChcIi4vdXRpbFwiKSxwPWYuZXJyb3JPYmosaD1mLnRyeUNhdGNoLGQ9W107Zi5pbmhlcml0cyhjLG8pLGMucHJvdG90eXBlLl9pc1Jlc29sdmVkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLl9wcm9taXNlfSxjLnByb3RvdHlwZS5fY2xlYW51cD1mdW5jdGlvbigpe3RoaXMuX3Byb21pc2U9dGhpcy5fZ2VuZXJhdG9yPW51bGwscy5jYW5jZWxsYXRpb24oKSYmbnVsbCE9PXRoaXMuX2ZpbmFsbHlQcm9taXNlJiYodGhpcy5fZmluYWxseVByb21pc2UuX2Z1bGZpbGwoKSx0aGlzLl9maW5hbGx5UHJvbWlzZT1udWxsKX0sYy5wcm90b3R5cGUuX3Byb21pc2VDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5faXNSZXNvbHZlZCgpKXt2YXIgdCxuPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB0aGlzLl9nZW5lcmF0b3JbXCJyZXR1cm5cIl07aWYobil0aGlzLl9wcm9taXNlLl9wdXNoQ29udGV4dCgpLHQ9aCh0aGlzLl9nZW5lcmF0b3JbXCJyZXR1cm5cIl0pLmNhbGwodGhpcy5fZ2VuZXJhdG9yLHZvaWQgMCksdGhpcy5fcHJvbWlzZS5fcG9wQ29udGV4dCgpO2Vsc2V7dmFyIHI9bmV3IGUuQ2FuY2VsbGF0aW9uRXJyb3IoXCJnZW5lcmF0b3IgLnJldHVybigpIHNlbnRpbmVsXCIpO2UuY29yb3V0aW5lLnJldHVyblNlbnRpbmVsPXIsdGhpcy5fcHJvbWlzZS5fYXR0YWNoRXh0cmFUcmFjZShyKSx0aGlzLl9wcm9taXNlLl9wdXNoQ29udGV4dCgpLHQ9aCh0aGlzLl9nZW5lcmF0b3JbXCJ0aHJvd1wiXSkuY2FsbCh0aGlzLl9nZW5lcmF0b3IsciksdGhpcy5fcHJvbWlzZS5fcG9wQ29udGV4dCgpfXRoaXMuX2NhbmNlbGxhdGlvblBoYXNlPSEwLHRoaXMuX3lpZWxkZWRQcm9taXNlPW51bGwsdGhpcy5fY29udGludWUodCl9fSxjLnByb3RvdHlwZS5fcHJvbWlzZUZ1bGZpbGxlZD1mdW5jdGlvbih0KXt0aGlzLl95aWVsZGVkUHJvbWlzZT1udWxsLHRoaXMuX3Byb21pc2UuX3B1c2hDb250ZXh0KCk7dmFyIGU9aCh0aGlzLl9nZW5lcmF0b3IubmV4dCkuY2FsbCh0aGlzLl9nZW5lcmF0b3IsdCk7dGhpcy5fcHJvbWlzZS5fcG9wQ29udGV4dCgpLHRoaXMuX2NvbnRpbnVlKGUpfSxjLnByb3RvdHlwZS5fcHJvbWlzZVJlamVjdGVkPWZ1bmN0aW9uKHQpe3RoaXMuX3lpZWxkZWRQcm9taXNlPW51bGwsdGhpcy5fcHJvbWlzZS5fYXR0YWNoRXh0cmFUcmFjZSh0KSx0aGlzLl9wcm9taXNlLl9wdXNoQ29udGV4dCgpO3ZhciBlPWgodGhpcy5fZ2VuZXJhdG9yW1widGhyb3dcIl0pLmNhbGwodGhpcy5fZ2VuZXJhdG9yLHQpO3RoaXMuX3Byb21pc2UuX3BvcENvbnRleHQoKSx0aGlzLl9jb250aW51ZShlKX0sYy5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZD1mdW5jdGlvbigpe2lmKHRoaXMuX3lpZWxkZWRQcm9taXNlIGluc3RhbmNlb2YgZSl7dmFyIHQ9dGhpcy5feWllbGRlZFByb21pc2U7dGhpcy5feWllbGRlZFByb21pc2U9bnVsbCx0LmNhbmNlbCgpfX0sYy5wcm90b3R5cGUucHJvbWlzZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9taXNlfSxjLnByb3RvdHlwZS5fcnVuPWZ1bmN0aW9uKCl7dGhpcy5fZ2VuZXJhdG9yPXRoaXMuX2dlbmVyYXRvckZ1bmN0aW9uLmNhbGwodGhpcy5fcmVjZWl2ZXIpLHRoaXMuX3JlY2VpdmVyPXRoaXMuX2dlbmVyYXRvckZ1bmN0aW9uPXZvaWQgMCx0aGlzLl9wcm9taXNlRnVsZmlsbGVkKHZvaWQgMCl9LGMucHJvdG90eXBlLl9jb250aW51ZT1mdW5jdGlvbih0KXt2YXIgbj10aGlzLl9wcm9taXNlO2lmKHQ9PT1wKXJldHVybiB0aGlzLl9jbGVhbnVwKCksdGhpcy5fY2FuY2VsbGF0aW9uUGhhc2U/bi5jYW5jZWwoKTpuLl9yZWplY3RDYWxsYmFjayh0LmUsITEpO3ZhciByPXQudmFsdWU7aWYodC5kb25lPT09ITApcmV0dXJuIHRoaXMuX2NsZWFudXAoKSx0aGlzLl9jYW5jZWxsYXRpb25QaGFzZT9uLmNhbmNlbCgpOm4uX3Jlc29sdmVDYWxsYmFjayhyKTt2YXIgbz1pKHIsdGhpcy5fcHJvbWlzZSk7aWYoIShvIGluc3RhbmNlb2YgZSkmJihvPWEobyx0aGlzLl95aWVsZEhhbmRsZXJzLHRoaXMuX3Byb21pc2UpLG51bGw9PT1vKSlyZXR1cm4gdm9pZCB0aGlzLl9wcm9taXNlUmVqZWN0ZWQobmV3IGwoXCJBIHZhbHVlICVzIHdhcyB5aWVsZGVkIHRoYXQgY291bGQgbm90IGJlIHRyZWF0ZWQgYXMgYSBwcm9taXNlXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblxcblwiLnJlcGxhY2UoXCIlc1wiLHIpK1wiRnJvbSBjb3JvdXRpbmU6XFxuXCIrdGhpcy5fc3RhY2suc3BsaXQoXCJcXG5cIikuc2xpY2UoMSwtNykuam9pbihcIlxcblwiKSkpO289by5fdGFyZ2V0KCk7dmFyIHM9by5fYml0RmllbGQ7MD09PSg1MDM5NzE4NCZzKT8odGhpcy5feWllbGRlZFByb21pc2U9byxvLl9wcm94eSh0aGlzLG51bGwpKTowIT09KDMzNTU0NDMyJnMpP2UuX2FzeW5jLmludm9rZSh0aGlzLl9wcm9taXNlRnVsZmlsbGVkLHRoaXMsby5fdmFsdWUoKSk6MCE9PSgxNjc3NzIxNiZzKT9lLl9hc3luYy5pbnZva2UodGhpcy5fcHJvbWlzZVJlamVjdGVkLHRoaXMsby5fcmVhc29uKCkpOnRoaXMuX3Byb21pc2VDYW5jZWxsZWQoKX0sZS5jb3JvdXRpbmU9ZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBsKFwiZ2VuZXJhdG9yRnVuY3Rpb24gbXVzdCBiZSBhIGZ1bmN0aW9uXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKTt2YXIgbj1PYmplY3QoZSkueWllbGRIYW5kbGVyLHI9YyxpPShuZXcgRXJyb3IpLnN0YWNrO3JldHVybiBmdW5jdGlvbigpe3ZhciBlPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLG89bmV3IHIodm9pZCAwLHZvaWQgMCxuLGkpLHM9by5wcm9taXNlKCk7cmV0dXJuIG8uX2dlbmVyYXRvcj1lLG8uX3Byb21pc2VGdWxmaWxsZWQodm9pZCAwKSxzfX0sZS5jb3JvdXRpbmUuYWRkWWllbGRIYW5kbGVyPWZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IGwoXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiK2YuY2xhc3NTdHJpbmcodCkpO2QucHVzaCh0KX0sZS5zcGF3bj1mdW5jdGlvbih0KXtpZihzLmRlcHJlY2F0ZWQoXCJQcm9taXNlLnNwYXduKClcIixcIlByb21pc2UuY29yb3V0aW5lKClcIiksXCJmdW5jdGlvblwiIT10eXBlb2YgdClyZXR1cm4gbihcImdlbmVyYXRvckZ1bmN0aW9uIG11c3QgYmUgYSBmdW5jdGlvblxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIik7XG52YXIgcj1uZXcgYyh0LHRoaXMpLGk9ci5wcm9taXNlKCk7cmV0dXJuIHIuX3J1bihlLnNwYXduKSxpfX19LHtcIi4vZXJyb3JzXCI6MTIsXCIuL3V0aWxcIjozNn1dLDE3OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyLGksbyxzKXt2YXIgYT10KFwiLi91dGlsXCIpO2EuY2FuRXZhbHVhdGUsYS50cnlDYXRjaCxhLmVycm9yT2JqO2Uuam9pbj1mdW5jdGlvbigpe3ZhciB0LGU9YXJndW1lbnRzLmxlbmd0aC0xO2lmKGU+MCYmXCJmdW5jdGlvblwiPT10eXBlb2YgYXJndW1lbnRzW2VdKXt0PWFyZ3VtZW50c1tlXTt2YXIgcn12YXIgaT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7dCYmaS5wb3AoKTt2YXIgcj1uZXcgbihpKS5wcm9taXNlKCk7cmV0dXJuIHZvaWQgMCE9PXQ/ci5zcHJlYWQodCk6cn19fSx7XCIuL3V0aWxcIjozNn1dLDE4OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyLGksbyxzKXtmdW5jdGlvbiBhKHQsZSxuLHIpe3RoaXMuY29uc3RydWN0b3IkKHQpLHRoaXMuX3Byb21pc2UuX2NhcHR1cmVTdGFja1RyYWNlKCk7dmFyIGk9dSgpO3RoaXMuX2NhbGxiYWNrPW51bGw9PT1pP2U6bC5kb21haW5CaW5kKGksZSksdGhpcy5fcHJlc2VydmVkVmFsdWVzPXI9PT1vP25ldyBBcnJheSh0aGlzLmxlbmd0aCgpKTpudWxsLHRoaXMuX2xpbWl0PW4sdGhpcy5faW5GbGlnaHQ9MCx0aGlzLl9xdWV1ZT1bXSxoLmludm9rZSh0aGlzLl9hc3luY0luaXQsdGhpcyx2b2lkIDApfWZ1bmN0aW9uIGModCxuLGksbyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgbilyZXR1cm4gcihcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIrbC5jbGFzc1N0cmluZyhuKSk7dmFyIHM9MDtpZih2b2lkIDAhPT1pKXtpZihcIm9iamVjdFwiIT10eXBlb2YgaXx8bnVsbD09PWkpcmV0dXJuIGUucmVqZWN0KG5ldyBUeXBlRXJyb3IoXCJvcHRpb25zIGFyZ3VtZW50IG11c3QgYmUgYW4gb2JqZWN0IGJ1dCBpdCBpcyBcIitsLmNsYXNzU3RyaW5nKGkpKSk7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGkuY29uY3VycmVuY3kpcmV0dXJuIGUucmVqZWN0KG5ldyBUeXBlRXJyb3IoXCInY29uY3VycmVuY3knIG11c3QgYmUgYSBudW1iZXIgYnV0IGl0IGlzIFwiK2wuY2xhc3NTdHJpbmcoaS5jb25jdXJyZW5jeSkpKTtzPWkuY29uY3VycmVuY3l9cmV0dXJuIHM9XCJudW1iZXJcIj09dHlwZW9mIHMmJmlzRmluaXRlKHMpJiZzPj0xP3M6MCxuZXcgYSh0LG4scyxvKS5wcm9taXNlKCl9dmFyIHU9ZS5fZ2V0RG9tYWluLGw9dChcIi4vdXRpbFwiKSxmPWwudHJ5Q2F0Y2gscD1sLmVycm9yT2JqLGg9ZS5fYXN5bmM7bC5pbmhlcml0cyhhLG4pLGEucHJvdG90eXBlLl9hc3luY0luaXQ9ZnVuY3Rpb24oKXt0aGlzLl9pbml0JCh2b2lkIDAsLTIpfSxhLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbigpe30sYS5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQ9ZnVuY3Rpb24odCxuKXt2YXIgcj10aGlzLl92YWx1ZXMsbz10aGlzLmxlbmd0aCgpLGE9dGhpcy5fcHJlc2VydmVkVmFsdWVzLGM9dGhpcy5fbGltaXQ7aWYoMD5uKXtpZihuPS0xKm4tMSxyW25dPXQsYz49MSYmKHRoaXMuX2luRmxpZ2h0LS0sdGhpcy5fZHJhaW5RdWV1ZSgpLHRoaXMuX2lzUmVzb2x2ZWQoKSkpcmV0dXJuITB9ZWxzZXtpZihjPj0xJiZ0aGlzLl9pbkZsaWdodD49YylyZXR1cm4gcltuXT10LHRoaXMuX3F1ZXVlLnB1c2gobiksITE7bnVsbCE9PWEmJihhW25dPXQpO3ZhciB1PXRoaXMuX3Byb21pc2UsbD10aGlzLl9jYWxsYmFjayxoPXUuX2JvdW5kVmFsdWUoKTt1Ll9wdXNoQ29udGV4dCgpO3ZhciBkPWYobCkuY2FsbChoLHQsbixvKSxfPXUuX3BvcENvbnRleHQoKTtpZihzLmNoZWNrRm9yZ290dGVuUmV0dXJucyhkLF8sbnVsbCE9PWE/XCJQcm9taXNlLmZpbHRlclwiOlwiUHJvbWlzZS5tYXBcIix1KSxkPT09cClyZXR1cm4gdGhpcy5fcmVqZWN0KGQuZSksITA7dmFyIHY9aShkLHRoaXMuX3Byb21pc2UpO2lmKHYgaW5zdGFuY2VvZiBlKXt2PXYuX3RhcmdldCgpO3ZhciB5PXYuX2JpdEZpZWxkO2lmKDA9PT0oNTAzOTcxODQmeSkpcmV0dXJuIGM+PTEmJnRoaXMuX2luRmxpZ2h0KysscltuXT12LHYuX3Byb3h5KHRoaXMsLTEqKG4rMSkpLCExO2lmKDA9PT0oMzM1NTQ0MzImeSkpcmV0dXJuIDAhPT0oMTY3NzcyMTYmeSk/KHRoaXMuX3JlamVjdCh2Ll9yZWFzb24oKSksITApOih0aGlzLl9jYW5jZWwoKSwhMCk7ZD12Ll92YWx1ZSgpfXJbbl09ZH12YXIgbT0rK3RoaXMuX3RvdGFsUmVzb2x2ZWQ7cmV0dXJuIG0+PW8/KG51bGwhPT1hP3RoaXMuX2ZpbHRlcihyLGEpOnRoaXMuX3Jlc29sdmUociksITApOiExfSxhLnByb3RvdHlwZS5fZHJhaW5RdWV1ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9xdWV1ZSxlPXRoaXMuX2xpbWl0LG49dGhpcy5fdmFsdWVzO3QubGVuZ3RoPjAmJnRoaXMuX2luRmxpZ2h0PGU7KXtpZih0aGlzLl9pc1Jlc29sdmVkKCkpcmV0dXJuO3ZhciByPXQucG9wKCk7dGhpcy5fcHJvbWlzZUZ1bGZpbGxlZChuW3JdLHIpfX0sYS5wcm90b3R5cGUuX2ZpbHRlcj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1lLmxlbmd0aCxyPW5ldyBBcnJheShuKSxpPTAsbz0wO24+bzsrK28pdFtvXSYmKHJbaSsrXT1lW29dKTtyLmxlbmd0aD1pLHRoaXMuX3Jlc29sdmUocil9LGEucHJvdG90eXBlLnByZXNlcnZlZFZhbHVlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcmVzZXJ2ZWRWYWx1ZXN9LGUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUpe3JldHVybiBjKHRoaXMsdCxlLG51bGwpfSxlLm1hcD1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gYyh0LGUsbixyKX19fSx7XCIuL3V0aWxcIjozNn1dLDE5OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyLGksbyl7dmFyIHM9dChcIi4vdXRpbFwiKSxhPXMudHJ5Q2F0Y2g7ZS5tZXRob2Q9ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgZS5UeXBlRXJyb3IoXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiK3MuY2xhc3NTdHJpbmcodCkpO3JldHVybiBmdW5jdGlvbigpe3ZhciByPW5ldyBlKG4pO3IuX2NhcHR1cmVTdGFja1RyYWNlKCksci5fcHVzaENvbnRleHQoKTt2YXIgaT1hKHQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxzPXIuX3BvcENvbnRleHQoKTtyZXR1cm4gby5jaGVja0ZvcmdvdHRlblJldHVybnMoaSxzLFwiUHJvbWlzZS5tZXRob2RcIixyKSxyLl9yZXNvbHZlRnJvbVN5bmNWYWx1ZShpKSxyfX0sZS5hdHRlbXB0PWVbXCJ0cnlcIl09ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdClyZXR1cm4gaShcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIrcy5jbGFzc1N0cmluZyh0KSk7dmFyIHI9bmV3IGUobik7ci5fY2FwdHVyZVN0YWNrVHJhY2UoKSxyLl9wdXNoQ29udGV4dCgpO3ZhciBjO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSl7by5kZXByZWNhdGVkKFwiY2FsbGluZyBQcm9taXNlLnRyeSB3aXRoIG1vcmUgdGhhbiAxIGFyZ3VtZW50XCIpO3ZhciB1PWFyZ3VtZW50c1sxXSxsPWFyZ3VtZW50c1syXTtjPXMuaXNBcnJheSh1KT9hKHQpLmFwcGx5KGwsdSk6YSh0KS5jYWxsKGwsdSl9ZWxzZSBjPWEodCkoKTt2YXIgZj1yLl9wb3BDb250ZXh0KCk7cmV0dXJuIG8uY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zKGMsZixcIlByb21pc2UudHJ5XCIsciksci5fcmVzb2x2ZUZyb21TeW5jVmFsdWUoYykscn0sZS5wcm90b3R5cGUuX3Jlc29sdmVGcm9tU3luY1ZhbHVlPWZ1bmN0aW9uKHQpe3Q9PT1zLmVycm9yT2JqP3RoaXMuX3JlamVjdENhbGxiYWNrKHQuZSwhMSk6dGhpcy5fcmVzb2x2ZUNhbGxiYWNrKHQsITApfX19LHtcIi4vdXRpbFwiOjM2fV0sMjA6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0IGluc3RhbmNlb2YgRXJyb3ImJmwuZ2V0UHJvdG90eXBlT2YodCk9PT1FcnJvci5wcm90b3R5cGV9ZnVuY3Rpb24gaSh0KXt2YXIgZTtpZihyKHQpKXtlPW5ldyB1KHQpLGUubmFtZT10Lm5hbWUsZS5tZXNzYWdlPXQubWVzc2FnZSxlLnN0YWNrPXQuc3RhY2s7Zm9yKHZhciBuPWwua2V5cyh0KSxpPTA7aTxuLmxlbmd0aDsrK2kpe3ZhciBvPW5baV07Zi50ZXN0KG8pfHwoZVtvXT10W29dKX1yZXR1cm4gZX1yZXR1cm4gcy5tYXJrQXNPcmlnaW5hdGluZ0Zyb21SZWplY3Rpb24odCksdH1mdW5jdGlvbiBvKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4scil7aWYobnVsbCE9PXQpe2lmKG4pe3ZhciBvPWkoYShuKSk7dC5fYXR0YWNoRXh0cmFUcmFjZShvKSx0Ll9yZWplY3Qobyl9ZWxzZSBpZihlKXt2YXIgcz1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTt0Ll9mdWxmaWxsKHMpfWVsc2UgdC5fZnVsZmlsbChyKTt0PW51bGx9fX12YXIgcz10KFwiLi91dGlsXCIpLGE9cy5tYXliZVdyYXBBc0Vycm9yLGM9dChcIi4vZXJyb3JzXCIpLHU9Yy5PcGVyYXRpb25hbEVycm9yLGw9dChcIi4vZXM1XCIpLGY9L14oPzpuYW1lfG1lc3NhZ2V8c3RhY2t8Y2F1c2UpJC87ZS5leHBvcnRzPW99LHtcIi4vZXJyb3JzXCI6MTIsXCIuL2VzNVwiOjEzLFwiLi91dGlsXCI6MzZ9XSwyMTpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKHQsZSl7dmFyIG49dGhpcztpZighby5pc0FycmF5KHQpKXJldHVybiByLmNhbGwobix0LGUpO3ZhciBpPWEoZSkuYXBwbHkobi5fYm91bmRWYWx1ZSgpLFtudWxsXS5jb25jYXQodCkpO2k9PT1jJiZzLnRocm93TGF0ZXIoaS5lKX1mdW5jdGlvbiByKHQsZSl7dmFyIG49dGhpcyxyPW4uX2JvdW5kVmFsdWUoKSxpPXZvaWQgMD09PXQ/YShlKS5jYWxsKHIsbnVsbCk6YShlKS5jYWxsKHIsbnVsbCx0KTtpPT09YyYmcy50aHJvd0xhdGVyKGkuZSl9ZnVuY3Rpb24gaSh0LGUpe3ZhciBuPXRoaXM7aWYoIXQpe3ZhciByPW5ldyBFcnJvcih0K1wiXCIpO3IuY2F1c2U9dCx0PXJ9dmFyIGk9YShlKS5jYWxsKG4uX2JvdW5kVmFsdWUoKSx0KTtpPT09YyYmcy50aHJvd0xhdGVyKGkuZSl9dmFyIG89dChcIi4vdXRpbFwiKSxzPWUuX2FzeW5jLGE9by50cnlDYXRjaCxjPW8uZXJyb3JPYmo7ZS5wcm90b3R5cGUuYXNDYWxsYmFjaz1lLnByb3RvdHlwZS5ub2RlaWZ5PWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdCl7dmFyIG89cjt2b2lkIDAhPT1lJiZPYmplY3QoZSkuc3ByZWFkJiYobz1uKSx0aGlzLl90aGVuKG8saSx2b2lkIDAsdGhpcyx0KX1yZXR1cm4gdGhpc319fSx7XCIuL3V0aWxcIjozNn1dLDIyOltmdW5jdGlvbih0LG4scil7XCJ1c2Ugc3RyaWN0XCI7bi5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcigpe31mdW5jdGlvbiBpKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgZyhcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIrZC5jbGFzc1N0cmluZyhlKSk7aWYodC5jb25zdHJ1Y3RvciE9PW8pdGhyb3cgbmV3IGcoXCJ0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgaW52b2tlZCBkaXJlY3RseVxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIil9ZnVuY3Rpb24gbyh0KXt0aGlzLl9iaXRGaWVsZD0wLHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlcjA9dm9pZCAwLHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwPXZvaWQgMCx0aGlzLl9wcm9taXNlMD12b2lkIDAsdGhpcy5fcmVjZWl2ZXIwPXZvaWQgMCx0IT09dyYmKGkodGhpcyx0KSx0aGlzLl9yZXNvbHZlRnJvbUV4ZWN1dG9yKHQpKSx0aGlzLl9wcm9taXNlQ3JlYXRlZCgpLHRoaXMuX2ZpcmVFdmVudChcInByb21pc2VDcmVhdGVkXCIsdGhpcyl9ZnVuY3Rpb24gcyh0KXt0aGlzLnByb21pc2UuX3Jlc29sdmVDYWxsYmFjayh0KX1mdW5jdGlvbiBhKHQpe3RoaXMucHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2sodCwhMSl9ZnVuY3Rpb24gYyh0KXt2YXIgZT1uZXcgbyh3KTtlLl9mdWxmaWxsbWVudEhhbmRsZXIwPXQsZS5fcmVqZWN0aW9uSGFuZGxlcjA9dCxlLl9wcm9taXNlMD10LGUuX3JlY2VpdmVyMD10fXZhciB1LGw9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGcoXCJjaXJjdWxhciBwcm9taXNlIHJlc29sdXRpb24gY2hhaW5cXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXCIpfSxmPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvLlByb21pc2VJbnNwZWN0aW9uKHRoaXMuX3RhcmdldCgpKX0scD1mdW5jdGlvbih0KXtyZXR1cm4gby5yZWplY3QobmV3IGcodCkpfSxoPXt9LGQ9dChcIi4vdXRpbFwiKTt1PWQuaXNOb2RlP2Z1bmN0aW9uKCl7dmFyIHQ9ZS5kb21haW47cmV0dXJuIHZvaWQgMD09PXQmJih0PW51bGwpLHR9OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGQubm90RW51bWVyYWJsZVByb3AobyxcIl9nZXREb21haW5cIix1KTt2YXIgXz10KFwiLi9lczVcIiksdj10KFwiLi9hc3luY1wiKSx5PW5ldyB2O18uZGVmaW5lUHJvcGVydHkobyxcIl9hc3luY1wiLHt2YWx1ZTp5fSk7dmFyIG09dChcIi4vZXJyb3JzXCIpLGc9by5UeXBlRXJyb3I9bS5UeXBlRXJyb3I7by5SYW5nZUVycm9yPW0uUmFuZ2VFcnJvcjt2YXIgYj1vLkNhbmNlbGxhdGlvbkVycm9yPW0uQ2FuY2VsbGF0aW9uRXJyb3I7by5UaW1lb3V0RXJyb3I9bS5UaW1lb3V0RXJyb3Isby5PcGVyYXRpb25hbEVycm9yPW0uT3BlcmF0aW9uYWxFcnJvcixvLlJlamVjdGlvbkVycm9yPW0uT3BlcmF0aW9uYWxFcnJvcixvLkFnZ3JlZ2F0ZUVycm9yPW0uQWdncmVnYXRlRXJyb3I7dmFyIHc9ZnVuY3Rpb24oKXt9LEU9e30sQz17fSxrPXQoXCIuL3RoZW5hYmxlc1wiKShvLHcpLGo9dChcIi4vcHJvbWlzZV9hcnJheVwiKShvLHcsayxwLHIpLHg9dChcIi4vY29udGV4dFwiKShvKSxGPXguY3JlYXRlLFQ9dChcIi4vZGVidWdnYWJpbGl0eVwiKShvLHgpLFM9KFQuQ2FwdHVyZWRUcmFjZSx0KFwiLi9maW5hbGx5XCIpKG8saykpLFA9dChcIi4vY2F0Y2hfZmlsdGVyXCIpKEMpLE89dChcIi4vbm9kZWJhY2tcIiksUj1kLmVycm9yT2JqLEE9ZC50cnlDYXRjaDtyZXR1cm4gby5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltvYmplY3QgUHJvbWlzZV1cIn0sby5wcm90b3R5cGUuY2F1Z2h0PW8ucHJvdG90eXBlW1wiY2F0Y2hcIl09ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDtpZihlPjEpe3ZhciBuLHI9bmV3IEFycmF5KGUtMSksaT0wO2ZvcihuPTA7ZS0xPm47KytuKXt2YXIgbz1hcmd1bWVudHNbbl07aWYoIWQuaXNPYmplY3QobykpcmV0dXJuIHAoXCJleHBlY3RpbmcgYW4gb2JqZWN0IGJ1dCBnb3QgQSBjYXRjaCBzdGF0ZW1lbnQgcHJlZGljYXRlIFwiK2QuY2xhc3NTdHJpbmcobykpO3JbaSsrXT1vfXJldHVybiByLmxlbmd0aD1pLHQ9YXJndW1lbnRzW25dLHRoaXMudGhlbih2b2lkIDAsUChyLHQsdGhpcykpfXJldHVybiB0aGlzLnRoZW4odm9pZCAwLHQpfSxvLnByb3RvdHlwZS5yZWZsZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RoZW4oZixmLHZvaWQgMCx0aGlzLHZvaWQgMCl9LG8ucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24odCxlKXtpZihULndhcm5pbmdzKCkmJmFyZ3VtZW50cy5sZW5ndGg+MCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgZSl7dmFyIG49XCIudGhlbigpIG9ubHkgYWNjZXB0cyBmdW5jdGlvbnMgYnV0IHdhcyBwYXNzZWQ6IFwiK2QuY2xhc3NTdHJpbmcodCk7YXJndW1lbnRzLmxlbmd0aD4xJiYobis9XCIsIFwiK2QuY2xhc3NTdHJpbmcoZSkpLHRoaXMuX3dhcm4obil9cmV0dXJuIHRoaXMuX3RoZW4odCxlLHZvaWQgMCx2b2lkIDAsdm9pZCAwKX0sby5wcm90b3R5cGUuZG9uZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX3RoZW4odCxlLHZvaWQgMCx2b2lkIDAsdm9pZCAwKTtuLl9zZXRJc0ZpbmFsKCl9LG8ucHJvdG90eXBlLnNwcmVhZD1mdW5jdGlvbih0KXtyZXR1cm5cImZ1bmN0aW9uXCIhPXR5cGVvZiB0P3AoXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiK2QuY2xhc3NTdHJpbmcodCkpOnRoaXMuYWxsKCkuX3RoZW4odCx2b2lkIDAsdm9pZCAwLEUsdm9pZCAwKX0sby5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIHQ9e2lzRnVsZmlsbGVkOiExLGlzUmVqZWN0ZWQ6ITEsZnVsZmlsbG1lbnRWYWx1ZTp2b2lkIDAscmVqZWN0aW9uUmVhc29uOnZvaWQgMH07cmV0dXJuIHRoaXMuaXNGdWxmaWxsZWQoKT8odC5mdWxmaWxsbWVudFZhbHVlPXRoaXMudmFsdWUoKSx0LmlzRnVsZmlsbGVkPSEwKTp0aGlzLmlzUmVqZWN0ZWQoKSYmKHQucmVqZWN0aW9uUmVhc29uPXRoaXMucmVhc29uKCksdC5pc1JlamVjdGVkPSEwKSx0fSxvLnByb3RvdHlwZS5hbGw9ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wJiZ0aGlzLl93YXJuKFwiLmFsbCgpIHdhcyBwYXNzZWQgYXJndW1lbnRzIGJ1dCBpdCBkb2VzIG5vdCB0YWtlIGFueVwiKSxuZXcgaih0aGlzKS5wcm9taXNlKCl9LG8ucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNhdWdodChkLm9yaWdpbmF0ZXNGcm9tUmVqZWN0aW9uLHQpfSxvLmdldE5ld0xpYnJhcnlDb3B5PW4uZXhwb3J0cyxvLmlzPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2Ygb30sby5mcm9tTm9kZT1vLmZyb21DYWxsYmFjaz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgbyh3KTtlLl9jYXB0dXJlU3RhY2tUcmFjZSgpO3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MT8hIU9iamVjdChhcmd1bWVudHNbMV0pLm11bHRpQXJnczohMSxyPUEodCkoTyhlLG4pKTtyZXR1cm4gcj09PVImJmUuX3JlamVjdENhbGxiYWNrKHIuZSwhMCksZS5faXNGYXRlU2VhbGVkKCl8fGUuX3NldEFzeW5jR3VhcmFudGVlZCgpLGV9LG8uYWxsPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgaih0KS5wcm9taXNlKCl9LG8uY2FzdD1mdW5jdGlvbih0KXt2YXIgZT1rKHQpO3JldHVybiBlIGluc3RhbmNlb2Ygb3x8KGU9bmV3IG8odyksZS5fY2FwdHVyZVN0YWNrVHJhY2UoKSxlLl9zZXRGdWxmaWxsZWQoKSxlLl9yZWplY3Rpb25IYW5kbGVyMD10KSxlfSxvLnJlc29sdmU9by5mdWxmaWxsZWQ9by5jYXN0LG8ucmVqZWN0PW8ucmVqZWN0ZWQ9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IG8odyk7cmV0dXJuIGUuX2NhcHR1cmVTdGFja1RyYWNlKCksZS5fcmVqZWN0Q2FsbGJhY2sodCwhMCksZX0sby5zZXRTY2hlZHVsZXI9ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgZyhcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIrZC5jbGFzc1N0cmluZyh0KSk7cmV0dXJuIHkuc2V0U2NoZWR1bGVyKHQpfSxvLnByb3RvdHlwZS5fdGhlbj1mdW5jdGlvbih0LGUsbixyLGkpe3ZhciBzPXZvaWQgMCE9PWksYT1zP2k6bmV3IG8odyksYz10aGlzLl90YXJnZXQoKSxsPWMuX2JpdEZpZWxkO3N8fChhLl9wcm9wYWdhdGVGcm9tKHRoaXMsMyksYS5fY2FwdHVyZVN0YWNrVHJhY2UoKSx2b2lkIDA9PT1yJiYwIT09KDIwOTcxNTImdGhpcy5fYml0RmllbGQpJiYocj0wIT09KDUwMzk3MTg0JmwpP3RoaXMuX2JvdW5kVmFsdWUoKTpjPT09dGhpcz92b2lkIDA6dGhpcy5fYm91bmRUbyksdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZUNoYWluZWRcIix0aGlzLGEpKTt2YXIgZj11KCk7aWYoMCE9PSg1MDM5NzE4NCZsKSl7dmFyIHAsaCxfPWMuX3NldHRsZVByb21pc2VDdHg7MCE9PSgzMzU1NDQzMiZsKT8oaD1jLl9yZWplY3Rpb25IYW5kbGVyMCxwPXQpOjAhPT0oMTY3NzcyMTYmbCk/KGg9Yy5fZnVsZmlsbG1lbnRIYW5kbGVyMCxwPWUsYy5fdW5zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZCgpKTooXz1jLl9zZXR0bGVQcm9taXNlTGF0ZUNhbmNlbGxhdGlvbk9ic2VydmVyLGg9bmV3IGIoXCJsYXRlIGNhbmNlbGxhdGlvbiBvYnNlcnZlclwiKSxjLl9hdHRhY2hFeHRyYVRyYWNlKGgpLHA9ZSkseS5pbnZva2UoXyxjLHtoYW5kbGVyOm51bGw9PT1mP3A6XCJmdW5jdGlvblwiPT10eXBlb2YgcCYmZC5kb21haW5CaW5kKGYscCkscHJvbWlzZTphLHJlY2VpdmVyOnIsdmFsdWU6aH0pfWVsc2UgYy5fYWRkQ2FsbGJhY2tzKHQsZSxhLHIsZik7cmV0dXJuIGF9LG8ucHJvdG90eXBlLl9sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gNjU1MzUmdGhpcy5fYml0RmllbGR9LG8ucHJvdG90eXBlLl9pc0ZhdGVTZWFsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PSgxMTc1MDYwNDgmdGhpcy5fYml0RmllbGQpfSxvLnByb3RvdHlwZS5faXNGb2xsb3dpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gNjcxMDg4NjQ9PT0oNjcxMDg4NjQmdGhpcy5fYml0RmllbGQpfSxvLnByb3RvdHlwZS5fc2V0TGVuZ3RoPWZ1bmN0aW9uKHQpe3RoaXMuX2JpdEZpZWxkPS02NTUzNiZ0aGlzLl9iaXRGaWVsZHw2NTUzNSZ0fSxvLnByb3RvdHlwZS5fc2V0RnVsZmlsbGVkPWZ1bmN0aW9uKCl7dGhpcy5fYml0RmllbGQ9MzM1NTQ0MzJ8dGhpcy5fYml0RmllbGQsdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZUZ1bGZpbGxlZFwiLHRoaXMpfSxvLnByb3RvdHlwZS5fc2V0UmVqZWN0ZWQ9ZnVuY3Rpb24oKXt0aGlzLl9iaXRGaWVsZD0xNjc3NzIxNnx0aGlzLl9iaXRGaWVsZCx0aGlzLl9maXJlRXZlbnQoXCJwcm9taXNlUmVqZWN0ZWRcIix0aGlzKX0sby5wcm90b3R5cGUuX3NldEZvbGxvd2luZz1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPTY3MTA4ODY0fHRoaXMuX2JpdEZpZWxkLHRoaXMuX2ZpcmVFdmVudChcInByb21pc2VSZXNvbHZlZFwiLHRoaXMpfSxvLnByb3RvdHlwZS5fc2V0SXNGaW5hbD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPTQxOTQzMDR8dGhpcy5fYml0RmllbGR9LG8ucHJvdG90eXBlLl9pc0ZpbmFsPWZ1bmN0aW9uKCl7cmV0dXJuKDQxOTQzMDQmdGhpcy5fYml0RmllbGQpPjB9LG8ucHJvdG90eXBlLl91bnNldENhbmNlbGxlZD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPS02NTUzNyZ0aGlzLl9iaXRGaWVsZH0sby5wcm90b3R5cGUuX3NldENhbmNlbGxlZD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPTY1NTM2fHRoaXMuX2JpdEZpZWxkLHRoaXMuX2ZpcmVFdmVudChcInByb21pc2VDYW5jZWxsZWRcIix0aGlzKX0sby5wcm90b3R5cGUuX3NldFdpbGxCZUNhbmNlbGxlZD1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPTgzODg2MDh8dGhpcy5fYml0RmllbGR9LG8ucHJvdG90eXBlLl9zZXRBc3luY0d1YXJhbnRlZWQ9ZnVuY3Rpb24oKXt5Lmhhc0N1c3RvbVNjaGVkdWxlcigpfHwodGhpcy5fYml0RmllbGQ9MTM0MjE3NzI4fHRoaXMuX2JpdEZpZWxkKX0sby5wcm90b3R5cGUuX3JlY2VpdmVyQXQ9ZnVuY3Rpb24odCl7dmFyIGU9MD09PXQ/dGhpcy5fcmVjZWl2ZXIwOnRoaXNbNCp0LTQrM107aWYoZSE9PWgpcmV0dXJuIHZvaWQgMD09PWUmJnRoaXMuX2lzQm91bmQoKT90aGlzLl9ib3VuZFZhbHVlKCk6ZX0sby5wcm90b3R5cGUuX3Byb21pc2VBdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpc1s0KnQtNCsyXX0sby5wcm90b3R5cGUuX2Z1bGZpbGxtZW50SGFuZGxlckF0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzWzQqdC00KzBdfSxvLnByb3RvdHlwZS5fcmVqZWN0aW9uSGFuZGxlckF0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzWzQqdC00KzFdfSxvLnByb3RvdHlwZS5fYm91bmRWYWx1ZT1mdW5jdGlvbigpe30sby5wcm90b3R5cGUuX21pZ3JhdGVDYWxsYmFjazA9ZnVuY3Rpb24odCl7dmFyIGU9KHQuX2JpdEZpZWxkLHQuX2Z1bGZpbGxtZW50SGFuZGxlcjApLG49dC5fcmVqZWN0aW9uSGFuZGxlcjAscj10Ll9wcm9taXNlMCxpPXQuX3JlY2VpdmVyQXQoMCk7dm9pZCAwPT09aSYmKGk9aCksdGhpcy5fYWRkQ2FsbGJhY2tzKGUsbixyLGksbnVsbCl9LG8ucHJvdG90eXBlLl9taWdyYXRlQ2FsbGJhY2tBdD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuX2Z1bGZpbGxtZW50SGFuZGxlckF0KGUpLHI9dC5fcmVqZWN0aW9uSGFuZGxlckF0KGUpLGk9dC5fcHJvbWlzZUF0KGUpLG89dC5fcmVjZWl2ZXJBdChlKTt2b2lkIDA9PT1vJiYobz1oKSx0aGlzLl9hZGRDYWxsYmFja3MobixyLGksbyxudWxsKX0sby5wcm90b3R5cGUuX2FkZENhbGxiYWNrcz1mdW5jdGlvbih0LGUsbixyLGkpe3ZhciBvPXRoaXMuX2xlbmd0aCgpO2lmKG8+PTY1NTMxJiYobz0wLHRoaXMuX3NldExlbmd0aCgwKSksMD09PW8pdGhpcy5fcHJvbWlzZTA9bix0aGlzLl9yZWNlaXZlcjA9cixcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYodGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyMD1udWxsPT09aT90OmQuZG9tYWluQmluZChpLHQpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYodGhpcy5fcmVqZWN0aW9uSGFuZGxlcjA9bnVsbD09PWk/ZTpkLmRvbWFpbkJpbmQoaSxlKSk7ZWxzZXt2YXIgcz00Km8tNDt0aGlzW3MrMl09bix0aGlzW3MrM109cixcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYodGhpc1tzKzBdPW51bGw9PT1pP3Q6ZC5kb21haW5CaW5kKGksdCkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJih0aGlzW3MrMV09bnVsbD09PWk/ZTpkLmRvbWFpbkJpbmQoaSxlKSl9cmV0dXJuIHRoaXMuX3NldExlbmd0aChvKzEpLG99LG8ucHJvdG90eXBlLl9wcm94eT1mdW5jdGlvbih0LGUpe3RoaXMuX2FkZENhbGxiYWNrcyh2b2lkIDAsdm9pZCAwLGUsdCxudWxsKX0sby5wcm90b3R5cGUuX3Jlc29sdmVDYWxsYmFjaz1mdW5jdGlvbih0LGUpe2lmKDA9PT0oMTE3NTA2MDQ4JnRoaXMuX2JpdEZpZWxkKSl7aWYodD09PXRoaXMpcmV0dXJuIHRoaXMuX3JlamVjdENhbGxiYWNrKGwoKSwhMSk7dmFyIG49ayh0LHRoaXMpO2lmKCEobiBpbnN0YW5jZW9mIG8pKXJldHVybiB0aGlzLl9mdWxmaWxsKHQpO2UmJnRoaXMuX3Byb3BhZ2F0ZUZyb20obiwyKTt2YXIgcj1uLl90YXJnZXQoKTtpZihyPT09dGhpcylyZXR1cm4gdm9pZCB0aGlzLl9yZWplY3QobCgpKTt2YXIgaT1yLl9iaXRGaWVsZDtpZigwPT09KDUwMzk3MTg0JmkpKXt2YXIgcz10aGlzLl9sZW5ndGgoKTtzPjAmJnIuX21pZ3JhdGVDYWxsYmFjazAodGhpcyk7Zm9yKHZhciBhPTE7cz5hOysrYSlyLl9taWdyYXRlQ2FsbGJhY2tBdCh0aGlzLGEpO3RoaXMuX3NldEZvbGxvd2luZygpLHRoaXMuX3NldExlbmd0aCgwKSx0aGlzLl9zZXRGb2xsb3dlZShyKX1lbHNlIGlmKDAhPT0oMzM1NTQ0MzImaSkpdGhpcy5fZnVsZmlsbChyLl92YWx1ZSgpKTtlbHNlIGlmKDAhPT0oMTY3NzcyMTYmaSkpdGhpcy5fcmVqZWN0KHIuX3JlYXNvbigpKTtlbHNle3ZhciBjPW5ldyBiKFwibGF0ZSBjYW5jZWxsYXRpb24gb2JzZXJ2ZXJcIik7ci5fYXR0YWNoRXh0cmFUcmFjZShjKSx0aGlzLl9yZWplY3QoYyl9fX0sby5wcm90b3R5cGUuX3JlamVjdENhbGxiYWNrPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1kLmVuc3VyZUVycm9yT2JqZWN0KHQpLGk9cj09PXQ7aWYoIWkmJiFuJiZULndhcm5pbmdzKCkpe3ZhciBvPVwiYSBwcm9taXNlIHdhcyByZWplY3RlZCB3aXRoIGEgbm9uLWVycm9yOiBcIitkLmNsYXNzU3RyaW5nKHQpO3RoaXMuX3dhcm4obywhMCl9dGhpcy5fYXR0YWNoRXh0cmFUcmFjZShyLGU/aTohMSksdGhpcy5fcmVqZWN0KHQpfSxvLnByb3RvdHlwZS5fcmVzb2x2ZUZyb21FeGVjdXRvcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuX2NhcHR1cmVTdGFja1RyYWNlKCksdGhpcy5fcHVzaENvbnRleHQoKTt2YXIgbj0hMCxyPXRoaXMuX2V4ZWN1dGUodCxmdW5jdGlvbih0KXtlLl9yZXNvbHZlQ2FsbGJhY2sodCl9LGZ1bmN0aW9uKHQpe2UuX3JlamVjdENhbGxiYWNrKHQsbil9KTtuPSExLHRoaXMuX3BvcENvbnRleHQoKSx2b2lkIDAhPT1yJiZlLl9yZWplY3RDYWxsYmFjayhyLCEwKX0sby5wcm90b3R5cGUuX3NldHRsZVByb21pc2VGcm9tSGFuZGxlcj1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT1yLl9iaXRGaWVsZDtpZigwPT09KDY1NTM2JmkpKXtyLl9wdXNoQ29udGV4dCgpO3ZhciBvO2U9PT1FP24mJlwibnVtYmVyXCI9PXR5cGVvZiBuLmxlbmd0aD9vPUEodCkuYXBwbHkodGhpcy5fYm91bmRWYWx1ZSgpLG4pOihvPVIsby5lPW5ldyBnKFwiY2Fubm90IC5zcHJlYWQoKSBhIG5vbi1hcnJheTogXCIrZC5jbGFzc1N0cmluZyhuKSkpOm89QSh0KS5jYWxsKGUsbik7dmFyIHM9ci5fcG9wQ29udGV4dCgpO2k9ci5fYml0RmllbGQsMD09PSg2NTUzNiZpKSYmKG89PT1DP3IuX3JlamVjdChuKTpvPT09Uj9yLl9yZWplY3RDYWxsYmFjayhvLmUsITEpOihULmNoZWNrRm9yZ290dGVuUmV0dXJucyhvLHMsXCJcIixyLHRoaXMpLHIuX3Jlc29sdmVDYWxsYmFjayhvKSkpfX0sby5wcm90b3R5cGUuX3RhcmdldD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzO3QuX2lzRm9sbG93aW5nKCk7KXQ9dC5fZm9sbG93ZWUoKTtyZXR1cm4gdH0sby5wcm90b3R5cGUuX2ZvbGxvd2VlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwfSxvLnByb3RvdHlwZS5fc2V0Rm9sbG93ZWU9ZnVuY3Rpb24odCl7dGhpcy5fcmVqZWN0aW9uSGFuZGxlcjA9dH0sby5wcm90b3R5cGUuX3NldHRsZVByb21pc2U9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHM9dCBpbnN0YW5jZW9mIG8sYT10aGlzLl9iaXRGaWVsZCxjPTAhPT0oMTM0MjE3NzI4JmEpOzAhPT0oNjU1MzYmYSk/KHMmJnQuX2ludm9rZUludGVybmFsT25DYW5jZWwoKSxuIGluc3RhbmNlb2YgUyYmbi5pc0ZpbmFsbHlIYW5kbGVyKCk/KG4uY2FuY2VsUHJvbWlzZT10LEEoZSkuY2FsbChuLGkpPT09UiYmdC5fcmVqZWN0KFIuZSkpOmU9PT1mP3QuX2Z1bGZpbGwoZi5jYWxsKG4pKTpuIGluc3RhbmNlb2Ygcj9uLl9wcm9taXNlQ2FuY2VsbGVkKHQpOnN8fHQgaW5zdGFuY2VvZiBqP3QuX2NhbmNlbCgpOm4uY2FuY2VsKCkpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGU/cz8oYyYmdC5fc2V0QXN5bmNHdWFyYW50ZWVkKCksdGhpcy5fc2V0dGxlUHJvbWlzZUZyb21IYW5kbGVyKGUsbixpLHQpKTplLmNhbGwobixpLHQpOm4gaW5zdGFuY2VvZiByP24uX2lzUmVzb2x2ZWQoKXx8KDAhPT0oMzM1NTQ0MzImYSk/bi5fcHJvbWlzZUZ1bGZpbGxlZChpLHQpOm4uX3Byb21pc2VSZWplY3RlZChpLHQpKTpzJiYoYyYmdC5fc2V0QXN5bmNHdWFyYW50ZWVkKCksMCE9PSgzMzU1NDQzMiZhKT90Ll9mdWxmaWxsKGkpOnQuX3JlamVjdChpKSl9LG8ucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlTGF0ZUNhbmNlbGxhdGlvbk9ic2VydmVyPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaGFuZGxlcixuPXQucHJvbWlzZSxyPXQucmVjZWl2ZXIsaT10LnZhbHVlO1wiZnVuY3Rpb25cIj09dHlwZW9mIGU/biBpbnN0YW5jZW9mIG8/dGhpcy5fc2V0dGxlUHJvbWlzZUZyb21IYW5kbGVyKGUscixpLG4pOmUuY2FsbChyLGksbik6biBpbnN0YW5jZW9mIG8mJm4uX3JlamVjdChpKX0sby5wcm90b3R5cGUuX3NldHRsZVByb21pc2VDdHg9ZnVuY3Rpb24odCl7dGhpcy5fc2V0dGxlUHJvbWlzZSh0LnByb21pc2UsdC5oYW5kbGVyLHQucmVjZWl2ZXIsdC52YWx1ZSl9LG8ucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlMD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5fcHJvbWlzZTAsaT10aGlzLl9yZWNlaXZlckF0KDApO3RoaXMuX3Byb21pc2UwPXZvaWQgMCx0aGlzLl9yZWNlaXZlcjA9dm9pZCAwLHRoaXMuX3NldHRsZVByb21pc2Uocix0LGksZSl9LG8ucHJvdG90eXBlLl9jbGVhckNhbGxiYWNrRGF0YUF0SW5kZXg9ZnVuY3Rpb24odCl7dmFyIGU9NCp0LTQ7dGhpc1tlKzJdPXRoaXNbZSszXT10aGlzW2UrMF09dGhpc1tlKzFdPXZvaWQgMH0sby5wcm90b3R5cGUuX2Z1bGZpbGw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fYml0RmllbGQ7aWYoISgoMTE3NTA2MDQ4JmUpPj4+MTYpKXtpZih0PT09dGhpcyl7dmFyIG49bCgpO3JldHVybiB0aGlzLl9hdHRhY2hFeHRyYVRyYWNlKG4pLHRoaXMuX3JlamVjdChuKX10aGlzLl9zZXRGdWxmaWxsZWQoKSx0aGlzLl9yZWplY3Rpb25IYW5kbGVyMD10LCg2NTUzNSZlKT4wJiYoMCE9PSgxMzQyMTc3MjgmZSk/dGhpcy5fc2V0dGxlUHJvbWlzZXMoKTp5LnNldHRsZVByb21pc2VzKHRoaXMpKX19LG8ucHJvdG90eXBlLl9yZWplY3Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fYml0RmllbGQ7aWYoISgoMTE3NTA2MDQ4JmUpPj4+MTYpKXJldHVybiB0aGlzLl9zZXRSZWplY3RlZCgpLHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlcjA9dCx0aGlzLl9pc0ZpbmFsKCk/eS5mYXRhbEVycm9yKHQsZC5pc05vZGUpOnZvaWQoKDY1NTM1JmUpPjA/eS5zZXR0bGVQcm9taXNlcyh0aGlzKTp0aGlzLl9lbnN1cmVQb3NzaWJsZVJlamVjdGlvbkhhbmRsZWQoKSl9LG8ucHJvdG90eXBlLl9mdWxmaWxsUHJvbWlzZXM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MTt0Pm47bisrKXt2YXIgcj10aGlzLl9mdWxmaWxsbWVudEhhbmRsZXJBdChuKSxpPXRoaXMuX3Byb21pc2VBdChuKSxvPXRoaXMuX3JlY2VpdmVyQXQobik7dGhpcy5fY2xlYXJDYWxsYmFja0RhdGFBdEluZGV4KG4pLHRoaXMuX3NldHRsZVByb21pc2UoaSxyLG8sZSl9fSxvLnByb3RvdHlwZS5fcmVqZWN0UHJvbWlzZXM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MTt0Pm47bisrKXt2YXIgcj10aGlzLl9yZWplY3Rpb25IYW5kbGVyQXQobiksaT10aGlzLl9wcm9taXNlQXQobiksbz10aGlzLl9yZWNlaXZlckF0KG4pO3RoaXMuX2NsZWFyQ2FsbGJhY2tEYXRhQXRJbmRleChuKSx0aGlzLl9zZXR0bGVQcm9taXNlKGkscixvLGUpfX0sby5wcm90b3R5cGUuX3NldHRsZVByb21pc2VzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fYml0RmllbGQsZT02NTUzNSZ0O2lmKGU+MCl7aWYoMCE9PSgxNjg0Mjc1MiZ0KSl7dmFyIG49dGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyMDt0aGlzLl9zZXR0bGVQcm9taXNlMCh0aGlzLl9yZWplY3Rpb25IYW5kbGVyMCxuLHQpLHRoaXMuX3JlamVjdFByb21pc2VzKGUsbil9ZWxzZXt2YXIgcj10aGlzLl9yZWplY3Rpb25IYW5kbGVyMDt0aGlzLl9zZXR0bGVQcm9taXNlMCh0aGlzLl9mdWxmaWxsbWVudEhhbmRsZXIwLHIsdCksdGhpcy5fZnVsZmlsbFByb21pc2VzKGUscil9dGhpcy5fc2V0TGVuZ3RoKDApfXRoaXMuX2NsZWFyQ2FuY2VsbGF0aW9uRGF0YSgpfSxvLnByb3RvdHlwZS5fc2V0dGxlZFZhbHVlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fYml0RmllbGQ7cmV0dXJuIDAhPT0oMzM1NTQ0MzImdCk/dGhpcy5fcmVqZWN0aW9uSGFuZGxlcjA6MCE9PSgxNjc3NzIxNiZ0KT90aGlzLl9mdWxmaWxsbWVudEhhbmRsZXIwOnZvaWQgMH0sby5kZWZlcj1vLnBlbmRpbmc9ZnVuY3Rpb24oKXtULmRlcHJlY2F0ZWQoXCJQcm9taXNlLmRlZmVyXCIsXCJuZXcgUHJvbWlzZVwiKTt2YXIgdD1uZXcgbyh3KTtyZXR1cm57cHJvbWlzZTp0LHJlc29sdmU6cyxyZWplY3Q6YX19LGQubm90RW51bWVyYWJsZVByb3AobyxcIl9tYWtlU2VsZlJlc29sdXRpb25FcnJvclwiLGwpLHQoXCIuL21ldGhvZFwiKShvLHcsayxwLFQpLHQoXCIuL2JpbmRcIikobyx3LGssVCksdChcIi4vY2FuY2VsXCIpKG8saixwLFQpLHQoXCIuL2RpcmVjdF9yZXNvbHZlXCIpKG8pLHQoXCIuL3N5bmNocm9ub3VzX2luc3BlY3Rpb25cIikobyksdChcIi4vam9pblwiKShvLGosayx3LHksdSksby5Qcm9taXNlPW8sby52ZXJzaW9uPVwiMy40LjZcIix0KFwiLi9tYXAuanNcIikobyxqLHAsayx3LFQpLHQoXCIuL2NhbGxfZ2V0LmpzXCIpKG8pLHQoXCIuL3VzaW5nLmpzXCIpKG8scCxrLEYsdyxUKSx0KFwiLi90aW1lcnMuanNcIikobyx3LFQpLHQoXCIuL2dlbmVyYXRvcnMuanNcIikobyxwLHcsayxyLFQpLHQoXCIuL25vZGVpZnkuanNcIikobyksdChcIi4vcHJvbWlzaWZ5LmpzXCIpKG8sdyksdChcIi4vcHJvcHMuanNcIikobyxqLGsscCksdChcIi4vcmFjZS5qc1wiKShvLHcsayxwKSx0KFwiLi9yZWR1Y2UuanNcIikobyxqLHAsayx3LFQpLHQoXCIuL3NldHRsZS5qc1wiKShvLGosVCksdChcIi4vc29tZS5qc1wiKShvLGoscCksdChcIi4vZmlsdGVyLmpzXCIpKG8sdyksdChcIi4vZWFjaC5qc1wiKShvLHcpLHQoXCIuL2FueS5qc1wiKShvKSxkLnRvRmFzdFByb3BlcnRpZXMobyksZC50b0Zhc3RQcm9wZXJ0aWVzKG8ucHJvdG90eXBlKSxjKHthOjF9KSxjKHtiOjJ9KSxjKHtjOjN9KSxjKDEpLGMoZnVuY3Rpb24oKXt9KSxjKHZvaWQgMCksYyghMSksYyhuZXcgbyh3KSksVC5zZXRCb3VuZHModi5maXJzdExpbmVFcnJvcixkLmxhc3RMaW5lRXJyb3IpLG99fSx7XCIuL2FueS5qc1wiOjEsXCIuL2FzeW5jXCI6MixcIi4vYmluZFwiOjMsXCIuL2NhbGxfZ2V0LmpzXCI6NSxcIi4vY2FuY2VsXCI6NixcIi4vY2F0Y2hfZmlsdGVyXCI6NyxcIi4vY29udGV4dFwiOjgsXCIuL2RlYnVnZ2FiaWxpdHlcIjo5LFwiLi9kaXJlY3RfcmVzb2x2ZVwiOjEwLFwiLi9lYWNoLmpzXCI6MTEsXCIuL2Vycm9yc1wiOjEyLFwiLi9lczVcIjoxMyxcIi4vZmlsdGVyLmpzXCI6MTQsXCIuL2ZpbmFsbHlcIjoxNSxcIi4vZ2VuZXJhdG9ycy5qc1wiOjE2LFwiLi9qb2luXCI6MTcsXCIuL21hcC5qc1wiOjE4LFwiLi9tZXRob2RcIjoxOSxcIi4vbm9kZWJhY2tcIjoyMCxcIi4vbm9kZWlmeS5qc1wiOjIxLFwiLi9wcm9taXNlX2FycmF5XCI6MjMsXCIuL3Byb21pc2lmeS5qc1wiOjI0LFwiLi9wcm9wcy5qc1wiOjI1LFwiLi9yYWNlLmpzXCI6MjcsXCIuL3JlZHVjZS5qc1wiOjI4LFwiLi9zZXR0bGUuanNcIjozMCxcIi4vc29tZS5qc1wiOjMxLFwiLi9zeW5jaHJvbm91c19pbnNwZWN0aW9uXCI6MzIsXCIuL3RoZW5hYmxlc1wiOjMzLFwiLi90aW1lcnMuanNcIjozNCxcIi4vdXNpbmcuanNcIjozNSxcIi4vdXRpbFwiOjM2fV0sMjM6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIsaSxvKXtmdW5jdGlvbiBzKHQpe3N3aXRjaCh0KXtjYXNlLTI6cmV0dXJuW107Y2FzZS0zOnJldHVybnt9fX1mdW5jdGlvbiBhKHQpe3ZhciByPXRoaXMuX3Byb21pc2U9bmV3IGUobik7dCBpbnN0YW5jZW9mIGUmJnIuX3Byb3BhZ2F0ZUZyb20odCwzKSxyLl9zZXRPbkNhbmNlbCh0aGlzKSx0aGlzLl92YWx1ZXM9dCx0aGlzLl9sZW5ndGg9MCx0aGlzLl90b3RhbFJlc29sdmVkPTAsdGhpcy5faW5pdCh2b2lkIDAsLTIpfXZhciBjPXQoXCIuL3V0aWxcIik7Yy5pc0FycmF5O3JldHVybiBjLmluaGVyaXRzKGEsbyksYS5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlbmd0aH0sYS5wcm90b3R5cGUucHJvbWlzZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9taXNlfSxhLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbiB1KHQsbil7dmFyIG89cih0aGlzLl92YWx1ZXMsdGhpcy5fcHJvbWlzZSk7aWYobyBpbnN0YW5jZW9mIGUpe289by5fdGFyZ2V0KCk7dmFyIGE9by5fYml0RmllbGQ7aWYodGhpcy5fdmFsdWVzPW8sMD09PSg1MDM5NzE4NCZhKSlyZXR1cm4gdGhpcy5fcHJvbWlzZS5fc2V0QXN5bmNHdWFyYW50ZWVkKCksby5fdGhlbih1LHRoaXMuX3JlamVjdCx2b2lkIDAsdGhpcyxuKTtpZigwPT09KDMzNTU0NDMyJmEpKXJldHVybiAwIT09KDE2Nzc3MjE2JmEpP3RoaXMuX3JlamVjdChvLl9yZWFzb24oKSk6dGhpcy5fY2FuY2VsKCk7bz1vLl92YWx1ZSgpfWlmKG89Yy5hc0FycmF5KG8pLG51bGw9PT1vKXt2YXIgbD1pKFwiZXhwZWN0aW5nIGFuIGFycmF5IG9yIGFuIGl0ZXJhYmxlIG9iamVjdCBidXQgZ290IFwiK2MuY2xhc3NTdHJpbmcobykpLnJlYXNvbigpO3JldHVybiB2b2lkIHRoaXMuX3Byb21pc2UuX3JlamVjdENhbGxiYWNrKGwsITEpfXJldHVybiAwPT09by5sZW5ndGg/dm9pZCgtNT09PW4/dGhpcy5fcmVzb2x2ZUVtcHR5QXJyYXkoKTp0aGlzLl9yZXNvbHZlKHMobikpKTp2b2lkIHRoaXMuX2l0ZXJhdGUobyl9LGEucHJvdG90eXBlLl9pdGVyYXRlPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuZ2V0QWN0dWFsTGVuZ3RoKHQubGVuZ3RoKTt0aGlzLl9sZW5ndGg9bix0aGlzLl92YWx1ZXM9dGhpcy5zaG91bGRDb3B5VmFsdWVzKCk/bmV3IEFycmF5KG4pOnRoaXMuX3ZhbHVlcztmb3IodmFyIGk9dGhpcy5fcHJvbWlzZSxvPSExLHM9bnVsbCxhPTA7bj5hOysrYSl7dmFyIGM9cih0W2FdLGkpO2MgaW5zdGFuY2VvZiBlPyhjPWMuX3RhcmdldCgpLHM9Yy5fYml0RmllbGQpOnM9bnVsbCxvP251bGwhPT1zJiZjLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucygpOm51bGwhPT1zPzA9PT0oNTAzOTcxODQmcyk/KGMuX3Byb3h5KHRoaXMsYSksdGhpcy5fdmFsdWVzW2FdPWMpOm89MCE9PSgzMzU1NDQzMiZzKT90aGlzLl9wcm9taXNlRnVsZmlsbGVkKGMuX3ZhbHVlKCksYSk6MCE9PSgxNjc3NzIxNiZzKT90aGlzLl9wcm9taXNlUmVqZWN0ZWQoYy5fcmVhc29uKCksYSk6dGhpcy5fcHJvbWlzZUNhbmNlbGxlZChhKTpvPXRoaXMuX3Byb21pc2VGdWxmaWxsZWQoYyxhKX1vfHxpLl9zZXRBc3luY0d1YXJhbnRlZWQoKX0sYS5wcm90b3R5cGUuX2lzUmVzb2x2ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuX3ZhbHVlc30sYS5wcm90b3R5cGUuX3Jlc29sdmU9ZnVuY3Rpb24odCl7dGhpcy5fdmFsdWVzPW51bGwsdGhpcy5fcHJvbWlzZS5fZnVsZmlsbCh0KX0sYS5wcm90b3R5cGUuX2NhbmNlbD1mdW5jdGlvbigpeyF0aGlzLl9pc1Jlc29sdmVkKCkmJnRoaXMuX3Byb21pc2UuX2lzQ2FuY2VsbGFibGUoKSYmKHRoaXMuX3ZhbHVlcz1udWxsLHRoaXMuX3Byb21pc2UuX2NhbmNlbCgpKX0sYS5wcm90b3R5cGUuX3JlamVjdD1mdW5jdGlvbih0KXt0aGlzLl92YWx1ZXM9bnVsbCx0aGlzLl9wcm9taXNlLl9yZWplY3RDYWxsYmFjayh0LCExKX0sYS5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQ9ZnVuY3Rpb24odCxlKXt0aGlzLl92YWx1ZXNbZV09dDt2YXIgbj0rK3RoaXMuX3RvdGFsUmVzb2x2ZWQ7cmV0dXJuIG4+PXRoaXMuX2xlbmd0aD8odGhpcy5fcmVzb2x2ZSh0aGlzLl92YWx1ZXMpLCEwKTohMX0sYS5wcm90b3R5cGUuX3Byb21pc2VDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FuY2VsKCksITB9LGEucHJvdG90eXBlLl9wcm9taXNlUmVqZWN0ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3RvdGFsUmVzb2x2ZWQrKyx0aGlzLl9yZWplY3QodCksITB9LGEucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5faXNSZXNvbHZlZCgpKXt2YXIgdD10aGlzLl92YWx1ZXM7aWYodGhpcy5fY2FuY2VsKCksdCBpbnN0YW5jZW9mIGUpdC5jYW5jZWwoKTtlbHNlIGZvcih2YXIgbj0wO248dC5sZW5ndGg7KytuKXRbbl1pbnN0YW5jZW9mIGUmJnRbbl0uY2FuY2VsKCl9fSxhLnByb3RvdHlwZS5zaG91bGRDb3B5VmFsdWVzPWZ1bmN0aW9uKCl7cmV0dXJuITB9LGEucHJvdG90eXBlLmdldEFjdHVhbExlbmd0aD1mdW5jdGlvbih0KXtyZXR1cm4gdH0sYX19LHtcIi4vdXRpbFwiOjM2fV0sMjQ6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiByKHQpe3JldHVybiFFLnRlc3QodCl9ZnVuY3Rpb24gaSh0KXt0cnl7cmV0dXJuIHQuX19pc1Byb21pc2lmaWVkX189PT0hMH1jYXRjaChlKXtyZXR1cm4hMX19ZnVuY3Rpb24gbyh0LGUsbil7dmFyIHI9aC5nZXREYXRhUHJvcGVydHlPckRlZmF1bHQodCxlK24sYik7cmV0dXJuIHI/aShyKTohMX1mdW5jdGlvbiBzKHQsZSxuKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrPTIpe3ZhciBpPXRbcl07aWYobi50ZXN0KGkpKWZvcih2YXIgbz1pLnJlcGxhY2UobixcIlwiKSxzPTA7czx0Lmxlbmd0aDtzKz0yKWlmKHRbc109PT1vKXRocm93IG5ldyBtKFwiQ2Fubm90IHByb21pc2lmeSBhbiBBUEkgdGhhdCBoYXMgbm9ybWFsIG1ldGhvZHMgd2l0aCAnJXMnLXN1ZmZpeFxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIi5yZXBsYWNlKFwiJXNcIixlKSl9fWZ1bmN0aW9uIGEodCxlLG4scil7Zm9yKHZhciBhPWguaW5oZXJpdGVkRGF0YUtleXModCksYz1bXSx1PTA7dTxhLmxlbmd0aDsrK3Upe3ZhciBsPWFbdV0sZj10W2xdLHA9cj09PUM/ITA6QyhsLGYsdCk7XCJmdW5jdGlvblwiIT10eXBlb2YgZnx8aShmKXx8byh0LGwsZSl8fCFyKGwsZix0LHApfHxjLnB1c2gobCxmKX1yZXR1cm4gcyhjLGUsbiksY31mdW5jdGlvbiBjKHQscixpLG8scyxhKXtmdW5jdGlvbiBjKCl7dmFyIGk9cjtyPT09cCYmKGk9dGhpcyk7dmFyIG89bmV3IGUobik7by5fY2FwdHVyZVN0YWNrVHJhY2UoKTt2YXIgcz1cInN0cmluZ1wiPT10eXBlb2YgbCYmdGhpcyE9PXU/dGhpc1tsXTp0LGM9ZChvLGEpO3RyeXtzLmFwcGx5KGksXyhhcmd1bWVudHMsYykpfWNhdGNoKGYpe28uX3JlamVjdENhbGxiYWNrKHYoZiksITAsITApfXJldHVybiBvLl9pc0ZhdGVTZWFsZWQoKXx8by5fc2V0QXN5bmNHdWFyYW50ZWVkKCksb312YXIgdT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpLGw9dDtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgbCYmKHQ9byksaC5ub3RFbnVtZXJhYmxlUHJvcChjLFwiX19pc1Byb21pc2lmaWVkX19cIiwhMCksY31mdW5jdGlvbiB1KHQsZSxuLHIsaSl7Zm9yKHZhciBvPW5ldyBSZWdFeHAoayhlKStcIiRcIikscz1hKHQsZSxvLG4pLGM9MCx1PXMubGVuZ3RoO3U+YztjKz0yKXt2YXIgbD1zW2NdLGY9c1tjKzFdLGQ9bCtlO2lmKHI9PT1qKXRbZF09aihsLHAsbCxmLGUsaSk7ZWxzZXt2YXIgXz1yKGYsZnVuY3Rpb24oKXtyZXR1cm4gaihsLHAsbCxmLGUsaSl9KTtoLm5vdEVudW1lcmFibGVQcm9wKF8sXCJfX2lzUHJvbWlzaWZpZWRfX1wiLCEwKSx0W2RdPV99fXJldHVybiBoLnRvRmFzdFByb3BlcnRpZXModCksdH1mdW5jdGlvbiBsKHQsZSxuKXtyZXR1cm4gaih0LGUsdm9pZCAwLHQsbnVsbCxuKX12YXIgZixwPXt9LGg9dChcIi4vdXRpbFwiKSxkPXQoXCIuL25vZGViYWNrXCIpLF89aC53aXRoQXBwZW5kZWQsdj1oLm1heWJlV3JhcEFzRXJyb3IseT1oLmNhbkV2YWx1YXRlLG09dChcIi4vZXJyb3JzXCIpLlR5cGVFcnJvcixnPVwiQXN5bmNcIixiPXtfX2lzUHJvbWlzaWZpZWRfXzohMH0sdz1bXCJhcml0eVwiLFwibGVuZ3RoXCIsXCJuYW1lXCIsXCJhcmd1bWVudHNcIixcImNhbGxlclwiLFwiY2FsbGVlXCIsXCJwcm90b3R5cGVcIixcIl9faXNQcm9taXNpZmllZF9fXCJdLEU9bmV3IFJlZ0V4cChcIl4oPzpcIit3LmpvaW4oXCJ8XCIpK1wiKSRcIiksQz1mdW5jdGlvbih0KXtyZXR1cm4gaC5pc0lkZW50aWZpZXIodCkmJlwiX1wiIT09dC5jaGFyQXQoMCkmJlwiY29uc3RydWN0b3JcIiE9PXR9LGs9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvKFskXSkvLFwiXFxcXCRcIil9LGo9eT9mOmM7ZS5wcm9taXNpZnk9ZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBtKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIitoLmNsYXNzU3RyaW5nKHQpKTtpZihpKHQpKXJldHVybiB0O2U9T2JqZWN0KGUpO3ZhciBuPXZvaWQgMD09PWUuY29udGV4dD9wOmUuY29udGV4dCxvPSEhZS5tdWx0aUFyZ3Mscz1sKHQsbixvKTtyZXR1cm4gaC5jb3B5RGVzY3JpcHRvcnModCxzLHIpLHN9LGUucHJvbWlzaWZ5QWxsPWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmXCJvYmplY3RcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IG0oXCJ0aGUgdGFyZ2V0IG9mIHByb21pc2lmeUFsbCBtdXN0IGJlIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKTtlPU9iamVjdChlKTt2YXIgbj0hIWUubXVsdGlBcmdzLHI9ZS5zdWZmaXg7XCJzdHJpbmdcIiE9dHlwZW9mIHImJihyPWcpO3ZhciBpPWUuZmlsdGVyO1wiZnVuY3Rpb25cIiE9dHlwZW9mIGkmJihpPUMpO3ZhciBvPWUucHJvbWlzaWZpZXI7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgbyYmKG89aiksIWguaXNJZGVudGlmaWVyKHIpKXRocm93IG5ldyBSYW5nZUVycm9yKFwic3VmZml4IG11c3QgYmUgYSB2YWxpZCBpZGVudGlmaWVyXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKTtmb3IodmFyIHM9aC5pbmhlcml0ZWREYXRhS2V5cyh0KSxhPTA7YTxzLmxlbmd0aDsrK2Epe3ZhciBjPXRbc1thXV07XCJjb25zdHJ1Y3RvclwiIT09c1thXSYmaC5pc0NsYXNzKGMpJiYodShjLnByb3RvdHlwZSxyLGksbyxuKSx1KGMscixpLG8sbikpfXJldHVybiB1KHQscixpLG8sbil9fX0se1wiLi9lcnJvcnNcIjoxMixcIi4vbm9kZWJhY2tcIjoyMCxcIi4vdXRpbFwiOjM2fV0sMjU6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIsaSl7ZnVuY3Rpb24gbyh0KXt2YXIgZSxuPSExO2lmKHZvaWQgMCE9PWEmJnQgaW5zdGFuY2VvZiBhKWU9Zih0KSxuPSEwO2Vsc2V7dmFyIHI9bC5rZXlzKHQpLGk9ci5sZW5ndGg7ZT1uZXcgQXJyYXkoMippKTtmb3IodmFyIG89MDtpPm87KytvKXt2YXIgcz1yW29dO2Vbb109dFtzXSxlW28raV09c319dGhpcy5jb25zdHJ1Y3RvciQoZSksdGhpcy5faXNNYXA9bix0aGlzLl9pbml0JCh2b2lkIDAsLTMpfWZ1bmN0aW9uIHModCl7dmFyIG4scz1yKHQpO3JldHVybiB1KHMpPyhuPXMgaW5zdGFuY2VvZiBlP3MuX3RoZW4oZS5wcm9wcyx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDApOm5ldyBvKHMpLnByb21pc2UoKSxzIGluc3RhbmNlb2YgZSYmbi5fcHJvcGFnYXRlRnJvbShzLDIpLG4pOmkoXCJjYW5ub3QgYXdhaXQgcHJvcGVydGllcyBvZiBhIG5vbi1vYmplY3RcXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXCIpfXZhciBhLGM9dChcIi4vdXRpbFwiKSx1PWMuaXNPYmplY3QsbD10KFwiLi9lczVcIik7XCJmdW5jdGlvblwiPT10eXBlb2YgTWFwJiYoYT1NYXApO3ZhciBmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LHIpe3RoaXNbZV09dCx0aGlzW2Urbl09cixlKyt9dmFyIGU9MCxuPTA7cmV0dXJuIGZ1bmN0aW9uKHIpe249ci5zaXplLGU9MDt2YXIgaT1uZXcgQXJyYXkoMipyLnNpemUpO3JldHVybiByLmZvckVhY2godCxpKSxpfX0oKSxwPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgYSxuPXQubGVuZ3RoLzJ8MCxyPTA7bj5yOysrcil7dmFyIGk9dFtuK3JdLG89dFtyXTtlLnNldChpLG8pfXJldHVybiBlfTtjLmluaGVyaXRzKG8sbiksby5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXt9LG8ucHJvdG90eXBlLl9wcm9taXNlRnVsZmlsbGVkPWZ1bmN0aW9uKHQsZSl7dGhpcy5fdmFsdWVzW2VdPXQ7dmFyIG49Kyt0aGlzLl90b3RhbFJlc29sdmVkO2lmKG4+PXRoaXMuX2xlbmd0aCl7dmFyIHI7aWYodGhpcy5faXNNYXApcj1wKHRoaXMuX3ZhbHVlcyk7ZWxzZXtyPXt9O2Zvcih2YXIgaT10aGlzLmxlbmd0aCgpLG89MCxzPXRoaXMubGVuZ3RoKCk7cz5vOysrbylyW3RoaXMuX3ZhbHVlc1tvK2ldXT10aGlzLl92YWx1ZXNbb119cmV0dXJuIHRoaXMuX3Jlc29sdmUociksITB9cmV0dXJuITF9LG8ucHJvdG90eXBlLnNob3VsZENvcHlWYWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sby5wcm90b3R5cGUuZ2V0QWN0dWFsTGVuZ3RoPWZ1bmN0aW9uKHQpe3JldHVybiB0Pj4xfSxlLnByb3RvdHlwZS5wcm9wcz1mdW5jdGlvbigpe3JldHVybiBzKHRoaXMpfSxlLnByb3BzPWZ1bmN0aW9uKHQpe3JldHVybiBzKHQpfX19LHtcIi4vZXM1XCI6MTMsXCIuL3V0aWxcIjozNn1dLDI2OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUsbixyLGkpe2Zvcih2YXIgbz0wO2k+bzsrK28pbltvK3JdPXRbbytlXSx0W28rZV09dm9pZCAwfWZ1bmN0aW9uIGkodCl7dGhpcy5fY2FwYWNpdHk9dCx0aGlzLl9sZW5ndGg9MCx0aGlzLl9mcm9udD0wfWkucHJvdG90eXBlLl93aWxsQmVPdmVyQ2FwYWNpdHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NhcGFjaXR5PHR9LGkucHJvdG90eXBlLl9wdXNoT25lPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubGVuZ3RoKCk7dGhpcy5fY2hlY2tDYXBhY2l0eShlKzEpO3ZhciBuPXRoaXMuX2Zyb250K2UmdGhpcy5fY2FwYWNpdHktMTt0aGlzW25dPXQsdGhpcy5fbGVuZ3RoPWUrMX0saS5wcm90b3R5cGUuX3Vuc2hpZnRPbmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY2FwYWNpdHk7dGhpcy5fY2hlY2tDYXBhY2l0eSh0aGlzLmxlbmd0aCgpKzEpO3ZhciBuPXRoaXMuX2Zyb250LHI9KG4tMSZlLTFeZSktZTt0aGlzW3JdPXQsdGhpcy5fZnJvbnQ9cix0aGlzLl9sZW5ndGg9dGhpcy5sZW5ndGgoKSsxfSxpLnByb3RvdHlwZS51bnNoaWZ0PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl91bnNoaWZ0T25lKG4pLHRoaXMuX3Vuc2hpZnRPbmUoZSksdGhpcy5fdW5zaGlmdE9uZSh0KX0saS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5sZW5ndGgoKSszO2lmKHRoaXMuX3dpbGxCZU92ZXJDYXBhY2l0eShyKSlyZXR1cm4gdGhpcy5fcHVzaE9uZSh0KSx0aGlzLl9wdXNoT25lKGUpLHZvaWQgdGhpcy5fcHVzaE9uZShuKTt2YXIgaT10aGlzLl9mcm9udCtyLTM7dGhpcy5fY2hlY2tDYXBhY2l0eShyKTt2YXIgbz10aGlzLl9jYXBhY2l0eS0xO3RoaXNbaSswJm9dPXQsdGhpc1tpKzEmb109ZSx0aGlzW2krMiZvXT1uLHRoaXMuX2xlbmd0aD1yfSxpLnByb3RvdHlwZS5zaGlmdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2Zyb250LGU9dGhpc1t0XTtyZXR1cm4gdGhpc1t0XT12b2lkIDAsdGhpcy5fZnJvbnQ9dCsxJnRoaXMuX2NhcGFjaXR5LTEsdGhpcy5fbGVuZ3RoLS0sZX0saS5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlbmd0aH0saS5wcm90b3R5cGUuX2NoZWNrQ2FwYWNpdHk9ZnVuY3Rpb24odCl7dGhpcy5fY2FwYWNpdHk8dCYmdGhpcy5fcmVzaXplVG8odGhpcy5fY2FwYWNpdHk8PDEpfSxpLnByb3RvdHlwZS5fcmVzaXplVG89ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY2FwYWNpdHk7dGhpcy5fY2FwYWNpdHk9dDt2YXIgbj10aGlzLl9mcm9udCxpPXRoaXMuX2xlbmd0aCxvPW4raSZlLTE7cih0aGlzLDAsdGhpcyxlLG8pfSxlLmV4cG9ydHM9aX0se31dLDI3OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyLGkpe2Z1bmN0aW9uIG8odCxvKXt2YXIgYz1yKHQpO2lmKGMgaW5zdGFuY2VvZiBlKXJldHVybiBhKGMpO2lmKHQ9cy5hc0FycmF5KHQpLG51bGw9PT10KXJldHVybiBpKFwiZXhwZWN0aW5nIGFuIGFycmF5IG9yIGFuIGl0ZXJhYmxlIG9iamVjdCBidXQgZ290IFwiK3MuY2xhc3NTdHJpbmcodCkpO3ZhciB1PW5ldyBlKG4pO3ZvaWQgMCE9PW8mJnUuX3Byb3BhZ2F0ZUZyb20obywzKTtmb3IodmFyIGw9dS5fZnVsZmlsbCxmPXUuX3JlamVjdCxwPTAsaD10Lmxlbmd0aDtoPnA7KytwKXt2YXIgZD10W3BdOyh2b2lkIDAhPT1kfHxwIGluIHQpJiZlLmNhc3QoZCkuX3RoZW4obCxmLHZvaWQgMCx1LG51bGwpfXJldHVybiB1fXZhciBzPXQoXCIuL3V0aWxcIiksYT1mdW5jdGlvbih0KXtyZXR1cm4gdC50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBvKGUsdCl9KX07ZS5yYWNlPWZ1bmN0aW9uKHQpe3JldHVybiBvKHQsdm9pZCAwKX0sZS5wcm90b3R5cGUucmFjZT1mdW5jdGlvbigpe3JldHVybiBvKHRoaXMsdm9pZCAwKX19fSx7XCIuL3V0aWxcIjozNn1dLDI4OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyLGksbyxzKXtmdW5jdGlvbiBhKHQsbixyLGkpe3RoaXMuY29uc3RydWN0b3IkKHQpO3ZhciBzPXAoKTt0aGlzLl9mbj1udWxsPT09cz9uOmguZG9tYWluQmluZChzLG4pLHZvaWQgMCE9PXImJihyPWUucmVzb2x2ZShyKSxyLl9hdHRhY2hDYW5jZWxsYXRpb25DYWxsYmFjayh0aGlzKSksdGhpcy5faW5pdGlhbFZhbHVlPXIsdGhpcy5fY3VycmVudENhbmNlbGxhYmxlPW51bGwsaT09PW8/dGhpcy5fZWFjaFZhbHVlcz1BcnJheSh0aGlzLl9sZW5ndGgpOjA9PT1pP3RoaXMuX2VhY2hWYWx1ZXM9bnVsbDp0aGlzLl9lYWNoVmFsdWVzPXZvaWQgMCx0aGlzLl9wcm9taXNlLl9jYXB0dXJlU3RhY2tUcmFjZSgpLHRoaXMuX2luaXQkKHZvaWQgMCwtNSl9ZnVuY3Rpb24gYyh0LGUpe3RoaXMuaXNGdWxmaWxsZWQoKT9lLl9yZXNvbHZlKHQpOmUuX3JlamVjdCh0KX1mdW5jdGlvbiB1KHQsZSxuLGkpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpcmV0dXJuIHIoXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiK2guY2xhc3NTdHJpbmcoZSkpO3ZhciBvPW5ldyBhKHQsZSxuLGkpO3JldHVybiBvLnByb21pc2UoKX1mdW5jdGlvbiBsKHQpe3RoaXMuYWNjdW09dCx0aGlzLmFycmF5Ll9nb3RBY2N1bSh0KTt2YXIgbj1pKHRoaXMudmFsdWUsdGhpcy5hcnJheS5fcHJvbWlzZSk7cmV0dXJuIG4gaW5zdGFuY2VvZiBlPyh0aGlzLmFycmF5Ll9jdXJyZW50Q2FuY2VsbGFibGU9bixuLl90aGVuKGYsdm9pZCAwLHZvaWQgMCx0aGlzLHZvaWQgMCkpOmYuY2FsbCh0aGlzLG4pfWZ1bmN0aW9uIGYodCl7dmFyIG49dGhpcy5hcnJheSxyPW4uX3Byb21pc2UsaT1kKG4uX2ZuKTtyLl9wdXNoQ29udGV4dCgpO3ZhciBvO289dm9pZCAwIT09bi5fZWFjaFZhbHVlcz9pLmNhbGwoci5fYm91bmRWYWx1ZSgpLHQsdGhpcy5pbmRleCx0aGlzLmxlbmd0aCk6aS5jYWxsKHIuX2JvdW5kVmFsdWUoKSx0aGlzLmFjY3VtLHQsdGhpcy5pbmRleCx0aGlzLmxlbmd0aCksbyBpbnN0YW5jZW9mIGUmJihuLl9jdXJyZW50Q2FuY2VsbGFibGU9byk7dmFyIGE9ci5fcG9wQ29udGV4dCgpO3JldHVybiBzLmNoZWNrRm9yZ290dGVuUmV0dXJucyhvLGEsdm9pZCAwIT09bi5fZWFjaFZhbHVlcz9cIlByb21pc2UuZWFjaFwiOlwiUHJvbWlzZS5yZWR1Y2VcIixyKSxvfXZhciBwPWUuX2dldERvbWFpbixoPXQoXCIuL3V0aWxcIiksZD1oLnRyeUNhdGNoO2guaW5oZXJpdHMoYSxuKSxhLnByb3RvdHlwZS5fZ290QWNjdW09ZnVuY3Rpb24odCl7dm9pZCAwIT09dGhpcy5fZWFjaFZhbHVlcyYmbnVsbCE9PXRoaXMuX2VhY2hWYWx1ZXMmJnQhPT1vJiZ0aGlzLl9lYWNoVmFsdWVzLnB1c2godCl9LGEucHJvdG90eXBlLl9lYWNoQ29tcGxldGU9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPT10aGlzLl9lYWNoVmFsdWVzJiZ0aGlzLl9lYWNoVmFsdWVzLnB1c2godCksdGhpcy5fZWFjaFZhbHVlc30sYS5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXt9LGEucHJvdG90eXBlLl9yZXNvbHZlRW1wdHlBcnJheT1mdW5jdGlvbigpe3RoaXMuX3Jlc29sdmUodm9pZCAwIT09dGhpcy5fZWFjaFZhbHVlcz90aGlzLl9lYWNoVmFsdWVzOnRoaXMuX2luaXRpYWxWYWx1ZSl9LGEucHJvdG90eXBlLnNob3VsZENvcHlWYWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sYS5wcm90b3R5cGUuX3Jlc29sdmU9ZnVuY3Rpb24odCl7dGhpcy5fcHJvbWlzZS5fcmVzb2x2ZUNhbGxiYWNrKHQpLHRoaXMuX3ZhbHVlcz1udWxsfSxhLnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09dGhpcy5faW5pdGlhbFZhbHVlP3RoaXMuX2NhbmNlbCgpOnZvaWQodGhpcy5faXNSZXNvbHZlZCgpfHwodGhpcy5fcmVzdWx0Q2FuY2VsbGVkJCgpLHRoaXMuX2N1cnJlbnRDYW5jZWxsYWJsZSBpbnN0YW5jZW9mIGUmJnRoaXMuX2N1cnJlbnRDYW5jZWxsYWJsZS5jYW5jZWwoKSx0aGlzLl9pbml0aWFsVmFsdWUgaW5zdGFuY2VvZiBlJiZ0aGlzLl9pbml0aWFsVmFsdWUuY2FuY2VsKCkpKX0sYS5wcm90b3R5cGUuX2l0ZXJhdGU9ZnVuY3Rpb24odCl7dGhpcy5fdmFsdWVzPXQ7dmFyIG4scixpPXQubGVuZ3RoO2lmKHZvaWQgMCE9PXRoaXMuX2luaXRpYWxWYWx1ZT8obj10aGlzLl9pbml0aWFsVmFsdWUscj0wKToobj1lLnJlc29sdmUodFswXSkscj0xKSx0aGlzLl9jdXJyZW50Q2FuY2VsbGFibGU9biwhbi5pc1JlamVjdGVkKCkpZm9yKDtpPnI7KytyKXt2YXIgbz17YWNjdW06bnVsbCx2YWx1ZTp0W3JdLGluZGV4OnIsbGVuZ3RoOmksYXJyYXk6dGhpc307bj1uLl90aGVuKGwsdm9pZCAwLHZvaWQgMCxvLHZvaWQgMCl9dm9pZCAwIT09dGhpcy5fZWFjaFZhbHVlcyYmKG49bi5fdGhlbih0aGlzLl9lYWNoQ29tcGxldGUsdm9pZCAwLHZvaWQgMCx0aGlzLHZvaWQgMCkpLG4uX3RoZW4oYyxjLHZvaWQgMCxuLHRoaXMpfSxlLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdSh0aGlzLHQsZSxudWxsKX0sZS5yZWR1Y2U9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHUodCxlLG4scil9fX0se1wiLi91dGlsXCI6MzZ9XSwyOTpbZnVuY3Rpb24odCxpLG8pe1widXNlIHN0cmljdFwiO3ZhciBzLGE9dChcIi4vdXRpbFwiKSxjPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiTm8gYXN5bmMgc2NoZWR1bGVyIGF2YWlsYWJsZVxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIil9LHU9YS5nZXROYXRpdmVQcm9taXNlKCk7aWYoYS5pc05vZGUmJlwidW5kZWZpbmVkXCI9PXR5cGVvZiBNdXRhdGlvbk9ic2VydmVyKXt2YXIgbD1uLnNldEltbWVkaWF0ZSxmPWUubmV4dFRpY2s7cz1hLmlzUmVjZW50Tm9kZT9mdW5jdGlvbih0KXtsLmNhbGwobix0KX06ZnVuY3Rpb24odCl7Zi5jYWxsKGUsdCl9fWVsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdS5yZXNvbHZlKXt2YXIgcD11LnJlc29sdmUoKTtzPWZ1bmN0aW9uKHQpe3AudGhlbih0KX19ZWxzZSBzPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBNdXRhdGlvbk9ic2VydmVyfHxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubmF2aWdhdG9yJiYod2luZG93Lm5hdmlnYXRvci5zdGFuZGFsb25lfHx3aW5kb3cuY29yZG92YSk/XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHI/ZnVuY3Rpb24odCl7cih0KX06XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNldFRpbWVvdXQ/ZnVuY3Rpb24odCl7c2V0VGltZW91dCh0LDApfTpjOmZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxlPXthdHRyaWJ1dGVzOiEwfSxuPSExLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxpPW5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKCl7dC5jbGFzc0xpc3QudG9nZ2xlKFwiZm9vXCIpLG49ITF9KTtpLm9ic2VydmUocixlKTt2YXIgbz1mdW5jdGlvbigpe258fChuPSEwLHIuY2xhc3NMaXN0LnRvZ2dsZShcImZvb1wiKSl9O3JldHVybiBmdW5jdGlvbihuKXt2YXIgcj1uZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpe3IuZGlzY29ubmVjdCgpLG4oKX0pO3Iub2JzZXJ2ZSh0LGUpLG8oKX19KCk7aS5leHBvcnRzPXN9LHtcIi4vdXRpbFwiOjM2fV0sMzA6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIpe2Z1bmN0aW9uIGkodCl7dGhpcy5jb25zdHJ1Y3RvciQodCl9dmFyIG89ZS5Qcm9taXNlSW5zcGVjdGlvbixzPXQoXCIuL3V0aWxcIik7cy5pbmhlcml0cyhpLG4pLGkucHJvdG90eXBlLl9wcm9taXNlUmVzb2x2ZWQ9ZnVuY3Rpb24odCxlKXt0aGlzLl92YWx1ZXNbdF09ZTt2YXIgbj0rK3RoaXMuX3RvdGFsUmVzb2x2ZWQ7cmV0dXJuIG4+PXRoaXMuX2xlbmd0aD8odGhpcy5fcmVzb2x2ZSh0aGlzLl92YWx1ZXMpLCEwKTohMX0saS5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgbztyZXR1cm4gbi5fYml0RmllbGQ9MzM1NTQ0MzIsbi5fc2V0dGxlZFZhbHVlRmllbGQ9dCx0aGlzLl9wcm9taXNlUmVzb2x2ZWQoZSxuKX0saS5wcm90b3R5cGUuX3Byb21pc2VSZWplY3RlZD1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBvO3JldHVybiBuLl9iaXRGaWVsZD0xNjc3NzIxNixuLl9zZXR0bGVkVmFsdWVGaWVsZD10LHRoaXMuX3Byb21pc2VSZXNvbHZlZChlLG4pfSxlLnNldHRsZT1mdW5jdGlvbih0KXtyZXR1cm4gci5kZXByZWNhdGVkKFwiLnNldHRsZSgpXCIsXCIucmVmbGVjdCgpXCIpLG5ldyBpKHQpLnByb21pc2UoKX0sZS5wcm90b3R5cGUuc2V0dGxlPWZ1bmN0aW9uKCl7cmV0dXJuIGUuc2V0dGxlKHRoaXMpfX19LHtcIi4vdXRpbFwiOjM2fV0sMzE6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIpe2Z1bmN0aW9uIGkodCl7dGhpcy5jb25zdHJ1Y3RvciQodCksdGhpcy5faG93TWFueT0wLHRoaXMuX3Vud3JhcD0hMSx0aGlzLl9pbml0aWFsaXplZD0hMX1mdW5jdGlvbiBvKHQsZSl7aWYoKDB8ZSkhPT1lfHwwPmUpcmV0dXJuIHIoXCJleHBlY3RpbmcgYSBwb3NpdGl2ZSBpbnRlZ2VyXFxuXFxuICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcblwiKTt2YXIgbj1uZXcgaSh0KSxvPW4ucHJvbWlzZSgpO3JldHVybiBuLnNldEhvd01hbnkoZSksbi5pbml0KCksb312YXIgcz10KFwiLi91dGlsXCIpLGE9dChcIi4vZXJyb3JzXCIpLlJhbmdlRXJyb3IsYz10KFwiLi9lcnJvcnNcIikuQWdncmVnYXRlRXJyb3IsdT1zLmlzQXJyYXksbD17fTtzLmluaGVyaXRzKGksbiksaS5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9pbml0aWFsaXplZCl7aWYoMD09PXRoaXMuX2hvd01hbnkpcmV0dXJuIHZvaWQgdGhpcy5fcmVzb2x2ZShbXSk7dGhpcy5faW5pdCQodm9pZCAwLC01KTt2YXIgdD11KHRoaXMuX3ZhbHVlcyk7XG4hdGhpcy5faXNSZXNvbHZlZCgpJiZ0JiZ0aGlzLl9ob3dNYW55PnRoaXMuX2NhblBvc3NpYmx5RnVsZmlsbCgpJiZ0aGlzLl9yZWplY3QodGhpcy5fZ2V0UmFuZ2VFcnJvcih0aGlzLmxlbmd0aCgpKSl9fSxpLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5faW5pdGlhbGl6ZWQ9ITAsdGhpcy5faW5pdCgpfSxpLnByb3RvdHlwZS5zZXRVbndyYXA9ZnVuY3Rpb24oKXt0aGlzLl91bndyYXA9ITB9LGkucHJvdG90eXBlLmhvd01hbnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faG93TWFueX0saS5wcm90b3R5cGUuc2V0SG93TWFueT1mdW5jdGlvbih0KXt0aGlzLl9ob3dNYW55PXR9LGkucHJvdG90eXBlLl9wcm9taXNlRnVsZmlsbGVkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9hZGRGdWxmaWxsZWQodCksdGhpcy5fZnVsZmlsbGVkKCk9PT10aGlzLmhvd01hbnkoKT8odGhpcy5fdmFsdWVzLmxlbmd0aD10aGlzLmhvd01hbnkoKSwxPT09dGhpcy5ob3dNYW55KCkmJnRoaXMuX3Vud3JhcD90aGlzLl9yZXNvbHZlKHRoaXMuX3ZhbHVlc1swXSk6dGhpcy5fcmVzb2x2ZSh0aGlzLl92YWx1ZXMpLCEwKTohMX0saS5wcm90b3R5cGUuX3Byb21pc2VSZWplY3RlZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYWRkUmVqZWN0ZWQodCksdGhpcy5fY2hlY2tPdXRjb21lKCl9LGkucHJvdG90eXBlLl9wcm9taXNlQ2FuY2VsbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlcyBpbnN0YW5jZW9mIGV8fG51bGw9PXRoaXMuX3ZhbHVlcz90aGlzLl9jYW5jZWwoKToodGhpcy5fYWRkUmVqZWN0ZWQobCksdGhpcy5fY2hlY2tPdXRjb21lKCkpfSxpLnByb3RvdHlwZS5fY2hlY2tPdXRjb21lPWZ1bmN0aW9uKCl7aWYodGhpcy5ob3dNYW55KCk+dGhpcy5fY2FuUG9zc2libHlGdWxmaWxsKCkpe2Zvcih2YXIgdD1uZXcgYyxlPXRoaXMubGVuZ3RoKCk7ZTx0aGlzLl92YWx1ZXMubGVuZ3RoOysrZSl0aGlzLl92YWx1ZXNbZV0hPT1sJiZ0LnB1c2godGhpcy5fdmFsdWVzW2VdKTtyZXR1cm4gdC5sZW5ndGg+MD90aGlzLl9yZWplY3QodCk6dGhpcy5fY2FuY2VsKCksITB9cmV0dXJuITF9LGkucHJvdG90eXBlLl9mdWxmaWxsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdG90YWxSZXNvbHZlZH0saS5wcm90b3R5cGUuX3JlamVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlcy5sZW5ndGgtdGhpcy5sZW5ndGgoKX0saS5wcm90b3R5cGUuX2FkZFJlamVjdGVkPWZ1bmN0aW9uKHQpe3RoaXMuX3ZhbHVlcy5wdXNoKHQpfSxpLnByb3RvdHlwZS5fYWRkRnVsZmlsbGVkPWZ1bmN0aW9uKHQpe3RoaXMuX3ZhbHVlc1t0aGlzLl90b3RhbFJlc29sdmVkKytdPXR9LGkucHJvdG90eXBlLl9jYW5Qb3NzaWJseUZ1bGZpbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGgoKS10aGlzLl9yZWplY3RlZCgpfSxpLnByb3RvdHlwZS5fZ2V0UmFuZ2VFcnJvcj1mdW5jdGlvbih0KXt2YXIgZT1cIklucHV0IGFycmF5IG11c3QgY29udGFpbiBhdCBsZWFzdCBcIit0aGlzLl9ob3dNYW55K1wiIGl0ZW1zIGJ1dCBjb250YWlucyBvbmx5IFwiK3QrXCIgaXRlbXNcIjtyZXR1cm4gbmV3IGEoZSl9LGkucHJvdG90eXBlLl9yZXNvbHZlRW1wdHlBcnJheT1mdW5jdGlvbigpe3RoaXMuX3JlamVjdCh0aGlzLl9nZXRSYW5nZUVycm9yKDApKX0sZS5zb21lPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG8odCxlKX0sZS5wcm90b3R5cGUuc29tZT1mdW5jdGlvbih0KXtyZXR1cm4gbyh0aGlzLHQpfSxlLl9Tb21lUHJvbWlzZUFycmF5PWl9fSx7XCIuL2Vycm9yc1wiOjEyLFwiLi91dGlsXCI6MzZ9XSwzMjpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZvaWQgMCE9PXQ/KHQ9dC5fdGFyZ2V0KCksdGhpcy5fYml0RmllbGQ9dC5fYml0RmllbGQsdGhpcy5fc2V0dGxlZFZhbHVlRmllbGQ9dC5faXNGYXRlU2VhbGVkKCk/dC5fc2V0dGxlZFZhbHVlKCk6dm9pZCAwKToodGhpcy5fYml0RmllbGQ9MCx0aGlzLl9zZXR0bGVkVmFsdWVGaWVsZD12b2lkIDApfWUucHJvdG90eXBlLl9zZXR0bGVkVmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0dGxlZFZhbHVlRmllbGR9O3ZhciBuPWUucHJvdG90eXBlLnZhbHVlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNGdWxmaWxsZWQoKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2Fubm90IGdldCBmdWxmaWxsbWVudCB2YWx1ZSBvZiBhIG5vbi1mdWxmaWxsZWQgcHJvbWlzZVxcblxcbiAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXG5cIik7cmV0dXJuIHRoaXMuX3NldHRsZWRWYWx1ZSgpfSxyPWUucHJvdG90eXBlLmVycm9yPWUucHJvdG90eXBlLnJlYXNvbj1mdW5jdGlvbigpe2lmKCF0aGlzLmlzUmVqZWN0ZWQoKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2Fubm90IGdldCByZWplY3Rpb24gcmVhc29uIG9mIGEgbm9uLXJlamVjdGVkIHByb21pc2VcXG5cXG4gICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFxuXCIpO3JldHVybiB0aGlzLl9zZXR0bGVkVmFsdWUoKX0saT1lLnByb3RvdHlwZS5pc0Z1bGZpbGxlZD1mdW5jdGlvbigpe3JldHVybiAwIT09KDMzNTU0NDMyJnRoaXMuX2JpdEZpZWxkKX0sbz1lLnByb3RvdHlwZS5pc1JlamVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIDAhPT0oMTY3NzcyMTYmdGhpcy5fYml0RmllbGQpfSxzPWUucHJvdG90eXBlLmlzUGVuZGluZz1mdW5jdGlvbigpe3JldHVybiAwPT09KDUwMzk3MTg0JnRoaXMuX2JpdEZpZWxkKX0sYT1lLnByb3RvdHlwZS5pc1Jlc29sdmVkPWZ1bmN0aW9uKCl7cmV0dXJuIDAhPT0oNTAzMzE2NDgmdGhpcy5fYml0RmllbGQpfTtlLnByb3RvdHlwZS5pc0NhbmNlbGxlZD1mdW5jdGlvbigpe3JldHVybiAwIT09KDg0NTQxNDQmdGhpcy5fYml0RmllbGQpfSx0LnByb3RvdHlwZS5fX2lzQ2FuY2VsbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIDY1NTM2PT09KDY1NTM2JnRoaXMuX2JpdEZpZWxkKX0sdC5wcm90b3R5cGUuX2lzQ2FuY2VsbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RhcmdldCgpLl9faXNDYW5jZWxsZWQoKX0sdC5wcm90b3R5cGUuaXNDYW5jZWxsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PSg4NDU0MTQ0JnRoaXMuX3RhcmdldCgpLl9iaXRGaWVsZCl9LHQucHJvdG90eXBlLmlzUGVuZGluZz1mdW5jdGlvbigpe3JldHVybiBzLmNhbGwodGhpcy5fdGFyZ2V0KCkpfSx0LnByb3RvdHlwZS5pc1JlamVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG8uY2FsbCh0aGlzLl90YXJnZXQoKSl9LHQucHJvdG90eXBlLmlzRnVsZmlsbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIGkuY2FsbCh0aGlzLl90YXJnZXQoKSl9LHQucHJvdG90eXBlLmlzUmVzb2x2ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gYS5jYWxsKHRoaXMuX3RhcmdldCgpKX0sdC5wcm90b3R5cGUudmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gbi5jYWxsKHRoaXMuX3RhcmdldCgpKX0sdC5wcm90b3R5cGUucmVhc29uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdGFyZ2V0KCk7cmV0dXJuIHQuX3Vuc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQoKSxyLmNhbGwodCl9LHQucHJvdG90eXBlLl92YWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXR0bGVkVmFsdWUoKX0sdC5wcm90b3R5cGUuX3JlYXNvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91bnNldFJlamVjdGlvbklzVW5oYW5kbGVkKCksdGhpcy5fc2V0dGxlZFZhbHVlKCl9LHQuUHJvbWlzZUluc3BlY3Rpb249ZX19LHt9XSwzMzpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlLG4pe2Z1bmN0aW9uIHIodCxyKXtpZihsKHQpKXtpZih0IGluc3RhbmNlb2YgZSlyZXR1cm4gdDt2YXIgaT1vKHQpO2lmKGk9PT11KXtyJiZyLl9wdXNoQ29udGV4dCgpO3ZhciBjPWUucmVqZWN0KGkuZSk7cmV0dXJuIHImJnIuX3BvcENvbnRleHQoKSxjfWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGkpe2lmKHModCkpe3ZhciBjPW5ldyBlKG4pO3JldHVybiB0Ll90aGVuKGMuX2Z1bGZpbGwsYy5fcmVqZWN0LHZvaWQgMCxjLG51bGwpLGN9cmV0dXJuIGEodCxpLHIpfX1yZXR1cm4gdH1mdW5jdGlvbiBpKHQpe3JldHVybiB0LnRoZW59ZnVuY3Rpb24gbyh0KXt0cnl7cmV0dXJuIGkodCl9Y2F0Y2goZSl7cmV0dXJuIHUuZT1lLHV9fWZ1bmN0aW9uIHModCl7dHJ5e3JldHVybiBmLmNhbGwodCxcIl9wcm9taXNlMFwiKX1jYXRjaChlKXtyZXR1cm4hMX19ZnVuY3Rpb24gYSh0LHIsaSl7ZnVuY3Rpb24gbyh0KXthJiYoYS5fcmVzb2x2ZUNhbGxiYWNrKHQpLGE9bnVsbCl9ZnVuY3Rpb24gcyh0KXthJiYoYS5fcmVqZWN0Q2FsbGJhY2sodCxmLCEwKSxhPW51bGwpfXZhciBhPW5ldyBlKG4pLGw9YTtpJiZpLl9wdXNoQ29udGV4dCgpLGEuX2NhcHR1cmVTdGFja1RyYWNlKCksaSYmaS5fcG9wQ29udGV4dCgpO3ZhciBmPSEwLHA9Yy50cnlDYXRjaChyKS5jYWxsKHQsbyxzKTtyZXR1cm4gZj0hMSxhJiZwPT09dSYmKGEuX3JlamVjdENhbGxiYWNrKHAuZSwhMCwhMCksYT1udWxsKSxsfXZhciBjPXQoXCIuL3V0aWxcIiksdT1jLmVycm9yT2JqLGw9Yy5pc09iamVjdCxmPXt9Lmhhc093blByb3BlcnR5O3JldHVybiByfX0se1wiLi91dGlsXCI6MzZ9XSwzNDpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlLG4scil7ZnVuY3Rpb24gaSh0KXt0aGlzLmhhbmRsZT10fWZ1bmN0aW9uIG8odCl7cmV0dXJuIGNsZWFyVGltZW91dCh0aGlzLmhhbmRsZSksdH1mdW5jdGlvbiBzKHQpe3Rocm93IGNsZWFyVGltZW91dCh0aGlzLmhhbmRsZSksdH12YXIgYT10KFwiLi91dGlsXCIpLGM9ZS5UaW1lb3V0RXJyb3I7aS5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLmhhbmRsZSl9O3ZhciB1PWZ1bmN0aW9uKHQpe3JldHVybiBsKCt0aGlzKS50aGVuUmV0dXJuKHQpfSxsPWUuZGVsYXk9ZnVuY3Rpb24odCxvKXt2YXIgcyxhO3JldHVybiB2b2lkIDAhPT1vPyhzPWUucmVzb2x2ZShvKS5fdGhlbih1LG51bGwsbnVsbCx0LHZvaWQgMCksci5jYW5jZWxsYXRpb24oKSYmbyBpbnN0YW5jZW9mIGUmJnMuX3NldE9uQ2FuY2VsKG8pKToocz1uZXcgZShuKSxhPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtzLl9mdWxmaWxsKCl9LCt0KSxyLmNhbmNlbGxhdGlvbigpJiZzLl9zZXRPbkNhbmNlbChuZXcgaShhKSkscy5fY2FwdHVyZVN0YWNrVHJhY2UoKSkscy5fc2V0QXN5bmNHdWFyYW50ZWVkKCksc307ZS5wcm90b3R5cGUuZGVsYXk9ZnVuY3Rpb24odCl7cmV0dXJuIGwodCx0aGlzKX07dmFyIGY9ZnVuY3Rpb24odCxlLG4pe3ZhciByO3I9XCJzdHJpbmdcIiE9dHlwZW9mIGU/ZSBpbnN0YW5jZW9mIEVycm9yP2U6bmV3IGMoXCJvcGVyYXRpb24gdGltZWQgb3V0XCIpOm5ldyBjKGUpLGEubWFya0FzT3JpZ2luYXRpbmdGcm9tUmVqZWN0aW9uKHIpLHQuX2F0dGFjaEV4dHJhVHJhY2UociksdC5fcmVqZWN0KHIpLG51bGwhPW4mJm4uY2FuY2VsKCl9O2UucHJvdG90eXBlLnRpbWVvdXQ9ZnVuY3Rpb24odCxlKXt0PSt0O3ZhciBuLGEsYz1uZXcgaShzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5pc1BlbmRpbmcoKSYmZihuLGUsYSl9LHQpKTtyZXR1cm4gci5jYW5jZWxsYXRpb24oKT8oYT10aGlzLnRoZW4oKSxuPWEuX3RoZW4obyxzLHZvaWQgMCxjLHZvaWQgMCksbi5fc2V0T25DYW5jZWwoYykpOm49dGhpcy5fdGhlbihvLHMsdm9pZCAwLGMsdm9pZCAwKSxufX19LHtcIi4vdXRpbFwiOjM2fV0sMzU6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIsaSxvLHMpe2Z1bmN0aW9uIGEodCl7c2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IHR9LDApfWZ1bmN0aW9uIGModCl7dmFyIGU9cih0KTtyZXR1cm4gZSE9PXQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuX2lzRGlzcG9zYWJsZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5fZ2V0RGlzcG9zZXImJnQuX2lzRGlzcG9zYWJsZSgpJiZlLl9zZXREaXNwb3NhYmxlKHQuX2dldERpc3Bvc2VyKCkpLGV9ZnVuY3Rpb24gdSh0LG4pe2Z1bmN0aW9uIGkoKXtpZihzPj11KXJldHVybiBsLl9mdWxmaWxsKCk7dmFyIG89Yyh0W3MrK10pO2lmKG8gaW5zdGFuY2VvZiBlJiZvLl9pc0Rpc3Bvc2FibGUoKSl7dHJ5e289cihvLl9nZXREaXNwb3NlcigpLnRyeURpc3Bvc2UobiksdC5wcm9taXNlKX1jYXRjaChmKXtyZXR1cm4gYShmKX1pZihvIGluc3RhbmNlb2YgZSlyZXR1cm4gby5fdGhlbihpLGEsbnVsbCxudWxsLG51bGwpfWkoKX12YXIgcz0wLHU9dC5sZW5ndGgsbD1uZXcgZShvKTtyZXR1cm4gaSgpLGx9ZnVuY3Rpb24gbCh0LGUsbil7dGhpcy5fZGF0YT10LHRoaXMuX3Byb21pc2U9ZSx0aGlzLl9jb250ZXh0PW59ZnVuY3Rpb24gZih0LGUsbil7dGhpcy5jb25zdHJ1Y3RvciQodCxlLG4pfWZ1bmN0aW9uIHAodCl7cmV0dXJuIGwuaXNEaXNwb3Nlcih0KT8odGhpcy5yZXNvdXJjZXNbdGhpcy5pbmRleF0uX3NldERpc3Bvc2FibGUodCksdC5wcm9taXNlKCkpOnR9ZnVuY3Rpb24gaCh0KXt0aGlzLmxlbmd0aD10LHRoaXMucHJvbWlzZT1udWxsLHRoaXNbdC0xXT1udWxsfXZhciBkPXQoXCIuL3V0aWxcIiksXz10KFwiLi9lcnJvcnNcIikuVHlwZUVycm9yLHY9dChcIi4vdXRpbFwiKS5pbmhlcml0cyx5PWQuZXJyb3JPYmosbT1kLnRyeUNhdGNoLGc9e307bC5wcm90b3R5cGUuZGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfSxsLnByb3RvdHlwZS5wcm9taXNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb21pc2V9LGwucHJvdG90eXBlLnJlc291cmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvbWlzZSgpLmlzRnVsZmlsbGVkKCk/dGhpcy5wcm9taXNlKCkudmFsdWUoKTpnfSxsLnByb3RvdHlwZS50cnlEaXNwb3NlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucmVzb3VyY2UoKSxuPXRoaXMuX2NvbnRleHQ7dm9pZCAwIT09biYmbi5fcHVzaENvbnRleHQoKTt2YXIgcj1lIT09Zz90aGlzLmRvRGlzcG9zZShlLHQpOm51bGw7cmV0dXJuIHZvaWQgMCE9PW4mJm4uX3BvcENvbnRleHQoKSx0aGlzLl9wcm9taXNlLl91bnNldERpc3Bvc2FibGUoKSx0aGlzLl9kYXRhPW51bGwscn0sbC5pc0Rpc3Bvc2VyPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT10JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnJlc291cmNlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnRyeURpc3Bvc2V9LHYoZixsKSxmLnByb3RvdHlwZS5kb0Rpc3Bvc2U9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmRhdGEoKTtyZXR1cm4gbi5jYWxsKHQsdCxlKX0saC5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmxlbmd0aCxuPTA7dD5uOysrbil7dmFyIHI9dGhpc1tuXTtyIGluc3RhbmNlb2YgZSYmci5jYW5jZWwoKX19LGUudXNpbmc9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoO2lmKDI+dClyZXR1cm4gbihcInlvdSBtdXN0IHBhc3MgYXQgbGVhc3QgMiBhcmd1bWVudHMgdG8gUHJvbWlzZS51c2luZ1wiKTt2YXIgaT1hcmd1bWVudHNbdC0xXTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBpKXJldHVybiBuKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIitkLmNsYXNzU3RyaW5nKGkpKTt2YXIgbyxhPSEwOzI9PT10JiZBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSk/KG89YXJndW1lbnRzWzBdLHQ9by5sZW5ndGgsYT0hMSk6KG89YXJndW1lbnRzLHQtLSk7Zm9yKHZhciBjPW5ldyBoKHQpLGY9MDt0PmY7KytmKXt2YXIgXz1vW2ZdO2lmKGwuaXNEaXNwb3NlcihfKSl7dmFyIHY9XztfPV8ucHJvbWlzZSgpLF8uX3NldERpc3Bvc2FibGUodil9ZWxzZXt2YXIgZz1yKF8pO2cgaW5zdGFuY2VvZiBlJiYoXz1nLl90aGVuKHAsbnVsbCxudWxsLHtyZXNvdXJjZXM6YyxpbmRleDpmfSx2b2lkIDApKX1jW2ZdPV99Zm9yKHZhciBiPW5ldyBBcnJheShjLmxlbmd0aCksZj0wO2Y8Yi5sZW5ndGg7KytmKWJbZl09ZS5yZXNvbHZlKGNbZl0pLnJlZmxlY3QoKTt2YXIgdz1lLmFsbChiKS50aGVuKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7KytlKXt2YXIgbj10W2VdO2lmKG4uaXNSZWplY3RlZCgpKXJldHVybiB5LmU9bi5lcnJvcigpLHk7aWYoIW4uaXNGdWxmaWxsZWQoKSlyZXR1cm4gdm9pZCB3LmNhbmNlbCgpO3RbZV09bi52YWx1ZSgpfUUuX3B1c2hDb250ZXh0KCksaT1tKGkpO3ZhciByPWE/aS5hcHBseSh2b2lkIDAsdCk6aSh0KSxvPUUuX3BvcENvbnRleHQoKTtyZXR1cm4gcy5jaGVja0ZvcmdvdHRlblJldHVybnMocixvLFwiUHJvbWlzZS51c2luZ1wiLEUpLHJ9KSxFPXcubGFzdGx5KGZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGUuUHJvbWlzZUluc3BlY3Rpb24odyk7cmV0dXJuIHUoYyx0KX0pO3JldHVybiBjLnByb21pc2U9RSxFLl9zZXRPbkNhbmNlbChjKSxFfSxlLnByb3RvdHlwZS5fc2V0RGlzcG9zYWJsZT1mdW5jdGlvbih0KXt0aGlzLl9iaXRGaWVsZD0xMzEwNzJ8dGhpcy5fYml0RmllbGQsdGhpcy5fZGlzcG9zZXI9dH0sZS5wcm90b3R5cGUuX2lzRGlzcG9zYWJsZT1mdW5jdGlvbigpe3JldHVybigxMzEwNzImdGhpcy5fYml0RmllbGQpPjB9LGUucHJvdG90eXBlLl9nZXREaXNwb3Nlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaXNwb3Nlcn0sZS5wcm90b3R5cGUuX3Vuc2V0RGlzcG9zYWJsZT1mdW5jdGlvbigpe3RoaXMuX2JpdEZpZWxkPS0xMzEwNzMmdGhpcy5fYml0RmllbGQsdGhpcy5fZGlzcG9zZXI9dm9pZCAwfSxlLnByb3RvdHlwZS5kaXNwb3Nlcj1mdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KXJldHVybiBuZXcgZih0LHRoaXMsaSgpKTt0aHJvdyBuZXcgX319fSx7XCIuL2Vycm9yc1wiOjEyLFwiLi91dGlsXCI6MzZ9XSwzNjpbZnVuY3Rpb24odCxyLGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oKXt0cnl7dmFyIHQ9TztyZXR1cm4gTz1udWxsLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfWNhdGNoKGUpe3JldHVybiBQLmU9ZSxQfX1mdW5jdGlvbiBzKHQpe3JldHVybiBPPXQsb31mdW5jdGlvbiBhKHQpe3JldHVybiBudWxsPT10fHx0PT09ITB8fHQ9PT0hMXx8XCJzdHJpbmdcIj09dHlwZW9mIHR8fFwibnVtYmVyXCI9PXR5cGVvZiB0fWZ1bmN0aW9uIGModCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdHx8XCJvYmplY3RcIj09dHlwZW9mIHQmJm51bGwhPT10fWZ1bmN0aW9uIHUodCl7cmV0dXJuIGEodCk/bmV3IEVycm9yKG0odCkpOnR9ZnVuY3Rpb24gbCh0LGUpe3ZhciBuLHI9dC5sZW5ndGgsaT1uZXcgQXJyYXkocisxKTtmb3Iobj0wO3I+bjsrK24paVtuXT10W25dO3JldHVybiBpW25dPWUsaX1mdW5jdGlvbiBmKHQsZSxuKXtpZighVC5pc0VTNSlyZXR1cm57fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSk/dFtlXTp2b2lkIDA7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpO3JldHVybiBudWxsIT1yP251bGw9PXIuZ2V0JiZudWxsPT1yLnNldD9yLnZhbHVlOm46dm9pZCAwfWZ1bmN0aW9uIHAodCxlLG4pe2lmKGEodCkpcmV0dXJuIHQ7dmFyIHI9e3ZhbHVlOm4sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITB9O3JldHVybiBULmRlZmluZVByb3BlcnR5KHQsZSxyKSx0fWZ1bmN0aW9uIGgodCl7dGhyb3cgdH1mdW5jdGlvbiBkKHQpe3RyeXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KXt2YXIgZT1ULm5hbWVzKHQucHJvdG90eXBlKSxuPVQuaXNFUzUmJmUubGVuZ3RoPjEscj1lLmxlbmd0aD4wJiYhKDE9PT1lLmxlbmd0aCYmXCJjb25zdHJ1Y3RvclwiPT09ZVswXSksaT1ELnRlc3QodCtcIlwiKSYmVC5uYW1lcyh0KS5sZW5ndGg+MDtpZihufHxyfHxpKXJldHVybiEwfXJldHVybiExfWNhdGNoKG8pe3JldHVybiExfX1mdW5jdGlvbiBfKHQpe2Z1bmN0aW9uIGUoKXt9ZS5wcm90b3R5cGU9dDtmb3IodmFyIG49ODtuLS07KW5ldyBlO3JldHVybiB0fWZ1bmN0aW9uIHYodCl7cmV0dXJuIFUudGVzdCh0KX1mdW5jdGlvbiB5KHQsZSxuKXtmb3IodmFyIHI9bmV3IEFycmF5KHQpLGk9MDt0Pmk7KytpKXJbaV09ZStpK247cmV0dXJuIHJ9ZnVuY3Rpb24gbSh0KXt0cnl7cmV0dXJuIHQrXCJcIn1jYXRjaChlKXtyZXR1cm5cIltubyBzdHJpbmcgcmVwcmVzZW50YXRpb25dXCJ9fWZ1bmN0aW9uIGcodCl7cmV0dXJuIG51bGwhPT10JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmXCJzdHJpbmdcIj09dHlwZW9mIHQubWVzc2FnZSYmXCJzdHJpbmdcIj09dHlwZW9mIHQubmFtZX1mdW5jdGlvbiBiKHQpe3RyeXtwKHQsXCJpc09wZXJhdGlvbmFsXCIsITApfWNhdGNoKGUpe319ZnVuY3Rpb24gdyh0KXtyZXR1cm4gbnVsbD09dD8hMTp0IGluc3RhbmNlb2YgRXJyb3IuX19CbHVlYmlyZEVycm9yVHlwZXNfXy5PcGVyYXRpb25hbEVycm9yfHx0LmlzT3BlcmF0aW9uYWw9PT0hMH1mdW5jdGlvbiBFKHQpe3JldHVybiBnKHQpJiZULnByb3BlcnR5SXNXcml0YWJsZSh0LFwic3RhY2tcIil9ZnVuY3Rpb24gQyh0KXtyZXR1cm57fS50b1N0cmluZy5jYWxsKHQpfWZ1bmN0aW9uIGsodCxlLG4pe2Zvcih2YXIgcj1ULm5hbWVzKHQpLGk9MDtpPHIubGVuZ3RoOysraSl7dmFyIG89cltpXTtpZihuKG8pKXRyeXtULmRlZmluZVByb3BlcnR5KGUsbyxULmdldERlc2NyaXB0b3IodCxvKSl9Y2F0Y2gocyl7fX19ZnVuY3Rpb24gaih0LG4pe3JldHVybiBCP2UuZW52W3RdOm59ZnVuY3Rpb24geCgpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb21pc2UpdHJ5e3ZhciB0PW5ldyBQcm9taXNlKGZ1bmN0aW9uKCl7fSk7aWYoXCJbb2JqZWN0IFByb21pc2VdXCI9PT17fS50b1N0cmluZy5jYWxsKHQpKXJldHVybiBQcm9taXNlfWNhdGNoKGUpe319ZnVuY3Rpb24gRih0LGUpe3JldHVybiB0LmJpbmQoZSl9dmFyIFQ9dChcIi4vZXM1XCIpLFM9XCJ1bmRlZmluZWRcIj09dHlwZW9mIG5hdmlnYXRvcixQPXtlOnt9fSxPLFI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2Ygbj9uOnZvaWQgMCE9PXRoaXM/dGhpczpudWxsLEE9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10LHRoaXMuY29uc3RydWN0b3IkPWU7Zm9yKHZhciBuIGluIGUucHJvdG90eXBlKXIuY2FsbChlLnByb3RvdHlwZSxuKSYmXCIkXCIhPT1uLmNoYXJBdChuLmxlbmd0aC0xKSYmKHRoaXNbbitcIiRcIl09ZS5wcm90b3R5cGVbbl0pfXZhciByPXt9Lmhhc093blByb3BlcnR5O3JldHVybiBuLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgbix0LnByb3RvdHlwZX0sST1mdW5jdGlvbigpe3ZhciB0PVtBcnJheS5wcm90b3R5cGUsT2JqZWN0LnByb3RvdHlwZSxGdW5jdGlvbi5wcm90b3R5cGVdLGU9ZnVuY3Rpb24oZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDsrK24paWYodFtuXT09PWUpcmV0dXJuITA7cmV0dXJuITF9O2lmKFQuaXNFUzUpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO3JldHVybiBmdW5jdGlvbih0KXtmb3IodmFyIHI9W10saT1PYmplY3QuY3JlYXRlKG51bGwpO251bGwhPXQmJiFlKHQpOyl7dmFyIG87dHJ5e289bih0KX1jYXRjaChzKXtyZXR1cm4gcn1mb3IodmFyIGE9MDthPG8ubGVuZ3RoOysrYSl7dmFyIGM9b1thXTtpZighaVtjXSl7aVtjXT0hMDt2YXIgdT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsYyk7bnVsbCE9dSYmbnVsbD09dS5nZXQmJm51bGw9PXUuc2V0JiZyLnB1c2goYyl9fXQ9VC5nZXRQcm90b3R5cGVPZih0KX1yZXR1cm4gcn19dmFyIHI9e30uaGFzT3duUHJvcGVydHk7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKGUobikpcmV0dXJuW107dmFyIGk9W107dDpmb3IodmFyIG8gaW4gbilpZihyLmNhbGwobixvKSlpLnB1c2gobyk7ZWxzZXtmb3IodmFyIHM9MDtzPHQubGVuZ3RoOysrcylpZihyLmNhbGwodFtzXSxvKSljb250aW51ZSB0O2kucHVzaChvKX1yZXR1cm4gaX19KCksRD0vdGhpc1xccypcXC5cXHMqXFxTK1xccyo9LyxVPS9eW2EteiRfXVthLXokXzAtOV0qJC9pLE49ZnVuY3Rpb24oKXtyZXR1cm5cInN0YWNrXCJpbiBuZXcgRXJyb3I/ZnVuY3Rpb24odCl7cmV0dXJuIEUodCk/dDpuZXcgRXJyb3IobSh0KSl9OmZ1bmN0aW9uKHQpe2lmKEUodCkpcmV0dXJuIHQ7dHJ5e3Rocm93IG5ldyBFcnJvcihtKHQpKX1jYXRjaChlKXtyZXR1cm4gZX19fSgpLEw9ZnVuY3Rpb24odCl7cmV0dXJuIFQuaXNBcnJheSh0KT90Om51bGx9O2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcil7dmFyIFY9XCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXkuZnJvbT9mdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuZnJvbSh0KX06ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49W10scj10W1N5bWJvbC5pdGVyYXRvcl0oKTshKGU9ci5uZXh0KCkpLmRvbmU7KW4ucHVzaChlLnZhbHVlKTtyZXR1cm4gbn07TD1mdW5jdGlvbih0KXtyZXR1cm4gVC5pc0FycmF5KHQpP3Q6bnVsbCE9dCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdFtTeW1ib2wuaXRlcmF0b3JdP1YodCk6bnVsbH19dmFyIEI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUmJlwiW29iamVjdCBwcm9jZXNzXVwiPT09QyhlKS50b0xvd2VyQ2FzZSgpLE09e2lzQ2xhc3M6ZCxpc0lkZW50aWZpZXI6dixpbmhlcml0ZWREYXRhS2V5czpJLGdldERhdGFQcm9wZXJ0eU9yRGVmYXVsdDpmLHRocm93ZXI6aCxpc0FycmF5OlQuaXNBcnJheSxhc0FycmF5Okwsbm90RW51bWVyYWJsZVByb3A6cCxpc1ByaW1pdGl2ZTphLGlzT2JqZWN0OmMsaXNFcnJvcjpnLGNhbkV2YWx1YXRlOlMsZXJyb3JPYmo6UCx0cnlDYXRjaDpzLGluaGVyaXRzOkEsd2l0aEFwcGVuZGVkOmwsbWF5YmVXcmFwQXNFcnJvcjp1LHRvRmFzdFByb3BlcnRpZXM6XyxmaWxsZWRSYW5nZTp5LHRvU3RyaW5nOm0sY2FuQXR0YWNoVHJhY2U6RSxlbnN1cmVFcnJvck9iamVjdDpOLG9yaWdpbmF0ZXNGcm9tUmVqZWN0aW9uOncsbWFya0FzT3JpZ2luYXRpbmdGcm9tUmVqZWN0aW9uOmIsY2xhc3NTdHJpbmc6Qyxjb3B5RGVzY3JpcHRvcnM6ayxoYXNEZXZUb29sczpcInVuZGVmaW5lZFwiIT10eXBlb2YgY2hyb21lJiZjaHJvbWUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGNocm9tZS5sb2FkVGltZXMsaXNOb2RlOkIsZW52OmosZ2xvYmFsOlIsZ2V0TmF0aXZlUHJvbWlzZTp4LGRvbWFpbkJpbmQ6Rn07TS5pc1JlY2VudE5vZGU9TS5pc05vZGUmJmZ1bmN0aW9uKCl7dmFyIHQ9ZS52ZXJzaW9ucy5ub2RlLnNwbGl0KFwiLlwiKS5tYXAoTnVtYmVyKTtyZXR1cm4gMD09PXRbMF0mJnRbMV0+MTB8fHRbMF0+MH0oKSxNLmlzTm9kZSYmTS50b0Zhc3RQcm9wZXJ0aWVzKGUpO3RyeXt0aHJvdyBuZXcgRXJyb3J9Y2F0Y2goSCl7TS5sYXN0TGluZUVycm9yPUh9ci5leHBvcnRzPU19LHtcIi4vZXM1XCI6MTN9XX0se30sWzRdKSg0KX0pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJm51bGwhPT13aW5kb3c/d2luZG93LlA9d2luZG93LlByb21pc2U6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJm51bGwhPT1zZWxmJiYoc2VsZi5QPXNlbGYuUHJvbWlzZSl9KS5jYWxsKGUsbig0OCksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSxuKDQ5KS5zZXRJbW1lZGlhdGUpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXtmJiZzJiYoZj0hMSxzLmxlbmd0aD9sPXMuY29uY2F0KGwpOnA9LTEsbC5sZW5ndGgmJnIoKSl9ZnVuY3Rpb24gcigpe2lmKCFmKXt2YXIgdD1jKG4pO2Y9ITA7Zm9yKHZhciBlPWwubGVuZ3RoO2U7KXtmb3Iocz1sLGw9W107KytwPGU7KXMmJnNbcF0ucnVuKCk7cD0tMSxlPWwubGVuZ3RofXM9bnVsbCxmPSExLHUodCl9fWZ1bmN0aW9uIGkodCxlKXt0aGlzLmZ1bj10LHRoaXMuYXJyYXk9ZX1mdW5jdGlvbiBvKCl7fXZhciBzLGE9dC5leHBvcnRzPXt9LGM9c2V0VGltZW91dCx1PWNsZWFyVGltZW91dCxsPVtdLGY9ITEscD0tMTthLm5leHRUaWNrPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbi0xXT1hcmd1bWVudHNbbl07bC5wdXNoKG5ldyBpKHQsZSkpLDEhPT1sLmxlbmd0aHx8Znx8YyhyLDApfSxpLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxhLnRpdGxlPVwiYnJvd3NlclwiLGEuYnJvd3Nlcj0hMCxhLmVudj17fSxhLmFyZ3Y9W10sYS52ZXJzaW9uPVwiXCIsYS52ZXJzaW9ucz17fSxhLm9uPW8sYS5hZGRMaXN0ZW5lcj1vLGEub25jZT1vLGEub2ZmPW8sYS5yZW1vdmVMaXN0ZW5lcj1vLGEucmVtb3ZlQWxsTGlzdGVuZXJzPW8sYS5lbWl0PW8sYS5iaW5kaW5nPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkXCIpfSxhLmN3ZD1mdW5jdGlvbigpe3JldHVyblwiL1wifSxhLmNoZGlyPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX0sYS51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbih0LHIpe2Z1bmN0aW9uIGkodCxlKXt0aGlzLl9pZD10LHRoaXMuX2NsZWFyRm49ZX12YXIgbz1uKDQ4KS5uZXh0VGljayxzPUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSxhPUFycmF5LnByb3RvdHlwZS5zbGljZSxjPXt9LHU9MDtlLnNldFRpbWVvdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkocy5jYWxsKHNldFRpbWVvdXQsd2luZG93LGFyZ3VtZW50cyksY2xlYXJUaW1lb3V0KX0sZS5zZXRJbnRlcnZhbD1mdW5jdGlvbigpe3JldHVybiBuZXcgaShzLmNhbGwoc2V0SW50ZXJ2YWwsd2luZG93LGFyZ3VtZW50cyksY2xlYXJJbnRlcnZhbCl9LGUuY2xlYXJUaW1lb3V0PWUuY2xlYXJJbnRlcnZhbD1mdW5jdGlvbih0KXt0LmNsb3NlKCl9LGkucHJvdG90eXBlLnVucmVmPWkucHJvdG90eXBlLnJlZj1mdW5jdGlvbigpe30saS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckZuLmNhbGwod2luZG93LHRoaXMuX2lkKX0sZS5lbnJvbGw9ZnVuY3Rpb24odCxlKXtjbGVhclRpbWVvdXQodC5faWRsZVRpbWVvdXRJZCksdC5faWRsZVRpbWVvdXQ9ZX0sZS51bmVucm9sbD1mdW5jdGlvbih0KXtjbGVhclRpbWVvdXQodC5faWRsZVRpbWVvdXRJZCksdC5faWRsZVRpbWVvdXQ9LTF9LGUuX3VucmVmQWN0aXZlPWUuYWN0aXZlPWZ1bmN0aW9uKHQpe2NsZWFyVGltZW91dCh0Ll9pZGxlVGltZW91dElkKTt2YXIgZT10Ll9pZGxlVGltZW91dDtlPj0wJiYodC5faWRsZVRpbWVvdXRJZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5fb25UaW1lb3V0JiZ0Ll9vblRpbWVvdXQoKX0sZSkpfSxlLnNldEltbWVkaWF0ZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q6ZnVuY3Rpb24odCl7dmFyIG49dSsrLHI9YXJndW1lbnRzLmxlbmd0aDwyPyExOmEuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGNbbl09ITAsbyhmdW5jdGlvbigpe2Nbbl0mJihyP3QuYXBwbHkobnVsbCxyKTp0LmNhbGwobnVsbCksZS5jbGVhckltbWVkaWF0ZShuKSl9KSxufSxlLmNsZWFySW1tZWRpYXRlPVwiZnVuY3Rpb25cIj09dHlwZW9mIHI/cjpmdW5jdGlvbih0KXtkZWxldGUgY1t0XX19KS5jYWxsKGUsbig0OSkuc2V0SW1tZWRpYXRlLG4oNDkpLmNsZWFySW1tZWRpYXRlKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByLGk9aXx8ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7aWYoIShcInVuZGVmaW5lZFwiPT10eXBlb2YgdHx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmL01TSUUgWzEtOV1cXC4vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpKXt2YXIgZT10LmRvY3VtZW50LG49ZnVuY3Rpb24oKXtyZXR1cm4gdC5VUkx8fHQud2Via2l0VVJMfHx0fSxyPWUuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLFwiYVwiKSxpPVwiZG93bmxvYWRcImluIHIsbz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgTW91c2VFdmVudChcImNsaWNrXCIpO3QuZGlzcGF0Y2hFdmVudChlKX0scz0vY29uc3RydWN0b3IvaS50ZXN0KHQuSFRNTEVsZW1lbnQpfHx0LnNhZmFyaSxhPS9DcmlPU1xcL1tcXGRdKy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxjPWZ1bmN0aW9uKGUpeyh0LnNldEltbWVkaWF0ZXx8dC5zZXRUaW1lb3V0KShmdW5jdGlvbigpe3Rocm93IGV9LDApfSx1PVwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIsbD00ZTQsZj1mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbigpe1wic3RyaW5nXCI9PXR5cGVvZiB0P24oKS5yZXZva2VPYmplY3RVUkwodCk6dC5yZW1vdmUoKX07c2V0VGltZW91dChlLGwpfSxwPWZ1bmN0aW9uKHQsZSxuKXtlPVtdLmNvbmNhdChlKTtmb3IodmFyIHI9ZS5sZW5ndGg7ci0tOyl7dmFyIGk9dFtcIm9uXCIrZVtyXV07aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgaSl0cnl7aS5jYWxsKHQsbnx8dCl9Y2F0Y2gobyl7YyhvKX19fSxoPWZ1bmN0aW9uKHQpe3JldHVybi9eXFxzKig/OnRleHRcXC9cXFMqfGFwcGxpY2F0aW9uXFwveG1sfFxcUypcXC9cXFMqXFwreG1sKVxccyo7LipjaGFyc2V0XFxzKj1cXHMqdXRmLTgvaS50ZXN0KHQudHlwZSk/bmV3IEJsb2IoW1N0cmluZy5mcm9tQ2hhckNvZGUoNjUyNzkpLHRdLHt0eXBlOnQudHlwZX0pOnR9LGQ9ZnVuY3Rpb24oZSxjLGwpe2x8fChlPWgoZSkpO3ZhciBkLF89dGhpcyx2PWUudHlwZSx5PXY9PT11LG09ZnVuY3Rpb24oKXtwKF8sXCJ3cml0ZXN0YXJ0IHByb2dyZXNzIHdyaXRlIHdyaXRlZW5kXCIuc3BsaXQoXCIgXCIpKX0sZz1mdW5jdGlvbigpe2lmKChhfHx5JiZzKSYmdC5GaWxlUmVhZGVyKXt2YXIgcj1uZXcgRmlsZVJlYWRlcjtyZXR1cm4gci5vbmxvYWRlbmQ9ZnVuY3Rpb24oKXt2YXIgZT1hP3IucmVzdWx0OnIucmVzdWx0LnJlcGxhY2UoL15kYXRhOlteO10qOy8sXCJkYXRhOmF0dGFjaG1lbnQvZmlsZTtcIiksbj10Lm9wZW4oZSxcIl9ibGFua1wiKTtufHwodC5sb2NhdGlvbi5ocmVmPWUpLGU9dm9pZCAwLF8ucmVhZHlTdGF0ZT1fLkRPTkUsbSgpfSxyLnJlYWRBc0RhdGFVUkwoZSksdm9pZChfLnJlYWR5U3RhdGU9Xy5JTklUKX1pZihkfHwoZD1uKCkuY3JlYXRlT2JqZWN0VVJMKGUpKSx5KXQubG9jYXRpb24uaHJlZj1kO2Vsc2V7dmFyIGk9dC5vcGVuKGQsXCJfYmxhbmtcIik7aXx8KHQubG9jYXRpb24uaHJlZj1kKX1fLnJlYWR5U3RhdGU9Xy5ET05FLG0oKSxmKGQpfTtyZXR1cm4gXy5yZWFkeVN0YXRlPV8uSU5JVCxpPyhkPW4oKS5jcmVhdGVPYmplY3RVUkwoZSksdm9pZCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5ocmVmPWQsci5kb3dubG9hZD1jLG8ociksbSgpLGYoZCksXy5yZWFkeVN0YXRlPV8uRE9ORX0pKTp2b2lkIGcoKX0sXz1kLnByb3RvdHlwZSx2PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IGQodCxlfHx0Lm5hbWV8fFwiZG93bmxvYWRcIixuKX07cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2I/ZnVuY3Rpb24odCxlLG4pe3JldHVybiBlPWV8fHQubmFtZXx8XCJkb3dubG9hZFwiLG58fCh0PWgodCkpLG5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKHQsZSl9OihfLmFib3J0PWZ1bmN0aW9uKCl7fSxfLnJlYWR5U3RhdGU9Xy5JTklUPTAsXy5XUklUSU5HPTEsXy5ET05FPTIsXy5lcnJvcj1fLm9ud3JpdGVzdGFydD1fLm9ucHJvZ3Jlc3M9Xy5vbndyaXRlPV8ub25hYm9ydD1fLm9uZXJyb3I9Xy5vbndyaXRlZW5kPW51bGwsdil9fShcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZnx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93fHx0aGlzLmNvbnRlbnQpO1widW5kZWZpbmVkXCIhPXR5cGVvZiB0JiZ0LmV4cG9ydHM/dC5leHBvcnRzLnNhdmVBcz1pOm51bGwhPT1uKDUxKSYmbnVsbCE9PW4oNTIpJiYocj1mdW5jdGlvbigpe3JldHVybiBpfS5jYWxsKGUsbixlLHQpLCEodm9pZCAwIT09ciYmKHQuZXhwb3J0cz1yKSkpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcImRlZmluZSBjYW5ub3QgYmUgdXNlZCBpbmRpcmVjdFwiKX19LGZ1bmN0aW9uKHQsZSl7KGZ1bmN0aW9uKGUpe3QuZXhwb3J0cz1lfSkuY2FsbChlLHt9KX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e25hbWU6XCJlcHViLXByZXNzLWpzXCIsdmVyc2lvbjpcIjAuNS4xXCIsZGVzY3JpcHRpb246XCJKYXZhc2NyaXB0IGNsaWVudCBmb3IgYnVpbGRpbmcgYm9va3Mgd2l0aCBFcHViUHJlc3MuXCIsaG9tZXBhZ2U6XCJodHRwczovL2dpdGh1Yi5jb20vaGFyb2xkdHJlZW4vZXB1Yi1wcmVzcy1jbGllbnRzI3JlYWRtZVwiLGJhc2VVcmw6XCJodHRwczovL2VwdWIucHJlc3NcIixtYWluOlwiYnVpbGQvaW5kZXguanNcIixkaXJlY3Rvcmllczp7dGVzdHM6XCJ0ZXN0XCJ9LHNjcmlwdHM6e3Rlc3Q6XCJleHBvcnQgTk9ERV9FTlY9dGVzdCAmJiBvcGVuIGh0dHA6Ly9sb2NhbGhvc3Q6NTAwMS90ZXN0cyAmJiB3ZWJwYWNrLWRldi1zZXJ2ZXJcIixzdGFydDpcImV4cG9ydCBOT0RFX0VOVj1kZXZlbG9wbWVudCAmJiB3ZWJwYWNrIC0td2F0Y2ggLS1wcm9ncmVzcyAtLWNvbG9yXCIsYnVpbGQ6XCJleHBvcnQgTk9ERV9FTlY9ZGV2ZWxvcG1lbnQgJiYgd2VicGFja1wiLFwiYnVpbGQtcHJvZFwiOlwiZXhwb3J0IE5PREVfRU5WPXByb2R1Y3Rpb24gJiYgd2VicGFjayAtLW9wdGltaXplLW1pbmltaXplIC0tb3B0aW1pemUtZGVkdXBlXCIscHJldmVyc2lvbjpcIm5wbSBydW4tc2NyaXB0IGJ1aWxkLXByb2RcIixwcmVwdWJsaXNoOlwibnBtIHJ1biBidWlsZC1wcm9kXCJ9LHJlcG9zaXRvcnk6e3R5cGU6XCJnaXRcIix1cmw6XCJnaXQraHR0cHM6Ly9naXRodWIuY29tL2hhcm9sZHRyZWVuL2VwdWItcHJlc3MtY2xpZW50cy5naXRcIn0sa2V5d29yZHM6W1wiZXB1YlwiLFwicHVibGlzaGluZ1wiLFwicHJvZHVjdGl2aXR5XCIsXCJjbGllbnRcIixcImVwdWJwcmVzc1wiLFwiZWJvb2tzXCIsXCJjb250ZW50XCIsXCJleHRyYWN0aW9uXCJdLGF1dGhvcjpcIkVwdWJQcmVzc1wiLGxpY2Vuc2U6XCJJU0NcIixidWdzOnt1cmw6XCJodHRwczovL2dpdGh1Yi5jb20vaGFyb2xkdHJlZW4vZXB1Yi1wcmVzcy1jbGllbnRzL2lzc3Vlc1wifSxkZXZEZXBlbmRlbmNpZXM6e1wiYmFiZWwtY29yZVwiOlwiXjYuMTcuMFwiLFwiYmFiZWwtbG9hZGVyXCI6XCJeNi4yLjRcIixcImJhYmVsLXBsdWdpbi10cmFuc2Zvcm0tcnVudGltZVwiOlwiXjYuOS4wXCIsXCJiYWJlbC1wcmVzZXQtZXMyMDE1XCI6XCJeNi45LjBcIixjaGFpOlwiXjMuNS4wXCIsXCJmZXRjaC1tb2NrXCI6XCJeNS4wLjNcIixtb2NoYTpcIl4yLjUuM1wiLFwibW9jaGEtbG9hZGVyXCI6XCJeMS4wLjBcIixzaW5vbjpcImdpdCtodHRwczovL2dpdGh1Yi5jb20vc2lub25qcy9zaW5vbi5naXRcIixcInNpbm9uLWFzLXByb21pc2VkXCI6XCJeNC4wLjJcIix3ZWJwYWNrOlwiXjEuMTMuMVwifSxkZXBlbmRlbmNpZXM6e2JsdWViaXJkOlwiXjMuNC42XCIsXCJmaWxlLXNhdmVyXCI6XCJeMS4zLjNcIixcImlzb21vcnBoaWMtZmV0Y2hcIjpcIl4yLjIuMVwiLFwianNvbi1sb2FkZXJcIjpcIl4wLjUuNFwifX19LGZ1bmN0aW9uKHQsbil7dC5leHBvcnRzPWV9XSl9KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9lcHViLXByZXNzLWpzL2J1aWxkL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gNDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwiLyplc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyovXG4vKiFcbiAqIGpRdWVyeSBKYXZhU2NyaXB0IExpYnJhcnkgdjMuMS4wXG4gKiBodHRwczovL2pxdWVyeS5jb20vXG4gKlxuICogSW5jbHVkZXMgU2l6emxlLmpzXG4gKiBodHRwczovL3NpenpsZWpzLmNvbS9cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBodHRwczovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIERhdGU6IDIwMTYtMDctMDdUMjE6NDRaXG4gKi9cbiggZnVuY3Rpb24oIGdsb2JhbCwgZmFjdG9yeSApIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRpZiAoIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0Ly8gRm9yIENvbW1vbkpTIGFuZCBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB3aGVyZSBhIHByb3BlciBgd2luZG93YFxuXHRcdC8vIGlzIHByZXNlbnQsIGV4ZWN1dGUgdGhlIGZhY3RvcnkgYW5kIGdldCBqUXVlcnkuXG5cdFx0Ly8gRm9yIGVudmlyb25tZW50cyB0aGF0IGRvIG5vdCBoYXZlIGEgYHdpbmRvd2Agd2l0aCBhIGBkb2N1bWVudGBcblx0XHQvLyAoc3VjaCBhcyBOb2RlLmpzKSwgZXhwb3NlIGEgZmFjdG9yeSBhcyBtb2R1bGUuZXhwb3J0cy5cblx0XHQvLyBUaGlzIGFjY2VudHVhdGVzIHRoZSBuZWVkIGZvciB0aGUgY3JlYXRpb24gb2YgYSByZWFsIGB3aW5kb3dgLlxuXHRcdC8vIGUuZy4gdmFyIGpRdWVyeSA9IHJlcXVpcmUoXCJqcXVlcnlcIikod2luZG93KTtcblx0XHQvLyBTZWUgdGlja2V0ICMxNDU0OSBmb3IgbW9yZSBpbmZvLlxuXHRcdG1vZHVsZS5leHBvcnRzID0gZ2xvYmFsLmRvY3VtZW50ID9cblx0XHRcdGZhY3RvcnkoIGdsb2JhbCwgdHJ1ZSApIDpcblx0XHRcdGZ1bmN0aW9uKCB3ICkge1xuXHRcdFx0XHRpZiAoICF3LmRvY3VtZW50ICkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvciggXCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50XCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gZmFjdG9yeSggdyApO1xuXHRcdFx0fTtcblx0fSBlbHNlIHtcblx0XHRmYWN0b3J5KCBnbG9iYWwgKTtcblx0fVxuXG4vLyBQYXNzIHRoaXMgaWYgd2luZG93IGlzIG5vdCBkZWZpbmVkIHlldFxufSApKCB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24oIHdpbmRvdywgbm9HbG9iYWwgKSB7XG5cbi8vIEVkZ2UgPD0gMTIgLSAxMyssIEZpcmVmb3ggPD0xOCAtIDQ1KywgSUUgMTAgLSAxMSwgU2FmYXJpIDUuMSAtIDkrLCBpT1MgNiAtIDkuMVxuLy8gdGhyb3cgZXhjZXB0aW9ucyB3aGVuIG5vbi1zdHJpY3QgY29kZSAoZS5nLiwgQVNQLk5FVCA0LjUpIGFjY2Vzc2VzIHN0cmljdCBtb2RlXG4vLyBhcmd1bWVudHMuY2FsbGVlLmNhbGxlciAodHJhYy0xMzMzNSkuIEJ1dCBhcyBvZiBqUXVlcnkgMy4wICgyMDE2KSwgc3RyaWN0IG1vZGUgc2hvdWxkIGJlIGNvbW1vblxuLy8gZW5vdWdoIHRoYXQgYWxsIHN1Y2ggYXR0ZW1wdHMgYXJlIGd1YXJkZWQgaW4gYSB0cnkgYmxvY2suXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGFyciA9IFtdO1xuXG52YXIgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQ7XG5cbnZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcblxudmFyIHNsaWNlID0gYXJyLnNsaWNlO1xuXG52YXIgY29uY2F0ID0gYXJyLmNvbmNhdDtcblxudmFyIHB1c2ggPSBhcnIucHVzaDtcblxudmFyIGluZGV4T2YgPSBhcnIuaW5kZXhPZjtcblxudmFyIGNsYXNzMnR5cGUgPSB7fTtcblxudmFyIHRvU3RyaW5nID0gY2xhc3MydHlwZS50b1N0cmluZztcblxudmFyIGhhc093biA9IGNsYXNzMnR5cGUuaGFzT3duUHJvcGVydHk7XG5cbnZhciBmblRvU3RyaW5nID0gaGFzT3duLnRvU3RyaW5nO1xuXG52YXIgT2JqZWN0RnVuY3Rpb25TdHJpbmcgPSBmblRvU3RyaW5nLmNhbGwoIE9iamVjdCApO1xuXG52YXIgc3VwcG9ydCA9IHt9O1xuXG5cblxuXHRmdW5jdGlvbiBET01FdmFsKCBjb2RlLCBkb2MgKSB7XG5cdFx0ZG9jID0gZG9jIHx8IGRvY3VtZW50O1xuXG5cdFx0dmFyIHNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KCBcInNjcmlwdFwiICk7XG5cblx0XHRzY3JpcHQudGV4dCA9IGNvZGU7XG5cdFx0ZG9jLmhlYWQuYXBwZW5kQ2hpbGQoIHNjcmlwdCApLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHNjcmlwdCApO1xuXHR9XG4vKiBnbG9iYWwgU3ltYm9sICovXG4vLyBEZWZpbmluZyB0aGlzIGdsb2JhbCBpbiAuZXNsaW50cmMgd291bGQgY3JlYXRlIGEgZGFuZ2VyIG9mIHVzaW5nIHRoZSBnbG9iYWxcbi8vIHVuZ3VhcmRlZCBpbiBhbm90aGVyIHBsYWNlLCBpdCBzZWVtcyBzYWZlciB0byBkZWZpbmUgZ2xvYmFsIG9ubHkgZm9yIHRoaXMgbW9kdWxlXG5cblxuXG52YXJcblx0dmVyc2lvbiA9IFwiMy4xLjBcIixcblxuXHQvLyBEZWZpbmUgYSBsb2NhbCBjb3B5IG9mIGpRdWVyeVxuXHRqUXVlcnkgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQgKSB7XG5cblx0XHQvLyBUaGUgalF1ZXJ5IG9iamVjdCBpcyBhY3R1YWxseSBqdXN0IHRoZSBpbml0IGNvbnN0cnVjdG9yICdlbmhhbmNlZCdcblx0XHQvLyBOZWVkIGluaXQgaWYgalF1ZXJ5IGlzIGNhbGxlZCAoanVzdCBhbGxvdyBlcnJvciB0byBiZSB0aHJvd24gaWYgbm90IGluY2x1ZGVkKVxuXHRcdHJldHVybiBuZXcgalF1ZXJ5LmZuLmluaXQoIHNlbGVjdG9yLCBjb250ZXh0ICk7XG5cdH0sXG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5XG5cdC8vIE1ha2Ugc3VyZSB3ZSB0cmltIEJPTSBhbmQgTkJTUFxuXHRydHJpbSA9IC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZyxcblxuXHQvLyBNYXRjaGVzIGRhc2hlZCBzdHJpbmcgZm9yIGNhbWVsaXppbmdcblx0cm1zUHJlZml4ID0gL14tbXMtLyxcblx0cmRhc2hBbHBoYSA9IC8tKFthLXpdKS9nLFxuXG5cdC8vIFVzZWQgYnkgalF1ZXJ5LmNhbWVsQ2FzZSBhcyBjYWxsYmFjayB0byByZXBsYWNlKClcblx0ZmNhbWVsQ2FzZSA9IGZ1bmN0aW9uKCBhbGwsIGxldHRlciApIHtcblx0XHRyZXR1cm4gbGV0dGVyLnRvVXBwZXJDYXNlKCk7XG5cdH07XG5cbmpRdWVyeS5mbiA9IGpRdWVyeS5wcm90b3R5cGUgPSB7XG5cblx0Ly8gVGhlIGN1cnJlbnQgdmVyc2lvbiBvZiBqUXVlcnkgYmVpbmcgdXNlZFxuXHRqcXVlcnk6IHZlcnNpb24sXG5cblx0Y29uc3RydWN0b3I6IGpRdWVyeSxcblxuXHQvLyBUaGUgZGVmYXVsdCBsZW5ndGggb2YgYSBqUXVlcnkgb2JqZWN0IGlzIDBcblx0bGVuZ3RoOiAwLFxuXG5cdHRvQXJyYXk6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBzbGljZS5jYWxsKCB0aGlzICk7XG5cdH0sXG5cblx0Ly8gR2V0IHRoZSBOdGggZWxlbWVudCBpbiB0aGUgbWF0Y2hlZCBlbGVtZW50IHNldCBPUlxuXHQvLyBHZXQgdGhlIHdob2xlIG1hdGNoZWQgZWxlbWVudCBzZXQgYXMgYSBjbGVhbiBhcnJheVxuXHRnZXQ6IGZ1bmN0aW9uKCBudW0gKSB7XG5cdFx0cmV0dXJuIG51bSAhPSBudWxsID9cblxuXHRcdFx0Ly8gUmV0dXJuIGp1c3QgdGhlIG9uZSBlbGVtZW50IGZyb20gdGhlIHNldFxuXHRcdFx0KCBudW0gPCAwID8gdGhpc1sgbnVtICsgdGhpcy5sZW5ndGggXSA6IHRoaXNbIG51bSBdICkgOlxuXG5cdFx0XHQvLyBSZXR1cm4gYWxsIHRoZSBlbGVtZW50cyBpbiBhIGNsZWFuIGFycmF5XG5cdFx0XHRzbGljZS5jYWxsKCB0aGlzICk7XG5cdH0sXG5cblx0Ly8gVGFrZSBhbiBhcnJheSBvZiBlbGVtZW50cyBhbmQgcHVzaCBpdCBvbnRvIHRoZSBzdGFja1xuXHQvLyAocmV0dXJuaW5nIHRoZSBuZXcgbWF0Y2hlZCBlbGVtZW50IHNldClcblx0cHVzaFN0YWNrOiBmdW5jdGlvbiggZWxlbXMgKSB7XG5cblx0XHQvLyBCdWlsZCBhIG5ldyBqUXVlcnkgbWF0Y2hlZCBlbGVtZW50IHNldFxuXHRcdHZhciByZXQgPSBqUXVlcnkubWVyZ2UoIHRoaXMuY29uc3RydWN0b3IoKSwgZWxlbXMgKTtcblxuXHRcdC8vIEFkZCB0aGUgb2xkIG9iamVjdCBvbnRvIHRoZSBzdGFjayAoYXMgYSByZWZlcmVuY2UpXG5cdFx0cmV0LnByZXZPYmplY3QgPSB0aGlzO1xuXG5cdFx0Ly8gUmV0dXJuIHRoZSBuZXdseS1mb3JtZWQgZWxlbWVudCBzZXRcblx0XHRyZXR1cm4gcmV0O1xuXHR9LFxuXG5cdC8vIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZXZlcnkgZWxlbWVudCBpbiB0aGUgbWF0Y2hlZCBzZXQuXG5cdGVhY2g6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmVhY2goIHRoaXMsIGNhbGxiYWNrICk7XG5cdH0sXG5cblx0bWFwOiBmdW5jdGlvbiggY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqUXVlcnkubWFwKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgaSApIHtcblx0XHRcdHJldHVybiBjYWxsYmFjay5jYWxsKCBlbGVtLCBpLCBlbGVtICk7XG5cdFx0fSApICk7XG5cdH0sXG5cblx0c2xpY2U6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggc2xpY2UuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApICk7XG5cdH0sXG5cblx0Zmlyc3Q6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmVxKCAwICk7XG5cdH0sXG5cblx0bGFzdDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZXEoIC0xICk7XG5cdH0sXG5cblx0ZXE6IGZ1bmN0aW9uKCBpICkge1xuXHRcdHZhciBsZW4gPSB0aGlzLmxlbmd0aCxcblx0XHRcdGogPSAraSArICggaSA8IDAgPyBsZW4gOiAwICk7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqID49IDAgJiYgaiA8IGxlbiA/IFsgdGhpc1sgaiBdIF0gOiBbXSApO1xuXHR9LFxuXG5cdGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMucHJldk9iamVjdCB8fCB0aGlzLmNvbnN0cnVjdG9yKCk7XG5cdH0sXG5cblx0Ly8gRm9yIGludGVybmFsIHVzZSBvbmx5LlxuXHQvLyBCZWhhdmVzIGxpa2UgYW4gQXJyYXkncyBtZXRob2QsIG5vdCBsaWtlIGEgalF1ZXJ5IG1ldGhvZC5cblx0cHVzaDogcHVzaCxcblx0c29ydDogYXJyLnNvcnQsXG5cdHNwbGljZTogYXJyLnNwbGljZVxufTtcblxualF1ZXJ5LmV4dGVuZCA9IGpRdWVyeS5mbi5leHRlbmQgPSBmdW5jdGlvbigpIHtcblx0dmFyIG9wdGlvbnMsIG5hbWUsIHNyYywgY29weSwgY29weUlzQXJyYXksIGNsb25lLFxuXHRcdHRhcmdldCA9IGFyZ3VtZW50c1sgMCBdIHx8IHt9LFxuXHRcdGkgPSAxLFxuXHRcdGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdFx0ZGVlcCA9IGZhbHNlO1xuXG5cdC8vIEhhbmRsZSBhIGRlZXAgY29weSBzaXR1YXRpb25cblx0aWYgKCB0eXBlb2YgdGFyZ2V0ID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRkZWVwID0gdGFyZ2V0O1xuXG5cdFx0Ly8gU2tpcCB0aGUgYm9vbGVhbiBhbmQgdGhlIHRhcmdldFxuXHRcdHRhcmdldCA9IGFyZ3VtZW50c1sgaSBdIHx8IHt9O1xuXHRcdGkrKztcblx0fVxuXG5cdC8vIEhhbmRsZSBjYXNlIHdoZW4gdGFyZ2V0IGlzIGEgc3RyaW5nIG9yIHNvbWV0aGluZyAocG9zc2libGUgaW4gZGVlcCBjb3B5KVxuXHRpZiAoIHR5cGVvZiB0YXJnZXQgIT09IFwib2JqZWN0XCIgJiYgIWpRdWVyeS5pc0Z1bmN0aW9uKCB0YXJnZXQgKSApIHtcblx0XHR0YXJnZXQgPSB7fTtcblx0fVxuXG5cdC8vIEV4dGVuZCBqUXVlcnkgaXRzZWxmIGlmIG9ubHkgb25lIGFyZ3VtZW50IGlzIHBhc3NlZFxuXHRpZiAoIGkgPT09IGxlbmd0aCApIHtcblx0XHR0YXJnZXQgPSB0aGlzO1xuXHRcdGktLTtcblx0fVxuXG5cdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXG5cdFx0Ly8gT25seSBkZWFsIHdpdGggbm9uLW51bGwvdW5kZWZpbmVkIHZhbHVlc1xuXHRcdGlmICggKCBvcHRpb25zID0gYXJndW1lbnRzWyBpIF0gKSAhPSBudWxsICkge1xuXG5cdFx0XHQvLyBFeHRlbmQgdGhlIGJhc2Ugb2JqZWN0XG5cdFx0XHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0XHRcdHNyYyA9IHRhcmdldFsgbmFtZSBdO1xuXHRcdFx0XHRjb3B5ID0gb3B0aW9uc1sgbmFtZSBdO1xuXG5cdFx0XHRcdC8vIFByZXZlbnQgbmV2ZXItZW5kaW5nIGxvb3Bcblx0XHRcdFx0aWYgKCB0YXJnZXQgPT09IGNvcHkgKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZWN1cnNlIGlmIHdlJ3JlIG1lcmdpbmcgcGxhaW4gb2JqZWN0cyBvciBhcnJheXNcblx0XHRcdFx0aWYgKCBkZWVwICYmIGNvcHkgJiYgKCBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29weSApIHx8XG5cdFx0XHRcdFx0KCBjb3B5SXNBcnJheSA9IGpRdWVyeS5pc0FycmF5KCBjb3B5ICkgKSApICkge1xuXG5cdFx0XHRcdFx0aWYgKCBjb3B5SXNBcnJheSApIHtcblx0XHRcdFx0XHRcdGNvcHlJc0FycmF5ID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRjbG9uZSA9IHNyYyAmJiBqUXVlcnkuaXNBcnJheSggc3JjICkgPyBzcmMgOiBbXTtcblxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjbG9uZSA9IHNyYyAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdCggc3JjICkgPyBzcmMgOiB7fTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBOZXZlciBtb3ZlIG9yaWdpbmFsIG9iamVjdHMsIGNsb25lIHRoZW1cblx0XHRcdFx0XHR0YXJnZXRbIG5hbWUgXSA9IGpRdWVyeS5leHRlbmQoIGRlZXAsIGNsb25lLCBjb3B5ICk7XG5cblx0XHRcdFx0Ly8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlc1xuXHRcdFx0XHR9IGVsc2UgaWYgKCBjb3B5ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0dGFyZ2V0WyBuYW1lIF0gPSBjb3B5O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmV0dXJuIHRoZSBtb2RpZmllZCBvYmplY3Rcblx0cmV0dXJuIHRhcmdldDtcbn07XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHQvLyBVbmlxdWUgZm9yIGVhY2ggY29weSBvZiBqUXVlcnkgb24gdGhlIHBhZ2Vcblx0ZXhwYW5kbzogXCJqUXVlcnlcIiArICggdmVyc2lvbiArIE1hdGgucmFuZG9tKCkgKS5yZXBsYWNlKCAvXFxEL2csIFwiXCIgKSxcblxuXHQvLyBBc3N1bWUgalF1ZXJ5IGlzIHJlYWR5IHdpdGhvdXQgdGhlIHJlYWR5IG1vZHVsZVxuXHRpc1JlYWR5OiB0cnVlLFxuXG5cdGVycm9yOiBmdW5jdGlvbiggbXNnICkge1xuXHRcdHRocm93IG5ldyBFcnJvciggbXNnICk7XG5cdH0sXG5cblx0bm9vcDogZnVuY3Rpb24oKSB7fSxcblxuXHRpc0Z1bmN0aW9uOiBmdW5jdGlvbiggb2JqICkge1xuXHRcdHJldHVybiBqUXVlcnkudHlwZSggb2JqICkgPT09IFwiZnVuY3Rpb25cIjtcblx0fSxcblxuXHRpc0FycmF5OiBBcnJheS5pc0FycmF5LFxuXG5cdGlzV2luZG93OiBmdW5jdGlvbiggb2JqICkge1xuXHRcdHJldHVybiBvYmogIT0gbnVsbCAmJiBvYmogPT09IG9iai53aW5kb3c7XG5cdH0sXG5cblx0aXNOdW1lcmljOiBmdW5jdGlvbiggb2JqICkge1xuXG5cdFx0Ly8gQXMgb2YgalF1ZXJ5IDMuMCwgaXNOdW1lcmljIGlzIGxpbWl0ZWQgdG9cblx0XHQvLyBzdHJpbmdzIGFuZCBudW1iZXJzIChwcmltaXRpdmVzIG9yIG9iamVjdHMpXG5cdFx0Ly8gdGhhdCBjYW4gYmUgY29lcmNlZCB0byBmaW5pdGUgbnVtYmVycyAoZ2gtMjY2Milcblx0XHR2YXIgdHlwZSA9IGpRdWVyeS50eXBlKCBvYmogKTtcblx0XHRyZXR1cm4gKCB0eXBlID09PSBcIm51bWJlclwiIHx8IHR5cGUgPT09IFwic3RyaW5nXCIgKSAmJlxuXG5cdFx0XHQvLyBwYXJzZUZsb2F0IE5hTnMgbnVtZXJpYy1jYXN0IGZhbHNlIHBvc2l0aXZlcyAoXCJcIilcblx0XHRcdC8vIC4uLmJ1dCBtaXNpbnRlcnByZXRzIGxlYWRpbmctbnVtYmVyIHN0cmluZ3MsIHBhcnRpY3VsYXJseSBoZXggbGl0ZXJhbHMgKFwiMHguLi5cIilcblx0XHRcdC8vIHN1YnRyYWN0aW9uIGZvcmNlcyBpbmZpbml0aWVzIHRvIE5hTlxuXHRcdFx0IWlzTmFOKCBvYmogLSBwYXJzZUZsb2F0KCBvYmogKSApO1xuXHR9LFxuXG5cdGlzUGxhaW5PYmplY3Q6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0dmFyIHByb3RvLCBDdG9yO1xuXG5cdFx0Ly8gRGV0ZWN0IG9idmlvdXMgbmVnYXRpdmVzXG5cdFx0Ly8gVXNlIHRvU3RyaW5nIGluc3RlYWQgb2YgalF1ZXJ5LnR5cGUgdG8gY2F0Y2ggaG9zdCBvYmplY3RzXG5cdFx0aWYgKCAhb2JqIHx8IHRvU3RyaW5nLmNhbGwoIG9iaiApICE9PSBcIltvYmplY3QgT2JqZWN0XVwiICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHByb3RvID0gZ2V0UHJvdG8oIG9iaiApO1xuXG5cdFx0Ly8gT2JqZWN0cyB3aXRoIG5vIHByb3RvdHlwZSAoZS5nLiwgYE9iamVjdC5jcmVhdGUoIG51bGwgKWApIGFyZSBwbGFpblxuXHRcdGlmICggIXByb3RvICkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gT2JqZWN0cyB3aXRoIHByb3RvdHlwZSBhcmUgcGxhaW4gaWZmIHRoZXkgd2VyZSBjb25zdHJ1Y3RlZCBieSBhIGdsb2JhbCBPYmplY3QgZnVuY3Rpb25cblx0XHRDdG9yID0gaGFzT3duLmNhbGwoIHByb3RvLCBcImNvbnN0cnVjdG9yXCIgKSAmJiBwcm90by5jb25zdHJ1Y3Rvcjtcblx0XHRyZXR1cm4gdHlwZW9mIEN0b3IgPT09IFwiZnVuY3Rpb25cIiAmJiBmblRvU3RyaW5nLmNhbGwoIEN0b3IgKSA9PT0gT2JqZWN0RnVuY3Rpb25TdHJpbmc7XG5cdH0sXG5cblx0aXNFbXB0eU9iamVjdDogZnVuY3Rpb24oIG9iaiApIHtcblxuXHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5cdFx0Ly8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lc2xpbnQvZXNsaW50L2lzc3Vlcy82MTI1XG5cdFx0dmFyIG5hbWU7XG5cblx0XHRmb3IgKCBuYW1lIGluIG9iaiApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0dHlwZTogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRpZiAoIG9iaiA9PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIG9iaiArIFwiXCI7XG5cdFx0fVxuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTIuMyBvbmx5IChmdW5jdGlvbmlzaCBSZWdFeHApXG5cdFx0cmV0dXJuIHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIG9iaiA9PT0gXCJmdW5jdGlvblwiID9cblx0XHRcdGNsYXNzMnR5cGVbIHRvU3RyaW5nLmNhbGwoIG9iaiApIF0gfHwgXCJvYmplY3RcIiA6XG5cdFx0XHR0eXBlb2Ygb2JqO1xuXHR9LFxuXG5cdC8vIEV2YWx1YXRlcyBhIHNjcmlwdCBpbiBhIGdsb2JhbCBjb250ZXh0XG5cdGdsb2JhbEV2YWw6IGZ1bmN0aW9uKCBjb2RlICkge1xuXHRcdERPTUV2YWwoIGNvZGUgKTtcblx0fSxcblxuXHQvLyBDb252ZXJ0IGRhc2hlZCB0byBjYW1lbENhc2U7IHVzZWQgYnkgdGhlIGNzcyBhbmQgZGF0YSBtb2R1bGVzXG5cdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExLCBFZGdlIDEyIC0gMTNcblx0Ly8gTWljcm9zb2Z0IGZvcmdvdCB0byBodW1wIHRoZWlyIHZlbmRvciBwcmVmaXggKCM5NTcyKVxuXHRjYW1lbENhc2U6IGZ1bmN0aW9uKCBzdHJpbmcgKSB7XG5cdFx0cmV0dXJuIHN0cmluZy5yZXBsYWNlKCBybXNQcmVmaXgsIFwibXMtXCIgKS5yZXBsYWNlKCByZGFzaEFscGhhLCBmY2FtZWxDYXNlICk7XG5cdH0sXG5cblx0bm9kZU5hbWU6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXHR9LFxuXG5cdGVhY2g6IGZ1bmN0aW9uKCBvYmosIGNhbGxiYWNrICkge1xuXHRcdHZhciBsZW5ndGgsIGkgPSAwO1xuXG5cdFx0aWYgKCBpc0FycmF5TGlrZSggb2JqICkgKSB7XG5cdFx0XHRsZW5ndGggPSBvYmoubGVuZ3RoO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdGlmICggY2FsbGJhY2suY2FsbCggb2JqWyBpIF0sIGksIG9ialsgaSBdICkgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAoIGkgaW4gb2JqICkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrLmNhbGwoIG9ialsgaSBdLCBpLCBvYmpbIGkgXSApID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBvYmo7XG5cdH0sXG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5XG5cdHRyaW06IGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRcdHJldHVybiB0ZXh0ID09IG51bGwgP1xuXHRcdFx0XCJcIiA6XG5cdFx0XHQoIHRleHQgKyBcIlwiICkucmVwbGFjZSggcnRyaW0sIFwiXCIgKTtcblx0fSxcblxuXHQvLyByZXN1bHRzIGlzIGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5XG5cdG1ha2VBcnJheTogZnVuY3Rpb24oIGFyciwgcmVzdWx0cyApIHtcblx0XHR2YXIgcmV0ID0gcmVzdWx0cyB8fCBbXTtcblxuXHRcdGlmICggYXJyICE9IG51bGwgKSB7XG5cdFx0XHRpZiAoIGlzQXJyYXlMaWtlKCBPYmplY3QoIGFyciApICkgKSB7XG5cdFx0XHRcdGpRdWVyeS5tZXJnZSggcmV0LFxuXHRcdFx0XHRcdHR5cGVvZiBhcnIgPT09IFwic3RyaW5nXCIgP1xuXHRcdFx0XHRcdFsgYXJyIF0gOiBhcnJcblx0XHRcdFx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHB1c2guY2FsbCggcmV0LCBhcnIgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gcmV0O1xuXHR9LFxuXG5cdGluQXJyYXk6IGZ1bmN0aW9uKCBlbGVtLCBhcnIsIGkgKSB7XG5cdFx0cmV0dXJuIGFyciA9PSBudWxsID8gLTEgOiBpbmRleE9mLmNhbGwoIGFyciwgZWxlbSwgaSApO1xuXHR9LFxuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdG1lcmdlOiBmdW5jdGlvbiggZmlyc3QsIHNlY29uZCApIHtcblx0XHR2YXIgbGVuID0gK3NlY29uZC5sZW5ndGgsXG5cdFx0XHRqID0gMCxcblx0XHRcdGkgPSBmaXJzdC5sZW5ndGg7XG5cblx0XHRmb3IgKCA7IGogPCBsZW47IGorKyApIHtcblx0XHRcdGZpcnN0WyBpKysgXSA9IHNlY29uZFsgaiBdO1xuXHRcdH1cblxuXHRcdGZpcnN0Lmxlbmd0aCA9IGk7XG5cblx0XHRyZXR1cm4gZmlyc3Q7XG5cdH0sXG5cblx0Z3JlcDogZnVuY3Rpb24oIGVsZW1zLCBjYWxsYmFjaywgaW52ZXJ0ICkge1xuXHRcdHZhciBjYWxsYmFja0ludmVyc2UsXG5cdFx0XHRtYXRjaGVzID0gW10sXG5cdFx0XHRpID0gMCxcblx0XHRcdGxlbmd0aCA9IGVsZW1zLmxlbmd0aCxcblx0XHRcdGNhbGxiYWNrRXhwZWN0ID0gIWludmVydDtcblxuXHRcdC8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCBvbmx5IHNhdmluZyB0aGUgaXRlbXNcblx0XHQvLyB0aGF0IHBhc3MgdGhlIHZhbGlkYXRvciBmdW5jdGlvblxuXHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0Y2FsbGJhY2tJbnZlcnNlID0gIWNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpICk7XG5cdFx0XHRpZiAoIGNhbGxiYWNrSW52ZXJzZSAhPT0gY2FsbGJhY2tFeHBlY3QgKSB7XG5cdFx0XHRcdG1hdGNoZXMucHVzaCggZWxlbXNbIGkgXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBtYXRjaGVzO1xuXHR9LFxuXG5cdC8vIGFyZyBpcyBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seVxuXHRtYXA6IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ssIGFyZyApIHtcblx0XHR2YXIgbGVuZ3RoLCB2YWx1ZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0cmV0ID0gW107XG5cblx0XHQvLyBHbyB0aHJvdWdoIHRoZSBhcnJheSwgdHJhbnNsYXRpbmcgZWFjaCBvZiB0aGUgaXRlbXMgdG8gdGhlaXIgbmV3IHZhbHVlc1xuXHRcdGlmICggaXNBcnJheUxpa2UoIGVsZW1zICkgKSB7XG5cdFx0XHRsZW5ndGggPSBlbGVtcy5sZW5ndGg7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0dmFsdWUgPSBjYWxsYmFjayggZWxlbXNbIGkgXSwgaSwgYXJnICk7XG5cblx0XHRcdFx0aWYgKCB2YWx1ZSAhPSBudWxsICkge1xuXHRcdFx0XHRcdHJldC5wdXNoKCB2YWx1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBHbyB0aHJvdWdoIGV2ZXJ5IGtleSBvbiB0aGUgb2JqZWN0LFxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKCBpIGluIGVsZW1zICkge1xuXHRcdFx0XHR2YWx1ZSA9IGNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpLCBhcmcgKTtcblxuXHRcdFx0XHRpZiAoIHZhbHVlICE9IG51bGwgKSB7XG5cdFx0XHRcdFx0cmV0LnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBGbGF0dGVuIGFueSBuZXN0ZWQgYXJyYXlzXG5cdFx0cmV0dXJuIGNvbmNhdC5hcHBseSggW10sIHJldCApO1xuXHR9LFxuXG5cdC8vIEEgZ2xvYmFsIEdVSUQgY291bnRlciBmb3Igb2JqZWN0c1xuXHRndWlkOiAxLFxuXG5cdC8vIEJpbmQgYSBmdW5jdGlvbiB0byBhIGNvbnRleHQsIG9wdGlvbmFsbHkgcGFydGlhbGx5IGFwcGx5aW5nIGFueVxuXHQvLyBhcmd1bWVudHMuXG5cdHByb3h5OiBmdW5jdGlvbiggZm4sIGNvbnRleHQgKSB7XG5cdFx0dmFyIHRtcCwgYXJncywgcHJveHk7XG5cblx0XHRpZiAoIHR5cGVvZiBjb250ZXh0ID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0dG1wID0gZm5bIGNvbnRleHQgXTtcblx0XHRcdGNvbnRleHQgPSBmbjtcblx0XHRcdGZuID0gdG1wO1xuXHRcdH1cblxuXHRcdC8vIFF1aWNrIGNoZWNrIHRvIGRldGVybWluZSBpZiB0YXJnZXQgaXMgY2FsbGFibGUsIGluIHRoZSBzcGVjXG5cdFx0Ly8gdGhpcyB0aHJvd3MgYSBUeXBlRXJyb3IsIGJ1dCB3ZSB3aWxsIGp1c3QgcmV0dXJuIHVuZGVmaW5lZC5cblx0XHRpZiAoICFqUXVlcnkuaXNGdW5jdGlvbiggZm4gKSApIHtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Ly8gU2ltdWxhdGVkIGJpbmRcblx0XHRhcmdzID0gc2xpY2UuY2FsbCggYXJndW1lbnRzLCAyICk7XG5cdFx0cHJveHkgPSBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBmbi5hcHBseSggY29udGV4dCB8fCB0aGlzLCBhcmdzLmNvbmNhdCggc2xpY2UuY2FsbCggYXJndW1lbnRzICkgKSApO1xuXHRcdH07XG5cblx0XHQvLyBTZXQgdGhlIGd1aWQgb2YgdW5pcXVlIGhhbmRsZXIgdG8gdGhlIHNhbWUgb2Ygb3JpZ2luYWwgaGFuZGxlciwgc28gaXQgY2FuIGJlIHJlbW92ZWRcblx0XHRwcm94eS5ndWlkID0gZm4uZ3VpZCA9IGZuLmd1aWQgfHwgalF1ZXJ5Lmd1aWQrKztcblxuXHRcdHJldHVybiBwcm94eTtcblx0fSxcblxuXHRub3c6IERhdGUubm93LFxuXG5cdC8vIGpRdWVyeS5zdXBwb3J0IGlzIG5vdCB1c2VkIGluIENvcmUgYnV0IG90aGVyIHByb2plY3RzIGF0dGFjaCB0aGVpclxuXHQvLyBwcm9wZXJ0aWVzIHRvIGl0IHNvIGl0IG5lZWRzIHRvIGV4aXN0LlxuXHRzdXBwb3J0OiBzdXBwb3J0XG59ICk7XG5cbmlmICggdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICkge1xuXHRqUXVlcnkuZm5bIFN5bWJvbC5pdGVyYXRvciBdID0gYXJyWyBTeW1ib2wuaXRlcmF0b3IgXTtcbn1cblxuLy8gUG9wdWxhdGUgdGhlIGNsYXNzMnR5cGUgbWFwXG5qUXVlcnkuZWFjaCggXCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbFwiLnNwbGl0KCBcIiBcIiApLFxuZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdGNsYXNzMnR5cGVbIFwiW29iamVjdCBcIiArIG5hbWUgKyBcIl1cIiBdID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xufSApO1xuXG5mdW5jdGlvbiBpc0FycmF5TGlrZSggb2JqICkge1xuXG5cdC8vIFN1cHBvcnQ6IHJlYWwgaU9TIDguMiBvbmx5IChub3QgcmVwcm9kdWNpYmxlIGluIHNpbXVsYXRvcilcblx0Ly8gYGluYCBjaGVjayB1c2VkIHRvIHByZXZlbnQgSklUIGVycm9yIChnaC0yMTQ1KVxuXHQvLyBoYXNPd24gaXNuJ3QgdXNlZCBoZXJlIGR1ZSB0byBmYWxzZSBuZWdhdGl2ZXNcblx0Ly8gcmVnYXJkaW5nIE5vZGVsaXN0IGxlbmd0aCBpbiBJRVxuXHR2YXIgbGVuZ3RoID0gISFvYmogJiYgXCJsZW5ndGhcIiBpbiBvYmogJiYgb2JqLmxlbmd0aCxcblx0XHR0eXBlID0galF1ZXJ5LnR5cGUoIG9iaiApO1xuXG5cdGlmICggdHlwZSA9PT0gXCJmdW5jdGlvblwiIHx8IGpRdWVyeS5pc1dpbmRvdyggb2JqICkgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cmV0dXJuIHR5cGUgPT09IFwiYXJyYXlcIiB8fCBsZW5ndGggPT09IDAgfHxcblx0XHR0eXBlb2YgbGVuZ3RoID09PSBcIm51bWJlclwiICYmIGxlbmd0aCA+IDAgJiYgKCBsZW5ndGggLSAxICkgaW4gb2JqO1xufVxudmFyIFNpenpsZSA9XG4vKiFcbiAqIFNpenpsZSBDU1MgU2VsZWN0b3IgRW5naW5lIHYyLjMuMFxuICogaHR0cHM6Ly9zaXp6bGVqcy5jb20vXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIERhdGU6IDIwMTYtMDEtMDRcbiAqL1xuKGZ1bmN0aW9uKCB3aW5kb3cgKSB7XG5cbnZhciBpLFxuXHRzdXBwb3J0LFxuXHRFeHByLFxuXHRnZXRUZXh0LFxuXHRpc1hNTCxcblx0dG9rZW5pemUsXG5cdGNvbXBpbGUsXG5cdHNlbGVjdCxcblx0b3V0ZXJtb3N0Q29udGV4dCxcblx0c29ydElucHV0LFxuXHRoYXNEdXBsaWNhdGUsXG5cblx0Ly8gTG9jYWwgZG9jdW1lbnQgdmFyc1xuXHRzZXREb2N1bWVudCxcblx0ZG9jdW1lbnQsXG5cdGRvY0VsZW0sXG5cdGRvY3VtZW50SXNIVE1MLFxuXHRyYnVnZ3lRU0EsXG5cdHJidWdneU1hdGNoZXMsXG5cdG1hdGNoZXMsXG5cdGNvbnRhaW5zLFxuXG5cdC8vIEluc3RhbmNlLXNwZWNpZmljIGRhdGFcblx0ZXhwYW5kbyA9IFwic2l6emxlXCIgKyAxICogbmV3IERhdGUoKSxcblx0cHJlZmVycmVkRG9jID0gd2luZG93LmRvY3VtZW50LFxuXHRkaXJydW5zID0gMCxcblx0ZG9uZSA9IDAsXG5cdGNsYXNzQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLFxuXHR0b2tlbkNhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0Y29tcGlsZXJDYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG5cdHNvcnRPcmRlciA9IGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdGlmICggYSA9PT0gYiApIHtcblx0XHRcdGhhc0R1cGxpY2F0ZSA9IHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiAwO1xuXHR9LFxuXG5cdC8vIEluc3RhbmNlIG1ldGhvZHNcblx0aGFzT3duID0gKHt9KS5oYXNPd25Qcm9wZXJ0eSxcblx0YXJyID0gW10sXG5cdHBvcCA9IGFyci5wb3AsXG5cdHB1c2hfbmF0aXZlID0gYXJyLnB1c2gsXG5cdHB1c2ggPSBhcnIucHVzaCxcblx0c2xpY2UgPSBhcnIuc2xpY2UsXG5cdC8vIFVzZSBhIHN0cmlwcGVkLWRvd24gaW5kZXhPZiBhcyBpdCdzIGZhc3RlciB0aGFuIG5hdGl2ZVxuXHQvLyBodHRwczovL2pzcGVyZi5jb20vdGhvci1pbmRleG9mLXZzLWZvci81XG5cdGluZGV4T2YgPSBmdW5jdGlvbiggbGlzdCwgZWxlbSApIHtcblx0XHR2YXIgaSA9IDAsXG5cdFx0XHRsZW4gPSBsaXN0Lmxlbmd0aDtcblx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdGlmICggbGlzdFtpXSA9PT0gZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIGk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiAtMTtcblx0fSxcblxuXHRib29sZWFucyA9IFwiY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWRcIixcblxuXHQvLyBSZWd1bGFyIGV4cHJlc3Npb25zXG5cblx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1zZWxlY3RvcnMvI3doaXRlc3BhY2Vcblx0d2hpdGVzcGFjZSA9IFwiW1xcXFx4MjBcXFxcdFxcXFxyXFxcXG5cXFxcZl1cIixcblxuXHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyMS9zeW5kYXRhLmh0bWwjdmFsdWUtZGVmLWlkZW50aWZpZXJcblx0aWRlbnRpZmllciA9IFwiKD86XFxcXFxcXFwufFtcXFxcdy1dfFteXFwwLVxcXFx4YTBdKStcIixcblxuXHQvLyBBdHRyaWJ1dGUgc2VsZWN0b3JzOiBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2F0dHJpYnV0ZS1zZWxlY3RvcnNcblx0YXR0cmlidXRlcyA9IFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIiooXCIgKyBpZGVudGlmaWVyICsgXCIpKD86XCIgKyB3aGl0ZXNwYWNlICtcblx0XHQvLyBPcGVyYXRvciAoY2FwdHVyZSAyKVxuXHRcdFwiKihbKl4kfCF+XT89KVwiICsgd2hpdGVzcGFjZSArXG5cdFx0Ly8gXCJBdHRyaWJ1dGUgdmFsdWVzIG11c3QgYmUgQ1NTIGlkZW50aWZpZXJzIFtjYXB0dXJlIDVdIG9yIHN0cmluZ3MgW2NhcHR1cmUgMyBvciBjYXB0dXJlIDRdXCJcblx0XHRcIiooPzonKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCJ8KFwiICsgaWRlbnRpZmllciArIFwiKSl8KVwiICsgd2hpdGVzcGFjZSArXG5cdFx0XCIqXFxcXF1cIixcblxuXHRwc2V1ZG9zID0gXCI6KFwiICsgaWRlbnRpZmllciArIFwiKSg/OlxcXFwoKFwiICtcblx0XHQvLyBUbyByZWR1Y2UgdGhlIG51bWJlciBvZiBzZWxlY3RvcnMgbmVlZGluZyB0b2tlbml6ZSBpbiB0aGUgcHJlRmlsdGVyLCBwcmVmZXIgYXJndW1lbnRzOlxuXHRcdC8vIDEuIHF1b3RlZCAoY2FwdHVyZSAzOyBjYXB0dXJlIDQgb3IgY2FwdHVyZSA1KVxuXHRcdFwiKCcoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcIil8XCIgK1xuXHRcdC8vIDIuIHNpbXBsZSAoY2FwdHVyZSA2KVxuXHRcdFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcKClbXFxcXF1dfFwiICsgYXR0cmlidXRlcyArIFwiKSopfFwiICtcblx0XHQvLyAzLiBhbnl0aGluZyBlbHNlIChjYXB0dXJlIDIpXG5cdFx0XCIuKlwiICtcblx0XHRcIilcXFxcKXwpXCIsXG5cblx0Ly8gTGVhZGluZyBhbmQgbm9uLWVzY2FwZWQgdHJhaWxpbmcgd2hpdGVzcGFjZSwgY2FwdHVyaW5nIHNvbWUgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVycyBwcmVjZWRpbmcgdGhlIGxhdHRlclxuXHRyd2hpdGVzcGFjZSA9IG5ldyBSZWdFeHAoIHdoaXRlc3BhY2UgKyBcIitcIiwgXCJnXCIgKSxcblx0cnRyaW0gPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIit8KCg/Ol58W15cXFxcXFxcXF0pKD86XFxcXFxcXFwuKSopXCIgKyB3aGl0ZXNwYWNlICsgXCIrJFwiLCBcImdcIiApLFxuXG5cdHJjb21tYSA9IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKixcIiArIHdoaXRlc3BhY2UgKyBcIipcIiApLFxuXHRyY29tYmluYXRvcnMgPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIiooWz4rfl18XCIgKyB3aGl0ZXNwYWNlICsgXCIpXCIgKyB3aGl0ZXNwYWNlICsgXCIqXCIgKSxcblxuXHRyYXR0cmlidXRlUXVvdGVzID0gbmV3IFJlZ0V4cCggXCI9XCIgKyB3aGl0ZXNwYWNlICsgXCIqKFteXFxcXF0nXFxcIl0qPylcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcXVwiLCBcImdcIiApLFxuXG5cdHJwc2V1ZG8gPSBuZXcgUmVnRXhwKCBwc2V1ZG9zICksXG5cdHJpZGVudGlmaWVyID0gbmV3IFJlZ0V4cCggXCJeXCIgKyBpZGVudGlmaWVyICsgXCIkXCIgKSxcblxuXHRtYXRjaEV4cHIgPSB7XG5cdFx0XCJJRFwiOiBuZXcgUmVnRXhwKCBcIl4jKFwiICsgaWRlbnRpZmllciArIFwiKVwiICksXG5cdFx0XCJDTEFTU1wiOiBuZXcgUmVnRXhwKCBcIl5cXFxcLihcIiArIGlkZW50aWZpZXIgKyBcIilcIiApLFxuXHRcdFwiVEFHXCI6IG5ldyBSZWdFeHAoIFwiXihcIiArIGlkZW50aWZpZXIgKyBcInxbKl0pXCIgKSxcblx0XHRcIkFUVFJcIjogbmV3IFJlZ0V4cCggXCJeXCIgKyBhdHRyaWJ1dGVzICksXG5cdFx0XCJQU0VVRE9cIjogbmV3IFJlZ0V4cCggXCJeXCIgKyBwc2V1ZG9zICksXG5cdFx0XCJDSElMRFwiOiBuZXcgUmVnRXhwKCBcIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcXFwoXCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcdFwiKihldmVufG9kZHwoKFsrLV18KShcXFxcZCopbnwpXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86KFsrLV18KVwiICsgd2hpdGVzcGFjZSArXG5cdFx0XHRcIiooXFxcXGQrKXwpKVwiICsgd2hpdGVzcGFjZSArIFwiKlxcXFwpfClcIiwgXCJpXCIgKSxcblx0XHRcImJvb2xcIjogbmV3IFJlZ0V4cCggXCJeKD86XCIgKyBib29sZWFucyArIFwiKSRcIiwgXCJpXCIgKSxcblx0XHQvLyBGb3IgdXNlIGluIGxpYnJhcmllcyBpbXBsZW1lbnRpbmcgLmlzKClcblx0XHQvLyBXZSB1c2UgdGhpcyBmb3IgUE9TIG1hdGNoaW5nIGluIGBzZWxlY3RgXG5cdFx0XCJuZWVkc0NvbnRleHRcIjogbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXFxcKFwiICtcblx0XHRcdHdoaXRlc3BhY2UgKyBcIiooKD86LVxcXFxkKT9cXFxcZCopXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXCl8KSg/PVteLV18JClcIiwgXCJpXCIgKVxuXHR9LFxuXG5cdHJpbnB1dHMgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFxuXHRyaGVhZGVyID0gL15oXFxkJC9pLFxuXG5cdHJuYXRpdmUgPSAvXltee10rXFx7XFxzKlxcW25hdGl2ZSBcXHcvLFxuXG5cdC8vIEVhc2lseS1wYXJzZWFibGUvcmV0cmlldmFibGUgSUQgb3IgVEFHIG9yIENMQVNTIHNlbGVjdG9yc1xuXHRycXVpY2tFeHByID0gL14oPzojKFtcXHctXSspfChcXHcrKXxcXC4oW1xcdy1dKykpJC8sXG5cblx0cnNpYmxpbmcgPSAvWyt+XS8sXG5cblx0Ly8gQ1NTIGVzY2FwZXNcblx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMjEvc3luZGF0YS5odG1sI2VzY2FwZWQtY2hhcmFjdGVyc1xuXHRydW5lc2NhcGUgPSBuZXcgUmVnRXhwKCBcIlxcXFxcXFxcKFtcXFxcZGEtZl17MSw2fVwiICsgd2hpdGVzcGFjZSArIFwiP3woXCIgKyB3aGl0ZXNwYWNlICsgXCIpfC4pXCIsIFwiaWdcIiApLFxuXHRmdW5lc2NhcGUgPSBmdW5jdGlvbiggXywgZXNjYXBlZCwgZXNjYXBlZFdoaXRlc3BhY2UgKSB7XG5cdFx0dmFyIGhpZ2ggPSBcIjB4XCIgKyBlc2NhcGVkIC0gMHgxMDAwMDtcblx0XHQvLyBOYU4gbWVhbnMgbm9uLWNvZGVwb2ludFxuXHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3g8MjRcblx0XHQvLyBXb3JrYXJvdW5kIGVycm9uZW91cyBudW1lcmljIGludGVycHJldGF0aW9uIG9mICtcIjB4XCJcblx0XHRyZXR1cm4gaGlnaCAhPT0gaGlnaCB8fCBlc2NhcGVkV2hpdGVzcGFjZSA/XG5cdFx0XHRlc2NhcGVkIDpcblx0XHRcdGhpZ2ggPCAwID9cblx0XHRcdFx0Ly8gQk1QIGNvZGVwb2ludFxuXHRcdFx0XHRTdHJpbmcuZnJvbUNoYXJDb2RlKCBoaWdoICsgMHgxMDAwMCApIDpcblx0XHRcdFx0Ly8gU3VwcGxlbWVudGFsIFBsYW5lIGNvZGVwb2ludCAoc3Vycm9nYXRlIHBhaXIpXG5cdFx0XHRcdFN0cmluZy5mcm9tQ2hhckNvZGUoIGhpZ2ggPj4gMTAgfCAweEQ4MDAsIGhpZ2ggJiAweDNGRiB8IDB4REMwMCApO1xuXHR9LFxuXG5cdC8vIENTUyBzdHJpbmcvaWRlbnRpZmllciBzZXJpYWxpemF0aW9uXG5cdC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jY29tbW9uLXNlcmlhbGl6aW5nLWlkaW9tc1xuXHRyY3NzZXNjYXBlID0gLyhbXFwwLVxceDFmXFx4N2ZdfF4tP1xcZCl8Xi0kfFteXFx4ODAtXFx1RkZGRlxcdy1dL2csXG5cdGZjc3Nlc2NhcGUgPSBmdW5jdGlvbiggY2gsIGFzQ29kZVBvaW50ICkge1xuXHRcdGlmICggYXNDb2RlUG9pbnQgKSB7XG5cblx0XHRcdC8vIFUrMDAwMCBOVUxMIGJlY29tZXMgVStGRkZEIFJFUExBQ0VNRU5UIENIQVJBQ1RFUlxuXHRcdFx0aWYgKCBjaCA9PT0gXCJcXDBcIiApIHtcblx0XHRcdFx0cmV0dXJuIFwiXFx1RkZGRFwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb250cm9sIGNoYXJhY3RlcnMgYW5kIChkZXBlbmRlbnQgdXBvbiBwb3NpdGlvbikgbnVtYmVycyBnZXQgZXNjYXBlZCBhcyBjb2RlIHBvaW50c1xuXHRcdFx0cmV0dXJuIGNoLnNsaWNlKCAwLCAtMSApICsgXCJcXFxcXCIgKyBjaC5jaGFyQ29kZUF0KCBjaC5sZW5ndGggLSAxICkudG9TdHJpbmcoIDE2ICkgKyBcIiBcIjtcblx0XHR9XG5cblx0XHQvLyBPdGhlciBwb3RlbnRpYWxseS1zcGVjaWFsIEFTQ0lJIGNoYXJhY3RlcnMgZ2V0IGJhY2tzbGFzaC1lc2NhcGVkXG5cdFx0cmV0dXJuIFwiXFxcXFwiICsgY2g7XG5cdH0sXG5cblx0Ly8gVXNlZCBmb3IgaWZyYW1lc1xuXHQvLyBTZWUgc2V0RG9jdW1lbnQoKVxuXHQvLyBSZW1vdmluZyB0aGUgZnVuY3Rpb24gd3JhcHBlciBjYXVzZXMgYSBcIlBlcm1pc3Npb24gRGVuaWVkXCJcblx0Ly8gZXJyb3IgaW4gSUVcblx0dW5sb2FkSGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuXHRcdHNldERvY3VtZW50KCk7XG5cdH0sXG5cblx0ZGlzYWJsZWRBbmNlc3RvciA9IGFkZENvbWJpbmF0b3IoXG5cdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gdHJ1ZTtcblx0XHR9LFxuXHRcdHsgZGlyOiBcInBhcmVudE5vZGVcIiwgbmV4dDogXCJsZWdlbmRcIiB9XG5cdCk7XG5cbi8vIE9wdGltaXplIGZvciBwdXNoLmFwcGx5KCBfLCBOb2RlTGlzdCApXG50cnkge1xuXHRwdXNoLmFwcGx5KFxuXHRcdChhcnIgPSBzbGljZS5jYWxsKCBwcmVmZXJyZWREb2MuY2hpbGROb2RlcyApKSxcblx0XHRwcmVmZXJyZWREb2MuY2hpbGROb2Rlc1xuXHQpO1xuXHQvLyBTdXBwb3J0OiBBbmRyb2lkPDQuMFxuXHQvLyBEZXRlY3Qgc2lsZW50bHkgZmFpbGluZyBwdXNoLmFwcGx5XG5cdGFyclsgcHJlZmVycmVkRG9jLmNoaWxkTm9kZXMubGVuZ3RoIF0ubm9kZVR5cGU7XG59IGNhdGNoICggZSApIHtcblx0cHVzaCA9IHsgYXBwbHk6IGFyci5sZW5ndGggP1xuXG5cdFx0Ly8gTGV2ZXJhZ2Ugc2xpY2UgaWYgcG9zc2libGVcblx0XHRmdW5jdGlvbiggdGFyZ2V0LCBlbHMgKSB7XG5cdFx0XHRwdXNoX25hdGl2ZS5hcHBseSggdGFyZ2V0LCBzbGljZS5jYWxsKGVscykgKTtcblx0XHR9IDpcblxuXHRcdC8vIFN1cHBvcnQ6IElFPDlcblx0XHQvLyBPdGhlcndpc2UgYXBwZW5kIGRpcmVjdGx5XG5cdFx0ZnVuY3Rpb24oIHRhcmdldCwgZWxzICkge1xuXHRcdFx0dmFyIGogPSB0YXJnZXQubGVuZ3RoLFxuXHRcdFx0XHRpID0gMDtcblx0XHRcdC8vIENhbid0IHRydXN0IE5vZGVMaXN0Lmxlbmd0aFxuXHRcdFx0d2hpbGUgKCAodGFyZ2V0W2orK10gPSBlbHNbaSsrXSkgKSB7fVxuXHRcdFx0dGFyZ2V0Lmxlbmd0aCA9IGogLSAxO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gU2l6emxlKCBzZWxlY3RvciwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApIHtcblx0dmFyIG0sIGksIGVsZW0sIG5pZCwgbWF0Y2gsIGdyb3VwcywgbmV3U2VsZWN0b3IsXG5cdFx0bmV3Q29udGV4dCA9IGNvbnRleHQgJiYgY29udGV4dC5vd25lckRvY3VtZW50LFxuXG5cdFx0Ly8gbm9kZVR5cGUgZGVmYXVsdHMgdG8gOSwgc2luY2UgY29udGV4dCBkZWZhdWx0cyB0byBkb2N1bWVudFxuXHRcdG5vZGVUeXBlID0gY29udGV4dCA/IGNvbnRleHQubm9kZVR5cGUgOiA5O1xuXG5cdHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xuXG5cdC8vIFJldHVybiBlYXJseSBmcm9tIGNhbGxzIHdpdGggaW52YWxpZCBzZWxlY3RvciBvciBjb250ZXh0XG5cdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiIHx8ICFzZWxlY3RvciB8fFxuXHRcdG5vZGVUeXBlICE9PSAxICYmIG5vZGVUeXBlICE9PSA5ICYmIG5vZGVUeXBlICE9PSAxMSApIHtcblxuXHRcdHJldHVybiByZXN1bHRzO1xuXHR9XG5cblx0Ly8gVHJ5IHRvIHNob3J0Y3V0IGZpbmQgb3BlcmF0aW9ucyAoYXMgb3Bwb3NlZCB0byBmaWx0ZXJzKSBpbiBIVE1MIGRvY3VtZW50c1xuXHRpZiAoICFzZWVkICkge1xuXG5cdFx0aWYgKCAoIGNvbnRleHQgPyBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCA6IHByZWZlcnJlZERvYyApICE9PSBkb2N1bWVudCApIHtcblx0XHRcdHNldERvY3VtZW50KCBjb250ZXh0ICk7XG5cdFx0fVxuXHRcdGNvbnRleHQgPSBjb250ZXh0IHx8IGRvY3VtZW50O1xuXG5cdFx0aWYgKCBkb2N1bWVudElzSFRNTCApIHtcblxuXHRcdFx0Ly8gSWYgdGhlIHNlbGVjdG9yIGlzIHN1ZmZpY2llbnRseSBzaW1wbGUsIHRyeSB1c2luZyBhIFwiZ2V0KkJ5KlwiIERPTSBtZXRob2Rcblx0XHRcdC8vIChleGNlcHRpbmcgRG9jdW1lbnRGcmFnbWVudCBjb250ZXh0LCB3aGVyZSB0aGUgbWV0aG9kcyBkb24ndCBleGlzdClcblx0XHRcdGlmICggbm9kZVR5cGUgIT09IDExICYmIChtYXRjaCA9IHJxdWlja0V4cHIuZXhlYyggc2VsZWN0b3IgKSkgKSB7XG5cblx0XHRcdFx0Ly8gSUQgc2VsZWN0b3Jcblx0XHRcdFx0aWYgKCAobSA9IG1hdGNoWzFdKSApIHtcblxuXHRcdFx0XHRcdC8vIERvY3VtZW50IGNvbnRleHRcblx0XHRcdFx0XHRpZiAoIG5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIG0gKSkgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUsIE9wZXJhLCBXZWJraXRcblx0XHRcdFx0XHRcdFx0Ly8gVE9ETzogaWRlbnRpZnkgdmVyc2lvbnNcblx0XHRcdFx0XHRcdFx0Ly8gZ2V0RWxlbWVudEJ5SWQgY2FuIG1hdGNoIGVsZW1lbnRzIGJ5IG5hbWUgaW5zdGVhZCBvZiBJRFxuXHRcdFx0XHRcdFx0XHRpZiAoIGVsZW0uaWQgPT09IG0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmVzdWx0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gRWxlbWVudCBjb250ZXh0XG5cdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUsIE9wZXJhLCBXZWJraXRcblx0XHRcdFx0XHRcdC8vIFRPRE86IGlkZW50aWZ5IHZlcnNpb25zXG5cdFx0XHRcdFx0XHQvLyBnZXRFbGVtZW50QnlJZCBjYW4gbWF0Y2ggZWxlbWVudHMgYnkgbmFtZSBpbnN0ZWFkIG9mIElEXG5cdFx0XHRcdFx0XHRpZiAoIG5ld0NvbnRleHQgJiYgKGVsZW0gPSBuZXdDb250ZXh0LmdldEVsZW1lbnRCeUlkKCBtICkpICYmXG5cdFx0XHRcdFx0XHRcdGNvbnRhaW5zKCBjb250ZXh0LCBlbGVtICkgJiZcblx0XHRcdFx0XHRcdFx0ZWxlbS5pZCA9PT0gbSApIHtcblxuXHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFR5cGUgc2VsZWN0b3Jcblx0XHRcdFx0fSBlbHNlIGlmICggbWF0Y2hbMl0gKSB7XG5cdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggc2VsZWN0b3IgKSApO1xuXHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXG5cdFx0XHRcdC8vIENsYXNzIHNlbGVjdG9yXG5cdFx0XHRcdH0gZWxzZSBpZiAoIChtID0gbWF0Y2hbM10pICYmIHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAmJlxuXHRcdFx0XHRcdGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSApIHtcblxuXHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggbSApICk7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gVGFrZSBhZHZhbnRhZ2Ugb2YgcXVlcnlTZWxlY3RvckFsbFxuXHRcdFx0aWYgKCBzdXBwb3J0LnFzYSAmJlxuXHRcdFx0XHQhY29tcGlsZXJDYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdICYmXG5cdFx0XHRcdCghcmJ1Z2d5UVNBIHx8ICFyYnVnZ3lRU0EudGVzdCggc2VsZWN0b3IgKSkgKSB7XG5cblx0XHRcdFx0aWYgKCBub2RlVHlwZSAhPT0gMSApIHtcblx0XHRcdFx0XHRuZXdDb250ZXh0ID0gY29udGV4dDtcblx0XHRcdFx0XHRuZXdTZWxlY3RvciA9IHNlbGVjdG9yO1xuXG5cdFx0XHRcdC8vIHFTQSBsb29rcyBvdXRzaWRlIEVsZW1lbnQgY29udGV4dCwgd2hpY2ggaXMgbm90IHdoYXQgd2Ugd2FudFxuXHRcdFx0XHQvLyBUaGFua3MgdG8gQW5kcmV3IER1cG9udCBmb3IgdGhpcyB3b3JrYXJvdW5kIHRlY2huaXF1ZVxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PThcblx0XHRcdFx0Ly8gRXhjbHVkZSBvYmplY3QgZWxlbWVudHNcblx0XHRcdFx0fSBlbHNlIGlmICggY29udGV4dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSBcIm9iamVjdFwiICkge1xuXG5cdFx0XHRcdFx0Ly8gQ2FwdHVyZSB0aGUgY29udGV4dCBJRCwgc2V0dGluZyBpdCBmaXJzdCBpZiBuZWNlc3Nhcnlcblx0XHRcdFx0XHRpZiAoIChuaWQgPSBjb250ZXh0LmdldEF0dHJpYnV0ZSggXCJpZFwiICkpICkge1xuXHRcdFx0XHRcdFx0bmlkID0gbmlkLnJlcGxhY2UoIHJjc3Nlc2NhcGUsIGZjc3Nlc2NhcGUgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Y29udGV4dC5zZXRBdHRyaWJ1dGUoIFwiaWRcIiwgKG5pZCA9IGV4cGFuZG8pICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gUHJlZml4IGV2ZXJ5IHNlbGVjdG9yIGluIHRoZSBsaXN0XG5cdFx0XHRcdFx0Z3JvdXBzID0gdG9rZW5pemUoIHNlbGVjdG9yICk7XG5cdFx0XHRcdFx0aSA9IGdyb3Vwcy5sZW5ndGg7XG5cdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRncm91cHNbaV0gPSBcIiNcIiArIG5pZCArIFwiIFwiICsgdG9TZWxlY3RvciggZ3JvdXBzW2ldICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG5ld1NlbGVjdG9yID0gZ3JvdXBzLmpvaW4oIFwiLFwiICk7XG5cblx0XHRcdFx0XHQvLyBFeHBhbmQgY29udGV4dCBmb3Igc2libGluZyBzZWxlY3RvcnNcblx0XHRcdFx0XHRuZXdDb250ZXh0ID0gcnNpYmxpbmcudGVzdCggc2VsZWN0b3IgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHxcblx0XHRcdFx0XHRcdGNvbnRleHQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIG5ld1NlbGVjdG9yICkge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLFxuXHRcdFx0XHRcdFx0XHRuZXdDb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIG5ld1NlbGVjdG9yIClcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHR9IGNhdGNoICggcXNhRXJyb3IgKSB7XG5cdFx0XHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0XHRcdGlmICggbmlkID09PSBleHBhbmRvICkge1xuXHRcdFx0XHRcdFx0XHRjb250ZXh0LnJlbW92ZUF0dHJpYnV0ZSggXCJpZFwiICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gQWxsIG90aGVyc1xuXHRyZXR1cm4gc2VsZWN0KCBzZWxlY3Rvci5yZXBsYWNlKCBydHJpbSwgXCIkMVwiICksIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUga2V5LXZhbHVlIGNhY2hlcyBvZiBsaW1pdGVkIHNpemVcbiAqIEByZXR1cm5zIHtmdW5jdGlvbihzdHJpbmcsIG9iamVjdCl9IFJldHVybnMgdGhlIE9iamVjdCBkYXRhIGFmdGVyIHN0b3JpbmcgaXQgb24gaXRzZWxmIHdpdGhcbiAqXHRwcm9wZXJ0eSBuYW1lIHRoZSAoc3BhY2Utc3VmZml4ZWQpIHN0cmluZyBhbmQgKGlmIHRoZSBjYWNoZSBpcyBsYXJnZXIgdGhhbiBFeHByLmNhY2hlTGVuZ3RoKVxuICpcdGRlbGV0aW5nIHRoZSBvbGRlc3QgZW50cnlcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ2FjaGUoKSB7XG5cdHZhciBrZXlzID0gW107XG5cblx0ZnVuY3Rpb24gY2FjaGUoIGtleSwgdmFsdWUgKSB7XG5cdFx0Ly8gVXNlIChrZXkgKyBcIiBcIikgdG8gYXZvaWQgY29sbGlzaW9uIHdpdGggbmF0aXZlIHByb3RvdHlwZSBwcm9wZXJ0aWVzIChzZWUgSXNzdWUgIzE1Nylcblx0XHRpZiAoIGtleXMucHVzaCgga2V5ICsgXCIgXCIgKSA+IEV4cHIuY2FjaGVMZW5ndGggKSB7XG5cdFx0XHQvLyBPbmx5IGtlZXAgdGhlIG1vc3QgcmVjZW50IGVudHJpZXNcblx0XHRcdGRlbGV0ZSBjYWNoZVsga2V5cy5zaGlmdCgpIF07XG5cdFx0fVxuXHRcdHJldHVybiAoY2FjaGVbIGtleSArIFwiIFwiIF0gPSB2YWx1ZSk7XG5cdH1cblx0cmV0dXJuIGNhY2hlO1xufVxuXG4vKipcbiAqIE1hcmsgYSBmdW5jdGlvbiBmb3Igc3BlY2lhbCB1c2UgYnkgU2l6emxlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gbWFya1xuICovXG5mdW5jdGlvbiBtYXJrRnVuY3Rpb24oIGZuICkge1xuXHRmblsgZXhwYW5kbyBdID0gdHJ1ZTtcblx0cmV0dXJuIGZuO1xufVxuXG4vKipcbiAqIFN1cHBvcnQgdGVzdGluZyB1c2luZyBhbiBlbGVtZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBQYXNzZWQgdGhlIGNyZWF0ZWQgZWxlbWVudCBhbmQgcmV0dXJucyBhIGJvb2xlYW4gcmVzdWx0XG4gKi9cbmZ1bmN0aW9uIGFzc2VydCggZm4gKSB7XG5cdHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmaWVsZHNldFwiKTtcblxuXHR0cnkge1xuXHRcdHJldHVybiAhIWZuKCBlbCApO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9IGZpbmFsbHkge1xuXHRcdC8vIFJlbW92ZSBmcm9tIGl0cyBwYXJlbnQgYnkgZGVmYXVsdFxuXHRcdGlmICggZWwucGFyZW50Tm9kZSApIHtcblx0XHRcdGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIGVsICk7XG5cdFx0fVxuXHRcdC8vIHJlbGVhc2UgbWVtb3J5IGluIElFXG5cdFx0ZWwgPSBudWxsO1xuXHR9XG59XG5cbi8qKlxuICogQWRkcyB0aGUgc2FtZSBoYW5kbGVyIGZvciBhbGwgb2YgdGhlIHNwZWNpZmllZCBhdHRyc1xuICogQHBhcmFtIHtTdHJpbmd9IGF0dHJzIFBpcGUtc2VwYXJhdGVkIGxpc3Qgb2YgYXR0cmlidXRlc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciBUaGUgbWV0aG9kIHRoYXQgd2lsbCBiZSBhcHBsaWVkXG4gKi9cbmZ1bmN0aW9uIGFkZEhhbmRsZSggYXR0cnMsIGhhbmRsZXIgKSB7XG5cdHZhciBhcnIgPSBhdHRycy5zcGxpdChcInxcIiksXG5cdFx0aSA9IGFyci5sZW5ndGg7XG5cblx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0RXhwci5hdHRySGFuZGxlWyBhcnJbaV0gXSA9IGhhbmRsZXI7XG5cdH1cbn1cblxuLyoqXG4gKiBDaGVja3MgZG9jdW1lbnQgb3JkZXIgb2YgdHdvIHNpYmxpbmdzXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGFcbiAqIEBwYXJhbSB7RWxlbWVudH0gYlxuICogQHJldHVybnMge051bWJlcn0gUmV0dXJucyBsZXNzIHRoYW4gMCBpZiBhIHByZWNlZGVzIGIsIGdyZWF0ZXIgdGhhbiAwIGlmIGEgZm9sbG93cyBiXG4gKi9cbmZ1bmN0aW9uIHNpYmxpbmdDaGVjayggYSwgYiApIHtcblx0dmFyIGN1ciA9IGIgJiYgYSxcblx0XHRkaWZmID0gY3VyICYmIGEubm9kZVR5cGUgPT09IDEgJiYgYi5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0YS5zb3VyY2VJbmRleCAtIGIuc291cmNlSW5kZXg7XG5cblx0Ly8gVXNlIElFIHNvdXJjZUluZGV4IGlmIGF2YWlsYWJsZSBvbiBib3RoIG5vZGVzXG5cdGlmICggZGlmZiApIHtcblx0XHRyZXR1cm4gZGlmZjtcblx0fVxuXG5cdC8vIENoZWNrIGlmIGIgZm9sbG93cyBhXG5cdGlmICggY3VyICkge1xuXHRcdHdoaWxlICggKGN1ciA9IGN1ci5uZXh0U2libGluZykgKSB7XG5cdFx0XHRpZiAoIGN1ciA9PT0gYiApIHtcblx0XHRcdFx0cmV0dXJuIC0xO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBhID8gMSA6IC0xO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgaW5wdXQgdHlwZXNcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUlucHV0UHNldWRvKCB0eXBlICkge1xuXHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0cmV0dXJuIG5hbWUgPT09IFwiaW5wdXRcIiAmJiBlbGVtLnR5cGUgPT09IHR5cGU7XG5cdH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBidXR0b25zXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICovXG5mdW5jdGlvbiBjcmVhdGVCdXR0b25Qc2V1ZG8oIHR5cGUgKSB7XG5cdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHR2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRyZXR1cm4gKG5hbWUgPT09IFwiaW5wdXRcIiB8fCBuYW1lID09PSBcImJ1dHRvblwiKSAmJiBlbGVtLnR5cGUgPT09IHR5cGU7XG5cdH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciA6ZW5hYmxlZC86ZGlzYWJsZWRcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZGlzYWJsZWQgdHJ1ZSBmb3IgOmRpc2FibGVkOyBmYWxzZSBmb3IgOmVuYWJsZWRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRGlzYWJsZWRQc2V1ZG8oIGRpc2FibGVkICkge1xuXHQvLyBLbm93biA6ZGlzYWJsZWQgZmFsc2UgcG9zaXRpdmVzOlxuXHQvLyBJRTogKltkaXNhYmxlZF06bm90KGJ1dHRvbiwgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIG9wdGdyb3VwLCBvcHRpb24sIG1lbnVpdGVtLCBmaWVsZHNldClcblx0Ly8gbm90IElFOiBmaWVsZHNldFtkaXNhYmxlZF0gPiBsZWdlbmQ6bnRoLW9mLXR5cGUobisyKSA6Y2FuLWRpc2FibGVcblx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0Ly8gQ2hlY2sgZm9ybSBlbGVtZW50cyBhbmQgb3B0aW9uIGVsZW1lbnRzIGZvciBleHBsaWNpdCBkaXNhYmxpbmdcblx0XHRyZXR1cm4gXCJsYWJlbFwiIGluIGVsZW0gJiYgZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQgfHxcblx0XHRcdFwiZm9ybVwiIGluIGVsZW0gJiYgZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQgfHxcblxuXHRcdFx0Ly8gQ2hlY2sgbm9uLWRpc2FibGVkIGZvcm0gZWxlbWVudHMgZm9yIGZpZWxkc2V0W2Rpc2FibGVkXSBhbmNlc3RvcnNcblx0XHRcdFwiZm9ybVwiIGluIGVsZW0gJiYgZWxlbS5kaXNhYmxlZCA9PT0gZmFsc2UgJiYgKFxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRTYtMTErXG5cdFx0XHRcdC8vIEFuY2VzdHJ5IGlzIGNvdmVyZWQgZm9yIHVzXG5cdFx0XHRcdGVsZW0uaXNEaXNhYmxlZCA9PT0gZGlzYWJsZWQgfHxcblxuXHRcdFx0XHQvLyBPdGhlcndpc2UsIGFzc3VtZSBhbnkgbm9uLTxvcHRpb24+IHVuZGVyIGZpZWxkc2V0W2Rpc2FibGVkXSBpcyBkaXNhYmxlZFxuXHRcdFx0XHQvKiBqc2hpbnQgLVcwMTggKi9cblx0XHRcdFx0ZWxlbS5pc0Rpc2FibGVkICE9PSAhZGlzYWJsZWQgJiZcblx0XHRcdFx0XHQoXCJsYWJlbFwiIGluIGVsZW0gfHwgIWRpc2FibGVkQW5jZXN0b3IoIGVsZW0gKSkgIT09IGRpc2FibGVkXG5cdFx0XHQpO1xuXHR9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgcG9zaXRpb25hbHNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZuICkge1xuXHRyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBhcmd1bWVudCApIHtcblx0XHRhcmd1bWVudCA9ICthcmd1bWVudDtcblx0XHRyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzICkge1xuXHRcdFx0dmFyIGosXG5cdFx0XHRcdG1hdGNoSW5kZXhlcyA9IGZuKCBbXSwgc2VlZC5sZW5ndGgsIGFyZ3VtZW50ICksXG5cdFx0XHRcdGkgPSBtYXRjaEluZGV4ZXMubGVuZ3RoO1xuXG5cdFx0XHQvLyBNYXRjaCBlbGVtZW50cyBmb3VuZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4ZXNcblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRpZiAoIHNlZWRbIChqID0gbWF0Y2hJbmRleGVzW2ldKSBdICkge1xuXHRcdFx0XHRcdHNlZWRbal0gPSAhKG1hdGNoZXNbal0gPSBzZWVkW2pdKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgYSBub2RlIGZvciB2YWxpZGl0eSBhcyBhIFNpenpsZSBjb250ZXh0XG4gKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0PX0gY29udGV4dFxuICogQHJldHVybnMge0VsZW1lbnR8T2JqZWN0fEJvb2xlYW59IFRoZSBpbnB1dCBub2RlIGlmIGFjY2VwdGFibGUsIG90aGVyd2lzZSBhIGZhbHN5IHZhbHVlXG4gKi9cbmZ1bmN0aW9uIHRlc3RDb250ZXh0KCBjb250ZXh0ICkge1xuXHRyZXR1cm4gY29udGV4dCAmJiB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBjb250ZXh0O1xufVxuXG4vLyBFeHBvc2Ugc3VwcG9ydCB2YXJzIGZvciBjb252ZW5pZW5jZVxuc3VwcG9ydCA9IFNpenpsZS5zdXBwb3J0ID0ge307XG5cbi8qKlxuICogRGV0ZWN0cyBYTUwgbm9kZXNcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IGVsZW0gQW4gZWxlbWVudCBvciBhIGRvY3VtZW50XG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZmYgZWxlbSBpcyBhIG5vbi1IVE1MIFhNTCBub2RlXG4gKi9cbmlzWE1MID0gU2l6emxlLmlzWE1MID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdC8vIGRvY3VtZW50RWxlbWVudCBpcyB2ZXJpZmllZCBmb3IgY2FzZXMgd2hlcmUgaXQgZG9lc24ndCB5ZXQgZXhpc3Rcblx0Ly8gKHN1Y2ggYXMgbG9hZGluZyBpZnJhbWVzIGluIElFIC0gIzQ4MzMpXG5cdHZhciBkb2N1bWVudEVsZW1lbnQgPSBlbGVtICYmIChlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSkuZG9jdW1lbnRFbGVtZW50O1xuXHRyZXR1cm4gZG9jdW1lbnRFbGVtZW50ID8gZG9jdW1lbnRFbGVtZW50Lm5vZGVOYW1lICE9PSBcIkhUTUxcIiA6IGZhbHNlO1xufTtcblxuLyoqXG4gKiBTZXRzIGRvY3VtZW50LXJlbGF0ZWQgdmFyaWFibGVzIG9uY2UgYmFzZWQgb24gdGhlIGN1cnJlbnQgZG9jdW1lbnRcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IFtkb2NdIEFuIGVsZW1lbnQgb3IgZG9jdW1lbnQgb2JqZWN0IHRvIHVzZSB0byBzZXQgdGhlIGRvY3VtZW50XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjdXJyZW50IGRvY3VtZW50XG4gKi9cbnNldERvY3VtZW50ID0gU2l6emxlLnNldERvY3VtZW50ID0gZnVuY3Rpb24oIG5vZGUgKSB7XG5cdHZhciBoYXNDb21wYXJlLCBzdWJXaW5kb3csXG5cdFx0ZG9jID0gbm9kZSA/IG5vZGUub3duZXJEb2N1bWVudCB8fCBub2RlIDogcHJlZmVycmVkRG9jO1xuXG5cdC8vIFJldHVybiBlYXJseSBpZiBkb2MgaXMgaW52YWxpZCBvciBhbHJlYWR5IHNlbGVjdGVkXG5cdGlmICggZG9jID09PSBkb2N1bWVudCB8fCBkb2Mubm9kZVR5cGUgIT09IDkgfHwgIWRvYy5kb2N1bWVudEVsZW1lbnQgKSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50O1xuXHR9XG5cblx0Ly8gVXBkYXRlIGdsb2JhbCB2YXJpYWJsZXNcblx0ZG9jdW1lbnQgPSBkb2M7XG5cdGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cdGRvY3VtZW50SXNIVE1MID0gIWlzWE1MKCBkb2N1bWVudCApO1xuXG5cdC8vIFN1cHBvcnQ6IElFIDktMTEsIEVkZ2Vcblx0Ly8gQWNjZXNzaW5nIGlmcmFtZSBkb2N1bWVudHMgYWZ0ZXIgdW5sb2FkIHRocm93cyBcInBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3JzIChqUXVlcnkgIzEzOTM2KVxuXHRpZiAoIHByZWZlcnJlZERvYyAhPT0gZG9jdW1lbnQgJiZcblx0XHQoc3ViV2luZG93ID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcpICYmIHN1YldpbmRvdy50b3AgIT09IHN1YldpbmRvdyApIHtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDExLCBFZGdlXG5cdFx0aWYgKCBzdWJXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lciApIHtcblx0XHRcdHN1YldpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBcInVubG9hZFwiLCB1bmxvYWRIYW5kbGVyLCBmYWxzZSApO1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgOSAtIDEwIG9ubHlcblx0XHR9IGVsc2UgaWYgKCBzdWJXaW5kb3cuYXR0YWNoRXZlbnQgKSB7XG5cdFx0XHRzdWJXaW5kb3cuYXR0YWNoRXZlbnQoIFwib251bmxvYWRcIiwgdW5sb2FkSGFuZGxlciApO1xuXHRcdH1cblx0fVxuXG5cdC8qIEF0dHJpYnV0ZXNcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIFN1cHBvcnQ6IElFPDhcblx0Ly8gVmVyaWZ5IHRoYXQgZ2V0QXR0cmlidXRlIHJlYWxseSByZXR1cm5zIGF0dHJpYnV0ZXMgYW5kIG5vdCBwcm9wZXJ0aWVzXG5cdC8vIChleGNlcHRpbmcgSUU4IGJvb2xlYW5zKVxuXHRzdXBwb3J0LmF0dHJpYnV0ZXMgPSBhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRcdGVsLmNsYXNzTmFtZSA9IFwiaVwiO1xuXHRcdHJldHVybiAhZWwuZ2V0QXR0cmlidXRlKFwiY2xhc3NOYW1lXCIpO1xuXHR9KTtcblxuXHQvKiBnZXRFbGVtZW50KHMpQnkqXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBDaGVjayBpZiBnZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikgcmV0dXJucyBvbmx5IGVsZW1lbnRzXG5cdHN1cHBvcnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgPSBhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRcdGVsLmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVDb21tZW50KFwiXCIpICk7XG5cdFx0cmV0dXJuICFlbC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikubGVuZ3RoO1xuXHR9KTtcblxuXHQvLyBTdXBwb3J0OiBJRTw5XG5cdHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSA9IHJuYXRpdmUudGVzdCggZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSApO1xuXG5cdC8vIFN1cHBvcnQ6IElFPDEwXG5cdC8vIENoZWNrIGlmIGdldEVsZW1lbnRCeUlkIHJldHVybnMgZWxlbWVudHMgYnkgbmFtZVxuXHQvLyBUaGUgYnJva2VuIGdldEVsZW1lbnRCeUlkIG1ldGhvZHMgZG9uJ3QgcGljayB1cCBwcm9ncmFtbWF0aWNhbGx5LXNldCBuYW1lcyxcblx0Ly8gc28gdXNlIGEgcm91bmRhYm91dCBnZXRFbGVtZW50c0J5TmFtZSB0ZXN0XG5cdHN1cHBvcnQuZ2V0QnlJZCA9IGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5pZCA9IGV4cGFuZG87XG5cdFx0cmV0dXJuICFkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSB8fCAhZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIGV4cGFuZG8gKS5sZW5ndGg7XG5cdH0pO1xuXG5cdC8vIElEIGZpbmQgYW5kIGZpbHRlclxuXHRpZiAoIHN1cHBvcnQuZ2V0QnlJZCApIHtcblx0XHRFeHByLmZpbmRbXCJJRFwiXSA9IGZ1bmN0aW9uKCBpZCwgY29udGV4dCApIHtcblx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnRJc0hUTUwgKSB7XG5cdFx0XHRcdHZhciBtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggaWQgKTtcblx0XHRcdFx0cmV0dXJuIG0gPyBbIG0gXSA6IFtdO1xuXHRcdFx0fVxuXHRcdH07XG5cdFx0RXhwci5maWx0ZXJbXCJJRFwiXSA9IGZ1bmN0aW9uKCBpZCApIHtcblx0XHRcdHZhciBhdHRySWQgPSBpZC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoXCJpZFwiKSA9PT0gYXR0cklkO1xuXHRcdFx0fTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdC8vIFN1cHBvcnQ6IElFNi83XG5cdFx0Ly8gZ2V0RWxlbWVudEJ5SWQgaXMgbm90IHJlbGlhYmxlIGFzIGEgZmluZCBzaG9ydGN1dFxuXHRcdGRlbGV0ZSBFeHByLmZpbmRbXCJJRFwiXTtcblxuXHRcdEV4cHIuZmlsdGVyW1wiSURcIl0gPSAgZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciBub2RlID0gdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlTm9kZSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuXHRcdFx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO1xuXHRcdFx0XHRyZXR1cm4gbm9kZSAmJiBub2RlLnZhbHVlID09PSBhdHRySWQ7XG5cdFx0XHR9O1xuXHRcdH07XG5cdH1cblxuXHQvLyBUYWdcblx0RXhwci5maW5kW1wiVEFHXCJdID0gc3VwcG9ydC5nZXRFbGVtZW50c0J5VGFnTmFtZSA/XG5cdFx0ZnVuY3Rpb24oIHRhZywgY29udGV4dCApIHtcblx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgKTtcblxuXHRcdFx0Ly8gRG9jdW1lbnRGcmFnbWVudCBub2RlcyBkb24ndCBoYXZlIGdFQlROXG5cdFx0XHR9IGVsc2UgaWYgKCBzdXBwb3J0LnFzYSApIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCggdGFnICk7XG5cdFx0XHR9XG5cdFx0fSA6XG5cblx0XHRmdW5jdGlvbiggdGFnLCBjb250ZXh0ICkge1xuXHRcdFx0dmFyIGVsZW0sXG5cdFx0XHRcdHRtcCA9IFtdLFxuXHRcdFx0XHRpID0gMCxcblx0XHRcdFx0Ly8gQnkgaGFwcHkgY29pbmNpZGVuY2UsIGEgKGJyb2tlbikgZ0VCVE4gYXBwZWFycyBvbiBEb2N1bWVudEZyYWdtZW50IG5vZGVzIHRvb1xuXHRcdFx0XHRyZXN1bHRzID0gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnICk7XG5cblx0XHRcdC8vIEZpbHRlciBvdXQgcG9zc2libGUgY29tbWVudHNcblx0XHRcdGlmICggdGFnID09PSBcIipcIiApIHtcblx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IHJlc3VsdHNbaSsrXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0XHRcdFx0dG1wLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdG1wO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0fTtcblxuXHQvLyBDbGFzc1xuXHRFeHByLmZpbmRbXCJDTEFTU1wiXSA9IHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAmJiBmdW5jdGlvbiggY2xhc3NOYW1lLCBjb250ZXh0ICkge1xuXHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudElzSFRNTCApIHtcblx0XHRcdHJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIGNsYXNzTmFtZSApO1xuXHRcdH1cblx0fTtcblxuXHQvKiBRU0EvbWF0Y2hlc1NlbGVjdG9yXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBRU0EgYW5kIG1hdGNoZXNTZWxlY3RvciBzdXBwb3J0XG5cblx0Ly8gbWF0Y2hlc1NlbGVjdG9yKDphY3RpdmUpIHJlcG9ydHMgZmFsc2Ugd2hlbiB0cnVlIChJRTkvT3BlcmEgMTEuNSlcblx0cmJ1Z2d5TWF0Y2hlcyA9IFtdO1xuXG5cdC8vIHFTYSg6Zm9jdXMpIHJlcG9ydHMgZmFsc2Ugd2hlbiB0cnVlIChDaHJvbWUgMjEpXG5cdC8vIFdlIGFsbG93IHRoaXMgYmVjYXVzZSBvZiBhIGJ1ZyBpbiBJRTgvOSB0aGF0IHRocm93cyBhbiBlcnJvclxuXHQvLyB3aGVuZXZlciBgZG9jdW1lbnQuYWN0aXZlRWxlbWVudGAgaXMgYWNjZXNzZWQgb24gYW4gaWZyYW1lXG5cdC8vIFNvLCB3ZSBhbGxvdyA6Zm9jdXMgdG8gcGFzcyB0aHJvdWdoIFFTQSBhbGwgdGhlIHRpbWUgdG8gYXZvaWQgdGhlIElFIGVycm9yXG5cdC8vIFNlZSBodHRwczovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTMzNzhcblx0cmJ1Z2d5UVNBID0gW107XG5cblx0aWYgKCAoc3VwcG9ydC5xc2EgPSBybmF0aXZlLnRlc3QoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwgKSkgKSB7XG5cdFx0Ly8gQnVpbGQgUVNBIHJlZ2V4XG5cdFx0Ly8gUmVnZXggc3RyYXRlZ3kgYWRvcHRlZCBmcm9tIERpZWdvIFBlcmluaVxuXHRcdGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0XHQvLyBTZWxlY3QgaXMgc2V0IHRvIGVtcHR5IHN0cmluZyBvbiBwdXJwb3NlXG5cdFx0XHQvLyBUaGlzIGlzIHRvIHRlc3QgSUUncyB0cmVhdG1lbnQgb2Ygbm90IGV4cGxpY2l0bHlcblx0XHRcdC8vIHNldHRpbmcgYSBib29sZWFuIGNvbnRlbnQgYXR0cmlidXRlLFxuXHRcdFx0Ly8gc2luY2UgaXRzIHByZXNlbmNlIHNob3VsZCBiZSBlbm91Z2hcblx0XHRcdC8vIGh0dHBzOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMjM1OVxuXHRcdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5pbm5lckhUTUwgPSBcIjxhIGlkPSdcIiArIGV4cGFuZG8gKyBcIic+PC9hPlwiICtcblx0XHRcdFx0XCI8c2VsZWN0IGlkPSdcIiArIGV4cGFuZG8gKyBcIi1cXHJcXFxcJyBtc2FsbG93Y2FwdHVyZT0nJz5cIiArXG5cdFx0XHRcdFwiPG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD5cIjtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU4LCBPcGVyYSAxMS0xMi4xNlxuXHRcdFx0Ly8gTm90aGluZyBzaG91bGQgYmUgc2VsZWN0ZWQgd2hlbiBlbXB0eSBzdHJpbmdzIGZvbGxvdyBePSBvciAkPSBvciAqPVxuXHRcdFx0Ly8gVGhlIHRlc3QgYXR0cmlidXRlIG11c3QgYmUgdW5rbm93biBpbiBPcGVyYSBidXQgXCJzYWZlXCIgZm9yIFdpblJUXG5cdFx0XHQvLyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2hoNDY1Mzg4LmFzcHgjYXR0cmlidXRlX3NlY3Rpb25cblx0XHRcdGlmICggZWwucXVlcnlTZWxlY3RvckFsbChcIlttc2FsbG93Y2FwdHVyZV49JyddXCIpLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiWypeJF09XCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86Jyd8XFxcIlxcXCIpXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU4XG5cdFx0XHQvLyBCb29sZWFuIGF0dHJpYnV0ZXMgYW5kIFwidmFsdWVcIiBhcmUgbm90IHRyZWF0ZWQgY29ycmVjdGx5XG5cdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKFwiW3NlbGVjdGVkXVwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIlxcXFxbXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86dmFsdWV8XCIgKyBib29sZWFucyArIFwiKVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZTwyOSwgQW5kcm9pZDw0LjQsIFNhZmFyaTw3LjArLCBpT1M8Ny4wKywgUGhhbnRvbUpTPDEuOS44K1xuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggXCJbaWR+PVwiICsgZXhwYW5kbyArIFwiLV1cIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCJ+PVwiKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gV2Via2l0L09wZXJhIC0gOmNoZWNrZWQgc2hvdWxkIHJldHVybiBzZWxlY3RlZCBvcHRpb24gZWxlbWVudHNcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXG5cdFx0XHQvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0c1xuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbChcIjpjaGVja2VkXCIpLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCI6Y2hlY2tlZFwiKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogU2FmYXJpIDgrLCBpT1MgOCtcblx0XHRcdC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzY4NTFcblx0XHRcdC8vIEluLXBhZ2UgYHNlbGVjdG9yI2lkIHNpYmxpbmctY29tYmluYXRvciBzZWxlY3RvcmAgZmFpbHNcblx0XHRcdGlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiYSNcIiArIGV4cGFuZG8gKyBcIisqXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKFwiLiMuK1srfl1cIik7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRcdFx0ZWwuaW5uZXJIVE1MID0gXCI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPlwiICtcblx0XHRcdFx0XCI8c2VsZWN0IGRpc2FibGVkPSdkaXNhYmxlZCc+PG9wdGlvbi8+PC9zZWxlY3Q+XCI7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IFdpbmRvd3MgOCBOYXRpdmUgQXBwc1xuXHRcdFx0Ly8gVGhlIHR5cGUgYW5kIG5hbWUgYXR0cmlidXRlcyBhcmUgcmVzdHJpY3RlZCBkdXJpbmcgLmlubmVySFRNTCBhc3NpZ25tZW50XG5cdFx0XHR2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG5cdFx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCBcImhpZGRlblwiICk7XG5cdFx0XHRlbC5hcHBlbmRDaGlsZCggaW5wdXQgKS5zZXRBdHRyaWJ1dGUoIFwibmFtZVwiLCBcIkRcIiApO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRThcblx0XHRcdC8vIEVuZm9yY2UgY2FzZS1zZW5zaXRpdml0eSBvZiBuYW1lIGF0dHJpYnV0ZVxuXHRcdFx0aWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKFwiW25hbWU9ZF1cIikubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJuYW1lXCIgKyB3aGl0ZXNwYWNlICsgXCIqWypeJHwhfl0/PVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEZGIDMuNSAtIDplbmFibGVkLzpkaXNhYmxlZCBhbmQgaGlkZGVuIGVsZW1lbnRzIChoaWRkZW4gZWxlbWVudHMgYXJlIHN0aWxsIGVuYWJsZWQpXG5cdFx0XHQvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0c1xuXHRcdFx0aWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKFwiOmVuYWJsZWRcIikubGVuZ3RoICE9PSAyICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCI6ZW5hYmxlZFwiLCBcIjpkaXNhYmxlZFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOS0xMStcblx0XHRcdC8vIElFJ3MgOmRpc2FibGVkIHNlbGVjdG9yIGRvZXMgbm90IHBpY2sgdXAgdGhlIGNoaWxkcmVuIG9mIGRpc2FibGVkIGZpZWxkc2V0c1xuXHRcdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5kaXNhYmxlZCA9IHRydWU7XG5cdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZGlzYWJsZWRcIikubGVuZ3RoICE9PSAyICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCI6ZW5hYmxlZFwiLCBcIjpkaXNhYmxlZFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE9wZXJhIDEwLTExIGRvZXMgbm90IHRocm93IG9uIHBvc3QtY29tbWEgaW52YWxpZCBwc2V1ZG9zXG5cdFx0XHRlbC5xdWVyeVNlbGVjdG9yQWxsKFwiKiw6eFwiKTtcblx0XHRcdHJidWdneVFTQS5wdXNoKFwiLC4qOlwiKTtcblx0XHR9KTtcblx0fVxuXG5cdGlmICggKHN1cHBvcnQubWF0Y2hlc1NlbGVjdG9yID0gcm5hdGl2ZS50ZXN0KCAobWF0Y2hlcyA9IGRvY0VsZW0ubWF0Y2hlcyB8fFxuXHRcdGRvY0VsZW0ud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XG5cdFx0ZG9jRWxlbS5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm9NYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm1zTWF0Y2hlc1NlbGVjdG9yKSApKSApIHtcblxuXHRcdGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0XHQvLyBDaGVjayB0byBzZWUgaWYgaXQncyBwb3NzaWJsZSB0byBkbyBtYXRjaGVzU2VsZWN0b3Jcblx0XHRcdC8vIG9uIGEgZGlzY29ubmVjdGVkIG5vZGUgKElFIDkpXG5cdFx0XHRzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoID0gbWF0Y2hlcy5jYWxsKCBlbCwgXCIqXCIgKTtcblxuXHRcdFx0Ly8gVGhpcyBzaG91bGQgZmFpbCB3aXRoIGFuIGV4Y2VwdGlvblxuXHRcdFx0Ly8gR2Vja28gZG9lcyBub3QgZXJyb3IsIHJldHVybnMgZmFsc2UgaW5zdGVhZFxuXHRcdFx0bWF0Y2hlcy5jYWxsKCBlbCwgXCJbcyE9JyddOnhcIiApO1xuXHRcdFx0cmJ1Z2d5TWF0Y2hlcy5wdXNoKCBcIiE9XCIsIHBzZXVkb3MgKTtcblx0XHR9KTtcblx0fVxuXG5cdHJidWdneVFTQSA9IHJidWdneVFTQS5sZW5ndGggJiYgbmV3IFJlZ0V4cCggcmJ1Z2d5UVNBLmpvaW4oXCJ8XCIpICk7XG5cdHJidWdneU1hdGNoZXMgPSByYnVnZ3lNYXRjaGVzLmxlbmd0aCAmJiBuZXcgUmVnRXhwKCByYnVnZ3lNYXRjaGVzLmpvaW4oXCJ8XCIpICk7XG5cblx0LyogQ29udGFpbnNcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXHRoYXNDb21wYXJlID0gcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICk7XG5cblx0Ly8gRWxlbWVudCBjb250YWlucyBhbm90aGVyXG5cdC8vIFB1cnBvc2VmdWxseSBzZWxmLWV4Y2x1c2l2ZVxuXHQvLyBBcyBpbiwgYW4gZWxlbWVudCBkb2VzIG5vdCBjb250YWluIGl0c2VsZlxuXHRjb250YWlucyA9IGhhc0NvbXBhcmUgfHwgcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbnRhaW5zICkgP1xuXHRcdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdFx0dmFyIGFkb3duID0gYS5ub2RlVHlwZSA9PT0gOSA/IGEuZG9jdW1lbnRFbGVtZW50IDogYSxcblx0XHRcdFx0YnVwID0gYiAmJiBiLnBhcmVudE5vZGU7XG5cdFx0XHRyZXR1cm4gYSA9PT0gYnVwIHx8ICEhKCBidXAgJiYgYnVwLm5vZGVUeXBlID09PSAxICYmIChcblx0XHRcdFx0YWRvd24uY29udGFpbnMgP1xuXHRcdFx0XHRcdGFkb3duLmNvbnRhaW5zKCBidXAgKSA6XG5cdFx0XHRcdFx0YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAmJiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBidXAgKSAmIDE2XG5cdFx0XHQpKTtcblx0XHR9IDpcblx0XHRmdW5jdGlvbiggYSwgYiApIHtcblx0XHRcdGlmICggYiApIHtcblx0XHRcdFx0d2hpbGUgKCAoYiA9IGIucGFyZW50Tm9kZSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBiID09PSBhICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fTtcblxuXHQvKiBTb3J0aW5nXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBEb2N1bWVudCBvcmRlciBzb3J0aW5nXG5cdHNvcnRPcmRlciA9IGhhc0NvbXBhcmUgP1xuXHRmdW5jdGlvbiggYSwgYiApIHtcblxuXHRcdC8vIEZsYWcgZm9yIGR1cGxpY2F0ZSByZW1vdmFsXG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdC8vIFNvcnQgb24gbWV0aG9kIGV4aXN0ZW5jZSBpZiBvbmx5IG9uZSBpbnB1dCBoYXMgY29tcGFyZURvY3VtZW50UG9zaXRpb25cblx0XHR2YXIgY29tcGFyZSA9ICFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIC0gIWIuY29tcGFyZURvY3VtZW50UG9zaXRpb247XG5cdFx0aWYgKCBjb21wYXJlICkge1xuXHRcdFx0cmV0dXJuIGNvbXBhcmU7XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsY3VsYXRlIHBvc2l0aW9uIGlmIGJvdGggaW5wdXRzIGJlbG9uZyB0byB0aGUgc2FtZSBkb2N1bWVudFxuXHRcdGNvbXBhcmUgPSAoIGEub3duZXJEb2N1bWVudCB8fCBhICkgPT09ICggYi5vd25lckRvY3VtZW50IHx8IGIgKSA/XG5cdFx0XHRhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBiICkgOlxuXG5cdFx0XHQvLyBPdGhlcndpc2Ugd2Uga25vdyB0aGV5IGFyZSBkaXNjb25uZWN0ZWRcblx0XHRcdDE7XG5cblx0XHQvLyBEaXNjb25uZWN0ZWQgbm9kZXNcblx0XHRpZiAoIGNvbXBhcmUgJiAxIHx8XG5cdFx0XHQoIXN1cHBvcnQuc29ydERldGFjaGVkICYmIGIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGEgKSA9PT0gY29tcGFyZSkgKSB7XG5cblx0XHRcdC8vIENob29zZSB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IGlzIHJlbGF0ZWQgdG8gb3VyIHByZWZlcnJlZCBkb2N1bWVudFxuXHRcdFx0aWYgKCBhID09PSBkb2N1bWVudCB8fCBhLm93bmVyRG9jdW1lbnQgPT09IHByZWZlcnJlZERvYyAmJiBjb250YWlucyhwcmVmZXJyZWREb2MsIGEpICkge1xuXHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGIgPT09IGRvY3VtZW50IHx8IGIub3duZXJEb2N1bWVudCA9PT0gcHJlZmVycmVkRG9jICYmIGNvbnRhaW5zKHByZWZlcnJlZERvYywgYikgKSB7XG5cdFx0XHRcdHJldHVybiAxO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYWludGFpbiBvcmlnaW5hbCBvcmRlclxuXHRcdFx0cmV0dXJuIHNvcnRJbnB1dCA/XG5cdFx0XHRcdCggaW5kZXhPZiggc29ydElucHV0LCBhICkgLSBpbmRleE9mKCBzb3J0SW5wdXQsIGIgKSApIDpcblx0XHRcdFx0MDtcblx0XHR9XG5cblx0XHRyZXR1cm4gY29tcGFyZSAmIDQgPyAtMSA6IDE7XG5cdH0gOlxuXHRmdW5jdGlvbiggYSwgYiApIHtcblx0XHQvLyBFeGl0IGVhcmx5IGlmIHRoZSBub2RlcyBhcmUgaWRlbnRpY2FsXG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdHZhciBjdXIsXG5cdFx0XHRpID0gMCxcblx0XHRcdGF1cCA9IGEucGFyZW50Tm9kZSxcblx0XHRcdGJ1cCA9IGIucGFyZW50Tm9kZSxcblx0XHRcdGFwID0gWyBhIF0sXG5cdFx0XHRicCA9IFsgYiBdO1xuXG5cdFx0Ly8gUGFyZW50bGVzcyBub2RlcyBhcmUgZWl0aGVyIGRvY3VtZW50cyBvciBkaXNjb25uZWN0ZWRcblx0XHRpZiAoICFhdXAgfHwgIWJ1cCApIHtcblx0XHRcdHJldHVybiBhID09PSBkb2N1bWVudCA/IC0xIDpcblx0XHRcdFx0YiA9PT0gZG9jdW1lbnQgPyAxIDpcblx0XHRcdFx0YXVwID8gLTEgOlxuXHRcdFx0XHRidXAgPyAxIDpcblx0XHRcdFx0c29ydElucHV0ID9cblx0XHRcdFx0KCBpbmRleE9mKCBzb3J0SW5wdXQsIGEgKSAtIGluZGV4T2YoIHNvcnRJbnB1dCwgYiApICkgOlxuXHRcdFx0XHQwO1xuXG5cdFx0Ly8gSWYgdGhlIG5vZGVzIGFyZSBzaWJsaW5ncywgd2UgY2FuIGRvIGEgcXVpY2sgY2hlY2tcblx0XHR9IGVsc2UgaWYgKCBhdXAgPT09IGJ1cCApIHtcblx0XHRcdHJldHVybiBzaWJsaW5nQ2hlY2soIGEsIGIgKTtcblx0XHR9XG5cblx0XHQvLyBPdGhlcndpc2Ugd2UgbmVlZCBmdWxsIGxpc3RzIG9mIHRoZWlyIGFuY2VzdG9ycyBmb3IgY29tcGFyaXNvblxuXHRcdGN1ciA9IGE7XG5cdFx0d2hpbGUgKCAoY3VyID0gY3VyLnBhcmVudE5vZGUpICkge1xuXHRcdFx0YXAudW5zaGlmdCggY3VyICk7XG5cdFx0fVxuXHRcdGN1ciA9IGI7XG5cdFx0d2hpbGUgKCAoY3VyID0gY3VyLnBhcmVudE5vZGUpICkge1xuXHRcdFx0YnAudW5zaGlmdCggY3VyICk7XG5cdFx0fVxuXG5cdFx0Ly8gV2FsayBkb3duIHRoZSB0cmVlIGxvb2tpbmcgZm9yIGEgZGlzY3JlcGFuY3lcblx0XHR3aGlsZSAoIGFwW2ldID09PSBicFtpXSApIHtcblx0XHRcdGkrKztcblx0XHR9XG5cblx0XHRyZXR1cm4gaSA/XG5cdFx0XHQvLyBEbyBhIHNpYmxpbmcgY2hlY2sgaWYgdGhlIG5vZGVzIGhhdmUgYSBjb21tb24gYW5jZXN0b3Jcblx0XHRcdHNpYmxpbmdDaGVjayggYXBbaV0sIGJwW2ldICkgOlxuXG5cdFx0XHQvLyBPdGhlcndpc2Ugbm9kZXMgaW4gb3VyIGRvY3VtZW50IHNvcnQgZmlyc3Rcblx0XHRcdGFwW2ldID09PSBwcmVmZXJyZWREb2MgPyAtMSA6XG5cdFx0XHRicFtpXSA9PT0gcHJlZmVycmVkRG9jID8gMSA6XG5cdFx0XHQwO1xuXHR9O1xuXG5cdHJldHVybiBkb2N1bWVudDtcbn07XG5cblNpenpsZS5tYXRjaGVzID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1lbnRzICkge1xuXHRyZXR1cm4gU2l6emxlKCBleHByLCBudWxsLCBudWxsLCBlbGVtZW50cyApO1xufTtcblxuU2l6emxlLm1hdGNoZXNTZWxlY3RvciA9IGZ1bmN0aW9uKCBlbGVtLCBleHByICkge1xuXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0aWYgKCAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtICkgIT09IGRvY3VtZW50ICkge1xuXHRcdHNldERvY3VtZW50KCBlbGVtICk7XG5cdH1cblxuXHQvLyBNYWtlIHN1cmUgdGhhdCBhdHRyaWJ1dGUgc2VsZWN0b3JzIGFyZSBxdW90ZWRcblx0ZXhwciA9IGV4cHIucmVwbGFjZSggcmF0dHJpYnV0ZVF1b3RlcywgXCI9JyQxJ11cIiApO1xuXG5cdGlmICggc3VwcG9ydC5tYXRjaGVzU2VsZWN0b3IgJiYgZG9jdW1lbnRJc0hUTUwgJiZcblx0XHQhY29tcGlsZXJDYWNoZVsgZXhwciArIFwiIFwiIF0gJiZcblx0XHQoICFyYnVnZ3lNYXRjaGVzIHx8ICFyYnVnZ3lNYXRjaGVzLnRlc3QoIGV4cHIgKSApICYmXG5cdFx0KCAhcmJ1Z2d5UVNBICAgICB8fCAhcmJ1Z2d5UVNBLnRlc3QoIGV4cHIgKSApICkge1xuXG5cdFx0dHJ5IHtcblx0XHRcdHZhciByZXQgPSBtYXRjaGVzLmNhbGwoIGVsZW0sIGV4cHIgKTtcblxuXHRcdFx0Ly8gSUUgOSdzIG1hdGNoZXNTZWxlY3RvciByZXR1cm5zIGZhbHNlIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xuXHRcdFx0aWYgKCByZXQgfHwgc3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaCB8fFxuXHRcdFx0XHRcdC8vIEFzIHdlbGwsIGRpc2Nvbm5lY3RlZCBub2RlcyBhcmUgc2FpZCB0byBiZSBpbiBhIGRvY3VtZW50XG5cdFx0XHRcdFx0Ly8gZnJhZ21lbnQgaW4gSUUgOVxuXHRcdFx0XHRcdGVsZW0uZG9jdW1lbnQgJiYgZWxlbS5kb2N1bWVudC5ub2RlVHlwZSAhPT0gMTEgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZSkge31cblx0fVxuXG5cdHJldHVybiBTaXp6bGUoIGV4cHIsIGRvY3VtZW50LCBudWxsLCBbIGVsZW0gXSApLmxlbmd0aCA+IDA7XG59O1xuXG5TaXp6bGUuY29udGFpbnMgPSBmdW5jdGlvbiggY29udGV4dCwgZWxlbSApIHtcblx0Ly8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG5cdGlmICggKCBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCApICE9PSBkb2N1bWVudCApIHtcblx0XHRzZXREb2N1bWVudCggY29udGV4dCApO1xuXHR9XG5cdHJldHVybiBjb250YWlucyggY29udGV4dCwgZWxlbSApO1xufTtcblxuU2l6emxlLmF0dHIgPSBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcblx0Ly8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG5cdGlmICggKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSApICE9PSBkb2N1bWVudCApIHtcblx0XHRzZXREb2N1bWVudCggZWxlbSApO1xuXHR9XG5cblx0dmFyIGZuID0gRXhwci5hdHRySGFuZGxlWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSxcblx0XHQvLyBEb24ndCBnZXQgZm9vbGVkIGJ5IE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAoalF1ZXJ5ICMxMzgwNylcblx0XHR2YWwgPSBmbiAmJiBoYXNPd24uY2FsbCggRXhwci5hdHRySGFuZGxlLCBuYW1lLnRvTG93ZXJDYXNlKCkgKSA/XG5cdFx0XHRmbiggZWxlbSwgbmFtZSwgIWRvY3VtZW50SXNIVE1MICkgOlxuXHRcdFx0dW5kZWZpbmVkO1xuXG5cdHJldHVybiB2YWwgIT09IHVuZGVmaW5lZCA/XG5cdFx0dmFsIDpcblx0XHRzdXBwb3J0LmF0dHJpYnV0ZXMgfHwgIWRvY3VtZW50SXNIVE1MID9cblx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lICkgOlxuXHRcdFx0KHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZShuYW1lKSkgJiYgdmFsLnNwZWNpZmllZCA/XG5cdFx0XHRcdHZhbC52YWx1ZSA6XG5cdFx0XHRcdG51bGw7XG59O1xuXG5TaXp6bGUuZXNjYXBlID0gZnVuY3Rpb24oIHNlbCApIHtcblx0cmV0dXJuIChzZWwgKyBcIlwiKS5yZXBsYWNlKCByY3NzZXNjYXBlLCBmY3NzZXNjYXBlICk7XG59O1xuXG5TaXp6bGUuZXJyb3IgPSBmdW5jdGlvbiggbXNnICkge1xuXHR0aHJvdyBuZXcgRXJyb3IoIFwiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogXCIgKyBtc2cgKTtcbn07XG5cbi8qKlxuICogRG9jdW1lbnQgc29ydGluZyBhbmQgcmVtb3ZpbmcgZHVwbGljYXRlc1xuICogQHBhcmFtIHtBcnJheUxpa2V9IHJlc3VsdHNcbiAqL1xuU2l6emxlLnVuaXF1ZVNvcnQgPSBmdW5jdGlvbiggcmVzdWx0cyApIHtcblx0dmFyIGVsZW0sXG5cdFx0ZHVwbGljYXRlcyA9IFtdLFxuXHRcdGogPSAwLFxuXHRcdGkgPSAwO1xuXG5cdC8vIFVubGVzcyB3ZSAqa25vdyogd2UgY2FuIGRldGVjdCBkdXBsaWNhdGVzLCBhc3N1bWUgdGhlaXIgcHJlc2VuY2Vcblx0aGFzRHVwbGljYXRlID0gIXN1cHBvcnQuZGV0ZWN0RHVwbGljYXRlcztcblx0c29ydElucHV0ID0gIXN1cHBvcnQuc29ydFN0YWJsZSAmJiByZXN1bHRzLnNsaWNlKCAwICk7XG5cdHJlc3VsdHMuc29ydCggc29ydE9yZGVyICk7XG5cblx0aWYgKCBoYXNEdXBsaWNhdGUgKSB7XG5cdFx0d2hpbGUgKCAoZWxlbSA9IHJlc3VsdHNbaSsrXSkgKSB7XG5cdFx0XHRpZiAoIGVsZW0gPT09IHJlc3VsdHNbIGkgXSApIHtcblx0XHRcdFx0aiA9IGR1cGxpY2F0ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdHJlc3VsdHMuc3BsaWNlKCBkdXBsaWNhdGVzWyBqIF0sIDEgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBDbGVhciBpbnB1dCBhZnRlciBzb3J0aW5nIHRvIHJlbGVhc2Ugb2JqZWN0c1xuXHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9zaXp6bGUvcHVsbC8yMjVcblx0c29ydElucHV0ID0gbnVsbDtcblxuXHRyZXR1cm4gcmVzdWx0cztcbn07XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiBmb3IgcmV0cmlldmluZyB0aGUgdGV4dCB2YWx1ZSBvZiBhbiBhcnJheSBvZiBET00gbm9kZXNcbiAqIEBwYXJhbSB7QXJyYXl8RWxlbWVudH0gZWxlbVxuICovXG5nZXRUZXh0ID0gU2l6emxlLmdldFRleHQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0dmFyIG5vZGUsXG5cdFx0cmV0ID0gXCJcIixcblx0XHRpID0gMCxcblx0XHRub2RlVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cblx0aWYgKCAhbm9kZVR5cGUgKSB7XG5cdFx0Ly8gSWYgbm8gbm9kZVR5cGUsIHRoaXMgaXMgZXhwZWN0ZWQgdG8gYmUgYW4gYXJyYXlcblx0XHR3aGlsZSAoIChub2RlID0gZWxlbVtpKytdKSApIHtcblx0XHRcdC8vIERvIG5vdCB0cmF2ZXJzZSBjb21tZW50IG5vZGVzXG5cdFx0XHRyZXQgKz0gZ2V0VGV4dCggbm9kZSApO1xuXHRcdH1cblx0fSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDEgfHwgbm9kZVR5cGUgPT09IDkgfHwgbm9kZVR5cGUgPT09IDExICkge1xuXHRcdC8vIFVzZSB0ZXh0Q29udGVudCBmb3IgZWxlbWVudHNcblx0XHQvLyBpbm5lclRleHQgdXNhZ2UgcmVtb3ZlZCBmb3IgY29uc2lzdGVuY3kgb2YgbmV3IGxpbmVzIChqUXVlcnkgIzExMTUzKVxuXHRcdGlmICggdHlwZW9mIGVsZW0udGV4dENvbnRlbnQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS50ZXh0Q29udGVudDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gVHJhdmVyc2UgaXRzIGNoaWxkcmVuXG5cdFx0XHRmb3IgKCBlbGVtID0gZWxlbS5maXJzdENoaWxkOyBlbGVtOyBlbGVtID0gZWxlbS5uZXh0U2libGluZyApIHtcblx0XHRcdFx0cmV0ICs9IGdldFRleHQoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSBpZiAoIG5vZGVUeXBlID09PSAzIHx8IG5vZGVUeXBlID09PSA0ICkge1xuXHRcdHJldHVybiBlbGVtLm5vZGVWYWx1ZTtcblx0fVxuXHQvLyBEbyBub3QgaW5jbHVkZSBjb21tZW50IG9yIHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24gbm9kZXNcblxuXHRyZXR1cm4gcmV0O1xufTtcblxuRXhwciA9IFNpenpsZS5zZWxlY3RvcnMgPSB7XG5cblx0Ly8gQ2FuIGJlIGFkanVzdGVkIGJ5IHRoZSB1c2VyXG5cdGNhY2hlTGVuZ3RoOiA1MCxcblxuXHRjcmVhdGVQc2V1ZG86IG1hcmtGdW5jdGlvbixcblxuXHRtYXRjaDogbWF0Y2hFeHByLFxuXG5cdGF0dHJIYW5kbGU6IHt9LFxuXG5cdGZpbmQ6IHt9LFxuXG5cdHJlbGF0aXZlOiB7XG5cdFx0XCI+XCI6IHsgZGlyOiBcInBhcmVudE5vZGVcIiwgZmlyc3Q6IHRydWUgfSxcblx0XHRcIiBcIjogeyBkaXI6IFwicGFyZW50Tm9kZVwiIH0sXG5cdFx0XCIrXCI6IHsgZGlyOiBcInByZXZpb3VzU2libGluZ1wiLCBmaXJzdDogdHJ1ZSB9LFxuXHRcdFwiflwiOiB7IGRpcjogXCJwcmV2aW91c1NpYmxpbmdcIiB9XG5cdH0sXG5cblx0cHJlRmlsdGVyOiB7XG5cdFx0XCJBVFRSXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcblx0XHRcdG1hdGNoWzFdID0gbWF0Y2hbMV0ucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblxuXHRcdFx0Ly8gTW92ZSB0aGUgZ2l2ZW4gdmFsdWUgdG8gbWF0Y2hbM10gd2hldGhlciBxdW90ZWQgb3IgdW5xdW90ZWRcblx0XHRcdG1hdGNoWzNdID0gKCBtYXRjaFszXSB8fCBtYXRjaFs0XSB8fCBtYXRjaFs1XSB8fCBcIlwiICkucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblxuXHRcdFx0aWYgKCBtYXRjaFsyXSA9PT0gXCJ+PVwiICkge1xuXHRcdFx0XHRtYXRjaFszXSA9IFwiIFwiICsgbWF0Y2hbM10gKyBcIiBcIjtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG1hdGNoLnNsaWNlKCAwLCA0ICk7XG5cdFx0fSxcblxuXHRcdFwiQ0hJTERcIjogZnVuY3Rpb24oIG1hdGNoICkge1xuXHRcdFx0LyogbWF0Y2hlcyBmcm9tIG1hdGNoRXhwcltcIkNISUxEXCJdXG5cdFx0XHRcdDEgdHlwZSAob25seXxudGh8Li4uKVxuXHRcdFx0XHQyIHdoYXQgKGNoaWxkfG9mLXR5cGUpXG5cdFx0XHRcdDMgYXJndW1lbnQgKGV2ZW58b2RkfFxcZCp8XFxkKm4oWystXVxcZCspP3wuLi4pXG5cdFx0XHRcdDQgeG4tY29tcG9uZW50IG9mIHhuK3kgYXJndW1lbnQgKFsrLV0/XFxkKm58KVxuXHRcdFx0XHQ1IHNpZ24gb2YgeG4tY29tcG9uZW50XG5cdFx0XHRcdDYgeCBvZiB4bi1jb21wb25lbnRcblx0XHRcdFx0NyBzaWduIG9mIHktY29tcG9uZW50XG5cdFx0XHRcdDggeSBvZiB5LWNvbXBvbmVudFxuXHRcdFx0Ki9cblx0XHRcdG1hdGNoWzFdID0gbWF0Y2hbMV0udG9Mb3dlckNhc2UoKTtcblxuXHRcdFx0aWYgKCBtYXRjaFsxXS5zbGljZSggMCwgMyApID09PSBcIm50aFwiICkge1xuXHRcdFx0XHQvLyBudGgtKiByZXF1aXJlcyBhcmd1bWVudFxuXHRcdFx0XHRpZiAoICFtYXRjaFszXSApIHtcblx0XHRcdFx0XHRTaXp6bGUuZXJyb3IoIG1hdGNoWzBdICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBudW1lcmljIHggYW5kIHkgcGFyYW1ldGVycyBmb3IgRXhwci5maWx0ZXIuQ0hJTERcblx0XHRcdFx0Ly8gcmVtZW1iZXIgdGhhdCBmYWxzZS90cnVlIGNhc3QgcmVzcGVjdGl2ZWx5IHRvIDAvMVxuXHRcdFx0XHRtYXRjaFs0XSA9ICsoIG1hdGNoWzRdID8gbWF0Y2hbNV0gKyAobWF0Y2hbNl0gfHwgMSkgOiAyICogKCBtYXRjaFszXSA9PT0gXCJldmVuXCIgfHwgbWF0Y2hbM10gPT09IFwib2RkXCIgKSApO1xuXHRcdFx0XHRtYXRjaFs1XSA9ICsoICggbWF0Y2hbN10gKyBtYXRjaFs4XSApIHx8IG1hdGNoWzNdID09PSBcIm9kZFwiICk7XG5cblx0XHRcdC8vIG90aGVyIHR5cGVzIHByb2hpYml0IGFyZ3VtZW50c1xuXHRcdFx0fSBlbHNlIGlmICggbWF0Y2hbM10gKSB7XG5cdFx0XHRcdFNpenpsZS5lcnJvciggbWF0Y2hbMF0gKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG1hdGNoO1xuXHRcdH0sXG5cblx0XHRcIlBTRVVET1wiOiBmdW5jdGlvbiggbWF0Y2ggKSB7XG5cdFx0XHR2YXIgZXhjZXNzLFxuXHRcdFx0XHR1bnF1b3RlZCA9ICFtYXRjaFs2XSAmJiBtYXRjaFsyXTtcblxuXHRcdFx0aWYgKCBtYXRjaEV4cHJbXCJDSElMRFwiXS50ZXN0KCBtYXRjaFswXSApICkge1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWNjZXB0IHF1b3RlZCBhcmd1bWVudHMgYXMtaXNcblx0XHRcdGlmICggbWF0Y2hbM10gKSB7XG5cdFx0XHRcdG1hdGNoWzJdID0gbWF0Y2hbNF0gfHwgbWF0Y2hbNV0gfHwgXCJcIjtcblxuXHRcdFx0Ly8gU3RyaXAgZXhjZXNzIGNoYXJhY3RlcnMgZnJvbSB1bnF1b3RlZCBhcmd1bWVudHNcblx0XHRcdH0gZWxzZSBpZiAoIHVucXVvdGVkICYmIHJwc2V1ZG8udGVzdCggdW5xdW90ZWQgKSAmJlxuXHRcdFx0XHQvLyBHZXQgZXhjZXNzIGZyb20gdG9rZW5pemUgKHJlY3Vyc2l2ZWx5KVxuXHRcdFx0XHQoZXhjZXNzID0gdG9rZW5pemUoIHVucXVvdGVkLCB0cnVlICkpICYmXG5cdFx0XHRcdC8vIGFkdmFuY2UgdG8gdGhlIG5leHQgY2xvc2luZyBwYXJlbnRoZXNpc1xuXHRcdFx0XHQoZXhjZXNzID0gdW5xdW90ZWQuaW5kZXhPZiggXCIpXCIsIHVucXVvdGVkLmxlbmd0aCAtIGV4Y2VzcyApIC0gdW5xdW90ZWQubGVuZ3RoKSApIHtcblxuXHRcdFx0XHQvLyBleGNlc3MgaXMgYSBuZWdhdGl2ZSBpbmRleFxuXHRcdFx0XHRtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKCAwLCBleGNlc3MgKTtcblx0XHRcdFx0bWF0Y2hbMl0gPSB1bnF1b3RlZC5zbGljZSggMCwgZXhjZXNzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJldHVybiBvbmx5IGNhcHR1cmVzIG5lZWRlZCBieSB0aGUgcHNldWRvIGZpbHRlciBtZXRob2QgKHR5cGUgYW5kIGFyZ3VtZW50KVxuXHRcdFx0cmV0dXJuIG1hdGNoLnNsaWNlKCAwLCAzICk7XG5cdFx0fVxuXHR9LFxuXG5cdGZpbHRlcjoge1xuXG5cdFx0XCJUQUdcIjogZnVuY3Rpb24oIG5vZGVOYW1lU2VsZWN0b3IgKSB7XG5cdFx0XHR2YXIgbm9kZU5hbWUgPSBub2RlTmFtZVNlbGVjdG9yLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiBub2RlTmFtZVNlbGVjdG9yID09PSBcIipcIiA/XG5cdFx0XHRcdGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfSA6XG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbm9kZU5hbWU7XG5cdFx0XHRcdH07XG5cdFx0fSxcblxuXHRcdFwiQ0xBU1NcIjogZnVuY3Rpb24oIGNsYXNzTmFtZSApIHtcblx0XHRcdHZhciBwYXR0ZXJuID0gY2xhc3NDYWNoZVsgY2xhc3NOYW1lICsgXCIgXCIgXTtcblxuXHRcdFx0cmV0dXJuIHBhdHRlcm4gfHxcblx0XHRcdFx0KHBhdHRlcm4gPSBuZXcgUmVnRXhwKCBcIihefFwiICsgd2hpdGVzcGFjZSArIFwiKVwiICsgY2xhc3NOYW1lICsgXCIoXCIgKyB3aGl0ZXNwYWNlICsgXCJ8JClcIiApKSAmJlxuXHRcdFx0XHRjbGFzc0NhY2hlKCBjbGFzc05hbWUsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHJldHVybiBwYXR0ZXJuLnRlc3QoIHR5cGVvZiBlbGVtLmNsYXNzTmFtZSA9PT0gXCJzdHJpbmdcIiAmJiBlbGVtLmNsYXNzTmFtZSB8fCB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUgIT09IFwidW5kZWZpbmVkXCIgJiYgZWxlbS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSB8fCBcIlwiICk7XG5cdFx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRcIkFUVFJcIjogZnVuY3Rpb24oIG5hbWUsIG9wZXJhdG9yLCBjaGVjayApIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIHJlc3VsdCA9IFNpenpsZS5hdHRyKCBlbGVtLCBuYW1lICk7XG5cblx0XHRcdFx0aWYgKCByZXN1bHQgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRyZXR1cm4gb3BlcmF0b3IgPT09IFwiIT1cIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoICFvcGVyYXRvciApIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJlc3VsdCArPSBcIlwiO1xuXG5cdFx0XHRcdHJldHVybiBvcGVyYXRvciA9PT0gXCI9XCIgPyByZXN1bHQgPT09IGNoZWNrIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIhPVwiID8gcmVzdWx0ICE9PSBjaGVjayA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiXj1cIiA/IGNoZWNrICYmIHJlc3VsdC5pbmRleE9mKCBjaGVjayApID09PSAwIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIqPVwiID8gY2hlY2sgJiYgcmVzdWx0LmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiJD1cIiA/IGNoZWNrICYmIHJlc3VsdC5zbGljZSggLWNoZWNrLmxlbmd0aCApID09PSBjaGVjayA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwifj1cIiA/ICggXCIgXCIgKyByZXN1bHQucmVwbGFjZSggcndoaXRlc3BhY2UsIFwiIFwiICkgKyBcIiBcIiApLmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwifD1cIiA/IHJlc3VsdCA9PT0gY2hlY2sgfHwgcmVzdWx0LnNsaWNlKCAwLCBjaGVjay5sZW5ndGggKyAxICkgPT09IGNoZWNrICsgXCItXCIgOlxuXHRcdFx0XHRcdGZhbHNlO1xuXHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0XCJDSElMRFwiOiBmdW5jdGlvbiggdHlwZSwgd2hhdCwgYXJndW1lbnQsIGZpcnN0LCBsYXN0ICkge1xuXHRcdFx0dmFyIHNpbXBsZSA9IHR5cGUuc2xpY2UoIDAsIDMgKSAhPT0gXCJudGhcIixcblx0XHRcdFx0Zm9yd2FyZCA9IHR5cGUuc2xpY2UoIC00ICkgIT09IFwibGFzdFwiLFxuXHRcdFx0XHRvZlR5cGUgPSB3aGF0ID09PSBcIm9mLXR5cGVcIjtcblxuXHRcdFx0cmV0dXJuIGZpcnN0ID09PSAxICYmIGxhc3QgPT09IDAgP1xuXG5cdFx0XHRcdC8vIFNob3J0Y3V0IGZvciA6bnRoLSoobilcblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuICEhZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0XHR9IDpcblxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdHZhciBjYWNoZSwgdW5pcXVlQ2FjaGUsIG91dGVyQ2FjaGUsIG5vZGUsIG5vZGVJbmRleCwgc3RhcnQsXG5cdFx0XHRcdFx0XHRkaXIgPSBzaW1wbGUgIT09IGZvcndhcmQgPyBcIm5leHRTaWJsaW5nXCIgOiBcInByZXZpb3VzU2libGluZ1wiLFxuXHRcdFx0XHRcdFx0cGFyZW50ID0gZWxlbS5wYXJlbnROb2RlLFxuXHRcdFx0XHRcdFx0bmFtZSA9IG9mVHlwZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksXG5cdFx0XHRcdFx0XHR1c2VDYWNoZSA9ICF4bWwgJiYgIW9mVHlwZSxcblx0XHRcdFx0XHRcdGRpZmYgPSBmYWxzZTtcblxuXHRcdFx0XHRcdGlmICggcGFyZW50ICkge1xuXG5cdFx0XHRcdFx0XHQvLyA6KGZpcnN0fGxhc3R8b25seSktKGNoaWxkfG9mLXR5cGUpXG5cdFx0XHRcdFx0XHRpZiAoIHNpbXBsZSApIHtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKCBkaXIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0bm9kZSA9IGVsZW07XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKCAobm9kZSA9IG5vZGVbIGRpciBdKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggb2ZUeXBlID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lIDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlVHlwZSA9PT0gMSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdC8vIFJldmVyc2UgZGlyZWN0aW9uIGZvciA6b25seS0qIChpZiB3ZSBoYXZlbid0IHlldCBkb25lIHNvKVxuXHRcdFx0XHRcdFx0XHRcdHN0YXJ0ID0gZGlyID0gdHlwZSA9PT0gXCJvbmx5XCIgJiYgIXN0YXJ0ICYmIFwibmV4dFNpYmxpbmdcIjtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0c3RhcnQgPSBbIGZvcndhcmQgPyBwYXJlbnQuZmlyc3RDaGlsZCA6IHBhcmVudC5sYXN0Q2hpbGQgXTtcblxuXHRcdFx0XHRcdFx0Ly8gbm9uLXhtbCA6bnRoLWNoaWxkKC4uLikgc3RvcmVzIGNhY2hlIGRhdGEgb24gYHBhcmVudGBcblx0XHRcdFx0XHRcdGlmICggZm9yd2FyZCAmJiB1c2VDYWNoZSApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBTZWVrIGBlbGVtYCBmcm9tIGEgcHJldmlvdXNseS1jYWNoZWQgaW5kZXhcblxuXHRcdFx0XHRcdFx0XHQvLyAuLi5pbiBhIGd6aXAtZnJpZW5kbHkgd2F5XG5cdFx0XHRcdFx0XHRcdG5vZGUgPSBwYXJlbnQ7XG5cdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHwgKG5vZGVbIGV4cGFuZG8gXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdChvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdFx0Y2FjaGUgPSB1bmlxdWVDYWNoZVsgdHlwZSBdIHx8IFtdO1xuXHRcdFx0XHRcdFx0XHRub2RlSW5kZXggPSBjYWNoZVsgMCBdID09PSBkaXJydW5zICYmIGNhY2hlWyAxIF07XG5cdFx0XHRcdFx0XHRcdGRpZmYgPSBub2RlSW5kZXggJiYgY2FjaGVbIDIgXTtcblx0XHRcdFx0XHRcdFx0bm9kZSA9IG5vZGVJbmRleCAmJiBwYXJlbnQuY2hpbGROb2Rlc1sgbm9kZUluZGV4IF07XG5cblx0XHRcdFx0XHRcdFx0d2hpbGUgKCAobm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVsgZGlyIF0gfHxcblxuXHRcdFx0XHRcdFx0XHRcdC8vIEZhbGxiYWNrIHRvIHNlZWtpbmcgYGVsZW1gIGZyb20gdGhlIHN0YXJ0XG5cdFx0XHRcdFx0XHRcdFx0KGRpZmYgPSBub2RlSW5kZXggPSAwKSB8fCBzdGFydC5wb3AoKSkgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBXaGVuIGZvdW5kLCBjYWNoZSBpbmRleGVzIG9uIGBwYXJlbnRgIGFuZCBicmVha1xuXHRcdFx0XHRcdFx0XHRcdGlmICggbm9kZS5ub2RlVHlwZSA9PT0gMSAmJiArK2RpZmYgJiYgbm9kZSA9PT0gZWxlbSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIG5vZGVJbmRleCwgZGlmZiBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdC8vIFVzZSBwcmV2aW91c2x5LWNhY2hlZCBlbGVtZW50IGluZGV4IGlmIGF2YWlsYWJsZVxuXHRcdFx0XHRcdFx0XHRpZiAoIHVzZUNhY2hlICkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIC4uLmluIGEgZ3ppcC1mcmllbmRseSB3YXlcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbTtcblx0XHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gbm9kZVsgZXhwYW5kbyBdIHx8IChub2RlWyBleHBhbmRvIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdChvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYWNoZSA9IHVuaXF1ZUNhY2hlWyB0eXBlIF0gfHwgW107XG5cdFx0XHRcdFx0XHRcdFx0bm9kZUluZGV4ID0gY2FjaGVbIDAgXSA9PT0gZGlycnVucyAmJiBjYWNoZVsgMSBdO1xuXHRcdFx0XHRcdFx0XHRcdGRpZmYgPSBub2RlSW5kZXg7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHQvLyB4bWwgOm50aC1jaGlsZCguLi4pXG5cdFx0XHRcdFx0XHRcdC8vIG9yIDpudGgtbGFzdC1jaGlsZCguLi4pIG9yIDpudGgoLWxhc3QpPy1vZi10eXBlKC4uLilcblx0XHRcdFx0XHRcdFx0aWYgKCBkaWZmID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBVc2UgdGhlIHNhbWUgbG9vcCBhcyBhYm92ZSB0byBzZWVrIGBlbGVtYCBmcm9tIHRoZSBzdGFydFxuXHRcdFx0XHRcdFx0XHRcdHdoaWxlICggKG5vZGUgPSArK25vZGVJbmRleCAmJiBub2RlICYmIG5vZGVbIGRpciBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHQoZGlmZiA9IG5vZGVJbmRleCA9IDApIHx8IHN0YXJ0LnBvcCgpKSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCAoIG9mVHlwZSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZSA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZVR5cGUgPT09IDEgKSAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQrK2RpZmYgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gQ2FjaGUgdGhlIGluZGV4IG9mIGVhY2ggZW5jb3VudGVyZWQgZWxlbWVudFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHVzZUNhY2hlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHwgKG5vZGVbIGV4cGFuZG8gXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gtMTcwOSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIGRpZmYgXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggbm9kZSA9PT0gZWxlbSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBJbmNvcnBvcmF0ZSB0aGUgb2Zmc2V0LCB0aGVuIGNoZWNrIGFnYWluc3QgY3ljbGUgc2l6ZVxuXHRcdFx0XHRcdFx0ZGlmZiAtPSBsYXN0O1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRpZmYgPT09IGZpcnN0IHx8ICggZGlmZiAlIGZpcnN0ID09PSAwICYmIGRpZmYgLyBmaXJzdCA+PSAwICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRcIlBTRVVET1wiOiBmdW5jdGlvbiggcHNldWRvLCBhcmd1bWVudCApIHtcblx0XHRcdC8vIHBzZXVkby1jbGFzcyBuYW1lcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZVxuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNwc2V1ZG8tY2xhc3Nlc1xuXHRcdFx0Ly8gUHJpb3JpdGl6ZSBieSBjYXNlIHNlbnNpdGl2aXR5IGluIGNhc2UgY3VzdG9tIHBzZXVkb3MgYXJlIGFkZGVkIHdpdGggdXBwZXJjYXNlIGxldHRlcnNcblx0XHRcdC8vIFJlbWVtYmVyIHRoYXQgc2V0RmlsdGVycyBpbmhlcml0cyBmcm9tIHBzZXVkb3Ncblx0XHRcdHZhciBhcmdzLFxuXHRcdFx0XHRmbiA9IEV4cHIucHNldWRvc1sgcHNldWRvIF0gfHwgRXhwci5zZXRGaWx0ZXJzWyBwc2V1ZG8udG9Mb3dlckNhc2UoKSBdIHx8XG5cdFx0XHRcdFx0U2l6emxlLmVycm9yKCBcInVuc3VwcG9ydGVkIHBzZXVkbzogXCIgKyBwc2V1ZG8gKTtcblxuXHRcdFx0Ly8gVGhlIHVzZXIgbWF5IHVzZSBjcmVhdGVQc2V1ZG8gdG8gaW5kaWNhdGUgdGhhdFxuXHRcdFx0Ly8gYXJndW1lbnRzIGFyZSBuZWVkZWQgdG8gY3JlYXRlIHRoZSBmaWx0ZXIgZnVuY3Rpb25cblx0XHRcdC8vIGp1c3QgYXMgU2l6emxlIGRvZXNcblx0XHRcdGlmICggZm5bIGV4cGFuZG8gXSApIHtcblx0XHRcdFx0cmV0dXJuIGZuKCBhcmd1bWVudCApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBCdXQgbWFpbnRhaW4gc3VwcG9ydCBmb3Igb2xkIHNpZ25hdHVyZXNcblx0XHRcdGlmICggZm4ubGVuZ3RoID4gMSApIHtcblx0XHRcdFx0YXJncyA9IFsgcHNldWRvLCBwc2V1ZG8sIFwiXCIsIGFyZ3VtZW50IF07XG5cdFx0XHRcdHJldHVybiBFeHByLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoIHBzZXVkby50b0xvd2VyQ2FzZSgpICkgP1xuXHRcdFx0XHRcdG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcyApIHtcblx0XHRcdFx0XHRcdHZhciBpZHgsXG5cdFx0XHRcdFx0XHRcdG1hdGNoZWQgPSBmbiggc2VlZCwgYXJndW1lbnQgKSxcblx0XHRcdFx0XHRcdFx0aSA9IG1hdGNoZWQubGVuZ3RoO1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRcdGlkeCA9IGluZGV4T2YoIHNlZWQsIG1hdGNoZWRbaV0gKTtcblx0XHRcdFx0XHRcdFx0c2VlZFsgaWR4IF0gPSAhKCBtYXRjaGVzWyBpZHggXSA9IG1hdGNoZWRbaV0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KSA6XG5cdFx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZm4oIGVsZW0sIDAsIGFyZ3MgKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZm47XG5cdFx0fVxuXHR9LFxuXG5cdHBzZXVkb3M6IHtcblx0XHQvLyBQb3RlbnRpYWxseSBjb21wbGV4IHBzZXVkb3Ncblx0XHRcIm5vdFwiOiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdFx0Ly8gVHJpbSB0aGUgc2VsZWN0b3IgcGFzc2VkIHRvIGNvbXBpbGVcblx0XHRcdC8vIHRvIGF2b2lkIHRyZWF0aW5nIGxlYWRpbmcgYW5kIHRyYWlsaW5nXG5cdFx0XHQvLyBzcGFjZXMgYXMgY29tYmluYXRvcnNcblx0XHRcdHZhciBpbnB1dCA9IFtdLFxuXHRcdFx0XHRyZXN1bHRzID0gW10sXG5cdFx0XHRcdG1hdGNoZXIgPSBjb21waWxlKCBzZWxlY3Rvci5yZXBsYWNlKCBydHJpbSwgXCIkMVwiICkgKTtcblxuXHRcdFx0cmV0dXJuIG1hdGNoZXJbIGV4cGFuZG8gXSA/XG5cdFx0XHRcdG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcywgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdHZhciBlbGVtLFxuXHRcdFx0XHRcdFx0dW5tYXRjaGVkID0gbWF0Y2hlciggc2VlZCwgbnVsbCwgeG1sLCBbXSApLFxuXHRcdFx0XHRcdFx0aSA9IHNlZWQubGVuZ3RoO1xuXG5cdFx0XHRcdFx0Ly8gTWF0Y2ggZWxlbWVudHMgdW5tYXRjaGVkIGJ5IGBtYXRjaGVyYFxuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoZWxlbSA9IHVubWF0Y2hlZFtpXSkgKSB7XG5cdFx0XHRcdFx0XHRcdHNlZWRbaV0gPSAhKG1hdGNoZXNbaV0gPSBlbGVtKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pIDpcblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdFx0XHRpbnB1dFswXSA9IGVsZW07XG5cdFx0XHRcdFx0bWF0Y2hlciggaW5wdXQsIG51bGwsIHhtbCwgcmVzdWx0cyApO1xuXHRcdFx0XHRcdC8vIERvbid0IGtlZXAgdGhlIGVsZW1lbnQgKGlzc3VlICMyOTkpXG5cdFx0XHRcdFx0aW5wdXRbMF0gPSBudWxsO1xuXHRcdFx0XHRcdHJldHVybiAhcmVzdWx0cy5wb3AoKTtcblx0XHRcdFx0fTtcblx0XHR9KSxcblxuXHRcdFwiaGFzXCI6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBTaXp6bGUoIHNlbGVjdG9yLCBlbGVtICkubGVuZ3RoID4gMDtcblx0XHRcdH07XG5cdFx0fSksXG5cblx0XHRcImNvbnRhaW5zXCI6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiggdGV4dCApIHtcblx0XHRcdHRleHQgPSB0ZXh0LnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiAoIGVsZW0udGV4dENvbnRlbnQgfHwgZWxlbS5pbm5lclRleHQgfHwgZ2V0VGV4dCggZWxlbSApICkuaW5kZXhPZiggdGV4dCApID4gLTE7XG5cdFx0XHR9O1xuXHRcdH0pLFxuXG5cdFx0Ly8gXCJXaGV0aGVyIGFuIGVsZW1lbnQgaXMgcmVwcmVzZW50ZWQgYnkgYSA6bGFuZygpIHNlbGVjdG9yXG5cdFx0Ly8gaXMgYmFzZWQgc29sZWx5IG9uIHRoZSBlbGVtZW50J3MgbGFuZ3VhZ2UgdmFsdWVcblx0XHQvLyBiZWluZyBlcXVhbCB0byB0aGUgaWRlbnRpZmllciBDLFxuXHRcdC8vIG9yIGJlZ2lubmluZyB3aXRoIHRoZSBpZGVudGlmaWVyIEMgaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgXCItXCIuXG5cdFx0Ly8gVGhlIG1hdGNoaW5nIG9mIEMgYWdhaW5zdCB0aGUgZWxlbWVudCdzIGxhbmd1YWdlIHZhbHVlIGlzIHBlcmZvcm1lZCBjYXNlLWluc2Vuc2l0aXZlbHkuXG5cdFx0Ly8gVGhlIGlkZW50aWZpZXIgQyBkb2VzIG5vdCBoYXZlIHRvIGJlIGEgdmFsaWQgbGFuZ3VhZ2UgbmFtZS5cIlxuXHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jbGFuZy1wc2V1ZG9cblx0XHRcImxhbmdcIjogbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggbGFuZyApIHtcblx0XHRcdC8vIGxhbmcgdmFsdWUgbXVzdCBiZSBhIHZhbGlkIGlkZW50aWZpZXJcblx0XHRcdGlmICggIXJpZGVudGlmaWVyLnRlc3QobGFuZyB8fCBcIlwiKSApIHtcblx0XHRcdFx0U2l6emxlLmVycm9yKCBcInVuc3VwcG9ydGVkIGxhbmc6IFwiICsgbGFuZyApO1xuXHRcdFx0fVxuXHRcdFx0bGFuZyA9IGxhbmcucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgZWxlbUxhbmc7XG5cdFx0XHRcdGRvIHtcblx0XHRcdFx0XHRpZiAoIChlbGVtTGFuZyA9IGRvY3VtZW50SXNIVE1MID9cblx0XHRcdFx0XHRcdGVsZW0ubGFuZyA6XG5cdFx0XHRcdFx0XHRlbGVtLmdldEF0dHJpYnV0ZShcInhtbDpsYW5nXCIpIHx8IGVsZW0uZ2V0QXR0cmlidXRlKFwibGFuZ1wiKSkgKSB7XG5cblx0XHRcdFx0XHRcdGVsZW1MYW5nID0gZWxlbUxhbmcudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtTGFuZyA9PT0gbGFuZyB8fCBlbGVtTGFuZy5pbmRleE9mKCBsYW5nICsgXCItXCIgKSA9PT0gMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gd2hpbGUgKCAoZWxlbSA9IGVsZW0ucGFyZW50Tm9kZSkgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9O1xuXHRcdH0pLFxuXG5cdFx0Ly8gTWlzY2VsbGFuZW91c1xuXHRcdFwidGFyZ2V0XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24gJiYgd2luZG93LmxvY2F0aW9uLmhhc2g7XG5cdFx0XHRyZXR1cm4gaGFzaCAmJiBoYXNoLnNsaWNlKCAxICkgPT09IGVsZW0uaWQ7XG5cdFx0fSxcblxuXHRcdFwicm9vdFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtID09PSBkb2NFbGVtO1xuXHRcdH0sXG5cblx0XHRcImZvY3VzXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0gPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgKCFkb2N1bWVudC5oYXNGb2N1cyB8fCBkb2N1bWVudC5oYXNGb2N1cygpKSAmJiAhIShlbGVtLnR5cGUgfHwgZWxlbS5ocmVmIHx8IH5lbGVtLnRhYkluZGV4KTtcblx0XHR9LFxuXG5cdFx0Ly8gQm9vbGVhbiBwcm9wZXJ0aWVzXG5cdFx0XCJlbmFibGVkXCI6IGNyZWF0ZURpc2FibGVkUHNldWRvKCBmYWxzZSApLFxuXHRcdFwiZGlzYWJsZWRcIjogY3JlYXRlRGlzYWJsZWRQc2V1ZG8oIHRydWUgKSxcblxuXHRcdFwiY2hlY2tlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdC8vIEluIENTUzMsIDpjaGVja2VkIHNob3VsZCByZXR1cm4gYm90aCBjaGVja2VkIGFuZCBzZWxlY3RlZCBlbGVtZW50c1xuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMS9SRUMtY3NzMy1zZWxlY3RvcnMtMjAxMTA5MjkvI2NoZWNrZWRcblx0XHRcdHZhciBub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiAobm9kZU5hbWUgPT09IFwiaW5wdXRcIiAmJiAhIWVsZW0uY2hlY2tlZCkgfHwgKG5vZGVOYW1lID09PSBcIm9wdGlvblwiICYmICEhZWxlbS5zZWxlY3RlZCk7XG5cdFx0fSxcblxuXHRcdFwic2VsZWN0ZWRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHQvLyBBY2Nlc3NpbmcgdGhpcyBwcm9wZXJ0eSBtYWtlcyBzZWxlY3RlZC1ieS1kZWZhdWx0XG5cdFx0XHQvLyBvcHRpb25zIGluIFNhZmFyaSB3b3JrIHByb3Blcmx5XG5cdFx0XHRpZiAoIGVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0ZWxlbS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBlbGVtLnNlbGVjdGVkID09PSB0cnVlO1xuXHRcdH0sXG5cblx0XHQvLyBDb250ZW50c1xuXHRcdFwiZW1wdHlcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2VtcHR5LXBzZXVkb1xuXHRcdFx0Ly8gOmVtcHR5IGlzIG5lZ2F0ZWQgYnkgZWxlbWVudCAoMSkgb3IgY29udGVudCBub2RlcyAodGV4dDogMzsgY2RhdGE6IDQ7IGVudGl0eSByZWY6IDUpLFxuXHRcdFx0Ly8gICBidXQgbm90IGJ5IG90aGVycyAoY29tbWVudDogODsgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbjogNzsgZXRjLilcblx0XHRcdC8vIG5vZGVUeXBlIDwgNiB3b3JrcyBiZWNhdXNlIGF0dHJpYnV0ZXMgKDIpIGRvIG5vdCBhcHBlYXIgYXMgY2hpbGRyZW5cblx0XHRcdGZvciAoIGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7IGVsZW07IGVsZW0gPSBlbGVtLm5leHRTaWJsaW5nICkge1xuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPCA2ICkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSxcblxuXHRcdFwicGFyZW50XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuICFFeHByLnBzZXVkb3NbXCJlbXB0eVwiXSggZWxlbSApO1xuXHRcdH0sXG5cblx0XHQvLyBFbGVtZW50L2lucHV0IHR5cGVzXG5cdFx0XCJoZWFkZXJcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gcmhlYWRlci50ZXN0KCBlbGVtLm5vZGVOYW1lICk7XG5cdFx0fSxcblxuXHRcdFwiaW5wdXRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gcmlucHV0cy50ZXN0KCBlbGVtLm5vZGVOYW1lICk7XG5cdFx0fSxcblxuXHRcdFwiYnV0dG9uXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRyZXR1cm4gbmFtZSA9PT0gXCJpbnB1dFwiICYmIGVsZW0udHlwZSA9PT0gXCJidXR0b25cIiB8fCBuYW1lID09PSBcImJ1dHRvblwiO1xuXHRcdH0sXG5cblx0XHRcInRleHRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgYXR0cjtcblx0XHRcdHJldHVybiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiaW5wdXRcIiAmJlxuXHRcdFx0XHRlbGVtLnR5cGUgPT09IFwidGV4dFwiICYmXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUU8OFxuXHRcdFx0XHQvLyBOZXcgSFRNTDUgYXR0cmlidXRlIHZhbHVlcyAoZS5nLiwgXCJzZWFyY2hcIikgYXBwZWFyIHdpdGggZWxlbS50eXBlID09PSBcInRleHRcIlxuXHRcdFx0XHQoIChhdHRyID0gZWxlbS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpKSA9PSBudWxsIHx8IGF0dHIudG9Mb3dlckNhc2UoKSA9PT0gXCJ0ZXh0XCIgKTtcblx0XHR9LFxuXG5cdFx0Ly8gUG9zaXRpb24taW4tY29sbGVjdGlvblxuXHRcdFwiZmlyc3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBbIDAgXTtcblx0XHR9KSxcblxuXHRcdFwibGFzdFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcblx0XHRcdHJldHVybiBbIGxlbmd0aCAtIDEgXTtcblx0XHR9KSxcblxuXHRcdFwiZXFcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0cmV0dXJuIFsgYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudCBdO1xuXHRcdH0pLFxuXG5cdFx0XCJldmVuXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuXHRcdFx0dmFyIGkgPSAwO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpICs9IDIgKSB7XG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdH0pLFxuXG5cdFx0XCJvZGRcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7XG5cdFx0XHR2YXIgaSA9IDE7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkgKz0gMiApIHtcblx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0fSksXG5cblx0XHRcImx0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcblx0XHRcdHZhciBpID0gYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudDtcblx0XHRcdGZvciAoIDsgLS1pID49IDA7ICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9KSxcblxuXHRcdFwiZ3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0dmFyIGkgPSBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50O1xuXHRcdFx0Zm9yICggOyArK2kgPCBsZW5ndGg7ICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9KVxuXHR9XG59O1xuXG5FeHByLnBzZXVkb3NbXCJudGhcIl0gPSBFeHByLnBzZXVkb3NbXCJlcVwiXTtcblxuLy8gQWRkIGJ1dHRvbi9pbnB1dCB0eXBlIHBzZXVkb3NcbmZvciAoIGkgaW4geyByYWRpbzogdHJ1ZSwgY2hlY2tib3g6IHRydWUsIGZpbGU6IHRydWUsIHBhc3N3b3JkOiB0cnVlLCBpbWFnZTogdHJ1ZSB9ICkge1xuXHRFeHByLnBzZXVkb3NbIGkgXSA9IGNyZWF0ZUlucHV0UHNldWRvKCBpICk7XG59XG5mb3IgKCBpIGluIHsgc3VibWl0OiB0cnVlLCByZXNldDogdHJ1ZSB9ICkge1xuXHRFeHByLnBzZXVkb3NbIGkgXSA9IGNyZWF0ZUJ1dHRvblBzZXVkbyggaSApO1xufVxuXG4vLyBFYXN5IEFQSSBmb3IgY3JlYXRpbmcgbmV3IHNldEZpbHRlcnNcbmZ1bmN0aW9uIHNldEZpbHRlcnMoKSB7fVxuc2V0RmlsdGVycy5wcm90b3R5cGUgPSBFeHByLmZpbHRlcnMgPSBFeHByLnBzZXVkb3M7XG5FeHByLnNldEZpbHRlcnMgPSBuZXcgc2V0RmlsdGVycygpO1xuXG50b2tlbml6ZSA9IFNpenpsZS50b2tlbml6ZSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgcGFyc2VPbmx5ICkge1xuXHR2YXIgbWF0Y2hlZCwgbWF0Y2gsIHRva2VucywgdHlwZSxcblx0XHRzb0ZhciwgZ3JvdXBzLCBwcmVGaWx0ZXJzLFxuXHRcdGNhY2hlZCA9IHRva2VuQ2FjaGVbIHNlbGVjdG9yICsgXCIgXCIgXTtcblxuXHRpZiAoIGNhY2hlZCApIHtcblx0XHRyZXR1cm4gcGFyc2VPbmx5ID8gMCA6IGNhY2hlZC5zbGljZSggMCApO1xuXHR9XG5cblx0c29GYXIgPSBzZWxlY3Rvcjtcblx0Z3JvdXBzID0gW107XG5cdHByZUZpbHRlcnMgPSBFeHByLnByZUZpbHRlcjtcblxuXHR3aGlsZSAoIHNvRmFyICkge1xuXG5cdFx0Ly8gQ29tbWEgYW5kIGZpcnN0IHJ1blxuXHRcdGlmICggIW1hdGNoZWQgfHwgKG1hdGNoID0gcmNvbW1hLmV4ZWMoIHNvRmFyICkpICkge1xuXHRcdFx0aWYgKCBtYXRjaCApIHtcblx0XHRcdFx0Ly8gRG9uJ3QgY29uc3VtZSB0cmFpbGluZyBjb21tYXMgYXMgdmFsaWRcblx0XHRcdFx0c29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hbMF0ubGVuZ3RoICkgfHwgc29GYXI7XG5cdFx0XHR9XG5cdFx0XHRncm91cHMucHVzaCggKHRva2VucyA9IFtdKSApO1xuXHRcdH1cblxuXHRcdG1hdGNoZWQgPSBmYWxzZTtcblxuXHRcdC8vIENvbWJpbmF0b3JzXG5cdFx0aWYgKCAobWF0Y2ggPSByY29tYmluYXRvcnMuZXhlYyggc29GYXIgKSkgKSB7XG5cdFx0XHRtYXRjaGVkID0gbWF0Y2guc2hpZnQoKTtcblx0XHRcdHRva2Vucy5wdXNoKHtcblx0XHRcdFx0dmFsdWU6IG1hdGNoZWQsXG5cdFx0XHRcdC8vIENhc3QgZGVzY2VuZGFudCBjb21iaW5hdG9ycyB0byBzcGFjZVxuXHRcdFx0XHR0eXBlOiBtYXRjaFswXS5yZXBsYWNlKCBydHJpbSwgXCIgXCIgKVxuXHRcdFx0fSk7XG5cdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApO1xuXHRcdH1cblxuXHRcdC8vIEZpbHRlcnNcblx0XHRmb3IgKCB0eXBlIGluIEV4cHIuZmlsdGVyICkge1xuXHRcdFx0aWYgKCAobWF0Y2ggPSBtYXRjaEV4cHJbIHR5cGUgXS5leGVjKCBzb0ZhciApKSAmJiAoIXByZUZpbHRlcnNbIHR5cGUgXSB8fFxuXHRcdFx0XHQobWF0Y2ggPSBwcmVGaWx0ZXJzWyB0eXBlIF0oIG1hdGNoICkpKSApIHtcblx0XHRcdFx0bWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7XG5cdFx0XHRcdHRva2Vucy5wdXNoKHtcblx0XHRcdFx0XHR2YWx1ZTogbWF0Y2hlZCxcblx0XHRcdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0XHRcdG1hdGNoZXM6IG1hdGNoXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggIW1hdGNoZWQgKSB7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHQvLyBSZXR1cm4gdGhlIGxlbmd0aCBvZiB0aGUgaW52YWxpZCBleGNlc3Ncblx0Ly8gaWYgd2UncmUganVzdCBwYXJzaW5nXG5cdC8vIE90aGVyd2lzZSwgdGhyb3cgYW4gZXJyb3Igb3IgcmV0dXJuIHRva2Vuc1xuXHRyZXR1cm4gcGFyc2VPbmx5ID9cblx0XHRzb0Zhci5sZW5ndGggOlxuXHRcdHNvRmFyID9cblx0XHRcdFNpenpsZS5lcnJvciggc2VsZWN0b3IgKSA6XG5cdFx0XHQvLyBDYWNoZSB0aGUgdG9rZW5zXG5cdFx0XHR0b2tlbkNhY2hlKCBzZWxlY3RvciwgZ3JvdXBzICkuc2xpY2UoIDAgKTtcbn07XG5cbmZ1bmN0aW9uIHRvU2VsZWN0b3IoIHRva2VucyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGxlbiA9IHRva2Vucy5sZW5ndGgsXG5cdFx0c2VsZWN0b3IgPSBcIlwiO1xuXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRzZWxlY3RvciArPSB0b2tlbnNbaV0udmFsdWU7XG5cdH1cblx0cmV0dXJuIHNlbGVjdG9yO1xufVxuXG5mdW5jdGlvbiBhZGRDb21iaW5hdG9yKCBtYXRjaGVyLCBjb21iaW5hdG9yLCBiYXNlICkge1xuXHR2YXIgZGlyID0gY29tYmluYXRvci5kaXIsXG5cdFx0c2tpcCA9IGNvbWJpbmF0b3IubmV4dCxcblx0XHRrZXkgPSBza2lwIHx8IGRpcixcblx0XHRjaGVja05vbkVsZW1lbnRzID0gYmFzZSAmJiBrZXkgPT09IFwicGFyZW50Tm9kZVwiLFxuXHRcdGRvbmVOYW1lID0gZG9uZSsrO1xuXG5cdHJldHVybiBjb21iaW5hdG9yLmZpcnN0ID9cblx0XHQvLyBDaGVjayBhZ2FpbnN0IGNsb3Nlc3QgYW5jZXN0b3IvcHJlY2VkaW5nIGVsZW1lbnRcblx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0d2hpbGUgKCAoZWxlbSA9IGVsZW1bIGRpciBdKSApIHtcblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSA6XG5cblx0XHQvLyBDaGVjayBhZ2FpbnN0IGFsbCBhbmNlc3Rvci9wcmVjZWRpbmcgZWxlbWVudHNcblx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0dmFyIG9sZENhY2hlLCB1bmlxdWVDYWNoZSwgb3V0ZXJDYWNoZSxcblx0XHRcdFx0bmV3Q2FjaGUgPSBbIGRpcnJ1bnMsIGRvbmVOYW1lIF07XG5cblx0XHRcdC8vIFdlIGNhbid0IHNldCBhcmJpdHJhcnkgZGF0YSBvbiBYTUwgbm9kZXMsIHNvIHRoZXkgZG9uJ3QgYmVuZWZpdCBmcm9tIGNvbWJpbmF0b3IgY2FjaGluZ1xuXHRcdFx0aWYgKCB4bWwgKSB7XG5cdFx0XHRcdHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gZWxlbVsgZXhwYW5kbyBdIHx8IChlbGVtWyBleHBhbmRvIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBlbGVtLnVuaXF1ZUlEIF0gfHwgKG91dGVyQ2FjaGVbIGVsZW0udW5pcXVlSUQgXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0aWYgKCBza2lwICYmIHNraXAgPT09IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSApIHtcblx0XHRcdFx0XHRcdFx0ZWxlbSA9IGVsZW1bIGRpciBdIHx8IGVsZW07XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCAob2xkQ2FjaGUgPSB1bmlxdWVDYWNoZVsga2V5IF0pICYmXG5cdFx0XHRcdFx0XHRcdG9sZENhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgb2xkQ2FjaGVbIDEgXSA9PT0gZG9uZU5hbWUgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQXNzaWduIHRvIG5ld0NhY2hlIHNvIHJlc3VsdHMgYmFjay1wcm9wYWdhdGUgdG8gcHJldmlvdXMgZWxlbWVudHNcblx0XHRcdFx0XHRcdFx0cmV0dXJuIChuZXdDYWNoZVsgMiBdID0gb2xkQ2FjaGVbIDIgXSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQvLyBSZXVzZSBuZXdjYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzXG5cdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyBrZXkgXSA9IG5ld0NhY2hlO1xuXG5cdFx0XHRcdFx0XHRcdC8vIEEgbWF0Y2ggbWVhbnMgd2UncmUgZG9uZTsgYSBmYWlsIG1lYW5zIHdlIGhhdmUgdG8ga2VlcCBjaGVja2luZ1xuXHRcdFx0XHRcdFx0XHRpZiAoIChuZXdDYWNoZVsgMiBdID0gbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICkpICkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcbn1cblxuZnVuY3Rpb24gZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICkge1xuXHRyZXR1cm4gbWF0Y2hlcnMubGVuZ3RoID4gMSA/XG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHZhciBpID0gbWF0Y2hlcnMubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGlmICggIW1hdGNoZXJzW2ldKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0gOlxuXHRcdG1hdGNoZXJzWzBdO1xufVxuXG5mdW5jdGlvbiBtdWx0aXBsZUNvbnRleHRzKCBzZWxlY3RvciwgY29udGV4dHMsIHJlc3VsdHMgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsZW4gPSBjb250ZXh0cy5sZW5ndGg7XG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFNpenpsZSggc2VsZWN0b3IsIGNvbnRleHRzW2ldLCByZXN1bHRzICk7XG5cdH1cblx0cmV0dXJuIHJlc3VsdHM7XG59XG5cbmZ1bmN0aW9uIGNvbmRlbnNlKCB1bm1hdGNoZWQsIG1hcCwgZmlsdGVyLCBjb250ZXh0LCB4bWwgKSB7XG5cdHZhciBlbGVtLFxuXHRcdG5ld1VubWF0Y2hlZCA9IFtdLFxuXHRcdGkgPSAwLFxuXHRcdGxlbiA9IHVubWF0Y2hlZC5sZW5ndGgsXG5cdFx0bWFwcGVkID0gbWFwICE9IG51bGw7XG5cblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0aWYgKCAoZWxlbSA9IHVubWF0Y2hlZFtpXSkgKSB7XG5cdFx0XHRpZiAoICFmaWx0ZXIgfHwgZmlsdGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0bmV3VW5tYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0aWYgKCBtYXBwZWQgKSB7XG5cdFx0XHRcdFx0bWFwLnB1c2goIGkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBuZXdVbm1hdGNoZWQ7XG59XG5cbmZ1bmN0aW9uIHNldE1hdGNoZXIoIHByZUZpbHRlciwgc2VsZWN0b3IsIG1hdGNoZXIsIHBvc3RGaWx0ZXIsIHBvc3RGaW5kZXIsIHBvc3RTZWxlY3RvciApIHtcblx0aWYgKCBwb3N0RmlsdGVyICYmICFwb3N0RmlsdGVyWyBleHBhbmRvIF0gKSB7XG5cdFx0cG9zdEZpbHRlciA9IHNldE1hdGNoZXIoIHBvc3RGaWx0ZXIgKTtcblx0fVxuXHRpZiAoIHBvc3RGaW5kZXIgJiYgIXBvc3RGaW5kZXJbIGV4cGFuZG8gXSApIHtcblx0XHRwb3N0RmluZGVyID0gc2V0TWF0Y2hlciggcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yICk7XG5cdH1cblx0cmV0dXJuIG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgcmVzdWx0cywgY29udGV4dCwgeG1sICkge1xuXHRcdHZhciB0ZW1wLCBpLCBlbGVtLFxuXHRcdFx0cHJlTWFwID0gW10sXG5cdFx0XHRwb3N0TWFwID0gW10sXG5cdFx0XHRwcmVleGlzdGluZyA9IHJlc3VsdHMubGVuZ3RoLFxuXG5cdFx0XHQvLyBHZXQgaW5pdGlhbCBlbGVtZW50cyBmcm9tIHNlZWQgb3IgY29udGV4dFxuXHRcdFx0ZWxlbXMgPSBzZWVkIHx8IG11bHRpcGxlQ29udGV4dHMoIHNlbGVjdG9yIHx8IFwiKlwiLCBjb250ZXh0Lm5vZGVUeXBlID8gWyBjb250ZXh0IF0gOiBjb250ZXh0LCBbXSApLFxuXG5cdFx0XHQvLyBQcmVmaWx0ZXIgdG8gZ2V0IG1hdGNoZXIgaW5wdXQsIHByZXNlcnZpbmcgYSBtYXAgZm9yIHNlZWQtcmVzdWx0cyBzeW5jaHJvbml6YXRpb25cblx0XHRcdG1hdGNoZXJJbiA9IHByZUZpbHRlciAmJiAoIHNlZWQgfHwgIXNlbGVjdG9yICkgP1xuXHRcdFx0XHRjb25kZW5zZSggZWxlbXMsIHByZU1hcCwgcHJlRmlsdGVyLCBjb250ZXh0LCB4bWwgKSA6XG5cdFx0XHRcdGVsZW1zLFxuXG5cdFx0XHRtYXRjaGVyT3V0ID0gbWF0Y2hlciA/XG5cdFx0XHRcdC8vIElmIHdlIGhhdmUgYSBwb3N0RmluZGVyLCBvciBmaWx0ZXJlZCBzZWVkLCBvciBub24tc2VlZCBwb3N0RmlsdGVyIG9yIHByZWV4aXN0aW5nIHJlc3VsdHMsXG5cdFx0XHRcdHBvc3RGaW5kZXIgfHwgKCBzZWVkID8gcHJlRmlsdGVyIDogcHJlZXhpc3RpbmcgfHwgcG9zdEZpbHRlciApID9cblxuXHRcdFx0XHRcdC8vIC4uLmludGVybWVkaWF0ZSBwcm9jZXNzaW5nIGlzIG5lY2Vzc2FyeVxuXHRcdFx0XHRcdFtdIDpcblxuXHRcdFx0XHRcdC8vIC4uLm90aGVyd2lzZSB1c2UgcmVzdWx0cyBkaXJlY3RseVxuXHRcdFx0XHRcdHJlc3VsdHMgOlxuXHRcdFx0XHRtYXRjaGVySW47XG5cblx0XHQvLyBGaW5kIHByaW1hcnkgbWF0Y2hlc1xuXHRcdGlmICggbWF0Y2hlciApIHtcblx0XHRcdG1hdGNoZXIoIG1hdGNoZXJJbiwgbWF0Y2hlck91dCwgY29udGV4dCwgeG1sICk7XG5cdFx0fVxuXG5cdFx0Ly8gQXBwbHkgcG9zdEZpbHRlclxuXHRcdGlmICggcG9zdEZpbHRlciApIHtcblx0XHRcdHRlbXAgPSBjb25kZW5zZSggbWF0Y2hlck91dCwgcG9zdE1hcCApO1xuXHRcdFx0cG9zdEZpbHRlciggdGVtcCwgW10sIGNvbnRleHQsIHhtbCApO1xuXG5cdFx0XHQvLyBVbi1tYXRjaCBmYWlsaW5nIGVsZW1lbnRzIGJ5IG1vdmluZyB0aGVtIGJhY2sgdG8gbWF0Y2hlckluXG5cdFx0XHRpID0gdGVtcC5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0aWYgKCAoZWxlbSA9IHRlbXBbaV0pICkge1xuXHRcdFx0XHRcdG1hdGNoZXJPdXRbIHBvc3RNYXBbaV0gXSA9ICEobWF0Y2hlckluWyBwb3N0TWFwW2ldIF0gPSBlbGVtKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggc2VlZCApIHtcblx0XHRcdGlmICggcG9zdEZpbmRlciB8fCBwcmVGaWx0ZXIgKSB7XG5cdFx0XHRcdGlmICggcG9zdEZpbmRlciApIHtcblx0XHRcdFx0XHQvLyBHZXQgdGhlIGZpbmFsIG1hdGNoZXJPdXQgYnkgY29uZGVuc2luZyB0aGlzIGludGVybWVkaWF0ZSBpbnRvIHBvc3RGaW5kZXIgY29udGV4dHNcblx0XHRcdFx0XHR0ZW1wID0gW107XG5cdFx0XHRcdFx0aSA9IG1hdGNoZXJPdXQubGVuZ3RoO1xuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoZWxlbSA9IG1hdGNoZXJPdXRbaV0pICkge1xuXHRcdFx0XHRcdFx0XHQvLyBSZXN0b3JlIG1hdGNoZXJJbiBzaW5jZSBlbGVtIGlzIG5vdCB5ZXQgYSBmaW5hbCBtYXRjaFxuXHRcdFx0XHRcdFx0XHR0ZW1wLnB1c2goIChtYXRjaGVySW5baV0gPSBlbGVtKSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRwb3N0RmluZGVyKCBudWxsLCAobWF0Y2hlck91dCA9IFtdKSwgdGVtcCwgeG1sICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBNb3ZlIG1hdGNoZWQgZWxlbWVudHMgZnJvbSBzZWVkIHRvIHJlc3VsdHMgdG8ga2VlcCB0aGVtIHN5bmNocm9uaXplZFxuXHRcdFx0XHRpID0gbWF0Y2hlck91dC5sZW5ndGg7XG5cdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdGlmICggKGVsZW0gPSBtYXRjaGVyT3V0W2ldKSAmJlxuXHRcdFx0XHRcdFx0KHRlbXAgPSBwb3N0RmluZGVyID8gaW5kZXhPZiggc2VlZCwgZWxlbSApIDogcHJlTWFwW2ldKSA+IC0xICkge1xuXG5cdFx0XHRcdFx0XHRzZWVkW3RlbXBdID0gIShyZXN1bHRzW3RlbXBdID0gZWxlbSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBBZGQgZWxlbWVudHMgdG8gcmVzdWx0cywgdGhyb3VnaCBwb3N0RmluZGVyIGlmIGRlZmluZWRcblx0XHR9IGVsc2Uge1xuXHRcdFx0bWF0Y2hlck91dCA9IGNvbmRlbnNlKFxuXHRcdFx0XHRtYXRjaGVyT3V0ID09PSByZXN1bHRzID9cblx0XHRcdFx0XHRtYXRjaGVyT3V0LnNwbGljZSggcHJlZXhpc3RpbmcsIG1hdGNoZXJPdXQubGVuZ3RoICkgOlxuXHRcdFx0XHRcdG1hdGNoZXJPdXRcblx0XHRcdCk7XG5cdFx0XHRpZiAoIHBvc3RGaW5kZXIgKSB7XG5cdFx0XHRcdHBvc3RGaW5kZXIoIG51bGwsIHJlc3VsdHMsIG1hdGNoZXJPdXQsIHhtbCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgbWF0Y2hlck91dCApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMgKSB7XG5cdHZhciBjaGVja0NvbnRleHQsIG1hdGNoZXIsIGosXG5cdFx0bGVuID0gdG9rZW5zLmxlbmd0aCxcblx0XHRsZWFkaW5nUmVsYXRpdmUgPSBFeHByLnJlbGF0aXZlWyB0b2tlbnNbMF0udHlwZSBdLFxuXHRcdGltcGxpY2l0UmVsYXRpdmUgPSBsZWFkaW5nUmVsYXRpdmUgfHwgRXhwci5yZWxhdGl2ZVtcIiBcIl0sXG5cdFx0aSA9IGxlYWRpbmdSZWxhdGl2ZSA/IDEgOiAwLFxuXG5cdFx0Ly8gVGhlIGZvdW5kYXRpb25hbCBtYXRjaGVyIGVuc3VyZXMgdGhhdCBlbGVtZW50cyBhcmUgcmVhY2hhYmxlIGZyb20gdG9wLWxldmVsIGNvbnRleHQocylcblx0XHRtYXRjaENvbnRleHQgPSBhZGRDb21iaW5hdG9yKCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtID09PSBjaGVja0NvbnRleHQ7XG5cdFx0fSwgaW1wbGljaXRSZWxhdGl2ZSwgdHJ1ZSApLFxuXHRcdG1hdGNoQW55Q29udGV4dCA9IGFkZENvbWJpbmF0b3IoIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGluZGV4T2YoIGNoZWNrQ29udGV4dCwgZWxlbSApID4gLTE7XG5cdFx0fSwgaW1wbGljaXRSZWxhdGl2ZSwgdHJ1ZSApLFxuXHRcdG1hdGNoZXJzID0gWyBmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0dmFyIHJldCA9ICggIWxlYWRpbmdSZWxhdGl2ZSAmJiAoIHhtbCB8fCBjb250ZXh0ICE9PSBvdXRlcm1vc3RDb250ZXh0ICkgKSB8fCAoXG5cdFx0XHRcdChjaGVja0NvbnRleHQgPSBjb250ZXh0KS5ub2RlVHlwZSA/XG5cdFx0XHRcdFx0bWF0Y2hDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSA6XG5cdFx0XHRcdFx0bWF0Y2hBbnlDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSApO1xuXHRcdFx0Ly8gQXZvaWQgaGFuZ2luZyBvbnRvIGVsZW1lbnQgKGlzc3VlICMyOTkpXG5cdFx0XHRjaGVja0NvbnRleHQgPSBudWxsO1xuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9IF07XG5cblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0aWYgKCAobWF0Y2hlciA9IEV4cHIucmVsYXRpdmVbIHRva2Vuc1tpXS50eXBlIF0pICkge1xuXHRcdFx0bWF0Y2hlcnMgPSBbIGFkZENvbWJpbmF0b3IoZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICksIG1hdGNoZXIpIF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdG1hdGNoZXIgPSBFeHByLmZpbHRlclsgdG9rZW5zW2ldLnR5cGUgXS5hcHBseSggbnVsbCwgdG9rZW5zW2ldLm1hdGNoZXMgKTtcblxuXHRcdFx0Ly8gUmV0dXJuIHNwZWNpYWwgdXBvbiBzZWVpbmcgYSBwb3NpdGlvbmFsIG1hdGNoZXJcblx0XHRcdGlmICggbWF0Y2hlclsgZXhwYW5kbyBdICkge1xuXHRcdFx0XHQvLyBGaW5kIHRoZSBuZXh0IHJlbGF0aXZlIG9wZXJhdG9yIChpZiBhbnkpIGZvciBwcm9wZXIgaGFuZGxpbmdcblx0XHRcdFx0aiA9ICsraTtcblx0XHRcdFx0Zm9yICggOyBqIDwgbGVuOyBqKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBFeHByLnJlbGF0aXZlWyB0b2tlbnNbal0udHlwZSBdICkge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBzZXRNYXRjaGVyKFxuXHRcdFx0XHRcdGkgPiAxICYmIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApLFxuXHRcdFx0XHRcdGkgPiAxICYmIHRvU2VsZWN0b3IoXG5cdFx0XHRcdFx0XHQvLyBJZiB0aGUgcHJlY2VkaW5nIHRva2VuIHdhcyBhIGRlc2NlbmRhbnQgY29tYmluYXRvciwgaW5zZXJ0IGFuIGltcGxpY2l0IGFueS1lbGVtZW50IGAqYFxuXHRcdFx0XHRcdFx0dG9rZW5zLnNsaWNlKCAwLCBpIC0gMSApLmNvbmNhdCh7IHZhbHVlOiB0b2tlbnNbIGkgLSAyIF0udHlwZSA9PT0gXCIgXCIgPyBcIipcIiA6IFwiXCIgfSlcblx0XHRcdFx0XHQpLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSxcblx0XHRcdFx0XHRtYXRjaGVyLFxuXHRcdFx0XHRcdGkgPCBqICYmIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMuc2xpY2UoIGksIGogKSApLFxuXHRcdFx0XHRcdGogPCBsZW4gJiYgbWF0Y2hlckZyb21Ub2tlbnMoICh0b2tlbnMgPSB0b2tlbnMuc2xpY2UoIGogKSkgKSxcblx0XHRcdFx0XHRqIDwgbGVuICYmIHRvU2VsZWN0b3IoIHRva2VucyApXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRtYXRjaGVycy5wdXNoKCBtYXRjaGVyICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApO1xufVxuXG5mdW5jdGlvbiBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMgKSB7XG5cdHZhciBieVNldCA9IHNldE1hdGNoZXJzLmxlbmd0aCA+IDAsXG5cdFx0YnlFbGVtZW50ID0gZWxlbWVudE1hdGNoZXJzLmxlbmd0aCA+IDAsXG5cdFx0c3VwZXJNYXRjaGVyID0gZnVuY3Rpb24oIHNlZWQsIGNvbnRleHQsIHhtbCwgcmVzdWx0cywgb3V0ZXJtb3N0ICkge1xuXHRcdFx0dmFyIGVsZW0sIGosIG1hdGNoZXIsXG5cdFx0XHRcdG1hdGNoZWRDb3VudCA9IDAsXG5cdFx0XHRcdGkgPSBcIjBcIixcblx0XHRcdFx0dW5tYXRjaGVkID0gc2VlZCAmJiBbXSxcblx0XHRcdFx0c2V0TWF0Y2hlZCA9IFtdLFxuXHRcdFx0XHRjb250ZXh0QmFja3VwID0gb3V0ZXJtb3N0Q29udGV4dCxcblx0XHRcdFx0Ly8gV2UgbXVzdCBhbHdheXMgaGF2ZSBlaXRoZXIgc2VlZCBlbGVtZW50cyBvciBvdXRlcm1vc3QgY29udGV4dFxuXHRcdFx0XHRlbGVtcyA9IHNlZWQgfHwgYnlFbGVtZW50ICYmIEV4cHIuZmluZFtcIlRBR1wiXSggXCIqXCIsIG91dGVybW9zdCApLFxuXHRcdFx0XHQvLyBVc2UgaW50ZWdlciBkaXJydW5zIGlmZiB0aGlzIGlzIHRoZSBvdXRlcm1vc3QgbWF0Y2hlclxuXHRcdFx0XHRkaXJydW5zVW5pcXVlID0gKGRpcnJ1bnMgKz0gY29udGV4dEJhY2t1cCA9PSBudWxsID8gMSA6IE1hdGgucmFuZG9tKCkgfHwgMC4xKSxcblx0XHRcdFx0bGVuID0gZWxlbXMubGVuZ3RoO1xuXG5cdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0b3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHQgPT09IGRvY3VtZW50IHx8IGNvbnRleHQgfHwgb3V0ZXJtb3N0O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgZWxlbWVudHMgcGFzc2luZyBlbGVtZW50TWF0Y2hlcnMgZGlyZWN0bHkgdG8gcmVzdWx0c1xuXHRcdFx0Ly8gU3VwcG9ydDogSUU8OSwgU2FmYXJpXG5cdFx0XHQvLyBUb2xlcmF0ZSBOb2RlTGlzdCBwcm9wZXJ0aWVzIChJRTogXCJsZW5ndGhcIjsgU2FmYXJpOiA8bnVtYmVyPikgbWF0Y2hpbmcgZWxlbWVudHMgYnkgaWRcblx0XHRcdGZvciAoIDsgaSAhPT0gbGVuICYmIChlbGVtID0gZWxlbXNbaV0pICE9IG51bGw7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBieUVsZW1lbnQgJiYgZWxlbSApIHtcblx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHRpZiAoICFjb250ZXh0ICYmIGVsZW0ub3duZXJEb2N1bWVudCAhPT0gZG9jdW1lbnQgKSB7XG5cdFx0XHRcdFx0XHRzZXREb2N1bWVudCggZWxlbSApO1xuXHRcdFx0XHRcdFx0eG1sID0gIWRvY3VtZW50SXNIVE1MO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR3aGlsZSAoIChtYXRjaGVyID0gZWxlbWVudE1hdGNoZXJzW2orK10pICkge1xuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVyKCBlbGVtLCBjb250ZXh0IHx8IGRvY3VtZW50LCB4bWwpICkge1xuXHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggb3V0ZXJtb3N0ICkge1xuXHRcdFx0XHRcdFx0ZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gVHJhY2sgdW5tYXRjaGVkIGVsZW1lbnRzIGZvciBzZXQgZmlsdGVyc1xuXHRcdFx0XHRpZiAoIGJ5U2V0ICkge1xuXHRcdFx0XHRcdC8vIFRoZXkgd2lsbCBoYXZlIGdvbmUgdGhyb3VnaCBhbGwgcG9zc2libGUgbWF0Y2hlcnNcblx0XHRcdFx0XHRpZiAoIChlbGVtID0gIW1hdGNoZXIgJiYgZWxlbSkgKSB7XG5cdFx0XHRcdFx0XHRtYXRjaGVkQ291bnQtLTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBMZW5ndGhlbiB0aGUgYXJyYXkgZm9yIGV2ZXJ5IGVsZW1lbnQsIG1hdGNoZWQgb3Igbm90XG5cdFx0XHRcdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0XHRcdFx0dW5tYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gYGlgIGlzIG5vdyB0aGUgY291bnQgb2YgZWxlbWVudHMgdmlzaXRlZCBhYm92ZSwgYW5kIGFkZGluZyBpdCB0byBgbWF0Y2hlZENvdW50YFxuXHRcdFx0Ly8gbWFrZXMgdGhlIGxhdHRlciBub25uZWdhdGl2ZS5cblx0XHRcdG1hdGNoZWRDb3VudCArPSBpO1xuXG5cdFx0XHQvLyBBcHBseSBzZXQgZmlsdGVycyB0byB1bm1hdGNoZWQgZWxlbWVudHNcblx0XHRcdC8vIE5PVEU6IFRoaXMgY2FuIGJlIHNraXBwZWQgaWYgdGhlcmUgYXJlIG5vIHVubWF0Y2hlZCBlbGVtZW50cyAoaS5lLiwgYG1hdGNoZWRDb3VudGBcblx0XHRcdC8vIGVxdWFscyBgaWApLCB1bmxlc3Mgd2UgZGlkbid0IHZpc2l0IF9hbnlfIGVsZW1lbnRzIGluIHRoZSBhYm92ZSBsb29wIGJlY2F1c2Ugd2UgaGF2ZVxuXHRcdFx0Ly8gbm8gZWxlbWVudCBtYXRjaGVycyBhbmQgbm8gc2VlZC5cblx0XHRcdC8vIEluY3JlbWVudGluZyBhbiBpbml0aWFsbHktc3RyaW5nIFwiMFwiIGBpYCBhbGxvd3MgYGlgIHRvIHJlbWFpbiBhIHN0cmluZyBvbmx5IGluIHRoYXRcblx0XHRcdC8vIGNhc2UsIHdoaWNoIHdpbGwgcmVzdWx0IGluIGEgXCIwMFwiIGBtYXRjaGVkQ291bnRgIHRoYXQgZGlmZmVycyBmcm9tIGBpYCBidXQgaXMgYWxzb1xuXHRcdFx0Ly8gbnVtZXJpY2FsbHkgemVyby5cblx0XHRcdGlmICggYnlTZXQgJiYgaSAhPT0gbWF0Y2hlZENvdW50ICkge1xuXHRcdFx0XHRqID0gMDtcblx0XHRcdFx0d2hpbGUgKCAobWF0Y2hlciA9IHNldE1hdGNoZXJzW2orK10pICkge1xuXHRcdFx0XHRcdG1hdGNoZXIoIHVubWF0Y2hlZCwgc2V0TWF0Y2hlZCwgY29udGV4dCwgeG1sICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIHNlZWQgKSB7XG5cdFx0XHRcdFx0Ly8gUmVpbnRlZ3JhdGUgZWxlbWVudCBtYXRjaGVzIHRvIGVsaW1pbmF0ZSB0aGUgbmVlZCBmb3Igc29ydGluZ1xuXHRcdFx0XHRcdGlmICggbWF0Y2hlZENvdW50ID4gMCApIHtcblx0XHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoICEodW5tYXRjaGVkW2ldIHx8IHNldE1hdGNoZWRbaV0pICkge1xuXHRcdFx0XHRcdFx0XHRcdHNldE1hdGNoZWRbaV0gPSBwb3AuY2FsbCggcmVzdWx0cyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gRGlzY2FyZCBpbmRleCBwbGFjZWhvbGRlciB2YWx1ZXMgdG8gZ2V0IG9ubHkgYWN0dWFsIG1hdGNoZXNcblx0XHRcdFx0XHRzZXRNYXRjaGVkID0gY29uZGVuc2UoIHNldE1hdGNoZWQgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEFkZCBtYXRjaGVzIHRvIHJlc3VsdHNcblx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgc2V0TWF0Y2hlZCApO1xuXG5cdFx0XHRcdC8vIFNlZWRsZXNzIHNldCBtYXRjaGVzIHN1Y2NlZWRpbmcgbXVsdGlwbGUgc3VjY2Vzc2Z1bCBtYXRjaGVycyBzdGlwdWxhdGUgc29ydGluZ1xuXHRcdFx0XHRpZiAoIG91dGVybW9zdCAmJiAhc2VlZCAmJiBzZXRNYXRjaGVkLmxlbmd0aCA+IDAgJiZcblx0XHRcdFx0XHQoIG1hdGNoZWRDb3VudCArIHNldE1hdGNoZXJzLmxlbmd0aCApID4gMSApIHtcblxuXHRcdFx0XHRcdFNpenpsZS51bmlxdWVTb3J0KCByZXN1bHRzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gT3ZlcnJpZGUgbWFuaXB1bGF0aW9uIG9mIGdsb2JhbHMgYnkgbmVzdGVkIG1hdGNoZXJzXG5cdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0ZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7XG5cdFx0XHRcdG91dGVybW9zdENvbnRleHQgPSBjb250ZXh0QmFja3VwO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdW5tYXRjaGVkO1xuXHRcdH07XG5cblx0cmV0dXJuIGJ5U2V0ID9cblx0XHRtYXJrRnVuY3Rpb24oIHN1cGVyTWF0Y2hlciApIDpcblx0XHRzdXBlck1hdGNoZXI7XG59XG5cbmNvbXBpbGUgPSBTaXp6bGUuY29tcGlsZSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgbWF0Y2ggLyogSW50ZXJuYWwgVXNlIE9ubHkgKi8gKSB7XG5cdHZhciBpLFxuXHRcdHNldE1hdGNoZXJzID0gW10sXG5cdFx0ZWxlbWVudE1hdGNoZXJzID0gW10sXG5cdFx0Y2FjaGVkID0gY29tcGlsZXJDYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdO1xuXG5cdGlmICggIWNhY2hlZCApIHtcblx0XHQvLyBHZW5lcmF0ZSBhIGZ1bmN0aW9uIG9mIHJlY3Vyc2l2ZSBmdW5jdGlvbnMgdGhhdCBjYW4gYmUgdXNlZCB0byBjaGVjayBlYWNoIGVsZW1lbnRcblx0XHRpZiAoICFtYXRjaCApIHtcblx0XHRcdG1hdGNoID0gdG9rZW5pemUoIHNlbGVjdG9yICk7XG5cdFx0fVxuXHRcdGkgPSBtYXRjaC5sZW5ndGg7XG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRjYWNoZWQgPSBtYXRjaGVyRnJvbVRva2VucyggbWF0Y2hbaV0gKTtcblx0XHRcdGlmICggY2FjaGVkWyBleHBhbmRvIF0gKSB7XG5cdFx0XHRcdHNldE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWxlbWVudE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhY2hlIHRoZSBjb21waWxlZCBmdW5jdGlvblxuXHRcdGNhY2hlZCA9IGNvbXBpbGVyQ2FjaGUoIHNlbGVjdG9yLCBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMgKSApO1xuXG5cdFx0Ly8gU2F2ZSBzZWxlY3RvciBhbmQgdG9rZW5pemF0aW9uXG5cdFx0Y2FjaGVkLnNlbGVjdG9yID0gc2VsZWN0b3I7XG5cdH1cblx0cmV0dXJuIGNhY2hlZDtcbn07XG5cbi8qKlxuICogQSBsb3ctbGV2ZWwgc2VsZWN0aW9uIGZ1bmN0aW9uIHRoYXQgd29ya3Mgd2l0aCBTaXp6bGUncyBjb21waWxlZFxuICogIHNlbGVjdG9yIGZ1bmN0aW9uc1xuICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IHNlbGVjdG9yIEEgc2VsZWN0b3Igb3IgYSBwcmUtY29tcGlsZWRcbiAqICBzZWxlY3RvciBmdW5jdGlvbiBidWlsdCB3aXRoIFNpenpsZS5jb21waWxlXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGNvbnRleHRcbiAqIEBwYXJhbSB7QXJyYXl9IFtyZXN1bHRzXVxuICogQHBhcmFtIHtBcnJheX0gW3NlZWRdIEEgc2V0IG9mIGVsZW1lbnRzIHRvIG1hdGNoIGFnYWluc3RcbiAqL1xuc2VsZWN0ID0gU2l6emxlLnNlbGVjdCA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApIHtcblx0dmFyIGksIHRva2VucywgdG9rZW4sIHR5cGUsIGZpbmQsXG5cdFx0Y29tcGlsZWQgPSB0eXBlb2Ygc2VsZWN0b3IgPT09IFwiZnVuY3Rpb25cIiAmJiBzZWxlY3Rvcixcblx0XHRtYXRjaCA9ICFzZWVkICYmIHRva2VuaXplKCAoc2VsZWN0b3IgPSBjb21waWxlZC5zZWxlY3RvciB8fCBzZWxlY3RvcikgKTtcblxuXHRyZXN1bHRzID0gcmVzdWx0cyB8fCBbXTtcblxuXHQvLyBUcnkgdG8gbWluaW1pemUgb3BlcmF0aW9ucyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBzZWxlY3RvciBpbiB0aGUgbGlzdCBhbmQgbm8gc2VlZFxuXHQvLyAodGhlIGxhdHRlciBvZiB3aGljaCBndWFyYW50ZWVzIHVzIGNvbnRleHQpXG5cdGlmICggbWF0Y2gubGVuZ3RoID09PSAxICkge1xuXG5cdFx0Ly8gUmVkdWNlIGNvbnRleHQgaWYgdGhlIGxlYWRpbmcgY29tcG91bmQgc2VsZWN0b3IgaXMgYW4gSURcblx0XHR0b2tlbnMgPSBtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKCAwICk7XG5cdFx0aWYgKCB0b2tlbnMubGVuZ3RoID4gMiAmJiAodG9rZW4gPSB0b2tlbnNbMF0pLnR5cGUgPT09IFwiSURcIiAmJlxuXHRcdFx0XHRzdXBwb3J0LmdldEJ5SWQgJiYgY29udGV4dC5ub2RlVHlwZSA9PT0gOSAmJiBkb2N1bWVudElzSFRNTCAmJlxuXHRcdFx0XHRFeHByLnJlbGF0aXZlWyB0b2tlbnNbMV0udHlwZSBdICkge1xuXG5cdFx0XHRjb250ZXh0ID0gKCBFeHByLmZpbmRbXCJJRFwiXSggdG9rZW4ubWF0Y2hlc1swXS5yZXBsYWNlKHJ1bmVzY2FwZSwgZnVuZXNjYXBlKSwgY29udGV4dCApIHx8IFtdIClbMF07XG5cdFx0XHRpZiAoICFjb250ZXh0ICkge1xuXHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblxuXHRcdFx0Ly8gUHJlY29tcGlsZWQgbWF0Y2hlcnMgd2lsbCBzdGlsbCB2ZXJpZnkgYW5jZXN0cnksIHNvIHN0ZXAgdXAgYSBsZXZlbFxuXHRcdFx0fSBlbHNlIGlmICggY29tcGlsZWQgKSB7XG5cdFx0XHRcdGNvbnRleHQgPSBjb250ZXh0LnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cblx0XHRcdHNlbGVjdG9yID0gc2VsZWN0b3Iuc2xpY2UoIHRva2Vucy5zaGlmdCgpLnZhbHVlLmxlbmd0aCApO1xuXHRcdH1cblxuXHRcdC8vIEZldGNoIGEgc2VlZCBzZXQgZm9yIHJpZ2h0LXRvLWxlZnQgbWF0Y2hpbmdcblx0XHRpID0gbWF0Y2hFeHByW1wibmVlZHNDb250ZXh0XCJdLnRlc3QoIHNlbGVjdG9yICkgPyAwIDogdG9rZW5zLmxlbmd0aDtcblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdHRva2VuID0gdG9rZW5zW2ldO1xuXG5cdFx0XHQvLyBBYm9ydCBpZiB3ZSBoaXQgYSBjb21iaW5hdG9yXG5cdFx0XHRpZiAoIEV4cHIucmVsYXRpdmVbICh0eXBlID0gdG9rZW4udHlwZSkgXSApIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIChmaW5kID0gRXhwci5maW5kWyB0eXBlIF0pICkge1xuXHRcdFx0XHQvLyBTZWFyY2gsIGV4cGFuZGluZyBjb250ZXh0IGZvciBsZWFkaW5nIHNpYmxpbmcgY29tYmluYXRvcnNcblx0XHRcdFx0aWYgKCAoc2VlZCA9IGZpbmQoXG5cdFx0XHRcdFx0dG9rZW4ubWF0Y2hlc1swXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLFxuXHRcdFx0XHRcdHJzaWJsaW5nLnRlc3QoIHRva2Vuc1swXS50eXBlICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8IGNvbnRleHRcblx0XHRcdFx0KSkgKSB7XG5cblx0XHRcdFx0XHQvLyBJZiBzZWVkIGlzIGVtcHR5IG9yIG5vIHRva2VucyByZW1haW4sIHdlIGNhbiByZXR1cm4gZWFybHlcblx0XHRcdFx0XHR0b2tlbnMuc3BsaWNlKCBpLCAxICk7XG5cdFx0XHRcdFx0c2VsZWN0b3IgPSBzZWVkLmxlbmd0aCAmJiB0b1NlbGVjdG9yKCB0b2tlbnMgKTtcblx0XHRcdFx0XHRpZiAoICFzZWxlY3RvciApIHtcblx0XHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIHNlZWQgKTtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ29tcGlsZSBhbmQgZXhlY3V0ZSBhIGZpbHRlcmluZyBmdW5jdGlvbiBpZiBvbmUgaXMgbm90IHByb3ZpZGVkXG5cdC8vIFByb3ZpZGUgYG1hdGNoYCB0byBhdm9pZCByZXRva2VuaXphdGlvbiBpZiB3ZSBtb2RpZmllZCB0aGUgc2VsZWN0b3IgYWJvdmVcblx0KCBjb21waWxlZCB8fCBjb21waWxlKCBzZWxlY3RvciwgbWF0Y2ggKSApKFxuXHRcdHNlZWQsXG5cdFx0Y29udGV4dCxcblx0XHQhZG9jdW1lbnRJc0hUTUwsXG5cdFx0cmVzdWx0cyxcblx0XHQhY29udGV4dCB8fCByc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fCBjb250ZXh0XG5cdCk7XG5cdHJldHVybiByZXN1bHRzO1xufTtcblxuLy8gT25lLXRpbWUgYXNzaWdubWVudHNcblxuLy8gU29ydCBzdGFiaWxpdHlcbnN1cHBvcnQuc29ydFN0YWJsZSA9IGV4cGFuZG8uc3BsaXQoXCJcIikuc29ydCggc29ydE9yZGVyICkuam9pbihcIlwiKSA9PT0gZXhwYW5kbztcblxuLy8gU3VwcG9ydDogQ2hyb21lIDE0LTM1K1xuLy8gQWx3YXlzIGFzc3VtZSBkdXBsaWNhdGVzIGlmIHRoZXkgYXJlbid0IHBhc3NlZCB0byB0aGUgY29tcGFyaXNvbiBmdW5jdGlvblxuc3VwcG9ydC5kZXRlY3REdXBsaWNhdGVzID0gISFoYXNEdXBsaWNhdGU7XG5cbi8vIEluaXRpYWxpemUgYWdhaW5zdCB0aGUgZGVmYXVsdCBkb2N1bWVudFxuc2V0RG9jdW1lbnQoKTtcblxuLy8gU3VwcG9ydDogV2Via2l0PDUzNy4zMiAtIFNhZmFyaSA2LjAuMy9DaHJvbWUgMjUgKGZpeGVkIGluIENocm9tZSAyNylcbi8vIERldGFjaGVkIG5vZGVzIGNvbmZvdW5kaW5nbHkgZm9sbG93ICplYWNoIG90aGVyKlxuc3VwcG9ydC5zb3J0RGV0YWNoZWQgPSBhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHQvLyBTaG91bGQgcmV0dXJuIDEsIGJ1dCByZXR1cm5zIDQgKGZvbGxvd2luZylcblx0cmV0dXJuIGVsLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZmllbGRzZXRcIikgKSAmIDE7XG59KTtcblxuLy8gU3VwcG9ydDogSUU8OFxuLy8gUHJldmVudCBhdHRyaWJ1dGUvcHJvcGVydHkgXCJpbnRlcnBvbGF0aW9uXCJcbi8vIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXM1MzY0MjklMjhWUy44NSUyOS5hc3B4XG5pZiAoICFhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRlbC5pbm5lckhUTUwgPSBcIjxhIGhyZWY9JyMnPjwvYT5cIjtcblx0cmV0dXJuIGVsLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSA9PT0gXCIjXCIgO1xufSkgKSB7XG5cdGFkZEhhbmRsZSggXCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoXCIsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcblx0XHRpZiAoICFpc1hNTCApIHtcblx0XHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSwgbmFtZS50b0xvd2VyQ2FzZSgpID09PSBcInR5cGVcIiA/IDEgOiAyICk7XG5cdFx0fVxuXHR9KTtcbn1cblxuLy8gU3VwcG9ydDogSUU8OVxuLy8gVXNlIGRlZmF1bHRWYWx1ZSBpbiBwbGFjZSBvZiBnZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKVxuaWYgKCAhc3VwcG9ydC5hdHRyaWJ1dGVzIHx8ICFhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRlbC5pbm5lckhUTUwgPSBcIjxpbnB1dC8+XCI7XG5cdGVsLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCBcInZhbHVlXCIsIFwiXCIgKTtcblx0cmV0dXJuIGVsLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCBcInZhbHVlXCIgKSA9PT0gXCJcIjtcbn0pICkge1xuXHRhZGRIYW5kbGUoIFwidmFsdWVcIiwgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdGlmICggIWlzWE1MICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJpbnB1dFwiICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZGVmYXVsdFZhbHVlO1xuXHRcdH1cblx0fSk7XG59XG5cbi8vIFN1cHBvcnQ6IElFPDlcbi8vIFVzZSBnZXRBdHRyaWJ1dGVOb2RlIHRvIGZldGNoIGJvb2xlYW5zIHdoZW4gZ2V0QXR0cmlidXRlIGxpZXNcbmlmICggIWFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdHJldHVybiBlbC5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSA9PSBudWxsO1xufSkgKSB7XG5cdGFkZEhhbmRsZSggYm9vbGVhbnMsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcblx0XHR2YXIgdmFsO1xuXHRcdGlmICggIWlzWE1MICkge1xuXHRcdFx0cmV0dXJuIGVsZW1bIG5hbWUgXSA9PT0gdHJ1ZSA/IG5hbWUudG9Mb3dlckNhc2UoKSA6XG5cdFx0XHRcdFx0KHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggbmFtZSApKSAmJiB2YWwuc3BlY2lmaWVkID9cblx0XHRcdFx0XHR2YWwudmFsdWUgOlxuXHRcdFx0XHRudWxsO1xuXHRcdH1cblx0fSk7XG59XG5cbnJldHVybiBTaXp6bGU7XG5cbn0pKCB3aW5kb3cgKTtcblxuXG5cbmpRdWVyeS5maW5kID0gU2l6emxlO1xualF1ZXJ5LmV4cHIgPSBTaXp6bGUuc2VsZWN0b3JzO1xuXG4vLyBEZXByZWNhdGVkXG5qUXVlcnkuZXhwclsgXCI6XCIgXSA9IGpRdWVyeS5leHByLnBzZXVkb3M7XG5qUXVlcnkudW5pcXVlU29ydCA9IGpRdWVyeS51bmlxdWUgPSBTaXp6bGUudW5pcXVlU29ydDtcbmpRdWVyeS50ZXh0ID0gU2l6emxlLmdldFRleHQ7XG5qUXVlcnkuaXNYTUxEb2MgPSBTaXp6bGUuaXNYTUw7XG5qUXVlcnkuY29udGFpbnMgPSBTaXp6bGUuY29udGFpbnM7XG5qUXVlcnkuZXNjYXBlU2VsZWN0b3IgPSBTaXp6bGUuZXNjYXBlO1xuXG5cblxuXG52YXIgZGlyID0gZnVuY3Rpb24oIGVsZW0sIGRpciwgdW50aWwgKSB7XG5cdHZhciBtYXRjaGVkID0gW10sXG5cdFx0dHJ1bmNhdGUgPSB1bnRpbCAhPT0gdW5kZWZpbmVkO1xuXG5cdHdoaWxlICggKCBlbGVtID0gZWxlbVsgZGlyIF0gKSAmJiBlbGVtLm5vZGVUeXBlICE9PSA5ICkge1xuXHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdGlmICggdHJ1bmNhdGUgJiYgalF1ZXJ5KCBlbGVtICkuaXMoIHVudGlsICkgKSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0bWF0Y2hlZC5wdXNoKCBlbGVtICk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBtYXRjaGVkO1xufTtcblxuXG52YXIgc2libGluZ3MgPSBmdW5jdGlvbiggbiwgZWxlbSApIHtcblx0dmFyIG1hdGNoZWQgPSBbXTtcblxuXHRmb3IgKCA7IG47IG4gPSBuLm5leHRTaWJsaW5nICkge1xuXHRcdGlmICggbi5ub2RlVHlwZSA9PT0gMSAmJiBuICE9PSBlbGVtICkge1xuXHRcdFx0bWF0Y2hlZC5wdXNoKCBuICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIG1hdGNoZWQ7XG59O1xuXG5cbnZhciBybmVlZHNDb250ZXh0ID0galF1ZXJ5LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0O1xuXG52YXIgcnNpbmdsZVRhZyA9ICggL148KFthLXpdW15cXC9cXDA+OlxceDIwXFx0XFxyXFxuXFxmXSopW1xceDIwXFx0XFxyXFxuXFxmXSpcXC8/Pig/OjxcXC9cXDE+fCkkL2kgKTtcblxuXG5cbnZhciByaXNTaW1wbGUgPSAvXi5bXjojXFxbXFwuLF0qJC87XG5cbi8vIEltcGxlbWVudCB0aGUgaWRlbnRpY2FsIGZ1bmN0aW9uYWxpdHkgZm9yIGZpbHRlciBhbmQgbm90XG5mdW5jdGlvbiB3aW5ub3coIGVsZW1lbnRzLCBxdWFsaWZpZXIsIG5vdCApIHtcblx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcXVhbGlmaWVyICkgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0sIGkgKSB7XG5cdFx0XHRyZXR1cm4gISFxdWFsaWZpZXIuY2FsbCggZWxlbSwgaSwgZWxlbSApICE9PSBub3Q7XG5cdFx0fSApO1xuXG5cdH1cblxuXHRpZiAoIHF1YWxpZmllci5ub2RlVHlwZSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiAoIGVsZW0gPT09IHF1YWxpZmllciApICE9PSBub3Q7XG5cdFx0fSApO1xuXG5cdH1cblxuXHRpZiAoIHR5cGVvZiBxdWFsaWZpZXIgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0aWYgKCByaXNTaW1wbGUudGVzdCggcXVhbGlmaWVyICkgKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmZpbHRlciggcXVhbGlmaWVyLCBlbGVtZW50cywgbm90ICk7XG5cdFx0fVxuXG5cdFx0cXVhbGlmaWVyID0galF1ZXJ5LmZpbHRlciggcXVhbGlmaWVyLCBlbGVtZW50cyApO1xuXHR9XG5cblx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuICggaW5kZXhPZi5jYWxsKCBxdWFsaWZpZXIsIGVsZW0gKSA+IC0xICkgIT09IG5vdCAmJiBlbGVtLm5vZGVUeXBlID09PSAxO1xuXHR9ICk7XG59XG5cbmpRdWVyeS5maWx0ZXIgPSBmdW5jdGlvbiggZXhwciwgZWxlbXMsIG5vdCApIHtcblx0dmFyIGVsZW0gPSBlbGVtc1sgMCBdO1xuXG5cdGlmICggbm90ICkge1xuXHRcdGV4cHIgPSBcIjpub3QoXCIgKyBleHByICsgXCIpXCI7XG5cdH1cblxuXHRyZXR1cm4gZWxlbXMubGVuZ3RoID09PSAxICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgP1xuXHRcdGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggZWxlbSwgZXhwciApID8gWyBlbGVtIF0gOiBbXSA6XG5cdFx0alF1ZXJ5LmZpbmQubWF0Y2hlcyggZXhwciwgalF1ZXJ5LmdyZXAoIGVsZW1zLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtLm5vZGVUeXBlID09PSAxO1xuXHRcdH0gKSApO1xufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRmaW5kOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0dmFyIGksIHJldCxcblx0XHRcdGxlbiA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0c2VsZiA9IHRoaXM7XG5cblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5KCBzZWxlY3RvciApLmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHNlbGZbIGkgXSwgdGhpcyApICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9ICkgKTtcblx0XHR9XG5cblx0XHRyZXQgPSB0aGlzLnB1c2hTdGFjayggW10gKTtcblxuXHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRqUXVlcnkuZmluZCggc2VsZWN0b3IsIHNlbGZbIGkgXSwgcmV0ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGxlbiA+IDEgPyBqUXVlcnkudW5pcXVlU29ydCggcmV0ICkgOiByZXQ7XG5cdH0sXG5cdGZpbHRlcjogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggd2lubm93KCB0aGlzLCBzZWxlY3RvciB8fCBbXSwgZmFsc2UgKSApO1xuXHR9LFxuXHRub3Q6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHdpbm5vdyggdGhpcywgc2VsZWN0b3IgfHwgW10sIHRydWUgKSApO1xuXHR9LFxuXHRpczogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiAhIXdpbm5vdyhcblx0XHRcdHRoaXMsXG5cblx0XHRcdC8vIElmIHRoaXMgaXMgYSBwb3NpdGlvbmFsL3JlbGF0aXZlIHNlbGVjdG9yLCBjaGVjayBtZW1iZXJzaGlwIGluIHRoZSByZXR1cm5lZCBzZXRcblx0XHRcdC8vIHNvICQoXCJwOmZpcnN0XCIpLmlzKFwicDpsYXN0XCIpIHdvbid0IHJldHVybiB0cnVlIGZvciBhIGRvYyB3aXRoIHR3byBcInBcIi5cblx0XHRcdHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiAmJiBybmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9yICkgP1xuXHRcdFx0XHRqUXVlcnkoIHNlbGVjdG9yICkgOlxuXHRcdFx0XHRzZWxlY3RvciB8fCBbXSxcblx0XHRcdGZhbHNlXG5cdFx0KS5sZW5ndGg7XG5cdH1cbn0gKTtcblxuXG4vLyBJbml0aWFsaXplIGEgalF1ZXJ5IG9iamVjdFxuXG5cbi8vIEEgY2VudHJhbCByZWZlcmVuY2UgdG8gdGhlIHJvb3QgalF1ZXJ5KGRvY3VtZW50KVxudmFyIHJvb3RqUXVlcnksXG5cblx0Ly8gQSBzaW1wbGUgd2F5IHRvIGNoZWNrIGZvciBIVE1MIHN0cmluZ3Ncblx0Ly8gUHJpb3JpdGl6ZSAjaWQgb3ZlciA8dGFnPiB0byBhdm9pZCBYU1MgdmlhIGxvY2F0aW9uLmhhc2ggKCM5NTIxKVxuXHQvLyBTdHJpY3QgSFRNTCByZWNvZ25pdGlvbiAoIzExMjkwOiBtdXN0IHN0YXJ0IHdpdGggPClcblx0Ly8gU2hvcnRjdXQgc2ltcGxlICNpZCBjYXNlIGZvciBzcGVlZFxuXHRycXVpY2tFeHByID0gL14oPzpcXHMqKDxbXFx3XFxXXSs+KVtePl0qfCMoW1xcdy1dKykpJC8sXG5cblx0aW5pdCA9IGpRdWVyeS5mbi5pbml0ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0LCByb290ICkge1xuXHRcdHZhciBtYXRjaCwgZWxlbTtcblxuXHRcdC8vIEhBTkRMRTogJChcIlwiKSwgJChudWxsKSwgJCh1bmRlZmluZWQpLCAkKGZhbHNlKVxuXHRcdGlmICggIXNlbGVjdG9yICkge1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXG5cdFx0Ly8gTWV0aG9kIGluaXQoKSBhY2NlcHRzIGFuIGFsdGVybmF0ZSByb290alF1ZXJ5XG5cdFx0Ly8gc28gbWlncmF0ZSBjYW4gc3VwcG9ydCBqUXVlcnkuc3ViIChnaC0yMTAxKVxuXHRcdHJvb3QgPSByb290IHx8IHJvb3RqUXVlcnk7XG5cblx0XHQvLyBIYW5kbGUgSFRNTCBzdHJpbmdzXG5cdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRpZiAoIHNlbGVjdG9yWyAwIF0gPT09IFwiPFwiICYmXG5cdFx0XHRcdHNlbGVjdG9yWyBzZWxlY3Rvci5sZW5ndGggLSAxIF0gPT09IFwiPlwiICYmXG5cdFx0XHRcdHNlbGVjdG9yLmxlbmd0aCA+PSAzICkge1xuXG5cdFx0XHRcdC8vIEFzc3VtZSB0aGF0IHN0cmluZ3MgdGhhdCBzdGFydCBhbmQgZW5kIHdpdGggPD4gYXJlIEhUTUwgYW5kIHNraXAgdGhlIHJlZ2V4IGNoZWNrXG5cdFx0XHRcdG1hdGNoID0gWyBudWxsLCBzZWxlY3RvciwgbnVsbCBdO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRtYXRjaCA9IHJxdWlja0V4cHIuZXhlYyggc2VsZWN0b3IgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTWF0Y2ggaHRtbCBvciBtYWtlIHN1cmUgbm8gY29udGV4dCBpcyBzcGVjaWZpZWQgZm9yICNpZFxuXHRcdFx0aWYgKCBtYXRjaCAmJiAoIG1hdGNoWyAxIF0gfHwgIWNvbnRleHQgKSApIHtcblxuXHRcdFx0XHQvLyBIQU5ETEU6ICQoaHRtbCkgLT4gJChhcnJheSlcblx0XHRcdFx0aWYgKCBtYXRjaFsgMSBdICkge1xuXHRcdFx0XHRcdGNvbnRleHQgPSBjb250ZXh0IGluc3RhbmNlb2YgalF1ZXJ5ID8gY29udGV4dFsgMCBdIDogY29udGV4dDtcblxuXHRcdFx0XHRcdC8vIE9wdGlvbiB0byBydW4gc2NyaXB0cyBpcyB0cnVlIGZvciBiYWNrLWNvbXBhdFxuXHRcdFx0XHRcdC8vIEludGVudGlvbmFsbHkgbGV0IHRoZSBlcnJvciBiZSB0aHJvd24gaWYgcGFyc2VIVE1MIGlzIG5vdCBwcmVzZW50XG5cdFx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCB0aGlzLCBqUXVlcnkucGFyc2VIVE1MKFxuXHRcdFx0XHRcdFx0bWF0Y2hbIDEgXSxcblx0XHRcdFx0XHRcdGNvbnRleHQgJiYgY29udGV4dC5ub2RlVHlwZSA/IGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0IDogZG9jdW1lbnQsXG5cdFx0XHRcdFx0XHR0cnVlXG5cdFx0XHRcdFx0KSApO1xuXG5cdFx0XHRcdFx0Ly8gSEFORExFOiAkKGh0bWwsIHByb3BzKVxuXHRcdFx0XHRcdGlmICggcnNpbmdsZVRhZy50ZXN0KCBtYXRjaFsgMSBdICkgJiYgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGNvbnRleHQgKSApIHtcblx0XHRcdFx0XHRcdGZvciAoIG1hdGNoIGluIGNvbnRleHQgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gUHJvcGVydGllcyBvZiBjb250ZXh0IGFyZSBjYWxsZWQgYXMgbWV0aG9kcyBpZiBwb3NzaWJsZVxuXHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB0aGlzWyBtYXRjaCBdICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpc1sgbWF0Y2ggXSggY29udGV4dFsgbWF0Y2ggXSApO1xuXG5cdFx0XHRcdFx0XHRcdC8vIC4uLmFuZCBvdGhlcndpc2Ugc2V0IGFzIGF0dHJpYnV0ZXNcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmF0dHIoIG1hdGNoLCBjb250ZXh0WyBtYXRjaCBdICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblxuXHRcdFx0XHQvLyBIQU5ETEU6ICQoI2lkKVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggbWF0Y2hbIDIgXSApO1xuXG5cdFx0XHRcdFx0aWYgKCBlbGVtICkge1xuXG5cdFx0XHRcdFx0XHQvLyBJbmplY3QgdGhlIGVsZW1lbnQgZGlyZWN0bHkgaW50byB0aGUgalF1ZXJ5IG9iamVjdFxuXHRcdFx0XHRcdFx0dGhpc1sgMCBdID0gZWxlbTtcblx0XHRcdFx0XHRcdHRoaXMubGVuZ3RoID0gMTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH1cblxuXHRcdFx0Ly8gSEFORExFOiAkKGV4cHIsICQoLi4uKSlcblx0XHRcdH0gZWxzZSBpZiAoICFjb250ZXh0IHx8IGNvbnRleHQuanF1ZXJ5ICkge1xuXHRcdFx0XHRyZXR1cm4gKCBjb250ZXh0IHx8IHJvb3QgKS5maW5kKCBzZWxlY3RvciApO1xuXG5cdFx0XHQvLyBIQU5ETEU6ICQoZXhwciwgY29udGV4dClcblx0XHRcdC8vICh3aGljaCBpcyBqdXN0IGVxdWl2YWxlbnQgdG86ICQoY29udGV4dCkuZmluZChleHByKVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuY29uc3RydWN0b3IoIGNvbnRleHQgKS5maW5kKCBzZWxlY3RvciApO1xuXHRcdFx0fVxuXG5cdFx0Ly8gSEFORExFOiAkKERPTUVsZW1lbnQpXG5cdFx0fSBlbHNlIGlmICggc2VsZWN0b3Iubm9kZVR5cGUgKSB7XG5cdFx0XHR0aGlzWyAwIF0gPSBzZWxlY3Rvcjtcblx0XHRcdHRoaXMubGVuZ3RoID0gMTtcblx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0Ly8gSEFORExFOiAkKGZ1bmN0aW9uKVxuXHRcdC8vIFNob3J0Y3V0IGZvciBkb2N1bWVudCByZWFkeVxuXHRcdH0gZWxzZSBpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBzZWxlY3RvciApICkge1xuXHRcdFx0cmV0dXJuIHJvb3QucmVhZHkgIT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdHJvb3QucmVhZHkoIHNlbGVjdG9yICkgOlxuXG5cdFx0XHRcdC8vIEV4ZWN1dGUgaW1tZWRpYXRlbHkgaWYgcmVhZHkgaXMgbm90IHByZXNlbnRcblx0XHRcdFx0c2VsZWN0b3IoIGpRdWVyeSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBqUXVlcnkubWFrZUFycmF5KCBzZWxlY3RvciwgdGhpcyApO1xuXHR9O1xuXG4vLyBHaXZlIHRoZSBpbml0IGZ1bmN0aW9uIHRoZSBqUXVlcnkgcHJvdG90eXBlIGZvciBsYXRlciBpbnN0YW50aWF0aW9uXG5pbml0LnByb3RvdHlwZSA9IGpRdWVyeS5mbjtcblxuLy8gSW5pdGlhbGl6ZSBjZW50cmFsIHJlZmVyZW5jZVxucm9vdGpRdWVyeSA9IGpRdWVyeSggZG9jdW1lbnQgKTtcblxuXG52YXIgcnBhcmVudHNwcmV2ID0gL14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sXG5cblx0Ly8gTWV0aG9kcyBndWFyYW50ZWVkIHRvIHByb2R1Y2UgYSB1bmlxdWUgc2V0IHdoZW4gc3RhcnRpbmcgZnJvbSBhIHVuaXF1ZSBzZXRcblx0Z3VhcmFudGVlZFVuaXF1ZSA9IHtcblx0XHRjaGlsZHJlbjogdHJ1ZSxcblx0XHRjb250ZW50czogdHJ1ZSxcblx0XHRuZXh0OiB0cnVlLFxuXHRcdHByZXY6IHRydWVcblx0fTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRoYXM6IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XG5cdFx0dmFyIHRhcmdldHMgPSBqUXVlcnkoIHRhcmdldCwgdGhpcyApLFxuXHRcdFx0bCA9IHRhcmdldHMubGVuZ3RoO1xuXG5cdFx0cmV0dXJuIHRoaXMuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpID0gMDtcblx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHRoaXMsIHRhcmdldHNbIGkgXSApICkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGNsb3Nlc3Q6IGZ1bmN0aW9uKCBzZWxlY3RvcnMsIGNvbnRleHQgKSB7XG5cdFx0dmFyIGN1cixcblx0XHRcdGkgPSAwLFxuXHRcdFx0bCA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0bWF0Y2hlZCA9IFtdLFxuXHRcdFx0dGFyZ2V0cyA9IHR5cGVvZiBzZWxlY3RvcnMgIT09IFwic3RyaW5nXCIgJiYgalF1ZXJ5KCBzZWxlY3RvcnMgKTtcblxuXHRcdC8vIFBvc2l0aW9uYWwgc2VsZWN0b3JzIG5ldmVyIG1hdGNoLCBzaW5jZSB0aGVyZSdzIG5vIF9zZWxlY3Rpb25fIGNvbnRleHRcblx0XHRpZiAoICFybmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9ycyApICkge1xuXHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRmb3IgKCBjdXIgPSB0aGlzWyBpIF07IGN1ciAmJiBjdXIgIT09IGNvbnRleHQ7IGN1ciA9IGN1ci5wYXJlbnROb2RlICkge1xuXG5cdFx0XHRcdFx0Ly8gQWx3YXlzIHNraXAgZG9jdW1lbnQgZnJhZ21lbnRzXG5cdFx0XHRcdFx0aWYgKCBjdXIubm9kZVR5cGUgPCAxMSAmJiAoIHRhcmdldHMgP1xuXHRcdFx0XHRcdFx0dGFyZ2V0cy5pbmRleCggY3VyICkgPiAtMSA6XG5cblx0XHRcdFx0XHRcdC8vIERvbid0IHBhc3Mgbm9uLWVsZW1lbnRzIHRvIFNpenpsZVxuXHRcdFx0XHRcdFx0Y3VyLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdFx0XHRcdGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggY3VyLCBzZWxlY3RvcnMgKSApICkge1xuXG5cdFx0XHRcdFx0XHRtYXRjaGVkLnB1c2goIGN1ciApO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBtYXRjaGVkLmxlbmd0aCA+IDEgPyBqUXVlcnkudW5pcXVlU29ydCggbWF0Y2hlZCApIDogbWF0Y2hlZCApO1xuXHR9LFxuXG5cdC8vIERldGVybWluZSB0aGUgcG9zaXRpb24gb2YgYW4gZWxlbWVudCB3aXRoaW4gdGhlIHNldFxuXHRpbmRleDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHQvLyBObyBhcmd1bWVudCwgcmV0dXJuIGluZGV4IGluIHBhcmVudFxuXHRcdGlmICggIWVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gKCB0aGlzWyAwIF0gJiYgdGhpc1sgMCBdLnBhcmVudE5vZGUgKSA/IHRoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoIDogLTE7XG5cdFx0fVxuXG5cdFx0Ly8gSW5kZXggaW4gc2VsZWN0b3Jcblx0XHRpZiAoIHR5cGVvZiBlbGVtID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIGluZGV4T2YuY2FsbCggalF1ZXJ5KCBlbGVtICksIHRoaXNbIDAgXSApO1xuXHRcdH1cblxuXHRcdC8vIExvY2F0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIGRlc2lyZWQgZWxlbWVudFxuXHRcdHJldHVybiBpbmRleE9mLmNhbGwoIHRoaXMsXG5cblx0XHRcdC8vIElmIGl0IHJlY2VpdmVzIGEgalF1ZXJ5IG9iamVjdCwgdGhlIGZpcnN0IGVsZW1lbnQgaXMgdXNlZFxuXHRcdFx0ZWxlbS5qcXVlcnkgPyBlbGVtWyAwIF0gOiBlbGVtXG5cdFx0KTtcblx0fSxcblxuXHRhZGQ6IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soXG5cdFx0XHRqUXVlcnkudW5pcXVlU29ydChcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCB0aGlzLmdldCgpLCBqUXVlcnkoIHNlbGVjdG9yLCBjb250ZXh0ICkgKVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0YWRkQmFjazogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLmFkZCggc2VsZWN0b3IgPT0gbnVsbCA/XG5cdFx0XHR0aGlzLnByZXZPYmplY3QgOiB0aGlzLnByZXZPYmplY3QuZmlsdGVyKCBzZWxlY3RvciApXG5cdFx0KTtcblx0fVxufSApO1xuXG5mdW5jdGlvbiBzaWJsaW5nKCBjdXIsIGRpciApIHtcblx0d2hpbGUgKCAoIGN1ciA9IGN1clsgZGlyIF0gKSAmJiBjdXIubm9kZVR5cGUgIT09IDEgKSB7fVxuXHRyZXR1cm4gY3VyO1xufVxuXG5qUXVlcnkuZWFjaCgge1xuXHRwYXJlbnQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cdFx0cmV0dXJuIHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgIT09IDExID8gcGFyZW50IDogbnVsbDtcblx0fSxcblx0cGFyZW50czogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIgKTtcblx0fSxcblx0cGFyZW50c1VudGlsOiBmdW5jdGlvbiggZWxlbSwgaSwgdW50aWwgKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIsIHVudGlsICk7XG5cdH0sXG5cdG5leHQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5nKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIgKTtcblx0fSxcblx0cHJldjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmcoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIgKTtcblx0fSxcblx0bmV4dEFsbDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJuZXh0U2libGluZ1wiICk7XG5cdH0sXG5cdHByZXZBbGw6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIgKTtcblx0fSxcblx0bmV4dFVudGlsOiBmdW5jdGlvbiggZWxlbSwgaSwgdW50aWwgKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJuZXh0U2libGluZ1wiLCB1bnRpbCApO1xuXHR9LFxuXHRwcmV2VW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiLCB1bnRpbCApO1xuXHR9LFxuXHRzaWJsaW5nczogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmdzKCAoIGVsZW0ucGFyZW50Tm9kZSB8fCB7fSApLmZpcnN0Q2hpbGQsIGVsZW0gKTtcblx0fSxcblx0Y2hpbGRyZW46IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5ncyggZWxlbS5maXJzdENoaWxkICk7XG5cdH0sXG5cdGNvbnRlbnRzOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZWxlbS5jb250ZW50RG9jdW1lbnQgfHwgalF1ZXJ5Lm1lcmdlKCBbXSwgZWxlbS5jaGlsZE5vZGVzICk7XG5cdH1cbn0sIGZ1bmN0aW9uKCBuYW1lLCBmbiApIHtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggdW50aWwsIHNlbGVjdG9yICkge1xuXHRcdHZhciBtYXRjaGVkID0galF1ZXJ5Lm1hcCggdGhpcywgZm4sIHVudGlsICk7XG5cblx0XHRpZiAoIG5hbWUuc2xpY2UoIC01ICkgIT09IFwiVW50aWxcIiApIHtcblx0XHRcdHNlbGVjdG9yID0gdW50aWw7XG5cdFx0fVxuXG5cdFx0aWYgKCBzZWxlY3RvciAmJiB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRtYXRjaGVkID0galF1ZXJ5LmZpbHRlciggc2VsZWN0b3IsIG1hdGNoZWQgKTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMubGVuZ3RoID4gMSApIHtcblxuXHRcdFx0Ly8gUmVtb3ZlIGR1cGxpY2F0ZXNcblx0XHRcdGlmICggIWd1YXJhbnRlZWRVbmlxdWVbIG5hbWUgXSApIHtcblx0XHRcdFx0alF1ZXJ5LnVuaXF1ZVNvcnQoIG1hdGNoZWQgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmV2ZXJzZSBvcmRlciBmb3IgcGFyZW50cyogYW5kIHByZXYtZGVyaXZhdGl2ZXNcblx0XHRcdGlmICggcnBhcmVudHNwcmV2LnRlc3QoIG5hbWUgKSApIHtcblx0XHRcdFx0bWF0Y2hlZC5yZXZlcnNlKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBtYXRjaGVkICk7XG5cdH07XG59ICk7XG52YXIgcm5vdHdoaXRlID0gKCAvXFxTKy9nICk7XG5cblxuXG4vLyBDb252ZXJ0IFN0cmluZy1mb3JtYXR0ZWQgb3B0aW9ucyBpbnRvIE9iamVjdC1mb3JtYXR0ZWQgb25lc1xuZnVuY3Rpb24gY3JlYXRlT3B0aW9ucyggb3B0aW9ucyApIHtcblx0dmFyIG9iamVjdCA9IHt9O1xuXHRqUXVlcnkuZWFjaCggb3B0aW9ucy5tYXRjaCggcm5vdHdoaXRlICkgfHwgW10sIGZ1bmN0aW9uKCBfLCBmbGFnICkge1xuXHRcdG9iamVjdFsgZmxhZyBdID0gdHJ1ZTtcblx0fSApO1xuXHRyZXR1cm4gb2JqZWN0O1xufVxuXG4vKlxuICogQ3JlYXRlIGEgY2FsbGJhY2sgbGlzdCB1c2luZyB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XG4gKlxuICpcdG9wdGlvbnM6IGFuIG9wdGlvbmFsIGxpc3Qgb2Ygc3BhY2Utc2VwYXJhdGVkIG9wdGlvbnMgdGhhdCB3aWxsIGNoYW5nZSBob3dcbiAqXHRcdFx0dGhlIGNhbGxiYWNrIGxpc3QgYmVoYXZlcyBvciBhIG1vcmUgdHJhZGl0aW9uYWwgb3B0aW9uIG9iamVjdFxuICpcbiAqIEJ5IGRlZmF1bHQgYSBjYWxsYmFjayBsaXN0IHdpbGwgYWN0IGxpa2UgYW4gZXZlbnQgY2FsbGJhY2sgbGlzdCBhbmQgY2FuIGJlXG4gKiBcImZpcmVkXCIgbXVsdGlwbGUgdGltZXMuXG4gKlxuICogUG9zc2libGUgb3B0aW9uczpcbiAqXG4gKlx0b25jZTpcdFx0XHR3aWxsIGVuc3VyZSB0aGUgY2FsbGJhY2sgbGlzdCBjYW4gb25seSBiZSBmaXJlZCBvbmNlIChsaWtlIGEgRGVmZXJyZWQpXG4gKlxuICpcdG1lbW9yeTpcdFx0XHR3aWxsIGtlZXAgdHJhY2sgb2YgcHJldmlvdXMgdmFsdWVzIGFuZCB3aWxsIGNhbGwgYW55IGNhbGxiYWNrIGFkZGVkXG4gKlx0XHRcdFx0XHRhZnRlciB0aGUgbGlzdCBoYXMgYmVlbiBmaXJlZCByaWdodCBhd2F5IHdpdGggdGhlIGxhdGVzdCBcIm1lbW9yaXplZFwiXG4gKlx0XHRcdFx0XHR2YWx1ZXMgKGxpa2UgYSBEZWZlcnJlZClcbiAqXG4gKlx0dW5pcXVlOlx0XHRcdHdpbGwgZW5zdXJlIGEgY2FsbGJhY2sgY2FuIG9ubHkgYmUgYWRkZWQgb25jZSAobm8gZHVwbGljYXRlIGluIHRoZSBsaXN0KVxuICpcbiAqXHRzdG9wT25GYWxzZTpcdGludGVycnVwdCBjYWxsaW5ncyB3aGVuIGEgY2FsbGJhY2sgcmV0dXJucyBmYWxzZVxuICpcbiAqL1xualF1ZXJ5LkNhbGxiYWNrcyA9IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG5cdC8vIENvbnZlcnQgb3B0aW9ucyBmcm9tIFN0cmluZy1mb3JtYXR0ZWQgdG8gT2JqZWN0LWZvcm1hdHRlZCBpZiBuZWVkZWRcblx0Ly8gKHdlIGNoZWNrIGluIGNhY2hlIGZpcnN0KVxuXHRvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIgP1xuXHRcdGNyZWF0ZU9wdGlvbnMoIG9wdGlvbnMgKSA6XG5cdFx0alF1ZXJ5LmV4dGVuZCgge30sIG9wdGlvbnMgKTtcblxuXHR2YXIgLy8gRmxhZyB0byBrbm93IGlmIGxpc3QgaXMgY3VycmVudGx5IGZpcmluZ1xuXHRcdGZpcmluZyxcblxuXHRcdC8vIExhc3QgZmlyZSB2YWx1ZSBmb3Igbm9uLWZvcmdldHRhYmxlIGxpc3RzXG5cdFx0bWVtb3J5LFxuXG5cdFx0Ly8gRmxhZyB0byBrbm93IGlmIGxpc3Qgd2FzIGFscmVhZHkgZmlyZWRcblx0XHRmaXJlZCxcblxuXHRcdC8vIEZsYWcgdG8gcHJldmVudCBmaXJpbmdcblx0XHRsb2NrZWQsXG5cblx0XHQvLyBBY3R1YWwgY2FsbGJhY2sgbGlzdFxuXHRcdGxpc3QgPSBbXSxcblxuXHRcdC8vIFF1ZXVlIG9mIGV4ZWN1dGlvbiBkYXRhIGZvciByZXBlYXRhYmxlIGxpc3RzXG5cdFx0cXVldWUgPSBbXSxcblxuXHRcdC8vIEluZGV4IG9mIGN1cnJlbnRseSBmaXJpbmcgY2FsbGJhY2sgKG1vZGlmaWVkIGJ5IGFkZC9yZW1vdmUgYXMgbmVlZGVkKVxuXHRcdGZpcmluZ0luZGV4ID0gLTEsXG5cblx0XHQvLyBGaXJlIGNhbGxiYWNrc1xuXHRcdGZpcmUgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gRW5mb3JjZSBzaW5nbGUtZmlyaW5nXG5cdFx0XHRsb2NrZWQgPSBvcHRpb25zLm9uY2U7XG5cblx0XHRcdC8vIEV4ZWN1dGUgY2FsbGJhY2tzIGZvciBhbGwgcGVuZGluZyBleGVjdXRpb25zLFxuXHRcdFx0Ly8gcmVzcGVjdGluZyBmaXJpbmdJbmRleCBvdmVycmlkZXMgYW5kIHJ1bnRpbWUgY2hhbmdlc1xuXHRcdFx0ZmlyZWQgPSBmaXJpbmcgPSB0cnVlO1xuXHRcdFx0Zm9yICggOyBxdWV1ZS5sZW5ndGg7IGZpcmluZ0luZGV4ID0gLTEgKSB7XG5cdFx0XHRcdG1lbW9yeSA9IHF1ZXVlLnNoaWZ0KCk7XG5cdFx0XHRcdHdoaWxlICggKytmaXJpbmdJbmRleCA8IGxpc3QubGVuZ3RoICkge1xuXG5cdFx0XHRcdFx0Ly8gUnVuIGNhbGxiYWNrIGFuZCBjaGVjayBmb3IgZWFybHkgdGVybWluYXRpb25cblx0XHRcdFx0XHRpZiAoIGxpc3RbIGZpcmluZ0luZGV4IF0uYXBwbHkoIG1lbW9yeVsgMCBdLCBtZW1vcnlbIDEgXSApID09PSBmYWxzZSAmJlxuXHRcdFx0XHRcdFx0b3B0aW9ucy5zdG9wT25GYWxzZSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSnVtcCB0byBlbmQgYW5kIGZvcmdldCB0aGUgZGF0YSBzbyAuYWRkIGRvZXNuJ3QgcmUtZmlyZVxuXHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aDtcblx0XHRcdFx0XHRcdG1lbW9yeSA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBGb3JnZXQgdGhlIGRhdGEgaWYgd2UncmUgZG9uZSB3aXRoIGl0XG5cdFx0XHRpZiAoICFvcHRpb25zLm1lbW9yeSApIHtcblx0XHRcdFx0bWVtb3J5ID0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGZpcmluZyA9IGZhbHNlO1xuXG5cdFx0XHQvLyBDbGVhbiB1cCBpZiB3ZSdyZSBkb25lIGZpcmluZyBmb3IgZ29vZFxuXHRcdFx0aWYgKCBsb2NrZWQgKSB7XG5cblx0XHRcdFx0Ly8gS2VlcCBhbiBlbXB0eSBsaXN0IGlmIHdlIGhhdmUgZGF0YSBmb3IgZnV0dXJlIGFkZCBjYWxsc1xuXHRcdFx0XHRpZiAoIG1lbW9yeSApIHtcblx0XHRcdFx0XHRsaXN0ID0gW107XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCB0aGlzIG9iamVjdCBpcyBzcGVudFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxpc3QgPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8vIEFjdHVhbCBDYWxsYmFja3Mgb2JqZWN0XG5cdFx0c2VsZiA9IHtcblxuXHRcdFx0Ly8gQWRkIGEgY2FsbGJhY2sgb3IgYSBjb2xsZWN0aW9uIG9mIGNhbGxiYWNrcyB0byB0aGUgbGlzdFxuXHRcdFx0YWRkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBsaXN0ICkge1xuXG5cdFx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBtZW1vcnkgZnJvbSBhIHBhc3QgcnVuLCB3ZSBzaG91bGQgZmlyZSBhZnRlciBhZGRpbmdcblx0XHRcdFx0XHRpZiAoIG1lbW9yeSAmJiAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aCAtIDE7XG5cdFx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBtZW1vcnkgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQoIGZ1bmN0aW9uIGFkZCggYXJncyApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCBhcmdzLCBmdW5jdGlvbiggXywgYXJnICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBhcmcgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoICFvcHRpb25zLnVuaXF1ZSB8fCAhc2VsZi5oYXMoIGFyZyApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0bGlzdC5wdXNoKCBhcmcgKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIGFyZyAmJiBhcmcubGVuZ3RoICYmIGpRdWVyeS50eXBlKCBhcmcgKSAhPT0gXCJzdHJpbmdcIiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIEluc3BlY3QgcmVjdXJzaXZlbHlcblx0XHRcdFx0XHRcdFx0XHRhZGQoIGFyZyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0fSApKCBhcmd1bWVudHMgKTtcblxuXHRcdFx0XHRcdGlmICggbWVtb3J5ICYmICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRmaXJlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gUmVtb3ZlIGEgY2FsbGJhY2sgZnJvbSB0aGUgbGlzdFxuXHRcdFx0cmVtb3ZlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5LmVhY2goIGFyZ3VtZW50cywgZnVuY3Rpb24oIF8sIGFyZyApIHtcblx0XHRcdFx0XHR2YXIgaW5kZXg7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGluZGV4ID0galF1ZXJ5LmluQXJyYXkoIGFyZywgbGlzdCwgaW5kZXggKSApID4gLTEgKSB7XG5cdFx0XHRcdFx0XHRsaXN0LnNwbGljZSggaW5kZXgsIDEgKTtcblxuXHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGZpcmluZyBpbmRleGVzXG5cdFx0XHRcdFx0XHRpZiAoIGluZGV4IDw9IGZpcmluZ0luZGV4ICkge1xuXHRcdFx0XHRcdFx0XHRmaXJpbmdJbmRleC0tO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIENoZWNrIGlmIGEgZ2l2ZW4gY2FsbGJhY2sgaXMgaW4gdGhlIGxpc3QuXG5cdFx0XHQvLyBJZiBubyBhcmd1bWVudCBpcyBnaXZlbiwgcmV0dXJuIHdoZXRoZXIgb3Igbm90IGxpc3QgaGFzIGNhbGxiYWNrcyBhdHRhY2hlZC5cblx0XHRcdGhhczogZnVuY3Rpb24oIGZuICkge1xuXHRcdFx0XHRyZXR1cm4gZm4gP1xuXHRcdFx0XHRcdGpRdWVyeS5pbkFycmF5KCBmbiwgbGlzdCApID4gLTEgOlxuXHRcdFx0XHRcdGxpc3QubGVuZ3RoID4gMDtcblx0XHRcdH0sXG5cblx0XHRcdC8vIFJlbW92ZSBhbGwgY2FsbGJhY2tzIGZyb20gdGhlIGxpc3Rcblx0XHRcdGVtcHR5OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBsaXN0ICkge1xuXHRcdFx0XHRcdGxpc3QgPSBbXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIERpc2FibGUgLmZpcmUgYW5kIC5hZGRcblx0XHRcdC8vIEFib3J0IGFueSBjdXJyZW50L3BlbmRpbmcgZXhlY3V0aW9uc1xuXHRcdFx0Ly8gQ2xlYXIgYWxsIGNhbGxiYWNrcyBhbmQgdmFsdWVzXG5cdFx0XHRkaXNhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0bG9ja2VkID0gcXVldWUgPSBbXTtcblx0XHRcdFx0bGlzdCA9IG1lbW9yeSA9IFwiXCI7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblx0XHRcdGRpc2FibGVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICFsaXN0O1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gRGlzYWJsZSAuZmlyZVxuXHRcdFx0Ly8gQWxzbyBkaXNhYmxlIC5hZGQgdW5sZXNzIHdlIGhhdmUgbWVtb3J5IChzaW5jZSBpdCB3b3VsZCBoYXZlIG5vIGVmZmVjdClcblx0XHRcdC8vIEFib3J0IGFueSBwZW5kaW5nIGV4ZWN1dGlvbnNcblx0XHRcdGxvY2s6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRsb2NrZWQgPSBxdWV1ZSA9IFtdO1xuXHRcdFx0XHRpZiAoICFtZW1vcnkgJiYgIWZpcmluZyApIHtcblx0XHRcdFx0XHRsaXN0ID0gbWVtb3J5ID0gXCJcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cdFx0XHRsb2NrZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gISFsb2NrZWQ7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBDYWxsIGFsbCBjYWxsYmFja3Mgd2l0aCB0aGUgZ2l2ZW4gY29udGV4dCBhbmQgYXJndW1lbnRzXG5cdFx0XHRmaXJlV2l0aDogZnVuY3Rpb24oIGNvbnRleHQsIGFyZ3MgKSB7XG5cdFx0XHRcdGlmICggIWxvY2tlZCApIHtcblx0XHRcdFx0XHRhcmdzID0gYXJncyB8fCBbXTtcblx0XHRcdFx0XHRhcmdzID0gWyBjb250ZXh0LCBhcmdzLnNsaWNlID8gYXJncy5zbGljZSgpIDogYXJncyBdO1xuXHRcdFx0XHRcdHF1ZXVlLnB1c2goIGFyZ3MgKTtcblx0XHRcdFx0XHRpZiAoICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRmaXJlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gQ2FsbCBhbGwgdGhlIGNhbGxiYWNrcyB3aXRoIHRoZSBnaXZlbiBhcmd1bWVudHNcblx0XHRcdGZpcmU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLmZpcmVXaXRoKCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBUbyBrbm93IGlmIHRoZSBjYWxsYmFja3MgaGF2ZSBhbHJlYWR5IGJlZW4gY2FsbGVkIGF0IGxlYXN0IG9uY2Vcblx0XHRcdGZpcmVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICEhZmlyZWQ7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRyZXR1cm4gc2VsZjtcbn07XG5cblxuZnVuY3Rpb24gSWRlbnRpdHkoIHYgKSB7XG5cdHJldHVybiB2O1xufVxuZnVuY3Rpb24gVGhyb3dlciggZXggKSB7XG5cdHRocm93IGV4O1xufVxuXG5mdW5jdGlvbiBhZG9wdFZhbHVlKCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0ICkge1xuXHR2YXIgbWV0aG9kO1xuXG5cdHRyeSB7XG5cblx0XHQvLyBDaGVjayBmb3IgcHJvbWlzZSBhc3BlY3QgZmlyc3QgdG8gcHJpdmlsZWdlIHN5bmNocm9ub3VzIGJlaGF2aW9yXG5cdFx0aWYgKCB2YWx1ZSAmJiBqUXVlcnkuaXNGdW5jdGlvbiggKCBtZXRob2QgPSB2YWx1ZS5wcm9taXNlICkgKSApIHtcblx0XHRcdG1ldGhvZC5jYWxsKCB2YWx1ZSApLmRvbmUoIHJlc29sdmUgKS5mYWlsKCByZWplY3QgKTtcblxuXHRcdC8vIE90aGVyIHRoZW5hYmxlc1xuXHRcdH0gZWxzZSBpZiAoIHZhbHVlICYmIGpRdWVyeS5pc0Z1bmN0aW9uKCAoIG1ldGhvZCA9IHZhbHVlLnRoZW4gKSApICkge1xuXHRcdFx0bWV0aG9kLmNhbGwoIHZhbHVlLCByZXNvbHZlLCByZWplY3QgKTtcblxuXHRcdC8vIE90aGVyIG5vbi10aGVuYWJsZXNcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCBvbmx5XG5cdFx0XHQvLyBTdHJpY3QgbW9kZSBmdW5jdGlvbnMgaW52b2tlZCB3aXRob3V0IC5jYWxsLy5hcHBseSBnZXQgZ2xvYmFsLW9iamVjdCBjb250ZXh0XG5cdFx0XHRyZXNvbHZlLmNhbGwoIHVuZGVmaW5lZCwgdmFsdWUgKTtcblx0XHR9XG5cblx0Ly8gRm9yIFByb21pc2VzL0ErLCBjb252ZXJ0IGV4Y2VwdGlvbnMgaW50byByZWplY3Rpb25zXG5cdC8vIFNpbmNlIGpRdWVyeS53aGVuIGRvZXNuJ3QgdW53cmFwIHRoZW5hYmxlcywgd2UgY2FuIHNraXAgdGhlIGV4dHJhIGNoZWNrcyBhcHBlYXJpbmcgaW5cblx0Ly8gRGVmZXJyZWQjdGhlbiB0byBjb25kaXRpb25hbGx5IHN1cHByZXNzIHJlamVjdGlvbi5cblx0fSBjYXRjaCAoIHZhbHVlICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgb25seVxuXHRcdC8vIFN0cmljdCBtb2RlIGZ1bmN0aW9ucyBpbnZva2VkIHdpdGhvdXQgLmNhbGwvLmFwcGx5IGdldCBnbG9iYWwtb2JqZWN0IGNvbnRleHRcblx0XHRyZWplY3QuY2FsbCggdW5kZWZpbmVkLCB2YWx1ZSApO1xuXHR9XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHREZWZlcnJlZDogZnVuY3Rpb24oIGZ1bmMgKSB7XG5cdFx0dmFyIHR1cGxlcyA9IFtcblxuXHRcdFx0XHQvLyBhY3Rpb24sIGFkZCBsaXN0ZW5lciwgY2FsbGJhY2tzLFxuXHRcdFx0XHQvLyAuLi4gLnRoZW4gaGFuZGxlcnMsIGFyZ3VtZW50IGluZGV4LCBbZmluYWwgc3RhdGVdXG5cdFx0XHRcdFsgXCJub3RpZnlcIiwgXCJwcm9ncmVzc1wiLCBqUXVlcnkuQ2FsbGJhY2tzKCBcIm1lbW9yeVwiICksXG5cdFx0XHRcdFx0alF1ZXJ5LkNhbGxiYWNrcyggXCJtZW1vcnlcIiApLCAyIF0sXG5cdFx0XHRcdFsgXCJyZXNvbHZlXCIsIFwiZG9uZVwiLCBqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKSxcblx0XHRcdFx0XHRqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKSwgMCwgXCJyZXNvbHZlZFwiIF0sXG5cdFx0XHRcdFsgXCJyZWplY3RcIiwgXCJmYWlsXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLFxuXHRcdFx0XHRcdGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLCAxLCBcInJlamVjdGVkXCIgXVxuXHRcdFx0XSxcblx0XHRcdHN0YXRlID0gXCJwZW5kaW5nXCIsXG5cdFx0XHRwcm9taXNlID0ge1xuXHRcdFx0XHRzdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHN0YXRlO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRhbHdheXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGRlZmVycmVkLmRvbmUoIGFyZ3VtZW50cyApLmZhaWwoIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRcImNhdGNoXCI6IGZ1bmN0aW9uKCBmbiApIHtcblx0XHRcdFx0XHRyZXR1cm4gcHJvbWlzZS50aGVuKCBudWxsLCBmbiApO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIEtlZXAgcGlwZSBmb3IgYmFjay1jb21wYXRcblx0XHRcdFx0cGlwZTogZnVuY3Rpb24oIC8qIGZuRG9uZSwgZm5GYWlsLCBmblByb2dyZXNzICovICkge1xuXHRcdFx0XHRcdHZhciBmbnMgPSBhcmd1bWVudHM7XG5cblx0XHRcdFx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCBmdW5jdGlvbiggbmV3RGVmZXIgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkuZWFjaCggdHVwbGVzLCBmdW5jdGlvbiggaSwgdHVwbGUgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gTWFwIHR1cGxlcyAocHJvZ3Jlc3MsIGRvbmUsIGZhaWwpIHRvIGFyZ3VtZW50cyAoZG9uZSwgZmFpbCwgcHJvZ3Jlc3MpXG5cdFx0XHRcdFx0XHRcdHZhciBmbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCBmbnNbIHR1cGxlWyA0IF0gXSApICYmIGZuc1sgdHVwbGVbIDQgXSBdO1xuXG5cdFx0XHRcdFx0XHRcdC8vIGRlZmVycmVkLnByb2dyZXNzKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLm5vdGlmeSB9KVxuXHRcdFx0XHRcdFx0XHQvLyBkZWZlcnJlZC5kb25lKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLnJlc29sdmUgfSlcblx0XHRcdFx0XHRcdFx0Ly8gZGVmZXJyZWQuZmFpbChmdW5jdGlvbigpIHsgYmluZCB0byBuZXdEZWZlciBvciBuZXdEZWZlci5yZWplY3QgfSlcblx0XHRcdFx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAxIF0gXSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHJldHVybmVkID0gZm4gJiYgZm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdFx0XHRcdGlmICggcmV0dXJuZWQgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oIHJldHVybmVkLnByb21pc2UgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLnByb21pc2UoKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQucHJvZ3Jlc3MoIG5ld0RlZmVyLm5vdGlmeSApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5kb25lKCBuZXdEZWZlci5yZXNvbHZlIClcblx0XHRcdFx0XHRcdFx0XHRcdFx0LmZhaWwoIG5ld0RlZmVyLnJlamVjdCApO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlclsgdHVwbGVbIDAgXSArIFwiV2l0aFwiIF0oXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZuID8gWyByZXR1cm5lZCBdIDogYXJndW1lbnRzXG5cdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0Zm5zID0gbnVsbDtcblx0XHRcdFx0XHR9ICkucHJvbWlzZSgpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR0aGVuOiBmdW5jdGlvbiggb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIG9uUHJvZ3Jlc3MgKSB7XG5cdFx0XHRcdFx0dmFyIG1heERlcHRoID0gMDtcblx0XHRcdFx0XHRmdW5jdGlvbiByZXNvbHZlKCBkZXB0aCwgZGVmZXJyZWQsIGhhbmRsZXIsIHNwZWNpYWwgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdFx0XHRcdFx0XHRhcmdzID0gYXJndW1lbnRzLFxuXHRcdFx0XHRcdFx0XHRcdG1pZ2h0VGhyb3cgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHZhciByZXR1cm5lZCwgdGhlbjtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMy4zLjNcblx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTU5XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBJZ25vcmUgZG91YmxlLXJlc29sdXRpb24gYXR0ZW1wdHNcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggZGVwdGggPCBtYXhEZXB0aCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZCA9IGhhbmRsZXIuYXBwbHkoIHRoYXQsIGFyZ3MgKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNDhcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggcmV0dXJuZWQgPT09IGRlZmVycmVkLnByb21pc2UoKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvciggXCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb25cIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9ucyAyLjMuMy4xLCAzLjVcblx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTU0XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC03NVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gUmV0cmlldmUgYHRoZW5gIG9ubHkgb25jZVxuXHRcdFx0XHRcdFx0XHRcdFx0dGhlbiA9IHJldHVybmVkICYmXG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuNFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC02NFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IGNoZWNrIG9iamVjdHMgYW5kIGZ1bmN0aW9ucyBmb3IgdGhlbmFiaWxpdHlcblx0XHRcdFx0XHRcdFx0XHRcdFx0KCB0eXBlb2YgcmV0dXJuZWQgPT09IFwib2JqZWN0XCIgfHxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlb2YgcmV0dXJuZWQgPT09IFwiZnVuY3Rpb25cIiApICYmXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLnRoZW47XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIEhhbmRsZSBhIHJldHVybmVkIHRoZW5hYmxlXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB0aGVuICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3BlY2lhbCBwcm9jZXNzb3JzIChub3RpZnkpIGp1c3Qgd2FpdCBmb3IgcmVzb2x1dGlvblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHNwZWNpYWwgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhlbi5jYWxsKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LCBzcGVjaWFsICksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIFRocm93ZXIsIHNwZWNpYWwgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gTm9ybWFsIHByb2Nlc3NvcnMgKHJlc29sdmUpIGFsc28gaG9vayBpbnRvIHByb2dyZXNzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAuLi5hbmQgZGlzcmVnYXJkIG9sZGVyIHJlc29sdXRpb24gdmFsdWVzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWF4RGVwdGgrKztcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoZW4uY2FsbChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSwgc3BlY2lhbCApLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBUaHJvd2VyLCBzcGVjaWFsICksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoIClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIEhhbmRsZSBhbGwgb3RoZXIgcmV0dXJuZWQgdmFsdWVzXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgc3Vic3RpdHV0ZSBoYW5kbGVycyBwYXNzIG9uIGNvbnRleHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gYW5kIG11bHRpcGxlIHZhbHVlcyAobm9uLXNwZWMgYmVoYXZpb3IpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggaGFuZGxlciAhPT0gSWRlbnRpdHkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhhdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcmdzID0gWyByZXR1cm5lZCBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gUHJvY2VzcyB0aGUgdmFsdWUocylcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gRGVmYXVsdCBwcm9jZXNzIGlzIHJlc29sdmVcblx0XHRcdFx0XHRcdFx0XHRcdFx0KCBzcGVjaWFsIHx8IGRlZmVycmVkLnJlc29sdmVXaXRoICkoIHRoYXQsIGFyZ3MgKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBub3JtYWwgcHJvY2Vzc29ycyAocmVzb2x2ZSkgY2F0Y2ggYW5kIHJlamVjdCBleGNlcHRpb25zXG5cdFx0XHRcdFx0XHRcdFx0cHJvY2VzcyA9IHNwZWNpYWwgP1xuXHRcdFx0XHRcdFx0XHRcdFx0bWlnaHRUaHJvdyA6XG5cdFx0XHRcdFx0XHRcdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtaWdodFRocm93KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rKCBlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzLnN0YWNrVHJhY2UgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuNC4xXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNjFcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBJZ25vcmUgcG9zdC1yZXNvbHV0aW9uIGV4Y2VwdGlvbnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGRlcHRoICsgMSA+PSBtYXhEZXB0aCApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBzdWJzdGl0dXRlIGhhbmRsZXJzIHBhc3Mgb24gY29udGV4dFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gYW5kIG11bHRpcGxlIHZhbHVlcyAobm9uLXNwZWMgYmVoYXZpb3IpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGhhbmRsZXIgIT09IFRocm93ZXIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoYXQgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFyZ3MgPSBbIGUgXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggdGhhdCwgYXJncyApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuMVxuXHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC01N1xuXHRcdFx0XHRcdFx0XHQvLyBSZS1yZXNvbHZlIHByb21pc2VzIGltbWVkaWF0ZWx5IHRvIGRvZGdlIGZhbHNlIHJlamVjdGlvbiBmcm9tXG5cdFx0XHRcdFx0XHRcdC8vIHN1YnNlcXVlbnQgZXJyb3JzXG5cdFx0XHRcdFx0XHRcdGlmICggZGVwdGggKSB7XG5cdFx0XHRcdFx0XHRcdFx0cHJvY2VzcygpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gQ2FsbCBhbiBvcHRpb25hbCBob29rIHRvIHJlY29yZCB0aGUgc3RhY2ssIGluIGNhc2Ugb2YgZXhjZXB0aW9uXG5cdFx0XHRcdFx0XHRcdFx0Ly8gc2luY2UgaXQncyBvdGhlcndpc2UgbG9zdCB3aGVuIGV4ZWN1dGlvbiBnb2VzIGFzeW5jXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuRGVmZXJyZWQuZ2V0U3RhY2tIb29rICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cHJvY2Vzcy5zdGFja1RyYWNlID0galF1ZXJ5LkRlZmVycmVkLmdldFN0YWNrSG9vaygpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dCggcHJvY2VzcyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoIGZ1bmN0aW9uKCBuZXdEZWZlciApIHtcblxuXHRcdFx0XHRcdFx0Ly8gcHJvZ3Jlc3NfaGFuZGxlcnMuYWRkKCAuLi4gKVxuXHRcdFx0XHRcdFx0dHVwbGVzWyAwIF1bIDMgXS5hZGQoXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoXG5cdFx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlcixcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuaXNGdW5jdGlvbiggb25Qcm9ncmVzcyApID9cblx0XHRcdFx0XHRcdFx0XHRcdG9uUHJvZ3Jlc3MgOlxuXHRcdFx0XHRcdFx0XHRcdFx0SWRlbnRpdHksXG5cdFx0XHRcdFx0XHRcdFx0bmV3RGVmZXIubm90aWZ5V2l0aFxuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHQvLyBmdWxmaWxsZWRfaGFuZGxlcnMuYWRkKCAuLi4gKVxuXHRcdFx0XHRcdFx0dHVwbGVzWyAxIF1bIDMgXS5hZGQoXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoXG5cdFx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlcixcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuaXNGdW5jdGlvbiggb25GdWxmaWxsZWQgKSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRvbkZ1bGZpbGxlZCA6XG5cdFx0XHRcdFx0XHRcdFx0XHRJZGVudGl0eVxuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHQvLyByZWplY3RlZF9oYW5kbGVycy5hZGQoIC4uLiApXG5cdFx0XHRcdFx0XHR0dXBsZXNbIDIgXVsgMyBdLmFkZChcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLFxuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5pc0Z1bmN0aW9uKCBvblJlamVjdGVkICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0b25SZWplY3RlZCA6XG5cdFx0XHRcdFx0XHRcdFx0XHRUaHJvd2VyXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSApLnByb21pc2UoKTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBHZXQgYSBwcm9taXNlIGZvciB0aGlzIGRlZmVycmVkXG5cdFx0XHRcdC8vIElmIG9iaiBpcyBwcm92aWRlZCwgdGhlIHByb21pc2UgYXNwZWN0IGlzIGFkZGVkIHRvIHRoZSBvYmplY3Rcblx0XHRcdFx0cHJvbWlzZTogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRcdFx0XHRyZXR1cm4gb2JqICE9IG51bGwgPyBqUXVlcnkuZXh0ZW5kKCBvYmosIHByb21pc2UgKSA6IHByb21pc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRkZWZlcnJlZCA9IHt9O1xuXG5cdFx0Ly8gQWRkIGxpc3Qtc3BlY2lmaWMgbWV0aG9kc1xuXHRcdGpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBpLCB0dXBsZSApIHtcblx0XHRcdHZhciBsaXN0ID0gdHVwbGVbIDIgXSxcblx0XHRcdFx0c3RhdGVTdHJpbmcgPSB0dXBsZVsgNSBdO1xuXG5cdFx0XHQvLyBwcm9taXNlLnByb2dyZXNzID0gbGlzdC5hZGRcblx0XHRcdC8vIHByb21pc2UuZG9uZSA9IGxpc3QuYWRkXG5cdFx0XHQvLyBwcm9taXNlLmZhaWwgPSBsaXN0LmFkZFxuXHRcdFx0cHJvbWlzZVsgdHVwbGVbIDEgXSBdID0gbGlzdC5hZGQ7XG5cblx0XHRcdC8vIEhhbmRsZSBzdGF0ZVxuXHRcdFx0aWYgKCBzdGF0ZVN0cmluZyApIHtcblx0XHRcdFx0bGlzdC5hZGQoXG5cdFx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRcdC8vIHN0YXRlID0gXCJyZXNvbHZlZFwiIChpLmUuLCBmdWxmaWxsZWQpXG5cdFx0XHRcdFx0XHQvLyBzdGF0ZSA9IFwicmVqZWN0ZWRcIlxuXHRcdFx0XHRcdFx0c3RhdGUgPSBzdGF0ZVN0cmluZztcblx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0Ly8gcmVqZWN0ZWRfY2FsbGJhY2tzLmRpc2FibGVcblx0XHRcdFx0XHQvLyBmdWxmaWxsZWRfY2FsbGJhY2tzLmRpc2FibGVcblx0XHRcdFx0XHR0dXBsZXNbIDMgLSBpIF1bIDIgXS5kaXNhYmxlLFxuXG5cdFx0XHRcdFx0Ly8gcHJvZ3Jlc3NfY2FsbGJhY2tzLmxvY2tcblx0XHRcdFx0XHR0dXBsZXNbIDAgXVsgMiBdLmxvY2tcblx0XHRcdFx0KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gcHJvZ3Jlc3NfaGFuZGxlcnMuZmlyZVxuXHRcdFx0Ly8gZnVsZmlsbGVkX2hhbmRsZXJzLmZpcmVcblx0XHRcdC8vIHJlamVjdGVkX2hhbmRsZXJzLmZpcmVcblx0XHRcdGxpc3QuYWRkKCB0dXBsZVsgMyBdLmZpcmUgKTtcblxuXHRcdFx0Ly8gZGVmZXJyZWQubm90aWZ5ID0gZnVuY3Rpb24oKSB7IGRlZmVycmVkLm5vdGlmeVdpdGgoLi4uKSB9XG5cdFx0XHQvLyBkZWZlcnJlZC5yZXNvbHZlID0gZnVuY3Rpb24oKSB7IGRlZmVycmVkLnJlc29sdmVXaXRoKC4uLikgfVxuXHRcdFx0Ly8gZGVmZXJyZWQucmVqZWN0ID0gZnVuY3Rpb24oKSB7IGRlZmVycmVkLnJlamVjdFdpdGgoLi4uKSB9XG5cdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDAgXSBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRlZmVycmVkWyB0dXBsZVsgMCBdICsgXCJXaXRoXCIgXSggdGhpcyA9PT0gZGVmZXJyZWQgPyB1bmRlZmluZWQgOiB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9O1xuXG5cdFx0XHQvLyBkZWZlcnJlZC5ub3RpZnlXaXRoID0gbGlzdC5maXJlV2l0aFxuXHRcdFx0Ly8gZGVmZXJyZWQucmVzb2x2ZVdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHQvLyBkZWZlcnJlZC5yZWplY3RXaXRoID0gbGlzdC5maXJlV2l0aFxuXHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdID0gbGlzdC5maXJlV2l0aDtcblx0XHR9ICk7XG5cblx0XHQvLyBNYWtlIHRoZSBkZWZlcnJlZCBhIHByb21pc2Vcblx0XHRwcm9taXNlLnByb21pc2UoIGRlZmVycmVkICk7XG5cblx0XHQvLyBDYWxsIGdpdmVuIGZ1bmMgaWYgYW55XG5cdFx0aWYgKCBmdW5jICkge1xuXHRcdFx0ZnVuYy5jYWxsKCBkZWZlcnJlZCwgZGVmZXJyZWQgKTtcblx0XHR9XG5cblx0XHQvLyBBbGwgZG9uZSFcblx0XHRyZXR1cm4gZGVmZXJyZWQ7XG5cdH0sXG5cblx0Ly8gRGVmZXJyZWQgaGVscGVyXG5cdHdoZW46IGZ1bmN0aW9uKCBzaW5nbGVWYWx1ZSApIHtcblx0XHR2YXJcblxuXHRcdFx0Ly8gY291bnQgb2YgdW5jb21wbGV0ZWQgc3Vib3JkaW5hdGVzXG5cdFx0XHRyZW1haW5pbmcgPSBhcmd1bWVudHMubGVuZ3RoLFxuXG5cdFx0XHQvLyBjb3VudCBvZiB1bnByb2Nlc3NlZCBhcmd1bWVudHNcblx0XHRcdGkgPSByZW1haW5pbmcsXG5cblx0XHRcdC8vIHN1Ym9yZGluYXRlIGZ1bGZpbGxtZW50IGRhdGFcblx0XHRcdHJlc29sdmVDb250ZXh0cyA9IEFycmF5KCBpICksXG5cdFx0XHRyZXNvbHZlVmFsdWVzID0gc2xpY2UuY2FsbCggYXJndW1lbnRzICksXG5cblx0XHRcdC8vIHRoZSBtYXN0ZXIgRGVmZXJyZWRcblx0XHRcdG1hc3RlciA9IGpRdWVyeS5EZWZlcnJlZCgpLFxuXG5cdFx0XHQvLyBzdWJvcmRpbmF0ZSBjYWxsYmFjayBmYWN0b3J5XG5cdFx0XHR1cGRhdGVGdW5jID0gZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRcdFx0cmVzb2x2ZUNvbnRleHRzWyBpIF0gPSB0aGlzO1xuXHRcdFx0XHRcdHJlc29sdmVWYWx1ZXNbIGkgXSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gc2xpY2UuY2FsbCggYXJndW1lbnRzICkgOiB2YWx1ZTtcblx0XHRcdFx0XHRpZiAoICEoIC0tcmVtYWluaW5nICkgKSB7XG5cdFx0XHRcdFx0XHRtYXN0ZXIucmVzb2x2ZVdpdGgoIHJlc29sdmVDb250ZXh0cywgcmVzb2x2ZVZhbHVlcyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdH07XG5cblx0XHQvLyBTaW5nbGUtIGFuZCBlbXB0eSBhcmd1bWVudHMgYXJlIGFkb3B0ZWQgbGlrZSBQcm9taXNlLnJlc29sdmVcblx0XHRpZiAoIHJlbWFpbmluZyA8PSAxICkge1xuXHRcdFx0YWRvcHRWYWx1ZSggc2luZ2xlVmFsdWUsIG1hc3Rlci5kb25lKCB1cGRhdGVGdW5jKCBpICkgKS5yZXNvbHZlLCBtYXN0ZXIucmVqZWN0ICk7XG5cblx0XHRcdC8vIFVzZSAudGhlbigpIHRvIHVud3JhcCBzZWNvbmRhcnkgdGhlbmFibGVzIChjZi4gZ2gtMzAwMClcblx0XHRcdGlmICggbWFzdGVyLnN0YXRlKCkgPT09IFwicGVuZGluZ1wiIHx8XG5cdFx0XHRcdGpRdWVyeS5pc0Z1bmN0aW9uKCByZXNvbHZlVmFsdWVzWyBpIF0gJiYgcmVzb2x2ZVZhbHVlc1sgaSBdLnRoZW4gKSApIHtcblxuXHRcdFx0XHRyZXR1cm4gbWFzdGVyLnRoZW4oKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBNdWx0aXBsZSBhcmd1bWVudHMgYXJlIGFnZ3JlZ2F0ZWQgbGlrZSBQcm9taXNlLmFsbCBhcnJheSBlbGVtZW50c1xuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0YWRvcHRWYWx1ZSggcmVzb2x2ZVZhbHVlc1sgaSBdLCB1cGRhdGVGdW5jKCBpICksIG1hc3Rlci5yZWplY3QgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbWFzdGVyLnByb21pc2UoKTtcblx0fVxufSApO1xuXG5cbi8vIFRoZXNlIHVzdWFsbHkgaW5kaWNhdGUgYSBwcm9ncmFtbWVyIG1pc3Rha2UgZHVyaW5nIGRldmVsb3BtZW50LFxuLy8gd2FybiBhYm91dCB0aGVtIEFTQVAgcmF0aGVyIHRoYW4gc3dhbGxvd2luZyB0aGVtIGJ5IGRlZmF1bHQuXG52YXIgcmVycm9yTmFtZXMgPSAvXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztcblxualF1ZXJ5LkRlZmVycmVkLmV4Y2VwdGlvbkhvb2sgPSBmdW5jdGlvbiggZXJyb3IsIHN0YWNrICkge1xuXG5cdC8vIFN1cHBvcnQ6IElFIDggLSA5IG9ubHlcblx0Ly8gQ29uc29sZSBleGlzdHMgd2hlbiBkZXYgdG9vbHMgYXJlIG9wZW4sIHdoaWNoIGNhbiBoYXBwZW4gYXQgYW55IHRpbWVcblx0aWYgKCB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS53YXJuICYmIGVycm9yICYmIHJlcnJvck5hbWVzLnRlc3QoIGVycm9yLm5hbWUgKSApIHtcblx0XHR3aW5kb3cuY29uc29sZS53YXJuKCBcImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246IFwiICsgZXJyb3IubWVzc2FnZSwgZXJyb3Iuc3RhY2ssIHN0YWNrICk7XG5cdH1cbn07XG5cblxuXG5cbmpRdWVyeS5yZWFkeUV4Y2VwdGlvbiA9IGZ1bmN0aW9uKCBlcnJvciApIHtcblx0d2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdHRocm93IGVycm9yO1xuXHR9ICk7XG59O1xuXG5cblxuXG4vLyBUaGUgZGVmZXJyZWQgdXNlZCBvbiBET00gcmVhZHlcbnZhciByZWFkeUxpc3QgPSBqUXVlcnkuRGVmZXJyZWQoKTtcblxualF1ZXJ5LmZuLnJlYWR5ID0gZnVuY3Rpb24oIGZuICkge1xuXG5cdHJlYWR5TGlzdFxuXHRcdC50aGVuKCBmbiApXG5cblx0XHQvLyBXcmFwIGpRdWVyeS5yZWFkeUV4Y2VwdGlvbiBpbiBhIGZ1bmN0aW9uIHNvIHRoYXQgdGhlIGxvb2t1cFxuXHRcdC8vIGhhcHBlbnMgYXQgdGhlIHRpbWUgb2YgZXJyb3IgaGFuZGxpbmcgaW5zdGVhZCBvZiBjYWxsYmFja1xuXHRcdC8vIHJlZ2lzdHJhdGlvbi5cblx0XHQuY2F0Y2goIGZ1bmN0aW9uKCBlcnJvciApIHtcblx0XHRcdGpRdWVyeS5yZWFkeUV4Y2VwdGlvbiggZXJyb3IgKTtcblx0XHR9ICk7XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0Ly8gSXMgdGhlIERPTSByZWFkeSB0byBiZSB1c2VkPyBTZXQgdG8gdHJ1ZSBvbmNlIGl0IG9jY3Vycy5cblx0aXNSZWFkeTogZmFsc2UsXG5cblx0Ly8gQSBjb3VudGVyIHRvIHRyYWNrIGhvdyBtYW55IGl0ZW1zIHRvIHdhaXQgZm9yIGJlZm9yZVxuXHQvLyB0aGUgcmVhZHkgZXZlbnQgZmlyZXMuIFNlZSAjNjc4MVxuXHRyZWFkeVdhaXQ6IDEsXG5cblx0Ly8gSG9sZCAob3IgcmVsZWFzZSkgdGhlIHJlYWR5IGV2ZW50XG5cdGhvbGRSZWFkeTogZnVuY3Rpb24oIGhvbGQgKSB7XG5cdFx0aWYgKCBob2xkICkge1xuXHRcdFx0alF1ZXJ5LnJlYWR5V2FpdCsrO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRqUXVlcnkucmVhZHkoIHRydWUgKTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gSGFuZGxlIHdoZW4gdGhlIERPTSBpcyByZWFkeVxuXHRyZWFkeTogZnVuY3Rpb24oIHdhaXQgKSB7XG5cblx0XHQvLyBBYm9ydCBpZiB0aGVyZSBhcmUgcGVuZGluZyBob2xkcyBvciB3ZSdyZSBhbHJlYWR5IHJlYWR5XG5cdFx0aWYgKCB3YWl0ID09PSB0cnVlID8gLS1qUXVlcnkucmVhZHlXYWl0IDogalF1ZXJ5LmlzUmVhZHkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gUmVtZW1iZXIgdGhhdCB0aGUgRE9NIGlzIHJlYWR5XG5cdFx0alF1ZXJ5LmlzUmVhZHkgPSB0cnVlO1xuXG5cdFx0Ly8gSWYgYSBub3JtYWwgRE9NIFJlYWR5IGV2ZW50IGZpcmVkLCBkZWNyZW1lbnQsIGFuZCB3YWl0IGlmIG5lZWQgYmVcblx0XHRpZiAoIHdhaXQgIT09IHRydWUgJiYgLS1qUXVlcnkucmVhZHlXYWl0ID4gMCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBJZiB0aGVyZSBhcmUgZnVuY3Rpb25zIGJvdW5kLCB0byBleGVjdXRlXG5cdFx0cmVhZHlMaXN0LnJlc29sdmVXaXRoKCBkb2N1bWVudCwgWyBqUXVlcnkgXSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5yZWFkeS50aGVuID0gcmVhZHlMaXN0LnRoZW47XG5cbi8vIFRoZSByZWFkeSBldmVudCBoYW5kbGVyIGFuZCBzZWxmIGNsZWFudXAgbWV0aG9kXG5mdW5jdGlvbiBjb21wbGV0ZWQoKSB7XG5cdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwiRE9NQ29udGVudExvYWRlZFwiLCBjb21wbGV0ZWQgKTtcblx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwibG9hZFwiLCBjb21wbGV0ZWQgKTtcblx0alF1ZXJ5LnJlYWR5KCk7XG59XG5cbi8vIENhdGNoIGNhc2VzIHdoZXJlICQoZG9jdW1lbnQpLnJlYWR5KCkgaXMgY2FsbGVkXG4vLyBhZnRlciB0aGUgYnJvd3NlciBldmVudCBoYXMgYWxyZWFkeSBvY2N1cnJlZC5cbi8vIFN1cHBvcnQ6IElFIDw9OSAtIDEwIG9ubHlcbi8vIE9sZGVyIElFIHNvbWV0aW1lcyBzaWduYWxzIFwiaW50ZXJhY3RpdmVcIiB0b28gc29vblxuaWYgKCBkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIgfHxcblx0KCBkb2N1bWVudC5yZWFkeVN0YXRlICE9PSBcImxvYWRpbmdcIiAmJiAhZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsICkgKSB7XG5cblx0Ly8gSGFuZGxlIGl0IGFzeW5jaHJvbm91c2x5IHRvIGFsbG93IHNjcmlwdHMgdGhlIG9wcG9ydHVuaXR5IHRvIGRlbGF5IHJlYWR5XG5cdHdpbmRvdy5zZXRUaW1lb3V0KCBqUXVlcnkucmVhZHkgKTtcblxufSBlbHNlIHtcblxuXHQvLyBVc2UgdGhlIGhhbmR5IGV2ZW50IGNhbGxiYWNrXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIFwiRE9NQ29udGVudExvYWRlZFwiLCBjb21wbGV0ZWQgKTtcblxuXHQvLyBBIGZhbGxiYWNrIHRvIHdpbmRvdy5vbmxvYWQsIHRoYXQgd2lsbCBhbHdheXMgd29ya1xuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggXCJsb2FkXCIsIGNvbXBsZXRlZCApO1xufVxuXG5cblxuXG4vLyBNdWx0aWZ1bmN0aW9uYWwgbWV0aG9kIHRvIGdldCBhbmQgc2V0IHZhbHVlcyBvZiBhIGNvbGxlY3Rpb25cbi8vIFRoZSB2YWx1ZS9zIGNhbiBvcHRpb25hbGx5IGJlIGV4ZWN1dGVkIGlmIGl0J3MgYSBmdW5jdGlvblxudmFyIGFjY2VzcyA9IGZ1bmN0aW9uKCBlbGVtcywgZm4sIGtleSwgdmFsdWUsIGNoYWluYWJsZSwgZW1wdHlHZXQsIHJhdyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGxlbiA9IGVsZW1zLmxlbmd0aCxcblx0XHRidWxrID0ga2V5ID09IG51bGw7XG5cblx0Ly8gU2V0cyBtYW55IHZhbHVlc1xuXHRpZiAoIGpRdWVyeS50eXBlKCBrZXkgKSA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRjaGFpbmFibGUgPSB0cnVlO1xuXHRcdGZvciAoIGkgaW4ga2V5ICkge1xuXHRcdFx0YWNjZXNzKCBlbGVtcywgZm4sIGksIGtleVsgaSBdLCB0cnVlLCBlbXB0eUdldCwgcmF3ICk7XG5cdFx0fVxuXG5cdC8vIFNldHMgb25lIHZhbHVlXG5cdH0gZWxzZSBpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0Y2hhaW5hYmxlID0gdHJ1ZTtcblxuXHRcdGlmICggIWpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmF3ID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRpZiAoIGJ1bGsgKSB7XG5cblx0XHRcdC8vIEJ1bGsgb3BlcmF0aW9ucyBydW4gYWdhaW5zdCB0aGUgZW50aXJlIHNldFxuXHRcdFx0aWYgKCByYXcgKSB7XG5cdFx0XHRcdGZuLmNhbGwoIGVsZW1zLCB2YWx1ZSApO1xuXHRcdFx0XHRmbiA9IG51bGw7XG5cblx0XHRcdC8vIC4uLmV4Y2VwdCB3aGVuIGV4ZWN1dGluZyBmdW5jdGlvbiB2YWx1ZXNcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJ1bGsgPSBmbjtcblx0XHRcdFx0Zm4gPSBmdW5jdGlvbiggZWxlbSwga2V5LCB2YWx1ZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gYnVsay5jYWxsKCBqUXVlcnkoIGVsZW0gKSwgdmFsdWUgKTtcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIGZuICkge1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdGZuKFxuXHRcdFx0XHRcdGVsZW1zWyBpIF0sIGtleSwgcmF3ID9cblx0XHRcdFx0XHR2YWx1ZSA6XG5cdFx0XHRcdFx0dmFsdWUuY2FsbCggZWxlbXNbIGkgXSwgaSwgZm4oIGVsZW1zWyBpIF0sIGtleSApIClcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gY2hhaW5hYmxlID9cblx0XHRlbGVtcyA6XG5cblx0XHQvLyBHZXRzXG5cdFx0YnVsayA/XG5cdFx0XHRmbi5jYWxsKCBlbGVtcyApIDpcblx0XHRcdGxlbiA/IGZuKCBlbGVtc1sgMCBdLCBrZXkgKSA6IGVtcHR5R2V0O1xufTtcbnZhciBhY2NlcHREYXRhID0gZnVuY3Rpb24oIG93bmVyICkge1xuXG5cdC8vIEFjY2VwdHMgb25seTpcblx0Ly8gIC0gTm9kZVxuXHQvLyAgICAtIE5vZGUuRUxFTUVOVF9OT0RFXG5cdC8vICAgIC0gTm9kZS5ET0NVTUVOVF9OT0RFXG5cdC8vICAtIE9iamVjdFxuXHQvLyAgICAtIEFueVxuXHRyZXR1cm4gb3duZXIubm9kZVR5cGUgPT09IDEgfHwgb3duZXIubm9kZVR5cGUgPT09IDkgfHwgISggK293bmVyLm5vZGVUeXBlICk7XG59O1xuXG5cblxuXG5mdW5jdGlvbiBEYXRhKCkge1xuXHR0aGlzLmV4cGFuZG8gPSBqUXVlcnkuZXhwYW5kbyArIERhdGEudWlkKys7XG59XG5cbkRhdGEudWlkID0gMTtcblxuRGF0YS5wcm90b3R5cGUgPSB7XG5cblx0Y2FjaGU6IGZ1bmN0aW9uKCBvd25lciApIHtcblxuXHRcdC8vIENoZWNrIGlmIHRoZSBvd25lciBvYmplY3QgYWxyZWFkeSBoYXMgYSBjYWNoZVxuXHRcdHZhciB2YWx1ZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblxuXHRcdC8vIElmIG5vdCwgY3JlYXRlIG9uZVxuXHRcdGlmICggIXZhbHVlICkge1xuXHRcdFx0dmFsdWUgPSB7fTtcblxuXHRcdFx0Ly8gV2UgY2FuIGFjY2VwdCBkYXRhIGZvciBub24tZWxlbWVudCBub2RlcyBpbiBtb2Rlcm4gYnJvd3NlcnMsXG5cdFx0XHQvLyBidXQgd2Ugc2hvdWxkIG5vdCwgc2VlICM4MzM1LlxuXHRcdFx0Ly8gQWx3YXlzIHJldHVybiBhbiBlbXB0eSBvYmplY3QuXG5cdFx0XHRpZiAoIGFjY2VwdERhdGEoIG93bmVyICkgKSB7XG5cblx0XHRcdFx0Ly8gSWYgaXQgaXMgYSBub2RlIHVubGlrZWx5IHRvIGJlIHN0cmluZ2lmeS1lZCBvciBsb29wZWQgb3ZlclxuXHRcdFx0XHQvLyB1c2UgcGxhaW4gYXNzaWdubWVudFxuXHRcdFx0XHRpZiAoIG93bmVyLm5vZGVUeXBlICkge1xuXHRcdFx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSA9IHZhbHVlO1xuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSBzZWN1cmUgaXQgaW4gYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eVxuXHRcdFx0XHQvLyBjb25maWd1cmFibGUgbXVzdCBiZSB0cnVlIHRvIGFsbG93IHRoZSBwcm9wZXJ0eSB0byBiZVxuXHRcdFx0XHQvLyBkZWxldGVkIHdoZW4gZGF0YSBpcyByZW1vdmVkXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCBvd25lciwgdGhpcy5leHBhbmRvLCB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogdmFsdWUsXG5cdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdmFsdWU7XG5cdH0sXG5cdHNldDogZnVuY3Rpb24oIG93bmVyLCBkYXRhLCB2YWx1ZSApIHtcblx0XHR2YXIgcHJvcCxcblx0XHRcdGNhY2hlID0gdGhpcy5jYWNoZSggb3duZXIgKTtcblxuXHRcdC8vIEhhbmRsZTogWyBvd25lciwga2V5LCB2YWx1ZSBdIGFyZ3Ncblx0XHQvLyBBbHdheXMgdXNlIGNhbWVsQ2FzZSBrZXkgKGdoLTIyNTcpXG5cdFx0aWYgKCB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGNhY2hlWyBqUXVlcnkuY2FtZWxDYXNlKCBkYXRhICkgXSA9IHZhbHVlO1xuXG5cdFx0Ly8gSGFuZGxlOiBbIG93bmVyLCB7IHByb3BlcnRpZXMgfSBdIGFyZ3Ncblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBDb3B5IHRoZSBwcm9wZXJ0aWVzIG9uZS1ieS1vbmUgdG8gdGhlIGNhY2hlIG9iamVjdFxuXHRcdFx0Zm9yICggcHJvcCBpbiBkYXRhICkge1xuXHRcdFx0XHRjYWNoZVsgalF1ZXJ5LmNhbWVsQ2FzZSggcHJvcCApIF0gPSBkYXRhWyBwcm9wIF07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBjYWNoZTtcblx0fSxcblx0Z2V0OiBmdW5jdGlvbiggb3duZXIsIGtleSApIHtcblx0XHRyZXR1cm4ga2V5ID09PSB1bmRlZmluZWQgP1xuXHRcdFx0dGhpcy5jYWNoZSggb3duZXIgKSA6XG5cblx0XHRcdC8vIEFsd2F5cyB1c2UgY2FtZWxDYXNlIGtleSAoZ2gtMjI1Nylcblx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSAmJiBvd25lclsgdGhpcy5leHBhbmRvIF1bIGpRdWVyeS5jYW1lbENhc2UoIGtleSApIF07XG5cdH0sXG5cdGFjY2VzczogZnVuY3Rpb24oIG93bmVyLCBrZXksIHZhbHVlICkge1xuXG5cdFx0Ly8gSW4gY2FzZXMgd2hlcmUgZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBObyBrZXkgd2FzIHNwZWNpZmllZFxuXHRcdC8vICAgMi4gQSBzdHJpbmcga2V5IHdhcyBzcGVjaWZpZWQsIGJ1dCBubyB2YWx1ZSBwcm92aWRlZFxuXHRcdC8vXG5cdFx0Ly8gVGFrZSB0aGUgXCJyZWFkXCIgcGF0aCBhbmQgYWxsb3cgdGhlIGdldCBtZXRob2QgdG8gZGV0ZXJtaW5lXG5cdFx0Ly8gd2hpY2ggdmFsdWUgdG8gcmV0dXJuLCByZXNwZWN0aXZlbHkgZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBUaGUgZW50aXJlIGNhY2hlIG9iamVjdFxuXHRcdC8vICAgMi4gVGhlIGRhdGEgc3RvcmVkIGF0IHRoZSBrZXlcblx0XHQvL1xuXHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgfHxcblx0XHRcdFx0KCAoIGtleSAmJiB0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiICkgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCApICkge1xuXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXQoIG93bmVyLCBrZXkgKTtcblx0XHR9XG5cblx0XHQvLyBXaGVuIHRoZSBrZXkgaXMgbm90IGEgc3RyaW5nLCBvciBib3RoIGEga2V5IGFuZCB2YWx1ZVxuXHRcdC8vIGFyZSBzcGVjaWZpZWQsIHNldCBvciBleHRlbmQgKGV4aXN0aW5nIG9iamVjdHMpIHdpdGggZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBBbiBvYmplY3Qgb2YgcHJvcGVydGllc1xuXHRcdC8vICAgMi4gQSBrZXkgYW5kIHZhbHVlXG5cdFx0Ly9cblx0XHR0aGlzLnNldCggb3duZXIsIGtleSwgdmFsdWUgKTtcblxuXHRcdC8vIFNpbmNlIHRoZSBcInNldFwiIHBhdGggY2FuIGhhdmUgdHdvIHBvc3NpYmxlIGVudHJ5IHBvaW50c1xuXHRcdC8vIHJldHVybiB0aGUgZXhwZWN0ZWQgZGF0YSBiYXNlZCBvbiB3aGljaCBwYXRoIHdhcyB0YWtlblsqXVxuXHRcdHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBrZXk7XG5cdH0sXG5cdHJlbW92ZTogZnVuY3Rpb24oIG93bmVyLCBrZXkgKSB7XG5cdFx0dmFyIGksXG5cdFx0XHRjYWNoZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblxuXHRcdGlmICggY2FjaGUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIGtleSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHQvLyBTdXBwb3J0IGFycmF5IG9yIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgb2Yga2V5c1xuXHRcdFx0aWYgKCBqUXVlcnkuaXNBcnJheSgga2V5ICkgKSB7XG5cblx0XHRcdFx0Ly8gSWYga2V5IGlzIGFuIGFycmF5IG9mIGtleXMuLi5cblx0XHRcdFx0Ly8gV2UgYWx3YXlzIHNldCBjYW1lbENhc2Uga2V5cywgc28gcmVtb3ZlIHRoYXQuXG5cdFx0XHRcdGtleSA9IGtleS5tYXAoIGpRdWVyeS5jYW1lbENhc2UgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGtleSA9IGpRdWVyeS5jYW1lbENhc2UoIGtleSApO1xuXG5cdFx0XHRcdC8vIElmIGEga2V5IHdpdGggdGhlIHNwYWNlcyBleGlzdHMsIHVzZSBpdC5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCBjcmVhdGUgYW4gYXJyYXkgYnkgbWF0Y2hpbmcgbm9uLXdoaXRlc3BhY2Vcblx0XHRcdFx0a2V5ID0ga2V5IGluIGNhY2hlID9cblx0XHRcdFx0XHRbIGtleSBdIDpcblx0XHRcdFx0XHQoIGtleS5tYXRjaCggcm5vdHdoaXRlICkgfHwgW10gKTtcblx0XHRcdH1cblxuXHRcdFx0aSA9IGtleS5sZW5ndGg7XG5cblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRkZWxldGUgY2FjaGVbIGtleVsgaSBdIF07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUmVtb3ZlIHRoZSBleHBhbmRvIGlmIHRoZXJlJ3Mgbm8gbW9yZSBkYXRhXG5cdFx0aWYgKCBrZXkgPT09IHVuZGVmaW5lZCB8fCBqUXVlcnkuaXNFbXB0eU9iamVjdCggY2FjaGUgKSApIHtcblxuXHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NVxuXHRcdFx0Ly8gV2Via2l0ICYgQmxpbmsgcGVyZm9ybWFuY2Ugc3VmZmVycyB3aGVuIGRlbGV0aW5nIHByb3BlcnRpZXNcblx0XHRcdC8vIGZyb20gRE9NIG5vZGVzLCBzbyBzZXQgdG8gdW5kZWZpbmVkIGluc3RlYWRcblx0XHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTM3ODYwNyAoYnVnIHJlc3RyaWN0ZWQpXG5cdFx0XHRpZiAoIG93bmVyLm5vZGVUeXBlICkge1xuXHRcdFx0XHRvd25lclsgdGhpcy5leHBhbmRvIF0gPSB1bmRlZmluZWQ7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkZWxldGUgb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0aGFzRGF0YTogZnVuY3Rpb24oIG93bmVyICkge1xuXHRcdHZhciBjYWNoZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblx0XHRyZXR1cm4gY2FjaGUgIT09IHVuZGVmaW5lZCAmJiAhalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGNhY2hlICk7XG5cdH1cbn07XG52YXIgZGF0YVByaXYgPSBuZXcgRGF0YSgpO1xuXG52YXIgZGF0YVVzZXIgPSBuZXcgRGF0YSgpO1xuXG5cblxuLy9cdEltcGxlbWVudGF0aW9uIFN1bW1hcnlcbi8vXG4vL1x0MS4gRW5mb3JjZSBBUEkgc3VyZmFjZSBhbmQgc2VtYW50aWMgY29tcGF0aWJpbGl0eSB3aXRoIDEuOS54IGJyYW5jaFxuLy9cdDIuIEltcHJvdmUgdGhlIG1vZHVsZSdzIG1haW50YWluYWJpbGl0eSBieSByZWR1Y2luZyB0aGUgc3RvcmFnZVxuLy9cdFx0cGF0aHMgdG8gYSBzaW5nbGUgbWVjaGFuaXNtLlxuLy9cdDMuIFVzZSB0aGUgc2FtZSBzaW5nbGUgbWVjaGFuaXNtIHRvIHN1cHBvcnQgXCJwcml2YXRlXCIgYW5kIFwidXNlclwiIGRhdGEuXG4vL1x0NC4gX05ldmVyXyBleHBvc2UgXCJwcml2YXRlXCIgZGF0YSB0byB1c2VyIGNvZGUgKFRPRE86IERyb3AgX2RhdGEsIF9yZW1vdmVEYXRhKVxuLy9cdDUuIEF2b2lkIGV4cG9zaW5nIGltcGxlbWVudGF0aW9uIGRldGFpbHMgb24gdXNlciBvYmplY3RzIChlZy4gZXhwYW5kbyBwcm9wZXJ0aWVzKVxuLy9cdDYuIFByb3ZpZGUgYSBjbGVhciBwYXRoIGZvciBpbXBsZW1lbnRhdGlvbiB1cGdyYWRlIHRvIFdlYWtNYXAgaW4gMjAxNFxuXG52YXIgcmJyYWNlID0gL14oPzpcXHtbXFx3XFxXXSpcXH18XFxbW1xcd1xcV10qXFxdKSQvLFxuXHRybXVsdGlEYXNoID0gL1tBLVpdL2c7XG5cbmZ1bmN0aW9uIGRhdGFBdHRyKCBlbGVtLCBrZXksIGRhdGEgKSB7XG5cdHZhciBuYW1lO1xuXG5cdC8vIElmIG5vdGhpbmcgd2FzIGZvdW5kIGludGVybmFsbHksIHRyeSB0byBmZXRjaCBhbnlcblx0Ly8gZGF0YSBmcm9tIHRoZSBIVE1MNSBkYXRhLSogYXR0cmlidXRlXG5cdGlmICggZGF0YSA9PT0gdW5kZWZpbmVkICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0bmFtZSA9IFwiZGF0YS1cIiArIGtleS5yZXBsYWNlKCBybXVsdGlEYXNoLCBcIi0kJlwiICkudG9Mb3dlckNhc2UoKTtcblx0XHRkYXRhID0gZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUgKTtcblxuXHRcdGlmICggdHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRkYXRhID0gZGF0YSA9PT0gXCJ0cnVlXCIgPyB0cnVlIDpcblx0XHRcdFx0XHRkYXRhID09PSBcImZhbHNlXCIgPyBmYWxzZSA6XG5cdFx0XHRcdFx0ZGF0YSA9PT0gXCJudWxsXCIgPyBudWxsIDpcblxuXHRcdFx0XHRcdC8vIE9ubHkgY29udmVydCB0byBhIG51bWJlciBpZiBpdCBkb2Vzbid0IGNoYW5nZSB0aGUgc3RyaW5nXG5cdFx0XHRcdFx0K2RhdGEgKyBcIlwiID09PSBkYXRhID8gK2RhdGEgOlxuXHRcdFx0XHRcdHJicmFjZS50ZXN0KCBkYXRhICkgPyBKU09OLnBhcnNlKCBkYXRhICkgOlxuXHRcdFx0XHRcdGRhdGE7XG5cdFx0XHR9IGNhdGNoICggZSApIHt9XG5cblx0XHRcdC8vIE1ha2Ugc3VyZSB3ZSBzZXQgdGhlIGRhdGEgc28gaXQgaXNuJ3QgY2hhbmdlZCBsYXRlclxuXHRcdFx0ZGF0YVVzZXIuc2V0KCBlbGVtLCBrZXksIGRhdGEgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGRhdGE7XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0aGFzRGF0YTogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRhdGFVc2VyLmhhc0RhdGEoIGVsZW0gKSB8fCBkYXRhUHJpdi5oYXNEYXRhKCBlbGVtICk7XG5cdH0sXG5cblx0ZGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGRhdGEgKSB7XG5cdFx0cmV0dXJuIGRhdGFVc2VyLmFjY2VzcyggZWxlbSwgbmFtZSwgZGF0YSApO1xuXHR9LFxuXG5cdHJlbW92ZURhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdGRhdGFVc2VyLnJlbW92ZSggZWxlbSwgbmFtZSApO1xuXHR9LFxuXG5cdC8vIFRPRE86IE5vdyB0aGF0IGFsbCBjYWxscyB0byBfZGF0YSBhbmQgX3JlbW92ZURhdGEgaGF2ZSBiZWVuIHJlcGxhY2VkXG5cdC8vIHdpdGggZGlyZWN0IGNhbGxzIHRvIGRhdGFQcml2IG1ldGhvZHMsIHRoZXNlIGNhbiBiZSBkZXByZWNhdGVkLlxuXHRfZGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGRhdGEgKSB7XG5cdFx0cmV0dXJuIGRhdGFQcml2LmFjY2VzcyggZWxlbSwgbmFtZSwgZGF0YSApO1xuXHR9LFxuXG5cdF9yZW1vdmVEYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcblx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIG5hbWUgKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGRhdGE6IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdHZhciBpLCBuYW1lLCBkYXRhLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXSxcblx0XHRcdGF0dHJzID0gZWxlbSAmJiBlbGVtLmF0dHJpYnV0ZXM7XG5cblx0XHQvLyBHZXRzIGFsbCB2YWx1ZXNcblx0XHRpZiAoIGtleSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0aWYgKCB0aGlzLmxlbmd0aCApIHtcblx0XHRcdFx0ZGF0YSA9IGRhdGFVc2VyLmdldCggZWxlbSApO1xuXG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAhZGF0YVByaXYuZ2V0KCBlbGVtLCBcImhhc0RhdGFBdHRyc1wiICkgKSB7XG5cdFx0XHRcdFx0aSA9IGF0dHJzLmxlbmd0aDtcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgMTEgb25seVxuXHRcdFx0XHRcdFx0Ly8gVGhlIGF0dHJzIGVsZW1lbnRzIGNhbiBiZSBudWxsICgjMTQ4OTQpXG5cdFx0XHRcdFx0XHRpZiAoIGF0dHJzWyBpIF0gKSB7XG5cdFx0XHRcdFx0XHRcdG5hbWUgPSBhdHRyc1sgaSBdLm5hbWU7XG5cdFx0XHRcdFx0XHRcdGlmICggbmFtZS5pbmRleE9mKCBcImRhdGEtXCIgKSA9PT0gMCApIHtcblx0XHRcdFx0XHRcdFx0XHRuYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZS5zbGljZSggNSApICk7XG5cdFx0XHRcdFx0XHRcdFx0ZGF0YUF0dHIoIGVsZW0sIG5hbWUsIGRhdGFbIG5hbWUgXSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGRhdGFQcml2LnNldCggZWxlbSwgXCJoYXNEYXRhQXR0cnNcIiwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBkYXRhO1xuXHRcdH1cblxuXHRcdC8vIFNldHMgbXVsdGlwbGUgdmFsdWVzXG5cdFx0aWYgKCB0eXBlb2Yga2V5ID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRhdGFVc2VyLnNldCggdGhpcywga2V5ICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGRhdGE7XG5cblx0XHRcdC8vIFRoZSBjYWxsaW5nIGpRdWVyeSBvYmplY3QgKGVsZW1lbnQgbWF0Y2hlcykgaXMgbm90IGVtcHR5XG5cdFx0XHQvLyAoYW5kIHRoZXJlZm9yZSBoYXMgYW4gZWxlbWVudCBhcHBlYXJzIGF0IHRoaXNbIDAgXSkgYW5kIHRoZVxuXHRcdFx0Ly8gYHZhbHVlYCBwYXJhbWV0ZXIgd2FzIG5vdCB1bmRlZmluZWQuIEFuIGVtcHR5IGpRdWVyeSBvYmplY3Rcblx0XHRcdC8vIHdpbGwgcmVzdWx0IGluIGB1bmRlZmluZWRgIGZvciBlbGVtID0gdGhpc1sgMCBdIHdoaWNoIHdpbGxcblx0XHRcdC8vIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhbiBhdHRlbXB0IHRvIHJlYWQgYSBkYXRhIGNhY2hlIGlzIG1hZGUuXG5cdFx0XHRpZiAoIGVsZW0gJiYgdmFsdWUgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHQvLyBBdHRlbXB0IHRvIGdldCBkYXRhIGZyb20gdGhlIGNhY2hlXG5cdFx0XHRcdC8vIFRoZSBrZXkgd2lsbCBhbHdheXMgYmUgY2FtZWxDYXNlZCBpbiBEYXRhXG5cdFx0XHRcdGRhdGEgPSBkYXRhVXNlci5nZXQoIGVsZW0sIGtleSApO1xuXHRcdFx0XHRpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEF0dGVtcHQgdG8gXCJkaXNjb3ZlclwiIHRoZSBkYXRhIGluXG5cdFx0XHRcdC8vIEhUTUw1IGN1c3RvbSBkYXRhLSogYXR0cnNcblx0XHRcdFx0ZGF0YSA9IGRhdGFBdHRyKCBlbGVtLCBrZXkgKTtcblx0XHRcdFx0aWYgKCBkYXRhICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBXZSB0cmllZCByZWFsbHkgaGFyZCwgYnV0IHRoZSBkYXRhIGRvZXNuJ3QgZXhpc3QuXG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2V0IHRoZSBkYXRhLi4uXG5cdFx0XHR0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIFdlIGFsd2F5cyBzdG9yZSB0aGUgY2FtZWxDYXNlZCBrZXlcblx0XHRcdFx0ZGF0YVVzZXIuc2V0KCB0aGlzLCBrZXksIHZhbHVlICk7XG5cdFx0XHR9ICk7XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxLCBudWxsLCB0cnVlICk7XG5cdH0sXG5cblx0cmVtb3ZlRGF0YTogZnVuY3Rpb24oIGtleSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGRhdGFVc2VyLnJlbW92ZSggdGhpcywga2V5ICk7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cblxualF1ZXJ5LmV4dGVuZCgge1xuXHRxdWV1ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGUsIGRhdGEgKSB7XG5cdFx0dmFyIHF1ZXVlO1xuXG5cdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0dHlwZSA9ICggdHlwZSB8fCBcImZ4XCIgKSArIFwicXVldWVcIjtcblx0XHRcdHF1ZXVlID0gZGF0YVByaXYuZ2V0KCBlbGVtLCB0eXBlICk7XG5cblx0XHRcdC8vIFNwZWVkIHVwIGRlcXVldWUgYnkgZ2V0dGluZyBvdXQgcXVpY2tseSBpZiB0aGlzIGlzIGp1c3QgYSBsb29rdXBcblx0XHRcdGlmICggZGF0YSApIHtcblx0XHRcdFx0aWYgKCAhcXVldWUgfHwgalF1ZXJ5LmlzQXJyYXkoIGRhdGEgKSApIHtcblx0XHRcdFx0XHRxdWV1ZSA9IGRhdGFQcml2LmFjY2VzcyggZWxlbSwgdHlwZSwgalF1ZXJ5Lm1ha2VBcnJheSggZGF0YSApICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cXVldWUucHVzaCggZGF0YSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcXVldWUgfHwgW107XG5cdFx0fVxuXHR9LFxuXG5cdGRlcXVldWU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlICkge1xuXHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblxuXHRcdHZhciBxdWV1ZSA9IGpRdWVyeS5xdWV1ZSggZWxlbSwgdHlwZSApLFxuXHRcdFx0c3RhcnRMZW5ndGggPSBxdWV1ZS5sZW5ndGgsXG5cdFx0XHRmbiA9IHF1ZXVlLnNoaWZ0KCksXG5cdFx0XHRob29rcyA9IGpRdWVyeS5fcXVldWVIb29rcyggZWxlbSwgdHlwZSApLFxuXHRcdFx0bmV4dCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggZWxlbSwgdHlwZSApO1xuXHRcdFx0fTtcblxuXHRcdC8vIElmIHRoZSBmeCBxdWV1ZSBpcyBkZXF1ZXVlZCwgYWx3YXlzIHJlbW92ZSB0aGUgcHJvZ3Jlc3Mgc2VudGluZWxcblx0XHRpZiAoIGZuID09PSBcImlucHJvZ3Jlc3NcIiApIHtcblx0XHRcdGZuID0gcXVldWUuc2hpZnQoKTtcblx0XHRcdHN0YXJ0TGVuZ3RoLS07XG5cdFx0fVxuXG5cdFx0aWYgKCBmbiApIHtcblxuXHRcdFx0Ly8gQWRkIGEgcHJvZ3Jlc3Mgc2VudGluZWwgdG8gcHJldmVudCB0aGUgZnggcXVldWUgZnJvbSBiZWluZ1xuXHRcdFx0Ly8gYXV0b21hdGljYWxseSBkZXF1ZXVlZFxuXHRcdFx0aWYgKCB0eXBlID09PSBcImZ4XCIgKSB7XG5cdFx0XHRcdHF1ZXVlLnVuc2hpZnQoIFwiaW5wcm9ncmVzc1wiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENsZWFyIHVwIHRoZSBsYXN0IHF1ZXVlIHN0b3AgZnVuY3Rpb25cblx0XHRcdGRlbGV0ZSBob29rcy5zdG9wO1xuXHRcdFx0Zm4uY2FsbCggZWxlbSwgbmV4dCwgaG9va3MgKTtcblx0XHR9XG5cblx0XHRpZiAoICFzdGFydExlbmd0aCAmJiBob29rcyApIHtcblx0XHRcdGhvb2tzLmVtcHR5LmZpcmUoKTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gTm90IHB1YmxpYyAtIGdlbmVyYXRlIGEgcXVldWVIb29rcyBvYmplY3QsIG9yIHJldHVybiB0aGUgY3VycmVudCBvbmVcblx0X3F1ZXVlSG9va3M6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlICkge1xuXHRcdHZhciBrZXkgPSB0eXBlICsgXCJxdWV1ZUhvb2tzXCI7XG5cdFx0cmV0dXJuIGRhdGFQcml2LmdldCggZWxlbSwga2V5ICkgfHwgZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBrZXksIHtcblx0XHRcdGVtcHR5OiBqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKS5hZGQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIFsgdHlwZSArIFwicXVldWVcIiwga2V5IF0gKTtcblx0XHRcdH0gKVxuXHRcdH0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHF1ZXVlOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcblx0XHR2YXIgc2V0dGVyID0gMjtcblxuXHRcdGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRkYXRhID0gdHlwZTtcblx0XHRcdHR5cGUgPSBcImZ4XCI7XG5cdFx0XHRzZXR0ZXItLTtcblx0XHR9XG5cblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPCBzZXR0ZXIgKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LnF1ZXVlKCB0aGlzWyAwIF0sIHR5cGUgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGF0YSA9PT0gdW5kZWZpbmVkID9cblx0XHRcdHRoaXMgOlxuXHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIHF1ZXVlID0galF1ZXJ5LnF1ZXVlKCB0aGlzLCB0eXBlLCBkYXRhICk7XG5cblx0XHRcdFx0Ly8gRW5zdXJlIGEgaG9va3MgZm9yIHRoaXMgcXVldWVcblx0XHRcdFx0alF1ZXJ5Ll9xdWV1ZUhvb2tzKCB0aGlzLCB0eXBlICk7XG5cblx0XHRcdFx0aWYgKCB0eXBlID09PSBcImZ4XCIgJiYgcXVldWVbIDAgXSAhPT0gXCJpbnByb2dyZXNzXCIgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHR9LFxuXHRkZXF1ZXVlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG5cdFx0fSApO1xuXHR9LFxuXHRjbGVhclF1ZXVlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRyZXR1cm4gdGhpcy5xdWV1ZSggdHlwZSB8fCBcImZ4XCIsIFtdICk7XG5cdH0sXG5cblx0Ly8gR2V0IGEgcHJvbWlzZSByZXNvbHZlZCB3aGVuIHF1ZXVlcyBvZiBhIGNlcnRhaW4gdHlwZVxuXHQvLyBhcmUgZW1wdGllZCAoZnggaXMgdGhlIHR5cGUgYnkgZGVmYXVsdClcblx0cHJvbWlzZTogZnVuY3Rpb24oIHR5cGUsIG9iaiApIHtcblx0XHR2YXIgdG1wLFxuXHRcdFx0Y291bnQgPSAxLFxuXHRcdFx0ZGVmZXIgPSBqUXVlcnkuRGVmZXJyZWQoKSxcblx0XHRcdGVsZW1lbnRzID0gdGhpcyxcblx0XHRcdGkgPSB0aGlzLmxlbmd0aCxcblx0XHRcdHJlc29sdmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCAhKCAtLWNvdW50ICkgKSB7XG5cdFx0XHRcdFx0ZGVmZXIucmVzb2x2ZVdpdGgoIGVsZW1lbnRzLCBbIGVsZW1lbnRzIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRvYmogPSB0eXBlO1xuXHRcdFx0dHlwZSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHR0bXAgPSBkYXRhUHJpdi5nZXQoIGVsZW1lbnRzWyBpIF0sIHR5cGUgKyBcInF1ZXVlSG9va3NcIiApO1xuXHRcdFx0aWYgKCB0bXAgJiYgdG1wLmVtcHR5ICkge1xuXHRcdFx0XHRjb3VudCsrO1xuXHRcdFx0XHR0bXAuZW1wdHkuYWRkKCByZXNvbHZlICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJlc29sdmUoKTtcblx0XHRyZXR1cm4gZGVmZXIucHJvbWlzZSggb2JqICk7XG5cdH1cbn0gKTtcbnZhciBwbnVtID0gKCAvWystXT8oPzpcXGQqXFwufClcXGQrKD86W2VFXVsrLV0/XFxkK3wpLyApLnNvdXJjZTtcblxudmFyIHJjc3NOdW0gPSBuZXcgUmVnRXhwKCBcIl4oPzooWystXSk9fCkoXCIgKyBwbnVtICsgXCIpKFthLXolXSopJFwiLCBcImlcIiApO1xuXG5cbnZhciBjc3NFeHBhbmQgPSBbIFwiVG9wXCIsIFwiUmlnaHRcIiwgXCJCb3R0b21cIiwgXCJMZWZ0XCIgXTtcblxudmFyIGlzSGlkZGVuV2l0aGluVHJlZSA9IGZ1bmN0aW9uKCBlbGVtLCBlbCApIHtcblxuXHRcdC8vIGlzSGlkZGVuV2l0aGluVHJlZSBtaWdodCBiZSBjYWxsZWQgZnJvbSBqUXVlcnkjZmlsdGVyIGZ1bmN0aW9uO1xuXHRcdC8vIGluIHRoYXQgY2FzZSwgZWxlbWVudCB3aWxsIGJlIHNlY29uZCBhcmd1bWVudFxuXHRcdGVsZW0gPSBlbCB8fCBlbGVtO1xuXG5cdFx0Ly8gSW5saW5lIHN0eWxlIHRydW1wcyBhbGxcblx0XHRyZXR1cm4gZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIiB8fFxuXHRcdFx0ZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcIlwiICYmXG5cblx0XHRcdC8vIE90aGVyd2lzZSwgY2hlY2sgY29tcHV0ZWQgc3R5bGVcblx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00MyAtIDQ1XG5cdFx0XHQvLyBEaXNjb25uZWN0ZWQgZWxlbWVudHMgY2FuIGhhdmUgY29tcHV0ZWQgZGlzcGxheTogbm9uZSwgc28gZmlyc3QgY29uZmlybSB0aGF0IGVsZW0gaXNcblx0XHRcdC8vIGluIHRoZSBkb2N1bWVudC5cblx0XHRcdGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICkgJiZcblxuXHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSA9PT0gXCJub25lXCI7XG5cdH07XG5cbnZhciBzd2FwID0gZnVuY3Rpb24oIGVsZW0sIG9wdGlvbnMsIGNhbGxiYWNrLCBhcmdzICkge1xuXHR2YXIgcmV0LCBuYW1lLFxuXHRcdG9sZCA9IHt9O1xuXG5cdC8vIFJlbWVtYmVyIHRoZSBvbGQgdmFsdWVzLCBhbmQgaW5zZXJ0IHRoZSBuZXcgb25lc1xuXHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0b2xkWyBuYW1lIF0gPSBlbGVtLnN0eWxlWyBuYW1lIF07XG5cdFx0ZWxlbS5zdHlsZVsgbmFtZSBdID0gb3B0aW9uc1sgbmFtZSBdO1xuXHR9XG5cblx0cmV0ID0gY2FsbGJhY2suYXBwbHkoIGVsZW0sIGFyZ3MgfHwgW10gKTtcblxuXHQvLyBSZXZlcnQgdGhlIG9sZCB2YWx1ZXNcblx0Zm9yICggbmFtZSBpbiBvcHRpb25zICkge1xuXHRcdGVsZW0uc3R5bGVbIG5hbWUgXSA9IG9sZFsgbmFtZSBdO1xuXHR9XG5cblx0cmV0dXJuIHJldDtcbn07XG5cblxuXG5cbmZ1bmN0aW9uIGFkanVzdENTUyggZWxlbSwgcHJvcCwgdmFsdWVQYXJ0cywgdHdlZW4gKSB7XG5cdHZhciBhZGp1c3RlZCxcblx0XHRzY2FsZSA9IDEsXG5cdFx0bWF4SXRlcmF0aW9ucyA9IDIwLFxuXHRcdGN1cnJlbnRWYWx1ZSA9IHR3ZWVuID9cblx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gdHdlZW4uY3VyKCk7XG5cdFx0XHR9IDpcblx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4galF1ZXJ5LmNzcyggZWxlbSwgcHJvcCwgXCJcIiApO1xuXHRcdFx0fSxcblx0XHRpbml0aWFsID0gY3VycmVudFZhbHVlKCksXG5cdFx0dW5pdCA9IHZhbHVlUGFydHMgJiYgdmFsdWVQYXJ0c1sgMyBdIHx8ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdID8gXCJcIiA6IFwicHhcIiApLFxuXG5cdFx0Ly8gU3RhcnRpbmcgdmFsdWUgY29tcHV0YXRpb24gaXMgcmVxdWlyZWQgZm9yIHBvdGVudGlhbCB1bml0IG1pc21hdGNoZXNcblx0XHRpbml0aWFsSW5Vbml0ID0gKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gfHwgdW5pdCAhPT0gXCJweFwiICYmICtpbml0aWFsICkgJiZcblx0XHRcdHJjc3NOdW0uZXhlYyggalF1ZXJ5LmNzcyggZWxlbSwgcHJvcCApICk7XG5cblx0aWYgKCBpbml0aWFsSW5Vbml0ICYmIGluaXRpYWxJblVuaXRbIDMgXSAhPT0gdW5pdCApIHtcblxuXHRcdC8vIFRydXN0IHVuaXRzIHJlcG9ydGVkIGJ5IGpRdWVyeS5jc3Ncblx0XHR1bml0ID0gdW5pdCB8fCBpbml0aWFsSW5Vbml0WyAzIF07XG5cblx0XHQvLyBNYWtlIHN1cmUgd2UgdXBkYXRlIHRoZSB0d2VlbiBwcm9wZXJ0aWVzIGxhdGVyIG9uXG5cdFx0dmFsdWVQYXJ0cyA9IHZhbHVlUGFydHMgfHwgW107XG5cblx0XHQvLyBJdGVyYXRpdmVseSBhcHByb3hpbWF0ZSBmcm9tIGEgbm9uemVybyBzdGFydGluZyBwb2ludFxuXHRcdGluaXRpYWxJblVuaXQgPSAraW5pdGlhbCB8fCAxO1xuXG5cdFx0ZG8ge1xuXG5cdFx0XHQvLyBJZiBwcmV2aW91cyBpdGVyYXRpb24gemVyb2VkIG91dCwgZG91YmxlIHVudGlsIHdlIGdldCAqc29tZXRoaW5nKi5cblx0XHRcdC8vIFVzZSBzdHJpbmcgZm9yIGRvdWJsaW5nIHNvIHdlIGRvbid0IGFjY2lkZW50YWxseSBzZWUgc2NhbGUgYXMgdW5jaGFuZ2VkIGJlbG93XG5cdFx0XHRzY2FsZSA9IHNjYWxlIHx8IFwiLjVcIjtcblxuXHRcdFx0Ly8gQWRqdXN0IGFuZCBhcHBseVxuXHRcdFx0aW5pdGlhbEluVW5pdCA9IGluaXRpYWxJblVuaXQgLyBzY2FsZTtcblx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCwgaW5pdGlhbEluVW5pdCArIHVuaXQgKTtcblxuXHRcdC8vIFVwZGF0ZSBzY2FsZSwgdG9sZXJhdGluZyB6ZXJvIG9yIE5hTiBmcm9tIHR3ZWVuLmN1cigpXG5cdFx0Ly8gQnJlYWsgdGhlIGxvb3AgaWYgc2NhbGUgaXMgdW5jaGFuZ2VkIG9yIHBlcmZlY3QsIG9yIGlmIHdlJ3ZlIGp1c3QgaGFkIGVub3VnaC5cblx0XHR9IHdoaWxlIChcblx0XHRcdHNjYWxlICE9PSAoIHNjYWxlID0gY3VycmVudFZhbHVlKCkgLyBpbml0aWFsICkgJiYgc2NhbGUgIT09IDEgJiYgLS1tYXhJdGVyYXRpb25zXG5cdFx0KTtcblx0fVxuXG5cdGlmICggdmFsdWVQYXJ0cyApIHtcblx0XHRpbml0aWFsSW5Vbml0ID0gK2luaXRpYWxJblVuaXQgfHwgK2luaXRpYWwgfHwgMDtcblxuXHRcdC8vIEFwcGx5IHJlbGF0aXZlIG9mZnNldCAoKz0vLT0pIGlmIHNwZWNpZmllZFxuXHRcdGFkanVzdGVkID0gdmFsdWVQYXJ0c1sgMSBdID9cblx0XHRcdGluaXRpYWxJblVuaXQgKyAoIHZhbHVlUGFydHNbIDEgXSArIDEgKSAqIHZhbHVlUGFydHNbIDIgXSA6XG5cdFx0XHQrdmFsdWVQYXJ0c1sgMiBdO1xuXHRcdGlmICggdHdlZW4gKSB7XG5cdFx0XHR0d2Vlbi51bml0ID0gdW5pdDtcblx0XHRcdHR3ZWVuLnN0YXJ0ID0gaW5pdGlhbEluVW5pdDtcblx0XHRcdHR3ZWVuLmVuZCA9IGFkanVzdGVkO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gYWRqdXN0ZWQ7XG59XG5cblxudmFyIGRlZmF1bHREaXNwbGF5TWFwID0ge307XG5cbmZ1bmN0aW9uIGdldERlZmF1bHREaXNwbGF5KCBlbGVtICkge1xuXHR2YXIgdGVtcCxcblx0XHRkb2MgPSBlbGVtLm93bmVyRG9jdW1lbnQsXG5cdFx0bm9kZU5hbWUgPSBlbGVtLm5vZGVOYW1lLFxuXHRcdGRpc3BsYXkgPSBkZWZhdWx0RGlzcGxheU1hcFsgbm9kZU5hbWUgXTtcblxuXHRpZiAoIGRpc3BsYXkgKSB7XG5cdFx0cmV0dXJuIGRpc3BsYXk7XG5cdH1cblxuXHR0ZW1wID0gZG9jLmJvZHkuYXBwZW5kQ2hpbGQoIGRvYy5jcmVhdGVFbGVtZW50KCBub2RlTmFtZSApICksXG5cdGRpc3BsYXkgPSBqUXVlcnkuY3NzKCB0ZW1wLCBcImRpc3BsYXlcIiApO1xuXG5cdHRlbXAucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggdGVtcCApO1xuXG5cdGlmICggZGlzcGxheSA9PT0gXCJub25lXCIgKSB7XG5cdFx0ZGlzcGxheSA9IFwiYmxvY2tcIjtcblx0fVxuXHRkZWZhdWx0RGlzcGxheU1hcFsgbm9kZU5hbWUgXSA9IGRpc3BsYXk7XG5cblx0cmV0dXJuIGRpc3BsYXk7XG59XG5cbmZ1bmN0aW9uIHNob3dIaWRlKCBlbGVtZW50cywgc2hvdyApIHtcblx0dmFyIGRpc3BsYXksIGVsZW0sXG5cdFx0dmFsdWVzID0gW10sXG5cdFx0aW5kZXggPSAwLFxuXHRcdGxlbmd0aCA9IGVsZW1lbnRzLmxlbmd0aDtcblxuXHQvLyBEZXRlcm1pbmUgbmV3IGRpc3BsYXkgdmFsdWUgZm9yIGVsZW1lbnRzIHRoYXQgbmVlZCB0byBjaGFuZ2Vcblx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRlbGVtID0gZWxlbWVudHNbIGluZGV4IF07XG5cdFx0aWYgKCAhZWxlbS5zdHlsZSApIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGRpc3BsYXkgPSBlbGVtLnN0eWxlLmRpc3BsYXk7XG5cdFx0aWYgKCBzaG93ICkge1xuXG5cdFx0XHQvLyBTaW5jZSB3ZSBmb3JjZSB2aXNpYmlsaXR5IHVwb24gY2FzY2FkZS1oaWRkZW4gZWxlbWVudHMsIGFuIGltbWVkaWF0ZSAoYW5kIHNsb3cpXG5cdFx0XHQvLyBjaGVjayBpcyByZXF1aXJlZCBpbiB0aGlzIGZpcnN0IGxvb3AgdW5sZXNzIHdlIGhhdmUgYSBub25lbXB0eSBkaXNwbGF5IHZhbHVlIChlaXRoZXJcblx0XHRcdC8vIGlubGluZSBvciBhYm91dC10by1iZS1yZXN0b3JlZClcblx0XHRcdGlmICggZGlzcGxheSA9PT0gXCJub25lXCIgKSB7XG5cdFx0XHRcdHZhbHVlc1sgaW5kZXggXSA9IGRhdGFQcml2LmdldCggZWxlbSwgXCJkaXNwbGF5XCIgKSB8fCBudWxsO1xuXHRcdFx0XHRpZiAoICF2YWx1ZXNbIGluZGV4IF0gKSB7XG5cdFx0XHRcdFx0ZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKCBlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwiXCIgJiYgaXNIaWRkZW5XaXRoaW5UcmVlKCBlbGVtICkgKSB7XG5cdFx0XHRcdHZhbHVlc1sgaW5kZXggXSA9IGdldERlZmF1bHREaXNwbGF5KCBlbGVtICk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICggZGlzcGxheSAhPT0gXCJub25lXCIgKSB7XG5cdFx0XHRcdHZhbHVlc1sgaW5kZXggXSA9IFwibm9uZVwiO1xuXG5cdFx0XHRcdC8vIFJlbWVtYmVyIHdoYXQgd2UncmUgb3ZlcndyaXRpbmdcblx0XHRcdFx0ZGF0YVByaXYuc2V0KCBlbGVtLCBcImRpc3BsYXlcIiwgZGlzcGxheSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFNldCB0aGUgZGlzcGxheSBvZiB0aGUgZWxlbWVudHMgaW4gYSBzZWNvbmQgbG9vcCB0byBhdm9pZCBjb25zdGFudCByZWZsb3dcblx0Zm9yICggaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRpZiAoIHZhbHVlc1sgaW5kZXggXSAhPSBudWxsICkge1xuXHRcdFx0ZWxlbWVudHNbIGluZGV4IF0uc3R5bGUuZGlzcGxheSA9IHZhbHVlc1sgaW5kZXggXTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZWxlbWVudHM7XG59XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0c2hvdzogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNob3dIaWRlKCB0aGlzLCB0cnVlICk7XG5cdH0sXG5cdGhpZGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBzaG93SGlkZSggdGhpcyApO1xuXHR9LFxuXHR0b2dnbGU6IGZ1bmN0aW9uKCBzdGF0ZSApIHtcblx0XHRpZiAoIHR5cGVvZiBzdGF0ZSA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0XHRyZXR1cm4gc3RhdGUgPyB0aGlzLnNob3coKSA6IHRoaXMuaGlkZSgpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBpc0hpZGRlbldpdGhpblRyZWUoIHRoaXMgKSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuc2hvdygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fVxufSApO1xudmFyIHJjaGVja2FibGVUeXBlID0gKCAvXig/OmNoZWNrYm94fHJhZGlvKSQvaSApO1xuXG52YXIgcnRhZ05hbWUgPSAoIC88KFthLXpdW15cXC9cXDA+XFx4MjBcXHRcXHJcXG5cXGZdKykvaSApO1xuXG52YXIgcnNjcmlwdFR5cGUgPSAoIC9eJHxcXC8oPzpqYXZhfGVjbWEpc2NyaXB0L2kgKTtcblxuXG5cbi8vIFdlIGhhdmUgdG8gY2xvc2UgdGhlc2UgdGFncyB0byBzdXBwb3J0IFhIVE1MICgjMTMyMDApXG52YXIgd3JhcE1hcCA9IHtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRvcHRpb246IFsgMSwgXCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+XCIsIFwiPC9zZWxlY3Q+XCIgXSxcblxuXHQvLyBYSFRNTCBwYXJzZXJzIGRvIG5vdCBtYWdpY2FsbHkgaW5zZXJ0IGVsZW1lbnRzIGluIHRoZVxuXHQvLyBzYW1lIHdheSB0aGF0IHRhZyBzb3VwIHBhcnNlcnMgZG8uIFNvIHdlIGNhbm5vdCBzaG9ydGVuXG5cdC8vIHRoaXMgYnkgb21pdHRpbmcgPHRib2R5PiBvciBvdGhlciByZXF1aXJlZCBlbGVtZW50cy5cblx0dGhlYWQ6IFsgMSwgXCI8dGFibGU+XCIsIFwiPC90YWJsZT5cIiBdLFxuXHRjb2w6IFsgMiwgXCI8dGFibGU+PGNvbGdyb3VwPlwiLCBcIjwvY29sZ3JvdXA+PC90YWJsZT5cIiBdLFxuXHR0cjogWyAyLCBcIjx0YWJsZT48dGJvZHk+XCIsIFwiPC90Ym9keT48L3RhYmxlPlwiIF0sXG5cdHRkOiBbIDMsIFwiPHRhYmxlPjx0Ym9keT48dHI+XCIsIFwiPC90cj48L3Rib2R5PjwvdGFibGU+XCIgXSxcblxuXHRfZGVmYXVsdDogWyAwLCBcIlwiLCBcIlwiIF1cbn07XG5cbi8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG53cmFwTWFwLm9wdGdyb3VwID0gd3JhcE1hcC5vcHRpb247XG5cbndyYXBNYXAudGJvZHkgPSB3cmFwTWFwLnRmb290ID0gd3JhcE1hcC5jb2xncm91cCA9IHdyYXBNYXAuY2FwdGlvbiA9IHdyYXBNYXAudGhlYWQ7XG53cmFwTWFwLnRoID0gd3JhcE1hcC50ZDtcblxuXG5mdW5jdGlvbiBnZXRBbGwoIGNvbnRleHQsIHRhZyApIHtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG5cdC8vIFVzZSB0eXBlb2YgdG8gYXZvaWQgemVyby1hcmd1bWVudCBtZXRob2QgaW52b2NhdGlvbiBvbiBob3N0IG9iamVjdHMgKCMxNTE1MSlcblx0dmFyIHJldCA9IHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiID9cblx0XHRcdGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyB8fCBcIipcIiApIDpcblx0XHRcdHR5cGVvZiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwgIT09IFwidW5kZWZpbmVkXCIgP1xuXHRcdFx0XHRjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIHRhZyB8fCBcIipcIiApIDpcblx0XHRcdFtdO1xuXG5cdHJldHVybiB0YWcgPT09IHVuZGVmaW5lZCB8fCB0YWcgJiYgalF1ZXJ5Lm5vZGVOYW1lKCBjb250ZXh0LCB0YWcgKSA/XG5cdFx0alF1ZXJ5Lm1lcmdlKCBbIGNvbnRleHQgXSwgcmV0ICkgOlxuXHRcdHJldDtcbn1cblxuXG4vLyBNYXJrIHNjcmlwdHMgYXMgaGF2aW5nIGFscmVhZHkgYmVlbiBldmFsdWF0ZWRcbmZ1bmN0aW9uIHNldEdsb2JhbEV2YWwoIGVsZW1zLCByZWZFbGVtZW50cyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGwgPSBlbGVtcy5sZW5ndGg7XG5cblx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdGRhdGFQcml2LnNldChcblx0XHRcdGVsZW1zWyBpIF0sXG5cdFx0XHRcImdsb2JhbEV2YWxcIixcblx0XHRcdCFyZWZFbGVtZW50cyB8fCBkYXRhUHJpdi5nZXQoIHJlZkVsZW1lbnRzWyBpIF0sIFwiZ2xvYmFsRXZhbFwiIClcblx0XHQpO1xuXHR9XG59XG5cblxudmFyIHJodG1sID0gLzx8JiM/XFx3KzsvO1xuXG5mdW5jdGlvbiBidWlsZEZyYWdtZW50KCBlbGVtcywgY29udGV4dCwgc2NyaXB0cywgc2VsZWN0aW9uLCBpZ25vcmVkICkge1xuXHR2YXIgZWxlbSwgdG1wLCB0YWcsIHdyYXAsIGNvbnRhaW5zLCBqLFxuXHRcdGZyYWdtZW50ID0gY29udGV4dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG5cdFx0bm9kZXMgPSBbXSxcblx0XHRpID0gMCxcblx0XHRsID0gZWxlbXMubGVuZ3RoO1xuXG5cdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRlbGVtID0gZWxlbXNbIGkgXTtcblxuXHRcdGlmICggZWxlbSB8fCBlbGVtID09PSAwICkge1xuXG5cdFx0XHQvLyBBZGQgbm9kZXMgZGlyZWN0bHlcblx0XHRcdGlmICggalF1ZXJ5LnR5cGUoIGVsZW0gKSA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcblx0XHRcdFx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIG5vZGVzLCBlbGVtLm5vZGVUeXBlID8gWyBlbGVtIF0gOiBlbGVtICk7XG5cblx0XHRcdC8vIENvbnZlcnQgbm9uLWh0bWwgaW50byBhIHRleHQgbm9kZVxuXHRcdFx0fSBlbHNlIGlmICggIXJodG1sLnRlc3QoIGVsZW0gKSApIHtcblx0XHRcdFx0bm9kZXMucHVzaCggY29udGV4dC5jcmVhdGVUZXh0Tm9kZSggZWxlbSApICk7XG5cblx0XHRcdC8vIENvbnZlcnQgaHRtbCBpbnRvIERPTSBub2Rlc1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dG1wID0gdG1wIHx8IGZyYWdtZW50LmFwcGVuZENoaWxkKCBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSApO1xuXG5cdFx0XHRcdC8vIERlc2VyaWFsaXplIGEgc3RhbmRhcmQgcmVwcmVzZW50YXRpb25cblx0XHRcdFx0dGFnID0gKCBydGFnTmFtZS5leGVjKCBlbGVtICkgfHwgWyBcIlwiLCBcIlwiIF0gKVsgMSBdLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdHdyYXAgPSB3cmFwTWFwWyB0YWcgXSB8fCB3cmFwTWFwLl9kZWZhdWx0O1xuXHRcdFx0XHR0bXAuaW5uZXJIVE1MID0gd3JhcFsgMSBdICsgalF1ZXJ5Lmh0bWxQcmVmaWx0ZXIoIGVsZW0gKSArIHdyYXBbIDIgXTtcblxuXHRcdFx0XHQvLyBEZXNjZW5kIHRocm91Z2ggd3JhcHBlcnMgdG8gdGhlIHJpZ2h0IGNvbnRlbnRcblx0XHRcdFx0aiA9IHdyYXBbIDAgXTtcblx0XHRcdFx0d2hpbGUgKCBqLS0gKSB7XG5cdFx0XHRcdFx0dG1wID0gdG1wLmxhc3RDaGlsZDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdFx0XHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdGpRdWVyeS5tZXJnZSggbm9kZXMsIHRtcC5jaGlsZE5vZGVzICk7XG5cblx0XHRcdFx0Ly8gUmVtZW1iZXIgdGhlIHRvcC1sZXZlbCBjb250YWluZXJcblx0XHRcdFx0dG1wID0gZnJhZ21lbnQuZmlyc3RDaGlsZDtcblxuXHRcdFx0XHQvLyBFbnN1cmUgdGhlIGNyZWF0ZWQgbm9kZXMgYXJlIG9ycGhhbmVkICgjMTIzOTIpXG5cdFx0XHRcdHRtcC50ZXh0Q29udGVudCA9IFwiXCI7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmVtb3ZlIHdyYXBwZXIgZnJvbSBmcmFnbWVudFxuXHRmcmFnbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG5cblx0aSA9IDA7XG5cdHdoaWxlICggKCBlbGVtID0gbm9kZXNbIGkrKyBdICkgKSB7XG5cblx0XHQvLyBTa2lwIGVsZW1lbnRzIGFscmVhZHkgaW4gdGhlIGNvbnRleHQgY29sbGVjdGlvbiAodHJhYy00MDg3KVxuXHRcdGlmICggc2VsZWN0aW9uICYmIGpRdWVyeS5pbkFycmF5KCBlbGVtLCBzZWxlY3Rpb24gKSA+IC0xICkge1xuXHRcdFx0aWYgKCBpZ25vcmVkICkge1xuXHRcdFx0XHRpZ25vcmVkLnB1c2goIGVsZW0gKTtcblx0XHRcdH1cblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGNvbnRhaW5zID0galF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKTtcblxuXHRcdC8vIEFwcGVuZCB0byBmcmFnbWVudFxuXHRcdHRtcCA9IGdldEFsbCggZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGVsZW0gKSwgXCJzY3JpcHRcIiApO1xuXG5cdFx0Ly8gUHJlc2VydmUgc2NyaXB0IGV2YWx1YXRpb24gaGlzdG9yeVxuXHRcdGlmICggY29udGFpbnMgKSB7XG5cdFx0XHRzZXRHbG9iYWxFdmFsKCB0bXAgKTtcblx0XHR9XG5cblx0XHQvLyBDYXB0dXJlIGV4ZWN1dGFibGVzXG5cdFx0aWYgKCBzY3JpcHRzICkge1xuXHRcdFx0aiA9IDA7XG5cdFx0XHR3aGlsZSAoICggZWxlbSA9IHRtcFsgaisrIF0gKSApIHtcblx0XHRcdFx0aWYgKCByc2NyaXB0VHlwZS50ZXN0KCBlbGVtLnR5cGUgfHwgXCJcIiApICkge1xuXHRcdFx0XHRcdHNjcmlwdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGZyYWdtZW50O1xufVxuXG5cbiggZnVuY3Rpb24oKSB7XG5cdHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcblx0XHRkaXYgPSBmcmFnbWVudC5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApICksXG5cdFx0aW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKTtcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAtIDQuMyBvbmx5XG5cdC8vIENoZWNrIHN0YXRlIGxvc3QgaWYgdGhlIG5hbWUgaXMgc2V0ICgjMTEyMTcpXG5cdC8vIFN1cHBvcnQ6IFdpbmRvd3MgV2ViIEFwcHMgKFdXQSlcblx0Ly8gYG5hbWVgIGFuZCBgdHlwZWAgbXVzdCB1c2UgLnNldEF0dHJpYnV0ZSBmb3IgV1dBICgjMTQ5MDEpXG5cdGlucHV0LnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIFwicmFkaW9cIiApO1xuXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwiY2hlY2tlZFwiLCBcImNoZWNrZWRcIiApO1xuXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwibmFtZVwiLCBcInRcIiApO1xuXG5cdGRpdi5hcHBlbmRDaGlsZCggaW5wdXQgKTtcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4xIG9ubHlcblx0Ly8gT2xkZXIgV2ViS2l0IGRvZXNuJ3QgY2xvbmUgY2hlY2tlZCBzdGF0ZSBjb3JyZWN0bHkgaW4gZnJhZ21lbnRzXG5cdHN1cHBvcnQuY2hlY2tDbG9uZSA9IGRpdi5jbG9uZU5vZGUoIHRydWUgKS5jbG9uZU5vZGUoIHRydWUgKS5sYXN0Q2hpbGQuY2hlY2tlZDtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0Ly8gTWFrZSBzdXJlIHRleHRhcmVhIChhbmQgY2hlY2tib3gpIGRlZmF1bHRWYWx1ZSBpcyBwcm9wZXJseSBjbG9uZWRcblx0ZGl2LmlubmVySFRNTCA9IFwiPHRleHRhcmVhPng8L3RleHRhcmVhPlwiO1xuXHRzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkID0gISFkaXYuY2xvbmVOb2RlKCB0cnVlICkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZTtcbn0gKSgpO1xudmFyIGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuXG5cbnZhclxuXHRya2V5RXZlbnQgPSAvXmtleS8sXG5cdHJtb3VzZUV2ZW50ID0gL14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51fGRyYWd8ZHJvcCl8Y2xpY2svLFxuXHRydHlwZW5hbWVzcGFjZSA9IC9eKFteLl0qKSg/OlxcLiguKyl8KS87XG5cbmZ1bmN0aW9uIHJldHVyblRydWUoKSB7XG5cdHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiByZXR1cm5GYWxzZSgpIHtcblx0cmV0dXJuIGZhbHNlO1xufVxuXG4vLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuLy8gU2VlICMxMzM5MyBmb3IgbW9yZSBpbmZvXG5mdW5jdGlvbiBzYWZlQWN0aXZlRWxlbWVudCgpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblx0fSBjYXRjaCAoIGVyciApIHsgfVxufVxuXG5mdW5jdGlvbiBvbiggZWxlbSwgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiwgb25lICkge1xuXHR2YXIgb3JpZ0ZuLCB0eXBlO1xuXG5cdC8vIFR5cGVzIGNhbiBiZSBhIG1hcCBvZiB0eXBlcy9oYW5kbGVyc1xuXHRpZiAoIHR5cGVvZiB0eXBlcyA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdC8vICggdHlwZXMtT2JqZWN0LCBzZWxlY3RvciwgZGF0YSApXG5cdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHRcdC8vICggdHlwZXMtT2JqZWN0LCBkYXRhIClcblx0XHRcdGRhdGEgPSBkYXRhIHx8IHNlbGVjdG9yO1xuXHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGZvciAoIHR5cGUgaW4gdHlwZXMgKSB7XG5cdFx0XHRvbiggZWxlbSwgdHlwZSwgc2VsZWN0b3IsIGRhdGEsIHR5cGVzWyB0eXBlIF0sIG9uZSApO1xuXHRcdH1cblx0XHRyZXR1cm4gZWxlbTtcblx0fVxuXG5cdGlmICggZGF0YSA9PSBudWxsICYmIGZuID09IG51bGwgKSB7XG5cblx0XHQvLyAoIHR5cGVzLCBmbiApXG5cdFx0Zm4gPSBzZWxlY3Rvcjtcblx0XHRkYXRhID0gc2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdH0gZWxzZSBpZiAoIGZuID09IG51bGwgKSB7XG5cdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHRcdC8vICggdHlwZXMsIHNlbGVjdG9yLCBmbiApXG5cdFx0XHRmbiA9IGRhdGE7XG5cdFx0XHRkYXRhID0gdW5kZWZpbmVkO1xuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vICggdHlwZXMsIGRhdGEsIGZuIClcblx0XHRcdGZuID0gZGF0YTtcblx0XHRcdGRhdGEgPSBzZWxlY3Rvcjtcblx0XHRcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0fVxuXHRpZiAoIGZuID09PSBmYWxzZSApIHtcblx0XHRmbiA9IHJldHVybkZhbHNlO1xuXHR9IGVsc2UgaWYgKCAhZm4gKSB7XG5cdFx0cmV0dXJuIGVsZW07XG5cdH1cblxuXHRpZiAoIG9uZSA9PT0gMSApIHtcblx0XHRvcmlnRm4gPSBmbjtcblx0XHRmbiA9IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdFx0Ly8gQ2FuIHVzZSBhbiBlbXB0eSBzZXQsIHNpbmNlIGV2ZW50IGNvbnRhaW5zIHRoZSBpbmZvXG5cdFx0XHRqUXVlcnkoKS5vZmYoIGV2ZW50ICk7XG5cdFx0XHRyZXR1cm4gb3JpZ0ZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9O1xuXG5cdFx0Ly8gVXNlIHNhbWUgZ3VpZCBzbyBjYWxsZXIgY2FuIHJlbW92ZSB1c2luZyBvcmlnRm5cblx0XHRmbi5ndWlkID0gb3JpZ0ZuLmd1aWQgfHwgKCBvcmlnRm4uZ3VpZCA9IGpRdWVyeS5ndWlkKysgKTtcblx0fVxuXHRyZXR1cm4gZWxlbS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRqUXVlcnkuZXZlbnQuYWRkKCB0aGlzLCB0eXBlcywgZm4sIGRhdGEsIHNlbGVjdG9yICk7XG5cdH0gKTtcbn1cblxuLypcbiAqIEhlbHBlciBmdW5jdGlvbnMgZm9yIG1hbmFnaW5nIGV2ZW50cyAtLSBub3QgcGFydCBvZiB0aGUgcHVibGljIGludGVyZmFjZS5cbiAqIFByb3BzIHRvIERlYW4gRWR3YXJkcycgYWRkRXZlbnQgbGlicmFyeSBmb3IgbWFueSBvZiB0aGUgaWRlYXMuXG4gKi9cbmpRdWVyeS5ldmVudCA9IHtcblxuXHRnbG9iYWw6IHt9LFxuXG5cdGFkZDogZnVuY3Rpb24oIGVsZW0sIHR5cGVzLCBoYW5kbGVyLCBkYXRhLCBzZWxlY3RvciApIHtcblxuXHRcdHZhciBoYW5kbGVPYmpJbiwgZXZlbnRIYW5kbGUsIHRtcCxcblx0XHRcdGV2ZW50cywgdCwgaGFuZGxlT2JqLFxuXHRcdFx0c3BlY2lhbCwgaGFuZGxlcnMsIHR5cGUsIG5hbWVzcGFjZXMsIG9yaWdUeXBlLFxuXHRcdFx0ZWxlbURhdGEgPSBkYXRhUHJpdi5nZXQoIGVsZW0gKTtcblxuXHRcdC8vIERvbid0IGF0dGFjaCBldmVudHMgdG8gbm9EYXRhIG9yIHRleHQvY29tbWVudCBub2RlcyAoYnV0IGFsbG93IHBsYWluIG9iamVjdHMpXG5cdFx0aWYgKCAhZWxlbURhdGEgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsbGVyIGNhbiBwYXNzIGluIGFuIG9iamVjdCBvZiBjdXN0b20gZGF0YSBpbiBsaWV1IG9mIHRoZSBoYW5kbGVyXG5cdFx0aWYgKCBoYW5kbGVyLmhhbmRsZXIgKSB7XG5cdFx0XHRoYW5kbGVPYmpJbiA9IGhhbmRsZXI7XG5cdFx0XHRoYW5kbGVyID0gaGFuZGxlT2JqSW4uaGFuZGxlcjtcblx0XHRcdHNlbGVjdG9yID0gaGFuZGxlT2JqSW4uc2VsZWN0b3I7XG5cdFx0fVxuXG5cdFx0Ly8gRW5zdXJlIHRoYXQgaW52YWxpZCBzZWxlY3RvcnMgdGhyb3cgZXhjZXB0aW9ucyBhdCBhdHRhY2ggdGltZVxuXHRcdC8vIEV2YWx1YXRlIGFnYWluc3QgZG9jdW1lbnRFbGVtZW50IGluIGNhc2UgZWxlbSBpcyBhIG5vbi1lbGVtZW50IG5vZGUgKGUuZy4sIGRvY3VtZW50KVxuXHRcdGlmICggc2VsZWN0b3IgKSB7XG5cdFx0XHRqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoIGRvY3VtZW50RWxlbWVudCwgc2VsZWN0b3IgKTtcblx0XHR9XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB0aGUgaGFuZGxlciBoYXMgYSB1bmlxdWUgSUQsIHVzZWQgdG8gZmluZC9yZW1vdmUgaXQgbGF0ZXJcblx0XHRpZiAoICFoYW5kbGVyLmd1aWQgKSB7XG5cdFx0XHRoYW5kbGVyLmd1aWQgPSBqUXVlcnkuZ3VpZCsrO1xuXHRcdH1cblxuXHRcdC8vIEluaXQgdGhlIGVsZW1lbnQncyBldmVudCBzdHJ1Y3R1cmUgYW5kIG1haW4gaGFuZGxlciwgaWYgdGhpcyBpcyB0aGUgZmlyc3Rcblx0XHRpZiAoICEoIGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyApICkge1xuXHRcdFx0ZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzID0ge307XG5cdFx0fVxuXHRcdGlmICggISggZXZlbnRIYW5kbGUgPSBlbGVtRGF0YS5oYW5kbGUgKSApIHtcblx0XHRcdGV2ZW50SGFuZGxlID0gZWxlbURhdGEuaGFuZGxlID0gZnVuY3Rpb24oIGUgKSB7XG5cblx0XHRcdFx0Ly8gRGlzY2FyZCB0aGUgc2Vjb25kIGV2ZW50IG9mIGEgalF1ZXJ5LmV2ZW50LnRyaWdnZXIoKSBhbmRcblx0XHRcdFx0Ly8gd2hlbiBhbiBldmVudCBpcyBjYWxsZWQgYWZ0ZXIgYSBwYWdlIGhhcyB1bmxvYWRlZFxuXHRcdFx0XHRyZXR1cm4gdHlwZW9mIGpRdWVyeSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkICE9PSBlLnR5cGUgP1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5kaXNwYXRjaC5hcHBseSggZWxlbSwgYXJndW1lbnRzICkgOiB1bmRlZmluZWQ7XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIEhhbmRsZSBtdWx0aXBsZSBldmVudHMgc2VwYXJhdGVkIGJ5IGEgc3BhY2Vcblx0XHR0eXBlcyA9ICggdHlwZXMgfHwgXCJcIiApLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbIFwiXCIgXTtcblx0XHR0ID0gdHlwZXMubGVuZ3RoO1xuXHRcdHdoaWxlICggdC0tICkge1xuXHRcdFx0dG1wID0gcnR5cGVuYW1lc3BhY2UuZXhlYyggdHlwZXNbIHQgXSApIHx8IFtdO1xuXHRcdFx0dHlwZSA9IG9yaWdUeXBlID0gdG1wWyAxIF07XG5cdFx0XHRuYW1lc3BhY2VzID0gKCB0bXBbIDIgXSB8fCBcIlwiICkuc3BsaXQoIFwiLlwiICkuc29ydCgpO1xuXG5cdFx0XHQvLyBUaGVyZSAqbXVzdCogYmUgYSB0eXBlLCBubyBhdHRhY2hpbmcgbmFtZXNwYWNlLW9ubHkgaGFuZGxlcnNcblx0XHRcdGlmICggIXR5cGUgKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBldmVudCBjaGFuZ2VzIGl0cyB0eXBlLCB1c2UgdGhlIHNwZWNpYWwgZXZlbnQgaGFuZGxlcnMgZm9yIHRoZSBjaGFuZ2VkIHR5cGVcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXG5cdFx0XHQvLyBJZiBzZWxlY3RvciBkZWZpbmVkLCBkZXRlcm1pbmUgc3BlY2lhbCBldmVudCBhcGkgdHlwZSwgb3RoZXJ3aXNlIGdpdmVuIHR5cGVcblx0XHRcdHR5cGUgPSAoIHNlbGVjdG9yID8gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgOiBzcGVjaWFsLmJpbmRUeXBlICkgfHwgdHlwZTtcblxuXHRcdFx0Ly8gVXBkYXRlIHNwZWNpYWwgYmFzZWQgb24gbmV3bHkgcmVzZXQgdHlwZVxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cblx0XHRcdC8vIGhhbmRsZU9iaiBpcyBwYXNzZWQgdG8gYWxsIGV2ZW50IGhhbmRsZXJzXG5cdFx0XHRoYW5kbGVPYmogPSBqUXVlcnkuZXh0ZW5kKCB7XG5cdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdG9yaWdUeXBlOiBvcmlnVHlwZSxcblx0XHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdFx0aGFuZGxlcjogaGFuZGxlcixcblx0XHRcdFx0Z3VpZDogaGFuZGxlci5ndWlkLFxuXHRcdFx0XHRzZWxlY3Rvcjogc2VsZWN0b3IsXG5cdFx0XHRcdG5lZWRzQ29udGV4dDogc2VsZWN0b3IgJiYgalF1ZXJ5LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9yICksXG5cdFx0XHRcdG5hbWVzcGFjZTogbmFtZXNwYWNlcy5qb2luKCBcIi5cIiApXG5cdFx0XHR9LCBoYW5kbGVPYmpJbiApO1xuXG5cdFx0XHQvLyBJbml0IHRoZSBldmVudCBoYW5kbGVyIHF1ZXVlIGlmIHdlJ3JlIHRoZSBmaXJzdFxuXHRcdFx0aWYgKCAhKCBoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdICkgKSB7XG5cdFx0XHRcdGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gPSBbXTtcblx0XHRcdFx0aGFuZGxlcnMuZGVsZWdhdGVDb3VudCA9IDA7XG5cblx0XHRcdFx0Ly8gT25seSB1c2UgYWRkRXZlbnRMaXN0ZW5lciBpZiB0aGUgc3BlY2lhbCBldmVudHMgaGFuZGxlciByZXR1cm5zIGZhbHNlXG5cdFx0XHRcdGlmICggIXNwZWNpYWwuc2V0dXAgfHxcblx0XHRcdFx0XHRzcGVjaWFsLnNldHVwLmNhbGwoIGVsZW0sIGRhdGEsIG5hbWVzcGFjZXMsIGV2ZW50SGFuZGxlICkgPT09IGZhbHNlICkge1xuXG5cdFx0XHRcdFx0aWYgKCBlbGVtLmFkZEV2ZW50TGlzdGVuZXIgKSB7XG5cdFx0XHRcdFx0XHRlbGVtLmFkZEV2ZW50TGlzdGVuZXIoIHR5cGUsIGV2ZW50SGFuZGxlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmICggc3BlY2lhbC5hZGQgKSB7XG5cdFx0XHRcdHNwZWNpYWwuYWRkLmNhbGwoIGVsZW0sIGhhbmRsZU9iaiApO1xuXG5cdFx0XHRcdGlmICggIWhhbmRsZU9iai5oYW5kbGVyLmd1aWQgKSB7XG5cdFx0XHRcdFx0aGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCA9IGhhbmRsZXIuZ3VpZDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgdG8gdGhlIGVsZW1lbnQncyBoYW5kbGVyIGxpc3QsIGRlbGVnYXRlcyBpbiBmcm9udFxuXHRcdFx0aWYgKCBzZWxlY3RvciApIHtcblx0XHRcdFx0aGFuZGxlcnMuc3BsaWNlKCBoYW5kbGVycy5kZWxlZ2F0ZUNvdW50KyssIDAsIGhhbmRsZU9iaiApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aGFuZGxlcnMucHVzaCggaGFuZGxlT2JqICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEtlZXAgdHJhY2sgb2Ygd2hpY2ggZXZlbnRzIGhhdmUgZXZlciBiZWVuIHVzZWQsIGZvciBldmVudCBvcHRpbWl6YXRpb25cblx0XHRcdGpRdWVyeS5ldmVudC5nbG9iYWxbIHR5cGUgXSA9IHRydWU7XG5cdFx0fVxuXG5cdH0sXG5cblx0Ly8gRGV0YWNoIGFuIGV2ZW50IG9yIHNldCBvZiBldmVudHMgZnJvbSBhbiBlbGVtZW50XG5cdHJlbW92ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGVzLCBoYW5kbGVyLCBzZWxlY3RvciwgbWFwcGVkVHlwZXMgKSB7XG5cblx0XHR2YXIgaiwgb3JpZ0NvdW50LCB0bXAsXG5cdFx0XHRldmVudHMsIHQsIGhhbmRsZU9iaixcblx0XHRcdHNwZWNpYWwsIGhhbmRsZXJzLCB0eXBlLCBuYW1lc3BhY2VzLCBvcmlnVHlwZSxcblx0XHRcdGVsZW1EYXRhID0gZGF0YVByaXYuaGFzRGF0YSggZWxlbSApICYmIGRhdGFQcml2LmdldCggZWxlbSApO1xuXG5cdFx0aWYgKCAhZWxlbURhdGEgfHwgISggZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gT25jZSBmb3IgZWFjaCB0eXBlLm5hbWVzcGFjZSBpbiB0eXBlczsgdHlwZSBtYXkgYmUgb21pdHRlZFxuXHRcdHR5cGVzID0gKCB0eXBlcyB8fCBcIlwiICkubWF0Y2goIHJub3R3aGl0ZSApIHx8IFsgXCJcIiBdO1xuXHRcdHQgPSB0eXBlcy5sZW5ndGg7XG5cdFx0d2hpbGUgKCB0LS0gKSB7XG5cdFx0XHR0bXAgPSBydHlwZW5hbWVzcGFjZS5leGVjKCB0eXBlc1sgdCBdICkgfHwgW107XG5cdFx0XHR0eXBlID0gb3JpZ1R5cGUgPSB0bXBbIDEgXTtcblx0XHRcdG5hbWVzcGFjZXMgPSAoIHRtcFsgMiBdIHx8IFwiXCIgKS5zcGxpdCggXCIuXCIgKS5zb3J0KCk7XG5cblx0XHRcdC8vIFVuYmluZCBhbGwgZXZlbnRzIChvbiB0aGlzIG5hbWVzcGFjZSwgaWYgcHJvdmlkZWQpIGZvciB0aGUgZWxlbWVudFxuXHRcdFx0aWYgKCAhdHlwZSApIHtcblx0XHRcdFx0Zm9yICggdHlwZSBpbiBldmVudHMgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnJlbW92ZSggZWxlbSwgdHlwZSArIHR5cGVzWyB0IF0sIGhhbmRsZXIsIHNlbGVjdG9yLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXHRcdFx0dHlwZSA9ICggc2VsZWN0b3IgPyBzcGVjaWFsLmRlbGVnYXRlVHlwZSA6IHNwZWNpYWwuYmluZFR5cGUgKSB8fCB0eXBlO1xuXHRcdFx0aGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSB8fCBbXTtcblx0XHRcdHRtcCA9IHRtcFsgMiBdICYmXG5cdFx0XHRcdG5ldyBSZWdFeHAoIFwiKF58XFxcXC4pXCIgKyBuYW1lc3BhY2VzLmpvaW4oIFwiXFxcXC4oPzouKlxcXFwufClcIiApICsgXCIoXFxcXC58JClcIiApO1xuXG5cdFx0XHQvLyBSZW1vdmUgbWF0Y2hpbmcgZXZlbnRzXG5cdFx0XHRvcmlnQ291bnQgPSBqID0gaGFuZGxlcnMubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBqLS0gKSB7XG5cdFx0XHRcdGhhbmRsZU9iaiA9IGhhbmRsZXJzWyBqIF07XG5cblx0XHRcdFx0aWYgKCAoIG1hcHBlZFR5cGVzIHx8IG9yaWdUeXBlID09PSBoYW5kbGVPYmoub3JpZ1R5cGUgKSAmJlxuXHRcdFx0XHRcdCggIWhhbmRsZXIgfHwgaGFuZGxlci5ndWlkID09PSBoYW5kbGVPYmouZ3VpZCApICYmXG5cdFx0XHRcdFx0KCAhdG1wIHx8IHRtcC50ZXN0KCBoYW5kbGVPYmoubmFtZXNwYWNlICkgKSAmJlxuXHRcdFx0XHRcdCggIXNlbGVjdG9yIHx8IHNlbGVjdG9yID09PSBoYW5kbGVPYmouc2VsZWN0b3IgfHxcblx0XHRcdFx0XHRcdHNlbGVjdG9yID09PSBcIioqXCIgJiYgaGFuZGxlT2JqLnNlbGVjdG9yICkgKSB7XG5cdFx0XHRcdFx0aGFuZGxlcnMuc3BsaWNlKCBqLCAxICk7XG5cblx0XHRcdFx0XHRpZiAoIGhhbmRsZU9iai5zZWxlY3RvciApIHtcblx0XHRcdFx0XHRcdGhhbmRsZXJzLmRlbGVnYXRlQ291bnQtLTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCBzcGVjaWFsLnJlbW92ZSApIHtcblx0XHRcdFx0XHRcdHNwZWNpYWwucmVtb3ZlLmNhbGwoIGVsZW0sIGhhbmRsZU9iaiApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZW1vdmUgZ2VuZXJpYyBldmVudCBoYW5kbGVyIGlmIHdlIHJlbW92ZWQgc29tZXRoaW5nIGFuZCBubyBtb3JlIGhhbmRsZXJzIGV4aXN0XG5cdFx0XHQvLyAoYXZvaWRzIHBvdGVudGlhbCBmb3IgZW5kbGVzcyByZWN1cnNpb24gZHVyaW5nIHJlbW92YWwgb2Ygc3BlY2lhbCBldmVudCBoYW5kbGVycylcblx0XHRcdGlmICggb3JpZ0NvdW50ICYmICFoYW5kbGVycy5sZW5ndGggKSB7XG5cdFx0XHRcdGlmICggIXNwZWNpYWwudGVhcmRvd24gfHxcblx0XHRcdFx0XHRzcGVjaWFsLnRlYXJkb3duLmNhbGwoIGVsZW0sIG5hbWVzcGFjZXMsIGVsZW1EYXRhLmhhbmRsZSApID09PSBmYWxzZSApIHtcblxuXHRcdFx0XHRcdGpRdWVyeS5yZW1vdmVFdmVudCggZWxlbSwgdHlwZSwgZWxlbURhdGEuaGFuZGxlICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkZWxldGUgZXZlbnRzWyB0eXBlIF07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUmVtb3ZlIGRhdGEgYW5kIHRoZSBleHBhbmRvIGlmIGl0J3Mgbm8gbG9uZ2VyIHVzZWRcblx0XHRpZiAoIGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBldmVudHMgKSApIHtcblx0XHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgXCJoYW5kbGUgZXZlbnRzXCIgKTtcblx0XHR9XG5cdH0sXG5cblx0ZGlzcGF0Y2g6IGZ1bmN0aW9uKCBuYXRpdmVFdmVudCApIHtcblxuXHRcdC8vIE1ha2UgYSB3cml0YWJsZSBqUXVlcnkuRXZlbnQgZnJvbSB0aGUgbmF0aXZlIGV2ZW50IG9iamVjdFxuXHRcdHZhciBldmVudCA9IGpRdWVyeS5ldmVudC5maXgoIG5hdGl2ZUV2ZW50ICk7XG5cblx0XHR2YXIgaSwgaiwgcmV0LCBtYXRjaGVkLCBoYW5kbGVPYmosIGhhbmRsZXJRdWV1ZSxcblx0XHRcdGFyZ3MgPSBuZXcgQXJyYXkoIGFyZ3VtZW50cy5sZW5ndGggKSxcblx0XHRcdGhhbmRsZXJzID0gKCBkYXRhUHJpdi5nZXQoIHRoaXMsIFwiZXZlbnRzXCIgKSB8fCB7fSApWyBldmVudC50eXBlIF0gfHwgW10sXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGV2ZW50LnR5cGUgXSB8fCB7fTtcblxuXHRcdC8vIFVzZSB0aGUgZml4LWVkIGpRdWVyeS5FdmVudCByYXRoZXIgdGhhbiB0aGUgKHJlYWQtb25seSkgbmF0aXZlIGV2ZW50XG5cdFx0YXJnc1sgMCBdID0gZXZlbnQ7XG5cblx0XHRmb3IgKCBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKyApIHtcblx0XHRcdGFyZ3NbIGkgXSA9IGFyZ3VtZW50c1sgaSBdO1xuXHRcdH1cblxuXHRcdGV2ZW50LmRlbGVnYXRlVGFyZ2V0ID0gdGhpcztcblxuXHRcdC8vIENhbGwgdGhlIHByZURpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZSwgYW5kIGxldCBpdCBiYWlsIGlmIGRlc2lyZWRcblx0XHRpZiAoIHNwZWNpYWwucHJlRGlzcGF0Y2ggJiYgc3BlY2lhbC5wcmVEaXNwYXRjaC5jYWxsKCB0aGlzLCBldmVudCApID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBEZXRlcm1pbmUgaGFuZGxlcnNcblx0XHRoYW5kbGVyUXVldWUgPSBqUXVlcnkuZXZlbnQuaGFuZGxlcnMuY2FsbCggdGhpcywgZXZlbnQsIGhhbmRsZXJzICk7XG5cblx0XHQvLyBSdW4gZGVsZWdhdGVzIGZpcnN0OyB0aGV5IG1heSB3YW50IHRvIHN0b3AgcHJvcGFnYXRpb24gYmVuZWF0aCB1c1xuXHRcdGkgPSAwO1xuXHRcdHdoaWxlICggKCBtYXRjaGVkID0gaGFuZGxlclF1ZXVlWyBpKysgXSApICYmICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXHRcdFx0ZXZlbnQuY3VycmVudFRhcmdldCA9IG1hdGNoZWQuZWxlbTtcblxuXHRcdFx0aiA9IDA7XG5cdFx0XHR3aGlsZSAoICggaGFuZGxlT2JqID0gbWF0Y2hlZC5oYW5kbGVyc1sgaisrIF0gKSAmJlxuXHRcdFx0XHQhZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblxuXHRcdFx0XHQvLyBUcmlnZ2VyZWQgZXZlbnQgbXVzdCBlaXRoZXIgMSkgaGF2ZSBubyBuYW1lc3BhY2UsIG9yIDIpIGhhdmUgbmFtZXNwYWNlKHMpXG5cdFx0XHRcdC8vIGEgc3Vic2V0IG9yIGVxdWFsIHRvIHRob3NlIGluIHRoZSBib3VuZCBldmVudCAoYm90aCBjYW4gaGF2ZSBubyBuYW1lc3BhY2UpLlxuXHRcdFx0XHRpZiAoICFldmVudC5ybmFtZXNwYWNlIHx8IGV2ZW50LnJuYW1lc3BhY2UudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkge1xuXG5cdFx0XHRcdFx0ZXZlbnQuaGFuZGxlT2JqID0gaGFuZGxlT2JqO1xuXHRcdFx0XHRcdGV2ZW50LmRhdGEgPSBoYW5kbGVPYmouZGF0YTtcblxuXHRcdFx0XHRcdHJldCA9ICggKCBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgaGFuZGxlT2JqLm9yaWdUeXBlIF0gfHwge30gKS5oYW5kbGUgfHxcblx0XHRcdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyICkuYXBwbHkoIG1hdGNoZWQuZWxlbSwgYXJncyApO1xuXG5cdFx0XHRcdFx0aWYgKCByZXQgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdGlmICggKCBldmVudC5yZXN1bHQgPSByZXQgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhbGwgdGhlIHBvc3REaXNwYXRjaCBob29rIGZvciB0aGUgbWFwcGVkIHR5cGVcblx0XHRpZiAoIHNwZWNpYWwucG9zdERpc3BhdGNoICkge1xuXHRcdFx0c3BlY2lhbC5wb3N0RGlzcGF0Y2guY2FsbCggdGhpcywgZXZlbnQgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQucmVzdWx0O1xuXHR9LFxuXG5cdGhhbmRsZXJzOiBmdW5jdGlvbiggZXZlbnQsIGhhbmRsZXJzICkge1xuXHRcdHZhciBpLCBtYXRjaGVzLCBzZWwsIGhhbmRsZU9iaixcblx0XHRcdGhhbmRsZXJRdWV1ZSA9IFtdLFxuXHRcdFx0ZGVsZWdhdGVDb3VudCA9IGhhbmRsZXJzLmRlbGVnYXRlQ291bnQsXG5cdFx0XHRjdXIgPSBldmVudC50YXJnZXQ7XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA8PTlcblx0XHQvLyBGaW5kIGRlbGVnYXRlIGhhbmRsZXJzXG5cdFx0Ly8gQmxhY2staG9sZSBTVkcgPHVzZT4gaW5zdGFuY2UgdHJlZXMgKCMxMzE4MClcblx0XHQvL1xuXHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00MlxuXHRcdC8vIEF2b2lkIG5vbi1sZWZ0LWNsaWNrIGluIEZGIGJ1dCBkb24ndCBibG9jayBJRSByYWRpbyBldmVudHMgKCMzODYxLCBnaC0yMzQzKVxuXHRcdGlmICggZGVsZWdhdGVDb3VudCAmJiBjdXIubm9kZVR5cGUgJiZcblx0XHRcdCggZXZlbnQudHlwZSAhPT0gXCJjbGlja1wiIHx8IGlzTmFOKCBldmVudC5idXR0b24gKSB8fCBldmVudC5idXR0b24gPCAxICkgKSB7XG5cblx0XHRcdGZvciAoIDsgY3VyICE9PSB0aGlzOyBjdXIgPSBjdXIucGFyZW50Tm9kZSB8fCB0aGlzICkge1xuXG5cdFx0XHRcdC8vIERvbid0IGNoZWNrIG5vbi1lbGVtZW50cyAoIzEzMjA4KVxuXHRcdFx0XHQvLyBEb24ndCBwcm9jZXNzIGNsaWNrcyBvbiBkaXNhYmxlZCBlbGVtZW50cyAoIzY5MTEsICM4MTY1LCAjMTEzODIsICMxMTc2NClcblx0XHRcdFx0aWYgKCBjdXIubm9kZVR5cGUgPT09IDEgJiYgKCBjdXIuZGlzYWJsZWQgIT09IHRydWUgfHwgZXZlbnQudHlwZSAhPT0gXCJjbGlja1wiICkgKSB7XG5cdFx0XHRcdFx0bWF0Y2hlcyA9IFtdO1xuXHRcdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgZGVsZWdhdGVDb3VudDsgaSsrICkge1xuXHRcdFx0XHRcdFx0aGFuZGxlT2JqID0gaGFuZGxlcnNbIGkgXTtcblxuXHRcdFx0XHRcdFx0Ly8gRG9uJ3QgY29uZmxpY3Qgd2l0aCBPYmplY3QucHJvdG90eXBlIHByb3BlcnRpZXMgKCMxMzIwMylcblx0XHRcdFx0XHRcdHNlbCA9IGhhbmRsZU9iai5zZWxlY3RvciArIFwiIFwiO1xuXG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXNbIHNlbCBdID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0XHRcdG1hdGNoZXNbIHNlbCBdID0gaGFuZGxlT2JqLm5lZWRzQ29udGV4dCA/XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBzZWwsIHRoaXMgKS5pbmRleCggY3VyICkgPiAtMSA6XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmZpbmQoIHNlbCwgdGhpcywgbnVsbCwgWyBjdXIgXSApLmxlbmd0aDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlc1sgc2VsIF0gKSB7XG5cdFx0XHRcdFx0XHRcdG1hdGNoZXMucHVzaCggaGFuZGxlT2JqICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggbWF0Y2hlcy5sZW5ndGggKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVyUXVldWUucHVzaCggeyBlbGVtOiBjdXIsIGhhbmRsZXJzOiBtYXRjaGVzIH0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBBZGQgdGhlIHJlbWFpbmluZyAoZGlyZWN0bHktYm91bmQpIGhhbmRsZXJzXG5cdFx0aWYgKCBkZWxlZ2F0ZUNvdW50IDwgaGFuZGxlcnMubGVuZ3RoICkge1xuXHRcdFx0aGFuZGxlclF1ZXVlLnB1c2goIHsgZWxlbTogdGhpcywgaGFuZGxlcnM6IGhhbmRsZXJzLnNsaWNlKCBkZWxlZ2F0ZUNvdW50ICkgfSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBoYW5kbGVyUXVldWU7XG5cdH0sXG5cblx0YWRkUHJvcDogZnVuY3Rpb24oIG5hbWUsIGhvb2sgKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCBqUXVlcnkuRXZlbnQucHJvdG90eXBlLCBuYW1lLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXG5cdFx0XHRnZXQ6IGpRdWVyeS5pc0Z1bmN0aW9uKCBob29rICkgP1xuXHRcdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoIHRoaXMub3JpZ2luYWxFdmVudCApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGhvb2soIHRoaXMub3JpZ2luYWxFdmVudCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSA6XG5cdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50WyBuYW1lIF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCB0aGlzLCBuYW1lLCB7XG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0d3JpdGFibGU6IHRydWUsXG5cdFx0XHRcdFx0dmFsdWU6IHZhbHVlXG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0Zml4OiBmdW5jdGlvbiggb3JpZ2luYWxFdmVudCApIHtcblx0XHRyZXR1cm4gb3JpZ2luYWxFdmVudFsgalF1ZXJ5LmV4cGFuZG8gXSA/XG5cdFx0XHRvcmlnaW5hbEV2ZW50IDpcblx0XHRcdG5ldyBqUXVlcnkuRXZlbnQoIG9yaWdpbmFsRXZlbnQgKTtcblx0fSxcblxuXHRzcGVjaWFsOiB7XG5cdFx0bG9hZDoge1xuXG5cdFx0XHQvLyBQcmV2ZW50IHRyaWdnZXJlZCBpbWFnZS5sb2FkIGV2ZW50cyBmcm9tIGJ1YmJsaW5nIHRvIHdpbmRvdy5sb2FkXG5cdFx0XHRub0J1YmJsZTogdHJ1ZVxuXHRcdH0sXG5cdFx0Zm9jdXM6IHtcblxuXHRcdFx0Ly8gRmlyZSBuYXRpdmUgZXZlbnQgaWYgcG9zc2libGUgc28gYmx1ci9mb2N1cyBzZXF1ZW5jZSBpcyBjb3JyZWN0XG5cdFx0XHR0cmlnZ2VyOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCB0aGlzICE9PSBzYWZlQWN0aXZlRWxlbWVudCgpICYmIHRoaXMuZm9jdXMgKSB7XG5cdFx0XHRcdFx0dGhpcy5mb2N1cygpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGRlbGVnYXRlVHlwZTogXCJmb2N1c2luXCJcblx0XHR9LFxuXHRcdGJsdXI6IHtcblx0XHRcdHRyaWdnZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIHRoaXMgPT09IHNhZmVBY3RpdmVFbGVtZW50KCkgJiYgdGhpcy5ibHVyICkge1xuXHRcdFx0XHRcdHRoaXMuYmx1cigpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGRlbGVnYXRlVHlwZTogXCJmb2N1c291dFwiXG5cdFx0fSxcblx0XHRjbGljazoge1xuXG5cdFx0XHQvLyBGb3IgY2hlY2tib3gsIGZpcmUgbmF0aXZlIGV2ZW50IHNvIGNoZWNrZWQgc3RhdGUgd2lsbCBiZSByaWdodFxuXHRcdFx0dHJpZ2dlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggdGhpcy50eXBlID09PSBcImNoZWNrYm94XCIgJiYgdGhpcy5jbGljayAmJiBqUXVlcnkubm9kZU5hbWUoIHRoaXMsIFwiaW5wdXRcIiApICkge1xuXHRcdFx0XHRcdHRoaXMuY2xpY2soKTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cblx0XHRcdC8vIEZvciBjcm9zcy1icm93c2VyIGNvbnNpc3RlbmN5LCBkb24ndCBmaXJlIG5hdGl2ZSAuY2xpY2soKSBvbiBsaW5rc1xuXHRcdFx0X2RlZmF1bHQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0cmV0dXJuIGpRdWVyeS5ub2RlTmFtZSggZXZlbnQudGFyZ2V0LCBcImFcIiApO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRiZWZvcmV1bmxvYWQ6IHtcblx0XHRcdHBvc3REaXNwYXRjaDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggMjArXG5cdFx0XHRcdC8vIEZpcmVmb3ggZG9lc24ndCBhbGVydCBpZiB0aGUgcmV0dXJuVmFsdWUgZmllbGQgaXMgbm90IHNldC5cblx0XHRcdFx0aWYgKCBldmVudC5yZXN1bHQgIT09IHVuZGVmaW5lZCAmJiBldmVudC5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdGV2ZW50Lm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWUgPSBldmVudC5yZXN1bHQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5yZW1vdmVFdmVudCA9IGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCBoYW5kbGUgKSB7XG5cblx0Ly8gVGhpcyBcImlmXCIgaXMgbmVlZGVkIGZvciBwbGFpbiBvYmplY3RzXG5cdGlmICggZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyICkge1xuXHRcdGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciggdHlwZSwgaGFuZGxlICk7XG5cdH1cbn07XG5cbmpRdWVyeS5FdmVudCA9IGZ1bmN0aW9uKCBzcmMsIHByb3BzICkge1xuXG5cdC8vIEFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCB0aGUgJ25ldycga2V5d29yZFxuXHRpZiAoICEoIHRoaXMgaW5zdGFuY2VvZiBqUXVlcnkuRXZlbnQgKSApIHtcblx0XHRyZXR1cm4gbmV3IGpRdWVyeS5FdmVudCggc3JjLCBwcm9wcyApO1xuXHR9XG5cblx0Ly8gRXZlbnQgb2JqZWN0XG5cdGlmICggc3JjICYmIHNyYy50eXBlICkge1xuXHRcdHRoaXMub3JpZ2luYWxFdmVudCA9IHNyYztcblx0XHR0aGlzLnR5cGUgPSBzcmMudHlwZTtcblxuXHRcdC8vIEV2ZW50cyBidWJibGluZyB1cCB0aGUgZG9jdW1lbnQgbWF5IGhhdmUgYmVlbiBtYXJrZWQgYXMgcHJldmVudGVkXG5cdFx0Ly8gYnkgYSBoYW5kbGVyIGxvd2VyIGRvd24gdGhlIHRyZWU7IHJlZmxlY3QgdGhlIGNvcnJlY3QgdmFsdWUuXG5cdFx0dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBzcmMuZGVmYXVsdFByZXZlbnRlZCB8fFxuXHRcdFx0XHRzcmMuZGVmYXVsdFByZXZlbnRlZCA9PT0gdW5kZWZpbmVkICYmXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTIuMyBvbmx5XG5cdFx0XHRcdHNyYy5yZXR1cm5WYWx1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0cmV0dXJuVHJ1ZSA6XG5cdFx0XHRyZXR1cm5GYWxzZTtcblxuXHRcdC8vIENyZWF0ZSB0YXJnZXQgcHJvcGVydGllc1xuXHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA8PTYgLSA3IG9ubHlcblx0XHQvLyBUYXJnZXQgc2hvdWxkIG5vdCBiZSBhIHRleHQgbm9kZSAoIzUwNCwgIzEzMTQzKVxuXHRcdHRoaXMudGFyZ2V0ID0gKCBzcmMudGFyZ2V0ICYmIHNyYy50YXJnZXQubm9kZVR5cGUgPT09IDMgKSA/XG5cdFx0XHRzcmMudGFyZ2V0LnBhcmVudE5vZGUgOlxuXHRcdFx0c3JjLnRhcmdldDtcblxuXHRcdHRoaXMuY3VycmVudFRhcmdldCA9IHNyYy5jdXJyZW50VGFyZ2V0O1xuXHRcdHRoaXMucmVsYXRlZFRhcmdldCA9IHNyYy5yZWxhdGVkVGFyZ2V0O1xuXG5cdC8vIEV2ZW50IHR5cGVcblx0fSBlbHNlIHtcblx0XHR0aGlzLnR5cGUgPSBzcmM7XG5cdH1cblxuXHQvLyBQdXQgZXhwbGljaXRseSBwcm92aWRlZCBwcm9wZXJ0aWVzIG9udG8gdGhlIGV2ZW50IG9iamVjdFxuXHRpZiAoIHByb3BzICkge1xuXHRcdGpRdWVyeS5leHRlbmQoIHRoaXMsIHByb3BzICk7XG5cdH1cblxuXHQvLyBDcmVhdGUgYSB0aW1lc3RhbXAgaWYgaW5jb21pbmcgZXZlbnQgZG9lc24ndCBoYXZlIG9uZVxuXHR0aGlzLnRpbWVTdGFtcCA9IHNyYyAmJiBzcmMudGltZVN0YW1wIHx8IGpRdWVyeS5ub3coKTtcblxuXHQvLyBNYXJrIGl0IGFzIGZpeGVkXG5cdHRoaXNbIGpRdWVyeS5leHBhbmRvIF0gPSB0cnVlO1xufTtcblxuLy8galF1ZXJ5LkV2ZW50IGlzIGJhc2VkIG9uIERPTTMgRXZlbnRzIGFzIHNwZWNpZmllZCBieSB0aGUgRUNNQVNjcmlwdCBMYW5ndWFnZSBCaW5kaW5nXG4vLyBodHRwczovL3d3dy53My5vcmcvVFIvMjAwMy9XRC1ET00tTGV2ZWwtMy1FdmVudHMtMjAwMzAzMzEvZWNtYS1zY3JpcHQtYmluZGluZy5odG1sXG5qUXVlcnkuRXZlbnQucHJvdG90eXBlID0ge1xuXHRjb25zdHJ1Y3RvcjogalF1ZXJ5LkV2ZW50LFxuXHRpc0RlZmF1bHRQcmV2ZW50ZWQ6IHJldHVybkZhbHNlLFxuXHRpc1Byb3BhZ2F0aW9uU3RvcHBlZDogcmV0dXJuRmFsc2UsXG5cdGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSxcblx0aXNTaW11bGF0ZWQ6IGZhbHNlLFxuXG5cdHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblxuXHRcdHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gcmV0dXJuVHJ1ZTtcblxuXHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR9XG5cdH0sXG5cdHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG5cblx0XHR0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gcmV0dXJuVHJ1ZTtcblxuXHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0fVxuXHR9LFxuXHRzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuXG5cdFx0dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XG5cblx0XHRpZiAoIGUgJiYgIXRoaXMuaXNTaW11bGF0ZWQgKSB7XG5cdFx0XHRlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdH1cblxuXHRcdHRoaXMuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdH1cbn07XG5cbi8vIEluY2x1ZGVzIGFsbCBjb21tb24gZXZlbnQgcHJvcHMgaW5jbHVkaW5nIEtleUV2ZW50IGFuZCBNb3VzZUV2ZW50IHNwZWNpZmljIHByb3BzXG5qUXVlcnkuZWFjaCgge1xuXHRhbHRLZXk6IHRydWUsXG5cdGJ1YmJsZXM6IHRydWUsXG5cdGNhbmNlbGFibGU6IHRydWUsXG5cdGNoYW5nZWRUb3VjaGVzOiB0cnVlLFxuXHRjdHJsS2V5OiB0cnVlLFxuXHRkZXRhaWw6IHRydWUsXG5cdGV2ZW50UGhhc2U6IHRydWUsXG5cdG1ldGFLZXk6IHRydWUsXG5cdHBhZ2VYOiB0cnVlLFxuXHRwYWdlWTogdHJ1ZSxcblx0c2hpZnRLZXk6IHRydWUsXG5cdHZpZXc6IHRydWUsXG5cdFwiY2hhclwiOiB0cnVlLFxuXHRjaGFyQ29kZTogdHJ1ZSxcblx0a2V5OiB0cnVlLFxuXHRrZXlDb2RlOiB0cnVlLFxuXHRidXR0b246IHRydWUsXG5cdGJ1dHRvbnM6IHRydWUsXG5cdGNsaWVudFg6IHRydWUsXG5cdGNsaWVudFk6IHRydWUsXG5cdG9mZnNldFg6IHRydWUsXG5cdG9mZnNldFk6IHRydWUsXG5cdHBvaW50ZXJJZDogdHJ1ZSxcblx0cG9pbnRlclR5cGU6IHRydWUsXG5cdHNjcmVlblg6IHRydWUsXG5cdHNjcmVlblk6IHRydWUsXG5cdHRhcmdldFRvdWNoZXM6IHRydWUsXG5cdHRvRWxlbWVudDogdHJ1ZSxcblx0dG91Y2hlczogdHJ1ZSxcblxuXHR3aGljaDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBidXR0b24gPSBldmVudC5idXR0b247XG5cblx0XHQvLyBBZGQgd2hpY2ggZm9yIGtleSBldmVudHNcblx0XHRpZiAoIGV2ZW50LndoaWNoID09IG51bGwgJiYgcmtleUV2ZW50LnRlc3QoIGV2ZW50LnR5cGUgKSApIHtcblx0XHRcdHJldHVybiBldmVudC5jaGFyQ29kZSAhPSBudWxsID8gZXZlbnQuY2hhckNvZGUgOiBldmVudC5rZXlDb2RlO1xuXHRcdH1cblxuXHRcdC8vIEFkZCB3aGljaCBmb3IgY2xpY2s6IDEgPT09IGxlZnQ7IDIgPT09IG1pZGRsZTsgMyA9PT0gcmlnaHRcblx0XHRpZiAoICFldmVudC53aGljaCAmJiBidXR0b24gIT09IHVuZGVmaW5lZCAmJiBybW91c2VFdmVudC50ZXN0KCBldmVudC50eXBlICkgKSB7XG5cdFx0XHRyZXR1cm4gKCBidXR0b24gJiAxID8gMSA6ICggYnV0dG9uICYgMiA/IDMgOiAoIGJ1dHRvbiAmIDQgPyAyIDogMCApICkgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQud2hpY2g7XG5cdH1cbn0sIGpRdWVyeS5ldmVudC5hZGRQcm9wICk7XG5cbi8vIENyZWF0ZSBtb3VzZWVudGVyL2xlYXZlIGV2ZW50cyB1c2luZyBtb3VzZW92ZXIvb3V0IGFuZCBldmVudC10aW1lIGNoZWNrc1xuLy8gc28gdGhhdCBldmVudCBkZWxlZ2F0aW9uIHdvcmtzIGluIGpRdWVyeS5cbi8vIERvIHRoZSBzYW1lIGZvciBwb2ludGVyZW50ZXIvcG9pbnRlcmxlYXZlIGFuZCBwb2ludGVyb3Zlci9wb2ludGVyb3V0XG4vL1xuLy8gU3VwcG9ydDogU2FmYXJpIDcgb25seVxuLy8gU2FmYXJpIHNlbmRzIG1vdXNlZW50ZXIgdG9vIG9mdGVuOyBzZWU6XG4vLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NzAyNThcbi8vIGZvciB0aGUgZGVzY3JpcHRpb24gb2YgdGhlIGJ1ZyAoaXQgZXhpc3RlZCBpbiBvbGRlciBDaHJvbWUgdmVyc2lvbnMgYXMgd2VsbCkuXG5qUXVlcnkuZWFjaCgge1xuXHRtb3VzZWVudGVyOiBcIm1vdXNlb3ZlclwiLFxuXHRtb3VzZWxlYXZlOiBcIm1vdXNlb3V0XCIsXG5cdHBvaW50ZXJlbnRlcjogXCJwb2ludGVyb3ZlclwiLFxuXHRwb2ludGVybGVhdmU6IFwicG9pbnRlcm91dFwiXG59LCBmdW5jdGlvbiggb3JpZywgZml4ICkge1xuXHRqUXVlcnkuZXZlbnQuc3BlY2lhbFsgb3JpZyBdID0ge1xuXHRcdGRlbGVnYXRlVHlwZTogZml4LFxuXHRcdGJpbmRUeXBlOiBmaXgsXG5cblx0XHRoYW5kbGU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciByZXQsXG5cdFx0XHRcdHRhcmdldCA9IHRoaXMsXG5cdFx0XHRcdHJlbGF0ZWQgPSBldmVudC5yZWxhdGVkVGFyZ2V0LFxuXHRcdFx0XHRoYW5kbGVPYmogPSBldmVudC5oYW5kbGVPYmo7XG5cblx0XHRcdC8vIEZvciBtb3VzZWVudGVyL2xlYXZlIGNhbGwgdGhlIGhhbmRsZXIgaWYgcmVsYXRlZCBpcyBvdXRzaWRlIHRoZSB0YXJnZXQuXG5cdFx0XHQvLyBOQjogTm8gcmVsYXRlZFRhcmdldCBpZiB0aGUgbW91c2UgbGVmdC9lbnRlcmVkIHRoZSBicm93c2VyIHdpbmRvd1xuXHRcdFx0aWYgKCAhcmVsYXRlZCB8fCAoIHJlbGF0ZWQgIT09IHRhcmdldCAmJiAhalF1ZXJ5LmNvbnRhaW5zKCB0YXJnZXQsIHJlbGF0ZWQgKSApICkge1xuXHRcdFx0XHRldmVudC50eXBlID0gaGFuZGxlT2JqLm9yaWdUeXBlO1xuXHRcdFx0XHRyZXQgPSBoYW5kbGVPYmouaGFuZGxlci5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdGV2ZW50LnR5cGUgPSBmaXg7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblx0fTtcbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXG5cdG9uOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gb24oIHRoaXMsIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKTtcblx0fSxcblx0b25lOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gb24oIHRoaXMsIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIDEgKTtcblx0fSxcblx0b2ZmOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBmbiApIHtcblx0XHR2YXIgaGFuZGxlT2JqLCB0eXBlO1xuXHRcdGlmICggdHlwZXMgJiYgdHlwZXMucHJldmVudERlZmF1bHQgJiYgdHlwZXMuaGFuZGxlT2JqICkge1xuXG5cdFx0XHQvLyAoIGV2ZW50ICkgIGRpc3BhdGNoZWQgalF1ZXJ5LkV2ZW50XG5cdFx0XHRoYW5kbGVPYmogPSB0eXBlcy5oYW5kbGVPYmo7XG5cdFx0XHRqUXVlcnkoIHR5cGVzLmRlbGVnYXRlVGFyZ2V0ICkub2ZmKFxuXHRcdFx0XHRoYW5kbGVPYmoubmFtZXNwYWNlID9cblx0XHRcdFx0XHRoYW5kbGVPYmoub3JpZ1R5cGUgKyBcIi5cIiArIGhhbmRsZU9iai5uYW1lc3BhY2UgOlxuXHRcdFx0XHRcdGhhbmRsZU9iai5vcmlnVHlwZSxcblx0XHRcdFx0aGFuZGxlT2JqLnNlbGVjdG9yLFxuXHRcdFx0XHRoYW5kbGVPYmouaGFuZGxlclxuXHRcdFx0KTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0XHRpZiAoIHR5cGVvZiB0eXBlcyA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdFx0Ly8gKCB0eXBlcy1vYmplY3QgWywgc2VsZWN0b3JdIClcblx0XHRcdGZvciAoIHR5cGUgaW4gdHlwZXMgKSB7XG5cdFx0XHRcdHRoaXMub2ZmKCB0eXBlLCBzZWxlY3RvciwgdHlwZXNbIHR5cGUgXSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHRcdGlmICggc2VsZWN0b3IgPT09IGZhbHNlIHx8IHR5cGVvZiBzZWxlY3RvciA9PT0gXCJmdW5jdGlvblwiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzIFssIGZuXSApXG5cdFx0XHRmbiA9IHNlbGVjdG9yO1xuXHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGlmICggZm4gPT09IGZhbHNlICkge1xuXHRcdFx0Zm4gPSByZXR1cm5GYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCB0aGlzLCB0eXBlcywgZm4sIHNlbGVjdG9yICk7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cblxudmFyXG5cblx0LyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuXG5cdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZXNsaW50L2VzbGludC9pc3N1ZXMvMzIyOVxuXHRyeGh0bWxUYWcgPSAvPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbYS16XVteXFwvXFwwPlxceDIwXFx0XFxyXFxuXFxmXSopW14+XSopXFwvPi9naSxcblxuXHQvKiBlc2xpbnQtZW5hYmxlICovXG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMCAtIDExLCBFZGdlIDEyIC0gMTNcblx0Ly8gSW4gSUUvRWRnZSB1c2luZyByZWdleCBncm91cHMgaGVyZSBjYXVzZXMgc2V2ZXJlIHNsb3dkb3ducy5cblx0Ly8gU2VlIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvMTczNjUxMi9cblx0cm5vSW5uZXJodG1sID0gLzxzY3JpcHR8PHN0eWxlfDxsaW5rL2ksXG5cblx0Ly8gY2hlY2tlZD1cImNoZWNrZWRcIiBvciBjaGVja2VkXG5cdHJjaGVja2VkID0gL2NoZWNrZWRcXHMqKD86W149XXw9XFxzKi5jaGVja2VkLikvaSxcblx0cnNjcmlwdFR5cGVNYXNrZWQgPSAvXnRydWVcXC8oLiopLyxcblx0cmNsZWFuU2NyaXB0ID0gL15cXHMqPCEoPzpcXFtDREFUQVxcW3wtLSl8KD86XFxdXFxdfC0tKT5cXHMqJC9nO1xuXG5mdW5jdGlvbiBtYW5pcHVsYXRpb25UYXJnZXQoIGVsZW0sIGNvbnRlbnQgKSB7XG5cdGlmICggalF1ZXJ5Lm5vZGVOYW1lKCBlbGVtLCBcInRhYmxlXCIgKSAmJlxuXHRcdGpRdWVyeS5ub2RlTmFtZSggY29udGVudC5ub2RlVHlwZSAhPT0gMTEgPyBjb250ZW50IDogY29udGVudC5maXJzdENoaWxkLCBcInRyXCIgKSApIHtcblxuXHRcdHJldHVybiBlbGVtLmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcInRib2R5XCIgKVsgMCBdIHx8IGVsZW07XG5cdH1cblxuXHRyZXR1cm4gZWxlbTtcbn1cblxuLy8gUmVwbGFjZS9yZXN0b3JlIHRoZSB0eXBlIGF0dHJpYnV0ZSBvZiBzY3JpcHQgZWxlbWVudHMgZm9yIHNhZmUgRE9NIG1hbmlwdWxhdGlvblxuZnVuY3Rpb24gZGlzYWJsZVNjcmlwdCggZWxlbSApIHtcblx0ZWxlbS50eXBlID0gKCBlbGVtLmdldEF0dHJpYnV0ZSggXCJ0eXBlXCIgKSAhPT0gbnVsbCApICsgXCIvXCIgKyBlbGVtLnR5cGU7XG5cdHJldHVybiBlbGVtO1xufVxuZnVuY3Rpb24gcmVzdG9yZVNjcmlwdCggZWxlbSApIHtcblx0dmFyIG1hdGNoID0gcnNjcmlwdFR5cGVNYXNrZWQuZXhlYyggZWxlbS50eXBlICk7XG5cblx0aWYgKCBtYXRjaCApIHtcblx0XHRlbGVtLnR5cGUgPSBtYXRjaFsgMSBdO1xuXHR9IGVsc2Uge1xuXHRcdGVsZW0ucmVtb3ZlQXR0cmlidXRlKCBcInR5cGVcIiApO1xuXHR9XG5cblx0cmV0dXJuIGVsZW07XG59XG5cbmZ1bmN0aW9uIGNsb25lQ29weUV2ZW50KCBzcmMsIGRlc3QgKSB7XG5cdHZhciBpLCBsLCB0eXBlLCBwZGF0YU9sZCwgcGRhdGFDdXIsIHVkYXRhT2xkLCB1ZGF0YUN1ciwgZXZlbnRzO1xuXG5cdGlmICggZGVzdC5ub2RlVHlwZSAhPT0gMSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyAxLiBDb3B5IHByaXZhdGUgZGF0YTogZXZlbnRzLCBoYW5kbGVycywgZXRjLlxuXHRpZiAoIGRhdGFQcml2Lmhhc0RhdGEoIHNyYyApICkge1xuXHRcdHBkYXRhT2xkID0gZGF0YVByaXYuYWNjZXNzKCBzcmMgKTtcblx0XHRwZGF0YUN1ciA9IGRhdGFQcml2LnNldCggZGVzdCwgcGRhdGFPbGQgKTtcblx0XHRldmVudHMgPSBwZGF0YU9sZC5ldmVudHM7XG5cblx0XHRpZiAoIGV2ZW50cyApIHtcblx0XHRcdGRlbGV0ZSBwZGF0YUN1ci5oYW5kbGU7XG5cdFx0XHRwZGF0YUN1ci5ldmVudHMgPSB7fTtcblxuXHRcdFx0Zm9yICggdHlwZSBpbiBldmVudHMgKSB7XG5cdFx0XHRcdGZvciAoIGkgPSAwLCBsID0gZXZlbnRzWyB0eXBlIF0ubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5hZGQoIGRlc3QsIHR5cGUsIGV2ZW50c1sgdHlwZSBdWyBpIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIDIuIENvcHkgdXNlciBkYXRhXG5cdGlmICggZGF0YVVzZXIuaGFzRGF0YSggc3JjICkgKSB7XG5cdFx0dWRhdGFPbGQgPSBkYXRhVXNlci5hY2Nlc3MoIHNyYyApO1xuXHRcdHVkYXRhQ3VyID0galF1ZXJ5LmV4dGVuZCgge30sIHVkYXRhT2xkICk7XG5cblx0XHRkYXRhVXNlci5zZXQoIGRlc3QsIHVkYXRhQ3VyICk7XG5cdH1cbn1cblxuLy8gRml4IElFIGJ1Z3MsIHNlZSBzdXBwb3J0IHRlc3RzXG5mdW5jdGlvbiBmaXhJbnB1dCggc3JjLCBkZXN0ICkge1xuXHR2YXIgbm9kZU5hbWUgPSBkZXN0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cblx0Ly8gRmFpbHMgdG8gcGVyc2lzdCB0aGUgY2hlY2tlZCBzdGF0ZSBvZiBhIGNsb25lZCBjaGVja2JveCBvciByYWRpbyBidXR0b24uXG5cdGlmICggbm9kZU5hbWUgPT09IFwiaW5wdXRcIiAmJiByY2hlY2thYmxlVHlwZS50ZXN0KCBzcmMudHlwZSApICkge1xuXHRcdGRlc3QuY2hlY2tlZCA9IHNyYy5jaGVja2VkO1xuXG5cdC8vIEZhaWxzIHRvIHJldHVybiB0aGUgc2VsZWN0ZWQgb3B0aW9uIHRvIHRoZSBkZWZhdWx0IHNlbGVjdGVkIHN0YXRlIHdoZW4gY2xvbmluZyBvcHRpb25zXG5cdH0gZWxzZSBpZiAoIG5vZGVOYW1lID09PSBcImlucHV0XCIgfHwgbm9kZU5hbWUgPT09IFwidGV4dGFyZWFcIiApIHtcblx0XHRkZXN0LmRlZmF1bHRWYWx1ZSA9IHNyYy5kZWZhdWx0VmFsdWU7XG5cdH1cbn1cblxuZnVuY3Rpb24gZG9tTWFuaXAoIGNvbGxlY3Rpb24sIGFyZ3MsIGNhbGxiYWNrLCBpZ25vcmVkICkge1xuXG5cdC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcblx0YXJncyA9IGNvbmNhdC5hcHBseSggW10sIGFyZ3MgKTtcblxuXHR2YXIgZnJhZ21lbnQsIGZpcnN0LCBzY3JpcHRzLCBoYXNTY3JpcHRzLCBub2RlLCBkb2MsXG5cdFx0aSA9IDAsXG5cdFx0bCA9IGNvbGxlY3Rpb24ubGVuZ3RoLFxuXHRcdGlOb0Nsb25lID0gbCAtIDEsXG5cdFx0dmFsdWUgPSBhcmdzWyAwIF0sXG5cdFx0aXNGdW5jdGlvbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXG5cdC8vIFdlIGNhbid0IGNsb25lTm9kZSBmcmFnbWVudHMgdGhhdCBjb250YWluIGNoZWNrZWQsIGluIFdlYktpdFxuXHRpZiAoIGlzRnVuY3Rpb24gfHxcblx0XHRcdCggbCA+IDEgJiYgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmXG5cdFx0XHRcdCFzdXBwb3J0LmNoZWNrQ2xvbmUgJiYgcmNoZWNrZWQudGVzdCggdmFsdWUgKSApICkge1xuXHRcdHJldHVybiBjb2xsZWN0aW9uLmVhY2goIGZ1bmN0aW9uKCBpbmRleCApIHtcblx0XHRcdHZhciBzZWxmID0gY29sbGVjdGlvbi5lcSggaW5kZXggKTtcblx0XHRcdGlmICggaXNGdW5jdGlvbiApIHtcblx0XHRcdFx0YXJnc1sgMCBdID0gdmFsdWUuY2FsbCggdGhpcywgaW5kZXgsIHNlbGYuaHRtbCgpICk7XG5cdFx0XHR9XG5cdFx0XHRkb21NYW5pcCggc2VsZiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQgKTtcblx0XHR9ICk7XG5cdH1cblxuXHRpZiAoIGwgKSB7XG5cdFx0ZnJhZ21lbnQgPSBidWlsZEZyYWdtZW50KCBhcmdzLCBjb2xsZWN0aW9uWyAwIF0ub3duZXJEb2N1bWVudCwgZmFsc2UsIGNvbGxlY3Rpb24sIGlnbm9yZWQgKTtcblx0XHRmaXJzdCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cblx0XHRpZiAoIGZyYWdtZW50LmNoaWxkTm9kZXMubGVuZ3RoID09PSAxICkge1xuXHRcdFx0ZnJhZ21lbnQgPSBmaXJzdDtcblx0XHR9XG5cblx0XHQvLyBSZXF1aXJlIGVpdGhlciBuZXcgY29udGVudCBvciBhbiBpbnRlcmVzdCBpbiBpZ25vcmVkIGVsZW1lbnRzIHRvIGludm9rZSB0aGUgY2FsbGJhY2tcblx0XHRpZiAoIGZpcnN0IHx8IGlnbm9yZWQgKSB7XG5cdFx0XHRzY3JpcHRzID0galF1ZXJ5Lm1hcCggZ2V0QWxsKCBmcmFnbWVudCwgXCJzY3JpcHRcIiApLCBkaXNhYmxlU2NyaXB0ICk7XG5cdFx0XHRoYXNTY3JpcHRzID0gc2NyaXB0cy5sZW5ndGg7XG5cblx0XHRcdC8vIFVzZSB0aGUgb3JpZ2luYWwgZnJhZ21lbnQgZm9yIHRoZSBsYXN0IGl0ZW1cblx0XHRcdC8vIGluc3RlYWQgb2YgdGhlIGZpcnN0IGJlY2F1c2UgaXQgY2FuIGVuZCB1cFxuXHRcdFx0Ly8gYmVpbmcgZW1wdGllZCBpbmNvcnJlY3RseSBpbiBjZXJ0YWluIHNpdHVhdGlvbnMgKCM4MDcwKS5cblx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0bm9kZSA9IGZyYWdtZW50O1xuXG5cdFx0XHRcdGlmICggaSAhPT0gaU5vQ2xvbmUgKSB7XG5cdFx0XHRcdFx0bm9kZSA9IGpRdWVyeS5jbG9uZSggbm9kZSwgdHJ1ZSwgdHJ1ZSApO1xuXG5cdFx0XHRcdFx0Ly8gS2VlcCByZWZlcmVuY2VzIHRvIGNsb25lZCBzY3JpcHRzIGZvciBsYXRlciByZXN0b3JhdGlvblxuXHRcdFx0XHRcdGlmICggaGFzU2NyaXB0cyApIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdFx0XHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIHNjcmlwdHMsIGdldEFsbCggbm9kZSwgXCJzY3JpcHRcIiApICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FsbGJhY2suY2FsbCggY29sbGVjdGlvblsgaSBdLCBub2RlLCBpICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaGFzU2NyaXB0cyApIHtcblx0XHRcdFx0ZG9jID0gc2NyaXB0c1sgc2NyaXB0cy5sZW5ndGggLSAxIF0ub3duZXJEb2N1bWVudDtcblxuXHRcdFx0XHQvLyBSZWVuYWJsZSBzY3JpcHRzXG5cdFx0XHRcdGpRdWVyeS5tYXAoIHNjcmlwdHMsIHJlc3RvcmVTY3JpcHQgKTtcblxuXHRcdFx0XHQvLyBFdmFsdWF0ZSBleGVjdXRhYmxlIHNjcmlwdHMgb24gZmlyc3QgZG9jdW1lbnQgaW5zZXJ0aW9uXG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgaGFzU2NyaXB0czsgaSsrICkge1xuXHRcdFx0XHRcdG5vZGUgPSBzY3JpcHRzWyBpIF07XG5cdFx0XHRcdFx0aWYgKCByc2NyaXB0VHlwZS50ZXN0KCBub2RlLnR5cGUgfHwgXCJcIiApICYmXG5cdFx0XHRcdFx0XHQhZGF0YVByaXYuYWNjZXNzKCBub2RlLCBcImdsb2JhbEV2YWxcIiApICYmXG5cdFx0XHRcdFx0XHRqUXVlcnkuY29udGFpbnMoIGRvYywgbm9kZSApICkge1xuXG5cdFx0XHRcdFx0XHRpZiAoIG5vZGUuc3JjICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIE9wdGlvbmFsIEFKQVggZGVwZW5kZW5jeSwgYnV0IHdvbid0IHJ1biBzY3JpcHRzIGlmIG5vdCBwcmVzZW50XG5cdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5Ll9ldmFsVXJsICkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5fZXZhbFVybCggbm9kZS5zcmMgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0RE9NRXZhbCggbm9kZS50ZXh0Q29udGVudC5yZXBsYWNlKCByY2xlYW5TY3JpcHQsIFwiXCIgKSwgZG9jICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGNvbGxlY3Rpb247XG59XG5cbmZ1bmN0aW9uIHJlbW92ZSggZWxlbSwgc2VsZWN0b3IsIGtlZXBEYXRhICkge1xuXHR2YXIgbm9kZSxcblx0XHRub2RlcyA9IHNlbGVjdG9yID8galF1ZXJ5LmZpbHRlciggc2VsZWN0b3IsIGVsZW0gKSA6IGVsZW0sXG5cdFx0aSA9IDA7XG5cblx0Zm9yICggOyAoIG5vZGUgPSBub2Rlc1sgaSBdICkgIT0gbnVsbDsgaSsrICkge1xuXHRcdGlmICggIWtlZXBEYXRhICYmIG5vZGUubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIG5vZGUgKSApO1xuXHRcdH1cblxuXHRcdGlmICggbm9kZS5wYXJlbnROb2RlICkge1xuXHRcdFx0aWYgKCBrZWVwRGF0YSAmJiBqUXVlcnkuY29udGFpbnMoIG5vZGUub3duZXJEb2N1bWVudCwgbm9kZSApICkge1xuXHRcdFx0XHRzZXRHbG9iYWxFdmFsKCBnZXRBbGwoIG5vZGUsIFwic2NyaXB0XCIgKSApO1xuXHRcdFx0fVxuXHRcdFx0bm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBub2RlICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGVsZW07XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0aHRtbFByZWZpbHRlcjogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0cmV0dXJuIGh0bWwucmVwbGFjZSggcnhodG1sVGFnLCBcIjwkMT48LyQyPlwiICk7XG5cdH0sXG5cblx0Y2xvbmU6IGZ1bmN0aW9uKCBlbGVtLCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHR2YXIgaSwgbCwgc3JjRWxlbWVudHMsIGRlc3RFbGVtZW50cyxcblx0XHRcdGNsb25lID0gZWxlbS5jbG9uZU5vZGUoIHRydWUgKSxcblx0XHRcdGluUGFnZSA9IGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICk7XG5cblx0XHQvLyBGaXggSUUgY2xvbmluZyBpc3N1ZXNcblx0XHRpZiAoICFzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkICYmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBlbGVtLm5vZGVUeXBlID09PSAxMSApICYmXG5cdFx0XHRcdCFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcblxuXHRcdFx0Ly8gV2UgZXNjaGV3IFNpenpsZSBoZXJlIGZvciBwZXJmb3JtYW5jZSByZWFzb25zOiBodHRwczovL2pzcGVyZi5jb20vZ2V0YWxsLXZzLXNpenpsZS8yXG5cdFx0XHRkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lICk7XG5cdFx0XHRzcmNFbGVtZW50cyA9IGdldEFsbCggZWxlbSApO1xuXG5cdFx0XHRmb3IgKCBpID0gMCwgbCA9IHNyY0VsZW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0Zml4SW5wdXQoIHNyY0VsZW1lbnRzWyBpIF0sIGRlc3RFbGVtZW50c1sgaSBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ29weSB0aGUgZXZlbnRzIGZyb20gdGhlIG9yaWdpbmFsIHRvIHRoZSBjbG9uZVxuXHRcdGlmICggZGF0YUFuZEV2ZW50cyApIHtcblx0XHRcdGlmICggZGVlcERhdGFBbmRFdmVudHMgKSB7XG5cdFx0XHRcdHNyY0VsZW1lbnRzID0gc3JjRWxlbWVudHMgfHwgZ2V0QWxsKCBlbGVtICk7XG5cdFx0XHRcdGRlc3RFbGVtZW50cyA9IGRlc3RFbGVtZW50cyB8fCBnZXRBbGwoIGNsb25lICk7XG5cblx0XHRcdFx0Zm9yICggaSA9IDAsIGwgPSBzcmNFbGVtZW50cy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0Y2xvbmVDb3B5RXZlbnQoIHNyY0VsZW1lbnRzWyBpIF0sIGRlc3RFbGVtZW50c1sgaSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNsb25lQ29weUV2ZW50KCBlbGVtLCBjbG9uZSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFByZXNlcnZlIHNjcmlwdCBldmFsdWF0aW9uIGhpc3Rvcnlcblx0XHRkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lLCBcInNjcmlwdFwiICk7XG5cdFx0aWYgKCBkZXN0RWxlbWVudHMubGVuZ3RoID4gMCApIHtcblx0XHRcdHNldEdsb2JhbEV2YWwoIGRlc3RFbGVtZW50cywgIWluUGFnZSAmJiBnZXRBbGwoIGVsZW0sIFwic2NyaXB0XCIgKSApO1xuXHRcdH1cblxuXHRcdC8vIFJldHVybiB0aGUgY2xvbmVkIHNldFxuXHRcdHJldHVybiBjbG9uZTtcblx0fSxcblxuXHRjbGVhbkRhdGE6IGZ1bmN0aW9uKCBlbGVtcyApIHtcblx0XHR2YXIgZGF0YSwgZWxlbSwgdHlwZSxcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbCxcblx0XHRcdGkgPSAwO1xuXG5cdFx0Zm9yICggOyAoIGVsZW0gPSBlbGVtc1sgaSBdICkgIT09IHVuZGVmaW5lZDsgaSsrICkge1xuXHRcdFx0aWYgKCBhY2NlcHREYXRhKCBlbGVtICkgKSB7XG5cdFx0XHRcdGlmICggKCBkYXRhID0gZWxlbVsgZGF0YVByaXYuZXhwYW5kbyBdICkgKSB7XG5cdFx0XHRcdFx0aWYgKCBkYXRhLmV2ZW50cyApIHtcblx0XHRcdFx0XHRcdGZvciAoIHR5cGUgaW4gZGF0YS5ldmVudHMgKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggc3BlY2lhbFsgdHlwZSBdICkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIGVsZW0sIHR5cGUgKTtcblxuXHRcdFx0XHRcdFx0XHQvLyBUaGlzIGlzIGEgc2hvcnRjdXQgdG8gYXZvaWQgalF1ZXJ5LmV2ZW50LnJlbW92ZSdzIG92ZXJoZWFkXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBkYXRhLmhhbmRsZSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NStcblx0XHRcdFx0XHQvLyBBc3NpZ24gdW5kZWZpbmVkIGluc3RlYWQgb2YgdXNpbmcgZGVsZXRlLCBzZWUgRGF0YSNyZW1vdmVcblx0XHRcdFx0XHRlbGVtWyBkYXRhUHJpdi5leHBhbmRvIF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBlbGVtWyBkYXRhVXNlci5leHBhbmRvIF0gKSB7XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1K1xuXHRcdFx0XHRcdC8vIEFzc2lnbiB1bmRlZmluZWQgaW5zdGVhZCBvZiB1c2luZyBkZWxldGUsIHNlZSBEYXRhI3JlbW92ZVxuXHRcdFx0XHRcdGVsZW1bIGRhdGFVc2VyLmV4cGFuZG8gXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGRldGFjaDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiByZW1vdmUoIHRoaXMsIHNlbGVjdG9yLCB0cnVlICk7XG5cdH0sXG5cblx0cmVtb3ZlOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHJlbW92ZSggdGhpcywgc2VsZWN0b3IgKTtcblx0fSxcblxuXHR0ZXh0OiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0cmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRqUXVlcnkudGV4dCggdGhpcyApIDpcblx0XHRcdFx0dGhpcy5lbXB0eSgpLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHRcdFx0dGhpcy50ZXh0Q29udGVudCA9IHZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoICk7XG5cdH0sXG5cblx0YXBwZW5kOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0dmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCggdGhpcywgZWxlbSApO1xuXHRcdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0cHJlcGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdHZhciB0YXJnZXQgPSBtYW5pcHVsYXRpb25UYXJnZXQoIHRoaXMsIGVsZW0gKTtcblx0XHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZSggZWxlbSwgdGFyZ2V0LmZpcnN0Q2hpbGQgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0YmVmb3JlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZWxlbSwgdGhpcyApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRhZnRlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIGVsZW0sIHRoaXMubmV4dFNpYmxpbmcgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0ZW1wdHk6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlbGVtLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRmb3IgKCA7ICggZWxlbSA9IHRoaXNbIGkgXSApICE9IG51bGw7IGkrKyApIHtcblx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblxuXHRcdFx0XHQvLyBQcmV2ZW50IG1lbW9yeSBsZWFrc1xuXHRcdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIGVsZW0sIGZhbHNlICkgKTtcblxuXHRcdFx0XHQvLyBSZW1vdmUgYW55IHJlbWFpbmluZyBub2Rlc1xuXHRcdFx0XHRlbGVtLnRleHRDb250ZW50ID0gXCJcIjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRjbG9uZTogZnVuY3Rpb24oIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICkge1xuXHRcdGRhdGFBbmRFdmVudHMgPSBkYXRhQW5kRXZlbnRzID09IG51bGwgPyBmYWxzZSA6IGRhdGFBbmRFdmVudHM7XG5cdFx0ZGVlcERhdGFBbmRFdmVudHMgPSBkZWVwRGF0YUFuZEV2ZW50cyA9PSBudWxsID8gZGF0YUFuZEV2ZW50cyA6IGRlZXBEYXRhQW5kRXZlbnRzO1xuXG5cdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBqUXVlcnkuY2xvbmUoIHRoaXMsIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICk7XG5cdFx0fSApO1xuXHR9LFxuXG5cdGh0bWw6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgZWxlbSA9IHRoaXNbIDAgXSB8fCB7fSxcblx0XHRcdFx0aSA9IDAsXG5cdFx0XHRcdGwgPSB0aGlzLmxlbmd0aDtcblxuXHRcdFx0aWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtLmlubmVySFRNTDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2VlIGlmIHdlIGNhbiB0YWtlIGEgc2hvcnRjdXQgYW5kIGp1c3QgdXNlIGlubmVySFRNTFxuXHRcdFx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgIXJub0lubmVyaHRtbC50ZXN0KCB2YWx1ZSApICYmXG5cdFx0XHRcdCF3cmFwTWFwWyAoIHJ0YWdOYW1lLmV4ZWMoIHZhbHVlICkgfHwgWyBcIlwiLCBcIlwiIF0gKVsgMSBdLnRvTG93ZXJDYXNlKCkgXSApIHtcblxuXHRcdFx0XHR2YWx1ZSA9IGpRdWVyeS5odG1sUHJlZmlsdGVyKCB2YWx1ZSApO1xuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdFx0ZWxlbSA9IHRoaXNbIGkgXSB8fCB7fTtcblxuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlIGVsZW1lbnQgbm9kZXMgYW5kIHByZXZlbnQgbWVtb3J5IGxlYWtzXG5cdFx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggZWxlbSwgZmFsc2UgKSApO1xuXHRcdFx0XHRcdFx0XHRlbGVtLmlubmVySFRNTCA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVsZW0gPSAwO1xuXG5cdFx0XHRcdC8vIElmIHVzaW5nIGlubmVySFRNTCB0aHJvd3MgYW4gZXhjZXB0aW9uLCB1c2UgdGhlIGZhbGxiYWNrIG1ldGhvZFxuXHRcdFx0XHR9IGNhdGNoICggZSApIHt9XG5cdFx0XHR9XG5cblx0XHRcdGlmICggZWxlbSApIHtcblx0XHRcdFx0dGhpcy5lbXB0eSgpLmFwcGVuZCggdmFsdWUgKTtcblx0XHRcdH1cblx0XHR9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCApO1xuXHR9LFxuXG5cdHJlcGxhY2VXaXRoOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaWdub3JlZCA9IFtdO1xuXG5cdFx0Ly8gTWFrZSB0aGUgY2hhbmdlcywgcmVwbGFjaW5nIGVhY2ggbm9uLWlnbm9yZWQgY29udGV4dCBlbGVtZW50IHdpdGggdGhlIG5ldyBjb250ZW50XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTtcblxuXHRcdFx0aWYgKCBqUXVlcnkuaW5BcnJheSggdGhpcywgaWdub3JlZCApIDwgMCApIHtcblx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCB0aGlzICkgKTtcblx0XHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cdFx0XHRcdFx0cGFyZW50LnJlcGxhY2VDaGlsZCggZWxlbSwgdGhpcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBGb3JjZSBjYWxsYmFjayBpbnZvY2F0aW9uXG5cdFx0fSwgaWdub3JlZCApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5lYWNoKCB7XG5cdGFwcGVuZFRvOiBcImFwcGVuZFwiLFxuXHRwcmVwZW5kVG86IFwicHJlcGVuZFwiLFxuXHRpbnNlcnRCZWZvcmU6IFwiYmVmb3JlXCIsXG5cdGluc2VydEFmdGVyOiBcImFmdGVyXCIsXG5cdHJlcGxhY2VBbGw6IFwicmVwbGFjZVdpdGhcIlxufSwgZnVuY3Rpb24oIG5hbWUsIG9yaWdpbmFsICkge1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR2YXIgZWxlbXMsXG5cdFx0XHRyZXQgPSBbXSxcblx0XHRcdGluc2VydCA9IGpRdWVyeSggc2VsZWN0b3IgKSxcblx0XHRcdGxhc3QgPSBpbnNlcnQubGVuZ3RoIC0gMSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0Zm9yICggOyBpIDw9IGxhc3Q7IGkrKyApIHtcblx0XHRcdGVsZW1zID0gaSA9PT0gbGFzdCA/IHRoaXMgOiB0aGlzLmNsb25lKCB0cnVlICk7XG5cdFx0XHRqUXVlcnkoIGluc2VydFsgaSBdIClbIG9yaWdpbmFsIF0oIGVsZW1zICk7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdFx0Ly8gLmdldCgpIGJlY2F1c2UgcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0cHVzaC5hcHBseSggcmV0LCBlbGVtcy5nZXQoKSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggcmV0ICk7XG5cdH07XG59ICk7XG52YXIgcm1hcmdpbiA9ICggL15tYXJnaW4vICk7XG5cbnZhciBybnVtbm9ucHggPSBuZXcgUmVnRXhwKCBcIl4oXCIgKyBwbnVtICsgXCIpKD8hcHgpW2EteiVdKyRcIiwgXCJpXCIgKTtcblxudmFyIGdldFN0eWxlcyA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5LCBGaXJlZm94IDw9MzAgKCMxNTA5OCwgIzE0MTUwKVxuXHRcdC8vIElFIHRocm93cyBvbiBlbGVtZW50cyBjcmVhdGVkIGluIHBvcHVwc1xuXHRcdC8vIEZGIG1lYW53aGlsZSB0aHJvd3Mgb24gZnJhbWUgZWxlbWVudHMgdGhyb3VnaCBcImRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGVcIlxuXHRcdHZhciB2aWV3ID0gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xuXG5cdFx0aWYgKCAhdmlldyB8fCAhdmlldy5vcGVuZXIgKSB7XG5cdFx0XHR2aWV3ID0gd2luZG93O1xuXHRcdH1cblxuXHRcdHJldHVybiB2aWV3LmdldENvbXB1dGVkU3R5bGUoIGVsZW0gKTtcblx0fTtcblxuXG5cbiggZnVuY3Rpb24oKSB7XG5cblx0Ly8gRXhlY3V0aW5nIGJvdGggcGl4ZWxQb3NpdGlvbiAmIGJveFNpemluZ1JlbGlhYmxlIHRlc3RzIHJlcXVpcmUgb25seSBvbmUgbGF5b3V0XG5cdC8vIHNvIHRoZXkncmUgZXhlY3V0ZWQgYXQgdGhlIHNhbWUgdGltZSB0byBzYXZlIHRoZSBzZWNvbmQgY29tcHV0YXRpb24uXG5cdGZ1bmN0aW9uIGNvbXB1dGVTdHlsZVRlc3RzKCkge1xuXG5cdFx0Ly8gVGhpcyBpcyBhIHNpbmdsZXRvbiwgd2UgbmVlZCB0byBleGVjdXRlIGl0IG9ubHkgb25jZVxuXHRcdGlmICggIWRpdiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRkaXYuc3R5bGUuY3NzVGV4dCA9XG5cdFx0XHRcImJveC1zaXppbmc6Ym9yZGVyLWJveDtcIiArXG5cdFx0XHRcInBvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7XCIgK1xuXHRcdFx0XCJtYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4O1wiICtcblx0XHRcdFwidG9wOjElO3dpZHRoOjUwJVwiO1xuXHRcdGRpdi5pbm5lckhUTUwgPSBcIlwiO1xuXHRcdGRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZCggY29udGFpbmVyICk7XG5cblx0XHR2YXIgZGl2U3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggZGl2ICk7XG5cdFx0cGl4ZWxQb3NpdGlvblZhbCA9IGRpdlN0eWxlLnRvcCAhPT0gXCIxJVwiO1xuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seSwgRmlyZWZveCA8PTMgLSA0NFxuXHRcdHJlbGlhYmxlTWFyZ2luTGVmdFZhbCA9IGRpdlN0eWxlLm1hcmdpbkxlZnQgPT09IFwiMnB4XCI7XG5cdFx0Ym94U2l6aW5nUmVsaWFibGVWYWwgPSBkaXZTdHlsZS53aWR0aCA9PT0gXCI0cHhcIjtcblxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHlcblx0XHQvLyBTb21lIHN0eWxlcyBjb21lIGJhY2sgd2l0aCBwZXJjZW50YWdlIHZhbHVlcywgZXZlbiB0aG91Z2ggdGhleSBzaG91bGRuJ3Rcblx0XHRkaXYuc3R5bGUubWFyZ2luUmlnaHQgPSBcIjUwJVwiO1xuXHRcdHBpeGVsTWFyZ2luUmlnaHRWYWwgPSBkaXZTdHlsZS5tYXJnaW5SaWdodCA9PT0gXCI0cHhcIjtcblxuXHRcdGRvY3VtZW50RWxlbWVudC5yZW1vdmVDaGlsZCggY29udGFpbmVyICk7XG5cblx0XHQvLyBOdWxsaWZ5IHRoZSBkaXYgc28gaXQgd291bGRuJ3QgYmUgc3RvcmVkIGluIHRoZSBtZW1vcnkgYW5kXG5cdFx0Ly8gaXQgd2lsbCBhbHNvIGJlIGEgc2lnbiB0aGF0IGNoZWNrcyBhbHJlYWR5IHBlcmZvcm1lZFxuXHRcdGRpdiA9IG51bGw7XG5cdH1cblxuXHR2YXIgcGl4ZWxQb3NpdGlvblZhbCwgYm94U2l6aW5nUmVsaWFibGVWYWwsIHBpeGVsTWFyZ2luUmlnaHRWYWwsIHJlbGlhYmxlTWFyZ2luTGVmdFZhbCxcblx0XHRjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICksXG5cdFx0ZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xuXG5cdC8vIEZpbmlzaCBlYXJseSBpbiBsaW1pdGVkIChub24tYnJvd3NlcikgZW52aXJvbm1lbnRzXG5cdGlmICggIWRpdi5zdHlsZSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG5cdC8vIFN0eWxlIG9mIGNsb25lZCBlbGVtZW50IGFmZmVjdHMgc291cmNlIGVsZW1lbnQgY2xvbmVkICgjODkwOClcblx0ZGl2LnN0eWxlLmJhY2tncm91bmRDbGlwID0gXCJjb250ZW50LWJveFwiO1xuXHRkaXYuY2xvbmVOb2RlKCB0cnVlICkuc3R5bGUuYmFja2dyb3VuZENsaXAgPSBcIlwiO1xuXHRzdXBwb3J0LmNsZWFyQ2xvbmVTdHlsZSA9IGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9PT0gXCJjb250ZW50LWJveFwiO1xuXG5cdGNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gXCJib3JkZXI6MDt3aWR0aDo4cHg7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4O1wiICtcblx0XHRcInBhZGRpbmc6MDttYXJnaW4tdG9wOjFweDtwb3NpdGlvbjphYnNvbHV0ZVwiO1xuXHRjb250YWluZXIuYXBwZW5kQ2hpbGQoIGRpdiApO1xuXG5cdGpRdWVyeS5leHRlbmQoIHN1cHBvcnQsIHtcblx0XHRwaXhlbFBvc2l0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gcGl4ZWxQb3NpdGlvblZhbDtcblx0XHR9LFxuXHRcdGJveFNpemluZ1JlbGlhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gYm94U2l6aW5nUmVsaWFibGVWYWw7XG5cdFx0fSxcblx0XHRwaXhlbE1hcmdpblJpZ2h0OiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gcGl4ZWxNYXJnaW5SaWdodFZhbDtcblx0XHR9LFxuXHRcdHJlbGlhYmxlTWFyZ2luTGVmdDogZnVuY3Rpb24oKSB7XG5cdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0cmV0dXJuIHJlbGlhYmxlTWFyZ2luTGVmdFZhbDtcblx0XHR9XG5cdH0gKTtcbn0gKSgpO1xuXG5cbmZ1bmN0aW9uIGN1ckNTUyggZWxlbSwgbmFtZSwgY29tcHV0ZWQgKSB7XG5cdHZhciB3aWR0aCwgbWluV2lkdGgsIG1heFdpZHRoLCByZXQsXG5cdFx0c3R5bGUgPSBlbGVtLnN0eWxlO1xuXG5cdGNvbXB1dGVkID0gY29tcHV0ZWQgfHwgZ2V0U3R5bGVzKCBlbGVtICk7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0Ly8gZ2V0UHJvcGVydHlWYWx1ZSBpcyBvbmx5IG5lZWRlZCBmb3IgLmNzcygnZmlsdGVyJykgKCMxMjUzNylcblx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRyZXQgPSBjb21wdXRlZC5nZXRQcm9wZXJ0eVZhbHVlKCBuYW1lICkgfHwgY29tcHV0ZWRbIG5hbWUgXTtcblxuXHRcdGlmICggcmV0ID09PSBcIlwiICYmICFqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApICkge1xuXHRcdFx0cmV0ID0galF1ZXJ5LnN0eWxlKCBlbGVtLCBuYW1lICk7XG5cdFx0fVxuXG5cdFx0Ly8gQSB0cmlidXRlIHRvIHRoZSBcImF3ZXNvbWUgaGFjayBieSBEZWFuIEVkd2FyZHNcIlxuXHRcdC8vIEFuZHJvaWQgQnJvd3NlciByZXR1cm5zIHBlcmNlbnRhZ2UgZm9yIHNvbWUgdmFsdWVzLFxuXHRcdC8vIGJ1dCB3aWR0aCBzZWVtcyB0byBiZSByZWxpYWJseSBwaXhlbHMuXG5cdFx0Ly8gVGhpcyBpcyBhZ2FpbnN0IHRoZSBDU1NPTSBkcmFmdCBzcGVjOlxuXHRcdC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jcmVzb2x2ZWQtdmFsdWVzXG5cdFx0aWYgKCAhc3VwcG9ydC5waXhlbE1hcmdpblJpZ2h0KCkgJiYgcm51bW5vbnB4LnRlc3QoIHJldCApICYmIHJtYXJnaW4udGVzdCggbmFtZSApICkge1xuXG5cdFx0XHQvLyBSZW1lbWJlciB0aGUgb3JpZ2luYWwgdmFsdWVzXG5cdFx0XHR3aWR0aCA9IHN0eWxlLndpZHRoO1xuXHRcdFx0bWluV2lkdGggPSBzdHlsZS5taW5XaWR0aDtcblx0XHRcdG1heFdpZHRoID0gc3R5bGUubWF4V2lkdGg7XG5cblx0XHRcdC8vIFB1dCBpbiB0aGUgbmV3IHZhbHVlcyB0byBnZXQgYSBjb21wdXRlZCB2YWx1ZSBvdXRcblx0XHRcdHN0eWxlLm1pbldpZHRoID0gc3R5bGUubWF4V2lkdGggPSBzdHlsZS53aWR0aCA9IHJldDtcblx0XHRcdHJldCA9IGNvbXB1dGVkLndpZHRoO1xuXG5cdFx0XHQvLyBSZXZlcnQgdGhlIGNoYW5nZWQgdmFsdWVzXG5cdFx0XHRzdHlsZS53aWR0aCA9IHdpZHRoO1xuXHRcdFx0c3R5bGUubWluV2lkdGggPSBtaW5XaWR0aDtcblx0XHRcdHN0eWxlLm1heFdpZHRoID0gbWF4V2lkdGg7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJldCAhPT0gdW5kZWZpbmVkID9cblxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0XHQvLyBJRSByZXR1cm5zIHpJbmRleCB2YWx1ZSBhcyBhbiBpbnRlZ2VyLlxuXHRcdHJldCArIFwiXCIgOlxuXHRcdHJldDtcbn1cblxuXG5mdW5jdGlvbiBhZGRHZXRIb29rSWYoIGNvbmRpdGlvbkZuLCBob29rRm4gKSB7XG5cblx0Ly8gRGVmaW5lIHRoZSBob29rLCB3ZSdsbCBjaGVjayBvbiB0aGUgZmlyc3QgcnVuIGlmIGl0J3MgcmVhbGx5IG5lZWRlZC5cblx0cmV0dXJuIHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBjb25kaXRpb25GbigpICkge1xuXG5cdFx0XHRcdC8vIEhvb2sgbm90IG5lZWRlZCAob3IgaXQncyBub3QgcG9zc2libGUgdG8gdXNlIGl0IGR1ZVxuXHRcdFx0XHQvLyB0byBtaXNzaW5nIGRlcGVuZGVuY3kpLCByZW1vdmUgaXQuXG5cdFx0XHRcdGRlbGV0ZSB0aGlzLmdldDtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBIb29rIG5lZWRlZDsgcmVkZWZpbmUgaXQgc28gdGhhdCB0aGUgc3VwcG9ydCB0ZXN0IGlzIG5vdCBleGVjdXRlZCBhZ2Fpbi5cblx0XHRcdHJldHVybiAoIHRoaXMuZ2V0ID0gaG9va0ZuICkuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0fTtcbn1cblxuXG52YXJcblxuXHQvLyBTd2FwcGFibGUgaWYgZGlzcGxheSBpcyBub25lIG9yIHN0YXJ0cyB3aXRoIHRhYmxlXG5cdC8vIGV4Y2VwdCBcInRhYmxlXCIsIFwidGFibGUtY2VsbFwiLCBvciBcInRhYmxlLWNhcHRpb25cIlxuXHQvLyBTZWUgaGVyZSBmb3IgZGlzcGxheSB2YWx1ZXM6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvQ1NTL2Rpc3BsYXlcblx0cmRpc3BsYXlzd2FwID0gL14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFxuXHRjc3NTaG93ID0geyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCB2aXNpYmlsaXR5OiBcImhpZGRlblwiLCBkaXNwbGF5OiBcImJsb2NrXCIgfSxcblx0Y3NzTm9ybWFsVHJhbnNmb3JtID0ge1xuXHRcdGxldHRlclNwYWNpbmc6IFwiMFwiLFxuXHRcdGZvbnRXZWlnaHQ6IFwiNDAwXCJcblx0fSxcblxuXHRjc3NQcmVmaXhlcyA9IFsgXCJXZWJraXRcIiwgXCJNb3pcIiwgXCJtc1wiIF0sXG5cdGVtcHR5U3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkuc3R5bGU7XG5cbi8vIFJldHVybiBhIGNzcyBwcm9wZXJ0eSBtYXBwZWQgdG8gYSBwb3RlbnRpYWxseSB2ZW5kb3IgcHJlZml4ZWQgcHJvcGVydHlcbmZ1bmN0aW9uIHZlbmRvclByb3BOYW1lKCBuYW1lICkge1xuXG5cdC8vIFNob3J0Y3V0IGZvciBuYW1lcyB0aGF0IGFyZSBub3QgdmVuZG9yIHByZWZpeGVkXG5cdGlmICggbmFtZSBpbiBlbXB0eVN0eWxlICkge1xuXHRcdHJldHVybiBuYW1lO1xuXHR9XG5cblx0Ly8gQ2hlY2sgZm9yIHZlbmRvciBwcmVmaXhlZCBuYW1lc1xuXHR2YXIgY2FwTmFtZSA9IG5hbWVbIDAgXS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSggMSApLFxuXHRcdGkgPSBjc3NQcmVmaXhlcy5sZW5ndGg7XG5cblx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0bmFtZSA9IGNzc1ByZWZpeGVzWyBpIF0gKyBjYXBOYW1lO1xuXHRcdGlmICggbmFtZSBpbiBlbXB0eVN0eWxlICkge1xuXHRcdFx0cmV0dXJuIG5hbWU7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIHNldFBvc2l0aXZlTnVtYmVyKCBlbGVtLCB2YWx1ZSwgc3VidHJhY3QgKSB7XG5cblx0Ly8gQW55IHJlbGF0aXZlICgrLy0pIHZhbHVlcyBoYXZlIGFscmVhZHkgYmVlblxuXHQvLyBub3JtYWxpemVkIGF0IHRoaXMgcG9pbnRcblx0dmFyIG1hdGNoZXMgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICk7XG5cdHJldHVybiBtYXRjaGVzID9cblxuXHRcdC8vIEd1YXJkIGFnYWluc3QgdW5kZWZpbmVkIFwic3VidHJhY3RcIiwgZS5nLiwgd2hlbiB1c2VkIGFzIGluIGNzc0hvb2tzXG5cdFx0TWF0aC5tYXgoIDAsIG1hdGNoZXNbIDIgXSAtICggc3VidHJhY3QgfHwgMCApICkgKyAoIG1hdGNoZXNbIDMgXSB8fCBcInB4XCIgKSA6XG5cdFx0dmFsdWU7XG59XG5cbmZ1bmN0aW9uIGF1Z21lbnRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSwgaXNCb3JkZXJCb3gsIHN0eWxlcyApIHtcblx0dmFyIGkgPSBleHRyYSA9PT0gKCBpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIiApID9cblxuXHRcdC8vIElmIHdlIGFscmVhZHkgaGF2ZSB0aGUgcmlnaHQgbWVhc3VyZW1lbnQsIGF2b2lkIGF1Z21lbnRhdGlvblxuXHRcdDQgOlxuXG5cdFx0Ly8gT3RoZXJ3aXNlIGluaXRpYWxpemUgZm9yIGhvcml6b250YWwgb3IgdmVydGljYWwgcHJvcGVydGllc1xuXHRcdG5hbWUgPT09IFwid2lkdGhcIiA/IDEgOiAwLFxuXG5cdFx0dmFsID0gMDtcblxuXHRmb3IgKCA7IGkgPCA0OyBpICs9IDIgKSB7XG5cblx0XHQvLyBCb3RoIGJveCBtb2RlbHMgZXhjbHVkZSBtYXJnaW4sIHNvIGFkZCBpdCBpZiB3ZSB3YW50IGl0XG5cdFx0aWYgKCBleHRyYSA9PT0gXCJtYXJnaW5cIiApIHtcblx0XHRcdHZhbCArPSBqUXVlcnkuY3NzKCBlbGVtLCBleHRyYSArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcblx0XHR9XG5cblx0XHRpZiAoIGlzQm9yZGVyQm94ICkge1xuXG5cdFx0XHQvLyBib3JkZXItYm94IGluY2x1ZGVzIHBhZGRpbmcsIHNvIHJlbW92ZSBpdCBpZiB3ZSB3YW50IGNvbnRlbnRcblx0XHRcdGlmICggZXh0cmEgPT09IFwiY29udGVudFwiICkge1xuXHRcdFx0XHR2YWwgLT0galF1ZXJ5LmNzcyggZWxlbSwgXCJwYWRkaW5nXCIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEF0IHRoaXMgcG9pbnQsIGV4dHJhIGlzbid0IGJvcmRlciBub3IgbWFyZ2luLCBzbyByZW1vdmUgYm9yZGVyXG5cdFx0XHRpZiAoIGV4dHJhICE9PSBcIm1hcmdpblwiICkge1xuXHRcdFx0XHR2YWwgLT0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3JkZXJcIiArIGNzc0V4cGFuZFsgaSBdICsgXCJXaWR0aFwiLCB0cnVlLCBzdHlsZXMgKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBBdCB0aGlzIHBvaW50LCBleHRyYSBpc24ndCBjb250ZW50LCBzbyBhZGQgcGFkZGluZ1xuXHRcdFx0dmFsICs9IGpRdWVyeS5jc3MoIGVsZW0sIFwicGFkZGluZ1wiICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApO1xuXG5cdFx0XHQvLyBBdCB0aGlzIHBvaW50LCBleHRyYSBpc24ndCBjb250ZW50IG5vciBwYWRkaW5nLCBzbyBhZGQgYm9yZGVyXG5cdFx0XHRpZiAoIGV4dHJhICE9PSBcInBhZGRpbmdcIiApIHtcblx0XHRcdFx0dmFsICs9IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm9yZGVyXCIgKyBjc3NFeHBhbmRbIGkgXSArIFwiV2lkdGhcIiwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHZhbDtcbn1cblxuZnVuY3Rpb24gZ2V0V2lkdGhPckhlaWdodCggZWxlbSwgbmFtZSwgZXh0cmEgKSB7XG5cblx0Ly8gU3RhcnQgd2l0aCBvZmZzZXQgcHJvcGVydHksIHdoaWNoIGlzIGVxdWl2YWxlbnQgdG8gdGhlIGJvcmRlci1ib3ggdmFsdWVcblx0dmFyIHZhbCxcblx0XHR2YWx1ZUlzQm9yZGVyQm94ID0gdHJ1ZSxcblx0XHRzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKSxcblx0XHRpc0JvcmRlckJveCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm94U2l6aW5nXCIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gXCJib3JkZXItYm94XCI7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdC8vIFJ1bm5pbmcgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IG9uIGEgZGlzY29ubmVjdGVkIG5vZGVcblx0Ly8gaW4gSUUgdGhyb3dzIGFuIGVycm9yLlxuXHRpZiAoIGVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKSB7XG5cdFx0dmFsID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVsgbmFtZSBdO1xuXHR9XG5cblx0Ly8gU29tZSBub24taHRtbCBlbGVtZW50cyByZXR1cm4gdW5kZWZpbmVkIGZvciBvZmZzZXRXaWR0aCwgc28gY2hlY2sgZm9yIG51bGwvdW5kZWZpbmVkXG5cdC8vIHN2ZyAtIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY0OTI4NVxuXHQvLyBNYXRoTUwgLSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD00OTE2Njhcblx0aWYgKCB2YWwgPD0gMCB8fCB2YWwgPT0gbnVsbCApIHtcblxuXHRcdC8vIEZhbGwgYmFjayB0byBjb21wdXRlZCB0aGVuIHVuY29tcHV0ZWQgY3NzIGlmIG5lY2Vzc2FyeVxuXHRcdHZhbCA9IGN1ckNTUyggZWxlbSwgbmFtZSwgc3R5bGVzICk7XG5cdFx0aWYgKCB2YWwgPCAwIHx8IHZhbCA9PSBudWxsICkge1xuXHRcdFx0dmFsID0gZWxlbS5zdHlsZVsgbmFtZSBdO1xuXHRcdH1cblxuXHRcdC8vIENvbXB1dGVkIHVuaXQgaXMgbm90IHBpeGVscy4gU3RvcCBoZXJlIGFuZCByZXR1cm4uXG5cdFx0aWYgKCBybnVtbm9ucHgudGVzdCggdmFsICkgKSB7XG5cdFx0XHRyZXR1cm4gdmFsO1xuXHRcdH1cblxuXHRcdC8vIENoZWNrIGZvciBzdHlsZSBpbiBjYXNlIGEgYnJvd3NlciB3aGljaCByZXR1cm5zIHVucmVsaWFibGUgdmFsdWVzXG5cdFx0Ly8gZm9yIGdldENvbXB1dGVkU3R5bGUgc2lsZW50bHkgZmFsbHMgYmFjayB0byB0aGUgcmVsaWFibGUgZWxlbS5zdHlsZVxuXHRcdHZhbHVlSXNCb3JkZXJCb3ggPSBpc0JvcmRlckJveCAmJlxuXHRcdFx0KCBzdXBwb3J0LmJveFNpemluZ1JlbGlhYmxlKCkgfHwgdmFsID09PSBlbGVtLnN0eWxlWyBuYW1lIF0gKTtcblxuXHRcdC8vIE5vcm1hbGl6ZSBcIlwiLCBhdXRvLCBhbmQgcHJlcGFyZSBmb3IgZXh0cmFcblx0XHR2YWwgPSBwYXJzZUZsb2F0KCB2YWwgKSB8fCAwO1xuXHR9XG5cblx0Ly8gVXNlIHRoZSBhY3RpdmUgYm94LXNpemluZyBtb2RlbCB0byBhZGQvc3VidHJhY3QgaXJyZWxldmFudCBzdHlsZXNcblx0cmV0dXJuICggdmFsICtcblx0XHRhdWdtZW50V2lkdGhPckhlaWdodChcblx0XHRcdGVsZW0sXG5cdFx0XHRuYW1lLFxuXHRcdFx0ZXh0cmEgfHwgKCBpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIiApLFxuXHRcdFx0dmFsdWVJc0JvcmRlckJveCxcblx0XHRcdHN0eWxlc1xuXHRcdClcblx0KSArIFwicHhcIjtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdC8vIEFkZCBpbiBzdHlsZSBwcm9wZXJ0eSBob29rcyBmb3Igb3ZlcnJpZGluZyB0aGUgZGVmYXVsdFxuXHQvLyBiZWhhdmlvciBvZiBnZXR0aW5nIGFuZCBzZXR0aW5nIGEgc3R5bGUgcHJvcGVydHlcblx0Y3NzSG9va3M6IHtcblx0XHRvcGFjaXR5OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblxuXHRcdFx0XHRcdC8vIFdlIHNob3VsZCBhbHdheXMgZ2V0IGEgbnVtYmVyIGJhY2sgZnJvbSBvcGFjaXR5XG5cdFx0XHRcdFx0dmFyIHJldCA9IGN1ckNTUyggZWxlbSwgXCJvcGFjaXR5XCIgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmV0ID09PSBcIlwiID8gXCIxXCIgOiByZXQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0Ly8gRG9uJ3QgYXV0b21hdGljYWxseSBhZGQgXCJweFwiIHRvIHRoZXNlIHBvc3NpYmx5LXVuaXRsZXNzIHByb3BlcnRpZXNcblx0Y3NzTnVtYmVyOiB7XG5cdFx0XCJhbmltYXRpb25JdGVyYXRpb25Db3VudFwiOiB0cnVlLFxuXHRcdFwiY29sdW1uQ291bnRcIjogdHJ1ZSxcblx0XHRcImZpbGxPcGFjaXR5XCI6IHRydWUsXG5cdFx0XCJmbGV4R3Jvd1wiOiB0cnVlLFxuXHRcdFwiZmxleFNocmlua1wiOiB0cnVlLFxuXHRcdFwiZm9udFdlaWdodFwiOiB0cnVlLFxuXHRcdFwibGluZUhlaWdodFwiOiB0cnVlLFxuXHRcdFwib3BhY2l0eVwiOiB0cnVlLFxuXHRcdFwib3JkZXJcIjogdHJ1ZSxcblx0XHRcIm9ycGhhbnNcIjogdHJ1ZSxcblx0XHRcIndpZG93c1wiOiB0cnVlLFxuXHRcdFwiekluZGV4XCI6IHRydWUsXG5cdFx0XCJ6b29tXCI6IHRydWVcblx0fSxcblxuXHQvLyBBZGQgaW4gcHJvcGVydGllcyB3aG9zZSBuYW1lcyB5b3Ugd2lzaCB0byBmaXggYmVmb3JlXG5cdC8vIHNldHRpbmcgb3IgZ2V0dGluZyB0aGUgdmFsdWVcblx0Y3NzUHJvcHM6IHtcblx0XHRcImZsb2F0XCI6IFwiY3NzRmxvYXRcIlxuXHR9LFxuXG5cdC8vIEdldCBhbmQgc2V0IHRoZSBzdHlsZSBwcm9wZXJ0eSBvbiBhIERPTSBOb2RlXG5cdHN0eWxlOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUsIGV4dHJhICkge1xuXG5cdFx0Ly8gRG9uJ3Qgc2V0IHN0eWxlcyBvbiB0ZXh0IGFuZCBjb21tZW50IG5vZGVzXG5cdFx0aWYgKCAhZWxlbSB8fCBlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggfHwgIWVsZW0uc3R5bGUgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lXG5cdFx0dmFyIHJldCwgdHlwZSwgaG9va3MsXG5cdFx0XHRvcmlnTmFtZSA9IGpRdWVyeS5jYW1lbENhc2UoIG5hbWUgKSxcblx0XHRcdHN0eWxlID0gZWxlbS5zdHlsZTtcblxuXHRcdG5hbWUgPSBqUXVlcnkuY3NzUHJvcHNbIG9yaWdOYW1lIF0gfHxcblx0XHRcdCggalF1ZXJ5LmNzc1Byb3BzWyBvcmlnTmFtZSBdID0gdmVuZG9yUHJvcE5hbWUoIG9yaWdOYW1lICkgfHwgb3JpZ05hbWUgKTtcblxuXHRcdC8vIEdldHMgaG9vayBmb3IgdGhlIHByZWZpeGVkIHZlcnNpb24sIHRoZW4gdW5wcmVmaXhlZCB2ZXJzaW9uXG5cdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXSB8fCBqUXVlcnkuY3NzSG9va3NbIG9yaWdOYW1lIF07XG5cblx0XHQvLyBDaGVjayBpZiB3ZSdyZSBzZXR0aW5nIGEgdmFsdWVcblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR0eXBlID0gdHlwZW9mIHZhbHVlO1xuXG5cdFx0XHQvLyBDb252ZXJ0IFwiKz1cIiBvciBcIi09XCIgdG8gcmVsYXRpdmUgbnVtYmVycyAoIzczNDUpXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwic3RyaW5nXCIgJiYgKCByZXQgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICkgKSAmJiByZXRbIDEgXSApIHtcblx0XHRcdFx0dmFsdWUgPSBhZGp1c3RDU1MoIGVsZW0sIG5hbWUsIHJldCApO1xuXG5cdFx0XHRcdC8vIEZpeGVzIGJ1ZyAjOTIzN1xuXHRcdFx0XHR0eXBlID0gXCJudW1iZXJcIjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTWFrZSBzdXJlIHRoYXQgbnVsbCBhbmQgTmFOIHZhbHVlcyBhcmVuJ3Qgc2V0ICgjNzExNilcblx0XHRcdGlmICggdmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSAhPT0gdmFsdWUgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgYSBudW1iZXIgd2FzIHBhc3NlZCBpbiwgYWRkIHRoZSB1bml0IChleGNlcHQgZm9yIGNlcnRhaW4gQ1NTIHByb3BlcnRpZXMpXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdHZhbHVlICs9IHJldCAmJiByZXRbIDMgXSB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIG9yaWdOYW1lIF0gPyBcIlwiIDogXCJweFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGJhY2tncm91bmQtKiBwcm9wcyBhZmZlY3Qgb3JpZ2luYWwgY2xvbmUncyB2YWx1ZXNcblx0XHRcdGlmICggIXN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlICYmIHZhbHVlID09PSBcIlwiICYmIG5hbWUuaW5kZXhPZiggXCJiYWNrZ3JvdW5kXCIgKSA9PT0gMCApIHtcblx0XHRcdFx0c3R5bGVbIG5hbWUgXSA9IFwiaW5oZXJpdFwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkLCB1c2UgdGhhdCB2YWx1ZSwgb3RoZXJ3aXNlIGp1c3Qgc2V0IHRoZSBzcGVjaWZpZWQgdmFsdWVcblx0XHRcdGlmICggIWhvb2tzIHx8ICEoIFwic2V0XCIgaW4gaG9va3MgKSB8fFxuXHRcdFx0XHQoIHZhbHVlID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgZXh0cmEgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0c3R5bGVbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIG5vbi1jb21wdXRlZCB2YWx1ZSBmcm9tIHRoZXJlXG5cdFx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0KCByZXQgPSBob29rcy5nZXQoIGVsZW0sIGZhbHNlLCBleHRyYSApICkgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBPdGhlcndpc2UganVzdCBnZXQgdGhlIHZhbHVlIGZyb20gdGhlIHN0eWxlIG9iamVjdFxuXHRcdFx0cmV0dXJuIHN0eWxlWyBuYW1lIF07XG5cdFx0fVxuXHR9LFxuXG5cdGNzczogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGV4dHJhLCBzdHlsZXMgKSB7XG5cdFx0dmFyIHZhbCwgbnVtLCBob29rcyxcblx0XHRcdG9yaWdOYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZSApO1xuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lXG5cdFx0bmFtZSA9IGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSB8fFxuXHRcdFx0KCBqUXVlcnkuY3NzUHJvcHNbIG9yaWdOYW1lIF0gPSB2ZW5kb3JQcm9wTmFtZSggb3JpZ05hbWUgKSB8fCBvcmlnTmFtZSApO1xuXG5cdFx0Ly8gVHJ5IHByZWZpeGVkIG5hbWUgZm9sbG93ZWQgYnkgdGhlIHVucHJlZml4ZWQgbmFtZVxuXHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gfHwgalF1ZXJ5LmNzc0hvb2tzWyBvcmlnTmFtZSBdO1xuXG5cdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIGNvbXB1dGVkIHZhbHVlIGZyb20gdGhlcmVcblx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgKSB7XG5cdFx0XHR2YWwgPSBob29rcy5nZXQoIGVsZW0sIHRydWUsIGV4dHJhICk7XG5cdFx0fVxuXG5cdFx0Ly8gT3RoZXJ3aXNlLCBpZiBhIHdheSB0byBnZXQgdGhlIGNvbXB1dGVkIHZhbHVlIGV4aXN0cywgdXNlIHRoYXRcblx0XHRpZiAoIHZhbCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0dmFsID0gY3VyQ1NTKCBlbGVtLCBuYW1lLCBzdHlsZXMgKTtcblx0XHR9XG5cblx0XHQvLyBDb252ZXJ0IFwibm9ybWFsXCIgdG8gY29tcHV0ZWQgdmFsdWVcblx0XHRpZiAoIHZhbCA9PT0gXCJub3JtYWxcIiAmJiBuYW1lIGluIGNzc05vcm1hbFRyYW5zZm9ybSApIHtcblx0XHRcdHZhbCA9IGNzc05vcm1hbFRyYW5zZm9ybVsgbmFtZSBdO1xuXHRcdH1cblxuXHRcdC8vIE1ha2UgbnVtZXJpYyBpZiBmb3JjZWQgb3IgYSBxdWFsaWZpZXIgd2FzIHByb3ZpZGVkIGFuZCB2YWwgbG9va3MgbnVtZXJpY1xuXHRcdGlmICggZXh0cmEgPT09IFwiXCIgfHwgZXh0cmEgKSB7XG5cdFx0XHRudW0gPSBwYXJzZUZsb2F0KCB2YWwgKTtcblx0XHRcdHJldHVybiBleHRyYSA9PT0gdHJ1ZSB8fCBpc0Zpbml0ZSggbnVtICkgPyBudW0gfHwgMCA6IHZhbDtcblx0XHR9XG5cdFx0cmV0dXJuIHZhbDtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCggWyBcImhlaWdodFwiLCBcIndpZHRoXCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdID0ge1xuXHRcdGdldDogZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkLCBleHRyYSApIHtcblx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cblx0XHRcdFx0Ly8gQ2VydGFpbiBlbGVtZW50cyBjYW4gaGF2ZSBkaW1lbnNpb24gaW5mbyBpZiB3ZSBpbnZpc2libHkgc2hvdyB0aGVtXG5cdFx0XHRcdC8vIGJ1dCBpdCBtdXN0IGhhdmUgYSBjdXJyZW50IGRpc3BsYXkgc3R5bGUgdGhhdCB3b3VsZCBiZW5lZml0XG5cdFx0XHRcdHJldHVybiByZGlzcGxheXN3YXAudGVzdCggalF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSApICYmXG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBTYWZhcmkgOCtcblx0XHRcdFx0XHQvLyBUYWJsZSBjb2x1bW5zIGluIFNhZmFyaSBoYXZlIG5vbi16ZXJvIG9mZnNldFdpZHRoICYgemVyb1xuXHRcdFx0XHRcdC8vIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIHVubGVzcyBkaXNwbGF5IGlzIGNoYW5nZWQuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdFx0XHRcdFx0Ly8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYSBkaXNjb25uZWN0ZWQgbm9kZVxuXHRcdFx0XHRcdC8vIGluIElFIHRocm93cyBhbiBlcnJvci5cblx0XHRcdFx0XHQoICFlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoIHx8ICFlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICkgP1xuXHRcdFx0XHRcdFx0c3dhcCggZWxlbSwgY3NzU2hvdywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSApO1xuXHRcdFx0XHRcdFx0fSApIDpcblx0XHRcdFx0XHRcdGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIG5hbWUsIGV4dHJhICk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBleHRyYSApIHtcblx0XHRcdHZhciBtYXRjaGVzLFxuXHRcdFx0XHRzdHlsZXMgPSBleHRyYSAmJiBnZXRTdHlsZXMoIGVsZW0gKSxcblx0XHRcdFx0c3VidHJhY3QgPSBleHRyYSAmJiBhdWdtZW50V2lkdGhPckhlaWdodChcblx0XHRcdFx0XHRlbGVtLFxuXHRcdFx0XHRcdG5hbWUsXG5cdFx0XHRcdFx0ZXh0cmEsXG5cdFx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIixcblx0XHRcdFx0XHRzdHlsZXNcblx0XHRcdFx0KTtcblxuXHRcdFx0Ly8gQ29udmVydCB0byBwaXhlbHMgaWYgdmFsdWUgYWRqdXN0bWVudCBpcyBuZWVkZWRcblx0XHRcdGlmICggc3VidHJhY3QgJiYgKCBtYXRjaGVzID0gcmNzc051bS5leGVjKCB2YWx1ZSApICkgJiZcblx0XHRcdFx0KCBtYXRjaGVzWyAzIF0gfHwgXCJweFwiICkgIT09IFwicHhcIiApIHtcblxuXHRcdFx0XHRlbGVtLnN0eWxlWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdFx0dmFsdWUgPSBqUXVlcnkuY3NzKCBlbGVtLCBuYW1lICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBzZXRQb3NpdGl2ZU51bWJlciggZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICk7XG5cdFx0fVxuXHR9O1xufSApO1xuXG5qUXVlcnkuY3NzSG9va3MubWFyZ2luTGVmdCA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5yZWxpYWJsZU1hcmdpbkxlZnQsXG5cdGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRpZiAoIGNvbXB1dGVkICkge1xuXHRcdFx0cmV0dXJuICggcGFyc2VGbG9hdCggY3VyQ1NTKCBlbGVtLCBcIm1hcmdpbkxlZnRcIiApICkgfHxcblx0XHRcdFx0ZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC1cblx0XHRcdFx0XHRzd2FwKCBlbGVtLCB7IG1hcmdpbkxlZnQ6IDAgfSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuXHRcdFx0XHRcdH0gKVxuXHRcdFx0XHQpICsgXCJweFwiO1xuXHRcdH1cblx0fVxuKTtcblxuLy8gVGhlc2UgaG9va3MgYXJlIHVzZWQgYnkgYW5pbWF0ZSB0byBleHBhbmQgcHJvcGVydGllc1xualF1ZXJ5LmVhY2goIHtcblx0bWFyZ2luOiBcIlwiLFxuXHRwYWRkaW5nOiBcIlwiLFxuXHRib3JkZXI6IFwiV2lkdGhcIlxufSwgZnVuY3Rpb24oIHByZWZpeCwgc3VmZml4ICkge1xuXHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdID0ge1xuXHRcdGV4cGFuZDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGkgPSAwLFxuXHRcdFx0XHRleHBhbmRlZCA9IHt9LFxuXG5cdFx0XHRcdC8vIEFzc3VtZXMgYSBzaW5nbGUgbnVtYmVyIGlmIG5vdCBhIHN0cmluZ1xuXHRcdFx0XHRwYXJ0cyA9IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlLnNwbGl0KCBcIiBcIiApIDogWyB2YWx1ZSBdO1xuXG5cdFx0XHRmb3IgKCA7IGkgPCA0OyBpKysgKSB7XG5cdFx0XHRcdGV4cGFuZGVkWyBwcmVmaXggKyBjc3NFeHBhbmRbIGkgXSArIHN1ZmZpeCBdID1cblx0XHRcdFx0XHRwYXJ0c1sgaSBdIHx8IHBhcnRzWyBpIC0gMiBdIHx8IHBhcnRzWyAwIF07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBleHBhbmRlZDtcblx0XHR9XG5cdH07XG5cblx0aWYgKCAhcm1hcmdpbi50ZXN0KCBwcmVmaXggKSApIHtcblx0XHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdLnNldCA9IHNldFBvc2l0aXZlTnVtYmVyO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0Y3NzOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdFx0dmFyIHN0eWxlcywgbGVuLFxuXHRcdFx0XHRtYXAgPSB7fSxcblx0XHRcdFx0aSA9IDA7XG5cblx0XHRcdGlmICggalF1ZXJ5LmlzQXJyYXkoIG5hbWUgKSApIHtcblx0XHRcdFx0c3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICk7XG5cdFx0XHRcdGxlbiA9IG5hbWUubGVuZ3RoO1xuXG5cdFx0XHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0XHRcdG1hcFsgbmFtZVsgaSBdIF0gPSBqUXVlcnkuY3NzKCBlbGVtLCBuYW1lWyBpIF0sIGZhbHNlLCBzdHlsZXMgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBtYXA7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkID9cblx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBuYW1lLCB2YWx1ZSApIDpcblx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgbmFtZSApO1xuXHRcdH0sIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuXHR9XG59ICk7XG5cblxuZnVuY3Rpb24gVHdlZW4oIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nICkge1xuXHRyZXR1cm4gbmV3IFR3ZWVuLnByb3RvdHlwZS5pbml0KCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZyApO1xufVxualF1ZXJ5LlR3ZWVuID0gVHdlZW47XG5cblR3ZWVuLnByb3RvdHlwZSA9IHtcblx0Y29uc3RydWN0b3I6IFR3ZWVuLFxuXHRpbml0OiBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcsIHVuaXQgKSB7XG5cdFx0dGhpcy5lbGVtID0gZWxlbTtcblx0XHR0aGlzLnByb3AgPSBwcm9wO1xuXHRcdHRoaXMuZWFzaW5nID0gZWFzaW5nIHx8IGpRdWVyeS5lYXNpbmcuX2RlZmF1bHQ7XG5cdFx0dGhpcy5vcHRpb25zID0gb3B0aW9ucztcblx0XHR0aGlzLnN0YXJ0ID0gdGhpcy5ub3cgPSB0aGlzLmN1cigpO1xuXHRcdHRoaXMuZW5kID0gZW5kO1xuXHRcdHRoaXMudW5pdCA9IHVuaXQgfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gPyBcIlwiIDogXCJweFwiICk7XG5cdH0sXG5cdGN1cjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGhvb2tzID0gVHdlZW4ucHJvcEhvb2tzWyB0aGlzLnByb3AgXTtcblxuXHRcdHJldHVybiBob29rcyAmJiBob29rcy5nZXQgP1xuXHRcdFx0aG9va3MuZ2V0KCB0aGlzICkgOlxuXHRcdFx0VHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LmdldCggdGhpcyApO1xuXHR9LFxuXHRydW46IGZ1bmN0aW9uKCBwZXJjZW50ICkge1xuXHRcdHZhciBlYXNlZCxcblx0XHRcdGhvb2tzID0gVHdlZW4ucHJvcEhvb2tzWyB0aGlzLnByb3AgXTtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLmR1cmF0aW9uICkge1xuXHRcdFx0dGhpcy5wb3MgPSBlYXNlZCA9IGpRdWVyeS5lYXNpbmdbIHRoaXMuZWFzaW5nIF0oXG5cdFx0XHRcdHBlcmNlbnQsIHRoaXMub3B0aW9ucy5kdXJhdGlvbiAqIHBlcmNlbnQsIDAsIDEsIHRoaXMub3B0aW9ucy5kdXJhdGlvblxuXHRcdFx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5wb3MgPSBlYXNlZCA9IHBlcmNlbnQ7XG5cdFx0fVxuXHRcdHRoaXMubm93ID0gKCB0aGlzLmVuZCAtIHRoaXMuc3RhcnQgKSAqIGVhc2VkICsgdGhpcy5zdGFydDtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLnN0ZXAgKSB7XG5cdFx0XHR0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKCB0aGlzLmVsZW0sIHRoaXMubm93LCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBob29rcyAmJiBob29rcy5zZXQgKSB7XG5cdFx0XHRob29rcy5zZXQoIHRoaXMgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0VHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LnNldCggdGhpcyApO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fVxufTtcblxuVHdlZW4ucHJvdG90eXBlLmluaXQucHJvdG90eXBlID0gVHdlZW4ucHJvdG90eXBlO1xuXG5Ud2Vlbi5wcm9wSG9va3MgPSB7XG5cdF9kZWZhdWx0OiB7XG5cdFx0Z2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cdFx0XHR2YXIgcmVzdWx0O1xuXG5cdFx0XHQvLyBVc2UgYSBwcm9wZXJ0eSBvbiB0aGUgZWxlbWVudCBkaXJlY3RseSB3aGVuIGl0IGlzIG5vdCBhIERPTSBlbGVtZW50LFxuXHRcdFx0Ly8gb3Igd2hlbiB0aGVyZSBpcyBubyBtYXRjaGluZyBzdHlsZSBwcm9wZXJ0eSB0aGF0IGV4aXN0cy5cblx0XHRcdGlmICggdHdlZW4uZWxlbS5ub2RlVHlwZSAhPT0gMSB8fFxuXHRcdFx0XHR0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gIT0gbnVsbCAmJiB0d2Vlbi5lbGVtLnN0eWxlWyB0d2Vlbi5wcm9wIF0gPT0gbnVsbCApIHtcblx0XHRcdFx0cmV0dXJuIHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUGFzc2luZyBhbiBlbXB0eSBzdHJpbmcgYXMgYSAzcmQgcGFyYW1ldGVyIHRvIC5jc3Mgd2lsbCBhdXRvbWF0aWNhbGx5XG5cdFx0XHQvLyBhdHRlbXB0IGEgcGFyc2VGbG9hdCBhbmQgZmFsbGJhY2sgdG8gYSBzdHJpbmcgaWYgdGhlIHBhcnNlIGZhaWxzLlxuXHRcdFx0Ly8gU2ltcGxlIHZhbHVlcyBzdWNoIGFzIFwiMTBweFwiIGFyZSBwYXJzZWQgdG8gRmxvYXQ7XG5cdFx0XHQvLyBjb21wbGV4IHZhbHVlcyBzdWNoIGFzIFwicm90YXRlKDFyYWQpXCIgYXJlIHJldHVybmVkIGFzLWlzLlxuXHRcdFx0cmVzdWx0ID0galF1ZXJ5LmNzcyggdHdlZW4uZWxlbSwgdHdlZW4ucHJvcCwgXCJcIiApO1xuXG5cdFx0XHQvLyBFbXB0eSBzdHJpbmdzLCBudWxsLCB1bmRlZmluZWQgYW5kIFwiYXV0b1wiIGFyZSBjb252ZXJ0ZWQgdG8gMC5cblx0XHRcdHJldHVybiAhcmVzdWx0IHx8IHJlc3VsdCA9PT0gXCJhdXRvXCIgPyAwIDogcmVzdWx0O1xuXHRcdH0sXG5cdFx0c2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cblx0XHRcdC8vIFVzZSBzdGVwIGhvb2sgZm9yIGJhY2sgY29tcGF0LlxuXHRcdFx0Ly8gVXNlIGNzc0hvb2sgaWYgaXRzIHRoZXJlLlxuXHRcdFx0Ly8gVXNlIC5zdHlsZSBpZiBhdmFpbGFibGUgYW5kIHVzZSBwbGFpbiBwcm9wZXJ0aWVzIHdoZXJlIGF2YWlsYWJsZS5cblx0XHRcdGlmICggalF1ZXJ5LmZ4LnN0ZXBbIHR3ZWVuLnByb3AgXSApIHtcblx0XHRcdFx0alF1ZXJ5LmZ4LnN0ZXBbIHR3ZWVuLnByb3AgXSggdHdlZW4gKTtcblx0XHRcdH0gZWxzZSBpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0KCB0d2Vlbi5lbGVtLnN0eWxlWyBqUXVlcnkuY3NzUHJvcHNbIHR3ZWVuLnByb3AgXSBdICE9IG51bGwgfHxcblx0XHRcdFx0XHRqUXVlcnkuY3NzSG9va3NbIHR3ZWVuLnByb3AgXSApICkge1xuXHRcdFx0XHRqUXVlcnkuc3R5bGUoIHR3ZWVuLmVsZW0sIHR3ZWVuLnByb3AsIHR3ZWVuLm5vdyArIHR3ZWVuLnVuaXQgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdztcblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG5cbi8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG4vLyBQYW5pYyBiYXNlZCBhcHByb2FjaCB0byBzZXR0aW5nIHRoaW5ncyBvbiBkaXNjb25uZWN0ZWQgbm9kZXNcblR3ZWVuLnByb3BIb29rcy5zY3JvbGxUb3AgPSBUd2Vlbi5wcm9wSG9va3Muc2Nyb2xsTGVmdCA9IHtcblx0c2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cdFx0aWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlICYmIHR3ZWVuLmVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdztcblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5lYXNpbmcgPSB7XG5cdGxpbmVhcjogZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIHA7XG5cdH0sXG5cdHN3aW5nOiBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gMC41IC0gTWF0aC5jb3MoIHAgKiBNYXRoLlBJICkgLyAyO1xuXHR9LFxuXHRfZGVmYXVsdDogXCJzd2luZ1wiXG59O1xuXG5qUXVlcnkuZnggPSBUd2Vlbi5wcm90b3R5cGUuaW5pdDtcblxuLy8gQmFjayBjb21wYXQgPDEuOCBleHRlbnNpb24gcG9pbnRcbmpRdWVyeS5meC5zdGVwID0ge307XG5cblxuXG5cbnZhclxuXHRmeE5vdywgdGltZXJJZCxcblx0cmZ4dHlwZXMgPSAvXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sXG5cdHJydW4gPSAvcXVldWVIb29rcyQvO1xuXG5mdW5jdGlvbiByYWYoKSB7XG5cdGlmICggdGltZXJJZCApIHtcblx0XHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCByYWYgKTtcblx0XHRqUXVlcnkuZngudGljaygpO1xuXHR9XG59XG5cbi8vIEFuaW1hdGlvbnMgY3JlYXRlZCBzeW5jaHJvbm91c2x5IHdpbGwgcnVuIHN5bmNocm9ub3VzbHlcbmZ1bmN0aW9uIGNyZWF0ZUZ4Tm93KCkge1xuXHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0ZnhOb3cgPSB1bmRlZmluZWQ7XG5cdH0gKTtcblx0cmV0dXJuICggZnhOb3cgPSBqUXVlcnkubm93KCkgKTtcbn1cblxuLy8gR2VuZXJhdGUgcGFyYW1ldGVycyB0byBjcmVhdGUgYSBzdGFuZGFyZCBhbmltYXRpb25cbmZ1bmN0aW9uIGdlbkZ4KCB0eXBlLCBpbmNsdWRlV2lkdGggKSB7XG5cdHZhciB3aGljaCxcblx0XHRpID0gMCxcblx0XHRhdHRycyA9IHsgaGVpZ2h0OiB0eXBlIH07XG5cblx0Ly8gSWYgd2UgaW5jbHVkZSB3aWR0aCwgc3RlcCB2YWx1ZSBpcyAxIHRvIGRvIGFsbCBjc3NFeHBhbmQgdmFsdWVzLFxuXHQvLyBvdGhlcndpc2Ugc3RlcCB2YWx1ZSBpcyAyIHRvIHNraXAgb3ZlciBMZWZ0IGFuZCBSaWdodFxuXHRpbmNsdWRlV2lkdGggPSBpbmNsdWRlV2lkdGggPyAxIDogMDtcblx0Zm9yICggOyBpIDwgNDsgaSArPSAyIC0gaW5jbHVkZVdpZHRoICkge1xuXHRcdHdoaWNoID0gY3NzRXhwYW5kWyBpIF07XG5cdFx0YXR0cnNbIFwibWFyZ2luXCIgKyB3aGljaCBdID0gYXR0cnNbIFwicGFkZGluZ1wiICsgd2hpY2ggXSA9IHR5cGU7XG5cdH1cblxuXHRpZiAoIGluY2x1ZGVXaWR0aCApIHtcblx0XHRhdHRycy5vcGFjaXR5ID0gYXR0cnMud2lkdGggPSB0eXBlO1xuXHR9XG5cblx0cmV0dXJuIGF0dHJzO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVUd2VlbiggdmFsdWUsIHByb3AsIGFuaW1hdGlvbiApIHtcblx0dmFyIHR3ZWVuLFxuXHRcdGNvbGxlY3Rpb24gPSAoIEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdIHx8IFtdICkuY29uY2F0KCBBbmltYXRpb24udHdlZW5lcnNbIFwiKlwiIF0gKSxcblx0XHRpbmRleCA9IDAsXG5cdFx0bGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGg7XG5cdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0aWYgKCAoIHR3ZWVuID0gY29sbGVjdGlvblsgaW5kZXggXS5jYWxsKCBhbmltYXRpb24sIHByb3AsIHZhbHVlICkgKSApIHtcblxuXHRcdFx0Ly8gV2UncmUgZG9uZSB3aXRoIHRoaXMgcHJvcGVydHlcblx0XHRcdHJldHVybiB0d2Vlbjtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gZGVmYXVsdFByZWZpbHRlciggZWxlbSwgcHJvcHMsIG9wdHMgKSB7XG5cdHZhciBwcm9wLCB2YWx1ZSwgdG9nZ2xlLCBob29rcywgb2xkZmlyZSwgcHJvcFR3ZWVuLCByZXN0b3JlRGlzcGxheSwgZGlzcGxheSxcblx0XHRpc0JveCA9IFwid2lkdGhcIiBpbiBwcm9wcyB8fCBcImhlaWdodFwiIGluIHByb3BzLFxuXHRcdGFuaW0gPSB0aGlzLFxuXHRcdG9yaWcgPSB7fSxcblx0XHRzdHlsZSA9IGVsZW0uc3R5bGUsXG5cdFx0aGlkZGVuID0gZWxlbS5ub2RlVHlwZSAmJiBpc0hpZGRlbldpdGhpblRyZWUoIGVsZW0gKSxcblx0XHRkYXRhU2hvdyA9IGRhdGFQcml2LmdldCggZWxlbSwgXCJmeHNob3dcIiApO1xuXG5cdC8vIFF1ZXVlLXNraXBwaW5nIGFuaW1hdGlvbnMgaGlqYWNrIHRoZSBmeCBob29rc1xuXHRpZiAoICFvcHRzLnF1ZXVlICkge1xuXHRcdGhvb2tzID0galF1ZXJ5Ll9xdWV1ZUhvb2tzKCBlbGVtLCBcImZ4XCIgKTtcblx0XHRpZiAoIGhvb2tzLnVucXVldWVkID09IG51bGwgKSB7XG5cdFx0XHRob29rcy51bnF1ZXVlZCA9IDA7XG5cdFx0XHRvbGRmaXJlID0gaG9va3MuZW1wdHkuZmlyZTtcblx0XHRcdGhvb2tzLmVtcHR5LmZpcmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCAhaG9va3MudW5xdWV1ZWQgKSB7XG5cdFx0XHRcdFx0b2xkZmlyZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH1cblx0XHRob29rcy51bnF1ZXVlZCsrO1xuXG5cdFx0YW5pbS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBFbnN1cmUgdGhlIGNvbXBsZXRlIGhhbmRsZXIgaXMgY2FsbGVkIGJlZm9yZSB0aGlzIGNvbXBsZXRlc1xuXHRcdFx0YW5pbS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRob29rcy51bnF1ZXVlZC0tO1xuXHRcdFx0XHRpZiAoICFqUXVlcnkucXVldWUoIGVsZW0sIFwiZnhcIiApLmxlbmd0aCApIHtcblx0XHRcdFx0XHRob29rcy5lbXB0eS5maXJlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBEZXRlY3Qgc2hvdy9oaWRlIGFuaW1hdGlvbnNcblx0Zm9yICggcHJvcCBpbiBwcm9wcyApIHtcblx0XHR2YWx1ZSA9IHByb3BzWyBwcm9wIF07XG5cdFx0aWYgKCByZnh0eXBlcy50ZXN0KCB2YWx1ZSApICkge1xuXHRcdFx0ZGVsZXRlIHByb3BzWyBwcm9wIF07XG5cdFx0XHR0b2dnbGUgPSB0b2dnbGUgfHwgdmFsdWUgPT09IFwidG9nZ2xlXCI7XG5cdFx0XHRpZiAoIHZhbHVlID09PSAoIGhpZGRlbiA/IFwiaGlkZVwiIDogXCJzaG93XCIgKSApIHtcblxuXHRcdFx0XHQvLyBQcmV0ZW5kIHRvIGJlIGhpZGRlbiBpZiB0aGlzIGlzIGEgXCJzaG93XCIgYW5kXG5cdFx0XHRcdC8vIHRoZXJlIGlzIHN0aWxsIGRhdGEgZnJvbSBhIHN0b3BwZWQgc2hvdy9oaWRlXG5cdFx0XHRcdGlmICggdmFsdWUgPT09IFwic2hvd1wiICYmIGRhdGFTaG93ICYmIGRhdGFTaG93WyBwcm9wIF0gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRoaWRkZW4gPSB0cnVlO1xuXG5cdFx0XHRcdC8vIElnbm9yZSBhbGwgb3RoZXIgbm8tb3Agc2hvdy9oaWRlIGRhdGFcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0b3JpZ1sgcHJvcCBdID0gZGF0YVNob3cgJiYgZGF0YVNob3dbIHByb3AgXSB8fCBqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBCYWlsIG91dCBpZiB0aGlzIGlzIGEgbm8tb3AgbGlrZSAuaGlkZSgpLmhpZGUoKVxuXHRwcm9wVHdlZW4gPSAhalF1ZXJ5LmlzRW1wdHlPYmplY3QoIHByb3BzICk7XG5cdGlmICggIXByb3BUd2VlbiAmJiBqUXVlcnkuaXNFbXB0eU9iamVjdCggb3JpZyApICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIFJlc3RyaWN0IFwib3ZlcmZsb3dcIiBhbmQgXCJkaXNwbGF5XCIgc3R5bGVzIGR1cmluZyBib3ggYW5pbWF0aW9uc1xuXHRpZiAoIGlzQm94ICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSwgRWRnZSAxMiAtIDEzXG5cdFx0Ly8gUmVjb3JkIGFsbCAzIG92ZXJmbG93IGF0dHJpYnV0ZXMgYmVjYXVzZSBJRSBkb2VzIG5vdCBpbmZlciB0aGUgc2hvcnRoYW5kXG5cdFx0Ly8gZnJvbSBpZGVudGljYWxseS12YWx1ZWQgb3ZlcmZsb3dYIGFuZCBvdmVyZmxvd1lcblx0XHRvcHRzLm92ZXJmbG93ID0gWyBzdHlsZS5vdmVyZmxvdywgc3R5bGUub3ZlcmZsb3dYLCBzdHlsZS5vdmVyZmxvd1kgXTtcblxuXHRcdC8vIElkZW50aWZ5IGEgZGlzcGxheSB0eXBlLCBwcmVmZXJyaW5nIG9sZCBzaG93L2hpZGUgZGF0YSBvdmVyIHRoZSBDU1MgY2FzY2FkZVxuXHRcdHJlc3RvcmVEaXNwbGF5ID0gZGF0YVNob3cgJiYgZGF0YVNob3cuZGlzcGxheTtcblx0XHRpZiAoIHJlc3RvcmVEaXNwbGF5ID09IG51bGwgKSB7XG5cdFx0XHRyZXN0b3JlRGlzcGxheSA9IGRhdGFQcml2LmdldCggZWxlbSwgXCJkaXNwbGF5XCIgKTtcblx0XHR9XG5cdFx0ZGlzcGxheSA9IGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICk7XG5cdFx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRcdGlmICggcmVzdG9yZURpc3BsYXkgKSB7XG5cdFx0XHRcdGRpc3BsYXkgPSByZXN0b3JlRGlzcGxheTtcblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gR2V0IG5vbmVtcHR5IHZhbHVlKHMpIGJ5IHRlbXBvcmFyaWx5IGZvcmNpbmcgdmlzaWJpbGl0eVxuXHRcdFx0XHRzaG93SGlkZSggWyBlbGVtIF0sIHRydWUgKTtcblx0XHRcdFx0cmVzdG9yZURpc3BsYXkgPSBlbGVtLnN0eWxlLmRpc3BsYXkgfHwgcmVzdG9yZURpc3BsYXk7XG5cdFx0XHRcdGRpc3BsYXkgPSBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApO1xuXHRcdFx0XHRzaG93SGlkZSggWyBlbGVtIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBBbmltYXRlIGlubGluZSBlbGVtZW50cyBhcyBpbmxpbmUtYmxvY2tcblx0XHRpZiAoIGRpc3BsYXkgPT09IFwiaW5saW5lXCIgfHwgZGlzcGxheSA9PT0gXCJpbmxpbmUtYmxvY2tcIiAmJiByZXN0b3JlRGlzcGxheSAhPSBudWxsICkge1xuXHRcdFx0aWYgKCBqUXVlcnkuY3NzKCBlbGVtLCBcImZsb2F0XCIgKSA9PT0gXCJub25lXCIgKSB7XG5cblx0XHRcdFx0Ly8gUmVzdG9yZSB0aGUgb3JpZ2luYWwgZGlzcGxheSB2YWx1ZSBhdCB0aGUgZW5kIG9mIHB1cmUgc2hvdy9oaWRlIGFuaW1hdGlvbnNcblx0XHRcdFx0aWYgKCAhcHJvcFR3ZWVuICkge1xuXHRcdFx0XHRcdGFuaW0uZG9uZSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRzdHlsZS5kaXNwbGF5ID0gcmVzdG9yZURpc3BsYXk7XG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdGlmICggcmVzdG9yZURpc3BsYXkgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdGRpc3BsYXkgPSBzdHlsZS5kaXNwbGF5O1xuXHRcdFx0XHRcdFx0cmVzdG9yZURpc3BsYXkgPSBkaXNwbGF5ID09PSBcIm5vbmVcIiA/IFwiXCIgOiBkaXNwbGF5O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRzdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAoIG9wdHMub3ZlcmZsb3cgKSB7XG5cdFx0c3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuXHRcdGFuaW0uYWx3YXlzKCBmdW5jdGlvbigpIHtcblx0XHRcdHN0eWxlLm92ZXJmbG93ID0gb3B0cy5vdmVyZmxvd1sgMCBdO1xuXHRcdFx0c3R5bGUub3ZlcmZsb3dYID0gb3B0cy5vdmVyZmxvd1sgMSBdO1xuXHRcdFx0c3R5bGUub3ZlcmZsb3dZID0gb3B0cy5vdmVyZmxvd1sgMiBdO1xuXHRcdH0gKTtcblx0fVxuXG5cdC8vIEltcGxlbWVudCBzaG93L2hpZGUgYW5pbWF0aW9uc1xuXHRwcm9wVHdlZW4gPSBmYWxzZTtcblx0Zm9yICggcHJvcCBpbiBvcmlnICkge1xuXG5cdFx0Ly8gR2VuZXJhbCBzaG93L2hpZGUgc2V0dXAgZm9yIHRoaXMgZWxlbWVudCBhbmltYXRpb25cblx0XHRpZiAoICFwcm9wVHdlZW4gKSB7XG5cdFx0XHRpZiAoIGRhdGFTaG93ICkge1xuXHRcdFx0XHRpZiAoIFwiaGlkZGVuXCIgaW4gZGF0YVNob3cgKSB7XG5cdFx0XHRcdFx0aGlkZGVuID0gZGF0YVNob3cuaGlkZGVuO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkYXRhU2hvdyA9IGRhdGFQcml2LmFjY2VzcyggZWxlbSwgXCJmeHNob3dcIiwgeyBkaXNwbGF5OiByZXN0b3JlRGlzcGxheSB9ICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN0b3JlIGhpZGRlbi92aXNpYmxlIGZvciB0b2dnbGUgc28gYC5zdG9wKCkudG9nZ2xlKClgIFwicmV2ZXJzZXNcIlxuXHRcdFx0aWYgKCB0b2dnbGUgKSB7XG5cdFx0XHRcdGRhdGFTaG93LmhpZGRlbiA9ICFoaWRkZW47XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNob3cgZWxlbWVudHMgYmVmb3JlIGFuaW1hdGluZyB0aGVtXG5cdFx0XHRpZiAoIGhpZGRlbiApIHtcblx0XHRcdFx0c2hvd0hpZGUoIFsgZWxlbSBdLCB0cnVlICk7XG5cdFx0XHR9XG5cblx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLWxvb3AtZnVuYyAqL1xuXG5cdFx0XHRhbmltLmRvbmUoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvKiBlc2xpbnQtZW5hYmxlIG5vLWxvb3AtZnVuYyAqL1xuXG5cdFx0XHRcdC8vIFRoZSBmaW5hbCBzdGVwIG9mIGEgXCJoaWRlXCIgYW5pbWF0aW9uIGlzIGFjdHVhbGx5IGhpZGluZyB0aGUgZWxlbWVudFxuXHRcdFx0XHRpZiAoICFoaWRkZW4gKSB7XG5cdFx0XHRcdFx0c2hvd0hpZGUoIFsgZWxlbSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBcImZ4c2hvd1wiICk7XG5cdFx0XHRcdGZvciAoIHByb3AgaW4gb3JpZyApIHtcblx0XHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AsIG9yaWdbIHByb3AgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0Ly8gUGVyLXByb3BlcnR5IHNldHVwXG5cdFx0cHJvcFR3ZWVuID0gY3JlYXRlVHdlZW4oIGhpZGRlbiA/IGRhdGFTaG93WyBwcm9wIF0gOiAwLCBwcm9wLCBhbmltICk7XG5cdFx0aWYgKCAhKCBwcm9wIGluIGRhdGFTaG93ICkgKSB7XG5cdFx0XHRkYXRhU2hvd1sgcHJvcCBdID0gcHJvcFR3ZWVuLnN0YXJ0O1xuXHRcdFx0aWYgKCBoaWRkZW4gKSB7XG5cdFx0XHRcdHByb3BUd2Vlbi5lbmQgPSBwcm9wVHdlZW4uc3RhcnQ7XG5cdFx0XHRcdHByb3BUd2Vlbi5zdGFydCA9IDA7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIHByb3BGaWx0ZXIoIHByb3BzLCBzcGVjaWFsRWFzaW5nICkge1xuXHR2YXIgaW5kZXgsIG5hbWUsIGVhc2luZywgdmFsdWUsIGhvb2tzO1xuXG5cdC8vIGNhbWVsQ2FzZSwgc3BlY2lhbEVhc2luZyBhbmQgZXhwYW5kIGNzc0hvb2sgcGFzc1xuXHRmb3IgKCBpbmRleCBpbiBwcm9wcyApIHtcblx0XHRuYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggaW5kZXggKTtcblx0XHRlYXNpbmcgPSBzcGVjaWFsRWFzaW5nWyBuYW1lIF07XG5cdFx0dmFsdWUgPSBwcm9wc1sgaW5kZXggXTtcblx0XHRpZiAoIGpRdWVyeS5pc0FycmF5KCB2YWx1ZSApICkge1xuXHRcdFx0ZWFzaW5nID0gdmFsdWVbIDEgXTtcblx0XHRcdHZhbHVlID0gcHJvcHNbIGluZGV4IF0gPSB2YWx1ZVsgMCBdO1xuXHRcdH1cblxuXHRcdGlmICggaW5kZXggIT09IG5hbWUgKSB7XG5cdFx0XHRwcm9wc1sgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHRkZWxldGUgcHJvcHNbIGluZGV4IF07XG5cdFx0fVxuXG5cdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXTtcblx0XHRpZiAoIGhvb2tzICYmIFwiZXhwYW5kXCIgaW4gaG9va3MgKSB7XG5cdFx0XHR2YWx1ZSA9IGhvb2tzLmV4cGFuZCggdmFsdWUgKTtcblx0XHRcdGRlbGV0ZSBwcm9wc1sgbmFtZSBdO1xuXG5cdFx0XHQvLyBOb3QgcXVpdGUgJC5leHRlbmQsIHRoaXMgd29uJ3Qgb3ZlcndyaXRlIGV4aXN0aW5nIGtleXMuXG5cdFx0XHQvLyBSZXVzaW5nICdpbmRleCcgYmVjYXVzZSB3ZSBoYXZlIHRoZSBjb3JyZWN0IFwibmFtZVwiXG5cdFx0XHRmb3IgKCBpbmRleCBpbiB2YWx1ZSApIHtcblx0XHRcdFx0aWYgKCAhKCBpbmRleCBpbiBwcm9wcyApICkge1xuXHRcdFx0XHRcdHByb3BzWyBpbmRleCBdID0gdmFsdWVbIGluZGV4IF07XG5cdFx0XHRcdFx0c3BlY2lhbEVhc2luZ1sgaW5kZXggXSA9IGVhc2luZztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRzcGVjaWFsRWFzaW5nWyBuYW1lIF0gPSBlYXNpbmc7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIEFuaW1hdGlvbiggZWxlbSwgcHJvcGVydGllcywgb3B0aW9ucyApIHtcblx0dmFyIHJlc3VsdCxcblx0XHRzdG9wcGVkLFxuXHRcdGluZGV4ID0gMCxcblx0XHRsZW5ndGggPSBBbmltYXRpb24ucHJlZmlsdGVycy5sZW5ndGgsXG5cdFx0ZGVmZXJyZWQgPSBqUXVlcnkuRGVmZXJyZWQoKS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBEb24ndCBtYXRjaCBlbGVtIGluIHRoZSA6YW5pbWF0ZWQgc2VsZWN0b3Jcblx0XHRcdGRlbGV0ZSB0aWNrLmVsZW07XG5cdFx0fSApLFxuXHRcdHRpY2sgPSBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggc3RvcHBlZCApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0dmFyIGN1cnJlbnRUaW1lID0gZnhOb3cgfHwgY3JlYXRlRnhOb3coKSxcblx0XHRcdFx0cmVtYWluaW5nID0gTWF0aC5tYXgoIDAsIGFuaW1hdGlvbi5zdGFydFRpbWUgKyBhbmltYXRpb24uZHVyYXRpb24gLSBjdXJyZW50VGltZSApLFxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgMi4zIG9ubHlcblx0XHRcdFx0Ly8gQXJjaGFpYyBjcmFzaCBidWcgd29uJ3QgYWxsb3cgdXMgdG8gdXNlIGAxIC0gKCAwLjUgfHwgMCApYCAoIzEyNDk3KVxuXHRcdFx0XHR0ZW1wID0gcmVtYWluaW5nIC8gYW5pbWF0aW9uLmR1cmF0aW9uIHx8IDAsXG5cdFx0XHRcdHBlcmNlbnQgPSAxIC0gdGVtcCxcblx0XHRcdFx0aW5kZXggPSAwLFxuXHRcdFx0XHRsZW5ndGggPSBhbmltYXRpb24udHdlZW5zLmxlbmd0aDtcblxuXHRcdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdFx0YW5pbWF0aW9uLnR3ZWVuc1sgaW5kZXggXS5ydW4oIHBlcmNlbnQgKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVmZXJyZWQubm90aWZ5V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIHBlcmNlbnQsIHJlbWFpbmluZyBdICk7XG5cblx0XHRcdGlmICggcGVyY2VudCA8IDEgJiYgbGVuZ3RoICkge1xuXHRcdFx0XHRyZXR1cm4gcmVtYWluaW5nO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uIF0gKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0YW5pbWF0aW9uID0gZGVmZXJyZWQucHJvbWlzZSgge1xuXHRcdFx0ZWxlbTogZWxlbSxcblx0XHRcdHByb3BzOiBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcGVydGllcyApLFxuXHRcdFx0b3B0czogalF1ZXJ5LmV4dGVuZCggdHJ1ZSwge1xuXHRcdFx0XHRzcGVjaWFsRWFzaW5nOiB7fSxcblx0XHRcdFx0ZWFzaW5nOiBqUXVlcnkuZWFzaW5nLl9kZWZhdWx0XG5cdFx0XHR9LCBvcHRpb25zICksXG5cdFx0XHRvcmlnaW5hbFByb3BlcnRpZXM6IHByb3BlcnRpZXMsXG5cdFx0XHRvcmlnaW5hbE9wdGlvbnM6IG9wdGlvbnMsXG5cdFx0XHRzdGFydFRpbWU6IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksXG5cdFx0XHRkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbixcblx0XHRcdHR3ZWVuczogW10sXG5cdFx0XHRjcmVhdGVUd2VlbjogZnVuY3Rpb24oIHByb3AsIGVuZCApIHtcblx0XHRcdFx0dmFyIHR3ZWVuID0galF1ZXJ5LlR3ZWVuKCBlbGVtLCBhbmltYXRpb24ub3B0cywgcHJvcCwgZW5kLFxuXHRcdFx0XHRcdFx0YW5pbWF0aW9uLm9wdHMuc3BlY2lhbEVhc2luZ1sgcHJvcCBdIHx8IGFuaW1hdGlvbi5vcHRzLmVhc2luZyApO1xuXHRcdFx0XHRhbmltYXRpb24udHdlZW5zLnB1c2goIHR3ZWVuICk7XG5cdFx0XHRcdHJldHVybiB0d2Vlbjtcblx0XHRcdH0sXG5cdFx0XHRzdG9wOiBmdW5jdGlvbiggZ290b0VuZCApIHtcblx0XHRcdFx0dmFyIGluZGV4ID0gMCxcblxuXHRcdFx0XHRcdC8vIElmIHdlIGFyZSBnb2luZyB0byB0aGUgZW5kLCB3ZSB3YW50IHRvIHJ1biBhbGwgdGhlIHR3ZWVuc1xuXHRcdFx0XHRcdC8vIG90aGVyd2lzZSB3ZSBza2lwIHRoaXMgcGFydFxuXHRcdFx0XHRcdGxlbmd0aCA9IGdvdG9FbmQgPyBhbmltYXRpb24udHdlZW5zLmxlbmd0aCA6IDA7XG5cdFx0XHRcdGlmICggc3RvcHBlZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fVxuXHRcdFx0XHRzdG9wcGVkID0gdHJ1ZTtcblx0XHRcdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdFx0XHRhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggMSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmVzb2x2ZSB3aGVuIHdlIHBsYXllZCB0aGUgbGFzdCBmcmFtZTsgb3RoZXJ3aXNlLCByZWplY3Rcblx0XHRcdFx0aWYgKCBnb3RvRW5kICkge1xuXHRcdFx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCAxLCAwIF0gKTtcblx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggZWxlbSwgWyBhbmltYXRpb24sIGdvdG9FbmQgXSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdFdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBnb3RvRW5kIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH1cblx0XHR9ICksXG5cdFx0cHJvcHMgPSBhbmltYXRpb24ucHJvcHM7XG5cblx0cHJvcEZpbHRlciggcHJvcHMsIGFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmcgKTtcblxuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdHJlc3VsdCA9IEFuaW1hdGlvbi5wcmVmaWx0ZXJzWyBpbmRleCBdLmNhbGwoIGFuaW1hdGlvbiwgZWxlbSwgcHJvcHMsIGFuaW1hdGlvbi5vcHRzICk7XG5cdFx0aWYgKCByZXN1bHQgKSB7XG5cdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCByZXN1bHQuc3RvcCApICkge1xuXHRcdFx0XHRqUXVlcnkuX3F1ZXVlSG9va3MoIGFuaW1hdGlvbi5lbGVtLCBhbmltYXRpb24ub3B0cy5xdWV1ZSApLnN0b3AgPVxuXHRcdFx0XHRcdGpRdWVyeS5wcm94eSggcmVzdWx0LnN0b3AsIHJlc3VsdCApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cdH1cblxuXHRqUXVlcnkubWFwKCBwcm9wcywgY3JlYXRlVHdlZW4sIGFuaW1hdGlvbiApO1xuXG5cdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGFuaW1hdGlvbi5vcHRzLnN0YXJ0ICkgKSB7XG5cdFx0YW5pbWF0aW9uLm9wdHMuc3RhcnQuY2FsbCggZWxlbSwgYW5pbWF0aW9uICk7XG5cdH1cblxuXHRqUXVlcnkuZngudGltZXIoXG5cdFx0alF1ZXJ5LmV4dGVuZCggdGljaywge1xuXHRcdFx0ZWxlbTogZWxlbSxcblx0XHRcdGFuaW06IGFuaW1hdGlvbixcblx0XHRcdHF1ZXVlOiBhbmltYXRpb24ub3B0cy5xdWV1ZVxuXHRcdH0gKVxuXHQpO1xuXG5cdC8vIGF0dGFjaCBjYWxsYmFja3MgZnJvbSBvcHRpb25zXG5cdHJldHVybiBhbmltYXRpb24ucHJvZ3Jlc3MoIGFuaW1hdGlvbi5vcHRzLnByb2dyZXNzIClcblx0XHQuZG9uZSggYW5pbWF0aW9uLm9wdHMuZG9uZSwgYW5pbWF0aW9uLm9wdHMuY29tcGxldGUgKVxuXHRcdC5mYWlsKCBhbmltYXRpb24ub3B0cy5mYWlsIClcblx0XHQuYWx3YXlzKCBhbmltYXRpb24ub3B0cy5hbHdheXMgKTtcbn1cblxualF1ZXJ5LkFuaW1hdGlvbiA9IGpRdWVyeS5leHRlbmQoIEFuaW1hdGlvbiwge1xuXG5cdHR3ZWVuZXJzOiB7XG5cdFx0XCIqXCI6IFsgZnVuY3Rpb24oIHByb3AsIHZhbHVlICkge1xuXHRcdFx0dmFyIHR3ZWVuID0gdGhpcy5jcmVhdGVUd2VlbiggcHJvcCwgdmFsdWUgKTtcblx0XHRcdGFkanVzdENTUyggdHdlZW4uZWxlbSwgcHJvcCwgcmNzc051bS5leGVjKCB2YWx1ZSApLCB0d2VlbiApO1xuXHRcdFx0cmV0dXJuIHR3ZWVuO1xuXHRcdH0gXVxuXHR9LFxuXG5cdHR3ZWVuZXI6IGZ1bmN0aW9uKCBwcm9wcywgY2FsbGJhY2sgKSB7XG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcHJvcHMgKSApIHtcblx0XHRcdGNhbGxiYWNrID0gcHJvcHM7XG5cdFx0XHRwcm9wcyA9IFsgXCIqXCIgXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cHJvcHMgPSBwcm9wcy5tYXRjaCggcm5vdHdoaXRlICk7XG5cdFx0fVxuXG5cdFx0dmFyIHByb3AsXG5cdFx0XHRpbmRleCA9IDAsXG5cdFx0XHRsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cblx0XHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0cHJvcCA9IHByb3BzWyBpbmRleCBdO1xuXHRcdFx0QW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0gPSBBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSB8fCBbXTtcblx0XHRcdEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdLnVuc2hpZnQoIGNhbGxiYWNrICk7XG5cdFx0fVxuXHR9LFxuXG5cdHByZWZpbHRlcnM6IFsgZGVmYXVsdFByZWZpbHRlciBdLFxuXG5cdHByZWZpbHRlcjogZnVuY3Rpb24oIGNhbGxiYWNrLCBwcmVwZW5kICkge1xuXHRcdGlmICggcHJlcGVuZCApIHtcblx0XHRcdEFuaW1hdGlvbi5wcmVmaWx0ZXJzLnVuc2hpZnQoIGNhbGxiYWNrICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdEFuaW1hdGlvbi5wcmVmaWx0ZXJzLnB1c2goIGNhbGxiYWNrICk7XG5cdFx0fVxuXHR9XG59ICk7XG5cbmpRdWVyeS5zcGVlZCA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBmbiApIHtcblx0dmFyIG9wdCA9IHNwZWVkICYmIHR5cGVvZiBzcGVlZCA9PT0gXCJvYmplY3RcIiA/IGpRdWVyeS5leHRlbmQoIHt9LCBzcGVlZCApIDoge1xuXHRcdGNvbXBsZXRlOiBmbiB8fCAhZm4gJiYgZWFzaW5nIHx8XG5cdFx0XHRqUXVlcnkuaXNGdW5jdGlvbiggc3BlZWQgKSAmJiBzcGVlZCxcblx0XHRkdXJhdGlvbjogc3BlZWQsXG5cdFx0ZWFzaW5nOiBmbiAmJiBlYXNpbmcgfHwgZWFzaW5nICYmICFqUXVlcnkuaXNGdW5jdGlvbiggZWFzaW5nICkgJiYgZWFzaW5nXG5cdH07XG5cblx0Ly8gR28gdG8gdGhlIGVuZCBzdGF0ZSBpZiBmeCBhcmUgb2ZmIG9yIGlmIGRvY3VtZW50IGlzIGhpZGRlblxuXHRpZiAoIGpRdWVyeS5meC5vZmYgfHwgZG9jdW1lbnQuaGlkZGVuICkge1xuXHRcdG9wdC5kdXJhdGlvbiA9IDA7XG5cblx0fSBlbHNlIHtcblx0XHRvcHQuZHVyYXRpb24gPSB0eXBlb2Ygb3B0LmR1cmF0aW9uID09PSBcIm51bWJlclwiID9cblx0XHRcdG9wdC5kdXJhdGlvbiA6IG9wdC5kdXJhdGlvbiBpbiBqUXVlcnkuZnguc3BlZWRzID9cblx0XHRcdFx0alF1ZXJ5LmZ4LnNwZWVkc1sgb3B0LmR1cmF0aW9uIF0gOiBqUXVlcnkuZnguc3BlZWRzLl9kZWZhdWx0O1xuXHR9XG5cblx0Ly8gTm9ybWFsaXplIG9wdC5xdWV1ZSAtIHRydWUvdW5kZWZpbmVkL251bGwgLT4gXCJmeFwiXG5cdGlmICggb3B0LnF1ZXVlID09IG51bGwgfHwgb3B0LnF1ZXVlID09PSB0cnVlICkge1xuXHRcdG9wdC5xdWV1ZSA9IFwiZnhcIjtcblx0fVxuXG5cdC8vIFF1ZXVlaW5nXG5cdG9wdC5vbGQgPSBvcHQuY29tcGxldGU7XG5cblx0b3B0LmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggb3B0Lm9sZCApICkge1xuXHRcdFx0b3B0Lm9sZC5jYWxsKCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBvcHQucXVldWUgKSB7XG5cdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgb3B0LnF1ZXVlICk7XG5cdFx0fVxuXHR9O1xuXG5cdHJldHVybiBvcHQ7XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGZhZGVUbzogZnVuY3Rpb24oIHNwZWVkLCB0bywgZWFzaW5nLCBjYWxsYmFjayApIHtcblxuXHRcdC8vIFNob3cgYW55IGhpZGRlbiBlbGVtZW50cyBhZnRlciBzZXR0aW5nIG9wYWNpdHkgdG8gMFxuXHRcdHJldHVybiB0aGlzLmZpbHRlciggaXNIaWRkZW5XaXRoaW5UcmVlICkuY3NzKCBcIm9wYWNpdHlcIiwgMCApLnNob3coKVxuXG5cdFx0XHQvLyBBbmltYXRlIHRvIHRoZSB2YWx1ZSBzcGVjaWZpZWRcblx0XHRcdC5lbmQoKS5hbmltYXRlKCB7IG9wYWNpdHk6IHRvIH0sIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdH0sXG5cdGFuaW1hdGU6IGZ1bmN0aW9uKCBwcm9wLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHR2YXIgZW1wdHkgPSBqUXVlcnkuaXNFbXB0eU9iamVjdCggcHJvcCApLFxuXHRcdFx0b3B0YWxsID0galF1ZXJ5LnNwZWVkKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApLFxuXHRcdFx0ZG9BbmltYXRpb24gPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQvLyBPcGVyYXRlIG9uIGEgY29weSBvZiBwcm9wIHNvIHBlci1wcm9wZXJ0eSBlYXNpbmcgd29uJ3QgYmUgbG9zdFxuXHRcdFx0XHR2YXIgYW5pbSA9IEFuaW1hdGlvbiggdGhpcywgalF1ZXJ5LmV4dGVuZCgge30sIHByb3AgKSwgb3B0YWxsICk7XG5cblx0XHRcdFx0Ly8gRW1wdHkgYW5pbWF0aW9ucywgb3IgZmluaXNoaW5nIHJlc29sdmVzIGltbWVkaWF0ZWx5XG5cdFx0XHRcdGlmICggZW1wdHkgfHwgZGF0YVByaXYuZ2V0KCB0aGlzLCBcImZpbmlzaFwiICkgKSB7XG5cdFx0XHRcdFx0YW5pbS5zdG9wKCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRkb0FuaW1hdGlvbi5maW5pc2ggPSBkb0FuaW1hdGlvbjtcblxuXHRcdHJldHVybiBlbXB0eSB8fCBvcHRhbGwucXVldWUgPT09IGZhbHNlID9cblx0XHRcdHRoaXMuZWFjaCggZG9BbmltYXRpb24gKSA6XG5cdFx0XHR0aGlzLnF1ZXVlKCBvcHRhbGwucXVldWUsIGRvQW5pbWF0aW9uICk7XG5cdH0sXG5cdHN0b3A6IGZ1bmN0aW9uKCB0eXBlLCBjbGVhclF1ZXVlLCBnb3RvRW5kICkge1xuXHRcdHZhciBzdG9wUXVldWUgPSBmdW5jdGlvbiggaG9va3MgKSB7XG5cdFx0XHR2YXIgc3RvcCA9IGhvb2tzLnN0b3A7XG5cdFx0XHRkZWxldGUgaG9va3Muc3RvcDtcblx0XHRcdHN0b3AoIGdvdG9FbmQgKTtcblx0XHR9O1xuXG5cdFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGdvdG9FbmQgPSBjbGVhclF1ZXVlO1xuXHRcdFx0Y2xlYXJRdWV1ZSA9IHR5cGU7XG5cdFx0XHR0eXBlID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHRpZiAoIGNsZWFyUXVldWUgJiYgdHlwZSAhPT0gZmFsc2UgKSB7XG5cdFx0XHR0aGlzLnF1ZXVlKCB0eXBlIHx8IFwiZnhcIiwgW10gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBkZXF1ZXVlID0gdHJ1ZSxcblx0XHRcdFx0aW5kZXggPSB0eXBlICE9IG51bGwgJiYgdHlwZSArIFwicXVldWVIb29rc1wiLFxuXHRcdFx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzLFxuXHRcdFx0XHRkYXRhID0gZGF0YVByaXYuZ2V0KCB0aGlzICk7XG5cblx0XHRcdGlmICggaW5kZXggKSB7XG5cdFx0XHRcdGlmICggZGF0YVsgaW5kZXggXSAmJiBkYXRhWyBpbmRleCBdLnN0b3AgKSB7XG5cdFx0XHRcdFx0c3RvcFF1ZXVlKCBkYXRhWyBpbmRleCBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZvciAoIGluZGV4IGluIGRhdGEgKSB7XG5cdFx0XHRcdFx0aWYgKCBkYXRhWyBpbmRleCBdICYmIGRhdGFbIGluZGV4IF0uc3RvcCAmJiBycnVuLnRlc3QoIGluZGV4ICkgKSB7XG5cdFx0XHRcdFx0XHRzdG9wUXVldWUoIGRhdGFbIGluZGV4IF0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Zm9yICggaW5kZXggPSB0aW1lcnMubGVuZ3RoOyBpbmRleC0tOyApIHtcblx0XHRcdFx0aWYgKCB0aW1lcnNbIGluZGV4IF0uZWxlbSA9PT0gdGhpcyAmJlxuXHRcdFx0XHRcdCggdHlwZSA9PSBudWxsIHx8IHRpbWVyc1sgaW5kZXggXS5xdWV1ZSA9PT0gdHlwZSApICkge1xuXG5cdFx0XHRcdFx0dGltZXJzWyBpbmRleCBdLmFuaW0uc3RvcCggZ290b0VuZCApO1xuXHRcdFx0XHRcdGRlcXVldWUgPSBmYWxzZTtcblx0XHRcdFx0XHR0aW1lcnMuc3BsaWNlKCBpbmRleCwgMSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN0YXJ0IHRoZSBuZXh0IGluIHRoZSBxdWV1ZSBpZiB0aGUgbGFzdCBzdGVwIHdhc24ndCBmb3JjZWQuXG5cdFx0XHQvLyBUaW1lcnMgY3VycmVudGx5IHdpbGwgY2FsbCB0aGVpciBjb21wbGV0ZSBjYWxsYmFja3MsIHdoaWNoXG5cdFx0XHQvLyB3aWxsIGRlcXVldWUgYnV0IG9ubHkgaWYgdGhleSB3ZXJlIGdvdG9FbmQuXG5cdFx0XHRpZiAoIGRlcXVldWUgfHwgIWdvdG9FbmQgKSB7XG5cdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXHRmaW5pc2g6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdGlmICggdHlwZSAhPT0gZmFsc2UgKSB7XG5cdFx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGluZGV4LFxuXHRcdFx0XHRkYXRhID0gZGF0YVByaXYuZ2V0KCB0aGlzICksXG5cdFx0XHRcdHF1ZXVlID0gZGF0YVsgdHlwZSArIFwicXVldWVcIiBdLFxuXHRcdFx0XHRob29rcyA9IGRhdGFbIHR5cGUgKyBcInF1ZXVlSG9va3NcIiBdLFxuXHRcdFx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzLFxuXHRcdFx0XHRsZW5ndGggPSBxdWV1ZSA/IHF1ZXVlLmxlbmd0aCA6IDA7XG5cblx0XHRcdC8vIEVuYWJsZSBmaW5pc2hpbmcgZmxhZyBvbiBwcml2YXRlIGRhdGFcblx0XHRcdGRhdGEuZmluaXNoID0gdHJ1ZTtcblxuXHRcdFx0Ly8gRW1wdHkgdGhlIHF1ZXVlIGZpcnN0XG5cdFx0XHRqUXVlcnkucXVldWUoIHRoaXMsIHR5cGUsIFtdICk7XG5cblx0XHRcdGlmICggaG9va3MgJiYgaG9va3Muc3RvcCApIHtcblx0XHRcdFx0aG9va3Muc3RvcC5jYWxsKCB0aGlzLCB0cnVlICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIExvb2sgZm9yIGFueSBhY3RpdmUgYW5pbWF0aW9ucywgYW5kIGZpbmlzaCB0aGVtXG5cdFx0XHRmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkge1xuXHRcdFx0XHRpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmIHRpbWVyc1sgaW5kZXggXS5xdWV1ZSA9PT0gdHlwZSApIHtcblx0XHRcdFx0XHR0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCB0cnVlICk7XG5cdFx0XHRcdFx0dGltZXJzLnNwbGljZSggaW5kZXgsIDEgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBMb29rIGZvciBhbnkgYW5pbWF0aW9ucyBpbiB0aGUgb2xkIHF1ZXVlIGFuZCBmaW5pc2ggdGhlbVxuXHRcdFx0Zm9yICggaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdFx0aWYgKCBxdWV1ZVsgaW5kZXggXSAmJiBxdWV1ZVsgaW5kZXggXS5maW5pc2ggKSB7XG5cdFx0XHRcdFx0cXVldWVbIGluZGV4IF0uZmluaXNoLmNhbGwoIHRoaXMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBUdXJuIG9mZiBmaW5pc2hpbmcgZmxhZ1xuXHRcdFx0ZGVsZXRlIGRhdGEuZmluaXNoO1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCggWyBcInRvZ2dsZVwiLCBcInNob3dcIiwgXCJoaWRlXCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdHZhciBjc3NGbiA9IGpRdWVyeS5mblsgbmFtZSBdO1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4gc3BlZWQgPT0gbnVsbCB8fCB0eXBlb2Ygc3BlZWQgPT09IFwiYm9vbGVhblwiID9cblx0XHRcdGNzc0ZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSA6XG5cdFx0XHR0aGlzLmFuaW1hdGUoIGdlbkZ4KCBuYW1lLCB0cnVlICksIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdH07XG59ICk7XG5cbi8vIEdlbmVyYXRlIHNob3J0Y3V0cyBmb3IgY3VzdG9tIGFuaW1hdGlvbnNcbmpRdWVyeS5lYWNoKCB7XG5cdHNsaWRlRG93bjogZ2VuRngoIFwic2hvd1wiICksXG5cdHNsaWRlVXA6IGdlbkZ4KCBcImhpZGVcIiApLFxuXHRzbGlkZVRvZ2dsZTogZ2VuRngoIFwidG9nZ2xlXCIgKSxcblx0ZmFkZUluOiB7IG9wYWNpdHk6IFwic2hvd1wiIH0sXG5cdGZhZGVPdXQ6IHsgb3BhY2l0eTogXCJoaWRlXCIgfSxcblx0ZmFkZVRvZ2dsZTogeyBvcGFjaXR5OiBcInRvZ2dsZVwiIH1cbn0sIGZ1bmN0aW9uKCBuYW1lLCBwcm9wcyApIHtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIHRoaXMuYW5pbWF0ZSggcHJvcHMsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdH07XG59ICk7XG5cbmpRdWVyeS50aW1lcnMgPSBbXTtcbmpRdWVyeS5meC50aWNrID0gZnVuY3Rpb24oKSB7XG5cdHZhciB0aW1lcixcblx0XHRpID0gMCxcblx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzO1xuXG5cdGZ4Tm93ID0galF1ZXJ5Lm5vdygpO1xuXG5cdGZvciAoIDsgaSA8IHRpbWVycy5sZW5ndGg7IGkrKyApIHtcblx0XHR0aW1lciA9IHRpbWVyc1sgaSBdO1xuXG5cdFx0Ly8gQ2hlY2tzIHRoZSB0aW1lciBoYXMgbm90IGFscmVhZHkgYmVlbiByZW1vdmVkXG5cdFx0aWYgKCAhdGltZXIoKSAmJiB0aW1lcnNbIGkgXSA9PT0gdGltZXIgKSB7XG5cdFx0XHR0aW1lcnMuc3BsaWNlKCBpLS0sIDEgKTtcblx0XHR9XG5cdH1cblxuXHRpZiAoICF0aW1lcnMubGVuZ3RoICkge1xuXHRcdGpRdWVyeS5meC5zdG9wKCk7XG5cdH1cblx0ZnhOb3cgPSB1bmRlZmluZWQ7XG59O1xuXG5qUXVlcnkuZngudGltZXIgPSBmdW5jdGlvbiggdGltZXIgKSB7XG5cdGpRdWVyeS50aW1lcnMucHVzaCggdGltZXIgKTtcblx0aWYgKCB0aW1lcigpICkge1xuXHRcdGpRdWVyeS5meC5zdGFydCgpO1xuXHR9IGVsc2Uge1xuXHRcdGpRdWVyeS50aW1lcnMucG9wKCk7XG5cdH1cbn07XG5cbmpRdWVyeS5meC5pbnRlcnZhbCA9IDEzO1xualF1ZXJ5LmZ4LnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG5cdGlmICggIXRpbWVySWQgKSB7XG5cdFx0dGltZXJJZCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgP1xuXHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSggcmFmICkgOlxuXHRcdFx0d2luZG93LnNldEludGVydmFsKCBqUXVlcnkuZngudGljaywgalF1ZXJ5LmZ4LmludGVydmFsICk7XG5cdH1cbn07XG5cbmpRdWVyeS5meC5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdGlmICggd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lICkge1xuXHRcdHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSggdGltZXJJZCApO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5jbGVhckludGVydmFsKCB0aW1lcklkICk7XG5cdH1cblxuXHR0aW1lcklkID0gbnVsbDtcbn07XG5cbmpRdWVyeS5meC5zcGVlZHMgPSB7XG5cdHNsb3c6IDYwMCxcblx0ZmFzdDogMjAwLFxuXG5cdC8vIERlZmF1bHQgc3BlZWRcblx0X2RlZmF1bHQ6IDQwMFxufTtcblxuXG4vLyBCYXNlZCBvZmYgb2YgdGhlIHBsdWdpbiBieSBDbGludCBIZWxmZXJzLCB3aXRoIHBlcm1pc3Npb24uXG4vLyBodHRwczovL3dlYi5hcmNoaXZlLm9yZy93ZWIvMjAxMDAzMjQwMTQ3NDcvaHR0cDovL2JsaW5kc2lnbmFscy5jb20vaW5kZXgucGhwLzIwMDkvMDcvanF1ZXJ5LWRlbGF5L1xualF1ZXJ5LmZuLmRlbGF5ID0gZnVuY3Rpb24oIHRpbWUsIHR5cGUgKSB7XG5cdHRpbWUgPSBqUXVlcnkuZnggPyBqUXVlcnkuZnguc3BlZWRzWyB0aW1lIF0gfHwgdGltZSA6IHRpbWU7XG5cdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblxuXHRyZXR1cm4gdGhpcy5xdWV1ZSggdHlwZSwgZnVuY3Rpb24oIG5leHQsIGhvb2tzICkge1xuXHRcdHZhciB0aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoIG5leHQsIHRpbWUgKTtcblx0XHRob29rcy5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR3aW5kb3cuY2xlYXJUaW1lb3V0KCB0aW1lb3V0ICk7XG5cdFx0fTtcblx0fSApO1xufTtcblxuXG4oIGZ1bmN0aW9uKCkge1xuXHR2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKSxcblx0XHRzZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcInNlbGVjdFwiICksXG5cdFx0b3B0ID0gc2VsZWN0LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcIm9wdGlvblwiICkgKTtcblxuXHRpbnB1dC50eXBlID0gXCJjaGVja2JveFwiO1xuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjMgb25seVxuXHQvLyBEZWZhdWx0IHZhbHVlIGZvciBhIGNoZWNrYm94IHNob3VsZCBiZSBcIm9uXCJcblx0c3VwcG9ydC5jaGVja09uID0gaW5wdXQudmFsdWUgIT09IFwiXCI7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdC8vIE11c3QgYWNjZXNzIHNlbGVjdGVkSW5kZXggdG8gbWFrZSBkZWZhdWx0IG9wdGlvbnMgc2VsZWN0XG5cdHN1cHBvcnQub3B0U2VsZWN0ZWQgPSBvcHQuc2VsZWN0ZWQ7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdC8vIEFuIGlucHV0IGxvc2VzIGl0cyB2YWx1ZSBhZnRlciBiZWNvbWluZyBhIHJhZGlvXG5cdGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICk7XG5cdGlucHV0LnZhbHVlID0gXCJ0XCI7XG5cdGlucHV0LnR5cGUgPSBcInJhZGlvXCI7XG5cdHN1cHBvcnQucmFkaW9WYWx1ZSA9IGlucHV0LnZhbHVlID09PSBcInRcIjtcbn0gKSgpO1xuXG5cbnZhciBib29sSG9vayxcblx0YXR0ckhhbmRsZSA9IGpRdWVyeS5leHByLmF0dHJIYW5kbGU7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0YXR0cjogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGpRdWVyeS5hdHRyLCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgKTtcblx0fSxcblxuXHRyZW1vdmVBdHRyOiBmdW5jdGlvbiggbmFtZSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCB0aGlzLCBuYW1lICk7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0YXR0cjogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdHZhciByZXQsIGhvb2tzLFxuXHRcdFx0blR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuXG5cdFx0Ly8gRG9uJ3QgZ2V0L3NldCBhdHRyaWJ1dGVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlc1xuXHRcdGlmICggblR5cGUgPT09IDMgfHwgblR5cGUgPT09IDggfHwgblR5cGUgPT09IDIgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gRmFsbGJhY2sgdG8gcHJvcCB3aGVuIGF0dHJpYnV0ZXMgYXJlIG5vdCBzdXBwb3J0ZWRcblx0XHRpZiAoIHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSA9PT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRcdHJldHVybiBqUXVlcnkucHJvcCggZWxlbSwgbmFtZSwgdmFsdWUgKTtcblx0XHR9XG5cblx0XHQvLyBBdHRyaWJ1dGUgaG9va3MgYXJlIGRldGVybWluZWQgYnkgdGhlIGxvd2VyY2FzZSB2ZXJzaW9uXG5cdFx0Ly8gR3JhYiBuZWNlc3NhcnkgaG9vayBpZiBvbmUgaXMgZGVmaW5lZFxuXHRcdGlmICggblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuXHRcdFx0aG9va3MgPSBqUXVlcnkuYXR0ckhvb2tzWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSB8fFxuXHRcdFx0XHQoIGpRdWVyeS5leHByLm1hdGNoLmJvb2wudGVzdCggbmFtZSApID8gYm9vbEhvb2sgOiB1bmRlZmluZWQgKTtcblx0XHR9XG5cblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRpZiAoIHZhbHVlID09PSBudWxsICkge1xuXHRcdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggZWxlbSwgbmFtZSApO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaG9va3MgJiYgXCJzZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHQoIHJldCA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIG5hbWUgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCB2YWx1ZSArIFwiXCIgKTtcblx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cblx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiYgKCByZXQgPSBob29rcy5nZXQoIGVsZW0sIG5hbWUgKSApICE9PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9XG5cblx0XHRyZXQgPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBuYW1lICk7XG5cblx0XHQvLyBOb24tZXhpc3RlbnQgYXR0cmlidXRlcyByZXR1cm4gbnVsbCwgd2Ugbm9ybWFsaXplIHRvIHVuZGVmaW5lZFxuXHRcdHJldHVybiByZXQgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IHJldDtcblx0fSxcblxuXHRhdHRySG9va3M6IHtcblx0XHR0eXBlOiB7XG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdFx0aWYgKCAhc3VwcG9ydC5yYWRpb1ZhbHVlICYmIHZhbHVlID09PSBcInJhZGlvXCIgJiZcblx0XHRcdFx0XHRqUXVlcnkubm9kZU5hbWUoIGVsZW0sIFwiaW5wdXRcIiApICkge1xuXHRcdFx0XHRcdHZhciB2YWwgPSBlbGVtLnZhbHVlO1xuXHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgdmFsdWUgKTtcblx0XHRcdFx0XHRpZiAoIHZhbCApIHtcblx0XHRcdFx0XHRcdGVsZW0udmFsdWUgPSB2YWw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRyZW1vdmVBdHRyOiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0dmFyIG5hbWUsXG5cdFx0XHRpID0gMCxcblx0XHRcdGF0dHJOYW1lcyA9IHZhbHVlICYmIHZhbHVlLm1hdGNoKCBybm90d2hpdGUgKTtcblxuXHRcdGlmICggYXR0ck5hbWVzICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHR3aGlsZSAoICggbmFtZSA9IGF0dHJOYW1lc1sgaSsrIF0gKSApIHtcblx0XHRcdFx0ZWxlbS5yZW1vdmVBdHRyaWJ1dGUoIG5hbWUgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn0gKTtcblxuLy8gSG9va3MgZm9yIGJvb2xlYW4gYXR0cmlidXRlc1xuYm9vbEhvb2sgPSB7XG5cdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBuYW1lICkge1xuXHRcdGlmICggdmFsdWUgPT09IGZhbHNlICkge1xuXG5cdFx0XHQvLyBSZW1vdmUgYm9vbGVhbiBhdHRyaWJ1dGVzIHdoZW4gc2V0IHRvIGZhbHNlXG5cdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggZWxlbSwgbmFtZSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggbmFtZSwgbmFtZSApO1xuXHRcdH1cblx0XHRyZXR1cm4gbmFtZTtcblx0fVxufTtcblxualF1ZXJ5LmVhY2goIGpRdWVyeS5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKCAvXFx3Ky9nICksIGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHR2YXIgZ2V0dGVyID0gYXR0ckhhbmRsZVsgbmFtZSBdIHx8IGpRdWVyeS5maW5kLmF0dHI7XG5cblx0YXR0ckhhbmRsZVsgbmFtZSBdID0gZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdHZhciByZXQsIGhhbmRsZSxcblx0XHRcdGxvd2VyY2FzZU5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cblx0XHRpZiAoICFpc1hNTCApIHtcblxuXHRcdFx0Ly8gQXZvaWQgYW4gaW5maW5pdGUgbG9vcCBieSB0ZW1wb3JhcmlseSByZW1vdmluZyB0aGlzIGZ1bmN0aW9uIGZyb20gdGhlIGdldHRlclxuXHRcdFx0aGFuZGxlID0gYXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdO1xuXHRcdFx0YXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdID0gcmV0O1xuXHRcdFx0cmV0ID0gZ2V0dGVyKCBlbGVtLCBuYW1lLCBpc1hNTCApICE9IG51bGwgP1xuXHRcdFx0XHRsb3dlcmNhc2VOYW1lIDpcblx0XHRcdFx0bnVsbDtcblx0XHRcdGF0dHJIYW5kbGVbIGxvd2VyY2FzZU5hbWUgXSA9IGhhbmRsZTtcblx0XHR9XG5cdFx0cmV0dXJuIHJldDtcblx0fTtcbn0gKTtcblxuXG5cblxudmFyIHJmb2N1c2FibGUgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFxuXHRyY2xpY2thYmxlID0gL14oPzphfGFyZWEpJC9pO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHByb3A6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBqUXVlcnkucHJvcCwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdH0sXG5cblx0cmVtb3ZlUHJvcDogZnVuY3Rpb24oIG5hbWUgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRkZWxldGUgdGhpc1sgalF1ZXJ5LnByb3BGaXhbIG5hbWUgXSB8fCBuYW1lIF07XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0cHJvcDogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdHZhciByZXQsIGhvb2tzLFxuXHRcdFx0blR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuXG5cdFx0Ly8gRG9uJ3QgZ2V0L3NldCBwcm9wZXJ0aWVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlc1xuXHRcdGlmICggblR5cGUgPT09IDMgfHwgblR5cGUgPT09IDggfHwgblR5cGUgPT09IDIgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBuVHlwZSAhPT0gMSB8fCAhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7XG5cblx0XHRcdC8vIEZpeCBuYW1lIGFuZCBhdHRhY2ggaG9va3Ncblx0XHRcdG5hbWUgPSBqUXVlcnkucHJvcEZpeFsgbmFtZSBdIHx8IG5hbWU7XG5cdFx0XHRob29rcyA9IGpRdWVyeS5wcm9wSG9va3NbIG5hbWUgXTtcblx0XHR9XG5cblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRpZiAoIGhvb2tzICYmIFwic2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0KCByZXQgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBuYW1lICkgKSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gKCBlbGVtWyBuYW1lIF0gPSB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgbmFtZSApICkgIT09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblxuXHRcdHJldHVybiBlbGVtWyBuYW1lIF07XG5cdH0sXG5cblx0cHJvcEhvb2tzOiB7XG5cdFx0dGFiSW5kZXg6IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seVxuXHRcdFx0XHQvLyBlbGVtLnRhYkluZGV4IGRvZXNuJ3QgYWx3YXlzIHJldHVybiB0aGVcblx0XHRcdFx0Ly8gY29ycmVjdCB2YWx1ZSB3aGVuIGl0IGhhc24ndCBiZWVuIGV4cGxpY2l0bHkgc2V0XG5cdFx0XHRcdC8vIGh0dHBzOi8vd2ViLmFyY2hpdmUub3JnL3dlYi8yMDE0MTExNjIzMzM0Ny9odHRwOi8vZmx1aWRwcm9qZWN0Lm9yZy9ibG9nLzIwMDgvMDEvMDkvZ2V0dGluZy1zZXR0aW5nLWFuZC1yZW1vdmluZy10YWJpbmRleC12YWx1ZXMtd2l0aC1qYXZhc2NyaXB0L1xuXHRcdFx0XHQvLyBVc2UgcHJvcGVyIGF0dHJpYnV0ZSByZXRyaWV2YWwoIzEyMDcyKVxuXHRcdFx0XHR2YXIgdGFiaW5kZXggPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBcInRhYmluZGV4XCIgKTtcblxuXHRcdFx0XHRyZXR1cm4gdGFiaW5kZXggP1xuXHRcdFx0XHRcdHBhcnNlSW50KCB0YWJpbmRleCwgMTAgKSA6XG5cdFx0XHRcdFx0cmZvY3VzYWJsZS50ZXN0KCBlbGVtLm5vZGVOYW1lICkgfHxcblx0XHRcdFx0XHRcdHJjbGlja2FibGUudGVzdCggZWxlbS5ub2RlTmFtZSApICYmIGVsZW0uaHJlZiA/XG5cdFx0XHRcdFx0XHRcdDAgOlxuXHRcdFx0XHRcdFx0XHQtMTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0cHJvcEZpeDoge1xuXHRcdFwiZm9yXCI6IFwiaHRtbEZvclwiLFxuXHRcdFwiY2xhc3NcIjogXCJjbGFzc05hbWVcIlxuXHR9XG59ICk7XG5cbi8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuLy8gQWNjZXNzaW5nIHRoZSBzZWxlY3RlZEluZGV4IHByb3BlcnR5XG4vLyBmb3JjZXMgdGhlIGJyb3dzZXIgdG8gcmVzcGVjdCBzZXR0aW5nIHNlbGVjdGVkXG4vLyBvbiB0aGUgb3B0aW9uXG4vLyBUaGUgZ2V0dGVyIGVuc3VyZXMgYSBkZWZhdWx0IG9wdGlvbiBpcyBzZWxlY3RlZFxuLy8gd2hlbiBpbiBhbiBvcHRncm91cFxuaWYgKCAhc3VwcG9ydC5vcHRTZWxlY3RlZCApIHtcblx0alF1ZXJ5LnByb3BIb29rcy5zZWxlY3RlZCA9IHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcblx0XHRcdGlmICggcGFyZW50ICYmIHBhcmVudC5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRwYXJlbnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fSxcblx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcblx0XHRcdGlmICggcGFyZW50ICkge1xuXHRcdFx0XHRwYXJlbnQuc2VsZWN0ZWRJbmRleDtcblxuXHRcdFx0XHRpZiAoIHBhcmVudC5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRcdHBhcmVudC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbmpRdWVyeS5lYWNoKCBbXG5cdFwidGFiSW5kZXhcIixcblx0XCJyZWFkT25seVwiLFxuXHRcIm1heExlbmd0aFwiLFxuXHRcImNlbGxTcGFjaW5nXCIsXG5cdFwiY2VsbFBhZGRpbmdcIixcblx0XCJyb3dTcGFuXCIsXG5cdFwiY29sU3BhblwiLFxuXHRcInVzZU1hcFwiLFxuXHRcImZyYW1lQm9yZGVyXCIsXG5cdFwiY29udGVudEVkaXRhYmxlXCJcbl0sIGZ1bmN0aW9uKCkge1xuXHRqUXVlcnkucHJvcEZpeFsgdGhpcy50b0xvd2VyQ2FzZSgpIF0gPSB0aGlzO1xufSApO1xuXG5cblxuXG52YXIgcmNsYXNzID0gL1tcXHRcXHJcXG5cXGZdL2c7XG5cbmZ1bmN0aW9uIGdldENsYXNzKCBlbGVtICkge1xuXHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUgJiYgZWxlbS5nZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIiApIHx8IFwiXCI7XG59XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0YWRkQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHR2YXIgY2xhc3NlcywgZWxlbSwgY3VyLCBjdXJWYWx1ZSwgY2xhenosIGosIGZpbmFsVmFsdWUsXG5cdFx0XHRpID0gMDtcblxuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaiApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuYWRkQ2xhc3MoIHZhbHVlLmNhbGwoIHRoaXMsIGosIGdldENsYXNzKCB0aGlzICkgKSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdGlmICggdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIHZhbHVlICkge1xuXHRcdFx0Y2xhc3NlcyA9IHZhbHVlLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbXTtcblxuXHRcdFx0d2hpbGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkge1xuXHRcdFx0XHRjdXJWYWx1ZSA9IGdldENsYXNzKCBlbGVtICk7XG5cdFx0XHRcdGN1ciA9IGVsZW0ubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0XHQoIFwiIFwiICsgY3VyVmFsdWUgKyBcIiBcIiApLnJlcGxhY2UoIHJjbGFzcywgXCIgXCIgKTtcblxuXHRcdFx0XHRpZiAoIGN1ciApIHtcblx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHR3aGlsZSAoICggY2xhenogPSBjbGFzc2VzWyBqKysgXSApICkge1xuXHRcdFx0XHRcdFx0aWYgKCBjdXIuaW5kZXhPZiggXCIgXCIgKyBjbGF6eiArIFwiIFwiICkgPCAwICkge1xuXHRcdFx0XHRcdFx0XHRjdXIgKz0gY2xhenogKyBcIiBcIjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBPbmx5IGFzc2lnbiBpZiBkaWZmZXJlbnQgdG8gYXZvaWQgdW5uZWVkZWQgcmVuZGVyaW5nLlxuXHRcdFx0XHRcdGZpbmFsVmFsdWUgPSBqUXVlcnkudHJpbSggY3VyICk7XG5cdFx0XHRcdFx0aWYgKCBjdXJWYWx1ZSAhPT0gZmluYWxWYWx1ZSApIHtcblx0XHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBcImNsYXNzXCIsIGZpbmFsVmFsdWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRyZW1vdmVDbGFzczogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBjbGFzc2VzLCBlbGVtLCBjdXIsIGN1clZhbHVlLCBjbGF6eiwgaiwgZmluYWxWYWx1ZSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBqICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5yZW1vdmVDbGFzcyggdmFsdWUuY2FsbCggdGhpcywgaiwgZ2V0Q2xhc3MoIHRoaXMgKSApICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCAhYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiB0aGlzLmF0dHIoIFwiY2xhc3NcIiwgXCJcIiApO1xuXHRcdH1cblxuXHRcdGlmICggdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIHZhbHVlICkge1xuXHRcdFx0Y2xhc3NlcyA9IHZhbHVlLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbXTtcblxuXHRcdFx0d2hpbGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkge1xuXHRcdFx0XHRjdXJWYWx1ZSA9IGdldENsYXNzKCBlbGVtICk7XG5cblx0XHRcdFx0Ly8gVGhpcyBleHByZXNzaW9uIGlzIGhlcmUgZm9yIGJldHRlciBjb21wcmVzc2liaWxpdHkgKHNlZSBhZGRDbGFzcylcblx0XHRcdFx0Y3VyID0gZWxlbS5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0XHRcdCggXCIgXCIgKyBjdXJWYWx1ZSArIFwiIFwiICkucmVwbGFjZSggcmNsYXNzLCBcIiBcIiApO1xuXG5cdFx0XHRcdGlmICggY3VyICkge1xuXHRcdFx0XHRcdGogPSAwO1xuXHRcdFx0XHRcdHdoaWxlICggKCBjbGF6eiA9IGNsYXNzZXNbIGorKyBdICkgKSB7XG5cblx0XHRcdFx0XHRcdC8vIFJlbW92ZSAqYWxsKiBpbnN0YW5jZXNcblx0XHRcdFx0XHRcdHdoaWxlICggY3VyLmluZGV4T2YoIFwiIFwiICsgY2xhenogKyBcIiBcIiApID4gLTEgKSB7XG5cdFx0XHRcdFx0XHRcdGN1ciA9IGN1ci5yZXBsYWNlKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIsIFwiIFwiICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gT25seSBhc3NpZ24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy5cblx0XHRcdFx0XHRmaW5hbFZhbHVlID0galF1ZXJ5LnRyaW0oIGN1ciApO1xuXHRcdFx0XHRcdGlmICggY3VyVmFsdWUgIT09IGZpbmFsVmFsdWUgKSB7XG5cdFx0XHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggXCJjbGFzc1wiLCBmaW5hbFZhbHVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0dG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSwgc3RhdGVWYWwgKSB7XG5cdFx0dmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cblx0XHRpZiAoIHR5cGVvZiBzdGF0ZVZhbCA9PT0gXCJib29sZWFuXCIgJiYgdHlwZSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiBzdGF0ZVZhbCA/IHRoaXMuYWRkQ2xhc3MoIHZhbHVlICkgOiB0aGlzLnJlbW92ZUNsYXNzKCB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkudG9nZ2xlQ2xhc3MoXG5cdFx0XHRcdFx0dmFsdWUuY2FsbCggdGhpcywgaSwgZ2V0Q2xhc3MoIHRoaXMgKSwgc3RhdGVWYWwgKSxcblx0XHRcdFx0XHRzdGF0ZVZhbFxuXHRcdFx0XHQpO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGNsYXNzTmFtZSwgaSwgc2VsZiwgY2xhc3NOYW1lcztcblxuXHRcdFx0aWYgKCB0eXBlID09PSBcInN0cmluZ1wiICkge1xuXG5cdFx0XHRcdC8vIFRvZ2dsZSBpbmRpdmlkdWFsIGNsYXNzIG5hbWVzXG5cdFx0XHRcdGkgPSAwO1xuXHRcdFx0XHRzZWxmID0galF1ZXJ5KCB0aGlzICk7XG5cdFx0XHRcdGNsYXNzTmFtZXMgPSB2YWx1ZS5tYXRjaCggcm5vdHdoaXRlICkgfHwgW107XG5cblx0XHRcdFx0d2hpbGUgKCAoIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXNbIGkrKyBdICkgKSB7XG5cblx0XHRcdFx0XHQvLyBDaGVjayBlYWNoIGNsYXNzTmFtZSBnaXZlbiwgc3BhY2Ugc2VwYXJhdGVkIGxpc3Rcblx0XHRcdFx0XHRpZiAoIHNlbGYuaGFzQ2xhc3MoIGNsYXNzTmFtZSApICkge1xuXHRcdFx0XHRcdFx0c2VsZi5yZW1vdmVDbGFzcyggY2xhc3NOYW1lICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHNlbGYuYWRkQ2xhc3MoIGNsYXNzTmFtZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHQvLyBUb2dnbGUgd2hvbGUgY2xhc3MgbmFtZVxuXHRcdFx0fSBlbHNlIGlmICggdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB0eXBlID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRcdFx0Y2xhc3NOYW1lID0gZ2V0Q2xhc3MoIHRoaXMgKTtcblx0XHRcdFx0aWYgKCBjbGFzc05hbWUgKSB7XG5cblx0XHRcdFx0XHQvLyBTdG9yZSBjbGFzc05hbWUgaWYgc2V0XG5cdFx0XHRcdFx0ZGF0YVByaXYuc2V0KCB0aGlzLCBcIl9fY2xhc3NOYW1lX19cIiwgY2xhc3NOYW1lICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBJZiB0aGUgZWxlbWVudCBoYXMgYSBjbGFzcyBuYW1lIG9yIGlmIHdlJ3JlIHBhc3NlZCBgZmFsc2VgLFxuXHRcdFx0XHQvLyB0aGVuIHJlbW92ZSB0aGUgd2hvbGUgY2xhc3NuYW1lIChpZiB0aGVyZSB3YXMgb25lLCB0aGUgYWJvdmUgc2F2ZWQgaXQpLlxuXHRcdFx0XHQvLyBPdGhlcndpc2UgYnJpbmcgYmFjayB3aGF0ZXZlciB3YXMgcHJldmlvdXNseSBzYXZlZCAoaWYgYW55dGhpbmcpLFxuXHRcdFx0XHQvLyBmYWxsaW5nIGJhY2sgdG8gdGhlIGVtcHR5IHN0cmluZyBpZiBub3RoaW5nIHdhcyBzdG9yZWQuXG5cdFx0XHRcdGlmICggdGhpcy5zZXRBdHRyaWJ1dGUgKSB7XG5cdFx0XHRcdFx0dGhpcy5zZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIixcblx0XHRcdFx0XHRcdGNsYXNzTmFtZSB8fCB2YWx1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0XHRcdFx0XCJcIiA6XG5cdFx0XHRcdFx0XHRkYXRhUHJpdi5nZXQoIHRoaXMsIFwiX19jbGFzc05hbWVfX1wiICkgfHwgXCJcIlxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0aGFzQ2xhc3M6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR2YXIgY2xhc3NOYW1lLCBlbGVtLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRjbGFzc05hbWUgPSBcIiBcIiArIHNlbGVjdG9yICsgXCIgXCI7XG5cdFx0d2hpbGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkge1xuXHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdCggXCIgXCIgKyBnZXRDbGFzcyggZWxlbSApICsgXCIgXCIgKS5yZXBsYWNlKCByY2xhc3MsIFwiIFwiIClcblx0XHRcdFx0XHQuaW5kZXhPZiggY2xhc3NOYW1lICkgPiAtMVxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufSApO1xuXG5cblxuXG52YXIgcnJldHVybiA9IC9cXHIvZyxcblx0cnNwYWNlcyA9IC9bXFx4MjBcXHRcXHJcXG5cXGZdKy9nO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHZhbDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBob29rcywgcmV0LCBpc0Z1bmN0aW9uLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXTtcblxuXHRcdGlmICggIWFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRcdGhvb2tzID0galF1ZXJ5LnZhbEhvb2tzWyBlbGVtLnR5cGUgXSB8fFxuXHRcdFx0XHRcdGpRdWVyeS52YWxIb29rc1sgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIF07XG5cblx0XHRcdFx0aWYgKCBob29rcyAmJlxuXHRcdFx0XHRcdFwiZ2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0XHQoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgXCJ2YWx1ZVwiICkgKSAhPT0gdW5kZWZpbmVkXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXQgPSBlbGVtLnZhbHVlO1xuXG5cdFx0XHRcdHJldHVybiB0eXBlb2YgcmV0ID09PSBcInN0cmluZ1wiID9cblxuXHRcdFx0XHRcdC8vIEhhbmRsZSBtb3N0IGNvbW1vbiBzdHJpbmcgY2FzZXNcblx0XHRcdFx0XHRyZXQucmVwbGFjZSggcnJldHVybiwgXCJcIiApIDpcblxuXHRcdFx0XHRcdC8vIEhhbmRsZSBjYXNlcyB3aGVyZSB2YWx1ZSBpcyBudWxsL3VuZGVmIG9yIG51bWJlclxuXHRcdFx0XHRcdHJldCA9PSBudWxsID8gXCJcIiA6IHJldDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlzRnVuY3Rpb24gPSBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKTtcblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0dmFyIHZhbDtcblxuXHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlICE9PSAxICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaXNGdW5jdGlvbiApIHtcblx0XHRcdFx0dmFsID0gdmFsdWUuY2FsbCggdGhpcywgaSwgalF1ZXJ5KCB0aGlzICkudmFsKCkgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhbCA9IHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUcmVhdCBudWxsL3VuZGVmaW5lZCBhcyBcIlwiOyBjb252ZXJ0IG51bWJlcnMgdG8gc3RyaW5nXG5cdFx0XHRpZiAoIHZhbCA9PSBudWxsICkge1xuXHRcdFx0XHR2YWwgPSBcIlwiO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCB0eXBlb2YgdmFsID09PSBcIm51bWJlclwiICkge1xuXHRcdFx0XHR2YWwgKz0gXCJcIjtcblxuXHRcdFx0fSBlbHNlIGlmICggalF1ZXJ5LmlzQXJyYXkoIHZhbCApICkge1xuXHRcdFx0XHR2YWwgPSBqUXVlcnkubWFwKCB2YWwsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSArIFwiXCI7XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblxuXHRcdFx0aG9va3MgPSBqUXVlcnkudmFsSG9va3NbIHRoaXMudHlwZSBdIHx8IGpRdWVyeS52YWxIb29rc1sgdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIF07XG5cblx0XHRcdC8vIElmIHNldCByZXR1cm5zIHVuZGVmaW5lZCwgZmFsbCBiYWNrIHRvIG5vcm1hbCBzZXR0aW5nXG5cdFx0XHRpZiAoICFob29rcyB8fCAhKCBcInNldFwiIGluIGhvb2tzICkgfHwgaG9va3Muc2V0KCB0aGlzLCB2YWwsIFwidmFsdWVcIiApID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHRoaXMudmFsdWUgPSB2YWw7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0dmFsSG9va3M6IHtcblx0XHRvcHRpb246IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdFx0dmFyIHZhbCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIFwidmFsdWVcIiApO1xuXHRcdFx0XHRyZXR1cm4gdmFsICE9IG51bGwgP1xuXHRcdFx0XHRcdHZhbCA6XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTEwIC0gMTEgb25seVxuXHRcdFx0XHRcdC8vIG9wdGlvbi50ZXh0IHRocm93cyBleGNlcHRpb25zICgjMTQ2ODYsICMxNDg1OClcblx0XHRcdFx0XHQvLyBTdHJpcCBhbmQgY29sbGFwc2Ugd2hpdGVzcGFjZVxuXHRcdFx0XHRcdC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI3N0cmlwLWFuZC1jb2xsYXBzZS13aGl0ZXNwYWNlXG5cdFx0XHRcdFx0alF1ZXJ5LnRyaW0oIGpRdWVyeS50ZXh0KCBlbGVtICkgKS5yZXBsYWNlKCByc3BhY2VzLCBcIiBcIiApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0c2VsZWN0OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgdmFsdWUsIG9wdGlvbixcblx0XHRcdFx0XHRvcHRpb25zID0gZWxlbS5vcHRpb25zLFxuXHRcdFx0XHRcdGluZGV4ID0gZWxlbS5zZWxlY3RlZEluZGV4LFxuXHRcdFx0XHRcdG9uZSA9IGVsZW0udHlwZSA9PT0gXCJzZWxlY3Qtb25lXCIsXG5cdFx0XHRcdFx0dmFsdWVzID0gb25lID8gbnVsbCA6IFtdLFxuXHRcdFx0XHRcdG1heCA9IG9uZSA/IGluZGV4ICsgMSA6IG9wdGlvbnMubGVuZ3RoLFxuXHRcdFx0XHRcdGkgPSBpbmRleCA8IDAgP1xuXHRcdFx0XHRcdFx0bWF4IDpcblx0XHRcdFx0XHRcdG9uZSA/IGluZGV4IDogMDtcblxuXHRcdFx0XHQvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBzZWxlY3RlZCBvcHRpb25zXG5cdFx0XHRcdGZvciAoIDsgaSA8IG1heDsgaSsrICkge1xuXHRcdFx0XHRcdG9wdGlvbiA9IG9wdGlvbnNbIGkgXTtcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdFx0XHRcdFx0Ly8gSUU4LTkgZG9lc24ndCB1cGRhdGUgc2VsZWN0ZWQgYWZ0ZXIgZm9ybSByZXNldCAoIzI1NTEpXG5cdFx0XHRcdFx0aWYgKCAoIG9wdGlvbi5zZWxlY3RlZCB8fCBpID09PSBpbmRleCApICYmXG5cblx0XHRcdFx0XHRcdFx0Ly8gRG9uJ3QgcmV0dXJuIG9wdGlvbnMgdGhhdCBhcmUgZGlzYWJsZWQgb3IgaW4gYSBkaXNhYmxlZCBvcHRncm91cFxuXHRcdFx0XHRcdFx0XHQhb3B0aW9uLmRpc2FibGVkICYmXG5cdFx0XHRcdFx0XHRcdCggIW9wdGlvbi5wYXJlbnROb2RlLmRpc2FibGVkIHx8XG5cdFx0XHRcdFx0XHRcdFx0IWpRdWVyeS5ub2RlTmFtZSggb3B0aW9uLnBhcmVudE5vZGUsIFwib3B0Z3JvdXBcIiApICkgKSB7XG5cblx0XHRcdFx0XHRcdC8vIEdldCB0aGUgc3BlY2lmaWMgdmFsdWUgZm9yIHRoZSBvcHRpb25cblx0XHRcdFx0XHRcdHZhbHVlID0galF1ZXJ5KCBvcHRpb24gKS52YWwoKTtcblxuXHRcdFx0XHRcdFx0Ly8gV2UgZG9uJ3QgbmVlZCBhbiBhcnJheSBmb3Igb25lIHNlbGVjdHNcblx0XHRcdFx0XHRcdGlmICggb25lICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIE11bHRpLVNlbGVjdHMgcmV0dXJuIGFuIGFycmF5XG5cdFx0XHRcdFx0XHR2YWx1ZXMucHVzaCggdmFsdWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdmFsdWVzO1xuXHRcdFx0fSxcblxuXHRcdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0XHRcdHZhciBvcHRpb25TZXQsIG9wdGlvbixcblx0XHRcdFx0XHRvcHRpb25zID0gZWxlbS5vcHRpb25zLFxuXHRcdFx0XHRcdHZhbHVlcyA9IGpRdWVyeS5tYWtlQXJyYXkoIHZhbHVlICksXG5cdFx0XHRcdFx0aSA9IG9wdGlvbnMubGVuZ3RoO1xuXG5cdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdG9wdGlvbiA9IG9wdGlvbnNbIGkgXTtcblxuXHRcdFx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbmQtYXNzaWduICovXG5cblx0XHRcdFx0XHRpZiAoIG9wdGlvbi5zZWxlY3RlZCA9XG5cdFx0XHRcdFx0XHRqUXVlcnkuaW5BcnJheSggalF1ZXJ5LnZhbEhvb2tzLm9wdGlvbi5nZXQoIG9wdGlvbiApLCB2YWx1ZXMgKSA+IC0xXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRvcHRpb25TZXQgPSB0cnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8qIGVzbGludC1lbmFibGUgbm8tY29uZC1hc3NpZ24gKi9cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEZvcmNlIGJyb3dzZXJzIHRvIGJlaGF2ZSBjb25zaXN0ZW50bHkgd2hlbiBub24tbWF0Y2hpbmcgdmFsdWUgaXMgc2V0XG5cdFx0XHRcdGlmICggIW9wdGlvblNldCApIHtcblx0XHRcdFx0XHRlbGVtLnNlbGVjdGVkSW5kZXggPSAtMTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdmFsdWVzO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG4vLyBSYWRpb3MgYW5kIGNoZWNrYm94ZXMgZ2V0dGVyL3NldHRlclxualF1ZXJ5LmVhY2goIFsgXCJyYWRpb1wiLCBcImNoZWNrYm94XCIgXSwgZnVuY3Rpb24oKSB7XG5cdGpRdWVyeS52YWxIb29rc1sgdGhpcyBdID0ge1xuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0aWYgKCBqUXVlcnkuaXNBcnJheSggdmFsdWUgKSApIHtcblx0XHRcdFx0cmV0dXJuICggZWxlbS5jaGVja2VkID0galF1ZXJ5LmluQXJyYXkoIGpRdWVyeSggZWxlbSApLnZhbCgpLCB2YWx1ZSApID4gLTEgKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdGlmICggIXN1cHBvcnQuY2hlY2tPbiApIHtcblx0XHRqUXVlcnkudmFsSG9va3NbIHRoaXMgXS5nZXQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiICkgPT09IG51bGwgPyBcIm9uXCIgOiBlbGVtLnZhbHVlO1xuXHRcdH07XG5cdH1cbn0gKTtcblxuXG5cblxuLy8gUmV0dXJuIGpRdWVyeSBmb3IgYXR0cmlidXRlcy1vbmx5IGluY2x1c2lvblxuXG5cbnZhciByZm9jdXNNb3JwaCA9IC9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLztcblxualF1ZXJ5LmV4dGVuZCggalF1ZXJ5LmV2ZW50LCB7XG5cblx0dHJpZ2dlcjogZnVuY3Rpb24oIGV2ZW50LCBkYXRhLCBlbGVtLCBvbmx5SGFuZGxlcnMgKSB7XG5cblx0XHR2YXIgaSwgY3VyLCB0bXAsIGJ1YmJsZVR5cGUsIG9udHlwZSwgaGFuZGxlLCBzcGVjaWFsLFxuXHRcdFx0ZXZlbnRQYXRoID0gWyBlbGVtIHx8IGRvY3VtZW50IF0sXG5cdFx0XHR0eXBlID0gaGFzT3duLmNhbGwoIGV2ZW50LCBcInR5cGVcIiApID8gZXZlbnQudHlwZSA6IGV2ZW50LFxuXHRcdFx0bmFtZXNwYWNlcyA9IGhhc093bi5jYWxsKCBldmVudCwgXCJuYW1lc3BhY2VcIiApID8gZXZlbnQubmFtZXNwYWNlLnNwbGl0KCBcIi5cIiApIDogW107XG5cblx0XHRjdXIgPSB0bXAgPSBlbGVtID0gZWxlbSB8fCBkb2N1bWVudDtcblxuXHRcdC8vIERvbid0IGRvIGV2ZW50cyBvbiB0ZXh0IGFuZCBjb21tZW50IG5vZGVzXG5cdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gZm9jdXMvYmx1ciBtb3JwaHMgdG8gZm9jdXNpbi9vdXQ7IGVuc3VyZSB3ZSdyZSBub3QgZmlyaW5nIHRoZW0gcmlnaHQgbm93XG5cdFx0aWYgKCByZm9jdXNNb3JwaC50ZXN0KCB0eXBlICsgalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggdHlwZS5pbmRleE9mKCBcIi5cIiApID4gLTEgKSB7XG5cblx0XHRcdC8vIE5hbWVzcGFjZWQgdHJpZ2dlcjsgY3JlYXRlIGEgcmVnZXhwIHRvIG1hdGNoIGV2ZW50IHR5cGUgaW4gaGFuZGxlKClcblx0XHRcdG5hbWVzcGFjZXMgPSB0eXBlLnNwbGl0KCBcIi5cIiApO1xuXHRcdFx0dHlwZSA9IG5hbWVzcGFjZXMuc2hpZnQoKTtcblx0XHRcdG5hbWVzcGFjZXMuc29ydCgpO1xuXHRcdH1cblx0XHRvbnR5cGUgPSB0eXBlLmluZGV4T2YoIFwiOlwiICkgPCAwICYmIFwib25cIiArIHR5cGU7XG5cblx0XHQvLyBDYWxsZXIgY2FuIHBhc3MgaW4gYSBqUXVlcnkuRXZlbnQgb2JqZWN0LCBPYmplY3QsIG9yIGp1c3QgYW4gZXZlbnQgdHlwZSBzdHJpbmdcblx0XHRldmVudCA9IGV2ZW50WyBqUXVlcnkuZXhwYW5kbyBdID9cblx0XHRcdGV2ZW50IDpcblx0XHRcdG5ldyBqUXVlcnkuRXZlbnQoIHR5cGUsIHR5cGVvZiBldmVudCA9PT0gXCJvYmplY3RcIiAmJiBldmVudCApO1xuXG5cdFx0Ly8gVHJpZ2dlciBiaXRtYXNrOiAmIDEgZm9yIG5hdGl2ZSBoYW5kbGVyczsgJiAyIGZvciBqUXVlcnkgKGFsd2F5cyB0cnVlKVxuXHRcdGV2ZW50LmlzVHJpZ2dlciA9IG9ubHlIYW5kbGVycyA/IDIgOiAzO1xuXHRcdGV2ZW50Lm5hbWVzcGFjZSA9IG5hbWVzcGFjZXMuam9pbiggXCIuXCIgKTtcblx0XHRldmVudC5ybmFtZXNwYWNlID0gZXZlbnQubmFtZXNwYWNlID9cblx0XHRcdG5ldyBSZWdFeHAoIFwiKF58XFxcXC4pXCIgKyBuYW1lc3BhY2VzLmpvaW4oIFwiXFxcXC4oPzouKlxcXFwufClcIiApICsgXCIoXFxcXC58JClcIiApIDpcblx0XHRcdG51bGw7XG5cblx0XHQvLyBDbGVhbiB1cCB0aGUgZXZlbnQgaW4gY2FzZSBpdCBpcyBiZWluZyByZXVzZWRcblx0XHRldmVudC5yZXN1bHQgPSB1bmRlZmluZWQ7XG5cdFx0aWYgKCAhZXZlbnQudGFyZ2V0ICkge1xuXHRcdFx0ZXZlbnQudGFyZ2V0ID0gZWxlbTtcblx0XHR9XG5cblx0XHQvLyBDbG9uZSBhbnkgaW5jb21pbmcgZGF0YSBhbmQgcHJlcGVuZCB0aGUgZXZlbnQsIGNyZWF0aW5nIHRoZSBoYW5kbGVyIGFyZyBsaXN0XG5cdFx0ZGF0YSA9IGRhdGEgPT0gbnVsbCA/XG5cdFx0XHRbIGV2ZW50IF0gOlxuXHRcdFx0alF1ZXJ5Lm1ha2VBcnJheSggZGF0YSwgWyBldmVudCBdICk7XG5cblx0XHQvLyBBbGxvdyBzcGVjaWFsIGV2ZW50cyB0byBkcmF3IG91dHNpZGUgdGhlIGxpbmVzXG5cdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cdFx0aWYgKCAhb25seUhhbmRsZXJzICYmIHNwZWNpYWwudHJpZ2dlciAmJiBzcGVjaWFsLnRyaWdnZXIuYXBwbHkoIGVsZW0sIGRhdGEgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZXJtaW5lIGV2ZW50IHByb3BhZ2F0aW9uIHBhdGggaW4gYWR2YW5jZSwgcGVyIFczQyBldmVudHMgc3BlYyAoIzk5NTEpXG5cdFx0Ly8gQnViYmxlIHVwIHRvIGRvY3VtZW50LCB0aGVuIHRvIHdpbmRvdzsgd2F0Y2ggZm9yIGEgZ2xvYmFsIG93bmVyRG9jdW1lbnQgdmFyICgjOTcyNClcblx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgIXNwZWNpYWwubm9CdWJibGUgJiYgIWpRdWVyeS5pc1dpbmRvdyggZWxlbSApICkge1xuXG5cdFx0XHRidWJibGVUeXBlID0gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgfHwgdHlwZTtcblx0XHRcdGlmICggIXJmb2N1c01vcnBoLnRlc3QoIGJ1YmJsZVR5cGUgKyB0eXBlICkgKSB7XG5cdFx0XHRcdGN1ciA9IGN1ci5wYXJlbnROb2RlO1xuXHRcdFx0fVxuXHRcdFx0Zm9yICggOyBjdXI7IGN1ciA9IGN1ci5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRldmVudFBhdGgucHVzaCggY3VyICk7XG5cdFx0XHRcdHRtcCA9IGN1cjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gT25seSBhZGQgd2luZG93IGlmIHdlIGdvdCB0byBkb2N1bWVudCAoZS5nLiwgbm90IHBsYWluIG9iaiBvciBkZXRhY2hlZCBET00pXG5cdFx0XHRpZiAoIHRtcCA9PT0gKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZG9jdW1lbnQgKSApIHtcblx0XHRcdFx0ZXZlbnRQYXRoLnB1c2goIHRtcC5kZWZhdWx0VmlldyB8fCB0bXAucGFyZW50V2luZG93IHx8IHdpbmRvdyApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEZpcmUgaGFuZGxlcnMgb24gdGhlIGV2ZW50IHBhdGhcblx0XHRpID0gMDtcblx0XHR3aGlsZSAoICggY3VyID0gZXZlbnRQYXRoWyBpKysgXSApICYmICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXG5cdFx0XHRldmVudC50eXBlID0gaSA+IDEgP1xuXHRcdFx0XHRidWJibGVUeXBlIDpcblx0XHRcdFx0c3BlY2lhbC5iaW5kVHlwZSB8fCB0eXBlO1xuXG5cdFx0XHQvLyBqUXVlcnkgaGFuZGxlclxuXHRcdFx0aGFuZGxlID0gKCBkYXRhUHJpdi5nZXQoIGN1ciwgXCJldmVudHNcIiApIHx8IHt9IClbIGV2ZW50LnR5cGUgXSAmJlxuXHRcdFx0XHRkYXRhUHJpdi5nZXQoIGN1ciwgXCJoYW5kbGVcIiApO1xuXHRcdFx0aWYgKCBoYW5kbGUgKSB7XG5cdFx0XHRcdGhhbmRsZS5hcHBseSggY3VyLCBkYXRhICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE5hdGl2ZSBoYW5kbGVyXG5cdFx0XHRoYW5kbGUgPSBvbnR5cGUgJiYgY3VyWyBvbnR5cGUgXTtcblx0XHRcdGlmICggaGFuZGxlICYmIGhhbmRsZS5hcHBseSAmJiBhY2NlcHREYXRhKCBjdXIgKSApIHtcblx0XHRcdFx0ZXZlbnQucmVzdWx0ID0gaGFuZGxlLmFwcGx5KCBjdXIsIGRhdGEgKTtcblx0XHRcdFx0aWYgKCBldmVudC5yZXN1bHQgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0ZXZlbnQudHlwZSA9IHR5cGU7XG5cblx0XHQvLyBJZiBub2JvZHkgcHJldmVudGVkIHRoZSBkZWZhdWx0IGFjdGlvbiwgZG8gaXQgbm93XG5cdFx0aWYgKCAhb25seUhhbmRsZXJzICYmICFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHtcblxuXHRcdFx0aWYgKCAoICFzcGVjaWFsLl9kZWZhdWx0IHx8XG5cdFx0XHRcdHNwZWNpYWwuX2RlZmF1bHQuYXBwbHkoIGV2ZW50UGF0aC5wb3AoKSwgZGF0YSApID09PSBmYWxzZSApICYmXG5cdFx0XHRcdGFjY2VwdERhdGEoIGVsZW0gKSApIHtcblxuXHRcdFx0XHQvLyBDYWxsIGEgbmF0aXZlIERPTSBtZXRob2Qgb24gdGhlIHRhcmdldCB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgdGhlIGV2ZW50LlxuXHRcdFx0XHQvLyBEb24ndCBkbyBkZWZhdWx0IGFjdGlvbnMgb24gd2luZG93LCB0aGF0J3Mgd2hlcmUgZ2xvYmFsIHZhcmlhYmxlcyBiZSAoIzYxNzApXG5cdFx0XHRcdGlmICggb250eXBlICYmIGpRdWVyeS5pc0Z1bmN0aW9uKCBlbGVtWyB0eXBlIF0gKSAmJiAhalF1ZXJ5LmlzV2luZG93KCBlbGVtICkgKSB7XG5cblx0XHRcdFx0XHQvLyBEb24ndCByZS10cmlnZ2VyIGFuIG9uRk9PIGV2ZW50IHdoZW4gd2UgY2FsbCBpdHMgRk9PKCkgbWV0aG9kXG5cdFx0XHRcdFx0dG1wID0gZWxlbVsgb250eXBlIF07XG5cblx0XHRcdFx0XHRpZiAoIHRtcCApIHtcblx0XHRcdFx0XHRcdGVsZW1bIG9udHlwZSBdID0gbnVsbDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBQcmV2ZW50IHJlLXRyaWdnZXJpbmcgb2YgdGhlIHNhbWUgZXZlbnQsIHNpbmNlIHdlIGFscmVhZHkgYnViYmxlZCBpdCBhYm92ZVxuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB0eXBlO1xuXHRcdFx0XHRcdGVsZW1bIHR5cGUgXSgpO1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoIHRtcCApIHtcblx0XHRcdFx0XHRcdGVsZW1bIG9udHlwZSBdID0gdG1wO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBldmVudC5yZXN1bHQ7XG5cdH0sXG5cblx0Ly8gUGlnZ3liYWNrIG9uIGEgZG9ub3IgZXZlbnQgdG8gc2ltdWxhdGUgYSBkaWZmZXJlbnQgb25lXG5cdC8vIFVzZWQgb25seSBmb3IgYGZvY3VzKGluIHwgb3V0KWAgZXZlbnRzXG5cdHNpbXVsYXRlOiBmdW5jdGlvbiggdHlwZSwgZWxlbSwgZXZlbnQgKSB7XG5cdFx0dmFyIGUgPSBqUXVlcnkuZXh0ZW5kKFxuXHRcdFx0bmV3IGpRdWVyeS5FdmVudCgpLFxuXHRcdFx0ZXZlbnQsXG5cdFx0XHR7XG5cdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdGlzU2ltdWxhdGVkOiB0cnVlXG5cdFx0XHR9XG5cdFx0KTtcblxuXHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBlLCBudWxsLCBlbGVtICk7XG5cdH1cblxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cblx0dHJpZ2dlcjogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggdHlwZSwgZGF0YSwgdGhpcyApO1xuXHRcdH0gKTtcblx0fSxcblx0dHJpZ2dlckhhbmRsZXI6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdHZhciBlbGVtID0gdGhpc1sgMCBdO1xuXHRcdGlmICggZWxlbSApIHtcblx0XHRcdHJldHVybiBqUXVlcnkuZXZlbnQudHJpZ2dlciggdHlwZSwgZGF0YSwgZWxlbSwgdHJ1ZSApO1xuXHRcdH1cblx0fVxufSApO1xuXG5cbmpRdWVyeS5lYWNoKCAoIFwiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgXCIgK1xuXHRcIm1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIFwiICtcblx0XCJjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGNvbnRleHRtZW51XCIgKS5zcGxpdCggXCIgXCIgKSxcblx0ZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cblx0Ly8gSGFuZGxlIGV2ZW50IGJpbmRpbmdcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggZGF0YSwgZm4gKSB7XG5cdFx0cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAwID9cblx0XHRcdHRoaXMub24oIG5hbWUsIG51bGwsIGRhdGEsIGZuICkgOlxuXHRcdFx0dGhpcy50cmlnZ2VyKCBuYW1lICk7XG5cdH07XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0aG92ZXI6IGZ1bmN0aW9uKCBmbk92ZXIsIGZuT3V0ICkge1xuXHRcdHJldHVybiB0aGlzLm1vdXNlZW50ZXIoIGZuT3ZlciApLm1vdXNlbGVhdmUoIGZuT3V0IHx8IGZuT3ZlciApO1xuXHR9XG59ICk7XG5cblxuXG5cbnN1cHBvcnQuZm9jdXNpbiA9IFwib25mb2N1c2luXCIgaW4gd2luZG93O1xuXG5cbi8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00NFxuLy8gRmlyZWZveCBkb2Vzbid0IGhhdmUgZm9jdXMoaW4gfCBvdXQpIGV2ZW50c1xuLy8gUmVsYXRlZCB0aWNrZXQgLSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02ODc3ODdcbi8vXG4vLyBTdXBwb3J0OiBDaHJvbWUgPD00OCAtIDQ5LCBTYWZhcmkgPD05LjAgLSA5LjFcbi8vIGZvY3VzKGluIHwgb3V0KSBldmVudHMgZmlyZSBhZnRlciBmb2N1cyAmIGJsdXIgZXZlbnRzLFxuLy8gd2hpY2ggaXMgc3BlYyB2aW9sYXRpb24gLSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvI2V2ZW50cy1mb2N1c2V2ZW50LWV2ZW50LW9yZGVyXG4vLyBSZWxhdGVkIHRpY2tldCAtIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ0OTg1N1xuaWYgKCAhc3VwcG9ydC5mb2N1c2luICkge1xuXHRqUXVlcnkuZWFjaCggeyBmb2N1czogXCJmb2N1c2luXCIsIGJsdXI6IFwiZm9jdXNvdXRcIiB9LCBmdW5jdGlvbiggb3JpZywgZml4ICkge1xuXG5cdFx0Ly8gQXR0YWNoIGEgc2luZ2xlIGNhcHR1cmluZyBoYW5kbGVyIG9uIHRoZSBkb2N1bWVudCB3aGlsZSBzb21lb25lIHdhbnRzIGZvY3VzaW4vZm9jdXNvdXRcblx0XHR2YXIgaGFuZGxlciA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdGpRdWVyeS5ldmVudC5zaW11bGF0ZSggZml4LCBldmVudC50YXJnZXQsIGpRdWVyeS5ldmVudC5maXgoIGV2ZW50ICkgKTtcblx0XHR9O1xuXG5cdFx0alF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGZpeCBdID0ge1xuXHRcdFx0c2V0dXA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZG9jID0gdGhpcy5vd25lckRvY3VtZW50IHx8IHRoaXMsXG5cdFx0XHRcdFx0YXR0YWNoZXMgPSBkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4ICk7XG5cblx0XHRcdFx0aWYgKCAhYXR0YWNoZXMgKSB7XG5cdFx0XHRcdFx0ZG9jLmFkZEV2ZW50TGlzdGVuZXIoIG9yaWcsIGhhbmRsZXIsIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4LCAoIGF0dGFjaGVzIHx8IDAgKSArIDEgKTtcblx0XHRcdH0sXG5cdFx0XHR0ZWFyZG93bjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBkb2MgPSB0aGlzLm93bmVyRG9jdW1lbnQgfHwgdGhpcyxcblx0XHRcdFx0XHRhdHRhY2hlcyA9IGRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXggKSAtIDE7XG5cblx0XHRcdFx0aWYgKCAhYXR0YWNoZXMgKSB7XG5cdFx0XHRcdFx0ZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoIG9yaWcsIGhhbmRsZXIsIHRydWUgKTtcblx0XHRcdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGRvYywgZml4ICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4LCBhdHRhY2hlcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fSApO1xufVxudmFyIGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uO1xuXG52YXIgbm9uY2UgPSBqUXVlcnkubm93KCk7XG5cbnZhciBycXVlcnkgPSAoIC9cXD8vICk7XG5cblxuXG4vLyBDcm9zcy1icm93c2VyIHhtbCBwYXJzaW5nXG5qUXVlcnkucGFyc2VYTUwgPSBmdW5jdGlvbiggZGF0YSApIHtcblx0dmFyIHhtbDtcblx0aWYgKCAhZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdC8vIFN1cHBvcnQ6IElFIDkgLSAxMSBvbmx5XG5cdC8vIElFIHRocm93cyBvbiBwYXJzZUZyb21TdHJpbmcgd2l0aCBpbnZhbGlkIGlucHV0LlxuXHR0cnkge1xuXHRcdHhtbCA9ICggbmV3IHdpbmRvdy5ET01QYXJzZXIoKSApLnBhcnNlRnJvbVN0cmluZyggZGF0YSwgXCJ0ZXh0L3htbFwiICk7XG5cdH0gY2F0Y2ggKCBlICkge1xuXHRcdHhtbCA9IHVuZGVmaW5lZDtcblx0fVxuXG5cdGlmICggIXhtbCB8fCB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwicGFyc2VyZXJyb3JcIiApLmxlbmd0aCApIHtcblx0XHRqUXVlcnkuZXJyb3IoIFwiSW52YWxpZCBYTUw6IFwiICsgZGF0YSApO1xuXHR9XG5cdHJldHVybiB4bWw7XG59O1xuXG5cbnZhclxuXHRyYnJhY2tldCA9IC9cXFtcXF0kLyxcblx0ckNSTEYgPSAvXFxyP1xcbi9nLFxuXHRyc3VibWl0dGVyVHlwZXMgPSAvXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksXG5cdHJzdWJtaXR0YWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtcblxuZnVuY3Rpb24gYnVpbGRQYXJhbXMoIHByZWZpeCwgb2JqLCB0cmFkaXRpb25hbCwgYWRkICkge1xuXHR2YXIgbmFtZTtcblxuXHRpZiAoIGpRdWVyeS5pc0FycmF5KCBvYmogKSApIHtcblxuXHRcdC8vIFNlcmlhbGl6ZSBhcnJheSBpdGVtLlxuXHRcdGpRdWVyeS5lYWNoKCBvYmosIGZ1bmN0aW9uKCBpLCB2ICkge1xuXHRcdFx0aWYgKCB0cmFkaXRpb25hbCB8fCByYnJhY2tldC50ZXN0KCBwcmVmaXggKSApIHtcblxuXHRcdFx0XHQvLyBUcmVhdCBlYWNoIGFycmF5IGl0ZW0gYXMgYSBzY2FsYXIuXG5cdFx0XHRcdGFkZCggcHJlZml4LCB2ICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gSXRlbSBpcyBub24tc2NhbGFyIChhcnJheSBvciBvYmplY3QpLCBlbmNvZGUgaXRzIG51bWVyaWMgaW5kZXguXG5cdFx0XHRcdGJ1aWxkUGFyYW1zKFxuXHRcdFx0XHRcdHByZWZpeCArIFwiW1wiICsgKCB0eXBlb2YgdiA9PT0gXCJvYmplY3RcIiAmJiB2ICE9IG51bGwgPyBpIDogXCJcIiApICsgXCJdXCIsXG5cdFx0XHRcdFx0dixcblx0XHRcdFx0XHR0cmFkaXRpb25hbCxcblx0XHRcdFx0XHRhZGRcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9ICk7XG5cblx0fSBlbHNlIGlmICggIXRyYWRpdGlvbmFsICYmIGpRdWVyeS50eXBlKCBvYmogKSA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdC8vIFNlcmlhbGl6ZSBvYmplY3QgaXRlbS5cblx0XHRmb3IgKCBuYW1lIGluIG9iaiApIHtcblx0XHRcdGJ1aWxkUGFyYW1zKCBwcmVmaXggKyBcIltcIiArIG5hbWUgKyBcIl1cIiwgb2JqWyBuYW1lIF0sIHRyYWRpdGlvbmFsLCBhZGQgKTtcblx0XHR9XG5cblx0fSBlbHNlIHtcblxuXHRcdC8vIFNlcmlhbGl6ZSBzY2FsYXIgaXRlbS5cblx0XHRhZGQoIHByZWZpeCwgb2JqICk7XG5cdH1cbn1cblxuLy8gU2VyaWFsaXplIGFuIGFycmF5IG9mIGZvcm0gZWxlbWVudHMgb3IgYSBzZXQgb2Zcbi8vIGtleS92YWx1ZXMgaW50byBhIHF1ZXJ5IHN0cmluZ1xualF1ZXJ5LnBhcmFtID0gZnVuY3Rpb24oIGEsIHRyYWRpdGlvbmFsICkge1xuXHR2YXIgcHJlZml4LFxuXHRcdHMgPSBbXSxcblx0XHRhZGQgPSBmdW5jdGlvbigga2V5LCB2YWx1ZU9yRnVuY3Rpb24gKSB7XG5cblx0XHRcdC8vIElmIHZhbHVlIGlzIGEgZnVuY3Rpb24sIGludm9rZSBpdCBhbmQgdXNlIGl0cyByZXR1cm4gdmFsdWVcblx0XHRcdHZhciB2YWx1ZSA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZU9yRnVuY3Rpb24gKSA/XG5cdFx0XHRcdHZhbHVlT3JGdW5jdGlvbigpIDpcblx0XHRcdFx0dmFsdWVPckZ1bmN0aW9uO1xuXG5cdFx0XHRzWyBzLmxlbmd0aCBdID0gZW5jb2RlVVJJQ29tcG9uZW50KCBrZXkgKSArIFwiPVwiICtcblx0XHRcdFx0ZW5jb2RlVVJJQ29tcG9uZW50KCB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICk7XG5cdFx0fTtcblxuXHQvLyBJZiBhbiBhcnJheSB3YXMgcGFzc2VkIGluLCBhc3N1bWUgdGhhdCBpdCBpcyBhbiBhcnJheSBvZiBmb3JtIGVsZW1lbnRzLlxuXHRpZiAoIGpRdWVyeS5pc0FycmF5KCBhICkgfHwgKCBhLmpxdWVyeSAmJiAhalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGEgKSApICkge1xuXG5cdFx0Ly8gU2VyaWFsaXplIHRoZSBmb3JtIGVsZW1lbnRzXG5cdFx0alF1ZXJ5LmVhY2goIGEsIGZ1bmN0aW9uKCkge1xuXHRcdFx0YWRkKCB0aGlzLm5hbWUsIHRoaXMudmFsdWUgKTtcblx0XHR9ICk7XG5cblx0fSBlbHNlIHtcblxuXHRcdC8vIElmIHRyYWRpdGlvbmFsLCBlbmNvZGUgdGhlIFwib2xkXCIgd2F5ICh0aGUgd2F5IDEuMy4yIG9yIG9sZGVyXG5cdFx0Ly8gZGlkIGl0KSwgb3RoZXJ3aXNlIGVuY29kZSBwYXJhbXMgcmVjdXJzaXZlbHkuXG5cdFx0Zm9yICggcHJlZml4IGluIGEgKSB7XG5cdFx0XHRidWlsZFBhcmFtcyggcHJlZml4LCBhWyBwcmVmaXggXSwgdHJhZGl0aW9uYWwsIGFkZCApO1xuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgcmVzdWx0aW5nIHNlcmlhbGl6YXRpb25cblx0cmV0dXJuIHMuam9pbiggXCImXCIgKTtcbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0c2VyaWFsaXplOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4galF1ZXJ5LnBhcmFtKCB0aGlzLnNlcmlhbGl6ZUFycmF5KCkgKTtcblx0fSxcblx0c2VyaWFsaXplQXJyYXk6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIENhbiBhZGQgcHJvcEhvb2sgZm9yIFwiZWxlbWVudHNcIiB0byBmaWx0ZXIgb3IgYWRkIGZvcm0gZWxlbWVudHNcblx0XHRcdHZhciBlbGVtZW50cyA9IGpRdWVyeS5wcm9wKCB0aGlzLCBcImVsZW1lbnRzXCIgKTtcblx0XHRcdHJldHVybiBlbGVtZW50cyA/IGpRdWVyeS5tYWtlQXJyYXkoIGVsZW1lbnRzICkgOiB0aGlzO1xuXHRcdH0gKVxuXHRcdC5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHR5cGUgPSB0aGlzLnR5cGU7XG5cblx0XHRcdC8vIFVzZSAuaXMoIFwiOmRpc2FibGVkXCIgKSBzbyB0aGF0IGZpZWxkc2V0W2Rpc2FibGVkXSB3b3Jrc1xuXHRcdFx0cmV0dXJuIHRoaXMubmFtZSAmJiAhalF1ZXJ5KCB0aGlzICkuaXMoIFwiOmRpc2FibGVkXCIgKSAmJlxuXHRcdFx0XHRyc3VibWl0dGFibGUudGVzdCggdGhpcy5ub2RlTmFtZSApICYmICFyc3VibWl0dGVyVHlwZXMudGVzdCggdHlwZSApICYmXG5cdFx0XHRcdCggdGhpcy5jaGVja2VkIHx8ICFyY2hlY2thYmxlVHlwZS50ZXN0KCB0eXBlICkgKTtcblx0XHR9IClcblx0XHQubWFwKCBmdW5jdGlvbiggaSwgZWxlbSApIHtcblx0XHRcdHZhciB2YWwgPSBqUXVlcnkoIHRoaXMgKS52YWwoKTtcblxuXHRcdFx0cmV0dXJuIHZhbCA9PSBudWxsID9cblx0XHRcdFx0bnVsbCA6XG5cdFx0XHRcdGpRdWVyeS5pc0FycmF5KCB2YWwgKSA/XG5cdFx0XHRcdFx0alF1ZXJ5Lm1hcCggdmFsLCBmdW5jdGlvbiggdmFsICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcIlxcclxcblwiICkgfTtcblx0XHRcdFx0XHR9ICkgOlxuXHRcdFx0XHRcdHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcIlxcclxcblwiICkgfTtcblx0XHR9ICkuZ2V0KCk7XG5cdH1cbn0gKTtcblxuXG52YXJcblx0cjIwID0gLyUyMC9nLFxuXHRyaGFzaCA9IC8jLiokLyxcblx0cnRzID0gLyhbPyZdKV89W14mXSovLFxuXHRyaGVhZGVycyA9IC9eKC4qPyk6WyBcXHRdKihbXlxcclxcbl0qKSQvbWcsXG5cblx0Ly8gIzc2NTMsICM4MTI1LCAjODE1MjogbG9jYWwgcHJvdG9jb2wgZGV0ZWN0aW9uXG5cdHJsb2NhbFByb3RvY29sID0gL14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8sXG5cdHJub0NvbnRlbnQgPSAvXig/OkdFVHxIRUFEKSQvLFxuXHRycHJvdG9jb2wgPSAvXlxcL1xcLy8sXG5cblx0LyogUHJlZmlsdGVyc1xuXHQgKiAxKSBUaGV5IGFyZSB1c2VmdWwgdG8gaW50cm9kdWNlIGN1c3RvbSBkYXRhVHlwZXMgKHNlZSBhamF4L2pzb25wLmpzIGZvciBhbiBleGFtcGxlKVxuXHQgKiAyKSBUaGVzZSBhcmUgY2FsbGVkOlxuXHQgKiAgICAtIEJFRk9SRSBhc2tpbmcgZm9yIGEgdHJhbnNwb3J0XG5cdCAqICAgIC0gQUZURVIgcGFyYW0gc2VyaWFsaXphdGlvbiAocy5kYXRhIGlzIGEgc3RyaW5nIGlmIHMucHJvY2Vzc0RhdGEgaXMgdHJ1ZSlcblx0ICogMykga2V5IGlzIHRoZSBkYXRhVHlwZVxuXHQgKiA0KSB0aGUgY2F0Y2hhbGwgc3ltYm9sIFwiKlwiIGNhbiBiZSB1c2VkXG5cdCAqIDUpIGV4ZWN1dGlvbiB3aWxsIHN0YXJ0IHdpdGggdHJhbnNwb3J0IGRhdGFUeXBlIGFuZCBUSEVOIGNvbnRpbnVlIGRvd24gdG8gXCIqXCIgaWYgbmVlZGVkXG5cdCAqL1xuXHRwcmVmaWx0ZXJzID0ge30sXG5cblx0LyogVHJhbnNwb3J0cyBiaW5kaW5nc1xuXHQgKiAxKSBrZXkgaXMgdGhlIGRhdGFUeXBlXG5cdCAqIDIpIHRoZSBjYXRjaGFsbCBzeW1ib2wgXCIqXCIgY2FuIGJlIHVzZWRcblx0ICogMykgc2VsZWN0aW9uIHdpbGwgc3RhcnQgd2l0aCB0cmFuc3BvcnQgZGF0YVR5cGUgYW5kIFRIRU4gZ28gdG8gXCIqXCIgaWYgbmVlZGVkXG5cdCAqL1xuXHR0cmFuc3BvcnRzID0ge30sXG5cblx0Ly8gQXZvaWQgY29tbWVudC1wcm9sb2cgY2hhciBzZXF1ZW5jZSAoIzEwMDk4KTsgbXVzdCBhcHBlYXNlIGxpbnQgYW5kIGV2YWRlIGNvbXByZXNzaW9uXG5cdGFsbFR5cGVzID0gXCIqL1wiLmNvbmNhdCggXCIqXCIgKSxcblxuXHQvLyBBbmNob3IgdGFnIGZvciBwYXJzaW5nIHRoZSBkb2N1bWVudCBvcmlnaW5cblx0b3JpZ2luQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJhXCIgKTtcblx0b3JpZ2luQW5jaG9yLmhyZWYgPSBsb2NhdGlvbi5ocmVmO1xuXG4vLyBCYXNlIFwiY29uc3RydWN0b3JcIiBmb3IgalF1ZXJ5LmFqYXhQcmVmaWx0ZXIgYW5kIGpRdWVyeS5hamF4VHJhbnNwb3J0XG5mdW5jdGlvbiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHN0cnVjdHVyZSApIHtcblxuXHQvLyBkYXRhVHlwZUV4cHJlc3Npb24gaXMgb3B0aW9uYWwgYW5kIGRlZmF1bHRzIHRvIFwiKlwiXG5cdHJldHVybiBmdW5jdGlvbiggZGF0YVR5cGVFeHByZXNzaW9uLCBmdW5jICkge1xuXG5cdFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVFeHByZXNzaW9uICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0ZnVuYyA9IGRhdGFUeXBlRXhwcmVzc2lvbjtcblx0XHRcdGRhdGFUeXBlRXhwcmVzc2lvbiA9IFwiKlwiO1xuXHRcdH1cblxuXHRcdHZhciBkYXRhVHlwZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0ZGF0YVR5cGVzID0gZGF0YVR5cGVFeHByZXNzaW9uLnRvTG93ZXJDYXNlKCkubWF0Y2goIHJub3R3aGl0ZSApIHx8IFtdO1xuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggZnVuYyApICkge1xuXG5cdFx0XHQvLyBGb3IgZWFjaCBkYXRhVHlwZSBpbiB0aGUgZGF0YVR5cGVFeHByZXNzaW9uXG5cdFx0XHR3aGlsZSAoICggZGF0YVR5cGUgPSBkYXRhVHlwZXNbIGkrKyBdICkgKSB7XG5cblx0XHRcdFx0Ly8gUHJlcGVuZCBpZiByZXF1ZXN0ZWRcblx0XHRcdFx0aWYgKCBkYXRhVHlwZVsgMCBdID09PSBcIitcIiApIHtcblx0XHRcdFx0XHRkYXRhVHlwZSA9IGRhdGFUeXBlLnNsaWNlKCAxICkgfHwgXCIqXCI7XG5cdFx0XHRcdFx0KCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gPSBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10gKS51bnNoaWZ0KCBmdW5jICk7XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIGFwcGVuZFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCggc3RydWN0dXJlWyBkYXRhVHlwZSBdID0gc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdICkucHVzaCggZnVuYyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyBCYXNlIGluc3BlY3Rpb24gZnVuY3Rpb24gZm9yIHByZWZpbHRlcnMgYW5kIHRyYW5zcG9ydHNcbmZ1bmN0aW9uIGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBzdHJ1Y3R1cmUsIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucywganFYSFIgKSB7XG5cblx0dmFyIGluc3BlY3RlZCA9IHt9LFxuXHRcdHNlZWtpbmdUcmFuc3BvcnQgPSAoIHN0cnVjdHVyZSA9PT0gdHJhbnNwb3J0cyApO1xuXG5cdGZ1bmN0aW9uIGluc3BlY3QoIGRhdGFUeXBlICkge1xuXHRcdHZhciBzZWxlY3RlZDtcblx0XHRpbnNwZWN0ZWRbIGRhdGFUeXBlIF0gPSB0cnVlO1xuXHRcdGpRdWVyeS5lYWNoKCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10sIGZ1bmN0aW9uKCBfLCBwcmVmaWx0ZXJPckZhY3RvcnkgKSB7XG5cdFx0XHR2YXIgZGF0YVR5cGVPclRyYW5zcG9ydCA9IHByZWZpbHRlck9yRmFjdG9yeSggb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zLCBqcVhIUiApO1xuXHRcdFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVPclRyYW5zcG9ydCA9PT0gXCJzdHJpbmdcIiAmJlxuXHRcdFx0XHQhc2Vla2luZ1RyYW5zcG9ydCAmJiAhaW5zcGVjdGVkWyBkYXRhVHlwZU9yVHJhbnNwb3J0IF0gKSB7XG5cblx0XHRcdFx0b3B0aW9ucy5kYXRhVHlwZXMudW5zaGlmdCggZGF0YVR5cGVPclRyYW5zcG9ydCApO1xuXHRcdFx0XHRpbnNwZWN0KCBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0gZWxzZSBpZiAoIHNlZWtpbmdUcmFuc3BvcnQgKSB7XG5cdFx0XHRcdHJldHVybiAhKCBzZWxlY3RlZCA9IGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdFx0cmV0dXJuIHNlbGVjdGVkO1xuXHR9XG5cblx0cmV0dXJuIGluc3BlY3QoIG9wdGlvbnMuZGF0YVR5cGVzWyAwIF0gKSB8fCAhaW5zcGVjdGVkWyBcIipcIiBdICYmIGluc3BlY3QoIFwiKlwiICk7XG59XG5cbi8vIEEgc3BlY2lhbCBleHRlbmQgZm9yIGFqYXggb3B0aW9uc1xuLy8gdGhhdCB0YWtlcyBcImZsYXRcIiBvcHRpb25zIChub3QgdG8gYmUgZGVlcCBleHRlbmRlZClcbi8vIEZpeGVzICM5ODg3XG5mdW5jdGlvbiBhamF4RXh0ZW5kKCB0YXJnZXQsIHNyYyApIHtcblx0dmFyIGtleSwgZGVlcCxcblx0XHRmbGF0T3B0aW9ucyA9IGpRdWVyeS5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnMgfHwge307XG5cblx0Zm9yICgga2V5IGluIHNyYyApIHtcblx0XHRpZiAoIHNyY1sga2V5IF0gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdCggZmxhdE9wdGlvbnNbIGtleSBdID8gdGFyZ2V0IDogKCBkZWVwIHx8ICggZGVlcCA9IHt9ICkgKSApWyBrZXkgXSA9IHNyY1sga2V5IF07XG5cdFx0fVxuXHR9XG5cdGlmICggZGVlcCApIHtcblx0XHRqUXVlcnkuZXh0ZW5kKCB0cnVlLCB0YXJnZXQsIGRlZXAgKTtcblx0fVxuXG5cdHJldHVybiB0YXJnZXQ7XG59XG5cbi8qIEhhbmRsZXMgcmVzcG9uc2VzIHRvIGFuIGFqYXggcmVxdWVzdDpcbiAqIC0gZmluZHMgdGhlIHJpZ2h0IGRhdGFUeXBlIChtZWRpYXRlcyBiZXR3ZWVuIGNvbnRlbnQtdHlwZSBhbmQgZXhwZWN0ZWQgZGF0YVR5cGUpXG4gKiAtIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgcmVzcG9uc2VcbiAqL1xuZnVuY3Rpb24gYWpheEhhbmRsZVJlc3BvbnNlcyggcywganFYSFIsIHJlc3BvbnNlcyApIHtcblxuXHR2YXIgY3QsIHR5cGUsIGZpbmFsRGF0YVR5cGUsIGZpcnN0RGF0YVR5cGUsXG5cdFx0Y29udGVudHMgPSBzLmNvbnRlbnRzLFxuXHRcdGRhdGFUeXBlcyA9IHMuZGF0YVR5cGVzO1xuXG5cdC8vIFJlbW92ZSBhdXRvIGRhdGFUeXBlIGFuZCBnZXQgY29udGVudC10eXBlIGluIHRoZSBwcm9jZXNzXG5cdHdoaWxlICggZGF0YVR5cGVzWyAwIF0gPT09IFwiKlwiICkge1xuXHRcdGRhdGFUeXBlcy5zaGlmdCgpO1xuXHRcdGlmICggY3QgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGN0ID0gcy5taW1lVHlwZSB8fCBqcVhIUi5nZXRSZXNwb25zZUhlYWRlciggXCJDb250ZW50LVR5cGVcIiApO1xuXHRcdH1cblx0fVxuXG5cdC8vIENoZWNrIGlmIHdlJ3JlIGRlYWxpbmcgd2l0aCBhIGtub3duIGNvbnRlbnQtdHlwZVxuXHRpZiAoIGN0ICkge1xuXHRcdGZvciAoIHR5cGUgaW4gY29udGVudHMgKSB7XG5cdFx0XHRpZiAoIGNvbnRlbnRzWyB0eXBlIF0gJiYgY29udGVudHNbIHR5cGUgXS50ZXN0KCBjdCApICkge1xuXHRcdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggdHlwZSApO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBDaGVjayB0byBzZWUgaWYgd2UgaGF2ZSBhIHJlc3BvbnNlIGZvciB0aGUgZXhwZWN0ZWQgZGF0YVR5cGVcblx0aWYgKCBkYXRhVHlwZXNbIDAgXSBpbiByZXNwb25zZXMgKSB7XG5cdFx0ZmluYWxEYXRhVHlwZSA9IGRhdGFUeXBlc1sgMCBdO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gVHJ5IGNvbnZlcnRpYmxlIGRhdGFUeXBlc1xuXHRcdGZvciAoIHR5cGUgaW4gcmVzcG9uc2VzICkge1xuXHRcdFx0aWYgKCAhZGF0YVR5cGVzWyAwIF0gfHwgcy5jb252ZXJ0ZXJzWyB0eXBlICsgXCIgXCIgKyBkYXRhVHlwZXNbIDAgXSBdICkge1xuXHRcdFx0XHRmaW5hbERhdGFUeXBlID0gdHlwZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRpZiAoICFmaXJzdERhdGFUeXBlICkge1xuXHRcdFx0XHRmaXJzdERhdGFUeXBlID0gdHlwZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBPciBqdXN0IHVzZSBmaXJzdCBvbmVcblx0XHRmaW5hbERhdGFUeXBlID0gZmluYWxEYXRhVHlwZSB8fCBmaXJzdERhdGFUeXBlO1xuXHR9XG5cblx0Ly8gSWYgd2UgZm91bmQgYSBkYXRhVHlwZVxuXHQvLyBXZSBhZGQgdGhlIGRhdGFUeXBlIHRvIHRoZSBsaXN0IGlmIG5lZWRlZFxuXHQvLyBhbmQgcmV0dXJuIHRoZSBjb3JyZXNwb25kaW5nIHJlc3BvbnNlXG5cdGlmICggZmluYWxEYXRhVHlwZSApIHtcblx0XHRpZiAoIGZpbmFsRGF0YVR5cGUgIT09IGRhdGFUeXBlc1sgMCBdICkge1xuXHRcdFx0ZGF0YVR5cGVzLnVuc2hpZnQoIGZpbmFsRGF0YVR5cGUgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3BvbnNlc1sgZmluYWxEYXRhVHlwZSBdO1xuXHR9XG59XG5cbi8qIENoYWluIGNvbnZlcnNpb25zIGdpdmVuIHRoZSByZXF1ZXN0IGFuZCB0aGUgb3JpZ2luYWwgcmVzcG9uc2VcbiAqIEFsc28gc2V0cyB0aGUgcmVzcG9uc2VYWFggZmllbGRzIG9uIHRoZSBqcVhIUiBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBhamF4Q29udmVydCggcywgcmVzcG9uc2UsIGpxWEhSLCBpc1N1Y2Nlc3MgKSB7XG5cdHZhciBjb252MiwgY3VycmVudCwgY29udiwgdG1wLCBwcmV2LFxuXHRcdGNvbnZlcnRlcnMgPSB7fSxcblxuXHRcdC8vIFdvcmsgd2l0aCBhIGNvcHkgb2YgZGF0YVR5cGVzIGluIGNhc2Ugd2UgbmVlZCB0byBtb2RpZnkgaXQgZm9yIGNvbnZlcnNpb25cblx0XHRkYXRhVHlwZXMgPSBzLmRhdGFUeXBlcy5zbGljZSgpO1xuXG5cdC8vIENyZWF0ZSBjb252ZXJ0ZXJzIG1hcCB3aXRoIGxvd2VyY2FzZWQga2V5c1xuXHRpZiAoIGRhdGFUeXBlc1sgMSBdICkge1xuXHRcdGZvciAoIGNvbnYgaW4gcy5jb252ZXJ0ZXJzICkge1xuXHRcdFx0Y29udmVydGVyc1sgY29udi50b0xvd2VyQ2FzZSgpIF0gPSBzLmNvbnZlcnRlcnNbIGNvbnYgXTtcblx0XHR9XG5cdH1cblxuXHRjdXJyZW50ID0gZGF0YVR5cGVzLnNoaWZ0KCk7XG5cblx0Ly8gQ29udmVydCB0byBlYWNoIHNlcXVlbnRpYWwgZGF0YVR5cGVcblx0d2hpbGUgKCBjdXJyZW50ICkge1xuXG5cdFx0aWYgKCBzLnJlc3BvbnNlRmllbGRzWyBjdXJyZW50IF0gKSB7XG5cdFx0XHRqcVhIUlsgcy5yZXNwb25zZUZpZWxkc1sgY3VycmVudCBdIF0gPSByZXNwb25zZTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSB0aGUgZGF0YUZpbHRlciBpZiBwcm92aWRlZFxuXHRcdGlmICggIXByZXYgJiYgaXNTdWNjZXNzICYmIHMuZGF0YUZpbHRlciApIHtcblx0XHRcdHJlc3BvbnNlID0gcy5kYXRhRmlsdGVyKCByZXNwb25zZSwgcy5kYXRhVHlwZSApO1xuXHRcdH1cblxuXHRcdHByZXYgPSBjdXJyZW50O1xuXHRcdGN1cnJlbnQgPSBkYXRhVHlwZXMuc2hpZnQoKTtcblxuXHRcdGlmICggY3VycmVudCApIHtcblxuXHRcdFx0Ly8gVGhlcmUncyBvbmx5IHdvcmsgdG8gZG8gaWYgY3VycmVudCBkYXRhVHlwZSBpcyBub24tYXV0b1xuXHRcdFx0aWYgKCBjdXJyZW50ID09PSBcIipcIiApIHtcblxuXHRcdFx0XHRjdXJyZW50ID0gcHJldjtcblxuXHRcdFx0Ly8gQ29udmVydCByZXNwb25zZSBpZiBwcmV2IGRhdGFUeXBlIGlzIG5vbi1hdXRvIGFuZCBkaWZmZXJzIGZyb20gY3VycmVudFxuXHRcdFx0fSBlbHNlIGlmICggcHJldiAhPT0gXCIqXCIgJiYgcHJldiAhPT0gY3VycmVudCApIHtcblxuXHRcdFx0XHQvLyBTZWVrIGEgZGlyZWN0IGNvbnZlcnRlclxuXHRcdFx0XHRjb252ID0gY29udmVydGVyc1sgcHJldiArIFwiIFwiICsgY3VycmVudCBdIHx8IGNvbnZlcnRlcnNbIFwiKiBcIiArIGN1cnJlbnQgXTtcblxuXHRcdFx0XHQvLyBJZiBub25lIGZvdW5kLCBzZWVrIGEgcGFpclxuXHRcdFx0XHRpZiAoICFjb252ICkge1xuXHRcdFx0XHRcdGZvciAoIGNvbnYyIGluIGNvbnZlcnRlcnMgKSB7XG5cblx0XHRcdFx0XHRcdC8vIElmIGNvbnYyIG91dHB1dHMgY3VycmVudFxuXHRcdFx0XHRcdFx0dG1wID0gY29udjIuc3BsaXQoIFwiIFwiICk7XG5cdFx0XHRcdFx0XHRpZiAoIHRtcFsgMSBdID09PSBjdXJyZW50ICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIElmIHByZXYgY2FuIGJlIGNvbnZlcnRlZCB0byBhY2NlcHRlZCBpbnB1dFxuXHRcdFx0XHRcdFx0XHRjb252ID0gY29udmVydGVyc1sgcHJldiArIFwiIFwiICsgdG1wWyAwIF0gXSB8fFxuXHRcdFx0XHRcdFx0XHRcdGNvbnZlcnRlcnNbIFwiKiBcIiArIHRtcFsgMCBdIF07XG5cdFx0XHRcdFx0XHRcdGlmICggY29udiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIENvbmRlbnNlIGVxdWl2YWxlbmNlIGNvbnZlcnRlcnNcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGNvbnYgPT09IHRydWUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb252ID0gY29udmVydGVyc1sgY29udjIgXTtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIE90aGVyd2lzZSwgaW5zZXJ0IHRoZSBpbnRlcm1lZGlhdGUgZGF0YVR5cGVcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBjb252ZXJ0ZXJzWyBjb252MiBdICE9PSB0cnVlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y3VycmVudCA9IHRtcFsgMCBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGF0YVR5cGVzLnVuc2hpZnQoIHRtcFsgMSBdICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQXBwbHkgY29udmVydGVyIChpZiBub3QgYW4gZXF1aXZhbGVuY2UpXG5cdFx0XHRcdGlmICggY29udiAhPT0gdHJ1ZSApIHtcblxuXHRcdFx0XHRcdC8vIFVubGVzcyBlcnJvcnMgYXJlIGFsbG93ZWQgdG8gYnViYmxlLCBjYXRjaCBhbmQgcmV0dXJuIHRoZW1cblx0XHRcdFx0XHRpZiAoIGNvbnYgJiYgcy50aHJvd3MgKSB7XG5cdFx0XHRcdFx0XHRyZXNwb25zZSA9IGNvbnYoIHJlc3BvbnNlICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdHJlc3BvbnNlID0gY29udiggcmVzcG9uc2UgKTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRcdHN0YXRlOiBcInBhcnNlcmVycm9yXCIsXG5cdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGNvbnYgPyBlIDogXCJObyBjb252ZXJzaW9uIGZyb20gXCIgKyBwcmV2ICsgXCIgdG8gXCIgKyBjdXJyZW50XG5cdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHsgc3RhdGU6IFwic3VjY2Vzc1wiLCBkYXRhOiByZXNwb25zZSB9O1xufVxuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0Ly8gQ291bnRlciBmb3IgaG9sZGluZyB0aGUgbnVtYmVyIG9mIGFjdGl2ZSBxdWVyaWVzXG5cdGFjdGl2ZTogMCxcblxuXHQvLyBMYXN0LU1vZGlmaWVkIGhlYWRlciBjYWNoZSBmb3IgbmV4dCByZXF1ZXN0XG5cdGxhc3RNb2RpZmllZDoge30sXG5cdGV0YWc6IHt9LFxuXG5cdGFqYXhTZXR0aW5nczoge1xuXHRcdHVybDogbG9jYXRpb24uaHJlZixcblx0XHR0eXBlOiBcIkdFVFwiLFxuXHRcdGlzTG9jYWw6IHJsb2NhbFByb3RvY29sLnRlc3QoIGxvY2F0aW9uLnByb3RvY29sICksXG5cdFx0Z2xvYmFsOiB0cnVlLFxuXHRcdHByb2Nlc3NEYXRhOiB0cnVlLFxuXHRcdGFzeW5jOiB0cnVlLFxuXHRcdGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOFwiLFxuXG5cdFx0Lypcblx0XHR0aW1lb3V0OiAwLFxuXHRcdGRhdGE6IG51bGwsXG5cdFx0ZGF0YVR5cGU6IG51bGwsXG5cdFx0dXNlcm5hbWU6IG51bGwsXG5cdFx0cGFzc3dvcmQ6IG51bGwsXG5cdFx0Y2FjaGU6IG51bGwsXG5cdFx0dGhyb3dzOiBmYWxzZSxcblx0XHR0cmFkaXRpb25hbDogZmFsc2UsXG5cdFx0aGVhZGVyczoge30sXG5cdFx0Ki9cblxuXHRcdGFjY2VwdHM6IHtcblx0XHRcdFwiKlwiOiBhbGxUeXBlcyxcblx0XHRcdHRleHQ6IFwidGV4dC9wbGFpblwiLFxuXHRcdFx0aHRtbDogXCJ0ZXh0L2h0bWxcIixcblx0XHRcdHhtbDogXCJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sXCIsXG5cdFx0XHRqc29uOiBcImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdFwiXG5cdFx0fSxcblxuXHRcdGNvbnRlbnRzOiB7XG5cdFx0XHR4bWw6IC9cXGJ4bWxcXGIvLFxuXHRcdFx0aHRtbDogL1xcYmh0bWwvLFxuXHRcdFx0anNvbjogL1xcYmpzb25cXGIvXG5cdFx0fSxcblxuXHRcdHJlc3BvbnNlRmllbGRzOiB7XG5cdFx0XHR4bWw6IFwicmVzcG9uc2VYTUxcIixcblx0XHRcdHRleHQ6IFwicmVzcG9uc2VUZXh0XCIsXG5cdFx0XHRqc29uOiBcInJlc3BvbnNlSlNPTlwiXG5cdFx0fSxcblxuXHRcdC8vIERhdGEgY29udmVydGVyc1xuXHRcdC8vIEtleXMgc2VwYXJhdGUgc291cmNlIChvciBjYXRjaGFsbCBcIipcIikgYW5kIGRlc3RpbmF0aW9uIHR5cGVzIHdpdGggYSBzaW5nbGUgc3BhY2Vcblx0XHRjb252ZXJ0ZXJzOiB7XG5cblx0XHRcdC8vIENvbnZlcnQgYW55dGhpbmcgdG8gdGV4dFxuXHRcdFx0XCIqIHRleHRcIjogU3RyaW5nLFxuXG5cdFx0XHQvLyBUZXh0IHRvIGh0bWwgKHRydWUgPSBubyB0cmFuc2Zvcm1hdGlvbilcblx0XHRcdFwidGV4dCBodG1sXCI6IHRydWUsXG5cblx0XHRcdC8vIEV2YWx1YXRlIHRleHQgYXMgYSBqc29uIGV4cHJlc3Npb25cblx0XHRcdFwidGV4dCBqc29uXCI6IEpTT04ucGFyc2UsXG5cblx0XHRcdC8vIFBhcnNlIHRleHQgYXMgeG1sXG5cdFx0XHRcInRleHQgeG1sXCI6IGpRdWVyeS5wYXJzZVhNTFxuXHRcdH0sXG5cblx0XHQvLyBGb3Igb3B0aW9ucyB0aGF0IHNob3VsZG4ndCBiZSBkZWVwIGV4dGVuZGVkOlxuXHRcdC8vIHlvdSBjYW4gYWRkIHlvdXIgb3duIGN1c3RvbSBvcHRpb25zIGhlcmUgaWZcblx0XHQvLyBhbmQgd2hlbiB5b3UgY3JlYXRlIG9uZSB0aGF0IHNob3VsZG4ndCBiZVxuXHRcdC8vIGRlZXAgZXh0ZW5kZWQgKHNlZSBhamF4RXh0ZW5kKVxuXHRcdGZsYXRPcHRpb25zOiB7XG5cdFx0XHR1cmw6IHRydWUsXG5cdFx0XHRjb250ZXh0OiB0cnVlXG5cdFx0fVxuXHR9LFxuXG5cdC8vIENyZWF0ZXMgYSBmdWxsIGZsZWRnZWQgc2V0dGluZ3Mgb2JqZWN0IGludG8gdGFyZ2V0XG5cdC8vIHdpdGggYm90aCBhamF4U2V0dGluZ3MgYW5kIHNldHRpbmdzIGZpZWxkcy5cblx0Ly8gSWYgdGFyZ2V0IGlzIG9taXR0ZWQsIHdyaXRlcyBpbnRvIGFqYXhTZXR0aW5ncy5cblx0YWpheFNldHVwOiBmdW5jdGlvbiggdGFyZ2V0LCBzZXR0aW5ncyApIHtcblx0XHRyZXR1cm4gc2V0dGluZ3MgP1xuXG5cdFx0XHQvLyBCdWlsZGluZyBhIHNldHRpbmdzIG9iamVjdFxuXHRcdFx0YWpheEV4dGVuZCggYWpheEV4dGVuZCggdGFyZ2V0LCBqUXVlcnkuYWpheFNldHRpbmdzICksIHNldHRpbmdzICkgOlxuXG5cdFx0XHQvLyBFeHRlbmRpbmcgYWpheFNldHRpbmdzXG5cdFx0XHRhamF4RXh0ZW5kKCBqUXVlcnkuYWpheFNldHRpbmdzLCB0YXJnZXQgKTtcblx0fSxcblxuXHRhamF4UHJlZmlsdGVyOiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHByZWZpbHRlcnMgKSxcblx0YWpheFRyYW5zcG9ydDogYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCB0cmFuc3BvcnRzICksXG5cblx0Ly8gTWFpbiBtZXRob2Rcblx0YWpheDogZnVuY3Rpb24oIHVybCwgb3B0aW9ucyApIHtcblxuXHRcdC8vIElmIHVybCBpcyBhbiBvYmplY3QsIHNpbXVsYXRlIHByZS0xLjUgc2lnbmF0dXJlXG5cdFx0aWYgKCB0eXBlb2YgdXJsID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0b3B0aW9ucyA9IHVybDtcblx0XHRcdHVybCA9IHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHQvLyBGb3JjZSBvcHRpb25zIHRvIGJlIGFuIG9iamVjdFxuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdFx0dmFyIHRyYW5zcG9ydCxcblxuXHRcdFx0Ly8gVVJMIHdpdGhvdXQgYW50aS1jYWNoZSBwYXJhbVxuXHRcdFx0Y2FjaGVVUkwsXG5cblx0XHRcdC8vIFJlc3BvbnNlIGhlYWRlcnNcblx0XHRcdHJlc3BvbnNlSGVhZGVyc1N0cmluZyxcblx0XHRcdHJlc3BvbnNlSGVhZGVycyxcblxuXHRcdFx0Ly8gdGltZW91dCBoYW5kbGVcblx0XHRcdHRpbWVvdXRUaW1lcixcblxuXHRcdFx0Ly8gVXJsIGNsZWFudXAgdmFyXG5cdFx0XHR1cmxBbmNob3IsXG5cblx0XHRcdC8vIFJlcXVlc3Qgc3RhdGUgKGJlY29tZXMgZmFsc2UgdXBvbiBzZW5kIGFuZCB0cnVlIHVwb24gY29tcGxldGlvbilcblx0XHRcdGNvbXBsZXRlZCxcblxuXHRcdFx0Ly8gVG8ga25vdyBpZiBnbG9iYWwgZXZlbnRzIGFyZSB0byBiZSBkaXNwYXRjaGVkXG5cdFx0XHRmaXJlR2xvYmFscyxcblxuXHRcdFx0Ly8gTG9vcCB2YXJpYWJsZVxuXHRcdFx0aSxcblxuXHRcdFx0Ly8gdW5jYWNoZWQgcGFydCBvZiB0aGUgdXJsXG5cdFx0XHR1bmNhY2hlZCxcblxuXHRcdFx0Ly8gQ3JlYXRlIHRoZSBmaW5hbCBvcHRpb25zIG9iamVjdFxuXHRcdFx0cyA9IGpRdWVyeS5hamF4U2V0dXAoIHt9LCBvcHRpb25zICksXG5cblx0XHRcdC8vIENhbGxiYWNrcyBjb250ZXh0XG5cdFx0XHRjYWxsYmFja0NvbnRleHQgPSBzLmNvbnRleHQgfHwgcyxcblxuXHRcdFx0Ly8gQ29udGV4dCBmb3IgZ2xvYmFsIGV2ZW50cyBpcyBjYWxsYmFja0NvbnRleHQgaWYgaXQgaXMgYSBET00gbm9kZSBvciBqUXVlcnkgY29sbGVjdGlvblxuXHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0ID0gcy5jb250ZXh0ICYmXG5cdFx0XHRcdCggY2FsbGJhY2tDb250ZXh0Lm5vZGVUeXBlIHx8IGNhbGxiYWNrQ29udGV4dC5qcXVlcnkgKSA/XG5cdFx0XHRcdFx0alF1ZXJ5KCBjYWxsYmFja0NvbnRleHQgKSA6XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LFxuXG5cdFx0XHQvLyBEZWZlcnJlZHNcblx0XHRcdGRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCksXG5cdFx0XHRjb21wbGV0ZURlZmVycmVkID0galF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksXG5cblx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRzdGF0dXNDb2RlID0gcy5zdGF0dXNDb2RlIHx8IHt9LFxuXG5cdFx0XHQvLyBIZWFkZXJzICh0aGV5IGFyZSBzZW50IGFsbCBhdCBvbmNlKVxuXHRcdFx0cmVxdWVzdEhlYWRlcnMgPSB7fSxcblx0XHRcdHJlcXVlc3RIZWFkZXJzTmFtZXMgPSB7fSxcblxuXHRcdFx0Ly8gRGVmYXVsdCBhYm9ydCBtZXNzYWdlXG5cdFx0XHRzdHJBYm9ydCA9IFwiY2FuY2VsZWRcIixcblxuXHRcdFx0Ly8gRmFrZSB4aHJcblx0XHRcdGpxWEhSID0ge1xuXHRcdFx0XHRyZWFkeVN0YXRlOiAwLFxuXG5cdFx0XHRcdC8vIEJ1aWxkcyBoZWFkZXJzIGhhc2h0YWJsZSBpZiBuZWVkZWRcblx0XHRcdFx0Z2V0UmVzcG9uc2VIZWFkZXI6IGZ1bmN0aW9uKCBrZXkgKSB7XG5cdFx0XHRcdFx0dmFyIG1hdGNoO1xuXHRcdFx0XHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0XHRcdFx0aWYgKCAhcmVzcG9uc2VIZWFkZXJzICkge1xuXHRcdFx0XHRcdFx0XHRyZXNwb25zZUhlYWRlcnMgPSB7fTtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKCAoIG1hdGNoID0gcmhlYWRlcnMuZXhlYyggcmVzcG9uc2VIZWFkZXJzU3RyaW5nICkgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXNwb25zZUhlYWRlcnNbIG1hdGNoWyAxIF0udG9Mb3dlckNhc2UoKSBdID0gbWF0Y2hbIDIgXTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0bWF0Y2ggPSByZXNwb25zZUhlYWRlcnNbIGtleS50b0xvd2VyQ2FzZSgpIF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBtYXRjaCA9PSBudWxsID8gbnVsbCA6IG1hdGNoO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIFJhdyBzdHJpbmdcblx0XHRcdFx0Z2V0QWxsUmVzcG9uc2VIZWFkZXJzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gY29tcGxldGVkID8gcmVzcG9uc2VIZWFkZXJzU3RyaW5nIDogbnVsbDtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBDYWNoZXMgdGhlIGhlYWRlclxuXHRcdFx0XHRzZXRSZXF1ZXN0SGVhZGVyOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdG5hbWUgPSByZXF1ZXN0SGVhZGVyc05hbWVzWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSA9XG5cdFx0XHRcdFx0XHRcdHJlcXVlc3RIZWFkZXJzTmFtZXNbIG5hbWUudG9Mb3dlckNhc2UoKSBdIHx8IG5hbWU7XG5cdFx0XHRcdFx0XHRyZXF1ZXN0SGVhZGVyc1sgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIE92ZXJyaWRlcyByZXNwb25zZSBjb250ZW50LXR5cGUgaGVhZGVyXG5cdFx0XHRcdG92ZXJyaWRlTWltZVR5cGU6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdFx0XHRcdGlmICggY29tcGxldGVkID09IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRzLm1pbWVUeXBlID0gdHlwZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3Ncblx0XHRcdFx0c3RhdHVzQ29kZTogZnVuY3Rpb24oIG1hcCApIHtcblx0XHRcdFx0XHR2YXIgY29kZTtcblx0XHRcdFx0XHRpZiAoIG1hcCApIHtcblx0XHRcdFx0XHRcdGlmICggY29tcGxldGVkICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIEV4ZWN1dGUgdGhlIGFwcHJvcHJpYXRlIGNhbGxiYWNrc1xuXHRcdFx0XHRcdFx0XHRqcVhIUi5hbHdheXMoIG1hcFsganFYSFIuc3RhdHVzIF0gKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gTGF6eS1hZGQgdGhlIG5ldyBjYWxsYmFja3MgaW4gYSB3YXkgdGhhdCBwcmVzZXJ2ZXMgb2xkIG9uZXNcblx0XHRcdFx0XHRcdFx0Zm9yICggY29kZSBpbiBtYXAgKSB7XG5cdFx0XHRcdFx0XHRcdFx0c3RhdHVzQ29kZVsgY29kZSBdID0gWyBzdGF0dXNDb2RlWyBjb2RlIF0sIG1hcFsgY29kZSBdIF07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gQ2FuY2VsIHRoZSByZXF1ZXN0XG5cdFx0XHRcdGFib3J0OiBmdW5jdGlvbiggc3RhdHVzVGV4dCApIHtcblx0XHRcdFx0XHR2YXIgZmluYWxUZXh0ID0gc3RhdHVzVGV4dCB8fCBzdHJBYm9ydDtcblx0XHRcdFx0XHRpZiAoIHRyYW5zcG9ydCApIHtcblx0XHRcdFx0XHRcdHRyYW5zcG9ydC5hYm9ydCggZmluYWxUZXh0ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGRvbmUoIDAsIGZpbmFsVGV4dCApO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0Ly8gQXR0YWNoIGRlZmVycmVkc1xuXHRcdGRlZmVycmVkLnByb21pc2UoIGpxWEhSICk7XG5cblx0XHQvLyBBZGQgcHJvdG9jb2wgaWYgbm90IHByb3ZpZGVkIChwcmVmaWx0ZXJzIG1pZ2h0IGV4cGVjdCBpdClcblx0XHQvLyBIYW5kbGUgZmFsc3kgdXJsIGluIHRoZSBzZXR0aW5ncyBvYmplY3QgKCMxMDA5MzogY29uc2lzdGVuY3kgd2l0aCBvbGQgc2lnbmF0dXJlKVxuXHRcdC8vIFdlIGFsc28gdXNlIHRoZSB1cmwgcGFyYW1ldGVyIGlmIGF2YWlsYWJsZVxuXHRcdHMudXJsID0gKCAoIHVybCB8fCBzLnVybCB8fCBsb2NhdGlvbi5ocmVmICkgKyBcIlwiIClcblx0XHRcdC5yZXBsYWNlKCBycHJvdG9jb2wsIGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICk7XG5cblx0XHQvLyBBbGlhcyBtZXRob2Qgb3B0aW9uIHRvIHR5cGUgYXMgcGVyIHRpY2tldCAjMTIwMDRcblx0XHRzLnR5cGUgPSBvcHRpb25zLm1ldGhvZCB8fCBvcHRpb25zLnR5cGUgfHwgcy5tZXRob2QgfHwgcy50eXBlO1xuXG5cdFx0Ly8gRXh0cmFjdCBkYXRhVHlwZXMgbGlzdFxuXHRcdHMuZGF0YVR5cGVzID0gKCBzLmRhdGFUeXBlIHx8IFwiKlwiICkudG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdHdoaXRlICkgfHwgWyBcIlwiIF07XG5cblx0XHQvLyBBIGNyb3NzLWRvbWFpbiByZXF1ZXN0IGlzIGluIG9yZGVyIHdoZW4gdGhlIG9yaWdpbiBkb2Vzbid0IG1hdGNoIHRoZSBjdXJyZW50IG9yaWdpbi5cblx0XHRpZiAoIHMuY3Jvc3NEb21haW4gPT0gbnVsbCApIHtcblx0XHRcdHVybEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiYVwiICk7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OCAtIDExLCBFZGdlIDEyIC0gMTNcblx0XHRcdC8vIElFIHRocm93cyBleGNlcHRpb24gb24gYWNjZXNzaW5nIHRoZSBocmVmIHByb3BlcnR5IGlmIHVybCBpcyBtYWxmb3JtZWQsXG5cdFx0XHQvLyBlLmcuIGh0dHA6Ly9leGFtcGxlLmNvbTo4MHgvXG5cdFx0XHR0cnkge1xuXHRcdFx0XHR1cmxBbmNob3IuaHJlZiA9IHMudXJsO1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OCAtIDExIG9ubHlcblx0XHRcdFx0Ly8gQW5jaG9yJ3MgaG9zdCBwcm9wZXJ0eSBpc24ndCBjb3JyZWN0bHkgc2V0IHdoZW4gcy51cmwgaXMgcmVsYXRpdmVcblx0XHRcdFx0dXJsQW5jaG9yLmhyZWYgPSB1cmxBbmNob3IuaHJlZjtcblx0XHRcdFx0cy5jcm9zc0RvbWFpbiA9IG9yaWdpbkFuY2hvci5wcm90b2NvbCArIFwiLy9cIiArIG9yaWdpbkFuY2hvci5ob3N0ICE9PVxuXHRcdFx0XHRcdHVybEFuY2hvci5wcm90b2NvbCArIFwiLy9cIiArIHVybEFuY2hvci5ob3N0O1xuXHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0Ly8gSWYgdGhlcmUgaXMgYW4gZXJyb3IgcGFyc2luZyB0aGUgVVJMLCBhc3N1bWUgaXQgaXMgY3Jvc3NEb21haW4sXG5cdFx0XHRcdC8vIGl0IGNhbiBiZSByZWplY3RlZCBieSB0aGUgdHJhbnNwb3J0IGlmIGl0IGlzIGludmFsaWRcblx0XHRcdFx0cy5jcm9zc0RvbWFpbiA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ29udmVydCBkYXRhIGlmIG5vdCBhbHJlYWR5IGEgc3RyaW5nXG5cdFx0aWYgKCBzLmRhdGEgJiYgcy5wcm9jZXNzRGF0YSAmJiB0eXBlb2Ygcy5kYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cy5kYXRhID0galF1ZXJ5LnBhcmFtKCBzLmRhdGEsIHMudHJhZGl0aW9uYWwgKTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSBwcmVmaWx0ZXJzXG5cdFx0aW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHByZWZpbHRlcnMsIHMsIG9wdGlvbnMsIGpxWEhSICk7XG5cblx0XHQvLyBJZiByZXF1ZXN0IHdhcyBhYm9ydGVkIGluc2lkZSBhIHByZWZpbHRlciwgc3RvcCB0aGVyZVxuXHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0cmV0dXJuIGpxWEhSO1xuXHRcdH1cblxuXHRcdC8vIFdlIGNhbiBmaXJlIGdsb2JhbCBldmVudHMgYXMgb2Ygbm93IGlmIGFza2VkIHRvXG5cdFx0Ly8gRG9uJ3QgZmlyZSBldmVudHMgaWYgalF1ZXJ5LmV2ZW50IGlzIHVuZGVmaW5lZCBpbiBhbiBBTUQtdXNhZ2Ugc2NlbmFyaW8gKCMxNTExOClcblx0XHRmaXJlR2xvYmFscyA9IGpRdWVyeS5ldmVudCAmJiBzLmdsb2JhbDtcblxuXHRcdC8vIFdhdGNoIGZvciBhIG5ldyBzZXQgb2YgcmVxdWVzdHNcblx0XHRpZiAoIGZpcmVHbG9iYWxzICYmIGpRdWVyeS5hY3RpdmUrKyA9PT0gMCApIHtcblx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBcImFqYXhTdGFydFwiICk7XG5cdFx0fVxuXG5cdFx0Ly8gVXBwZXJjYXNlIHRoZSB0eXBlXG5cdFx0cy50eXBlID0gcy50eXBlLnRvVXBwZXJDYXNlKCk7XG5cblx0XHQvLyBEZXRlcm1pbmUgaWYgcmVxdWVzdCBoYXMgY29udGVudFxuXHRcdHMuaGFzQ29udGVudCA9ICFybm9Db250ZW50LnRlc3QoIHMudHlwZSApO1xuXG5cdFx0Ly8gU2F2ZSB0aGUgVVJMIGluIGNhc2Ugd2UncmUgdG95aW5nIHdpdGggdGhlIElmLU1vZGlmaWVkLVNpbmNlXG5cdFx0Ly8gYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyIGxhdGVyIG9uXG5cdFx0Ly8gUmVtb3ZlIGhhc2ggdG8gc2ltcGxpZnkgdXJsIG1hbmlwdWxhdGlvblxuXHRcdGNhY2hlVVJMID0gcy51cmwucmVwbGFjZSggcmhhc2gsIFwiXCIgKTtcblxuXHRcdC8vIE1vcmUgb3B0aW9ucyBoYW5kbGluZyBmb3IgcmVxdWVzdHMgd2l0aCBubyBjb250ZW50XG5cdFx0aWYgKCAhcy5oYXNDb250ZW50ICkge1xuXG5cdFx0XHQvLyBSZW1lbWJlciB0aGUgaGFzaCBzbyB3ZSBjYW4gcHV0IGl0IGJhY2tcblx0XHRcdHVuY2FjaGVkID0gcy51cmwuc2xpY2UoIGNhY2hlVVJMLmxlbmd0aCApO1xuXG5cdFx0XHQvLyBJZiBkYXRhIGlzIGF2YWlsYWJsZSwgYXBwZW5kIGRhdGEgdG8gdXJsXG5cdFx0XHRpZiAoIHMuZGF0YSApIHtcblx0XHRcdFx0Y2FjaGVVUkwgKz0gKCBycXVlcnkudGVzdCggY2FjaGVVUkwgKSA/IFwiJlwiIDogXCI/XCIgKSArIHMuZGF0YTtcblxuXHRcdFx0XHQvLyAjOTY4MjogcmVtb3ZlIGRhdGEgc28gdGhhdCBpdCdzIG5vdCB1c2VkIGluIGFuIGV2ZW50dWFsIHJldHJ5XG5cdFx0XHRcdGRlbGV0ZSBzLmRhdGE7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCBhbnRpLWNhY2hlIGluIHVuY2FjaGVkIHVybCBpZiBuZWVkZWRcblx0XHRcdGlmICggcy5jYWNoZSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdGNhY2hlVVJMID0gY2FjaGVVUkwucmVwbGFjZSggcnRzLCBcIlwiICk7XG5cdFx0XHRcdHVuY2FjaGVkID0gKCBycXVlcnkudGVzdCggY2FjaGVVUkwgKSA/IFwiJlwiIDogXCI/XCIgKSArIFwiXz1cIiArICggbm9uY2UrKyApICsgdW5jYWNoZWQ7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFB1dCBoYXNoIGFuZCBhbnRpLWNhY2hlIG9uIHRoZSBVUkwgdGhhdCB3aWxsIGJlIHJlcXVlc3RlZCAoZ2gtMTczMilcblx0XHRcdHMudXJsID0gY2FjaGVVUkwgKyB1bmNhY2hlZDtcblxuXHRcdC8vIENoYW5nZSAnJTIwJyB0byAnKycgaWYgdGhpcyBpcyBlbmNvZGVkIGZvcm0gYm9keSBjb250ZW50IChnaC0yNjU4KVxuXHRcdH0gZWxzZSBpZiAoIHMuZGF0YSAmJiBzLnByb2Nlc3NEYXRhICYmXG5cdFx0XHQoIHMuY29udGVudFR5cGUgfHwgXCJcIiApLmluZGV4T2YoIFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIgKSA9PT0gMCApIHtcblx0XHRcdHMuZGF0YSA9IHMuZGF0YS5yZXBsYWNlKCByMjAsIFwiK1wiICk7XG5cdFx0fVxuXG5cdFx0Ly8gU2V0IHRoZSBJZi1Nb2RpZmllZC1TaW5jZSBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIsIGlmIGluIGlmTW9kaWZpZWQgbW9kZS5cblx0XHRpZiAoIHMuaWZNb2RpZmllZCApIHtcblx0XHRcdGlmICggalF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSApIHtcblx0XHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJJZi1Nb2RpZmllZC1TaW5jZVwiLCBqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdICk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdICkge1xuXHRcdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIklmLU5vbmUtTWF0Y2hcIiwgalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIGNvcnJlY3QgaGVhZGVyLCBpZiBkYXRhIGlzIGJlaW5nIHNlbnRcblx0XHRpZiAoIHMuZGF0YSAmJiBzLmhhc0NvbnRlbnQgJiYgcy5jb250ZW50VHlwZSAhPT0gZmFsc2UgfHwgb3B0aW9ucy5jb250ZW50VHlwZSApIHtcblx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiQ29udGVudC1UeXBlXCIsIHMuY29udGVudFR5cGUgKTtcblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIEFjY2VwdHMgaGVhZGVyIGZvciB0aGUgc2VydmVyLCBkZXBlbmRpbmcgb24gdGhlIGRhdGFUeXBlXG5cdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlcihcblx0XHRcdFwiQWNjZXB0XCIsXG5cdFx0XHRzLmRhdGFUeXBlc1sgMCBdICYmIHMuYWNjZXB0c1sgcy5kYXRhVHlwZXNbIDAgXSBdID9cblx0XHRcdFx0cy5hY2NlcHRzWyBzLmRhdGFUeXBlc1sgMCBdIF0gK1xuXHRcdFx0XHRcdCggcy5kYXRhVHlwZXNbIDAgXSAhPT0gXCIqXCIgPyBcIiwgXCIgKyBhbGxUeXBlcyArIFwiOyBxPTAuMDFcIiA6IFwiXCIgKSA6XG5cdFx0XHRcdHMuYWNjZXB0c1sgXCIqXCIgXVxuXHRcdCk7XG5cblx0XHQvLyBDaGVjayBmb3IgaGVhZGVycyBvcHRpb25cblx0XHRmb3IgKCBpIGluIHMuaGVhZGVycyApIHtcblx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIGksIHMuaGVhZGVyc1sgaSBdICk7XG5cdFx0fVxuXG5cdFx0Ly8gQWxsb3cgY3VzdG9tIGhlYWRlcnMvbWltZXR5cGVzIGFuZCBlYXJseSBhYm9ydFxuXHRcdGlmICggcy5iZWZvcmVTZW5kICYmXG5cdFx0XHQoIHMuYmVmb3JlU2VuZC5jYWxsKCBjYWxsYmFja0NvbnRleHQsIGpxWEhSLCBzICkgPT09IGZhbHNlIHx8IGNvbXBsZXRlZCApICkge1xuXG5cdFx0XHQvLyBBYm9ydCBpZiBub3QgZG9uZSBhbHJlYWR5IGFuZCByZXR1cm5cblx0XHRcdHJldHVybiBqcVhIUi5hYm9ydCgpO1xuXHRcdH1cblxuXHRcdC8vIEFib3J0aW5nIGlzIG5vIGxvbmdlciBhIGNhbmNlbGxhdGlvblxuXHRcdHN0ckFib3J0ID0gXCJhYm9ydFwiO1xuXG5cdFx0Ly8gSW5zdGFsbCBjYWxsYmFja3Mgb24gZGVmZXJyZWRzXG5cdFx0Y29tcGxldGVEZWZlcnJlZC5hZGQoIHMuY29tcGxldGUgKTtcblx0XHRqcVhIUi5kb25lKCBzLnN1Y2Nlc3MgKTtcblx0XHRqcVhIUi5mYWlsKCBzLmVycm9yICk7XG5cblx0XHQvLyBHZXQgdHJhbnNwb3J0XG5cdFx0dHJhbnNwb3J0ID0gaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHRyYW5zcG9ydHMsIHMsIG9wdGlvbnMsIGpxWEhSICk7XG5cblx0XHQvLyBJZiBubyB0cmFuc3BvcnQsIHdlIGF1dG8tYWJvcnRcblx0XHRpZiAoICF0cmFuc3BvcnQgKSB7XG5cdFx0XHRkb25lKCAtMSwgXCJObyBUcmFuc3BvcnRcIiApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRqcVhIUi5yZWFkeVN0YXRlID0gMTtcblxuXHRcdFx0Ly8gU2VuZCBnbG9iYWwgZXZlbnRcblx0XHRcdGlmICggZmlyZUdsb2JhbHMgKSB7XG5cdFx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBcImFqYXhTZW5kXCIsIFsganFYSFIsIHMgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiByZXF1ZXN0IHdhcyBhYm9ydGVkIGluc2lkZSBhamF4U2VuZCwgc3RvcCB0aGVyZVxuXHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdHJldHVybiBqcVhIUjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVGltZW91dFxuXHRcdFx0aWYgKCBzLmFzeW5jICYmIHMudGltZW91dCA+IDAgKSB7XG5cdFx0XHRcdHRpbWVvdXRUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRqcVhIUi5hYm9ydCggXCJ0aW1lb3V0XCIgKTtcblx0XHRcdFx0fSwgcy50aW1lb3V0ICk7XG5cdFx0XHR9XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbXBsZXRlZCA9IGZhbHNlO1xuXHRcdFx0XHR0cmFuc3BvcnQuc2VuZCggcmVxdWVzdEhlYWRlcnMsIGRvbmUgKTtcblx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdC8vIFJldGhyb3cgcG9zdC1jb21wbGV0aW9uIGV4Y2VwdGlvbnNcblx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdFx0dGhyb3cgZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFByb3BhZ2F0ZSBvdGhlcnMgYXMgcmVzdWx0c1xuXHRcdFx0XHRkb25lKCAtMSwgZSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhbGxiYWNrIGZvciB3aGVuIGV2ZXJ5dGhpbmcgaXMgZG9uZVxuXHRcdGZ1bmN0aW9uIGRvbmUoIHN0YXR1cywgbmF0aXZlU3RhdHVzVGV4dCwgcmVzcG9uc2VzLCBoZWFkZXJzICkge1xuXHRcdFx0dmFyIGlzU3VjY2Vzcywgc3VjY2VzcywgZXJyb3IsIHJlc3BvbnNlLCBtb2RpZmllZCxcblx0XHRcdFx0c3RhdHVzVGV4dCA9IG5hdGl2ZVN0YXR1c1RleHQ7XG5cblx0XHRcdC8vIElnbm9yZSByZXBlYXQgaW52b2NhdGlvbnNcblx0XHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNvbXBsZXRlZCA9IHRydWU7XG5cblx0XHRcdC8vIENsZWFyIHRpbWVvdXQgaWYgaXQgZXhpc3RzXG5cdFx0XHRpZiAoIHRpbWVvdXRUaW1lciApIHtcblx0XHRcdFx0d2luZG93LmNsZWFyVGltZW91dCggdGltZW91dFRpbWVyICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIERlcmVmZXJlbmNlIHRyYW5zcG9ydCBmb3IgZWFybHkgZ2FyYmFnZSBjb2xsZWN0aW9uXG5cdFx0XHQvLyAobm8gbWF0dGVyIGhvdyBsb25nIHRoZSBqcVhIUiBvYmplY3Qgd2lsbCBiZSB1c2VkKVxuXHRcdFx0dHJhbnNwb3J0ID0gdW5kZWZpbmVkO1xuXG5cdFx0XHQvLyBDYWNoZSByZXNwb25zZSBoZWFkZXJzXG5cdFx0XHRyZXNwb25zZUhlYWRlcnNTdHJpbmcgPSBoZWFkZXJzIHx8IFwiXCI7XG5cblx0XHRcdC8vIFNldCByZWFkeVN0YXRlXG5cdFx0XHRqcVhIUi5yZWFkeVN0YXRlID0gc3RhdHVzID4gMCA/IDQgOiAwO1xuXG5cdFx0XHQvLyBEZXRlcm1pbmUgaWYgc3VjY2Vzc2Z1bFxuXHRcdFx0aXNTdWNjZXNzID0gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDAgfHwgc3RhdHVzID09PSAzMDQ7XG5cblx0XHRcdC8vIEdldCByZXNwb25zZSBkYXRhXG5cdFx0XHRpZiAoIHJlc3BvbnNlcyApIHtcblx0XHRcdFx0cmVzcG9uc2UgPSBhamF4SGFuZGxlUmVzcG9uc2VzKCBzLCBqcVhIUiwgcmVzcG9uc2VzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENvbnZlcnQgbm8gbWF0dGVyIHdoYXQgKHRoYXQgd2F5IHJlc3BvbnNlWFhYIGZpZWxkcyBhcmUgYWx3YXlzIHNldClcblx0XHRcdHJlc3BvbnNlID0gYWpheENvbnZlcnQoIHMsIHJlc3BvbnNlLCBqcVhIUiwgaXNTdWNjZXNzICk7XG5cblx0XHRcdC8vIElmIHN1Y2Nlc3NmdWwsIGhhbmRsZSB0eXBlIGNoYWluaW5nXG5cdFx0XHRpZiAoIGlzU3VjY2VzcyApIHtcblxuXHRcdFx0XHQvLyBTZXQgdGhlIElmLU1vZGlmaWVkLVNpbmNlIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciwgaWYgaW4gaWZNb2RpZmllZCBtb2RlLlxuXHRcdFx0XHRpZiAoIHMuaWZNb2RpZmllZCApIHtcblx0XHRcdFx0XHRtb2RpZmllZCA9IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCBcIkxhc3QtTW9kaWZpZWRcIiApO1xuXHRcdFx0XHRcdGlmICggbW9kaWZpZWQgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdID0gbW9kaWZpZWQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoIFwiZXRhZ1wiICk7XG5cdFx0XHRcdFx0aWYgKCBtb2RpZmllZCApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdID0gbW9kaWZpZWQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gaWYgbm8gY29udGVudFxuXHRcdFx0XHRpZiAoIHN0YXR1cyA9PT0gMjA0IHx8IHMudHlwZSA9PT0gXCJIRUFEXCIgKSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IFwibm9jb250ZW50XCI7XG5cblx0XHRcdFx0Ly8gaWYgbm90IG1vZGlmaWVkXG5cdFx0XHRcdH0gZWxzZSBpZiAoIHN0YXR1cyA9PT0gMzA0ICkge1xuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSBcIm5vdG1vZGlmaWVkXCI7XG5cblx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBkYXRhLCBsZXQncyBjb252ZXJ0IGl0XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IHJlc3BvbnNlLnN0YXRlO1xuXHRcdFx0XHRcdHN1Y2Nlc3MgPSByZXNwb25zZS5kYXRhO1xuXHRcdFx0XHRcdGVycm9yID0gcmVzcG9uc2UuZXJyb3I7XG5cdFx0XHRcdFx0aXNTdWNjZXNzID0gIWVycm9yO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIEV4dHJhY3QgZXJyb3IgZnJvbSBzdGF0dXNUZXh0IGFuZCBub3JtYWxpemUgZm9yIG5vbi1hYm9ydHNcblx0XHRcdFx0ZXJyb3IgPSBzdGF0dXNUZXh0O1xuXHRcdFx0XHRpZiAoIHN0YXR1cyB8fCAhc3RhdHVzVGV4dCApIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gXCJlcnJvclwiO1xuXHRcdFx0XHRcdGlmICggc3RhdHVzIDwgMCApIHtcblx0XHRcdFx0XHRcdHN0YXR1cyA9IDA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNldCBkYXRhIGZvciB0aGUgZmFrZSB4aHIgb2JqZWN0XG5cdFx0XHRqcVhIUi5zdGF0dXMgPSBzdGF0dXM7XG5cdFx0XHRqcVhIUi5zdGF0dXNUZXh0ID0gKCBuYXRpdmVTdGF0dXNUZXh0IHx8IHN0YXR1c1RleHQgKSArIFwiXCI7XG5cblx0XHRcdC8vIFN1Y2Nlc3MvRXJyb3Jcblx0XHRcdGlmICggaXNTdWNjZXNzICkge1xuXHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIHN1Y2Nlc3MsIHN0YXR1c1RleHQsIGpxWEhSIF0gKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlZmVycmVkLnJlamVjdFdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBqcVhIUiwgc3RhdHVzVGV4dCwgZXJyb3IgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xuXHRcdFx0anFYSFIuc3RhdHVzQ29kZSggc3RhdHVzQ29kZSApO1xuXHRcdFx0c3RhdHVzQ29kZSA9IHVuZGVmaW5lZDtcblxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIGlzU3VjY2VzcyA/IFwiYWpheFN1Y2Nlc3NcIiA6IFwiYWpheEVycm9yXCIsXG5cdFx0XHRcdFx0WyBqcVhIUiwgcywgaXNTdWNjZXNzID8gc3VjY2VzcyA6IGVycm9yIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29tcGxldGVcblx0XHRcdGNvbXBsZXRlRGVmZXJyZWQuZmlyZVdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBqcVhIUiwgc3RhdHVzVGV4dCBdICk7XG5cblx0XHRcdGlmICggZmlyZUdsb2JhbHMgKSB7XG5cdFx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBcImFqYXhDb21wbGV0ZVwiLCBbIGpxWEhSLCBzIF0gKTtcblxuXHRcdFx0XHQvLyBIYW5kbGUgdGhlIGdsb2JhbCBBSkFYIGNvdW50ZXJcblx0XHRcdFx0aWYgKCAhKCAtLWpRdWVyeS5hY3RpdmUgKSApIHtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggXCJhamF4U3RvcFwiICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4ganFYSFI7XG5cdH0sXG5cblx0Z2V0SlNPTjogZnVuY3Rpb24oIHVybCwgZGF0YSwgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5nZXQoIHVybCwgZGF0YSwgY2FsbGJhY2ssIFwianNvblwiICk7XG5cdH0sXG5cblx0Z2V0U2NyaXB0OiBmdW5jdGlvbiggdXJsLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdldCggdXJsLCB1bmRlZmluZWQsIGNhbGxiYWNrLCBcInNjcmlwdFwiICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmVhY2goIFsgXCJnZXRcIiwgXCJwb3N0XCIgXSwgZnVuY3Rpb24oIGksIG1ldGhvZCApIHtcblx0alF1ZXJ5WyBtZXRob2QgXSA9IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIGNhbGxiYWNrLCB0eXBlICkge1xuXG5cdFx0Ly8gU2hpZnQgYXJndW1lbnRzIGlmIGRhdGEgYXJndW1lbnQgd2FzIG9taXR0ZWRcblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBkYXRhICkgKSB7XG5cdFx0XHR0eXBlID0gdHlwZSB8fCBjYWxsYmFjaztcblx0XHRcdGNhbGxiYWNrID0gZGF0YTtcblx0XHRcdGRhdGEgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Ly8gVGhlIHVybCBjYW4gYmUgYW4gb3B0aW9ucyBvYmplY3QgKHdoaWNoIHRoZW4gbXVzdCBoYXZlIC51cmwpXG5cdFx0cmV0dXJuIGpRdWVyeS5hamF4KCBqUXVlcnkuZXh0ZW5kKCB7XG5cdFx0XHR1cmw6IHVybCxcblx0XHRcdHR5cGU6IG1ldGhvZCxcblx0XHRcdGRhdGFUeXBlOiB0eXBlLFxuXHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdHN1Y2Nlc3M6IGNhbGxiYWNrXG5cdFx0fSwgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIHVybCApICYmIHVybCApICk7XG5cdH07XG59ICk7XG5cblxualF1ZXJ5Ll9ldmFsVXJsID0gZnVuY3Rpb24oIHVybCApIHtcblx0cmV0dXJuIGpRdWVyeS5hamF4KCB7XG5cdFx0dXJsOiB1cmwsXG5cblx0XHQvLyBNYWtlIHRoaXMgZXhwbGljaXQsIHNpbmNlIHVzZXIgY2FuIG92ZXJyaWRlIHRoaXMgdGhyb3VnaCBhamF4U2V0dXAgKCMxMTI2NClcblx0XHR0eXBlOiBcIkdFVFwiLFxuXHRcdGRhdGFUeXBlOiBcInNjcmlwdFwiLFxuXHRcdGNhY2hlOiB0cnVlLFxuXHRcdGFzeW5jOiBmYWxzZSxcblx0XHRnbG9iYWw6IGZhbHNlLFxuXHRcdFwidGhyb3dzXCI6IHRydWVcblx0fSApO1xufTtcblxuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHdyYXBBbGw6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdHZhciB3cmFwO1xuXG5cdFx0aWYgKCB0aGlzWyAwIF0gKSB7XG5cdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBodG1sICkgKSB7XG5cdFx0XHRcdGh0bWwgPSBodG1sLmNhbGwoIHRoaXNbIDAgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUaGUgZWxlbWVudHMgdG8gd3JhcCB0aGUgdGFyZ2V0IGFyb3VuZFxuXHRcdFx0d3JhcCA9IGpRdWVyeSggaHRtbCwgdGhpc1sgMCBdLm93bmVyRG9jdW1lbnQgKS5lcSggMCApLmNsb25lKCB0cnVlICk7XG5cblx0XHRcdGlmICggdGhpc1sgMCBdLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHdyYXAuaW5zZXJ0QmVmb3JlKCB0aGlzWyAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0d3JhcC5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZWxlbSA9IHRoaXM7XG5cblx0XHRcdFx0d2hpbGUgKCBlbGVtLmZpcnN0RWxlbWVudENoaWxkICkge1xuXHRcdFx0XHRcdGVsZW0gPSBlbGVtLmZpcnN0RWxlbWVudENoaWxkO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGVsZW07XG5cdFx0XHR9ICkuYXBwZW5kKCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0d3JhcElubmVyOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBodG1sICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkud3JhcElubmVyKCBodG1sLmNhbGwoIHRoaXMsIGkgKSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSBqUXVlcnkoIHRoaXMgKSxcblx0XHRcdFx0Y29udGVudHMgPSBzZWxmLmNvbnRlbnRzKCk7XG5cblx0XHRcdGlmICggY29udGVudHMubGVuZ3RoICkge1xuXHRcdFx0XHRjb250ZW50cy53cmFwQWxsKCBodG1sICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNlbGYuYXBwZW5kKCBodG1sICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdHdyYXA6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdHZhciBpc0Z1bmN0aW9uID0galF1ZXJ5LmlzRnVuY3Rpb24oIGh0bWwgKTtcblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0alF1ZXJ5KCB0aGlzICkud3JhcEFsbCggaXNGdW5jdGlvbiA/IGh0bWwuY2FsbCggdGhpcywgaSApIDogaHRtbCApO1xuXHRcdH0gKTtcblx0fSxcblxuXHR1bndyYXA6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR0aGlzLnBhcmVudCggc2VsZWN0b3IgKS5ub3QoIFwiYm9keVwiICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkoIHRoaXMgKS5yZXBsYWNlV2l0aCggdGhpcy5jaGlsZE5vZGVzICk7XG5cdFx0fSApO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG59ICk7XG5cblxualF1ZXJ5LmV4cHIucHNldWRvcy5oaWRkZW4gPSBmdW5jdGlvbiggZWxlbSApIHtcblx0cmV0dXJuICFqUXVlcnkuZXhwci5wc2V1ZG9zLnZpc2libGUoIGVsZW0gKTtcbn07XG5qUXVlcnkuZXhwci5wc2V1ZG9zLnZpc2libGUgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0cmV0dXJuICEhKCBlbGVtLm9mZnNldFdpZHRoIHx8IGVsZW0ub2Zmc2V0SGVpZ2h0IHx8IGVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKTtcbn07XG5cblxuXG5cbmpRdWVyeS5hamF4U2V0dGluZ3MueGhyID0gZnVuY3Rpb24oKSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QoKTtcblx0fSBjYXRjaCAoIGUgKSB7fVxufTtcblxudmFyIHhoclN1Y2Nlc3NTdGF0dXMgPSB7XG5cblx0XHQvLyBGaWxlIHByb3RvY29sIGFsd2F5cyB5aWVsZHMgc3RhdHVzIGNvZGUgMCwgYXNzdW1lIDIwMFxuXHRcdDA6IDIwMCxcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdFx0Ly8gIzE0NTA6IHNvbWV0aW1lcyBJRSByZXR1cm5zIDEyMjMgd2hlbiBpdCBzaG91bGQgYmUgMjA0XG5cdFx0MTIyMzogMjA0XG5cdH0sXG5cdHhoclN1cHBvcnRlZCA9IGpRdWVyeS5hamF4U2V0dGluZ3MueGhyKCk7XG5cbnN1cHBvcnQuY29ycyA9ICEheGhyU3VwcG9ydGVkICYmICggXCJ3aXRoQ3JlZGVudGlhbHNcIiBpbiB4aHJTdXBwb3J0ZWQgKTtcbnN1cHBvcnQuYWpheCA9IHhoclN1cHBvcnRlZCA9ICEheGhyU3VwcG9ydGVkO1xuXG5qUXVlcnkuYWpheFRyYW5zcG9ydCggZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdHZhciBjYWxsYmFjaywgZXJyb3JDYWxsYmFjaztcblxuXHQvLyBDcm9zcyBkb21haW4gb25seSBhbGxvd2VkIGlmIHN1cHBvcnRlZCB0aHJvdWdoIFhNTEh0dHBSZXF1ZXN0XG5cdGlmICggc3VwcG9ydC5jb3JzIHx8IHhoclN1cHBvcnRlZCAmJiAhb3B0aW9ucy5jcm9zc0RvbWFpbiApIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c2VuZDogZnVuY3Rpb24oIGhlYWRlcnMsIGNvbXBsZXRlICkge1xuXHRcdFx0XHR2YXIgaSxcblx0XHRcdFx0XHR4aHIgPSBvcHRpb25zLnhocigpO1xuXG5cdFx0XHRcdHhoci5vcGVuKFxuXHRcdFx0XHRcdG9wdGlvbnMudHlwZSxcblx0XHRcdFx0XHRvcHRpb25zLnVybCxcblx0XHRcdFx0XHRvcHRpb25zLmFzeW5jLFxuXHRcdFx0XHRcdG9wdGlvbnMudXNlcm5hbWUsXG5cdFx0XHRcdFx0b3B0aW9ucy5wYXNzd29yZFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdC8vIEFwcGx5IGN1c3RvbSBmaWVsZHMgaWYgcHJvdmlkZWRcblx0XHRcdFx0aWYgKCBvcHRpb25zLnhockZpZWxkcyApIHtcblx0XHRcdFx0XHRmb3IgKCBpIGluIG9wdGlvbnMueGhyRmllbGRzICkge1xuXHRcdFx0XHRcdFx0eGhyWyBpIF0gPSBvcHRpb25zLnhockZpZWxkc1sgaSBdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIE92ZXJyaWRlIG1pbWUgdHlwZSBpZiBuZWVkZWRcblx0XHRcdFx0aWYgKCBvcHRpb25zLm1pbWVUeXBlICYmIHhoci5vdmVycmlkZU1pbWVUeXBlICkge1xuXHRcdFx0XHRcdHhoci5vdmVycmlkZU1pbWVUeXBlKCBvcHRpb25zLm1pbWVUeXBlICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBYLVJlcXVlc3RlZC1XaXRoIGhlYWRlclxuXHRcdFx0XHQvLyBGb3IgY3Jvc3MtZG9tYWluIHJlcXVlc3RzLCBzZWVpbmcgYXMgY29uZGl0aW9ucyBmb3IgYSBwcmVmbGlnaHQgYXJlXG5cdFx0XHRcdC8vIGFraW4gdG8gYSBqaWdzYXcgcHV6emxlLCB3ZSBzaW1wbHkgbmV2ZXIgc2V0IGl0IHRvIGJlIHN1cmUuXG5cdFx0XHRcdC8vIChpdCBjYW4gYWx3YXlzIGJlIHNldCBvbiBhIHBlci1yZXF1ZXN0IGJhc2lzIG9yIGV2ZW4gdXNpbmcgYWpheFNldHVwKVxuXHRcdFx0XHQvLyBGb3Igc2FtZS1kb21haW4gcmVxdWVzdHMsIHdvbid0IGNoYW5nZSBoZWFkZXIgaWYgYWxyZWFkeSBwcm92aWRlZC5cblx0XHRcdFx0aWYgKCAhb3B0aW9ucy5jcm9zc0RvbWFpbiAmJiAhaGVhZGVyc1sgXCJYLVJlcXVlc3RlZC1XaXRoXCIgXSApIHtcblx0XHRcdFx0XHRoZWFkZXJzWyBcIlgtUmVxdWVzdGVkLVdpdGhcIiBdID0gXCJYTUxIdHRwUmVxdWVzdFwiO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gU2V0IGhlYWRlcnNcblx0XHRcdFx0Zm9yICggaSBpbiBoZWFkZXJzICkge1xuXHRcdFx0XHRcdHhoci5zZXRSZXF1ZXN0SGVhZGVyKCBpLCBoZWFkZXJzWyBpIF0gKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIENhbGxiYWNrXG5cdFx0XHRcdGNhbGxiYWNrID0gZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdFx0Y2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrID0geGhyLm9ubG9hZCA9XG5cdFx0XHRcdFx0XHRcdFx0eGhyLm9uZXJyb3IgPSB4aHIub25hYm9ydCA9IHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuXG5cdFx0XHRcdFx0XHRcdGlmICggdHlwZSA9PT0gXCJhYm9ydFwiICkge1xuXHRcdFx0XHRcdFx0XHRcdHhoci5hYm9ydCgpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCB0eXBlID09PSBcImVycm9yXCIgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRcdFx0XHRcdFx0XHRcdC8vIE9uIGEgbWFudWFsIG5hdGl2ZSBhYm9ydCwgSUU5IHRocm93c1xuXHRcdFx0XHRcdFx0XHRcdC8vIGVycm9ycyBvbiBhbnkgcHJvcGVydHkgYWNjZXNzIHRoYXQgaXMgbm90IHJlYWR5U3RhdGVcblx0XHRcdFx0XHRcdFx0XHRpZiAoIHR5cGVvZiB4aHIuc3RhdHVzICE9PSBcIm51bWJlclwiICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29tcGxldGUoIDAsIFwiZXJyb3JcIiApO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb21wbGV0ZShcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBGaWxlOiBwcm90b2NvbCBhbHdheXMgeWllbGRzIHN0YXR1cyAwOyBzZWUgIzg2MDUsICMxNDIwN1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzVGV4dFxuXHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29tcGxldGUoXG5cdFx0XHRcdFx0XHRcdFx0XHR4aHJTdWNjZXNzU3RhdHVzWyB4aHIuc3RhdHVzIF0gfHwgeGhyLnN0YXR1cyxcblx0XHRcdFx0XHRcdFx0XHRcdHhoci5zdGF0dXNUZXh0LFxuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSUU5IGhhcyBubyBYSFIyIGJ1dCB0aHJvd3Mgb24gYmluYXJ5ICh0cmFjLTExNDI2KVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gRm9yIFhIUjIgbm9uLXRleHQsIGxldCB0aGUgY2FsbGVyIGhhbmRsZSBpdCAoZ2gtMjQ5OClcblx0XHRcdFx0XHRcdFx0XHRcdCggeGhyLnJlc3BvbnNlVHlwZSB8fCBcInRleHRcIiApICE9PSBcInRleHRcIiAgfHxcblx0XHRcdFx0XHRcdFx0XHRcdHR5cGVvZiB4aHIucmVzcG9uc2VUZXh0ICE9PSBcInN0cmluZ1wiID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0eyBiaW5hcnk6IHhoci5yZXNwb25zZSB9IDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0eyB0ZXh0OiB4aHIucmVzcG9uc2VUZXh0IH0sXG5cdFx0XHRcdFx0XHRcdFx0XHR4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcblx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQvLyBMaXN0ZW4gdG8gZXZlbnRzXG5cdFx0XHRcdHhoci5vbmxvYWQgPSBjYWxsYmFjaygpO1xuXHRcdFx0XHRlcnJvckNhbGxiYWNrID0geGhyLm9uZXJyb3IgPSBjYWxsYmFjayggXCJlcnJvclwiICk7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgOSBvbmx5XG5cdFx0XHRcdC8vIFVzZSBvbnJlYWR5c3RhdGVjaGFuZ2UgdG8gcmVwbGFjZSBvbmFib3J0XG5cdFx0XHRcdC8vIHRvIGhhbmRsZSB1bmNhdWdodCBhYm9ydHNcblx0XHRcdFx0aWYgKCB4aHIub25hYm9ydCAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHhoci5vbmFib3J0ID0gZXJyb3JDYWxsYmFjaztcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRcdC8vIENoZWNrIHJlYWR5U3RhdGUgYmVmb3JlIHRpbWVvdXQgYXMgaXQgY2hhbmdlc1xuXHRcdFx0XHRcdFx0aWYgKCB4aHIucmVhZHlTdGF0ZSA9PT0gNCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBBbGxvdyBvbmVycm9yIHRvIGJlIGNhbGxlZCBmaXJzdCxcblx0XHRcdFx0XHRcdFx0Ly8gYnV0IHRoYXQgd2lsbCBub3QgaGFuZGxlIGEgbmF0aXZlIGFib3J0XG5cdFx0XHRcdFx0XHRcdC8vIEFsc28sIHNhdmUgZXJyb3JDYWxsYmFjayB0byBhIHZhcmlhYmxlXG5cdFx0XHRcdFx0XHRcdC8vIGFzIHhoci5vbmVycm9yIGNhbm5vdCBiZSBhY2Nlc3NlZFxuXHRcdFx0XHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGVycm9yQ2FsbGJhY2soKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQ3JlYXRlIHRoZSBhYm9ydCBjYWxsYmFja1xuXHRcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrKCBcImFib3J0XCIgKTtcblxuXHRcdFx0XHR0cnkge1xuXG5cdFx0XHRcdFx0Ly8gRG8gc2VuZCB0aGUgcmVxdWVzdCAodGhpcyBtYXkgcmFpc2UgYW4gZXhjZXB0aW9uKVxuXHRcdFx0XHRcdHhoci5zZW5kKCBvcHRpb25zLmhhc0NvbnRlbnQgJiYgb3B0aW9ucy5kYXRhIHx8IG51bGwgKTtcblx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0XHQvLyAjMTQ2ODM6IE9ubHkgcmV0aHJvdyBpZiB0aGlzIGhhc24ndCBiZWVuIG5vdGlmaWVkIGFzIGFuIGVycm9yIHlldFxuXHRcdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSxcblxuXHRcdFx0YWJvcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9XG59ICk7XG5cblxuXG5cbi8vIFByZXZlbnQgYXV0by1leGVjdXRpb24gb2Ygc2NyaXB0cyB3aGVuIG5vIGV4cGxpY2l0IGRhdGFUeXBlIHdhcyBwcm92aWRlZCAoU2VlIGdoLTI0MzIpXG5qUXVlcnkuYWpheFByZWZpbHRlciggZnVuY3Rpb24oIHMgKSB7XG5cdGlmICggcy5jcm9zc0RvbWFpbiApIHtcblx0XHRzLmNvbnRlbnRzLnNjcmlwdCA9IGZhbHNlO1xuXHR9XG59ICk7XG5cbi8vIEluc3RhbGwgc2NyaXB0IGRhdGFUeXBlXG5qUXVlcnkuYWpheFNldHVwKCB7XG5cdGFjY2VwdHM6IHtcblx0XHRzY3JpcHQ6IFwidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBcIiArXG5cdFx0XHRcImFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdFwiXG5cdH0sXG5cdGNvbnRlbnRzOiB7XG5cdFx0c2NyaXB0OiAvXFxiKD86amF2YXxlY21hKXNjcmlwdFxcYi9cblx0fSxcblx0Y29udmVydGVyczoge1xuXHRcdFwidGV4dCBzY3JpcHRcIjogZnVuY3Rpb24oIHRleHQgKSB7XG5cdFx0XHRqUXVlcnkuZ2xvYmFsRXZhbCggdGV4dCApO1xuXHRcdFx0cmV0dXJuIHRleHQ7XG5cdFx0fVxuXHR9XG59ICk7XG5cbi8vIEhhbmRsZSBjYWNoZSdzIHNwZWNpYWwgY2FzZSBhbmQgY3Jvc3NEb21haW5cbmpRdWVyeS5hamF4UHJlZmlsdGVyKCBcInNjcmlwdFwiLCBmdW5jdGlvbiggcyApIHtcblx0aWYgKCBzLmNhY2hlID09PSB1bmRlZmluZWQgKSB7XG5cdFx0cy5jYWNoZSA9IGZhbHNlO1xuXHR9XG5cdGlmICggcy5jcm9zc0RvbWFpbiApIHtcblx0XHRzLnR5cGUgPSBcIkdFVFwiO1xuXHR9XG59ICk7XG5cbi8vIEJpbmQgc2NyaXB0IHRhZyBoYWNrIHRyYW5zcG9ydFxualF1ZXJ5LmFqYXhUcmFuc3BvcnQoIFwic2NyaXB0XCIsIGZ1bmN0aW9uKCBzICkge1xuXG5cdC8vIFRoaXMgdHJhbnNwb3J0IG9ubHkgZGVhbHMgd2l0aCBjcm9zcyBkb21haW4gcmVxdWVzdHNcblx0aWYgKCBzLmNyb3NzRG9tYWluICkge1xuXHRcdHZhciBzY3JpcHQsIGNhbGxiYWNrO1xuXHRcdHJldHVybiB7XG5cdFx0XHRzZW5kOiBmdW5jdGlvbiggXywgY29tcGxldGUgKSB7XG5cdFx0XHRcdHNjcmlwdCA9IGpRdWVyeSggXCI8c2NyaXB0PlwiICkucHJvcCgge1xuXHRcdFx0XHRcdGNoYXJzZXQ6IHMuc2NyaXB0Q2hhcnNldCxcblx0XHRcdFx0XHRzcmM6IHMudXJsXG5cdFx0XHRcdH0gKS5vbihcblx0XHRcdFx0XHRcImxvYWQgZXJyb3JcIixcblx0XHRcdFx0XHRjYWxsYmFjayA9IGZ1bmN0aW9uKCBldnQgKSB7XG5cdFx0XHRcdFx0XHRzY3JpcHQucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRjYWxsYmFjayA9IG51bGw7XG5cdFx0XHRcdFx0XHRpZiAoIGV2dCApIHtcblx0XHRcdFx0XHRcdFx0Y29tcGxldGUoIGV2dC50eXBlID09PSBcImVycm9yXCIgPyA0MDQgOiAyMDAsIGV2dC50eXBlICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdC8vIFVzZSBuYXRpdmUgRE9NIG1hbmlwdWxhdGlvbiB0byBhdm9pZCBvdXIgZG9tTWFuaXAgQUpBWCB0cmlja2VyeVxuXHRcdFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKCBzY3JpcHRbIDAgXSApO1xuXHRcdFx0fSxcblx0XHRcdGFib3J0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxufSApO1xuXG5cblxuXG52YXIgb2xkQ2FsbGJhY2tzID0gW10sXG5cdHJqc29ucCA9IC8oPSlcXD8oPz0mfCQpfFxcP1xcPy87XG5cbi8vIERlZmF1bHQganNvbnAgc2V0dGluZ3NcbmpRdWVyeS5hamF4U2V0dXAoIHtcblx0anNvbnA6IFwiY2FsbGJhY2tcIixcblx0anNvbnBDYWxsYmFjazogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGNhbGxiYWNrID0gb2xkQ2FsbGJhY2tzLnBvcCgpIHx8ICggalF1ZXJ5LmV4cGFuZG8gKyBcIl9cIiArICggbm9uY2UrKyApICk7XG5cdFx0dGhpc1sgY2FsbGJhY2sgXSA9IHRydWU7XG5cdFx0cmV0dXJuIGNhbGxiYWNrO1xuXHR9XG59ICk7XG5cbi8vIERldGVjdCwgbm9ybWFsaXplIG9wdGlvbnMgYW5kIGluc3RhbGwgY2FsbGJhY2tzIGZvciBqc29ucCByZXF1ZXN0c1xualF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIFwianNvbiBqc29ucFwiLCBmdW5jdGlvbiggcywgb3JpZ2luYWxTZXR0aW5ncywganFYSFIgKSB7XG5cblx0dmFyIGNhbGxiYWNrTmFtZSwgb3ZlcndyaXR0ZW4sIHJlc3BvbnNlQ29udGFpbmVyLFxuXHRcdGpzb25Qcm9wID0gcy5qc29ucCAhPT0gZmFsc2UgJiYgKCByanNvbnAudGVzdCggcy51cmwgKSA/XG5cdFx0XHRcInVybFwiIDpcblx0XHRcdHR5cGVvZiBzLmRhdGEgPT09IFwic3RyaW5nXCIgJiZcblx0XHRcdFx0KCBzLmNvbnRlbnRUeXBlIHx8IFwiXCIgKVxuXHRcdFx0XHRcdC5pbmRleE9mKCBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiICkgPT09IDAgJiZcblx0XHRcdFx0cmpzb25wLnRlc3QoIHMuZGF0YSApICYmIFwiZGF0YVwiXG5cdFx0KTtcblxuXHQvLyBIYW5kbGUgaWZmIHRoZSBleHBlY3RlZCBkYXRhIHR5cGUgaXMgXCJqc29ucFwiIG9yIHdlIGhhdmUgYSBwYXJhbWV0ZXIgdG8gc2V0XG5cdGlmICgganNvblByb3AgfHwgcy5kYXRhVHlwZXNbIDAgXSA9PT0gXCJqc29ucFwiICkge1xuXG5cdFx0Ly8gR2V0IGNhbGxiYWNrIG5hbWUsIHJlbWVtYmVyaW5nIHByZWV4aXN0aW5nIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCBpdFxuXHRcdGNhbGxiYWNrTmFtZSA9IHMuanNvbnBDYWxsYmFjayA9IGpRdWVyeS5pc0Z1bmN0aW9uKCBzLmpzb25wQ2FsbGJhY2sgKSA/XG5cdFx0XHRzLmpzb25wQ2FsbGJhY2soKSA6XG5cdFx0XHRzLmpzb25wQ2FsbGJhY2s7XG5cblx0XHQvLyBJbnNlcnQgY2FsbGJhY2sgaW50byB1cmwgb3IgZm9ybSBkYXRhXG5cdFx0aWYgKCBqc29uUHJvcCApIHtcblx0XHRcdHNbIGpzb25Qcm9wIF0gPSBzWyBqc29uUHJvcCBdLnJlcGxhY2UoIHJqc29ucCwgXCIkMVwiICsgY2FsbGJhY2tOYW1lICk7XG5cdFx0fSBlbHNlIGlmICggcy5qc29ucCAhPT0gZmFsc2UgKSB7XG5cdFx0XHRzLnVybCArPSAoIHJxdWVyeS50ZXN0KCBzLnVybCApID8gXCImXCIgOiBcIj9cIiApICsgcy5qc29ucCArIFwiPVwiICsgY2FsbGJhY2tOYW1lO1xuXHRcdH1cblxuXHRcdC8vIFVzZSBkYXRhIGNvbnZlcnRlciB0byByZXRyaWV2ZSBqc29uIGFmdGVyIHNjcmlwdCBleGVjdXRpb25cblx0XHRzLmNvbnZlcnRlcnNbIFwic2NyaXB0IGpzb25cIiBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoICFyZXNwb25zZUNvbnRhaW5lciApIHtcblx0XHRcdFx0alF1ZXJ5LmVycm9yKCBjYWxsYmFja05hbWUgKyBcIiB3YXMgbm90IGNhbGxlZFwiICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzcG9uc2VDb250YWluZXJbIDAgXTtcblx0XHR9O1xuXG5cdFx0Ly8gRm9yY2UganNvbiBkYXRhVHlwZVxuXHRcdHMuZGF0YVR5cGVzWyAwIF0gPSBcImpzb25cIjtcblxuXHRcdC8vIEluc3RhbGwgY2FsbGJhY2tcblx0XHRvdmVyd3JpdHRlbiA9IHdpbmRvd1sgY2FsbGJhY2tOYW1lIF07XG5cdFx0d2luZG93WyBjYWxsYmFja05hbWUgXSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmVzcG9uc2VDb250YWluZXIgPSBhcmd1bWVudHM7XG5cdFx0fTtcblxuXHRcdC8vIENsZWFuLXVwIGZ1bmN0aW9uIChmaXJlcyBhZnRlciBjb252ZXJ0ZXJzKVxuXHRcdGpxWEhSLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIElmIHByZXZpb3VzIHZhbHVlIGRpZG4ndCBleGlzdCAtIHJlbW92ZSBpdFxuXHRcdFx0aWYgKCBvdmVyd3JpdHRlbiA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRqUXVlcnkoIHdpbmRvdyApLnJlbW92ZVByb3AoIGNhbGxiYWNrTmFtZSApO1xuXG5cdFx0XHQvLyBPdGhlcndpc2UgcmVzdG9yZSBwcmVleGlzdGluZyB2YWx1ZVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0d2luZG93WyBjYWxsYmFja05hbWUgXSA9IG92ZXJ3cml0dGVuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTYXZlIGJhY2sgYXMgZnJlZVxuXHRcdFx0aWYgKCBzWyBjYWxsYmFja05hbWUgXSApIHtcblxuXHRcdFx0XHQvLyBNYWtlIHN1cmUgdGhhdCByZS11c2luZyB0aGUgb3B0aW9ucyBkb2Vzbid0IHNjcmV3IHRoaW5ncyBhcm91bmRcblx0XHRcdFx0cy5qc29ucENhbGxiYWNrID0gb3JpZ2luYWxTZXR0aW5ncy5qc29ucENhbGxiYWNrO1xuXG5cdFx0XHRcdC8vIFNhdmUgdGhlIGNhbGxiYWNrIG5hbWUgZm9yIGZ1dHVyZSB1c2Vcblx0XHRcdFx0b2xkQ2FsbGJhY2tzLnB1c2goIGNhbGxiYWNrTmFtZSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDYWxsIGlmIGl0IHdhcyBhIGZ1bmN0aW9uIGFuZCB3ZSBoYXZlIGEgcmVzcG9uc2Vcblx0XHRcdGlmICggcmVzcG9uc2VDb250YWluZXIgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oIG92ZXJ3cml0dGVuICkgKSB7XG5cdFx0XHRcdG92ZXJ3cml0dGVuKCByZXNwb25zZUNvbnRhaW5lclsgMCBdICk7XG5cdFx0XHR9XG5cblx0XHRcdHJlc3BvbnNlQ29udGFpbmVyID0gb3ZlcndyaXR0ZW4gPSB1bmRlZmluZWQ7XG5cdFx0fSApO1xuXG5cdFx0Ly8gRGVsZWdhdGUgdG8gc2NyaXB0XG5cdFx0cmV0dXJuIFwic2NyaXB0XCI7XG5cdH1cbn0gKTtcblxuXG5cblxuLy8gU3VwcG9ydDogU2FmYXJpIDggb25seVxuLy8gSW4gU2FmYXJpIDggZG9jdW1lbnRzIGNyZWF0ZWQgdmlhIGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudFxuLy8gY29sbGFwc2Ugc2libGluZyBmb3JtczogdGhlIHNlY29uZCBvbmUgYmVjb21lcyBhIGNoaWxkIG9mIHRoZSBmaXJzdCBvbmUuXG4vLyBCZWNhdXNlIG9mIHRoYXQsIHRoaXMgc2VjdXJpdHkgbWVhc3VyZSBoYXMgdG8gYmUgZGlzYWJsZWQgaW4gU2FmYXJpIDguXG4vLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM3MzM3XG5zdXBwb3J0LmNyZWF0ZUhUTUxEb2N1bWVudCA9ICggZnVuY3Rpb24oKSB7XG5cdHZhciBib2R5ID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCBcIlwiICkuYm9keTtcblx0Ym9keS5pbm5lckhUTUwgPSBcIjxmb3JtPjwvZm9ybT48Zm9ybT48L2Zvcm0+XCI7XG5cdHJldHVybiBib2R5LmNoaWxkTm9kZXMubGVuZ3RoID09PSAyO1xufSApKCk7XG5cblxuLy8gQXJndW1lbnQgXCJkYXRhXCIgc2hvdWxkIGJlIHN0cmluZyBvZiBodG1sXG4vLyBjb250ZXh0IChvcHRpb25hbCk6IElmIHNwZWNpZmllZCwgdGhlIGZyYWdtZW50IHdpbGwgYmUgY3JlYXRlZCBpbiB0aGlzIGNvbnRleHQsXG4vLyBkZWZhdWx0cyB0byBkb2N1bWVudFxuLy8ga2VlcFNjcmlwdHMgKG9wdGlvbmFsKTogSWYgdHJ1ZSwgd2lsbCBpbmNsdWRlIHNjcmlwdHMgcGFzc2VkIGluIHRoZSBodG1sIHN0cmluZ1xualF1ZXJ5LnBhcnNlSFRNTCA9IGZ1bmN0aW9uKCBkYXRhLCBjb250ZXh0LCBrZWVwU2NyaXB0cyApIHtcblx0aWYgKCB0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRyZXR1cm4gW107XG5cdH1cblx0aWYgKCB0eXBlb2YgY29udGV4dCA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0a2VlcFNjcmlwdHMgPSBjb250ZXh0O1xuXHRcdGNvbnRleHQgPSBmYWxzZTtcblx0fVxuXG5cdHZhciBiYXNlLCBwYXJzZWQsIHNjcmlwdHM7XG5cblx0aWYgKCAhY29udGV4dCApIHtcblxuXHRcdC8vIFN0b3Agc2NyaXB0cyBvciBpbmxpbmUgZXZlbnQgaGFuZGxlcnMgZnJvbSBiZWluZyBleGVjdXRlZCBpbW1lZGlhdGVseVxuXHRcdC8vIGJ5IHVzaW5nIGRvY3VtZW50LmltcGxlbWVudGF0aW9uXG5cdFx0aWYgKCBzdXBwb3J0LmNyZWF0ZUhUTUxEb2N1bWVudCApIHtcblx0XHRcdGNvbnRleHQgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIFwiXCIgKTtcblxuXHRcdFx0Ly8gU2V0IHRoZSBiYXNlIGhyZWYgZm9yIHRoZSBjcmVhdGVkIGRvY3VtZW50XG5cdFx0XHQvLyBzbyBhbnkgcGFyc2VkIGVsZW1lbnRzIHdpdGggVVJMc1xuXHRcdFx0Ly8gYXJlIGJhc2VkIG9uIHRoZSBkb2N1bWVudCdzIFVSTCAoZ2gtMjk2NSlcblx0XHRcdGJhc2UgPSBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoIFwiYmFzZVwiICk7XG5cdFx0XHRiYXNlLmhyZWYgPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmO1xuXHRcdFx0Y29udGV4dC5oZWFkLmFwcGVuZENoaWxkKCBiYXNlICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnRleHQgPSBkb2N1bWVudDtcblx0XHR9XG5cdH1cblxuXHRwYXJzZWQgPSByc2luZ2xlVGFnLmV4ZWMoIGRhdGEgKTtcblx0c2NyaXB0cyA9ICFrZWVwU2NyaXB0cyAmJiBbXTtcblxuXHQvLyBTaW5nbGUgdGFnXG5cdGlmICggcGFyc2VkICkge1xuXHRcdHJldHVybiBbIGNvbnRleHQuY3JlYXRlRWxlbWVudCggcGFyc2VkWyAxIF0gKSBdO1xuXHR9XG5cblx0cGFyc2VkID0gYnVpbGRGcmFnbWVudCggWyBkYXRhIF0sIGNvbnRleHQsIHNjcmlwdHMgKTtcblxuXHRpZiAoIHNjcmlwdHMgJiYgc2NyaXB0cy5sZW5ndGggKSB7XG5cdFx0alF1ZXJ5KCBzY3JpcHRzICkucmVtb3ZlKCk7XG5cdH1cblxuXHRyZXR1cm4galF1ZXJ5Lm1lcmdlKCBbXSwgcGFyc2VkLmNoaWxkTm9kZXMgKTtcbn07XG5cblxuLyoqXG4gKiBMb2FkIGEgdXJsIGludG8gYSBwYWdlXG4gKi9cbmpRdWVyeS5mbi5sb2FkID0gZnVuY3Rpb24oIHVybCwgcGFyYW1zLCBjYWxsYmFjayApIHtcblx0dmFyIHNlbGVjdG9yLCB0eXBlLCByZXNwb25zZSxcblx0XHRzZWxmID0gdGhpcyxcblx0XHRvZmYgPSB1cmwuaW5kZXhPZiggXCIgXCIgKTtcblxuXHRpZiAoIG9mZiA+IC0xICkge1xuXHRcdHNlbGVjdG9yID0galF1ZXJ5LnRyaW0oIHVybC5zbGljZSggb2ZmICkgKTtcblx0XHR1cmwgPSB1cmwuc2xpY2UoIDAsIG9mZiApO1xuXHR9XG5cblx0Ly8gSWYgaXQncyBhIGZ1bmN0aW9uXG5cdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHBhcmFtcyApICkge1xuXG5cdFx0Ly8gV2UgYXNzdW1lIHRoYXQgaXQncyB0aGUgY2FsbGJhY2tcblx0XHRjYWxsYmFjayA9IHBhcmFtcztcblx0XHRwYXJhbXMgPSB1bmRlZmluZWQ7XG5cblx0Ly8gT3RoZXJ3aXNlLCBidWlsZCBhIHBhcmFtIHN0cmluZ1xuXHR9IGVsc2UgaWYgKCBwYXJhbXMgJiYgdHlwZW9mIHBhcmFtcyA9PT0gXCJvYmplY3RcIiApIHtcblx0XHR0eXBlID0gXCJQT1NUXCI7XG5cdH1cblxuXHQvLyBJZiB3ZSBoYXZlIGVsZW1lbnRzIHRvIG1vZGlmeSwgbWFrZSB0aGUgcmVxdWVzdFxuXHRpZiAoIHNlbGYubGVuZ3RoID4gMCApIHtcblx0XHRqUXVlcnkuYWpheCgge1xuXHRcdFx0dXJsOiB1cmwsXG5cblx0XHRcdC8vIElmIFwidHlwZVwiIHZhcmlhYmxlIGlzIHVuZGVmaW5lZCwgdGhlbiBcIkdFVFwiIG1ldGhvZCB3aWxsIGJlIHVzZWQuXG5cdFx0XHQvLyBNYWtlIHZhbHVlIG9mIHRoaXMgZmllbGQgZXhwbGljaXQgc2luY2Vcblx0XHRcdC8vIHVzZXIgY2FuIG92ZXJyaWRlIGl0IHRocm91Z2ggYWpheFNldHVwIG1ldGhvZFxuXHRcdFx0dHlwZTogdHlwZSB8fCBcIkdFVFwiLFxuXHRcdFx0ZGF0YVR5cGU6IFwiaHRtbFwiLFxuXHRcdFx0ZGF0YTogcGFyYW1zXG5cdFx0fSApLmRvbmUoIGZ1bmN0aW9uKCByZXNwb25zZVRleHQgKSB7XG5cblx0XHRcdC8vIFNhdmUgcmVzcG9uc2UgZm9yIHVzZSBpbiBjb21wbGV0ZSBjYWxsYmFja1xuXHRcdFx0cmVzcG9uc2UgPSBhcmd1bWVudHM7XG5cblx0XHRcdHNlbGYuaHRtbCggc2VsZWN0b3IgP1xuXG5cdFx0XHRcdC8vIElmIGEgc2VsZWN0b3Igd2FzIHNwZWNpZmllZCwgbG9jYXRlIHRoZSByaWdodCBlbGVtZW50cyBpbiBhIGR1bW15IGRpdlxuXHRcdFx0XHQvLyBFeGNsdWRlIHNjcmlwdHMgdG8gYXZvaWQgSUUgJ1Blcm1pc3Npb24gRGVuaWVkJyBlcnJvcnNcblx0XHRcdFx0alF1ZXJ5KCBcIjxkaXY+XCIgKS5hcHBlbmQoIGpRdWVyeS5wYXJzZUhUTUwoIHJlc3BvbnNlVGV4dCApICkuZmluZCggc2VsZWN0b3IgKSA6XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIHVzZSB0aGUgZnVsbCByZXN1bHRcblx0XHRcdFx0cmVzcG9uc2VUZXh0ICk7XG5cblx0XHQvLyBJZiB0aGUgcmVxdWVzdCBzdWNjZWVkcywgdGhpcyBmdW5jdGlvbiBnZXRzIFwiZGF0YVwiLCBcInN0YXR1c1wiLCBcImpxWEhSXCJcblx0XHQvLyBidXQgdGhleSBhcmUgaWdub3JlZCBiZWNhdXNlIHJlc3BvbnNlIHdhcyBzZXQgYWJvdmUuXG5cdFx0Ly8gSWYgaXQgZmFpbHMsIHRoaXMgZnVuY3Rpb24gZ2V0cyBcImpxWEhSXCIsIFwic3RhdHVzXCIsIFwiZXJyb3JcIlxuXHRcdH0gKS5hbHdheXMoIGNhbGxiYWNrICYmIGZ1bmN0aW9uKCBqcVhIUiwgc3RhdHVzICkge1xuXHRcdFx0c2VsZi5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0Y2FsbGJhY2suYXBwbHkoIHRoaXMsIHJlc3BvbnNlIHx8IFsganFYSFIucmVzcG9uc2VUZXh0LCBzdGF0dXMsIGpxWEhSIF0gKTtcblx0XHRcdH0gKTtcblx0XHR9ICk7XG5cdH1cblxuXHRyZXR1cm4gdGhpcztcbn07XG5cblxuXG5cbi8vIEF0dGFjaCBhIGJ1bmNoIG9mIGZ1bmN0aW9ucyBmb3IgaGFuZGxpbmcgY29tbW9uIEFKQVggZXZlbnRzXG5qUXVlcnkuZWFjaCggW1xuXHRcImFqYXhTdGFydFwiLFxuXHRcImFqYXhTdG9wXCIsXG5cdFwiYWpheENvbXBsZXRlXCIsXG5cdFwiYWpheEVycm9yXCIsXG5cdFwiYWpheFN1Y2Nlc3NcIixcblx0XCJhamF4U2VuZFwiXG5dLCBmdW5jdGlvbiggaSwgdHlwZSApIHtcblx0alF1ZXJ5LmZuWyB0eXBlIF0gPSBmdW5jdGlvbiggZm4gKSB7XG5cdFx0cmV0dXJuIHRoaXMub24oIHR5cGUsIGZuICk7XG5cdH07XG59ICk7XG5cblxuXG5cbmpRdWVyeS5leHByLnBzZXVkb3MuYW5pbWF0ZWQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0cmV0dXJuIGpRdWVyeS5ncmVwKCBqUXVlcnkudGltZXJzLCBmdW5jdGlvbiggZm4gKSB7XG5cdFx0cmV0dXJuIGVsZW0gPT09IGZuLmVsZW07XG5cdH0gKS5sZW5ndGg7XG59O1xuXG5cblxuXG4vKipcbiAqIEdldHMgYSB3aW5kb3cgZnJvbSBhbiBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGdldFdpbmRvdyggZWxlbSApIHtcblx0cmV0dXJuIGpRdWVyeS5pc1dpbmRvdyggZWxlbSApID8gZWxlbSA6IGVsZW0ubm9kZVR5cGUgPT09IDkgJiYgZWxlbS5kZWZhdWx0Vmlldztcbn1cblxualF1ZXJ5Lm9mZnNldCA9IHtcblx0c2V0T2Zmc2V0OiBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgaSApIHtcblx0XHR2YXIgY3VyUG9zaXRpb24sIGN1ckxlZnQsIGN1ckNTU1RvcCwgY3VyVG9wLCBjdXJPZmZzZXQsIGN1ckNTU0xlZnQsIGNhbGN1bGF0ZVBvc2l0aW9uLFxuXHRcdFx0cG9zaXRpb24gPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBvc2l0aW9uXCIgKSxcblx0XHRcdGN1ckVsZW0gPSBqUXVlcnkoIGVsZW0gKSxcblx0XHRcdHByb3BzID0ge307XG5cblx0XHQvLyBTZXQgcG9zaXRpb24gZmlyc3QsIGluLWNhc2UgdG9wL2xlZnQgYXJlIHNldCBldmVuIG9uIHN0YXRpYyBlbGVtXG5cdFx0aWYgKCBwb3NpdGlvbiA9PT0gXCJzdGF0aWNcIiApIHtcblx0XHRcdGVsZW0uc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XG5cdFx0fVxuXG5cdFx0Y3VyT2Zmc2V0ID0gY3VyRWxlbS5vZmZzZXQoKTtcblx0XHRjdXJDU1NUb3AgPSBqUXVlcnkuY3NzKCBlbGVtLCBcInRvcFwiICk7XG5cdFx0Y3VyQ1NTTGVmdCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwibGVmdFwiICk7XG5cdFx0Y2FsY3VsYXRlUG9zaXRpb24gPSAoIHBvc2l0aW9uID09PSBcImFic29sdXRlXCIgfHwgcG9zaXRpb24gPT09IFwiZml4ZWRcIiApICYmXG5cdFx0XHQoIGN1ckNTU1RvcCArIGN1ckNTU0xlZnQgKS5pbmRleE9mKCBcImF1dG9cIiApID4gLTE7XG5cblx0XHQvLyBOZWVkIHRvIGJlIGFibGUgdG8gY2FsY3VsYXRlIHBvc2l0aW9uIGlmIGVpdGhlclxuXHRcdC8vIHRvcCBvciBsZWZ0IGlzIGF1dG8gYW5kIHBvc2l0aW9uIGlzIGVpdGhlciBhYnNvbHV0ZSBvciBmaXhlZFxuXHRcdGlmICggY2FsY3VsYXRlUG9zaXRpb24gKSB7XG5cdFx0XHRjdXJQb3NpdGlvbiA9IGN1ckVsZW0ucG9zaXRpb24oKTtcblx0XHRcdGN1clRvcCA9IGN1clBvc2l0aW9uLnRvcDtcblx0XHRcdGN1ckxlZnQgPSBjdXJQb3NpdGlvbi5sZWZ0O1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdGN1clRvcCA9IHBhcnNlRmxvYXQoIGN1ckNTU1RvcCApIHx8IDA7XG5cdFx0XHRjdXJMZWZ0ID0gcGFyc2VGbG9hdCggY3VyQ1NTTGVmdCApIHx8IDA7XG5cdFx0fVxuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggb3B0aW9ucyApICkge1xuXG5cdFx0XHQvLyBVc2UgalF1ZXJ5LmV4dGVuZCBoZXJlIHRvIGFsbG93IG1vZGlmaWNhdGlvbiBvZiBjb29yZGluYXRlcyBhcmd1bWVudCAoZ2gtMTg0OClcblx0XHRcdG9wdGlvbnMgPSBvcHRpb25zLmNhbGwoIGVsZW0sIGksIGpRdWVyeS5leHRlbmQoIHt9LCBjdXJPZmZzZXQgKSApO1xuXHRcdH1cblxuXHRcdGlmICggb3B0aW9ucy50b3AgIT0gbnVsbCApIHtcblx0XHRcdHByb3BzLnRvcCA9ICggb3B0aW9ucy50b3AgLSBjdXJPZmZzZXQudG9wICkgKyBjdXJUb3A7XG5cdFx0fVxuXHRcdGlmICggb3B0aW9ucy5sZWZ0ICE9IG51bGwgKSB7XG5cdFx0XHRwcm9wcy5sZWZ0ID0gKCBvcHRpb25zLmxlZnQgLSBjdXJPZmZzZXQubGVmdCApICsgY3VyTGVmdDtcblx0XHR9XG5cblx0XHRpZiAoIFwidXNpbmdcIiBpbiBvcHRpb25zICkge1xuXHRcdFx0b3B0aW9ucy51c2luZy5jYWxsKCBlbGVtLCBwcm9wcyApO1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdGN1ckVsZW0uY3NzKCBwcm9wcyApO1xuXHRcdH1cblx0fVxufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRvZmZzZXQ6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG5cdFx0Ly8gUHJlc2VydmUgY2hhaW5pbmcgZm9yIHNldHRlclxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiBvcHRpb25zID09PSB1bmRlZmluZWQgP1xuXHRcdFx0XHR0aGlzIDpcblx0XHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0XHRqUXVlcnkub2Zmc2V0LnNldE9mZnNldCggdGhpcywgb3B0aW9ucywgaSApO1xuXHRcdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0dmFyIGRvY0VsZW0sIHdpbiwgcmVjdCwgZG9jLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXTtcblxuXHRcdGlmICggIWVsZW0gKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdFx0Ly8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYVxuXHRcdC8vIGRpc2Nvbm5lY3RlZCBub2RlIGluIElFIHRocm93cyBhbiBlcnJvclxuXHRcdGlmICggIWVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4geyB0b3A6IDAsIGxlZnQ6IDAgfTtcblx0XHR9XG5cblx0XHRyZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXHRcdC8vIE1ha2Ugc3VyZSBlbGVtZW50IGlzIG5vdCBoaWRkZW4gKGRpc3BsYXk6IG5vbmUpXG5cdFx0aWYgKCByZWN0LndpZHRoIHx8IHJlY3QuaGVpZ2h0ICkge1xuXHRcdFx0ZG9jID0gZWxlbS5vd25lckRvY3VtZW50O1xuXHRcdFx0d2luID0gZ2V0V2luZG93KCBkb2MgKTtcblx0XHRcdGRvY0VsZW0gPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHR0b3A6IHJlY3QudG9wICsgd2luLnBhZ2VZT2Zmc2V0IC0gZG9jRWxlbS5jbGllbnRUb3AsXG5cdFx0XHRcdGxlZnQ6IHJlY3QubGVmdCArIHdpbi5wYWdlWE9mZnNldCAtIGRvY0VsZW0uY2xpZW50TGVmdFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBSZXR1cm4gemVyb3MgZm9yIGRpc2Nvbm5lY3RlZCBhbmQgaGlkZGVuIGVsZW1lbnRzIChnaC0yMzEwKVxuXHRcdHJldHVybiByZWN0O1xuXHR9LFxuXG5cdHBvc2l0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoICF0aGlzWyAwIF0gKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIG9mZnNldFBhcmVudCwgb2Zmc2V0LFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXSxcblx0XHRcdHBhcmVudE9mZnNldCA9IHsgdG9wOiAwLCBsZWZ0OiAwIH07XG5cblx0XHQvLyBGaXhlZCBlbGVtZW50cyBhcmUgb2Zmc2V0IGZyb20gd2luZG93IChwYXJlbnRPZmZzZXQgPSB7dG9wOjAsIGxlZnQ6IDB9LFxuXHRcdC8vIGJlY2F1c2UgaXQgaXMgaXRzIG9ubHkgb2Zmc2V0IHBhcmVudFxuXHRcdGlmICggalF1ZXJ5LmNzcyggZWxlbSwgXCJwb3NpdGlvblwiICkgPT09IFwiZml4ZWRcIiApIHtcblxuXHRcdFx0Ly8gQXNzdW1lIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBpcyB0aGVyZSB3aGVuIGNvbXB1dGVkIHBvc2l0aW9uIGlzIGZpeGVkXG5cdFx0XHRvZmZzZXQgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gR2V0ICpyZWFsKiBvZmZzZXRQYXJlbnRcblx0XHRcdG9mZnNldFBhcmVudCA9IHRoaXMub2Zmc2V0UGFyZW50KCk7XG5cblx0XHRcdC8vIEdldCBjb3JyZWN0IG9mZnNldHNcblx0XHRcdG9mZnNldCA9IHRoaXMub2Zmc2V0KCk7XG5cdFx0XHRpZiAoICFqUXVlcnkubm9kZU5hbWUoIG9mZnNldFBhcmVudFsgMCBdLCBcImh0bWxcIiApICkge1xuXHRcdFx0XHRwYXJlbnRPZmZzZXQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0KCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCBvZmZzZXRQYXJlbnQgYm9yZGVyc1xuXHRcdFx0cGFyZW50T2Zmc2V0ID0ge1xuXHRcdFx0XHR0b3A6IHBhcmVudE9mZnNldC50b3AgKyBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnRbIDAgXSwgXCJib3JkZXJUb3BXaWR0aFwiLCB0cnVlICksXG5cdFx0XHRcdGxlZnQ6IHBhcmVudE9mZnNldC5sZWZ0ICsgalF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50WyAwIF0sIFwiYm9yZGVyTGVmdFdpZHRoXCIsIHRydWUgKVxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBTdWJ0cmFjdCBwYXJlbnQgb2Zmc2V0cyBhbmQgZWxlbWVudCBtYXJnaW5zXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogb2Zmc2V0LnRvcCAtIHBhcmVudE9mZnNldC50b3AgLSBqUXVlcnkuY3NzKCBlbGVtLCBcIm1hcmdpblRvcFwiLCB0cnVlICksXG5cdFx0XHRsZWZ0OiBvZmZzZXQubGVmdCAtIHBhcmVudE9mZnNldC5sZWZ0IC0galF1ZXJ5LmNzcyggZWxlbSwgXCJtYXJnaW5MZWZ0XCIsIHRydWUgKVxuXHRcdH07XG5cdH0sXG5cblx0Ly8gVGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gZG9jdW1lbnRFbGVtZW50IGluIHRoZSBmb2xsb3dpbmcgY2FzZXM6XG5cdC8vIDEpIEZvciB0aGUgZWxlbWVudCBpbnNpZGUgdGhlIGlmcmFtZSB3aXRob3V0IG9mZnNldFBhcmVudCwgdGhpcyBtZXRob2Qgd2lsbCByZXR1cm5cblx0Ly8gICAgZG9jdW1lbnRFbGVtZW50IG9mIHRoZSBwYXJlbnQgd2luZG93XG5cdC8vIDIpIEZvciB0aGUgaGlkZGVuIG9yIGRldGFjaGVkIGVsZW1lbnRcblx0Ly8gMykgRm9yIGJvZHkgb3IgaHRtbCBlbGVtZW50LCBpLmUuIGluIGNhc2Ugb2YgdGhlIGh0bWwgbm9kZSAtIGl0IHdpbGwgcmV0dXJuIGl0c2VsZlxuXHQvL1xuXHQvLyBidXQgdGhvc2UgZXhjZXB0aW9ucyB3ZXJlIG5ldmVyIHByZXNlbnRlZCBhcyBhIHJlYWwgbGlmZSB1c2UtY2FzZXNcblx0Ly8gYW5kIG1pZ2h0IGJlIGNvbnNpZGVyZWQgYXMgbW9yZSBwcmVmZXJhYmxlIHJlc3VsdHMuXG5cdC8vXG5cdC8vIFRoaXMgbG9naWMsIGhvd2V2ZXIsIGlzIG5vdCBndWFyYW50ZWVkIGFuZCBjYW4gY2hhbmdlIGF0IGFueSBwb2ludCBpbiB0aGUgZnV0dXJlXG5cdG9mZnNldFBhcmVudDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBvZmZzZXRQYXJlbnQgPSB0aGlzLm9mZnNldFBhcmVudDtcblxuXHRcdFx0d2hpbGUgKCBvZmZzZXRQYXJlbnQgJiYgalF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCBcInBvc2l0aW9uXCIgKSA9PT0gXCJzdGF0aWNcIiApIHtcblx0XHRcdFx0b2Zmc2V0UGFyZW50ID0gb2Zmc2V0UGFyZW50Lm9mZnNldFBhcmVudDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG9mZnNldFBhcmVudCB8fCBkb2N1bWVudEVsZW1lbnQ7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbi8vIENyZWF0ZSBzY3JvbGxMZWZ0IGFuZCBzY3JvbGxUb3AgbWV0aG9kc1xualF1ZXJ5LmVhY2goIHsgc2Nyb2xsTGVmdDogXCJwYWdlWE9mZnNldFwiLCBzY3JvbGxUb3A6IFwicGFnZVlPZmZzZXRcIiB9LCBmdW5jdGlvbiggbWV0aG9kLCBwcm9wICkge1xuXHR2YXIgdG9wID0gXCJwYWdlWU9mZnNldFwiID09PSBwcm9wO1xuXG5cdGpRdWVyeS5mblsgbWV0aG9kIF0gPSBmdW5jdGlvbiggdmFsICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBtZXRob2QsIHZhbCApIHtcblx0XHRcdHZhciB3aW4gPSBnZXRXaW5kb3coIGVsZW0gKTtcblxuXHRcdFx0aWYgKCB2YWwgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0cmV0dXJuIHdpbiA/IHdpblsgcHJvcCBdIDogZWxlbVsgbWV0aG9kIF07XG5cdFx0XHR9XG5cblx0XHRcdGlmICggd2luICkge1xuXHRcdFx0XHR3aW4uc2Nyb2xsVG8oXG5cdFx0XHRcdFx0IXRvcCA/IHZhbCA6IHdpbi5wYWdlWE9mZnNldCxcblx0XHRcdFx0XHR0b3AgPyB2YWwgOiB3aW4ucGFnZVlPZmZzZXRcblx0XHRcdFx0KTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWxlbVsgbWV0aG9kIF0gPSB2YWw7XG5cdFx0XHR9XG5cdFx0fSwgbWV0aG9kLCB2YWwsIGFyZ3VtZW50cy5sZW5ndGggKTtcblx0fTtcbn0gKTtcblxuLy8gU3VwcG9ydDogU2FmYXJpIDw9NyAtIDkuMSwgQ2hyb21lIDw9MzcgLSA0OVxuLy8gQWRkIHRoZSB0b3AvbGVmdCBjc3NIb29rcyB1c2luZyBqUXVlcnkuZm4ucG9zaXRpb25cbi8vIFdlYmtpdCBidWc6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0yOTA4NFxuLy8gQmxpbmsgYnVnOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD01ODkzNDdcbi8vIGdldENvbXB1dGVkU3R5bGUgcmV0dXJucyBwZXJjZW50IHdoZW4gc3BlY2lmaWVkIGZvciB0b3AvbGVmdC9ib3R0b20vcmlnaHQ7XG4vLyByYXRoZXIgdGhhbiBtYWtlIHRoZSBjc3MgbW9kdWxlIGRlcGVuZCBvbiB0aGUgb2Zmc2V0IG1vZHVsZSwganVzdCBjaGVjayBmb3IgaXQgaGVyZVxualF1ZXJ5LmVhY2goIFsgXCJ0b3BcIiwgXCJsZWZ0XCIgXSwgZnVuY3Rpb24oIGksIHByb3AgKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgcHJvcCBdID0gYWRkR2V0SG9va0lmKCBzdXBwb3J0LnBpeGVsUG9zaXRpb24sXG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xuXHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRcdFx0Y29tcHV0ZWQgPSBjdXJDU1MoIGVsZW0sIHByb3AgKTtcblxuXHRcdFx0XHQvLyBJZiBjdXJDU1MgcmV0dXJucyBwZXJjZW50YWdlLCBmYWxsYmFjayB0byBvZmZzZXRcblx0XHRcdFx0cmV0dXJuIHJudW1ub25weC50ZXN0KCBjb21wdXRlZCApID9cblx0XHRcdFx0XHRqUXVlcnkoIGVsZW0gKS5wb3NpdGlvbigpWyBwcm9wIF0gKyBcInB4XCIgOlxuXHRcdFx0XHRcdGNvbXB1dGVkO1xuXHRcdFx0fVxuXHRcdH1cblx0KTtcbn0gKTtcblxuXG4vLyBDcmVhdGUgaW5uZXJIZWlnaHQsIGlubmVyV2lkdGgsIGhlaWdodCwgd2lkdGgsIG91dGVySGVpZ2h0IGFuZCBvdXRlcldpZHRoIG1ldGhvZHNcbmpRdWVyeS5lYWNoKCB7IEhlaWdodDogXCJoZWlnaHRcIiwgV2lkdGg6IFwid2lkdGhcIiB9LCBmdW5jdGlvbiggbmFtZSwgdHlwZSApIHtcblx0alF1ZXJ5LmVhY2goIHsgcGFkZGluZzogXCJpbm5lclwiICsgbmFtZSwgY29udGVudDogdHlwZSwgXCJcIjogXCJvdXRlclwiICsgbmFtZSB9LFxuXHRcdGZ1bmN0aW9uKCBkZWZhdWx0RXh0cmEsIGZ1bmNOYW1lICkge1xuXG5cdFx0Ly8gTWFyZ2luIGlzIG9ubHkgZm9yIG91dGVySGVpZ2h0LCBvdXRlcldpZHRoXG5cdFx0alF1ZXJ5LmZuWyBmdW5jTmFtZSBdID0gZnVuY3Rpb24oIG1hcmdpbiwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgY2hhaW5hYmxlID0gYXJndW1lbnRzLmxlbmd0aCAmJiAoIGRlZmF1bHRFeHRyYSB8fCB0eXBlb2YgbWFyZ2luICE9PSBcImJvb2xlYW5cIiApLFxuXHRcdFx0XHRleHRyYSA9IGRlZmF1bHRFeHRyYSB8fCAoIG1hcmdpbiA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gdHJ1ZSA/IFwibWFyZ2luXCIgOiBcImJvcmRlclwiICk7XG5cblx0XHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCB2YWx1ZSApIHtcblx0XHRcdFx0dmFyIGRvYztcblxuXHRcdFx0XHRpZiAoIGpRdWVyeS5pc1dpbmRvdyggZWxlbSApICkge1xuXG5cdFx0XHRcdFx0Ly8gJCggd2luZG93ICkub3V0ZXJXaWR0aC9IZWlnaHQgcmV0dXJuIHcvaCBpbmNsdWRpbmcgc2Nyb2xsYmFycyAoZ2gtMTcyOSlcblx0XHRcdFx0XHRyZXR1cm4gZnVuY05hbWUuaW5kZXhPZiggXCJvdXRlclwiICkgPT09IDAgP1xuXHRcdFx0XHRcdFx0ZWxlbVsgXCJpbm5lclwiICsgbmFtZSBdIDpcblx0XHRcdFx0XHRcdGVsZW0uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyBcImNsaWVudFwiICsgbmFtZSBdO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gR2V0IGRvY3VtZW50IHdpZHRoIG9yIGhlaWdodFxuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0ZG9jID0gZWxlbS5kb2N1bWVudEVsZW1lbnQ7XG5cblx0XHRcdFx0XHQvLyBFaXRoZXIgc2Nyb2xsW1dpZHRoL0hlaWdodF0gb3Igb2Zmc2V0W1dpZHRoL0hlaWdodF0gb3IgY2xpZW50W1dpZHRoL0hlaWdodF0sXG5cdFx0XHRcdFx0Ly8gd2hpY2hldmVyIGlzIGdyZWF0ZXN0XG5cdFx0XHRcdFx0cmV0dXJuIE1hdGgubWF4KFxuXHRcdFx0XHRcdFx0ZWxlbS5ib2R5WyBcInNjcm9sbFwiICsgbmFtZSBdLCBkb2NbIFwic2Nyb2xsXCIgKyBuYW1lIF0sXG5cdFx0XHRcdFx0XHRlbGVtLmJvZHlbIFwib2Zmc2V0XCIgKyBuYW1lIF0sIGRvY1sgXCJvZmZzZXRcIiArIG5hbWUgXSxcblx0XHRcdFx0XHRcdGRvY1sgXCJjbGllbnRcIiArIG5hbWUgXVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/XG5cblx0XHRcdFx0XHQvLyBHZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50LCByZXF1ZXN0aW5nIGJ1dCBub3QgZm9yY2luZyBwYXJzZUZsb2F0XG5cdFx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgdHlwZSwgZXh0cmEgKSA6XG5cblx0XHRcdFx0XHQvLyBTZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50XG5cdFx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCB0eXBlLCB2YWx1ZSwgZXh0cmEgKTtcblx0XHRcdH0sIHR5cGUsIGNoYWluYWJsZSA/IG1hcmdpbiA6IHVuZGVmaW5lZCwgY2hhaW5hYmxlICk7XG5cdFx0fTtcblx0fSApO1xufSApO1xuXG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblxuXHRiaW5kOiBmdW5jdGlvbiggdHlwZXMsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgbnVsbCwgZGF0YSwgZm4gKTtcblx0fSxcblx0dW5iaW5kOiBmdW5jdGlvbiggdHlwZXMsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9mZiggdHlwZXMsIG51bGwsIGZuICk7XG5cdH0sXG5cblx0ZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICk7XG5cdH0sXG5cdHVuZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGZuICkge1xuXG5cdFx0Ly8gKCBuYW1lc3BhY2UgKSBvciAoIHNlbGVjdG9yLCB0eXBlcyBbLCBmbl0gKVxuXHRcdHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxID9cblx0XHRcdHRoaXMub2ZmKCBzZWxlY3RvciwgXCIqKlwiICkgOlxuXHRcdFx0dGhpcy5vZmYoIHR5cGVzLCBzZWxlY3RvciB8fCBcIioqXCIsIGZuICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LnBhcnNlSlNPTiA9IEpTT04ucGFyc2U7XG5cblxuXG5cbi8vIFJlZ2lzdGVyIGFzIGEgbmFtZWQgQU1EIG1vZHVsZSwgc2luY2UgalF1ZXJ5IGNhbiBiZSBjb25jYXRlbmF0ZWQgd2l0aCBvdGhlclxuLy8gZmlsZXMgdGhhdCBtYXkgdXNlIGRlZmluZSwgYnV0IG5vdCB2aWEgYSBwcm9wZXIgY29uY2F0ZW5hdGlvbiBzY3JpcHQgdGhhdFxuLy8gdW5kZXJzdGFuZHMgYW5vbnltb3VzIEFNRCBtb2R1bGVzLiBBIG5hbWVkIEFNRCBpcyBzYWZlc3QgYW5kIG1vc3Qgcm9idXN0XG4vLyB3YXkgdG8gcmVnaXN0ZXIuIExvd2VyY2FzZSBqcXVlcnkgaXMgdXNlZCBiZWNhdXNlIEFNRCBtb2R1bGUgbmFtZXMgYXJlXG4vLyBkZXJpdmVkIGZyb20gZmlsZSBuYW1lcywgYW5kIGpRdWVyeSBpcyBub3JtYWxseSBkZWxpdmVyZWQgaW4gYSBsb3dlcmNhc2Vcbi8vIGZpbGUgbmFtZS4gRG8gdGhpcyBhZnRlciBjcmVhdGluZyB0aGUgZ2xvYmFsIHNvIHRoYXQgaWYgYW4gQU1EIG1vZHVsZSB3YW50c1xuLy8gdG8gY2FsbCBub0NvbmZsaWN0IHRvIGhpZGUgdGhpcyB2ZXJzaW9uIG9mIGpRdWVyeSwgaXQgd2lsbCB3b3JrLlxuXG4vLyBOb3RlIHRoYXQgZm9yIG1heGltdW0gcG9ydGFiaWxpdHksIGxpYnJhcmllcyB0aGF0IGFyZSBub3QgalF1ZXJ5IHNob3VsZFxuLy8gZGVjbGFyZSB0aGVtc2VsdmVzIGFzIGFub255bW91cyBtb2R1bGVzLCBhbmQgYXZvaWQgc2V0dGluZyBhIGdsb2JhbCBpZiBhblxuLy8gQU1EIGxvYWRlciBpcyBwcmVzZW50LiBqUXVlcnkgaXMgYSBzcGVjaWFsIGNhc2UuIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWVcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qcmJ1cmtlL3JlcXVpcmVqcy93aWtpL1VwZGF0aW5nLWV4aXN0aW5nLWxpYnJhcmllcyN3aWtpLWFub25cblxuaWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblx0ZGVmaW5lKCBcImpxdWVyeVwiLCBbXSwgZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGpRdWVyeTtcblx0fSApO1xufVxuXG5cblxuXG5cbnZhclxuXG5cdC8vIE1hcCBvdmVyIGpRdWVyeSBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxuXHRfalF1ZXJ5ID0gd2luZG93LmpRdWVyeSxcblxuXHQvLyBNYXAgb3ZlciB0aGUgJCBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxuXHRfJCA9IHdpbmRvdy4kO1xuXG5qUXVlcnkubm9Db25mbGljdCA9IGZ1bmN0aW9uKCBkZWVwICkge1xuXHRpZiAoIHdpbmRvdy4kID09PSBqUXVlcnkgKSB7XG5cdFx0d2luZG93LiQgPSBfJDtcblx0fVxuXG5cdGlmICggZGVlcCAmJiB3aW5kb3cualF1ZXJ5ID09PSBqUXVlcnkgKSB7XG5cdFx0d2luZG93LmpRdWVyeSA9IF9qUXVlcnk7XG5cdH1cblxuXHRyZXR1cm4galF1ZXJ5O1xufTtcblxuLy8gRXhwb3NlIGpRdWVyeSBhbmQgJCBpZGVudGlmaWVycywgZXZlbiBpbiBBTURcbi8vICgjNzEwMiNjb21tZW50OjEwLCBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS9wdWxsLzU1Nylcbi8vIGFuZCBDb21tb25KUyBmb3IgYnJvd3NlciBlbXVsYXRvcnMgKCMxMzU2NilcbmlmICggIW5vR2xvYmFsICkge1xuXHR3aW5kb3cualF1ZXJ5ID0gd2luZG93LiQgPSBqUXVlcnk7XG59XG5cblxucmV0dXJuIGpRdWVyeTtcbn0gKTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2pxdWVyeS9kaXN0L2pxdWVyeS5qc1xuICoqIG1vZHVsZSBpZCA9IDQzXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsIi8vIHRoZSB3aGF0d2ctZmV0Y2ggcG9seWZpbGwgaW5zdGFsbHMgdGhlIGZldGNoKCkgZnVuY3Rpb25cbi8vIG9uIHRoZSBnbG9iYWwgb2JqZWN0ICh3aW5kb3cgb3Igc2VsZilcbi8vXG4vLyBSZXR1cm4gdGhhdCBhcyB0aGUgZXhwb3J0IGZvciB1c2UgaW4gV2VicGFjaywgQnJvd3NlcmlmeSBldGMuXG5yZXF1aXJlKCd3aGF0d2ctZmV0Y2gnKTtcbm1vZHVsZS5leHBvcnRzID0gc2VsZi5mZXRjaC5iaW5kKHNlbGYpO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vaXNvbW9ycGhpYy1mZXRjaC9mZXRjaC1ucG0tYnJvd3NlcmlmeS5qc1xuICoqIG1vZHVsZSBpZCA9IDQ0XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsImltcG9ydCBQcm9taXNlIGZyb20gJ2JsdWViaXJkJztcblxuY2xhc3MgQnJvd3NlciB7XG4gICAgc3RhdGljIGlzVmFsaWRVcmwodXJsKSB7XG4gICAgICAgIGxldCBtYXRjaGVzVmFsaWQgPSB0cnVlO1xuICAgICAgICBsZXQgbWF0Y2hlc0ludmFsaWQgPSBmYWxzZTtcblxuICAgICAgICBjb25zdCBpbnZhbGlkUmVnZXggPSBbL1xcLnBkZiQvaSwgL1xcLmpwZyQvaSwgL1xcLnBuZyQvLCAvXFwuZ2lmJC9dO1xuICAgICAgICBjb25zdCB2YWxpZFJlZ2V4ID0gWy9eaHR0cC9dO1xuXG4gICAgICAgIGludmFsaWRSZWdleC5mb3JFYWNoKChyZWdleCkgPT4ge1xuICAgICAgICAgICAgbWF0Y2hlc0ludmFsaWQgPSBtYXRjaGVzSW52YWxpZCB8fCByZWdleC50ZXN0KHVybCk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YWxpZFJlZ2V4LmZvckVhY2goKHJlZ2V4KSA9PiB7XG4gICAgICAgICAgICBtYXRjaGVzVmFsaWQgPSBtYXRjaGVzVmFsaWQgJiYgcmVnZXgudGVzdCh1cmwpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gbWF0Y2hlc1ZhbGlkICYmICFtYXRjaGVzSW52YWxpZDtcbiAgICB9XG5cbiAgICBzdGF0aWMgZmlsdGVyVXJscyh1cmxzKSB7XG4gICAgICAgIHJldHVybiAodXJscyB8fCBbXSkuZmlsdGVyKEJyb3dzZXIuaXNWYWxpZFVybCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGlzQmFja2dyb3VuZE1zZyhzZW5kZXIpIHtcbiAgICAgICAgcmV0dXJuIHNlbmRlci51cmwuaW5kZXhPZignYmFja2dyb3VuZF9wYWdlJykgPiAtMTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaXNQb3B1cE1zZyhzZW5kZXIpIHtcbiAgICAgICAgcmV0dXJuIHNlbmRlci51cmwuaW5kZXhPZigncG9wdXAnKSA+IC0xO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRDdXJyZW50V2luZG93VGFicygpIHtcbiAgICAgICAgbGV0IHByb21pc2U7XG4gICAgICAgIGlmIChjaHJvbWUpIHtcbiAgICAgICAgICAgIHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgY2hyb21lLndpbmRvd3MuZ2V0Q3VycmVudCh7IHBvcHVsYXRlOiB0cnVlIH0sIChjdXJyZW50V2luZG93KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50V2luZG93LnRhYnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdlYnNpdGVUYWJzID0gY3VycmVudFdpbmRvdy50YWJzLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGFiKSA9PiBCcm93c2VyLmlzVmFsaWRVcmwodGFiLnVybClcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHdlYnNpdGVUYWJzKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ05vIHRhYnMhJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4geyByZXNvbHZlKG51bGwpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0VGFic0h0bWwodGFicykge1xuICAgICAgICBjb25zdCBjb2RlID0gJ2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUwnO1xuICAgICAgICBjb25zdCBodG1sUHJvbWlzZXMgPSB0YWJzLm1hcCgodGFiKSA9PiB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNocm9tZS50YWJzLmV4ZWN1dGVTY3JpcHQodGFiLmlkLCB7IGNvZGUgfSwgKGh0bWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZFRhYiA9IHRhYjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh0bWwgJiYgaHRtbFswXSAmJiBodG1sWzBdLm1hdGNoKC9odG1sL2kpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkVGFiLmh0bWwgPSBodG1sWzBdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFRhYi5odG1sID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHVwZGF0ZWRUYWIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChodG1sUHJvbWlzZXMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRMb2NhbFN0b3JhZ2UoZmllbGRzKSB7XG4gICAgICAgIGxldCBwcm9taXNlO1xuICAgICAgICBpZiAoY2hyb21lKSB7XG4gICAgICAgICAgICBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoZmllbGRzLCAoc3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShzdGF0ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0TG9jYWxTdG9yYWdlKGtleVZhbHVlcykge1xuICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoa2V5VmFsdWVzKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2VuZE1lc3NhZ2UoLi4uYXJncykge1xuICAgICAgICBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZS5hcHBseShjaHJvbWUucnVudGltZSwgYXJncyk7XG4gICAgfVxuXG4gICAgc3RhdGljIG9uQmFja2dyb3VuZE1lc3NhZ2UoY2IpIHtcbiAgICAgICAgY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKChyZXF1ZXN0LCBzZW5kZXIpID0+IHtcbiAgICAgICAgICAgIGlmIChCcm93c2VyLmlzQmFja2dyb3VuZE1zZyhzZW5kZXIpKSB7XG4gICAgICAgICAgICAgICAgY2IocmVxdWVzdCwgc2VuZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhdGljIG9uRm9yZWdyb3VuZE1lc3NhZ2UoY2IpIHtcbiAgICAgICAgY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKChyZXF1ZXN0LCBzZW5kZXIpID0+IHtcbiAgICAgICAgICAgIGlmIChCcm93c2VyLmlzUG9wdXBNc2coc2VuZGVyKSkge1xuICAgICAgICAgICAgICAgIGNiKHJlcXVlc3QsIHNlbmRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBkb3dubG9hZChwYXJhbXMpIHtcbiAgICAgICAgbGV0IHByb21pc2U7XG4gICAgICAgIGlmIChjaHJvbWUpIHtcbiAgICAgICAgICAgIHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgY2hyb21lLmRvd25sb2Fkcy5kb3dubG9hZChwYXJhbXMsIChkb3dubG9hZElkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvd25sb2FkTGlzdGVuZXIgPSBjaHJvbWUuZG93bmxvYWRzLm9uQ2hhbmdlZC5hZGRMaXN0ZW5lcigoZG93bmxvYWRJbmZvKSA9PiB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb3dubG9hZEluZm8uaWQgPT09IGRvd25sb2FkSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG93bmxvYWRJbmZvLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRvd25sb2FkSW5mby5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNocm9tZS5kb3dubG9hZHMub25DaGFuZ2VkLnJlbW92ZUxpc3RlbmVyKGRvd25sb2FkTGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZG93bmxvYWRJbmZvLmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRvd25sb2FkSW5mby5lbmRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlbmQgdGltZTogJywgZG93bmxvYWRJbmZvLmVuZFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHJvbWUuZG93bmxvYWRzLm9uQ2hhbmdlZC5yZW1vdmVMaXN0ZW5lcihkb3dubG9hZExpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShkb3dubG9hZEluZm8uZW5kVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cblxuICAgIHN0YXRpYyBiYXNlVXJsKCkge1xuICAgICAgICByZXR1cm4gY2hyb21lLnJ1bnRpbWUuZ2V0TWFuaWZlc3QoKS5ob21lcGFnZV91cmw7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldE1hbmlmZXN0KCkge1xuICAgICAgICByZXR1cm4gY2hyb21lLnJ1bnRpbWUuZ2V0TWFuaWZlc3QoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0RXJyb3JNc2cobG9jYXRpb24sIHhocikge1xuICAgICAgICBsZXQgbXNnID0gbG9jYXRpb24gPyBgJHtsb2NhdGlvbn06ICBgIDogJyc7XG5cbiAgICAgICAgbXNnICs9IHhoci5yZXNwb25zZVRleHQgfHxcbiAgICAgICAgICAgICAgICBCcm93c2VyLkVSUk9SX0NPREVTW3hoci5zdGF0dXNUZXh0XSB8fFxuICAgICAgICAgICAgICAgIEJyb3dzZXIuRVJST1JfQ09ERVNbeGhyLnN0YXR1c10gfHxcbiAgICAgICAgICAgICAgICBCcm93c2VyLkVSUk9SX0NPREVTW3hoci5jdXJyZW50XSB8fFxuICAgICAgICAgICAgICAgICdVbmtub3duJztcblxuICAgICAgICByZXR1cm4gbXNnO1xuICAgIH1cbn1cblxuQnJvd3Nlci5FUlJPUl9DT0RFUyA9IHtcbiAgICAvLyBCb29rIENyZWF0ZSBFcnJvcnNcbiAgICAwOiAnU2VydmVyIGlzIGRvd24uIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyxcbiAgICA0MDA6ICdUaGVyZSB3YXMgYSBwcm9ibGVtIHdpdGggdGhlIHJlcXVlc3QuIElzIEVwdWJQcmVzcyB1cCB0byBkYXRlPycsXG4gICAgNDA0OiAnUmVzb3VyY2Ugbm90IGZvdW5kLicsXG4gICAgNTAwOiAnVW5leHBlY3RlZCBzZXJ2ZXIgZXJyb3IuJyxcbiAgICA1MDM6ICdTZXJ2ZXIgdG9vayB0b28gbG9uZyB0byByZXNwb25kLicsXG4gICAgdGltZW91dDogJ1JlcXVlc3QgdG9vayB0b28gbG9uZyB0byBjb21wbGV0ZS4nLFxuICAgIGVycm9yOiB1bmRlZmluZWQsXG4gICAgLy8gRG93bmxvYWQgRXJyb3JzXG4gICAgU0VSVkVSX0ZBSUxFRDogJ1NlcnZlciBlcnJvciB3aGlsZSBkb3dubG9hZGluZy4nLFxuICAgIFNFUlZFUl9CQURfQ09OVEVOVDogJ0Jvb2sgY291bGQgbm90IGJlIGZvdW5kJyxcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQnJvd3NlcjtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL3NjcmlwdHMvYnJvd3Nlci5qc1xuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanNcbiAqKiBtb2R1bGUgaWQgPSA0N1xuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIik7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfTtcbn0oKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanNcbiAqKiBtb2R1bGUgaWQgPSA0OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzXG4gKiogbW9kdWxlIGlkID0gNDlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKXtcbiAgcmV0dXJuICRPYmplY3QuZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzXG4gKiogbW9kdWxlIGlkID0gNTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwidmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbi8vIDE5LjEuMi40IC8gMTUuMi4zLjYgT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFyZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpLCAnT2JqZWN0Jywge2RlZmluZVByb3BlcnR5OiByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mfSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkuanNcbiAqKiBtb2R1bGUgaWQgPSA1MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCIvKiBAcHJlc2VydmVcbiAqIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuICogXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNSBQZXRrYSBBbnRvbm92XG4gKiBcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqIFxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICogXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuICBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKiBcbiAqL1xuLyoqXG4gKiBibHVlYmlyZCBidWlsZCB2ZXJzaW9uIDMuNC42XG4gKiBGZWF0dXJlcyBlbmFibGVkOiBjb3JlLCByYWNlLCBjYWxsX2dldCwgZ2VuZXJhdG9ycywgbWFwLCBub2RlaWZ5LCBwcm9taXNpZnksIHByb3BzLCByZWR1Y2UsIHNldHRsZSwgc29tZSwgdXNpbmcsIHRpbWVycywgZmlsdGVyLCBhbnksIGVhY2hcbiovXG4hZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciBmO1widW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/Zj13aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9mPWdsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmKGY9c2VsZiksZi5Qcm9taXNlPWUoKX19KGZ1bmN0aW9uKCl7dmFyIGRlZmluZSxtb2R1bGUsZXhwb3J0cztyZXR1cm4gKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiBfZGVyZXFfPT1cImZ1bmN0aW9uXCImJl9kZXJlcV87aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIF9kZXJlcV89PVwiZnVuY3Rpb25cIiYmX2RlcmVxXztmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UpIHtcbnZhciBTb21lUHJvbWlzZUFycmF5ID0gUHJvbWlzZS5fU29tZVByb21pc2VBcnJheTtcbmZ1bmN0aW9uIGFueShwcm9taXNlcykge1xuICAgIHZhciByZXQgPSBuZXcgU29tZVByb21pc2VBcnJheShwcm9taXNlcyk7XG4gICAgdmFyIHByb21pc2UgPSByZXQucHJvbWlzZSgpO1xuICAgIHJldC5zZXRIb3dNYW55KDEpO1xuICAgIHJldC5zZXRVbndyYXAoKTtcbiAgICByZXQuaW5pdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG5Qcm9taXNlLmFueSA9IGZ1bmN0aW9uIChwcm9taXNlcykge1xuICAgIHJldHVybiBhbnkocHJvbWlzZXMpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuYW55ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBhbnkodGhpcyk7XG59O1xuXG59O1xuXG59LHt9XSwyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xudmFyIGZpcnN0TGluZUVycm9yO1xudHJ5IHt0aHJvdyBuZXcgRXJyb3IoKTsgfSBjYXRjaCAoZSkge2ZpcnN0TGluZUVycm9yID0gZTt9XG52YXIgc2NoZWR1bGUgPSBfZGVyZXFfKFwiLi9zY2hlZHVsZVwiKTtcbnZhciBRdWV1ZSA9IF9kZXJlcV8oXCIuL3F1ZXVlXCIpO1xudmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXG5mdW5jdGlvbiBBc3luYygpIHtcbiAgICB0aGlzLl9jdXN0b21TY2hlZHVsZXIgPSBmYWxzZTtcbiAgICB0aGlzLl9pc1RpY2tVc2VkID0gZmFsc2U7XG4gICAgdGhpcy5fbGF0ZVF1ZXVlID0gbmV3IFF1ZXVlKDE2KTtcbiAgICB0aGlzLl9ub3JtYWxRdWV1ZSA9IG5ldyBRdWV1ZSgxNik7XG4gICAgdGhpcy5faGF2ZURyYWluZWRRdWV1ZXMgPSBmYWxzZTtcbiAgICB0aGlzLl90cmFtcG9saW5lRW5hYmxlZCA9IHRydWU7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMuZHJhaW5RdWV1ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYuX2RyYWluUXVldWVzKCk7XG4gICAgfTtcbiAgICB0aGlzLl9zY2hlZHVsZSA9IHNjaGVkdWxlO1xufVxuXG5Bc3luYy5wcm90b3R5cGUuc2V0U2NoZWR1bGVyID0gZnVuY3Rpb24oZm4pIHtcbiAgICB2YXIgcHJldiA9IHRoaXMuX3NjaGVkdWxlO1xuICAgIHRoaXMuX3NjaGVkdWxlID0gZm47XG4gICAgdGhpcy5fY3VzdG9tU2NoZWR1bGVyID0gdHJ1ZTtcbiAgICByZXR1cm4gcHJldjtcbn07XG5cbkFzeW5jLnByb3RvdHlwZS5oYXNDdXN0b21TY2hlZHVsZXIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VzdG9tU2NoZWR1bGVyO1xufTtcblxuQXN5bmMucHJvdG90eXBlLmVuYWJsZVRyYW1wb2xpbmUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl90cmFtcG9saW5lRW5hYmxlZCA9IHRydWU7XG59O1xuXG5Bc3luYy5wcm90b3R5cGUuZGlzYWJsZVRyYW1wb2xpbmVJZk5lY2Vzc2FyeSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh1dGlsLmhhc0RldlRvb2xzKSB7XG4gICAgICAgIHRoaXMuX3RyYW1wb2xpbmVFbmFibGVkID0gZmFsc2U7XG4gICAgfVxufTtcblxuQXN5bmMucHJvdG90eXBlLmhhdmVJdGVtc1F1ZXVlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNUaWNrVXNlZCB8fCB0aGlzLl9oYXZlRHJhaW5lZFF1ZXVlcztcbn07XG5cblxuQXN5bmMucHJvdG90eXBlLmZhdGFsRXJyb3IgPSBmdW5jdGlvbihlLCBpc05vZGUpIHtcbiAgICBpZiAoaXNOb2RlKSB7XG4gICAgICAgIHByb2Nlc3Muc3RkZXJyLndyaXRlKFwiRmF0YWwgXCIgKyAoZSBpbnN0YW5jZW9mIEVycm9yID8gZS5zdGFjayA6IGUpICtcbiAgICAgICAgICAgIFwiXFxuXCIpO1xuICAgICAgICBwcm9jZXNzLmV4aXQoMik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50aHJvd0xhdGVyKGUpO1xuICAgIH1cbn07XG5cbkFzeW5jLnByb3RvdHlwZS50aHJvd0xhdGVyID0gZnVuY3Rpb24oZm4sIGFyZykge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGFyZyA9IGZuO1xuICAgICAgICBmbiA9IGZ1bmN0aW9uICgpIHsgdGhyb3cgYXJnOyB9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZuKGFyZyk7XG4gICAgICAgIH0sIDApO1xuICAgIH0gZWxzZSB0cnkge1xuICAgICAgICB0aGlzLl9zY2hlZHVsZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZuKGFyZyk7XG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYXN5bmMgc2NoZWR1bGVyIGF2YWlsYWJsZVxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG4gICAgfVxufTtcblxuZnVuY3Rpb24gQXN5bmNJbnZva2VMYXRlcihmbiwgcmVjZWl2ZXIsIGFyZykge1xuICAgIHRoaXMuX2xhdGVRdWV1ZS5wdXNoKGZuLCByZWNlaXZlciwgYXJnKTtcbiAgICB0aGlzLl9xdWV1ZVRpY2soKTtcbn1cblxuZnVuY3Rpb24gQXN5bmNJbnZva2UoZm4sIHJlY2VpdmVyLCBhcmcpIHtcbiAgICB0aGlzLl9ub3JtYWxRdWV1ZS5wdXNoKGZuLCByZWNlaXZlciwgYXJnKTtcbiAgICB0aGlzLl9xdWV1ZVRpY2soKTtcbn1cblxuZnVuY3Rpb24gQXN5bmNTZXR0bGVQcm9taXNlcyhwcm9taXNlKSB7XG4gICAgdGhpcy5fbm9ybWFsUXVldWUuX3B1c2hPbmUocHJvbWlzZSk7XG4gICAgdGhpcy5fcXVldWVUaWNrKCk7XG59XG5cbmlmICghdXRpbC5oYXNEZXZUb29scykge1xuICAgIEFzeW5jLnByb3RvdHlwZS5pbnZva2VMYXRlciA9IEFzeW5jSW52b2tlTGF0ZXI7XG4gICAgQXN5bmMucHJvdG90eXBlLmludm9rZSA9IEFzeW5jSW52b2tlO1xuICAgIEFzeW5jLnByb3RvdHlwZS5zZXR0bGVQcm9taXNlcyA9IEFzeW5jU2V0dGxlUHJvbWlzZXM7XG59IGVsc2Uge1xuICAgIEFzeW5jLnByb3RvdHlwZS5pbnZva2VMYXRlciA9IGZ1bmN0aW9uIChmbiwgcmVjZWl2ZXIsIGFyZykge1xuICAgICAgICBpZiAodGhpcy5fdHJhbXBvbGluZUVuYWJsZWQpIHtcbiAgICAgICAgICAgIEFzeW5jSW52b2tlTGF0ZXIuY2FsbCh0aGlzLCBmbiwgcmVjZWl2ZXIsIGFyZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zY2hlZHVsZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBmbi5jYWxsKHJlY2VpdmVyLCBhcmcpO1xuICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBBc3luYy5wcm90b3R5cGUuaW52b2tlID0gZnVuY3Rpb24gKGZuLCByZWNlaXZlciwgYXJnKSB7XG4gICAgICAgIGlmICh0aGlzLl90cmFtcG9saW5lRW5hYmxlZCkge1xuICAgICAgICAgICAgQXN5bmNJbnZva2UuY2FsbCh0aGlzLCBmbiwgcmVjZWl2ZXIsIGFyZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zY2hlZHVsZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBmbi5jYWxsKHJlY2VpdmVyLCBhcmcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgQXN5bmMucHJvdG90eXBlLnNldHRsZVByb21pc2VzID0gZnVuY3Rpb24ocHJvbWlzZSkge1xuICAgICAgICBpZiAodGhpcy5fdHJhbXBvbGluZUVuYWJsZWQpIHtcbiAgICAgICAgICAgIEFzeW5jU2V0dGxlUHJvbWlzZXMuY2FsbCh0aGlzLCBwcm9taXNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3NjaGVkdWxlKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHByb21pc2UuX3NldHRsZVByb21pc2VzKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbkFzeW5jLnByb3RvdHlwZS5pbnZva2VGaXJzdCA9IGZ1bmN0aW9uIChmbiwgcmVjZWl2ZXIsIGFyZykge1xuICAgIHRoaXMuX25vcm1hbFF1ZXVlLnVuc2hpZnQoZm4sIHJlY2VpdmVyLCBhcmcpO1xuICAgIHRoaXMuX3F1ZXVlVGljaygpO1xufTtcblxuQXN5bmMucHJvdG90eXBlLl9kcmFpblF1ZXVlID0gZnVuY3Rpb24ocXVldWUpIHtcbiAgICB3aGlsZSAocXVldWUubGVuZ3RoKCkgPiAwKSB7XG4gICAgICAgIHZhciBmbiA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgZm4uX3NldHRsZVByb21pc2VzKCk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVjZWl2ZXIgPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICB2YXIgYXJnID0gcXVldWUuc2hpZnQoKTtcbiAgICAgICAgZm4uY2FsbChyZWNlaXZlciwgYXJnKTtcbiAgICB9XG59O1xuXG5Bc3luYy5wcm90b3R5cGUuX2RyYWluUXVldWVzID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2RyYWluUXVldWUodGhpcy5fbm9ybWFsUXVldWUpO1xuICAgIHRoaXMuX3Jlc2V0KCk7XG4gICAgdGhpcy5faGF2ZURyYWluZWRRdWV1ZXMgPSB0cnVlO1xuICAgIHRoaXMuX2RyYWluUXVldWUodGhpcy5fbGF0ZVF1ZXVlKTtcbn07XG5cbkFzeW5jLnByb3RvdHlwZS5fcXVldWVUaWNrID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5faXNUaWNrVXNlZCkge1xuICAgICAgICB0aGlzLl9pc1RpY2tVc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fc2NoZWR1bGUodGhpcy5kcmFpblF1ZXVlcyk7XG4gICAgfVxufTtcblxuQXN5bmMucHJvdG90eXBlLl9yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9pc1RpY2tVc2VkID0gZmFsc2U7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFzeW5jO1xubW9kdWxlLmV4cG9ydHMuZmlyc3RMaW5lRXJyb3IgPSBmaXJzdExpbmVFcnJvcjtcblxufSx7XCIuL3F1ZXVlXCI6MjYsXCIuL3NjaGVkdWxlXCI6MjksXCIuL3V0aWxcIjozNn1dLDM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIElOVEVSTkFMLCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBkZWJ1Zykge1xudmFyIGNhbGxlZEJpbmQgPSBmYWxzZTtcbnZhciByZWplY3RUaGlzID0gZnVuY3Rpb24oXywgZSkge1xuICAgIHRoaXMuX3JlamVjdChlKTtcbn07XG5cbnZhciB0YXJnZXRSZWplY3RlZCA9IGZ1bmN0aW9uKGUsIGNvbnRleHQpIHtcbiAgICBjb250ZXh0LnByb21pc2VSZWplY3Rpb25RdWV1ZWQgPSB0cnVlO1xuICAgIGNvbnRleHQuYmluZGluZ1Byb21pc2UuX3RoZW4ocmVqZWN0VGhpcywgcmVqZWN0VGhpcywgbnVsbCwgdGhpcywgZSk7XG59O1xuXG52YXIgYmluZGluZ1Jlc29sdmVkID0gZnVuY3Rpb24odGhpc0FyZywgY29udGV4dCkge1xuICAgIGlmICgoKHRoaXMuX2JpdEZpZWxkICYgNTAzOTcxODQpID09PSAwKSkge1xuICAgICAgICB0aGlzLl9yZXNvbHZlQ2FsbGJhY2soY29udGV4dC50YXJnZXQpO1xuICAgIH1cbn07XG5cbnZhciBiaW5kaW5nUmVqZWN0ZWQgPSBmdW5jdGlvbihlLCBjb250ZXh0KSB7XG4gICAgaWYgKCFjb250ZXh0LnByb21pc2VSZWplY3Rpb25RdWV1ZWQpIHRoaXMuX3JlamVjdChlKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAodGhpc0FyZykge1xuICAgIGlmICghY2FsbGVkQmluZCkge1xuICAgICAgICBjYWxsZWRCaW5kID0gdHJ1ZTtcbiAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX3Byb3BhZ2F0ZUZyb20gPSBkZWJ1Zy5wcm9wYWdhdGVGcm9tRnVuY3Rpb24oKTtcbiAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX2JvdW5kVmFsdWUgPSBkZWJ1Zy5ib3VuZFZhbHVlRnVuY3Rpb24oKTtcbiAgICB9XG4gICAgdmFyIG1heWJlUHJvbWlzZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UodGhpc0FyZyk7XG4gICAgdmFyIHJldCA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcbiAgICByZXQuX3Byb3BhZ2F0ZUZyb20odGhpcywgMSk7XG4gICAgdmFyIHRhcmdldCA9IHRoaXMuX3RhcmdldCgpO1xuICAgIHJldC5fc2V0Qm91bmRUbyhtYXliZVByb21pc2UpO1xuICAgIGlmIChtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0ge1xuICAgICAgICAgICAgcHJvbWlzZVJlamVjdGlvblF1ZXVlZDogZmFsc2UsXG4gICAgICAgICAgICBwcm9taXNlOiByZXQsXG4gICAgICAgICAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICAgICAgICAgIGJpbmRpbmdQcm9taXNlOiBtYXliZVByb21pc2VcbiAgICAgICAgfTtcbiAgICAgICAgdGFyZ2V0Ll90aGVuKElOVEVSTkFMLCB0YXJnZXRSZWplY3RlZCwgdW5kZWZpbmVkLCByZXQsIGNvbnRleHQpO1xuICAgICAgICBtYXliZVByb21pc2UuX3RoZW4oXG4gICAgICAgICAgICBiaW5kaW5nUmVzb2x2ZWQsIGJpbmRpbmdSZWplY3RlZCwgdW5kZWZpbmVkLCByZXQsIGNvbnRleHQpO1xuICAgICAgICByZXQuX3NldE9uQ2FuY2VsKG1heWJlUHJvbWlzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0Ll9yZXNvbHZlQ2FsbGJhY2sodGFyZ2V0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXRCb3VuZFRvID0gZnVuY3Rpb24gKG9iaikge1xuICAgIGlmIChvYmogIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgMjA5NzE1MjtcbiAgICAgICAgdGhpcy5fYm91bmRUbyA9IG9iajtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkICYgKH4yMDk3MTUyKTtcbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5faXNCb3VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgMjA5NzE1MikgPT09IDIwOTcxNTI7XG59O1xuXG5Qcm9taXNlLmJpbmQgPSBmdW5jdGlvbiAodGhpc0FyZywgdmFsdWUpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS5iaW5kKHRoaXNBcmcpO1xufTtcbn07XG5cbn0se31dLDQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgb2xkO1xuaWYgKHR5cGVvZiBQcm9taXNlICE9PSBcInVuZGVmaW5lZFwiKSBvbGQgPSBQcm9taXNlO1xuZnVuY3Rpb24gbm9Db25mbGljdCgpIHtcbiAgICB0cnkgeyBpZiAoUHJvbWlzZSA9PT0gYmx1ZWJpcmQpIFByb21pc2UgPSBvbGQ7IH1cbiAgICBjYXRjaCAoZSkge31cbiAgICByZXR1cm4gYmx1ZWJpcmQ7XG59XG52YXIgYmx1ZWJpcmQgPSBfZGVyZXFfKFwiLi9wcm9taXNlXCIpKCk7XG5ibHVlYmlyZC5ub0NvbmZsaWN0ID0gbm9Db25mbGljdDtcbm1vZHVsZS5leHBvcnRzID0gYmx1ZWJpcmQ7XG5cbn0se1wiLi9wcm9taXNlXCI6MjJ9XSw1OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xudmFyIGNyID0gT2JqZWN0LmNyZWF0ZTtcbmlmIChjcikge1xuICAgIHZhciBjYWxsZXJDYWNoZSA9IGNyKG51bGwpO1xuICAgIHZhciBnZXR0ZXJDYWNoZSA9IGNyKG51bGwpO1xuICAgIGNhbGxlckNhY2hlW1wiIHNpemVcIl0gPSBnZXR0ZXJDYWNoZVtcIiBzaXplXCJdID0gMDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlKSB7XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgY2FuRXZhbHVhdGUgPSB1dGlsLmNhbkV2YWx1YXRlO1xudmFyIGlzSWRlbnRpZmllciA9IHV0aWwuaXNJZGVudGlmaWVyO1xuXG52YXIgZ2V0TWV0aG9kQ2FsbGVyO1xudmFyIGdldEdldHRlcjtcbmlmICghdHJ1ZSkge1xudmFyIG1ha2VNZXRob2RDYWxsZXIgPSBmdW5jdGlvbiAobWV0aG9kTmFtZSkge1xuICAgIHJldHVybiBuZXcgRnVuY3Rpb24oXCJlbnN1cmVNZXRob2RcIiwgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgJ3VzZSBzdHJpY3QnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgZW5zdXJlTWV0aG9kKG9iaiwgJ21ldGhvZE5hbWUnKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgc3dpdGNoKGxlbikgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG9iai5tZXRob2ROYW1lKHRoaXNbMF0pOyAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG9iai5tZXRob2ROYW1lKHRoaXNbMF0sIHRoaXNbMV0pOyAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIG9iai5tZXRob2ROYW1lKHRoaXNbMF0sIHRoaXNbMV0sIHRoaXNbMl0pOyAgICBcXG5cXFxuICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIG9iai5tZXRob2ROYW1lKCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqLm1ldGhvZE5hbWUuYXBwbHkob2JqLCB0aGlzKTsgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICB9OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICBcIi5yZXBsYWNlKC9tZXRob2ROYW1lL2csIG1ldGhvZE5hbWUpKShlbnN1cmVNZXRob2QpO1xufTtcblxudmFyIG1ha2VHZXR0ZXIgPSBmdW5jdGlvbiAocHJvcGVydHlOYW1lKSB7XG4gICAgcmV0dXJuIG5ldyBGdW5jdGlvbihcIm9ialwiLCBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICd1c2Ugc3RyaWN0JzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgIHJldHVybiBvYmoucHJvcGVydHlOYW1lOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgIFwiLnJlcGxhY2UoXCJwcm9wZXJ0eU5hbWVcIiwgcHJvcGVydHlOYW1lKSk7XG59O1xuXG52YXIgZ2V0Q29tcGlsZWQgPSBmdW5jdGlvbihuYW1lLCBjb21waWxlciwgY2FjaGUpIHtcbiAgICB2YXIgcmV0ID0gY2FjaGVbbmFtZV07XG4gICAgaWYgKHR5cGVvZiByZXQgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBpZiAoIWlzSWRlbnRpZmllcihuYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0ID0gY29tcGlsZXIobmFtZSk7XG4gICAgICAgIGNhY2hlW25hbWVdID0gcmV0O1xuICAgICAgICBjYWNoZVtcIiBzaXplXCJdKys7XG4gICAgICAgIGlmIChjYWNoZVtcIiBzaXplXCJdID4gNTEyKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGNhY2hlKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIGRlbGV0ZSBjYWNoZVtrZXlzW2ldXTtcbiAgICAgICAgICAgIGNhY2hlW1wiIHNpemVcIl0gPSBrZXlzLmxlbmd0aCAtIDI1NjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufTtcblxuZ2V0TWV0aG9kQ2FsbGVyID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiBnZXRDb21waWxlZChuYW1lLCBtYWtlTWV0aG9kQ2FsbGVyLCBjYWxsZXJDYWNoZSk7XG59O1xuXG5nZXRHZXR0ZXIgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgcmV0dXJuIGdldENvbXBpbGVkKG5hbWUsIG1ha2VHZXR0ZXIsIGdldHRlckNhY2hlKTtcbn07XG59XG5cbmZ1bmN0aW9uIGVuc3VyZU1ldGhvZChvYmosIG1ldGhvZE5hbWUpIHtcbiAgICB2YXIgZm47XG4gICAgaWYgKG9iaiAhPSBudWxsKSBmbiA9IG9ialttZXRob2ROYW1lXTtcbiAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBcIk9iamVjdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcob2JqKSArIFwiIGhhcyBubyBtZXRob2QgJ1wiICtcbiAgICAgICAgICAgIHV0aWwudG9TdHJpbmcobWV0aG9kTmFtZSkgKyBcIidcIjtcbiAgICAgICAgdGhyb3cgbmV3IFByb21pc2UuVHlwZUVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbiAgICByZXR1cm4gZm47XG59XG5cbmZ1bmN0aW9uIGNhbGxlcihvYmopIHtcbiAgICB2YXIgbWV0aG9kTmFtZSA9IHRoaXMucG9wKCk7XG4gICAgdmFyIGZuID0gZW5zdXJlTWV0aG9kKG9iaiwgbWV0aG9kTmFtZSk7XG4gICAgcmV0dXJuIGZuLmFwcGx5KG9iaiwgdGhpcyk7XG59XG5Qcm9taXNlLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKG1ldGhvZE5hbWUpIHtcbiAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTs7XG4gICAgaWYgKCF0cnVlKSB7XG4gICAgICAgIGlmIChjYW5FdmFsdWF0ZSkge1xuICAgICAgICAgICAgdmFyIG1heWJlQ2FsbGVyID0gZ2V0TWV0aG9kQ2FsbGVyKG1ldGhvZE5hbWUpO1xuICAgICAgICAgICAgaWYgKG1heWJlQ2FsbGVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RoZW4oXG4gICAgICAgICAgICAgICAgICAgIG1heWJlQ2FsbGVyLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJncywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhcmdzLnB1c2gobWV0aG9kTmFtZSk7XG4gICAgcmV0dXJuIHRoaXMuX3RoZW4oY2FsbGVyLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJncywgdW5kZWZpbmVkKTtcbn07XG5cbmZ1bmN0aW9uIG5hbWVkR2V0dGVyKG9iaikge1xuICAgIHJldHVybiBvYmpbdGhpc107XG59XG5mdW5jdGlvbiBpbmRleGVkR2V0dGVyKG9iaikge1xuICAgIHZhciBpbmRleCA9ICt0aGlzO1xuICAgIGlmIChpbmRleCA8IDApIGluZGV4ID0gTWF0aC5tYXgoMCwgaW5kZXggKyBvYmoubGVuZ3RoKTtcbiAgICByZXR1cm4gb2JqW2luZGV4XTtcbn1cblByb21pc2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChwcm9wZXJ0eU5hbWUpIHtcbiAgICB2YXIgaXNJbmRleCA9ICh0eXBlb2YgcHJvcGVydHlOYW1lID09PSBcIm51bWJlclwiKTtcbiAgICB2YXIgZ2V0dGVyO1xuICAgIGlmICghaXNJbmRleCkge1xuICAgICAgICBpZiAoY2FuRXZhbHVhdGUpIHtcbiAgICAgICAgICAgIHZhciBtYXliZUdldHRlciA9IGdldEdldHRlcihwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgZ2V0dGVyID0gbWF5YmVHZXR0ZXIgIT09IG51bGwgPyBtYXliZUdldHRlciA6IG5hbWVkR2V0dGVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2V0dGVyID0gbmFtZWRHZXR0ZXI7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBnZXR0ZXIgPSBpbmRleGVkR2V0dGVyO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fdGhlbihnZXR0ZXIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBwcm9wZXJ0eU5hbWUsIHVuZGVmaW5lZCk7XG59O1xufTtcblxufSx7XCIuL3V0aWxcIjozNn1dLDY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIFByb21pc2VBcnJheSwgYXBpUmVqZWN0aW9uLCBkZWJ1Zykge1xudmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xudmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcbnZhciBlcnJvck9iaiA9IHV0aWwuZXJyb3JPYmo7XG52YXIgYXN5bmMgPSBQcm9taXNlLl9hc3luYztcblxuUHJvbWlzZS5wcm90b3R5cGVbXCJicmVha1wiXSA9IFByb21pc2UucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghZGVidWcuY2FuY2VsbGF0aW9uKCkpIHJldHVybiB0aGlzLl93YXJuKFwiY2FuY2VsbGF0aW9uIGlzIGRpc2FibGVkXCIpO1xuXG4gICAgdmFyIHByb21pc2UgPSB0aGlzO1xuICAgIHZhciBjaGlsZCA9IHByb21pc2U7XG4gICAgd2hpbGUgKHByb21pc2UuX2lzQ2FuY2VsbGFibGUoKSkge1xuICAgICAgICBpZiAoIXByb21pc2UuX2NhbmNlbEJ5KGNoaWxkKSkge1xuICAgICAgICAgICAgaWYgKGNoaWxkLl9pc0ZvbGxvd2luZygpKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQuX2ZvbGxvd2VlKCkuY2FuY2VsKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoaWxkLl9jYW5jZWxCcmFuY2hlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGFyZW50ID0gcHJvbWlzZS5fY2FuY2VsbGF0aW9uUGFyZW50O1xuICAgICAgICBpZiAocGFyZW50ID09IG51bGwgfHwgIXBhcmVudC5faXNDYW5jZWxsYWJsZSgpKSB7XG4gICAgICAgICAgICBpZiAocHJvbWlzZS5faXNGb2xsb3dpbmcoKSkge1xuICAgICAgICAgICAgICAgIHByb21pc2UuX2ZvbGxvd2VlKCkuY2FuY2VsKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHByb21pc2UuX2NhbmNlbEJyYW5jaGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwcm9taXNlLl9pc0ZvbGxvd2luZygpKSBwcm9taXNlLl9mb2xsb3dlZSgpLmNhbmNlbCgpO1xuICAgICAgICAgICAgcHJvbWlzZS5fc2V0V2lsbEJlQ2FuY2VsbGVkKCk7XG4gICAgICAgICAgICBjaGlsZCA9IHByb21pc2U7XG4gICAgICAgICAgICBwcm9taXNlID0gcGFyZW50O1xuICAgICAgICB9XG4gICAgfVxufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2JyYW5jaEhhc0NhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwtLTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9lbm91Z2hCcmFuY2hlc0hhdmVDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbCA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgIHRoaXMuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwgPD0gMDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9jYW5jZWxCeSA9IGZ1bmN0aW9uKGNhbmNlbGxlcikge1xuICAgIGlmIChjYW5jZWxsZXIgPT09IHRoaXMpIHtcbiAgICAgICAgdGhpcy5fYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbCA9IDA7XG4gICAgICAgIHRoaXMuX2ludm9rZU9uQ2FuY2VsKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2JyYW5jaEhhc0NhbmNlbGxlZCgpO1xuICAgICAgICBpZiAodGhpcy5fZW5vdWdoQnJhbmNoZXNIYXZlQ2FuY2VsbGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2ludm9rZU9uQ2FuY2VsKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fY2FuY2VsQnJhbmNoZWQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5fZW5vdWdoQnJhbmNoZXNIYXZlQ2FuY2VsbGVkKCkpIHtcbiAgICAgICAgdGhpcy5fY2FuY2VsKCk7XG4gICAgfVxufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2NhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghdGhpcy5faXNDYW5jZWxsYWJsZSgpKSByZXR1cm47XG4gICAgdGhpcy5fc2V0Q2FuY2VsbGVkKCk7XG4gICAgYXN5bmMuaW52b2tlKHRoaXMuX2NhbmNlbFByb21pc2VzLCB0aGlzLCB1bmRlZmluZWQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2NhbmNlbFByb21pc2VzID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX2xlbmd0aCgpID4gMCkgdGhpcy5fc2V0dGxlUHJvbWlzZXMoKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl91bnNldE9uQ2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fb25DYW5jZWxGaWVsZCA9IHVuZGVmaW5lZDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9pc0NhbmNlbGxhYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNQZW5kaW5nKCkgJiYgIXRoaXMuX2lzQ2FuY2VsbGVkKCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5pc0NhbmNlbGxhYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNQZW5kaW5nKCkgJiYgIXRoaXMuaXNDYW5jZWxsZWQoKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9kb0ludm9rZU9uQ2FuY2VsID0gZnVuY3Rpb24ob25DYW5jZWxDYWxsYmFjaywgaW50ZXJuYWxPbmx5KSB7XG4gICAgaWYgKHV0aWwuaXNBcnJheShvbkNhbmNlbENhbGxiYWNrKSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9uQ2FuY2VsQ2FsbGJhY2subGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMuX2RvSW52b2tlT25DYW5jZWwob25DYW5jZWxDYWxsYmFja1tpXSwgaW50ZXJuYWxPbmx5KTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAob25DYW5jZWxDYWxsYmFjayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb25DYW5jZWxDYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBpZiAoIWludGVybmFsT25seSkge1xuICAgICAgICAgICAgICAgIHZhciBlID0gdHJ5Q2F0Y2gob25DYW5jZWxDYWxsYmFjaykuY2FsbCh0aGlzLl9ib3VuZFZhbHVlKCkpO1xuICAgICAgICAgICAgICAgIGlmIChlID09PSBlcnJvck9iaikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdHRhY2hFeHRyYVRyYWNlKGUuZSk7XG4gICAgICAgICAgICAgICAgICAgIGFzeW5jLnRocm93TGF0ZXIoZS5lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvbkNhbmNlbENhbGxiYWNrLl9yZXN1bHRDYW5jZWxsZWQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5faW52b2tlT25DYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgb25DYW5jZWxDYWxsYmFjayA9IHRoaXMuX29uQ2FuY2VsKCk7XG4gICAgdGhpcy5fdW5zZXRPbkNhbmNlbCgpO1xuICAgIGFzeW5jLmludm9rZSh0aGlzLl9kb0ludm9rZU9uQ2FuY2VsLCB0aGlzLCBvbkNhbmNlbENhbGxiYWNrKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9pbnZva2VJbnRlcm5hbE9uQ2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX2lzQ2FuY2VsbGFibGUoKSkge1xuICAgICAgICB0aGlzLl9kb0ludm9rZU9uQ2FuY2VsKHRoaXMuX29uQ2FuY2VsKCksIHRydWUpO1xuICAgICAgICB0aGlzLl91bnNldE9uQ2FuY2VsKCk7XG4gICAgfVxufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY2FuY2VsKCk7XG59O1xuXG59O1xuXG59LHtcIi4vdXRpbFwiOjM2fV0sNzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oTkVYVF9GSUxURVIpIHtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBnZXRLZXlzID0gX2RlcmVxXyhcIi4vZXM1XCIpLmtleXM7XG52YXIgdHJ5Q2F0Y2ggPSB1dGlsLnRyeUNhdGNoO1xudmFyIGVycm9yT2JqID0gdXRpbC5lcnJvck9iajtcblxuZnVuY3Rpb24gY2F0Y2hGaWx0ZXIoaW5zdGFuY2VzLCBjYiwgcHJvbWlzZSkge1xuICAgIHJldHVybiBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBib3VuZFRvID0gcHJvbWlzZS5fYm91bmRWYWx1ZSgpO1xuICAgICAgICBwcmVkaWNhdGVMb29wOiBmb3IgKHZhciBpID0gMDsgaSA8IGluc3RhbmNlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBpbnN0YW5jZXNbaV07XG5cbiAgICAgICAgICAgIGlmIChpdGVtID09PSBFcnJvciB8fFxuICAgICAgICAgICAgICAgIChpdGVtICE9IG51bGwgJiYgaXRlbS5wcm90b3R5cGUgaW5zdGFuY2VvZiBFcnJvcikpIHtcbiAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyeUNhdGNoKGNiKS5jYWxsKGJvdW5kVG8sIGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGl0ZW0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzUHJlZGljYXRlID0gdHJ5Q2F0Y2goaXRlbSkuY2FsbChib3VuZFRvLCBlKTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlc1ByZWRpY2F0ZSA9PT0gZXJyb3JPYmopIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXNQcmVkaWNhdGU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtYXRjaGVzUHJlZGljYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnlDYXRjaChjYikuY2FsbChib3VuZFRvLCBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHV0aWwuaXNPYmplY3QoZSkpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5cyA9IGdldEtleXMoaXRlbSk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBrZXlzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2pdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbVtrZXldICE9IGVba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgcHJlZGljYXRlTG9vcDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ5Q2F0Y2goY2IpLmNhbGwoYm91bmRUbywgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE5FWFRfRklMVEVSO1xuICAgIH07XG59XG5cbnJldHVybiBjYXRjaEZpbHRlcjtcbn07XG5cbn0se1wiLi9lczVcIjoxMyxcIi4vdXRpbFwiOjM2fV0sODpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSkge1xudmFyIGxvbmdTdGFja1RyYWNlcyA9IGZhbHNlO1xudmFyIGNvbnRleHRTdGFjayA9IFtdO1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fcHJvbWlzZUNyZWF0ZWQgPSBmdW5jdGlvbigpIHt9O1xuUHJvbWlzZS5wcm90b3R5cGUuX3B1c2hDb250ZXh0ID0gZnVuY3Rpb24oKSB7fTtcblByb21pc2UucHJvdG90eXBlLl9wb3BDb250ZXh0ID0gZnVuY3Rpb24oKSB7cmV0dXJuIG51bGw7fTtcblByb21pc2UuX3BlZWtDb250ZXh0ID0gUHJvbWlzZS5wcm90b3R5cGUuX3BlZWtDb250ZXh0ID0gZnVuY3Rpb24oKSB7fTtcblxuZnVuY3Rpb24gQ29udGV4dCgpIHtcbiAgICB0aGlzLl90cmFjZSA9IG5ldyBDb250ZXh0LkNhcHR1cmVkVHJhY2UocGVla0NvbnRleHQoKSk7XG59XG5Db250ZXh0LnByb3RvdHlwZS5fcHVzaENvbnRleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuX3RyYWNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5fdHJhY2UuX3Byb21pc2VDcmVhdGVkID0gbnVsbDtcbiAgICAgICAgY29udGV4dFN0YWNrLnB1c2godGhpcy5fdHJhY2UpO1xuICAgIH1cbn07XG5cbkNvbnRleHQucHJvdG90eXBlLl9wb3BDb250ZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLl90cmFjZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciB0cmFjZSA9IGNvbnRleHRTdGFjay5wb3AoKTtcbiAgICAgICAgdmFyIHJldCA9IHRyYWNlLl9wcm9taXNlQ3JlYXRlZDtcbiAgICAgICAgdHJhY2UuX3Byb21pc2VDcmVhdGVkID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVDb250ZXh0KCkge1xuICAgIGlmIChsb25nU3RhY2tUcmFjZXMpIHJldHVybiBuZXcgQ29udGV4dCgpO1xufVxuXG5mdW5jdGlvbiBwZWVrQ29udGV4dCgpIHtcbiAgICB2YXIgbGFzdEluZGV4ID0gY29udGV4dFN0YWNrLmxlbmd0aCAtIDE7XG4gICAgaWYgKGxhc3RJbmRleCA+PSAwKSB7XG4gICAgICAgIHJldHVybiBjb250ZXh0U3RhY2tbbGFzdEluZGV4XTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbkNvbnRleHQuQ2FwdHVyZWRUcmFjZSA9IG51bGw7XG5Db250ZXh0LmNyZWF0ZSA9IGNyZWF0ZUNvbnRleHQ7XG5Db250ZXh0LmRlYWN0aXZhdGVMb25nU3RhY2tUcmFjZXMgPSBmdW5jdGlvbigpIHt9O1xuQ29udGV4dC5hY3RpdmF0ZUxvbmdTdGFja1RyYWNlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBQcm9taXNlX3B1c2hDb250ZXh0ID0gUHJvbWlzZS5wcm90b3R5cGUuX3B1c2hDb250ZXh0O1xuICAgIHZhciBQcm9taXNlX3BvcENvbnRleHQgPSBQcm9taXNlLnByb3RvdHlwZS5fcG9wQ29udGV4dDtcbiAgICB2YXIgUHJvbWlzZV9QZWVrQ29udGV4dCA9IFByb21pc2UuX3BlZWtDb250ZXh0O1xuICAgIHZhciBQcm9taXNlX3BlZWtDb250ZXh0ID0gUHJvbWlzZS5wcm90b3R5cGUuX3BlZWtDb250ZXh0O1xuICAgIHZhciBQcm9taXNlX3Byb21pc2VDcmVhdGVkID0gUHJvbWlzZS5wcm90b3R5cGUuX3Byb21pc2VDcmVhdGVkO1xuICAgIENvbnRleHQuZGVhY3RpdmF0ZUxvbmdTdGFja1RyYWNlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fcHVzaENvbnRleHQgPSBQcm9taXNlX3B1c2hDb250ZXh0O1xuICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fcG9wQ29udGV4dCA9IFByb21pc2VfcG9wQ29udGV4dDtcbiAgICAgICAgUHJvbWlzZS5fcGVla0NvbnRleHQgPSBQcm9taXNlX1BlZWtDb250ZXh0O1xuICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fcGVla0NvbnRleHQgPSBQcm9taXNlX3BlZWtDb250ZXh0O1xuICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fcHJvbWlzZUNyZWF0ZWQgPSBQcm9taXNlX3Byb21pc2VDcmVhdGVkO1xuICAgICAgICBsb25nU3RhY2tUcmFjZXMgPSBmYWxzZTtcbiAgICB9O1xuICAgIGxvbmdTdGFja1RyYWNlcyA9IHRydWU7XG4gICAgUHJvbWlzZS5wcm90b3R5cGUuX3B1c2hDb250ZXh0ID0gQ29udGV4dC5wcm90b3R5cGUuX3B1c2hDb250ZXh0O1xuICAgIFByb21pc2UucHJvdG90eXBlLl9wb3BDb250ZXh0ID0gQ29udGV4dC5wcm90b3R5cGUuX3BvcENvbnRleHQ7XG4gICAgUHJvbWlzZS5fcGVla0NvbnRleHQgPSBQcm9taXNlLnByb3RvdHlwZS5fcGVla0NvbnRleHQgPSBwZWVrQ29udGV4dDtcbiAgICBQcm9taXNlLnByb3RvdHlwZS5fcHJvbWlzZUNyZWF0ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGN0eCA9IHRoaXMuX3BlZWtDb250ZXh0KCk7XG4gICAgICAgIGlmIChjdHggJiYgY3R4Ll9wcm9taXNlQ3JlYXRlZCA9PSBudWxsKSBjdHguX3Byb21pc2VDcmVhdGVkID0gdGhpcztcbiAgICB9O1xufTtcbnJldHVybiBDb250ZXh0O1xufTtcblxufSx7fV0sOTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSwgQ29udGV4dCkge1xudmFyIGdldERvbWFpbiA9IFByb21pc2UuX2dldERvbWFpbjtcbnZhciBhc3luYyA9IFByb21pc2UuX2FzeW5jO1xudmFyIFdhcm5pbmcgPSBfZGVyZXFfKFwiLi9lcnJvcnNcIikuV2FybmluZztcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBjYW5BdHRhY2hUcmFjZSA9IHV0aWwuY2FuQXR0YWNoVHJhY2U7XG52YXIgdW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlZDtcbnZhciBwb3NzaWJseVVuaGFuZGxlZFJlamVjdGlvbjtcbnZhciBibHVlYmlyZEZyYW1lUGF0dGVybiA9XG4gICAgL1tcXFxcXFwvXWJsdWViaXJkW1xcXFxcXC9danNbXFxcXFxcL10ocmVsZWFzZXxkZWJ1Z3xpbnN0cnVtZW50ZWQpLztcbnZhciBub2RlRnJhbWVQYXR0ZXJuID0gL1xcKCg/OnRpbWVyc1xcLmpzKTpcXGQrOlxcZCtcXCkvO1xudmFyIHBhcnNlTGluZVBhdHRlcm4gPSAvW1xcLzxcXChdKC4rPyk6KFxcZCspOihcXGQrKVxcKT9cXHMqJC87XG52YXIgc3RhY2tGcmFtZVBhdHRlcm4gPSBudWxsO1xudmFyIGZvcm1hdFN0YWNrID0gbnVsbDtcbnZhciBpbmRlbnRTdGFja0ZyYW1lcyA9IGZhbHNlO1xudmFyIHByaW50V2FybmluZztcbnZhciBkZWJ1Z2dpbmcgPSAhISh1dGlsLmVudihcIkJMVUVCSVJEX0RFQlVHXCIpICE9IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICh0cnVlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgdXRpbC5lbnYoXCJCTFVFQklSRF9ERUJVR1wiKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWwuZW52KFwiTk9ERV9FTlZcIikgPT09IFwiZGV2ZWxvcG1lbnRcIikpO1xuXG52YXIgd2FybmluZ3MgPSAhISh1dGlsLmVudihcIkJMVUVCSVJEX1dBUk5JTkdTXCIpICE9IDAgJiZcbiAgICAoZGVidWdnaW5nIHx8IHV0aWwuZW52KFwiQkxVRUJJUkRfV0FSTklOR1NcIikpKTtcblxudmFyIGxvbmdTdGFja1RyYWNlcyA9ICEhKHV0aWwuZW52KFwiQkxVRUJJUkRfTE9OR19TVEFDS19UUkFDRVNcIikgIT0gMCAmJlxuICAgIChkZWJ1Z2dpbmcgfHwgdXRpbC5lbnYoXCJCTFVFQklSRF9MT05HX1NUQUNLX1RSQUNFU1wiKSkpO1xuXG52YXIgd0ZvcmdvdHRlblJldHVybiA9IHV0aWwuZW52KFwiQkxVRUJJUkRfV19GT1JHT1RURU5fUkVUVVJOXCIpICE9IDAgJiZcbiAgICAod2FybmluZ3MgfHwgISF1dGlsLmVudihcIkJMVUVCSVJEX1dfRk9SR09UVEVOX1JFVFVSTlwiKSk7XG5cblByb21pc2UucHJvdG90eXBlLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0YXJnZXQgPSB0aGlzLl90YXJnZXQoKTtcbiAgICB0YXJnZXQuX2JpdEZpZWxkID0gKCh0YXJnZXQuX2JpdEZpZWxkICYgKH4xMDQ4NTc2KSkgfFxuICAgICAgICAgICAgICAgICAgICAgIDUyNDI4OCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fZW5zdXJlUG9zc2libGVSZWplY3Rpb25IYW5kbGVkID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICgodGhpcy5fYml0RmllbGQgJiA1MjQyODgpICE9PSAwKSByZXR1cm47XG4gICAgdGhpcy5fc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQoKTtcbiAgICBhc3luYy5pbnZva2VMYXRlcih0aGlzLl9ub3RpZnlVbmhhbmRsZWRSZWplY3Rpb24sIHRoaXMsIHVuZGVmaW5lZCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fbm90aWZ5VW5oYW5kbGVkUmVqZWN0aW9uSXNIYW5kbGVkID0gZnVuY3Rpb24gKCkge1xuICAgIGZpcmVSZWplY3Rpb25FdmVudChcInJlamVjdGlvbkhhbmRsZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmhhbmRsZWRSZWplY3Rpb25IYW5kbGVkLCB1bmRlZmluZWQsIHRoaXMpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldFJldHVybmVkTm9uVW5kZWZpbmVkID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCB8IDI2ODQzNTQ1Njtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9yZXR1cm5lZE5vblVuZGVmaW5lZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiAyNjg0MzU0NTYpICE9PSAwO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX25vdGlmeVVuaGFuZGxlZFJlamVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5faXNSZWplY3Rpb25VbmhhbmRsZWQoKSkge1xuICAgICAgICB2YXIgcmVhc29uID0gdGhpcy5fc2V0dGxlZFZhbHVlKCk7XG4gICAgICAgIHRoaXMuX3NldFVuaGFuZGxlZFJlamVjdGlvbklzTm90aWZpZWQoKTtcbiAgICAgICAgZmlyZVJlamVjdGlvbkV2ZW50KFwidW5oYW5kbGVkUmVqZWN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmx5VW5oYW5kbGVkUmVqZWN0aW9uLCByZWFzb24sIHRoaXMpO1xuICAgIH1cbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXRVbmhhbmRsZWRSZWplY3Rpb25Jc05vdGlmaWVkID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCAyNjIxNDQ7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fdW5zZXRVbmhhbmRsZWRSZWplY3Rpb25Jc05vdGlmaWVkID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgJiAofjI2MjE0NCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5faXNVbmhhbmRsZWRSZWplY3Rpb25Ob3RpZmllZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgMjYyMTQ0KSA+IDA7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCB8IDEwNDg1NzY7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fdW5zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkICYgKH4xMDQ4NTc2KTtcbiAgICBpZiAodGhpcy5faXNVbmhhbmRsZWRSZWplY3Rpb25Ob3RpZmllZCgpKSB7XG4gICAgICAgIHRoaXMuX3Vuc2V0VW5oYW5kbGVkUmVqZWN0aW9uSXNOb3RpZmllZCgpO1xuICAgICAgICB0aGlzLl9ub3RpZnlVbmhhbmRsZWRSZWplY3Rpb25Jc0hhbmRsZWQoKTtcbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5faXNSZWplY3Rpb25VbmhhbmRsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDEwNDg1NzYpID4gMDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl93YXJuID0gZnVuY3Rpb24obWVzc2FnZSwgc2hvdWxkVXNlT3duVHJhY2UsIHByb21pc2UpIHtcbiAgICByZXR1cm4gd2FybihtZXNzYWdlLCBzaG91bGRVc2VPd25UcmFjZSwgcHJvbWlzZSB8fCB0aGlzKTtcbn07XG5cblByb21pc2Uub25Qb3NzaWJseVVuaGFuZGxlZFJlamVjdGlvbiA9IGZ1bmN0aW9uIChmbikge1xuICAgIHZhciBkb21haW4gPSBnZXREb21haW4oKTtcbiAgICBwb3NzaWJseVVuaGFuZGxlZFJlamVjdGlvbiA9XG4gICAgICAgIHR5cGVvZiBmbiA9PT0gXCJmdW5jdGlvblwiID8gKGRvbWFpbiA9PT0gbnVsbCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZuIDogdXRpbC5kb21haW5CaW5kKGRvbWFpbiwgZm4pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG59O1xuXG5Qcm9taXNlLm9uVW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlZCA9IGZ1bmN0aW9uIChmbikge1xuICAgIHZhciBkb21haW4gPSBnZXREb21haW4oKTtcbiAgICB1bmhhbmRsZWRSZWplY3Rpb25IYW5kbGVkID1cbiAgICAgICAgdHlwZW9mIGZuID09PSBcImZ1bmN0aW9uXCIgPyAoZG9tYWluID09PSBudWxsID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm4gOiB1dGlsLmRvbWFpbkJpbmQoZG9tYWluLCBmbikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbn07XG5cbnZhciBkaXNhYmxlTG9uZ1N0YWNrVHJhY2VzID0gZnVuY3Rpb24oKSB7fTtcblByb21pc2UubG9uZ1N0YWNrVHJhY2VzID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChhc3luYy5oYXZlSXRlbXNRdWV1ZWQoKSAmJiAhY29uZmlnLmxvbmdTdGFja1RyYWNlcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgZW5hYmxlIGxvbmcgc3RhY2sgdHJhY2VzIGFmdGVyIHByb21pc2VzIGhhdmUgYmVlbiBjcmVhdGVkXFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcbiAgICB9XG4gICAgaWYgKCFjb25maWcubG9uZ1N0YWNrVHJhY2VzICYmIGxvbmdTdGFja1RyYWNlc0lzU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgdmFyIFByb21pc2VfY2FwdHVyZVN0YWNrVHJhY2UgPSBQcm9taXNlLnByb3RvdHlwZS5fY2FwdHVyZVN0YWNrVHJhY2U7XG4gICAgICAgIHZhciBQcm9taXNlX2F0dGFjaEV4dHJhVHJhY2UgPSBQcm9taXNlLnByb3RvdHlwZS5fYXR0YWNoRXh0cmFUcmFjZTtcbiAgICAgICAgY29uZmlnLmxvbmdTdGFja1RyYWNlcyA9IHRydWU7XG4gICAgICAgIGRpc2FibGVMb25nU3RhY2tUcmFjZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChhc3luYy5oYXZlSXRlbXNRdWV1ZWQoKSAmJiAhY29uZmlnLmxvbmdTdGFja1RyYWNlcykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNhbm5vdCBlbmFibGUgbG9uZyBzdGFjayB0cmFjZXMgYWZ0ZXIgcHJvbWlzZXMgaGF2ZSBiZWVuIGNyZWF0ZWRcXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX2NhcHR1cmVTdGFja1RyYWNlID0gUHJvbWlzZV9jYXB0dXJlU3RhY2tUcmFjZTtcbiAgICAgICAgICAgIFByb21pc2UucHJvdG90eXBlLl9hdHRhY2hFeHRyYVRyYWNlID0gUHJvbWlzZV9hdHRhY2hFeHRyYVRyYWNlO1xuICAgICAgICAgICAgQ29udGV4dC5kZWFjdGl2YXRlTG9uZ1N0YWNrVHJhY2VzKCk7XG4gICAgICAgICAgICBhc3luYy5lbmFibGVUcmFtcG9saW5lKCk7XG4gICAgICAgICAgICBjb25maWcubG9uZ1N0YWNrVHJhY2VzID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIFByb21pc2UucHJvdG90eXBlLl9jYXB0dXJlU3RhY2tUcmFjZSA9IGxvbmdTdGFja1RyYWNlc0NhcHR1cmVTdGFja1RyYWNlO1xuICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fYXR0YWNoRXh0cmFUcmFjZSA9IGxvbmdTdGFja1RyYWNlc0F0dGFjaEV4dHJhVHJhY2U7XG4gICAgICAgIENvbnRleHQuYWN0aXZhdGVMb25nU3RhY2tUcmFjZXMoKTtcbiAgICAgICAgYXN5bmMuZGlzYWJsZVRyYW1wb2xpbmVJZk5lY2Vzc2FyeSgpO1xuICAgIH1cbn07XG5cblByb21pc2UuaGFzTG9uZ1N0YWNrVHJhY2VzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjb25maWcubG9uZ1N0YWNrVHJhY2VzICYmIGxvbmdTdGFja1RyYWNlc0lzU3VwcG9ydGVkKCk7XG59O1xuXG52YXIgZmlyZURvbUV2ZW50ID0gKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgQ3VzdG9tRXZlbnQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7XG4gICAgICAgICAgICB1dGlsLmdsb2JhbC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihuYW1lLCBldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBkb21FdmVudCA9IG5ldyBDdXN0b21FdmVudChuYW1lLnRvTG93ZXJDYXNlKCksIHtcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiAhdXRpbC5nbG9iYWwuZGlzcGF0Y2hFdmVudChkb21FdmVudCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBFdmVudCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBuZXcgRXZlbnQoXCJDdXN0b21FdmVudFwiKTtcbiAgICAgICAgICAgIHV0aWwuZ2xvYmFsLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG5hbWUsIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvbUV2ZW50ID0gbmV3IEV2ZW50KG5hbWUudG9Mb3dlckNhc2UoKSwge1xuICAgICAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZG9tRXZlbnQuZGV0YWlsID0gZXZlbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuICF1dGlsLmdsb2JhbC5kaXNwYXRjaEV2ZW50KGRvbUV2ZW50KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIkN1c3RvbUV2ZW50XCIpO1xuICAgICAgICAgICAgZXZlbnQuaW5pdEN1c3RvbUV2ZW50KFwidGVzdGluZ3RoZWV2ZW50XCIsIGZhbHNlLCB0cnVlLCB7fSk7XG4gICAgICAgICAgICB1dGlsLmdsb2JhbC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihuYW1lLCBldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBkb21FdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7XG4gICAgICAgICAgICAgICAgZG9tRXZlbnQuaW5pdEN1c3RvbUV2ZW50KG5hbWUudG9Mb3dlckNhc2UoKSwgZmFsc2UsIHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gIXV0aWwuZ2xvYmFsLmRpc3BhdGNoRXZlbnQoZG9tRXZlbnQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbn0pKCk7XG5cbnZhciBmaXJlR2xvYmFsRXZlbnQgPSAoZnVuY3Rpb24oKSB7XG4gICAgaWYgKHV0aWwuaXNOb2RlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9jZXNzLmVtaXQuYXBwbHkocHJvY2VzcywgYXJndW1lbnRzKTtcbiAgICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXV0aWwuZ2xvYmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgdmFyIG1ldGhvZE5hbWUgPSBcIm9uXCIgKyBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB2YXIgbWV0aG9kID0gdXRpbC5nbG9iYWxbbWV0aG9kTmFtZV07XG4gICAgICAgICAgICBpZiAoIW1ldGhvZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgbWV0aG9kLmFwcGx5KHV0aWwuZ2xvYmFsLCBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgfVxufSkoKTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVQcm9taXNlTGlmZWN5Y2xlRXZlbnRPYmplY3QobmFtZSwgcHJvbWlzZSkge1xuICAgIHJldHVybiB7cHJvbWlzZTogcHJvbWlzZX07XG59XG5cbnZhciBldmVudFRvT2JqZWN0R2VuZXJhdG9yID0ge1xuICAgIHByb21pc2VDcmVhdGVkOiBnZW5lcmF0ZVByb21pc2VMaWZlY3ljbGVFdmVudE9iamVjdCxcbiAgICBwcm9taXNlRnVsZmlsbGVkOiBnZW5lcmF0ZVByb21pc2VMaWZlY3ljbGVFdmVudE9iamVjdCxcbiAgICBwcm9taXNlUmVqZWN0ZWQ6IGdlbmVyYXRlUHJvbWlzZUxpZmVjeWNsZUV2ZW50T2JqZWN0LFxuICAgIHByb21pc2VSZXNvbHZlZDogZ2VuZXJhdGVQcm9taXNlTGlmZWN5Y2xlRXZlbnRPYmplY3QsXG4gICAgcHJvbWlzZUNhbmNlbGxlZDogZ2VuZXJhdGVQcm9taXNlTGlmZWN5Y2xlRXZlbnRPYmplY3QsXG4gICAgcHJvbWlzZUNoYWluZWQ6IGZ1bmN0aW9uKG5hbWUsIHByb21pc2UsIGNoaWxkKSB7XG4gICAgICAgIHJldHVybiB7cHJvbWlzZTogcHJvbWlzZSwgY2hpbGQ6IGNoaWxkfTtcbiAgICB9LFxuICAgIHdhcm5pbmc6IGZ1bmN0aW9uKG5hbWUsIHdhcm5pbmcpIHtcbiAgICAgICAgcmV0dXJuIHt3YXJuaW5nOiB3YXJuaW5nfTtcbiAgICB9LFxuICAgIHVuaGFuZGxlZFJlamVjdGlvbjogZnVuY3Rpb24gKG5hbWUsIHJlYXNvbiwgcHJvbWlzZSkge1xuICAgICAgICByZXR1cm4ge3JlYXNvbjogcmVhc29uLCBwcm9taXNlOiBwcm9taXNlfTtcbiAgICB9LFxuICAgIHJlamVjdGlvbkhhbmRsZWQ6IGdlbmVyYXRlUHJvbWlzZUxpZmVjeWNsZUV2ZW50T2JqZWN0XG59O1xuXG52YXIgYWN0aXZlRmlyZUV2ZW50ID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgZ2xvYmFsRXZlbnRGaXJlZCA9IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICAgIGdsb2JhbEV2ZW50RmlyZWQgPSBmaXJlR2xvYmFsRXZlbnQuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGFzeW5jLnRocm93TGF0ZXIoZSk7XG4gICAgICAgIGdsb2JhbEV2ZW50RmlyZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHZhciBkb21FdmVudEZpcmVkID0gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgZG9tRXZlbnRGaXJlZCA9IGZpcmVEb21FdmVudChuYW1lLFxuICAgICAgICAgICAgICAgICAgICBldmVudFRvT2JqZWN0R2VuZXJhdG9yW25hbWVdLmFwcGx5KG51bGwsIGFyZ3VtZW50cykpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgYXN5bmMudGhyb3dMYXRlcihlKTtcbiAgICAgICAgZG9tRXZlbnRGaXJlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRvbUV2ZW50RmlyZWQgfHwgZ2xvYmFsRXZlbnRGaXJlZDtcbn07XG5cblByb21pc2UuY29uZmlnID0gZnVuY3Rpb24ob3B0cykge1xuICAgIG9wdHMgPSBPYmplY3Qob3B0cyk7XG4gICAgaWYgKFwibG9uZ1N0YWNrVHJhY2VzXCIgaW4gb3B0cykge1xuICAgICAgICBpZiAob3B0cy5sb25nU3RhY2tUcmFjZXMpIHtcbiAgICAgICAgICAgIFByb21pc2UubG9uZ1N0YWNrVHJhY2VzKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIW9wdHMubG9uZ1N0YWNrVHJhY2VzICYmIFByb21pc2UuaGFzTG9uZ1N0YWNrVHJhY2VzKCkpIHtcbiAgICAgICAgICAgIGRpc2FibGVMb25nU3RhY2tUcmFjZXMoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoXCJ3YXJuaW5nc1wiIGluIG9wdHMpIHtcbiAgICAgICAgdmFyIHdhcm5pbmdzT3B0aW9uID0gb3B0cy53YXJuaW5ncztcbiAgICAgICAgY29uZmlnLndhcm5pbmdzID0gISF3YXJuaW5nc09wdGlvbjtcbiAgICAgICAgd0ZvcmdvdHRlblJldHVybiA9IGNvbmZpZy53YXJuaW5ncztcblxuICAgICAgICBpZiAodXRpbC5pc09iamVjdCh3YXJuaW5nc09wdGlvbikpIHtcbiAgICAgICAgICAgIGlmIChcIndGb3Jnb3R0ZW5SZXR1cm5cIiBpbiB3YXJuaW5nc09wdGlvbikge1xuICAgICAgICAgICAgICAgIHdGb3Jnb3R0ZW5SZXR1cm4gPSAhIXdhcm5pbmdzT3B0aW9uLndGb3Jnb3R0ZW5SZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKFwiY2FuY2VsbGF0aW9uXCIgaW4gb3B0cyAmJiBvcHRzLmNhbmNlbGxhdGlvbiAmJiAhY29uZmlnLmNhbmNlbGxhdGlvbikge1xuICAgICAgICBpZiAoYXN5bmMuaGF2ZUl0ZW1zUXVldWVkKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBcImNhbm5vdCBlbmFibGUgY2FuY2VsbGF0aW9uIGFmdGVyIHByb21pc2VzIGFyZSBpbiB1c2VcIik7XG4gICAgICAgIH1cbiAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX2NsZWFyQ2FuY2VsbGF0aW9uRGF0YSA9XG4gICAgICAgICAgICBjYW5jZWxsYXRpb25DbGVhckNhbmNlbGxhdGlvbkRhdGE7XG4gICAgICAgIFByb21pc2UucHJvdG90eXBlLl9wcm9wYWdhdGVGcm9tID0gY2FuY2VsbGF0aW9uUHJvcGFnYXRlRnJvbTtcbiAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuX29uQ2FuY2VsID0gY2FuY2VsbGF0aW9uT25DYW5jZWw7XG4gICAgICAgIFByb21pc2UucHJvdG90eXBlLl9zZXRPbkNhbmNlbCA9IGNhbmNlbGxhdGlvblNldE9uQ2FuY2VsO1xuICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fYXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2sgPVxuICAgICAgICAgICAgY2FuY2VsbGF0aW9uQXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2s7XG4gICAgICAgIFByb21pc2UucHJvdG90eXBlLl9leGVjdXRlID0gY2FuY2VsbGF0aW9uRXhlY3V0ZTtcbiAgICAgICAgcHJvcGFnYXRlRnJvbUZ1bmN0aW9uID0gY2FuY2VsbGF0aW9uUHJvcGFnYXRlRnJvbTtcbiAgICAgICAgY29uZmlnLmNhbmNlbGxhdGlvbiA9IHRydWU7XG4gICAgfVxuICAgIGlmIChcIm1vbml0b3JpbmdcIiBpbiBvcHRzKSB7XG4gICAgICAgIGlmIChvcHRzLm1vbml0b3JpbmcgJiYgIWNvbmZpZy5tb25pdG9yaW5nKSB7XG4gICAgICAgICAgICBjb25maWcubW9uaXRvcmluZyA9IHRydWU7XG4gICAgICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fZmlyZUV2ZW50ID0gYWN0aXZlRmlyZUV2ZW50O1xuICAgICAgICB9IGVsc2UgaWYgKCFvcHRzLm1vbml0b3JpbmcgJiYgY29uZmlnLm1vbml0b3JpbmcpIHtcbiAgICAgICAgICAgIGNvbmZpZy5tb25pdG9yaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBQcm9taXNlLnByb3RvdHlwZS5fZmlyZUV2ZW50ID0gZGVmYXVsdEZpcmVFdmVudDtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmZ1bmN0aW9uIGRlZmF1bHRGaXJlRXZlbnQoKSB7IHJldHVybiBmYWxzZTsgfVxuXG5Qcm9taXNlLnByb3RvdHlwZS5fZmlyZUV2ZW50ID0gZGVmYXVsdEZpcmVFdmVudDtcblByb21pc2UucHJvdG90eXBlLl9leGVjdXRlID0gZnVuY3Rpb24oZXhlY3V0b3IsIHJlc29sdmUsIHJlamVjdCkge1xuICAgIHRyeSB7XG4gICAgICAgIGV4ZWN1dG9yKHJlc29sdmUsIHJlamVjdCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZTtcbiAgICB9XG59O1xuUHJvbWlzZS5wcm90b3R5cGUuX29uQ2FuY2VsID0gZnVuY3Rpb24gKCkge307XG5Qcm9taXNlLnByb3RvdHlwZS5fc2V0T25DYW5jZWwgPSBmdW5jdGlvbiAoaGFuZGxlcikgeyA7IH07XG5Qcm9taXNlLnByb3RvdHlwZS5fYXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2sgPSBmdW5jdGlvbihvbkNhbmNlbCkge1xuICAgIDtcbn07XG5Qcm9taXNlLnByb3RvdHlwZS5fY2FwdHVyZVN0YWNrVHJhY2UgPSBmdW5jdGlvbiAoKSB7fTtcblByb21pc2UucHJvdG90eXBlLl9hdHRhY2hFeHRyYVRyYWNlID0gZnVuY3Rpb24gKCkge307XG5Qcm9taXNlLnByb3RvdHlwZS5fY2xlYXJDYW5jZWxsYXRpb25EYXRhID0gZnVuY3Rpb24oKSB7fTtcblByb21pc2UucHJvdG90eXBlLl9wcm9wYWdhdGVGcm9tID0gZnVuY3Rpb24gKHBhcmVudCwgZmxhZ3MpIHtcbiAgICA7XG4gICAgO1xufTtcblxuZnVuY3Rpb24gY2FuY2VsbGF0aW9uRXhlY3V0ZShleGVjdXRvciwgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIHByb21pc2UgPSB0aGlzO1xuICAgIHRyeSB7XG4gICAgICAgIGV4ZWN1dG9yKHJlc29sdmUsIHJlamVjdCwgZnVuY3Rpb24ob25DYW5jZWwpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25DYW5jZWwgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJvbkNhbmNlbCBtdXN0IGJlIGEgZnVuY3Rpb24sIGdvdDogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbC50b1N0cmluZyhvbkNhbmNlbCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvbWlzZS5fYXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2sob25DYW5jZWwpO1xuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY2FuY2VsbGF0aW9uQXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2sob25DYW5jZWwpIHtcbiAgICBpZiAoIXRoaXMuX2lzQ2FuY2VsbGFibGUoKSkgcmV0dXJuIHRoaXM7XG5cbiAgICB2YXIgcHJldmlvdXNPbkNhbmNlbCA9IHRoaXMuX29uQ2FuY2VsKCk7XG4gICAgaWYgKHByZXZpb3VzT25DYW5jZWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodXRpbC5pc0FycmF5KHByZXZpb3VzT25DYW5jZWwpKSB7XG4gICAgICAgICAgICBwcmV2aW91c09uQ2FuY2VsLnB1c2gob25DYW5jZWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc2V0T25DYW5jZWwoW3ByZXZpb3VzT25DYW5jZWwsIG9uQ2FuY2VsXSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zZXRPbkNhbmNlbChvbkNhbmNlbCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjYW5jZWxsYXRpb25PbkNhbmNlbCgpIHtcbiAgICByZXR1cm4gdGhpcy5fb25DYW5jZWxGaWVsZDtcbn1cblxuZnVuY3Rpb24gY2FuY2VsbGF0aW9uU2V0T25DYW5jZWwob25DYW5jZWwpIHtcbiAgICB0aGlzLl9vbkNhbmNlbEZpZWxkID0gb25DYW5jZWw7XG59XG5cbmZ1bmN0aW9uIGNhbmNlbGxhdGlvbkNsZWFyQ2FuY2VsbGF0aW9uRGF0YSgpIHtcbiAgICB0aGlzLl9jYW5jZWxsYXRpb25QYXJlbnQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fb25DYW5jZWxGaWVsZCA9IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gY2FuY2VsbGF0aW9uUHJvcGFnYXRlRnJvbShwYXJlbnQsIGZsYWdzKSB7XG4gICAgaWYgKChmbGFncyAmIDEpICE9PSAwKSB7XG4gICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvblBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdmFyIGJyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwgPSBwYXJlbnQuX2JyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWw7XG4gICAgICAgIGlmIChicmFuY2hlc1JlbWFpbmluZ1RvQ2FuY2VsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGJyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudC5fYnJhbmNoZXNSZW1haW5pbmdUb0NhbmNlbCA9IGJyYW5jaGVzUmVtYWluaW5nVG9DYW5jZWwgKyAxO1xuICAgIH1cbiAgICBpZiAoKGZsYWdzICYgMikgIT09IDAgJiYgcGFyZW50Ll9pc0JvdW5kKCkpIHtcbiAgICAgICAgdGhpcy5fc2V0Qm91bmRUbyhwYXJlbnQuX2JvdW5kVG8pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYmluZGluZ1Byb3BhZ2F0ZUZyb20ocGFyZW50LCBmbGFncykge1xuICAgIGlmICgoZmxhZ3MgJiAyKSAhPT0gMCAmJiBwYXJlbnQuX2lzQm91bmQoKSkge1xuICAgICAgICB0aGlzLl9zZXRCb3VuZFRvKHBhcmVudC5fYm91bmRUbyk7XG4gICAgfVxufVxudmFyIHByb3BhZ2F0ZUZyb21GdW5jdGlvbiA9IGJpbmRpbmdQcm9wYWdhdGVGcm9tO1xuXG5mdW5jdGlvbiBib3VuZFZhbHVlRnVuY3Rpb24oKSB7XG4gICAgdmFyIHJldCA9IHRoaXMuX2JvdW5kVG87XG4gICAgaWYgKHJldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChyZXQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICBpZiAocmV0LmlzRnVsZmlsbGVkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0LnZhbHVlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gbG9uZ1N0YWNrVHJhY2VzQ2FwdHVyZVN0YWNrVHJhY2UoKSB7XG4gICAgdGhpcy5fdHJhY2UgPSBuZXcgQ2FwdHVyZWRUcmFjZSh0aGlzLl9wZWVrQ29udGV4dCgpKTtcbn1cblxuZnVuY3Rpb24gbG9uZ1N0YWNrVHJhY2VzQXR0YWNoRXh0cmFUcmFjZShlcnJvciwgaWdub3JlU2VsZikge1xuICAgIGlmIChjYW5BdHRhY2hUcmFjZShlcnJvcikpIHtcbiAgICAgICAgdmFyIHRyYWNlID0gdGhpcy5fdHJhY2U7XG4gICAgICAgIGlmICh0cmFjZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoaWdub3JlU2VsZikgdHJhY2UgPSB0cmFjZS5fcGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0cmFjZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0cmFjZS5hdHRhY2hFeHRyYVRyYWNlKGVycm9yKTtcbiAgICAgICAgfSBlbHNlIGlmICghZXJyb3IuX19zdGFja0NsZWFuZWRfXykge1xuICAgICAgICAgICAgdmFyIHBhcnNlZCA9IHBhcnNlU3RhY2tBbmRNZXNzYWdlKGVycm9yKTtcbiAgICAgICAgICAgIHV0aWwubm90RW51bWVyYWJsZVByb3AoZXJyb3IsIFwic3RhY2tcIixcbiAgICAgICAgICAgICAgICBwYXJzZWQubWVzc2FnZSArIFwiXFxuXCIgKyBwYXJzZWQuc3RhY2suam9pbihcIlxcblwiKSk7XG4gICAgICAgICAgICB1dGlsLm5vdEVudW1lcmFibGVQcm9wKGVycm9yLCBcIl9fc3RhY2tDbGVhbmVkX19cIiwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrRm9yZ290dGVuUmV0dXJucyhyZXR1cm5WYWx1ZSwgcHJvbWlzZUNyZWF0ZWQsIG5hbWUsIHByb21pc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50KSB7XG4gICAgaWYgKHJldHVyblZhbHVlID09PSB1bmRlZmluZWQgJiYgcHJvbWlzZUNyZWF0ZWQgIT09IG51bGwgJiZcbiAgICAgICAgd0ZvcmdvdHRlblJldHVybikge1xuICAgICAgICBpZiAocGFyZW50ICE9PSB1bmRlZmluZWQgJiYgcGFyZW50Ll9yZXR1cm5lZE5vblVuZGVmaW5lZCgpKSByZXR1cm47XG4gICAgICAgIGlmICgocHJvbWlzZS5fYml0RmllbGQgJiA2NTUzNSkgPT09IDApIHJldHVybjtcblxuICAgICAgICBpZiAobmFtZSkgbmFtZSA9IG5hbWUgKyBcIiBcIjtcbiAgICAgICAgdmFyIGhhbmRsZXJMaW5lID0gXCJcIjtcbiAgICAgICAgdmFyIGNyZWF0b3JMaW5lID0gXCJcIjtcbiAgICAgICAgaWYgKHByb21pc2VDcmVhdGVkLl90cmFjZSkge1xuICAgICAgICAgICAgdmFyIHRyYWNlTGluZXMgPSBwcm9taXNlQ3JlYXRlZC5fdHJhY2Uuc3RhY2suc3BsaXQoXCJcXG5cIik7XG4gICAgICAgICAgICB2YXIgc3RhY2sgPSBjbGVhblN0YWNrKHRyYWNlTGluZXMpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHN0YWNrLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBzdGFja1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoIW5vZGVGcmFtZVBhdHRlcm4udGVzdChsaW5lKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGluZU1hdGNoZXMgPSBsaW5lLm1hdGNoKHBhcnNlTGluZVBhdHRlcm4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGluZU1hdGNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXJMaW5lICA9IFwiYXQgXCIgKyBsaW5lTWF0Y2hlc1sxXSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI6XCIgKyBsaW5lTWF0Y2hlc1syXSArIFwiOlwiICsgbGluZU1hdGNoZXNbM10gKyBcIiBcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpcnN0VXNlckxpbmUgPSBzdGFja1swXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyYWNlTGluZXMubGVuZ3RoOyArK2kpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodHJhY2VMaW5lc1tpXSA9PT0gZmlyc3RVc2VyTGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRvckxpbmUgPSBcIlxcblwiICsgdHJhY2VMaW5lc1tpIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBtc2cgPSBcImEgcHJvbWlzZSB3YXMgY3JlYXRlZCBpbiBhIFwiICsgbmFtZSArXG4gICAgICAgICAgICBcImhhbmRsZXIgXCIgKyBoYW5kbGVyTGluZSArIFwiYnV0IHdhcyBub3QgcmV0dXJuZWQgZnJvbSBpdCwgXCIgK1xuICAgICAgICAgICAgXCJzZWUgaHR0cDovL2dvby5nbC9yUnFNVXdcIiArXG4gICAgICAgICAgICBjcmVhdG9yTGluZTtcbiAgICAgICAgcHJvbWlzZS5fd2Fybihtc2csIHRydWUsIHByb21pc2VDcmVhdGVkKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRlcHJlY2F0ZWQobmFtZSwgcmVwbGFjZW1lbnQpIHtcbiAgICB2YXIgbWVzc2FnZSA9IG5hbWUgK1xuICAgICAgICBcIiBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgdmVyc2lvbi5cIjtcbiAgICBpZiAocmVwbGFjZW1lbnQpIG1lc3NhZ2UgKz0gXCIgVXNlIFwiICsgcmVwbGFjZW1lbnQgKyBcIiBpbnN0ZWFkLlwiO1xuICAgIHJldHVybiB3YXJuKG1lc3NhZ2UpO1xufVxuXG5mdW5jdGlvbiB3YXJuKG1lc3NhZ2UsIHNob3VsZFVzZU93blRyYWNlLCBwcm9taXNlKSB7XG4gICAgaWYgKCFjb25maWcud2FybmluZ3MpIHJldHVybjtcbiAgICB2YXIgd2FybmluZyA9IG5ldyBXYXJuaW5nKG1lc3NhZ2UpO1xuICAgIHZhciBjdHg7XG4gICAgaWYgKHNob3VsZFVzZU93blRyYWNlKSB7XG4gICAgICAgIHByb21pc2UuX2F0dGFjaEV4dHJhVHJhY2Uod2FybmluZyk7XG4gICAgfSBlbHNlIGlmIChjb25maWcubG9uZ1N0YWNrVHJhY2VzICYmIChjdHggPSBQcm9taXNlLl9wZWVrQ29udGV4dCgpKSkge1xuICAgICAgICBjdHguYXR0YWNoRXh0cmFUcmFjZSh3YXJuaW5nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcGFyc2VkID0gcGFyc2VTdGFja0FuZE1lc3NhZ2Uod2FybmluZyk7XG4gICAgICAgIHdhcm5pbmcuc3RhY2sgPSBwYXJzZWQubWVzc2FnZSArIFwiXFxuXCIgKyBwYXJzZWQuc3RhY2suam9pbihcIlxcblwiKTtcbiAgICB9XG5cbiAgICBpZiAoIWFjdGl2ZUZpcmVFdmVudChcIndhcm5pbmdcIiwgd2FybmluZykpIHtcbiAgICAgICAgZm9ybWF0QW5kTG9nRXJyb3Iod2FybmluZywgXCJcIiwgdHJ1ZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZWNvbnN0cnVjdFN0YWNrKG1lc3NhZ2UsIHN0YWNrcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2tzLmxlbmd0aCAtIDE7ICsraSkge1xuICAgICAgICBzdGFja3NbaV0ucHVzaChcIkZyb20gcHJldmlvdXMgZXZlbnQ6XCIpO1xuICAgICAgICBzdGFja3NbaV0gPSBzdGFja3NbaV0uam9pbihcIlxcblwiKTtcbiAgICB9XG4gICAgaWYgKGkgPCBzdGFja3MubGVuZ3RoKSB7XG4gICAgICAgIHN0YWNrc1tpXSA9IHN0YWNrc1tpXS5qb2luKFwiXFxuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZSArIFwiXFxuXCIgKyBzdGFja3Muam9pbihcIlxcblwiKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlRHVwbGljYXRlT3JFbXB0eUp1bXBzKHN0YWNrcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2tzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChzdGFja3NbaV0ubGVuZ3RoID09PSAwIHx8XG4gICAgICAgICAgICAoKGkgKyAxIDwgc3RhY2tzLmxlbmd0aCkgJiYgc3RhY2tzW2ldWzBdID09PSBzdGFja3NbaSsxXVswXSkpIHtcbiAgICAgICAgICAgIHN0YWNrcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUNvbW1vblJvb3RzKHN0YWNrcykge1xuICAgIHZhciBjdXJyZW50ID0gc3RhY2tzWzBdO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgc3RhY2tzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBwcmV2ID0gc3RhY2tzW2ldO1xuICAgICAgICB2YXIgY3VycmVudExhc3RJbmRleCA9IGN1cnJlbnQubGVuZ3RoIC0gMTtcbiAgICAgICAgdmFyIGN1cnJlbnRMYXN0TGluZSA9IGN1cnJlbnRbY3VycmVudExhc3RJbmRleF07XG4gICAgICAgIHZhciBjb21tb25Sb290TWVldFBvaW50ID0gLTE7XG5cbiAgICAgICAgZm9yICh2YXIgaiA9IHByZXYubGVuZ3RoIC0gMTsgaiA+PSAwOyAtLWopIHtcbiAgICAgICAgICAgIGlmIChwcmV2W2pdID09PSBjdXJyZW50TGFzdExpbmUpIHtcbiAgICAgICAgICAgICAgICBjb21tb25Sb290TWVldFBvaW50ID0gajtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGogPSBjb21tb25Sb290TWVldFBvaW50OyBqID49IDA7IC0taikge1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBwcmV2W2pdO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRbY3VycmVudExhc3RJbmRleF0gPT09IGxpbmUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50LnBvcCgpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRMYXN0SW5kZXgtLTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudCA9IHByZXY7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjbGVhblN0YWNrKHN0YWNrKSB7XG4gICAgdmFyIHJldCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGxpbmUgPSBzdGFja1tpXTtcbiAgICAgICAgdmFyIGlzVHJhY2VMaW5lID0gXCIgICAgKE5vIHN0YWNrIHRyYWNlKVwiID09PSBsaW5lIHx8XG4gICAgICAgICAgICBzdGFja0ZyYW1lUGF0dGVybi50ZXN0KGxpbmUpO1xuICAgICAgICB2YXIgaXNJbnRlcm5hbEZyYW1lID0gaXNUcmFjZUxpbmUgJiYgc2hvdWxkSWdub3JlKGxpbmUpO1xuICAgICAgICBpZiAoaXNUcmFjZUxpbmUgJiYgIWlzSW50ZXJuYWxGcmFtZSkge1xuICAgICAgICAgICAgaWYgKGluZGVudFN0YWNrRnJhbWVzICYmIGxpbmUuY2hhckF0KDApICE9PSBcIiBcIikge1xuICAgICAgICAgICAgICAgIGxpbmUgPSBcIiAgICBcIiArIGxpbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXQucHVzaChsaW5lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBzdGFja0ZyYW1lc0FzQXJyYXkoZXJyb3IpIHtcbiAgICB2YXIgc3RhY2sgPSBlcnJvci5zdGFjay5yZXBsYWNlKC9cXHMrJC9nLCBcIlwiKS5zcGxpdChcIlxcblwiKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBsaW5lID0gc3RhY2tbaV07XG4gICAgICAgIGlmIChcIiAgICAoTm8gc3RhY2sgdHJhY2UpXCIgPT09IGxpbmUgfHwgc3RhY2tGcmFtZVBhdHRlcm4udGVzdChsaW5lKSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGkgPiAwKSB7XG4gICAgICAgIHN0YWNrID0gc3RhY2suc2xpY2UoaSk7XG4gICAgfVxuICAgIHJldHVybiBzdGFjaztcbn1cblxuZnVuY3Rpb24gcGFyc2VTdGFja0FuZE1lc3NhZ2UoZXJyb3IpIHtcbiAgICB2YXIgc3RhY2sgPSBlcnJvci5zdGFjaztcbiAgICB2YXIgbWVzc2FnZSA9IGVycm9yLnRvU3RyaW5nKCk7XG4gICAgc3RhY2sgPSB0eXBlb2Ygc3RhY2sgPT09IFwic3RyaW5nXCIgJiYgc3RhY2subGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgID8gc3RhY2tGcmFtZXNBc0FycmF5KGVycm9yKSA6IFtcIiAgICAoTm8gc3RhY2sgdHJhY2UpXCJdO1xuICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgIHN0YWNrOiBjbGVhblN0YWNrKHN0YWNrKVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEFuZExvZ0Vycm9yKGVycm9yLCB0aXRsZSwgaXNTb2Z0KSB7XG4gICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHZhciBtZXNzYWdlO1xuICAgICAgICBpZiAodXRpbC5pc09iamVjdChlcnJvcikpIHtcbiAgICAgICAgICAgIHZhciBzdGFjayA9IGVycm9yLnN0YWNrO1xuICAgICAgICAgICAgbWVzc2FnZSA9IHRpdGxlICsgZm9ybWF0U3RhY2soc3RhY2ssIGVycm9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSB0aXRsZSArIFN0cmluZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBwcmludFdhcm5pbmcgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgcHJpbnRXYXJuaW5nKG1lc3NhZ2UsIGlzU29mdCk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbnNvbGUubG9nID09PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAgICAgICAgIHR5cGVvZiBjb25zb2xlLmxvZyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgY29uc29sZS5sb2cobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGZpcmVSZWplY3Rpb25FdmVudChuYW1lLCBsb2NhbEhhbmRsZXIsIHJlYXNvbiwgcHJvbWlzZSkge1xuICAgIHZhciBsb2NhbEV2ZW50RmlyZWQgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGxvY2FsSGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBsb2NhbEV2ZW50RmlyZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKG5hbWUgPT09IFwicmVqZWN0aW9uSGFuZGxlZFwiKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxIYW5kbGVyKHByb21pc2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2NhbEhhbmRsZXIocmVhc29uLCBwcm9taXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgYXN5bmMudGhyb3dMYXRlcihlKTtcbiAgICB9XG5cbiAgICBpZiAobmFtZSA9PT0gXCJ1bmhhbmRsZWRSZWplY3Rpb25cIikge1xuICAgICAgICBpZiAoIWFjdGl2ZUZpcmVFdmVudChuYW1lLCByZWFzb24sIHByb21pc2UpICYmICFsb2NhbEV2ZW50RmlyZWQpIHtcbiAgICAgICAgICAgIGZvcm1hdEFuZExvZ0Vycm9yKHJlYXNvbiwgXCJVbmhhbmRsZWQgcmVqZWN0aW9uIFwiKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdGl2ZUZpcmVFdmVudChuYW1lLCBwcm9taXNlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGZvcm1hdE5vbkVycm9yKG9iaikge1xuICAgIHZhciBzdHI7XG4gICAgaWYgKHR5cGVvZiBvYmogPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBzdHIgPSBcIltmdW5jdGlvbiBcIiArXG4gICAgICAgICAgICAob2JqLm5hbWUgfHwgXCJhbm9ueW1vdXNcIikgK1xuICAgICAgICAgICAgXCJdXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc3RyID0gb2JqICYmIHR5cGVvZiBvYmoudG9TdHJpbmcgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgPyBvYmoudG9TdHJpbmcoKSA6IHV0aWwudG9TdHJpbmcob2JqKTtcbiAgICAgICAgdmFyIHJ1c2VsZXNzVG9TdHJpbmcgPSAvXFxbb2JqZWN0IFthLXpBLVowLTkkX10rXFxdLztcbiAgICAgICAgaWYgKHJ1c2VsZXNzVG9TdHJpbmcudGVzdChzdHIpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBuZXdTdHIgPSBKU09OLnN0cmluZ2lmeShvYmopO1xuICAgICAgICAgICAgICAgIHN0ciA9IG5ld1N0cjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoKGUpIHtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzdHIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBzdHIgPSBcIihlbXB0eSBhcnJheSlcIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKFwiKDxcIiArIHNuaXAoc3RyKSArIFwiPiwgbm8gc3RhY2sgdHJhY2UpXCIpO1xufVxuXG5mdW5jdGlvbiBzbmlwKHN0cikge1xuICAgIHZhciBtYXhDaGFycyA9IDQxO1xuICAgIGlmIChzdHIubGVuZ3RoIDwgbWF4Q2hhcnMpIHtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgcmV0dXJuIHN0ci5zdWJzdHIoMCwgbWF4Q2hhcnMgLSAzKSArIFwiLi4uXCI7XG59XG5cbmZ1bmN0aW9uIGxvbmdTdGFja1RyYWNlc0lzU3VwcG9ydGVkKCkge1xuICAgIHJldHVybiB0eXBlb2YgY2FwdHVyZVN0YWNrVHJhY2UgPT09IFwiZnVuY3Rpb25cIjtcbn1cblxudmFyIHNob3VsZElnbm9yZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gZmFsc2U7IH07XG52YXIgcGFyc2VMaW5lSW5mb1JlZ2V4ID0gL1tcXC88XFwoXShbXjpcXC9dKyk6KFxcZCspOig/OlxcZCspXFwpP1xccyokLztcbmZ1bmN0aW9uIHBhcnNlTGluZUluZm8obGluZSkge1xuICAgIHZhciBtYXRjaGVzID0gbGluZS5tYXRjaChwYXJzZUxpbmVJbmZvUmVnZXgpO1xuICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmaWxlTmFtZTogbWF0Y2hlc1sxXSxcbiAgICAgICAgICAgIGxpbmU6IHBhcnNlSW50KG1hdGNoZXNbMl0sIDEwKVxuICAgICAgICB9O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0Qm91bmRzKGZpcnN0TGluZUVycm9yLCBsYXN0TGluZUVycm9yKSB7XG4gICAgaWYgKCFsb25nU3RhY2tUcmFjZXNJc1N1cHBvcnRlZCgpKSByZXR1cm47XG4gICAgdmFyIGZpcnN0U3RhY2tMaW5lcyA9IGZpcnN0TGluZUVycm9yLnN0YWNrLnNwbGl0KFwiXFxuXCIpO1xuICAgIHZhciBsYXN0U3RhY2tMaW5lcyA9IGxhc3RMaW5lRXJyb3Iuc3RhY2suc3BsaXQoXCJcXG5cIik7XG4gICAgdmFyIGZpcnN0SW5kZXggPSAtMTtcbiAgICB2YXIgbGFzdEluZGV4ID0gLTE7XG4gICAgdmFyIGZpcnN0RmlsZU5hbWU7XG4gICAgdmFyIGxhc3RGaWxlTmFtZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpcnN0U3RhY2tMaW5lcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcGFyc2VMaW5lSW5mbyhmaXJzdFN0YWNrTGluZXNbaV0pO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICBmaXJzdEZpbGVOYW1lID0gcmVzdWx0LmZpbGVOYW1lO1xuICAgICAgICAgICAgZmlyc3RJbmRleCA9IHJlc3VsdC5saW5lO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0U3RhY2tMaW5lcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcGFyc2VMaW5lSW5mbyhsYXN0U3RhY2tMaW5lc1tpXSk7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGxhc3RGaWxlTmFtZSA9IHJlc3VsdC5maWxlTmFtZTtcbiAgICAgICAgICAgIGxhc3RJbmRleCA9IHJlc3VsdC5saW5lO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZpcnN0SW5kZXggPCAwIHx8IGxhc3RJbmRleCA8IDAgfHwgIWZpcnN0RmlsZU5hbWUgfHwgIWxhc3RGaWxlTmFtZSB8fFxuICAgICAgICBmaXJzdEZpbGVOYW1lICE9PSBsYXN0RmlsZU5hbWUgfHwgZmlyc3RJbmRleCA+PSBsYXN0SW5kZXgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNob3VsZElnbm9yZSA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgaWYgKGJsdWViaXJkRnJhbWVQYXR0ZXJuLnRlc3QobGluZSkpIHJldHVybiB0cnVlO1xuICAgICAgICB2YXIgaW5mbyA9IHBhcnNlTGluZUluZm8obGluZSk7XG4gICAgICAgIGlmIChpbmZvKSB7XG4gICAgICAgICAgICBpZiAoaW5mby5maWxlTmFtZSA9PT0gZmlyc3RGaWxlTmFtZSAmJlxuICAgICAgICAgICAgICAgIChmaXJzdEluZGV4IDw9IGluZm8ubGluZSAmJiBpbmZvLmxpbmUgPD0gbGFzdEluZGV4KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBDYXB0dXJlZFRyYWNlKHBhcmVudCkge1xuICAgIHRoaXMuX3BhcmVudCA9IHBhcmVudDtcbiAgICB0aGlzLl9wcm9taXNlc0NyZWF0ZWQgPSAwO1xuICAgIHZhciBsZW5ndGggPSB0aGlzLl9sZW5ndGggPSAxICsgKHBhcmVudCA9PT0gdW5kZWZpbmVkID8gMCA6IHBhcmVudC5fbGVuZ3RoKTtcbiAgICBjYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBDYXB0dXJlZFRyYWNlKTtcbiAgICBpZiAobGVuZ3RoID4gMzIpIHRoaXMudW5jeWNsZSgpO1xufVxudXRpbC5pbmhlcml0cyhDYXB0dXJlZFRyYWNlLCBFcnJvcik7XG5Db250ZXh0LkNhcHR1cmVkVHJhY2UgPSBDYXB0dXJlZFRyYWNlO1xuXG5DYXB0dXJlZFRyYWNlLnByb3RvdHlwZS51bmN5Y2xlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxlbmd0aCA9IHRoaXMuX2xlbmd0aDtcbiAgICBpZiAobGVuZ3RoIDwgMikgcmV0dXJuO1xuICAgIHZhciBub2RlcyA9IFtdO1xuICAgIHZhciBzdGFja1RvSW5kZXggPSB7fTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBub2RlID0gdGhpczsgbm9kZSAhPT0gdW5kZWZpbmVkOyArK2kpIHtcbiAgICAgICAgbm9kZXMucHVzaChub2RlKTtcbiAgICAgICAgbm9kZSA9IG5vZGUuX3BhcmVudDtcbiAgICB9XG4gICAgbGVuZ3RoID0gdGhpcy5fbGVuZ3RoID0gaTtcbiAgICBmb3IgKHZhciBpID0gbGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIHN0YWNrID0gbm9kZXNbaV0uc3RhY2s7XG4gICAgICAgIGlmIChzdGFja1RvSW5kZXhbc3RhY2tdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHN0YWNrVG9JbmRleFtzdGFja10gPSBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRTdGFjayA9IG5vZGVzW2ldLnN0YWNrO1xuICAgICAgICB2YXIgaW5kZXggPSBzdGFja1RvSW5kZXhbY3VycmVudFN0YWNrXTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSB1bmRlZmluZWQgJiYgaW5kZXggIT09IGkpIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICBub2Rlc1tpbmRleCAtIDFdLl9wYXJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgbm9kZXNbaW5kZXggLSAxXS5fbGVuZ3RoID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vZGVzW2ldLl9wYXJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBub2Rlc1tpXS5fbGVuZ3RoID0gMTtcbiAgICAgICAgICAgIHZhciBjeWNsZUVkZ2VOb2RlID0gaSA+IDAgPyBub2Rlc1tpIC0gMV0gOiB0aGlzO1xuXG4gICAgICAgICAgICBpZiAoaW5kZXggPCBsZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgY3ljbGVFZGdlTm9kZS5fcGFyZW50ID0gbm9kZXNbaW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICBjeWNsZUVkZ2VOb2RlLl9wYXJlbnQudW5jeWNsZSgpO1xuICAgICAgICAgICAgICAgIGN5Y2xlRWRnZU5vZGUuX2xlbmd0aCA9XG4gICAgICAgICAgICAgICAgICAgIGN5Y2xlRWRnZU5vZGUuX3BhcmVudC5fbGVuZ3RoICsgMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY3ljbGVFZGdlTm9kZS5fcGFyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGN5Y2xlRWRnZU5vZGUuX2xlbmd0aCA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY3VycmVudENoaWxkTGVuZ3RoID0gY3ljbGVFZGdlTm9kZS5fbGVuZ3RoICsgMTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSBpIC0gMjsgaiA+PSAwOyAtLWopIHtcbiAgICAgICAgICAgICAgICBub2Rlc1tqXS5fbGVuZ3RoID0gY3VycmVudENoaWxkTGVuZ3RoO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRDaGlsZExlbmd0aCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuQ2FwdHVyZWRUcmFjZS5wcm90b3R5cGUuYXR0YWNoRXh0cmFUcmFjZSA9IGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgaWYgKGVycm9yLl9fc3RhY2tDbGVhbmVkX18pIHJldHVybjtcbiAgICB0aGlzLnVuY3ljbGUoKTtcbiAgICB2YXIgcGFyc2VkID0gcGFyc2VTdGFja0FuZE1lc3NhZ2UoZXJyb3IpO1xuICAgIHZhciBtZXNzYWdlID0gcGFyc2VkLm1lc3NhZ2U7XG4gICAgdmFyIHN0YWNrcyA9IFtwYXJzZWQuc3RhY2tdO1xuXG4gICAgdmFyIHRyYWNlID0gdGhpcztcbiAgICB3aGlsZSAodHJhY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzdGFja3MucHVzaChjbGVhblN0YWNrKHRyYWNlLnN0YWNrLnNwbGl0KFwiXFxuXCIpKSk7XG4gICAgICAgIHRyYWNlID0gdHJhY2UuX3BhcmVudDtcbiAgICB9XG4gICAgcmVtb3ZlQ29tbW9uUm9vdHMoc3RhY2tzKTtcbiAgICByZW1vdmVEdXBsaWNhdGVPckVtcHR5SnVtcHMoc3RhY2tzKTtcbiAgICB1dGlsLm5vdEVudW1lcmFibGVQcm9wKGVycm9yLCBcInN0YWNrXCIsIHJlY29uc3RydWN0U3RhY2sobWVzc2FnZSwgc3RhY2tzKSk7XG4gICAgdXRpbC5ub3RFbnVtZXJhYmxlUHJvcChlcnJvciwgXCJfX3N0YWNrQ2xlYW5lZF9fXCIsIHRydWUpO1xufTtcblxudmFyIGNhcHR1cmVTdGFja1RyYWNlID0gKGZ1bmN0aW9uIHN0YWNrRGV0ZWN0aW9uKCkge1xuICAgIHZhciB2OHN0YWNrRnJhbWVQYXR0ZXJuID0gL15cXHMqYXRcXHMqLztcbiAgICB2YXIgdjhzdGFja0Zvcm1hdHRlciA9IGZ1bmN0aW9uKHN0YWNrLCBlcnJvcikge1xuICAgICAgICBpZiAodHlwZW9mIHN0YWNrID09PSBcInN0cmluZ1wiKSByZXR1cm4gc3RhY2s7XG5cbiAgICAgICAgaWYgKGVycm9yLm5hbWUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgZXJyb3IubWVzc2FnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3IudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm9ybWF0Tm9uRXJyb3IoZXJyb3IpO1xuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIEVycm9yLnN0YWNrVHJhY2VMaW1pdCA9PT0gXCJudW1iZXJcIiAmJlxuICAgICAgICB0eXBlb2YgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBFcnJvci5zdGFja1RyYWNlTGltaXQgKz0gNjtcbiAgICAgICAgc3RhY2tGcmFtZVBhdHRlcm4gPSB2OHN0YWNrRnJhbWVQYXR0ZXJuO1xuICAgICAgICBmb3JtYXRTdGFjayA9IHY4c3RhY2tGb3JtYXR0ZXI7XG4gICAgICAgIHZhciBjYXB0dXJlU3RhY2tUcmFjZSA9IEVycm9yLmNhcHR1cmVTdGFja1RyYWNlO1xuXG4gICAgICAgIHNob3VsZElnbm9yZSA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiBibHVlYmlyZEZyYW1lUGF0dGVybi50ZXN0KGxpbmUpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24ocmVjZWl2ZXIsIGlnbm9yZVVudGlsKSB7XG4gICAgICAgICAgICBFcnJvci5zdGFja1RyYWNlTGltaXQgKz0gNjtcbiAgICAgICAgICAgIGNhcHR1cmVTdGFja1RyYWNlKHJlY2VpdmVyLCBpZ25vcmVVbnRpbCk7XG4gICAgICAgICAgICBFcnJvci5zdGFja1RyYWNlTGltaXQgLT0gNjtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcigpO1xuXG4gICAgaWYgKHR5cGVvZiBlcnIuc3RhY2sgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgZXJyLnN0YWNrLnNwbGl0KFwiXFxuXCIpWzBdLmluZGV4T2YoXCJzdGFja0RldGVjdGlvbkBcIikgPj0gMCkge1xuICAgICAgICBzdGFja0ZyYW1lUGF0dGVybiA9IC9ALztcbiAgICAgICAgZm9ybWF0U3RhY2sgPSB2OHN0YWNrRm9ybWF0dGVyO1xuICAgICAgICBpbmRlbnRTdGFja0ZyYW1lcyA9IHRydWU7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBjYXB0dXJlU3RhY2tUcmFjZShvKSB7XG4gICAgICAgICAgICBvLnN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIGhhc1N0YWNrQWZ0ZXJUaHJvdztcbiAgICB0cnkgeyB0aHJvdyBuZXcgRXJyb3IoKTsgfVxuICAgIGNhdGNoKGUpIHtcbiAgICAgICAgaGFzU3RhY2tBZnRlclRocm93ID0gKFwic3RhY2tcIiBpbiBlKTtcbiAgICB9XG4gICAgaWYgKCEoXCJzdGFja1wiIGluIGVycikgJiYgaGFzU3RhY2tBZnRlclRocm93ICYmXG4gICAgICAgIHR5cGVvZiBFcnJvci5zdGFja1RyYWNlTGltaXQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgc3RhY2tGcmFtZVBhdHRlcm4gPSB2OHN0YWNrRnJhbWVQYXR0ZXJuO1xuICAgICAgICBmb3JtYXRTdGFjayA9IHY4c3RhY2tGb3JtYXR0ZXI7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBjYXB0dXJlU3RhY2tUcmFjZShvKSB7XG4gICAgICAgICAgICBFcnJvci5zdGFja1RyYWNlTGltaXQgKz0gNjtcbiAgICAgICAgICAgIHRyeSB7IHRocm93IG5ldyBFcnJvcigpOyB9XG4gICAgICAgICAgICBjYXRjaChlKSB7IG8uc3RhY2sgPSBlLnN0YWNrOyB9XG4gICAgICAgICAgICBFcnJvci5zdGFja1RyYWNlTGltaXQgLT0gNjtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmb3JtYXRTdGFjayA9IGZ1bmN0aW9uKHN0YWNrLCBlcnJvcikge1xuICAgICAgICBpZiAodHlwZW9mIHN0YWNrID09PSBcInN0cmluZ1wiKSByZXR1cm4gc3RhY2s7XG5cbiAgICAgICAgaWYgKCh0eXBlb2YgZXJyb3IgPT09IFwib2JqZWN0XCIgfHxcbiAgICAgICAgICAgIHR5cGVvZiBlcnJvciA9PT0gXCJmdW5jdGlvblwiKSAmJlxuICAgICAgICAgICAgZXJyb3IubmFtZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBlcnJvci5tZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvci50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmb3JtYXROb25FcnJvcihlcnJvcik7XG4gICAgfTtcblxuICAgIHJldHVybiBudWxsO1xuXG59KShbXSk7XG5cbmlmICh0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgY29uc29sZS53YXJuICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgIH07XG4gICAgaWYgKHV0aWwuaXNOb2RlICYmIHByb2Nlc3Muc3RkZXJyLmlzVFRZKSB7XG4gICAgICAgIHByaW50V2FybmluZyA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGlzU29mdCkge1xuICAgICAgICAgICAgdmFyIGNvbG9yID0gaXNTb2Z0ID8gXCJcXHUwMDFiWzMzbVwiIDogXCJcXHUwMDFiWzMxbVwiO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGNvbG9yICsgbWVzc2FnZSArIFwiXFx1MDAxYlswbVxcblwiKTtcbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKCF1dGlsLmlzTm9kZSAmJiB0eXBlb2YgKG5ldyBFcnJvcigpLnN0YWNrKSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBwcmludFdhcm5pbmcgPSBmdW5jdGlvbihtZXNzYWdlLCBpc1NvZnQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIiVjXCIgKyBtZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNTb2Z0ID8gXCJjb2xvcjogZGFya29yYW5nZVwiIDogXCJjb2xvcjogcmVkXCIpO1xuICAgICAgICB9O1xuICAgIH1cbn1cblxudmFyIGNvbmZpZyA9IHtcbiAgICB3YXJuaW5nczogd2FybmluZ3MsXG4gICAgbG9uZ1N0YWNrVHJhY2VzOiBmYWxzZSxcbiAgICBjYW5jZWxsYXRpb246IGZhbHNlLFxuICAgIG1vbml0b3Jpbmc6IGZhbHNlXG59O1xuXG5pZiAobG9uZ1N0YWNrVHJhY2VzKSBQcm9taXNlLmxvbmdTdGFja1RyYWNlcygpO1xuXG5yZXR1cm4ge1xuICAgIGxvbmdTdGFja1RyYWNlczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBjb25maWcubG9uZ1N0YWNrVHJhY2VzO1xuICAgIH0sXG4gICAgd2FybmluZ3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gY29uZmlnLndhcm5pbmdzO1xuICAgIH0sXG4gICAgY2FuY2VsbGF0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZy5jYW5jZWxsYXRpb247XG4gICAgfSxcbiAgICBtb25pdG9yaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZy5tb25pdG9yaW5nO1xuICAgIH0sXG4gICAgcHJvcGFnYXRlRnJvbUZ1bmN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHByb3BhZ2F0ZUZyb21GdW5jdGlvbjtcbiAgICB9LFxuICAgIGJvdW5kVmFsdWVGdW5jdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBib3VuZFZhbHVlRnVuY3Rpb247XG4gICAgfSxcbiAgICBjaGVja0ZvcmdvdHRlblJldHVybnM6IGNoZWNrRm9yZ290dGVuUmV0dXJucyxcbiAgICBzZXRCb3VuZHM6IHNldEJvdW5kcyxcbiAgICB3YXJuOiB3YXJuLFxuICAgIGRlcHJlY2F0ZWQ6IGRlcHJlY2F0ZWQsXG4gICAgQ2FwdHVyZWRUcmFjZTogQ2FwdHVyZWRUcmFjZSxcbiAgICBmaXJlRG9tRXZlbnQ6IGZpcmVEb21FdmVudCxcbiAgICBmaXJlR2xvYmFsRXZlbnQ6IGZpcmVHbG9iYWxFdmVudFxufTtcbn07XG5cbn0se1wiLi9lcnJvcnNcIjoxMixcIi4vdXRpbFwiOjM2fV0sMTA6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UpIHtcbmZ1bmN0aW9uIHJldHVybmVyKCkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlO1xufVxuZnVuY3Rpb24gdGhyb3dlcigpIHtcbiAgICB0aHJvdyB0aGlzLnJlYXNvbjtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGVbXCJyZXR1cm5cIl0gPVxuUHJvbWlzZS5wcm90b3R5cGUudGhlblJldHVybiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHZhbHVlLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucygpO1xuICAgIHJldHVybiB0aGlzLl90aGVuKFxuICAgICAgICByZXR1cm5lciwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHt2YWx1ZTogdmFsdWV9LCB1bmRlZmluZWQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGVbXCJ0aHJvd1wiXSA9XG5Qcm9taXNlLnByb3RvdHlwZS50aGVuVGhyb3cgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RoZW4oXG4gICAgICAgIHRocm93ZXIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB7cmVhc29uOiByZWFzb259LCB1bmRlZmluZWQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2hUaHJvdyA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aGVuKFxuICAgICAgICAgICAgdW5kZWZpbmVkLCB0aHJvd2VyLCB1bmRlZmluZWQsIHtyZWFzb246IHJlYXNvbn0sIHVuZGVmaW5lZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIF9yZWFzb24gPSBhcmd1bWVudHNbMV07XG4gICAgICAgIHZhciBoYW5kbGVyID0gZnVuY3Rpb24oKSB7dGhyb3cgX3JlYXNvbjt9O1xuICAgICAgICByZXR1cm4gdGhpcy5jYXVnaHQocmVhc29uLCBoYW5kbGVyKTtcbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5jYXRjaFJldHVybiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkgdmFsdWUuc3VwcHJlc3NVbmhhbmRsZWRSZWplY3Rpb25zKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl90aGVuKFxuICAgICAgICAgICAgdW5kZWZpbmVkLCByZXR1cm5lciwgdW5kZWZpbmVkLCB7dmFsdWU6IHZhbHVlfSwgdW5kZWZpbmVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgX3ZhbHVlID0gYXJndW1lbnRzWzFdO1xuICAgICAgICBpZiAoX3ZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkgX3ZhbHVlLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucygpO1xuICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uKCkge3JldHVybiBfdmFsdWU7fTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2F1Z2h0KHZhbHVlLCBoYW5kbGVyKTtcbiAgICB9XG59O1xufTtcblxufSx7fV0sMTE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIElOVEVSTkFMKSB7XG52YXIgUHJvbWlzZVJlZHVjZSA9IFByb21pc2UucmVkdWNlO1xudmFyIFByb21pc2VBbGwgPSBQcm9taXNlLmFsbDtcblxuZnVuY3Rpb24gcHJvbWlzZUFsbFRoaXMoKSB7XG4gICAgcmV0dXJuIFByb21pc2VBbGwodGhpcyk7XG59XG5cbmZ1bmN0aW9uIFByb21pc2VNYXBTZXJpZXMocHJvbWlzZXMsIGZuKSB7XG4gICAgcmV0dXJuIFByb21pc2VSZWR1Y2UocHJvbWlzZXMsIGZuLCBJTlRFUk5BTCwgSU5URVJOQUwpO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS5lYWNoID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgcmV0dXJuIFByb21pc2VSZWR1Y2UodGhpcywgZm4sIElOVEVSTkFMLCAwKVxuICAgICAgICAgICAgICAuX3RoZW4ocHJvbWlzZUFsbFRoaXMsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0aGlzLCB1bmRlZmluZWQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUubWFwU2VyaWVzID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgcmV0dXJuIFByb21pc2VSZWR1Y2UodGhpcywgZm4sIElOVEVSTkFMLCBJTlRFUk5BTCk7XG59O1xuXG5Qcm9taXNlLmVhY2ggPSBmdW5jdGlvbiAocHJvbWlzZXMsIGZuKSB7XG4gICAgcmV0dXJuIFByb21pc2VSZWR1Y2UocHJvbWlzZXMsIGZuLCBJTlRFUk5BTCwgMClcbiAgICAgICAgICAgICAgLl90aGVuKHByb21pc2VBbGxUaGlzLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgcHJvbWlzZXMsIHVuZGVmaW5lZCk7XG59O1xuXG5Qcm9taXNlLm1hcFNlcmllcyA9IFByb21pc2VNYXBTZXJpZXM7XG59O1xuXG5cbn0se31dLDEyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xudmFyIGVzNSA9IF9kZXJlcV8oXCIuL2VzNVwiKTtcbnZhciBPYmplY3RmcmVlemUgPSBlczUuZnJlZXplO1xudmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xudmFyIGluaGVyaXRzID0gdXRpbC5pbmhlcml0cztcbnZhciBub3RFbnVtZXJhYmxlUHJvcCA9IHV0aWwubm90RW51bWVyYWJsZVByb3A7XG5cbmZ1bmN0aW9uIHN1YkVycm9yKG5hbWVQcm9wZXJ0eSwgZGVmYXVsdE1lc3NhZ2UpIHtcbiAgICBmdW5jdGlvbiBTdWJFcnJvcihtZXNzYWdlKSB7XG4gICAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTdWJFcnJvcikpIHJldHVybiBuZXcgU3ViRXJyb3IobWVzc2FnZSk7XG4gICAgICAgIG5vdEVudW1lcmFibGVQcm9wKHRoaXMsIFwibWVzc2FnZVwiLFxuICAgICAgICAgICAgdHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgPyBtZXNzYWdlIDogZGVmYXVsdE1lc3NhZ2UpO1xuICAgICAgICBub3RFbnVtZXJhYmxlUHJvcCh0aGlzLCBcIm5hbWVcIiwgbmFtZVByb3BlcnR5KTtcbiAgICAgICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIEVycm9yLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5oZXJpdHMoU3ViRXJyb3IsIEVycm9yKTtcbiAgICByZXR1cm4gU3ViRXJyb3I7XG59XG5cbnZhciBfVHlwZUVycm9yLCBfUmFuZ2VFcnJvcjtcbnZhciBXYXJuaW5nID0gc3ViRXJyb3IoXCJXYXJuaW5nXCIsIFwid2FybmluZ1wiKTtcbnZhciBDYW5jZWxsYXRpb25FcnJvciA9IHN1YkVycm9yKFwiQ2FuY2VsbGF0aW9uRXJyb3JcIiwgXCJjYW5jZWxsYXRpb24gZXJyb3JcIik7XG52YXIgVGltZW91dEVycm9yID0gc3ViRXJyb3IoXCJUaW1lb3V0RXJyb3JcIiwgXCJ0aW1lb3V0IGVycm9yXCIpO1xudmFyIEFnZ3JlZ2F0ZUVycm9yID0gc3ViRXJyb3IoXCJBZ2dyZWdhdGVFcnJvclwiLCBcImFnZ3JlZ2F0ZSBlcnJvclwiKTtcbnRyeSB7XG4gICAgX1R5cGVFcnJvciA9IFR5cGVFcnJvcjtcbiAgICBfUmFuZ2VFcnJvciA9IFJhbmdlRXJyb3I7XG59IGNhdGNoKGUpIHtcbiAgICBfVHlwZUVycm9yID0gc3ViRXJyb3IoXCJUeXBlRXJyb3JcIiwgXCJ0eXBlIGVycm9yXCIpO1xuICAgIF9SYW5nZUVycm9yID0gc3ViRXJyb3IoXCJSYW5nZUVycm9yXCIsIFwicmFuZ2UgZXJyb3JcIik7XG59XG5cbnZhciBtZXRob2RzID0gKFwiam9pbiBwb3AgcHVzaCBzaGlmdCB1bnNoaWZ0IHNsaWNlIGZpbHRlciBmb3JFYWNoIHNvbWUgXCIgK1xuICAgIFwiZXZlcnkgbWFwIGluZGV4T2YgbGFzdEluZGV4T2YgcmVkdWNlIHJlZHVjZVJpZ2h0IHNvcnQgcmV2ZXJzZVwiKS5zcGxpdChcIiBcIik7XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgbWV0aG9kcy5sZW5ndGg7ICsraSkge1xuICAgIGlmICh0eXBlb2YgQXJyYXkucHJvdG90eXBlW21ldGhvZHNbaV1dID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgQWdncmVnYXRlRXJyb3IucHJvdG90eXBlW21ldGhvZHNbaV1dID0gQXJyYXkucHJvdG90eXBlW21ldGhvZHNbaV1dO1xuICAgIH1cbn1cblxuZXM1LmRlZmluZVByb3BlcnR5KEFnZ3JlZ2F0ZUVycm9yLnByb3RvdHlwZSwgXCJsZW5ndGhcIiwge1xuICAgIHZhbHVlOiAwLFxuICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgd3JpdGFibGU6IHRydWUsXG4gICAgZW51bWVyYWJsZTogdHJ1ZVxufSk7XG5BZ2dyZWdhdGVFcnJvci5wcm90b3R5cGVbXCJpc09wZXJhdGlvbmFsXCJdID0gdHJ1ZTtcbnZhciBsZXZlbCA9IDA7XG5BZ2dyZWdhdGVFcnJvci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5kZW50ID0gQXJyYXkobGV2ZWwgKiA0ICsgMSkuam9pbihcIiBcIik7XG4gICAgdmFyIHJldCA9IFwiXFxuXCIgKyBpbmRlbnQgKyBcIkFnZ3JlZ2F0ZUVycm9yIG9mOlwiICsgXCJcXG5cIjtcbiAgICBsZXZlbCsrO1xuICAgIGluZGVudCA9IEFycmF5KGxldmVsICogNCArIDEpLmpvaW4oXCIgXCIpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgc3RyID0gdGhpc1tpXSA9PT0gdGhpcyA/IFwiW0NpcmN1bGFyIEFnZ3JlZ2F0ZUVycm9yXVwiIDogdGhpc1tpXSArIFwiXCI7XG4gICAgICAgIHZhciBsaW5lcyA9IHN0ci5zcGxpdChcIlxcblwiKTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsaW5lcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgbGluZXNbal0gPSBpbmRlbnQgKyBsaW5lc1tqXTtcbiAgICAgICAgfVxuICAgICAgICBzdHIgPSBsaW5lcy5qb2luKFwiXFxuXCIpO1xuICAgICAgICByZXQgKz0gc3RyICsgXCJcXG5cIjtcbiAgICB9XG4gICAgbGV2ZWwtLTtcbiAgICByZXR1cm4gcmV0O1xufTtcblxuZnVuY3Rpb24gT3BlcmF0aW9uYWxFcnJvcihtZXNzYWdlKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE9wZXJhdGlvbmFsRXJyb3IpKVxuICAgICAgICByZXR1cm4gbmV3IE9wZXJhdGlvbmFsRXJyb3IobWVzc2FnZSk7XG4gICAgbm90RW51bWVyYWJsZVByb3AodGhpcywgXCJuYW1lXCIsIFwiT3BlcmF0aW9uYWxFcnJvclwiKTtcbiAgICBub3RFbnVtZXJhYmxlUHJvcCh0aGlzLCBcIm1lc3NhZ2VcIiwgbWVzc2FnZSk7XG4gICAgdGhpcy5jYXVzZSA9IG1lc3NhZ2U7XG4gICAgdGhpc1tcImlzT3BlcmF0aW9uYWxcIl0gPSB0cnVlO1xuXG4gICAgaWYgKG1lc3NhZ2UgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBub3RFbnVtZXJhYmxlUHJvcCh0aGlzLCBcIm1lc3NhZ2VcIiwgbWVzc2FnZS5tZXNzYWdlKTtcbiAgICAgICAgbm90RW51bWVyYWJsZVByb3AodGhpcywgXCJzdGFja1wiLCBtZXNzYWdlLnN0YWNrKTtcbiAgICB9IGVsc2UgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpO1xuICAgIH1cblxufVxuaW5oZXJpdHMoT3BlcmF0aW9uYWxFcnJvciwgRXJyb3IpO1xuXG52YXIgZXJyb3JUeXBlcyA9IEVycm9yW1wiX19CbHVlYmlyZEVycm9yVHlwZXNfX1wiXTtcbmlmICghZXJyb3JUeXBlcykge1xuICAgIGVycm9yVHlwZXMgPSBPYmplY3RmcmVlemUoe1xuICAgICAgICBDYW5jZWxsYXRpb25FcnJvcjogQ2FuY2VsbGF0aW9uRXJyb3IsXG4gICAgICAgIFRpbWVvdXRFcnJvcjogVGltZW91dEVycm9yLFxuICAgICAgICBPcGVyYXRpb25hbEVycm9yOiBPcGVyYXRpb25hbEVycm9yLFxuICAgICAgICBSZWplY3Rpb25FcnJvcjogT3BlcmF0aW9uYWxFcnJvcixcbiAgICAgICAgQWdncmVnYXRlRXJyb3I6IEFnZ3JlZ2F0ZUVycm9yXG4gICAgfSk7XG4gICAgZXM1LmRlZmluZVByb3BlcnR5KEVycm9yLCBcIl9fQmx1ZWJpcmRFcnJvclR5cGVzX19cIiwge1xuICAgICAgICB2YWx1ZTogZXJyb3JUeXBlcyxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZVxuICAgIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBFcnJvcjogRXJyb3IsXG4gICAgVHlwZUVycm9yOiBfVHlwZUVycm9yLFxuICAgIFJhbmdlRXJyb3I6IF9SYW5nZUVycm9yLFxuICAgIENhbmNlbGxhdGlvbkVycm9yOiBlcnJvclR5cGVzLkNhbmNlbGxhdGlvbkVycm9yLFxuICAgIE9wZXJhdGlvbmFsRXJyb3I6IGVycm9yVHlwZXMuT3BlcmF0aW9uYWxFcnJvcixcbiAgICBUaW1lb3V0RXJyb3I6IGVycm9yVHlwZXMuVGltZW91dEVycm9yLFxuICAgIEFnZ3JlZ2F0ZUVycm9yOiBlcnJvclR5cGVzLkFnZ3JlZ2F0ZUVycm9yLFxuICAgIFdhcm5pbmc6IFdhcm5pbmdcbn07XG5cbn0se1wiLi9lczVcIjoxMyxcIi4vdXRpbFwiOjM2fV0sMTM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIGlzRVM1ID0gKGZ1bmN0aW9uKCl7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgcmV0dXJuIHRoaXMgPT09IHVuZGVmaW5lZDtcbn0pKCk7XG5cbmlmIChpc0VTNSkge1xuICAgIG1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgICBmcmVlemU6IE9iamVjdC5mcmVlemUsXG4gICAgICAgIGRlZmluZVByb3BlcnR5OiBPYmplY3QuZGVmaW5lUHJvcGVydHksXG4gICAgICAgIGdldERlc2NyaXB0b3I6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gICAgICAgIGtleXM6IE9iamVjdC5rZXlzLFxuICAgICAgICBuYW1lczogT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMsXG4gICAgICAgIGdldFByb3RvdHlwZU9mOiBPYmplY3QuZ2V0UHJvdG90eXBlT2YsXG4gICAgICAgIGlzQXJyYXk6IEFycmF5LmlzQXJyYXksXG4gICAgICAgIGlzRVM1OiBpc0VTNSxcbiAgICAgICAgcHJvcGVydHlJc1dyaXRhYmxlOiBmdW5jdGlvbihvYmosIHByb3ApIHtcbiAgICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIHByb3ApO1xuICAgICAgICAgICAgcmV0dXJuICEhKCFkZXNjcmlwdG9yIHx8IGRlc2NyaXB0b3Iud3JpdGFibGUgfHwgZGVzY3JpcHRvci5zZXQpO1xuICAgICAgICB9XG4gICAgfTtcbn0gZWxzZSB7XG4gICAgdmFyIGhhcyA9IHt9Lmhhc093blByb3BlcnR5O1xuICAgIHZhciBzdHIgPSB7fS50b1N0cmluZztcbiAgICB2YXIgcHJvdG8gPSB7fS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cbiAgICB2YXIgT2JqZWN0S2V5cyA9IGZ1bmN0aW9uIChvKSB7XG4gICAgICAgIHZhciByZXQgPSBbXTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG8pIHtcbiAgICAgICAgICAgIGlmIChoYXMuY2FsbChvLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgcmV0LnB1c2goa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG5cbiAgICB2YXIgT2JqZWN0R2V0RGVzY3JpcHRvciA9IGZ1bmN0aW9uKG8sIGtleSkge1xuICAgICAgICByZXR1cm4ge3ZhbHVlOiBvW2tleV19O1xuICAgIH07XG5cbiAgICB2YXIgT2JqZWN0RGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiAobywga2V5LCBkZXNjKSB7XG4gICAgICAgIG9ba2V5XSA9IGRlc2MudmFsdWU7XG4gICAgICAgIHJldHVybiBvO1xuICAgIH07XG5cbiAgICB2YXIgT2JqZWN0RnJlZXplID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH07XG5cbiAgICB2YXIgT2JqZWN0R2V0UHJvdG90eXBlT2YgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0KG9iaikuY29uc3RydWN0b3IucHJvdG90eXBlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvdG87XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIEFycmF5SXNBcnJheSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBzdHIuY2FsbChvYmopID09PSBcIltvYmplY3QgQXJyYXldXCI7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2goZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIG1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgICBpc0FycmF5OiBBcnJheUlzQXJyYXksXG4gICAgICAgIGtleXM6IE9iamVjdEtleXMsXG4gICAgICAgIG5hbWVzOiBPYmplY3RLZXlzLFxuICAgICAgICBkZWZpbmVQcm9wZXJ0eTogT2JqZWN0RGVmaW5lUHJvcGVydHksXG4gICAgICAgIGdldERlc2NyaXB0b3I6IE9iamVjdEdldERlc2NyaXB0b3IsXG4gICAgICAgIGZyZWV6ZTogT2JqZWN0RnJlZXplLFxuICAgICAgICBnZXRQcm90b3R5cGVPZjogT2JqZWN0R2V0UHJvdG90eXBlT2YsXG4gICAgICAgIGlzRVM1OiBpc0VTNSxcbiAgICAgICAgcHJvcGVydHlJc1dyaXRhYmxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxufSx7fV0sMTQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIElOVEVSTkFMKSB7XG52YXIgUHJvbWlzZU1hcCA9IFByb21pc2UubWFwO1xuXG5Qcm9taXNlLnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbiAoZm4sIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gUHJvbWlzZU1hcCh0aGlzLCBmbiwgb3B0aW9ucywgSU5URVJOQUwpO1xufTtcblxuUHJvbWlzZS5maWx0ZXIgPSBmdW5jdGlvbiAocHJvbWlzZXMsIGZuLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIFByb21pc2VNYXAocHJvbWlzZXMsIGZuLCBvcHRpb25zLCBJTlRFUk5BTCk7XG59O1xufTtcblxufSx7fV0sMTU6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIHRyeUNvbnZlcnRUb1Byb21pc2UpIHtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBDYW5jZWxsYXRpb25FcnJvciA9IFByb21pc2UuQ2FuY2VsbGF0aW9uRXJyb3I7XG52YXIgZXJyb3JPYmogPSB1dGlsLmVycm9yT2JqO1xuXG5mdW5jdGlvbiBQYXNzVGhyb3VnaEhhbmRsZXJDb250ZXh0KHByb21pc2UsIHR5cGUsIGhhbmRsZXIpIHtcbiAgICB0aGlzLnByb21pc2UgPSBwcm9taXNlO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5oYW5kbGVyID0gaGFuZGxlcjtcbiAgICB0aGlzLmNhbGxlZCA9IGZhbHNlO1xuICAgIHRoaXMuY2FuY2VsUHJvbWlzZSA9IG51bGw7XG59XG5cblBhc3NUaHJvdWdoSGFuZGxlckNvbnRleHQucHJvdG90eXBlLmlzRmluYWxseUhhbmRsZXIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlID09PSAwO1xufTtcblxuZnVuY3Rpb24gRmluYWxseUhhbmRsZXJDYW5jZWxSZWFjdGlvbihmaW5hbGx5SGFuZGxlcikge1xuICAgIHRoaXMuZmluYWxseUhhbmRsZXIgPSBmaW5hbGx5SGFuZGxlcjtcbn1cblxuRmluYWxseUhhbmRsZXJDYW5jZWxSZWFjdGlvbi5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIGNoZWNrQ2FuY2VsKHRoaXMuZmluYWxseUhhbmRsZXIpO1xufTtcblxuZnVuY3Rpb24gY2hlY2tDYW5jZWwoY3R4LCByZWFzb24pIHtcbiAgICBpZiAoY3R4LmNhbmNlbFByb21pc2UgIT0gbnVsbCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGN0eC5jYW5jZWxQcm9taXNlLl9yZWplY3QocmVhc29uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN0eC5jYW5jZWxQcm9taXNlLl9jYW5jZWwoKTtcbiAgICAgICAgfVxuICAgICAgICBjdHguY2FuY2VsUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHN1Y2NlZWQoKSB7XG4gICAgcmV0dXJuIGZpbmFsbHlIYW5kbGVyLmNhbGwodGhpcywgdGhpcy5wcm9taXNlLl90YXJnZXQoKS5fc2V0dGxlZFZhbHVlKCkpO1xufVxuZnVuY3Rpb24gZmFpbChyZWFzb24pIHtcbiAgICBpZiAoY2hlY2tDYW5jZWwodGhpcywgcmVhc29uKSkgcmV0dXJuO1xuICAgIGVycm9yT2JqLmUgPSByZWFzb247XG4gICAgcmV0dXJuIGVycm9yT2JqO1xufVxuZnVuY3Rpb24gZmluYWxseUhhbmRsZXIocmVhc29uT3JWYWx1ZSkge1xuICAgIHZhciBwcm9taXNlID0gdGhpcy5wcm9taXNlO1xuICAgIHZhciBoYW5kbGVyID0gdGhpcy5oYW5kbGVyO1xuXG4gICAgaWYgKCF0aGlzLmNhbGxlZCkge1xuICAgICAgICB0aGlzLmNhbGxlZCA9IHRydWU7XG4gICAgICAgIHZhciByZXQgPSB0aGlzLmlzRmluYWxseUhhbmRsZXIoKVxuICAgICAgICAgICAgPyBoYW5kbGVyLmNhbGwocHJvbWlzZS5fYm91bmRWYWx1ZSgpKVxuICAgICAgICAgICAgOiBoYW5kbGVyLmNhbGwocHJvbWlzZS5fYm91bmRWYWx1ZSgpLCByZWFzb25PclZhbHVlKTtcbiAgICAgICAgaWYgKHJldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwcm9taXNlLl9zZXRSZXR1cm5lZE5vblVuZGVmaW5lZCgpO1xuICAgICAgICAgICAgdmFyIG1heWJlUHJvbWlzZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UocmV0LCBwcm9taXNlKTtcbiAgICAgICAgICAgIGlmIChtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FuY2VsUHJvbWlzZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXliZVByb21pc2UuX2lzQ2FuY2VsbGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWFzb24gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBDYW5jZWxsYXRpb25FcnJvcihcImxhdGUgY2FuY2VsbGF0aW9uIG9ic2VydmVyXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5fYXR0YWNoRXh0cmFUcmFjZShyZWFzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JPYmouZSA9IHJlYXNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvck9iajtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtYXliZVByb21pc2UuaXNQZW5kaW5nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlUHJvbWlzZS5fYXR0YWNoQ2FuY2VsbGF0aW9uQ2FsbGJhY2soXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEZpbmFsbHlIYW5kbGVyQ2FuY2VsUmVhY3Rpb24odGhpcykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBtYXliZVByb21pc2UuX3RoZW4oXG4gICAgICAgICAgICAgICAgICAgIHN1Y2NlZWQsIGZhaWwsIHVuZGVmaW5lZCwgdGhpcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwcm9taXNlLmlzUmVqZWN0ZWQoKSkge1xuICAgICAgICBjaGVja0NhbmNlbCh0aGlzKTtcbiAgICAgICAgZXJyb3JPYmouZSA9IHJlYXNvbk9yVmFsdWU7XG4gICAgICAgIHJldHVybiBlcnJvck9iajtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjaGVja0NhbmNlbCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHJlYXNvbk9yVmFsdWU7XG4gICAgfVxufVxuXG5Qcm9taXNlLnByb3RvdHlwZS5fcGFzc1Rocm91Z2ggPSBmdW5jdGlvbihoYW5kbGVyLCB0eXBlLCBzdWNjZXNzLCBmYWlsKSB7XG4gICAgaWYgKHR5cGVvZiBoYW5kbGVyICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0aGlzLnRoZW4oKTtcbiAgICByZXR1cm4gdGhpcy5fdGhlbihzdWNjZXNzLFxuICAgICAgICAgICAgICAgICAgICAgIGZhaWwsXG4gICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgIG5ldyBQYXNzVGhyb3VnaEhhbmRsZXJDb250ZXh0KHRoaXMsIHR5cGUsIGhhbmRsZXIpLFxuICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5sYXN0bHkgPVxuUHJvbWlzZS5wcm90b3R5cGVbXCJmaW5hbGx5XCJdID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICByZXR1cm4gdGhpcy5fcGFzc1Rocm91Z2goaGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxseUhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHlIYW5kbGVyKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnRhcCA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Bhc3NUaHJvdWdoKGhhbmRsZXIsIDEsIGZpbmFsbHlIYW5kbGVyKTtcbn07XG5cbnJldHVybiBQYXNzVGhyb3VnaEhhbmRsZXJDb250ZXh0O1xufTtcblxufSx7XCIuL3V0aWxcIjozNn1dLDE2OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhcGlSZWplY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIElOVEVSTkFMLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0cnlDb252ZXJ0VG9Qcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBQcm94eWFibGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKSB7XG52YXIgZXJyb3JzID0gX2RlcmVxXyhcIi4vZXJyb3JzXCIpO1xudmFyIFR5cGVFcnJvciA9IGVycm9ycy5UeXBlRXJyb3I7XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgZXJyb3JPYmogPSB1dGlsLmVycm9yT2JqO1xudmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcbnZhciB5aWVsZEhhbmRsZXJzID0gW107XG5cbmZ1bmN0aW9uIHByb21pc2VGcm9tWWllbGRIYW5kbGVyKHZhbHVlLCB5aWVsZEhhbmRsZXJzLCB0cmFjZVBhcmVudCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeWllbGRIYW5kbGVycy5sZW5ndGg7ICsraSkge1xuICAgICAgICB0cmFjZVBhcmVudC5fcHVzaENvbnRleHQoKTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRyeUNhdGNoKHlpZWxkSGFuZGxlcnNbaV0pKHZhbHVlKTtcbiAgICAgICAgdHJhY2VQYXJlbnQuX3BvcENvbnRleHQoKTtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gZXJyb3JPYmopIHtcbiAgICAgICAgICAgIHRyYWNlUGFyZW50Ll9wdXNoQ29udGV4dCgpO1xuICAgICAgICAgICAgdmFyIHJldCA9IFByb21pc2UucmVqZWN0KGVycm9yT2JqLmUpO1xuICAgICAgICAgICAgdHJhY2VQYXJlbnQuX3BvcENvbnRleHQoKTtcbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1heWJlUHJvbWlzZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UocmVzdWx0LCB0cmFjZVBhcmVudCk7XG4gICAgICAgIGlmIChtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSByZXR1cm4gbWF5YmVQcm9taXNlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gUHJvbWlzZVNwYXduKGdlbmVyYXRvckZ1bmN0aW9uLCByZWNlaXZlciwgeWllbGRIYW5kbGVyLCBzdGFjaykge1xuICAgIGlmIChkZWJ1Zy5jYW5jZWxsYXRpb24oKSkge1xuICAgICAgICB2YXIgaW50ZXJuYWwgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG4gICAgICAgIHZhciBfZmluYWxseVByb21pc2UgPSB0aGlzLl9maW5hbGx5UHJvbWlzZSA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcbiAgICAgICAgdGhpcy5fcHJvbWlzZSA9IGludGVybmFsLmxhc3RseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBfZmluYWxseVByb21pc2U7XG4gICAgICAgIH0pO1xuICAgICAgICBpbnRlcm5hbC5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcbiAgICAgICAgaW50ZXJuYWwuX3NldE9uQ2FuY2VsKHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5fcHJvbWlzZSA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcbiAgICAgICAgcHJvbWlzZS5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcbiAgICB9XG4gICAgdGhpcy5fc3RhY2sgPSBzdGFjaztcbiAgICB0aGlzLl9nZW5lcmF0b3JGdW5jdGlvbiA9IGdlbmVyYXRvckZ1bmN0aW9uO1xuICAgIHRoaXMuX3JlY2VpdmVyID0gcmVjZWl2ZXI7XG4gICAgdGhpcy5fZ2VuZXJhdG9yID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3lpZWxkSGFuZGxlcnMgPSB0eXBlb2YgeWllbGRIYW5kbGVyID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgPyBbeWllbGRIYW5kbGVyXS5jb25jYXQoeWllbGRIYW5kbGVycylcbiAgICAgICAgOiB5aWVsZEhhbmRsZXJzO1xuICAgIHRoaXMuX3lpZWxkZWRQcm9taXNlID0gbnVsbDtcbiAgICB0aGlzLl9jYW5jZWxsYXRpb25QaGFzZSA9IGZhbHNlO1xufVxudXRpbC5pbmhlcml0cyhQcm9taXNlU3Bhd24sIFByb3h5YWJsZSk7XG5cblByb21pc2VTcGF3bi5wcm90b3R5cGUuX2lzUmVzb2x2ZWQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJvbWlzZSA9PT0gbnVsbDtcbn07XG5cblByb21pc2VTcGF3bi5wcm90b3R5cGUuX2NsZWFudXAgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9wcm9taXNlID0gdGhpcy5fZ2VuZXJhdG9yID0gbnVsbDtcbiAgICBpZiAoZGVidWcuY2FuY2VsbGF0aW9uKCkgJiYgdGhpcy5fZmluYWxseVByb21pc2UgIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5fZmluYWxseVByb21pc2UuX2Z1bGZpbGwoKTtcbiAgICAgICAgdGhpcy5fZmluYWxseVByb21pc2UgPSBudWxsO1xuICAgIH1cbn07XG5cblByb21pc2VTcGF3bi5wcm90b3R5cGUuX3Byb21pc2VDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5faXNSZXNvbHZlZCgpKSByZXR1cm47XG4gICAgdmFyIGltcGxlbWVudHNSZXR1cm4gPSB0eXBlb2YgdGhpcy5fZ2VuZXJhdG9yW1wicmV0dXJuXCJdICE9PSBcInVuZGVmaW5lZFwiO1xuXG4gICAgdmFyIHJlc3VsdDtcbiAgICBpZiAoIWltcGxlbWVudHNSZXR1cm4pIHtcbiAgICAgICAgdmFyIHJlYXNvbiA9IG5ldyBQcm9taXNlLkNhbmNlbGxhdGlvbkVycm9yKFxuICAgICAgICAgICAgXCJnZW5lcmF0b3IgLnJldHVybigpIHNlbnRpbmVsXCIpO1xuICAgICAgICBQcm9taXNlLmNvcm91dGluZS5yZXR1cm5TZW50aW5lbCA9IHJlYXNvbjtcbiAgICAgICAgdGhpcy5fcHJvbWlzZS5fYXR0YWNoRXh0cmFUcmFjZShyZWFzb24pO1xuICAgICAgICB0aGlzLl9wcm9taXNlLl9wdXNoQ29udGV4dCgpO1xuICAgICAgICByZXN1bHQgPSB0cnlDYXRjaCh0aGlzLl9nZW5lcmF0b3JbXCJ0aHJvd1wiXSkuY2FsbCh0aGlzLl9nZW5lcmF0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFzb24pO1xuICAgICAgICB0aGlzLl9wcm9taXNlLl9wb3BDb250ZXh0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fcHJvbWlzZS5fcHVzaENvbnRleHQoKTtcbiAgICAgICAgcmVzdWx0ID0gdHJ5Q2F0Y2godGhpcy5fZ2VuZXJhdG9yW1wicmV0dXJuXCJdKS5jYWxsKHRoaXMuX2dlbmVyYXRvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQpO1xuICAgICAgICB0aGlzLl9wcm9taXNlLl9wb3BDb250ZXh0KCk7XG4gICAgfVxuICAgIHRoaXMuX2NhbmNlbGxhdGlvblBoYXNlID0gdHJ1ZTtcbiAgICB0aGlzLl95aWVsZGVkUHJvbWlzZSA9IG51bGw7XG4gICAgdGhpcy5fY29udGludWUocmVzdWx0KTtcbn07XG5cblByb21pc2VTcGF3bi5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHRoaXMuX3lpZWxkZWRQcm9taXNlID0gbnVsbDtcbiAgICB0aGlzLl9wcm9taXNlLl9wdXNoQ29udGV4dCgpO1xuICAgIHZhciByZXN1bHQgPSB0cnlDYXRjaCh0aGlzLl9nZW5lcmF0b3IubmV4dCkuY2FsbCh0aGlzLl9nZW5lcmF0b3IsIHZhbHVlKTtcbiAgICB0aGlzLl9wcm9taXNlLl9wb3BDb250ZXh0KCk7XG4gICAgdGhpcy5fY29udGludWUocmVzdWx0KTtcbn07XG5cblByb21pc2VTcGF3bi5wcm90b3R5cGUuX3Byb21pc2VSZWplY3RlZCA9IGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIHRoaXMuX3lpZWxkZWRQcm9taXNlID0gbnVsbDtcbiAgICB0aGlzLl9wcm9taXNlLl9hdHRhY2hFeHRyYVRyYWNlKHJlYXNvbik7XG4gICAgdGhpcy5fcHJvbWlzZS5fcHVzaENvbnRleHQoKTtcbiAgICB2YXIgcmVzdWx0ID0gdHJ5Q2F0Y2godGhpcy5fZ2VuZXJhdG9yW1widGhyb3dcIl0pXG4gICAgICAgIC5jYWxsKHRoaXMuX2dlbmVyYXRvciwgcmVhc29uKTtcbiAgICB0aGlzLl9wcm9taXNlLl9wb3BDb250ZXh0KCk7XG4gICAgdGhpcy5fY29udGludWUocmVzdWx0KTtcbn07XG5cblByb21pc2VTcGF3bi5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLl95aWVsZGVkUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLl95aWVsZGVkUHJvbWlzZTtcbiAgICAgICAgdGhpcy5feWllbGRlZFByb21pc2UgPSBudWxsO1xuICAgICAgICBwcm9taXNlLmNhbmNlbCgpO1xuICAgIH1cbn07XG5cblByb21pc2VTcGF3bi5wcm90b3R5cGUucHJvbWlzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJvbWlzZTtcbn07XG5cblByb21pc2VTcGF3bi5wcm90b3R5cGUuX3J1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9nZW5lcmF0b3IgPSB0aGlzLl9nZW5lcmF0b3JGdW5jdGlvbi5jYWxsKHRoaXMuX3JlY2VpdmVyKTtcbiAgICB0aGlzLl9yZWNlaXZlciA9XG4gICAgICAgIHRoaXMuX2dlbmVyYXRvckZ1bmN0aW9uID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3Byb21pc2VGdWxmaWxsZWQodW5kZWZpbmVkKTtcbn07XG5cblByb21pc2VTcGF3bi5wcm90b3R5cGUuX2NvbnRpbnVlID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIHZhciBwcm9taXNlID0gdGhpcy5fcHJvbWlzZTtcbiAgICBpZiAocmVzdWx0ID09PSBlcnJvck9iaikge1xuICAgICAgICB0aGlzLl9jbGVhbnVwKCk7XG4gICAgICAgIGlmICh0aGlzLl9jYW5jZWxsYXRpb25QaGFzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2UuY2FuY2VsKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2socmVzdWx0LmUsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICBpZiAocmVzdWx0LmRvbmUgPT09IHRydWUpIHtcbiAgICAgICAgdGhpcy5fY2xlYW51cCgpO1xuICAgICAgICBpZiAodGhpcy5fY2FuY2VsbGF0aW9uUGhhc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlLmNhbmNlbCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2UuX3Jlc29sdmVDYWxsYmFjayh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gdHJ5Q29udmVydFRvUHJvbWlzZSh2YWx1ZSwgdGhpcy5fcHJvbWlzZSk7XG4gICAgICAgIGlmICghKG1heWJlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpKSB7XG4gICAgICAgICAgICBtYXliZVByb21pc2UgPVxuICAgICAgICAgICAgICAgIHByb21pc2VGcm9tWWllbGRIYW5kbGVyKG1heWJlUHJvbWlzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl95aWVsZEhhbmRsZXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Byb21pc2UpO1xuICAgICAgICAgICAgaWYgKG1heWJlUHJvbWlzZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Byb21pc2VSZWplY3RlZChcbiAgICAgICAgICAgICAgICAgICAgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQSB2YWx1ZSAlcyB3YXMgeWllbGRlZCB0aGF0IGNvdWxkIG5vdCBiZSB0cmVhdGVkIGFzIGEgcHJvbWlzZVxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcXHUwMDBhXCIucmVwbGFjZShcIiVzXCIsIHZhbHVlKSArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkZyb20gY29yb3V0aW5lOlxcdTAwMGFcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFjay5zcGxpdChcIlxcblwiKS5zbGljZSgxLCAtNykuam9pbihcIlxcblwiKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbWF5YmVQcm9taXNlID0gbWF5YmVQcm9taXNlLl90YXJnZXQoKTtcbiAgICAgICAgdmFyIGJpdEZpZWxkID0gbWF5YmVQcm9taXNlLl9iaXRGaWVsZDtcbiAgICAgICAgO1xuICAgICAgICBpZiAoKChiaXRGaWVsZCAmIDUwMzk3MTg0KSA9PT0gMCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3lpZWxkZWRQcm9taXNlID0gbWF5YmVQcm9taXNlO1xuICAgICAgICAgICAgbWF5YmVQcm9taXNlLl9wcm94eSh0aGlzLCBudWxsKTtcbiAgICAgICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMzM1NTQ0MzIpICE9PSAwKSkge1xuICAgICAgICAgICAgUHJvbWlzZS5fYXN5bmMuaW52b2tlKFxuICAgICAgICAgICAgICAgIHRoaXMuX3Byb21pc2VGdWxmaWxsZWQsIHRoaXMsIG1heWJlUHJvbWlzZS5fdmFsdWUoKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMTY3NzcyMTYpICE9PSAwKSkge1xuICAgICAgICAgICAgUHJvbWlzZS5fYXN5bmMuaW52b2tlKFxuICAgICAgICAgICAgICAgIHRoaXMuX3Byb21pc2VSZWplY3RlZCwgdGhpcywgbWF5YmVQcm9taXNlLl9yZWFzb24oKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb21pc2VDYW5jZWxsZWQoKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cblByb21pc2UuY29yb3V0aW5lID0gZnVuY3Rpb24gKGdlbmVyYXRvckZ1bmN0aW9uLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBnZW5lcmF0b3JGdW5jdGlvbiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJnZW5lcmF0b3JGdW5jdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb25cXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuICAgIH1cbiAgICB2YXIgeWllbGRIYW5kbGVyID0gT2JqZWN0KG9wdGlvbnMpLnlpZWxkSGFuZGxlcjtcbiAgICB2YXIgUHJvbWlzZVNwYXduJCA9IFByb21pc2VTcGF3bjtcbiAgICB2YXIgc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2VuZXJhdG9yID0gZ2VuZXJhdG9yRnVuY3Rpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgdmFyIHNwYXduID0gbmV3IFByb21pc2VTcGF3biQodW5kZWZpbmVkLCB1bmRlZmluZWQsIHlpZWxkSGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2spO1xuICAgICAgICB2YXIgcmV0ID0gc3Bhd24ucHJvbWlzZSgpO1xuICAgICAgICBzcGF3bi5fZ2VuZXJhdG9yID0gZ2VuZXJhdG9yO1xuICAgICAgICBzcGF3bi5fcHJvbWlzZUZ1bGZpbGxlZCh1bmRlZmluZWQpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG59O1xuXG5Qcm9taXNlLmNvcm91dGluZS5hZGRZaWVsZEhhbmRsZXIgPSBmdW5jdGlvbihmbikge1xuICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZm4pKTtcbiAgICB9XG4gICAgeWllbGRIYW5kbGVycy5wdXNoKGZuKTtcbn07XG5cblByb21pc2Uuc3Bhd24gPSBmdW5jdGlvbiAoZ2VuZXJhdG9yRnVuY3Rpb24pIHtcbiAgICBkZWJ1Zy5kZXByZWNhdGVkKFwiUHJvbWlzZS5zcGF3bigpXCIsIFwiUHJvbWlzZS5jb3JvdXRpbmUoKVwiKTtcbiAgICBpZiAodHlwZW9mIGdlbmVyYXRvckZ1bmN0aW9uICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGFwaVJlamVjdGlvbihcImdlbmVyYXRvckZ1bmN0aW9uIG11c3QgYmUgYSBmdW5jdGlvblxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG4gICAgfVxuICAgIHZhciBzcGF3biA9IG5ldyBQcm9taXNlU3Bhd24oZ2VuZXJhdG9yRnVuY3Rpb24sIHRoaXMpO1xuICAgIHZhciByZXQgPSBzcGF3bi5wcm9taXNlKCk7XG4gICAgc3Bhd24uX3J1bihQcm9taXNlLnNwYXduKTtcbiAgICByZXR1cm4gcmV0O1xufTtcbn07XG5cbn0se1wiLi9lcnJvcnNcIjoxMixcIi4vdXRpbFwiOjM2fV0sMTc6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9XG5mdW5jdGlvbihQcm9taXNlLCBQcm9taXNlQXJyYXksIHRyeUNvbnZlcnRUb1Byb21pc2UsIElOVEVSTkFMLCBhc3luYyxcbiAgICAgICAgIGdldERvbWFpbikge1xudmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xudmFyIGNhbkV2YWx1YXRlID0gdXRpbC5jYW5FdmFsdWF0ZTtcbnZhciB0cnlDYXRjaCA9IHV0aWwudHJ5Q2F0Y2g7XG52YXIgZXJyb3JPYmogPSB1dGlsLmVycm9yT2JqO1xudmFyIHJlamVjdDtcblxuaWYgKCF0cnVlKSB7XG5pZiAoY2FuRXZhbHVhdGUpIHtcbiAgICB2YXIgdGhlbkNhbGxiYWNrID0gZnVuY3Rpb24oaSkge1xuICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKFwidmFsdWVcIiwgXCJob2xkZXJcIiwgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAndXNlIHN0cmljdCc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBob2xkZXIucEluZGV4ID0gdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBob2xkZXIuY2hlY2tGdWxmaWxsbWVudCh0aGlzKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBcIi5yZXBsYWNlKC9JbmRleC9nLCBpKSk7XG4gICAgfTtcblxuICAgIHZhciBwcm9taXNlU2V0dGVyID0gZnVuY3Rpb24oaSkge1xuICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKFwicHJvbWlzZVwiLCBcImhvbGRlclwiLCBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAndXNlIHN0cmljdCc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBob2xkZXIucEluZGV4ID0gcHJvbWlzZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBcIi5yZXBsYWNlKC9JbmRleC9nLCBpKSk7XG4gICAgfTtcblxuICAgIHZhciBnZW5lcmF0ZUhvbGRlckNsYXNzID0gZnVuY3Rpb24odG90YWwpIHtcbiAgICAgICAgdmFyIHByb3BzID0gbmV3IEFycmF5KHRvdGFsKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgcHJvcHNbaV0gPSBcInRoaXMucFwiICsgKGkrMSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFzc2lnbm1lbnQgPSBwcm9wcy5qb2luKFwiID0gXCIpICsgXCIgPSBudWxsO1wiO1xuICAgICAgICB2YXIgY2FuY2VsbGF0aW9uQ29kZT0gXCJ2YXIgcHJvbWlzZTtcXG5cIiArIHByb3BzLm1hcChmdW5jdGlvbihwcm9wKSB7XG4gICAgICAgICAgICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIHByb21pc2UgPSBcIiArIHByb3AgKyBcIjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgaWYgKHByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UuY2FuY2VsKCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBcIjtcbiAgICAgICAgfSkuam9pbihcIlxcblwiKTtcbiAgICAgICAgdmFyIHBhc3NlZEFyZ3VtZW50cyA9IHByb3BzLmpvaW4oXCIsIFwiKTtcbiAgICAgICAgdmFyIG5hbWUgPSBcIkhvbGRlciRcIiArIHRvdGFsO1xuXG5cbiAgICAgICAgdmFyIGNvZGUgPSBcInJldHVybiBmdW5jdGlvbih0cnlDYXRjaCwgZXJyb3JPYmosIFByb21pc2UsIGFzeW5jKSB7ICAgIFxcblxcXG4gICAgICAgICAgICAndXNlIHN0cmljdCc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBmdW5jdGlvbiBbVGhlTmFtZV0oZm4pIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgW1RoZVByb3BlcnRpZXNdICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgdGhpcy5mbiA9IGZuOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgdGhpcy5hc3luY05lZWRlZCA9IHRydWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgdGhpcy5ub3cgPSAwOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBbVGhlTmFtZV0ucHJvdG90eXBlLl9jYWxsRnVuY3Rpb24gPSBmdW5jdGlvbihwcm9taXNlKSB7ICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgcHJvbWlzZS5fcHVzaENvbnRleHQoKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgdmFyIHJldCA9IHRyeUNhdGNoKHRoaXMuZm4pKFtUaGVQYXNzZWRBcmd1bWVudHNdKTsgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgcHJvbWlzZS5fcG9wQ29udGV4dCgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgaWYgKHJldCA9PT0gZXJyb3JPYmopIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UuX3JlamVjdENhbGxiYWNrKHJldC5lLCBmYWxzZSk7ICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UuX3Jlc29sdmVDYWxsYmFjayhyZXQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICB9OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBbVGhlTmFtZV0ucHJvdG90eXBlLmNoZWNrRnVsZmlsbG1lbnQgPSBmdW5jdGlvbihwcm9taXNlKSB7ICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgdmFyIG5vdyA9ICsrdGhpcy5ub3c7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgaWYgKG5vdyA9PT0gW1RoZVRvdGFsXSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFzeW5jTmVlZGVkKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3luYy5pbnZva2UodGhpcy5fY2FsbEZ1bmN0aW9uLCB0aGlzLCBwcm9taXNlKTsgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWxsRnVuY3Rpb24ocHJvbWlzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICB9OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBbVGhlTmFtZV0ucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHsgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgW0NhbmNlbGxhdGlvbkNvZGVdICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICB9OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICByZXR1cm4gW1RoZU5hbWVdOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgIH0odHJ5Q2F0Y2gsIGVycm9yT2JqLCBQcm9taXNlLCBhc3luYyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgIFwiO1xuXG4gICAgICAgIGNvZGUgPSBjb2RlLnJlcGxhY2UoL1xcW1RoZU5hbWVcXF0vZywgbmFtZSlcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXFtUaGVUb3RhbFxcXS9nLCB0b3RhbClcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXFtUaGVQYXNzZWRBcmd1bWVudHNcXF0vZywgcGFzc2VkQXJndW1lbnRzKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcW1RoZVByb3BlcnRpZXNcXF0vZywgYXNzaWdubWVudClcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXFtDYW5jZWxsYXRpb25Db2RlXFxdL2csIGNhbmNlbGxhdGlvbkNvZGUpO1xuXG4gICAgICAgIHJldHVybiBuZXcgRnVuY3Rpb24oXCJ0cnlDYXRjaFwiLCBcImVycm9yT2JqXCIsIFwiUHJvbWlzZVwiLCBcImFzeW5jXCIsIGNvZGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAodHJ5Q2F0Y2gsIGVycm9yT2JqLCBQcm9taXNlLCBhc3luYyk7XG4gICAgfTtcblxuICAgIHZhciBob2xkZXJDbGFzc2VzID0gW107XG4gICAgdmFyIHRoZW5DYWxsYmFja3MgPSBbXTtcbiAgICB2YXIgcHJvbWlzZVNldHRlcnMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgODsgKytpKSB7XG4gICAgICAgIGhvbGRlckNsYXNzZXMucHVzaChnZW5lcmF0ZUhvbGRlckNsYXNzKGkgKyAxKSk7XG4gICAgICAgIHRoZW5DYWxsYmFja3MucHVzaCh0aGVuQ2FsbGJhY2soaSArIDEpKTtcbiAgICAgICAgcHJvbWlzZVNldHRlcnMucHVzaChwcm9taXNlU2V0dGVyKGkgKyAxKSk7XG4gICAgfVxuXG4gICAgcmVqZWN0ID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICB0aGlzLl9yZWplY3QocmVhc29uKTtcbiAgICB9O1xufX1cblxuUHJvbWlzZS5qb2luID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBsYXN0ID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgdmFyIGZuO1xuICAgIGlmIChsYXN0ID4gMCAmJiB0eXBlb2YgYXJndW1lbnRzW2xhc3RdID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgZm4gPSBhcmd1bWVudHNbbGFzdF07XG4gICAgICAgIGlmICghdHJ1ZSkge1xuICAgICAgICAgICAgaWYgKGxhc3QgPD0gOCAmJiBjYW5FdmFsdWF0ZSkge1xuICAgICAgICAgICAgICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG4gICAgICAgICAgICAgICAgcmV0Ll9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgICAgIHZhciBIb2xkZXJDbGFzcyA9IGhvbGRlckNsYXNzZXNbbGFzdCAtIDFdO1xuICAgICAgICAgICAgICAgIHZhciBob2xkZXIgPSBuZXcgSG9sZGVyQ2xhc3MoZm4pO1xuICAgICAgICAgICAgICAgIHZhciBjYWxsYmFja3MgPSB0aGVuQ2FsbGJhY2tzO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0OyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1heWJlUHJvbWlzZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UoYXJndW1lbnRzW2ldLCByZXQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlID0gbWF5YmVQcm9taXNlLl90YXJnZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiaXRGaWVsZCA9IG1heWJlUHJvbWlzZS5fYml0RmllbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKChiaXRGaWVsZCAmIDUwMzk3MTg0KSA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXliZVByb21pc2UuX3RoZW4oY2FsbGJhY2tzW2ldLCByZWplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCwgcmV0LCBob2xkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2VTZXR0ZXJzW2ldKG1heWJlUHJvbWlzZSwgaG9sZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2xkZXIuYXN5bmNOZWVkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3NbaV0uY2FsbChyZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlLl92YWx1ZSgpLCBob2xkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMTY3NzcyMTYpICE9PSAwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldC5fcmVqZWN0KG1heWJlUHJvbWlzZS5fcmVhc29uKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXQuX2NhbmNlbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzW2ldLmNhbGwocmV0LCBtYXliZVByb21pc2UsIGhvbGRlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIXJldC5faXNGYXRlU2VhbGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhvbGRlci5hc3luY05lZWRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvbWFpbiA9IGdldERvbWFpbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvbWFpbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvbGRlci5mbiA9IHV0aWwuZG9tYWluQmluZChkb21haW4sIGhvbGRlci5mbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0Ll9zZXRBc3luY0d1YXJhbnRlZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0Ll9zZXRPbkNhbmNlbChob2xkZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMpOztcbiAgICBpZiAoZm4pIGFyZ3MucG9wKCk7XG4gICAgdmFyIHJldCA9IG5ldyBQcm9taXNlQXJyYXkoYXJncykucHJvbWlzZSgpO1xuICAgIHJldHVybiBmbiAhPT0gdW5kZWZpbmVkID8gcmV0LnNwcmVhZChmbikgOiByZXQ7XG59O1xuXG59O1xuXG59LHtcIi4vdXRpbFwiOjM2fV0sMTg6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFByb21pc2VBcnJheSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpUmVqZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0cnlDb252ZXJ0VG9Qcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBJTlRFUk5BTCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcpIHtcbnZhciBnZXREb21haW4gPSBQcm9taXNlLl9nZXREb21haW47XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgdHJ5Q2F0Y2ggPSB1dGlsLnRyeUNhdGNoO1xudmFyIGVycm9yT2JqID0gdXRpbC5lcnJvck9iajtcbnZhciBhc3luYyA9IFByb21pc2UuX2FzeW5jO1xuXG5mdW5jdGlvbiBNYXBwaW5nUHJvbWlzZUFycmF5KHByb21pc2VzLCBmbiwgbGltaXQsIF9maWx0ZXIpIHtcbiAgICB0aGlzLmNvbnN0cnVjdG9yJChwcm9taXNlcyk7XG4gICAgdGhpcy5fcHJvbWlzZS5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcbiAgICB2YXIgZG9tYWluID0gZ2V0RG9tYWluKCk7XG4gICAgdGhpcy5fY2FsbGJhY2sgPSBkb21haW4gPT09IG51bGwgPyBmbiA6IHV0aWwuZG9tYWluQmluZChkb21haW4sIGZuKTtcbiAgICB0aGlzLl9wcmVzZXJ2ZWRWYWx1ZXMgPSBfZmlsdGVyID09PSBJTlRFUk5BTFxuICAgICAgICA/IG5ldyBBcnJheSh0aGlzLmxlbmd0aCgpKVxuICAgICAgICA6IG51bGw7XG4gICAgdGhpcy5fbGltaXQgPSBsaW1pdDtcbiAgICB0aGlzLl9pbkZsaWdodCA9IDA7XG4gICAgdGhpcy5fcXVldWUgPSBbXTtcbiAgICBhc3luYy5pbnZva2UodGhpcy5fYXN5bmNJbml0LCB0aGlzLCB1bmRlZmluZWQpO1xufVxudXRpbC5pbmhlcml0cyhNYXBwaW5nUHJvbWlzZUFycmF5LCBQcm9taXNlQXJyYXkpO1xuXG5NYXBwaW5nUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fYXN5bmNJbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5faW5pdCQodW5kZWZpbmVkLCAtMik7XG59O1xuXG5NYXBwaW5nUHJvbWlzZUFycmF5LnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uICgpIHt9O1xuXG5NYXBwaW5nUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZUZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcbiAgICB2YXIgdmFsdWVzID0gdGhpcy5fdmFsdWVzO1xuICAgIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aCgpO1xuICAgIHZhciBwcmVzZXJ2ZWRWYWx1ZXMgPSB0aGlzLl9wcmVzZXJ2ZWRWYWx1ZXM7XG4gICAgdmFyIGxpbWl0ID0gdGhpcy5fbGltaXQ7XG5cbiAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIGluZGV4ID0gKGluZGV4ICogLTEpIC0gMTtcbiAgICAgICAgdmFsdWVzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICBpZiAobGltaXQgPj0gMSkge1xuICAgICAgICAgICAgdGhpcy5faW5GbGlnaHQtLTtcbiAgICAgICAgICAgIHRoaXMuX2RyYWluUXVldWUoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc1Jlc29sdmVkKCkpIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGxpbWl0ID49IDEgJiYgdGhpcy5faW5GbGlnaHQgPj0gbGltaXQpIHtcbiAgICAgICAgICAgIHZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3F1ZXVlLnB1c2goaW5kZXgpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmVzZXJ2ZWRWYWx1ZXMgIT09IG51bGwpIHByZXNlcnZlZFZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcblxuICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuX3Byb21pc2U7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IHRoaXMuX2NhbGxiYWNrO1xuICAgICAgICB2YXIgcmVjZWl2ZXIgPSBwcm9taXNlLl9ib3VuZFZhbHVlKCk7XG4gICAgICAgIHByb21pc2UuX3B1c2hDb250ZXh0KCk7XG4gICAgICAgIHZhciByZXQgPSB0cnlDYXRjaChjYWxsYmFjaykuY2FsbChyZWNlaXZlciwgdmFsdWUsIGluZGV4LCBsZW5ndGgpO1xuICAgICAgICB2YXIgcHJvbWlzZUNyZWF0ZWQgPSBwcm9taXNlLl9wb3BDb250ZXh0KCk7XG4gICAgICAgIGRlYnVnLmNoZWNrRm9yZ290dGVuUmV0dXJucyhcbiAgICAgICAgICAgIHJldCxcbiAgICAgICAgICAgIHByb21pc2VDcmVhdGVkLFxuICAgICAgICAgICAgcHJlc2VydmVkVmFsdWVzICE9PSBudWxsID8gXCJQcm9taXNlLmZpbHRlclwiIDogXCJQcm9taXNlLm1hcFwiLFxuICAgICAgICAgICAgcHJvbWlzZVxuICAgICAgICApO1xuICAgICAgICBpZiAocmV0ID09PSBlcnJvck9iaikge1xuICAgICAgICAgICAgdGhpcy5fcmVqZWN0KHJldC5lKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1heWJlUHJvbWlzZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UocmV0LCB0aGlzLl9wcm9taXNlKTtcbiAgICAgICAgaWYgKG1heWJlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIG1heWJlUHJvbWlzZSA9IG1heWJlUHJvbWlzZS5fdGFyZ2V0KCk7XG4gICAgICAgICAgICB2YXIgYml0RmllbGQgPSBtYXliZVByb21pc2UuX2JpdEZpZWxkO1xuICAgICAgICAgICAgO1xuICAgICAgICAgICAgaWYgKCgoYml0RmllbGQgJiA1MDM5NzE4NCkgPT09IDApKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpbWl0ID49IDEpIHRoaXMuX2luRmxpZ2h0Kys7XG4gICAgICAgICAgICAgICAgdmFsdWVzW2luZGV4XSA9IG1heWJlUHJvbWlzZTtcbiAgICAgICAgICAgICAgICBtYXliZVByb21pc2UuX3Byb3h5KHRoaXMsIChpbmRleCArIDEpICogLTEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcbiAgICAgICAgICAgICAgICByZXQgPSBtYXliZVByb21pc2UuX3ZhbHVlKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCgoYml0RmllbGQgJiAxNjc3NzIxNikgIT09IDApKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVqZWN0KG1heWJlUHJvbWlzZS5fcmVhc29uKCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYW5jZWwoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YWx1ZXNbaW5kZXhdID0gcmV0O1xuICAgIH1cbiAgICB2YXIgdG90YWxSZXNvbHZlZCA9ICsrdGhpcy5fdG90YWxSZXNvbHZlZDtcbiAgICBpZiAodG90YWxSZXNvbHZlZCA+PSBsZW5ndGgpIHtcbiAgICAgICAgaWYgKHByZXNlcnZlZFZhbHVlcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fZmlsdGVyKHZhbHVlcywgcHJlc2VydmVkVmFsdWVzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUodmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuTWFwcGluZ1Byb21pc2VBcnJheS5wcm90b3R5cGUuX2RyYWluUXVldWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHF1ZXVlID0gdGhpcy5fcXVldWU7XG4gICAgdmFyIGxpbWl0ID0gdGhpcy5fbGltaXQ7XG4gICAgdmFyIHZhbHVlcyA9IHRoaXMuX3ZhbHVlcztcbiAgICB3aGlsZSAocXVldWUubGVuZ3RoID4gMCAmJiB0aGlzLl9pbkZsaWdodCA8IGxpbWl0KSB7XG4gICAgICAgIGlmICh0aGlzLl9pc1Jlc29sdmVkKCkpIHJldHVybjtcbiAgICAgICAgdmFyIGluZGV4ID0gcXVldWUucG9wKCk7XG4gICAgICAgIHRoaXMuX3Byb21pc2VGdWxmaWxsZWQodmFsdWVzW2luZGV4XSwgaW5kZXgpO1xuICAgIH1cbn07XG5cbk1hcHBpbmdQcm9taXNlQXJyYXkucHJvdG90eXBlLl9maWx0ZXIgPSBmdW5jdGlvbiAoYm9vbGVhbnMsIHZhbHVlcykge1xuICAgIHZhciBsZW4gPSB2YWx1ZXMubGVuZ3RoO1xuICAgIHZhciByZXQgPSBuZXcgQXJyYXkobGVuKTtcbiAgICB2YXIgaiA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICBpZiAoYm9vbGVhbnNbaV0pIHJldFtqKytdID0gdmFsdWVzW2ldO1xuICAgIH1cbiAgICByZXQubGVuZ3RoID0gajtcbiAgICB0aGlzLl9yZXNvbHZlKHJldCk7XG59O1xuXG5NYXBwaW5nUHJvbWlzZUFycmF5LnByb3RvdHlwZS5wcmVzZXJ2ZWRWYWx1ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ByZXNlcnZlZFZhbHVlcztcbn07XG5cbmZ1bmN0aW9uIG1hcChwcm9taXNlcywgZm4sIG9wdGlvbnMsIF9maWx0ZXIpIHtcbiAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGFwaVJlamVjdGlvbihcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKGZuKSk7XG4gICAgfVxuXG4gICAgdmFyIGxpbWl0ID0gMDtcbiAgICBpZiAob3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuY29uY3VycmVuY3kgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgICAgICAgICAgICAgIG5ldyBUeXBlRXJyb3IoXCInY29uY3VycmVuY3knIG11c3QgYmUgYSBudW1iZXIgYnV0IGl0IGlzIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWwuY2xhc3NTdHJpbmcob3B0aW9ucy5jb25jdXJyZW5jeSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpbWl0ID0gb3B0aW9ucy5jb25jdXJyZW5jeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwib3B0aW9ucyBhcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdCBidXQgaXQgaXMgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlsLmNsYXNzU3RyaW5nKG9wdGlvbnMpKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGltaXQgPSB0eXBlb2YgbGltaXQgPT09IFwibnVtYmVyXCIgJiZcbiAgICAgICAgaXNGaW5pdGUobGltaXQpICYmIGxpbWl0ID49IDEgPyBsaW1pdCA6IDA7XG4gICAgcmV0dXJuIG5ldyBNYXBwaW5nUHJvbWlzZUFycmF5KHByb21pc2VzLCBmbiwgbGltaXQsIF9maWx0ZXIpLnByb21pc2UoKTtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGZuLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG1hcCh0aGlzLCBmbiwgb3B0aW9ucywgbnVsbCk7XG59O1xuXG5Qcm9taXNlLm1hcCA9IGZ1bmN0aW9uIChwcm9taXNlcywgZm4sIG9wdGlvbnMsIF9maWx0ZXIpIHtcbiAgICByZXR1cm4gbWFwKHByb21pc2VzLCBmbiwgb3B0aW9ucywgX2ZpbHRlcik7XG59O1xuXG5cbn07XG5cbn0se1wiLi91dGlsXCI6MzZ9XSwxOTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID1cbmZ1bmN0aW9uKFByb21pc2UsIElOVEVSTkFMLCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBhcGlSZWplY3Rpb24sIGRlYnVnKSB7XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgdHJ5Q2F0Y2ggPSB1dGlsLnRyeUNhdGNoO1xuXG5Qcm9taXNlLm1ldGhvZCA9IGZ1bmN0aW9uIChmbikge1xuICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aHJvdyBuZXcgUHJvbWlzZS5UeXBlRXJyb3IoXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyhmbikpO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgICAgICByZXQuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG4gICAgICAgIHJldC5fcHVzaENvbnRleHQoKTtcbiAgICAgICAgdmFyIHZhbHVlID0gdHJ5Q2F0Y2goZm4pLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIHZhciBwcm9taXNlQ3JlYXRlZCA9IHJldC5fcG9wQ29udGV4dCgpO1xuICAgICAgICBkZWJ1Zy5jaGVja0ZvcmdvdHRlblJldHVybnMoXG4gICAgICAgICAgICB2YWx1ZSwgcHJvbWlzZUNyZWF0ZWQsIFwiUHJvbWlzZS5tZXRob2RcIiwgcmV0KTtcbiAgICAgICAgcmV0Ll9yZXNvbHZlRnJvbVN5bmNWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcbn07XG5cblByb21pc2UuYXR0ZW1wdCA9IFByb21pc2VbXCJ0cnlcIl0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGFwaVJlamVjdGlvbihcImV4cGVjdGluZyBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKGZuKSk7XG4gICAgfVxuICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG4gICAgcmV0Ll9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuICAgIHJldC5fcHVzaENvbnRleHQoKTtcbiAgICB2YXIgdmFsdWU7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGRlYnVnLmRlcHJlY2F0ZWQoXCJjYWxsaW5nIFByb21pc2UudHJ5IHdpdGggbW9yZSB0aGFuIDEgYXJndW1lbnRcIik7XG4gICAgICAgIHZhciBhcmcgPSBhcmd1bWVudHNbMV07XG4gICAgICAgIHZhciBjdHggPSBhcmd1bWVudHNbMl07XG4gICAgICAgIHZhbHVlID0gdXRpbC5pc0FycmF5KGFyZykgPyB0cnlDYXRjaChmbikuYXBwbHkoY3R4LCBhcmcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0cnlDYXRjaChmbikuY2FsbChjdHgsIGFyZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSB0cnlDYXRjaChmbikoKTtcbiAgICB9XG4gICAgdmFyIHByb21pc2VDcmVhdGVkID0gcmV0Ll9wb3BDb250ZXh0KCk7XG4gICAgZGVidWcuY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zKFxuICAgICAgICB2YWx1ZSwgcHJvbWlzZUNyZWF0ZWQsIFwiUHJvbWlzZS50cnlcIiwgcmV0KTtcbiAgICByZXQuX3Jlc29sdmVGcm9tU3luY1ZhbHVlKHZhbHVlKTtcbiAgICByZXR1cm4gcmV0O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3Jlc29sdmVGcm9tU3luY1ZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSB1dGlsLmVycm9yT2JqKSB7XG4gICAgICAgIHRoaXMuX3JlamVjdENhbGxiYWNrKHZhbHVlLmUsIGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9yZXNvbHZlQ2FsbGJhY2sodmFsdWUsIHRydWUpO1xuICAgIH1cbn07XG59O1xuXG59LHtcIi4vdXRpbFwiOjM2fV0sMjA6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgbWF5YmVXcmFwQXNFcnJvciA9IHV0aWwubWF5YmVXcmFwQXNFcnJvcjtcbnZhciBlcnJvcnMgPSBfZGVyZXFfKFwiLi9lcnJvcnNcIik7XG52YXIgT3BlcmF0aW9uYWxFcnJvciA9IGVycm9ycy5PcGVyYXRpb25hbEVycm9yO1xudmFyIGVzNSA9IF9kZXJlcV8oXCIuL2VzNVwiKTtcblxuZnVuY3Rpb24gaXNVbnR5cGVkRXJyb3Iob2JqKSB7XG4gICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIEVycm9yICYmXG4gICAgICAgIGVzNS5nZXRQcm90b3R5cGVPZihvYmopID09PSBFcnJvci5wcm90b3R5cGU7XG59XG5cbnZhciByRXJyb3JLZXkgPSAvXig/Om5hbWV8bWVzc2FnZXxzdGFja3xjYXVzZSkkLztcbmZ1bmN0aW9uIHdyYXBBc09wZXJhdGlvbmFsRXJyb3Iob2JqKSB7XG4gICAgdmFyIHJldDtcbiAgICBpZiAoaXNVbnR5cGVkRXJyb3Iob2JqKSkge1xuICAgICAgICByZXQgPSBuZXcgT3BlcmF0aW9uYWxFcnJvcihvYmopO1xuICAgICAgICByZXQubmFtZSA9IG9iai5uYW1lO1xuICAgICAgICByZXQubWVzc2FnZSA9IG9iai5tZXNzYWdlO1xuICAgICAgICByZXQuc3RhY2sgPSBvYmouc3RhY2s7XG4gICAgICAgIHZhciBrZXlzID0gZXM1LmtleXMob2JqKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgIGlmICghckVycm9yS2V5LnRlc3Qoa2V5KSkge1xuICAgICAgICAgICAgICAgIHJldFtrZXldID0gb2JqW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgdXRpbC5tYXJrQXNPcmlnaW5hdGluZ0Zyb21SZWplY3Rpb24ob2JqKTtcbiAgICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBub2RlYmFja0ZvclByb21pc2UocHJvbWlzZSwgbXVsdGlBcmdzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGVyciwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHByb21pc2UgPT09IG51bGwpIHJldHVybjtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgdmFyIHdyYXBwZWQgPSB3cmFwQXNPcGVyYXRpb25hbEVycm9yKG1heWJlV3JhcEFzRXJyb3IoZXJyKSk7XG4gICAgICAgICAgICBwcm9taXNlLl9hdHRhY2hFeHRyYVRyYWNlKHdyYXBwZWQpO1xuICAgICAgICAgICAgcHJvbWlzZS5fcmVqZWN0KHdyYXBwZWQpO1xuICAgICAgICB9IGVsc2UgaWYgKCFtdWx0aUFyZ3MpIHtcbiAgICAgICAgICAgIHByb21pc2UuX2Z1bGZpbGwodmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7O1xuICAgICAgICAgICAgcHJvbWlzZS5fZnVsZmlsbChhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBwcm9taXNlID0gbnVsbDtcbiAgICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG5vZGViYWNrRm9yUHJvbWlzZTtcblxufSx7XCIuL2Vycm9yc1wiOjEyLFwiLi9lczVcIjoxMyxcIi4vdXRpbFwiOjM2fV0sMjE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UpIHtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBhc3luYyA9IFByb21pc2UuX2FzeW5jO1xudmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcbnZhciBlcnJvck9iaiA9IHV0aWwuZXJyb3JPYmo7XG5cbmZ1bmN0aW9uIHNwcmVhZEFkYXB0ZXIodmFsLCBub2RlYmFjaykge1xuICAgIHZhciBwcm9taXNlID0gdGhpcztcbiAgICBpZiAoIXV0aWwuaXNBcnJheSh2YWwpKSByZXR1cm4gc3VjY2Vzc0FkYXB0ZXIuY2FsbChwcm9taXNlLCB2YWwsIG5vZGViYWNrKTtcbiAgICB2YXIgcmV0ID1cbiAgICAgICAgdHJ5Q2F0Y2gobm9kZWJhY2spLmFwcGx5KHByb21pc2UuX2JvdW5kVmFsdWUoKSwgW251bGxdLmNvbmNhdCh2YWwpKTtcbiAgICBpZiAocmV0ID09PSBlcnJvck9iaikge1xuICAgICAgICBhc3luYy50aHJvd0xhdGVyKHJldC5lKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHN1Y2Nlc3NBZGFwdGVyKHZhbCwgbm9kZWJhY2spIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gICAgdmFyIHJlY2VpdmVyID0gcHJvbWlzZS5fYm91bmRWYWx1ZSgpO1xuICAgIHZhciByZXQgPSB2YWwgPT09IHVuZGVmaW5lZFxuICAgICAgICA/IHRyeUNhdGNoKG5vZGViYWNrKS5jYWxsKHJlY2VpdmVyLCBudWxsKVxuICAgICAgICA6IHRyeUNhdGNoKG5vZGViYWNrKS5jYWxsKHJlY2VpdmVyLCBudWxsLCB2YWwpO1xuICAgIGlmIChyZXQgPT09IGVycm9yT2JqKSB7XG4gICAgICAgIGFzeW5jLnRocm93TGF0ZXIocmV0LmUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVycm9yQWRhcHRlcihyZWFzb24sIG5vZGViYWNrKSB7XG4gICAgdmFyIHByb21pc2UgPSB0aGlzO1xuICAgIGlmICghcmVhc29uKSB7XG4gICAgICAgIHZhciBuZXdSZWFzb24gPSBuZXcgRXJyb3IocmVhc29uICsgXCJcIik7XG4gICAgICAgIG5ld1JlYXNvbi5jYXVzZSA9IHJlYXNvbjtcbiAgICAgICAgcmVhc29uID0gbmV3UmVhc29uO1xuICAgIH1cbiAgICB2YXIgcmV0ID0gdHJ5Q2F0Y2gobm9kZWJhY2spLmNhbGwocHJvbWlzZS5fYm91bmRWYWx1ZSgpLCByZWFzb24pO1xuICAgIGlmIChyZXQgPT09IGVycm9yT2JqKSB7XG4gICAgICAgIGFzeW5jLnRocm93TGF0ZXIocmV0LmUpO1xuICAgIH1cbn1cblxuUHJvbWlzZS5wcm90b3R5cGUuYXNDYWxsYmFjayA9IFByb21pc2UucHJvdG90eXBlLm5vZGVpZnkgPSBmdW5jdGlvbiAobm9kZWJhY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBub2RlYmFjayA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdmFyIGFkYXB0ZXIgPSBzdWNjZXNzQWRhcHRlcjtcbiAgICAgICAgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCAmJiBPYmplY3Qob3B0aW9ucykuc3ByZWFkKSB7XG4gICAgICAgICAgICBhZGFwdGVyID0gc3ByZWFkQWRhcHRlcjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90aGVuKFxuICAgICAgICAgICAgYWRhcHRlcixcbiAgICAgICAgICAgIGVycm9yQWRhcHRlcixcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICBub2RlYmFja1xuICAgICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn07XG59O1xuXG59LHtcIi4vdXRpbFwiOjM2fV0sMjI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xudmFyIG1ha2VTZWxmUmVzb2x1dGlvbkVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgVHlwZUVycm9yKFwiY2lyY3VsYXIgcHJvbWlzZSByZXNvbHV0aW9uIGNoYWluXFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcbn07XG52YXIgcmVmbGVjdEhhbmRsZXIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UuUHJvbWlzZUluc3BlY3Rpb24odGhpcy5fdGFyZ2V0KCkpO1xufTtcbnZhciBhcGlSZWplY3Rpb24gPSBmdW5jdGlvbihtc2cpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcihtc2cpKTtcbn07XG5mdW5jdGlvbiBQcm94eWFibGUoKSB7fVxudmFyIFVOREVGSU5FRF9CSU5ESU5HID0ge307XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cbnZhciBnZXREb21haW47XG5pZiAodXRpbC5pc05vZGUpIHtcbiAgICBnZXREb21haW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJldCA9IHByb2Nlc3MuZG9tYWluO1xuICAgICAgICBpZiAocmV0ID09PSB1bmRlZmluZWQpIHJldCA9IG51bGw7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcbn0gZWxzZSB7XG4gICAgZ2V0RG9tYWluID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG59XG51dGlsLm5vdEVudW1lcmFibGVQcm9wKFByb21pc2UsIFwiX2dldERvbWFpblwiLCBnZXREb21haW4pO1xuXG52YXIgZXM1ID0gX2RlcmVxXyhcIi4vZXM1XCIpO1xudmFyIEFzeW5jID0gX2RlcmVxXyhcIi4vYXN5bmNcIik7XG52YXIgYXN5bmMgPSBuZXcgQXN5bmMoKTtcbmVzNS5kZWZpbmVQcm9wZXJ0eShQcm9taXNlLCBcIl9hc3luY1wiLCB7dmFsdWU6IGFzeW5jfSk7XG52YXIgZXJyb3JzID0gX2RlcmVxXyhcIi4vZXJyb3JzXCIpO1xudmFyIFR5cGVFcnJvciA9IFByb21pc2UuVHlwZUVycm9yID0gZXJyb3JzLlR5cGVFcnJvcjtcblByb21pc2UuUmFuZ2VFcnJvciA9IGVycm9ycy5SYW5nZUVycm9yO1xudmFyIENhbmNlbGxhdGlvbkVycm9yID0gUHJvbWlzZS5DYW5jZWxsYXRpb25FcnJvciA9IGVycm9ycy5DYW5jZWxsYXRpb25FcnJvcjtcblByb21pc2UuVGltZW91dEVycm9yID0gZXJyb3JzLlRpbWVvdXRFcnJvcjtcblByb21pc2UuT3BlcmF0aW9uYWxFcnJvciA9IGVycm9ycy5PcGVyYXRpb25hbEVycm9yO1xuUHJvbWlzZS5SZWplY3Rpb25FcnJvciA9IGVycm9ycy5PcGVyYXRpb25hbEVycm9yO1xuUHJvbWlzZS5BZ2dyZWdhdGVFcnJvciA9IGVycm9ycy5BZ2dyZWdhdGVFcnJvcjtcbnZhciBJTlRFUk5BTCA9IGZ1bmN0aW9uKCl7fTtcbnZhciBBUFBMWSA9IHt9O1xudmFyIE5FWFRfRklMVEVSID0ge307XG52YXIgdHJ5Q29udmVydFRvUHJvbWlzZSA9IF9kZXJlcV8oXCIuL3RoZW5hYmxlc1wiKShQcm9taXNlLCBJTlRFUk5BTCk7XG52YXIgUHJvbWlzZUFycmF5ID1cbiAgICBfZGVyZXFfKFwiLi9wcm9taXNlX2FycmF5XCIpKFByb21pc2UsIElOVEVSTkFMLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeUNvbnZlcnRUb1Byb21pc2UsIGFwaVJlamVjdGlvbiwgUHJveHlhYmxlKTtcbnZhciBDb250ZXh0ID0gX2RlcmVxXyhcIi4vY29udGV4dFwiKShQcm9taXNlKTtcbiAvKmpzaGludCB1bnVzZWQ6ZmFsc2UqL1xudmFyIGNyZWF0ZUNvbnRleHQgPSBDb250ZXh0LmNyZWF0ZTtcbnZhciBkZWJ1ZyA9IF9kZXJlcV8oXCIuL2RlYnVnZ2FiaWxpdHlcIikoUHJvbWlzZSwgQ29udGV4dCk7XG52YXIgQ2FwdHVyZWRUcmFjZSA9IGRlYnVnLkNhcHR1cmVkVHJhY2U7XG52YXIgUGFzc1Rocm91Z2hIYW5kbGVyQ29udGV4dCA9XG4gICAgX2RlcmVxXyhcIi4vZmluYWxseVwiKShQcm9taXNlLCB0cnlDb252ZXJ0VG9Qcm9taXNlKTtcbnZhciBjYXRjaEZpbHRlciA9IF9kZXJlcV8oXCIuL2NhdGNoX2ZpbHRlclwiKShORVhUX0ZJTFRFUik7XG52YXIgbm9kZWJhY2tGb3JQcm9taXNlID0gX2RlcmVxXyhcIi4vbm9kZWJhY2tcIik7XG52YXIgZXJyb3JPYmogPSB1dGlsLmVycm9yT2JqO1xudmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcbmZ1bmN0aW9uIGNoZWNrKHNlbGYsIGV4ZWN1dG9yKSB7XG4gICAgaWYgKHR5cGVvZiBleGVjdXRvciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyhleGVjdXRvcikpO1xuICAgIH1cbiAgICBpZiAoc2VsZi5jb25zdHJ1Y3RvciAhPT0gUHJvbWlzZSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwidGhlIHByb21pc2UgY29uc3RydWN0b3IgY2Fubm90IGJlIGludm9rZWQgZGlyZWN0bHlcXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcikge1xuICAgIHRoaXMuX2JpdEZpZWxkID0gMDtcbiAgICB0aGlzLl9mdWxmaWxsbWVudEhhbmRsZXIwID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3Byb21pc2UwID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3JlY2VpdmVyMCA9IHVuZGVmaW5lZDtcbiAgICBpZiAoZXhlY3V0b3IgIT09IElOVEVSTkFMKSB7XG4gICAgICAgIGNoZWNrKHRoaXMsIGV4ZWN1dG9yKTtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZUZyb21FeGVjdXRvcihleGVjdXRvcik7XG4gICAgfVxuICAgIHRoaXMuX3Byb21pc2VDcmVhdGVkKCk7XG4gICAgdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZUNyZWF0ZWRcIiwgdGhpcyk7XG59XG5cblByb21pc2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgUHJvbWlzZV1cIjtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmNhdWdodCA9IFByb21pc2UucHJvdG90eXBlW1wiY2F0Y2hcIl0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBpZiAobGVuID4gMSkge1xuICAgICAgICB2YXIgY2F0Y2hJbnN0YW5jZXMgPSBuZXcgQXJyYXkobGVuIC0gMSksXG4gICAgICAgICAgICBqID0gMCwgaTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbiAtIDE7ICsraSkge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBpZiAodXRpbC5pc09iamVjdChpdGVtKSkge1xuICAgICAgICAgICAgICAgIGNhdGNoSW5zdGFuY2VzW2orK10gPSBpdGVtO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBpUmVqZWN0aW9uKFwiZXhwZWN0aW5nIGFuIG9iamVjdCBidXQgZ290IFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJBIGNhdGNoIHN0YXRlbWVudCBwcmVkaWNhdGUgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKGl0ZW0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaEluc3RhbmNlcy5sZW5ndGggPSBqO1xuICAgICAgICBmbiA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgcmV0dXJuIHRoaXMudGhlbih1bmRlZmluZWQsIGNhdGNoRmlsdGVyKGNhdGNoSW5zdGFuY2VzLCBmbiwgdGhpcykpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy50aGVuKHVuZGVmaW5lZCwgZm4pO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUucmVmbGVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGhlbihyZWZsZWN0SGFuZGxlcixcbiAgICAgICAgcmVmbGVjdEhhbmRsZXIsIHVuZGVmaW5lZCwgdGhpcywgdW5kZWZpbmVkKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbiAoZGlkRnVsZmlsbCwgZGlkUmVqZWN0KSB7XG4gICAgaWYgKGRlYnVnLndhcm5pbmdzKCkgJiYgYXJndW1lbnRzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgdHlwZW9mIGRpZEZ1bGZpbGwgIT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICB0eXBlb2YgZGlkUmVqZWN0ICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdmFyIG1zZyA9IFwiLnRoZW4oKSBvbmx5IGFjY2VwdHMgZnVuY3Rpb25zIGJ1dCB3YXMgcGFzc2VkOiBcIiArXG4gICAgICAgICAgICAgICAgdXRpbC5jbGFzc1N0cmluZyhkaWRGdWxmaWxsKTtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBtc2cgKz0gXCIsIFwiICsgdXRpbC5jbGFzc1N0cmluZyhkaWRSZWplY3QpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3dhcm4obXNnKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3RoZW4oZGlkRnVsZmlsbCwgZGlkUmVqZWN0LCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmRvbmUgPSBmdW5jdGlvbiAoZGlkRnVsZmlsbCwgZGlkUmVqZWN0KSB7XG4gICAgdmFyIHByb21pc2UgPVxuICAgICAgICB0aGlzLl90aGVuKGRpZEZ1bGZpbGwsIGRpZFJlamVjdCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgcHJvbWlzZS5fc2V0SXNGaW5hbCgpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuc3ByZWFkID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgaWYgKHR5cGVvZiBmbiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBhcGlSZWplY3Rpb24oXCJleHBlY3RpbmcgYSBmdW5jdGlvbiBidXQgZ290IFwiICsgdXRpbC5jbGFzc1N0cmluZyhmbikpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hbGwoKS5fdGhlbihmbiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIEFQUExZLCB1bmRlZmluZWQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciByZXQgPSB7XG4gICAgICAgIGlzRnVsZmlsbGVkOiBmYWxzZSxcbiAgICAgICAgaXNSZWplY3RlZDogZmFsc2UsXG4gICAgICAgIGZ1bGZpbGxtZW50VmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgICAgcmVqZWN0aW9uUmVhc29uOiB1bmRlZmluZWRcbiAgICB9O1xuICAgIGlmICh0aGlzLmlzRnVsZmlsbGVkKCkpIHtcbiAgICAgICAgcmV0LmZ1bGZpbGxtZW50VmFsdWUgPSB0aGlzLnZhbHVlKCk7XG4gICAgICAgIHJldC5pc0Z1bGZpbGxlZCA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh0aGlzLmlzUmVqZWN0ZWQoKSkge1xuICAgICAgICByZXQucmVqZWN0aW9uUmVhc29uID0gdGhpcy5yZWFzb24oKTtcbiAgICAgICAgcmV0LmlzUmVqZWN0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuYWxsID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLl93YXJuKFwiLmFsbCgpIHdhcyBwYXNzZWQgYXJndW1lbnRzIGJ1dCBpdCBkb2VzIG5vdCB0YWtlIGFueVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlQXJyYXkodGhpcykucHJvbWlzZSgpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICByZXR1cm4gdGhpcy5jYXVnaHQodXRpbC5vcmlnaW5hdGVzRnJvbVJlamVjdGlvbiwgZm4pO1xufTtcblxuUHJvbWlzZS5nZXROZXdMaWJyYXJ5Q29weSA9IG1vZHVsZS5leHBvcnRzO1xuXG5Qcm9taXNlLmlzID0gZnVuY3Rpb24gKHZhbCkge1xuICAgIHJldHVybiB2YWwgaW5zdGFuY2VvZiBQcm9taXNlO1xufTtcblxuUHJvbWlzZS5mcm9tTm9kZSA9IFByb21pc2UuZnJvbUNhbGxiYWNrID0gZnVuY3Rpb24oZm4pIHtcbiAgICB2YXIgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgIHJldC5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcbiAgICB2YXIgbXVsdGlBcmdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyAhIU9iamVjdChhcmd1bWVudHNbMV0pLm11bHRpQXJnc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlO1xuICAgIHZhciByZXN1bHQgPSB0cnlDYXRjaChmbikobm9kZWJhY2tGb3JQcm9taXNlKHJldCwgbXVsdGlBcmdzKSk7XG4gICAgaWYgKHJlc3VsdCA9PT0gZXJyb3JPYmopIHtcbiAgICAgICAgcmV0Ll9yZWplY3RDYWxsYmFjayhyZXN1bHQuZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGlmICghcmV0Ll9pc0ZhdGVTZWFsZWQoKSkgcmV0Ll9zZXRBc3luY0d1YXJhbnRlZWQoKTtcbiAgICByZXR1cm4gcmV0O1xufTtcblxuUHJvbWlzZS5hbGwgPSBmdW5jdGlvbiAocHJvbWlzZXMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2VBcnJheShwcm9taXNlcykucHJvbWlzZSgpO1xufTtcblxuUHJvbWlzZS5jYXN0ID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHZhciByZXQgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKG9iaik7XG4gICAgaWYgKCEocmV0IGluc3RhbmNlb2YgUHJvbWlzZSkpIHtcbiAgICAgICAgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgICAgICByZXQuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG4gICAgICAgIHJldC5fc2V0RnVsZmlsbGVkKCk7XG4gICAgICAgIHJldC5fcmVqZWN0aW9uSGFuZGxlcjAgPSBvYmo7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59O1xuXG5Qcm9taXNlLnJlc29sdmUgPSBQcm9taXNlLmZ1bGZpbGxlZCA9IFByb21pc2UuY2FzdDtcblxuUHJvbWlzZS5yZWplY3QgPSBQcm9taXNlLnJlamVjdGVkID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG4gICAgcmV0Ll9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuICAgIHJldC5fcmVqZWN0Q2FsbGJhY2socmVhc29uLCB0cnVlKTtcbiAgICByZXR1cm4gcmV0O1xufTtcblxuUHJvbWlzZS5zZXRTY2hlZHVsZXIgPSBmdW5jdGlvbihmbikge1xuICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZm4pKTtcbiAgICB9XG4gICAgcmV0dXJuIGFzeW5jLnNldFNjaGVkdWxlcihmbik7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fdGhlbiA9IGZ1bmN0aW9uIChcbiAgICBkaWRGdWxmaWxsLFxuICAgIGRpZFJlamVjdCxcbiAgICBfLCAgICByZWNlaXZlcixcbiAgICBpbnRlcm5hbERhdGFcbikge1xuICAgIHZhciBoYXZlSW50ZXJuYWxEYXRhID0gaW50ZXJuYWxEYXRhICE9PSB1bmRlZmluZWQ7XG4gICAgdmFyIHByb21pc2UgPSBoYXZlSW50ZXJuYWxEYXRhID8gaW50ZXJuYWxEYXRhIDogbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgIHZhciB0YXJnZXQgPSB0aGlzLl90YXJnZXQoKTtcbiAgICB2YXIgYml0RmllbGQgPSB0YXJnZXQuX2JpdEZpZWxkO1xuXG4gICAgaWYgKCFoYXZlSW50ZXJuYWxEYXRhKSB7XG4gICAgICAgIHByb21pc2UuX3Byb3BhZ2F0ZUZyb20odGhpcywgMyk7XG4gICAgICAgIHByb21pc2UuX2NhcHR1cmVTdGFja1RyYWNlKCk7XG4gICAgICAgIGlmIChyZWNlaXZlciA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAoKHRoaXMuX2JpdEZpZWxkICYgMjA5NzE1MikgIT09IDApKSB7XG4gICAgICAgICAgICBpZiAoISgoYml0RmllbGQgJiA1MDM5NzE4NCkgPT09IDApKSB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZXIgPSB0aGlzLl9ib3VuZFZhbHVlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVyID0gdGFyZ2V0ID09PSB0aGlzID8gdW5kZWZpbmVkIDogdGhpcy5fYm91bmRUbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9maXJlRXZlbnQoXCJwcm9taXNlQ2hhaW5lZFwiLCB0aGlzLCBwcm9taXNlKTtcbiAgICB9XG5cbiAgICB2YXIgZG9tYWluID0gZ2V0RG9tYWluKCk7XG4gICAgaWYgKCEoKGJpdEZpZWxkICYgNTAzOTcxODQpID09PSAwKSkge1xuICAgICAgICB2YXIgaGFuZGxlciwgdmFsdWUsIHNldHRsZXIgPSB0YXJnZXQuX3NldHRsZVByb21pc2VDdHg7XG4gICAgICAgIGlmICgoKGJpdEZpZWxkICYgMzM1NTQ0MzIpICE9PSAwKSkge1xuICAgICAgICAgICAgdmFsdWUgPSB0YXJnZXQuX3JlamVjdGlvbkhhbmRsZXIwO1xuICAgICAgICAgICAgaGFuZGxlciA9IGRpZEZ1bGZpbGw7XG4gICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDE2Nzc3MjE2KSAhPT0gMCkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdGFyZ2V0Ll9mdWxmaWxsbWVudEhhbmRsZXIwO1xuICAgICAgICAgICAgaGFuZGxlciA9IGRpZFJlamVjdDtcbiAgICAgICAgICAgIHRhcmdldC5fdW5zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0dGxlciA9IHRhcmdldC5fc2V0dGxlUHJvbWlzZUxhdGVDYW5jZWxsYXRpb25PYnNlcnZlcjtcbiAgICAgICAgICAgIHZhbHVlID0gbmV3IENhbmNlbGxhdGlvbkVycm9yKFwibGF0ZSBjYW5jZWxsYXRpb24gb2JzZXJ2ZXJcIik7XG4gICAgICAgICAgICB0YXJnZXQuX2F0dGFjaEV4dHJhVHJhY2UodmFsdWUpO1xuICAgICAgICAgICAgaGFuZGxlciA9IGRpZFJlamVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGFzeW5jLmludm9rZShzZXR0bGVyLCB0YXJnZXQsIHtcbiAgICAgICAgICAgIGhhbmRsZXI6IGRvbWFpbiA9PT0gbnVsbCA/IGhhbmRsZXJcbiAgICAgICAgICAgICAgICA6ICh0eXBlb2YgaGFuZGxlciA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgICAgICAgICAgICAgIHV0aWwuZG9tYWluQmluZChkb21haW4sIGhhbmRsZXIpKSxcbiAgICAgICAgICAgIHByb21pc2U6IHByb21pc2UsXG4gICAgICAgICAgICByZWNlaXZlcjogcmVjZWl2ZXIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0Ll9hZGRDYWxsYmFja3MoZGlkRnVsZmlsbCwgZGlkUmVqZWN0LCBwcm9taXNlLCByZWNlaXZlciwgZG9tYWluKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9sZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JpdEZpZWxkICYgNjU1MzU7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5faXNGYXRlU2VhbGVkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiAxMTc1MDYwNDgpICE9PSAwO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2lzRm9sbG93aW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiA2NzEwODg2NCkgPT09IDY3MTA4ODY0O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldExlbmd0aCA9IGZ1bmN0aW9uIChsZW4pIHtcbiAgICB0aGlzLl9iaXRGaWVsZCA9ICh0aGlzLl9iaXRGaWVsZCAmIC02NTUzNikgfFxuICAgICAgICAobGVuICYgNjU1MzUpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldEZ1bGZpbGxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgMzM1NTQ0MzI7XG4gICAgdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZUZ1bGZpbGxlZFwiLCB0aGlzKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXRSZWplY3RlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgMTY3NzcyMTY7XG4gICAgdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZVJlamVjdGVkXCIsIHRoaXMpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldEZvbGxvd2luZyA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgNjcxMDg4NjQ7XG4gICAgdGhpcy5fZmlyZUV2ZW50KFwicHJvbWlzZVJlc29sdmVkXCIsIHRoaXMpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldElzRmluYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCB8IDQxOTQzMDQ7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5faXNGaW5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgNDE5NDMwNCkgPiAwO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3Vuc2V0Q2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZCAmICh+NjU1MzYpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldENhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCA2NTUzNjtcbiAgICB0aGlzLl9maXJlRXZlbnQoXCJwcm9taXNlQ2FuY2VsbGVkXCIsIHRoaXMpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldFdpbGxCZUNhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCA4Mzg4NjA4O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldEFzeW5jR3VhcmFudGVlZCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChhc3luYy5oYXNDdXN0b21TY2hlZHVsZXIoKSkgcmV0dXJuO1xuICAgIHRoaXMuX2JpdEZpZWxkID0gdGhpcy5fYml0RmllbGQgfCAxMzQyMTc3Mjg7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fcmVjZWl2ZXJBdCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHZhciByZXQgPSBpbmRleCA9PT0gMCA/IHRoaXMuX3JlY2VpdmVyMCA6IHRoaXNbXG4gICAgICAgICAgICBpbmRleCAqIDQgLSA0ICsgM107XG4gICAgaWYgKHJldCA9PT0gVU5ERUZJTkVEX0JJTkRJTkcpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9IGVsc2UgaWYgKHJldCA9PT0gdW5kZWZpbmVkICYmIHRoaXMuX2lzQm91bmQoKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRWYWx1ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3Byb21pc2VBdCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHJldHVybiB0aGlzW1xuICAgICAgICAgICAgaW5kZXggKiA0IC0gNCArIDJdO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2Z1bGZpbGxtZW50SGFuZGxlckF0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXNbXG4gICAgICAgICAgICBpbmRleCAqIDQgLSA0ICsgMF07XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fcmVqZWN0aW9uSGFuZGxlckF0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXNbXG4gICAgICAgICAgICBpbmRleCAqIDQgLSA0ICsgMV07XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fYm91bmRWYWx1ZSA9IGZ1bmN0aW9uKCkge307XG5cblByb21pc2UucHJvdG90eXBlLl9taWdyYXRlQ2FsbGJhY2swID0gZnVuY3Rpb24gKGZvbGxvd2VyKSB7XG4gICAgdmFyIGJpdEZpZWxkID0gZm9sbG93ZXIuX2JpdEZpZWxkO1xuICAgIHZhciBmdWxmaWxsID0gZm9sbG93ZXIuX2Z1bGZpbGxtZW50SGFuZGxlcjA7XG4gICAgdmFyIHJlamVjdCA9IGZvbGxvd2VyLl9yZWplY3Rpb25IYW5kbGVyMDtcbiAgICB2YXIgcHJvbWlzZSA9IGZvbGxvd2VyLl9wcm9taXNlMDtcbiAgICB2YXIgcmVjZWl2ZXIgPSBmb2xsb3dlci5fcmVjZWl2ZXJBdCgwKTtcbiAgICBpZiAocmVjZWl2ZXIgPT09IHVuZGVmaW5lZCkgcmVjZWl2ZXIgPSBVTkRFRklORURfQklORElORztcbiAgICB0aGlzLl9hZGRDYWxsYmFja3MoZnVsZmlsbCwgcmVqZWN0LCBwcm9taXNlLCByZWNlaXZlciwgbnVsbCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fbWlncmF0ZUNhbGxiYWNrQXQgPSBmdW5jdGlvbiAoZm9sbG93ZXIsIGluZGV4KSB7XG4gICAgdmFyIGZ1bGZpbGwgPSBmb2xsb3dlci5fZnVsZmlsbG1lbnRIYW5kbGVyQXQoaW5kZXgpO1xuICAgIHZhciByZWplY3QgPSBmb2xsb3dlci5fcmVqZWN0aW9uSGFuZGxlckF0KGluZGV4KTtcbiAgICB2YXIgcHJvbWlzZSA9IGZvbGxvd2VyLl9wcm9taXNlQXQoaW5kZXgpO1xuICAgIHZhciByZWNlaXZlciA9IGZvbGxvd2VyLl9yZWNlaXZlckF0KGluZGV4KTtcbiAgICBpZiAocmVjZWl2ZXIgPT09IHVuZGVmaW5lZCkgcmVjZWl2ZXIgPSBVTkRFRklORURfQklORElORztcbiAgICB0aGlzLl9hZGRDYWxsYmFja3MoZnVsZmlsbCwgcmVqZWN0LCBwcm9taXNlLCByZWNlaXZlciwgbnVsbCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fYWRkQ2FsbGJhY2tzID0gZnVuY3Rpb24gKFxuICAgIGZ1bGZpbGwsXG4gICAgcmVqZWN0LFxuICAgIHByb21pc2UsXG4gICAgcmVjZWl2ZXIsXG4gICAgZG9tYWluXG4pIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLl9sZW5ndGgoKTtcblxuICAgIGlmIChpbmRleCA+PSA2NTUzNSAtIDQpIHtcbiAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICB0aGlzLl9zZXRMZW5ndGgoMCk7XG4gICAgfVxuXG4gICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgIHRoaXMuX3Byb21pc2UwID0gcHJvbWlzZTtcbiAgICAgICAgdGhpcy5fcmVjZWl2ZXIwID0gcmVjZWl2ZXI7XG4gICAgICAgIGlmICh0eXBlb2YgZnVsZmlsbCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aGlzLl9mdWxmaWxsbWVudEhhbmRsZXIwID1cbiAgICAgICAgICAgICAgICBkb21haW4gPT09IG51bGwgPyBmdWxmaWxsIDogdXRpbC5kb21haW5CaW5kKGRvbWFpbiwgZnVsZmlsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiByZWplY3QgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhpcy5fcmVqZWN0aW9uSGFuZGxlcjAgPVxuICAgICAgICAgICAgICAgIGRvbWFpbiA9PT0gbnVsbCA/IHJlamVjdCA6IHV0aWwuZG9tYWluQmluZChkb21haW4sIHJlamVjdCk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgYmFzZSA9IGluZGV4ICogNCAtIDQ7XG4gICAgICAgIHRoaXNbYmFzZSArIDJdID0gcHJvbWlzZTtcbiAgICAgICAgdGhpc1tiYXNlICsgM10gPSByZWNlaXZlcjtcbiAgICAgICAgaWYgKHR5cGVvZiBmdWxmaWxsID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRoaXNbYmFzZSArIDBdID1cbiAgICAgICAgICAgICAgICBkb21haW4gPT09IG51bGwgPyBmdWxmaWxsIDogdXRpbC5kb21haW5CaW5kKGRvbWFpbiwgZnVsZmlsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiByZWplY3QgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhpc1tiYXNlICsgMV0gPVxuICAgICAgICAgICAgICAgIGRvbWFpbiA9PT0gbnVsbCA/IHJlamVjdCA6IHV0aWwuZG9tYWluQmluZChkb21haW4sIHJlamVjdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fc2V0TGVuZ3RoKGluZGV4ICsgMSk7XG4gICAgcmV0dXJuIGluZGV4O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3Byb3h5ID0gZnVuY3Rpb24gKHByb3h5YWJsZSwgYXJnKSB7XG4gICAgdGhpcy5fYWRkQ2FsbGJhY2tzKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcmcsIHByb3h5YWJsZSwgbnVsbCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fcmVzb2x2ZUNhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUsIHNob3VsZEJpbmQpIHtcbiAgICBpZiAoKCh0aGlzLl9iaXRGaWVsZCAmIDExNzUwNjA0OCkgIT09IDApKSByZXR1cm47XG4gICAgaWYgKHZhbHVlID09PSB0aGlzKVxuICAgICAgICByZXR1cm4gdGhpcy5fcmVqZWN0Q2FsbGJhY2sobWFrZVNlbGZSZXNvbHV0aW9uRXJyb3IoKSwgZmFsc2UpO1xuICAgIHZhciBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHZhbHVlLCB0aGlzKTtcbiAgICBpZiAoIShtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSkgcmV0dXJuIHRoaXMuX2Z1bGZpbGwodmFsdWUpO1xuXG4gICAgaWYgKHNob3VsZEJpbmQpIHRoaXMuX3Byb3BhZ2F0ZUZyb20obWF5YmVQcm9taXNlLCAyKTtcblxuICAgIHZhciBwcm9taXNlID0gbWF5YmVQcm9taXNlLl90YXJnZXQoKTtcblxuICAgIGlmIChwcm9taXNlID09PSB0aGlzKSB7XG4gICAgICAgIHRoaXMuX3JlamVjdChtYWtlU2VsZlJlc29sdXRpb25FcnJvcigpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBiaXRGaWVsZCA9IHByb21pc2UuX2JpdEZpZWxkO1xuICAgIGlmICgoKGJpdEZpZWxkICYgNTAzOTcxODQpID09PSAwKSkge1xuICAgICAgICB2YXIgbGVuID0gdGhpcy5fbGVuZ3RoKCk7XG4gICAgICAgIGlmIChsZW4gPiAwKSBwcm9taXNlLl9taWdyYXRlQ2FsbGJhY2swKHRoaXMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICBwcm9taXNlLl9taWdyYXRlQ2FsbGJhY2tBdCh0aGlzLCBpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZXRGb2xsb3dpbmcoKTtcbiAgICAgICAgdGhpcy5fc2V0TGVuZ3RoKDApO1xuICAgICAgICB0aGlzLl9zZXRGb2xsb3dlZShwcm9taXNlKTtcbiAgICB9IGVsc2UgaWYgKCgoYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDApKSB7XG4gICAgICAgIHRoaXMuX2Z1bGZpbGwocHJvbWlzZS5fdmFsdWUoKSk7XG4gICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMTY3NzcyMTYpICE9PSAwKSkge1xuICAgICAgICB0aGlzLl9yZWplY3QocHJvbWlzZS5fcmVhc29uKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZWFzb24gPSBuZXcgQ2FuY2VsbGF0aW9uRXJyb3IoXCJsYXRlIGNhbmNlbGxhdGlvbiBvYnNlcnZlclwiKTtcbiAgICAgICAgcHJvbWlzZS5fYXR0YWNoRXh0cmFUcmFjZShyZWFzb24pO1xuICAgICAgICB0aGlzLl9yZWplY3QocmVhc29uKTtcbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fcmVqZWN0Q2FsbGJhY2sgPVxuZnVuY3Rpb24ocmVhc29uLCBzeW5jaHJvbm91cywgaWdub3JlTm9uRXJyb3JXYXJuaW5ncykge1xuICAgIHZhciB0cmFjZSA9IHV0aWwuZW5zdXJlRXJyb3JPYmplY3QocmVhc29uKTtcbiAgICB2YXIgaGFzU3RhY2sgPSB0cmFjZSA9PT0gcmVhc29uO1xuICAgIGlmICghaGFzU3RhY2sgJiYgIWlnbm9yZU5vbkVycm9yV2FybmluZ3MgJiYgZGVidWcud2FybmluZ3MoKSkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9IFwiYSBwcm9taXNlIHdhcyByZWplY3RlZCB3aXRoIGEgbm9uLWVycm9yOiBcIiArXG4gICAgICAgICAgICB1dGlsLmNsYXNzU3RyaW5nKHJlYXNvbik7XG4gICAgICAgIHRoaXMuX3dhcm4obWVzc2FnZSwgdHJ1ZSk7XG4gICAgfVxuICAgIHRoaXMuX2F0dGFjaEV4dHJhVHJhY2UodHJhY2UsIHN5bmNocm9ub3VzID8gaGFzU3RhY2sgOiBmYWxzZSk7XG4gICAgdGhpcy5fcmVqZWN0KHJlYXNvbik7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fcmVzb2x2ZUZyb21FeGVjdXRvciA9IGZ1bmN0aW9uIChleGVjdXRvcikge1xuICAgIHZhciBwcm9taXNlID0gdGhpcztcbiAgICB0aGlzLl9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuICAgIHRoaXMuX3B1c2hDb250ZXh0KCk7XG4gICAgdmFyIHN5bmNocm9ub3VzID0gdHJ1ZTtcbiAgICB2YXIgciA9IHRoaXMuX2V4ZWN1dGUoZXhlY3V0b3IsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHByb21pc2UuX3Jlc29sdmVDYWxsYmFjayh2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICBwcm9taXNlLl9yZWplY3RDYWxsYmFjayhyZWFzb24sIHN5bmNocm9ub3VzKTtcbiAgICB9KTtcbiAgICBzeW5jaHJvbm91cyA9IGZhbHNlO1xuICAgIHRoaXMuX3BvcENvbnRleHQoKTtcblxuICAgIGlmIChyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2sociwgdHJ1ZSk7XG4gICAgfVxufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldHRsZVByb21pc2VGcm9tSGFuZGxlciA9IGZ1bmN0aW9uIChcbiAgICBoYW5kbGVyLCByZWNlaXZlciwgdmFsdWUsIHByb21pc2Vcbikge1xuICAgIHZhciBiaXRGaWVsZCA9IHByb21pc2UuX2JpdEZpZWxkO1xuICAgIGlmICgoKGJpdEZpZWxkICYgNjU1MzYpICE9PSAwKSkgcmV0dXJuO1xuICAgIHByb21pc2UuX3B1c2hDb250ZXh0KCk7XG4gICAgdmFyIHg7XG4gICAgaWYgKHJlY2VpdmVyID09PSBBUFBMWSkge1xuICAgICAgICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZS5sZW5ndGggIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHggPSBlcnJvck9iajtcbiAgICAgICAgICAgIHguZSA9IG5ldyBUeXBlRXJyb3IoXCJjYW5ub3QgLnNwcmVhZCgpIGEgbm9uLWFycmF5OiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlsLmNsYXNzU3RyaW5nKHZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB4ID0gdHJ5Q2F0Y2goaGFuZGxlcikuYXBwbHkodGhpcy5fYm91bmRWYWx1ZSgpLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICB4ID0gdHJ5Q2F0Y2goaGFuZGxlcikuY2FsbChyZWNlaXZlciwgdmFsdWUpO1xuICAgIH1cbiAgICB2YXIgcHJvbWlzZUNyZWF0ZWQgPSBwcm9taXNlLl9wb3BDb250ZXh0KCk7XG4gICAgYml0RmllbGQgPSBwcm9taXNlLl9iaXRGaWVsZDtcbiAgICBpZiAoKChiaXRGaWVsZCAmIDY1NTM2KSAhPT0gMCkpIHJldHVybjtcblxuICAgIGlmICh4ID09PSBORVhUX0ZJTFRFUikge1xuICAgICAgICBwcm9taXNlLl9yZWplY3QodmFsdWUpO1xuICAgIH0gZWxzZSBpZiAoeCA9PT0gZXJyb3JPYmopIHtcbiAgICAgICAgcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2soeC5lLCBmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZGVidWcuY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zKHgsIHByb21pc2VDcmVhdGVkLCBcIlwiLCAgcHJvbWlzZSwgdGhpcyk7XG4gICAgICAgIHByb21pc2UuX3Jlc29sdmVDYWxsYmFjayh4KTtcbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fdGFyZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJldCA9IHRoaXM7XG4gICAgd2hpbGUgKHJldC5faXNGb2xsb3dpbmcoKSkgcmV0ID0gcmV0Ll9mb2xsb3dlZSgpO1xuICAgIHJldHVybiByZXQ7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fZm9sbG93ZWUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVqZWN0aW9uSGFuZGxlcjA7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fc2V0Rm9sbG93ZWUgPSBmdW5jdGlvbihwcm9taXNlKSB7XG4gICAgdGhpcy5fcmVqZWN0aW9uSGFuZGxlcjAgPSBwcm9taXNlO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldHRsZVByb21pc2UgPSBmdW5jdGlvbihwcm9taXNlLCBoYW5kbGVyLCByZWNlaXZlciwgdmFsdWUpIHtcbiAgICB2YXIgaXNQcm9taXNlID0gcHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2U7XG4gICAgdmFyIGJpdEZpZWxkID0gdGhpcy5fYml0RmllbGQ7XG4gICAgdmFyIGFzeW5jR3VhcmFudGVlZCA9ICgoYml0RmllbGQgJiAxMzQyMTc3MjgpICE9PSAwKTtcbiAgICBpZiAoKChiaXRGaWVsZCAmIDY1NTM2KSAhPT0gMCkpIHtcbiAgICAgICAgaWYgKGlzUHJvbWlzZSkgcHJvbWlzZS5faW52b2tlSW50ZXJuYWxPbkNhbmNlbCgpO1xuXG4gICAgICAgIGlmIChyZWNlaXZlciBpbnN0YW5jZW9mIFBhc3NUaHJvdWdoSGFuZGxlckNvbnRleHQgJiZcbiAgICAgICAgICAgIHJlY2VpdmVyLmlzRmluYWxseUhhbmRsZXIoKSkge1xuICAgICAgICAgICAgcmVjZWl2ZXIuY2FuY2VsUHJvbWlzZSA9IHByb21pc2U7XG4gICAgICAgICAgICBpZiAodHJ5Q2F0Y2goaGFuZGxlcikuY2FsbChyZWNlaXZlciwgdmFsdWUpID09PSBlcnJvck9iaikge1xuICAgICAgICAgICAgICAgIHByb21pc2UuX3JlamVjdChlcnJvck9iai5lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChoYW5kbGVyID09PSByZWZsZWN0SGFuZGxlcikge1xuICAgICAgICAgICAgcHJvbWlzZS5fZnVsZmlsbChyZWZsZWN0SGFuZGxlci5jYWxsKHJlY2VpdmVyKSk7XG4gICAgICAgIH0gZWxzZSBpZiAocmVjZWl2ZXIgaW5zdGFuY2VvZiBQcm94eWFibGUpIHtcbiAgICAgICAgICAgIHJlY2VpdmVyLl9wcm9taXNlQ2FuY2VsbGVkKHByb21pc2UpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzUHJvbWlzZSB8fCBwcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZUFycmF5KSB7XG4gICAgICAgICAgICBwcm9taXNlLl9jYW5jZWwoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlY2VpdmVyLmNhbmNlbCgpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGlmICghaXNQcm9taXNlKSB7XG4gICAgICAgICAgICBoYW5kbGVyLmNhbGwocmVjZWl2ZXIsIHZhbHVlLCBwcm9taXNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChhc3luY0d1YXJhbnRlZWQpIHByb21pc2UuX3NldEFzeW5jR3VhcmFudGVlZCgpO1xuICAgICAgICAgICAgdGhpcy5fc2V0dGxlUHJvbWlzZUZyb21IYW5kbGVyKGhhbmRsZXIsIHJlY2VpdmVyLCB2YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJlY2VpdmVyIGluc3RhbmNlb2YgUHJveHlhYmxlKSB7XG4gICAgICAgIGlmICghcmVjZWl2ZXIuX2lzUmVzb2x2ZWQoKSkge1xuICAgICAgICAgICAgaWYgKCgoYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDApKSB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZXIuX3Byb21pc2VGdWxmaWxsZWQodmFsdWUsIHByb21pc2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlci5fcHJvbWlzZVJlamVjdGVkKHZhbHVlLCBwcm9taXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNQcm9taXNlKSB7XG4gICAgICAgIGlmIChhc3luY0d1YXJhbnRlZWQpIHByb21pc2UuX3NldEFzeW5jR3VhcmFudGVlZCgpO1xuICAgICAgICBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcbiAgICAgICAgICAgIHByb21pc2UuX2Z1bGZpbGwodmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvbWlzZS5fcmVqZWN0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlTGF0ZUNhbmNlbGxhdGlvbk9ic2VydmVyID0gZnVuY3Rpb24oY3R4KSB7XG4gICAgdmFyIGhhbmRsZXIgPSBjdHguaGFuZGxlcjtcbiAgICB2YXIgcHJvbWlzZSA9IGN0eC5wcm9taXNlO1xuICAgIHZhciByZWNlaXZlciA9IGN0eC5yZWNlaXZlcjtcbiAgICB2YXIgdmFsdWUgPSBjdHgudmFsdWU7XG4gICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgaWYgKCEocHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpKSB7XG4gICAgICAgICAgICBoYW5kbGVyLmNhbGwocmVjZWl2ZXIsIHZhbHVlLCBwcm9taXNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3NldHRsZVByb21pc2VGcm9tSGFuZGxlcihoYW5kbGVyLCByZWNlaXZlciwgdmFsdWUsIHByb21pc2UpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChwcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICBwcm9taXNlLl9yZWplY3QodmFsdWUpO1xuICAgIH1cbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlQ3R4ID0gZnVuY3Rpb24oY3R4KSB7XG4gICAgdGhpcy5fc2V0dGxlUHJvbWlzZShjdHgucHJvbWlzZSwgY3R4LmhhbmRsZXIsIGN0eC5yZWNlaXZlciwgY3R4LnZhbHVlKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlMCA9IGZ1bmN0aW9uKGhhbmRsZXIsIHZhbHVlLCBiaXRGaWVsZCkge1xuICAgIHZhciBwcm9taXNlID0gdGhpcy5fcHJvbWlzZTA7XG4gICAgdmFyIHJlY2VpdmVyID0gdGhpcy5fcmVjZWl2ZXJBdCgwKTtcbiAgICB0aGlzLl9wcm9taXNlMCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9yZWNlaXZlcjAgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fc2V0dGxlUHJvbWlzZShwcm9taXNlLCBoYW5kbGVyLCByZWNlaXZlciwgdmFsdWUpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2NsZWFyQ2FsbGJhY2tEYXRhQXRJbmRleCA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgdmFyIGJhc2UgPSBpbmRleCAqIDQgLSA0O1xuICAgIHRoaXNbYmFzZSArIDJdID1cbiAgICB0aGlzW2Jhc2UgKyAzXSA9XG4gICAgdGhpc1tiYXNlICsgMF0gPVxuICAgIHRoaXNbYmFzZSArIDFdID0gdW5kZWZpbmVkO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2Z1bGZpbGwgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB2YXIgYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZDtcbiAgICBpZiAoKChiaXRGaWVsZCAmIDExNzUwNjA0OCkgPj4+IDE2KSkgcmV0dXJuO1xuICAgIGlmICh2YWx1ZSA9PT0gdGhpcykge1xuICAgICAgICB2YXIgZXJyID0gbWFrZVNlbGZSZXNvbHV0aW9uRXJyb3IoKTtcbiAgICAgICAgdGhpcy5fYXR0YWNoRXh0cmFUcmFjZShlcnIpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVqZWN0KGVycik7XG4gICAgfVxuICAgIHRoaXMuX3NldEZ1bGZpbGxlZCgpO1xuICAgIHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwID0gdmFsdWU7XG5cbiAgICBpZiAoKGJpdEZpZWxkICYgNjU1MzUpID4gMCkge1xuICAgICAgICBpZiAoKChiaXRGaWVsZCAmIDEzNDIxNzcyOCkgIT09IDApKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXR0bGVQcm9taXNlcygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXN5bmMuc2V0dGxlUHJvbWlzZXModGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fcmVqZWN0ID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHZhciBiaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkO1xuICAgIGlmICgoKGJpdEZpZWxkICYgMTE3NTA2MDQ4KSA+Pj4gMTYpKSByZXR1cm47XG4gICAgdGhpcy5fc2V0UmVqZWN0ZWQoKTtcbiAgICB0aGlzLl9mdWxmaWxsbWVudEhhbmRsZXIwID0gcmVhc29uO1xuXG4gICAgaWYgKHRoaXMuX2lzRmluYWwoKSkge1xuICAgICAgICByZXR1cm4gYXN5bmMuZmF0YWxFcnJvcihyZWFzb24sIHV0aWwuaXNOb2RlKTtcbiAgICB9XG5cbiAgICBpZiAoKGJpdEZpZWxkICYgNjU1MzUpID4gMCkge1xuICAgICAgICBhc3luYy5zZXR0bGVQcm9taXNlcyh0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9lbnN1cmVQb3NzaWJsZVJlamVjdGlvbkhhbmRsZWQoKTtcbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fZnVsZmlsbFByb21pc2VzID0gZnVuY3Rpb24gKGxlbiwgdmFsdWUpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBoYW5kbGVyID0gdGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyQXQoaSk7XG4gICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5fcHJvbWlzZUF0KGkpO1xuICAgICAgICB2YXIgcmVjZWl2ZXIgPSB0aGlzLl9yZWNlaXZlckF0KGkpO1xuICAgICAgICB0aGlzLl9jbGVhckNhbGxiYWNrRGF0YUF0SW5kZXgoaSk7XG4gICAgICAgIHRoaXMuX3NldHRsZVByb21pc2UocHJvbWlzZSwgaGFuZGxlciwgcmVjZWl2ZXIsIHZhbHVlKTtcbiAgICB9XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fcmVqZWN0UHJvbWlzZXMgPSBmdW5jdGlvbiAobGVuLCByZWFzb24pIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBoYW5kbGVyID0gdGhpcy5fcmVqZWN0aW9uSGFuZGxlckF0KGkpO1xuICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuX3Byb21pc2VBdChpKTtcbiAgICAgICAgdmFyIHJlY2VpdmVyID0gdGhpcy5fcmVjZWl2ZXJBdChpKTtcbiAgICAgICAgdGhpcy5fY2xlYXJDYWxsYmFja0RhdGFBdEluZGV4KGkpO1xuICAgICAgICB0aGlzLl9zZXR0bGVQcm9taXNlKHByb21pc2UsIGhhbmRsZXIsIHJlY2VpdmVyLCByZWFzb24pO1xuICAgIH1cbn07XG5cblByb21pc2UucHJvdG90eXBlLl9zZXR0bGVQcm9taXNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYml0RmllbGQgPSB0aGlzLl9iaXRGaWVsZDtcbiAgICB2YXIgbGVuID0gKGJpdEZpZWxkICYgNjU1MzUpO1xuXG4gICAgaWYgKGxlbiA+IDApIHtcbiAgICAgICAgaWYgKCgoYml0RmllbGQgJiAxNjg0Mjc1MikgIT09IDApKSB7XG4gICAgICAgICAgICB2YXIgcmVhc29uID0gdGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyMDtcbiAgICAgICAgICAgIHRoaXMuX3NldHRsZVByb21pc2UwKHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwLCByZWFzb24sIGJpdEZpZWxkKTtcbiAgICAgICAgICAgIHRoaXMuX3JlamVjdFByb21pc2VzKGxlbiwgcmVhc29uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuX3JlamVjdGlvbkhhbmRsZXIwO1xuICAgICAgICAgICAgdGhpcy5fc2V0dGxlUHJvbWlzZTAodGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyMCwgdmFsdWUsIGJpdEZpZWxkKTtcbiAgICAgICAgICAgIHRoaXMuX2Z1bGZpbGxQcm9taXNlcyhsZW4sIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZXRMZW5ndGgoMCk7XG4gICAgfVxuICAgIHRoaXMuX2NsZWFyQ2FuY2VsbGF0aW9uRGF0YSgpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3NldHRsZWRWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBiaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkO1xuICAgIGlmICgoKGJpdEZpZWxkICYgMzM1NTQ0MzIpICE9PSAwKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVqZWN0aW9uSGFuZGxlcjA7XG4gICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMTY3NzcyMTYpICE9PSAwKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZnVsZmlsbG1lbnRIYW5kbGVyMDtcbiAgICB9XG59O1xuXG5mdW5jdGlvbiBkZWZlclJlc29sdmUodikge3RoaXMucHJvbWlzZS5fcmVzb2x2ZUNhbGxiYWNrKHYpO31cbmZ1bmN0aW9uIGRlZmVyUmVqZWN0KHYpIHt0aGlzLnByb21pc2UuX3JlamVjdENhbGxiYWNrKHYsIGZhbHNlKTt9XG5cblByb21pc2UuZGVmZXIgPSBQcm9taXNlLnBlbmRpbmcgPSBmdW5jdGlvbigpIHtcbiAgICBkZWJ1Zy5kZXByZWNhdGVkKFwiUHJvbWlzZS5kZWZlclwiLCBcIm5ldyBQcm9taXNlXCIpO1xuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHByb21pc2U6IHByb21pc2UsXG4gICAgICAgIHJlc29sdmU6IGRlZmVyUmVzb2x2ZSxcbiAgICAgICAgcmVqZWN0OiBkZWZlclJlamVjdFxuICAgIH07XG59O1xuXG51dGlsLm5vdEVudW1lcmFibGVQcm9wKFByb21pc2UsXG4gICAgICAgICAgICAgICAgICAgICAgIFwiX21ha2VTZWxmUmVzb2x1dGlvbkVycm9yXCIsXG4gICAgICAgICAgICAgICAgICAgICAgIG1ha2VTZWxmUmVzb2x1dGlvbkVycm9yKTtcblxuX2RlcmVxXyhcIi4vbWV0aG9kXCIpKFByb21pc2UsIElOVEVSTkFMLCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBhcGlSZWplY3Rpb24sXG4gICAgZGVidWcpO1xuX2RlcmVxXyhcIi4vYmluZFwiKShQcm9taXNlLCBJTlRFUk5BTCwgdHJ5Q29udmVydFRvUHJvbWlzZSwgZGVidWcpO1xuX2RlcmVxXyhcIi4vY2FuY2VsXCIpKFByb21pc2UsIFByb21pc2VBcnJheSwgYXBpUmVqZWN0aW9uLCBkZWJ1Zyk7XG5fZGVyZXFfKFwiLi9kaXJlY3RfcmVzb2x2ZVwiKShQcm9taXNlKTtcbl9kZXJlcV8oXCIuL3N5bmNocm9ub3VzX2luc3BlY3Rpb25cIikoUHJvbWlzZSk7XG5fZGVyZXFfKFwiLi9qb2luXCIpKFxuICAgIFByb21pc2UsIFByb21pc2VBcnJheSwgdHJ5Q29udmVydFRvUHJvbWlzZSwgSU5URVJOQUwsIGFzeW5jLCBnZXREb21haW4pO1xuUHJvbWlzZS5Qcm9taXNlID0gUHJvbWlzZTtcblByb21pc2UudmVyc2lvbiA9IFwiMy40LjZcIjtcbl9kZXJlcV8oJy4vbWFwLmpzJykoUHJvbWlzZSwgUHJvbWlzZUFycmF5LCBhcGlSZWplY3Rpb24sIHRyeUNvbnZlcnRUb1Byb21pc2UsIElOVEVSTkFMLCBkZWJ1Zyk7XG5fZGVyZXFfKCcuL2NhbGxfZ2V0LmpzJykoUHJvbWlzZSk7XG5fZGVyZXFfKCcuL3VzaW5nLmpzJykoUHJvbWlzZSwgYXBpUmVqZWN0aW9uLCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBjcmVhdGVDb250ZXh0LCBJTlRFUk5BTCwgZGVidWcpO1xuX2RlcmVxXygnLi90aW1lcnMuanMnKShQcm9taXNlLCBJTlRFUk5BTCwgZGVidWcpO1xuX2RlcmVxXygnLi9nZW5lcmF0b3JzLmpzJykoUHJvbWlzZSwgYXBpUmVqZWN0aW9uLCBJTlRFUk5BTCwgdHJ5Q29udmVydFRvUHJvbWlzZSwgUHJveHlhYmxlLCBkZWJ1Zyk7XG5fZGVyZXFfKCcuL25vZGVpZnkuanMnKShQcm9taXNlKTtcbl9kZXJlcV8oJy4vcHJvbWlzaWZ5LmpzJykoUHJvbWlzZSwgSU5URVJOQUwpO1xuX2RlcmVxXygnLi9wcm9wcy5qcycpKFByb21pc2UsIFByb21pc2VBcnJheSwgdHJ5Q29udmVydFRvUHJvbWlzZSwgYXBpUmVqZWN0aW9uKTtcbl9kZXJlcV8oJy4vcmFjZS5qcycpKFByb21pc2UsIElOVEVSTkFMLCB0cnlDb252ZXJ0VG9Qcm9taXNlLCBhcGlSZWplY3Rpb24pO1xuX2RlcmVxXygnLi9yZWR1Y2UuanMnKShQcm9taXNlLCBQcm9taXNlQXJyYXksIGFwaVJlamVjdGlvbiwgdHJ5Q29udmVydFRvUHJvbWlzZSwgSU5URVJOQUwsIGRlYnVnKTtcbl9kZXJlcV8oJy4vc2V0dGxlLmpzJykoUHJvbWlzZSwgUHJvbWlzZUFycmF5LCBkZWJ1Zyk7XG5fZGVyZXFfKCcuL3NvbWUuanMnKShQcm9taXNlLCBQcm9taXNlQXJyYXksIGFwaVJlamVjdGlvbik7XG5fZGVyZXFfKCcuL2ZpbHRlci5qcycpKFByb21pc2UsIElOVEVSTkFMKTtcbl9kZXJlcV8oJy4vZWFjaC5qcycpKFByb21pc2UsIElOVEVSTkFMKTtcbl9kZXJlcV8oJy4vYW55LmpzJykoUHJvbWlzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICB1dGlsLnRvRmFzdFByb3BlcnRpZXMoUHJvbWlzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgdXRpbC50b0Zhc3RQcm9wZXJ0aWVzKFByb21pc2UucHJvdG90eXBlKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgIGZ1bmN0aW9uIGZpbGxUeXBlcyh2YWx1ZSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgdmFyIHAgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIHAuX2Z1bGZpbGxtZW50SGFuZGxlcjAgPSB2YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICBwLl9yZWplY3Rpb25IYW5kbGVyMCA9IHZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgcC5fcHJvbWlzZTAgPSB2YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIHAuX3JlY2VpdmVyMCA9IHZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAvLyBDb21wbGV0ZSBzbGFjayB0cmFja2luZywgb3B0IG91dCBvZiBmaWVsZC10eXBlIHRyYWNraW5nIGFuZCAgICAgICAgICAgXG4gICAgLy8gc3RhYmlsaXplIG1hcCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgIGZpbGxUeXBlcyh7YTogMX0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICBmaWxsVHlwZXMoe2I6IDJ9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgZmlsbFR5cGVzKHtjOiAzfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgIGZpbGxUeXBlcygxKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICBmaWxsVHlwZXMoZnVuY3Rpb24oKXt9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgZmlsbFR5cGVzKHVuZGVmaW5lZCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgIGZpbGxUeXBlcyhmYWxzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICBmaWxsVHlwZXMobmV3IFByb21pc2UoSU5URVJOQUwpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgZGVidWcuc2V0Qm91bmRzKEFzeW5jLmZpcnN0TGluZUVycm9yLCB1dGlsLmxhc3RMaW5lRXJyb3IpOyAgICAgICAgICAgICAgIFxuICAgIHJldHVybiBQcm9taXNlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblxufTtcblxufSx7XCIuL2FueS5qc1wiOjEsXCIuL2FzeW5jXCI6MixcIi4vYmluZFwiOjMsXCIuL2NhbGxfZ2V0LmpzXCI6NSxcIi4vY2FuY2VsXCI6NixcIi4vY2F0Y2hfZmlsdGVyXCI6NyxcIi4vY29udGV4dFwiOjgsXCIuL2RlYnVnZ2FiaWxpdHlcIjo5LFwiLi9kaXJlY3RfcmVzb2x2ZVwiOjEwLFwiLi9lYWNoLmpzXCI6MTEsXCIuL2Vycm9yc1wiOjEyLFwiLi9lczVcIjoxMyxcIi4vZmlsdGVyLmpzXCI6MTQsXCIuL2ZpbmFsbHlcIjoxNSxcIi4vZ2VuZXJhdG9ycy5qc1wiOjE2LFwiLi9qb2luXCI6MTcsXCIuL21hcC5qc1wiOjE4LFwiLi9tZXRob2RcIjoxOSxcIi4vbm9kZWJhY2tcIjoyMCxcIi4vbm9kZWlmeS5qc1wiOjIxLFwiLi9wcm9taXNlX2FycmF5XCI6MjMsXCIuL3Byb21pc2lmeS5qc1wiOjI0LFwiLi9wcm9wcy5qc1wiOjI1LFwiLi9yYWNlLmpzXCI6MjcsXCIuL3JlZHVjZS5qc1wiOjI4LFwiLi9zZXR0bGUuanNcIjozMCxcIi4vc29tZS5qc1wiOjMxLFwiLi9zeW5jaHJvbm91c19pbnNwZWN0aW9uXCI6MzIsXCIuL3RoZW5hYmxlc1wiOjMzLFwiLi90aW1lcnMuanNcIjozNCxcIi4vdXNpbmcuanNcIjozNSxcIi4vdXRpbFwiOjM2fV0sMjM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UsIElOVEVSTkFMLCB0cnlDb252ZXJ0VG9Qcm9taXNlLFxuICAgIGFwaVJlamVjdGlvbiwgUHJveHlhYmxlKSB7XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgaXNBcnJheSA9IHV0aWwuaXNBcnJheTtcblxuZnVuY3Rpb24gdG9SZXNvbHV0aW9uVmFsdWUodmFsKSB7XG4gICAgc3dpdGNoKHZhbCkge1xuICAgIGNhc2UgLTI6IHJldHVybiBbXTtcbiAgICBjYXNlIC0zOiByZXR1cm4ge307XG4gICAgfVxufVxuXG5mdW5jdGlvbiBQcm9taXNlQXJyYXkodmFsdWVzKSB7XG4gICAgdmFyIHByb21pc2UgPSB0aGlzLl9wcm9taXNlID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgIGlmICh2YWx1ZXMgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHByb21pc2UuX3Byb3BhZ2F0ZUZyb20odmFsdWVzLCAzKTtcbiAgICB9XG4gICAgcHJvbWlzZS5fc2V0T25DYW5jZWwodGhpcyk7XG4gICAgdGhpcy5fdmFsdWVzID0gdmFsdWVzO1xuICAgIHRoaXMuX2xlbmd0aCA9IDA7XG4gICAgdGhpcy5fdG90YWxSZXNvbHZlZCA9IDA7XG4gICAgdGhpcy5faW5pdCh1bmRlZmluZWQsIC0yKTtcbn1cbnV0aWwuaW5oZXJpdHMoUHJvbWlzZUFycmF5LCBQcm94eWFibGUpO1xuXG5Qcm9taXNlQXJyYXkucHJvdG90eXBlLmxlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fbGVuZ3RoO1xufTtcblxuUHJvbWlzZUFycmF5LnByb3RvdHlwZS5wcm9taXNlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9wcm9taXNlO1xufTtcblxuUHJvbWlzZUFycmF5LnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uIGluaXQoXywgcmVzb2x2ZVZhbHVlSWZFbXB0eSkge1xuICAgIHZhciB2YWx1ZXMgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHRoaXMuX3ZhbHVlcywgdGhpcy5fcHJvbWlzZSk7XG4gICAgaWYgKHZhbHVlcyBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgdmFsdWVzID0gdmFsdWVzLl90YXJnZXQoKTtcbiAgICAgICAgdmFyIGJpdEZpZWxkID0gdmFsdWVzLl9iaXRGaWVsZDtcbiAgICAgICAgO1xuICAgICAgICB0aGlzLl92YWx1ZXMgPSB2YWx1ZXM7XG5cbiAgICAgICAgaWYgKCgoYml0RmllbGQgJiA1MDM5NzE4NCkgPT09IDApKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9taXNlLl9zZXRBc3luY0d1YXJhbnRlZWQoKTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZXMuX3RoZW4oXG4gICAgICAgICAgICAgICAgaW5pdCxcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWplY3QsXG4gICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgcmVzb2x2ZVZhbHVlSWZFbXB0eVxuICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKCgoYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDApKSB7XG4gICAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZXMuX3ZhbHVlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDE2Nzc3MjE2KSAhPT0gMCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWplY3QodmFsdWVzLl9yZWFzb24oKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFsdWVzID0gdXRpbC5hc0FycmF5KHZhbHVlcyk7XG4gICAgaWYgKHZhbHVlcyA9PT0gbnVsbCkge1xuICAgICAgICB2YXIgZXJyID0gYXBpUmVqZWN0aW9uKFxuICAgICAgICAgICAgXCJleHBlY3RpbmcgYW4gYXJyYXkgb3IgYW4gaXRlcmFibGUgb2JqZWN0IGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKHZhbHVlcykpLnJlYXNvbigpO1xuICAgICAgICB0aGlzLl9wcm9taXNlLl9yZWplY3RDYWxsYmFjayhlcnIsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGlmIChyZXNvbHZlVmFsdWVJZkVtcHR5ID09PSAtNSkge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZUVtcHR5QXJyYXkoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUodG9SZXNvbHV0aW9uVmFsdWUocmVzb2x2ZVZhbHVlSWZFbXB0eSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5faXRlcmF0ZSh2YWx1ZXMpO1xufTtcblxuUHJvbWlzZUFycmF5LnByb3RvdHlwZS5faXRlcmF0ZSA9IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgIHZhciBsZW4gPSB0aGlzLmdldEFjdHVhbExlbmd0aCh2YWx1ZXMubGVuZ3RoKTtcbiAgICB0aGlzLl9sZW5ndGggPSBsZW47XG4gICAgdGhpcy5fdmFsdWVzID0gdGhpcy5zaG91bGRDb3B5VmFsdWVzKCkgPyBuZXcgQXJyYXkobGVuKSA6IHRoaXMuX3ZhbHVlcztcbiAgICB2YXIgcmVzdWx0ID0gdGhpcy5fcHJvbWlzZTtcbiAgICB2YXIgaXNSZXNvbHZlZCA9IGZhbHNlO1xuICAgIHZhciBiaXRGaWVsZCA9IG51bGw7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gdHJ5Q29udmVydFRvUHJvbWlzZSh2YWx1ZXNbaV0sIHJlc3VsdCk7XG5cbiAgICAgICAgaWYgKG1heWJlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIG1heWJlUHJvbWlzZSA9IG1heWJlUHJvbWlzZS5fdGFyZ2V0KCk7XG4gICAgICAgICAgICBiaXRGaWVsZCA9IG1heWJlUHJvbWlzZS5fYml0RmllbGQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBiaXRGaWVsZCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNSZXNvbHZlZCkge1xuICAgICAgICAgICAgaWYgKGJpdEZpZWxkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlLnN1cHByZXNzVW5oYW5kbGVkUmVqZWN0aW9ucygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGJpdEZpZWxkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoKChiaXRGaWVsZCAmIDUwMzk3MTg0KSA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICBtYXliZVByb21pc2UuX3Byb3h5KHRoaXMsIGkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlc1tpXSA9IG1heWJlUHJvbWlzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKChiaXRGaWVsZCAmIDMzNTU0NDMyKSAhPT0gMCkpIHtcbiAgICAgICAgICAgICAgICBpc1Jlc29sdmVkID0gdGhpcy5fcHJvbWlzZUZ1bGZpbGxlZChtYXliZVByb21pc2UuX3ZhbHVlKCksIGkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgoKGJpdEZpZWxkICYgMTY3NzcyMTYpICE9PSAwKSkge1xuICAgICAgICAgICAgICAgIGlzUmVzb2x2ZWQgPSB0aGlzLl9wcm9taXNlUmVqZWN0ZWQobWF5YmVQcm9taXNlLl9yZWFzb24oKSwgaSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlzUmVzb2x2ZWQgPSB0aGlzLl9wcm9taXNlQ2FuY2VsbGVkKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXNSZXNvbHZlZCA9IHRoaXMuX3Byb21pc2VGdWxmaWxsZWQobWF5YmVQcm9taXNlLCBpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWlzUmVzb2x2ZWQpIHJlc3VsdC5fc2V0QXN5bmNHdWFyYW50ZWVkKCk7XG59O1xuXG5Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9pc1Jlc29sdmVkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZXMgPT09IG51bGw7XG59O1xuXG5Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9yZXNvbHZlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdGhpcy5fdmFsdWVzID0gbnVsbDtcbiAgICB0aGlzLl9wcm9taXNlLl9mdWxmaWxsKHZhbHVlKTtcbn07XG5cblByb21pc2VBcnJheS5wcm90b3R5cGUuX2NhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLl9pc1Jlc29sdmVkKCkgfHwgIXRoaXMuX3Byb21pc2UuX2lzQ2FuY2VsbGFibGUoKSkgcmV0dXJuO1xuICAgIHRoaXMuX3ZhbHVlcyA9IG51bGw7XG4gICAgdGhpcy5fcHJvbWlzZS5fY2FuY2VsKCk7XG59O1xuXG5Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9yZWplY3QgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgdGhpcy5fdmFsdWVzID0gbnVsbDtcbiAgICB0aGlzLl9wcm9taXNlLl9yZWplY3RDYWxsYmFjayhyZWFzb24sIGZhbHNlKTtcbn07XG5cblByb21pc2VBcnJheS5wcm90b3R5cGUuX3Byb21pc2VGdWxmaWxsZWQgPSBmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG4gICAgdGhpcy5fdmFsdWVzW2luZGV4XSA9IHZhbHVlO1xuICAgIHZhciB0b3RhbFJlc29sdmVkID0gKyt0aGlzLl90b3RhbFJlc29sdmVkO1xuICAgIGlmICh0b3RhbFJlc29sdmVkID49IHRoaXMuX2xlbmd0aCkge1xuICAgICAgICB0aGlzLl9yZXNvbHZlKHRoaXMuX3ZhbHVlcyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG5Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9wcm9taXNlQ2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fY2FuY2VsKCk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9wcm9taXNlUmVqZWN0ZWQgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgdGhpcy5fdG90YWxSZXNvbHZlZCsrO1xuICAgIHRoaXMuX3JlamVjdChyZWFzb24pO1xuICAgIHJldHVybiB0cnVlO1xufTtcblxuUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcmVzdWx0Q2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX2lzUmVzb2x2ZWQoKSkgcmV0dXJuO1xuICAgIHZhciB2YWx1ZXMgPSB0aGlzLl92YWx1ZXM7XG4gICAgdGhpcy5fY2FuY2VsKCk7XG4gICAgaWYgKHZhbHVlcyBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgdmFsdWVzLmNhbmNlbCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAodmFsdWVzW2ldIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHZhbHVlc1tpXS5jYW5jZWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5cblByb21pc2VBcnJheS5wcm90b3R5cGUuc2hvdWxkQ29weVZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cblByb21pc2VBcnJheS5wcm90b3R5cGUuZ2V0QWN0dWFsTGVuZ3RoID0gZnVuY3Rpb24gKGxlbikge1xuICAgIHJldHVybiBsZW47XG59O1xuXG5yZXR1cm4gUHJvbWlzZUFycmF5O1xufTtcblxufSx7XCIuL3V0aWxcIjozNn1dLDI0OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLCBJTlRFUk5BTCkge1xudmFyIFRISVMgPSB7fTtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBub2RlYmFja0ZvclByb21pc2UgPSBfZGVyZXFfKFwiLi9ub2RlYmFja1wiKTtcbnZhciB3aXRoQXBwZW5kZWQgPSB1dGlsLndpdGhBcHBlbmRlZDtcbnZhciBtYXliZVdyYXBBc0Vycm9yID0gdXRpbC5tYXliZVdyYXBBc0Vycm9yO1xudmFyIGNhbkV2YWx1YXRlID0gdXRpbC5jYW5FdmFsdWF0ZTtcbnZhciBUeXBlRXJyb3IgPSBfZGVyZXFfKFwiLi9lcnJvcnNcIikuVHlwZUVycm9yO1xudmFyIGRlZmF1bHRTdWZmaXggPSBcIkFzeW5jXCI7XG52YXIgZGVmYXVsdFByb21pc2lmaWVkID0ge19faXNQcm9taXNpZmllZF9fOiB0cnVlfTtcbnZhciBub0NvcHlQcm9wcyA9IFtcbiAgICBcImFyaXR5XCIsICAgIFwibGVuZ3RoXCIsXG4gICAgXCJuYW1lXCIsXG4gICAgXCJhcmd1bWVudHNcIixcbiAgICBcImNhbGxlclwiLFxuICAgIFwiY2FsbGVlXCIsXG4gICAgXCJwcm90b3R5cGVcIixcbiAgICBcIl9faXNQcm9taXNpZmllZF9fXCJcbl07XG52YXIgbm9Db3B5UHJvcHNQYXR0ZXJuID0gbmV3IFJlZ0V4cChcIl4oPzpcIiArIG5vQ29weVByb3BzLmpvaW4oXCJ8XCIpICsgXCIpJFwiKTtcblxudmFyIGRlZmF1bHRGaWx0ZXIgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgcmV0dXJuIHV0aWwuaXNJZGVudGlmaWVyKG5hbWUpICYmXG4gICAgICAgIG5hbWUuY2hhckF0KDApICE9PSBcIl9cIiAmJlxuICAgICAgICBuYW1lICE9PSBcImNvbnN0cnVjdG9yXCI7XG59O1xuXG5mdW5jdGlvbiBwcm9wc0ZpbHRlcihrZXkpIHtcbiAgICByZXR1cm4gIW5vQ29weVByb3BzUGF0dGVybi50ZXN0KGtleSk7XG59XG5cbmZ1bmN0aW9uIGlzUHJvbWlzaWZpZWQoZm4pIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gZm4uX19pc1Byb21pc2lmaWVkX18gPT09IHRydWU7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGhhc1Byb21pc2lmaWVkKG9iaiwga2V5LCBzdWZmaXgpIHtcbiAgICB2YXIgdmFsID0gdXRpbC5nZXREYXRhUHJvcGVydHlPckRlZmF1bHQob2JqLCBrZXkgKyBzdWZmaXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQcm9taXNpZmllZCk7XG4gICAgcmV0dXJuIHZhbCA/IGlzUHJvbWlzaWZpZWQodmFsKSA6IGZhbHNlO1xufVxuZnVuY3Rpb24gY2hlY2tWYWxpZChyZXQsIHN1ZmZpeCwgc3VmZml4UmVnZXhwKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXQubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgdmFyIGtleSA9IHJldFtpXTtcbiAgICAgICAgaWYgKHN1ZmZpeFJlZ2V4cC50ZXN0KGtleSkpIHtcbiAgICAgICAgICAgIHZhciBrZXlXaXRob3V0QXN5bmNTdWZmaXggPSBrZXkucmVwbGFjZShzdWZmaXhSZWdleHAsIFwiXCIpO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByZXQubGVuZ3RoOyBqICs9IDIpIHtcbiAgICAgICAgICAgICAgICBpZiAocmV0W2pdID09PSBrZXlXaXRob3V0QXN5bmNTdWZmaXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBwcm9taXNpZnkgYW4gQVBJIHRoYXQgaGFzIG5vcm1hbCBtZXRob2RzIHdpdGggJyVzJy1zdWZmaXhcXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwiJXNcIiwgc3VmZml4KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwcm9taXNpZmlhYmxlTWV0aG9kcyhvYmosIHN1ZmZpeCwgc3VmZml4UmVnZXhwLCBmaWx0ZXIpIHtcbiAgICB2YXIga2V5cyA9IHV0aWwuaW5oZXJpdGVkRGF0YUtleXMob2JqKTtcbiAgICB2YXIgcmV0ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICB2YXIgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgICAgdmFyIHBhc3Nlc0RlZmF1bHRGaWx0ZXIgPSBmaWx0ZXIgPT09IGRlZmF1bHRGaWx0ZXJcbiAgICAgICAgICAgID8gdHJ1ZSA6IGRlZmF1bHRGaWx0ZXIoa2V5LCB2YWx1ZSwgb2JqKTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgICAgICAhaXNQcm9taXNpZmllZCh2YWx1ZSkgJiZcbiAgICAgICAgICAgICFoYXNQcm9taXNpZmllZChvYmosIGtleSwgc3VmZml4KSAmJlxuICAgICAgICAgICAgZmlsdGVyKGtleSwgdmFsdWUsIG9iaiwgcGFzc2VzRGVmYXVsdEZpbHRlcikpIHtcbiAgICAgICAgICAgIHJldC5wdXNoKGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNoZWNrVmFsaWQocmV0LCBzdWZmaXgsIHN1ZmZpeFJlZ2V4cCk7XG4gICAgcmV0dXJuIHJldDtcbn1cblxudmFyIGVzY2FwZUlkZW50UmVnZXggPSBmdW5jdGlvbihzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbJF0pLywgXCJcXFxcJFwiKTtcbn07XG5cbnZhciBtYWtlTm9kZVByb21pc2lmaWVkRXZhbDtcbmlmICghdHJ1ZSkge1xudmFyIHN3aXRjaENhc2VBcmd1bWVudE9yZGVyID0gZnVuY3Rpb24obGlrZWx5QXJndW1lbnRDb3VudCkge1xuICAgIHZhciByZXQgPSBbbGlrZWx5QXJndW1lbnRDb3VudF07XG4gICAgdmFyIG1pbiA9IE1hdGgubWF4KDAsIGxpa2VseUFyZ3VtZW50Q291bnQgLSAxIC0gMyk7XG4gICAgZm9yKHZhciBpID0gbGlrZWx5QXJndW1lbnRDb3VudCAtIDE7IGkgPj0gbWluOyAtLWkpIHtcbiAgICAgICAgcmV0LnB1c2goaSk7XG4gICAgfVxuICAgIGZvcih2YXIgaSA9IGxpa2VseUFyZ3VtZW50Q291bnQgKyAxOyBpIDw9IDM7ICsraSkge1xuICAgICAgICByZXQucHVzaChpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn07XG5cbnZhciBhcmd1bWVudFNlcXVlbmNlID0gZnVuY3Rpb24oYXJndW1lbnRDb3VudCkge1xuICAgIHJldHVybiB1dGlsLmZpbGxlZFJhbmdlKGFyZ3VtZW50Q291bnQsIFwiX2FyZ1wiLCBcIlwiKTtcbn07XG5cbnZhciBwYXJhbWV0ZXJEZWNsYXJhdGlvbiA9IGZ1bmN0aW9uKHBhcmFtZXRlckNvdW50KSB7XG4gICAgcmV0dXJuIHV0aWwuZmlsbGVkUmFuZ2UoXG4gICAgICAgIE1hdGgubWF4KHBhcmFtZXRlckNvdW50LCAzKSwgXCJfYXJnXCIsIFwiXCIpO1xufTtcblxudmFyIHBhcmFtZXRlckNvdW50ID0gZnVuY3Rpb24oZm4pIHtcbiAgICBpZiAodHlwZW9mIGZuLmxlbmd0aCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4oZm4ubGVuZ3RoLCAxMDIzICsgMSksIDApO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbn07XG5cbm1ha2VOb2RlUHJvbWlzaWZpZWRFdmFsID1cbmZ1bmN0aW9uKGNhbGxiYWNrLCByZWNlaXZlciwgb3JpZ2luYWxOYW1lLCBmbiwgXywgbXVsdGlBcmdzKSB7XG4gICAgdmFyIG5ld1BhcmFtZXRlckNvdW50ID0gTWF0aC5tYXgoMCwgcGFyYW1ldGVyQ291bnQoZm4pIC0gMSk7XG4gICAgdmFyIGFyZ3VtZW50T3JkZXIgPSBzd2l0Y2hDYXNlQXJndW1lbnRPcmRlcihuZXdQYXJhbWV0ZXJDb3VudCk7XG4gICAgdmFyIHNob3VsZFByb3h5VGhpcyA9IHR5cGVvZiBjYWxsYmFjayA9PT0gXCJzdHJpbmdcIiB8fCByZWNlaXZlciA9PT0gVEhJUztcblxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlQ2FsbEZvckFyZ3VtZW50Q291bnQoY291bnQpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudFNlcXVlbmNlKGNvdW50KS5qb2luKFwiLCBcIik7XG4gICAgICAgIHZhciBjb21tYSA9IGNvdW50ID4gMCA/IFwiLCBcIiA6IFwiXCI7XG4gICAgICAgIHZhciByZXQ7XG4gICAgICAgIGlmIChzaG91bGRQcm94eVRoaXMpIHtcbiAgICAgICAgICAgIHJldCA9IFwicmV0ID0gY2FsbGJhY2suY2FsbCh0aGlzLCB7e2FyZ3N9fSwgbm9kZWJhY2spOyBicmVhaztcXG5cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldCA9IHJlY2VpdmVyID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IFwicmV0ID0gY2FsbGJhY2soe3thcmdzfX0sIG5vZGViYWNrKTsgYnJlYWs7XFxuXCJcbiAgICAgICAgICAgICAgICA6IFwicmV0ID0gY2FsbGJhY2suY2FsbChyZWNlaXZlciwge3thcmdzfX0sIG5vZGViYWNrKTsgYnJlYWs7XFxuXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldC5yZXBsYWNlKFwie3thcmdzfX1cIiwgYXJncykucmVwbGFjZShcIiwgXCIsIGNvbW1hKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZW5lcmF0ZUFyZ3VtZW50U3dpdGNoQ2FzZSgpIHtcbiAgICAgICAgdmFyIHJldCA9IFwiXCI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRPcmRlci5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgcmV0ICs9IFwiY2FzZSBcIiArIGFyZ3VtZW50T3JkZXJbaV0gK1wiOlwiICtcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZUNhbGxGb3JBcmd1bWVudENvdW50KGFyZ3VtZW50T3JkZXJbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0ICs9IFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgIGRlZmF1bHQ6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICB2YXIgYXJncyA9IG5ldyBBcnJheShsZW4gKyAxKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICB2YXIgaSA9IDA7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBhcmdzW2ldID0gbm9kZWJhY2s7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBbQ29kZUZvckNhbGxdICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgICAgICBicmVhazsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgICAgIFwiLnJlcGxhY2UoXCJbQ29kZUZvckNhbGxdXCIsIChzaG91bGRQcm94eVRoaXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcInJldCA9IGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3MpO1xcblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJyZXQgPSBjYWxsYmFjay5hcHBseShyZWNlaXZlciwgYXJncyk7XFxuXCIpKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICB2YXIgZ2V0RnVuY3Rpb25Db2RlID0gdHlwZW9mIGNhbGxiYWNrID09PSBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKFwidGhpcyAhPSBudWxsID8gdGhpc1snXCIrY2FsbGJhY2srXCInXSA6IGZuXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJmblwiO1xuICAgIHZhciBib2R5ID0gXCIndXNlIHN0cmljdCc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgdmFyIHJldCA9IGZ1bmN0aW9uIChQYXJhbWV0ZXJzKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgICd1c2Ugc3RyaWN0JzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoSU5URVJOQUwpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgIHByb21pc2UuX2NhcHR1cmVTdGFja1RyYWNlKCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICAgICAgICAgIHZhciBub2RlYmFjayA9IG5vZGViYWNrRm9yUHJvbWlzZShwcm9taXNlLCBcIiArIG11bHRpQXJncyArIFwiKTsgICBcXG5cXFxuICAgICAgICAgICAgdmFyIHJldDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gdHJ5Q2F0Y2goW0dldEZ1bmN0aW9uQ29kZV0pOyAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgc3dpdGNoKGxlbikgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIFtDb2RlRm9yU3dpdGNoQ2FzZV0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgaWYgKHJldCA9PT0gZXJyb3JPYmopIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgICAgIHByb21pc2UuX3JlamVjdENhbGxiYWNrKG1heWJlV3JhcEFzRXJyb3IocmV0LmUpLCB0cnVlLCB0cnVlKTtcXG5cXFxuICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICAgICAgaWYgKCFwcm9taXNlLl9pc0ZhdGVTZWFsZWQoKSkgcHJvbWlzZS5fc2V0QXN5bmNHdWFyYW50ZWVkKCk7ICAgICBcXG5cXFxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICB9OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICBub3RFbnVtZXJhYmxlUHJvcChyZXQsICdfX2lzUHJvbWlzaWZpZWRfXycsIHRydWUpOyAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgICAgICByZXR1cm4gcmV0OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXG5cXFxuICAgIFwiLnJlcGxhY2UoXCJbQ29kZUZvclN3aXRjaENhc2VdXCIsIGdlbmVyYXRlQXJndW1lbnRTd2l0Y2hDYXNlKCkpXG4gICAgICAgIC5yZXBsYWNlKFwiW0dldEZ1bmN0aW9uQ29kZV1cIiwgZ2V0RnVuY3Rpb25Db2RlKTtcbiAgICBib2R5ID0gYm9keS5yZXBsYWNlKFwiUGFyYW1ldGVyc1wiLCBwYXJhbWV0ZXJEZWNsYXJhdGlvbihuZXdQYXJhbWV0ZXJDb3VudCkpO1xuICAgIHJldHVybiBuZXcgRnVuY3Rpb24oXCJQcm9taXNlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImZuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInJlY2VpdmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIndpdGhBcHBlbmRlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJtYXliZVdyYXBBc0Vycm9yXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm5vZGViYWNrRm9yUHJvbWlzZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0cnlDYXRjaFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJlcnJvck9ialwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJub3RFbnVtZXJhYmxlUHJvcFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJJTlRFUk5BTFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keSkoXG4gICAgICAgICAgICAgICAgICAgIFByb21pc2UsXG4gICAgICAgICAgICAgICAgICAgIGZuLFxuICAgICAgICAgICAgICAgICAgICByZWNlaXZlcixcbiAgICAgICAgICAgICAgICAgICAgd2l0aEFwcGVuZGVkLFxuICAgICAgICAgICAgICAgICAgICBtYXliZVdyYXBBc0Vycm9yLFxuICAgICAgICAgICAgICAgICAgICBub2RlYmFja0ZvclByb21pc2UsXG4gICAgICAgICAgICAgICAgICAgIHV0aWwudHJ5Q2F0Y2gsXG4gICAgICAgICAgICAgICAgICAgIHV0aWwuZXJyb3JPYmosXG4gICAgICAgICAgICAgICAgICAgIHV0aWwubm90RW51bWVyYWJsZVByb3AsXG4gICAgICAgICAgICAgICAgICAgIElOVEVSTkFMKTtcbn07XG59XG5cbmZ1bmN0aW9uIG1ha2VOb2RlUHJvbWlzaWZpZWRDbG9zdXJlKGNhbGxiYWNrLCByZWNlaXZlciwgXywgZm4sIF9fLCBtdWx0aUFyZ3MpIHtcbiAgICB2YXIgZGVmYXVsdFRoaXMgPSAoZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXM7fSkoKTtcbiAgICB2YXIgbWV0aG9kID0gY2FsbGJhY2s7XG4gICAgaWYgKHR5cGVvZiBtZXRob2QgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBmbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJvbWlzaWZpZWQoKSB7XG4gICAgICAgIHZhciBfcmVjZWl2ZXIgPSByZWNlaXZlcjtcbiAgICAgICAgaWYgKHJlY2VpdmVyID09PSBUSElTKSBfcmVjZWl2ZXIgPSB0aGlzO1xuICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcbiAgICAgICAgcHJvbWlzZS5fY2FwdHVyZVN0YWNrVHJhY2UoKTtcbiAgICAgICAgdmFyIGNiID0gdHlwZW9mIG1ldGhvZCA9PT0gXCJzdHJpbmdcIiAmJiB0aGlzICE9PSBkZWZhdWx0VGhpc1xuICAgICAgICAgICAgPyB0aGlzW21ldGhvZF0gOiBjYWxsYmFjaztcbiAgICAgICAgdmFyIGZuID0gbm9kZWJhY2tGb3JQcm9taXNlKHByb21pc2UsIG11bHRpQXJncyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjYi5hcHBseShfcmVjZWl2ZXIsIHdpdGhBcHBlbmRlZChhcmd1bWVudHMsIGZuKSk7XG4gICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2sobWF5YmVXcmFwQXNFcnJvcihlKSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwcm9taXNlLl9pc0ZhdGVTZWFsZWQoKSkgcHJvbWlzZS5fc2V0QXN5bmNHdWFyYW50ZWVkKCk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICB1dGlsLm5vdEVudW1lcmFibGVQcm9wKHByb21pc2lmaWVkLCBcIl9faXNQcm9taXNpZmllZF9fXCIsIHRydWUpO1xuICAgIHJldHVybiBwcm9taXNpZmllZDtcbn1cblxudmFyIG1ha2VOb2RlUHJvbWlzaWZpZWQgPSBjYW5FdmFsdWF0ZVxuICAgID8gbWFrZU5vZGVQcm9taXNpZmllZEV2YWxcbiAgICA6IG1ha2VOb2RlUHJvbWlzaWZpZWRDbG9zdXJlO1xuXG5mdW5jdGlvbiBwcm9taXNpZnlBbGwob2JqLCBzdWZmaXgsIGZpbHRlciwgcHJvbWlzaWZpZXIsIG11bHRpQXJncykge1xuICAgIHZhciBzdWZmaXhSZWdleHAgPSBuZXcgUmVnRXhwKGVzY2FwZUlkZW50UmVnZXgoc3VmZml4KSArIFwiJFwiKTtcbiAgICB2YXIgbWV0aG9kcyA9XG4gICAgICAgIHByb21pc2lmaWFibGVNZXRob2RzKG9iaiwgc3VmZml4LCBzdWZmaXhSZWdleHAsIGZpbHRlcik7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbWV0aG9kcy5sZW5ndGg7IGkgPCBsZW47IGkrPSAyKSB7XG4gICAgICAgIHZhciBrZXkgPSBtZXRob2RzW2ldO1xuICAgICAgICB2YXIgZm4gPSBtZXRob2RzW2krMV07XG4gICAgICAgIHZhciBwcm9taXNpZmllZEtleSA9IGtleSArIHN1ZmZpeDtcbiAgICAgICAgaWYgKHByb21pc2lmaWVyID09PSBtYWtlTm9kZVByb21pc2lmaWVkKSB7XG4gICAgICAgICAgICBvYmpbcHJvbWlzaWZpZWRLZXldID1cbiAgICAgICAgICAgICAgICBtYWtlTm9kZVByb21pc2lmaWVkKGtleSwgVEhJUywga2V5LCBmbiwgc3VmZml4LCBtdWx0aUFyZ3MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHByb21pc2lmaWVkID0gcHJvbWlzaWZpZXIoZm4sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlTm9kZVByb21pc2lmaWVkKGtleSwgVEhJUywga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZuLCBzdWZmaXgsIG11bHRpQXJncyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHV0aWwubm90RW51bWVyYWJsZVByb3AocHJvbWlzaWZpZWQsIFwiX19pc1Byb21pc2lmaWVkX19cIiwgdHJ1ZSk7XG4gICAgICAgICAgICBvYmpbcHJvbWlzaWZpZWRLZXldID0gcHJvbWlzaWZpZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXRpbC50b0Zhc3RQcm9wZXJ0aWVzKG9iaik7XG4gICAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gcHJvbWlzaWZ5KGNhbGxiYWNrLCByZWNlaXZlciwgbXVsdGlBcmdzKSB7XG4gICAgcmV0dXJuIG1ha2VOb2RlUHJvbWlzaWZpZWQoY2FsbGJhY2ssIHJlY2VpdmVyLCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLCBudWxsLCBtdWx0aUFyZ3MpO1xufVxuXG5Qcm9taXNlLnByb21pc2lmeSA9IGZ1bmN0aW9uIChmbiwgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZm4pKTtcbiAgICB9XG4gICAgaWYgKGlzUHJvbWlzaWZpZWQoZm4pKSB7XG4gICAgICAgIHJldHVybiBmbjtcbiAgICB9XG4gICAgb3B0aW9ucyA9IE9iamVjdChvcHRpb25zKTtcbiAgICB2YXIgcmVjZWl2ZXIgPSBvcHRpb25zLmNvbnRleHQgPT09IHVuZGVmaW5lZCA/IFRISVMgOiBvcHRpb25zLmNvbnRleHQ7XG4gICAgdmFyIG11bHRpQXJncyA9ICEhb3B0aW9ucy5tdWx0aUFyZ3M7XG4gICAgdmFyIHJldCA9IHByb21pc2lmeShmbiwgcmVjZWl2ZXIsIG11bHRpQXJncyk7XG4gICAgdXRpbC5jb3B5RGVzY3JpcHRvcnMoZm4sIHJldCwgcHJvcHNGaWx0ZXIpO1xuICAgIHJldHVybiByZXQ7XG59O1xuXG5Qcm9taXNlLnByb21pc2lmeUFsbCA9IGZ1bmN0aW9uICh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIHRhcmdldCAhPT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiB0YXJnZXQgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcInRoZSB0YXJnZXQgb2YgcHJvbWlzaWZ5QWxsIG11c3QgYmUgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb25cXHUwMDBhXFx1MDAwYSAgICBTZWUgaHR0cDovL2dvby5nbC9NcXJGbVhcXHUwMDBhXCIpO1xuICAgIH1cbiAgICBvcHRpb25zID0gT2JqZWN0KG9wdGlvbnMpO1xuICAgIHZhciBtdWx0aUFyZ3MgPSAhIW9wdGlvbnMubXVsdGlBcmdzO1xuICAgIHZhciBzdWZmaXggPSBvcHRpb25zLnN1ZmZpeDtcbiAgICBpZiAodHlwZW9mIHN1ZmZpeCAhPT0gXCJzdHJpbmdcIikgc3VmZml4ID0gZGVmYXVsdFN1ZmZpeDtcbiAgICB2YXIgZmlsdGVyID0gb3B0aW9ucy5maWx0ZXI7XG4gICAgaWYgKHR5cGVvZiBmaWx0ZXIgIT09IFwiZnVuY3Rpb25cIikgZmlsdGVyID0gZGVmYXVsdEZpbHRlcjtcbiAgICB2YXIgcHJvbWlzaWZpZXIgPSBvcHRpb25zLnByb21pc2lmaWVyO1xuICAgIGlmICh0eXBlb2YgcHJvbWlzaWZpZXIgIT09IFwiZnVuY3Rpb25cIikgcHJvbWlzaWZpZXIgPSBtYWtlTm9kZVByb21pc2lmaWVkO1xuXG4gICAgaWYgKCF1dGlsLmlzSWRlbnRpZmllcihzdWZmaXgpKSB7XG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwic3VmZml4IG11c3QgYmUgYSB2YWxpZCBpZGVudGlmaWVyXFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcbiAgICB9XG5cbiAgICB2YXIga2V5cyA9IHV0aWwuaW5oZXJpdGVkRGF0YUtleXModGFyZ2V0KTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGFyZ2V0W2tleXNbaV1dO1xuICAgICAgICBpZiAoa2V5c1tpXSAhPT0gXCJjb25zdHJ1Y3RvclwiICYmXG4gICAgICAgICAgICB1dGlsLmlzQ2xhc3ModmFsdWUpKSB7XG4gICAgICAgICAgICBwcm9taXNpZnlBbGwodmFsdWUucHJvdG90eXBlLCBzdWZmaXgsIGZpbHRlciwgcHJvbWlzaWZpZXIsXG4gICAgICAgICAgICAgICAgbXVsdGlBcmdzKTtcbiAgICAgICAgICAgIHByb21pc2lmeUFsbCh2YWx1ZSwgc3VmZml4LCBmaWx0ZXIsIHByb21pc2lmaWVyLCBtdWx0aUFyZ3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb21pc2lmeUFsbCh0YXJnZXQsIHN1ZmZpeCwgZmlsdGVyLCBwcm9taXNpZmllciwgbXVsdGlBcmdzKTtcbn07XG59O1xuXG5cbn0se1wiLi9lcnJvcnNcIjoxMixcIi4vbm9kZWJhY2tcIjoyMCxcIi4vdXRpbFwiOjM2fV0sMjU6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFxuICAgIFByb21pc2UsIFByb21pc2VBcnJheSwgdHJ5Q29udmVydFRvUHJvbWlzZSwgYXBpUmVqZWN0aW9uKSB7XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG52YXIgaXNPYmplY3QgPSB1dGlsLmlzT2JqZWN0O1xudmFyIGVzNSA9IF9kZXJlcV8oXCIuL2VzNVwiKTtcbnZhciBFczZNYXA7XG5pZiAodHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiKSBFczZNYXAgPSBNYXA7XG5cbnZhciBtYXBUb0VudHJpZXMgPSAoZnVuY3Rpb24oKSB7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgc2l6ZSA9IDA7XG5cbiAgICBmdW5jdGlvbiBleHRyYWN0RW50cnkodmFsdWUsIGtleSkge1xuICAgICAgICB0aGlzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICB0aGlzW2luZGV4ICsgc2l6ZV0gPSBrZXk7XG4gICAgICAgIGluZGV4Kys7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1hcFRvRW50cmllcyhtYXApIHtcbiAgICAgICAgc2l6ZSA9IG1hcC5zaXplO1xuICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgIHZhciByZXQgPSBuZXcgQXJyYXkobWFwLnNpemUgKiAyKTtcbiAgICAgICAgbWFwLmZvckVhY2goZXh0cmFjdEVudHJ5LCByZXQpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG59KSgpO1xuXG52YXIgZW50cmllc1RvTWFwID0gZnVuY3Rpb24oZW50cmllcykge1xuICAgIHZhciByZXQgPSBuZXcgRXM2TWFwKCk7XG4gICAgdmFyIGxlbmd0aCA9IGVudHJpZXMubGVuZ3RoIC8gMiB8IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIga2V5ID0gZW50cmllc1tsZW5ndGggKyBpXTtcbiAgICAgICAgdmFyIHZhbHVlID0gZW50cmllc1tpXTtcbiAgICAgICAgcmV0LnNldChrZXksIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn07XG5cbmZ1bmN0aW9uIFByb3BlcnRpZXNQcm9taXNlQXJyYXkob2JqKSB7XG4gICAgdmFyIGlzTWFwID0gZmFsc2U7XG4gICAgdmFyIGVudHJpZXM7XG4gICAgaWYgKEVzNk1hcCAhPT0gdW5kZWZpbmVkICYmIG9iaiBpbnN0YW5jZW9mIEVzNk1hcCkge1xuICAgICAgICBlbnRyaWVzID0gbWFwVG9FbnRyaWVzKG9iaik7XG4gICAgICAgIGlzTWFwID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIga2V5cyA9IGVzNS5rZXlzKG9iaik7XG4gICAgICAgIHZhciBsZW4gPSBrZXlzLmxlbmd0aDtcbiAgICAgICAgZW50cmllcyA9IG5ldyBBcnJheShsZW4gKiAyKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICBlbnRyaWVzW2ldID0gb2JqW2tleV07XG4gICAgICAgICAgICBlbnRyaWVzW2kgKyBsZW5dID0ga2V5O1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMuY29uc3RydWN0b3IkKGVudHJpZXMpO1xuICAgIHRoaXMuX2lzTWFwID0gaXNNYXA7XG4gICAgdGhpcy5faW5pdCQodW5kZWZpbmVkLCAtMyk7XG59XG51dGlsLmluaGVyaXRzKFByb3BlcnRpZXNQcm9taXNlQXJyYXksIFByb21pc2VBcnJheSk7XG5cblByb3BlcnRpZXNQcm9taXNlQXJyYXkucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24gKCkge307XG5cblByb3BlcnRpZXNQcm9taXNlQXJyYXkucHJvdG90eXBlLl9wcm9taXNlRnVsZmlsbGVkID0gZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xuICAgIHRoaXMuX3ZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcbiAgICB2YXIgdG90YWxSZXNvbHZlZCA9ICsrdGhpcy5fdG90YWxSZXNvbHZlZDtcbiAgICBpZiAodG90YWxSZXNvbHZlZCA+PSB0aGlzLl9sZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbDtcbiAgICAgICAgaWYgKHRoaXMuX2lzTWFwKSB7XG4gICAgICAgICAgICB2YWwgPSBlbnRyaWVzVG9NYXAodGhpcy5fdmFsdWVzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbCA9IHt9O1xuICAgICAgICAgICAgdmFyIGtleU9mZnNldCA9IHRoaXMubGVuZ3RoKCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5sZW5ndGgoKTsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmFsW3RoaXMuX3ZhbHVlc1tpICsga2V5T2Zmc2V0XV0gPSB0aGlzLl92YWx1ZXNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVzb2x2ZSh2YWwpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuUHJvcGVydGllc1Byb21pc2VBcnJheS5wcm90b3R5cGUuc2hvdWxkQ29weVZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG5Qcm9wZXJ0aWVzUHJvbWlzZUFycmF5LnByb3RvdHlwZS5nZXRBY3R1YWxMZW5ndGggPSBmdW5jdGlvbiAobGVuKSB7XG4gICAgcmV0dXJuIGxlbiA+PiAxO1xufTtcblxuZnVuY3Rpb24gcHJvcHMocHJvbWlzZXMpIHtcbiAgICB2YXIgcmV0O1xuICAgIHZhciBjYXN0VmFsdWUgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHByb21pc2VzKTtcblxuICAgIGlmICghaXNPYmplY3QoY2FzdFZhbHVlKSkge1xuICAgICAgICByZXR1cm4gYXBpUmVqZWN0aW9uKFwiY2Fubm90IGF3YWl0IHByb3BlcnRpZXMgb2YgYSBub24tb2JqZWN0XFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcbiAgICB9IGVsc2UgaWYgKGNhc3RWYWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgcmV0ID0gY2FzdFZhbHVlLl90aGVuKFxuICAgICAgICAgICAgUHJvbWlzZS5wcm9wcywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXQgPSBuZXcgUHJvcGVydGllc1Byb21pc2VBcnJheShjYXN0VmFsdWUpLnByb21pc2UoKTtcbiAgICB9XG5cbiAgICBpZiAoY2FzdFZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICByZXQuX3Byb3BhZ2F0ZUZyb20oY2FzdFZhbHVlLCAyKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUucHJvcHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHByb3BzKHRoaXMpO1xufTtcblxuUHJvbWlzZS5wcm9wcyA9IGZ1bmN0aW9uIChwcm9taXNlcykge1xuICAgIHJldHVybiBwcm9wcyhwcm9taXNlcyk7XG59O1xufTtcblxufSx7XCIuL2VzNVwiOjEzLFwiLi91dGlsXCI6MzZ9XSwyNjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGFycmF5TW92ZShzcmMsIHNyY0luZGV4LCBkc3QsIGRzdEluZGV4LCBsZW4pIHtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxlbjsgKytqKSB7XG4gICAgICAgIGRzdFtqICsgZHN0SW5kZXhdID0gc3JjW2ogKyBzcmNJbmRleF07XG4gICAgICAgIHNyY1tqICsgc3JjSW5kZXhdID0gdm9pZCAwO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gUXVldWUoY2FwYWNpdHkpIHtcbiAgICB0aGlzLl9jYXBhY2l0eSA9IGNhcGFjaXR5O1xuICAgIHRoaXMuX2xlbmd0aCA9IDA7XG4gICAgdGhpcy5fZnJvbnQgPSAwO1xufVxuXG5RdWV1ZS5wcm90b3R5cGUuX3dpbGxCZU92ZXJDYXBhY2l0eSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhcGFjaXR5IDwgc2l6ZTtcbn07XG5cblF1ZXVlLnByb3RvdHlwZS5fcHVzaE9uZSA9IGZ1bmN0aW9uIChhcmcpIHtcbiAgICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGgoKTtcbiAgICB0aGlzLl9jaGVja0NhcGFjaXR5KGxlbmd0aCArIDEpO1xuICAgIHZhciBpID0gKHRoaXMuX2Zyb250ICsgbGVuZ3RoKSAmICh0aGlzLl9jYXBhY2l0eSAtIDEpO1xuICAgIHRoaXNbaV0gPSBhcmc7XG4gICAgdGhpcy5fbGVuZ3RoID0gbGVuZ3RoICsgMTtcbn07XG5cblF1ZXVlLnByb3RvdHlwZS5fdW5zaGlmdE9uZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIGNhcGFjaXR5ID0gdGhpcy5fY2FwYWNpdHk7XG4gICAgdGhpcy5fY2hlY2tDYXBhY2l0eSh0aGlzLmxlbmd0aCgpICsgMSk7XG4gICAgdmFyIGZyb250ID0gdGhpcy5fZnJvbnQ7XG4gICAgdmFyIGkgPSAoKCgoIGZyb250IC0gMSApICZcbiAgICAgICAgICAgICAgICAgICAgKCBjYXBhY2l0eSAtIDEpICkgXiBjYXBhY2l0eSApIC0gY2FwYWNpdHkgKTtcbiAgICB0aGlzW2ldID0gdmFsdWU7XG4gICAgdGhpcy5fZnJvbnQgPSBpO1xuICAgIHRoaXMuX2xlbmd0aCA9IHRoaXMubGVuZ3RoKCkgKyAxO1xufTtcblxuUXVldWUucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbihmbiwgcmVjZWl2ZXIsIGFyZykge1xuICAgIHRoaXMuX3Vuc2hpZnRPbmUoYXJnKTtcbiAgICB0aGlzLl91bnNoaWZ0T25lKHJlY2VpdmVyKTtcbiAgICB0aGlzLl91bnNoaWZ0T25lKGZuKTtcbn07XG5cblF1ZXVlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGZuLCByZWNlaXZlciwgYXJnKSB7XG4gICAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoKCkgKyAzO1xuICAgIGlmICh0aGlzLl93aWxsQmVPdmVyQ2FwYWNpdHkobGVuZ3RoKSkge1xuICAgICAgICB0aGlzLl9wdXNoT25lKGZuKTtcbiAgICAgICAgdGhpcy5fcHVzaE9uZShyZWNlaXZlcik7XG4gICAgICAgIHRoaXMuX3B1c2hPbmUoYXJnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgaiA9IHRoaXMuX2Zyb250ICsgbGVuZ3RoIC0gMztcbiAgICB0aGlzLl9jaGVja0NhcGFjaXR5KGxlbmd0aCk7XG4gICAgdmFyIHdyYXBNYXNrID0gdGhpcy5fY2FwYWNpdHkgLSAxO1xuICAgIHRoaXNbKGogKyAwKSAmIHdyYXBNYXNrXSA9IGZuO1xuICAgIHRoaXNbKGogKyAxKSAmIHdyYXBNYXNrXSA9IHJlY2VpdmVyO1xuICAgIHRoaXNbKGogKyAyKSAmIHdyYXBNYXNrXSA9IGFyZztcbiAgICB0aGlzLl9sZW5ndGggPSBsZW5ndGg7XG59O1xuXG5RdWV1ZS5wcm90b3R5cGUuc2hpZnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGZyb250ID0gdGhpcy5fZnJvbnQsXG4gICAgICAgIHJldCA9IHRoaXNbZnJvbnRdO1xuXG4gICAgdGhpc1tmcm9udF0gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fZnJvbnQgPSAoZnJvbnQgKyAxKSAmICh0aGlzLl9jYXBhY2l0eSAtIDEpO1xuICAgIHRoaXMuX2xlbmd0aC0tO1xuICAgIHJldHVybiByZXQ7XG59O1xuXG5RdWV1ZS5wcm90b3R5cGUubGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9sZW5ndGg7XG59O1xuXG5RdWV1ZS5wcm90b3R5cGUuX2NoZWNrQ2FwYWNpdHkgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgIGlmICh0aGlzLl9jYXBhY2l0eSA8IHNpemUpIHtcbiAgICAgICAgdGhpcy5fcmVzaXplVG8odGhpcy5fY2FwYWNpdHkgPDwgMSk7XG4gICAgfVxufTtcblxuUXVldWUucHJvdG90eXBlLl9yZXNpemVUbyA9IGZ1bmN0aW9uIChjYXBhY2l0eSkge1xuICAgIHZhciBvbGRDYXBhY2l0eSA9IHRoaXMuX2NhcGFjaXR5O1xuICAgIHRoaXMuX2NhcGFjaXR5ID0gY2FwYWNpdHk7XG4gICAgdmFyIGZyb250ID0gdGhpcy5fZnJvbnQ7XG4gICAgdmFyIGxlbmd0aCA9IHRoaXMuX2xlbmd0aDtcbiAgICB2YXIgbW92ZUl0ZW1zQ291bnQgPSAoZnJvbnQgKyBsZW5ndGgpICYgKG9sZENhcGFjaXR5IC0gMSk7XG4gICAgYXJyYXlNb3ZlKHRoaXMsIDAsIHRoaXMsIG9sZENhcGFjaXR5LCBtb3ZlSXRlbXNDb3VudCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFF1ZXVlO1xuXG59LHt9XSwyNzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oXG4gICAgUHJvbWlzZSwgSU5URVJOQUwsIHRyeUNvbnZlcnRUb1Byb21pc2UsIGFwaVJlamVjdGlvbikge1xudmFyIHV0aWwgPSBfZGVyZXFfKFwiLi91dGlsXCIpO1xuXG52YXIgcmFjZUxhdGVyID0gZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICAgIHJldHVybiByYWNlKGFycmF5LCBwcm9taXNlKTtcbiAgICB9KTtcbn07XG5cbmZ1bmN0aW9uIHJhY2UocHJvbWlzZXMsIHBhcmVudCkge1xuICAgIHZhciBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHByb21pc2VzKTtcblxuICAgIGlmIChtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHJldHVybiByYWNlTGF0ZXIobWF5YmVQcm9taXNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBwcm9taXNlcyA9IHV0aWwuYXNBcnJheShwcm9taXNlcyk7XG4gICAgICAgIGlmIChwcm9taXNlcyA9PT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBhcGlSZWplY3Rpb24oXCJleHBlY3RpbmcgYW4gYXJyYXkgb3IgYW4gaXRlcmFibGUgb2JqZWN0IGJ1dCBnb3QgXCIgKyB1dGlsLmNsYXNzU3RyaW5nKHByb21pc2VzKSk7XG4gICAgfVxuXG4gICAgdmFyIHJldCA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcbiAgICBpZiAocGFyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0Ll9wcm9wYWdhdGVGcm9tKHBhcmVudCwgMyk7XG4gICAgfVxuICAgIHZhciBmdWxmaWxsID0gcmV0Ll9mdWxmaWxsO1xuICAgIHZhciByZWplY3QgPSByZXQuX3JlamVjdDtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcHJvbWlzZXMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgdmFyIHZhbCA9IHByb21pc2VzW2ldO1xuXG4gICAgICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCAmJiAhKGkgaW4gcHJvbWlzZXMpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIFByb21pc2UuY2FzdCh2YWwpLl90aGVuKGZ1bGZpbGwsIHJlamVjdCwgdW5kZWZpbmVkLCByZXQsIG51bGwpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuXG5Qcm9taXNlLnJhY2UgPSBmdW5jdGlvbiAocHJvbWlzZXMpIHtcbiAgICByZXR1cm4gcmFjZShwcm9taXNlcywgdW5kZWZpbmVkKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnJhY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHJhY2UodGhpcywgdW5kZWZpbmVkKTtcbn07XG5cbn07XG5cbn0se1wiLi91dGlsXCI6MzZ9XSwyODpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvbWlzZUFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhcGlSZWplY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRyeUNvbnZlcnRUb1Byb21pc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIElOVEVSTkFMLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkZWJ1Zykge1xudmFyIGdldERvbWFpbiA9IFByb21pc2UuX2dldERvbWFpbjtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciB0cnlDYXRjaCA9IHV0aWwudHJ5Q2F0Y2g7XG5cbmZ1bmN0aW9uIFJlZHVjdGlvblByb21pc2VBcnJheShwcm9taXNlcywgZm4sIGluaXRpYWxWYWx1ZSwgX2VhY2gpIHtcbiAgICB0aGlzLmNvbnN0cnVjdG9yJChwcm9taXNlcyk7XG4gICAgdmFyIGRvbWFpbiA9IGdldERvbWFpbigpO1xuICAgIHRoaXMuX2ZuID0gZG9tYWluID09PSBudWxsID8gZm4gOiB1dGlsLmRvbWFpbkJpbmQoZG9tYWluLCBmbik7XG4gICAgaWYgKGluaXRpYWxWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluaXRpYWxWYWx1ZSA9IFByb21pc2UucmVzb2x2ZShpbml0aWFsVmFsdWUpO1xuICAgICAgICBpbml0aWFsVmFsdWUuX2F0dGFjaENhbmNlbGxhdGlvbkNhbGxiYWNrKHRoaXMpO1xuICAgIH1cbiAgICB0aGlzLl9pbml0aWFsVmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gICAgdGhpcy5fY3VycmVudENhbmNlbGxhYmxlID0gbnVsbDtcbiAgICBpZihfZWFjaCA9PT0gSU5URVJOQUwpIHtcbiAgICAgICAgdGhpcy5fZWFjaFZhbHVlcyA9IEFycmF5KHRoaXMuX2xlbmd0aCk7XG4gICAgfSBlbHNlIGlmIChfZWFjaCA9PT0gMCkge1xuICAgICAgICB0aGlzLl9lYWNoVmFsdWVzID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9lYWNoVmFsdWVzID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB0aGlzLl9wcm9taXNlLl9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuICAgIHRoaXMuX2luaXQkKHVuZGVmaW5lZCwgLTUpO1xufVxudXRpbC5pbmhlcml0cyhSZWR1Y3Rpb25Qcm9taXNlQXJyYXksIFByb21pc2VBcnJheSk7XG5cblJlZHVjdGlvblByb21pc2VBcnJheS5wcm90b3R5cGUuX2dvdEFjY3VtID0gZnVuY3Rpb24oYWNjdW0pIHtcbiAgICBpZiAodGhpcy5fZWFjaFZhbHVlcyAhPT0gdW5kZWZpbmVkICYmIFxuICAgICAgICB0aGlzLl9lYWNoVmFsdWVzICE9PSBudWxsICYmIFxuICAgICAgICBhY2N1bSAhPT0gSU5URVJOQUwpIHtcbiAgICAgICAgdGhpcy5fZWFjaFZhbHVlcy5wdXNoKGFjY3VtKTtcbiAgICB9XG59O1xuXG5SZWR1Y3Rpb25Qcm9taXNlQXJyYXkucHJvdG90eXBlLl9lYWNoQ29tcGxldGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9lYWNoVmFsdWVzICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX2VhY2hWYWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9lYWNoVmFsdWVzO1xufTtcblxuUmVkdWN0aW9uUHJvbWlzZUFycmF5LnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uKCkge307XG5cblJlZHVjdGlvblByb21pc2VBcnJheS5wcm90b3R5cGUuX3Jlc29sdmVFbXB0eUFycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fcmVzb2x2ZSh0aGlzLl9lYWNoVmFsdWVzICE9PSB1bmRlZmluZWQgPyB0aGlzLl9lYWNoVmFsdWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLl9pbml0aWFsVmFsdWUpO1xufTtcblxuUmVkdWN0aW9uUHJvbWlzZUFycmF5LnByb3RvdHlwZS5zaG91bGRDb3B5VmFsdWVzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTtcbn07XG5cblJlZHVjdGlvblByb21pc2VBcnJheS5wcm90b3R5cGUuX3Jlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHRoaXMuX3Byb21pc2UuX3Jlc29sdmVDYWxsYmFjayh2YWx1ZSk7XG4gICAgdGhpcy5fdmFsdWVzID0gbnVsbDtcbn07XG5cblJlZHVjdGlvblByb21pc2VBcnJheS5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZCA9IGZ1bmN0aW9uKHNlbmRlcikge1xuICAgIGlmIChzZW5kZXIgPT09IHRoaXMuX2luaXRpYWxWYWx1ZSkgcmV0dXJuIHRoaXMuX2NhbmNlbCgpO1xuICAgIGlmICh0aGlzLl9pc1Jlc29sdmVkKCkpIHJldHVybjtcbiAgICB0aGlzLl9yZXN1bHRDYW5jZWxsZWQkKCk7XG4gICAgaWYgKHRoaXMuX2N1cnJlbnRDYW5jZWxsYWJsZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgdGhpcy5fY3VycmVudENhbmNlbGxhYmxlLmNhbmNlbCgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5faW5pdGlhbFZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICB0aGlzLl9pbml0aWFsVmFsdWUuY2FuY2VsKCk7XG4gICAgfVxufTtcblxuUmVkdWN0aW9uUHJvbWlzZUFycmF5LnByb3RvdHlwZS5faXRlcmF0ZSA9IGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICB0aGlzLl92YWx1ZXMgPSB2YWx1ZXM7XG4gICAgdmFyIHZhbHVlO1xuICAgIHZhciBpO1xuICAgIHZhciBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuICAgIGlmICh0aGlzLl9pbml0aWFsVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZSA9IHRoaXMuX2luaXRpYWxWYWx1ZTtcbiAgICAgICAgaSA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSBQcm9taXNlLnJlc29sdmUodmFsdWVzWzBdKTtcbiAgICAgICAgaSA9IDE7XG4gICAgfVxuXG4gICAgdGhpcy5fY3VycmVudENhbmNlbGxhYmxlID0gdmFsdWU7XG5cbiAgICBpZiAoIXZhbHVlLmlzUmVqZWN0ZWQoKSkge1xuICAgICAgICBmb3IgKDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgY3R4ID0ge1xuICAgICAgICAgICAgICAgIGFjY3VtOiBudWxsLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZXNbaV0sXG4gICAgICAgICAgICAgICAgaW5kZXg6IGksXG4gICAgICAgICAgICAgICAgbGVuZ3RoOiBsZW5ndGgsXG4gICAgICAgICAgICAgICAgYXJyYXk6IHRoaXNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLl90aGVuKGdvdEFjY3VtLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgY3R4LCB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2VhY2hWYWx1ZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlXG4gICAgICAgICAgICAuX3RoZW4odGhpcy5fZWFjaENvbXBsZXRlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdGhpcywgdW5kZWZpbmVkKTtcbiAgICB9XG4gICAgdmFsdWUuX3RoZW4oY29tcGxldGVkLCBjb21wbGV0ZWQsIHVuZGVmaW5lZCwgdmFsdWUsIHRoaXMpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUucmVkdWNlID0gZnVuY3Rpb24gKGZuLCBpbml0aWFsVmFsdWUpIHtcbiAgICByZXR1cm4gcmVkdWNlKHRoaXMsIGZuLCBpbml0aWFsVmFsdWUsIG51bGwpO1xufTtcblxuUHJvbWlzZS5yZWR1Y2UgPSBmdW5jdGlvbiAocHJvbWlzZXMsIGZuLCBpbml0aWFsVmFsdWUsIF9lYWNoKSB7XG4gICAgcmV0dXJuIHJlZHVjZShwcm9taXNlcywgZm4sIGluaXRpYWxWYWx1ZSwgX2VhY2gpO1xufTtcblxuZnVuY3Rpb24gY29tcGxldGVkKHZhbHVlT3JSZWFzb24sIGFycmF5KSB7XG4gICAgaWYgKHRoaXMuaXNGdWxmaWxsZWQoKSkge1xuICAgICAgICBhcnJheS5fcmVzb2x2ZSh2YWx1ZU9yUmVhc29uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBhcnJheS5fcmVqZWN0KHZhbHVlT3JSZWFzb24pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcmVkdWNlKHByb21pc2VzLCBmbiwgaW5pdGlhbFZhbHVlLCBfZWFjaCkge1xuICAgIGlmICh0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gYXBpUmVqZWN0aW9uKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZm4pKTtcbiAgICB9XG4gICAgdmFyIGFycmF5ID0gbmV3IFJlZHVjdGlvblByb21pc2VBcnJheShwcm9taXNlcywgZm4sIGluaXRpYWxWYWx1ZSwgX2VhY2gpO1xuICAgIHJldHVybiBhcnJheS5wcm9taXNlKCk7XG59XG5cbmZ1bmN0aW9uIGdvdEFjY3VtKGFjY3VtKSB7XG4gICAgdGhpcy5hY2N1bSA9IGFjY3VtO1xuICAgIHRoaXMuYXJyYXkuX2dvdEFjY3VtKGFjY3VtKTtcbiAgICB2YXIgdmFsdWUgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKHRoaXMudmFsdWUsIHRoaXMuYXJyYXkuX3Byb21pc2UpO1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgdGhpcy5hcnJheS5fY3VycmVudENhbmNlbGxhYmxlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB2YWx1ZS5fdGhlbihnb3RWYWx1ZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHRoaXMsIHVuZGVmaW5lZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGdvdFZhbHVlLmNhbGwodGhpcywgdmFsdWUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ290VmFsdWUodmFsdWUpIHtcbiAgICB2YXIgYXJyYXkgPSB0aGlzLmFycmF5O1xuICAgIHZhciBwcm9taXNlID0gYXJyYXkuX3Byb21pc2U7XG4gICAgdmFyIGZuID0gdHJ5Q2F0Y2goYXJyYXkuX2ZuKTtcbiAgICBwcm9taXNlLl9wdXNoQ29udGV4dCgpO1xuICAgIHZhciByZXQ7XG4gICAgaWYgKGFycmF5Ll9lYWNoVmFsdWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0ID0gZm4uY2FsbChwcm9taXNlLl9ib3VuZFZhbHVlKCksIHZhbHVlLCB0aGlzLmluZGV4LCB0aGlzLmxlbmd0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0ID0gZm4uY2FsbChwcm9taXNlLl9ib3VuZFZhbHVlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjY3VtLCB2YWx1ZSwgdGhpcy5pbmRleCwgdGhpcy5sZW5ndGgpO1xuICAgIH1cbiAgICBpZiAocmV0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICBhcnJheS5fY3VycmVudENhbmNlbGxhYmxlID0gcmV0O1xuICAgIH1cbiAgICB2YXIgcHJvbWlzZUNyZWF0ZWQgPSBwcm9taXNlLl9wb3BDb250ZXh0KCk7XG4gICAgZGVidWcuY2hlY2tGb3Jnb3R0ZW5SZXR1cm5zKFxuICAgICAgICByZXQsXG4gICAgICAgIHByb21pc2VDcmVhdGVkLFxuICAgICAgICBhcnJheS5fZWFjaFZhbHVlcyAhPT0gdW5kZWZpbmVkID8gXCJQcm9taXNlLmVhY2hcIiA6IFwiUHJvbWlzZS5yZWR1Y2VcIixcbiAgICAgICAgcHJvbWlzZVxuICAgICk7XG4gICAgcmV0dXJuIHJldDtcbn1cbn07XG5cbn0se1wiLi91dGlsXCI6MzZ9XSwyOTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBzY2hlZHVsZTtcbnZhciBub0FzeW5jU2NoZWR1bGVyID0gZnVuY3Rpb24oKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYXN5bmMgc2NoZWR1bGVyIGF2YWlsYWJsZVxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG59O1xudmFyIE5hdGl2ZVByb21pc2UgPSB1dGlsLmdldE5hdGl2ZVByb21pc2UoKTtcbmlmICh1dGlsLmlzTm9kZSAmJiB0eXBlb2YgTXV0YXRpb25PYnNlcnZlciA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBHbG9iYWxTZXRJbW1lZGlhdGUgPSBnbG9iYWwuc2V0SW1tZWRpYXRlO1xuICAgIHZhciBQcm9jZXNzTmV4dFRpY2sgPSBwcm9jZXNzLm5leHRUaWNrO1xuICAgIHNjaGVkdWxlID0gdXRpbC5pc1JlY2VudE5vZGVcbiAgICAgICAgICAgICAgICA/IGZ1bmN0aW9uKGZuKSB7IEdsb2JhbFNldEltbWVkaWF0ZS5jYWxsKGdsb2JhbCwgZm4pOyB9XG4gICAgICAgICAgICAgICAgOiBmdW5jdGlvbihmbikgeyBQcm9jZXNzTmV4dFRpY2suY2FsbChwcm9jZXNzLCBmbik7IH07XG59IGVsc2UgaWYgKHR5cGVvZiBOYXRpdmVQcm9taXNlID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgICAgdHlwZW9mIE5hdGl2ZVByb21pc2UucmVzb2x2ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIG5hdGl2ZVByb21pc2UgPSBOYXRpdmVQcm9taXNlLnJlc29sdmUoKTtcbiAgICBzY2hlZHVsZSA9IGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgIG5hdGl2ZVByb21pc2UudGhlbihmbik7XG4gICAgfTtcbn0gZWxzZSBpZiAoKHR5cGVvZiBNdXRhdGlvbk9ic2VydmVyICE9PSBcInVuZGVmaW5lZFwiKSAmJlxuICAgICAgICAgICEodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICAgICAgICAgd2luZG93Lm5hdmlnYXRvciAmJlxuICAgICAgICAgICAgKHdpbmRvdy5uYXZpZ2F0b3Iuc3RhbmRhbG9uZSB8fCB3aW5kb3cuY29yZG92YSkpKSB7XG4gICAgc2NoZWR1bGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB2YXIgb3B0cyA9IHthdHRyaWJ1dGVzOiB0cnVlfTtcbiAgICAgICAgdmFyIHRvZ2dsZVNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgZGl2MiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHZhciBvMiA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZGl2LmNsYXNzTGlzdC50b2dnbGUoXCJmb29cIik7XG4gICAgICAgICAgICB0b2dnbGVTY2hlZHVsZWQgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIG8yLm9ic2VydmUoZGl2Miwgb3B0cyk7XG5cbiAgICAgICAgdmFyIHNjaGVkdWxlVG9nZ2xlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodG9nZ2xlU2NoZWR1bGVkKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdG9nZ2xlU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBkaXYyLmNsYXNzTGlzdC50b2dnbGUoXCJmb29cIik7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gc2NoZWR1bGUoZm4pIHtcbiAgICAgICAgICAgIHZhciBvID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgby5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgby5vYnNlcnZlKGRpdiwgb3B0cyk7XG4gICAgICAgICAgICBzY2hlZHVsZVRvZ2dsZSgpO1xuICAgICAgICB9O1xuICAgIH0pKCk7XG59IGVsc2UgaWYgKHR5cGVvZiBzZXRJbW1lZGlhdGUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBzY2hlZHVsZSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICBzZXRJbW1lZGlhdGUoZm4pO1xuICAgIH07XG59IGVsc2UgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgc2NoZWR1bGUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgc2V0VGltZW91dChmbiwgMCk7XG4gICAgfTtcbn0gZWxzZSB7XG4gICAgc2NoZWR1bGUgPSBub0FzeW5jU2NoZWR1bGVyO1xufVxubW9kdWxlLmV4cG9ydHMgPSBzY2hlZHVsZTtcblxufSx7XCIuL3V0aWxcIjozNn1dLDMwOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPVxuICAgIGZ1bmN0aW9uKFByb21pc2UsIFByb21pc2VBcnJheSwgZGVidWcpIHtcbnZhciBQcm9taXNlSW5zcGVjdGlvbiA9IFByb21pc2UuUHJvbWlzZUluc3BlY3Rpb247XG52YXIgdXRpbCA9IF9kZXJlcV8oXCIuL3V0aWxcIik7XG5cbmZ1bmN0aW9uIFNldHRsZWRQcm9taXNlQXJyYXkodmFsdWVzKSB7XG4gICAgdGhpcy5jb25zdHJ1Y3RvciQodmFsdWVzKTtcbn1cbnV0aWwuaW5oZXJpdHMoU2V0dGxlZFByb21pc2VBcnJheSwgUHJvbWlzZUFycmF5KTtcblxuU2V0dGxlZFByb21pc2VBcnJheS5wcm90b3R5cGUuX3Byb21pc2VSZXNvbHZlZCA9IGZ1bmN0aW9uIChpbmRleCwgaW5zcGVjdGlvbikge1xuICAgIHRoaXMuX3ZhbHVlc1tpbmRleF0gPSBpbnNwZWN0aW9uO1xuICAgIHZhciB0b3RhbFJlc29sdmVkID0gKyt0aGlzLl90b3RhbFJlc29sdmVkO1xuICAgIGlmICh0b3RhbFJlc29sdmVkID49IHRoaXMuX2xlbmd0aCkge1xuICAgICAgICB0aGlzLl9yZXNvbHZlKHRoaXMuX3ZhbHVlcyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG5TZXR0bGVkUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZUZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcbiAgICB2YXIgcmV0ID0gbmV3IFByb21pc2VJbnNwZWN0aW9uKCk7XG4gICAgcmV0Ll9iaXRGaWVsZCA9IDMzNTU0NDMyO1xuICAgIHJldC5fc2V0dGxlZFZhbHVlRmllbGQgPSB2YWx1ZTtcbiAgICByZXR1cm4gdGhpcy5fcHJvbWlzZVJlc29sdmVkKGluZGV4LCByZXQpO1xufTtcblNldHRsZWRQcm9taXNlQXJyYXkucHJvdG90eXBlLl9wcm9taXNlUmVqZWN0ZWQgPSBmdW5jdGlvbiAocmVhc29uLCBpbmRleCkge1xuICAgIHZhciByZXQgPSBuZXcgUHJvbWlzZUluc3BlY3Rpb24oKTtcbiAgICByZXQuX2JpdEZpZWxkID0gMTY3NzcyMTY7XG4gICAgcmV0Ll9zZXR0bGVkVmFsdWVGaWVsZCA9IHJlYXNvbjtcbiAgICByZXR1cm4gdGhpcy5fcHJvbWlzZVJlc29sdmVkKGluZGV4LCByZXQpO1xufTtcblxuUHJvbWlzZS5zZXR0bGUgPSBmdW5jdGlvbiAocHJvbWlzZXMpIHtcbiAgICBkZWJ1Zy5kZXByZWNhdGVkKFwiLnNldHRsZSgpXCIsIFwiLnJlZmxlY3QoKVwiKTtcbiAgICByZXR1cm4gbmV3IFNldHRsZWRQcm9taXNlQXJyYXkocHJvbWlzZXMpLnByb21pc2UoKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnNldHRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5zZXR0bGUodGhpcyk7XG59O1xufTtcblxufSx7XCIuL3V0aWxcIjozNn1dLDMxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPVxuZnVuY3Rpb24oUHJvbWlzZSwgUHJvbWlzZUFycmF5LCBhcGlSZWplY3Rpb24pIHtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBSYW5nZUVycm9yID0gX2RlcmVxXyhcIi4vZXJyb3JzXCIpLlJhbmdlRXJyb3I7XG52YXIgQWdncmVnYXRlRXJyb3IgPSBfZGVyZXFfKFwiLi9lcnJvcnNcIikuQWdncmVnYXRlRXJyb3I7XG52YXIgaXNBcnJheSA9IHV0aWwuaXNBcnJheTtcbnZhciBDQU5DRUxMQVRJT04gPSB7fTtcblxuXG5mdW5jdGlvbiBTb21lUHJvbWlzZUFycmF5KHZhbHVlcykge1xuICAgIHRoaXMuY29uc3RydWN0b3IkKHZhbHVlcyk7XG4gICAgdGhpcy5faG93TWFueSA9IDA7XG4gICAgdGhpcy5fdW53cmFwID0gZmFsc2U7XG4gICAgdGhpcy5faW5pdGlhbGl6ZWQgPSBmYWxzZTtcbn1cbnV0aWwuaW5oZXJpdHMoU29tZVByb21pc2VBcnJheSwgUHJvbWlzZUFycmF5KTtcblxuU29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLl9pbml0aWFsaXplZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLl9ob3dNYW55ID09PSAwKSB7XG4gICAgICAgIHRoaXMuX3Jlc29sdmUoW10pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2luaXQkKHVuZGVmaW5lZCwgLTUpO1xuICAgIHZhciBpc0FycmF5UmVzb2x2ZWQgPSBpc0FycmF5KHRoaXMuX3ZhbHVlcyk7XG4gICAgaWYgKCF0aGlzLl9pc1Jlc29sdmVkKCkgJiZcbiAgICAgICAgaXNBcnJheVJlc29sdmVkICYmXG4gICAgICAgIHRoaXMuX2hvd01hbnkgPiB0aGlzLl9jYW5Qb3NzaWJseUZ1bGZpbGwoKSkge1xuICAgICAgICB0aGlzLl9yZWplY3QodGhpcy5fZ2V0UmFuZ2VFcnJvcih0aGlzLmxlbmd0aCgpKSk7XG4gICAgfVxufTtcblxuU29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgdGhpcy5faW5pdCgpO1xufTtcblxuU29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuc2V0VW53cmFwID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX3Vud3JhcCA9IHRydWU7XG59O1xuXG5Tb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5ob3dNYW55ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9ob3dNYW55O1xufTtcblxuU29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuc2V0SG93TWFueSA9IGZ1bmN0aW9uIChjb3VudCkge1xuICAgIHRoaXMuX2hvd01hbnkgPSBjb3VudDtcbn07XG5cblNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9wcm9taXNlRnVsZmlsbGVkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdGhpcy5fYWRkRnVsZmlsbGVkKHZhbHVlKTtcbiAgICBpZiAodGhpcy5fZnVsZmlsbGVkKCkgPT09IHRoaXMuaG93TWFueSgpKSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlcy5sZW5ndGggPSB0aGlzLmhvd01hbnkoKTtcbiAgICAgICAgaWYgKHRoaXMuaG93TWFueSgpID09PSAxICYmIHRoaXMuX3Vud3JhcCkge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSh0aGlzLl92YWx1ZXNbMF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSh0aGlzLl92YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG5cbn07XG5Tb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcHJvbWlzZVJlamVjdGVkID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHRoaXMuX2FkZFJlamVjdGVkKHJlYXNvbik7XG4gICAgcmV0dXJuIHRoaXMuX2NoZWNrT3V0Y29tZSgpO1xufTtcblxuU29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuX3Byb21pc2VDYW5jZWxsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuX3ZhbHVlcyBpbnN0YW5jZW9mIFByb21pc2UgfHwgdGhpcy5fdmFsdWVzID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbmNlbCgpO1xuICAgIH1cbiAgICB0aGlzLl9hZGRSZWplY3RlZChDQU5DRUxMQVRJT04pO1xuICAgIHJldHVybiB0aGlzLl9jaGVja091dGNvbWUoKTtcbn07XG5cblNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9jaGVja091dGNvbWUgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5ob3dNYW55KCkgPiB0aGlzLl9jYW5Qb3NzaWJseUZ1bGZpbGwoKSkge1xuICAgICAgICB2YXIgZSA9IG5ldyBBZ2dyZWdhdGVFcnJvcigpO1xuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5sZW5ndGgoKTsgaSA8IHRoaXMuX3ZhbHVlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3ZhbHVlc1tpXSAhPT0gQ0FOQ0VMTEFUSU9OKSB7XG4gICAgICAgICAgICAgICAgZS5wdXNoKHRoaXMuX3ZhbHVlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fcmVqZWN0KGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cblNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9mdWxmaWxsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RvdGFsUmVzb2x2ZWQ7XG59O1xuXG5Tb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcmVqZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlcy5sZW5ndGggLSB0aGlzLmxlbmd0aCgpO1xufTtcblxuU29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuX2FkZFJlamVjdGVkID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHRoaXMuX3ZhbHVlcy5wdXNoKHJlYXNvbik7XG59O1xuXG5Tb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fYWRkRnVsZmlsbGVkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdGhpcy5fdmFsdWVzW3RoaXMuX3RvdGFsUmVzb2x2ZWQrK10gPSB2YWx1ZTtcbn07XG5cblNvbWVQcm9taXNlQXJyYXkucHJvdG90eXBlLl9jYW5Qb3NzaWJseUZ1bGZpbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubGVuZ3RoKCkgLSB0aGlzLl9yZWplY3RlZCgpO1xufTtcblxuU29tZVByb21pc2VBcnJheS5wcm90b3R5cGUuX2dldFJhbmdlRXJyb3IgPSBmdW5jdGlvbiAoY291bnQpIHtcbiAgICB2YXIgbWVzc2FnZSA9IFwiSW5wdXQgYXJyYXkgbXVzdCBjb250YWluIGF0IGxlYXN0IFwiICtcbiAgICAgICAgICAgIHRoaXMuX2hvd01hbnkgKyBcIiBpdGVtcyBidXQgY29udGFpbnMgb25seSBcIiArIGNvdW50ICsgXCIgaXRlbXNcIjtcbiAgICByZXR1cm4gbmV3IFJhbmdlRXJyb3IobWVzc2FnZSk7XG59O1xuXG5Tb21lUHJvbWlzZUFycmF5LnByb3RvdHlwZS5fcmVzb2x2ZUVtcHR5QXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fcmVqZWN0KHRoaXMuX2dldFJhbmdlRXJyb3IoMCkpO1xufTtcblxuZnVuY3Rpb24gc29tZShwcm9taXNlcywgaG93TWFueSkge1xuICAgIGlmICgoaG93TWFueSB8IDApICE9PSBob3dNYW55IHx8IGhvd01hbnkgPCAwKSB7XG4gICAgICAgIHJldHVybiBhcGlSZWplY3Rpb24oXCJleHBlY3RpbmcgYSBwb3NpdGl2ZSBpbnRlZ2VyXFx1MDAwYVxcdTAwMGEgICAgU2VlIGh0dHA6Ly9nb28uZ2wvTXFyRm1YXFx1MDAwYVwiKTtcbiAgICB9XG4gICAgdmFyIHJldCA9IG5ldyBTb21lUHJvbWlzZUFycmF5KHByb21pc2VzKTtcbiAgICB2YXIgcHJvbWlzZSA9IHJldC5wcm9taXNlKCk7XG4gICAgcmV0LnNldEhvd01hbnkoaG93TWFueSk7XG4gICAgcmV0LmluaXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuUHJvbWlzZS5zb21lID0gZnVuY3Rpb24gKHByb21pc2VzLCBob3dNYW55KSB7XG4gICAgcmV0dXJuIHNvbWUocHJvbWlzZXMsIGhvd01hbnkpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuc29tZSA9IGZ1bmN0aW9uIChob3dNYW55KSB7XG4gICAgcmV0dXJuIHNvbWUodGhpcywgaG93TWFueSk7XG59O1xuXG5Qcm9taXNlLl9Tb21lUHJvbWlzZUFycmF5ID0gU29tZVByb21pc2VBcnJheTtcbn07XG5cbn0se1wiLi9lcnJvcnNcIjoxMixcIi4vdXRpbFwiOjM2fV0sMzI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFByb21pc2UpIHtcbmZ1bmN0aW9uIFByb21pc2VJbnNwZWN0aW9uKHByb21pc2UpIHtcbiAgICBpZiAocHJvbWlzZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHByb21pc2UgPSBwcm9taXNlLl90YXJnZXQoKTtcbiAgICAgICAgdGhpcy5fYml0RmllbGQgPSBwcm9taXNlLl9iaXRGaWVsZDtcbiAgICAgICAgdGhpcy5fc2V0dGxlZFZhbHVlRmllbGQgPSBwcm9taXNlLl9pc0ZhdGVTZWFsZWQoKVxuICAgICAgICAgICAgPyBwcm9taXNlLl9zZXR0bGVkVmFsdWUoKSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMuX2JpdEZpZWxkID0gMDtcbiAgICAgICAgdGhpcy5fc2V0dGxlZFZhbHVlRmllbGQgPSB1bmRlZmluZWQ7XG4gICAgfVxufVxuXG5Qcm9taXNlSW5zcGVjdGlvbi5wcm90b3R5cGUuX3NldHRsZWRWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9zZXR0bGVkVmFsdWVGaWVsZDtcbn07XG5cbnZhciB2YWx1ZSA9IFByb21pc2VJbnNwZWN0aW9uLnByb3RvdHlwZS52YWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuaXNGdWxmaWxsZWQoKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2Fubm90IGdldCBmdWxmaWxsbWVudCB2YWx1ZSBvZiBhIG5vbi1mdWxmaWxsZWQgcHJvbWlzZVxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9zZXR0bGVkVmFsdWUoKTtcbn07XG5cbnZhciByZWFzb24gPSBQcm9taXNlSW5zcGVjdGlvbi5wcm90b3R5cGUuZXJyb3IgPVxuUHJvbWlzZUluc3BlY3Rpb24ucHJvdG90eXBlLnJlYXNvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuaXNSZWplY3RlZCgpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJjYW5ub3QgZ2V0IHJlamVjdGlvbiByZWFzb24gb2YgYSBub24tcmVqZWN0ZWQgcHJvbWlzZVxcdTAwMGFcXHUwMDBhICAgIFNlZSBodHRwOi8vZ29vLmdsL01xckZtWFxcdTAwMGFcIik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9zZXR0bGVkVmFsdWUoKTtcbn07XG5cbnZhciBpc0Z1bGZpbGxlZCA9IFByb21pc2VJbnNwZWN0aW9uLnByb3RvdHlwZS5pc0Z1bGZpbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiAzMzU1NDQzMikgIT09IDA7XG59O1xuXG52YXIgaXNSZWplY3RlZCA9IFByb21pc2VJbnNwZWN0aW9uLnByb3RvdHlwZS5pc1JlamVjdGVkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiAxNjc3NzIxNikgIT09IDA7XG59O1xuXG52YXIgaXNQZW5kaW5nID0gUHJvbWlzZUluc3BlY3Rpb24ucHJvdG90eXBlLmlzUGVuZGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgNTAzOTcxODQpID09PSAwO1xufTtcblxudmFyIGlzUmVzb2x2ZWQgPSBQcm9taXNlSW5zcGVjdGlvbi5wcm90b3R5cGUuaXNSZXNvbHZlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgNTAzMzE2NDgpICE9PSAwO1xufTtcblxuUHJvbWlzZUluc3BlY3Rpb24ucHJvdG90eXBlLmlzQ2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICh0aGlzLl9iaXRGaWVsZCAmIDg0NTQxNDQpICE9PSAwO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX19pc0NhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAodGhpcy5fYml0RmllbGQgJiA2NTUzNikgPT09IDY1NTM2O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX2lzQ2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RhcmdldCgpLl9faXNDYW5jZWxsZWQoKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmlzQ2FuY2VsbGVkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICh0aGlzLl90YXJnZXQoKS5fYml0RmllbGQgJiA4NDU0MTQ0KSAhPT0gMDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmlzUGVuZGluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBpc1BlbmRpbmcuY2FsbCh0aGlzLl90YXJnZXQoKSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5pc1JlamVjdGVkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGlzUmVqZWN0ZWQuY2FsbCh0aGlzLl90YXJnZXQoKSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5pc0Z1bGZpbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBpc0Z1bGZpbGxlZC5jYWxsKHRoaXMuX3RhcmdldCgpKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmlzUmVzb2x2ZWQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaXNSZXNvbHZlZC5jYWxsKHRoaXMuX3RhcmdldCgpKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHZhbHVlLmNhbGwodGhpcy5fdGFyZ2V0KCkpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUucmVhc29uID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRhcmdldCA9IHRoaXMuX3RhcmdldCgpO1xuICAgIHRhcmdldC5fdW5zZXRSZWplY3Rpb25Jc1VuaGFuZGxlZCgpO1xuICAgIHJldHVybiByZWFzb24uY2FsbCh0YXJnZXQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3ZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NldHRsZWRWYWx1ZSgpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuX3JlYXNvbiA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX3Vuc2V0UmVqZWN0aW9uSXNVbmhhbmRsZWQoKTtcbiAgICByZXR1cm4gdGhpcy5fc2V0dGxlZFZhbHVlKCk7XG59O1xuXG5Qcm9taXNlLlByb21pc2VJbnNwZWN0aW9uID0gUHJvbWlzZUluc3BlY3Rpb247XG59O1xuXG59LHt9XSwzMzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oUHJvbWlzZSwgSU5URVJOQUwpIHtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBlcnJvck9iaiA9IHV0aWwuZXJyb3JPYmo7XG52YXIgaXNPYmplY3QgPSB1dGlsLmlzT2JqZWN0O1xuXG5mdW5jdGlvbiB0cnlDb252ZXJ0VG9Qcm9taXNlKG9iaiwgY29udGV4dCkge1xuICAgIGlmIChpc09iamVjdChvYmopKSB7XG4gICAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBQcm9taXNlKSByZXR1cm4gb2JqO1xuICAgICAgICB2YXIgdGhlbiA9IGdldFRoZW4ob2JqKTtcbiAgICAgICAgaWYgKHRoZW4gPT09IGVycm9yT2JqKSB7XG4gICAgICAgICAgICBpZiAoY29udGV4dCkgY29udGV4dC5fcHVzaENvbnRleHQoKTtcbiAgICAgICAgICAgIHZhciByZXQgPSBQcm9taXNlLnJlamVjdCh0aGVuLmUpO1xuICAgICAgICAgICAgaWYgKGNvbnRleHQpIGNvbnRleHQuX3BvcENvbnRleHQoKTtcbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoZW4gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgaWYgKGlzQW55Qmx1ZWJpcmRQcm9taXNlKG9iaikpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgICAgICAgICAgICAgIG9iai5fdGhlbihcbiAgICAgICAgICAgICAgICAgICAgcmV0Ll9mdWxmaWxsLFxuICAgICAgICAgICAgICAgICAgICByZXQuX3JlamVjdCxcbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICByZXQsXG4gICAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZG9UaGVuYWJsZShvYmosIHRoZW4sIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIGRvR2V0VGhlbihvYmopIHtcbiAgICByZXR1cm4gb2JqLnRoZW47XG59XG5cbmZ1bmN0aW9uIGdldFRoZW4ob2JqKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGRvR2V0VGhlbihvYmopO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZXJyb3JPYmouZSA9IGU7XG4gICAgICAgIHJldHVybiBlcnJvck9iajtcbiAgICB9XG59XG5cbnZhciBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5mdW5jdGlvbiBpc0FueUJsdWViaXJkUHJvbWlzZShvYmopIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gaGFzUHJvcC5jYWxsKG9iaiwgXCJfcHJvbWlzZTBcIik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkb1RoZW5hYmxlKHgsIHRoZW4sIGNvbnRleHQpIHtcbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKElOVEVSTkFMKTtcbiAgICB2YXIgcmV0ID0gcHJvbWlzZTtcbiAgICBpZiAoY29udGV4dCkgY29udGV4dC5fcHVzaENvbnRleHQoKTtcbiAgICBwcm9taXNlLl9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuICAgIGlmIChjb250ZXh0KSBjb250ZXh0Ll9wb3BDb250ZXh0KCk7XG4gICAgdmFyIHN5bmNocm9ub3VzID0gdHJ1ZTtcbiAgICB2YXIgcmVzdWx0ID0gdXRpbC50cnlDYXRjaCh0aGVuKS5jYWxsKHgsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgc3luY2hyb25vdXMgPSBmYWxzZTtcblxuICAgIGlmIChwcm9taXNlICYmIHJlc3VsdCA9PT0gZXJyb3JPYmopIHtcbiAgICAgICAgcHJvbWlzZS5fcmVqZWN0Q2FsbGJhY2socmVzdWx0LmUsIHRydWUsIHRydWUpO1xuICAgICAgICBwcm9taXNlID0gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlKHZhbHVlKSB7XG4gICAgICAgIGlmICghcHJvbWlzZSkgcmV0dXJuO1xuICAgICAgICBwcm9taXNlLl9yZXNvbHZlQ2FsbGJhY2sodmFsdWUpO1xuICAgICAgICBwcm9taXNlID0gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWplY3QocmVhc29uKSB7XG4gICAgICAgIGlmICghcHJvbWlzZSkgcmV0dXJuO1xuICAgICAgICBwcm9taXNlLl9yZWplY3RDYWxsYmFjayhyZWFzb24sIHN5bmNocm9ub3VzLCB0cnVlKTtcbiAgICAgICAgcHJvbWlzZSA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59XG5cbnJldHVybiB0cnlDb252ZXJ0VG9Qcm9taXNlO1xufTtcblxufSx7XCIuL3V0aWxcIjozNn1dLDM0OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihQcm9taXNlLCBJTlRFUk5BTCwgZGVidWcpIHtcbnZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbnZhciBUaW1lb3V0RXJyb3IgPSBQcm9taXNlLlRpbWVvdXRFcnJvcjtcblxuZnVuY3Rpb24gSGFuZGxlV3JhcHBlcihoYW5kbGUpICB7XG4gICAgdGhpcy5oYW5kbGUgPSBoYW5kbGU7XG59XG5cbkhhbmRsZVdyYXBwZXIucHJvdG90eXBlLl9yZXN1bHRDYW5jZWxsZWQgPSBmdW5jdGlvbigpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5oYW5kbGUpO1xufTtcblxudmFyIGFmdGVyVmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gZGVsYXkoK3RoaXMpLnRoZW5SZXR1cm4odmFsdWUpOyB9O1xudmFyIGRlbGF5ID0gUHJvbWlzZS5kZWxheSA9IGZ1bmN0aW9uIChtcywgdmFsdWUpIHtcbiAgICB2YXIgcmV0O1xuICAgIHZhciBoYW5kbGU7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0ID0gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKVxuICAgICAgICAgICAgICAgIC5fdGhlbihhZnRlclZhbHVlLCBudWxsLCBudWxsLCBtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgaWYgKGRlYnVnLmNhbmNlbGxhdGlvbigpICYmIHZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0Ll9zZXRPbkNhbmNlbCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICByZXQgPSBuZXcgUHJvbWlzZShJTlRFUk5BTCk7XG4gICAgICAgIGhhbmRsZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IHJldC5fZnVsZmlsbCgpOyB9LCArbXMpO1xuICAgICAgICBpZiAoZGVidWcuY2FuY2VsbGF0aW9uKCkpIHtcbiAgICAgICAgICAgIHJldC5fc2V0T25DYW5jZWwobmV3IEhhbmRsZVdyYXBwZXIoaGFuZGxlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0Ll9jYXB0dXJlU3RhY2tUcmFjZSgpO1xuICAgIH1cbiAgICByZXQuX3NldEFzeW5jR3VhcmFudGVlZCgpO1xuICAgIHJldHVybiByZXQ7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5kZWxheSA9IGZ1bmN0aW9uIChtcykge1xuICAgIHJldHVybiBkZWxheShtcywgdGhpcyk7XG59O1xuXG52YXIgYWZ0ZXJUaW1lb3V0ID0gZnVuY3Rpb24gKHByb21pc2UsIG1lc3NhZ2UsIHBhcmVudCkge1xuICAgIHZhciBlcnI7XG4gICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIGVyciA9IG1lc3NhZ2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlcnIgPSBuZXcgVGltZW91dEVycm9yKFwib3BlcmF0aW9uIHRpbWVkIG91dFwiKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGVyciA9IG5ldyBUaW1lb3V0RXJyb3IobWVzc2FnZSk7XG4gICAgfVxuICAgIHV0aWwubWFya0FzT3JpZ2luYXRpbmdGcm9tUmVqZWN0aW9uKGVycik7XG4gICAgcHJvbWlzZS5fYXR0YWNoRXh0cmFUcmFjZShlcnIpO1xuICAgIHByb21pc2UuX3JlamVjdChlcnIpO1xuXG4gICAgaWYgKHBhcmVudCAhPSBudWxsKSB7XG4gICAgICAgIHBhcmVudC5jYW5jZWwoKTtcbiAgICB9XG59O1xuXG5mdW5jdGlvbiBzdWNjZXNzQ2xlYXIodmFsdWUpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5oYW5kbGUpO1xuICAgIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gZmFpbHVyZUNsZWFyKHJlYXNvbikge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmhhbmRsZSk7XG4gICAgdGhyb3cgcmVhc29uO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS50aW1lb3V0ID0gZnVuY3Rpb24gKG1zLCBtZXNzYWdlKSB7XG4gICAgbXMgPSArbXM7XG4gICAgdmFyIHJldCwgcGFyZW50O1xuXG4gICAgdmFyIGhhbmRsZVdyYXBwZXIgPSBuZXcgSGFuZGxlV3JhcHBlcihzZXRUaW1lb3V0KGZ1bmN0aW9uIHRpbWVvdXRUaW1lb3V0KCkge1xuICAgICAgICBpZiAocmV0LmlzUGVuZGluZygpKSB7XG4gICAgICAgICAgICBhZnRlclRpbWVvdXQocmV0LCBtZXNzYWdlLCBwYXJlbnQpO1xuICAgICAgICB9XG4gICAgfSwgbXMpKTtcblxuICAgIGlmIChkZWJ1Zy5jYW5jZWxsYXRpb24oKSkge1xuICAgICAgICBwYXJlbnQgPSB0aGlzLnRoZW4oKTtcbiAgICAgICAgcmV0ID0gcGFyZW50Ll90aGVuKHN1Y2Nlc3NDbGVhciwgZmFpbHVyZUNsZWFyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCwgaGFuZGxlV3JhcHBlciwgdW5kZWZpbmVkKTtcbiAgICAgICAgcmV0Ll9zZXRPbkNhbmNlbChoYW5kbGVXcmFwcGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXQgPSB0aGlzLl90aGVuKHN1Y2Nlc3NDbGVhciwgZmFpbHVyZUNsZWFyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCwgaGFuZGxlV3JhcHBlciwgdW5kZWZpbmVkKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xufTtcblxufTtcblxufSx7XCIuL3V0aWxcIjozNn1dLDM1OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoUHJvbWlzZSwgYXBpUmVqZWN0aW9uLCB0cnlDb252ZXJ0VG9Qcm9taXNlLFxuICAgIGNyZWF0ZUNvbnRleHQsIElOVEVSTkFMLCBkZWJ1Zykge1xuICAgIHZhciB1dGlsID0gX2RlcmVxXyhcIi4vdXRpbFwiKTtcbiAgICB2YXIgVHlwZUVycm9yID0gX2RlcmVxXyhcIi4vZXJyb3JzXCIpLlR5cGVFcnJvcjtcbiAgICB2YXIgaW5oZXJpdHMgPSBfZGVyZXFfKFwiLi91dGlsXCIpLmluaGVyaXRzO1xuICAgIHZhciBlcnJvck9iaiA9IHV0aWwuZXJyb3JPYmo7XG4gICAgdmFyIHRyeUNhdGNoID0gdXRpbC50cnlDYXRjaDtcbiAgICB2YXIgTlVMTCA9IHt9O1xuXG4gICAgZnVuY3Rpb24gdGhyb3dlcihlKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyBlO30sIDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhc3RQcmVzZXJ2aW5nRGlzcG9zYWJsZSh0aGVuYWJsZSkge1xuICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gdHJ5Q29udmVydFRvUHJvbWlzZSh0aGVuYWJsZSk7XG4gICAgICAgIGlmIChtYXliZVByb21pc2UgIT09IHRoZW5hYmxlICYmXG4gICAgICAgICAgICB0eXBlb2YgdGhlbmFibGUuX2lzRGlzcG9zYWJsZSA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgICAgICB0eXBlb2YgdGhlbmFibGUuX2dldERpc3Bvc2VyID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgICAgIHRoZW5hYmxlLl9pc0Rpc3Bvc2FibGUoKSkge1xuICAgICAgICAgICAgbWF5YmVQcm9taXNlLl9zZXREaXNwb3NhYmxlKHRoZW5hYmxlLl9nZXREaXNwb3NlcigpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF5YmVQcm9taXNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNwb3NlKHJlc291cmNlcywgaW5zcGVjdGlvbikge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHZhciBsZW4gPSByZXNvdXJjZXMubGVuZ3RoO1xuICAgICAgICB2YXIgcmV0ID0gbmV3IFByb21pc2UoSU5URVJOQUwpO1xuICAgICAgICBmdW5jdGlvbiBpdGVyYXRvcigpIHtcbiAgICAgICAgICAgIGlmIChpID49IGxlbikgcmV0dXJuIHJldC5fZnVsZmlsbCgpO1xuICAgICAgICAgICAgdmFyIG1heWJlUHJvbWlzZSA9IGNhc3RQcmVzZXJ2aW5nRGlzcG9zYWJsZShyZXNvdXJjZXNbaSsrXSk7XG4gICAgICAgICAgICBpZiAobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSAmJlxuICAgICAgICAgICAgICAgIG1heWJlUHJvbWlzZS5faXNEaXNwb3NhYmxlKCkpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBtYXliZVByb21pc2UgPSB0cnlDb252ZXJ0VG9Qcm9taXNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVQcm9taXNlLl9nZXREaXNwb3NlcigpLnRyeURpc3Bvc2UoaW5zcGVjdGlvbiksXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZXMucHJvbWlzZSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhyb3dlcihlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1heWJlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1heWJlUHJvbWlzZS5fdGhlbihpdGVyYXRvciwgdGhyb3dlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLCBudWxsLCBudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpdGVyYXRvcigpO1xuICAgICAgICB9XG4gICAgICAgIGl0ZXJhdG9yKCk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gRGlzcG9zZXIoZGF0YSwgcHJvbWlzZSwgY29udGV4dCkge1xuICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5fcHJvbWlzZSA9IHByb21pc2U7XG4gICAgICAgIHRoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xuICAgIH1cblxuICAgIERpc3Bvc2VyLnByb3RvdHlwZS5kYXRhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgICB9O1xuXG4gICAgRGlzcG9zZXIucHJvdG90eXBlLnByb21pc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9taXNlO1xuICAgIH07XG5cbiAgICBEaXNwb3Nlci5wcm90b3R5cGUucmVzb3VyY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb21pc2UoKS5pc0Z1bGZpbGxlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9taXNlKCkudmFsdWUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTlVMTDtcbiAgICB9O1xuXG4gICAgRGlzcG9zZXIucHJvdG90eXBlLnRyeURpc3Bvc2UgPSBmdW5jdGlvbihpbnNwZWN0aW9uKSB7XG4gICAgICAgIHZhciByZXNvdXJjZSA9IHRoaXMucmVzb3VyY2UoKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLl9jb250ZXh0O1xuICAgICAgICBpZiAoY29udGV4dCAhPT0gdW5kZWZpbmVkKSBjb250ZXh0Ll9wdXNoQ29udGV4dCgpO1xuICAgICAgICB2YXIgcmV0ID0gcmVzb3VyY2UgIT09IE5VTExcbiAgICAgICAgICAgID8gdGhpcy5kb0Rpc3Bvc2UocmVzb3VyY2UsIGluc3BlY3Rpb24pIDogbnVsbDtcbiAgICAgICAgaWYgKGNvbnRleHQgIT09IHVuZGVmaW5lZCkgY29udGV4dC5fcG9wQ29udGV4dCgpO1xuICAgICAgICB0aGlzLl9wcm9taXNlLl91bnNldERpc3Bvc2FibGUoKTtcbiAgICAgICAgdGhpcy5fZGF0YSA9IG51bGw7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcblxuICAgIERpc3Bvc2VyLmlzRGlzcG9zZXIgPSBmdW5jdGlvbiAoZCkge1xuICAgICAgICByZXR1cm4gKGQgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBkLnJlc291cmNlID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgZC50cnlEaXNwb3NlID09PSBcImZ1bmN0aW9uXCIpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBGdW5jdGlvbkRpc3Bvc2VyKGZuLCBwcm9taXNlLCBjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29uc3RydWN0b3IkKGZuLCBwcm9taXNlLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaW5oZXJpdHMoRnVuY3Rpb25EaXNwb3NlciwgRGlzcG9zZXIpO1xuXG4gICAgRnVuY3Rpb25EaXNwb3Nlci5wcm90b3R5cGUuZG9EaXNwb3NlID0gZnVuY3Rpb24gKHJlc291cmNlLCBpbnNwZWN0aW9uKSB7XG4gICAgICAgIHZhciBmbiA9IHRoaXMuZGF0YSgpO1xuICAgICAgICByZXR1cm4gZm4uY2FsbChyZXNvdXJjZSwgcmVzb3VyY2UsIGluc3BlY3Rpb24pO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBtYXliZVVud3JhcERpc3Bvc2VyKHZhbHVlKSB7XG4gICAgICAgIGlmIChEaXNwb3Nlci5pc0Rpc3Bvc2VyKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZXNbdGhpcy5pbmRleF0uX3NldERpc3Bvc2FibGUodmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnByb21pc2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gUmVzb3VyY2VMaXN0KGxlbmd0aCkge1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgdGhpcy5wcm9taXNlID0gbnVsbDtcbiAgICAgICAgdGhpc1tsZW5ndGgtMV0gPSBudWxsO1xuICAgIH1cblxuICAgIFJlc291cmNlTGlzdC5wcm90b3R5cGUuX3Jlc3VsdENhbmNlbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbGVuID0gdGhpcy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpc1tpXTtcbiAgICAgICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIGl0ZW0uY2FuY2VsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgUHJvbWlzZS51c2luZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIGlmIChsZW4gPCAyKSByZXR1cm4gYXBpUmVqZWN0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ5b3UgbXVzdCBwYXNzIGF0IGxlYXN0IDIgYXJndW1lbnRzIHRvIFByb21pc2UudXNpbmdcIik7XG4gICAgICAgIHZhciBmbiA9IGFyZ3VtZW50c1tsZW4gLSAxXTtcbiAgICAgICAgaWYgKHR5cGVvZiBmbiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBpUmVqZWN0aW9uKFwiZXhwZWN0aW5nIGEgZnVuY3Rpb24gYnV0IGdvdCBcIiArIHV0aWwuY2xhc3NTdHJpbmcoZm4pKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5wdXQ7XG4gICAgICAgIHZhciBzcHJlYWRBcmdzID0gdHJ1ZTtcbiAgICAgICAgaWYgKGxlbiA9PT0gMiAmJiBBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSkpIHtcbiAgICAgICAgICAgIGlucHV0ID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgbGVuID0gaW5wdXQubGVuZ3RoO1xuICAgICAgICAgICAgc3ByZWFkQXJncyA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5wdXQgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICBsZW4tLTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzb3VyY2VzID0gbmV3IFJlc291cmNlTGlzdChsZW4pO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcmVzb3VyY2UgPSBpbnB1dFtpXTtcbiAgICAgICAgICAgIGlmIChEaXNwb3Nlci5pc0Rpc3Bvc2VyKHJlc291cmNlKSkge1xuICAgICAgICAgICAgICAgIHZhciBkaXNwb3NlciA9IHJlc291cmNlO1xuICAgICAgICAgICAgICAgIHJlc291cmNlID0gcmVzb3VyY2UucHJvbWlzZSgpO1xuICAgICAgICAgICAgICAgIHJlc291cmNlLl9zZXREaXNwb3NhYmxlKGRpc3Bvc2VyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIG1heWJlUHJvbWlzZSA9IHRyeUNvbnZlcnRUb1Byb21pc2UocmVzb3VyY2UpO1xuICAgICAgICAgICAgICAgIGlmIChtYXliZVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlID1cbiAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlUHJvbWlzZS5fdGhlbihtYXliZVVud3JhcERpc3Bvc2VyLCBudWxsLCBudWxsLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VzOiByZXNvdXJjZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGlcbiAgICAgICAgICAgICAgICAgICAgfSwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvdXJjZXNbaV0gPSByZXNvdXJjZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZWZsZWN0ZWRSZXNvdXJjZXMgPSBuZXcgQXJyYXkocmVzb3VyY2VzLmxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVmbGVjdGVkUmVzb3VyY2VzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICByZWZsZWN0ZWRSZXNvdXJjZXNbaV0gPSBQcm9taXNlLnJlc29sdmUocmVzb3VyY2VzW2ldKS5yZWZsZWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVzdWx0UHJvbWlzZSA9IFByb21pc2UuYWxsKHJlZmxlY3RlZFJlc291cmNlcylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGluc3BlY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnNwZWN0aW9ucy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5zcGVjdGlvbiA9IGluc3BlY3Rpb25zW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5zcGVjdGlvbi5pc1JlamVjdGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yT2JqLmUgPSBpbnNwZWN0aW9uLmVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3JPYmo7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWluc3BlY3Rpb24uaXNGdWxmaWxsZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0UHJvbWlzZS5jYW5jZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpbnNwZWN0aW9uc1tpXSA9IGluc3BlY3Rpb24udmFsdWUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJvbWlzZS5fcHVzaENvbnRleHQoKTtcblxuICAgICAgICAgICAgICAgIGZuID0gdHJ5Q2F0Y2goZm4pO1xuICAgICAgICAgICAgICAgIHZhciByZXQgPSBzcHJlYWRBcmdzXG4gICAgICAgICAgICAgICAgICAgID8gZm4uYXBwbHkodW5kZWZpbmVkLCBpbnNwZWN0aW9ucykgOiBmbihpbnNwZWN0aW9ucyk7XG4gICAgICAgICAgICAgICAgdmFyIHByb21pc2VDcmVhdGVkID0gcHJvbWlzZS5fcG9wQ29udGV4dCgpO1xuICAgICAgICAgICAgICAgIGRlYnVnLmNoZWNrRm9yZ290dGVuUmV0dXJucyhcbiAgICAgICAgICAgICAgICAgICAgcmV0LCBwcm9taXNlQ3JlYXRlZCwgXCJQcm9taXNlLnVzaW5nXCIsIHByb21pc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB2YXIgcHJvbWlzZSA9IHJlc3VsdFByb21pc2UubGFzdGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGluc3BlY3Rpb24gPSBuZXcgUHJvbWlzZS5Qcm9taXNlSW5zcGVjdGlvbihyZXN1bHRQcm9taXNlKTtcbiAgICAgICAgICAgIHJldHVybiBkaXNwb3NlKHJlc291cmNlcywgaW5zcGVjdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXNvdXJjZXMucHJvbWlzZSA9IHByb21pc2U7XG4gICAgICAgIHByb21pc2UuX3NldE9uQ2FuY2VsKHJlc291cmNlcyk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH07XG5cbiAgICBQcm9taXNlLnByb3RvdHlwZS5fc2V0RGlzcG9zYWJsZSA9IGZ1bmN0aW9uIChkaXNwb3Nlcikge1xuICAgICAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkIHwgMTMxMDcyO1xuICAgICAgICB0aGlzLl9kaXNwb3NlciA9IGRpc3Bvc2VyO1xuICAgIH07XG5cbiAgICBQcm9taXNlLnByb3RvdHlwZS5faXNEaXNwb3NhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX2JpdEZpZWxkICYgMTMxMDcyKSA+IDA7XG4gICAgfTtcblxuICAgIFByb21pc2UucHJvdG90eXBlLl9nZXREaXNwb3NlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc3Bvc2VyO1xuICAgIH07XG5cbiAgICBQcm9taXNlLnByb3RvdHlwZS5fdW5zZXREaXNwb3NhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9iaXRGaWVsZCA9IHRoaXMuX2JpdEZpZWxkICYgKH4xMzEwNzIpO1xuICAgICAgICB0aGlzLl9kaXNwb3NlciA9IHVuZGVmaW5lZDtcbiAgICB9O1xuXG4gICAgUHJvbWlzZS5wcm90b3R5cGUuZGlzcG9zZXIgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uRGlzcG9zZXIoZm4sIHRoaXMsIGNyZWF0ZUNvbnRleHQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgIH07XG5cbn07XG5cbn0se1wiLi9lcnJvcnNcIjoxMixcIi4vdXRpbFwiOjM2fV0sMzY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgZXM1ID0gX2RlcmVxXyhcIi4vZXM1XCIpO1xudmFyIGNhbkV2YWx1YXRlID0gdHlwZW9mIG5hdmlnYXRvciA9PSBcInVuZGVmaW5lZFwiO1xuXG52YXIgZXJyb3JPYmogPSB7ZToge319O1xudmFyIHRyeUNhdGNoVGFyZ2V0O1xudmFyIGdsb2JhbE9iamVjdCA9IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6XG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6XG4gICAgdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6XG4gICAgdGhpcyAhPT0gdW5kZWZpbmVkID8gdGhpcyA6IG51bGw7XG5cbmZ1bmN0aW9uIHRyeUNhdGNoZXIoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIHRhcmdldCA9IHRyeUNhdGNoVGFyZ2V0O1xuICAgICAgICB0cnlDYXRjaFRhcmdldCA9IG51bGw7XG4gICAgICAgIHJldHVybiB0YXJnZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGVycm9yT2JqLmUgPSBlO1xuICAgICAgICByZXR1cm4gZXJyb3JPYmo7XG4gICAgfVxufVxuZnVuY3Rpb24gdHJ5Q2F0Y2goZm4pIHtcbiAgICB0cnlDYXRjaFRhcmdldCA9IGZuO1xuICAgIHJldHVybiB0cnlDYXRjaGVyO1xufVxuXG52YXIgaW5oZXJpdHMgPSBmdW5jdGlvbihDaGlsZCwgUGFyZW50KSB7XG4gICAgdmFyIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICAgIGZ1bmN0aW9uIFQoKSB7XG4gICAgICAgIHRoaXMuY29uc3RydWN0b3IgPSBDaGlsZDtcbiAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciQgPSBQYXJlbnQ7XG4gICAgICAgIGZvciAodmFyIHByb3BlcnR5TmFtZSBpbiBQYXJlbnQucHJvdG90eXBlKSB7XG4gICAgICAgICAgICBpZiAoaGFzUHJvcC5jYWxsKFBhcmVudC5wcm90b3R5cGUsIHByb3BlcnR5TmFtZSkgJiZcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWUuY2hhckF0KHByb3BlcnR5TmFtZS5sZW5ndGgtMSkgIT09IFwiJFwiXG4gICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRoaXNbcHJvcGVydHlOYW1lICsgXCIkXCJdID0gUGFyZW50LnByb3RvdHlwZVtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIFQucHJvdG90eXBlID0gUGFyZW50LnByb3RvdHlwZTtcbiAgICBDaGlsZC5wcm90b3R5cGUgPSBuZXcgVCgpO1xuICAgIHJldHVybiBDaGlsZC5wcm90b3R5cGU7XG59O1xuXG5cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKHZhbCkge1xuICAgIHJldHVybiB2YWwgPT0gbnVsbCB8fCB2YWwgPT09IHRydWUgfHwgdmFsID09PSBmYWxzZSB8fFxuICAgICAgICB0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCI7XG5cbn1cblxuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9PSBudWxsO1xufVxuXG5mdW5jdGlvbiBtYXliZVdyYXBBc0Vycm9yKG1heWJlRXJyb3IpIHtcbiAgICBpZiAoIWlzUHJpbWl0aXZlKG1heWJlRXJyb3IpKSByZXR1cm4gbWF5YmVFcnJvcjtcblxuICAgIHJldHVybiBuZXcgRXJyb3Ioc2FmZVRvU3RyaW5nKG1heWJlRXJyb3IpKTtcbn1cblxuZnVuY3Rpb24gd2l0aEFwcGVuZGVkKHRhcmdldCwgYXBwZW5kZWUpIHtcbiAgICB2YXIgbGVuID0gdGFyZ2V0Lmxlbmd0aDtcbiAgICB2YXIgcmV0ID0gbmV3IEFycmF5KGxlbiArIDEpO1xuICAgIHZhciBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICByZXRbaV0gPSB0YXJnZXRbaV07XG4gICAgfVxuICAgIHJldFtpXSA9IGFwcGVuZGVlO1xuICAgIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGdldERhdGFQcm9wZXJ0eU9yRGVmYXVsdChvYmosIGtleSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgaWYgKGVzNS5pc0VTNSkge1xuICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpO1xuXG4gICAgICAgIGlmIChkZXNjICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBkZXNjLmdldCA9PSBudWxsICYmIGRlc2Muc2V0ID09IG51bGxcbiAgICAgICAgICAgICAgICAgICAgPyBkZXNjLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHt9Lmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpID8gb2JqW2tleV0gOiB1bmRlZmluZWQ7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBub3RFbnVtZXJhYmxlUHJvcChvYmosIG5hbWUsIHZhbHVlKSB7XG4gICAgaWYgKGlzUHJpbWl0aXZlKG9iaikpIHJldHVybiBvYmo7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9O1xuICAgIGVzNS5kZWZpbmVQcm9wZXJ0eShvYmosIG5hbWUsIGRlc2NyaXB0b3IpO1xuICAgIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIHRocm93ZXIocikge1xuICAgIHRocm93IHI7XG59XG5cbnZhciBpbmhlcml0ZWREYXRhS2V5cyA9IChmdW5jdGlvbigpIHtcbiAgICB2YXIgZXhjbHVkZWRQcm90b3R5cGVzID0gW1xuICAgICAgICBBcnJheS5wcm90b3R5cGUsXG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUsXG4gICAgICAgIEZ1bmN0aW9uLnByb3RvdHlwZVxuICAgIF07XG5cbiAgICB2YXIgaXNFeGNsdWRlZFByb3RvID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhjbHVkZWRQcm90b3R5cGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAoZXhjbHVkZWRQcm90b3R5cGVzW2ldID09PSB2YWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIGlmIChlczUuaXNFUzUpIHtcbiAgICAgICAgdmFyIGdldEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcztcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgdmFyIHJldCA9IFtdO1xuICAgICAgICAgICAgdmFyIHZpc2l0ZWRLZXlzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICAgIHdoaWxlIChvYmogIT0gbnVsbCAmJiAhaXNFeGNsdWRlZFByb3RvKG9iaikpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5cztcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBrZXlzID0gZ2V0S2V5cyhvYmopO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmlzaXRlZEtleXNba2V5XSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIHZpc2l0ZWRLZXlzW2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVzYyAhPSBudWxsICYmIGRlc2MuZ2V0ID09IG51bGwgJiYgZGVzYy5zZXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvYmogPSBlczUuZ2V0UHJvdG90eXBlT2Yob2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgaWYgKGlzRXhjbHVkZWRQcm90byhvYmopKSByZXR1cm4gW107XG4gICAgICAgICAgICB2YXIgcmV0ID0gW107XG5cbiAgICAgICAgICAgIC8qanNoaW50IGZvcmluOmZhbHNlICovXG4gICAgICAgICAgICBlbnVtZXJhdGlvbjogZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgICAgICAgICAgIGlmIChoYXNQcm9wLmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldC5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleGNsdWRlZFByb3RvdHlwZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNQcm9wLmNhbGwoZXhjbHVkZWRQcm90b3R5cGVzW2ldLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgZW51bWVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9O1xuICAgIH1cblxufSkoKTtcblxudmFyIHRoaXNBc3NpZ25tZW50UGF0dGVybiA9IC90aGlzXFxzKlxcLlxccypcXFMrXFxzKj0vO1xuZnVuY3Rpb24gaXNDbGFzcyhmbikge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgZm4gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBlczUubmFtZXMoZm4ucHJvdG90eXBlKTtcblxuICAgICAgICAgICAgdmFyIGhhc01ldGhvZHMgPSBlczUuaXNFUzUgJiYga2V5cy5sZW5ndGggPiAxO1xuICAgICAgICAgICAgdmFyIGhhc01ldGhvZHNPdGhlclRoYW5Db25zdHJ1Y3RvciA9IGtleXMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgICEoa2V5cy5sZW5ndGggPT09IDEgJiYga2V5c1swXSA9PT0gXCJjb25zdHJ1Y3RvclwiKTtcbiAgICAgICAgICAgIHZhciBoYXNUaGlzQXNzaWdubWVudEFuZFN0YXRpY01ldGhvZHMgPVxuICAgICAgICAgICAgICAgIHRoaXNBc3NpZ25tZW50UGF0dGVybi50ZXN0KGZuICsgXCJcIikgJiYgZXM1Lm5hbWVzKGZuKS5sZW5ndGggPiAwO1xuXG4gICAgICAgICAgICBpZiAoaGFzTWV0aG9kcyB8fCBoYXNNZXRob2RzT3RoZXJUaGFuQ29uc3RydWN0b3IgfHxcbiAgICAgICAgICAgICAgICBoYXNUaGlzQXNzaWdubWVudEFuZFN0YXRpY01ldGhvZHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB0b0Zhc3RQcm9wZXJ0aWVzKG9iaikge1xuICAgIC8qanNoaW50IC1XMDI3LC1XMDU1LC1XMDMxKi9cbiAgICBmdW5jdGlvbiBGYWtlQ29uc3RydWN0b3IoKSB7fVxuICAgIEZha2VDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBvYmo7XG4gICAgdmFyIGwgPSA4O1xuICAgIHdoaWxlIChsLS0pIG5ldyBGYWtlQ29uc3RydWN0b3IoKTtcbiAgICByZXR1cm4gb2JqO1xuICAgIGV2YWwob2JqKTtcbn1cblxudmFyIHJpZGVudCA9IC9eW2EteiRfXVthLXokXzAtOV0qJC9pO1xuZnVuY3Rpb24gaXNJZGVudGlmaWVyKHN0cikge1xuICAgIHJldHVybiByaWRlbnQudGVzdChzdHIpO1xufVxuXG5mdW5jdGlvbiBmaWxsZWRSYW5nZShjb3VudCwgcHJlZml4LCBzdWZmaXgpIHtcbiAgICB2YXIgcmV0ID0gbmV3IEFycmF5KGNvdW50KTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgY291bnQ7ICsraSkge1xuICAgICAgICByZXRbaV0gPSBwcmVmaXggKyBpICsgc3VmZml4O1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBzYWZlVG9TdHJpbmcob2JqKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG9iaiArIFwiXCI7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gXCJbbm8gc3RyaW5nIHJlcHJlc2VudGF0aW9uXVwiO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNFcnJvcihvYmopIHtcbiAgICByZXR1cm4gb2JqICE9PSBudWxsICYmXG4gICAgICAgICAgIHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgdHlwZW9mIG9iai5tZXNzYWdlID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgIHR5cGVvZiBvYmoubmFtZSA9PT0gXCJzdHJpbmdcIjtcbn1cblxuZnVuY3Rpb24gbWFya0FzT3JpZ2luYXRpbmdGcm9tUmVqZWN0aW9uKGUpIHtcbiAgICB0cnkge1xuICAgICAgICBub3RFbnVtZXJhYmxlUHJvcChlLCBcImlzT3BlcmF0aW9uYWxcIiwgdHJ1ZSk7XG4gICAgfVxuICAgIGNhdGNoKGlnbm9yZSkge31cbn1cblxuZnVuY3Rpb24gb3JpZ2luYXRlc0Zyb21SZWplY3Rpb24oZSkge1xuICAgIGlmIChlID09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gKChlIGluc3RhbmNlb2YgRXJyb3JbXCJfX0JsdWViaXJkRXJyb3JUeXBlc19fXCJdLk9wZXJhdGlvbmFsRXJyb3IpIHx8XG4gICAgICAgIGVbXCJpc09wZXJhdGlvbmFsXCJdID09PSB0cnVlKTtcbn1cblxuZnVuY3Rpb24gY2FuQXR0YWNoVHJhY2Uob2JqKSB7XG4gICAgcmV0dXJuIGlzRXJyb3Iob2JqKSAmJiBlczUucHJvcGVydHlJc1dyaXRhYmxlKG9iaiwgXCJzdGFja1wiKTtcbn1cblxudmFyIGVuc3VyZUVycm9yT2JqZWN0ID0gKGZ1bmN0aW9uKCkge1xuICAgIGlmICghKFwic3RhY2tcIiBpbiBuZXcgRXJyb3IoKSkpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoY2FuQXR0YWNoVHJhY2UodmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB0cnkge3Rocm93IG5ldyBFcnJvcihzYWZlVG9TdHJpbmcodmFsdWUpKTt9XG4gICAgICAgICAgICBjYXRjaChlcnIpIHtyZXR1cm4gZXJyO31cbiAgICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChjYW5BdHRhY2hUcmFjZSh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3Ioc2FmZVRvU3RyaW5nKHZhbHVlKSk7XG4gICAgICAgIH07XG4gICAgfVxufSkoKTtcblxuZnVuY3Rpb24gY2xhc3NTdHJpbmcob2JqKSB7XG4gICAgcmV0dXJuIHt9LnRvU3RyaW5nLmNhbGwob2JqKTtcbn1cblxuZnVuY3Rpb24gY29weURlc2NyaXB0b3JzKGZyb20sIHRvLCBmaWx0ZXIpIHtcbiAgICB2YXIga2V5cyA9IGVzNS5uYW1lcyhmcm9tKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgIGlmIChmaWx0ZXIoa2V5KSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBlczUuZGVmaW5lUHJvcGVydHkodG8sIGtleSwgZXM1LmdldERlc2NyaXB0b3IoZnJvbSwga2V5KSk7XG4gICAgICAgICAgICB9IGNhdGNoIChpZ25vcmUpIHt9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbnZhciBhc0FycmF5ID0gZnVuY3Rpb24odikge1xuICAgIGlmIChlczUuaXNBcnJheSh2KSkge1xuICAgICAgICByZXR1cm4gdjtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59O1xuXG5pZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wuaXRlcmF0b3IpIHtcbiAgICB2YXIgQXJyYXlGcm9tID0gdHlwZW9mIEFycmF5LmZyb20gPT09IFwiZnVuY3Rpb25cIiA/IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odik7XG4gICAgfSA6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgdmFyIHJldCA9IFtdO1xuICAgICAgICB2YXIgaXQgPSB2W1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICAgICAgdmFyIGl0UmVzdWx0O1xuICAgICAgICB3aGlsZSAoISgoaXRSZXN1bHQgPSBpdC5uZXh0KCkpLmRvbmUpKSB7XG4gICAgICAgICAgICByZXQucHVzaChpdFJlc3VsdC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuXG4gICAgYXNBcnJheSA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgaWYgKGVzNS5pc0FycmF5KHYpKSB7XG4gICAgICAgICAgICByZXR1cm4gdjtcbiAgICAgICAgfSBlbHNlIGlmICh2ICE9IG51bGwgJiYgdHlwZW9mIHZbU3ltYm9sLml0ZXJhdG9yXSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICByZXR1cm4gQXJyYXlGcm9tKHYpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG59XG5cbnZhciBpc05vZGUgPSB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICAgICBjbGFzc1N0cmluZyhwcm9jZXNzKS50b0xvd2VyQ2FzZSgpID09PSBcIltvYmplY3QgcHJvY2Vzc11cIjtcblxuZnVuY3Rpb24gZW52KGtleSwgZGVmKSB7XG4gICAgcmV0dXJuIGlzTm9kZSA/IHByb2Nlc3MuZW52W2tleV0gOiBkZWY7XG59XG5cbmZ1bmN0aW9uIGdldE5hdGl2ZVByb21pc2UoKSB7XG4gICAgaWYgKHR5cGVvZiBQcm9taXNlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24oKXt9KTtcbiAgICAgICAgICAgIGlmICh7fS50b1N0cmluZy5jYWxsKHByb21pc2UpID09PSBcIltvYmplY3QgUHJvbWlzZV1cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZG9tYWluQmluZChzZWxmLCBjYikge1xuICAgIHJldHVybiBzZWxmLmJpbmQoY2IpO1xufVxuXG52YXIgcmV0ID0ge1xuICAgIGlzQ2xhc3M6IGlzQ2xhc3MsXG4gICAgaXNJZGVudGlmaWVyOiBpc0lkZW50aWZpZXIsXG4gICAgaW5oZXJpdGVkRGF0YUtleXM6IGluaGVyaXRlZERhdGFLZXlzLFxuICAgIGdldERhdGFQcm9wZXJ0eU9yRGVmYXVsdDogZ2V0RGF0YVByb3BlcnR5T3JEZWZhdWx0LFxuICAgIHRocm93ZXI6IHRocm93ZXIsXG4gICAgaXNBcnJheTogZXM1LmlzQXJyYXksXG4gICAgYXNBcnJheTogYXNBcnJheSxcbiAgICBub3RFbnVtZXJhYmxlUHJvcDogbm90RW51bWVyYWJsZVByb3AsXG4gICAgaXNQcmltaXRpdmU6IGlzUHJpbWl0aXZlLFxuICAgIGlzT2JqZWN0OiBpc09iamVjdCxcbiAgICBpc0Vycm9yOiBpc0Vycm9yLFxuICAgIGNhbkV2YWx1YXRlOiBjYW5FdmFsdWF0ZSxcbiAgICBlcnJvck9iajogZXJyb3JPYmosXG4gICAgdHJ5Q2F0Y2g6IHRyeUNhdGNoLFxuICAgIGluaGVyaXRzOiBpbmhlcml0cyxcbiAgICB3aXRoQXBwZW5kZWQ6IHdpdGhBcHBlbmRlZCxcbiAgICBtYXliZVdyYXBBc0Vycm9yOiBtYXliZVdyYXBBc0Vycm9yLFxuICAgIHRvRmFzdFByb3BlcnRpZXM6IHRvRmFzdFByb3BlcnRpZXMsXG4gICAgZmlsbGVkUmFuZ2U6IGZpbGxlZFJhbmdlLFxuICAgIHRvU3RyaW5nOiBzYWZlVG9TdHJpbmcsXG4gICAgY2FuQXR0YWNoVHJhY2U6IGNhbkF0dGFjaFRyYWNlLFxuICAgIGVuc3VyZUVycm9yT2JqZWN0OiBlbnN1cmVFcnJvck9iamVjdCxcbiAgICBvcmlnaW5hdGVzRnJvbVJlamVjdGlvbjogb3JpZ2luYXRlc0Zyb21SZWplY3Rpb24sXG4gICAgbWFya0FzT3JpZ2luYXRpbmdGcm9tUmVqZWN0aW9uOiBtYXJrQXNPcmlnaW5hdGluZ0Zyb21SZWplY3Rpb24sXG4gICAgY2xhc3NTdHJpbmc6IGNsYXNzU3RyaW5nLFxuICAgIGNvcHlEZXNjcmlwdG9yczogY29weURlc2NyaXB0b3JzLFxuICAgIGhhc0RldlRvb2xzOiB0eXBlb2YgY2hyb21lICE9PSBcInVuZGVmaW5lZFwiICYmIGNocm9tZSAmJlxuICAgICAgICAgICAgICAgICB0eXBlb2YgY2hyb21lLmxvYWRUaW1lcyA9PT0gXCJmdW5jdGlvblwiLFxuICAgIGlzTm9kZTogaXNOb2RlLFxuICAgIGVudjogZW52LFxuICAgIGdsb2JhbDogZ2xvYmFsT2JqZWN0LFxuICAgIGdldE5hdGl2ZVByb21pc2U6IGdldE5hdGl2ZVByb21pc2UsXG4gICAgZG9tYWluQmluZDogZG9tYWluQmluZFxufTtcbnJldC5pc1JlY2VudE5vZGUgPSByZXQuaXNOb2RlICYmIChmdW5jdGlvbigpIHtcbiAgICB2YXIgdmVyc2lvbiA9IHByb2Nlc3MudmVyc2lvbnMubm9kZS5zcGxpdChcIi5cIikubWFwKE51bWJlcik7XG4gICAgcmV0dXJuICh2ZXJzaW9uWzBdID09PSAwICYmIHZlcnNpb25bMV0gPiAxMCkgfHwgKHZlcnNpb25bMF0gPiAwKTtcbn0pKCk7XG5cbmlmIChyZXQuaXNOb2RlKSByZXQudG9GYXN0UHJvcGVydGllcyhwcm9jZXNzKTtcblxudHJ5IHt0aHJvdyBuZXcgRXJyb3IoKTsgfSBjYXRjaCAoZSkge3JldC5sYXN0TGluZUVycm9yID0gZTt9XG5tb2R1bGUuZXhwb3J0cyA9IHJldDtcblxufSx7XCIuL2VzNVwiOjEzfV19LHt9LFs0XSkoNClcbn0pOyAgICAgICAgICAgICAgICAgICAgO2lmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cgIT09IG51bGwpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LlAgPSB3aW5kb3cuUHJvbWlzZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnICYmIHNlbGYgIT09IG51bGwpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuUCA9IHNlbGYuUHJvbWlzZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmx1ZWJpcmQvanMvYnJvd3Nlci9ibHVlYmlyZC5qc1xuICoqIG1vZHVsZSBpZCA9IDUyXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMVxuICoqLyIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wcm9jZXNzL2Jyb3dzZXIuanNcbiAqKiBtb2R1bGUgaWQgPSA1M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwIDFcbiAqKi8iLCJ2YXIgbmV4dFRpY2sgPSByZXF1aXJlKCdwcm9jZXNzL2Jyb3dzZXIuanMnKS5uZXh0VGljaztcbnZhciBhcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtcbnZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcbnZhciBpbW1lZGlhdGVJZHMgPSB7fTtcbnZhciBuZXh0SW1tZWRpYXRlSWQgPSAwO1xuXG4vLyBET00gQVBJcywgZm9yIGNvbXBsZXRlbmVzc1xuXG5leHBvcnRzLnNldFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhclRpbWVvdXQpO1xufTtcbmV4cG9ydHMuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0SW50ZXJ2YWwsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG59O1xuZXhwb3J0cy5jbGVhclRpbWVvdXQgPVxuZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkgeyB0aW1lb3V0LmNsb3NlKCk7IH07XG5cbmZ1bmN0aW9uIFRpbWVvdXQoaWQsIGNsZWFyRm4pIHtcbiAgdGhpcy5faWQgPSBpZDtcbiAgdGhpcy5fY2xlYXJGbiA9IGNsZWFyRm47XG59XG5UaW1lb3V0LnByb3RvdHlwZS51bnJlZiA9IFRpbWVvdXQucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uKCkge307XG5UaW1lb3V0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9jbGVhckZuLmNhbGwod2luZG93LCB0aGlzLl9pZCk7XG59O1xuXG4vLyBEb2VzIG5vdCBzdGFydCB0aGUgdGltZSwganVzdCBzZXRzIHVwIHRoZSBtZW1iZXJzIG5lZWRlZC5cbmV4cG9ydHMuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSwgbXNlY3MpIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IG1zZWNzO1xufTtcblxuZXhwb3J0cy51bmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IC0xO1xufTtcblxuZXhwb3J0cy5fdW5yZWZBY3RpdmUgPSBleHBvcnRzLmFjdGl2ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXG4gIHZhciBtc2VjcyA9IGl0ZW0uX2lkbGVUaW1lb3V0O1xuICBpZiAobXNlY3MgPj0gMCkge1xuICAgIGl0ZW0uX2lkbGVUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIG9uVGltZW91dCgpIHtcbiAgICAgIGlmIChpdGVtLl9vblRpbWVvdXQpXG4gICAgICAgIGl0ZW0uX29uVGltZW91dCgpO1xuICAgIH0sIG1zZWNzKTtcbiAgfVxufTtcblxuLy8gVGhhdCdzIG5vdCBob3cgbm9kZS5qcyBpbXBsZW1lbnRzIGl0IGJ1dCB0aGUgZXhwb3NlZCBhcGkgaXMgdGhlIHNhbWUuXG5leHBvcnRzLnNldEltbWVkaWF0ZSA9IHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHNldEltbWVkaWF0ZSA6IGZ1bmN0aW9uKGZuKSB7XG4gIHZhciBpZCA9IG5leHRJbW1lZGlhdGVJZCsrO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPCAyID8gZmFsc2UgOiBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgaW1tZWRpYXRlSWRzW2lkXSA9IHRydWU7XG5cbiAgbmV4dFRpY2soZnVuY3Rpb24gb25OZXh0VGljaygpIHtcbiAgICBpZiAoaW1tZWRpYXRlSWRzW2lkXSkge1xuICAgICAgLy8gZm4uY2FsbCgpIGlzIGZhc3RlciBzbyB3ZSBvcHRpbWl6ZSBmb3IgdGhlIGNvbW1vbiB1c2UtY2FzZVxuICAgICAgLy8gQHNlZSBodHRwOi8vanNwZXJmLmNvbS9jYWxsLWFwcGx5LXNlZ3VcbiAgICAgIGlmIChhcmdzKSB7XG4gICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm4uY2FsbChudWxsKTtcbiAgICAgIH1cbiAgICAgIC8vIFByZXZlbnQgaWRzIGZyb20gbGVha2luZ1xuICAgICAgZXhwb3J0cy5jbGVhckltbWVkaWF0ZShpZCk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gaWQ7XG59O1xuXG5leHBvcnRzLmNsZWFySW1tZWRpYXRlID0gdHlwZW9mIGNsZWFySW1tZWRpYXRlID09PSBcImZ1bmN0aW9uXCIgPyBjbGVhckltbWVkaWF0ZSA6IGZ1bmN0aW9uKGlkKSB7XG4gIGRlbGV0ZSBpbW1lZGlhdGVJZHNbaWRdO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi90aW1lcnMtYnJvd3NlcmlmeS9tYWluLmpzXG4gKiogbW9kdWxlIGlkID0gNTRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxXG4gKiovIiwiaW1wb3J0IEVwdWJQcmVzcyBmcm9tICdlcHViLXByZXNzLWpzJztcbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5cbmltcG9ydCBCcm93c2VyIGZyb20gJy4vYnJvd3Nlcic7XG5pbXBvcnQgVUkgZnJvbSAnLi91aSc7XG5cbmNvbnN0IG1hbmlmZXN0ID0gQnJvd3Nlci5nZXRNYW5pZmVzdCgpO1xuXG4vKlxuRG93bmxvYWQgRm9ybVxuKi9cblxuJCgnI3NlbGVjdC1hbGwnKS5jbGljaygoKSA9PiB7XG4gICAgJCgnaW5wdXQuYXJ0aWNsZS1jaGVja2JveCcpLmVhY2goKGluZGV4LCBjaGVja2JveCkgPT4ge1xuICAgICAgICAkKGNoZWNrYm94KS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG4gICAgfSk7XG59KTtcblxuJCgnI3NlbGVjdC1ub25lJykuY2xpY2soKCkgPT4ge1xuICAgICQoJ2lucHV0LmFydGljbGUtY2hlY2tib3gnKS5lYWNoKChpbmRleCwgY2hlY2tib3gpID0+IHtcbiAgICAgICAgJChjaGVja2JveCkucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcbiAgICB9KTtcbn0pO1xuXG4kKCcjZG93bmxvYWQnKS5jbGljaygoKSA9PiB7XG4gICAgY29uc3Qgc2VsZWN0ZWRJdGVtcyA9IFtdO1xuICAgICQoJ2lucHV0LmFydGljbGUtY2hlY2tib3gnKS5lYWNoKChpbmRleCwgY2hlY2tib3gpID0+IHtcbiAgICAgICAgaWYgKCQoY2hlY2tib3gpLnByb3AoJ2NoZWNrZWQnKSkge1xuICAgICAgICAgICAgc2VsZWN0ZWRJdGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICB1cmw6ICQoY2hlY2tib3gpLnByb3AoJ3ZhbHVlJyksXG4gICAgICAgICAgICAgICAgaWQ6IE51bWJlcigkKGNoZWNrYm94KS5wcm9wKCduYW1lJykpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuXG4gICAgaWYgKHNlbGVjdGVkSXRlbXMubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgJCgnI2FsZXJ0LW1lc3NhZ2UnKS50ZXh0KCdObyBhcnRpY2xlcyBzZWxlY3RlZCEnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBCcm93c2VyLmdldFRhYnNIdG1sKHNlbGVjdGVkSXRlbXMpLnRoZW4oKHNlY3Rpb25zKSA9PiB7XG4gICAgICAgICAgICBVSS5zaG93U2VjdGlvbignI2Rvd25sb2FkU3Bpbm5lcicpO1xuICAgICAgICAgICAgQnJvd3Nlci5zZW5kTWVzc2FnZShudWxsLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnZG93bmxvYWQnLFxuICAgICAgICAgICAgICAgICAgICBib29rOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJCgnI2Jvb2stdGl0bGUnKS52YWwoKSB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJCgnI2Jvb2stZGVzY3JpcHRpb24nKS52YWwoKSB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIFVJLnNldEVycm9yTWVzc2FnZShgQ291bGQgbm90IGZpbmQgdGFiIGNvbnRlbnQ6ICR7ZXJyb3J9YCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG5cbi8qXG5TZXR0aW5ncyBNYW5hZ2VtZW50XG4qL1xuXG5mdW5jdGlvbiBzZXRFeGlzdGluZ1NldHRpbmdzKGNiKSB7XG4gICAgQnJvd3Nlci5nZXRMb2NhbFN0b3JhZ2UoWydlbWFpbCcsICdmaWxldHlwZSddKS50aGVuKChzdGF0ZSkgPT4ge1xuICAgICAgICAkKCcjc2V0dGluZ3MtZW1haWwtdGV4dCcpLnZhbChzdGF0ZS5lbWFpbCk7XG4gICAgICAgICQoJyNzZXR0aW5ncy1maWxldHlwZS1zZWxlY3QnKS52YWwoc3RhdGUuZmlsZXR5cGUpO1xuICAgICAgICBjYigpO1xuICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICBVSS5zZXRFcnJvck1lc3NhZ2UoYENvdWxkIG5vdCBsb2FkIHNldHRpbmdzOiAke2Vycm9yfWApO1xuICAgIH0pO1xufVxuXG4kKCcjc2V0dGluZ3MtYnRuJykuY2xpY2soKCkgPT4ge1xuICAgIHNldEV4aXN0aW5nU2V0dGluZ3MoKCkgPT4ge1xuICAgICAgICBVSS5zaG93U2VjdGlvbignI3NldHRpbmdzRm9ybScpO1xuICAgIH0pO1xufSk7XG5cbiQoJyNzZXR0aW5ncy1zYXZlLWJ0bicpLmNsaWNrKCgpID0+IHtcbiAgICBCcm93c2VyLnNldExvY2FsU3RvcmFnZSh7XG4gICAgICAgIGVtYWlsOiAkKCcjc2V0dGluZ3MtZW1haWwtdGV4dCcpLnZhbCgpLFxuICAgICAgICBmaWxldHlwZTogJCgnI3NldHRpbmdzLWZpbGV0eXBlLXNlbGVjdCcpLnZhbCgpLFxuICAgIH0pO1xuICAgIFVJLnNob3dTZWN0aW9uKCcjZG93bmxvYWRGb3JtJyk7XG59KTtcblxuJCgnI3NldHRpbmdzLWNhbmNlbC1idG4nKS5jbGljaygoKSA9PiB7XG4gICAgVUkuc2hvd1NlY3Rpb24oJyNkb3dubG9hZEZvcm0nKTtcbn0pO1xuXG4vKlxuTWVzc2FnaW5nXG4qL1xuXG5Ccm93c2VyLm9uQmFja2dyb3VuZE1lc3NhZ2UoKHJlcXVlc3QpID0+IHtcbiAgICBpZiAocmVxdWVzdC5hY3Rpb24gPT09ICdkb3dubG9hZCcpIHtcbiAgICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAnY29tcGxldGUnKSB7XG4gICAgICAgICAgICBVSS51cGRhdGVTdGF0dXMoMTAwLCAnRG9uZSEnKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBVSS5zaG93U2VjdGlvbignI2Rvd25sb2FkU3VjY2VzcycpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBVSS5zaG93U2VjdGlvbignI2Rvd25sb2FkRmFpbGVkJyk7XG4gICAgICAgICAgICBpZiAocmVxdWVzdC5lcnJvcikge1xuICAgICAgICAgICAgICAgIFVJLnNldEVycm9yTWVzc2FnZShyZXF1ZXN0LmVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAocmVxdWVzdC5hY3Rpb24gPT09ICdwdWJsaXNoJykge1xuICAgICAgICBVSS51cGRhdGVTdGF0dXMocmVxdWVzdC5wcm9ncmVzcywgcmVxdWVzdC5tZXNzYWdlKTtcbiAgICB9XG59KTtcblxuLypcblN0YXJ0dXBcbiovXG5cbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgVUkuaW5pdGlhbGl6ZVVpKCk7XG4gICAgQnJvd3Nlci5nZXRMb2NhbFN0b3JhZ2UoJ2Rvd25sb2FkU3RhdGUnKS50aGVuKChzdGF0ZSkgPT4ge1xuICAgICAgICBpZiAoc3RhdGUuZG93bmxvYWRTdGF0ZSkge1xuICAgICAgICAgICAgQnJvd3Nlci5nZXRMb2NhbFN0b3JhZ2UoJ3B1Ymxpc2hTdGF0dXMnKS50aGVuKChwdWJsaXNoU3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXMgPSBKU09OLnBhcnNlKHB1Ymxpc2hTdGF0ZS5wdWJsaXNoU3RhdHVzKTtcbiAgICAgICAgICAgICAgICBVSS51cGRhdGVTdGF0dXMoc3RhdHVzLnByb2dyZXNzLCBzdGF0dXMubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgVUkuc2hvd1NlY3Rpb24oJyNkb3dubG9hZFNwaW5uZXInKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgRXB1YlByZXNzLmNoZWNrRm9yVXBkYXRlcygnZXB1Yi1wcmVzcy1jaHJvbWUnLCBtYW5pZmVzdC52ZXJzaW9uKS50aGVuKChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgVUkuc2V0QWxlcnRNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgVUkuc2hvd1NlY3Rpb24oJyNkb3dubG9hZEZvcm0nKTtcbiAgICAgICAgICAgIFVJLmluaXRpYWxpemVUYWJMaXN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSk7XG59O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvc2NyaXB0cy9wb3B1cC5qc1xuICoqLyIsImltcG9ydCBCcm93c2VyIGZyb20gJy4vYnJvd3Nlcic7XG5cbmNsYXNzIFVJIHtcbiAgICBzdGF0aWMgaW5pdGlhbGl6ZVVpKCkge1xuICAgICAgICBsZXQgZGF0ZSA9IERhdGUoKTtcbiAgICAgICAgZGF0ZSA9IGRhdGUuc2xpY2UoMCwgZGF0ZS5tYXRjaCgvXFxkezR9LykuaW5kZXggKyA0KTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Jvb2stdGl0bGUnKS5wbGFjZWhvbGRlciA9IGBFcHViUHJlc3MgLSAke2RhdGV9YDtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0RXJyb3JNZXNzYWdlKG1zZykge1xuICAgICAgICAkKCcjZmFpbHVyZS1tZXNzYWdlJykudGV4dChtc2cpO1xuICAgIH1cblxuICAgIHN0YXRpYyBzaG93U2VjdGlvbihzZWN0aW9uKSB7XG4gICAgICAgIFVJLlNFQ1RJT05TX1NFTEVDVE9SUy5mb3JFYWNoKChzZWxlY3RvcikgPT4ge1xuICAgICAgICAgICAgaWYgKHNlbGVjdG9yID09PSBzZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgJChzZWxlY3Rvcikuc2hvdygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKHNlbGVjdG9yKS5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBzZXRBbGVydE1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICAkKCcjYWxlcnQtbWVzc2FnZScpLnRleHQobWVzc2FnZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIHVwZGF0ZVN0YXR1cyhwcm9ncmVzcywgbWVzc2FnZSkge1xuICAgICAgICAkKCdoNCNwcm9ncmVzcy1tc2cnKS50ZXh0KG1lc3NhZ2UpO1xuICAgICAgICBpZiAocHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFuaW1hdGVWYWx1ZUNoYW5nZSgkKCdwcm9ncmVzcycpLCBwcm9ncmVzcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBhbmltYXRlVmFsdWVDaGFuZ2UoJGVsLCBmaW5hbFZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYW5pbWF0ZUZyb20gPSAoY3VycmVudFZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZSA9PT0gZmluYWxWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChyZXNvbHZlLCAzMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBjdXJyZW50VmFsdWUgPCBmaW5hbFZhbHVlID8gMSA6IC0xO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IGRpZmYgKyBjdXJyZW50VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICRlbC52YWwobmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRlRnJvbShuZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYW5pbWF0ZUZyb20oJGVsLnZhbCgpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldENoZWNrYm94KHByb3BzKSB7XG4gICAgICAgIGNvbnN0IGh0bWwgPSBgPGRpdiBjbGFzcz1cImNoZWNrYm94XCI+XG4gICAgICAgIDxsYWJlbD5cbiAgICAgICAgPGlucHV0IGNsYXNzPSdhcnRpY2xlLWNoZWNrYm94JyB0eXBlPVwiY2hlY2tib3hcIiB2YWx1ZT1cIiR7cHJvcHMudXJsfVwiIG5hbWU9XCIke3Byb3BzLmlkfVwiPlxuICAgICAgICA8c3Bhbj4ke3Byb3BzLnRpdGxlfTwvc3Bhbj5cbiAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPC9kaXY+YDtcbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuXG4gICAgc3RhdGljIGluaXRpYWxpemVUYWJMaXN0KCkge1xuICAgICAgICBCcm93c2VyLmdldEN1cnJlbnRXaW5kb3dUYWJzKCkudGhlbigodGFicykgPT4ge1xuICAgICAgICAgICAgdGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgICAgICAgICAgICAkKCcjdGFiLWxpc3QnKS5hcHBlbmQoVUkuZ2V0Q2hlY2tib3goe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGFiLnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IHRhYi51cmwsXG4gICAgICAgICAgICAgICAgICAgIGlkOiB0YWIuaWQsXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgVUkuc2V0RXJyb3JNZXNzYWdlKGBTZWFyY2hpbmcgdGFicyBmYWlsZWQ6ICR7ZXJyb3J9YCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuVUkuU0VDVElPTlNfU0VMRUNUT1JTID0gW1xuICAgICcjZG93bmxvYWRGb3JtJyxcbiAgICAnI3NldHRpbmdzRm9ybScsXG4gICAgJyNkb3dubG9hZFNwaW5uZXInLFxuICAgICcjZG93bmxvYWRTdWNjZXNzJyxcbiAgICAnI2Rvd25sb2FkRmFpbGVkJyxcbl07XG5cbm1vZHVsZS5leHBvcnRzID0gVUk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9zY3JpcHRzL3VpLmpzXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2VcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZS5qc1xuICoqIG1vZHVsZSBpZCA9IDU3XG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCJyZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZScpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczYucHJvbWlzZScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi9tb2R1bGVzL19jb3JlJykuUHJvbWlzZTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZS5qc1xuICoqIG1vZHVsZSBpZCA9IDU4XG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCIndXNlIHN0cmljdCc7XG52YXIgJGF0ICA9IHJlcXVpcmUoJy4vX3N0cmluZy1hdCcpKHRydWUpO1xuXG4vLyAyMS4xLjMuMjcgU3RyaW5nLnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5yZXF1aXJlKCcuL19pdGVyLWRlZmluZScpKFN0cmluZywgJ1N0cmluZycsIGZ1bmN0aW9uKGl0ZXJhdGVkKXtcbiAgdGhpcy5fdCA9IFN0cmluZyhpdGVyYXRlZCk7IC8vIHRhcmdldFxuICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuLy8gMjEuMS41LjIuMSAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24oKXtcbiAgdmFyIE8gICAgID0gdGhpcy5fdFxuICAgICwgaW5kZXggPSB0aGlzLl9pXG4gICAgLCBwb2ludDtcbiAgaWYoaW5kZXggPj0gTy5sZW5ndGgpcmV0dXJuIHt2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlfTtcbiAgcG9pbnQgPSAkYXQoTywgaW5kZXgpO1xuICB0aGlzLl9pICs9IHBvaW50Lmxlbmd0aDtcbiAgcmV0dXJuIHt2YWx1ZTogcG9pbnQsIGRvbmU6IGZhbHNlfTtcbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IuanNcbiAqKiBtb2R1bGUgaWQgPSA2MFxuICoqIG1vZHVsZSBjaHVua3MgPSAxXG4gKiovIiwidmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKVxuICAsIGRlZmluZWQgICA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbi8vIHRydWUgIC0+IFN0cmluZyNhdFxuLy8gZmFsc2UgLT4gU3RyaW5nI2NvZGVQb2ludEF0XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFRPX1NUUklORyl7XG4gIHJldHVybiBmdW5jdGlvbih0aGF0LCBwb3Mpe1xuICAgIHZhciBzID0gU3RyaW5nKGRlZmluZWQodGhhdCkpXG4gICAgICAsIGkgPSB0b0ludGVnZXIocG9zKVxuICAgICAgLCBsID0gcy5sZW5ndGhcbiAgICAgICwgYSwgYjtcbiAgICBpZihpIDwgMCB8fCBpID49IGwpcmV0dXJuIFRPX1NUUklORyA/ICcnIDogdW5kZWZpbmVkO1xuICAgIGEgPSBzLmNoYXJDb2RlQXQoaSk7XG4gICAgcmV0dXJuIGEgPCAweGQ4MDAgfHwgYSA+IDB4ZGJmZiB8fCBpICsgMSA9PT0gbCB8fCAoYiA9IHMuY2hhckNvZGVBdChpICsgMSkpIDwgMHhkYzAwIHx8IGIgPiAweGRmZmZcbiAgICAgID8gVE9fU1RSSU5HID8gcy5jaGFyQXQoaSkgOiBhXG4gICAgICA6IFRPX1NUUklORyA/IHMuc2xpY2UoaSwgaSArIDIpIDogKGEgLSAweGQ4MDAgPDwgMTApICsgKGIgLSAweGRjMDApICsgMHgxMDAwMDtcbiAgfTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3N0cmluZy1hdC5qc1xuICoqIG1vZHVsZSBpZCA9IDYxXG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCIndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSAgICAgICAgPSByZXF1aXJlKCcuL19saWJyYXJ5JylcbiAgLCAkZXhwb3J0ICAgICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgcmVkZWZpbmUgICAgICAgPSByZXF1aXJlKCcuL19yZWRlZmluZScpXG4gICwgaGlkZSAgICAgICAgICAgPSByZXF1aXJlKCcuL19oaWRlJylcbiAgLCBoYXMgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgSXRlcmF0b3JzICAgICAgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKVxuICAsICRpdGVyQ3JlYXRlICAgID0gcmVxdWlyZSgnLi9faXRlci1jcmVhdGUnKVxuICAsIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKVxuICAsIGdldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpXG4gICwgSVRFUkFUT1IgICAgICAgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKVxuICAsIEJVR0dZICAgICAgICAgID0gIShbXS5rZXlzICYmICduZXh0JyBpbiBbXS5rZXlzKCkpIC8vIFNhZmFyaSBoYXMgYnVnZ3kgaXRlcmF0b3JzIHcvbyBgbmV4dGBcbiAgLCBGRl9JVEVSQVRPUiAgICA9ICdAQGl0ZXJhdG9yJ1xuICAsIEtFWVMgICAgICAgICAgID0gJ2tleXMnXG4gICwgVkFMVUVTICAgICAgICAgPSAndmFsdWVzJztcblxudmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpe1xuICAkaXRlckNyZWF0ZShDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCk7XG4gIHZhciBnZXRNZXRob2QgPSBmdW5jdGlvbihraW5kKXtcbiAgICBpZighQlVHR1kgJiYga2luZCBpbiBwcm90bylyZXR1cm4gcHJvdG9ba2luZF07XG4gICAgc3dpdGNoKGtpbmQpe1xuICAgICAgY2FzZSBLRVlTOiByZXR1cm4gZnVuY3Rpb24ga2V5cygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgICAgY2FzZSBWQUxVRVM6IHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gIH07XG4gIHZhciBUQUcgICAgICAgID0gTkFNRSArICcgSXRlcmF0b3InXG4gICAgLCBERUZfVkFMVUVTID0gREVGQVVMVCA9PSBWQUxVRVNcbiAgICAsIFZBTFVFU19CVUcgPSBmYWxzZVxuICAgICwgcHJvdG8gICAgICA9IEJhc2UucHJvdG90eXBlXG4gICAgLCAkbmF0aXZlICAgID0gcHJvdG9bSVRFUkFUT1JdIHx8IHByb3RvW0ZGX0lURVJBVE9SXSB8fCBERUZBVUxUICYmIHByb3RvW0RFRkFVTFRdXG4gICAgLCAkZGVmYXVsdCAgID0gJG5hdGl2ZSB8fCBnZXRNZXRob2QoREVGQVVMVClcbiAgICAsICRlbnRyaWVzICAgPSBERUZBVUxUID8gIURFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZCgnZW50cmllcycpIDogdW5kZWZpbmVkXG4gICAgLCAkYW55TmF0aXZlID0gTkFNRSA9PSAnQXJyYXknID8gcHJvdG8uZW50cmllcyB8fCAkbmF0aXZlIDogJG5hdGl2ZVxuICAgICwgbWV0aG9kcywga2V5LCBJdGVyYXRvclByb3RvdHlwZTtcbiAgLy8gRml4IG5hdGl2ZVxuICBpZigkYW55TmF0aXZlKXtcbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKCRhbnlOYXRpdmUuY2FsbChuZXcgQmFzZSkpO1xuICAgIGlmKEl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlKXtcbiAgICAgIC8vIFNldCBAQHRvU3RyaW5nVGFnIHRvIG5hdGl2ZSBpdGVyYXRvcnNcbiAgICAgIHNldFRvU3RyaW5nVGFnKEl0ZXJhdG9yUHJvdG90eXBlLCBUQUcsIHRydWUpO1xuICAgICAgLy8gZml4IGZvciBzb21lIG9sZCBlbmdpbmVzXG4gICAgICBpZighTElCUkFSWSAmJiAhaGFzKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUikpaGlkZShJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuICAgIH1cbiAgfVxuICAvLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGXG4gIGlmKERFRl9WQUxVRVMgJiYgJG5hdGl2ZSAmJiAkbmF0aXZlLm5hbWUgIT09IFZBTFVFUyl7XG4gICAgVkFMVUVTX0JVRyA9IHRydWU7XG4gICAgJGRlZmF1bHQgPSBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuICRuYXRpdmUuY2FsbCh0aGlzKTsgfTtcbiAgfVxuICAvLyBEZWZpbmUgaXRlcmF0b3JcbiAgaWYoKCFMSUJSQVJZIHx8IEZPUkNFRCkgJiYgKEJVR0dZIHx8IFZBTFVFU19CVUcgfHwgIXByb3RvW0lURVJBVE9SXSkpe1xuICAgIGhpZGUocHJvdG8sIElURVJBVE9SLCAkZGVmYXVsdCk7XG4gIH1cbiAgLy8gUGx1ZyBmb3IgbGlicmFyeVxuICBJdGVyYXRvcnNbTkFNRV0gPSAkZGVmYXVsdDtcbiAgSXRlcmF0b3JzW1RBR10gID0gcmV0dXJuVGhpcztcbiAgaWYoREVGQVVMVCl7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIHZhbHVlczogIERFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChWQUxVRVMpLFxuICAgICAga2V5czogICAgSVNfU0VUICAgICA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKEtFWVMpLFxuICAgICAgZW50cmllczogJGVudHJpZXNcbiAgICB9O1xuICAgIGlmKEZPUkNFRClmb3Ioa2V5IGluIG1ldGhvZHMpe1xuICAgICAgaWYoIShrZXkgaW4gcHJvdG8pKXJlZGVmaW5lKHByb3RvLCBrZXksIG1ldGhvZHNba2V5XSk7XG4gICAgfSBlbHNlICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogKEJVR0dZIHx8IFZBTFVFU19CVUcpLCBOQU1FLCBtZXRob2RzKTtcbiAgfVxuICByZXR1cm4gbWV0aG9kcztcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGVmaW5lLmpzXG4gKiogbW9kdWxlIGlkID0gNjJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gdHJ1ZTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbGlicmFyeS5qc1xuICoqIG1vZHVsZSBpZCA9IDYzXG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcmVkZWZpbmUuanNcbiAqKiBtb2R1bGUgaWQgPSA2NFxuICoqIG1vZHVsZSBjaHVua3MgPSAxXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlcmF0b3JzLmpzXG4gKiogbW9kdWxlIGlkID0gNjVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsIid1c2Ugc3RyaWN0JztcbnZhciBjcmVhdGUgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKVxuICAsIGRlc2NyaXB0b3IgICAgID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpXG4gICwgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpXG4gICwgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcblxuLy8gMjUuMS4yLjEuMSAlSXRlcmF0b3JQcm90b3R5cGUlW0BAaXRlcmF0b3JdKClcbnJlcXVpcmUoJy4vX2hpZGUnKShJdGVyYXRvclByb3RvdHlwZSwgcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyksIGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzOyB9KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCl7XG4gIENvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSwge25leHQ6IGRlc2NyaXB0b3IoMSwgbmV4dCl9KTtcbiAgc2V0VG9TdHJpbmdUYWcoQ29uc3RydWN0b3IsIE5BTUUgKyAnIEl0ZXJhdG9yJyk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWNyZWF0ZS5qc1xuICoqIG1vZHVsZSBpZCA9IDY2XG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCIvLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbnZhciBhbk9iamVjdCAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgZFBzICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHBzJylcbiAgLCBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKVxuICAsIElFX1BST1RPICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpXG4gICwgRW1wdHkgICAgICAgPSBmdW5jdGlvbigpeyAvKiBlbXB0eSAqLyB9XG4gICwgUFJPVE9UWVBFICAgPSAncHJvdG90eXBlJztcblxuLy8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIGlmcmFtZSBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxudmFyIGNyZWF0ZURpY3QgPSBmdW5jdGlvbigpe1xuICAvLyBUaHJhc2gsIHdhc3RlIGFuZCBzb2RvbXk6IElFIEdDIGJ1Z1xuICB2YXIgaWZyYW1lID0gcmVxdWlyZSgnLi9fZG9tLWNyZWF0ZScpKCdpZnJhbWUnKVxuICAgICwgaSAgICAgID0gZW51bUJ1Z0tleXMubGVuZ3RoXG4gICAgLCBsdCAgICAgPSAnPCdcbiAgICAsIGd0ICAgICA9ICc+J1xuICAgICwgaWZyYW1lRG9jdW1lbnQ7XG4gIGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICByZXF1aXJlKCcuL19odG1sJykuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgaWZyYW1lLnNyYyA9ICdqYXZhc2NyaXB0Oic7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2NyaXB0LXVybFxuICAvLyBjcmVhdGVEaWN0ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuT2JqZWN0O1xuICAvLyBodG1sLnJlbW92ZUNoaWxkKGlmcmFtZSk7XG4gIGlmcmFtZURvY3VtZW50ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG4gIGlmcmFtZURvY3VtZW50Lm9wZW4oKTtcbiAgaWZyYW1lRG9jdW1lbnQud3JpdGUobHQgKyAnc2NyaXB0JyArIGd0ICsgJ2RvY3VtZW50LkY9T2JqZWN0JyArIGx0ICsgJy9zY3JpcHQnICsgZ3QpO1xuICBpZnJhbWVEb2N1bWVudC5jbG9zZSgpO1xuICBjcmVhdGVEaWN0ID0gaWZyYW1lRG9jdW1lbnQuRjtcbiAgd2hpbGUoaS0tKWRlbGV0ZSBjcmVhdGVEaWN0W1BST1RPVFlQRV1bZW51bUJ1Z0tleXNbaV1dO1xuICByZXR1cm4gY3JlYXRlRGljdCgpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIGNyZWF0ZShPLCBQcm9wZXJ0aWVzKXtcbiAgdmFyIHJlc3VsdDtcbiAgaWYoTyAhPT0gbnVsbCl7XG4gICAgRW1wdHlbUFJPVE9UWVBFXSA9IGFuT2JqZWN0KE8pO1xuICAgIHJlc3VsdCA9IG5ldyBFbXB0eTtcbiAgICBFbXB0eVtQUk9UT1RZUEVdID0gbnVsbDtcbiAgICAvLyBhZGQgXCJfX3Byb3RvX19cIiBmb3IgT2JqZWN0LmdldFByb3RvdHlwZU9mIHBvbHlmaWxsXG4gICAgcmVzdWx0W0lFX1BST1RPXSA9IE87XG4gIH0gZWxzZSByZXN1bHQgPSBjcmVhdGVEaWN0KCk7XG4gIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkUHMocmVzdWx0LCBQcm9wZXJ0aWVzKTtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWNyZWF0ZS5qc1xuICoqIG1vZHVsZSBpZCA9IDY3XG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCJ2YXIgZFAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKVxuICAsIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBnZXRLZXlzICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKXtcbiAgYW5PYmplY3QoTyk7XG4gIHZhciBrZXlzICAgPSBnZXRLZXlzKFByb3BlcnRpZXMpXG4gICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuICAgICwgaSA9IDBcbiAgICAsIFA7XG4gIHdoaWxlKGxlbmd0aCA+IGkpZFAuZihPLCBQID0ga2V5c1tpKytdLCBQcm9wZXJ0aWVzW1BdKTtcbiAgcmV0dXJuIE87XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHBzLmpzXG4gKiogbW9kdWxlIGlkID0gNjhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19odG1sLmpzXG4gKiogbW9kdWxlIGlkID0gNjlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsInZhciBkZWYgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mXG4gICwgaGFzID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBUQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgdGFnLCBzdGF0KXtcbiAgaWYoaXQgJiYgIWhhcyhpdCA9IHN0YXQgPyBpdCA6IGl0LnByb3RvdHlwZSwgVEFHKSlkZWYoaXQsIFRBRywge2NvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHRhZ30pO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXRvLXN0cmluZy10YWcuanNcbiAqKiBtb2R1bGUgaWQgPSA3MFxuICoqIG1vZHVsZSBjaHVua3MgPSAxXG4gKiovIiwidmFyIHN0b3JlICAgICAgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgnd2tzJylcbiAgLCB1aWQgICAgICAgID0gcmVxdWlyZSgnLi9fdWlkJylcbiAgLCBTeW1ib2wgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuU3ltYm9sXG4gICwgVVNFX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT0gJ2Z1bmN0aW9uJztcblxudmFyICRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lKXtcbiAgcmV0dXJuIHN0b3JlW25hbWVdIHx8IChzdG9yZVtuYW1lXSA9XG4gICAgVVNFX1NZTUJPTCAmJiBTeW1ib2xbbmFtZV0gfHwgKFVTRV9TWU1CT0wgPyBTeW1ib2wgOiB1aWQpKCdTeW1ib2wuJyArIG5hbWUpKTtcbn07XG5cbiRleHBvcnRzLnN0b3JlID0gc3RvcmU7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy5qc1xuICoqIG1vZHVsZSBpZCA9IDcxXG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCIvLyAxOS4xLjIuOSAvIDE1LjIuMy4yIE9iamVjdC5nZXRQcm90b3R5cGVPZihPKVxudmFyIGhhcyAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCB0b09iamVjdCAgICA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpXG4gICwgSUVfUFJPVE8gICAgPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJylcbiAgLCBPYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmdldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uKE8pe1xuICBPID0gdG9PYmplY3QoTyk7XG4gIGlmKGhhcyhPLCBJRV9QUk9UTykpcmV0dXJuIE9bSUVfUFJPVE9dO1xuICBpZih0eXBlb2YgTy5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmIE8gaW5zdGFuY2VvZiBPLmNvbnN0cnVjdG9yKXtcbiAgICByZXR1cm4gTy5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gIH0gcmV0dXJuIE8gaW5zdGFuY2VvZiBPYmplY3QgPyBPYmplY3RQcm90byA6IG51bGw7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ3BvLmpzXG4gKiogbW9kdWxlIGlkID0gNzJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsInJlcXVpcmUoJy4vZXM2LmFycmF5Lml0ZXJhdG9yJyk7XG52YXIgZ2xvYmFsICAgICAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgaGlkZSAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hpZGUnKVxuICAsIEl0ZXJhdG9ycyAgICAgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKVxuICAsIFRPX1NUUklOR19UQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKTtcblxuZm9yKHZhciBjb2xsZWN0aW9ucyA9IFsnTm9kZUxpc3QnLCAnRE9NVG9rZW5MaXN0JywgJ01lZGlhTGlzdCcsICdTdHlsZVNoZWV0TGlzdCcsICdDU1NSdWxlTGlzdCddLCBpID0gMDsgaSA8IDU7IGkrKyl7XG4gIHZhciBOQU1FICAgICAgID0gY29sbGVjdGlvbnNbaV1cbiAgICAsIENvbGxlY3Rpb24gPSBnbG9iYWxbTkFNRV1cbiAgICAsIHByb3RvICAgICAgPSBDb2xsZWN0aW9uICYmIENvbGxlY3Rpb24ucHJvdG90eXBlO1xuICBpZihwcm90byAmJiAhcHJvdG9bVE9fU1RSSU5HX1RBR10paGlkZShwcm90bywgVE9fU1RSSU5HX1RBRywgTkFNRSk7XG4gIEl0ZXJhdG9yc1tOQU1FXSA9IEl0ZXJhdG9ycy5BcnJheTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlLmpzXG4gKiogbW9kdWxlIGlkID0gNzNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsIid1c2Ugc3RyaWN0JztcbnZhciBhZGRUb1Vuc2NvcGFibGVzID0gcmVxdWlyZSgnLi9fYWRkLXRvLXVuc2NvcGFibGVzJylcbiAgLCBzdGVwICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faXRlci1zdGVwJylcbiAgLCBJdGVyYXRvcnMgICAgICAgID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJylcbiAgLCB0b0lPYmplY3QgICAgICAgID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xuXG4vLyAyMi4xLjMuNCBBcnJheS5wcm90b3R5cGUuZW50cmllcygpXG4vLyAyMi4xLjMuMTMgQXJyYXkucHJvdG90eXBlLmtleXMoKVxuLy8gMjIuMS4zLjI5IEFycmF5LnByb3RvdHlwZS52YWx1ZXMoKVxuLy8gMjIuMS4zLjMwIEFycmF5LnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2l0ZXItZGVmaW5lJykoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uKGl0ZXJhdGVkLCBraW5kKXtcbiAgdGhpcy5fdCA9IHRvSU9iamVjdChpdGVyYXRlZCk7IC8vIHRhcmdldFxuICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuICB0aGlzLl9rID0ga2luZDsgICAgICAgICAgICAgICAgLy8ga2luZFxuLy8gMjIuMS41LjIuMSAlQXJyYXlJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG59LCBmdW5jdGlvbigpe1xuICB2YXIgTyAgICAgPSB0aGlzLl90XG4gICAgLCBraW5kICA9IHRoaXMuX2tcbiAgICAsIGluZGV4ID0gdGhpcy5faSsrO1xuICBpZighTyB8fCBpbmRleCA+PSBPLmxlbmd0aCl7XG4gICAgdGhpcy5fdCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gc3RlcCgxKTtcbiAgfVxuICBpZihraW5kID09ICdrZXlzJyAgKXJldHVybiBzdGVwKDAsIGluZGV4KTtcbiAgaWYoa2luZCA9PSAndmFsdWVzJylyZXR1cm4gc3RlcCgwLCBPW2luZGV4XSk7XG4gIHJldHVybiBzdGVwKDAsIFtpbmRleCwgT1tpbmRleF1dKTtcbn0sICd2YWx1ZXMnKTtcblxuLy8gYXJndW1lbnRzTGlzdFtAQGl0ZXJhdG9yXSBpcyAlQXJyYXlQcm90b192YWx1ZXMlICg5LjQuNC42LCA5LjQuNC43KVxuSXRlcmF0b3JzLkFyZ3VtZW50cyA9IEl0ZXJhdG9ycy5BcnJheTtcblxuYWRkVG9VbnNjb3BhYmxlcygna2V5cycpO1xuYWRkVG9VbnNjb3BhYmxlcygndmFsdWVzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCdlbnRyaWVzJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yLmpzXG4gKiogbW9kdWxlIGlkID0gNzRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKXsgLyogZW1wdHkgKi8gfTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYWRkLXRvLXVuc2NvcGFibGVzLmpzXG4gKiogbW9kdWxlIGlkID0gNzVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZG9uZSwgdmFsdWUpe1xuICByZXR1cm4ge3ZhbHVlOiB2YWx1ZSwgZG9uZTogISFkb25lfTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItc3RlcC5qc1xuICoqIG1vZHVsZSBpZCA9IDc2XG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCIndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fbGlicmFyeScpXG4gICwgZ2xvYmFsICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBjdHggICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19jdHgnKVxuICAsIGNsYXNzb2YgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2NsYXNzb2YnKVxuICAsICRleHBvcnQgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgaXNPYmplY3QgICAgICAgICAgID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBhRnVuY3Rpb24gICAgICAgICAgPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJylcbiAgLCBhbkluc3RhbmNlICAgICAgICAgPSByZXF1aXJlKCcuL19hbi1pbnN0YW5jZScpXG4gICwgZm9yT2YgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZm9yLW9mJylcbiAgLCBzcGVjaWVzQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuL19zcGVjaWVzLWNvbnN0cnVjdG9yJylcbiAgLCB0YXNrICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL190YXNrJykuc2V0XG4gICwgbWljcm90YXNrICAgICAgICAgID0gcmVxdWlyZSgnLi9fbWljcm90YXNrJykoKVxuICAsIFBST01JU0UgICAgICAgICAgICA9ICdQcm9taXNlJ1xuICAsIFR5cGVFcnJvciAgICAgICAgICA9IGdsb2JhbC5UeXBlRXJyb3JcbiAgLCBwcm9jZXNzICAgICAgICAgICAgPSBnbG9iYWwucHJvY2Vzc1xuICAsICRQcm9taXNlICAgICAgICAgICA9IGdsb2JhbFtQUk9NSVNFXVxuICAsIHByb2Nlc3MgICAgICAgICAgICA9IGdsb2JhbC5wcm9jZXNzXG4gICwgaXNOb2RlICAgICAgICAgICAgID0gY2xhc3NvZihwcm9jZXNzKSA9PSAncHJvY2VzcydcbiAgLCBlbXB0eSAgICAgICAgICAgICAgPSBmdW5jdGlvbigpeyAvKiBlbXB0eSAqLyB9XG4gICwgSW50ZXJuYWwsIEdlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eSwgV3JhcHBlcjtcblxudmFyIFVTRV9OQVRJVkUgPSAhIWZ1bmN0aW9uKCl7XG4gIHRyeSB7XG4gICAgLy8gY29ycmVjdCBzdWJjbGFzc2luZyB3aXRoIEBAc3BlY2llcyBzdXBwb3J0XG4gICAgdmFyIHByb21pc2UgICAgID0gJFByb21pc2UucmVzb2x2ZSgxKVxuICAgICAgLCBGYWtlUHJvbWlzZSA9IChwcm9taXNlLmNvbnN0cnVjdG9yID0ge30pW3JlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyldID0gZnVuY3Rpb24oZXhlYyl7IGV4ZWMoZW1wdHksIGVtcHR5KTsgfTtcbiAgICAvLyB1bmhhbmRsZWQgcmVqZWN0aW9ucyB0cmFja2luZyBzdXBwb3J0LCBOb2RlSlMgUHJvbWlzZSB3aXRob3V0IGl0IGZhaWxzIEBAc3BlY2llcyB0ZXN0XG4gICAgcmV0dXJuIChpc05vZGUgfHwgdHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCA9PSAnZnVuY3Rpb24nKSAmJiBwcm9taXNlLnRoZW4oZW1wdHkpIGluc3RhbmNlb2YgRmFrZVByb21pc2U7XG4gIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbn0oKTtcblxuLy8gaGVscGVyc1xudmFyIHNhbWVDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKGEsIGIpe1xuICAvLyB3aXRoIGxpYnJhcnkgd3JhcHBlciBzcGVjaWFsIGNhc2VcbiAgcmV0dXJuIGEgPT09IGIgfHwgYSA9PT0gJFByb21pc2UgJiYgYiA9PT0gV3JhcHBlcjtcbn07XG52YXIgaXNUaGVuYWJsZSA9IGZ1bmN0aW9uKGl0KXtcbiAgdmFyIHRoZW47XG4gIHJldHVybiBpc09iamVjdChpdCkgJiYgdHlwZW9mICh0aGVuID0gaXQudGhlbikgPT0gJ2Z1bmN0aW9uJyA/IHRoZW4gOiBmYWxzZTtcbn07XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbihDKXtcbiAgcmV0dXJuIHNhbWVDb25zdHJ1Y3RvcigkUHJvbWlzZSwgQylcbiAgICA/IG5ldyBQcm9taXNlQ2FwYWJpbGl0eShDKVxuICAgIDogbmV3IEdlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eShDKTtcbn07XG52YXIgUHJvbWlzZUNhcGFiaWxpdHkgPSBHZW5lcmljUHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbihDKXtcbiAgdmFyIHJlc29sdmUsIHJlamVjdDtcbiAgdGhpcy5wcm9taXNlID0gbmV3IEMoZnVuY3Rpb24oJCRyZXNvbHZlLCAkJHJlamVjdCl7XG4gICAgaWYocmVzb2x2ZSAhPT0gdW5kZWZpbmVkIHx8IHJlamVjdCAhPT0gdW5kZWZpbmVkKXRocm93IFR5cGVFcnJvcignQmFkIFByb21pc2UgY29uc3RydWN0b3InKTtcbiAgICByZXNvbHZlID0gJCRyZXNvbHZlO1xuICAgIHJlamVjdCAgPSAkJHJlamVjdDtcbiAgfSk7XG4gIHRoaXMucmVzb2x2ZSA9IGFGdW5jdGlvbihyZXNvbHZlKTtcbiAgdGhpcy5yZWplY3QgID0gYUZ1bmN0aW9uKHJlamVjdCk7XG59O1xudmFyIHBlcmZvcm0gPSBmdW5jdGlvbihleGVjKXtcbiAgdHJ5IHtcbiAgICBleGVjKCk7XG4gIH0gY2F0Y2goZSl7XG4gICAgcmV0dXJuIHtlcnJvcjogZX07XG4gIH1cbn07XG52YXIgbm90aWZ5ID0gZnVuY3Rpb24ocHJvbWlzZSwgaXNSZWplY3Qpe1xuICBpZihwcm9taXNlLl9uKXJldHVybjtcbiAgcHJvbWlzZS5fbiA9IHRydWU7XG4gIHZhciBjaGFpbiA9IHByb21pc2UuX2M7XG4gIG1pY3JvdGFzayhmdW5jdGlvbigpe1xuICAgIHZhciB2YWx1ZSA9IHByb21pc2UuX3ZcbiAgICAgICwgb2sgICAgPSBwcm9taXNlLl9zID09IDFcbiAgICAgICwgaSAgICAgPSAwO1xuICAgIHZhciBydW4gPSBmdW5jdGlvbihyZWFjdGlvbil7XG4gICAgICB2YXIgaGFuZGxlciA9IG9rID8gcmVhY3Rpb24ub2sgOiByZWFjdGlvbi5mYWlsXG4gICAgICAgICwgcmVzb2x2ZSA9IHJlYWN0aW9uLnJlc29sdmVcbiAgICAgICAgLCByZWplY3QgID0gcmVhY3Rpb24ucmVqZWN0XG4gICAgICAgICwgZG9tYWluICA9IHJlYWN0aW9uLmRvbWFpblxuICAgICAgICAsIHJlc3VsdCwgdGhlbjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmKGhhbmRsZXIpe1xuICAgICAgICAgIGlmKCFvayl7XG4gICAgICAgICAgICBpZihwcm9taXNlLl9oID09IDIpb25IYW5kbGVVbmhhbmRsZWQocHJvbWlzZSk7XG4gICAgICAgICAgICBwcm9taXNlLl9oID0gMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoaGFuZGxlciA9PT0gdHJ1ZSlyZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmKGRvbWFpbilkb21haW4uZW50ZXIoKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IGhhbmRsZXIodmFsdWUpO1xuICAgICAgICAgICAgaWYoZG9tYWluKWRvbWFpbi5leGl0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKHJlc3VsdCA9PT0gcmVhY3Rpb24ucHJvbWlzZSl7XG4gICAgICAgICAgICByZWplY3QoVHlwZUVycm9yKCdQcm9taXNlLWNoYWluIGN5Y2xlJykpO1xuICAgICAgICAgIH0gZWxzZSBpZih0aGVuID0gaXNUaGVuYWJsZShyZXN1bHQpKXtcbiAgICAgICAgICAgIHRoZW4uY2FsbChyZXN1bHQsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSBlbHNlIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHJlamVjdCh2YWx1ZSk7XG4gICAgICB9IGNhdGNoKGUpe1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB3aGlsZShjaGFpbi5sZW5ndGggPiBpKXJ1bihjaGFpbltpKytdKTsgLy8gdmFyaWFibGUgbGVuZ3RoIC0gY2FuJ3QgdXNlIGZvckVhY2hcbiAgICBwcm9taXNlLl9jID0gW107XG4gICAgcHJvbWlzZS5fbiA9IGZhbHNlO1xuICAgIGlmKGlzUmVqZWN0ICYmICFwcm9taXNlLl9oKW9uVW5oYW5kbGVkKHByb21pc2UpO1xuICB9KTtcbn07XG52YXIgb25VbmhhbmRsZWQgPSBmdW5jdGlvbihwcm9taXNlKXtcbiAgdGFzay5jYWxsKGdsb2JhbCwgZnVuY3Rpb24oKXtcbiAgICB2YXIgdmFsdWUgPSBwcm9taXNlLl92XG4gICAgICAsIGFicnVwdCwgaGFuZGxlciwgY29uc29sZTtcbiAgICBpZihpc1VuaGFuZGxlZChwcm9taXNlKSl7XG4gICAgICBhYnJ1cHQgPSBwZXJmb3JtKGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmKGlzTm9kZSl7XG4gICAgICAgICAgcHJvY2Vzcy5lbWl0KCd1bmhhbmRsZWRSZWplY3Rpb24nLCB2YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgIH0gZWxzZSBpZihoYW5kbGVyID0gZ2xvYmFsLm9udW5oYW5kbGVkcmVqZWN0aW9uKXtcbiAgICAgICAgICBoYW5kbGVyKHtwcm9taXNlOiBwcm9taXNlLCByZWFzb246IHZhbHVlfSk7XG4gICAgICAgIH0gZWxzZSBpZigoY29uc29sZSA9IGdsb2JhbC5jb25zb2xlKSAmJiBjb25zb2xlLmVycm9yKXtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24nLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gQnJvd3NlcnMgc2hvdWxkIG5vdCB0cmlnZ2VyIGByZWplY3Rpb25IYW5kbGVkYCBldmVudCBpZiBpdCB3YXMgaGFuZGxlZCBoZXJlLCBOb2RlSlMgLSBzaG91bGRcbiAgICAgIHByb21pc2UuX2ggPSBpc05vZGUgfHwgaXNVbmhhbmRsZWQocHJvbWlzZSkgPyAyIDogMTtcbiAgICB9IHByb21pc2UuX2EgPSB1bmRlZmluZWQ7XG4gICAgaWYoYWJydXB0KXRocm93IGFicnVwdC5lcnJvcjtcbiAgfSk7XG59O1xudmFyIGlzVW5oYW5kbGVkID0gZnVuY3Rpb24ocHJvbWlzZSl7XG4gIGlmKHByb21pc2UuX2ggPT0gMSlyZXR1cm4gZmFsc2U7XG4gIHZhciBjaGFpbiA9IHByb21pc2UuX2EgfHwgcHJvbWlzZS5fY1xuICAgICwgaSAgICAgPSAwXG4gICAgLCByZWFjdGlvbjtcbiAgd2hpbGUoY2hhaW4ubGVuZ3RoID4gaSl7XG4gICAgcmVhY3Rpb24gPSBjaGFpbltpKytdO1xuICAgIGlmKHJlYWN0aW9uLmZhaWwgfHwgIWlzVW5oYW5kbGVkKHJlYWN0aW9uLnByb21pc2UpKXJldHVybiBmYWxzZTtcbiAgfSByZXR1cm4gdHJ1ZTtcbn07XG52YXIgb25IYW5kbGVVbmhhbmRsZWQgPSBmdW5jdGlvbihwcm9taXNlKXtcbiAgdGFzay5jYWxsKGdsb2JhbCwgZnVuY3Rpb24oKXtcbiAgICB2YXIgaGFuZGxlcjtcbiAgICBpZihpc05vZGUpe1xuICAgICAgcHJvY2Vzcy5lbWl0KCdyZWplY3Rpb25IYW5kbGVkJywgcHJvbWlzZSk7XG4gICAgfSBlbHNlIGlmKGhhbmRsZXIgPSBnbG9iYWwub25yZWplY3Rpb25oYW5kbGVkKXtcbiAgICAgIGhhbmRsZXIoe3Byb21pc2U6IHByb21pc2UsIHJlYXNvbjogcHJvbWlzZS5fdn0pO1xuICAgIH1cbiAgfSk7XG59O1xudmFyICRyZWplY3QgPSBmdW5jdGlvbih2YWx1ZSl7XG4gIHZhciBwcm9taXNlID0gdGhpcztcbiAgaWYocHJvbWlzZS5fZClyZXR1cm47XG4gIHByb21pc2UuX2QgPSB0cnVlO1xuICBwcm9taXNlID0gcHJvbWlzZS5fdyB8fCBwcm9taXNlOyAvLyB1bndyYXBcbiAgcHJvbWlzZS5fdiA9IHZhbHVlO1xuICBwcm9taXNlLl9zID0gMjtcbiAgaWYoIXByb21pc2UuX2EpcHJvbWlzZS5fYSA9IHByb21pc2UuX2Muc2xpY2UoKTtcbiAgbm90aWZ5KHByb21pc2UsIHRydWUpO1xufTtcbnZhciAkcmVzb2x2ZSA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgdmFyIHByb21pc2UgPSB0aGlzXG4gICAgLCB0aGVuO1xuICBpZihwcm9taXNlLl9kKXJldHVybjtcbiAgcHJvbWlzZS5fZCA9IHRydWU7XG4gIHByb21pc2UgPSBwcm9taXNlLl93IHx8IHByb21pc2U7IC8vIHVud3JhcFxuICB0cnkge1xuICAgIGlmKHByb21pc2UgPT09IHZhbHVlKXRocm93IFR5cGVFcnJvcihcIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmXCIpO1xuICAgIGlmKHRoZW4gPSBpc1RoZW5hYmxlKHZhbHVlKSl7XG4gICAgICBtaWNyb3Rhc2soZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIHdyYXBwZXIgPSB7X3c6IHByb21pc2UsIF9kOiBmYWxzZX07IC8vIHdyYXBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGVuLmNhbGwodmFsdWUsIGN0eCgkcmVzb2x2ZSwgd3JhcHBlciwgMSksIGN0eCgkcmVqZWN0LCB3cmFwcGVyLCAxKSk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgJHJlamVjdC5jYWxsKHdyYXBwZXIsIGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvbWlzZS5fdiA9IHZhbHVlO1xuICAgICAgcHJvbWlzZS5fcyA9IDE7XG4gICAgICBub3RpZnkocHJvbWlzZSwgZmFsc2UpO1xuICAgIH1cbiAgfSBjYXRjaChlKXtcbiAgICAkcmVqZWN0LmNhbGwoe193OiBwcm9taXNlLCBfZDogZmFsc2V9LCBlKTsgLy8gd3JhcFxuICB9XG59O1xuXG4vLyBjb25zdHJ1Y3RvciBwb2x5ZmlsbFxuaWYoIVVTRV9OQVRJVkUpe1xuICAvLyAyNS40LjMuMSBQcm9taXNlKGV4ZWN1dG9yKVxuICAkUHJvbWlzZSA9IGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3Ipe1xuICAgIGFuSW5zdGFuY2UodGhpcywgJFByb21pc2UsIFBST01JU0UsICdfaCcpO1xuICAgIGFGdW5jdGlvbihleGVjdXRvcik7XG4gICAgSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgICB0cnkge1xuICAgICAgZXhlY3V0b3IoY3R4KCRyZXNvbHZlLCB0aGlzLCAxKSwgY3R4KCRyZWplY3QsIHRoaXMsIDEpKTtcbiAgICB9IGNhdGNoKGVycil7XG4gICAgICAkcmVqZWN0LmNhbGwodGhpcywgZXJyKTtcbiAgICB9XG4gIH07XG4gIEludGVybmFsID0gZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcil7XG4gICAgdGhpcy5fYyA9IFtdOyAgICAgICAgICAgICAvLyA8LSBhd2FpdGluZyByZWFjdGlvbnNcbiAgICB0aGlzLl9hID0gdW5kZWZpbmVkOyAgICAgIC8vIDwtIGNoZWNrZWQgaW4gaXNVbmhhbmRsZWQgcmVhY3Rpb25zXG4gICAgdGhpcy5fcyA9IDA7ICAgICAgICAgICAgICAvLyA8LSBzdGF0ZVxuICAgIHRoaXMuX2QgPSBmYWxzZTsgICAgICAgICAgLy8gPC0gZG9uZVxuICAgIHRoaXMuX3YgPSB1bmRlZmluZWQ7ICAgICAgLy8gPC0gdmFsdWVcbiAgICB0aGlzLl9oID0gMDsgICAgICAgICAgICAgIC8vIDwtIHJlamVjdGlvbiBzdGF0ZSwgMCAtIGRlZmF1bHQsIDEgLSBoYW5kbGVkLCAyIC0gdW5oYW5kbGVkXG4gICAgdGhpcy5fbiA9IGZhbHNlOyAgICAgICAgICAvLyA8LSBub3RpZnlcbiAgfTtcbiAgSW50ZXJuYWwucHJvdG90eXBlID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUtYWxsJykoJFByb21pc2UucHJvdG90eXBlLCB7XG4gICAgLy8gMjUuNC41LjMgUHJvbWlzZS5wcm90b3R5cGUudGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZClcbiAgICB0aGVuOiBmdW5jdGlvbiB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKXtcbiAgICAgIHZhciByZWFjdGlvbiAgICA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KHNwZWNpZXNDb25zdHJ1Y3Rvcih0aGlzLCAkUHJvbWlzZSkpO1xuICAgICAgcmVhY3Rpb24ub2sgICAgID0gdHlwZW9mIG9uRnVsZmlsbGVkID09ICdmdW5jdGlvbicgPyBvbkZ1bGZpbGxlZCA6IHRydWU7XG4gICAgICByZWFjdGlvbi5mYWlsICAgPSB0eXBlb2Ygb25SZWplY3RlZCA9PSAnZnVuY3Rpb24nICYmIG9uUmVqZWN0ZWQ7XG4gICAgICByZWFjdGlvbi5kb21haW4gPSBpc05vZGUgPyBwcm9jZXNzLmRvbWFpbiA6IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX2MucHVzaChyZWFjdGlvbik7XG4gICAgICBpZih0aGlzLl9hKXRoaXMuX2EucHVzaChyZWFjdGlvbik7XG4gICAgICBpZih0aGlzLl9zKW5vdGlmeSh0aGlzLCBmYWxzZSk7XG4gICAgICByZXR1cm4gcmVhY3Rpb24ucHJvbWlzZTtcbiAgICB9LFxuICAgIC8vIDI1LjQuNS4xIFByb21pc2UucHJvdG90eXBlLmNhdGNoKG9uUmVqZWN0ZWQpXG4gICAgJ2NhdGNoJzogZnVuY3Rpb24ob25SZWplY3RlZCl7XG4gICAgICByZXR1cm4gdGhpcy50aGVuKHVuZGVmaW5lZCwgb25SZWplY3RlZCk7XG4gICAgfVxuICB9KTtcbiAgUHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbigpe1xuICAgIHZhciBwcm9taXNlICA9IG5ldyBJbnRlcm5hbDtcbiAgICB0aGlzLnByb21pc2UgPSBwcm9taXNlO1xuICAgIHRoaXMucmVzb2x2ZSA9IGN0eCgkcmVzb2x2ZSwgcHJvbWlzZSwgMSk7XG4gICAgdGhpcy5yZWplY3QgID0gY3R4KCRyZWplY3QsIHByb21pc2UsIDEpO1xuICB9O1xufVxuXG4kZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCB7UHJvbWlzZTogJFByb21pc2V9KTtcbnJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJykoJFByb21pc2UsIFBST01JU0UpO1xucmVxdWlyZSgnLi9fc2V0LXNwZWNpZXMnKShQUk9NSVNFKTtcbldyYXBwZXIgPSByZXF1aXJlKCcuL19jb3JlJylbUFJPTUlTRV07XG5cbi8vIHN0YXRpY3NcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIFBST01JU0UsIHtcbiAgLy8gMjUuNC40LjUgUHJvbWlzZS5yZWplY3QocilcbiAgcmVqZWN0OiBmdW5jdGlvbiByZWplY3Qocil7XG4gICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eSh0aGlzKVxuICAgICAgLCAkJHJlamVjdCAgID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgJCRyZWplY3Qocik7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxufSk7XG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqIChMSUJSQVJZIHx8ICFVU0VfTkFUSVZFKSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuNiBQcm9taXNlLnJlc29sdmUoeClcbiAgcmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZSh4KXtcbiAgICAvLyBpbnN0YW5jZW9mIGluc3RlYWQgb2YgaW50ZXJuYWwgc2xvdCBjaGVjayBiZWNhdXNlIHdlIHNob3VsZCBmaXggaXQgd2l0aG91dCByZXBsYWNlbWVudCBuYXRpdmUgUHJvbWlzZSBjb3JlXG4gICAgaWYoeCBpbnN0YW5jZW9mICRQcm9taXNlICYmIHNhbWVDb25zdHJ1Y3Rvcih4LmNvbnN0cnVjdG9yLCB0aGlzKSlyZXR1cm4geDtcbiAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KHRoaXMpXG4gICAgICAsICQkcmVzb2x2ZSAgPSBjYXBhYmlsaXR5LnJlc29sdmU7XG4gICAgJCRyZXNvbHZlKHgpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH1cbn0pO1xuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhKFVTRV9OQVRJVkUgJiYgcmVxdWlyZSgnLi9faXRlci1kZXRlY3QnKShmdW5jdGlvbihpdGVyKXtcbiAgJFByb21pc2UuYWxsKGl0ZXIpWydjYXRjaCddKGVtcHR5KTtcbn0pKSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuMSBQcm9taXNlLmFsbChpdGVyYWJsZSlcbiAgYWxsOiBmdW5jdGlvbiBhbGwoaXRlcmFibGUpe1xuICAgIHZhciBDICAgICAgICAgID0gdGhpc1xuICAgICAgLCBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoQylcbiAgICAgICwgcmVzb2x2ZSAgICA9IGNhcGFiaWxpdHkucmVzb2x2ZVxuICAgICAgLCByZWplY3QgICAgID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgdmFyIGFicnVwdCA9IHBlcmZvcm0oZnVuY3Rpb24oKXtcbiAgICAgIHZhciB2YWx1ZXMgICAgPSBbXVxuICAgICAgICAsIGluZGV4ICAgICA9IDBcbiAgICAgICAgLCByZW1haW5pbmcgPSAxO1xuICAgICAgZm9yT2YoaXRlcmFibGUsIGZhbHNlLCBmdW5jdGlvbihwcm9taXNlKXtcbiAgICAgICAgdmFyICRpbmRleCAgICAgICAgPSBpbmRleCsrXG4gICAgICAgICAgLCBhbHJlYWR5Q2FsbGVkID0gZmFsc2U7XG4gICAgICAgIHZhbHVlcy5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgIHJlbWFpbmluZysrO1xuICAgICAgICBDLnJlc29sdmUocHJvbWlzZSkudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgICAgaWYoYWxyZWFkeUNhbGxlZClyZXR1cm47XG4gICAgICAgICAgYWxyZWFkeUNhbGxlZCAgPSB0cnVlO1xuICAgICAgICAgIHZhbHVlc1skaW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgLS1yZW1haW5pbmcgfHwgcmVzb2x2ZSh2YWx1ZXMpO1xuICAgICAgICB9LCByZWplY3QpO1xuICAgICAgfSk7XG4gICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG4gICAgfSk7XG4gICAgaWYoYWJydXB0KXJlamVjdChhYnJ1cHQuZXJyb3IpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH0sXG4gIC8vIDI1LjQuNC40IFByb21pc2UucmFjZShpdGVyYWJsZSlcbiAgcmFjZTogZnVuY3Rpb24gcmFjZShpdGVyYWJsZSl7XG4gICAgdmFyIEMgICAgICAgICAgPSB0aGlzXG4gICAgICAsIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eShDKVxuICAgICAgLCByZWplY3QgICAgID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgdmFyIGFicnVwdCA9IHBlcmZvcm0oZnVuY3Rpb24oKXtcbiAgICAgIGZvck9mKGl0ZXJhYmxlLCBmYWxzZSwgZnVuY3Rpb24ocHJvbWlzZSl7XG4gICAgICAgIEMucmVzb2x2ZShwcm9taXNlKS50aGVuKGNhcGFiaWxpdHkucmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGlmKGFicnVwdClyZWplY3QoYWJydXB0LmVycm9yKTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYucHJvbWlzZS5qc1xuICoqIG1vZHVsZSBpZCA9IDc3XG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCIvLyBnZXR0aW5nIHRhZyBmcm9tIDE5LjEuMy42IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcoKVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpXG4gICwgVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJylcbiAgLy8gRVMzIHdyb25nIGhlcmVcbiAgLCBBUkcgPSBjb2YoZnVuY3Rpb24oKXsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA9PSAnQXJndW1lbnRzJztcblxuLy8gZmFsbGJhY2sgZm9yIElFMTEgU2NyaXB0IEFjY2VzcyBEZW5pZWQgZXJyb3JcbnZhciB0cnlHZXQgPSBmdW5jdGlvbihpdCwga2V5KXtcbiAgdHJ5IHtcbiAgICByZXR1cm4gaXRba2V5XTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHZhciBPLCBULCBCO1xuICByZXR1cm4gaXQgPT09IHVuZGVmaW5lZCA/ICdVbmRlZmluZWQnIDogaXQgPT09IG51bGwgPyAnTnVsbCdcbiAgICAvLyBAQHRvU3RyaW5nVGFnIGNhc2VcbiAgICA6IHR5cGVvZiAoVCA9IHRyeUdldChPID0gT2JqZWN0KGl0KSwgVEFHKSkgPT0gJ3N0cmluZycgPyBUXG4gICAgLy8gYnVpbHRpblRhZyBjYXNlXG4gICAgOiBBUkcgPyBjb2YoTylcbiAgICAvLyBFUzMgYXJndW1lbnRzIGZhbGxiYWNrXG4gICAgOiAoQiA9IGNvZihPKSkgPT0gJ09iamVjdCcgJiYgdHlwZW9mIE8uY2FsbGVlID09ICdmdW5jdGlvbicgPyAnQXJndW1lbnRzJyA6IEI7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jbGFzc29mLmpzXG4gKiogbW9kdWxlIGlkID0gNzhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIENvbnN0cnVjdG9yLCBuYW1lLCBmb3JiaWRkZW5GaWVsZCl7XG4gIGlmKCEoaXQgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikgfHwgKGZvcmJpZGRlbkZpZWxkICE9PSB1bmRlZmluZWQgJiYgZm9yYmlkZGVuRmllbGQgaW4gaXQpKXtcbiAgICB0aHJvdyBUeXBlRXJyb3IobmFtZSArICc6IGluY29ycmVjdCBpbnZvY2F0aW9uIScpO1xuICB9IHJldHVybiBpdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLWluc3RhbmNlLmpzXG4gKiogbW9kdWxlIGlkID0gNzlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsInZhciBjdHggICAgICAgICA9IHJlcXVpcmUoJy4vX2N0eCcpXG4gICwgY2FsbCAgICAgICAgPSByZXF1aXJlKCcuL19pdGVyLWNhbGwnKVxuICAsIGlzQXJyYXlJdGVyID0gcmVxdWlyZSgnLi9faXMtYXJyYXktaXRlcicpXG4gICwgYW5PYmplY3QgICAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIHRvTGVuZ3RoICAgID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJylcbiAgLCBnZXRJdGVyRm4gICA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJylcbiAgLCBCUkVBSyAgICAgICA9IHt9XG4gICwgUkVUVVJOICAgICAgPSB7fTtcbnZhciBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdGVyYWJsZSwgZW50cmllcywgZm4sIHRoYXQsIElURVJBVE9SKXtcbiAgdmFyIGl0ZXJGbiA9IElURVJBVE9SID8gZnVuY3Rpb24oKXsgcmV0dXJuIGl0ZXJhYmxlOyB9IDogZ2V0SXRlckZuKGl0ZXJhYmxlKVxuICAgICwgZiAgICAgID0gY3R4KGZuLCB0aGF0LCBlbnRyaWVzID8gMiA6IDEpXG4gICAgLCBpbmRleCAgPSAwXG4gICAgLCBsZW5ndGgsIHN0ZXAsIGl0ZXJhdG9yLCByZXN1bHQ7XG4gIGlmKHR5cGVvZiBpdGVyRm4gIT0gJ2Z1bmN0aW9uJyl0aHJvdyBUeXBlRXJyb3IoaXRlcmFibGUgKyAnIGlzIG5vdCBpdGVyYWJsZSEnKTtcbiAgLy8gZmFzdCBjYXNlIGZvciBhcnJheXMgd2l0aCBkZWZhdWx0IGl0ZXJhdG9yXG4gIGlmKGlzQXJyYXlJdGVyKGl0ZXJGbikpZm9yKGxlbmd0aCA9IHRvTGVuZ3RoKGl0ZXJhYmxlLmxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKXtcbiAgICByZXN1bHQgPSBlbnRyaWVzID8gZihhbk9iamVjdChzdGVwID0gaXRlcmFibGVbaW5kZXhdKVswXSwgc3RlcFsxXSkgOiBmKGl0ZXJhYmxlW2luZGV4XSk7XG4gICAgaWYocmVzdWx0ID09PSBCUkVBSyB8fCByZXN1bHQgPT09IFJFVFVSTilyZXR1cm4gcmVzdWx0O1xuICB9IGVsc2UgZm9yKGl0ZXJhdG9yID0gaXRlckZuLmNhbGwoaXRlcmFibGUpOyAhKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmU7ICl7XG4gICAgcmVzdWx0ID0gY2FsbChpdGVyYXRvciwgZiwgc3RlcC52YWx1ZSwgZW50cmllcyk7XG4gICAgaWYocmVzdWx0ID09PSBCUkVBSyB8fCByZXN1bHQgPT09IFJFVFVSTilyZXR1cm4gcmVzdWx0O1xuICB9XG59O1xuZXhwb3J0cy5CUkVBSyAgPSBCUkVBSztcbmV4cG9ydHMuUkVUVVJOID0gUkVUVVJOO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19mb3Itb2YuanNcbiAqKiBtb2R1bGUgaWQgPSA4MFxuICoqIG1vZHVsZSBjaHVua3MgPSAxXG4gKiovIiwiLy8gY2FsbCBzb21ldGhpbmcgb24gaXRlcmF0b3Igc3RlcCB3aXRoIHNhZmUgY2xvc2luZyBvbiBlcnJvclxudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0ZXJhdG9yLCBmbiwgdmFsdWUsIGVudHJpZXMpe1xuICB0cnkge1xuICAgIHJldHVybiBlbnRyaWVzID8gZm4oYW5PYmplY3QodmFsdWUpWzBdLCB2YWx1ZVsxXSkgOiBmbih2YWx1ZSk7XG4gIC8vIDcuNC42IEl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IsIGNvbXBsZXRpb24pXG4gIH0gY2F0Y2goZSl7XG4gICAgdmFyIHJldCA9IGl0ZXJhdG9yWydyZXR1cm4nXTtcbiAgICBpZihyZXQgIT09IHVuZGVmaW5lZClhbk9iamVjdChyZXQuY2FsbChpdGVyYXRvcikpO1xuICAgIHRocm93IGU7XG4gIH1cbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY2FsbC5qc1xuICoqIG1vZHVsZSBpZCA9IDgxXG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCIvLyBjaGVjayBvbiBkZWZhdWx0IEFycmF5IGl0ZXJhdG9yXG52YXIgSXRlcmF0b3JzICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICwgSVRFUkFUT1IgICA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpXG4gICwgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdCAhPT0gdW5kZWZpbmVkICYmIChJdGVyYXRvcnMuQXJyYXkgPT09IGl0IHx8IEFycmF5UHJvdG9bSVRFUkFUT1JdID09PSBpdCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS1pdGVyLmpzXG4gKiogbW9kdWxlIGlkID0gODJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsInZhciBjbGFzc29mICAgPSByZXF1aXJlKCcuL19jbGFzc29mJylcbiAgLCBJVEVSQVRPUiAgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKVxuICAsIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19jb3JlJykuZ2V0SXRlcmF0b3JNZXRob2QgPSBmdW5jdGlvbihpdCl7XG4gIGlmKGl0ICE9IHVuZGVmaW5lZClyZXR1cm4gaXRbSVRFUkFUT1JdXG4gICAgfHwgaXRbJ0BAaXRlcmF0b3InXVxuICAgIHx8IEl0ZXJhdG9yc1tjbGFzc29mKGl0KV07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZC5qc1xuICoqIG1vZHVsZSBpZCA9IDgzXG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCIvLyA3LjMuMjAgU3BlY2llc0NvbnN0cnVjdG9yKE8sIGRlZmF1bHRDb25zdHJ1Y3RvcilcbnZhciBhbk9iamVjdCAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKVxuICAsIFNQRUNJRVMgICA9IHJlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKE8sIEQpe1xuICB2YXIgQyA9IGFuT2JqZWN0KE8pLmNvbnN0cnVjdG9yLCBTO1xuICByZXR1cm4gQyA9PT0gdW5kZWZpbmVkIHx8IChTID0gYW5PYmplY3QoQylbU1BFQ0lFU10pID09IHVuZGVmaW5lZCA/IEQgOiBhRnVuY3Rpb24oUyk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zcGVjaWVzLWNvbnN0cnVjdG9yLmpzXG4gKiogbW9kdWxlIGlkID0gODRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsInZhciBjdHggICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19jdHgnKVxuICAsIGludm9rZSAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2ludm9rZScpXG4gICwgaHRtbCAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faHRtbCcpXG4gICwgY2VsICAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZG9tLWNyZWF0ZScpXG4gICwgZ2xvYmFsICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBwcm9jZXNzICAgICAgICAgICAgPSBnbG9iYWwucHJvY2Vzc1xuICAsIHNldFRhc2sgICAgICAgICAgICA9IGdsb2JhbC5zZXRJbW1lZGlhdGVcbiAgLCBjbGVhclRhc2sgICAgICAgICAgPSBnbG9iYWwuY2xlYXJJbW1lZGlhdGVcbiAgLCBNZXNzYWdlQ2hhbm5lbCAgICAgPSBnbG9iYWwuTWVzc2FnZUNoYW5uZWxcbiAgLCBjb3VudGVyICAgICAgICAgICAgPSAwXG4gICwgcXVldWUgICAgICAgICAgICAgID0ge31cbiAgLCBPTlJFQURZU1RBVEVDSEFOR0UgPSAnb25yZWFkeXN0YXRlY2hhbmdlJ1xuICAsIGRlZmVyLCBjaGFubmVsLCBwb3J0O1xudmFyIHJ1biA9IGZ1bmN0aW9uKCl7XG4gIHZhciBpZCA9ICt0aGlzO1xuICBpZihxdWV1ZS5oYXNPd25Qcm9wZXJ0eShpZCkpe1xuICAgIHZhciBmbiA9IHF1ZXVlW2lkXTtcbiAgICBkZWxldGUgcXVldWVbaWRdO1xuICAgIGZuKCk7XG4gIH1cbn07XG52YXIgbGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCl7XG4gIHJ1bi5jYWxsKGV2ZW50LmRhdGEpO1xufTtcbi8vIE5vZGUuanMgMC45KyAmIElFMTArIGhhcyBzZXRJbW1lZGlhdGUsIG90aGVyd2lzZTpcbmlmKCFzZXRUYXNrIHx8ICFjbGVhclRhc2spe1xuICBzZXRUYXNrID0gZnVuY3Rpb24gc2V0SW1tZWRpYXRlKGZuKXtcbiAgICB2YXIgYXJncyA9IFtdLCBpID0gMTtcbiAgICB3aGlsZShhcmd1bWVudHMubGVuZ3RoID4gaSlhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuICAgIHF1ZXVlWysrY291bnRlcl0gPSBmdW5jdGlvbigpe1xuICAgICAgaW52b2tlKHR5cGVvZiBmbiA9PSAnZnVuY3Rpb24nID8gZm4gOiBGdW5jdGlvbihmbiksIGFyZ3MpO1xuICAgIH07XG4gICAgZGVmZXIoY291bnRlcik7XG4gICAgcmV0dXJuIGNvdW50ZXI7XG4gIH07XG4gIGNsZWFyVGFzayA9IGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGlkKXtcbiAgICBkZWxldGUgcXVldWVbaWRdO1xuICB9O1xuICAvLyBOb2RlLmpzIDAuOC1cbiAgaWYocmVxdWlyZSgnLi9fY29mJykocHJvY2VzcykgPT0gJ3Byb2Nlc3MnKXtcbiAgICBkZWZlciA9IGZ1bmN0aW9uKGlkKXtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soY3R4KHJ1biwgaWQsIDEpKTtcbiAgICB9O1xuICAvLyBCcm93c2VycyB3aXRoIE1lc3NhZ2VDaGFubmVsLCBpbmNsdWRlcyBXZWJXb3JrZXJzXG4gIH0gZWxzZSBpZihNZXNzYWdlQ2hhbm5lbCl7XG4gICAgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbDtcbiAgICBwb3J0ICAgID0gY2hhbm5lbC5wb3J0MjtcbiAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGxpc3RlbmVyO1xuICAgIGRlZmVyID0gY3R4KHBvcnQucG9zdE1lc3NhZ2UsIHBvcnQsIDEpO1xuICAvLyBCcm93c2VycyB3aXRoIHBvc3RNZXNzYWdlLCBza2lwIFdlYldvcmtlcnNcbiAgLy8gSUU4IGhhcyBwb3N0TWVzc2FnZSwgYnV0IGl0J3Mgc3luYyAmIHR5cGVvZiBpdHMgcG9zdE1lc3NhZ2UgaXMgJ29iamVjdCdcbiAgfSBlbHNlIGlmKGdsb2JhbC5hZGRFdmVudExpc3RlbmVyICYmIHR5cGVvZiBwb3N0TWVzc2FnZSA9PSAnZnVuY3Rpb24nICYmICFnbG9iYWwuaW1wb3J0U2NyaXB0cyl7XG4gICAgZGVmZXIgPSBmdW5jdGlvbihpZCl7XG4gICAgICBnbG9iYWwucG9zdE1lc3NhZ2UoaWQgKyAnJywgJyonKTtcbiAgICB9O1xuICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgbGlzdGVuZXIsIGZhbHNlKTtcbiAgLy8gSUU4LVxuICB9IGVsc2UgaWYoT05SRUFEWVNUQVRFQ0hBTkdFIGluIGNlbCgnc2NyaXB0Jykpe1xuICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpe1xuICAgICAgaHRtbC5hcHBlbmRDaGlsZChjZWwoJ3NjcmlwdCcpKVtPTlJFQURZU1RBVEVDSEFOR0VdID0gZnVuY3Rpb24oKXtcbiAgICAgICAgaHRtbC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgcnVuLmNhbGwoaWQpO1xuICAgICAgfTtcbiAgICB9O1xuICAvLyBSZXN0IG9sZCBicm93c2Vyc1xuICB9IGVsc2Uge1xuICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpe1xuICAgICAgc2V0VGltZW91dChjdHgocnVuLCBpZCwgMSksIDApO1xuICAgIH07XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6ICAgc2V0VGFzayxcbiAgY2xlYXI6IGNsZWFyVGFza1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdGFzay5qc1xuICoqIG1vZHVsZSBpZCA9IDg1XG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCIvLyBmYXN0IGFwcGx5LCBodHRwOi8vanNwZXJmLmxua2l0LmNvbS9mYXN0LWFwcGx5LzVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4sIGFyZ3MsIHRoYXQpe1xuICB2YXIgdW4gPSB0aGF0ID09PSB1bmRlZmluZWQ7XG4gIHN3aXRjaChhcmdzLmxlbmd0aCl7XG4gICAgY2FzZSAwOiByZXR1cm4gdW4gPyBmbigpXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQpO1xuICAgIGNhc2UgMTogcmV0dXJuIHVuID8gZm4oYXJnc1swXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSk7XG4gICAgY2FzZSAyOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICBjYXNlIDM6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIGNhc2UgNDogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gIH0gcmV0dXJuICAgICAgICAgICAgICBmbi5hcHBseSh0aGF0LCBhcmdzKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2ludm9rZS5qc1xuICoqIG1vZHVsZSBpZCA9IDg2XG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCJ2YXIgZ2xvYmFsICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBtYWNyb3Rhc2sgPSByZXF1aXJlKCcuL190YXNrJykuc2V0XG4gICwgT2JzZXJ2ZXIgID0gZ2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgZ2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXJcbiAgLCBwcm9jZXNzICAgPSBnbG9iYWwucHJvY2Vzc1xuICAsIFByb21pc2UgICA9IGdsb2JhbC5Qcm9taXNlXG4gICwgaXNOb2RlICAgID0gcmVxdWlyZSgnLi9fY29mJykocHJvY2VzcykgPT0gJ3Byb2Nlc3MnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCl7XG4gIHZhciBoZWFkLCBsYXN0LCBub3RpZnk7XG5cbiAgdmFyIGZsdXNoID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgcGFyZW50LCBmbjtcbiAgICBpZihpc05vZGUgJiYgKHBhcmVudCA9IHByb2Nlc3MuZG9tYWluKSlwYXJlbnQuZXhpdCgpO1xuICAgIHdoaWxlKGhlYWQpe1xuICAgICAgZm4gICA9IGhlYWQuZm47XG4gICAgICBoZWFkID0gaGVhZC5uZXh0O1xuICAgICAgdHJ5IHtcbiAgICAgICAgZm4oKTtcbiAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIGlmKGhlYWQpbm90aWZ5KCk7XG4gICAgICAgIGVsc2UgbGFzdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9IGxhc3QgPSB1bmRlZmluZWQ7XG4gICAgaWYocGFyZW50KXBhcmVudC5lbnRlcigpO1xuICB9O1xuXG4gIC8vIE5vZGUuanNcbiAgaWYoaXNOb2RlKXtcbiAgICBub3RpZnkgPSBmdW5jdGlvbigpe1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhmbHVzaCk7XG4gICAgfTtcbiAgLy8gYnJvd3NlcnMgd2l0aCBNdXRhdGlvbk9ic2VydmVyXG4gIH0gZWxzZSBpZihPYnNlcnZlcil7XG4gICAgdmFyIHRvZ2dsZSA9IHRydWVcbiAgICAgICwgbm9kZSAgID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgIG5ldyBPYnNlcnZlcihmbHVzaCkub2JzZXJ2ZShub2RlLCB7Y2hhcmFjdGVyRGF0YTogdHJ1ZX0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ld1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uKCl7XG4gICAgICBub2RlLmRhdGEgPSB0b2dnbGUgPSAhdG9nZ2xlO1xuICAgIH07XG4gIC8vIGVudmlyb25tZW50cyB3aXRoIG1heWJlIG5vbi1jb21wbGV0ZWx5IGNvcnJlY3QsIGJ1dCBleGlzdGVudCBQcm9taXNlXG4gIH0gZWxzZSBpZihQcm9taXNlICYmIFByb21pc2UucmVzb2x2ZSl7XG4gICAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICBub3RpZnkgPSBmdW5jdGlvbigpe1xuICAgICAgcHJvbWlzZS50aGVuKGZsdXNoKTtcbiAgICB9O1xuICAvLyBmb3Igb3RoZXIgZW52aXJvbm1lbnRzIC0gbWFjcm90YXNrIGJhc2VkIG9uOlxuICAvLyAtIHNldEltbWVkaWF0ZVxuICAvLyAtIE1lc3NhZ2VDaGFubmVsXG4gIC8vIC0gd2luZG93LnBvc3RNZXNzYWdcbiAgLy8gLSBvbnJlYWR5c3RhdGVjaGFuZ2VcbiAgLy8gLSBzZXRUaW1lb3V0XG4gIH0gZWxzZSB7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24oKXtcbiAgICAgIC8vIHN0cmFuZ2UgSUUgKyB3ZWJwYWNrIGRldiBzZXJ2ZXIgYnVnIC0gdXNlIC5jYWxsKGdsb2JhbClcbiAgICAgIG1hY3JvdGFzay5jYWxsKGdsb2JhbCwgZmx1c2gpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24oZm4pe1xuICAgIHZhciB0YXNrID0ge2ZuOiBmbiwgbmV4dDogdW5kZWZpbmVkfTtcbiAgICBpZihsYXN0KWxhc3QubmV4dCA9IHRhc2s7XG4gICAgaWYoIWhlYWQpe1xuICAgICAgaGVhZCA9IHRhc2s7XG4gICAgICBub3RpZnkoKTtcbiAgICB9IGxhc3QgPSB0YXNrO1xuICB9O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbWljcm90YXNrLmpzXG4gKiogbW9kdWxlIGlkID0gODdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsInZhciBoaWRlID0gcmVxdWlyZSgnLi9faGlkZScpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih0YXJnZXQsIHNyYywgc2FmZSl7XG4gIGZvcih2YXIga2V5IGluIHNyYyl7XG4gICAgaWYoc2FmZSAmJiB0YXJnZXRba2V5XSl0YXJnZXRba2V5XSA9IHNyY1trZXldO1xuICAgIGVsc2UgaGlkZSh0YXJnZXQsIGtleSwgc3JjW2tleV0pO1xuICB9IHJldHVybiB0YXJnZXQ7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS1hbGwuanNcbiAqKiBtb2R1bGUgaWQgPSA4OFxuICoqIG1vZHVsZSBjaHVua3MgPSAxXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGdsb2JhbCAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBjb3JlICAgICAgICA9IHJlcXVpcmUoJy4vX2NvcmUnKVxuICAsIGRQICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJylcbiAgLCBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJylcbiAgLCBTUEVDSUVTICAgICA9IHJlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oS0VZKXtcbiAgdmFyIEMgPSB0eXBlb2YgY29yZVtLRVldID09ICdmdW5jdGlvbicgPyBjb3JlW0tFWV0gOiBnbG9iYWxbS0VZXTtcbiAgaWYoREVTQ1JJUFRPUlMgJiYgQyAmJiAhQ1tTUEVDSUVTXSlkUC5mKEMsIFNQRUNJRVMsIHtcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfVxuICB9KTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC1zcGVjaWVzLmpzXG4gKiogbW9kdWxlIGlkID0gODlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsInZhciBJVEVSQVRPUiAgICAgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKVxuICAsIFNBRkVfQ0xPU0lORyA9IGZhbHNlO1xuXG50cnkge1xuICB2YXIgcml0ZXIgPSBbN11bSVRFUkFUT1JdKCk7XG4gIHJpdGVyWydyZXR1cm4nXSA9IGZ1bmN0aW9uKCl7IFNBRkVfQ0xPU0lORyA9IHRydWU7IH07XG4gIEFycmF5LmZyb20ocml0ZXIsIGZ1bmN0aW9uKCl7IHRocm93IDI7IH0pO1xufSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMsIHNraXBDbG9zaW5nKXtcbiAgaWYoIXNraXBDbG9zaW5nICYmICFTQUZFX0NMT1NJTkcpcmV0dXJuIGZhbHNlO1xuICB2YXIgc2FmZSA9IGZhbHNlO1xuICB0cnkge1xuICAgIHZhciBhcnIgID0gWzddXG4gICAgICAsIGl0ZXIgPSBhcnJbSVRFUkFUT1JdKCk7XG4gICAgaXRlci5uZXh0ID0gZnVuY3Rpb24oKXsgcmV0dXJuIHtkb25lOiBzYWZlID0gdHJ1ZX07IH07XG4gICAgYXJyW0lURVJBVE9SXSA9IGZ1bmN0aW9uKCl7IHJldHVybiBpdGVyOyB9O1xuICAgIGV4ZWMoYXJyKTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuICByZXR1cm4gc2FmZTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGV0ZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gOTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=